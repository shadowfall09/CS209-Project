{"items":[{"tags":["java","javascript","ajax","json","spring"],"answers":[{"comments":[{"owner":{"account_id":311542,"reputation":16271,"user_id":625189,"accept_rate":92,"display_name":"Jaanus"},"score":0,"creation_date":1316364366,"post_id":7462343,"comment_id":9028918,"body_markdown":"I added jackson-all-1.8.5.jar to my `WEB-INF/lib` folder, but still same problem :/","body":"I added jackson-all-1.8.5.jar to my <code>WEB-INF&#47;lib</code> folder, but still same problem :/"}],"tags":[],"owner":{"account_id":247913,"reputation":1,"user_id":522963,"display_name":"joyfun"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316358424,"creation_date":1316358424,"answer_id":7462343,"question_id":7462202,"body_markdown":"make sure your have correct jackson version   in your classpath\r\n","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>make sure your have correct jackson version   in your classpath</p>\n"},{"comments":[{"owner":{"account_id":311542,"reputation":16271,"user_id":625189,"accept_rate":92,"display_name":"Jaanus"},"score":0,"creation_date":1316365365,"post_id":7462538,"comment_id":9029076,"body_markdown":"I added the headers from firebug to the main post. Are they okay?","body":"I added the headers from firebug to the main post. Are they okay?"}],"tags":[],"owner":{"account_id":109278,"reputation":9687,"user_id":289625,"accept_rate":100,"display_name":"Dave G"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316360555,"creation_date":1316360555,"answer_id":7462538,"question_id":7462202,"body_markdown":"Check as @joyfun did for the correct version of jackson but also check our headers ... Accept */* may not be transmitted by the client ... use firebug or equivalent to check what your get request is actually sending.  I think the headers attribute of the annotation /may/ be checking literals although I&#39;m not 100% sure.","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>Check as @joyfun did for the correct version of jackson but also check our headers ... Accept <em>/</em> may not be transmitted by the client ... use firebug or equivalent to check what your get request is actually sending.  I think the headers attribute of the annotation /may/ be checking literals although I'm not 100% sure.</p>\n"},{"comments":[{"owner":{"account_id":311542,"reputation":16271,"user_id":625189,"accept_rate":92,"display_name":"Jaanus"},"score":0,"creation_date":1316366839,"post_id":7463106,"comment_id":9029308,"body_markdown":"The placement of `@ResponseBody` should not matter... I will look into GSON...but still would like this JSON to work if possible.","body":"The placement of <code>@ResponseBody</code> should not matter... I will look into GSON...but still would like this JSON to work if possible."}],"tags":[],"owner":{"account_id":37187,"reputation":46693,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1316367142,"creation_date":1316366541,"answer_id":7463106,"question_id":7462202,"body_markdown":"In the controller, shouldn&#39;t the response body annotation be on the return type and not the method, like so :\r\n\r\n    @RequestMapping(value=&quot;/getTemperature/{id}&quot;, headers=&quot;Accept=*/*&quot;, method = RequestMethod.GET)\r\n    public @ResponseBody Weather getTemparature(@PathVariable(&quot;id&quot;) Integer id){\r\n        Weather weather = weatherService.getCurrentWeather(id);\r\n            return weather;\r\n    }\r\n\r\nI&#39;d also use the raw jquery.ajax function, and make sure contentType and dataType are being set correctly.\r\n\r\nOn a different note, I find the spring handling of json rather problematic. It was easier when I did it all myself using strings, and GSON.","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>In the controller, shouldn't the response body annotation be on the return type and not the method, like so :</p>\n\n<pre><code>@RequestMapping(value=\"/getTemperature/{id}\", headers=\"Accept=*/*\", method = RequestMethod.GET)\npublic @ResponseBody Weather getTemparature(@PathVariable(\"id\") Integer id){\n    Weather weather = weatherService.getCurrentWeather(id);\n        return weather;\n}\n</code></pre>\n\n<p>I'd also use the raw jquery.ajax function, and make sure contentType and dataType are being set correctly.</p>\n\n<p>On a different note, I find the spring handling of json rather problematic. It was easier when I did it all myself using strings, and GSON.</p>\n"},{"comments":[{"owner":{"account_id":311542,"reputation":16271,"user_id":625189,"accept_rate":92,"display_name":"Jaanus"},"score":0,"creation_date":1316372215,"post_id":7463508,"comment_id":9030034,"body_markdown":"I removed, but still error. Btw when I look tomcat log, then then query with this was `weatherService.getCurrentWeather(id);` &quot;activated&quot;...so something works...is it possible that 406 appears and Hibernate SQL select works in the same time?","body":"I removed, but still error. Btw when I look tomcat log, then then query with this was <code>weatherService.getCurrentWeather(id);</code> &quot;activated&quot;...so something works...is it possible that 406 appears and Hibernate SQL select works in the same time?"},{"owner":{"account_id":2703704,"reputation":167,"user_id":2333796,"accept_rate":43,"display_name":"sats"},"score":0,"creation_date":1459194090,"post_id":7463508,"comment_id":60166757,"body_markdown":"Please try this one it should work. Add this annotation on controller @RequestMapping(method = RequestMethod.GET,headers = {&quot;Accept=text/xml, application/json&quot;})","body":"Please try this one it should work. Add this annotation on controller @RequestMapping(method = RequestMethod.GET,headers = {&quot;Accept=text/xml, application/json&quot;})"}],"tags":[],"owner":{"account_id":139377,"reputation":3663,"user_id":344927,"accept_rate":100,"display_name":"stratwine"},"comment_count":2,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1316370787,"creation_date":1316370787,"answer_id":7463508,"question_id":7462202,"body_markdown":"Can you remove the headers element in @RequestMapping and try.. \r\n\r\nLike \r\n\r\n&lt;pre&gt;\r\n&lt;code&gt;\r\n@RequestMapping(value=&quot;/getTemperature/{id}&quot;, method = RequestMethod.GET)\r\n&lt;/code&gt;\r\n&lt;/pre&gt;\r\n\r\n\r\nI guess spring does an &#39;contains check&#39; rather than exact match for accept headers. But still, worth a try to remove the headers element and check.","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>Can you remove the headers element in @RequestMapping and try.. </p>\n\n<p>Like </p>\n\n<pre>\n<code>\n@RequestMapping(value=\"/getTemperature/{id}\", method = RequestMethod.GET)\n</code>\n</pre>\n\n<p>I guess spring does an 'contains check' rather than exact match for accept headers. But still, worth a try to remove the headers element and check.</p>\n"},{"tags":[],"owner":{"account_id":311542,"reputation":16271,"user_id":625189,"accept_rate":92,"display_name":"Jaanus"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1316418127,"creation_date":1316418127,"answer_id":7467775,"question_id":7462202,"body_markdown":"Finally found answer from here:\r\n\r\nhttps://stackoverflow.com/questions/2828968/mapping-restful-ajax-requests-to-spring\r\n\r\nI quote:\r\n\r\n\r\n\r\n&gt;@RequestBody/@ResponseBody annotations don&#39;t use normal view resolvers, they use their own HttpMessageConverters. In order to use these annotations, you should configure these converters in AnnotationMethodHandlerAdapter, as described in the reference (you probably need MappingJacksonHttpMessageConverter).","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>Finally found answer from here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2828968/mapping-restful-ajax-requests-to-spring\">Mapping restful ajax requests to spring</a></p>\n\n<p>I quote:</p>\n\n<blockquote>\n  <p>@RequestBody/@ResponseBody annotations don't use normal view resolvers, they use their own HttpMessageConverters. In order to use these annotations, you should configure these converters in AnnotationMethodHandlerAdapter, as described in the reference (you probably need MappingJacksonHttpMessageConverter).</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":311542,"reputation":16271,"user_id":625189,"accept_rate":92,"display_name":"Jaanus"},"score":0,"creation_date":1316430997,"post_id":7469297,"comment_id":9038805,"body_markdown":"Nope, that was not the problem, check my answer.","body":"Nope, that was not the problem, check my answer."},{"owner":{"account_id":390887,"reputation":1294,"user_id":751228,"display_name":"Villu Sepman"},"score":0,"creation_date":1316432265,"post_id":7469297,"comment_id":9039131,"body_markdown":"If configuring HttpMessageConverters manually solved your problem, then using mvc:annotation-driven would do the same as it configures the converters and HandlerAdapters(HA) automatically. Note that if you configure any HA explicitly, it will cancel all other defaults.","body":"If configuring HttpMessageConverters manually solved your problem, then using mvc:annotation-driven would do the same as it configures the converters and HandlerAdapters(HA) automatically. Note that if you configure any HA explicitly, it will cancel all other defaults."},{"owner":{"account_id":311542,"reputation":16271,"user_id":625189,"accept_rate":92,"display_name":"Jaanus"},"score":0,"creation_date":1316433539,"post_id":7469297,"comment_id":9039496,"body_markdown":"Hmm, what is that `mvc` there? I used `&lt;tx:annotation-driven /&gt;` and tx is `xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;`","body":"Hmm, what is that <code>mvc</code> there? I used <code>&lt;tx:annotation-driven &#47;&gt;</code> and tx is <code>xmlns:tx=&quot;http:&#47;&#47;www.springframework.org&#47;schema&#47;tx&quot;</code>"},{"owner":{"account_id":390887,"reputation":1294,"user_id":751228,"display_name":"Villu Sepman"},"score":0,"creation_date":1316444443,"post_id":7469297,"comment_id":9042874,"body_markdown":"xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; (http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd) `Configures the annotation-driven Spring MVC Controller programming model.`","body":"xmlns:mvc=&quot;<a href=\"http://www.springframework.org/schema/mvc\" rel=\"nofollow noreferrer\">springframework.org/schema/mvc</a>&quot; (<a href=\"http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\" rel=\"nofollow noreferrer\">springframework.org/schema/mvc/spring-mvc-3.0.xsd</a>) <code>Configures the annotation-driven Spring MVC Controller programming model.</code>"},{"owner":{"account_id":311542,"reputation":16271,"user_id":625189,"accept_rate":92,"display_name":"Jaanus"},"score":0,"creation_date":1316448810,"post_id":7469297,"comment_id":9044196,"body_markdown":"Getting this : `cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element \n &#39;mvc:annotation-driven&#39;. `","body":"Getting this : <code>cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element   &#39;mvc:annotation-driven&#39;. </code>"},{"owner":{"account_id":390887,"reputation":1294,"user_id":751228,"display_name":"Villu Sepman"},"score":1,"creation_date":1316458491,"post_id":7469297,"comment_id":9046882,"body_markdown":"You got something like:   `&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc     http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd&quot;&gt;`\nand spring-web-3.0.x and spring-webmvc-3.0.x jars?","body":"You got something like:   <code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;beans xmlns=&quot;http:&#47;&#47;www.springframework.org&#47;schema&#47;beans&quot;     xmlns:mvc=&quot;http:&#47;&#47;www.springframework.org&#47;schema&#47;mvc&quot;     xsi:schemaLocation=&quot;http:&#47;&#47;www.springframework.org&#47;schema&#47;mv&zwnj;&#8203;c     http:&#47;&#47;www.springframework.org&#47;schema&#47;mvc&#47;spring-mvc-3.0.xsd&zwnj;&#8203;&quot;&gt;</code> and spring-web-3.0.x and spring-webmvc-3.0.x jars?"},{"owner":{"account_id":311542,"reputation":16271,"user_id":625189,"accept_rate":92,"display_name":"Jaanus"},"score":1,"creation_date":1316459530,"post_id":7469297,"comment_id":9047197,"body_markdown":"Ah I didn&#39;t have that schemalocation there..but thanks, this helped me. I thought that `tx:annotation-driven` is same as `mvc:annotation-drive` or smthin.","body":"Ah I didn&#39;t have that schemalocation there..but thanks, this helped me. I thought that <code>tx:annotation-driven</code> is same as <code>mvc:annotation-drive</code> or smthin."},{"owner":{"account_id":2161237,"reputation":824,"user_id":1934111,"accept_rate":76,"display_name":"VijayD"},"score":0,"creation_date":1456385247,"post_id":7469297,"comment_id":58924191,"body_markdown":"after adding mapper jar , it worked for me but what is the role of this jar file in this solution, please explain..","body":"after adding mapper jar , it worked for me but what is the role of this jar file in this solution, please explain.."}],"tags":[],"owner":{"account_id":390887,"reputation":1294,"user_id":751228,"display_name":"Villu Sepman"},"comment_count":8,"down_vote_count":1,"up_vote_count":116,"is_accepted":true,"score":115,"last_activity_date":1430241029,"creation_date":1316427061,"answer_id":7469297,"question_id":7462202,"body_markdown":"&gt; **406 Not Acceptable**\n&gt;\n&gt; The resource identified by the request is only capable of generating response entities which have content characteristics not acceptable according to the accept headers sent in the request.\n\nSo, your request accept header is application/json and your controller is not able to return that. This happens when the correct HTTPMessageConverter can not be found to satisfy the @ResponseBody annotated return value. HTTPMessageConverter are automatically registered when you use the `&lt;mvc:annotation-driven&gt;`, given certain 3-d party libraries in the classpath.\n\nEither you don&#39;t have the correct Jackson library in your classpath, or you haven&#39;t used the \n`&lt;mvc:annotation-driven&gt;` directive.\n\nI successfully replicated your scenario and it worked fine using these two libraries and no `headers=&quot;Accept=*/*&quot;` directive.\n\n- jackson-core-asl-1.7.4.jar\n- jackson-mapper-asl-1.7.4.jar\n","title":"Spring JSON request getting 406 (not Acceptable)","body":"<blockquote>\n<p><strong>406 Not Acceptable</strong></p>\n<p>The resource identified by the request is only capable of generating response entities which have content characteristics not acceptable according to the accept headers sent in the request.</p>\n</blockquote>\n<p>So, your request accept header is application/json and your controller is not able to return that. This happens when the correct HTTPMessageConverter can not be found to satisfy the @ResponseBody annotated return value. HTTPMessageConverter are automatically registered when you use the <code>&lt;mvc:annotation-driven&gt;</code>, given certain 3-d party libraries in the classpath.</p>\n<p>Either you don't have the correct Jackson library in your classpath, or you haven't used the\n<code>&lt;mvc:annotation-driven&gt;</code> directive.</p>\n<p>I successfully replicated your scenario and it worked fine using these two libraries and no <code>headers=&quot;Accept=*/*&quot;</code> directive.</p>\n<ul>\n<li>jackson-core-asl-1.7.4.jar</li>\n<li>jackson-mapper-asl-1.7.4.jar</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":211132,"reputation":5393,"user_id":463123,"accept_rate":95,"display_name":"Anthony Jack"},"score":0,"creation_date":1379360912,"post_id":11979554,"comment_id":27787991,"body_markdown":"Thank you so much!  I&#39;m new to Spring MVC and was having a really hard time figuring out how to return JSON.  Everyone mentions missing @ResponseBody annotations and Jackson dependencies as the cause of 406 errors.  In my case, it turns out I was just missing an accessor method for a public field belonging to the object I wanted to return as JSON.","body":"Thank you so much!  I&#39;m new to Spring MVC and was having a really hard time figuring out how to return JSON.  Everyone mentions missing @ResponseBody annotations and Jackson dependencies as the cause of 406 errors.  In my case, it turns out I was just missing an accessor method for a public field belonging to the object I wanted to return as JSON."},{"owner":{"account_id":196134,"reputation":28676,"user_id":439427,"accept_rate":82,"display_name":"Rubens Mariuzzo"},"score":0,"creation_date":1427945463,"post_id":11979554,"comment_id":46984033,"body_markdown":"Thanks @kdgregory! I forgot to add getter/setter for a field. Adding them fixed this issue.","body":"Thanks @kdgregory! I forgot to add getter/setter for a field. Adding them fixed this issue."}],"tags":[],"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1345080973,"creation_date":1345080973,"answer_id":11979554,"question_id":7462202,"body_markdown":"There is another case where this status will be returned: if the Jackson mapper cannot figure out how to serialize your bean. For example, if you have two accessor methods for the same boolean property, `isFoo()` and `getFoo()`.\r\n\r\nWhat&#39;s happening is that Spring&#39;s [MappingJackson2HttpMessageConverter][1] calls Jackson&#39;s [StdSerializerProvider][2] to see if it can convert your object. At the bottom of the call chain, `StdSerializerProvider._createAndCacheUntypedSerializer` throws a `JsonMappingException` with an informative message. However, this exception is swallowed by `StdSerializerProvider._createAndCacheUntypedSerializer`, which tells Spring that it can&#39;t convert the object. Having run out of converters, Spring reports that it&#39;s not being given an `Accept` header that it can use, which of course is bogus when you&#39;re giving it `*/*`.\r\n\r\nThere is a [bug][3] for this behavior, but it was closed as &quot;cannot reproduce&quot;: the method that&#39;s being called doesn&#39;t declare that it can throw, so swallowing exceptions is apparently an appropriate solution (yes, that was sarcasm). Unfortunately, Jackson doesn&#39;t have any logging ... and there are a lot of comments in the codebase wishing it did, so I suspect this isn&#39;t the only hidden gotcha.\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/http/converter/json/MappingJackson2HttpMessageConverter.html\r\n  [2]: http://jackson.codehaus.org/1.8.8/javadoc/org/codehaus/jackson/map/ser/StdSerializerProvider.html\r\n  [3]: http://jira.codehaus.org/browse/JACKSON-694","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>There is another case where this status will be returned: if the Jackson mapper cannot figure out how to serialize your bean. For example, if you have two accessor methods for the same boolean property, <code>isFoo()</code> and <code>getFoo()</code>.</p>\n\n<p>What's happening is that Spring's <a href=\"http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/http/converter/json/MappingJackson2HttpMessageConverter.html\" rel=\"noreferrer\">MappingJackson2HttpMessageConverter</a> calls Jackson's <a href=\"http://jackson.codehaus.org/1.8.8/javadoc/org/codehaus/jackson/map/ser/StdSerializerProvider.html\" rel=\"noreferrer\">StdSerializerProvider</a> to see if it can convert your object. At the bottom of the call chain, <code>StdSerializerProvider._createAndCacheUntypedSerializer</code> throws a <code>JsonMappingException</code> with an informative message. However, this exception is swallowed by <code>StdSerializerProvider._createAndCacheUntypedSerializer</code>, which tells Spring that it can't convert the object. Having run out of converters, Spring reports that it's not being given an <code>Accept</code> header that it can use, which of course is bogus when you're giving it <code>*/*</code>.</p>\n\n<p>There is a <a href=\"http://jira.codehaus.org/browse/JACKSON-694\" rel=\"noreferrer\">bug</a> for this behavior, but it was closed as \"cannot reproduce\": the method that's being called doesn't declare that it can throw, so swallowing exceptions is apparently an appropriate solution (yes, that was sarcasm). Unfortunately, Jackson doesn't have any logging ... and there are a lot of comments in the codebase wishing it did, so I suspect this isn't the only hidden gotcha.</p>\n"},{"tags":[],"owner":{"account_id":2844343,"reputation":109,"user_id":2443166,"display_name":"Raju Rathi"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1370090961,"creation_date":1370089716,"answer_id":16872724,"question_id":7462202,"body_markdown":"Make sure that following 2 `jar`&#39;s are present in class path.\r\n\r\nIf any one or both are missing then this error will come.\r\n\r\n    jackson-core-asl-1.9.X.jar jackson-mapper-asl-1.9.X.jar\r\n","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>Make sure that following 2 <code>jar</code>'s are present in class path.</p>\n\n<p>If any one or both are missing then this error will come.</p>\n\n<pre><code>jackson-core-asl-1.9.X.jar jackson-mapper-asl-1.9.X.jar\n</code></pre>\n"},{"comments":[{"owner":{"account_id":189818,"reputation":135,"user_id":429382,"display_name":"jherranzm"},"score":0,"creation_date":1402818523,"post_id":20961113,"comment_id":37414515,"body_markdown":"Hi atott, I have the same problem and your tip about changing the extension of the request solved my problem. Thanks a lot for sharing your solution!!","body":"Hi atott, I have the same problem and your tip about changing the extension of the request solved my problem. Thanks a lot for sharing your solution!!"},{"owner":{"account_id":1904470,"reputation":302,"user_id":1719618,"display_name":"Jur_"},"score":0,"creation_date":1551017771,"post_id":20961113,"comment_id":96477232,"body_markdown":"In my case it was a rest path id with an extension in it (in the test) that caused the 406 for the same reason, while the normal controller works (even if you were to use an extension in the rest path id).","body":"In my case it was a rest path id with an extension in it (in the test) that caused the 406 for the same reason, while the normal controller works (even if you were to use an extension in the rest path id)."}],"tags":[],"owner":{"account_id":112925,"reputation":880,"user_id":297684,"display_name":"atott"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1440233321,"creation_date":1389050278,"answer_id":20961113,"question_id":7462202,"body_markdown":"I had the same problem, my controller method executes but response is Error 406.\r\nI debug `AbstractMessageConverterMethodProcessor#writeWithMessageConverters` and found that method `ContentNegotiationManager#resolveMediaTypes` always returns `text/html` which is not supported by `MappingJacksonHttpMessageConverter`. The problem is that the  `org.springframework.web.accept.ServletPathExtensionContentNegotiationStrategy` works earlier than `org.springframework.web.accept.HeaderContentNegotiationStrategy`, and extension of my request `/get-clients.html` is the cause of my problem with Error 406. I just changed request url to `/get-clients`.","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>I had the same problem, my controller method executes but response is Error 406.\nI debug <code>AbstractMessageConverterMethodProcessor#writeWithMessageConverters</code> and found that method <code>ContentNegotiationManager#resolveMediaTypes</code> always returns <code>text/html</code> which is not supported by <code>MappingJacksonHttpMessageConverter</code>. The problem is that the  <code>org.springframework.web.accept.ServletPathExtensionContentNegotiationStrategy</code> works earlier than <code>org.springframework.web.accept.HeaderContentNegotiationStrategy</code>, and extension of my request <code>/get-clients.html</code> is the cause of my problem with Error 406. I just changed request url to <code>/get-clients</code>.</p>\n"},{"tags":[],"owner":{"account_id":212002,"reputation":9879,"user_id":464552,"accept_rate":92,"display_name":"Alex Rashkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400484585,"creation_date":1400484585,"answer_id":23732043,"question_id":7462202,"body_markdown":"Other then the obvious problems I had another one that I couldn&#39;t fix regardless of including all possible JARs, dependancies and annotations in Spring servlet. Eventually I found that I have wrong file extension by that I mean I had two separate servlet running in same container and I needed to map to different file extensions where one was &quot;.do&quot; and the other as used for subscriptions was randomly named &quot;.sub&quot;. All good but SUB is valid file extension normally used for films subtitle files and thus Tomcat was overriding the header and returning something like &quot;text/x-dvd.sub...&quot; so all was fine but the application was expecting JSON but getting Subtitles thus all I had to do is change the mapping in my `web.xml` file I&#39;ve added:\r\n\r\n    &lt;mime-mapping&gt;\r\n        &lt;extension&gt;sub&lt;/extension&gt;\r\n        &lt;mime-type&gt;application/json&lt;/mime-type&gt;\r\n    &lt;/mime-mapping&gt;","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>Other then the obvious problems I had another one that I couldn't fix regardless of including all possible JARs, dependancies and annotations in Spring servlet. Eventually I found that I have wrong file extension by that I mean I had two separate servlet running in same container and I needed to map to different file extensions where one was \".do\" and the other as used for subscriptions was randomly named \".sub\". All good but SUB is valid file extension normally used for films subtitle files and thus Tomcat was overriding the header and returning something like \"text/x-dvd.sub...\" so all was fine but the application was expecting JSON but getting Subtitles thus all I had to do is change the mapping in my <code>web.xml</code> file I've added:</p>\n\n<pre><code>&lt;mime-mapping&gt;\n    &lt;extension&gt;sub&lt;/extension&gt;\n    &lt;mime-type&gt;application/json&lt;/mime-type&gt;\n&lt;/mime-mapping&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":244560,"reputation":83,"user_id":517470,"display_name":"Cotta"},"score":0,"creation_date":1433728314,"post_id":26616553,"comment_id":49458650,"body_markdown":"This answer is the Maven aware version of the top answer, and it works prefectly! Maven exceptions could be more clear about what is actually going on under the hood.","body":"This answer is the Maven aware version of the top answer, and it works prefectly! Maven exceptions could be more clear about what is actually going on under the hood."},{"owner":{"account_id":1199784,"reputation":18304,"user_id":1170677,"accept_rate":54,"display_name":"Adelin"},"score":4,"creation_date":1439928550,"post_id":26616553,"comment_id":52059474,"body_markdown":"Can you provide where this is documented on Springs Official documentation ? How can someone know that this is the problem ?","body":"Can you provide where this is documented on Springs Official documentation ? How can someone know that this is the problem ?"},{"owner":{"account_id":1843851,"reputation":3637,"user_id":1672678,"display_name":"anre"},"score":0,"creation_date":1442517711,"post_id":26616553,"comment_id":53125244,"body_markdown":"You only need to specify the dependencies to jackson-databind and jackson-mapper-asl, the other two are transitive dependencies and will be resolved anyway.","body":"You only need to specify the dependencies to jackson-databind and jackson-mapper-asl, the other two are transitive dependencies and will be resolved anyway."},{"owner":{"account_id":1394779,"reputation":692,"user_id":1324773,"display_name":"DocWatson"},"score":1,"creation_date":1446216350,"post_id":26616553,"comment_id":54665330,"body_markdown":"This only worked for me after adding the second two dependencies. Thanks.","body":"This only worked for me after adding the second two dependencies. Thanks."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1448300232,"post_id":26616553,"comment_id":55517955,"body_markdown":"You definitely don&#39;t need both. Spring will add `MappingJacksonHttpMessageConverter` for Jackson 1 and `MappingJackson2HttpMessageConverter` for Jackson 2. Each of these is good enough to serialize/deserializing JSON. You only need one (go with Jackson 2 since it&#39;s more feature rich).","body":"You definitely don&#39;t need both. Spring will add <code>MappingJacksonHttpMessageConverter</code> for Jackson 1 and <code>MappingJackson2HttpMessageConverter</code> for Jackson 2. Each of these is good enough to serialize/deserializing JSON. You only need one (go with Jackson 2 since it&#39;s more feature rich)."},{"owner":{"account_id":9608,"reputation":17506,"user_id":17832,"display_name":"JeeBee"},"score":0,"creation_date":1453117182,"post_id":26616553,"comment_id":57447089,"body_markdown":"You don&#39;t want the second two dependencies - they&#39;re jackson 1. Try jackson-annotations instead.","body":"You don&#39;t want the second two dependencies - they&#39;re jackson 1. Try jackson-annotations instead."},{"owner":{"account_id":1019182,"reputation":5905,"user_id":1030049,"accept_rate":86,"display_name":"Jarno Argillander"},"score":0,"creation_date":1469096559,"post_id":26616553,"comment_id":64402256,"body_markdown":"With Spring 4.2.4 we use jackson versions 2.6.6","body":"With Spring 4.2.4 we use jackson versions 2.6.6"},{"owner":{"account_id":2262060,"reputation":591,"user_id":1991872,"display_name":"Grayson"},"score":0,"creation_date":1471975790,"post_id":26616553,"comment_id":65563274,"body_markdown":"For me, I was just missing the jackson-databind artificat.","body":"For me, I was just missing the jackson-databind artificat."},{"owner":{"account_id":5876051,"reputation":131,"user_id":4626834,"display_name":"Kevin Sebastian Fernandez"},"score":0,"creation_date":1528007794,"post_id":26616553,"comment_id":88337874,"body_markdown":"adding the above 4 dependencies and in addition to that removing .htm from the request url resolved my issue : I am using spring 4.3.10","body":"adding the above 4 dependencies and in addition to that removing .htm from the request url resolved my issue : I am using spring 4.3.10"}],"tags":[],"owner":{"account_id":362870,"reputation":5928,"user_id":706295,"accept_rate":66,"display_name":"AKB"},"comment_count":9,"down_vote_count":1,"up_vote_count":76,"is_accepted":false,"score":75,"last_activity_date":1414523270,"creation_date":1414523270,"answer_id":26616553,"question_id":7462202,"body_markdown":"I had same issue, with Latest Spring 4.1.1 onwards you need to add following jars to pom.xml.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nalso make sure you have following jar:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n https://stackoverflow.com/questions/26615416/406-spring-mvc-json-not-acceptable-according-to-the-request-accept-headers?lq=1","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>I had same issue, with Latest Spring 4.1.1 onwards you need to add following jars to pom.xml.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.4.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.4.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>also make sure you have following jar:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\n    &lt;version&gt;1.9.13&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n    &lt;version&gt;1.9.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/26615416/406-spring-mvc-json-not-acceptable-according-to-the-request-accept-headers?lq=1\">406 Spring MVC Json, not acceptable according to the request &quot;accept&quot; headers</a></p>\n"},{"tags":[],"owner":{"account_id":898283,"reputation":1283,"user_id":935079,"accept_rate":100,"display_name":"jambriz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564576240,"creation_date":1426871359,"answer_id":29172140,"question_id":7462202,"body_markdown":"I was having the same problem because I was missing the @EnableWebMvc annotation. (All of my spring configurations are annotation-based, the XML equivalent would be mvc:annotation-driven)","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>I was having the same problem because I was missing the @EnableWebMvc annotation. (All of my spring configurations are annotation-based, the XML equivalent would be mvc:annotation-driven)</p>\n"},{"tags":[],"owner":{"account_id":1199784,"reputation":18304,"user_id":1170677,"accept_rate":54,"display_name":"Adelin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439934955,"creation_date":1439934955,"answer_id":32083234,"question_id":7462202,"body_markdown":"I had the same problem unfortunately non of the solution here solved my problem as my problem was something in a different class. \r\n\r\nI first checked that all dependencies are in place as suggested by @bekur \r\nthen I checked the request/response that travels from clients to the server all headers was in place an properly set by Jquery. \r\nI then checked the `RequestMappingHandlerAdapter` `MessageConverters` and all 7 of them were in place, I really started to hate Spring ! I then updated to from Spring `4.0.6.RELEASE` to `4.2.0.RELEASE` I have got another response rather than the above. It was `Request processing failed; nested exception is java.lang.IllegalArgumentException: No converter found for return value of type` \r\n\r\nHere is my controller method \r\n\r\n      @RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.POST,produces = &quot;application/json&quot;)\r\n        public ResponseEntity&lt;UploadPictureResult&gt; pictureUpload(FirewalledRequest initialRequest) {\r\n    \r\n            DefaultMultipartHttpServletRequest request = (DefaultMultipartHttpServletRequest) initialRequest.getRequest();\r\n    \r\n            try {\r\n                Iterator&lt;String&gt; iterator = request.getFileNames();\r\n    \r\n                while (iterator.hasNext()) {\r\n                    MultipartFile file = request.getFile(iterator.next());\r\n                    session.save(toImage(file));\r\n                }\r\n            } catch (Exception e) {\r\n                return new ResponseEntity&lt;UploadPictureResult&gt;(new UploadPictureResult(),HttpStatus.INTERNAL_SERVER_ERROR);\r\n            }\r\n            return new ResponseEntity&lt;UploadPictureResult&gt;(new UploadPictureResult(), HttpStatus.OK);\r\n        } \r\n\r\n\r\n\r\n\r\n        public class UploadPictureResult extends WebResponse{\r\n    \r\n        private List&lt;Image&gt; images;\r\n    \r\n        public void setImages(List&lt;Image&gt; images) {\r\n            this.images = images;\r\n        }\r\n    }\r\n\r\n \r\n\r\n\r\n\r\n\r\n        public class WebResponse implements Serializable {\r\n    \r\n    \r\n        protected String message;\r\n    \r\n        public WebResponse() {\r\n        }\r\n    \r\n        public WebResponse(String message) {\r\n    \r\n            this.message = message;\r\n        }\r\n    \r\n    \r\n        public void setMessage(String message) {\r\n            this.message = message;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nThe solution was to make UploadPictureResult not to extend WebResponse \r\n\r\nFor some reason spring was not able to determine the how to convert UploadPictureReslt when it extended WebResponse ","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>I had the same problem unfortunately non of the solution here solved my problem as my problem was something in a different class. </p>\n\n<p>I first checked that all dependencies are in place as suggested by @bekur \nthen I checked the request/response that travels from clients to the server all headers was in place an properly set by Jquery. \nI then checked the <code>RequestMappingHandlerAdapter</code> <code>MessageConverters</code> and all 7 of them were in place, I really started to hate Spring ! I then updated to from Spring <code>4.0.6.RELEASE</code> to <code>4.2.0.RELEASE</code> I have got another response rather than the above. It was <code>Request processing failed; nested exception is java.lang.IllegalArgumentException: No converter found for return value of type</code> </p>\n\n<p>Here is my controller method </p>\n\n<pre><code>  @RequestMapping(value = \"/upload\", method = RequestMethod.POST,produces = \"application/json\")\n    public ResponseEntity&lt;UploadPictureResult&gt; pictureUpload(FirewalledRequest initialRequest) {\n\n        DefaultMultipartHttpServletRequest request = (DefaultMultipartHttpServletRequest) initialRequest.getRequest();\n\n        try {\n            Iterator&lt;String&gt; iterator = request.getFileNames();\n\n            while (iterator.hasNext()) {\n                MultipartFile file = request.getFile(iterator.next());\n                session.save(toImage(file));\n            }\n        } catch (Exception e) {\n            return new ResponseEntity&lt;UploadPictureResult&gt;(new UploadPictureResult(),HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n        return new ResponseEntity&lt;UploadPictureResult&gt;(new UploadPictureResult(), HttpStatus.OK);\n    } \n\n\n\n\n    public class UploadPictureResult extends WebResponse{\n\n    private List&lt;Image&gt; images;\n\n    public void setImages(List&lt;Image&gt; images) {\n        this.images = images;\n    }\n}\n\n\n\n\n\n\n    public class WebResponse implements Serializable {\n\n\n    protected String message;\n\n    public WebResponse() {\n    }\n\n    public WebResponse(String message) {\n\n        this.message = message;\n    }\n\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n}\n</code></pre>\n\n<p>The solution was to make UploadPictureResult not to extend WebResponse </p>\n\n<p>For some reason spring was not able to determine the how to convert UploadPictureReslt when it extended WebResponse </p>\n"},{"comments":[{"owner":{"account_id":4217515,"reputation":8460,"user_id":3453226,"accept_rate":77,"display_name":"spongebob"},"score":2,"creation_date":1446224516,"post_id":33421872,"comment_id":54670634,"body_markdown":"While this code may answer the question, providing additional context regarding _how_ and/or _why_ it solves the problem would improve the answer&#39;s long-term value.","body":"While this code may answer the question, providing additional context regarding <i>how</i> and/or <i>why</i> it solves the problem would improve the answer&#39;s long-term value."}],"tags":[],"owner":{"account_id":1564647,"reputation":1501,"user_id":1453700,"accept_rate":36,"display_name":"Rajan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446143018,"creation_date":1446143018,"answer_id":33421872,"question_id":7462202,"body_markdown":"    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jackson-jaxrs-base&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.6.3&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Spring JSON request getting 406 (not Acceptable)","body":"<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-jaxrs-base&lt;/artifactId&gt;\n    &lt;version&gt;2.6.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7251774,"reputation":644,"user_id":5531783,"accept_rate":42,"display_name":"Crabime"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473833386,"creation_date":1473833386,"answer_id":39483537,"question_id":7462202,"body_markdown":"    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\ni don&#39;t use ssl authentication and this jackson-databind contain jackson-core.jar and jackson-databind.jar, and then change the RequestMapping content like this:\r\n\r\n    @RequestMapping(value = &quot;/id/{number}&quot;, produces = &quot;application/json; charset=UTF-8&quot;, method = RequestMethod.GET)\r\n    public @ResponseBody Customer findCustomer(@PathVariable int number){\r\n        Customer result = customerService.findById(number);\r\n        return result;\r\n    }\r\n**attention:**\r\nif your produces is not &quot;application/json&quot; type and i had not noticed this and got an 406 error, help this can help you out.","title":"Spring JSON request getting 406 (not Acceptable)","body":"<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>i don't use ssl authentication and this jackson-databind contain jackson-core.jar and jackson-databind.jar, and then change the RequestMapping content like this:</p>\n\n<pre><code>@RequestMapping(value = \"/id/{number}\", produces = \"application/json; charset=UTF-8\", method = RequestMethod.GET)\npublic @ResponseBody Customer findCustomer(@PathVariable int number){\n    Customer result = customerService.findById(number);\n    return result;\n}\n</code></pre>\n\n<p><strong>attention:</strong>\nif your produces is not \"application/json\" type and i had not noticed this and got an 406 error, help this can help you out.</p>\n"},{"tags":[],"owner":{"account_id":470553,"reputation":436,"user_id":877813,"display_name":"Raven"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495166292,"creation_date":1495166292,"answer_id":44061201,"question_id":7462202,"body_markdown":"As @atott [mentioned][1].\r\n\r\nIf you have added the latest version of Jackson in your pom.xml, and with Spring 4.0 or newer, using `@ResponseBody` on your action method and `@RequestMapping` configured with `produces=&quot;application/json;charset=utf-8&quot;`, however, you still got 406(Not Acceptable), I guess you need to try this in your MVC DispatcherServlet context configuration:\r\n\r\n\t&lt;mvc:annotation-driven content-negotiation-manager=&quot;contentNegotiationManager&quot; /&gt;\r\n\t\r\n\t&lt;bean id=&quot;contentNegotiationManager&quot; class=&quot;org.springframework.web.accept.ContentNegotiationManagerFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;favorPathExtension&quot; value=&quot;false&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\nThat&#39;s the way how I resolved my issue finally.\r\n\r\n  [1]: https://stackoverflow.com/a/20961113/877813","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>As @atott <a href=\"https://stackoverflow.com/a/20961113/877813\">mentioned</a>.</p>\n\n<p>If you have added the latest version of Jackson in your pom.xml, and with Spring 4.0 or newer, using <code>@ResponseBody</code> on your action method and <code>@RequestMapping</code> configured with <code>produces=\"application/json;charset=utf-8\"</code>, however, you still got 406(Not Acceptable), I guess you need to try this in your MVC DispatcherServlet context configuration:</p>\n\n<pre><code>&lt;mvc:annotation-driven content-negotiation-manager=\"contentNegotiationManager\" /&gt;\n\n&lt;bean id=\"contentNegotiationManager\" class=\"org.springframework.web.accept.ContentNegotiationManagerFactoryBean\"&gt;\n    &lt;property name=\"favorPathExtension\" value=\"false\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>That's the way how I resolved my issue finally.</p>\n"},{"tags":[],"owner":{"account_id":5920357,"reputation":122,"user_id":4657859,"display_name":"Anh Lam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504114582,"creation_date":1504114582,"answer_id":45966583,"question_id":7462202,"body_markdown":"check this thread.\r\nhttps://stackoverflow.com/questions/30204974/spring-mvc-restcontroller-return-json-string\r\np/s: you should add jack son mapping config to your WebMvcConfig class\r\n&gt; `@Override\r\nprotected void configureMessageConverters(\r\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n    // put the jackson converter to the front of the list so that application/json content-type strings will be treated as JSON\r\n    converters.add(new MappingJackson2HttpMessageConverter());\r\n    // and probably needs a string converter too for text/plain content-type strings to be properly handled\r\n    converters.add(new StringHttpMessageConverter());\r\n}`","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>check this thread.\n<a href=\"https://stackoverflow.com/questions/30204974/spring-mvc-restcontroller-return-json-string\">spring mvc restcontroller return json string</a>\np/s: you should add jack son mapping config to your WebMvcConfig class</p>\n\n<blockquote>\n  <p><code>@Override\n  protected void configureMessageConverters(\n          List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n      // put the jackson converter to the front of the list so that application/json content-type strings will be treated as JSON\n      converters.add(new MappingJackson2HttpMessageConverter());\n      // and probably needs a string converter too for text/plain content-type strings to be properly handled\n      converters.add(new StringHttpMessageConverter());\n  }</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6376905,"reputation":4709,"user_id":4947520,"accept_rate":0,"display_name":"Paraneetharan Saravanaperumal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518408185,"creation_date":1518408185,"answer_id":48739381,"question_id":7462202,"body_markdown":"**This is update answer for springVersion=5.0.3.RELEASE.** \r\n\r\nThose above answers will be only worked older springVersion **&lt; 4.1 version**. for latest spring you have to add following dependencies in gradle file:\r\n\r\n    compile group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-core&#39;, version: fasterxmljackson\r\n    compile group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-databind&#39;, version: fasterxmljackson\r\n\r\n    fasterxmljackson=2.9.4\r\n    \r\nI hope this will be helpful for who using latest spring version.","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p><strong>This is update answer for springVersion=5.0.3.RELEASE.</strong> </p>\n\n<p>Those above answers will be only worked older springVersion <strong>&lt; 4.1 version</strong>. for latest spring you have to add following dependencies in gradle file:</p>\n\n<pre><code>compile group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: fasterxmljackson\ncompile group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: fasterxmljackson\n\nfasterxmljackson=2.9.4\n</code></pre>\n\n<p>I hope this will be helpful for who using latest spring version.</p>\n"},{"tags":[],"owner":{"account_id":10548734,"reputation":676,"user_id":7772054,"display_name":"SHIVA"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521719623,"creation_date":1521719623,"answer_id":49428028,"question_id":7462202,"body_markdown":"Check `&lt;mvc:annotation-driven /&gt;` in dispatcherservlet.xml , if not add it.\r\nAnd add  \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nthese dependencies in your pom.xml ","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>Check <code>&lt;mvc:annotation-driven /&gt;</code> in dispatcherservlet.xml , if not add it.\nAnd add  </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\n    &lt;version&gt;1.9.13&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n    &lt;version&gt;1.9.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>these dependencies in your pom.xml </p>\n"},{"tags":[],"owner":{"account_id":5876051,"reputation":131,"user_id":4626834,"display_name":"Kevin Sebastian Fernandez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528020901,"creation_date":1528008269,"answer_id":50663933,"question_id":7462202,"body_markdown":"Spring 4.3.10:  I used the below settings to resolve the issue.\r\n\r\nStep 1: Add the below dependencies\r\n\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nStep 2: Add the below in your MVC DispatcherServlet context configuration:\r\n\r\n    &lt;mvc:annotation-driven content-negotiation-manager=&quot;contentNegotiationManager&quot;/&gt;\r\n\r\n    &lt;bean id=&quot;contentNegotiationManager&quot;\r\n    \tclass=&quot;org.springframework.web.accept.ContentNegotiationManagerFactoryBean&quot;&gt;\r\n    \t&lt;property name=&quot;favorPathExtension&quot; value=&quot;false&quot;/&gt;\r\n    \t&lt;property name=&quot;favorParameter&quot; value=&quot;true&quot;/&gt;\r\n    \t&lt;property name=&quot;ignoreAcceptHeader&quot; value=&quot;false&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\nSince spring 3.2, as per the default configuration favorPathExtension is set as true, because of this if the request uri have any proper extensions like `.htm` spring will give priority for the extension. In step 2 I had added the contentNegotiationManager bean to override this.","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>Spring 4.3.10:  I used the below settings to resolve the issue.</p>\n\n<p>Step 1: Add the below dependencies</p>\n\n<pre><code>    &lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.6.7&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.6.7&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\n    &lt;version&gt;1.9.13&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n    &lt;version&gt;1.9.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Step 2: Add the below in your MVC DispatcherServlet context configuration:</p>\n\n<pre><code>&lt;mvc:annotation-driven content-negotiation-manager=\"contentNegotiationManager\"/&gt;\n\n&lt;bean id=\"contentNegotiationManager\"\n    class=\"org.springframework.web.accept.ContentNegotiationManagerFactoryBean\"&gt;\n    &lt;property name=\"favorPathExtension\" value=\"false\"/&gt;\n    &lt;property name=\"favorParameter\" value=\"true\"/&gt;\n    &lt;property name=\"ignoreAcceptHeader\" value=\"false\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Since spring 3.2, as per the default configuration favorPathExtension is set as true, because of this if the request uri have any proper extensions like <code>.htm</code> spring will give priority for the extension. In step 2 I had added the contentNegotiationManager bean to override this.</p>\n"},{"comments":[{"owner":{"account_id":2654630,"reputation":137,"user_id":2295582,"accept_rate":50,"display_name":"juanmi"},"score":0,"creation_date":1539774869,"post_id":52653067,"comment_id":92622242,"body_markdown":"That was exactly my issue. I change my setters from public to protected and Jackson stopped working.","body":"That was exactly my issue. I change my setters from public to protected and Jackson stopped working."},{"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"score":0,"creation_date":1585348912,"post_id":52653067,"comment_id":107737762,"body_markdown":"Same problem here, I was using `AbstractMap.SimpleImmutableEntry` then downgraded to `AbstractMap.SimpleEntry`, still no dice as it doesn&#39;t have a setter for the key. Gone pojo on this.","body":"Same problem here, I was using <code>AbstractMap.SimpleImmutableEntry</code> then downgraded to <code>AbstractMap.SimpleEntry</code>, still no dice as it doesn&#39;t have a setter for the key. Gone pojo on this."}],"tags":[],"owner":{"account_id":7929469,"reputation":869,"user_id":5987851,"accept_rate":50,"display_name":"Hazel T"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1538676856,"creation_date":1538676856,"answer_id":52653067,"question_id":7462202,"body_markdown":"Probably no one is scrolling down this far, but none of the above solutions fixed it for me, but making all my getter methods `public` did.\r\n\r\nI&#39;d left my getter visibility at package-private; Jackson decided it couldn&#39;t find them and blew up. (Using `@JsonAutoDetect(getterVisibility=NON_PRIVATE)` only partially fixed it.","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>Probably no one is scrolling down this far, but none of the above solutions fixed it for me, but making all my getter methods <code>public</code> did.</p>\n\n<p>I'd left my getter visibility at package-private; Jackson decided it couldn't find them and blew up. (Using <code>@JsonAutoDetect(getterVisibility=NON_PRIVATE)</code> only partially fixed it.</p>\n"},{"tags":[],"owner":{"account_id":3265513,"reputation":1106,"user_id":2750098,"accept_rate":67,"display_name":"Riadh"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1547808181,"creation_date":1547808181,"answer_id":54252281,"question_id":7462202,"body_markdown":"Make sure that the sent object (Weather in this case) contains getter/setter","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>Make sure that the sent object (Weather in this case) contains getter/setter</p>\n"},{"tags":[],"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670518118,"creation_date":1670518118,"answer_id":74733650,"question_id":7462202,"body_markdown":"Simple answer just add Getter method in your domain/model class. &lt;br/&gt;\r\n\r\n&lt;b&gt; But Why this works ?? &lt;/b&gt;\r\n\r\nUnder the hood Spring used &lt;b&gt;HttpMessageConverters&lt;/b&gt; to convert your input JSON to Java Object.&lt;br/&gt; &lt;b&gt;The Accept header&lt;/b&gt; that is passed in the request is used to select appropriate MessageConvertor at runtime. These message convertors use getter of your domain/model class for conversion, so if there are no getter method, Marshall and unmarshall Java Objects to and from JSON will not happen, even if you add Jackson in your classpath, because even Jackson lib uses Getter methods for marshalling stuffs !!.\r\n","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>Simple answer just add Getter method in your domain/model class. <br/></p>\n<p><b> But Why this works ?? </b></p>\n<p>Under the hood Spring used <b>HttpMessageConverters</b> to convert your input JSON to Java Object.<br/> <b>The Accept header</b> that is passed in the request is used to select appropriate MessageConvertor at runtime. These message convertors use getter of your domain/model class for conversion, so if there are no getter method, Marshall and unmarshall Java Objects to and from JSON will not happen, even if you add Jackson in your classpath, because even Jackson lib uses Getter methods for marshalling stuffs !!.</p>\n"},{"tags":[],"owner":{"account_id":24300729,"reputation":11,"user_id":18244272,"display_name":"spring-developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681451675,"creation_date":1681451675,"answer_id":76011960,"question_id":7462202,"body_markdown":"For people that are still facing 406 after adding &#39;:*&#39; to path variable regex.\r\n\r\nOverride below method of WebMvcConfigurer interface in any of @Configuration class.\r\n\r\n    @Override\r\n    public void configureContentNegotiation(ContentNegotiationConfigurer configurer) {\r\n        configurer.favorPathExtension(true)\r\n                .mediaType(&quot;json&quot;, MediaType.APPLICATION_JSON)\r\n                .mediaType(&quot;xml&quot;, MediaType.APPLICATION_XML)\r\n                .mediaType(&quot;com&quot;, MediaType.APPLICATION_JSON);\r\n    }\r\n\r\nI have added &quot;com&quot; as an extension as we were using email ids for path variable, and expected a application/json response from our application.","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>For people that are still facing 406 after adding ':*' to path variable regex.</p>\n<p>Override below method of WebMvcConfigurer interface in any of @Configuration class.</p>\n<pre><code>@Override\npublic void configureContentNegotiation(ContentNegotiationConfigurer configurer) {\n    configurer.favorPathExtension(true)\n            .mediaType(&quot;json&quot;, MediaType.APPLICATION_JSON)\n            .mediaType(&quot;xml&quot;, MediaType.APPLICATION_XML)\n            .mediaType(&quot;com&quot;, MediaType.APPLICATION_JSON);\n}\n</code></pre>\n<p>I have added &quot;com&quot; as an extension as we were using email ids for path variable, and expected a application/json response from our application.</p>\n"},{"tags":[],"owner":{"account_id":16011617,"reputation":11,"user_id":11555584,"display_name":"unbuntry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688739112,"creation_date":1688547067,"answer_id":76618635,"question_id":7462202,"body_markdown":"This helps me to resolve the issue.\r\n \r\n    &lt;mvc:annotation-driven content-negotiation-manager=&quot;contentNegotiationManager&quot;/&gt;\r\n    \r\n    &lt;bean id=&quot;contentNegotiationManager&quot; \r\n     class=&quot;org.springframework.web.accept.ContentNegotiationManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;favorPathExtension&quot; value=&quot;false&quot;/&gt;\r\n        &lt;property name=&quot;favorParameter&quot; value=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;ignoreAcceptHeader&quot; value=&quot;false&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\nHowever, note that `&lt;mvc:annotation-driven /&gt;` does not include the specific configuration you had in your original snippet for content negotiation. So if you only include `&lt;mvc:annotation-driven /&gt;` and omit the `contentNegotiationManager` bean configuration, the application will use the default behavior for content negotiation. The default behavior typically includes considering the `Accept` header and, if available, the file extension in the URL to determine the media type of the response.","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>This helps me to resolve the issue.</p>\n<pre><code>&lt;mvc:annotation-driven content-negotiation-manager=&quot;contentNegotiationManager&quot;/&gt;\n\n&lt;bean id=&quot;contentNegotiationManager&quot; \n class=&quot;org.springframework.web.accept.ContentNegotiationManagerFactoryBean&quot;&gt;\n    &lt;property name=&quot;favorPathExtension&quot; value=&quot;false&quot;/&gt;\n    &lt;property name=&quot;favorParameter&quot; value=&quot;true&quot;/&gt;\n    &lt;property name=&quot;ignoreAcceptHeader&quot; value=&quot;false&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>However, note that <code>&lt;mvc:annotation-driven /&gt;</code> does not include the specific configuration you had in your original snippet for content negotiation. So if you only include <code>&lt;mvc:annotation-driven /&gt;</code> and omit the <code>contentNegotiationManager</code> bean configuration, the application will use the default behavior for content negotiation. The default behavior typically includes considering the <code>Accept</code> header and, if available, the file extension in the URL to determine the media type of the response.</p>\n"},{"tags":[],"owner":{"account_id":20034653,"reputation":37,"user_id":14686651,"display_name":"Mojtaba"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689318934,"creation_date":1689102981,"answer_id":76665130,"question_id":7462202,"body_markdown":"in spring boot: imagine that we want to return in web service method same as : \r\n\r\n    ResponseEntity.status(HttpStatus.CREATED)\r\n                        .body(myObject);\r\n    myObject class **need to** use @Data annotation from lombok pakage\r\n    \r\n    @Data\r\n    public class myClass{\r\n    ...\r\n    }","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>in spring boot: imagine that we want to return in web service method same as :</p>\n<pre><code>ResponseEntity.status(HttpStatus.CREATED)\n                    .body(myObject);\nmyObject class **need to** use @Data annotation from lombok pakage\n\n@Data\npublic class myClass{\n...\n}\n</code></pre>\n"}],"owner":{"account_id":311542,"reputation":16271,"user_id":625189,"accept_rate":92,"display_name":"Jaanus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244688,"favorite_count":0,"down_vote_count":0,"up_vote_count":91,"accepted_answer_id":7469297,"answer_count":26,"score":91,"last_activity_date":1689318934,"creation_date":1316356967,"question_id":7462202,"body_markdown":"this is my javascript:\r\n\r\n\t\tfunction getWeather() {\r\n\t\t\t$.getJSON(&#39;getTemperature/&#39; + $(&#39;.data option:selected&#39;).val(), null, function(data) {\r\n\t\t\t\talert(&#39;Success&#39;);\t\t\t\t\t\t\t\t\r\n\t\t\t});\r\n\t\t}\r\n\r\n\r\nthis is my controller:\r\n\r\n\r\n    @RequestMapping(value=&quot;/getTemperature/{id}&quot;, headers=&quot;Accept=*/*&quot;, method = RequestMethod.GET)\r\n    @ResponseBody\r\n    public Weather getTemparature(@PathVariable(&quot;id&quot;) Integer id){\r\n    \tWeather weather = weatherService.getCurrentWeather(id);\r\n    \t\treturn weather;\r\n    }\r\n\r\n\r\nspring-servlet.xml\r\n\r\n    &lt;context:annotation-config /&gt;\r\n    &lt;tx:annotation-driven /&gt;\r\n\r\n\r\nGetting this error:\r\n\r\n    GET http://localhost:8080/web/getTemperature/2 406 (Not Acceptable)\r\n\r\n\r\nHeaders:\r\n\r\n**Response Headers**\r\n\r\n    Server\tApache-Coyote/1.1\r\n    Content-Type\ttext/html;charset=utf-8\r\n    Content-Length\t1070\r\n    Date\tSun, 18 Sep 2011 17:00:35 GMT\r\n\r\n\r\n**Request Headers**\r\n\r\n    Host\tlocalhost:8080\r\n    User-Agent\tMozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0.2) Gecko/20100101 Firefox/6.0.2\r\n    Accept\tapplication/json, text/javascript, */*; q=0.01\r\n    Accept-Language\ten-us,en;q=0.5\r\n    Accept-Encoding\tgzip, deflate\r\n    Accept-Charset\tISO-8859-1,utf-8;q=0.7,*;q=0.7\r\n    Connection\tkeep-alive\r\n    X-Requested-With\tXMLHttpRequest\r\n    Referer\thttp://localhost:8080/web/weather\r\n    Cookie\tJSESSIONID=7D27FAC18050ED84B58DAFB0A51CB7E4\r\n\r\n\r\n\r\n\r\nInteresting note:\r\n\r\n**I get 406 error, but the hibernate query works meanwhile.**\r\nThis is what tomcat log says, everytime when I change selection in dropbox:\r\n\r\n     select weather0_.ID as ID0_0_, weather0_.CITY_ID as CITY2_0_0_, weather0_.DATE as DATE0_0_, weather0_.TEMP as TEMP0_0_ from WEATHER weather0_ where weather0_.ID=?\r\n\r\n\r\n\r\nWhat could the problem be? There were two similar questions in SO before, I tried all the accepted hints there, but they did not work I guess...\r\n\r\nAny suggestions? Feel free to ask questions...","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>this is my javascript:</p>\n\n<pre><code>    function getWeather() {\n        $.getJSON('getTemperature/' + $('.data option:selected').val(), null, function(data) {\n            alert('Success');                               \n        });\n    }\n</code></pre>\n\n<p>this is my controller:</p>\n\n<pre><code>@RequestMapping(value=\"/getTemperature/{id}\", headers=\"Accept=*/*\", method = RequestMethod.GET)\n@ResponseBody\npublic Weather getTemparature(@PathVariable(\"id\") Integer id){\n    Weather weather = weatherService.getCurrentWeather(id);\n        return weather;\n}\n</code></pre>\n\n<p>spring-servlet.xml</p>\n\n<pre><code>&lt;context:annotation-config /&gt;\n&lt;tx:annotation-driven /&gt;\n</code></pre>\n\n<p>Getting this error:</p>\n\n<pre><code>GET http://localhost:8080/web/getTemperature/2 406 (Not Acceptable)\n</code></pre>\n\n<p>Headers:</p>\n\n<p><strong>Response Headers</strong></p>\n\n<pre><code>Server  Apache-Coyote/1.1\nContent-Type    text/html;charset=utf-8\nContent-Length  1070\nDate    Sun, 18 Sep 2011 17:00:35 GMT\n</code></pre>\n\n<p><strong>Request Headers</strong></p>\n\n<pre><code>Host    localhost:8080\nUser-Agent  Mozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0.2) Gecko/20100101 Firefox/6.0.2\nAccept  application/json, text/javascript, */*; q=0.01\nAccept-Language en-us,en;q=0.5\nAccept-Encoding gzip, deflate\nAccept-Charset  ISO-8859-1,utf-8;q=0.7,*;q=0.7\nConnection  keep-alive\nX-Requested-With    XMLHttpRequest\nReferer http://localhost:8080/web/weather\nCookie  JSESSIONID=7D27FAC18050ED84B58DAFB0A51CB7E4\n</code></pre>\n\n<p>Interesting note:</p>\n\n<p><strong>I get 406 error, but the hibernate query works meanwhile.</strong>\nThis is what tomcat log says, everytime when I change selection in dropbox:</p>\n\n<pre><code> select weather0_.ID as ID0_0_, weather0_.CITY_ID as CITY2_0_0_, weather0_.DATE as DATE0_0_, weather0_.TEMP as TEMP0_0_ from WEATHER weather0_ where weather0_.ID=?\n</code></pre>\n\n<p>What could the problem be? There were two similar questions in SO before, I tried all the accepted hints there, but they did not work I guess...</p>\n\n<p>Any suggestions? Feel free to ask questions...</p>\n"},{"tags":["java","htmlunit"],"answers":[{"comments":[{"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"score":0,"creation_date":1689322393,"post_id":76685391,"comment_id":135199907,"body_markdown":"I&#39;m very much willing to contribute to HtmlUnit since my projects depend on it. Are you involved with HtmlUnit atm? Is there and IRC or chat group on it?","body":"I&#39;m very much willing to contribute to HtmlUnit since my projects depend on it. Are you involved with HtmlUnit atm? Is there and IRC or chat group on it?"},{"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"score":1,"creation_date":1689349417,"post_id":76685391,"comment_id":135205726,"body_markdown":"sorry no IRC or chat group - usually we use the issues for discussions and you can reach me by private mail... (have a look at the contributor list in the pom).\nAnd yes i&#39;m involved - have a look at the github commits :-)","body":"sorry no IRC or chat group - usually we use the issues for discussions and you can reach me by private mail... (have a look at the contributor list in the pom). And yes i&#39;m involved - have a look at the github commits :-)"},{"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"score":0,"creation_date":1689356590,"post_id":76685391,"comment_id":135207198,"body_markdown":"I posted the code here: https://github.com/HtmlUnit/htmlunit/issues/613","body":"I posted the code here: <a href=\"https://github.com/HtmlUnit/htmlunit/issues/613\" rel=\"nofollow noreferrer\">github.com/HtmlUnit/htmlunit/issues/613</a>"}],"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689318245,"creation_date":1689318245,"answer_id":76685391,"question_id":76683432,"body_markdown":"There are still some problems with these applications manly because of some missing DOM features (e.g. ShadowDOM) or some problems with the javascript support.\r\nBoth areas are constantly improving but we have to look at this from case to case. If you are able to open an issue pointing to a missing or misbehaving function (and maybe provide a small test case) there is a good chance to get this fixed/improved.\r\n\r\nOutside of this general problems it might be a good idea to have a look at the HtmlUnitBrowser class from the Wetator (www.wetator.org) project. This has many generic implementations you might find useful to get some ideas how you can handle common problems.\r\n\r\nhttps://github.com/Wetator/wetator/blob/master/src/main/java/org/wetator/backend/htmlunit/HtmlUnitBrowser.java\r\n\r\nE.g have a look at waitForImmediateJobs() or getCurrentPage().","title":"Using HtmlUnit to load dynamic web apps","body":"<p>There are still some problems with these applications manly because of some missing DOM features (e.g. ShadowDOM) or some problems with the javascript support.\nBoth areas are constantly improving but we have to look at this from case to case. If you are able to open an issue pointing to a missing or misbehaving function (and maybe provide a small test case) there is a good chance to get this fixed/improved.</p>\n<p>Outside of this general problems it might be a good idea to have a look at the HtmlUnitBrowser class from the Wetator (<a href=\"http://www.wetator.org\" rel=\"nofollow noreferrer\">www.wetator.org</a>) project. This has many generic implementations you might find useful to get some ideas how you can handle common problems.</p>\n<p><a href=\"https://github.com/Wetator/wetator/blob/master/src/main/java/org/wetator/backend/htmlunit/HtmlUnitBrowser.java\" rel=\"nofollow noreferrer\">https://github.com/Wetator/wetator/blob/master/src/main/java/org/wetator/backend/htmlunit/HtmlUnitBrowser.java</a></p>\n<p>E.g have a look at waitForImmediateJobs() or getCurrentPage().</p>\n"}],"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689318245,"creation_date":1689284875,"question_id":76683432,"body_markdown":"Pardon the long code, but I have been trying to make a web page loader class that can load both static and dynamic pages. The code below works fine with mostly static web pages but it won&#39;t load SPA web apps (*and the CSS selector always fail*), like apps than runs on Vue, React, GWT, etc. also websites that are gated by authentication (hence the `HttpHeaderSpec` data structure)\r\n\r\n\r\n**What could be wrong in this code:**\r\n```\r\npublic class WebPageLoader {\r\n    private static final int WEB_CLIENT_POOL_SIZE = 3;\r\n    private static final int JAVASCRIPT_WAIT_TIME = 10000;\r\n    private static final int MAX_ATTEMPTS = 3;\r\n\r\n    private final String targetUrl;\r\n    private final String cssSelector;\r\n    private final int maxAttempts;\r\n    private final HttpHeadersSpec httpHeadersSpec;\r\n    private Consumer&lt;String&gt; whenMaxAttemptsFailed;\r\n    private static final BlockingQueue&lt;WebClient&gt; webClients = new LinkedBlockingQueue&lt;&gt;();\r\n\r\n    static {\r\n        // Create and initialize 3 web clients statically\r\n        for (int i = 0; i &lt; WEB_CLIENT_POOL_SIZE; i++) {\r\n            webClients.add(createWebClient());\r\n        }\r\n    }\r\n\r\n    public WebPageLoader(String targetUrl) {\r\n        this(targetUrl, null, MAX_ATTEMPTS, null); // Default max attempts is 5\r\n    }\r\n\r\n    public WebPageLoader(String targetUrl, String cssSelector) {\r\n        this(targetUrl, cssSelector, MAX_ATTEMPTS, null); // Default max attempts is 5\r\n    }\r\n\r\n    public WebPageLoader(String targetUrl, String cssSelector, HttpHeadersSpec httpHeadersSpec) {\r\n        this(targetUrl, cssSelector, MAX_ATTEMPTS, httpHeadersSpec); // Default max attempts is 5\r\n    }\r\n\r\n    public WebPageLoader(String targetUrl, String cssSelector, int maxAttempts, HttpHeadersSpec httpHeadersSpec) {\r\n        this.targetUrl = Objects.requireNonNull(targetUrl, &quot;Target URL cannot be null&quot;);\r\n        this.cssSelector = cssSelector;\r\n        this.httpHeadersSpec = httpHeadersSpec != null ? httpHeadersSpec : new HttpHeadersSpec();\r\n        this.maxAttempts = MAX_ATTEMPTS;\r\n    }\r\n\r\n    public void whenMaxAttemptsFailed(Consumer&lt;String&gt; whenMaxAttemptsFailed) {\r\n        this.whenMaxAttemptsFailed = whenMaxAttemptsFailed;\r\n    }\r\n\r\n    public Webpage loadWebPageAfterCSSSelectorIsReady() throws InterruptedException, IOException {\r\n        WebClient webClient = getAvailableWebClient();\r\n        try {\r\n            HtmlPage page = prepareAndLoadPage(webClient);\r\n            if (cssSelector != null) waitForSelector(page);\r\n            return createWebpage(page);\r\n        } finally {\r\n            // Release the web client for reuse\r\n            releaseWebClient(webClient);\r\n        }\r\n    }\r\n\r\n    protected HtmlPage prepareAndLoadPage(WebClient webClient) throws IOException {\r\n        long startTime = System.currentTimeMillis();\r\n        String domain = LinkProcessor.getDomainName(targetUrl);\r\n\r\n        if(httpHeadersSpec != null) {\r\n            applyHttpHeaders(webClient, domain, httpHeadersSpec);\r\n        }\r\n\r\n        HtmlPage page = webClient.getPage(targetUrl);\r\n\r\n        if (httpHeadersSpec != null &amp;&amp; httpHeadersSpec.getLocal_storage() != null) {\r\n            for (StorageItemSpec item : httpHeadersSpec.getLocal_storage()) {\r\n                page.executeJavaScript(\r\n                        &quot;localStorage.setItem(&#39;&quot; + item.getKey() + &quot;&#39;, &#39;&quot; + item.getValue() + &quot;&#39;);&quot;);\r\n            }\r\n        }\r\n\r\n        // Refresh the page after loading keys to the local storage to hopefully be picked up\r\n        page.refresh();\r\n        webClient.waitForBackgroundJavaScriptStartingBefore(JAVASCRIPT_WAIT_TIME);\r\n\r\n        long endTime = System.currentTimeMillis();\r\n        long executionTime = endTime - startTime;\r\n        System.out.println(&quot;Page execution time: &quot; + executionTime + &quot; ms&quot;);\r\n\r\n        return page;\r\n    }\r\n\r\n    protected void waitForSelector(HtmlPage page) throws InterruptedException {\r\n        if (cssSelector != null) {\r\n            int attempts = 0;\r\n            while (attempts &lt; maxAttempts) {\r\n                DomNodeList&lt;DomNode&gt; elements = page.querySelectorAll(cssSelector);\r\n                if (elements.size() &gt; 0) {\r\n                    break;\r\n                }\r\n                synchronized (page) {\r\n                    page.wait(JAVASCRIPT_WAIT_TIME); // wait fox x seconds before trying again\r\n                }\r\n                attempts++;\r\n            }\r\n            if (attempts == maxAttempts) {\r\n                if (whenMaxAttemptsFailed != null) {\r\n                    whenMaxAttemptsFailed.accept(cssSelector);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    protected String getCssSelector() {\r\n        return this.cssSelector;\r\n    }\r\n\r\n    private Webpage createWebpage(HtmlPage page) {\r\n        int statusCode = page.getWebResponse().getStatusCode();\r\n        Webpage webPage = new Webpage(page.asXml(), statusCode);\r\n        webPage.setUrl(targetUrl);\r\n        return webPage;\r\n    }\r\n\r\n    // Get an available web client from the pool or create a new one if none is available\r\n    protected WebClient getAvailableWebClient() throws InterruptedException {\r\n        WebClient webClient;\r\n        synchronized (webClients) {\r\n            while (webClients.isEmpty()) {\r\n                try {\r\n                    webClients.wait();\r\n                } catch (InterruptedException e) {\r\n                    Thread.currentThread().interrupt();\r\n                }\r\n            }\r\n            webClient = webClients.take();\r\n        }\r\n        return webClient;\r\n    }\r\n\r\n    // Release the web client back to the pool for reuse\r\n    protected void releaseWebClient(WebClient webClient) {\r\n        synchronized (webClients) {\r\n            webClients.add(webClient);\r\n            webClients.notifyAll();\r\n        }\r\n    }\r\n\r\n    private static void applyHttpHeaders(WebClient webClient, String domain, HttpHeadersSpec httpHeadersSpec) {\r\n        // Apply cookies\r\n        if(httpHeadersSpec.getCookies() != null) {\r\n            httpHeadersSpec.getCookies().forEach(cookieSpec -&gt;\r\n                    webClient.getCookieManager().addCookie(new Cookie(domain, cookieSpec.getKey(), cookieSpec.getValue())));\r\n        }\r\n    }\r\n\r\n    // Create a WebClient with the desired settings\r\n    private static WebClient createWebClient() {\r\n        WebClient webClient = new WebClient(BrowserVersion.BEST_SUPPORTED);\r\n        webClient.getOptions().setUseInsecureSSL(false);\r\n        webClient.getOptions().setAppletEnabled(false);\r\n        webClient.getOptions().setDownloadImages(false);\r\n        webClient.getOptions().setPopupBlockerEnabled(true);\r\n        webClient.getOptions().setRedirectEnabled(true);\r\n        webClient.getOptions().setJavaScriptEnabled(true);\r\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n        webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n        webClient.getOptions().setPrintContentOnFailingStatusCode(false);\r\n        webClient.setJavaScriptErrorListener(new SilentJavaScriptErrorListener());\r\n        webClient.getOptions().setCssEnabled(true);\r\n        webClient.setCssErrorHandler(new SilentCssErrorHandler());\r\n        webClient.getCookieManager().setCookiesEnabled(true);\r\n        return webClient;\r\n    }\r\n}\r\n```","title":"Using HtmlUnit to load dynamic web apps","body":"<p>Pardon the long code, but I have been trying to make a web page loader class that can load both static and dynamic pages. The code below works fine with mostly static web pages but it won't load SPA web apps (<em>and the CSS selector always fail</em>), like apps than runs on Vue, React, GWT, etc. also websites that are gated by authentication (hence the <code>HttpHeaderSpec</code> data structure)</p>\n<p><strong>What could be wrong in this code:</strong></p>\n<pre><code>public class WebPageLoader {\n    private static final int WEB_CLIENT_POOL_SIZE = 3;\n    private static final int JAVASCRIPT_WAIT_TIME = 10000;\n    private static final int MAX_ATTEMPTS = 3;\n\n    private final String targetUrl;\n    private final String cssSelector;\n    private final int maxAttempts;\n    private final HttpHeadersSpec httpHeadersSpec;\n    private Consumer&lt;String&gt; whenMaxAttemptsFailed;\n    private static final BlockingQueue&lt;WebClient&gt; webClients = new LinkedBlockingQueue&lt;&gt;();\n\n    static {\n        // Create and initialize 3 web clients statically\n        for (int i = 0; i &lt; WEB_CLIENT_POOL_SIZE; i++) {\n            webClients.add(createWebClient());\n        }\n    }\n\n    public WebPageLoader(String targetUrl) {\n        this(targetUrl, null, MAX_ATTEMPTS, null); // Default max attempts is 5\n    }\n\n    public WebPageLoader(String targetUrl, String cssSelector) {\n        this(targetUrl, cssSelector, MAX_ATTEMPTS, null); // Default max attempts is 5\n    }\n\n    public WebPageLoader(String targetUrl, String cssSelector, HttpHeadersSpec httpHeadersSpec) {\n        this(targetUrl, cssSelector, MAX_ATTEMPTS, httpHeadersSpec); // Default max attempts is 5\n    }\n\n    public WebPageLoader(String targetUrl, String cssSelector, int maxAttempts, HttpHeadersSpec httpHeadersSpec) {\n        this.targetUrl = Objects.requireNonNull(targetUrl, &quot;Target URL cannot be null&quot;);\n        this.cssSelector = cssSelector;\n        this.httpHeadersSpec = httpHeadersSpec != null ? httpHeadersSpec : new HttpHeadersSpec();\n        this.maxAttempts = MAX_ATTEMPTS;\n    }\n\n    public void whenMaxAttemptsFailed(Consumer&lt;String&gt; whenMaxAttemptsFailed) {\n        this.whenMaxAttemptsFailed = whenMaxAttemptsFailed;\n    }\n\n    public Webpage loadWebPageAfterCSSSelectorIsReady() throws InterruptedException, IOException {\n        WebClient webClient = getAvailableWebClient();\n        try {\n            HtmlPage page = prepareAndLoadPage(webClient);\n            if (cssSelector != null) waitForSelector(page);\n            return createWebpage(page);\n        } finally {\n            // Release the web client for reuse\n            releaseWebClient(webClient);\n        }\n    }\n\n    protected HtmlPage prepareAndLoadPage(WebClient webClient) throws IOException {\n        long startTime = System.currentTimeMillis();\n        String domain = LinkProcessor.getDomainName(targetUrl);\n\n        if(httpHeadersSpec != null) {\n            applyHttpHeaders(webClient, domain, httpHeadersSpec);\n        }\n\n        HtmlPage page = webClient.getPage(targetUrl);\n\n        if (httpHeadersSpec != null &amp;&amp; httpHeadersSpec.getLocal_storage() != null) {\n            for (StorageItemSpec item : httpHeadersSpec.getLocal_storage()) {\n                page.executeJavaScript(\n                        &quot;localStorage.setItem('&quot; + item.getKey() + &quot;', '&quot; + item.getValue() + &quot;');&quot;);\n            }\n        }\n\n        // Refresh the page after loading keys to the local storage to hopefully be picked up\n        page.refresh();\n        webClient.waitForBackgroundJavaScriptStartingBefore(JAVASCRIPT_WAIT_TIME);\n\n        long endTime = System.currentTimeMillis();\n        long executionTime = endTime - startTime;\n        System.out.println(&quot;Page execution time: &quot; + executionTime + &quot; ms&quot;);\n\n        return page;\n    }\n\n    protected void waitForSelector(HtmlPage page) throws InterruptedException {\n        if (cssSelector != null) {\n            int attempts = 0;\n            while (attempts &lt; maxAttempts) {\n                DomNodeList&lt;DomNode&gt; elements = page.querySelectorAll(cssSelector);\n                if (elements.size() &gt; 0) {\n                    break;\n                }\n                synchronized (page) {\n                    page.wait(JAVASCRIPT_WAIT_TIME); // wait fox x seconds before trying again\n                }\n                attempts++;\n            }\n            if (attempts == maxAttempts) {\n                if (whenMaxAttemptsFailed != null) {\n                    whenMaxAttemptsFailed.accept(cssSelector);\n                }\n            }\n        }\n    }\n\n    protected String getCssSelector() {\n        return this.cssSelector;\n    }\n\n    private Webpage createWebpage(HtmlPage page) {\n        int statusCode = page.getWebResponse().getStatusCode();\n        Webpage webPage = new Webpage(page.asXml(), statusCode);\n        webPage.setUrl(targetUrl);\n        return webPage;\n    }\n\n    // Get an available web client from the pool or create a new one if none is available\n    protected WebClient getAvailableWebClient() throws InterruptedException {\n        WebClient webClient;\n        synchronized (webClients) {\n            while (webClients.isEmpty()) {\n                try {\n                    webClients.wait();\n                } catch (InterruptedException e) {\n                    Thread.currentThread().interrupt();\n                }\n            }\n            webClient = webClients.take();\n        }\n        return webClient;\n    }\n\n    // Release the web client back to the pool for reuse\n    protected void releaseWebClient(WebClient webClient) {\n        synchronized (webClients) {\n            webClients.add(webClient);\n            webClients.notifyAll();\n        }\n    }\n\n    private static void applyHttpHeaders(WebClient webClient, String domain, HttpHeadersSpec httpHeadersSpec) {\n        // Apply cookies\n        if(httpHeadersSpec.getCookies() != null) {\n            httpHeadersSpec.getCookies().forEach(cookieSpec -&gt;\n                    webClient.getCookieManager().addCookie(new Cookie(domain, cookieSpec.getKey(), cookieSpec.getValue())));\n        }\n    }\n\n    // Create a WebClient with the desired settings\n    private static WebClient createWebClient() {\n        WebClient webClient = new WebClient(BrowserVersion.BEST_SUPPORTED);\n        webClient.getOptions().setUseInsecureSSL(false);\n        webClient.getOptions().setAppletEnabled(false);\n        webClient.getOptions().setDownloadImages(false);\n        webClient.getOptions().setPopupBlockerEnabled(true);\n        webClient.getOptions().setRedirectEnabled(true);\n        webClient.getOptions().setJavaScriptEnabled(true);\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\n        webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\n        webClient.getOptions().setPrintContentOnFailingStatusCode(false);\n        webClient.setJavaScriptErrorListener(new SilentJavaScriptErrorListener());\n        webClient.getOptions().setCssEnabled(true);\n        webClient.setCssErrorHandler(new SilentCssErrorHandler());\n        webClient.getCookieManager().setCookiesEnabled(true);\n        return webClient;\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","plugins","robotframework"],"owner":{"account_id":2332713,"reputation":319,"user_id":2045688,"accept_rate":0,"display_name":"Vijay Kumar Chauhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689318240,"creation_date":1689318240,"question_id":76685389,"body_markdown":"We have been using the following plugin: \r\n\r\n    \r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.googlecode.robotframework-maven-plugin&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;robotframework-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.1.2&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;prepare-test&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;run&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;testCasesDirectory&gt;src/test/resources/robotframework/prepare&lt;/testCasesDirectory&gt;\r\n                                    &lt;tests&gt;\r\n                                        &lt;test&gt;Prepare.Prepare-Tests.Prepare NREG&lt;/test&gt;\r\n                                    &lt;/tests&gt;\r\n                                    &lt;outputDirectory&gt;target&lt;/outputDirectory&gt;\r\n                                    &lt;variables&gt;\r\n                                        &lt;variable&gt;TAGS:${tags}&lt;/variable&gt;\r\n                                        &lt;variable&gt;NOTAGS:${notags}&lt;/variable&gt;\r\n                                    &lt;/variables&gt;\r\n                                    &lt;variableFiles&gt;\r\n                                        &lt;variableFile&gt;test-data/common.py&lt;/variableFile&gt;\r\n                                        &lt;variableFile&gt;test-data/servers/${arc}.py&lt;/variableFile&gt;\r\n                                    &lt;/variableFiles&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;execute-test&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;run&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;testCasesDirectory&gt;test-data/nreg/tests&lt;/testCasesDirectory&gt;\r\n                                    &lt;outputDirectory&gt;test-data/nreg&lt;/outputDirectory&gt;\r\n                                    &lt;argumentFile&gt;test-data/nreg/tests/tags.txt&lt;/argumentFile&gt;\r\n                                    &lt;nonCriticalTags&gt;\r\n                                        &lt;nonCriticalTag&gt;TDD&lt;/nonCriticalTag&gt;\r\n                                    &lt;/nonCriticalTags&gt;\r\n                                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n\r\n\r\nWe want the test project to be migrated to Java 17. \r\nI tried using \r\n\r\n    &lt;groupId&gt;org.robotframework&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;robotframework-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.1.0&lt;/version&gt;\r\nBut, it throws an error: \r\n\r\n    [ERROR] Failed to execute goal org.robotframework:robotframework-maven-plugin:2.1.0:run (execute-test) on project tarc-robot: Invalid test data or command line options.\r\n\r\nSome of the posts on internet suggests, the testCasesDirectory can only contain robot files and not HTML files.We have a lot of HTML files generated at the testCasesDirectory location. \r\n\r\nCould someone suggests an alternative for com.googlecode.robotframework-maven-plugin: robotframework-maven-plugin which supports HTML files in testCasesDirectory or a way to make this plugin work with Java 17 ? \r\ncom.googlecode.robotframework-maven-plugin: robotframework-maven-plugin needs tools jar version 1.6, which is no longer present in Java 17 but was present in Java 8.","title":"What is the Java 17 alternative for com.googlecode.robotframework-maven-plugin : robotframework-maven-plugin?","body":"<p>We have been using the following plugin:</p>\n<pre><code>                &lt;plugin&gt;\n                    &lt;groupId&gt;com.googlecode.robotframework-maven-plugin&lt;/groupId&gt;\n                    &lt;artifactId&gt;robotframework-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.1.2&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;prepare-test&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;run&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;testCasesDirectory&gt;src/test/resources/robotframework/prepare&lt;/testCasesDirectory&gt;\n                                &lt;tests&gt;\n                                    &lt;test&gt;Prepare.Prepare-Tests.Prepare NREG&lt;/test&gt;\n                                &lt;/tests&gt;\n                                &lt;outputDirectory&gt;target&lt;/outputDirectory&gt;\n                                &lt;variables&gt;\n                                    &lt;variable&gt;TAGS:${tags}&lt;/variable&gt;\n                                    &lt;variable&gt;NOTAGS:${notags}&lt;/variable&gt;\n                                &lt;/variables&gt;\n                                &lt;variableFiles&gt;\n                                    &lt;variableFile&gt;test-data/common.py&lt;/variableFile&gt;\n                                    &lt;variableFile&gt;test-data/servers/${arc}.py&lt;/variableFile&gt;\n                                &lt;/variableFiles&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;execute-test&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;run&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;testCasesDirectory&gt;test-data/nreg/tests&lt;/testCasesDirectory&gt;\n                                &lt;outputDirectory&gt;test-data/nreg&lt;/outputDirectory&gt;\n                                &lt;argumentFile&gt;test-data/nreg/tests/tags.txt&lt;/argumentFile&gt;\n                                &lt;nonCriticalTags&gt;\n                                    &lt;nonCriticalTag&gt;TDD&lt;/nonCriticalTag&gt;\n                                &lt;/nonCriticalTags&gt;\n                                &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n</code></pre>\n<p>We want the test project to be migrated to Java 17.\nI tried using</p>\n<pre><code>&lt;groupId&gt;org.robotframework&lt;/groupId&gt;\n                    &lt;artifactId&gt;robotframework-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.1.0&lt;/version&gt;\n</code></pre>\n<p>But, it throws an error:</p>\n<pre><code>[ERROR] Failed to execute goal org.robotframework:robotframework-maven-plugin:2.1.0:run (execute-test) on project tarc-robot: Invalid test data or command line options.\n</code></pre>\n<p>Some of the posts on internet suggests, the testCasesDirectory can only contain robot files and not HTML files.We have a lot of HTML files generated at the testCasesDirectory location.</p>\n<p>Could someone suggests an alternative for com.googlecode.robotframework-maven-plugin: robotframework-maven-plugin which supports HTML files in testCasesDirectory or a way to make this plugin work with Java 17 ?\ncom.googlecode.robotframework-maven-plugin: robotframework-maven-plugin needs tools jar version 1.6, which is no longer present in Java 17 but was present in Java 8.</p>\n"},{"tags":["java","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":2510127,"reputation":4952,"user_id":2182809,"accept_rate":65,"display_name":"Nimila Hiranya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689317970,"creation_date":1689317970,"answer_id":76685358,"question_id":76685170,"body_markdown":"For now I built the following method to manually extract the values to a map.\r\n\r\n    private Map&lt;String, String&gt; buildResponseMapFromString(String response) {\r\n            Map&lt;String, String&gt; saleResponse = new HashMap&lt;&gt;();\r\n            try {\r\n                String[] responseArray = response.split(&quot;&amp;&quot;);\r\n                for (String s : responseArray) {\r\n                    String[] keyValue = s.split(&quot;=&quot;);\r\n                    if (keyValue.length == 2) {\r\n                        saleResponse.put(keyValue[0], keyValue[1]);\r\n                    } else {\r\n                        saleResponse.put(keyValue[0], &quot;&quot;);\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                logger.error(&quot;Error while parsing response map from Response String&quot;, e);\r\n            }\r\n            return saleResponse;\r\n    }\r\n\r\nIf there&#39;s a better, elegant solution, please do go ahead.","title":"Unmarshalling Parameterized URL String Return Type with Rest Template","body":"<p>For now I built the following method to manually extract the values to a map.</p>\n<pre><code>private Map&lt;String, String&gt; buildResponseMapFromString(String response) {\n        Map&lt;String, String&gt; saleResponse = new HashMap&lt;&gt;();\n        try {\n            String[] responseArray = response.split(&quot;&amp;&quot;);\n            for (String s : responseArray) {\n                String[] keyValue = s.split(&quot;=&quot;);\n                if (keyValue.length == 2) {\n                    saleResponse.put(keyValue[0], keyValue[1]);\n                } else {\n                    saleResponse.put(keyValue[0], &quot;&quot;);\n                }\n            }\n        } catch (Exception e) {\n            logger.error(&quot;Error while parsing response map from Response String&quot;, e);\n        }\n        return saleResponse;\n}\n</code></pre>\n<p>If there's a better, elegant solution, please do go ahead.</p>\n"}],"owner":{"account_id":2510127,"reputation":4952,"user_id":2182809,"accept_rate":65,"display_name":"Nimila Hiranya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689317970,"creation_date":1689316022,"question_id":76685170,"body_markdown":"I&#39;m running an `application/x-www-form-urlencoded` POST and getting the following as the response.\r\n\r\n    response=3&amp;responsetext=1006: The specified transaction in the request is not allowed: REJECTED CONTACT CUST SERV\r\n    REFID:1202053070&amp;authcode=&amp;transactionid=&amp;avsresponse=&amp;cvvresponse=&amp;orderid=&amp;type=sale&amp;response_code=300&amp;masked_merchant_number=\r\n\r\nCurrently, I&#39;m capturing the response as a String from the `RestTemplate.postForEntity` method.\r\n\r\nHow can I capture this response into an object/map? A map would be ideal since the parameters tend to change according success/failure responses.","title":"Unmarshalling Parameterized URL String Return Type with Rest Template","body":"<p>I'm running an <code>application/x-www-form-urlencoded</code> POST and getting the following as the response.</p>\n<pre><code>response=3&amp;responsetext=1006: The specified transaction in the request is not allowed: REJECTED CONTACT CUST SERV\nREFID:1202053070&amp;authcode=&amp;transactionid=&amp;avsresponse=&amp;cvvresponse=&amp;orderid=&amp;type=sale&amp;response_code=300&amp;masked_merchant_number=\n</code></pre>\n<p>Currently, I'm capturing the response as a String from the <code>RestTemplate.postForEntity</code> method.</p>\n<p>How can I capture this response into an object/map? A map would be ideal since the parameters tend to change according success/failure responses.</p>\n"},{"tags":["java","spring","dto","mapstruct"],"comments":[{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1689489773,"post_id":76685343,"comment_id":135218846,"body_markdown":"Can you please share the generated code of the MediationMapper?","body":"Can you please share the generated code of the MediationMapper?"}],"owner":{"account_id":29015202,"reputation":1,"user_id":22225781,"display_name":"Anıl İlağa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689317825,"creation_date":1689317825,"question_id":76685343,"body_markdown":"I am trying to use mappers for subclasses. I have a Person that has 2 subclasses and another class that has 2 Person instances. I am having problems at mapping objects using mapstruct and Spring-boot.\r\n\r\nI have these entities:\r\n\r\n```\r\npublic class Person extends BaseEntityAudit {\r\n    private String name;\r\n    private String address;\r\n    private String phoneNo;\r\n}\r\n\r\npublic class RealPerson extends Person {\r\n\r\n    private String identificationNo;\r\n}\r\n\r\npublic class LegalPerson extends Person {\r\n    private String taxNo;\r\n}\r\n\r\npublic class Mediation extends BaseEntityAudit {\r\n\r\n  \r\n      \r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = {CascadeType.DETACH,\r\n            CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n    @JoinColumn(name = &quot;first_party_id&quot;, nullable = false)\r\n    private Person firstParty;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = {CascadeType.DETACH,\r\n            CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n    @JoinColumn(name = &quot;second_party_id&quot;, nullable = false)\r\n    private Person secondParty;\r\n    //...\r\n}\r\n```\r\n\r\nAnd my mappers are:\r\n```\r\n@Mapper(subclassExhaustiveStrategy = SubclassExhaustiveStrategy.RUNTIME_EXCEPTION, uses = { RepresentativeMapper.class})\r\npublic interface PersonMapper {\r\n\r\n    PersonMapper INSTANCE = Mappers.getMapper(PersonMapper.class);\r\n\r\n    @SubclassMapping(target=RealPersonDto.class, source= RealPerson.class)\r\n    @SubclassMapping(target=LegalPersonDto.class, source= LegalPerson.class)\r\n    @Mapping(target = &quot;representativeDto&quot;, source = &quot;representative&quot;)\r\n    PersonDto toDto(Person person);\r\n\r\n    @Mapping(target = &quot;representativeDto&quot;, source = &quot;representative&quot;)\r\n    LegalPersonDto toDto(LegalPerson legalPerson);\r\n\r\n    @Mapping(target = &quot;representativeDto&quot;, source = &quot;representative&quot;)\r\n    RealPersonDto toDto(RealPerson realPerson);\r\n}\r\n@Mapper(uses = { PersonMapper.class })\r\npublic interface MediationMapper {\r\n\r\n    MediationMapper INSTANCE = Mappers.getMapper(MediationMapper.class);\r\n\r\n    @Mapping(target = &quot;firstPartyDto&quot;, source = &quot;firstParty&quot;, qualifiedByName = &quot;toDto&quot;)\r\n    @Mapping(target = &quot;secondPartyDto&quot;, source = &quot;secondParty&quot;, qualifiedByName = &quot;toDto&quot;)\r\n    @Mapping(target = &quot;id&quot;, source = &quot;id&quot;)\r\n    MediationDto toDto(Mediation mediation);\r\n\r\n    Mediation toEntity(MediationDto mediationDto);\r\n\r\n    List&lt;MediationDto&gt; toDtoList(List&lt;Mediation&gt; mediations);\r\n}\r\n```\r\n\r\nI created a controller for both mediation and person. When I get all person objects I get them with the specific fields according to realPerson/legalPerson values. But when I use mediatiation&#39;s controller that has the mediationMapper I do not get these fields I rather get person dto&#39;s fields only.","title":"Mapstruct Subclass Mapping","body":"<p>I am trying to use mappers for subclasses. I have a Person that has 2 subclasses and another class that has 2 Person instances. I am having problems at mapping objects using mapstruct and Spring-boot.</p>\n<p>I have these entities:</p>\n<pre><code>public class Person extends BaseEntityAudit {\n    private String name;\n    private String address;\n    private String phoneNo;\n}\n\npublic class RealPerson extends Person {\n\n    private String identificationNo;\n}\n\npublic class LegalPerson extends Person {\n    private String taxNo;\n}\n\npublic class Mediation extends BaseEntityAudit {\n\n  \n      \n    @ManyToOne(fetch = FetchType.LAZY, cascade = {CascadeType.DETACH,\n            CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    @JoinColumn(name = &quot;first_party_id&quot;, nullable = false)\n    private Person firstParty;\n\n    @ManyToOne(fetch = FetchType.LAZY, cascade = {CascadeType.DETACH,\n            CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    @JoinColumn(name = &quot;second_party_id&quot;, nullable = false)\n    private Person secondParty;\n    //...\n}\n</code></pre>\n<p>And my mappers are:</p>\n<pre><code>@Mapper(subclassExhaustiveStrategy = SubclassExhaustiveStrategy.RUNTIME_EXCEPTION, uses = { RepresentativeMapper.class})\npublic interface PersonMapper {\n\n    PersonMapper INSTANCE = Mappers.getMapper(PersonMapper.class);\n\n    @SubclassMapping(target=RealPersonDto.class, source= RealPerson.class)\n    @SubclassMapping(target=LegalPersonDto.class, source= LegalPerson.class)\n    @Mapping(target = &quot;representativeDto&quot;, source = &quot;representative&quot;)\n    PersonDto toDto(Person person);\n\n    @Mapping(target = &quot;representativeDto&quot;, source = &quot;representative&quot;)\n    LegalPersonDto toDto(LegalPerson legalPerson);\n\n    @Mapping(target = &quot;representativeDto&quot;, source = &quot;representative&quot;)\n    RealPersonDto toDto(RealPerson realPerson);\n}\n@Mapper(uses = { PersonMapper.class })\npublic interface MediationMapper {\n\n    MediationMapper INSTANCE = Mappers.getMapper(MediationMapper.class);\n\n    @Mapping(target = &quot;firstPartyDto&quot;, source = &quot;firstParty&quot;, qualifiedByName = &quot;toDto&quot;)\n    @Mapping(target = &quot;secondPartyDto&quot;, source = &quot;secondParty&quot;, qualifiedByName = &quot;toDto&quot;)\n    @Mapping(target = &quot;id&quot;, source = &quot;id&quot;)\n    MediationDto toDto(Mediation mediation);\n\n    Mediation toEntity(MediationDto mediationDto);\n\n    List&lt;MediationDto&gt; toDtoList(List&lt;Mediation&gt; mediations);\n}\n</code></pre>\n<p>I created a controller for both mediation and person. When I get all person objects I get them with the specific fields according to realPerson/legalPerson values. But when I use mediatiation's controller that has the mediationMapper I do not get these fields I rather get person dto's fields only.</p>\n"},{"tags":["java","json","string"],"comments":[{"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"score":0,"creation_date":1689294938,"post_id":76683759,"comment_id":135196845,"body_markdown":"You can try something like this: `String responseString = new BasicResponseHandler().handleResponse(response);`","body":"You can try something like this: <code>String responseString = new BasicResponseHandler().handleResponse(response);</code>"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1689298576,"post_id":76683759,"comment_id":135197148,"body_markdown":"what does response.getEntity() look like? is it possible to cut it out if it is the one causing your string to go haywire?","body":"what does response.getEntity() look like? is it possible to cut it out if it is the one causing your string to go haywire?"}],"answers":[{"tags":[],"owner":{"account_id":25287581,"reputation":1,"user_id":19114239,"display_name":"Hasan Po&#39;latov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689317337,"creation_date":1689317254,"answer_id":76685299,"question_id":76683759,"body_markdown":"I think you can try [Gson][1] library. It is library for java which works with Json.\r\n\r\n\r\n  [1]: https://github.com/google/gson","title":"Import JSON data to Java without escape characters","body":"<p>I think you can try <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a> library. It is library for java which works with Json.</p>\n"}],"owner":{"account_id":20821629,"reputation":75,"user_id":19355037,"display_name":"Tydal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689317337,"creation_date":1689289220,"question_id":76683759,"body_markdown":"I&#39;m currently importing Json from a .json webpage using an HttpResponse. I then use `String Json = EntityUtils.toString(response.getEntity())` to get the Json data as a String.\r\n\r\nHowever, this messes up the format of my String, and it ends up looking like this:\r\n\r\n    \\&quot;{\\\\n    fault: &#39;&#39;,\\\\n    width: 2800,\\\\n    height: 1400\\\\n. \r\n\r\nDue to the extra escape characters that were added, I&#39;m unable to parse it how I would like. \r\n\r\nIs there a way to import the Json without Java messing up the format and automatically extra escape characters?","title":"Import JSON data to Java without escape characters","body":"<p>I'm currently importing Json from a .json webpage using an HttpResponse. I then use <code>String Json = EntityUtils.toString(response.getEntity())</code> to get the Json data as a String.</p>\n<p>However, this messes up the format of my String, and it ends up looking like this:</p>\n<pre><code>\\&quot;{\\\\n    fault: '',\\\\n    width: 2800,\\\\n    height: 1400\\\\n. \n</code></pre>\n<p>Due to the extra escape characters that were added, I'm unable to parse it how I would like.</p>\n<p>Is there a way to import the Json without Java messing up the format and automatically extra escape characters?</p>\n"},{"tags":["java","python","google-app-engine","google-cloud-platform","google-app-engine-python"],"comments":[{"owner":{"account_id":119781,"reputation":40589,"user_id":311744,"accept_rate":45,"display_name":"Benjamin Crouzier"},"score":0,"creation_date":1310727141,"post_id":1085898,"comment_id":7938001,"body_markdown":"now [Google App Engine is supporting](http://code.google.com/appengine/docs/) Go (experimental). What&#39;s your toughts about that ?","body":"now <a href=\"http://code.google.com/appengine/docs/\" rel=\"nofollow noreferrer\">Google App Engine is supporting</a> Go (experimental). What&#39;s your toughts about that ?"},{"owner":{"account_id":6214032,"reputation":1332,"user_id":4839438,"display_name":"Michele Giuseppe Fadda"},"score":0,"creation_date":1448484105,"post_id":1085898,"comment_id":55612954,"body_markdown":"@pinouchon I&#39;ve started using Go, and deployed that in production on GAE. GO works very well on GAE, compiles in a few seconds. Choose your web framework wisely :-)","body":"@pinouchon I&#39;ve started using Go, and deployed that in production on GAE. GO works very well on GAE, compiles in a few seconds. Choose your web framework wisely :-)"}],"answers":[{"comments":[{"owner":{"account_id":43750,"reputation":18014,"user_id":128028,"accept_rate":86,"display_name":"Viet"},"score":0,"creation_date":1246868209,"post_id":1085929,"comment_id":899357,"body_markdown":"Thanks for the prompt reply, Brian. I intend to focus application on url fetching and XML parsing &amp; XSLT processing. There will be less of serving HTTP content to browsers.","body":"Thanks for the prompt reply, Brian. I intend to focus application on url fetching and XML parsing &amp; XSLT processing. There will be less of serving HTTP content to browsers."}],"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1246875974,"creation_date":1246867988,"answer_id":1085929,"question_id":1085898,"body_markdown":"As you&#39;ve identified, using a JVM doesn&#39;t restrict you to using the Java language. A list of JVM languages and links can be found [here][2]. *However*, the Google App Engine does restrict the set of classes you can use from the normal Java SE set, and you will want to investigate if any of these implementations can be used on the app engine.\r\n\r\nEDIT: I see you&#39;ve found such a list\r\n\r\nI can&#39;t comment on the performance of Python. However, the JVM is a very powerful platform performance-wise, given its ability to dynamically compile and optimise code during the run time.\r\n\r\nUltimately performance will depend on what your application does, and how you code it. In the absence of further info, I think it&#39;s not possible to give any more pointers in this area.\r\n\r\n\r\n  [1]: http://www.jython.org/\r\n  [2]: http://en.wikipedia.org/wiki/List_of_JVM_languages","title":"Choosing Java vs Python on Google App Engine","body":"<p>As you've identified, using a JVM doesn't restrict you to using the Java language. A list of JVM languages and links can be found <a href=\"http://en.wikipedia.org/wiki/List_of_JVM_languages\" rel=\"nofollow noreferrer\">here</a>. <em>However</em>, the Google App Engine does restrict the set of classes you can use from the normal Java SE set, and you will want to investigate if any of these implementations can be used on the app engine.</p>\n\n<p>EDIT: I see you've found such a list</p>\n\n<p>I can't comment on the performance of Python. However, the JVM is a very powerful platform performance-wise, given its ability to dynamically compile and optimise code during the run time.</p>\n\n<p>Ultimately performance will depend on what your application does, and how you code it. In the absence of further info, I think it's not possible to give any more pointers in this area.</p>\n"},{"comments":[{"owner":{"account_id":43750,"reputation":18014,"user_id":128028,"accept_rate":86,"display_name":"Viet"},"score":0,"creation_date":1246874386,"post_id":1086259,"comment_id":899712,"body_markdown":"Thank you Judy2K! By power I mean can do more things and easy to extend.","body":"Thank you Judy2K! By power I mean can do more things and easy to extend."}],"tags":[],"owner":{"account_id":878748,"reputation":805,"user_id":133596,"display_name":"Judy2K"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1246873712,"creation_date":1246873712,"answer_id":1086259,"question_id":1085898,"body_markdown":"Based on experience with running these VMs on other platforms, I&#39;d say that you&#39;ll probably get more raw performance out of Java than Python.  Don&#39;t underestimate Python&#39;s selling points, however: The Python language is much more productive in terms of lines of code - the general agreement is that Python requires a third of the code of an equivalent Java program, while remaining as or more readable.  This benefit is multiplied by the ability to run code immediately without an explicit compile step.\r\n\r\nWith regards to available libraries, you&#39;ll find that much of the extensive Python runtime library works out of the box (as does Java&#39;s). The popular Django Web framework (http://www.djangoproject.com/) is also supported on AppEngine.\r\n\r\nWith regards to &#39;power&#39;, it&#39;s difficult to know what you mean, but Python is used in many different domains, especially the Web: YouTube is written in Python, as is Sourceforge (as of last week).","title":"Choosing Java vs Python on Google App Engine","body":"<p>Based on experience with running these VMs on other platforms, I'd say that you'll probably get more raw performance out of Java than Python.  Don't underestimate Python's selling points, however: The Python language is much more productive in terms of lines of code - the general agreement is that Python requires a third of the code of an equivalent Java program, while remaining as or more readable.  This benefit is multiplied by the ability to run code immediately without an explicit compile step.</p>\n\n<p>With regards to available libraries, you'll find that much of the extensive Python runtime library works out of the box (as does Java's). The popular Django Web framework (<a href=\"http://www.djangoproject.com/\" rel=\"noreferrer\">http://www.djangoproject.com/</a>) is also supported on AppEngine.</p>\n\n<p>With regards to 'power', it's difficult to know what you mean, but Python is used in many different domains, especially the Web: YouTube is written in Python, as is Sourceforge (as of last week).</p>\n"},{"comments":[{"owner":{"account_id":41095,"reputation":14067,"user_id":119365,"accept_rate":61,"display_name":"Peter Recore"},"score":9,"creation_date":1246906592,"post_id":1087878,"comment_id":902259,"body_markdown":"GWT is primarily a client side technology - you can use it regardless of whether your back end is python or java.  You lose a bit of syntactic sugar by having to do rpc over JSON rather than GWT&#39;s built in RPC, but if you hate JS and do python it&#39;s still worth a look :)","body":"GWT is primarily a client side technology - you can use it regardless of whether your back end is python or java.  You lose a bit of syntactic sugar by having to do rpc over JSON rather than GWT&#39;s built in RPC, but if you hate JS and do python it&#39;s still worth a look :)"},{"owner":{"account_id":71337,"reputation":26066,"user_id":206417,"accept_rate":71,"display_name":"Dave Kirby"},"score":9,"creation_date":1271237186,"post_id":1087878,"comment_id":2650163,"body_markdown":"There is Pyjamas (http://pyjs.org/) as a Pythonic alternative to GWT - it will take Python code and compile it to Javascript, just as GWT does for Java code.","body":"There is Pyjamas (<a href=\"http://pyjs.org/\" rel=\"nofollow noreferrer\">pyjs.org</a>) as a Pythonic alternative to GWT - it will take Python code and compile it to Javascript, just as GWT does for Java code."},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":7,"creation_date":1411153564,"post_id":1087878,"comment_id":40611827,"body_markdown":"Just to give a &quot;5 years later&quot; perspective. As a Java Developer I feel like GAE is running an outdated stack. You will not find [Java 8 support](https://code.google.com/p/googleappengine/issues/detail?id=9537), ([they are running Java 6](http://wanlatency.appspot.com/wantestgoogle) as well as legacy Jetty 6 container with [Servlet API 2.5](https://code.google.com/p/googleappengine/issues/detail?id=3091)), all in all Java Support in GAE is still stuck in 2010. While I love GAE simplicity and Google Powerful Services, I can&#39;t recommend GAE for Java until they upgrade its stack.","body":"Just to give a &quot;5 years later&quot; perspective. As a Java Developer I feel like GAE is running an outdated stack. You will not find <a href=\"https://code.google.com/p/googleappengine/issues/detail?id=9537\" rel=\"nofollow noreferrer\">Java 8 support</a>, (<a href=\"http://wanlatency.appspot.com/wantestgoogle\" rel=\"nofollow noreferrer\">they are running Java 6</a> as well as legacy Jetty 6 container with <a href=\"https://code.google.com/p/googleappengine/issues/detail?id=3091\" rel=\"nofollow noreferrer\">Servlet API 2.5</a>), all in all Java Support in GAE is still stuck in 2010. While I love GAE simplicity and Google Powerful Services, I can&#39;t recommend GAE for Java until they upgrade its stack."}],"tags":[],"owner":{"account_id":34048,"reputation":860893,"user_id":95810,"accept_rate":80,"display_name":"Alex Martelli"},"comment_count":3,"down_vote_count":2,"up_vote_count":125,"is_accepted":true,"score":123,"last_activity_date":1246897030,"creation_date":1246897030,"answer_id":1087878,"question_id":1085898,"body_markdown":"I&#39;m biased (being a Python expert but pretty rusty in Java) but I think the Python runtime of GAE is currently more advanced and better developed than the Java runtime -- the former has had one extra year to develop and mature, after all.\r\n\r\nHow things will proceed going forward is of course hard to predict -- demand is probably stronger on the Java side (especially since it&#39;s not just about Java, but other languages perched on top of the JVM too, so it&#39;s THE way to run e.g. PHP or Ruby code on App Engine); the Python App Engine team however does have the advantage of having on board Guido van Rossum, the inventor of Python and an amazingly strong engineer.\r\n\r\nIn terms of flexibility, the Java engine, as already mentioned, does offer the possibility of running JVM bytecode made by different languages, not just Java -- if you&#39;re in a multi-language shop that&#39;s a pretty large positive. Vice versa, if you loathe Javascript but must execute some code in the user&#39;s browser, Java&#39;s GWT (generating the Javascript for you from your Java-level coding) is far richer and more advanced than Python-side alternatives (in practice, if you choose Python, you&#39;ll be writing some JS yourself for this purpose, while if you choose Java GWT is a usable alternative if you loathe writing JS).\r\n\r\nIn terms of libraries it&#39;s pretty much a wash -- the JVM is restricted enough (no threads, no custom class loaders, no JNI, no relational DB) to hamper the simple reuse of existing Java libraries as much, or more, than existing Python libraries are similarly hampered by the similar restrictions on the Python runtime.\r\n\r\nIn terms of performance, I think it&#39;s a wash, though you should benchmark on tasks of your own -- don&#39;t rely on the performance of highly optimized JIT-based JVM implementations discounting their large startup times and memory footprints, because the app engine environment is very different (startup costs will be paid often, as instances of your app are started, stopped, moved to different hosts, etc, all trasparently to you -- such events are typically much cheaper with Python runtime environments than with JVMs).\r\n\r\nThe XPath/XSLT situation (to be euphemistic...) is not exactly perfect on either side, sigh, though I think it may be a tad less bad in the JVM (where, apparently, substantial subsets of Saxon can be made to run, with some care). I think it&#39;s worth opening issues on the [Appengine Issues][1] page with XPath and XSLT in their titles -- right now there are only issues asking for specific libraries, and that&#39;s myopic: I don&#39;t really care HOW a good XPath/XSLT is implemented, for Python and/or for Java, as long as I get to use it. (Specific libraries may ease migration of existing code, but that&#39;s less important than being able to perform such tasks as &quot;rapidly apply XSLT transformation&quot; in SOME way!-). I know I&#39;d star such an issue if well phrased (especially in a language-independent way).\r\n\r\nLast but not least: remember that you can have different version of your app (using the same datastore) some of which are implemented with the Python runtime, some with the Java runtime, and you can access versions that differ from the &quot;default/active&quot; one with explicit URLs. So you could have both Python _and_ Java code (in different versions of your app) use and modify the same data store, granting you even more flexibility (though only one will have the &quot;nice&quot; URL such as foobar.appspot.com -- which is probably important only for access by interactive users on browsers, I imagine;-).\r\n\r\n\r\n\r\n  [1]: http://code.google.com/p/googleappengine/issues/list","title":"Choosing Java vs Python on Google App Engine","body":"<p>I'm biased (being a Python expert but pretty rusty in Java) but I think the Python runtime of GAE is currently more advanced and better developed than the Java runtime -- the former has had one extra year to develop and mature, after all.</p>\n\n<p>How things will proceed going forward is of course hard to predict -- demand is probably stronger on the Java side (especially since it's not just about Java, but other languages perched on top of the JVM too, so it's THE way to run e.g. PHP or Ruby code on App Engine); the Python App Engine team however does have the advantage of having on board Guido van Rossum, the inventor of Python and an amazingly strong engineer.</p>\n\n<p>In terms of flexibility, the Java engine, as already mentioned, does offer the possibility of running JVM bytecode made by different languages, not just Java -- if you're in a multi-language shop that's a pretty large positive. Vice versa, if you loathe Javascript but must execute some code in the user's browser, Java's GWT (generating the Javascript for you from your Java-level coding) is far richer and more advanced than Python-side alternatives (in practice, if you choose Python, you'll be writing some JS yourself for this purpose, while if you choose Java GWT is a usable alternative if you loathe writing JS).</p>\n\n<p>In terms of libraries it's pretty much a wash -- the JVM is restricted enough (no threads, no custom class loaders, no JNI, no relational DB) to hamper the simple reuse of existing Java libraries as much, or more, than existing Python libraries are similarly hampered by the similar restrictions on the Python runtime.</p>\n\n<p>In terms of performance, I think it's a wash, though you should benchmark on tasks of your own -- don't rely on the performance of highly optimized JIT-based JVM implementations discounting their large startup times and memory footprints, because the app engine environment is very different (startup costs will be paid often, as instances of your app are started, stopped, moved to different hosts, etc, all trasparently to you -- such events are typically much cheaper with Python runtime environments than with JVMs).</p>\n\n<p>The XPath/XSLT situation (to be euphemistic...) is not exactly perfect on either side, sigh, though I think it may be a tad less bad in the JVM (where, apparently, substantial subsets of Saxon can be made to run, with some care). I think it's worth opening issues on the <a href=\"http://code.google.com/p/googleappengine/issues/list\" rel=\"noreferrer\">Appengine Issues</a> page with XPath and XSLT in their titles -- right now there are only issues asking for specific libraries, and that's myopic: I don't really care HOW a good XPath/XSLT is implemented, for Python and/or for Java, as long as I get to use it. (Specific libraries may ease migration of existing code, but that's less important than being able to perform such tasks as \"rapidly apply XSLT transformation\" in SOME way!-). I know I'd star such an issue if well phrased (especially in a language-independent way).</p>\n\n<p>Last but not least: remember that you can have different version of your app (using the same datastore) some of which are implemented with the Python runtime, some with the Java runtime, and you can access versions that differ from the \"default/active\" one with explicit URLs. So you could have both Python <em>and</em> Java code (in different versions of your app) use and modify the same data store, granting you even more flexibility (though only one will have the \"nice\" URL such as foobar.appspot.com -- which is probably important only for access by interactive users on browsers, I imagine;-).</p>\n"},{"comments":[{"owner":{"account_id":25039,"reputation":9350,"user_id":64084,"accept_rate":63,"display_name":"Mark"},"score":1,"creation_date":1283171131,"post_id":1093160,"comment_id":3779508,"body_markdown":"@Paul - could you recommend (or give links to) the best way to handle persistence using Java on GAE if JDO is not the way to go?","body":"@Paul - could you recommend (or give links to) the best way to handle persistence using Java on GAE if JDO is not the way to go?"},{"owner":{"account_id":45551,"reputation":369,"user_id":134329,"display_name":"Paul"},"score":1,"creation_date":1283869977,"post_id":1093160,"comment_id":3849703,"body_markdown":"@Mark, I&#39;m sorry for delay. I think http://code.google.com/p/objectify-appengine/ is the best choose for now.","body":"@Mark, I&#39;m sorry for delay. I think <a href=\"http://code.google.com/p/objectify-appengine/\" rel=\"nofollow noreferrer\">code.google.com/p/objectify-appengine</a> is the best choose for now."},{"owner":{"account_id":18698,"reputation":208306,"user_id":43089,"accept_rate":50,"display_name":"Kenan Banks"},"score":7,"creation_date":1299600655,"post_id":1093160,"comment_id":5891777,"body_markdown":"-1 for the outright falsehoods in points #2 and #3 and for #4 not making any sense.","body":"-1 for the outright falsehoods in points #2 and #3 and for #4 not making any sense."},{"owner":{"account_id":45551,"reputation":369,"user_id":134329,"display_name":"Paul"},"score":0,"creation_date":1299656216,"post_id":1093160,"comment_id":5901585,"body_markdown":"@Triptych, let me know what is the name of XSLT processor for python/GAE? And what is the equivalent of CAS(putIfUntouched) operation for memcache/python/GAE?","body":"@Triptych, let me know what is the name of XSLT processor for python/GAE? And what is the equivalent of CAS(putIfUntouched) operation for memcache/python/GAE?"},{"owner":{"account_id":18698,"reputation":208306,"user_id":43089,"accept_rate":50,"display_name":"Kenan Banks"},"score":1,"creation_date":1299693198,"post_id":1093160,"comment_id":5910582,"body_markdown":"@Paul if you wanted me to consider those things as part of your answer, you should have included them in your answer. Instead, you including a string of half-truths. No one chooses a language based on the corner cases you&#39;re coming up with now.","body":"@Paul if you wanted me to consider those things as part of your answer, you should have included them in your answer. Instead, you including a string of half-truths. No one chooses a language based on the corner cases you&#39;re coming up with now."},{"owner":{"account_id":45551,"reputation":369,"user_id":134329,"display_name":"Paul"},"score":0,"creation_date":1300426576,"post_id":1093160,"comment_id":6040407,"body_markdown":"@Triptych, I tried to use Python. I choose Java. Try it, it&#39;s easy and powerful language.","body":"@Triptych, I tried to use Python. I choose Java. Try it, it&#39;s easy and powerful language."}],"tags":[],"owner":{"account_id":45551,"reputation":369,"user_id":134329,"display_name":"Paul"},"comment_count":6,"down_vote_count":10,"up_vote_count":17,"is_accepted":false,"score":7,"last_activity_date":1320860074,"creation_date":1246981845,"answer_id":1093160,"question_id":1085898,"body_markdown":"I&#39;m strongly recommending Java for GAE and here&#39;s why:\r\n\r\n1. Performance: Java is potentially faster then Python.\r\n2. Python development is under pressure of a lack of third-party libraries. For example, there is no XSLT for Python/GAE at all. Almost all Python libraries are C bindings (and those are unsupported by GAE).\r\n3. Memcache API: Java SDK have more interesting abilities than Python SDK.\r\n4. Datastore API: JDO is very slow, but native Java datastore API is very fast and easy.\r\n\r\nI&#39;m using Java/GAE in development right now.","title":"Choosing Java vs Python on Google App Engine","body":"<p>I'm strongly recommending Java for GAE and here's why:</p>\n\n<ol>\n<li>Performance: Java is potentially faster then Python.</li>\n<li>Python development is under pressure of a lack of third-party libraries. For example, there is no XSLT for Python/GAE at all. Almost all Python libraries are C bindings (and those are unsupported by GAE).</li>\n<li>Memcache API: Java SDK have more interesting abilities than Python SDK.</li>\n<li>Datastore API: JDO is very slow, but native Java datastore API is very fast and easy.</li>\n</ol>\n\n<p>I'm using Java/GAE in development right now.</p>\n"},{"comments":[{"owner":{"account_id":125744,"reputation":12169,"user_id":321731,"accept_rate":80,"display_name":"tshepang"},"score":1,"creation_date":1320860253,"post_id":1337632,"comment_id":9886385,"body_markdown":"Unladen Swallow is now a dead project and the last commit is [over a year old](http://code.google.com/p/unladen-swallow/source/list).","body":"Unladen Swallow is now a dead project and the last commit is <a href=\"http://code.google.com/p/unladen-swallow/source/list\" rel=\"nofollow noreferrer\">over a year old</a>."}],"tags":[],"owner":{"account_id":41955,"reputation":31,"user_id":122085,"display_name":"synchromesh"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1251322571,"creation_date":1251322571,"answer_id":1337632,"question_id":1085898,"body_markdown":"There&#39;s also project [Unladen Swallow][1], which is apparently Google-funded if not Google-owned. They&#39;re trying to implement a LLVM-based backend for Python 2.6.1 bytecode, so they can use a JIT and various nice native code/GC/multi-core optimisations. (Nice quote: &quot;We aspire to do no original work, instead using as much of the last 30 years of research as possible.&quot;) They&#39;re looking for a 5x speed-up to CPython.\r\n\r\nOf course this doesn&#39;t answer your immediate question, but points towards a &quot;closing of the gap&quot; (if any) in the future (hopefully).\r\n\r\n  [1]: http://code.google.com/p/unladen-swallow/wiki/ProjectPlan","title":"Choosing Java vs Python on Google App Engine","body":"<p>There's also project <a href=\"http://code.google.com/p/unladen-swallow/wiki/ProjectPlan\" rel=\"nofollow noreferrer\">Unladen Swallow</a>, which is apparently Google-funded if not Google-owned. They're trying to implement a LLVM-based backend for Python 2.6.1 bytecode, so they can use a JIT and various nice native code/GC/multi-core optimisations. (Nice quote: \"We aspire to do no original work, instead using as much of the last 30 years of research as possible.\") They're looking for a 5x speed-up to CPython.</p>\n\n<p>Of course this doesn't answer your immediate question, but points towards a \"closing of the gap\" (if any) in the future (hopefully).</p>\n"},{"tags":[],"owner":{"account_id":8429,"reputation":56686,"user_id":15187,"accept_rate":96,"display_name":"yanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1253248843,"creation_date":1253248843,"answer_id":1442628,"question_id":1085898,"body_markdown":"Gone with Python even though GWT seems a perfect match for the kind of an app I&#39;m developing. JPA is pretty messed up on GAE (e.g. no @Embeddable and other obscure non-documented limitations). Having spent a week, I can tell that Java just doesn&#39;t feel right on GAE at the moment.","title":"Choosing Java vs Python on Google App Engine","body":"<p>Gone with Python even though GWT seems a perfect match for the kind of an app I'm developing. JPA is pretty messed up on GAE (e.g. no @Embeddable and other obscure non-documented limitations). Having spent a week, I can tell that Java just doesn't feel right on GAE at the moment.</p>\n"},{"comments":[{"owner":{"account_id":32741,"reputation":1149,"user_id":91091,"display_name":"Mo&#39;in Creemers"},"score":5,"creation_date":1292070403,"post_id":1464516,"comment_id":4817559,"body_markdown":"With all due respect, I find this test simple enough to be meaningless. For what it is worth... If you do use Java/GAE, I recommend using the Low level API and avoid JDO or any other framework. More importantly, JDO gives you the &#39;feeling&#39; you&#39;re working with a relational database, which can be &#39;misleading&#39;.","body":"With all due respect, I find this test simple enough to be meaningless. For what it is worth... If you do use Java/GAE, I recommend using the Low level API and avoid JDO or any other framework. More importantly, JDO gives you the &#39;feeling&#39; you&#39;re working with a relational database, which can be &#39;misleading&#39;."},{"owner":{"account_id":29057,"reputation":2594,"user_id":78212,"accept_rate":67,"display_name":"Richard Watson"},"score":1,"creation_date":1292142910,"post_id":1464516,"comment_id":4823461,"body_markdown":"I agree about avoiding JDO, partly for the reason you mention but also because it&#39;s slower than low-level. (Which the test generally shows.) It simply hints that there are performance differences, so either don&#39;t use JDO or test for your specific task. I&#39;ve moved all my own code from JDO and the low-level API to Objectify. And in any case, it also shows that Python certainly isn&#39;t the poor cousin of performance on GAE.","body":"I agree about avoiding JDO, partly for the reason you mention but also because it&#39;s slower than low-level. (Which the test generally shows.) It simply hints that there are performance differences, so either don&#39;t use JDO or test for your specific task. I&#39;ve moved all my own code from JDO and the low-level API to Objectify. And in any case, it also shows that Python certainly isn&#39;t the poor cousin of performance on GAE."},{"owner":{"account_id":4903,"reputation":4570,"user_id":7602,"accept_rate":95,"display_name":"tomdemuyt"},"score":1,"creation_date":1334861650,"post_id":1464516,"comment_id":13151005,"body_markdown":"Your app, it is throwing Internal Server Error.","body":"Your app, it is throwing Internal Server Error."},{"owner":{"account_id":29057,"reputation":2594,"user_id":78212,"accept_rate":67,"display_name":"Richard Watson"},"score":1,"creation_date":1335384764,"post_id":1464516,"comment_id":13290648,"body_markdown":"Thanks Tom. Not my app, sadly. Have mailed someone that might be linked.","body":"Thanks Tom. Not my app, sadly. Have mailed someone that might be linked."},{"owner":{"account_id":977790,"reputation":15548,"user_id":998318,"accept_rate":61,"display_name":"Moshe Shaham"},"score":1,"creation_date":1390485465,"post_id":1464516,"comment_id":32118053,"body_markdown":"i would like to see how objectify compares in this test","body":"i would like to see how objectify compares in this test"},{"owner":{"account_id":265671,"reputation":33764,"user_id":552792,"accept_rate":43,"display_name":"jamesmortensen"},"score":1,"creation_date":1502277664,"post_id":1464516,"comment_id":78137144,"body_markdown":"Looks like the link is broken. Do you know if that test is available somewhere else?  Thank you.","body":"Looks like the link is broken. Do you know if that test is available somewhere else?  Thank you."},{"owner":{"account_id":29057,"reputation":2594,"user_id":78212,"accept_rate":67,"display_name":"Richard Watson"},"score":0,"creation_date":1502298288,"post_id":1464516,"comment_id":78152827,"body_markdown":"Sorry jmort I don&#39;t. But consider Python and low-level Java API better than JDO for almost all performance issues. And for ease of use, just use Objectify.","body":"Sorry jmort I don&#39;t. But consider Python and low-level Java API better than JDO for almost all performance issues. And for ease of use, just use Objectify."}],"tags":[],"owner":{"account_id":29057,"reputation":2594,"user_id":78212,"accept_rate":67,"display_name":"Richard Watson"},"comment_count":7,"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1502298352,"creation_date":1253691921,"answer_id":1464516,"question_id":1085898,"body_markdown":"Watch this app for changes in Python and Java performance:\r\n\r\n[http://gaejava.appspot.com/][1]\r\n(edit: apologies, link is broken now. But following para still applied when I saw it running last)\r\n\r\nCurrently, Python and using the low-level API in Java are faster than JDO on Java, **for this simple test**. At least if the underlying engine changes, that app should reflect performance changes.\r\n\r\n\r\n  [1]: http://gaejava.appspot.com/","title":"Choosing Java vs Python on Google App Engine","body":"<p>Watch this app for changes in Python and Java performance:</p>\n\n<p><a href=\"http://gaejava.appspot.com/\" rel=\"nofollow noreferrer\">http://gaejava.appspot.com/</a>\n(edit: apologies, link is broken now. But following para still applied when I saw it running last)</p>\n\n<p>Currently, Python and using the low-level API in Java are faster than JDO on Java, <strong>for this simple test</strong>. At least if the underlying engine changes, that app should reflect performance changes.</p>\n"},{"comments":[{"owner":{"account_id":38518,"reputation":1690,"user_id":110572,"accept_rate":75,"display_name":"Daniyar"},"score":0,"creation_date":1280811237,"post_id":2636174,"comment_id":3529156,"body_markdown":"The question is about java vs python on GAE, which has a lot of restrictions. Hence, your arguments are inapplicable.","body":"The question is about java vs python on GAE, which has a lot of restrictions. Hence, your arguments are inapplicable."},{"owner":{"account_id":1086751,"reputation":2149,"user_id":1082289,"display_name":"zeFree"},"score":0,"creation_date":1334282293,"post_id":2636174,"comment_id":12991350,"body_markdown":"I agree with @Daniyar, that this answer is a bit ( or perhaps totally) off the beat, but I like the answer and this was something I was looking for. \nThanks Kilon for sharing this knowledge. May be this was the wrong place, but you certainly did some knowledge sharing. +1 and kudos for that.","body":"I agree with @Daniyar, that this answer is a bit ( or perhaps totally) off the beat, but I like the answer and this was something I was looking for.  Thanks Kilon for sharing this knowledge. May be this was the wrong place, but you certainly did some knowledge sharing. +1 and kudos for that."}],"tags":[],"owner":{"account_id":605323,"reputation":29,"user_id":316346,"display_name":"kilon "},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1271236477,"creation_date":1271236477,"answer_id":2636174,"question_id":1085898,"body_markdown":"The beauty of python nowdays is how well it communicates with other languages. For instance you can have both python and java on the same table with Jython. Of course jython even though it fully supports java libraries it does not support fully python libraries. But its an ideal solution if you want to mess with Java Libraries. It even allows you to mix it with Java code with no extra coding. \r\n\r\nBut even python itself has made some steps forwared. See ctypes for example, near C speed , direct accees to C libraries all of this without leaving the comfort of python coding. Cython goes one step further , allowing to mix c code with python code with ease, or even if you dont want to mess with c or c++ , you can still code in python but use statically type variables making your python programms as fast as C apps. Cython is both used and supported by google by the way.  \r\n\r\nYesterday I even found tools for python to inline C or even Assembly (see CorePy) , you cant get any more powerful than that. \r\n\r\nPython is surely a very mature language, not only standing on itself , but able to coooperate with any other language with easy. I think that is what makes python an ideal solution even in a very advanced and demanding scenarios.\r\n\r\nWith python you can have acess to C/C++ ,Java , .NET and many other libraries with almost zero additional coding giving you also a language that minimises, simplifies and beautifies coding. Its a very tempting language.   ","title":"Choosing Java vs Python on Google App Engine","body":"<p>The beauty of python nowdays is how well it communicates with other languages. For instance you can have both python and java on the same table with Jython. Of course jython even though it fully supports java libraries it does not support fully python libraries. But its an ideal solution if you want to mess with Java Libraries. It even allows you to mix it with Java code with no extra coding. </p>\n\n<p>But even python itself has made some steps forwared. See ctypes for example, near C speed , direct accees to C libraries all of this without leaving the comfort of python coding. Cython goes one step further , allowing to mix c code with python code with ease, or even if you dont want to mess with c or c++ , you can still code in python but use statically type variables making your python programms as fast as C apps. Cython is both used and supported by google by the way.  </p>\n\n<p>Yesterday I even found tools for python to inline C or even Assembly (see CorePy) , you cant get any more powerful than that. </p>\n\n<p>Python is surely a very mature language, not only standing on itself , but able to coooperate with any other language with easy. I think that is what makes python an ideal solution even in a very advanced and demanding scenarios.</p>\n\n<p>With python you can have acess to C/C++ ,Java , .NET and many other libraries with almost zero additional coding giving you also a language that minimises, simplifies and beautifies coding. Its a very tempting language.   </p>\n"},{"tags":[],"owner":{"account_id":50307,"reputation":17321,"user_id":150016,"accept_rate":67,"display_name":"Tom"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1366390871,"creation_date":1271259869,"answer_id":2638859,"question_id":1085898,"body_markdown":"An important question to consider in deciding between Python and Java is **how you will use the datastore in each language** (and most other angles to the original question have already been covered quite well in this topic).\r\n\r\n**For Java**, the standard method is to use JDO or JPA.  These are great for portability but are not very well suited to the datastore.\r\n\r\nA low-level API is available but this is too low level for day-to-day use - it is more suitable for building 3rd party libraries.\r\n\r\n**For Python** there is an API designed specifically to provide applications with easy but powerful access to the datastore.  It is great except that it is not portable so it locks you into GAE.\r\n\r\nFortunately, there are solutions being developed for the weaknesses listed for both languages.\r\n\r\n**For Java**, the low-level API is being used to develop persistence libraries that are much better suited to the datastore then JDO/JPA (IMO).  Examples include the [Siena project][1], and [Objectify][3].  \r\n\r\nI&#39;ve recently started using Objectify and am finding it to be very easy to use and well suited to the datastore, and its growing popularity has translated into good support.  For example, Objectify is officially supported by Google&#39;s new Cloud Endpoints service.  On the other hand, Objectify only works with the datastore, while Siena is &#39;inspired&#39; by the datastore but is designed to work with a variety of both SQL databases and NoSQL datastores.\r\n\r\n**For Python**, there are efforts being made to allow the use of the Python GAE datastore API off of the GAE.  One example is the SQLite backend that Google released for use with the SDK, but I doubt they intend this to grow into something production ready.  The [TyphoonAE][2] project probably has more potential, but I don&#39;t think it is production ready yet either (correct me if I am wrong).\r\n\r\nIf anyone has experience with any of these alternatives or knows of others, please add them in a comment.  Personally, I really like the GAE datastore - I find it to be a considerable improvement over the AWS SimpleDB - so I wish for the success of these efforts to alleviate some of the issues in using it.\r\n\r\n\r\n  [1]: https://github.com/siena/siena\r\n  [2]: http://code.google.com/p/typhoonae/\r\n  [3]: https://code.google.com/p/objectify-appengine/","title":"Choosing Java vs Python on Google App Engine","body":"<p>An important question to consider in deciding between Python and Java is <strong>how you will use the datastore in each language</strong> (and most other angles to the original question have already been covered quite well in this topic).</p>\n\n<p><strong>For Java</strong>, the standard method is to use JDO or JPA.  These are great for portability but are not very well suited to the datastore.</p>\n\n<p>A low-level API is available but this is too low level for day-to-day use - it is more suitable for building 3rd party libraries.</p>\n\n<p><strong>For Python</strong> there is an API designed specifically to provide applications with easy but powerful access to the datastore.  It is great except that it is not portable so it locks you into GAE.</p>\n\n<p>Fortunately, there are solutions being developed for the weaknesses listed for both languages.</p>\n\n<p><strong>For Java</strong>, the low-level API is being used to develop persistence libraries that are much better suited to the datastore then JDO/JPA (IMO).  Examples include the <a href=\"https://github.com/siena/siena\" rel=\"nofollow noreferrer\">Siena project</a>, and <a href=\"https://code.google.com/p/objectify-appengine/\" rel=\"nofollow noreferrer\">Objectify</a>.  </p>\n\n<p>I've recently started using Objectify and am finding it to be very easy to use and well suited to the datastore, and its growing popularity has translated into good support.  For example, Objectify is officially supported by Google's new Cloud Endpoints service.  On the other hand, Objectify only works with the datastore, while Siena is 'inspired' by the datastore but is designed to work with a variety of both SQL databases and NoSQL datastores.</p>\n\n<p><strong>For Python</strong>, there are efforts being made to allow the use of the Python GAE datastore API off of the GAE.  One example is the SQLite backend that Google released for use with the SDK, but I doubt they intend this to grow into something production ready.  The <a href=\"http://code.google.com/p/typhoonae/\" rel=\"nofollow noreferrer\">TyphoonAE</a> project probably has more potential, but I don't think it is production ready yet either (correct me if I am wrong).</p>\n\n<p>If anyone has experience with any of these alternatives or knows of others, please add them in a comment.  Personally, I really like the GAE datastore - I find it to be a considerable improvement over the AWS SimpleDB - so I wish for the success of these efforts to alleviate some of the issues in using it.</p>\n"},{"tags":[],"owner":{"account_id":59795,"reputation":481,"user_id":178820,"display_name":"Damon Oehlman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1271822045,"creation_date":1271822045,"answer_id":2680204,"question_id":1085898,"body_markdown":"It&#39;s a good question, and I think many of the responses have given good view points of pros and cons on both sides of the fence.  I&#39;ve tried both Python and JVM-based AppEngine (in my case I was using [Gaelyk][1] which is a Groovy application framework built for AppEngine).  When it comes to performance on the platform, one thing I hadn&#39;t considered until it was staring me in the face is the implication of &quot;Loading Requests&quot; that occur on the Java side of the fence.  When using Groovy these loading requests are a killer.\r\n\r\nI put a post together on the topic ([http://distractable.net/coding/google-appengine-java-vs-python-performance-comparison/][2]) and I&#39;m hoping to find a way of working around the problem, but if not I think I&#39;ll be going back to a Python + Django combination until cold starting java requests has less of an impact.\r\n\r\n  [1]: http://gaelyk.appspot.com/\r\n  [2]: http://distractable.net/coding/google-appengine-java-vs-python-performance-comparison/","title":"Choosing Java vs Python on Google App Engine","body":"<p>It's a good question, and I think many of the responses have given good view points of pros and cons on both sides of the fence.  I've tried both Python and JVM-based AppEngine (in my case I was using <a href=\"http://gaelyk.appspot.com/\" rel=\"nofollow noreferrer\">Gaelyk</a> which is a Groovy application framework built for AppEngine).  When it comes to performance on the platform, one thing I hadn't considered until it was staring me in the face is the implication of \"Loading Requests\" that occur on the Java side of the fence.  When using Groovy these loading requests are a killer.</p>\n\n<p>I put a post together on the topic (<a href=\"http://distractable.net/coding/google-appengine-java-vs-python-performance-comparison/\" rel=\"nofollow noreferrer\">http://distractable.net/coding/google-appengine-java-vs-python-performance-comparison/</a>) and I'm hoping to find a way of working around the problem, but if not I think I'll be going back to a Python + Django combination until cold starting java requests has less of an impact.</p>\n"},{"comments":[{"owner":{"account_id":27524,"reputation":16433,"user_id":72746,"accept_rate":76,"display_name":"Axarydax"},"score":7,"creation_date":1292591592,"post_id":2979149,"comment_id":4886627,"body_markdown":"I heard that Ford owners are complaining about their cars a lot more than Koenigsegg owners. Why could that be?","body":"I heard that Ford owners are complaining about their cars a lot more than Koenigsegg owners. Why could that be?"}],"tags":[],"owner":{"account_id":93309,"reputation":14162,"user_id":255344,"accept_rate":67,"display_name":"Noah McIlraith"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1275711876,"creation_date":1275711876,"answer_id":2979149,"question_id":1085898,"body_markdown":"Based on how much I hear Java people complain about AppEngine compared to Python users, I would say Python is much less stressful to use.","title":"Choosing Java vs Python on Google App Engine","body":"<p>Based on how much I hear Java people complain about AppEngine compared to Python users, I would say Python is much less stressful to use.</p>\n"},{"tags":[],"owner":{"account_id":172324,"reputation":16535,"user_id":400286,"accept_rate":93,"display_name":"mjhm"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1280810256,"creation_date":1280810256,"answer_id":3393601,"question_id":1085898,"body_markdown":"I&#39;ve been amazed at how clean, straightforward, and problem free the Python/Django SDK is.  However I started running into situations where I needed to start doing more JavaScript and thought I might want to take advantage of the GWT and other Java utilities.  I&#39;ve gotten just half way through the GAE Java tutorial, and have had one problem after another: Eclipse configuration issues, JRE versionitis, the mind-numbing complexity of Java, and a confusing and possibly broken tutorial.  Checking out this site and others linked from here clinched it for me.  I&#39;m going back to Python, and I&#39;ll look into Pyjamas to help with my JavaScript challenges.","title":"Choosing Java vs Python on Google App Engine","body":"<p>I've been amazed at how clean, straightforward, and problem free the Python/Django SDK is.  However I started running into situations where I needed to start doing more JavaScript and thought I might want to take advantage of the GWT and other Java utilities.  I've gotten just half way through the GAE Java tutorial, and have had one problem after another: Eclipse configuration issues, JRE versionitis, the mind-numbing complexity of Java, and a confusing and possibly broken tutorial.  Checking out this site and others linked from here clinched it for me.  I'm going back to Python, and I'll look into Pyjamas to help with my JavaScript challenges.</p>\n"},{"tags":[],"owner":{"account_id":142731,"reputation":26535,"user_id":350615,"display_name":"Juha Palom&#228;ki"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1298494823,"creation_date":1298494294,"answer_id":5096947,"question_id":1085898,"body_markdown":"One think to take into account are the frameworks you intend yo use. Not all frameworks on Java side are well suited for applications running on App Engine, which is somewhat different than traditional Java app servers. \r\n\r\nOne thing to consider is the application startup time. With traditional Java web apps you don&#39;t really need to think about this. The application starts and then it just runs. Doesn&#39;t really matter if the startup takes 5 seconds or couple of minutes. With App Engine you might end up in a situation where the application is only started when a request comes in. This means the user is waiting while your application boots up. New GAE features like reserved instances help here, but check first.\r\n\r\nAnother thing are the different limitations GAE psoes on Java. Not all frameworks are happy with the limitations on what classes you can use or the fact that threads are not allowed or that you can&#39;t access local filesystem. These issues are probably easy to find out by just googling about GAE compatibility.\r\n\r\nI&#39;ve also seen some people complaining about issues with session size on modern UI frameworks (Wicket, namely). In general these frameworks tend to do certain trade-offs in order to make development fun, fast and easy. Sometimes this may lead to conflicts with the App Engine limitations. \r\n\r\nI initially started developing working on GAE with Java, but then switched to Python because of these reasons. My *personal feeling* is that Python is a better choice for App Engine development. I think Java is more &quot;at home&quot; for example on Amazon&#39;s Elastic Beanstalk.\r\n\r\n**BUT** with App Engine things are changing very rapidly. GAE is changing itself and as it becomes more popular, the frameworks are also changing to work around its limitations. ","title":"Choosing Java vs Python on Google App Engine","body":"<p>One think to take into account are the frameworks you intend yo use. Not all frameworks on Java side are well suited for applications running on App Engine, which is somewhat different than traditional Java app servers. </p>\n\n<p>One thing to consider is the application startup time. With traditional Java web apps you don't really need to think about this. The application starts and then it just runs. Doesn't really matter if the startup takes 5 seconds or couple of minutes. With App Engine you might end up in a situation where the application is only started when a request comes in. This means the user is waiting while your application boots up. New GAE features like reserved instances help here, but check first.</p>\n\n<p>Another thing are the different limitations GAE psoes on Java. Not all frameworks are happy with the limitations on what classes you can use or the fact that threads are not allowed or that you can't access local filesystem. These issues are probably easy to find out by just googling about GAE compatibility.</p>\n\n<p>I've also seen some people complaining about issues with session size on modern UI frameworks (Wicket, namely). In general these frameworks tend to do certain trade-offs in order to make development fun, fast and easy. Sometimes this may lead to conflicts with the App Engine limitations. </p>\n\n<p>I initially started developing working on GAE with Java, but then switched to Python because of these reasons. My <em>personal feeling</em> is that Python is a better choice for App Engine development. I think Java is more \"at home\" for example on Amazon's Elastic Beanstalk.</p>\n\n<p><strong>BUT</strong> with App Engine things are changing very rapidly. GAE is changing itself and as it becomes more popular, the frameworks are also changing to work around its limitations. </p>\n"},{"tags":[],"owner":{"account_id":116948,"reputation":25757,"user_id":306478,"accept_rate":57,"display_name":"Bijan"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1376578801,"creation_date":1376578801,"answer_id":18255495,"question_id":1085898,"body_markdown":"**June 2013:** This video is a very good answer by a google engineer:\r\n\r\nhttp://www.youtube.com/watch?v=tLriM2krw2E\r\n\r\nTLDR; is: \r\n\r\n - Pick the language that you and your team is most productive with\r\n - If you want to build something for production: Java or Python (not Go)\r\n - If you have a big team and a complex code base: Java (because of static code analysis and refactoring)\r\n - Small teams that iterate quickly: Python (although Java is also okay)","title":"Choosing Java vs Python on Google App Engine","body":"<p><strong>June 2013:</strong> This video is a very good answer by a google engineer:</p>\n\n<p><a href=\"http://www.youtube.com/watch?v=tLriM2krw2E\" rel=\"noreferrer\">http://www.youtube.com/watch?v=tLriM2krw2E</a></p>\n\n<p>TLDR; is: </p>\n\n<ul>\n<li>Pick the language that you and your team is most productive with</li>\n<li>If you want to build something for production: Java or Python (not Go)</li>\n<li>If you have a big team and a complex code base: Java (because of static code analysis and refactoring)</li>\n<li>Small teams that iterate quickly: Python (although Java is also okay)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1499483,"reputation":3597,"user_id":1404614,"accept_rate":87,"display_name":"Jaime Ivan Cervantes"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1411148453,"creation_date":1410967497,"answer_id":25894549,"question_id":1085898,"body_markdown":"I&#39;m a little late to the conversation, but here are my two cents. I really had a hard time choosing between Python and Java, since I am well versed in both languages. As we all know, there are advantages and disadvantages for both, and you have to take in account your requirements and the frameworks that work best for your project. \r\n\r\nAs I usually do in this type of dilemmas, I look for numbers to support my decision. I decided to go with Python for many reasons, but in my case, there was one plot that was the tipping point. If you search &quot;Google App Engine&quot; in GitHub as of **September 2014**, you will find the following figure:\r\n\r\n![GAE Language Stats][1]\r\n\r\nThere could be many biases in these numbers, but overall, there are three times more GAE Python repositories than GAE Java repositories. Not only that, but if you list the projects by the &quot;number of stars&quot; you will see that a majority of the Python projects appear at the top (you have to take in account that Python has been around longer). To me, this makes a strong case for Python because I take in account community adoption &amp; support, documentation, and availability of open-source projects.\r\n\r\n  [1]: http://i.stack.imgur.com/z4M8C.png","title":"Choosing Java vs Python on Google App Engine","body":"<p>I'm a little late to the conversation, but here are my two cents. I really had a hard time choosing between Python and Java, since I am well versed in both languages. As we all know, there are advantages and disadvantages for both, and you have to take in account your requirements and the frameworks that work best for your project. </p>\n\n<p>As I usually do in this type of dilemmas, I look for numbers to support my decision. I decided to go with Python for many reasons, but in my case, there was one plot that was the tipping point. If you search \"Google App Engine\" in GitHub as of <strong>September 2014</strong>, you will find the following figure:</p>\n\n<p><img src=\"https://i.stack.imgur.com/z4M8C.png\" alt=\"GAE Language Stats\"></p>\n\n<p>There could be many biases in these numbers, but overall, there are three times more GAE Python repositories than GAE Java repositories. Not only that, but if you list the projects by the \"number of stars\" you will see that a majority of the Python projects appear at the top (you have to take in account that Python has been around longer). To me, this makes a strong case for Python because I take in account community adoption &amp; support, documentation, and availability of open-source projects.</p>\n"},{"tags":[],"owner":{"account_id":3147269,"reputation":10469,"user_id":3075340,"accept_rate":70,"display_name":"Micro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689317313,"creation_date":1689316946,"answer_id":76685262,"question_id":1085898,"body_markdown":"If you are using Google App Engine Standard Environment consider these advantages Java has over Python 2.7 (but not Python 3) (Flexible Environment does not have these differences):\r\n\r\n&gt; **Writing to local disk** \r\n&gt; \r\n&gt; Java 8, Java 11, Java 17, Node.js, Python 3, PHP\r\n&gt; 7.X, PHP 8.1, Ruby, Go 1.11, and Go 1.12+ have read and write access to the /tmp directory.\r\n&gt; \r\n&gt; Python 2.7 and PHP 5.5 don&#39;t have write access to the disk.\r\n&gt; \r\n&gt; **Supports installing third-party binaries**\r\n&gt; \r\n&gt; Yes for Java 8, Java 11, Java 17, Node.js, Python 3, PHP 7.X, PHP 8.1,\r\n&gt; Ruby, Go 1.11, and Go 1.12+.\r\n&gt; \r\n&gt; No for Python 2.7 and PHP 5.5.\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: https://cloud.google.com/appengine/docs/the-appengine-environments#compare_high-level_features\r\n\r\n","title":"Choosing Java vs Python on Google App Engine","body":"<p>If you are using Google App Engine Standard Environment consider these advantages Java has over Python 2.7 (but not Python 3) (Flexible Environment does not have these differences):</p>\n<blockquote>\n<p><strong>Writing to local disk</strong></p>\n<p>Java 8, Java 11, Java 17, Node.js, Python 3, PHP\n7.X, PHP 8.1, Ruby, Go 1.11, and Go 1.12+ have read and write access to the /tmp directory.</p>\n<p>Python 2.7 and PHP 5.5 don't have write access to the disk.</p>\n<p><strong>Supports installing third-party binaries</strong></p>\n<p>Yes for Java 8, Java 11, Java 17, Node.js, Python 3, PHP 7.X, PHP 8.1,\nRuby, Go 1.11, and Go 1.12+.</p>\n<p>No for Python 2.7 and PHP 5.5.</p>\n</blockquote>\n<p><a href=\"https://cloud.google.com/appengine/docs/the-appengine-environments#compare_high-level_features\" rel=\"nofollow noreferrer\">Source</a></p>\n"}],"owner":{"account_id":43750,"reputation":18014,"user_id":128028,"accept_rate":86,"display_name":"Viet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72315,"favorite_count":0,"down_vote_count":1,"up_vote_count":163,"accepted_answer_id":1087878,"answer_count":16,"score":162,"last_activity_date":1689317313,"creation_date":1246867558,"question_id":1085898,"body_markdown":"Currently Google App Engine supports both Python &amp; Java. Java support is less mature. However, Java seems to have a longer list of libraries and especially support for Java bytecode regardless of the languages used to write that code. Which language will give better performance and more power? Please advise. Thank you!\r\n\r\n**Edit:**\r\nhttp://groups.google.com/group/google-appengine-java/web/will-it-play-in-app-engine?pli=1\r\n\r\n**Edit:**\r\nBy &quot;power&quot; I mean better expandability and inclusion of available libraries outside the framework. Python allows only pure Python libraries, though.","title":"Choosing Java vs Python on Google App Engine","body":"<p>Currently Google App Engine supports both Python &amp; Java. Java support is less mature. However, Java seems to have a longer list of libraries and especially support for Java bytecode regardless of the languages used to write that code. Which language will give better performance and more power? Please advise. Thank you!</p>\n\n<p><strong>Edit:</strong>\n<a href=\"http://groups.google.com/group/google-appengine-java/web/will-it-play-in-app-engine?pli=1\" rel=\"noreferrer\">http://groups.google.com/group/google-appengine-java/web/will-it-play-in-app-engine?pli=1</a></p>\n\n<p><strong>Edit:</strong>\nBy \"power\" I mean better expandability and inclusion of available libraries outside the framework. Python allows only pure Python libraries, though.</p>\n"},{"tags":["java","sdk","docusign-sdk"],"owner":{"account_id":8801851,"reputation":161,"user_id":6577688,"accept_rate":100,"display_name":"evilsoldier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689317156,"creation_date":1689317156,"question_id":76685290,"body_markdown":"I am using the DocuSign Java SDK to create the whole envelope programmatically.\r\nIs there a way to add a clickable hyperlink in the envelope?\r\n\r\nAdding the hyperlink in the document pdf itself is not an option since the hyperlink won&#39;t be clickable while signing (it will be just visible on the background).\r\n\r\nI know it is possible to create custom field and use it in a template like described [here][1],\r\nbut in my case I am not using templates.\r\n\r\nI tried to create Text field programmatically like below and put it in the envelope, but the link is not clickable when the document is being reviewed. Is there a way to make it clickable while the signing (i.e. when the client opens the document in DS)\r\n\r\n            Text asd = new Text()\r\n            .name(&quot;#HREF_TermsAndConditions&quot;)\r\n            .value(&quot;https://thelink&quot;)\r\n            .required(&quot;true&quot;)\r\n            .tooltip(&quot;https://thelink&quot;)\r\n            .documentId(&quot;1&quot;)\r\n            .pageNumber(&quot;1&quot;)\r\n            .xPosition(&quot;100&quot;)\r\n            .yPosition(&quot;600&quot;);\r\n\r\n  [1]: https://support.docusign.com/s/articles/How-to-create-a-hyperlink-in-DocuSign?language=en_US","title":"Add hyperlink to DocuSign envelope programatically","body":"<p>I am using the DocuSign Java SDK to create the whole envelope programmatically.\nIs there a way to add a clickable hyperlink in the envelope?</p>\n<p>Adding the hyperlink in the document pdf itself is not an option since the hyperlink won't be clickable while signing (it will be just visible on the background).</p>\n<p>I know it is possible to create custom field and use it in a template like described <a href=\"https://support.docusign.com/s/articles/How-to-create-a-hyperlink-in-DocuSign?language=en_US\" rel=\"nofollow noreferrer\">here</a>,\nbut in my case I am not using templates.</p>\n<p>I tried to create Text field programmatically like below and put it in the envelope, but the link is not clickable when the document is being reviewed. Is there a way to make it clickable while the signing (i.e. when the client opens the document in DS)</p>\n<pre><code>        Text asd = new Text()\n        .name(&quot;#HREF_TermsAndConditions&quot;)\n        .value(&quot;https://thelink&quot;)\n        .required(&quot;true&quot;)\n        .tooltip(&quot;https://thelink&quot;)\n        .documentId(&quot;1&quot;)\n        .pageNumber(&quot;1&quot;)\n        .xPosition(&quot;100&quot;)\n        .yPosition(&quot;600&quot;);\n</code></pre>\n"},{"tags":["java","multithreading","asynchronous","synchronization","thread-synchronization"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689315379,"post_id":76685093,"comment_id":135198666,"body_markdown":"You haven&#39;t shown how you check the value at the end, or the declaration of `countt` and `count`, or the end of your for loop.","body":"You haven&#39;t shown how you check the value at the end, or the declaration of <code>countt</code> and <code>count</code>, or the end of your for loop."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1689315903,"post_id":76685093,"comment_id":135198758,"body_markdown":"`count.compareAndSet` may fail and you have to retry. In your code, you don&#39;t retry.","body":"<code>count.compareAndSet</code> may fail and you have to retry. In your code, you don&#39;t retry."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1689315943,"post_id":76685093,"comment_id":135198767,"body_markdown":"Note that the increment operator (`++`) is not atomic. So, calling `count[0]++` from multiple threads is not safe and thus can give you unpredictable results. And your use of `compareAndSet` is also not &quot;safe&quot; either, because you don&#39;t try again if the increment fails (you probably should just be using `incrementAndGet()` or `getAndIncrement()` and just ignore the return value). Also, an `ExecutorService` won&#39;t terminate before `shutdown()` is called, so your `awaitTermination` will always wait 10 milliseconds no matter what, because you don&#39;t call `shutdown()` until after.","body":"Note that the increment operator (<code>++</code>) is not atomic. So, calling <code>count[0]++</code> from multiple threads is not safe and thus can give you unpredictable results. And your use of <code>compareAndSet</code> is also not &quot;safe&quot; either, because you don&#39;t try again if the increment fails (you probably should just be using <code>incrementAndGet()</code> or <code>getAndIncrement()</code> and just ignore the return value). Also, an <code>ExecutorService</code> won&#39;t terminate before <code>shutdown()</code> is called, so your <code>awaitTermination</code> will always wait 10 milliseconds no matter what, because you don&#39;t call <code>shutdown()</code> until after."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1689316093,"post_id":76685093,"comment_id":135198798,"body_markdown":"And you use a new thread pool for each task. You should reuse the thread pool. Also, checking the result in the loop is plain wrong.","body":"And you use a new thread pool for each task. You should reuse the thread pool. Also, checking the result in the loop is plain wrong."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689316158,"post_id":76685093,"comment_id":135198809,"body_markdown":"Now you have a catch with no matching try!","body":"Now you have a catch with no matching try!"},{"owner":{"account_id":28962393,"reputation":1,"user_id":22184619,"display_name":"aditya sharma"},"score":0,"creation_date":1689316294,"post_id":76685093,"comment_id":135198832,"body_markdown":"there is a try above the loop","body":"there is a try above the loop"},{"owner":{"account_id":28962393,"reputation":1,"user_id":22184619,"display_name":"aditya sharma"},"score":0,"creation_date":1689316428,"post_id":76685093,"comment_id":135198862,"body_markdown":"@tgdavies what can i do to achieve exact results \ni thing the array is taking slightly more time than atomic integer\nalso i cannot change the data structure","body":"@tgdavies what can i do to achieve exact results  i thing the array is taking slightly more time than atomic integer also i cannot change the data structure"},{"owner":{"account_id":28962393,"reputation":1,"user_id":22184619,"display_name":"aditya sharma"},"score":0,"creation_date":1689316559,"post_id":76685093,"comment_id":135198884,"body_markdown":"okay sure let me update the code","body":"okay sure let me update the code"},{"owner":{"account_id":28962393,"reputation":1,"user_id":22184619,"display_name":"aditya sharma"},"score":0,"creation_date":1689316768,"post_id":76685093,"comment_id":135198920,"body_markdown":"@Slaw  if i am using locks or countdownlatch or even if i increase the await time my testcases are passed \nBut i want all the threads to work concurrently without any sort of lock \nif the iteration is bigger i sometime get race condition","body":"@Slaw  if i am using locks or countdownlatch or even if i increase the await time my testcases are passed  But i want all the threads to work concurrently without any sort of lock  if the iteration is bigger i sometime get race condition"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689316922,"post_id":76685093,"comment_id":135198947,"body_markdown":"To get the result you want, you can swap the `shutdown` and `awaitTermination` lines, and increase the `awaitTermination` timeout to 200ms. But I don&#39;t really understand what you think your code does/should do.","body":"To get the result you want, you can swap the <code>shutdown</code> and <code>awaitTermination</code> lines, and increase the <code>awaitTermination</code> timeout to 200ms. But I don&#39;t really understand what you think your code does/should do."},{"owner":{"account_id":28962393,"reputation":1,"user_id":22184619,"display_name":"aditya sharma"},"score":0,"creation_date":1689317393,"post_id":76685093,"comment_id":135199023,"body_markdown":"@tgdavies  thank you for your help I am a newbie I am still learning all the the concepts I am trying to find a way how I can make count[0]++ work same as atomic I would take your advices and make changes accordingly","body":"@tgdavies  thank you for your help I am a newbie I am still learning all the the concepts I am trying to find a way how I can make count[0]++ work same as atomic I would take your advices and make changes accordingly"},{"owner":{"account_id":28962393,"reputation":1,"user_id":22184619,"display_name":"aditya sharma"},"score":0,"creation_date":1689317564,"post_id":76685093,"comment_id":135199057,"body_markdown":"@slaw thank you for your help","body":"@slaw thank you for your help"}],"owner":{"account_id":28962393,"reputation":1,"user_id":22184619,"display_name":"aditya sharma"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689316622,"creation_date":1689315009,"question_id":76685093,"body_markdown":"I have used an `executorService`. The pool size is 5, and I have initialized \r\nan array  `final int[] count = {0};` and AtomicInteger `at  = new AtomicInteger(0);`\r\n\r\nThen I am iterating this for 10000 times and in every iteration I am doing\r\n`count[0]++` \r\n`at.incrementAndGet()`\r\n\r\nBut why I am not getting same value at the end?\r\n\r\nI have used locks, synchronized block, `awaitTermination` with big delay, `countdownlatch`, but I don&#39;t want all this. Is there a way that I can achieve the same result?\r\n\r\n\r\n```\r\nclass AsyncExecutorApplicationTests {\r\n\tprivate static AtomicInteger count = new AtomicInteger(0);\r\n\r\n\t@Test\r\n\tvoid check() {\r\n\t\ttry {\r\n\t\t\tfinal int[] countt = {0};\r\n//\t\t\tLock lock = new ReentrantLock();\r\n\t\t\tfor (int i = 0; i &lt; 1000; i++) {\r\n\t\t\t\tExecutorService executorService = Executors.newFixedThreadPool(5);\r\n\t\t\t\texecutorService.execute(()-&gt; {\r\n\t\t\t\t\ttry\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tThread.sleep(100);\r\n\t\t\t\t\t\tcountt[0]++;\r\n\t\t\t\t\t\tcount.incrementAndGet();\r\n\t\t\t\t\t\tSystem.out.println(Thread.activeCount()+&quot;-----&quot; + Thread.currentThread().getName() + &quot;----&quot; + count.get() + &quot;-----&quot; + countt[0]);\r\n\t\t\t\t\t\tThread.sleep(100);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch (InterruptedException e)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\texecutorService.awaitTermination(10, TimeUnit.MILLISECONDS); // blocks/waits for certain interval as specified\r\n\t\t\t\texecutorService.shutdown();\r\n\t\t\t}\r\n\t\t\tAssertions.assertEquals(1000, count.get());\r\n\t\t\tAssertions.assertEquals(1000, countt[0]);\r\n\t\t}\r\n\t\tcatch (NullPointerException | InterruptedException e)\r\n\t\t{\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n```\r\n","title":"How to run threads asynchrounously but get results in synchronous way without using lock, countdownlatch, or synchronized block?","body":"<p>I have used an <code>executorService</code>. The pool size is 5, and I have initialized\nan array  <code>final int[] count = {0};</code> and AtomicInteger <code>at  = new AtomicInteger(0);</code></p>\n<p>Then I am iterating this for 10000 times and in every iteration I am doing\n<code>count[0]++</code>\n<code>at.incrementAndGet()</code></p>\n<p>But why I am not getting same value at the end?</p>\n<p>I have used locks, synchronized block, <code>awaitTermination</code> with big delay, <code>countdownlatch</code>, but I don't want all this. Is there a way that I can achieve the same result?</p>\n<pre><code>class AsyncExecutorApplicationTests {\n    private static AtomicInteger count = new AtomicInteger(0);\n\n    @Test\n    void check() {\n        try {\n            final int[] countt = {0};\n//          Lock lock = new ReentrantLock();\n            for (int i = 0; i &lt; 1000; i++) {\n                ExecutorService executorService = Executors.newFixedThreadPool(5);\n                executorService.execute(()-&gt; {\n                    try\n                    {\n                        Thread.sleep(100);\n                        countt[0]++;\n                        count.incrementAndGet();\n                        System.out.println(Thread.activeCount()+&quot;-----&quot; + Thread.currentThread().getName() + &quot;----&quot; + count.get() + &quot;-----&quot; + countt[0]);\n                        Thread.sleep(100);\n                    }\n                    catch (InterruptedException e)\n                    {\n                        throw new RuntimeException(e);\n                    }\n                }\n                );\n                executorService.awaitTermination(10, TimeUnit.MILLISECONDS); // blocks/waits for certain interval as specified\n                executorService.shutdown();\n            }\n            Assertions.assertEquals(1000, count.get());\n            Assertions.assertEquals(1000, countt[0]);\n        }\n        catch (NullPointerException | InterruptedException e)\n        {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":17893893,"reputation":55,"user_id":12999774,"display_name":"Anirudh Giran"},"score":3,"creation_date":1650648490,"post_id":71971429,"comment_id":127177303,"body_markdown":"How did you determine that at the very least Springboot v2.3.12 must be used with Spring v5.2.20?","body":"How did you determine that at the very least Springboot v2.3.12 must be used with Spring v5.2.20?"},{"owner":{"account_id":183202,"reputation":11590,"user_id":418439,"accept_rate":88,"display_name":"Lee Chee Kiam"},"score":0,"creation_date":1689314351,"post_id":71971429,"comment_id":135198529,"body_markdown":"It should be Spring Framework 5.2.15 for Spring Boot 2.3.12. [official link](https://docs.spring.io/spring-boot/docs/2.3.12.RELEASE/reference/html/getting-started.html#getting-started-system-requirements)","body":"It should be Spring Framework 5.2.15 for Spring Boot 2.3.12. <a href=\"https://docs.spring.io/spring-boot/docs/2.3.12.RELEASE/reference/html/getting-started.html#getting-started-system-requirements\" rel=\"nofollow noreferrer\">official link</a>"}],"tags":[],"owner":{"account_id":24762987,"reputation":60,"user_id":18647144,"display_name":"James S"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650642486,"creation_date":1650642486,"answer_id":71971429,"question_id":71971210,"body_markdown":"Use at least Spring Boot 2.3.12 with Spring Framework 5.2.20.\r\n\r\nNote that Spring Boot 2.3.x and 2.4.x are no longer supported, and 2.5.x support ends soon. Refer to release notes on the Spring Boot wiki at GitHub, and the support matrix at spring.io/projects/spring-boot\r\n\r\nSpring Boot normally manages your dependencies, so once you are on the current version you would not want to specify the Spring Framework version yourself.\r\n","title":"Spring and Spring Boot Compatibility","body":"<p>Use at least Spring Boot 2.3.12 with Spring Framework 5.2.20.</p>\n<p>Note that Spring Boot 2.3.x and 2.4.x are no longer supported, and 2.5.x support ends soon. Refer to release notes on the Spring Boot wiki at GitHub, and the support matrix at spring.io/projects/spring-boot</p>\n<p>Spring Boot normally manages your dependencies, so once you are on the current version you would not want to specify the Spring Framework version yourself.</p>\n"},{"tags":[],"owner":{"account_id":17609632,"reputation":106,"user_id":12777955,"display_name":"Kemot 90"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689316612,"creation_date":1685530855,"answer_id":76372790,"question_id":71971210,"body_markdown":"I use this approach for find compatibility.\r\nGo on [spring-boot maven repo][1]\r\n\r\n[![maven repository][2]][2]\r\n\r\nIn this case spring-core and context (in compile dependencies) is 5.3.27.. \r\nspring-boot 2.7.12 is compatible with Spring 5.3.27\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.springframework.boot/spring-boot\r\n  [2]: https://i.stack.imgur.com/yPcIW.png","title":"Spring and Spring Boot Compatibility","body":"<p>I use this approach for find compatibility.\nGo on <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot\" rel=\"nofollow noreferrer\">spring-boot maven repo</a></p>\n<p><a href=\"https://i.stack.imgur.com/yPcIW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yPcIW.png\" alt=\"maven repository\" /></a></p>\n<p>In this case spring-core and context (in compile dependencies) is 5.3.27..\nspring-boot 2.7.12 is compatible with Spring 5.3.27</p>\n"},{"tags":[],"owner":{"account_id":183202,"reputation":11590,"user_id":418439,"accept_rate":88,"display_name":"Lee Chee Kiam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689314048,"creation_date":1689314048,"answer_id":76685030,"question_id":71971210,"body_markdown":"If you would like to refer to the official documentation for the latest version, you may refer to [System Requirements][1] section. For older versions, you may google with [&quot;spring boot&quot; &quot;system requirements&quot;][2] and look for your version.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started.html#getting-started.system-requirements\r\n  [2]: https://www.google.com/search?q=%22spring%20boot%22%20%22system%20requirements%22","title":"Spring and Spring Boot Compatibility","body":"<p>If you would like to refer to the official documentation for the latest version, you may refer to <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started.html#getting-started.system-requirements\" rel=\"nofollow noreferrer\">System Requirements</a> section. For older versions, you may google with <a href=\"https://www.google.com/search?q=%22spring%20boot%22%20%22system%20requirements%22\" rel=\"nofollow noreferrer\">&quot;spring boot&quot; &quot;system requirements&quot;</a> and look for your version.</p>\n"}],"owner":{"account_id":17893893,"reputation":55,"user_id":12999774,"display_name":"Anirudh Giran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6025,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1689316612,"creation_date":1650641424,"question_id":71971210,"body_markdown":"Is there a way to check the compatibility of Spring framework and Springboot versions?\r\n\r\nI recently switched from Spring v4.3.20.RELEASE to Spring v5.2.20.RELEASE\r\nand Springboot v1.5.17 to v2.1.10.RELEASE \r\nAnd now, I am facing many compatibility issues. \r\nI am having a hard time figuring out the compatible versions. \r\n\r\nPlease help","title":"Spring and Spring Boot Compatibility","body":"<p>Is there a way to check the compatibility of Spring framework and Springboot versions?</p>\n<p>I recently switched from Spring v4.3.20.RELEASE to Spring v5.2.20.RELEASE\nand Springboot v1.5.17 to v2.1.10.RELEASE\nAnd now, I am facing many compatibility issues.\nI am having a hard time figuring out the compatible versions.</p>\n<p>Please help</p>\n"},{"tags":["java","spring-boot","localhost","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1689271224,"post_id":76682017,"comment_id":135193555,"body_markdown":"Can you explain why you have the do - while loop there, what you are trying to achieve with it?","body":"Can you explain why you have the do - while loop there, what you are trying to achieve with it?"},{"owner":{"account_id":26943637,"reputation":11,"user_id":20513978,"display_name":"gabbagoo"},"score":0,"creation_date":1689274870,"post_id":76682017,"comment_id":135194306,"body_markdown":"@TatuLund The purpose is to run the initial conversion selection menu until valid input is typed. The why is because the instructor requires it.","body":"@TatuLund The purpose is to run the initial conversion selection menu until valid input is typed. The why is because the instructor requires it."},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1689327972,"post_id":76682017,"comment_id":135200993,"body_markdown":"Is vaadin your choice or of the instructor? Because writing a menu like that might be OK for a CLI/TUI - but not for Vaadin.","body":"Is vaadin your choice or of the instructor? Because writing a menu like that might be OK for a CLI/TUI - but not for Vaadin."}],"answers":[{"comments":[{"owner":{"account_id":26943637,"reputation":11,"user_id":20513978,"display_name":"gabbagoo"},"score":0,"creation_date":1689362975,"post_id":76684859,"comment_id":135208261,"body_markdown":"I realized I was using the wrong tool for the task just last night :) This just confirms and adds to my realization. Thank you.","body":"I realized I was using the wrong tool for the task just last night :) This just confirms and adds to my realization. Thank you."}],"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689311371,"creation_date":1689311371,"answer_id":76684859,"question_id":76682017,"body_markdown":"I think you have misunderstood the concept of Vaadin. You Java code runs on the server and the UI is shown on the Browser. This means that there is two machines and a network connection between them. I.e. it is a distributed system. Thus in Vaadin application, everything is based on events and event handling.\r\n\r\n    chooseConversionButton.addClickListener(eventChooseConversion -&gt; { .. };\r\n\r\nThe execution is not stopping here waiting for input. The main thread execution continues. Instead the callback in the listener is executed when the event happens. The blocking actions are not possible in any distributed system such as Vaadin.\r\n\r\nThus in your code do - while loop is practically eternal loop. Based on your comment it is completely un-necessary here.\r\n\r\nSo if you want to present a menu and take input, and have &quot;something&quot; that needs to be done when input is taken, you need to call that &quot;something&quot; in the event handler.\r\n\r\nI recommend to browse thru the [Tutorial][1] section of the Vaadin documentation and download [app starter][2] to play with the concept.\r\n\r\n\r\n  [1]: https://vaadin.com/docs/latest/tutorial\r\n  [2]: https://start.vaadin.com/app","title":"Can I use a do-while loop with Vaadin? If I do the localhost:8080 shows a loading bar that almost fills but never does","body":"<p>I think you have misunderstood the concept of Vaadin. You Java code runs on the server and the UI is shown on the Browser. This means that there is two machines and a network connection between them. I.e. it is a distributed system. Thus in Vaadin application, everything is based on events and event handling.</p>\n<pre><code>chooseConversionButton.addClickListener(eventChooseConversion -&gt; { .. };\n</code></pre>\n<p>The execution is not stopping here waiting for input. The main thread execution continues. Instead the callback in the listener is executed when the event happens. The blocking actions are not possible in any distributed system such as Vaadin.</p>\n<p>Thus in your code do - while loop is practically eternal loop. Based on your comment it is completely un-necessary here.</p>\n<p>So if you want to present a menu and take input, and have &quot;something&quot; that needs to be done when input is taken, you need to call that &quot;something&quot; in the event handler.</p>\n<p>I recommend to browse thru the <a href=\"https://vaadin.com/docs/latest/tutorial\" rel=\"nofollow noreferrer\">Tutorial</a> section of the Vaadin documentation and download <a href=\"https://start.vaadin.com/app\" rel=\"nofollow noreferrer\">app starter</a> to play with the concept.</p>\n"}],"owner":{"account_id":26943637,"reputation":11,"user_id":20513978,"display_name":"gabbagoo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689316480,"creation_date":1689270213,"question_id":76682017,"body_markdown":"A project for school requires us to make a Web Application for various conversions. For the time being I am using localhost:8080 to test as I build. The instructions require a do-while loop for the initial menu. I have the logic up to the first temperature conversion (F to C) and it works just fine until I add a do-while.\r\n\r\nSo far I&#39;ve tried wrapping the entire code in the do-while and just the menu in a do-while (I haven&#39;t tried every single possibility of do-while placement yet). In both cases the page shows a loading bar that almost fills, starts flashing, and stays there, forever loading. Surely I&#39;m missing something simple?\r\n```\r\n        add(new H1(&quot;Welcome to the Conversion Challenge!&quot;));\r\n\r\n        IntegerField menuChoice = new IntegerField();\r\n        Button chooseConversionButton = new Button(&quot;Onward!&quot;);\r\n        AtomicInteger inputValue = new AtomicInteger(-1);\r\n        do\r\n        {\r\n            add(new H3(&quot;What method of conversion would you like to indulge in?&quot;));\r\n            add(new Paragraph(&quot;1) A temperate one?&quot;));\r\n            add(new Paragraph(&quot;2) Something heavier?&quot;));\r\n            add(new Paragraph(&quot;3) Maybe you&#39;re money-minded?&quot;));\r\n            add(new Paragraph(&quot;4) Or just give up!&quot;));\r\n\r\n            menuChoice.setLabel(&quot;What is your choice?&quot;);\r\n            menuChoice.setHelperText(&quot;Don&#39;t be silly... go ahead.&quot;);\r\n            add(menuChoice, chooseConversionButton);\r\n\r\n        \r\n            chooseConversionButton.addClickListener(eventChooseConversion -&gt; {\r\n                inputValue.set(menuChoice.getValue());\r\n\r\n                removeAll();\r\n\r\n                switch(inputValue.get())\r\n                { \r\n        ... code continues \r\n       } while(inputValue.intValue() != 4);\r\n```","title":"Can I use a do-while loop with Vaadin? If I do the localhost:8080 shows a loading bar that almost fills but never does","body":"<p>A project for school requires us to make a Web Application for various conversions. For the time being I am using localhost:8080 to test as I build. The instructions require a do-while loop for the initial menu. I have the logic up to the first temperature conversion (F to C) and it works just fine until I add a do-while.</p>\n<p>So far I've tried wrapping the entire code in the do-while and just the menu in a do-while (I haven't tried every single possibility of do-while placement yet). In both cases the page shows a loading bar that almost fills, starts flashing, and stays there, forever loading. Surely I'm missing something simple?</p>\n<pre><code>        add(new H1(&quot;Welcome to the Conversion Challenge!&quot;));\n\n        IntegerField menuChoice = new IntegerField();\n        Button chooseConversionButton = new Button(&quot;Onward!&quot;);\n        AtomicInteger inputValue = new AtomicInteger(-1);\n        do\n        {\n            add(new H3(&quot;What method of conversion would you like to indulge in?&quot;));\n            add(new Paragraph(&quot;1) A temperate one?&quot;));\n            add(new Paragraph(&quot;2) Something heavier?&quot;));\n            add(new Paragraph(&quot;3) Maybe you're money-minded?&quot;));\n            add(new Paragraph(&quot;4) Or just give up!&quot;));\n\n            menuChoice.setLabel(&quot;What is your choice?&quot;);\n            menuChoice.setHelperText(&quot;Don't be silly... go ahead.&quot;);\n            add(menuChoice, chooseConversionButton);\n\n        \n            chooseConversionButton.addClickListener(eventChooseConversion -&gt; {\n                inputValue.set(menuChoice.getValue());\n\n                removeAll();\n\n                switch(inputValue.get())\n                { \n        ... code continues \n       } while(inputValue.intValue() != 4);\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1689331615,"post_id":76684957,"comment_id":135201630,"body_markdown":"Can you provide an example (input number and output number)?","body":"Can you provide an example (input number and output number)?"},{"owner":{"account_id":23689889,"reputation":1,"user_id":17714357,"display_name":"Lakshya Kumar"},"score":0,"creation_date":1689430647,"post_id":76684957,"comment_id":135214074,"body_markdown":"Guys i&#39;m not looking to reverse the integer. I need the vertical mirror image of it.","body":"Guys i&#39;m not looking to reverse the integer. I need the vertical mirror image of it."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1689431805,"post_id":76684957,"comment_id":135214214,"body_markdown":"Is this a joke or serious? How do you think you can take a character, make an image of it, and then store as a newly created character based on an image? Do you think of creating an own font? Or am I missing something? Please clarify in more detail.","body":"Is this a joke or serious? How do you think you can take a character, make an image of it, and then store as a newly created character based on an image? Do you think of creating an own font? Or am I missing something? Please clarify in more detail."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1689432087,"post_id":76684957,"comment_id":135214253,"body_markdown":"If this is a task that someone has given you, then it may be an attempt to trap you. Or, if it&#39;s meant to be serious, then it&#39;s definitely something for very very advanced developers.","body":"If this is a task that someone has given you, then it may be an attempt to trap you. Or, if it&#39;s meant to be serious, then it&#39;s definitely something for very very advanced developers."}],"answers":[{"comments":[{"owner":{"account_id":23689889,"reputation":1,"user_id":17714357,"display_name":"Lakshya Kumar"},"score":0,"creation_date":1689430452,"post_id":76685175,"comment_id":135214045,"body_markdown":"I actually dont need to reverse the order, i&#39;m talking about the vertical mirror image of the number.","body":"I actually dont need to reverse the order, i&#39;m talking about the vertical mirror image of the number."}],"tags":[],"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689316095,"creation_date":1689316095,"answer_id":76685175,"question_id":76684957,"body_markdown":"```java\r\nint n = 123;\r\nSystem.out.println(new StringBuilder().append(n).reverse());\r\n```\r\n\r\nNo artificial intelligence  involved ;)","title":"Mirroring a number and printing to console","body":"<pre class=\"lang-java prettyprint-override\"><code>int n = 123;\nSystem.out.println(new StringBuilder().append(n).reverse());\n</code></pre>\n<p>No artificial intelligence  involved ;)</p>\n"}],"owner":{"account_id":23689889,"reputation":1,"user_id":17714357,"display_name":"Lakshya Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689316095,"creation_date":1689313021,"question_id":76684957,"body_markdown":"I have a number stored in a variable. I need to create a mirror image of this, store in another variable and print it.\r\n\r\nI can only find the isMirrored class but that is to check if something is mirror. I need a variable to store the special mirrored character.","title":"Mirroring a number and printing to console","body":"<p>I have a number stored in a variable. I need to create a mirror image of this, store in another variable and print it.</p>\n<p>I can only find the isMirrored class but that is to check if something is mirror. I need a variable to store the special mirrored character.</p>\n"},{"tags":["javascript","java","maven","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1689302597,"post_id":76682188,"comment_id":135197479,"body_markdown":"the JS engine is stricter. try making `karate-config.js` a single function and the other 2 helper functions within it or move them out read from separate files. that is all that can be diagnosed remotely. if you still are stuck, follow this process: https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue - in future ask your team to try the RC releases as soon as they are available to avoid surprises and provide feedback. you are attempting a huge jump in version so you will have problems.","body":"the JS engine is stricter. try making <code>karate-config.js</code> a single function and the other 2 helper functions within it or move them out read from separate files. that is all that can be diagnosed remotely. if you still are stuck, follow this process: <a href=\"https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue</a> - in future ask your team to try the RC releases as soon as they are available to avoid surprises and provide feedback. you are attempting a huge jump in version so you will have problems."},{"owner":{"account_id":23528255,"reputation":33,"user_id":17574383,"display_name":"MrMag1990"},"score":0,"creation_date":1689317333,"post_id":76682188,"comment_id":135199011,"body_markdown":"ok I am one step forward but still can`t call karate-config.js\nWhen I write url is working but wchen I want use address1 in karate-config.js is not working.\nAuthorization: Bearer accessToken1 --&gt; in here must be a token not variable","body":"ok I am one step forward but still can`t call karate-config.js When I write url is working but wchen I want use address1 in karate-config.js is not working. Authorization: Bearer accessToken1 --&gt; in here must be a token not variable"},{"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1689319575,"post_id":76682188,"comment_id":135199400,"body_markdown":"sorry, I give up","body":"sorry, I give up"},{"owner":{"account_id":23528255,"reputation":33,"user_id":17574383,"display_name":"MrMag1990"},"score":0,"creation_date":1689319983,"post_id":76682188,"comment_id":135199486,"body_markdown":"quickly :P I must find why :D","body":"quickly :P I must find why :D"}],"owner":{"account_id":23528255,"reputation":33,"user_id":17574383,"display_name":"MrMag1990"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689315807,"creation_date":1689271875,"question_id":76682188,"body_markdown":"I use Java 17 and I upgrade karate to version to 1.4.0 and Junit5 to version 1.4.1.RC2 I can`t run my tests.\r\nTests works in 0.9.6 version of Karate and old version Junit but no in latest version.\r\n\r\nThis is my pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;csr-web-karate-tests&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;karate.version&gt;1.4.0&lt;/karate.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;pl.santander&lt;/groupId&gt;\r\n            &lt;artifactId&gt;informix-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;eu.vitaliy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mazovia-charset&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;karate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${karate.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;karate-apache&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.6&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-reporting&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.5&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;karate-junit5&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.1.RC2&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\r\n            &lt;version&gt;2.21.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\r\n            &lt;artifactId&gt;js&lt;/artifactId&gt;\r\n            &lt;version&gt;23.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\r\n            &lt;artifactId&gt;js-scriptengine&lt;/artifactId&gt;\r\n            &lt;version&gt;23.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;testResources&gt;\r\n            &lt;testResource&gt;\r\n                &lt;directory&gt;src/test/java&lt;/directory&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/testResource&gt;\r\n        &lt;/testResources&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;release&gt;11&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nMy runner class \r\n\r\n\r\n```\r\npublic class WipTest {\r\n    @Karate.Test\r\n    Karate wipTest() {\r\n        return Karate\r\n                .run(&quot;classpath:features&quot;)\r\n                .tags(&quot;@wip&quot;)\r\n                .relativeTo(getClass());\r\n    }\r\n}\r\n```\r\n\r\nAnd My karate-config\r\n\r\n\r\n```\r\nfunction fn() {\r\n    var env = karate.env;\r\n    var baseUrl = &#39;&#39;;\r\n    var secondUrl = &#39;&#39;;\r\n    var accessToken = &#39;&#39;;\r\n    var accessToken1 = &#39;&#39;;\r\n    var datebase = &#39;&#39;;\r\n\r\n    if (env === &quot;dev&quot;) {\r\n        var port = 8080;\r\n        baseUrl = &#39;http://localhost&#39; + &quot;:&quot; + port + &quot;/api&quot;;\r\n\r\n    } else if (env === &quot;RELEASE&quot;) {\r\n        baseUrl = &quot;hidden specially&quot;;\r\n        accessToken = getZt2Token();\r\n        secondUrl = &#39;hidden specially&#39;;\r\n        accessToken1 = getRelease();\r\n\r\n    } else if (env === &quot;ZT002&quot;) {\r\n        baseUrl = &quot;hidden specially&quot;;\r\n        accessToken = getZt2Token();\r\n        secondUrl = &#39;hidden specially&#39;;\r\n        accessToken1 = getRelease();\r\n\r\n    } else if (env === &quot;ZT004&quot;) {\r\n        baseUrl = &quot;hidden specially&quot;;\r\n        accessToken = getZt4Token();\r\n\r\n    } else if (env === &quot;ZT001&quot;) {\r\n        baseUrl = &quot;hidden specially&quot;;\r\n        accessToken = getZt1Token();\r\n\r\n    } else {\r\n        baseUrl = null\r\n        secondUrl = null\r\n        accessToken = null\r\n        accessToken1 = null\r\n        datebase = null\r\n    }\r\n\r\n    var config = {\r\n        env: env,\r\n        address: baseUrl,\r\n        address1: secondUrl,\r\n        accessToken: accessToken,\r\n        accessToken1: accessToken1,\r\n        datebase: datebase,\r\n    }\r\n\r\n    karate.configure(&#39;connectTimeout&#39;, 30000);\r\n    karate.configure(&#39;readTimeout&#39;, 60000);\r\n\r\n    return config;\r\n}\r\n\r\nfunction getRelease(){\r\n    var config = {};\r\n    var tokenUrl = &#39;hidden specially&#39;;\r\n    var grantType = &#39;hidden specially&#39;;\r\n    var clientSecret = &#39;hidden specially&#39;;\r\n    var clientId = &#39;hidden specially&#39;;\r\n    config.authInfo = {\r\n        authTokenUrl: tokenUrl,\r\n        authClientId: clientId,\r\n        authClientSecret: clientSecret,\r\n        authGrantType: grantType,\r\n    }\r\n    var result = karate.call(&quot;classpath:src/test/java/features/getAccessToken.feature&quot;, config)[&#39;response&#39;];\r\n    return result[&#39;access_token&#39;];\r\n}\r\n\r\nfunction getZt2Token() {\r\n    var config = {};\r\n    var tokenUrl = &#39;hidden specially&#39;;\r\n    var grantType = &#39;hidden specially&#39;;\r\n    var clientSecret = &#39;hidden specially&#39;;\r\n    var clientId = &#39;hidden specially&#39;;\r\n    config.authInfo = {\r\n        authTokenUrl: tokenUrl,\r\n        authClientId: clientId,\r\n        authClientSecret: clientSecret,\r\n        authGrantType: grantType,\r\n    }\r\n    var result = karate.call(&quot;classpath:src/test/java/features/getAccessToken.feature&quot;, config)[&#39;response&#39;];\r\n    return result[&#39;access_token&#39;];\r\n}\r\n\r\nect.\r\n```\r\n\r\n\r\n\r\nAnd my test \r\n\r\n```\r\nScenario Outline: PUT Transaction - accept -  &lt;decision&gt;, &lt;reasonId&gt;, &lt;comment&gt;\r\n    * url address1\r\n    * path &#39;hidden specially&#39;\r\n    * header Authorization = &#39;Bearer &#39; + accessToken1\r\n    * configure ssl = true\r\n    * def req = read(&#39;classpath:src/test/java/resources/transaction.json&#39;)\r\n    * def randomPaymentId = call read(&#39;classpath:src/test/java/resources/randomPaymentId.js&#39;)\r\n    * set req.header.paymentId = randomPaymentId\r\n\r\n    Given request req\r\n    When method POST\r\n    Then status 200\r\n\r\nrest hidden specially\r\n\r\n```\r\n\r\nTest are good but no matter what you do I have this error:\r\n\r\n\r\n```\r\norg.opentest4j.AssertionFailedError: &gt;&gt; classpath:features/acceptOrBlockTransactionsNegative.feature:185\r\n&gt;&gt; karate-config.js failed\r\n&gt;&gt; js failed:\r\n&gt;&gt;&gt;&gt;\r\nnext is the complete karate-config\r\n```\r\n\r\n\r\n \r\n\r\nAnyone know what this might be about? I read all stackoverflow and I don`t find a solution.","title":"Karate-config.js failed and js failed","body":"<p>I use Java 17 and I upgrade karate to version to 1.4.0 and Junit5 to version 1.4.1.RC2 I can`t run my tests.\nTests works in 0.9.6 version of Karate and old version Junit but no in latest version.</p>\n<p>This is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;csr-web-karate-tests&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;karate.version&gt;1.4.0&lt;/karate.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;6.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;pl.santander&lt;/groupId&gt;\n            &lt;artifactId&gt;informix-core&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;eu.vitaliy&lt;/groupId&gt;\n            &lt;artifactId&gt;mazovia-charset&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\n            &lt;artifactId&gt;karate-core&lt;/artifactId&gt;\n            &lt;version&gt;${karate.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\n            &lt;artifactId&gt;karate-apache&lt;/artifactId&gt;\n            &lt;version&gt;0.9.6&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-reporting&lt;/artifactId&gt;\n            &lt;version&gt;5.7.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\n            &lt;artifactId&gt;karate-junit5&lt;/artifactId&gt;\n            &lt;version&gt;1.4.1.RC2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\n            &lt;version&gt;2.21.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\n            &lt;artifactId&gt;js&lt;/artifactId&gt;\n            &lt;version&gt;23.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\n            &lt;artifactId&gt;js-scriptengine&lt;/artifactId&gt;\n            &lt;version&gt;23.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;testResources&gt;\n            &lt;testResource&gt;\n                &lt;directory&gt;src/test/java&lt;/directory&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/testResource&gt;\n        &lt;/testResources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My runner class</p>\n<pre><code>public class WipTest {\n    @Karate.Test\n    Karate wipTest() {\n        return Karate\n                .run(&quot;classpath:features&quot;)\n                .tags(&quot;@wip&quot;)\n                .relativeTo(getClass());\n    }\n}\n</code></pre>\n<p>And My karate-config</p>\n<pre><code>function fn() {\n    var env = karate.env;\n    var baseUrl = '';\n    var secondUrl = '';\n    var accessToken = '';\n    var accessToken1 = '';\n    var datebase = '';\n\n    if (env === &quot;dev&quot;) {\n        var port = 8080;\n        baseUrl = 'http://localhost' + &quot;:&quot; + port + &quot;/api&quot;;\n\n    } else if (env === &quot;RELEASE&quot;) {\n        baseUrl = &quot;hidden specially&quot;;\n        accessToken = getZt2Token();\n        secondUrl = 'hidden specially';\n        accessToken1 = getRelease();\n\n    } else if (env === &quot;ZT002&quot;) {\n        baseUrl = &quot;hidden specially&quot;;\n        accessToken = getZt2Token();\n        secondUrl = 'hidden specially';\n        accessToken1 = getRelease();\n\n    } else if (env === &quot;ZT004&quot;) {\n        baseUrl = &quot;hidden specially&quot;;\n        accessToken = getZt4Token();\n\n    } else if (env === &quot;ZT001&quot;) {\n        baseUrl = &quot;hidden specially&quot;;\n        accessToken = getZt1Token();\n\n    } else {\n        baseUrl = null\n        secondUrl = null\n        accessToken = null\n        accessToken1 = null\n        datebase = null\n    }\n\n    var config = {\n        env: env,\n        address: baseUrl,\n        address1: secondUrl,\n        accessToken: accessToken,\n        accessToken1: accessToken1,\n        datebase: datebase,\n    }\n\n    karate.configure('connectTimeout', 30000);\n    karate.configure('readTimeout', 60000);\n\n    return config;\n}\n\nfunction getRelease(){\n    var config = {};\n    var tokenUrl = 'hidden specially';\n    var grantType = 'hidden specially';\n    var clientSecret = 'hidden specially';\n    var clientId = 'hidden specially';\n    config.authInfo = {\n        authTokenUrl: tokenUrl,\n        authClientId: clientId,\n        authClientSecret: clientSecret,\n        authGrantType: grantType,\n    }\n    var result = karate.call(&quot;classpath:src/test/java/features/getAccessToken.feature&quot;, config)['response'];\n    return result['access_token'];\n}\n\nfunction getZt2Token() {\n    var config = {};\n    var tokenUrl = 'hidden specially';\n    var grantType = 'hidden specially';\n    var clientSecret = 'hidden specially';\n    var clientId = 'hidden specially';\n    config.authInfo = {\n        authTokenUrl: tokenUrl,\n        authClientId: clientId,\n        authClientSecret: clientSecret,\n        authGrantType: grantType,\n    }\n    var result = karate.call(&quot;classpath:src/test/java/features/getAccessToken.feature&quot;, config)['response'];\n    return result['access_token'];\n}\n\nect.\n</code></pre>\n<p>And my test</p>\n<pre><code>Scenario Outline: PUT Transaction - accept -  &lt;decision&gt;, &lt;reasonId&gt;, &lt;comment&gt;\n    * url address1\n    * path 'hidden specially'\n    * header Authorization = 'Bearer ' + accessToken1\n    * configure ssl = true\n    * def req = read('classpath:src/test/java/resources/transaction.json')\n    * def randomPaymentId = call read('classpath:src/test/java/resources/randomPaymentId.js')\n    * set req.header.paymentId = randomPaymentId\n\n    Given request req\n    When method POST\n    Then status 200\n\nrest hidden specially\n\n</code></pre>\n<p>Test are good but no matter what you do I have this error:</p>\n<pre><code>org.opentest4j.AssertionFailedError: &gt;&gt; classpath:features/acceptOrBlockTransactionsNegative.feature:185\n&gt;&gt; karate-config.js failed\n&gt;&gt; js failed:\n&gt;&gt;&gt;&gt;\nnext is the complete karate-config\n</code></pre>\n<p>Anyone know what this might be about? I read all stackoverflow and I don`t find a solution.</p>\n"},{"tags":["java","spring","spring-mvc","model-view-controller"],"comments":[{"owner":{"account_id":58163,"reputation":14175,"user_id":174184,"accept_rate":73,"display_name":"TJ-"},"score":2,"creation_date":1407871842,"post_id":25272543,"comment_id":39380799,"body_markdown":"You need to add a no-args constructor to have @Controller work. `public TestController() {}` .When you remove your custom constructor, the default constructor (no args) becomes available, but in the presence of a constructor with args, a no-args constructor is not implicitly present.","body":"You need to add a no-args constructor to have @Controller work. <code>public TestController() {}</code> .When you remove your custom constructor, the default constructor (no args) becomes available, but in the presence of a constructor with args, a no-args constructor is not implicitly present."},{"owner":{"account_id":3344039,"reputation":11379,"user_id":2809564,"accept_rate":82,"display_name":"john"},"score":0,"creation_date":1407871952,"post_id":25272543,"comment_id":39380847,"body_markdown":"@TJ yes it works fine after adding that but before I didn&#39;t have any default constructor, just now I added the constructor with parameters then it started failing.","body":"@TJ yes it works fine after adding that but before I didn&#39;t have any default constructor, just now I added the constructor with parameters then it started failing."},{"owner":{"account_id":58163,"reputation":14175,"user_id":174184,"accept_rate":73,"display_name":"TJ-"},"score":0,"creation_date":1407871996,"post_id":25272543,"comment_id":39380881,"body_markdown":"Add another constructor with no-args. You can have multiple constructors. `Polymorphism`. A default no-args constructor is implicit in the absence of explicitly defined constructors.","body":"Add another constructor with no-args. You can have multiple constructors. <code>Polymorphism</code>. A default no-args constructor is implicit in the absence of explicitly defined constructors."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":2,"creation_date":1407872054,"post_id":25272543,"comment_id":39380914,"body_markdown":"This is simple Java: if you do not have any constructors, then a default no-argument constructor will be created for you. Once you created your own constructor, it&#39;s your responsibility to create a default one (if needed). Since Java Bean requires a default constructor you get your error.","body":"This is simple Java: if you do not have any constructors, then a default no-argument constructor will be created for you. Once you created your own constructor, it&#39;s your responsibility to create a default one (if needed). Since Java Bean requires a default constructor you get your error."}],"answers":[{"comments":[{"owner":{"account_id":6885432,"reputation":319,"user_id":5477211,"accept_rate":43,"display_name":"Nibras"},"score":0,"creation_date":1477118687,"post_id":25272687,"comment_id":67645131,"body_markdown":"i&#39;m also getting this error, but i cannot add a default constructor since i&#39;m using a class which is from jar file.\nClass name : FormDataContentDisposition,\njar file : jersey,\nhow to avoid this issue??","body":"i&#39;m also getting this error, but i cannot add a default constructor since i&#39;m using a class which is from jar file. Class name : FormDataContentDisposition, jar file : jersey, how to avoid this issue??"},{"owner":{"account_id":83160,"reputation":5081,"user_id":233347,"accept_rate":87,"display_name":"prashant thakre"},"score":0,"creation_date":1477383692,"post_id":25272687,"comment_id":67732027,"body_markdown":"@NibrasSameeh let me know if this can help you http://stackoverflow.com/questions/40113406/no-default-constructor-found-exception","body":"@NibrasSameeh let me know if this can help you <a href=\"http://stackoverflow.com/questions/40113406/no-default-constructor-found-exception\" title=\"no default constructor found exception\">stackoverflow.com/questions/40113406/&hellip;</a>"},{"owner":{"account_id":6885432,"reputation":319,"user_id":5477211,"accept_rate":43,"display_name":"Nibras"},"score":2,"creation_date":1477389545,"post_id":25272687,"comment_id":67735880,"body_markdown":"thanks for the reply, that question has been asked by my self, still i haven&#39;t got the correct answer yet.","body":"thanks for the reply, that question has been asked by my self, still i haven&#39;t got the correct answer yet."}],"tags":[],"owner":{"account_id":83160,"reputation":5081,"user_id":233347,"accept_rate":87,"display_name":"prashant thakre"},"comment_count":3,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1651797980,"creation_date":1407872200,"answer_id":25272687,"question_id":25272543,"body_markdown":"You have to define *no-args* or *default* constructor if you are creating your own constructor.\r\n\r\nYou can read why default or no argument constructor is required here:  \r\n[Why default or no argument constructor is important in Java class?][1]\r\n\r\n\r\n  [1]: https://javarevisited.blogspot.com/2014/01/why-default-or-no-argument-constructor-java-class.html","title":"No default constructor found; nested exception is java.lang.NoSuchMethodException with Spring MVC?","body":"<p>You have to define <em>no-args</em> or <em>default</em> constructor if you are creating your own constructor.</p>\n<p>You can read why default or no argument constructor is required here:<br />\n<a href=\"https://javarevisited.blogspot.com/2014/01/why-default-or-no-argument-constructor-java-class.html\" rel=\"nofollow noreferrer\">Why default or no argument constructor is important in Java class?</a></p>\n"},{"comments":[{"owner":{"account_id":4363928,"reputation":547,"user_id":3560258,"accept_rate":100,"display_name":"aldrael"},"score":0,"creation_date":1479717237,"post_id":25273113,"comment_id":68658904,"body_markdown":"The same applies when using `@Value` annotation in constructor. Spring simply needs to know you want to inject something.","body":"The same applies when using <code>@Value</code> annotation in constructor. Spring simply needs to know you want to inject something."}],"tags":[],"owner":{"account_id":76427,"reputation":3135,"user_id":218787,"display_name":"Ricardo Veguilla"},"comment_count":1,"down_vote_count":1,"up_vote_count":59,"is_accepted":false,"score":58,"last_activity_date":1407873789,"creation_date":1407873789,"answer_id":25273113,"question_id":25272543,"body_markdown":"Spring cannot instantiate your TestController because its only constructor requires a parameter. You can add a no-arg constructor or you add @Autowired annotation to the constructor:\r\n\r\n    @Autowired\r\n    public TestController(KeeperClient testClient) {\r\n        TestController.testClient = testClient;\r\n    }\r\n\r\nIn this case, you are explicitly telling Spring to search the application context for a KeeperClient bean and inject it  when instantiating the TestControlller.  ","title":"No default constructor found; nested exception is java.lang.NoSuchMethodException with Spring MVC?","body":"<p>Spring cannot instantiate your TestController because its only constructor requires a parameter. You can add a no-arg constructor or you add @Autowired annotation to the constructor:</p>\n\n<pre><code>@Autowired\npublic TestController(KeeperClient testClient) {\n    TestController.testClient = testClient;\n}\n</code></pre>\n\n<p>In this case, you are explicitly telling Spring to search the application context for a KeeperClient bean and inject it  when instantiating the TestControlller.  </p>\n"},{"comments":[{"owner":{"account_id":1068297,"reputation":633,"user_id":1068222,"accept_rate":33,"display_name":"y434y"},"score":0,"creation_date":1607507935,"post_id":48442472,"comment_id":115291886,"body_markdown":"Had the same problem - I just simply moved the class up.","body":"Had the same problem - I just simply moved the class up."}],"tags":[],"owner":{"account_id":1326371,"reputation":4444,"user_id":1271094,"accept_rate":76,"display_name":"MK Yung"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1516881978,"creation_date":1516881978,"answer_id":48442472,"question_id":25272543,"body_markdown":"In my case, spring threw this because i forgot to make an inner class static. \n\nWhen you found that it doesnt help even adding a no-arg constructor, please check your modifier.","title":"No default constructor found; nested exception is java.lang.NoSuchMethodException with Spring MVC?","body":"<p>In my case, spring threw this because i forgot to make an inner class static. </p>\n\n<p>When you found that it doesnt help even adding a no-arg constructor, please check your modifier.</p>\n"},{"tags":[],"owner":{"account_id":5788395,"reputation":5166,"user_id":4566794,"accept_rate":86,"display_name":"IKo"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1567271962,"creation_date":1567271962,"answer_id":57740156,"question_id":25272543,"body_markdown":"In my case I forgot to add `@RequestBody` annotation to the method argument:\r\n\r\n    public TestController(@RequestBody KeeperClient testClient) {\r\n            TestController.testClient = testClient;\r\n        }","title":"No default constructor found; nested exception is java.lang.NoSuchMethodException with Spring MVC?","body":"<p>In my case I forgot to add <code>@RequestBody</code> annotation to the method argument:</p>\n\n<pre><code>public TestController(@RequestBody KeeperClient testClient) {\n        TestController.testClient = testClient;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6077039,"reputation":1004,"user_id":4744055,"display_name":"Manabu Tokunaga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585238855,"creation_date":1585238855,"answer_id":60871413,"question_id":25272543,"body_markdown":"If your environment is using **both** Guice and Spring and using the constructor @Inject, for example, with Play Framework, you will also run into this issue if you have mistakenly auto-completed the import with an incorrect choice of:\r\n\r\n    import com.google.inject.Inject;\r\n\r\nThen you get the same `missing default constructor` error even though the rest of your source with @Inject looks exactly the same way as other working components in your project and compile without an error.\r\n\r\nCorrect that with:\r\n\r\n    import javax.inject.Inject;\r\n\r\nDo not write a default constructor with construction time injection.","title":"No default constructor found; nested exception is java.lang.NoSuchMethodException with Spring MVC?","body":"<p>If your environment is using <strong>both</strong> Guice and Spring and using the constructor @Inject, for example, with Play Framework, you will also run into this issue if you have mistakenly auto-completed the import with an incorrect choice of:</p>\n\n<pre><code>import com.google.inject.Inject;\n</code></pre>\n\n<p>Then you get the same <code>missing default constructor</code> error even though the rest of your source with @Inject looks exactly the same way as other working components in your project and compile without an error.</p>\n\n<p>Correct that with:</p>\n\n<pre><code>import javax.inject.Inject;\n</code></pre>\n\n<p>Do not write a default constructor with construction time injection.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689682984,"post_id":76685126,"comment_id":135245677,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76685126/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29015052,"reputation":1,"user_id":22225662,"display_name":"Varun"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689315428,"creation_date":1689315428,"answer_id":76685126,"question_id":25272543,"body_markdown":"You can do like this.\r\nFirst, let&#39;s declare the static variable we want to inject NAME_STATIC.\r\nAfterward, we&#39;ll create a setter method, called setNameStatic and annotate it with the @Value annotation:\r\n@RestController\r\npublic class PropertyController {\r\n\r\n    @Value(&quot;${name}&quot;)\r\n    private String name;\r\n\r\n    private static String NAME_STATIC;\r\n\r\n    @Value(&quot;${name}&quot;)\r\n    public void setNameStatic(String name){\r\n        PropertyController.NAME_STATIC = name;\r\n    }\r\n}\r\n","title":"No default constructor found; nested exception is java.lang.NoSuchMethodException with Spring MVC?","body":"<p>You can do like this.\nFirst, let's declare the static variable we want to inject NAME_STATIC.\nAfterward, we'll create a setter method, called setNameStatic and annotate it with the @Value annotation:\n@RestController\npublic class PropertyController {</p>\n<pre><code>@Value(&quot;${name}&quot;)\nprivate String name;\n\nprivate static String NAME_STATIC;\n\n@Value(&quot;${name}&quot;)\npublic void setNameStatic(String name){\n    PropertyController.NAME_STATIC = name;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":3344039,"reputation":11379,"user_id":2809564,"accept_rate":82,"display_name":"john"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147264,"favorite_count":0,"down_vote_count":1,"up_vote_count":38,"accepted_answer_id":25272687,"answer_count":6,"score":37,"last_activity_date":1689315428,"creation_date":1407871737,"question_id":25272543,"body_markdown":"I am working with Spring MVC controller project. Below is my Controller and I have a constructor declared which I am specifically using for testing purpose.\r\n\r\n\t@Controller\r\n\tpublic class TestController {\r\n\r\n\t\tprivate static KeeperClient testClient = null;\r\n\t\t\r\n\t\tstatic {\r\n\r\n\t\t// some code here\r\n\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Added specifically for unit testing purpose.\r\n\t\t * \r\n\t\t * @param testClient\r\n\t\t */\r\n\t\tpublic TestController(KeeperClient testClient) {\r\n\t\t\tTestController.testClient = testClient;\r\n\t\t}\r\n\t\t\r\n\t\t// some method here\r\n\r\n\t}\r\n\t\r\nWhenever I am starting the server, I am getting below exception - \r\n\r\n\tNo default constructor found; nested exception is java.lang.NoSuchMethodException:\r\n\t\r\nBut if I remove\t`TestController` constructor then it works fine without any problem. What wrong I am doing here?\r\n\r\nBut if I add this default constructor then it starts working fine -\r\n\r\n\t\tpublic TestController() {\r\n\t\t\t\r\n\t\t}","title":"No default constructor found; nested exception is java.lang.NoSuchMethodException with Spring MVC?","body":"<p>I am working with Spring MVC controller project. Below is my Controller and I have a constructor declared which I am specifically using for testing purpose.</p>\n\n<pre><code>@Controller\npublic class TestController {\n\n    private static KeeperClient testClient = null;\n\n    static {\n\n    // some code here\n\n    }\n\n    /**\n     * Added specifically for unit testing purpose.\n     * \n     * @param testClient\n     */\n    public TestController(KeeperClient testClient) {\n        TestController.testClient = testClient;\n    }\n\n    // some method here\n\n}\n</code></pre>\n\n<p>Whenever I am starting the server, I am getting below exception - </p>\n\n<pre><code>No default constructor found; nested exception is java.lang.NoSuchMethodException:\n</code></pre>\n\n<p>But if I remove <code>TestController</code> constructor then it works fine without any problem. What wrong I am doing here?</p>\n\n<p>But if I add this default constructor then it starts working fine -</p>\n\n<pre><code>    public TestController() {\n\n    }\n</code></pre>\n"},{"tags":["java","eclipse","tomcat"],"comments":[{"owner":{"account_id":464362,"reputation":1084,"user_id":867816,"display_name":"Gernot"},"score":6,"creation_date":1485440867,"post_id":41875670,"comment_id":70933037,"body_markdown":"Could you please post the logs / output from the eclipse concole?","body":"Could you please post the logs / output from the eclipse concole?"},{"owner":{"account_id":1729424,"reputation":705,"user_id":1583348,"accept_rate":83,"display_name":"Rahim Khoja"},"score":0,"creation_date":1488779910,"post_id":41875670,"comment_id":72365658,"body_markdown":"anyone figured this?","body":"anyone figured this?"},{"owner":{"account_id":1781396,"reputation":6599,"user_id":1624035,"accept_rate":65,"display_name":"UdayKiran Pulipati"},"score":0,"creation_date":1662974394,"post_id":41875670,"comment_id":130121674,"body_markdown":"1. Check Runtime Environment JRE is mapped, if two JRE&#39;s exist select preferred one.\n2. If you Configured a new Apache server you need to Restart Eclipse IDE once.","body":"1. Check Runtime Environment JRE is mapped, if two JRE&#39;s exist select preferred one. 2. If you Configured a new Apache server you need to Restart Eclipse IDE once."}],"answers":[{"tags":[],"owner":{"account_id":1477569,"reputation":1610,"user_id":1387619,"accept_rate":63,"display_name":"amit kohan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522777367,"creation_date":1522776989,"answer_id":49636075,"question_id":41875670,"body_markdown":"I had the same problem with Tomcat 9.xx and Eclipse. None of the given solutions helped me.\r\n\r\nHowever, there is a &lt;b&gt;missing step&lt;/b&gt; (for some of us) before &lt;b&gt;recreating a new Server in Eclipse&lt;/b&gt; you may need to add the path to a jar file. The missing step was browsing to your &lt;b&gt;/Tomcat-Directory/lib/servlet-api and adding servlet-api.jar&lt;/b&gt; \r\n\r\nSteps:\r\n\r\n1- Right click on the project you work on &gt; Build Path &gt; Configure Build Path &gt; Libraries &gt; Add External JARs\r\n\r\n2- Select all JAR files from the Tomcat/bin and Tomcat/lib\r\n\r\n3- Click &quot;OK&quot;\r\n\r\n\r\nThis made it work for me. I hope it will help you as well.\r\n\r\nThank you.\r\n\r\n","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>I had the same problem with Tomcat 9.xx and Eclipse. None of the given solutions helped me.</p>\n\n<p>However, there is a <b>missing step</b> (for some of us) before <b>recreating a new Server in Eclipse</b> you may need to add the path to a jar file. The missing step was browsing to your <b>/Tomcat-Directory/lib/servlet-api and adding servlet-api.jar</b> </p>\n\n<p>Steps:</p>\n\n<p>1- Right click on the project you work on > Build Path > Configure Build Path > Libraries > Add External JARs</p>\n\n<p>2- Select all JAR files from the Tomcat/bin and Tomcat/lib</p>\n\n<p>3- Click \"OK\"</p>\n\n<p>This made it work for me. I hope it will help you as well.</p>\n\n<p>Thank you.</p>\n"},{"tags":[],"owner":{"account_id":12043550,"reputation":13,"user_id":8809538,"display_name":"Rafsun Jany Arman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547141826,"creation_date":1547141468,"answer_id":54134022,"question_id":41875670,"body_markdown":"If you can&#39;t detect which project creates the problem then simply add and remove it in your server and run. If defective project is not anymore added to the server then server will run correctly. After detecting the problem you can simply follow the steps below.\r\n\r\nIf you are using data base connection with connection pooling then make sure `@Resource(name=&quot;jdbc/dbName&quot;)` is written before `private DataSource dataSource` in your servlet controller class. Just put it like this in your servlet controller class:\r\n\r\n    @Resource(name=&quot;jdbc/sakila&quot;)\r\n\tprivate DataSource dataSource;","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>If you can't detect which project creates the problem then simply add and remove it in your server and run. If defective project is not anymore added to the server then server will run correctly. After detecting the problem you can simply follow the steps below.</p>\n\n<p>If you are using data base connection with connection pooling then make sure <code>@Resource(name=\"jdbc/dbName\")</code> is written before <code>private DataSource dataSource</code> in your servlet controller class. Just put it like this in your servlet controller class:</p>\n\n<pre><code>@Resource(name=\"jdbc/sakila\")\nprivate DataSource dataSource;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14527161,"reputation":411,"user_id":10493035,"display_name":"tarun kumar143"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559904127,"creation_date":1559899684,"answer_id":56491646,"question_id":41875670,"body_markdown":"Right click on the project you work on &gt; Build Path &gt; Configure Build Path &gt; Libraries &gt; Add External JARs--servlet-api.jar and jsp-api.jar if you are deploying web Application","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>Right click on the project you work on > Build Path > Configure Build Path > Libraries > Add External JARs--servlet-api.jar and jsp-api.jar if you are deploying web Application</p>\n"},{"tags":[],"owner":{"account_id":17791937,"reputation":3,"user_id":12920731,"display_name":"Aron Kim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583520114,"creation_date":1583518161,"answer_id":60569484,"question_id":41875670,"body_markdown":"There was once I had messed around the `server.xml` file, and unwittingly added a Context tag telling the server to load a project I wasn&#39;t looking to load, and therefore had not compiled. That threw the `Server Tomcat v9.0 Server at localhost failed to start`, which went away after I deleted that.","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>There was once I had messed around the <code>server.xml</code> file, and unwittingly added a Context tag telling the server to load a project I wasn't looking to load, and therefore had not compiled. That threw the <code>Server Tomcat v9.0 Server at localhost failed to start</code>, which went away after I deleted that.</p>\n"},{"tags":[],"owner":{"account_id":12025622,"reputation":51,"user_id":12719669,"display_name":"Gustavo Feliciano"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584839420,"creation_date":1584826751,"answer_id":60793555,"question_id":41875670,"body_markdown":"Have you tried to put `/` in the webServlet above your class?\r\n\r\n```java\r\n@WebServlet(&quot;/nameURL&quot;)\r\npublic class MyClass extends HttpServlet{}\r\n```","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>Have you tried to put <code>/</code> in the webServlet above your class?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@WebServlet(\"/nameURL\")\npublic class MyClass extends HttpServlet{}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18154005,"reputation":1,"user_id":13206298,"display_name":"lihinxgufin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585884912,"creation_date":1585884912,"answer_id":61004722,"question_id":41875670,"body_markdown":"1. Go to directory (your workspace)\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\conf\r\n2. Open server.xml file on editor\r\n3. Delete `&lt;Context docBase=&quot;(your workspace)\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\(your old project)&quot; path=&quot;/(your old project)&quot; reloadable=&quot;true&quot; source=&quot;org.eclipse.jst.jee.server:(your old project)&quot;/&gt;`\r\n\r\nthere might be some left over from your old project.\r\nso, only delete projects that have not been used or that were previously deleted.\r\nbecause if you delete one line then your server will be able to run but not with your project. because some of your project lines were deleted too.","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<ol>\n<li>Go to directory (your workspace).metadata.plugins\\org.eclipse.wst.server.core\\tmp0\\conf</li>\n<li>Open server.xml file on editor</li>\n<li>Delete <code>&lt;Context docBase=\"(your workspace)\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\(your old project)\" path=\"/(your old project)\" reloadable=\"true\" source=\"org.eclipse.jst.jee.server:(your old project)\"/&gt;</code></li>\n</ol>\n\n<p>there might be some left over from your old project.\nso, only delete projects that have not been used or that were previously deleted.\nbecause if you delete one line then your server will be able to run but not with your project. because some of your project lines were deleted too.</p>\n"},{"tags":[],"owner":{"account_id":18485332,"reputation":1,"user_id":13466446,"display_name":"tamoghna saha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588597552,"creation_date":1588590355,"answer_id":61590767,"question_id":41875670,"body_markdown":"I uninstalled tomcat server, deleted the server from eclipse and reinstalled, reattached tomcat. It&#39;s running fine now.","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>I uninstalled tomcat server, deleted the server from eclipse and reinstalled, reattached tomcat. It's running fine now.</p>\n"},{"comments":[{"owner":{"account_id":13671308,"reputation":1299,"user_id":9863904,"display_name":"Hasan El-Hefnawy"},"score":0,"creation_date":1637432975,"post_id":62684352,"comment_id":123826957,"body_markdown":"For me, only the first step was enough.","body":"For me, only the first step was enough."}],"tags":[],"owner":{"account_id":5219902,"reputation":49,"user_id":4173686,"display_name":"irfan Quresh"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1658148048,"creation_date":1593632947,"answer_id":62684352,"question_id":41875670,"body_markdown":"1. Delete server by navigating to Window -&gt;Show View -&gt; Server. Right click on server and delete it.  \r\n1. Delete **Servers** folder from Project Explorer \r\n1. Delete .metadata of eclipse workspace (CAUTION: You will lose all your workspace settings (e.g.: key bindings, appearance, ...))\r\n1. Now **Restart** eclipse and add Apache Tomcat server.\r\n\r\nIt will work.\r\n\r\n[![Screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xewTw.png","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<ol>\n<li>Delete server by navigating to Window -&gt;Show View -&gt; Server. Right click on server and delete it.</li>\n<li>Delete <strong>Servers</strong> folder from Project Explorer</li>\n<li>Delete .metadata of eclipse workspace (CAUTION: You will lose all your workspace settings (e.g.: key bindings, appearance, ...))</li>\n<li>Now <strong>Restart</strong> eclipse and add Apache Tomcat server.</li>\n</ol>\n<p>It will work.</p>\n<p><a href=\"https://i.stack.imgur.com/xewTw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xewTw.png\" alt=\"Screenshot\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16266658,"reputation":21,"user_id":11746494,"display_name":"Avinash Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603358990,"creation_date":1603358990,"answer_id":64479301,"question_id":41875670,"body_markdown":"\r\n\r\n\r\n\r\nI was facing a similar problem in my spring MVC project. The problem was in the web.xml file. So in Spring 5 before you configure your dispatcher servlet you have to use the tag\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;absolute-ordering&gt;&lt;/absolute-ordering&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nWorked fine for me.\r\nHappy Coding.","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>I was facing a similar problem in my spring MVC project. The problem was in the web.xml file. So in Spring 5 before you configure your dispatcher servlet you have to use the tag</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;absolute-ordering&gt;&lt;/absolute-ordering&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Worked fine for me.\nHappy Coding.</p>\n"},{"tags":[],"owner":{"account_id":21641977,"reputation":1,"user_id":15964041,"display_name":"Upeshitha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621361807,"creation_date":1621360059,"answer_id":67591469,"question_id":41875670,"body_markdown":"1. Open the &#39;server.xml&#39; file.\r\n[picture1][1]\r\n\r\n2. Press ctrl + f and find the &#39;shutdown&#39; word. Then change the port number.\r\n[picture2][2]\r\n\r\n3. done. Because when the connection port number and shutdown port number are the same, then it creates conflict. So, one port number we should change.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qNdoG.png\r\n  [2]: https://i.stack.imgur.com/HQsVE.png","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<ol>\n<li><p>Open the 'server.xml' file.\n<a href=\"https://i.stack.imgur.com/qNdoG.png\" rel=\"nofollow noreferrer\">picture1</a></p>\n</li>\n<li><p>Press ctrl + f and find the 'shutdown' word. Then change the port number.\n<a href=\"https://i.stack.imgur.com/HQsVE.png\" rel=\"nofollow noreferrer\">picture2</a></p>\n</li>\n<li><p>done. Because when the connection port number and shutdown port number are the same, then it creates conflict. So, one port number we should change.</p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":13164735,"reputation":1844,"user_id":9509346,"display_name":"dpapadopoulos"},"score":0,"creation_date":1622025065,"post_id":67698764,"comment_id":119669063,"body_markdown":"This can be a really good comment and not an answer.","body":"This can be a really good comment and not an answer."}],"tags":[],"owner":{"account_id":20927471,"reputation":11,"user_id":15374600,"display_name":"james danial"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622005167,"creation_date":1622005167,"answer_id":67698764,"question_id":41875670,"body_markdown":"In my case, I had messed up up with my JAR files. My JAR files were corrupted. So delete existing JAR files and upload new JAR files. Hope this works.\r\n*Check &#39;Markers&#39; tab for errors and warnings.","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>In my case, I had messed up up with my JAR files. My JAR files were corrupted. So delete existing JAR files and upload new JAR files. Hope this works.\n*Check 'Markers' tab for errors and warnings.</p>\n"},{"tags":[],"owner":{"account_id":18590395,"reputation":9,"user_id":13547745,"display_name":"aryan kathpal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632854471,"creation_date":1632823423,"answer_id":69359713,"question_id":41875670,"body_markdown":"This happens because your server HTTP port and your shutdown port are the same. \r\n\r\nTo resolve this, go to the `server.xml` file and search. There will be a `SHUTDOWN` port entry. Change it and your server will work.","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>This happens because your server HTTP port and your shutdown port are the same.</p>\n<p>To resolve this, go to the <code>server.xml</code> file and search. There will be a <code>SHUTDOWN</code> port entry. Change it and your server will work.</p>\n"},{"comments":[{"owner":{"account_id":4256468,"reputation":665,"user_id":3482040,"display_name":"Aman Gupta"},"score":0,"creation_date":1636560439,"post_id":69638125,"comment_id":123591039,"body_markdown":"This is not working. You need to set admin port to any available port. example if your tomcat is installed on port 8080 then double click on tomcat server and then set port 9999 in tomcat admin port instead of - . This worked for me.","body":"This is not working. You need to set admin port to any available port. example if your tomcat is installed on port 8080 then double click on tomcat server and then set port 9999 in tomcat admin port instead of - . This worked for me."}],"tags":[],"owner":{"account_id":23084455,"reputation":1,"user_id":17196194,"display_name":"user17196194"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1634681131,"creation_date":1634681131,"answer_id":69638125,"question_id":41875670,"body_markdown":"This is the best solution. It worked for me.\r\n\r\nSteps:-\r\n\r\n1- Open the Servers tab from Windows &#187; Show View &#187; Servers menu.\r\n\r\n2- Right click on the server and delete it\r\n\r\n3-Create a new server by going New &#187; Server on server tab.\r\n\r\n4-Click on Configure runtime environments link.\r\n\r\n5-Select the Apache Tomcat Server and remove it. This will remove the Tomcat server configuration.\r\n\r\n6-Click on OK and exit the screen above now.\r\n\r\n7-From the screen below, choose Apache Tomcat server and click on Next button:\r\n\r\n8-Browse to Tomcat Installation Directory.\r\n\r\n9-Click on Next and choose which project you would like to deploy:\r\n\r\n10-Click on Finish after adding your project.\r\n\r\n11-Now launch your Server.","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>This is the best solution. It worked for me.</p>\n<p>Steps:-</p>\n<p>1- Open the Servers tab from Windows » Show View » Servers menu.</p>\n<p>2- Right click on the server and delete it</p>\n<p>3-Create a new server by going New » Server on server tab.</p>\n<p>4-Click on Configure runtime environments link.</p>\n<p>5-Select the Apache Tomcat Server and remove it. This will remove the Tomcat server configuration.</p>\n<p>6-Click on OK and exit the screen above now.</p>\n<p>7-From the screen below, choose Apache Tomcat server and click on Next button:</p>\n<p>8-Browse to Tomcat Installation Directory.</p>\n<p>9-Click on Next and choose which project you would like to deploy:</p>\n<p>10-Click on Finish after adding your project.</p>\n<p>11-Now launch your Server.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1638185203,"post_id":70153782,"comment_id":124012032,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/70153782/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23489379,"reputation":11,"user_id":17540604,"display_name":"NinjaPop"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638185373,"creation_date":1638184830,"answer_id":70153782,"question_id":41875670,"body_markdown":"There is a possibility that you are missing a &quot;/&quot; in your web.xml file probably in: `&lt;servlet-mapping&gt;&lt;/servlet-mapping&gt;`\r\n\r\n`&lt;url-pattern&gt; missing &quot;/&quot; before pattern name &lt;/url-pattern&gt;`\r\n\r\n[possible issue][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tAaeA.png","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>There is a possibility that you are missing a &quot;/&quot; in your web.xml file probably in: <code>&lt;servlet-mapping&gt;&lt;/servlet-mapping&gt;</code></p>\n<p><code>&lt;url-pattern&gt; missing &quot;/&quot; before pattern name &lt;/url-pattern&gt;</code></p>\n<p><a href=\"https://i.stack.imgur.com/tAaeA.png\" rel=\"nofollow noreferrer\">possible issue</a></p>\n"},{"tags":[],"owner":{"account_id":23428548,"reputation":129,"user_id":17487723,"display_name":"Syed Aaqib Hussain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640707752,"creation_date":1640706226,"answer_id":70509302,"question_id":41875670,"body_markdown":"If you are using Spring Framework, please check in the **WEB.XML** *Dispatcher Servlet* is configured correctly. Also check if there is any spelling/name incorrectness.","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>If you are using Spring Framework, please check in the <strong>WEB.XML</strong> <em>Dispatcher Servlet</em> is configured correctly. Also check if there is any spelling/name incorrectness.</p>\n"},{"tags":[],"owner":{"account_id":21013742,"reputation":1,"user_id":15441756,"display_name":"n0S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656692314,"creation_date":1656692314,"answer_id":72832101,"question_id":41875670,"body_markdown":"Change your redirect port in server.xml to something else and it should work\r\n\r\n     &lt;Connector connectionTimeout=&quot;20000&quot; port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; redirectPort=&quot;8900&quot;/&gt;","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>Change your redirect port in server.xml to something else and it should work</p>\n<pre><code> &lt;Connector connectionTimeout=&quot;20000&quot; port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; redirectPort=&quot;8900&quot;/&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1657543741,"post_id":72924020,"comment_id":128828064,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/72924020/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25768474,"reputation":1,"user_id":19517781,"display_name":"Tarun"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657394303,"creation_date":1657394303,"answer_id":72924020,"question_id":41875670,"body_markdown":"Just check your Console. Than search for relevant solution i did everthing, but ended up deleting a mapping error shown in console from web.xml","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>Just check your Console. Than search for relevant solution i did everthing, but ended up deleting a mapping error shown in console from web.xml</p>\n"},{"tags":[],"owner":{"account_id":5034380,"reputation":1,"user_id":4043657,"display_name":"Nitesh Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661257500,"creation_date":1661257500,"answer_id":73458711,"question_id":41875670,"body_markdown":"https://www.youtube.com/watch?v=SEO22ifq9qE&amp;ab_channel=%23VhCode\r\n\r\nDelete web.xml under WEB-INF of the selected project or correct everything in that file, then try restarting the server.","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p><a href=\"https://www.youtube.com/watch?v=SEO22ifq9qE&amp;ab_channel=%23VhCode\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=SEO22ifq9qE&amp;ab_channel=%23VhCode</a></p>\n<p>Delete web.xml under WEB-INF of the selected project or correct everything in that file, then try restarting the server.</p>\n"},{"tags":[],"owner":{"account_id":22767999,"reputation":11,"user_id":16925773,"display_name":"Niket dubey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670326766,"creation_date":1670326766,"answer_id":74701881,"question_id":41875670,"body_markdown":"Also Verify the Argument should contains &quot;-Dspring.profiles.active=&quot;enviroment name&quot;","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>Also Verify the Argument should contains &quot;-Dspring.profiles.active=&quot;enviroment name&quot;</p>\n"},{"tags":[],"owner":{"account_id":25753267,"reputation":21,"user_id":19505450,"display_name":"Zahra Vakilifard"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673645110,"creation_date":1673385090,"answer_id":75075906,"question_id":41875670,"body_markdown":"I had the same problem, which was solved when I changed the admin port (right-click on the server inside eclipse and select properties) from a hyphen(default) to another port number. I used another port number for the admin port (not the same as the port number I used for my tomcat)\r\n\r\n![enter image description here][1]\r\n\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zdpgq.png\r\n\r\nHope it helps you\r\nCheers","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>I had the same problem, which was solved when I changed the admin port (right-click on the server inside eclipse and select properties) from a hyphen(default) to another port number. I used another port number for the admin port (not the same as the port number I used for my tomcat)</p>\n<p><img src=\"https://i.stack.imgur.com/zdpgq.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/zdpgq.png\" alt=\"enter image description here\" /></p>\n<p>Hope it helps you\nCheers</p>\n"},{"tags":[],"owner":{"account_id":18360026,"reputation":3,"user_id":13372334,"display_name":"Marvelographer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675091776,"creation_date":1675091776,"answer_id":75286381,"question_id":41875670,"body_markdown":"Try to delete .m2 file in This pc-&gt; C drive-&gt;&#160;users&#160;-&gt;&#160;.m2 \r\nthen restart eclipse and run the server again","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>Try to delete .m2 file in This pc-&gt; C drive-&gt; users -&gt; .m2\nthen restart eclipse and run the server again</p>\n"},{"tags":[],"owner":{"account_id":23371159,"reputation":71,"user_id":17441983,"display_name":"Elhem Nouri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677256520,"creation_date":1677256520,"answer_id":75559103,"question_id":41875670,"body_markdown":" 1. Go to &quot;Window&quot; menu and select &quot;Preferences&quot;. \r\n 2. In the Preferences window, expand the &quot;Java&quot; section and select Installed JREs&quot;. Here, you should see a list of JREs that are currently installed on your system. Check if the JRE you are looking for is listed, or you can add it by clicking on the &quot;Add&quot; button and providing the path to the JRE installation directory.","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<ol>\n<li>Go to &quot;Window&quot; menu and select &quot;Preferences&quot;.</li>\n<li>In the Preferences window, expand the &quot;Java&quot; section and select Installed JREs&quot;. Here, you should see a list of JREs that are currently installed on your system. Check if the JRE you are looking for is listed, or you can add it by clicking on the &quot;Add&quot; button and providing the path to the JRE installation directory.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":29015013,"reputation":1,"user_id":22225629,"display_name":"Kavya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689315085,"creation_date":1689315085,"answer_id":76685099,"question_id":41875670,"body_markdown":"If you have latest version of eclipse, the problem is with XML file. You need to use Annotations instead of XML file.\r\n\r\n@WebServlet(&quot;url&quot;) -&gt;Use this after imports","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>If you have latest version of eclipse, the problem is with XML file. You need to use Annotations instead of XML file.</p>\n<p>@WebServlet(&quot;url&quot;) -&gt;Use this after imports</p>\n"}],"owner":{"account_id":6298840,"reputation":119,"user_id":5924261,"display_name":"Krishna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117960,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"answer_count":23,"score":11,"last_activity_date":1689315085,"creation_date":1485440753,"question_id":41875670,"body_markdown":"I am using Eclipse Neon and Tomcat server 9.0 and JDK 1.8\r\nIt was working well but unfortunately its giving me error &#39;Server Tomcat v9.0 Server at localhost failed to start.&#39;\r\nI tried to change the ports i.e. connection port and other ports too but it did not solve my problem and this error is shown when I start the server or run the web app I am currently working on.\r\nOther solution other than change in port because I tried it and it did not resolve my problem?????","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>I am using Eclipse Neon and Tomcat server 9.0 and JDK 1.8\nIt was working well but unfortunately its giving me error 'Server Tomcat v9.0 Server at localhost failed to start.'\nI tried to change the ports i.e. connection port and other ports too but it did not solve my problem and this error is shown when I start the server or run the web app I am currently working on.\nOther solution other than change in port because I tried it and it did not resolve my problem?????</p>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":1282416,"reputation":12126,"user_id":1236217,"accept_rate":100,"display_name":"Namphibian"},"score":0,"creation_date":1606264715,"post_id":64963904,"comment_id":114910720,"body_markdown":"You are producing messages using: to(&quot;jms&quot;) but you never consume them from(&quot;jms&quot;). Since there are no consumers it will not remove the messages.","body":"You are producing messages using: to(&quot;jms&quot;) but you never consume them from(&quot;jms&quot;). Since there are no consumers it will not remove the messages."},{"owner":{"account_id":18703905,"reputation":1,"user_id":13961737,"display_name":"Dream"},"score":0,"creation_date":1606339522,"post_id":64963904,"comment_id":114938400,"body_markdown":"@Namphibian thanks for the answer, yes I created a consumer and it worked","body":"@Namphibian thanks for the answer, yes I created a consumer and it worked"}],"answers":[{"tags":[],"owner":{"account_id":19939841,"reputation":131,"user_id":14611777,"display_name":"Surajit Sarkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689313875,"creation_date":1689313875,"answer_id":76685015,"question_id":64963904,"body_markdown":"Try this out..\r\n\r\nAdding acknowledgementModeName=CLIENT_ACKNOWLEDGE makes Camel only remove the message when the route is finished successfully:\r\n\r\nfrom(&quot;activemq:some.queue.name?acknowledgementModeName=CLIENT_ACKNOWLEDGE&quot;)\r\n\r\nCamel is also locking these messages to prevent other Camel instances or threads from processing the same message.","title":"Messages are not removed from the Camel route queue","body":"<p>Try this out..</p>\n<p>Adding acknowledgementModeName=CLIENT_ACKNOWLEDGE makes Camel only remove the message when the route is finished successfully:</p>\n<p>from(&quot;activemq:some.queue.name?acknowledgementModeName=CLIENT_ACKNOWLEDGE&quot;)</p>\n<p>Camel is also locking these messages to prevent other Camel instances or threads from processing the same message.</p>\n"}],"owner":{"account_id":18703905,"reputation":1,"user_id":13961737,"display_name":"Dream"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689313875,"creation_date":1606115426,"question_id":64963904,"body_markdown":"Please tell a newbie how to build the route correctly, everything seems to work, but processed messages are not removed from the queue.\r\n\r\n```java\r\n@Startup\r\n@CamelAware\r\n@ApplicationScoped\r\npublic class MyRouteBuilder extends RouteBuilder {\r\n\r\n    @Resource(mappedName = &quot;java:/ConnectionFactory&quot;)\r\n    private ConnectionFactory connectionFactory;\r\n\r\n    @Override\r\n    public void configure() throws Exception {\r\n\r\n        JmsComponent component = new JmsComponent();\r\n        component.setConnectionFactory(connectionFactory);\r\n\r\n        getContext().addComponent(&quot;jms&quot;, component);\r\n\r\n        from(&quot;timer://foo?fixedRate=true&amp;period=60000&quot;)\r\n            .setHeader(Exchange.HTTP_METHOD, constant(&quot;GET&quot;))\r\n            .setHeader(Exchange.CONTENT_TYPE, constant(&quot;application/json&quot;))\r\n            .setHeader(Exchange.HTTP_QUERY, constant(&quot;projectCode=200&quot;))\r\n            .to(&quot;https://serv:port/rest/testgetprojectlist&quot;)\r\n            .convertBodyTo(String.class)\r\n            .to(&quot;jms:queue:queue_name?concurrentConsumers=10&amp;acknowledgementModeName=CLIENT_ACKNOWLEDGE&quot;)\r\n            .to(&quot;file:///opt/tmp/?fileName=tempOut.txt&amp;charset=UTF-8&quot;)\r\n            .log(&quot;we are in here with this message ${body}&quot;);\r\n\r\n    }\r\n}\r\n```","title":"Messages are not removed from the Camel route queue","body":"<p>Please tell a newbie how to build the route correctly, everything seems to work, but processed messages are not removed from the queue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Startup\n@CamelAware\n@ApplicationScoped\npublic class MyRouteBuilder extends RouteBuilder {\n\n    @Resource(mappedName = &quot;java:/ConnectionFactory&quot;)\n    private ConnectionFactory connectionFactory;\n\n    @Override\n    public void configure() throws Exception {\n\n        JmsComponent component = new JmsComponent();\n        component.setConnectionFactory(connectionFactory);\n\n        getContext().addComponent(&quot;jms&quot;, component);\n\n        from(&quot;timer://foo?fixedRate=true&amp;period=60000&quot;)\n            .setHeader(Exchange.HTTP_METHOD, constant(&quot;GET&quot;))\n            .setHeader(Exchange.CONTENT_TYPE, constant(&quot;application/json&quot;))\n            .setHeader(Exchange.HTTP_QUERY, constant(&quot;projectCode=200&quot;))\n            .to(&quot;https://serv:port/rest/testgetprojectlist&quot;)\n            .convertBodyTo(String.class)\n            .to(&quot;jms:queue:queue_name?concurrentConsumers=10&amp;acknowledgementModeName=CLIENT_ACKNOWLEDGE&quot;)\n            .to(&quot;file:///opt/tmp/?fileName=tempOut.txt&amp;charset=UTF-8&quot;)\n            .log(&quot;we are in here with this message ${body}&quot;);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jackson","objectmapper"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1689313768,"post_id":76685002,"comment_id":135198446,"body_markdown":"The JSON fields are unique and without any order - that&#39;s the definition of JSON. Why do you want to achieve something like that?","body":"The JSON fields are unique and without any order - that&#39;s the definition of JSON. Why do you want to achieve something like that?"},{"owner":{"account_id":20576612,"reputation":33,"user_id":15103652,"display_name":"zeeshan"},"score":0,"creation_date":1689314014,"post_id":76685002,"comment_id":135198481,"body_markdown":"I want to show pagination related properties like itemCount, totalItems, and page at the bottom of my response.","body":"I want to show pagination related properties like itemCount, totalItems, and page at the bottom of my response."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1689315015,"post_id":76685002,"comment_id":135198611,"body_markdown":"What do you need it for?","body":"What do you need it for?"},{"owner":{"account_id":20576612,"reputation":33,"user_id":15103652,"display_name":"zeeshan"},"score":0,"creation_date":1689316225,"post_id":76685002,"comment_id":135198821,"body_markdown":"I want to follow this pattern to show these metadata at bottom like elasticsearch API shows them at top.","body":"I want to follow this pattern to show these metadata at bottom like elasticsearch API shows them at top."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1689318446,"post_id":76685002,"comment_id":135199223,"body_markdown":"You need to split the responsibilities. The API provides the data, the ElasticSearch processes them and there is a GUI tool (either Kibana or if there is something that can read from the ElasticSearch directly, I don&#39;t know) that is responsible for displaying, i. e. the order of the displayed fields should be in the responsibility of the GUI tool. To clarify why I say that, I am not aware Spring supports ordered JSON fields as JSON is by definition unordered.","body":"You need to split the responsibilities. The API provides the data, the ElasticSearch processes them and there is a GUI tool (either Kibana or if there is something that can read from the ElasticSearch directly, I don&#39;t know) that is responsible for displaying, i. e. the order of the displayed fields should be in the responsibility of the GUI tool. To clarify why I say that, I am not aware Spring supports ordered JSON fields as JSON is by definition unordered."}],"owner":{"account_id":20576612,"reputation":33,"user_id":15103652,"display_name":"zeeshan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689313681,"creation_date":1689313681,"question_id":76685002,"body_markdown":"I have a POJO `ResponseBuilder` to create Json response for my rest endpoint. Here the item name can be generic depending on the type of item asked in the query. To set this dynamic property name at runtime, I am using `@JsonAnyGetter` as shown below.\r\n\r\n    @AllArgsConstructor\r\n    public class ResponseBuilder {\r\n\r\n        @JsonIgnore\r\n        private final String type;\r\n\r\n        private final List&lt;?&gt; items;\r\n\r\n        @Getter\r\n        private final Integer itemCount;\r\n\r\n        @Getter\r\n        private final Long totalItems;\r\n\r\n        @JsonAnyGetter\r\n        public Map&lt;String, List&lt;?&gt;&gt; getItemsMap() {\r\n            return Collections.singletonMap(type, items);\r\n        }\r\n    }\r\n\r\n\r\nNow, I want the `items` list to come at top of the Json response. But I cannot add this in `@JsonPropertyOrder` because property name is decided at runtime. What can I do to achieve this? Thank you for your help.","title":"Set JsonPropertyOrder for dynamic field","body":"<p>I have a POJO <code>ResponseBuilder</code> to create Json response for my rest endpoint. Here the item name can be generic depending on the type of item asked in the query. To set this dynamic property name at runtime, I am using <code>@JsonAnyGetter</code> as shown below.</p>\n<pre><code>@AllArgsConstructor\npublic class ResponseBuilder {\n\n    @JsonIgnore\n    private final String type;\n\n    private final List&lt;?&gt; items;\n\n    @Getter\n    private final Integer itemCount;\n\n    @Getter\n    private final Long totalItems;\n\n    @JsonAnyGetter\n    public Map&lt;String, List&lt;?&gt;&gt; getItemsMap() {\n        return Collections.singletonMap(type, items);\n    }\n}\n</code></pre>\n<p>Now, I want the <code>items</code> list to come at top of the Json response. But I cannot add this in <code>@JsonPropertyOrder</code> because property name is decided at runtime. What can I do to achieve this? Thank you for your help.</p>\n"},{"tags":["java","elasticsearch","elastic-stack"],"owner":{"account_id":28272862,"reputation":25,"user_id":21615776,"display_name":"ZhuXJun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689313431,"creation_date":1689295898,"question_id":76684070,"body_markdown":"\r\n\r\n&gt; parent index : candidate , type: profile;\r\n   child index : candidate , type: application\r\n\r\nI have parent data like this in elasticserch \r\n\r\n```\r\n{\r\n    &quot;took&quot;: 1,\r\n    &quot;timed_out&quot;: false,\r\n    &quot;_shards&quot;: {\r\n        &quot;total&quot;: 5,\r\n        &quot;successful&quot;: 5,\r\n        &quot;failed&quot;: 0\r\n    },\r\n    &quot;hits&quot;: {\r\n        &quot;total&quot;: 1,\r\n        &quot;max_score&quot;: 1.0,\r\n        &quot;hits&quot;: [\r\n            {\r\n                &quot;_index&quot;: &quot;candidate&quot;,\r\n                &quot;_type&quot;: &quot;profile&quot;,\r\n                &quot;_id&quot;: &quot;64afc27d87209b7083e26a6b&quot;,\r\n                &quot;_score&quot;: 1.0,\r\n                &quot;_source&quot;: {\r\n                    &quot;overview&quot;: {\r\n                        &quot;mobile_not_analyze&quot;: &quot;141222222&quot;,\r\n                        &quot;country_code&quot;: &quot;86&quot;,\r\n                        &quot;city&quot;: {},\r\n                        &quot;name_analyzed&quot;: &quot;最高学历61&quot;,\r\n                        &quot;degree&quot;: 6,\r\n                        &quot;mobile&quot;: &quot;141222222&quot;,\r\n                        &quot;name&quot;: &quot;最高学历61&quot;\r\n                    },\r\n                    &quot;educations_search&quot;: [\r\n                        {\r\n                            &quot;college&quot;: {\r\n                                &quot;code&quot;: &quot;43&quot;,\r\n                                &quot;name&quot;: &quot;发生过撒啊啊&quot;\r\n                            },\r\n                            &quot;start_time&quot;: &quot;2022-01-01&quot;,\r\n                            &quot;major&quot;: {},\r\n                            &quot;college_tags&quot;: [],\r\n                            &quot;degree&quot;: {\r\n                                &quot;code&quot;: &quot;6&quot;,\r\n                                &quot;name&quot;: &quot;硕士&quot;\r\n                            },\r\n                            &quot;end_time&quot;: &quot;2023-06-01&quot;\r\n                        },\r\n                        {\r\n                            &quot;college&quot;: {\r\n                                &quot;code&quot;: &quot;43&quot;,\r\n                                &quot;name&quot;: &quot;阿斯弗&quot;\r\n                            },\r\n                            &quot;start_time&quot;: &quot;2023-01-01&quot;,\r\n                            &quot;major&quot;: {},\r\n                            &quot;college_tags&quot;: [],\r\n                            &quot;degree&quot;: {\r\n                                &quot;code&quot;: &quot;4&quot;,\r\n                                &quot;name&quot;: &quot;大专&quot;\r\n                            },\r\n                            &quot;end_time&quot;: &quot;2023-02-01&quot;\r\n                        }\r\n                    ]\r\n                }\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\nWhat I want to do is filter out using conditions like max degree_code and end_time between 1685548800000 and 1685635200000.What should i do?\r\ni want to get the data use query which like :\r\n\r\n```\r\n{\r\n    &quot;size&quot;: 20,\r\n    &quot;track_scores&quot;: true,\r\n    &quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n            &quot;must&quot;: [\r\n                {\r\n                    &quot;bool&quot;: {\r\n                        &quot;must&quot;: [\r\n                            {\r\n                                &quot;terms&quot;: {\r\n                                    &quot;company_id&quot;: [\r\n                                        &quot;39978&quot;\r\n                                    ]\r\n                                }\r\n                            }\r\n                        ]\r\n                    }\r\n                },\r\n                {\r\n                    &quot;has_parent&quot;: {\r\n                        &quot;query&quot;: {\r\n                            &quot;bool&quot;: {\r\n                                &quot;filter&quot;: {\r\n                                    &quot;nested&quot;: {\r\n                                        &quot;path&quot;: &quot;educations_search&quot;,\r\n                                        &quot;query&quot;: {\r\n                                            &quot;bool&quot;: {\r\n                                                &quot;must&quot;: [\r\n                                                    {\r\n                                                        &quot;range&quot;: {\r\n                                                            &quot;educations_search.end_time&quot;: {\r\n                                                                &quot;include_lower&quot;: true,\r\n                                                                &quot;include_upper&quot;: true,\r\n                                                                &quot;from&quot;: 1685548800000,\r\n                                                                &quot;to&quot;: 1685635200000\r\n                                                            }\r\n                                                        }\r\n                                                    },\r\n                                                    {\r\n                                                        &quot;script&quot;: {\r\n                                                            &quot;script&quot;: {\r\n                                                                &quot;inline&quot;: &quot;int maxDegreeCode = -1;def maxDegreeObject ;def startDate = new Date(1698748800000); def endDate = new Date(1699094400000); for (education in doc[&#39;educations_search&#39;].value) {int degreeCode = Integer.parseInt(education[&#39;degree&#39;][&#39;code&#39;].value); if (degreeCode &gt; maxDegreeCode) {     maxDegreeCode = degreeCode;     maxDegreeObject = education }}; if (maxDegreeObject != null) {def maxDegreeEndFilter = new Date(maxDegreeObject[&#39;end_time&#39;].value); return maxDegreeCode == Integer.parseInt(maxDegreeObject[&#39;degree&#39;][&#39;code&#39;].value)         &amp;&amp; maxDegreeEndFilter &gt;= startDate &amp;&amp; maxDegreeEndFilter &lt;= endDate} else {return false}&quot;\r\n                                                            }\r\n                                                        }\r\n                                                    }\r\n                                                ]\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                },\r\n                                &quot;must&quot;: {\r\n                                    &quot;match&quot;: {\r\n                                        &quot;company_id&quot;: {\r\n                                            &quot;query&quot;: 39978,\r\n                                            &quot;type&quot;: &quot;boolean&quot;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        &quot;parent_type&quot;: &quot;profile&quot;\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    },\r\n    &quot;from&quot;: 0\r\n}\r\n```\r\nbut it&#39;s not working and return an empty an error：\r\n\r\n    &quot;caused_by&quot;: {\r\n                        &quot;type&quot;: &quot;illegal_argument_exception&quot;,\r\n                        &quot;reason&quot;: &quot;No field found for [_parent.educations_search] in mapping with types [application]&quot;\r\n                    }\r\nIt seems like instead of applying the script function to the and then passing its result to the child, ElasticSearch is trying to apply the condition itself to the child,causing the error.\r\nWhat am I wrong here? How can I query these child documents based on a parent field?\r\nI still use Script like this:\r\n```\r\n{\r\n    &quot;script&quot;: {\r\n        &quot;script&quot;: {\r\n            &quot;inline&quot;: &quot;int maxDegreeCode = -1; def maxDegreeObject; def startDate = new Date(1698748800000); def endDate = new Date(1699094400000); for (education in _source.educations_search) {int degreeCode = Integer.parseInt(education.degree.code); if (degreeCode &gt; maxDegreeCode) {     maxDegreeCode = degreeCode; maxDegreeObject = education }}; if (maxDegreeObject != null) {def maxDegreeEndFilter = new Date(maxDegreeObject.end_time); return maxDegreeCode == Integer.parseInt(maxDegreeObject.degree.code) &amp;&amp; maxDegreeEndFilter &gt;= startDate &amp;&amp; maxDegreeEndFilter &lt;= endDate} else {return false}&quot;\r\n        }\r\n    }\r\n}\r\n```\r\nbut it&#39;s return an empty.","title":"Trouble with has_parent query containing scripted","body":"<blockquote>\n<p>parent index : candidate , type: profile;\nchild index : candidate , type: application</p>\n</blockquote>\n<p>I have parent data like this in elasticserch</p>\n<pre><code>{\n    &quot;took&quot;: 1,\n    &quot;timed_out&quot;: false,\n    &quot;_shards&quot;: {\n        &quot;total&quot;: 5,\n        &quot;successful&quot;: 5,\n        &quot;failed&quot;: 0\n    },\n    &quot;hits&quot;: {\n        &quot;total&quot;: 1,\n        &quot;max_score&quot;: 1.0,\n        &quot;hits&quot;: [\n            {\n                &quot;_index&quot;: &quot;candidate&quot;,\n                &quot;_type&quot;: &quot;profile&quot;,\n                &quot;_id&quot;: &quot;64afc27d87209b7083e26a6b&quot;,\n                &quot;_score&quot;: 1.0,\n                &quot;_source&quot;: {\n                    &quot;overview&quot;: {\n                        &quot;mobile_not_analyze&quot;: &quot;141222222&quot;,\n                        &quot;country_code&quot;: &quot;86&quot;,\n                        &quot;city&quot;: {},\n                        &quot;name_analyzed&quot;: &quot;最高学历61&quot;,\n                        &quot;degree&quot;: 6,\n                        &quot;mobile&quot;: &quot;141222222&quot;,\n                        &quot;name&quot;: &quot;最高学历61&quot;\n                    },\n                    &quot;educations_search&quot;: [\n                        {\n                            &quot;college&quot;: {\n                                &quot;code&quot;: &quot;43&quot;,\n                                &quot;name&quot;: &quot;发生过撒啊啊&quot;\n                            },\n                            &quot;start_time&quot;: &quot;2022-01-01&quot;,\n                            &quot;major&quot;: {},\n                            &quot;college_tags&quot;: [],\n                            &quot;degree&quot;: {\n                                &quot;code&quot;: &quot;6&quot;,\n                                &quot;name&quot;: &quot;硕士&quot;\n                            },\n                            &quot;end_time&quot;: &quot;2023-06-01&quot;\n                        },\n                        {\n                            &quot;college&quot;: {\n                                &quot;code&quot;: &quot;43&quot;,\n                                &quot;name&quot;: &quot;阿斯弗&quot;\n                            },\n                            &quot;start_time&quot;: &quot;2023-01-01&quot;,\n                            &quot;major&quot;: {},\n                            &quot;college_tags&quot;: [],\n                            &quot;degree&quot;: {\n                                &quot;code&quot;: &quot;4&quot;,\n                                &quot;name&quot;: &quot;大专&quot;\n                            },\n                            &quot;end_time&quot;: &quot;2023-02-01&quot;\n                        }\n                    ]\n                }\n            }\n        ]\n    }\n}\n</code></pre>\n<p>What I want to do is filter out using conditions like max degree_code and end_time between 1685548800000 and 1685635200000.What should i do?\ni want to get the data use query which like :</p>\n<pre><code>{\n    &quot;size&quot;: 20,\n    &quot;track_scores&quot;: true,\n    &quot;query&quot;: {\n        &quot;bool&quot;: {\n            &quot;must&quot;: [\n                {\n                    &quot;bool&quot;: {\n                        &quot;must&quot;: [\n                            {\n                                &quot;terms&quot;: {\n                                    &quot;company_id&quot;: [\n                                        &quot;39978&quot;\n                                    ]\n                                }\n                            }\n                        ]\n                    }\n                },\n                {\n                    &quot;has_parent&quot;: {\n                        &quot;query&quot;: {\n                            &quot;bool&quot;: {\n                                &quot;filter&quot;: {\n                                    &quot;nested&quot;: {\n                                        &quot;path&quot;: &quot;educations_search&quot;,\n                                        &quot;query&quot;: {\n                                            &quot;bool&quot;: {\n                                                &quot;must&quot;: [\n                                                    {\n                                                        &quot;range&quot;: {\n                                                            &quot;educations_search.end_time&quot;: {\n                                                                &quot;include_lower&quot;: true,\n                                                                &quot;include_upper&quot;: true,\n                                                                &quot;from&quot;: 1685548800000,\n                                                                &quot;to&quot;: 1685635200000\n                                                            }\n                                                        }\n                                                    },\n                                                    {\n                                                        &quot;script&quot;: {\n                                                            &quot;script&quot;: {\n                                                                &quot;inline&quot;: &quot;int maxDegreeCode = -1;def maxDegreeObject ;def startDate = new Date(1698748800000); def endDate = new Date(1699094400000); for (education in doc['educations_search'].value) {int degreeCode = Integer.parseInt(education['degree']['code'].value); if (degreeCode &gt; maxDegreeCode) {     maxDegreeCode = degreeCode;     maxDegreeObject = education }}; if (maxDegreeObject != null) {def maxDegreeEndFilter = new Date(maxDegreeObject['end_time'].value); return maxDegreeCode == Integer.parseInt(maxDegreeObject['degree']['code'].value)         &amp;&amp; maxDegreeEndFilter &gt;= startDate &amp;&amp; maxDegreeEndFilter &lt;= endDate} else {return false}&quot;\n                                                            }\n                                                        }\n                                                    }\n                                                ]\n                                            }\n                                        }\n                                    }\n                                },\n                                &quot;must&quot;: {\n                                    &quot;match&quot;: {\n                                        &quot;company_id&quot;: {\n                                            &quot;query&quot;: 39978,\n                                            &quot;type&quot;: &quot;boolean&quot;\n                                        }\n                                    }\n                                }\n                            }\n                        },\n                        &quot;parent_type&quot;: &quot;profile&quot;\n                    }\n                }\n            ]\n        }\n    },\n    &quot;from&quot;: 0\n}\n</code></pre>\n<p>but it's not working and return an empty an error：</p>\n<pre><code>&quot;caused_by&quot;: {\n                    &quot;type&quot;: &quot;illegal_argument_exception&quot;,\n                    &quot;reason&quot;: &quot;No field found for [_parent.educations_search] in mapping with types [application]&quot;\n                }\n</code></pre>\n<p>It seems like instead of applying the script function to the and then passing its result to the child, ElasticSearch is trying to apply the condition itself to the child,causing the error.\nWhat am I wrong here? How can I query these child documents based on a parent field?\nI still use Script like this:</p>\n<pre><code>{\n    &quot;script&quot;: {\n        &quot;script&quot;: {\n            &quot;inline&quot;: &quot;int maxDegreeCode = -1; def maxDegreeObject; def startDate = new Date(1698748800000); def endDate = new Date(1699094400000); for (education in _source.educations_search) {int degreeCode = Integer.parseInt(education.degree.code); if (degreeCode &gt; maxDegreeCode) {     maxDegreeCode = degreeCode; maxDegreeObject = education }}; if (maxDegreeObject != null) {def maxDegreeEndFilter = new Date(maxDegreeObject.end_time); return maxDegreeCode == Integer.parseInt(maxDegreeObject.degree.code) &amp;&amp; maxDegreeEndFilter &gt;= startDate &amp;&amp; maxDegreeEndFilter &lt;= endDate} else {return false}&quot;\n        }\n    }\n}\n</code></pre>\n<p>but it's return an empty.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689028557,"post_id":76650595,"comment_id":135152609,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1689053129,"post_id":76650595,"comment_id":135154628,"body_markdown":"Related guthub link: https://github.com/redhat-developer/vscode-java/issues/3191","body":"Related guthub link: <a href=\"https://github.com/redhat-developer/vscode-java/issues/3191\" rel=\"nofollow noreferrer\">github.com/redhat-developer/vscode-java/issues/3191</a>"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1689227618,"post_id":76650595,"comment_id":135183991,"body_markdown":"Does this answer your question? [Why aren&#39;t suggestions working properly in new Java files with the Red Hat Java Language Support extension v1.20.0 with VS Code 1.80?](https://stackoverflow.com/questions/76668211/why-arent-suggestions-working-properly-in-new-java-files-with-the-red-hat-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/76668211/why-arent-suggestions-working-properly-in-new-java-files-with-the-red-hat-java\">Why aren&#39;t suggestions working properly in new Java files with the Red Hat Java Language Support extension v1.20.0 with VS Code 1.80?</a>"}],"answers":[{"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1689313900,"post_id":76684977,"comment_id":135198463,"body_markdown":"please don&#39;t answer duplicate questions. vote to close as duplicate","body":"please don&#39;t answer duplicate questions. vote to close as duplicate"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1689313997,"post_id":76684977,"comment_id":135198477,"body_markdown":"you&#39;ve now not only answered a dup of the canonical question, but answered _another_ dup that you already answered. this is not how this platform is supposed to work. I counted three. are you going to do more?","body":"you&#39;ve now not only answered a dup of the canonical question, but answered <i>another</i> dup that you already answered. this is not how this platform is supposed to work. I counted three. are you going to do more?"}],"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689313282,"creation_date":1689313282,"answer_id":76684977,"question_id":76650595,"body_markdown":"\r\n`this issue has been fixed in the latest vscode@1.80.1 version.` according to replies from [GitHub][1].\r\n\r\n\r\n  [1]: https://github.com/redhat-developer/vscode-java/issues/3191#issuecomment-1635181642","title":"Visual Studio Code does not give suggestions or autocompletion when creating a new file","body":"<p><code>this issue has been fixed in the latest vscode@1.80.1 version.</code> according to replies from <a href=\"https://github.com/redhat-developer/vscode-java/issues/3191#issuecomment-1635181642\" rel=\"nofollow noreferrer\">GitHub</a>.</p>\n"}],"owner":{"account_id":21258275,"reputation":1,"user_id":15639411,"display_name":"bayyand"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689313282,"creation_date":1688961140,"question_id":76650595,"body_markdown":"I have this problem, I have all dependencies and plugin installed to work with java spring.\r\n\r\n**Plugins installed:**\r\nExtension Pack for Java\r\nsonarlint\r\nSpring Boot Extension Pack\r\n\r\n**Operating system: Ubuntu**\r\njdk version: 17LTS\r\n\r\nThis did not happen to me before, now I have to close and reopen Visual Studio Code to get the suggestions. like in this giff [image](https://res.cloudinary.com/bayyand/image/upload/v1688960874/2023-07-09_22-37-42_zd7c1j.gif)\r\n\r\n\r\nI tried to close and reopen the code editor and then it works correctly, but it is annoying every time I create a new file to close and reopen.","title":"Visual Studio Code does not give suggestions or autocompletion when creating a new file","body":"<p>I have this problem, I have all dependencies and plugin installed to work with java spring.</p>\n<p><strong>Plugins installed:</strong>\nExtension Pack for Java\nsonarlint\nSpring Boot Extension Pack</p>\n<p><strong>Operating system: Ubuntu</strong>\njdk version: 17LTS</p>\n<p>This did not happen to me before, now I have to close and reopen Visual Studio Code to get the suggestions. like in this giff <a href=\"https://res.cloudinary.com/bayyand/image/upload/v1688960874/2023-07-09_22-37-42_zd7c1j.gif\" rel=\"nofollow noreferrer\">image</a></p>\n<p>I tried to close and reopen the code editor and then it works correctly, but it is annoying every time I create a new file to close and reopen.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1689010759,"post_id":76656023,"comment_id":135149812,"body_markdown":"what does `sout as System.out.println` mean?","body":"what does <code>sout as System.out.println</code> mean?"},{"owner":{"account_id":26891959,"reputation":1,"user_id":20470572,"display_name":"user20470572"},"score":0,"creation_date":1689011065,"post_id":76656023,"comment_id":135149865,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans on VS code if we write sout or sysout.. The whole function System.out.println gets displayed which we can enter directly.. but for me its not showing now for the new java files that I am making","body":"@Mike&#39;Pomax&#39;Kamermans on VS code if we write sout or sysout.. The whole function System.out.println gets displayed which we can enter directly.. but for me its not showing now for the new java files that I am making"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":1,"creation_date":1689011535,"post_id":76656023,"comment_id":135149950,"body_markdown":"https://github.com/redhat-developer/vscode-java/issues/3191","body":"<a href=\"https://github.com/redhat-developer/vscode-java/issues/3191\" rel=\"nofollow noreferrer\">github.com/redhat-developer/vscode-java/issues/3191</a>"},{"owner":{"account_id":26891959,"reputation":1,"user_id":20470572,"display_name":"user20470572"},"score":0,"creation_date":1689013367,"post_id":76656023,"comment_id":135150266,"body_markdown":"@starball is this problem being faced by many people?","body":"@starball is this problem being faced by many people?"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1689018816,"post_id":76656023,"comment_id":135151266,"body_markdown":"judging by the (currently 6) questions that have been posted, and multiple issue tickets, yes- this is a problem being faced by multiple people. sit tight and stay tuned for updates.","body":"judging by the (currently 6) questions that have been posted, and multiple issue tickets, yes- this is a problem being faced by multiple people. sit tight and stay tuned for updates."},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1689227625,"post_id":76656023,"comment_id":135183993,"body_markdown":"Does this answer your question? [Why aren&#39;t suggestions working properly in new Java files with the Red Hat Java Language Support extension v1.20.0 with VS Code 1.80?](https://stackoverflow.com/questions/76668211/why-arent-suggestions-working-properly-in-new-java-files-with-the-red-hat-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/76668211/why-arent-suggestions-working-properly-in-new-java-files-with-the-red-hat-java\">Why aren&#39;t suggestions working properly in new Java files with the Red Hat Java Language Support extension v1.20.0 with VS Code 1.80?</a>"}],"answers":[{"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1689313786,"post_id":76684962,"comment_id":135198449,"body_markdown":"please don&#39;t answer duplicate questions. vote to close as a duplicate","body":"please don&#39;t answer duplicate questions. vote to close as a duplicate"}],"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689313140,"creation_date":1689313140,"answer_id":76684962,"question_id":76656023,"body_markdown":"Judging from the latest reply:\r\n\r\n &gt; this issue has been fixed in the latest vscode@1.80.1 version.\r\n\r\n*https://github.com/redhat-developer/vscode-java/issues/3191#issuecomment-1635181642*","title":"My VS Code is unable to display sout as System.out.println for new java files that I make","body":"<p>Judging from the latest reply:</p>\n<blockquote>\n<p>this issue has been fixed in the latest vscode@1.80.1 version.</p>\n</blockquote>\n<p><em><a href=\"https://github.com/redhat-developer/vscode-java/issues/3191#issuecomment-1635181642\" rel=\"nofollow noreferrer\">https://github.com/redhat-developer/vscode-java/issues/3191#issuecomment-1635181642</a></em></p>\n"}],"owner":{"account_id":26891959,"reputation":1,"user_id":20470572,"display_name":"user20470572"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689313140,"creation_date":1689010076,"question_id":76656023,"body_markdown":"When I close VS code and open again then in the previous made files `sout` as `System.out.println` is visible. I dont know what is happening.\r\n\r\nSome dailog box related to usage of RedHat or something had come. I didnt know what it is and pressed cancel from then this problem is happening.\r\n\r\nI will be really thankful if someone helps me out. Thanks","title":"My VS Code is unable to display sout as System.out.println for new java files that I make","body":"<p>When I close VS code and open again then in the previous made files <code>sout</code> as <code>System.out.println</code> is visible. I dont know what is happening.</p>\n<p>Some dailog box related to usage of RedHat or something had come. I didnt know what it is and pressed cancel from then this problem is happening.</p>\n<p>I will be really thankful if someone helps me out. Thanks</p>\n"},{"tags":["java","spring","hibernate","junit","spring-test"],"comments":[{"owner":{"account_id":890986,"reputation":1559,"user_id":1165320,"accept_rate":46,"display_name":"Gaurav"},"score":0,"creation_date":1348765361,"post_id":12626502,"comment_id":17025069,"body_markdown":"What do you mean by rollback ?. Cleaning the database ?","body":"What do you mean by rollback ?. Cleaning the database ?"},{"owner":{"account_id":412934,"reputation":19391,"user_id":786284,"accept_rate":87,"display_name":"Jan Vorcak"},"score":7,"creation_date":1348765428,"post_id":12626502,"comment_id":17025093,"body_markdown":"setting it to the exactly the same state it was after executing `initTest`","body":"setting it to the exactly the same state it was after executing <code>initTest</code>"}],"answers":[{"tags":[],"owner":{"account_id":182101,"reputation":48239,"user_id":416564,"accept_rate":100,"display_name":"Johan Sj&#246;berg"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1586963080,"creation_date":1348765484,"answer_id":12626562,"question_id":12626502,"body_markdown":"You need to run your test with a Spring context and a transaction manager, e.g., \r\n\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)  \r\n    @ContextConfiguration(locations = {&quot;/your-applicationContext.xml&quot;})\r\n    @TransactionConfiguration(transactionManager=&quot;txMgr&quot;)\r\n    public class StudentSystemTest {\r\n\r\n         @Test\r\n         public void testTransactionalService() {\r\n             // test transactional service\r\n         }\r\n\r\n         @Test\r\n         @Transactional\r\n         public void testNonTransactionalService() {\r\n             // test non-transactional service\r\n         }\r\n    }\r\n\r\nSee chapter [`3.5.8. Transaction Management`][1] of the Spring reference for further details. \r\n\r\n[1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#testcontext-tx\r\n","title":"Rollback transaction after @Test","body":"<p>You need to run your test with a Spring context and a transaction manager, e.g., </p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)  \n@ContextConfiguration(locations = {\"/your-applicationContext.xml\"})\n@TransactionConfiguration(transactionManager=\"txMgr\")\npublic class StudentSystemTest {\n\n     @Test\n     public void testTransactionalService() {\n         // test transactional service\n     }\n\n     @Test\n     @Transactional\n     public void testNonTransactionalService() {\n         // test non-transactional service\n     }\n}\n</code></pre>\n\n<p>See chapter <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#testcontext-tx\" rel=\"nofollow noreferrer\"><code>3.5.8. Transaction Management</code></a> of the Spring reference for further details. </p>\n"},{"comments":[{"owner":{"account_id":412934,"reputation":19391,"user_id":786284,"accept_rate":87,"display_name":"Jan Vorcak"},"score":3,"creation_date":1348766582,"post_id":12626636,"comment_id":17025589,"body_markdown":"well, I tried this before, and it still doesn&#39;t work, maybe ... can the problem be that I didn&#39;t define the PlatformTransactionManager, how can I do that?","body":"well, I tried this before, and it still doesn&#39;t work, maybe ... can the problem be that I didn&#39;t define the PlatformTransactionManager, how can I do that?"},{"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"score":0,"creation_date":1348766967,"post_id":12626636,"comment_id":17025753,"body_markdown":"@javo: how are you modifying the database? If you are using Jpa/Hibernate/JdbcTemplate/... there must be some `PlatformTransactionManager`. Otherwise how Spring will know about your transactions and database?","body":"@javo: how are you modifying the database? If you are using Jpa/Hibernate/JdbcTemplate/... there must be some <code>PlatformTransactionManager</code>. Otherwise how Spring will know about your transactions and database?"},{"owner":{"account_id":128226,"reputation":10041,"user_id":325900,"accept_rate":78,"display_name":"DaveyDaveDave"},"score":2,"creation_date":1458741891,"post_id":12626636,"comment_id":59995754,"body_markdown":"The link in this answer is no longer correct; see [user2418306&#39;s answer below](http://stackoverflow.com/a/35943700/325900) for the correct link and more context from the Spring documentation.","body":"The link in this answer is no longer correct; see <a href=\"http://stackoverflow.com/a/35943700/325900\">user2418306&#39;s answer below</a> for the correct link and more context from the Spring documentation."},{"owner":{"account_id":4793155,"reputation":6314,"user_id":3871754,"accept_rate":68,"display_name":"Kamil Nękanowicz"},"score":1,"creation_date":1518615321,"post_id":12626636,"comment_id":84578608,"body_markdown":"I does not work, each method requires a separate transaction, cant do it for whole class","body":"I does not work, each method requires a separate transaction, cant do it for whole class"},{"owner":{"account_id":123192,"reputation":13668,"user_id":317522,"accept_rate":11,"display_name":"Paulo Merson"},"score":0,"creation_date":1522075072,"post_id":12626636,"comment_id":85991810,"body_markdown":"I&#39;m testing an insert into a table. With @Transactional, the insert command is not even issued against the database (I can see that because the console has hibernate show-sql true). Works fine in many cases. But one of my tests checks that the database issues a DataAccessException because of a database constraint. In this case the test fails because the rollback happens &quot;in memory&quot; and the database is never called. Solution: use `@Transactional` at the `@Test` method level and not at the class level.","body":"I&#39;m testing an insert into a table. With @Transactional, the insert command is not even issued against the database (I can see that because the console has hibernate show-sql true). Works fine in many cases. But one of my tests checks that the database issues a DataAccessException because of a database constraint. In this case the test fails because the rollback happens &quot;in memory&quot; and the database is never called. Solution: use <code>@Transactional</code> at the <code>@Test</code> method level and not at the class level."},{"owner":{"account_id":354343,"reputation":4204,"user_id":692626,"accept_rate":14,"display_name":"dan carter"},"score":0,"creation_date":1528170698,"post_id":12626636,"comment_id":88393059,"body_markdown":"@PauloMerson you should have an &#39;@After on any DB test classes that does a flush of the entity manager.  This ensures the last DB operation gets pushed to the DB to allow constraints to fail, it will still rollback though","body":"@PauloMerson you should have an &#39;@After on any DB test classes that does a flush of the entity manager.  This ensures the last DB operation gets pushed to the DB to allow constraints to fail, it will still rollback though"}],"tags":[],"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"comment_count":6,"down_vote_count":1,"up_vote_count":169,"is_accepted":true,"score":168,"last_activity_date":1348766087,"creation_date":1348765735,"answer_id":12626636,"question_id":12626502,"body_markdown":"Just add `@Transactional` annotation on top of your test:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)  \r\n    @ContextConfiguration(locations = {&quot;testContext.xml&quot;})\r\n    @Transactional\r\n    public class StudentSystemTest {\r\n\r\nBy default Spring will start a new transaction surrounding your test method and `@Before`/`@After` callbacks, rolling back at the end. It works by default, it&#39;s enough to have some transaction manager in the context.\r\n\r\nFrom: [*10.3.5.4 Transaction management*](http://static.springsource.org/spring/docs/current/spring-framework-reference/html/testing.html#testcontext-tx) (bold mine):\r\n\r\n&gt; In the TestContext framework, transactions are managed by the TransactionalTestExecutionListener. Note that `TransactionalTestExecutionListener` is **configured by default**, even if you do not explicitly declare `@TestExecutionListeners` on your test class. To enable support for transactions, however, you must provide a `PlatformTransactionManager` bean in the application context loaded by `@ContextConfiguration` semantics. In addition, **you must declare `@Transactional` either at the class or method level for your tests**.","title":"Rollback transaction after @Test","body":"<p>Just add <code>@Transactional</code> annotation on top of your test:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)  \n@ContextConfiguration(locations = {\"testContext.xml\"})\n@Transactional\npublic class StudentSystemTest {\n</code></pre>\n\n<p>By default Spring will start a new transaction surrounding your test method and <code>@Before</code>/<code>@After</code> callbacks, rolling back at the end. It works by default, it's enough to have some transaction manager in the context.</p>\n\n<p>From: <a href=\"http://static.springsource.org/spring/docs/current/spring-framework-reference/html/testing.html#testcontext-tx\"><em>10.3.5.4 Transaction management</em></a> (bold mine):</p>\n\n<blockquote>\n  <p>In the TestContext framework, transactions are managed by the TransactionalTestExecutionListener. Note that <code>TransactionalTestExecutionListener</code> is <strong>configured by default</strong>, even if you do not explicitly declare <code>@TestExecutionListeners</code> on your test class. To enable support for transactions, however, you must provide a <code>PlatformTransactionManager</code> bean in the application context loaded by <code>@ContextConfiguration</code> semantics. In addition, <strong>you must declare <code>@Transactional</code> either at the class or method level for your tests</strong>.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":4793155,"reputation":6314,"user_id":3871754,"accept_rate":68,"display_name":"Kamil Nękanowicz"},"score":3,"creation_date":1518616195,"post_id":12627121,"comment_id":84579213,"body_markdown":"adding annotation &#39;@Transactional&#39; on class level does not work, adding annotation &#39;@Transactional &#39; separately for each function works,and extends AbstractTransactionalJUnit4SpringContextTests works too","body":"adding annotation &#39;@Transactional&#39; on class level does not work, adding annotation &#39;@Transactional &#39; separately for each function works,and extends AbstractTransactionalJUnit4SpringContextTests works too"}],"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1348767631,"creation_date":1348767631,"answer_id":12627121,"question_id":12626502,"body_markdown":"The answers mentioning adding `@Transactional` are correct, but for simplicity you could just have your test class `extends AbstractTransactionalJUnit4SpringContextTests`.","title":"Rollback transaction after @Test","body":"<p>The answers mentioning adding <code>@Transactional</code> are correct, but for simplicity you could just have your test class <code>extends AbstractTransactionalJUnit4SpringContextTests</code>.</p>\n"},{"comments":[{"owner":{"account_id":213379,"reputation":9738,"user_id":466738,"accept_rate":94,"display_name":"Adam Michalik"},"score":10,"creation_date":1457698315,"post_id":34588347,"comment_id":59535937,"body_markdown":"That&#39;s exactly the opposite what the OP is asking for","body":"That&#39;s exactly the opposite what the OP is asking for"},{"owner":{"account_id":67532,"reputation":15704,"user_id":197574,"accept_rate":83,"display_name":"DerMike"},"score":1,"creation_date":1520960628,"post_id":34588347,"comment_id":85527365,"body_markdown":"This should have been a comment to the accepted answer.","body":"This should have been a comment to the accepted answer."}],"tags":[],"owner":{"account_id":3010067,"reputation":51,"user_id":2553792,"display_name":"DwD"},"comment_count":2,"down_vote_count":11,"up_vote_count":6,"is_accepted":false,"score":-5,"last_activity_date":1451900863,"creation_date":1451900863,"answer_id":34588347,"question_id":12626502,"body_markdown":"You can disable the Rollback:\r\n\r\n    @TransactionConfiguration(defaultRollback = false)\r\n\r\nExample:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringApplicationConfiguration(classes = Application.class)\r\n    @Transactional\r\n    @TransactionConfiguration(defaultRollback = false)\r\n    public class Test {\r\n\t    @PersistenceContext\r\n\t    private EntityManager em;\r\n\t\r\n\t    @org.junit.Test\r\n\t    public void menge() {\r\n\t\t    PersistentObject object = new PersistentObject();\r\n\t\t    em.persist(object);\r\n\t\t    em.flush();\r\n\t    }\r\n    }","title":"Rollback transaction after @Test","body":"<p>You can disable the Rollback:</p>\n\n<pre><code>@TransactionConfiguration(defaultRollback = false)\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringApplicationConfiguration(classes = Application.class)\n@Transactional\n@TransactionConfiguration(defaultRollback = false)\npublic class Test {\n    @PersistenceContext\n    private EntityManager em;\n\n    @org.junit.Test\n    public void menge() {\n        PersistentObject object = new PersistentObject();\n        em.persist(object);\n        em.flush();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1872069,"reputation":1309,"user_id":1694086,"display_name":"franta kocourek"},"score":1,"creation_date":1508403432,"post_id":34870331,"comment_id":80599831,"body_markdown":"Well, so you commit your statements manually? Are you sure your data was even written in your database?","body":"Well, so you commit your statements manually? Are you sure your data was even written in your database?"},{"owner":{"account_id":1261937,"reputation":518,"user_id":1219968,"accept_rate":75,"display_name":"Joe Ernst"},"score":2,"creation_date":1553193903,"post_id":34870331,"comment_id":97304207,"body_markdown":"For anyone struggling to understand Spring Transactions, make sure your data source is NOT set to auto-commit or you will drive yourself crazy trying to figure out why @Transactional seems to do nothing.","body":"For anyone struggling to understand Spring Transactions, make sure your data source is NOT set to auto-commit or you will drive yourself crazy trying to figure out why @Transactional seems to do nothing."}],"tags":[],"owner":{"account_id":3475850,"reputation":1073,"user_id":2909062,"accept_rate":69,"display_name":"Atul Kumbhar"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1453186607,"creation_date":1453186607,"answer_id":34870331,"question_id":12626502,"body_markdown":"I know, I am tooooo late to post an answer, but hoping that it might help someone. Plus, I just solved this issue I had with my tests. This is what I had in my test:\r\n\r\n\r\nMy test class\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = { &quot;path-to-context&quot; })\r\n    @Transactional\r\n    public class MyIntegrationTest \r\n\r\nContext xml\r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;&gt;\r\n       &lt;property name=&quot;driverClassName&quot; value=&quot;${jdbc.driverClassName}&quot; /&gt;\r\n       &lt;property name=&quot;url&quot; value=&quot;${jdbc.url}&quot; /&gt;\r\n       &lt;property name=&quot;username&quot; value=&quot;${jdbc.username}&quot; /&gt;\r\n       &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\nI still had the problem that, the database was not being cleaned up automatically.\r\n\r\nIssue was resolved when I added following property to BasicDataSource\r\n\r\n    &lt;property name=&quot;defaultAutoCommit&quot; value=&quot;false&quot; /&gt;\r\n\r\nHope it helps.","title":"Rollback transaction after @Test","body":"<p>I know, I am tooooo late to post an answer, but hoping that it might help someone. Plus, I just solved this issue I had with my tests. This is what I had in my test:</p>\n\n<p>My test class</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = { \"path-to-context\" })\n@Transactional\npublic class MyIntegrationTest \n</code></pre>\n\n<p>Context xml</p>\n\n<pre><code>&lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\"&gt;\n   &lt;property name=\"driverClassName\" value=\"${jdbc.driverClassName}\" /&gt;\n   &lt;property name=\"url\" value=\"${jdbc.url}\" /&gt;\n   &lt;property name=\"username\" value=\"${jdbc.username}\" /&gt;\n   &lt;property name=\"password\" value=\"${jdbc.password}\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>I still had the problem that, the database was not being cleaned up automatically.</p>\n\n<p>Issue was resolved when I added following property to BasicDataSource</p>\n\n<pre><code>&lt;property name=\"defaultAutoCommit\" value=\"false\" /&gt;\n</code></pre>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":2812323,"reputation":2352,"user_id":2418306,"accept_rate":80,"display_name":"user2418306"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1614547147,"creation_date":1457709246,"answer_id":35943700,"question_id":12626502,"body_markdown":"_Aside:_ attempt to amend Tomasz Nurkiewicz&#39;s answer was rejected:\r\n&gt; This edit does not make the post even a little bit easier to read, easier to find, more accurate or more accessible. Changes are either completely superfluous or actively harm readability.\r\n&lt;!--http://stackoverflow.com/users/3045515/sambhav-sharma--&gt;\r\n&lt;!--http://stackoverflow.com/users/987339/user987339--&gt;\r\n&lt;!--http://stackoverflow.com/users/4694013/anoop-m--&gt;\r\n\r\n----------\r\n\r\nCorrect and permanent [link](http://docs.spring.io/spring/docs/4.2.5.RELEASE/spring-framework-reference/html/integration-testing.html#testcontext-tx) to the relevant section of documentation about integration testing.\r\n&gt; To enable support for transactions, you must configure a `PlatformTransactionManager` bean in the `ApplicationContext` that is loaded via `@ContextConfiguration` semantics.\r\n\r\n```java\r\n@Configuration\r\n@PropertySource(&quot;application.properties&quot;)\r\npublic class Persistence {\r\n    @Autowired\r\n    Environment env;\r\n\r\n    @Bean\r\n    DataSource dataSource() {\r\n        return new DriverManagerDataSource(\r\n                env.getProperty(&quot;datasource.url&quot;),\r\n                env.getProperty(&quot;datasource.user&quot;),\r\n                env.getProperty(&quot;datasource.password&quot;)\r\n        );\r\n    }\r\n\r\n    @Bean\r\n    PlatformTransactionManager transactionManager() {\r\n        return new DataSourceTransactionManager(dataSource());\r\n    }\r\n}\r\n```\r\n\r\n&gt; In addition, you must declare Spring’s `@Transactional` annotation either at the class or method level for your tests.\r\n\r\n```java\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@ContextConfiguration(classes = {Persistence.class, SomeRepository.class})\r\n@Transactional\r\npublic class SomeRepositoryTest { ... }\r\n```\r\n\r\n&gt; Annotating a test method with `@Transactional` causes the test to be run within a transaction that will, by default, be automatically rolled back after completion of the test. If a test class is annotated with `@Transactional`, each test method within that class hierarchy will be run within a transaction.","title":"Rollback transaction after @Test","body":"<p><em>Aside:</em> attempt to amend Tomasz Nurkiewicz's answer was rejected:</p>\n<blockquote>\n<p>This edit does not make the post even a little bit easier to read, easier to find, more accurate or more accessible. Changes are either completely superfluous or actively harm readability.</p>\n</blockquote>\n\n\n\n<hr />\n<p>Correct and permanent <a href=\"http://docs.spring.io/spring/docs/4.2.5.RELEASE/spring-framework-reference/html/integration-testing.html#testcontext-tx\" rel=\"noreferrer\">link</a> to the relevant section of documentation about integration testing.</p>\n<blockquote>\n<p>To enable support for transactions, you must configure a <code>PlatformTransactionManager</code> bean in the <code>ApplicationContext</code> that is loaded via <code>@ContextConfiguration</code> semantics.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@PropertySource(&quot;application.properties&quot;)\npublic class Persistence {\n    @Autowired\n    Environment env;\n\n    @Bean\n    DataSource dataSource() {\n        return new DriverManagerDataSource(\n                env.getProperty(&quot;datasource.url&quot;),\n                env.getProperty(&quot;datasource.user&quot;),\n                env.getProperty(&quot;datasource.password&quot;)\n        );\n    }\n\n    @Bean\n    PlatformTransactionManager transactionManager() {\n        return new DataSourceTransactionManager(dataSource());\n    }\n}\n</code></pre>\n<blockquote>\n<p>In addition, you must declare Spring’s <code>@Transactional</code> annotation either at the class or method level for your tests.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = {Persistence.class, SomeRepository.class})\n@Transactional\npublic class SomeRepositoryTest { ... }\n</code></pre>\n<blockquote>\n<p>Annotating a test method with <code>@Transactional</code> causes the test to be run within a transaction that will, by default, be automatically rolled back after completion of the test. If a test class is annotated with <code>@Transactional</code>, each test method within that class hierarchy will be run within a transaction.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":173186,"reputation":4270,"user_id":401712,"display_name":"Dario Seidl"},"score":8,"creation_date":1643967819,"post_id":63463212,"comment_id":125484856,"body_markdown":"This answers the opposite question, how *not to rollback* a transaction in a test. But it&#39;s still good to know, that&#39;s what I came looking for.","body":"This answers the opposite question, how <i>not to rollback</i> a transaction in a test. But it&#39;s still good to know, that&#39;s what I came looking for."},{"owner":{"account_id":4800995,"reputation":826,"user_id":3877642,"display_name":"Sankaran Srinivasan"},"score":0,"creation_date":1691419654,"post_id":63463212,"comment_id":135485502,"body_markdown":"You saved my day :) Thank you !","body":"You saved my day :) Thank you !"}],"tags":[],"owner":{"account_id":3089205,"reputation":164,"user_id":2615724,"display_name":"user2615724"},"comment_count":2,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1597733253,"creation_date":1597733253,"answer_id":63463212,"question_id":12626502,"body_markdown":"In addition to adding `@Transactional` on `@Test` method, you also need to add `@Rollback(false)`","title":"Rollback transaction after @Test","body":"<p>In addition to adding <code>@Transactional</code> on <code>@Test</code> method, you also need to add <code>@Rollback(false)</code></p>\n"},{"tags":[],"owner":{"account_id":21188268,"reputation":31,"user_id":15581209,"display_name":"William"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689313066,"creation_date":1689313066,"answer_id":76684959,"question_id":12626502,"body_markdown":"As answered above by the top-liked answer, basically you only need to 2 things below to rollback the transaction takes place in test cases: \r\n\r\n- add @Transactional on the test Class\r\n- add **@Rollback** on the Test Case\r\n\r\n\r\nIn case it still doesn&#39;t work, kindly double check if your system is using multiple data sources, if so, you also need to specify the expected data source for the transaction based on which DB your SQL will connect to.\r\n\r\nCode example:\r\n\r\n    @SpringBootTest(classes = Sample.class)\r\n    @Transactional(transactionManager = &quot;txManagerXX&quot;) // specify txManager here if your system uses multiple sources\r\n    public class SampleTest {\r\n\t\r\n\t    @Test\r\n    \t@Rollback\r\n\t    public void test_case_1(){\r\n\t\t    ...\r\n\t    }\r\n\r\n    }","title":"Rollback transaction after @Test","body":"<p>As answered above by the top-liked answer, basically you only need to 2 things below to rollback the transaction takes place in test cases:</p>\n<ul>\n<li>add @Transactional on the test Class</li>\n<li>add <strong>@Rollback</strong> on the Test Case</li>\n</ul>\n<p>In case it still doesn't work, kindly double check if your system is using multiple data sources, if so, you also need to specify the expected data source for the transaction based on which DB your SQL will connect to.</p>\n<p>Code example:</p>\n<pre><code>@SpringBootTest(classes = Sample.class)\n@Transactional(transactionManager = &quot;txManagerXX&quot;) // specify txManager here if your system uses multiple sources\npublic class SampleTest {\n\n    @Test\n    @Rollback\n    public void test_case_1(){\n        ...\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":412934,"reputation":19391,"user_id":786284,"accept_rate":87,"display_name":"Jan Vorcak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164642,"favorite_count":0,"down_vote_count":0,"up_vote_count":118,"accepted_answer_id":12626636,"answer_count":8,"score":118,"last_activity_date":1689313066,"creation_date":1348765223,"question_id":12626502,"body_markdown":"First of all, I&#39;ve found a lot of threads on StackOverflow about this, but none of them really helped me, so sorry to ask possibly duplicate question.\r\n\r\nI&#39;m running JUnit tests using spring-test, my code looks like this\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)  \r\n    @ContextConfiguration(locations = {})\r\n    public class StudentSystemTest {\r\n    \r\n    \t@Autowired\r\n    \tprivate StudentSystem studentSystem;\r\n    \r\n        @Before\r\n    \tpublic void initTest() {\r\n        // set up the database, create basic structure for testing\r\n        }\r\n    \r\n        @Test\r\n    \tpublic void test1() {\r\n        }    \r\n        ...  \r\n    }\r\n\r\nMy problem is that I want my tests to NOT influence other tests.\r\nSo I&#39;d like to create something like rollback for each test.\r\nI&#39;ve searched a lot for this, but I&#39;ve found nothing so far.\r\nI&#39;m using Hibernate and MySql for this","title":"Rollback transaction after @Test","body":"<p>First of all, I've found a lot of threads on StackOverflow about this, but none of them really helped me, so sorry to ask possibly duplicate question.</p>\n\n<p>I'm running JUnit tests using spring-test, my code looks like this</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)  \n@ContextConfiguration(locations = {})\npublic class StudentSystemTest {\n\n    @Autowired\n    private StudentSystem studentSystem;\n\n    @Before\n    public void initTest() {\n    // set up the database, create basic structure for testing\n    }\n\n    @Test\n    public void test1() {\n    }    \n    ...  \n}\n</code></pre>\n\n<p>My problem is that I want my tests to NOT influence other tests.\nSo I'd like to create something like rollback for each test.\nI've searched a lot for this, but I've found nothing so far.\nI'm using Hibernate and MySql for this</p>\n"},{"tags":["java","visual-studio-code","intellisense"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1689144240,"post_id":76667593,"comment_id":135169714,"body_markdown":"There are similar issues: https://github.com/redhat-developer/vscode-java/issues/3191","body":"There are similar issues: <a href=\"https://github.com/redhat-developer/vscode-java/issues/3191\" rel=\"nofollow noreferrer\">github.com/redhat-developer/vscode-java/issues/3191</a>"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1689148161,"post_id":76667593,"comment_id":135170462,"body_markdown":"out of curiosity, does the `Restart Java Language Server` also work as a workaround?","body":"out of curiosity, does the <code>Restart Java Language Server</code> also work as a workaround?"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1689313050,"creation_date":1689313050,"answer_id":76684958,"question_id":76667593,"body_markdown":"https://github.com/redhat-developer/vscode-java/issues/3191#issuecomment-1635181642\r\n\r\n &gt; this issue has been fixed in the latest vscode@1.80.1 version.","title":"Intellisense in VS code for java is only working if I enable and disable extensions when I create a new file","body":"<p><a href=\"https://github.com/redhat-developer/vscode-java/issues/3191#issuecomment-1635181642\" rel=\"nofollow noreferrer\">https://github.com/redhat-developer/vscode-java/issues/3191#issuecomment-1635181642</a></p>\n<blockquote>\n<p>this issue has been fixed in the latest vscode@1.80.1 version.</p>\n</blockquote>\n"}],"owner":{"account_id":27597618,"reputation":13,"user_id":21063511,"display_name":"Perseus _"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1689920142,"accepted_answer_id":76684958,"answer_count":1,"score":1,"last_activity_date":1689313050,"creation_date":1689142436,"question_id":76667593,"body_markdown":"If I create a new file Intellisense stops working.\r\nOn creation of a new file basic things work but the full list of suggestions doesn&#39;t show up.\r\n\r\nI either have to reopen vs code , even then it doesn&#39;t work sometimes. It only works when I disable and reinstall the Extension Pack for java in Microsoft.\r\n","title":"Intellisense in VS code for java is only working if I enable and disable extensions when I create a new file","body":"<p>If I create a new file Intellisense stops working.\nOn creation of a new file basic things work but the full list of suggestions doesn't show up.</p>\n<p>I either have to reopen vs code , even then it doesn't work sometimes. It only works when I disable and reinstall the Extension Pack for java in Microsoft.</p>\n"},{"tags":["java","log4j"],"owner":{"account_id":12565417,"reputation":25,"user_id":9141581,"display_name":"PR173"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689311214,"creation_date":1689311214,"question_id":76684852,"body_markdown":"I have one requirement like, if there are 10 files(which is dynamic) to transform then for all these 10 files, log file should be generated separately(10 logs files if there are 10 input files).\r\nI tried implementing it by using Marker feature of log4j however since the marker is static and it will hold the values at class loading itself. I am not able to pass file names dynamically and it is still taking first file and generating single file and writing logs for remaining files in that file itself. \r\n\r\n\r\n","title":"How can I create multiple log files based on multiple data Input files with log4j config file in Java","body":"<p>I have one requirement like, if there are 10 files(which is dynamic) to transform then for all these 10 files, log file should be generated separately(10 logs files if there are 10 input files).\nI tried implementing it by using Marker feature of log4j however since the marker is static and it will hold the values at class loading itself. I am not able to pass file names dynamically and it is still taking first file and generating single file and writing logs for remaining files in that file itself.</p>\n"},{"tags":["java","apache-poi"],"answers":[{"comments":[{"owner":{"account_id":28967622,"reputation":5,"user_id":22188644,"display_name":"Code Trickle"},"score":0,"creation_date":1689311616,"post_id":76679002,"comment_id":135198225,"body_markdown":"Thanks a lot for your detailed response again axel","body":"Thanks a lot for your detailed response again axel"}],"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689310703,"creation_date":1689248566,"answer_id":76679002,"question_id":76667849,"body_markdown":"The `H` in all the Apache POI implementations of the binary Microsoft Office file systems (`HSSF`, `HSLF`, `HWPF`, ...) means horrible. And the `H`orrible `W`ord `P`rocessing `F`ormat is definiitely the most horrible of all the horrible formats.\r\n\r\nTherefore the `HWPF` is in scratchpad state from begin on and has never left that state. \r\n\r\nBut the `WordExtractor` extracts hyperlinks out of `HWPFDocument`, at least if texts are linked and for the main body. Of course there is not much accessibility to those links while extracting.\r\n\r\nThe `WordToTextConverter` provides more access when one overrides it&#39;s `protected void processHyperlink` method.\r\n\r\nExample for both:\r\n\r\n    import java.io.FileInputStream;\r\n    \r\n    import org.apache.poi.hwpf.HWPFDocument;\r\n    import org.apache.poi.hwpf.HWPFDocumentCore;\r\n    import org.apache.poi.hwpf.usermodel.Range;\r\n    import org.apache.poi.hwpf.extractor.WordExtractor;\r\n    import org.apache.poi.hwpf.converter.WordToTextConverter;\r\n    import org.apache.poi.hwpf.converter.TextDocumentFacade;\r\n    \r\n    public class ReadWordHWPFWordExtractor {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      HWPFDocument document = new HWPFDocument(new FileInputStream(&quot;./WordDocument.doc&quot;));\r\n      String content;\r\n      \r\n      WordExtractor wordExtractor = new WordExtractor(document);\r\n      content = wordExtractor.getText();\r\n      System.out.println(content);\r\n      \r\n      TextDocumentFacade textDocumentFacade = new TextDocumentFacade(org.apache.poi.util.XMLHelper.newDocumentBuilder().newDocument());  \r\n      WordToTextConverter wordToTextConverter = new WordToTextConverter(textDocumentFacade) {\r\n       @Override\r\n       protected void processHyperlink(HWPFDocumentCore wordDocument, org.w3c.dom.Element currentBlock, Range textRange, int currentTableLevel, java.lang.String hyperlink) {\r\n    \t// here you have access to hyperlink fields\r\n    \t//System.out.println(textRange.getClass().getName()); //org.apache.poi.hwpf.usermodel.FieldImpl \r\n    \t//System.out.println(textRange.text() + &quot; -&gt; &quot; + hyperlink);\r\n    \tprocessCharacters( wordDocument, currentTableLevel, textRange, currentBlock );\r\n    \tcurrentBlock.appendChild(textDocumentFacade.createText(&quot;( -&gt; &quot; + hyperlink + &quot;)&quot;));\r\n       }\r\n      };\r\n      \r\n      wordToTextConverter.processDocument(document);\r\n      content = wordToTextConverter.getText();\r\n      System.out.println(content);\r\n      \r\n     }\r\n    }\r\n\r\nInternally the hyperlinks are fields in the text body. `HWPFDocument` provides a method to get all such fields. Fields of type `FIELD_HYPERLINK` = 88, are hyperlinks. Such fileds consists of two subranges. The first subrange contains the link and the second subrange contains the linked text.\r\n\r\nSo, if the need is simply to get all links, one could get all fields and then filter out the fields of type `FIELD_HYPERLINK`.\r\n\r\nUnfortunately the methods `Field.firstSubrange` and `Field.secondSubrange` seems to work only properly for the main range. When used for header range, footnote range or other ranges, it gets the correct range start and end in parent range but gets the wrong text, which seems to be from overall range instead of given parent range.\r\n\r\nFollowing code shows gettimg the fields and provides methods to correct get the first subrange and second subrange.\r\n\r\n    import java.io.FileInputStream;\r\n    \r\n    import org.apache.poi.hwpf.*;\r\n    import org.apache.poi.hwpf.model.*;\r\n    import org.apache.poi.hwpf.usermodel.*;\r\n    \r\n    public class ReadWordHWPFDocumentFields {\r\n    \t\r\n     private static final int FIELD_PAGE_REFERENCE = 37;\r\n     private static final int FIELD_EMBEDDED_OBJECT = 58;\r\n     private static final int FIELD_DROP_DOWN = 83;\r\n     private static final int FIELD_HYPERLINK = 88;\t\r\n    \t\r\n     static Range firstSubrange(Field field, Range parent, HWPFDocument document){\r\n      if ( field.hasSeparator() ) {\r\n       if ( field.getMarkStartOffset() + 1 == field.getMarkSeparatorOffset() ) return null;\r\n       return new Range( parent.getStartOffset() + field.getMarkStartOffset() + 1, parent.getStartOffset() + field.getMarkSeparatorOffset(), document ) {\r\n               @Override\r\n               public String toString() {\r\n                return &quot;FieldSubrange1 (&quot; + super.toString() + &quot;)&quot;;\r\n               }\r\n              };\r\n      }\r\n      \r\n      if ( field.getMarkStartOffset() + 1 == field.getMarkEndOffset() ) return null;\r\n       \r\n      return new Range( parent.getStartOffset() + field.getMarkStartOffset() + 1, parent.getStartOffset() + field.getMarkEndOffset(), document ) {\r\n              @Override\r\n              public String toString() {\r\n               return &quot;FieldSubrange1 (&quot; + super.toString() + &quot;)&quot;;\r\n              }\r\n             };\t \r\n     }\r\n     \r\n     static Range secondSubrange(Field field, Range parent, HWPFDocument document){\r\n      if ( !field.hasSeparator() || field.getMarkSeparatorOffset() + 1 == field.getMarkEndOffset() ) return null;\r\n    \r\n      return new Range( parent.getStartOffset()+field.getMarkSeparatorOffset() + 1, parent.getStartOffset()+field.getMarkEndOffset(), document ) {\r\n              @Override\r\n              public String toString() {\r\n               return &quot;FieldSubrange2 (&quot; + super.toString() + &quot;)&quot;;\r\n              }\r\n             };\r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      HWPFDocument document = new HWPFDocument(new FileInputStream(&quot;WordDocument.doc&quot;));\r\n    \r\n      Fields fields\t= document.getFields();\r\n      \r\n      Range range = document.getRange();\r\n      for (Field field : fields.getFields(FieldsDocumentPart.MAIN)) {\r\n       System.out.println(field);  \r\n       if (field.getType() == FIELD_HYPERLINK) {\r\n        // System.out.println(field.firstSubrange(range));  \r\n        // System.out.println(field.firstSubrange(range).text());  \r\n        // System.out.println(field.secondSubrange(range));  \r\n        // System.out.println(field.secondSubrange(range).text());\r\n    \t\r\n        String link = field.firstSubrange(range).text();  \r\n        String text = field.secondSubrange(range).text();  \r\n        System.out.println(text + &quot; -&gt; &quot; + link);  \r\n       }\r\n      }\r\n    \r\n      range = document.getHeaderStoryRange();\r\n      for (Field field : fields.getFields(FieldsDocumentPart.HEADER)) {\r\n       System.out.println(field);  \r\n       if (field.getType() == FIELD_HYPERLINK) {\r\n        // System.out.println(field.firstSubrange(range)); // correct range start and end in parent range\r\n        // System.out.println(field.firstSubrange(range).text()); // but wrong text, seems from overall range instead of given parent\r\n        // System.out.println(field.secondSubrange(range));  // correct range start and end in parent range\r\n        // System.out.println(field.secondSubrange(range).text()); // but wrong text, seems from overall range instead of given parent\r\n       \r\n        String link = firstSubrange(field, range, document).text();  \r\n        String text = secondSubrange(field, range, document).text();  \r\n        System.out.println(text + &quot; -&gt; &quot; + link);  \r\n       }\r\n      }\r\n      \r\n      range = document.getFootnoteRange();\r\n      for (Field field : fields.getFields(FieldsDocumentPart.FOOTNOTES)) {\r\n       System.out.println(field);  \r\n       if (field.getType() == FIELD_HYPERLINK) {   \r\n        String link = firstSubrange(field, range, document).text();  \r\n        String text = secondSubrange(field, range, document).text();  \r\n        System.out.println(text + &quot; -&gt; &quot; + link);  \r\n       }\r\n      }\r\n      \r\n      //range = document.getEndnoteRange();\r\n      //for (Field field : fields.getFields(FieldsDocumentPart.ENDNOTES)) {\r\n      //...\r\n    \t  \r\n      range = document.getCommentsRange();\r\n      for (Field field : fields.getFields(FieldsDocumentPart.ANNOTATIONS)) {\r\n       System.out.println(field);  \r\n       if (field.getType() == FIELD_HYPERLINK) {   \r\n        String link = firstSubrange(field, range, document).text();  \r\n        String text = secondSubrange(field, range, document).text();  \r\n        System.out.println(text + &quot; -&gt; &quot; + link);  \r\n       }\r\n      }\r\n    \t  \r\n      //range = document.getMainTextboxRange();\r\n      //for (Field field : fields.getFields(FieldsDocumentPart.TEXTBOX)) {\r\n      //...\r\n      \t  \r\n    \t  \r\n     }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to extract hyperlinks from HWPFDocument provided a 2003 format word doc","body":"<p>The <code>H</code> in all the Apache POI implementations of the binary Microsoft Office file systems (<code>HSSF</code>, <code>HSLF</code>, <code>HWPF</code>, ...) means horrible. And the <code>H</code>orrible <code>W</code>ord <code>P</code>rocessing <code>F</code>ormat is definiitely the most horrible of all the horrible formats.</p>\n<p>Therefore the <code>HWPF</code> is in scratchpad state from begin on and has never left that state.</p>\n<p>But the <code>WordExtractor</code> extracts hyperlinks out of <code>HWPFDocument</code>, at least if texts are linked and for the main body. Of course there is not much accessibility to those links while extracting.</p>\n<p>The <code>WordToTextConverter</code> provides more access when one overrides it's <code>protected void processHyperlink</code> method.</p>\n<p>Example for both:</p>\n<pre><code>import java.io.FileInputStream;\n\nimport org.apache.poi.hwpf.HWPFDocument;\nimport org.apache.poi.hwpf.HWPFDocumentCore;\nimport org.apache.poi.hwpf.usermodel.Range;\nimport org.apache.poi.hwpf.extractor.WordExtractor;\nimport org.apache.poi.hwpf.converter.WordToTextConverter;\nimport org.apache.poi.hwpf.converter.TextDocumentFacade;\n\npublic class ReadWordHWPFWordExtractor {\n\n public static void main(String[] args) throws Exception {\n\n  HWPFDocument document = new HWPFDocument(new FileInputStream(&quot;./WordDocument.doc&quot;));\n  String content;\n  \n  WordExtractor wordExtractor = new WordExtractor(document);\n  content = wordExtractor.getText();\n  System.out.println(content);\n  \n  TextDocumentFacade textDocumentFacade = new TextDocumentFacade(org.apache.poi.util.XMLHelper.newDocumentBuilder().newDocument());  \n  WordToTextConverter wordToTextConverter = new WordToTextConverter(textDocumentFacade) {\n   @Override\n   protected void processHyperlink(HWPFDocumentCore wordDocument, org.w3c.dom.Element currentBlock, Range textRange, int currentTableLevel, java.lang.String hyperlink) {\n    // here you have access to hyperlink fields\n    //System.out.println(textRange.getClass().getName()); //org.apache.poi.hwpf.usermodel.FieldImpl \n    //System.out.println(textRange.text() + &quot; -&gt; &quot; + hyperlink);\n    processCharacters( wordDocument, currentTableLevel, textRange, currentBlock );\n    currentBlock.appendChild(textDocumentFacade.createText(&quot;( -&gt; &quot; + hyperlink + &quot;)&quot;));\n   }\n  };\n  \n  wordToTextConverter.processDocument(document);\n  content = wordToTextConverter.getText();\n  System.out.println(content);\n  \n }\n}\n</code></pre>\n<p>Internally the hyperlinks are fields in the text body. <code>HWPFDocument</code> provides a method to get all such fields. Fields of type <code>FIELD_HYPERLINK</code> = 88, are hyperlinks. Such fileds consists of two subranges. The first subrange contains the link and the second subrange contains the linked text.</p>\n<p>So, if the need is simply to get all links, one could get all fields and then filter out the fields of type <code>FIELD_HYPERLINK</code>.</p>\n<p>Unfortunately the methods <code>Field.firstSubrange</code> and <code>Field.secondSubrange</code> seems to work only properly for the main range. When used for header range, footnote range or other ranges, it gets the correct range start and end in parent range but gets the wrong text, which seems to be from overall range instead of given parent range.</p>\n<p>Following code shows gettimg the fields and provides methods to correct get the first subrange and second subrange.</p>\n<pre><code>import java.io.FileInputStream;\n\nimport org.apache.poi.hwpf.*;\nimport org.apache.poi.hwpf.model.*;\nimport org.apache.poi.hwpf.usermodel.*;\n\npublic class ReadWordHWPFDocumentFields {\n    \n private static final int FIELD_PAGE_REFERENCE = 37;\n private static final int FIELD_EMBEDDED_OBJECT = 58;\n private static final int FIELD_DROP_DOWN = 83;\n private static final int FIELD_HYPERLINK = 88; \n    \n static Range firstSubrange(Field field, Range parent, HWPFDocument document){\n  if ( field.hasSeparator() ) {\n   if ( field.getMarkStartOffset() + 1 == field.getMarkSeparatorOffset() ) return null;\n   return new Range( parent.getStartOffset() + field.getMarkStartOffset() + 1, parent.getStartOffset() + field.getMarkSeparatorOffset(), document ) {\n           @Override\n           public String toString() {\n            return &quot;FieldSubrange1 (&quot; + super.toString() + &quot;)&quot;;\n           }\n          };\n  }\n  \n  if ( field.getMarkStartOffset() + 1 == field.getMarkEndOffset() ) return null;\n   \n  return new Range( parent.getStartOffset() + field.getMarkStartOffset() + 1, parent.getStartOffset() + field.getMarkEndOffset(), document ) {\n          @Override\n          public String toString() {\n           return &quot;FieldSubrange1 (&quot; + super.toString() + &quot;)&quot;;\n          }\n         };  \n }\n \n static Range secondSubrange(Field field, Range parent, HWPFDocument document){\n  if ( !field.hasSeparator() || field.getMarkSeparatorOffset() + 1 == field.getMarkEndOffset() ) return null;\n\n  return new Range( parent.getStartOffset()+field.getMarkSeparatorOffset() + 1, parent.getStartOffset()+field.getMarkEndOffset(), document ) {\n          @Override\n          public String toString() {\n           return &quot;FieldSubrange2 (&quot; + super.toString() + &quot;)&quot;;\n          }\n         };\n }\n\n public static void main(String[] args) throws Exception {\n\n  HWPFDocument document = new HWPFDocument(new FileInputStream(&quot;WordDocument.doc&quot;));\n\n  Fields fields = document.getFields();\n  \n  Range range = document.getRange();\n  for (Field field : fields.getFields(FieldsDocumentPart.MAIN)) {\n   System.out.println(field);  \n   if (field.getType() == FIELD_HYPERLINK) {\n    // System.out.println(field.firstSubrange(range));  \n    // System.out.println(field.firstSubrange(range).text());  \n    // System.out.println(field.secondSubrange(range));  \n    // System.out.println(field.secondSubrange(range).text());\n    \n    String link = field.firstSubrange(range).text();  \n    String text = field.secondSubrange(range).text();  \n    System.out.println(text + &quot; -&gt; &quot; + link);  \n   }\n  }\n\n  range = document.getHeaderStoryRange();\n  for (Field field : fields.getFields(FieldsDocumentPart.HEADER)) {\n   System.out.println(field);  \n   if (field.getType() == FIELD_HYPERLINK) {\n    // System.out.println(field.firstSubrange(range)); // correct range start and end in parent range\n    // System.out.println(field.firstSubrange(range).text()); // but wrong text, seems from overall range instead of given parent\n    // System.out.println(field.secondSubrange(range));  // correct range start and end in parent range\n    // System.out.println(field.secondSubrange(range).text()); // but wrong text, seems from overall range instead of given parent\n   \n    String link = firstSubrange(field, range, document).text();  \n    String text = secondSubrange(field, range, document).text();  \n    System.out.println(text + &quot; -&gt; &quot; + link);  \n   }\n  }\n  \n  range = document.getFootnoteRange();\n  for (Field field : fields.getFields(FieldsDocumentPart.FOOTNOTES)) {\n   System.out.println(field);  \n   if (field.getType() == FIELD_HYPERLINK) {   \n    String link = firstSubrange(field, range, document).text();  \n    String text = secondSubrange(field, range, document).text();  \n    System.out.println(text + &quot; -&gt; &quot; + link);  \n   }\n  }\n  \n  //range = document.getEndnoteRange();\n  //for (Field field : fields.getFields(FieldsDocumentPart.ENDNOTES)) {\n  //...\n      \n  range = document.getCommentsRange();\n  for (Field field : fields.getFields(FieldsDocumentPart.ANNOTATIONS)) {\n   System.out.println(field);  \n   if (field.getType() == FIELD_HYPERLINK) {   \n    String link = firstSubrange(field, range, document).text();  \n    String text = secondSubrange(field, range, document).text();  \n    System.out.println(text + &quot; -&gt; &quot; + link);  \n   }\n  }\n      \n  //range = document.getMainTextboxRange();\n  //for (Field field : fields.getFields(FieldsDocumentPart.TEXTBOX)) {\n  //...\n      \n      \n }\n}\n</code></pre>\n"}],"owner":{"account_id":28967622,"reputation":5,"user_id":22188644,"display_name":"Code Trickle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1689310703,"creation_date":1689144930,"question_id":76667849,"body_markdown":"I am trying to extract hyperlinks from HWPFDocument but not able to find any clear API to do so. In XWPFDocument the API are clear like xwPFDocument.getHyperlinks() but in HWPFDocument i couldn&#39;t find any such API. PFB the code below of what i am trying to do\r\n```\r\nWordExtractor wordExtractor = null;\r\n          \r\nif(inFilePath == null || inFilePath.equals(&quot;&quot;)) {\r\n\tthrow new Exception(&quot;Invalid file path&quot;);\r\n}\r\nHWPFDocument document = null;\r\nInputStream is;\r\nFile file = new File(inFilePath);\r\nis = new FileInputStream(file);\r\n\r\ndocument = new HWPFDocument(is);\r\n\r\nwordExtractor = new WordExtractor(document);`\r\n```\r\nI need to extract hyperlinks from the document object. Please help me out in this regard.\r\n\r\nI tried to check if there are any direct APIs to extract hyperlinks but i could not find one in HWPFDocument object","title":"How to extract hyperlinks from HWPFDocument provided a 2003 format word doc","body":"<p>I am trying to extract hyperlinks from HWPFDocument but not able to find any clear API to do so. In XWPFDocument the API are clear like xwPFDocument.getHyperlinks() but in HWPFDocument i couldn't find any such API. PFB the code below of what i am trying to do</p>\n<pre><code>WordExtractor wordExtractor = null;\n          \nif(inFilePath == null || inFilePath.equals(&quot;&quot;)) {\n    throw new Exception(&quot;Invalid file path&quot;);\n}\nHWPFDocument document = null;\nInputStream is;\nFile file = new File(inFilePath);\nis = new FileInputStream(file);\n\ndocument = new HWPFDocument(is);\n\nwordExtractor = new WordExtractor(document);`\n</code></pre>\n<p>I need to extract hyperlinks from the document object. Please help me out in this regard.</p>\n<p>I tried to check if there are any direct APIs to extract hyperlinks but i could not find one in HWPFDocument object</p>\n"},{"tags":["java","spring","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":1629808,"reputation":391,"user_id":1504609,"accept_rate":89,"display_name":"AbNig"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689309622,"creation_date":1689309622,"answer_id":76684766,"question_id":76672159,"body_markdown":"the following solution works. My domain classes extend from a common BaseEntity. I wrote writers for the 3 entities i.e., Company, Department &amp; Employee\r\n\r\nI wrote a Delegate Writer as follows:\r\n\r\n    public class DelegateItemWriter implements ItemWriter&lt;List&lt;CCTBaseEntity&gt;&gt; {\r\n    \r\n    \tprivate final LinkedHashMap&lt;Class&lt;? extends BaseEntity&gt;, ItemWriter&lt;? extends BaseEntity&gt;&gt; itemWriterMap;\r\n    \r\n    \tpublic DelegateItemWriter(\r\n    \t\t\tLinkedHashMap&lt;Class&lt;? extends BaseEntity&gt;, ItemWriter&lt;? extends BaseEntity&gt;&gt; itemWriterMap) {\r\n    \t\tthis.itemWriterMap = itemWriterMap;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void write(Chunk&lt;? extends List&lt;BaseEntity&gt;&gt; chunk) throws Exception {\r\n    \t\tList&lt;BaseEntity&gt; listEntities = chunk.getItems().get(0);\r\n    \t\tfor (BaseEntity b : listEntities) {\r\n    \t\t\tthis.itemWriterMap.get(b.getClass()).write(new Chunk(Arrays.asList(b)));\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nBean definitions for itemWriterMap &amp; DelegateItemWriter:\r\n\r\n    @Bean\r\n    public LinkedHashMap&lt;Class&lt;? extends BaseEntity&gt;, ItemWriter&lt;? extends BaseEntity&gt;&gt; itemWriterMap(MongoTemplate mongoTemplate) {\r\n    \tLinkedHashMap&lt;Class&lt;? extends BaseEntity&gt;, ItemWriter&lt;? extends BaseEntity&gt;&gt; itemWriterMap = new LinkedHashMap&lt;&gt;();\r\n    \titemWriterMap.put(CompanyEntity.class, companyItemWriter(mongoTemplate));\r\n    \titemWriterMap.put(DepartmentEntity.class, deptEntityWriter(mongoTemplate));\r\n    \titemWriterMap.put(Employee.class, employeeItemWriter(mongoTemplate));\r\n    \treturn itemWriterMap;\r\n    }\r\n    \r\n    @Bean\r\n    public DelegateItemWriter delegateItemWriter(LinkedHashMap&lt;Class&lt;? extends BaseEntity&gt;, ItemWriter&lt;? extends BaseEntity&gt;&gt; itemWriterMap) {\r\n    \treturn new DelegateItemWriter(itemWriterMap);\r\n    }\r\n\r\nStep Definition:\r\n\t\r\n    @Bean\r\n    \tpublic Step step1(@Qualifier(value = &quot;dataSource&quot;) final DataSource dataSource,\r\n    \t\t\tfinal JobRepository jobRepository, \r\n    \t\t\tfinal PlatformTransactionManager transactionManager,\r\n    \t\t\tfinal DelegateItemWriter delegateItemWriter) {\r\n    \t\treturn new StepBuilder(&quot;step1&quot;, jobRepository).&lt;ClientProfile, List&lt;BaseEntity&gt;&gt;chunk(10, transactionManager)\r\n    \t\t\t\t.reader(reader(dataSource)).processor(profileProcessor()).writer(delegateItemWriter)\r\n    \t\t\t\t.build();\r\n    \t}","title":"Usage of ClassifierCompositeItemWriter in Spring Batch","body":"<p>the following solution works. My domain classes extend from a common BaseEntity. I wrote writers for the 3 entities i.e., Company, Department &amp; Employee</p>\n<p>I wrote a Delegate Writer as follows:</p>\n<pre><code>public class DelegateItemWriter implements ItemWriter&lt;List&lt;CCTBaseEntity&gt;&gt; {\n\n    private final LinkedHashMap&lt;Class&lt;? extends BaseEntity&gt;, ItemWriter&lt;? extends BaseEntity&gt;&gt; itemWriterMap;\n\n    public DelegateItemWriter(\n            LinkedHashMap&lt;Class&lt;? extends BaseEntity&gt;, ItemWriter&lt;? extends BaseEntity&gt;&gt; itemWriterMap) {\n        this.itemWriterMap = itemWriterMap;\n    }\n\n    @Override\n    public void write(Chunk&lt;? extends List&lt;BaseEntity&gt;&gt; chunk) throws Exception {\n        List&lt;BaseEntity&gt; listEntities = chunk.getItems().get(0);\n        for (BaseEntity b : listEntities) {\n            this.itemWriterMap.get(b.getClass()).write(new Chunk(Arrays.asList(b)));\n        }\n    }\n}\n</code></pre>\n<p>Bean definitions for itemWriterMap &amp; DelegateItemWriter:</p>\n<pre><code>@Bean\npublic LinkedHashMap&lt;Class&lt;? extends BaseEntity&gt;, ItemWriter&lt;? extends BaseEntity&gt;&gt; itemWriterMap(MongoTemplate mongoTemplate) {\n    LinkedHashMap&lt;Class&lt;? extends BaseEntity&gt;, ItemWriter&lt;? extends BaseEntity&gt;&gt; itemWriterMap = new LinkedHashMap&lt;&gt;();\n    itemWriterMap.put(CompanyEntity.class, companyItemWriter(mongoTemplate));\n    itemWriterMap.put(DepartmentEntity.class, deptEntityWriter(mongoTemplate));\n    itemWriterMap.put(Employee.class, employeeItemWriter(mongoTemplate));\n    return itemWriterMap;\n}\n\n@Bean\npublic DelegateItemWriter delegateItemWriter(LinkedHashMap&lt;Class&lt;? extends BaseEntity&gt;, ItemWriter&lt;? extends BaseEntity&gt;&gt; itemWriterMap) {\n    return new DelegateItemWriter(itemWriterMap);\n}\n</code></pre>\n<p>Step Definition:</p>\n<pre><code>@Bean\n    public Step step1(@Qualifier(value = &quot;dataSource&quot;) final DataSource dataSource,\n            final JobRepository jobRepository, \n            final PlatformTransactionManager transactionManager,\n            final DelegateItemWriter delegateItemWriter) {\n        return new StepBuilder(&quot;step1&quot;, jobRepository).&lt;ClientProfile, List&lt;BaseEntity&gt;&gt;chunk(10, transactionManager)\n                .reader(reader(dataSource)).processor(profileProcessor()).writer(delegateItemWriter)\n                .build();\n    }\n</code></pre>\n"}],"owner":{"account_id":1629808,"reputation":391,"user_id":1504609,"accept_rate":89,"display_name":"AbNig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76684766,"answer_count":1,"score":1,"last_activity_date":1689309622,"creation_date":1689175262,"question_id":76672159,"body_markdown":"I have a legacy database which has data stored as JSON in clob columns. The JSON in clob needs to be normalized and put into respective tables to support a new solution. \r\n\r\nThe clob data will produce 1 Company record, multiple department records and each department will have any number of employees. All this data is to be persisted into 3 tables i.e. Company, Department &amp; Employee. I want to read the source data only once and perform the &quot;data split&quot; operation in one item-writer class using Spring Batch\r\n\r\nWhich item-writer will be more appropriate for this use case ClassifierCompositeItemWriter or CompositeItemWriter?\r\n\r\nThe processor seems to be simple:\r\n\r\n    public class ClientProfileEVProcessor implements ItemProcessor&lt;ClientProfile, ClientCompositeVO&gt; {\r\n    \r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \t@Override\r\n    \tpublic ClientCompositeVO process(ClientProfile item) throws Exception {\r\n    \t\tClientEntity client = populateClientProfile(item);\r\n    \t\tList&lt;DeptEntity&gt; deptEntities = populateDept(item);\r\n    \t\tList&lt;Employee&gt; evEntities = populateEmployee(item);\r\n    \t\treturn new ClientCompositeVO(client, deptEntities, evEntities);\r\n    \t}\r\n    }\r\n\r\n\r\nHere is my attempt of the Classifier. I am getting compilation error **clazz instanceof List**. How should I check if the **clazz instance of list.get(0).class** in the below code?\r\n\r\n        public class ClientClassifier&lt;T&gt; implements Classifier&lt;T, ItemWriter&lt;? super T&gt;&gt; {\r\n        \r\n    \tprivate final Map&lt;Class&lt;T&gt;, ItemWriter&lt;T&gt;&gt; itemWriterMap;\r\n    \t\r\n    \tpublic EVProfileClassifier(Map&lt;Class&lt;T&gt;, ItemWriter&lt;T&gt;&gt; itemWriterMap) {\r\n    \t\tsuper();\r\n    \t\tthis.itemWriterMap = itemWriterMap;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic ItemWriter&lt;? super T&gt; classify(T classifiable) {\r\n    \t\tClass&lt;?&gt; clazz = classifiable.getClass();\r\n    \t\tif (this.itemWriterMap.containsKey(clazz)) {\r\n    \t\t\treturn this.itemWriterMap.get(clazz);\r\n    \t\t} else if(clazz instanceof List) {\r\n    \t\t\tList&lt;?&gt; list = (List&lt;?&gt;) classifiable;\r\n    \t\t\treturn this.itemWriterMap.get(list.get(0).getClass());\r\n    \t\t} else {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;No writer found for domainn class: &quot; + clazz.getTypeName());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic Map&lt;Class&lt;T&gt;, ItemWriter&lt;T&gt;&gt; getItemWriterMap() {\r\n    \t\treturn itemWriterMap;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Any suggestions for a simpler solution approach are also welcome.**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NjpaS.png","title":"Usage of ClassifierCompositeItemWriter in Spring Batch","body":"<p>I have a legacy database which has data stored as JSON in clob columns. The JSON in clob needs to be normalized and put into respective tables to support a new solution.</p>\n<p>The clob data will produce 1 Company record, multiple department records and each department will have any number of employees. All this data is to be persisted into 3 tables i.e. Company, Department &amp; Employee. I want to read the source data only once and perform the &quot;data split&quot; operation in one item-writer class using Spring Batch</p>\n<p>Which item-writer will be more appropriate for this use case ClassifierCompositeItemWriter or CompositeItemWriter?</p>\n<p>The processor seems to be simple:</p>\n<pre><code>public class ClientProfileEVProcessor implements ItemProcessor&lt;ClientProfile, ClientCompositeVO&gt; {\n\n    /**\n     * \n     */\n    @Override\n    public ClientCompositeVO process(ClientProfile item) throws Exception {\n        ClientEntity client = populateClientProfile(item);\n        List&lt;DeptEntity&gt; deptEntities = populateDept(item);\n        List&lt;Employee&gt; evEntities = populateEmployee(item);\n        return new ClientCompositeVO(client, deptEntities, evEntities);\n    }\n}\n</code></pre>\n<p>Here is my attempt of the Classifier. I am getting compilation error <strong>clazz instanceof List</strong>. How should I check if the <strong>clazz instance of list.get(0).class</strong> in the below code?</p>\n<pre><code>    public class ClientClassifier&lt;T&gt; implements Classifier&lt;T, ItemWriter&lt;? super T&gt;&gt; {\n    \n    private final Map&lt;Class&lt;T&gt;, ItemWriter&lt;T&gt;&gt; itemWriterMap;\n    \n    public EVProfileClassifier(Map&lt;Class&lt;T&gt;, ItemWriter&lt;T&gt;&gt; itemWriterMap) {\n        super();\n        this.itemWriterMap = itemWriterMap;\n    }\n\n    @Override\n    public ItemWriter&lt;? super T&gt; classify(T classifiable) {\n        Class&lt;?&gt; clazz = classifiable.getClass();\n        if (this.itemWriterMap.containsKey(clazz)) {\n            return this.itemWriterMap.get(clazz);\n        } else if(clazz instanceof List) {\n            List&lt;?&gt; list = (List&lt;?&gt;) classifiable;\n            return this.itemWriterMap.get(list.get(0).getClass());\n        } else {\n            throw new IllegalArgumentException(&quot;No writer found for domainn class: &quot; + clazz.getTypeName());\n        }\n    }\n\n    public Map&lt;Class&lt;T&gt;, ItemWriter&lt;T&gt;&gt; getItemWriterMap() {\n        return itemWriterMap;\n    }\n    \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/NjpaS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NjpaS.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Any suggestions for a simpler solution approach are also welcome.</strong></p>\n"},{"tags":["java","priority-queue"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1689223883,"post_id":76675977,"comment_id":135183530,"body_markdown":"Your compare method seems dodgy.  Your fist comparison is for gpa, but you give no details about gpa.  Also what about when the objects are equal?","body":"Your compare method seems dodgy.  Your fist comparison is for gpa, but you give no details about gpa.  Also what about when the objects are equal?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1689226076,"post_id":76675977,"comment_id":135183793,"body_markdown":"not only the problem mentioned in previous comment, the `PriorityQueue` only *guarantees* that the head is in correct order, [javadoc](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/PriorityQueue.html): &quot;*The Iterator provided in method iterator() and the Spliterator provided in method spliterator() are not guaranteed to traverse the elements of the priority queue in any particular order.*&quot;","body":"not only the problem mentioned in previous comment, the <code>PriorityQueue</code> only <i>guarantees</i> that the head is in correct order, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\">javadoc</a>: &quot;<i>The Iterator provided in method iterator() and the Spliterator provided in method spliterator() are not guaranteed to traverse the elements of the priority queue in any particular order.</i>&quot;"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689226197,"post_id":76675977,"comment_id":135183814,"body_markdown":"As you haven&#39;t shown the GPA for the students it&#39;s impossible to say whether they are in the expected order or not.","body":"As you haven&#39;t shown the GPA for the students it&#39;s impossible to say whether they are in the expected order or not."},{"owner":{"account_id":29006961,"reputation":3,"user_id":22219253,"display_name":"Hung Nguyen"},"score":0,"creation_date":1689229113,"post_id":76675977,"comment_id":135184222,"body_markdown":"@tgdavies Thanks for all your comments, sorry about not providing the detail of gpa, it just an attribute of student which is double primitive type and no more complex","body":"@tgdavies Thanks for all your comments, sorry about not providing the detail of gpa, it just an attribute of student which is double primitive type and no more complex"},{"owner":{"account_id":29006961,"reputation":3,"user_id":22219253,"display_name":"Hung Nguyen"},"score":0,"creation_date":1689229213,"post_id":76675977,"comment_id":135184245,"body_markdown":"@user16320675 thanks for your information about the PriorityQueue, so what should I do when I want to guarantee of these another element in the Queue","body":"@user16320675 thanks for your information about the PriorityQueue, so what should I do when I want to guarantee of these another element in the Queue"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689229234,"post_id":76675977,"comment_id":135184249,"body_markdown":"But without knowing what GPA is associated with each of the students in your list, it&#39;s hard to say what order they should be in.","body":"But without knowing what GPA is associated with each of the students in your list, it&#39;s hard to say what order they should be in."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1689244618,"post_id":76675977,"comment_id":135187290,"body_markdown":"@HungNguyen I explained how to fix your code to allow it to pass in my answer below.","body":"@HungNguyen I explained how to fix your code to allow it to pass in my answer below."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689308695,"creation_date":1689226600,"answer_id":76676225,"question_id":76675977,"body_markdown":"Names should be sorted in ascending order, so you should return `-1` when `o1`&#39;s name comes before `o2` lexicographically.\r\n\r\n```java\r\nif (o1.getName().compareTo(o2.getName()) &lt; 0) {\r\n\treturn -1;\r\n} else if (o1.getName().compareTo(o2.getName()) &gt; 0) {\r\n\treturn 1;\r\n}\r\n```\r\n\r\nAlso, you should return `0` when the ids are equal.\r\n\r\nAnother major issue is that the `stream` method for `PriorityQueue` does not guarantee order. You could `poll` all of the elements and add to the `List` instead.\r\n\r\n```java\r\nwhile (!stringQueue.isEmpty())\r\n\tlist_student.add(stringQueue.poll());\r\n```\r\n\r\nNote that the `Comparator` can be written a lot more simply using the `Comparator.comparing` methods:\r\n\r\n```java\r\nQueue&lt;Student&gt; stringQueue = new PriorityQueue&lt;&gt;(capacity, \r\n\t\tComparator.comparingDouble(Student::getCGPA).reversed()\r\n            .thenComparing(Student::getName)\r\n\t\t\t.thenComparing(Student::getID));\r\n```","title":"Having Some problem when adding element to Priority Queue","body":"<p>Names should be sorted in ascending order, so you should return <code>-1</code> when <code>o1</code>'s name comes before <code>o2</code> lexicographically.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (o1.getName().compareTo(o2.getName()) &lt; 0) {\n    return -1;\n} else if (o1.getName().compareTo(o2.getName()) &gt; 0) {\n    return 1;\n}\n</code></pre>\n<p>Also, you should return <code>0</code> when the ids are equal.</p>\n<p>Another major issue is that the <code>stream</code> method for <code>PriorityQueue</code> does not guarantee order. You could <code>poll</code> all of the elements and add to the <code>List</code> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (!stringQueue.isEmpty())\n    list_student.add(stringQueue.poll());\n</code></pre>\n<p>Note that the <code>Comparator</code> can be written a lot more simply using the <code>Comparator.comparing</code> methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Queue&lt;Student&gt; stringQueue = new PriorityQueue&lt;&gt;(capacity, \n        Comparator.comparingDouble(Student::getCGPA).reversed()\n            .thenComparing(Student::getName)\n            .thenComparing(Student::getID));\n</code></pre>\n"}],"owner":{"account_id":29006961,"reputation":3,"user_id":22219253,"display_name":"Hung Nguyen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76676225,"answer_count":1,"score":0,"last_activity_date":1689308695,"creation_date":1689223132,"question_id":76675977,"body_markdown":"I am working with Priority Queue problem in this link\r\n[Hackkerank Problem](https://www.hackerrank.com/challenges/java-priority-queue/problem)\r\n\r\nMy Student class was created follow by OOP patterns which have constructor with 3 attributes **(id, Name, cgpa)** and some Getter method\r\n\r\nMy Priorities\r\n\r\n```\r\nclass Priorities{\r\n        private List&lt;Student&gt; list_student = new ArrayList&lt;&gt;();\r\n\r\n\tclass  CheckCondition implements Comparator&lt;Student&gt;{\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic int compare(Student o1, Student o2) {\r\n\t\t\tif(o1.getCGPA() &lt; o2.getCGPA()){\r\n\t\t\t\treturn 1;\r\n\t\t\t}else if(o1.getCGPA() &gt; o2.getCGPA()){\r\n\t\t\t\treturn -1;\r\n\t\t\t}else{\r\n\t\t\t\tif(o1.getName().compareTo(o2.getName()) &lt; 0) {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}else if(o1.getName().compareTo(o2.getName()) &gt; 0){\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}else {\r\n\t\t\t\t\tif(o1.getID() &lt; o2.getID()){\r\n\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tpublic List&lt;Student&gt; getStudents(List&lt;String&gt; events, int capacity){\r\n\t\tQueue&lt;Student&gt; stringQueue = new PriorityQueue&lt;&gt;(capacity, new CheckCondition());\r\n\t\tif(events.isEmpty()){\r\n\t\t\tSystem.out.println(&quot;EMPTY&quot;);\r\n\t\t}\r\n\t\tfor(String element: events){\r\n\t\t\tList&lt;String&gt; stringList = List.of(element.split(&quot; &quot;));\r\n\t\t\tif(stringList.get(0).equalsIgnoreCase(&quot;ENTER&quot;)){\r\n\t\t\t\tStudent new_student = new   Student(Integer.parseInt(stringList.get(3)), stringList.get(1), Double.parseDouble(stringList.get(2)));\r\n\t\t\t\tstringQueue.add(new_student);\r\n\t\t\t}if(stringList.get(0).equalsIgnoreCase(&quot;SERVED&quot;) ){\r\n\t\t\t\tstringQueue.poll();\r\n\t\t\t}\r\n\t\t}\r\n\t\tstringQueue.stream().forEach(element -&gt; list_student.add(element));\r\n\r\n\t\treturn list_student;\r\n\r\n\t}\r\n}\r\n```\r\n\r\nMy Main\r\n\r\n```\r\n\r\npublic class Main {\r\npublic static void main(String[] args) {\r\n         Scanner sc = new Scanner(System.in);\r\n         List&lt;String&gt; events = new ArrayList&lt;&gt;();\r\n         Integer capacity = sc.nextInt();\r\n         sc.nextLine();\r\n\r\n        for (int i = 0; i &lt; capacity; i++) {\r\n            events.add(sc.nextLine());\r\n        }\r\n    \r\n        Priorities priorities = new Priorities();\r\n        List&lt;Student&gt; students = priorities.getStudents(events, capacity);\r\n    \r\n        for(Student element: students){\r\n            System.out.println(element.getName());\r\n        }\r\n    \r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nSo When I try with the test case in Hackerrank, My result instead of as expect, I change slightly in the end of the Queue\r\n\r\nExpect result:\r\n\r\n```\r\n\r\nDan\r\nAshley\r\n**Shafaet\r\nMaria**\r\n```\r\n\r\nActual result:\r\n\r\n```\r\n\r\nDan\r\nAshley\r\n**Maria\r\nShafaet**\r\n```\r\n\r\nCan anyone help me to figure out why I can have this result as I try many times but it showed an abnormal case when program add the &quot;Anik&quot; student in the Queue which also change to position or 2 student &quot;Shafaet&quot; and &quot;Maria&quot;.\r\n\r\nThank everyone so much","title":"Having Some problem when adding element to Priority Queue","body":"<p>I am working with Priority Queue problem in this link\n<a href=\"https://www.hackerrank.com/challenges/java-priority-queue/problem\" rel=\"nofollow noreferrer\">Hackkerank Problem</a></p>\n<p>My Student class was created follow by OOP patterns which have constructor with 3 attributes <strong>(id, Name, cgpa)</strong> and some Getter method</p>\n<p>My Priorities</p>\n<pre><code>class Priorities{\n        private List&lt;Student&gt; list_student = new ArrayList&lt;&gt;();\n\n    class  CheckCondition implements Comparator&lt;Student&gt;{\n\n\n        @Override\n        public int compare(Student o1, Student o2) {\n            if(o1.getCGPA() &lt; o2.getCGPA()){\n                return 1;\n            }else if(o1.getCGPA() &gt; o2.getCGPA()){\n                return -1;\n            }else{\n                if(o1.getName().compareTo(o2.getName()) &lt; 0) {\n                    return 1;\n                }else if(o1.getName().compareTo(o2.getName()) &gt; 0){\n                    return -1;\n                }else {\n                    if(o1.getID() &lt; o2.getID()){\n                        return -1;\n                    }else {\n                        return 1;\n                    }\n                }\n            }\n\n        }\n    }\n\n\n    public List&lt;Student&gt; getStudents(List&lt;String&gt; events, int capacity){\n        Queue&lt;Student&gt; stringQueue = new PriorityQueue&lt;&gt;(capacity, new CheckCondition());\n        if(events.isEmpty()){\n            System.out.println(&quot;EMPTY&quot;);\n        }\n        for(String element: events){\n            List&lt;String&gt; stringList = List.of(element.split(&quot; &quot;));\n            if(stringList.get(0).equalsIgnoreCase(&quot;ENTER&quot;)){\n                Student new_student = new   Student(Integer.parseInt(stringList.get(3)), stringList.get(1), Double.parseDouble(stringList.get(2)));\n                stringQueue.add(new_student);\n            }if(stringList.get(0).equalsIgnoreCase(&quot;SERVED&quot;) ){\n                stringQueue.poll();\n            }\n        }\n        stringQueue.stream().forEach(element -&gt; list_student.add(element));\n\n        return list_student;\n\n    }\n}\n</code></pre>\n<p>My Main</p>\n<pre><code>\npublic class Main {\npublic static void main(String[] args) {\n         Scanner sc = new Scanner(System.in);\n         List&lt;String&gt; events = new ArrayList&lt;&gt;();\n         Integer capacity = sc.nextInt();\n         sc.nextLine();\n\n        for (int i = 0; i &lt; capacity; i++) {\n            events.add(sc.nextLine());\n        }\n    \n        Priorities priorities = new Priorities();\n        List&lt;Student&gt; students = priorities.getStudents(events, capacity);\n    \n        for(Student element: students){\n            System.out.println(element.getName());\n        }\n    \n    }\n\n}\n</code></pre>\n<p>So When I try with the test case in Hackerrank, My result instead of as expect, I change slightly in the end of the Queue</p>\n<p>Expect result:</p>\n<pre><code>\nDan\nAshley\n**Shafaet\nMaria**\n</code></pre>\n<p>Actual result:</p>\n<pre><code>\nDan\nAshley\n**Maria\nShafaet**\n</code></pre>\n<p>Can anyone help me to figure out why I can have this result as I try many times but it showed an abnormal case when program add the &quot;Anik&quot; student in the Queue which also change to position or 2 student &quot;Shafaet&quot; and &quot;Maria&quot;.</p>\n<p>Thank everyone so much</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689310423,"post_id":76684629,"comment_id":135198111,"body_markdown":"Then it&#39;s either do not put super. on the method call in the sub class or write the required method in the sub class. Or one of your written methods should not have @Override on it (because there is not such a method in the super class).  Which method?","body":"Then it&#39;s either do not put super. on the method call in the sub class or write the required method in the sub class. Or one of your written methods should not have @Override on it (because there is not such a method in the super class).  Which method?"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1689313065,"post_id":76684629,"comment_id":135198376,"body_markdown":"Post the complete error message. There is no information about the method in the error you posted.","body":"Post the complete error message. There is no information about the method in the error you posted."},{"owner":{"account_id":5135500,"reputation":3590,"user_id":4114390,"accept_rate":50,"display_name":"Chandra Shekhar"},"score":0,"creation_date":1689315988,"post_id":76684629,"comment_id":135198775,"body_markdown":"onCreateOptionsMenu return `true` because you have a options menu to inflate","body":"onCreateOptionsMenu return <code>true</code> because you have a options menu to inflate"}],"owner":{"account_id":24410151,"reputation":11,"user_id":18337718,"display_name":"MoltaExlips"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689308653,"creation_date":1689307071,"question_id":76684629,"body_markdown":"I am new to Java and creating Android apps. When working on a to-do list app using this [tutorial](https://www.sitepoint.com/starting-android-development-creating-todo-app/) I ran into the error\r\n&gt;Method does not override method from its superclass\r\n\r\nAny fixes?\r\n```java\r\npackage com.moltaexlips.todolist;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.main_menu, Menu);\r\n        return super.onCreateOptionsMenu(Menu);\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.action_add_task:\r\n                Log.d(TAG, &quot;Add a new task&quot;);\r\n                return true;\r\n            default:\r\n                return super.onOptionsItemSelected(item);\r\n        }\r\n    }\r\n```\r\nWell I have tried looking at the tutorial exactly and it seems I&#39;m following everything although I could be wrong.","title":"Method does not override method from its superclass Android Error when coding todo list app","body":"<p>I am new to Java and creating Android apps. When working on a to-do list app using this <a href=\"https://www.sitepoint.com/starting-android-development-creating-todo-app/\" rel=\"nofollow noreferrer\">tutorial</a> I ran into the error</p>\n<blockquote>\n<p>Method does not override method from its superclass</p>\n</blockquote>\n<p>Any fixes?</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.moltaexlips.todolist;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.main_menu, Menu);\n        return super.onCreateOptionsMenu(Menu);\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        switch (item.getItemId()) {\n            case R.id.action_add_task:\n                Log.d(TAG, &quot;Add a new task&quot;);\n                return true;\n            default:\n                return super.onOptionsItemSelected(item);\n        }\n    }\n</code></pre>\n<p>Well I have tried looking at the tutorial exactly and it seems I'm following everything although I could be wrong.</p>\n"},{"tags":["java","visual-studio-code","vscode-snippets"],"answers":[{"tags":[],"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689308004,"creation_date":1689147799,"answer_id":76668212,"question_id":76668211,"body_markdown":"This is a VS Code regression with choice snippets. There&#39;s an issue ticket tracking it here: [Are choice snippets dangerous now? Breaking extensions completions #187642](https://github.com/microsoft/vscode/issues/187642). There was a regression from commit [`3e232a8`](https://github.com/microsoft/vscode/commit/3e232a82df4313fb8ca898471416763288c6827d). The issue is [reportedly fixed in version 1.80.1](https://github.com/microsoft/vscode/issues/187642#issuecomment-1633749331), which has been released. If it&#39;s not available to you yet for some reason, use VS Code Insiders.\r\n\r\nThe Java extension issue is tracked here: https://github.com/redhat-developer/vscode-java/issues/3194. Notably, if you look in [the release notes for the Red Hat Java Language Support extension, the 1.20.0 section](https://github.com/redhat-developer/vscode-java/blob/master/CHANGELOG.md#1200-june-29th-2023) says:\r\n\r\n&gt; - enhancement - Use choice syntax as placeholder for constructor/method/field snippets. See [#3018](https://github.com/redhat-developer/vscode-java/pull/3018), [#3140](https://github.com/redhat-developer/vscode-java/pull/3140).","title":"Why aren&#39;t choice snippets working properly in new files in VS Code 1.80.0?","body":"<p>This is a VS Code regression with choice snippets. There's an issue ticket tracking it here: <a href=\"https://github.com/microsoft/vscode/issues/187642\" rel=\"nofollow noreferrer\">Are choice snippets dangerous now? Breaking extensions completions #187642</a>. There was a regression from commit <a href=\"https://github.com/microsoft/vscode/commit/3e232a82df4313fb8ca898471416763288c6827d\" rel=\"nofollow noreferrer\"><code>3e232a8</code></a>. The issue is <a href=\"https://github.com/microsoft/vscode/issues/187642#issuecomment-1633749331\" rel=\"nofollow noreferrer\">reportedly fixed in version 1.80.1</a>, which has been released. If it's not available to you yet for some reason, use VS Code Insiders.</p>\n<p>The Java extension issue is tracked here: <a href=\"https://github.com/redhat-developer/vscode-java/issues/3194\" rel=\"nofollow noreferrer\">https://github.com/redhat-developer/vscode-java/issues/3194</a>. Notably, if you look in <a href=\"https://github.com/redhat-developer/vscode-java/blob/master/CHANGELOG.md#1200-june-29th-2023\" rel=\"nofollow noreferrer\">the release notes for the Red Hat Java Language Support extension, the 1.20.0 section</a> says:</p>\n<blockquote>\n<ul>\n<li>enhancement - Use choice syntax as placeholder for constructor/method/field snippets. See <a href=\"https://github.com/redhat-developer/vscode-java/pull/3018\" rel=\"nofollow noreferrer\">#3018</a>, <a href=\"https://github.com/redhat-developer/vscode-java/pull/3140\" rel=\"nofollow noreferrer\">#3140</a>.</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76668212,"answer_count":1,"score":3,"last_activity_date":1689308022,"creation_date":1689147799,"question_id":76668211,"body_markdown":"For example, [choice-type snippet suggestions](https://code.visualstudio.com/docs/editor/userdefinedsnippets#_choice) are not showing up as I expect in [version 1.20.0](https://github.com/redhat-developer/vscode-java/releases/tag/v1.20.0) of the [`redhat.java`](https://marketplace.visualstudio.com/items?itemName=redhat.java) extension for VS Code. That includes snippet suggestions and other code suggestions. I observe this every time I create a new file.\r\n\r\nIn the Java Output log, I see messages like this:\r\n\r\n```none\r\n!ENTRY org.eclipse.jdt.ls.core 4 0 2023-07-11 19:09:12.705\r\n!MESSAGE Error occured while building workspace. Details: \r\n message: Syntax error, insert &quot;;&quot; to complete BlockStatements; code: 1610612976; resource: &lt;path&gt;.java; line: 6\r\n message: sout cannot be resolved; code: 570425394; resource: &lt;path&gt;.java; line: 6\r\n message: Syntax error, insert &quot;VariableDeclarators&quot; to complete LocalVariableDeclaration; code: 1610612976; resource: &lt;path&gt;.java; line: 6\r\n```\r\n\r\nWhy is this happening? How can the issue be resolved?","title":"Why aren&#39;t choice snippets working properly in new files in VS Code 1.80.0?","body":"<p>For example, <a href=\"https://code.visualstudio.com/docs/editor/userdefinedsnippets#_choice\" rel=\"nofollow noreferrer\">choice-type snippet suggestions</a> are not showing up as I expect in <a href=\"https://github.com/redhat-developer/vscode-java/releases/tag/v1.20.0\" rel=\"nofollow noreferrer\">version 1.20.0</a> of the <a href=\"https://marketplace.visualstudio.com/items?itemName=redhat.java\" rel=\"nofollow noreferrer\"><code>redhat.java</code></a> extension for VS Code. That includes snippet suggestions and other code suggestions. I observe this every time I create a new file.</p>\n<p>In the Java Output log, I see messages like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>!ENTRY org.eclipse.jdt.ls.core 4 0 2023-07-11 19:09:12.705\n!MESSAGE Error occured while building workspace. Details: \n message: Syntax error, insert &quot;;&quot; to complete BlockStatements; code: 1610612976; resource: &lt;path&gt;.java; line: 6\n message: sout cannot be resolved; code: 570425394; resource: &lt;path&gt;.java; line: 6\n message: Syntax error, insert &quot;VariableDeclarators&quot; to complete LocalVariableDeclaration; code: 1610612976; resource: &lt;path&gt;.java; line: 6\n</code></pre>\n<p>Why is this happening? How can the issue be resolved?</p>\n"},{"tags":["java","azure","spring-boot","download","timeout"],"answers":[{"comments":[{"owner":{"account_id":16116853,"reputation":55,"user_id":11633731,"display_name":"Saverio Mirko Viola"},"score":0,"creation_date":1687438305,"post_id":53366746,"comment_id":134938991,"body_markdown":"Hi, I have implemented your solution putting the logic in a method in the service layer, but it happens that the controller finishes its job before the lamba expression is executed. So I get a void file zip. How can I do in order to avoid this problem? Don&#39;t know if I was clear...","body":"Hi, I have implemented your solution putting the logic in a method in the service layer, but it happens that the controller finishes its job before the lamba expression is executed. So I get a void file zip. How can I do in order to avoid this problem? Don&#39;t know if I was clear..."}],"tags":[],"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1542668322,"creation_date":1542586070,"answer_id":53366746,"question_id":53318057,"body_markdown":"The answer is to not download the file to the server and then send it to the client but streaming it to the client directly here&#39;s the code\r\n\r\n    @RequestMapping(value = &quot;/download&quot;, method = RequestMethod.GET)\r\n    public StreamingResponseBody download(@PathVariable String path) throws IOException {\r\n\r\n        final InputStream fecFile = azureDataLakeStoreService.readFile(path);\r\n        return (os) -&gt; {\r\n            readAndWrite(fecFile, os);\r\n        };\r\n    }\r\n\r\n    private void readAndWrite(final InputStream is, OutputStream os)\r\n            throws IOException {\r\n        byte[] data = new byte[2048];\r\n        int read = 0;\r\n        while ((read = is.read(data)) &gt;= 0) {\r\n            os.write(data, 0, read);\r\n        }\r\n        os.flush();\r\n    }\r\n\r\nI also added this configuration to ApplicationInit:\r\n\r\n\t@Configuration\r\n\tpublic static class WebConfig extends WebMvcConfigurerAdapter {\r\n\r\n\t\t@Override\r\n\t\tpublic void configureAsyncSupport(AsyncSupportConfigurer configurer) {\r\n\t\t\tconfigurer.setDefaultTimeout(-1);\r\n\t\t\tconfigurer.setTaskExecutor(asyncTaskExecutor());\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic AsyncTaskExecutor asyncTaskExecutor() {\r\n\t\t\treturn new SimpleAsyncTaskExecutor(&quot;async&quot;);\r\n\t\t}\r\n\r\n\t}","title":"Spring boot: Download zipped large files while they are being processed on the server","body":"<p>The answer is to not download the file to the server and then send it to the client but streaming it to the client directly here's the code</p>\n\n<pre><code>@RequestMapping(value = \"/download\", method = RequestMethod.GET)\npublic StreamingResponseBody download(@PathVariable String path) throws IOException {\n\n    final InputStream fecFile = azureDataLakeStoreService.readFile(path);\n    return (os) -&gt; {\n        readAndWrite(fecFile, os);\n    };\n}\n\nprivate void readAndWrite(final InputStream is, OutputStream os)\n        throws IOException {\n    byte[] data = new byte[2048];\n    int read = 0;\n    while ((read = is.read(data)) &gt;= 0) {\n        os.write(data, 0, read);\n    }\n    os.flush();\n}\n</code></pre>\n\n<p>I also added this configuration to ApplicationInit:</p>\n\n<pre><code>@Configuration\npublic static class WebConfig extends WebMvcConfigurerAdapter {\n\n    @Override\n    public void configureAsyncSupport(AsyncSupportConfigurer configurer) {\n        configurer.setDefaultTimeout(-1);\n        configurer.setTaskExecutor(asyncTaskExecutor());\n    }\n\n    @Bean\n    public AsyncTaskExecutor asyncTaskExecutor() {\n        return new SimpleAsyncTaskExecutor(\"async\");\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3964,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53366746,"answer_count":1,"score":1,"last_activity_date":1689307932,"creation_date":1542279893,"question_id":53318057,"body_markdown":"In my app I&#39;m zipping and then downloading larges files, the files are located in azure, so I read the files from a stream and then zip them one after another, so I can dowload the zip file after all files has been zipped, here&#39;s my code:\r\n\r\n    @RequestMapping(value = &quot;{analyseId}/download&quot;, method = RequestMethod.GET, produces = &quot;application/zip&quot;)\r\n    public ResponseEntity&lt;Resource&gt; download(@PathVariable List&lt;String&gt; paths) throws IOException {\r\n\r\n        String zipFileName = &quot;zipFiles.zip&quot;;\r\n        File zipFile = new File(zipFileName);\r\n        FileOutputStream fos = new FileOutputStream(zipFile);\r\n        ZipOutputStream zos = new ZipOutputStream(fos);\r\n        for (String path : paths) {\r\n            InputStream fis = azureDataLakeStoreService.readFile(path);\r\n            addToZipFile(path , zos, fis);\r\n        }\r\n        zos.close();\r\n        fos.close();\r\n        BufferedInputStream zipFileInputStream = new BufferedInputStream(new FileInputStream(zipFile.getAbsolutePath()));\r\n        InputStreamResource resource = new InputStreamResource(zipFileInputStream);\r\n        zipFile.delete();\r\n\r\n        return ResponseEntity.ok()\r\n                .header(HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, HttpHeaders.CONTENT_DISPOSITION)\r\n                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment;filename=&quot; + zipFileName)\r\n                .contentType(MediaType.parseMediaType(&quot;application/octet-stream&quot;))\r\n                .body(resource);\r\n    }\r\n\r\n    private static void addToZipFile(String path, ZipOutputStream zos, InputStream fis) throws IOException {\r\n        ZipEntry zipEntry = new ZipEntry(FilenameUtils.getName(path));\r\n        zos.putNextEntry(zipEntry);\r\n        byte[] bytes = new byte[1024];\r\n        int length;\r\n        while ((length = fis.read(bytes)) &gt;= 0) {\r\n            zos.write(bytes, 0, length);\r\n        }\r\n        zos.closeEntry();\r\n        fis.close();\r\n    }\r\n\r\nHowever on azure the request time out is set to 230 sec, and [cannot be changed][1], however for big files it takes more than that to load and then zip the files on the server, so the connection with the client will be lost meanwhile.\r\n\r\nSo my question is since I&#39;m getting the data from a stream, can we do all these operations simultaneously, means getting the stream and download it as the same time and not waiting till getting the whole file, or if there any other idea can any body share it here please.\r\n\r\nThanks.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44820256/how-can-increase-azure-app-service-230-sec-request-time-out","title":"Spring boot: Download zipped large files while they are being processed on the server","body":"<p>In my app I'm zipping and then downloading larges files, the files are located in azure, so I read the files from a stream and then zip them one after another, so I can dowload the zip file after all files has been zipped, here's my code:</p>\n\n<pre><code>@RequestMapping(value = \"{analyseId}/download\", method = RequestMethod.GET, produces = \"application/zip\")\npublic ResponseEntity&lt;Resource&gt; download(@PathVariable List&lt;String&gt; paths) throws IOException {\n\n    String zipFileName = \"zipFiles.zip\";\n    File zipFile = new File(zipFileName);\n    FileOutputStream fos = new FileOutputStream(zipFile);\n    ZipOutputStream zos = new ZipOutputStream(fos);\n    for (String path : paths) {\n        InputStream fis = azureDataLakeStoreService.readFile(path);\n        addToZipFile(path , zos, fis);\n    }\n    zos.close();\n    fos.close();\n    BufferedInputStream zipFileInputStream = new BufferedInputStream(new FileInputStream(zipFile.getAbsolutePath()));\n    InputStreamResource resource = new InputStreamResource(zipFileInputStream);\n    zipFile.delete();\n\n    return ResponseEntity.ok()\n            .header(HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, HttpHeaders.CONTENT_DISPOSITION)\n            .header(HttpHeaders.CONTENT_DISPOSITION, \"attachment;filename=\" + zipFileName)\n            .contentType(MediaType.parseMediaType(\"application/octet-stream\"))\n            .body(resource);\n}\n\nprivate static void addToZipFile(String path, ZipOutputStream zos, InputStream fis) throws IOException {\n    ZipEntry zipEntry = new ZipEntry(FilenameUtils.getName(path));\n    zos.putNextEntry(zipEntry);\n    byte[] bytes = new byte[1024];\n    int length;\n    while ((length = fis.read(bytes)) &gt;= 0) {\n        zos.write(bytes, 0, length);\n    }\n    zos.closeEntry();\n    fis.close();\n}\n</code></pre>\n\n<p>However on azure the request time out is set to 230 sec, and <a href=\"https://stackoverflow.com/questions/44820256/how-can-increase-azure-app-service-230-sec-request-time-out\">cannot be changed</a>, however for big files it takes more than that to load and then zip the files on the server, so the connection with the client will be lost meanwhile.</p>\n\n<p>So my question is since I'm getting the data from a stream, can we do all these operations simultaneously, means getting the stream and download it as the same time and not waiting till getting the whole file, or if there any other idea can any body share it here please.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"owner":{"account_id":6381461,"reputation":3501,"user_id":6524600,"display_name":"Drex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689307825,"creation_date":1689111119,"question_id":76665890,"body_markdown":"So I have a class `JarComponent` in an external library that&#39;s configured to inject some of its child components by default\r\n```\r\n@Component\r\npublic class JarComponent {\r\n   @Autowired(required=false)\r\n   DependencyI dependencyI;\r\n   @Autowired(required=false)\r\n   DependencyII dependencyII;\r\n   @Autowired(required=false)\r\n   DependencyIII dependencyIII;\r\n   ... // a lot of other dependencies\r\n   @Autowired(required=false)\r\n   DependencyVIII dependencyVIII;\r\n}\r\n```\r\nAnd because this is from Jar I have no access to modify this class, when I registered the `JarComponent` in my application, \r\n```\r\n@Component\r\npublic class MyAppComponent {\r\n  @Autowired\r\n  JarComponent jarComponent;\r\n}\r\n\r\n// MyAppComponent &lt;- JarComponent &lt;- (dependencyI, dependencyII, dependencyIII, ..., dependencyVIII)\r\n```\r\nall associated dependencies will also be registered automatically. However, one of the dependencies - `dependencyII` might break my application so I&#39;d like to exclude it specifically, at the same time I can continue keeping other dependencies that are brought from `JarComponent `,  here is the expectation\r\n\r\n\r\nThe workaround for now is I have to explicitly not inject `JarComponent` but inject all its child components except `dependencyII`, \r\n```\r\n@Component\r\npublic class AppComponent {\r\n  // @Autowired\r\n  // JarComponent jarComponent;\r\n\r\n  @Autowired\r\n  DependencyI dependencyI;\r\n  @Autowired\r\n  DependencyIII dependencyIII;\r\n  ...,\r\n  @Autowired\r\n  DependencyVIII dependencyVIII;\r\n}\r\n```\r\nwhich is kinda ugly...is there any other elegant way to do that?\r\n\r\n","title":"How to exclude a specific dependency injected from external library","body":"<p>So I have a class <code>JarComponent</code> in an external library that's configured to inject some of its child components by default</p>\n<pre><code>@Component\npublic class JarComponent {\n   @Autowired(required=false)\n   DependencyI dependencyI;\n   @Autowired(required=false)\n   DependencyII dependencyII;\n   @Autowired(required=false)\n   DependencyIII dependencyIII;\n   ... // a lot of other dependencies\n   @Autowired(required=false)\n   DependencyVIII dependencyVIII;\n}\n</code></pre>\n<p>And because this is from Jar I have no access to modify this class, when I registered the <code>JarComponent</code> in my application,</p>\n<pre><code>@Component\npublic class MyAppComponent {\n  @Autowired\n  JarComponent jarComponent;\n}\n\n// MyAppComponent &lt;- JarComponent &lt;- (dependencyI, dependencyII, dependencyIII, ..., dependencyVIII)\n</code></pre>\n<p>all associated dependencies will also be registered automatically. However, one of the dependencies - <code>dependencyII</code> might break my application so I'd like to exclude it specifically, at the same time I can continue keeping other dependencies that are brought from <code>JarComponent </code>,  here is the expectation</p>\n<p>The workaround for now is I have to explicitly not inject <code>JarComponent</code> but inject all its child components except <code>dependencyII</code>,</p>\n<pre><code>@Component\npublic class AppComponent {\n  // @Autowired\n  // JarComponent jarComponent;\n\n  @Autowired\n  DependencyI dependencyI;\n  @Autowired\n  DependencyIII dependencyIII;\n  ...,\n  @Autowired\n  DependencyVIII dependencyVIII;\n}\n</code></pre>\n<p>which is kinda ugly...is there any other elegant way to do that?</p>\n"},{"tags":["java","android","class"],"comments":[{"owner":{"account_id":1866492,"reputation":833,"user_id":1689926,"display_name":"Godfather"},"score":0,"creation_date":1532030118,"post_id":51430722,"comment_id":89832511,"body_markdown":"Manuel parsing will be same as in Swift you are doing.[Check this link for easy and faster parsing](https://stackoverflow.com/a/50879670/1689926)","body":"Manuel parsing will be same as in Swift you are doing.<a href=\"https://stackoverflow.com/a/50879670/1689926\">Check this link for easy and faster parsing</a>"},{"owner":{"account_id":6193718,"reputation":759,"user_id":4825703,"display_name":"isamirkhaan1"},"score":0,"creation_date":1532030324,"post_id":51430722,"comment_id":89832593,"body_markdown":"Seem like you simply need a model class with id and title. and make sure that non of them return `null`, right?","body":"Seem like you simply need a model class with id and title. and make sure that non of them return <code>null</code>, right?"},{"owner":{"account_id":420616,"reputation":2214,"user_id":798406,"accept_rate":62,"display_name":"Denis Loh"},"score":0,"creation_date":1532030448,"post_id":51430722,"comment_id":89832638,"body_markdown":"Hi Abed, when you&#39;re new to Android, don&#39;t waste time learning Java, go with Kotlin. The syntax is nearly the same as with swift and is still compatible with Java.","body":"Hi Abed, when you&#39;re new to Android, don&#39;t waste time learning Java, go with Kotlin. The syntax is nearly the same as with swift and is still compatible with Java."},{"owner":{"account_id":8944678,"reputation":2098,"user_id":6672577,"display_name":"Shahzad Afridi"},"score":0,"creation_date":1532030529,"post_id":51430722,"comment_id":89832673,"body_markdown":"http://www.jsonschema2pojo.org/\n\n1: Paste your Json text.\n//look over right side and do following steps.\n2: Target Language: Java (choose your language)\n3: Source type: JSON Schema\n4: Annotation style: None\n5: Mark uncheck all checkboxes except Include getters and setters\n6: Click Preview\n\nYou can copy and paste moreover you can export as classes according to language.","body":"<a href=\"http://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">jsonschema2pojo.org</a>  1: Paste your Json text. //look over right side and do following steps. 2: Target Language: Java (choose your language) 3: Source type: JSON Schema 4: Annotation style: None 5: Mark uncheck all checkboxes except Include getters and setters 6: Click Preview  You can copy and paste moreover you can export as classes according to language."},{"owner":{"account_id":9946416,"reputation":512,"user_id":7652532,"accept_rate":77,"display_name":"Abed Naseri"},"score":0,"creation_date":1532072841,"post_id":51430722,"comment_id":89845020,"body_markdown":"@DenisLoh Thanks Denis, I just enrolled in a course for Kotlin.","body":"@DenisLoh Thanks Denis, I just enrolled in a course for Kotlin."}],"answers":[{"tags":[],"owner":{"account_id":7880454,"reputation":2730,"user_id":5954635,"display_name":"Man"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1532030335,"creation_date":1532030335,"answer_id":51430832,"question_id":51430722,"body_markdown":"Your java Task class would look like this:\r\n\r\n     public class Task {\r\n    \r\n            private String id;\r\n            private String title;\r\n    \r\n            public Task(String id, String title) {\r\n                this.id = id;\r\n                this.title = title;\r\n            }\r\n    \r\n            public String getId() {\r\n                if (id == null) {\r\n                    return &quot;&quot;;\r\n                }\r\n                return id;\r\n            }\r\n    \r\n            public void setId(String id) {\r\n                this.id = id;\r\n            }\r\n    \r\n            public String getTitle() {\r\n                if (title == null) {\r\n                    return &quot;&quot;;\r\n                }\r\n                return title;\r\n            }\r\n    \r\n            public void setTitle(String title) {\r\n                this.title = title;\r\n            }\r\n        }","title":"Create a Java Model class","body":"<p>Your java Task class would look like this:</p>\n\n<pre><code> public class Task {\n\n        private String id;\n        private String title;\n\n        public Task(String id, String title) {\n            this.id = id;\n            this.title = title;\n        }\n\n        public String getId() {\n            if (id == null) {\n                return \"\";\n            }\n            return id;\n        }\n\n        public void setId(String id) {\n            this.id = id;\n        }\n\n        public String getTitle() {\n            if (title == null) {\n                return \"\";\n            }\n            return title;\n        }\n\n        public void setTitle(String title) {\n            this.title = title;\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9946416,"reputation":512,"user_id":7652532,"accept_rate":77,"display_name":"Abed Naseri"},"score":0,"creation_date":1532072920,"post_id":51430889,"comment_id":89845063,"body_markdown":"Thank you, I think since I am a beginner it is better to switch to Kotlin as others suggest.","body":"Thank you, I think since I am a beginner it is better to switch to Kotlin as others suggest."}],"tags":[],"owner":{"account_id":7272272,"reputation":2619,"user_id":5544859,"accept_rate":68,"display_name":"Red M"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532030611,"creation_date":1532030611,"answer_id":51430889,"question_id":51430722,"body_markdown":"Here is how it could be done in Android Studio or I believe any other IDE: \r\n\r\n1.Create a new class: (Right Click package--&gt; New--&gt; Java Class  \r\n2.Name your class\r\nCreate your instances: \r\n\r\n    private class Task {\r\n    \r\n    //Instantiate your global variables\r\n    private String id;\r\n    private String title;\r\n    \r\n    }\r\n\r\n3.Right click in your class file--&gt; Generate--&gt; Getters &amp; Setters--&gt; Select the variables that you want getters and setters for, and that&#39;s it! \r\n\r\nYour class should look like this: \r\n\r\n    public class Task {\r\n        \r\n        //Instantiate your global variables\r\n        private String id;\r\n        private String title;\r\n    \r\n        public String getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    \r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Create a Java Model class","body":"<p>Here is how it could be done in Android Studio or I believe any other IDE: </p>\n\n<p>1.Create a new class: (Right Click package--> New--> Java Class<br>\n2.Name your class\nCreate your instances: </p>\n\n<pre><code>private class Task {\n\n//Instantiate your global variables\nprivate String id;\nprivate String title;\n\n}\n</code></pre>\n\n<p>3.Right click in your class file--> Generate--> Getters &amp; Setters--> Select the variables that you want getters and setters for, and that's it! </p>\n\n<p>Your class should look like this: </p>\n\n<pre><code>public class Task {\n\n    //Instantiate your global variables\n    private String id;\n    private String title;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13556047,"reputation":7480,"user_id":9779471,"display_name":"Quinn"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1532031114,"creation_date":1532031114,"answer_id":51431015,"question_id":51430722,"body_markdown":"If you&#39;re new to android and know swift you should give kotlin a try, as its quite similar.\r\n\r\nin Kotlin your code might look something like:\r\n\r\n    class Task (taskDict: HashMap&lt;String, Any&gt;) {\r\n    \r\n        var id: String = &quot;&quot;\r\n        var title: String = &quot;&quot;\r\n    \r\n        init {\r\n            // Task\r\n            val taskObject = taskDict[&quot;task&quot;] as HashMap&lt;String, Any&gt;?\r\n    \r\n            if (taskObject != null) {\r\n                val id = taskObject[&quot;_id&quot;] as String? ?: &quot;&quot;\r\n                val title = taskObject[&quot;_object&quot;] as String? ?: &quot;&quot;\r\n    \r\n                this.id = id\r\n                this.title = title\r\n            }\r\n    \r\n        }\r\n    }","title":"Create a Java Model class","body":"<p>If you're new to android and know swift you should give kotlin a try, as its quite similar.</p>\n\n<p>in Kotlin your code might look something like:</p>\n\n<pre><code>class Task (taskDict: HashMap&lt;String, Any&gt;) {\n\n    var id: String = \"\"\n    var title: String = \"\"\n\n    init {\n        // Task\n        val taskObject = taskDict[\"task\"] as HashMap&lt;String, Any&gt;?\n\n        if (taskObject != null) {\n            val id = taskObject[\"_id\"] as String? ?: \"\"\n            val title = taskObject[\"_object\"] as String? ?: \"\"\n\n            this.id = id\n            this.title = title\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29014464,"reputation":1,"user_id":22225196,"display_name":"DeepakTDK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689307621,"creation_date":1689307621,"answer_id":76684662,"question_id":51430722,"body_markdown":"ideally the class should be properly encapsulated by having private data members and public getters, setters.","title":"Create a Java Model class","body":"<p>ideally the class should be properly encapsulated by having private data members and public getters, setters.</p>\n"}],"owner":{"account_id":9946416,"reputation":512,"user_id":7652532,"accept_rate":77,"display_name":"Abed Naseri"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11777,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":51431015,"answer_count":4,"score":0,"last_activity_date":1689307621,"creation_date":1532029787,"question_id":51430722,"body_markdown":"Hi I am quite new to Android development, I want to make a `model` for my `object` Task that is going to be parsed from `JSON`, I have made the same thing in `Swift` but in `Java` I am so confused with all the getters, setters and so on.\r\n\r\nHere is a piece of my Swift code that I want to achieve in Java.\r\n\r\n&gt; Task.swift\r\n\r\n    class Task{\r\n    // from the Task\r\n    var _id: String!\r\n    var _title: String!\r\n\r\n    var id: String{\r\n        if _id == nil{\r\n            _id = &quot;&quot;\r\n        }\r\n        return _id\r\n    }\r\n    \r\n    var title: String{\r\n        if _title == nil{\r\n            _title = &quot;&quot;\r\n        }\r\n        return _title\r\n    }\r\n\r\n    init(taskDict: [String: AnyObject]){\r\n        // Task\r\n        if let taskObject = taskDict[&quot;task&quot;] as? [String: AnyObject]{\r\n            if let id = taskObject[&quot;_id&quot;] as? String{\r\n                self._id = id\r\n            }\r\n            if let title = taskObject[&quot;title&quot;] as? String{\r\n                self._title = title\r\n            }\r\n       }\r\n    }\r\n\r\nI would like to handle the output as above, that I check if it is `null` then return an empty `string` or 0 if `int`.\r\n\r\nAny help is appreciated.","title":"Create a Java Model class","body":"<p>Hi I am quite new to Android development, I want to make a <code>model</code> for my <code>object</code> Task that is going to be parsed from <code>JSON</code>, I have made the same thing in <code>Swift</code> but in <code>Java</code> I am so confused with all the getters, setters and so on.</p>\n\n<p>Here is a piece of my Swift code that I want to achieve in Java.</p>\n\n<blockquote>\n  <p>Task.swift</p>\n</blockquote>\n\n<pre><code>class Task{\n// from the Task\nvar _id: String!\nvar _title: String!\n\nvar id: String{\n    if _id == nil{\n        _id = \"\"\n    }\n    return _id\n}\n\nvar title: String{\n    if _title == nil{\n        _title = \"\"\n    }\n    return _title\n}\n\ninit(taskDict: [String: AnyObject]){\n    // Task\n    if let taskObject = taskDict[\"task\"] as? [String: AnyObject]{\n        if let id = taskObject[\"_id\"] as? String{\n            self._id = id\n        }\n        if let title = taskObject[\"title\"] as? String{\n            self._title = title\n        }\n   }\n}\n</code></pre>\n\n<p>I would like to handle the output as above, that I check if it is <code>null</code> then return an empty <code>string</code> or 0 if <code>int</code>.</p>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["java","list","data-structures","collections"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1689278665,"post_id":76682855,"comment_id":135195017,"body_markdown":"So `List&lt;List&lt;Integer&gt;&gt; matrix = new ArrayList&lt;&gt;()`?","body":"So <code>List&lt;List&lt;Integer&gt;&gt; matrix = new ArrayList&lt;&gt;()</code>?"},{"owner":{"account_id":3771148,"reputation":34933,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1689307511,"post_id":76682855,"comment_id":135197850,"body_markdown":"Do not tag `dsa`.  Please read what the tag stands for:  the `dsa` tag is for Digital Signature Algorithm.","body":"Do not tag <code>dsa</code>.  Please read what the tag stands for:  the <code>dsa</code> tag is for Digital Signature Algorithm."}],"answers":[{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1689286310,"post_id":76682904,"comment_id":135196059,"body_markdown":"I don&#39;t think the cast is necessary.","body":"I don&#39;t think the cast is necessary."}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689285120,"creation_date":1689278844,"answer_id":76682904,"question_id":76682855,"body_markdown":"You can use `Collections.nCopies` for a `List` of primitives filled with a certain value. To create the `List` of `List`s, you can use `Stream.generate` (to ensure that each row is a separate reference).\r\n\r\nFor example:\r\n\r\n```java\r\nint value = 1, rowSize = 3, colSize = 10;\r\nList&lt;List&lt;Integer&gt;&gt; list = Stream.generate(() -&gt; \r\n       (List&lt;Integer&gt;)new ArrayList&lt;&gt;(Collections.nCopies(colSize, value)))\r\n       .limit(rowSize).collect(Collectors.toCollection(ArrayList::new));\r\n```","title":"How to create a list of list of given size and initialize with values in java","body":"<p>You can use <code>Collections.nCopies</code> for a <code>List</code> of primitives filled with a certain value. To create the <code>List</code> of <code>List</code>s, you can use <code>Stream.generate</code> (to ensure that each row is a separate reference).</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int value = 1, rowSize = 3, colSize = 10;\nList&lt;List&lt;Integer&gt;&gt; list = Stream.generate(() -&gt; \n       (List&lt;Integer&gt;)new ArrayList&lt;&gt;(Collections.nCopies(colSize, value)))\n       .limit(rowSize).collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1689329650,"post_id":76682946,"comment_id":135201311,"body_markdown":"Or just `List&lt;List&lt;Integer&gt;&gt; table = new ArrayList&lt;&gt;(Collections.nCopies(rowSize, Collections.nCopies(colSize, value))); table.replaceAll(ArrayList::new);`","body":"Or just <code>List&lt;List&lt;Integer&gt;&gt; table = new ArrayList&lt;&gt;(Collections.nCopies(rowSize, Collections.nCopies(colSize, value))); table.replaceAll(ArrayList::new);</code>"}],"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689279218,"creation_date":1689279218,"answer_id":76682946,"question_id":76682855,"body_markdown":"You could do that:\r\n\r\n    Supplier&lt;List&lt;Integer&gt;&gt; s = Stream.generate(() -&gt; value)\r\n          .limit(colSize)\r\n          .collect(toCollection(ArrayList::new)); \r\n    List&lt;List&lt;Integer&gt;&gt; table = Stream.generate(s)\r\n      .limit(rowSize)\r\n      .collect(toCollection(ArrayList::new));\r\n\r\nBut it may be overkill to use `Stream` for that:\r\n\r\n    List&lt;Integer&gt; columnTemplate = Collections.nCopies(colSize, value);\r\n    List&lt;List&lt;Integer&gt;&gt; table = new ArrayList&lt;&gt;(rowSize); \r\n    for (int i = 0; i &lt; rowSize; ++i) {\r\n      table.add(new ArrayList&lt;&gt;(columnTemplate)); // because list is immutable\r\n    }\r\n\r\nAs you can see, I used version that do no return immutable collection: you would probably want to be able to change the value at some row/col:\r\n\r\n    table.get(row).set(col, n);\r\n\r\nThis will fail if you use `toList()` on `Stream` or `nCopies` directly.","title":"How to create a list of list of given size and initialize with values in java","body":"<p>You could do that:</p>\n<pre><code>Supplier&lt;List&lt;Integer&gt;&gt; s = Stream.generate(() -&gt; value)\n      .limit(colSize)\n      .collect(toCollection(ArrayList::new)); \nList&lt;List&lt;Integer&gt;&gt; table = Stream.generate(s)\n  .limit(rowSize)\n  .collect(toCollection(ArrayList::new));\n</code></pre>\n<p>But it may be overkill to use <code>Stream</code> for that:</p>\n<pre><code>List&lt;Integer&gt; columnTemplate = Collections.nCopies(colSize, value);\nList&lt;List&lt;Integer&gt;&gt; table = new ArrayList&lt;&gt;(rowSize); \nfor (int i = 0; i &lt; rowSize; ++i) {\n  table.add(new ArrayList&lt;&gt;(columnTemplate)); // because list is immutable\n}\n</code></pre>\n<p>As you can see, I used version that do no return immutable collection: you would probably want to be able to change the value at some row/col:</p>\n<pre><code>table.get(row).set(col, n);\n</code></pre>\n<p>This will fail if you use <code>toList()</code> on <code>Stream</code> or <code>nCopies</code> directly.</p>\n"},{"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1689280486,"post_id":76683010,"comment_id":135195326,"body_markdown":"In recent versions of Java you can simply use `.toList()` instead of `.collect(Collectors.toList())` but this is going to return an immutable list.","body":"In recent versions of Java you can simply use <code>.toList()</code> instead of <code>.collect(Collectors.toList())</code> but this is going to return an immutable list."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1689282268,"post_id":76683010,"comment_id":135195584,"body_markdown":"Yes, they typically both will. I wasn&#39;t saying to use the shorter version to get a modifiable list, I was pointing out that there&#39;s a shorter version, and that this code (with either one) will most likely fail for OP if the  list is going to be modified.","body":"Yes, they typically both will. I wasn&#39;t saying to use the shorter version to get a modifiable list, I was pointing out that there&#39;s a shorter version, and that this code (with either one) will most likely fail for OP if the  list is going to be modified."}],"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689279936,"creation_date":1689279936,"answer_id":76683010,"question_id":76682855,"body_markdown":"You have two ways of doing this, and both take a generic type for the value.\r\n\r\nTraditional for loop, or with streams.\r\n\r\n**Note:** The `Collections.nCopies` method returns an immutable list, so you will need to pass it to the `ArrayList` constructor if you intend to modify it.\r\n\r\n```java\r\nimport java.util.*;\r\nimport java.util.stream.*;\r\n\r\npublic class Matrix {\r\n    public static void main(String[] args) {\r\n        List&lt;List&lt;Integer&gt;&gt; intMatrix1 = initializeMatrix(3, 4, 1);\r\n        List&lt;List&lt;Integer&gt;&gt; intMatrix2 = initializeMatrix2(3, 4, 1);\r\n\r\n        System.out.println(intMatrix1); // [[1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1]]\r\n        System.out.println(intMatrix2); // [[1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1]]\r\n    }\r\n\r\n    public static &lt;E&gt; List&lt;List&lt;E&gt;&gt; initializeMatrix(int rows, int cols, E value) {\r\n        List&lt;List&lt;E&gt;&gt; matrix = new ArrayList&lt;&gt;();\r\n        for (int rowIndex = 0; rowIndex &lt; rows; rowIndex++) {\r\n            List&lt;E&gt; row = new ArrayList&lt;&gt;();\r\n            for (int colIndex = 0; colIndex &lt; cols; colIndex++) {\r\n                row.add(colIndex, value);\r\n            }\r\n            matrix.add(row);\r\n        }\r\n        return matrix;\r\n    }\r\n\r\n    public static &lt;E&gt; List&lt;List&lt;E&gt;&gt; initializeMatrix2(int rows, int cols, E value) {\r\n        return Stream.generate(() -&gt; new ArrayList&lt;&gt;(Collections\r\n                .nCopies(cols, value)))\r\n                .limit(rows)\r\n                .collect(Collectors.toList());\r\n    }\r\n}\r\n```","title":"How to create a list of list of given size and initialize with values in java","body":"<p>You have two ways of doing this, and both take a generic type for the value.</p>\n<p>Traditional for loop, or with streams.</p>\n<p><strong>Note:</strong> The <code>Collections.nCopies</code> method returns an immutable list, so you will need to pass it to the <code>ArrayList</code> constructor if you intend to modify it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.stream.*;\n\npublic class Matrix {\n    public static void main(String[] args) {\n        List&lt;List&lt;Integer&gt;&gt; intMatrix1 = initializeMatrix(3, 4, 1);\n        List&lt;List&lt;Integer&gt;&gt; intMatrix2 = initializeMatrix2(3, 4, 1);\n\n        System.out.println(intMatrix1); // [[1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1]]\n        System.out.println(intMatrix2); // [[1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1]]\n    }\n\n    public static &lt;E&gt; List&lt;List&lt;E&gt;&gt; initializeMatrix(int rows, int cols, E value) {\n        List&lt;List&lt;E&gt;&gt; matrix = new ArrayList&lt;&gt;();\n        for (int rowIndex = 0; rowIndex &lt; rows; rowIndex++) {\n            List&lt;E&gt; row = new ArrayList&lt;&gt;();\n            for (int colIndex = 0; colIndex &lt; cols; colIndex++) {\n                row.add(colIndex, value);\n            }\n            matrix.add(row);\n        }\n        return matrix;\n    }\n\n    public static &lt;E&gt; List&lt;List&lt;E&gt;&gt; initializeMatrix2(int rows, int cols, E value) {\n        return Stream.generate(() -&gt; new ArrayList&lt;&gt;(Collections\n                .nCopies(cols, value)))\n                .limit(rows)\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22322454,"reputation":1,"user_id":16544920,"display_name":"Syed Shahabaaz Ahmed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1689307519,"creation_date":1689278376,"question_id":76682855,"body_markdown":"This is the code to initialize a list of list with some values and given size in C++\r\n\r\n```cpp\r\nvector&lt;vector&lt;int&gt;&gt; arr = vector&lt;&gt;(rowSize, vector&lt;&gt;(colSize, value));\r\n```\r\n\r\nIs there any equivalent code in Java?\r\n\r\nWe could use the IntStream.range() to stream and create new List and add it to the main list. Then loop through the 2D list and set some default values. \r\nI&#39;m searching for something similar to c++ implementation mentioned above","title":"How to create a list of list of given size and initialize with values in java","body":"<p>This is the code to initialize a list of list with some values and given size in C++</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>vector&lt;vector&lt;int&gt;&gt; arr = vector&lt;&gt;(rowSize, vector&lt;&gt;(colSize, value));\n</code></pre>\n<p>Is there any equivalent code in Java?</p>\n<p>We could use the IntStream.range() to stream and create new List and add it to the main list. Then loop through the 2D list and set some default values.\nI'm searching for something similar to c++ implementation mentioned above</p>\n"},{"tags":["java","object","oop","inheritance"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689306544,"post_id":76684574,"comment_id":135197778,"body_markdown":"`super(value)` just means &quot;call the superclass constructor, passing `value` as the parameter.&quot;","body":"<code>super(value)</code> just means &quot;call the superclass constructor, passing <code>value</code> as the parameter.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1954792,"reputation":5618,"user_id":1758051,"accept_rate":52,"display_name":"AgilePro"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689307394,"creation_date":1689307394,"answer_id":76684651,"question_id":76684574,"body_markdown":"When you construct `Level(99)` it will call the constructor of `Base` and pass `99`.   The `super` is literally a call to the constructor of the Base class.\r\n\r\nif the constructor for Level had more to do, it could do it after the constructor on Base is called.","title":"How Inheritance is used to set values?","body":"<p>When you construct <code>Level(99)</code> it will call the constructor of <code>Base</code> and pass <code>99</code>.   The <code>super</code> is literally a call to the constructor of the Base class.</p>\n<p>if the constructor for Level had more to do, it could do it after the constructor on Base is called.</p>\n"}],"owner":{"account_id":24138431,"reputation":3,"user_id":18104986,"display_name":" VASANTH N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76684651,"answer_count":1,"score":0,"last_activity_date":1689307394,"creation_date":1689306129,"question_id":76684574,"body_markdown":"In below code , Level class have a construtor where it uses super.\r\n\r\nWhen happens when object is created with the value ?\r\n\r\nI&#39;m literally confused, even can&#39;t explain what&#39;s my doubt please explain the code.\r\n\r\nThanks in advance.\r\n\r\n\r\n```\r\n public class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t  \r\n\t Base b = new Base(5);\r\n\t Base b1 = new Level(8);\r\n\t  System.out.println(b.getV());\r\n\t System.out.println(b1.getV());\r\n\t \t\r\n\t}\r\n}\r\n\r\n\r\nclass Base{\r\n    private int value ;\r\n    \r\n    \r\n    public Base(int value){\r\n        this.value = value;\r\n    }\r\n    \r\n    public void raisevalue(int v){\r\n        this.value = value+ v;\r\n    }\r\n    \r\n    public int getV(){\r\n        return value;\r\n}\r\n}\r\n\r\nclass Level extends Base{\r\n    public Level(int value){\r\n        super(value);\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"How Inheritance is used to set values?","body":"<p>In below code , Level class have a construtor where it uses super.</p>\n<p>When happens when object is created with the value ?</p>\n<p>I'm literally confused, even can't explain what's my doubt please explain the code.</p>\n<p>Thanks in advance.</p>\n<pre><code> public class Main\n{\n    public static void main(String[] args) {\n      \n     Base b = new Base(5);\n     Base b1 = new Level(8);\n      System.out.println(b.getV());\n     System.out.println(b1.getV());\n        \n    }\n}\n\n\nclass Base{\n    private int value ;\n    \n    \n    public Base(int value){\n        this.value = value;\n    }\n    \n    public void raisevalue(int v){\n        this.value = value+ v;\n    }\n    \n    public int getV(){\n        return value;\n}\n}\n\nclass Level extends Base{\n    public Level(int value){\n        super(value);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","annotations"],"comments":[{"owner":{"account_id":1291890,"reputation":155,"user_id":1243833,"display_name":"sudheer"},"score":0,"creation_date":1689625980,"post_id":76684578,"comment_id":135237642,"body_markdown":"It can solved using SpringEL  https://stackoverflow.com/questions/63329590/create-dynamic-cosmos-db-collection-in-spring-boot-app-at-runtime","body":"It can solved using SpringEL  <a href=\"https://stackoverflow.com/questions/63329590/create-dynamic-cosmos-db-collection-in-spring-boot-app-at-runtime\" title=\"create dynamic cosmos db collection in spring boot app at runtime\">stackoverflow.com/questions/63329590/&hellip;</a>"},{"owner":{"account_id":6891591,"reputation":136,"user_id":5294876,"display_name":"phramos07"},"score":0,"creation_date":1699558003,"post_id":76684578,"comment_id":136550617,"body_markdown":"I have exactly the same problem. I want to be able to set this `containerName` property inside the annotation `@Container` dynamically because it will come from a configuration `.yml` file.","body":"I have exactly the same problem. I want to be able to set this <code>containerName</code> property inside the annotation <code>@Container</code> dynamically because it will come from a configuration <code>.yml</code> file."}],"owner":{"account_id":1291890,"reputation":155,"user_id":1243833,"display_name":"sudheer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689306197,"creation_date":1689306197,"question_id":76684578,"body_markdown":"In my case, all my lower env cosmos db containers are residing in one database, their names start with the environment followed by the actual container name. How to pass the container-name dynamically in an annotation?\r\n\r\nI understand that we cannot use a spring expression directly inside any annotation other than @Value. How to proceed further in such scenarios\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/uYuNp.png","title":"Read Cosmosdb container name dynamically inside annotation (Spring-boot)","body":"<p>In my case, all my lower env cosmos db containers are residing in one database, their names start with the environment followed by the actual container name. How to pass the container-name dynamically in an annotation?</p>\n<p>I understand that we cannot use a spring expression directly inside any annotation other than @Value. How to proceed further in such scenarios</p>\n<p><a href=\"https://i.stack.imgur.com/uYuNp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uYuNp.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse","jakarta-ee","websphere","ibm-rad"],"answers":[{"comments":[{"owner":{"account_id":37812,"reputation":25853,"user_id":108207,"accept_rate":96,"display_name":"Niklas Rosencrantz"},"score":0,"creation_date":1331281278,"post_id":9630814,"comment_id":12223658,"body_markdown":"I&#39;m using websphere builtin IBM RAD.","body":"I&#39;m using websphere builtin IBM RAD."},{"owner":{"account_id":348818,"reputation":12356,"user_id":683735,"accept_rate":100,"display_name":"Konstantin Pribluda"},"score":0,"creation_date":1331284979,"post_id":9630814,"comment_id":12224737,"body_markdown":"The your best option would be to search file system fpr directories with matching names.  websphere is a mess.","body":"The your best option would be to search file system fpr directories with matching names.  websphere is a mess."},{"owner":{"account_id":37812,"reputation":25853,"user_id":108207,"accept_rate":96,"display_name":"Niklas Rosencrantz"},"score":0,"creation_date":1337069403,"post_id":9630814,"comment_id":13726037,"body_markdown":"Thanks for the help. For me with IBM RAD 8 and WAS 8 the files are located in the directory `C:\\Program Files\\IBM\\WebSphere\\AppServer\\profiles\\AppSrv1\\temp\\PRVSTHV1510Node01\\server1\\` I can open a translated JSP file in its .java format from there. I now wonder why the link from the compile error to this java class is not working, it would be much easier if this directory was known to RAD and it should be.","body":"Thanks for the help. For me with IBM RAD 8 and WAS 8 the files are located in the directory `C:\\Program Files\\IBM\\WebSphere\\AppServer\\profiles\\AppSrv1\\temp\\PRVSTHV1&zwnj;&#8203;510Node01\\server1` I can open a translated JSP file in its .java format from there. I now wonder why the link from the compile error to this java class is not working, it would be much easier if this directory was known to RAD and it should be."}],"tags":[],"owner":{"account_id":348818,"reputation":12356,"user_id":683735,"accept_rate":100,"display_name":"Konstantin Pribluda"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1331280793,"creation_date":1331280793,"answer_id":9630814,"question_id":9630756,"body_markdown":"It depends on your servlet container settings.  IN case of tomcat, it is most likely located under:\r\n\r\n&lt;server root&gt;/work/Catalina/&lt;hostname&gt;/&lt;context name&gt;/org/apache/jsp/&lt;your jsp paths&gt;","title":"Where to find the translated JSP servlet code in Eclipse / RAD?","body":"<p>It depends on your servlet container settings.  IN case of tomcat, it is most likely located under:</p>\n\n<p>/work/Catalina///org/apache/jsp/</p>\n"},{"comments":[{"owner":{"account_id":37812,"reputation":25853,"user_id":108207,"accept_rate":96,"display_name":"Niklas Rosencrantz"},"score":0,"creation_date":1331293041,"post_id":9631681,"comment_id":12227360,"body_markdown":"Thanks I found it but the .java files are only there if they are without compilation errors. If I make a file with an error the .java file is automatically deleted. How can I change this to always keeping the .java files?","body":"Thanks I found it but the .java files are only there if they are without compilation errors. If I make a file with an error the .java file is automatically deleted. How can I change this to always keeping the .java files?"},{"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":4,"creation_date":1331299911,"post_id":9631681,"comment_id":12229609,"body_markdown":"Use the `keepgenerated` [JSP engine configuration parameter](http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/topic/com.ibm.websphere.nd.multiplatform.doc/info/ae/ae/rweb_jspengine.html) to keep the JSP translation output. See [here](http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/topic/com.ibm.websphere.nd.multiplatform.doc/info/ae/ae/tweb_jspengine.html) for WAS 7 instructions. See the [Infocenter library](http://www-01.ibm.com/software/webservers/appserv/was/library/) for other versions.","body":"Use the <code>keepgenerated</code> <a href=\"http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/topic/com.ibm.websphere.nd.multiplatform.doc/info/ae/ae/rweb_jspengine.html\" rel=\"nofollow noreferrer\">JSP engine configuration parameter</a> to keep the JSP translation output. See <a href=\"http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/topic/com.ibm.websphere.nd.multiplatform.doc/info/ae/ae/tweb_jspengine.html\" rel=\"nofollow noreferrer\">here</a> for WAS 7 instructions. See the <a href=\"http://www-01.ibm.com/software/webservers/appserv/was/library/\" rel=\"nofollow noreferrer\">Infocenter library</a> for other versions."},{"owner":{"account_id":37812,"reputation":25853,"user_id":108207,"accept_rate":96,"display_name":"Niklas Rosencrantz"},"score":1,"creation_date":1337069318,"post_id":9631681,"comment_id":13726008,"body_markdown":"I found the files after some searching. For me with IBM RAD 8 and WAS 8 the files are saved in `C:\\Program Files\\IBM\\WebSphere\\AppServer\\profiles\\AppSrv1\\temp\\PRVSTHV1510Node01\\server1\\`","body":"I found the files after some searching. For me with IBM RAD 8 and WAS 8 the files are saved in `C:\\Program Files\\IBM\\WebSphere\\AppServer\\profiles\\AppSrv1\\temp\\PRVSTHV1&zwnj;&#8203;510Node01\\server1`"}],"tags":[],"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1331285235,"creation_date":1331285235,"answer_id":9631681,"question_id":9630756,"body_markdown":"Locate your runtime directory. If this is an embedded runtime, it&#39;ll be something like:\r\n\r\n    /opt/IBM/SDP/runtimes/basev7\r\n\r\nThe servlets are usually compiled lazily to the profile&#39;s temp directory. This path will be of the form:\r\n\r\n    /profiles/profileName/temp/nodeName/serverName\r\n\r\nThe profile, node and server name are configuration dependent. Subdirectories will follow your EAR/WAR hierarchies.","title":"Where to find the translated JSP servlet code in Eclipse / RAD?","body":"<p>Locate your runtime directory. If this is an embedded runtime, it'll be something like:</p>\n\n<pre><code>/opt/IBM/SDP/runtimes/basev7\n</code></pre>\n\n<p>The servlets are usually compiled lazily to the profile's temp directory. This path will be of the form:</p>\n\n<pre><code>/profiles/profileName/temp/nodeName/serverName\n</code></pre>\n\n<p>The profile, node and server name are configuration dependent. Subdirectories will follow your EAR/WAR hierarchies.</p>\n"},{"tags":[],"owner":{"account_id":29014338,"reputation":1,"user_id":22225098,"display_name":"Prit Agarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689305676,"creation_date":1689305676,"answer_id":76684553,"question_id":9630756,"body_markdown":"Locating Java Servlet Files Generated from JSP Files\r\nViewing generated Java servlet code is an important part of the JSP development process.\r\n\r\nTo view the generated servlet files:\r\n\r\nStart the server and deploy your application.\r\nIn a web browser, visit the target JSP file.\r\n\r\nWhen the server is started using Workshop, the location of the generated JSP servlet code is:\r\n**&lt;path_to_workspace&gt;/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/&lt;server_domain_name&gt;/work/&lt;project_name&gt;/jsp_servlet/**\r\n","title":"Where to find the translated JSP servlet code in Eclipse / RAD?","body":"<p>Locating Java Servlet Files Generated from JSP Files\nViewing generated Java servlet code is an important part of the JSP development process.</p>\n<p>To view the generated servlet files:</p>\n<p>Start the server and deploy your application.\nIn a web browser, visit the target JSP file.</p>\n<p>When the server is started using Workshop, the location of the generated JSP servlet code is:\n<strong>&lt;path_to_workspace&gt;/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/&lt;server_domain_name&gt;/work/&lt;project_name&gt;/jsp_servlet/</strong></p>\n"}],"owner":{"account_id":37812,"reputation":25853,"user_id":108207,"accept_rate":96,"display_name":"Niklas Rosencrantz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16973,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":9631681,"answer_count":3,"score":2,"last_activity_date":1689305676,"creation_date":1331280405,"question_id":9630756,"body_markdown":"I&#39;m using IBM RAD v7 which is based on Eclipse and I&#39;ve got a NullPointerException in a compiled JSP that I want to troubleshoot. So I wonder where websphere / Eclipse (IBM RAD) stores the source for the compiled JSP that the error message is referring to?","title":"Where to find the translated JSP servlet code in Eclipse / RAD?","body":"<p>I'm using IBM RAD v7 which is based on Eclipse and I've got a NullPointerException in a compiled JSP that I want to troubleshoot. So I wonder where websphere / Eclipse (IBM RAD) stores the source for the compiled JSP that the error message is referring to?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1689304449,"post_id":76684468,"comment_id":135197607,"body_markdown":"That is how `String.valueOf` works. It returns the string &quot;null&quot; for null values. Did you read its documentation?","body":"That is how <code>String.valueOf</code> works. It returns the string &quot;null&quot; for null values. Did you read its documentation?"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1689305753,"post_id":76684468,"comment_id":135197710,"body_markdown":"Why should it produce an exception?","body":"Why should it produce an exception?"}],"answers":[{"tags":[],"owner":{"account_id":11744193,"reputation":11,"user_id":8595432,"display_name":"Richard Kim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689305206,"creation_date":1689305206,"answer_id":76684524,"question_id":76684468,"body_markdown":"```\r\npublic static String valueOf(Object obj)\r\n{\r\n  return obj == null ? &quot;null&quot; : obj.toString();\r\n}\r\n```\r\n\r\nString.valueOf implemented like that.\r\nAs you see in codes, if the input object is null,  then the result &quot;null&quot; string.","title":"null Object in Iterator","body":"<pre><code>public static String valueOf(Object obj)\n{\n  return obj == null ? &quot;null&quot; : obj.toString();\n}\n</code></pre>\n<p>String.valueOf implemented like that.\nAs you see in codes, if the input object is null,  then the result &quot;null&quot; string.</p>\n"}],"owner":{"account_id":29014247,"reputation":1,"user_id":22225031,"display_name":"new javaer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1689305206,"creation_date":1689304323,"question_id":76684468,"body_markdown":"\r\n```\r\nList&lt;String&gt; wideTableData = new ArrayList&lt;&gt;();\r\nwideTableData.add(null);\r\nwideTableData.add(null);\r\nIterator&lt;String&gt; iterator = wideTableData.iterator();\r\nwhile (iterator.hasNext()) {\r\n    String firstValue = String.valueOf(iterator.next());\r\n    System.out.println(Strings.isNullOrEmpty(firstValue));\r\n    System.out.println(firstValue.equals(&quot;null&quot;));\r\n}\r\n```\r\n\r\nThe code above doesn&#39;t make an exception near String.valueof. In fact, firstValue equals String &quot;null&quot;.\r\nWhy?","title":"null Object in Iterator","body":"<pre><code>List&lt;String&gt; wideTableData = new ArrayList&lt;&gt;();\nwideTableData.add(null);\nwideTableData.add(null);\nIterator&lt;String&gt; iterator = wideTableData.iterator();\nwhile (iterator.hasNext()) {\n    String firstValue = String.valueOf(iterator.next());\n    System.out.println(Strings.isNullOrEmpty(firstValue));\n    System.out.println(firstValue.equals(&quot;null&quot;));\n}\n</code></pre>\n<p>The code above doesn't make an exception near String.valueof. In fact, firstValue equals String &quot;null&quot;.\nWhy?</p>\n"},{"tags":["java","android","android-fragments"],"answers":[{"comments":[{"owner":{"account_id":16892782,"reputation":3,"user_id":12216092,"display_name":"Merrick Morris"},"score":1,"creation_date":1571306442,"post_id":58429799,"comment_id":103200558,"body_markdown":"I&#39;ve tried that before from one of the solutions I found on Stackoverflow but the app still crashes.","body":"I&#39;ve tried that before from one of the solutions I found on Stackoverflow but the app still crashes."},{"owner":{"account_id":16892782,"reputation":3,"user_id":12216092,"display_name":"Merrick Morris"},"score":0,"creation_date":1571307322,"post_id":58429799,"comment_id":103201082,"body_markdown":"I&#39;ve given the fragment xml file code above. I&#39;ll add on the java file as well. Though I didn&#39;t add code onto it as yet","body":"I&#39;ve given the fragment xml file code above. I&#39;ll add on the java file as well. Though I didn&#39;t add code onto it as yet"}],"tags":[],"owner":{"account_id":13647178,"reputation":1443,"user_id":9845929,"display_name":"SebastienRieu"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571306012,"creation_date":1571306012,"answer_id":58429799,"question_id":58429719,"body_markdown":"**fix your detail_activity.xml replace class by android:name**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.DetailActivity&quot;&gt;\r\n    \r\n        &lt;fragment\r\n            android:name=&quot;com.example.workout.WorkoutDetailFragment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n        /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"java.lang.RuntimeException: Unable to start activity android.view.InflateException: Binary XML file line #13","body":"<p><strong>fix your detail_activity.xml replace class by android:name</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".DetailActivity\"&gt;\n\n    &lt;fragment\n        android:name=\"com.example.workout.WorkoutDetailFragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n    /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3001282,"reputation":430,"user_id":2546742,"display_name":"Praveen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571307287,"creation_date":1571307287,"answer_id":58430165,"question_id":58429719,"body_markdown":"Implement your main activity with OnFragmentInteractionListener and change xml as per below code \r\n\r\n    public class MainActivity extends AppCompatActivity implements WorkoutDetailFragment.OnFragmentInteractionListener {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.detail_activity);\r\n    }\r\n\r\n    @Override\r\n    public void onFragmentInteraction(Uri uri) {\r\n        \r\n    }}\r\n\r\n\r\n\r\nAnd your XML\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/fragment&quot;\r\n        android:name=&quot;com.example.myapplication.WorkoutDetailFragment&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\nShare Fragment class file if you still can&#39;t execute\r\n\r\n\r\n   ","title":"java.lang.RuntimeException: Unable to start activity android.view.InflateException: Binary XML file line #13","body":"<p>Implement your main activity with OnFragmentInteractionListener and change xml as per below code </p>\n\n<pre><code>public class MainActivity extends AppCompatActivity implements WorkoutDetailFragment.OnFragmentInteractionListener {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.detail_activity);\n}\n\n@Override\npublic void onFragmentInteraction(Uri uri) {\n\n}}\n</code></pre>\n\n<p>And your XML</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".MainActivity\"&gt;\n\n&lt;fragment\n    android:id=\"@+id/fragment\"\n    android:name=\"com.example.myapplication.WorkoutDetailFragment\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"0dp\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>Share Fragment class file if you still can't execute</p>\n"},{"tags":[],"owner":{"account_id":3439160,"reputation":348,"user_id":2881495,"display_name":"Mahesh Pandit"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1571307311,"creation_date":1571307311,"answer_id":58430172,"question_id":58429719,"body_markdown":"Modify your DetailActivity.xml tag fragment as follow\r\n\r\n      &lt;fragment android:name=&quot;com.example.workout.WorkoutDetailFragment&quot;\r\n        android:id=&quot;@+id/frag&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;","title":"java.lang.RuntimeException: Unable to start activity android.view.InflateException: Binary XML file line #13","body":"<p>Modify your DetailActivity.xml tag fragment as follow</p>\n\n<pre><code>  &lt;fragment android:name=\"com.example.workout.WorkoutDetailFragment\"\n    android:id=\"@+id/frag\"\n    android:layout_weight=\"1\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16690685,"reputation":1,"user_id":12063375,"display_name":"deepa kn"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1571307937,"creation_date":1571307937,"answer_id":58430374,"question_id":58429719,"body_markdown":"Please specify the unique id for your fragment and try.\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/fragId&quot;\r\n        class=&quot;com.example.workout.WorkoutDetailFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n     /&gt;","title":"java.lang.RuntimeException: Unable to start activity android.view.InflateException: Binary XML file line #13","body":"<p>Please specify the unique id for your fragment and try.</p>\n\n<pre><code>&lt;fragment\n    android:id=\"@+id/fragId\"\n    class=\"com.example.workout.WorkoutDetailFragment\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24949058,"reputation":1,"user_id":18814089,"display_name":"Neel Doshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689305106,"creation_date":1689305053,"answer_id":76684511,"question_id":58429719,"body_markdown":"*This error is basically because you have not give id to your fragment container.*\r\n\r\n**Before\r\nDetailActivity.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.DetailActivity&quot;&gt;\r\n    \r\n    &lt;fragment\r\n        class=&quot;com.example.workout.WorkoutDetailFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n    /&gt;\r\n\r\n\r\n**To Solve this give a unique identifier like this**\r\n\r\n**After DetailActivity.xml**\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.DetailActivity&quot;&gt;\r\n        \r\n    &lt;fragment\r\n         android:id=&quot;@+id/uniqueid&quot; //this was missing\r\n         class=&quot;com.example.workout.WorkoutDetailFragment&quot;\r\n         android:layout_width=&quot;match_parent&quot;\r\n         android:layout_height=&quot;match_parent&quot;\r\n    /&gt;\r\n\r\n","title":"java.lang.RuntimeException: Unable to start activity android.view.InflateException: Binary XML file line #13","body":"<p><em>This error is basically because you have not give id to your fragment container.</em></p>\n<p><strong>Before\nDetailActivity.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.DetailActivity&quot;&gt;\n\n&lt;fragment\n    class=&quot;com.example.workout.WorkoutDetailFragment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n/&gt;\n</code></pre>\n<p><strong>To Solve this give a unique identifier like this</strong></p>\n<p><strong>After DetailActivity.xml</strong></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;androidx.constraintlayout.widget.ConstraintLayout \n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.DetailActivity&quot;&gt;\n    \n&lt;fragment\n     android:id=&quot;@+id/uniqueid&quot; //this was missing\n     class=&quot;com.example.workout.WorkoutDetailFragment&quot;\n     android:layout_width=&quot;match_parent&quot;\n     android:layout_height=&quot;match_parent&quot;\n/&gt;\n</code></pre>\n"}],"owner":{"account_id":16892782,"reputation":3,"user_id":12216092,"display_name":"Merrick Morris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58430172,"answer_count":5,"score":0,"last_activity_date":1689305106,"creation_date":1571305800,"question_id":58429719,"body_markdown":"I&#39;m new at learning Android. I&#39;ll be short. I&#39;m receiving the error as mentioned at the bottom. I&#39;ve added a fragment via XML. I&#39;ve searched for solutions but none worked so far. Where am I going wrong?\r\n\r\nIf I can be pointed to a solution that&#39;s okay. May I get an explanation as to why this happens?\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.workout, PID: 7653\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.workout/com.example.workout.DetailActivity}: android.view.InflateException: Binary XML file line #9: Binary XML file line #9: Error inflating class fragment\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2969)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3047)\r\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1777)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:166)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6861)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:450)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n     Caused by: android.view.InflateException: Binary XML file line #9: Binary XML file line #9: Error inflating class fragment\r\n     Caused by: android.view.InflateException: Binary XML file line #9: Error inflating class fragment\r\n     Caused by: java.lang.IllegalArgumentException: Binary XML file line #9: Must specify unique android:id, android:tag, or have a parent with an id for com.example.workout.WorkoutDetailFragment\r\n        at androidx.fragment.app.FragmentManagerImpl.onCreateView(FragmentManagerImpl.java:3177)\r\n        at androidx.fragment.app.FragmentController.onCreateView(FragmentController.java:134)\r\n        at androidx.fragment.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:357)\r\n        at androidx.fragment.app.FragmentActivity.onCreateView(FragmentActivity.java:336)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:791)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:741)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:874)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:835)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:555)\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:161)\r\n        at com.example.workout.DetailActivity.onCreate(DetailActivity.java:12)\r\n        at android.app.Activity.performCreate(Activity.java:7110)\r\n        at android.app.Activity.performCreate(Activity.java:7101)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2922)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3047)\r\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1777)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:166)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6861)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:450)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n\r\n**DetailActivity Xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.DetailActivity&quot;&gt;\r\n\r\n    &lt;fragment\r\n        class=&quot;com.example.workout.WorkoutDetailFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n**DetailActivity Java**\r\n\r\n    package com.example.workout;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n\r\n    public class DetailActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_detail);\r\n      }\r\n    }\r\n\r\n**Fragment xml**\r\n\r\n    &lt;!-- TODO: Update blank fragment layout --&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;\r\n            android:id=&quot;@+id/textTitle&quot;\r\n            android:text=&quot;@string/workout_title&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/textDescription&quot;\r\n            android:text=&quot;@string/workout_description&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n\r\n**MainActivity Java**\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    public void onShowDetails(View view){\r\n        Intent intent = new Intent(this, DetailActivity.class);\r\n        startActivity(intent);\r\n     }\r\n    }\r\n\r\n\r\n \r\n\r\n","title":"java.lang.RuntimeException: Unable to start activity android.view.InflateException: Binary XML file line #13","body":"<p>I'm new at learning Android. I'll be short. I'm receiving the error as mentioned at the bottom. I've added a fragment via XML. I've searched for solutions but none worked so far. Where am I going wrong?</p>\n\n<p>If I can be pointed to a solution that's okay. May I get an explanation as to why this happens?</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.workout, PID: 7653\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.workout/com.example.workout.DetailActivity}: android.view.InflateException: Binary XML file line #9: Binary XML file line #9: Error inflating class fragment\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2969)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3047)\n    at android.app.ActivityThread.-wrap11(Unknown Source:0)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1777)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:166)\n    at android.app.ActivityThread.main(ActivityThread.java:6861)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:450)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n Caused by: android.view.InflateException: Binary XML file line #9: Binary XML file line #9: Error inflating class fragment\n Caused by: android.view.InflateException: Binary XML file line #9: Error inflating class fragment\n Caused by: java.lang.IllegalArgumentException: Binary XML file line #9: Must specify unique android:id, android:tag, or have a parent with an id for com.example.workout.WorkoutDetailFragment\n    at androidx.fragment.app.FragmentManagerImpl.onCreateView(FragmentManagerImpl.java:3177)\n    at androidx.fragment.app.FragmentController.onCreateView(FragmentController.java:134)\n    at androidx.fragment.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:357)\n    at androidx.fragment.app.FragmentActivity.onCreateView(FragmentActivity.java:336)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:791)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:741)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:874)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:835)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\n    at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:555)\n    at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:161)\n    at com.example.workout.DetailActivity.onCreate(DetailActivity.java:12)\n    at android.app.Activity.performCreate(Activity.java:7110)\n    at android.app.Activity.performCreate(Activity.java:7101)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2922)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3047)\n    at android.app.ActivityThread.-wrap11(Unknown Source:0)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1777)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:166)\n    at android.app.ActivityThread.main(ActivityThread.java:6861)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:450)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n</code></pre>\n\n<p><strong>DetailActivity Xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".DetailActivity\"&gt;\n\n&lt;fragment\n    class=\"com.example.workout.WorkoutDetailFragment\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    /&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>DetailActivity Java</strong></p>\n\n<pre><code>package com.example.workout;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\n\npublic class DetailActivity extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_detail);\n  }\n}\n</code></pre>\n\n<p><strong>Fragment xml</strong></p>\n\n<pre><code>&lt;!-- TODO: Update blank fragment layout --&gt;\n\n&lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:textAppearance=\"?android:attr/textAppearanceLarge\"\n        android:id=\"@+id/textTitle\"\n        android:text=\"@string/workout_title\"/&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:id=\"@+id/textDescription\"\n        android:text=\"@string/workout_description\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>MainActivity Java</strong></p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n}\n\npublic void onShowDetails(View view){\n    Intent intent = new Intent(this, DetailActivity.class);\n    startActivity(intent);\n }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689318796,"post_id":76684514,"comment_id":135199271,"body_markdown":"You are using MyBatis make sure that is setup correctly and you have the proper dependencies.","body":"You are using MyBatis make sure that is setup correctly and you have the proper dependencies."}],"owner":{"account_id":23132739,"reputation":9,"user_id":17237408,"display_name":"Cro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689305073,"creation_date":1689305073,"question_id":76684514,"body_markdown":"No qualifying bean of type &#39;com.example.dao.BookDao&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\r\nSome of my files are shown below, I wonder why I am getting an error\r\n\r\nBook.java\r\n\r\n```\r\npackage com.example.domain;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class Book {\r\n    private Integer id;\r\n    private String name;\r\n}\r\n```\r\n\r\n\r\nBookDao.java\r\n```\r\npackage com.example.dao;\r\n\r\nimport com.example.domain.Book;\r\nimport org.apache.ibatis.annotations.Mapper;\r\nimport org.apache.ibatis.annotations.Select;\r\n\r\n@Mapper\r\npublic interface BookDao {\r\n\r\n    @Select(&quot;select * from book where id = #{id}&quot;)\r\n    Book getById(Integer id);\r\n\r\n}\r\n```\r\n\r\nBookDaoTests.java\r\n\r\n```\r\npackage com.example.dao;\r\n\r\nimport jakarta.annotation.Resource;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\npublic class BookDaoTests {\r\n\r\n    @Autowired\r\n    private BookDao bookDao;\r\n\r\n    @Test\r\n    void testGetById(){\r\n        System.out.println(bookDao.getById(1));\r\n    }\r\n}\r\n```\r\n\r\napplication.yml\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    driver-class-name: com.mysql.cj.jdbc.Driver\r\n    url: jdbc:mysql://localhost:3306/test\r\n    username: root\r\n    password: 123456\r\n```\r\n\r\n\r\n\r\nI want to unit test, but I don&#39;t know why I get an error, this problem has bothered me for two days","title":"Spring-boot test error: No qualifying bean of type available","body":"<p>No qualifying bean of type 'com.example.dao.BookDao' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}</p>\n<p>Some of my files are shown below, I wonder why I am getting an error</p>\n<p>Book.java</p>\n<pre><code>package com.example.domain;\n\nimport lombok.Data;\n\n@Data\npublic class Book {\n    private Integer id;\n    private String name;\n}\n</code></pre>\n<p>BookDao.java</p>\n<pre><code>package com.example.dao;\n\nimport com.example.domain.Book;\nimport org.apache.ibatis.annotations.Mapper;\nimport org.apache.ibatis.annotations.Select;\n\n@Mapper\npublic interface BookDao {\n\n    @Select(&quot;select * from book where id = #{id}&quot;)\n    Book getById(Integer id);\n\n}\n</code></pre>\n<p>BookDaoTests.java</p>\n<pre><code>package com.example.dao;\n\nimport jakarta.annotation.Resource;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\npublic class BookDaoTests {\n\n    @Autowired\n    private BookDao bookDao;\n\n    @Test\n    void testGetById(){\n        System.out.println(bookDao.getById(1));\n    }\n}\n</code></pre>\n<p>application.yml</p>\n<pre><code>spring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    url: jdbc:mysql://localhost:3306/test\n    username: root\n    password: 123456\n</code></pre>\n<p>I want to unit test, but I don't know why I get an error, this problem has bothered me for two days</p>\n"},{"tags":["java","reentrantlock"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1689260840,"post_id":76680854,"comment_id":135191312,"body_markdown":"How do you think this is testing for the fairness of a lock?","body":"How do you think this is testing for the fairness of a lock?"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":3,"creation_date":1689260871,"post_id":76680854,"comment_id":135191322,"body_markdown":"please check javadoc: `Note however, that fairness of locks does not guarantee fairness of thread scheduling. Thus, one of many threads using a fair lock may obtain it multiple times in succession while other active threads are not progressing and not currently holding the lock`","body":"please check javadoc: <code>Note however, that fairness of locks does not guarantee fairness of thread scheduling. Thus, one of many threads using a fair lock may obtain it multiple times in succession while other active threads are not progressing and not currently holding the lock</code>"},{"owner":{"account_id":19406175,"reputation":91,"user_id":14191589,"display_name":"Andrey Mironov"},"score":0,"creation_date":1689261196,"post_id":76680854,"comment_id":135191415,"body_markdown":"@MarkRotteveel All tasks should acquire the lock in the order from 1 to `waitingThreadsCount`, because they were submitted in this order. Do I misunderstand something?","body":"@MarkRotteveel All tasks should acquire the lock in the order from 1 to <code>waitingThreadsCount</code>, because they were submitted in this order. Do I misunderstand something?"},{"owner":{"account_id":4951057,"reputation":599,"user_id":3984972,"display_name":"Violet Rosenzweig"},"score":0,"creation_date":1689261202,"post_id":76680854,"comment_id":135191417,"body_markdown":"not 100% sure, but maybe you could replace the &quot;futures.forEach f -&gt; f.get()&quot; loop with a call to &quot;executor.invokeAll()&quot; which will wait for all of them to finish; shutdown doesn&#39;t wait, it just tells the executor to not accept any more Tasks (this is just a cursory glance, I may be completely wrong)","body":"not 100% sure, but maybe you could replace the &quot;futures.forEach f -&gt; f.get()&quot; loop with a call to &quot;executor.invokeAll()&quot; which will wait for all of them to finish; shutdown doesn&#39;t wait, it just tells the executor to not accept any more Tasks (this is just a cursory glance, I may be completely wrong)"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":3,"creation_date":1689261269,"post_id":76680854,"comment_id":135191435,"body_markdown":"@AndreyMironov submitted != started. In your current thread submitting tasks, it will add them to a queue and continue on, unblocked. It&#39;s on another thread to consume those added tasks, so your thread could very well queue all of those tasks before any of them begin. The starting order here isn&#39;t guaranteed, though `lockingFuture` is at least marginally more likely to begin before the rest of them.","body":"@AndreyMironov submitted != started. In your current thread submitting tasks, it will add them to a queue and continue on, unblocked. It&#39;s on another thread to consume those added tasks, so your thread could very well queue all of those tasks before any of them begin. The starting order here isn&#39;t guaranteed, though <code>lockingFuture</code> is at least marginally more likely to begin before the rest of them."},{"owner":{"account_id":4951057,"reputation":599,"user_id":3984972,"display_name":"Violet Rosenzweig"},"score":0,"creation_date":1689261355,"post_id":76680854,"comment_id":135191452,"body_markdown":"@Rogue they are being started, f.get() inside the futures.forEach loop.","body":"@Rogue they are being started, f.get() inside the futures.forEach loop."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1689261588,"post_id":76680854,"comment_id":135191512,"body_markdown":"@VioletRosenzweig that&#39;s _after_ the submission of all tasks, and will not affect the starting order. You can wait on a `Future&lt;?&gt;` that will never arrive, after all. In this case, we&#39;re blocking the submitting thread in-sequence with the futures that are scheduled, but nothing stops tasks 2-5 from starting/completing before task 1 while we block on it, nor does anything ensure task 5 comes after task 4, etc. The newer facilities for doing this type of order guarantee is usually done through `CompletableFuture&lt;?&gt;` or somesuch.","body":"@VioletRosenzweig that&#39;s <i>after</i> the submission of all tasks, and will not affect the starting order. You can wait on a <code>Future&lt;?&gt;</code> that will never arrive, after all. In this case, we&#39;re blocking the submitting thread in-sequence with the futures that are scheduled, but nothing stops tasks 2-5 from starting/completing before task 1 while we block on it, nor does anything ensure task 5 comes after task 4, etc. The newer facilities for doing this type of order guarantee is usually done through <code>CompletableFuture&lt;?&gt;</code> or somesuch."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1689262987,"post_id":76680854,"comment_id":135191867,"body_markdown":"@AndreyMironov Task submission is separate from task scheduling on a thread, and from that thread getting scheduled on a CPU, and as Andrey B. Panfilov quoted, the order of scheduling of threads may be different and is not fair. This may very well mean that the task with the highest value of `j` may get scheduled and run before any other task, so it is first in line for the lock. So, the lock may be fair, but there is no deterministic order for your threads arriving at the lock, and thus no deterministic order for which one finishes last.","body":"@AndreyMironov Task submission is separate from task scheduling on a thread, and from that thread getting scheduled on a CPU, and as Andrey B. Panfilov quoted, the order of scheduling of threads may be different and is not fair. This may very well mean that the task with the highest value of <code>j</code> may get scheduled and run before any other task, so it is first in line for the lock. So, the lock may be fair, but there is no deterministic order for your threads arriving at the lock, and thus no deterministic order for which one finishes last."},{"owner":{"account_id":19406175,"reputation":91,"user_id":14191589,"display_name":"Andrey Mironov"},"score":0,"creation_date":1689268069,"post_id":76680854,"comment_id":135192998,"body_markdown":"@MarkRotteveel, Roque Thank you! That&#39;s right, the problem was in my wrong decision, that the order of tasks submitting is the same as the order of lock acquisition. I fixed the test and updated the question. Unfortunately, the test related to unfair lock doesn&#39;t pass anymore, but it is another problem)","body":"@MarkRotteveel, Roque Thank you! That&#39;s right, the problem was in my wrong decision, that the order of tasks submitting is the same as the order of lock acquisition. I fixed the test and updated the question. Unfortunately, the test related to unfair lock doesn&#39;t pass anymore, but it is another problem)"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":4,"creation_date":1689275109,"post_id":76680854,"comment_id":135194340,"body_markdown":"@AndreyMironov You seem to have resolved your issue, but posted that resolution in your question. That&#39;s not how things are done here. Please consider removing that update from your question, and posting it as an answer to your question instead, clearly showing what you changed in the code. It&#39;s much more helpful to the community to have answers to questions rather than having resolution buried in the comments, or inserted into the question. That said, that is the best [java] question from a new poster that I have seen for a long time - well done.","body":"@AndreyMironov You seem to have resolved your issue, but posted that resolution in your question. That&#39;s not how things are done here. Please consider removing that update from your question, and posting it as an answer to your question instead, clearly showing what you changed in the code. It&#39;s much more helpful to the community to have answers to questions rather than having resolution buried in the comments, or inserted into the question. That said, that is the best [java] question from a new poster that I have seen for a long time - well done."}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1689318655,"post_id":76684457,"comment_id":135199250,"body_markdown":"Regarding your comment about the unfair lock: a lock with fair=false is not guaranteed to be unfair, it is just not required to be fair (and even with fair=true is fairness not 100% guaranteed).","body":"Regarding your comment about the unfair lock: a lock with fair=false is not guaranteed to be unfair, it is just not required to be fair (and even with fair=true is fairness not 100% guaranteed)."},{"owner":{"account_id":19406175,"reputation":91,"user_id":14191589,"display_name":"Andrey Mironov"},"score":0,"creation_date":1689668163,"post_id":76684457,"comment_id":135242466,"body_markdown":"@MarkRotteveel ok, so if I want to demonstrate (and understand))) the differences provided by this flag, I need to find some platform architecture, where they are +- reproducible, right?","body":"@MarkRotteveel ok, so if I want to demonstrate (and understand))) the differences provided by this flag, I need to find some platform architecture, where they are +- reproducible, right?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1689670411,"post_id":76684457,"comment_id":135242996,"body_markdown":"Basically yes, but in practice I think it will be hard to do anyway.","body":"Basically yes, but in practice I think it will be hard to do anyway."}],"tags":[],"owner":{"account_id":19406175,"reputation":91,"user_id":14191589,"display_name":"Andrey Mironov"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689304086,"creation_date":1689304086,"answer_id":76684457,"question_id":76680854,"body_markdown":"The problem was in the order of acquiring the lock by tasks. The order of submitting is not quaranteed to be equal to the order of starting.\r\nSo I added the usage of `Awaitility` library to wait until each task is blocked by lock acquiring. Unfortunately, the test related to unfair lock doesn&#39;t pass anymore, but it is another problem.\r\n\r\n```\r\n   @Test\r\n    void should_be_fair() throws InterruptedException, ExecutionException {\r\n        Assertions.assertThat(wasAnyThreadUnfair(new ReentrantLock(true), 100, 5)).isFalse();\r\n    }\r\n\r\n    @Test\r\n    // TODO: doesn&#39;t pass\r\n    void should_be_unfair() throws InterruptedException, ExecutionException {\r\n        Assertions.assertThat(wasAnyThreadUnfair(new ReentrantLock(false), 100, 5)).isTrue();\r\n    }\r\n\r\n    private boolean wasAnyThreadUnfair(ReentrantLock lock, int iterationsCount, int waitingThreadsCount)\r\n            throws InterruptedException {\r\n        Semaphore unlockingSemaphore = new Semaphore(1);\r\n        boolean wasAnyThreadUnfair = false;\r\n\r\n        for (int i = 0; i &lt; iterationsCount; i++) {\r\n            unlockingSemaphore.acquire();\r\n            ThreadPoolExecutor executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(waitingThreadsCount + 1);\r\n            Future&lt;?&gt; lockingFuture = executor.submit(() -&gt; {\r\n                try {\r\n                    lock.lock();\r\n                    unlockingSemaphore.acquire();\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                } finally {\r\n                    unlockingSemaphore.release();\r\n                    lock.unlock();\r\n                }\r\n            });\r\n            AtomicInteger sharedState = new AtomicInteger();\r\n            List&lt;Future&lt;Integer&gt;&gt; futures = IntStream.rangeClosed(1, waitingThreadsCount)\r\n                    .mapToObj(j -&gt; {\r\n                        Future&lt;Integer&gt; submitted = executor.submit(() -&gt; {\r\n                            try {\r\n                                lock.lock();\r\n                                System.out.println(&quot;Acquiring lock for j=&quot; + j);\r\n                                return sharedState.updateAndGet((k) -&gt; j);\r\n                            } finally {\r\n                                lock.unlock();\r\n                            }\r\n                        });\r\n                        await().atMost(150, TimeUnit.MILLISECONDS).until(() -&gt; lock.getQueueLength() == j);\r\n                        return submitted;\r\n                    })\r\n                    .toList();\r\n            unlockingSemaphore.release();\r\n            executor.shutdown();\r\n            executor.awaitTermination(1, TimeUnit.SECONDS);\r\n            System.out.println(&quot;Ended &quot; + i + &quot;-th cycle with the last index=&quot; + sharedState.get());\r\n            if (sharedState.get() != waitingThreadsCount) {\r\n                wasAnyThreadUnfair = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return wasAnyThreadUnfair;\r\n    }\r\n```","title":"Java Fair Reentrant lock isn&#39;t fair in multiple iterations","body":"<p>The problem was in the order of acquiring the lock by tasks. The order of submitting is not quaranteed to be equal to the order of starting.\nSo I added the usage of <code>Awaitility</code> library to wait until each task is blocked by lock acquiring. Unfortunately, the test related to unfair lock doesn't pass anymore, but it is another problem.</p>\n<pre><code>   @Test\n    void should_be_fair() throws InterruptedException, ExecutionException {\n        Assertions.assertThat(wasAnyThreadUnfair(new ReentrantLock(true), 100, 5)).isFalse();\n    }\n\n    @Test\n    // TODO: doesn't pass\n    void should_be_unfair() throws InterruptedException, ExecutionException {\n        Assertions.assertThat(wasAnyThreadUnfair(new ReentrantLock(false), 100, 5)).isTrue();\n    }\n\n    private boolean wasAnyThreadUnfair(ReentrantLock lock, int iterationsCount, int waitingThreadsCount)\n            throws InterruptedException {\n        Semaphore unlockingSemaphore = new Semaphore(1);\n        boolean wasAnyThreadUnfair = false;\n\n        for (int i = 0; i &lt; iterationsCount; i++) {\n            unlockingSemaphore.acquire();\n            ThreadPoolExecutor executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(waitingThreadsCount + 1);\n            Future&lt;?&gt; lockingFuture = executor.submit(() -&gt; {\n                try {\n                    lock.lock();\n                    unlockingSemaphore.acquire();\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                } finally {\n                    unlockingSemaphore.release();\n                    lock.unlock();\n                }\n            });\n            AtomicInteger sharedState = new AtomicInteger();\n            List&lt;Future&lt;Integer&gt;&gt; futures = IntStream.rangeClosed(1, waitingThreadsCount)\n                    .mapToObj(j -&gt; {\n                        Future&lt;Integer&gt; submitted = executor.submit(() -&gt; {\n                            try {\n                                lock.lock();\n                                System.out.println(&quot;Acquiring lock for j=&quot; + j);\n                                return sharedState.updateAndGet((k) -&gt; j);\n                            } finally {\n                                lock.unlock();\n                            }\n                        });\n                        await().atMost(150, TimeUnit.MILLISECONDS).until(() -&gt; lock.getQueueLength() == j);\n                        return submitted;\n                    })\n                    .toList();\n            unlockingSemaphore.release();\n            executor.shutdown();\n            executor.awaitTermination(1, TimeUnit.SECONDS);\n            System.out.println(&quot;Ended &quot; + i + &quot;-th cycle with the last index=&quot; + sharedState.get());\n            if (sharedState.get() != waitingThreadsCount) {\n                wasAnyThreadUnfair = true;\n                break;\n            }\n        }\n\n        return wasAnyThreadUnfair;\n    }\n</code></pre>\n"}],"owner":{"account_id":19406175,"reputation":91,"user_id":14191589,"display_name":"Andrey Mironov"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1689304086,"creation_date":1689260466,"question_id":76680854,"body_markdown":"I am trying to write a test, in which I want to demonstrate the difference between fair and unfair Reentrant locks.\r\nThe test uses `ThreadPoolExecutor` and consists of multiple iterations, each of which has the following steps: \r\n1. Create a fair lock to test and semaphore with 1 permit to manage the time of releasing the lock.\r\n2. Acquire the semaphore.\r\n3. Submit a task, which acquires the lock, and waits for semaphore to release.\r\n3. Submit multiple &quot;enumerated&quot; tasks, each of which tries to acquire the lock and then updates the shared `AtomicInteger` state.\r\n4. Release the semaphore and wait for all tasks to finish.\r\n\r\nSo for the fair lock the final value of shared state have to be equal to the index of the last task.\r\nBut the test fails in ~ 50% of all executions.\r\n\r\nMy code looks like this:\r\n \r\n```\r\n    @Test\r\n    void should_be_fair() throws InterruptedException, ExecutionException {\r\n        int iterationsCount = 100;\r\n        int waitingThreadsCount = 5;\r\n\r\n        ReentrantLock lock = new ReentrantLock(true);\r\n        Semaphore unlockingSemaphore = new Semaphore(1);\r\n        boolean wasAnyThreadUnfair = false;\r\n\r\n        for (int i = 0; i &lt; iterationsCount; i++) {\r\n            unlockingSemaphore.acquire();\r\n            ThreadPoolExecutor executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(waitingThreadsCount + 1);\r\n            Future&lt;?&gt; lockingFuture = executor.submit(() -&gt; {\r\n                try {\r\n                    lock.lock();\r\n                    unlockingSemaphore.acquire();\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                } finally {\r\n                    unlockingSemaphore.release();\r\n                    lock.unlock();\r\n                }\r\n            });\r\n            AtomicInteger sharedState = new AtomicInteger();\r\n            List&lt;Future&lt;Integer&gt;&gt; futures = IntStream.rangeClosed(1, waitingThreadsCount)\r\n                    .sequential()\r\n                    .mapToObj(j -&gt; executor.submit(() -&gt; {\r\n                        try {\r\n                            lock.lock();\r\n                            System.out.println(&quot;Acquiring lock for j=&quot; + j);\r\n                            return sharedState.updateAndGet((k) -&gt; j);\r\n                        } finally {\r\n                            lock.unlock();\r\n                        }\r\n                    }))\r\n                    .toList();\r\n            unlockingSemaphore.release();\r\n            lockingFuture.get();\r\n            futures.forEach(f -&gt; {\r\n                try {\r\n                    f.get();\r\n                } catch (InterruptedException | ExecutionException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            });\r\n            executor.shutdown();\r\n            System.out.println(&quot;Ended &quot; + i + &quot;-th cycle with the last index=&quot; + sharedState.get());\r\n            if (sharedState.get() != waitingThreadsCount) {\r\n                wasAnyThreadUnfair = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        Assertions.assertThat(wasAnyThreadUnfair).isFalse();\r\n    }\r\n```\r\n\r\n**Question**:\r\n\r\nWhat&#39;s the problem with this test? What can I fix to get the test passed in 100% of executions?","title":"Java Fair Reentrant lock isn&#39;t fair in multiple iterations","body":"<p>I am trying to write a test, in which I want to demonstrate the difference between fair and unfair Reentrant locks.\nThe test uses <code>ThreadPoolExecutor</code> and consists of multiple iterations, each of which has the following steps:</p>\n<ol>\n<li>Create a fair lock to test and semaphore with 1 permit to manage the time of releasing the lock.</li>\n<li>Acquire the semaphore.</li>\n<li>Submit a task, which acquires the lock, and waits for semaphore to release.</li>\n<li>Submit multiple &quot;enumerated&quot; tasks, each of which tries to acquire the lock and then updates the shared <code>AtomicInteger</code> state.</li>\n<li>Release the semaphore and wait for all tasks to finish.</li>\n</ol>\n<p>So for the fair lock the final value of shared state have to be equal to the index of the last task.\nBut the test fails in ~ 50% of all executions.</p>\n<p>My code looks like this:</p>\n<pre><code>    @Test\n    void should_be_fair() throws InterruptedException, ExecutionException {\n        int iterationsCount = 100;\n        int waitingThreadsCount = 5;\n\n        ReentrantLock lock = new ReentrantLock(true);\n        Semaphore unlockingSemaphore = new Semaphore(1);\n        boolean wasAnyThreadUnfair = false;\n\n        for (int i = 0; i &lt; iterationsCount; i++) {\n            unlockingSemaphore.acquire();\n            ThreadPoolExecutor executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(waitingThreadsCount + 1);\n            Future&lt;?&gt; lockingFuture = executor.submit(() -&gt; {\n                try {\n                    lock.lock();\n                    unlockingSemaphore.acquire();\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                } finally {\n                    unlockingSemaphore.release();\n                    lock.unlock();\n                }\n            });\n            AtomicInteger sharedState = new AtomicInteger();\n            List&lt;Future&lt;Integer&gt;&gt; futures = IntStream.rangeClosed(1, waitingThreadsCount)\n                    .sequential()\n                    .mapToObj(j -&gt; executor.submit(() -&gt; {\n                        try {\n                            lock.lock();\n                            System.out.println(&quot;Acquiring lock for j=&quot; + j);\n                            return sharedState.updateAndGet((k) -&gt; j);\n                        } finally {\n                            lock.unlock();\n                        }\n                    }))\n                    .toList();\n            unlockingSemaphore.release();\n            lockingFuture.get();\n            futures.forEach(f -&gt; {\n                try {\n                    f.get();\n                } catch (InterruptedException | ExecutionException e) {\n                    throw new RuntimeException(e);\n                }\n            });\n            executor.shutdown();\n            System.out.println(&quot;Ended &quot; + i + &quot;-th cycle with the last index=&quot; + sharedState.get());\n            if (sharedState.get() != waitingThreadsCount) {\n                wasAnyThreadUnfair = true;\n                break;\n            }\n        }\n\n        Assertions.assertThat(wasAnyThreadUnfair).isFalse();\n    }\n</code></pre>\n<p><strong>Question</strong>:</p>\n<p>What's the problem with this test? What can I fix to get the test passed in 100% of executions?</p>\n"},{"tags":["java","parsing","char","int","parseint"],"answers":[{"comments":[{"owner":{"account_id":2682534,"reputation":864,"user_id":2317585,"display_name":"John Gilmer"},"score":0,"creation_date":1667209856,"post_id":4968343,"comment_id":131108180,"body_markdown":"Java 8 added a method `Character.digit(char ch, int radix)`.If you want to constrain yourself to digits 0-9 you could write `int x = Character.digit(element.charAt(2), 10);`","body":"Java 8 added a method <code>Character.digit(char ch, int radix)</code>.If you want to constrain yourself to digits 0-9 you could write <code>int x = Character.digit(element.charAt(2), 10);</code>"}],"tags":[],"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"comment_count":1,"down_vote_count":0,"up_vote_count":476,"is_accepted":true,"score":476,"last_activity_date":1525062254,"creation_date":1297422794,"answer_id":4968343,"question_id":4968323,"body_markdown":"Try [`Character.getNumericValue(char)`](   http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#getNumericValue(char)).\r\n\r\n    String element = &quot;el5&quot;;\r\n    int x = Character.getNumericValue(element.charAt(2));\r\n    System.out.println(&quot;x=&quot; + x);\r\n\r\nproduces:\r\n\r\n    x=5\r\n\r\nThe nice thing about `getNumericValue(char)` is that it also works with strings like `&quot;el٥&quot;` and `&quot;el५&quot;` where `٥` and `५` are the digits 5 in Eastern Arabic and Hindi/Sanskrit respectively. ","title":"Java: parse int value from a char","body":"<p>Try <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#getNumericValue(char)\" rel=\"noreferrer\"><code>Character.getNumericValue(char)</code></a>.</p>\n\n<pre><code>String element = \"el5\";\nint x = Character.getNumericValue(element.charAt(2));\nSystem.out.println(\"x=\" + x);\n</code></pre>\n\n<p>produces:</p>\n\n<pre><code>x=5\n</code></pre>\n\n<p>The nice thing about <code>getNumericValue(char)</code> is that it also works with strings like <code>\"el٥\"</code> and <code>\"el५\"</code> where <code>٥</code> and <code>५</code> are the digits 5 in Eastern Arabic and Hindi/Sanskrit respectively. </p>\n"},{"comments":[{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":7,"creation_date":1297423334,"post_id":4968376,"comment_id":5545489,"body_markdown":"Try that with the string `&quot;el५&quot;` where `५` is the digit 5 in India. :)","body":"Try that with the string <code>&quot;el५&quot;</code> where <code>५</code> is the digit 5 in India. :)"},{"owner":{"account_id":237493,"reputation":11836,"user_id":505714,"accept_rate":87,"display_name":"Alexis Dufrenoy"},"score":3,"creation_date":1297423597,"post_id":4968376,"comment_id":5545543,"body_markdown":"I&#39;m sure you worked hard to find this example... :-) Ok, if you have to parse non-arab digits, avoid this method. Like I said, it&#39;s rough. But it&#39;s still the fastest method in the 99.999% of cases where it works.","body":"I&#39;m sure you worked hard to find this example... :-) Ok, if you have to parse non-arab digits, avoid this method. Like I said, it&#39;s rough. But it&#39;s still the fastest method in the 99.999% of cases where it works."},{"owner":{"account_id":978127,"reputation":6162,"user_id":998537,"accept_rate":38,"display_name":"Istiaque Ahmed"},"score":0,"creation_date":1489918599,"post_id":4968376,"comment_id":72872757,"body_markdown":"@AlexisDufrenoy, why should subtracting character `&#39;0&#39;` return the integer value ?","body":"@AlexisDufrenoy, why should subtracting character <code>&#39;0&#39;</code> return the integer value ?"},{"owner":{"account_id":1586198,"reputation":333,"user_id":1470496,"accept_rate":100,"display_name":"WHDeveloper"},"score":1,"creation_date":1490098152,"post_id":4968376,"comment_id":72950686,"body_markdown":"Look at the values from the ASCII table char &#39;9&#39; = int 57, char &#39;0&#39; = int 48, this results in &#39;9&#39; - &#39;0&#39; = 57 - 48 = 9","body":"Look at the values from the ASCII table char &#39;9&#39; = int 57, char &#39;0&#39; = int 48, this results in &#39;9&#39; - &#39;0&#39; = 57 - 48 = 9"},{"owner":{"account_id":4562312,"reputation":8142,"user_id":3704297,"accept_rate":100,"display_name":"omikes"},"score":1,"creation_date":1533659355,"post_id":4968376,"comment_id":90423761,"body_markdown":"works like a charm. lol @ counterexample and all the indians who copied your answer. the irony.","body":"works like a charm. lol @ counterexample and all the indians who copied your answer. the irony."}],"tags":[],"owner":{"account_id":237493,"reputation":11836,"user_id":505714,"accept_rate":87,"display_name":"Alexis Dufrenoy"},"comment_count":5,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1478983606,"creation_date":1297423052,"answer_id":4968376,"question_id":4968323,"body_markdown":"That&#39;s probably the best from the performance point of view, but it&#39;s rough:\r\n\r\n    String element = &quot;el5&quot;;\r\n    String s;\r\n    int x = element.charAt(2)-&#39;0&#39;;\r\n\r\nIt works if you assume your character is a digit, and only in languages always using Unicode, like Java...","title":"Java: parse int value from a char","body":"<p>That's probably the best from the performance point of view, but it's rough:</p>\n\n<pre><code>String element = \"el5\";\nString s;\nint x = element.charAt(2)-'0';\n</code></pre>\n\n<p>It works if you assume your character is a digit, and only in languages always using Unicode, like Java...</p>\n"},{"comments":[{"owner":{"account_id":6075179,"reputation":977,"user_id":4742773,"accept_rate":89,"display_name":"Ignacio Chiazzo"},"score":1,"creation_date":1471994193,"post_id":21441921,"comment_id":65571392,"body_markdown":"What is the reason about that? the result is the substraction between the &#39;0&#39; in the ASCI and the char in the asci???","body":"What is the reason about that? the result is the substraction between the &#39;0&#39; in the ASCI and the char in the asci???"},{"owner":{"account_id":2608392,"reputation":1935,"user_id":2259057,"accept_rate":78,"display_name":"Kevin Van Ryckegem"},"score":13,"creation_date":1494681372,"post_id":21441921,"comment_id":74938496,"body_markdown":"@msj Because the values of `&#39;0&#39;, &#39;1&#39;, &#39;2&#39;, ...` in ascii are ascending. So e.g. &#39;0&#39; in ascii is 48, &#39;1&#39; is 49, etc. So if you take `&#39;2&#39; - &#39;0&#39;` you really just get `50 - 48 = 2`. Have a look at an ASCII table in order to understand this principle better. Also, `&#39;x&#39;` means get the ascii value of the character in Java.","body":"@msj Because the values of <code>&#39;0&#39;, &#39;1&#39;, &#39;2&#39;, ...</code> in ascii are ascending. So e.g. &#39;0&#39; in ascii is 48, &#39;1&#39; is 49, etc. So if you take <code>&#39;2&#39; - &#39;0&#39;</code> you really just get <code>50 - 48 = 2</code>. Have a look at an ASCII table in order to understand this principle better. Also, <code>&#39;x&#39;</code> means get the ascii value of the character in Java."},{"owner":{"account_id":3587144,"reputation":109,"user_id":2994059,"display_name":"brs"},"score":1,"creation_date":1526934778,"post_id":21441921,"comment_id":87925906,"body_markdown":"@KevinVanRyckegem thank you! I was looking for why `- &#39;0&#39;` worked...I thought it was some deep magic in how Java interpreted chars or whatever...this truly was a case of me over complicating something...","body":"@KevinVanRyckegem thank you! I was looking for why <code>- &#39;0&#39;</code> worked...I thought it was some deep magic in how Java interpreted chars or whatever...this truly was a case of me over complicating something..."},{"owner":{"account_id":1613382,"reputation":3295,"user_id":1502439,"accept_rate":40,"display_name":"Janac Meena"},"score":1,"creation_date":1589508898,"post_id":21441921,"comment_id":109329752,"body_markdown":"Although this is a neat trick, it is less readable than using `Character.getNumericValue`","body":"Although this is a neat trick, it is less readable than using <code>Character.getNumericValue</code>"}],"tags":[],"owner":{"account_id":3459654,"reputation":7788,"user_id":2897182,"accept_rate":67,"display_name":"vashishatashu"},"comment_count":4,"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1391130367,"creation_date":1391027284,"answer_id":21441921,"question_id":4968323,"body_markdown":"Try the following: \r\n\r\n    str1=&quot;2345&quot;;\r\n    int x=str1.charAt(2)-&#39;0&#39;;\r\n    //here x=4;\r\n\r\nif u subtract by char &#39;0&#39;, the ASCII value needs not to be known.\r\n\r\n \r\n\r\n","title":"Java: parse int value from a char","body":"<p>Try the following: </p>\n\n<pre><code>str1=\"2345\";\nint x=str1.charAt(2)-'0';\n//here x=4;\n</code></pre>\n\n<p>if u subtract by char '0', the ASCII value needs not to be known.</p>\n"},{"tags":[],"owner":{"account_id":6148508,"reputation":61,"user_id":4793700,"display_name":"John McDonald"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1508468403,"creation_date":1429647904,"answer_id":29782431,"question_id":4968323,"body_markdown":"    String a = &quot;jklmn489pjro635ops&quot;;\r\n\r\n\tint sum = 0;\r\n\r\n\tString num = &quot;&quot;;\r\n\t\r\n\tboolean notFirst = false;\r\n\r\n\tfor (char c : a.toCharArray()) {\r\n\t\t\r\n\t\tif (Character.isDigit(c)) {\r\n\t\t\tsum = sum + Character.getNumericValue(c);\r\n\t\t\tSystem.out.print((notFirst? &quot; + &quot; : &quot;&quot;) + c);\r\n\t\t\tnotFirst = true;\r\n\t\t}\r\n\t}\r\n\r\n\tSystem.out.println(&quot; = &quot; + sum);","title":"Java: parse int value from a char","body":"<pre><code>String a = \"jklmn489pjro635ops\";\n\nint sum = 0;\n\nString num = \"\";\n\nboolean notFirst = false;\n\nfor (char c : a.toCharArray()) {\n\n    if (Character.isDigit(c)) {\n        sum = sum + Character.getNumericValue(c);\n        System.out.print((notFirst? \" + \" : \"\") + c);\n        notFirst = true;\n    }\n}\n\nSystem.out.println(\" = \" + sum);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6841927,"reputation":161,"user_id":5262024,"display_name":"Miniraj Shrivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1440452949,"creation_date":1440451750,"answer_id":32192034,"question_id":4968323,"body_markdown":"By simply subtracting by char &#39;0&#39;(zero) a char (of digit &#39;0&#39; to &#39;9&#39;) can be converted into int(0 to 9), e.g., &#39;5&#39;-&#39;0&#39; gives int 5.\r\n\r\n    String str = &quot;123&quot;;\r\n    \r\n    int a=str.charAt(1)-&#39;0&#39;;","title":"Java: parse int value from a char","body":"<p>By simply subtracting by char '0'(zero) a char (of digit '0' to '9') can be converted into int(0 to 9), e.g., '5'-'0' gives int 5.</p>\n\n<pre><code>String str = \"123\";\n\nint a=str.charAt(1)-'0';\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6270533,"reputation":5750,"user_id":4874920,"display_name":"Andriy Tolstoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548174009,"creation_date":1548168740,"answer_id":54310864,"question_id":4968323,"body_markdown":"Using binary ```AND``` with ```0b1111```:   \r\n    \r\n    String element = &quot;el5&quot;;\r\n                \r\n    char c = element.charAt(2);\r\n                \r\n    System.out.println(c &amp; 0b1111); // =&gt; &#39;5&#39; &amp; 0b1111 =&gt; 0b0011_0101 &amp; 0b0000_1111 =&gt; 5\r\n\r\n    // &#39;0&#39; &amp; 0b1111 =&gt; 0b0011_0000 &amp; 0b0000_1111 =&gt; 0\r\n    // &#39;1&#39; &amp; 0b1111 =&gt; 0b0011_0001 &amp; 0b0000_1111 =&gt; 1\r\n    // &#39;2&#39; &amp; 0b1111 =&gt; 0b0011_0010 &amp; 0b0000_1111 =&gt; 2\r\n    // &#39;3&#39; &amp; 0b1111 =&gt; 0b0011_0011 &amp; 0b0000_1111 =&gt; 3\r\n    // &#39;4&#39; &amp; 0b1111 =&gt; 0b0011_0100 &amp; 0b0000_1111 =&gt; 4\r\n    // &#39;5&#39; &amp; 0b1111 =&gt; 0b0011_0101 &amp; 0b0000_1111 =&gt; 5\r\n    // &#39;6&#39; &amp; 0b1111 =&gt; 0b0011_0110 &amp; 0b0000_1111 =&gt; 6\r\n    // &#39;7&#39; &amp; 0b1111 =&gt; 0b0011_0111 &amp; 0b0000_1111 =&gt; 7\r\n    // &#39;8&#39; &amp; 0b1111 =&gt; 0b0011_1000 &amp; 0b0000_1111 =&gt; 8\r\n    // &#39;9&#39; &amp; 0b1111 =&gt; 0b0011_1001 &amp; 0b0000_1111 =&gt; 9","title":"Java: parse int value from a char","body":"<p>Using binary <code>AND</code> with <code>0b1111</code>:   </p>\n\n<pre><code>String element = \"el5\";\n\nchar c = element.charAt(2);\n\nSystem.out.println(c &amp; 0b1111); // =&gt; '5' &amp; 0b1111 =&gt; 0b0011_0101 &amp; 0b0000_1111 =&gt; 5\n\n// '0' &amp; 0b1111 =&gt; 0b0011_0000 &amp; 0b0000_1111 =&gt; 0\n// '1' &amp; 0b1111 =&gt; 0b0011_0001 &amp; 0b0000_1111 =&gt; 1\n// '2' &amp; 0b1111 =&gt; 0b0011_0010 &amp; 0b0000_1111 =&gt; 2\n// '3' &amp; 0b1111 =&gt; 0b0011_0011 &amp; 0b0000_1111 =&gt; 3\n// '4' &amp; 0b1111 =&gt; 0b0011_0100 &amp; 0b0000_1111 =&gt; 4\n// '5' &amp; 0b1111 =&gt; 0b0011_0101 &amp; 0b0000_1111 =&gt; 5\n// '6' &amp; 0b1111 =&gt; 0b0011_0110 &amp; 0b0000_1111 =&gt; 6\n// '7' &amp; 0b1111 =&gt; 0b0011_0111 &amp; 0b0000_1111 =&gt; 7\n// '8' &amp; 0b1111 =&gt; 0b0011_1000 &amp; 0b0000_1111 =&gt; 8\n// '9' &amp; 0b1111 =&gt; 0b0011_1001 &amp; 0b0000_1111 =&gt; 9\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2375051,"reputation":7605,"user_id":2078672,"accept_rate":20,"display_name":"Saurabh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562821113,"creation_date":1562821113,"answer_id":56981877,"question_id":4968323,"body_markdown":"    String element = &quot;el5&quot;;\r\n    int x = element.charAt(2) - 48;\r\n\r\nSubtracting ascii value of &#39;0&#39; = 48 from char","title":"Java: parse int value from a char","body":"<pre><code>String element = \"el5\";\nint x = element.charAt(2) - 48;\n</code></pre>\n\n<p>Subtracting ascii value of '0' = 48 from char</p>\n"},{"tags":[],"owner":{"account_id":6744132,"reputation":4057,"user_id":5196286,"display_name":"Zgpeace"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633647979,"creation_date":1633647979,"answer_id":69488721,"question_id":4968323,"body_markdown":"Integer: The Integer or int data type is a 32-bit signed two’s complement integer. Its value-range lies between – 2,147,483,648 (-2^31) to 2,147,483,647 (2^31 -1) (inclusive). Its minimum value is – 2,147,483,648 and maximum value is 2,147,483,647. Its default value is 0. The int data type is generally used as a default data type for integral values unless there is no problem with memory.\r\n\r\n    Example: int a = 10\r\n\r\nCharacter: The char data type is a single 16-bit Unicode character. Its value-range lies between ‘\\u0000’ (or 0) to ‘\\uffff’ (or 65,535 inclusive).The char data type is used to store characters.\r\n\r\n    Example: char ch = &#39;c&#39;\r\n\r\nApproaches\r\nThere are numerous approaches to do the conversion of Char datatype to Integer (int) datatype. A few of them are listed below.\r\n\r\n* Using ASCII Values\r\n* Using String.valueOf() Method\r\n* Using Character.getNumericValue() Method\r\n# 1. Using ASCII values \r\nThis method uses TypeCasting to get the ASCII value of the given character. The respective integer is calculated from this ASCII value by subtracting it from the ASCII value of 0. In other words, this method converts the char to int by finding the difference between the ASCII value of this char and the ASCII value of 0.\r\n\r\nExample:\r\n\r\n\r\n    // Java program to convert\r\n    // char to int using ASCII value\r\n      \r\n    class GFG {\r\n        public static void main(String[] args)\r\n        {\r\n      \r\n            // Initializing a character(ch)\r\n            char ch = &#39;3&#39;;\r\n            System.out.println(&quot;char value: &quot; + ch);\r\n      \r\n            // Converting ch to it&#39;s int value\r\n            int a = ch - &#39;0&#39;;\r\n            System.out.println(&quot;int value: &quot; + a);\r\n        }\r\n    }\r\n\r\nOutput\r\n\r\n    char value: 3\r\n    int value: 3\r\n\r\n# 2. Using String.valueOf() method\r\nThe method valueOf() of class String can convert various types of values to a String value. It can convert int, char, long, boolean, float, double, object, and char array to String, which can be converted to an int value by using the Integer.parseInt() method.  The below program illustrates the use of the valueOf() method.\r\n\r\nExample: \r\n\r\n\r\n    // Java program to convert\r\n    // char to int using String.valueOf()\r\n      \r\n    class GFG {\r\n        public static void main(String[] args)\r\n        {\r\n            // Initializing a character(ch)\r\n            char ch = &#39;3&#39;;\r\n            System.out.println(&quot;char value: &quot; + ch);\r\n      \r\n            // Converting the character to it&#39;s int value\r\n            int a = Integer.parseInt(String.valueOf(ch));\r\n            System.out.println(&quot;int value: &quot; + a);\r\n        }\r\n    }\r\n\r\nOutput\r\n\r\n    char value: 3\r\n    int value: 3\r\n\r\n# 3. Using Character.getNumericValue() method \r\nThe getNumericValue() method of class Character is used to get the integer value of any specific character. For example, the character ‘9’ will return an int having a value of 9. The below program illustrates the use of getNumericValue() method.\r\n\r\nExample: \r\n\r\n\r\n    // Java program to convert char to int\r\n    // using Character.getNumericValue()\r\n      \r\n    class GFG {\r\n        public static void main(String[] args)\r\n        {\r\n      \r\n            // Initializing a character(ch)\r\n            char ch = &#39;3&#39;;\r\n            System.out.println(&quot;char value: &quot; + ch);\r\n      \r\n            // Converting the Character to it&#39;s int value\r\n            int a = Character.getNumericValue(ch);\r\n            System.out.println(&quot;int value: &quot; + a);\r\n        }\r\n    }\r\n\r\nOutput\r\n\r\n    char value: 3\r\n    int value: 3\r\n\r\n\r\nref: https://www.geeksforgeeks.org/java-program-to-convert-char-to-int/","title":"Java: parse int value from a char","body":"<p>Integer: The Integer or int data type is a 32-bit signed two’s complement integer. Its value-range lies between – 2,147,483,648 (-2^31) to 2,147,483,647 (2^31 -1) (inclusive). Its minimum value is – 2,147,483,648 and maximum value is 2,147,483,647. Its default value is 0. The int data type is generally used as a default data type for integral values unless there is no problem with memory.</p>\n<pre><code>Example: int a = 10\n</code></pre>\n<p>Character: The char data type is a single 16-bit Unicode character. Its value-range lies between ‘\\u0000’ (or 0) to ‘\\uffff’ (or 65,535 inclusive).The char data type is used to store characters.</p>\n<pre><code>Example: char ch = 'c'\n</code></pre>\n<p>Approaches\nThere are numerous approaches to do the conversion of Char datatype to Integer (int) datatype. A few of them are listed below.</p>\n<ul>\n<li>Using ASCII Values</li>\n<li>Using String.valueOf() Method</li>\n<li>Using Character.getNumericValue() Method</li>\n</ul>\n<h1>1. Using ASCII values</h1>\n<p>This method uses TypeCasting to get the ASCII value of the given character. The respective integer is calculated from this ASCII value by subtracting it from the ASCII value of 0. In other words, this method converts the char to int by finding the difference between the ASCII value of this char and the ASCII value of 0.</p>\n<p>Example:</p>\n<pre><code>// Java program to convert\n// char to int using ASCII value\n  \nclass GFG {\n    public static void main(String[] args)\n    {\n  \n        // Initializing a character(ch)\n        char ch = '3';\n        System.out.println(&quot;char value: &quot; + ch);\n  \n        // Converting ch to it's int value\n        int a = ch - '0';\n        System.out.println(&quot;int value: &quot; + a);\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>char value: 3\nint value: 3\n</code></pre>\n<h1>2. Using String.valueOf() method</h1>\n<p>The method valueOf() of class String can convert various types of values to a String value. It can convert int, char, long, boolean, float, double, object, and char array to String, which can be converted to an int value by using the Integer.parseInt() method.  The below program illustrates the use of the valueOf() method.</p>\n<p>Example:</p>\n<pre><code>// Java program to convert\n// char to int using String.valueOf()\n  \nclass GFG {\n    public static void main(String[] args)\n    {\n        // Initializing a character(ch)\n        char ch = '3';\n        System.out.println(&quot;char value: &quot; + ch);\n  \n        // Converting the character to it's int value\n        int a = Integer.parseInt(String.valueOf(ch));\n        System.out.println(&quot;int value: &quot; + a);\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>char value: 3\nint value: 3\n</code></pre>\n<h1>3. Using Character.getNumericValue() method</h1>\n<p>The getNumericValue() method of class Character is used to get the integer value of any specific character. For example, the character ‘9’ will return an int having a value of 9. The below program illustrates the use of getNumericValue() method.</p>\n<p>Example:</p>\n<pre><code>// Java program to convert char to int\n// using Character.getNumericValue()\n  \nclass GFG {\n    public static void main(String[] args)\n    {\n  \n        // Initializing a character(ch)\n        char ch = '3';\n        System.out.println(&quot;char value: &quot; + ch);\n  \n        // Converting the Character to it's int value\n        int a = Character.getNumericValue(ch);\n        System.out.println(&quot;int value: &quot; + a);\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>char value: 3\nint value: 3\n</code></pre>\n<p>ref: <a href=\"https://www.geeksforgeeks.org/java-program-to-convert-char-to-int/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/java-program-to-convert-char-to-int/</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634002565,"creation_date":1634001116,"answer_id":69534015,"question_id":4968323,"body_markdown":"# tl;dr\r\n\r\n    Integer.parseInt( Character.toString( &quot;el5&quot;.codePoints().toArray()[ 2 ] ) )\r\n\r\nOr, reformatted:\r\n\r\n    Integer\r\n    .parseInt(               // Parses a `String` object whose content is characters that represent digits.\r\n        Character\r\n        .toString(           // Converts a code point integer number into a string containing a single character, the character assigned to that number. \r\n            &quot;el5&quot;            // A `String` object.\r\n            .codePoints()    // Returns an `IntStream`, a stream of each characters code point number assigned by the Unicode Consortium.\r\n            .toArray()       // Converts the stream of `int` values to an array, `int[]`. \r\n            [ 2 ]            // Returns an `int`, a code point number. For digit `5` the value here would be 53. \r\n        )                    // Returns a `String`, &quot;5&quot;. \r\n    )                        // Returns an `int`, `5`. \r\n\r\nSee this [code run live at IdeOne.com][1].\r\n\r\n&gt;5\r\n\r\n\r\n# `char` is legacy\r\n\r\nAvoid using `char`. This type was legacy as of Java 2, essentially broken. As a 16-bit value, the `char`/`Character` type cannot represent most characters.\r\n\r\nSo, avoid calling `element.charAt(2)`. And avoid the single-quote literal such as `&#39;5&#39;`. \r\n\r\n# Code point\r\n\r\nInstead, use [code point][2] integer numbers. \r\n\r\nEvery one of the [over 140,000][3] characters defined in [Unicode][4] is assigned permanently an identifying number. Those numbers range from zero to just over a million.\r\n\r\nYou can get a stream of all the code point numbers, an [`IntStream`][5]. \r\n\r\n    String element = &quot;el5&#128567;&quot;; \r\n    IntStream stream = element.codePoints() ;\r\n\r\nYou can turn that into an array.\r\n\r\n    int[] codePoints = element.codePoints().toArray() ;\r\n\r\nThen access that array.\r\n\r\n    String out3 = &quot;Third character: &quot; + Character.toString( codePoints[2] ) + &quot; | Code point: &quot; + codePoints[2] + &quot; | Named: &quot; + Character.getName( codePoints[2] ) ;\r\n    String out4 = &quot;Fourth character: &quot; + Character.toString( codePoints[3] ) + &quot; | Code point: &quot; + codePoints[3] + &quot; | Named: &quot; + Character.getName( codePoints[3] ) ;\r\n\r\n    System.out.println( out3 ) ;\r\n    System.out.println( out4 ) ;\r\n\r\nSee this [code run live at IdeOne.com][1]. \r\n\r\n&gt;Third character: 5 | Code point: 53 | Named: DIGIT FIVE\r\n&gt;\r\n&gt;Fourth character: &#128567; | Code point: 128567 | Named: FACE WITH MEDICAL MASK\r\n\r\nYou can test to see if the code point represents [a character that is a digit][6]. \r\n\r\n    if( Character.isDigit( codePoints[2] ) )\r\n    {\r\n        String digit = Character.toString( codePoints[2] ) ;\r\n        int i = Integer.parseInt( digit ) ;  // Parse the character `5` as a `int` integer number. \r\n    }\r\n\r\n\r\n  [1]: https://ideone.com/T3kTZ4\r\n  [2]: https://en.wikipedia.org/wiki/Code_point\r\n  [3]: https://en.wikipedia.org/wiki/Unicode#Versions\r\n  [4]: https://en.wikipedia.org/wiki/Unicode\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#isDigit(int)","title":"Java: parse int value from a char","body":"<h1>tl;dr</h1>\n<pre><code>Integer.parseInt( Character.toString( &quot;el5&quot;.codePoints().toArray()[ 2 ] ) )\n</code></pre>\n<p>Or, reformatted:</p>\n<pre><code>Integer\n.parseInt(               // Parses a `String` object whose content is characters that represent digits.\n    Character\n    .toString(           // Converts a code point integer number into a string containing a single character, the character assigned to that number. \n        &quot;el5&quot;            // A `String` object.\n        .codePoints()    // Returns an `IntStream`, a stream of each characters code point number assigned by the Unicode Consortium.\n        .toArray()       // Converts the stream of `int` values to an array, `int[]`. \n        [ 2 ]            // Returns an `int`, a code point number. For digit `5` the value here would be 53. \n    )                    // Returns a `String`, &quot;5&quot;. \n)                        // Returns an `int`, `5`. \n</code></pre>\n<p>See this <a href=\"https://ideone.com/T3kTZ4\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>5</p>\n</blockquote>\n<h1><code>char</code> is legacy</h1>\n<p>Avoid using <code>char</code>. This type was legacy as of Java 2, essentially broken. As a 16-bit value, the <code>char</code>/<code>Character</code> type cannot represent most characters.</p>\n<p>So, avoid calling <code>element.charAt(2)</code>. And avoid the single-quote literal such as <code>'5'</code>.</p>\n<h1>Code point</h1>\n<p>Instead, use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integer numbers.</p>\n<p>Every one of the <a href=\"https://en.wikipedia.org/wiki/Unicode#Versions\" rel=\"nofollow noreferrer\">over 140,000</a> characters defined in <a href=\"https://en.wikipedia.org/wiki/Unicode\" rel=\"nofollow noreferrer\">Unicode</a> is assigned permanently an identifying number. Those numbers range from zero to just over a million.</p>\n<p>You can get a stream of all the code point numbers, an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\"><code>IntStream</code></a>.</p>\n<pre><code>String element = &quot;el5😷&quot;; \nIntStream stream = element.codePoints() ;\n</code></pre>\n<p>You can turn that into an array.</p>\n<pre><code>int[] codePoints = element.codePoints().toArray() ;\n</code></pre>\n<p>Then access that array.</p>\n<pre><code>String out3 = &quot;Third character: &quot; + Character.toString( codePoints[2] ) + &quot; | Code point: &quot; + codePoints[2] + &quot; | Named: &quot; + Character.getName( codePoints[2] ) ;\nString out4 = &quot;Fourth character: &quot; + Character.toString( codePoints[3] ) + &quot; | Code point: &quot; + codePoints[3] + &quot; | Named: &quot; + Character.getName( codePoints[3] ) ;\n\nSystem.out.println( out3 ) ;\nSystem.out.println( out4 ) ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/T3kTZ4\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>Third character: 5 | Code point: 53 | Named: DIGIT FIVE</p>\n<p>Fourth character: 😷 | Code point: 128567 | Named: FACE WITH MEDICAL MASK</p>\n</blockquote>\n<p>You can test to see if the code point represents <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#isDigit(int)\" rel=\"nofollow noreferrer\">a character that is a digit</a>.</p>\n<pre><code>if( Character.isDigit( codePoints[2] ) )\n{\n    String digit = Character.toString( codePoints[2] ) ;\n    int i = Integer.parseInt( digit ) ;  // Parse the character `5` as a `int` integer number. \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689303765,"creation_date":1689303765,"answer_id":76684441,"question_id":4968323,"body_markdown":"The [`Character.digit`](https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#digit-char-int-) method can be used for this. The first argument is the `char` or `int` codepoint and the second is the radix.\r\n\r\n```java\r\nchar c = &#39;5&#39;;\r\nint x = Character.digit(c, 10); // result: 5\r\n```","title":"Java: parse int value from a char","body":"<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#digit-char-int-\" rel=\"nofollow noreferrer\"><code>Character.digit</code></a> method can be used for this. The first argument is the <code>char</code> or <code>int</code> codepoint and the second is the radix.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char c = '5';\nint x = Character.digit(c, 10); // result: 5\n</code></pre>\n"}],"owner":{"account_id":157983,"reputation":3879,"user_id":376288,"accept_rate":100,"display_name":"Noya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":579698,"favorite_count":0,"down_vote_count":0,"up_vote_count":251,"accepted_answer_id":4968343,"answer_count":10,"score":251,"last_activity_date":1689303765,"creation_date":1297422669,"question_id":4968323,"body_markdown":"I just want to know if there&#39;s a better solution to parse a number from a character in a string (assuming that we know that the character at index n is a number).\r\n\r\n    String element = &quot;el5&quot;;\r\n    String s;\r\n    s = &quot;&quot;+element.charAt(2);\r\n    int x = Integer.parseInt(s);\r\n    \r\n    //result: x = 5\r\n\r\n(useless to say that it&#39;s just an example)","title":"Java: parse int value from a char","body":"<p>I just want to know if there's a better solution to parse a number from a character in a string (assuming that we know that the character at index n is a number).</p>\n\n<pre><code>String element = \"el5\";\nString s;\ns = \"\"+element.charAt(2);\nint x = Integer.parseInt(s);\n\n//result: x = 5\n</code></pre>\n\n<p>(useless to say that it's just an example)</p>\n"},{"tags":["java","maven","junit","java-8","java-17"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1689276718,"post_id":76682673,"comment_id":135194637,"body_markdown":"please post the full pom file here....","body":"please post the full pom file here...."}],"owner":{"account_id":29012551,"reputation":11,"user_id":22223734,"display_name":"Atak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689303447,"creation_date":1689276575,"question_id":76682673,"body_markdown":"Upgrading a project from jdk 8 to jdk 17.. When I run mvn clean install on a project, it fails with the error &quot;class file for org.junit.rules.TestRule not found.&quot; There are no direct imports of this junit class within the directory that is failing, and the TestRule interface doesnt even seem to be used within the entire service. The junit dependency was defined in the pom.xml for the project. \r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    &lt;version&gt;4.12&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nand the line of the failure doesn&#39;t seem very related: mongodExecutable.withExposedPorts(port);\r\n\r\nSome other dependencies: \r\n \r\nMaven compiler plugin is v3.5.1. \r\norg.testcontainers dependency at v1.16.3\r\n\r\n\r\nHave tried altering junit versioning in both files, as well as updating the surefire dependency to 3.0.0-M5 which I saw on another post. Have searched for possible deprecation in the libraries within the file that fails, as well as conflicts between older versions of dependencies/plugins and jdk 17.","title":"&quot;class file for org.junit.rules.TestRule not found&quot; Despite Junit being defined in pom.xml","body":"<p>Upgrading a project from jdk 8 to jdk 17.. When I run mvn clean install on a project, it fails with the error &quot;class file for org.junit.rules.TestRule not found.&quot; There are no direct imports of this junit class within the directory that is failing, and the TestRule interface doesnt even seem to be used within the entire service. The junit dependency was defined in the pom.xml for the project.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.12&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and the line of the failure doesn't seem very related: mongodExecutable.withExposedPorts(port);</p>\n<p>Some other dependencies:</p>\n<p>Maven compiler plugin is v3.5.1.\norg.testcontainers dependency at v1.16.3</p>\n<p>Have tried altering junit versioning in both files, as well as updating the surefire dependency to 3.0.0-M5 which I saw on another post. Have searched for possible deprecation in the libraries within the file that fails, as well as conflicts between older versions of dependencies/plugins and jdk 17.</p>\n"},{"tags":["java","hibernate","hql"],"answers":[{"comments":[{"owner":{"account_id":67159,"reputation":81,"user_id":196672,"display_name":"shlsevencee"},"score":0,"creation_date":1279304146,"post_id":3267254,"comment_id":3379782,"body_markdown":"I&#39;m using PostgreSQL, so http://bit.ly/9ObRdJ is more appropriate. That&#39;s got me looking...\n\n&quot;expression IN (value [, ...])\n\nThe right-hand side is a parenthesized list of scalar expressions.&quot;\n\n&quot;expression operator ANY (array expression)\n\nThe right-hand side is a parenthesized expression, which must yield an array value.&quot;\n\nperhaps if I modify this:\n    return session.createQuery(hql).setParameterList(&quot;patIds&quot;, patIds).list();\nto this:\n    return session.createQuery(hql).setParameterList(&quot;patIds&quot;, patIds.toArray()).list();\n\n...it will work? Nope. Same error. Hmm","body":"I&#39;m using PostgreSQL, so <a href=\"http://bit.ly/9ObRdJ\" rel=\"nofollow noreferrer\">bit.ly/9ObRdJ</a> is more appropriate. That&#39;s got me looking...  &quot;expression IN (value [, ...])  The right-hand side is a parenthesized list of scalar expressions.&quot;  &quot;expression operator ANY (array expression)  The right-hand side is a parenthesized expression, which must yield an array value.&quot;  perhaps if I modify this:     return session.createQuery(hql).setParameterList(&quot;patIds&quot;, patIds).list(); to this:     return session.createQuery(hql).setParameterList(&quot;patIds&quot;, patIds.toArray()).list();  ...it will work? Nope. Same error. Hmm"},{"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"score":0,"creation_date":1279308262,"post_id":3267254,"comment_id":3380344,"body_markdown":"huh, dunno how I got mySQL in my head, must have been reading two pages at once.  Perhaps your dialect isn&#39;t set to postgres and hibernate doesn&#39;t know to do the funky ARRAY[&#39;foo&#39;,&#39;bar&#39;] thing?  you can set the hibernate.show_sql property to true or turn logging on package org.hibernate.SQL up to debug to see what it&#39;s actually sending to postgres","body":"huh, dunno how I got mySQL in my head, must have been reading two pages at once.  Perhaps your dialect isn&#39;t set to postgres and hibernate doesn&#39;t know to do the funky ARRAY[&#39;foo&#39;,&#39;bar&#39;] thing?  you can set the hibernate.show_sql property to true or turn logging on package org.hibernate.SQL up to debug to see what it&#39;s actually sending to postgres"}],"tags":[],"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1279299923,"creation_date":1279299923,"answer_id":3267254,"question_id":3267138,"body_markdown":"Not sure what you mean by wanting the functionality of &#39;any&#39; rather than &#39;in.&#39;  Every DBMS I know treats them as synonymous.\r\n\r\n= ANY is not allowed for lists in MySQL, only for subqueries.  Ostensibly you have your dialect set to MySQL and Hibernate knows this?\r\n\r\nhttp://dev.mysql.com/doc/refman/5.5/en/any-in-some-subqueries.html\r\n\r\n&gt; IN and = ANY are not synonyms when\r\n&gt; used with an expression list. IN can\r\n&gt; take an expression list, but = ANY\r\n&gt; cannot. See Section 11.3.2,\r\n&gt; “Comparison Functions and Operators”.","title":"Hibernate HQL Query : How to properly use ANY function in where clause?","body":"<p>Not sure what you mean by wanting the functionality of 'any' rather than 'in.'  Every DBMS I know treats them as synonymous.</p>\n\n<p>= ANY is not allowed for lists in MySQL, only for subqueries.  Ostensibly you have your dialect set to MySQL and Hibernate knows this?</p>\n\n<p><a href=\"http://dev.mysql.com/doc/refman/5.5/en/any-in-some-subqueries.html\" rel=\"nofollow noreferrer\">http://dev.mysql.com/doc/refman/5.5/en/any-in-some-subqueries.html</a></p>\n\n<blockquote>\n  <p>IN and = ANY are not synonyms when\n  used with an expression list. IN can\n  take an expression list, but = ANY\n  cannot. See Section 11.3.2,\n  “Comparison Functions and Operators”.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1279317437,"creation_date":1279317437,"answer_id":3269149,"question_id":3267138,"body_markdown":"As far as I know, `= ANY` is equivalent to `IN` (and I think they will be transformed into the same queries by the optimizer). From the PostgreSQL documentation:\r\n\r\n&gt; ### [9.16.4. ANY/SOME][1]\r\n&gt; \r\n&gt;     expression operator ANY (subquery)\r\n&gt;     expression operator SOME (subquery)\r\n&gt; \r\n&gt; The right-hand side is a parenthesized\r\n&gt; subquery, which must return exactly\r\n&gt; one column. The left-hand expression\r\n&gt; is evaluated and compared to each row\r\n&gt; of the subquery result using the given\r\n&gt; `operator`, which must yield a Boolean\r\n&gt; result. The result of `ANY` is &quot;true&quot;\r\n&gt; if any true result is obtained. The\r\n&gt; result is &quot;false&quot; if no true result is\r\n&gt; found (including the special case\r\n&gt; where the subquery returns no rows).\r\n&gt; \r\n&gt; `SOME` is a synonym for `ANY`. **`IN` is\r\n&gt; equivalent to `= ANY`**.\r\n\r\nSo I don&#39;t think using `= ANY` will solve your problem anyway. \r\n\r\nOf course, I don&#39;t have the context but are you sure that performing more than 2^15 `OR` comparisons really makes sense?\r\n\r\n  [1]: http://www.postgresql.org/docs/8.2/static/functions-subquery.html#AEN13969","title":"Hibernate HQL Query : How to properly use ANY function in where clause?","body":"<p>As far as I know, <code>= ANY</code> is equivalent to <code>IN</code> (and I think they will be transformed into the same queries by the optimizer). From the PostgreSQL documentation:</p>\n\n<blockquote>\n  <h3><a href=\"http://www.postgresql.org/docs/8.2/static/functions-subquery.html#AEN13969\" rel=\"nofollow noreferrer\">9.16.4. ANY/SOME</a></h3>\n\n<pre><code>expression operator ANY (subquery)\nexpression operator SOME (subquery)\n</code></pre>\n  \n  <p>The right-hand side is a parenthesized\n  subquery, which must return exactly\n  one column. The left-hand expression\n  is evaluated and compared to each row\n  of the subquery result using the given\n  <code>operator</code>, which must yield a Boolean\n  result. The result of <code>ANY</code> is \"true\"\n  if any true result is obtained. The\n  result is \"false\" if no true result is\n  found (including the special case\n  where the subquery returns no rows).</p>\n  \n  <p><code>SOME</code> is a synonym for <code>ANY</code>. <strong><code>IN</code> is\n  equivalent to <code>= ANY</code></strong>.</p>\n</blockquote>\n\n<p>So I don't think using <code>= ANY</code> will solve your problem anyway. </p>\n\n<p>Of course, I don't have the context but are you sure that performing more than 2^15 <code>OR</code> comparisons really makes sense?</p>\n"}],"owner":{"account_id":67159,"reputation":81,"user_id":196672,"display_name":"shlsevencee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9305,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1689302858,"creation_date":1279298859,"question_id":3267138,"body_markdown":"I&#39;m struggling to understand my error in an HQL query:\r\n\r\n    public List&lt;Pats&gt; getIds(List&lt;String&gt; patIds) {\r\n        Session session = getSession();\r\n        String hql = &quot;from OurPats where patId = any (:patIds)&quot;;\r\n        // String hql = &quot;from OurPats where patId in (:patIds)&quot;;\r\n        return session.createQuery(hql).setParameterList(&quot;patIds&quot;, patIds).list();\r\n    }\r\n\r\n...the commented out line works properly, but I want the functionality of the non-working ANY comparison as patIds.size() can be greater than 2^15 (causing postgresql to break).\r\n\r\nJudging from http://docs.jboss.org/hibernate/core/3.3/reference/en/html/queryhql.html the ANY function should work. In other forum questions people say not to use the elements function as is stipulated in the above link (I&#39;ve tried with elements and I get an IDENT error). The above code produces an org.hibernate.hql.ast.QuerySyntaxException: unexpected token: : error.\r\n\r\nAny ideas? Thanks for help.","title":"Hibernate HQL Query : How to properly use ANY function in where clause?","body":"<p>I'm struggling to understand my error in an HQL query:</p>\n<pre><code>public List&lt;Pats&gt; getIds(List&lt;String&gt; patIds) {\n    Session session = getSession();\n    String hql = &quot;from OurPats where patId = any (:patIds)&quot;;\n    // String hql = &quot;from OurPats where patId in (:patIds)&quot;;\n    return session.createQuery(hql).setParameterList(&quot;patIds&quot;, patIds).list();\n}\n</code></pre>\n<p>...the commented out line works properly, but I want the functionality of the non-working ANY comparison as patIds.size() can be greater than 2^15 (causing postgresql to break).</p>\n<p>Judging from <a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/queryhql.html\" rel=\"nofollow noreferrer\">http://docs.jboss.org/hibernate/core/3.3/reference/en/html/queryhql.html</a> the ANY function should work. In other forum questions people say not to use the elements function as is stipulated in the above link (I've tried with elements and I get an IDENT error). The above code produces an org.hibernate.hql.ast.QuerySyntaxException: unexpected token: : error.</p>\n<p>Any ideas? Thanks for help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1689305169,"post_id":76684349,"comment_id":135197663,"body_markdown":"NB: The linked-to answer is the first hit when you search the web for javax/xml/bind/DatatypeConverter - search the web before putting in the effort of typing up a question, saves you a lot of time :)","body":"NB: The linked-to answer is the first hit when you search the web for javax/xml/bind/DatatypeConverter - search the web before putting in the effort of typing up a question, saves you a lot of time :)"}],"owner":{"account_id":14905866,"reputation":41,"user_id":10763101,"display_name":"Nguyễn Đức Th&#224;nh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689305123,"answer_count":0,"score":0,"last_activity_date":1689301824,"creation_date":1689301824,"question_id":76684349,"body_markdown":"I have a test project to connect SQL Server but I have an exception\r\n\r\n**MY code:**\r\n```\r\npackage service;\r\nimport java.sql.Connection;\r\nimport java.sql.DatabaseMetaData;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\npublic class DBconnect { //Kết nối\r\n    private static final String USERNAME = &quot;sa&quot;;\r\n    private static final String PASSWORD = &quot;123456a@&quot;;\r\n    private static final String SERVER = &quot;localhost&quot;;\r\n    private static final String PORT = &quot;1433&quot;;\r\n    private static final String DATABASE_NAME = &quot;TestConnect&quot;;\r\n    private static final boolean USING_SSL = false;\r\n    private static String CONNECT_STRING;\r\n   \r\n    static {\r\n        try {\r\n            Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n           \r\n            StringBuilder connectStringBuilder = new StringBuilder();\r\n            connectStringBuilder.append(&quot;jdbc:sqlserver://&quot;)\r\n                    .append(SERVER).append(&quot;:&quot;).append(PORT).append(&quot;;&quot;)\r\n                    .append(&quot;databaseName=&quot;).append(DATABASE_NAME).append(&quot;;&quot;)\r\n                    .append(&quot;user=&quot;).append(USERNAME).append(&quot;;&quot;)\r\n                    .append(&quot;password=&quot;).append(PASSWORD).append(&quot;;&quot;)\r\n                    ;\r\n            if (USING_SSL) {\r\n                connectStringBuilder.append(&quot;encrypt=true;trustServerCertificate=true;&quot;);\r\n            }\r\n            CONNECT_STRING = connectStringBuilder.toString();\r\n            System.out.println(&quot;Connect String c&#243; dạng: &quot; + CONNECT_STRING);\r\n        } catch (ClassNotFoundException ex) {\r\n            Logger.getLogger(DBconnect.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }\r\n   \r\n    public static Connection getConnection()  {\r\n         try {\r\n             return DriverManager.getConnection(CONNECT_STRING);\r\n         } catch (SQLException ex) {\r\n             ex.printStackTrace();\r\n             Logger.getLogger(DBconnect.class.getName()).log(Level.SEVERE, null, ex);\r\n             return null;\r\n         }\r\n    }\r\n   \r\n    public static void main(String[] args) throws Exception {\r\n        Connection conn = getConnection();\r\n        DatabaseMetaData dbmt = conn.getMetaData();\r\n        System.out.println(dbmt.getDriverName());\r\n        System.out.println(dbmt.getDatabaseProductName());\r\n        System.out.println(dbmt.getDatabaseProductVersion());\r\n    }\r\n}\r\n```\r\n\r\n**Exception:**\r\n\r\n    \r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:4098)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java:3160)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.access$100(SQLServerConnection.java:43)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:3123)\r\n\tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7505)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2445)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1981)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:1628)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:1459)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:773)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1168)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:683)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:253)\r\n\tat service.DBconnect.getConnection(DBconnect.java:40)\r\n\tat service.DBconnect.main(DBconnect.java:49)\r\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.DatatypeConverter\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 15 more\r\n\r\nHow can i fix it?","title":"Java with Ant: Error when connect SQL Server","body":"<p>I have a test project to connect SQL Server but I have an exception</p>\n<p><strong>MY code:</strong></p>\n<pre><code>package service;\nimport java.sql.Connection;\nimport java.sql.DatabaseMetaData;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\npublic class DBconnect { //Kết nối\n    private static final String USERNAME = &quot;sa&quot;;\n    private static final String PASSWORD = &quot;123456a@&quot;;\n    private static final String SERVER = &quot;localhost&quot;;\n    private static final String PORT = &quot;1433&quot;;\n    private static final String DATABASE_NAME = &quot;TestConnect&quot;;\n    private static final boolean USING_SSL = false;\n    private static String CONNECT_STRING;\n   \n    static {\n        try {\n            Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n           \n            StringBuilder connectStringBuilder = new StringBuilder();\n            connectStringBuilder.append(&quot;jdbc:sqlserver://&quot;)\n                    .append(SERVER).append(&quot;:&quot;).append(PORT).append(&quot;;&quot;)\n                    .append(&quot;databaseName=&quot;).append(DATABASE_NAME).append(&quot;;&quot;)\n                    .append(&quot;user=&quot;).append(USERNAME).append(&quot;;&quot;)\n                    .append(&quot;password=&quot;).append(PASSWORD).append(&quot;;&quot;)\n                    ;\n            if (USING_SSL) {\n                connectStringBuilder.append(&quot;encrypt=true;trustServerCertificate=true;&quot;);\n            }\n            CONNECT_STRING = connectStringBuilder.toString();\n            System.out.println(&quot;Connect String có dạng: &quot; + CONNECT_STRING);\n        } catch (ClassNotFoundException ex) {\n            Logger.getLogger(DBconnect.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n   \n    public static Connection getConnection()  {\n         try {\n             return DriverManager.getConnection(CONNECT_STRING);\n         } catch (SQLException ex) {\n             ex.printStackTrace();\n             Logger.getLogger(DBconnect.class.getName()).log(Level.SEVERE, null, ex);\n             return null;\n         }\n    }\n   \n    public static void main(String[] args) throws Exception {\n        Connection conn = getConnection();\n        DatabaseMetaData dbmt = conn.getMetaData();\n        System.out.println(dbmt.getDriverName());\n        System.out.println(dbmt.getDatabaseProductName());\n        System.out.println(dbmt.getDatabaseProductVersion());\n    }\n}\n</code></pre>\n<p><strong>Exception:</strong></p>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:4098)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java:3160)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.access$100(SQLServerConnection.java:43)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:3123)\nat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7505)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2445)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1981)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:1628)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:1459)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:773)\nat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1168)\nat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:683)\nat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:253)\nat service.DBconnect.getConnection(DBconnect.java:40)\nat service.DBconnect.main(DBconnect.java:49)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.DatatypeConverter\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n... 15 more</p>\n<p>How can i fix it?</p>\n"},{"tags":["java","android","google-cast","android-media3"],"comments":[{"owner":{"account_id":7830156,"reputation":192,"user_id":5920500,"display_name":"Troy Heninger"},"score":0,"creation_date":1699915029,"post_id":76684314,"comment_id":136588524,"body_markdown":"That demo code is not using media 3, so have you updated it to media 3?","body":"That demo code is not using media 3, so have you updated it to media 3?"}],"owner":{"account_id":27692449,"reputation":11,"user_id":21138893,"display_name":"Malu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689301783,"creation_date":1689301270,"question_id":76684314,"body_markdown":"I am developing an Android app using Cast in media3 v1.1.0. The CastPlayer automatically moves to the next media item when the playback of the current media item finishes. When there is only one media item in the media queue, the media becomes invisible and the control UI on the Android device becomes unresponsive when playback finishes. However, I want the CastPlayer to pause at the end of playback so that the user can replay the media item. What should I do?\r\n\r\nMy code is essentially similar to the cast demo (https://github.com/androidx/media/tree/release/demos/cast).\r\n\r\nI am using the default receiver (androidx.media3.cast.DefaultCastOptionsProvider).\r\n\r\nI attempted to override the onPlaybackStateChanged method in the Player.Listener interface. However, since this callback is invoked after the playback has already ended on the receiver side and the media has become invisible, editing this callback was ineffective.","title":"CastPlayer: How to pause at the end of a media item, not to proceed to the next","body":"<p>I am developing an Android app using Cast in media3 v1.1.0. The CastPlayer automatically moves to the next media item when the playback of the current media item finishes. When there is only one media item in the media queue, the media becomes invisible and the control UI on the Android device becomes unresponsive when playback finishes. However, I want the CastPlayer to pause at the end of playback so that the user can replay the media item. What should I do?</p>\n<p>My code is essentially similar to the cast demo (<a href=\"https://github.com/androidx/media/tree/release/demos/cast\" rel=\"nofollow noreferrer\">https://github.com/androidx/media/tree/release/demos/cast</a>).</p>\n<p>I am using the default receiver (androidx.media3.cast.DefaultCastOptionsProvider).</p>\n<p>I attempted to override the onPlaybackStateChanged method in the Player.Listener interface. However, since this callback is invoked after the playback has already ended on the receiver side and the media has become invisible, editing this callback was ineffective.</p>\n"},{"tags":["java","string","special-characters"],"comments":[{"owner":{"account_id":8670,"reputation":74291,"user_id":15721,"accept_rate":74,"display_name":"Will"},"score":3,"creation_date":1259139448,"post_id":1795402,"comment_id":1683215,"body_markdown":"What&#39;s it for?  I have a nasty feeling this is some kind of field sanitiser to, say, prevent SQL injection attacks on a website.  Oh no!  This would not be the right way to go about that...","body":"What&#39;s it for?  I have a nasty feeling this is some kind of field sanitiser to, say, prevent SQL injection attacks on a website.  Oh no!  This would not be the right way to go about that..."},{"owner":{"account_id":184519,"reputation":22782,"user_id":420613,"accept_rate":87,"display_name":"Muhammad Imran Tariq"},"score":3,"creation_date":1324042220,"post_id":1795402,"comment_id":10571039,"body_markdown":"you need to use regular expression.","body":"you need to use regular expression."}],"answers":[{"tags":[],"owner":{"account_id":39549,"reputation":1408,"user_id":114139,"accept_rate":100,"display_name":"Michael Zilbermann"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1684697975,"creation_date":1259137106,"answer_id":1795413,"question_id":1795402,"body_markdown":"What do you exactly call &quot;special character&quot;? If you mean something like *&quot;anything that is not alphanumeric&quot;* you can use `org.apache.commons.lang.StringUtils` class (methods `IsAlpha/IsNumeric/IsWhitespace/IsAsciiPrintable`).\r\n\r\nIf it is not so trivial, you can use a regex that defines the exact character list you accept and match the string against it.","title":"Check if a String contains a special character","body":"<p>What do you exactly call &quot;special character&quot;? If you mean something like <em>&quot;anything that is not alphanumeric&quot;</em> you can use <code>org.apache.commons.lang.StringUtils</code> class (methods <code>IsAlpha/IsNumeric/IsWhitespace/IsAsciiPrintable</code>).</p>\n<p>If it is not so trivial, you can use a regex that defines the exact character list you accept and match the string against it.</p>\n"},{"tags":[],"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1259137253,"creation_date":1259137253,"answer_id":1795420,"question_id":1795402,"body_markdown":"\r\n\r\nAll depends on exactly what you mean by &quot;special&quot;. In a regex you can specify\r\n\r\n - \\W  to mean non-alpahnumeric\r\n - \\p{Punct} to mean punctuation characters\r\n\r\nI suspect that the latter is what you mean. But if not use a [] list to specify exactly what you want.\r\n","title":"Check if a String contains a special character","body":"<p>All depends on exactly what you mean by \"special\". In a regex you can specify</p>\n\n<ul>\n<li>\\W  to mean non-alpahnumeric</li>\n<li>\\p{Punct} to mean punctuation characters</li>\n</ul>\n\n<p>I suspect that the latter is what you mean. But if not use a [] list to specify exactly what you want.</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1259137352,"creation_date":1259137352,"answer_id":1795424,"question_id":1795402,"body_markdown":"Have a look at the `java.lang.Character` class. It has some test methods and you may find one that fits your needs.\r\n\r\nExamples: `Character.isSpaceChar(c)` or `!Character.isJavaLetter(c)`","title":"Check if a String contains a special character","body":"<p>Have a look at the <code>java.lang.Character</code> class. It has some test methods and you may find one that fits your needs.</p>\n\n<p>Examples: <code>Character.isSpaceChar(c)</code> or <code>!Character.isJavaLetter(c)</code></p>\n"},{"tags":[],"owner":{"account_id":8670,"reputation":74291,"user_id":15721,"accept_rate":74,"display_name":"Will"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1259137477,"creation_date":1259137477,"answer_id":1795432,"question_id":1795402,"body_markdown":"Visit each character in the string to see if that character is in a blacklist of special characters; this is O(n*m).\r\n\r\nThe pseudo-code is:\r\n\r\n    for each char in string:\r\n      if char in blacklist:\r\n        ...\r\n\r\nThe complexity can be slightly improved by sorting the blacklist so that you can early-exit each check.  However, the string find function is probably native code, so this optimisation - which would be in Java byte-code - could well be slower.\r\n","title":"Check if a String contains a special character","body":"<p>Visit each character in the string to see if that character is in a blacklist of special characters; this is O(n*m).</p>\n\n<p>The pseudo-code is:</p>\n\n<pre><code>for each char in string:\n  if char in blacklist:\n    ...\n</code></pre>\n\n<p>The complexity can be slightly improved by sorting the blacklist so that you can early-exit each check.  However, the string find function is probably native code, so this optimisation - which would be in Java byte-code - could well be slower.</p>\n"},{"comments":[{"owner":{"account_id":19314,"reputation":6654,"user_id":45163,"accept_rate":86,"display_name":"Chris Nava"},"score":0,"creation_date":1328539873,"post_id":1795434,"comment_id":11522891,"body_markdown":"It&#39;s much safer to make a list of acceptable characters and check against that.","body":"It&#39;s much safer to make a list of acceptable characters and check against that."}],"tags":[],"owner":{"account_id":4203,"reputation":1014,"user_id":6243,"accept_rate":70,"display_name":"Varun"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1259137513,"creation_date":1259137513,"answer_id":1795434,"question_id":1795402,"body_markdown":"First you have to exhaustively identify the special characters that you want to check.\r\n\r\nThen you can write a regular expression and use \r\n\r\n    public boolean matches(String regex)","title":"Check if a String contains a special character","body":"<p>First you have to exhaustively identify the special characters that you want to check.</p>\n\n<p>Then you can write a regular expression and use </p>\n\n<pre><code>public boolean matches(String regex)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13357,"reputation":6580,"user_id":26778,"accept_rate":72,"display_name":"jeff porter"},"score":5,"creation_date":1259140433,"post_id":1795436,"comment_id":1683287,"body_markdown":"you need to import the correct Matcher and Pattern.\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nThis code is great for telling of the string passed in contains only a-z and 0-9, it won&#39;t give you a location of the &#39;bad&#39; character or what it is, but then the question didn&#39;t ask for that.\n\nI feel regex is great skill for a programmer to master, I&#39;m still trying.","body":"you need to import the correct Matcher and Pattern. import java.util.regex.Matcher; import java.util.regex.Pattern;  This code is great for telling of the string passed in contains only a-z and 0-9, it won&#39;t give you a location of the &#39;bad&#39; character or what it is, but then the question didn&#39;t ask for that.  I feel regex is great skill for a programmer to master, I&#39;m still trying."},{"owner":{"account_id":1667970,"reputation":2499,"user_id":1535010,"accept_rate":50,"display_name":"AITAALI_ABDERRAHMANE"},"score":3,"creation_date":1367576082,"post_id":1795436,"comment_id":23433092,"body_markdown":"if you want to show the the bad character you can use m.group() or m.group(index)","body":"if you want to show the the bad character you can use m.group() or m.group(index)"},{"owner":{"account_id":1703654,"reputation":2068,"user_id":1563174,"display_name":"Krishna Kumar Chourasiya"},"score":2,"creation_date":1474260523,"post_id":1795436,"comment_id":66441480,"body_markdown":"This will allow you Alpha numeric validation. If you update Reg Ex little bit Like =&gt; [^a-z] than it will validate alpha characters only.","body":"This will allow you Alpha numeric validation. If you update Reg Ex little bit Like =&gt; [^a-z] than it will validate alpha characters only."}],"tags":[],"owner":{"account_id":72905,"reputation":2523,"user_id":210258,"accept_rate":75,"display_name":"oliver31"},"comment_count":3,"down_vote_count":1,"up_vote_count":149,"is_accepted":false,"score":148,"last_activity_date":1322079844,"creation_date":1259137541,"answer_id":1795436,"question_id":1795402,"body_markdown":"    Pattern p = Pattern.compile(&quot;[^a-z0-9 ]&quot;, Pattern.CASE_INSENSITIVE);\r\n    Matcher m = p.matcher(&quot;I am a string&quot;);\r\n    boolean b = m.find();\r\n    \r\n    if (b)\r\n       System.out.println(&quot;There is a special character in my string&quot;);","title":"Check if a String contains a special character","body":"<pre><code>Pattern p = Pattern.compile(\"[^a-z0-9 ]\", Pattern.CASE_INSENSITIVE);\nMatcher m = p.matcher(\"I am a string\");\nboolean b = m.find();\n\nif (b)\n   System.out.println(\"There is a special character in my string\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":324587,"reputation":18477,"user_id":645226,"accept_rate":74,"display_name":"Bhushan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308188112,"creation_date":1308188112,"answer_id":6366219,"question_id":1795402,"body_markdown":"    Pattern p = Pattern.compile(&quot;[\\\\p{Alpha}]*[\\\\p{Punct}][\\\\p{Alpha}]*&quot;);\r\n    \t\tMatcher m = p.matcher(&quot;Afsff%esfsf098&quot;);\r\n    \t\tboolean b = m.matches();\r\n    \r\n    \t\tif (b == true)\r\n    \t\t   System.out.println(&quot;There is a sp. character in my string&quot;);\r\n    \t\telse\r\n    \t\t\tSystem.out.println(&quot;There is no sp. char.&quot;);","title":"Check if a String contains a special character","body":"<pre><code>Pattern p = Pattern.compile(\"[\\\\p{Alpha}]*[\\\\p{Punct}][\\\\p{Alpha}]*\");\n        Matcher m = p.matcher(\"Afsff%esfsf098\");\n        boolean b = m.matches();\n\n        if (b == true)\n           System.out.println(\"There is a sp. character in my string\");\n        else\n            System.out.println(\"There is no sp. char.\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1330960,"reputation":1383,"user_id":1274890,"display_name":"R Sun"},"score":0,"creation_date":1570539168,"post_id":6366275,"comment_id":102938221,"body_markdown":"This is not reliable! It only checks for `a-zA-Z0-9`. Try checking this against `123%#@ABC` input. It returns true.","body":"This is not reliable! It only checks for <code>a-zA-Z0-9</code>. Try checking this against <code>123%#@ABC</code> input. It returns true."},{"owner":{"account_id":61118,"reputation":11403,"user_id":182289,"accept_rate":73,"display_name":"stepanian"},"score":1,"creation_date":1596076390,"post_id":6366275,"comment_id":111696772,"body_markdown":"@RSun That would return false","body":"@RSun That would return false"}],"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1308188710,"creation_date":1308188710,"answer_id":6366275,"question_id":1795402,"body_markdown":"If it matches regex `[a-zA-Z0-9 ]*` then there is not special characters in it.","title":"Check if a String contains a special character","body":"<p>If it matches regex <code>[a-zA-Z0-9 ]*</code> then there is not special characters in it.</p>\n"},{"comments":[{"owner":{"account_id":2475134,"reputation":4546,"user_id":2155922,"accept_rate":35,"display_name":"Rahul Rastogi"},"score":0,"creation_date":1588863445,"post_id":24425607,"comment_id":109069419,"body_markdown":"If compared with &quot; abc&quot; then gives true, but if compared with &quot; &quot; then giving false.","body":"If compared with &quot; abc&quot; then gives true, but if compared with &quot; &quot; then giving false."}],"tags":[],"owner":{"account_id":4392519,"reputation":337,"user_id":3580475,"display_name":"Ashish Sharma"},"comment_count":1,"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1568797464,"creation_date":1403770623,"answer_id":24425607,"question_id":1795402,"body_markdown":"You can use the following code to detect special character from string.\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class DetectSpecial{ \r\n    public int getSpecialCharacterCount(String s) {\r\n         if (s == null || s.trim().isEmpty()) {\r\n        \t System.out.println(&quot;Incorrect format of string&quot;);\r\n             return 0;\r\n         }\r\n         Pattern p = Pattern.compile(&quot;[^A-Za-z0-9]&quot;);\r\n         Matcher m = p.matcher(s);\r\n        // boolean b = m.matches();\r\n         boolean b = m.find();\r\n         if (b)\r\n            System.out.println(&quot;There is a special character in my string &quot;);\r\n         else\r\n             System.out.println(&quot;There is no special char.&quot;);\r\n         return 0;\r\n     }\r\n    }\r\n","title":"Check if a String contains a special character","body":"<p>You can use the following code to detect special character from string.</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class DetectSpecial{ \npublic int getSpecialCharacterCount(String s) {\n     if (s == null || s.trim().isEmpty()) {\n         System.out.println(\"Incorrect format of string\");\n         return 0;\n     }\n     Pattern p = Pattern.compile(\"[^A-Za-z0-9]\");\n     Matcher m = p.matcher(s);\n    // boolean b = m.matches();\n     boolean b = m.find();\n     if (b)\n        System.out.println(\"There is a special character in my string \");\n     else\n         System.out.println(\"There is no special char.\");\n     return 0;\n }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4591698,"reputation":2601,"user_id":3724800,"accept_rate":76,"display_name":"Frank Eno"},"score":0,"creation_date":1620888314,"post_id":41697673,"comment_id":119334770,"body_markdown":"Thanks for sharing, this is what I needed!","body":"Thanks for sharing, this is what I needed!"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1689302250,"post_id":41697673,"comment_id":135197444,"body_markdown":"&quot;Perfectly&quot; for those that think that ASCII is all the characters there are.","body":"&quot;Perfectly&quot; for those that think that ASCII is all the characters there are."}],"tags":[],"owner":{"account_id":1663778,"reputation":10555,"user_id":1564065,"accept_rate":44,"display_name":"Pir Fahim Shah"},"comment_count":2,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1484657376,"creation_date":1484657376,"answer_id":41697673,"question_id":1795402,"body_markdown":"If you want to have LETTERS, SPECIAL CHARACTERS and NUMBERS in your password with at least 8 digit, then use this code, it is working perfectly\r\n\r\n    public static boolean Password_Validation(String password) \r\n\t{\r\n\t \r\n\t\tif(password.length()&gt;=8)\r\n\t\t{\r\n\t\t\tPattern letter = Pattern.compile(&quot;[a-zA-z]&quot;);\r\n\t\t\tPattern digit = Pattern.compile(&quot;[0-9]&quot;);\r\n\t\t\tPattern special = Pattern.compile (&quot;[!@#$%&amp;*()_+=|&lt;&gt;?{}\\\\[\\\\]~-]&quot;);\r\n\t\t\t//Pattern eight = Pattern.compile (&quot;.{8}&quot;);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t   Matcher hasLetter = letter.matcher(password);\r\n\t\t\t   Matcher hasDigit = digit.matcher(password);\r\n\t\t\t   Matcher hasSpecial = special.matcher(password);\r\n\t\t\t\r\n\t\t\t   return hasLetter.find() &amp;&amp; hasDigit.find() &amp;&amp; hasSpecial.find();\r\n\t\t\t     \r\n\t\t}\r\n\t\telse\r\n\t\t\treturn false;\r\n\t\t\r\n\t}","title":"Check if a String contains a special character","body":"<p>If you want to have LETTERS, SPECIAL CHARACTERS and NUMBERS in your password with at least 8 digit, then use this code, it is working perfectly</p>\n\n<pre><code>public static boolean Password_Validation(String password) \n{\n\n    if(password.length()&gt;=8)\n    {\n        Pattern letter = Pattern.compile(\"[a-zA-z]\");\n        Pattern digit = Pattern.compile(\"[0-9]\");\n        Pattern special = Pattern.compile (\"[!@#$%&amp;*()_+=|&lt;&gt;?{}\\\\[\\\\]~-]\");\n        //Pattern eight = Pattern.compile (\".{8}\");\n\n\n           Matcher hasLetter = letter.matcher(password);\n           Matcher hasDigit = digit.matcher(password);\n           Matcher hasSpecial = special.matcher(password);\n\n           return hasLetter.find() &amp;&amp; hasDigit.find() &amp;&amp; hasSpecial.find();\n\n    }\n    else\n        return false;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10311188,"reputation":71,"user_id":7606979,"display_name":"saroj routray"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1487791329,"creation_date":1487791329,"answer_id":42400458,"question_id":1795402,"body_markdown":"//without using regular expression........\r\n\t\t\r\n\t\tString specialCharacters=&quot; !#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[]^_`{|}~0123456789&quot;;\r\n\t\tString name=&quot;3_ saroj@&quot;;\r\n\t\tString str2[]=name.split(&quot;&quot;);\r\n\t\t\r\n\t\tfor (int i=0;i&lt;str2.length;i++)\r\n\t\t{\r\n\t\tif (specialCharacters.contains(str2[i]))\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;true&quot;);\r\n\t\t\t//break;\r\n\t\t}\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;false&quot;);\r\n\t\t}","title":"Check if a String contains a special character","body":"<p>//without using regular expression........</p>\n\n<pre><code>    String specialCharacters=\" !#$%&amp;'()*+,-./:;&lt;=&gt;?@[]^_`{|}~0123456789\";\n    String name=\"3_ saroj@\";\n    String str2[]=name.split(\"\");\n\n    for (int i=0;i&lt;str2.length;i++)\n    {\n    if (specialCharacters.contains(str2[i]))\n    {\n        System.out.println(\"true\");\n        //break;\n    }\n    else\n        System.out.println(\"false\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10311188,"reputation":71,"user_id":7606979,"display_name":"saroj routray"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487833031,"creation_date":1487831769,"answer_id":42408656,"question_id":1795402,"body_markdown":"//this is updated version of code that i posted\r\n/*\r\nThe isValidName Method will check whether the name passed as argument should not contain-\r\n1.null value or space\r\n2.any special character\r\n3.Digits (0-9)\r\nExplanation---\r\nHere str2 is String array variable which stores the the splited string of name that is passed as argument\r\nThe count variable will count the number of special character occurs\r\nThe method will return true if it satisfy all the condition\r\n*/\r\n\t\r\n    public boolean isValidName(String name)\r\n    {\r\n    \tString specialCharacters=&quot; !#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[]^_`{|}~0123456789&quot;;\r\n    \tString str2[]=name.split(&quot;&quot;);\r\n    \tint count=0;\r\n    \tfor (int i=0;i&lt;str2.length;i++)\r\n    \t{\r\n    \t\tif (specialCharacters.contains(str2[i]))\r\n    \t\t{\r\n    \t\t\tcount++;\r\n    \t\t}\r\n    \t}\t\t\r\n    \t\r\n    \tif (name!=null &amp;&amp; count==0 )\r\n    \t{\r\n    \t\treturn true;\r\n    \t}\r\n    \telse\r\n    \t{\r\n    \t\treturn false;\r\n    \t}\r\n    }\r\n    \t","title":"Check if a String contains a special character","body":"<p>//this is updated version of code that i posted\n/*\nThe isValidName Method will check whether the name passed as argument should not contain-\n1.null value or space\n2.any special character\n3.Digits (0-9)\nExplanation---\nHere str2 is String array variable which stores the the splited string of name that is passed as argument\nThe count variable will count the number of special character occurs\nThe method will return true if it satisfy all the condition\n*/</p>\n\n<pre><code>public boolean isValidName(String name)\n{\n    String specialCharacters=\" !#$%&amp;'()*+,-./:;&lt;=&gt;?@[]^_`{|}~0123456789\";\n    String str2[]=name.split(\"\");\n    int count=0;\n    for (int i=0;i&lt;str2.length;i++)\n    {\n        if (specialCharacters.contains(str2[i]))\n        {\n            count++;\n        }\n    }       \n\n    if (name!=null &amp;&amp; count==0 )\n    {\n        return true;\n    }\n    else\n    {\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4423251"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493117177,"creation_date":1493117177,"answer_id":43608531,"question_id":1795402,"body_markdown":"in the line String str2[]=name.split(&quot;&quot;); give an extra character in Array... \r\nLet me explain by example\r\n&quot;Aditya&quot;.split(&quot;&quot;) would return [, A, d,i,t,y,a] You will have a extra character in your Array... \t \t\r\nThe &quot;Aditya&quot;.split(&quot;&quot;) does not work as expected by saroj routray you will get an extra character in String =&gt; [, A, d,i,t,y,a]. \r\n\r\nI have modified it,see below code it work as expected \r\n\r\n  \r\n     public static boolean isValidName(String inputString) {\r\n        \r\n        String specialCharacters = &quot; !#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[]^_`{|}~0123456789&quot;;\r\n        String[] strlCharactersArray = new String[inputString.length()];\r\n        for (int i = 0; i &lt; inputString.length(); i++) {\r\n             strlCharactersArray[i] = Character\r\n                .toString(inputString.charAt(i));\r\n        }\r\n        //now  strlCharactersArray[i]=[A, d, i, t, y, a]\r\n        int count = 0;\r\n        for (int i = 0; i &lt;  strlCharactersArray.length; i++) {\r\n            if (specialCharacters.contains( strlCharactersArray[i])) {\r\n                count++;\r\n            }\r\n\r\n        }\r\n        \r\n        if (inputString != null &amp;&amp; count == 0) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }","title":"Check if a String contains a special character","body":"<p>in the line String str2[]=name.split(\"\"); give an extra character in Array... \nLet me explain by example\n\"Aditya\".split(\"\") would return [, A, d,i,t,y,a] You will have a extra character in your Array...<br>\nThe \"Aditya\".split(\"\") does not work as expected by saroj routray you will get an extra character in String => [, A, d,i,t,y,a]. </p>\n\n<p>I have modified it,see below code it work as expected </p>\n\n<pre><code> public static boolean isValidName(String inputString) {\n\n    String specialCharacters = \" !#$%&amp;'()*+,-./:;&lt;=&gt;?@[]^_`{|}~0123456789\";\n    String[] strlCharactersArray = new String[inputString.length()];\n    for (int i = 0; i &lt; inputString.length(); i++) {\n         strlCharactersArray[i] = Character\n            .toString(inputString.charAt(i));\n    }\n    //now  strlCharactersArray[i]=[A, d, i, t, y, a]\n    int count = 0;\n    for (int i = 0; i &lt;  strlCharactersArray.length; i++) {\n        if (specialCharacters.contains( strlCharactersArray[i])) {\n            count++;\n        }\n\n    }\n\n    if (inputString != null &amp;&amp; count == 0) {\n        return true;\n    } else {\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2863618,"reputation":391,"user_id":2458337,"accept_rate":20,"display_name":"Antroid"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1547708224,"creation_date":1505243102,"answer_id":46183703,"question_id":1795402,"body_markdown":"This worked for me:\r\n\r\n    String s = &quot;string&quot;;\r\n    if (Pattern.matches(&quot;[a-zA-Z]+&quot;, s)) {\r\n     System.out.println(&quot;clear&quot;);\r\n    } else {\r\n     System.out.println(&quot;buzz&quot;);\r\n    }","title":"Check if a String contains a special character","body":"<p>This worked for me:</p>\n\n<pre><code>String s = \"string\";\nif (Pattern.matches(\"[a-zA-Z]+\", s)) {\n System.out.println(\"clear\");\n} else {\n System.out.println(\"buzz\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14538124,"reputation":1,"user_id":10500777,"display_name":"Raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547708189,"creation_date":1539467644,"answer_id":52797688,"question_id":1795402,"body_markdown":"Convert the string into char array with all the letters in lower case:\r\n\r\n    char c[] = str.toLowerCase().toCharArray();\r\n\r\nThen you can use `Character.isLetterOrDigit(c[index])` to find out which index has special characters.","title":"Check if a String contains a special character","body":"<p>Convert the string into char array with all the letters in lower case:</p>\n\n<pre><code>char c[] = str.toLowerCase().toCharArray();\n</code></pre>\n\n<p>Then you can use <code>Character.isLetterOrDigit(c[index])</code> to find out which index has special characters.</p>\n"},{"tags":[],"owner":{"account_id":9157919,"reputation":39,"user_id":6810294,"display_name":"Suraj Mahli"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1547715366,"creation_date":1547706531,"answer_id":54230178,"question_id":1795402,"body_markdown":"Use java.util.regex.Pattern class&#39;s static method  matches(regex, String obj)&lt;br&gt;\r\nregex : characters in lower and upper case &amp; digits between 0-9 &lt;br&gt;\r\nString obj : String object you want to check either it contain special character or not.&lt;br&gt;&lt;br&gt;\r\nIt returns boolean value true if only contain characters and numbers, otherwise returns boolean value false&lt;br&gt;&lt;br&gt;\r\nExample.&lt;br&gt;&lt;br&gt;\r\n\r\n    String isin = &quot;12GBIU34RT12&quot;;&lt;br&gt;\r\n    if(Pattern.matches(&quot;[a-zA-Z0-9]+&quot;, isin)&lt;br&gt;{&lt;br&gt;\r\n       &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;System.out.println(&quot;Valid isin&quot;);&lt;br&gt;\r\n    }else{&lt;br&gt;\r\n       &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;System.out.println(&quot;Invalid isin&quot;);&lt;br&gt;\r\n    }\r\n\r\n","title":"Check if a String contains a special character","body":"<p>Use java.util.regex.Pattern class's static method  matches(regex, String obj)<br>\nregex : characters in lower and upper case &amp; digits between 0-9 <br>\nString obj : String object you want to check either it contain special character or not.<br><br>\nIt returns boolean value true if only contain characters and numbers, otherwise returns boolean value false<br><br>\nExample.<br><br></p>\n\n<pre><code>String isin = \"12GBIU34RT12\";&lt;br&gt;\nif(Pattern.matches(\"[a-zA-Z0-9]+\", isin)&lt;br&gt;{&lt;br&gt;\n   &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;System.out.println(\"Valid isin\");&lt;br&gt;\n}else{&lt;br&gt;\n   &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;System.out.println(\"Invalid isin\");&lt;br&gt;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9038276,"reputation":528,"user_id":6733355,"display_name":"Jeanne vie"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1665954046,"creation_date":1572845026,"answer_id":58687604,"question_id":1795402,"body_markdown":"**This is tested in android 7.0 up to android 10.0 and it works**\r\n\r\nUse this code to check if string contains special character and numbers:\r\n\r\n  \r\n      name = firstname.getText().toString(); //name is the variable that holds the string value\r\n\r\n      Pattern special= Pattern.compile(&quot;[^a-z0-9 ]&quot;, Pattern.CASE_INSENSITIVE);\r\n      Pattern number = Pattern.compile(&quot;[0-9]&quot;, Pattern.CASE_INSENSITIVE);\r\n      Matcher matcher = special.matcher(name);\r\n      Matcher matcherNumber = number.matcher(name);\r\n      \r\n      boolean constainsSymbols = matcher.find();\r\n      boolean containsNumber = matcherNumber.find();\r\n\r\n      if(constainsSymbols){\r\n       //string contains special symbol/character\r\n      }\r\n      else if(containsNumber){\r\n       //string contains numbers\r\n      }\r\n      else{\r\n       //string doesn&#39;t contain special characters or numbers\r\n      }","title":"Check if a String contains a special character","body":"<p><strong>This is tested in android 7.0 up to android 10.0 and it works</strong></p>\n<p>Use this code to check if string contains special character and numbers:</p>\n<pre><code>  name = firstname.getText().toString(); //name is the variable that holds the string value\n\n  Pattern special= Pattern.compile(&quot;[^a-z0-9 ]&quot;, Pattern.CASE_INSENSITIVE);\n  Pattern number = Pattern.compile(&quot;[0-9]&quot;, Pattern.CASE_INSENSITIVE);\n  Matcher matcher = special.matcher(name);\n  Matcher matcherNumber = number.matcher(name);\n  \n  boolean constainsSymbols = matcher.find();\n  boolean containsNumber = matcherNumber.find();\n\n  if(constainsSymbols){\n   //string contains special symbol/character\n  }\n  else if(containsNumber){\n   //string contains numbers\n  }\n  else{\n   //string doesn't contain special characters or numbers\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684727299,"creation_date":1684727299,"answer_id":76302927,"question_id":1795402,"body_markdown":"There are a few approaches you can take to determine if a string contains a set of specified characters.\r\n\r\nYou can use a regular expression pattern, specifically a character-class.\r\n\r\n```java\r\n&quot;example*&quot;.matches(&quot;.*?[&quot; + Pattern.quote(&quot;[]{}{)*|:&gt;&quot;) + &quot;].*&quot;);\r\n```\r\n\r\nOr, you can create a for-loop, which returns `true` if it finds a match.\r\n\r\n```java\r\nboolean contains(String string, char... characters) {\r\n    for (char characterA : string.toCharArray()) {\r\n        for (char characterB : characters) {\r\n            if (characterA == characterB)\r\n                return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n```\r\n","title":"Check if a String contains a special character","body":"<p>There are a few approaches you can take to determine if a string contains a set of specified characters.</p>\n<p>You can use a regular expression pattern, specifically a character-class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;example*&quot;.matches(&quot;.*?[&quot; + Pattern.quote(&quot;[]{}{)*|:&gt;&quot;) + &quot;].*&quot;);\n</code></pre>\n<p>Or, you can create a for-loop, which returns <code>true</code> if it finds a match.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean contains(String string, char... characters) {\n    for (char characterA : string.toCharArray()) {\n        for (char characterB : characters) {\n            if (characterA == characterB)\n                return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28818041,"reputation":13,"user_id":22071214,"display_name":"JoReyner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689300703,"creation_date":1689300703,"answer_id":76684295,"question_id":1795402,"body_markdown":"Using .replaceAll() and comparing if the resulting string is the same as the original could be a possible method as well. \r\n\r\nFor example:\r\n    \r\n    specialCharRegex = &quot;[,=&#39;:;&gt;&lt;?/~`_.!@#^&amp;*]|\\\\[|\\\\]&quot;;\r\n    \r\n    if(str.equals(str.replaceAll(specialCharRegex, &quot;&quot;)){\r\n        System.out.println(str + &quot; does not contain special characters&quot;)\r\n    }\r\n    else{\r\n        System.out.println(str + &quot; contains special characters&quot;\r\n    }","title":"Check if a String contains a special character","body":"<p>Using .replaceAll() and comparing if the resulting string is the same as the original could be a possible method as well.</p>\n<p>For example:</p>\n<pre><code>specialCharRegex = &quot;[,=':;&gt;&lt;?/~`_.!@#^&amp;*]|\\\\[|\\\\]&quot;;\n\nif(str.equals(str.replaceAll(specialCharRegex, &quot;&quot;)){\n    System.out.println(str + &quot; does not contain special characters&quot;)\n}\nelse{\n    System.out.println(str + &quot; contains special characters&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":571250,"reputation":981,"user_id":218402,"display_name":"blue"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508328,"favorite_count":0,"down_vote_count":0,"up_vote_count":98,"answer_count":19,"score":98,"last_activity_date":1689300703,"creation_date":1259136904,"question_id":1795402,"body_markdown":"How do you check if a String contains a special character like: \r\n\r\n    [,],{,},{,),*,|,:,&gt;,\r\n","title":"Check if a String contains a special character","body":"<p>How do you check if a String contains a special character like: </p>\n\n<pre><code>[,],{,},{,),*,|,:,&gt;,\n</code></pre>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689365326,"post_id":76683946,"comment_id":135208666,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28319465,"reputation":1,"user_id":21655511,"display_name":"HowXu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689300661,"creation_date":1689293022,"question_id":76683946,"body_markdown":"I wrote a simple coremod change to the hasItem method of the InventoryPlayer class. It&#39;s not that hard, but the problem is that Coremod&#39;s change to this class seems to be queued up right before the game. (That doesn&#39;t seem to work?) I wrote a simple event test and it worked out the same way. Then I wrote a Transformer to rewrite the getCommandSender function in the EntityPlayer class, and it worked. And from the log to see changes in   Launching wrapped minecraft {net. Minecraft. Client. The main}  , started after the main, but the change of InventoryPlayer ranked before entering the archive. Source code for https://github.com/HowXuVSCode/Core. I evaluated the replacement hasItem to always return false, but it returned true as soon as I entered the game...\r\n\r\nI checked Google but there&#39;s nothing to look at. And my English was poor, so it was difficult to find useful documents.Maybe I need some practical documentation, or maybe you can help me point out my silly mistakes. Thank you very much for your help in your busy schedule. I wish you a happy life!","title":"Minecraft 1.7.10 Coremod Modifications to InventoryPlayer","body":"<p>I wrote a simple coremod change to the hasItem method of the InventoryPlayer class. It's not that hard, but the problem is that Coremod's change to this class seems to be queued up right before the game. (That doesn't seem to work?) I wrote a simple event test and it worked out the same way. Then I wrote a Transformer to rewrite the getCommandSender function in the EntityPlayer class, and it worked. And from the log to see changes in   Launching wrapped minecraft {net. Minecraft. Client. The main}  , started after the main, but the change of InventoryPlayer ranked before entering the archive. Source code for <a href=\"https://github.com/HowXuVSCode/Core\" rel=\"nofollow noreferrer\">https://github.com/HowXuVSCode/Core</a>. I evaluated the replacement hasItem to always return false, but it returned true as soon as I entered the game...</p>\n<p>I checked Google but there's nothing to look at. And my English was poor, so it was difficult to find useful documents.Maybe I need some practical documentation, or maybe you can help me point out my silly mistakes. Thank you very much for your help in your busy schedule. I wish you a happy life!</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":0,"creation_date":1403020552,"post_id":24267413,"comment_id":37492279,"body_markdown":"Works fine for me. Something else must be going on. Post more code.","body":"Works fine for me. Something else must be going on. Post more code."},{"owner":{"account_id":1418594,"reputation":2009,"user_id":1343698,"display_name":"Furious Duck"},"score":0,"creation_date":1403021631,"post_id":24267413,"comment_id":37492894,"body_markdown":"Your approach seems to be fine. Post an HTML code sample, where you get your error please","body":"Your approach seems to be fine. Post an HTML code sample, where you get your error please"}],"answers":[{"tags":[],"owner":{"account_id":4610537,"reputation":124,"user_id":3738787,"display_name":"twisted_coder"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1689299240,"creation_date":1403022557,"answer_id":24268968,"question_id":24267413,"body_markdown":"Alternatively, can you try using Javascript Executor?\r\n\r\n    WebElement childElement = driver.findElement(By.id(&quot;someIdHere&quot;));\r\n    \r\n    WebElement parent = (WebElement) ((JavascriptExecutor) driver)\r\n    .executeScript(&quot;return arguments[0].parentNode;&quot;, childElement);","title":"How to get parent of WebElement","body":"<p>Alternatively, can you try using Javascript Executor?</p>\n<pre><code>WebElement childElement = driver.findElement(By.id(&quot;someIdHere&quot;));\n\nWebElement parent = (WebElement) ((JavascriptExecutor) driver)\n.executeScript(&quot;return arguments[0].parentNode;&quot;, childElement);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1682656,"reputation":7274,"user_id":1546574,"display_name":"eugene.polschikov"},"score":0,"creation_date":1537203074,"post_id":24271101,"comment_id":91689432,"body_markdown":"thanks ,workking perfect for me!","body":"thanks ,workking perfect for me!"},{"owner":{"account_id":10642962,"reputation":2850,"user_id":7837376,"accept_rate":53,"display_name":"Neal Barsch"},"score":0,"creation_date":1557358999,"post_id":24271101,"comment_id":98742010,"body_markdown":"Simple but genius to use the child element&#39;s parent code to go up two levels to get the parent. NICE.","body":"Simple but genius to use the child element&#39;s parent code to go up two levels to get the parent. NICE."}],"tags":[],"owner":{"account_id":157039,"reputation":27241,"user_id":374693,"accept_rate":79,"display_name":"JimEvans"},"comment_count":2,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1403030557,"creation_date":1403030557,"answer_id":24271101,"question_id":24267413,"body_markdown":"There are a couple of ways you can accomplish this. If you insist on using XPath to do it, you need to add the context node to the locator, like this:\r\n\r\n    WebElement parentElement = childElement.findElement(By.xpath(&quot;./..&quot;));\r\n\r\nAlternatively, you can use the `JavascriptExecutor` interface, which might be slightly more performant. That would look like this:\r\n\r\n    // NOTE: broken into separate statements for clarity. Could be done as one statement.\r\n    JavascriptExecutor executor = (JavascriptExecutor)driver;\r\n    WebElement parentElement = (WebElement)executor.executeScript(&quot;return arguments[0].parentNode;&quot;, childElement);","title":"How to get parent of WebElement","body":"<p>There are a couple of ways you can accomplish this. If you insist on using XPath to do it, you need to add the context node to the locator, like this:</p>\n\n<pre><code>WebElement parentElement = childElement.findElement(By.xpath(\"./..\"));\n</code></pre>\n\n<p>Alternatively, you can use the <code>JavascriptExecutor</code> interface, which might be slightly more performant. That would look like this:</p>\n\n<pre><code>// NOTE: broken into separate statements for clarity. Could be done as one statement.\nJavascriptExecutor executor = (JavascriptExecutor)driver;\nWebElement parentElement = (WebElement)executor.executeScript(\"return arguments[0].parentNode;\", childElement);\n</code></pre>\n"}],"owner":{"account_id":1343574,"reputation":1526,"user_id":1284735,"accept_rate":62,"display_name":"petabyte"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41451,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"closed_date":1469121049,"answer_count":2,"score":17,"last_activity_date":1689299240,"creation_date":1403017898,"question_id":24267413,"body_markdown":"I&#39;ve tried \r\n\r\n    private WebElement getParent(final WebElement webElement) {\r\n        return webElement.findElement(By.xpath(&quot;..&quot;));\r\n    }\r\n\r\nBut I&#39;m getting:\r\n\r\n&gt; org.openqa.selenium.InvalidSelectorException: The given selector .. is\r\n&gt; either invalid or does not result in a WebElement. The following error\r\n&gt; occurred:&amp;#10;InvalidSelectorError: The result of the xpath expression\r\n&gt; &amp;quot;..&amp;quot; is: [object XrayWrapper [object HTMLDocument]]. It\r\n&gt; should be an element.&amp;#10;Command duration or timeout: 10\r\n&gt; milliseconds&amp;#10;For documentation on this error,\r\n\r\nIs there a way to get the parent of current element? Thanks","title":"How to get parent of WebElement","body":"<p>I've tried </p>\n\n<pre><code>private WebElement getParent(final WebElement webElement) {\n    return webElement.findElement(By.xpath(\"..\"));\n}\n</code></pre>\n\n<p>But I'm getting:</p>\n\n<blockquote>\n  <p>org.openqa.selenium.InvalidSelectorException: The given selector .. is\n  either invalid or does not result in a WebElement. The following error\n  occurred:&#10;InvalidSelectorError: The result of the xpath expression\n  &quot;..&quot; is: [object XrayWrapper [object HTMLDocument]]. It\n  should be an element.&#10;Command duration or timeout: 10\n  milliseconds&#10;For documentation on this error,</p>\n</blockquote>\n\n<p>Is there a way to get the parent of current element? Thanks</p>\n"},{"tags":["java","jsf-2","session-variables","tomcat8"],"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1689253690,"post_id":76678897,"comment_id":135189356,"body_markdown":"There&#39;s a conceptual misunderstanding. JSF **does not** manage sessions. The servlet container and the server(s) do (and actually also the client). You would still have had exactly the same problem when using a different servlet based framework than JSF. You need to reframe your question to focus on that instead. In the servlet end, the most common mistake causing the described symptoms is that the app is deployed on a cluster/cloud with session replication/failover and that the WAR isn&#39;t properly preconfigured for that.","body":"There&#39;s a conceptual misunderstanding. JSF <b>does not</b> manage sessions. The servlet container and the server(s) do (and actually also the client). You would still have had exactly the same problem when using a different servlet based framework than JSF. You need to reframe your question to focus on that instead. In the servlet end, the most common mistake causing the described symptoms is that the app is deployed on a cluster/cloud with session replication/failover and that the WAR isn&#39;t properly preconfigured for that."},{"owner":{"account_id":8786844,"reputation":1,"user_id":6568428,"display_name":"PsPro"},"score":0,"creation_date":1689295942,"post_id":76678897,"comment_id":135196914,"body_markdown":"But I’m not understanding the statement ‘when using a different servlet based framework than JSF’, the app is not using any other framework than JSF. And the deployment is also not on a cluster, but yes the application and the database are on different servers, one server for app and other is for DB. Can this also be problematic?","body":"But I’m not understanding the statement ‘when using a different servlet based framework than JSF’, the app is not using any other framework than JSF. And the deployment is also not on a cluster, but yes the application and the database are on different servers, one server for app and other is for DB. Can this also be problematic?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689297369,"post_id":76678897,"comment_id":135197048,"body_markdown":"It means your question is about whatever container you&#39;re using, not JSF, so should be written and re-tagged accordingly. This seems perfectly clear to me.","body":"It means your question is about whatever container you&#39;re using, not JSF, so should be written and re-tagged accordingly. This seems perfectly clear to me."},{"owner":{"account_id":8786844,"reputation":1,"user_id":6568428,"display_name":"PsPro"},"score":0,"creation_date":1689312584,"post_id":76678897,"comment_id":135198324,"body_markdown":"Ok, thanks for the corrections. Can we discuss on the issue and any possible solution... if you&#39;ve any suggestions or something..","body":"Ok, thanks for the corrections. Can we discuss on the issue and any possible solution... if you&#39;ve any suggestions or something.."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1689361936,"post_id":76678897,"comment_id":135208091,"body_markdown":"When you use a different framework than JSF then you would still have observed **exactly the same** problem of sessions not being maintained. Why is that? This is because JSF is **not** responsible for managing sessions. You need to take a step back and focus the problem at server/client level, not at JSF level. Your current question has all information about JSF but very little information about server/client config. All that information about JSF is completely irrelevant to the real problem. You need to rewrite your question. Now re-read the first comment. Do you understand it now?","body":"When you use a different framework than JSF then you would still have observed <b>exactly the same</b> problem of sessions not being maintained. Why is that? This is because JSF is <b>not</b> responsible for managing sessions. You need to take a step back and focus the problem at server/client level, not at JSF level. Your current question has all information about JSF but very little information about server/client config. All that information about JSF is completely irrelevant to the real problem. You need to rewrite your question. Now re-read the first comment. Do you understand it now?"},{"owner":{"account_id":8786844,"reputation":1,"user_id":6568428,"display_name":"PsPro"},"score":0,"creation_date":1689392099,"post_id":76678897,"comment_id":135210789,"body_markdown":"Got your point… let me have a thorough check with the server guys, will come up with the findings if something looks weird… Thank you so much for the suggestions!","body":"Got your point… let me have a thorough check with the server guys, will come up with the findings if something looks weird… Thank you so much for the suggestions!"},{"owner":{"account_id":8786844,"reputation":1,"user_id":6568428,"display_name":"PsPro"},"score":0,"creation_date":1692012468,"post_id":76678897,"comment_id":135563743,"body_markdown":"The issue got solved now. The problem is due to the proxy server. We reconfigured it and is solved now. Thanks for the suggestions!","body":"The issue got solved now. The problem is due to the proxy server. We reconfigured it and is solved now. Thanks for the suggestions!"}],"owner":{"account_id":8786844,"reputation":1,"user_id":6568428,"display_name":"PsPro"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689298327,"creation_date":1689247905,"question_id":76678897,"body_markdown":"We&#39;re having a very large web application, entirely built with JSF (2.0)/PrimeFaces (8.0). Running on remote Tomcat 8 server (Linux OS)\r\nWe are facing a very serious issue due to which our server logs are filling up enormously.\r\n\r\nThe issue is : A user, after login, while working actively on the application [Inactivity timeout (30 mins, default) not reached] like filling up a form, the session attributes are going null unexpectedly and on an Ajax call, filters intercept the request and check for username which is stored in session \r\ncreated at login, on getting username from session, it is giving `null` value and redirecting the user to login page.\r\n\r\nAnd when user logs in again, same issue. And in 3rd attempt it is working absolutely fine. (This is just an example, sometimes started working as expected in 2nd attempt)\r\n\r\nThis is happening randomly, not always. \r\n\r\nWe have checked entire code for `session.invalidate()` but no issues, it is written where it should be like on Primefaces IdleMonitor timeout (10mins) and on logout. Also checked for `.getSession(true)` but no issues, it is written where it should be. Not anywhere in between.\r\n\r\nWe are trying to get it solved for last 3 days but no success...\r\n\r\nBelow is the approach which we are using in our application for session management.\r\n\r\n**Login Bean**\r\n\r\n```\r\n@ManagedBean(name=&quot;login&quot;)\r\n@ViewScoped\r\n\r\npublic class LoginBean implements Serializable\r\n{\r\n\tprivate String username;\r\n\tprivate String password;\r\n\tString baseURL;\r\n\tpublic constructor()\r\n\t{\r\n\t\tHttpSession ss = (HttpSession) FacesContext.getCurrentInstance().getExternalContext().getSession(false);\r\n\t\tif(ss!=null)\r\n\t\t{\r\n\t\t     ss.invalidate();\r\n\t\t}\r\n\r\n\t\tbaseURL = //some https://url where the application is hosted.\r\n\t}\r\n\r\n\tpublic void login()\r\n\t{\r\n\t\t//login DAO to check for login success\r\n\t\tif(loginSuccess)\r\n\t\t{\r\n\t\t\tHttpSession ss = (HttpSession) FacesContext.getCurrentInstance().getExternalContext().getSession(false);\r\n\t\t\tif(ss!=null)\r\n\t\t\t{\r\n\t\t\t     ss.invalidate();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tss = (HttpSession) FacesContext.getCurrentInstance().getExternalContext().getSession(true);\r\n\t\t\tss.setAttribute(&quot;username&quot;, username);\r\n\r\n\t\t\tPrimeFaces.current().executeScript(&quot;window.location.replace(&#39;&quot;+baseURL+&quot;homePage.xhtml&#39;);&quot;); // just to avoid navigation to login page using browser&#39;s back button\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\nAfter login, getting values from session on `homePage.xhtml`&#39;s associated bean, this way:\r\n\r\n```\r\n\r\n@ManagedBean(name=&quot;home&quot;)\r\n@ViewScoped\r\n\r\npublic class HomeBean implements Serializable\r\n{\r\n\tprivate String username;\r\n\t\r\n\tpublic constructor()\r\n\t{\r\n\t\tHttpSession ss = (HttpSession) FacesContext.getCurrentInstance().getExternalContext().getSession(false);\r\n\t\tusername = (String) ss.getAttribute(&quot;username&quot;);\r\n\t}\r\n}\r\n```\r\nThis way, we&#39;re accessing username from session in our entire application\r\n\r\n\r\n**Filter :**\r\n\r\n\r\n```\r\npublic class MyFilter implements Filter {\r\n\r\n\tString userName=&quot;&quot;;\r\n\t\r\n\t@Override\r\n\tpublic void destroy() {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void doFilter(ServletRequest request, ServletResponse response,\r\n\t\t\tFilterChain chain) throws IOException, ServletException {\r\n\r\n\t\tHttpServletRequest req=(HttpServletRequest) request;\r\n\t\tHttpServletResponse res=(HttpServletResponse) response;\r\n\r\n\t\tHttpSession session = req.getSession(false);\r\n\t\tuserName=(String) req.getSession().getAttribute(&quot;username&quot;);\r\n    \t\r\n    \tString requestUrl = req.getRequestURI();\r\n\t\tString loginURL = req.getContextPath() + &quot;/login.xhtml&quot;;\r\n\t\tString expiryURL = req.getContextPath() + &quot;/expired.xhtml&quot;;\r\n\t\t\r\n\t\t\r\n\t\tif (!requestUrl.contains(ResourceHandler.RESOURCE_IDENTIFIER))\r\n\t\t{\r\n\t\t\tif(!requestUrl.contains(&quot;/login.xhtml&quot;) &amp;&amp; !requestUrl.contains(&quot;/expired.xhtml&quot;))\r\n\t\t\t{\r\n\t\t\t\tif(session == null) {\r\n\t\t            if (&quot;partial/ajax&quot;.equals(req.getHeader(&quot;Faces-Request&quot;))) {\r\n\t\t\t\t        res.setContentType(&quot;text/xml&quot;);\r\n\t\t\t\t        res.getWriter()\r\n\t\t\t\t            .append(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot;)\r\n\t\t\t\t            .printf(&quot;&lt;partial-response&gt;&lt;redirect url=\\&quot;%s\\&quot;&gt;&lt;/redirect&gt;&lt;/partial-response&gt;&quot;, expiryURL);\r\n\t\t\t\t    } else {\r\n\t\t\t\t    \tres.sendRedirect(expiryURL);\r\n\t\t\t\t    }\r\n\t\t        }\r\n\t\t        else\r\n\t\t        {\r\n    \t\t\r\n\t\t        \tif(userName==null  || userName.equals(&quot;&quot;) )\r\n\t\t        \t{\r\n\t\t        \t\tsession.invalidate();\r\n\r\n\t\t        \t\tif (&quot;partial/ajax&quot;.equals(req.getHeader(&quot;Faces-Request&quot;))) {\r\n\t\t        \t\t\tres.setContentType(&quot;text/xml&quot;);\r\n\t\t\t\t\t        res.getWriter()\r\n\t\t\t\t\t            .append(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot;)\r\n\t\t\t\t\t            .printf(&quot;&lt;partial-response&gt;&lt;redirect url=\\&quot;%s\\&quot;&gt;&lt;/redirect&gt;&lt;/partial-response&gt;&quot;, expiryURL);\r\n\t\t\t\t\t    } else {\r\n\t\t\t\t\t    \tres.sendRedirect(expiryURL);\r\n\t\t\t\t\t    }\r\n\t\t        \t}\r\n\t\t        \telse\r\n\t\t        \t{\r\n\t\t        \t\tchain.doFilter(request, response);\r\n\t\t        \t}\r\n\t\t        }\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif(requestUrl.contains(&quot;/expired.xhtml&quot;))\r\n\t\t\t\t{\r\n\t\t\t\t\tif(session!=null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tsession.invalidate();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tchain.doFilter(request, response);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tchain.doFilter(request, response);\r\n\t\t}\r\n\r\n\t}\r\n\t@Override\r\n\tpublic void init(FilterConfig arg0) throws ServletException {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**Primefaces Idle Monitor :**\r\n\r\n\r\n```\r\n&lt;h:form&gt;\r\n   &lt;p:idleMonitor timeout=&quot;600000&quot;&gt;\r\n       &lt;p:ajax event=&quot;active&quot; listener=&quot;#{idleBean.expire()}&quot; /&gt;\r\n   &lt;/p:idleMonitor&gt;\r\n&lt;/h:form&gt;\r\n```\r\n\r\nThis is included in our UI template using &lt;ui:include&gt; \r\n\r\n**Idle Monitor Bean**\r\n\r\n\r\n```\r\n@ManagedBean(name=&quot;idleBean&quot;)\r\n@ViewScoped\r\n\r\npublic void expire() throws IOException\r\n{\r\n\tHttpSession ss = (HttpSession) FacesContext.getCurrentInstance().getExternalContext().getSession(false);\r\n\tif(ss!=null)\r\n\t{\r\n\t\tss.invalidate();\r\n\t}\r\n\t\r\n\tFacesContext.getCurrentInstance().getExternalContext().redirect(baseURL+&quot;/expired.xhtml&quot;);\r\n\r\n\treturn;\r\n}\r\n```\r\nOne more thing I wanted to add, as the application and the code is a bit old (~5years), it is having a random navigation or page switching mechanism like somewhere `return(pagename.xhtml)` and somewhere `ExternalContext#redirect(pagename.xhtml)`. I&#39;m not sure but suspecting this also for session issues.\r\n\r\nThe issue mentioned above is not coming always but randomly and is very annoying. Like it is happening anytime, while navigating to other page or while filling up a form and during ajax call or button clicks within 3-4 minutes of logging in.\r\n\r\nPlease help me understanding whether this approach is fine or not. If there are any flaws which are causing session attributes going `null`. Please suggest for solving this issue or improving this approach.\r\n\r\n","title":"Understanding HTTP sessions in JSF as session attributres are going null unexpectedly while working actively on the application","body":"<p>We're having a very large web application, entirely built with JSF (2.0)/PrimeFaces (8.0). Running on remote Tomcat 8 server (Linux OS)\nWe are facing a very serious issue due to which our server logs are filling up enormously.</p>\n<p>The issue is : A user, after login, while working actively on the application [Inactivity timeout (30 mins, default) not reached] like filling up a form, the session attributes are going null unexpectedly and on an Ajax call, filters intercept the request and check for username which is stored in session\ncreated at login, on getting username from session, it is giving <code>null</code> value and redirecting the user to login page.</p>\n<p>And when user logs in again, same issue. And in 3rd attempt it is working absolutely fine. (This is just an example, sometimes started working as expected in 2nd attempt)</p>\n<p>This is happening randomly, not always.</p>\n<p>We have checked entire code for <code>session.invalidate()</code> but no issues, it is written where it should be like on Primefaces IdleMonitor timeout (10mins) and on logout. Also checked for <code>.getSession(true)</code> but no issues, it is written where it should be. Not anywhere in between.</p>\n<p>We are trying to get it solved for last 3 days but no success...</p>\n<p>Below is the approach which we are using in our application for session management.</p>\n<p><strong>Login Bean</strong></p>\n<pre><code>@ManagedBean(name=&quot;login&quot;)\n@ViewScoped\n\npublic class LoginBean implements Serializable\n{\n    private String username;\n    private String password;\n    String baseURL;\n    public constructor()\n    {\n        HttpSession ss = (HttpSession) FacesContext.getCurrentInstance().getExternalContext().getSession(false);\n        if(ss!=null)\n        {\n             ss.invalidate();\n        }\n\n        baseURL = //some https://url where the application is hosted.\n    }\n\n    public void login()\n    {\n        //login DAO to check for login success\n        if(loginSuccess)\n        {\n            HttpSession ss = (HttpSession) FacesContext.getCurrentInstance().getExternalContext().getSession(false);\n            if(ss!=null)\n            {\n                 ss.invalidate();\n            }\n            \n            ss = (HttpSession) FacesContext.getCurrentInstance().getExternalContext().getSession(true);\n            ss.setAttribute(&quot;username&quot;, username);\n\n            PrimeFaces.current().executeScript(&quot;window.location.replace('&quot;+baseURL+&quot;homePage.xhtml');&quot;); // just to avoid navigation to login page using browser's back button\n        }\n    }\n}\n</code></pre>\n<p>After login, getting values from session on <code>homePage.xhtml</code>'s associated bean, this way:</p>\n<pre><code>\n@ManagedBean(name=&quot;home&quot;)\n@ViewScoped\n\npublic class HomeBean implements Serializable\n{\n    private String username;\n    \n    public constructor()\n    {\n        HttpSession ss = (HttpSession) FacesContext.getCurrentInstance().getExternalContext().getSession(false);\n        username = (String) ss.getAttribute(&quot;username&quot;);\n    }\n}\n</code></pre>\n<p>This way, we're accessing username from session in our entire application</p>\n<p><strong>Filter :</strong></p>\n<pre><code>public class MyFilter implements Filter {\n\n    String userName=&quot;&quot;;\n    \n    @Override\n    public void destroy() {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response,\n            FilterChain chain) throws IOException, ServletException {\n\n        HttpServletRequest req=(HttpServletRequest) request;\n        HttpServletResponse res=(HttpServletResponse) response;\n\n        HttpSession session = req.getSession(false);\n        userName=(String) req.getSession().getAttribute(&quot;username&quot;);\n        \n        String requestUrl = req.getRequestURI();\n        String loginURL = req.getContextPath() + &quot;/login.xhtml&quot;;\n        String expiryURL = req.getContextPath() + &quot;/expired.xhtml&quot;;\n        \n        \n        if (!requestUrl.contains(ResourceHandler.RESOURCE_IDENTIFIER))\n        {\n            if(!requestUrl.contains(&quot;/login.xhtml&quot;) &amp;&amp; !requestUrl.contains(&quot;/expired.xhtml&quot;))\n            {\n                if(session == null) {\n                    if (&quot;partial/ajax&quot;.equals(req.getHeader(&quot;Faces-Request&quot;))) {\n                        res.setContentType(&quot;text/xml&quot;);\n                        res.getWriter()\n                            .append(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot;)\n                            .printf(&quot;&lt;partial-response&gt;&lt;redirect url=\\&quot;%s\\&quot;&gt;&lt;/redirect&gt;&lt;/partial-response&gt;&quot;, expiryURL);\n                    } else {\n                        res.sendRedirect(expiryURL);\n                    }\n                }\n                else\n                {\n            \n                    if(userName==null  || userName.equals(&quot;&quot;) )\n                    {\n                        session.invalidate();\n\n                        if (&quot;partial/ajax&quot;.equals(req.getHeader(&quot;Faces-Request&quot;))) {\n                            res.setContentType(&quot;text/xml&quot;);\n                            res.getWriter()\n                                .append(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot;)\n                                .printf(&quot;&lt;partial-response&gt;&lt;redirect url=\\&quot;%s\\&quot;&gt;&lt;/redirect&gt;&lt;/partial-response&gt;&quot;, expiryURL);\n                        } else {\n                            res.sendRedirect(expiryURL);\n                        }\n                    }\n                    else\n                    {\n                        chain.doFilter(request, response);\n                    }\n                }\n            }\n            else\n            {\n                if(requestUrl.contains(&quot;/expired.xhtml&quot;))\n                {\n                    if(session!=null)\n                    {\n                        session.invalidate();\n                    }\n                }\n\n                chain.doFilter(request, response);\n            }\n        }\n        else\n        {\n            chain.doFilter(request, response);\n        }\n\n    }\n    @Override\n    public void init(FilterConfig arg0) throws ServletException {\n        // TODO Auto-generated method stub\n\n    }\n\n}\n</code></pre>\n<p><strong>Primefaces Idle Monitor :</strong></p>\n<pre><code>&lt;h:form&gt;\n   &lt;p:idleMonitor timeout=&quot;600000&quot;&gt;\n       &lt;p:ajax event=&quot;active&quot; listener=&quot;#{idleBean.expire()}&quot; /&gt;\n   &lt;/p:idleMonitor&gt;\n&lt;/h:form&gt;\n</code></pre>\n<p>This is included in our UI template using &lt;ui:include&gt;</p>\n<p><strong>Idle Monitor Bean</strong></p>\n<pre><code>@ManagedBean(name=&quot;idleBean&quot;)\n@ViewScoped\n\npublic void expire() throws IOException\n{\n    HttpSession ss = (HttpSession) FacesContext.getCurrentInstance().getExternalContext().getSession(false);\n    if(ss!=null)\n    {\n        ss.invalidate();\n    }\n    \n    FacesContext.getCurrentInstance().getExternalContext().redirect(baseURL+&quot;/expired.xhtml&quot;);\n\n    return;\n}\n</code></pre>\n<p>One more thing I wanted to add, as the application and the code is a bit old (~5years), it is having a random navigation or page switching mechanism like somewhere <code>return(pagename.xhtml)</code> and somewhere <code>ExternalContext#redirect(pagename.xhtml)</code>. I'm not sure but suspecting this also for session issues.</p>\n<p>The issue mentioned above is not coming always but randomly and is very annoying. Like it is happening anytime, while navigating to other page or while filling up a form and during ajax call or button clicks within 3-4 minutes of logging in.</p>\n<p>Please help me understanding whether this approach is fine or not. If there are any flaws which are causing session attributes going <code>null</code>. Please suggest for solving this issue or improving this approach.</p>\n"},{"tags":["java","selenium","google-chrome","jenkins","selenium-webdriver"],"comments":[{"owner":{"account_id":13335123,"reputation":689,"user_id":9625231,"display_name":"xzesstence"},"score":0,"creation_date":1553610511,"post_id":55359513,"comment_id":97442986,"body_markdown":"its some time ago but..\ncheck if you leave unexpected instances of the chrome driver on your system.. in my case i was doing a massive test with selenium and the problem was that my script left many dead instances of the chrome driver..even if i tried to recycle the chromedriver instances.. in my case the only solution was to dirty work around that, \nAlso in my eyes it was very difficult to run selenium tests async, i just want to point out.\nHope it brings some helpful informations to you.. Cheers","body":"its some time ago but.. check if you leave unexpected instances of the chrome driver on your system.. in my case i was doing a massive test with selenium and the problem was that my script left many dead instances of the chrome driver..even if i tried to recycle the chromedriver instances.. in my case the only solution was to dirty work around that,  Also in my eyes it was very difficult to run selenium tests async, i just want to point out. Hope it brings some helpful informations to you.. Cheers"},{"owner":{"account_id":4297359,"reputation":959,"user_id":3512053,"accept_rate":100,"display_name":"Asyranok"},"score":0,"creation_date":1553616333,"post_id":55359513,"comment_id":97446980,"body_markdown":"A couple things 1) Can we please see the code that the error mentions, where you use `DesiredCapabilities.chrome()`. It would help to see how it is launched. 2) Launch the selenium driver directly, and see if the command prompt that appears stays visible and does not spew errors of any kind. 3) You&#39;ve restarted this machine, right? 4) All you see on a web browser when opening Jenkins is `ERR_CONNECTION_REFUSED` and nothing else, just as plain text?","body":"A couple things 1) Can we please see the code that the error mentions, where you use <code>DesiredCapabilities.chrome()</code>. It would help to see how it is launched. 2) Launch the selenium driver directly, and see if the command prompt that appears stays visible and does not spew errors of any kind. 3) You&#39;ve restarted this machine, right? 4) All you see on a web browser when opening Jenkins is <code>ERR_CONNECTION_REFUSED</code> and nothing else, just as plain text?"},{"owner":{"account_id":10201069,"reputation":5579,"user_id":8625512,"accept_rate":100,"display_name":"Andrei Suvorkov"},"score":0,"creation_date":1553670551,"post_id":55359513,"comment_id":97465494,"body_markdown":"@Asyranok 1) if you mean `ERR_CONNECTION_REFUSED` it happens, when I try to open `Jenkins` webpage. It has nothing to do with `DesiredCapabilities.chrome()` I think. 2) I have launched. No errors. 3) Yes, I have restarted. 4) the full messge is like this (`The website is unavailable localhost has refused the connection.\nTry the following:\n\nCheck connection\nCheck Proxy and Firewall\nERR_CONNECTION_REFUSED`)","body":"@Asyranok 1) if you mean <code>ERR_CONNECTION_REFUSED</code> it happens, when I try to open <code>Jenkins</code> webpage. It has nothing to do with <code>DesiredCapabilities.chrome()</code> I think. 2) I have launched. No errors. 3) Yes, I have restarted. 4) the full messge is like this (<code>The website is unavailable localhost has refused the connection. Try the following:  Check connection Check Proxy and Firewall ERR_CONNECTION_REFUSED</code>)"},{"owner":{"account_id":14255433,"reputation":282,"user_id":10297796,"display_name":"Vikas Piprade"},"score":0,"creation_date":1647944876,"post_id":55359513,"comment_id":126493051,"body_markdown":"I am using Firefox 98.0.1 (64 bit) and my selenium tests invoked from Jenkins build are not launching browser. Same behaviour is on Chrome. All tests are passing and maven surefire plugin reports are perfectly fine. \nI feel like it is something to do with Jenkins launching headless browser.","body":"I am using Firefox 98.0.1 (64 bit) and my selenium tests invoked from Jenkins build are not launching browser. Same behaviour is on Chrome. All tests are passing and maven surefire plugin reports are perfectly fine.  I feel like it is something to do with Jenkins launching headless browser."}],"answers":[{"comments":[{"owner":{"account_id":10201069,"reputation":5579,"user_id":8625512,"accept_rate":100,"display_name":"Andrei Suvorkov"},"score":0,"creation_date":1553671290,"post_id":55363565,"comment_id":97465799,"body_markdown":"Thank you very much, now I am able to run Jenkins. Somehow it was disabled in windows services. I have rebooted it in windows services and it worked. But the main problem is not solved yet","body":"Thank you very much, now I am able to run Jenkins. Somehow it was disabled in windows services. I have rebooted it in windows services and it worked. But the main problem is not solved yet"}],"tags":[],"owner":{"account_id":14631339,"reputation":1976,"user_id":10567003,"display_name":"TheSociety"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582879489,"creation_date":1553623200,"answer_id":55363565,"question_id":55359513,"body_markdown":"**For Windows:**\r\n\r\n***I would like to add when Jenkins shall show running automation test cases in browser.***\r\n\r\n*First, you should not install Jenkins as windows application.* Even if you do so but Do not enable the checkbox &quot;Allow service to interact with desktop&quot; under Log On Tab, then Jenkins would not be showing running test cases in browser. where to find this tab -\r\n\r\n1) In windows, service select the service of Jenkins\r\n\r\n2) Open properties window of the service -&gt; Logon-&gt; enable the checkbox &quot;Allow service to interact with desktop&quot;\r\n\r\n3) you have to toggle the NoInteractiveServices registry key\r\n\r\n4) After then you should reboot the service, Jenkins.\r\n\r\n***Best Approach*** \r\nYou shall deploy Jenkins from a war file as follows:\r\n\r\n1) Download Jenkins.war from&#160;Jenkins&#39;s official site. (If already installed just go to the folder where Jenkins has installed default path as &quot;C:\\Program Files (x86)\\Jenkins\\&quot;)\r\n\r\n2) Deploy it by the command prompt : java -jar {directoryOfJenkinsFileInWindows}/jenkins.war\r\n\r\n3) Now you can access Jenkins administration on http://localhost:8080","title":"Browser does not open in Jenkins while executing selenium test","body":"<p><strong>For Windows:</strong></p>\n\n<p><strong><em>I would like to add when Jenkins shall show running automation test cases in browser.</em></strong></p>\n\n<p><em>First, you should not install Jenkins as windows application.</em> Even if you do so but Do not enable the checkbox \"Allow service to interact with desktop\" under Log On Tab, then Jenkins would not be showing running test cases in browser. where to find this tab -</p>\n\n<p>1) In windows, service select the service of Jenkins</p>\n\n<p>2) Open properties window of the service -> Logon-> enable the checkbox \"Allow service to interact with desktop\"</p>\n\n<p>3) you have to toggle the NoInteractiveServices registry key</p>\n\n<p>4) After then you should reboot the service, Jenkins.</p>\n\n<p><strong><em>Best Approach</em></strong> \nYou shall deploy Jenkins from a war file as follows:</p>\n\n<p>1) Download Jenkins.war from Jenkins's official site. (If already installed just go to the folder where Jenkins has installed default path as \"C:\\Program Files (x86)\\Jenkins\\\")</p>\n\n<p>2) Deploy it by the command prompt : java -jar {directoryOfJenkinsFileInWindows}/jenkins.war</p>\n\n<p>3) Now you can access Jenkins administration on <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">http://localhost:8080</a></p>\n"},{"comments":[{"owner":{"account_id":10201069,"reputation":5579,"user_id":8625512,"accept_rate":100,"display_name":"Andrei Suvorkov"},"score":0,"creation_date":1553678471,"post_id":55371996,"comment_id":97469508,"body_markdown":"I am using default settings from this template project https://github.com/hypery2k/serenity_sample . As you can see webDriver instance is setting up automatically, I just peek `chrome` or `firefox` in `serenity.properties`. It was working well for a couple of months. I have tried to run my job with `firefox` and it worked well. But I also need `chrome`","body":"I am using default settings from this template project <a href=\"https://github.com/hypery2k/serenity_sample\" rel=\"nofollow noreferrer\">github.com/hypery2k/serenity_sample</a> . As you can see webDriver instance is setting up automatically, I just peek <code>chrome</code> or <code>firefox</code> in <code>serenity.properties</code>. It was working well for a couple of months. I have tried to run my job with <code>firefox</code> and it worked well. But I also need <code>chrome</code>"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1553678785,"post_id":55371996,"comment_id":97469697,"body_markdown":"@AndreiSuvorkov The summary is Chrome and ChromeDriver is **OSS** complaint whereas Firefox and IE is **W3C** complaint.","body":"@AndreiSuvorkov The summary is Chrome and ChromeDriver is <b>OSS</b> complaint whereas Firefox and IE is <b>W3C</b> complaint."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553679130,"creation_date":1553672274,"answer_id":55371996,"question_id":55359513,"body_markdown":"This error message...\r\n\r\n\tM&#228;rz 26, 2019 3:02:23 NACHM. org.openqa.selenium.remote.DesiredCapabilities chrome\r\n\tINFO: Using `new ChromeOptions()` is preferred to `DesiredCapabilities.chrome()`\r\n\tStarting ChromeDriver 73.0.3683.68 (47787ec04b6e38e22703e856e101e840b65afe72) on port 46182\r\n\tOnly local connections are allowed.\r\n\tPlease protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\r\n\tM&#228;rz 26, 2019 3:02:25 NACHM. org.openqa.selenium.remote.ProtocolHandshake createSession\r\n\tINFO: Detected dialect: W3C\r\n\r\n...implies that you have used an instance of `DesiredCapabilities()` class and casted for **chrome** but when the session was created the dialect detected was **W3C**\r\n\r\nAs a general consciousness:\r\n\r\n- _Chrome_ and _ChromeDriver_ is **OSS** complaint\r\n- Whereas _GeckoDriver_ / _Firefox_ and _IEDriverServer_ / _Internet Explorer_ is **W3C** complaint.\r\n\r\nYour code block would have helped us to debug the issue in a better way. Perhaps though you have used `DesiredCapabilities()` class and casted for **chrome** but while initializing you have invoked the `FirefoxDriver()` as:\r\n\r\n\tWebDriver driver =  new FirefoxDriver();\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nChange the initialization of _WebDriver_ as:\r\n\r\n\tWebDriver driver = new ChromeDriver();","title":"Browser does not open in Jenkins while executing selenium test","body":"<p>This error message...</p>\n\n<pre><code>März 26, 2019 3:02:23 NACHM. org.openqa.selenium.remote.DesiredCapabilities chrome\nINFO: Using `new ChromeOptions()` is preferred to `DesiredCapabilities.chrome()`\nStarting ChromeDriver 73.0.3683.68 (47787ec04b6e38e22703e856e101e840b65afe72) on port 46182\nOnly local connections are allowed.\nPlease protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\nMärz 26, 2019 3:02:25 NACHM. org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\n</code></pre>\n\n<p>...implies that you have used an instance of <code>DesiredCapabilities()</code> class and casted for <strong>chrome</strong> but when the session was created the dialect detected was <strong>W3C</strong></p>\n\n<p>As a general consciousness:</p>\n\n<ul>\n<li><em>Chrome</em> and <em>ChromeDriver</em> is <strong>OSS</strong> complaint</li>\n<li>Whereas <em>GeckoDriver</em> / <em>Firefox</em> and <em>IEDriverServer</em> / <em>Internet Explorer</em> is <strong>W3C</strong> complaint.</li>\n</ul>\n\n<p>Your code block would have helped us to debug the issue in a better way. Perhaps though you have used <code>DesiredCapabilities()</code> class and casted for <strong>chrome</strong> but while initializing you have invoked the <code>FirefoxDriver()</code> as:</p>\n\n<pre><code>WebDriver driver =  new FirefoxDriver();\n</code></pre>\n\n<hr>\n\n<h2>Solution</h2>\n\n<p>Change the initialization of <em>WebDriver</em> as:</p>\n\n<pre><code>WebDriver driver = new ChromeDriver();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14255433,"reputation":282,"user_id":10297796,"display_name":"Vikas Piprade"},"score":0,"creation_date":1647952278,"post_id":55390562,"comment_id":126495710,"body_markdown":"One thing I want to mention here ...\nIf you are running tests from eclipse maven project , it&#39;s using maven embedded in eclipse . And for Jenkins probably you are using maven which is installed on node. \nBoth times, while running project from eclipse and Jenkins, it&#39;s using different version of maven. There could be some unknown issue in maven and that&#39;s why it&#39;s launching browser locally and not from Jenkins.","body":"One thing I want to mention here ... If you are running tests from eclipse maven project , it&#39;s using maven embedded in eclipse . And for Jenkins probably you are using maven which is installed on node.  Both times, while running project from eclipse and Jenkins, it&#39;s using different version of maven. There could be some unknown issue in maven and that&#39;s why it&#39;s launching browser locally and not from Jenkins."}],"tags":[],"owner":{"account_id":10201069,"reputation":5579,"user_id":8625512,"accept_rate":100,"display_name":"Andrei Suvorkov"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1553775636,"creation_date":1553749820,"answer_id":55390562,"question_id":55359513,"body_markdown":"So. I have found an issue and it is a Chronium bug. More information can be found [here][1]. I will try to downgrade webdriver and chrome to older version and will share the result.\r\n\r\n***EDIT:***\r\nI have downgraded my Chrome to `Version 72.0.3626.81` and chromedriver to `ChromeDriver 2.46`. It works well.\r\n\r\n***NOTE:***\r\nI found a bit tricky to prevent Chrome from auto-update to the newest version. [Here][2] you can found some useful tipps how to deal with it. I personally choose folder rename ))\r\n\r\n\r\n  [1]: https://bugs.chromium.org/p/chromedriver/issues/detail?id=2827&amp;q=&amp;sort=-id&amp;colspec=ID%20Status%20Pri%20Owner%20Summary\r\n  [2]: https://stackoverflow.com/a/31939624","title":"Browser does not open in Jenkins while executing selenium test","body":"<p>So. I have found an issue and it is a Chronium bug. More information can be found <a href=\"https://bugs.chromium.org/p/chromedriver/issues/detail?id=2827&amp;q=&amp;sort=-id&amp;colspec=ID%20Status%20Pri%20Owner%20Summary\" rel=\"nofollow noreferrer\">here</a>. I will try to downgrade webdriver and chrome to older version and will share the result.</p>\n\n<p><strong><em>EDIT:</em></strong>\nI have downgraded my Chrome to <code>Version 72.0.3626.81</code> and chromedriver to <code>ChromeDriver 2.46</code>. It works well.</p>\n\n<p><strong><em>NOTE:</em></strong>\nI found a bit tricky to prevent Chrome from auto-update to the newest version. <a href=\"https://stackoverflow.com/a/31939624\">Here</a> you can found some useful tipps how to deal with it. I personally choose folder rename ))</p>\n"},{"tags":[],"owner":{"account_id":15568203,"reputation":26,"user_id":11231362,"display_name":"Rajagopal V"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553845841,"creation_date":1553845841,"answer_id":55412741,"question_id":55359513,"body_markdown":"Mostly it is due to compatibility issue (selenium and chrome driver version). Please refer to http://chromedriver.chromium.org/downloads\r\n\r\nhttps://stackoverflow.com/questions/48450594/selenium-timed-out-receiving-message-from-renderer","title":"Browser does not open in Jenkins while executing selenium test","body":"<p>Mostly it is due to compatibility issue (selenium and chrome driver version). Please refer to <a href=\"http://chromedriver.chromium.org/downloads\" rel=\"nofollow noreferrer\">http://chromedriver.chromium.org/downloads</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/48450594/selenium-timed-out-receiving-message-from-renderer\">Selenium Timed out receiving message from renderer</a></p>\n"},{"tags":[],"owner":{"account_id":5834407,"reputation":59,"user_id":4597939,"display_name":"Purushoth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597152744,"creation_date":1597143509,"answer_id":63356773,"question_id":55359513,"body_markdown":"Working Solution - Install Jenkins by Downloading Generic Java Package(.war), after installation the browser will open automatically when running selenium tests.\r\n\r\nhttps://www.jenkins.io/download/\r\n\r\nPlease refer the below URL for installing Jenkins that supports opening browsers and run tests.\r\nhttps://itsforlavanya.blogspot.com/2020/08/jenkins-installation-install-jenkins-in.html\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bLf0m.png","title":"Browser does not open in Jenkins while executing selenium test","body":"<p>Working Solution - Install Jenkins by Downloading Generic Java Package(.war), after installation the browser will open automatically when running selenium tests.</p>\n<p><a href=\"https://www.jenkins.io/download/\" rel=\"nofollow noreferrer\">https://www.jenkins.io/download/</a></p>\n<p>Please refer the below URL for installing Jenkins that supports opening browsers and run tests.\n<a href=\"https://itsforlavanya.blogspot.com/2020/08/jenkins-installation-install-jenkins-in.html\" rel=\"nofollow noreferrer\">https://itsforlavanya.blogspot.com/2020/08/jenkins-installation-install-jenkins-in.html</a></p>\n<p><a href=\"https://i.stack.imgur.com/bLf0m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bLf0m.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":10201069,"reputation":5579,"user_id":8625512,"accept_rate":100,"display_name":"Andrei Suvorkov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55390562,"answer_count":5,"score":0,"last_activity_date":1689296350,"creation_date":1553610271,"question_id":55359513,"body_markdown":"I am trying to start a job in `Jenkins`, which executes a `Selenium` script. It was working fine for a few months, but today it is just stopped working for an unknown reason. This job starts the first test as always and then stucks. I am not getting any errors, just nothing happens after this:\r\n\r\n    TEST STARTED: test\r\n    -------------------------------------------------------------------\r\n    [main] INFO net.serenitybdd.core.Serenity - TEST NUMBER: 1\r\n    M&#228;rz 26, 2019 3:02:23 NACHM. org.openqa.selenium.remote.DesiredCapabilities chrome\r\n    INFO: Using `new ChromeOptions()` is preferred to `DesiredCapabilities.chrome()`\r\n    Starting ChromeDriver 73.0.3683.68 (47787ec04b6e38e22703e856e101e840b65afe72) on port 46182\r\n    Only local connections are allowed.\r\n    Please protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\r\n    M&#228;rz 26, 2019 3:02:25 NACHM. org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFO: Detected dialect: W3C\r\n\r\n\r\n----------\r\n\r\n\r\nI have realised, that every time I am starting a job with chrome a new `Google Chrome` processes adds to task manager, so I assume the chrome windows are showing up. Also when I kill this processes, I am getting this:\r\n\r\n    ...\r\n    [1553694146.113][SEVERE]: Timed out receiving message from renderer: 10.000\r\n    [1553694146.113][WARNING]: screenshot failed, retrying\r\n    [1553694156.113][SEVERE]: Timed out receiving message from renderer: 10.000\r\n    [1553694166.118][SEVERE]: Timed out receiving message from renderer: 10.000\r\n    [1553694166.118][WARNING]: screenshot failed, retrying\r\n    [main] WARN net.thucydides.core.webdriver.WebDriverFacade - Failed to take screenshot (unknown error: session deleted because of page crash\r\n    from unknown error: cannot determine loading status\r\n    from tab crashed\r\n     (Session info: chrome=73.0.3683.86)\r\n     (Driver info: chromedriver=73.0.3683.68 (47787ec04b6e38e22703e856e101e840b65afe72),platform=Windows NT 10.0.17763 x86_64) (WARNING: The server did not provide any stacktrace information)\r\n    Command duration or timeout: 0 milliseconds\r\n    Build info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\n    System info: host: &#39;DESKTOP-5QTQGUC&#39;, ip: &#39;192.168.178.23&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;11.0.1&#39;\r\n    Driver info: org.openqa.selenium.remote.RemoteWebDriver\r\n    Capabilities {acceptInsecureCerts: false, acceptSslCerts: false, applicationCacheEnabled: false, browserConnectionEnabled: false, browserName: chrome, chrome: {chromedriverVersion: 73.0.3683.68 (47787ec04b6e3..., userDataDir: C:\\WINDOWS\\TEMP\\scoped_dir5...}, cssSelectorsEnabled: true, databaseEnabled: false, goog:chromeOptions: {debuggerAddress: localhost:3697}, handlesAlerts: true, hasTouchScreen: false, javascriptEnabled: true, locationContextEnabled: true, mobileEmulationEnabled: false, nativeEvents: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: XP, platformName: XP, proxy: Proxy(), rotatable: false, setWindowRect: true, strictFileInteractability: false, takesHeapSnapshot: true, takesScreenshot: true, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unexpectedAlertBehaviour: ignore, unhandledPromptBehavior: ignore, version: 73.0.3683.86, webStorageEnabled: true}\r\n    Session ID: da5e7153b21e4cb075843ac4e541ab6f)\r\n    [main] ERROR net.thucydides.core.steps.ConsoleLoggingListener -\r\n    ...\r\n\r\n----------\r\nI have tried to update `Jenkins` and all plugins, updated my browser and webdriver, turned off firewall and antivirus. Nothing helped so far. I am still able to run all test local via `ide` and have no idea what went wrong with `Jenkins`, that I am not able to run my tests.\r\n\r\nAny ideas, what could went wrong and how to deal with it?\r\n\r\nPS it works fine in firefox, but I also need chrome\r\n","title":"Browser does not open in Jenkins while executing selenium test","body":"<p>I am trying to start a job in <code>Jenkins</code>, which executes a <code>Selenium</code> script. It was working fine for a few months, but today it is just stopped working for an unknown reason. This job starts the first test as always and then stucks. I am not getting any errors, just nothing happens after this:</p>\n\n<pre><code>TEST STARTED: test\n-------------------------------------------------------------------\n[main] INFO net.serenitybdd.core.Serenity - TEST NUMBER: 1\nMärz 26, 2019 3:02:23 NACHM. org.openqa.selenium.remote.DesiredCapabilities chrome\nINFO: Using `new ChromeOptions()` is preferred to `DesiredCapabilities.chrome()`\nStarting ChromeDriver 73.0.3683.68 (47787ec04b6e38e22703e856e101e840b65afe72) on port 46182\nOnly local connections are allowed.\nPlease protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\nMärz 26, 2019 3:02:25 NACHM. org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\n</code></pre>\n\n<hr>\n\n<p>I have realised, that every time I am starting a job with chrome a new <code>Google Chrome</code> processes adds to task manager, so I assume the chrome windows are showing up. Also when I kill this processes, I am getting this:</p>\n\n<pre><code>...\n[1553694146.113][SEVERE]: Timed out receiving message from renderer: 10.000\n[1553694146.113][WARNING]: screenshot failed, retrying\n[1553694156.113][SEVERE]: Timed out receiving message from renderer: 10.000\n[1553694166.118][SEVERE]: Timed out receiving message from renderer: 10.000\n[1553694166.118][WARNING]: screenshot failed, retrying\n[main] WARN net.thucydides.core.webdriver.WebDriverFacade - Failed to take screenshot (unknown error: session deleted because of page crash\nfrom unknown error: cannot determine loading status\nfrom tab crashed\n (Session info: chrome=73.0.3683.86)\n (Driver info: chromedriver=73.0.3683.68 (47787ec04b6e38e22703e856e101e840b65afe72),platform=Windows NT 10.0.17763 x86_64) (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 0 milliseconds\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'DESKTOP-5QTQGUC', ip: '192.168.178.23', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.1'\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\nCapabilities {acceptInsecureCerts: false, acceptSslCerts: false, applicationCacheEnabled: false, browserConnectionEnabled: false, browserName: chrome, chrome: {chromedriverVersion: 73.0.3683.68 (47787ec04b6e3..., userDataDir: C:\\WINDOWS\\TEMP\\scoped_dir5...}, cssSelectorsEnabled: true, databaseEnabled: false, goog:chromeOptions: {debuggerAddress: localhost:3697}, handlesAlerts: true, hasTouchScreen: false, javascriptEnabled: true, locationContextEnabled: true, mobileEmulationEnabled: false, nativeEvents: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: XP, platformName: XP, proxy: Proxy(), rotatable: false, setWindowRect: true, strictFileInteractability: false, takesHeapSnapshot: true, takesScreenshot: true, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unexpectedAlertBehaviour: ignore, unhandledPromptBehavior: ignore, version: 73.0.3683.86, webStorageEnabled: true}\nSession ID: da5e7153b21e4cb075843ac4e541ab6f)\n[main] ERROR net.thucydides.core.steps.ConsoleLoggingListener -\n...\n</code></pre>\n\n<hr>\n\n<p>I have tried to update <code>Jenkins</code> and all plugins, updated my browser and webdriver, turned off firewall and antivirus. Nothing helped so far. I am still able to run all test local via <code>ide</code> and have no idea what went wrong with <code>Jenkins</code>, that I am not able to run my tests.</p>\n\n<p>Any ideas, what could went wrong and how to deal with it?</p>\n\n<p>PS it works fine in firefox, but I also need chrome</p>\n"},{"tags":["java","logging","log4j"],"answers":[{"comments":[{"owner":{"account_id":269806,"reputation":16842,"user_id":559378,"accept_rate":94,"display_name":"Eric Hartford"},"score":3,"creation_date":1378756237,"post_id":2594704,"comment_id":27560268,"body_markdown":"need file: in front of the path","body":"need file: in front of the path"}],"tags":[],"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"comment_count":1,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1270662894,"creation_date":1270662894,"answer_id":2594704,"question_id":2594689,"body_markdown":"Have you tried `java -Dlog4j.configuration=/path/to/log4j.xml -jar &lt;rest-of-args&gt;`","title":"External log4j.xml file","body":"<p>Have you tried <code>java -Dlog4j.configuration=/path/to/log4j.xml -jar &lt;rest-of-args&gt;</code></p>\n"},{"comments":[{"owner":{"account_id":13696,"reputation":17531,"user_id":27657,"accept_rate":65,"display_name":"javamonkey79"},"score":0,"creation_date":1270665096,"post_id":2594745,"comment_id":2602972,"body_markdown":"I added this to the manifest and it still did not work (but I am not sure relative paths are legal):\nClass-Path: .","body":"I added this to the manifest and it still did not work (but I am not sure relative paths are legal): Class-Path: ."},{"owner":{"account_id":13696,"reputation":17531,"user_id":27657,"accept_rate":65,"display_name":"javamonkey79"},"score":0,"creation_date":1270697033,"post_id":2594745,"comment_id":2605880,"body_markdown":"java -Dlog4j.configuration=/path/to/log4j.xml -jar MyJarName.jar &lt;rest-of-args&gt; perhaps the space between the Class-Path: and the &#39;.&#39; is to blame.","body":"java -Dlog4j.configuration=/path/to/log4j.xml -jar MyJarName.jar &lt;rest-of-args&gt; perhaps the space between the Class-Path: and the &#39;.&#39; is to blame."},{"owner":{"account_id":150893,"reputation":870,"user_id":364402,"accept_rate":73,"display_name":"Raks"},"score":3,"creation_date":1330458077,"post_id":2594745,"comment_id":12010854,"body_markdown":"This helped me, the file attribute is something i was missing to put","body":"This helped me, the file attribute is something i was missing to put"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":1,"creation_date":1340364652,"post_id":2594745,"comment_id":14627610,"body_markdown":"This worked for me: -Dlog4j.configuration=file:./log4j.properties, it finds the properties file in the same directory as the startup script.","body":"This worked for me: -Dlog4j.configuration=file:./log4j.properties, it finds the properties file in the same directory as the startup script."},{"owner":{"account_id":1713048,"reputation":1374,"user_id":1570688,"accept_rate":86,"display_name":"bluelurker"},"score":0,"creation_date":1450957748,"post_id":2594745,"comment_id":56646115,"body_markdown":"I faced the same issue with jdk 5. However , the issue was resolved when I moved to jdk6.","body":"I faced the same issue with jdk 5. However , the issue was resolved when I moved to jdk6."},{"owner":{"account_id":4954279,"reputation":922,"user_id":3987353,"accept_rate":42,"display_name":"wax_lyrical"},"score":0,"creation_date":1453545993,"post_id":2594745,"comment_id":57655551,"body_markdown":"I&#39;ve tried a few of these - and this is one that worked","body":"I&#39;ve tried a few of these - and this is one that worked"},{"owner":{"account_id":74473,"reputation":1561,"user_id":213984,"display_name":"allkenang"},"score":0,"creation_date":1548222456,"post_id":2594745,"comment_id":95460543,"body_markdown":"for me, I had to define the file like this &quot;file://{full path to log4j file}&quot;","body":"for me, I had to define the file like this &quot;file://{full path to log4j file}&quot;"}],"tags":[],"owner":{"account_id":571,"reputation":8829,"user_id":737,"accept_rate":80,"display_name":"Jason Day"},"comment_count":7,"down_vote_count":0,"up_vote_count":55,"is_accepted":true,"score":55,"last_activity_date":1270730014,"creation_date":1270663374,"answer_id":2594745,"question_id":2594689,"body_markdown":"When using the `-jar` switch to launch an executable jar file, the classpath is obtained from the jar file&#39;s manifest.  The `-cp` switch, if given, is ignored.\r\n\r\n[Jeff Storey&#39;s answer][1] is going to be the easiest solution. Alternatively, you could add a `Class-Path` attribute to the jar file&#39;s [manifest][2].\r\n\r\n**EDIT**\r\nTry enabling log4j debugging, and making the path to `log4j.xml` a fully-qualified URL. For example:\r\n\r\n    java -Dlog4j.debug -Dlog4j.configuration=file:/path/to/log4j.xml -jar ...\r\n\r\n  [1]: https://stackoverflow.com/questions/2594689/external-log4j-xml-file/2594704#2594704\r\n  [2]: http://java.sun.com/javase/6/docs/technotes/guides/jar/jar.html#JAR%20Manifest","title":"External log4j.xml file","body":"<p>When using the <code>-jar</code> switch to launch an executable jar file, the classpath is obtained from the jar file's manifest.  The <code>-cp</code> switch, if given, is ignored.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2594689/external-log4j-xml-file/2594704#2594704\">Jeff Storey's answer</a> is going to be the easiest solution. Alternatively, you could add a <code>Class-Path</code> attribute to the jar file's <a href=\"http://java.sun.com/javase/6/docs/technotes/guides/jar/jar.html#JAR%20Manifest\" rel=\"noreferrer\">manifest</a>.</p>\n\n<p><strong>EDIT</strong>\nTry enabling log4j debugging, and making the path to <code>log4j.xml</code> a fully-qualified URL. For example:</p>\n\n<pre><code>java -Dlog4j.debug -Dlog4j.configuration=file:/path/to/log4j.xml -jar ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689295906,"creation_date":1270670539,"answer_id":2595502,"question_id":2594689,"body_markdown":"&quot;-jar&quot; only uses the classpath inside the executable jar, and -cp is ignored.  Adding &quot;.&quot; to the classpath in the executable jar should allow log4j.xml to be found.","title":"External log4j.xml file","body":"<p>&quot;-jar&quot; only uses the classpath inside the executable jar, and -cp is ignored.  Adding &quot;.&quot; to the classpath in the executable jar should allow log4j.xml to be found.</p>\n"},{"tags":[],"owner":{"account_id":166367,"reputation":667,"user_id":390436,"accept_rate":36,"display_name":"tibi"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1279024079,"creation_date":1279024079,"answer_id":3237115,"question_id":2594689,"body_markdown":"this works:\r\n\r\n    java -jar -Dlog4j.configuration=&quot;file:d:\\log4j.xml&quot; myjar.jar\r\n\r\n","title":"External log4j.xml file","body":"<p>this works:</p>\n\n<pre><code>java -jar -Dlog4j.configuration=\"file:d:\\log4j.xml\" myjar.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":394533,"reputation":1219,"user_id":757023,"display_name":"VlatkoB"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1322558139,"creation_date":1322558139,"answer_id":8308281,"question_id":2594689,"body_markdown":"I had problems using log4j with Sun&#39;s JDK and automatic configuration.\r\n\r\nYou can use this:\r\n\r\n    String filename = System.getProperty(&quot;log4j.configuration&quot;);\r\n    DOMConfigurator(filename);\r\n\r\nbefore using Logger.","title":"External log4j.xml file","body":"<p>I had problems using log4j with Sun's JDK and automatic configuration.</p>\n\n<p>You can use this:</p>\n\n<pre><code>String filename = System.getProperty(\"log4j.configuration\");\nDOMConfigurator(filename);\n</code></pre>\n\n<p>before using Logger.</p>\n"},{"comments":[{"owner":{"account_id":1686762,"reputation":871,"user_id":1549883,"display_name":"Martin Pabst"},"score":2,"creation_date":1468246276,"post_id":12206110,"comment_id":64034928,"body_markdown":"Thank you! This works for .properties-file. If you use .xml configuration file then use DOMConfigurator instead of PropertyConfigurator.","body":"Thank you! This works for .properties-file. If you use .xml configuration file then use DOMConfigurator instead of PropertyConfigurator."}],"tags":[],"owner":{"account_id":1290379,"reputation":2877,"user_id":1242601,"accept_rate":73,"display_name":"Koray G&#252;cl&#252;"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1346363658,"creation_date":1346363658,"answer_id":12206110,"question_id":2594689,"body_markdown":"you can define a default properties file in the jar. if no custom properties is defined you can use this default file.if a custom property is defined you can override the default property. \r\n\r\nmyjar.jar file contains log4j.default.configuration\r\n\r\nyou can run your program with this parameters to start your application\r\n\r\n    java  -jar -Dlog4j.configuration=log4j.properties  target\\yourfile-v01_000_01_c002.jar\r\n\r\nExample code\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString filename = System.getProperty(&quot;log4j.configuration&quot;);\r\n        if(null==filename||filename.trim().equals(&quot;&quot;)) {\r\n        \tlogger.info(&quot;Using default log4j configuration log4j.default.properties.&quot;);\r\n        \tlogger.info(&quot;If you would like to change the default configuration please add following param before startup -Dlog4j.configuration=&lt;log4jfile&gt;&quot;);\r\n  \t\t    PropertyConfigurator.configure( Main.class.getResourceAsStream(&quot;/log4j.default.properties&quot;));\r\n        } else {\r\n  \t\t    File file = new File(filename);\r\n  \t\t    if(!file.exists()) System.out.println(&quot;It is not possible to load the given log4j properties file :&quot;+file.getAbsolutePath());\r\n  \t\t    else PropertyConfigurator.configure(file.getAbsolutePath());\r\n  \t\t    \r\n        }\r\n    }","title":"External log4j.xml file","body":"<p>you can define a default properties file in the jar. if no custom properties is defined you can use this default file.if a custom property is defined you can override the default property. </p>\n\n<p>myjar.jar file contains log4j.default.configuration</p>\n\n<p>you can run your program with this parameters to start your application</p>\n\n<pre><code>java  -jar -Dlog4j.configuration=log4j.properties  target\\yourfile-v01_000_01_c002.jar\n</code></pre>\n\n<p>Example code</p>\n\n<pre><code>public static void main(String[] args) {\n    String filename = System.getProperty(\"log4j.configuration\");\n    if(null==filename||filename.trim().equals(\"\")) {\n        logger.info(\"Using default log4j configuration log4j.default.properties.\");\n        logger.info(\"If you would like to change the default configuration please add following param before startup -Dlog4j.configuration=&lt;log4jfile&gt;\");\n        PropertyConfigurator.configure( Main.class.getResourceAsStream(\"/log4j.default.properties\"));\n    } else {\n        File file = new File(filename);\n        if(!file.exists()) System.out.println(\"It is not possible to load the given log4j properties file :\"+file.getAbsolutePath());\n        else PropertyConfigurator.configure(file.getAbsolutePath());\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2349284,"reputation":391,"user_id":2058593,"accept_rate":0,"display_name":"r00tGER"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1418367759,"creation_date":1418367759,"answer_id":27438516,"question_id":2594689,"body_markdown":"For log4j2, use **configurationFile** option:\r\n\r\n    java -Dlog4j.configurationFile=/path/to/log4j2.xml -jar ...\r\n\r\n[http://logging.apache.org/log4j/2.0/manual/configuration.html][1]\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/2.0/manual/configuration.html","title":"External log4j.xml file","body":"<p>For log4j2, use <strong>configurationFile</strong> option:</p>\n\n<pre><code>java -Dlog4j.configurationFile=/path/to/log4j2.xml -jar ...\n</code></pre>\n\n<p><a href=\"http://logging.apache.org/log4j/2.0/manual/configuration.html\" rel=\"noreferrer\">http://logging.apache.org/log4j/2.0/manual/configuration.html</a></p>\n"},{"comments":[{"owner":{"account_id":11613771,"reputation":305,"user_id":8507243,"display_name":"Manolis P."},"score":0,"creation_date":1638355783,"post_id":28954399,"comment_id":124064399,"body_markdown":"This is worked for me.","body":"This is worked for me."},{"owner":{"account_id":2114524,"reputation":830,"user_id":1879109,"accept_rate":38,"display_name":"iamsmkr"},"score":0,"creation_date":1650531444,"post_id":28954399,"comment_id":127141436,"body_markdown":"Besides I had to pass jvm args like this: `-Dlog4j.configurationFile=/pathtoconf/log4j2.xml`","body":"Besides I had to pass jvm args like this: <code>-Dlog4j.configurationFile=&#47;pathtoconf&#47;log4j2.xml</code>"}],"tags":[],"owner":{"account_id":2649218,"reputation":5684,"user_id":2291327,"display_name":"Dayong"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1425948662,"creation_date":1425948662,"answer_id":28954399,"question_id":2594689,"body_markdown":"java -cp &quot;path/to/your/log4jxml:path/to/yourjar.jar&quot; your.package.MainClass\r\n\r\nThe log4j.xml in directory &quot;path/to/your/log4jxml&quot; will overwrite the log4j.xml file in &quot;path/to/yourjar.jar&quot;.\r\n \r\nPlease refer to https://stackoverflow.com/questions/219585/setting-multiple-jars-in-java-classpath.","title":"External log4j.xml file","body":"<p>java -cp \"path/to/your/log4jxml:path/to/yourjar.jar\" your.package.MainClass</p>\n\n<p>The log4j.xml in directory \"path/to/your/log4jxml\" will overwrite the log4j.xml file in \"path/to/yourjar.jar\".</p>\n\n<p>Please refer to <a href=\"https://stackoverflow.com/questions/219585/setting-multiple-jars-in-java-classpath\">Setting multiple jars in java classpath</a>.</p>\n"},{"tags":[],"owner":{"account_id":5346811,"reputation":3500,"user_id":4262148,"accept_rate":100,"display_name":"another"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507500642,"creation_date":1506092771,"answer_id":46367843,"question_id":2594689,"body_markdown":"The simplest path configuration for ``log4j2` is using the `static block` setting `log4j.configurationFile`:\r\n\r\n    public class MyClass {\r\n  \r\n        static {\r\n            System.setProperty(&quot;log4j.configurationFile&quot;, &quot;./config/log4j2.xml&quot;);\r\n        }\r\n\r\n        protected final transient Logger logger =  LogManager.getLogger(IDOLTracker.class);\r\n\r\n        public static void main(String[] args) {\r\n             logger.info(&quot;&quot;);\r\n        }\r\n    }\r\n\r\nThen the structure could be as:\r\n\r\n&gt;ProgramFolder  \r\n |---- /config/log4j2.xml   \r\n |---- MyClass.jar\r\n\r\nWhen you run your jar, it will look outside the jar for the xml file.","title":"External log4j.xml file","body":"<p>The simplest path configuration for ``log4j2<code>is using the</code>static block<code>setting</code>log4j.configurationFile`:</p>\n\n<pre><code>public class MyClass {\n\n    static {\n        System.setProperty(\"log4j.configurationFile\", \"./config/log4j2.xml\");\n    }\n\n    protected final transient Logger logger =  LogManager.getLogger(IDOLTracker.class);\n\n    public static void main(String[] args) {\n         logger.info(\"\");\n    }\n}\n</code></pre>\n\n<p>Then the structure could be as:</p>\n\n<blockquote>\n  <p>ProgramFolder<br>\n   |---- /config/log4j2.xml<br>\n   |---- MyClass.jar</p>\n</blockquote>\n\n<p>When you run your jar, it will look outside the jar for the xml file.</p>\n"}],"owner":{"account_id":13696,"reputation":17531,"user_id":27657,"accept_rate":65,"display_name":"javamonkey79"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88208,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":2594745,"answer_count":9,"score":41,"last_activity_date":1689295906,"creation_date":1270662703,"question_id":2594689,"body_markdown":"I am trying to run a jar with the log4j.xml file on the file system outside the jar like so:\r\n\r\n    java -jar MyJarName.jar -cp=/opt/companyName/pathToJar/ log4j.configuration=log4j.xml argToJar1 argToJar2\r\n\r\nI have also tried:\r\n\r\n    java -jar MyJarName.jar -cp=/opt/companyName/pathToJar/ log4j.configuration=/opt/companyName/pathToJar/log4j.xml argToJar1 argToJar2\r\n\r\n\r\nThe log4j.xml is file is in the same directory as the jar (/opt/companyName/pathToJar/), yet I still get the standard warning message:\r\n\r\n    log4j:WARN No appenders could be found for logger (org.apache.axis.i18n.ProjectResourceBundle).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n\r\nIs it possible to have the config file outside the jar, or do I have to package it with the jar? \r\n\r\nTIA","title":"External log4j.xml file","body":"<p>I am trying to run a jar with the log4j.xml file on the file system outside the jar like so:</p>\n\n<pre><code>java -jar MyJarName.jar -cp=/opt/companyName/pathToJar/ log4j.configuration=log4j.xml argToJar1 argToJar2\n</code></pre>\n\n<p>I have also tried:</p>\n\n<pre><code>java -jar MyJarName.jar -cp=/opt/companyName/pathToJar/ log4j.configuration=/opt/companyName/pathToJar/log4j.xml argToJar1 argToJar2\n</code></pre>\n\n<p>The log4j.xml is file is in the same directory as the jar (/opt/companyName/pathToJar/), yet I still get the standard warning message:</p>\n\n<pre><code>log4j:WARN No appenders could be found for logger (org.apache.axis.i18n.ProjectResourceBundle).\nlog4j:WARN Please initialize the log4j system properly.\n</code></pre>\n\n<p>Is it possible to have the config file outside the jar, or do I have to package it with the jar? </p>\n\n<p>TIA</p>\n"},{"tags":["java","java-8","java-time","systemtime"],"answers":[{"comments":[{"owner":{"account_id":14847159,"reputation":168,"user_id":10722200,"display_name":"Shivaraja HN"},"score":9,"creation_date":1566968727,"post_id":32794740,"comment_id":101816214,"body_markdown":"Is there a way to mock without changing code(LocalDateTime.now()) and Without using Powermock?","body":"Is there a way to mock without changing code(LocalDateTime.now()) and Without using Powermock?"},{"owner":{"account_id":1681986,"reputation":4236,"user_id":1546042,"display_name":"BitfulByte"},"score":2,"creation_date":1570442803,"post_id":32794740,"comment_id":102902038,"body_markdown":"Is there a reason to define a custom @Bean definition for Clock? I&#39;ve omitted it using Spring Boot 2.1 and it&#39;s working like a charm :-)","body":"Is there a reason to define a custom @Bean definition for Clock? I&#39;ve omitted it using Spring Boot 2.1 and it&#39;s working like a charm :-)"},{"owner":{"account_id":1682106,"reputation":3953,"user_id":1546137,"accept_rate":67,"display_name":"ihebiheb"},"score":3,"creation_date":1570548544,"post_id":32794740,"comment_id":102943572,"body_markdown":"@PimHazebroek the @ Bean is used for the production code not for the unit test","body":"@PimHazebroek the @ Bean is used for the production code not for the unit test"},{"owner":{"account_id":1652904,"reputation":615,"user_id":1523127,"accept_rate":44,"display_name":"yatinbc"},"score":0,"creation_date":1583247981,"post_id":32794740,"comment_id":107047458,"body_markdown":"How do I mock this line of code to return 2020-02-27 LocalDate.now().plusDays(Long.parseLong(&quot;0&quot;)).toString() but when it come to that line it returns todays date","body":"How do I mock this line of code to return 2020-02-27 LocalDate.now().plusDays(Long.parseLong(&quot;0&quot;)).toString() but when it come to that line it returns todays date"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1608553698,"post_id":32794740,"comment_id":115610625,"body_markdown":"This is a proof of a bad [tag:java-time] design.","body":"This is a proof of a bad <a href=\"https://stackoverflow.com/questions/tagged/java-time\">java-time</a> design."},{"owner":{"account_id":12541443,"reputation":633,"user_id":9126244,"display_name":"hfc"},"score":2,"creation_date":1647623622,"post_id":32794740,"comment_id":126425585,"body_markdown":"Please note that as for Mockito 4.4.0 it is already possible to mock static methods. See https://stackoverflow.com/a/71530773/9126244","body":"Please note that as for Mockito 4.4.0 it is already possible to mock static methods. See <a href=\"https://stackoverflow.com/a/71530773/9126244\">stackoverflow.com/a/71530773/9126244</a>"}],"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":6,"down_vote_count":0,"up_vote_count":167,"is_accepted":true,"score":167,"last_activity_date":1578760074,"creation_date":1443252474,"answer_id":32794740,"question_id":32792000,"body_markdown":"In your code, replace `LocalDate.now()` with [`LocalDate.now(clock);`][1].\r\n\r\nYou can then pass `Clock.systemDefaultZone()` for production and [a fixed clock][2] for testing.\r\n\r\n----------\r\nThis is an example :\r\n\r\nFirst, inject the `Clock`. If you are using spring boot just do a :\r\n    \r\n    @Bean\r\n    public Clock clock() {\r\n        return Clock.systemDefaultZone();\r\n    }\r\n\r\nSecond, call `LocalDate.now(clock)` in your code :\r\n\r\n    @Component\r\n    public class SomeClass{\r\n\r\n        @Autowired\r\n        private Clock clock;\r\n\r\n        public LocalDate someMethod(){\r\n             return LocalDate.now(clock);\r\n        }\r\n    }\r\n\r\nNow, inside your unit test class :\r\n    \r\n    // Some fixed date to make your tests\r\n    private final static LocalDate LOCAL_DATE = LocalDate.of(1989, 01, 13);\r\n\r\n    // mock your tested class\r\n    @InjectMocks\r\n    private SomeClass someClass;\r\n\r\n    //Mock your clock bean\r\n    @Mock\r\n    private Clock clock;\r\n    \r\n    //field that will contain the fixed clock\r\n    private Clock fixedClock;\r\n\r\n\r\n    @Before\r\n    public void initMocks() {\r\n        MockitoAnnotations.initMocks(this);\r\n\r\n        //tell your tests to return the specified LOCAL_DATE when calling LocalDate.now(clock)\r\n        fixedClock = Clock.fixed(LOCAL_DATE.atStartOfDay(ZoneId.systemDefault()).toInstant(), ZoneId.systemDefault());\r\n        doReturn(fixedClock.instant()).when(clock).instant();\r\n        doReturn(fixedClock.getZone()).when(clock).getZone();\r\n    }\r\n\r\n    @Test\r\n    public void testSomeMethod(){\r\n        // call the method to test\r\n        LocalDate returnedLocalDate = someClass.someMethod();\r\n\r\n        //assert\r\n        assertEquals(LOCAL_DATE, returnedLocalDate);\r\n    }\r\n\r\n [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#now-java.time.Clock-\r\n [2]: https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#fixed-java.time.Instant-java.time.ZoneId-","title":"How can I mock java.time.LocalDate.now()","body":"<p>In your code, replace <code>LocalDate.now()</code> with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#now-java.time.Clock-\" rel=\"noreferrer\"><code>LocalDate.now(clock);</code></a>.</p>\n\n<p>You can then pass <code>Clock.systemDefaultZone()</code> for production and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#fixed-java.time.Instant-java.time.ZoneId-\" rel=\"noreferrer\">a fixed clock</a> for testing.</p>\n\n<hr>\n\n<p>This is an example :</p>\n\n<p>First, inject the <code>Clock</code>. If you are using spring boot just do a :</p>\n\n<pre><code>@Bean\npublic Clock clock() {\n    return Clock.systemDefaultZone();\n}\n</code></pre>\n\n<p>Second, call <code>LocalDate.now(clock)</code> in your code :</p>\n\n<pre><code>@Component\npublic class SomeClass{\n\n    @Autowired\n    private Clock clock;\n\n    public LocalDate someMethod(){\n         return LocalDate.now(clock);\n    }\n}\n</code></pre>\n\n<p>Now, inside your unit test class :</p>\n\n<pre><code>// Some fixed date to make your tests\nprivate final static LocalDate LOCAL_DATE = LocalDate.of(1989, 01, 13);\n\n// mock your tested class\n@InjectMocks\nprivate SomeClass someClass;\n\n//Mock your clock bean\n@Mock\nprivate Clock clock;\n\n//field that will contain the fixed clock\nprivate Clock fixedClock;\n\n\n@Before\npublic void initMocks() {\n    MockitoAnnotations.initMocks(this);\n\n    //tell your tests to return the specified LOCAL_DATE when calling LocalDate.now(clock)\n    fixedClock = Clock.fixed(LOCAL_DATE.atStartOfDay(ZoneId.systemDefault()).toInstant(), ZoneId.systemDefault());\n    doReturn(fixedClock.instant()).when(clock).instant();\n    doReturn(fixedClock.getZone()).when(clock).getZone();\n}\n\n@Test\npublic void testSomeMethod(){\n    // call the method to test\n    LocalDate returnedLocalDate = someClass.someMethod();\n\n    //assert\n    assertEquals(LOCAL_DATE, returnedLocalDate);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44057,"reputation":6418,"user_id":129073,"accept_rate":100,"display_name":"Gebb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443260121,"creation_date":1443260121,"answer_id":32795691,"question_id":32792000,"body_markdown":"You might also want to pass a fixed clock in production (the value of which is fixed at the start of a transaction) to avoid using inconsistent &quot;now&quot; in different entities and requests.\r\nSee [this question][1] for details.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32751702/consistently-using-the-value-of-now-througout-the-transaction","title":"How can I mock java.time.LocalDate.now()","body":"<p>You might also want to pass a fixed clock in production (the value of which is fixed at the start of a transaction) to avoid using inconsistent \"now\" in different entities and requests.\nSee <a href=\"https://stackoverflow.com/questions/32751702/consistently-using-the-value-of-now-througout-the-transaction\">this question</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":1425811,"reputation":10732,"user_id":1349366,"display_name":"Aivean"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1443260428,"creation_date":1443260428,"answer_id":32795733,"question_id":32792000,"body_markdown":"You can refactor you code to make it test-friendly, for example, replace all invocations of `LocalDate.now()` with invocation of some method of custom mockable non-static class.\r\n\r\nAlternatively, you can use [PowerMock&#39;s mockStatic](https://stackoverflow.com/questions/10583202/powermockito-mock-single-static-method-and-return-object).","title":"How can I mock java.time.LocalDate.now()","body":"<p>You can refactor you code to make it test-friendly, for example, replace all invocations of <code>LocalDate.now()</code> with invocation of some method of custom mockable non-static class.</p>\n\n<p>Alternatively, you can use <a href=\"https://stackoverflow.com/questions/10583202/powermockito-mock-single-static-method-and-return-object\">PowerMock's mockStatic</a>.</p>\n"},{"comments":[{"owner":{"account_id":3561914,"reputation":447,"user_id":2974624,"accept_rate":75,"display_name":"Damian"},"score":0,"creation_date":1549383477,"post_id":53947030,"comment_id":95878682,"body_markdown":"I have tried to not create dateTimeExpected in expectation block but assign LocalDateTime.now() directly in Expectations block but then it does not work. Any idea why?","body":"I have tried to not create dateTimeExpected in expectation block but assign LocalDateTime.now() directly in Expectations block but then it does not work. Any idea why?"},{"owner":{"account_id":6193930,"reputation":2587,"user_id":4825845,"display_name":"Juan Moreno"},"score":0,"creation_date":1549390686,"post_id":53947030,"comment_id":95882541,"body_markdown":"@Damian To use JMockit with maven is necessary to put the following in the surefire maven plugin: javaagent:${settings.localRepository}/org/jmockit/jmockit/${jmockit.version}/jmockit-${jmockit.version}.jar \nMore details here: http://jmockit.github.io/tutorial/Introduction.html#maven","body":"@Damian To use JMockit with maven is necessary to put the following in the surefire maven plugin: javaagent:${settings.localRepository}/org/jmockit/jmockit/${&zwnj;&#8203;jmockit.version}/jmo&zwnj;&#8203;ckit-${jmockit.versi&zwnj;&#8203;on}.jar  More details here: <a href=\"http://jmockit.github.io/tutorial/Introduction.html#maven\" rel=\"nofollow noreferrer\">jmockit.github.io/tutorial/Introduction.html#maven</a>"},{"owner":{"account_id":3128387,"reputation":752,"user_id":2646836,"accept_rate":67,"display_name":"carlos palma"},"score":1,"creation_date":1564612830,"post_id":53947030,"comment_id":101093159,"body_markdown":"I tried the powermock alternative  and it does not work.","body":"I tried the powermock alternative  and it does not work."},{"owner":{"account_id":6193930,"reputation":2587,"user_id":4825845,"display_name":"Juan Moreno"},"score":0,"creation_date":1564672687,"post_id":53947030,"comment_id":101116590,"body_markdown":"@carlospalma Do you get a specific error? What version of PowerMock/Junit and Java are you using? In the sample, I&#39;m using PowerMock 2, Java 8 and Junit4. Look the code here: https://github.com/eugenp/tutorials/blob/master/core-java-modules/core-java-8/src/test/java/com/baeldung/time/LocalDateTimeUnitTest.java","body":"@carlospalma Do you get a specific error? What version of PowerMock/Junit and Java are you using? In the sample, I&#39;m using PowerMock 2, Java 8 and Junit4. Look the code here: <a href=\"https://github.com/eugenp/tutorials/blob/master/core-java-modules/core-java-8/src/test/java/com/baeldung/time/LocalDateTimeUnitTest.java\" rel=\"nofollow noreferrer\">github.com/eugenp/tutorials/blob/master/core-java-modules/&hellip;</a>"},{"owner":{"account_id":6193930,"reputation":2587,"user_id":4825845,"display_name":"Juan Moreno"},"score":0,"creation_date":1564678585,"post_id":53947030,"comment_id":101119522,"body_markdown":"The dependencies for PowerMock 2 sample are here: https://github.com/eugenp/tutorials/blob/master/core-java-modules/core-java-8/pom.xml#L108-L118","body":"The dependencies for PowerMock 2 sample are here: <a href=\"https://github.com/eugenp/tutorials/blob/master/core-java-modules/core-java-8/pom.xml#L108-L118\" rel=\"nofollow noreferrer\">github.com/eugenp/tutorials/blob/master/core-java-modules/&hellip;</a>"},{"owner":{"account_id":3128387,"reputation":752,"user_id":2646836,"accept_rate":67,"display_name":"carlos palma"},"score":0,"creation_date":1564691668,"post_id":53947030,"comment_id":101124819,"body_markdown":"@SHoko &quot;when requires an argument which has to be a method call on a mock&quot;. What I ended up doing was mocking the object which produced the dates instead of trying to mock the system time. That way you can create a unit test that always passes.","body":"@SHoko &quot;when requires an argument which has to be a method call on a mock&quot;. What I ended up doing was mocking the object which produced the dates instead of trying to mock the system time. That way you can create a unit test that always passes."},{"owner":{"account_id":5994078,"reputation":708,"user_id":4709301,"accept_rate":80,"display_name":"Jolley71717"},"score":0,"creation_date":1575499073,"post_id":53947030,"comment_id":104591420,"body_markdown":"Does it make a difference that you are actually using `LocalDateTime.now()` versus `LocalDate.now()`\nI keep getting the &quot;when() requires an argument which has to be &#39;a method call on a mock&#39;.&quot;\nThe powermock 2 beta does not seem to like LocalDate.now(). Does it matter that LocalDate is final?","body":"Does it make a difference that you are actually using <code>LocalDateTime.now()</code> versus <code>LocalDate.now()</code> I keep getting the &quot;when() requires an argument which has to be &#39;a method call on a mock&#39;.&quot; The powermock 2 beta does not seem to like LocalDate.now(). Does it matter that LocalDate is final?"},{"owner":{"account_id":6193930,"reputation":2587,"user_id":4825845,"display_name":"Juan Moreno"},"score":0,"creation_date":1575547492,"post_id":53947030,"comment_id":104607777,"body_markdown":"@Jolley71717.  Did you call `mockStatic(LocalDateTime.class)` first?. There no difference between LocalDateTime and LocalDate (except for the return value), both are final classes. Which powermock  version do you use?","body":"@Jolley71717.  Did you call <code>mockStatic(LocalDateTime.class)</code> first?. There no difference between LocalDateTime and LocalDate (except for the return value), both are final classes. Which powermock  version do you use?"},{"owner":{"account_id":5994078,"reputation":708,"user_id":4709301,"accept_rate":80,"display_name":"Jolley71717"},"score":0,"creation_date":1575569600,"post_id":53947030,"comment_id":104619736,"body_markdown":"@SHoko, I did call `mockStatic(LocalDate.class)` first. I&#39;m using PowerMock version 2.0.0-beta.5","body":"@SHoko, I did call <code>mockStatic(LocalDate.class)</code> first. I&#39;m using PowerMock version 2.0.0-beta.5"},{"owner":{"account_id":6193930,"reputation":2587,"user_id":4825845,"display_name":"Juan Moreno"},"score":0,"creation_date":1575583753,"post_id":53947030,"comment_id":104625887,"body_markdown":"@Jolley71717 Could you try a newer version like 2.0.0-RC.4 or 2.0.0?. This samples run fine in that versions.","body":"@Jolley71717 Could you try a newer version like 2.0.0-RC.4 or 2.0.0?. This samples run fine in that versions."}],"tags":[],"owner":{"account_id":6193930,"reputation":2587,"user_id":4825845,"display_name":"Juan Moreno"},"comment_count":10,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1545922913,"creation_date":1545922913,"answer_id":53947030,"question_id":32792000,"body_markdown":"If we need to mock static methods like now() we can use multiple alternatives like [PowerMock][1]:\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({ LocalDateTime.class })\r\n    public class LocalDateTimeUnitTest {\r\n    \r\n        @Test\r\n        public void givenLocalDateTimeMock_whenNow_thenGetFixedLocalDateTime() {\r\n            Clock clock = Clock.fixed(Instant.parse(&quot;2014-12-22T10:15:30.00Z&quot;), ZoneId.of(&quot;UTC&quot;));\r\n            LocalDateTime dateTime = LocalDateTime.now(clock);\r\n            mockStatic(LocalDateTime.class);\r\n            when(LocalDateTime.now()).thenReturn(dateTime);\r\n            String dateTimeExpected = &quot;2014-12-22T10:15:30&quot;;\r\n    \r\n            LocalDateTime now = LocalDateTime.now();\r\n    \r\n            assertThat(now).isEqualTo(dateTimeExpected);\r\n        }\r\n    }\r\n\r\nOr [JMockit][2], indeed with JMockit we can use the MockUp class:\r\n\r\n    @Test\r\n    public void givenLocalDateTimeWithJMock_whenNow_thenGetFixedLocalDateTime() {\r\n        Clock clock = Clock.fixed(Instant.parse(&quot;2014-12-21T10:15:30.00Z&quot;), ZoneId.of(&quot;UTC&quot;));\r\n        new MockUp&lt;LocalDateTime&gt;() {\r\n            @Mock\r\n            public LocalDateTime now() {\r\n                return LocalDateTime.now(clock);\r\n            }\r\n        };\r\n        String dateTimeExpected = &quot;2014-12-21T10:15:30&quot;;\r\n    \r\n        LocalDateTime now = LocalDateTime.now();\r\n    \r\n        assertThat(now).isEqualTo(dateTimeExpected);\r\n    }\r\n\r\nOr the Expectations class:\r\n\r\n    @Test\r\n    public void givenLocalDateTimeWithExpectations_whenNow_thenGetFixedLocalDateTime() {\r\n        Clock clock = Clock.fixed(Instant.parse(&quot;2014-12-23T10:15:30.00Z&quot;), ZoneId.of(&quot;UTC&quot;));\r\n        LocalDateTime dateTimeExpected = LocalDateTime.now(clock);\r\n        new Expectations(LocalDateTime.class) {\r\n            {\r\n                LocalDateTime.now();\r\n                result = dateTimeExpected;\r\n            }\r\n        };\r\n    \r\n        LocalDateTime now = LocalDateTime.now();\r\n    \r\n        assertThat(now).isEqualTo(dateTimeExpected);\r\n    }\r\n\r\nWe can find more examples [here][3].\r\n\r\nAnother simple alternative is to use the [now()][4] method with a fixed Clock instance. **Certainly, most of the classes in java.time package have a now() method with a Clock parameter**:\r\n\r\n    @Test\r\n    public void givenFixedClock_whenNow_thenGetFixedLocalDateTime() {\r\n        Clock clock = Clock.fixed(Instant.parse(&quot;2014-12-22T10:15:30.00Z&quot;), ZoneId.of(&quot;UTC&quot;));\r\n        String dateTimeExpected = &quot;2014-12-22T10:15:30&quot;;\r\n     \r\n        LocalDateTime dateTime = LocalDateTime.now(clock);\r\n     \r\n        assertThat(dateTime).isEqualTo(dateTimeExpected);\r\n    }\r\n\r\n\r\n  [1]: http://powermock.github.io/\r\n  [2]: http://jmockit.github.io/\r\n  [3]: https://www.baeldung.com/java-override-system-time\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDate.html#now(java.time.Clock)","title":"How can I mock java.time.LocalDate.now()","body":"<p>If we need to mock static methods like now() we can use multiple alternatives like <a href=\"http://powermock.github.io/\" rel=\"nofollow noreferrer\">PowerMock</a>:</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({ LocalDateTime.class })\npublic class LocalDateTimeUnitTest {\n\n    @Test\n    public void givenLocalDateTimeMock_whenNow_thenGetFixedLocalDateTime() {\n        Clock clock = Clock.fixed(Instant.parse(\"2014-12-22T10:15:30.00Z\"), ZoneId.of(\"UTC\"));\n        LocalDateTime dateTime = LocalDateTime.now(clock);\n        mockStatic(LocalDateTime.class);\n        when(LocalDateTime.now()).thenReturn(dateTime);\n        String dateTimeExpected = \"2014-12-22T10:15:30\";\n\n        LocalDateTime now = LocalDateTime.now();\n\n        assertThat(now).isEqualTo(dateTimeExpected);\n    }\n}\n</code></pre>\n\n<p>Or <a href=\"http://jmockit.github.io/\" rel=\"nofollow noreferrer\">JMockit</a>, indeed with JMockit we can use the MockUp class:</p>\n\n<pre><code>@Test\npublic void givenLocalDateTimeWithJMock_whenNow_thenGetFixedLocalDateTime() {\n    Clock clock = Clock.fixed(Instant.parse(\"2014-12-21T10:15:30.00Z\"), ZoneId.of(\"UTC\"));\n    new MockUp&lt;LocalDateTime&gt;() {\n        @Mock\n        public LocalDateTime now() {\n            return LocalDateTime.now(clock);\n        }\n    };\n    String dateTimeExpected = \"2014-12-21T10:15:30\";\n\n    LocalDateTime now = LocalDateTime.now();\n\n    assertThat(now).isEqualTo(dateTimeExpected);\n}\n</code></pre>\n\n<p>Or the Expectations class:</p>\n\n<pre><code>@Test\npublic void givenLocalDateTimeWithExpectations_whenNow_thenGetFixedLocalDateTime() {\n    Clock clock = Clock.fixed(Instant.parse(\"2014-12-23T10:15:30.00Z\"), ZoneId.of(\"UTC\"));\n    LocalDateTime dateTimeExpected = LocalDateTime.now(clock);\n    new Expectations(LocalDateTime.class) {\n        {\n            LocalDateTime.now();\n            result = dateTimeExpected;\n        }\n    };\n\n    LocalDateTime now = LocalDateTime.now();\n\n    assertThat(now).isEqualTo(dateTimeExpected);\n}\n</code></pre>\n\n<p>We can find more examples <a href=\"https://www.baeldung.com/java-override-system-time\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Another simple alternative is to use the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDate.html#now(java.time.Clock)\" rel=\"nofollow noreferrer\">now()</a> method with a fixed Clock instance. <strong>Certainly, most of the classes in java.time package have a now() method with a Clock parameter</strong>:</p>\n\n<pre><code>@Test\npublic void givenFixedClock_whenNow_thenGetFixedLocalDateTime() {\n    Clock clock = Clock.fixed(Instant.parse(\"2014-12-22T10:15:30.00Z\"), ZoneId.of(\"UTC\"));\n    String dateTimeExpected = \"2014-12-22T10:15:30\";\n\n    LocalDateTime dateTime = LocalDateTime.now(clock);\n\n    assertThat(dateTime).isEqualTo(dateTimeExpected);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17052943,"reputation":91,"user_id":12338180,"display_name":"Strax"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576587732,"creation_date":1576586892,"answer_id":59374592,"question_id":32792000,"body_markdown":"Using Spring:\r\n\r\n**ClockConfiguration class:**\r\n\r\n    @Configuration\r\n    public class ClockConfiguration {\r\n        private final static LocalDate LOCAL_DATE = LocalDate.of(2019, 12, 17);\r\n        \r\n        @Bean\r\n        @ConditionalOnMissingBean\r\n        Clock getSystemDefaultZoneClock() {\r\n            return Clock.systemDefaultZone();\r\n        }\r\n        \r\n        @Bean\r\n        @Profile(&quot;test&quot;)\r\n        @Primary\r\n        Clock getFixedClock() {\r\n            return Clock.fixed(LOCAL_DATE.atStartOfDay(ZoneId.systemDefault()).toInstant(), ZoneId.systemDefault());\r\n        }\r\n    }\r\n\r\n**SomeService class:**\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class SomeService {\r\n\r\n    \tprivate final Clock clock;\r\n    \t\r\n    \tpublic void someMethod(){\r\n    \t\t...\r\n\r\n    \t\tLocalDateTime.now(clock)\r\n    \t\tLocalDate.now(clock)\r\n\r\n    \t\t...\r\n    \t}\r\n    }\r\n\r\nYou must have an active &quot;test&quot; profile in the test:\r\n\r\n**SomeServiceTest class:**\r\n\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @EnableConfigurationProperties\r\n    @SpringBootTest(classes = [YourAppMainClass])\r\n    class SomeServiceTest {\r\n    \t...\r\n    }","title":"How can I mock java.time.LocalDate.now()","body":"<p>Using Spring:</p>\n\n<p><strong>ClockConfiguration class:</strong></p>\n\n<pre><code>@Configuration\npublic class ClockConfiguration {\n    private final static LocalDate LOCAL_DATE = LocalDate.of(2019, 12, 17);\n\n    @Bean\n    @ConditionalOnMissingBean\n    Clock getSystemDefaultZoneClock() {\n        return Clock.systemDefaultZone();\n    }\n\n    @Bean\n    @Profile(\"test\")\n    @Primary\n    Clock getFixedClock() {\n        return Clock.fixed(LOCAL_DATE.atStartOfDay(ZoneId.systemDefault()).toInstant(), ZoneId.systemDefault());\n    }\n}\n</code></pre>\n\n<p><strong>SomeService class:</strong></p>\n\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class SomeService {\n\n    private final Clock clock;\n\n    public void someMethod(){\n        ...\n\n        LocalDateTime.now(clock)\n        LocalDate.now(clock)\n\n        ...\n    }\n}\n</code></pre>\n\n<p>You must have an active \"test\" profile in the test:</p>\n\n<p><strong>SomeServiceTest class:</strong></p>\n\n<pre><code>@ActiveProfiles(\"test\")\n@EnableConfigurationProperties\n@SpringBootTest(classes = [YourAppMainClass])\nclass SomeServiceTest {\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16110107,"reputation":21,"user_id":11628537,"display_name":"Ghanshyam Parmar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606346328,"creation_date":1606346328,"answer_id":65014036,"question_id":32792000,"body_markdown":"You can use supplier inside your class which you are testing to pass current time wherever date time is used. \r\n\r\n    public Supplier&lt;LocalDateTime&gt; localDateTime = () -&gt; LocalDateTime.now();\r\n\r\nand in the test method just override its value like :\r\n\r\n    myClassObj.localDateTime = () -&gt; LocalDateTime.parse(&quot;2020-11-24T23:59:59.999&quot;);","title":"How can I mock java.time.LocalDate.now()","body":"<p>You can use supplier inside your class which you are testing to pass current time wherever date time is used.</p>\n<pre><code>public Supplier&lt;LocalDateTime&gt; localDateTime = () -&gt; LocalDateTime.now();\n</code></pre>\n<p>and in the test method just override its value like :</p>\n<pre><code>myClassObj.localDateTime = () -&gt; LocalDateTime.parse(&quot;2020-11-24T23:59:59.999&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2377694,"reputation":846,"user_id":2080575,"accept_rate":38,"display_name":"Alex R"},"score":2,"creation_date":1654872314,"post_id":67843923,"comment_id":128203306,"body_markdown":"Downvote because this destroys the rest of LocalDate functionality (e.g. minusDays, parse)\nUsing Mockito to mock Clock.class instead worked, see https://stackoverflow.com/a/70186748/2080575","body":"Downvote because this destroys the rest of LocalDate functionality (e.g. minusDays, parse) Using Mockito to mock Clock.class instead worked, see <a href=\"https://stackoverflow.com/a/70186748/2080575\">stackoverflow.com/a/70186748/2080575</a>"},{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":1,"creation_date":1661685590,"post_id":67843923,"comment_id":129826044,"body_markdown":"you can also mock just @Before one of the test and close it later. https://stackoverflow.com/questions/65965396/mockito-3-6-using-mockstatic-in-before-or-beforeclass-with-junit4","body":"you can also mock just @Before one of the test and close it later. <a href=\"https://stackoverflow.com/questions/65965396/mockito-3-6-using-mockstatic-in-before-or-beforeclass-with-junit4\" title=\"mockito 3 6 using mockstatic in before or beforeclass with junit4\">stackoverflow.com/questions/65965396/&hellip;</a>"},{"owner":{"account_id":28829784,"reputation":67,"user_id":22080520,"display_name":"vesper"},"score":1,"creation_date":1689276230,"post_id":67843923,"comment_id":135194535,"body_markdown":"@AlexR that&#39;s really foul. mockito lets you choose the default response when invoking a non-mocked static method. `MockedStatic&lt;LocalDate&gt; topDateTimeUtilMock = Mockito.mockStatic(LocalDate.class, Mockito.CALLS_REAL_METHODS);` This will make it so only the methods you specify will be mocked, everything else will work as normal","body":"@AlexR that&#39;s really foul. mockito lets you choose the default response when invoking a non-mocked static method. <code>MockedStatic&lt;LocalDate&gt; topDateTimeUtilMock = Mockito.mockStatic(LocalDate.class, Mockito.CALLS_REAL_METHODS);</code> This will make it so only the methods you specify will be mocked, everything else will work as normal"}],"tags":[],"owner":{"account_id":2815780,"reputation":99,"user_id":2420898,"display_name":"user2420898"},"comment_count":3,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1622840438,"creation_date":1622840438,"answer_id":67843923,"question_id":32792000,"body_markdown":"We have to mock a static method here. I use following dependency. Remember all our test code has to be in the try block. As soon as we call LocalDate.now() or LocalDate\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-inline --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n        &lt;version&gt;3.11.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n**The code:**\r\n\r\n     @Test\r\n        void verifykNonLeapYear() {\r\n    \r\n            LocalDate currentLocalDate = LocalDate.of(2010, 2, 13);\r\n            try (MockedStatic&lt;LocalDate&gt; topDateTimeUtilMock = Mockito.mockStatic(LocalDate.class)) {\r\n                topDateTimeUtilMock.when(() -&gt; LocalDate.now()).thenReturn(currentLocalDate);\r\n                assertThat(TopDateTimeUtil.numberOfDaysInCurrentYear(), is(365));\r\n            }\r\n        }","title":"How can I mock java.time.LocalDate.now()","body":"<p>We have to mock a static method here. I use following dependency. Remember all our test code has to be in the try block. As soon as we call LocalDate.now() or LocalDate</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-inline --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n    &lt;version&gt;3.11.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>The code:</strong></p>\n<pre><code> @Test\n    void verifykNonLeapYear() {\n\n        LocalDate currentLocalDate = LocalDate.of(2010, 2, 13);\n        try (MockedStatic&lt;LocalDate&gt; topDateTimeUtilMock = Mockito.mockStatic(LocalDate.class)) {\n            topDateTimeUtilMock.when(() -&gt; LocalDate.now()).thenReturn(currentLocalDate);\n            assertThat(TopDateTimeUtil.numberOfDaysInCurrentYear(), is(365));\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26749316,"reputation":11,"user_id":20348947,"display_name":"TheLittleChimp"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675324794,"creation_date":1675165094,"answer_id":75296562,"question_id":32792000,"body_markdown":"You can mock final classes with `Mockito`.\r\nAdd this `&#39;mockito-extensions&#39;` directory to your `src/test/resources`\r\ni.e.  `src/test/resources/mockito-extensions`\r\n\r\nAdd this file\r\n\r\n    org.mockito.plugins.MockMaker\r\n\r\nwith content\r\n\r\n    mock-maker-inline\r\n\r\nMockito will check the extensions directory for configuration files when it is loaded. This file will enable the mocking of final methods and classes.\r\n\r\nYou can find more details on this approach using [baeldung](https://www.baeldung.com/mockito-final)\r\n\r\nAnother programmatic approach is using `MockMakers.INLINE` in your code as shown in the [official example](https://github.com/mockito/mockito/blob/main/subprojects/programmatic-test/src/test/java/org/mockito/ProgrammaticMockMakerTest.java#L23):\r\n\r\n```java\r\nMockito.mock(ClassWithFinalMethod.class, withSettings().mockMaker(MockMakers.INLINE));\r\nMockito.when(inlineMock.finalMethodCallingNonFinal()).thenReturn(&quot;MOCKED&quot;);\r\nassertEquals(&quot;MOCKED&quot;, inlineMock.finalMethodCallingNonFinal());\r\n```\r\nYou can also use annotation as described in [the docs](https://web.archive.org/web/20230124182729/https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#individual_mock_maker):\r\n```\r\n@Mock(mockMaker = MockMakers.INLINE)\r\nFoo mock;\r\n```","title":"How can I mock java.time.LocalDate.now()","body":"<p>You can mock final classes with <code>Mockito</code>.\nAdd this <code>'mockito-extensions'</code> directory to your <code>src/test/resources</code>\ni.e.  <code>src/test/resources/mockito-extensions</code></p>\n<p>Add this file</p>\n<pre><code>org.mockito.plugins.MockMaker\n</code></pre>\n<p>with content</p>\n<pre><code>mock-maker-inline\n</code></pre>\n<p>Mockito will check the extensions directory for configuration files when it is loaded. This file will enable the mocking of final methods and classes.</p>\n<p>You can find more details on this approach using <a href=\"https://www.baeldung.com/mockito-final\" rel=\"nofollow noreferrer\">baeldung</a></p>\n<p>Another programmatic approach is using <code>MockMakers.INLINE</code> in your code as shown in the <a href=\"https://github.com/mockito/mockito/blob/main/subprojects/programmatic-test/src/test/java/org/mockito/ProgrammaticMockMakerTest.java#L23\" rel=\"nofollow noreferrer\">official example</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mockito.mock(ClassWithFinalMethod.class, withSettings().mockMaker(MockMakers.INLINE));\nMockito.when(inlineMock.finalMethodCallingNonFinal()).thenReturn(&quot;MOCKED&quot;);\nassertEquals(&quot;MOCKED&quot;, inlineMock.finalMethodCallingNonFinal());\n</code></pre>\n<p>You can also use annotation as described in <a href=\"https://web.archive.org/web/20230124182729/https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#individual_mock_maker\" rel=\"nofollow noreferrer\">the docs</a>:</p>\n<pre><code>@Mock(mockMaker = MockMakers.INLINE)\nFoo mock;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11381181,"reputation":203,"user_id":8344055,"display_name":"Beast77"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675939976,"creation_date":1675939976,"answer_id":75397567,"question_id":32792000,"body_markdown":"If you are here and using `Mockito` and Kotlin, do the following:\r\n\r\n            mockStatic(LocalDate::class.java, Mockito.CALLS_REAL_METHODS).use {\r\n            `when`(LocalDate.now()).thenReturn(date)\r\n            // Do your stuff here\r\n        }\r\n\r\nIf you are using Java, check out this [issue][1] for how it is done.\r\n\r\n\r\n  [1]: https://github.com/mockito/mockito/issues/2676","title":"How can I mock java.time.LocalDate.now()","body":"<p>If you are here and using <code>Mockito</code> and Kotlin, do the following:</p>\n<pre><code>        mockStatic(LocalDate::class.java, Mockito.CALLS_REAL_METHODS).use {\n        `when`(LocalDate.now()).thenReturn(date)\n        // Do your stuff here\n    }\n</code></pre>\n<p>If you are using Java, check out this <a href=\"https://github.com/mockito/mockito/issues/2676\" rel=\"nofollow noreferrer\">issue</a> for how it is done.</p>\n"},{"tags":[],"owner":{"account_id":14640622,"reputation":1728,"user_id":10573307,"display_name":"Aayush Bhattacharya"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689090176,"creation_date":1689090176,"answer_id":76663689,"question_id":32792000,"body_markdown":"to Mock LocalDate to desired date\r\n=\r\n\r\n        @Test\r\n        public void mockStaticMethod() {\r\n    \t    //dummy data\r\n            try(MockedStatic&lt;LocalDate&gt; mockedStatic=Mockito.mockStatic(LocalDate.class,Mockito.CALLS_REAL_METHODS)){\r\n                LocalDate currentDate=LocalDate.of(2023, 1, 11);\r\n                mockedStatic.when(LocalDate::now).thenReturn(currentDate);\r\n              //yourService.serviceMethod(arguments);\r\n              //assertEquals(expected, actual);\r\n            }\r\n        }","title":"How can I mock java.time.LocalDate.now()","body":"<h1>to Mock LocalDate to desired date</h1>\n<pre><code>    @Test\n    public void mockStaticMethod() {\n        //dummy data\n        try(MockedStatic&lt;LocalDate&gt; mockedStatic=Mockito.mockStatic(LocalDate.class,Mockito.CALLS_REAL_METHODS)){\n            LocalDate currentDate=LocalDate.of(2023, 1, 11);\n            mockedStatic.when(LocalDate::now).thenReturn(currentDate);\n          //yourService.serviceMethod(arguments);\n          //assertEquals(expected, actual);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28829784,"reputation":67,"user_id":22080520,"display_name":"vesper"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689295344,"creation_date":1689278126,"answer_id":76682826,"question_id":32792000,"body_markdown":"given i have a random class with a method that just returns `LocalDate.now()`\r\n\r\n```java\r\nimport java.time.LocalDate;\r\n\r\npublic RandomClass {\r\n\r\n    public LocalDate getTodaysDate() {\r\n        return LocalDate.now();\r\n    }\r\n}\r\n```\r\n\r\nand i want to mock that to return my birthday instead\r\n\r\n```java\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.MockedStatic;\r\nimport org.mockito.Mockito;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.Month;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\npublic class RandomClassTest {\r\n\r\n    private RandomClass randomClass;\r\n\r\n    private MockedStatic&lt;LocalDate&gt; localDateMockedStatic;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        randomClass = new RandomClass();\r\n\r\n        // instead of using try-with resources, i decide to initialize the mockedStatic object before each test method\r\n        localDateMockedStatic = Mockito.mockStatic(LocalDate.class, Mockito.CALLS_REAL_METHODS);\r\n    }\r\n\r\n    @AfterEach\r\n    void tearDown() {\r\n        localDateMockedStatic.reset();        \r\n        localDateMockedStatic.close(); // and close the mockedStatic after each test method\r\n    }\r\n\r\n    @Test\r\n    public void getTodaysDateBirthdayTest() {\r\n        LocalDate birthday = LocalDate.of(1999, Month.SEPTEMBER, 29);\r\n\r\n        localDateMockedStatic.when(LocalDate::now).thenReturn(birthday);\r\n\r\n        assertEquals(birthday, randomClass.getTodaysDate());\r\n    }\r\n\r\n    @Test\r\n    public void getTodaysDateDefaultTest() {\r\n        // due to Mockito.CALLS_REAL_METHODS, this has default functionality\r\n        assertEquals(LocalDate.now(), randomClass.getTodaysDate());\r\n    }\r\n}\r\n```\r\n\r\nthis is essentially the same thing as some other responses in this thread but this just looks more visually pleasant to me so this is how i like to do it","title":"How can I mock java.time.LocalDate.now()","body":"<p>given i have a random class with a method that just returns <code>LocalDate.now()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalDate;\n\npublic RandomClass {\n\n    public LocalDate getTodaysDate() {\n        return LocalDate.now();\n    }\n}\n</code></pre>\n<p>and i want to mock that to return my birthday instead</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.MockedStatic;\nimport org.mockito.Mockito;\n\nimport java.time.LocalDate;\nimport java.time.Month;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class RandomClassTest {\n\n    private RandomClass randomClass;\n\n    private MockedStatic&lt;LocalDate&gt; localDateMockedStatic;\n\n    @BeforeEach\n    void setUp() {\n        randomClass = new RandomClass();\n\n        // instead of using try-with resources, i decide to initialize the mockedStatic object before each test method\n        localDateMockedStatic = Mockito.mockStatic(LocalDate.class, Mockito.CALLS_REAL_METHODS);\n    }\n\n    @AfterEach\n    void tearDown() {\n        localDateMockedStatic.reset();        \n        localDateMockedStatic.close(); // and close the mockedStatic after each test method\n    }\n\n    @Test\n    public void getTodaysDateBirthdayTest() {\n        LocalDate birthday = LocalDate.of(1999, Month.SEPTEMBER, 29);\n\n        localDateMockedStatic.when(LocalDate::now).thenReturn(birthday);\n\n        assertEquals(birthday, randomClass.getTodaysDate());\n    }\n\n    @Test\n    public void getTodaysDateDefaultTest() {\n        // due to Mockito.CALLS_REAL_METHODS, this has default functionality\n        assertEquals(LocalDate.now(), randomClass.getTodaysDate());\n    }\n}\n</code></pre>\n<p>this is essentially the same thing as some other responses in this thread but this just looks more visually pleasant to me so this is how i like to do it</p>\n"}],"owner":{"account_id":6679643,"reputation":2824,"user_id":5153261,"accept_rate":77,"display_name":"Neil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128386,"favorite_count":0,"down_vote_count":2,"up_vote_count":103,"accepted_answer_id":32794740,"answer_count":11,"score":101,"last_activity_date":1689295344,"creation_date":1443223603,"question_id":32792000,"body_markdown":"In my test case, I need test time sensitive method, in that method we&#39;re using java 8 class LocalDate, it is **not Joda**.\r\n\r\nWhat can I do to change time, when I&#39;m running test","title":"How can I mock java.time.LocalDate.now()","body":"<p>In my test case, I need test time sensitive method, in that method we're using java 8 class LocalDate, it is <strong>not Joda</strong>.</p>\n\n<p>What can I do to change time, when I'm running test</p>\n"},{"tags":["java","text","fonts","rendering"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689295901,"post_id":76683969,"comment_id":135196911,"body_markdown":"Are you asking how to paint on a component with the java.awt.Graphics or are you asking how to make a font definition file to place in the operating system server.   Nb if you use a method from graphics object of the component you want to paint, to set something e.g. drawString(), call thecomponent.repaint() after.","body":"Are you asking how to paint on a component with the java.awt.Graphics or are you asking how to make a font definition file to place in the operating system server.   Nb if you use a method from graphics object of the component you want to paint, to set something e.g. drawString(), call thecomponent.repaint() after."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1689296485,"post_id":76683969,"comment_id":135196952,"body_markdown":"Are you trying to convert the font to a pixel image?  Or just trying to render text using a specific font?  What toolkit are you using (AWT/Swing/JavaFX/something else) to render the graphics with?","body":"Are you trying to convert the font to a pixel image?  Or just trying to render text using a specific font?  What toolkit are you using (AWT/Swing/JavaFX/something else) to render the graphics with?"},{"owner":{"account_id":28973179,"reputation":1,"user_id":22192981,"display_name":"user22192981"},"score":0,"creation_date":1689297318,"post_id":76683969,"comment_id":135197041,"body_markdown":"I am using a Buffered Image along with `java.awt.image.DataBufferInt`; I only use the graphics component to render the pixel array.  I want to be able to read and store the tff font that is located in the project folder in pixel data, then replace the pixel data with the font&#39;s pixel data to then be rendered on the screen.","body":"I am using a Buffered Image along with <code>java.awt.image.DataBufferInt</code>; I only use the graphics component to render the pixel array.  I want to be able to read and store the tff font that is located in the project folder in pixel data, then replace the pixel data with the font&#39;s pixel data to then be rendered on the screen."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689301539,"post_id":76683969,"comment_id":135197390,"body_markdown":"Wondering if the stream is useable this way, correct way is getResourceAsStream()  not FileInputStram     byte[] pxf = new byte[ttffilelength]; Font pixfont = Font.createFont(Font.TRUETYPE_FONT , new FileInputStream(filenamepathttf).read(pxf,0, ttffilelength)) Qvicky... read in all the file bytes in one long call (use getResourceAsStream not this)","body":"Wondering if the stream is useable this way, correct way is getResourceAsStream()  not FileInputStram     byte[] pxf = new byte[ttffilelength]; Font pixfont = Font.createFont(Font.TRUETYPE_FONT , new FileInputStream(filenamepathttf).read(pxf,0, ttffilelength)) Qvicky... read in all the file bytes in one long call (use getResourceAsStream not this)"}],"owner":{"account_id":28973179,"reputation":1,"user_id":22192981,"display_name":"user22192981"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689293557,"creation_date":1689293557,"question_id":76683969,"body_markdown":"For fun and to lean about Java I&#39;ve tasked myself with creating an application that can render images and lines with a pixel array.\r\n\r\nI have a function that sets a pixel&#39;s colour in that array:\r\n`pixel(int x, int y, int colour)`\r\n\r\n\r\nHow would I go about reading and storing the font data in pixels then rendering it to the screen pixel by pixel?  something like:\r\n`drawText(String text, int colour, float size)`\r\n","title":"How would I be able to read and render fonts in Java with a pixel array?","body":"<p>For fun and to lean about Java I've tasked myself with creating an application that can render images and lines with a pixel array.</p>\n<p>I have a function that sets a pixel's colour in that array:\n<code>pixel(int x, int y, int colour)</code></p>\n<p>How would I go about reading and storing the font data in pixels then rendering it to the screen pixel by pixel?  something like:\n<code>drawText(String text, int colour, float size)</code></p>\n"},{"tags":["java","lazy-evaluation"],"comments":[{"owner":{"account_id":2996624,"reputation":758,"user_id":2543055,"accept_rate":83,"display_name":"Simeon"},"score":0,"creation_date":1615806478,"post_id":15189209,"comment_id":117796240,"body_markdown":"A side note regarding the &amp;&amp; part of your example:\n`return a &amp;&amp; b` might ignore b if a is false, but `return a &amp; b` will also execute the second part of the relation.","body":"A side note regarding the &amp;&amp; part of your example: <code>return a &amp;&amp; b</code> might ignore b if a is false, but <code>return a &amp; b</code> will also execute the second part of the relation."}],"answers":[{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1362335616,"creation_date":1362335616,"answer_id":15189230,"question_id":15189209,"body_markdown":"&gt; Is isATrue() called if isBTrue() returns true?\r\n\r\n\r\n\r\nYes, both are called.","title":"Does Java have lazy evaluation?","body":"<blockquote>\n  <p>Is isATrue() called if isBTrue() returns true?</p>\n</blockquote>\n\n<p>Yes, both are called.</p>\n"},{"comments":[{"owner":{"account_id":2438171,"reputation":350,"user_id":2127494,"display_name":"Captain Ford"},"score":0,"creation_date":1362335758,"post_id":15189236,"comment_id":21399878,"body_markdown":"There&#39;s a tag for &quot;lazy-evaluation&quot;, so I guess it&#39;s a thing too.","body":"There&#39;s a tag for &quot;lazy-evaluation&quot;, so I guess it&#39;s a thing too."},{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":1,"creation_date":1362335803,"post_id":15189236,"comment_id":21399892,"body_markdown":"@CaptainFord: yup, I&#39;ve provided Wikipedia links to both in my answer ;)","body":"@CaptainFord: yup, I&#39;ve provided Wikipedia links to both in my answer ;)"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1362335944,"post_id":15189236,"comment_id":21399949,"body_markdown":"Thanks for the correction, you&#39;re right. *unless the compiler/JVM can determine that it has no observable side-effects* In this case it can determine I think, so why is `isATrue()` always called?","body":"Thanks for the correction, you&#39;re right. <i>unless the compiler/JVM can determine that it has no observable side-effects</i> In this case it can determine I think, so why is <code>isATrue()</code> always called?"},{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":1,"creation_date":1362335971,"post_id":15189236,"comment_id":21399962,"body_markdown":"@m0skit0: Because it hasn&#39;t bothered to optimize in this case?  How have you determined that it&#39;s been called?","body":"@m0skit0: Because it hasn&#39;t bothered to optimize in this case?  How have you determined that it&#39;s been called?"},{"owner":{"account_id":2438171,"reputation":350,"user_id":2127494,"display_name":"Captain Ford"},"score":0,"creation_date":1362336095,"post_id":15189236,"comment_id":21399991,"body_markdown":"Point taken. Related, but not the same.","body":"Point taken. Related, but not the same."},{"owner":{"account_id":401340,"reputation":12595,"user_id":767843,"accept_rate":100,"display_name":"emesx"},"score":0,"creation_date":1362336491,"post_id":15189236,"comment_id":21400135,"body_markdown":"@m0skit0 because the function `isXTrue` might not be final, because in one class in might always return true in others true/false in random fashion.. Depending on the case, the JVM can optimize this, inline the functions or do whatever it wants. HotSpot is known for aggressive inlining and it detects situations when even non-final functions have only one implementations, so they&#39;re effectively final","body":"@m0skit0 because the function <code>isXTrue</code> might not be final, because in one class in might always return true in others true/false in random fashion.. Depending on the case, the JVM can optimize this, inline the functions or do whatever it wants. HotSpot is known for aggressive inlining and it detects situations when even non-final functions have only one implementations, so they&#39;re effectively final"},{"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"score":2,"creation_date":1362480345,"post_id":15189236,"comment_id":21455644,"body_markdown":"I didn&#39;t downvote, but you deserved it. Because short-ciruit evaluation simply *is* (a very limited case of) lazy evaluation.","body":"I didn&#39;t downvote, but you deserved it. Because short-ciruit evaluation simply <i>is</i> (a very limited case of) lazy evaluation."},{"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"score":1,"creation_date":1362480502,"post_id":15189236,"comment_id":21455720,"body_markdown":"From the link you provided: *In languages that use lazy evaluation by default (like Haskell), all functions are effectively &quot;short-circuit&quot;, and special short-circuit operators are unnecessary.* How would this be possible, if short circiuit evaluation is not subsumed by lazy evaluation?","body":"From the link you provided: <i>In languages that use lazy evaluation by default (like Haskell), all functions are effectively &quot;short-circuit&quot;, and special short-circuit operators are unnecessary.</i> How would this be possible, if short circiuit evaluation is not subsumed by lazy evaluation?"},{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":1,"creation_date":1362487822,"post_id":15189236,"comment_id":21460069,"body_markdown":"@Ingo: Yes, you&#39;re right.  When I wrote the above answer, I was referring to lazy-evaluation in the sense of optimization (and in this context I maintain that it&#39;s distinct from short-circuit).  But indeed, in certain languages (particularly functional) it&#39;s basically mandated, and affects program semantics.  I&#39;ll see if I can reword my answer to restore order!","body":"@Ingo: Yes, you&#39;re right.  When I wrote the above answer, I was referring to lazy-evaluation in the sense of optimization (and in this context I maintain that it&#39;s distinct from short-circuit).  But indeed, in certain languages (particularly functional) it&#39;s basically mandated, and affects program semantics.  I&#39;ll see if I can reword my answer to restore order!"},{"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"score":0,"creation_date":1362492848,"post_id":15189236,"comment_id":21463123,"body_markdown":"Now you got my upvote. And yes, of course, both lazy evaluation and short circuit evaluation are all about semantics - like order of execution and if something is executed at all. Difference is, in Java, C, etc. it is some *magic* in the compiler - in fact, you cannot abstract from a series of || and &amp;&amp; operations and make it a function without changing the semantics.","body":"Now you got my upvote. And yes, of course, both lazy evaluation and short circuit evaluation are all about semantics - like order of execution and if something is executed at all. Difference is, in Java, C, etc. it is some <i>magic</i> in the compiler - in fact, you cannot abstract from a series of || and &amp;&amp; operations and make it a function without changing the semantics."}],"tags":[],"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"comment_count":10,"down_vote_count":1,"up_vote_count":27,"is_accepted":true,"score":26,"last_activity_date":1362488161,"creation_date":1362335629,"answer_id":15189236,"question_id":15189209,"body_markdown":"In Java (and other C-like languages), this is referred to as [*short-circuit evaluation*](http://en.wikipedia.org/wiki/Short-circuit_evaluation).&lt;sup&gt;*&lt;/sup&gt;\r\n\r\nAnd yes, in the second example `isATrue` is always called.  That is, unless the compiler/JVM can determine that it has no observable side-effects, in which case it may choose to optimize, but in which case you wouldn&#39;t notice the difference anyway.\r\n\r\n&lt;hr&gt;\r\n&lt;sub&gt;* &lt;s&gt;The two are quite distinct; the former is essentially an optimization technique, whereas the second is mandated by the language and can affect observable program behaviour.&lt;/s&gt;\r\n\r\nI originally suggested that this was quite distinct from lazy evaluation, but as @Ingo points out in comments below, that&#39;s a dubious assertion.  One may view the short-circuit operators in Java as a very limited application of lazy evaluation.\r\n\r\nHowever, when functional languages mandate lazy-evaluation semantics, it&#39;s usually for a quite different reason, namely prevention of infinite (or at least, excessive) recursion.\r\n&lt;/sub&gt;","title":"Does Java have lazy evaluation?","body":"<p>In Java (and other C-like languages), this is referred to as <a href=\"http://en.wikipedia.org/wiki/Short-circuit_evaluation\" rel=\"noreferrer\"><em>short-circuit evaluation</em></a>.<sup>*</sup></p>\n\n<p>And yes, in the second example <code>isATrue</code> is always called.  That is, unless the compiler/JVM can determine that it has no observable side-effects, in which case it may choose to optimize, but in which case you wouldn't notice the difference anyway.</p>\n\n<p><hr>\n<sub>* <s>The two are quite distinct; the former is essentially an optimization technique, whereas the second is mandated by the language and can affect observable program behaviour.</s></p>\n\n<p>I originally suggested that this was quite distinct from lazy evaluation, but as @Ingo points out in comments below, that's a dubious assertion.  One may view the short-circuit operators in Java as a very limited application of lazy evaluation.</p>\n\n<p>However, when functional languages mandate lazy-evaluation semantics, it's usually for a quite different reason, namely prevention of infinite (or at least, excessive) recursion.\n</sub></p>\n"},{"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":2,"creation_date":1362335832,"post_id":15189237,"comment_id":21399909,"body_markdown":"But if I punt a print statement then the compiler/JVM will feel forced to call them, and won&#39;t optimize :)","body":"But if I punt a print statement then the compiler/JVM will feel forced to call them, and won&#39;t optimize :)"},{"owner":{"account_id":462208,"reputation":16167,"user_id":864393,"display_name":"Jeremy Roman"},"score":1,"creation_date":1362335961,"post_id":15189237,"comment_id":21399959,"body_markdown":"The semantics of the Java language expect them to be called. If the compiler can with certainty safely eliminate the call without affecting the program semantics (i.e. changing behaviour), it may do so.\n\nI don&#39;t think the JVM actually does, though.","body":"The semantics of the Java language expect them to be called. If the compiler can with certainty safely eliminate the call without affecting the program semantics (i.e. changing behaviour), it may do so.  I don&#39;t think the JVM actually does, though."}],"tags":[],"owner":{"account_id":462208,"reputation":16167,"user_id":864393,"display_name":"Jeremy Roman"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1362335631,"creation_date":1362335631,"answer_id":15189237,"question_id":15189209,"body_markdown":"No, it does not. `isBTrue()` will be invoked, regardless of the result of `isATrue()`. You can verify this yourself by writing such a program, with print statements in each of the methods.","title":"Does Java have lazy evaluation?","body":"<p>No, it does not. <code>isBTrue()</code> will be invoked, regardless of the result of <code>isATrue()</code>. You can verify this yourself by writing such a program, with print statements in each of the methods.</p>\n"},{"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":7,"creation_date":1400488206,"post_id":15189253,"comment_id":36481551,"body_markdown":"*&quot;But this is short-circuit evaluation, not lazy evaluation.&quot;* Well no, actually it is: *&quot;short-ciruit evaluation simply is (a very limited case of) lazy evaluation&quot;*.","body":"<i>&quot;But this is short-circuit evaluation, not lazy evaluation.&quot;</i> Well no, actually it is: <i>&quot;short-ciruit evaluation simply is (a very limited case of) lazy evaluation&quot;</i>."}],"tags":[],"owner":{"account_id":401340,"reputation":12595,"user_id":767843,"accept_rate":100,"display_name":"emesx"},"comment_count":1,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1368469766,"creation_date":1362335697,"answer_id":15189253,"question_id":15189209,"body_markdown":"Well, as far as the language is concerned - yes, both functions are called.\r\n\r\nIf you rewrote the function to this:\r\n\r\n    public boolean isTrue() {\r\n        return isBTrue() || isATrue();\r\n    }\r\n\r\nthen the second function will not be called, if the first is true.\r\n\r\n---\r\n\r\nBut this is *short-circuit evaluation*, not *lazy evaluation*. Lazy evaluation case would look something like this:\r\n\r\n    public interface LazyBoolean {\r\n    \tboolean eval();\r\n    }\r\n     \r\n    class CostlyComparison implements LazyBoolean {\r\n      private int a, b;\r\n      \r\n      public CostlyComparison(int a, int b) { \r\n        this.a=a; \r\n        this.b=b; \r\n      }\r\n\r\n      @Override \r\n      public boolean eval() {\r\n        //lots of probably not-always-necessary computation here\r\n        return a &gt; b;\r\n      }\r\n    } \r\n\r\n    public LazyBoolean isATrue() {\r\n      return new CostlyComparison(10,30);  //just an example\r\n    }\r\n\r\n    public boolean isTrue() {        // so now we only pay for creation of 2 objects\r\n        LazyBoolean a = isATrue();   // but the computation is not performed; \r\n        LazyBoolean b = isBTrue();   // instead, it&#39;s encapsulated in a LazyBoolean\r\n        return b.eval() || a.eval(); // and will be evaluated on demand;\r\n                                     // this is the definition of lazy eval.\r\n    }\r\n\r\n","title":"Does Java have lazy evaluation?","body":"<p>Well, as far as the language is concerned - yes, both functions are called.</p>\n\n<p>If you rewrote the function to this:</p>\n\n<pre><code>public boolean isTrue() {\n    return isBTrue() || isATrue();\n}\n</code></pre>\n\n<p>then the second function will not be called, if the first is true.</p>\n\n<hr>\n\n<p>But this is <em>short-circuit evaluation</em>, not <em>lazy evaluation</em>. Lazy evaluation case would look something like this:</p>\n\n<pre><code>public interface LazyBoolean {\n    boolean eval();\n}\n\nclass CostlyComparison implements LazyBoolean {\n  private int a, b;\n\n  public CostlyComparison(int a, int b) { \n    this.a=a; \n    this.b=b; \n  }\n\n  @Override \n  public boolean eval() {\n    //lots of probably not-always-necessary computation here\n    return a &gt; b;\n  }\n} \n\npublic LazyBoolean isATrue() {\n  return new CostlyComparison(10,30);  //just an example\n}\n\npublic boolean isTrue() {        // so now we only pay for creation of 2 objects\n    LazyBoolean a = isATrue();   // but the computation is not performed; \n    LazyBoolean b = isBTrue();   // instead, it's encapsulated in a LazyBoolean\n    return b.eval() || a.eval(); // and will be evaluated on demand;\n                                 // this is the definition of lazy eval.\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1430777465,"post_id":15189317,"comment_id":48197670,"body_markdown":"In true lazy languages (usually functional languages, e.g. Haskell) `isATrue()` wouldn&#39;t be called because the variable `a` wouldn&#39;t be actually computed until it is actually used (which is effectively never).","body":"In true lazy languages (usually functional languages, e.g. Haskell) <code>isATrue()</code> wouldn&#39;t be called because the variable <code>a</code> wouldn&#39;t be actually computed until it is actually used (which is effectively never)."}],"tags":[],"owner":{"account_id":2248460,"reputation":12996,"user_id":1981279,"display_name":"Vishal K"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1362335997,"creation_date":1362335997,"answer_id":15189317,"question_id":15189209,"body_markdown":"Yes `isATrue()` will be called because you are calling it explicitly in line `boolean a = isATrue();`\r\n\r\nBut it won&#39;t be called in following case if `isBTrue()` returns `true`:\r\n\r\n    public boolean isTrue() {\r\n        return isBTrue() || isATrue();\r\n    }","title":"Does Java have lazy evaluation?","body":"<p>Yes <code>isATrue()</code> will be called because you are calling it explicitly in line <code>boolean a = isATrue();</code></p>\n\n<p>But it won't be called in following case if <code>isBTrue()</code> returns <code>true</code>:</p>\n\n<pre><code>public boolean isTrue() {\n    return isBTrue() || isATrue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44975,"reputation":3045,"user_id":132273,"display_name":"Tony Morris"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1369996621,"creation_date":1369996621,"answer_id":16855339,"question_id":15189209,"body_markdown":"No, Java has only eager evaluation for user-defined methods. Some of Java&#39;s language constructs implement non-strict evaluation as you note. Others include `if`, `?:`, `while`.\r\n\r\nI once learned[1] that there is some confusion around what it means to &quot;have lazy evaluation.&quot; First, lazy evaluation means *call-by-need* evaluation. Java has nothing at all like this. However, there is a common trend (which I personally discourage) to loosen the definition of lazy evaluation to also include *call-by-name* evaluation. Functions such as `&amp;&amp;` cannot be distinguished under call-by-need versus call-by-name evaluation; it would be the same regardless, which obscures the matter.\r\n\r\nTaking this loosening into account, some further counter-argue by claiming Java has lazy evaluation by the following:\r\n\r\n    interface Thunk&lt;A&gt; {\r\n      A value();\r\n    }\r\n\r\nThen, you might write a user-defined `&amp;&amp;` like so:\r\n\r\n    boolean and(boolean p, Thunk&lt;Boolean&gt; q) {\r\n      return p &amp;&amp; q();\r\n    }\r\n\r\nThe claim is then put forward that this demonstrates that Java has lazy evaluation. However, this is _not_ lazy evaluation, even in the loose sense. The distinguishing point here is that Java&#39;s type system does not unify the types `boolean`/`Boolean` and `Thunk&lt;Boolean&gt;`. Attempting to use one as the other will result in a *type-error*. In the absence of a static type system, the code would still fail. It is this lack of unification (static typing or not) that answers the question; no, Java does not have user-defined lazy evaluation. Of course, it can be emulated as above, but this is an uninteresting observation which follows from turing-equivalence.\r\n\r\nA language such as Scala has call-by-name evaluation, which allows a user-defined `and` function which is equivalent to the regular `&amp;&amp;` function (taking termination into account. See [1]).\r\n\r\n    // note the =&gt; annotation on the second argument\r\n    def and(p: Boolean, q: =&gt; Boolean) =\r\n      p &amp;&amp; q\r\n\r\nThis allows:\r\n\r\n    def z: Boolean = z\r\n    val r: Boolean = and(false, z)\r\n\r\nNote that this short program snippet *terminates* by providing a value. It also *unifies* values of type `Boolean` as call-by-name. Therefore, if you subscribe to the loose definition of lazy evaluation (and again, I discourage this), you might say that Scala has lazy evaluation. I provide Scala here as a good contrast. I recommend looking at Haskell for true lazy evaluation (call-by-need).\r\n\r\nHope this helps!\r\n\r\n[1] http://blog.tmorris.net/posts/a-fling-with-lazy-evaluation/","title":"Does Java have lazy evaluation?","body":"<p>No, Java has only eager evaluation for user-defined methods. Some of Java's language constructs implement non-strict evaluation as you note. Others include <code>if</code>, <code>?:</code>, <code>while</code>.</p>\n\n<p>I once learned[1] that there is some confusion around what it means to \"have lazy evaluation.\" First, lazy evaluation means <em>call-by-need</em> evaluation. Java has nothing at all like this. However, there is a common trend (which I personally discourage) to loosen the definition of lazy evaluation to also include <em>call-by-name</em> evaluation. Functions such as <code>&amp;&amp;</code> cannot be distinguished under call-by-need versus call-by-name evaluation; it would be the same regardless, which obscures the matter.</p>\n\n<p>Taking this loosening into account, some further counter-argue by claiming Java has lazy evaluation by the following:</p>\n\n<pre><code>interface Thunk&lt;A&gt; {\n  A value();\n}\n</code></pre>\n\n<p>Then, you might write a user-defined <code>&amp;&amp;</code> like so:</p>\n\n<pre><code>boolean and(boolean p, Thunk&lt;Boolean&gt; q) {\n  return p &amp;&amp; q();\n}\n</code></pre>\n\n<p>The claim is then put forward that this demonstrates that Java has lazy evaluation. However, this is <em>not</em> lazy evaluation, even in the loose sense. The distinguishing point here is that Java's type system does not unify the types <code>boolean</code>/<code>Boolean</code> and <code>Thunk&lt;Boolean&gt;</code>. Attempting to use one as the other will result in a <em>type-error</em>. In the absence of a static type system, the code would still fail. It is this lack of unification (static typing or not) that answers the question; no, Java does not have user-defined lazy evaluation. Of course, it can be emulated as above, but this is an uninteresting observation which follows from turing-equivalence.</p>\n\n<p>A language such as Scala has call-by-name evaluation, which allows a user-defined <code>and</code> function which is equivalent to the regular <code>&amp;&amp;</code> function (taking termination into account. See [1]).</p>\n\n<pre><code>// note the =&gt; annotation on the second argument\ndef and(p: Boolean, q: =&gt; Boolean) =\n  p &amp;&amp; q\n</code></pre>\n\n<p>This allows:</p>\n\n<pre><code>def z: Boolean = z\nval r: Boolean = and(false, z)\n</code></pre>\n\n<p>Note that this short program snippet <em>terminates</em> by providing a value. It also <em>unifies</em> values of type <code>Boolean</code> as call-by-name. Therefore, if you subscribe to the loose definition of lazy evaluation (and again, I discourage this), you might say that Scala has lazy evaluation. I provide Scala here as a good contrast. I recommend looking at Haskell for true lazy evaluation (call-by-need).</p>\n\n<p>Hope this helps!</p>\n\n<p>[1] <a href=\"http://blog.tmorris.net/posts/a-fling-with-lazy-evaluation/\" rel=\"noreferrer\">http://blog.tmorris.net/posts/a-fling-with-lazy-evaluation/</a></p>\n"},{"comments":[{"owner":{"account_id":75366,"reputation":16993,"user_id":216222,"display_name":"aem999"},"score":1,"creation_date":1437199596,"post_id":26075774,"comment_id":50940978,"body_markdown":"@pagoda_5b re: &#39;this does not answer the OP&#39;. Actually it does. JDK8 lambda expressions can be used for lazy function evaluation in addition to any mechanisms provided in earlier JDK versions. The answer, although incomplete, is on the money, so it is wrong to say it does not answer the OP.","body":"@pagoda_5b re: &#39;this does not answer the OP&#39;. Actually it does. JDK8 lambda expressions can be used for lazy function evaluation in addition to any mechanisms provided in earlier JDK versions. The answer, although incomplete, is on the money, so it is wrong to say it does not answer the OP."},{"owner":{"account_id":1283997,"reputation":7333,"user_id":1237450,"display_name":"pagoda_5b"},"score":0,"creation_date":1437222227,"post_id":26075774,"comment_id":50945814,"body_markdown":"I removed the original comment. You&#39;re probably right","body":"I removed the original comment. You&#39;re probably right"},{"owner":{"account_id":291407,"reputation":1525,"user_id":593533,"accept_rate":17,"display_name":"Henno Vermeulen"},"score":2,"creation_date":1446456788,"post_id":26075774,"comment_id":54734193,"body_markdown":"I would use the existing java.util.function.Supplier as the functional interface,  but perhaps creating a functional interface called Lazy more clearly shows the intent.","body":"I would use the existing java.util.function.Supplier as the functional interface,  but perhaps creating a functional interface called Lazy more clearly shows the intent."}],"tags":[],"owner":{"account_id":5094363,"reputation":131,"user_id":4086276,"display_name":"Dima"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1411828832,"creation_date":1411828832,"answer_id":26075774,"question_id":15189209,"body_markdown":"SE8 (JDK1.8) has introduced [Lambda expressions][1], which can make lazy evaluations more transparent. Consider the statement in the main method of the following code:\r\n\r\n    @FunctionalInterface\r\n    public interface Lazy&lt;T&gt; {\r\n       T value();\r\n    }\r\n\r\n    class Test {\r\n       private String veryLongMethod() {\r\n          //Very long computation\r\n          return &quot;&quot;;\r\n       }\r\n    \r\n       public static &lt;T&gt; T coalesce(T primary, Lazy&lt;T&gt; secondary) {\r\n          return primary != null? primary : secondary.value();\r\n       }\r\n    \r\n       public static void main(String[] argv) {\r\n          String result = coalesce(argv[0], ()-&gt;veryLongMethod());\r\n       }\r\n    }\r\n\r\nThe called function coalesce returns the first given non-null value (as in SQL). The second parameter in its call is a Lambda expression. The method veryLongMethod() will be called only when argv[0] == null. The only payload in this case is inserting `()-&gt;` before the value to be lazily evaluated on demand.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n\r\n","title":"Does Java have lazy evaluation?","body":"<p>SE8 (JDK1.8) has introduced <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\">Lambda expressions</a>, which can make lazy evaluations more transparent. Consider the statement in the main method of the following code:</p>\n\n<pre><code>@FunctionalInterface\npublic interface Lazy&lt;T&gt; {\n   T value();\n}\n\nclass Test {\n   private String veryLongMethod() {\n      //Very long computation\n      return \"\";\n   }\n\n   public static &lt;T&gt; T coalesce(T primary, Lazy&lt;T&gt; secondary) {\n      return primary != null? primary : secondary.value();\n   }\n\n   public static void main(String[] argv) {\n      String result = coalesce(argv[0], ()-&gt;veryLongMethod());\n   }\n}\n</code></pre>\n\n<p>The called function coalesce returns the first given non-null value (as in SQL). The second parameter in its call is a Lambda expression. The method veryLongMethod() will be called only when argv[0] == null. The only payload in this case is inserting <code>()-&gt;</code> before the value to be lazily evaluated on demand.</p>\n"},{"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1485802081,"post_id":41933723,"comment_id":71066734,"body_markdown":"Thank you, but I was not asking how to acheive laziness but if Java is lazy by default.","body":"Thank you, but I was not asking how to acheive laziness but if Java is lazy by default."},{"owner":{"account_id":1149936,"reputation":14493,"user_id":1131857,"accept_rate":76,"display_name":"wutzebaer"},"score":0,"creation_date":1577800921,"post_id":41933723,"comment_id":105259001,"body_markdown":"Thanks this will make some if statements more readable, do you think there is a loss of measurable performance?","body":"Thanks this will make some if statements more readable, do you think there is a loss of measurable performance?"}],"tags":[],"owner":{"account_id":5320261,"reputation":7235,"user_id":4243908,"accept_rate":77,"display_name":"George"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1485772421,"creation_date":1485772421,"answer_id":41933723,"question_id":15189209,"body_markdown":"For simplicity you can use the Supplier interface from java 8 like this:\r\n\r\n    Supplier&lt;SomeVal&gt; someValSupplier = () -&gt; getSomeValLazily();\r\n\r\nThen in code afterwards you can have:\r\n\r\n    if (iAmLazy) \r\n      someVal = someValSupplier.get(); // lazy getting the value\r\n    else \r\n      someVal = getSomeVal(); // non lazy getting the value\r\n\r\n    \r\n\r\n","title":"Does Java have lazy evaluation?","body":"<p>For simplicity you can use the Supplier interface from java 8 like this:</p>\n\n<pre><code>Supplier&lt;SomeVal&gt; someValSupplier = () -&gt; getSomeValLazily();\n</code></pre>\n\n<p>Then in code afterwards you can have:</p>\n\n<pre><code>if (iAmLazy) \n  someVal = someValSupplier.get(); // lazy getting the value\nelse \n  someVal = getSomeVal(); // non lazy getting the value\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2775064,"reputation":1022,"user_id":2388791,"accept_rate":50,"display_name":"Abdullah Shahin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689292609,"creation_date":1521305855,"answer_id":49339508,"question_id":15189209,"body_markdown":"Just wanted to add in addition to what have been mentioned in this question thread, below is from Oracle Documentation on JVM\r\n\r\n&gt; a Java Virtual Machine implementation may choose to resolve each\r\n&gt; symbolic reference in a class or interface individually when it is\r\n&gt; used (&quot;lazy&quot; or &quot;late&quot; resolution), or to resolve them all at once\r\n&gt; when the class is being verified (&quot;eager&quot; or &quot;static&quot; resolution).\r\n&gt; This means that the resolution process may continue, in some\r\n&gt; implementations, after a class or interface has been initialized.\r\n\r\n[reference][1]\r\n\r\nand as an example of the classes that has lazy implementation is Stream, this is from Oracle Documentation on Stream\r\n\r\n&gt; Streams are lazy; computation on the source data is only performed\r\n&gt; when the terminal operation is initiated, and source elements are\r\n&gt; consumed only as needed.\r\n\r\n[reference][2]\r\n\r\nThat being said, if you do the following, nothing will be displayed. Unless you add initiator.\r\n\r\n    Stream.of(1, 2, 3, 4, 5).filter(number -&gt; {\r\n       System.out.println(&quot;This is not going to be logged&quot;);\r\n       return true;\r\n    });\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jvms/se9/html/jvms-5.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html","title":"Does Java have lazy evaluation?","body":"<p>Just wanted to add in addition to what have been mentioned in this question thread, below is from Oracle Documentation on JVM</p>\n<blockquote>\n<p>a Java Virtual Machine implementation may choose to resolve each\nsymbolic reference in a class or interface individually when it is\nused (&quot;lazy&quot; or &quot;late&quot; resolution), or to resolve them all at once\nwhen the class is being verified (&quot;eager&quot; or &quot;static&quot; resolution).\nThis means that the resolution process may continue, in some\nimplementations, after a class or interface has been initialized.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/specs/jvms/se9/html/jvms-5.html\" rel=\"nofollow noreferrer\">reference</a></p>\n<p>and as an example of the classes that has lazy implementation is Stream, this is from Oracle Documentation on Stream</p>\n<blockquote>\n<p>Streams are lazy; computation on the source data is only performed\nwhen the terminal operation is initiated, and source elements are\nconsumed only as needed.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">reference</a></p>\n<p>That being said, if you do the following, nothing will be displayed. Unless you add initiator.</p>\n<pre><code>Stream.of(1, 2, 3, 4, 5).filter(number -&gt; {\n   System.out.println(&quot;This is not going to be logged&quot;);\n   return true;\n});\n</code></pre>\n"}],"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48634,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":15189236,"answer_count":9,"score":35,"last_activity_date":1689292609,"creation_date":1362335518,"question_id":15189209,"body_markdown":"I know that Java has smart/lazy evaluation in this case:\r\n\r\n    public boolean isTrue() {\r\n        boolean a = false;\r\n        boolean b = true;\r\n        return b || (a &amp;&amp; b); // (a &amp;&amp; b) is not evaluated since b is true\r\n    }\r\n\r\nBut what about:\r\n\r\n    public boolean isTrue() {\r\n        boolean a = isATrue();\r\n        boolean b = isBTrue();\r\n        return b || a;\r\n    }\r\n\r\nIs `isATrue()` called even if `isBTrue()` returns true?","title":"Does Java have lazy evaluation?","body":"<p>I know that Java has smart/lazy evaluation in this case:</p>\n\n<pre><code>public boolean isTrue() {\n    boolean a = false;\n    boolean b = true;\n    return b || (a &amp;&amp; b); // (a &amp;&amp; b) is not evaluated since b is true\n}\n</code></pre>\n\n<p>But what about:</p>\n\n<pre><code>public boolean isTrue() {\n    boolean a = isATrue();\n    boolean b = isBTrue();\n    return b || a;\n}\n</code></pre>\n\n<p>Is <code>isATrue()</code> called even if <code>isBTrue()</code> returns true?</p>\n"},{"tags":["java","log4j2","slf4j"],"answers":[{"comments":[{"owner":{"account_id":9624759,"reputation":103,"user_id":7144736,"accept_rate":60,"display_name":"Bogdan"},"score":0,"creation_date":1536773122,"post_id":52300356,"comment_id":91548756,"body_markdown":"I already provided the argument called &quot;log4j.configurationFile&quot; having the value representing the path to my log4j2.xml file. I think that the problem is represented by the fact that I use slf4j as a facade. Does it know to search for that argument too? In the example that I provided it might break the logger after the ClassCastException, but I tried another method where the logger would also fail to set the context because it would expect LoggerContext from log4j instead of Slf4JLoggerContext, but it would not throw an exception (it just simply returns null, and there was no NullPointerExc).","body":"I already provided the argument called &quot;log4j.configurationFile&quot; having the value representing the path to my log4j2.xml file. I think that the problem is represented by the fact that I use slf4j as a facade. Does it know to search for that argument too? In the example that I provided it might break the logger after the ClassCastException, but I tried another method where the logger would also fail to set the context because it would expect LoggerContext from log4j instead of Slf4JLoggerContext, but it would not throw an exception (it just simply returns null, and there was no NullPointerExc)."},{"owner":{"account_id":11481923,"reputation":8281,"user_id":8415703,"accept_rate":83,"display_name":"Dovmo"},"score":0,"creation_date":1536773988,"post_id":52300356,"comment_id":91549171,"body_markdown":"As long as you&#39;ve included the bridge in your deps (which you have), the slf4j stuff should get logged through log4j2. How are you passing in the argument? What happened when you tried a default classpath location like I mentioned at the bottom?","body":"As long as you&#39;ve included the bridge in your deps (which you have), the slf4j stuff should get logged through log4j2. How are you passing in the argument? What happened when you tried a default classpath location like I mentioned at the bottom?"},{"owner":{"account_id":9624759,"reputation":103,"user_id":7144736,"accept_rate":60,"display_name":"Bogdan"},"score":0,"creation_date":1536774530,"post_id":52300356,"comment_id":91549419,"body_markdown":"I passed the argument at command line -Dlog4j.configuration=fullPathToMyFile. The file is placed on the classpath (src/main/resources). I doesn&#39;t create the log files. Instead it logs a warn in my wrapper after almost any action. The warn is exactly the same with the one in the post (No appenders could be found for logger).","body":"I passed the argument at command line -Dlog4j.configuration=fullPathToMyFile. The file is placed on the classpath (src/main/resources). I doesn&#39;t create the log files. Instead it logs a warn in my wrapper after almost any action. The warn is exactly the same with the one in the post (No appenders could be found for logger)."},{"owner":{"account_id":11481923,"reputation":8281,"user_id":8415703,"accept_rate":83,"display_name":"Dovmo"},"score":0,"creation_date":1536774732,"post_id":52300356,"comment_id":91549494,"body_markdown":"I mean, you were basically doing the right thing there. What does your `log4j xml `config look like?","body":"I mean, you were basically doing the right thing there. What does your <code>log4j xml </code>config look like?"},{"owner":{"account_id":9624759,"reputation":103,"user_id":7144736,"accept_rate":60,"display_name":"Bogdan"},"score":0,"creation_date":1536774795,"post_id":52300356,"comment_id":91549522,"body_markdown":"How about replacing the current bridge (log4j-slf4j-impl) with: log4j-over-slf4j from org.slf4j?","body":"How about replacing the current bridge (log4j-slf4j-impl) with: log4j-over-slf4j from org.slf4j?"},{"owner":{"account_id":11481923,"reputation":8281,"user_id":8415703,"accept_rate":83,"display_name":"Dovmo"},"score":0,"creation_date":1536775123,"post_id":52300356,"comment_id":91549684,"body_markdown":"Nah, that&#39;s just going to pipe all of your log4j logs to slf4j so you&#39;d be able to log with another framework. Not what you want. Can I see your log4j xml? It could be there&#39;s actually no correct appender configured and that&#39;s causing the problem","body":"Nah, that&#39;s just going to pipe all of your log4j logs to slf4j so you&#39;d be able to log with another framework. Not what you want. Can I see your log4j xml? It could be there&#39;s actually no correct appender configured and that&#39;s causing the problem"},{"owner":{"account_id":11481923,"reputation":8281,"user_id":8415703,"accept_rate":83,"display_name":"Dovmo"},"score":0,"creation_date":1536775500,"post_id":52300356,"comment_id":91549856,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/179928/discussion-between-dovmo-and-bogdan).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/179928/discussion-between-dovmo-and-bogdan\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":11481923,"reputation":8281,"user_id":8415703,"accept_rate":83,"display_name":"Dovmo"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536772282,"creation_date":1536772282,"answer_id":52300356,"question_id":52300045,"body_markdown":"It doesn&#39;t seem to me from your question you&#39;re trying to specify a *custom* configuration location! See the `Automatic Configuration` section [in the docs][1]:\r\n\r\n&gt; Log4j has the ability to automatically configure itself during\r\n&gt; initialization. When Log4j starts it will locate all the\r\n&gt; ConfigurationFactory plugins and arrange them in weighted order from\r\n&gt; highest to lowest. As delivered, Log4j contains four\r\n&gt; ConfigurationFactory implementations: one for JSON, one for YAML, one\r\n&gt; for properties, and one for XML.\r\n&gt; \r\n&gt; Log4j will inspect the &quot;log4j.configurationFile&quot; system property and,\r\n&gt; if set, will attempt to load the configuration using the\r\n&gt; ConfigurationFactory that matches the file extension.\r\n&gt; \r\n&gt;  - If no system property is set the properties ConfigurationFactory will    look for log4j2-test.properties in the classpath.\r\n&gt; \r\n&gt;  - If no such file is found the YAML ConfigurationFactory will look for log4j2-test.yaml or log4j2-test.yml in the classpath.\r\n&gt; \r\n&gt;  - If no such file is found the JSON ConfigurationFactory will look for log4j2-test.json or log4j2-test.jsn in the classpath.\r\n&gt; \r\n&gt;  - If no such file is found the XML ConfigurationFactory will look for\r\n&gt; log4j2-test.xml in the classpath.\r\n&gt; \r\n&gt;  - If a test file cannot be located the properties ConfigurationFactory will look for log4j2.properties on the classpath.\r\n&gt; \r\n&gt;  - If a properties file cannot be located the YAML ConfigurationFactory will look for log4j2.yaml or log4j2.yml on the\r\n&gt; classpath.\r\n&gt; \r\n&gt;  - If a YAML file cannot be located the JSON ConfigurationFactory will look for log4j2.json or log4j2.jsn on the classpath.\r\n&gt; \r\n&gt;  - If a JSON file cannot be located the XML ConfigurationFactory will try to locate log4j2.xml on the classpath.\r\n&gt; \r\n&gt;  - If no configuration file could be located the DefaultConfiguration will be used. This will cause logging output to go to the console.\r\n\r\nYou might be overthinking it here.\r\n\r\nYou can put it &quot;on the classpath&quot; by placing it in the `src/main/resources` folder or specifying it on the command line with `-cp/-classpath`.\r\n\r\n[1]: https://logging.apache.org/log4j/2.x/manual/configuration.html\r\n\r\n","title":"Initialize slf4j with log4j2.xml","body":"<p>It doesn't seem to me from your question you're trying to specify a <em>custom</em> configuration location! See the <code>Automatic Configuration</code> section <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"nofollow noreferrer\">in the docs</a>:</p>\n\n<blockquote>\n  <p>Log4j has the ability to automatically configure itself during\n  initialization. When Log4j starts it will locate all the\n  ConfigurationFactory plugins and arrange them in weighted order from\n  highest to lowest. As delivered, Log4j contains four\n  ConfigurationFactory implementations: one for JSON, one for YAML, one\n  for properties, and one for XML.</p>\n  \n  <p>Log4j will inspect the \"log4j.configurationFile\" system property and,\n  if set, will attempt to load the configuration using the\n  ConfigurationFactory that matches the file extension.</p>\n  \n  <ul>\n  <li><p>If no system property is set the properties ConfigurationFactory will    look for log4j2-test.properties in the classpath.</p></li>\n  <li><p>If no such file is found the YAML ConfigurationFactory will look for log4j2-test.yaml or log4j2-test.yml in the classpath.</p></li>\n  <li><p>If no such file is found the JSON ConfigurationFactory will look for log4j2-test.json or log4j2-test.jsn in the classpath.</p></li>\n  <li><p>If no such file is found the XML ConfigurationFactory will look for\n  log4j2-test.xml in the classpath.</p></li>\n  <li><p>If a test file cannot be located the properties ConfigurationFactory will look for log4j2.properties on the classpath.</p></li>\n  <li><p>If a properties file cannot be located the YAML ConfigurationFactory will look for log4j2.yaml or log4j2.yml on the\n  classpath.</p></li>\n  <li><p>If a YAML file cannot be located the JSON ConfigurationFactory will look for log4j2.json or log4j2.jsn on the classpath.</p></li>\n  <li><p>If a JSON file cannot be located the XML ConfigurationFactory will try to locate log4j2.xml on the classpath.</p></li>\n  <li><p>If no configuration file could be located the DefaultConfiguration will be used. This will cause logging output to go to the console.</p></li>\n  </ul>\n</blockquote>\n\n<p>You might be overthinking it here.</p>\n\n<p>You can put it \"on the classpath\" by placing it in the <code>src/main/resources</code> folder or specifying it on the command line with <code>-cp/-classpath</code>.</p>\n"},{"tags":[],"owner":{"account_id":10880077,"reputation":1286,"user_id":7999311,"display_name":"Adam Ostrožl&#237;k"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689292472,"creation_date":1536823270,"answer_id":52308514,"question_id":52300045,"body_markdown":"I have tested this configuration. The log4j2 file has to be in your classpath.\r\n\r\n**Maven**\r\n    \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**log4j2.xml**\r\n\r\nAlso, adding xsd helps you with creating configuration. I have added Logger for spring framework. Note, that jcl-over-slf4j is needed to work with spring&#39;s internal logging\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;error&quot;\r\n                   xmlns=&quot;http://logging.apache.org/log4j/2.0/config&quot;\r\n                   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                   xsi:schemaLocation=&quot;http://logging.apache.org/log4j/2.0/config\r\n                    https://raw.githubusercontent.com/apache/logging-log4j2/master/log4j-core/src/main/resources/Log4j-config.xsd&quot;&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;%highlight{%d{HH:mm:ss.SSS} [%t] %-5level %logger{36}} - %msg%n&quot;/&gt;\r\n            &lt;/Console&gt;\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;Root level=&quot;debug&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n            &lt;/Root&gt;\r\n            &lt;Logger name=&quot;org.springframework&quot; level=&quot;error&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\n","title":"Initialize slf4j with log4j2.xml","body":"<p>I have tested this configuration. The log4j2 file has to be in your classpath.</p>\n<p><strong>Maven</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>log4j2.xml</strong></p>\n<p>Also, adding xsd helps you with creating configuration. I have added Logger for spring framework. Note, that jcl-over-slf4j is needed to work with spring's internal logging</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;error&quot;\n               xmlns=&quot;http://logging.apache.org/log4j/2.0/config&quot;\n               xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n               xsi:schemaLocation=&quot;http://logging.apache.org/log4j/2.0/config\n                https://raw.githubusercontent.com/apache/logging-log4j2/master/log4j-core/src/main/resources/Log4j-config.xsd&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%highlight{%d{HH:mm:ss.SSS} [%t] %-5level %logger{36}} - %msg%n&quot;/&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;debug&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Root&gt;\n        &lt;Logger name=&quot;org.springframework&quot; level=&quot;error&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Logger&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":9624759,"reputation":103,"user_id":7144736,"accept_rate":60,"display_name":"Bogdan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11555,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1689292472,"creation_date":1536770915,"question_id":52300045,"body_markdown":"I want to use slf4j over log4j. I added the following dependencies in my pom.xml (I used 1.7.25 for slf4j and 2.10.0 for log4j2):\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n  \r\n        &lt;dependency&gt;\r\n           &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n           &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n           &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n  \r\n        &lt;dependency&gt;\r\n           &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n           &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n           &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n  \r\n        &lt;dependency&gt;\r\n           &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n           &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n           &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt; \r\n\r\nEverything builds just fine, no compilation errors or lack of dependencies, but I failed to specify the configuration (log4j2.xml) file in my class that is responsible for the initialization of the Logger. In this situation it always prints the same warning\r\n\r\n    log4j:WARN No appenders could be found for logger (com.mypackage.etc).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n    log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n\r\nI searched for a proper way to provide the configuration file and ended up with this:\r\n\r\n    LoggerContext context = (org.apache.logging.log4j.core.LoggerContext) LogManager.getContext(false);\r\n    File file = new File(&quot;path/to/a/different/log4j2.xml&quot;);\r\n    context.setConfigLocation(file.toURI());\r\n\r\nThe problem is that in my case LogManager.getContext(false) will always return an instance of Slf4JLoggerContext (considering that I use slf4j as a facade for the logger) and the initialization will fail with ClassCastException. I tried to store that instance of Slf4JLoggerContext, but it doesn&#39;t offer a setter for the context. Also I failed to find a way to retrieve a LoggerContext from log4j.\r\n\r\nIs there any way to provide the configuration file (log4j2.xml) to slf4j in order to see all the appenders and loggers?\r\n\r\n**Update** \r\nConsider this my configuration file (I replaced the original packages and appenders name):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration&gt;\r\n        &lt;Properties&gt;\r\n            &lt;Property name=&quot;def.files.backup.count&quot;&gt;10&lt;/Property&gt;\r\n            &lt;Property name=&quot;log.file.path&quot;&gt;${oo.home}/var/logs&lt;/Property&gt;\r\n            &lt;Property name=&quot;def.file.max.size&quot;&gt;10MB&lt;/Property&gt;\r\n            &lt;Property name=&quot;log.level&quot;&gt;WARN&lt;/Property&gt;\r\n        &lt;/Properties&gt;\r\n    \r\n        &lt;ThresholdFilter/&gt;\r\n    \r\n        &lt;Appenders&gt;\r\n            &lt;RollingFile name=&quot;Appender1&quot; fileName=&quot;${log.file.path}/file1.log&quot; maxFileSize=&quot;${def.file.max.size}&quot;\r\n                         maxBackupIndex=&quot;${def.files.backup.count}&quot;&gt;\r\n                &lt;PatternLayout&gt;org.apache.log4j.PatternLayout&lt;/PatternLayout&gt;\r\n                &lt;Policies&gt;\r\n                    &lt;SizeBasedTriggeringPolicy size=&quot;10MB&quot;/&gt;\r\n                &lt;/Policies&gt;\r\n            &lt;/RollingFile&gt;\r\n    \r\n            &lt;RollingFile name=&quot;Appender2&quot; fileName=&quot;${log.file.path}/file2.log&quot;\r\n                         maxFileSize=&quot;${def.file.max.size}&quot;\r\n                         maxBackupIndex=&quot;${def.files.backup.count}&quot;&gt;\r\n                &lt;PatternLayout&gt;org.apache.log4j.PatternLayout&lt;/PatternLayout&gt;\r\n                &lt;Policies&gt;\r\n                    &lt;SizeBasedTriggeringPolicy size=&quot;10MB&quot;/&gt;\r\n                &lt;/Policies&gt;\r\n            &lt;/RollingFile&gt;\r\n    \r\n            &lt;RollingFile name=&quot;Appender3&quot; fileName=&quot;${log.file.path}/file3.log&quot;\r\n                         maxFileSize=&quot;${def.file.max.size}&quot;\r\n                         maxBackupIndex=&quot;${def.files.backup.count}&quot;&gt;\r\n                &lt;PatternLayout&gt;org.apache.log4j.PatternLayout&lt;/PatternLayout&gt;\r\n                &lt;Policies&gt;\r\n                    &lt;SizeBasedTriggeringPolicy size=&quot;10MB&quot;/&gt;\r\n                &lt;/Policies&gt;\r\n            &lt;/RollingFile&gt;\r\n    \r\n        &lt;/Appenders&gt;\r\n    \r\n        &lt;Loggers&gt;\r\n            &lt;AsyncLogger name=&quot;com.package1.oo&quot; level=&quot;${log.level}&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Appender1&quot;/&gt;\r\n            &lt;/AsyncLogger&gt;\r\n    \r\n            &lt;AsyncLogger name=&quot;io.package2&quot; level=&quot;${log.level}&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Appender2&quot;/&gt;\r\n            &lt;/AsyncLogger&gt;\r\n    \r\n            &lt;AsyncLogger name=&quot;com.package3.package3&quot; level=&quot;${log.level}&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Appender3&quot;/&gt;\r\n            &lt;/AsyncLogger&gt;\r\n    \r\n            &lt;AsyncLogger name=&quot;org.package4&quot; level=&quot;${log.level}&quot;&gt;\r\n    \r\n            &lt;/AsyncLogger&gt;\r\n    \r\n            &lt;AsyncLogger name=&quot;com.package5.Class1&quot; level=&quot;${log.level}&quot;&gt;\r\n    \r\n            &lt;/AsyncLogger&gt;\r\n    \r\n            &lt;AsyncRoot level=&quot;${log.level}&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Appender1&quot;/&gt;\r\n    \t\t\t&lt;AppenderRef ref=&quot;Appender2&quot;/&gt;\r\n    \t\t\t&lt;AppenderRef ref=&quot;Appender3&quot;/&gt;\r\n    \t\t\r\n            &lt;/AsyncRoot&gt;\r\n        &lt;/Loggers&gt;\r\n    \r\n    &lt;/Configuration&gt;","title":"Initialize slf4j with log4j2.xml","body":"<p>I want to use slf4j over log4j. I added the following dependencies in my pom.xml (I used 1.7.25 for slf4j and 2.10.0 for log4j2):</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;${slf4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n       &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n       &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n       &lt;version&gt;${log4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n       &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n       &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n       &lt;version&gt;${log4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n       &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n       &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n       &lt;version&gt;${log4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt; \n</code></pre>\n\n<p>Everything builds just fine, no compilation errors or lack of dependencies, but I failed to specify the configuration (log4j2.xml) file in my class that is responsible for the initialization of the Logger. In this situation it always prints the same warning</p>\n\n<pre><code>log4j:WARN No appenders could be found for logger (com.mypackage.etc).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\n</code></pre>\n\n<p>I searched for a proper way to provide the configuration file and ended up with this:</p>\n\n<pre><code>LoggerContext context = (org.apache.logging.log4j.core.LoggerContext) LogManager.getContext(false);\nFile file = new File(\"path/to/a/different/log4j2.xml\");\ncontext.setConfigLocation(file.toURI());\n</code></pre>\n\n<p>The problem is that in my case LogManager.getContext(false) will always return an instance of Slf4JLoggerContext (considering that I use slf4j as a facade for the logger) and the initialization will fail with ClassCastException. I tried to store that instance of Slf4JLoggerContext, but it doesn't offer a setter for the context. Also I failed to find a way to retrieve a LoggerContext from log4j.</p>\n\n<p>Is there any way to provide the configuration file (log4j2.xml) to slf4j in order to see all the appenders and loggers?</p>\n\n<p><strong>Update</strong> \nConsider this my configuration file (I replaced the original packages and appenders name):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration&gt;\n    &lt;Properties&gt;\n        &lt;Property name=\"def.files.backup.count\"&gt;10&lt;/Property&gt;\n        &lt;Property name=\"log.file.path\"&gt;${oo.home}/var/logs&lt;/Property&gt;\n        &lt;Property name=\"def.file.max.size\"&gt;10MB&lt;/Property&gt;\n        &lt;Property name=\"log.level\"&gt;WARN&lt;/Property&gt;\n    &lt;/Properties&gt;\n\n    &lt;ThresholdFilter/&gt;\n\n    &lt;Appenders&gt;\n        &lt;RollingFile name=\"Appender1\" fileName=\"${log.file.path}/file1.log\" maxFileSize=\"${def.file.max.size}\"\n                     maxBackupIndex=\"${def.files.backup.count}\"&gt;\n            &lt;PatternLayout&gt;org.apache.log4j.PatternLayout&lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=\"10MB\"/&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n\n        &lt;RollingFile name=\"Appender2\" fileName=\"${log.file.path}/file2.log\"\n                     maxFileSize=\"${def.file.max.size}\"\n                     maxBackupIndex=\"${def.files.backup.count}\"&gt;\n            &lt;PatternLayout&gt;org.apache.log4j.PatternLayout&lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=\"10MB\"/&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n\n        &lt;RollingFile name=\"Appender3\" fileName=\"${log.file.path}/file3.log\"\n                     maxFileSize=\"${def.file.max.size}\"\n                     maxBackupIndex=\"${def.files.backup.count}\"&gt;\n            &lt;PatternLayout&gt;org.apache.log4j.PatternLayout&lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=\"10MB\"/&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;AsyncLogger name=\"com.package1.oo\" level=\"${log.level}\" additivity=\"false\"&gt;\n            &lt;AppenderRef ref=\"Appender1\"/&gt;\n        &lt;/AsyncLogger&gt;\n\n        &lt;AsyncLogger name=\"io.package2\" level=\"${log.level}\" additivity=\"false\"&gt;\n            &lt;AppenderRef ref=\"Appender2\"/&gt;\n        &lt;/AsyncLogger&gt;\n\n        &lt;AsyncLogger name=\"com.package3.package3\" level=\"${log.level}\" additivity=\"false\"&gt;\n            &lt;AppenderRef ref=\"Appender3\"/&gt;\n        &lt;/AsyncLogger&gt;\n\n        &lt;AsyncLogger name=\"org.package4\" level=\"${log.level}\"&gt;\n\n        &lt;/AsyncLogger&gt;\n\n        &lt;AsyncLogger name=\"com.package5.Class1\" level=\"${log.level}\"&gt;\n\n        &lt;/AsyncLogger&gt;\n\n        &lt;AsyncRoot level=\"${log.level}\"&gt;\n            &lt;AppenderRef ref=\"Appender1\"/&gt;\n            &lt;AppenderRef ref=\"Appender2\"/&gt;\n            &lt;AppenderRef ref=\"Appender3\"/&gt;\n\n        &lt;/AsyncRoot&gt;\n    &lt;/Loggers&gt;\n\n&lt;/Configuration&gt;\n</code></pre>\n"},{"tags":["java","hibernate","spring","transactions","xa"],"answers":[{"comments":[{"owner":{"account_id":2008878,"reputation":15778,"user_id":1797912,"accept_rate":60,"display_name":"Chriki"},"score":7,"creation_date":1437057625,"post_id":128473,"comment_id":50881666,"body_markdown":"This example doesn’t really answer the question or it even answers it wrongly: the OP mentioned that he had two Hibernate session factories configured which would require two separate transaction managers. The example in the answer only uses one transaction manager which is not specified any closer. Using a single Hibernate transaction manager consequently would never rollback one of the two DBs on errors. Using for example a `ChainedTransactionManager` (as noted by @Pani Dhakshnamurthy) might help but that is not mentioned in this answer.","body":"This example doesn’t really answer the question or it even answers it wrongly: the OP mentioned that he had two Hibernate session factories configured which would require two separate transaction managers. The example in the answer only uses one transaction manager which is not specified any closer. Using a single Hibernate transaction manager consequently would never rollback one of the two DBs on errors. Using for example a <code>ChainedTransactionManager</code> (as noted by @Pani Dhakshnamurthy) might help but that is not mentioned in this answer."}],"tags":[],"owner":{"display_name":"Curious Developer"},"comment_count":1,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1416469624,"creation_date":1222276828,"answer_id":128473,"question_id":128377,"body_markdown":"Setup a transaction manager in your context. Spring docs have examples, and it is very simple. Then when you want to execute a transaction:\r\n\r\n    try { \r\n        TransactionTemplate tt = new TransactionTemplate(txManager);\r\n\r\n        tt.execute(new TransactionCallbackWithoutResult(){\r\n\t\tprotected void doInTransactionWithoutResult(\r\n\t\t\t\tTransactionStatus status) {\r\n            updateDb1();\r\n            updateDb2();\r\n        }\r\n    } catch (TransactionException ex) {\r\n        // handle \r\n    }\r\n\r\nFor more examples, and information perhaps look at this:\r\n[XA transactions using Spring][1]\r\n\r\n\r\n  [1]: http://www.javaworld.com/javaworld/jw-04-2007/jw-04-xa.html?page=1","title":"What is the &#39;best&#39; way to do distributed transactions across multiple databases using Spring and Hibernate","body":"<p>Setup a transaction manager in your context. Spring docs have examples, and it is very simple. Then when you want to execute a transaction:</p>\n\n<pre><code>try { \n    TransactionTemplate tt = new TransactionTemplate(txManager);\n\n    tt.execute(new TransactionCallbackWithoutResult(){\n    protected void doInTransactionWithoutResult(\n            TransactionStatus status) {\n        updateDb1();\n        updateDb2();\n    }\n} catch (TransactionException ex) {\n    // handle \n}\n</code></pre>\n\n<p>For more examples, and information perhaps look at this:\n<a href=\"http://www.javaworld.com/javaworld/jw-04-2007/jw-04-xa.html?page=1\" rel=\"nofollow noreferrer\">XA transactions using Spring</a></p>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1222603880,"creation_date":1222603880,"answer_id":145747,"question_id":128377,"body_markdown":"When you say &quot;two different databases&quot;, do you mean different database servers, or two different schemas within the same DB server?  \r\n\r\nIf the former, then if you want full transactionality, then you need the XA transaction API, which provides full two-phase commit.  But more importantly, you also need a transaction coordinator/monitor which manages transaction propagation between the different database systems.  This is part of JavaEE spec, and a pretty rarefied part of it at that. The TX coordinator itself is a complex piece of software.  Your application software (via Spring, if you so wish) talks to the coordinator.\r\n\r\nIf, however, you just mean two databases within the same DB server, then vanilla JDBC transactions should work just fine, just perform your operations against both databases within a single transaction.","title":"What is the &#39;best&#39; way to do distributed transactions across multiple databases using Spring and Hibernate","body":"<p>When you say \"two different databases\", do you mean different database servers, or two different schemas within the same DB server?  </p>\n\n<p>If the former, then if you want full transactionality, then you need the XA transaction API, which provides full two-phase commit.  But more importantly, you also need a transaction coordinator/monitor which manages transaction propagation between the different database systems.  This is part of JavaEE spec, and a pretty rarefied part of it at that. The TX coordinator itself is a complex piece of software.  Your application software (via Spring, if you so wish) talks to the coordinator.</p>\n\n<p>If, however, you just mean two databases within the same DB server, then vanilla JDBC transactions should work just fine, just perform your operations against both databases within a single transaction.</p>\n"},{"tags":[],"owner":{"account_id":20657,"reputation":8081,"user_id":49573,"accept_rate":78,"display_name":"maximdim"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1230484507,"creation_date":1230484507,"answer_id":396403,"question_id":128377,"body_markdown":"In this case you would need a Transaction Monitor (server supporting XA protocol) and make sure your databases supports XA also. Most (all?) J2EE servers comes with Transaction Monitor built in. If your code is running not in J2EE server then there are bunch of standalone alternatives - Atomicos, Bitronix, etc.","title":"What is the &#39;best&#39; way to do distributed transactions across multiple databases using Spring and Hibernate","body":"<p>In this case you would need a Transaction Monitor (server supporting XA protocol) and make sure your databases supports XA also. Most (all?) J2EE servers comes with Transaction Monitor built in. If your code is running not in J2EE server then there are bunch of standalone alternatives - Atomicos, Bitronix, etc.</p>\n"},{"comments":[{"owner":{"account_id":140025,"reputation":3150,"user_id":346031,"accept_rate":80,"display_name":"Falcon"},"score":5,"creation_date":1294226659,"post_id":887426,"comment_id":5058471,"body_markdown":"Distributed Transactions must statisfy all 4 ACID properties. What&#39;s your problem? The scenario you described cannot happen, as the managers are communicating with each other and do only commit when all participating nodes have exchanged a &quot;GO&quot;.","body":"Distributed Transactions must statisfy all 4 ACID properties. What&#39;s your problem? The scenario you described cannot happen, as the managers are communicating with each other and do only commit when all participating nodes have exchanged a &quot;GO&quot;."},{"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":8,"creation_date":1294419956,"post_id":887426,"comment_id":5090770,"body_markdown":"@Falcon: So what happens if the network fails between PREPARE and COMMIT? Or one of the server dies? &quot;cannot happen&quot; can&#39;t happen in reality.","body":"@Falcon: So what happens if the network fails between PREPARE and COMMIT? Or one of the server dies? &quot;cannot happen&quot; can&#39;t happen in reality."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":4,"creation_date":1459366476,"post_id":887426,"comment_id":60259613,"body_markdown":"No, they are not instructed to roll back because in this scenario, some of the nodes have already committed. What happens is when the crashed node becomes available, the transaction coordinator tells it to commit again.\n\nBecause the node responded positively in the &quot;prepare&quot; phase, it is required to be able to &quot;commit&quot;, even when it comes back from a crash.","body":"No, they are not instructed to roll back because in this scenario, some of the nodes have already committed. What happens is when the crashed node becomes available, the transaction coordinator tells it to commit again.  Because the node responded positively in the &quot;prepare&quot; phase, it is required to be able to &quot;commit&quot;, even when it comes back from a crash."},{"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1459609787,"post_id":887426,"comment_id":60367585,"body_markdown":"@Nicholas ... unless you can&#39;t start the node anymore because of a hardware failure.","body":"@Nicholas ... unless you can&#39;t start the node anymore because of a hardware failure."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1459611738,"post_id":887426,"comment_id":60368224,"body_markdown":"I think a RAID drive would address that, or even backups. Restore the last good backup point and all the lost commits will be re-applied.","body":"I think a RAID drive would address that, or even backups. Restore the last good backup point and all the lost commits will be re-applied."},{"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1459764072,"post_id":887426,"comment_id":60415730,"body_markdown":"@Nicholas: No, they won&#39;t because the backup is several hours old and the backups of different servers won&#39;t match up. I understand that you want XA to work because it feels like such a &quot;good&quot; solution but it really isn&#39;t. There are literally thousands of problems lurking under the surface and one of them is going to ruin your day eventually.","body":"@Nicholas: No, they won&#39;t because the backup is several hours old and the backups of different servers won&#39;t match up. I understand that you want XA to work because it feels like such a &quot;good&quot; solution but it really isn&#39;t. There are literally thousands of problems lurking under the surface and one of them is going to ruin your day eventually."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1459776538,"post_id":887426,"comment_id":60424347,"body_markdown":"I understand you want it not to work, but I expect there are plenty of places in the world that are working with it quite successfully and who have had hardware problems.","body":"I understand you want it not to work, but I expect there are plenty of places in the world that are working with it quite successfully and who have had hardware problems."},{"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1459781544,"post_id":887426,"comment_id":60428056,"body_markdown":"@Nicholas I&#39;ve been working in those places and everyone eventually abandoned XA because they couldn&#39;t make it work reliably, even after spending millions of dollars.","body":"@Nicholas I&#39;ve been working in those places and everyone eventually abandoned XA because they couldn&#39;t make it work reliably, even after spending millions of dollars."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":1,"creation_date":1459783037,"post_id":887426,"comment_id":60429083,"body_markdown":"I find support for the standard too widespread to be swayed by the anecdotal evidence of one person. Thank you for your comments.","body":"I find support for the standard too widespread to be swayed by the anecdotal evidence of one person. Thank you for your comments."},{"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":3,"creation_date":1461069013,"post_id":887426,"comment_id":61021970,"body_markdown":"@Nicholas I find support widespread only by companies who make money by fixing the problems this standard creates. The &quot;consumers&quot; (= people who have to suffer such solutions) usually try this once and then look for better solutions. That said, my answer is logically sound. My approach is much more simple than XA and I can prove that it will always work. XA is more of a promise, not a fact.","body":"@Nicholas I find support widespread only by companies who make money by fixing the problems this standard creates. The &quot;consumers&quot; (= people who have to suffer such solutions) usually try this once and then look for better solutions. That said, my answer is logically sound. My approach is much more simple than XA and I can prove that it will always work. XA is more of a promise, not a fact."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1461070654,"post_id":887426,"comment_id":61023300,"body_markdown":"I never said anything about your solution. I&#39;ve used it myself. It slows everything down a little bit, but can be done when XA is cost prohibitive. Distributed databases architectures work fine, if implemented by a competent database team.","body":"I never said anything about your solution. I&#39;ve used it myself. It slows everything down a little bit, but can be done when XA is cost prohibitive. Distributed databases architectures work fine, if implemented by a competent database team."},{"owner":{"account_id":5019425,"reputation":7741,"user_id":4033292,"accept_rate":81,"display_name":"Derrops"},"score":0,"creation_date":1474415344,"post_id":887426,"comment_id":66519149,"body_markdown":"Please back me up here bro http://stackoverflow.com/questions/39253524/intercept-transaction-only-when-is-sure-to-be-committed-but-before-is-commited/39584339?noredirect=1#comment66502135_39584339","body":"Please back me up here bro <a href=\"http://stackoverflow.com/questions/39253524/intercept-transaction-only-when-is-sure-to-be-committed-but-before-is-commited/39584339?noredirect=1#comment66502135_39584339\" title=\"intercept transaction only when is sure to be committed but before is commited\">stackoverflow.com/questions/39253524/&hellip;</a>"},{"owner":{"display_name":"user6023611"},"score":0,"creation_date":1490883296,"post_id":887426,"comment_id":73320017,"body_markdown":"I think that you are needed here: http://stackoverflow.com/questions/43118778/transaction-on-two-tables-at-the-same-time-in-two-different-databases?noredirect=1#comment73317290_43118778 :)","body":"I think that you are needed here: <a href=\"http://stackoverflow.com/questions/43118778/transaction-on-two-tables-at-the-same-time-in-two-different-databases?noredirect=1#comment73317290_43118778\" title=\"transaction on two tables at the same time in two different databases\">stackoverflow.com/questions/43118778/&hellip;</a> :)"}],"tags":[],"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":13,"down_vote_count":5,"up_vote_count":50,"is_accepted":true,"score":45,"last_activity_date":1242819528,"creation_date":1242819528,"answer_id":887426,"question_id":128377,"body_markdown":"The best way to distribute transactions over more than one database is: Don&#39;t.\r\n\r\nSome people will point you to XA but XA (or Two Phase Commit) is a lie (or marketese). \r\n\r\nImagine: After the first phase have told the XA manager that it can send the final commit, the network connection to one of the databases fails. Now what? Timeout? That would leave the other database corrupt. Rollback? Two problems: You can&#39;t roll back a commit and how do you know what happened to the second database? Maybe the network connection failed after it successfully committed the data and only the &quot;success&quot; message was lost?\r\n\r\nThe best way is to copy the data in a single place. Use a scheme which allows you to abort the copy and continue it at any time (for example, ignore data which you already have or order the select by ID and request only records &gt; MAX(ID) of your copy). Protect this with a transaction. This is not a problem since you&#39;re only reading data from the source, so when the transaction fails for any reason, you can ignore the source database. Therefore, this is a plain old single source transaction.\r\n\r\nAfter you have copied the data, process it locally.","title":"What is the &#39;best&#39; way to do distributed transactions across multiple databases using Spring and Hibernate","body":"<p>The best way to distribute transactions over more than one database is: Don't.</p>\n\n<p>Some people will point you to XA but XA (or Two Phase Commit) is a lie (or marketese). </p>\n\n<p>Imagine: After the first phase have told the XA manager that it can send the final commit, the network connection to one of the databases fails. Now what? Timeout? That would leave the other database corrupt. Rollback? Two problems: You can't roll back a commit and how do you know what happened to the second database? Maybe the network connection failed after it successfully committed the data and only the \"success\" message was lost?</p>\n\n<p>The best way is to copy the data in a single place. Use a scheme which allows you to abort the copy and continue it at any time (for example, ignore data which you already have or order the select by ID and request only records > MAX(ID) of your copy). Protect this with a transaction. This is not a problem since you're only reading data from the source, so when the transaction fails for any reason, you can ignore the source database. Therefore, this is a plain old single source transaction.</p>\n\n<p>After you have copied the data, process it locally.</p>\n"},{"tags":[],"owner":{"account_id":3370871,"reputation":233,"user_id":2830105,"accept_rate":25,"display_name":"Pani Dhakshnamurthy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1402531708,"creation_date":1402531708,"answer_id":24174592,"question_id":128377,"body_markdown":"You could try Spring ChainedTransactionManager - http://docs.spring.io/spring-data/commons/docs/1.6.2.RELEASE/api/org/springframework/data/transaction/ChainedTransactionManager.html that supports distributed db transaction. This could be a better alternative to XA","title":"What is the &#39;best&#39; way to do distributed transactions across multiple databases using Spring and Hibernate","body":"<p>You could try Spring ChainedTransactionManager - <a href=\"http://docs.spring.io/spring-data/commons/docs/1.6.2.RELEASE/api/org/springframework/data/transaction/ChainedTransactionManager.html\" rel=\"nofollow\">http://docs.spring.io/spring-data/commons/docs/1.6.2.RELEASE/api/org/springframework/data/transaction/ChainedTransactionManager.html</a> that supports distributed db transaction. This could be a better alternative to XA</p>\n"},{"tags":[],"owner":{"account_id":7686222,"reputation":492,"user_id":5823904,"display_name":"kylebebak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689291907,"creation_date":1689291907,"answer_id":76683888,"question_id":128377,"body_markdown":"For those suggesting concerns with two-phase commit can be waved away because it&#39;s widely used in practice, I suggest looking at this: https://en.wikipedia.org/wiki/Two-phase_commit_protocol. There&#39;s a link at the bottom of the 2PC article to an article on [three-phase commit](https://en.wikipedia.org/wiki/Three-phase_commit_protocol)(!) \r\n\r\nSome excerpts from the article on 3PC:\r\n\r\n&gt; In computer networking and databases, the three-phase commit protocol (3PC)[1] is a distributed algorithm which lets all nodes in a distributed system agree to commit a transaction. It is a more failure-resilient refinement of the two-phase commit protocol (2PC).\r\n\r\n&gt; Three-phase commit assumes a network with bounded delay and nodes with bounded response times; In most practical systems with unbounded network delay and process pauses, it cannot guarantee atomicity.\r\n\r\nTo summarize:\r\n\r\n- 3PC is more failure-resistant than 2PC\r\n- Not even 3PC guarantees atomicity\r\n- Draw your own conclusions about 2PC","title":"What is the &#39;best&#39; way to do distributed transactions across multiple databases using Spring and Hibernate","body":"<p>For those suggesting concerns with two-phase commit can be waved away because it's widely used in practice, I suggest looking at this: <a href=\"https://en.wikipedia.org/wiki/Two-phase_commit_protocol\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Two-phase_commit_protocol</a>. There's a link at the bottom of the 2PC article to an article on <a href=\"https://en.wikipedia.org/wiki/Three-phase_commit_protocol\" rel=\"nofollow noreferrer\">three-phase commit</a>(!)</p>\n<p>Some excerpts from the article on 3PC:</p>\n<blockquote>\n<p>In computer networking and databases, the three-phase commit protocol (3PC)[1] is a distributed algorithm which lets all nodes in a distributed system agree to commit a transaction. It is a more failure-resilient refinement of the two-phase commit protocol (2PC).</p>\n</blockquote>\n<blockquote>\n<p>Three-phase commit assumes a network with bounded delay and nodes with bounded response times; In most practical systems with unbounded network delay and process pauses, it cannot guarantee atomicity.</p>\n</blockquote>\n<p>To summarize:</p>\n<ul>\n<li>3PC is more failure-resistant than 2PC</li>\n<li>Not even 3PC guarantees atomicity</li>\n<li>Draw your own conclusions about 2PC</li>\n</ul>\n"}],"owner":{"account_id":8532,"reputation":13117,"user_id":15452,"accept_rate":57,"display_name":"Vihung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48278,"favorite_count":0,"down_vote_count":1,"up_vote_count":37,"accepted_answer_id":887426,"answer_count":6,"score":36,"last_activity_date":1689291907,"creation_date":1222275700,"question_id":128377,"body_markdown":"I have an application - more like a utility - that sits in a corner and updates two different databases periodically. \r\n\r\nIt is a little standalone app that has been built with a Spring Application Context. The context has two Hibernate Session Factories configured in it, in turn using Commons DBCP data sources configured in Spring. \r\n\r\nCurrently there is no transaction management, but I would like to add some. The update to one database depends on a successful update to the other.\r\n\r\nThe app does not sit in a Java EE container - it is bootstrapped by a static launcher class called from a shell script. The launcher class instantiates the Application Context and then invokes a method on one of its beans. \r\n\r\nWhat is the &#39;best&#39; way to put transactionality around the database updates?\r\n\r\nI will leave the definition of &#39;best&#39; to you, but I think it should be some function of &#39;easy to set up&#39;, &#39;easy to configure&#39;, &#39;inexpensive&#39;, and &#39;easy to package and redistribute&#39;. Naturally FOSS would be good.","title":"What is the &#39;best&#39; way to do distributed transactions across multiple databases using Spring and Hibernate","body":"<p>I have an application - more like a utility - that sits in a corner and updates two different databases periodically. </p>\n\n<p>It is a little standalone app that has been built with a Spring Application Context. The context has two Hibernate Session Factories configured in it, in turn using Commons DBCP data sources configured in Spring. </p>\n\n<p>Currently there is no transaction management, but I would like to add some. The update to one database depends on a successful update to the other.</p>\n\n<p>The app does not sit in a Java EE container - it is bootstrapped by a static launcher class called from a shell script. The launcher class instantiates the Application Context and then invokes a method on one of its beans. </p>\n\n<p>What is the 'best' way to put transactionality around the database updates?</p>\n\n<p>I will leave the definition of 'best' to you, but I think it should be some function of 'easy to set up', 'easy to configure', 'inexpensive', and 'easy to package and redistribute'. Naturally FOSS would be good.</p>\n"},{"tags":["java","eclipse","spring","maven","jar"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1429557403,"post_id":29756462,"comment_id":47645197,"body_markdown":"You should be able to install them locally and refer to them as usual in your Eclipse project, assuming you&#39;re using an Eclipse with some form of Maven plugin.","body":"You should be able to install them locally and refer to them as usual in your Eclipse project, assuming you&#39;re using an Eclipse with some form of Maven plugin."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1429557733,"post_id":29756462,"comment_id":47645372,"body_markdown":"Write a shell script to do it to all the jars in a directory or something. I mean, that&#39;s kind of the option.","body":"Write a shell script to do it to all the jars in a directory or something. I mean, that&#39;s kind of the option."},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1429558192,"post_id":29756462,"comment_id":47645657,"body_markdown":"*Also, I would like for the eclipse maven plugin to be able to manage this as much as possible.* then you need a real repository server if you want this, you can not have your cake and eat it too!","body":"<i>Also, I would like for the eclipse maven plugin to be able to manage this as much as possible.</i> then you need a real repository server if you want this, you can not have your cake and eat it too!"},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1429558285,"post_id":29756462,"comment_id":47645719,"body_markdown":"he meant write a script to add them to your local maven repository. you seriously need to read up on what maven actually does and how maven actually works","body":"he meant write a script to add them to your local maven repository. you seriously need to read up on what maven actually does and how maven actually works"},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1429558309,"post_id":29756462,"comment_id":47645742,"body_markdown":"@JarrodRoberson That is fine. &quot;As much as possible&quot;, could mean very little.  For example, when jars are added to the eclipse build path manually, the eclipse maven plugin seems to bundle them into a resulting war file well enough.","body":"@JarrodRoberson That is fine. &quot;As much as possible&quot;, could mean very little.  For example, when jars are added to the eclipse build path manually, the eclipse maven plugin seems to bundle them into a resulting war file well enough."}],"answers":[{"comments":[{"owner":{"account_id":5601774,"reputation":4444,"user_id":4437780,"accept_rate":80,"display_name":"alainlompo"},"score":0,"creation_date":1429560679,"post_id":29756746,"comment_id":47647167,"body_markdown":"@CodeMed, yes basically. Regarding the version your project&#39;s technical specifications would specify what version to use. if your jars are all independant from each other then you will have as much version numbers as jars. But in some case you have jars that are kind of related and may have the same version number and in such a case you define a property with the common version number ( will generaly looks like x.y.z.t for example 3.2.0.1, ...) and use it. One property would go for your .sh or .bat and simalarly you can define one also for your pom.xml file","body":"@CodeMed, yes basically. Regarding the version your project&#39;s technical specifications would specify what version to use. if your jars are all independant from each other then you will have as much version numbers as jars. But in some case you have jars that are kind of related and may have the same version number and in such a case you define a property with the common version number ( will generaly looks like x.y.z.t for example 3.2.0.1, ...) and use it. One property would go for your .sh or .bat and simalarly you can define one also for your pom.xml file"},{"owner":{"account_id":5601774,"reputation":4444,"user_id":4437780,"accept_rate":80,"display_name":"alainlompo"},"score":0,"creation_date":1429560878,"post_id":29756746,"comment_id":47647291,"body_markdown":"@CodeMed you generally keep the groupId and the artifactId along with the version as defined by the editor of the jar, otherwise your project would not be portable if you deploy in the remote environment that does not have your same local repository but have the original jar in another maven repo","body":"@CodeMed you generally keep the groupId and the artifactId along with the version as defined by the editor of the jar, otherwise your project would not be portable if you deploy in the remote environment that does not have your same local repository but have the original jar in another maven repo"},{"owner":{"account_id":5601774,"reputation":4444,"user_id":4437780,"accept_rate":80,"display_name":"alainlompo"},"score":0,"creation_date":1429561428,"post_id":29756746,"comment_id":47647610,"body_markdown":"@CodeMed also some of the third party jars often come with their pom.xml (which contains the jar dependency informations). You can install  it with a similar command as: mvn install:install-file -Dfile=&lt;path-to-file&gt; -DpomFile=&lt;path-to-pomfile&gt;","body":"@CodeMed also some of the third party jars often come with their pom.xml (which contains the jar dependency informations). You can install  it with a similar command as: mvn install:install-file -Dfile=&lt;path-to-file&gt; -DpomFile=&lt;path-to-pomfile&gt;"},{"owner":{"account_id":5601774,"reputation":4444,"user_id":4437780,"accept_rate":80,"display_name":"alainlompo"},"score":0,"creation_date":1429561950,"post_id":29756746,"comment_id":47647893,"body_markdown":"@CodeMed in case you have a name of your library and it has been a known library by the past but has stopped being hosted by a public maven repo, you may still google around that name of a fully qualified class name it contains. Example google this: `maven dependency for Apache commons` would lead you to `http://mvnrepository.com. It contains the dependency informations and also the downloadable jars","body":"@CodeMed in case you have a name of your library and it has been a known library by the past but has stopped being hosted by a public maven repo, you may still google around that name of a fully qualified class name it contains. Example google this: <code>maven dependency for Apache commons</code> would lead you to `<a href=\"http://mvnrepository.com\" rel=\"nofollow noreferrer\">mvnrepository.com</a>. It contains the dependency informations and also the downloadable jars"},{"owner":{"account_id":5601774,"reputation":4444,"user_id":4437780,"accept_rate":80,"display_name":"alainlompo"},"score":0,"creation_date":1429562564,"post_id":29756746,"comment_id":47648246,"body_markdown":"@CodeMed, sure I will.","body":"@CodeMed, sure I will."},{"owner":{"account_id":5601774,"reputation":4444,"user_id":4437780,"accept_rate":80,"display_name":"alainlompo"},"score":0,"creation_date":1429566483,"post_id":29756746,"comment_id":47650329,"body_markdown":"@CodeMed, yes, I will edit my answer in just a minute","body":"@CodeMed, yes, I will edit my answer in just a minute"},{"owner":{"account_id":5601774,"reputation":4444,"user_id":4437780,"accept_rate":80,"display_name":"alainlompo"},"score":0,"creation_date":1429582293,"post_id":29756746,"comment_id":47655319,"body_markdown":"@CodeMed - glad I could help. I would love to continue to develop the search but SO is asking us to rather use the chat room that comments. I will be looking forward to hearing from you soon.","body":"@CodeMed - glad I could help. I would love to continue to develop the search but SO is asking us to rather use the chat room that comments. I will be looking forward to hearing from you soon."},{"owner":{"account_id":5601774,"reputation":4444,"user_id":4437780,"accept_rate":80,"display_name":"alainlompo"},"score":0,"creation_date":1429651400,"post_id":29756746,"comment_id":47696680,"body_markdown":"@CodeMed, meet me in the chat room pleae","body":"@CodeMed, meet me in the chat room pleae"},{"owner":{"account_id":5601774,"reputation":4444,"user_id":4437780,"accept_rate":80,"display_name":"alainlompo"},"score":0,"creation_date":1429685736,"post_id":29756746,"comment_id":47708804,"body_markdown":"@CodeMed your votes were reversed by SO (see here: http://stackoverflow.com/help/serial-voting-reversed)","body":"@CodeMed your votes were reversed by SO (see here: <a href=\"http://stackoverflow.com/help/serial-voting-reversed\">stackoverflow.com/help/serial-voting-reversed</a>)"},{"owner":{"account_id":5601774,"reputation":4444,"user_id":4437780,"accept_rate":80,"display_name":"alainlompo"},"score":0,"creation_date":1429828307,"post_id":29756746,"comment_id":47797796,"body_markdown":"cool. I did also, and I am looking forward for the next opportunity to do something nice with you. Best wishes.","body":"cool. I did also, and I am looking forward for the next opportunity to do something nice with you. Best wishes."}],"tags":[],"owner":{"account_id":5601774,"reputation":4444,"user_id":4437780,"accept_rate":80,"display_name":"alainlompo"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1429568556,"creation_date":1429558326,"answer_id":29756746,"question_id":29756462,"body_markdown":"I think the simplest way to solve this issue is to add your jars to your maven local repository. There is answer for this on SO [here][1] and also [here][2]. The jars will then be available in Eclipse but also outside eclipse for any of your project that is using maven as a build tool and where the jar is correctly referenced (with the groupId, artifactId and version dependency informations properly provided) as in the following example:\r\n    \r\n    &lt;dependencies&gt;\r\n        ....\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.matlabcontrol&lt;/groupId&gt;\r\n            &lt;artifactId&gt;matlabcontrol&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.0&lt;/version&gt;\r\n         &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\nAnd then you may easily write a .bat or a .sh (depending on the OS) that will do this operation once and for all.\r\n\r\n[EDIT]\r\n@CodeMed regarding the jars that are behind the link that you&#39;ve shared in your comments, some of them are related to each others and therefore will share the same version as the same groupId and most certainly different artifactId`s`\r\n\r\nExample:\r\n\r\n- org.eclipse.emf.common_2.5.0.v200906151043.jar\r\n- org.eclipse.emf.ecore.xmi_2.5.0.v200906151043.jar\r\n\r\nObviously the suffixed 4 parts number is the version number of the jar. So You already have the version number and since it is common to many jar it is to your advantage to define a variable for it in your .bat file and a property for it in your pom.xml file.\r\n\r\nAlso the groupId will generaly be the same for all related jars. Therefore you could suspect that the groupId would be org.eclipse.emf, and if you google this: `maven dependency for org.eclipse.emf + 2.5.0.v200906151043`you would find among other links a link to a pom.xml file on a related github project with the following depency informations\r\n\r\n![maven dependency][3]\r\n\r\n\r\nI would now be logical to suspect that the artifactId is what&#39;s left from the name of the jar `common`in one case and `ecore.xmi`in the other case. This will be checked against a little googling or on Mvnrepository (for example [here][4] where we see that this artifact id is also prefixed by the group id)\r\n\r\nTherefore we would write the following kind of instructions in a .bat file to install these jars in our local repository\r\n\r\nFirst define a variable to hold the version number\r\n\r\n    set eclipseEmfVersion=2.5.0.v200906151043\r\n    call mvn install:install-file -Dfile=org.eclipse.emf.ecore.xmi_2.5.0.v200906151043.jar -DgroupId=org.eclipse.emf -DartifactId=org.eclipse.emf.ecore.xmi -Dversion=%eclipseEmfVersion% -Dpackaging=jar\r\n    call mvn install:install-file -Dfile=org.eclipse.emf.common_2.5.0.v200906151043.jar -DgroupId=org.eclipse.emf -DartifactId=common -Dversion=%eclipseEmfVersion% -Dpackaging=jar\r\n\r\n  In the case of the second jar however I find on MvnRepository that the artifactId does not set the groupId as its prefix (see [here][5])\r\n\r\nNote also that in a .bat file you need to use call mvn (instead of simply mvn as you would do had you only one instruction to run) to be able to execute many maven instruction sequentially.\r\n\r\nOn the same pattern you can distinguish another group of related jars with the groupId: `org.openhealthtools.mdht.uml.cda`and version number `1.2.0.201405161834`. You can apply the same approach to install them in your local repository\r\n\r\nHere is the successfull test I run (from a bat file that I created in the same directory where I unzip your file) using the first four jars in your list of jars\r\n\r\n    call mvn install:install-file -Dfile=net.sourceforge.lpg.lpgjavaruntime_1.1.0.v200803061910.jar -DgroupId=net.sourceforge.lpg  -DartifactId=net.sourceforge.lpg.lpgjavaruntime -Dversion=1.1.0.v200803061910 -Dpackaging=jar\r\n\r\n    call mvn install:install-file -     Dfile=org.apache.commons.lang_2.3.0.v201005080501.jar -     DgroupId=org.apache.commons -DartifactId=lang -Dversion=2.3.0.v201005080501 -     Dpackaging=jar\r\n\r\n    call mvn install:install-file -    Dfile=org.eclipse.core.runtime_3.8.0.v20120521-2346.jar -    DgroupId=org.eclipse.birt.runtime -DartifactId=org.eclipse.core.runtime -    Dversion=3.8.0.v20120521-2346 -Dpackaging=jar\r\n\r\n    set cdaversion=1.2.0.201405161834\r\n\r\n    call mvn install:install-file -    Dfile=org.openhealthtools.mdht.uml.cda.ihe_1.2.0.201405161834.jar -     DgroupId=org.openhealthtools.mdht.uml.cda -DartifactId=ihe -     Dversion=%cdaversion% -Dpackaging=jar\r\n\r\nYou can easily complete the .bat and after running you may manually check the successfull installation of all the jars in your maven local repository.\r\n\r\n  [1]: https://stackoverflow.com/questions/19049478/how-to-add-third-party-jars-into-local-maven-repository\r\n  [2]: http://www.mkyong.com/maven/how-to-include-library-manully-into-maven-local-repository/\r\n  [3]: http://i.stack.imgur.com/xysZL.png\r\n  [4]: http://mvnrepository.com/artifact/org.eclipse.emf/org.eclipse.emf.ecore.xmi/2.5.0.v20100521-1846\r\n  [5]: http://mvnrepository.com/artifact/org.eclipse.emf/common/2.3.0-v200706262000","title":"Adding many third party jars to Maven Eclipse runtime","body":"<p>I think the simplest way to solve this issue is to add your jars to your maven local repository. There is answer for this on SO <a href=\"https://stackoverflow.com/questions/19049478/how-to-add-third-party-jars-into-local-maven-repository\">here</a> and also <a href=\"http://www.mkyong.com/maven/how-to-include-library-manully-into-maven-local-repository/\" rel=\"nofollow noreferrer\">here</a>. The jars will then be available in Eclipse but also outside eclipse for any of your project that is using maven as a build tool and where the jar is correctly referenced (with the groupId, artifactId and version dependency informations properly provided) as in the following example:</p>\n\n<pre><code>&lt;dependencies&gt;\n    ....\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.matlabcontrol&lt;/groupId&gt;\n        &lt;artifactId&gt;matlabcontrol&lt;/artifactId&gt;\n        &lt;version&gt;4.1.0&lt;/version&gt;\n     &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>And then you may easily write a .bat or a .sh (depending on the OS) that will do this operation once and for all.</p>\n\n<p>[EDIT]\n@CodeMed regarding the jars that are behind the link that you've shared in your comments, some of them are related to each others and therefore will share the same version as the same groupId and most certainly different artifactId<code>s</code></p>\n\n<p>Example:</p>\n\n<ul>\n<li>org.eclipse.emf.common_2.5.0.v200906151043.jar</li>\n<li>org.eclipse.emf.ecore.xmi_2.5.0.v200906151043.jar</li>\n</ul>\n\n<p>Obviously the suffixed 4 parts number is the version number of the jar. So You already have the version number and since it is common to many jar it is to your advantage to define a variable for it in your .bat file and a property for it in your pom.xml file.</p>\n\n<p>Also the groupId will generaly be the same for all related jars. Therefore you could suspect that the groupId would be org.eclipse.emf, and if you google this: <code>maven dependency for org.eclipse.emf + 2.5.0.v200906151043</code>you would find among other links a link to a pom.xml file on a related github project with the following depency informations</p>\n\n<p><img src=\"https://i.stack.imgur.com/xysZL.png\" alt=\"maven dependency\"></p>\n\n<p>I would now be logical to suspect that the artifactId is what's left from the name of the jar <code>common</code>in one case and <code>ecore.xmi</code>in the other case. This will be checked against a little googling or on Mvnrepository (for example <a href=\"http://mvnrepository.com/artifact/org.eclipse.emf/org.eclipse.emf.ecore.xmi/2.5.0.v20100521-1846\" rel=\"nofollow noreferrer\">here</a> where we see that this artifact id is also prefixed by the group id)</p>\n\n<p>Therefore we would write the following kind of instructions in a .bat file to install these jars in our local repository</p>\n\n<p>First define a variable to hold the version number</p>\n\n<pre><code>set eclipseEmfVersion=2.5.0.v200906151043\ncall mvn install:install-file -Dfile=org.eclipse.emf.ecore.xmi_2.5.0.v200906151043.jar -DgroupId=org.eclipse.emf -DartifactId=org.eclipse.emf.ecore.xmi -Dversion=%eclipseEmfVersion% -Dpackaging=jar\ncall mvn install:install-file -Dfile=org.eclipse.emf.common_2.5.0.v200906151043.jar -DgroupId=org.eclipse.emf -DartifactId=common -Dversion=%eclipseEmfVersion% -Dpackaging=jar\n</code></pre>\n\n<p>In the case of the second jar however I find on MvnRepository that the artifactId does not set the groupId as its prefix (see <a href=\"http://mvnrepository.com/artifact/org.eclipse.emf/common/2.3.0-v200706262000\" rel=\"nofollow noreferrer\">here</a>)</p>\n\n<p>Note also that in a .bat file you need to use call mvn (instead of simply mvn as you would do had you only one instruction to run) to be able to execute many maven instruction sequentially.</p>\n\n<p>On the same pattern you can distinguish another group of related jars with the groupId: <code>org.openhealthtools.mdht.uml.cda</code>and version number <code>1.2.0.201405161834</code>. You can apply the same approach to install them in your local repository</p>\n\n<p>Here is the successfull test I run (from a bat file that I created in the same directory where I unzip your file) using the first four jars in your list of jars</p>\n\n<pre><code>call mvn install:install-file -Dfile=net.sourceforge.lpg.lpgjavaruntime_1.1.0.v200803061910.jar -DgroupId=net.sourceforge.lpg  -DartifactId=net.sourceforge.lpg.lpgjavaruntime -Dversion=1.1.0.v200803061910 -Dpackaging=jar\n\ncall mvn install:install-file -     Dfile=org.apache.commons.lang_2.3.0.v201005080501.jar -     DgroupId=org.apache.commons -DartifactId=lang -Dversion=2.3.0.v201005080501 -     Dpackaging=jar\n\ncall mvn install:install-file -    Dfile=org.eclipse.core.runtime_3.8.0.v20120521-2346.jar -    DgroupId=org.eclipse.birt.runtime -DartifactId=org.eclipse.core.runtime -    Dversion=3.8.0.v20120521-2346 -Dpackaging=jar\n\nset cdaversion=1.2.0.201405161834\n\ncall mvn install:install-file -    Dfile=org.openhealthtools.mdht.uml.cda.ihe_1.2.0.201405161834.jar -     DgroupId=org.openhealthtools.mdht.uml.cda -DartifactId=ihe -     Dversion=%cdaversion% -Dpackaging=jar\n</code></pre>\n\n<p>You can easily complete the .bat and after running you may manually check the successfull installation of all the jars in your maven local repository.</p>\n"}],"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3774,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1429558720,"accepted_answer_id":29756746,"answer_count":1,"score":-1,"last_activity_date":1689290177,"creation_date":1429557291,"question_id":29756462,"body_markdown":"I have a group of about 20+ third party jars that I need to add to the RUNTIME of an Eclipse Maven project written in Java.  These jars are not available from mvnrepository.com. How can I accomplish this?\r\n  \r\nI tried `Build Path.. Configure Build Path` and added the jars manually, but this does not make the jar APIs available in Spring MVC controllers because the jars were added to the Build Path and not to the RUNTIME.  \r\n  \r\nI then tried `Project Properties -&gt; Deployment Assembly -&gt; Add -&gt; Archives from file system` as per &lt;a href=&quot;https://stackoverflow.com/questions/5467038/adding-3rd-party-jars-to-web-inf-lib-automatically-using-eclipse-tomcat&quot;&gt;this other posting&lt;/a&gt;.  This imported the jars into /WEB-INF/lib, but did not make their APIs available.  \r\n  \r\nI then read &lt;a href=&quot;https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html&quot;&gt;these instructions for importing 3rd party jars&lt;/a&gt; into a maven project, but the instructions say to use this line of code `mvn install:install-file -Dfile=&lt;path-to-file&gt;`.  As you can see, this code only specifies one jar, when I have over 20 third party jars to add.  The maven link also does not specify where or when to type the code.  \r\n  \r\nDo I navigate the terminal to the root directory of the Maven repository and then type that line of code with 20 variations, once for each jar?  \r\n  \r\nAnd do I repeat this every time I do a Maven update from within Eclipse? Clearly there has to be an easier way.  \r\n  \r\nWhat is the easiest and most effective way to get Eclipse Maven to add all 20+ jars to the runtime of my project, so that my Spring mvc controllers can call the APIs when I try `Run As... Run on server`, and so that the jars are also bundled up with any war files that get created by Eclipse Maven?**\r\n  \r\nEdit\r\n---\r\n  \r\n@DaveNewton suggested writing a shell script.  How would such a script look?  \r\n  \r\nI tried `mv /path/to/all/the/jars/* /path/to/workspace/MyApp/src/main/webapp/WEB-INF/lib/` and then typed `F5` to make the jars visible in the `/WEB-INF/lib` folder, but this did not resolve the compilation errors from the code elsewhere in the project that calls the API, even after `Project... Clean`.  \r\n  \r\nAlso, I would like for the Eclipse Maven plugin to be able to manage this as much as possible.\r\n\r\nEdit 2\r\n---\r\n  \r\nAs per @alainlompo&#39;s suggestion, I imagine a script that includes the following commands, and then the dependency addition below it.  Here is what might be in the script:  \r\n  \r\n    mvn install:install-file -Dfile=/thefirst.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \r\n  \r\n    mvn install:install-file -Dfile=/thesecond.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \r\n  \r\n    mvn install:install-file -Dfile=/thethird.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \r\n  \r\n    mvn install:install-file -Dfile=/thefourth.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \r\n  \r\n    mvn install:install-file -Dfile=/thefifth.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \r\n  \r\n    mvn install:install-file -Dfile=/thesixth.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \r\n  \r\n    mvn install:install-file -Dfile=/theseventh.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \r\n  \r\nAnd so on for all 20+ jars.  \r\n  \r\nHere is what the dependency tag in the pom.xml might be:\r\n  \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;my.group.id&lt;/groupId&gt;\r\n      &lt;artifactId&gt;myartifactid&lt;/artifactId&gt;\r\n      &lt;version&gt;what goes here?&lt;/version&gt;\r\n    &lt;/dependency&gt;  \r\n  \r\nI would guess I would add some symbols to the groupid to make sure that Maven cannot find anything with the same name at mvnrepository.com.  This way the Eclipse Maven update could be used. But what do I use for the version number?  Many of the jars have different version numbers.  \r\n  \r\nAlso note I am using Linux. What would the actual shell script and dependency tag look like?","title":"Adding many third party jars to Maven Eclipse runtime","body":"<p>I have a group of about 20+ third party jars that I need to add to the RUNTIME of an Eclipse Maven project written in Java.  These jars are not available from mvnrepository.com. How can I accomplish this?</p>\n<p>I tried <code>Build Path.. Configure Build Path</code> and added the jars manually, but this does not make the jar APIs available in Spring MVC controllers because the jars were added to the Build Path and not to the RUNTIME.</p>\n<p>I then tried <code>Project Properties -&gt; Deployment Assembly -&gt; Add -&gt; Archives from file system</code> as per <a href=\"https://stackoverflow.com/questions/5467038/adding-3rd-party-jars-to-web-inf-lib-automatically-using-eclipse-tomcat\">this other posting</a>.  This imported the jars into /WEB-INF/lib, but did not make their APIs available.</p>\n<p>I then read <a href=\"https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\" rel=\"nofollow noreferrer\">these instructions for importing 3rd party jars</a> into a maven project, but the instructions say to use this line of code <code>mvn install:install-file -Dfile=&lt;path-to-file&gt;</code>.  As you can see, this code only specifies one jar, when I have over 20 third party jars to add.  The maven link also does not specify where or when to type the code.</p>\n<p>Do I navigate the terminal to the root directory of the Maven repository and then type that line of code with 20 variations, once for each jar?</p>\n<p>And do I repeat this every time I do a Maven update from within Eclipse? Clearly there has to be an easier way.</p>\n<p>What is the easiest and most effective way to get Eclipse Maven to add all 20+ jars to the runtime of my project, so that my Spring mvc controllers can call the APIs when I try <code>Run As... Run on server</code>, and so that the jars are also bundled up with any war files that get created by Eclipse Maven?**</p>\n<h2>Edit</h2>\n<p>@DaveNewton suggested writing a shell script.  How would such a script look?</p>\n<p>I tried <code>mv /path/to/all/the/jars/* /path/to/workspace/MyApp/src/main/webapp/WEB-INF/lib/</code> and then typed <code>F5</code> to make the jars visible in the <code>/WEB-INF/lib</code> folder, but this did not resolve the compilation errors from the code elsewhere in the project that calls the API, even after <code>Project... Clean</code>.</p>\n<p>Also, I would like for the Eclipse Maven plugin to be able to manage this as much as possible.</p>\n<h2>Edit 2</h2>\n<p>As per @alainlompo's suggestion, I imagine a script that includes the following commands, and then the dependency addition below it.  Here is what might be in the script:</p>\n<pre><code>mvn install:install-file -Dfile=/thefirst.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \n\nmvn install:install-file -Dfile=/thesecond.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \n\nmvn install:install-file -Dfile=/thethird.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \n\nmvn install:install-file -Dfile=/thefourth.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \n\nmvn install:install-file -Dfile=/thefifth.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \n\nmvn install:install-file -Dfile=/thesixth.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \n\nmvn install:install-file -Dfile=/theseventh.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \n</code></pre>\n<p>And so on for all 20+ jars.</p>\n<p>Here is what the dependency tag in the pom.xml might be:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;my.group.id&lt;/groupId&gt;\n  &lt;artifactId&gt;myartifactid&lt;/artifactId&gt;\n  &lt;version&gt;what goes here?&lt;/version&gt;\n&lt;/dependency&gt;  \n</code></pre>\n<p>I would guess I would add some symbols to the groupid to make sure that Maven cannot find anything with the same name at mvnrepository.com.  This way the Eclipse Maven update could be used. But what do I use for the version number?  Many of the jars have different version numbers.</p>\n<p>Also note I am using Linux. What would the actual shell script and dependency tag look like?</p>\n"},{"tags":["java","pd4ml"],"answers":[{"tags":[],"owner":{"account_id":14313923,"reputation":8868,"user_id":10802527,"display_name":"K J"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689289896,"creation_date":1689286324,"answer_id":76683560,"question_id":76676627,"body_markdown":"PD4ML uses HTML and CSS (Cascading Style Sheets) as page layout and content definition format. \r\n\r\nThe current default modern gripper margin is usually 8 and that seems to be what you have as the issue trying to get borderless.\r\n\r\nThere are at least two solutions,\r\n\r\n1) simply set the CSS in the HTML string to `&lt;body style=&quot;margin: 0px;&quot;&gt;` like this, or see alternative later \r\n```\r\n&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=&quot;utf-8&quot;&gt;&lt;/head&gt;&lt;body style=&quot;margin: 0px;&quot;&gt;&lt;div id=&quot;frontBadgeHeader&quot; style=&quot;color: white; position: relative;width:288px;&quot;&gt;&lt;div id=&quot;frontBadge&quot; style=&quot;width: 288px; height: 216px; background: url(&amp;quot;http://localhost/ERImg/04/12/15/blue_Bg.jpg&amp;quot;) left top / cover no-repeat; z-index: 1;background-size: cover !important&quot;&gt;&lt;/div&gt;&lt;div id=&quot;e8d56a50-2143-11ee-ae2a-893d4c6518ac&quot; style=&quot;color: rgb(0, 0, 0);font-family: Arial;font-size:16pt;height: 32px;left: 20px;position: absolute;top: 98px;width: 200px;z-index: 10&quot;&gt;Very Long First name&lt;/div&gt;&lt;/div&gt;&lt;div id=&quot;backBadgeHeader&quot; style=&quot;color: white; position: relative;width:288px;&quot;&gt;&lt;div id=&quot;backBadge&quot; style=&quot;width: 288px; height: 216px; background: url(&amp;quot;http://localhost/ERImg/04/12/15/Brown_BG.jpg&amp;quot;) left top / cover no-repeat; z-index: 1;background-size: cover !important; background-position: left top&quot;&gt;&lt;/div&gt;&lt;div id=&quot;fb995700-2143-11ee-ae2a-893d4c6518ac&quot; style=&quot;color: rgb(0, 0, 0);font-family: Arial;font-size:13pt;height: 32px;left: 20px;position: absolute;top: 92px;width: 200px;z-index: 10&quot;&gt;PrintBadges_Test_last_name&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\r\n```\r\nBut perhaps better for future  \r\n\r\n2) you use the master margin configuration after set page size,  \r\n however **that may need version 4** not ***PD4ML version-3*** which you especially asked.\r\n\r\n```\r\n...\r\n html.setPageSize(new Dimension(288, 216)); // here I&#39;m providing some custom size, which is similar to my HTML width and height\r\n   \r\n// reset page margins for the 1st and following pages\r\n html.setPageMargins(new PageMargins(0, 0, 0, 0), &quot;1+&quot;);\r\n```\r\n\r\nHere Before &lt;body style=&quot;margin: 0px;&quot;&gt; on A4\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Here After** by also include in body or head with page size which works in browser     \r\n`&lt;head&gt;&lt;meta charset=&quot;utf-8&quot;&gt;&lt;style&gt;@media print {@page {margin:0; size:288px 216px;}}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;`\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QwZof.png\r\n  [2]: https://i.stack.imgur.com/IiLcf.png","title":"Unwanted extra space in PDF page while converting HTML to PDF using pd4ml in java","body":"<p>PD4ML uses HTML and CSS (Cascading Style Sheets) as page layout and content definition format.</p>\n<p>The current default modern gripper margin is usually 8 and that seems to be what you have as the issue trying to get borderless.</p>\n<p>There are at least two solutions,</p>\n<ol>\n<li>simply set the CSS in the HTML string to <code>&lt;body style=&quot;margin: 0px;&quot;&gt;</code> like this, or see alternative later</li>\n</ol>\n<pre><code>&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=&quot;utf-8&quot;&gt;&lt;/head&gt;&lt;body style=&quot;margin: 0px;&quot;&gt;&lt;div id=&quot;frontBadgeHeader&quot; style=&quot;color: white; position: relative;width:288px;&quot;&gt;&lt;div id=&quot;frontBadge&quot; style=&quot;width: 288px; height: 216px; background: url(&amp;quot;http://localhost/ERImg/04/12/15/blue_Bg.jpg&amp;quot;) left top / cover no-repeat; z-index: 1;background-size: cover !important&quot;&gt;&lt;/div&gt;&lt;div id=&quot;e8d56a50-2143-11ee-ae2a-893d4c6518ac&quot; style=&quot;color: rgb(0, 0, 0);font-family: Arial;font-size:16pt;height: 32px;left: 20px;position: absolute;top: 98px;width: 200px;z-index: 10&quot;&gt;Very Long First name&lt;/div&gt;&lt;/div&gt;&lt;div id=&quot;backBadgeHeader&quot; style=&quot;color: white; position: relative;width:288px;&quot;&gt;&lt;div id=&quot;backBadge&quot; style=&quot;width: 288px; height: 216px; background: url(&amp;quot;http://localhost/ERImg/04/12/15/Brown_BG.jpg&amp;quot;) left top / cover no-repeat; z-index: 1;background-size: cover !important; background-position: left top&quot;&gt;&lt;/div&gt;&lt;div id=&quot;fb995700-2143-11ee-ae2a-893d4c6518ac&quot; style=&quot;color: rgb(0, 0, 0);font-family: Arial;font-size:13pt;height: 32px;left: 20px;position: absolute;top: 92px;width: 200px;z-index: 10&quot;&gt;PrintBadges_Test_last_name&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n<p>But perhaps better for future</p>\n<ol start=\"2\">\n<li>you use the master margin configuration after set page size,<br />\nhowever <strong>that may need version 4</strong> not <em><strong>PD4ML version-3</strong></em> which you especially asked.</li>\n</ol>\n<pre><code>...\n html.setPageSize(new Dimension(288, 216)); // here I'm providing some custom size, which is similar to my HTML width and height\n   \n// reset page margins for the 1st and following pages\n html.setPageMargins(new PageMargins(0, 0, 0, 0), &quot;1+&quot;);\n</code></pre>\n<p>Here Before  on A4\n<a href=\"https://i.stack.imgur.com/QwZof.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QwZof.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Here After</strong> by also include in body or head with page size which works in browser<br />\n<code>&lt;head&gt;&lt;meta charset=&quot;utf-8&quot;&gt;&lt;style&gt;@media print {@page {margin:0; size:288px 216px;}}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;</code></p>\n<p><a href=\"https://i.stack.imgur.com/IiLcf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IiLcf.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5704335,"reputation":257,"user_id":4508409,"accept_rate":65,"display_name":"Kavi Chinna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76683560,"answer_count":1,"score":1,"last_activity_date":1689289896,"creation_date":1689231025,"question_id":76676627,"body_markdown":"In my existing project, I&#39;m trying to convert HTML content to PDF using **PD4ML version-3.** I&#39;m facing some padding issue in the PDF page while I&#39;m setting some custom size for the PDF page size.\r\n\r\nPlease find the below java code to convert HTML to PDF\r\n\r\n    import org.zefer.pd4ml.PD4Constants;\r\n    import org.zefer.pd4ml.PD4ML;\r\n    \r\n    public void generateCustomSizeBadge(String content, OutputStream out) throws IOException, BadgeGenerationException {\r\n    \t// Generate PDF Badge with custom size\r\n    \tPD4ML html = new PD4ML();\r\n    \t\r\n    \thtml.setPageSize(new Dimension(288, 216)); // here I&#39;m providing some custom size, which is similar to my HTML width and height\r\n    \thtml.setHtmlWidth(288);\r\n    \thtml.adjustHtmlWidth();\r\n    \r\n    \thtml.setPageInsets(new Insets(0,0, 0, 0));\r\n    \thtml.enableImgSplit(false);\r\n    \thtml.useTTF(&quot;java:&quot;, true);\r\n    \thtml.setDefaultTTFs(&quot;Times New Roman&quot;, &quot;Arial&quot;, &quot;Courier New&quot;);\r\n    \r\n    \tMap&lt;String, String&gt; m = new HashMap&lt;&gt;();\r\n    \tm.put(PD4Constants.PD4ML_CACHE_IMAGES_IN_TMP_DIR, &quot;true&quot;);\r\n    \tm.put(PD4Constants.PD4ML_ABSOLUTE_ADDRESS_SPACE, &quot;document&quot;);\r\n    \thtml.setDynamicParams(m);\r\n    \r\n    \thtml.protectPhysicalUnitDimensions();\r\n    \r\n    \ttry (StringReader sr = new StringReader(content)) {\r\n    \t\thtml.render(sr, out);\r\n    \t}\r\n    }\r\n**Note : here String content in method paramenter is my HTML content which is below**\r\n\r\n    &lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=&quot;utf-8&quot;&gt;&lt;/head&gt;&lt;body&gt;&lt;div id=&quot;frontBadgeHeader&quot; style=&quot;color: white; position: relative;width:288px;&quot;&gt;&lt;div id=&quot;frontBadge&quot; style=&quot;width: 288px; height: 216px; background: url(&amp;quot;http://localhost/ERImg/04/12/15/blue_Bg.jpg&amp;quot;) left top / cover no-repeat; z-index: 1;background-size: cover !important&quot;&gt;&lt;/div&gt;&lt;div id=&quot;e8d56a50-2143-11ee-ae2a-893d4c6518ac&quot; style=&quot;color: rgb(0, 0, 0);font-family: Arial;font-size:16pt;height: 32px;left: 20px;position: absolute;top: 98px;width: 200px;z-index: 10&quot;&gt;Very Long First name&lt;/div&gt;&lt;/div&gt;&lt;div id=&quot;backBadgeHeader&quot; style=&quot;color: white; position: relative;width:288px;&quot;&gt;&lt;div id=&quot;backBadge&quot; style=&quot;width: 288px; height: 216px; background: url(&amp;quot;http://localhost/ERImg/04/12/15/Brown_BG.jpg&amp;quot;) left top / cover no-repeat; z-index: 1;background-size: cover !important; background-position: left top&quot;&gt;&lt;/div&gt;&lt;div id=&quot;fb995700-2143-11ee-ae2a-893d4c6518ac&quot; style=&quot;color: rgb(0, 0, 0);font-family: Arial;font-size:13pt;height: 32px;left: 20px;position: absolute;top: 92px;width: 200px;z-index: 10&quot;&gt;PrintBadges_Test_last_name&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\r\n\r\nThe problem here is, I can able to covert it PDF page, but I could see some extra white space around the content. I didn&#39;t set any page Insets for this. and also I could see the second page slightly moved in first page.\r\n\r\nI tried lot of ways to resolve this issue, but no luck. Please help me to resolve this issue. Thanks in advance.\r\n\r\nPlease find the below PDF pages **(I have attached it as Image here)**. You could see space around the background image. Its not because of background image. I&#39;m facing this issue even I set border to that HTML content.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PK8Dj.png","title":"Unwanted extra space in PDF page while converting HTML to PDF using pd4ml in java","body":"<p>In my existing project, I'm trying to convert HTML content to PDF using <strong>PD4ML version-3.</strong> I'm facing some padding issue in the PDF page while I'm setting some custom size for the PDF page size.</p>\n<p>Please find the below java code to convert HTML to PDF</p>\n<pre><code>import org.zefer.pd4ml.PD4Constants;\nimport org.zefer.pd4ml.PD4ML;\n\npublic void generateCustomSizeBadge(String content, OutputStream out) throws IOException, BadgeGenerationException {\n    // Generate PDF Badge with custom size\n    PD4ML html = new PD4ML();\n    \n    html.setPageSize(new Dimension(288, 216)); // here I'm providing some custom size, which is similar to my HTML width and height\n    html.setHtmlWidth(288);\n    html.adjustHtmlWidth();\n\n    html.setPageInsets(new Insets(0,0, 0, 0));\n    html.enableImgSplit(false);\n    html.useTTF(&quot;java:&quot;, true);\n    html.setDefaultTTFs(&quot;Times New Roman&quot;, &quot;Arial&quot;, &quot;Courier New&quot;);\n\n    Map&lt;String, String&gt; m = new HashMap&lt;&gt;();\n    m.put(PD4Constants.PD4ML_CACHE_IMAGES_IN_TMP_DIR, &quot;true&quot;);\n    m.put(PD4Constants.PD4ML_ABSOLUTE_ADDRESS_SPACE, &quot;document&quot;);\n    html.setDynamicParams(m);\n\n    html.protectPhysicalUnitDimensions();\n\n    try (StringReader sr = new StringReader(content)) {\n        html.render(sr, out);\n    }\n}\n</code></pre>\n<p><strong>Note : here String content in method paramenter is my HTML content which is below</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=&quot;utf-8&quot;&gt;&lt;/head&gt;&lt;body&gt;&lt;div id=&quot;frontBadgeHeader&quot; style=&quot;color: white; position: relative;width:288px;&quot;&gt;&lt;div id=&quot;frontBadge&quot; style=&quot;width: 288px; height: 216px; background: url(&amp;quot;http://localhost/ERImg/04/12/15/blue_Bg.jpg&amp;quot;) left top / cover no-repeat; z-index: 1;background-size: cover !important&quot;&gt;&lt;/div&gt;&lt;div id=&quot;e8d56a50-2143-11ee-ae2a-893d4c6518ac&quot; style=&quot;color: rgb(0, 0, 0);font-family: Arial;font-size:16pt;height: 32px;left: 20px;position: absolute;top: 98px;width: 200px;z-index: 10&quot;&gt;Very Long First name&lt;/div&gt;&lt;/div&gt;&lt;div id=&quot;backBadgeHeader&quot; style=&quot;color: white; position: relative;width:288px;&quot;&gt;&lt;div id=&quot;backBadge&quot; style=&quot;width: 288px; height: 216px; background: url(&amp;quot;http://localhost/ERImg/04/12/15/Brown_BG.jpg&amp;quot;) left top / cover no-repeat; z-index: 1;background-size: cover !important; background-position: left top&quot;&gt;&lt;/div&gt;&lt;div id=&quot;fb995700-2143-11ee-ae2a-893d4c6518ac&quot; style=&quot;color: rgb(0, 0, 0);font-family: Arial;font-size:13pt;height: 32px;left: 20px;position: absolute;top: 92px;width: 200px;z-index: 10&quot;&gt;PrintBadges_Test_last_name&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n<p>The problem here is, I can able to covert it PDF page, but I could see some extra white space around the content. I didn't set any page Insets for this. and also I could see the second page slightly moved in first page.</p>\n<p>I tried lot of ways to resolve this issue, but no luck. Please help me to resolve this issue. Thanks in advance.</p>\n<p>Please find the below PDF pages <strong>(I have attached it as Image here)</strong>. You could see space around the background image. Its not because of background image. I'm facing this issue even I set border to that HTML content.</p>\n<p><a href=\"https://i.stack.imgur.com/PK8Dj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PK8Dj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","keyboard","keyboardfocusmanager"],"answers":[{"tags":[],"owner":{"account_id":1068073,"reputation":875,"user_id":1068054,"display_name":"Jan Henke"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333902319,"creation_date":1333902319,"answer_id":10064345,"question_id":10064296,"body_markdown":"It does not seem possible, since it requires the application to poll for the initial status, opposed to the model of events used by AWT/Swing.","title":"Check whether shift key is pressed","body":"<p>It does not seem possible, since it requires the application to poll for the initial status, opposed to the model of events used by AWT/Swing.</p>\n"},{"comments":[{"owner":{"account_id":1039902,"reputation":2194,"user_id":1046192,"accept_rate":100,"display_name":"haiyyu"},"score":0,"creation_date":1333903997,"post_id":10064346,"comment_id":12881481,"body_markdown":"I&#39;m sorry, this is my first Java program that uses a GUI framework. What could I do to make my code more readable?","body":"I&#39;m sorry, this is my first Java program that uses a GUI framework. What could I do to make my code more readable?"},{"owner":{"account_id":795711,"reputation":3788,"user_id":888715,"accept_rate":77,"display_name":"awiebe"},"score":0,"creation_date":1333908141,"post_id":10064346,"comment_id":12882319,"body_markdown":"Basically you do too many operations in one line, use more variables and fewer anonymous entities.  Remember code is for people to read not computers, your optomizing compiler will mostly be able to take care of making it run efficiently.","body":"Basically you do too many operations in one line, use more variables and fewer anonymous entities.  Remember code is for people to read not computers, your optomizing compiler will mostly be able to take care of making it run efficiently."}],"tags":[],"owner":{"account_id":795711,"reputation":3788,"user_id":888715,"accept_rate":77,"display_name":"awiebe"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333902329,"creation_date":1333902329,"answer_id":10064346,"question_id":10064296,"body_markdown":"Cleaning up your coding style might help, I find your code difficult to read.\r\n\r\nYour program probably doesn&#39;t listen to a shift that occured before the program started by design, as this shift was sent to the parent program not to it.","title":"Check whether shift key is pressed","body":"<p>Cleaning up your coding style might help, I find your code difficult to read.</p>\n\n<p>Your program probably doesn't listen to a shift that occured before the program started by design, as this shift was sent to the parent program not to it.</p>\n"},{"tags":[],"owner":{"account_id":1252167,"reputation":5353,"user_id":1212363,"accept_rate":82,"display_name":"ulmangt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1333903445,"creation_date":1333903445,"answer_id":10064498,"question_id":10064296,"body_markdown":"\t\t\r\nI&#39;d characterize this as a hack, but it does solve the problem (with some downsides), so I figured I would mention it as a possibility.\r\n\r\nYou can use the `Robot` class to simulate a keystroke of some key that your application doesn&#39;t care about (perhaps one of the function keys). Run this code right after you register your `KeyListener`. You&#39;ll see a key event which will tell you whether `Shift` is down.\r\n\r\n*Warning:* This will appear to the system as if the `F24` (or whatever key you choose) had actually been pressed and released by the user. That could potentially have unexpected side-effects.\r\n\r\n\t\t(new Thread( )\r\n\t\t{\r\n\t\t\t@Override\r\n\t\t\tpublic void run( )\r\n\t\t\t{\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tjava.awt.Robot robot = new Robot();\r\n\t\t\t\t\trobot.delay( 100 );\r\n\t\t\t        robot.keyPress( KeyEvent.VK_F24 );\r\n\t\t\t        robot.keyRelease( KeyEvent.VK_F24 );\r\n\t\t\t\t}\r\n\t\t\t\tcatch ( Exception e )\r\n\t\t\t\t{\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}).start( );","title":"Check whether shift key is pressed","body":"<p>I'd characterize this as a hack, but it does solve the problem (with some downsides), so I figured I would mention it as a possibility.</p>\n\n<p>You can use the <code>Robot</code> class to simulate a keystroke of some key that your application doesn't care about (perhaps one of the function keys). Run this code right after you register your <code>KeyListener</code>. You'll see a key event which will tell you whether <code>Shift</code> is down.</p>\n\n<p><em>Warning:</em> This will appear to the system as if the <code>F24</code> (or whatever key you choose) had actually been pressed and released by the user. That could potentially have unexpected side-effects.</p>\n\n<pre><code>    (new Thread( )\n    {\n        @Override\n        public void run( )\n        {\n            try\n            {\n                java.awt.Robot robot = new Robot();\n                robot.delay( 100 );\n                robot.keyPress( KeyEvent.VK_F24 );\n                robot.keyRelease( KeyEvent.VK_F24 );\n            }\n            catch ( Exception e )\n            {\n            }\n        }\n    }).start( );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689289227,"creation_date":1689288701,"answer_id":76683726,"question_id":10064296,"body_markdown":"I think you can do this by writing an AWTEventListener and listening for a key event when the shift key is pressed. You would need to install into the ToolKit:\r\n\r\n    Toolkit.getDefaultToolkit().addAWTEventListener(myShiftListener);\r\n\r\nI&#39;m not sure if it would work if you typed the key before launching the application. If you installed the KeyListener as your first operation, then it would be more likely to work if the key was typed after launching, but before the main window opened. That way, your code to build and show the main window could read the event. (You may have to put a small delay in after installing the listener.)","title":"Check whether shift key is pressed","body":"<p>I think you can do this by writing an AWTEventListener and listening for a key event when the shift key is pressed. You would need to install into the ToolKit:</p>\n<pre><code>Toolkit.getDefaultToolkit().addAWTEventListener(myShiftListener);\n</code></pre>\n<p>I'm not sure if it would work if you typed the key before launching the application. If you installed the KeyListener as your first operation, then it would be more likely to work if the key was typed after launching, but before the main window opened. That way, your code to build and show the main window could read the event. (You may have to put a small delay in after installing the listener.)</p>\n"}],"owner":{"account_id":1039902,"reputation":2194,"user_id":1046192,"accept_rate":100,"display_name":"haiyyu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10809,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":10064498,"answer_count":4,"score":2,"last_activity_date":1689289227,"creation_date":1333901828,"question_id":10064296,"body_markdown":"I&#39;m programming an application which should, when started, check whether the shift key is pressed. For that I have created a small class which is responsible for that:\r\n\r\n    import java.awt.KeyEventDispatcher;\r\n    import java.awt.KeyboardFocusManager;\r\n    import java.awt.event.KeyEvent;\r\n    \r\n    public class KeyboardListener {\r\n    \r\n    \tprivate static boolean isShiftDown;\r\n    \t\r\n    \tstatic {\r\n    \t\tKeyboardFocusManager.getCurrentKeyboardFocusManager().addKeyEventDispatcher(\r\n    \t\t\tnew KeyEventDispatcher() {\r\n    \t\t\t\tpublic boolean dispatchKeyEvent(KeyEvent e) {\r\n    \t\t\t\t\tisShiftDown = e.isShiftDown();\r\n    \t\t\t\t\treturn false;\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t}\r\n    \t\r\n    \tpublic static boolean isShiftDown() {\r\n    \t\treturn isShiftDown;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nHowever, it seems that this is not working if the shift key was already pressed when the application started up. The following check always executes the else case.\r\n\r\n    if (KeyboardListener.isShiftDown()) {\r\n        // ...\r\n    } else {\r\n        // this always gets executed\r\n    }\r\n\r\nIs there a way of checking whether the shift key is pressed if it was already pressed when the application started? I know this is possible using WinAPI, but I would prefer a Javaish way of doing it.\r\n\r\nThanks in advance!","title":"Check whether shift key is pressed","body":"<p>I'm programming an application which should, when started, check whether the shift key is pressed. For that I have created a small class which is responsible for that:</p>\n\n<pre><code>import java.awt.KeyEventDispatcher;\nimport java.awt.KeyboardFocusManager;\nimport java.awt.event.KeyEvent;\n\npublic class KeyboardListener {\n\n    private static boolean isShiftDown;\n\n    static {\n        KeyboardFocusManager.getCurrentKeyboardFocusManager().addKeyEventDispatcher(\n            new KeyEventDispatcher() {\n                public boolean dispatchKeyEvent(KeyEvent e) {\n                    isShiftDown = e.isShiftDown();\n                    return false;\n                }\n            });\n    }\n\n    public static boolean isShiftDown() {\n        return isShiftDown;\n    }\n\n}\n</code></pre>\n\n<p>However, it seems that this is not working if the shift key was already pressed when the application started up. The following check always executes the else case.</p>\n\n<pre><code>if (KeyboardListener.isShiftDown()) {\n    // ...\n} else {\n    // this always gets executed\n}\n</code></pre>\n\n<p>Is there a way of checking whether the shift key is pressed if it was already pressed when the application started? I know this is possible using WinAPI, but I would prefer a Javaish way of doing it.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","flutter","dart","java-threads","dart-isolates"],"answers":[{"comments":[{"owner":{"account_id":5429762,"reputation":1306,"user_id":4321004,"display_name":"tfrysinger"},"score":0,"creation_date":1689377889,"post_id":76683742,"comment_id":135210090,"body_markdown":"I&#39;ll take a look and if it solves my issue will so indicate here!","body":"I&#39;ll take a look and if it solves my issue will so indicate here!"},{"owner":{"account_id":28879887,"reputation":163,"user_id":22119575,"display_name":"d-markey"},"score":0,"creation_date":1689884580,"post_id":76683742,"comment_id":135280514,"body_markdown":"OK, if you need help don&#39;t hesitate to call ;-)","body":"OK, if you need help don&#39;t hesitate to call ;-)"}],"tags":[],"owner":{"account_id":28879887,"reputation":163,"user_id":22119575,"display_name":"d-markey"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689288893,"creation_date":1689288893,"answer_id":76683742,"question_id":76538853,"body_markdown":"maybe you can have a look at [Squadron][1] which implements Isolate pools wrapping a service class.\r\n\r\nBasically, you implement a service class and use Squadron annotations to make your service available from an Isolate (or a pool of Isolates managed by Squadron). Annotations are processed by package squadron_builder to generate code for the Isolate/Isolate pool.\r\n\r\n\r\n  [1]: https://pub.dev/packages/squadron","title":"How can I implement the equivalent of a Java HandlerThread in Dart?","body":"<p>maybe you can have a look at <a href=\"https://pub.dev/packages/squadron\" rel=\"nofollow noreferrer\">Squadron</a> which implements Isolate pools wrapping a service class.</p>\n<p>Basically, you implement a service class and use Squadron annotations to make your service available from an Isolate (or a pool of Isolates managed by Squadron). Annotations are processed by package squadron_builder to generate code for the Isolate/Isolate pool.</p>\n"}],"owner":{"account_id":5429762,"reputation":1306,"user_id":4321004,"display_name":"tfrysinger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689288893,"creation_date":1687513189,"question_id":76538853,"body_markdown":"I am porting an Android native app written in Java to Dart/Flutter. One of the features of this app is that it allows two users to transfer 1 or more files simultaneously between devices. \r\n\r\nOn startup, the native Java app creates an instance of a class that is implemented as an Android Service (InTouchCommunicationService) which acts as a central broker for notifications. \r\n\r\nWhen user A wants to send a file to user B, user A spawns an instance of a class (InTouchShareTransfer) which extends the Java HandlerThread class. This class handles a variety of messages that get passed back and forth between user A and B.\r\n\r\nFor example, when user A wants to send a file, it spawns a new InTouchShareTransfer instance, which sends a notification to B (&quot;Are you ready to receive a file?&quot;), B&#39;s InTouchCommunicationService receives this notification, notes it is a request to send a transfer, and creates an instance of InTouchShareTransfer on B.\r\n\r\nThe two InTouchShareTransfer instances on A &amp; B can now create/emit messages, which are handled by the communication service. Each message contains the ID of the InTouchShareTransfer instance it is tied to.\r\n\r\nThe communication service keeps a reference to each InTouchShareTransfer instance it spawns by its numeric ID in a HashMap.\r\n\r\nSo a flow looks like:\r\n\r\nUser A\r\n   app user indicates they want to send a file to user B\r\n   InTouchCommunicationService spawns an InTouchShareTransfer instance, saves it in\r\n       its HashMap\r\n   InTouchShareTransfer initiates the transfer by creating an initiation message: &quot;Are \r\n       you ready to receive a file?&quot;, and sends it to the message queue managed by\r\n       InTouchCommunicationService.\r\n   InTouchCommunicationService handles pushing that message out to B.\r\n\r\nUser B\r\n   InTouchCommunicationService receives the initiation message, notes that there is no\r\n       handler yet set up to receive it, so spawns an InTouchShareTransfer instance,\r\n       and saves it by ID in its hashmap, then passes the received message along for\r\n       it to handle.\r\n    InTouchShareTransfer instance receives the message, and formulates a response: &quot;yes, \r\n       send me your file!&quot;\r\n\r\nUser A\r\n    InTouchCommunicationServices receives the message from B, looks up the ID of the \r\n        appropriate InTouchShareTransfer instance, and passes the response along.\r\n\r\nThis back and forth handshake continues until the file is ready to be sent, which is then done using a data channel with WebRTC.\r\n\r\nThe reason for this design, is that handling of many of these messages (including the file transfer) can take quite some time, thus they need to be handled on their own Java thread.\r\n\r\nSo here is the problem I face:\r\n\r\nFrom my reading of Isolates in Dart, they are automatically destroyed once their event queue is empty. This is very unlike how HandlerThread instances work - which simply keep running (blocking) and will handle events that are submitted to the looper, until the thread is specifically killed.\r\n\r\nSo my first thought of using an Isolate to be the equivalent of a HandlerThread doesn&#39;t seem to be correct. Valid assumption?\r\n\r\nSo is the proper technique to spawn an isolate to handle every message that is processed by InTouchCommunicationService? That seems an expensive setup/teardown - since Isolates use their own memory space, etc. I haven&#39;t seen the concept of an &quot;Isolate pool&quot;, to optimize this setup/teardown the way we have thread pools in Java.\r\n\r\nDesign suggestions welcome!","title":"How can I implement the equivalent of a Java HandlerThread in Dart?","body":"<p>I am porting an Android native app written in Java to Dart/Flutter. One of the features of this app is that it allows two users to transfer 1 or more files simultaneously between devices.</p>\n<p>On startup, the native Java app creates an instance of a class that is implemented as an Android Service (InTouchCommunicationService) which acts as a central broker for notifications.</p>\n<p>When user A wants to send a file to user B, user A spawns an instance of a class (InTouchShareTransfer) which extends the Java HandlerThread class. This class handles a variety of messages that get passed back and forth between user A and B.</p>\n<p>For example, when user A wants to send a file, it spawns a new InTouchShareTransfer instance, which sends a notification to B (&quot;Are you ready to receive a file?&quot;), B's InTouchCommunicationService receives this notification, notes it is a request to send a transfer, and creates an instance of InTouchShareTransfer on B.</p>\n<p>The two InTouchShareTransfer instances on A &amp; B can now create/emit messages, which are handled by the communication service. Each message contains the ID of the InTouchShareTransfer instance it is tied to.</p>\n<p>The communication service keeps a reference to each InTouchShareTransfer instance it spawns by its numeric ID in a HashMap.</p>\n<p>So a flow looks like:</p>\n<p>User A\napp user indicates they want to send a file to user B\nInTouchCommunicationService spawns an InTouchShareTransfer instance, saves it in\nits HashMap\nInTouchShareTransfer initiates the transfer by creating an initiation message: &quot;Are\nyou ready to receive a file?&quot;, and sends it to the message queue managed by\nInTouchCommunicationService.\nInTouchCommunicationService handles pushing that message out to B.</p>\n<p>User B\nInTouchCommunicationService receives the initiation message, notes that there is no\nhandler yet set up to receive it, so spawns an InTouchShareTransfer instance,\nand saves it by ID in its hashmap, then passes the received message along for\nit to handle.\nInTouchShareTransfer instance receives the message, and formulates a response: &quot;yes,\nsend me your file!&quot;</p>\n<p>User A\nInTouchCommunicationServices receives the message from B, looks up the ID of the\nappropriate InTouchShareTransfer instance, and passes the response along.</p>\n<p>This back and forth handshake continues until the file is ready to be sent, which is then done using a data channel with WebRTC.</p>\n<p>The reason for this design, is that handling of many of these messages (including the file transfer) can take quite some time, thus they need to be handled on their own Java thread.</p>\n<p>So here is the problem I face:</p>\n<p>From my reading of Isolates in Dart, they are automatically destroyed once their event queue is empty. This is very unlike how HandlerThread instances work - which simply keep running (blocking) and will handle events that are submitted to the looper, until the thread is specifically killed.</p>\n<p>So my first thought of using an Isolate to be the equivalent of a HandlerThread doesn't seem to be correct. Valid assumption?</p>\n<p>So is the proper technique to spawn an isolate to handle every message that is processed by InTouchCommunicationService? That seems an expensive setup/teardown - since Isolates use their own memory space, etc. I haven't seen the concept of an &quot;Isolate pool&quot;, to optimize this setup/teardown the way we have thread pools in Java.</p>\n<p>Design suggestions welcome!</p>\n"},{"tags":["java","amazon-s3","aws-sdk-java-2.0"],"comments":[{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1689267258,"post_id":76681692,"comment_id":135192852,"body_markdown":"The v2 [S3Object](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/model/S3Object.html) class looks similar.","body":"The v2 <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/model/S3Object.html\" rel=\"nofollow noreferrer\">S3Object</a> class looks similar."}],"answers":[{"tags":[],"owner":{"account_id":26281505,"reputation":427,"user_id":19949926,"display_name":"rlhagerm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689288189,"creation_date":1689288189,"answer_id":76683685,"question_id":76681692,"body_markdown":"If you were getting `S3ObjectSummary` objects as a result of listing the objects in a bucket, then the equivalent should be `S3Object`, since [ListObjectsV2][1] returns a [response][2] with a `List&lt;S3Object&gt;`.\r\n\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html#listObjectsV2(software.amazon.awssdk.services.s3.model.ListObjectsV2Request)\r\n  [2]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/model/ListObjectsV2Response.html","title":"AWS SDK Java Version 2 - Is there an equivalent of S3ObjectSummary from version 1","body":"<p>If you were getting <code>S3ObjectSummary</code> objects as a result of listing the objects in a bucket, then the equivalent should be <code>S3Object</code>, since <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html#listObjectsV2(software.amazon.awssdk.services.s3.model.ListObjectsV2Request)\" rel=\"nofollow noreferrer\">ListObjectsV2</a> returns a <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/model/ListObjectsV2Response.html\" rel=\"nofollow noreferrer\">response</a> with a <code>List&lt;S3Object&gt;</code>.</p>\n"}],"owner":{"account_id":19793293,"reputation":25,"user_id":14495826,"display_name":"weezyFjr420"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689288189,"creation_date":1689266975,"question_id":76681692,"body_markdown":"I am using S3ObjectSummary previously in my code with version 1 and I am now migrating my code to SDK 2.20. What&#39;s the equivalent of S3ObjectSummary in SDK 2.20?","title":"AWS SDK Java Version 2 - Is there an equivalent of S3ObjectSummary from version 1","body":"<p>I am using S3ObjectSummary previously in my code with version 1 and I am now migrating my code to SDK 2.20. What's the equivalent of S3ObjectSummary in SDK 2.20?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1689286038,"post_id":76683515,"comment_id":135196033,"body_markdown":"You can add `@Import` to your test for adding additional beans, e.g. `@Import({JwtService.class, YourUserDetailService})`","body":"You can add <code>@Import</code> to your test for adding additional beans, e.g. <code>@Import({JwtService.class, YourUserDetailService})</code>"},{"owner":{"account_id":19425009,"reputation":26,"user_id":14206660,"display_name":"Noel Covarrubias"},"score":0,"creation_date":1689286725,"post_id":76683515,"comment_id":135196095,"body_markdown":"Hi @dan1stisonstrike thank you for your response. I tried doing that like this: ```@Import({UserService.class, UserRepository.class, JwtService.class})``` since those are the ones it kept throwing errors for. It gave me a different error so this is good news. The error is something along the lines of  ```&quot;Error creating bean with name &#39;com.league_buddies.backend.user.UserService&#39;: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;com.league_buddies.backend.user.UserRepository&#39;&quot;``` any knowledge about this that you can share?","body":"Hi @dan1stisonstrike thank you for your response. I tried doing that like this: <code>@Import({UserService.class, UserRepository.class, JwtService.class})</code> since those are the ones it kept throwing errors for. It gave me a different error so this is good news. The error is something along the lines of  <code>&quot;Error creating bean with name &#39;com.league_buddies.backend.user.UserService&#39;: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;com.league_buddies.backend.user.UserRepository&#39;&quot;</code> any knowledge about this that you can share?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1689318370,"post_id":76683515,"comment_id":135199211,"body_markdown":"Your test is weird, you want `@WebMvcTest` but then go into configuring everything yourself. THen what is the purpose of `@WebMvcTest`? Also `@WebMvcTest` will only create web related beans so it will **not** create an instance of your `JwtService` or any other service for that matter. Now as it is required for security you will need that. To fix the last error replace `@Mock` with `@MockBean` and remove the `UserService`/`UserController` creation from your setup method, as well as the manual creation of the `MockMvc` just `@Autowired` it.","body":"Your test is weird, you want <code>@WebMvcTest</code> but then go into configuring everything yourself. THen what is the purpose of <code>@WebMvcTest</code>? Also <code>@WebMvcTest</code> will only create web related beans so it will <b>not</b> create an instance of your <code>JwtService</code> or any other service for that matter. Now as it is required for security you will need that. To fix the last error replace <code>@Mock</code> with <code>@MockBean</code> and remove the <code>UserService</code>/<code>UserController</code> creation from your setup method, as well as the manual creation of the <code>MockMvc</code> just <code>@Autowired</code> it."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1689320870,"post_id":76683515,"comment_id":135199648,"body_markdown":"In general using jwts as session tokens is insecure and is the reason why spring does not have a prebuilt implementation for it. You application is now vulnerable for session stealing, cross site scripting attacks and you can not logout the user and your application will be easy to DDoS. Stop using jwts as sessions","body":"In general using jwts as session tokens is insecure and is the reason why spring does not have a prebuilt implementation for it. You application is now vulnerable for session stealing, cross site scripting attacks and you can not logout the user and your application will be easy to DDoS. Stop using jwts as sessions"},{"owner":{"account_id":19425009,"reputation":26,"user_id":14206660,"display_name":"Noel Covarrubias"},"score":0,"creation_date":1689366358,"post_id":76683515,"comment_id":135208834,"body_markdown":"Thanks for that @M.Deinum. I&#39;m new to Spring Security and I was following this one tutorial that implemented JWT tokens and I just sort of followed it. I read the docs from Spring Security but they don&#39;t have examples of how to do things so I had to do it this way. I will keep learning and make the changes you mentioned. Thanks!","body":"Thanks for that @M.Deinum. I&#39;m new to Spring Security and I was following this one tutorial that implemented JWT tokens and I just sort of followed it. I read the docs from Spring Security but they don&#39;t have examples of how to do things so I had to do it this way. I will keep learning and make the changes you mentioned. Thanks!"},{"owner":{"account_id":19425009,"reputation":26,"user_id":14206660,"display_name":"Noel Covarrubias"},"score":0,"creation_date":1689366427,"post_id":76683515,"comment_id":135208844,"body_markdown":"@Toerktumlare, I had no idea. I&#39;m new to Spring Boot and I just went with it because it&#39;s something I&#39;ve used before (JWT tokens). I will look into what you mentioned and look for a good replacement to what I&#39;ve done to make my application secure which is definitely my goal. Appreciate the help.","body":"@Toerktumlare, I had no idea. I&#39;m new to Spring Boot and I just went with it because it&#39;s something I&#39;ve used before (JWT tokens). I will look into what you mentioned and look for a good replacement to what I&#39;ve done to make my application secure which is definitely my goal. Appreciate the help."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1689405867,"post_id":76683515,"comment_id":135211571,"body_markdown":"If you are new you should start with the documentation","body":"If you are new you should start with the documentation"},{"owner":{"account_id":19425009,"reputation":26,"user_id":14206660,"display_name":"Noel Covarrubias"},"score":0,"creation_date":1689448620,"post_id":76683515,"comment_id":135216204,"body_markdown":"@Toerktumlare that&#39;s exactly what I did but the documentation is very complicated for somebody new, and they lack examples that would make it easier to understand. Someone recommended me a book called &quot;Spring Security in Action&quot; so hopefully that helps. Thank you.","body":"@Toerktumlare that&#39;s exactly what I did but the documentation is very complicated for somebody new, and they lack examples that would make it easier to understand. Someone recommended me a book called &quot;Spring Security in Action&quot; so hopefully that helps. Thank you."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1689452022,"post_id":76683515,"comment_id":135216500,"body_markdown":"if you think the docs are complicated, then that would be an excellent question to ask us to clarify something in the documentation if it is complicated. i suggest you start reading here https://docs.spring.io/spring-security/reference/servlet/architecture.html#servlet-architecture and then continue here https://docs.spring.io/spring-security/reference/servlet/authentication/architecture.html if you understand these 2 pages you will understand everything else in the docs","body":"if you think the docs are complicated, then that would be an excellent question to ask us to clarify something in the documentation if it is complicated. i suggest you start reading here <a href=\"https://docs.spring.io/spring-security/reference/servlet/architecture.html#servlet-architecture\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/&hellip;</a> and then continue here <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/architecture.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/authenticat&zwnj;&#8203;ion/&hellip;</a> if you understand these 2 pages you will understand everything else in the docs"},{"owner":{"account_id":19425009,"reputation":26,"user_id":14206660,"display_name":"Noel Covarrubias"},"score":0,"creation_date":1689536769,"post_id":76683515,"comment_id":135223915,"body_markdown":"@Toerktumlare I went through those a couple days ago and I did get a good understanding of them. I think what I&#39;m confused or need to learn more about is simply how to implement those things that they mention in the docs. For example Java/Spring Boot has many Interfaces that already have implementations so you don&#39;t have to implement your own and so I don&#39;t know when to use those, which one is best, etc. I think it&#39;s just practice I need though and trial and error. Thank you for your help.","body":"@Toerktumlare I went through those a couple days ago and I did get a good understanding of them. I think what I&#39;m confused or need to learn more about is simply how to implement those things that they mention in the docs. For example Java/Spring Boot has many Interfaces that already have implementations so you don&#39;t have to implement your own and so I don&#39;t know when to use those, which one is best, etc. I think it&#39;s just practice I need though and trial and error. Thank you for your help."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1689537699,"post_id":76683515,"comment_id":135224033,"body_markdown":"`I&#39;m confused or need to learn more about is simply how to implement those things that they mention in the doc` i dont really get it, they have a chpater that is clearly named `Samples` https://docs.spring.io/spring-security/reference/samples.html which linkes to tonnes of samples, and start out with implementing form security https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/form.html","body":"<code>I&#39;m confused or need to learn more about is simply how to implement those things that they mention in the doc</code> i dont really get it, they have a chpater that is clearly named <code>Samples</code> <a href=\"https://docs.spring.io/spring-security/reference/samples.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/samples.html</a> which linkes to tonnes of samples, and start out with implementing form security <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/form.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/authenticat&zwnj;&#8203;ion/&hellip;</a>"},{"owner":{"account_id":19425009,"reputation":26,"user_id":14206660,"display_name":"Noel Covarrubias"},"score":0,"creation_date":1689645131,"post_id":76683515,"comment_id":135239668,"body_markdown":"Thank you! @Toerktumlare. You&#39;ve been very helpful. I fixed my error with one of the comments before yours. Your comments have been helpful by making me think of the tokens and making me realize I need to dig deeper into the docs. Appreciate the help!","body":"Thank you! @Toerktumlare. You&#39;ve been very helpful. I fixed my error with one of the comments before yours. Your comments have been helpful by making me think of the tokens and making me realize I need to dig deeper into the docs. Appreciate the help!"}],"owner":{"account_id":19425009,"reputation":26,"user_id":14206660,"display_name":"Noel Covarrubias"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689286350,"creation_date":1689285799,"question_id":76683515,"body_markdown":"I as the title says I have a Spring Boot application that is failing when I run some tests, more specifically the controller tests. The issue came up once I was done adding authentication to the app. I realized the tests for the controllers were not passing, not a single one. When I tried running the debugger, I saw the following error: ```&quot;Parameter 0 of constructor in com.league_buddies.backend.security.authentication.AuthenticationFilter required a bean of type &#39;com.league_buddies.backend.security.jwt.JwtService&#39; that could not be found.&quot;```\r\n\r\nI have the following class that loads up all the beans my application uses:\r\n\r\n```Java\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class ApplicationConfiguration {\r\n\r\n    private final UserService userService;\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        return username -&gt; userService.findByEmailAddress(username);\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\r\n        daoAuthenticationProvider.setUserDetailsService(userDetailsService());\r\n        daoAuthenticationProvider.setPasswordEncoder(passwordEncoder());\r\n        return daoAuthenticationProvider;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager() {\r\n        ProviderManager providerManager = new ProviderManager(authenticationProvider());\r\n        return providerManager;\r\n    }\r\n}\r\n```\r\n\r\nThis is my AuthenticationFilter class:\r\n```Java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class AuthenticationFilter extends OncePerRequestFilter {\r\n    private final JwtService jwtService;\r\n\r\n    private final UserDetailsService userDetailsService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(\r\n            HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            FilterChain filterChain) throws ServletException, IOException {\r\n        final String authorization = request.getHeader(&quot;Authorization&quot;);\r\n        final String token;\r\n        if (authorization == null || !authorization.startsWith(&quot;Bearer &quot;)) {\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n        // JWT tokens start with &quot;Bearer &quot;. We have to remove that part to get the actual token.\r\n        token = authorization.substring(&quot;Bearer &quot;.length());\r\n        String username = jwtService.extractSubject(token);\r\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(username);\r\n            if(jwtService.isTokenValid(token, userDetails)) {\r\n                // This is the recommended way for setting the context by Spring Security.\r\n                SecurityContext context = SecurityContextHolder.createEmptyContext();\r\n                context.setAuthentication(new UsernamePasswordAuthenticationToken(\r\n                        userDetails, null, userDetails.getAuthorities()\r\n                ));\r\n                SecurityContextHolder.setContext(context);\r\n            }\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\nAnd lastly this is my JwtService (The privateKey will change don&#39;t worry):\r\n```Java\r\n@Service\r\npublic class JwtService {\r\n    // TODO move this to application config level.\r\n    private final String privateKey = &quot;SDGJKHJK35346KHJ4/sdfjkhsdka98dsgd357qjahf2897452381!&quot;;\r\n    public String generateToken(String username) {\r\n        return Jwts\r\n                .builder()\r\n                .setSubject(username)\r\n                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .setExpiration(new Date(System.currentTimeMillis() + 86400000))\r\n                .signWith(getSignInKey(), SignatureAlgorithm.HS256)\r\n                .compact();\r\n    }\r\n\r\n    private Claims extractClaims(String token) {\r\n        return Jwts.parserBuilder()\r\n                .setSigningKey(getSignInKey())\r\n                .build()\r\n                .parseClaimsJws(token)\r\n                .getBody();\r\n    }\r\n\r\n    public String extractSubject(String token) {\r\n        return extractClaims(token).getSubject();\r\n    }\r\n\r\n    private Date extractExpiration(String token) {\r\n        return extractClaims(token).getExpiration();\r\n    }\r\n\r\n    private Key getSignInKey() {\r\n        byte[] keyBytes = Decoders.BASE64.decode(privateKey);\r\n        return Keys.hmacShaKeyFor(keyBytes);\r\n    }\r\n\r\n    private boolean isTokenExpired(String token) {\r\n        return extractExpiration(token).before(new Date());\r\n    }\r\n\r\n    public boolean isTokenValid(String token, UserDetails userDetails) {\r\n        return extractSubject(token).equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token);\r\n    }\r\n}\r\n```\r\n\r\nI believe that by including the annotations that my classes have, Spring Boot should load them and there should be not problems, at least there are no problems when I run the application, it&#39;s only when I try to run the tests for the controllers that this happens. Here is a part of one of them if you want to look at it, I&#39;m using MockMvc to call the endpoints etc:\r\n```Java\r\n@ExtendWith(MockitoExtension.class)\r\n@WebMvcTest(UserControllerTest.class)\r\nclass UserControllerTest {\r\n    // TODO Make a constant for the API url to avoid writing it over and over.\r\n    @Mock\r\n    private UserRepository userRepository;\r\n\r\n    private UserService userService;\r\n\r\n    private UserController userController;\r\n\r\n    @Autowired\r\n    CustomExceptionHandler customExceptionHandler;\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n\r\n    private long id;\r\n\r\n    private Optional&lt;User&gt; optionalUser;\r\n\r\n    private String displayName;\r\n\r\n    private String email;\r\n\r\n    private String password;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        // Stub user service with mock user repository\r\n        userService = new UserService(userRepository);\r\n\r\n        // Start controller with user service that has the mock user repository\r\n        userController = new UserController(userService);\r\n\r\n        // Builds a MockMvcBuilder and passes it the CustomExceptionHandler\r\n        // so that it can use it, otherwise it will use the default one Spring Boot\r\n        // comes with.\r\n        mockMvc = MockMvcBuilders.standaloneSetup(userController)\r\n                .setControllerAdvice(customExceptionHandler)\r\n                .build();\r\n\r\n        id = 1L;\r\n        displayName = &quot;Isolated&quot;;\r\n        email = &quot;email@gmail.com&quot;;\r\n        password = &quot;pw12345&quot;;\r\n        User user = new User();\r\n        user.setId(id);\r\n        user.setDisplayName(displayName);\r\n        user.setEmailAddress(email);\r\n        user.setPassword(password);\r\n        optionalUser = Optional.of(user);\r\n    }\r\n\r\n    @Test\r\n    public void throwsWhenUserDoesNotExistInDatabaseWithGivenId() throws Exception {\r\n        // Arrange\r\n        when(userRepository.findById(anyLong())).thenReturn(Optional.empty());\r\n\r\n        // Act\r\n        MockHttpServletResponse response = mockMvc.perform(\r\n                get(String.format(&quot;/api/v1/user/%d&quot;, id)).accept(MediaType.APPLICATION_JSON))\r\n                .andReturn().getResponse();\r\n\r\n        ApiException apiException = objectMapper.readValue(response.getContentAsString(), ApiException.class);\r\n\r\n        // Assert\r\n        assertEquals(HttpStatus.NOT_FOUND.value(), response.getStatus());\r\n        assertEquals(String.format(&quot;User with id: %d was not found.&quot;, id), apiException.getMessage());\r\n    }\r\n\r\n    @Test\r\n    public void throwsWhenGivenNegativeValueToGetById() throws Exception {\r\n        // Act\r\n        id = -1L;\r\n        MockHttpServletResponse response = mockMvc.perform(\r\n                get(String.format(&quot;/api/v1/user/%s&quot;, id)).accept(MediaType.APPLICATION_JSON))\r\n                .andReturn().getResponse();\r\n        ApiException apiException = objectMapper.readValue(response.getContentAsString(), ApiException.class);\r\n\r\n        // Assert\r\n        assertEquals(HttpStatus.BAD_REQUEST.value(), response.getStatus());\r\n        assertEquals(&quot;Id cannot be negative.&quot;, apiException.getMessage());\r\n    }\r\n```\r\n\r\nI tried setting up different profiles so that I could deactivate spring security during the tests but that didn&#39;t seem to work.\r\nI also tried using the annotation @WithMockUser(username = &quot;user1&quot;, password = &quot;pwd&quot;, roles = &quot;USER&quot;) but that&#39;s when I realized the tests weren&#39;t even running. ","title":"How do I fix my Spring Boot application from crashing when running my controller tests?","body":"<p>I as the title says I have a Spring Boot application that is failing when I run some tests, more specifically the controller tests. The issue came up once I was done adding authentication to the app. I realized the tests for the controllers were not passing, not a single one. When I tried running the debugger, I saw the following error: <code>&quot;Parameter 0 of constructor in com.league_buddies.backend.security.authentication.AuthenticationFilter required a bean of type 'com.league_buddies.backend.security.jwt.JwtService' that could not be found.&quot;</code></p>\n<p>I have the following class that loads up all the beans my application uses:</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class ApplicationConfiguration {\n\n    private final UserService userService;\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        return username -&gt; userService.findByEmailAddress(username);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\n        daoAuthenticationProvider.setUserDetailsService(userDetailsService());\n        daoAuthenticationProvider.setPasswordEncoder(passwordEncoder());\n        return daoAuthenticationProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager() {\n        ProviderManager providerManager = new ProviderManager(authenticationProvider());\n        return providerManager;\n    }\n}\n</code></pre>\n<p>This is my AuthenticationFilter class:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class AuthenticationFilter extends OncePerRequestFilter {\n    private final JwtService jwtService;\n\n    private final UserDetailsService userDetailsService;\n\n    @Override\n    protected void doFilterInternal(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            FilterChain filterChain) throws ServletException, IOException {\n        final String authorization = request.getHeader(&quot;Authorization&quot;);\n        final String token;\n        if (authorization == null || !authorization.startsWith(&quot;Bearer &quot;)) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n        // JWT tokens start with &quot;Bearer &quot;. We have to remove that part to get the actual token.\n        token = authorization.substring(&quot;Bearer &quot;.length());\n        String username = jwtService.extractSubject(token);\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(username);\n            if(jwtService.isTokenValid(token, userDetails)) {\n                // This is the recommended way for setting the context by Spring Security.\n                SecurityContext context = SecurityContextHolder.createEmptyContext();\n                context.setAuthentication(new UsernamePasswordAuthenticationToken(\n                        userDetails, null, userDetails.getAuthorities()\n                ));\n                SecurityContextHolder.setContext(context);\n            }\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>And lastly this is my JwtService (The privateKey will change don't worry):</p>\n<pre><code>@Service\npublic class JwtService {\n    // TODO move this to application config level.\n    private final String privateKey = &quot;SDGJKHJK35346KHJ4/sdfjkhsdka98dsgd357qjahf2897452381!&quot;;\n    public String generateToken(String username) {\n        return Jwts\n                .builder()\n                .setSubject(username)\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + 86400000))\n                .signWith(getSignInKey(), SignatureAlgorithm.HS256)\n                .compact();\n    }\n\n    private Claims extractClaims(String token) {\n        return Jwts.parserBuilder()\n                .setSigningKey(getSignInKey())\n                .build()\n                .parseClaimsJws(token)\n                .getBody();\n    }\n\n    public String extractSubject(String token) {\n        return extractClaims(token).getSubject();\n    }\n\n    private Date extractExpiration(String token) {\n        return extractClaims(token).getExpiration();\n    }\n\n    private Key getSignInKey() {\n        byte[] keyBytes = Decoders.BASE64.decode(privateKey);\n        return Keys.hmacShaKeyFor(keyBytes);\n    }\n\n    private boolean isTokenExpired(String token) {\n        return extractExpiration(token).before(new Date());\n    }\n\n    public boolean isTokenValid(String token, UserDetails userDetails) {\n        return extractSubject(token).equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token);\n    }\n}\n</code></pre>\n<p>I believe that by including the annotations that my classes have, Spring Boot should load them and there should be not problems, at least there are no problems when I run the application, it's only when I try to run the tests for the controllers that this happens. Here is a part of one of them if you want to look at it, I'm using MockMvc to call the endpoints etc:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@WebMvcTest(UserControllerTest.class)\nclass UserControllerTest {\n    // TODO Make a constant for the API url to avoid writing it over and over.\n    @Mock\n    private UserRepository userRepository;\n\n    private UserService userService;\n\n    private UserController userController;\n\n    @Autowired\n    CustomExceptionHandler customExceptionHandler;\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    private long id;\n\n    private Optional&lt;User&gt; optionalUser;\n\n    private String displayName;\n\n    private String email;\n\n    private String password;\n\n    @BeforeEach\n    void setUp() {\n        // Stub user service with mock user repository\n        userService = new UserService(userRepository);\n\n        // Start controller with user service that has the mock user repository\n        userController = new UserController(userService);\n\n        // Builds a MockMvcBuilder and passes it the CustomExceptionHandler\n        // so that it can use it, otherwise it will use the default one Spring Boot\n        // comes with.\n        mockMvc = MockMvcBuilders.standaloneSetup(userController)\n                .setControllerAdvice(customExceptionHandler)\n                .build();\n\n        id = 1L;\n        displayName = &quot;Isolated&quot;;\n        email = &quot;email@gmail.com&quot;;\n        password = &quot;pw12345&quot;;\n        User user = new User();\n        user.setId(id);\n        user.setDisplayName(displayName);\n        user.setEmailAddress(email);\n        user.setPassword(password);\n        optionalUser = Optional.of(user);\n    }\n\n    @Test\n    public void throwsWhenUserDoesNotExistInDatabaseWithGivenId() throws Exception {\n        // Arrange\n        when(userRepository.findById(anyLong())).thenReturn(Optional.empty());\n\n        // Act\n        MockHttpServletResponse response = mockMvc.perform(\n                get(String.format(&quot;/api/v1/user/%d&quot;, id)).accept(MediaType.APPLICATION_JSON))\n                .andReturn().getResponse();\n\n        ApiException apiException = objectMapper.readValue(response.getContentAsString(), ApiException.class);\n\n        // Assert\n        assertEquals(HttpStatus.NOT_FOUND.value(), response.getStatus());\n        assertEquals(String.format(&quot;User with id: %d was not found.&quot;, id), apiException.getMessage());\n    }\n\n    @Test\n    public void throwsWhenGivenNegativeValueToGetById() throws Exception {\n        // Act\n        id = -1L;\n        MockHttpServletResponse response = mockMvc.perform(\n                get(String.format(&quot;/api/v1/user/%s&quot;, id)).accept(MediaType.APPLICATION_JSON))\n                .andReturn().getResponse();\n        ApiException apiException = objectMapper.readValue(response.getContentAsString(), ApiException.class);\n\n        // Assert\n        assertEquals(HttpStatus.BAD_REQUEST.value(), response.getStatus());\n        assertEquals(&quot;Id cannot be negative.&quot;, apiException.getMessage());\n    }\n</code></pre>\n<p>I tried setting up different profiles so that I could deactivate spring security during the tests but that didn't seem to work.\nI also tried using the annotation @WithMockUser(username = &quot;user1&quot;, password = &quot;pwd&quot;, roles = &quot;USER&quot;) but that's when I realized the tests weren't even running.</p>\n"},{"tags":["java","javafx","netbeans","ant","azul-zulu"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1689286893,"post_id":76683529,"comment_id":135196127,"body_markdown":"The OpenJFX instructions refer to [OpenJDK](https://openjfx.io/openjfx-docs/#install-java), not Zulu JDK FX, which a different distribution.  Though Zulu JDK FX can be used, and is a good option, OpenJFX instructions don&#39;t document how to do that.  Because JDK FX includes JavaFX, you don&#39;t need to include JavaFX modules in your distribution, just have the client install JDK FX and they will be able to use your application without having to specify any JavaFX modules.  You still need to make other 3rd party dependencies available in your distribution if you have them.","body":"The OpenJFX instructions refer to <a href=\"https://openjfx.io/openjfx-docs/#install-java\" rel=\"nofollow noreferrer\">OpenJDK</a>, not Zulu JDK FX, which a different distribution.  Though Zulu JDK FX can be used, and is a good option, OpenJFX instructions don&#39;t document how to do that.  Because JDK FX includes JavaFX, you don&#39;t need to include JavaFX modules in your distribution, just have the client install JDK FX and they will be able to use your application without having to specify any JavaFX modules.  You still need to make other 3rd party dependencies available in your distribution if you have them."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1689287238,"post_id":76683529,"comment_id":135196166,"body_markdown":"*&quot;Is there something else I&#39;m missing here?&quot;* -&gt; yes.  As noted by the error message you see `JavaFX runtime components are missing, and are required to run this application`.  The runtime components are the native code (e.g. native `.dll` or `.so` files) that JavaFX requires to run and differ depending on the target architecture and system.","body":"<i>&quot;Is there something else I&#39;m missing here?&quot;</i> -&gt; yes.  As noted by the error message you see <code>JavaFX runtime components are missing, and are required to run this application</code>.  The runtime components are the native code (e.g. native <code>.dll</code> or <code>.so</code> files) that JavaFX requires to run and differ depending on the target architecture and system."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1689287453,"post_id":76683529,"comment_id":135196185,"body_markdown":"Runtime components are included in classified Maven artifacts (jars) in the Maven central library.  Runtime components are also included in `jmod` files downloadable from Gluon.  The JavaFX SDK also includes runtime components but they are separate native library files like `.dll` or `.so` files, and are not in the jar files bundled with the SDK, so if you just include the jar files bundled with the SDK with your distribution without some way to access the correct native code for the target platform, it will be broken because the &quot;JavaFX runtime components are missing&quot;.","body":"Runtime components are included in classified Maven artifacts (jars) in the Maven central library.  Runtime components are also included in <code>jmod</code> files downloadable from Gluon.  The JavaFX SDK also includes runtime components but they are separate native library files like <code>.dll</code> or <code>.so</code> files, and are not in the jar files bundled with the SDK, so if you just include the jar files bundled with the SDK with your distribution without some way to access the correct native code for the target platform, it will be broken because the &quot;JavaFX runtime components are missing&quot;."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1689287583,"post_id":76683529,"comment_id":135196202,"body_markdown":"Exactly which instructions sections from openjfx.io are you following? It should be something in the [&quot;Runtime Images&quot;](https://openjfx.io/openjfx-docs/#modular) section if you want to run something outside of the IDE.  Because JDK FX includes JavaFX, its function and usage are similar to that in the &quot;Custom JDK+JavaFX image&quot; section of the OpenJFX documentation, only you don&#39;t need to actually build the custom JRE, because Zulu JRE FX can supply a prebuilt one for you to download.","body":"Exactly which instructions sections from openjfx.io are you following? It should be something in the <a href=\"https://openjfx.io/openjfx-docs/#modular\" rel=\"nofollow noreferrer\">&quot;Runtime Images&quot;</a> section if you want to run something outside of the IDE.  Because JDK FX includes JavaFX, its function and usage are similar to that in the &quot;Custom JDK+JavaFX image&quot; section of the OpenJFX documentation, only you don&#39;t need to actually build the custom JRE, because Zulu JRE FX can supply a prebuilt one for you to download."}],"owner":{"account_id":28382762,"reputation":73,"user_id":21709774,"display_name":"Choosechee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689285998,"creation_date":1689285998,"question_id":76683529,"body_markdown":"Whenever I try to run my JavaFX jar program in the command line, I get the error:\r\n`Error: JavaFX runtime components are missing, and are required to run this application`\r\nI used JavaFX 17, the Zulu JDK FX 17, and NetBeans 17 to build the project. I used the instructions on openjfx.org to create the project using Ant. I tried using Maven first, and followed the instructions, but I couldn&#39;t get it to work, so please don&#39;t just say &quot;use Maven.&quot; In the lib folder, it seems to have everything it needs to run. Below is a picture:\r\n[![lib directory that contains javafx.base.jar, javafx.controls.jar, javafx.fxml.jar, javafx.graphics.jar, javafx.media.jar, javafx.swing.jar, javafx.web.jar, javafx-swt.jar, and jrt-fs.jar.](https://i.stack.imgur.com/aGyB2.png)](https://i.stack.imgur.com/aGyB2.png)\r\n\r\nI made sure that the JAVA_HOME environment variable is set to\r\nC:\\Program Files\\Java\\zulu17.40.19-ca-fx-jdk17.0.6-win_x64\r\nwhich is where I put the Zulu JDK. Is there something else I&#39;m missing here? Is there another environment variable I need to set? Or is there a library I&#39;m missing?","title":"&quot;Error: JavaFX runtime components are missing, and are required to run this application&quot; when trying to run a JavaFX jar program built by NetBeans","body":"<p>Whenever I try to run my JavaFX jar program in the command line, I get the error:\n<code>Error: JavaFX runtime components are missing, and are required to run this application</code>\nI used JavaFX 17, the Zulu JDK FX 17, and NetBeans 17 to build the project. I used the instructions on openjfx.org to create the project using Ant. I tried using Maven first, and followed the instructions, but I couldn't get it to work, so please don't just say &quot;use Maven.&quot; In the lib folder, it seems to have everything it needs to run. Below is a picture:\n<a href=\"https://i.stack.imgur.com/aGyB2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aGyB2.png\" alt=\"lib directory that contains javafx.base.jar, javafx.controls.jar, javafx.fxml.jar, javafx.graphics.jar, javafx.media.jar, javafx.swing.jar, javafx.web.jar, javafx-swt.jar, and jrt-fs.jar.\" /></a></p>\n<p>I made sure that the JAVA_HOME environment variable is set to\nC:\\Program Files\\Java\\zulu17.40.19-ca-fx-jdk17.0.6-win_x64\nwhich is where I put the Zulu JDK. Is there something else I'm missing here? Is there another environment variable I need to set? Or is there a library I'm missing?</p>\n"},{"tags":["java","mockito","integration-testing"],"answers":[{"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1689278267,"post_id":76682150,"comment_id":135194952,"body_markdown":"`Object[] args = invocation.getArguments(); TestObject arg = (TestObject)args[0];` is a very verbose way to write `TestObject arg = invocation.getArgument(0);`","body":"<code>Object[] args = invocation.getArguments(); TestObject arg = (TestObject)args[0];</code> is a very verbose way to write <code>TestObject arg = invocation.getArgument(0);</code>"},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1689285870,"post_id":76682150,"comment_id":135196019,"body_markdown":"@knittl thank you for your suggestion, I have updated my answer","body":"@knittl thank you for your suggestion, I have updated my answer"},{"owner":{"account_id":15599124,"reputation":387,"user_id":11344521,"display_name":"Darkin Rall"},"score":0,"creation_date":1689312245,"post_id":76682150,"comment_id":135198293,"body_markdown":"And the main my purpose was that to need to mock static methods for integration tests, but Mockito doesn&#39;t mock across different threads.","body":"And the main my purpose was that to need to mock static methods for integration tests, but Mockito doesn&#39;t mock across different threads."}],"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689285844,"creation_date":1689271584,"answer_id":76682150,"question_id":76680342,"body_markdown":"You can use `thenAnswer` to acomplish it:\r\n\r\n        try (MockedStatic&lt;MyClass&gt; mock = Mockito.mockStatic(MyClass.class)) {\r\n            mock.when(() -&gt; MyClass.staticMethod(Mockito.any(TestObject.class))).thenAnswer(\r\n                    (Answer&lt;String&gt;) invocation -&gt; {\r\n                        TestObject arg = invocation.getArgument(0);\r\n                        return arg.test();\r\n                    }\r\n            );\r\n\r\n            var testObj = new TestObject(&quot;someTest&quot;);\r\n            var res = MyClass.staticMethod(testObj);\r\n            System.out.println(res);\r\n        }\r\n\r\nits documented here: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#answer_stubs","title":"Mockito. How to mock a static method with args for integration tests","body":"<p>You can use <code>thenAnswer</code> to acomplish it:</p>\n<pre><code>    try (MockedStatic&lt;MyClass&gt; mock = Mockito.mockStatic(MyClass.class)) {\n        mock.when(() -&gt; MyClass.staticMethod(Mockito.any(TestObject.class))).thenAnswer(\n                (Answer&lt;String&gt;) invocation -&gt; {\n                    TestObject arg = invocation.getArgument(0);\n                    return arg.test();\n                }\n        );\n\n        var testObj = new TestObject(&quot;someTest&quot;);\n        var res = MyClass.staticMethod(testObj);\n        System.out.println(res);\n    }\n</code></pre>\n<p>its documented here: <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#answer_stubs\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#answer_stubs</a></p>\n"}],"owner":{"account_id":15599124,"reputation":387,"user_id":11344521,"display_name":"Darkin Rall"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76682150,"answer_count":1,"score":2,"last_activity_date":1689285844,"creation_date":1689257496,"question_id":76680342,"body_markdown":"I use mockito-core 5.4.0 and try to mock a static method with arguments, but it doesn&#39;t work.\r\n\r\n    public record TestObject(\r\n       String test\r\n    ) {}\r\n\r\n    public class MyClass {\r\n       public static String staticMethod(TestObject obj) {\r\n         // do some logic\r\n       }\r\n    }\r\n\r\n    ======================================\r\n    var mock = Mockito.mockStatic(MyClass.class)\r\n    mock.when(() -&gt; MyClass.staticMethod(any()).thenReturn(&quot;&quot;)\r\n\r\nAnd I&#39;d want to return from mocked static method value of TestObject::test.\r\ne.g. somewhere in deep of my code:\r\n\r\n    var testObj = new TestObject(&quot;someTest&quot;);\r\n    var res = MyClass.staticMethod(testObj);\r\n    sout(res) // here I&#39;d want to see: someTest \r\n\r\nHow can I implement it?\r\n","title":"Mockito. How to mock a static method with args for integration tests","body":"<p>I use mockito-core 5.4.0 and try to mock a static method with arguments, but it doesn't work.</p>\n<pre><code>public record TestObject(\n   String test\n) {}\n\npublic class MyClass {\n   public static String staticMethod(TestObject obj) {\n     // do some logic\n   }\n}\n\n======================================\nvar mock = Mockito.mockStatic(MyClass.class)\nmock.when(() -&gt; MyClass.staticMethod(any()).thenReturn(&quot;&quot;)\n</code></pre>\n<p>And I'd want to return from mocked static method value of TestObject::test.\ne.g. somewhere in deep of my code:</p>\n<pre><code>var testObj = new TestObject(&quot;someTest&quot;);\nvar res = MyClass.staticMethod(testObj);\nsout(res) // here I'd want to see: someTest \n</code></pre>\n<p>How can I implement it?</p>\n"},{"tags":["java","spring-boot","interception","sqslistener"],"owner":{"account_id":29013159,"reputation":1,"user_id":22224205,"display_name":"Ran Spider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689285053,"creation_date":1689285053,"question_id":76683446,"body_markdown":"I&#39;m trying to do some basic actions once I&#39;m getting a message from the queue - for example - setting the thread name.\r\nThis set of methods will be the same for all of the queue listeners. it is similar to the `preHandle()` interceptor concept for REST API.\r\n\r\nconceptually , I want to do something like this:\r\n\r\n```\r\n@Component\r\npublic class GeneralMethodsQueueListenerHandlerInterceptor implements HandlerInterceptor {\r\n\r\n   @Override\r\n   public boolean SqsListenerInterceptorPreHandle(QueueParam paramsStuff) {\r\n      Thread.currentThread().setName(&quot;sqs_&quot; + RandomStringUtils.randomAlphanumeric(4));\r\n      return true;\r\n   }\r\n\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried to prevent creating my own custom SqsListener since the existing one is very straight forward and it fits our needs, except the code duplicatation for those common simple action.","title":"interceptor concept for SqsListener","body":"<p>I'm trying to do some basic actions once I'm getting a message from the queue - for example - setting the thread name.\nThis set of methods will be the same for all of the queue listeners. it is similar to the <code>preHandle()</code> interceptor concept for REST API.</p>\n<p>conceptually , I want to do something like this:</p>\n<pre><code>@Component\npublic class GeneralMethodsQueueListenerHandlerInterceptor implements HandlerInterceptor {\n\n   @Override\n   public boolean SqsListenerInterceptorPreHandle(QueueParam paramsStuff) {\n      Thread.currentThread().setName(&quot;sqs_&quot; + RandomStringUtils.randomAlphanumeric(4));\n      return true;\n   }\n\n}\n</code></pre>\n<p>I've tried to prevent creating my own custom SqsListener since the existing one is very straight forward and it fits our needs, except the code duplicatation for those common simple action.</p>\n"},{"tags":["java","hibernate","maven","jpa","jakarta-ee"],"answers":[{"tags":[],"owner":{"account_id":28969902,"reputation":61,"user_id":22190461,"display_name":"Guillem Chesa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689074268,"creation_date":1689073890,"answer_id":76661386,"question_id":76661033,"body_markdown":"The `hibernate-core-6.2.6.Final.jar` lib doesn&#39;t include that class. Here&#39;s [a link](https://central.sonatype.com/artifact/org.hibernate.common/hibernate-commons-annotations/6.0.6.Final/overview) to the Maven Central&#39;s repository for the Hibernate Commons Annotations lib which includes the class you&#39;re missing.\r\n\r\nI&#39;ve read that some releases might have incompatibility issues that will throw a similar exception than the one you had. In that case, I guess you can just use another version.\r\n\r\nHope this helps!\r\n\r\nEDIT: yesterday I documented [here](https://stackoverflow.com/questions/76653265/having-problems-setting-up-jakarta-ee-on-netbeans-using-glassfish-and-derby/76653460#76653460) some problems I had with GlassFish 7 and Jakarta EE 10. It&#39;s not directly related to this but you may experience them too.","title":"glassfish 7 + jakarta ee 10 + hibernate entity manager java.lang.NoClassDefFoundError: org/hibernate/annotations/common/reflection/ReflectionManager","body":"<p>The <code>hibernate-core-6.2.6.Final.jar</code> lib doesn't include that class. Here's <a href=\"https://central.sonatype.com/artifact/org.hibernate.common/hibernate-commons-annotations/6.0.6.Final/overview\" rel=\"nofollow noreferrer\">a link</a> to the Maven Central's repository for the Hibernate Commons Annotations lib which includes the class you're missing.</p>\n<p>I've read that some releases might have incompatibility issues that will throw a similar exception than the one you had. In that case, I guess you can just use another version.</p>\n<p>Hope this helps!</p>\n<p>EDIT: yesterday I documented <a href=\"https://stackoverflow.com/questions/76653265/having-problems-setting-up-jakarta-ee-on-netbeans-using-glassfish-and-derby/76653460#76653460\">here</a> some problems I had with GlassFish 7 and Jakarta EE 10. It's not directly related to this but you may experience them too.</p>\n"},{"tags":[],"owner":{"account_id":1656177,"reputation":73,"user_id":1525673,"display_name":"Hendrik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689283427,"creation_date":1689079311,"answer_id":76662120,"question_id":76661033,"body_markdown":"I have added now the following jars in the glassfish/domain/domain/lib folder to add the missing classes needed for hibernate:\r\n- hibernate-commons-annotations-6.0.6.Final.jar\r\n- jandex-3.1.2.jar\r\n- byte-buddy-1.12.9.jar\r\n- antlr4-runtime-4.10.1.jar\r\n\r\nWith that all missing classes are added but after the first successful using the entitymanager the next refresh of the page theres an endless loop loading.\r\n\r\nWhen i stop the server the following error message appears:\r\n```\r\n  Error allocating connection: [org.glassfish.resourcebase.resources.api.PoolInfo@f6def2b2[jndiName=test/jpa1, applicationName=null, moduleName=null]: No Pool Meta Data object associated with the pool : org.glassfish.resourcebase.resources.api.PoolInfo@f6def2b2[jndiName=test/jpa1, applicationName=null, moduleName=null]. Try redeploying the application.]]]\r\n\r\n  SQL Error: 0, SQLState: null]]\r\n```\r\n\r\nI found for sql error 0, sqlstate null a post https://stackoverflow.com/questions/37384010/sql-error-0-sqlstate-null\r\n\r\nThe problem was that the EntityManagerFactory was closed and the connection was lost. When i not close the factory the connection will be established as long as the app runs. Thats how i solved it:\r\n```\r\npackage jpa1;\r\n\r\nimport jakarta.persistence.EntityManager;\r\nimport jakarta.persistence.EntityManagerFactory;\r\nimport jakarta.persistence.Persistence;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.annotation.WebServlet;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\n\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n\r\n@WebServlet(name = &quot;homeServlet&quot;, value = &quot;/start&quot;)\r\npublic class HomeServlet extends HttpServlet {\r\n\r\n    EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;persistence-unit&quot;);\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n\r\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n        entityManager.getTransaction().begin();\r\n\r\n        User user1 = new User(&quot;Max&quot;,&quot;Mustermann&quot;, User.Gender.MALE, 10, 50000, 1000);\r\n\r\n        entityManager.persist(user1);\r\n        entityManager.getTransaction().commit();\r\n\r\n        List&lt;User&gt; results = entityManager\r\n                .createQuery(&quot;Select a from User a&quot;, User.class)\r\n                .getResultList();\r\n\r\n\r\n        entityManager.close();\r\n\r\n        req.setAttribute(&quot;test&quot;, results);\r\n        req.getRequestDispatcher(&quot;start.jsp&quot;).forward(req, resp);\r\n    }\r\n}\r\n```\r\n\r\nEDIT: This only works when you always restart the server. If you redeploy it the endless loading loop continues. \r\n\r\nEDIT 2:\r\nAfter putting the EntityManagerFactory out of the servlet class into a seperate class and make it static theres no loop.\r\n\r\nGlobals class:\r\n```\r\npublic class Globals {\r\n\r\n    public static EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;persistence-unit&quot;);\r\n\r\n}\r\n``` ","title":"glassfish 7 + jakarta ee 10 + hibernate entity manager java.lang.NoClassDefFoundError: org/hibernate/annotations/common/reflection/ReflectionManager","body":"<p>I have added now the following jars in the glassfish/domain/domain/lib folder to add the missing classes needed for hibernate:</p>\n<ul>\n<li>hibernate-commons-annotations-6.0.6.Final.jar</li>\n<li>jandex-3.1.2.jar</li>\n<li>byte-buddy-1.12.9.jar</li>\n<li>antlr4-runtime-4.10.1.jar</li>\n</ul>\n<p>With that all missing classes are added but after the first successful using the entitymanager the next refresh of the page theres an endless loop loading.</p>\n<p>When i stop the server the following error message appears:</p>\n<pre><code>  Error allocating connection: [org.glassfish.resourcebase.resources.api.PoolInfo@f6def2b2[jndiName=test/jpa1, applicationName=null, moduleName=null]: No Pool Meta Data object associated with the pool : org.glassfish.resourcebase.resources.api.PoolInfo@f6def2b2[jndiName=test/jpa1, applicationName=null, moduleName=null]. Try redeploying the application.]]]\n\n  SQL Error: 0, SQLState: null]]\n</code></pre>\n<p>I found for sql error 0, sqlstate null a post <a href=\"https://stackoverflow.com/questions/37384010/sql-error-0-sqlstate-null\">SQL Error: 0, SQLState: null</a></p>\n<p>The problem was that the EntityManagerFactory was closed and the connection was lost. When i not close the factory the connection will be established as long as the app runs. Thats how i solved it:</p>\n<pre><code>package jpa1;\n\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.EntityManagerFactory;\nimport jakarta.persistence.Persistence;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\nimport java.io.IOException;\nimport java.util.List;\n\n@WebServlet(name = &quot;homeServlet&quot;, value = &quot;/start&quot;)\npublic class HomeServlet extends HttpServlet {\n\n    EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;persistence-unit&quot;);\n\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\n        entityManager.getTransaction().begin();\n\n        User user1 = new User(&quot;Max&quot;,&quot;Mustermann&quot;, User.Gender.MALE, 10, 50000, 1000);\n\n        entityManager.persist(user1);\n        entityManager.getTransaction().commit();\n\n        List&lt;User&gt; results = entityManager\n                .createQuery(&quot;Select a from User a&quot;, User.class)\n                .getResultList();\n\n\n        entityManager.close();\n\n        req.setAttribute(&quot;test&quot;, results);\n        req.getRequestDispatcher(&quot;start.jsp&quot;).forward(req, resp);\n    }\n}\n</code></pre>\n<p>EDIT: This only works when you always restart the server. If you redeploy it the endless loading loop continues.</p>\n<p>EDIT 2:\nAfter putting the EntityManagerFactory out of the servlet class into a seperate class and make it static theres no loop.</p>\n<p>Globals class:</p>\n<pre><code>public class Globals {\n\n    public static EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;persistence-unit&quot;);\n\n}\n</code></pre>\n"}],"owner":{"account_id":1656177,"reputation":73,"user_id":1525673,"display_name":"Hendrik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76662120,"answer_count":2,"score":2,"last_activity_date":1689283427,"creation_date":1689071363,"question_id":76661033,"body_markdown":"I am trying to get hibernate working with glassfish 7 jdbc. I got the configuration of the pool right and ping is a success. I have put mysql-connector-j-8.0.33.jar and hibernate-core-6.2.6.Final.jar in glassfish/domain/domain1/lib. My persistence.xml looks like this:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;\r\n             version=&quot;3.0&quot;&gt;\r\n\r\n    &lt;persistence-unit name=&quot;persistence-unit&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;jta-data-source&gt;jpa1&lt;/jta-data-source&gt;\r\n        &lt;class&gt;jpa1.User&lt;/class&gt;\r\n        &lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;drop-and-create&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.transaction.jta.platform&quot; value=&quot;org.hibernate.service.jta.platform.internal.SunOneJtaPlatform&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n    &lt;!--\r\n    &lt;persistence-unit name=&quot;persistence-unit&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://127.0.0.1:8889/learn_it_jpa?autoReconnect=true&amp;amp;useSSL=false&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;none&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n    --&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\nWhen I am trying to use hibernate with resource_local there is no error. But when I try to use the jdbc persistence-unit im getting following error:\r\n```\r\njava.lang.NoClassDefFoundError: org/hibernate/annotations/common/reflection/ReflectionManager\r\n```\r\n\r\nI have added hibernate-core-6.2.6.Final.jar in the lib folder of glassfishs domain but i still getting noclassfounderror. With the resource_local persistence-unit i dont get that error. I understand that its possible to add further jar files in the lib folder to solve this problem but i might doing something wrong because the hibernate-core was working with the resource_local persistence-unit.\r\n\r\nMy pom file\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jpa1&lt;/artifactId&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;jpa1 Maven Webapp&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n      &lt;version&gt;8.0.33&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n      &lt;version&gt;10.0.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n      &lt;version&gt;6.2.6.Final&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;jpa1&lt;/finalName&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThe code where I am using jpa\r\n```\r\npackage jpa1;\r\n\r\nimport jakarta.persistence.EntityManager;\r\nimport jakarta.persistence.EntityManagerFactory;\r\nimport jakarta.persistence.Persistence;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.annotation.WebServlet;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\n\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n\r\n@WebServlet(name = &quot;homeServlet&quot;, value = &quot;/start&quot;)\r\npublic class HomeServlet extends HttpServlet {\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n\r\n        EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;persistence-unit&quot;);\r\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n\r\n        entityManager.getTransaction().begin();\r\n\r\n        User user1 = new User(&quot;Max&quot;,&quot;Mustermann&quot;, User.Gender.MALE, 10, 50000, 1000);\r\n\r\n        entityManager.persist(user1);\r\n        entityManager.getTransaction().commit();\r\n\r\n        List&lt;User&gt; results = entityManager\r\n                .createQuery(&quot;Select a from User a&quot;, User.class)\r\n                .getResultList();\r\n\r\n\r\n        entityManager.close();\r\n        entityManagerFactory.close();\r\n\r\n        req.setAttribute(&quot;test&quot;, results);\r\n        req.getRequestDispatcher(&quot;start.jsp&quot;).forward(req, resp);\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe entity:\r\n```\r\npackage jpa1;\r\n\r\nimport jakarta.persistence.*;\r\n\r\n@Entity\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int id;\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;gender&quot;)\r\n    @Enumerated(EnumType.ORDINAL)\r\n    private Gender gender;\r\n\r\n    @Column(name = &quot;age&quot;)\r\n    private int age;\r\n\r\n    @Column(name = &quot;salary&quot;)\r\n    private int salary;\r\n\r\n    @Column(name = &quot;test&quot;)\r\n    private int test;\r\n\r\n    public User() {\r\n\r\n    }\r\n\r\n    public enum Gender {\r\n        MALE,\r\n        FEMALE\r\n    }\r\n\r\n    public User(String firstName, String lastName, Gender gender, int age, int salary, int test) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.gender = gender;\r\n        this.age = age;\r\n        this.salary = salary;\r\n        this.test = test;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public Gender getGender() {\r\n        return gender;\r\n    }\r\n\r\n    public String getGenderStr() {\r\n        switch (gender) {\r\n            case MALE -&gt; {\r\n                return &quot;M&#228;nnlich&quot;;\r\n            }\r\n            case FEMALE -&gt; {\r\n                return &quot;Weiblich&quot;;\r\n            }\r\n            default -&gt; {\r\n                return &quot;&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhat I am using:\r\n- glassfish 7.06\r\n- hibernate 6.2.6","title":"glassfish 7 + jakarta ee 10 + hibernate entity manager java.lang.NoClassDefFoundError: org/hibernate/annotations/common/reflection/ReflectionManager","body":"<p>I am trying to get hibernate working with glassfish 7 jdbc. I got the configuration of the pool right and ping is a success. I have put mysql-connector-j-8.0.33.jar and hibernate-core-6.2.6.Final.jar in glassfish/domain/domain1/lib. My persistence.xml looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;\n             version=&quot;3.0&quot;&gt;\n\n    &lt;persistence-unit name=&quot;persistence-unit&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;jta-data-source&gt;jpa1&lt;/jta-data-source&gt;\n        &lt;class&gt;jpa1.User&lt;/class&gt;\n        &lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;drop-and-create&quot;/&gt;\n            &lt;property name=&quot;hibernate.transaction.jta.platform&quot; value=&quot;org.hibernate.service.jta.platform.internal.SunOneJtaPlatform&quot;/&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n    &lt;!--\n    &lt;persistence-unit name=&quot;persistence-unit&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://127.0.0.1:8889/learn_it_jpa?autoReconnect=true&amp;amp;useSSL=false&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;root&quot;/&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;none&quot;/&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n    --&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>When I am trying to use hibernate with resource_local there is no error. But when I try to use the jdbc persistence-unit im getting following error:</p>\n<pre><code>java.lang.NoClassDefFoundError: org/hibernate/annotations/common/reflection/ReflectionManager\n</code></pre>\n<p>I have added hibernate-core-6.2.6.Final.jar in the lib folder of glassfishs domain but i still getting noclassfounderror. With the resource_local persistence-unit i dont get that error. I understand that its possible to add further jar files in the lib folder to solve this problem but i might doing something wrong because the hibernate-core was working with the resource_local persistence-unit.</p>\n<p>My pom file</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;jpa1&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;jpa1 Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n      &lt;version&gt;8.0.33&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n      &lt;version&gt;10.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;6.2.6.Final&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;jpa1&lt;/finalName&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The code where I am using jpa</p>\n<pre><code>package jpa1;\n\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.EntityManagerFactory;\nimport jakarta.persistence.Persistence;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\nimport java.io.IOException;\nimport java.util.List;\n\n@WebServlet(name = &quot;homeServlet&quot;, value = &quot;/start&quot;)\npublic class HomeServlet extends HttpServlet {\n\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n\n        EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;persistence-unit&quot;);\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\n\n        entityManager.getTransaction().begin();\n\n        User user1 = new User(&quot;Max&quot;,&quot;Mustermann&quot;, User.Gender.MALE, 10, 50000, 1000);\n\n        entityManager.persist(user1);\n        entityManager.getTransaction().commit();\n\n        List&lt;User&gt; results = entityManager\n                .createQuery(&quot;Select a from User a&quot;, User.class)\n                .getResultList();\n\n\n        entityManager.close();\n        entityManagerFactory.close();\n\n        req.setAttribute(&quot;test&quot;, results);\n        req.getRequestDispatcher(&quot;start.jsp&quot;).forward(req, resp);\n    }\n}\n\n</code></pre>\n<p>The entity:</p>\n<pre><code>package jpa1;\n\nimport jakarta.persistence.*;\n\n@Entity\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name = &quot;gender&quot;)\n    @Enumerated(EnumType.ORDINAL)\n    private Gender gender;\n\n    @Column(name = &quot;age&quot;)\n    private int age;\n\n    @Column(name = &quot;salary&quot;)\n    private int salary;\n\n    @Column(name = &quot;test&quot;)\n    private int test;\n\n    public User() {\n\n    }\n\n    public enum Gender {\n        MALE,\n        FEMALE\n    }\n\n    public User(String firstName, String lastName, Gender gender, int age, int salary, int test) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.gender = gender;\n        this.age = age;\n        this.salary = salary;\n        this.test = test;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public Gender getGender() {\n        return gender;\n    }\n\n    public String getGenderStr() {\n        switch (gender) {\n            case MALE -&gt; {\n                return &quot;Männlich&quot;;\n            }\n            case FEMALE -&gt; {\n                return &quot;Weiblich&quot;;\n            }\n            default -&gt; {\n                return &quot;&quot;;\n            }\n        }\n    }\n\n    public int getAge() {\n        return age;\n    }\n}\n\n</code></pre>\n<p>What I am using:</p>\n<ul>\n<li>glassfish 7.06</li>\n<li>hibernate 6.2.6</li>\n</ul>\n"},{"tags":["java","arraylist","pagination"],"comments":[{"owner":{"account_id":137131,"reputation":9069,"user_id":341117,"accept_rate":85,"display_name":"Ravindra Gullapalli"},"score":0,"creation_date":1335349237,"post_id":10313627,"comment_id":13275609,"body_markdown":"Check this. It may help you - http://stackoverflow.com/questions/8755619/java-arraylist-navigation","body":"Check this. It may help you - <a href=\"http://stackoverflow.com/questions/8755619/java-arraylist-navigation\" title=\"java arraylist navigation\">stackoverflow.com/questions/8755619/java-arraylist-navigatio&zwnj;&#8203;n</a>"}],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335349767,"creation_date":1335349767,"answer_id":10313837,"question_id":10313627,"body_markdown":"Change\r\n\r\n    if (moveCounter &gt; -1 &amp;&amp; moveCounter &lt;= archive.size())\r\n    {\r\n      renderValues(moveCounter-1, true);\r\n    }\r\n\r\nto\r\n\r\n    if (moveCounter &gt; 0 &amp;&amp; moveCounter &lt;= archive.size())\r\n    {\r\n      renderValues(moveCounter-1, true);\r\n    }\r\n","title":"Paginating an ArrayList","body":"<p>Change</p>\n\n<pre><code>if (moveCounter &gt; -1 &amp;&amp; moveCounter &lt;= archive.size())\n{\n  renderValues(moveCounter-1, true);\n}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>if (moveCounter &gt; 0 &amp;&amp; moveCounter &lt;= archive.size())\n{\n  renderValues(moveCounter-1, true);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":136706,"reputation":12442,"user_id":340390,"accept_rate":81,"display_name":"Bitmap"},"score":0,"creation_date":1335353570,"post_id":10314323,"comment_id":13277180,"body_markdown":"Doing it this way, would `renderValues(..)` stay as it is or you think the second option stands fit - or perhaps needs changing?!","body":"Doing it this way, would <code>renderValues(..)</code> stay as it is or you think the second option stands fit - or perhaps needs changing?!"},{"owner":{"account_id":120028,"reputation":35744,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"score":0,"creation_date":1335356162,"post_id":10314323,"comment_id":13278159,"body_markdown":"Well, I don&#39;t understand what &#39;renderValues&#39; is doing. The variable names are quiete confusing. StartIndex and checkSteps are mutable? Maybe you better name them i or n. I thought the job of pagePrev is to set the scope somehow back - from 17-22 to 12-17 for example, and to check for boundary violation (prevent -3). The later work of layout is done in renderValues. Make short methods which have only one task to solve.","body":"Well, I don&#39;t understand what &#39;renderValues&#39; is doing. The variable names are quiete confusing. StartIndex and checkSteps are mutable? Maybe you better name them i or n. I thought the job of pagePrev is to set the scope somehow back - from 17-22 to 12-17 for example, and to check for boundary violation (prevent -3). The later work of layout is done in renderValues. Make short methods which have only one task to solve."}],"tags":[],"owner":{"account_id":120028,"reputation":35744,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1335351795,"creation_date":1335351795,"answer_id":10314323,"question_id":10313627,"body_markdown":"I would do it like this: \r\n\r\nI&#39;m not sure what renderValues does, and whether we have to substract 1 or maybe defaultStep from the upper bound of the moveCounter.\r\n\r\n    private void pageMove (int step)\r\n    {\r\n    \tmoveCounter = moveCounter + step;\r\n    \tif (moveCounter &lt; 0) moveCounter = 0;\r\n    \tif (moveCounter &gt; values.size ()) moveCounter = values.size ();\r\n    \trenderValues (currentIndex, false);\r\n    }\r\n    \r\n    private void pageNext ()\r\n    {\r\n    \tpageMove (defaultStep);\r\n    }\r\n    \r\n    private void pagePrevious ()\r\n    {\r\n    \tpageMove (-defaultStep);\r\n    }\r\n\r\n\r\nThe first 3 lines could be packed into two big ternary experssions like so: \r\n    \r\n    mc = ((mc + s) &lt; 0) ? 0 : ((mc + s) &gt; vs) ? vs : (mc + s); \r\n\r\nbut the 3 lines solution is better to follow. ","title":"Paginating an ArrayList","body":"<p>I would do it like this: </p>\n\n<p>I'm not sure what renderValues does, and whether we have to substract 1 or maybe defaultStep from the upper bound of the moveCounter.</p>\n\n<pre><code>private void pageMove (int step)\n{\n    moveCounter = moveCounter + step;\n    if (moveCounter &lt; 0) moveCounter = 0;\n    if (moveCounter &gt; values.size ()) moveCounter = values.size ();\n    renderValues (currentIndex, false);\n}\n\nprivate void pageNext ()\n{\n    pageMove (defaultStep);\n}\n\nprivate void pagePrevious ()\n{\n    pageMove (-defaultStep);\n}\n</code></pre>\n\n<p>The first 3 lines could be packed into two big ternary experssions like so: </p>\n\n<pre><code>mc = ((mc + s) &lt; 0) ? 0 : ((mc + s) &gt; vs) ? vs : (mc + s); \n</code></pre>\n\n<p>but the 3 lines solution is better to follow. </p>\n"},{"tags":[],"owner":{"account_id":1140294,"reputation":561,"user_id":1124409,"display_name":"Qussay Najjar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1469969770,"creation_date":1469969770,"answer_id":38684194,"question_id":10313627,"body_markdown":"Based on &quot;pscuderi&quot; [solution here][1] \r\nI&#39;ve built a wrapping class that can be helpful for someone looking for this:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n\r\n    public class PaginatedList&lt;T&gt; {\r\n\r\n\tprivate static final int DEFAULT_PAGE_SIZE = 10;\r\n\t\r\n\tprivate List&lt;T&gt; list;\r\n\tprivate List&lt;List&lt;T&gt;&gt; listOfPages;\r\n\tprivate int pageSize = DEFAULT_PAGE_SIZE;\r\n\tprivate int currentPage = 0;\r\n\t\r\n\tpublic PaginatedList(List&lt;T&gt; list) {\r\n\t\tthis.list = list;\r\n\t\tinitPages();\r\n\t}\r\n\t\r\n\tpublic PaginatedList(List&lt;T&gt; list, int pageSize) {\r\n\t\tthis.list = list;\r\n\t\tthis.pageSize = pageSize;\r\n\t\tinitPages();\r\n\t}\r\n\t\r\n\tpublic List&lt;T&gt; getPage(int pageNumber) {\r\n\t\tif (listOfPages == null || \r\n\t\t\tpageNumber &gt; listOfPages.size() ||\r\n\t\t\tpageNumber &lt; 1) {\r\n\t\t\treturn Collections.emptyList();\r\n\t\t}\r\n\t\t\r\n\t\tcurrentPage = pageNumber;\r\n\t\tList&lt;T&gt; page = listOfPages.get(--pageNumber);\r\n\t\treturn page;\r\n\t}\r\n\t\r\n\tpublic int numberOfPages() {\r\n\t\tif (listOfPages == null) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\t\r\n\t\treturn listOfPages.size();\r\n\t}\r\n\t\r\n\tpublic List&lt;T&gt; nextPage() {\r\n\t\tList&lt;T&gt; page = getPage(++currentPage);\r\n\t    return page;\r\n\t}\r\n\t\r\n\tpublic List&lt;T&gt; previousPage() {\r\n\t\tList&lt;T&gt; page = getPage(--currentPage);\r\n\t    return page;\r\n\t}\r\n\t\r\n\tpublic void initPages() {\r\n\t    if (list == null || listOfPages != null) {\r\n\t    \treturn;\r\n\t    }\r\n\t    \r\n\t    if (pageSize &lt;= 0 || pageSize &gt; list.size()) {\r\n\t    \tpageSize = list.size();\r\n\t    }\r\n\t    \r\n\t    int numOfPages = (int) Math.ceil((double) list.size() / (double) pageSize);\r\n\t    listOfPages = new ArrayList&lt;List&lt;T&gt;&gt;(numOfPages);\r\n\t    for (int pageNum = 0; pageNum &lt; numOfPages;) {\r\n\t    \tint from = pageNum * pageSize;\r\n\t    \tint to = Math.min(++pageNum * pageSize, list.size());\r\n\t    \tlistOfPages.add(list.subList(from, to));\r\n\t    }\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n\t\tfor (int i = 1; i &lt;= 62; i++) {\r\n\t\t\tlist.add(i);\r\n\t\t}\r\n\t\t\r\n\t\tPaginatedList&lt;Integer&gt; paginatedList = new PaginatedList&lt;Integer&gt;(list);\r\n\t\twhile (true) {\r\n\t\t\tList&lt;Integer&gt; page = paginatedList.nextPage();\r\n\t\t\tif (page == null || page.isEmpty()) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (Integer value : page) {\r\n\t\t\t\tSystem.out.println(value);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;------------&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/22947052/1124409","title":"Paginating an ArrayList","body":"<p>Based on \"pscuderi\" <a href=\"https://stackoverflow.com/a/22947052/1124409\">solution here</a> \nI've built a wrapping class that can be helpful for someone looking for this:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class PaginatedList&lt;T&gt; {\n\nprivate static final int DEFAULT_PAGE_SIZE = 10;\n\nprivate List&lt;T&gt; list;\nprivate List&lt;List&lt;T&gt;&gt; listOfPages;\nprivate int pageSize = DEFAULT_PAGE_SIZE;\nprivate int currentPage = 0;\n\npublic PaginatedList(List&lt;T&gt; list) {\n    this.list = list;\n    initPages();\n}\n\npublic PaginatedList(List&lt;T&gt; list, int pageSize) {\n    this.list = list;\n    this.pageSize = pageSize;\n    initPages();\n}\n\npublic List&lt;T&gt; getPage(int pageNumber) {\n    if (listOfPages == null || \n        pageNumber &gt; listOfPages.size() ||\n        pageNumber &lt; 1) {\n        return Collections.emptyList();\n    }\n\n    currentPage = pageNumber;\n    List&lt;T&gt; page = listOfPages.get(--pageNumber);\n    return page;\n}\n\npublic int numberOfPages() {\n    if (listOfPages == null) {\n        return 0;\n    }\n\n    return listOfPages.size();\n}\n\npublic List&lt;T&gt; nextPage() {\n    List&lt;T&gt; page = getPage(++currentPage);\n    return page;\n}\n\npublic List&lt;T&gt; previousPage() {\n    List&lt;T&gt; page = getPage(--currentPage);\n    return page;\n}\n\npublic void initPages() {\n    if (list == null || listOfPages != null) {\n        return;\n    }\n\n    if (pageSize &lt;= 0 || pageSize &gt; list.size()) {\n        pageSize = list.size();\n    }\n\n    int numOfPages = (int) Math.ceil((double) list.size() / (double) pageSize);\n    listOfPages = new ArrayList&lt;List&lt;T&gt;&gt;(numOfPages);\n    for (int pageNum = 0; pageNum &lt; numOfPages;) {\n        int from = pageNum * pageSize;\n        int to = Math.min(++pageNum * pageSize, list.size());\n        listOfPages.add(list.subList(from, to));\n    }\n}\n\npublic static void main(String[] args) {\n    List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n    for (int i = 1; i &lt;= 62; i++) {\n        list.add(i);\n    }\n\n    PaginatedList&lt;Integer&gt; paginatedList = new PaginatedList&lt;Integer&gt;(list);\n    while (true) {\n        List&lt;Integer&gt; page = paginatedList.nextPage();\n        if (page == null || page.isEmpty()) {\n            break;\n        }\n\n        for (Integer value : page) {\n            System.out.println(value);\n        }\n\n        System.out.println(\"------------\");\n    }\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4277590,"reputation":455,"user_id":3497854,"accept_rate":45,"display_name":"NitishDeshpande"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629281849,"creation_date":1629281849,"answer_id":68830522,"question_id":10313627,"body_markdown":"Here is a simple java function for pagination. Note that the `page` starts from 0 (first page)\r\n\r\n    public List&lt;Object&gt; pagedResponse(List&lt;Object&gt; allItems, int page, int limit){\r\n        int totalItems = allItems.size();\r\n        int fromIndex = page*limit;\r\n        int toIndex = fromIndex+limit;\r\n        if(fromIndex &lt;= totalItems) {\r\n            if(toIndex &gt; totalItems){\r\n                toIndex = totalItems;\r\n            }\r\n            return allItems.subList(fromIndex, toIndex);\r\n        }else {\r\n            return Collections.emptyList();\r\n        }\r\n    }","title":"Paginating an ArrayList","body":"<p>Here is a simple java function for pagination. Note that the <code>page</code> starts from 0 (first page)</p>\n<pre><code>public List&lt;Object&gt; pagedResponse(List&lt;Object&gt; allItems, int page, int limit){\n    int totalItems = allItems.size();\n    int fromIndex = page*limit;\n    int toIndex = fromIndex+limit;\n    if(fromIndex &lt;= totalItems) {\n        if(toIndex &gt; totalItems){\n            toIndex = totalItems;\n        }\n        return allItems.subList(fromIndex, toIndex);\n    }else {\n        return Collections.emptyList();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1878619,"reputation":3619,"user_id":1699268,"accept_rate":83,"display_name":"MayurB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689283401,"creation_date":1689283401,"answer_id":76683321,"question_id":10313627,"body_markdown":"    List&lt;List&lt;T&gt;&gt; partition = Lists.partition(list, pageSize);\r\n\r\nUse the index as the page number to fetch page.","title":"Paginating an ArrayList","body":"<pre><code>List&lt;List&lt;T&gt;&gt; partition = Lists.partition(list, pageSize);\n</code></pre>\n<p>Use the index as the page number to fetch page.</p>\n"}],"owner":{"account_id":136706,"reputation":12442,"user_id":340390,"accept_rate":81,"display_name":"Bitmap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12776,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10314323,"answer_count":5,"score":1,"last_activity_date":1689283401,"creation_date":1335348862,"question_id":10313627,"body_markdown":"I am trying to create a simple pagination routine for values held in an `ArrayList`. Basically what I want to do is render the first five elements in the `ArrayList` at first go. And then when users click on `Next (increment by another 5)` and `Previous (decrease by 5)`.\r\n\r\nMy logic looks like this:\r\n\r\n    class foo\r\n    {\r\n       private static final int defaultStep = 5;\r\n       private int moveCounter;\r\n       private List&lt;String&gt; values;\r\n       \r\n       public foo()\r\n       {\r\n         values = new ArrayList&lt;String&gt;();\r\n         values.add(&quot;Fiber Channel&quot;);\r\n         values.add(&quot;Copper Channel&quot;);\r\n         ...\r\n       }\r\n       \r\n      private void pageNext()\r\n      {\r\n       if (moveCounter &gt; -1 &amp;&amp; moveCounter &lt; values.size())\r\n       {\r\n        int currentIndex = (moveCounter + 1);\r\n        renderValues(currentIndex, false);\r\n       }\r\n      }\r\n    \r\n      private void pagePrevious()\r\n      {\r\n       if (moveCounter &gt; -1 &amp;&amp; moveCounter &lt;= values.size())\r\n       {\r\n        renderValues(moveCounter-1, true);\r\n       }\r\n      }\r\n     \r\n     private void renderValues(int startIndex, boolean isPreviousCall)\r\n     {\r\n      if (startIndex &gt; -1)\r\n      {\r\n       StringBuilder html = new StringBuilder();\r\n       List&lt;String&gt; valuesToRender = new ArrayList&lt;String&gt;();\r\n       int checkSteps = 1;\r\n       while (startIndex &lt; values.size())\r\n       {\r\n         valuesToRender.add(values.get(startIndex));\r\n         if (checkSteps == defaultStep) break;\r\n         startIndex++;\r\n         checkSteps++;\r\n       }\r\n       moveCounter = startIndex;\r\n        \r\n       //TODO: Build html String\r\n       ...\r\n       }\r\n     }\r\n    }\r\n\r\nI have an issue with `pagePrevious` call, can you guys help me build the `valuesToRender` **5-steps** up `values array` before adding the value to render to the `valuesToRender` array.\r\n\r\nI tried doing something like this also:\r\n\r\n      for (int start = startIndex, end = values.size() - 1; start &lt; end; start++, end--)\r\n      {\r\n        if (isPreviousCall) valuesToRender.add(values.get(end));\r\n        else valuesToRender.add(values.get(start));\r\n\r\n        if (checkSteps == defaultStep) break;\r\n        checkSteps++;\r\n      }\r\n\r\nBut this doesn&#39;t seems to work neither. Can you guys spot and help me fix this issue.\r\nThanks Guys.","title":"Paginating an ArrayList","body":"<p>I am trying to create a simple pagination routine for values held in an <code>ArrayList</code>. Basically what I want to do is render the first five elements in the <code>ArrayList</code> at first go. And then when users click on <code>Next (increment by another 5)</code> and <code>Previous (decrease by 5)</code>.</p>\n\n<p>My logic looks like this:</p>\n\n<pre><code>class foo\n{\n   private static final int defaultStep = 5;\n   private int moveCounter;\n   private List&lt;String&gt; values;\n\n   public foo()\n   {\n     values = new ArrayList&lt;String&gt;();\n     values.add(\"Fiber Channel\");\n     values.add(\"Copper Channel\");\n     ...\n   }\n\n  private void pageNext()\n  {\n   if (moveCounter &gt; -1 &amp;&amp; moveCounter &lt; values.size())\n   {\n    int currentIndex = (moveCounter + 1);\n    renderValues(currentIndex, false);\n   }\n  }\n\n  private void pagePrevious()\n  {\n   if (moveCounter &gt; -1 &amp;&amp; moveCounter &lt;= values.size())\n   {\n    renderValues(moveCounter-1, true);\n   }\n  }\n\n private void renderValues(int startIndex, boolean isPreviousCall)\n {\n  if (startIndex &gt; -1)\n  {\n   StringBuilder html = new StringBuilder();\n   List&lt;String&gt; valuesToRender = new ArrayList&lt;String&gt;();\n   int checkSteps = 1;\n   while (startIndex &lt; values.size())\n   {\n     valuesToRender.add(values.get(startIndex));\n     if (checkSteps == defaultStep) break;\n     startIndex++;\n     checkSteps++;\n   }\n   moveCounter = startIndex;\n\n   //TODO: Build html String\n   ...\n   }\n }\n}\n</code></pre>\n\n<p>I have an issue with <code>pagePrevious</code> call, can you guys help me build the <code>valuesToRender</code> <strong>5-steps</strong> up <code>values array</code> before adding the value to render to the <code>valuesToRender</code> array.</p>\n\n<p>I tried doing something like this also:</p>\n\n<pre><code>  for (int start = startIndex, end = values.size() - 1; start &lt; end; start++, end--)\n  {\n    if (isPreviousCall) valuesToRender.add(values.get(end));\n    else valuesToRender.add(values.get(start));\n\n    if (checkSteps == defaultStep) break;\n    checkSteps++;\n  }\n</code></pre>\n\n<p>But this doesn't seems to work neither. Can you guys spot and help me fix this issue.\nThanks Guys.</p>\n"},{"tags":["java","android","google-signin","googlesigninaccount"],"owner":{"account_id":17216852,"reputation":23,"user_id":12464661,"display_name":"fiefie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689282971,"creation_date":1689266735,"question_id":76681658,"body_markdown":"my app currently has a share button which upon click opens a bottom navigation that slides up from the bottom of the android os screen like this by [Jim Blackler][1]:\r\n[Share bottom slide-in menu](https://i.stack.imgur.com/FQKIp.png)\r\n\r\nmy current google sign-in pop window to choose an account:\r\n[my current google sign-in pop-up window](https://i.stack.imgur.com/81Gfa.png)\r\n\r\nwhat I want:\r\n[just like the share bottom slide-in google sign-in/account chooser](https://i.stack.imgur.com/ODW76.png)\r\n\r\n\r\n\r\nThe code I use to do the share, below, I have not successfully changed into a google sign-in prompt to match the share bottom nav slide-in prompt.\r\n\r\nthis is the Share code I use from this website [here](https://stackoverflow.com/questions/5646104/how-to-implement-the-share-function-of-a-android-app) answer by [Jim Blackler][1]:\r\n```\r\nfinal Intent intent = new Intent(Intent.ACTION_SEND);\r\n        intent.setType(&quot;text/plain&quot;);\r\n        intent.putExtra(Intent.EXTRA_TEXT, pageUrl);\r\n\r\n        try {\r\n          startActivity(Intent.createChooser(intent, &quot;Select an action&quot;));\r\n        } catch (android.content.ActivityNotFoundException ex) {\r\n          // (handle error)\r\n        }\r\n```\r\n\r\nmy current google sign-in code:\r\n\r\nvariable:\r\n```\r\nprivate GoogleSignInClient client;\r\n```\r\n\r\nin &quot;onCreate()&quot; method:\r\n```\r\nGoogleSignInOptions options = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(getString(R.string.default_web_client_id))\r\n                .requestEmail()\r\n                        .build();\r\n\r\n        client = GoogleSignIn.getClient(this,options);\r\n```\r\n\r\nin onNavigationItemSelected method:\r\n```\r\nIntent intent = client.getSignInIntent();\r\n            startActivityForResult(intent,123);\r\n```\r\n\r\nYour help and time will be greatly appreciated.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/82515/jim-blackler","title":"Have Google pop-up window account sign in want bottom nav slide-up menu like the Share menu version in pics attached for my android studio app","body":"<p>my app currently has a share button which upon click opens a bottom navigation that slides up from the bottom of the android os screen like this by <a href=\"https://stackoverflow.com/users/82515/jim-blackler\">Jim Blackler</a>:\n<a href=\"https://i.stack.imgur.com/FQKIp.png\" rel=\"nofollow noreferrer\">Share bottom slide-in menu</a></p>\n<p>my current google sign-in pop window to choose an account:\n<a href=\"https://i.stack.imgur.com/81Gfa.png\" rel=\"nofollow noreferrer\">my current google sign-in pop-up window</a></p>\n<p>what I want:\n<a href=\"https://i.stack.imgur.com/ODW76.png\" rel=\"nofollow noreferrer\">just like the share bottom slide-in google sign-in/account chooser</a></p>\n<p>The code I use to do the share, below, I have not successfully changed into a google sign-in prompt to match the share bottom nav slide-in prompt.</p>\n<p>this is the Share code I use from this website <a href=\"https://stackoverflow.com/questions/5646104/how-to-implement-the-share-function-of-a-android-app\">here</a> answer by <a href=\"https://stackoverflow.com/users/82515/jim-blackler\">Jim Blackler</a>:</p>\n<pre><code>final Intent intent = new Intent(Intent.ACTION_SEND);\n        intent.setType(&quot;text/plain&quot;);\n        intent.putExtra(Intent.EXTRA_TEXT, pageUrl);\n\n        try {\n          startActivity(Intent.createChooser(intent, &quot;Select an action&quot;));\n        } catch (android.content.ActivityNotFoundException ex) {\n          // (handle error)\n        }\n</code></pre>\n<p>my current google sign-in code:</p>\n<p>variable:</p>\n<pre><code>private GoogleSignInClient client;\n</code></pre>\n<p>in &quot;onCreate()&quot; method:</p>\n<pre><code>GoogleSignInOptions options = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestIdToken(getString(R.string.default_web_client_id))\n                .requestEmail()\n                        .build();\n\n        client = GoogleSignIn.getClient(this,options);\n</code></pre>\n<p>in onNavigationItemSelected method:</p>\n<pre><code>Intent intent = client.getSignInIntent();\n            startActivityForResult(intent,123);\n</code></pre>\n<p>Your help and time will be greatly appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":252190,"reputation":1445,"user_id":530055,"display_name":"Isaiah van der Elst"},"score":0,"creation_date":1688591430,"post_id":76623934,"comment_id":135095858,"body_markdown":"I think you&#39;d be hard pressed to find a machine that can support 50K concurrent users. I&#39;d think about using a load balancer... Also, you could look into using non-block I/O. Requests share threads with non-blocking I/O","body":"I think you&#39;d be hard pressed to find a machine that can support 50K concurrent users. I&#39;d think about using a load balancer... Also, you could look into using non-block I/O. Requests share threads with non-blocking I/O"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":1,"creation_date":1688592225,"post_id":76623934,"comment_id":135096007,"body_markdown":"Smaller thread stack.  More memory available to JVM.  Increased process/resource limits.  But I think the design that needs one thread per socket is wrong.","body":"Smaller thread stack.  More memory available to JVM.  Increased process/resource limits.  But I think the design that needs one thread per socket is wrong."},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":1,"creation_date":1688595447,"post_id":76623934,"comment_id":135096390,"body_markdown":"You may try to check `cat /proc/sys/kernel/threads-max`, perhaps there is a limit you&#39;re facing. The suggestions about reducing stack size above also make sense, each thread in a Java program takes a significant amount of native memory in the JVM process for its stack, so it should help too.","body":"You may try to check <code>cat &#47;proc&#47;sys&#47;kernel&#47;threads-max</code>, perhaps there is a limit you&#39;re facing. The suggestions about reducing stack size above also make sense, each thread in a Java program takes a significant amount of native memory in the JVM process for its stack, so it should help too."},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1688595565,"post_id":76623934,"comment_id":135096400,"body_markdown":"But please, be aware that having a large number of threads might not be the most efficient way to handle many concurrent tasks due to context-switching overhead, so maybe you&#39;d like to consider alternatives like using a thread pool","body":"But please, be aware that having a large number of threads might not be the most efficient way to handle many concurrent tasks due to context-switching overhead, so maybe you&#39;d like to consider alternatives like using a thread pool"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688600785,"post_id":76623934,"comment_id":135096881,"body_markdown":"See https://stackoverflow.com/questions/17126998/why-java-nio-can-be-superior-to-standard-java-sockets and https://stackoverflow.com/questions/65100995/java-nio-based-scalable-non-blocking-tcp-client-server-design-recommend-way-to","body":"See <a href=\"https://stackoverflow.com/questions/17126998/why-java-nio-can-be-superior-to-standard-java-sockets\" title=\"why java nio can be superior to standard java sockets\">stackoverflow.com/questions/17126998/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/65100995/java-nio-based-scalable-non-blocking-tcp-client-server-design-recommend-way-to\" title=\"java nio based scalable non blocking tcp client server design recommend way to\">stackoverflow.com/questions/65100995/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688607330,"post_id":76623934,"comment_id":135097457,"body_markdown":"Buy more memory.","body":"Buy more memory."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1688629623,"post_id":76623934,"comment_id":135099994,"body_markdown":"You don&#39;t need 50,000 threads. You&#39;re model of thread per client is broken, you should try to think of clients as tasks that are performed by threads. That way you have a thread pool to do your work. Although with [Virtual Threads](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/Executors.html#newVirtualThreadPerTaskExecutor()) you might be able to use a thread per client.","body":"You don&#39;t need 50,000 threads. You&#39;re model of thread per client is broken, you should try to think of clients as tasks that are performed by threads. That way you have a thread pool to do your work. Although with <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/Executors.html#newVirtualThreadPerTaskExecutor()\" rel=\"nofollow noreferrer\">Virtual Threads</a> you might be able to use a thread per client."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1688653251,"post_id":76623934,"comment_id":135105382,"body_markdown":"You may want to consider [Project Loom](https://developer.okta.com/blog/2022/08/26/state-of-java-project-loom) in recent versions of OpenJDK.","body":"You may want to consider <a href=\"https://developer.okta.com/blog/2022/08/26/state-of-java-project-loom\" rel=\"nofollow noreferrer\">Project Loom</a> in recent versions of OpenJDK."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1688653743,"post_id":76623934,"comment_id":135105502,"body_markdown":"[See also](https://wiki.openjdk.org/display/loom/Main)","body":"<a href=\"https://wiki.openjdk.org/display/loom/Main\" rel=\"nofollow noreferrer\">See also</a>"},{"owner":{"account_id":9765477,"reputation":31,"user_id":7239073,"display_name":"Dominick"},"score":0,"creation_date":1688683714,"post_id":76623934,"comment_id":135110747,"body_markdown":"I ran the server on a window 10 laptop with an 3rd gen i5 and 8GB RAM.\nI was able to accept and maintain 41K connection (running 6 clients on 2 other different machines). It did chew up all the RAM, but CPU utilization was between 2 and 5%, with picks at 20% while clients where joining in (bombing the poor thing), this is using TLSv1.3 which comes with a price I am sure.\nSo I don&#39;t think the actually use of threads for doing each client work is such a problem.\nThere is definitely a hard limitation of 9246 maximum threads Debian 11 is imposing on the JVM, and I can&#39;t see to change that.","body":"I ran the server on a window 10 laptop with an 3rd gen i5 and 8GB RAM. I was able to accept and maintain 41K connection (running 6 clients on 2 other different machines). It did chew up all the RAM, but CPU utilization was between 2 and 5%, with picks at 20% while clients where joining in (bombing the poor thing), this is using TLSv1.3 which comes with a price I am sure. So I don&#39;t think the actually use of threads for doing each client work is such a problem. There is definitely a hard limitation of 9246 maximum threads Debian 11 is imposing on the JVM, and I can&#39;t see to change that."},{"owner":{"account_id":252190,"reputation":1445,"user_id":530055,"display_name":"Isaiah van der Elst"},"score":0,"creation_date":1688684663,"post_id":76623934,"comment_id":135110836,"body_markdown":"@Dominick I&#39;m not sure who you&#39;re making this application for. In an enterprise environment, you&#39;d distribute the load over a number of machines. Using NIO and virtual threads is a more efficient mechanism, but scaling out is more important. #1 I&#39;d focus on making the application stateless so that it can scale out. Then #2 make the process efficient and make it so it can scale up.","body":"@Dominick I&#39;m not sure who you&#39;re making this application for. In an enterprise environment, you&#39;d distribute the load over a number of machines. Using NIO and virtual threads is a more efficient mechanism, but scaling out is more important. #1 I&#39;d focus on making the application stateless so that it can scale out. Then #2 make the process efficient and make it so it can scale up."}],"answers":[{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688600293,"post_id":76624132,"comment_id":135096842,"body_markdown":"Please read https://stackoverflow.com/questions/4967885/jvm-option-xss-what-does-it-do-exactly","body":"Please read <a href=\"https://stackoverflow.com/questions/4967885/jvm-option-xss-what-does-it-do-exactly\" title=\"jvm option xss what does it do exactly\">stackoverflow.com/questions/4967885/&hellip;</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1688600422,"post_id":76624132,"comment_id":135096852,"body_markdown":"There is no suggestion that the JVM is running out of heap, and suggesting a 1GB stack size *for each thread* is completely inappropriate.","body":"There is no suggestion that the JVM is running out of heap, and suggesting a 1GB stack size <i>for each thread</i> is completely inappropriate."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688619772,"post_id":76624132,"comment_id":135098455,"body_markdown":"The first of your suggestions will make the OPs problems much worse. The second will make them no better. I can think of no better reasons for downvoting an answer.","body":"The first of your suggestions will make the OPs problems much worse. The second will make them no better. I can think of no better reasons for downvoting an answer."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688619871,"post_id":76624132,"comment_id":135098466,"body_markdown":"Of course you can improve your answer. Downvotes can be withdrawn.","body":"Of course you can improve your answer. Downvotes can be withdrawn."},{"owner":{"account_id":9765477,"reputation":31,"user_id":7239073,"display_name":"Dominick"},"score":0,"creation_date":1688671231,"post_id":76624132,"comment_id":135108831,"body_markdown":"the thread-max returns 63264, no idea how many of this threads are used by the system, top reports 227 total task, and plenty memory, especially if including the swap file.\nstarting the JVM with the -Xss1024k did not change the outcome, seems to throw exceptions right around 9400 ish active sockets (each spawning a thread to listen and do stuff).\nI am going to run the server on window to see if this is a debian JVM implementation issue.","body":"the thread-max returns 63264, no idea how many of this threads are used by the system, top reports 227 total task, and plenty memory, especially if including the swap file. starting the JVM with the -Xss1024k did not change the outcome, seems to throw exceptions right around 9400 ish active sockets (each spawning a thread to listen and do stuff). I am going to run the server on window to see if this is a debian JVM implementation issue."},{"owner":{"account_id":252190,"reputation":1445,"user_id":530055,"display_name":"Isaiah van der Elst"},"score":0,"creation_date":1688677317,"post_id":76624132,"comment_id":135109924,"body_markdown":"@Dominick Try to set it lower, -Xss512k. Unless it&#39;s a very light process, I don&#39;t think you&#39;ll make it to 50K. But lowing the stack size should allow for more.","body":"@Dominick Try to set it lower, -Xss512k. Unless it&#39;s a very light process, I don&#39;t think you&#39;ll make it to 50K. But lowing the stack size should allow for more."}],"tags":[],"owner":{"account_id":252190,"reputation":1445,"user_id":530055,"display_name":"Isaiah van der Elst"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688628125,"creation_date":1688592317,"answer_id":76624132,"question_id":76623934,"body_markdown":"The maximum number of threads you can create will be system dependent. Please check your system&#39;s capacity:\r\n\r\n**Windows:** no limit\r\n\r\n**Linux:** `cat /proc/sys/kernel/threads-max`\r\n\r\nThe stack-trace also suggests the issue may be related to memory. Every thread needs its own stack, and each thread will have data on the heap while executing. The JVM has default memory limits. Look into setting the stack and heap sizes.\r\n\r\n\r\n\r\n**Set stack size usage (-Xss)**\r\n\r\n*Usage:* `java -Xss1024k -jar app.jar`\r\n\r\nIn the error, you see `pthread_create failed`. Your jvm is using pthread to create native OS threads. The total stack size will be defined by your host system. It may be configurable through the OS. This property (-Xss) sets the stack size per thread. To avoid running out, try to make the size as small as possible.\r\n\r\n\r\n\r\n**Set heap size (-Xmx)**\r\n\r\n *Usage:* `java -Xmx1024m -jar app.jar`\r\n\r\nAssuming you&#39;re holding variables in these threads, you&#39;ll also want to keep an eye on the heap. Each thread will be running some procedure, allocating memory along the way. That memory will be allocated on the heap. 50,000 threads is a lot concurrent threads. You may be using a lot of memory. Use this property (-Xmx) to increase the heap size.","title":"How can I increase the maximum number of threads that Java can spawn?","body":"<p>The maximum number of threads you can create will be system dependent. Please check your system's capacity:</p>\n<p><strong>Windows:</strong> no limit</p>\n<p><strong>Linux:</strong> <code>cat /proc/sys/kernel/threads-max</code></p>\n<p>The stack-trace also suggests the issue may be related to memory. Every thread needs its own stack, and each thread will have data on the heap while executing. The JVM has default memory limits. Look into setting the stack and heap sizes.</p>\n<p><strong>Set stack size usage (-Xss)</strong></p>\n<p><em>Usage:</em> <code>java -Xss1024k -jar app.jar</code></p>\n<p>In the error, you see <code>pthread_create failed</code>. Your jvm is using pthread to create native OS threads. The total stack size will be defined by your host system. It may be configurable through the OS. This property (-Xss) sets the stack size per thread. To avoid running out, try to make the size as small as possible.</p>\n<p><strong>Set heap size (-Xmx)</strong></p>\n<p><em>Usage:</em> <code>java -Xmx1024m -jar app.jar</code></p>\n<p>Assuming you're holding variables in these threads, you'll also want to keep an eye on the heap. Each thread will be running some procedure, allocating memory along the way. That memory will be allocated on the heap. 50,000 threads is a lot concurrent threads. You may be using a lot of memory. Use this property (-Xmx) to increase the heap size.</p>\n"},{"comments":[{"owner":{"account_id":9765477,"reputation":31,"user_id":7239073,"display_name":"Dominick"},"score":0,"creation_date":1688745178,"post_id":76633070,"comment_id":135119598,"body_markdown":"I ran your test program. tried to start the JVM with -Xss150k, I tried smaller but 136k seems to be the minimum.\nThe program get stock and need to be forcefully shutdown after reaching the 9466 threads spawn, same results from my server.\nI am lost here, I don&#39;t understand what is going on.\nI am going to append the terminal output.","body":"I ran your test program. tried to start the JVM with -Xss150k, I tried smaller but 136k seems to be the minimum. The program get stock and need to be forcefully shutdown after reaching the 9466 threads spawn, same results from my server. I am lost here, I don&#39;t understand what is going on. I am going to append the terminal output."},{"owner":{"account_id":9765477,"reputation":31,"user_id":7239073,"display_name":"Dominick"},"score":0,"creation_date":1688745488,"post_id":76633070,"comment_id":135119665,"body_markdown":"`nick@debian:~/NetBeansProjects/TestThreadsMax/dist$ java -Xss150k -jar TestThreadsMax.jar \n[2.884s][warning][os,thread] Failed to start thread &quot;Unknown thread&quot; - pthread_create failed (EAGAIN) for attributes: stacksize: 152k, guardsize: 0k, detached.\n[2.884s][warning][os,thread] Failed to start the native thread for java.lang.Thread &quot;Thread-9466&quot;\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\n\tat java.base/java.lang.Thread.start0(Native Method)`","body":"<code>nick@debian:~&#47;NetBeansProjects&#47;TestThreadsMax&#47;dist$ java -Xss150k -jar TestThreadsMax.jar  [2.884s][warning][os,thread] Failed to start thread &quot;Unknown thread&quot; - pthread_create failed (EAGAIN) for attributes: stacksize: 152k, guardsize: 0k, detached. [2.884s][warning][os,thread] Failed to start the native thread for java.lang.Thread &quot;Thread-9466&quot; Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process&#47;resource limits reached \tat java.base&#47;java.lang.Thread.start0(Native Method)</code>"}],"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688687399,"creation_date":1688685810,"answer_id":76633070,"question_id":76623934,"body_markdown":"On Linux (wsl2) I can get 30,000 threads with my default settings *and* reduced stack size. (`-Xss150k`) with this program:\r\n```\r\nimport java.lang.management.ManagementFactory;\r\nimport java.lang.management.ThreadMXBean;\r\nimport java.util.concurrent.CountDownLatch;\r\n\r\npublic class App \r\n{\r\n    public static void main( String[] args ) throws InterruptedException {\r\n        CountDownLatch latch = new CountDownLatch(1);\r\n        int numberOfThreads = 33_000; // OK at 30_000\r\n        Thread[] threads = new Thread[numberOfThreads];\r\n        for (int i = 0; i &lt; numberOfThreads; ++i) {\r\n            threads[i] = new Thread(() -&gt; {\r\n                try {\r\n                    latch.await();\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            });\r\n            threads[i].start();\r\n        }\r\n        ThreadMXBean bean = ManagementFactory.getThreadMXBean();\r\n        System.out.println(bean.getThreadCount());\r\n        latch.countDown();\r\n        for (int i = 0; i &lt; numberOfThreads; ++i) {\r\n            threads[i].join();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe error that I see at 33,000 threads is:\r\n```\r\n[7.274s][warning][os,thread] Attempt to protect stack guard pages failed (0x00007f6bb46a2000-0x00007f6bb46a6000).\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n# Native memory allocation (mprotect) failed to protect 16384 bytes for memory to guard stack pages\r\n# An error report file with more information is saved as:\r\n# /home/tgdavies/dev/so76628100/hs_err_pid395685.log\r\n...\r\nOpenJDK 64-Bit Server VM warning: INFO: os::commit_memory(0x00007f6bb467c000, 16384, 0) failed; error=&#39;Not enough space&#39; (errno=12)\r\n```\r\n\r\nWhich I interpreted as running out of swap. I had 4GB of swap configured. I configured 32GB of swap, but that didn&#39;t help.\r\n\r\nThe error report file has some useful tips, including:\r\n```\r\n#   JVM is running with Zero Based Compressed Oops mode in which the Java heap is\r\n#     placed in the first 32GB address space. The Java Heap base address is the\r\n#     maximum limit for the native heap growth. Please use -XX:HeapBaseMinAddress\r\n#     to set the Java Heap base and to place the Java Heap above 32GB virtual address.\r\n```\r\n\r\nThis blog post looks relevant: https://poonamparhar.github.io/out_of_memory_on_64_bit_platform/ but using uncompressed oops didn&#39;t help.\r\n\r\n\r\n","title":"How can I increase the maximum number of threads that Java can spawn?","body":"<p>On Linux (wsl2) I can get 30,000 threads with my default settings <em>and</em> reduced stack size. (<code>-Xss150k</code>) with this program:</p>\n<pre><code>import java.lang.management.ManagementFactory;\nimport java.lang.management.ThreadMXBean;\nimport java.util.concurrent.CountDownLatch;\n\npublic class App \n{\n    public static void main( String[] args ) throws InterruptedException {\n        CountDownLatch latch = new CountDownLatch(1);\n        int numberOfThreads = 33_000; // OK at 30_000\n        Thread[] threads = new Thread[numberOfThreads];\n        for (int i = 0; i &lt; numberOfThreads; ++i) {\n            threads[i] = new Thread(() -&gt; {\n                try {\n                    latch.await();\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n            });\n            threads[i].start();\n        }\n        ThreadMXBean bean = ManagementFactory.getThreadMXBean();\n        System.out.println(bean.getThreadCount());\n        latch.countDown();\n        for (int i = 0; i &lt; numberOfThreads; ++i) {\n            threads[i].join();\n        }\n    }\n}\n</code></pre>\n<p>The error that I see at 33,000 threads is:</p>\n<pre><code>[7.274s][warning][os,thread] Attempt to protect stack guard pages failed (0x00007f6bb46a2000-0x00007f6bb46a6000).\n#\n# A fatal error has been detected by the Java Runtime Environment:\n# Native memory allocation (mprotect) failed to protect 16384 bytes for memory to guard stack pages\n# An error report file with more information is saved as:\n# /home/tgdavies/dev/so76628100/hs_err_pid395685.log\n...\nOpenJDK 64-Bit Server VM warning: INFO: os::commit_memory(0x00007f6bb467c000, 16384, 0) failed; error='Not enough space' (errno=12)\n</code></pre>\n<p>Which I interpreted as running out of swap. I had 4GB of swap configured. I configured 32GB of swap, but that didn't help.</p>\n<p>The error report file has some useful tips, including:</p>\n<pre><code>#   JVM is running with Zero Based Compressed Oops mode in which the Java heap is\n#     placed in the first 32GB address space. The Java Heap base address is the\n#     maximum limit for the native heap growth. Please use -XX:HeapBaseMinAddress\n#     to set the Java Heap base and to place the Java Heap above 32GB virtual address.\n</code></pre>\n<p>This blog post looks relevant: <a href=\"https://poonamparhar.github.io/out_of_memory_on_64_bit_platform/\" rel=\"nofollow noreferrer\">https://poonamparhar.github.io/out_of_memory_on_64_bit_platform/</a> but using uncompressed oops didn't help.</p>\n"},{"tags":[],"owner":{"account_id":9765477,"reputation":31,"user_id":7239073,"display_name":"Dominick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689282926,"creation_date":1689101680,"answer_id":76664988,"question_id":76623934,"body_markdown":"I was suggested to look into project loom and the virtual threads to be able to make use of effective use of the one thread per client design (haven&#39;t explored that route yet).\r\nBy digging documentation over the weekend, I was able to implement a better way to accept new connections and properly route data to the proper client without needing an individual thread per client. I was able to drastically increase the client count while lowering overhead and system memory usage by implementing the server with the NIO implementation of the socket server. With 3 test PC running a test client I was able to accept 36,036 connections and only spawning a peak of 210 workers threads managed by a thread pool (running the test client on windows you can only spawn about 16400 sockets before the SocketExeption with message maximum connection reached is thrown per PC, lot less under debian 11 from my testing).\r\n\r\n&gt; private final ExecutorService _workers;\r\ninitialized as follow\r\n&gt; this._workers = Executors.newCachedThreadPool();\r\n\r\nBelow is the new sever main loop making use of the NIO implementation with the multiplexer selector object, and a thread pool to do work when the selector returns a slectablekey. New challenge is now in implementing SSL server, since NIO from my current understanding do not offer an alternative from javax.net.ssl.SSLServerSocket.\r\n\r\n        /**\r\n     * The main server thread, this listens and accepts incoming client&#39;s connections.\r\n     */\r\n    @Override\r\n    public void run()\r\n    {\r\n        System.out.println(&quot;Awaiting new client connection!&quot;);\r\n        while (!this._channel.socket().isClosed())\r\n        {\r\n            try\r\n            {\r\n                this._selector.select();\r\n                \r\n                Iterator&lt;SelectionKey&gt; keys = this._selector.selectedKeys().iterator();\r\n                \r\n                while (keys.hasNext())\r\n                {\r\n                    SelectionKey key = keys.next();\r\n                    keys.remove();\r\n                    if (key.isAcceptable())\r\n                    {\r\n                        ServerSocketChannel ssc = (ServerSocketChannel)key.channel();\r\n                        SocketChannel sc = ssc.accept();\r\n                        sc.configureBlocking(false);\r\n                        sc.register(this._selector, SelectionKey.OP_READ);\r\n                        sc.socket().setTcpNoDelay(true);\r\n                        sc.socket().setSoTimeout(this._cliTimeout);\r\n                        var acceptor = this._factory.create(this._clients, sc);\r\n                        var client   = acceptor.createClient(this._workers);\r\n                        if (client != null)\r\n                        {\r\n                            this._clients.put(sc, client);\r\n                            System.out.printf\r\n                            (\r\n                                &quot;Client %s accepter from %s\\n\\r&quot;, \r\n                                client.getSessionID(), \r\n                                client.getRemoteAddress()\r\n                            );\r\n                        }\r\n                        else\r\n                        {\r\n                            System.err.printf(&quot;Client from %s rejected!\\n\\r&quot;, sc.getRemoteAddress());\r\n                            try\r\n                            {\r\n                                sc.socket().setSoLinger(true, 5);\r\n                                sc.close();\r\n                            }\r\n                            catch (IOException ioex)\r\n                            {\r\n                                System.err.printf\r\n                                (\r\n                                    &quot;Client from %s closig error %s!\\n\\r&quot;, \r\n                                    sc.getRemoteAddress(),\r\n                                    ioex.getMessage()\r\n                                );\r\n                            }\r\n                        }\r\n                        System.out.println(&quot;Awaiting new client connection!&quot;);\r\n                    }\r\n                    else if (key.isReadable())\r\n                    {\r\n                        SocketChannel sc = (SocketChannel)key.channel();\r\n                        var client = this._clients.get(sc);\r\n                        if (client != null)\r\n                            this._workers.execute(client);\r\n                        else\r\n                            sc.close();\r\n                    }\r\n                }\r\n            }\r\n            catch (IOException ioex)\r\n            {\r\n                try\r\n                {\r\n                    this.close();\r\n                }\r\n                catch (IOException ioex2)\r\n                {\r\n                    ioex2.printStackTrace();\r\n                }\r\n            }\r\n            catch (ClosedSelectorException csex)\r\n            {\r\n                // The multiplexer (selector) was closed.\r\n                // therefore this thread can finnaly be terminated.\r\n                break;\r\n            }\r\n            catch (CancelledKeyException ckex)\r\n            {\r\n                // Do nothing for this exception, the key operation was canceled.\r\n                // this do not mean the server have problems or was shutdown.\r\n            }\r\n        }\r\n    }\r\n\r\nImplementing SSL socket and the remote peer handlers for each connections. To get the SSL engine to work took me some real documentation digging, but got this working with the following code.\r\n\r\n    /**\r\n     * Main listener thread for this client.\r\n     */\r\n    @Override\r\n    public final void run()\r\n    {\r\n        this.decrypt();\r\n    }\r\n    \r\n    /**\r\n     * Handles the hand shake.\r\n     * @throws java.lang.InterruptedException\r\n     * @throws java.io.IOException\r\n     */\r\n    public void handShake() throws InterruptedException, IOException\r\n    {\r\n        System.out.printf(&quot;SSL handShake %s... Start\\n\\r&quot;, this._id);\r\n        while (true)\r\n        {\r\n            if (this._isHandshakeRxedHello)\r\n            {\r\n                HandshakeStatus status = this._sslEngine.getHandshakeStatus();\r\n                if (null != status)\r\n                    switch (status)\r\n                    {\r\n                        case FINISHED:\r\n                            System.out.printf(&quot;SSL handShake %s... Finish HANDSHAKE INTERRUPTED\\n\\r&quot;, this._id);\r\n                            return;\r\n                        case NOT_HANDSHAKING:\r\n                            if (this._isHandshakeRxedHello)\r\n                            {\r\n                                System.out.printf(&quot;SSL handShake %s... Finish OK\\n\\r&quot;, this._id);\r\n                                this.onConnected();\r\n                                return;\r\n                            }\r\n                            break;\r\n                        case NEED_WRAP:\r\n                            this.encrypt(ByteBuffer.allocate(0));\r\n                            break;\r\n                        case NEED_TASK:\r\n                            this._sslEngine.getDelegatedTask().run();\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n            }\r\n            else\r\n            {\r\n                if (this._channel.socket().isClosed())\r\n                {\r\n                    System.out.printf(&quot;SSL handShake %s... Finish ERROR SOCKET CLOSE\\n\\r&quot;, this._id);\r\n                    return;\r\n                }\r\n            }\r\n            Thread.sleep(100);\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Decrypt RX cypher data, and process the plain text data.\r\n     */\r\n    private synchronized void decrypt()\r\n    {\r\n        try\r\n        {\r\n            this._rxCyper.clear();\r\n            int len = this._channel.read(this._rxCyper);\r\n            if (len == -1)\r\n            {\r\n                this.cleanUpAndClose();\r\n            }\r\n            else if (len &gt; 0)\r\n            {\r\n                this._rxCyper.flip();\r\n                this._rxBuffer.clear();\r\n                this._tsLastRx = Clock.systemUTC().instant().getEpochSecond();\r\n                SSLEngineResult results;\r\n                while (this._rxCyper.hasRemaining())\r\n                {\r\n                    results = this._sslEngine.unwrap(this._rxCyper, this._rxBuffer);\r\n                    if (results.bytesProduced() &gt; 0)\r\n                    {\r\n                        this._rxBuffer.flip();\r\n                        this.onReveived(this._rxBuffer);\r\n                    }\r\n                    else\r\n                        this._isHandshakeRxedHello = true;\r\n                }\r\n            }\r\n        }\r\n        catch (IOException ex)\r\n        {\r\n            this.cleanUpAndClose();\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Encrypt data and TX cypher to remote peer.\r\n     * @param data the plain text data to be sent.\r\n     * @throws SSLException\r\n     * @throws IOException \r\n     */\r\n    private synchronized void encrypt(final ByteBuffer data) throws SSLException, IOException\r\n    {\r\n        this._txCyper.clear();\r\n        var status = this._sslEngine.wrap(data, this._txCyper);\r\n        if (status.getStatus() == SSLEngineResult.Status.OK)\r\n        {\r\n            this._txCyper.flip();\r\n            this._channel.write(this._txCyper);\r\n            if (status.getHandshakeStatus() == HandshakeStatus.NEED_WRAP)\r\n                this.encrypt(data);\r\n        }\r\n        else if (status.getStatus() == SSLEngineResult.Status.BUFFER_OVERFLOW)\r\n        {\r\n            var b = ByteBuffer.allocate(this._sslEngine.getSession().getPacketBufferSize());\r\n            status = this._sslEngine.wrap(data, b);\r\n            if (status.getStatus() == SSLEngineResult.Status.OK)\r\n            {\r\n                b.flip();\r\n                this._channel.write(b);\r\n            }\r\n            else\r\n            {\r\n                throw new SSLException(&quot;Failed to encrypt!&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nThis is the main loop for the NIO implementation of a remote peer connection handler without SSL. This will pull new data and do onReceive logics on a thread from the pool, this are non blocking methods.\r\n\r\n    /**\r\n     * Main listener thread for this client.\r\n     */\r\n    @Override\r\n    public final void run()\r\n    {\r\n        this.rxhandler();\r\n    }\r\n    \r\n    /**\r\n     * Low level RX handler.\r\n     */\r\n    private synchronized void rxhandler()\r\n    {\r\n        try\r\n        {\r\n            this._rxBuff.clear();\r\n            int len = this._channel.read(this._rxBuff);\r\n            if (len == -1)\r\n            {\r\n                this.cleanUpAndClose();\r\n                return;\r\n            }\r\n            else if (len &gt; 0)\r\n            {\r\n                this._tsLastRx = Clock.systemUTC().instant().getEpochSecond();\r\n                this._rxBuff.flip();\r\n                this.onReceived(this._rxBuff);\r\n            }\r\n        }\r\n        catch (IOException ex)\r\n        {\r\n            this.cleanUpAndClose();\r\n        }\r\n    }\r\n\r\nFinally to start one of the 4 implementation of the server.\r\nObviously there is alot of code I left out, but this should help someone else trying to implement a non blocking server using NIO and a thread pool.\r\n\r\n    ITCPServer server = null;\r\n        boolean run = true;\r\n        try\r\n        {\r\n            if (nio)\r\n            {\r\n                if (ssl)\r\n                {\r\n                    System.out.println(&quot;Starting NIO:SSL server!&quot;);\r\n                    server = NioTCPServer.create\r\n                    (\r\n                        listeningPort, \r\n                        100000, \r\n                        new NioTCPServerTLSv13AcceptorFactory\r\n                        (\r\n                            new NioDebugTCPRemClientFactory(),\r\n                            &quot;cert.p12&quot;,\r\n                            &quot;password&quot;\r\n                        )\r\n                    );\r\n                    server.setClientTimeout(0);\r\n                }\r\n                else\r\n                {\r\n                    System.out.println(&quot;Starting NIO server!&quot;);\r\n                    server = NioTCPServer.create\r\n                    (\r\n                        listeningPort, \r\n                        100000, \r\n                        new NioTCPServerAcceptorFactory\r\n                        (\r\n                            new NioDebugTCPRemClientFactory()\r\n                        )\r\n                    );\r\n                    server.setClientTimeout(0);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if (ssl)\r\n                {\r\n                    System.out.println(&quot;Starting SSL server!&quot;);\r\n                    server = TCPServer.createSSL\r\n                    (\r\n                        listeningPort, \r\n                        100000, \r\n                        new DebugTCPRemClientFactory(),\r\n                        &quot;cert.p12&quot;,\r\n                        &quot;password&quot;\r\n                    );\r\n                }\r\n                else\r\n                {\r\n                    System.out.println(&quot;Starting server!&quot;);\r\n                    server = TCPServer.create\r\n                    (\r\n                        listeningPort, \r\n                        100000,\r\n                        new DebugTCPRemClientFactory()\r\n                    );\r\n                }\r\n            }\r\n            Thread t = new Thread(server);\r\n            t.start();\r\n            System.out.printf(&quot;Server started listening at %s:%d\\n\\r&quot;, InetAddress.getLocalHost(), listeningPort);","title":"How can I increase the maximum number of threads that Java can spawn?","body":"<p>I was suggested to look into project loom and the virtual threads to be able to make use of effective use of the one thread per client design (haven't explored that route yet).\nBy digging documentation over the weekend, I was able to implement a better way to accept new connections and properly route data to the proper client without needing an individual thread per client. I was able to drastically increase the client count while lowering overhead and system memory usage by implementing the server with the NIO implementation of the socket server. With 3 test PC running a test client I was able to accept 36,036 connections and only spawning a peak of 210 workers threads managed by a thread pool (running the test client on windows you can only spawn about 16400 sockets before the SocketExeption with message maximum connection reached is thrown per PC, lot less under debian 11 from my testing).</p>\n<blockquote>\n<p>private final ExecutorService _workers;\ninitialized as follow\nthis._workers = Executors.newCachedThreadPool();</p>\n</blockquote>\n<p>Below is the new sever main loop making use of the NIO implementation with the multiplexer selector object, and a thread pool to do work when the selector returns a slectablekey. New challenge is now in implementing SSL server, since NIO from my current understanding do not offer an alternative from javax.net.ssl.SSLServerSocket.</p>\n<pre><code>    /**\n * The main server thread, this listens and accepts incoming client's connections.\n */\n@Override\npublic void run()\n{\n    System.out.println(&quot;Awaiting new client connection!&quot;);\n    while (!this._channel.socket().isClosed())\n    {\n        try\n        {\n            this._selector.select();\n            \n            Iterator&lt;SelectionKey&gt; keys = this._selector.selectedKeys().iterator();\n            \n            while (keys.hasNext())\n            {\n                SelectionKey key = keys.next();\n                keys.remove();\n                if (key.isAcceptable())\n                {\n                    ServerSocketChannel ssc = (ServerSocketChannel)key.channel();\n                    SocketChannel sc = ssc.accept();\n                    sc.configureBlocking(false);\n                    sc.register(this._selector, SelectionKey.OP_READ);\n                    sc.socket().setTcpNoDelay(true);\n                    sc.socket().setSoTimeout(this._cliTimeout);\n                    var acceptor = this._factory.create(this._clients, sc);\n                    var client   = acceptor.createClient(this._workers);\n                    if (client != null)\n                    {\n                        this._clients.put(sc, client);\n                        System.out.printf\n                        (\n                            &quot;Client %s accepter from %s\\n\\r&quot;, \n                            client.getSessionID(), \n                            client.getRemoteAddress()\n                        );\n                    }\n                    else\n                    {\n                        System.err.printf(&quot;Client from %s rejected!\\n\\r&quot;, sc.getRemoteAddress());\n                        try\n                        {\n                            sc.socket().setSoLinger(true, 5);\n                            sc.close();\n                        }\n                        catch (IOException ioex)\n                        {\n                            System.err.printf\n                            (\n                                &quot;Client from %s closig error %s!\\n\\r&quot;, \n                                sc.getRemoteAddress(),\n                                ioex.getMessage()\n                            );\n                        }\n                    }\n                    System.out.println(&quot;Awaiting new client connection!&quot;);\n                }\n                else if (key.isReadable())\n                {\n                    SocketChannel sc = (SocketChannel)key.channel();\n                    var client = this._clients.get(sc);\n                    if (client != null)\n                        this._workers.execute(client);\n                    else\n                        sc.close();\n                }\n            }\n        }\n        catch (IOException ioex)\n        {\n            try\n            {\n                this.close();\n            }\n            catch (IOException ioex2)\n            {\n                ioex2.printStackTrace();\n            }\n        }\n        catch (ClosedSelectorException csex)\n        {\n            // The multiplexer (selector) was closed.\n            // therefore this thread can finnaly be terminated.\n            break;\n        }\n        catch (CancelledKeyException ckex)\n        {\n            // Do nothing for this exception, the key operation was canceled.\n            // this do not mean the server have problems or was shutdown.\n        }\n    }\n}\n</code></pre>\n<p>Implementing SSL socket and the remote peer handlers for each connections. To get the SSL engine to work took me some real documentation digging, but got this working with the following code.</p>\n<pre><code>/**\n * Main listener thread for this client.\n */\n@Override\npublic final void run()\n{\n    this.decrypt();\n}\n\n/**\n * Handles the hand shake.\n * @throws java.lang.InterruptedException\n * @throws java.io.IOException\n */\npublic void handShake() throws InterruptedException, IOException\n{\n    System.out.printf(&quot;SSL handShake %s... Start\\n\\r&quot;, this._id);\n    while (true)\n    {\n        if (this._isHandshakeRxedHello)\n        {\n            HandshakeStatus status = this._sslEngine.getHandshakeStatus();\n            if (null != status)\n                switch (status)\n                {\n                    case FINISHED:\n                        System.out.printf(&quot;SSL handShake %s... Finish HANDSHAKE INTERRUPTED\\n\\r&quot;, this._id);\n                        return;\n                    case NOT_HANDSHAKING:\n                        if (this._isHandshakeRxedHello)\n                        {\n                            System.out.printf(&quot;SSL handShake %s... Finish OK\\n\\r&quot;, this._id);\n                            this.onConnected();\n                            return;\n                        }\n                        break;\n                    case NEED_WRAP:\n                        this.encrypt(ByteBuffer.allocate(0));\n                        break;\n                    case NEED_TASK:\n                        this._sslEngine.getDelegatedTask().run();\n                        break;\n                    default:\n                        break;\n                }\n        }\n        else\n        {\n            if (this._channel.socket().isClosed())\n            {\n                System.out.printf(&quot;SSL handShake %s... Finish ERROR SOCKET CLOSE\\n\\r&quot;, this._id);\n                return;\n            }\n        }\n        Thread.sleep(100);\n    }\n}\n\n/**\n * Decrypt RX cypher data, and process the plain text data.\n */\nprivate synchronized void decrypt()\n{\n    try\n    {\n        this._rxCyper.clear();\n        int len = this._channel.read(this._rxCyper);\n        if (len == -1)\n        {\n            this.cleanUpAndClose();\n        }\n        else if (len &gt; 0)\n        {\n            this._rxCyper.flip();\n            this._rxBuffer.clear();\n            this._tsLastRx = Clock.systemUTC().instant().getEpochSecond();\n            SSLEngineResult results;\n            while (this._rxCyper.hasRemaining())\n            {\n                results = this._sslEngine.unwrap(this._rxCyper, this._rxBuffer);\n                if (results.bytesProduced() &gt; 0)\n                {\n                    this._rxBuffer.flip();\n                    this.onReveived(this._rxBuffer);\n                }\n                else\n                    this._isHandshakeRxedHello = true;\n            }\n        }\n    }\n    catch (IOException ex)\n    {\n        this.cleanUpAndClose();\n    }\n}\n\n/**\n * Encrypt data and TX cypher to remote peer.\n * @param data the plain text data to be sent.\n * @throws SSLException\n * @throws IOException \n */\nprivate synchronized void encrypt(final ByteBuffer data) throws SSLException, IOException\n{\n    this._txCyper.clear();\n    var status = this._sslEngine.wrap(data, this._txCyper);\n    if (status.getStatus() == SSLEngineResult.Status.OK)\n    {\n        this._txCyper.flip();\n        this._channel.write(this._txCyper);\n        if (status.getHandshakeStatus() == HandshakeStatus.NEED_WRAP)\n            this.encrypt(data);\n    }\n    else if (status.getStatus() == SSLEngineResult.Status.BUFFER_OVERFLOW)\n    {\n        var b = ByteBuffer.allocate(this._sslEngine.getSession().getPacketBufferSize());\n        status = this._sslEngine.wrap(data, b);\n        if (status.getStatus() == SSLEngineResult.Status.OK)\n        {\n            b.flip();\n            this._channel.write(b);\n        }\n        else\n        {\n            throw new SSLException(&quot;Failed to encrypt!&quot;);\n        }\n    }\n}\n</code></pre>\n<p>This is the main loop for the NIO implementation of a remote peer connection handler without SSL. This will pull new data and do onReceive logics on a thread from the pool, this are non blocking methods.</p>\n<pre><code>/**\n * Main listener thread for this client.\n */\n@Override\npublic final void run()\n{\n    this.rxhandler();\n}\n\n/**\n * Low level RX handler.\n */\nprivate synchronized void rxhandler()\n{\n    try\n    {\n        this._rxBuff.clear();\n        int len = this._channel.read(this._rxBuff);\n        if (len == -1)\n        {\n            this.cleanUpAndClose();\n            return;\n        }\n        else if (len &gt; 0)\n        {\n            this._tsLastRx = Clock.systemUTC().instant().getEpochSecond();\n            this._rxBuff.flip();\n            this.onReceived(this._rxBuff);\n        }\n    }\n    catch (IOException ex)\n    {\n        this.cleanUpAndClose();\n    }\n}\n</code></pre>\n<p>Finally to start one of the 4 implementation of the server.\nObviously there is alot of code I left out, but this should help someone else trying to implement a non blocking server using NIO and a thread pool.</p>\n<pre><code>ITCPServer server = null;\n    boolean run = true;\n    try\n    {\n        if (nio)\n        {\n            if (ssl)\n            {\n                System.out.println(&quot;Starting NIO:SSL server!&quot;);\n                server = NioTCPServer.create\n                (\n                    listeningPort, \n                    100000, \n                    new NioTCPServerTLSv13AcceptorFactory\n                    (\n                        new NioDebugTCPRemClientFactory(),\n                        &quot;cert.p12&quot;,\n                        &quot;password&quot;\n                    )\n                );\n                server.setClientTimeout(0);\n            }\n            else\n            {\n                System.out.println(&quot;Starting NIO server!&quot;);\n                server = NioTCPServer.create\n                (\n                    listeningPort, \n                    100000, \n                    new NioTCPServerAcceptorFactory\n                    (\n                        new NioDebugTCPRemClientFactory()\n                    )\n                );\n                server.setClientTimeout(0);\n            }\n        }\n        else\n        {\n            if (ssl)\n            {\n                System.out.println(&quot;Starting SSL server!&quot;);\n                server = TCPServer.createSSL\n                (\n                    listeningPort, \n                    100000, \n                    new DebugTCPRemClientFactory(),\n                    &quot;cert.p12&quot;,\n                    &quot;password&quot;\n                );\n            }\n            else\n            {\n                System.out.println(&quot;Starting server!&quot;);\n                server = TCPServer.create\n                (\n                    listeningPort, \n                    100000,\n                    new DebugTCPRemClientFactory()\n                );\n            }\n        }\n        Thread t = new Thread(server);\n        t.start();\n        System.out.printf(&quot;Server started listening at %s:%d\\n\\r&quot;, InetAddress.getLocalHost(), listeningPort);\n</code></pre>\n"}],"owner":{"account_id":9765477,"reputation":31,"user_id":7239073,"display_name":"Dominick"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1689282926,"creation_date":1688590011,"question_id":76623934,"body_markdown":"I am writing a TCP server application, and I was bench testing how many concurrent TCP sockets I can manage.\r\nAfter acceptance the socket is passed to a client class which spawns a separate listener thread to do work.\r\n\r\nI was able to get 9462 active connections before the JVM failed to spawn more threads and therefore dropping any new connections.\r\n\r\n&gt; [1805.442s][warning][os,thread] Failed to start thread &quot;Unknown thread&quot; - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 0k, detached.\r\n&gt; [1805.442s][warning][os,thread] Failed to start the native thread for java.lang.Thread &quot;Thread-15915&quot;\r\n&gt; Exception in thread &quot;Thread-0&quot; java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\r\n&gt; \tat java.base/java.lang.Thread.start0(Native Method)\r\n&gt; \tat java.base/java.lang.Thread.start(Thread.java:802)\r\n&gt; \tat socketservertest.TCPServer.run(TCPServer.java:139)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nThe system still have 40% available RAM, I suspect this is a limit on the JVM settings or perhaps a restriction on the debian OS itself?\r\nIf so, how can I configure the system to allow more memory?\r\n\r\nRegards Dominick\r\n\r\nWhat I have tried:\r\nLook in the java documentation and other forums for solutions, nothing helpful found.\r\n\r\nDesired outcome:\r\nBe able to handle as many threads as possible (clients), starting goal maybe 50K connections?\r\n\r\nEdit 07/07/2023\r\nSorry for lack of details, for the threadpool solution, from my understanding that works well for short live threads, not my case, as the clients are basically sensors and other embedded devices with small memory and few resources, the reason why I am not using TOMCAT and websocket and directly using TCP sockets and some prorpietary bin messaging system carries a byte for command, and the some other bytes of arg data (raw sensor reading etc.) that will be processed by the server.\r\nThis connection will remain intact as long as the sensor/device is online, reason for that is to have a Real-time ability to control suck devices.\r\n\r\n    this._threadPool    = Executors.newCachedThreadPool();\r\n\r\nThis is the server main loop\r\n\r\n    /**\r\n     * The main server thread, this listens and accepts incoming client&#39;s connections.\r\n     */\r\n    @Override\r\n    public void run()\r\n    {\r\n        System.out.printf(&quot;Server started on port %d%n&quot;, this.getPortN());\r\n        \r\n        while (!this._socket.isClosed())\r\n        {\r\n            System.out.println(&quot;Server awaiting new client!&quot;);\r\n            try\r\n            {\r\n                Socket socket = this._socket.accept();\r\n                socket.setKeepAlive(true);\r\n                socket.setTcpNoDelay(true);\r\n                socket.setSoTimeout(this._timeout);\r\n                String uuid = UUID.randomUUID().toString();\r\n                TCPClient client = this._clientFactory.CreateClientObject(socket, uuid, this._clients);// new TCPClient(this._clients, uuid, socket);\r\n                this._clients.add(client);\r\n                this._threadPool.execute(client);\r\n                //var t = new Thread(client);\r\n                //t.start();\r\n                System.out.printf\r\n                (\r\n                    &quot;Server accepted client %s, with uuid %s\\n\\r&quot;, \r\n                    socket.getRemoteSocketAddress(), \r\n                    uuid\r\n                );\r\n            }\r\n            catch (IOException ioe)\r\n            {\r\n                try\r\n                {\r\n                    this.close();\r\n                }\r\n                catch (IOException ioe2)\r\n                {\r\n                    ioe2.printStackTrace();\r\n                } \r\n            }\r\n        }\r\n        System.out.println(&quot;Server stopped&quot;);\r\n    }","title":"How can I increase the maximum number of threads that Java can spawn?","body":"<p>I am writing a TCP server application, and I was bench testing how many concurrent TCP sockets I can manage.\nAfter acceptance the socket is passed to a client class which spawns a separate listener thread to do work.</p>\n<p>I was able to get 9462 active connections before the JVM failed to spawn more threads and therefore dropping any new connections.</p>\n<blockquote>\n<p>[1805.442s][warning][os,thread] Failed to start thread &quot;Unknown thread&quot; - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 0k, detached.\n[1805.442s][warning][os,thread] Failed to start the native thread for java.lang.Thread &quot;Thread-15915&quot;\nException in thread &quot;Thread-0&quot; java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\nat java.base/java.lang.Thread.start0(Native Method)\nat java.base/java.lang.Thread.start(Thread.java:802)\nat socketservertest.TCPServer.run(TCPServer.java:139)\nat java.base/java.lang.Thread.run(Thread.java:833)</p>\n</blockquote>\n<p>The system still have 40% available RAM, I suspect this is a limit on the JVM settings or perhaps a restriction on the debian OS itself?\nIf so, how can I configure the system to allow more memory?</p>\n<p>Regards Dominick</p>\n<p>What I have tried:\nLook in the java documentation and other forums for solutions, nothing helpful found.</p>\n<p>Desired outcome:\nBe able to handle as many threads as possible (clients), starting goal maybe 50K connections?</p>\n<p>Edit 07/07/2023\nSorry for lack of details, for the threadpool solution, from my understanding that works well for short live threads, not my case, as the clients are basically sensors and other embedded devices with small memory and few resources, the reason why I am not using TOMCAT and websocket and directly using TCP sockets and some prorpietary bin messaging system carries a byte for command, and the some other bytes of arg data (raw sensor reading etc.) that will be processed by the server.\nThis connection will remain intact as long as the sensor/device is online, reason for that is to have a Real-time ability to control suck devices.</p>\n<pre><code>this._threadPool    = Executors.newCachedThreadPool();\n</code></pre>\n<p>This is the server main loop</p>\n<pre><code>/**\n * The main server thread, this listens and accepts incoming client's connections.\n */\n@Override\npublic void run()\n{\n    System.out.printf(&quot;Server started on port %d%n&quot;, this.getPortN());\n    \n    while (!this._socket.isClosed())\n    {\n        System.out.println(&quot;Server awaiting new client!&quot;);\n        try\n        {\n            Socket socket = this._socket.accept();\n            socket.setKeepAlive(true);\n            socket.setTcpNoDelay(true);\n            socket.setSoTimeout(this._timeout);\n            String uuid = UUID.randomUUID().toString();\n            TCPClient client = this._clientFactory.CreateClientObject(socket, uuid, this._clients);// new TCPClient(this._clients, uuid, socket);\n            this._clients.add(client);\n            this._threadPool.execute(client);\n            //var t = new Thread(client);\n            //t.start();\n            System.out.printf\n            (\n                &quot;Server accepted client %s, with uuid %s\\n\\r&quot;, \n                socket.getRemoteSocketAddress(), \n                uuid\n            );\n        }\n        catch (IOException ioe)\n        {\n            try\n            {\n                this.close();\n            }\n            catch (IOException ioe2)\n            {\n                ioe2.printStackTrace();\n            } \n        }\n    }\n    System.out.println(&quot;Server stopped&quot;);\n}\n</code></pre>\n"},{"tags":["java","algorithm","bubble-sort"],"answers":[{"comments":[{"owner":{"account_id":22848,"reputation":131598,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1689282193,"post_id":76683198,"comment_id":135195574,"body_markdown":"Minor nit: the order or sorting *does* matter, even when comparing these two algorithms. With a minor modification, Bubblesort can be made to early out, making the best case O(n). Average and worst case are of course O(n^2). Selection sort, however is *always* O(n^2); there is no potential for early out.","body":"Minor nit: the order or sorting <i>does</i> matter, even when comparing these two algorithms. With a minor modification, Bubblesort can be made to early out, making the best case O(n). Average and worst case are of course O(n^2). Selection sort, however is <i>always</i> O(n^2); there is no potential for early out."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":3,"creation_date":1689282250,"post_id":76683198,"comment_id":135195580,"body_markdown":"@Jim, I was considering the code as presented, without any minor modification. The code presented by the asker has a predictable number of comparisons.","body":"@Jim, I was considering the code as presented, without any minor modification. The code presented by the asker has a predictable number of comparisons."},{"owner":{"account_id":1662847,"reputation":125,"user_id":1530793,"accept_rate":62,"display_name":"summary"},"score":0,"creation_date":1689362361,"post_id":76683198,"comment_id":135208146,"body_markdown":"@trincot : the cnt value  mismatch was my mistake in typing the code.  I forgot to add parentheses around inner for loop  .  cnt  value is same for both . thanks for explaining the answer so well.","body":"@trincot : the cnt value  mismatch was my mistake in typing the code.  I forgot to add parentheses around inner for loop  .  cnt  value is same for both . thanks for explaining the answer so well."},{"owner":{"account_id":1662847,"reputation":125,"user_id":1530793,"accept_rate":62,"display_name":"summary"},"score":0,"creation_date":1689362689,"post_id":76683198,"comment_id":135208207,"body_markdown":"Both the  methods are  bubble sort  . unlike to what you said it is selection sort  . in selection sort  inner counter  is one ahead of the  outer counter.","body":"Both the  methods are  bubble sort  . unlike to what you said it is selection sort  . in selection sort  inner counter  is one ahead of the  outer counter."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1689362896,"post_id":76683198,"comment_id":135208247,"body_markdown":"Sorry, but I have to disagree. Also [Wikipedia](https://en.wikipedia.org/wiki/Bubble_sort) states that Bubble sort constitutes of *&quot;comparing the current element with the one after it&quot;*. Your code is not doing that. Your code is looking at the subarray after the current index of the outer loop to eventually swap the least element into slot `i`. That is a hallmark of selection sort. [Wikipedia](https://en.wikipedia.org/wiki/Selection_sort) says about it *&quot;The algorithm proceeds by finding the smallest (or largest, depending on sorting order) element in the unsorted sublist&quot;*","body":"Sorry, but I have to disagree. Also <a href=\"https://en.wikipedia.org/wiki/Bubble_sort\" rel=\"nofollow noreferrer\">Wikipedia</a> states that Bubble sort constitutes of <i>&quot;comparing the current element with the one after it&quot;</i>. Your code is not doing that. Your code is looking at the subarray after the current index of the outer loop to eventually swap the least element into slot <code>i</code>. That is a hallmark of selection sort. <a href=\"https://en.wikipedia.org/wiki/Selection_sort\" rel=\"nofollow noreferrer\">Wikipedia</a> says about it <i>&quot;The algorithm proceeds by finding the smallest (or largest, depending on sorting order) element in the unsorted sublist&quot;</i>"},{"owner":{"account_id":22848,"reputation":131598,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":2,"creation_date":1689393605,"post_id":76683198,"comment_id":135210873,"body_markdown":"@summary Bubblesort is characterized by the larger elements being swapped (bubbled) towards the end of the array. That&#39;s what the code in your `bubbleSort` does, as you can see by the output you provide. Selection sort is characterized by finding the largest item, swapping it to the first, the next largest, swapping it to the second, etc. Which is what your `bubbleSort2` does. The algorithms are vastly different. `bubbleSort2` is not by any definition a bubble sort.","body":"@summary Bubblesort is characterized by the larger elements being swapped (bubbled) towards the end of the array. That&#39;s what the code in your <code>bubbleSort</code> does, as you can see by the output you provide. Selection sort is characterized by finding the largest item, swapping it to the first, the next largest, swapping it to the second, etc. Which is what your <code>bubbleSort2</code> does. The algorithms are vastly different. <code>bubbleSort2</code> is not by any definition a bubble sort."}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689282481,"creation_date":1689281884,"answer_id":76683198,"question_id":76682900,"body_markdown":"Your code is not implementing bubble sort, but a kind of [selection sort](https://en.wikipedia.org/wiki/Selection_sort).\r\n\r\nOne characteristic of bubble sort is that it only swaps *adjacent* values. Your algorithm swaps values that can be far apart.\r\n\r\nYou are right that standard bubble sort will grow a sorted partition at the *right* side of the array, while standard selection sort will grow a sorted partition at the *left* side of the array. (Obviously, these algorithms can be made to run in the opposite direction).\r\n\r\n&gt; I find it is printing the `cnt` value more than what the `bubbleSort` function is printing.\r\n\r\nIt is not *more*. Both of your functions execute a predictable number of comparisons which only depends on the *size* of the input array, not on the actual contents: &#119899;(&#119899;−1)/2\r\n\r\n&gt; Does it really matter the order of sorting in a particular sorting algo ?\r\n\r\nWhen comparing these two algorithms, it doesn&#39;t matter. But more importantly though, these two sorting algorithms do not perform well when the input array is large. For relatively large arrays you&#39;ll get better run times with sorting algorithms that have an average complexity of O(&#119899;log&#119899;), such as quick sort, merge sort, heap sort,...\r\n","title":"Algorithm of Bubble sort optimised way","body":"<p>Your code is not implementing bubble sort, but a kind of <a href=\"https://en.wikipedia.org/wiki/Selection_sort\" rel=\"nofollow noreferrer\">selection sort</a>.</p>\n<p>One characteristic of bubble sort is that it only swaps <em>adjacent</em> values. Your algorithm swaps values that can be far apart.</p>\n<p>You are right that standard bubble sort will grow a sorted partition at the <em>right</em> side of the array, while standard selection sort will grow a sorted partition at the <em>left</em> side of the array. (Obviously, these algorithms can be made to run in the opposite direction).</p>\n<blockquote>\n<p>I find it is printing the <code>cnt</code> value more than what the <code>bubbleSort</code> function is printing.</p>\n</blockquote>\n<p>It is not <em>more</em>. Both of your functions execute a predictable number of comparisons which only depends on the <em>size</em> of the input array, not on the actual contents: 𝑛(𝑛−1)/2</p>\n<blockquote>\n<p>Does it really matter the order of sorting in a particular sorting algo ?</p>\n</blockquote>\n<p>When comparing these two algorithms, it doesn't matter. But more importantly though, these two sorting algorithms do not perform well when the input array is large. For relatively large arrays you'll get better run times with sorting algorithms that have an average complexity of O(𝑛log𝑛), such as quick sort, merge sort, heap sort,...</p>\n"}],"owner":{"account_id":1662847,"reputation":125,"user_id":1530793,"accept_rate":62,"display_name":"summary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1689282481,"creation_date":1689278789,"question_id":76682900,"body_markdown":"I have  2 different codes for sorting an array: \r\n\r\n```java\r\n    static void bubbleSort2(int[] arr){\r\n\t\tSystem.out.println( &quot;bubble starts &quot;);\r\n\t\tint  tmp =0;int cnt =0;\r\n\t\tfor (int i=0; i&lt; arr.length-1 ; i++){\r\n\t\t\tfor (int j=i+1; j&lt; arr.length ; j++){\r\n\t\t\t\tif(arr[i] &gt; arr[j]){\r\n\t\t\t\t\ttmp = arr[j];\r\n\t\t\t\t\tarr[j]=arr[i];\r\n\t\t\t\t\tarr[i] = tmp ;\r\n\t\t\t\t}\r\n\t\t\t\tcnt++;\r\n\t\t\t}\r\n\t\t\tprintMe(arr);\r\n\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Bubble cnt=&quot;+cnt);\r\n\t\tprintMe(arr);\r\n\t}\r\n```\r\n\r\nAnd:\r\n\r\n```java\r\n    static void bubbleSort(int a[])\r\n    {\r\n        int len = a.length; \r\n        int cnt=0;\r\n\t\tSystem.out.println( &quot;bubble starts &quot;);\r\n\r\n        for (int i = 0; i &lt; len-1; i++){\r\n            for (int j = 0; j &lt; len-i-1; j++) {\r\n                if (a[j] &gt; a[j+1]) \r\n                {\r\n                    int temp = a[j];\r\n                    a[j] = a[j+1];\r\n                    a[j+1] = temp;\r\n                }\r\n            cnt++;\r\n            }\r\n            printMe(a);\r\n        }\r\n\t\tSystem.out.println(&quot;Bubble cnt=&quot;+cnt);\r\n\t\tprintMe(a);\r\n    }\r\n```\r\n\r\n`bubbleSort2` is written by me, and I find it is printing the `cnt` value more than what the `bubbleSort` function is printing .\r\n\r\nBelow is the output for array --&gt; `int[] bbArr= { 28,6,4,2,24 };`\r\n\r\n```\r\n\tbubbleSort(bbArr);\r\n\tbubbleSort2(ccArr);\r\n```\r\n\r\n```none\r\nbubble starts \r\n\r\n    6,4,2,24,28\r\n    4,2,6,24,28\r\n    2,4,6,24,28\r\n    2,4,6,24,28\r\n    Bubble cnt=10\r\n\r\nbubble starts \r\n\r\n    2,28,6,4,24\r\n    2,4,28,6,24\r\n    2,4,6,28,24\r\n    2,4,6,24,28\r\n    Bubble cnt=10\r\n```\r\n\r\nI see that one method keeps sorting from the starting position, while the  other  method keeps sorting from the last position of array. Does it really matter the order of sorting in a particular sorting algo? \r\n","title":"Algorithm of Bubble sort optimised way","body":"<p>I have  2 different codes for sorting an array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static void bubbleSort2(int[] arr){\n        System.out.println( &quot;bubble starts &quot;);\n        int  tmp =0;int cnt =0;\n        for (int i=0; i&lt; arr.length-1 ; i++){\n            for (int j=i+1; j&lt; arr.length ; j++){\n                if(arr[i] &gt; arr[j]){\n                    tmp = arr[j];\n                    arr[j]=arr[i];\n                    arr[i] = tmp ;\n                }\n                cnt++;\n            }\n            printMe(arr);\n\n        }\n        System.out.println(&quot;Bubble cnt=&quot;+cnt);\n        printMe(arr);\n    }\n</code></pre>\n<p>And:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static void bubbleSort(int a[])\n    {\n        int len = a.length; \n        int cnt=0;\n        System.out.println( &quot;bubble starts &quot;);\n\n        for (int i = 0; i &lt; len-1; i++){\n            for (int j = 0; j &lt; len-i-1; j++) {\n                if (a[j] &gt; a[j+1]) \n                {\n                    int temp = a[j];\n                    a[j] = a[j+1];\n                    a[j+1] = temp;\n                }\n            cnt++;\n            }\n            printMe(a);\n        }\n        System.out.println(&quot;Bubble cnt=&quot;+cnt);\n        printMe(a);\n    }\n</code></pre>\n<p><code>bubbleSort2</code> is written by me, and I find it is printing the <code>cnt</code> value more than what the <code>bubbleSort</code> function is printing .</p>\n<p>Below is the output for array --&gt; <code>int[] bbArr= { 28,6,4,2,24 };</code></p>\n<pre><code>    bubbleSort(bbArr);\n    bubbleSort2(ccArr);\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>bubble starts \n\n    6,4,2,24,28\n    4,2,6,24,28\n    2,4,6,24,28\n    2,4,6,24,28\n    Bubble cnt=10\n\nbubble starts \n\n    2,28,6,4,24\n    2,4,28,6,24\n    2,4,6,28,24\n    2,4,6,24,28\n    Bubble cnt=10\n</code></pre>\n<p>I see that one method keeps sorting from the starting position, while the  other  method keeps sorting from the last position of array. Does it really matter the order of sorting in a particular sorting algo?</p>\n"},{"tags":["java","spring-boot","networking","google-cloud-pubsub"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689364360,"post_id":76683238,"comment_id":135208492,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":9179537,"reputation":46,"user_id":6823951,"display_name":"sam patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689282353,"creation_date":1689282353,"question_id":76683238,"body_markdown":"We have one java based desktop service (Spring Boot Service) which has an implementation of google cloud pub/sub pull subscription. It is working fine without domain network however in domain network it is successfully subscribed to the subscription of Google Cloud Pub/Sub but unable to recieve messages after publishing message to the topic.\r\n\r\nI am looking for the troubleshooting steps for domain network.","title":"Pull Subscription is not working in Domain Network for Java based desktop service","body":"<p>We have one java based desktop service (Spring Boot Service) which has an implementation of google cloud pub/sub pull subscription. It is working fine without domain network however in domain network it is successfully subscribed to the subscription of Google Cloud Pub/Sub but unable to recieve messages after publishing message to the topic.</p>\n<p>I am looking for the troubleshooting steps for domain network.</p>\n"},{"tags":["java","intellij-idea","repository","bitbucket","microservices"],"answers":[{"comments":[{"owner":{"account_id":7980951,"reputation":2013,"user_id":6022333,"accept_rate":100,"display_name":"Matley"},"score":0,"creation_date":1537650342,"post_id":52456460,"comment_id":91863769,"body_markdown":"Thank you very much for your answer - it sounds very reasonably. Thank you.","body":"Thank you very much for your answer - it sounds very reasonably. Thank you."}],"tags":[],"owner":{"account_id":1188905,"reputation":15517,"user_id":1162233,"accept_rate":95,"display_name":"Kaidul"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1537650476,"creation_date":1537617365,"answer_id":52456460,"question_id":52456287,"body_markdown":"Common practices:\r\n\r\n- Separate microservices as separate project in intellij-idea, not separate module\r\n- Separate repository for each microservice projects\r\n\r\nYou need this degree isolation in project level because you will need to create [CI/CD][1] pipeline for each microservices which is another characteristics of microservice architecture. If these services are combined into one fat project, it would be hard to provide different version of library dependencies for different microservices (even these services are separated by Docker container when deployed). Each team who are working on different microservices should not be worried about project dependencies of another microservice. Though each microservice is part of a large, composite application, from a developer standpoint, it is important to treat each service as an independent unit of code. This makes it possible to deploy newer versions of services without disrupting the application. CI/CD pipelines should be designed to take advantage of the independent versioning.\r\n\r\nThere are too many reasons and beyond scope of discussing in one answer why you need to have different projects per microservice, but for now, go for different project and you will discover once you are into microservices realm. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/CI/CD","title":"Microservices + Project in Intellij + Bitbucket","body":"<p>Common practices:</p>\n\n<ul>\n<li>Separate microservices as separate project in intellij-idea, not separate module</li>\n<li>Separate repository for each microservice projects</li>\n</ul>\n\n<p>You need this degree isolation in project level because you will need to create <a href=\"https://en.wikipedia.org/wiki/CI/CD\" rel=\"noreferrer\">CI/CD</a> pipeline for each microservices which is another characteristics of microservice architecture. If these services are combined into one fat project, it would be hard to provide different version of library dependencies for different microservices (even these services are separated by Docker container when deployed). Each team who are working on different microservices should not be worried about project dependencies of another microservice. Though each microservice is part of a large, composite application, from a developer standpoint, it is important to treat each service as an independent unit of code. This makes it possible to deploy newer versions of services without disrupting the application. CI/CD pipelines should be designed to take advantage of the independent versioning.</p>\n\n<p>There are too many reasons and beyond scope of discussing in one answer why you need to have different projects per microservice, but for now, go for different project and you will discover once you are into microservices realm. </p>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689282192,"creation_date":1680380289,"answer_id":75908633,"question_id":52456287,"body_markdown":"[Late Answer] The purpose of microservice architecture is to have isolated services working together. In practice, in enterprises, each microservice is managed by a single team. It is better to have:\r\n\r\n - Isolated projects, here you are free to use any technology\r\n - Each project with an associated repository, to be able to manage **CI/CD** easily and independently.\r\n\r\nRead this [course][1] for more details, about microservices organization in entreprises. You can find this definition from https://microservices.io/ very useful too:\r\n\r\n&gt; Microservices - also known as the microservice architecture - is an\r\n&gt; architectural style that structures an application as a collection of\r\n&gt; services that are:\r\n&gt; \r\n&gt; Independently deployable, \r\n&gt; Loosely coupled,\r\n&gt; Organized around business capabilities, \r\n&gt; Owned by a small team\r\n\r\n\r\n\r\n  [1]: https://www.pluralsight.com/courses/microservices-big-picture","title":"Microservices + Project in Intellij + Bitbucket","body":"<p>[Late Answer] The purpose of microservice architecture is to have isolated services working together. In practice, in enterprises, each microservice is managed by a single team. It is better to have:</p>\n<ul>\n<li>Isolated projects, here you are free to use any technology</li>\n<li>Each project with an associated repository, to be able to manage <strong>CI/CD</strong> easily and independently.</li>\n</ul>\n<p>Read this <a href=\"https://www.pluralsight.com/courses/microservices-big-picture\" rel=\"nofollow noreferrer\">course</a> for more details, about microservices organization in entreprises. You can find this definition from <a href=\"https://microservices.io/\" rel=\"nofollow noreferrer\">https://microservices.io/</a> very useful too:</p>\n<blockquote>\n<p>Microservices - also known as the microservice architecture - is an\narchitectural style that structures an application as a collection of\nservices that are:</p>\n<p>Independently deployable,\nLoosely coupled,\nOrganized around business capabilities,\nOwned by a small team</p>\n</blockquote>\n"}],"owner":{"account_id":7980951,"reputation":2013,"user_id":6022333,"accept_rate":100,"display_name":"Matley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1476,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":52456460,"answer_count":2,"score":3,"last_activity_date":1689282192,"creation_date":1537615905,"question_id":52456287,"body_markdown":"I&#39;d like to ask you about the structure of the project in **IntelliJ**. I&#39;d like to create my first web application based on microservices architecture. \r\n\r\nI&#39;d like to see all microservices in one project in **IntelliJ** as submodules. My question is if I should commit every microservice into separate repository in **BitBucket** or all microservices into one repository? What&#39;s the best practice?\r\n\r\n\r\nThank you,\r\nMatthew ","title":"Microservices + Project in Intellij + Bitbucket","body":"<p>I'd like to ask you about the structure of the project in <strong>IntelliJ</strong>. I'd like to create my first web application based on microservices architecture.</p>\n<p>I'd like to see all microservices in one project in <strong>IntelliJ</strong> as submodules. My question is if I should commit every microservice into separate repository in <strong>BitBucket</strong> or all microservices into one repository? What's the best practice?</p>\n<p>Thank you,\nMatthew</p>\n"},{"tags":["java","lwjgl"],"owner":{"account_id":29013045,"reputation":1,"user_id":22224116,"display_name":"xNtrow Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689281898,"creation_date":1689281821,"question_id":76683192,"body_markdown":"I dont really know why after some time my app crash or it&#39;s give EXCEPTION_ACCESS_VIOLATION, maybe i&#39;m just bad using nvg memory but anyway if there are someone that can improve this code please help:\r\n\r\n```\r\nprivate void loadFont() {\r\n        try {\r\n            ByteBuffer fontData = readFileToByteBuffer(&quot;/textures/fonts/&quot; + fontName + &quot;.ttf&quot;);\r\n            ByteBuffer fontNameData = MemoryUtil.memUTF8(fontName);\r\n\r\n            if (nvgCreateFontMem(nvg, fontNameData, fontData, false) == -1) {\r\n                throw new IOException(&quot;Failed to load font: &quot; + fontName);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private ByteBuffer readFileToByteBuffer(String resourcePath) {\r\n        try (InputStream inputStream = getClass().getResourceAsStream(resourcePath)) {\r\n            if (inputStream == null) {\r\n                System.err.println(&quot;Font file not found: &quot; + resourcePath);\r\n                return BufferUtils.createByteBuffer(0);\r\n            }\r\n\r\n            ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n            byte[] data = new byte[4096];\r\n            int bytesRead;\r\n\r\n            while ((bytesRead = inputStream.read(data, 0, data.length)) != -1) {\r\n                buffer.write(data, 0, bytesRead);\r\n            }\r\n\r\n            buffer.flush();\r\n            byte[] fontBytes = buffer.toByteArray();\r\n\r\n            ByteBuffer byteBuffer = BufferUtils.createByteBuffer(fontBytes.length);\r\n            byteBuffer.put(fontBytes);\r\n            byteBuffer.flip();\r\n\r\n            return byteBuffer;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return BufferUtils.createByteBuffer(0);\r\n        }\r\n    }\r\n```\r\nI&#39;m using this to load the font from the jar itself but seems it&#39;s work but then crash because of the bad memory usage ig","title":"NanoVG LWJGL3 Font Rendering","body":"<p>I dont really know why after some time my app crash or it's give EXCEPTION_ACCESS_VIOLATION, maybe i'm just bad using nvg memory but anyway if there are someone that can improve this code please help:</p>\n<pre><code>private void loadFont() {\n        try {\n            ByteBuffer fontData = readFileToByteBuffer(&quot;/textures/fonts/&quot; + fontName + &quot;.ttf&quot;);\n            ByteBuffer fontNameData = MemoryUtil.memUTF8(fontName);\n\n            if (nvgCreateFontMem(nvg, fontNameData, fontData, false) == -1) {\n                throw new IOException(&quot;Failed to load font: &quot; + fontName);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private ByteBuffer readFileToByteBuffer(String resourcePath) {\n        try (InputStream inputStream = getClass().getResourceAsStream(resourcePath)) {\n            if (inputStream == null) {\n                System.err.println(&quot;Font file not found: &quot; + resourcePath);\n                return BufferUtils.createByteBuffer(0);\n            }\n\n            ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n            byte[] data = new byte[4096];\n            int bytesRead;\n\n            while ((bytesRead = inputStream.read(data, 0, data.length)) != -1) {\n                buffer.write(data, 0, bytesRead);\n            }\n\n            buffer.flush();\n            byte[] fontBytes = buffer.toByteArray();\n\n            ByteBuffer byteBuffer = BufferUtils.createByteBuffer(fontBytes.length);\n            byteBuffer.put(fontBytes);\n            byteBuffer.flip();\n\n            return byteBuffer;\n        } catch (IOException e) {\n            e.printStackTrace();\n            return BufferUtils.createByteBuffer(0);\n        }\n    }\n</code></pre>\n<p>I'm using this to load the font from the jar itself but seems it's work but then crash because of the bad memory usage ig</p>\n"},{"tags":["java","hibernate","spring-data-jpa","table-per-class"],"owner":{"account_id":21377114,"reputation":3,"user_id":15743654,"display_name":"Zygmunt Sześcian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689281822,"creation_date":1689281822,"question_id":76683193,"body_markdown":"I have two entities:\r\n\r\n```\r\n@Entity\r\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\npublic class Employee {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    private String name;\r\n}\r\n```\r\n\r\nand\r\n\r\n\r\n```\r\n@Entity\r\npublic class ActiveEmployee extends Employee {\r\n\r\n    private Double salary;\r\n\r\n    private Date date;\r\n}\r\n```\r\n\r\nNow I want to get all records from two tables and I don&#39;t how to do it?\r\n\r\nIf I use EmployeeRepository and method findAll() I have also records from ActiveEmployee but without its own fields salary and date. I want to get records with this fields and when it is Employee this fields should be null. How to join this tables?","title":"TABLE_PER_CLASS Inheritance how can I get all records from two tables","body":"<p>I have two entities:</p>\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic class Employee {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private String name;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\npublic class ActiveEmployee extends Employee {\n\n    private Double salary;\n\n    private Date date;\n}\n</code></pre>\n<p>Now I want to get all records from two tables and I don't how to do it?</p>\n<p>If I use EmployeeRepository and method findAll() I have also records from ActiveEmployee but without its own fields salary and date. I want to get records with this fields and when it is Employee this fields should be null. How to join this tables?</p>\n"},{"tags":["java","android","android-fileprovider"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":3,"creation_date":1681679304,"post_id":76030243,"comment_id":134091432,"body_markdown":"What&#39;s the crash?  Is it in your app or the other app?","body":"What&#39;s the crash?  Is it in your app or the other app?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1681679701,"post_id":76030243,"comment_id":134091475,"body_markdown":"Use Logcat to examine the stack trace associated with your crash, if that crash is in your app: https://commonsware.com/Jetpack/pages/chap-debug-001.html","body":"Use Logcat to examine the stack trace associated with your crash, if that crash is in your app: <a href=\"https://commonsware.com/Jetpack/pages/chap-debug-001.html\" rel=\"nofollow noreferrer\">commonsware.com/Jetpack/pages/chap-debug-001.html</a>"}],"owner":{"account_id":28323463,"reputation":1,"user_id":21658862,"display_name":"Andrey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689281120,"creation_date":1681677794,"question_id":76030243,"body_markdown":"I am quite new in android programming and writing shop assistant with scan from camera. I use fileprovider to not loose quality of photos using standard camera app. But on some phones app crash on moment of taking picture when I press tick in camera app:\r\n\r\n[In this moment i press tick and app crashes on Some phones (but on some works)](https://i.stack.imgur.com/nelQY.png)\r\n\r\nHere is my code of provider:\r\n\r\nManifest:\r\n```\r\n&lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;${applicationId}.provider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n        &lt;/provider&gt;\r\n```\r\n\r\n \r\n\r\n\r\nprovider_paths:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;paths&gt;\r\n    &lt;external-path name=&quot;external_files&quot; path=&quot;/&quot;/&gt;\r\n&lt;/paths&gt;\r\n```\r\n\r\n\r\ntaking picture:\r\n```\r\nprivate void takePicture() {\r\n        try{\r\n            Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\r\n            try {\r\n                String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n                String imageFileName = timeStamp + &quot;.jpg&quot;;\r\n                File storageDir = Environment.getExternalStoragePublicDirectory(\r\n                        Environment.DIRECTORY_PICTURES);\r\n                pictureImagePath = storageDir.getAbsolutePath() + &quot;/&quot; + imageFileName;\r\n                File file = new File(pictureImagePath);\r\n                Uri outputFileUri = FileProvider.getUriForFile(this, this.getApplicationContext().getPackageName() + &quot;.provider&quot;, file);\r\n                cameraIntent.putExtra(MediaStore.EXTRA_OUTPUT, outputFileUri);\r\n            } catch (Exception ignored) {\r\n\r\n            } finally {\r\n                someActivityResultLauncher.launch(cameraIntent);\r\n            }\r\n        }catch (ActivityNotFoundException e){\r\n            Toast.makeText(this, getString(R.string.camera_not_recog), Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                /**\r\n                 * Method to take user&#39;s photo\r\n                 * @param result\r\n                 */\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n                    if (result.getResultCode() == Activity.RESULT_OK) {\r\n                        Intent data = result.getData();\r\n                        try {\r\n                            File imgFile = new File(pictureImagePath);\r\n                            // Check if file exists\r\n                            if (imgFile.exists()) {\r\n                                bitmap = BitmapFactory.decodeFile(imgFile.getAbsolutePath());\r\n                            } else {\r\n                                assert data != null;\r\n                                Bundle extras = data.getExtras();\r\n                                bitmap = (Bitmap) extras.get(&quot;data&quot;);\r\n                            }\r\n                        } catch (Exception e) {\r\n                            assert data != null;\r\n                            Bundle extras = data.getExtras();\r\n                            bitmap = (Bitmap) extras.get(&quot;data&quot;);\r\n                        } finally {\r\n                            Intent intent = new Intent(getApplicationContext(), CameraActivity.class);\r\n                            startActivity(intent);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n```\r\n\r\n","title":"Why doesn&#39;t FileProvider work everywhere?","body":"<p>I am quite new in android programming and writing shop assistant with scan from camera. I use fileprovider to not loose quality of photos using standard camera app. But on some phones app crash on moment of taking picture when I press tick in camera app:</p>\n<p><a href=\"https://i.stack.imgur.com/nelQY.png\" rel=\"nofollow noreferrer\">In this moment i press tick and app crashes on Some phones (but on some works)</a></p>\n<p>Here is my code of provider:</p>\n<p>Manifest:</p>\n<pre><code>&lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;${applicationId}.provider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\n        &lt;/provider&gt;\n</code></pre>\n<p>provider_paths:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths&gt;\n    &lt;external-path name=&quot;external_files&quot; path=&quot;/&quot;/&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>taking picture:</p>\n<pre><code>private void takePicture() {\n        try{\n            Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\n            try {\n                String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n                String imageFileName = timeStamp + &quot;.jpg&quot;;\n                File storageDir = Environment.getExternalStoragePublicDirectory(\n                        Environment.DIRECTORY_PICTURES);\n                pictureImagePath = storageDir.getAbsolutePath() + &quot;/&quot; + imageFileName;\n                File file = new File(pictureImagePath);\n                Uri outputFileUri = FileProvider.getUriForFile(this, this.getApplicationContext().getPackageName() + &quot;.provider&quot;, file);\n                cameraIntent.putExtra(MediaStore.EXTRA_OUTPUT, outputFileUri);\n            } catch (Exception ignored) {\n\n            } finally {\n                someActivityResultLauncher.launch(cameraIntent);\n            }\n        }catch (ActivityNotFoundException e){\n            Toast.makeText(this, getString(R.string.camera_not_recog), Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\n                /**\n                 * Method to take user's photo\n                 * @param result\n                 */\n                @Override\n                public void onActivityResult(ActivityResult result) {\n                    if (result.getResultCode() == Activity.RESULT_OK) {\n                        Intent data = result.getData();\n                        try {\n                            File imgFile = new File(pictureImagePath);\n                            // Check if file exists\n                            if (imgFile.exists()) {\n                                bitmap = BitmapFactory.decodeFile(imgFile.getAbsolutePath());\n                            } else {\n                                assert data != null;\n                                Bundle extras = data.getExtras();\n                                bitmap = (Bitmap) extras.get(&quot;data&quot;);\n                            }\n                        } catch (Exception e) {\n                            assert data != null;\n                            Bundle extras = data.getExtras();\n                            bitmap = (Bitmap) extras.get(&quot;data&quot;);\n                        } finally {\n                            Intent intent = new Intent(getApplicationContext(), CameraActivity.class);\n                            startActivity(intent);\n                        }\n                    }\n                }\n            });\n</code></pre>\n"},{"tags":["java","selenium-webdriver","headless","google-chrome-headless"],"answers":[{"comments":[{"owner":{"account_id":2987419,"reputation":1969,"user_id":2535843,"accept_rate":76,"display_name":"Mahdi"},"score":0,"creation_date":1689280710,"post_id":76683044,"comment_id":135195367,"body_markdown":"But this starts &quot;two&quot; chrome headless processes","body":"But this starts &quot;two&quot; chrome headless processes"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1689280884,"post_id":76683044,"comment_id":135195395,"body_markdown":"_concurrent Selenium Webdriver sessions_: For concurrent Selenium Webdriver sessions there should be session(**s**), multiple.","body":"<i>concurrent Selenium Webdriver sessions</i>: For concurrent Selenium Webdriver sessions there should be session(<b>s</b>), multiple."},{"owner":{"account_id":2987419,"reputation":1969,"user_id":2535843,"accept_rate":76,"display_name":"Mahdi"},"score":0,"creation_date":1689287600,"post_id":76683044,"comment_id":135196205,"body_markdown":"I&#39;m ok with having multiple sessions. I just want a single &quot;process&quot;.","body":"I&#39;m ok with having multiple sessions. I just want a single &quot;process&quot;."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689280267,"creation_date":1689280267,"answer_id":76683044,"question_id":76682574,"body_markdown":"You can initiate two [ChromeDriver](https://stackoverflow.com/a/48080871/7429447) initiated [tag:google-chrome] _browsing context_ simultaneously as follows:\r\n\r\n\tChromeOptions options = new ChromeOptions();\r\n\toptions.addArguments(&quot;--start-maximized&quot;);\r\n\t\r\n\tWebDriver driver1 = new ChromeDriver(options);\r\n\tdriver1.get(&quot;https://www.google.com&quot;);\r\n\t\r\n\tWebDriver driver2 = new ChromeDriver(options);\r\n\tdriver2.get(&quot;https://www.bing.com/&quot;);\r\n\t\r\nand [switch focus between them](https://stackoverflow.com/a/49220645/7429447) as follows: \r\n\r\n\t((JavascriptExecutor) driver1).executeScript(&quot;window.focus();&quot;);\r\n\t((JavascriptExecutor) driver2).executeScript(&quot;window.focus();&quot;);","title":"Having multiple concurrent Selenium Webdriver sessions connected to the same chrome headless process","body":"<p>You can initiate two <a href=\"https://stackoverflow.com/a/48080871/7429447\">ChromeDriver</a> initiated <a href=\"/questions/tagged/google-chrome\" class=\"post-tag\" title=\"show questions tagged &#39;google-chrome&#39;\" aria-label=\"show questions tagged &#39;google-chrome&#39;\" rel=\"tag\" aria-labelledby=\"tag-google-chrome-tooltip-container\">google-chrome</a> <em>browsing context</em> simultaneously as follows:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--start-maximized&quot;);\n\nWebDriver driver1 = new ChromeDriver(options);\ndriver1.get(&quot;https://www.google.com&quot;);\n\nWebDriver driver2 = new ChromeDriver(options);\ndriver2.get(&quot;https://www.bing.com/&quot;);\n</code></pre>\n<p>and <a href=\"https://stackoverflow.com/a/49220645/7429447\">switch focus between them</a> as follows:</p>\n<pre><code>((JavascriptExecutor) driver1).executeScript(&quot;window.focus();&quot;);\n((JavascriptExecutor) driver2).executeScript(&quot;window.focus();&quot;);\n</code></pre>\n"}],"owner":{"account_id":2987419,"reputation":1969,"user_id":2535843,"accept_rate":76,"display_name":"Mahdi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689280267,"creation_date":1689275689,"question_id":76682574,"body_markdown":"Is there a way to have one chromedriver process instance running but have two different Selenium WebDrivers connected to it where both run code at the same time? (e.g. navigate to a URL, click on a button, ...)?\r\n\r\nI know that I can open two different pages on the same headless browser and switch between them, but I want to do both processings simultaneously, so that won&#39;t work for me.\r\n\r\nI&#39;m writing this in Java.","title":"Having multiple concurrent Selenium Webdriver sessions connected to the same chrome headless process","body":"<p>Is there a way to have one chromedriver process instance running but have two different Selenium WebDrivers connected to it where both run code at the same time? (e.g. navigate to a URL, click on a button, ...)?</p>\n<p>I know that I can open two different pages on the same headless browser and switch between them, but I want to do both processings simultaneously, so that won't work for me.</p>\n<p>I'm writing this in Java.</p>\n"},{"tags":["java","frameworks","chromium-embedded"],"answers":[{"tags":[],"owner":{"account_id":9067781,"reputation":30730,"user_id":6752050,"display_name":"273K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689280100,"creation_date":1689280100,"answer_id":76683023,"question_id":76678868,"body_markdown":"You have built JNI for CEF. You have to build CEF in accordance to the manual https://bitbucket.org/chromiumembedded/cef/wiki/MasterBuildQuickStart and optional https://bitbucket.org/chromiumembedded/cef/wiki/BranchesAndBuilding. They use update.bat or update.sh.\r\n\r\nIf you build libcef successfully, you can replace the old libcef. ","title":"JCEF Build with H.264 Codec","body":"<p>You have built JNI for CEF. You have to build CEF in accordance to the manual <a href=\"https://bitbucket.org/chromiumembedded/cef/wiki/MasterBuildQuickStart\" rel=\"nofollow noreferrer\">https://bitbucket.org/chromiumembedded/cef/wiki/MasterBuildQuickStart</a> and optional <a href=\"https://bitbucket.org/chromiumembedded/cef/wiki/BranchesAndBuilding\" rel=\"nofollow noreferrer\">https://bitbucket.org/chromiumembedded/cef/wiki/BranchesAndBuilding</a>. They use update.bat or update.sh.</p>\n<p>If you build libcef successfully, you can replace the old libcef.</p>\n"}],"owner":{"account_id":15728956,"reputation":19,"user_id":11349751,"display_name":"Guenni97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689280100,"creation_date":1689247696,"question_id":76678868,"body_markdown":"for my project I want to integrate the java chromium embedded framework. I was able to build it by myself with this tutorial:https://bitbucket.org/chromiumembedded/java-cef/wiki/BranchesAndBuilding\r\n\r\nIn this builded version the browser is not capable of showing mp4 files / h.264 codecs.\r\nHow is it possible to activate mp4 codec?\r\n\r\nI have read this answer: https://stackoverflow.com/questions/43845493/how-to-enable-h264-support-in-cef3-latest-version\r\n\r\nBut i cannot find the update.bat. Where is it located?\r\n\r\nThank you very much!","title":"JCEF Build with H.264 Codec","body":"<p>for my project I want to integrate the java chromium embedded framework. I was able to build it by myself with this tutorial:<a href=\"https://bitbucket.org/chromiumembedded/java-cef/wiki/BranchesAndBuilding\" rel=\"nofollow noreferrer\">https://bitbucket.org/chromiumembedded/java-cef/wiki/BranchesAndBuilding</a></p>\n<p>In this builded version the browser is not capable of showing mp4 files / h.264 codecs.\nHow is it possible to activate mp4 codec?</p>\n<p>I have read this answer: <a href=\"https://stackoverflow.com/questions/43845493/how-to-enable-h264-support-in-cef3-latest-version\">How to enable H264 support in CEF3 latest version ?</a></p>\n<p>But i cannot find the update.bat. Where is it located?</p>\n<p>Thank you very much!</p>\n"},{"tags":["java","mongodb","multithreading"],"owner":{"account_id":10815791,"reputation":347,"user_id":8375274,"accept_rate":50,"display_name":"m.y.m"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689279004,"creation_date":1689279004,"question_id":76682922,"body_markdown":"I&#39;m running a Java application that spawns multiple threads taking care of writing objects to a mongoDB collection. The input is a huge list of objects, and each thread is taking care of a portion of this list. \r\n\r\nI run the code with relatively small loads around 20K documents and it works Perfect. But when the list size exceeds a certain threshold. I start getting `WriteConflict` exception from MongoDB, even though I verified that each thread is operating on a separate portion of the list and they&#39;re not overlapping nor trying to persist same documents twice. \r\n\r\nWhat can be the cause for such Exception? The exception message is not quite helpful.","title":"MongoDB documents write conflicts in multi-threaded application","body":"<p>I'm running a Java application that spawns multiple threads taking care of writing objects to a mongoDB collection. The input is a huge list of objects, and each thread is taking care of a portion of this list.</p>\n<p>I run the code with relatively small loads around 20K documents and it works Perfect. But when the list size exceeds a certain threshold. I start getting <code>WriteConflict</code> exception from MongoDB, even though I verified that each thread is operating on a separate portion of the list and they're not overlapping nor trying to persist same documents twice.</p>\n<p>What can be the cause for such Exception? The exception message is not quite helpful.</p>\n"},{"tags":["java","spring","spring-boot","maven","apache-commons-logging"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":1,"creation_date":1689280891,"post_id":76682917,"comment_id":135195396,"body_markdown":"Look here `org.springframework:spring-jcl:jar:5.3.20:compile`.","body":"Look here <code>org.springframework:spring-jcl:jar:5.3.20:compile</code>."},{"owner":{"account_id":6749614,"reputation":654,"user_id":5200064,"accept_rate":80,"display_name":"lmk"},"score":0,"creation_date":1689282064,"post_id":76682917,"comment_id":135195560,"body_markdown":"@K.Nicholas Thank you for that pointer! So it looks like the documentation (the logging part I referred above) needs an update to say that Spring Boot uses Spring Commons Logging, which btw [appears](https://github.com/spring-projects/spring-framework/issues/20611#issuecomment-453462024) indeed to be a kind of fork of Apache Commons Logging.","body":"@K.Nicholas Thank you for that pointer! So it looks like the documentation (the logging part I referred above) needs an update to say that Spring Boot uses Spring Commons Logging, which btw <a href=\"https://github.com/spring-projects/spring-framework/issues/20611#issuecomment-453462024\" rel=\"nofollow noreferrer\">appears</a> indeed to be a kind of fork of Apache Commons Logging."},{"owner":{"account_id":6749614,"reputation":654,"user_id":5200064,"accept_rate":80,"display_name":"lmk"},"score":0,"creation_date":1689282291,"post_id":76682917,"comment_id":135195587,"body_markdown":"@K.Nicholas Please feel free to answer &amp; I can mark accordingly (in case someone else comes along &amp; misses the comments). Thanks once again for your time!","body":"@K.Nicholas Please feel free to answer &amp; I can mark accordingly (in case someone else comes along &amp; misses the comments). Thanks once again for your time!"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1689317744,"post_id":76682917,"comment_id":135199090,"body_markdown":"It uses the Commons Logging API but it has been included in Spring itself for various reasons. The reason for this is [in the original issue](https://github.com/spring-projects/spring-framework/issues/19081?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel). So it is still the Commons Logging API (You could even include it if you like).","body":"It uses the Commons Logging API but it has been included in Spring itself for various reasons. The reason for this is <a href=\"https://github.com/spring-projects/spring-framework/issues/19081?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\" rel=\"nofollow noreferrer\">in the original issue</a>. So it is still the Commons Logging API (You could even include it if you like)."},{"owner":{"account_id":6749614,"reputation":654,"user_id":5200064,"accept_rate":80,"display_name":"lmk"},"score":0,"creation_date":1689366197,"post_id":76682917,"comment_id":135208810,"body_markdown":"Thanks @M.Deinum for that additional link with more details on the team thinking that went into the fork. I certainly don&#39;t want to include Apache Commons Logging at all, quite the contrary I want to avoid packaging that as some customers don&#39;t prefer old libraries being packaged. Btw, as I mentioned in the [above](https://github.com/spring-projects/spring-framework/issues/20611#issuecomment-453462024) comment it might help to correct the documentation to note (at the least) the fact that Spring uses Spring Commons Logging which is forked from Apache Commons Logging &amp; only uses its API.","body":"Thanks @M.Deinum for that additional link with more details on the team thinking that went into the fork. I certainly don&#39;t want to include Apache Commons Logging at all, quite the contrary I want to avoid packaging that as some customers don&#39;t prefer old libraries being packaged. Btw, as I mentioned in the <a href=\"https://github.com/spring-projects/spring-framework/issues/20611#issuecomment-453462024\" rel=\"nofollow noreferrer\">above</a> comment it might help to correct the documentation to note (at the least) the fact that Spring uses Spring Commons Logging which is forked from Apache Commons Logging &amp; only uses its API."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689575508,"post_id":76682917,"comment_id":135227160,"body_markdown":"As Spring depends on the API it will need it and it isn&#39;t Spring COmmons Logging it is still Apache Commons Logging.","body":"As Spring depends on the API it will need it and it isn&#39;t Spring COmmons Logging it is still Apache Commons Logging."},{"owner":{"account_id":6749614,"reputation":654,"user_id":5200064,"accept_rate":80,"display_name":"lmk"},"score":0,"creation_date":1689632753,"post_id":76682917,"comment_id":135238522,"body_markdown":"@M.Deinum Thanks for your response, but just to clear my confusion, my understanding of Spring Commons Logging comes from seeing references to it [here](https://docs.spring.io/spring-framework/reference/core/spring-jcl.html) &amp; [here](https://mvnrepository.com/artifact/org.springframework/spring-jcl) and it made sense aswell given the discussion in the two git issue links referred above that went into the change. If we are to say otherwise (that it is still Apache Commons Logging) then the above 2 may need correction...","body":"@M.Deinum Thanks for your response, but just to clear my confusion, my understanding of Spring Commons Logging comes from seeing references to it <a href=\"https://docs.spring.io/spring-framework/reference/core/spring-jcl.html\" rel=\"nofollow noreferrer\">here</a> &amp; <a href=\"https://mvnrepository.com/artifact/org.springframework/spring-jcl\" rel=\"nofollow noreferrer\">here</a> and it made sense aswell given the discussion in the two git issue links referred above that went into the change. If we are to say otherwise (that it is still Apache Commons Logging) then the above 2 may need correction..."},{"owner":{"account_id":6749614,"reputation":654,"user_id":5200064,"accept_rate":80,"display_name":"lmk"},"score":1,"creation_date":1689634497,"post_id":76682917,"comment_id":135238726,"body_markdown":"Below is why I am not convinced we can say it is still Apache Commons Logging,\n1. Apache Commons Logging artifact is technically _no longer a dependency_ from spring&#39;s core artifacts/starters (as we have forked out to `spring-jcl`) &amp; is _not needed_ to run Spring apps.\n2. While the API may have been retained in the fork (due to considerations discussed/noted in git issue links) the underlying implementation is not the same as noted [here](https://github.com/spring-projects/spring-framework/issues/19081?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel#issuecomment-453442669)","body":"Below is why I am not convinced we can say it is still Apache Commons Logging, 1. Apache Commons Logging artifact is technically <i>no longer a dependency</i> from spring&#39;s core artifacts/starters (as we have forked out to <code>spring-jcl</code>) &amp; is <i>not needed</i> to run Spring apps. 2. While the API may have been retained in the fork (due to considerations discussed/noted in git issue links) the underlying implementation is not the same as noted <a href=\"https://github.com/spring-projects/spring-framework/issues/19081?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel#issuecomment-453442669\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689658976,"post_id":76682917,"comment_id":135240806,"body_markdown":"The API is still the commons logging API, hence it still is commons logging. All classes, frameworks etc. that use commons logging can use `spring-jcl`. From an API perspective this is still Apache Commons Logging (that is my approach to things, the API is still the same). The only reason to keep the API the same is binary compatibility (moving to SLF4J would have changed the signatures).","body":"The API is still the commons logging API, hence it still is commons logging. All classes, frameworks etc. that use commons logging can use <code>spring-jcl</code>. From an API perspective this is still Apache Commons Logging (that is my approach to things, the API is still the same). The only reason to keep the API the same is binary compatibility (moving to SLF4J would have changed the signatures)."},{"owner":{"account_id":6749614,"reputation":654,"user_id":5200064,"accept_rate":80,"display_name":"lmk"},"score":0,"creation_date":1689722580,"post_id":76682917,"comment_id":135253016,"body_markdown":"@M.Deinum Thank you, I see where you are coming from now from a dev/eng perspective. Only nuance here is unlike pure API specs (like JTA/JPA) which are deployable via their respective artifacts with chosen implementation (BTM/JTA, Hibernate/JPA) here we are talking about the bound API of commons logging where in there is no _contract_ whatsoever that, 1. A future change (however unlikely it is) made in commons logging&#39;s API would be adhered to in `spring-jcl` &amp; 2. `spring-jcl` would not have its API modified _in the future_ in any way so as to &#39;break&#39; the API _contract_ of commons logging.","body":"@M.Deinum Thank you, I see where you are coming from now from a dev/eng perspective. Only nuance here is unlike pure API specs (like JTA/JPA) which are deployable via their respective artifacts with chosen implementation (BTM/JTA, Hibernate/JPA) here we are talking about the bound API of commons logging where in there is no <i>contract</i> whatsoever that, 1. A future change (however unlikely it is) made in commons logging&#39;s API would be adhered to in <code>spring-jcl</code> &amp; 2. <code>spring-jcl</code> would not have its API modified <i>in the future</i> in any way so as to &#39;break&#39; the API <i>contract</i> of commons logging."}],"owner":{"account_id":6749614,"reputation":654,"user_id":5200064,"accept_rate":80,"display_name":"lmk"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1689278966,"creation_date":1689278966,"question_id":76682917,"body_markdown":"I see in the Spring Boot [documentation][1] that, \r\n\r\n&gt; Spring Boot uses Commons Logging for all internal logging...\r\n\r\nHowever when I search for a (maven) dependency to [Apache Commons Logging][2] from Spring Boot artifacts I don&#39;t see any dependency references to it. \r\n\r\nDoes Spring Boot use a separate internal fork perhaps of [Apache Commons Logging][2]? or am I missing something?\r\n\r\nI couldn&#39;t find much in this connection online. Does someone know &amp; can help share pointers?\r\n\r\nBelow for example is the dependency tree for `org.springframework.boot:spring-boot-starter-web:jar:2.7.0`\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] ------------&lt; dcm.dev.util:maven-dependency-resolver-tool &gt;-------------\r\n    [INFO] Building maven-dependency-resolver-tool 1.0\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-dependency-plugin:3.2.0:tree (default-cli) @ maven-dependency-resolver-tool ---\r\n    [INFO] dcm.dev.util:maven-dependency-resolver-tool:jar:1.0\r\n    [INFO] \\- org.springframework.boot:spring-boot-starter-web:jar:2.7.0:compile\r\n    [INFO]    +- org.springframework.boot:spring-boot-starter:jar:2.7.0:compile\r\n    [INFO]    |  +- org.springframework.boot:spring-boot:jar:2.7.0:compile\r\n    [INFO]    |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.7.0:compile\r\n    [INFO]    |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.7.0:compile\r\n    [INFO]    |  |  +- ch.qos.logback:logback-classic:jar:1.2.11:compile\r\n    [INFO]    |  |  |  +- ch.qos.logback:logback-core:jar:1.2.11:compile\r\n    [INFO]    |  |  |  \\- org.slf4j:slf4j-api:jar:1.7.32:compile\r\n    [INFO]    |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.2:compile\r\n    [INFO]    |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\r\n    [INFO]    |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.36:compile\r\n    [INFO]    |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\r\n    [INFO]    |  +- org.springframework:spring-core:jar:5.3.20:compile\r\n    [INFO]    |  |  \\- org.springframework:spring-jcl:jar:5.3.20:compile\r\n    [INFO]    |  \\- org.yaml:snakeyaml:jar:1.30:compile\r\n    [INFO]    +- org.springframework.boot:spring-boot-starter-json:jar:2.7.0:compile\r\n    [INFO]    |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.13.3:compile\r\n    [INFO]    |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.3:compile\r\n    [INFO]    |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.13.3:compile\r\n    [INFO]    |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.13.3:compile\r\n    [INFO]    |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.13.3:compile\r\n    [INFO]    |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.13.3:compile\r\n    [INFO]    +- org.springframework.boot:spring-boot-starter-tomcat:jar:2.7.0:compile\r\n    [INFO]    |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:9.0.63:compile\r\n    [INFO]    |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:9.0.63:compile\r\n    [INFO]    |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:9.0.63:compile\r\n    [INFO]    +- org.springframework:spring-web:jar:5.3.20:compile\r\n    [INFO]    |  \\- org.springframework:spring-beans:jar:5.3.20:compile\r\n    [INFO]    \\- org.springframework:spring-webmvc:jar:5.3.20:compile\r\n    [INFO]       +- org.springframework:spring-aop:jar:5.3.20:compile\r\n    [INFO]       +- org.springframework:spring-context:jar:5.3.20:compile\r\n    [INFO]       \\- org.springframework:spring-expression:jar:5.3.20:compile\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  03:39 min\r\n    [INFO] Finished at: 2023-07-13T13:40:38-06:00\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\n\r\nThanks\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.logging\r\n  [2]: https://commons.apache.org/proper/commons-logging/","title":"How does Spring Boot really use Apache Commons Logging given I don&#39;t see a dependency to it from Spring Boot","body":"<p>I see in the Spring Boot <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.logging\" rel=\"nofollow noreferrer\">documentation</a> that,</p>\n<blockquote>\n<p>Spring Boot uses Commons Logging for all internal logging...</p>\n</blockquote>\n<p>However when I search for a (maven) dependency to <a href=\"https://commons.apache.org/proper/commons-logging/\" rel=\"nofollow noreferrer\">Apache Commons Logging</a> from Spring Boot artifacts I don't see any dependency references to it.</p>\n<p>Does Spring Boot use a separate internal fork perhaps of <a href=\"https://commons.apache.org/proper/commons-logging/\" rel=\"nofollow noreferrer\">Apache Commons Logging</a>? or am I missing something?</p>\n<p>I couldn't find much in this connection online. Does someone know &amp; can help share pointers?</p>\n<p>Below for example is the dependency tree for <code>org.springframework.boot:spring-boot-starter-web:jar:2.7.0</code></p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] ------------&lt; dcm.dev.util:maven-dependency-resolver-tool &gt;-------------\n[INFO] Building maven-dependency-resolver-tool 1.0\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-dependency-plugin:3.2.0:tree (default-cli) @ maven-dependency-resolver-tool ---\n[INFO] dcm.dev.util:maven-dependency-resolver-tool:jar:1.0\n[INFO] \\- org.springframework.boot:spring-boot-starter-web:jar:2.7.0:compile\n[INFO]    +- org.springframework.boot:spring-boot-starter:jar:2.7.0:compile\n[INFO]    |  +- org.springframework.boot:spring-boot:jar:2.7.0:compile\n[INFO]    |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.7.0:compile\n[INFO]    |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.7.0:compile\n[INFO]    |  |  +- ch.qos.logback:logback-classic:jar:1.2.11:compile\n[INFO]    |  |  |  +- ch.qos.logback:logback-core:jar:1.2.11:compile\n[INFO]    |  |  |  \\- org.slf4j:slf4j-api:jar:1.7.32:compile\n[INFO]    |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.2:compile\n[INFO]    |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\n[INFO]    |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.36:compile\n[INFO]    |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\n[INFO]    |  +- org.springframework:spring-core:jar:5.3.20:compile\n[INFO]    |  |  \\- org.springframework:spring-jcl:jar:5.3.20:compile\n[INFO]    |  \\- org.yaml:snakeyaml:jar:1.30:compile\n[INFO]    +- org.springframework.boot:spring-boot-starter-json:jar:2.7.0:compile\n[INFO]    |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.13.3:compile\n[INFO]    |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.3:compile\n[INFO]    |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.13.3:compile\n[INFO]    |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.13.3:compile\n[INFO]    |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.13.3:compile\n[INFO]    |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.13.3:compile\n[INFO]    +- org.springframework.boot:spring-boot-starter-tomcat:jar:2.7.0:compile\n[INFO]    |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:9.0.63:compile\n[INFO]    |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:9.0.63:compile\n[INFO]    |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:9.0.63:compile\n[INFO]    +- org.springframework:spring-web:jar:5.3.20:compile\n[INFO]    |  \\- org.springframework:spring-beans:jar:5.3.20:compile\n[INFO]    \\- org.springframework:spring-webmvc:jar:5.3.20:compile\n[INFO]       +- org.springframework:spring-aop:jar:5.3.20:compile\n[INFO]       +- org.springframework:spring-context:jar:5.3.20:compile\n[INFO]       \\- org.springframework:spring-expression:jar:5.3.20:compile\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  03:39 min\n[INFO] Finished at: 2023-07-13T13:40:38-06:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","multithreading","saxon"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689271218,"post_id":76681173,"comment_id":135193553,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"comments":[{"owner":{"account_id":25646790,"reputation":1,"user_id":19414758,"display_name":"gsv"},"score":0,"creation_date":1689719492,"post_id":76681677,"comment_id":135252721,"body_markdown":"I have checked our code, we have a lot of variables that store tiny tree (but actually we need this, because we have a complex business logic in our xsl code). Most of these trees were created using call template or apply template constructs. I have tried replacing them with functions (xsl:function). And it seemed to give a result, but another blocking state appeared in another method: Expression.getSlotsUsed. https://imgur.io/rgyVrCA?r  Could you please clarify why this method is needed and is it possible to somehow avoid the problem with locks in this method?","body":"I have checked our code, we have a lot of variables that store tiny tree (but actually we need this, because we have a complex business logic in our xsl code). Most of these trees were created using call template or apply template constructs. I have tried replacing them with functions (xsl:function). And it seemed to give a result, but another blocking state appeared in another method: Expression.getSlotsUsed. <a href=\"https://imgur.io/rgyVrCA?r\" rel=\"nofollow noreferrer\">imgur.io/rgyVrCA?r</a>  Could you please clarify why this method is needed and is it possible to somehow avoid the problem with locks in this method?"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1689787742,"post_id":76681677,"comment_id":135264367,"body_markdown":"I think you&#39;re misunderstanding the problem. These occasional synchronised methods aren&#39;t causing a performance problem. On the contrary, they are giving the scheduler an opportunity to share the CPU resource between the large number of threads you have created. You&#39;re not seeing a thread that is &quot;blocked&quot;, you&#39;re seeing one that is ready to go as soon as the scheduler puts it at the front of the queue. A better way to increase response time and throughput would be to allocate fewer threads.","body":"I think you&#39;re misunderstanding the problem. These occasional synchronised methods aren&#39;t causing a performance problem. On the contrary, they are giving the scheduler an opportunity to share the CPU resource between the large number of threads you have created. You&#39;re not seeing a thread that is &quot;blocked&quot;, you&#39;re seeing one that is ready to go as soon as the scheduler puts it at the front of the queue. A better way to increase response time and throughput would be to allocate fewer threads."}],"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689278926,"creation_date":1689266864,"answer_id":76681677,"question_id":76681173,"body_markdown":"I think you&#39;re seeing a common profiling effect where synchronized methods appear to be taking a high proportion of the total time, when actually what&#39;s happening is that they are much more likely to be sampled. The method `allocateDocumentNumber` is very unlikely to be causing much contention or taking a lot of time, but it could be distorting the profiling. If you have higher level of concurrency than the system can comfortably handle, then the scheduler will be looking for opportunities to pause one thread and give room for another, and these opportunities tend to coincide with calls on synchronized methods, even if those methods actually cause very little contention.\r\n\r\nHowever, if you are hitting this method very heavily, it could suggest that you are creating a large number of temporary trees, which people often do unintentionally by writing code such as\r\n\r\n    &lt;xsl:variable name=&quot;x&quot;&gt;\r\n      &lt;xsl:value-of select=&quot;a/b/c&quot;/&gt;\r\n    &lt;/xsl:variable&gt;\r\n\r\nwhen they should be writing\r\n\r\n    &lt;xsl:variable name=&quot;x&quot; select=&quot;a/b/c&quot;/&gt;\r\n\r\nI&#39;ve seen a five-fold speed-up to a stylesheet when that error was fixed.\r\n\r\nEvery temporary tree needs to be allocated a unique document number for use if generate-id() is called. For some very trivial temporary trees comprising a single parentless node I think we allocate the document number lazily only if it&#39;s needed, but if the tree isn&#39;t completely trivial, the document number gets allocated on creation.\r\n\r\nThe call on `updateStatistics()` is another synchronised method, and is also associated with creation of temporary trees (it is used to learn what size to allocate for future trees, to minimise garbage collection overheads).\r\n\r\nOf course, with any workload like this, allocating the right number of threads is the key to getting the right balance of throughput and response time. 100 threads is almost certainly larger than the optimum, unless you&#39;re using hardware with very high parallelism. I would expect the workload to be heavily CPU-bound, which means there is very little point in allocating more threads than you have CPUs available.","title":"Saxon java methods cause a long blocked state in a multi-threaded application at high-load","body":"<p>I think you're seeing a common profiling effect where synchronized methods appear to be taking a high proportion of the total time, when actually what's happening is that they are much more likely to be sampled. The method <code>allocateDocumentNumber</code> is very unlikely to be causing much contention or taking a lot of time, but it could be distorting the profiling. If you have higher level of concurrency than the system can comfortably handle, then the scheduler will be looking for opportunities to pause one thread and give room for another, and these opportunities tend to coincide with calls on synchronized methods, even if those methods actually cause very little contention.</p>\n<p>However, if you are hitting this method very heavily, it could suggest that you are creating a large number of temporary trees, which people often do unintentionally by writing code such as</p>\n<pre><code>&lt;xsl:variable name=&quot;x&quot;&gt;\n  &lt;xsl:value-of select=&quot;a/b/c&quot;/&gt;\n&lt;/xsl:variable&gt;\n</code></pre>\n<p>when they should be writing</p>\n<pre><code>&lt;xsl:variable name=&quot;x&quot; select=&quot;a/b/c&quot;/&gt;\n</code></pre>\n<p>I've seen a five-fold speed-up to a stylesheet when that error was fixed.</p>\n<p>Every temporary tree needs to be allocated a unique document number for use if generate-id() is called. For some very trivial temporary trees comprising a single parentless node I think we allocate the document number lazily only if it's needed, but if the tree isn't completely trivial, the document number gets allocated on creation.</p>\n<p>The call on <code>updateStatistics()</code> is another synchronised method, and is also associated with creation of temporary trees (it is used to learn what size to allocate for future trees, to minimise garbage collection overheads).</p>\n<p>Of course, with any workload like this, allocating the right number of threads is the key to getting the right balance of throughput and response time. 100 threads is almost certainly larger than the optimum, unless you're using hardware with very high parallelism. I would expect the workload to be heavily CPU-bound, which means there is very little point in allocating more threads than you have CPUs available.</p>\n"}],"owner":{"account_id":25646790,"reputation":1,"user_id":19414758,"display_name":"gsv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689278926,"creation_date":1689262732,"question_id":76681173,"body_markdown":"I am trying to embed Saxon HE into our web java application. Each request to an endpoint causes an XSLT transformation. I tried sending 100 concurrent requests at the same time to test Saxon. Using the java profiler, I found that some methods cause a long blocking state. Here is an example of the longest ones that take more than 90% of the time: [enter image description here](https://i.stack.imgur.com/uoeBb.png)\r\n\r\nFor comparison, the time spent in the Runnable state is 2.5 times less.\r\n\r\nIs it possible to somehow solve the blocking state issue?","title":"Saxon java methods cause a long blocked state in a multi-threaded application at high-load","body":"<p>I am trying to embed Saxon HE into our web java application. Each request to an endpoint causes an XSLT transformation. I tried sending 100 concurrent requests at the same time to test Saxon. Using the java profiler, I found that some methods cause a long blocking state. Here is an example of the longest ones that take more than 90% of the time: <a href=\"https://i.stack.imgur.com/uoeBb.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>For comparison, the time spent in the Runnable state is 2.5 times less.</p>\n<p>Is it possible to somehow solve the blocking state issue?</p>\n"},{"tags":["java","spring-boot","jwt","spring-boot-security"],"answers":[{"comments":[{"owner":{"account_id":2550873,"reputation":794,"user_id":2214646,"accept_rate":66,"display_name":"Pamba"},"score":1,"creation_date":1689305286,"post_id":76682870,"comment_id":135197670,"body_markdown":"Now it is working fine. Thank you very much.","body":"Now it is working fine. Thank you very much."}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689278500,"creation_date":1689278500,"answer_id":76682870,"question_id":76682194,"body_markdown":"just add a bean in your **ApplicationSecurity**\r\n what is \r\n**Global AuthenticationManager**\r\n\r\n    @Bean public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {return authenticationConfiguration.getAuthenticationManager();}\r\n\r\nFinally it will work.\r\n\r\n","title":"Spring Boot APPLICATION FAILED TO START due to required a bean of type AuthenticationManager","body":"<p>just add a bean in your <strong>ApplicationSecurity</strong>\nwhat is\n<strong>Global AuthenticationManager</strong></p>\n<pre><code>@Bean public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {return authenticationConfiguration.getAuthenticationManager();}\n</code></pre>\n<p>Finally it will work.</p>\n"}],"owner":{"account_id":2550873,"reputation":794,"user_id":2214646,"accept_rate":66,"display_name":"Pamba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76682870,"answer_count":1,"score":0,"last_activity_date":1689278500,"creation_date":1689271914,"question_id":76682194,"body_markdown":"I am working in a spring web application with JWT.\r\n\r\nSpring Boot: 3.1.0\r\n\r\nJava: 17\r\n\r\nDatabase: mysql\r\n\r\nI can able to build successfully. When I try to run, then getting an error\r\n\r\nField authenticationManager in com.myapp.controller.LoginController required a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; that could not be found.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field authenticationManager in com.myapp.controller.LoginController required a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; in your configuration.\r\n\r\nLoginController\r\n\r\n    @Slf4j\r\n    @CrossOrigin(origins = &quot;http://localhost:8080&quot;)\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class LoginController {\r\n    \r\n    \t@Autowired\r\n    \tUserRepository userRepository;\r\n    \r\n    \t@Autowired\r\n    \tAuthenticationManager authenticationManager;\r\n    \r\n    \t@PostMapping(&quot;/login&quot;)\r\n    \tpublic ResponseEntity&lt;Object&gt; login(@Validated(ValidationOrder.class) Login loginData,\r\n    \t\t\tBindingResult bindingResult) {\r\n    \r\n    \t\ttry {\r\n    \r\n    \t\t\tOptional&lt;User&gt; user = userRepository.findByUserEmailAddress(loginData.getUserEmailAddress());\r\n    \r\n    \t\t\tif (user.isPresent() &amp;&amp; user.get().getUserPassword().equals(loginData.getUserPassword())) {\r\n    \r\n    \t\t\t\treturn ResponseEntity.ok(\r\n    \t\t\t\t\t\tnew RestResponse(ResponseStatus.SUCCESS.toString(), &quot;Login Success&quot;, user.get().getUserName()));\r\n    \r\n    \t\t\t} else {\r\n    \r\n    \t\t\t\treturn ResponseEntity.ok(new RestResponse(ResponseStatus.ERROR.toString(),\r\n    \t\t\t\t\t\t&quot;Login Failed. Invalid username or password!!!&quot;, null));\r\n    \t\t\t}\r\n    \r\n    \t\t} catch (Exception ex) {\r\n    \r\n    \t\t\tlog.error(null, ex);\r\n    \t\t\treturn ResponseEntity.ok(new RestResponse(ResponseStatus.ERROR.toString(), ex.getMessage(), null));\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nApplicationSecurity \r\n\r\n    @Configuration\r\n    @EnableMethodSecurity\r\n    public class ApplicationSecurity {//extends WebSecurityConfiguration {\r\n    \r\n    \t@Autowired\r\n    \tprivate JwtAuthenticationEntryPoint unauthorizedHandler;\r\n    \r\n    \t@Autowired\r\n    \tJwtUserDetailsService jwtUserDetailsService;\r\n    \r\n    \t@Bean\r\n    \tpublic JwtAuthenticationFilter authenticationJwtTokenFilter() {\r\n    \r\n    \t\treturn new JwtAuthenticationFilter();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic DaoAuthenticationProvider authenticationProvider() {\r\n    \r\n    \t\tDaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n    \r\n    \t\tauthProvider.setUserDetailsService(jwtUserDetailsService);\r\n    \t\tauthProvider.setPasswordEncoder(passwordEncoder());\r\n    \r\n    \t\treturn authProvider;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic PasswordEncoder passwordEncoder() {\r\n    \r\n    \t\treturn new BCryptPasswordEncoder();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    \r\n    \t\t//@formatter:off\r\n    \t\thttp.csrf(csrf -&gt; csrf.disable())\r\n    \t\t\t\t.exceptionHandling(exception -&gt; exception.authenticationEntryPoint(unauthorizedHandler))\r\n    \t\t\t\t.sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n    \t\t\t\t.authorizeHttpRequests(auth -&gt; auth.requestMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n    \t\t\t\t\t\t\t\t\t\t\t\t   //.requestMatchers(&quot;/api/test/**&quot;).permitAll()\r\n    \t\t\t\t\t\t\t\t\t\t\t\t   .anyRequest()\r\n    \t\t\t\t\t\t\t\t\t\t\t\t   .authenticated()\r\n    \t\t\t\t\t\t\t\t\t  );\r\n    \t\t//@formatter:on\r\n    \r\n    \t\thttp.authenticationProvider(authenticationProvider());\r\n    \r\n    \t\thttp.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n    \r\n    \t\treturn http.build();\r\n    \t}\r\n    }\r\n\r\nJwtAuthenticationEntryPoint \r\n\r\n    @Component\r\n    public class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint, Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = -7858869558953243875L;\r\n    \r\n    \t@Override\r\n    \tpublic void commence(HttpServletRequest request, HttpServletResponse response,\r\n    \t\t\tAuthenticationException authException) throws IOException {\r\n    \r\n    \t\tresponse.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\nAny idea about this error.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wY9al.png","title":"Spring Boot APPLICATION FAILED TO START due to required a bean of type AuthenticationManager","body":"<p>I am working in a spring web application with JWT.</p>\n<p>Spring Boot: 3.1.0</p>\n<p>Java: 17</p>\n<p>Database: mysql</p>\n<p>I can able to build successfully. When I try to run, then getting an error</p>\n<p>Field authenticationManager in com.myapp.controller.LoginController required a bean of type 'org.springframework.security.authentication.AuthenticationManager' that could not be found.</p>\n<p><a href=\"https://i.stack.imgur.com/wY9al.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wY9al.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField authenticationManager in com.myapp.controller.LoginController required a bean of type 'org.springframework.security.authentication.AuthenticationManager' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.security.authentication.AuthenticationManager' in your configuration.\n</code></pre>\n<p>LoginController</p>\n<pre><code>@Slf4j\n@CrossOrigin(origins = &quot;http://localhost:8080&quot;)\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class LoginController {\n\n    @Autowired\n    UserRepository userRepository;\n\n    @Autowired\n    AuthenticationManager authenticationManager;\n\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;Object&gt; login(@Validated(ValidationOrder.class) Login loginData,\n            BindingResult bindingResult) {\n\n        try {\n\n            Optional&lt;User&gt; user = userRepository.findByUserEmailAddress(loginData.getUserEmailAddress());\n\n            if (user.isPresent() &amp;&amp; user.get().getUserPassword().equals(loginData.getUserPassword())) {\n\n                return ResponseEntity.ok(\n                        new RestResponse(ResponseStatus.SUCCESS.toString(), &quot;Login Success&quot;, user.get().getUserName()));\n\n            } else {\n\n                return ResponseEntity.ok(new RestResponse(ResponseStatus.ERROR.toString(),\n                        &quot;Login Failed. Invalid username or password!!!&quot;, null));\n            }\n\n        } catch (Exception ex) {\n\n            log.error(null, ex);\n            return ResponseEntity.ok(new RestResponse(ResponseStatus.ERROR.toString(), ex.getMessage(), null));\n        }\n    }\n}\n</code></pre>\n<p>ApplicationSecurity</p>\n<pre><code>@Configuration\n@EnableMethodSecurity\npublic class ApplicationSecurity {//extends WebSecurityConfiguration {\n\n    @Autowired\n    private JwtAuthenticationEntryPoint unauthorizedHandler;\n\n    @Autowired\n    JwtUserDetailsService jwtUserDetailsService;\n\n    @Bean\n    public JwtAuthenticationFilter authenticationJwtTokenFilter() {\n\n        return new JwtAuthenticationFilter();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n\n        authProvider.setUserDetailsService(jwtUserDetailsService);\n        authProvider.setPasswordEncoder(passwordEncoder());\n\n        return authProvider;\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        //@formatter:off\n        http.csrf(csrf -&gt; csrf.disable())\n                .exceptionHandling(exception -&gt; exception.authenticationEntryPoint(unauthorizedHandler))\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authorizeHttpRequests(auth -&gt; auth.requestMatchers(&quot;/api/auth/**&quot;).permitAll()\n                                                   //.requestMatchers(&quot;/api/test/**&quot;).permitAll()\n                                                   .anyRequest()\n                                                   .authenticated()\n                                      );\n        //@formatter:on\n\n        http.authenticationProvider(authenticationProvider());\n\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n}\n</code></pre>\n<p>JwtAuthenticationEntryPoint</p>\n<pre><code>@Component\npublic class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint, Serializable {\n\n    private static final long serialVersionUID = -7858869558953243875L;\n\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response,\n            AuthenticationException authException) throws IOException {\n\n        response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;);\n    }\n}\n</code></pre>\n<p>Any idea about this error.</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","microsoft-edge"],"answers":[{"tags":[],"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689248930,"creation_date":1689248930,"answer_id":76679047,"question_id":76678888,"body_markdown":"If you&#39;re wanting to handle drivers version / installation automatically, I suggest to use Webdriver manager like [this][1]\r\n\r\n\r\nYou can simply add dependency to `pom.xml`\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n                &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n[Reference][2]\r\n\r\n\r\n  [1]: https://github.com/bonigarcia/webdrivermanager\r\n  [2]: https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager\r\n\r\nAnd then use code like\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public class SiteTest extends BaseTest {\r\n\r\n        @BeforeClass\r\n        public static void setupAll() {\r\n            WebDriverManager.edgedriver().setup();\r\n        }\r\n\r\n        @Test\r\n        public void openSite() {\r\n            WebDriver driver = new EdgeDriver();\r\n            driver.get(&quot;https://example.com&quot;);\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIf this would work for you - so issue with session was in driver compatibility.","title":"Could not start a new session. Response code 500. Message: session not created using Selenium Java with a downloaded chromedriver","body":"<p>If you're wanting to handle drivers version / installation automatically, I suggest to use Webdriver manager like <a href=\"https://github.com/bonigarcia/webdrivermanager\" rel=\"nofollow noreferrer\">this</a></p>\n<p>You can simply add dependency to <code>pom.xml</code></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.3.2&lt;/version&gt;\n        &lt;/dependency&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><a href=\"https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager\" rel=\"nofollow noreferrer\">Reference</a></p>\n<p>And then use code like</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public class SiteTest extends BaseTest {\n\n    @BeforeClass\n    public static void setupAll() {\n        WebDriverManager.edgedriver().setup();\n    }\n\n    @Test\n    public void openSite() {\n        WebDriver driver = new EdgeDriver();\n        driver.get(\"https://example.com\");\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>If this would work for you - so issue with session was in driver compatibility.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689278299,"creation_date":1689278299,"answer_id":76682850,"question_id":76678888,"body_markdown":"You need to consider a couple of things:\r\n\r\n- Upgrade to [Selenium](https://stackoverflow.com/a/54482491/7429447) _**v4.6**_ or above so [_**Selenium Manager**_](https://stackoverflow.com/a/76563271/7429447) can automatically download the matching EdgeDriver. So you can remove\r\n\r\n\t  System.setProperty(&quot;webdriver.edge.driver&quot;, &quot;driverpath&quot;);\r\n\t\r\n- `--remote-allow-origins=*` is no more mandatory with Chrome and [ChromeDriver](https://stackoverflow.com/a/59927747/7429447) _version: 114.0_. So you can drop it.\r\n- [_`disable-dev-shm-usage`_](https://stackoverflow.com/a/76615980/7429447)  isn&#39;t effective unless you are using the [_`--no-sandbox`_](https://stackoverflow.com/a/71699916/7429447) argument. So you can drop it.\r\n\r\nMaking the above mentioned adjustments execute your code.","title":"Could not start a new session. Response code 500. Message: session not created using Selenium Java with a downloaded chromedriver","body":"<p>You need to consider a couple of things:</p>\n<ul>\n<li><p>Upgrade to <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> <em><strong>v4.6</strong></em> or above so <a href=\"https://stackoverflow.com/a/76563271/7429447\"><em><strong>Selenium Manager</strong></em></a> can automatically download the matching EdgeDriver. So you can remove</p>\n<pre><code>System.setProperty(&quot;webdriver.edge.driver&quot;, &quot;driverpath&quot;);\n</code></pre>\n</li>\n<li><p><code>--remote-allow-origins=*</code> is no more mandatory with Chrome and <a href=\"https://stackoverflow.com/a/59927747/7429447\">ChromeDriver</a> <em>version: 114.0</em>. So you can drop it.</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/a/76615980/7429447\"><em><code>disable-dev-shm-usage</code></em></a>  isn't effective unless you are using the <a href=\"https://stackoverflow.com/a/71699916/7429447\"><em><code>--no-sandbox</code></em></a> argument. So you can drop it.</p>\n</li>\n</ul>\n<p>Making the above mentioned adjustments execute your code.</p>\n"}],"owner":{"account_id":29009350,"reputation":11,"user_id":22221167,"display_name":"dawge4qd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":802,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689278299,"creation_date":1689247868,"question_id":76678888,"body_markdown":"When I try to start a new Microsoft Edge session, I encounter this error:\r\n&gt; Unknown Problem: Could not start a new session. Response code 500. Message: session not created\r\n&gt; from no such execution context: loader has changed while resolving nodes\r\n&gt; (Session info: MicrosoftEdge=114.0.1823.79)\r\n&gt; System info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;11.0.15&#39;\r\n&gt; Driver info: org.openqa.selenium.edge.EdgeDriver\r\n\r\nI have already researched this specific error, and the only solution I found was to add these two arguments:\r\n&gt;--disable-dev-shm-usage\r\n&gt;--remote-allow-origins=*\r\n\r\nand to add this setting:\r\n&gt;System.setProperty(&quot;webdriver.edge.driver&quot;, &quot;driverpath&quot;);\r\n\r\nwhich I have already done.\r\n\r\nEdit:\r\nThis problem only occurs in our CI, and it happens kind of randomly.","title":"Could not start a new session. Response code 500. Message: session not created using Selenium Java with a downloaded chromedriver","body":"<p>When I try to start a new Microsoft Edge session, I encounter this error:</p>\n<blockquote>\n<p>Unknown Problem: Could not start a new session. Response code 500. Message: session not created\nfrom no such execution context: loader has changed while resolving nodes\n(Session info: MicrosoftEdge=114.0.1823.79)\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.15'\nDriver info: org.openqa.selenium.edge.EdgeDriver</p>\n</blockquote>\n<p>I have already researched this specific error, and the only solution I found was to add these two arguments:</p>\n<blockquote>\n<p>--disable-dev-shm-usage\n--remote-allow-origins=*</p>\n</blockquote>\n<p>and to add this setting:</p>\n<blockquote>\n<p>System.setProperty(&quot;webdriver.edge.driver&quot;, &quot;driverpath&quot;);</p>\n</blockquote>\n<p>which I have already done.</p>\n<p>Edit:\nThis problem only occurs in our CI, and it happens kind of randomly.</p>\n"},{"tags":["java","logging","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":3476450,"reputation":21,"user_id":5941773,"display_name":"Chris Hagn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550181255,"creation_date":1550181255,"answer_id":54699648,"question_id":49207604,"body_markdown":"I do something similar with an environment variable.  user.home should be a fully qualified path without any prefix needed.  Example:\r\n`user.home == C:\\Users\\dumbo`\r\n\r\n\r\nTry removing the first slash from your log folder.\r\n\r\nFrom:\r\n`&lt;Property name=&quot;logfolder&quot;&gt;/${sys:user.home}/xx/log/ff&lt;/Property&gt;`\r\n\r\nTo:\r\n`&lt;Property name=&quot;logfolder&quot;&gt;${sys:user.home}/xx/log/ff&lt;/Property&gt;`","title":"Could not create plugin of type class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile","body":"<p>I do something similar with an environment variable.  user.home should be a fully qualified path without any prefix needed.  Example:\n<code>user.home == C:\\Users\\dumbo</code></p>\n\n<p>Try removing the first slash from your log folder.</p>\n\n<p>From:\n<code>&lt;Property name=\"logfolder\"&gt;/${sys:user.home}/xx/log/ff&lt;/Property&gt;</code></p>\n\n<p>To:\n<code>&lt;Property name=\"logfolder\"&gt;${sys:user.home}/xx/log/ff&lt;/Property&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":12519903,"reputation":51,"user_id":9111649,"display_name":"Vijay Gawade"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573148000,"creation_date":1573148000,"answer_id":58754200,"question_id":49207604,"body_markdown":"add full path to the directory according to **operating system**\r\n\r\nif linux:\r\n\r\n    /opt/tomcat/apache-tomcat-9.0.27/webapps/My_Logs\r\n\r\nif Windows: (Not Need generally append automatically )\r\n\r\n       C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\My_Logs","title":"Could not create plugin of type class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile","body":"<p>add full path to the directory according to <strong>operating system</strong></p>\n\n<p>if linux:</p>\n\n<pre><code>/opt/tomcat/apache-tomcat-9.0.27/webapps/My_Logs\n</code></pre>\n\n<p>if Windows: (Not Need generally append automatically )</p>\n\n<pre><code>   C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\My_Logs\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2451099,"reputation":911,"user_id":2137378,"display_name":"Amin Heydari Alashti"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1584347415,"creation_date":1584347415,"answer_id":60702572,"question_id":49207604,"body_markdown":"In my case, the user I ran the program had not the permission to create the log directory and write into it. So, I just changed the owner of the working directory and restarted the program without any problem.\r\n\r\n    sudo chown -R runner-user:runner-user working-directory/*","title":"Could not create plugin of type class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile","body":"<p>In my case, the user I ran the program had not the permission to create the log directory and write into it. So, I just changed the owner of the working directory and restarted the program without any problem.</p>\n\n<pre><code>sudo chown -R runner-user:runner-user working-directory/*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25456819,"reputation":1,"user_id":19257317,"display_name":"Daniela Hernandez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654699210,"creation_date":1654699210,"answer_id":72547688,"question_id":49207604,"body_markdown":"In my case it was related with **administrator permissions** , so I just executed the Integration Studio as Administrator and the run was success ","title":"Could not create plugin of type class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile","body":"<p>In my case it was related with <strong>administrator permissions</strong> , so I just executed the Integration Studio as Administrator and the run was success</p>\n"},{"tags":[],"owner":{"account_id":4699868,"reputation":363,"user_id":3803726,"display_name":"Chioke Aarhus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689278216,"creation_date":1689278216,"answer_id":76682836,"question_id":49207604,"body_markdown":"This error typically occurs when the running program either:\r\n- A) does not have the permission to create the log directory and write into it or\r\n- B) the log directory set for the program is invalid.\r\n\r\nI&#39;d recommend first verifying where the log directory is pointing to (is it something explicit like a C: or D: drive or trying to point to a remote location?). Once you&#39;ve validated the log directory, then validate that the program has permissions to write to said directory.\r\n\r\nTry validating your **log4j2.xml** file or **log4js config** and ensuring the path is write accessible.\r\n\r\nHappy coding!","title":"Could not create plugin of type class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile","body":"<p>This error typically occurs when the running program either:</p>\n<ul>\n<li>A) does not have the permission to create the log directory and write into it or</li>\n<li>B) the log directory set for the program is invalid.</li>\n</ul>\n<p>I'd recommend first verifying where the log directory is pointing to (is it something explicit like a C: or D: drive or trying to point to a remote location?). Once you've validated the log directory, then validate that the program has permissions to write to said directory.</p>\n<p>Try validating your <strong>log4j2.xml</strong> file or <strong>log4js config</strong> and ensuring the path is write accessible.</p>\n<p>Happy coding!</p>\n"}],"owner":{"account_id":4144966,"reputation":1077,"user_id":3398989,"accept_rate":86,"display_name":"SyCode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35904,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":5,"score":8,"last_activity_date":1689278216,"creation_date":1520674974,"question_id":49207604,"body_markdown":"I want my application to output logs to a the logfile in a  user&#39;s home directory.\r\nTherefore I have configured the `log4j2.xml` file as below:\r\n\r\n    &lt;Configuration&gt;\r\n    &lt;Properties&gt;\r\n        &lt;Property name=&quot;logfolder&quot;&gt;/${sys:user.home}/xx/log/ff&lt;/Property&gt;\r\n    &lt;/Properties&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;RollingFile name=&quot;user_file&quot; append=&quot;true&quot; fileName=&quot;${logfolder}/logxyz.csv&quot; filePattern=&quot;${logfolder}/old/$${date:yyyy-MM}/service-%d{MM-dd-yyyy}-%i.csv.gz&quot;&gt;\r\n            &lt;CsvParameterLayout format=&quot;Default&quot; nullString=&quot;&quot; charset=&quot;UTF-8&quot;/&gt; \r\n            &lt;Policies&gt;\r\nI can see the logs in the specified folder, however, some errors are displayed in the console:\r\n\r\n    ERROR Could not create plugin of type class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile : java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2: /C:\\Users\\xx/yy/log/abc/def.csv java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2: /C:\\Users\\xx/yy/log/abc/def.csv\r\n\tat sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)\r\n\r\nThe error seems to be related to parsing the windows files system, but I&#39;ve got no idea how to go about this. Will appreciate any directions. I am developing on Windows 10, but the application logging should be cross-platform.","title":"Could not create plugin of type class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile","body":"<p>I want my application to output logs to a the logfile in a  user's home directory.\nTherefore I have configured the <code>log4j2.xml</code> file as below:</p>\n\n<pre><code>&lt;Configuration&gt;\n&lt;Properties&gt;\n    &lt;Property name=\"logfolder\"&gt;/${sys:user.home}/xx/log/ff&lt;/Property&gt;\n&lt;/Properties&gt;\n&lt;Appenders&gt;\n    &lt;RollingFile name=\"user_file\" append=\"true\" fileName=\"${logfolder}/logxyz.csv\" filePattern=\"${logfolder}/old/$${date:yyyy-MM}/service-%d{MM-dd-yyyy}-%i.csv.gz\"&gt;\n        &lt;CsvParameterLayout format=\"Default\" nullString=\"\" charset=\"UTF-8\"/&gt; \n        &lt;Policies&gt;\n</code></pre>\n\n<p>I can see the logs in the specified folder, however, some errors are displayed in the console:</p>\n\n<pre><code>ERROR Could not create plugin of type class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile : java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2: /C:\\Users\\xx/yy/log/abc/def.csv java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2: /C:\\Users\\xx/yy/log/abc/def.csv\nat sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)\n</code></pre>\n\n<p>The error seems to be related to parsing the windows files system, but I've got no idea how to go about this. Will appreciate any directions. I am developing on Windows 10, but the application logging should be cross-platform.</p>\n"},{"tags":["java","maven","security","maven-plugin"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1689275677,"post_id":76682522,"comment_id":135194435,"body_markdown":"Probably a good idea to post the pom","body":"Probably a good idea to post the pom"},{"owner":{"account_id":17410477,"reputation":3,"user_id":12617743,"display_name":"Erik Torres"},"score":0,"creation_date":1689277786,"post_id":76682522,"comment_id":135194859,"body_markdown":"Thanks g00se, I have posted it already","body":"Thanks g00se, I have posted it already"}],"owner":{"account_id":17410477,"reputation":3,"user_id":12617743,"display_name":"Erik Torres"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689277740,"creation_date":1689275145,"question_id":76682522,"body_markdown":"Currently my project is using the maven-bundle-plugin 5.1.9 version. Unfortunately we are receiving a vulnerability alert due to the commons-collections 3.2. I&#39;d like to request your kind advice on how it might be possible to exclude this dependency from the plugin or to get it overridden by a newer version.\r\n\r\nFollowing the articule described in [Maven Plugin Exclude Dependency][1]\r\nI&#39;ve tried by creating an additional module with the intention of using it for substituting the problematic version and then add it to the dependencies section of the maven-bundle-plugin but still the same version is coming.\r\n\r\nThank you and I look forward to hearing from you. Kind regards\r\n\r\nAdding the POM: `&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;com.tree.1987.factory&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;factory-tree-project&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.2.0.jiffy-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath&gt;../factory-tree-project&lt;/relativePath&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;groupId&gt;com.tree.factory&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;factory-access-control&lt;/artifactId&gt;\r\n\t&lt;name&gt;Tree Factory Control&lt;/name&gt;\r\n\t&lt;packaging&gt;bundle&lt;/packaging&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;extensions&gt;true&lt;/extensions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;instructions&gt;\r\n\t\t\t\t\t\t&lt;Import-Package&gt;&lt;![CDATA[\r\n\t\t\t             !org.eclipse.jdt.core.compiler,\r\n\t\t\t\t\t\t com.google.common.base,\r\n\t\t\t\t\t\t org.eclipse.gemini.blueprint.extensions.annotation,\r\n\t\t\t\t\t\t org.springframework.data.mapping,\r\n\t\t\t             org.springframework.util,\r\n\t\t\t             !com.querydsl.apt,\r\n            \t\t\t !com.mysema.codegen,\r\n\t\t\t             *\r\n\t\t\t             ]]&gt;\r\n\t\t\t\t\t\t &lt;/Import-Package&gt;\r\n\t\t\t\t\t\t &lt;Embed-Dependency&gt;\r\n\t\t\t\t\t\t\tspring-data-commons;scope=runtime,\r\n\t\t\t\t\t\t\tspring-data-mongodb;scope=runtime,\r\n\t\t\t\t\t\t\txmlprojector\r\n\t\t\t\t\t\t &lt;/Embed-Dependency&gt;\r\n\t\t\t\t\t&lt;/instructions&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.scalatest&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;scalatest-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;shiro-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;shiro-spring&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;shiro-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.servicemix.bundles&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;org.apache.servicemix.bundles.spring-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.owasp.encoder&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;encoder&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n`\r\n\r\n  [1]: https://examples.javacodegeeks.com/maven-plugin-exclude-dependency/?amp=1","title":"Excluding commons-collections 3.2 from maven-bundle-plugin","body":"<p>Currently my project is using the maven-bundle-plugin 5.1.9 version. Unfortunately we are receiving a vulnerability alert due to the commons-collections 3.2. I'd like to request your kind advice on how it might be possible to exclude this dependency from the plugin or to get it overridden by a newer version.</p>\n<p>Following the articule described in <a href=\"https://examples.javacodegeeks.com/maven-plugin-exclude-dependency/?amp=1\" rel=\"nofollow noreferrer\">Maven Plugin Exclude Dependency</a>\nI've tried by creating an additional module with the intention of using it for substituting the problematic version and then add it to the dependencies section of the maven-bundle-plugin but still the same version is coming.</p>\n<p>Thank you and I look forward to hearing from you. Kind regards</p>\n<p>Adding the POM: `\n</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;com.tree.1987.factory&lt;/groupId&gt;\n    &lt;artifactId&gt;factory-tree-project&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0.jiffy-SNAPSHOT&lt;/version&gt;\n    &lt;relativePath&gt;../factory-tree-project&lt;/relativePath&gt;\n&lt;/parent&gt;\n\n&lt;groupId&gt;com.tree.factory&lt;/groupId&gt;\n&lt;artifactId&gt;factory-access-control&lt;/artifactId&gt;\n&lt;name&gt;Tree Factory Control&lt;/name&gt;\n&lt;packaging&gt;bundle&lt;/packaging&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\n            &lt;extensions&gt;true&lt;/extensions&gt;\n            &lt;configuration&gt;\n                &lt;instructions&gt;\n                    &lt;Import-Package&gt;&lt;![CDATA[\n                     !org.eclipse.jdt.core.compiler,\n                     com.google.common.base,\n                     org.eclipse.gemini.blueprint.extensions.annotation,\n                     org.springframework.data.mapping,\n                     org.springframework.util,\n                     !com.querydsl.apt,\n                     !com.mysema.codegen,\n                     *\n                     ]]&gt;\n                     &lt;/Import-Package&gt;\n                     &lt;Embed-Dependency&gt;\n                        spring-data-commons;scope=runtime,\n                        spring-data-mongodb;scope=runtime,\n                        xmlprojector\n                     &lt;/Embed-Dependency&gt;\n                &lt;/instructions&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.scalatest&lt;/groupId&gt;\n            &lt;artifactId&gt;scalatest-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n        &lt;artifactId&gt;shiro-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n        &lt;artifactId&gt;shiro-spring&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n        &lt;artifactId&gt;shiro-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.servicemix.bundles&lt;/groupId&gt;\n        &lt;artifactId&gt;org.apache.servicemix.bundles.spring-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.owasp.encoder&lt;/groupId&gt;\n        &lt;artifactId&gt;encoder&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n&lt;/dependencies&gt;\n</code></pre>\n\n`\n"},{"tags":["java","leap-year","acm-java-libraries"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1245502350,"post_id":1021324,"comment_id":831205,"body_markdown":"Best code would be to use a trusted library instead.  Cletus suggestion of using the Calendar class is a prime example hereof.","body":"Best code would be to use a trusted library instead.  Cletus suggestion of using the Calendar class is a prime example hereof."},{"owner":{"account_id":36198,"reputation":3201,"user_id":103132,"accept_rate":100,"display_name":"Ibn Saeed"},"score":0,"creation_date":1245503192,"post_id":1021324,"comment_id":831229,"body_markdown":"You are correct if Im using the regular Java library. But in my course, im using ACM&#39;s Java Task Force&#39;s library.\n\nhttp://www-cs-faculty.stanford.edu/~eroberts/jtf/","body":"You are correct if Im using the regular Java library. But in my course, im using ACM&#39;s Java Task Force&#39;s library.  <a href=\"http://www-cs-faculty.stanford.edu/~eroberts/jtf/\" rel=\"nofollow noreferrer\">www-cs-faculty.stanford.edu/~eroberts/jtf</a>"},{"owner":{"account_id":290230,"reputation":46508,"user_id":591656,"accept_rate":100,"display_name":"CharithJ"},"score":1,"creation_date":1315878080,"post_id":1021324,"comment_id":8933327,"body_markdown":"Here is similar thread. http://stackoverflow.com/questions/7395699/calculate-leap-year-in-java/7395759#7395759","body":"Here is similar thread. <a href=\"http://stackoverflow.com/questions/7395699/calculate-leap-year-in-java/7395759#7395759\" title=\"calculate leap year in java\">stackoverflow.com/questions/7395699/calculate-leap-year-in-j&zwnj;&#8203;ava/&hellip;</a>"},{"owner":{"account_id":32385,"reputation":31109,"user_id":89818,"accept_rate":96,"display_name":"caw"},"score":1,"creation_date":1383589124,"post_id":1021324,"comment_id":29390524,"body_markdown":"The method from the book is for the Gregorian Calendar, your method is just wrong (leap year every 400 years only?) and every four years would be for the Julian Calendar.","body":"The method from the book is for the Gregorian Calendar, your method is just wrong (leap year every 400 years only?) and every four years would be for the Julian Calendar."},{"owner":{"account_id":141848,"reputation":1340,"user_id":349161,"accept_rate":73,"display_name":"dipu"},"score":0,"creation_date":1403121652,"post_id":1021324,"comment_id":37541546,"body_markdown":"if((year % 4 == 0 || year % 400 == 0) &amp;&amp; year % 100 != 0){ println(year +&quot; is leap year&quot;) }","body":"if((year % 4 == 0 || year % 400 == 0) &amp;&amp; year % 100 != 0){ println(year +&quot; is leap year&quot;) }"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1415969403,"post_id":1021324,"comment_id":42405995,"body_markdown":"@dipu That fails for multiples of 400.","body":"@dipu That fails for multiples of 400."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1523332979,"post_id":1021324,"comment_id":86504693,"body_markdown":"[`java.time.Year`](https://docs.oracle.com/javase/10/docs/api/java/time/Year.html) is your friend. See [Answer](https://stackoverflow.com/a/37380349/642706).","body":"<a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/Year.html\" rel=\"nofollow noreferrer\"><code>java.time.Year</code></a> is your friend. See <a href=\"https://stackoverflow.com/a/37380349/642706\">Answer</a>."}],"answers":[{"comments":[{"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"score":0,"creation_date":1245492746,"post_id":1021332,"comment_id":830994,"body_markdown":"If I were a lecturer, I&#39;d teach unit testing first. In maths and engineering maths classes, it&#39;s normal practice to put the results back through the formulas to check them; unit testing is getting the computer to do the same thing for your program.","body":"If I were a lecturer, I&#39;d teach unit testing first. In maths and engineering maths classes, it&#39;s normal practice to put the results back through the formulas to check them; unit testing is getting the computer to do the same thing for your program."},{"owner":{"account_id":36198,"reputation":3201,"user_id":103132,"accept_rate":100,"display_name":"Ibn Saeed"},"score":0,"creation_date":1245492932,"post_id":1021332,"comment_id":830997,"body_markdown":"Im following Standfords Programming Methodology Video course, the lecturer is using The Art and Science of Java book to teach the methodology of programming rather than teach Java. \n\nIm on chapter 4 and still there is no topic on Unit Testing so far.","body":"Im following Standfords Programming Methodology Video course, the lecturer is using The Art and Science of Java book to teach the methodology of programming rather than teach Java.   Im on chapter 4 and still there is no topic on Unit Testing so far."},{"owner":{"account_id":1576591,"reputation":5132,"user_id":1462846,"accept_rate":96,"display_name":"jcw"},"score":0,"creation_date":1370711077,"post_id":1021332,"comment_id":24565961,"body_markdown":"I am a little bit confused, why are years before 1583 not valid?","body":"I am a little bit confused, why are years before 1583 not valid?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1370762897,"post_id":1021332,"comment_id":24575506,"body_markdown":"@jcw 1583 was the first year of the Gregorian Calendar.  Different countries adopted it in different years, making year between 1583 and the year it was adopted more complicated. (A idea of how confusing it can be http://en.wikipedia.org/wiki/February_30) In any case, it doesn&#39;t make sense to use the Gregorian Calendar before it was created.","body":"@jcw 1583 was the first year of the Gregorian Calendar.  Different countries adopted it in different years, making year between 1583 and the year it was adopted more complicated. (A idea of how confusing it can be <a href=\"http://en.wikipedia.org/wiki/February_30\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/February_30</a>) In any case, it doesn&#39;t make sense to use the Gregorian Calendar before it was created."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":4,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1245491833,"creation_date":1245491833,"answer_id":1021332,"question_id":1021324,"body_markdown":"I suggest you put this code into a method and create a unit test.\r\n\r\n    public static boolean isLeapYear(int year) {\r\n        assert year &gt;= 1583; // not valid before this date.\r\n        return ((year % 4 == 0) &amp;&amp; (year % 100 != 0)) || (year % 400 == 0);\r\n    }\r\n\r\nIn the unit test\r\n\r\n    assertTrue(isLeapYear(2000));\r\n    assertTrue(isLeapYear(1904));\r\n    assertFalse(isLeapYear(1900));\r\n    assertFalse(isLeapYear(1901));\r\n\r\n","title":"Java Code for calculating Leap Year","body":"<p>I suggest you put this code into a method and create a unit test.</p>\n\n<pre><code>public static boolean isLeapYear(int year) {\n    assert year &gt;= 1583; // not valid before this date.\n    return ((year % 4 == 0) &amp;&amp; (year % 100 != 0)) || (year % 400 == 0);\n}\n</code></pre>\n\n<p>In the unit test</p>\n\n<pre><code>assertTrue(isLeapYear(2000));\nassertTrue(isLeapYear(1904));\nassertFalse(isLeapYear(1900));\nassertFalse(isLeapYear(1901));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1245492436,"creation_date":1245492436,"answer_id":1021348,"question_id":1021324,"body_markdown":"It&#39;s almost always wrong to have repetition in software. In any engineering discipline, form should follow function, and you have three branches for something which has two possible paths - it&#39;s either a leap year or not.\r\n\r\nThe mechanism which has the test on one line doesn&#39;t have that issue, but generally it would be better to separate the test into a function which takes an int representing a year and returns a boolean representing whether or not the year is a leap year. That way you can do something with it other that print to standard output on the console, and can more easily test it.\r\n\r\nIn code which is known to exceed its performance budget, it&#39;s usual to arrange the tests so that they are not redundant and perform the tests in an order which returns early. The wikipedia example does this - for most years you have to calculate modulo 400,100 and 4, but for a few you only need modulo 400 or 400 and 100. This is a small optimisation in terms of performance ( at best, only one in a hundred inputs are effected ), but it also means the code has less repetition, and there&#39;s less for the programmer to type in. ","title":"Java Code for calculating Leap Year","body":"<p>It's almost always wrong to have repetition in software. In any engineering discipline, form should follow function, and you have three branches for something which has two possible paths - it's either a leap year or not.</p>\n\n<p>The mechanism which has the test on one line doesn't have that issue, but generally it would be better to separate the test into a function which takes an int representing a year and returns a boolean representing whether or not the year is a leap year. That way you can do something with it other that print to standard output on the console, and can more easily test it.</p>\n\n<p>In code which is known to exceed its performance budget, it's usual to arrange the tests so that they are not redundant and perform the tests in an order which returns early. The wikipedia example does this - for most years you have to calculate modulo 400,100 and 4, but for a few you only need modulo 400 or 400 and 100. This is a small optimisation in terms of performance ( at best, only one in a hundred inputs are effected ), but it also means the code has less repetition, and there's less for the programmer to type in. </p>\n"},{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":4,"creation_date":1245502287,"post_id":1021373,"comment_id":831202,"body_markdown":"+1 for using library code.  I would suggestion adding a note on it is because that 400 is a multiplum of 100 that you test for 400 before 100 as opposed to the original code.","body":"+1 for using library code.  I would suggestion adding a note on it is because that 400 is a multiplum of 100 that you test for 400 before 100 as opposed to the original code."},{"owner":{"account_id":2344394,"reputation":1060,"user_id":2055028,"display_name":"Olofu Mark"},"score":0,"creation_date":1371739102,"post_id":1021373,"comment_id":24940217,"body_markdown":"@cletus where is the DAY_OF_YEAR value passed to cal.getActualMaximum();","body":"@cletus where is the DAY_OF_YEAR value passed to cal.getActualMaximum();"},{"owner":{"account_id":2344394,"reputation":1060,"user_id":2055028,"display_name":"Olofu Mark"},"score":0,"creation_date":1371740314,"post_id":1021373,"comment_id":24941047,"body_markdown":"that line should be `cal.getActualMaximum(cal.DAY_OF_YEAR);`","body":"that line should be <code>cal.getActualMaximum(cal.DAY_OF_YEAR);</code>"},{"owner":{"account_id":963522,"reputation":1112,"user_id":3767684,"accept_rate":25,"display_name":"PinoyCoder"},"score":1,"creation_date":1376719873,"post_id":1021373,"comment_id":26825879,"body_markdown":"+1 for @OlofuMark for pointing that out. but a minor change: it should be `Calendar.getActualMaximum(Calendar.DAY_OF_YEAR);` because `DAY_OF_YEAR` is a static member and therefore, should be accessed in a static way. =)","body":"+1 for @OlofuMark for pointing that out. but a minor change: it should be <code>Calendar.getActualMaximum(Calendar.DAY_OF_YEAR);</code> because <code>DAY_OF_YEAR</code> is a static member and therefore, should be accessed in a static way. =)"},{"owner":{"account_id":37785,"reputation":42708,"user_id":108130,"accept_rate":68,"display_name":"Nick Dandoulakis"},"score":0,"creation_date":1411491534,"post_id":1021373,"comment_id":40719057,"body_markdown":"or `return year % 100 == 0 ? year % 400 == 0 : year % 4 == 0;`","body":"or <code>return year % 100 == 0 ? year % 400 == 0 : year % 4 == 0;</code>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":6,"creation_date":1415969536,"post_id":1021373,"comment_id":42406073,"body_markdown":"Even better - `return new GregorianCalendar(year, 1, 1).isLeapYear();`","body":"Even better - <code>return new GregorianCalendar(year, 1, 1).isLeapYear();</code>"},{"owner":{"account_id":6787029,"reputation":101,"user_id":5388660,"display_name":"Bharat G"},"score":0,"creation_date":1444922866,"post_id":1021373,"comment_id":54114459,"body_markdown":"What if  `else if (year % 400 == 0)` statement is omitted? Wouldn&#39;t it give same results?","body":"What if  <code>else if (year % 400 == 0)</code> statement is omitted? Wouldn&#39;t it give same results?"},{"owner":{"account_id":380043,"reputation":5610,"user_id":733805,"accept_rate":100,"display_name":"Kevin P. Rice"},"score":0,"creation_date":1544440471,"post_id":1021373,"comment_id":94263607,"body_markdown":"You can&#39;t beat `return ((year &amp; 3) == 0 &amp;&amp; ((year % 25) != 0 || (year &amp; 15) == 0));` for efficiency. https://stackoverflow.com/a/11595914/733805","body":"You can&#39;t beat <code>return ((year &amp; 3) == 0 &amp;&amp; ((year % 25) != 0 || (year &amp; 15) == 0));</code> for efficiency. <a href=\"https://stackoverflow.com/a/11595914/733805\">stackoverflow.com/a/11595914/733805</a>"},{"owner":{"account_id":695155,"reputation":26358,"user_id":274677,"accept_rate":81,"display_name":"Marcus Junius Brutus"},"score":0,"creation_date":1544472501,"post_id":1021373,"comment_id":94280225,"body_markdown":"This doesn&#39;t work for BC years. Since adapted code in this answer that handles BC years as well: https://stackoverflow.com/a/53712875/274677","body":"This doesn&#39;t work for BC years. Since adapted code in this answer that handles BC years as well: <a href=\"https://stackoverflow.com/a/53712875/274677\">stackoverflow.com/a/53712875/274677</a>"}],"tags":[],"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"comment_count":9,"down_vote_count":1,"up_vote_count":101,"is_accepted":true,"score":100,"last_activity_date":1463664111,"creation_date":1245493307,"answer_id":1021373,"question_id":1021324,"body_markdown":"The correct implementation is:\r\n\r\n    public static boolean isLeapYear(int year) {\r\n      Calendar cal = Calendar.getInstance();\r\n      cal.set(Calendar.YEAR, year);\r\n      return cal.getActualMaximum(Calendar.DAY_OF_YEAR) &gt; 365;\r\n    }\r\n\r\nBut if you are going to reinvent this wheel then:\r\n\r\n    public static boolean isLeapYear(int year) {\r\n      if (year % 4 != 0) {\r\n        return false;\r\n      } else if (year % 400 == 0) {\r\n        return true;\r\n      } else if (year % 100 == 0) {\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    }\r\n","title":"Java Code for calculating Leap Year","body":"<p>The correct implementation is:</p>\n\n<pre><code>public static boolean isLeapYear(int year) {\n  Calendar cal = Calendar.getInstance();\n  cal.set(Calendar.YEAR, year);\n  return cal.getActualMaximum(Calendar.DAY_OF_YEAR) &gt; 365;\n}\n</code></pre>\n\n<p>But if you are going to reinvent this wheel then:</p>\n\n<pre><code>public static boolean isLeapYear(int year) {\n  if (year % 4 != 0) {\n    return false;\n  } else if (year % 400 == 0) {\n    return true;\n  } else if (year % 100 == 0) {\n    return false;\n  } else {\n    return true;\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":965697,"reputation":9273,"user_id":989169,"accept_rate":75,"display_name":"Till Helge"},"score":0,"creation_date":1443607087,"post_id":2932369,"comment_id":53558716,"body_markdown":"Just for having said it: Please always include a link to any source that you used to compile an answer (even if it&#39;s easy to find like Wikipedia content).","body":"Just for having said it: Please always include a link to any source that you used to compile an answer (even if it&#39;s easy to find like Wikipedia content)."}],"tags":[],"owner":{"account_id":617310,"reputation":111,"user_id":353251,"display_name":"The Sphinc"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1443607091,"creation_date":1275079200,"answer_id":2932369,"question_id":1021324,"body_markdown":"Pseudo code from Wikipedia translated into the most compact Java\r\n\r\n    (year % 400 == 0) || ((year % 4 == 0) &amp;&amp; (year % 100 != 0))","title":"Java Code for calculating Leap Year","body":"<p>Pseudo code from Wikipedia translated into the most compact Java</p>\n\n<pre><code>(year % 400 == 0) || ((year % 4 == 0) &amp;&amp; (year % 100 != 0))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":380043,"reputation":5610,"user_id":733805,"accept_rate":100,"display_name":"Kevin P. Rice"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1359540932,"creation_date":1342914839,"answer_id":11596723,"question_id":1021324,"body_markdown":"# Most Efficient Leap Year Test: #\r\n\r\n    if ((year &amp; 3) == 0 &amp;&amp; ((year % 25) != 0 || (year &amp; 15) == 0))\r\n    {\r\n        /* leap year */\r\n    }\r\n\r\nThis is an excerpt from my detailed answer at https://stackoverflow.com/a/11595914/733805","title":"Java Code for calculating Leap Year","body":"<h1>Most Efficient Leap Year Test:</h1>\n\n<pre><code>if ((year &amp; 3) == 0 &amp;&amp; ((year % 25) != 0 || (year &amp; 15) == 0))\n{\n    /* leap year */\n}\n</code></pre>\n\n<p>This is an excerpt from my detailed answer at <a href=\"https://stackoverflow.com/a/11595914/733805\">https://stackoverflow.com/a/11595914/733805</a></p>\n"},{"comments":[{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":1,"creation_date":1359520226,"post_id":13751556,"comment_id":20378017,"body_markdown":"Only one condition mentioned above is not enough to identify a leap year. The above is wrong. So you have to apply more conditions answered by The Sphinc: (year % 400 == 0) || ((year % 4 == 0) &amp;&amp; (year % 100 != 0))","body":"Only one condition mentioned above is not enough to identify a leap year. The above is wrong. So you have to apply more conditions answered by The Sphinc: (year % 400 == 0) || ((year % 4 == 0) &amp;&amp; (year % 100 != 0))"}],"tags":[],"owner":{"account_id":1361242,"reputation":1,"user_id":1298575,"display_name":"Seppola"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1453206907,"creation_date":1354824123,"answer_id":13751556,"question_id":1021324,"body_markdown":"    boolean leapYear = ( ( year % 4 ) == 0 );","title":"Java Code for calculating Leap Year","body":"<pre><code>boolean leapYear = ( ( year % 4 ) == 0 );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2635870,"reputation":5,"user_id":4168004,"display_name":"Ghada Ali Othman"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1366048460,"creation_date":1366048460,"answer_id":16021655,"question_id":1021324,"body_markdown":"\r\n\r\n    import javax.swing.*;\r\n    public class LeapYear {\r\n        public static void main(String[] args) {\r\n        int year;\r\n    String yearStr = JOptionPane.showInputDialog(null, &quot;Enter radius: &quot; );\r\n    \r\n    year = Integer.parseInt( yearStr );\r\n    \r\n    boolean isLeapYear;\r\n    isLeapYear = (year % 4 == 0 &amp;&amp; year % 100 != 0) || (year % 400 == 0);  \r\n     \r\n     if(isLeapYear){ \r\n    JOptionPane.showMessageDialog(null, &quot;Leap Year!&quot;); \r\n     }  \r\n     else{\r\n    JOptionPane.showMessageDialog(null, &quot;Not a Leap Year!&quot;); \r\n        }\r\n        }\r\n        }\r\n\r\n","title":"Java Code for calculating Leap Year","body":"<pre><code>import javax.swing.*;\npublic class LeapYear {\n    public static void main(String[] args) {\n    int year;\nString yearStr = JOptionPane.showInputDialog(null, \"Enter radius: \" );\n\nyear = Integer.parseInt( yearStr );\n\nboolean isLeapYear;\nisLeapYear = (year % 4 == 0 &amp;&amp; year % 100 != 0) || (year % 400 == 0);  \n\n if(isLeapYear){ \nJOptionPane.showMessageDialog(null, \"Leap Year!\"); \n }  \n else{\nJOptionPane.showMessageDialog(null, \"Not a Leap Year!\"); \n    }\n    }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3339162,"reputation":1,"user_id":2805797,"display_name":"Vincent"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379911672,"creation_date":1379911672,"answer_id":18951929,"question_id":1021324,"body_markdown":"This is what I came up with. There is an added function to check to see if the int is past the date on which the exceptions were imposed(year$100, year %400). Before 1582 those exceptions weren&#39;t around. \r\n\r\n    import java.util.Scanner;\r\n\r\n    public class lecture{\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tboolean loop=true;\r\n\t\tScanner console = new Scanner( System.in );\r\n\t\twhile (loop){\r\n\t\t\tSystem.out.print( &quot;Enter the year: &quot; );\r\n\t\t\t   \r\n\t\t\tint year= console.nextInt();\r\n\t\t\tSystem.out.println( &quot;The year is a leap year: &quot;+ leapYear(year) );\r\n\t\t\tSystem.out.print( &quot;again?: &quot; );\r\n\t\t\tint again = console.nextInt();\r\n\t\t\tif (again == 1){\r\n\t\t\t\tloop=false;\r\n\t\t\t}//if\r\n\t\t}\r\n\t}\r\n\tpublic static boolean leapYear ( int year){\r\n\t\tboolean leaped = false;\r\n\t\tif (year%4==0){\r\n\t\t\tleaped = true;\r\n\t\t\tif(year&gt;1582){\r\n\t\t\t\tif (year%100==0&amp;&amp;year%400!=0){\r\n\t\t\t\t\tleaped=false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}//1st if\r\n\t\treturn leaped;\r\n\t}\r\n    } ","title":"Java Code for calculating Leap Year","body":"<p>This is what I came up with. There is an added function to check to see if the int is past the date on which the exceptions were imposed(year$100, year %400). Before 1582 those exceptions weren't around. </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class lecture{\n\n\npublic static void main(String[] args) {\n    boolean loop=true;\n    Scanner console = new Scanner( System.in );\n    while (loop){\n        System.out.print( \"Enter the year: \" );\n\n        int year= console.nextInt();\n        System.out.println( \"The year is a leap year: \"+ leapYear(year) );\n        System.out.print( \"again?: \" );\n        int again = console.nextInt();\n        if (again == 1){\n            loop=false;\n        }//if\n    }\n}\npublic static boolean leapYear ( int year){\n    boolean leaped = false;\n    if (year%4==0){\n        leaped = true;\n        if(year&gt;1582){\n            if (year%100==0&amp;&amp;year%400!=0){\n                leaped=false;\n            }\n        }\n    }//1st if\n    return leaped;\n}\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3479420,"reputation":1,"user_id":2911887,"display_name":"user2911887"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382540665,"creation_date":1382539291,"answer_id":19544828,"question_id":1021324,"body_markdown":"    public static void main(String[] args)\r\n    {\r\n    \r\n    String strDate=&quot;Feb 2013&quot;;\r\n    \t\tString[] strArray=strDate.split(&quot;\\\\s+&quot;);\t\t\r\n    \t\t\r\n    \t\tCalendar cal = Calendar.getInstance();\r\n    \t\tcal.setTime(new SimpleDateFormat(&quot;MMM&quot;).parse(strArray[0].toString()));\r\n    \t\tint monthInt = cal.get(Calendar.MONTH);\r\n    \t\tmonthInt++;\r\n    \t\tcal.set(Calendar.YEAR, Integer.parseInt(strArray[1]));\t\t\t\r\n    \t\tstrDate=strArray[1].toString()+&quot;-&quot;+monthInt+&quot;-&quot;+cal.getActualMaximum(Calendar.DAY_OF_MONTH);\r\n    \t\t\r\n    \t\tSystem.out.println(strDate);\t\r\n    \r\n    \r\n    \r\n    }","title":"Java Code for calculating Leap Year","body":"<pre><code>public static void main(String[] args)\n{\n\nString strDate=\"Feb 2013\";\n        String[] strArray=strDate.split(\"\\\\s+\");        \n\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(new SimpleDateFormat(\"MMM\").parse(strArray[0].toString()));\n        int monthInt = cal.get(Calendar.MONTH);\n        monthInt++;\n        cal.set(Calendar.YEAR, Integer.parseInt(strArray[1]));          \n        strDate=strArray[1].toString()+\"-\"+monthInt+\"-\"+cal.getActualMaximum(Calendar.DAY_OF_MONTH);\n\n        System.out.println(strDate);    \n\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4066988,"reputation":1,"user_id":3341535,"display_name":"VirusCD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393098355,"creation_date":1393096798,"answer_id":21959226,"question_id":1021324,"body_markdown":"    \timport java.util.Scanner;\r\n\r\n    \tpublic class LeapYear {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\tScanner input = new Scanner(System.in);\r\n\t\t\tSystem.out.print(&quot;Enter the year then press Enter : &quot;);\r\n\t\t\tint year = input.nextInt();\r\n\t\r\n\t\t\tif ((year &lt; 1580) &amp;&amp; (year % 4 == 0)) {\r\n\t\t\t\tSystem.out.println(&quot;Leap year: &quot; + year);\r\n\t\t\t} else {\r\n\t\t\t\tif ((year % 4 == 0) &amp;&amp; (year % 100 != 0) || (year % 400 == 0)) {\r\n\t\t\t\t\tSystem.out.println(&quot;Leap year: &quot; + year);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.println(year + &quot; not a leap year!&quot;);\r\n\t\t\t\t}\r\n\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Java Code for calculating Leap Year","body":"<pre><code>    import java.util.Scanner;\n\n    public class LeapYear {\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Scanner input = new Scanner(System.in);\n        System.out.print(\"Enter the year then press Enter : \");\n        int year = input.nextInt();\n\n        if ((year &lt; 1580) &amp;&amp; (year % 4 == 0)) {\n            System.out.println(\"Leap year: \" + year);\n        } else {\n            if ((year % 4 == 0) &amp;&amp; (year % 100 != 0) || (year % 400 == 0)) {\n                System.out.println(\"Leap year: \" + year);\n            } else {\n                System.out.println(year + \" not a leap year!\");\n            }\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":934397,"reputation":135,"user_id":963601,"display_name":"user963601"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1424163522,"creation_date":1424159128,"answer_id":28557011,"question_id":1021324,"body_markdown":"    new GregorianCalendar().isLeapYear(year);","title":"Java Code for calculating Leap Year","body":"<pre><code>new GregorianCalendar().isLeapYear(year);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2790821,"reputation":2348,"user_id":2401088,"accept_rate":75,"display_name":"Pankaj Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432482347,"creation_date":1432482347,"answer_id":30425364,"question_id":1021324,"body_markdown":"As [wikipedia][1] states algorithm for the leap year should be  \r\n\r\n    (((year%4 == 0) &amp;&amp; (year%100 !=0)) || (year%400==0))  \r\n\r\nHere is a sample program [how to check for leap year][2].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Leap_year#Algorithm\r\n  [2]: http://codeforwin.blogspot.in/2015/05/c-program-to-check-leap-year.html","title":"Java Code for calculating Leap Year","body":"<p>As <a href=\"http://en.wikipedia.org/wiki/Leap_year#Algorithm\" rel=\"nofollow\">wikipedia</a> states algorithm for the leap year should be  </p>\n\n<pre><code>(((year%4 == 0) &amp;&amp; (year%100 !=0)) || (year%400==0))  \n</code></pre>\n\n<p>Here is a sample program <a href=\"http://codeforwin.blogspot.in/2015/05/c-program-to-check-leap-year.html\" rel=\"nofollow\">how to check for leap year</a>.</p>\n"},{"tags":[],"owner":{"account_id":6889645,"reputation":119,"user_id":5293625,"display_name":"Caleb Woodman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453394220,"creation_date":1453394220,"answer_id":34929299,"question_id":1021324,"body_markdown":"Your code, as it is, without an additional class, does not appear to work for universal java.\r\nHere is a simplified version that works anywhere, leaning more towards your code.\r\n\r\n    import java.util.*;\r\n    public class LeapYear {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint year;\r\n    \t\t{\r\n    \t\t\tScanner scan = new Scanner(System.in);\r\n    \t\t\tSystem.out.println(&quot;Enter year: &quot;);\r\n    \t\t\tyear = scan.nextInt();\r\n    \r\n    \t\t\tif ((year % 4 == 0) &amp;&amp; year % 100 != 0) {\r\n    \t\t\t\tSystem.out.println(year + &quot; is a leap year.&quot;);\r\n    \t\t\t} else if ((year % 4 == 0) &amp;&amp; (year % 100 == 0)\r\n    \t\t\t\t\t&amp;&amp; (year % 400 == 0)) {\r\n    \t\t\t\tSystem.out.println(year + &quot; is a leap year.&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(year + &quot; is not a leap year.&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\nYour code, in context, works just as well, but note that book code *always works*, and is tested thoroughly. Not to say yours isn&#39;t. :)","title":"Java Code for calculating Leap Year","body":"<p>Your code, as it is, without an additional class, does not appear to work for universal java.\nHere is a simplified version that works anywhere, leaning more towards your code.</p>\n\n<pre><code>import java.util.*;\npublic class LeapYear {\n    public static void main(String[] args) {\n        int year;\n        {\n            Scanner scan = new Scanner(System.in);\n            System.out.println(\"Enter year: \");\n            year = scan.nextInt();\n\n            if ((year % 4 == 0) &amp;&amp; year % 100 != 0) {\n                System.out.println(year + \" is a leap year.\");\n            } else if ((year % 4 == 0) &amp;&amp; (year % 100 == 0)\n                    &amp;&amp; (year % 400 == 0)) {\n                System.out.println(year + \" is a leap year.\");\n            } else {\n                System.out.println(year + \" is not a leap year.\");\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Your code, in context, works just as well, but note that book code <em>always works</em>, and is tested thoroughly. Not to say yours isn't. :)</p>\n"},{"comments":[{"owner":{"account_id":517815,"reputation":481,"user_id":995897,"display_name":"Sheamus O&#39;Halloran"},"score":3,"creation_date":1483607459,"post_id":37380349,"comment_id":70167165,"body_markdown":"Is current year a leap year? (using java 8) `Year.now().isLeap()`","body":"Is current year a leap year? (using java 8) <code>Year.now().isLeap()</code>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1498025733,"post_id":37380349,"comment_id":76321056,"body_markdown":"@SheamusO&#39;Halloran Better to specify your desired/expected time zone rather than rely implicitly on the JVM’s current default time zone which can be changed at any moment by any code in any app within that JVM: `Year.now( ZoneId( &quot;America/Montreal&quot; ) ).isLeap()`","body":"@SheamusO&#39;Halloran Better to specify your desired/expected time zone rather than rely implicitly on the JVM’s current default time zone which can be changed at any moment by any code in any app within that JVM: <code>Year.now( ZoneId( &quot;America&#47;Montreal&quot; ) ).isLeap()</code>"},{"owner":{"account_id":8495633,"reputation":508,"user_id":6370304,"display_name":"Dinesh"},"score":0,"creation_date":1675835687,"post_id":37380349,"comment_id":133011412,"body_markdown":"`Year.isLeap(&lt;YEAR&gt;)`  Using Java 8 to directly check is the input year is a leap year or not.","body":"<code>Year.isLeap(&lt;YEAR&gt;)</code>  Using Java 8 to directly check is the input year is a leap year or not."}],"tags":[],"owner":{"account_id":2123179,"reputation":10932,"user_id":1886012,"display_name":"bowmore"},"comment_count":3,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1565011205,"creation_date":1463956341,"answer_id":37380349,"question_id":1021324,"body_markdown":"# `java.time.Year::isLeap`\r\n\r\nI&#39;d like to add the new [`java.time`][1] way of doing this with the [`Year`][2] class and [`isLeap`][3] method:\r\n\r\n\r\n    java.time.Year.of(year).isLeap();\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/time/package-summary.html\r\n  [2]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/time/Year.html\r\n  [3]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/time/Year.html#isLeap()","title":"Java Code for calculating Leap Year","body":"<h1><code>java.time.Year::isLeap</code></h1>\n\n<p>I'd like to add the new <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><code>java.time</code></a> way of doing this with the <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/time/Year.html\" rel=\"noreferrer\"><code>Year</code></a> class and <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/time/Year.html#isLeap()\" rel=\"noreferrer\"><code>isLeap</code></a> method:</p>\n\n<pre><code>java.time.Year.of(year).isLeap();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5872668,"reputation":519,"user_id":4624524,"accept_rate":80,"display_name":"Felipe Andrade"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1464790696,"creation_date":1464790696,"answer_id":37571325,"question_id":1021324,"body_markdown":"From JAVA&#39;s GregorianCalendar sourcecode:\r\n\r\n    /**\r\n     * Returns true if {@code year} is a leap year.\r\n     */\r\n    public boolean isLeapYear(int year) {\r\n        if (year &gt; changeYear) {\r\n            return year % 4 == 0 &amp;&amp; (year % 100 != 0 || year % 400 == 0);\r\n        }\r\n\r\n        return year % 4 == 0;\r\n    }\r\n\r\nWhere changeYear is the year the Julian Calendar becomes the Gregorian Calendar (1582).\r\n\r\n&gt; The Julian calendar specifies leap years every four years, whereas the\r\n&gt; Gregorian calendar omits century years which are not divisible by 400.\r\n\r\nIn the [Gregorian Calendar documentation][1] you can found more information about it.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/GregorianCalendar.html","title":"Java Code for calculating Leap Year","body":"<p>From JAVA's GregorianCalendar sourcecode:</p>\n\n<pre><code>/**\n * Returns true if {@code year} is a leap year.\n */\npublic boolean isLeapYear(int year) {\n    if (year &gt; changeYear) {\n        return year % 4 == 0 &amp;&amp; (year % 100 != 0 || year % 400 == 0);\n    }\n\n    return year % 4 == 0;\n}\n</code></pre>\n\n<p>Where changeYear is the year the Julian Calendar becomes the Gregorian Calendar (1582).</p>\n\n<blockquote>\n  <p>The Julian calendar specifies leap years every four years, whereas the\n  Gregorian calendar omits century years which are not divisible by 400.</p>\n</blockquote>\n\n<p>In the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/GregorianCalendar.html\" rel=\"noreferrer\">Gregorian Calendar documentation</a> you can found more information about it.</p>\n"},{"tags":[],"owner":{"account_id":1215286,"reputation":7830,"user_id":1183010,"accept_rate":80,"display_name":"R. Oosterholt"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464792388,"creation_date":1464792388,"answer_id":37571983,"question_id":1021324,"body_markdown":"You can ask the [GregorianCalendar][1] class for this:\r\n\r\n    boolean isLeapyear = new GregorianCalendar().isLeapYear(year);\r\n\r\n[1]:http://docs.oracle.com/javase/7/docs/api/java/util/GregorianCalendar.html#isLeapYear(int)","title":"Java Code for calculating Leap Year","body":"<p>You can ask the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/GregorianCalendar.html#isLeapYear(int)\" rel=\"nofollow\">GregorianCalendar</a> class for this:</p>\n\n<pre><code>boolean isLeapyear = new GregorianCalendar().isLeapYear(year);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":246063,"reputation":17561,"user_id":2267723,"accept_rate":59,"display_name":"Maher Abuthraa"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1488613972,"creation_date":1488613972,"answer_id":42593611,"question_id":1021324,"body_markdown":"If you are using java8 :\r\n\r\n    java.time.Year.of(year).isLeap()\r\n\r\nJava implementation of above method: \r\n\r\n    public static boolean isLeap(long year) {\r\n            return ((year &amp; 3) == 0) &amp;&amp; ((year % 100) != 0 || (year % 400) == 0);\r\n        }","title":"Java Code for calculating Leap Year","body":"<p>If you are using java8 :</p>\n\n<pre><code>java.time.Year.of(year).isLeap()\n</code></pre>\n\n<p>Java implementation of above method: </p>\n\n<pre><code>public static boolean isLeap(long year) {\n        return ((year &amp; 3) == 0) &amp;&amp; ((year % 100) != 0 || (year % 400) == 0);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12223708,"reputation":11,"user_id":8922080,"display_name":"Abdihakiim yusuf Adan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510496039,"creation_date":1510496039,"answer_id":47249829,"question_id":1021324,"body_markdown":"easiest way ta make java leap year and more clear to understand`enter code here`\r\n\r\n    import  java.util.Scanner;\r\n\r\nclass que19{\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tScanner input=new Scanner(System.in);\r\n\r\n\t\tdouble a;\r\n\r\n\t\tSystem.out.println(&quot;enter the year here &quot;);\r\n\t\ta=input.nextDouble();\r\n\t\tif ((a % 4 ==0 ) &amp;&amp; (a%100!=0) || (a%400==0)) {\r\n\t\t\tSystem.out.println(&quot;leep year&quot;);\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;not a leap year&quot;);\r\n\t\t}\r\n\t}\r\n}","title":"Java Code for calculating Leap Year","body":"<p>easiest way ta make java leap year and more clear to understand<code>enter code here</code></p>\n\n<pre><code>import  java.util.Scanner;\n</code></pre>\n\n<p>class que19{</p>\n\n<pre><code>public static void main(String[] args) {\n\n    Scanner input=new Scanner(System.in);\n\n    double a;\n\n    System.out.println(\"enter the year here \");\n    a=input.nextDouble();\n    if ((a % 4 ==0 ) &amp;&amp; (a%100!=0) || (a%400==0)) {\n        System.out.println(\"leep year\");\n\n    }\n    else {\n        System.out.println(\"not a leap year\");\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":3527815,"reputation":31,"user_id":6289661,"display_name":"peanek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564964754,"creation_date":1527779217,"answer_id":50627436,"question_id":1021324,"body_markdown":"With the course of  : [TestMyCode\r\nProgramming assignment evaluator][1], that one of the exercises was this kind of issue, I wrote this answer: \r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class LeapYear {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner reader = new Scanner(System.in);\r\n            System.out.println(&quot;Type a year: &quot;);\r\n    \r\n            int year = Integer.parseInt(reader.nextLine());\r\n    \r\n            if (year % 400 == 0 &amp;&amp; year % 100 == 0 &amp;&amp; year % 4 == 0) {\r\n                System.out.println(&quot;The year is a leap year&quot;);\r\n            } else\r\n             if (year % 4 == 0 &amp;&amp; year%100!=0 ) {\r\n                System.out.println(&quot;The year is a leap year&quot;);\r\n            } else \r\n            {\r\n                System.out.println(&quot;The year is not a leap year&quot;);\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://tmc.mooc.fi/","title":"Java Code for calculating Leap Year","body":"<p>With the course of  : <a href=\"https://tmc.mooc.fi/\" rel=\"nofollow noreferrer\">TestMyCode\nProgramming assignment evaluator</a>, that one of the exercises was this kind of issue, I wrote this answer: </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class LeapYear {\n\n    public static void main(String[] args) {\n        Scanner reader = new Scanner(System.in);\n        System.out.println(\"Type a year: \");\n\n        int year = Integer.parseInt(reader.nextLine());\n\n        if (year % 400 == 0 &amp;&amp; year % 100 == 0 &amp;&amp; year % 4 == 0) {\n            System.out.println(\"The year is a leap year\");\n        } else\n         if (year % 4 == 0 &amp;&amp; year%100!=0 ) {\n            System.out.println(\"The year is a leap year\");\n        } else \n        {\n            System.out.println(\"The year is not a leap year\");\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":695155,"reputation":26358,"user_id":274677,"accept_rate":81,"display_name":"Marcus Junius Brutus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544472440,"creation_date":1544472440,"answer_id":53712875,"question_id":1021324,"body_markdown":"[this answer][1] is great but it won&#39;t work for years before Christ (using a proleptic Gregorian calendar). If you want it to work for B.C. years, then use the following adaptation:\r\n\r\n    public static boolean isLeapYear(final int year) {\r\n        final Calendar cal = Calendar.getInstance();\r\n        if (year&lt;0) {\r\n            cal.set(Calendar.ERA, GregorianCalendar.BC);\r\n            cal.set(Calendar.YEAR, -year);\r\n        } else\r\n            cal.set(Calendar.YEAR, year);\r\n        return cal.getActualMaximum(Calendar.DAY_OF_YEAR) &gt; 365;\r\n    }\r\nYou can verify that for yourself by considering that year -5 (i.e. 4 BC) should be pronounced as a leap year assuming a proleptic Gregorian calendar. Same with year -1 (the year before 1 AD). The linked to answer does not handle that case whereas the above adapted code does.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/1021373/274677","title":"Java Code for calculating Leap Year","body":"<p><a href=\"https://stackoverflow.com/a/1021373/274677\">this answer</a> is great but it won't work for years before Christ (using a proleptic Gregorian calendar). If you want it to work for B.C. years, then use the following adaptation:</p>\n\n<pre><code>public static boolean isLeapYear(final int year) {\n    final Calendar cal = Calendar.getInstance();\n    if (year&lt;0) {\n        cal.set(Calendar.ERA, GregorianCalendar.BC);\n        cal.set(Calendar.YEAR, -year);\n    } else\n        cal.set(Calendar.YEAR, year);\n    return cal.getActualMaximum(Calendar.DAY_OF_YEAR) &gt; 365;\n}\n</code></pre>\n\n<p>You can verify that for yourself by considering that year -5 (i.e. 4 BC) should be pronounced as a leap year assuming a proleptic Gregorian calendar. Same with year -1 (the year before 1 AD). The linked to answer does not handle that case whereas the above adapted code does.</p>\n"},{"tags":[],"owner":{"account_id":194960,"reputation":709,"user_id":437579,"display_name":"Sami"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631406096,"creation_date":1631406096,"answer_id":69147612,"question_id":1021324,"body_markdown":"Answer in Kotlin:\r\n```kotlin\r\nfun isLeapYear(year: Int): Boolean =\r\n    when {\r\n        year % 4 != 0 -&gt; false\r\n        year % 100 == 0 -&gt; year % 400 == 0\r\n        else -&gt; true\r\n    }\r\n```\r\n","title":"Java Code for calculating Leap Year","body":"<p>Answer in Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun isLeapYear(year: Int): Boolean =\n    when {\n        year % 4 != 0 -&gt; false\n        year % 100 == 0 -&gt; year % 400 == 0\n        else -&gt; true\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21250030,"reputation":75,"user_id":15632347,"display_name":"PRR S2 6-8-6 turbine engine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657160238,"creation_date":1657160238,"answer_id":72891609,"question_id":1021324,"body_markdown":"This is from Clean Code book by Martin R.\r\n\r\n    public static boolean isLeapYear(int year) {\r\n       boolean fourth = year % 4 == 0;\r\n       boolean hundredth = year % 100 == 0;\r\n       boolean fourHundredth = year % 400 == 0;\r\n       return fourth &amp;&amp; (!hundredth || fourHundredth);\r\n    }","title":"Java Code for calculating Leap Year","body":"<p>This is from Clean Code book by Martin R.</p>\n<pre><code>public static boolean isLeapYear(int year) {\n   boolean fourth = year % 4 == 0;\n   boolean hundredth = year % 100 == 0;\n   boolean fourHundredth = year % 400 == 0;\n   return fourth &amp;&amp; (!hundredth || fourHundredth);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24094538,"reputation":41,"user_id":18067279,"display_name":"Nirmal Chathura"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689277385,"creation_date":1689275041,"answer_id":76682518,"question_id":1021324,"body_markdown":"\r\n``` Method 1: ```\r\n```\r\npublic class LeapYear {\r\n\r\n    public static boolean isLeapYear(int year){\r\n\r\n        return ( !(year &gt;= 1) ? false : (year%4 != 0) ? false : (year%100 != 0) ? true : (year%400 == 0) ? true : false ); \r\n    }\r\n\r\n}\r\n```\r\n\r\n```Method 2:``` \r\n\r\n```\r\npublic class LeapYear {\r\n\r\n    public static boolean isLeapYear(int year){\r\n        \r\n        return ( (year &gt;= 1) &amp;&amp; ( (year%4 == 0 &amp;&amp; !(year%100 == 0)) || (year%400 == 0) )? true : false );\r\n        \r\n    } \r\n}\r\n```","title":"Java Code for calculating Leap Year","body":"<p><code>Method 1:</code></p>\n<pre><code>public class LeapYear {\n\n    public static boolean isLeapYear(int year){\n\n        return ( !(year &gt;= 1) ? false : (year%4 != 0) ? false : (year%100 != 0) ? true : (year%400 == 0) ? true : false ); \n    }\n\n}\n</code></pre>\n<p><code>Method 2:</code></p>\n<pre><code>public class LeapYear {\n\n    public static boolean isLeapYear(int year){\n        \n        return ( (year &gt;= 1) &amp;&amp; ( (year%4 == 0 &amp;&amp; !(year%100 == 0)) || (year%400 == 0) )? true : false );\n        \n    } \n}\n</code></pre>\n"}],"owner":{"account_id":36198,"reputation":3201,"user_id":103132,"accept_rate":100,"display_name":"Ibn Saeed"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301732,"favorite_count":0,"down_vote_count":1,"up_vote_count":43,"accepted_answer_id":1021373,"answer_count":23,"score":42,"last_activity_date":1689277385,"creation_date":1245491280,"question_id":1021324,"body_markdown":"I am following &quot;The Art and Science of Java&quot; book and it shows how to calculate a leap year.\r\nThe book uses ACM Java Task Force&#39;s library.\r\n\r\nHere is the code the books uses:\r\n\r\n    import acm.program.*;\r\n\r\n    public class LeapYear extends ConsoleProgram {\r\n\t    public void run()\r\n        {\r\n\r\n            println(&quot;This program calculates leap year.&quot;);\r\n            int year = readInt(&quot;Enter the year: &quot;);     \r\n\r\n            boolean isLeapYear = ((year % 4 == 0) &amp;&amp; (year % 100 != 0) || (year % 400 == 0));\r\n\r\n            if (isLeapYear)\r\n            {\r\n                println(year + &quot; is a leap year.&quot;);\r\n            } else\r\n                println(year + &quot; is not a leap year.&quot;);\r\n        }\r\n\r\n    }\r\n\r\n\r\nNow, this is how I calculated the leap year. \r\n\r\n\r\n    import acm.program.*;\r\n\r\n    public class LeapYear extends ConsoleProgram {\r\n\t    public void run()\r\n        {\r\n\r\n            println(&quot;This program calculates leap year.&quot;);\r\n            int year = readInt(&quot;Enter the year: &quot;);\r\n\r\n            if ((year % 4 == 0) &amp;&amp; year % 100 != 0)\r\n            {\r\n                println(year + &quot; is a leap year.&quot;);\r\n            }\r\n            else if ((year % 4 == 0) &amp;&amp; (year % 100 == 0) &amp;&amp; (year % 400 == 0))\r\n            {\r\n                println(year + &quot; is a leap year.&quot;);\r\n            }\r\n            else\r\n            {\r\n                println(year + &quot; is not a leap year.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nIs there anything wrong with my code or should i use the one provided by the book ?\r\n\r\nEDIT :: Both of the above code works fine, What i want to ask is which code is the best way to calculate the leap year. ","title":"Java Code for calculating Leap Year","body":"<p>I am following \"The Art and Science of Java\" book and it shows how to calculate a leap year.\nThe book uses ACM Java Task Force's library.</p>\n\n<p>Here is the code the books uses:</p>\n\n<pre><code>import acm.program.*;\n\npublic class LeapYear extends ConsoleProgram {\n    public void run()\n    {\n\n        println(\"This program calculates leap year.\");\n        int year = readInt(\"Enter the year: \");     \n\n        boolean isLeapYear = ((year % 4 == 0) &amp;&amp; (year % 100 != 0) || (year % 400 == 0));\n\n        if (isLeapYear)\n        {\n            println(year + \" is a leap year.\");\n        } else\n            println(year + \" is not a leap year.\");\n    }\n\n}\n</code></pre>\n\n<p>Now, this is how I calculated the leap year. </p>\n\n<pre><code>import acm.program.*;\n\npublic class LeapYear extends ConsoleProgram {\n    public void run()\n    {\n\n        println(\"This program calculates leap year.\");\n        int year = readInt(\"Enter the year: \");\n\n        if ((year % 4 == 0) &amp;&amp; year % 100 != 0)\n        {\n            println(year + \" is a leap year.\");\n        }\n        else if ((year % 4 == 0) &amp;&amp; (year % 100 == 0) &amp;&amp; (year % 400 == 0))\n        {\n            println(year + \" is a leap year.\");\n        }\n        else\n        {\n            println(year + \" is not a leap year.\");\n        }\n    }\n}\n</code></pre>\n\n<p>Is there anything wrong with my code or should i use the one provided by the book ?</p>\n\n<p>EDIT :: Both of the above code works fine, What i want to ask is which code is the best way to calculate the leap year. </p>\n"},{"tags":["java","tapestry"],"answers":[{"comments":[{"owner":{"account_id":2881559,"reputation":361,"user_id":2472344,"accept_rate":0,"display_name":"xl0e"},"score":1,"creation_date":1488893662,"post_id":42645379,"comment_id":72425403,"body_markdown":"What I need is pretty obvious from source of service implementation. I&#39;m quite familiar with T5 IoC and the reason I posted my question in stackoverflow is that my case is not covered in documentation.","body":"What I need is pretty obvious from source of service implementation. I&#39;m quite familiar with T5 IoC and the reason I posted my question in stackoverflow is that my case is not covered in documentation."}],"tags":[],"owner":{"account_id":1571268,"reputation":139,"user_id":1458909,"display_name":"Dushko Jovanovski"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1488881363,"creation_date":1488881363,"answer_id":42645379,"question_id":42642853,"body_markdown":"You can accomplish this in a few ways, depending on what you really need. I invite you to read the [documentation][2] and the [IoC cookbook][1].\r\n\r\nUnderstanding the Inversion of Control configuration is important because it&#39;s a very powerful module.\r\n\r\n[1]: https://tapestry.apache.org/ioc-cookbook-basic-services-and-injection.html\r\n[2]: http://tapestry.apache.org/defining-tapestry-ioc-services.html","title":"How to override tapestry AlertManager","body":"<p>You can accomplish this in a few ways, depending on what you really need. I invite you to read the <a href=\"http://tapestry.apache.org/defining-tapestry-ioc-services.html\" rel=\"nofollow noreferrer\">documentation</a> and the <a href=\"https://tapestry.apache.org/ioc-cookbook-basic-services-and-injection.html\" rel=\"nofollow noreferrer\">IoC cookbook</a>.</p>\n\n<p>Understanding the Inversion of Control configuration is important because it's a very powerful module.</p>\n"},{"tags":[],"owner":{"account_id":2808107,"reputation":891,"user_id":2414933,"display_name":"Dmitry Gusev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489140892,"creation_date":1489140892,"answer_id":42715806,"question_id":42642853,"body_markdown":"This is because Tapestry IoC tries to find all services that implement an interface when you try to `@Inject` it by interface type only. Your new `AlertManagerExt` also implements the `AlertManager` hence the ambiguity.\r\n\r\nThis is usually resolved by explicitly specifying service ID or marker annotation, but this won&#39;t work for your case as tapestry&#39;s core code already `@Inject`ing `AlertManager` by interface only.","title":"How to override tapestry AlertManager","body":"<p>This is because Tapestry IoC tries to find all services that implement an interface when you try to <code>@Inject</code> it by interface type only. Your new <code>AlertManagerExt</code> also implements the <code>AlertManager</code> hence the ambiguity.</p>\n\n<p>This is usually resolved by explicitly specifying service ID or marker annotation, but this won't work for your case as tapestry's core code already <code>@Inject</code>ing <code>AlertManager</code> by interface only.</p>\n"},{"tags":[],"owner":{"account_id":9825727,"reputation":11,"user_id":7278891,"display_name":"permabei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689276831,"creation_date":1689276831,"answer_id":76682699,"question_id":42642853,"body_markdown":"I know I&#39;m a bit late to the party but I ran into a similar exception trying to override an internal Tapestry service implementation, (GoogleClosureMinimizerOptionsProvider in my case), and I managed to solve it using by contributing to ServiceOverride.class using the annotation.\r\nFor example in my Tapestry ApplicationModule, I have this:\r\n\r\n    @Contribute(ServiceOverride.class)\r\n    public static void contributeServiceOverride(MappedConfiguration&lt;Class&lt;? extends GoogleClosureMinimizerOptionsProvider&gt;,Object&lt;? super GoogleClosureMinimizerOptionsProvider&gt;&gt; configuration) {\r\n      configuration.addInstance(GoogleClosureMinimizerOptionsProvider.class, CustomGCMCompilerOptions.class)\r\n\r\nI believe this could work in your case as well:\r\n\r\n    @Contribute(ServiceOverride.class)\r\n    public static void contributeServiceOverride(MappedConfiguration&lt;Class&lt;? extends AlertManager,Object&lt;? super AlertManager&gt; configuration) {\r\n    configuration.addInstance(AlertManager.class, AlertManagerExtImpl.class)\r\n\r\nQuick ref to the `ServiceOverride` interface Tapestry5 [APIDocs](https://people.apache.org/~hlship/t5api/apidocs/org/apache/tapestry5/ioc/services/ServiceOverride.html):\r\n\r\n&gt;@UsesMappedConfiguration(key=java.lang.Class.class,\r\n&gt;                         value=java.lang.Object.class)\r\n&gt;public interface ServiceOverride\r\n&gt;\r\n&gt;Used to override built in services. Simply contribute a mapping from a type &gt;to an instance of that type. Anywhere that exact type is injected, without &gt;specifying markers or other annotations, the contributed instance will be &gt;injected, even if there is already a service that implements the interface.\r\n&gt;\r\n&gt;In fact, this is not limited to overriding services; any object that can be &gt;injected based solely on type can be contributed.\r\n\r\n \r\n","title":"How to override tapestry AlertManager","body":"<p>I know I'm a bit late to the party but I ran into a similar exception trying to override an internal Tapestry service implementation, (GoogleClosureMinimizerOptionsProvider in my case), and I managed to solve it using by contributing to ServiceOverride.class using the annotation.\nFor example in my Tapestry ApplicationModule, I have this:</p>\n<pre><code>@Contribute(ServiceOverride.class)\npublic static void contributeServiceOverride(MappedConfiguration&lt;Class&lt;? extends GoogleClosureMinimizerOptionsProvider&gt;,Object&lt;? super GoogleClosureMinimizerOptionsProvider&gt;&gt; configuration) {\n  configuration.addInstance(GoogleClosureMinimizerOptionsProvider.class, CustomGCMCompilerOptions.class)\n</code></pre>\n<p>I believe this could work in your case as well:</p>\n<pre><code>@Contribute(ServiceOverride.class)\npublic static void contributeServiceOverride(MappedConfiguration&lt;Class&lt;? extends AlertManager,Object&lt;? super AlertManager&gt; configuration) {\nconfiguration.addInstance(AlertManager.class, AlertManagerExtImpl.class)\n</code></pre>\n<p>Quick ref to the <code>ServiceOverride</code> interface Tapestry5 <a href=\"https://people.apache.org/%7Ehlship/t5api/apidocs/org/apache/tapestry5/ioc/services/ServiceOverride.html\" rel=\"nofollow noreferrer\">APIDocs</a>:</p>\n<blockquote>\n<p>@UsesMappedConfiguration(key=java.lang.Class.class,\nvalue=java.lang.Object.class)\npublic interface ServiceOverride</p>\n<p>Used to override built in services. Simply contribute a mapping from a type &gt;to an instance of that type. Anywhere that exact type is injected, without &gt;specifying markers or other annotations, the contributed instance will be &gt;injected, even if there is already a service that implements the interface.</p>\n<p>In fact, this is not limited to overriding services; any object that can be &gt;injected based solely on type can be contributed.</p>\n</blockquote>\n"}],"owner":{"account_id":2881559,"reputation":361,"user_id":2472344,"accept_rate":0,"display_name":"xl0e"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1689276831,"creation_date":1488872685,"question_id":42642853,"body_markdown":"I have created extended alert manager:\r\ninterface\r\n\r\n    public interface AlertManagerExt extends AlertManager {\r\n\t\tvoid successCode(String messageCode, Object... args);\r\n\t\tvoid infoCode(String messageCode, Object... args);\r\n\t\tvoid warnCode(String messageCode, Object... args);\r\n\t\tvoid errorCode(String messageCode, Object... args);\r\n\t}\r\n\r\n\r\nand implementation\r\n\r\n    public class AlertManagerExtImpl extends AlertManagerImpl implements AlertManagerExt {\r\n\t\r\n\t\tprivate final Messages messages;\r\n\t\r\n\t\tpublic AlertManagerExtImpl(ApplicationStateManager asm, Request request, AjaxResponseRenderer ajaxResponseRenderer,\r\n\t\t\t\tPerthreadManager perThreadManager, Messages messages) {\r\n\t\t\tsuper(asm, request, ajaxResponseRenderer, perThreadManager);\r\n\t\t\tthis.messages = messages;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void successCode(String messageCode, Object... args) {\r\n\t\t\tsuccess(getMessage(messageCode, args));\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void infoCode(String messageCode, Object... args) {\r\n\t\t\tinfo(getMessage(messageCode, args));\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void warnCode(String messageCode, Object... args) {\r\n\t\t\twarn(getMessage(messageCode, args));\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void errorCode(String messageCode, Object... args) {\r\n\t\t\terror(getMessage(messageCode, args));\r\n\t\t}\r\n\t\r\n\t\tprotected String getMessage(String code, Object... args) {\r\n\t\t\tif (args.length &gt; 0) {\r\n\t\t\t\treturn messages.format(code, args);\r\n\t\t\t}\r\n\t\t\treturn messages.get(code);\r\n\t\t}\r\n\t}\r\nWhen I tried to bind it via binder:\r\n\r\n    binder.bind(AlertManagerExt.class, AlertManagerExtImpl.class);\r\nI got exception:\r\n\r\n    java.lang.RuntimeException: Service interface org.apache.tapestry5.alerts.AlertManager is matched by 2 services: AlertManager, AlertManagerExtImpl.  Automatic dependency resolution requires that exactly one service implement the interface.\r\n\tat org.apache.tapestry5.ioc.internal.RegistryImpl.getServiceByTypeAlone(RegistryImpl.java:789)\r\n\tat org.apache.tapestry5.ioc.internal.RegistryImpl.getServiceByTypeAndMarkers(RegistryImpl.java:797)\r\n\tat org.apache.tapestry5.ioc.internal.RegistryImpl.getService(RegistryImpl.java:755)\r\n\r\nI know I can copy-and-paste all methods from AlertManager and do not extend it. But may be there is better way?","title":"How to override tapestry AlertManager","body":"<p>I have created extended alert manager:\ninterface</p>\n\n<pre><code>public interface AlertManagerExt extends AlertManager {\n    void successCode(String messageCode, Object... args);\n    void infoCode(String messageCode, Object... args);\n    void warnCode(String messageCode, Object... args);\n    void errorCode(String messageCode, Object... args);\n}\n</code></pre>\n\n<p>and implementation</p>\n\n<pre><code>public class AlertManagerExtImpl extends AlertManagerImpl implements AlertManagerExt {\n\n    private final Messages messages;\n\n    public AlertManagerExtImpl(ApplicationStateManager asm, Request request, AjaxResponseRenderer ajaxResponseRenderer,\n            PerthreadManager perThreadManager, Messages messages) {\n        super(asm, request, ajaxResponseRenderer, perThreadManager);\n        this.messages = messages;\n    }\n\n    @Override\n    public void successCode(String messageCode, Object... args) {\n        success(getMessage(messageCode, args));\n    }\n\n    @Override\n    public void infoCode(String messageCode, Object... args) {\n        info(getMessage(messageCode, args));\n    }\n\n    @Override\n    public void warnCode(String messageCode, Object... args) {\n        warn(getMessage(messageCode, args));\n    }\n\n    @Override\n    public void errorCode(String messageCode, Object... args) {\n        error(getMessage(messageCode, args));\n    }\n\n    protected String getMessage(String code, Object... args) {\n        if (args.length &gt; 0) {\n            return messages.format(code, args);\n        }\n        return messages.get(code);\n    }\n}\n</code></pre>\n\n<p>When I tried to bind it via binder:</p>\n\n<pre><code>binder.bind(AlertManagerExt.class, AlertManagerExtImpl.class);\n</code></pre>\n\n<p>I got exception:</p>\n\n<pre><code>java.lang.RuntimeException: Service interface org.apache.tapestry5.alerts.AlertManager is matched by 2 services: AlertManager, AlertManagerExtImpl.  Automatic dependency resolution requires that exactly one service implement the interface.\nat org.apache.tapestry5.ioc.internal.RegistryImpl.getServiceByTypeAlone(RegistryImpl.java:789)\nat org.apache.tapestry5.ioc.internal.RegistryImpl.getServiceByTypeAndMarkers(RegistryImpl.java:797)\nat org.apache.tapestry5.ioc.internal.RegistryImpl.getService(RegistryImpl.java:755)\n</code></pre>\n\n<p>I know I can copy-and-paste all methods from AlertManager and do not extend it. But may be there is better way?</p>\n"},{"tags":["java","aem","sling"],"answers":[{"tags":[],"owner":{"account_id":20241490,"reputation":159,"user_id":14845251,"display_name":"Vikka"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1663243560,"creation_date":1663243292,"answer_id":73730774,"question_id":73636162,"body_markdown":"    cf.getElement(&quot;summary&quot;).getContent(); \r\n\r\ngetContent() is return only string and if you have node value store which describe String/Text only then recommended to use. \r\n\r\n\r\n     cf.getElement(&quot;summary&quot;).getValue();\r\ngetValue() is returning FragmentData, which have option of multiple types to get value/values\r\n\r\n    cf.getElement(&quot;summary&quot;).getValue().getValue();\r\ngetValue() - which return Object (which you can cast) , \r\ngetValue(T)  - which return converted type T \r\n\r\nNutshell - getContent() is recommended when you have only string/text type. if you have different types you can leverage getValue()\r\n \r\n\r\n    ","title":"How to retrieve data from ContentFragment in AEM","body":"<pre><code>cf.getElement(&quot;summary&quot;).getContent(); \n</code></pre>\n<p>getContent() is return only string and if you have node value store which describe String/Text only then recommended to use.</p>\n<pre><code> cf.getElement(&quot;summary&quot;).getValue();\n</code></pre>\n<p>getValue() is returning FragmentData, which have option of multiple types to get value/values</p>\n<pre><code>cf.getElement(&quot;summary&quot;).getValue().getValue();\n</code></pre>\n<p>getValue() - which return Object (which you can cast) ,\ngetValue(T)  - which return converted type T</p>\n<p>Nutshell - getContent() is recommended when you have only string/text type. if you have different types you can leverage getValue()</p>\n"}],"owner":{"account_id":17966389,"reputation":163,"user_id":13056188,"display_name":"watopin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1577,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73730774,"answer_count":1,"score":1,"last_activity_date":1689275937,"creation_date":1662556312,"question_id":73636162,"body_markdown":"I think there are 2 ways retrieve data from Content Fragment.\r\n\r\n```\r\nContentFragment cf = resourceResolver.resolve(cfPath).adaptTo(ContentFragment.class);\r\n\r\ncf.getElement(&quot;summary&quot;).getContent();                      // way1\r\ncf.getElement(&quot;summary&quot;).getValue().getValue(String.class); // way2\r\n```\r\n\r\nWhen I need to get String value, are there any difference between way1 and way2?\r\nWhich is better way?\r\n\r\nAdditional question:\r\n\r\nWhen I need to get multiple values, is this only way to retrieve data from CF?\r\n\r\n```\r\nString[] array = cf.getElement(&quot;imagePaths&quot;).getValue().getValue(String[].class);\r\n```","title":"How to retrieve data from ContentFragment in AEM","body":"<p>I think there are 2 ways retrieve data from Content Fragment.</p>\n<pre><code>ContentFragment cf = resourceResolver.resolve(cfPath).adaptTo(ContentFragment.class);\n\ncf.getElement(&quot;summary&quot;).getContent();                      // way1\ncf.getElement(&quot;summary&quot;).getValue().getValue(String.class); // way2\n</code></pre>\n<p>When I need to get String value, are there any difference between way1 and way2?\nWhich is better way?</p>\n<p>Additional question:</p>\n<p>When I need to get multiple values, is this only way to retrieve data from CF?</p>\n<pre><code>String[] array = cf.getElement(&quot;imagePaths&quot;).getValue().getValue(String[].class);\n</code></pre>\n"},{"tags":["java","swing","animation","cardlayout"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1689275628,"post_id":76682545,"comment_id":135194428,"body_markdown":"Your question is broad and is asking several things all at once, and I advice you not to do this -- fix one thing at a time, and ask about one thing, at a time. Having said that, 1) don&#39;t override paint, override paintComponent. Call the super&#39;s painting method in your own painting method (again, super.paintComponent(g)). 3) Never call repaint within a painting method. 4) If you need to redraw a static background image, then draw it as a BufferedImage and then re-draw just that where needed. 5) read any tutorial on Swing graphics.","body":"Your question is broad and is asking several things all at once, and I advice you not to do this -- fix one thing at a time, and ask about one thing, at a time. Having said that, 1) don&#39;t override paint, override paintComponent. Call the super&#39;s painting method in your own painting method (again, super.paintComponent(g)). 3) Never call repaint within a painting method. 4) If you need to redraw a static background image, then draw it as a BufferedImage and then re-draw just that where needed. 5) read any tutorial on Swing graphics."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689275667,"post_id":76682545,"comment_id":135194434,"body_markdown":"And you are unable to Google the issue because you haven&#39;t yet *isolated* your separate issues. Again, do this first, and Google each individual issue in isolation.","body":"And you are unable to Google the issue because you haven&#39;t yet <i>isolated</i> your separate issues. Again, do this first, and Google each individual issue in isolation."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689275691,"post_id":76682545,"comment_id":135194442,"body_markdown":"And this does not appear to have anything to do with an issue with CardLayout","body":"And this does not appear to have anything to do with an issue with CardLayout"},{"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"score":0,"creation_date":1689275736,"post_id":76682545,"comment_id":135194453,"body_markdown":"@HovercraftFullOfEels Actually I am asking about 1 thing in this post I am asking the cause of performance issues.","body":"@HovercraftFullOfEels Actually I am asking about 1 thing in this post I am asking the cause of performance issues."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689275839,"post_id":76682545,"comment_id":135194475,"body_markdown":"If you&#39;re asking about performance, then post a question where the question can be answered, including [mre] code that reproduces the issue for us. Again, I posit that this question, as written, is far too broad.","body":"If you&#39;re asking about performance, then post a question where the question can be answered, including <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> code that reproduces the issue for us. Again, I posit that this question, as written, is far too broad."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689275875,"post_id":76682545,"comment_id":135194479,"body_markdown":"But yeah, get rid of the repaint, use paintComponent, and use a Swing Timer as your animation loop","body":"But yeah, get rid of the repaint, use paintComponent, and use a Swing Timer as your animation loop"},{"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"score":0,"creation_date":1689275909,"post_id":76682545,"comment_id":135194482,"body_markdown":"@HovercraftFullOfEels I have posted a minimal repodrucible example this is the code I am running and I described what happens when I run it.","body":"@HovercraftFullOfEels I have posted a minimal repodrucible example this is the code I am running and I described what happens when I run it."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689275967,"post_id":76682545,"comment_id":135194493,"body_markdown":"Then follow the recommendations that I&#39;ve given you above.","body":"Then follow the recommendations that I&#39;ve given you above."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689276028,"post_id":76682545,"comment_id":135194502,"body_markdown":"Tutorials: [Swing Timer](http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html). [Swing Tutorials](http://docs.oracle.com/javase/tutorial/uiswing/index.html). [Lesson: Performing Custom Painting](http://docs.oracle.com/javase/tutorial/uiswing/painting/index.html).","body":"Tutorials: <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">Swing Timer</a>. <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Swing Tutorials</a>. <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Lesson: Performing Custom Painting</a>."},{"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"score":0,"creation_date":1689276190,"post_id":76682545,"comment_id":135194527,"body_markdown":"@HovercraftFullOfEels I am not sure you understand the question.","body":"@HovercraftFullOfEels I am not sure you understand the question."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689276413,"post_id":76682545,"comment_id":135194576,"body_markdown":"I understand that you are doing many many things wrong in this code, several of which can impact on &quot;performance&quot; none of which involve a problem with CardLayout. Again, fix all those bugs mentioned.","body":"I understand that you are doing many many things wrong in this code, several of which can impact on &quot;performance&quot; none of which involve a problem with CardLayout. Again, fix all those bugs mentioned."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1689276444,"post_id":76682545,"comment_id":135194583,"body_markdown":"You are producing an &quot;endless loop&quot; by calling `repaint` inside of your implementation of the `paint` method. This will invoke `paint` again. But still: have a look at the linked duplicate, it should give you insights about performant painting in Swing. Also have a look at the javadoc of `paint` and `repaint`.","body":"You are producing an &quot;endless loop&quot; by calling <code>repaint</code> inside of your implementation of the <code>paint</code> method. This will invoke <code>paint</code> again. But still: have a look at the linked duplicate, it should give you insights about performant painting in Swing. Also have a look at the javadoc of <code>paint</code> and <code>repaint</code>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689276696,"post_id":76682545,"comment_id":135194633,"body_markdown":"Yes, @cyberbrain is correct, and his suggestions are as I already have mentioned above: never call paint within a painting method. Use a Swing Timer for your animation loop. This code is full of errors.","body":"Yes, @cyberbrain is correct, and his suggestions are as I already have mentioned above: never call paint within a painting method. Use a Swing Timer for your animation loop. This code is full of errors."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689277052,"post_id":76682545,"comment_id":135194710,"body_markdown":"I&#39;m not sure of the purpose of the `board()` method, since it is never called, and thus doesn&#39;t belong in your [mre]. If you do call it multiple times and if this drawing portion doesn&#39;t change (a non-dynamic or &quot;static&quot; image), then *again*, get rid of the method and instead create a BufferedImage with that drawing and simply draw the background with the buffered image.","body":"I&#39;m not sure of the purpose of the <code>board()</code> method, since it is never called, and thus doesn&#39;t belong in your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. If you do call it multiple times and if this drawing portion doesn&#39;t change (a non-dynamic or &quot;static&quot; image), then <i>again</i>, get rid of the method and instead create a BufferedImage with that drawing and simply draw the background with the buffered image."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689277642,"post_id":76682545,"comment_id":135194825,"body_markdown":"Correction: never call `repaint()` within any painting method. This is a &quot;poor-man&#39;s&quot; animation loop, one that you cannot control in any reasonable way.","body":"Correction: never call <code>repaint()</code> within any painting method. This is a &quot;poor-man&#39;s&quot; animation loop, one that you cannot control in any reasonable way."},{"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"score":0,"creation_date":1689278002,"post_id":76682545,"comment_id":135194901,"body_markdown":"@HovercraftFullOfEels I understand what you mean now from the other lad too I needed things explained in simpeliar terms to understand it I sincerly thank you for your effort. I have now despite it not being related fixed the performence issue of my previous project. and will now be on my way for this one.","body":"@HovercraftFullOfEels I understand what you mean now from the other lad too I needed things explained in simpeliar terms to understand it I sincerly thank you for your effort. I have now despite it not being related fixed the performence issue of my previous project. and will now be on my way for this one."},{"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"score":0,"creation_date":1689278017,"post_id":76682545,"comment_id":135194903,"body_markdown":"@cyberbrain thank you too.","body":"@cyberbrain thank you too."}],"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689275951,"answer_count":0,"score":0,"last_activity_date":1689275728,"creation_date":1689275426,"question_id":76682545,"body_markdown":"So in my previous question I was informed of cardlayout and I tried to implement it in my code but I am having quite severe issues running the code. I am running Linux mint and visual studio code if that matters.\r\n\r\nFirst when I press the red X to close the Jframe there is a 2 second delay before it closes.\r\nSecondly, when I try to move around the frame it pretty much messes my whole screen and everything on it. When I say everything I mean it I have to minimize Firefox to get it back to normal. \r\n\r\nEssentially my question is since I cannot figure out from googling if the issue is caused by something in the code or something else I ask here. \r\n\r\nThe main class below essentially just copied code. \r\n\r\n```\r\npublic class SpaceInvaders extends JFrame implements ActionListener  \r\n{    \r\n  \r\nCardLayout crd;    \r\n  \r\n// button variables to hold the references of buttons  \r\nJButton btn1, btn2, btn3;    \r\nContainer cPane;   \r\nBoard board = new Board();\r\n  \r\n// constructor of the class  \r\nSpaceInvaders()  \r\n{    \r\n  \r\ncPane = getContentPane();    \r\n  \r\n//default constructor used  \r\n// therefore, components will   \r\n// cover the whole area  \r\ncrd = new CardLayout();    \r\n  \r\ncPane.setLayout(crd);    \r\n  \r\n// creating the buttons  \r\nbtn1 = new JButton(&quot;Apple&quot;);      \r\n  \r\n// adding listeners to it  \r\nbtn1.addActionListener(this);       \r\n  \r\ncPane.add(&quot;a&quot;, btn1);\r\ncPane.add(board); // first card is the button btn1  \r\n//cPane.add(&quot;b&quot;, btn2); // first card is the button btn2  \r\n//cPane.add(&quot;c&quot;, btn3);  // first card is the button btn3  \r\n\r\n            \r\n}    \r\npublic void actionPerformed(ActionEvent e)   \r\n{    \r\n// Upon clicking the button, the next card of the container is shown  \r\n// after the last card, again, the first card of the container is shown upon clicking  \r\ncrd.next(cPane);    \r\n}    \r\n  \r\n// main method  \r\npublic static void main(String argvs[])   \r\n{     \r\n// creating an object of the class CardLayoutExample1  \r\nSpaceInvaders crdl = new SpaceInvaders();   \r\ncrdl.setTitle ( &quot;Space invaders&quot; );//Title of the screen\r\ncrdl.setSize ( 900, 900 );//Size of the windowc  \r\n// size is 300 * 300          \r\ncrdl.setVisible(true);    \r\ncrdl.setDefaultCloseOperation(EXIT_ON_CLOSE);    \r\n}    \r\n} \r\n```\r\n\r\nThe board class with some random drawn things.\r\n\r\n\r\n```\r\nimport java.awt.BasicStroke;\r\nimport java.awt.Color;\r\nimport java.awt.Font;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Stroke;\r\nimport javax.swing.JPanel;\r\n\r\npublic class Board extends JPanel {\r\n\r\n    public Board(){\r\n\r\n        setFocusable(true);\r\n    }\r\n\r\n\tpublic void paint(Graphics g) {\r\n\t    g.setColor(Color.DARK_GRAY);\r\n\t    g.fillRect(0, 0, 900, 900);\r\n\t    g.setColor(Color.WHITE);\t\t    \r\n\t    g.drawRect (20, 20, 864, 624);  \r\n\t\tg.setColor(Color.BLACK);\r\n\t\tg.fillRect (21, 21, 863, 623);\r\n\t    g.setColor(Color.WHITE);\t\r\n\t    g.setFont(new Font(&quot;arial&quot;,Font.PLAIN,14));\r\n        repaint();\r\n    }\r\n\r\n    public void board(Graphics g) {\r\n        Graphics2D g2d = (Graphics2D) g;\r\n        Stroke stroke1 = new BasicStroke(4f);\r\n        g2d.setColor(Color.white);\r\n        g2d.setStroke(stroke1);\r\n        g2d.drawRect(20, 50, 850, 600);\r\n        g2d.setColor(Color.white);\r\n        float[] dashingPattern2 = {10f, 4f};\r\n        Stroke stroke2 = new BasicStroke(4f, BasicStroke.CAP_BUTT,\r\n        BasicStroke.JOIN_MITER, 1.0f, dashingPattern2, 0.0f);\r\n        g2d.setStroke(stroke2);\r\n        g2d.drawLine(448, 50, 448, 650);\r\n        g.setFont(new Font(&quot;arial&quot;,Font.PLAIN,30));\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI have tried to google the issue but it does not seem to come up so I assume it caused by something else in the code.\r\n\r\nI am thinking of coding the menu in a different way making a new menu class but I wanna have it done using Jbuttons.","title":"Java cardlayout performence issues, is it the code or caused by something else?","body":"<p>So in my previous question I was informed of cardlayout and I tried to implement it in my code but I am having quite severe issues running the code. I am running Linux mint and visual studio code if that matters.</p>\n<p>First when I press the red X to close the Jframe there is a 2 second delay before it closes.\nSecondly, when I try to move around the frame it pretty much messes my whole screen and everything on it. When I say everything I mean it I have to minimize Firefox to get it back to normal.</p>\n<p>Essentially my question is since I cannot figure out from googling if the issue is caused by something in the code or something else I ask here.</p>\n<p>The main class below essentially just copied code.</p>\n<pre><code>public class SpaceInvaders extends JFrame implements ActionListener  \n{    \n  \nCardLayout crd;    \n  \n// button variables to hold the references of buttons  \nJButton btn1, btn2, btn3;    \nContainer cPane;   \nBoard board = new Board();\n  \n// constructor of the class  \nSpaceInvaders()  \n{    \n  \ncPane = getContentPane();    \n  \n//default constructor used  \n// therefore, components will   \n// cover the whole area  \ncrd = new CardLayout();    \n  \ncPane.setLayout(crd);    \n  \n// creating the buttons  \nbtn1 = new JButton(&quot;Apple&quot;);      \n  \n// adding listeners to it  \nbtn1.addActionListener(this);       \n  \ncPane.add(&quot;a&quot;, btn1);\ncPane.add(board); // first card is the button btn1  \n//cPane.add(&quot;b&quot;, btn2); // first card is the button btn2  \n//cPane.add(&quot;c&quot;, btn3);  // first card is the button btn3  \n\n            \n}    \npublic void actionPerformed(ActionEvent e)   \n{    \n// Upon clicking the button, the next card of the container is shown  \n// after the last card, again, the first card of the container is shown upon clicking  \ncrd.next(cPane);    \n}    \n  \n// main method  \npublic static void main(String argvs[])   \n{     \n// creating an object of the class CardLayoutExample1  \nSpaceInvaders crdl = new SpaceInvaders();   \ncrdl.setTitle ( &quot;Space invaders&quot; );//Title of the screen\ncrdl.setSize ( 900, 900 );//Size of the windowc  \n// size is 300 * 300          \ncrdl.setVisible(true);    \ncrdl.setDefaultCloseOperation(EXIT_ON_CLOSE);    \n}    \n} \n</code></pre>\n<p>The board class with some random drawn things.</p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Stroke;\nimport javax.swing.JPanel;\n\npublic class Board extends JPanel {\n\n    public Board(){\n\n        setFocusable(true);\n    }\n\n    public void paint(Graphics g) {\n        g.setColor(Color.DARK_GRAY);\n        g.fillRect(0, 0, 900, 900);\n        g.setColor(Color.WHITE);            \n        g.drawRect (20, 20, 864, 624);  \n        g.setColor(Color.BLACK);\n        g.fillRect (21, 21, 863, 623);\n        g.setColor(Color.WHITE);    \n        g.setFont(new Font(&quot;arial&quot;,Font.PLAIN,14));\n        repaint();\n    }\n\n    public void board(Graphics g) {\n        Graphics2D g2d = (Graphics2D) g;\n        Stroke stroke1 = new BasicStroke(4f);\n        g2d.setColor(Color.white);\n        g2d.setStroke(stroke1);\n        g2d.drawRect(20, 50, 850, 600);\n        g2d.setColor(Color.white);\n        float[] dashingPattern2 = {10f, 4f};\n        Stroke stroke2 = new BasicStroke(4f, BasicStroke.CAP_BUTT,\n        BasicStroke.JOIN_MITER, 1.0f, dashingPattern2, 0.0f);\n        g2d.setStroke(stroke2);\n        g2d.drawLine(448, 50, 448, 650);\n        g.setFont(new Font(&quot;arial&quot;,Font.PLAIN,30));\n    }\n\n\n}\n</code></pre>\n<p>I have tried to google the issue but it does not seem to come up so I assume it caused by something else in the code.</p>\n<p>I am thinking of coding the menu in a different way making a new menu class but I wanna have it done using Jbuttons.</p>\n"},{"tags":["java","android","node.js","server","android-volley"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689320196,"post_id":76682546,"comment_id":135199524,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":28077577,"reputation":3,"user_id":21449179,"display_name":"Efe Bostancı"},"score":0,"creation_date":1689352329,"post_id":76682546,"comment_id":135206340,"body_markdown":"all code will help to solve 1 endpoint, 1 activity and the class used in it","body":"all code will help to solve 1 endpoint, 1 activity and the class used in it"}],"owner":{"account_id":28077577,"reputation":3,"user_id":21449179,"display_name":"Efe Bostancı"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689275637,"creation_date":1689275444,"question_id":76682546,"body_markdown":"I am creating a chat page for users, everyone should be able to open their own chat and add chat photos, but somehow I cannot upload the photos I received from the user&#39;s gallery to the server.(only 1 photo will be uploaded at a time)\r\n\r\n# **Endpoint**\r\n\r\n```node.js\r\nconst multer = require(&#39;multer&#39;);\r\nconst path = require(&#39;path&#39;);\r\n\r\nconst storage = multer.diskStorage({\r\n    destination: function (req, file, cb) {\r\n        cb(null, &#39;uploads/&#39;);\r\n    },\r\n    filename: function (req, file, cb) {\r\n        const uniqueSuffix = Date.now() + &#39;-&#39; + Math.round(Math.random() * 1E9);\r\n        const ext = path.extname(file.originalname);\r\n        cb(null, uniqueSuffix + ext);\r\n    }\r\n});\r\n\r\nconst upload = multer({ storage: storage }).single(&#39;image&#39;);\r\n\r\napp.post(&#39;/api/chat/upload&#39;, (req, res) =&gt; {\r\n    upload(req, res, function (err) {\r\n        if (err instanceof multer.MulterError) {\r\n            console.error(&#39;Multer error:&#39;, err);\r\n            return res.status(500).json({ message: &#39;An error occurred during image upload&#39; });\r\n        } else if (err) {\r\n            console.error(&#39;Error:&#39;, err);\r\n            return res.status(500).json({ message: &#39;An error occurred during image upload&#39; });\r\n        }\r\n\r\n        const imageUrl = req.file.path;\r\n        const realImageUrl = `https://projechats.com/api/chat${imageUrl.replace(&#39;uploads/&#39;, &#39;images/&#39;)}`;\r\n        res.status(200).json({ imageUrl: realImageUrl });\r\n    });\r\n});\r\n```\r\n\r\n*other express, link and port codes are available in endpoint\r\n*\r\n\r\n\r\n*code where I take a photo from the user&#39;s gallery, crop it and round it*\r\n# **Activity code**\r\n\r\n\r\n```\r\npublic class FragmentCreateChat extends Fragment {\r\n\r\n    private static final int PICK_IMAGE_REQUEST = 1;\r\n    private static final int CROP_IMAGE_REQUEST = 2;\r\n\r\n    private ImageView selectImage, camIcon;\r\n    private Button createChatButton;\r\n    private Uri imageUri;\r\n\r\n    String groupname, groupdes;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.mainColor));\r\n\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_create_chat, container, false);\r\n        createChatButton = view.findViewById(R.id.create_chat_button);\r\n        selectImage = view.findViewById(R.id.select_image);\r\n        camIcon = view.findViewById(R.id.camera_icon);\r\n        camIcon.setVisibility(View.VISIBLE);\r\n\r\n        selectImage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                openGallery();\r\n            }\r\n        });\r\n\r\n        createChatButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                EditText createChatTitle = view.findViewById(R.id.create_chat_title);\r\n                EditText createChatDes = view.findViewById(R.id.create_chat_des);\r\n\r\n                groupname = createChatTitle.getText().toString().trim();\r\n                groupdes = createChatDes.getText().toString().trim();\r\n\r\n                if (groupname.isEmpty() || groupdes.isEmpty() || imageUri == null || groupname.matches(&quot;^\\\\s*$&quot;) || groupdes.matches(&quot;^\\\\s*$&quot;)) {\r\n                    Toast.makeText(getActivity(), &quot;Please fill all fields&quot;, Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                } else if (groupname.length() &lt; 6 || groupdes.length() &lt; 20) {\r\n                    Toast.makeText(getActivity(), &quot;Chat name: at least 6 characters, description: at least 20 characters. should be&quot;, Toast.LENGTH_LONG).show();\r\n                    return;\r\n                } else {\r\n                    //sunucuya ve mysqle kayıt\r\n                    uploadImageToServer(((BitmapDrawable) selectImage.getDrawable()).getBitmap());\r\n                }\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == PICK_IMAGE_REQUEST &amp;&amp; resultCode == getActivity().RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\r\n            imageUri = data.getData();\r\n            cropImage(imageUri);\r\n        } else if (requestCode == CROP_IMAGE_REQUEST &amp;&amp; resultCode == getActivity().RESULT_OK &amp;&amp; data != null) {\r\n            Bitmap bitmap = data.getParcelableExtra(&quot;data&quot;);\r\n            selectImage.setImageBitmap(bitmap);\r\n            camIcon.setVisibility(View.GONE);\r\n            setCircularImage();\r\n        }\r\n    }\r\n\r\n    private void openGallery() {\r\n        Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n        startActivityForResult(intent, PICK_IMAGE_REQUEST);\r\n    }\r\n\r\n    private void cropImage(Uri imageUri) {\r\n        Intent intent = new Intent(&quot;com.android.camera.action.CROP&quot;);\r\n        intent.setDataAndType(imageUri, &quot;image/*&quot;);\r\n        intent.putExtra(&quot;crop&quot;, &quot;true&quot;);\r\n        intent.putExtra(&quot;aspectX&quot;, 1);\r\n        intent.putExtra(&quot;aspectY&quot;, 1);\r\n        intent.putExtra(&quot;outputX&quot;, 200);\r\n        intent.putExtra(&quot;outputY&quot;, 200);\r\n        intent.putExtra(&quot;return-data&quot;, true);\r\n        startActivityForResult(intent, CROP_IMAGE_REQUEST);\r\n    }\r\n\r\n    private void setCircularImage() {\r\n        Bitmap bitmap = ((BitmapDrawable) selectImage.getDrawable()).getBitmap();\r\n\r\n        int desiredSizeDp = 60;\r\n        float scale = getResources().getDisplayMetrics().density;\r\n        int desiredSizePx = (int) (desiredSizeDp * scale + 0.5f);\r\n\r\n        Bitmap scaledBitmap = Bitmap.createScaledBitmap(bitmap, desiredSizePx, desiredSizePx, false);\r\n        Bitmap circularBitmap = Bitmap.createBitmap(desiredSizePx, desiredSizePx, Bitmap.Config.ARGB_8888);\r\n        Canvas canvas = new Canvas(circularBitmap);\r\n        Paint paint = new Paint();\r\n        RectF rectF = new RectF(0, 0, desiredSizePx, desiredSizePx);\r\n        float radius = desiredSizePx / 2f;\r\n\r\n        paint.setAntiAlias(true);\r\n        canvas.drawARGB(0, 0, 0, 0);\r\n        canvas.drawRoundRect(rectF, radius, radius, paint);\r\n        paint.setXfermode(new android.graphics.PorterDuffXfermode(android.graphics.PorterDuff.Mode.SRC_IN));\r\n        canvas.drawBitmap(scaledBitmap, null, rectF, paint);\r\n\r\n        selectImage.setImageBitmap(circularBitmap);\r\n    }\r\n\r\n    private void createNewChat(String groupphoto, String groupname, String groupdes) {\r\n        SharedPreferences sharedPreferences = getActivity().getSharedPreferences(getString(R.string.MyUserid), Context.MODE_PRIVATE);\r\n        String adminid = sharedPreferences.getString(&quot;userid&quot;, &quot;&quot;);\r\n\r\n        Response.Listener&lt;String&gt; responseListener = new Response.Listener&lt;String&gt;() {\r\n            @Override\r\n            public void onResponse(String response) {\r\n                Toast.makeText(getActivity(), &quot;Successfully created&quot;, Toast.LENGTH_SHORT).show();\r\n                getActivity().finish();\r\n            }\r\n        };\r\n\r\n        Response.ErrorListener errorListener = new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                if (error.networkResponse != null) {\r\n                    if (error.networkResponse.statusCode == 400) {\r\n                        Toast.makeText(getActivity(), &quot;Invalid or missing fields&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else if (error.networkResponse.statusCode == 409) {\r\n                        Toast.makeText(getActivity(), &quot;Group already exists with this name&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        Toast.makeText(getActivity(), &quot;An error occurred, please try again later&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                } else {\r\n                    Toast.makeText(getActivity(), &quot;Could not connect to server. Please check your Internet connection&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        };\r\n\r\n        VolleyCreateNewChat createNewChat = new VolleyCreateNewChat(adminid, groupphoto, groupname, groupdes, responseListener, errorListener);\r\n        RequestQueue requestQueue = Volley.newRequestQueue(getActivity());\r\n        requestQueue.add(createNewChat);\r\n    }\r\n\r\n    private void uploadImageToServer(Bitmap imageBitmap) {\r\n        Response.Listener&lt;String&gt; responseListener = new Response.Listener&lt;String&gt;() {\r\n            @Override\r\n            public void onResponse(String response) {\r\n                String imageUrl = response; // &#214;rnek bir URL\r\n                createNewChat(imageUrl, groupname, groupdes);\r\n            }\r\n        };\r\n\r\n        Response.ErrorListener errorListener = new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Toast.makeText(getActivity(), &quot;An error occurred while uploading the image&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        };\r\n\r\n        VolleyUploadImageRequest uploadImageRequest = new VolleyUploadImageRequest(imageBitmap, responseListener, errorListener);\r\n        RequestQueue requestQueue = Volley.newRequestQueue(getActivity());\r\n        requestQueue.add(uploadImageRequest);\r\n    }\r\n}\r\n```\r\n\r\n--------------------------------------------------------------------------\r\n```java\r\npublic class VolleyUploadImageRequest extends Request&lt;String&gt; {\r\n    private static final String URL = &quot;https://projechats.com/api/chat/upload&quot;; // Sunucu URL&#39;sini buraya yerleştirin\r\n    private static final String BOUNDARY = &quot;*****&quot;;\r\n    private static final String LINE_FEED = &quot;\\r\\n&quot;;\r\n    private static final String TWO_HYPHENS = &quot;--&quot;;\r\n\r\n    private Bitmap imageBitmap;\r\n    private Response.Listener&lt;String&gt; responseListener;\r\n\r\n    public VolleyUploadImageRequest(Bitmap imageBitmap, Response.Listener&lt;String&gt; responseListener, Response.ErrorListener errorListener) {\r\n        super(Method.POST, URL, errorListener);\r\n        this.imageBitmap = imageBitmap;\r\n        this.responseListener = responseListener;\r\n    }\r\n\r\n    @Override\r\n    public String getBodyContentType() {\r\n        return &quot;multipart/form-data;boundary=&quot; + BOUNDARY;\r\n    }\r\n\r\n    @Override\r\n    public byte[] getBody() throws AuthFailureError {\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n        DataOutputStream dataOutputStream = new DataOutputStream(outputStream);\r\n\r\n        try {\r\n            // Resim dosyasının başlangıcını işaret et\r\n            dataOutputStream.writeBytes(TWO_HYPHENS + BOUNDARY + LINE_FEED);\r\n            dataOutputStream.writeBytes(&quot;Content-Disposition: form-data; name=\\&quot;file\\&quot;;filename=\\&quot;image.jpg\\&quot;&quot; + LINE_FEED);\r\n            dataOutputStream.writeBytes(LINE_FEED);\r\n\r\n            // Resmi byte dizisine d&#246;n&#252;şt&#252;r\r\n            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n            imageBitmap.compress(Bitmap.CompressFormat.JPEG, 100, byteArrayOutputStream);\r\n            byte[] imageBytes = byteArrayOutputStream.toByteArray();\r\n\r\n            // Byte dizisini &#231;ıktı akışına yaz\r\n            dataOutputStream.write(imageBytes);\r\n            dataOutputStream.writeBytes(LINE_FEED);\r\n\r\n            // Resim dosyasının sonunu işaret et\r\n            dataOutputStream.writeBytes(TWO_HYPHENS + BOUNDARY + TWO_HYPHENS + LINE_FEED);\r\n            dataOutputStream.flush();\r\n            dataOutputStream.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return outputStream.toByteArray();\r\n    }\r\n\r\n    @Override\r\n    protected Response&lt;String&gt; parseNetworkResponse(NetworkResponse response) {\r\n        try {\r\n            String responseBody = new String(response.data, HttpHeaderParser.parseCharset(response.headers));\r\n            return Response.success(responseBody, HttpHeaderParser.parseCacheHeaders(response));\r\n        } catch (UnsupportedEncodingException e) {\r\n            e.printStackTrace();\r\n            return Response.error(new VolleyError(e));\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void deliverResponse(String response) {\r\n        responseListener.onResponse(response);\r\n    }\r\n}\r\n```\r\n\r\nHow can I save the user selected photo to the server and get the url to view the photo later in the app?\r\nmy current codes are giving 500 error i checked everything on server but still not working","title":"Uploading photos to server with node.js using android java, volley","body":"<p>I am creating a chat page for users, everyone should be able to open their own chat and add chat photos, but somehow I cannot upload the photos I received from the user's gallery to the server.(only 1 photo will be uploaded at a time)</p>\n<h1><strong>Endpoint</strong></h1>\n<pre class=\"lang-js prettyprint-override\"><code>const multer = require('multer');\nconst path = require('path');\n\nconst storage = multer.diskStorage({\n    destination: function (req, file, cb) {\n        cb(null, 'uploads/');\n    },\n    filename: function (req, file, cb) {\n        const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9);\n        const ext = path.extname(file.originalname);\n        cb(null, uniqueSuffix + ext);\n    }\n});\n\nconst upload = multer({ storage: storage }).single('image');\n\napp.post('/api/chat/upload', (req, res) =&gt; {\n    upload(req, res, function (err) {\n        if (err instanceof multer.MulterError) {\n            console.error('Multer error:', err);\n            return res.status(500).json({ message: 'An error occurred during image upload' });\n        } else if (err) {\n            console.error('Error:', err);\n            return res.status(500).json({ message: 'An error occurred during image upload' });\n        }\n\n        const imageUrl = req.file.path;\n        const realImageUrl = `https://projechats.com/api/chat${imageUrl.replace('uploads/', 'images/')}`;\n        res.status(200).json({ imageUrl: realImageUrl });\n    });\n});\n</code></pre>\n<p>*other express, link and port codes are available in endpoint\n*</p>\n<p><em>code where I take a photo from the user's gallery, crop it and round it</em></p>\n<h1><strong>Activity code</strong></h1>\n<pre><code>public class FragmentCreateChat extends Fragment {\n\n    private static final int PICK_IMAGE_REQUEST = 1;\n    private static final int CROP_IMAGE_REQUEST = 2;\n\n    private ImageView selectImage, camIcon;\n    private Button createChatButton;\n    private Uri imageUri;\n\n    String groupname, groupdes;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.mainColor));\n\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_create_chat, container, false);\n        createChatButton = view.findViewById(R.id.create_chat_button);\n        selectImage = view.findViewById(R.id.select_image);\n        camIcon = view.findViewById(R.id.camera_icon);\n        camIcon.setVisibility(View.VISIBLE);\n\n        selectImage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                openGallery();\n            }\n        });\n\n        createChatButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                EditText createChatTitle = view.findViewById(R.id.create_chat_title);\n                EditText createChatDes = view.findViewById(R.id.create_chat_des);\n\n                groupname = createChatTitle.getText().toString().trim();\n                groupdes = createChatDes.getText().toString().trim();\n\n                if (groupname.isEmpty() || groupdes.isEmpty() || imageUri == null || groupname.matches(&quot;^\\\\s*$&quot;) || groupdes.matches(&quot;^\\\\s*$&quot;)) {\n                    Toast.makeText(getActivity(), &quot;Please fill all fields&quot;, Toast.LENGTH_SHORT).show();\n                    return;\n                } else if (groupname.length() &lt; 6 || groupdes.length() &lt; 20) {\n                    Toast.makeText(getActivity(), &quot;Chat name: at least 6 characters, description: at least 20 characters. should be&quot;, Toast.LENGTH_LONG).show();\n                    return;\n                } else {\n                    //sunucuya ve mysqle kayıt\n                    uploadImageToServer(((BitmapDrawable) selectImage.getDrawable()).getBitmap());\n                }\n            }\n        });\n\n        return view;\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == PICK_IMAGE_REQUEST &amp;&amp; resultCode == getActivity().RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\n            imageUri = data.getData();\n            cropImage(imageUri);\n        } else if (requestCode == CROP_IMAGE_REQUEST &amp;&amp; resultCode == getActivity().RESULT_OK &amp;&amp; data != null) {\n            Bitmap bitmap = data.getParcelableExtra(&quot;data&quot;);\n            selectImage.setImageBitmap(bitmap);\n            camIcon.setVisibility(View.GONE);\n            setCircularImage();\n        }\n    }\n\n    private void openGallery() {\n        Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n        startActivityForResult(intent, PICK_IMAGE_REQUEST);\n    }\n\n    private void cropImage(Uri imageUri) {\n        Intent intent = new Intent(&quot;com.android.camera.action.CROP&quot;);\n        intent.setDataAndType(imageUri, &quot;image/*&quot;);\n        intent.putExtra(&quot;crop&quot;, &quot;true&quot;);\n        intent.putExtra(&quot;aspectX&quot;, 1);\n        intent.putExtra(&quot;aspectY&quot;, 1);\n        intent.putExtra(&quot;outputX&quot;, 200);\n        intent.putExtra(&quot;outputY&quot;, 200);\n        intent.putExtra(&quot;return-data&quot;, true);\n        startActivityForResult(intent, CROP_IMAGE_REQUEST);\n    }\n\n    private void setCircularImage() {\n        Bitmap bitmap = ((BitmapDrawable) selectImage.getDrawable()).getBitmap();\n\n        int desiredSizeDp = 60;\n        float scale = getResources().getDisplayMetrics().density;\n        int desiredSizePx = (int) (desiredSizeDp * scale + 0.5f);\n\n        Bitmap scaledBitmap = Bitmap.createScaledBitmap(bitmap, desiredSizePx, desiredSizePx, false);\n        Bitmap circularBitmap = Bitmap.createBitmap(desiredSizePx, desiredSizePx, Bitmap.Config.ARGB_8888);\n        Canvas canvas = new Canvas(circularBitmap);\n        Paint paint = new Paint();\n        RectF rectF = new RectF(0, 0, desiredSizePx, desiredSizePx);\n        float radius = desiredSizePx / 2f;\n\n        paint.setAntiAlias(true);\n        canvas.drawARGB(0, 0, 0, 0);\n        canvas.drawRoundRect(rectF, radius, radius, paint);\n        paint.setXfermode(new android.graphics.PorterDuffXfermode(android.graphics.PorterDuff.Mode.SRC_IN));\n        canvas.drawBitmap(scaledBitmap, null, rectF, paint);\n\n        selectImage.setImageBitmap(circularBitmap);\n    }\n\n    private void createNewChat(String groupphoto, String groupname, String groupdes) {\n        SharedPreferences sharedPreferences = getActivity().getSharedPreferences(getString(R.string.MyUserid), Context.MODE_PRIVATE);\n        String adminid = sharedPreferences.getString(&quot;userid&quot;, &quot;&quot;);\n\n        Response.Listener&lt;String&gt; responseListener = new Response.Listener&lt;String&gt;() {\n            @Override\n            public void onResponse(String response) {\n                Toast.makeText(getActivity(), &quot;Successfully created&quot;, Toast.LENGTH_SHORT).show();\n                getActivity().finish();\n            }\n        };\n\n        Response.ErrorListener errorListener = new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                if (error.networkResponse != null) {\n                    if (error.networkResponse.statusCode == 400) {\n                        Toast.makeText(getActivity(), &quot;Invalid or missing fields&quot;, Toast.LENGTH_SHORT).show();\n                    } else if (error.networkResponse.statusCode == 409) {\n                        Toast.makeText(getActivity(), &quot;Group already exists with this name&quot;, Toast.LENGTH_SHORT).show();\n                    } else {\n                        Toast.makeText(getActivity(), &quot;An error occurred, please try again later&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                } else {\n                    Toast.makeText(getActivity(), &quot;Could not connect to server. Please check your Internet connection&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        };\n\n        VolleyCreateNewChat createNewChat = new VolleyCreateNewChat(adminid, groupphoto, groupname, groupdes, responseListener, errorListener);\n        RequestQueue requestQueue = Volley.newRequestQueue(getActivity());\n        requestQueue.add(createNewChat);\n    }\n\n    private void uploadImageToServer(Bitmap imageBitmap) {\n        Response.Listener&lt;String&gt; responseListener = new Response.Listener&lt;String&gt;() {\n            @Override\n            public void onResponse(String response) {\n                String imageUrl = response; // Örnek bir URL\n                createNewChat(imageUrl, groupname, groupdes);\n            }\n        };\n\n        Response.ErrorListener errorListener = new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                Toast.makeText(getActivity(), &quot;An error occurred while uploading the image&quot;, Toast.LENGTH_SHORT).show();\n            }\n        };\n\n        VolleyUploadImageRequest uploadImageRequest = new VolleyUploadImageRequest(imageBitmap, responseListener, errorListener);\n        RequestQueue requestQueue = Volley.newRequestQueue(getActivity());\n        requestQueue.add(uploadImageRequest);\n    }\n}\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>public class VolleyUploadImageRequest extends Request&lt;String&gt; {\n    private static final String URL = &quot;https://projechats.com/api/chat/upload&quot;; // Sunucu URL'sini buraya yerleştirin\n    private static final String BOUNDARY = &quot;*****&quot;;\n    private static final String LINE_FEED = &quot;\\r\\n&quot;;\n    private static final String TWO_HYPHENS = &quot;--&quot;;\n\n    private Bitmap imageBitmap;\n    private Response.Listener&lt;String&gt; responseListener;\n\n    public VolleyUploadImageRequest(Bitmap imageBitmap, Response.Listener&lt;String&gt; responseListener, Response.ErrorListener errorListener) {\n        super(Method.POST, URL, errorListener);\n        this.imageBitmap = imageBitmap;\n        this.responseListener = responseListener;\n    }\n\n    @Override\n    public String getBodyContentType() {\n        return &quot;multipart/form-data;boundary=&quot; + BOUNDARY;\n    }\n\n    @Override\n    public byte[] getBody() throws AuthFailureError {\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        DataOutputStream dataOutputStream = new DataOutputStream(outputStream);\n\n        try {\n            // Resim dosyasının başlangıcını işaret et\n            dataOutputStream.writeBytes(TWO_HYPHENS + BOUNDARY + LINE_FEED);\n            dataOutputStream.writeBytes(&quot;Content-Disposition: form-data; name=\\&quot;file\\&quot;;filename=\\&quot;image.jpg\\&quot;&quot; + LINE_FEED);\n            dataOutputStream.writeBytes(LINE_FEED);\n\n            // Resmi byte dizisine dönüştür\n            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n            imageBitmap.compress(Bitmap.CompressFormat.JPEG, 100, byteArrayOutputStream);\n            byte[] imageBytes = byteArrayOutputStream.toByteArray();\n\n            // Byte dizisini çıktı akışına yaz\n            dataOutputStream.write(imageBytes);\n            dataOutputStream.writeBytes(LINE_FEED);\n\n            // Resim dosyasının sonunu işaret et\n            dataOutputStream.writeBytes(TWO_HYPHENS + BOUNDARY + TWO_HYPHENS + LINE_FEED);\n            dataOutputStream.flush();\n            dataOutputStream.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return outputStream.toByteArray();\n    }\n\n    @Override\n    protected Response&lt;String&gt; parseNetworkResponse(NetworkResponse response) {\n        try {\n            String responseBody = new String(response.data, HttpHeaderParser.parseCharset(response.headers));\n            return Response.success(responseBody, HttpHeaderParser.parseCacheHeaders(response));\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n            return Response.error(new VolleyError(e));\n        }\n    }\n\n    @Override\n    protected void deliverResponse(String response) {\n        responseListener.onResponse(response);\n    }\n}\n</code></pre>\n<p>How can I save the user selected photo to the server and get the url to view the photo later in the app?\nmy current codes are giving 500 error i checked everything on server but still not working</p>\n"},{"tags":["java","spring-boot","tomcat"],"owner":{"account_id":16877725,"reputation":37,"user_id":12204692,"display_name":"Ujjawal Pandey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689275239,"creation_date":1688386506,"question_id":76604644,"body_markdown":"So what&#39;s happening is, my service is running fine. Fetching data. But the problem is when the table is updated in the database by some other client, the table gets updated but my service is returning the older snapshot of the table, not the updated one.\r\nBut on restarting the service, it does.\r\n\r\nI am literally very new to Spring boot, tried a lot but no success.\r\n\r\nHere&#39;s the relevant portion of code.\r\n\r\n*SomeApi.java*\r\n```\r\n    @Autowired\r\n    private FRPEntityManager frpEntityManager;\r\n\r\n    @Autowired\r\n    private DBI sqlDBI;\r\n    \r\n    public List&lt;Workflow&gt; getFRPStatusFromDB() throws Exception {\r\n    \tHandle h = null;\r\n        List&lt;Workflow&gt; workflowList;\r\n        try {\r\n            h = this.sqlDBI.open();\r\n            h.begin();\r\n            workflowList = this.frpEntityManager.getWfResponseFromDB(h);\r\n        } catch(Exception e) {\r\n            if (h != null) {\r\n                h.rollback();\r\n            }\r\n            throw e;\r\n        }\r\n        finally {\r\n            if (h != null) {\r\n                h.close();\r\n            }\r\n        }\r\n\r\n        return workflowList;\r\n    }\r\n```\r\n\r\n*SqlDB.java*\r\n```\r\n@Configuration\r\n@Component\r\npublic class SqlDB {\r\n\r\n\tprivate static final Logger LOG = Logger.getLogger(SqlDB.class);\r\n    @Bean(name = &quot;sqlDataSource&quot;)\r\n    @ConfigurationProperties(&quot;spring.mysql.datasource&quot;)\r\n    public DataSource sqlDataSource() {\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\n    @Autowired\r\n    @Bean(name = &quot;sqlDBI&quot;)\r\n    public DBI sqlDBI(@Qualifier(&quot;sqlDataSource&quot;) DataSource sqlDataSource) {\r\n        LOG.info(&quot;SQL DBI initialized&quot;);\r\n        synchronized (DBI.class) {\r\n            DBI dbi = new DBI(sqlDataSource);\r\n            LOG.info(&quot;This is SQL DBI&quot;);\r\n            LOG.info(dbi);\r\n            dbi.registerArgumentFactory(new DateTimeAF());\r\n            return dbi;\r\n        }\r\n    }\r\n\r\n    @Autowired\r\n    @Bean(name = &quot;sqlDbiFactory&quot;)\r\n    public DBIFactoryBean sqlDbiFactory(@Qualifier(&quot;sqlDataSource&quot;) DataSource sqlDataSource) {\r\n        final DBIFactoryBean dbiFactoryBean = new DBIFactoryBean();\r\n        LOG.info(&quot;This is SQL Datasource&quot;);\r\n        LOG.info(sqlDataSource);\r\n        dbiFactoryBean.setDataSource(sqlDataSource);\r\n        return dbiFactoryBean;\r\n    }\r\n\r\n    /**\r\n     * @return the objectMapper\r\n     */\r\n    @Bean\r\n    public ObjectMapper getObjectMapper() {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.registerModule(new JodaModule());\r\n        objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n        return objectMapper;\r\n    }\r\n\r\n    @Autowired\r\n    @Bean\r\n    public MonitoringDAO sqlMonitoringDAO(@Qualifier(&quot;sqlDBI&quot;) DBI sqlDBI) {\r\n        LOG.info(&quot;SQL MonitoringDAO initialized&quot;);\r\n        return sqlDBI.onDemand(MonitoringDAO.class);\r\n    }\r\n}\r\n```\r\n\r\n*FRPEntityManager.java*\r\n```\r\n\r\n@Slf4j\r\n@Component\r\npublic class FRPEntityManager {\r\n\r\n\t// reading config from application.properties\r\n\t@Value(&quot;${env.value}&quot;)\r\n    private String env;\r\n\r\n    /**\r\n     *\r\n     * @param h\r\n     * @return\r\n     */\r\n    public List&lt;Workflow&gt; getWfResponseFromDB(Handle h) {\r\n    \tMonitoringDAO dao = null;\r\n        dao = h.attach(MonitoringDAO.class);\r\n        List&lt;Workflow&gt; resultList = new ArrayList&lt;&gt;();\r\n        List&lt;Map&lt;String,String&gt;&gt; resultSet;\r\n        resultSet = dao.getFRPWorkflowList();\r\n        for(Map&lt;String,String&gt; r : resultSet) {\r\n\r\n        \tWorkflow result = new Workflow();\r\n\t        result.setWorkflowID(r.get(&quot;id&quot;));\r\n\t        result.setStatus(r.get(&quot;status&quot;));\r\n\t        resultList.add(result);\r\n        }\r\n        return resultList;\r\n    }\r\n}\r\n```\r\n\r\n*MonitoringDAO.java*\r\n```\r\n@SqlQuery({{{some query}}})\r\n\t@Mapper(ResponseMapper.class)\r\n\tList&lt;Map&lt;String, String&gt;&gt; getFRPWorkflowList();\r\n```\r\n\r\napplication.properties\r\n\r\n```\r\nspring.mysql.datasource.initialization-mode=always\r\nspring.mysql.datasource.tomcat.initial-size=3\r\nspring.mysql.datasource.tomcat.min-idle=2\r\nspring.mysql.datasource.tomcat.max-active=20\r\nspring.mysql.datasource.tomcat.max-idle=3\r\nspring.mysql.datasource.tomcat.max-wait=10000\r\nspring.mysql.datasource.tomcat.test-while-idle=true\r\nspring.mysql.datasource.tomcat.validationQuery = SELECT 1\r\nspring.mysql.datasource.tomcat.time-between-eviction-runs-millis=30000\r\nspring.mysql.datasource.tomcat.min-evictable-idle-time-millis=30000\r\n```","title":"Spring boot API not returning the updated data from the table","body":"<p>So what's happening is, my service is running fine. Fetching data. But the problem is when the table is updated in the database by some other client, the table gets updated but my service is returning the older snapshot of the table, not the updated one.\nBut on restarting the service, it does.</p>\n<p>I am literally very new to Spring boot, tried a lot but no success.</p>\n<p>Here's the relevant portion of code.</p>\n<p><em>SomeApi.java</em></p>\n<pre><code>    @Autowired\n    private FRPEntityManager frpEntityManager;\n\n    @Autowired\n    private DBI sqlDBI;\n    \n    public List&lt;Workflow&gt; getFRPStatusFromDB() throws Exception {\n        Handle h = null;\n        List&lt;Workflow&gt; workflowList;\n        try {\n            h = this.sqlDBI.open();\n            h.begin();\n            workflowList = this.frpEntityManager.getWfResponseFromDB(h);\n        } catch(Exception e) {\n            if (h != null) {\n                h.rollback();\n            }\n            throw e;\n        }\n        finally {\n            if (h != null) {\n                h.close();\n            }\n        }\n\n        return workflowList;\n    }\n</code></pre>\n<p><em>SqlDB.java</em></p>\n<pre><code>@Configuration\n@Component\npublic class SqlDB {\n\n    private static final Logger LOG = Logger.getLogger(SqlDB.class);\n    @Bean(name = &quot;sqlDataSource&quot;)\n    @ConfigurationProperties(&quot;spring.mysql.datasource&quot;)\n    public DataSource sqlDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Autowired\n    @Bean(name = &quot;sqlDBI&quot;)\n    public DBI sqlDBI(@Qualifier(&quot;sqlDataSource&quot;) DataSource sqlDataSource) {\n        LOG.info(&quot;SQL DBI initialized&quot;);\n        synchronized (DBI.class) {\n            DBI dbi = new DBI(sqlDataSource);\n            LOG.info(&quot;This is SQL DBI&quot;);\n            LOG.info(dbi);\n            dbi.registerArgumentFactory(new DateTimeAF());\n            return dbi;\n        }\n    }\n\n    @Autowired\n    @Bean(name = &quot;sqlDbiFactory&quot;)\n    public DBIFactoryBean sqlDbiFactory(@Qualifier(&quot;sqlDataSource&quot;) DataSource sqlDataSource) {\n        final DBIFactoryBean dbiFactoryBean = new DBIFactoryBean();\n        LOG.info(&quot;This is SQL Datasource&quot;);\n        LOG.info(sqlDataSource);\n        dbiFactoryBean.setDataSource(sqlDataSource);\n        return dbiFactoryBean;\n    }\n\n    /**\n     * @return the objectMapper\n     */\n    @Bean\n    public ObjectMapper getObjectMapper() {\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.registerModule(new JodaModule());\n        objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n        return objectMapper;\n    }\n\n    @Autowired\n    @Bean\n    public MonitoringDAO sqlMonitoringDAO(@Qualifier(&quot;sqlDBI&quot;) DBI sqlDBI) {\n        LOG.info(&quot;SQL MonitoringDAO initialized&quot;);\n        return sqlDBI.onDemand(MonitoringDAO.class);\n    }\n}\n</code></pre>\n<p><em>FRPEntityManager.java</em></p>\n<pre><code>\n@Slf4j\n@Component\npublic class FRPEntityManager {\n\n    // reading config from application.properties\n    @Value(&quot;${env.value}&quot;)\n    private String env;\n\n    /**\n     *\n     * @param h\n     * @return\n     */\n    public List&lt;Workflow&gt; getWfResponseFromDB(Handle h) {\n        MonitoringDAO dao = null;\n        dao = h.attach(MonitoringDAO.class);\n        List&lt;Workflow&gt; resultList = new ArrayList&lt;&gt;();\n        List&lt;Map&lt;String,String&gt;&gt; resultSet;\n        resultSet = dao.getFRPWorkflowList();\n        for(Map&lt;String,String&gt; r : resultSet) {\n\n            Workflow result = new Workflow();\n            result.setWorkflowID(r.get(&quot;id&quot;));\n            result.setStatus(r.get(&quot;status&quot;));\n            resultList.add(result);\n        }\n        return resultList;\n    }\n}\n</code></pre>\n<p><em>MonitoringDAO.java</em></p>\n<pre><code>@SqlQuery({{{some query}}})\n    @Mapper(ResponseMapper.class)\n    List&lt;Map&lt;String, String&gt;&gt; getFRPWorkflowList();\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.mysql.datasource.initialization-mode=always\nspring.mysql.datasource.tomcat.initial-size=3\nspring.mysql.datasource.tomcat.min-idle=2\nspring.mysql.datasource.tomcat.max-active=20\nspring.mysql.datasource.tomcat.max-idle=3\nspring.mysql.datasource.tomcat.max-wait=10000\nspring.mysql.datasource.tomcat.test-while-idle=true\nspring.mysql.datasource.tomcat.validationQuery = SELECT 1\nspring.mysql.datasource.tomcat.time-between-eviction-runs-millis=30000\nspring.mysql.datasource.tomcat.min-evictable-idle-time-millis=30000\n</code></pre>\n"},{"tags":["java","android","kotlin","icu"],"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689275020,"creation_date":1689274455,"question_id":76682457,"body_markdown":"I know how to get a localized formatted string of a measure value. For example to get &quot;10 meters&quot; I would use \r\n\r\n    val formatter = MeasureFormat.getInstance(ULocale.getDefault(), MeasureFormat.FormatWidth.WIDE)\r\n    val text = formatter.format(Measure(10, MeasureUnit.METER))\r\n\r\nBut when I need only the unit name, i.e. &quot;meter&quot;, how to get it?\r\nI currently did it by manipulating the string:\r\n\r\n    formatter.format(Measure(1, measureUnit))\r\n                     .replace(&quot;1&quot;, &quot;&quot;)\r\n                     .replace(&quot; &quot;, &quot;&quot;)\r\n\r\nBut languages have very different ways to express &quot;1 meter&quot;. I am looking for a robust way to do it.\r\n","title":"How to get localized unit name of a MeasureUnit?","body":"<p>I know how to get a localized formatted string of a measure value. For example to get &quot;10 meters&quot; I would use</p>\n<pre><code>val formatter = MeasureFormat.getInstance(ULocale.getDefault(), MeasureFormat.FormatWidth.WIDE)\nval text = formatter.format(Measure(10, MeasureUnit.METER))\n</code></pre>\n<p>But when I need only the unit name, i.e. &quot;meter&quot;, how to get it?\nI currently did it by manipulating the string:</p>\n<pre><code>formatter.format(Measure(1, measureUnit))\n                 .replace(&quot;1&quot;, &quot;&quot;)\n                 .replace(&quot; &quot;, &quot;&quot;)\n</code></pre>\n<p>But languages have very different ways to express &quot;1 meter&quot;. I am looking for a robust way to do it.</p>\n"},{"tags":["java","spring-boot","docker","maven","gitlab"],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689273884,"creation_date":1676273472,"question_id":75432974,"body_markdown":"Small question regarding GitLap and SpringBoot 3 native images with GraalVM please.\r\n\r\nI am new to GitLab, got a fresh GitLab instance.\r\n\r\nI do not think the GitLab instance got GraalVM installed.\r\n\r\nWith that said, here is the pom of my project:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.question&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1&lt;/version&gt;\r\n    &lt;name&gt;spring&lt;/name&gt;\r\n    &lt;description&gt;Spring Boot&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    \r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nI am very sure if I run ```mvn -Pnative spring-boot:build-image``` on my local machine, I get a docker image of the SpringBoot app with native binary. I can run the native binary fine.\r\n\r\nI would like to just create the same, using GitLab.\r\n\r\nWhat did I try:\r\n\r\nSo far, I am trying to follow tutorials on how to build SpringBoot apps with GitLab. However, it is dealing with regular SpringBoot non-native, non GraalVM apps, and it requires a Dockerfile. There is no Dockerfile in my project, since I am generating the Docker image directly using ```mvn -Pnative spring-boot:build-image```\r\n\r\nMay I ask what is the command to add to ```.gitlab-ci.yml``` in order to build a native SpringBoot app please?\r\n\r\nThank you","title":"GitLab .gitlab-ci.yml -&gt; run mvn -Pnative spring-boot:build-image to build SpringBoot native image","body":"<p>Small question regarding GitLap and SpringBoot 3 native images with GraalVM please.</p>\n<p>I am new to GitLab, got a fresh GitLab instance.</p>\n<p>I do not think the GitLab instance got GraalVM installed.</p>\n<p>With that said, here is the pom of my project:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.question&lt;/groupId&gt;\n    &lt;artifactId&gt;spring&lt;/artifactId&gt;\n    &lt;version&gt;1.1&lt;/version&gt;\n    &lt;name&gt;spring&lt;/name&gt;\n    &lt;description&gt;Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n                &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    \n&lt;/project&gt;\n\n</code></pre>\n<p>I am very sure if I run <code>mvn -Pnative spring-boot:build-image</code> on my local machine, I get a docker image of the SpringBoot app with native binary. I can run the native binary fine.</p>\n<p>I would like to just create the same, using GitLab.</p>\n<p>What did I try:</p>\n<p>So far, I am trying to follow tutorials on how to build SpringBoot apps with GitLab. However, it is dealing with regular SpringBoot non-native, non GraalVM apps, and it requires a Dockerfile. There is no Dockerfile in my project, since I am generating the Docker image directly using <code>mvn -Pnative spring-boot:build-image</code></p>\n<p>May I ask what is the command to add to <code>.gitlab-ci.yml</code> in order to build a native SpringBoot app please?</p>\n<p>Thank you</p>\n"},{"tags":["java","intellij-idea","refactoring","checkstyle"],"answers":[{"comments":[{"owner":{"account_id":2887623,"reputation":3310,"user_id":2477084,"display_name":"Tomas Bjerre"},"score":2,"creation_date":1537291025,"post_id":42346066,"comment_id":91728323,"body_markdown":"Or let Eclipse &quot;save actions&quot; add final everywhere possible.","body":"Or let Eclipse &quot;save actions&quot; add final everywhere possible."}],"tags":[],"owner":{"account_id":251728,"reputation":450,"user_id":529321,"display_name":"skomp"},"comment_count":1,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1487597923,"creation_date":1487597923,"answer_id":42346066,"question_id":42345926,"body_markdown":"Disclaimer: I don&#39;t want to start an IDE war and I don&#39;t use intelliJ, so there might be a way to do it there. But since you asked about a tool to do that and the manual effort could justify using a different IDE for it, here you go in eclipse.\r\n\r\nIn eclipse you can configure the &quot;clean up&quot; task to add final wherever possible. The clean up task can be run on single editor windows and also on the whole project from the &quot;source&quot; context menu.","title":"Massively refactor - how to add final keyword to Java method argument","body":"<p>Disclaimer: I don't want to start an IDE war and I don't use intelliJ, so there might be a way to do it there. But since you asked about a tool to do that and the manual effort could justify using a different IDE for it, here you go in eclipse.</p>\n\n<p>In eclipse you can configure the \"clean up\" task to add final wherever possible. The clean up task can be run on single editor windows and also on the whole project from the \"source\" context menu.</p>\n"},{"comments":[{"owner":{"account_id":431374,"reputation":3178,"user_id":815382,"accept_rate":80,"display_name":"cwoebker"},"score":0,"creation_date":1519325314,"post_id":42346149,"comment_id":84876720,"body_markdown":"Do you know, if there is a similar way to add the final attribute to class fields?","body":"Do you know, if there is a similar way to add the final attribute to class fields?"},{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":1,"creation_date":1519334954,"post_id":42346149,"comment_id":84881923,"body_markdown":"@cwoebker You could use the same approach with the &quot;Field may be final&quot; inspection.","body":"@cwoebker You could use the same approach with the &quot;Field may be final&quot; inspection."},{"owner":{"account_id":2085185,"reputation":779,"user_id":1856342,"accept_rate":71,"display_name":"krems"},"score":0,"creation_date":1547819934,"post_id":42346149,"comment_id":95334892,"body_markdown":"You can also tick CleanUp in commit dialog and inspections will be processed (if autofix available, which is the case here) \nThus you won&#39;t need to do this massive refactoring again in future","body":"You can also tick CleanUp in commit dialog and inspections will be processed (if autofix available, which is the case here)  Thus you won&#39;t need to do this massive refactoring again in future"},{"owner":{"account_id":2494278,"reputation":5150,"user_id":2171120,"display_name":"mirabilos"},"score":0,"creation_date":1613437934,"post_id":42346149,"comment_id":117069885,"body_markdown":"This is good but it doesn’t know that Lombok `val` is final. But thanks!","body":"This is good but it doesn’t know that Lombok <code>val</code> is final. But thanks!"},{"owner":{"account_id":3086068,"reputation":639,"user_id":2613170,"display_name":"m2sj"},"score":0,"creation_date":1652178024,"post_id":42346149,"comment_id":127537874,"body_markdown":"@Mureinik Your answer was so helpful to me. thank you.","body":"@Mureinik Your answer was so helpful to me. thank you."}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":5,"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1487598145,"creation_date":1487598145,"answer_id":42346149,"question_id":42345926,"body_markdown":"You can use IntelliJ&#39;s inspections mechanism for this:\r\n\r\n1. Navigate to Analyze-&gt;Run Inspection by Name\r\n2. Search for the &quot;Local variable or parameter can be final&quot; warning\r\n3. Make sure that &quot;Report method parameters&quot; is the only option checked.\r\n4. Select the root of the tree (it should read Local variable or parameter can be final&quot;\r\n5. Click &lt;kbd&gt;ALT&lt;/kbd&gt;+&lt;kbd&gt;ENTER&lt;/kbd&gt; and select &quot;make final&quot;. This should add the `final` modifier in all the missing places.\r\n\r\nOnce you&#39;ve done this, you may want to enable this inspection in your IDE so it warns you about making further mistakes:\r\n\r\n1. Navigate to File-&gt;Settings-&gt;Editor-&gt;Inspections\r\n2. Search for the &quot;Local variable or parameter can be final&quot; warning\r\n3. Make sure that &quot;Report method parameters&quot; is the only option checked.\r\n\r\n","title":"Massively refactor - how to add final keyword to Java method argument","body":"<p>You can use IntelliJ's inspections mechanism for this:</p>\n\n<ol>\n<li>Navigate to Analyze->Run Inspection by Name</li>\n<li>Search for the \"Local variable or parameter can be final\" warning</li>\n<li>Make sure that \"Report method parameters\" is the only option checked.</li>\n<li>Select the root of the tree (it should read Local variable or parameter can be final\"</li>\n<li>Click <kbd>ALT</kbd>+<kbd>ENTER</kbd> and select \"make final\". This should add the <code>final</code> modifier in all the missing places.</li>\n</ol>\n\n<p>Once you've done this, you may want to enable this inspection in your IDE so it warns you about making further mistakes:</p>\n\n<ol>\n<li>Navigate to File->Settings->Editor->Inspections</li>\n<li>Search for the \"Local variable or parameter can be final\" warning</li>\n<li>Make sure that \"Report method parameters\" is the only option checked.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":517348,"reputation":15463,"user_id":1238957,"accept_rate":70,"display_name":"Christian Vielma"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1524494526,"creation_date":1524494526,"answer_id":49983831,"question_id":42345926,"body_markdown":"In IntelliJ you can check the &quot;Make generated local variables final&quot; and &quot;Make generated parameters final&quot; options enabled.\r\n\r\nIn IntelliJ 2017.3 it&#39;s in Preferences -&gt; Editor -&gt; Code Style -&gt; Java -&gt; Code Generation tab.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RTbG4.png","title":"Massively refactor - how to add final keyword to Java method argument","body":"<p>In IntelliJ you can check the \"Make generated local variables final\" and \"Make generated parameters final\" options enabled.</p>\n\n<p>In IntelliJ 2017.3 it's in Preferences -> Editor -> Code Style -> Java -> Code Generation tab.</p>\n\n<p><a href=\"https://i.stack.imgur.com/RTbG4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RTbG4.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":7098080,"reputation":930,"user_id":5430811,"accept_rate":83,"display_name":"Semaphor"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689273596,"creation_date":1689273596,"answer_id":76682373,"question_id":42345926,"body_markdown":"This question was asked a couple of years ago, but there is also another approach with OpenRewrite. This is the recipe for it: [Finalize method arguments][1]\r\n\r\n\r\n  [1]: https://docs.openrewrite.org/recipes/staticanalysis/finalizemethodarguments","title":"Massively refactor - how to add final keyword to Java method argument","body":"<p>This question was asked a couple of years ago, but there is also another approach with OpenRewrite. This is the recipe for it: <a href=\"https://docs.openrewrite.org/recipes/staticanalysis/finalizemethodarguments\" rel=\"nofollow noreferrer\">Finalize method arguments</a></p>\n"}],"owner":{"account_id":6863705,"reputation":1063,"user_id":5276885,"display_name":"John Zhang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13454,"favorite_count":0,"down_vote_count":1,"up_vote_count":34,"accepted_answer_id":42346149,"answer_count":4,"score":33,"last_activity_date":1689273596,"creation_date":1487597579,"question_id":42345926,"body_markdown":"This might be a simple question: How can I massively refactor my Java code to make most of the method argument as &quot;final&quot;? This is to follow one of our &quot;checkstyle&quot; rule. We have thousands of Java files, so manually edit all of them seems not an acceptable solution to us.\r\n\r\nI didn&#39;t find any such refactor option in IntelliJ. Anybody knows any tool that can help? Or any smart approach to achieve that?","title":"Massively refactor - how to add final keyword to Java method argument","body":"<p>This might be a simple question: How can I massively refactor my Java code to make most of the method argument as \"final\"? This is to follow one of our \"checkstyle\" rule. We have thousands of Java files, so manually edit all of them seems not an acceptable solution to us.</p>\n\n<p>I didn't find any such refactor option in IntelliJ. Anybody knows any tool that can help? Or any smart approach to achieve that?</p>\n"},{"tags":["java","linux","tomcat","raspberry-pi","debian"],"answers":[{"comments":[{"owner":{"account_id":285492,"reputation":77387,"user_id":584192,"accept_rate":100,"display_name":"Samuel Liew"},"score":0,"creation_date":1589418394,"post_id":61783615,"comment_id":109289763,"body_markdown":"Comments are not for extended discussion; this conversation has been [moved to chat](https://chat.stackoverflow.com/rooms/213819/discussion-on-answer-by-sc0der-how-to-grant-tomcat-9-access-on-other-files).","body":"Comments are not for extended discussion; this conversation has been <a href=\"https://chat.stackoverflow.com/rooms/213819/discussion-on-answer-by-sc0der-how-to-grant-tomcat-9-access-on-other-files\">moved to chat</a>."}],"tags":[],"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1689273449,"creation_date":1589399433,"answer_id":61783615,"question_id":61783481,"body_markdown":"Add the tomcat to a group and grant this group the required access to that files, i.g. you can create a group called `webserver`. Then restart tomcat and try again.\r\n\r\n## Steps\r\n\r\n1. Create a new group\r\n    ```sh\r\n    sudo groupadd webserver\r\n    ```\r\n1. Add tomcat9 user to group webserver\r\n    ```sh\r\n    sudo usermod -a -G webserver tomcat9\r\n    ```\r\n1. Change group ownership\r\n    ```sh\r\n    sudo chgrp webserver configuration.yaml\r\n    ```\r\n1. Add read and write permission to file\r\n    ```sh\r\n    sudo chmod g=rw configuration.yaml\r\n    ```\r\n1. Restart tomcat\r\n    ```sh\r\n    sudo systemctl restart tomcat9\r\n    ```\r\n\r\nUpdate the group ownership of the directories (that contains the files) by adding the permissions to it\r\n\r\n```sh\r\nsudo chgrp webserver /opt/zigbee2mqtt/data/\r\nsudo chgrp webserver /opt/zigbee2mqtt/ \r\n```\r\n\r\n```sh\r\nsudo chmod g=rwx /opt/zigbee2mqtt/data/\r\nsudo chmod g=rwx /opt/zigbee2mqtt/\r\n```","title":"How to grant Tomcat 9 access on other files","body":"<p>Add the tomcat to a group and grant this group the required access to that files, i.g. you can create a group called <code>webserver</code>. Then restart tomcat and try again.</p>\n<h2>Steps</h2>\n<ol>\n<li>Create a new group\n<pre class=\"lang-bash prettyprint-override\"><code>sudo groupadd webserver\n</code></pre>\n</li>\n<li>Add tomcat9 user to group webserver\n<pre class=\"lang-bash prettyprint-override\"><code>sudo usermod -a -G webserver tomcat9\n</code></pre>\n</li>\n<li>Change group ownership\n<pre class=\"lang-bash prettyprint-override\"><code>sudo chgrp webserver configuration.yaml\n</code></pre>\n</li>\n<li>Add read and write permission to file\n<pre class=\"lang-bash prettyprint-override\"><code>sudo chmod g=rw configuration.yaml\n</code></pre>\n</li>\n<li>Restart tomcat\n<pre class=\"lang-bash prettyprint-override\"><code>sudo systemctl restart tomcat9\n</code></pre>\n</li>\n</ol>\n<p>Update the group ownership of the directories (that contains the files) by adding the permissions to it</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sudo chgrp webserver /opt/zigbee2mqtt/data/\nsudo chgrp webserver /opt/zigbee2mqtt/ \n</code></pre>\n<pre class=\"lang-bash prettyprint-override\"><code>sudo chmod g=rwx /opt/zigbee2mqtt/data/\nsudo chmod g=rwx /opt/zigbee2mqtt/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589400056,"creation_date":1589399729,"answer_id":61783680,"question_id":61783481,"body_markdown":"The permissions of the yaml file are &quot;-rw-rw-r--&quot; which reads left to right \r\n\r\n- the owner of the file can read and write (not execute)\r\n- the group of the owner of the file can read and write (not execute) \r\n- everyone else can read the file\r\n\r\nSo, it depends on which user is running the tomcat process if you can write to the file. But everyone should be able to read the file. If you can&#39;t read the file then you probably opening the file in read/write mode instead of read mode \r\n\r\nYou could `chmod 666` the file to change the permissions to &quot;-rw-rw-rw-&quot;\r\n\r\n","title":"How to grant Tomcat 9 access on other files","body":"<p>The permissions of the yaml file are \"-rw-rw-r--\" which reads left to right </p>\n\n<ul>\n<li>the owner of the file can read and write (not execute)</li>\n<li>the group of the owner of the file can read and write (not execute) </li>\n<li>everyone else can read the file</li>\n</ul>\n\n<p>So, it depends on which user is running the tomcat process if you can write to the file. But everyone should be able to read the file. If you can't read the file then you probably opening the file in read/write mode instead of read mode </p>\n\n<p>You could <code>chmod 666</code> the file to change the permissions to \"-rw-rw-rw-\"</p>\n"}],"owner":{"account_id":15419304,"reputation":1018,"user_id":11123801,"display_name":"ru4ert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4263,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":61783615,"answer_count":2,"score":5,"last_activity_date":1689273449,"creation_date":1589398888,"question_id":61783481,"body_markdown":"Tomcat 9 is sandboxed.\r\n\r\n**I want to read data of a log file.**\r\n\r\n**The file is in &quot;/opt/zigbee2mqtt/data/*.*&quot;**\r\n\r\nI read this thread already and tried it. \r\nhttps://stackoverflow.com/questions/56827735/how-to-allow-tomcat-war-app-to-write-in-folder\r\n\r\nI edited the file, and did ```systemctl daemon-reload``` as well as ```systemctl restart tomcat9```.\r\n\r\nThen I wrote my java class with should read the data out of the log file. But I get an exception. \r\n\r\n```\r\njava.io.FileNotFoundException: /opt/zigbee2mqtt/data/configuration.yaml (Permission denied)\r\n        at java.base/java.io.FileOutputStream.open0(Native Method)\r\n        at java.base/java.io.FileOutputStream.open(FileOutputStream.java:298)\r\n        at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:237)\r\n        at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:187)\r\n        at com.fasterxml.jackson.dataformat.yaml.YAMLFactory.createGenerator(YAMLFactory.java:437)\r\n        at com.fasterxml.jackson.databind.ObjectMapper.createGenerator(ObjectMapper.java:1156)\r\n        at com.fasterxml.jackson.databind.ObjectMapper.writeValue(ObjectMapper.java:3570)\r\n        at zigbee.main.doupdateconfiguration(main.java:81)\r\n        at Servlet.configuration.doPost(configuration.java:72)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        at org.apache.catalina.filters.ExpiresFilter.doFilter(ExpiresFilter.java:1226)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:668)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n```\r\nI think if I change something with chmod or chown, but maybe the Zigbee service won&#39;t work? I am not the Linux expert. I don&#39;t want to do anything wrong or insecure.\r\n\r\n```\r\nroot@raspberrypi:/opt/zigbee2mqtt/data# ls -halt\r\ntotal 24K\r\ndrwxr-xr-x  6 pi pi 4.0K May 12 09:17 log\r\ndrwxr-xr-x  3 pi pi 4.0K May 10 18:31 .\r\n-rw-r--r--  1 pi pi 4.0K May 10 18:31 database.db\r\n-rw-rw-r--  1 pi pi  360 May 10 18:31 state.json\r\n-rw-rw-r--  1 pi pi  330 May 10 17:23 configuration.yaml\r\ndrwxr--r-- 12 pi pi 4.0K May 10 11:16 ..\r\n\r\n```\r\n\r\nWhat would be the best solution that Tomcat 9 can read the file and Zigbee can update it either?\r\n\r\n\r\n\r\n**Update:**\r\n```\r\nroot@raspberrypi:/opt/zigbee2mqtt/data# ll\r\ntotal 24K\r\n-rw-rw-r--  1 pi webservice  360 May 13 22:03 state.json\r\ndrwxrw-r-x  6 pi webservice 4.0K May 12 09:17 log\r\ndrwxr-xr-x  3 pi pi         4.0K May 10 18:31 .\r\n-rw-rw-r--  1 pi webservice 4.0K May 10 18:31 database.db\r\n-rw-rw-r--  1 pi webservice  330 May 10 17:23 configuration.yaml\r\ndrwxr--r-- 12 pi pi         4.0K May 10 11:16 ..\r\nroot@raspberrypi:/opt/zigbee2mqtt/data# id tomcat\r\nuid=1001(tomcat) gid=1001(tomcat) groups=1001(tomcat),1002(webservice)\r\n```\r\nExtraxt of: ```/etc/systemd/system/tomcat9.service.d/override.conf```\r\n```\r\n[Service]\r\nReadWritePaths=/usr/local/jakarta-tomcat/webapps/smartzig/_x_logs/\r\nReadWritePaths=/opt/zigbee2mqtt/data/\r\nReadWritePaths=/opt/zigbee2mqtt/\r\nReadWritePaths=/opt/\r\n```","title":"How to grant Tomcat 9 access on other files","body":"<p>Tomcat 9 is sandboxed.</p>\n\n<p><strong>I want to read data of a log file.</strong></p>\n\n<p><strong>The file is in \"/opt/zigbee2mqtt/data/<em>.</em>\"</strong></p>\n\n<p>I read this thread already and tried it. \n<a href=\"https://stackoverflow.com/questions/56827735/how-to-allow-tomcat-war-app-to-write-in-folder\">How to allow Tomcat war app to write in folder</a></p>\n\n<p>I edited the file, and did <code>systemctl daemon-reload</code> as well as <code>systemctl restart tomcat9</code>.</p>\n\n<p>Then I wrote my java class with should read the data out of the log file. But I get an exception. </p>\n\n<pre><code>java.io.FileNotFoundException: /opt/zigbee2mqtt/data/configuration.yaml (Permission denied)\n        at java.base/java.io.FileOutputStream.open0(Native Method)\n        at java.base/java.io.FileOutputStream.open(FileOutputStream.java:298)\n        at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:237)\n        at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:187)\n        at com.fasterxml.jackson.dataformat.yaml.YAMLFactory.createGenerator(YAMLFactory.java:437)\n        at com.fasterxml.jackson.databind.ObjectMapper.createGenerator(ObjectMapper.java:1156)\n        at com.fasterxml.jackson.databind.ObjectMapper.writeValue(ObjectMapper.java:3570)\n        at zigbee.main.doupdateconfiguration(main.java:81)\n        at Servlet.configuration.doPost(configuration.java:72)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.catalina.filters.ExpiresFilter.doFilter(ExpiresFilter.java:1226)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:668)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n\n</code></pre>\n\n<p>I think if I change something with chmod or chown, but maybe the Zigbee service won't work? I am not the Linux expert. I don't want to do anything wrong or insecure.</p>\n\n<pre><code>root@raspberrypi:/opt/zigbee2mqtt/data# ls -halt\ntotal 24K\ndrwxr-xr-x  6 pi pi 4.0K May 12 09:17 log\ndrwxr-xr-x  3 pi pi 4.0K May 10 18:31 .\n-rw-r--r--  1 pi pi 4.0K May 10 18:31 database.db\n-rw-rw-r--  1 pi pi  360 May 10 18:31 state.json\n-rw-rw-r--  1 pi pi  330 May 10 17:23 configuration.yaml\ndrwxr--r-- 12 pi pi 4.0K May 10 11:16 ..\n\n</code></pre>\n\n<p>What would be the best solution that Tomcat 9 can read the file and Zigbee can update it either?</p>\n\n<p><strong>Update:</strong></p>\n\n<pre><code>root@raspberrypi:/opt/zigbee2mqtt/data# ll\ntotal 24K\n-rw-rw-r--  1 pi webservice  360 May 13 22:03 state.json\ndrwxrw-r-x  6 pi webservice 4.0K May 12 09:17 log\ndrwxr-xr-x  3 pi pi         4.0K May 10 18:31 .\n-rw-rw-r--  1 pi webservice 4.0K May 10 18:31 database.db\n-rw-rw-r--  1 pi webservice  330 May 10 17:23 configuration.yaml\ndrwxr--r-- 12 pi pi         4.0K May 10 11:16 ..\nroot@raspberrypi:/opt/zigbee2mqtt/data# id tomcat\nuid=1001(tomcat) gid=1001(tomcat) groups=1001(tomcat),1002(webservice)\n</code></pre>\n\n<p>Extraxt of: <code>/etc/systemd/system/tomcat9.service.d/override.conf</code></p>\n\n<pre><code>[Service]\nReadWritePaths=/usr/local/jakarta-tomcat/webapps/smartzig/_x_logs/\nReadWritePaths=/opt/zigbee2mqtt/data/\nReadWritePaths=/opt/zigbee2mqtt/\nReadWritePaths=/opt/\n</code></pre>\n"},{"tags":["java","spring-annotations"],"answers":[{"tags":[],"owner":{"account_id":19347892,"reputation":155,"user_id":14145992,"display_name":"Nicholas Leach"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1608345926,"creation_date":1608335082,"answer_id":65365307,"question_id":65365181,"body_markdown":"Spring can not inject those values into a POJO, because by definition POJO&#39;s are not managed by Spring&#39;s IoC Container.\r\n\r\nIf you look at the Spring documentation for the @Value annotation (linked at bottom), it specifies &quot;Note that actual processing of the @Value annotation is performed by a BeanPostProcessor&quot;, this is pretty explicit in it&#39;s own right that the class has to be a Spring bean, but if context isn&#39;t enough, looking at the BeanPostProcessor documentation (also linked at bottom): &quot;Factory hook that allows for custom modification of new bean instances — for example, checking for marker interfaces or wrapping beans with proxies&quot;\r\n\r\nSo no, if the class is not managed by Spring&#39;s IoC container (i.e., if the class is not a Spring bean), the value annotation will not be caught by the BeanPostProcessor, and will therefore not be useful.\r\n\r\n\r\nValue annotation doc: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Value.html\r\n\r\nBeanPostProcessor doc: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/BeanPostProcessor.html\r\n\r\n\r\nYou can always go the route of using jdk-native classes to read values from properties files if that&#39;s absolutely necessary (quick example: https://www.javatpoint.com/properties-class-in-java)\r\n\r\nFor the record, the specification of what a POJO is, means that the class cannot contain pre-specified annotations. So even in another world where @Value could work on a non-spring bean, it would still, by definition, break the POJO aspect of the class.","title":"Spring possibility to @Value on a Pojo / object","body":"<p>Spring can not inject those values into a POJO, because by definition POJO's are not managed by Spring's IoC Container.</p>\n<p>If you look at the Spring documentation for the @Value annotation (linked at bottom), it specifies &quot;Note that actual processing of the @Value annotation is performed by a BeanPostProcessor&quot;, this is pretty explicit in it's own right that the class has to be a Spring bean, but if context isn't enough, looking at the BeanPostProcessor documentation (also linked at bottom): &quot;Factory hook that allows for custom modification of new bean instances — for example, checking for marker interfaces or wrapping beans with proxies&quot;</p>\n<p>So no, if the class is not managed by Spring's IoC container (i.e., if the class is not a Spring bean), the value annotation will not be caught by the BeanPostProcessor, and will therefore not be useful.</p>\n<p>Value annotation doc: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Value.html\" rel=\"noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Value.html</a></p>\n<p>BeanPostProcessor doc: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/BeanPostProcessor.html\" rel=\"noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/BeanPostProcessor.html</a></p>\n<p>You can always go the route of using jdk-native classes to read values from properties files if that's absolutely necessary (quick example: <a href=\"https://www.javatpoint.com/properties-class-in-java\" rel=\"noreferrer\">https://www.javatpoint.com/properties-class-in-java</a>)</p>\n<p>For the record, the specification of what a POJO is, means that the class cannot contain pre-specified annotations. So even in another world where @Value could work on a non-spring bean, it would still, by definition, break the POJO aspect of the class.</p>\n"},{"tags":[],"owner":{"account_id":949072,"reputation":546,"user_id":975638,"accept_rate":100,"display_name":"kyxap"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688184959,"creation_date":1688184959,"answer_id":76593252,"question_id":65365181,"body_markdown":"Pretty old question but there no alternatives on how to get POJO from your spring-boot config.\r\nYou can try to use `@Autowired` for that, here is some example:\r\n\r\nconfig.json\r\n\r\n```json\r\n{\r\n  &quot;homePage&quot;: &quot;from config3&quot;,\r\n  &quot;login&quot;: &quot;login2&quot;,\r\n  &quot;pass&quot;: &quot;pass2&quot;\r\n}\r\n```\r\n\r\nExpected POJO:\r\n```java\r\n@Component\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@PropertySource(value = &quot;config.json&quot;)\r\n@ConfigurationProperties\r\npublic class TestConfig {\r\n    @Getter\r\n    @Setter\r\n    private String homePage;\r\n\r\n    @Getter\r\n    @Setter\r\n    private String login;\r\n\r\n    @Getter\r\n    @Setter\r\n    private String pass;\r\n}\r\n```\r\n\r\nConfig class with injection:\r\n```java\r\n@Configuration\r\npublic class MyConfig {\r\n\r\n    @Autowired\r\n    private TestConfig testConfig;\r\n```\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd POJO in the debug^\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9ggRj.png","title":"Spring possibility to @Value on a Pojo / object","body":"<p>Pretty old question but there no alternatives on how to get POJO from your spring-boot config.\nYou can try to use <code>@Autowired</code> for that, here is some example:</p>\n<p>config.json</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;homePage&quot;: &quot;from config3&quot;,\n  &quot;login&quot;: &quot;login2&quot;,\n  &quot;pass&quot;: &quot;pass2&quot;\n}\n</code></pre>\n<p>Expected POJO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@AllArgsConstructor\n@NoArgsConstructor\n@PropertySource(value = &quot;config.json&quot;)\n@ConfigurationProperties\npublic class TestConfig {\n    @Getter\n    @Setter\n    private String homePage;\n\n    @Getter\n    @Setter\n    private String login;\n\n    @Getter\n    @Setter\n    private String pass;\n}\n</code></pre>\n<p>Config class with injection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MyConfig {\n\n    @Autowired\n    private TestConfig testConfig;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/9ggRj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9ggRj.png\" alt=\"enter image description here\" /></a></p>\n<p>And POJO in the debug^</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4585,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":65365307,"answer_count":2,"score":4,"last_activity_date":1689272996,"creation_date":1608333993,"question_id":65365181,"body_markdown":"Small question regarding the spring annotation @Value please.\r\n\r\nThis annotation is powerful, well known and offers the possibility out of the box to bind types such as boolean, String, and even more complex data structures such as List&lt;Integer&gt;, Map&lt;String, Integer&gt; via configuration.\r\n\r\n```\r\n    @Value(&quot;${my.string}&quot;)\r\n    private String               myString;\r\n\r\n    @Value(&quot;${my.flag}&quot;)\r\n    private Boolean               someFlag;\r\n\r\n @Value(&quot;#{&#39;${my.list.of.strings}&#39;.split(&#39;,&#39;)}&quot;)\r\n    private List&lt;String&gt;         myListOfStrings;\r\n\r\n    @Value(&quot;#{${my.hashmap}}&quot;)\r\nprivate Map&lt;String, Integer&gt; myHashMap;\r\n\r\n```\r\n\r\n```\r\napplication.properties\r\nmy.string=something\r\nmy.flag=true\r\nmy.list.of.strings=hello,world\r\nmy.hashmap={&#39;hello&#39;:&#39;world&#39;,&#39;aaa&#39;:&#39;bbb&#39;,&#39;ccc&#39;:&#39;ddd&#39;}\r\n```\r\n\r\n**Question: Is it possible to use @Value on some POJO I defined please?**\r\nsomething like:\r\n\r\n```\r\n  @Value(&quot;${my.pojo}&quot;)\r\n    private MyPojo myPojo;\r\n\r\npublic class MyPojo {\r\n    \r\n    private String firstName;\r\n    private String lastName;\r\n    private int age;\r\n    private boolean isMarried;\r\n    \r\n}\r\n\r\napplication.properties\r\nmy.pojo={ &quot;firstname&quot;: &quot;john&quot;, &quot;lastname&quot;: &quot;doe&quot;, &quot;isMarried&quot;: false, &quot;age&quot;: 20 }\r\n```\r\n\r\nAnd have the @Value (or maybe something else) pick it up.\r\nI tried above and did not get the myPojo. What would be a solution to have this configurable under @Value please?\r\n\r\nThank you","title":"Spring possibility to @Value on a Pojo / object","body":"<p>Small question regarding the spring annotation @Value please.</p>\n<p>This annotation is powerful, well known and offers the possibility out of the box to bind types such as boolean, String, and even more complex data structures such as List, Map&lt;String, Integer&gt; via configuration.</p>\n<pre><code>    @Value(&quot;${my.string}&quot;)\n    private String               myString;\n\n    @Value(&quot;${my.flag}&quot;)\n    private Boolean               someFlag;\n\n @Value(&quot;#{'${my.list.of.strings}'.split(',')}&quot;)\n    private List&lt;String&gt;         myListOfStrings;\n\n    @Value(&quot;#{${my.hashmap}}&quot;)\nprivate Map&lt;String, Integer&gt; myHashMap;\n\n</code></pre>\n<pre><code>application.properties\nmy.string=something\nmy.flag=true\nmy.list.of.strings=hello,world\nmy.hashmap={'hello':'world','aaa':'bbb','ccc':'ddd'}\n</code></pre>\n<p><strong>Question: Is it possible to use @Value on some POJO I defined please?</strong>\nsomething like:</p>\n<pre><code>  @Value(&quot;${my.pojo}&quot;)\n    private MyPojo myPojo;\n\npublic class MyPojo {\n    \n    private String firstName;\n    private String lastName;\n    private int age;\n    private boolean isMarried;\n    \n}\n\napplication.properties\nmy.pojo={ &quot;firstname&quot;: &quot;john&quot;, &quot;lastname&quot;: &quot;doe&quot;, &quot;isMarried&quot;: false, &quot;age&quot;: 20 }\n</code></pre>\n<p>And have the @Value (or maybe something else) pick it up.\nI tried above and did not get the myPojo. What would be a solution to have this configurable under @Value please?</p>\n<p>Thank you</p>\n"},{"tags":["java","spring-boot","posix","r.java-file"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1689057741,"post_id":76659204,"comment_id":135155281,"body_markdown":"looks like that&#39;s not happening. It seems to me your os is telling you you can&#39;t do it (not that way, anyway)","body":"looks like that&#39;s not happening. It seems to me your os is telling you you can&#39;t do it (not that way, anyway)"},{"owner":{"account_id":28927438,"reputation":11,"user_id":22156985,"display_name":"PuneethC99"},"score":0,"creation_date":1689271525,"post_id":76659204,"comment_id":135193613,"body_markdown":"Is there any other way i could achieve this? @Stultuske","body":"Is there any other way i could achieve this? @Stultuske"}],"owner":{"account_id":28927438,"reputation":11,"user_id":22156985,"display_name":"PuneethC99"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689272812,"creation_date":1689056796,"question_id":76659204,"body_markdown":"I have a java function in my springboot application where I am trying to set 777 POSIX permissions to all the folders and sub folders in my NAS path.\r\n\r\n   \r\n```\r\n    @Async\r\n\t@EventListener(ApplicationReadyEvent.class)\r\n\tpublic void setNasPathPermissions(){\r\n\t\ttry {\r\n\t\t\tLOGGER.info(&quot;Inside setNasPathPermissions()&quot;);\r\n\t\t\tString rootDir = getRootNasDir(nasPath);\r\n\t\t\tLOGGER.info(&quot;rootDir: {}&quot;, rootDir);\r\n\t\t\tFile mainDir = new File(rootDir);\r\n\t\t\tsetPosixPermissions(mainDir);\r\n\t\t\tFile[] files = mainDir.listFiles();\r\n\t\t\tshowAndSetPerms(files);\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.error(&quot;Somethign went wrong in setNasPathPermssions()&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n  \r\n    public void showAndSetPerms(File[] files){\r\n\t\ttry {\r\n\t\t\tfor (File file : files) {\r\n\t\t\t\tif (file.isDirectory()) {\r\n\t\t\t\t\tLOGGER.info(&quot;Directory: {}&quot;, file.getAbsolutePath());\r\n\t\t\t\t\t\tsetPosixPermissions(file);\r\n\t\t\t\t\tshowAndSetPerms(file.listFiles()); // Calls same method again.\r\n\t\t\t\t} else {\r\n\t\t\t\t\tLOGGER.info(&quot;File: {}&quot; + file.getAbsolutePath());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.info(&quot;Something went wrong in showAndSetPerms()&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic String getRootNasDir(String nasPath){\r\n\t\tint idx = nasPath.indexOf(&quot;templates/&quot;);\r\n\t\treturn nasPath.substring(0, idx);\r\n\t}\r\n```\r\n\r\nThis throws the following error - \r\n\r\n```\r\n&quot;logLevel&quot;:&quot;ERROR&quot;,&quot;msg&quot;:&quot;Somethign went wrong in setNasPathPermssions()&quot;\r\n\r\njava.nio.file.FileSystemException: path/to/the/folder: Operation not permitted\r\n```\r\nHow do I fix this?\r\n\r\npermissions set to POSIX 777 is expected.","title":"Why do I get Operation Not Permitted for Files.setPosixFilePermissions?","body":"<p>I have a java function in my springboot application where I am trying to set 777 POSIX permissions to all the folders and sub folders in my NAS path.</p>\n<pre><code>    @Async\n    @EventListener(ApplicationReadyEvent.class)\n    public void setNasPathPermissions(){\n        try {\n            LOGGER.info(&quot;Inside setNasPathPermissions()&quot;);\n            String rootDir = getRootNasDir(nasPath);\n            LOGGER.info(&quot;rootDir: {}&quot;, rootDir);\n            File mainDir = new File(rootDir);\n            setPosixPermissions(mainDir);\n            File[] files = mainDir.listFiles();\n            showAndSetPerms(files);\n        } catch (Exception e) {\n            LOGGER.error(&quot;Somethign went wrong in setNasPathPermssions()&quot;);\n            e.printStackTrace();\n        }\n    }\n  \n    public void showAndSetPerms(File[] files){\n        try {\n            for (File file : files) {\n                if (file.isDirectory()) {\n                    LOGGER.info(&quot;Directory: {}&quot;, file.getAbsolutePath());\n                        setPosixPermissions(file);\n                    showAndSetPerms(file.listFiles()); // Calls same method again.\n                } else {\n                    LOGGER.info(&quot;File: {}&quot; + file.getAbsolutePath());\n                }\n            }\n        } catch (Exception e) {\n            LOGGER.info(&quot;Something went wrong in showAndSetPerms()&quot;);\n            e.printStackTrace();\n        }\n    }\n\n    public String getRootNasDir(String nasPath){\n        int idx = nasPath.indexOf(&quot;templates/&quot;);\n        return nasPath.substring(0, idx);\n    }\n</code></pre>\n<p>This throws the following error -</p>\n<pre><code>&quot;logLevel&quot;:&quot;ERROR&quot;,&quot;msg&quot;:&quot;Somethign went wrong in setNasPathPermssions()&quot;\n\njava.nio.file.FileSystemException: path/to/the/folder: Operation not permitted\n</code></pre>\n<p>How do I fix this?</p>\n<p>permissions set to POSIX 777 is expected.</p>\n"},{"tags":["java","ssl","junit","wiremock"],"answers":[{"comments":[{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1689223773,"post_id":76674993,"comment_id":135183520,"body_markdown":"Thanks a lot. I will try that tomorrow. Just checking, wouldn&#39;t be a lot more easier to change CN in the default self-signed certificate generated by Wiremock? How I can change the CN value from `Tom Akehurst` to `localhost`?","body":"Thanks a lot. I will try that tomorrow. Just checking, wouldn&#39;t be a lot more easier to change CN in the default self-signed certificate generated by Wiremock? How I can change the CN value from <code>Tom Akehurst</code> to <code>localhost</code>?"},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1689230976,"post_id":76674993,"comment_id":135184506,"body_markdown":"I don&#39;t think you need the java InstallCert script. I have updated my initial answer with the other configuration for wiremock and httpsurlconnection. I think that should do the trick. Can you retry with the new code snippets?","body":"I don&#39;t think you need the java InstallCert script. I have updated my initial answer with the other configuration for wiremock and httpsurlconnection. I think that should do the trick. Can you retry with the new code snippets?"},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1689273483,"post_id":76674993,"comment_id":135194034,"body_markdown":"I found the answer which is very simple and serves the purpose. Thank you for your help. I might use your approach when I get stuck in the future.","body":"I found the answer which is very simple and serves the purpose. Thank you for your help. I might use your approach when I get stuck in the future."}],"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689230869,"creation_date":1689204053,"answer_id":76674993,"question_id":76674968,"body_markdown":"I think your issue is related to the content of the certificate (Subject Alternative Name field), similar as the following answer which I also provided here: [Certificate for &lt;localhost&gt; doesn&#39;t match any of the subject alternative names][1]\r\n\r\nCan you retry with a newly created certificate with the additional extension containing the SAN field value of localhost? So something similar to:\r\n\r\n```\r\nkeytool -genkeypair -keyalg RSA -keysize 2048 -alias stackoverflow \\\r\n-dname &quot;CN=stackoverflow,OU=Hakan,O=Hakan,C=NL&quot; \\\r\n-ext &quot;SAN:c=DNS:localhost,IP:127.0.0.1&quot; -validity 3650 \\\r\n-storepass mypassword -keypass mypassword \\\r\n-keystore identity.jks -deststoretype pkcs12\r\n```\r\n\r\nAnd use that new keystore in your wiremock configuration like the snippet below:\r\n```java\r\n@Rule\r\npublic WireMockRule wireMockRule = new WireMockRule(wireMockConfig()\r\n    .httpsPort(8443)\r\n    .keystorePath(&quot;/path/to/identity.jks&quot;) // Either a path to a file or a resource on the classpath\r\n    .keystorePassword(&quot;mypassword&quot;) // The password used to access the keystore. Defaults to &quot;password&quot; if omitted\r\n    .keyManagerPassword(&quot;mypassword&quot;)); // The password used to access individual keys in the keystore. Defaults to &quot;password&quot; if omitted\r\n```\r\n\r\nExport the server certificate from wiremock and add it to your https url connection:\r\n```java\r\nKeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\ntrustStore.load(null, &quot;secret&quot;.toCharArray());\r\n\r\nCertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\ntry (InputStream inputStream = Files.newInputStream(Paths.get(&quot;/path/to/trusted-server-certificate.crt&quot;));) {\r\n    Certificate certificate = certificateFactory.generateCertificate(inputStream);\r\n    trustStore.setCertificateEntry(&quot;wiremock-server-certificate&quot;, certificate);\r\n}\r\n\r\nTrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\ntrustManagerFactory.init(trustStore);\r\nSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\nsslContext.init(null, trustManagerFactory.getTrustManagers(), null);\r\n\r\nHttpsURLConnection connection = (HttpsURLConnection) new URL(&quot;https://localhost:8443&quot;).openConnection();\r\nconnection.setSSLSocketFactory(sslContext.getSocketFactory());\r\n```\r\n\r\nCan you give this a try and share your results?\r\n\r\n  [1]: https://stackoverflow.com/a/53822999/6777695","title":"Error javax.net.ssl.SSLHandshakeException: No name matching localhost found when using WireMock Self Signed SSL","body":"<p>I think your issue is related to the content of the certificate (Subject Alternative Name field), similar as the following answer which I also provided here: <a href=\"https://stackoverflow.com/a/53822999/6777695\">Certificate for  doesn't match any of the subject alternative names</a></p>\n<p>Can you retry with a newly created certificate with the additional extension containing the SAN field value of localhost? So something similar to:</p>\n<pre><code>keytool -genkeypair -keyalg RSA -keysize 2048 -alias stackoverflow \\\n-dname &quot;CN=stackoverflow,OU=Hakan,O=Hakan,C=NL&quot; \\\n-ext &quot;SAN:c=DNS:localhost,IP:127.0.0.1&quot; -validity 3650 \\\n-storepass mypassword -keypass mypassword \\\n-keystore identity.jks -deststoretype pkcs12\n</code></pre>\n<p>And use that new keystore in your wiremock configuration like the snippet below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Rule\npublic WireMockRule wireMockRule = new WireMockRule(wireMockConfig()\n    .httpsPort(8443)\n    .keystorePath(&quot;/path/to/identity.jks&quot;) // Either a path to a file or a resource on the classpath\n    .keystorePassword(&quot;mypassword&quot;) // The password used to access the keystore. Defaults to &quot;password&quot; if omitted\n    .keyManagerPassword(&quot;mypassword&quot;)); // The password used to access individual keys in the keystore. Defaults to &quot;password&quot; if omitted\n</code></pre>\n<p>Export the server certificate from wiremock and add it to your https url connection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\ntrustStore.load(null, &quot;secret&quot;.toCharArray());\n\nCertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\ntry (InputStream inputStream = Files.newInputStream(Paths.get(&quot;/path/to/trusted-server-certificate.crt&quot;));) {\n    Certificate certificate = certificateFactory.generateCertificate(inputStream);\n    trustStore.setCertificateEntry(&quot;wiremock-server-certificate&quot;, certificate);\n}\n\nTrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\ntrustManagerFactory.init(trustStore);\nSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\nsslContext.init(null, trustManagerFactory.getTrustManagers(), null);\n\nHttpsURLConnection connection = (HttpsURLConnection) new URL(&quot;https://localhost:8443&quot;).openConnection();\nconnection.setSSLSocketFactory(sslContext.getSocketFactory());\n</code></pre>\n<p>Can you give this a try and share your results?</p>\n"},{"tags":[],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689272786,"creation_date":1689272383,"answer_id":76682237,"question_id":76674968,"body_markdown":"I found the answer here:\r\n\r\nhttps://stackoverflow.com/questions/3093112/certificateexception-no-name-matching-ssl-someurl-de-found\r\n\r\nand here:\r\n\r\nhttps://mkyong.com/webservices/jax-ws/java-security-cert-certificateexception-no-name-matching-localhost-found/\r\n\r\nI just added the code block below to the test class:\r\n\r\n```\r\n\tstatic {\r\n\t\t//for localhost testing only\r\n\t\tjavax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(newJavaKeyword javax.net.ssl.HostnameVerifier() {\r\n\t\t\tpublic boolean verify(String hostname, javax.net.ssl.SSLSession sslSession) {\r\n\t\t\t\tif (hostname.equals(&quot;localhost&quot;)) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n```\r\n\r\nNote: replace the keyword above `newJavaKeyword` with `new` as it won&#39;t let me post it using `new` for some reason.\r\n\r\nAnd it worked right away. This is just fine as during testing, all I want is to make sure my SSL code is working fine.\r\n\r\nTo summarize, I executed the unit test, and put a breakpoint after the WireMock server was started using the following code:\r\n\r\n```\r\n\tprivate final static int WIREMOCK_PORT = 8089;\r\n\tprivate final static int WIREMOCK_PORT_SSL = 8443;\r\n\tprivate final static String BASE_URL = &quot;http://localhost:&quot; + WIREMOCK_PORT + &quot;/&quot;;\r\n\tprivate final static String BASE_URL_SSL = &quot;https://localhost:&quot; + WIREMOCK_PORT_SSL + &quot;/&quot;;\r\n\r\n\t@BeforeClass\r\n\tpublic static void setup() {\r\n\t\tSystem.out.println(&quot;This is the Setup Method&quot;);\r\n\t\twireMockServer = new WireMockServer(options().port(WIREMOCK_PORT).httpsPort(WIREMOCK_PORT_SSL).notifier(new ConsoleNotifier(false)));\r\n\t\twireMockServer.start();\r\n\t}\r\n\t\r\n```\r\n\r\nThen, I used the Java tool `InstallCert.java` to extract the WireMock trust store file and I used it to create the `SSLContext` object in Java. You can check the details of creating the trust store file in the question body above.","title":"Error javax.net.ssl.SSLHandshakeException: No name matching localhost found when using WireMock Self Signed SSL","body":"<p>I found the answer here:</p>\n<p><a href=\"https://stackoverflow.com/questions/3093112/certificateexception-no-name-matching-ssl-someurl-de-found\">CertificateException: No name matching ssl.someUrl.de found</a></p>\n<p>and here:</p>\n<p><a href=\"https://mkyong.com/webservices/jax-ws/java-security-cert-certificateexception-no-name-matching-localhost-found/\" rel=\"nofollow noreferrer\">https://mkyong.com/webservices/jax-ws/java-security-cert-certificateexception-no-name-matching-localhost-found/</a></p>\n<p>I just added the code block below to the test class:</p>\n<pre><code>    static {\n        //for localhost testing only\n        javax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(newJavaKeyword javax.net.ssl.HostnameVerifier() {\n            public boolean verify(String hostname, javax.net.ssl.SSLSession sslSession) {\n                if (hostname.equals(&quot;localhost&quot;)) {\n                    return true;\n                }\n                return false;\n            }\n        });\n    }\n</code></pre>\n<p>Note: replace the keyword above <code>newJavaKeyword</code> with <code>new</code> as it won't let me post it using <code>new</code> for some reason.</p>\n<p>And it worked right away. This is just fine as during testing, all I want is to make sure my SSL code is working fine.</p>\n<p>To summarize, I executed the unit test, and put a breakpoint after the WireMock server was started using the following code:</p>\n<pre><code>    private final static int WIREMOCK_PORT = 8089;\n    private final static int WIREMOCK_PORT_SSL = 8443;\n    private final static String BASE_URL = &quot;http://localhost:&quot; + WIREMOCK_PORT + &quot;/&quot;;\n    private final static String BASE_URL_SSL = &quot;https://localhost:&quot; + WIREMOCK_PORT_SSL + &quot;/&quot;;\n\n    @BeforeClass\n    public static void setup() {\n        System.out.println(&quot;This is the Setup Method&quot;);\n        wireMockServer = new WireMockServer(options().port(WIREMOCK_PORT).httpsPort(WIREMOCK_PORT_SSL).notifier(new ConsoleNotifier(false)));\n        wireMockServer.start();\n    }\n    \n</code></pre>\n<p>Then, I used the Java tool <code>InstallCert.java</code> to extract the WireMock trust store file and I used it to create the <code>SSLContext</code> object in Java. You can check the details of creating the trust store file in the question body above.</p>\n"}],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689272786,"creation_date":1689203537,"question_id":76674968,"body_markdown":"I followed the same steps when I tried to use Mockoon Self-Signed SSL, and all worked fine. I exported the Mockoon SSL using Chrome Browser and added it to jssecacerts using keytool and it worked fine. Also, I used the tool &#39;InstallCert.java&#39; from GitHub and followed the steps to create a new trust store file, it also worked fine.\r\n\r\nI managed to start a WireMock server with SSL as per the steps here:\r\n\r\nhttps://wiremock.org/docs/https/\r\n\r\nI used this code below in a JUnit 4 test class to configure the server and test invoking REST services with SSL from my local:\r\n\r\n```\r\nwireMockServer = new WireMockServer(WireMockConfiguration.wireMockConfig().httpsPort(8443).port(8089));\r\n\r\nwireMockServer.start();\r\n```\r\n\r\nThen, I run the test above and put a break-point before stopping the server, to test the setup using Chrome Browser and Postman.\r\n\r\nI confirmed that &quot;HTTPS&quot; is working fine from Chrome Browser. I tried to export the certificate from Chrome Browser and added it to jssecacerts or an existing trust store file I have, I got an error when I invoke the service with SSL from my local. I set up the mock service using a JSON mapping file under the mappings folder, and I enable SSL in Java, I get the following error when executing this line of code:\r\n\r\n```\r\n((HttpURLConnection)urlConnection).connect();\r\n```\r\n\r\nThe error is:\r\n\r\n```\r\njavax.net.ssl.SSLHandshakeException: No name matching localhost found\r\n```\r\n\r\nI did some digging, and I think the WireMock Self-Signed certificate is not marked with the correct CN name. I think the CN should be &quot;localhost&quot;. See the command line output of the steps I followed using the tool &#39;InstallCert.java&#39; and you can see the `CN=Tom Akehurst`:\r\n\r\n```\r\nC:\\Projects\\SAT\\install certificate&gt;C:\\apps\\jdk1.8.0_351\\bin\\java InstallCert localhost:8443\r\nLoading KeyStore jssecacerts...\r\nOpening connection to localhost:8443 ...\r\nStarting SSL handshake...\r\n\r\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:370)\r\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:313)\r\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:308)\r\n        at sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1355)\r\n        at sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1230)\r\n        at sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1173)\r\n        at sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:376)\r\n        at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:479)\r\n        at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:457)\r\n        at sun.security.ssl.TransportContext.dispatch(TransportContext.java:200)\r\n        at sun.security.ssl.SSLTransport.decode(SSLTransport.java:155)\r\n        at sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1320)\r\n        at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1233)\r\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:417)\r\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:389)\r\n        at InstallCert.main(InstallCert.java:150)\r\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\r\n        at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\r\n        at sun.security.validator.Validator.validate(Validator.java:271)\r\n        at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:312)\r\n        at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:232)\r\n        at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:109)\r\n        at InstallCert$SavingTrustManager.checkServerTrusted(InstallCert.java:248)\r\n        at sun.security.ssl.AbstractTrustManagerWrapper.checkServerTrusted(SSLContextImpl.java:1257)\r\n        at sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1339)\r\n        ... 12 more\r\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\r\n        at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\r\n        at java.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)\r\n        at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434)\r\n        ... 20 more\r\n\r\nServer sent 1 certificate(s):\r\n\r\n 1 Subject CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\r\n   Issuer  CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\r\n   sha1    6f b3 cc 4f 53 f3 89 4c 70 6f cc 1d 43 f4 ea b3 55 f0 ad 95\r\n   md5     a8 cb 72 1e 19 e2 3d a1 d1 80 9c e8 08 48 04 b3\r\n\r\nEnter certificate to add to trusted keystore or &#39;q&#39; to quit: [1]\r\n1\r\n\r\n[\r\n[\r\n  Version: V3\r\n  Subject: CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\r\n  Signature Algorithm: SHA256withRSA, OID = 1.2.840.113549.1.1.11\r\n\r\n  Key:  Sun RSA public key, 2048 bits\r\n  params: null\r\n  modulus: 16162811599997437670024325232093400418478212143396095301325549189805590306783227883083284364453457615893858264294238688239430771669295437290996184629436638130978501233955452329850079285658793303035959256253528976045906886986406333317493030534226253285257726086357068697209146911044976286072066873509393816195164204783023078735828350752718589222442240996413022972362184792369971488626885171029793821887871975122481690953784562330474007286147206795416645490450507513174892201829940700367426767157759073817765308911582508302203841860388208167091799369665611086691071592657494061212129654521104283864301320982025481461669\r\n  public exponent: 65537\r\n  Validity: [From: Tue Feb 24 08:58:50 EST 2015,\r\n               To: Thu Jan 31 08:58:50 EST 2115]\r\n  Issuer: CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\r\n  SerialNumber: [    1d892e4f]\r\n\r\nCertificate Extensions: 1\r\n[1]: ObjectId: 2.5.29.14 Criticality=false\r\nSubjectKeyIdentifier [\r\nKeyIdentifier [\r\n0000: 36 7A B2 85 D1 C4 3F CD   DA 7E 5B FB E0 95 AD 66  6z....?...[....f\r\n0010: EB 5C B2 96                                        .\\..\r\n]\r\n]\r\n\r\n]\r\n  Algorithm: [SHA256withRSA]\r\n  Signature:\r\n0000: 62 3D F0 94 83 B1 07 CF   CA 68 46 06 4B EB 43 F3  b=.......hF.K.C.\r\n0010: 31 DC 9A 28 BC 1A 7C 6B   45 76 C8 66 63 5C BD BF  1..(...kEv.fc\\..\r\n0020: 3A 4F 24 8A 05 70 81 FB   72 B4 AC 99 47 11 93 E5  :O$..p..r...G...\r\n0030: D2 8F 95 A1 4A BE 11 4F   7C B5 E4 9B 1F 67 2F 77  ....J..O.....g/w\r\n0040: E7 4E 7B 7F 49 27 11 71   1F A2 BF 86 8B C0 65 0D  .N..I&#39;.q......e.\r\n0050: A0 B7 DE A5 FE EA DC 22   01 AB 9B D6 29 C4 0D CD  .......&quot;....)...\r\n0060: 36 F1 91 6D 13 06 F3 25   06 20 26 8D 46 BC B1 B6  6..m...%. &amp;.F...\r\n0070: A3 60 4C 64 1D 42 E4 5F   A4 36 6F 63 6B 0B B8 AD  .`Ld.B._.6ock...\r\n0080: 33 6D 5E 4B 57 96 83 61   A3 1A D2 5A DC 84 52 80  3m^KW..a...Z..R.\r\n0090: C0 BC 68 01 56 70 09 C1   05 DC 7D AC 96 AB 70 2C  ..h.Vp........p,\r\n00A0: 0A BF 64 A4 72 37 6C 1C   0B 27 D3 40 18 2E 0C F2  ..d.r7l..&#39;.@....\r\n00B0: 3E F3 F4 0C 3B D4 91 A6   C0 10 E4 D6 8A 00 3B A2  &gt;...;.........;.\r\n00C0: FC D9 6E C3 58 16 0F CE   92 D7 5D E5 E6 1D 10 B1  ..n.X.....].....\r\n00D0: A6 E8 CA 59 AB DE 01 5D   93 72 0B 10 68 29 B3 CB  ...Y...].r..h)..\r\n00E0: 6F 62 F8 5D 37 A4 B9 7B   56 2A 38 12 2F B3 F5 74  ob.]7...V*8./..t\r\n00F0: 20 66 23 78 03 08 B0 CF   D0 FE 96 C8 67 2A E2 08   f#x........g*..\r\n\r\n]\r\n\r\nAdded certificate to keystore &#39;jssecacerts&#39; using alias &#39;localhost-1&#39;\r\n\r\nC:\\Projects\\SAT\\install certificate&gt;C:\\apps\\jdk1.8.0_351\\bin\\java InstallCert localhost:8443\r\nLoading KeyStore jssecacerts...\r\nOpening connection to localhost:8443 ...\r\nStarting SSL handshake...\r\n\r\nNo errors, certificate is already trusted\r\n\r\nServer sent 1 certificate(s):\r\n\r\n 1 Subject CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\r\n   Issuer  CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\r\n   sha1    6f b3 cc 4f 53 f3 89 4c 70 6f cc 1d 43 f4 ea b3 55 f0 ad 95\r\n   md5     a8 cb 72 1e 19 e2 3d a1 d1 80 9c e8 08 48 04 b3\r\n\r\nEnter certificate to add to trusted keystore or &#39;q&#39; to quit: [1]\r\nq\r\nKeyStore not changed\r\n\r\nC:\\Projects\\SAT\\install certificate&gt;keytool -exportcert -alias localhost-1 -keystore jssecacerts -storepass changeit -file mywiremock.cer\r\nCertificate stored in file &lt;mywiremock.cer&gt;\r\n\r\nC:\\Projects\\SAT\\install certificate&gt;keytool -importcert -file mywiremock.cer -keystore wiremockstore.jks -alias localhost-1 -storepass changeit\r\nOwner: CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\r\nIssuer: CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\r\nSerial number: 1d892e4f\r\nValid from: Tue Feb 24 08:58:50 EST 2015 until: Thu Jan 31 08:58:50 EST 2115\r\nCertificate fingerprints:\r\n         SHA1: 6F:B3:CC:4F:53:F3:89:4C:70:6F:CC:1D:43:F4:EA:B3:55:F0:AD:95\r\n         SHA256: 66:02:81:F6:DD:F9:C1:DE:66:21:10:8B:69:A9:85:42:9A:5B:CE:17:9A:4A:6C:F4:89:59:A1:BD:A6:E1:9C:31\r\nSignature algorithm name: SHA256withRSA\r\nSubject Public Key Algorithm: 2048-bit RSA key\r\nVersion: 3\r\n\r\nExtensions:\r\n\r\n#1: ObjectId: 2.5.29.14 Criticality=false\r\nSubjectKeyIdentifier [\r\nKeyIdentifier [\r\n0000: 36 7A B2 85 D1 C4 3F CD   DA 7E 5B FB E0 95 AD 66  6z....?...[....f\r\n0010: EB 5C B2 96                                        .\\..\r\n]\r\n]\r\n\r\nTrust this certificate? [no]:  yes\r\nCertificate was added to keystore\r\n```\r\n\r\nI appreciate your help to fix this issue. I want to be able to mock the service on my local and use SSL. It is not working with WireMock. How I can solve this error:\r\n\r\n```\r\njavax.net.ssl.SSLHandshakeException: No name matching localhost found\r\n```","title":"Error javax.net.ssl.SSLHandshakeException: No name matching localhost found when using WireMock Self Signed SSL","body":"<p>I followed the same steps when I tried to use Mockoon Self-Signed SSL, and all worked fine. I exported the Mockoon SSL using Chrome Browser and added it to jssecacerts using keytool and it worked fine. Also, I used the tool 'InstallCert.java' from GitHub and followed the steps to create a new trust store file, it also worked fine.</p>\n<p>I managed to start a WireMock server with SSL as per the steps here:</p>\n<p><a href=\"https://wiremock.org/docs/https/\" rel=\"nofollow noreferrer\">https://wiremock.org/docs/https/</a></p>\n<p>I used this code below in a JUnit 4 test class to configure the server and test invoking REST services with SSL from my local:</p>\n<pre><code>wireMockServer = new WireMockServer(WireMockConfiguration.wireMockConfig().httpsPort(8443).port(8089));\n\nwireMockServer.start();\n</code></pre>\n<p>Then, I run the test above and put a break-point before stopping the server, to test the setup using Chrome Browser and Postman.</p>\n<p>I confirmed that &quot;HTTPS&quot; is working fine from Chrome Browser. I tried to export the certificate from Chrome Browser and added it to jssecacerts or an existing trust store file I have, I got an error when I invoke the service with SSL from my local. I set up the mock service using a JSON mapping file under the mappings folder, and I enable SSL in Java, I get the following error when executing this line of code:</p>\n<pre><code>((HttpURLConnection)urlConnection).connect();\n</code></pre>\n<p>The error is:</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: No name matching localhost found\n</code></pre>\n<p>I did some digging, and I think the WireMock Self-Signed certificate is not marked with the correct CN name. I think the CN should be &quot;localhost&quot;. See the command line output of the steps I followed using the tool 'InstallCert.java' and you can see the <code>CN=Tom Akehurst</code>:</p>\n<pre><code>C:\\Projects\\SAT\\install certificate&gt;C:\\apps\\jdk1.8.0_351\\bin\\java InstallCert localhost:8443\nLoading KeyStore jssecacerts...\nOpening connection to localhost:8443 ...\nStarting SSL handshake...\n\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        at sun.security.ssl.Alert.createSSLException(Alert.java:131)\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:370)\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:313)\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:308)\n        at sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1355)\n        at sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1230)\n        at sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1173)\n        at sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:376)\n        at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:479)\n        at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:457)\n        at sun.security.ssl.TransportContext.dispatch(TransportContext.java:200)\n        at sun.security.ssl.SSLTransport.decode(SSLTransport.java:155)\n        at sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1320)\n        at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1233)\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:417)\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:389)\n        at InstallCert.main(InstallCert.java:150)\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\n        at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\n        at sun.security.validator.Validator.validate(Validator.java:271)\n        at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:312)\n        at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:232)\n        at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:109)\n        at InstallCert$SavingTrustManager.checkServerTrusted(InstallCert.java:248)\n        at sun.security.ssl.AbstractTrustManagerWrapper.checkServerTrusted(SSLContextImpl.java:1257)\n        at sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1339)\n        ... 12 more\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        at sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\n        at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\n        at java.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)\n        at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434)\n        ... 20 more\n\nServer sent 1 certificate(s):\n\n 1 Subject CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\n   Issuer  CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\n   sha1    6f b3 cc 4f 53 f3 89 4c 70 6f cc 1d 43 f4 ea b3 55 f0 ad 95\n   md5     a8 cb 72 1e 19 e2 3d a1 d1 80 9c e8 08 48 04 b3\n\nEnter certificate to add to trusted keystore or 'q' to quit: [1]\n1\n\n[\n[\n  Version: V3\n  Subject: CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\n  Signature Algorithm: SHA256withRSA, OID = 1.2.840.113549.1.1.11\n\n  Key:  Sun RSA public key, 2048 bits\n  params: null\n  modulus: 16162811599997437670024325232093400418478212143396095301325549189805590306783227883083284364453457615893858264294238688239430771669295437290996184629436638130978501233955452329850079285658793303035959256253528976045906886986406333317493030534226253285257726086357068697209146911044976286072066873509393816195164204783023078735828350752718589222442240996413022972362184792369971488626885171029793821887871975122481690953784562330474007286147206795416645490450507513174892201829940700367426767157759073817765308911582508302203841860388208167091799369665611086691071592657494061212129654521104283864301320982025481461669\n  public exponent: 65537\n  Validity: [From: Tue Feb 24 08:58:50 EST 2015,\n               To: Thu Jan 31 08:58:50 EST 2115]\n  Issuer: CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\n  SerialNumber: [    1d892e4f]\n\nCertificate Extensions: 1\n[1]: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: 36 7A B2 85 D1 C4 3F CD   DA 7E 5B FB E0 95 AD 66  6z....?...[....f\n0010: EB 5C B2 96                                        .\\..\n]\n]\n\n]\n  Algorithm: [SHA256withRSA]\n  Signature:\n0000: 62 3D F0 94 83 B1 07 CF   CA 68 46 06 4B EB 43 F3  b=.......hF.K.C.\n0010: 31 DC 9A 28 BC 1A 7C 6B   45 76 C8 66 63 5C BD BF  1..(...kEv.fc\\..\n0020: 3A 4F 24 8A 05 70 81 FB   72 B4 AC 99 47 11 93 E5  :O$..p..r...G...\n0030: D2 8F 95 A1 4A BE 11 4F   7C B5 E4 9B 1F 67 2F 77  ....J..O.....g/w\n0040: E7 4E 7B 7F 49 27 11 71   1F A2 BF 86 8B C0 65 0D  .N..I'.q......e.\n0050: A0 B7 DE A5 FE EA DC 22   01 AB 9B D6 29 C4 0D CD  .......&quot;....)...\n0060: 36 F1 91 6D 13 06 F3 25   06 20 26 8D 46 BC B1 B6  6..m...%. &amp;.F...\n0070: A3 60 4C 64 1D 42 E4 5F   A4 36 6F 63 6B 0B B8 AD  .`Ld.B._.6ock...\n0080: 33 6D 5E 4B 57 96 83 61   A3 1A D2 5A DC 84 52 80  3m^KW..a...Z..R.\n0090: C0 BC 68 01 56 70 09 C1   05 DC 7D AC 96 AB 70 2C  ..h.Vp........p,\n00A0: 0A BF 64 A4 72 37 6C 1C   0B 27 D3 40 18 2E 0C F2  ..d.r7l..'.@....\n00B0: 3E F3 F4 0C 3B D4 91 A6   C0 10 E4 D6 8A 00 3B A2  &gt;...;.........;.\n00C0: FC D9 6E C3 58 16 0F CE   92 D7 5D E5 E6 1D 10 B1  ..n.X.....].....\n00D0: A6 E8 CA 59 AB DE 01 5D   93 72 0B 10 68 29 B3 CB  ...Y...].r..h)..\n00E0: 6F 62 F8 5D 37 A4 B9 7B   56 2A 38 12 2F B3 F5 74  ob.]7...V*8./..t\n00F0: 20 66 23 78 03 08 B0 CF   D0 FE 96 C8 67 2A E2 08   f#x........g*..\n\n]\n\nAdded certificate to keystore 'jssecacerts' using alias 'localhost-1'\n\nC:\\Projects\\SAT\\install certificate&gt;C:\\apps\\jdk1.8.0_351\\bin\\java InstallCert localhost:8443\nLoading KeyStore jssecacerts...\nOpening connection to localhost:8443 ...\nStarting SSL handshake...\n\nNo errors, certificate is already trusted\n\nServer sent 1 certificate(s):\n\n 1 Subject CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\n   Issuer  CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\n   sha1    6f b3 cc 4f 53 f3 89 4c 70 6f cc 1d 43 f4 ea b3 55 f0 ad 95\n   md5     a8 cb 72 1e 19 e2 3d a1 d1 80 9c e8 08 48 04 b3\n\nEnter certificate to add to trusted keystore or 'q' to quit: [1]\nq\nKeyStore not changed\n\nC:\\Projects\\SAT\\install certificate&gt;keytool -exportcert -alias localhost-1 -keystore jssecacerts -storepass changeit -file mywiremock.cer\nCertificate stored in file &lt;mywiremock.cer&gt;\n\nC:\\Projects\\SAT\\install certificate&gt;keytool -importcert -file mywiremock.cer -keystore wiremockstore.jks -alias localhost-1 -storepass changeit\nOwner: CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\nIssuer: CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\nSerial number: 1d892e4f\nValid from: Tue Feb 24 08:58:50 EST 2015 until: Thu Jan 31 08:58:50 EST 2115\nCertificate fingerprints:\n         SHA1: 6F:B3:CC:4F:53:F3:89:4C:70:6F:CC:1D:43:F4:EA:B3:55:F0:AD:95\n         SHA256: 66:02:81:F6:DD:F9:C1:DE:66:21:10:8B:69:A9:85:42:9A:5B:CE:17:9A:4A:6C:F4:89:59:A1:BD:A6:E1:9C:31\nSignature algorithm name: SHA256withRSA\nSubject Public Key Algorithm: 2048-bit RSA key\nVersion: 3\n\nExtensions:\n\n#1: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: 36 7A B2 85 D1 C4 3F CD   DA 7E 5B FB E0 95 AD 66  6z....?...[....f\n0010: EB 5C B2 96                                        .\\..\n]\n]\n\nTrust this certificate? [no]:  yes\nCertificate was added to keystore\n</code></pre>\n<p>I appreciate your help to fix this issue. I want to be able to mock the service on my local and use SSL. It is not working with WireMock. How I can solve this error:</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: No name matching localhost found\n</code></pre>\n"},{"tags":["java","file","unixodbc","r.java-file"],"comments":[{"owner":{"account_id":28927438,"reputation":11,"user_id":22156985,"display_name":"PuneethC99"},"score":0,"creation_date":1689308755,"post_id":76682289,"comment_id":135197949,"body_markdown":"I used that but it says &quot;Operation not permitted&quot; @user16320675","body":"I used that but it says &quot;Operation not permitted&quot; @user16320675"}],"owner":{"account_id":28927438,"reputation":11,"user_id":22156985,"display_name":"PuneethC99"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689272775,"creation_date":1689272775,"question_id":76682289,"body_markdown":"I am trying to set read/write/executable permissions to an EXISTING directory in Java on UNIX platform.\r\nThe code I have - \r\n```\r\nFile dir = new File(path);\r\nboolean rc1 = dir.setExecutable(true, false);\r\nboolean rc2 = dir.setReadable(true, false);\r\nboolean rc3 = dir.setWritable(true, false);\r\n```\r\nAll three booleans rc1,rc2,rc3 are evaluated to false.\r\nHow do I fix this?\r\n\r\nAll three booleans should evaluate to TRUE.","title":"Setting FILE permissions always returns FALSE for the existing directories","body":"<p>I am trying to set read/write/executable permissions to an EXISTING directory in Java on UNIX platform.\nThe code I have -</p>\n<pre><code>File dir = new File(path);\nboolean rc1 = dir.setExecutable(true, false);\nboolean rc2 = dir.setReadable(true, false);\nboolean rc3 = dir.setWritable(true, false);\n</code></pre>\n<p>All three booleans rc1,rc2,rc3 are evaluated to false.\nHow do I fix this?</p>\n<p>All three booleans should evaluate to TRUE.</p>\n"},{"tags":["java","android","mobile-development"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1689318608,"post_id":76682286,"comment_id":135199247,"body_markdown":"The error message already contains two links where you find the instructions how to initialize the library correctly. Have you read them and performed the described steps?","body":"The error message already contains two links where you find the instructions how to initialize the library correctly. Have you read them and performed the described steps?"}],"owner":{"account_id":23392570,"reputation":1,"user_id":17457051,"display_name":"Abdul Hannan Hassan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689272746,"creation_date":1689272746,"question_id":76682286,"body_markdown":"**When I add this library:** implementation &#39;com.google.android.gms:play-services-ads:22.2.0&#39; **my app not open and crash when Delete this library and related code then working correct, why I need to fix this here error showing below. And I want to place ads please help me.**    \r\n\r\n\r\n\r\nE/libc: Access denied finding property &quot;ro.vendor.pref_scale_resolution&quot;\r\nD/AndroidRuntime: Shutting down VM\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.hannanmentor.sciencimalumaat, PID: 17041\r\n    java.lang.RuntimeException: Unable to get provider com.google.android.gms.ads.MobileAdsInitProvider: java.lang.IllegalStateException: \r\n    \r\n    ******************************************************************************\r\n    * The Google Mobile Ads SDK was initialized incorrectly. AdMob publishers    *\r\n    * should follow the instructions here:                                       *\r\n    * https://googlemobileadssdk.page.link/admob-android-update-manifest         *\r\n    * to add a valid App ID inside the AndroidManifest.                          *\r\n    * Google Ad Manager publishers should follow instructions here:              *\r\n    * https://googlemobileadssdk.page.link/ad-manager-android-update-manifest.   *\r\n    ******************************************************************************\r\n    \r\n    \r\n        at android.app.ActivityThread.installProvider(ActivityThread.java:7587)\r\n        at android.app.ActivityThread.installContentProviders(ActivityThread.java:7118)\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:7035)\r\n        at android.app.ActivityThread.access$1500(ActivityThread.java:263)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2032)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:268)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8016)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:627)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:997)\r\n     Caused by: java.lang.IllegalStateException: \r\n    \r\n    ******************************************************************************\r\n    * The Google Mobile Ads SDK was initialized incorrectly. AdMob publishers    *\r\n    * should follow the instructions here:                                       *\r\n    * https://googlemobileadssdk.page.link/admob-android-update-manifest         *\r\n    * to add a valid App ID inside the AndroidManifest.                          *\r\n    * Google Ad Manager publishers should follow instructions here:              *\r\n    * https://googlemobileadssdk.page.link/ad-manager-android-update-manifest.   *\r\n    ******************************************************************************\r\n    \r\n    \r\n        at com.google.android.gms.ads.internal.client.zzek.attachInfo(com.google.android.gms:play-services-ads-lite@@22.2.0:26)\r\n        at com.google.android.gms.ads.MobileAdsInitProvider.attachInfo(com.google.android.gms:play-services-ads-lite@@22.2.0:1)\r\n        at android.app.ActivityThread.installProvider(ActivityThread.java:7582)\r\n        \t... 10 more","title":"Android Studio App Crash When I Add Google Play Services Library (Google Admob)","body":"<p><strong>When I add this library:</strong> implementation 'com.google.android.gms:play-services-ads:22.2.0' <strong>my app not open and crash when Delete this library and related code then working correct, why I need to fix this here error showing below. And I want to place ads please help me.</strong></p>\n<p>E/libc: Access denied finding property &quot;ro.vendor.pref_scale_resolution&quot;\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.hannanmentor.sciencimalumaat, PID: 17041\njava.lang.RuntimeException: Unable to get provider com.google.android.gms.ads.MobileAdsInitProvider: java.lang.IllegalStateException:</p>\n<pre><code>******************************************************************************\n* The Google Mobile Ads SDK was initialized incorrectly. AdMob publishers    *\n* should follow the instructions here:                                       *\n* https://googlemobileadssdk.page.link/admob-android-update-manifest         *\n* to add a valid App ID inside the AndroidManifest.                          *\n* Google Ad Manager publishers should follow instructions here:              *\n* https://googlemobileadssdk.page.link/ad-manager-android-update-manifest.   *\n******************************************************************************\n\n\n    at android.app.ActivityThread.installProvider(ActivityThread.java:7587)\n    at android.app.ActivityThread.installContentProviders(ActivityThread.java:7118)\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:7035)\n    at android.app.ActivityThread.access$1500(ActivityThread.java:263)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2032)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:268)\n    at android.app.ActivityThread.main(ActivityThread.java:8016)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:627)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:997)\n Caused by: java.lang.IllegalStateException: \n\n******************************************************************************\n* The Google Mobile Ads SDK was initialized incorrectly. AdMob publishers    *\n* should follow the instructions here:                                       *\n* https://googlemobileadssdk.page.link/admob-android-update-manifest         *\n* to add a valid App ID inside the AndroidManifest.                          *\n* Google Ad Manager publishers should follow instructions here:              *\n* https://googlemobileadssdk.page.link/ad-manager-android-update-manifest.   *\n******************************************************************************\n\n\n    at com.google.android.gms.ads.internal.client.zzek.attachInfo(com.google.android.gms:play-services-ads-lite@@22.2.0:26)\n    at com.google.android.gms.ads.MobileAdsInitProvider.attachInfo(com.google.android.gms:play-services-ads-lite@@22.2.0:1)\n    at android.app.ActivityThread.installProvider(ActivityThread.java:7582)\n        ... 10 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1931201,"reputation":5150,"user_id":1740554,"display_name":"Udo Klimaschewski"},"score":2,"creation_date":1418136859,"post_id":27381781,"comment_id":43212430,"body_markdown":"Maybe this helps: http://stackoverflow.com/questions/20405474/spring-boot-context-root","body":"Maybe this helps: <a href=\"http://stackoverflow.com/questions/20405474/spring-boot-context-root\" title=\"spring boot context root\">stackoverflow.com/questions/20405474/spring-boot-context-roo&zwnj;&#8203;t</a>"},{"owner":{"account_id":1360035,"reputation":7094,"user_id":1297578,"accept_rate":82,"display_name":"Shoham"},"score":3,"creation_date":1418138084,"post_id":27381781,"comment_id":43213291,"body_markdown":"@UdoKlimaschewski It shows how to map `http://localhost:8080/appName` but its not what I need...","body":"@UdoKlimaschewski It shows how to map <code>http:&#47;&#47;localhost:8080&#47;appName</code> but its not what I need..."},{"owner":{"account_id":1422340,"reputation":165,"user_id":1346730,"accept_rate":25,"display_name":"user1346730"},"score":1,"creation_date":1543336507,"post_id":27381781,"comment_id":93877728,"body_markdown":"WebMvcConfigurerAdapter is deprecated","body":"WebMvcConfigurerAdapter is deprecated"}],"answers":[{"comments":[{"owner":{"account_id":1360035,"reputation":7094,"user_id":1297578,"accept_rate":82,"display_name":"Shoham"},"score":1,"creation_date":1418200250,"post_id":27383522,"comment_id":43238927,"body_markdown":"Thanks.. I didn&#39;t realised that... couldn&#39;t find one simple demo in their site that shows that...","body":"Thanks.. I didn&#39;t realised that... couldn&#39;t find one simple demo in their site that shows that..."},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":14,"creation_date":1418206697,"post_id":27383522,"comment_id":43242465,"body_markdown":"From [the reference docs](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-spring-mvc-auto-configuration): &quot;If you want to keep Spring Boot MVC features, and you just want to add additional MVC configuration (interceptors, formatters, view controllers etc.) you can add your own @Bean of type `WebMvcConfigurerAdapte`r, but without `@EnableWebMvc`&quot;","body":"From <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-spring-mvc-auto-configuration\" rel=\"nofollow noreferrer\">the reference docs</a>: &quot;If you want to keep Spring Boot MVC features, and you just want to add additional MVC configuration (interceptors, formatters, view controllers etc.) you can add your own @Bean of type <code>WebMvcConfigurerAdapte</code>r, but without <code>@EnableWebMvc</code>&quot;"},{"owner":{"account_id":59864,"reputation":11232,"user_id":179014,"accept_rate":60,"display_name":"asmaier"},"score":1,"creation_date":1431683362,"post_id":27383522,"comment_id":48612593,"body_markdown":"This will serve `index.html` at `/` . But is it possible to also make the browser actually change the url from `/` to `/index.html` ?","body":"This will serve <code>index.html</code> at <code>&#47;</code> . But is it possible to also make the browser actually change the url from <code>&#47;</code> to <code>&#47;index.html</code> ?"},{"owner":{"account_id":59864,"reputation":11232,"user_id":179014,"accept_rate":60,"display_name":"asmaier"},"score":19,"creation_date":1431684380,"post_id":27383522,"comment_id":48613241,"body_markdown":"Ok I figured it out. In case you also want to change the url from `/` to `/index.html` use `&quot;redirect:/index.html&quot;`  instead of forward.","body":"Ok I figured it out. In case you also want to change the url from <code>&#47;</code> to <code>&#47;index.html</code> use <code>&quot;redirect:&#47;index.html&quot;</code>  instead of forward."},{"owner":{"account_id":7913261,"reputation":1438,"user_id":5976604,"accept_rate":21,"display_name":"Jelle den Burger"},"score":4,"creation_date":1470993890,"post_id":27383522,"comment_id":65186023,"body_markdown":"I am not using the @EnableWebMvc annotation, and I do not get redirected to index.html.","body":"I am not using the @EnableWebMvc annotation, and I do not get redirected to index.html."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":1,"creation_date":1497435117,"post_id":27383522,"comment_id":76074023,"body_markdown":"You might as well try **redirect:/index.html**. *forward* did not work for me. Also, if using spring-boot, you might simply want to `extends WebMvcConfigurerAdapter` from your `@Configuration` class, and override `addViewControllers`. No need to add a `@Bean` explicit.","body":"You might as well try <b>redirect:/index.html</b>. <i>forward</i> did not work for me. Also, if using spring-boot, you might simply want to <code>extends WebMvcConfigurerAdapter</code> from your <code>@Configuration</code> class, and override <code>addViewControllers</code>. No need to add a <code>@Bean</code> explicit."},{"owner":{"account_id":2159560,"reputation":62,"user_id":1914051,"display_name":"Mahesh"},"score":0,"creation_date":1519906038,"post_id":27383522,"comment_id":85102903,"body_markdown":"My spring boot app root url http://host:port/contextpath was not taking me to the index.html but showed &quot;full authentication is required&quot;. I didn&#39;t do these changes but added security.ignored=&quot;/&quot; to make it work. My app is secured with spring security oauth2, Am I doing this right by adding root to security.ignored?","body":"My spring boot app root url <a href=\"http://host:port/contextpath\" rel=\"nofollow noreferrer\">host:port/contextpath</a> was not taking me to the index.html but showed &quot;full authentication is required&quot;. I didn&#39;t do these changes but added security.ignored=&quot;/&quot; to make it work. My app is secured with spring security oauth2, Am I doing this right by adding root to security.ignored?"},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1689288547,"post_id":27383522,"comment_id":135196312,"body_markdown":"@DaveSyer is there a difference in declare that `addViewControllers` method through `@Configuration` + `WebMvcConfigurer`&#39;s `addViewControllers` implementation (your approach) **vs**  `@Configuration` + `@Bean` such as https://stackoverflow.com/a/31235990/3665178 ? (based in your previous comment) - Just curious when the latter would be mandatory","body":"@DaveSyer is there a difference in declare that <code>addViewControllers</code> method through <code>@Configuration</code> + <code>WebMvcConfigurer</code>&#39;s <code>addViewControllers</code> implementation (your approach) <b>vs</b>  <code>@Configuration</code> + <code>@Bean</code> such as <a href=\"https://stackoverflow.com/a/31235990/3665178\">stackoverflow.com/a/31235990/3665178</a> ? (based in your previous comment) - Just curious when the latter would be mandatory"},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1689288811,"post_id":27383522,"comment_id":135196342,"body_markdown":"@DaveSyer the content shared in your comment about the Reference Documentation does not include anymore the _you can add your own @Bean of type_ part. Why was removed that `@Bean` approach?","body":"@DaveSyer the content shared in your comment about the Reference Documentation does not include anymore the <i>you can add your own @Bean of type</i> part. Why was removed that <code>@Bean</code> approach?"},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1689674406,"post_id":27383522,"comment_id":135243895,"body_markdown":"It&#39;s still there (but the type changed to `WebMvcConfigurer`)","body":"It&#39;s still there (but the type changed to <code>WebMvcConfigurer</code>)"}],"tags":[],"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"comment_count":10,"down_vote_count":1,"up_vote_count":181,"is_accepted":true,"score":180,"last_activity_date":1431337271,"creation_date":1418141280,"answer_id":27383522,"question_id":27381781,"body_markdown":"It would have worked out of the box if you hadn&#39;t used `@EnableWebMvc` annotation. When you do that you switch off all the things that Spring Boot does for you in `WebMvcAutoConfiguration`. You could remove that annotation, or you could add back the view controller that you switched off:\r\n\r\n\t@Override\r\n\tpublic void addViewControllers(ViewControllerRegistry registry) {\r\n        registry.addViewController(&quot;/&quot;).setViewName(&quot;forward:/index.html&quot;);\r\n\t}","title":"Java Spring Boot: How to map my app root (“/”) to index.html?","body":"<p>It would have worked out of the box if you hadn't used <code>@EnableWebMvc</code> annotation. When you do that you switch off all the things that Spring Boot does for you in <code>WebMvcAutoConfiguration</code>. You could remove that annotation, or you could add back the view controller that you switched off:</p>\n\n<pre><code>@Override\npublic void addViewControllers(ViewControllerRegistry registry) {\n    registry.addViewController(\"/\").setViewName(\"forward:/index.html\");\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1052464,"reputation":1215,"user_id":1056020,"accept_rate":60,"display_name":"Andriy Kharchuk"},"score":10,"creation_date":1518448136,"post_id":31235990,"comment_id":84499089,"body_markdown":"Use WebMvcConfigurer instead of deprecated WebMvcConfigurerAdapter in Spring 5.","body":"Use WebMvcConfigurer instead of deprecated WebMvcConfigurerAdapter in Spring 5."}],"tags":[],"owner":{"account_id":966863,"reputation":3437,"user_id":990159,"accept_rate":88,"display_name":"justin"},"comment_count":1,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1689272443,"creation_date":1436138862,"answer_id":31235990,"question_id":27381781,"body_markdown":"An example of Dave Syer&#39;s [answer](https://stackoverflow.com/a/27383522/3665178) and [comment](https://stackoverflow.com/questions/27381781/java-spring-boot-how-to-map-my-app-root-to-index-html#comment43242465_27383522):\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\r\n    \r\n    @Configuration\r\n    public class MyWebMvcConfig {\r\n    \r\n    \t@Bean\r\n    \tpublic WebMvcConfigurerAdapter forwardToIndex() {\r\n    \t\treturn new WebMvcConfigurerAdapter() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void addViewControllers(ViewControllerRegistry registry) {\r\n    \t\t\t\t// forward requests to /admin and /user to their index.html\r\n    \t\t\t\tregistry.addViewController(&quot;/admin&quot;).setViewName(\r\n    \t\t\t\t\t\t&quot;forward:/admin/index.html&quot;);\r\n    \t\t\t\tregistry.addViewController(&quot;/user&quot;).setViewName(\r\n    \t\t\t\t\t\t&quot;forward:/user/index.html&quot;);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    \r\n    }\r\n","title":"Java Spring Boot: How to map my app root (“/”) to index.html?","body":"<p>An example of Dave Syer's <a href=\"https://stackoverflow.com/a/27383522/3665178\">answer</a> and <a href=\"https://stackoverflow.com/questions/27381781/java-spring-boot-how-to-map-my-app-root-to-index-html#comment43242465_27383522\">comment</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\n\n@Configuration\npublic class MyWebMvcConfig {\n\n    @Bean\n    public WebMvcConfigurerAdapter forwardToIndex() {\n        return new WebMvcConfigurerAdapter() {\n            @Override\n            public void addViewControllers(ViewControllerRegistry registry) {\n                // forward requests to /admin and /user to their index.html\n                registry.addViewController(&quot;/admin&quot;).setViewName(\n                        &quot;forward:/admin/index.html&quot;);\n                registry.addViewController(&quot;/user&quot;).setViewName(\n                        &quot;forward:/user/index.html&quot;);\n            }\n        };\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2372918,"reputation":4836,"user_id":2077101,"accept_rate":64,"display_name":"James Watkins"},"score":6,"creation_date":1515522409,"post_id":45224024,"comment_id":83328599,"body_markdown":"I created a src/main/resources/public/index.html file and it worked! Thanks","body":"I created a src/main/resources/public/index.html file and it worked! Thanks"},{"owner":{"account_id":13603500,"reputation":317,"user_id":10322015,"display_name":"FearX"},"score":0,"creation_date":1573760455,"post_id":45224024,"comment_id":103999730,"body_markdown":"Is that still true?","body":"Is that still true?"},{"owner":{"account_id":17143624,"reputation":194,"user_id":12407056,"display_name":"JeannotMn"},"score":0,"creation_date":1605170706,"post_id":45224024,"comment_id":114570758,"body_markdown":"Still true as of today","body":"Still true as of today"},{"owner":{"account_id":8780511,"reputation":442,"user_id":6564268,"display_name":"Man Coding"},"score":0,"creation_date":1606828006,"post_id":45224024,"comment_id":115074865,"body_markdown":"oh yes, my colleague added a meaningless @Requestmapping(&quot;/&quot;) somewhere. Thanks for pointing that out. Now welcome page works now.","body":"oh yes, my colleague added a meaningless @Requestmapping(&quot;/&quot;) somewhere. Thanks for pointing that out. Now welcome page works now."}],"tags":[],"owner":{"account_id":8613736,"reputation":724,"user_id":6451395,"accept_rate":50,"display_name":"Krish"},"comment_count":4,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1500580268,"creation_date":1500580268,"answer_id":45224024,"question_id":27381781,"body_markdown":"if it is a Spring boot App. \r\n\r\nSpring Boot automatically detects index.html in public/static/webapp folder. If you have written any controller `@Requestmapping(&quot;/&quot;)` it will override the default feature and it will not show the `index.html` unless you type `localhost:8080/index.html`","title":"Java Spring Boot: How to map my app root (“/”) to index.html?","body":"<p>if it is a Spring boot App. </p>\n\n<p>Spring Boot automatically detects index.html in public/static/webapp folder. If you have written any controller <code>@Requestmapping(\"/\")</code> it will override the default feature and it will not show the <code>index.html</code> unless you type <code>localhost:8080/index.html</code></p>\n"},{"comments":[{"owner":{"account_id":10324417,"reputation":350,"user_id":7616297,"display_name":"Maik"},"score":0,"creation_date":1664978972,"post_id":45704913,"comment_id":130592428,"body_markdown":"meanwhile is WebMvcConfigurerAdapter deprecated","body":"meanwhile is WebMvcConfigurerAdapter deprecated"}],"tags":[],"owner":{"account_id":1075349,"reputation":249,"user_id":1073634,"display_name":"Rodrigo Ribeiro"},"comment_count":1,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1502856028,"creation_date":1502856028,"answer_id":45704913,"question_id":27381781,"body_markdown":"    @Configuration  \r\n    @EnableWebMvc  \r\n    public class WebAppConfig extends WebMvcConfigurerAdapter {  \r\n\t\r\n\t    @Override\r\n\t    public void addViewControllers(ViewControllerRegistry registry) {\r\n\t\t    registry.addRedirectViewController(&quot;/&quot;, &quot;index.html&quot;);\r\n\t    }\r\n\t\r\n    }","title":"Java Spring Boot: How to map my app root (“/”) to index.html?","body":"<pre><code>@Configuration  \n@EnableWebMvc  \npublic class WebAppConfig extends WebMvcConfigurerAdapter {  \n\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addRedirectViewController(\"/\", \"index.html\");\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12924182,"reputation":849,"user_id":9345535,"display_name":"Pravind Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521222333,"creation_date":1521221579,"answer_id":49326510,"question_id":27381781,"body_markdown":" 1. index.html file should come under below location - \r\n       src/resources/public/index.html OR\r\n       src/resources/static/index.html\r\n    if both location defined then which first occur index.html will call from that directory.\r\n 2. The source code looks like - \r\n\r\n        package com.bluestone.pms.app.boot; \r\n        import org.springframework.boot.Banner;\r\n        import org.springframework.boot.Banner;\r\n        import org.springframework.boot.SpringApplication;\r\n        import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n        import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n        import org.springframework.boot.builder.SpringApplicationBuilder;\r\n        import org.springframework.boot.web.support.SpringBootServletInitializer;\r\n        import org.springframework.context.annotation.ComponentScan;\r\n\r\n\r\n\r\n        @SpringBootApplication \r\n        @EnableAutoConfiguration\r\n        @ComponentScan(basePackages = {&quot;com.your.pkg&quot;}) \r\n        public class BootApplication extends SpringBootServletInitializer {\r\n\r\n\r\n\r\n        /**\r\n         * @param args Arguments\r\n        */\r\n        public static void main(String[] args) {\r\n        SpringApplication application = new SpringApplication(BootApplication.class);\r\n        /* Setting Boot banner off default value is true */\r\n        application.setBannerMode(Banner.Mode.OFF);\r\n        application.run(args);\r\n        }\r\n\r\n        /**\r\n          * @param builder a builder for the application context\r\n          * @return the application builder\r\n          * @see SpringApplicationBuilder\r\n         */\r\n         @Override\r\n         protected SpringApplicationBuilder configure(SpringApplicationBuilder \r\n          builder) {\r\n            return super.configure(builder);\r\n           }\r\n        }","title":"Java Spring Boot: How to map my app root (“/”) to index.html?","body":"<ol>\n<li>index.html file should come under below location - \n   src/resources/public/index.html OR\n   src/resources/static/index.html\nif both location defined then which first occur index.html will call from that directory.</li>\n<li><p>The source code looks like - </p>\n\n<pre><code>package com.bluestone.pms.app.boot; \nimport org.springframework.boot.Banner;\nimport org.springframework.boot.Banner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.support.SpringBootServletInitializer;\nimport org.springframework.context.annotation.ComponentScan;\n\n\n\n@SpringBootApplication \n@EnableAutoConfiguration\n@ComponentScan(basePackages = {\"com.your.pkg\"}) \npublic class BootApplication extends SpringBootServletInitializer {\n\n\n\n/**\n * @param args Arguments\n*/\npublic static void main(String[] args) {\nSpringApplication application = new SpringApplication(BootApplication.class);\n/* Setting Boot banner off default value is true */\napplication.setBannerMode(Banner.Mode.OFF);\napplication.run(args);\n}\n\n/**\n  * @param builder a builder for the application context\n  * @return the application builder\n  * @see SpringApplicationBuilder\n */\n @Override\n protected SpringApplicationBuilder configure(SpringApplicationBuilder \n  builder) {\n    return super.configure(builder);\n   }\n}\n</code></pre></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":4835491,"reputation":4717,"user_id":3902339,"accept_rate":100,"display_name":"ArifMustafa"},"score":0,"creation_date":1524983017,"post_id":49859973,"comment_id":87183590,"body_markdown":"@ArifMustafa In recent Sprint Boot versions, I recommend to put webpages inside templates also.","body":"@ArifMustafa In recent Sprint Boot versions, I recommend to put webpages inside templates also."},{"owner":{"account_id":2023908,"reputation":4939,"user_id":1809463,"accept_rate":84,"display_name":"mike"},"score":0,"creation_date":1545142205,"post_id":49859973,"comment_id":94517752,"body_markdown":"Do you have references for that? I&#39;m trying to create a react/redux frontend project with a Spring backend and I&#39;m not sure about the best practices involved.","body":"Do you have references for that? I&#39;m trying to create a react/redux frontend project with a Spring backend and I&#39;m not sure about the best practices involved."}],"tags":[],"owner":{"account_id":4835491,"reputation":4717,"user_id":3902339,"accept_rate":100,"display_name":"ArifMustafa"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1523889490,"creation_date":1523889490,"answer_id":49859973,"question_id":27381781,"body_markdown":"Inside `Spring Boot`, I always put the webpages inside a folder like `public` or `webapps` or `views` and place it inside `src/main/resources` directory as you can see in `application.properties` also.\r\n\r\n[![Spring_Boot-Project-Explorer-View][1]][1]\r\n\r\nand this is my `application.properties`:\r\n\r\n    server.port=15800\r\n    spring.mvc.view.prefix=/public/\r\n    spring.mvc.view.suffix=.html\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/hibernatedb\r\n    spring.datasource.username=root\r\n    spring.datasource.password=password\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    \r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\r\n    spring.jpa.hibernate.ddl-auto = update\r\n    spring.jpa.properties.hibernate.format_sql = true\r\n    \r\n    logging.level.org.hibernate.SQL=DEBUG\r\n    logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\n\r\nas soon you put the url like `servername:15800` and this request received by Spring Boot occupied Servlet dispatcher it will exactly search the `index.html` and this name will in case sensitive as the `spring.mvc.view.suffix` which would be html, jsp, htm etc.\r\n\r\nHope it would help manyone.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JgkZg.png","title":"Java Spring Boot: How to map my app root (“/”) to index.html?","body":"<p>Inside <code>Spring Boot</code>, I always put the webpages inside a folder like <code>public</code> or <code>webapps</code> or <code>views</code> and place it inside <code>src/main/resources</code> directory as you can see in <code>application.properties</code> also.</p>\n\n<p><a href=\"https://i.stack.imgur.com/JgkZg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JgkZg.png\" alt=\"Spring_Boot-Project-Explorer-View\"></a></p>\n\n<p>and this is my <code>application.properties</code>:</p>\n\n<pre><code>server.port=15800\nspring.mvc.view.prefix=/public/\nspring.mvc.view.suffix=.html\nspring.datasource.url=jdbc:mysql://localhost:3306/hibernatedb\nspring.datasource.username=root\nspring.datasource.password=password\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\n\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.hibernate.ddl-auto = update\nspring.jpa.properties.hibernate.format_sql = true\n\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\n</code></pre>\n\n<p>as soon you put the url like <code>servername:15800</code> and this request received by Spring Boot occupied Servlet dispatcher it will exactly search the <code>index.html</code> and this name will in case sensitive as the <code>spring.mvc.view.suffix</code> which would be html, jsp, htm etc.</p>\n\n<p>Hope it would help manyone.</p>\n"},{"comments":[{"owner":{"account_id":12030419,"reputation":652,"user_id":8800839,"display_name":"JFFIGK"},"score":0,"creation_date":1576696355,"post_id":54260515,"comment_id":104986386,"body_markdown":"what could be wrong if this does not work? resources/public/index.html exists; java 13; spring 2.2.2; tomcat","body":"what could be wrong if this does not work? resources/public/index.html exists; java 13; spring 2.2.2; tomcat"}],"tags":[],"owner":{"account_id":1414426,"reputation":338,"user_id":1340354,"accept_rate":0,"display_name":"sampathlk"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1547840764,"creation_date":1547840764,"answer_id":54260515,"question_id":27381781,"body_markdown":"Update: Jan-2019\r\n\r\nFirst create public folder under resources and create index.html file.\r\nUse WebMvcConfigurer instead of WebMvcConfigurerAdapter.\r\n\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    \r\n    @Configuration\r\n    public class WebAppConfig implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addViewControllers(ViewControllerRegistry registry) {\r\n            registry.addViewController(&quot;/&quot;).setViewName(&quot;forward:/index.html&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Java Spring Boot: How to map my app root (“/”) to index.html?","body":"<p>Update: Jan-2019</p>\n\n<p>First create public folder under resources and create index.html file.\nUse WebMvcConfigurer instead of WebMvcConfigurerAdapter.</p>\n\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class WebAppConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(\"/\").setViewName(\"forward:/index.html\");\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3861784,"reputation":8519,"user_id":3199351,"accept_rate":35,"display_name":"Abdeali Chandanwala"},"score":1,"creation_date":1644133027,"post_id":58050711,"comment_id":125520981,"body_markdown":"Finally your answer worked :)","body":"Finally your answer worked :)"}],"tags":[],"owner":{"account_id":14870107,"reputation":121,"user_id":10737839,"display_name":"Yuriy K"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1569166363,"creation_date":1569166363,"answer_id":58050711,"question_id":27381781,"body_markdown":"I had the same problem. Spring boot knows where static html files are located.\r\n\r\n 1. Add index.html into resources/static folder\r\n 2. Then delete full controller method for root path like @RequestMapping(&quot;/&quot;) etc\r\n 3. Run app and check http://localhost:8080 (Should work)\r\n","title":"Java Spring Boot: How to map my app root (“/”) to index.html?","body":"<p>I had the same problem. Spring boot knows where static html files are located.</p>\n\n<ol>\n<li>Add index.html into resources/static folder</li>\n<li>Then delete full controller method for root path like @RequestMapping(\"/\") etc</li>\n<li>Run app and check <a href=\"http://localhost:8080\" rel=\"noreferrer\">http://localhost:8080</a> (Should work)</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":10918875,"reputation":556,"user_id":9300379,"display_name":"Germ&#225;n Faller"},"score":0,"creation_date":1592981114,"post_id":58137087,"comment_id":110615567,"body_markdown":"in my case, it was working but when I changed from tomcat to Undertow suddenly stop working. now i need a way to forward / to my index.html","body":"in my case, it was working but when I changed from tomcat to Undertow suddenly stop working. now i need a way to forward / to my index.html"},{"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"score":0,"creation_date":1636022556,"post_id":58137087,"comment_id":123449164,"body_markdown":"Updated the post above with the solution that can help you.","body":"Updated the post above with the solution that can help you."}],"tags":[],"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1636022260,"creation_date":1569596601,"answer_id":58137087,"question_id":27381781,"body_markdown":"If you use the latest `spring-boot 2.1.6.RELEASE` with a simple `@RestController` annotation then you do not need to do anything, just add your `index.html` file under the `resources/static` folder:\r\n\r\n    project\r\n      ├── src\r\n       &#160;&#160; ├── main\r\n       &#160;&#160;  &#160;&#160; └── resources\r\n       &#160;&#160;  &#160;&#160;     └── static\r\n       &#160;&#160;  &#160;&#160;         └── index.html\r\n\r\n\r\nThen hit the root URL of your app [http://localhost:8080][1].\r\n\r\n\r\nThe solution above works out of the box with Spring and Tomcat and your HTTP request to the root `/`  is mapped automatically to the `index.html` file. But if you used `@EnableWebMvc` annotation then you switch off that Spring Boot does for you. In this case, you have two options: \r\n\r\n**(1)** remove that annotation\r\n\r\n**(2)** or you could add back the view controller that you switched off\r\n\r\n    @Configuration\r\n    public class WebConfiguration implements WebMvcConfigurer {\r\n    \r\n       @Override\r\n       public void addViewControllers(ViewControllerRegistry registry) {\r\n           registry.addViewController(&quot;/&quot;).setViewName(&quot;forward:/index.html&quot;);\r\n       }\r\n       \r\n    }\r\n\r\nHope that it will help everyone.\r\n\r\n  [1]: http://localhost:8080\r\n\r\n\r\n\r\n\r\n","title":"Java Spring Boot: How to map my app root (“/”) to index.html?","body":"<p>If you use the latest <code>spring-boot 2.1.6.RELEASE</code> with a simple <code>@RestController</code> annotation then you do not need to do anything, just add your <code>index.html</code> file under the <code>resources/static</code> folder:</p>\n<pre><code>project\n  ├── src\n      ├── main\n          └── resources\n              └── static\n                  └── index.html\n</code></pre>\n<p>Then hit the root URL of your app <a href=\"http://localhost:8080\" rel=\"noreferrer\">http://localhost:8080</a>.</p>\n<p>The solution above works out of the box with Spring and Tomcat and your HTTP request to the root <code>/</code>  is mapped automatically to the <code>index.html</code> file. But if you used <code>@EnableWebMvc</code> annotation then you switch off that Spring Boot does for you. In this case, you have two options:</p>\n<p><strong>(1)</strong> remove that annotation</p>\n<p><strong>(2)</strong> or you could add back the view controller that you switched off</p>\n<pre><code>@Configuration\npublic class WebConfiguration implements WebMvcConfigurer {\n\n   @Override\n   public void addViewControllers(ViewControllerRegistry registry) {\n       registry.addViewController(&quot;/&quot;).setViewName(&quot;forward:/index.html&quot;);\n   }\n   \n}\n</code></pre>\n<p>Hope that it will help everyone.</p>\n"},{"tags":[],"owner":{"account_id":5096768,"reputation":1551,"user_id":4087817,"display_name":"ngg"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1588160912,"creation_date":1588160912,"answer_id":61501106,"question_id":27381781,"body_markdown":"You can add a RedirectViewController like:\r\n\r\n    @Configuration\r\n    public class WebConfiguration implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addViewControllers(ViewControllerRegistry registry) {\r\n            registry.addRedirectViewController(&quot;/&quot;, &quot;/index.html&quot;);\r\n        }\r\n    }","title":"Java Spring Boot: How to map my app root (“/”) to index.html?","body":"<p>You can add a RedirectViewController like:</p>\n\n<pre><code>@Configuration\npublic class WebConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addRedirectViewController(\"/\", \"/index.html\");\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1360035,"reputation":7094,"user_id":1297578,"accept_rate":82,"display_name":"Shoham"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267747,"favorite_count":0,"down_vote_count":0,"up_vote_count":172,"accepted_answer_id":27383522,"answer_count":10,"score":172,"last_activity_date":1689272443,"creation_date":1418136572,"question_id":27381781,"body_markdown":"How can I map my app root `http://localhost:8080/` to a static `index.html`?\r\nIf I navigate to `http://localhost:8080/index.html` its works fine.\r\n\r\nMy app structure is :\r\n\r\n![dirs][1]\r\n\r\nMy `config\\WebConfig.java` looks like this:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan\r\n    public class WebConfig extends WebMvcConfigurerAdapter {\r\n    \r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;/**&quot;).addResourceLocations(&quot;/&quot;);\r\n            }\r\n    }\r\n\r\nI tried to add `registry.addResourceHandler(&quot;/&quot;).addResourceLocations(&quot;/index.html&quot;);` but it fails.\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/bMEaw.png","title":"Java Spring Boot: How to map my app root (“/”) to index.html?","body":"<p>How can I map my app root <code>http://localhost:8080/</code> to a static <code>index.html</code>?\nIf I navigate to <code>http://localhost:8080/index.html</code> its works fine.</p>\n<p>My app structure is :</p>\n<p><img src=\"https://i.stack.imgur.com/bMEaw.png\" alt=\"dirs\" /></p>\n<p>My <code>config\\WebConfig.java</code> looks like this:</p>\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan\npublic class WebConfig extends WebMvcConfigurerAdapter {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/**&quot;).addResourceLocations(&quot;/&quot;);\n        }\n}\n</code></pre>\n<p>I tried to add <code>registry.addResourceHandler(&quot;/&quot;).addResourceLocations(&quot;/index.html&quot;);</code> but it fails.</p>\n"},{"tags":["java","spring-boot","drools"],"comments":[{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":1,"creation_date":1604654789,"post_id":64709676,"comment_id":114418787,"body_markdown":"In extreme situations a spanner can be used as a hammer; however, a spanner is not designed to be used as a hammer. Drools is not a good fit for your use case. Suggestion is to use util streams or a more direct approach.","body":"In extreme situations a spanner can be used as a hammer; however, a spanner is not designed to be used as a hammer. Drools is not a good fit for your use case. Suggestion is to use util streams or a more direct approach."}],"answers":[{"tags":[],"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604719176,"creation_date":1604669930,"answer_id":64715682,"question_id":64709676,"body_markdown":"As Ironluca points out in the comments, you are using the wrong tool for the job. The correct solution would be to use Java streams; even a simple for-loop would solve your problem.\r\n\r\nOf course, since you _can_ use a hammer on a screw, you can do this with Drools. I will include an example rule and an explanation, though it will be _much_ less efficient than a stream-based solution (or even a for-loop.)\r\n\r\nI will assume this model, with appropriate getters, setters, and an all-args constructor:\r\n\r\n```\r\nclass Account {\r\n  String name;\r\n  int quantity;\r\n}\r\n```\r\n\r\nThen this rule will populate an &#39;output&#39; list with the &quot;grouped&quot; accounts. I&#39;ve declared this &#39;output&#39; list as a global, which isn&#39;t best-practice but none of this is recommended anyway since it&#39;s not the appropriate tool for the job.\r\n\r\n```\r\nglobal List $output;\r\n\r\nrule &quot;Consolidate duplicates&quot;\r\nwhen\r\n  $inputs: List()\r\n  Account( $name: name ) from $inputs\r\n  $duplicates: List() \r\n               from collect( Account( name == $name ) from $inputs )\r\n  $total: Number()\r\n          from accumulate( Account( $value: quantity ) from $duplicates, sum( $value ) )\r\nthen\r\n  $output.add(new Account($name, $total));\r\nend\r\n```\r\n\r\nThe first part of the rule identifies the subset of Account instances in the input list which share the same name. I use [`collect`](drl-rules-WHEN-elements-ref_drl-rules) because this is a simple subset of the original input. The next step is to use `accumulate` to sum up the quantities from those duplicates. Then we add a new instances to the output list on the rule&#39;s RHS with the consolidated quantity and the shared name. Note that the rule works the same for Accounts which have unique names; there is no constraint on length for `$duplicates`, and the accumulation would just be the one identified quantity.\r\n\r\nModifying `$inputs` in-place is also do-able, but tricky, since you have to worry about concurrent modification exceptions. The much cleaner implementation is to use \r\n\r\n---\r\n\r\nOf course this is way more complicated than it has to be. Java 8 streams provide a `groupingBy` collector which allows you to trivially create a map by a property within the object:\r\n\r\n```\r\nMap&lt;String, List&lt;Account&gt;&gt; accountsByName = accounts.stream()\r\n  .collect(groupingBy(Account::getName));\r\n```\r\n\r\nYou could then easily transform this by iterating over the valueset.\r\n\r\n\r\nThis other question goes into detail for other &#39;summation of duplicates in a stream&#39; scenarios: https://stackoverflow.com/questions/44747750/java-8-stream-sum-entries-for-duplicate-keys","title":"How to Group elements inside the list using drools","body":"<p>As Ironluca points out in the comments, you are using the wrong tool for the job. The correct solution would be to use Java streams; even a simple for-loop would solve your problem.</p>\n<p>Of course, since you <em>can</em> use a hammer on a screw, you can do this with Drools. I will include an example rule and an explanation, though it will be <em>much</em> less efficient than a stream-based solution (or even a for-loop.)</p>\n<p>I will assume this model, with appropriate getters, setters, and an all-args constructor:</p>\n<pre><code>class Account {\n  String name;\n  int quantity;\n}\n</code></pre>\n<p>Then this rule will populate an 'output' list with the &quot;grouped&quot; accounts. I've declared this 'output' list as a global, which isn't best-practice but none of this is recommended anyway since it's not the appropriate tool for the job.</p>\n<pre><code>global List $output;\n\nrule &quot;Consolidate duplicates&quot;\nwhen\n  $inputs: List()\n  Account( $name: name ) from $inputs\n  $duplicates: List() \n               from collect( Account( name == $name ) from $inputs )\n  $total: Number()\n          from accumulate( Account( $value: quantity ) from $duplicates, sum( $value ) )\nthen\n  $output.add(new Account($name, $total));\nend\n</code></pre>\n<p>The first part of the rule identifies the subset of Account instances in the input list which share the same name. I use <code>collect</code> because this is a simple subset of the original input. The next step is to use <code>accumulate</code> to sum up the quantities from those duplicates. Then we add a new instances to the output list on the rule's RHS with the consolidated quantity and the shared name. Note that the rule works the same for Accounts which have unique names; there is no constraint on length for <code>$duplicates</code>, and the accumulation would just be the one identified quantity.</p>\n<p>Modifying <code>$inputs</code> in-place is also do-able, but tricky, since you have to worry about concurrent modification exceptions. The much cleaner implementation is to use</p>\n<hr />\n<p>Of course this is way more complicated than it has to be. Java 8 streams provide a <code>groupingBy</code> collector which allows you to trivially create a map by a property within the object:</p>\n<pre><code>Map&lt;String, List&lt;Account&gt;&gt; accountsByName = accounts.stream()\n  .collect(groupingBy(Account::getName));\n</code></pre>\n<p>You could then easily transform this by iterating over the valueset.</p>\n<p>This other question goes into detail for other 'summation of duplicates in a stream' scenarios: <a href=\"https://stackoverflow.com/questions/44747750/java-8-stream-sum-entries-for-duplicate-keys\">Java 8 stream sum entries for duplicate keys</a></p>\n"},{"tags":[],"owner":{"account_id":13441459,"reputation":1433,"user_id":9698517,"display_name":"Christopher Chianelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689272344,"creation_date":1689272344,"answer_id":76682236,"question_id":64709676,"body_markdown":"Using `groupby`, introduced in Drools `8.41.0.Final`, this is now possible:\r\n\r\n```\r\nrule &quot;Sum account amount by name&quot;\r\nwhen\r\n    groupby(\r\n        $account: /accounts;\r\n        $name: $account.name;\r\n        $total: sum($account.amount)\r\n    )\r\nthen\r\n    System.out.println(&quot;Account &quot; + $name + &quot; has a total of &quot; + $total);\r\nend\r\n```\r\n\r\n(the example given use the OOPath syntax, but the [traditional syntax is also supported][1])\r\n\r\n\r\n  [1]: https://docs.drools.org/8.39.0.Final/drools-docs/docs-website/drools/language-reference/index.html#new-and-traditional-syntax_drl-rules","title":"How to Group elements inside the list using drools","body":"<p>Using <code>groupby</code>, introduced in Drools <code>8.41.0.Final</code>, this is now possible:</p>\n<pre><code>rule &quot;Sum account amount by name&quot;\nwhen\n    groupby(\n        $account: /accounts;\n        $name: $account.name;\n        $total: sum($account.amount)\n    )\nthen\n    System.out.println(&quot;Account &quot; + $name + &quot; has a total of &quot; + $total);\nend\n</code></pre>\n<p>(the example given use the OOPath syntax, but the <a href=\"https://docs.drools.org/8.39.0.Final/drools-docs/docs-website/drools/language-reference/index.html#new-and-traditional-syntax_drl-rules\" rel=\"nofollow noreferrer\">traditional syntax is also supported</a>)</p>\n"}],"owner":{"account_id":19910137,"reputation":1,"user_id":14588301,"display_name":"john"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":743,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1689272344,"creation_date":1604643044,"question_id":64709676,"body_markdown":"I am new to Drools and i am struggling to find the solution for below problem:\r\n\r\nI have a list of Account class:\r\n\r\n    class Account {\r\n        private String name;\r\n        private float amount;\r\n    }\r\n\r\nI want to group the list of Account using name in drools. \r\nFor example:\r\n\r\n    Account a = new Account(&quot;Science&quot;, 100);\r\n    Account b = new Account(&quot;Science&quot;, 200);\r\n    List&lt;Account&gt; list = new ArrayList&lt;String&gt;();\r\n    list.add(a);\r\n    list.add(b);\r\n\r\nNow I need a drool rule that should group the elements inside the list using name and provide the list that will have &quot;Science, 300&quot;.\r\n\r\nPlease suggest.","title":"How to Group elements inside the list using drools","body":"<p>I am new to Drools and i am struggling to find the solution for below problem:</p>\n<p>I have a list of Account class:</p>\n<pre><code>class Account {\n    private String name;\n    private float amount;\n}\n</code></pre>\n<p>I want to group the list of Account using name in drools.\nFor example:</p>\n<pre><code>Account a = new Account(&quot;Science&quot;, 100);\nAccount b = new Account(&quot;Science&quot;, 200);\nList&lt;Account&gt; list = new ArrayList&lt;String&gt;();\nlist.add(a);\nlist.add(b);\n</code></pre>\n<p>Now I need a drool rule that should group the elements inside the list using name and provide the list that will have &quot;Science, 300&quot;.</p>\n<p>Please suggest.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7857,"page":311,"page_size":100}
