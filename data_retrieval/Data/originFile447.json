{"items":[{"tags":["java","groovy","metaprogramming"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1683428751,"post_id":76175027,"comment_id":134364563,"body_markdown":"The heavy part here is parsing. Consider to cache parsed script. Bind&amp;run should be quite fast.","body":"The heavy part here is parsing. Consider to cache parsed script. Bind&amp;run should be quite fast."},{"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"score":0,"creation_date":1683576705,"post_id":76175027,"comment_id":134385155,"body_markdown":"Code is MRE only. Parsed expressions are cached in a `ThreadLocal&lt;Map&lt;String, Expression&gt;&gt;` and the 10x performance comment was observed for bind+run of pre-parsed basic expressions (e.g. `$ROOT$.name.toLowercase()` vs `$ROOT$.with { name.toLowercase()}`)","body":"Code is MRE only. Parsed expressions are cached in a <code>ThreadLocal&lt;Map&lt;String, Expression&gt;&gt;</code> and the 10x performance comment was observed for bind+run of pre-parsed basic expressions (e.g. <code>$ROOT$.name.toLowercase()</code> vs <code>$ROOT$.with { name.toLowercase()}</code>)"}],"answers":[{"comments":[{"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"score":0,"creation_date":1683719357,"post_id":76214245,"comment_id":134409032,"body_markdown":"Nice. Will be a few days before I can give this a try but it looks appropriate","body":"Nice. Will be a few days before I can give this a try but it looks appropriate"},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1683729963,"post_id":76214245,"comment_id":134411973,"body_markdown":"it is still slower then `$ROOT$.empty == true`, but faster then `with closure` approach...","body":"it is still slower then <code>$ROOT$.empty == true</code>, but faster then <code>with closure</code> approach..."}],"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683680179,"creation_date":1683680179,"answer_id":76214245,"question_id":76175027,"body_markdown":"\r\nYou can use DelegatingScript as base class for GroovyShell parser.\r\n\r\nAll expression evaluations will be redirected to `delegate` object.\r\n\r\nhttps://docs.groovy-lang.org/latest/html/api/groovy/util/DelegatingScript.html\r\n\r\nI did code in groovy, but it is very close to java.\r\n\r\n```lang-js\r\n@groovy.transform.CompileStatic\r\ndef test2(Class&lt;DelegatingScript&gt; c){\r\n    println(&quot;start $c&quot;)\r\n    def t = System.currentTimeMillis()\r\n    for(int i=0; i&lt;2000000; i++){\r\n        DelegatingScript e = c.newInstance()\r\n        e.setDelegate(Collections.emptyList())\r\n        e.run()\r\n    }\r\n    println(&quot;  end $c ${(System.currentTimeMillis()-t)/1000} sec&quot;)\r\n}\r\n\r\ndef snippet = &#39;empty == true&#39;\r\ndef cc = new org.codehaus.groovy.control.CompilerConfiguration();\r\ncc.setScriptBaseClass(groovy.util.DelegatingScript.class.getName());\r\nGroovyShell gs2 = new GroovyShell(this.getClass().getClassLoader(), cc);\r\nClass&lt;DelegatingScript&gt; dc = ((DelegatingScript)gs2.parse(snippet)).getClass()\r\n\r\ntest2(dc) //==&gt; 0.68 sec\r\n```","title":"GroovyShell binding with implicit root object","body":"<p>You can use DelegatingScript as base class for GroovyShell parser.</p>\n<p>All expression evaluations will be redirected to <code>delegate</code> object.</p>\n<p><a href=\"https://docs.groovy-lang.org/latest/html/api/groovy/util/DelegatingScript.html\" rel=\"nofollow noreferrer\">https://docs.groovy-lang.org/latest/html/api/groovy/util/DelegatingScript.html</a></p>\n<p>I did code in groovy, but it is very close to java.</p>\n<pre class=\"lang-js prettyprint-override\"><code>@groovy.transform.CompileStatic\ndef test2(Class&lt;DelegatingScript&gt; c){\n    println(&quot;start $c&quot;)\n    def t = System.currentTimeMillis()\n    for(int i=0; i&lt;2000000; i++){\n        DelegatingScript e = c.newInstance()\n        e.setDelegate(Collections.emptyList())\n        e.run()\n    }\n    println(&quot;  end $c ${(System.currentTimeMillis()-t)/1000} sec&quot;)\n}\n\ndef snippet = 'empty == true'\ndef cc = new org.codehaus.groovy.control.CompilerConfiguration();\ncc.setScriptBaseClass(groovy.util.DelegatingScript.class.getName());\nGroovyShell gs2 = new GroovyShell(this.getClass().getClassLoader(), cc);\nClass&lt;DelegatingScript&gt; dc = ((DelegatingScript)gs2.parse(snippet)).getClass()\n\ntest2(dc) //==&gt; 0.68 sec\n</code></pre>\n"}],"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683680179,"creation_date":1683215218,"question_id":76175027,"body_markdown":"The following summarises an attempt to run a snippet of Groovy from a Java application. Snippet `$ROOT$.empty` binds happily to `Collection.isEmpty()` of the bound variable.\r\n\r\n```java\r\nString snippet = &quot;$ROOT$.empty == true&quot;;\r\nExpression e = new GroovyShell().parse(snippet, new Binding());\r\ne.getBinding().setVariable(&quot;$ROOT$&quot;, Collections.emptyList());\r\ne.run();\r\n```\r\n\r\nThe following allows the concise syntax I want by wrapping the snippet as `$ROOT$.with{snippet}`. It means such snippets can be expressed quite neatly against their (known) contextual root object. It is 10x slower during execution though (measured with JMH)\r\n\r\n```java\r\nString snippet = &quot;empty == true&quot;; // &lt;&lt; this is much nicer to see\r\nExpression e = new GroovyShell().parse(&quot;$ROOT$.with{&quot; + snippet + &quot;}&quot;, new Binding());\r\ne.getBinding().setVariable(&quot;$ROOT$&quot;, Collections.emptyList());\r\ne.run();\r\n```\r\n\r\nIs there a (metaprogramming?) way to achieve the same syntax but performant (especially given we know the type of `$ROOT$` when parsing!)\r\n","title":"GroovyShell binding with implicit root object","body":"<p>The following summarises an attempt to run a snippet of Groovy from a Java application. Snippet <code>$ROOT$.empty</code> binds happily to <code>Collection.isEmpty()</code> of the bound variable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String snippet = &quot;$ROOT$.empty == true&quot;;\nExpression e = new GroovyShell().parse(snippet, new Binding());\ne.getBinding().setVariable(&quot;$ROOT$&quot;, Collections.emptyList());\ne.run();\n</code></pre>\n<p>The following allows the concise syntax I want by wrapping the snippet as <code>$ROOT$.with{snippet}</code>. It means such snippets can be expressed quite neatly against their (known) contextual root object. It is 10x slower during execution though (measured with JMH)</p>\n<pre class=\"lang-java prettyprint-override\"><code>String snippet = &quot;empty == true&quot;; // &lt;&lt; this is much nicer to see\nExpression e = new GroovyShell().parse(&quot;$ROOT$.with{&quot; + snippet + &quot;}&quot;, new Binding());\ne.getBinding().setVariable(&quot;$ROOT$&quot;, Collections.emptyList());\ne.run();\n</code></pre>\n<p>Is there a (metaprogramming?) way to achieve the same syntax but performant (especially given we know the type of <code>$ROOT$</code> when parsing!)</p>\n"},{"tags":["java","functional-programming","java-stream"],"answers":[{"comments":[{"owner":{"account_id":28562843,"reputation":1,"user_id":21866129,"display_name":"Mystertea"},"score":0,"creation_date":1683678504,"post_id":76214108,"comment_id":134402601,"body_markdown":"This worked, combined with importing the java.util.Arrays namespace/ package","body":"This worked, combined with importing the java.util.Arrays namespace/ package"},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":1,"creation_date":1683679121,"post_id":76214108,"comment_id":134402646,"body_markdown":"If you are ultimately after the average then collecting with `Collectors.averagingInt` is a more direct approach","body":"If you are ultimately after the average then collecting with <code>Collectors.averagingInt</code> is a more direct approach"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":2,"creation_date":1683679228,"post_id":76214108,"comment_id":134402654,"body_markdown":"@sprinter Indeed, I&#39;ve updated to show the use of `IntStream#average` and `Collectors.averagingInt`.","body":"@sprinter Indeed, I&#39;ve updated to show the use of <code>IntStream#average</code> and <code>Collectors.averagingInt</code>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1683704399,"post_id":76214108,"comment_id":134405588,"body_markdown":"There is no need to multiply with `1d` to convert an `int` to `double`. You could use a type cast, but it’s even simpler to declare `double sum = …` in the first place.","body":"There is no need to multiply with <code>1d</code> to convert an <code>int</code> to <code>double</code>. You could use a type cast, but it’s even simpler to declare <code>double sum = …</code> in the first place."}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683679210,"creation_date":1683677463,"answer_id":76214108,"question_id":76214082,"body_markdown":"There is no `.stream()` method on arrays. \r\n\r\nYou can do the following instead:\r\n1. Use `Arrays.stream` to get a stream of `String`s from `args`.\r\n2. Use `mapToInt` with `Integer.parseInt` to get an `IntStream`.\r\n3. Directly call the `sum` method (which exists on `IntStream`) to get the total.\r\n\r\n```java\r\nint sum = Arrays.stream(args).mapToInt(Integer::parseInt).sum();\r\ndouble average = 1d * sum / args.length;\r\n// Multiplying by the double value 1 is necessary to prevent integer division\r\n```\r\n\r\nThe average can also be obtained directly through [`IntStream#average`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#average--).\r\n\r\n```java\r\ndouble average = Arrays.stream(args).mapToInt(Integer::parseInt).average().orElseThrow();\r\n```\r\n\r\nOr `Collectors.averagingInt`:\r\n\r\n```java\r\ndouble average = Arrays.stream(args).collect(Collectors.averagingInt(Integer::parseInt));\r\n```","title":"Can&#39;t get reducer stream to work in Java. What&#39;s wrong with my code?","body":"<p>There is no <code>.stream()</code> method on arrays.</p>\n<p>You can do the following instead:</p>\n<ol>\n<li>Use <code>Arrays.stream</code> to get a stream of <code>String</code>s from <code>args</code>.</li>\n<li>Use <code>mapToInt</code> with <code>Integer.parseInt</code> to get an <code>IntStream</code>.</li>\n<li>Directly call the <code>sum</code> method (which exists on <code>IntStream</code>) to get the total.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>int sum = Arrays.stream(args).mapToInt(Integer::parseInt).sum();\ndouble average = 1d * sum / args.length;\n// Multiplying by the double value 1 is necessary to prevent integer division\n</code></pre>\n<p>The average can also be obtained directly through <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#average--\" rel=\"nofollow noreferrer\"><code>IntStream#average</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double average = Arrays.stream(args).mapToInt(Integer::parseInt).average().orElseThrow();\n</code></pre>\n<p>Or <code>Collectors.averagingInt</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double average = Arrays.stream(args).collect(Collectors.averagingInt(Integer::parseInt));\n</code></pre>\n"}],"owner":{"account_id":28562843,"reputation":1,"user_id":21866129,"display_name":"Mystertea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683679210,"creation_date":1683677001,"question_id":76214082,"body_markdown":"I want to use a reducer to sum up all the inputs from &#39;args&#39;, then divide by the args length to get the result I&#39;m looking for (just a simple function to learn java). \r\n\r\nI&#39;m following (as far as I can tell) the instructions from every tutorial I can find on getting the stream library to work, but still no luck. TY for any help in advanced.\r\n\r\n\r\n```\r\npublic class AverageNumbers { \r\n   public static void main(String[] args) { \r\n     int x = Integer.parseInt(args[0]); \r\n     int y = Integer.parseInt(args[1]); \r\n     int z = Integer.parseInt(args[2]); \r\n\r\n     int sum = args.stream().reduce(0, (acc, cur) -&gt; Integer.parseInt(acc) + Integer.parseInt(cur), Integer::sum); \r\n  \r\n     // int math = sum / args.length; \r\n\r\n     System.out.println(sum); \r\n   } \r\n} \r\n```\r\n\r\n\r\nI&#39;ve tried:\r\n1. Importing the java.utils.stream function\r\n2. rewriting the stream as Stream.of(args)\r\n3. rewriting the stream to return a string to reduce potential complexity of type casting\r\n","title":"Can&#39;t get reducer stream to work in Java. What&#39;s wrong with my code?","body":"<p>I want to use a reducer to sum up all the inputs from 'args', then divide by the args length to get the result I'm looking for (just a simple function to learn java).</p>\n<p>I'm following (as far as I can tell) the instructions from every tutorial I can find on getting the stream library to work, but still no luck. TY for any help in advanced.</p>\n<pre><code>public class AverageNumbers { \n   public static void main(String[] args) { \n     int x = Integer.parseInt(args[0]); \n     int y = Integer.parseInt(args[1]); \n     int z = Integer.parseInt(args[2]); \n\n     int sum = args.stream().reduce(0, (acc, cur) -&gt; Integer.parseInt(acc) + Integer.parseInt(cur), Integer::sum); \n  \n     // int math = sum / args.length; \n\n     System.out.println(sum); \n   } \n} \n</code></pre>\n<p>I've tried:</p>\n<ol>\n<li>Importing the java.utils.stream function</li>\n<li>rewriting the stream as Stream.of(args)</li>\n<li>rewriting the stream to return a string to reduce potential complexity of type casting</li>\n</ol>\n"},{"tags":["java","jvm","compiler-optimization","jit"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683643536,"post_id":76209595,"comment_id":134396149,"body_markdown":"What version and distribution of the JDK are you using? What are the arguments used to start it? Please share the full literal error message. Are you seeing it in the logs?","body":"What version and distribution of the JDK are you using? What are the arguments used to start it? Please share the full literal error message. Are you seeing it in the logs?"},{"owner":{"account_id":16914392,"reputation":111,"user_id":12232740,"display_name":"vkm"},"score":0,"creation_date":1683715912,"post_id":76209595,"comment_id":134408249,"body_markdown":"@aled Zulu JDK 11 it is. Have enabled PrintCompilation and nothing specific to compilation. This particular message is thrown out by PrintCompilation. \n\n5021138 1171   !   4       sample.SampleClass::sampleMethod (6090 bytes)   COMPILE SKIPPED: unsupported calling sequence (retry at different tier)","body":"@aled Zulu JDK 11 it is. Have enabled PrintCompilation and nothing specific to compilation. This particular message is thrown out by PrintCompilation.   5021138 1171   !   4       sample.SampleClass::sampleMethod (6090 bytes)   COMPILE SKIPPED: unsupported calling sequence (retry at different tier)"}],"answers":[{"comments":[{"owner":{"account_id":16914392,"reputation":111,"user_id":12232740,"display_name":"vkm"},"score":0,"creation_date":1683719443,"post_id":76214192,"comment_id":134409056,"body_markdown":"Thanks a lot. It is providing the required output.","body":"Thanks a lot. It is providing the required output."},{"owner":{"account_id":16914392,"reputation":111,"user_id":12232740,"display_name":"vkm"},"score":0,"creation_date":1683719497,"post_id":76214192,"comment_id":134409071,"body_markdown":"Meanwhile, I&#39;m facing this error while replaying:\n&quot;&#39;ReplayCompiles&#39; is develop and is available only in debug version of VM.&quot;\n\nSo need to recompile the JDK in some other way?","body":"Meanwhile, I&#39;m facing this error while replaying: &quot;&#39;ReplayCompiles&#39; is develop and is available only in debug version of VM.&quot;  So need to recompile the JDK in some other way?"},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1683721039,"post_id":76214192,"comment_id":134409511,"body_markdown":"@vkm Yes, JDK needs to be built with `--enable-debug` option, or you can try prebuilt `fastdebug` binaries from https://builds.shipilev.net","body":"@vkm Yes, JDK needs to be built with <code>--enable-debug</code> option, or you can try prebuilt <code>fastdebug</code> binaries from <a href=\"https://builds.shipilev.net\" rel=\"nofollow noreferrer\">builds.shipilev.net</a>"}],"tags":[],"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683679100,"creation_date":1683679100,"answer_id":76214192,"question_id":76209595,"body_markdown":"You may use `-XX:CompileCommand` to enable recording of replay data for the particular method:\r\n\r\n```\r\njava -XX:CompileCommand=option,ClassName::methodName,DumpReplay ...\r\n```\r\n\r\n`ClassName` and/or `methodName` may be specified as a wildcard with `*`. E.g., to dump replay data for all `java.lang` classes, use\r\n\r\n```\r\njava -XX:CompileCommand=option,java.lang.*::*,DumpReplay ...\r\n```\r\n\r\nReplay data is also automatically saved if JVM crashes during JIT compilation. You may force JVM crash on the compilation failure with the following option:\r\n\r\n```\r\njava -XX:+UnlockDiagnosticVMOptions -XX:+AbortVMOnCompilationFailure ...\r\n```","title":"Generating Compiler replay data file for Java high memory usage during C2 compilation","body":"<p>You may use <code>-XX:CompileCommand</code> to enable recording of replay data for the particular method:</p>\n<pre><code>java -XX:CompileCommand=option,ClassName::methodName,DumpReplay ...\n</code></pre>\n<p><code>ClassName</code> and/or <code>methodName</code> may be specified as a wildcard with <code>*</code>. E.g., to dump replay data for all <code>java.lang</code> classes, use</p>\n<pre><code>java -XX:CompileCommand=option,java.lang.*::*,DumpReplay ...\n</code></pre>\n<p>Replay data is also automatically saved if JVM crashes during JIT compilation. You may force JVM crash on the compilation failure with the following option:</p>\n<pre><code>java -XX:+UnlockDiagnosticVMOptions -XX:+AbortVMOnCompilationFailure ...\n</code></pre>\n"}],"owner":{"account_id":16914392,"reputation":111,"user_id":12232740,"display_name":"vkm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76214192,"answer_count":1,"score":2,"last_activity_date":1683679100,"creation_date":1683636912,"question_id":76209595,"body_markdown":"C2 compiler thread is allocating high memory(Confirmed with the help of Native memory tracking) while compiling a few methods. Issue is reproduced randomly and not able to replicate with a test code.\r\n\r\nThe compilations are actually getting failed with: COMPILE SKIPPED: unsupported calling sequence (retry at different tier)\r\n\r\nHow to record the state of JVM and dump the so called &quot;Compiler_replay_data&quot; file during this problematic compilation?\r\n\r\nIn a few JDK bug reports on JVM crash, could see the replay file is very much helpful. How to generate one such for my high memory footprint case? ","title":"Generating Compiler replay data file for Java high memory usage during C2 compilation","body":"<p>C2 compiler thread is allocating high memory(Confirmed with the help of Native memory tracking) while compiling a few methods. Issue is reproduced randomly and not able to replicate with a test code.</p>\n<p>The compilations are actually getting failed with: COMPILE SKIPPED: unsupported calling sequence (retry at different tier)</p>\n<p>How to record the state of JVM and dump the so called &quot;Compiler_replay_data&quot; file during this problematic compilation?</p>\n<p>In a few JDK bug reports on JVM crash, could see the replay file is very much helpful. How to generate one such for my high memory footprint case?</p>\n"},{"tags":["java","rest-assured","jsonpath","rest-assured-jsonpath"],"answers":[{"comments":[{"owner":{"account_id":1587389,"reputation":13480,"user_id":1471417,"accept_rate":50,"display_name":"Alpha"},"score":0,"creation_date":1579669344,"post_id":59837524,"comment_id":105838752,"body_markdown":"This does not give any error but returns `null` as a value even though there is non-null value.","body":"This does not give any error but returns <code>null</code> as a value even though there is non-null value."}],"tags":[],"owner":{"account_id":907854,"reputation":15741,"user_id":942391,"accept_rate":57,"display_name":"Sumit Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579597687,"creation_date":1579597687,"answer_id":59837524,"question_id":59837470,"body_markdown":"You  have to escape the key with single quotes\r\n\r\nUse below code:\r\n\r\n    String firstName = JsonPath.from(json).getString(&quot;&#39;attributes.First Name&#39;&quot;);","title":"Unable to get value of key with spaces using JsonPath library","body":"<p>You  have to escape the key with single quotes</p>\n\n<p>Use below code:</p>\n\n<pre><code>String firstName = JsonPath.from(json).getString(\"'attributes.First Name'\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1587389,"reputation":13480,"user_id":1471417,"accept_rate":50,"display_name":"Alpha"},"score":0,"creation_date":1579673950,"post_id":59837600,"comment_id":105839972,"body_markdown":"I&#39;ve used `io.rest-assured.rest-assured.4.1.2` which internally uses `io.rest-assured.json-path.4.1.2`","body":"I&#39;ve used <code>io.rest-assured.rest-assured.4.1.2</code> which internally uses <code>io.rest-assured.json-path.4.1.2</code>"},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":1,"creation_date":1579674702,"post_id":59837600,"comment_id":105840217,"body_markdown":"@TDHM So does the solution in this post [How do I get the value of a key if it contains a space in Rest Assured / Serenity?](https://stackoverflow.com/q/45112425/6469772) also not help?","body":"@TDHM So does the solution in this post <a href=\"https://stackoverflow.com/q/45112425/6469772\">How do I get the value of a key if it contains a space in Rest Assured / Serenity?</a> also not help?"},{"owner":{"account_id":1587389,"reputation":13480,"user_id":1471417,"accept_rate":50,"display_name":"Alpha"},"score":0,"creation_date":1579675277,"post_id":59837600,"comment_id":105840402,"body_markdown":"Thanks a lot man it helped! It should be like `attributes.&#39;First Name&#39;`","body":"Thanks a lot man it helped! It should be like <code>attributes.&#39;First Name&#39;</code>"},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1579677301,"post_id":59837600,"comment_id":105841216,"body_markdown":"@TDHM Great! I have updated my post, please check it out!","body":"@TDHM Great! I have updated my post, please check it out!"},{"owner":{"account_id":17849762,"reputation":104,"user_id":12965752,"display_name":"Bhushan"},"score":0,"creation_date":1669207029,"post_id":59837600,"comment_id":131591238,"body_markdown":"Thanks\nI was stuck in this but not it works.\nreturn_reason_(l1) this key was the issue\n$.order_details[0].return_items[0].return_reasons[0][&#39;return_reason_(l1)&#39;].code","body":"Thanks I was stuck in this but not it works. return_reason_(l1) this key was the issue $.order_details[0].return_items[0].return_reasons[0][&#39;return&zwnj;&#8203;_reason_(l1)&#39;].code"}],"tags":[],"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1683678503,"creation_date":1579597987,"answer_id":59837600,"question_id":59837470,"body_markdown":"Try using bracket notation for `First Name` as follows:\r\n\r\n    String firstName = JsonPath.from(json).getString(&quot;attributes.[&#39;First Name&#39;]&quot;);\r\n\r\n\r\n----------\r\n**UPDATE**\r\n\r\nSorry for mixing different `JsonPath` libraries up.\r\n\r\nIf you are using `com.jayway.jsonpath`, try following way for escaping:\r\n\r\n    DocumentContext jsonContext = JsonPath.parse(json);\r\n    String firstName = jsonContext.read(&quot;$.attributes.[&#39;First Name&#39;]&quot;);\r\n\r\n\r\nBut if you are using `***.restassured.json-path`, please use this one:\r\n\r\n    String firstName = JsonPath.from(json).getString(&quot;attributes.&#39;First Name&#39;&quot;);","title":"Unable to get value of key with spaces using JsonPath library","body":"<p>Try using bracket notation for <code>First Name</code> as follows:</p>\n<pre><code>String firstName = JsonPath.from(json).getString(&quot;attributes.['First Name']&quot;);\n</code></pre>\n<hr />\n<p><strong>UPDATE</strong></p>\n<p>Sorry for mixing different <code>JsonPath</code> libraries up.</p>\n<p>If you are using <code>com.jayway.jsonpath</code>, try following way for escaping:</p>\n<pre><code>DocumentContext jsonContext = JsonPath.parse(json);\nString firstName = jsonContext.read(&quot;$.attributes.['First Name']&quot;);\n</code></pre>\n<p>But if you are using <code>***.restassured.json-path</code>, please use this one:</p>\n<pre><code>String firstName = JsonPath.from(json).getString(&quot;attributes.'First Name'&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17418753,"reputation":11,"user_id":12624698,"display_name":"Ayush kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624633001,"creation_date":1624633001,"answer_id":68133058,"question_id":59837470,"body_markdown":"If you are using **io.restassured.path.json.JsonPath** library then Escape Sequences is required in the path expression.\r\n\r\n    String firstName = JsonPath.from(json).getString(&quot;attributes.\\&quot;First Name\\&quot;&quot;);\r\n\r\n    \\&quot; &lt;-- Insert a double quote character in the text at this point.\r\n\r\nSo your path expression looks like `(attributes.&quot;First Name&quot;)` and can be parsed by JsonPath library \r\n\r\n\r\n\r\n \r\n\r\n\r\n\r\n\r\n","title":"Unable to get value of key with spaces using JsonPath library","body":"<p>If you are using <strong>io.restassured.path.json.JsonPath</strong> library then Escape Sequences is required in the path expression.</p>\n<pre><code>String firstName = JsonPath.from(json).getString(&quot;attributes.\\&quot;First Name\\&quot;&quot;);\n\n\\&quot; &lt;-- Insert a double quote character in the text at this point.\n</code></pre>\n<p>So your path expression looks like <code>(attributes.&quot;First Name&quot;)</code> and can be parsed by JsonPath library</p>\n"}],"owner":{"account_id":1587389,"reputation":13480,"user_id":1471417,"accept_rate":50,"display_name":"Alpha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4683,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59837600,"answer_count":3,"score":1,"last_activity_date":1683678503,"creation_date":1579597460,"question_id":59837470,"body_markdown":"I&#39;m using [Json Path][1] library to parse JSON. I&#39;ve following json which has key with space:\r\n\r\n    {\r\n    \t&quot;attributes&quot;: {\r\n    \t\t&quot;First Name&quot;: &quot;Jim&quot;,\r\n    \t\t&quot;Last Name&quot;: &quot;Rohn&quot;\r\n    \t}\r\n    }\r\n\r\nIn order to get value of `First Name`, I wrote code like (where `json` is object which holds above json) -\r\n\r\n    String firstName = JsonPath.from(json).getString(&quot;attributes.First Name&quot;);\r\n\r\nBut it results into following error - \r\n\r\n    java.lang.IllegalArgumentException: Invalid JSON expression:\r\n    Script1.groovy: 1: expecting EOF, found &#39;Attributes&#39; @ line 1, column 67.\r\n       .First Name\r\n\r\nCould you please suggest how to get values of key having spaces using `json-path` library?\r\n\r\n  [1]: https://mvnrepository.com/artifact/io.rest-assured/json-path/3.0.0","title":"Unable to get value of key with spaces using JsonPath library","body":"<p>I'm using <a href=\"https://mvnrepository.com/artifact/io.rest-assured/json-path/3.0.0\" rel=\"nofollow noreferrer\">Json Path</a> library to parse JSON. I've following json which has key with space:</p>\n\n<pre><code>{\n    \"attributes\": {\n        \"First Name\": \"Jim\",\n        \"Last Name\": \"Rohn\"\n    }\n}\n</code></pre>\n\n<p>In order to get value of <code>First Name</code>, I wrote code like (where <code>json</code> is object which holds above json) -</p>\n\n<pre><code>String firstName = JsonPath.from(json).getString(\"attributes.First Name\");\n</code></pre>\n\n<p>But it results into following error - </p>\n\n<pre><code>java.lang.IllegalArgumentException: Invalid JSON expression:\nScript1.groovy: 1: expecting EOF, found 'Attributes' @ line 1, column 67.\n   .First Name\n</code></pre>\n\n<p>Could you please suggest how to get values of key having spaces using <code>json-path</code> library?</p>\n"},{"tags":["java","json","sorting","elasticsearch"],"owner":{"account_id":2327231,"reputation":81,"user_id":2041427,"accept_rate":50,"display_name":"user2041427"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683675719,"creation_date":1683675719,"question_id":76214016,"body_markdown":"I&#39;m trying to create a [SortOptions][1] object for an elastic search query using the [Create API objects from JSON data][2] method. But I keep getting the following exception:\r\n\r\n```\r\nclass co.elastic.clients.json.JsonpDeserializer$3 cannot be cast to class co.elastic.clients.json.ObjectDeserializer (co.elastic.clients.json.JsonpDeserializer$3 and co.elastic.clients.json.ObjectDeserializer are in unnamed module of loader &#39;app&#39;)\r\njava.lang.ClassCastException: class co.elastic.clients.json.JsonpDeserializer$3 cannot be cast to class co.elastic.clients.json.ObjectDeserializer (co.elastic.clients.json.JsonpDeserializer$3 and co.elastic.clients.json.ObjectDeserializer are in unnamed module of loader &#39;app&#39;)\r\n\tat co.elastic.clients.util.WithJsonObjectBuilderBase.withJson(WithJsonObjectBuilderBase.java:53)\r\n\tat co.elastic.clients.json.WithJson.withJson(WithJson.java:57)\r\n\tat ElasticsearchFromJsonTest.lambda$parseSortOptions$0(ElasticsearchFromJsonTest.java:27)\r\n\tat co.elastic.clients.elasticsearch._types.SortOptions.of(SortOptions.java:119)\r\n\tat ElasticsearchFromJsonTest.parseSortOptions(ElasticsearchFromJsonTest.java:27)\r\n...\r\n```\r\n\r\nCode sample:\r\n\r\n```\r\nimport co.elastic.clients.elasticsearch._types.SortOptions;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport java.io.StringReader;\r\n\r\npublic class ElasticsearchFromJsonTest {\r\n\r\n    @Test\r\n    void parseSortOptions(){\r\n\r\n        String test = &quot;&quot;&quot;\r\n                {\r\n                  &quot;sort&quot; : [\r\n                    { &quot;term&quot; : &quot;asc&quot;}\r\n                  ]\r\n                }\r\n                &quot;&quot;&quot;;\r\n\r\n        SortOptions so = SortOptions.of(b-&gt;b.withJson(new StringReader(test)));\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nI&#39;ve also tried setting `test` to:\r\n```\r\n[{&quot;term&quot; : &quot;asc&quot;}]\r\n```\r\nAnd got the same results. \r\n\r\n\r\nJava client library version: `co.elastic.clients:elasticsearch-java:8.7.1` \r\n\r\n\r\n  [1]: https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.7.1/co/elastic/clients/elasticsearch/_types/SortOptions.html\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/loading-json.html#loading-json","title":"Class cast exception when creating elasticsearch SortOptions using builder withJson()","body":"<p>I'm trying to create a <a href=\"https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.7.1/co/elastic/clients/elasticsearch/_types/SortOptions.html\" rel=\"nofollow noreferrer\">SortOptions</a> object for an elastic search query using the <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/loading-json.html#loading-json\" rel=\"nofollow noreferrer\">Create API objects from JSON data</a> method. But I keep getting the following exception:</p>\n<pre><code>class co.elastic.clients.json.JsonpDeserializer$3 cannot be cast to class co.elastic.clients.json.ObjectDeserializer (co.elastic.clients.json.JsonpDeserializer$3 and co.elastic.clients.json.ObjectDeserializer are in unnamed module of loader 'app')\njava.lang.ClassCastException: class co.elastic.clients.json.JsonpDeserializer$3 cannot be cast to class co.elastic.clients.json.ObjectDeserializer (co.elastic.clients.json.JsonpDeserializer$3 and co.elastic.clients.json.ObjectDeserializer are in unnamed module of loader 'app')\n    at co.elastic.clients.util.WithJsonObjectBuilderBase.withJson(WithJsonObjectBuilderBase.java:53)\n    at co.elastic.clients.json.WithJson.withJson(WithJson.java:57)\n    at ElasticsearchFromJsonTest.lambda$parseSortOptions$0(ElasticsearchFromJsonTest.java:27)\n    at co.elastic.clients.elasticsearch._types.SortOptions.of(SortOptions.java:119)\n    at ElasticsearchFromJsonTest.parseSortOptions(ElasticsearchFromJsonTest.java:27)\n...\n</code></pre>\n<p>Code sample:</p>\n<pre><code>import co.elastic.clients.elasticsearch._types.SortOptions;\n\nimport org.junit.jupiter.api.Test;\nimport java.io.StringReader;\n\npublic class ElasticsearchFromJsonTest {\n\n    @Test\n    void parseSortOptions(){\n\n        String test = &quot;&quot;&quot;\n                {\n                  &quot;sort&quot; : [\n                    { &quot;term&quot; : &quot;asc&quot;}\n                  ]\n                }\n                &quot;&quot;&quot;;\n\n        SortOptions so = SortOptions.of(b-&gt;b.withJson(new StringReader(test)));\n\n    }\n\n}\n\n</code></pre>\n<p>I've also tried setting <code>test</code> to:</p>\n<pre><code>[{&quot;term&quot; : &quot;asc&quot;}]\n</code></pre>\n<p>And got the same results.</p>\n<p>Java client library version: <code>co.elastic.clients:elasticsearch-java:8.7.1</code></p>\n"},{"tags":["java","spring","spring-boot","junit","spring-test"],"owner":{"account_id":6306550,"reputation":33,"user_id":4899476,"display_name":"Ilyas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683674957,"creation_date":1683674957,"question_id":76213974,"body_markdown":"I&#39;m trying to test my simple web application using `@WebMvcTest`. I have only 2 controllers `HomeController` and `PersonController` in my app. I want to instantiate only one controller in one test class. To do so, I use `controllers` field of the [`@WebMvcTest`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.html) annotation. But it looks like this field is ignored and both controllers are instantiated. Because even when I specify only one controller in my test, request handler of other controller pass the test. Could you let me know, what&#39;s wrong here, please?\r\n\r\nI work with\r\nopenjdk version &quot;17.0.5&quot;\r\nspringBoot version &quot;3.0.4&quot;\r\nspring-boot-starter-test version &quot;3.0.4&quot;\r\n\r\nThere are 2 controllers, I omitted my configuration file.\r\n\r\n```\r\n@Controller\r\npublic class HomeController {\r\n\r\n    @RequestMapping(value = {&quot;/home&quot;}, method = RequestMethod.GET)\r\n    public String home(Model model) \r\n    }\r\n}\r\n\r\n@Controller\r\npublic class PersonController {\r\n\r\n}\r\n```\r\n\r\nThis is my test\r\n\r\n```\r\n@WebMvcTest(controllers = {PersonController.class})//I specify to test empty PersonController\r\npublic class MyWebMvcTest {\r\n\r\n    @Autowired\r\n    MockMvc mockMvc;\r\n\r\n    @Test\r\n    void testHomeIsOk() throws Exception {\r\n        mockMvc\r\n                .perform(get(&quot;/home&quot;))\r\n                .andExpect(status().isOk());\r\n        // still pass the test, allthough /home request is handled in HomeController \r\n    }\r\n}\r\n```","title":"Spring @WebMvcTest ignores field &quot;controllers&quot;","body":"<p>I'm trying to test my simple web application using <code>@WebMvcTest</code>. I have only 2 controllers <code>HomeController</code> and <code>PersonController</code> in my app. I want to instantiate only one controller in one test class. To do so, I use <code>controllers</code> field of the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/WebMvcTest.html\" rel=\"nofollow noreferrer\"><code>@WebMvcTest</code></a> annotation. But it looks like this field is ignored and both controllers are instantiated. Because even when I specify only one controller in my test, request handler of other controller pass the test. Could you let me know, what's wrong here, please?</p>\n<p>I work with\nopenjdk version &quot;17.0.5&quot;\nspringBoot version &quot;3.0.4&quot;\nspring-boot-starter-test version &quot;3.0.4&quot;</p>\n<p>There are 2 controllers, I omitted my configuration file.</p>\n<pre><code>@Controller\npublic class HomeController {\n\n    @RequestMapping(value = {&quot;/home&quot;}, method = RequestMethod.GET)\n    public String home(Model model) \n    }\n}\n\n@Controller\npublic class PersonController {\n\n}\n</code></pre>\n<p>This is my test</p>\n<pre><code>@WebMvcTest(controllers = {PersonController.class})//I specify to test empty PersonController\npublic class MyWebMvcTest {\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @Test\n    void testHomeIsOk() throws Exception {\n        mockMvc\n                .perform(get(&quot;/home&quot;))\n                .andExpect(status().isOk());\n        // still pass the test, allthough /home request is handled in HomeController \n    }\n}\n</code></pre>\n"},{"tags":["java","spring","jpa","orm"],"comments":[{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":1,"creation_date":1591161346,"post_id":62165657,"comment_id":109946339,"body_markdown":"hibernate . . .","body":"hibernate . . ."}],"answers":[{"comments":[{"owner":{"account_id":5330792,"reputation":787,"user_id":4251391,"display_name":"august0490"},"score":0,"creation_date":1685470183,"post_id":62681889,"comment_id":134663660,"body_markdown":"That was not the question. He is asking which the default JPA provider.","body":"That was not the question. He is asking which the default JPA provider."}],"tags":[],"owner":{"account_id":16093402,"reputation":1,"user_id":11616251,"display_name":"Mostafa Ahmadi"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1593623016,"creation_date":1593623016,"answer_id":62681889,"question_id":62165657,"body_markdown":"Spring Data JPA is not a JPA provider. It is a library/framework that adds an extra layer of abstraction on the top of our JPA provider.\r\n\r\nHibernate is a JPA implementation, while Spring Data JPA is a JPA Data Access Abstraction. Spring Data offers a solution to **GenericDao** custom implementations. It can also generate JPA queries on your behalf through method name conventions.\r\n\r\nWith Spring Data, you may use Hibernate, Eclipse Link, or any other JPA provider\r\n\r\n\r\n[you should study this blog][1]\r\n\r\n\r\n  [1]: https://dzone.com/articles/what-is-the-difference-between-hibernate-and-sprin-1","title":"What is default ORM provider in spring data JPA","body":"<p>Spring Data JPA is not a JPA provider. It is a library/framework that adds an extra layer of abstraction on the top of our JPA provider.</p>\n<p>Hibernate is a JPA implementation, while Spring Data JPA is a JPA Data Access Abstraction. Spring Data offers a solution to <strong>GenericDao</strong> custom implementations. It can also generate JPA queries on your behalf through method name conventions.</p>\n<p>With Spring Data, you may use Hibernate, Eclipse Link, or any other JPA provider</p>\n<p><a href=\"https://dzone.com/articles/what-is-the-difference-between-hibernate-and-sprin-1\" rel=\"nofollow noreferrer\">you should study this blog</a></p>\n"},{"tags":[],"owner":{"account_id":5330792,"reputation":787,"user_id":4251391,"display_name":"august0490"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683674295,"creation_date":1683674295,"answer_id":76213937,"question_id":62165657,"body_markdown":"Hibernate is the default Spring JPA implementation.\r\n\r\n&gt; Spring Boot configures Hibernate as the default JPA provider.\r\n\r\nhttps://www.baeldung.com/the-persistence-layer-with-spring-and-jpa#2-configuration\r\n","title":"What is default ORM provider in spring data JPA","body":"<p>Hibernate is the default Spring JPA implementation.</p>\n<blockquote>\n<p>Spring Boot configures Hibernate as the default JPA provider.</p>\n</blockquote>\n<p><a href=\"https://www.baeldung.com/the-persistence-layer-with-spring-and-jpa#2-configuration\" rel=\"nofollow noreferrer\">https://www.baeldung.com/the-persistence-layer-with-spring-and-jpa#2-configuration</a></p>\n"}],"owner":{"account_id":2856439,"reputation":21,"user_id":2452615,"display_name":"commonDeveloper"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683674295,"creation_date":1591161263,"question_id":62165657,"body_markdown":"What is the default ORM provider for spring data if I don&#39;t mention about any ORM providers in my configurations?","title":"What is default ORM provider in spring data JPA","body":"<p>What is the default ORM provider for spring data if I don't mention about any ORM providers in my configurations?</p>\n"},{"tags":["java","android","api"],"owner":{"account_id":28260307,"reputation":11,"user_id":21605117,"display_name":"whisper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683672845,"creation_date":1683645613,"question_id":76210928,"body_markdown":"I am making an Android app that shows hospitals in a circular area of 3km. I have an http request for Overpass API that works fine when used in browser. But for some reason doesn&#39;t work in my code.\r\n```\r\npackage com.example.ilovemilfs;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\n\r\nimport android.Manifest;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.IntentSender;\r\nimport android.content.pm.PackageManager;\r\nimport android.location.Address;\r\nimport android.location.Geocoder;\r\nimport android.location.Location;\r\nimport android.location.LocationManager;\r\nimport android.net.wifi.hotspot2.pps.HomeSp;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.common.api.ApiException;\r\nimport com.google.android.gms.common.api.ResolvableApiException;\r\nimport com.google.android.gms.location.FusedLocationProviderClient;\r\nimport com.google.android.gms.location.LocationRequest;\r\nimport com.google.android.gms.location.LocationServices;\r\nimport com.google.android.gms.location.LocationSettingsRequest;\r\nimport com.google.android.gms.location.LocationSettingsResponse;\r\nimport com.google.android.gms.location.LocationSettingsStatusCodes;\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity implements OnMapReadyCallback {\r\n\r\n    GoogleMap mMap;\r\n    GoogleMap googleMap;\r\n    String link;\r\n    SupportMapFragment suppMapFragment;\r\n    Location currentLocation;\r\n    FusedLocationProviderClient client;\r\n    private static final int REQUEST_CODE = 101;\r\n    LocationRequest locationRequest;\r\n    private LocationManager LManager;\r\n    private JSONObject jsonObject;\r\n    String googlePlacesData;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        client = LocationServices.getFusedLocationProviderClient(this);\r\n        fetchLastLocation();\r\n\r\n        LManager = (LocationManager) getSystemService(LOCATION_SERVICE);\r\n    }\r\n\r\n    private void fetchLastLocation() {\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_CODE);\r\n            CheckGps();\r\n            return;\r\n        }\r\n        Task&lt;Location&gt; task = client.getLastLocation();\r\n        task.addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\r\n            @Override\r\n            public void onSuccess(Location location) {\r\n                if (location != null) {\r\n                    currentLocation = location;\r\n                    suppMapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.maps);\r\n                    suppMapFragment.getMapAsync(MainActivity.this);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onMapReady(@NonNull GoogleMap googleMap) {\r\n        LatLng latLng = new LatLng(currentLocation.getLatitude(), currentLocation.getLongitude());\r\n        MarkerOptions markerOptions = new MarkerOptions().position(latLng).title(&quot;You are here!&quot;);\r\n        googleMap.animateCamera(CameraUpdateFactory.newLatLng(latLng));\r\n        googleMap.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng, 17));\r\n        googleMap.addMarker(markerOptions);\r\n\r\n        googleMap.getUiSettings().setMyLocationButtonEnabled(true);\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n            return;\r\n        }\r\n        googleMap.setMyLocationEnabled(true);\r\n\r\n        }\r\n\r\n    private void CheckGps() {\r\n        locationRequest = LocationRequest.create();\r\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        locationRequest.setInterval(5000);\r\n        locationRequest.setFastestInterval(3000);\r\n\r\n        LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder().addLocationRequest(locationRequest).setAlwaysShow(true);\r\n\r\n        Task&lt;LocationSettingsResponse&gt; locationSettingsResponseTask = LocationServices.getSettingsClient(getApplicationContext()).checkLocationSettings(builder.build());\r\n\r\n        locationSettingsResponseTask.addOnCompleteListener(new OnCompleteListener&lt;LocationSettingsResponse&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;LocationSettingsResponse&gt; task) {\r\n                try {\r\n                    LocationSettingsResponse response = task.getResult(ApiException.class);\r\n                    Toast.makeText(MainActivity.this, &quot;Gps is already enabled&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                } catch (ApiException e) {\r\n                    if (e.getStatusCode() == LocationSettingsStatusCodes.RESOLUTION_REQUIRED) {\r\n                        ResolvableApiException resolvableApiException = (ResolvableApiException) e;\r\n                        try {\r\n                            resolvableApiException.startResolutionForResult(MainActivity.this, 101);\r\n                        } catch (IntentSender.SendIntentException ex) {\r\n                            throw new RuntimeException(ex);\r\n                        }\r\n                    }\r\n                    if (e.getStatusCode() == LocationSettingsStatusCodes.SETTINGS_CHANGE_UNAVAILABLE) {\r\n                        Toast.makeText(MainActivity.this, &quot;Setting not available&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        switch (requestCode) {\r\n            case REQUEST_CODE:\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    fetchLastLocation();\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if(requestCode==101){\r\n            if(resultCode==RESULT_OK){\r\n                Toast.makeText(this, &quot;GPS is enabled&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            if(resultCode==RESULT_CANCELED){\r\n                Toast.makeText(this, &quot;Denied GPS permission&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    public void ibLokacija(View view){\r\n        CheckGps();\r\n    }\r\n\r\n    public void ibRefreshRef(View view){\r\n        Intent intent = getIntent();\r\n        finish();\r\n        startActivity(intent);\r\n    }\r\n\r\n    public void ibHospital(View view){\r\n        NearbyHospitals(currentLocation);\r\n    }\r\n\r\n    public void NearbyHospitals(Location l){\r\n        ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n        Handler handler = new Handler(Looper.getMainLooper());\r\n\r\n        executorService.execute(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try{\r\n                    String uri = &quot;https://overpass-api.de/api/interpreter?data=[out:json][timeout:25];(node%5B%22amenity%22%3D%22hospital%22%5D(around%3A3000%2C%20&quot; + String.valueOf(l.getLatitude()) + &quot;%2C%20&quot; + String.valueOf(l.getLongitude())\r\n                            + &quot;)%3Bway%5B%22amenity%22%3D%22hospital%22%5D(around%3A3000%2C%20&quot; + String.valueOf(l.getLatitude()) + &quot;%2C%20&quot; + String.valueOf(l.getLongitude())\r\n                            + &quot;)%3Brelation%5B%22amenity%22%3D%22hospital%22%5D(around%3A3000%2C%20&quot; + String.valueOf(l.getLatitude()) + &quot;%2C%20&quot; + String.valueOf(l.getLongitude()) + &quot;);)%3Bout%20body;&quot;;\r\n\r\n                    URL url = new URL(uri);\r\n\r\n                    HttpURLConnection huc = (HttpURLConnection) url.openConnection();\r\n\r\n                    InputStream inputStream = (InputStream) huc.getContent();\r\n                    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream, &quot;utf-8&quot;));\r\n                    StringBuilder stringBuilder = new StringBuilder();\r\n\r\n                    String line = null;\r\n                    while((line = bufferedReader.readLine()) != null){\r\n                        stringBuilder.append(line + &quot;\\n&quot;);\r\n                    }\r\n                    inputStream.close();\r\n                    Toast.makeText(MainActivity.this, stringBuilder.toString(), Toast.LENGTH_SHORT).show();\r\n                    Hospitals(stringBuilder.toString());\r\n                }\r\n                catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                handler.post(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        System.out.println(jsonObject);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    private void Hospitals(String s) {\r\n        try {\r\n            JSONObject jsonObject = new JSONObject(s);\r\n            JSONArray jsonArray = jsonObject.getJSONArray(&quot;results&quot;);\r\n\r\n            for(int i = 0; i &lt; jsonArray.length(); i++){\r\n                JSONObject jsonObject1 = jsonArray.getJSONObject(i);\r\n                JSONObject locationJSON = jsonObject1.getJSONObject(&quot;elements&quot;).getJSONObject(&quot;tags&quot;);\r\n                JSONObject nameJSON = jsonObject1.getJSONObject(&quot;elements&quot;).getJSONObject(&quot;tags&quot;);\r\n\r\n                String street = locationJSON.getString(&quot;addr:street&quot;);\r\n                String address = locationJSON.getString(&quot;addr:housenumber&quot;);\r\n                String name = nameJSON.getString(&quot;name&quot;);\r\n\r\n                LatLng latLng = getLocationFromAddress(this, street + address);\r\n\r\n                MarkerOptions markerOptions = new MarkerOptions();\r\n                markerOptions.title(name);\r\n                markerOptions.position(latLng);\r\n\r\n                mMap.addMarker(markerOptions);\r\n            }\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public LatLng getLocationFromAddress(Context context, String strAddress){\r\n        Geocoder geocoder = new Geocoder(context);\r\n        List&lt;Address&gt; addresses;\r\n        LatLng p1 = null;\r\n\r\n        try{\r\n            addresses = geocoder.getFromLocationName(strAddress, 10);\r\n            if(addresses == null){\r\n                return null;\r\n            }\r\n            Address location = addresses.get(0);\r\n            location.getLatitude();\r\n            location.getLongitude();\r\n\r\n            p1 = new LatLng(location.getLatitude(), location.getLongitude());\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return p1;\r\n    }\r\n\r\n}\r\n```\r\nThis is the whole code for my app.\r\n\r\nThe `getLocationFromAddress` is a method that returns `lat` and `lon` from the json file, since from a couple of tests not every time I got lat and lon in the JSON.\r\n\r\nThe buttons are for testing functions, they won&#39;t be there after the code is finished.\r\n\r\nI have tried switching `NearbyHospitals` from `public void` to `public string` and returning a string, but it didn&#39;t work.\r\n\r\nThis is the result from the http request, with manually entered coordinates(lat, lon):\r\n```{\r\n  &quot;version&quot;: 0.6,\r\n  &quot;generator&quot;: &quot;Overpass API 0.7.60.2 e4cf9f7a&quot;,\r\n  &quot;osm3s&quot;: {\r\n    &quot;timestamp_osm_base&quot;: &quot;2023-05-09T21:41:23Z&quot;,\r\n    &quot;copyright&quot;: &quot;The data included in this document is from www.openstreetmap.org. The data is made available under ODbL.&quot;\r\n  },\r\n  &quot;elements&quot;: [\r\n\r\n{\r\n  &quot;type&quot;: &quot;node&quot;,\r\n  &quot;id&quot;: 8365827932,\r\n  &quot;lat&quot;: 44.8719332,\r\n  &quot;lon&quot;: 20.6440964,\r\n  &quot;tags&quot;: {\r\n    &quot;amenity&quot;: &quot;hospital&quot;,\r\n    &quot;healthcare&quot;: &quot;hospital&quot;,\r\n    &quot;name&quot;: &quot;Хитна помоћ&quot;,\r\n    &quot;name:sr&quot;: &quot;Хитна помоћ&quot;,\r\n    &quot;name:sr-Latn&quot;: &quot;Hitna pomoć&quot;\r\n  }\r\n},\r\n{\r\n  &quot;type&quot;: &quot;way&quot;,\r\n  &quot;id&quot;: 549923685,\r\n  &quot;nodes&quot;: [\r\n    4991849837,\r\n    4991849838,\r\n    5312096854,\r\n    5312096853,\r\n    5312096852,\r\n    5312096851,\r\n    5312096850,\r\n    7029526213,\r\n    5312096849,\r\n    4991849837\r\n  ],\r\n  &quot;tags&quot;: {\r\n    &quot;addr:country&quot;: &quot;RS&quot;,\r\n    &quot;addr:housenumber&quot;: &quot;11&quot;,\r\n    &quot;addr:postcode&quot;: &quot;26101&quot;,\r\n    &quot;addr:street&quot;: &quot;Miloša Trebinjca&quot;,\r\n    &quot;amenity&quot;: &quot;hospital&quot;,\r\n    &quot;email&quot;: &quot;opstabolnica@bolnicapancevo.rs&quot;,\r\n    &quot;healthcare&quot;: &quot;hospital&quot;,\r\n    &quot;name&quot;: &quot;Opšta bolnica Pančevo&quot;,\r\n    &quot;name:sr&quot;: &quot;Општа болница Панчево&quot;,\r\n    &quot;name:sr-Latn&quot;: &quot;Opšta bolnica Pančevo&quot;,\r\n    &quot;operator:type&quot;: &quot;government&quot;,\r\n    &quot;phone&quot;: &quot;013306400&quot;,\r\n    &quot;website&quot;: &quot;https://www.bolnicapancevo.rs/index.html&quot;,\r\n    &quot;wheelchair&quot;: &quot;yes&quot;\r\n  }\r\n}\r\n\r\n  ]\r\n}\r\n```\r\n\r\n\r\nUPDATE: I have managed to narrow it down to a singleproblem. When the method is called, in the Logcat I get this error `java.lang.RuntimeException: org.json.JSONException: No value for elements`. Which, to me, makes no sense, since the `jsonArray` counts 2 hospitals from the JSON file, but in the logs it says there are no values. \r\nThis is the new `Hospitals` method:\r\n```\r\nprivate void Hospitals(String s) {\r\n        try {\r\n            JSONObject jsonObject = new JSONObject(s);\r\n            JSONArray jsonArray = jsonObject.getJSONArray(&quot;elements&quot;);\r\n            Integer integer = jsonArray.length();\r\n            String s1 = integer.toString();\r\n            Log.i(&quot;ayo wtf 1&quot;, s1);\r\n            for(int i = 0; i &lt;= jsonArray.length(); i++){\r\n                JSONObject jsonObject1 = jsonArray.getJSONObject(i);\r\n                JSONObject locationJSON1 = jsonObject1.getJSONObject(&quot;tags&quot;);\r\n                JSONObject locationJSON2 = jsonObject1.getJSONObject(&quot;elements&quot;);\r\n                String name = locationJSON1.getString(&quot;name&quot;);\r\n\r\n                String lat_street = locationJSON2.getString(&quot;lat&quot;);\r\n                String lon_housenumber = locationJSON2.getString(&quot;lon&quot;);\r\n                LatLng latLng = null;\r\n\r\n                if(lat_street != null &amp;&amp; lon_housenumber  != null){\r\n                    latLng = new LatLng(Double.parseDouble(lat_street), Double.parseDouble(lon_housenumber));\r\n                }\r\n                else {\r\n                    lat_street = locationJSON1.getString(&quot;addr:street&quot;);\r\n                    lon_housenumber = locationJSON1.getString(&quot;addr:housenumber&quot;);\r\n                    latLng = getLocationFromAddress(MainActivity.this, lat_street + lon_housenumber);\r\n                }\r\n\r\n                MarkerOptions markerOptions = new MarkerOptions();\r\n                markerOptions.title(name);\r\n                markerOptions.position(latLng);\r\n\r\n                mMap.addMarker(markerOptions);\r\n            }\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```","title":"Finding nearby hospitals with Overpass API","body":"<p>I am making an Android app that shows hospitals in a circular area of 3km. I have an http request for Overpass API that works fine when used in browser. But for some reason doesn't work in my code.</p>\n<pre><code>package com.example.ilovemilfs;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\n\nimport android.Manifest;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentSender;\nimport android.content.pm.PackageManager;\nimport android.location.Address;\nimport android.location.Geocoder;\nimport android.location.Location;\nimport android.location.LocationManager;\nimport android.net.wifi.hotspot2.pps.HomeSp;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.Looper;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Toast;\n\nimport com.google.android.gms.common.api.ApiException;\nimport com.google.android.gms.common.api.ResolvableApiException;\nimport com.google.android.gms.location.FusedLocationProviderClient;\nimport com.google.android.gms.location.LocationRequest;\nimport com.google.android.gms.location.LocationServices;\nimport com.google.android.gms.location.LocationSettingsRequest;\nimport com.google.android.gms.location.LocationSettingsResponse;\nimport com.google.android.gms.location.LocationSettingsStatusCodes;\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MarkerOptions;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.gms.tasks.Task;\n\nimport org.json.JSONArray;\nimport org.json.JSONObject;\n\nimport java.io.BufferedReader;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\n\npublic class MainActivity extends AppCompatActivity implements OnMapReadyCallback {\n\n    GoogleMap mMap;\n    GoogleMap googleMap;\n    String link;\n    SupportMapFragment suppMapFragment;\n    Location currentLocation;\n    FusedLocationProviderClient client;\n    private static final int REQUEST_CODE = 101;\n    LocationRequest locationRequest;\n    private LocationManager LManager;\n    private JSONObject jsonObject;\n    String googlePlacesData;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        client = LocationServices.getFusedLocationProviderClient(this);\n        fetchLastLocation();\n\n        LManager = (LocationManager) getSystemService(LOCATION_SERVICE);\n    }\n\n    private void fetchLastLocation() {\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_CODE);\n            CheckGps();\n            return;\n        }\n        Task&lt;Location&gt; task = client.getLastLocation();\n        task.addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\n            @Override\n            public void onSuccess(Location location) {\n                if (location != null) {\n                    currentLocation = location;\n                    suppMapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.maps);\n                    suppMapFragment.getMapAsync(MainActivity.this);\n                }\n            }\n        });\n    }\n\n\n    @Override\n    public void onMapReady(@NonNull GoogleMap googleMap) {\n        LatLng latLng = new LatLng(currentLocation.getLatitude(), currentLocation.getLongitude());\n        MarkerOptions markerOptions = new MarkerOptions().position(latLng).title(&quot;You are here!&quot;);\n        googleMap.animateCamera(CameraUpdateFactory.newLatLng(latLng));\n        googleMap.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng, 17));\n        googleMap.addMarker(markerOptions);\n\n        googleMap.getUiSettings().setMyLocationButtonEnabled(true);\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n            return;\n        }\n        googleMap.setMyLocationEnabled(true);\n\n        }\n\n    private void CheckGps() {\n        locationRequest = LocationRequest.create();\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n        locationRequest.setInterval(5000);\n        locationRequest.setFastestInterval(3000);\n\n        LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder().addLocationRequest(locationRequest).setAlwaysShow(true);\n\n        Task&lt;LocationSettingsResponse&gt; locationSettingsResponseTask = LocationServices.getSettingsClient(getApplicationContext()).checkLocationSettings(builder.build());\n\n        locationSettingsResponseTask.addOnCompleteListener(new OnCompleteListener&lt;LocationSettingsResponse&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;LocationSettingsResponse&gt; task) {\n                try {\n                    LocationSettingsResponse response = task.getResult(ApiException.class);\n                    Toast.makeText(MainActivity.this, &quot;Gps is already enabled&quot;, Toast.LENGTH_SHORT).show();\n\n                } catch (ApiException e) {\n                    if (e.getStatusCode() == LocationSettingsStatusCodes.RESOLUTION_REQUIRED) {\n                        ResolvableApiException resolvableApiException = (ResolvableApiException) e;\n                        try {\n                            resolvableApiException.startResolutionForResult(MainActivity.this, 101);\n                        } catch (IntentSender.SendIntentException ex) {\n                            throw new RuntimeException(ex);\n                        }\n                    }\n                    if (e.getStatusCode() == LocationSettingsStatusCodes.SETTINGS_CHANGE_UNAVAILABLE) {\n                        Toast.makeText(MainActivity.this, &quot;Setting not available&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            }\n        });\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        switch (requestCode) {\n            case REQUEST_CODE:\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    fetchLastLocation();\n                }\n                break;\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if(requestCode==101){\n            if(resultCode==RESULT_OK){\n                Toast.makeText(this, &quot;GPS is enabled&quot;, Toast.LENGTH_SHORT).show();\n            }\n            if(resultCode==RESULT_CANCELED){\n                Toast.makeText(this, &quot;Denied GPS permission&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n\n\n\n    public void ibLokacija(View view){\n        CheckGps();\n    }\n\n    public void ibRefreshRef(View view){\n        Intent intent = getIntent();\n        finish();\n        startActivity(intent);\n    }\n\n    public void ibHospital(View view){\n        NearbyHospitals(currentLocation);\n    }\n\n    public void NearbyHospitals(Location l){\n        ExecutorService executorService = Executors.newSingleThreadExecutor();\n        Handler handler = new Handler(Looper.getMainLooper());\n\n        executorService.execute(new Runnable() {\n            @Override\n            public void run() {\n                try{\n                    String uri = &quot;https://overpass-api.de/api/interpreter?data=[out:json][timeout:25];(node%5B%22amenity%22%3D%22hospital%22%5D(around%3A3000%2C%20&quot; + String.valueOf(l.getLatitude()) + &quot;%2C%20&quot; + String.valueOf(l.getLongitude())\n                            + &quot;)%3Bway%5B%22amenity%22%3D%22hospital%22%5D(around%3A3000%2C%20&quot; + String.valueOf(l.getLatitude()) + &quot;%2C%20&quot; + String.valueOf(l.getLongitude())\n                            + &quot;)%3Brelation%5B%22amenity%22%3D%22hospital%22%5D(around%3A3000%2C%20&quot; + String.valueOf(l.getLatitude()) + &quot;%2C%20&quot; + String.valueOf(l.getLongitude()) + &quot;);)%3Bout%20body;&quot;;\n\n                    URL url = new URL(uri);\n\n                    HttpURLConnection huc = (HttpURLConnection) url.openConnection();\n\n                    InputStream inputStream = (InputStream) huc.getContent();\n                    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream, &quot;utf-8&quot;));\n                    StringBuilder stringBuilder = new StringBuilder();\n\n                    String line = null;\n                    while((line = bufferedReader.readLine()) != null){\n                        stringBuilder.append(line + &quot;\\n&quot;);\n                    }\n                    inputStream.close();\n                    Toast.makeText(MainActivity.this, stringBuilder.toString(), Toast.LENGTH_SHORT).show();\n                    Hospitals(stringBuilder.toString());\n                }\n                catch (Exception e) {\n                    e.printStackTrace();\n                }\n\n                handler.post(new Runnable() {\n                    @Override\n                    public void run() {\n                        System.out.println(jsonObject);\n                    }\n                });\n            }\n        });\n    }\n\n    private void Hospitals(String s) {\n        try {\n            JSONObject jsonObject = new JSONObject(s);\n            JSONArray jsonArray = jsonObject.getJSONArray(&quot;results&quot;);\n\n            for(int i = 0; i &lt; jsonArray.length(); i++){\n                JSONObject jsonObject1 = jsonArray.getJSONObject(i);\n                JSONObject locationJSON = jsonObject1.getJSONObject(&quot;elements&quot;).getJSONObject(&quot;tags&quot;);\n                JSONObject nameJSON = jsonObject1.getJSONObject(&quot;elements&quot;).getJSONObject(&quot;tags&quot;);\n\n                String street = locationJSON.getString(&quot;addr:street&quot;);\n                String address = locationJSON.getString(&quot;addr:housenumber&quot;);\n                String name = nameJSON.getString(&quot;name&quot;);\n\n                LatLng latLng = getLocationFromAddress(this, street + address);\n\n                MarkerOptions markerOptions = new MarkerOptions();\n                markerOptions.title(name);\n                markerOptions.position(latLng);\n\n                mMap.addMarker(markerOptions);\n            }\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public LatLng getLocationFromAddress(Context context, String strAddress){\n        Geocoder geocoder = new Geocoder(context);\n        List&lt;Address&gt; addresses;\n        LatLng p1 = null;\n\n        try{\n            addresses = geocoder.getFromLocationName(strAddress, 10);\n            if(addresses == null){\n                return null;\n            }\n            Address location = addresses.get(0);\n            location.getLatitude();\n            location.getLongitude();\n\n            p1 = new LatLng(location.getLatitude(), location.getLongitude());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return p1;\n    }\n\n}\n</code></pre>\n<p>This is the whole code for my app.</p>\n<p>The <code>getLocationFromAddress</code> is a method that returns <code>lat</code> and <code>lon</code> from the json file, since from a couple of tests not every time I got lat and lon in the JSON.</p>\n<p>The buttons are for testing functions, they won't be there after the code is finished.</p>\n<p>I have tried switching <code>NearbyHospitals</code> from <code>public void</code> to <code>public string</code> and returning a string, but it didn't work.</p>\n<p>This is the result from the http request, with manually entered coordinates(lat, lon):</p>\n<pre><code>  &quot;version&quot;: 0.6,\n  &quot;generator&quot;: &quot;Overpass API 0.7.60.2 e4cf9f7a&quot;,\n  &quot;osm3s&quot;: {\n    &quot;timestamp_osm_base&quot;: &quot;2023-05-09T21:41:23Z&quot;,\n    &quot;copyright&quot;: &quot;The data included in this document is from www.openstreetmap.org. The data is made available under ODbL.&quot;\n  },\n  &quot;elements&quot;: [\n\n{\n  &quot;type&quot;: &quot;node&quot;,\n  &quot;id&quot;: 8365827932,\n  &quot;lat&quot;: 44.8719332,\n  &quot;lon&quot;: 20.6440964,\n  &quot;tags&quot;: {\n    &quot;amenity&quot;: &quot;hospital&quot;,\n    &quot;healthcare&quot;: &quot;hospital&quot;,\n    &quot;name&quot;: &quot;Хитна помоћ&quot;,\n    &quot;name:sr&quot;: &quot;Хитна помоћ&quot;,\n    &quot;name:sr-Latn&quot;: &quot;Hitna pomoć&quot;\n  }\n},\n{\n  &quot;type&quot;: &quot;way&quot;,\n  &quot;id&quot;: 549923685,\n  &quot;nodes&quot;: [\n    4991849837,\n    4991849838,\n    5312096854,\n    5312096853,\n    5312096852,\n    5312096851,\n    5312096850,\n    7029526213,\n    5312096849,\n    4991849837\n  ],\n  &quot;tags&quot;: {\n    &quot;addr:country&quot;: &quot;RS&quot;,\n    &quot;addr:housenumber&quot;: &quot;11&quot;,\n    &quot;addr:postcode&quot;: &quot;26101&quot;,\n    &quot;addr:street&quot;: &quot;Miloša Trebinjca&quot;,\n    &quot;amenity&quot;: &quot;hospital&quot;,\n    &quot;email&quot;: &quot;opstabolnica@bolnicapancevo.rs&quot;,\n    &quot;healthcare&quot;: &quot;hospital&quot;,\n    &quot;name&quot;: &quot;Opšta bolnica Pančevo&quot;,\n    &quot;name:sr&quot;: &quot;Општа болница Панчево&quot;,\n    &quot;name:sr-Latn&quot;: &quot;Opšta bolnica Pančevo&quot;,\n    &quot;operator:type&quot;: &quot;government&quot;,\n    &quot;phone&quot;: &quot;013306400&quot;,\n    &quot;website&quot;: &quot;https://www.bolnicapancevo.rs/index.html&quot;,\n    &quot;wheelchair&quot;: &quot;yes&quot;\n  }\n}\n\n  ]\n}\n</code></pre>\n<p>UPDATE: I have managed to narrow it down to a singleproblem. When the method is called, in the Logcat I get this error <code>java.lang.RuntimeException: org.json.JSONException: No value for elements</code>. Which, to me, makes no sense, since the <code>jsonArray</code> counts 2 hospitals from the JSON file, but in the logs it says there are no values.\nThis is the new <code>Hospitals</code> method:</p>\n<pre><code>private void Hospitals(String s) {\n        try {\n            JSONObject jsonObject = new JSONObject(s);\n            JSONArray jsonArray = jsonObject.getJSONArray(&quot;elements&quot;);\n            Integer integer = jsonArray.length();\n            String s1 = integer.toString();\n            Log.i(&quot;ayo wtf 1&quot;, s1);\n            for(int i = 0; i &lt;= jsonArray.length(); i++){\n                JSONObject jsonObject1 = jsonArray.getJSONObject(i);\n                JSONObject locationJSON1 = jsonObject1.getJSONObject(&quot;tags&quot;);\n                JSONObject locationJSON2 = jsonObject1.getJSONObject(&quot;elements&quot;);\n                String name = locationJSON1.getString(&quot;name&quot;);\n\n                String lat_street = locationJSON2.getString(&quot;lat&quot;);\n                String lon_housenumber = locationJSON2.getString(&quot;lon&quot;);\n                LatLng latLng = null;\n\n                if(lat_street != null &amp;&amp; lon_housenumber  != null){\n                    latLng = new LatLng(Double.parseDouble(lat_street), Double.parseDouble(lon_housenumber));\n                }\n                else {\n                    lat_street = locationJSON1.getString(&quot;addr:street&quot;);\n                    lon_housenumber = locationJSON1.getString(&quot;addr:housenumber&quot;);\n                    latLng = getLocationFromAddress(MainActivity.this, lat_street + lon_housenumber);\n                }\n\n                MarkerOptions markerOptions = new MarkerOptions();\n                markerOptions.title(name);\n                markerOptions.position(latLng);\n\n                mMap.addMarker(markerOptions);\n            }\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n"},{"tags":["java","intellij-idea","groovy","spock"],"answers":[{"comments":[{"owner":{"account_id":1788781,"reputation":467,"user_id":1629626,"accept_rate":89,"display_name":"SoulCub"},"score":0,"creation_date":1650289189,"post_id":71911554,"comment_id":127073708,"body_markdown":"Yes, but I need to have control over whole test class, not only test method","body":"Yes, but I need to have control over whole test class, not only test method"}],"tags":[],"owner":{"account_id":14879298,"reputation":1234,"user_id":10744483,"display_name":"Olga Klisho"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650283264,"creation_date":1650283264,"answer_id":71911554,"question_id":71909798,"body_markdown":"There is the Spock Test Method template in the &quot;code&quot; pane\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn case you change the template here, you may use it when generating the Spock tests in the following way:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ETScz.png\r\n  [2]: https://i.stack.imgur.com/cvHd8.png","title":"How to change Spock test template in IntellijIdea?","body":"<p>There is the Spock Test Method template in the &quot;code&quot; pane\n<a href=\"https://i.stack.imgur.com/ETScz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ETScz.png\" alt=\"enter image description here\" /></a></p>\n<p>In case you change the template here, you may use it when generating the Spock tests in the following way:\n<a href=\"https://i.stack.imgur.com/cvHd8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cvHd8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2888638,"reputation":10719,"user_id":2477916,"accept_rate":100,"display_name":"Java Devil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683672317,"creation_date":1683672317,"answer_id":76213821,"question_id":71909798,"body_markdown":"I had the same issue. I have since found that the template that you have set up will only work when you go through the \r\n\r\nNew... Spock Specification context menu, (like below)\r\n\r\n[![New Spock Spec][1]][1]\r\n\r\nIn order to have this show when you create a new test class from the class using the dialog you have shown, you need to edit the groovy class template. (After all, the Spock specification is just a groovy class). \r\n\r\nThankfully, with the help of velocity templates I was able to create a conditional on that, to help detect if it is a normal groovy class or a Spock specification. \r\n\r\n[![Groovy Class template][2]][2]\r\n\r\nYou can see from this, I test the name ends with Spec (As that is a naming convention I use for all my Spock Specification classes) and if it does output one template, otherwise it will output a different template.\r\n\r\nYou will also notice that I don&#39;t import, or extend Specification in this as the test creation will do this automatically.\r\n\r\n  [1]: https://i.stack.imgur.com/gZxXI.png\r\n  [2]: https://i.stack.imgur.com/FLYgo.png","title":"How to change Spock test template in IntellijIdea?","body":"<p>I had the same issue. I have since found that the template that you have set up will only work when you go through the</p>\n<p>New... Spock Specification context menu, (like below)</p>\n<p><a href=\"https://i.stack.imgur.com/gZxXI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gZxXI.png\" alt=\"New Spock Spec\" /></a></p>\n<p>In order to have this show when you create a new test class from the class using the dialog you have shown, you need to edit the groovy class template. (After all, the Spock specification is just a groovy class).</p>\n<p>Thankfully, with the help of velocity templates I was able to create a conditional on that, to help detect if it is a normal groovy class or a Spock specification.</p>\n<p><a href=\"https://i.stack.imgur.com/FLYgo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FLYgo.png\" alt=\"Groovy Class template\" /></a></p>\n<p>You can see from this, I test the name ends with Spec (As that is a naming convention I use for all my Spock Specification classes) and if it does output one template, otherwise it will output a different template.</p>\n<p>You will also notice that I don't import, or extend Specification in this as the test creation will do this automatically.</p>\n"}],"owner":{"account_id":1788781,"reputation":467,"user_id":1629626,"accept_rate":89,"display_name":"SoulCub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683672317,"creation_date":1650273074,"question_id":71909798,"body_markdown":"It could be handy to know from where Spock tests are generating and have the possibility to add something there. \r\n\r\nFor now, if to press *(Cmd/Ctrl)+Shift+t* you can see something like this\r\n[![enter image description here][1]][1]\r\n\r\n\r\nwith possibility to change base class and generate some test methods. But how can I add, for example, autogenerated string.\r\n\r\n```WheelGameCreator target = new WheelGameCreator()```\r\n\r\nto each my test?\r\n\r\nI&#39;ve found some templates in File and Code Templates, but changes there have no effect on my newly generated tests.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yBRag.png\r\n  [2]: https://i.stack.imgur.com/3e5Io.png","title":"How to change Spock test template in IntellijIdea?","body":"<p>It could be handy to know from where Spock tests are generating and have the possibility to add something there.</p>\n<p>For now, if to press <em>(Cmd/Ctrl)+Shift+t</em> you can see something like this\n<a href=\"https://i.stack.imgur.com/yBRag.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yBRag.png\" alt=\"enter image description here\" /></a></p>\n<p>with possibility to change base class and generate some test methods. But how can I add, for example, autogenerated string.</p>\n<p><code>WheelGameCreator target = new WheelGameCreator()</code></p>\n<p>to each my test?</p>\n<p>I've found some templates in File and Code Templates, but changes there have no effect on my newly generated tests.\n<a href=\"https://i.stack.imgur.com/3e5Io.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3e5Io.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multithreading","rmi","remote-server","restart"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1462313635,"post_id":37014733,"comment_id":61582664,"body_markdown":"You can&#39;t seriously expect to get an answer to this question without posting some code.","body":"You can&#39;t seriously expect to get an answer to this question without posting some code."},{"owner":{"account_id":2033353,"reputation":168,"user_id":1816384,"accept_rate":100,"display_name":"Arnab Dutta"},"score":0,"creation_date":1462347060,"post_id":37014733,"comment_id":61593137,"body_markdown":"@EJP which code should I paste here ?\n\nI added some code though. Although, Enlarging the picture shows the entire required code needed to give me insight on the issue","body":"@EJP which code should I paste here ?  I added some code though. Although, Enlarging the picture shows the entire required code needed to give me insight on the issue"},{"owner":{"account_id":2033353,"reputation":168,"user_id":1816384,"accept_rate":100,"display_name":"Arnab Dutta"},"score":0,"creation_date":1469302716,"post_id":37014733,"comment_id":64483264,"body_markdown":"@EJP\n   as the solution is not going to help anyone...and it was irrelevant to any server or client code or RMI - so should I delete this question ?","body":"@EJP    as the solution is not going to help anyone...and it was irrelevant to any server or client code or RMI - so should I delete this question ?"},{"owner":{"account_id":2033353,"reputation":168,"user_id":1816384,"accept_rate":100,"display_name":"Arnab Dutta"},"score":0,"creation_date":1469302904,"post_id":37014733,"comment_id":64483320,"body_markdown":"@bohemian\n   As the solution is not related to any of the server or client or RMI codes above (which was the whole popint of discussion) - so shall I delete this question or what ?","body":"@bohemian    As the solution is not related to any of the server or client or RMI codes above (which was the whole popint of discussion) - so shall I delete this question or what ?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683694341,"post_id":37014733,"comment_id":134403914,"body_markdown":"Yes you should delete it. And it is rather late to be adding the code now, seven years after it was requested,","body":"Yes you should delete it. And it is rather late to be adding the code now, seven years after it was requested,"}],"answers":[{"tags":[],"owner":{"account_id":2033353,"reputation":168,"user_id":1816384,"accept_rate":100,"display_name":"Arnab Dutta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469299849,"creation_date":1469299849,"answer_id":38545347,"question_id":37014733,"body_markdown":"From catalina and tomcat logs it became clear - there was a wrong missing JMX entry in the jmx config file which has nothing to do with all above. This caused Tomcat to stop after 85 % of its start. Hence it actually never started. Question can be closed and marked solved.","title":"RMI Client invokes Graceful shutdown. Server Stops. Manually started again. But somehow gets autokilled. Why?","body":"<p>From catalina and tomcat logs it became clear - there was a wrong missing JMX entry in the jmx config file which has nothing to do with all above. This caused Tomcat to stop after 85 % of its start. Hence it actually never started. Question can be closed and marked solved.</p>\n"}],"owner":{"account_id":2033353,"reputation":168,"user_id":1816384,"accept_rate":100,"display_name":"Arnab Dutta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":1,"score":-1,"last_activity_date":1683670396,"creation_date":1462311171,"question_id":37014733,"body_markdown":"Everthing on Java.\r\n\r\nEnvironment: RedHat Linux 12.3\r\n\r\n\r\n    NOTE:  1. Old model: There was NO A.java\r\n                         &quot;script.sh&quot; starts/stops B.java as process\r\n           2. New model: There IS A.java\r\n                         &quot;script.sh&quot; never uses A\r\n                         &quot;script.sh&quot; starts B.java as process.\r\n                         &quot;myGraceful.sh&quot; stops process Gracefully \r\n                         &quot;script.sh&quot; is NEVER used for stopping\r\n                   \r\n\r\n\r\nServer(B.java in server.jar):\r\n\r\n            \r\n\r\n - Java Process triggered as:  ./script.sh {start|stop}\r\n - Its a legacy class existing for 10 yrs or more\r\n - has RemoteB Interface\r\n - has\r\n\r\n                 graceFul(){ ..handles all DB ,user states,connection...etc\r\n                              ..works perfectly from Admin\r\n                              ..invoked as RMI from JSP \r\n                              ..never invoked by script till now\r\n                            }\r\n                 initServer(){...}\r\n                 getUsers(){...}\r\n\r\n \r\n                  \r\nRequirement &amp; My Effort:\r\n-----------------------\r\n  Everyone knows how the code RMI Looks or .sh to invoke java. Hence I dont think pasting a proprietary code should be expected here.\r\n\r\nGraceful needs to be done from shell script on same Server node. On Server everything runniing by Spring. I will die if I try to Inject a Bean as there is going to be 100x1000 dependencies coming in queue. Hence I created \r\n\r\nRMI Client(com/common/task/A.java in same server.jar):\r\n            \r\n            \r\n\r\n 1. A can be triggered by:      ./myGraceful.sh stop (eg. java -cp... com.A 2&gt;&amp;1)\r\n 2. in same server.jar - hence inevitaby loaded (note not running) on same Server node.\r\n 3. having p s v main(String args[])\r\n 4. Forks Thread ..thread calls RMI shutdown on B ...and thread expected\r\n    to die on own.\r\n\r\nProblem:\r\n--------\r\nServer shutting down perfectly. Then If I isssue following command AGAIN and AGAIN:\r\n\r\n              ./script.sh start\r\n\r\nServer starts up. But within a minute it stops automatically. I dont have any clue what and which is stopping the Server. I Observed\r\n\r\nPrior to any of my new modifications:\r\n_____________________________________\r\n\r\n      &quot;./script.sh stop&quot;               [used to work flawlessly calling kill -9 $pid ]\r\n      &quot;ps - aefwww | grep java&quot;         used to show:\r\n\r\n     pid ppid.. /usr/java/jdk/bin/java ........java -D....  -Djava.timeout=..  -D....\r\n     pid ppid.. .../abc/ ....java...\r\n     pid ppid.. .../xyz/ .................java...\r\n\r\nBut now\r\n__________________________\r\n\r\n&quot;./myGraceful.sh stop&quot;  triggers modified server.jar(which now has A.java): \r\n\r\n      &quot;ps - aefwww | grep java&quot;  shows:\r\n     pid ppid.. .../abc/ ....java...\r\n     pid ppid.. .../xyz/ .................java...\r\n\r\nHere goes some code:\r\n------------\r\n\r\n    myGraceful.sh:\r\n    ----------------\r\n        #!/bin/bash\r\n        CLASSPATH=$COMMON_CLASS_PATH:$LIB_INHOUSE/server.jar\r\n        rmiIp=x.y.zz.www [hidden]\r\n        rmiPort=xxxx [hidden]\r\n        peerId=1\r\n        period=5\r\n        \r\n        function kill_server(){\r\n        \techo -n &quot;Shutting down Server ($pid): &quot;\r\n        \t\techo &quot;executing Arnab&quot; \r\n        \t\techo &quot;arg0 : $0 pid : $pid&quot;\t\t\r\n        \t\tjava -Djava.rmi.server.hostname=localhost \\\r\n        \t\t\t com.common.task.GracefulRunner $rmiIp $rmiPort $peerId $period  2&gt;&amp;1\r\n        \t\techo Done\r\n        }\r\n        case &quot;$1&quot; in\r\n        start)\r\n                get_pids &quot;CustomBootstrap&quot; $2\r\n        \t\tif [ &quot;$pid&quot; != &quot;&quot; ] ; then\r\n        \t\t\tget_processname &quot;CustomBootstrap&quot; $2\r\n        \t\t\tif [ &quot;$server&quot; != &quot;&quot; ] ; then\r\n        \t\t\t\techo &quot;Server already running. pid = $pid&quot;\r\n        \t\t\t\texit 1\r\n        \t\t\tfi\r\n        \t\t\tif [ &quot;$ctserver&quot; != &quot;&quot; ] ; then\t\t\t\r\n        \t\t\techo &quot;Shutting down CT Server($pid): &quot;\r\n                        kill -SIGQUIT $pid\r\n                        kill -9 $pid\r\n                        echo Done\r\n        \t\t\tfi\t\r\n        \t\tfi\t\t\t\r\n          \t$0  run $2 1&gt;&amp;2 &amp;\r\n        \tsleep 2\r\n        \t$0  status $2\r\n        \t# $0 err\r\n        \t;;\r\n        stop)\r\n            $0 kill $2\r\n            ;;\r\n\t\tkill)\r\n        \tget_pids &quot;CustomBootstrap&quot; $2\r\n        \tif [ &quot;$pid&quot; != &quot;&quot; ] ; then\r\n        \t\tkill_server\r\n        \t\techo &quot;Server  ended at `date`&quot; \r\n        \telse\r\n        \t   \tget_pids &quot;Launcher&quot; $2\r\n        \t\tif [ &quot;$pid&quot; != &quot;&quot; ] ; then\r\n        \t\t\tkill_server\r\n        \t\telse\r\n        \t\t   echo &quot;Server is not running !&quot;\t\t\t\r\n        \t\tfi\r\n        \tfi\r\n        \t;;\r\n       esac\r\nA.java\r\n-------\r\n\r\n\r\n\t \r\n\t public class A {\r\n\r\n       class GracefulStopperThread implements Runnable{\r\n\t\t    private String serverRMIIp = null;\r\n\t\t   \tprivate int serverRmiPort =0;\r\n\t\t   \tprivate String serverPeerId =null;\r\n\t    \tprivate int shutDownPeriod =0;\r\n\t    \t\r\n\t    \t public GracefulStopperThread(String rmiIp,String rmiPort,String peerId,String period){ \r\n\t    \t\t serverRMIIp = rmiIp;\r\n\t    \t\t serverRmiPort = Integer.parseInt(rmiPort);\r\n\t    \t\t serverPeerId = peerId;\r\n\t    \t\t shutDownPeriod =Integer.parseInt(period);    \r\n\t    \t\t \r\n\t    \t }\r\n\t    \t\r\n\t\t\t public void run() {\r\n\t\t\t\tSystem.out.println(&quot;***************************************** GracefulStopper is running *******************************************&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;serverPeerId :=&quot;+serverPeerId+&quot; , shutDownPeriod :=&quot;+shutDownPeriod);\r\n\t\t\t\ttry {\r\n\t\t\t\t\t  \r\n\t\t\t\t\t\r\n\t\t\t\t\tIRemoteServer serverRef = null;\r\n\t\t\t\t\tString rmiUrl = getURL(serverRMIIp,serverRmiPort,serverPeerId);\r\n\t\t\t\t\tSystem.out.println(&quot;THE RMI URL : &quot;+rmiUrl);\r\n\t\t\t\t\r\n\t\t\t\t\tserverRef = (IRemoteServer) Naming.lookup(rmiUrl );\r\n\t\t\t\t\tcom.server.ds.IRemoteServer  pcServerRef = (com.server.ds.IRemoteServer) serverRef;\r\n\t\t\t\t\tpcServerRef.graceful(SHUTDOWN_TYPE_SERVER_NOTSYSTEM,&quot;Gracefully Shutting down withing 10 mins&quot;, shutDownPeriod);\r\n\t\t\t\t\tSystem.out.println(&quot;GracefulStopperThread completed &quot;);\r\n\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t }\r\n\r\n\t\t\tprivate String getURL(String rmiIp,int rmiPort,String peerId) {\r\n\t\t\t\t return new StringBuffer(32).append(&quot;rmi://&quot;).append(serverRMIIp).append(&#39;:&#39;).append(serverRmiPort)\r\n\t\t\t                .append(&#39;/&#39;).append(serverPeerId).toString();\r\n\t\t\t}\r\n\t\t\t \r\n\t }\r\n\t \r\n\t \r\n\t  public static void main(String args[]) throws InterruptedException {\r\n\t\t  \t\t   A agent = new A();\t      \r\n\t\t\t       Runnable stopper = agent.new GracefulStopperThread(args[0],args[1],args[2],args[3]);\r\n\t\t\t       Thread t = new Thread(stopper);\r\n\t\t\t       t.start();\r\n\t\t\t       t.join();\r\n\t\t\t       System.out.println(&quot;MainThread completed &quot;);\r\n\t   }\r\n    }\r\n\t \r\n\t\r\n  [1]: http://i.stack.imgur.com/nnVFU.png","title":"RMI Client invokes Graceful shutdown. Server Stops. Manually started again. But somehow gets autokilled. Why?","body":"<p>Everthing on Java.</p>\n<p>Environment: RedHat Linux 12.3</p>\n<pre><code>NOTE:  1. Old model: There was NO A.java\n                     &quot;script.sh&quot; starts/stops B.java as process\n       2. New model: There IS A.java\n                     &quot;script.sh&quot; never uses A\n                     &quot;script.sh&quot; starts B.java as process.\n                     &quot;myGraceful.sh&quot; stops process Gracefully \n                     &quot;script.sh&quot; is NEVER used for stopping\n               \n</code></pre>\n<p>Server(B.java in server.jar):</p>\n<ul>\n<li><p>Java Process triggered as:  ./script.sh {start|stop}</p>\n</li>\n<li><p>Its a legacy class existing for 10 yrs or more</p>\n</li>\n<li><p>has RemoteB Interface</p>\n</li>\n<li><p>has</p>\n<pre><code>          graceFul(){ ..handles all DB ,user states,connection...etc\n                       ..works perfectly from Admin\n                       ..invoked as RMI from JSP \n                       ..never invoked by script till now\n                     }\n          initServer(){...}\n          getUsers(){...}\n</code></pre>\n</li>\n</ul>\n<h2>Requirement &amp; My Effort:</h2>\n<p>Everyone knows how the code RMI Looks or .sh to invoke java. Hence I dont think pasting a proprietary code should be expected here.</p>\n<p>Graceful needs to be done from shell script on same Server node. On Server everything runniing by Spring. I will die if I try to Inject a Bean as there is going to be 100x1000 dependencies coming in queue. Hence I created</p>\n<p>RMI Client(com/common/task/A.java in same server.jar):</p>\n<ol>\n<li>A can be triggered by:      ./myGraceful.sh stop (eg. java -cp... com.A 2&gt;&amp;1)</li>\n<li>in same server.jar - hence inevitaby loaded (note not running) on same Server node.</li>\n<li>having p s v main(String args[])</li>\n<li>Forks Thread ..thread calls RMI shutdown on B ...and thread expected\nto die on own.</li>\n</ol>\n<h2>Problem:</h2>\n<p>Server shutting down perfectly. Then If I isssue following command AGAIN and AGAIN:</p>\n<pre><code>          ./script.sh start\n</code></pre>\n<p>Server starts up. But within a minute it stops automatically. I dont have any clue what and which is stopping the Server. I Observed</p>\n<p>Prior to any of my new modifications:</p>\n<hr />\n<pre><code>  &quot;./script.sh stop&quot;               [used to work flawlessly calling kill -9 $pid ]\n  &quot;ps - aefwww | grep java&quot;         used to show:\n\n pid ppid.. /usr/java/jdk/bin/java ........java -D....  -Djava.timeout=..  -D....\n pid ppid.. .../abc/ ....java...\n pid ppid.. .../xyz/ .................java...\n</code></pre>\n<p>But now</p>\n<hr />\n<p>&quot;./myGraceful.sh stop&quot;  triggers modified server.jar(which now has A.java):</p>\n<pre><code>  &quot;ps - aefwww | grep java&quot;  shows:\n pid ppid.. .../abc/ ....java...\n pid ppid.. .../xyz/ .................java...\n</code></pre>\n<h2>Here goes some code:</h2>\n<pre><code>myGraceful.sh:\n----------------\n    #!/bin/bash\n    CLASSPATH=$COMMON_CLASS_PATH:$LIB_INHOUSE/server.jar\n    rmiIp=x.y.zz.www [hidden]\n    rmiPort=xxxx [hidden]\n    peerId=1\n    period=5\n    \n    function kill_server(){\n        echo -n &quot;Shutting down Server ($pid): &quot;\n            echo &quot;executing Arnab&quot; \n            echo &quot;arg0 : $0 pid : $pid&quot;     \n            java -Djava.rmi.server.hostname=localhost \\\n                 com.common.task.GracefulRunner $rmiIp $rmiPort $peerId $period  2&gt;&amp;1\n            echo Done\n    }\n    case &quot;$1&quot; in\n    start)\n            get_pids &quot;CustomBootstrap&quot; $2\n            if [ &quot;$pid&quot; != &quot;&quot; ] ; then\n                get_processname &quot;CustomBootstrap&quot; $2\n                if [ &quot;$server&quot; != &quot;&quot; ] ; then\n                    echo &quot;Server already running. pid = $pid&quot;\n                    exit 1\n                fi\n                if [ &quot;$ctserver&quot; != &quot;&quot; ] ; then         \n                echo &quot;Shutting down CT Server($pid): &quot;\n                    kill -SIGQUIT $pid\n                    kill -9 $pid\n                    echo Done\n                fi  \n            fi          \n        $0  run $2 1&gt;&amp;2 &amp;\n        sleep 2\n        $0  status $2\n        # $0 err\n        ;;\n    stop)\n        $0 kill $2\n        ;;\n    kill)\n        get_pids &quot;CustomBootstrap&quot; $2\n        if [ &quot;$pid&quot; != &quot;&quot; ] ; then\n            kill_server\n            echo &quot;Server  ended at `date`&quot; \n        else\n            get_pids &quot;Launcher&quot; $2\n            if [ &quot;$pid&quot; != &quot;&quot; ] ; then\n                kill_server\n            else\n               echo &quot;Server is not running !&quot;           \n            fi\n        fi\n        ;;\n   esac\n</code></pre>\n<h2>A.java</h2>\n<pre><code> public class A {\n\n   class GracefulStopperThread implements Runnable{\n        private String serverRMIIp = null;\n        private int serverRmiPort =0;\n        private String serverPeerId =null;\n        private int shutDownPeriod =0;\n        \n         public GracefulStopperThread(String rmiIp,String rmiPort,String peerId,String period){ \n             serverRMIIp = rmiIp;\n             serverRmiPort = Integer.parseInt(rmiPort);\n             serverPeerId = peerId;\n             shutDownPeriod =Integer.parseInt(period);    \n             \n         }\n        \n         public void run() {\n            System.out.println(&quot;***************************************** GracefulStopper is running *******************************************&quot;);\n                System.out.println(&quot;serverPeerId :=&quot;+serverPeerId+&quot; , shutDownPeriod :=&quot;+shutDownPeriod);\n            try {\n                  \n                \n                IRemoteServer serverRef = null;\n                String rmiUrl = getURL(serverRMIIp,serverRmiPort,serverPeerId);\n                System.out.println(&quot;THE RMI URL : &quot;+rmiUrl);\n            \n                serverRef = (IRemoteServer) Naming.lookup(rmiUrl );\n                com.server.ds.IRemoteServer  pcServerRef = (com.server.ds.IRemoteServer) serverRef;\n                pcServerRef.graceful(SHUTDOWN_TYPE_SERVER_NOTSYSTEM,&quot;Gracefully Shutting down withing 10 mins&quot;, shutDownPeriod);\n                System.out.println(&quot;GracefulStopperThread completed &quot;);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n         }\n\n        private String getURL(String rmiIp,int rmiPort,String peerId) {\n             return new StringBuffer(32).append(&quot;rmi://&quot;).append(serverRMIIp).append(':').append(serverRmiPort)\n                        .append('/').append(serverPeerId).toString();\n        }\n         \n }\n \n \n  public static void main(String args[]) throws InterruptedException {\n               A agent = new A();         \n               Runnable stopper = agent.new GracefulStopperThread(args[0],args[1],args[2],args[3]);\n               Thread t = new Thread(stopper);\n               t.start();\n               t.join();\n               System.out.println(&quot;MainThread completed &quot;);\n   }\n}\n \n</code></pre>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":906628,"reputation":1933,"user_id":980828,"accept_rate":71,"display_name":"LEQADA"},"score":0,"creation_date":1600957573,"post_id":7006827,"comment_id":113258909,"body_markdown":"The 2nd link is dead","body":"The 2nd link is dead"}],"tags":[],"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1312958513,"creation_date":1312958513,"answer_id":7006827,"question_id":7006807,"body_markdown":"[state pattern][1] can be used. See an example implementation in C++ [here][2].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/State_pattern\r\n  [2]: http://www.objectmentor.com/resources/articles/umlfsm.pdf","title":"Is there a standard pattern for implementing state machines using java?","body":"<p><a href=\"http://en.wikipedia.org/wiki/State_pattern\" rel=\"nofollow\">state pattern</a> can be used. See an example implementation in C++ <a href=\"http://www.objectmentor.com/resources/articles/umlfsm.pdf\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1312958549,"creation_date":1312958549,"answer_id":7006831,"question_id":7006807,"body_markdown":"There&#39;s [jBPM][1], which can run standalone. It&#39;s essentially a persistent state machine with bells and whistles.\r\n\r\n\r\n  [1]: http://www.jboss.org/jbpm","title":"Is there a standard pattern for implementing state machines using java?","body":"<p>There's <a href=\"http://www.jboss.org/jbpm\" rel=\"nofollow\">jBPM</a>, which can run standalone. It's essentially a persistent state machine with bells and whistles.</p>\n"},{"tags":[],"owner":{"account_id":423186,"reputation":7475,"user_id":802421,"accept_rate":78,"display_name":"user802421"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683669364,"creation_date":1312958991,"answer_id":7006891,"question_id":7006807,"body_markdown":"Use a state pattern, as described here: [State Design Pattern using java .. A different approach!][1]\r\n\r\n\r\n  [1]: http://blogs.oracle.com/jkumaran/entry/state_design_pattern_using_java","title":"Is there a standard pattern for implementing state machines using java?","body":"<p>Use a state pattern, as described here: <a href=\"http://blogs.oracle.com/jkumaran/entry/state_design_pattern_using_java\" rel=\"nofollow noreferrer\">State Design Pattern using java .. A different approach!</a></p>\n"},{"tags":[],"owner":{"account_id":470798,"reputation":6467,"user_id":878182,"accept_rate":50,"display_name":"Alistair A. Israel"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1312959228,"creation_date":1312959228,"answer_id":7006925,"question_id":7006807,"body_markdown":"The article I read before seems to be down right now, but if you Google enough you should be able to find other sources on how to implement **finite state machines** using Java `enum`s.\r\n\r\nFound it: http://www.javacodegeeks.com/2011/07/java-secret-using-enum-to-build-state.html","title":"Is there a standard pattern for implementing state machines using java?","body":"<p>The article I read before seems to be down right now, but if you Google enough you should be able to find other sources on how to implement <strong>finite state machines</strong> using Java <code>enum</code>s.</p>\n\n<p>Found it: <a href=\"http://www.javacodegeeks.com/2011/07/java-secret-using-enum-to-build-state.html\">http://www.javacodegeeks.com/2011/07/java-secret-using-enum-to-build-state.html</a></p>\n"}],"owner":{"account_id":307691,"reputation":1265,"user_id":619133,"accept_rate":31,"display_name":"Siva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9993,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1683669364,"creation_date":1312958386,"question_id":7006807,"body_markdown":"One way i could think about is having a class which listens to events and has the different states stored in variables.\r\n\r\nIs there a standard pattern for implementing state machines using java?","title":"Is there a standard pattern for implementing state machines using java?","body":"<p>One way i could think about is having a class which listens to events and has the different states stored in variables.</p>\n\n<p>Is there a standard pattern for implementing state machines using java?</p>\n"},{"tags":["java","html","css","hyperlink","nav"],"answers":[{"tags":[],"owner":{"account_id":27393758,"reputation":687,"user_id":20896315,"display_name":"Ferris"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683669233,"creation_date":1683669233,"answer_id":76213603,"question_id":76212843,"body_markdown":"You have set the `target` attribute (incorrectly). The default value for target is `_self`, which is what you actually want and in that case you can also remove the whole attribute from the link. \r\n\r\n    &lt;a href=&quot;file:^px/Home.px&quot;&gt;&lt;img id=&quot;clickHome&quot; src=&quot;images/btnHome.png&quot; title=&quot;Home&quot;&gt;&lt;/a&gt;\r\n\r\nor also correct\r\n\r\n    &lt;a href=&quot;file:^px/Home.px&quot; target=&quot;_self&quot;&gt;&lt;img id=&quot;clickHome&quot; src=&quot;images/btnHome.png&quot; title=&quot;Home&quot;&gt;&lt;/a&gt;\r\n\r\nThe target attribute specifies where to open the linked document:\r\n\r\n&gt; `_blank` - opens the linked document in a new window or tab  \r\n&gt;\r\n&gt; `_self` - opens the linked document in the same frame as it was clicked (this is default)  \r\n&gt;\r\n&gt; `_parent` - opens the linked document in the parent frame\r\n&gt;\r\n&gt; `_top` - opens the linked document in the full body of the window \r\n&gt; \r\n&gt; `framename` opens the linked document in the named iframe/window\r\n\r\nRead more about the target attribute:  \r\nhttps://developer.mozilla.org/en-US/docs/Web/HTML/Element/a?retiredLocale=de#attributes  \r\nhttps://www.w3schools.com/tags/att_a_target.asp","title":"Nav buttons that take you to pages not new windows of said pages","body":"<p>You have set the <code>target</code> attribute (incorrectly). The default value for target is <code>_self</code>, which is what you actually want and in that case you can also remove the whole attribute from the link.</p>\n<pre><code>&lt;a href=&quot;file:^px/Home.px&quot;&gt;&lt;img id=&quot;clickHome&quot; src=&quot;images/btnHome.png&quot; title=&quot;Home&quot;&gt;&lt;/a&gt;\n</code></pre>\n<p>or also correct</p>\n<pre><code>&lt;a href=&quot;file:^px/Home.px&quot; target=&quot;_self&quot;&gt;&lt;img id=&quot;clickHome&quot; src=&quot;images/btnHome.png&quot; title=&quot;Home&quot;&gt;&lt;/a&gt;\n</code></pre>\n<p>The target attribute specifies where to open the linked document:</p>\n<blockquote>\n<p><code>_blank</code> - opens the linked document in a new window or tab</p>\n<p><code>_self</code> - opens the linked document in the same frame as it was clicked (this is default)</p>\n<p><code>_parent</code> - opens the linked document in the parent frame</p>\n<p><code>_top</code> - opens the linked document in the full body of the window</p>\n<p><code>framename</code> opens the linked document in the named iframe/window</p>\n</blockquote>\n<p>Read more about the target attribute:<br />\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a?retiredLocale=de#attributes\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a?retiredLocale=de#attributes</a><br />\n<a href=\"https://www.w3schools.com/tags/att_a_target.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/tags/att_a_target.asp</a></p>\n"}],"owner":{"account_id":28561213,"reputation":1,"user_id":21864717,"display_name":"sparky0120"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683669233,"creation_date":1683660877,"question_id":76212843,"body_markdown":"I am trying to make my top nav buttons direct the user to the appropriate page in the same window and currently its not doing that. Currently when the user clicks said button, a new window or tab is opened instead of the action happening in the current window.\r\n\r\n    &lt;body&gt;\r\n     &lt;div class=&quot;content&quot;&gt;\r\n      &lt;div class=&quot;top_block topNav&quot;&gt;\r\n       &lt;div class=&quot;content&quot;&gt;\r\n        &lt;div id=&quot;topButtons&quot;&gt;\r\n         &lt;div id=&quot;topLogo&quot; class=&quot;logo&quot;&gt;\r\n          &lt;div class=&quot;innerLogo&quot;&gt;\r\n           &lt;img id=&quot;clickLogo&quot; src=&quot;images/####Logo160x50.png&quot; title=&quot;####&quot;&gt;\r\n          &lt;/div&gt;\r\n         &lt;/div&gt;\r\n         &lt;img id=&quot;clickMenu&quot; src=&quot;images/btnMenu.png&quot; title=&quot;Menu&quot;&gt;\r\n         &lt;a href=&quot;file:^px/Home.px&quot; target=&quot;mc&quot;&gt;&lt;img id=&quot;clickHome&quot; src=&quot;images/btnHome.png&quot; title=&quot;Home&quot;&gt;&lt;/a&gt;\r\n         &lt;a href=&quot;file:^px/Alarms.px&quot; target=&quot;mc&quot;&gt;&lt;img id=&quot;clickAlarm&quot; src=&quot;images/btnAlarm.png&quot; title=&quot;Alarm Console&quot;&gt;&lt;/a&gt;\r\n         &lt;a href=&quot;&quot; target=&quot;mc&quot;&gt;&lt;img id=&quot;clickSched&quot; src=&quot;images/btnClock.png&quot; title=&quot;Schedule&quot;&gt;&lt;/a&gt;\r\n         &lt;a href=&quot;&quot; target=&quot;mc&quot;&gt;&lt;img id=&quot;clickCal&quot; src=&quot;images/btnSchedule.png&quot; title=&quot;Calendar&quot;&gt;&lt;/a&gt;\r\n         &lt;a href=&quot;history:&quot; target=&quot;mc&quot;&gt;&lt;img id=&quot;clickChart&quot; src=&quot;images/btnChart.png&quot; title=&quot;Chart Builder&quot;&gt;&lt;/a&gt;\r\n         &lt;a href=&quot;/logout&quot;&gt;&lt;img id=&quot;clickLogout&quot; src=&quot;images/btnLogout.png&quot; title=&quot;Logout&quot;&gt;&lt;/a&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;background topRightPane&quot;&gt;","title":"Nav buttons that take you to pages not new windows of said pages","body":"<p>I am trying to make my top nav buttons direct the user to the appropriate page in the same window and currently its not doing that. Currently when the user clicks said button, a new window or tab is opened instead of the action happening in the current window.</p>\n<pre><code>&lt;body&gt;\n &lt;div class=&quot;content&quot;&gt;\n  &lt;div class=&quot;top_block topNav&quot;&gt;\n   &lt;div class=&quot;content&quot;&gt;\n    &lt;div id=&quot;topButtons&quot;&gt;\n     &lt;div id=&quot;topLogo&quot; class=&quot;logo&quot;&gt;\n      &lt;div class=&quot;innerLogo&quot;&gt;\n       &lt;img id=&quot;clickLogo&quot; src=&quot;images/####Logo160x50.png&quot; title=&quot;####&quot;&gt;\n      &lt;/div&gt;\n     &lt;/div&gt;\n     &lt;img id=&quot;clickMenu&quot; src=&quot;images/btnMenu.png&quot; title=&quot;Menu&quot;&gt;\n     &lt;a href=&quot;file:^px/Home.px&quot; target=&quot;mc&quot;&gt;&lt;img id=&quot;clickHome&quot; src=&quot;images/btnHome.png&quot; title=&quot;Home&quot;&gt;&lt;/a&gt;\n     &lt;a href=&quot;file:^px/Alarms.px&quot; target=&quot;mc&quot;&gt;&lt;img id=&quot;clickAlarm&quot; src=&quot;images/btnAlarm.png&quot; title=&quot;Alarm Console&quot;&gt;&lt;/a&gt;\n     &lt;a href=&quot;&quot; target=&quot;mc&quot;&gt;&lt;img id=&quot;clickSched&quot; src=&quot;images/btnClock.png&quot; title=&quot;Schedule&quot;&gt;&lt;/a&gt;\n     &lt;a href=&quot;&quot; target=&quot;mc&quot;&gt;&lt;img id=&quot;clickCal&quot; src=&quot;images/btnSchedule.png&quot; title=&quot;Calendar&quot;&gt;&lt;/a&gt;\n     &lt;a href=&quot;history:&quot; target=&quot;mc&quot;&gt;&lt;img id=&quot;clickChart&quot; src=&quot;images/btnChart.png&quot; title=&quot;Chart Builder&quot;&gt;&lt;/a&gt;\n     &lt;a href=&quot;/logout&quot;&gt;&lt;img id=&quot;clickLogout&quot; src=&quot;images/btnLogout.png&quot; title=&quot;Logout&quot;&gt;&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;background topRightPane&quot;&gt;\n</code></pre>\n"},{"tags":["java","activemq","stomp","consumer"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1613153182,"post_id":66174792,"comment_id":116997620,"body_markdown":"Given your [other question](https://stackoverflow.com/questions/66173308/java-wss-connection-could-not-create-transport-exception) on this subject it&#39;s worth noting that your code here is using normal a TCP socket to connect, not a WebSocket.","body":"Given your <a href=\"https://stackoverflow.com/questions/66173308/java-wss-connection-could-not-create-transport-exception\">other question</a> on this subject it&#39;s worth noting that your code here is using normal a TCP socket to connect, not a WebSocket."}],"answers":[{"comments":[{"owner":{"account_id":19360943,"reputation":39,"user_id":14156203,"display_name":"estherial"},"score":0,"creation_date":1613165266,"post_id":66176222,"comment_id":117001899,"body_markdown":"Thanks for your answer. I sent messages to TEST_TOPIC with producer(every second). It still getting SocketTimeoutException.  I can&#39;t use Openwire TCP client, customer does not allow that. They offer me two choices. STOMP or WSS.","body":"Thanks for your answer. I sent messages to TEST_TOPIC with producer(every second). It still getting SocketTimeoutException.  I can&#39;t use Openwire TCP client, customer does not allow that. They offer me two choices. STOMP or WSS."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1613181284,"post_id":66176222,"comment_id":117005133,"body_markdown":"I updated my answer to address your comment. Hope that helps!","body":"I updated my answer to address your comment. Hope that helps!"},{"owner":{"account_id":19360943,"reputation":39,"user_id":14156203,"display_name":"estherial"},"score":0,"creation_date":1613207820,"post_id":66176222,"comment_id":117008771,"body_markdown":"Justin you made my day. Adding &quot;/topic/&quot; solved the problem. Thank you so much for your effort. Have a good weekend!","body":"Justin you made my day. Adding &quot;/topic/&quot; solved the problem. Thank you so much for your effort. Have a good weekend!"}],"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1613267329,"creation_date":1613150201,"answer_id":66176222,"question_id":66174792,"body_markdown":"The `java.net.SocketTimeoutException` is expected when the STOMP subscriber receives no message within the specified timeout. Once the client creates his subscription you need to *send* a message to the topic. At that point the client should receive the message and print it via your `System.out.println`.\r\n\r\nAlso, in ActiveMQ 5.x when subscribing to a destination from a STOMP client you need to prefix the destination name with either `/queue/` or `/topic/`. You aren&#39;t doing this in your application. Try using this:\r\n```java\r\nconnection.subscribe(&quot;/topic/TEST_TOPIC&quot;, Stomp.Headers.Subscribe.AckModeValues.CLIENT);\r\n```\r\nLastly, it&#39;s worth noting that you&#39;re using the *test* STOMP client from the ActiveMQ code-base. This client is used by ActiveMQ&#39;s internal test-suite to verify the broker implementation is working as expected. It&#39;s not meant for general use. Furthermore, if you&#39;re using Java you would be better off using a better performing and more full-featured client like the OpenWire JMS client or even the Qpid JMS client.","title":"ActiveMQ Java STOMP client receives SocketTimeoutException","body":"<p>The <code>java.net.SocketTimeoutException</code> is expected when the STOMP subscriber receives no message within the specified timeout. Once the client creates his subscription you need to <em>send</em> a message to the topic. At that point the client should receive the message and print it via your <code>System.out.println</code>.</p>\n<p>Also, in ActiveMQ 5.x when subscribing to a destination from a STOMP client you need to prefix the destination name with either <code>/queue/</code> or <code>/topic/</code>. You aren't doing this in your application. Try using this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>connection.subscribe(&quot;/topic/TEST_TOPIC&quot;, Stomp.Headers.Subscribe.AckModeValues.CLIENT);\n</code></pre>\n<p>Lastly, it's worth noting that you're using the <em>test</em> STOMP client from the ActiveMQ code-base. This client is used by ActiveMQ's internal test-suite to verify the broker implementation is working as expected. It's not meant for general use. Furthermore, if you're using Java you would be better off using a better performing and more full-featured client like the OpenWire JMS client or even the Qpid JMS client.</p>\n"},{"tags":[],"owner":{"account_id":28561048,"reputation":1,"user_id":21864581,"display_name":"Manuel Anzizu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683669149,"creation_date":1683666380,"answer_id":76213369,"question_id":66174792,"body_markdown":"You need a heartbeat every 10 seconds by sending just byte 10\r\n\r\n        import java.net.Socket;\r\n    import java.text.DateFormat;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import java.util.HashMap;\r\n    import java.util.TimeZone;\r\n    \r\n    import org.apache.activemq.transport.stomp.StompConnection;\r\n    \r\n    \r\n    \r\n    public class StompExample \r\n    {\r\n        public static void main(String[] args) throws Exception {\r\n    \r\n    \r\n            // Create a connection\r\n            StompConnection connection = new StompConnection();\r\n            \r\n            connection.open(&quot;localhost&quot;, 61613);\r\n            \r\n            Socket socket = connection.getStompSocket();\r\n            \r\n            HashMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n            headers.put(&quot;login&quot;, &quot;abcd&quot;);\r\n            headers.put(&quot;passcode&quot;, &quot;defghij&quot;);\r\n            headers.put(&quot;heart-beat&quot;, &quot;10000,10000&quot;);//heart-beat header newly added        \r\n            \r\n            connection.connect(headers);\r\n            \r\n            \r\n    \r\n            HeartBeatThread heartBeatThread = new HeartBeatThread(socket);\r\n            heartBeatThread.start();\r\n            \r\n    \r\n            SubscribeThread subscribeThread = new SubscribeThread(connection,&quot;/topic/output&quot;); \r\n            subscribeThread.start();\r\n            \r\n            heartBeatThread.join();\r\n            subscribeThread.join();\r\n            \r\n            connection.disconnect();\r\n        }\r\n        \r\n        public static String getNowISO() {\r\n    \t\tTimeZone tz = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n        \tDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;); \r\n        \tdf.setTimeZone(tz);\r\n        \tString nowIso = df.format(new Date());\r\n        \treturn nowIso;\r\n        }\r\n    \r\n    }\r\n    \r\n    \r\n    import java.net.Socket;\r\n    \r\n    public class HeartBeatThread extends Thread{\r\n    \t\r\n    \tpublic Socket socket;\r\n    \r\n    \tpublic HeartBeatThread(Socket socket) {\r\n    \t\tthis.socket = socket;\r\n    \r\n    \t}\r\n    \tpublic void run() {\r\n            System.out.println(&quot;HeartBeatThread started&quot;);\r\n            try {\r\n                 \r\n            \twhile(true) {\r\n            \t\t\r\n            \t\t\r\n            \t\tSystem.out.printf(&quot;%s Sending Heartbeat message\\r\\n&quot;,StompExample.getNowISO());\r\n            \t\tsocket.getOutputStream().write(10);\r\n            \t\t\r\n            \t\tThread.sleep(10000);\r\n            \t}\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            System.out.println(&quot;HeartBeatThread finished&quot;);\r\n        }\r\n    \r\n    }\r\n    \r\n    import org.apache.activemq.transport.stomp.Stomp;\r\n    import org.apache.activemq.transport.stomp.StompConnection;\r\n    import org.apache.activemq.transport.stomp.StompFrame;\r\n    \r\n    public class SubscribeThread extends Thread{\r\n    \t\r\n    \tpublic StompConnection connection;\r\n    \tpublic String subscribeTopic;\r\n    \r\n    \tpublic SubscribeThread(StompConnection connection,String subscribeTopic) {\r\n    \t\tthis.connection = connection;\r\n    \t\tthis.subscribeTopic = subscribeTopic;\r\n    \r\n    \t}\r\n    \tpublic void run() {\r\n            System.out.println(&quot;SubscribeThread started&quot;);\r\n            try {\r\n            \t\r\n        \t\t//subscribe to topic\r\n                connection.subscribe(this.subscribeTopic, Stomp.Headers.Subscribe.AckModeValues.AUTO);\r\n    \r\n                 \r\n            \twhile(true) {\r\n            \t\t\r\n                   StompFrame message = connection.receive(0);\r\n                   \r\n                   System.out.printf(&quot;%s Received message:%s\\r\\n&quot;,StompExample.getNowISO(),message.getBody());\r\n                   \r\n            \t}\r\n            \t\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            System.out.println(&quot;SubscribeThread finished&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"ActiveMQ Java STOMP client receives SocketTimeoutException","body":"<p>You need a heartbeat every 10 seconds by sending just byte 10</p>\n<pre><code>    import java.net.Socket;\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.TimeZone;\n\nimport org.apache.activemq.transport.stomp.StompConnection;\n\n\n\npublic class StompExample \n{\n    public static void main(String[] args) throws Exception {\n\n\n        // Create a connection\n        StompConnection connection = new StompConnection();\n        \n        connection.open(&quot;localhost&quot;, 61613);\n        \n        Socket socket = connection.getStompSocket();\n        \n        HashMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n        headers.put(&quot;login&quot;, &quot;abcd&quot;);\n        headers.put(&quot;passcode&quot;, &quot;defghij&quot;);\n        headers.put(&quot;heart-beat&quot;, &quot;10000,10000&quot;);//heart-beat header newly added        \n        \n        connection.connect(headers);\n        \n        \n\n        HeartBeatThread heartBeatThread = new HeartBeatThread(socket);\n        heartBeatThread.start();\n        \n\n        SubscribeThread subscribeThread = new SubscribeThread(connection,&quot;/topic/output&quot;); \n        subscribeThread.start();\n        \n        heartBeatThread.join();\n        subscribeThread.join();\n        \n        connection.disconnect();\n    }\n    \n    public static String getNowISO() {\n        TimeZone tz = TimeZone.getTimeZone(&quot;UTC&quot;);\n        DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;); \n        df.setTimeZone(tz);\n        String nowIso = df.format(new Date());\n        return nowIso;\n    }\n\n}\n\n\nimport java.net.Socket;\n\npublic class HeartBeatThread extends Thread{\n    \n    public Socket socket;\n\n    public HeartBeatThread(Socket socket) {\n        this.socket = socket;\n\n    }\n    public void run() {\n        System.out.println(&quot;HeartBeatThread started&quot;);\n        try {\n             \n            while(true) {\n                \n                \n                System.out.printf(&quot;%s Sending Heartbeat message\\r\\n&quot;,StompExample.getNowISO());\n                socket.getOutputStream().write(10);\n                \n                Thread.sleep(10000);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        System.out.println(&quot;HeartBeatThread finished&quot;);\n    }\n\n}\n\nimport org.apache.activemq.transport.stomp.Stomp;\nimport org.apache.activemq.transport.stomp.StompConnection;\nimport org.apache.activemq.transport.stomp.StompFrame;\n\npublic class SubscribeThread extends Thread{\n    \n    public StompConnection connection;\n    public String subscribeTopic;\n\n    public SubscribeThread(StompConnection connection,String subscribeTopic) {\n        this.connection = connection;\n        this.subscribeTopic = subscribeTopic;\n\n    }\n    public void run() {\n        System.out.println(&quot;SubscribeThread started&quot;);\n        try {\n            \n            //subscribe to topic\n            connection.subscribe(this.subscribeTopic, Stomp.Headers.Subscribe.AckModeValues.AUTO);\n\n             \n            while(true) {\n                \n               StompFrame message = connection.receive(0);\n               \n               System.out.printf(&quot;%s Received message:%s\\r\\n&quot;,StompExample.getNowISO(),message.getBody());\n               \n            }\n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        System.out.println(&quot;SubscribeThread finished&quot;);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":19360943,"reputation":39,"user_id":14156203,"display_name":"estherial"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66176222,"answer_count":2,"score":0,"last_activity_date":1683669149,"creation_date":1613144563,"question_id":66174792,"body_markdown":"There is an ActiveMQ server working on CentOS machine. I can connect and consume messages with TCP and HTTP using the OpenWire JMS client. However, When I tried with the ActiveMQ test STOMP client it throws this exception on `connection.receieve`;\r\n```\r\njava.net.SocketTimeoutException: Read timed out\r\n    at java.net.SocketInputStream.socketRead0(Native Method)\r\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n    at java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n    at java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n    at java.net.SocketInputStream.read(SocketInputStream.java:224)\r\n    at java.io.DataInputStream.readByte(DataInputStream.java:265)\r\n    at org.apache.activemq.transport.stomp.StompWireFormat.readHeaderLine(StompWireFormat.java:174)\r\n    at org.apache.activemq.transport.stomp.StompWireFormat.readLine(StompWireFormat.java:167)\r\n    at org.apache.activemq.transport.stomp.StompWireFormat.parseAction(StompWireFormat.java:200)\r\n    at org.apache.activemq.transport.stomp.StompWireFormat.unmarshal(StompWireFormat.java:112)\r\n    at org.apache.activemq.transport.stomp.StompConnection.receive(StompConnection.java:77)\r\n    at tr.com.estherial.stomplistener.StompListener.main(StompListener.java:25)\r\n```\r\n\r\nListener Class\r\n\r\n```java\r\nimport org.apache.activemq.transport.stomp.Stomp;\r\nimport org.apache.activemq.transport.stomp.StompConnection;\r\nimport org.apache.activemq.transport.stomp.StompFrame;\r\n \r\npublic class StompListener {\r\n\r\n    public static void main(String[] args) { \r\n\r\n        StompConnection connection = new StompConnection();\r\n        try {\r\n            connection.open(&quot;host&quot;, 61613);\r\n            connection.connect(&quot;admin&quot;, &quot;admin&quot;, &quot;test&quot;);\r\n            connection.subscribe(&quot;TEST_TOPIC&quot;, Stomp.Headers.Subscribe.AckModeValues.CLIENT);\r\n            connection.begin(&quot;test&quot;); \r\n\r\n            while (true) {\r\n                try {\r\n                    StompFrame message = connection.receive(10000); \r\n                    System.out.println(String.format(&quot;%s - Receiver: received &#39;%s&#39;&quot;, new Date(), message.getBody()));\r\n                } catch (SocketTimeoutException e) {\r\n                    // ignore\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nThis is the connector in `activemq.xml`:\r\n```xml\r\n&lt;transportConnectors&gt;\r\n    &lt;transportConnector name=&quot;stomp&quot; uri=&quot;stomp://localhost:61613&quot;/&gt;\r\n&lt;/transportConnectors&gt;\r\n```\r\nDid you get similar exception before?","title":"ActiveMQ Java STOMP client receives SocketTimeoutException","body":"<p>There is an ActiveMQ server working on CentOS machine. I can connect and consume messages with TCP and HTTP using the OpenWire JMS client. However, When I tried with the ActiveMQ test STOMP client it throws this exception on <code>connection.receieve</code>;</p>\n<pre><code>java.net.SocketTimeoutException: Read timed out\n    at java.net.SocketInputStream.socketRead0(Native Method)\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\n    at java.net.SocketInputStream.read(SocketInputStream.java:171)\n    at java.net.SocketInputStream.read(SocketInputStream.java:141)\n    at java.net.SocketInputStream.read(SocketInputStream.java:224)\n    at java.io.DataInputStream.readByte(DataInputStream.java:265)\n    at org.apache.activemq.transport.stomp.StompWireFormat.readHeaderLine(StompWireFormat.java:174)\n    at org.apache.activemq.transport.stomp.StompWireFormat.readLine(StompWireFormat.java:167)\n    at org.apache.activemq.transport.stomp.StompWireFormat.parseAction(StompWireFormat.java:200)\n    at org.apache.activemq.transport.stomp.StompWireFormat.unmarshal(StompWireFormat.java:112)\n    at org.apache.activemq.transport.stomp.StompConnection.receive(StompConnection.java:77)\n    at tr.com.estherial.stomplistener.StompListener.main(StompListener.java:25)\n</code></pre>\n<p>Listener Class</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.activemq.transport.stomp.Stomp;\nimport org.apache.activemq.transport.stomp.StompConnection;\nimport org.apache.activemq.transport.stomp.StompFrame;\n \npublic class StompListener {\n\n    public static void main(String[] args) { \n\n        StompConnection connection = new StompConnection();\n        try {\n            connection.open(&quot;host&quot;, 61613);\n            connection.connect(&quot;admin&quot;, &quot;admin&quot;, &quot;test&quot;);\n            connection.subscribe(&quot;TEST_TOPIC&quot;, Stomp.Headers.Subscribe.AckModeValues.CLIENT);\n            connection.begin(&quot;test&quot;); \n\n            while (true) {\n                try {\n                    StompFrame message = connection.receive(10000); \n                    System.out.println(String.format(&quot;%s - Receiver: received '%s'&quot;, new Date(), message.getBody()));\n                } catch (SocketTimeoutException e) {\n                    // ignore\n                    e.printStackTrace();\n                }\n            }\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>This is the connector in <code>activemq.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;transportConnectors&gt;\n    &lt;transportConnector name=&quot;stomp&quot; uri=&quot;stomp://localhost:61613&quot;/&gt;\n&lt;/transportConnectors&gt;\n</code></pre>\n<p>Did you get similar exception before?</p>\n"},{"tags":["java","android","sharedpreferences"],"answers":[{"comments":[{"owner":{"account_id":28314653,"reputation":43,"user_id":21651403,"display_name":"phishing_phil"},"score":0,"creation_date":1682694311,"post_id":76130841,"comment_id":134260860,"body_markdown":"Thank you so much bro, shame on my head for not seeing this","body":"Thank you so much bro, shame on my head for not seeing this"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1682694434,"post_id":76130841,"comment_id":134260890,"body_markdown":"Yw. Take it easy it is a common mistake.","body":"Yw. Take it easy it is a common mistake."}],"tags":[],"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682693985,"creation_date":1682693985,"answer_id":76130841,"question_id":76130763,"body_markdown":"&lt;!-- language-all lang-java --&gt;\r\n\r\nYou must get saved value with the exact same key as the one you use when you save it.  \r\nHere you save it using\r\n```\r\neditor.putString(&quot;logged,&quot;, &quot;true&quot;);\r\n```\r\nand the key is **logged,** that terminates with a comma.\r\n\r\nAnd here you get it using\r\n```\r\nsharedPreferences.getString(&quot;logged&quot;,&quot;false&quot;);\r\n```\r\nthe key is **logged** without comma.  \r\nYou have to change it like the following:\r\n```\r\nsharedPreferences.getString(&quot;logged,&quot;,&quot;false&quot;);\r\n```\r\nIt is best practice to avoid using hardcoded keys to prevent errors like this. It make sense?","title":"Android Studio shared preferences is always returning default value","body":"\n<p>You must get saved value with the exact same key as the one you use when you save it.<br />\nHere you save it using</p>\n<pre><code>editor.putString(&quot;logged,&quot;, &quot;true&quot;);\n</code></pre>\n<p>and the key is <strong>logged,</strong> that terminates with a comma.</p>\n<p>And here you get it using</p>\n<pre><code>sharedPreferences.getString(&quot;logged&quot;,&quot;false&quot;);\n</code></pre>\n<p>the key is <strong>logged</strong> without comma.<br />\nYou have to change it like the following:</p>\n<pre><code>sharedPreferences.getString(&quot;logged,&quot;,&quot;false&quot;);\n</code></pre>\n<p>It is best practice to avoid using hardcoded keys to prevent errors like this. It make sense?</p>\n"}],"owner":{"account_id":28314653,"reputation":43,"user_id":21651403,"display_name":"phishing_phil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76130841,"answer_count":1,"score":0,"last_activity_date":1683668103,"creation_date":1682693308,"question_id":76130763,"body_markdown":"So im trying to make a login or register page popping up before my main activity. My backend works but the sharedpreferences wont be accessable even though the right values are stored in the object on runtime.\r\n\r\n![Debugging img](https://i.stack.imgur.com/SODJd.png)\r\n\r\nThis is the main snippet where i try to read the value\r\n\r\n```lang-java\r\nsharedPreferences = getSharedPreferences(&quot;app&quot;,MODE_PRIVATE);\r\n        if(sharedPreferences.getString(&quot;logged&quot;,&quot;false&quot;).equals(&quot;false&quot;)){\r\n            Intent intentMain = new Intent(getApplicationContext(), Registration.class);\r\n            startActivity(intentMain);\r\n            finish();\r\n        }\r\n```\r\n\r\nThis is my login component:\r\n\r\n```lang-java\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_log_in);\r\n\r\n        textViewRegisterNow = findViewById(R.id.registerText);\r\n        textInputEditTextPassword = findViewById(R.id.password);\r\n        textInputEditTextEmail = findViewById(R.id.email);\r\n        textViewError = findViewById(R.id.error);\r\n        progressBar = findViewById(R.id.loading);\r\n        sharedPreferences = getSharedPreferences(&quot;app&quot;, MODE_PRIVATE);\r\n        if(sharedPreferences.getString(&quot;logged&quot;,&quot;false&quot;).equals(&quot;true&quot;)){\r\n            Intent intentMain = new Intent(getApplicationContext(), MainActivity.class);\r\n            startActivity(intentMain);\r\n            finish();\r\n        }\r\n\r\n        buttonSubmit = findViewById(R.id.submit);\r\n        buttonSubmit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                progressBar.setVisibility(View.VISIBLE);\r\n                textViewError.setVisibility(View.GONE);\r\n                email = textInputEditTextEmail.getText().toString();\r\n                password = textInputEditTextPassword.getText().toString();\r\n\r\n                RequestQueue queue = Volley.newRequestQueue(getApplicationContext());\r\n                String url =&quot;&quot;;\r\n\r\n                StringRequest stringRequest = new StringRequest(Request.Method.POST, url,\r\n                        new Response.Listener&lt;String&gt;() {\r\n                            @Override\r\n                            public void onResponse(String response) {\r\n                                progressBar.setVisibility(View.GONE);\r\n                                try {\r\n                                    JSONObject jsonObject = new JSONObject(response);\r\n                                    String status = jsonObject.getString(&quot;status&quot;);\r\n                                    String message = jsonObject.getString(&quot;message&quot;);\r\n                                    if(status.equals(&quot;success&quot;)){\r\n                                        name = jsonObject.getString(&quot;name&quot;);\r\n                                        email = jsonObject.getString(&quot;email&quot;);\r\n                                        apiKey = jsonObject.getString(&quot;apiKey&quot;);\r\n                                        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n                                        editor.putString(&quot;logged,&quot;, &quot;true&quot;);\r\n                                        editor.putString(&quot;name,&quot;, name);\r\n                                        editor.putString(&quot;email,&quot;, email);\r\n                                        editor.putString(&quot;apiKey,&quot;, apiKey);\r\n                                        editor.apply();\r\n                                        Intent intentMain = new Intent(getApplicationContext(), MainActivity.class);\r\n                                        startActivity(intentMain);\r\n                                        finish();\r\n                                    }else{\r\n\r\n                                    }\r\n                                } catch (JSONException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                            }\r\n                        }, new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        progressBar.setVisibility(View.GONE);\r\n                        textViewError.setText(error.getLocalizedMessage());\r\n                        textViewError.setVisibility(View.VISIBLE);\r\n                    }\r\n                }){\r\n                    protected Map&lt;String, String&gt; getParams(){\r\n                        Map&lt;String, String&gt; paramV = new HashMap&lt;&gt;();\r\n                        paramV.put(&quot;email&quot;, email);\r\n                        paramV.put(&quot;password&quot;, password);\r\n                        return paramV;\r\n                    }\r\n                };\r\n                queue.add(stringRequest);\r\n\r\n            }\r\n        });\r\n```\r\n\r\n\r\n\r\nI almost looked through every thread in here but nothing works. Does anyone have an idea?","title":"Android Studio shared preferences is always returning default value","body":"<p>So im trying to make a login or register page popping up before my main activity. My backend works but the sharedpreferences wont be accessable even though the right values are stored in the object on runtime.</p>\n<p><img src=\"https://i.stack.imgur.com/SODJd.png\" alt=\"Debugging img\" /></p>\n<p>This is the main snippet where i try to read the value</p>\n<pre class=\"lang-java prettyprint-override\"><code>sharedPreferences = getSharedPreferences(&quot;app&quot;,MODE_PRIVATE);\n        if(sharedPreferences.getString(&quot;logged&quot;,&quot;false&quot;).equals(&quot;false&quot;)){\n            Intent intentMain = new Intent(getApplicationContext(), Registration.class);\n            startActivity(intentMain);\n            finish();\n        }\n</code></pre>\n<p>This is my login component:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_log_in);\n\n        textViewRegisterNow = findViewById(R.id.registerText);\n        textInputEditTextPassword = findViewById(R.id.password);\n        textInputEditTextEmail = findViewById(R.id.email);\n        textViewError = findViewById(R.id.error);\n        progressBar = findViewById(R.id.loading);\n        sharedPreferences = getSharedPreferences(&quot;app&quot;, MODE_PRIVATE);\n        if(sharedPreferences.getString(&quot;logged&quot;,&quot;false&quot;).equals(&quot;true&quot;)){\n            Intent intentMain = new Intent(getApplicationContext(), MainActivity.class);\n            startActivity(intentMain);\n            finish();\n        }\n\n        buttonSubmit = findViewById(R.id.submit);\n        buttonSubmit.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                progressBar.setVisibility(View.VISIBLE);\n                textViewError.setVisibility(View.GONE);\n                email = textInputEditTextEmail.getText().toString();\n                password = textInputEditTextPassword.getText().toString();\n\n                RequestQueue queue = Volley.newRequestQueue(getApplicationContext());\n                String url =&quot;&quot;;\n\n                StringRequest stringRequest = new StringRequest(Request.Method.POST, url,\n                        new Response.Listener&lt;String&gt;() {\n                            @Override\n                            public void onResponse(String response) {\n                                progressBar.setVisibility(View.GONE);\n                                try {\n                                    JSONObject jsonObject = new JSONObject(response);\n                                    String status = jsonObject.getString(&quot;status&quot;);\n                                    String message = jsonObject.getString(&quot;message&quot;);\n                                    if(status.equals(&quot;success&quot;)){\n                                        name = jsonObject.getString(&quot;name&quot;);\n                                        email = jsonObject.getString(&quot;email&quot;);\n                                        apiKey = jsonObject.getString(&quot;apiKey&quot;);\n                                        SharedPreferences.Editor editor = sharedPreferences.edit();\n                                        editor.putString(&quot;logged,&quot;, &quot;true&quot;);\n                                        editor.putString(&quot;name,&quot;, name);\n                                        editor.putString(&quot;email,&quot;, email);\n                                        editor.putString(&quot;apiKey,&quot;, apiKey);\n                                        editor.apply();\n                                        Intent intentMain = new Intent(getApplicationContext(), MainActivity.class);\n                                        startActivity(intentMain);\n                                        finish();\n                                    }else{\n\n                                    }\n                                } catch (JSONException e) {\n                                    e.printStackTrace();\n                                }\n                            }\n                        }, new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        progressBar.setVisibility(View.GONE);\n                        textViewError.setText(error.getLocalizedMessage());\n                        textViewError.setVisibility(View.VISIBLE);\n                    }\n                }){\n                    protected Map&lt;String, String&gt; getParams(){\n                        Map&lt;String, String&gt; paramV = new HashMap&lt;&gt;();\n                        paramV.put(&quot;email&quot;, email);\n                        paramV.put(&quot;password&quot;, password);\n                        return paramV;\n                    }\n                };\n                queue.add(stringRequest);\n\n            }\n        });\n</code></pre>\n<p>I almost looked through every thread in here but nothing works. Does anyone have an idea?</p>\n"},{"tags":["java","java-8","stream"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1683644843,"post_id":76210355,"comment_id":134396493,"body_markdown":"there should be a lot of source material online, but the basic should be to override equals/hashcode, then use distinct() on the stream and collect to a list.","body":"there should be a lot of source material online, but the basic should be to override equals/hashcode, then use distinct() on the stream and collect to a list."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1683644882,"post_id":76210355,"comment_id":134396508,"body_markdown":"Does this answer your question? [Java8 Streams - Remove Duplicates With Stream Distinct](https://stackoverflow.com/questions/27911406/java8-streams-remove-duplicates-with-stream-distinct)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/27911406/java8-streams-remove-duplicates-with-stream-distinct\">Java8 Streams - Remove Duplicates With Stream Distinct</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1683667814,"post_id":76210355,"comment_id":134401383,"body_markdown":"So you want to consolidate similar items to earlier of the two date-times? You need to get *specific* on what you want.","body":"So you want to consolidate similar items to earlier of the two date-times? You need to get <i>specific</i> on what you want."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1683668197,"post_id":76210355,"comment_id":134401467,"body_markdown":"By the way, both of the `Date` classes were years ago supplanted by the modern *java.time* classes defined in JSR 310. Use a type of `OffsetDateTime` for your input strings.","body":"By the way, both of the <code>Date</code> classes were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310. Use a type of <code>OffsetDateTime</code> for your input strings."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1683659162,"post_id":76210393,"comment_id":134399856,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76210393/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25807193,"reputation":1,"user_id":19548561,"display_name":"Мунир"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683642336,"creation_date":1683642336,"answer_id":76210393,"question_id":76210355,"body_markdown":"You can convert it to set and generate equalsAndHashcode based on id of pojo. I think it should work.","title":"Convert a a object list to a list with unique list of objects","body":"<p>You can convert it to set and generate equalsAndHashcode based on id of pojo. I think it should work.</p>\n"},{"tags":[],"owner":{"account_id":28538505,"reputation":86,"user_id":21844878,"display_name":"Enilson Filho"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683668074,"creation_date":1683644049,"answer_id":76210666,"question_id":76210355,"body_markdown":"You can get a list of unique items based on their **ID** using streams and the **Collectors.toMap()** method, as follows:\r\n\r\n    List&lt;Account&gt; accountList = new ArrayList&lt;&gt;();\r\n    accountList.add(new Account(&quot;123&quot;,&quot;ram&quot;,&quot;2023-05-09T13:30:00.000+00:00&quot;));\r\n    accountList.add(new Account(&quot;123&quot;, &quot;ram&quot;,&quot;2023-05-09T14:30:00.000+00:00&quot;));\r\n    \r\n    List&lt;Account&gt; uniqueAccounts = \r\n        accountList\r\n            .stream()\r\n            .collect(\r\n                Collectors.toMap(\r\n                    Account::getId, \r\n                    Function.identity(),\r\n                    (account1, account2) -&gt; account1\r\n                )\r\n            )\r\n            .values()\r\n            .stream()\r\n            .collect(Collectors.toList());\r\n\r\nThe **Function.identity()** method is used as the value mapper to simply return the Account object as the value. In case of duplicate keys, \r\nwe use the merge function **(account1, account2) -&gt; account1** to keep the first occurrence of the Account object.\r\n\r\nNote that in the above code, we are keeping the first occurrence of the Account object in case of duplicates. \r\nYou can modify the merge function to keep the last occurrence or use more complex logic to merge the duplicate objects as needed.\r\n\r\nThe **import package** for the Function class is **java.util.function**.\r\n","title":"Convert a a object list to a list with unique list of objects","body":"<p>You can get a list of unique items based on their <strong>ID</strong> using streams and the <strong>Collectors.toMap()</strong> method, as follows:</p>\n<pre><code>List&lt;Account&gt; accountList = new ArrayList&lt;&gt;();\naccountList.add(new Account(&quot;123&quot;,&quot;ram&quot;,&quot;2023-05-09T13:30:00.000+00:00&quot;));\naccountList.add(new Account(&quot;123&quot;, &quot;ram&quot;,&quot;2023-05-09T14:30:00.000+00:00&quot;));\n\nList&lt;Account&gt; uniqueAccounts = \n    accountList\n        .stream()\n        .collect(\n            Collectors.toMap(\n                Account::getId, \n                Function.identity(),\n                (account1, account2) -&gt; account1\n            )\n        )\n        .values()\n        .stream()\n        .collect(Collectors.toList());\n</code></pre>\n<p>The <strong>Function.identity()</strong> method is used as the value mapper to simply return the Account object as the value. In case of duplicate keys,\nwe use the merge function <strong>(account1, account2) -&gt; account1</strong> to keep the first occurrence of the Account object.</p>\n<p>Note that in the above code, we are keeping the first occurrence of the Account object in case of duplicates.\nYou can modify the merge function to keep the last occurrence or use more complex logic to merge the duplicate objects as needed.</p>\n<p>The <strong>import package</strong> for the Function class is <strong>java.util.function</strong>.</p>\n"}],"owner":{"account_id":23208304,"reputation":55,"user_id":17302184,"display_name":"Developer and Thinker"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76210666,"answer_count":2,"score":1,"last_activity_date":1683668074,"creation_date":1683642073,"question_id":76210355,"body_markdown":"I have an Arraylist like below where I get some values from database due to JOIN \r\n\r\nStructure I am getting now\r\n\r\n      List&lt;Account&gt; accountList= new ArrayList&lt;&gt;();\r\n\t\taccountList.add(new Account(&quot;123&quot;,&quot;ram&quot;,&quot;2023-05-09T13:30:00.000+00:00&quot;));\r\n\t\taccountList.add(new Account(&quot;123&quot;, &quot;ram&quot;,&quot;2023-05-09T14:30:00.000+00:00&quot;));\r\n\r\nDesired Output after converting\r\n\r\n       accountList.add(new Account(&quot;123&quot;,&quot;ram&quot;,&quot;2023-05-09T13:30:00.000+00:00&quot;));\r\n\r\nMy Pojo class Account.java\r\n\r\n    String id;\r\n\r\n\tString name;\r\n\r\n\tDate startDate;\r\n\t\r\n\r\nI have to use streams for making this possible to get List of unique Account Objects based on id\r\n       ","title":"Convert a a object list to a list with unique list of objects","body":"<p>I have an Arraylist like below where I get some values from database due to JOIN</p>\n<p>Structure I am getting now</p>\n<pre><code>  List&lt;Account&gt; accountList= new ArrayList&lt;&gt;();\n    accountList.add(new Account(&quot;123&quot;,&quot;ram&quot;,&quot;2023-05-09T13:30:00.000+00:00&quot;));\n    accountList.add(new Account(&quot;123&quot;, &quot;ram&quot;,&quot;2023-05-09T14:30:00.000+00:00&quot;));\n</code></pre>\n<p>Desired Output after converting</p>\n<pre><code>   accountList.add(new Account(&quot;123&quot;,&quot;ram&quot;,&quot;2023-05-09T13:30:00.000+00:00&quot;));\n</code></pre>\n<p>My Pojo class Account.java</p>\n<pre><code>String id;\n\nString name;\n\nDate startDate;\n</code></pre>\n<p>I have to use streams for making this possible to get List of unique Account Objects based on id</p>\n"},{"tags":["java","android","nullpointerexception","android-asynctask"],"comments":[{"owner":{"account_id":5849714,"reputation":92,"user_id":5362509,"display_name":"Lakshmi"},"score":0,"creation_date":1683688295,"post_id":76210486,"comment_id":134403410,"body_markdown":"Show where/how are you making the Asynchronous call.","body":"Show where/how are you making the Asynchronous call."}],"answers":[{"tags":[],"owner":{"account_id":16796825,"reputation":1274,"user_id":12143126,"display_name":"Mikhail Guliaev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683643351,"creation_date":1683643351,"answer_id":76210549,"question_id":76210486,"body_markdown":"1. You first need to figure out why `inputStream` is `null` (I suppose that there was thrown also an exception earlier in `try`-block, but you did not provide this code)\r\n2. To just workaround this method you can just surround this statement by null-checking:\r\n\r\n        if (inputStream != null) {\r\n            inputStream.close();\r\n        }\r\n\r\nBut I recommend you to figure out why `inputStream` was `null` and fix that issue.","title":"AndroidRuntime: FATAL EXCEPTION: AsyncTask #2","body":"<ol>\n<li><p>You first need to figure out why <code>inputStream</code> is <code>null</code> (I suppose that there was thrown also an exception earlier in <code>try</code>-block, but you did not provide this code)</p>\n</li>\n<li><p>To just workaround this method you can just surround this statement by null-checking:</p>\n<pre><code> if (inputStream != null) {\n     inputStream.close();\n }\n</code></pre>\n</li>\n</ol>\n<p>But I recommend you to figure out why <code>inputStream</code> was <code>null</code> and fix that issue.</p>\n"}],"owner":{"account_id":28520905,"reputation":1,"user_id":21829635,"display_name":"Yash Deshmukh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683667767,"creation_date":1683642962,"question_id":76210486,"body_markdown":"I am making an app for showing nearby places. But I have a runtime error&lt;br&gt; `FATAL EXCEPTION: AsyncTask #2NullPointerException` and the app is crashed.&lt;br&gt;\r\nI am trying to send nearby places data URL.  But I don&#39;t understand why it has happened.\r\n\r\nThis is log cat:\r\n\r\n```\r\nFATAL EXCEPTION: AsyncTask #2\r\n                                                                                                    Process: com.example.findnearbyfinder, PID: 20784\r\n                                                                                                    java.lang.RuntimeException: An error occurred while executing doInBackground()\r\n    at android.os.AsyncTask$4.done(AsyncTask.java:415)\r\n    at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:383)\r\n    at java.util.concurrent.FutureTask.setException(FutureTask.java:252)\r\n    at java.util.concurrent.FutureTask.run(FutureTask.java:271)\r\n    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n    at java.lang.Thread.run(Thread.java:923)\r\n                                                                                                    Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void java.io.InputStream.close()&#39; on a null object reference\r\n    at com.example.findnearbyfinder.DownloadUrl.retireveUrl(DownloadUrl.java:42)\r\n    at com.example.findnearbyfinder.FetchData.doInBackground(FetchData.java:58)\r\n    at com.example.findnearbyfinder.FetchData.doInBackground(FetchData.java:16)\r\n    at android.os.AsyncTask$3.call(AsyncTask.java:394)\r\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)&#160;\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n    at java.lang.Thread.run(Thread.java:923)&#160;\r\n```\r\n\r\n`Downloadurl.java` :\r\n\r\n```\r\npackage com.example.findnearbyfinder;\r\n\r\nimport android.util.Log;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\n\r\npublic class DownloadUrl {\r\n\r\n    public String retireveUrl(String url)throws IOException{\r\n        String urlData = &quot;&quot;;\r\n        HttpURLConnection httpURLConnection = null;\r\n        InputStream inputStream = null;\r\n\r\n        try{\r\n            URL getUrl = new URL(url);\r\n            httpURLConnection = (HttpURLConnection) getUrl.openConnection();\r\n            httpURLConnection.connect();\r\n\r\n            inputStream = httpURLConnection.getInputStream();\r\n\r\n            BufferedReader bufferedReader = new BufferedReader((new InputStreamReader(inputStream)));\r\n            StringBuffer sb = new StringBuffer();\r\n\r\n            String line = &quot;&quot;;\r\n\r\n            while ((line = bufferedReader.readLine())!=null){\r\n                sb.append(line);\r\n\r\n            }\r\n            urlData = sb.toString();\r\n            bufferedReader.close();\r\n\r\n        }catch (Exception e){\r\n            Log.d(&quot;Exception&quot;, e.toString());\r\n\r\n        }finally {\r\n            inputStream.close();\r\n            httpURLConnection.disconnect();\r\n        }\r\n        return  urlData;\r\n    }\r\n\r\n}\r\n```\r\n\r\nFetchData.java :\r\n\r\n```\r\npackage com.example.findnearbyfinder;\r\n\r\nimport android.os.AsyncTask;\r\n\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class FetchData extends AsyncTask&lt;Object,String,String&gt; {\r\n\r\n    String googleNearbyPlaceData;\r\n    GoogleMap googleMap;\r\n    String url;\r\n\r\n    @Override\r\n    protected void onPostExecute(String s) {\r\n        try{\r\n            JSONObject jsonObject = new JSONObject(s);\r\n            JSONArray jsonArray= jsonObject.getJSONArray(&quot;result&quot;);\r\n\r\n            for (int i=0 ; i&lt;jsonArray.length(); i++){\r\n                JSONObject jsonObject1 = jsonArray.getJSONObject(i);\r\n                JSONObject getLocation = jsonObject1.getJSONObject(&quot;geometry&quot;)\r\n                        .getJSONObject(&quot;location&quot;);\r\n\r\n                String lat = getLocation.getString(&quot;lat&quot;);\r\n                String lng = getLocation.getString(&quot;lng&quot;);\r\n\r\n                JSONArray getName = jsonArray.getJSONArray(i);\r\n                String name = getName.getString(Integer.parseInt(&quot;name&quot;));\r\n\r\n                LatLng latLng = new LatLng(Double.parseDouble(lat),Double.parseDouble(lng));\r\n                MarkerOptions markerOptions = new MarkerOptions();\r\n                markerOptions.title(name);\r\n                markerOptions.position(latLng);\r\n                googleMap.addMarker(markerOptions);\r\n                googleMap.moveCamera(CameraUpdateFactory.newLatLngZoom(latLng,15));\r\n            }\r\n        } catch (JSONException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected String doInBackground(Object... objects) {\r\n\r\n        try{\r\n            googleMap = (GoogleMap) objects[0];\r\n            url = (String) objects[1];\r\n            DownloadUrl downloadUrl = new DownloadUrl();\r\n            googleNearbyPlaceData = downloadUrl.retireveUrl(url);\r\n\r\n        }catch(IOException e){\r\n            e.printStackTrace();\r\n        }\r\n        return  googleNearbyPlaceData;\r\n\r\n    }\r\n}\r\n```\r\n\r\nI am expecting download nearby places URL and fetch the URL but it crashed due to **NullPointerException**.","title":"AndroidRuntime: FATAL EXCEPTION: AsyncTask #2","body":"<p>I am making an app for showing nearby places. But I have a runtime error<br> <code>FATAL EXCEPTION: AsyncTask #2NullPointerException</code> and the app is crashed.<br>\nI am trying to send nearby places data URL.  But I don't understand why it has happened.</p>\n<p>This is log cat:</p>\n<pre><code>FATAL EXCEPTION: AsyncTask #2\n                                                                                                    Process: com.example.findnearbyfinder, PID: 20784\n                                                                                                    java.lang.RuntimeException: An error occurred while executing doInBackground()\n    at android.os.AsyncTask$4.done(AsyncTask.java:415)\n    at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:383)\n    at java.util.concurrent.FutureTask.setException(FutureTask.java:252)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:271)\n    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n    at java.lang.Thread.run(Thread.java:923)\n                                                                                                    Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void java.io.InputStream.close()' on a null object reference\n    at com.example.findnearbyfinder.DownloadUrl.retireveUrl(DownloadUrl.java:42)\n    at com.example.findnearbyfinder.FetchData.doInBackground(FetchData.java:58)\n    at com.example.findnearbyfinder.FetchData.doInBackground(FetchData.java:16)\n    at android.os.AsyncTask$3.call(AsyncTask.java:394)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305) \n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) \n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) \n    at java.lang.Thread.run(Thread.java:923) \n</code></pre>\n<p><code>Downloadurl.java</code> :</p>\n<pre><code>package com.example.findnearbyfinder;\n\nimport android.util.Log;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic class DownloadUrl {\n\n    public String retireveUrl(String url)throws IOException{\n        String urlData = &quot;&quot;;\n        HttpURLConnection httpURLConnection = null;\n        InputStream inputStream = null;\n\n        try{\n            URL getUrl = new URL(url);\n            httpURLConnection = (HttpURLConnection) getUrl.openConnection();\n            httpURLConnection.connect();\n\n            inputStream = httpURLConnection.getInputStream();\n\n            BufferedReader bufferedReader = new BufferedReader((new InputStreamReader(inputStream)));\n            StringBuffer sb = new StringBuffer();\n\n            String line = &quot;&quot;;\n\n            while ((line = bufferedReader.readLine())!=null){\n                sb.append(line);\n\n            }\n            urlData = sb.toString();\n            bufferedReader.close();\n\n        }catch (Exception e){\n            Log.d(&quot;Exception&quot;, e.toString());\n\n        }finally {\n            inputStream.close();\n            httpURLConnection.disconnect();\n        }\n        return  urlData;\n    }\n\n}\n</code></pre>\n<p>FetchData.java :</p>\n<pre><code>package com.example.findnearbyfinder;\n\nimport android.os.AsyncTask;\n\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MarkerOptions;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.io.IOException;\n\npublic class FetchData extends AsyncTask&lt;Object,String,String&gt; {\n\n    String googleNearbyPlaceData;\n    GoogleMap googleMap;\n    String url;\n\n    @Override\n    protected void onPostExecute(String s) {\n        try{\n            JSONObject jsonObject = new JSONObject(s);\n            JSONArray jsonArray= jsonObject.getJSONArray(&quot;result&quot;);\n\n            for (int i=0 ; i&lt;jsonArray.length(); i++){\n                JSONObject jsonObject1 = jsonArray.getJSONObject(i);\n                JSONObject getLocation = jsonObject1.getJSONObject(&quot;geometry&quot;)\n                        .getJSONObject(&quot;location&quot;);\n\n                String lat = getLocation.getString(&quot;lat&quot;);\n                String lng = getLocation.getString(&quot;lng&quot;);\n\n                JSONArray getName = jsonArray.getJSONArray(i);\n                String name = getName.getString(Integer.parseInt(&quot;name&quot;));\n\n                LatLng latLng = new LatLng(Double.parseDouble(lat),Double.parseDouble(lng));\n                MarkerOptions markerOptions = new MarkerOptions();\n                markerOptions.title(name);\n                markerOptions.position(latLng);\n                googleMap.addMarker(markerOptions);\n                googleMap.moveCamera(CameraUpdateFactory.newLatLngZoom(latLng,15));\n            }\n        } catch (JSONException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    protected String doInBackground(Object... objects) {\n\n        try{\n            googleMap = (GoogleMap) objects[0];\n            url = (String) objects[1];\n            DownloadUrl downloadUrl = new DownloadUrl();\n            googleNearbyPlaceData = downloadUrl.retireveUrl(url);\n\n        }catch(IOException e){\n            e.printStackTrace();\n        }\n        return  googleNearbyPlaceData;\n\n    }\n}\n</code></pre>\n<p>I am expecting download nearby places URL and fetch the URL but it crashed due to <strong>NullPointerException</strong>.</p>\n"},{"tags":["java","maven","properties"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1683667376,"post_id":76213436,"comment_id":134401311,"body_markdown":"Try `var propFile = System.getProperty(&quot;properties.file&quot;)`","body":"Try <code>var propFile = System.getProperty(&quot;properties.file&quot;)</code>"},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1683667493,"post_id":76213436,"comment_id":134401329,"body_markdown":"Could you say more precisely ? Thank you","body":"Could you say more precisely ? Thank you"},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1683667807,"post_id":76213436,"comment_id":134401380,"body_markdown":"I have 2 profiles - both have the same &quot;&lt;properties.file&gt;&quot; - how can I choose correct .properties file with a use of &quot;System.getProperty(&quot;properties.file&quot;)&quot; ?","body":"I have 2 profiles - both have the same &quot;&lt;properties.file&gt;&quot; - how can I choose correct .properties file with a use of &quot;System.getProperty(&quot;properties.file&quot;)&quot; ?"},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1683667876,"post_id":76213436,"comment_id":134401394,"body_markdown":"You can obtain all variables which defined in `systemPropertyVariables`  section using `System.getProperty([variableName])`. Then pass properties file path to `FileInputstream`&#39;s constructor","body":"You can obtain all variables which defined in <code>systemPropertyVariables</code>  section using <code>System.getProperty([variableName])</code>. Then pass properties file path to <code>FileInputstream</code>&#39;s constructor"},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1683667957,"post_id":76213436,"comment_id":134401425,"body_markdown":"Ok, but I have 2 identical &quot;&lt;properties.file&gt;&quot;","body":"Ok, but I have 2 identical &quot;&lt;properties.file&gt;&quot;"},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1683668021,"post_id":76213436,"comment_id":134401435,"body_markdown":"what will return this commnad: System.getProperty(&quot;properties.file&quot;) ? https://www.pageOne.com/ or https://www.pageTwo.com/ ?","body":"what will return this commnad: System.getProperty(&quot;properties.file&quot;) ? <a href=\"https://www.pageOne.com/\" rel=\"nofollow noreferrer\">pageOne.com</a> or <a href=\"https://www.pageTwo.com/\" rel=\"nofollow noreferrer\">pageTwo.com</a> ?"},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1683668027,"post_id":76213436,"comment_id":134401437,"body_markdown":"In a different maven profile. And you put the correct maven command to activate a certain profile.","body":"In a different maven profile. And you put the correct maven command to activate a certain profile."},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1683668133,"post_id":76213436,"comment_id":134401456,"body_markdown":"&quot;What will return?&quot; I think it&#39;s easier to try it out, than write more comments. No offense.","body":"&quot;What will return?&quot; I think it&#39;s easier to try it out, than write more comments. No offense."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1683721876,"post_id":76213436,"comment_id":134409734,"body_markdown":"First properties for testing do not belong into `src/main/resources` better into `src/test/resources` ... furthermore why do you need a profile for that? Why not letting the integration test doing the handling of the different property files?","body":"First properties for testing do not belong into <code>src&#47;main&#47;resources</code> better into <code>src&#47;test&#47;resources</code> ... furthermore why do you need a profile for that? Why not letting the integration test doing the handling of the different property files?"},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1683976172,"post_id":76213436,"comment_id":134451061,"body_markdown":"Solution with System.getProperty([variableName]) works - thank you very much","body":"Solution with System.getProperty([variableName]) works - thank you very much"}],"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683667605,"creation_date":1683667162,"question_id":76213436,"body_markdown":"In pom file I have 2 profiles.\r\nHow can I read from urlOne.properties and urlTwo.properties with a use of mvn command:\r\n\r\nmvn test -PurlOne (this command should run test with url: www.pageOne.com)\r\n\r\nmvn test -PurlTwo (this command should run test with url: www.pageTwo.com)\r\n\r\nHow can I pass correct properties filename to &quot;InputStream inputStream = new FileInputStream(PROPERTIES_FILE_NAME);&quot; ?\r\n\r\nCould you modify the code ? Thank you\r\n\r\n```\r\n&lt;profiles&gt;\r\n\r\n    &lt;profile&gt;\r\n        &lt;id&gt;urlOne&lt;/id&gt;\r\n        \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;systemPropertyVariables&gt;\r\n                            &lt;env&gt;local&lt;/env&gt;\r\n                            &lt;properties.file&gt;src/main/resources/urlOne.properties&lt;/properties.file&gt;\r\n                        &lt;/systemPropertyVariables&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n    &lt;/profile&gt;\r\n\r\n\r\n    &lt;profile&gt;\r\n        &lt;id&gt;urlTwo&lt;/id&gt;\r\n\r\n\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;systemPropertyVariables&gt;\r\n                            &lt;env&gt;local&lt;/env&gt;\r\n                            &lt;properties.file&gt;src/main/resources/urlTwo.properties&lt;/properties.file&gt;\r\n                        &lt;/systemPropertyVariables&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n    &lt;/profile&gt;\r\n\r\n&lt;/profiles&gt;\r\n```\r\n\r\n\r\nIn src/main/resources I have 2 properties files: urlOne.properties and urlTwo.properties\r\nContent of properties looks like this:\r\n```\r\nurl=https://www.pageOne.com/\r\n\r\nurl=https://www.pageTwo.com/\r\n```\r\n\r\nIn Hook class I have a method:\r\n\r\n```\r\n@Before()\r\npublic void before(Scenario scenario) {\r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C://Users//User//Projects/chromedriver.exe&quot;);\r\n    driver = new ChromeDriver();\r\n\r\n   Properties properties = new Properties();\r\nInputStream inputStream = new FileInputStream(PROPERTIES_FILE_NAME);\r\nInputStreamReader inputStreamReader = new InputStreamReader(inputStream, StandardCharsets.UTF_8);\r\nproperties.load(inputStreamReader);\r\n    driver.get(properties.getProperty(&quot;url&quot;));\r\n```\r\n\r\n\r\nHow can I read from .properties file to open a test with correct url ?","title":"Java - how can I read from .properties file with a use of maven profiles?","body":"<p>In pom file I have 2 profiles.\nHow can I read from urlOne.properties and urlTwo.properties with a use of mvn command:</p>\n<p>mvn test -PurlOne (this command should run test with url: <a href=\"http://www.pageOne.com\" rel=\"nofollow noreferrer\">www.pageOne.com</a>)</p>\n<p>mvn test -PurlTwo (this command should run test with url: <a href=\"http://www.pageTwo.com\" rel=\"nofollow noreferrer\">www.pageTwo.com</a>)</p>\n<p>How can I pass correct properties filename to &quot;InputStream inputStream = new FileInputStream(PROPERTIES_FILE_NAME);&quot; ?</p>\n<p>Could you modify the code ? Thank you</p>\n<pre><code>&lt;profiles&gt;\n\n    &lt;profile&gt;\n        &lt;id&gt;urlOne&lt;/id&gt;\n        \n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;systemPropertyVariables&gt;\n                            &lt;env&gt;local&lt;/env&gt;\n                            &lt;properties.file&gt;src/main/resources/urlOne.properties&lt;/properties.file&gt;\n                        &lt;/systemPropertyVariables&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n\n    &lt;/profile&gt;\n\n\n    &lt;profile&gt;\n        &lt;id&gt;urlTwo&lt;/id&gt;\n\n\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;systemPropertyVariables&gt;\n                            &lt;env&gt;local&lt;/env&gt;\n                            &lt;properties.file&gt;src/main/resources/urlTwo.properties&lt;/properties.file&gt;\n                        &lt;/systemPropertyVariables&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n\n    &lt;/profile&gt;\n\n&lt;/profiles&gt;\n</code></pre>\n<p>In src/main/resources I have 2 properties files: urlOne.properties and urlTwo.properties\nContent of properties looks like this:</p>\n<pre><code>url=https://www.pageOne.com/\n\nurl=https://www.pageTwo.com/\n</code></pre>\n<p>In Hook class I have a method:</p>\n<pre><code>@Before()\npublic void before(Scenario scenario) {\n\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C://Users//User//Projects/chromedriver.exe&quot;);\n    driver = new ChromeDriver();\n\n   Properties properties = new Properties();\nInputStream inputStream = new FileInputStream(PROPERTIES_FILE_NAME);\nInputStreamReader inputStreamReader = new InputStreamReader(inputStream, StandardCharsets.UTF_8);\nproperties.load(inputStreamReader);\n    driver.get(properties.getProperty(&quot;url&quot;));\n</code></pre>\n<p>How can I read from .properties file to open a test with correct url ?</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":16349453,"reputation":37,"user_id":11808404,"display_name":"Dino"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683667261,"creation_date":1683667261,"answer_id":76213445,"question_id":76181523,"body_markdown":"Solution was to not use the Folder as source (as it had no java Files) but as class Folder in classpath","title":"Using classes from wsimport -target 2.0 in Eclipse maven Project JavaSE-11","body":"<p>Solution was to not use the Folder as source (as it had no java Files) but as class Folder in classpath</p>\n"}],"owner":{"account_id":16349453,"reputation":37,"user_id":11808404,"display_name":"Dino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683667261,"creation_date":1683284884,"question_id":76181523,"body_markdown":"I&#39;m not sure why it isn&#39;t working, because it hat worked in the past before things changed, but now, when I make an wsimport in Linux bash and even though the Folder is in the build path, Eclipse doesn&#39;t show the Classes as expected.\r\n\r\nThe package can be seen, but the classes inside of it not, even though it looks right on the file system.","title":"Using classes from wsimport -target 2.0 in Eclipse maven Project JavaSE-11","body":"<p>I'm not sure why it isn't working, because it hat worked in the past before things changed, but now, when I make an wsimport in Linux bash and even though the Folder is in the build path, Eclipse doesn't show the Classes as expected.</p>\n<p>The package can be seen, but the classes inside of it not, even though it looks right on the file system.</p>\n"},{"tags":["java","iterator"],"comments":[{"owner":{"account_id":78033,"reputation":3457,"user_id":222364,"display_name":"Darth Android"},"score":0,"creation_date":1458578304,"post_id":36136715,"comment_id":59911802,"body_markdown":"Only by advancing the iterator.","body":"Only by advancing the iterator."},{"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"score":2,"creation_date":1458578421,"post_id":36136715,"comment_id":59911883,"body_markdown":"If you use a `ListIterator` you can move in both directions, making it easy to do this. With an ordinary `Iterator` you cannot peek ahead.","body":"If you use a <code>ListIterator</code> you can move in both directions, making it easy to do this. With an ordinary <code>Iterator</code> you cannot peek ahead."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1458579661,"post_id":36136715,"comment_id":59912797,"body_markdown":"Does &quot;nearby&quot; mean &quot;consecutive&quot;, as in &quot;right next to each other&quot;? If so, what is wrong with the solution you gave as RESEARCH?","body":"Does &quot;nearby&quot; mean &quot;consecutive&quot;, as in &quot;right next to each other&quot;? If so, what is wrong with the solution you gave as RESEARCH?"}],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683667111,"creation_date":1458578118,"question_id":36136715,"body_markdown":"PROBLEM. Need to compare two nearby iterator elements in Java.\r\n\r\nRESEARCH. Could be solved by recording outside previous iterated element.\r\n\r\nQUESTION. Is there a direct way to get iterator element, that is after next?","title":"Java Get After Next Iterator Element","body":"<p>PROBLEM. Need to compare two nearby iterator elements in Java.</p>\n\n<p>RESEARCH. Could be solved by recording outside previous iterated element.</p>\n\n<p>QUESTION. Is there a direct way to get iterator element, that is after next?</p>\n"},{"tags":["java","eclipse","compiler-errors"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683657844,"post_id":76212287,"comment_id":134399600,"body_markdown":"Error messages and logs should use code format, not quoted format.","body":"Error messages and logs should use code format, not quoted format."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683663554,"post_id":76212287,"comment_id":134400660,"body_markdown":"*When I run the program through the src folder* What does that mean? Are you running it at the command line or something?","body":"<i>When I run the program through the src folder</i> What does that mean? Are you running it at the command line or something?"},{"owner":{"account_id":19631073,"reputation":1,"user_id":14391439,"display_name":"BeanieBaby"},"score":0,"creation_date":1683668318,"post_id":76212287,"comment_id":134401482,"body_markdown":"No, sorry for the confusion. What I meant when the classes are in the src folder and I run the main class, I receive an error. When the classes are not in a src folder and are simply in the default package and I run the main class, I don&#39;t receive an error.\nMaybe these screenshots will clarify:\n\nhttps://pasteboard.co/l43pwIrRFFzk.png\n\nhttps://pasteboard.co/QGJXA0XujEb6.png","body":"No, sorry for the confusion. What I meant when the classes are in the src folder and I run the main class, I receive an error. When the classes are not in a src folder and are simply in the default package and I run the main class, I don&#39;t receive an error. Maybe these screenshots will clarify:  <a href=\"https://pasteboard.co/l43pwIrRFFzk.png\" rel=\"nofollow noreferrer\">pasteboard.co/l43pwIrRFFzk.png</a>  <a href=\"https://pasteboard.co/QGJXA0XujEb6.png\" rel=\"nofollow noreferrer\">pasteboard.co/QGJXA0XujEb6.png</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1683701696,"post_id":76212287,"comment_id":134405009,"body_markdown":"In your first screenshot you use Java 17 (and the project folder is used as source folder which is not recommended, but maybe unrelated here). In contrast, in your second screenshot you use Java 8 (Java 8 is less restrictive than Java 17, which may result in different behavior in rare cases). Please show your code. `&quot;homeNode&quot; is null` in line 19. Where and how is `homeNode` set?","body":"In your first screenshot you use Java 17 (and the project folder is used as source folder which is not recommended, but maybe unrelated here). In contrast, in your second screenshot you use Java 8 (Java 8 is less restrictive than Java 17, which may result in different behavior in rare cases). Please show your code. <code>&quot;homeNode&quot; is null</code> in line 19. Where and how is <code>homeNode</code> set?"}],"owner":{"account_id":19631073,"reputation":1,"user_id":14391439,"display_name":"BeanieBaby"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683667051,"creation_date":1683655767,"question_id":76212287,"body_markdown":"I am new to programming and am completing a project in Eclipse for Java and I am running into an error I can&#39;t resolve. When I run the program through the src folder, I get the following error:`\r\n\r\n     Missing file Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;GraphNode.getId()&quot; because &quot;homeNode&quot; is null at Main.main(Main.java:19)`\r\n\r\nHowever, when I don&#39;t run my program through the src folder and instead run it straight through the default package, my program works completely fine. Does anyone have any idea what may be causing this issue? I tried deleting and redownloading Eclipse in addition to manually re-adding the classes into the src folder multiple times, and it doesn&#39;t work. If necessary I can provide my code, but since the program runs in the default package completely fine I don&#39;t think the error is in the code.\r\n\r\nAs I mentioned, I tried deleting and redownloading Eclipse in addition to manually re-adding the classes into the src folder multiple times. The outcome I expected was for the program to run the same through the src folder as it does through the default package, but what actually resulted was the error:\r\n\r\n    Missing file Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;GraphNode.getId()&quot;\r\n    because &quot;homeNode&quot; is null at Main.main(Main.java:19)\r\n\r\n","title":"How do I resolve a missing file error that arises when I run my program through the src file?","body":"<p>I am new to programming and am completing a project in Eclipse for Java and I am running into an error I can't resolve. When I run the program through the src folder, I get the following error:`</p>\n<pre><code> Missing file Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;GraphNode.getId()&quot; because &quot;homeNode&quot; is null at Main.main(Main.java:19)`\n</code></pre>\n<p>However, when I don't run my program through the src folder and instead run it straight through the default package, my program works completely fine. Does anyone have any idea what may be causing this issue? I tried deleting and redownloading Eclipse in addition to manually re-adding the classes into the src folder multiple times, and it doesn't work. If necessary I can provide my code, but since the program runs in the default package completely fine I don't think the error is in the code.</p>\n<p>As I mentioned, I tried deleting and redownloading Eclipse in addition to manually re-adding the classes into the src folder multiple times. The outcome I expected was for the program to run the same through the src folder as it does through the default package, but what actually resulted was the error:</p>\n<pre><code>Missing file Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;GraphNode.getId()&quot;\nbecause &quot;homeNode&quot; is null at Main.main(Main.java:19)\n</code></pre>\n"},{"tags":["java","android","android-fragments"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683670501,"post_id":76213417,"comment_id":134401782,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76213417/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":18471408,"reputation":5,"user_id":13456203,"display_name":"THE Anonymous"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683666978,"creation_date":1683666978,"answer_id":76213417,"question_id":76157219,"body_markdown":"Try this\r\n\r\n    public class MainActivity extends.Activity {\r\n     \r\n     private static final String.BACK_STACK_ROOT_TAG = &quot;root_fragment&quot;;`\r\n    \r\n    \r\n\r\n","title":"show error of undefine root fragment tag in pop back stack in android app development","body":"<p>Try this</p>\n<pre><code>public class MainActivity extends.Activity {\n \n private static final String.BACK_STACK_ROOT_TAG = &quot;root_fragment&quot;;`\n</code></pre>\n"}],"owner":{"account_id":28484436,"reputation":1,"user_id":21797942,"display_name":"Rao Saran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683666978,"creation_date":1683046869,"question_id":76157219,"body_markdown":"In \r\n\r\n    fm.popBackStack([tag:ROOT_FRAGMENT_TAG],FragmentManager.POP_BACK_STACK_INCLUSIVE); \r\n\r\nthe root fragment tag is not defined. I want to as is it depreciated in the latest version. If yes, then please tell me any alternative.\r\n\r\n[![here a pic][1]][1]\r\n\r\nI have searched on Google, YouTube, Android website and stack. I got many answers about popBackStack but it will not satisfy me because my problem about the root fragment tag in popBackStack that is not working but on a YouTube course that is uploaded 1 year ago it&#39;s working.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IAsuA.png","title":"show error of undefine root fragment tag in pop back stack in android app development","body":"<p>In</p>\n<pre><code>fm.popBackStack([tag:ROOT_FRAGMENT_TAG],FragmentManager.POP_BACK_STACK_INCLUSIVE); \n</code></pre>\n<p>the root fragment tag is not defined. I want to as is it depreciated in the latest version. If yes, then please tell me any alternative.</p>\n<p><a href=\"https://i.stack.imgur.com/IAsuA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IAsuA.png\" alt=\"here a pic\" /></a></p>\n<p>I have searched on Google, YouTube, Android website and stack. I got many answers about popBackStack but it will not satisfy me because my problem about the root fragment tag in popBackStack that is not working but on a YouTube course that is uploaded 1 year ago it's working.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8261041,"reputation":2490,"user_id":6212446,"accept_rate":57,"display_name":"M.Waqas Pervez"},"score":0,"creation_date":1484555471,"post_id":41672148,"comment_id":70541920,"body_markdown":"Whats the error you are getting ? did u define the activity in the `AndroidMenifest` ?","body":"Whats the error you are getting ? did u define the activity in the <code>AndroidMenifest</code> ?"},{"owner":{"account_id":6068657,"reputation":6044,"user_id":4738175,"accept_rate":56,"display_name":"OBX"},"score":0,"creation_date":1484555472,"post_id":41672148,"comment_id":70541921,"body_markdown":"post the `logcat` if you are looking for help","body":"post the <code>logcat</code> if you are looking for help"},{"owner":{"account_id":9782823,"reputation":1375,"user_id":7250217,"accept_rate":50,"display_name":"teck wei"},"score":0,"creation_date":1484555736,"post_id":41672148,"comment_id":70542034,"body_markdown":"Could you get us the log cat? We could solve it with the logcat.","body":"Could you get us the log cat? We could solve it with the logcat."},{"owner":{"account_id":6989286,"reputation":29,"user_id":5359113,"display_name":"Formula-G"},"score":0,"creation_date":1484556883,"post_id":41672148,"comment_id":70542604,"body_markdown":"Error message:  W/EGL_emulation: eglSurfaceAttrib not implemented   \nW/OpenGLRenderer: Failed to set EGL_SWAP_BEHAVIOR on surface 0x7f402ad26640, error=EGL_SUCCESS","body":"Error message:  W/EGL_emulation: eglSurfaceAttrib not implemented    W/OpenGLRenderer: Failed to set EGL_SWAP_BEHAVIOR on surface 0x7f402ad26640, error=EGL_SUCCESS"}],"answers":[{"tags":[],"owner":{"account_id":6824086,"reputation":6003,"user_id":5250273,"accept_rate":86,"display_name":"Ugurcan Yildirim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484555815,"creation_date":1484555481,"answer_id":41672186,"question_id":41672148,"body_markdown":"Be sure that you add `RegisterActivity` to your `AndroidManifest.xml` inside `&lt;application&gt;` tag:\r\n\r\n    &lt;application ...&gt;\r\n\r\n        ...\r\n\r\n        &lt;activity\r\n           android:label=&quot;@string/app_name&quot;   \r\n           android:name=&quot;.RegisterActivity&quot;/&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n","title":"Android application failed to start activity","body":"<p>Be sure that you add <code>RegisterActivity</code> to your <code>AndroidManifest.xml</code> inside <code>&lt;application&gt;</code> tag:</p>\n\n<pre><code>&lt;application ...&gt;\n\n    ...\n\n    &lt;activity\n       android:label=\"@string/app_name\"   \n       android:name=\".RegisterActivity\"/&gt;\n\n&lt;/application&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8907408,"reputation":5522,"user_id":6648807,"display_name":"W4R10CK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484555650,"creation_date":1484555650,"answer_id":41672236,"question_id":41672148,"body_markdown":"Put proper Menifest format:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.a20_1discussboard&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;&quot;\r\n    &lt;application\r\n    android:allowBackup=&quot;true&quot;\r\n    android:label=&quot;@string/app_name&quot;\r\n    android:theme=&quot;@style/AppTheme&quot; &gt;\r\n    &lt;activity\r\n        android:name=&quot;.MainActivity&quot;\r\n        android:label=&quot;@string/app_name&quot; &gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n    &lt;activity android:label=&quot;@string/app_name&quot;     \r\n              android:name=&quot;.RegisterActivity&quot;/&gt;   //&lt;---here\r\n    &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\n\r\nDon&#39;t call `finish()`, this caused your crash:\r\n\r\n        registerET.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View v) {\r\n                Log.i(&quot;clicks&quot;,&quot;You Clicked register page&quot;);\r\n                Intent myIntent = new Intent(MainActivity.this, RegisterActivity.class);\r\n                startActivity(myIntent);\r\n                //remove finish();\r\n            }\r\n        });","title":"Android application failed to start activity","body":"<p>Put proper Menifest format:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"com.example.a20_1discussboard\"&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\"&gt;&lt;/uses-permission&gt;\"\n&lt;application\nandroid:allowBackup=\"true\"\nandroid:label=\"@string/app_name\"\nandroid:theme=\"@style/AppTheme\" &gt;\n&lt;activity\n    android:name=\".MainActivity\"\n    android:label=\"@string/app_name\" &gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n        &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n&lt;activity android:label=\"@string/app_name\"     \n          android:name=\".RegisterActivity\"/&gt;   //&lt;---here\n&lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>Don't call <code>finish()</code>, this caused your crash:</p>\n\n<pre><code>    registerET.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View v) {\n            Log.i(\"clicks\",\"You Clicked register page\");\n            Intent myIntent = new Intent(MainActivity.this, RegisterActivity.class);\n            startActivity(myIntent);\n            //remove finish();\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4051641,"reputation":514,"user_id":3330973,"display_name":"Deyu瑜"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484555740,"creation_date":1484555740,"answer_id":41672260,"question_id":41672148,"body_markdown":"Try declared activity in application in your AndroidManifest.xml like this.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.a20_1discussboard&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;&quot;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:theme=&quot;@style/AppTheme&quot; &gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:label=&quot;@string/app_name&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:label=&quot;@string/app_name&quot;\r\n                  android:name=&quot;.RegisterActivity&quot;/&gt;\r\n    &lt;/application&gt;\r\n    &lt;/manifest&gt;","title":"Android application failed to start activity","body":"<p>Try declared activity in application in your AndroidManifest.xml like this.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"com.example.a20_1discussboard\"&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\"&gt;&lt;/uses-permission&gt;\"\n&lt;application\n    android:allowBackup=\"true\"\n    android:label=\"@string/app_name\"\n    android:theme=\"@style/AppTheme\" &gt;\n    &lt;activity\n        android:name=\".MainActivity\"\n        android:label=\"@string/app_name\" &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity android:label=\"@string/app_name\"\n              android:name=\".RegisterActivity\"/&gt;\n&lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10011064,"reputation":34,"user_id":7403908,"display_name":"Pez_93"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484556858,"creation_date":1484556080,"answer_id":41672354,"question_id":41672148,"body_markdown":"Delete this line from onCreate method: `MainActivity.this.finish();`\n\nIf you want to stop or pause MainActivity, use: \n\n    @Override\n    public void onPause() { } \n\nor \n\n    @Override\n    public void onStop() { }\n\nin MainActivity class.","title":"Android application failed to start activity","body":"<p>Delete this line from onCreate method: <code>MainActivity.this.finish();</code></p>\n\n<p>If you want to stop or pause MainActivity, use: </p>\n\n<pre><code>@Override\npublic void onPause() { } \n</code></pre>\n\n<p>or </p>\n\n<pre><code>@Override\npublic void onStop() { }\n</code></pre>\n\n<p>in MainActivity class.</p>\n"},{"tags":[],"owner":{"account_id":6989286,"reputation":29,"user_id":5359113,"display_name":"Formula-G"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484558338,"creation_date":1484558338,"answer_id":41672930,"question_id":41672148,"body_markdown":"Thanks all.&lt;br&gt;\r\nAdd RegisterActivity to `AndroidManifest.xml` inside `&lt;application&gt;` tag and remove ` MainActivity.this.finish()` \r\n\r\nIt is working now.","title":"Android application failed to start activity","body":"<p>Thanks all.<br>\nAdd RegisterActivity to <code>AndroidManifest.xml</code> inside <code>&lt;application&gt;</code> tag and remove <code>MainActivity.this.finish()</code> </p>\n\n<p>It is working now.</p>\n"}],"owner":{"account_id":6989286,"reputation":29,"user_id":5359113,"display_name":"Formula-G"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2787,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1683666947,"creation_date":1484555328,"question_id":41672148,"body_markdown":"I want to know why it cannot open up new java class. \r\nWhen I try to start new activity, it will be crash.\r\n\r\n    public class MainActivity extends ActionBarActivity {\r\n        EditText emailEt;\r\n        TextView registerET;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            emailEt = (EditText) findViewById(R.id.email);\r\n            registerET = (TextView) findViewById(R.id.register);\r\n            registerET.setOnClickListener(new View.OnClickListener() {\r\n                public void onClick(View v) {\r\n                    Log.i(&quot;clicks&quot;,&quot;You Clicked register page&quot;);\r\n                    Intent myIntent = new Intent(MainActivity.this, RegisterActivity.class);\r\n                    startActivity(myIntent);\r\n                    MainActivity.this.finish();\r\n                }\r\n            });\r\n        }\r\n        public void OnLogin(View view) {\r\n            String username = emailEt.getText().toString();\r\n            String type = &quot;login&quot;;\r\n            BackgroundWorker backgroundWorker = new BackgroundWorker(this);\r\n            backgroundWorker.execute(type, username);\r\n        }\r\n    \r\n    }\r\n\r\nIt&#39;s possible manifests problem? Am I put it wrong position for the activity?\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.a20_1discussboard&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;&quot;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:theme=&quot;@style/AppTheme&quot; &gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:label=&quot;@string/app_name&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n        &lt;activity android:label=&quot;@string/app_name&quot; android:name=&quot;.RegisterActivity&quot;/&gt;\r\n    &lt;/manifest&gt;\r\n\r\nIt look like can be open up new java class, but it still display MainActivity.\r\nError Log:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n                      Process: com.example.a20_1discussboard, PID: 2194\r\n                      java.lang.IllegalStateException: Could not find method onClick(View) in a parent or ancestor Context for android:onClick attribute defined on view class android.support.v7.widget.AppCompatTextView with id &#39;register&#39;\r\n                          at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.resolveMethod(AppCompatViewInflater.java:327)\r\n                          at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:284)\r\n                          at android.view.View.performClick(View.java:4780)\r\n                          at android.view.View$PerformClick.run(View.java:19866)\r\n                          at android.os.Handler.handleCallback(Handler.java:739)\r\n                          at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                          at android.os.Looper.loop(Looper.java:135)\r\n                          at android.app.ActivityThread.main(ActivityThread.java:5254)\r\n                          at java.lang.reflect.Method.invoke(Native Method)\r\n                          at java.lang.reflect.Method.invoke(Method.java:372)\r\n                          at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\r\n                          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)","title":"Android application failed to start activity","body":"<p>I want to know why it cannot open up new java class. \nWhen I try to start new activity, it will be crash.</p>\n\n<pre><code>public class MainActivity extends ActionBarActivity {\n    EditText emailEt;\n    TextView registerET;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        emailEt = (EditText) findViewById(R.id.email);\n        registerET = (TextView) findViewById(R.id.register);\n        registerET.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n                Log.i(\"clicks\",\"You Clicked register page\");\n                Intent myIntent = new Intent(MainActivity.this, RegisterActivity.class);\n                startActivity(myIntent);\n                MainActivity.this.finish();\n            }\n        });\n    }\n    public void OnLogin(View view) {\n        String username = emailEt.getText().toString();\n        String type = \"login\";\n        BackgroundWorker backgroundWorker = new BackgroundWorker(this);\n        backgroundWorker.execute(type, username);\n    }\n\n}\n</code></pre>\n\n<p>It's possible manifests problem? Am I put it wrong position for the activity?</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"com.example.a20_1discussboard\"&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\"&gt;&lt;/uses-permission&gt;\"\n&lt;application\n    android:allowBackup=\"true\"\n    android:label=\"@string/app_name\"\n    android:theme=\"@style/AppTheme\" &gt;\n    &lt;activity\n        android:name=\".MainActivity\"\n        android:label=\"@string/app_name\" &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n    &lt;activity android:label=\"@string/app_name\" android:name=\".RegisterActivity\"/&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>It look like can be open up new java class, but it still display MainActivity.\nError Log:</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n                  Process: com.example.a20_1discussboard, PID: 2194\n                  java.lang.IllegalStateException: Could not find method onClick(View) in a parent or ancestor Context for android:onClick attribute defined on view class android.support.v7.widget.AppCompatTextView with id 'register'\n                      at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.resolveMethod(AppCompatViewInflater.java:327)\n                      at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:284)\n                      at android.view.View.performClick(View.java:4780)\n                      at android.view.View$PerformClick.run(View.java:19866)\n                      at android.os.Handler.handleCallback(Handler.java:739)\n                      at android.os.Handler.dispatchMessage(Handler.java:95)\n                      at android.os.Looper.loop(Looper.java:135)\n                      at android.app.ActivityThread.main(ActivityThread.java:5254)\n                      at java.lang.reflect.Method.invoke(Native Method)\n                      at java.lang.reflect.Method.invoke(Method.java:372)\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\n</code></pre>\n"},{"tags":["java","javafx","focus"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1519558628,"post_id":48972291,"comment_id":84950898,"body_markdown":"and then, what do you want to do with the next? Listen to changes in scene.focusOwner - that&#39;s when the next will be focused. BTW unrelated, _don&#39;t_ subclass controls (nor any other classes) if you can achieve your goal by configuration","body":"and then, what do you want to do with the next? Listen to changes in scene.focusOwner - that&#39;s when the next will be focused. BTW unrelated, <i>don&#39;t</i> subclass controls (nor any other classes) if you can achieve your goal by configuration"}],"answers":[{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1519558502,"post_id":48972534,"comment_id":84950861,"body_markdown":"hmm ... don&#39;t think that&#39;s what the OP wants - which I think is something like focusOwner.focusNext (not available because the focusTraversal didn&#39;t make it into public scope) .. or maybe not, re-reading the question ;)","body":"hmm ... don&#39;t think that&#39;s what the OP wants - which I think is something like focusOwner.focusNext (not available because the focusTraversal didn&#39;t make it into public scope) .. or maybe not, re-reading the question ;)"}],"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1519555047,"creation_date":1519555047,"answer_id":48972534,"question_id":48972291,"body_markdown":"Get the value of the `focusOwner` property from the scene.\r\n\r\n    Node focusOwner = getScene().getFocusOwner();\r\n`requestFocus` can be used to get the focus to some other node, e.g.\r\n\r\n    if (focusOwner != otherNode) {\r\n        thirdNode.requestFocus();\r\n    }","title":"Javafx . How to get next Element non Focus Lost","body":"<p>Get the value of the <code>focusOwner</code> property from the scene.</p>\n\n<pre><code>Node focusOwner = getScene().getFocusOwner();\n</code></pre>\n\n<p><code>requestFocus</code> can be used to get the focus to some other node, e.g.</p>\n\n<pre><code>if (focusOwner != otherNode) {\n    thirdNode.requestFocus();\n}\n</code></pre>\n"}],"owner":{"account_id":6795423,"reputation":383,"user_id":5230928,"accept_rate":83,"display_name":"JustMe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":48972534,"answer_count":1,"score":-1,"last_activity_date":1683666282,"creation_date":1519552907,"question_id":48972291,"body_markdown":"I have a focus-listener on a TextField and would like to know which will the next element that gains the focus. (And maybe change it under special circumstances)\r\n\r\nAny Idea? \r\n\r\n\r\n    class Data extends TextField {\r\n        public Data(int i) {\r\n            focusedProperty().addListener((o, ov, nv) -&gt; {\r\n                if(!nv){               \r\n                  // Get Next Focusserd Item ...\r\n                } \r\n            });\r\n        }\r\n    }\r\n","title":"Javafx . How to get next Element non Focus Lost","body":"<p>I have a focus-listener on a TextField and would like to know which will the next element that gains the focus. (And maybe change it under special circumstances)</p>\n\n<p>Any Idea? </p>\n\n<pre><code>class Data extends TextField {\n    public Data(int i) {\n        focusedProperty().addListener((o, ov, nv) -&gt; {\n            if(!nv){               \n              // Get Next Focusserd Item ...\n            } \n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","apache-poi","pom.xml","dependency-management"],"comments":[{"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"score":2,"creation_date":1650314232,"post_id":71916764,"comment_id":127081314,"body_markdown":"Are you using Intellij? If so are you right clicking on the pom and reloading it to pick these up? If that&#39;s not it, what&#39;s in your Maven settings.xml?","body":"Are you using Intellij? If so are you right clicking on the pom and reloading it to pick these up? If that&#39;s not it, what&#39;s in your Maven settings.xml?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1650351941,"post_id":71916764,"comment_id":127087757,"body_markdown":"The `poi-ooxml-schemas-3.9` does not fit to `poi-ooxml-5.2.2`. It would must be `poi-ooxml-lite-5.2.2`. Also `xmlbeans-3.1.0` does not fit. It would must be `xmlbeans-5.0.3`. Also... see: https://poi.apache.org/components/index.html#components.","body":"The <code>poi-ooxml-schemas-3.9</code> does not fit to <code>poi-ooxml-5.2.2</code>. It would must be <code>poi-ooxml-lite-5.2.2</code>. Also <code>xmlbeans-3.1.0</code> does not fit. It would must be <code>xmlbeans-5.0.3</code>. Also... see: <a href=\"https://poi.apache.org/components/index.html#components\" rel=\"nofollow noreferrer\">poi.apache.org/components/index.html#components</a>."}],"answers":[{"comments":[{"owner":{"account_id":933736,"reputation":13154,"user_id":963076,"accept_rate":59,"display_name":"ryvantage"},"score":1,"creation_date":1683661365,"post_id":71916920,"comment_id":134400254,"body_markdown":"&quot;little floating windoid&quot; omg lol hilarious but _so frustrating_ that intellij makes this windoid so obscure. Been searching for an hour how to refresh dependencies after changing the pom.xml","body":"&quot;little floating windoid&quot; omg lol hilarious but <i>so frustrating</i> that intellij makes this windoid so obscure. Been searching for an hour how to refresh dependencies after changing the pom.xml"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1683665776,"post_id":71916920,"comment_id":134401042,"body_markdown":"@ryvantage Yes it is a f frustrating situation. Your Comment prompted me to add a screenshot for clarity. Thank you.","body":"@ryvantage Yes it is a f frustrating situation. Your Comment prompted me to add a screenshot for clarity. Thank you."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683666157,"creation_date":1650314849,"answer_id":71916920,"question_id":71916764,"body_markdown":"Those Maven coordinates are correct.\r\n\r\nHere is an example POM based on the artifact [`maven-archetype-quickstart`][1], with updated versions on all items, and with your your two dependencies pasted as-is. And I updated the `import` statements in the `AppTest.java` file to use JUnit Jupiter. So we have fully-working, up-to-date, practical example app.\r\n\r\nYour dependencies are processed correctly by Maven. This app compiles and runs. I did this in IntelliJ 2022.1. \r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;work.basil.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;TryDep&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;name&gt;TryDep&lt;/name&gt;\r\n    &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n            &lt;plugins&gt;\r\n                &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.9.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0-M1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0-M1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.9.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAs a sanity check, I suggest you create and run a new project using that POM posted above.\r\n\r\nIn your own problematic project, I suggest you make sure Maven processed your POM. In IntelliJ, either:\r\n\r\n - Click the little floating [windoid][2] with a Maven logo: *M*. \r\n - Click the two arrows in a circle icon in the *Maven* panel, a button whose tooltip says *Reload All Maven Projects*.\r\n\r\n[![screenshot of two buttons to reprocess Maven POM][3]][3]\r\n\r\nThen execute a Maven *clean* and *install*. (You can see the *clean* item in screenshot above.)\r\n\r\nYour [local Maven cache][4] in a `.m2` folder may need to download the dependencies. This downloading may take several minutes depending on the speed of your Internet access.\r\n\r\nOn occasion, the Maven local cache goes wonky. If all else fails, [clear the cache][5] by deleting the entire `.m2` folder. Then do another *clean* and *install* which in turn should trigger creation and population of a fresh `.m2` folder. \r\n\r\n\r\n  [1]: https://maven.apache.org/archetypes/maven-archetype-quickstart/\r\n  [2]: https://en.wiktionary.org/wiki/windoid\r\n  [3]: https://i.stack.imgur.com/Dr8U6.jpg\r\n  [4]: https://maven.apache.org/guides/introduction/introduction-to-repositories.html\r\n  [5]: https://www.baeldung.com/maven-clear-cache","title":"Dependency not accept","body":"<p>Those Maven coordinates are correct.</p>\n<p>Here is an example POM based on the artifact <a href=\"https://maven.apache.org/archetypes/maven-archetype-quickstart/\" rel=\"nofollow noreferrer\"><code>maven-archetype-quickstart</code></a>, with updated versions on all items, and with your your two dependencies pasted as-is. And I updated the <code>import</code> statements in the <code>AppTest.java</code> file to use JUnit Jupiter. So we have fully-working, up-to-date, practical example app.</p>\n<p>Your dependencies are processed correctly by Maven. This app compiles and runs. I did this in IntelliJ 2022.1.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;work.basil.example&lt;/groupId&gt;\n    &lt;artifactId&gt;TryDep&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;TryDep&lt;/name&gt;\n    &lt;!-- FIXME change it to the project's website --&gt;\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n            &lt;plugins&gt;\n                &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.9.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0-M1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0-M1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.9.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.2&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>As a sanity check, I suggest you create and run a new project using that POM posted above.</p>\n<p>In your own problematic project, I suggest you make sure Maven processed your POM. In IntelliJ, either:</p>\n<ul>\n<li>Click the little floating <a href=\"https://en.wiktionary.org/wiki/windoid\" rel=\"nofollow noreferrer\">windoid</a> with a Maven logo: <em>M</em>.</li>\n<li>Click the two arrows in a circle icon in the <em>Maven</em> panel, a button whose tooltip says <em>Reload All Maven Projects</em>.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/Dr8U6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dr8U6.jpg\" alt=\"screenshot of two buttons to reprocess Maven POM\" /></a></p>\n<p>Then execute a Maven <em>clean</em> and <em>install</em>. (You can see the <em>clean</em> item in screenshot above.)</p>\n<p>Your <a href=\"https://maven.apache.org/guides/introduction/introduction-to-repositories.html\" rel=\"nofollow noreferrer\">local Maven cache</a> in a <code>.m2</code> folder may need to download the dependencies. This downloading may take several minutes depending on the speed of your Internet access.</p>\n<p>On occasion, the Maven local cache goes wonky. If all else fails, <a href=\"https://www.baeldung.com/maven-clear-cache\" rel=\"nofollow noreferrer\">clear the cache</a> by deleting the entire <code>.m2</code> folder. Then do another <em>clean</em> and <em>install</em> which in turn should trigger creation and population of a fresh <code>.m2</code> folder.</p>\n"}],"owner":{"account_id":24577757,"reputation":25,"user_id":18483351,"display_name":"Nurtyleu Bahyt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71916920,"answer_count":1,"score":0,"last_activity_date":1683666157,"creation_date":1650313856,"question_id":71916764,"body_markdown":"I have this problem : My dependency org.apache.poi can not accept in pom.xml\r\nthis dependency lighting red. But i add in project module jars: \r\n\r\npoi-5.2.2  \r\npoi-ooxml-5.2.2  \r\ncommons-collections 4-4.3  \r\ncommons-compress-1.18  \r\nxmlbeans-3.1.0  \r\npoi-ooxml-schemas-3.9  \r\ndom4j-1.6.1  \r\n\r\nall jars i am add but dependency not accepted and continue lighting red: my code\r\n\r\n \r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n","title":"Dependency not accept","body":"<p>I have this problem : My dependency org.apache.poi can not accept in pom.xml\nthis dependency lighting red. But i add in project module jars:</p>\n<p>poi-5.2.2<br />\npoi-ooxml-5.2.2<br />\ncommons-collections 4-4.3<br />\ncommons-compress-1.18<br />\nxmlbeans-3.1.0<br />\npoi-ooxml-schemas-3.9<br />\ndom4j-1.6.1</p>\n<p>all jars i am add but dependency not accepted and continue lighting red: my code</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","junit"],"comments":[{"owner":{"account_id":5372162,"reputation":4506,"user_id":4280359,"accept_rate":100,"display_name":"Grzegorz G&#243;rkiewicz"},"score":0,"creation_date":1487447025,"post_id":42319851,"comment_id":71792891,"body_markdown":"Can you add an external dependency to another well-known framework?","body":"Can you add an external dependency to another well-known framework?"},{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1487447142,"post_id":42319851,"comment_id":71792935,"body_markdown":"@GrzegorzG&#243;rkiewicz: Sure, what are you proposing?","body":"@GrzegorzG&#243;rkiewicz: Sure, what are you proposing?"},{"owner":{"account_id":5372162,"reputation":4506,"user_id":4280359,"accept_rate":100,"display_name":"Grzegorz G&#243;rkiewicz"},"score":1,"creation_date":1487449964,"post_id":42319851,"comment_id":71793914,"body_markdown":"I have added another solution.","body":"I have added another solution."}],"answers":[{"comments":[{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1487447860,"post_id":42319918,"comment_id":71793205,"body_markdown":"This looks great, but my whole project has `JUnit` tests and I wasn&#39;t hoping to throw them away.","body":"This looks great, but my whole project has <code>JUnit</code> tests and I wasn&#39;t hoping to throw them away."},{"owner":{"account_id":5372162,"reputation":4506,"user_id":4280359,"accept_rate":100,"display_name":"Grzegorz G&#243;rkiewicz"},"score":1,"creation_date":1487447940,"post_id":42319918,"comment_id":71793236,"body_markdown":"@carlspring, that is why I have added something else from Spring to my answer (no need to use TestNG, if you opt for the second solution) ;)","body":"@carlspring, that is why I have added something else from Spring to my answer (no need to use TestNG, if you opt for the second solution) ;)"},{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1487450480,"post_id":42319918,"comment_id":71794101,"body_markdown":"Can the test class itself be the listener?","body":"Can the test class itself be the listener?"},{"owner":{"account_id":5372162,"reputation":4506,"user_id":4280359,"accept_rate":100,"display_name":"Grzegorz G&#243;rkiewicz"},"score":0,"creation_date":1487450962,"post_id":42319918,"comment_id":71794247,"body_markdown":"So far used it as top-level class in another file. If it does not work, I would extend `AbstractTestExecutionListener` in an inner class... in the same `Test.java` file.","body":"So far used it as top-level class in another file. If it does not work, I would extend <code>AbstractTestExecutionListener</code> in an inner class... in the same <code>Test.java</code> file."},{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1487459251,"post_id":42319918,"comment_id":71796652,"body_markdown":"Grzegorz, it looks like your solution could do the trick, but I can&#39;t get it to work. Would you mind adding a really simple working example? I have this: https://gist.github.com/carlspring/662d8033fece212c3cd5718ed333142c and it&#39;s never hitting the `beforeTestClass` method. What am I doing wrong?","body":"Grzegorz, it looks like your solution could do the trick, but I can&#39;t get it to work. Would you mind adding a really simple working example? I have this: <a href=\"https://gist.github.com/carlspring/662d8033fece212c3cd5718ed333142c\" rel=\"nofollow noreferrer\">gist.github.com/carlspring/662d8033fece212c3cd5718ed333142c</a> and it&#39;s never hitting the <code>beforeTestClass</code> method. What am I doing wrong?"},{"owner":{"account_id":5372162,"reputation":4506,"user_id":4280359,"accept_rate":100,"display_name":"Grzegorz G&#243;rkiewicz"},"score":1,"creation_date":1487462481,"post_id":42319918,"comment_id":71797468,"body_markdown":"Added a working example. No need to create yet another inner class (my bad). The `SimpleTest` class is enough ;)","body":"Added a working example. No need to create yet another inner class (my bad). The <code>SimpleTest</code> class is enough ;)"},{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1487508043,"post_id":42319918,"comment_id":71807260,"body_markdown":"I&#39;ve almost gotten it to work, but the `@Autowired` class doesn&#39;t seem to be getting injected by Spring (which was my initial problem).","body":"I&#39;ve almost gotten it to work, but the <code>@Autowired</code> class doesn&#39;t seem to be getting injected by Spring (which was my initial problem)."},{"owner":{"account_id":5372162,"reputation":4506,"user_id":4280359,"accept_rate":100,"display_name":"Grzegorz G&#243;rkiewicz"},"score":1,"creation_date":1487508204,"post_id":42319918,"comment_id":71807304,"body_markdown":"Will have another look at this in the evening, cause I&#39;m on mobile now.","body":"Will have another look at this in the evening, cause I&#39;m on mobile now."},{"owner":{"account_id":209629,"reputation":3349,"user_id":999452,"accept_rate":68,"display_name":"David B"},"score":0,"creation_date":1507889076,"post_id":42319918,"comment_id":80400741,"body_markdown":"For the second solution, why can&#39;t I access the `@Autowired` spring stereo-typed services on the methods of `AbstractTestExecutionListener `. In addition to that, why can&#39;t I use any global variables on the class initialised on the same interface?","body":"For the second solution, why can&#39;t I access the <code>@Autowired</code> spring stereo-typed services on the methods of <code>AbstractTestExecutionListener </code>. In addition to that, why can&#39;t I use any global variables on the class initialised on the same interface?"}],"tags":[],"owner":{"account_id":5372162,"reputation":4506,"user_id":4280359,"accept_rate":100,"display_name":"Grzegorz G&#243;rkiewicz"},"comment_count":9,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1487462993,"creation_date":1487447262,"answer_id":42319918,"question_id":42319851,"body_markdown":"**1st solution**\r\n\r\nUse [TestNG][1] instead.  \r\n`@Before*` annotations behave [this way][2] in TestNG.  \r\nNo method annotated with `@Before*` has to be static.\r\n\r\n    @org.testng.annotations.BeforeClass\r\n    public void setUpOnce() {\r\n       //I&#39;m not static!\r\n    }\r\n\r\n**2nd solution**\r\n\r\nAnd if you don&#39;t want to do that, you can use [an execution listener from Spring][3] (`AbstractTestExecutionListener`).\r\n\r\nYou will have to annotate your test class like this:\r\n\r\n    @TestExecutionListeners({CustomTestExecutionListener.class})\r\n    public class Test {\r\n        //Some methods with @Test annotation.\r\n    }\r\n\r\nAnd then implement `CustomTestExecutionListener` with this method:\r\n\r\n    public void beforeTestClass(TestContext testContext) throws Exception {\r\n        //Your before goes here.\r\n    }\r\n\r\nSelf-contained in one file that would look like:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = {&quot;commonContext.xml&quot; })\r\n    @TestExecutionListeners({SimpleTest.class})\r\n    public class SimpleTest extends AbstractTestExecutionListener {\r\n    \t\r\n    \t@Override\r\n    \tpublic void beforeTestClass(TestContext testContext) {\r\n    \t\tSystem.out.println(&quot;In beforeTestClass.&quot;);\r\n    \t}\r\n    \t\r\n        @Test\r\n        public void test() {\r\n            System.out.println(&quot;In test.&quot;);\r\n        }\r\n    }\r\n\r\n  [1]: http://testng.org/doc/maven.html\r\n  [2]: https://stackoverflow.com/a/30591902/4280359\r\n  [3]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/test/context/support/AbstractTestExecutionListener.html#beforeTestClass-org.springframework.test.context.TestContext-\r\n","title":"How to use @Before/@BeforeClass with @Autowired field","body":"<p><strong>1st solution</strong></p>\n\n<p>Use <a href=\"http://testng.org/doc/maven.html\" rel=\"nofollow noreferrer\">TestNG</a> instead.<br>\n<code>@Before*</code> annotations behave <a href=\"https://stackoverflow.com/a/30591902/4280359\">this way</a> in TestNG.<br>\nNo method annotated with <code>@Before*</code> has to be static.</p>\n\n<pre><code>@org.testng.annotations.BeforeClass\npublic void setUpOnce() {\n   //I'm not static!\n}\n</code></pre>\n\n<p><strong>2nd solution</strong></p>\n\n<p>And if you don't want to do that, you can use <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/test/context/support/AbstractTestExecutionListener.html#beforeTestClass-org.springframework.test.context.TestContext-\" rel=\"nofollow noreferrer\">an execution listener from Spring</a> (<code>AbstractTestExecutionListener</code>).</p>\n\n<p>You will have to annotate your test class like this:</p>\n\n<pre><code>@TestExecutionListeners({CustomTestExecutionListener.class})\npublic class Test {\n    //Some methods with @Test annotation.\n}\n</code></pre>\n\n<p>And then implement <code>CustomTestExecutionListener</code> with this method:</p>\n\n<pre><code>public void beforeTestClass(TestContext testContext) throws Exception {\n    //Your before goes here.\n}\n</code></pre>\n\n<p>Self-contained in one file that would look like:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = {\"commonContext.xml\" })\n@TestExecutionListeners({SimpleTest.class})\npublic class SimpleTest extends AbstractTestExecutionListener {\n\n    @Override\n    public void beforeTestClass(TestContext testContext) {\n        System.out.println(\"In beforeTestClass.\");\n    }\n\n    @Test\n    public void test() {\n        System.out.println(\"In test.\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2841047,"reputation":1474,"user_id":2440661,"accept_rate":94,"display_name":"Hurricane"},"score":0,"creation_date":1534103526,"post_id":42344622,"comment_id":90579534,"body_markdown":"Thanks @carlspring. This works for me. Assuming there still isn&#39;t a better way of dealing with this?","body":"Thanks @carlspring. This works for me. Assuming there still isn&#39;t a better way of dealing with this?"}],"tags":[],"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1487593671,"creation_date":1487593671,"answer_id":42344622,"question_id":42319851,"body_markdown":"I came up with the solution of creating a separate initialization method (not `setUp`) annotated with `@PostConstruct`. This is not really an elegant solution, but it makes sure that the autowired/injected fields are properly initialized by Spring before using them, (which was the initial problem with the statically `@BeforeClass` annotated method).\r\n","title":"How to use @Before/@BeforeClass with @Autowired field","body":"<p>I came up with the solution of creating a separate initialization method (not <code>setUp</code>) annotated with <code>@PostConstruct</code>. This is not really an elegant solution, but it makes sure that the autowired/injected fields are properly initialized by Spring before using them, (which was the initial problem with the statically <code>@BeforeClass</code> annotated method).</p>\n"},{"tags":[],"owner":{"account_id":1016338,"reputation":3267,"user_id":1027842,"accept_rate":75,"display_name":"Benjamin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683666080,"creation_date":1683666080,"answer_id":76213347,"question_id":42319851,"body_markdown":"Using `Junit 5` you are allowed to use an `@Autowired` annotation in the static `@BeforeAll` context like this:\r\n\r\n```java\r\npublic class TestClass {\r\n\r\n    @Autowired\r\n    private ApplicationContext context;\r\n\r\n    @BeforeAll\r\n    public static void beforeAll(@Autowired ApplicationContext context) {\r\n        context.doSomething() //possible now as autowired function parameter is used\r\n    }\r\n}\r\n```","title":"How to use @Before/@BeforeClass with @Autowired field","body":"<p>Using <code>Junit 5</code> you are allowed to use an <code>@Autowired</code> annotation in the static <code>@BeforeAll</code> context like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestClass {\n\n    @Autowired\n    private ApplicationContext context;\n\n    @BeforeAll\n    public static void beforeAll(@Autowired ApplicationContext context) {\n        context.doSomething() //possible now as autowired function parameter is used\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4937,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1683666080,"creation_date":1487446916,"question_id":42319851,"body_markdown":"I have a test case which has an `@Autowired` field. I would like to have one method for setting up the test case, as it has many `@Test`-annotated methods that will rely on the same generated data, (for which I need the autowired class).\r\n\r\nWhat&#39;s a good way to achieve this?\r\n\r\nIf I have the `@BeforeClass`, then I need to make the method static, which breaks the autowiring.","title":"How to use @Before/@BeforeClass with @Autowired field","body":"<p>I have a test case which has an <code>@Autowired</code> field. I would like to have one method for setting up the test case, as it has many <code>@Test</code>-annotated methods that will rely on the same generated data, (for which I need the autowired class).</p>\n\n<p>What's a good way to achieve this?</p>\n\n<p>If I have the <code>@BeforeClass</code>, then I need to make the method static, which breaks the autowiring.</p>\n"},{"tags":["java","string","java.util.scanner"],"comments":[{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1595875485,"post_id":63121582,"comment_id":111620243,"body_markdown":"A String doesn&#39;t have a `next()` method!","body":"A String doesn&#39;t have a <code>next()</code> method!"}],"answers":[{"comments":[{"owner":{"account_id":15477837,"reputation":25,"user_id":11166073,"display_name":"Mcaulish"},"score":0,"creation_date":1595885625,"post_id":63121677,"comment_id":111624205,"body_markdown":"But cant I use the scanner inside a method?","body":"But cant I use the scanner inside a method?"},{"owner":{"account_id":6970461,"reputation":7437,"user_id":5348875,"accept_rate":67,"display_name":"Daniel"},"score":0,"creation_date":1595888048,"post_id":63121677,"comment_id":111625036,"body_markdown":"Yes, you can, just as the example in the answer shows.","body":"Yes, you can, just as the example in the answer shows."},{"owner":{"account_id":15477837,"reputation":25,"user_id":11166073,"display_name":"Mcaulish"},"score":0,"creation_date":1595933479,"post_id":63121677,"comment_id":111638688,"body_markdown":"Thank you! does this mean the scanner instantiates a new instance for every time the method is called?","body":"Thank you! does this mean the scanner instantiates a new instance for every time the method is called?"},{"owner":{"account_id":6970461,"reputation":7437,"user_id":5348875,"accept_rate":67,"display_name":"Daniel"},"score":1,"creation_date":1595943745,"post_id":63121677,"comment_id":111644366,"body_markdown":"It depends. You can create a single static Scanner and use it everywhere or you can create an instance of it in each place you need, but remember to close the Scanner after you finish using it.","body":"It depends. You can create a single static Scanner and use it everywhere or you can create an instance of it in each place you need, but remember to close the Scanner after you finish using it."}],"tags":[],"owner":{"account_id":6970461,"reputation":7437,"user_id":5348875,"accept_rate":67,"display_name":"Daniel"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1595875748,"creation_date":1595875748,"answer_id":63121677,"question_id":63121582,"body_markdown":"I guess you want\r\n\r\n    public static void sort() {\r\n        Scanner in = new Scanner(System.in);\r\n        input = in.next(); //or in.nextLine() for the whole line\r\n    }\r\n\r\nThe `Scanner` is the class that reads input from the keyboard. It is the class who has the method `next()`, that retrieves the input of the user (until it finds a space or a new line) converted in a `String`.","title":"The method next() is undefined for the type String","body":"<p>I guess you want</p>\n<pre><code>public static void sort() {\n    Scanner in = new Scanner(System.in);\n    input = in.next(); //or in.nextLine() for the whole line\n}\n</code></pre>\n<p>The <code>Scanner</code> is the class that reads input from the keyboard. It is the class who has the method <code>next()</code>, that retrieves the input of the user (until it finds a space or a new line) converted in a <code>String</code>.</p>\n"}],"owner":{"account_id":15477837,"reputation":25,"user_id":11166073,"display_name":"Mcaulish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1595,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63121677,"answer_count":1,"score":0,"last_activity_date":1683666006,"creation_date":1595875356,"question_id":63121582,"body_markdown":"I&#39;m new to programming and I&#39;m trying to call a scanner from a method- and receiving the error before compiling, I could not find an answer to this in this forum or outplace, that I could understand\r\n\r\n\r\n    public class BL {\r\n    \tstatic double outcome = 0;\r\n    \tprivate static String input;\r\n    \r\n    \tprivate static void main() {\r\n    \t\tScanner input = new Scanner(System.in);\r\n    \t}\r\n    \tpublic static void sort() {\r\n    \t\t**input= input.next();**     // the error is under .next()\r\n    \t}\r\n\r\nThanks upfront!\r\n","title":"The method next() is undefined for the type String","body":"<p>I'm new to programming and I'm trying to call a scanner from a method- and receiving the error before compiling, I could not find an answer to this in this forum or outplace, that I could understand</p>\n<pre><code>public class BL {\n    static double outcome = 0;\n    private static String input;\n\n    private static void main() {\n        Scanner input = new Scanner(System.in);\n    }\n    public static void sort() {\n        **input= input.next();**     // the error is under .next()\n    }\n</code></pre>\n<p>Thanks upfront!</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","criteria-api"],"owner":{"account_id":2492623,"reputation":15,"user_id":2169796,"display_name":"Varun Arora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683665938,"creation_date":1683583578,"question_id":76204666,"body_markdown":"I am amidst implementations for Having Spring Criteria API (Specification) with paging &amp; sorting\r\n\r\nSince we have one to many relations where parent is one (not n child) I am querying over Parent\r\nThe where clause when fetching parent(with joins) works fine\r\n\r\nHowever when lazy loaded children are loaded on the miss the where clause.\r\n\r\n\r\n\r\n```\r\npublic class ASpecification implements Specification&lt;A&gt; {\r\n...\r\n @Override\r\n    public Predicate toPredicate(Root&lt;A&gt; root,\r\n                                 CriteriaQuery&lt;?&gt; criteriaQuery,\r\n                                 CriteriaBuilder criteriaBuilder) {\r\n        List&lt;Predicate&gt; predicate = new ArrayList&lt;&gt;();\r\n        ListJoin&lt;A, B&gt; aBListJoin = root.join(b, JoinType.LEFT);\r\n        ListJoin&lt;A, C&gt; aCListJoin = root.join(c, JoinType.LEFT);\r\n\r\n        // we know below wont work because MultipleBagFetchException\r\n        // ListJoin&lt;A, B&gt; aBListJoin = root.fetch(b, JoinType.LEFT); \r\n        // ListJoin&lt;A, C&gt; aCListJoin = root.fetch(c, JoinType.LEFT);\r\n\r\n       // also thinking of below but not sure if it will do the trick \r\n       // because to my best understanding it wont work with findAll\r\n       \r\n       /*criteriaQuery.multiselect(root.get(ItemInventory_.NAME),\r\n                root.get(ItemInventory_.fullName),\r\n                root.get(ItemInventory_.parentRefFullName),\r\n                itemInventoryItemStockListJoin,\r\n                itemInventoryBinLocationListJoin);*/\r\n........\r\n\r\n}\r\n```\r\n\r\n\r\nJoin Column below is ideal but missing child select query\r\n```\r\nHibernate: \r\n    /* &lt;criteria&gt; */ select\r\n        i1_0.Id,... /*only A columns generated here :(*/ \r\n    from\r\n        A i1_0 \r\n    left join\r\n        B i2_0 \r\n            on i1_0.foo=i2_0.bar \r\n    left join\r\n        Binlocation b1_0 \r\n            on i1_0.foo=b1_0.tai\r\n    where\r\n        i1_0.IsActive=? \r\n        and i2_0.location=? \r\n        and b1_0.location=? \r\n    order by\r\n        (select\r\n            0) offset ? rows fetch first ? rows only\r\n```\r\n\r\nChild query below\r\n```\r\n\r\nselect\r\n        i1_0.id //... other columns\r\n    from\r\n        B i1_0 \r\n    where\r\n        i1_0.bar=?\r\n    // but missing location where clause :(\r\n```\r\nLastly If the impl is not recommended \r\nI am planning to to use\r\n\r\n    entityManager.createQuery(criteriaQuery).getResultList();\r\n\r\nwhich should hopefully give me more control\r\n instead of \r\n\r\n    aRepo.findAll(specification, pageable);\r\n\r\nBut was hoping to avoid it...\r\n\r\n","title":"Spring Criteria API - One to Many n Children&#39;s missing where clause","body":"<p>I am amidst implementations for Having Spring Criteria API (Specification) with paging &amp; sorting</p>\n<p>Since we have one to many relations where parent is one (not n child) I am querying over Parent\nThe where clause when fetching parent(with joins) works fine</p>\n<p>However when lazy loaded children are loaded on the miss the where clause.</p>\n<pre><code>public class ASpecification implements Specification&lt;A&gt; {\n...\n @Override\n    public Predicate toPredicate(Root&lt;A&gt; root,\n                                 CriteriaQuery&lt;?&gt; criteriaQuery,\n                                 CriteriaBuilder criteriaBuilder) {\n        List&lt;Predicate&gt; predicate = new ArrayList&lt;&gt;();\n        ListJoin&lt;A, B&gt; aBListJoin = root.join(b, JoinType.LEFT);\n        ListJoin&lt;A, C&gt; aCListJoin = root.join(c, JoinType.LEFT);\n\n        // we know below wont work because MultipleBagFetchException\n        // ListJoin&lt;A, B&gt; aBListJoin = root.fetch(b, JoinType.LEFT); \n        // ListJoin&lt;A, C&gt; aCListJoin = root.fetch(c, JoinType.LEFT);\n\n       // also thinking of below but not sure if it will do the trick \n       // because to my best understanding it wont work with findAll\n       \n       /*criteriaQuery.multiselect(root.get(ItemInventory_.NAME),\n                root.get(ItemInventory_.fullName),\n                root.get(ItemInventory_.parentRefFullName),\n                itemInventoryItemStockListJoin,\n                itemInventoryBinLocationListJoin);*/\n........\n\n}\n</code></pre>\n<p>Join Column below is ideal but missing child select query</p>\n<pre><code>Hibernate: \n    /* &lt;criteria&gt; */ select\n        i1_0.Id,... /*only A columns generated here :(*/ \n    from\n        A i1_0 \n    left join\n        B i2_0 \n            on i1_0.foo=i2_0.bar \n    left join\n        Binlocation b1_0 \n            on i1_0.foo=b1_0.tai\n    where\n        i1_0.IsActive=? \n        and i2_0.location=? \n        and b1_0.location=? \n    order by\n        (select\n            0) offset ? rows fetch first ? rows only\n</code></pre>\n<p>Child query below</p>\n<pre><code>\nselect\n        i1_0.id //... other columns\n    from\n        B i1_0 \n    where\n        i1_0.bar=?\n    // but missing location where clause :(\n</code></pre>\n<p>Lastly If the impl is not recommended\nI am planning to to use</p>\n<pre><code>entityManager.createQuery(criteriaQuery).getResultList();\n</code></pre>\n<p>which should hopefully give me more control\ninstead of</p>\n<pre><code>aRepo.findAll(specification, pageable);\n</code></pre>\n<p>But was hoping to avoid it...</p>\n"},{"tags":["java","file-io","outputstream"],"comments":[{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1683665368,"post_id":76213266,"comment_id":134400986,"body_markdown":"What do you mean by &quot;valid&quot;? What is the rule that would tell you if a file is &quot;valid&quot; or not&quot;? What do your users mean that the files &quot;don&#39;t open&quot;? Where is the code that tries to &quot;open&quot; them, and what does &quot;opening&quot; them actually entail (I assume you are actually talking about reading and parsing their contents)? What errors are they reporting? Are the files *found* in the first place? Were they written by your code? Are they being &quot;opened&quot; by your code? Do you have any example of an *actual file* that causes the problem?","body":"What do you mean by &quot;valid&quot;? What is the rule that would tell you if a file is &quot;valid&quot; or not&quot;? What do your users mean that the files &quot;don&#39;t open&quot;? Where is the code that tries to &quot;open&quot; them, and what does &quot;opening&quot; them actually entail (I assume you are actually talking about reading and parsing their contents)? What errors are they reporting? Are the files <i>found</i> in the first place? Were they written by your code? Are they being &quot;opened&quot; by your code? Do you have any example of an <i>actual file</i> that causes the problem?"},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1683665436,"post_id":76213266,"comment_id":134400997,"body_markdown":"**Please** read [mre]. It&#39;s not even remotely possible to analyze the problem usefully from this perspective. These two samples of the code tell us effectively nothing about what the program is actually doing in order to write the file. And what do you even mean by &quot;Java/Android&quot; in the first place? Android is a platform, not another programming language. *Are you able to reproduce* the problem on other platforms? Are you able to reliably reproduce it on Android in the first place? If not, how on earth should anyone else be able to figure out what is going on?","body":"<b>Please</b> read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. It&#39;s not even remotely possible to analyze the problem usefully from this perspective. These two samples of the code tell us effectively nothing about what the program is actually doing in order to write the file. And what do you even mean by &quot;Java/Android&quot; in the first place? Android is a platform, not another programming language. <i>Are you able to reproduce</i> the problem on other platforms? Are you able to reliably reproduce it on Android in the first place? If not, how on earth should anyone else be able to figure out what is going on?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1683665954,"post_id":76213266,"comment_id":134401074,"body_markdown":"In theory hardware problems can cause all kinds of artifacts like that, depending on what medium you write to (network, disk, ...). But it&#39;s significantly more common that some bug in your code shows up only in some rare corner cases (like a bug only happening when a specific message crosses some buffer size boundary or the like). So I&#39;d first investigate towards that direction before assuming hardware problems.","body":"In theory hardware problems can cause all kinds of artifacts like that, depending on what medium you write to (network, disk, ...). But it&#39;s significantly more common that some bug in your code shows up only in some rare corner cases (like a bug only happening when a specific message crosses some buffer size boundary or the like). So I&#39;d first investigate towards that direction before assuming hardware problems."},{"owner":{"account_id":1058531,"reputation":1108,"user_id":1060673,"accept_rate":42,"display_name":"yesbutmaybeno"},"score":0,"creation_date":1683666198,"post_id":76213266,"comment_id":134401114,"body_markdown":"@KarlKnechtel im not asking for help for a specific issue, im asking for anecdotal and theoretical discussion","body":"@KarlKnechtel im not asking for help for a specific issue, im asking for anecdotal and theoretical discussion"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1683666235,"post_id":76213266,"comment_id":134401125,"body_markdown":"Is there **any**? Sure. Is it **likely**? Less so. Will the issue be difficult to find? Depends on  the file you&#39;re writing and how easy it is to debug/reverse-engineer its content *(think: oh, every time I write a Foo&#39;s bytes with status XYZ everything it hoses up the following data)*. A format-aware file viewer or data-aware file disassembler/decoder may be useful.","body":"Is there <b>any</b>? Sure. Is it <b>likely</b>? Less so. Will the issue be difficult to find? Depends on  the file you&#39;re writing and how easy it is to debug/reverse-engineer its content <i>(think: oh, every time I write a Foo&#39;s bytes with status XYZ everything it hoses up the following data)</i>. A format-aware file viewer or data-aware file disassembler/decoder may be useful."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1683666239,"post_id":76213266,"comment_id":134401128,"body_markdown":"@yesbutmaybeno: then your question is off-topic, almost by definition. SO is for asking *specific* questions about *specific* tech problems that can be solved. If you want story-times, you&#39;ll have to find another platform.","body":"@yesbutmaybeno: then your question is off-topic, almost by definition. SO is for asking <i>specific</i> questions about <i>specific</i> tech problems that can be solved. If you want story-times, you&#39;ll have to find another platform."},{"owner":{"account_id":1058531,"reputation":1108,"user_id":1060673,"accept_rate":42,"display_name":"yesbutmaybeno"},"score":0,"creation_date":1683666352,"post_id":76213266,"comment_id":134401152,"body_markdown":"@JoachimSauer your comment is off topic","body":"@JoachimSauer your comment is off topic"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1683667167,"post_id":76213266,"comment_id":134401283,"body_markdown":"@yesbutmaybeno SO is pretty much for specific issues. There&#39;s no real way to answer the question, but as said: it&#39;s far more likely it&#39;s a programming issue and not  spurious data loss.","body":"@yesbutmaybeno SO is pretty much for specific issues. There&#39;s no real way to answer the question, but as said: it&#39;s far more likely it&#39;s a programming issue and not  spurious data loss."},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1683680174,"post_id":76213266,"comment_id":134402728,"body_markdown":"If the question is &quot;what can cause file writing to fail?&quot; then that&#39;s a general computer-science question; it isn&#39;t clear what the supposed tie is to the language, let alone the use of `GZipOutputStream` etc. But if you want to know what happened... there&#39;s some code, somewhere in the system, that actually handles the `IOException`, right?","body":"If the question is &quot;what can cause file writing to fail?&quot; then that&#39;s a general computer-science question; it isn&#39;t clear what the supposed tie is to the language, let alone the use of <code>GZipOutputStream</code> etc. But if you want to know what happened... there&#39;s some code, somewhere in the system, that actually handles the <code>IOException</code>, right?"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683665529,"creation_date":1683665529,"answer_id":76213304,"question_id":76213266,"body_markdown":"When writing to files or some external stream or file you can not guarantee that the writing won&#39;t be interrupted. The disk could be full, the network can go down, another process could lock files, your application could crash (probably for unrelated reasons) or the power could go down on the system. Any of that, and other reasons, could cause the writing to be interrupted or the file to be corrupted or improperly closed.","title":"Is data written to a OutputStream safe to assume always valid?","body":"<p>When writing to files or some external stream or file you can not guarantee that the writing won't be interrupted. The disk could be full, the network can go down, another process could lock files, your application could crash (probably for unrelated reasons) or the power could go down on the system. Any of that, and other reasons, could cause the writing to be interrupted or the file to be corrupted or improperly closed.</p>\n"}],"owner":{"account_id":1058531,"reputation":1108,"user_id":1060673,"accept_rate":42,"display_name":"yesbutmaybeno"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1683666329,"answer_count":1,"score":-2,"last_activity_date":1683665529,"creation_date":1683665156,"question_id":76213266,"body_markdown":"Is there any potential for Java/Android to incorrectly write data with an OutputStream?\r\nI occasionally have reports from users that generated files don&#39;t open, and upon inspection, they seem to go &quot;wrong&quot; somewhere random in the middle.\r\n\r\nIt&#39;s very, very rare.\r\n\r\nFiles are just a bunch of numbers written through many different iterations of loops, with helper functions like:\r\n\r\n    public static void writeShortToOutputStream(short value, OutputStream outputStream) throws IOException {\r\n        outputStream.write((value &gt;&gt;&gt; 8) &amp; 0xFF);\r\n        outputStream.write(value &amp; 0xFF);\r\n    }\r\n    \r\n    public static void writeIntToOutputStream(int value, OutputStream outputStream) throws IOException {\r\n        outputStream.write((value &gt;&gt;&gt; 24) &amp; 0xFF);\r\n        outputStream.write((value &gt;&gt;&gt; 16) &amp; 0xFF);\r\n        outputStream.write((value &gt;&gt;&gt;  8) &amp; 0xFF);\r\n        outputStream.write(value  &amp; 0xFF);\r\n    }\r\n\r\nIs there any chance there can be interruptions, hiccups, etc where a byte gets missed or skipped or something?\r\nThis is through a GZipOutputStream btw\r\n\r\nI just now changed the helper functions above to instead assemble these Short/Int/Float bytes into a `byte[]` and then I call `outputStream.write(byteArr, 0, 4);` as an attempt to make sure all data is written at once, per Short/Int/Float that is.","title":"Is data written to a OutputStream safe to assume always valid?","body":"<p>Is there any potential for Java/Android to incorrectly write data with an OutputStream?\nI occasionally have reports from users that generated files don't open, and upon inspection, they seem to go &quot;wrong&quot; somewhere random in the middle.</p>\n<p>It's very, very rare.</p>\n<p>Files are just a bunch of numbers written through many different iterations of loops, with helper functions like:</p>\n<pre><code>public static void writeShortToOutputStream(short value, OutputStream outputStream) throws IOException {\n    outputStream.write((value &gt;&gt;&gt; 8) &amp; 0xFF);\n    outputStream.write(value &amp; 0xFF);\n}\n\npublic static void writeIntToOutputStream(int value, OutputStream outputStream) throws IOException {\n    outputStream.write((value &gt;&gt;&gt; 24) &amp; 0xFF);\n    outputStream.write((value &gt;&gt;&gt; 16) &amp; 0xFF);\n    outputStream.write((value &gt;&gt;&gt;  8) &amp; 0xFF);\n    outputStream.write(value  &amp; 0xFF);\n}\n</code></pre>\n<p>Is there any chance there can be interruptions, hiccups, etc where a byte gets missed or skipped or something?\nThis is through a GZipOutputStream btw</p>\n<p>I just now changed the helper functions above to instead assemble these Short/Int/Float bytes into a <code>byte[]</code> and then I call <code>outputStream.write(byteArr, 0, 4);</code> as an attempt to make sure all data is written at once, per Short/Int/Float that is.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1674989335,"post_id":75271958,"comment_id":132827965,"body_markdown":"You have to permit the URL `/error` to see the error.","body":"You have to permit the URL <code>&#47;error</code> to see the error."},{"owner":{"account_id":5309282,"reputation":291,"user_id":4236181,"accept_rate":88,"display_name":"Brandon"},"score":1,"creation_date":1675013529,"post_id":75271958,"comment_id":132832423,"body_markdown":"Wow ok, such a small change, but you&#39;re correct, adding `/error` to the permit all worked. Thank you! Do you want answer the question so I can choose it as the answer?","body":"Wow ok, such a small change, but you&#39;re correct, adding <code>&#47;error</code> to the permit all worked. Thank you! Do you want answer the question so I can choose it as the answer?"}],"answers":[{"tags":[],"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675055464,"creation_date":1675055464,"answer_id":75280461,"question_id":75271958,"body_markdown":"You have to permit the URL /error to see the error.","title":"Spring Boot 3 with Spring Security Intercepts exceptions I don&#39;t want it to","body":"<p>You have to permit the URL /error to see the error.</p>\n"},{"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1675074265,"post_id":75282801,"comment_id":132842699,"body_markdown":"@ILyaCyclone Yes, it is, I couldn&#39;t find any newer documentation.","body":"@ILyaCyclone Yes, it is, I couldn&#39;t find any newer documentation."},{"owner":{"account_id":13003455,"reputation":556,"user_id":9398808,"display_name":"Kwiatko"},"score":0,"creation_date":1684852922,"post_id":75282801,"comment_id":134576066,"body_markdown":"Shame that it&#39;s not mentioned explicitly","body":"Shame that it&#39;s not mentioned explicitly"},{"owner":{"account_id":263968,"reputation":6799,"user_id":549913,"accept_rate":79,"display_name":"renanleandrof"},"score":0,"creation_date":1686602648,"post_id":75282801,"comment_id":134818813,"body_markdown":"You rock my friend!!! Thanks for this answer","body":"You rock my friend!!! Thanks for this answer"}],"tags":[],"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1683664655,"creation_date":1675072976,"answer_id":75282801,"question_id":75271958,"body_markdown":"You have to open the error endpoint, see [Spring Boot 2.0 Migration Guide](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#default-security):\r\n\r\n&gt; **Default Security**\r\n&gt;\r\n&gt; The security auto-configuration no longer exposes options and uses Spring Security defaults as much as possible. One noticeable side effect of that is the use of Spring Security’s content negotiation for authorization (form login).\r\n&gt; \r\n&gt; Spring Boot 2.0 doesn’t deviate too much from Spring Security’s defaults, as a result of which some of the endpoints that bypassed Spring Security in Spring Boot 1.5 are now secure by default. These include the error endpoint and paths to static resources such as `/css/**`, `/js/**`, `/images/**`, `/webjars/**`, `/**/favicon.ico`. If you want to open these up, you need to explicitly configure that.\r\n\r\nThe error endpoint renders the response, see [Spring Boot Reference](https://docs.spring.io/spring-boot/docs/2.0.0.RELEASE/reference/htmlsingle/#boot-features-error-handling):\r\n\r\n&gt; **27.1.11 Error Handling**\r\n&gt;\r\n&gt; By default, Spring Boot provides an `/error` mapping that handles all errors in a sensible way, and it is registered as a “global” error page in the servlet container. For machine clients, it produces a JSON response with details of the error, the HTTP status, and the exception message. For browser clients, there is a “whitelabel” error view that renders the same data in HTML format (to customize it, add a `View` that resolves to `error`).\r\n\r\nYour modified security chain configuration:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                   .cors().and()\r\n                   .csrf().disable()\r\n                   .authorizeHttpRequests(auth -&gt; auth\r\n                        .requestMatchers(&quot;/error&quot;).permitAll()\r\n                        .requestMatchers(&quot;/auth**&quot;).permitAll()\r\n                        .anyRequest().authenticated())\r\n                   .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                   .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\r\n                   .userDetailsService(jpaUserDetailsService)\r\n                   .build();\r\n    }\r\n","title":"Spring Boot 3 with Spring Security Intercepts exceptions I don&#39;t want it to","body":"<p>You have to open the error endpoint, see <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#default-security\" rel=\"noreferrer\">Spring Boot 2.0 Migration Guide</a>:</p>\n<blockquote>\n<p><strong>Default Security</strong></p>\n<p>The security auto-configuration no longer exposes options and uses Spring Security defaults as much as possible. One noticeable side effect of that is the use of Spring Security’s content negotiation for authorization (form login).</p>\n<p>Spring Boot 2.0 doesn’t deviate too much from Spring Security’s defaults, as a result of which some of the endpoints that bypassed Spring Security in Spring Boot 1.5 are now secure by default. These include the error endpoint and paths to static resources such as <code>/css/**</code>, <code>/js/**</code>, <code>/images/**</code>, <code>/webjars/**</code>, <code>/**/favicon.ico</code>. If you want to open these up, you need to explicitly configure that.</p>\n</blockquote>\n<p>The error endpoint renders the response, see <a href=\"https://docs.spring.io/spring-boot/docs/2.0.0.RELEASE/reference/htmlsingle/#boot-features-error-handling\" rel=\"noreferrer\">Spring Boot Reference</a>:</p>\n<blockquote>\n<p><strong>27.1.11 Error Handling</strong></p>\n<p>By default, Spring Boot provides an <code>/error</code> mapping that handles all errors in a sensible way, and it is registered as a “global” error page in the servlet container. For machine clients, it produces a JSON response with details of the error, the HTTP status, and the exception message. For browser clients, there is a “whitelabel” error view that renders the same data in HTML format (to customize it, add a <code>View</code> that resolves to <code>error</code>).</p>\n</blockquote>\n<p>Your modified security chain configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    return http\n               .cors().and()\n               .csrf().disable()\n               .authorizeHttpRequests(auth -&gt; auth\n                    .requestMatchers(&quot;/error&quot;).permitAll()\n                    .requestMatchers(&quot;/auth**&quot;).permitAll()\n                    .anyRequest().authenticated())\n               .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n               .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n               .userDetailsService(jpaUserDetailsService)\n               .build();\n}\n</code></pre>\n"}],"owner":{"account_id":5309282,"reputation":291,"user_id":4236181,"accept_rate":88,"display_name":"Brandon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3827,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75282801,"answer_count":2,"score":4,"last_activity_date":1683664655,"creation_date":1674953570,"question_id":75271958,"body_markdown":"I&#39;m building an API using Spring Boot 3.0.2 with Spring Security, I&#39;ve built out the security filter chain and it&#39;s working fine as far as blocking unauthenticated requests. But I have a `RestController` class that accepts `application/json`, and if I don&#39;t supply the content type header correctly I want the 415 status code returned. Which gets returned fine without Spring Security in the way. But with Spring Security it seems it&#39;s being intercepted and returning a 403 instead.\r\n\r\n`WebSecurityConfig`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                   .cors().and()\r\n                   .csrf().disable()\r\n                   .authorizeHttpRequests(auth -&gt; auth\r\n                       .requestMatchers(&quot;/auth**&quot;).permitAll()\r\n                       .anyRequest().authenticated())\r\n                   .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                   .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\r\n                   .userDetailsService(jpaUserDetailsService)\r\n                   .build();\r\n    }\r\n\r\nAuth Filter:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class JwtAuthFilter extends OncePerRequestFilter {\r\n        private final JwtUtils jwtUtils;\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n            String jwtToken = request.getHeader(AUTHENTICATION_HEADER);\r\n    \r\n            if (jwtToken != null &amp;&amp; jwtToken.startsWith(&quot;Bearer &quot;)) {\r\n                jwtToken = jwtToken.split(&quot; &quot;)[1];\r\n                if (jwtUtils.isValidToken(jwtToken)) {\r\n                    UserDetails userDetails = new UserSecurity(jwtUtils.extractUser(jwtToken));\r\n                    UsernamePasswordAuthenticationToken auth = new UsernamePasswordAuthenticationToken(userDetails,\r\n                            null, userDetails.getAuthorities());\r\n                    auth.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                    SecurityContextHolder.getContext().setAuthentication(auth);\r\n                }\r\n            }\r\n    \r\n            filterChain.doFilter(request, response);\r\n        }\r\n    }\r\n\r\nRest Controller:\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;auth&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public class AuthController {\r\n        @GetMapping\r\n        public Object test() {\r\n            Map&lt;String, String&gt; test = new HashMap&lt;&gt;();\r\n            test.put(&quot;key&quot;, &quot;val&quot;);\r\n    \r\n            return test;\r\n        }\r\n    }\r\n\r\nIs there a way to only return the 403 exception if it actually is an unauthenticated error? Not for every single exception?","title":"Spring Boot 3 with Spring Security Intercepts exceptions I don&#39;t want it to","body":"<p>I'm building an API using Spring Boot 3.0.2 with Spring Security, I've built out the security filter chain and it's working fine as far as blocking unauthenticated requests. But I have a <code>RestController</code> class that accepts <code>application/json</code>, and if I don't supply the content type header correctly I want the 415 status code returned. Which gets returned fine without Spring Security in the way. But with Spring Security it seems it's being intercepted and returning a 403 instead.</p>\n<p><code>WebSecurityConfig</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    return http\n               .cors().and()\n               .csrf().disable()\n               .authorizeHttpRequests(auth -&gt; auth\n                   .requestMatchers(&quot;/auth**&quot;).permitAll()\n                   .anyRequest().authenticated())\n               .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n               .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n               .userDetailsService(jpaUserDetailsService)\n               .build();\n}\n</code></pre>\n<p>Auth Filter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class JwtAuthFilter extends OncePerRequestFilter {\n    private final JwtUtils jwtUtils;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        String jwtToken = request.getHeader(AUTHENTICATION_HEADER);\n\n        if (jwtToken != null &amp;&amp; jwtToken.startsWith(&quot;Bearer &quot;)) {\n            jwtToken = jwtToken.split(&quot; &quot;)[1];\n            if (jwtUtils.isValidToken(jwtToken)) {\n                UserDetails userDetails = new UserSecurity(jwtUtils.extractUser(jwtToken));\n                UsernamePasswordAuthenticationToken auth = new UsernamePasswordAuthenticationToken(userDetails,\n                        null, userDetails.getAuthorities());\n                auth.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(auth);\n            }\n        }\n\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>Rest Controller:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;auth&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\npublic class AuthController {\n    @GetMapping\n    public Object test() {\n        Map&lt;String, String&gt; test = new HashMap&lt;&gt;();\n        test.put(&quot;key&quot;, &quot;val&quot;);\n\n        return test;\n    }\n}\n</code></pre>\n<p>Is there a way to only return the 403 exception if it actually is an unauthenticated error? Not for every single exception?</p>\n"},{"tags":["java","spring-boot","jackson"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1495176062,"post_id":44063102,"comment_id":75150614,"body_markdown":"no getter/setter","body":"no getter/setter"},{"owner":{"account_id":4559003,"reputation":695,"user_id":3701844,"accept_rate":56,"display_name":"Bhargav"},"score":0,"creation_date":1495176121,"post_id":44063102,"comment_id":75150643,"body_markdown":"Is it a must to have a getter and setter to include it in o/p?","body":"Is it a must to have a getter and setter to include it in o/p?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1495176182,"post_id":44063102,"comment_id":75150678,"body_markdown":"pretty sure it is","body":"pretty sure it is"},{"owner":{"account_id":4559003,"reputation":695,"user_id":3701844,"accept_rate":56,"display_name":"Bhargav"},"score":0,"creation_date":1495176226,"post_id":44063102,"comment_id":75150695,"body_markdown":"Yes, that worked. Thanks. Could you also tell me why?","body":"Yes, that worked. Thanks. Could you also tell me why?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1495176282,"post_id":44063102,"comment_id":75150715,"body_markdown":"`cos that is how Jackson is coded","body":"`cos that is how Jackson is coded"}],"answers":[{"comments":[{"owner":{"account_id":10252642,"reputation":89,"user_id":7566375,"display_name":"rayen"},"score":0,"creation_date":1495180694,"post_id":44063252,"comment_id":75153349,"body_markdown":"or add **@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)**     to TestCenter","body":"or add <b>@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)</b>     to TestCenter"}],"tags":[],"owner":{"account_id":4559003,"reputation":695,"user_id":3701844,"accept_rate":56,"display_name":"Bhargav"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683664075,"creation_date":1495176520,"answer_id":44063252,"question_id":44063102,"body_markdown":"Thanks to @Scary Wombat.\r\nSeems the issue was because there was no getter/setter for that field.","title":"Jackson Mapper not mapping all fields","body":"<p>Thanks to @Scary Wombat.\nSeems the issue was because there was no getter/setter for that field.</p>\n"}],"owner":{"account_id":4559003,"reputation":695,"user_id":3701844,"accept_rate":56,"display_name":"Bhargav"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1851,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44063252,"answer_count":1,"score":0,"last_activity_date":1683664075,"creation_date":1495175998,"question_id":44063102,"body_markdown":"I am using jackson to convert my POJO array to json, but it is not giving one particular field in the output, where as gson.toJson gives the output. can some one help?\r\n\r\n    public class TestCenter implements Comparable&lt;TestCenter&gt;{\r\n    \t\r\n    \t\r\n    \tprivate Integer no_of_accessible_tests=0;\r\n    \tprivate Integer tagId;\r\n    \tprivate String tag;\r\n    \tprivate Integer number_of_tests=0;\r\n    \t\r\n    \tprivate List&lt;Test&gt; tests= new ArrayList&lt;&gt;();\r\n    \t\r\n    \tpublic Integer getTagId() {\r\n    \t\treturn tagId;\r\n    \t}\r\n    \tpublic void setTagId(Integer tagId) {\r\n    \t\tthis.tagId = tagId;\r\n    \t}\r\n    \tpublic String getTag() {\r\n    \t\treturn tag;\r\n    \t}\r\n    \tpublic void setTag(String tag) {\r\n    \t\tthis.tag = tag;\r\n    \t}\r\n    \tpublic Integer getNumber_of_tests() {\r\n    \t\treturn number_of_tests;\r\n    \t}\r\n    \tpublic void setNumber_of_tests(Integer number_of_tests) {\r\n    \t\tthis.number_of_tests = number_of_tests;\r\n    \t}\r\n    \tpublic List&lt;Test&gt; getTests() {\r\n    \t\treturn tests;\r\n    \t}\r\n    \tpublic void setTests(List&lt;Test&gt; tests) {\r\n    \t\tthis.tests = tests;\r\n    \t}\r\n    \t\r\n    \tpublic void addTest(Test t)\r\n    \t{\r\n    \t\t\r\n    \t\tthis.tests.add(t);\r\n    \t\tthis.number_of_tests++;\r\n    \t\tif(&quot;Yes&quot;.equals(t.getAccess()))\r\n    \t\t\tthis.no_of_accessible_tests++;\r\n    \t}\r\n    \t@Override\r\n    \tpublic int compareTo(TestCenter o) {\r\n    \t\t\r\n    \t\tif(this.no_of_accessible_tests.equals(o.no_of_accessible_tests))\r\n    \t\t{\r\n    \t\t\treturn number_of_tests.compareTo(o.number_of_tests);\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\treturn o.no_of_accessible_tests.compareTo(this.no_of_accessible_tests);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n    \r\n    System.out.println(gson.toJson(tests));\r\n    \t      System.out.println(mapper.writeValueAsString(tests));\r\n    \t      return mapper.writeValueAsString(tests);\r\n    output for both:\r\n    [{&quot;no_of_accessible_tests&quot;:0,&quot;tagId&quot;:196,&quot;tag&quot;:&quot;IBPS Clerical Prelims&quot;,&quot;number_of_tests&quot;:1,&quot;tests&quot;:[{&quot;activatedDate&quot;:null,&quot;activatedTime&quot;:null,&quot;ScheduleDate&quot;:null,&quot;ScheduleTime&quot;:null,&quot;endDate&quot;:null,&quot;endTime&quot;:null,&quot;testId&quot;:2193,&quot;testCode&quot;:&quot;P15 CP FLT 61&quot;,&quot;testName&quot;:&quot;Amazon -4&quot;,&quot;testType&quot;:&quot;flt&quot;,&quot;testPattern&quot;:&quot;ibps&quot;,&quot;testDurationInMinutes&quot;:120,&quot;numberOfQuestions&quot;:104,&quot;access&quot;:&quot;No&quot;,&quot;status&quot;:&quot;start&quot;,&quot;testResult&quot;:null,&quot;tags&quot;:[&quot;2017&quot;,&quot;IBPS Clerical Prelims&quot;]}]},{&quot;no_of_accessible_tests&quot;:0,&quot;tagId&quot;:0,&quot;tag&quot;:&quot;Others&quot;,&quot;number_of_tests&quot;:6,&quot;tests&quot;:[{&quot;activatedDate&quot;:null,&quot;activatedTime&quot;:null,&quot;ScheduleDate&quot;:null,&quot;ScheduleTime&quot;:null,&quot;endDate&quot;:null,&quot;endTime&quot;:null,&quot;testId&quot;:2525,&quot;testCode&quot;:&quot;CP 16 FLT 04&quot;,&quot;testName&quot;:&quot;Tech Mahindra -4&quot;,&quot;testType&quot;:&quot;flt&quot;,&quot;testPattern&quot;:&quot;ibps&quot;,&quot;testDurationInMinutes&quot;:65,&quot;numberOfQuestions&quot;:76,&quot;access&quot;:&quot;No&quot;,&quot;status&quot;:&quot;start&quot;,&quot;testResult&quot;:null,&quot;tags&quot;:null},{&quot;activatedDate&quot;:&quot;2015-12-17&quot;,&quot;activatedTime&quot;:&quot;09:00:00&quot;,&quot;ScheduleDate&quot;:&quot;2015-12-17&quot;,&quot;ScheduleTime&quot;:&quot;09:00:00&quot;,&quot;endDate&quot;:&quot;license end date&quot;,&quot;endTime&quot;:&quot;license end time&quot;,&quot;testId&quot;:2188,&quot;testCode&quot;:&quot;P15 CP FLT 58&quot;,&quot;testName&quot;:&quot;Amazon -1&quot;,&quot;testType&quot;:&quot;flt&quot;,&quot;testPattern&quot;:&quot;ibps&quot;,&quot;testDurationInMinutes&quot;:120,&quot;numberOfQuestions&quot;:104,&quot;access&quot;:&quot;No&quot;,&quot;status&quot;:&quot;Resume&quot;,&quot;testResult&quot;:null,&quot;tags&quot;:null},{&quot;activatedDate&quot;:&quot;2015-12-17&quot;,&quot;activatedTime&quot;:&quot;09:00:00&quot;,&quot;ScheduleDate&quot;:&quot;2015-12-17&quot;,&quot;ScheduleTime&quot;:&quot;09:00:00&quot;,&quot;endDate&quot;:&quot;license end date&quot;,&quot;endTime&quot;:&quot;license end time&quot;,&quot;testId&quot;:2190,&quot;testCode&quot;:&quot;P15 CP FLT 59&quot;,&quot;testName&quot;:&quot;Amazon -2&quot;,&quot;testType&quot;:&quot;flt&quot;,&quot;testPattern&quot;:&quot;ibps&quot;,&quot;testDurationInMinutes&quot;:120,&quot;numberOfQuestions&quot;:104,&quot;access&quot;:&quot;No&quot;,&quot;status&quot;:&quot;start&quot;,&quot;testResult&quot;:null,&quot;tags&quot;:null},{&quot;activatedDate&quot;:null,&quot;activatedTime&quot;:null,&quot;ScheduleDate&quot;:null,&quot;ScheduleTime&quot;:null,&quot;endDate&quot;:null,&quot;endTime&quot;:null,&quot;testId&quot;:2192,&quot;testCode&quot;:&quot;P15 CP FLT 60&quot;,&quot;testName&quot;:&quot;Amazon -3&quot;,&quot;testType&quot;:&quot;flt&quot;,&quot;testPattern&quot;:&quot;ibps&quot;,&quot;testDurationInMinutes&quot;:120,&quot;numberOfQuestions&quot;:104,&quot;access&quot;:&quot;No&quot;,&quot;status&quot;:&quot;start&quot;,&quot;testResult&quot;:null,&quot;tags&quot;:null},{&quot;activatedDate&quot;:null,&quot;activatedTime&quot;:null,&quot;ScheduleDate&quot;:null,&quot;ScheduleTime&quot;:null,&quot;endDate&quot;:null,&quot;endTime&quot;:null,&quot;testId&quot;:1929,&quot;testCode&quot;:&quot;P15 CP FLT 09&quot;,&quot;testName&quot;:&quot;CapGemini -1&quot;,&quot;testType&quot;:&quot;flt&quot;,&quot;testPattern&quot;:&quot;ibps&quot;,&quot;testDurationInMinutes&quot;:60,&quot;numberOfQuestions&quot;:75,&quot;access&quot;:&quot;No&quot;,&quot;status&quot;:&quot;start&quot;,&quot;testResult&quot;:null,&quot;tags&quot;:null},{&quot;test_ready&quot;:&quot;no&quot;,&quot;reason_student_side&quot;:&quot;This test would be available on 22-Dec-16.&quot;,&quot;reason_admin_side&quot;:&quot;.&quot;,&quot;testId&quot;:2633,&quot;testCode&quot;:&quot;BP FLT 87&quot;,&quot;testName&quot;:&quot;SBI Specialist Officer Test -5&quot;,&quot;testType&quot;:&quot;flt&quot;,&quot;testPattern&quot;:&quot;ibps&quot;,&quot;testDurationInMinutes&quot;:90,&quot;numberOfQuestions&quot;:120,&quot;access&quot;:&quot;No&quot;,&quot;status&quot;:&quot;start&quot;,&quot;testResult&quot;:null,&quot;tags&quot;:null}]}]\r\n    [{&quot;tagId&quot;:196,&quot;tag&quot;:&quot;IBPS Clerical Prelims&quot;,&quot;number_of_tests&quot;:1,&quot;tests&quot;:[{&quot;testId&quot;:2193,&quot;testCode&quot;:&quot;P15 CP FLT 61&quot;,&quot;testName&quot;:&quot;Amazon -4&quot;,&quot;testType&quot;:&quot;flt&quot;,&quot;testPattern&quot;:&quot;ibps&quot;,&quot;testDurationInMinutes&quot;:120,&quot;numberOfQuestions&quot;:104,&quot;access&quot;:&quot;No&quot;,&quot;status&quot;:&quot;start&quot;,&quot;testResult&quot;:null,&quot;tags&quot;:[&quot;2017&quot;,&quot;IBPS Clerical Prelims&quot;],&quot;activatedDate&quot;:null,&quot;activatedTime&quot;:null,&quot;endDate&quot;:null,&quot;endTime&quot;:null,&quot;scheduleDate&quot;:null,&quot;scheduleTime&quot;:null}]},{&quot;tagId&quot;:0,&quot;tag&quot;:&quot;Others&quot;,&quot;number_of_tests&quot;:6,&quot;tests&quot;:[{&quot;testId&quot;:2525,&quot;testCode&quot;:&quot;CP 16 FLT 04&quot;,&quot;testName&quot;:&quot;Tech Mahindra -4&quot;,&quot;testType&quot;:&quot;flt&quot;,&quot;testPattern&quot;:&quot;ibps&quot;,&quot;testDurationInMinutes&quot;:65,&quot;numberOfQuestions&quot;:76,&quot;access&quot;:&quot;No&quot;,&quot;status&quot;:&quot;start&quot;,&quot;testResult&quot;:null,&quot;tags&quot;:null,&quot;activatedDate&quot;:null,&quot;activatedTime&quot;:null,&quot;endDate&quot;:null,&quot;endTime&quot;:null,&quot;scheduleDate&quot;:null,&quot;scheduleTime&quot;:null},{&quot;testId&quot;:2188,&quot;testCode&quot;:&quot;P15 CP FLT 58&quot;,&quot;testName&quot;:&quot;Amazon -1&quot;,&quot;testType&quot;:&quot;flt&quot;,&quot;testPattern&quot;:&quot;ibps&quot;,&quot;testDurationInMinutes&quot;:120,&quot;numberOfQuestions&quot;:104,&quot;access&quot;:&quot;No&quot;,&quot;status&quot;:&quot;Resume&quot;,&quot;testResult&quot;:null,&quot;tags&quot;:null,&quot;activatedDate&quot;:&quot;2015-12-17&quot;,&quot;activatedTime&quot;:&quot;09:00:00&quot;,&quot;endDate&quot;:&quot;license end date&quot;,&quot;endTime&quot;:&quot;license end time&quot;,&quot;scheduleDate&quot;:&quot;2015-12-17&quot;,&quot;scheduleTime&quot;:&quot;09:00:00&quot;},{&quot;testId&quot;:2190,&quot;testCode&quot;:&quot;P15 CP FLT 59&quot;,&quot;testName&quot;:&quot;Amazon -2&quot;,&quot;testType&quot;:&quot;flt&quot;,&quot;testPattern&quot;:&quot;ibps&quot;,&quot;testDurationInMinutes&quot;:120,&quot;numberOfQuestions&quot;:104,&quot;access&quot;:&quot;No&quot;,&quot;status&quot;:&quot;start&quot;,&quot;testResult&quot;:null,&quot;tags&quot;:null,&quot;activatedDate&quot;:&quot;2015-12-17&quot;,&quot;activatedTime&quot;:&quot;09:00:00&quot;,&quot;endDate&quot;:&quot;license end date&quot;,&quot;endTime&quot;:&quot;license end time&quot;,&quot;scheduleDate&quot;:&quot;2015-12-17&quot;,&quot;scheduleTime&quot;:&quot;09:00:00&quot;},{&quot;testId&quot;:2192,&quot;testCode&quot;:&quot;P15 CP FLT 60&quot;,&quot;testName&quot;:&quot;Amazon -3&quot;,&quot;testType&quot;:&quot;flt&quot;,&quot;testPattern&quot;:&quot;ibps&quot;,&quot;testDurationInMinutes&quot;:120,&quot;numberOfQuestions&quot;:104,&quot;access&quot;:&quot;No&quot;,&quot;status&quot;:&quot;start&quot;,&quot;testResult&quot;:null,&quot;tags&quot;:null,&quot;activatedDate&quot;:null,&quot;activatedTime&quot;:null,&quot;endDate&quot;:null,&quot;endTime&quot;:null,&quot;scheduleDate&quot;:null,&quot;scheduleTime&quot;:null},{&quot;testId&quot;:1929,&quot;testCode&quot;:&quot;P15 CP FLT 09&quot;,&quot;testName&quot;:&quot;CapGemini -1&quot;,&quot;testType&quot;:&quot;flt&quot;,&quot;testPattern&quot;:&quot;ibps&quot;,&quot;testDurationInMinutes&quot;:60,&quot;numberOfQuestions&quot;:75,&quot;access&quot;:&quot;No&quot;,&quot;status&quot;:&quot;start&quot;,&quot;testResult&quot;:null,&quot;tags&quot;:null,&quot;activatedDate&quot;:null,&quot;activatedTime&quot;:null,&quot;endDate&quot;:null,&quot;endTime&quot;:null,&quot;scheduleDate&quot;:null,&quot;scheduleTime&quot;:null},{&quot;testId&quot;:2633,&quot;testCode&quot;:&quot;BP FLT 87&quot;,&quot;testName&quot;:&quot;SBI Specialist Officer Test -5&quot;,&quot;testType&quot;:&quot;flt&quot;,&quot;testPattern&quot;:&quot;ibps&quot;,&quot;testDurationInMinutes&quot;:90,&quot;numberOfQuestions&quot;:120,&quot;access&quot;:&quot;No&quot;,&quot;status&quot;:&quot;start&quot;,&quot;testResult&quot;:null,&quot;tags&quot;:null,&quot;test_ready&quot;:&quot;no&quot;,&quot;reason_student_side&quot;:&quot;This test would be available on 22-Dec-16.&quot;,&quot;reason_admin_side&quot;:&quot;.&quot;}]}]\r\n\r\nit is not giving no_of_accessible_tests field in output ","title":"Jackson Mapper not mapping all fields","body":"<p>I am using jackson to convert my POJO array to json, but it is not giving one particular field in the output, where as gson.toJson gives the output. can some one help?</p>\n\n<pre><code>public class TestCenter implements Comparable&lt;TestCenter&gt;{\n\n\n    private Integer no_of_accessible_tests=0;\n    private Integer tagId;\n    private String tag;\n    private Integer number_of_tests=0;\n\n    private List&lt;Test&gt; tests= new ArrayList&lt;&gt;();\n\n    public Integer getTagId() {\n        return tagId;\n    }\n    public void setTagId(Integer tagId) {\n        this.tagId = tagId;\n    }\n    public String getTag() {\n        return tag;\n    }\n    public void setTag(String tag) {\n        this.tag = tag;\n    }\n    public Integer getNumber_of_tests() {\n        return number_of_tests;\n    }\n    public void setNumber_of_tests(Integer number_of_tests) {\n        this.number_of_tests = number_of_tests;\n    }\n    public List&lt;Test&gt; getTests() {\n        return tests;\n    }\n    public void setTests(List&lt;Test&gt; tests) {\n        this.tests = tests;\n    }\n\n    public void addTest(Test t)\n    {\n\n        this.tests.add(t);\n        this.number_of_tests++;\n        if(\"Yes\".equals(t.getAccess()))\n            this.no_of_accessible_tests++;\n    }\n    @Override\n    public int compareTo(TestCenter o) {\n\n        if(this.no_of_accessible_tests.equals(o.no_of_accessible_tests))\n        {\n            return number_of_tests.compareTo(o.number_of_tests);\n        }\n        else\n        {\n            return o.no_of_accessible_tests.compareTo(this.no_of_accessible_tests);\n        }\n    }\n\n\n}\n\nSystem.out.println(gson.toJson(tests));\n          System.out.println(mapper.writeValueAsString(tests));\n          return mapper.writeValueAsString(tests);\noutput for both:\n[{\"no_of_accessible_tests\":0,\"tagId\":196,\"tag\":\"IBPS Clerical Prelims\",\"number_of_tests\":1,\"tests\":[{\"activatedDate\":null,\"activatedTime\":null,\"ScheduleDate\":null,\"ScheduleTime\":null,\"endDate\":null,\"endTime\":null,\"testId\":2193,\"testCode\":\"P15 CP FLT 61\",\"testName\":\"Amazon -4\",\"testType\":\"flt\",\"testPattern\":\"ibps\",\"testDurationInMinutes\":120,\"numberOfQuestions\":104,\"access\":\"No\",\"status\":\"start\",\"testResult\":null,\"tags\":[\"2017\",\"IBPS Clerical Prelims\"]}]},{\"no_of_accessible_tests\":0,\"tagId\":0,\"tag\":\"Others\",\"number_of_tests\":6,\"tests\":[{\"activatedDate\":null,\"activatedTime\":null,\"ScheduleDate\":null,\"ScheduleTime\":null,\"endDate\":null,\"endTime\":null,\"testId\":2525,\"testCode\":\"CP 16 FLT 04\",\"testName\":\"Tech Mahindra -4\",\"testType\":\"flt\",\"testPattern\":\"ibps\",\"testDurationInMinutes\":65,\"numberOfQuestions\":76,\"access\":\"No\",\"status\":\"start\",\"testResult\":null,\"tags\":null},{\"activatedDate\":\"2015-12-17\",\"activatedTime\":\"09:00:00\",\"ScheduleDate\":\"2015-12-17\",\"ScheduleTime\":\"09:00:00\",\"endDate\":\"license end date\",\"endTime\":\"license end time\",\"testId\":2188,\"testCode\":\"P15 CP FLT 58\",\"testName\":\"Amazon -1\",\"testType\":\"flt\",\"testPattern\":\"ibps\",\"testDurationInMinutes\":120,\"numberOfQuestions\":104,\"access\":\"No\",\"status\":\"Resume\",\"testResult\":null,\"tags\":null},{\"activatedDate\":\"2015-12-17\",\"activatedTime\":\"09:00:00\",\"ScheduleDate\":\"2015-12-17\",\"ScheduleTime\":\"09:00:00\",\"endDate\":\"license end date\",\"endTime\":\"license end time\",\"testId\":2190,\"testCode\":\"P15 CP FLT 59\",\"testName\":\"Amazon -2\",\"testType\":\"flt\",\"testPattern\":\"ibps\",\"testDurationInMinutes\":120,\"numberOfQuestions\":104,\"access\":\"No\",\"status\":\"start\",\"testResult\":null,\"tags\":null},{\"activatedDate\":null,\"activatedTime\":null,\"ScheduleDate\":null,\"ScheduleTime\":null,\"endDate\":null,\"endTime\":null,\"testId\":2192,\"testCode\":\"P15 CP FLT 60\",\"testName\":\"Amazon -3\",\"testType\":\"flt\",\"testPattern\":\"ibps\",\"testDurationInMinutes\":120,\"numberOfQuestions\":104,\"access\":\"No\",\"status\":\"start\",\"testResult\":null,\"tags\":null},{\"activatedDate\":null,\"activatedTime\":null,\"ScheduleDate\":null,\"ScheduleTime\":null,\"endDate\":null,\"endTime\":null,\"testId\":1929,\"testCode\":\"P15 CP FLT 09\",\"testName\":\"CapGemini -1\",\"testType\":\"flt\",\"testPattern\":\"ibps\",\"testDurationInMinutes\":60,\"numberOfQuestions\":75,\"access\":\"No\",\"status\":\"start\",\"testResult\":null,\"tags\":null},{\"test_ready\":\"no\",\"reason_student_side\":\"This test would be available on 22-Dec-16.\",\"reason_admin_side\":\".\",\"testId\":2633,\"testCode\":\"BP FLT 87\",\"testName\":\"SBI Specialist Officer Test -5\",\"testType\":\"flt\",\"testPattern\":\"ibps\",\"testDurationInMinutes\":90,\"numberOfQuestions\":120,\"access\":\"No\",\"status\":\"start\",\"testResult\":null,\"tags\":null}]}]\n[{\"tagId\":196,\"tag\":\"IBPS Clerical Prelims\",\"number_of_tests\":1,\"tests\":[{\"testId\":2193,\"testCode\":\"P15 CP FLT 61\",\"testName\":\"Amazon -4\",\"testType\":\"flt\",\"testPattern\":\"ibps\",\"testDurationInMinutes\":120,\"numberOfQuestions\":104,\"access\":\"No\",\"status\":\"start\",\"testResult\":null,\"tags\":[\"2017\",\"IBPS Clerical Prelims\"],\"activatedDate\":null,\"activatedTime\":null,\"endDate\":null,\"endTime\":null,\"scheduleDate\":null,\"scheduleTime\":null}]},{\"tagId\":0,\"tag\":\"Others\",\"number_of_tests\":6,\"tests\":[{\"testId\":2525,\"testCode\":\"CP 16 FLT 04\",\"testName\":\"Tech Mahindra -4\",\"testType\":\"flt\",\"testPattern\":\"ibps\",\"testDurationInMinutes\":65,\"numberOfQuestions\":76,\"access\":\"No\",\"status\":\"start\",\"testResult\":null,\"tags\":null,\"activatedDate\":null,\"activatedTime\":null,\"endDate\":null,\"endTime\":null,\"scheduleDate\":null,\"scheduleTime\":null},{\"testId\":2188,\"testCode\":\"P15 CP FLT 58\",\"testName\":\"Amazon -1\",\"testType\":\"flt\",\"testPattern\":\"ibps\",\"testDurationInMinutes\":120,\"numberOfQuestions\":104,\"access\":\"No\",\"status\":\"Resume\",\"testResult\":null,\"tags\":null,\"activatedDate\":\"2015-12-17\",\"activatedTime\":\"09:00:00\",\"endDate\":\"license end date\",\"endTime\":\"license end time\",\"scheduleDate\":\"2015-12-17\",\"scheduleTime\":\"09:00:00\"},{\"testId\":2190,\"testCode\":\"P15 CP FLT 59\",\"testName\":\"Amazon -2\",\"testType\":\"flt\",\"testPattern\":\"ibps\",\"testDurationInMinutes\":120,\"numberOfQuestions\":104,\"access\":\"No\",\"status\":\"start\",\"testResult\":null,\"tags\":null,\"activatedDate\":\"2015-12-17\",\"activatedTime\":\"09:00:00\",\"endDate\":\"license end date\",\"endTime\":\"license end time\",\"scheduleDate\":\"2015-12-17\",\"scheduleTime\":\"09:00:00\"},{\"testId\":2192,\"testCode\":\"P15 CP FLT 60\",\"testName\":\"Amazon -3\",\"testType\":\"flt\",\"testPattern\":\"ibps\",\"testDurationInMinutes\":120,\"numberOfQuestions\":104,\"access\":\"No\",\"status\":\"start\",\"testResult\":null,\"tags\":null,\"activatedDate\":null,\"activatedTime\":null,\"endDate\":null,\"endTime\":null,\"scheduleDate\":null,\"scheduleTime\":null},{\"testId\":1929,\"testCode\":\"P15 CP FLT 09\",\"testName\":\"CapGemini -1\",\"testType\":\"flt\",\"testPattern\":\"ibps\",\"testDurationInMinutes\":60,\"numberOfQuestions\":75,\"access\":\"No\",\"status\":\"start\",\"testResult\":null,\"tags\":null,\"activatedDate\":null,\"activatedTime\":null,\"endDate\":null,\"endTime\":null,\"scheduleDate\":null,\"scheduleTime\":null},{\"testId\":2633,\"testCode\":\"BP FLT 87\",\"testName\":\"SBI Specialist Officer Test -5\",\"testType\":\"flt\",\"testPattern\":\"ibps\",\"testDurationInMinutes\":90,\"numberOfQuestions\":120,\"access\":\"No\",\"status\":\"start\",\"testResult\":null,\"tags\":null,\"test_ready\":\"no\",\"reason_student_side\":\"This test would be available on 22-Dec-16.\",\"reason_admin_side\":\".\"}]}]\n</code></pre>\n\n<p>it is not giving no_of_accessible_tests field in output </p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1683699298,"post_id":76211821,"comment_id":134404553,"body_markdown":"Please include the imports/packages you are using in your code, also clarify which Spring Boot version you are using. I suspect you are using Spring Boot 3.0 and added JPA dependencies for JavaEE instead of JakartaEE.","body":"Please include the imports/packages you are using in your code, also clarify which Spring Boot version you are using. I suspect you are using Spring Boot 3.0 and added JPA dependencies for JavaEE instead of JakartaEE."},{"owner":{"account_id":26021002,"reputation":33,"user_id":19728708,"display_name":"Stefan Jankovic"},"score":0,"creation_date":1683738102,"post_id":76211821,"comment_id":134414086,"body_markdown":"This is for `spring-boot-starter-parent` : `&lt;version&gt;3.0.6&lt;/version&gt;`. Btw. I changed from `import javax.persistence.*;` to `import jakarta.persistence.*;` and now it seems that other errors are solved but I get `org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Association &#39;com.demo.hospitalmanagementtool.entities.Billing.appointment&#39; targets an unknown entity named &#39;com.demo.hospitalmanagementtool.entities.Appointment&#39;\n`","body":"This is for <code>spring-boot-starter-parent</code> : <code>&lt;version&gt;3.0.6&lt;&#47;version&gt;</code>. Btw. I changed from <code>import javax.persistence.*;</code> to <code>import jakarta.persistence.*;</code> and now it seems that other errors are solved but I get <code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org&#47;springframework&#47;boot&#47;autoconfigure&#47;orm&#47;jpa&#47;HibernateJpa&zwnj;&#8203;Configuration.class]&zwnj;&#8203;: Association &#39;com.demo.hospitalmanagementtool.entities.Billing.appointmen&zwnj;&#8203;t&#39; targets an unknown entity named &#39;com.demo.hospitalmanagementtool.entities.Appointment&#39; </code>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1683741098,"post_id":76211821,"comment_id":134414758,"body_markdown":"Please don&#39;t add additional information for code, xml etc. as comments as that is totally unreadable. The fact that you have/had `javax.persistence` already means you are trying to outsmart the dependency m anagement. The other error relates to your entitiesw as well you are referncing one that hasn&#39;t either `@Entity` or the wrong one.","body":"Please don&#39;t add additional information for code, xml etc. as comments as that is totally unreadable. The fact that you have/had <code>javax.persistence</code> already means you are trying to outsmart the dependency m anagement. The other error relates to your entitiesw as well you are referncing one that hasn&#39;t either <code>@Entity</code> or the wrong one."}],"owner":{"account_id":26021002,"reputation":33,"user_id":19728708,"display_name":"Stefan Jankovic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683663871,"creation_date":1683651878,"question_id":76211821,"body_markdown":"I know there is a lot of questions and answer for problems like this, believe me, I tried to find something usefully for past hour and didn&#39;t manage to find anything that will fix this so far.\r\n\r\nI will provide entity, repository, and service impl down below and than full stack trace.\r\n\r\n`Entity:`\r\n\r\n    @Table(name = &quot;appointment&quot;)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    public class Appointment {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;date_time&quot;)\r\n    private LocalDateTime dateTime;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;patient_id&quot;)\r\n    private Patient patient;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;doctor_id&quot;)\r\n    private Doctor doctor;\r\n\r\n    @Column(name = &quot;reason_for_visit&quot;)\r\n    private String reasonForVisit;\r\n\r\n    private String notes;\r\n\r\n    private String status;\r\n\r\n    @OneToOne(mappedBy = &quot;appointment&quot;)\r\n    private MedicalRecord medicalRecord;\r\n\r\n    }\r\n\r\n`Repo:`\r\n\r\n    @Repository\r\n    public interface AppointmentRepository extends JpaRepository&lt;Appointment, Long&gt; {\r\n\r\n   }\r\n\r\n`ServiceImpl:`\r\n\r\n    @Service\r\n    public class AppointmentServiceImpl implements AppointmentService {\r\n\r\n    @Autowired\r\n    AppointmentRepository appointmentRepository;\r\n\r\n    @Override\r\n    public List&lt;Appointment&gt; getAllAppointments() {\r\n        return appointmentRepository.findAll();\r\n    }\r\n\r\n    @Override\r\n    public Appointment getAppointmentById(Long id) {\r\n        return appointmentRepository.findById(id)\r\n                .orElseThrow(() -&gt; new NotFoundException(&quot;Appointment with ID &quot; + id + &quot; not found.&quot;));\r\n    }\r\n\r\n    @Override\r\n    public void saveAppointment(Appointment appointment) {\r\n        appointmentRepository.save(appointment);\r\n    }\r\n\r\n    @Override\r\n    public void updateAppointment(Long id, Appointment appointment) {\r\n        Appointment existingAppointment = getAppointmentById(id);\r\n        existingAppointment.setPatient(appointment.getPatient());\r\n        existingAppointment.setDoctor(appointment.getDoctor());\r\n        existingAppointment.setReasonForVisit(appointment.getReasonForVisit());\r\n        existingAppointment.setNotes(appointment.getNotes());\r\n        existingAppointment.setStatus(appointment.getStatus());\r\n        existingAppointment.setMedicalRecord(appointment.getMedicalRecord());\r\n        existingAppointment.setDateTime(appointment.getDateTime());\r\n        appointmentRepository.save(existingAppointment);\r\n    }\r\n\r\n    @Override\r\n    public void deleteAppointment(Long id) {\r\n        appointmentRepository.deleteById(id);\r\n    }\r\n    }\r\n\r\n`StackTrace:`\r\n\r\n        org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;appointmentServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;appointmentRepository&#39;: Error creating bean with name &#39;appointmentRepository&#39; defined in com.demo.hospitalmanagementtool.repository.AppointmentRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.demo.hospitalmanagementtool.entities.Appointment\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\r\n    \tat com.demo.hospitalmanagementtool.HospitalManagementTool.main(HospitalManagementTool.java:14) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.6.jar:3.0.6]\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;appointmentRepository&#39; defined in com.demo.hospitalmanagementtool.repository.AppointmentRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.demo.hospitalmanagementtool.entities.Appointment\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \t... 25 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: Not a managed type: class com.demo.hospitalmanagementtool.entities.Appointment\r\n    \tat org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:181) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n    \tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:496) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n    \tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:99) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n    \tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:77) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.data.util.Lazy.getNullable(Lazy.java:245) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.8.jar:6.0.8]\r\n    \t... 35 common frames omitted\r\n\r\n**What I tried?**\r\n\r\nI tried first with this in my main class:\r\n\r\n`@ComponentScan(basePackages = {&quot;com/demo/hospitalmanagementtool/service/impl&quot;})`\r\n\r\n`@ComponentScan(basePackages = {&quot;com/demo/hospitalmanagementtool/service&quot;})`\r\n\r\n`@ComponentScan(basePackages = {&quot;com.demo.hospitalmanagementtool.service.impl&quot;})`\r\n\r\n`@ComponentScan(basePackages = {&quot;com.demo.hospitalmanagementtool.service&quot;})`\r\n\r\nSame errors.\r\n\r\nThen I tried this:\r\n\r\n`@EntityScan(basePackages = &quot;com.demo.hospitalmanagementtool.entities&quot;)`\r\n\r\nSame errors.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Error creating bean with name &#39;appointmentServiceImpl&#39;,&#39;appointmentRepository&#39;, not a managed type","body":"<p>I know there is a lot of questions and answer for problems like this, believe me, I tried to find something usefully for past hour and didn't manage to find anything that will fix this so far.</p>\n<p>I will provide entity, repository, and service impl down below and than full stack trace.</p>\n<p><code>Entity:</code></p>\n<pre><code>@Table(name = &quot;appointment&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@Entity\npublic class Appointment {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@Column(name = &quot;date_time&quot;)\nprivate LocalDateTime dateTime;\n\n@ManyToOne\n@JoinColumn(name = &quot;patient_id&quot;)\nprivate Patient patient;\n\n@ManyToOne\n@JoinColumn(name = &quot;doctor_id&quot;)\nprivate Doctor doctor;\n\n@Column(name = &quot;reason_for_visit&quot;)\nprivate String reasonForVisit;\n\nprivate String notes;\n\nprivate String status;\n\n@OneToOne(mappedBy = &quot;appointment&quot;)\nprivate MedicalRecord medicalRecord;\n\n}\n</code></pre>\n<p><code>Repo:</code></p>\n<pre><code>@Repository\npublic interface AppointmentRepository extends JpaRepository&lt;Appointment, Long&gt; {\n</code></pre>\n<p>}</p>\n<p><code>ServiceImpl:</code></p>\n<pre><code>@Service\npublic class AppointmentServiceImpl implements AppointmentService {\n\n@Autowired\nAppointmentRepository appointmentRepository;\n\n@Override\npublic List&lt;Appointment&gt; getAllAppointments() {\n    return appointmentRepository.findAll();\n}\n\n@Override\npublic Appointment getAppointmentById(Long id) {\n    return appointmentRepository.findById(id)\n            .orElseThrow(() -&gt; new NotFoundException(&quot;Appointment with ID &quot; + id + &quot; not found.&quot;));\n}\n\n@Override\npublic void saveAppointment(Appointment appointment) {\n    appointmentRepository.save(appointment);\n}\n\n@Override\npublic void updateAppointment(Long id, Appointment appointment) {\n    Appointment existingAppointment = getAppointmentById(id);\n    existingAppointment.setPatient(appointment.getPatient());\n    existingAppointment.setDoctor(appointment.getDoctor());\n    existingAppointment.setReasonForVisit(appointment.getReasonForVisit());\n    existingAppointment.setNotes(appointment.getNotes());\n    existingAppointment.setStatus(appointment.getStatus());\n    existingAppointment.setMedicalRecord(appointment.getMedicalRecord());\n    existingAppointment.setDateTime(appointment.getDateTime());\n    appointmentRepository.save(existingAppointment);\n}\n\n@Override\npublic void deleteAppointment(Long id) {\n    appointmentRepository.deleteById(id);\n}\n}\n</code></pre>\n<p><code>StackTrace:</code></p>\n<pre><code>    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'appointmentServiceImpl': Unsatisfied dependency expressed through field 'appointmentRepository': Error creating bean with name 'appointmentRepository' defined in com.demo.hospitalmanagementtool.repository.AppointmentRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.demo.hospitalmanagementtool.entities.Appointment\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\n    at com.demo.hospitalmanagementtool.HospitalManagementTool.main(HospitalManagementTool.java:14) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.6.jar:3.0.6]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'appointmentRepository' defined in com.demo.hospitalmanagementtool.repository.AppointmentRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.demo.hospitalmanagementtool.entities.Appointment\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710) ~[spring-beans-6.0.8.jar:6.0.8]\n    ... 25 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.demo.hospitalmanagementtool.entities.Appointment\n    at org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:181) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:496) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:99) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:77) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:245) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.8.jar:6.0.8]\n    ... 35 common frames omitted\n</code></pre>\n<p><strong>What I tried?</strong></p>\n<p>I tried first with this in my main class:</p>\n<p><code>@ComponentScan(basePackages = {&quot;com/demo/hospitalmanagementtool/service/impl&quot;})</code></p>\n<p><code>@ComponentScan(basePackages = {&quot;com/demo/hospitalmanagementtool/service&quot;})</code></p>\n<p><code>@ComponentScan(basePackages = {&quot;com.demo.hospitalmanagementtool.service.impl&quot;})</code></p>\n<p><code>@ComponentScan(basePackages = {&quot;com.demo.hospitalmanagementtool.service&quot;})</code></p>\n<p>Same errors.</p>\n<p>Then I tried this:</p>\n<p><code>@EntityScan(basePackages = &quot;com.demo.hospitalmanagementtool.entities&quot;)</code></p>\n<p>Same errors.</p>\n"},{"tags":["java","android","bitmap","crop"],"answers":[{"comments":[{"owner":{"account_id":26890580,"reputation":82,"user_id":20469419,"display_name":"SILA"},"score":0,"creation_date":1683665409,"post_id":76213145,"comment_id":134400991,"body_markdown":"Thank you very much for answer @Rajan Kali. I used with &lt;=. After coming to the if block it didn&#39;t go into it. Program returned to this line : rgbFrameBitmap.setPixels(getRgbBytes(), 0, previewWidth, 0, 0, previewWidth, previewHeight);","body":"Thank you very much for answer @Rajan Kali. I used with &lt;=. After coming to the if block it didn&#39;t go into it. Program returned to this line : rgbFrameBitmap.setPixels(getRgbBytes(), 0, previewWidth, 0, 0, previewWidth, previewHeight);"},{"owner":{"account_id":26890580,"reputation":82,"user_id":20469419,"display_name":"SILA"},"score":0,"creation_date":1683665915,"post_id":76213145,"comment_id":134401067,"body_markdown":"Cropping for the yolo first. Then I try to crop again for the other model(200x200) OrijinalImage-&gt;croppedBitmap(416x416) -&gt;myCroppedBitmap(200x200)","body":"Cropping for the yolo first. Then I try to crop again for the other model(200x200) OrijinalImage-&gt;croppedBitmap(416x416) -&gt;myCroppedBitmap(200x200)"}],"tags":[],"owner":{"account_id":3807206,"reputation":12673,"user_id":3159267,"display_name":"Rajan Kali"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683663739,"creation_date":1683663739,"answer_id":76213145,"question_id":76212985,"body_markdown":"I would assume if it is validating size against `croppedBitmap`, then after first pass the bitmap gets cropped the mentioned dimensions and the condition `&lt;` always fails instead you should use `&lt;=`\r\n```\r\nif ((int)location.left &gt; 0 &amp;&amp; (int)location.top &gt; 0 \r\n      &amp;&amp; ((int)location.left + (int)location.width()) &lt;= croppedBitmap.getWidth()\r\n      &amp;&amp; ((int)location.top + (int)location.height()) &lt;= croppedBitmap.getHeight()  ) {\r\n   // logic goes here\r\n   // After first the height is set to (int)location.top + (int)location.height(), \r\n   // so by validating with &lt;= it should work\r\n}\r\n``` ","title":"Filling The Bitmap With An Image","body":"<p>I would assume if it is validating size against <code>croppedBitmap</code>, then after first pass the bitmap gets cropped the mentioned dimensions and the condition <code>&lt;</code> always fails instead you should use <code>&lt;=</code></p>\n<pre><code>if ((int)location.left &gt; 0 &amp;&amp; (int)location.top &gt; 0 \n      &amp;&amp; ((int)location.left + (int)location.width()) &lt;= croppedBitmap.getWidth()\n      &amp;&amp; ((int)location.top + (int)location.height()) &lt;= croppedBitmap.getHeight()  ) {\n   // logic goes here\n   // After first the height is set to (int)location.top + (int)location.height(), \n   // so by validating with &lt;= it should work\n}\n</code></pre>\n"}],"owner":{"account_id":26890580,"reputation":82,"user_id":20469419,"display_name":"SILA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683663739,"creation_date":1683662434,"question_id":76212985,"body_markdown":"I want to crop the detected object with yolo in android. \r\n\r\n    if ((int)location.left &gt; 0 &amp;&amp; (int)location.top &gt; 0 &amp;&amp; ((int)location.left + (int)location.width()) &lt; croppedBitmap.getWidth()\r\n                                        &amp;&amp; ((int)location.top + (int)location.height()) &lt; croppedBitmap.getHeight()  ) {\r\n     \r\n                                    mycroppedBitmap = Bitmap.createBitmap(croppedBitmap,\r\n                                            (int) location.left,\r\n                                            (int) location.top,\r\n                                            (int) location.width(),\r\n                                            (int) location.height()\r\n                          );\r\n    \r\n                                    \r\n             mycroppedBitmap = Bitmap.createScaledBitmap(mycroppedBitmap, TF_OD_API_INPUT_SIZEE, TF_OD_API_INPUT_SIZEE, true);\r\n\r\nAt first it does not go inside the if block, the image in the bitmap is transparent,\r\n   \r\nthis line of code works and recaptures image.\r\n\r\n     rgbFrameBitmap.setPixels(getRgbBytes(), 0, previewWidth, 0, 0, previewWidth, previewHeight);\r\n\r\n the second time it doesn&#39;t enter again, the bitmap looks black.\r\n\r\n  on the third it fills up with the bitmap image. This is good. But it doesn&#39;t go inside the if block.\r\ncaptures the picture again\r\n\r\n  \r\n\r\n      rgbFrameBitmap.setPixels(getRgbBytes(), 0, previewWidth, 0, 0, previewWidth, previewHeight);\r\n\r\n \r\nWhat should I do so that when the bitmap is filled with the image it goes inside the if block? for crop. I would love any help or advice :) , thanks.\r\n\r\n\r\n[![ex][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kIzr1.jpg","title":"Filling The Bitmap With An Image","body":"<p>I want to crop the detected object with yolo in android.</p>\n<pre><code>if ((int)location.left &gt; 0 &amp;&amp; (int)location.top &gt; 0 &amp;&amp; ((int)location.left + (int)location.width()) &lt; croppedBitmap.getWidth()\n                                    &amp;&amp; ((int)location.top + (int)location.height()) &lt; croppedBitmap.getHeight()  ) {\n \n                                mycroppedBitmap = Bitmap.createBitmap(croppedBitmap,\n                                        (int) location.left,\n                                        (int) location.top,\n                                        (int) location.width(),\n                                        (int) location.height()\n                      );\n\n                                \n         mycroppedBitmap = Bitmap.createScaledBitmap(mycroppedBitmap, TF_OD_API_INPUT_SIZEE, TF_OD_API_INPUT_SIZEE, true);\n</code></pre>\n<p>At first it does not go inside the if block, the image in the bitmap is transparent,</p>\n<p>this line of code works and recaptures image.</p>\n<pre><code> rgbFrameBitmap.setPixels(getRgbBytes(), 0, previewWidth, 0, 0, previewWidth, previewHeight);\n</code></pre>\n<p>the second time it doesn't enter again, the bitmap looks black.</p>\n<p>on the third it fills up with the bitmap image. This is good. But it doesn't go inside the if block.\ncaptures the picture again</p>\n<pre><code>  rgbFrameBitmap.setPixels(getRgbBytes(), 0, previewWidth, 0, 0, previewWidth, previewHeight);\n</code></pre>\n<p>What should I do so that when the bitmap is filled with the image it goes inside the if block? for crop. I would love any help or advice :) , thanks.</p>\n<p><a href=\"https://i.stack.imgur.com/kIzr1.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kIzr1.jpg\" alt=\"ex\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1683663326,"post_id":76213007,"comment_id":134400605,"body_markdown":"It sounds like you want to write a calculator.  There are a zillion and one example of this on the internet.  You&#39;ll never be able to assign the `String` to an `int` though, but you could do something like `int product = evaluate(input);` after you implement the `evaluate(String input)` method.","body":"It sounds like you want to write a calculator.  There are a zillion and one example of this on the internet.  You&#39;ll never be able to assign the <code>String</code> to an <code>int</code> though, but you could do something like <code>int product = evaluate(input);</code> after you implement the <code>evaluate(String input)</code> method."},{"owner":{"account_id":13636672,"reputation":479,"user_id":9837531,"display_name":"Nordii"},"score":0,"creation_date":1683663390,"post_id":76213007,"comment_id":134400620,"body_markdown":"Symbols like `+`, `*`, `(` and `)` are optimized and removed at compile time. By the time your program starts, those symbols have no meaning apart from being characters. You need to write your own function(s) to parse the string and perform operations based on the characters","body":"Symbols like <code>+</code>, <code>*</code>, <code>(</code> and <code>)</code> are optimized and removed at compile time. By the time your program starts, those symbols have no meaning apart from being characters. You need to write your own function(s) to parse the string and perform operations based on the characters"},{"owner":{"account_id":13636672,"reputation":479,"user_id":9837531,"display_name":"Nordii"},"score":1,"creation_date":1683663504,"post_id":76213007,"comment_id":134400652,"body_markdown":"If you are trying to write elegant/scalable functions without recursion, I would suggest researching `infix` vs `postfix` notation.","body":"If you are trying to write elegant/scalable functions without recursion, I would suggest researching <code>infix</code> vs <code>postfix</code> notation."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1683663258,"creation_date":1683663258,"answer_id":76213091,"question_id":76213007,"body_markdown":"You will need some kind of parser. Either build it yourself, or increase efficience and build it using https://www.antlr.org/. They even have an example like yours on their homepage.\r\n\r\nIf both options are not your taste, you might want to embedd some scriping or expression library. Examples are \r\n\r\n- https://commons.apache.org/proper/commons-jexl/\r\n- https://github.com/beanshell/beanshell/","title":"How to make a string input that is mathematically correct to a integer output?","body":"<p>You will need some kind of parser. Either build it yourself, or increase efficience and build it using <a href=\"https://www.antlr.org/\" rel=\"nofollow noreferrer\">https://www.antlr.org/</a>. They even have an example like yours on their homepage.</p>\n<p>If both options are not your taste, you might want to embedd some scriping or expression library. Examples are</p>\n<ul>\n<li><a href=\"https://commons.apache.org/proper/commons-jexl/\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-jexl/</a></li>\n<li><a href=\"https://github.com/beanshell/beanshell/\" rel=\"nofollow noreferrer\">https://github.com/beanshell/beanshell/</a></li>\n</ul>\n"}],"owner":{"account_id":22819515,"reputation":17,"user_id":16969705,"display_name":"Georg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683663984,"accepted_answer_id":76213091,"answer_count":1,"score":0,"last_activity_date":1683663258,"creation_date":1683662637,"question_id":76213007,"body_markdown":"(JAVA)\r\n\r\nHello so I want to write a program where the input is (2+3)*(2+1) for example\r\nI want my program to return 15.\r\n\r\nIs there a way of making the input (2+3)*(2+1) into a integer?\r\n\r\nI know that you can write\r\n\r\n`int product = (2+3)*(2+1);`\r\n\r\nhowever, can I write this something like:\r\n\r\n`String input = (2+3)*(2+1);`\r\n`int product = input;`\r\n\r\nObviously this does not work. But can it be done in a beautiful way without using recursive functions that call eachother?","title":"How to make a string input that is mathematically correct to a integer output?","body":"<p>(JAVA)</p>\n<p>Hello so I want to write a program where the input is (2+3)*(2+1) for example\nI want my program to return 15.</p>\n<p>Is there a way of making the input (2+3)*(2+1) into a integer?</p>\n<p>I know that you can write</p>\n<p><code>int product = (2+3)*(2+1);</code></p>\n<p>however, can I write this something like:</p>\n<p><code>String input = (2+3)*(2+1);</code>\n<code>int product = input;</code></p>\n<p>Obviously this does not work. But can it be done in a beautiful way without using recursive functions that call eachother?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1549621066,"post_id":54590116,"comment_id":95976713,"body_markdown":"did you initialize the ReciclerView?","body":"did you initialize the ReciclerView?"},{"owner":{"account_id":5563781,"reputation":5,"user_id":4411813,"display_name":"Hitesh Savaliya"},"score":0,"creation_date":1549621326,"post_id":54590116,"comment_id":95976857,"body_markdown":"actually DataBindingUtil return null on inflate or setContentView any of the method","body":"actually DataBindingUtil return null on inflate or setContentView any of the method"},{"owner":{"account_id":5563781,"reputation":5,"user_id":4411813,"display_name":"Hitesh Savaliya"},"score":0,"creation_date":1549621369,"post_id":54590116,"comment_id":95976886,"body_markdown":"initRecyclerView(); it will initialize recyclerview","body":"initRecyclerView(); it will initialize recyclerview"},{"owner":{"account_id":6805748,"reputation":139,"user_id":9327263,"display_name":"GuruCharan"},"score":0,"creation_date":1549621479,"post_id":54590116,"comment_id":95976939,"body_markdown":"Your question is not enough , try posting Logcat or initRecyclerView() code , to get relevant answers.\nHave u initialized recyclerview from parent view ?","body":"Your question is not enough , try posting Logcat or initRecyclerView() code , to get relevant answers. Have u initialized recyclerview from parent view ?"},{"owner":{"account_id":5563781,"reputation":5,"user_id":4411813,"display_name":"Hitesh Savaliya"},"score":0,"creation_date":1549621619,"post_id":54590116,"comment_id":95977018,"body_markdown":"private void initRecyclerView() {\n        this.binding.recyclerView.setLayoutManager(new GridLayoutManager(getContext(), 2));\n        this.adapter = new FavouriteFragmentAdapter(getContext(), this, this.mList);\n        this.binding.recyclerView.setAdapter(this.adapter);\n    }","body":"private void initRecyclerView() {         this.binding.recyclerView.setLayoutManager(new GridLayoutManager(getContext(), 2));         this.adapter = new FavouriteFragmentAdapter(getContext(), this, this.mList);         this.binding.recyclerView.setAdapter(this.adapter);     }"},{"owner":{"account_id":2142521,"reputation":903,"user_id":1900854,"accept_rate":83,"display_name":"bio007"},"score":0,"creation_date":1549633159,"post_id":54590116,"comment_id":95983317,"body_markdown":"can you edit your question and add your layout, initObjects and initRecyclerView methods?","body":"can you edit your question and add your layout, initObjects and initRecyclerView methods?"}],"owner":{"account_id":5563781,"reputation":5,"user_id":4411813,"display_name":"Hitesh Savaliya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":508,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683663079,"creation_date":1549620730,"question_id":54590116,"body_markdown":" DataBindingUtil.inflate return null always, and error was \r\n\r\n&gt; Attempt to read from field &#39;android.support.v7.widget.RecyclerView com.hkapps.wallpaperbase.databinding.FragmentFavouriteBinding.recyclerView&#39; on a null object reference\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater layoutInflater, ViewGroup viewGroup, Bundle bundle) {\r\n        super.onCreateView(layoutInflater,viewGroup, bundle);\r\n        this.binding = DataBindingUtil.inflate(layoutInflater,\r\n                R.layout.fragment_favourite,\r\n                viewGroup,\r\n                true);\r\n        initObjects();\r\n        initRecyclerView();\r\n        return this.binding.getRoot();\r\n    }\r\n\r\n![you can see picture of debug mode in android studio][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8jfjN.png","title":"Attempt to read from field &#39;android.support.v7.widget.RecyclerView&#39; on a null object reference","body":"<p>DataBindingUtil.inflate return null always, and error was</p>\n<blockquote>\n<p>Attempt to read from field 'android.support.v7.widget.RecyclerView com.hkapps.wallpaperbase.databinding.FragmentFavouriteBinding.recyclerView' on a null object reference</p>\n</blockquote>\n<pre><code>@Override\npublic View onCreateView(LayoutInflater layoutInflater, ViewGroup viewGroup, Bundle bundle) {\n    super.onCreateView(layoutInflater,viewGroup, bundle);\n    this.binding = DataBindingUtil.inflate(layoutInflater,\n            R.layout.fragment_favourite,\n            viewGroup,\n            true);\n    initObjects();\n    initRecyclerView();\n    return this.binding.getRoot();\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/8jfjN.png\" alt=\"you can see picture of debug mode in android studio\" /></p>\n"},{"tags":["java","android","parsing","web-scraping","jsoup"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683662405,"post_id":76212949,"comment_id":134400435,"body_markdown":"What is `ele`? Please provide a minimal reproducible example.","body":"What is <code>ele</code>? Please provide a minimal reproducible example."},{"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"score":0,"creation_date":1683662726,"post_id":76212949,"comment_id":134400497,"body_markdown":"Maybe I found a solution I don&#39;t know if it&#39;s the best: `ele.select(&quot;.milestone-primaryMessage&quot;).get(0).ownText();`","body":"Maybe I found a solution I don&#39;t know if it&#39;s the best: <code>ele.select(&quot;.milestone-primaryMessage&quot;).get(0).ownText();</code>"},{"owner":{"account_id":4181404,"reputation":6036,"user_id":3426328,"accept_rate":83,"display_name":"TDG"},"score":1,"creation_date":1683701305,"post_id":76212949,"comment_id":134404939,"body_markdown":"It all depends on the html that you are trying to parse. If you have a single nowrap class then you can use `ele.select(&quot;.nowrap&quot;)`, but if you have multiple such classes in your document, you have to be more specific, which in your case is `ele.select(&quot;.milestone-primaryMessage &gt; .nowrap&quot;)`. Anyway, I don&#39;t know which solution is &quot;best&quot;, as sometimes there are multiple ways to get the same result.","body":"It all depends on the html that you are trying to parse. If you have a single nowrap class then you can use <code>ele.select(&quot;.nowrap&quot;)</code>, but if you have multiple such classes in your document, you have to be more specific, which in your case is <code>ele.select(&quot;.milestone-primaryMessage &gt; .nowrap&quot;)</code>. Anyway, I don&#39;t know which solution is &quot;best&quot;, as sometimes there are multiple ways to get the same result."}],"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683719490,"answer_count":0,"score":0,"last_activity_date":1683662066,"creation_date":1683662066,"question_id":76212949,"body_markdown":"I have the following html code, I just need to take the `message` text and assign it to the `message` variable in java.\r\n\r\nBut I&#39;m not succeeding, in this case it also takes the text of the child, returning the text &quot;Message data&quot;.\r\n\r\nCan you give me a hand?\r\n\r\nhtml:\r\n\r\n```html\r\n&lt;span class=&quot;milestone-primaryMessage beta&quot;&gt;\r\nMessage &lt;span class=&quot;nowrap&quot;&gt;Data&lt;/span&gt;\r\n&lt;/span&gt;\r\n```\r\n\r\nJava:\r\n```java\r\nString message = ele.select(&quot;.milestone-primaryMessage&quot;).text();\r\nString data = ele.select(&quot;.milestone-primaryMessage &gt; .nowrap&quot;).text();\r\n```\r\n\r\n\r\n\r\nIn JavaScript cheeriojs I do a similar thing, in js it works fine.\r\n```js\r\nconst message = $($(el).find(&quot;.milestone-primaryMessage&quot;).contents().get(0)).text().trim(),\r\nconst data = $(el).find(&quot;.milestone-primaryMessage &gt; .nowrap&quot;).text().trim()\r\n```","title":"Android java jsoup take text from the father but not from the children","body":"<p>I have the following html code, I just need to take the <code>message</code> text and assign it to the <code>message</code> variable in java.</p>\n<p>But I'm not succeeding, in this case it also takes the text of the child, returning the text &quot;Message data&quot;.</p>\n<p>Can you give me a hand?</p>\n<p>html:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;span class=&quot;milestone-primaryMessage beta&quot;&gt;\nMessage &lt;span class=&quot;nowrap&quot;&gt;Data&lt;/span&gt;\n&lt;/span&gt;\n</code></pre>\n<p>Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String message = ele.select(&quot;.milestone-primaryMessage&quot;).text();\nString data = ele.select(&quot;.milestone-primaryMessage &gt; .nowrap&quot;).text();\n</code></pre>\n<p>In JavaScript cheeriojs I do a similar thing, in js it works fine.</p>\n<pre class=\"lang-js prettyprint-override\"><code>const message = $($(el).find(&quot;.milestone-primaryMessage&quot;).contents().get(0)).text().trim(),\nconst data = $(el).find(&quot;.milestone-primaryMessage &gt; .nowrap&quot;).text().trim()\n</code></pre>\n"},{"tags":["java","spring-security","error-handling","migration"],"owner":{"account_id":28030946,"reputation":41,"user_id":21410131,"display_name":"PleaseHlep123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683720872,"answer_count":0,"score":0,"last_activity_date":1683661567,"creation_date":1683623507,"question_id":76207631,"body_markdown":"I am migrating an application to Spring Security 6 and I have an odd problem. Our app authenticates users externally via a cookie key (it is an internal app and that is how our security system functions) and we have two security configurations, API and Web. \r\n\r\nIn previous versions of Spring Security when an attempt was made to access a secured API resource, the service would enter an `ApiAuthorizationErrorHandler` which would return a 401 unauthorized if credentials were not found or 403 forbidden if some other exception occurred. \r\n\r\nWeb configuration has a different error handler which returns a redirect to the company log-in web. Once I migrated to Spring Security 6 at first I had issues with everything throwing 403s with `Access Denied`. I&#39;ve managed to mitigate that issue by adding \r\n\r\n&lt;!-- language: java --&gt; \r\n\r\n    .dispatcherTypeMatchers(DispatcherType.ASYNC, DispatcherType.FORWARD, DispatcherType.ERROR, DispatcherType.ASYNC, DispatcherType.INCLUDE).permitAll()\r\n\r\nbut now the following seems to happen:\r\n\r\n1. A request is made for a resource by an unauthenticated user (user without authentication cookie)\r\n2. Request goes through all the filters and ends up in the error handler\r\n3. Error handler calls `response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;)`\r\n4. Instead of returning the 401 response, a redirect or something is made to `/error`\r\n5. `/error` enters the filter chain, this time since it&#39;s not prefixed by `/api` it enters the web filter chain\r\n6. Web error handler is invoked and a 302 redirect is returned with the company log-in web as the destination.\r\n\r\nSteps 4, 5, and 6 did not happen in old versions of spring security with the identical setup.\r\n\r\nThis is a sample of what API security configuration looks like:\r\n\r\n\r\n```java\r\n@Bean\r\n@Order(1)\r\npublic SecurityFilterChain authFilterChain(HttpSecurity http) throws Exception {\r\n    http\r\n        .securityMatcher(Mappings.ROOT_CONTEXT_PATH + &quot;/api/auth/roles&quot;)\r\n        .authorizeHttpRequests()\r\n            .dispatcherTypeMatchers(DispatcherType.ASYNC, DispatcherType.FORWARD, DispatcherType.ERROR, DispatcherType.ASYNC, DispatcherType.INCLUDE).permitAll()\r\n            .anyRequest().authenticated();\r\n\r\n    CsrfTokenRequestAttributeHandler requestHandler = new CsrfTokenRequestAttributeHandler();\r\n    requestHandler.setCsrfRequestAttributeName(null);\r\n\r\n    http\r\n        .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and()\r\n        .csrf(csrf -&gt; csrf\r\n            .csrfTokenRepository(getCsrfTokenRepository())\r\n            .csrfTokenRequestHandler(requestHandler)\r\n        );\r\n\r\n    AuthenticationManager authenticationManager = http.getSharedObject(AuthenticationManager.class);\r\n\r\n    var preAuthenticatedAuthenticationFilter = new PreAuthenticatedCustomAuthenticationFilter();\r\n    preAuthenticatedAuthenticationFilter.setCheckForPrincipalChanges(true);\r\n    preAuthenticatedAuthenticationFilter.setAuthenticationManager(authenticationManager);\r\n\r\n    http\r\n        .addFilterAfter(preAuthenticatedAuthenticationFilter, AbstractPreAuthenticatedProcessingFilter.class)\r\n\r\n    http\r\n        .authenticationProvider(Objects.requireNonNull(externalAuthProvider));\r\n        \r\n    http\r\n        .anonymous().disable()\r\n        .exceptionHandling()\r\n            .authenticationEntryPoint(new ApiAuthorizationErrorHandler())\r\n            .and();\r\n\r\n    return http.build();\r\n}\r\n```\r\n\r\n```java\r\npublic class ApiAuthorizationErrorHandler implements AuthenticationEntryPoint {\r\n\r\n    @Override\r\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException, ServletException {\r\n        if (authException instanceof AuthenticationCredentialsNotFoundException) {\r\n            response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;);\r\n        } else {\r\n            response.sendError(HttpServletResponse.SC_FORBIDDEN, &quot;Forbidden&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nWhat makes the request be forwarded to `/error` and how can I disable it and get the old behavior back?\r\n","title":"Spring Security 6 redirects to /error instead of returning 401 status","body":"<p>I am migrating an application to Spring Security 6 and I have an odd problem. Our app authenticates users externally via a cookie key (it is an internal app and that is how our security system functions) and we have two security configurations, API and Web.</p>\n<p>In previous versions of Spring Security when an attempt was made to access a secured API resource, the service would enter an <code>ApiAuthorizationErrorHandler</code> which would return a 401 unauthorized if credentials were not found or 403 forbidden if some other exception occurred.</p>\n<p>Web configuration has a different error handler which returns a redirect to the company log-in web. Once I migrated to Spring Security 6 at first I had issues with everything throwing 403s with <code>Access Denied</code>. I've managed to mitigate that issue by adding</p>\n<pre class=\"lang-java prettyprint-override\"><code>.dispatcherTypeMatchers(DispatcherType.ASYNC, DispatcherType.FORWARD, DispatcherType.ERROR, DispatcherType.ASYNC, DispatcherType.INCLUDE).permitAll()\n</code></pre>\n<p>but now the following seems to happen:</p>\n<ol>\n<li>A request is made for a resource by an unauthenticated user (user without authentication cookie)</li>\n<li>Request goes through all the filters and ends up in the error handler</li>\n<li>Error handler calls <code>response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;)</code></li>\n<li>Instead of returning the 401 response, a redirect or something is made to <code>/error</code></li>\n<li><code>/error</code> enters the filter chain, this time since it's not prefixed by <code>/api</code> it enters the web filter chain</li>\n<li>Web error handler is invoked and a 302 redirect is returned with the company log-in web as the destination.</li>\n</ol>\n<p>Steps 4, 5, and 6 did not happen in old versions of spring security with the identical setup.</p>\n<p>This is a sample of what API security configuration looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@Order(1)\npublic SecurityFilterChain authFilterChain(HttpSecurity http) throws Exception {\n    http\n        .securityMatcher(Mappings.ROOT_CONTEXT_PATH + &quot;/api/auth/roles&quot;)\n        .authorizeHttpRequests()\n            .dispatcherTypeMatchers(DispatcherType.ASYNC, DispatcherType.FORWARD, DispatcherType.ERROR, DispatcherType.ASYNC, DispatcherType.INCLUDE).permitAll()\n            .anyRequest().authenticated();\n\n    CsrfTokenRequestAttributeHandler requestHandler = new CsrfTokenRequestAttributeHandler();\n    requestHandler.setCsrfRequestAttributeName(null);\n\n    http\n        .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n        .csrf(csrf -&gt; csrf\n            .csrfTokenRepository(getCsrfTokenRepository())\n            .csrfTokenRequestHandler(requestHandler)\n        );\n\n    AuthenticationManager authenticationManager = http.getSharedObject(AuthenticationManager.class);\n\n    var preAuthenticatedAuthenticationFilter = new PreAuthenticatedCustomAuthenticationFilter();\n    preAuthenticatedAuthenticationFilter.setCheckForPrincipalChanges(true);\n    preAuthenticatedAuthenticationFilter.setAuthenticationManager(authenticationManager);\n\n    http\n        .addFilterAfter(preAuthenticatedAuthenticationFilter, AbstractPreAuthenticatedProcessingFilter.class)\n\n    http\n        .authenticationProvider(Objects.requireNonNull(externalAuthProvider));\n        \n    http\n        .anonymous().disable()\n        .exceptionHandling()\n            .authenticationEntryPoint(new ApiAuthorizationErrorHandler())\n            .and();\n\n    return http.build();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class ApiAuthorizationErrorHandler implements AuthenticationEntryPoint {\n\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException, ServletException {\n        if (authException instanceof AuthenticationCredentialsNotFoundException) {\n            response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;);\n        } else {\n            response.sendError(HttpServletResponse.SC_FORBIDDEN, &quot;Forbidden&quot;);\n        }\n    }\n</code></pre>\n<p>What makes the request be forwarded to <code>/error</code> and how can I disable it and get the old behavior back?</p>\n"},{"tags":["java","selenium","selenium-webdriver","awtrobot"],"comments":[{"owner":{"account_id":1682656,"reputation":7274,"user_id":1546574,"display_name":"eugene.polschikov"},"score":1,"creation_date":1426590383,"post_id":5610256,"comment_id":46425435,"body_markdown":"take a look  here: http://stackoverflow.com/questions/9431978/one-solution-for-file-upload-using-selenium-webdriver-with-java  , that worked for me fine!","body":"take a look  here: <a href=\"http://stackoverflow.com/questions/9431978/one-solution-for-file-upload-using-selenium-webdriver-with-java\" title=\"one solution for file upload using selenium webdriver with java\">stackoverflow.com/questions/9431978/&hellip;</a>  , that worked for me fine!"}],"answers":[{"comments":[{"owner":{"account_id":1682656,"reputation":7274,"user_id":1546574,"display_name":"eugene.polschikov"},"score":1,"creation_date":1426590466,"post_id":6130887,"comment_id":46425473,"body_markdown":"please update you post with details what  &#39;browseButton&#39; stands for. From the first sight it was not so obvious for me. Thanks in advance. upvote from me.","body":"please update you post with details what  &#39;browseButton&#39; stands for. From the first sight it was not so obvious for me. Thanks in advance. upvote from me."}],"tags":[],"owner":{"account_id":116952,"reputation":21661,"user_id":306488,"accept_rate":78,"display_name":"lisak"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1346669554,"creation_date":1306357249,"answer_id":6130887,"question_id":5610256,"body_markdown":"This should work with Firefox, Chrome and IE drivers.\r\n\r\n    FirefoxDriver driver = new FirefoxDriver();\r\n    \r\n    driver.get(&quot;http://localhost:8080/page&quot;);\r\n    \r\n    File file = null;\r\n    \r\n    try {\r\n    \tfile = new File(YourClass.class.getClassLoader().getResource(&quot;file.txt&quot;).toURI());\r\n    } catch (URISyntaxException e) {\r\n    \te.printStackTrace();\r\n    }\r\n    \r\n    Assert.assertTrue(file.exists()); \r\n    \r\n    WebElement browseButton = driver.findElement(By.id(&quot;myfile&quot;));\r\n    browseButton.sendKeys(file.getAbsolutePath());","title":"File Upload using Selenium WebDriver and Java Robot Class","body":"<p>This should work with Firefox, Chrome and IE drivers.</p>\n\n<pre><code>FirefoxDriver driver = new FirefoxDriver();\n\ndriver.get(\"http://localhost:8080/page\");\n\nFile file = null;\n\ntry {\n    file = new File(YourClass.class.getClassLoader().getResource(\"file.txt\").toURI());\n} catch (URISyntaxException e) {\n    e.printStackTrace();\n}\n\nAssert.assertTrue(file.exists()); \n\nWebElement browseButton = driver.findElement(By.id(\"myfile\"));\nbrowseButton.sendKeys(file.getAbsolutePath());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12242688,"reputation":2142,"user_id":10854998,"display_name":"Gryu"},"score":0,"creation_date":1566347696,"post_id":7671115,"comment_id":101625061,"body_markdown":"I think, your answer seems incomplete, that means not properly described. At least I don&#39;t understand how to use it in my case.","body":"I think, your answer seems incomplete, that means not properly described. At least I don&#39;t understand how to use it in my case."}],"tags":[],"owner":{"account_id":100473,"reputation":3456,"user_id":270835,"accept_rate":80,"display_name":"Tarun"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1566387584,"creation_date":1317884422,"answer_id":7671115,"question_id":5610256,"body_markdown":"or may use webdriver backed selenium -\r\n\r\n    Selenium selenium = new WebDriverBackedSelenium(driver, baseUrl);\r\n\r\nand do the usual type on upload element -\r\n\r\n    selenium.sendKeys(&quot;file path&quot;)","title":"File Upload using Selenium WebDriver and Java Robot Class","body":"<p>or may use webdriver backed selenium -</p>\n\n<pre><code>Selenium selenium = new WebDriverBackedSelenium(driver, baseUrl);\n</code></pre>\n\n<p>and do the usual type on upload element -</p>\n\n<pre><code>selenium.sendKeys(\"file path\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":447279,"reputation":253,"user_id":840816,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1330091294,"creation_date":1330091294,"answer_id":9431802,"question_id":5610256,"body_markdown":"I also use the selenium webdriver and java, and had the same problem.\r\nWhat i do is copying the path to the file in the clipboard and then paste it in the &quot;open&quot; window and click &quot;Enter&quot;. This is working because the focus is always in the &quot;open&quot; button.\r\n\r\nHere is the code:\r\n\r\nYou will need these classes and method:\r\n\r\n    import java.awt.Robot;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.Toolkit;\r\n    import java.awt.datatransfer.StringSelection;\r\n\r\n\r\n    public static void setClipboardData(String string) {\r\n       StringSelection stringSelection = new StringSelection(string);\r\n       Toolkit.getDefaultToolkit().getSystemClipboard().setContents(stringSelection, null);\r\n    }\r\n\r\nAnd that is what i do, just after opening the &quot;open&quot; window:\r\n\r\n    setClipboardData(&quot;C:\\\\path to file\\\\example.jpg&quot;);\r\n    //native key strokes for CTRL, V and ENTER keys\r\n    Robot robot = new Robot();\r\n    robot.keyPress(KeyEvent.VK_CONTROL);\r\n    robot.keyPress(KeyEvent.VK_V);\r\n    robot.keyRelease(KeyEvent.VK_V);\r\n    robot.keyRelease(KeyEvent.VK_CONTROL);\r\n    robot.keyPress(KeyEvent.VK_ENTER);\r\n    robot.keyRelease(KeyEvent.VK_ENTER);\r\n\r\nAnd that&#180;s it. It is working for me, i hope it works for some of you.","title":"File Upload using Selenium WebDriver and Java Robot Class","body":"<p>I also use the selenium webdriver and java, and had the same problem.\nWhat i do is copying the path to the file in the clipboard and then paste it in the \"open\" window and click \"Enter\". This is working because the focus is always in the \"open\" button.</p>\n\n<p>Here is the code:</p>\n\n<p>You will need these classes and method:</p>\n\n<pre><code>import java.awt.Robot;\nimport java.awt.event.KeyEvent;\nimport java.awt.Toolkit;\nimport java.awt.datatransfer.StringSelection;\n\n\npublic static void setClipboardData(String string) {\n   StringSelection stringSelection = new StringSelection(string);\n   Toolkit.getDefaultToolkit().getSystemClipboard().setContents(stringSelection, null);\n}\n</code></pre>\n\n<p>And that is what i do, just after opening the \"open\" window:</p>\n\n<pre><code>setClipboardData(\"C:\\\\path to file\\\\example.jpg\");\n//native key strokes for CTRL, V and ENTER keys\nRobot robot = new Robot();\nrobot.keyPress(KeyEvent.VK_CONTROL);\nrobot.keyPress(KeyEvent.VK_V);\nrobot.keyRelease(KeyEvent.VK_V);\nrobot.keyRelease(KeyEvent.VK_CONTROL);\nrobot.keyPress(KeyEvent.VK_ENTER);\nrobot.keyRelease(KeyEvent.VK_ENTER);\n</code></pre>\n\n<p>And that´s it. It is working for me, i hope it works for some of you.</p>\n"},{"tags":[],"owner":{"account_id":1624996,"reputation":1,"user_id":1500732,"display_name":"Madhumitha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349906333,"creation_date":1341384155,"answer_id":11323716,"question_id":5610256,"body_markdown":"The moment after the modal dialog opens the script will not work, it just hangs. So call `autoit.exe` first and then click to open the modal dialog.\r\n\r\nIt works fine like this,\r\n\r\n     Runtime.getRuntime().exec(&quot;Upload_IE.exe&quot;);\r\n     selenium.click(&quot;//input[@name=&#39;filecontent&#39;]&quot;);","title":"File Upload using Selenium WebDriver and Java Robot Class","body":"<p>The moment after the modal dialog opens the script will not work, it just hangs. So call <code>autoit.exe</code> first and then click to open the modal dialog.</p>\n\n<p>It works fine like this,</p>\n\n<pre><code> Runtime.getRuntime().exec(\"Upload_IE.exe\");\n selenium.click(\"//input[@name='filecontent']\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1299229,"reputation":157,"user_id":1249487,"accept_rate":43,"display_name":"vali83"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1343311198,"creation_date":1343292672,"answer_id":11665665,"question_id":5610256,"body_markdown":"I think I need to add something to **Alex**&#39;s answer.\r\n\r\nI tried to open the Open window by using this code:\r\n\r\n    driver.findElement(My element).click()\r\n\r\nThe window opened, but the driver became unresponsive and the actions in the code didn&#39;t even get to the Robot&#39;s actions.\r\nI do not know the reason why this happens, probably because the browser lost focus.\r\n\r\nThe way I made it work was by using the Actions selenium class:\r\n\r\n     Actions builder = new Actions(driver);\r\n\r\n     Action myAction = builder.click(driver.findElement(My Element))\r\n           .release()\r\n           .build();\r\n\r\n        myAction.perform();\r\n\r\n        Robot robot = new Robot();\r\n        robot.keyPress(KeyEvent.VK_CONTROL);\r\n        robot.keyPress(KeyEvent.VK_V);\r\n        robot.keyRelease(KeyEvent.VK_V);\r\n        robot.keyRelease(KeyEvent.VK_CONTROL);\r\n        robot.keyPress(KeyEvent.VK_ENTER);\r\n        robot.keyRelease(KeyEvent.VK_ENTER);\r\n","title":"File Upload using Selenium WebDriver and Java Robot Class","body":"<p>I think I need to add something to <strong>Alex</strong>'s answer.</p>\n\n<p>I tried to open the Open window by using this code:</p>\n\n<pre><code>driver.findElement(My element).click()\n</code></pre>\n\n<p>The window opened, but the driver became unresponsive and the actions in the code didn't even get to the Robot's actions.\nI do not know the reason why this happens, probably because the browser lost focus.</p>\n\n<p>The way I made it work was by using the Actions selenium class:</p>\n\n<pre><code> Actions builder = new Actions(driver);\n\n Action myAction = builder.click(driver.findElement(My Element))\n       .release()\n       .build();\n\n    myAction.perform();\n\n    Robot robot = new Robot();\n    robot.keyPress(KeyEvent.VK_CONTROL);\n    robot.keyPress(KeyEvent.VK_V);\n    robot.keyRelease(KeyEvent.VK_V);\n    robot.keyRelease(KeyEvent.VK_CONTROL);\n    robot.keyPress(KeyEvent.VK_ENTER);\n    robot.keyRelease(KeyEvent.VK_ENTER);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3412916,"reputation":6868,"user_id":2862485,"accept_rate":89,"display_name":"Amith"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1385886642,"creation_date":1385886642,"answer_id":20310262,"question_id":5610256,"body_markdown":"Click on the button and use the below code. _Notice the use of **&#39;\\\\\\&#39;** instead of **&#39;\\&#39;** in the path name,it is important for the code to work_..\r\n\r\n    WebElement file_input = driver.findElement(By.id(&quot;id_of_button&quot;));\r\n    file_input.sendKeys(&quot;C:\\\\Selenium\\\\ImageUpload_FF.exe&quot;);","title":"File Upload using Selenium WebDriver and Java Robot Class","body":"<p>Click on the button and use the below code. <em>Notice the use of <strong>'\\\\'</strong> instead of <strong>'\\'</strong> in the path name,it is important for the code to work</em>..</p>\n\n<pre><code>WebElement file_input = driver.findElement(By.id(\"id_of_button\"));\nfile_input.sendKeys(\"C:\\\\Selenium\\\\ImageUpload_FF.exe\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551188041,"creation_date":1506513065,"answer_id":46447150,"question_id":5610256,"body_markdown":"By using [**`RemoteWebElement`**](https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/remote/RemoteWebElement.html) class you can Upload the file using the following code.\r\n```lang-java\r\n// TEST URL: &quot;https://www.filehosting.org/&quot;\r\n// LOCATOR: &quot;//input[@name=&#39;upload_file&#39;][@type=&#39;file&#39;][1]&quot;\r\n\r\nLocalFileDetector detector = new LocalFileDetector();\r\nFile localFile = detector.getLocalFile( filePath );\r\nRemoteWebElement input = (RemoteWebElement) driver.findElement(By.xpath( locator ));\r\ninput.setFileDetector(detector);\r\ninput.sendKeys(localFile.getAbsolutePath());\r\ninput.click();\r\n```\r\n\r\n---\r\n\r\n---\r\n\r\n\r\n**Upload a file using Java `Selenium: sendKeys()` or [`Robot Class`](http://docs.oracle.com/javase/7/docs/api/java/awt/Robot.html).**\r\n\r\nThis method is to Set the specified file-path to the ClipBoard.\r\n\r\n 1. Copy data to ClipBoard as.\r\n   - WIN [ &lt;kbd&gt;Ctrl&lt;/kbd&gt; + C ]\r\n   - MAC [ &lt;kbd&gt;Command ⌘ &lt;/kbd&gt; + C ] - way to [`tell full Path of file`](https://superuser.com/questions/371513/how-to-tell-full-path-of-file-on-mac).\r\n\r\n-----\r\n\tpublic static void setClipboardData(String filePath) {\r\n\t\tStringSelection stringSelection = new StringSelection( filePath );\r\n\t\tToolkit.getDefaultToolkit().getSystemClipboard().setContents(stringSelection, null);\r\n\t}\r\n\r\n------\r\n\r\n   2. Locate the file on Finder Window and press `OK` to select the file.\r\n   - WIN [ &lt;kbd&gt;Ctrl&lt;/kbd&gt; + V ]\r\n   - MAC \r\n       - &quot;[**`Go To Folder`**](http://osxdaily.com/2011/08/31/go-to-folder-useful-mac-os-x-keyboard-shortcut/)&quot; - &lt;kbd&gt;Command ⌘ &lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + G.\r\n       - Paste -  &lt;kbd&gt;Command ⌘ &lt;/kbd&gt; + V and\r\n       - press `OK` to open it.\r\n\r\n-----\r\n\r\n\tenum Action {\r\n\t\tWIN, MAC, LINUX, SEND_KEYS, FILE_DETECTOR;\r\n\t}\r\n\tpublic static boolean FileUpload(String locator, String filePath, Action type) {\r\n\t\tWebDriverWait explicitWait = new WebDriverWait(driver, 10);\r\n\t\t\r\n\t\tWebElement element = explicitWait.until(ExpectedConditions.elementToBeClickable( By.xpath(locator) ));\r\n\t\tif( type == Action.SEND_KEYS ) {\r\n\t\t\telement.sendKeys( filePath );\r\n\t\t\treturn true;\r\n\t\t} else if ( type == ActionType.FILE_DETECTOR ) {\r\n\t\t\tLocalFileDetector detector = new LocalFileDetector();\r\n\t\t\tFile localFile = detector.getLocalFile( filePath );\r\n\t\t\tRemoteWebElement input = (RemoteWebElement) driver.findElement(By.xpath(locator));\r\n\t\t\tinput.setFileDetector(detector);\r\n\t\t\tinput.sendKeys(localFile.getAbsolutePath());\r\n\t\t\tinput.click();\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\ttry {\r\n\t\t\t\telement.click();\r\n\t\t\t\r\n\t\t\t\tThread.sleep( 1000 * 5 );\r\n\t\t\t\t\r\n\t\t\t\tsetClipboardData(filePath);\r\n\t\t\t\t\r\n\t\t\t\tRobot robot = new Robot();\r\n\t\t\t\tif( type == Action.MAC ) { // Apple&#39;s Unix-based operating system.\r\n\t\t\t\t\t\r\n\t\t\t\t\t// “Go To Folder” on Mac - Hit Command+Shift+G on a Finder window.\r\n\t\t\t\t\trobot.keyPress(KeyEvent.VK_META);\r\n\t\t\t\t\trobot.keyPress(KeyEvent.VK_SHIFT);\r\n\t\t\t\t\trobot.keyPress(KeyEvent.VK_G);\r\n\t\t\t\t\trobot.keyRelease(KeyEvent.VK_G);\r\n\t\t\t\t\trobot.keyRelease(KeyEvent.VK_SHIFT);\r\n\t\t\t\t\trobot.keyRelease(KeyEvent.VK_META);\r\n\t\r\n\t\t\t\t\t// Paste the clipBoard content - Command ⌘ + V.\r\n\t\t\t\t\trobot.keyPress(KeyEvent.VK_META);\r\n\t\t\t\t\trobot.keyPress(KeyEvent.VK_V);\r\n\t\t\t\t\trobot.keyRelease(KeyEvent.VK_V);\r\n\t\t\t\t\trobot.keyRelease(KeyEvent.VK_META);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Press Enter (GO - To bring up the file.)\r\n\t\t\t\t\trobot.keyPress(KeyEvent.VK_ENTER);\r\n\t\t\t\t\trobot.keyRelease(KeyEvent.VK_ENTER);\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t} else if ( type == Action.WIN || type == Action.LINUX ) { // Ctrl + V to paste the content.\r\n\t\t\t\t\t\r\n\t\t\t\t\trobot.keyPress(KeyEvent.VK_CONTROL);\r\n\t\t\t\t\trobot.keyPress(KeyEvent.VK_V);\r\n\t\t\t\t\trobot.keyRelease(KeyEvent.VK_V);\r\n\t\t\t\t\trobot.keyRelease(KeyEvent.VK_CONTROL);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\trobot.delay( 1000 * 4 );\r\n\t\t\t\r\n\t\t\t\trobot.keyPress(KeyEvent.VK_ENTER);\r\n\t\t\t\trobot.keyRelease(KeyEvent.VK_ENTER);\r\n\t\t\t\treturn true;\r\n\t\t\t} catch (AWTException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\nFile Upload Test **:-** You can find [`fileUploadBytes.html`](https://www.w3schools.com/jsref/prop_fileupload_files.asp) file by clicking on [`Try it Yourself`](https://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_fileupload_files).\r\n\r\n\tpublic static void uploadTest( RemoteWebDriver driver ) throws Exception {\r\n\t\t//driver.setFileDetector(new LocalFileDetector());\r\n\t\tString baseUrl = &quot;file:///D:/fileUploadBytes.html&quot;;\r\n\t\tdriver.get( baseUrl );\r\n\t\tdriver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n\t\t\r\n\t\tFileUpload(&quot;//input[1]&quot;, &quot;D:\\\\log.txt&quot;, Action.SEND_KEYS);\r\n\t\t\r\n\t\tThread.sleep( 1000 * 10 );\r\n\t\t\r\n\t\tFileUpload(&quot;//input[1]&quot;, &quot;D:\\\\DB_SQL.txt&quot;, Action.WIN);\r\n\t\t\r\n\t\tThread.sleep( 1000 * 10 );\r\n\t\t\r\n\t\tdriver.quit();\r\n\t}\r\n\r\n-----\r\n\r\n**Using Selenium: sendKeys()** When you want to transfer a file (Refer a local file) form your local computer to the Grid-Node server, you need to use **setFileDetector method**. By using this Selenium-Client will transfer the file through the JSON Wire Protocol.\r\nFor more information see [**`saucelabs fileUpload Example`**](https://saucelabs.com/resources/articles/best-practices-tips-selenium-file-upload)\r\n\r\n\tdriver.setFileDetector(new LocalFileDetector());\r\n","title":"File Upload using Selenium WebDriver and Java Robot Class","body":"<p>By using <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/remote/RemoteWebElement.html\" rel=\"nofollow noreferrer\"><strong><code>RemoteWebElement</code></strong></a> class you can Upload the file using the following code.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// TEST URL: \"https://www.filehosting.org/\"\n// LOCATOR: \"//input[@name='upload_file'][@type='file'][1]\"\n\nLocalFileDetector detector = new LocalFileDetector();\nFile localFile = detector.getLocalFile( filePath );\nRemoteWebElement input = (RemoteWebElement) driver.findElement(By.xpath( locator ));\ninput.setFileDetector(detector);\ninput.sendKeys(localFile.getAbsolutePath());\ninput.click();\n</code></pre>\n\n<hr>\n\n<hr>\n\n<p><strong>Upload a file using Java <code>Selenium: sendKeys()</code> or <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Robot.html\" rel=\"nofollow noreferrer\"><code>Robot Class</code></a>.</strong></p>\n\n<p>This method is to Set the specified file-path to the ClipBoard.</p>\n\n<ol>\n<li>Copy data to ClipBoard as.\n\n<ul>\n<li>WIN [ <kbd>Ctrl</kbd> + C ]</li>\n<li>MAC [ <kbd>Command ⌘ </kbd> + C ] - way to <a href=\"https://superuser.com/questions/371513/how-to-tell-full-path-of-file-on-mac\"><code>tell full Path of file</code></a>.</li>\n</ul></li>\n</ol>\n\n<hr>\n\n<pre><code>public static void setClipboardData(String filePath) {\n    StringSelection stringSelection = new StringSelection( filePath );\n    Toolkit.getDefaultToolkit().getSystemClipboard().setContents(stringSelection, null);\n}\n</code></pre>\n\n<hr>\n\n<ol start=\"2\">\n<li>Locate the file on Finder Window and press <code>OK</code> to select the file.\n\n<ul>\n<li>WIN [ <kbd>Ctrl</kbd> + V ]</li>\n<li>MAC \n\n<ul>\n<li>\"<a href=\"http://osxdaily.com/2011/08/31/go-to-folder-useful-mac-os-x-keyboard-shortcut/\" rel=\"nofollow noreferrer\"><strong><code>Go To Folder</code></strong></a>\" - <kbd>Command ⌘ </kbd> + <kbd>Shift</kbd> + G.</li>\n<li>Paste -  <kbd>Command ⌘ </kbd> + V and</li>\n<li>press <code>OK</code> to open it.</li>\n</ul></li>\n</ul></li>\n</ol>\n\n<hr>\n\n<pre><code>enum Action {\n    WIN, MAC, LINUX, SEND_KEYS, FILE_DETECTOR;\n}\npublic static boolean FileUpload(String locator, String filePath, Action type) {\n    WebDriverWait explicitWait = new WebDriverWait(driver, 10);\n\n    WebElement element = explicitWait.until(ExpectedConditions.elementToBeClickable( By.xpath(locator) ));\n    if( type == Action.SEND_KEYS ) {\n        element.sendKeys( filePath );\n        return true;\n    } else if ( type == ActionType.FILE_DETECTOR ) {\n        LocalFileDetector detector = new LocalFileDetector();\n        File localFile = detector.getLocalFile( filePath );\n        RemoteWebElement input = (RemoteWebElement) driver.findElement(By.xpath(locator));\n        input.setFileDetector(detector);\n        input.sendKeys(localFile.getAbsolutePath());\n        input.click();\n        return true;\n    } else {\n        try {\n            element.click();\n\n            Thread.sleep( 1000 * 5 );\n\n            setClipboardData(filePath);\n\n            Robot robot = new Robot();\n            if( type == Action.MAC ) { // Apple's Unix-based operating system.\n\n                // “Go To Folder” on Mac - Hit Command+Shift+G on a Finder window.\n                robot.keyPress(KeyEvent.VK_META);\n                robot.keyPress(KeyEvent.VK_SHIFT);\n                robot.keyPress(KeyEvent.VK_G);\n                robot.keyRelease(KeyEvent.VK_G);\n                robot.keyRelease(KeyEvent.VK_SHIFT);\n                robot.keyRelease(KeyEvent.VK_META);\n\n                // Paste the clipBoard content - Command ⌘ + V.\n                robot.keyPress(KeyEvent.VK_META);\n                robot.keyPress(KeyEvent.VK_V);\n                robot.keyRelease(KeyEvent.VK_V);\n                robot.keyRelease(KeyEvent.VK_META);\n\n                // Press Enter (GO - To bring up the file.)\n                robot.keyPress(KeyEvent.VK_ENTER);\n                robot.keyRelease(KeyEvent.VK_ENTER);\n                return true;\n            } else if ( type == Action.WIN || type == Action.LINUX ) { // Ctrl + V to paste the content.\n\n                robot.keyPress(KeyEvent.VK_CONTROL);\n                robot.keyPress(KeyEvent.VK_V);\n                robot.keyRelease(KeyEvent.VK_V);\n                robot.keyRelease(KeyEvent.VK_CONTROL);\n            }\n\n            robot.delay( 1000 * 4 );\n\n            robot.keyPress(KeyEvent.VK_ENTER);\n            robot.keyRelease(KeyEvent.VK_ENTER);\n            return true;\n        } catch (AWTException e) {\n            e.printStackTrace();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>File Upload Test <strong>:-</strong> You can find <a href=\"https://www.w3schools.com/jsref/prop_fileupload_files.asp\" rel=\"nofollow noreferrer\"><code>fileUploadBytes.html</code></a> file by clicking on <a href=\"https://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_fileupload_files\" rel=\"nofollow noreferrer\"><code>Try it Yourself</code></a>.</p>\n\n<pre><code>public static void uploadTest( RemoteWebDriver driver ) throws Exception {\n    //driver.setFileDetector(new LocalFileDetector());\n    String baseUrl = \"file:///D:/fileUploadBytes.html\";\n    driver.get( baseUrl );\n    driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n\n    FileUpload(\"//input[1]\", \"D:\\\\log.txt\", Action.SEND_KEYS);\n\n    Thread.sleep( 1000 * 10 );\n\n    FileUpload(\"//input[1]\", \"D:\\\\DB_SQL.txt\", Action.WIN);\n\n    Thread.sleep( 1000 * 10 );\n\n    driver.quit();\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Using Selenium: sendKeys()</strong> When you want to transfer a file (Refer a local file) form your local computer to the Grid-Node server, you need to use <strong>setFileDetector method</strong>. By using this Selenium-Client will transfer the file through the JSON Wire Protocol.\nFor more information see <a href=\"https://saucelabs.com/resources/articles/best-practices-tips-selenium-file-upload\" rel=\"nofollow noreferrer\"><strong><code>saucelabs fileUpload Example</code></strong></a></p>\n\n<pre><code>driver.setFileDetector(new LocalFileDetector());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18903887,"reputation":51,"user_id":13791411,"display_name":"siddhartha agarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683661231,"creation_date":1683657102,"answer_id":76212451,"question_id":5610256,"body_markdown":"If you are using **Mac** and looking for an easy way that work with **Robot**:\r\n\r\n 1. If it is a Mac machine Ctrl+V will not work, you need to use cmd+v instead.(use **VK_META** for **CMD** key).\r\n 2. You need to provide specific permissions to your IDE to access the device. Please refer to this article for permissions:\r\n\r\n&gt; https://stackoverflow.com/questions/53901026/java-awt-robot-keypress-and-keyrelease-not-working-at-all/54965052#54965052\r\n\r\n\r\n 3. When you use robot after clicking on the upload button a Java app open and the browser loses focus(use **CMD+TAB** to get back to the previous app), Please use the below code as the same work in my case\r\n```\r\n        //click on button to open upload dialog\r\n        driver.findElement(By.xpath(&quot;sample/xpath&quot;)).click();\r\n\r\n        // Create a new Robot instance\r\n        Robot robot = new Robot();\r\n        Thread.sleep(2000);\r\n\r\n        //File Need to be imported\r\n        File file = new File(&quot;/Users/username/Documents/sampleFile.pdf&quot;);\r\n        StringSelection stringSelection = new StringSelection(file.getAbsolutePath());\r\n\r\n        //Copy to clipboard\r\n        Toolkit.getDefaultToolkit().getSystemClipboard().setContents(stringSelection, null);\r\n\r\n        // Cmd + Tab is needed since it launches a Java app and the browser looses focus\r\n        robot.keyPress(KeyEvent.VK_META);\r\n        robot.keyPress(KeyEvent.VK_TAB);\r\n        robot.keyRelease(KeyEvent.VK_META);\r\n        robot.keyRelease(KeyEvent.VK_TAB);\r\n        robot.delay(500);\r\n\r\n        //Open Goto window CMD+SHIFT+G\r\n        robot.keyPress(KeyEvent.VK_META);\r\n        robot.keyPress(KeyEvent.VK_SHIFT);\r\n        robot.keyPress(KeyEvent.VK_G);\r\n        robot.keyRelease(KeyEvent.VK_META);\r\n        robot.keyRelease(KeyEvent.VK_SHIFT);\r\n        robot.keyRelease(KeyEvent.VK_G);\r\n        robot.delay(500);\r\n\r\n\r\n        //Paste the clipboard value CMD+V\r\n        robot.keyPress(KeyEvent.VK_META);\r\n        robot.keyPress(KeyEvent.VK_V);\r\n        robot.keyRelease(KeyEvent.VK_META);\r\n        robot.keyRelease(KeyEvent.VK_V);\r\n        robot.delay(500);\r\n\r\n\r\n        //Press Enter key to close the Goto window and Upload window\r\n        robot.keyPress(KeyEvent.VK_ENTER);\r\n        robot.keyRelease(KeyEvent.VK_ENTER);\r\n        robot.delay(500);\r\n\r\n        robot.keyPress(KeyEvent.VK_ENTER);\r\n        robot.keyRelease(KeyEvent.VK_ENTER);\r\n        robot.delay(500);\r\n\r\n        robot.keyPress(KeyEvent.VK_ENTER);\r\n        robot.keyRelease(KeyEvent.VK_ENTER);\r\n        robot.delay(500);\r\n\r\n\r\n``` \r\n 4. Note that, after every key release you need to add some delay to make it work. Also, key combinations may vary on usecase.","title":"File Upload using Selenium WebDriver and Java Robot Class","body":"<p>If you are using <strong>Mac</strong> and looking for an easy way that work with <strong>Robot</strong>:</p>\n<ol>\n<li>If it is a Mac machine Ctrl+V will not work, you need to use cmd+v instead.(use <strong>VK_META</strong> for <strong>CMD</strong> key).</li>\n<li>You need to provide specific permissions to your IDE to access the device. Please refer to this article for permissions:</li>\n</ol>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/53901026/java-awt-robot-keypress-and-keyrelease-not-working-at-all/54965052#54965052\">Java.awt.Robot keyPress and keyRelease not working at all</a></p>\n</blockquote>\n<ol start=\"3\">\n<li>When you use robot after clicking on the upload button a Java app open and the browser loses focus(use <strong>CMD+TAB</strong> to get back to the previous app), Please use the below code as the same work in my case</li>\n</ol>\n<pre><code>        //click on button to open upload dialog\n        driver.findElement(By.xpath(&quot;sample/xpath&quot;)).click();\n\n        // Create a new Robot instance\n        Robot robot = new Robot();\n        Thread.sleep(2000);\n\n        //File Need to be imported\n        File file = new File(&quot;/Users/username/Documents/sampleFile.pdf&quot;);\n        StringSelection stringSelection = new StringSelection(file.getAbsolutePath());\n\n        //Copy to clipboard\n        Toolkit.getDefaultToolkit().getSystemClipboard().setContents(stringSelection, null);\n\n        // Cmd + Tab is needed since it launches a Java app and the browser looses focus\n        robot.keyPress(KeyEvent.VK_META);\n        robot.keyPress(KeyEvent.VK_TAB);\n        robot.keyRelease(KeyEvent.VK_META);\n        robot.keyRelease(KeyEvent.VK_TAB);\n        robot.delay(500);\n\n        //Open Goto window CMD+SHIFT+G\n        robot.keyPress(KeyEvent.VK_META);\n        robot.keyPress(KeyEvent.VK_SHIFT);\n        robot.keyPress(KeyEvent.VK_G);\n        robot.keyRelease(KeyEvent.VK_META);\n        robot.keyRelease(KeyEvent.VK_SHIFT);\n        robot.keyRelease(KeyEvent.VK_G);\n        robot.delay(500);\n\n\n        //Paste the clipboard value CMD+V\n        robot.keyPress(KeyEvent.VK_META);\n        robot.keyPress(KeyEvent.VK_V);\n        robot.keyRelease(KeyEvent.VK_META);\n        robot.keyRelease(KeyEvent.VK_V);\n        robot.delay(500);\n\n\n        //Press Enter key to close the Goto window and Upload window\n        robot.keyPress(KeyEvent.VK_ENTER);\n        robot.keyRelease(KeyEvent.VK_ENTER);\n        robot.delay(500);\n\n        robot.keyPress(KeyEvent.VK_ENTER);\n        robot.keyRelease(KeyEvent.VK_ENTER);\n        robot.delay(500);\n\n        robot.keyPress(KeyEvent.VK_ENTER);\n        robot.keyRelease(KeyEvent.VK_ENTER);\n        robot.delay(500);\n\n\n</code></pre>\n<ol start=\"4\">\n<li>Note that, after every key release you need to add some delay to make it work. Also, key combinations may vary on usecase.</li>\n</ol>\n"}],"owner":{"account_id":359301,"reputation":191,"user_id":700636,"display_name":"Parikshit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55729,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":8,"score":17,"last_activity_date":1683661231,"creation_date":1302418729,"question_id":5610256,"body_markdown":"I am using Selenium WebDriver and Java and I need to automate the file upload feature. I tried a lot, but the moment the Browse button is clicked and a new window opens the script stops executing further and rather getting stuck. I tried in both FireFox and IE driver but to no avail.\r\n\r\nI tried also by calling an autoit exe file, but as the new window opens on click of Browse button, the particular statement \r\n\r\n    Runtime.getRuntime().exec(&quot;C:\\\\Selenium\\\\ImageUpload_FF.exe&quot;)\r\n\r\ncouldn&#39;t be exeuted. Kindly help\r\n","title":"File Upload using Selenium WebDriver and Java Robot Class","body":"<p>I am using Selenium WebDriver and Java and I need to automate the file upload feature. I tried a lot, but the moment the Browse button is clicked and a new window opens the script stops executing further and rather getting stuck. I tried in both FireFox and IE driver but to no avail.</p>\n\n<p>I tried also by calling an autoit exe file, but as the new window opens on click of Browse button, the particular statement </p>\n\n<pre><code>Runtime.getRuntime().exec(\"C:\\\\Selenium\\\\ImageUpload_FF.exe\")\n</code></pre>\n\n<p>couldn't be exeuted. Kindly help</p>\n"},{"tags":["java","database","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683660244,"creation_date":1683660244,"answer_id":76212790,"question_id":76212506,"body_markdown":"&gt; I know there were some changes to jakarta but i dont know if this is a problem to me.\r\n\r\nIt probably is. The Jakarta Persistence API 3.1 now supports the `java.util.UUID` type ([here](https://newsroom.eclipse.org/eclipse-newsletter/2022/march/what%E2%80%99s-new-jakarta-persistence-31) and [here](https://jakarta.ee/specifications/persistence/3.1/jakarta-persistence-spec-3.1.html#jakarta-persistence-3-1)).\r\n\r\nPlotting the dependency tree in Maven (`mvn dependency:tree`) for the latest current version of Spring-Boot (`3.0.6`), you can see it uses `org.hibernate.orm:hibernate-core:jar:6.1.7.Final` - which is [compatible](https://jakarta.ee/specifications/persistence/3.1/) with JPA 3.1.\r\n\r\nTry removing `@Column(columnDefinition = &quot;VARCHAR(255)&quot;)` and `@Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)` annotations from your `WerkstattEntity` entity.\r\n\r\nBe cautious, though: on an Apache Derby database, the `java.util.UUID` type is translated to `char(16) for bit data`.","title":"Save UUID as String in Database with JPA/Hibernate","body":"<blockquote>\n<p>I know there were some changes to jakarta but i dont know if this is a problem to me.</p>\n</blockquote>\n<p>It probably is. The Jakarta Persistence API 3.1 now supports the <code>java.util.UUID</code> type (<a href=\"https://newsroom.eclipse.org/eclipse-newsletter/2022/march/what%E2%80%99s-new-jakarta-persistence-31\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://jakarta.ee/specifications/persistence/3.1/jakarta-persistence-spec-3.1.html#jakarta-persistence-3-1\" rel=\"nofollow noreferrer\">here</a>).</p>\n<p>Plotting the dependency tree in Maven (<code>mvn dependency:tree</code>) for the latest current version of Spring-Boot (<code>3.0.6</code>), you can see it uses <code>org.hibernate.orm:hibernate-core:jar:6.1.7.Final</code> - which is <a href=\"https://jakarta.ee/specifications/persistence/3.1/\" rel=\"nofollow noreferrer\">compatible</a> with JPA 3.1.</p>\n<p>Try removing <code>@Column(columnDefinition = &quot;VARCHAR(255)&quot;)</code> and <code>@Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)</code> annotations from your <code>WerkstattEntity</code> entity.</p>\n<p>Be cautious, though: on an Apache Derby database, the <code>java.util.UUID</code> type is translated to <code>char(16) for bit data</code>.</p>\n"},{"comments":[{"owner":{"account_id":11227846,"reputation":65,"user_id":8236968,"display_name":"gensheimer"},"score":0,"creation_date":1683724697,"post_id":76212860,"comment_id":134410500,"body_markdown":"this absolutly works fine now! Thank you","body":"this absolutly works fine now! Thank you"}],"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1683661033,"creation_date":1683661033,"answer_id":76212860,"question_id":76212506,"body_markdown":"As you&#39;ll find if you read in the migration guide for Hibernate 6, we no longer use stringly-typed names to identify types. Which is much better.\r\n\r\nBut even better still, you no longer need a custom `@Type` annotation to persist `UUID`s. So:\r\n\r\n```java\r\n@Id\r\nprivate UUID id;\r\n```\r\n\r\nwould in principle work fine.\r\n\r\nYou can even use:\r\n\r\n```java\r\n@Id @GeneratedValue\r\nprivate UUID id;\r\n```\r\n\r\nif you want the `UUID` to be generated.\r\n\r\nHowever, note that, by default, this maps to a column of type `UUID` if the database has such a type. If you really need to map to a `VARCHAR` columns, use:\r\n\r\n```java\r\n@Id @GeneratedValue\r\n@JdbcTypeCode(Types.VARCHAR)\r\nprivate UUID id;\r\n```\r\n\r\nor:\r\n\r\n```java\r\n@Id @GeneratedValue\r\n@JdbcType(VarcharJdbcType.class)\r\nprivate UUID id;\r\n```\r\n\r\ndepending on taste.","title":"Save UUID as String in Database with JPA/Hibernate","body":"<p>As you'll find if you read in the migration guide for Hibernate 6, we no longer use stringly-typed names to identify types. Which is much better.</p>\n<p>But even better still, you no longer need a custom <code>@Type</code> annotation to persist <code>UUID</code>s. So:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Id\nprivate UUID id;\n</code></pre>\n<p>would in principle work fine.</p>\n<p>You can even use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Id @GeneratedValue\nprivate UUID id;\n</code></pre>\n<p>if you want the <code>UUID</code> to be generated.</p>\n<p>However, note that, by default, this maps to a column of type <code>UUID</code> if the database has such a type. If you really need to map to a <code>VARCHAR</code> columns, use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Id @GeneratedValue\n@JdbcTypeCode(Types.VARCHAR)\nprivate UUID id;\n</code></pre>\n<p>or:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Id @GeneratedValue\n@JdbcType(VarcharJdbcType.class)\nprivate UUID id;\n</code></pre>\n<p>depending on taste.</p>\n"}],"owner":{"account_id":11227846,"reputation":65,"user_id":8236968,"display_name":"gensheimer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1751,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76212860,"answer_count":2,"score":2,"last_activity_date":1683661033,"creation_date":1683657680,"question_id":76212506,"body_markdown":"normally I store my UUID&#180;s to the database as String. In Spring Boot 2.x I used to decoreate the UUID with `@Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)`. Somehow in Spring Boot 3.x it doesnt work anymore. It tells me `Cannot resolve method &#39;type&#39;`.\r\n\r\nI know there were some changes to jakarta but i dont know if this is a problem to me.\r\n\r\nMy Entity:\r\n```\r\nimport jakarta.persistence.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport org.hibernate.annotations.Type;\r\n\r\nimport java.util.Set;\r\nimport java.util.UUID;\r\n\r\n@Data\r\n@Entity\r\n@Table(name = &quot;werkstatt&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class WerkstattEntity {\r\n\r\n    @Id\r\n    @Column(columnDefinition = &quot;VARCHAR(255)&quot;)\r\n    @Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\r\n    private UUID id;\r\n}\r\n```\r\n\r\nMy gradle dep:\r\n\r\n```\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    runtimeOnly &#39;org.mariadb.jdbc:mariadb-java-client&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &#39;io.projectreactor:reactor-test&#39;\r\n    testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n    \r\n\r\n    // https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-api\r\n    implementation &#39;io.jsonwebtoken:jjwt-api:0.11.5&#39;\r\n\r\n    // https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-impl\r\n    runtimeOnly &#39;io.jsonwebtoken:jjwt-impl:0.11.5&#39;\r\n\r\n    // https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-jackson\r\n    runtimeOnly &#39;io.jsonwebtoken:jjwt-jackson:0.11.5&#39;\r\n\r\n    implementation &#39;org.mapstruct:mapstruct:1.5.5.Final&#39;\r\n\r\n    annotationProcessor &#39;org.mapstruct:mapstruct-processor:1.5.5.Final&#39;\r\n\r\n}\r\n```","title":"Save UUID as String in Database with JPA/Hibernate","body":"<p>normally I store my UUID´s to the database as String. In Spring Boot 2.x I used to decoreate the UUID with <code>@Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)</code>. Somehow in Spring Boot 3.x it doesnt work anymore. It tells me <code>Cannot resolve method 'type'</code>.</p>\n<p>I know there were some changes to jakarta but i dont know if this is a problem to me.</p>\n<p>My Entity:</p>\n<pre><code>import jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.hibernate.annotations.Type;\n\nimport java.util.Set;\nimport java.util.UUID;\n\n@Data\n@Entity\n@Table(name = &quot;werkstatt&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class WerkstattEntity {\n\n    @Id\n    @Column(columnDefinition = &quot;VARCHAR(255)&quot;)\n    @Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\n    private UUID id;\n}\n</code></pre>\n<p>My gradle dep:</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    runtimeOnly 'org.mariadb.jdbc:mariadb-java-client'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n    \n\n    // https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-api\n    implementation 'io.jsonwebtoken:jjwt-api:0.11.5'\n\n    // https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-impl\n    runtimeOnly 'io.jsonwebtoken:jjwt-impl:0.11.5'\n\n    // https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-jackson\n    runtimeOnly 'io.jsonwebtoken:jjwt-jackson:0.11.5'\n\n    implementation 'org.mapstruct:mapstruct:1.5.5.Final'\n\n    annotationProcessor 'org.mapstruct:mapstruct-processor:1.5.5.Final'\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","amazon-s3"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":2,"creation_date":1680302752,"post_id":75892119,"comment_id":133881416,"body_markdown":"can you please share https://stackoverflow.com/help/minimal-reproducible-example ?","body":"can you please share <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a> ?"},{"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"score":0,"creation_date":1683186180,"post_id":75892119,"comment_id":134328500,"body_markdown":"Please refer this https://stackoverflow.com/questions/66067705/image-and-pdf-files-getting-corrupted-while-uploading-on-aws-s3 if it solves your issue","body":"Please refer this <a href=\"https://stackoverflow.com/questions/66067705/image-and-pdf-files-getting-corrupted-while-uploading-on-aws-s3\" title=\"image and pdf files getting corrupted while uploading on aws s3\">stackoverflow.com/questions/66067705/&hellip;</a> if it solves your issue"}],"answers":[{"comments":[{"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"score":0,"creation_date":1683661348,"post_id":76212852,"comment_id":134400252,"body_markdown":"Answer based on https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/GeneratePresignedUrlRequest.html","body":"Answer based on <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/GeneratePresignedUrlRequest.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/&zwnj;&#8203;&hellip;</a>"}],"tags":[],"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683660952,"creation_date":1683660952,"answer_id":76212852,"question_id":75892119,"body_markdown":"Try providing the ```Cotent-Type``` of ```application/pdf``` as a response header within the url using ```withResponseHeaders()``` method, see if that resolves the mismatch.\r\n\r\nUpdate to the code above:\r\n```java\r\nGeneratePresignedUrlRequest generatePresignedUrlRequest = new GeneratePresignedUrlRequest(bucketName, filesS3.getUrl())\r\n        .withMethod(HttpMethod.GET)\r\n        .withExpiration(expiration)\r\n        .withResponseHeaders(new ResponseHeaderOverrides().withContentType(&quot;application/pdf&quot;));\r\n\r\n```","title":"Corrupted PDF in S3 pre signed URL with Spring Boot","body":"<p>Try providing the <code>Cotent-Type</code> of <code>application/pdf</code> as a response header within the url using <code>withResponseHeaders()</code> method, see if that resolves the mismatch.</p>\n<p>Update to the code above:</p>\n<pre class=\"lang-java prettyprint-override\"><code>GeneratePresignedUrlRequest generatePresignedUrlRequest = new GeneratePresignedUrlRequest(bucketName, filesS3.getUrl())\n        .withMethod(HttpMethod.GET)\n        .withExpiration(expiration)\n        .withResponseHeaders(new ResponseHeaderOverrides().withContentType(&quot;application/pdf&quot;));\n\n</code></pre>\n"}],"owner":{"account_id":2449433,"reputation":627,"user_id":2280645,"accept_rate":96,"display_name":"KenobiBastila"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76212852,"answer_count":1,"score":2,"last_activity_date":1683660952,"creation_date":1680203575,"question_id":75892119,"body_markdown":"**I&#39;m having problems with the pre signed URL of S3**\r\n\r\nWhen I try to download my browser shows a error message saying that the PDF File is corrupted.\r\nHowever, when I attempt to download by calling directly via the byte stream, it works fine.\r\n\r\n*My code:* \r\n\r\n       public URL getSignedURL(FileS3 filesS3) {\r\n            if (!clienteS3.doesBucketExistV2(bucketName)) {\r\n                System.out.println(&quot;O bucket informado n&#227;o existe [&quot; + bucketName + &quot;].&quot;);\r\n                throw new NullPointerException(&quot;O bucket informado n&#227;o existe [&quot; + bucketName + &quot;].&quot;);\r\n            }\r\n    \r\n            java.util.Date expiration = new java.util.Date();\r\n            long expTimeMillis = Instant.now().toEpochMilli();\r\n            expTimeMillis += MySettings.AWS_S3_EXPIRATION_TIME;\r\n            expiration.setTime(expTimeMillis);\r\n            //\r\n            // Generate the presigned URL.\r\n            System.out.println(&quot;Generating pre-signed URL.&quot;);\r\n            GeneratePresignedUrlRequest generatePresignedUrlRequest\r\n                    = new GeneratePresignedUrlRequest(bucketName, filesS3.getUrl())\r\n                            .withMethod(HttpMethod.GET)\r\n                            .withExpiration(expiration);\r\n            URL url = clienteS3.generatePresignedUrl(generatePresignedUrlRequest);\r\n            //\r\n            filesS3.setPreSignedUrl(url);\r\n            //\r\n            return url;\r\n        }\r\n\r\n**Attempt of solution:**\r\n\r\n\r\n1. Content Type specify. Result: this S3 error &quot;The request signature we calculated does not match the signature you provided. Check your key and signing method&quot;\r\n","title":"Corrupted PDF in S3 pre signed URL with Spring Boot","body":"<p><strong>I'm having problems with the pre signed URL of S3</strong></p>\n<p>When I try to download my browser shows a error message saying that the PDF File is corrupted.\nHowever, when I attempt to download by calling directly via the byte stream, it works fine.</p>\n<p><em>My code:</em></p>\n<pre><code>   public URL getSignedURL(FileS3 filesS3) {\n        if (!clienteS3.doesBucketExistV2(bucketName)) {\n            System.out.println(&quot;O bucket informado não existe [&quot; + bucketName + &quot;].&quot;);\n            throw new NullPointerException(&quot;O bucket informado não existe [&quot; + bucketName + &quot;].&quot;);\n        }\n\n        java.util.Date expiration = new java.util.Date();\n        long expTimeMillis = Instant.now().toEpochMilli();\n        expTimeMillis += MySettings.AWS_S3_EXPIRATION_TIME;\n        expiration.setTime(expTimeMillis);\n        //\n        // Generate the presigned URL.\n        System.out.println(&quot;Generating pre-signed URL.&quot;);\n        GeneratePresignedUrlRequest generatePresignedUrlRequest\n                = new GeneratePresignedUrlRequest(bucketName, filesS3.getUrl())\n                        .withMethod(HttpMethod.GET)\n                        .withExpiration(expiration);\n        URL url = clienteS3.generatePresignedUrl(generatePresignedUrlRequest);\n        //\n        filesS3.setPreSignedUrl(url);\n        //\n        return url;\n    }\n</code></pre>\n<p><strong>Attempt of solution:</strong></p>\n<ol>\n<li>Content Type specify. Result: this S3 error &quot;The request signature we calculated does not match the signature you provided. Check your key and signing method&quot;</li>\n</ol>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":4,"creation_date":1683658167,"post_id":76212546,"comment_id":134399664,"body_markdown":"https://projectlombok.org/features/experimental/SuperBuilder","body":"<a href=\"https://projectlombok.org/features/experimental/SuperBuilder\" rel=\"nofollow noreferrer\">projectlombok.org/features/experimental/SuperBuilder</a>"}],"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683660285,"creation_date":1683658041,"question_id":76212546,"body_markdown":"In my application I have simple classes:\r\n\r\n    @NoArgsConstructor\r\n    @Data\r\n    @Builder\r\n    public class Message {\r\n        private String id;\r\n        private LocalDateTime createdAt;\r\n        private String to;\r\n        private String from;\r\n    }\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    @Builder\r\n    public class MessageText extends Message{\r\n        private String text;\r\n    }\r\n\r\nI&#39;m trying to create new MessageText using builder. without builder() in classic OOP style I can set al params, including parent&#39;s id, createdAt and etc.\r\n\r\n    MessageText responseMsg = new MessageText();\r\n            responseMsg.setId(&quot;id&quot;);\r\n            responseMsg.setText(&quot;Hello&quot;);\r\n            responseMsg.setTo(&quot;to&quot;);\r\n            responseMsg.setFrom(&quot;server&quot;);\r\n            responseMsg.setCreatedAt(LocalDateTime.now());\r\n\r\nBut unfortunately, when I want to do the same using builder, I can set only text field:\r\n\r\n    MessageText.builder()\r\n                    .text(&quot;Hello!&quot;)\r\n                    .build();\r\nIn such approach I cannot set parents params(id, form, to, createdAt)\r\nWhat I&#39;m doing wrong?","title":"How to use @Builder(Lombok) in extended classes?","body":"<p>In my application I have simple classes:</p>\n<pre><code>@NoArgsConstructor\n@Data\n@Builder\npublic class Message {\n    private String id;\n    private LocalDateTime createdAt;\n    private String to;\n    private String from;\n}\n\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Builder\npublic class MessageText extends Message{\n    private String text;\n}\n</code></pre>\n<p>I'm trying to create new MessageText using builder. without builder() in classic OOP style I can set al params, including parent's id, createdAt and etc.</p>\n<pre><code>MessageText responseMsg = new MessageText();\n        responseMsg.setId(&quot;id&quot;);\n        responseMsg.setText(&quot;Hello&quot;);\n        responseMsg.setTo(&quot;to&quot;);\n        responseMsg.setFrom(&quot;server&quot;);\n        responseMsg.setCreatedAt(LocalDateTime.now());\n</code></pre>\n<p>But unfortunately, when I want to do the same using builder, I can set only text field:</p>\n<pre><code>MessageText.builder()\n                .text(&quot;Hello!&quot;)\n                .build();\n</code></pre>\n<p>In such approach I cannot set parents params(id, form, to, createdAt)\nWhat I'm doing wrong?</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-security","oauth-2.0"],"comments":[{"owner":{"account_id":3783388,"reputation":197,"user_id":3142164,"display_name":"Mohammad"},"score":0,"creation_date":1652946660,"post_id":72300445,"comment_id":127732112,"body_markdown":"Check this tutorial https://www.baeldung.com/spring-security-oauth-auth-server","body":"Check this tutorial <a href=\"https://www.baeldung.com/spring-security-oauth-auth-server\" rel=\"nofollow noreferrer\">baeldung.com/spring-security-oauth-auth-server</a>"},{"owner":{"account_id":20441485,"reputation":366,"user_id":14998237,"display_name":"Andrey Grigoriev"},"score":0,"creation_date":1652950138,"post_id":72300445,"comment_id":127733350,"body_markdown":"Please provide Authorization server application.yml. Seems like this server is started on different than 9000 port","body":"Please provide Authorization server application.yml. Seems like this server is started on different than 9000 port"}],"answers":[{"tags":[],"owner":{"account_id":3619499,"reputation":5613,"user_id":3018627,"display_name":"Subarata Talukder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670865756,"creation_date":1670779126,"answer_id":74762913,"question_id":72300445,"body_markdown":"Create an **application.yml** file and write the port:\r\n\r\n    server:\r\n      port: 9000\r\n\r\n\r\n&gt; Note: If you use **Spring Authorization Server 1.0.0 (Current)** then you\r\n&gt; won&#39;t find ***ProviderSettings*** class.\r\n\r\n    @Bean\r\n    public ProviderSettings providerSettings() {\r\n        return ProviderSettings.builder()\r\n                .issuer(&quot;http://localhost:9000&quot;)\r\n                .build();\r\n    }\r\n\r\nRather use:\r\n\r\n    @Bean\r\n    public AuthorizationServerSettings authorizationServerSettings() {\r\n        return AuthorizationServerSettings.builder()\r\n                .build();\r\n    }\r\n\r\nAnd set Issuer URI:\r\n\r\n    issuer-uri: http://localhost:9000\r\n\r\n\r\nHope you get resolved and enjoy coding.","title":"Oauth2 Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;","body":"<p>Create an <strong>application.yml</strong> file and write the port:</p>\n<pre><code>server:\n  port: 9000\n</code></pre>\n<blockquote>\n<p>Note: If you use <strong>Spring Authorization Server 1.0.0 (Current)</strong> then you\nwon't find <em><strong>ProviderSettings</strong></em> class.</p>\n</blockquote>\n<pre><code>@Bean\npublic ProviderSettings providerSettings() {\n    return ProviderSettings.builder()\n            .issuer(&quot;http://localhost:9000&quot;)\n            .build();\n}\n</code></pre>\n<p>Rather use:</p>\n<pre><code>@Bean\npublic AuthorizationServerSettings authorizationServerSettings() {\n    return AuthorizationServerSettings.builder()\n            .build();\n}\n</code></pre>\n<p>And set Issuer URI:</p>\n<pre><code>issuer-uri: http://localhost:9000\n</code></pre>\n<p>Hope you get resolved and enjoy coding.</p>\n"}],"owner":{"account_id":23169510,"reputation":41,"user_id":17895334,"display_name":"php_java_python"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7308,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683659998,"creation_date":1652945732,"question_id":72300445,"body_markdown":"I try to use spring to make a login and registration system and use Oauth2 \r\n\r\n\r\nthese are errors\r\n``` Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;securityFilterChain&#39; defined in class path resource [com/springboot/SchoolManagementSystem_Cilent/config/WebSecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;securityFilterChain&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;clientRegistrationRepository&#39; defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/client/servlet/OAuth2ClientRegistrationRepositoryConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.client.registration.InMemoryClientRegistrationRepository]: Factory method &#39;clientRegistrationRepository&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Unable to resolve Configuration with the provided Issuer of &quot;http://localhost:9000&quot; ```\r\n\r\n\r\n\r\n\r\nFor my client side config:\r\n\r\n``` package com.springboot.SchoolManagementSystem_Cilent.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.security.config.Customizer;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n    private static final String[] WHITE_LIST = {\r\n            &quot;/home&quot;,\r\n            &quot;/register&quot;,\r\n            &quot;/verifyRegistration*&quot;,\r\n            &quot;/resendVerifyToken*&quot;\r\n    };\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder(11);\r\n    }\r\n\r\n    @Bean\r\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .cors()\r\n                .and()\r\n                .csrf()\r\n                .disable()\r\n                .authorizeHttpRequests()\r\n                .antMatchers(WHITE_LIST).permitAll()\r\n                .antMatchers(&quot;/api/**&quot;).authenticated()\r\n                .and()\r\n                .oauth2Login(oauth2login -&gt;\r\n                        oauth2login.loginPage(&quot;/oauth2/authorization/api-client-oidc&quot;))\r\n                .oauth2Client(Customizer.withDefaults());\r\n\r\n        return http.build();\r\n\r\n    }\r\n}\r\n ```\r\n\r\nclient side application.yml\r\n\r\n``` server:\r\n  port: 8081\r\n\r\nspring:\r\n  datasource:\r\n    url: jdbc:mysql://localhost:3306/testdb\r\n    username: root\r\n    password: Cwj082711\r\n    driver-class-name: com.mysql.cj.jdbc.Driver\r\n  jpa:\r\n    show-sql: true\r\n    hibernate:\r\n      ddl-auto: update\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          api-client-oidc:\r\n            provider: spring\r\n            client-id: api-client\r\n            client-secret: secret\r\n            authorization-grant-type: authorization_code\r\n            redirect-uri: &quot;http://127.0.0.1:8081/login/oauth2/code/{registrationId}&quot;\r\n            scope: openid\r\n            client-name: api-client-oidc\r\n          api-client-authorization-code:\r\n            provider: spring\r\n            client-id: api-client\r\n            client-secret: secret\r\n            authorization-grant-type: authorization_code\r\n            redirect-uri: &quot;http://127.0.0.1:8081/authorized&quot;\r\n            scope: api.read\r\n            client-name: api-client-authorization-code\r\n        provider:\r\n          spring:\r\n            issuer-uri: http://localhost:9000\r\n\r\n```\r\nmy oauth authorization server config:\r\n\r\n``` \r\npackage com.springboot.Oauthauthorizationserver.config;\r\n\r\nimport com.nimbusds.jose.jwk.JWKSet;\r\nimport com.nimbusds.jose.jwk.RSAKey;\r\nimport com.nimbusds.jose.jwk.source.JWKSource;\r\nimport com.nimbusds.jose.proc.SecurityContext;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.Ordered;\r\nimport org.springframework.core.annotation.Order;\r\nimport org.springframework.security.config.Customizer;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.OAuth2AuthorizationServerConfiguration;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.oauth2.core.AuthorizationGrantType;\r\nimport org.springframework.security.oauth2.core.ClientAuthenticationMethod;\r\nimport org.springframework.security.oauth2.core.oidc.OidcScopes;\r\nimport org.springframework.security.oauth2.server.authorization.client.InMemoryRegisteredClientRepository;\r\nimport org.springframework.security.oauth2.server.authorization.client.RegisteredClient;\r\nimport org.springframework.security.oauth2.server.authorization.client.RegisteredClientRepository;\r\nimport org.springframework.security.oauth2.server.authorization.config.ClientSettings;\r\nimport org.springframework.security.oauth2.server.authorization.config.ProviderSettings;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\nimport java.security.KeyPair;\r\nimport java.security.KeyPairGenerator;\r\nimport java.security.interfaces.RSAPrivateKey;\r\nimport java.security.interfaces.RSAPublicKey;\r\nimport java.util.UUID;\r\n\r\n\r\n@Configuration(proxyBeanMethods = false)\r\npublic class AuthorizationServerConfig {\r\n\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n\r\n    @Bean\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public SecurityFilterChain authServerSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\r\n\r\n        return http.formLogin(Customizer.withDefaults()).build();\r\n    }\r\n\r\n    @Bean\r\n    public RegisteredClientRepository registeredClientRepository() {\r\n        RegisteredClient registeredClient = RegisteredClient.withId(UUID.randomUUID().toString())\r\n                .clientId(&quot;api-client&quot;)\r\n                .clientSecret(passwordEncoder.encode(&quot;secret&quot;))\r\n                .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\r\n                .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\r\n                .authorizationGrantType(AuthorizationGrantType.PASSWORD)\r\n                .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\r\n                .redirectUri(&quot;http://127.0.0.1:8081/login/oauth2/code/api-client-oidc&quot;)\r\n                .redirectUri(&quot;http://127.0.0.1:8081/authorized&quot;)\r\n                .scope(OidcScopes.OPENID)\r\n                .scope(&quot;api.read&quot;)\r\n                .clientSettings(ClientSettings.builder().requireAuthorizationConsent(true).build())\r\n                .build();\r\n\r\n\r\n        return new InMemoryRegisteredClientRepository(registeredClient);\r\n    }\r\n\r\n\r\n    @Bean\r\n    public JWKSource&lt;SecurityContext&gt; jwkSource() {\r\n        RSAKey rsaKey = generateRsa();\r\n        JWKSet jwkSet = new JWKSet(rsaKey);\r\n        return (jwkSelector, securityContext) -&gt; jwkSelector.select(jwkSet);\r\n    }\r\n\r\n    private static RSAKey generateRsa() {\r\n        KeyPair keyPair = generateRsaKey();\r\n        RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\r\n        RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate();\r\n        return new RSAKey.Builder(publicKey)\r\n                .privateKey(privateKey)\r\n                .keyID(UUID.randomUUID().toString())\r\n                .build();\r\n    }\r\n\r\n    private static KeyPair generateRsaKey() {\r\n        KeyPair keyPair;\r\n        try {\r\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n            keyPairGenerator.initialize(2048);\r\n            keyPair = keyPairGenerator.generateKeyPair();\r\n        } catch (Exception ex) {\r\n            throw new IllegalStateException(ex);\r\n        }\r\n        return keyPair;\r\n    }\r\n\r\n    @Bean\r\n    public ProviderSettings providerSettings() {\r\n        return ProviderSettings.builder()\r\n                .issuer(&quot;http://localhost:9000&quot;)\r\n                .build();\r\n    }\r\n}\r\n ```\r\n\r\nMy oauth default security config:\r\n\r\n``` package com.springboot.Oauthauthorizationserver.config;\r\n\r\nimport com.springboot.Oauthauthorizationserver.service.CustomAuthenticationProvider;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.security.config.Customizer;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@EnableWebSecurity\r\npublic class DefaultSecurityConfig {\r\n\r\n    @Autowired\r\n    private CustomAuthenticationProvider customAuthenticationProvider;\r\n\r\n\r\n    @Bean\r\n    SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests(authorizeHttpRequests -&gt;\r\n                        authorizeHttpRequests.anyRequest().authenticated())\r\n                .formLogin(Customizer.withDefaults());\r\n\r\n        return http.build();\r\n\r\n    }\r\n\r\n    @Autowired\r\n    public void bindAuthenticationProvider(AuthenticationManagerBuilder authenticationManagerBuilder) {\r\n        authenticationManagerBuilder\r\n                .authenticationProvider(customAuthenticationProvider);\r\n    }\r\n\r\n}\r\n```\r\n\r\nSo can anyone tell me what is the problem, I am just new to learn spring stuff and try to make a web app. Please help me!!! ","title":"Oauth2 Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;","body":"<p>I try to use spring to make a login and registration system and use Oauth2</p>\n<p>these are errors\n<code>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/springboot/SchoolManagementSystem_Cilent/config/WebSecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'clientRegistrationRepository' defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/client/servlet/OAuth2ClientRegistrationRepositoryConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.client.registration.InMemoryClientRegistrationRepository]: Factory method 'clientRegistrationRepository' threw exception; nested exception is java.lang.IllegalArgumentException: Unable to resolve Configuration with the provided Issuer of &quot;http://localhost:9000&quot;</code></p>\n<p>For my client side config:</p>\n<pre><code>\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.security.config.Customizer;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@EnableWebSecurity\npublic class WebSecurityConfig {\n    private static final String[] WHITE_LIST = {\n            &quot;/home&quot;,\n            &quot;/register&quot;,\n            &quot;/verifyRegistration*&quot;,\n            &quot;/resendVerifyToken*&quot;\n    };\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder(11);\n    }\n\n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .cors()\n                .and()\n                .csrf()\n                .disable()\n                .authorizeHttpRequests()\n                .antMatchers(WHITE_LIST).permitAll()\n                .antMatchers(&quot;/api/**&quot;).authenticated()\n                .and()\n                .oauth2Login(oauth2login -&gt;\n                        oauth2login.loginPage(&quot;/oauth2/authorization/api-client-oidc&quot;))\n                .oauth2Client(Customizer.withDefaults());\n\n        return http.build();\n\n    }\n}\n</code></pre>\n<p>client side application.yml</p>\n<pre><code>  port: 8081\n\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/testdb\n    username: root\n    password: Cwj082711\n    driver-class-name: com.mysql.cj.jdbc.Driver\n  jpa:\n    show-sql: true\n    hibernate:\n      ddl-auto: update\n  security:\n    oauth2:\n      client:\n        registration:\n          api-client-oidc:\n            provider: spring\n            client-id: api-client\n            client-secret: secret\n            authorization-grant-type: authorization_code\n            redirect-uri: &quot;http://127.0.0.1:8081/login/oauth2/code/{registrationId}&quot;\n            scope: openid\n            client-name: api-client-oidc\n          api-client-authorization-code:\n            provider: spring\n            client-id: api-client\n            client-secret: secret\n            authorization-grant-type: authorization_code\n            redirect-uri: &quot;http://127.0.0.1:8081/authorized&quot;\n            scope: api.read\n            client-name: api-client-authorization-code\n        provider:\n          spring:\n            issuer-uri: http://localhost:9000\n\n</code></pre>\n<p>my oauth authorization server config:</p>\n<pre><code>package com.springboot.Oauthauthorizationserver.config;\n\nimport com.nimbusds.jose.jwk.JWKSet;\nimport com.nimbusds.jose.jwk.RSAKey;\nimport com.nimbusds.jose.jwk.source.JWKSource;\nimport com.nimbusds.jose.proc.SecurityContext;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.Ordered;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.security.config.Customizer;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.OAuth2AuthorizationServerConfiguration;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.oauth2.core.AuthorizationGrantType;\nimport org.springframework.security.oauth2.core.ClientAuthenticationMethod;\nimport org.springframework.security.oauth2.core.oidc.OidcScopes;\nimport org.springframework.security.oauth2.server.authorization.client.InMemoryRegisteredClientRepository;\nimport org.springframework.security.oauth2.server.authorization.client.RegisteredClient;\nimport org.springframework.security.oauth2.server.authorization.client.RegisteredClientRepository;\nimport org.springframework.security.oauth2.server.authorization.config.ClientSettings;\nimport org.springframework.security.oauth2.server.authorization.config.ProviderSettings;\nimport org.springframework.security.web.SecurityFilterChain;\n\nimport java.security.KeyPair;\nimport java.security.KeyPairGenerator;\nimport java.security.interfaces.RSAPrivateKey;\nimport java.security.interfaces.RSAPublicKey;\nimport java.util.UUID;\n\n\n@Configuration(proxyBeanMethods = false)\npublic class AuthorizationServerConfig {\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    @Bean\n    @Order(Ordered.HIGHEST_PRECEDENCE)\n    public SecurityFilterChain authServerSecurityFilterChain(HttpSecurity http) throws Exception {\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\n\n        return http.formLogin(Customizer.withDefaults()).build();\n    }\n\n    @Bean\n    public RegisteredClientRepository registeredClientRepository() {\n        RegisteredClient registeredClient = RegisteredClient.withId(UUID.randomUUID().toString())\n                .clientId(&quot;api-client&quot;)\n                .clientSecret(passwordEncoder.encode(&quot;secret&quot;))\n                .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n                .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\n                .authorizationGrantType(AuthorizationGrantType.PASSWORD)\n                .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\n                .redirectUri(&quot;http://127.0.0.1:8081/login/oauth2/code/api-client-oidc&quot;)\n                .redirectUri(&quot;http://127.0.0.1:8081/authorized&quot;)\n                .scope(OidcScopes.OPENID)\n                .scope(&quot;api.read&quot;)\n                .clientSettings(ClientSettings.builder().requireAuthorizationConsent(true).build())\n                .build();\n\n\n        return new InMemoryRegisteredClientRepository(registeredClient);\n    }\n\n\n    @Bean\n    public JWKSource&lt;SecurityContext&gt; jwkSource() {\n        RSAKey rsaKey = generateRsa();\n        JWKSet jwkSet = new JWKSet(rsaKey);\n        return (jwkSelector, securityContext) -&gt; jwkSelector.select(jwkSet);\n    }\n\n    private static RSAKey generateRsa() {\n        KeyPair keyPair = generateRsaKey();\n        RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\n        RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate();\n        return new RSAKey.Builder(publicKey)\n                .privateKey(privateKey)\n                .keyID(UUID.randomUUID().toString())\n                .build();\n    }\n\n    private static KeyPair generateRsaKey() {\n        KeyPair keyPair;\n        try {\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n            keyPairGenerator.initialize(2048);\n            keyPair = keyPairGenerator.generateKeyPair();\n        } catch (Exception ex) {\n            throw new IllegalStateException(ex);\n        }\n        return keyPair;\n    }\n\n    @Bean\n    public ProviderSettings providerSettings() {\n        return ProviderSettings.builder()\n                .issuer(&quot;http://localhost:9000&quot;)\n                .build();\n    }\n}\n</code></pre>\n<p>My oauth default security config:</p>\n<pre><code>\nimport com.springboot.Oauthauthorizationserver.service.CustomAuthenticationProvider;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.security.config.Customizer;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@EnableWebSecurity\npublic class DefaultSecurityConfig {\n\n    @Autowired\n    private CustomAuthenticationProvider customAuthenticationProvider;\n\n\n    @Bean\n    SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests(authorizeHttpRequests -&gt;\n                        authorizeHttpRequests.anyRequest().authenticated())\n                .formLogin(Customizer.withDefaults());\n\n        return http.build();\n\n    }\n\n    @Autowired\n    public void bindAuthenticationProvider(AuthenticationManagerBuilder authenticationManagerBuilder) {\n        authenticationManagerBuilder\n                .authenticationProvider(customAuthenticationProvider);\n    }\n\n}\n</code></pre>\n<p>So can anyone tell me what is the problem, I am just new to learn spring stuff and try to make a web app. Please help me!!!</p>\n"},{"tags":["java","spring-boot","nullpointerexception","sonarqube","sonarlint"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1683657564,"post_id":76212442,"comment_id":134399540,"body_markdown":"Nothing in this code guarantees that `res.getBody()` always has to return the same value. The analyzer can&#39;t know that it doesn&#39;t. So if you want to please the analyzer (and/or `getBody()` could actually return a value and then null) then you&#39;d need something like `Object resBody; if (res.hasBody() &amp;&amp; (resBody = res.getBody()) != null) {`. Also: if you attempted a solution, then please show us **which one**, because that *should* be working.","body":"Nothing in this code guarantees that <code>res.getBody()</code> always has to return the same value. The analyzer can&#39;t know that it doesn&#39;t. So if you want to please the analyzer (and/or <code>getBody()</code> could actually return a value and then null) then you&#39;d need something like <code>Object resBody; if (res.hasBody() &amp;&amp; (resBody = res.getBody()) != null) {</code>. Also: if you attempted a solution, then please show us <b>which one</b>, because that <i>should</i> be working."}],"answers":[{"tags":[],"owner":{"account_id":17108660,"reputation":1251,"user_id":12380096,"display_name":"AylaWinters"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683659806,"creation_date":1683658916,"answer_id":76212639,"question_id":76212442,"body_markdown":"As [Joachim Sauer][1] mentioned, I had the declaration of the variable after the null check. So:\r\n\r\n\r\n```\r\npublic ResponseEntity&lt;Object&gt; doSomethingCool(String foo, String bar) {\r\n        ResponseEntity&lt;Object&gt; res;\r\n\r\n        try {\r\n            res = myService.doTheWork(foo, bar);\r\n\r\n            Object resBody = res.getBody(); //&lt;--------here\r\n\r\n            if (resBody != null) {\r\n                \r\n                if (res.getStatusCode() == HttpStatus.OK) {\r\n                    myLogger(resBody.toString(), res.getStatusCode());\r\n                }\r\n             }\r\n        } catch (Exception e) {\r\n            return customErrorHandling(res, e);\r\n        }\r\n        return res;\r\n         \r\n    }\r\n```\r\n\r\n\r\n[1]: https://stackoverflow.com/users/40342/joachim-sauer","title":"SonarLint res.getBody() can be null even after a null check","body":"<p>As <a href=\"https://stackoverflow.com/users/40342/joachim-sauer\">Joachim Sauer</a> mentioned, I had the declaration of the variable after the null check. So:</p>\n<pre><code>public ResponseEntity&lt;Object&gt; doSomethingCool(String foo, String bar) {\n        ResponseEntity&lt;Object&gt; res;\n\n        try {\n            res = myService.doTheWork(foo, bar);\n\n            Object resBody = res.getBody(); //&lt;--------here\n\n            if (resBody != null) {\n                \n                if (res.getStatusCode() == HttpStatus.OK) {\n                    myLogger(resBody.toString(), res.getStatusCode());\n                }\n             }\n        } catch (Exception e) {\n            return customErrorHandling(res, e);\n        }\n        return res;\n         \n    }\n</code></pre>\n"}],"owner":{"account_id":17108660,"reputation":1251,"user_id":12380096,"display_name":"AylaWinters"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683659806,"creation_date":1683657040,"question_id":76212442,"body_markdown":"I can&#39;t seem to get past a SonarLint issue in my Spring Boot app. Even after a null check, I still get \r\n```\r\nA &quot;NullPointerException&quot; could be thrown; &quot;getBody()&quot; is nullable here.\r\n```\r\n\r\nOther questions have mentioned assigning it to a variable (thus the `Object resBody`) but that is also not working. \r\n\r\n```\r\npublic ResponseEntity&lt;Object&gt; doSomethingCool(String foo, String bar) {\r\n        ResponseEntity&lt;Object&gt; res;\r\n\r\n        try {\r\n\t\t\tres = myService.doTheWork(foo, bar);\r\n\r\n\t\t\tif (res.hasBody() &amp;&amp; res.getBody() != null) {\r\n\t\t\t\tObject resBody = res.getBody(); \r\n\t\t\t\tif (res.getStatusCode() == HttpStatus.OK) {\r\n\t\t\t\t  \tmyLogger(resBody.toString(), res.getStatusCode());\r\n                }\r\n             }\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn customErrorHandling(res, e);\r\n\t\t}\r\n\t\treturn res;\r\n         \r\n\t}\r\n```\r\n\r\nHow can a getBody() still be null inside of a code block that checks against null? How do I fix this in SonarLint? \r\n","title":"SonarLint res.getBody() can be null even after a null check","body":"<p>I can't seem to get past a SonarLint issue in my Spring Boot app. Even after a null check, I still get</p>\n<pre><code>A &quot;NullPointerException&quot; could be thrown; &quot;getBody()&quot; is nullable here.\n</code></pre>\n<p>Other questions have mentioned assigning it to a variable (thus the <code>Object resBody</code>) but that is also not working.</p>\n<pre><code>public ResponseEntity&lt;Object&gt; doSomethingCool(String foo, String bar) {\n        ResponseEntity&lt;Object&gt; res;\n\n        try {\n            res = myService.doTheWork(foo, bar);\n\n            if (res.hasBody() &amp;&amp; res.getBody() != null) {\n                Object resBody = res.getBody(); \n                if (res.getStatusCode() == HttpStatus.OK) {\n                    myLogger(resBody.toString(), res.getStatusCode());\n                }\n             }\n        } catch (Exception e) {\n            return customErrorHandling(res, e);\n        }\n        return res;\n         \n    }\n</code></pre>\n<p>How can a getBody() still be null inside of a code block that checks against null? How do I fix this in SonarLint?</p>\n"},{"tags":["java","spring-security","oauth-2.0","apple-sign-in"],"owner":{"account_id":25435729,"reputation":21,"user_id":19239484,"display_name":"Damian Lasończyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1075,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1683659691,"creation_date":1653993996,"question_id":72446383,"body_markdown":"has anyone done Apple login for oauth2 in Spring Security?&lt;br/&gt;\r\nI have written all oauth2 logic for Facebook and Google and here the whole mechanism works fine, but I have a problem with Apple. I have methods to create client-secret based on p8 key, but I don&#39;t know at what point to plug it in, since it uses /api/oauth2/authorize/apple with oauth2.\r\nBelow I submit a method to make a request to Apple, but when to call it on the oauth2 side? Where in react native do I still get this code to be sent from iOS?&lt;br/&gt;&lt;br/&gt;\r\nCould I get some help as I&#39;ve been sitting for a few days now and don&#39;t really know how to bite this Apple.\r\n\r\nAction to verify apple:\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class AppleRestTemplate {\r\n    \r\n        private final JwtTokenUtil jwtTokenUtil;\r\n    \r\n        @Value(&quot;${spring.security.oauth2.client.provider.apple.tokenUri}&quot;)\r\n        private String tokenUrl;\r\n    \r\n        @Value(&quot;${spring.security.oauth2.client.provider.apple.jwkSetUri}&quot;)\r\n        private String jwkSetUrl;\r\n    \r\n        @Value(&quot;${spring.security.oauth2.client.registration.apple.client-id}&quot;)\r\n        private String clientId;\r\n    \r\n        @Value(&quot;${spring.security.oauth2.client.registration.apple.redirectUri}&quot;)\r\n        private String redirectUri;\r\n    \r\n        public String getAuthTokenFromApple(String code) throws Exception {\r\n            RestTemplate restTemplate = new RestTemplate();\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.set(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n            MultiValueMap&lt;String, String&gt; parameters = new LinkedMultiValueMap&lt;&gt;();\r\n            parameters.add(&quot;client_id&quot;, clientId);\r\n            parameters.add(&quot;client_secret&quot;, jwtTokenUtil.generateJWT());\r\n            parameters.add(&quot;code&quot;, code);\r\n            parameters.add(&quot;grant_type&quot;, &quot;authorization_code&quot;);\r\n            parameters.add(&quot;redirect_uri&quot;, redirectUri);\r\n            HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; entity = new HttpEntity&lt;&gt;(parameters, headers);\r\n    \r\n            ResponseEntity&lt;String&gt; responseEntity = restTemplate.postForEntity(tokenUrl, entity, String.class);\r\n            if (responseEntity.getStatusCode().is2xxSuccessful()) {\r\n                AppleIdTokenResponse appleIdTokenResponse = new ObjectMapper().readValue(responseEntity.getBody(), AppleIdTokenResponse.class);\r\n                System.out.println(appleIdTokenResponse.getId_token());\r\n                return getUserInfo(appleIdTokenResponse);\r\n            }\r\n            return &quot;Failed to Auth Token&quot;;\r\n        }\r\n    \r\n        private String getUserInfo(AppleIdTokenResponse appleIdTokenResponse) throws InvalidKeySpecException, NoSuchAlgorithmException {\r\n            RestTemplate restTemplate = new RestTemplate();\r\n            ResponseEntity&lt;Key&gt; responseEntity = restTemplate.getForEntity(jwkSetUrl, Key.class);\r\n            if (responseEntity.getStatusCode().is2xxSuccessful()) {\r\n                System.out.println(Objects.requireNonNull(responseEntity.getBody()).getKeys().size());\r\n                return jwtTokenUtil.createPublicKeyApple(appleIdTokenResponse, responseEntity.getBody().getKeys());\r\n            }\r\n    \r\n            return &quot;Email id Not Found&quot;;\r\n        }\r\n    }\r\n\r\nClient Secret - I do with this code:\r\n\r\n    \r\n\r\n    public String generateJWT() throws Exception {\r\n        PrivateKey pKey = generatePrivateKey();\r\n        return Jwts.builder()\r\n                .setHeaderParam(JwsHeader.KEY_ID, appleKeyId)\r\n                .setIssuer(appleTeamId)\r\n                .setAudience(&quot;https://appleid.apple.com&quot;)\r\n                .setSubject(clientId)\r\n                .setExpiration(new Date(System.currentTimeMillis() + (1000 * 60 * 5)))\r\n                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .signWith(SignatureAlgorithm.ES256, pKey)\r\n                .compact();\r\n    }\r\n    \r\n    private PrivateKey generatePrivateKey() throws Exception {\r\n        File file = ResourceUtils.getFile(&quot;classpath:apple/AuthKey_KGVBF46FGM.p8&quot;);\r\n        final PEMParser pemParser = new PEMParser(new FileReader(file));\r\n        final JcaPEMKeyConverter converter = new JcaPEMKeyConverter();\r\n        final PrivateKeyInfo object = (PrivateKeyInfo) pemParser.readObject();\r\n        final PrivateKey pKey = converter.getPrivateKey(object);\r\n        pemParser.close();\r\n        return pKey;\r\n    }\r\n\r\nAnd this is my config in Spring Security:\r\n\r\n    .oauth2Login()\r\n                        .loginPage(&quot;/&quot;)\r\n                        .authorizationEndpoint()\r\n                            .baseUri(&quot;/api/oauth2/authorize&quot;)\r\n                            .authorizationRequestRepository(cookieAuthorizationRequestRepository())\r\n                            .and()\r\n                        .redirectionEndpoint()\r\n                            .baseUri(&quot;/api/oauth2/callback/*&quot;)\r\n                            .and()\r\n                        .userInfoEndpoint()\r\n                        .userService(customOAuth2UserService)\r\n                        .and()\r\n                        .successHandler(oAuth2AuthenticationSuccessHandler)\r\n                        .failureHandler((request, response, exception) -&gt; response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;))\r\n\r\n[code to verify apple][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BQmXH.jpg\r\n","title":"Spring Security - Apple Sign in with oauth2","body":"<p>has anyone done Apple login for oauth2 in Spring Security?<br/>\nI have written all oauth2 logic for Facebook and Google and here the whole mechanism works fine, but I have a problem with Apple. I have methods to create client-secret based on p8 key, but I don't know at what point to plug it in, since it uses /api/oauth2/authorize/apple with oauth2.\nBelow I submit a method to make a request to Apple, but when to call it on the oauth2 side? Where in react native do I still get this code to be sent from iOS?<br/><br/>\nCould I get some help as I've been sitting for a few days now and don't really know how to bite this Apple.</p>\n<p>Action to verify apple:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class AppleRestTemplate {\n\n    private final JwtTokenUtil jwtTokenUtil;\n\n    @Value(&quot;${spring.security.oauth2.client.provider.apple.tokenUri}&quot;)\n    private String tokenUrl;\n\n    @Value(&quot;${spring.security.oauth2.client.provider.apple.jwkSetUri}&quot;)\n    private String jwkSetUrl;\n\n    @Value(&quot;${spring.security.oauth2.client.registration.apple.client-id}&quot;)\n    private String clientId;\n\n    @Value(&quot;${spring.security.oauth2.client.registration.apple.redirectUri}&quot;)\n    private String redirectUri;\n\n    public String getAuthTokenFromApple(String code) throws Exception {\n        RestTemplate restTemplate = new RestTemplate();\n        HttpHeaders headers = new HttpHeaders();\n        headers.set(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n        MultiValueMap&lt;String, String&gt; parameters = new LinkedMultiValueMap&lt;&gt;();\n        parameters.add(&quot;client_id&quot;, clientId);\n        parameters.add(&quot;client_secret&quot;, jwtTokenUtil.generateJWT());\n        parameters.add(&quot;code&quot;, code);\n        parameters.add(&quot;grant_type&quot;, &quot;authorization_code&quot;);\n        parameters.add(&quot;redirect_uri&quot;, redirectUri);\n        HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; entity = new HttpEntity&lt;&gt;(parameters, headers);\n\n        ResponseEntity&lt;String&gt; responseEntity = restTemplate.postForEntity(tokenUrl, entity, String.class);\n        if (responseEntity.getStatusCode().is2xxSuccessful()) {\n            AppleIdTokenResponse appleIdTokenResponse = new ObjectMapper().readValue(responseEntity.getBody(), AppleIdTokenResponse.class);\n            System.out.println(appleIdTokenResponse.getId_token());\n            return getUserInfo(appleIdTokenResponse);\n        }\n        return &quot;Failed to Auth Token&quot;;\n    }\n\n    private String getUserInfo(AppleIdTokenResponse appleIdTokenResponse) throws InvalidKeySpecException, NoSuchAlgorithmException {\n        RestTemplate restTemplate = new RestTemplate();\n        ResponseEntity&lt;Key&gt; responseEntity = restTemplate.getForEntity(jwkSetUrl, Key.class);\n        if (responseEntity.getStatusCode().is2xxSuccessful()) {\n            System.out.println(Objects.requireNonNull(responseEntity.getBody()).getKeys().size());\n            return jwtTokenUtil.createPublicKeyApple(appleIdTokenResponse, responseEntity.getBody().getKeys());\n        }\n\n        return &quot;Email id Not Found&quot;;\n    }\n}\n</code></pre>\n<p>Client Secret - I do with this code:</p>\n<pre><code>public String generateJWT() throws Exception {\n    PrivateKey pKey = generatePrivateKey();\n    return Jwts.builder()\n            .setHeaderParam(JwsHeader.KEY_ID, appleKeyId)\n            .setIssuer(appleTeamId)\n            .setAudience(&quot;https://appleid.apple.com&quot;)\n            .setSubject(clientId)\n            .setExpiration(new Date(System.currentTimeMillis() + (1000 * 60 * 5)))\n            .setIssuedAt(new Date(System.currentTimeMillis()))\n            .signWith(SignatureAlgorithm.ES256, pKey)\n            .compact();\n}\n\nprivate PrivateKey generatePrivateKey() throws Exception {\n    File file = ResourceUtils.getFile(&quot;classpath:apple/AuthKey_KGVBF46FGM.p8&quot;);\n    final PEMParser pemParser = new PEMParser(new FileReader(file));\n    final JcaPEMKeyConverter converter = new JcaPEMKeyConverter();\n    final PrivateKeyInfo object = (PrivateKeyInfo) pemParser.readObject();\n    final PrivateKey pKey = converter.getPrivateKey(object);\n    pemParser.close();\n    return pKey;\n}\n</code></pre>\n<p>And this is my config in Spring Security:</p>\n<pre><code>.oauth2Login()\n                    .loginPage(&quot;/&quot;)\n                    .authorizationEndpoint()\n                        .baseUri(&quot;/api/oauth2/authorize&quot;)\n                        .authorizationRequestRepository(cookieAuthorizationRequestRepository())\n                        .and()\n                    .redirectionEndpoint()\n                        .baseUri(&quot;/api/oauth2/callback/*&quot;)\n                        .and()\n                    .userInfoEndpoint()\n                    .userService(customOAuth2UserService)\n                    .and()\n                    .successHandler(oAuth2AuthenticationSuccessHandler)\n                    .failureHandler((request, response, exception) -&gt; response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;))\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/BQmXH.jpg\" rel=\"nofollow noreferrer\">code to verify apple</a></p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":21243508,"reputation":196,"user_id":15626560,"display_name":"reactiveself"},"score":1,"creation_date":1656567413,"post_id":72810153,"comment_id":128605326,"body_markdown":"Consider using bitVal operations with enum, eg: FINANCE1(1), FINANCE2(2), FINANACE_ADMIN(4). Now you can evaluate userGrantedrole.getBitVal() &gt;= neededRole.getBitVal().  This way ADMIN with 4 will grant FIN1, FIN2 and ADMIN","body":"Consider using bitVal operations with enum, eg: FINANCE1(1), FINANCE2(2), FINANACE_ADMIN(4). Now you can evaluate userGrantedrole.getBitVal() &gt;= neededRole.getBitVal().  This way ADMIN with 4 will grant FIN1, FIN2 and ADMIN"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1656568503,"post_id":72810153,"comment_id":128605561,"body_markdown":"Spring Security has [Hierarchical Roles](https://docs.spring.io/spring-security/reference/5.7.0-RC1/servlet/authorization/architecture.html#authz-hierarchical-roles) for that. Or you could also use [Group Authorities](https://docs.spring.io/spring-security/reference/5.7.0-M1/servlet/appendix/database-schema.html#_group_authorities) where each role is just a collection of authorities, that way you just need to check the authority **not** the role. Which makes it easy to configure whatever roles you want (as they are just a collection of authorities).","body":"Spring Security has <a href=\"https://docs.spring.io/spring-security/reference/5.7.0-RC1/servlet/authorization/architecture.html#authz-hierarchical-roles\" rel=\"nofollow noreferrer\">Hierarchical Roles</a> for that. Or you could also use <a href=\"https://docs.spring.io/spring-security/reference/5.7.0-M1/servlet/appendix/database-schema.html#_group_authorities\" rel=\"nofollow noreferrer\">Group Authorities</a> where each role is just a collection of authorities, that way you just need to check the authority <b>not</b> the role. Which makes it easy to configure whatever roles you want (as they are just a collection of authorities)."},{"owner":{"account_id":12257637,"reputation":587,"user_id":15040818,"display_name":"Oirampok"},"score":0,"creation_date":1656595926,"post_id":72810153,"comment_id":128615444,"body_markdown":"@reactiveself is this natively supported in spring security or do i have to implement it custom?","body":"@reactiveself is this natively supported in spring security or do i have to implement it custom?"},{"owner":{"account_id":12257637,"reputation":587,"user_id":15040818,"display_name":"Oirampok"},"score":0,"creation_date":1656595961,"post_id":72810153,"comment_id":128615462,"body_markdown":"@M.Deinum Hierarchial roles sounds like a good start, ill give it a go thanks.","body":"@M.Deinum Hierarchial roles sounds like a good start, ill give it a go thanks."},{"owner":{"account_id":21243508,"reputation":196,"user_id":15626560,"display_name":"reactiveself"},"score":1,"creation_date":1656626244,"post_id":72810153,"comment_id":128625431,"body_markdown":"Yes indeed. Hierarchical Roles are better fit.","body":"Yes indeed. Hierarchical Roles are better fit."}],"answers":[{"tags":[],"owner":{"account_id":12257637,"reputation":587,"user_id":15040818,"display_name":"Oirampok"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656602891,"creation_date":1656602891,"answer_id":72818394,"question_id":72810153,"body_markdown":"Here&#39;s how I ended up going about this, thanks to M. Deinum for showing me that Hierarchial Roles exist in spring security. \r\n\r\nSo what I did was create Role Hiearchies like so:\r\n\r\n    @Bean\r\n        public RoleHierarchyImpl roleHierarchy() {\r\n            RoleHierarchyImpl roleHierarchy = new RoleHierarchyImpl();\r\n            roleHierarchy.setHierarchy(\r\n                    &quot;ROLE_BOSS &gt; ROLE_FINANCE_HEAD &gt; ROLE_FINANCE_ADMIN &gt; ROLE_FINANCE_3 &gt; ROLE_FINANCE_2 &gt; ROLE_FINANCE_1&quot; \r\n            return roleHierarchy;\r\n        }\r\n\r\n    private SecurityExpressionHandler&lt;FilterInvocation&gt; webExpressionHandler() {\r\n            DefaultWebSecurityExpressionHandler defaultWebSecurityExpressionHandler = new DefaultWebSecurityExpressionHandler();\r\n            defaultWebSecurityExpressionHandler.setRoleHierarchy(roleHierarchy());\r\n            return defaultWebSecurityExpressionHandler;\r\n        }\r\n\r\nand then add them to my security configuration like so: \r\n\r\n    http                   \r\n        .authorizeRequests().anyRequest().authenticated()\r\n        .expressionHandler(webExpressionHandler())\r\n\r\nso now instead of \r\n\r\n       @PreAuthorize(&quot;hasAuthority(&#39;FinanceHead&#39;) or hasAuthority(&#39;FinanceAdmin&#39;) or hasAuthority(&#39;Finance3&#39;) or hasAuthority(&#39;Finance2&#39;) or hasAuthority(&#39;Finance1&#39;)&quot;)\r\n       @GetMapping(&quot;/test&quot;)\r\n        public ResponseEntity&lt;String&gt; test1() {\r\n            return new ResponseEntity&lt;&gt;(&quot;Test&quot;, HttpStatus.OK);\r\n        }\r\n\r\nI can simply go \r\n\r\n    @PreAuthorize(&quot;hasRole(&#39;ROLE_ADMIN_3&#39;)&quot;)\r\n    @GetMapping(&quot;/test&quot;)\r\n    public ResponseEntity&lt;String&gt; test1() {\r\n        return new ResponseEntity&lt;&gt;(&quot;Test&quot;, HttpStatus.OK);\r\n    }\r\n\r\nAnd if the request has any of the following roles: \r\n\r\n    ROLE_BOSS, ROLE_FINANCE_HEAD, ROLE_FINANCE_ADMIN, ROLE_FINANCE_3 \r\n\r\nThe request will be done, else a 403 is thrown. \r\n\r\n","title":"A better way to implement a large amount of cascading roles and authorities in Spring Security?","body":"<p>Here's how I ended up going about this, thanks to M. Deinum for showing me that Hierarchial Roles exist in spring security.</p>\n<p>So what I did was create Role Hiearchies like so:</p>\n<pre><code>@Bean\n    public RoleHierarchyImpl roleHierarchy() {\n        RoleHierarchyImpl roleHierarchy = new RoleHierarchyImpl();\n        roleHierarchy.setHierarchy(\n                &quot;ROLE_BOSS &gt; ROLE_FINANCE_HEAD &gt; ROLE_FINANCE_ADMIN &gt; ROLE_FINANCE_3 &gt; ROLE_FINANCE_2 &gt; ROLE_FINANCE_1&quot; \n        return roleHierarchy;\n    }\n\nprivate SecurityExpressionHandler&lt;FilterInvocation&gt; webExpressionHandler() {\n        DefaultWebSecurityExpressionHandler defaultWebSecurityExpressionHandler = new DefaultWebSecurityExpressionHandler();\n        defaultWebSecurityExpressionHandler.setRoleHierarchy(roleHierarchy());\n        return defaultWebSecurityExpressionHandler;\n    }\n</code></pre>\n<p>and then add them to my security configuration like so:</p>\n<pre><code>http                   \n    .authorizeRequests().anyRequest().authenticated()\n    .expressionHandler(webExpressionHandler())\n</code></pre>\n<p>so now instead of</p>\n<pre><code>   @PreAuthorize(&quot;hasAuthority('FinanceHead') or hasAuthority('FinanceAdmin') or hasAuthority('Finance3') or hasAuthority('Finance2') or hasAuthority('Finance1')&quot;)\n   @GetMapping(&quot;/test&quot;)\n    public ResponseEntity&lt;String&gt; test1() {\n        return new ResponseEntity&lt;&gt;(&quot;Test&quot;, HttpStatus.OK);\n    }\n</code></pre>\n<p>I can simply go</p>\n<pre><code>@PreAuthorize(&quot;hasRole('ROLE_ADMIN_3')&quot;)\n@GetMapping(&quot;/test&quot;)\npublic ResponseEntity&lt;String&gt; test1() {\n    return new ResponseEntity&lt;&gt;(&quot;Test&quot;, HttpStatus.OK);\n}\n</code></pre>\n<p>And if the request has any of the following roles:</p>\n<pre><code>ROLE_BOSS, ROLE_FINANCE_HEAD, ROLE_FINANCE_ADMIN, ROLE_FINANCE_3 \n</code></pre>\n<p>The request will be done, else a 403 is thrown.</p>\n"}],"owner":{"account_id":12257637,"reputation":587,"user_id":15040818,"display_name":"Oirampok"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72818394,"answer_count":1,"score":3,"last_activity_date":1683658748,"creation_date":1656561500,"question_id":72810153,"body_markdown":"So i&#39;m currently refactoring the backend code for my organization to prep for future upgrades. It currently runs fine, its just that the code is getting quite messy because of the sheer amount of roles and authorizations that exist in this org. \r\n\r\nSo our backend stack here is a simple springboot Rest API, we use a third party Oauth authentication provider as our security provider.  \r\n\r\nSo for every request that comes in, we have a spring security filter that gets the users roles from the authenthication header JWT and assigns authorizations based on that. \r\n\r\n        List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n        for (Map.Entry&lt;String,Object&gt; role : user.getCustomClaims().entrySet()) {\r\n            authorities.add(new SimpleGrantedAuthority((String) user.getCustomClaims().get(&quot;role&quot;)));\r\n        }\r\n        SecurityContextHolder.getContext().setAuthentication(new UsernamePasswordAuthenticationToken(user.getEmail(), user.getUid(), authorities));\r\n        filterChain.doFilter(request, response);\r\n\r\nNow the &quot;problem&quot; exists because of the number of roles and authenthications that exist, when this was first made the company was a simple startup 8 years ago with 10 employees, now it&#39;s a middle sized company with 500~ employees. So the number of roles and authorities has grown exponentially. \r\n\r\nFor example just for the finance department, we currently have 5 levels of authority, and they all cascade one another. \r\n\r\n- Finance Head\r\n- Finance Admin\r\n- Finance 3\r\n- Finance 2\r\n- Finance 1\r\n\r\nWherein Finance Admin has all the permissions of Finance 3 + its own exclusive permissions and so on. \r\n\r\nAnd each endpoint in the rest API end up looking like this: \r\n\r\n    @PreAuthorize(&quot;hasAuthority(&#39;FinanceHead&#39;) or hasAuthority(&#39;FinanceAdmin&#39;) or hasAuthority(&#39;Finance3&#39;) or hasAuthority(&#39;Finance2&#39;) or hasAuthority(&#39;Finance1&#39;)&quot;)\r\n\r\nwith many endpoints that are multi-department having 20+ hasAuthorities. Dont get me wrong this currently works fine, but its becoming a pain to change one role as then id have to search all endpoints and change each one. Is there a better way to do this? \r\n\r\nI was thingking it might be possible to Override the GrantedAuthority object into something like this: \r\n\r\n    public class GrantedAuthority {\r\n        String role; (&quot;Finance&quot;,&quot;Logistics&quot;, etc)\r\n        int authLevel; (1,2,3,4,5)\r\n    }\r\n\r\nThat way i can do hasRole(&quot;Finance&quot;) at for each main endpoint and then use \r\nhasAuth(&gt;3) for each method in in any further endpoints, something like this: \r\n\r\n    @PreAuthorize(&quot;hasRole(&#39;Finance&#39;)\r\n    @CrossOrigin\r\n    @RestController\r\n    @RequestMapping(&quot;/test&quot;)\r\n    public class test {\r\n    \r\n    @PreAuthorize(&quot;hasAuthority(&#39;authLevel &gt; 3&#39;)\r\n    @GetMapping\r\n        public ResponseEntity&lt;String&gt; ping() {\r\n            return new ResponseEntity&lt;&gt;(&quot;test&quot;, HttpStatus.OK);\r\n        }\r\n    }\r\n\r\nIs there a better way to do this? ","title":"A better way to implement a large amount of cascading roles and authorities in Spring Security?","body":"<p>So i'm currently refactoring the backend code for my organization to prep for future upgrades. It currently runs fine, its just that the code is getting quite messy because of the sheer amount of roles and authorizations that exist in this org.</p>\n<p>So our backend stack here is a simple springboot Rest API, we use a third party Oauth authentication provider as our security provider.</p>\n<p>So for every request that comes in, we have a spring security filter that gets the users roles from the authenthication header JWT and assigns authorizations based on that.</p>\n<pre><code>    List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n    for (Map.Entry&lt;String,Object&gt; role : user.getCustomClaims().entrySet()) {\n        authorities.add(new SimpleGrantedAuthority((String) user.getCustomClaims().get(&quot;role&quot;)));\n    }\n    SecurityContextHolder.getContext().setAuthentication(new UsernamePasswordAuthenticationToken(user.getEmail(), user.getUid(), authorities));\n    filterChain.doFilter(request, response);\n</code></pre>\n<p>Now the &quot;problem&quot; exists because of the number of roles and authenthications that exist, when this was first made the company was a simple startup 8 years ago with 10 employees, now it's a middle sized company with 500~ employees. So the number of roles and authorities has grown exponentially.</p>\n<p>For example just for the finance department, we currently have 5 levels of authority, and they all cascade one another.</p>\n<ul>\n<li>Finance Head</li>\n<li>Finance Admin</li>\n<li>Finance 3</li>\n<li>Finance 2</li>\n<li>Finance 1</li>\n</ul>\n<p>Wherein Finance Admin has all the permissions of Finance 3 + its own exclusive permissions and so on.</p>\n<p>And each endpoint in the rest API end up looking like this:</p>\n<pre><code>@PreAuthorize(&quot;hasAuthority('FinanceHead') or hasAuthority('FinanceAdmin') or hasAuthority('Finance3') or hasAuthority('Finance2') or hasAuthority('Finance1')&quot;)\n</code></pre>\n<p>with many endpoints that are multi-department having 20+ hasAuthorities. Dont get me wrong this currently works fine, but its becoming a pain to change one role as then id have to search all endpoints and change each one. Is there a better way to do this?</p>\n<p>I was thingking it might be possible to Override the GrantedAuthority object into something like this:</p>\n<pre><code>public class GrantedAuthority {\n    String role; (&quot;Finance&quot;,&quot;Logistics&quot;, etc)\n    int authLevel; (1,2,3,4,5)\n}\n</code></pre>\n<p>That way i can do hasRole(&quot;Finance&quot;) at for each main endpoint and then use\nhasAuth(&gt;3) for each method in in any further endpoints, something like this:</p>\n<pre><code>@PreAuthorize(&quot;hasRole('Finance')\n@CrossOrigin\n@RestController\n@RequestMapping(&quot;/test&quot;)\npublic class test {\n\n@PreAuthorize(&quot;hasAuthority('authLevel &gt; 3')\n@GetMapping\n    public ResponseEntity&lt;String&gt; ping() {\n        return new ResponseEntity&lt;&gt;(&quot;test&quot;, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>Is there a better way to do this?</p>\n"},{"tags":["java","angular","spring-boot","spring-security","oauth-2.0"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1657537232,"post_id":72936824,"comment_id":128825596,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1657557041,"post_id":72936824,"comment_id":128833621,"body_markdown":"This question is way to broad. The asker is basically asking for a full security oauth2 implementation. Voted to close","body":"This question is way to broad. The asker is basically asking for a full security oauth2 implementation. Voted to close"},{"owner":{"account_id":15689576,"reputation":1,"user_id":19525008,"display_name":"Kiran"},"score":1,"creation_date":1657610530,"post_id":72936824,"comment_id":128845241,"body_markdown":"@Toerktumlare, I am not asking for a full implementation just seeking a direction to proceed as per industry standards.","body":"@Toerktumlare, I am not asking for a full implementation just seeking a direction to proceed as per industry standards."}],"answers":[{"comments":[{"owner":{"account_id":15689576,"reputation":1,"user_id":19525008,"display_name":"Kiran"},"score":0,"creation_date":1657698743,"post_id":72958109,"comment_id":128869683,"body_markdown":"the problem with this one is that user roles are not maintained in ping but in separate database as the application will have different roles for each user. That is why I was looking for customizing the spring auth server","body":"the problem with this one is that user roles are not maintained in ping but in separate database as the application will have different roles for each user. That is why I was looking for customizing the spring auth server"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1657699327,"post_id":72958109,"comment_id":128869859,"body_markdown":"Maybe you can configure ping to attach roles from that database to access tokens. If ping cant, you could use a more configurable OIDC provider instead (like Keycloak). You could even use Keycloak in front of ping (ping being just an identity provider for your Keycloak instance)","body":"Maybe you can configure ping to attach roles from that database to access tokens. If ping cant, you could use a more configurable OIDC provider instead (like Keycloak). You could even use Keycloak in front of ping (ping being just an identity provider for your Keycloak instance)"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1657699560,"post_id":72958109,"comment_id":128869940,"body_markdown":"Last, you could also configure an authentication converter which queries a web-service exposing roles by user subject (or other identifier from authorization-token like email or something). I have a Keycloak mapper which does something aproaching here: https://github.com/ch4mpy/user-proxies/tree/main/api","body":"Last, you could also configure an authentication converter which queries a web-service exposing roles by user subject (or other identifier from authorization-token like email or something). I have a Keycloak mapper which does something aproaching here: <a href=\"https://github.com/ch4mpy/user-proxies/tree/main/api\" rel=\"nofollow noreferrer\">github.com/ch4mpy/user-proxies/tree/main/api</a>"}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657749134,"creation_date":1657658319,"answer_id":72958109,"question_id":72936824,"body_markdown":"Why don&#39;t you just keep things simple with regular OpenID setup?\r\n- pingfederate: authorization-server responsible for issuing authorization token holding end-user identity and roles\r\n- angular UI: client\r\n- spring Rest service: resource server with security based on end-user identity and roles from the authorization token\r\n\r\nYou might not need anything more.\r\n\r\nGet a look at this tutorial I wrote: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_oauthentication\r\n\r\nAdapting it to ping federate should be just a matter of setting a few properties:\r\n- issuer URI\r\n- which private claim to get roles from\r\n\r\n(but I haven&#39;t tried for ping federated yet).\r\n\r\nIf you happen to need more than just RBAC in resource server (RoleBasedAccessControl =&gt; security decisions based on user authorities), you might have a look at this other tutorial too: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_specialized_oauthentication\r\n\r\nEdit:\r\nstarting form the first tutorial, you could add this:\r\n```java\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic static class WebSecurityConfig {\r\n\t@Bean\r\n\tJwt2AuthoritiesConverter authoritiesConverter(RolesService rolesService) {\r\n\t\treturn jwt -&gt; rolesService.getRolesBySubject(jwt.getSubject()).stream().map(SimpleGrantedAuthority::new).toList();\r\n\t}\r\n}\r\n```\r\n```java\r\n@Service\r\npublic class RolesService {\r\n\r\n\t@Cacheable(&quot;user_roles&quot;)\r\n\tpublic Set&lt;String&gt; getRolesBySubject(String userSubject) {\r\n\t\t// FIXME: call a JPA repository or remote WebService instead\r\n\t\treturn Set.of(&quot;MACHIN&quot;);\r\n\t}\r\n}\r\n```","title":"How to secure spring boot microservices having identity provider for authentication in a stateless manner?","body":"<p>Why don't you just keep things simple with regular OpenID setup?</p>\n<ul>\n<li>pingfederate: authorization-server responsible for issuing authorization token holding end-user identity and roles</li>\n<li>angular UI: client</li>\n<li>spring Rest service: resource server with security based on end-user identity and roles from the authorization token</li>\n</ul>\n<p>You might not need anything more.</p>\n<p>Get a look at this tutorial I wrote: <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_oauthentication\" rel=\"nofollow noreferrer\">https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_oauthentication</a></p>\n<p>Adapting it to ping federate should be just a matter of setting a few properties:</p>\n<ul>\n<li>issuer URI</li>\n<li>which private claim to get roles from</li>\n</ul>\n<p>(but I haven't tried for ping federated yet).</p>\n<p>If you happen to need more than just RBAC in resource server (RoleBasedAccessControl =&gt; security decisions based on user authorities), you might have a look at this other tutorial too: <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_specialized_oauthentication\" rel=\"nofollow noreferrer\">https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_specialized_oauthentication</a></p>\n<p>Edit:\nstarting form the first tutorial, you could add this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic static class WebSecurityConfig {\n    @Bean\n    Jwt2AuthoritiesConverter authoritiesConverter(RolesService rolesService) {\n        return jwt -&gt; rolesService.getRolesBySubject(jwt.getSubject()).stream().map(SimpleGrantedAuthority::new).toList();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class RolesService {\n\n    @Cacheable(&quot;user_roles&quot;)\n    public Set&lt;String&gt; getRolesBySubject(String userSubject) {\n        // FIXME: call a JPA repository or remote WebService instead\n        return Set.of(&quot;MACHIN&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15689576,"reputation":1,"user_id":19525008,"display_name":"Kiran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1080,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683658405,"creation_date":1657533948,"question_id":72936824,"body_markdown":"How to implement security on spring-boot microservices integrated with angular UI. I have an external identity provider(Ping Federate) to support SSO and all user roles/authorities are maintained in the application database.\r\n\r\nWhat is the best approach to secure APIs? If Oauth is recommended way, how to implement it(Stateless).\r\n\r\nShould the Authorization Server be customized to connect to the\r\nidentity provider Authorization Server and generate tokens from the custom Authorization Server?\r\nor would it be better if\r\nOauth2 client generates token by loading user details from the database after successful authentication with the identity provider?\r\n\r\nI have tried to implement custom auth server, which internally connects to identity provider auth server taking reference from \r\nhttps://github.com/spring-projects/spring-authorization-server/tree/main/samples/federated-identity-authorizationserver\r\n\r\nBut it is stateful and I am looking for a stateless approach, also how to customize after successful authentication to load user roles/authorities and generated token from application database\r\n\r\n\r\nAny code samples along with suggestions will be appreciated.\r\n\r\nThanks in Advance","title":"How to secure spring boot microservices having identity provider for authentication in a stateless manner?","body":"<p>How to implement security on spring-boot microservices integrated with angular UI. I have an external identity provider(Ping Federate) to support SSO and all user roles/authorities are maintained in the application database.</p>\n<p>What is the best approach to secure APIs? If Oauth is recommended way, how to implement it(Stateless).</p>\n<p>Should the Authorization Server be customized to connect to the\nidentity provider Authorization Server and generate tokens from the custom Authorization Server?\nor would it be better if\nOauth2 client generates token by loading user details from the database after successful authentication with the identity provider?</p>\n<p>I have tried to implement custom auth server, which internally connects to identity provider auth server taking reference from\n<a href=\"https://github.com/spring-projects/spring-authorization-server/tree/main/samples/federated-identity-authorizationserver\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-authorization-server/tree/main/samples/federated-identity-authorizationserver</a></p>\n<p>But it is stateful and I am looking for a stateless approach, also how to customize after successful authentication to load user roles/authorities and generated token from application database</p>\n<p>Any code samples along with suggestions will be appreciated.</p>\n<p>Thanks in Advance</p>\n"},{"tags":["java","postgresql","hibernate","hql","criteria-api"],"answers":[{"tags":[],"owner":{"account_id":28554762,"reputation":26,"user_id":21859137,"display_name":"6 liao"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683615176,"creation_date":1683615176,"answer_id":76206580,"question_id":76005348,"body_markdown":"it has been turned out, that Types array is a size of 3, *but vae only two* values, the Integer one and the String one.","title":"java.lang.NullPointerException at org.hibernate.hql.internal.NameGenerator.generateColumnNames(NameGenerator.java:27)","body":"<p>it has been turned out, that Types array is a size of 3, <em>but vae only two</em> values, the Integer one and the String one.</p>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76206580,"answer_count":1,"score":0,"last_activity_date":1683658400,"creation_date":1681388329,"question_id":76005348,"body_markdown":"I have a problem while doing the `CriteriaAPI` multiselect from Join using the `CriteriaBuilder.function (&quot;group_concat&quot;)` with the following entities and queries:\r\n\r\n\r\n\r\n    CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n        CriteriaQuery&lt;RegistryGroupRow&gt; c = cb.createQuery(RegistryGroupRow.class);\r\n        Root&lt;RegistryGroupEntity&gt; registryGroup = c.from(RegistryGroupEntity.class);\r\n    \r\n        Join&lt;RegistryGroupEntity, ServiceEntity&gt; serviceJoin = registryGroup.join(RegistryGroupEntity_.services, JoinType.INNER);\r\n    \r\n        c.multiselect(registryGroup.get(RegistryGroupEntity_.id),\r\n                registryGroup.get(RegistryGroupEntity_.name),\r\n                cb.function(&quot;group_concat&quot;, String.class, serviceJoin.get(ServiceEntity_.name), cb.literal(true),\r\n                        cb.literal(&quot;, &quot;), serviceJoin.get(ServiceEntity_.name),\r\n                        cb.literal(&quot;DESC&quot;)).alias(&quot;name&quot;));\r\n        c.where().groupBy(registryGroup.get(RegistryGroupEntity_.name));\r\n        c.orderBy(cb.desc(registryGroup.get(RegistryGroupEntity_.id)));\r\n    \r\n        List&lt;Predicate&gt; criteria = getRegistryGroupPredicates(cb, registryGroup, filter, c);\r\n        if (criteria.size() == 1) {\r\n            c.where(criteria.get(0));\r\n        } else if (criteria.size() &gt; 0) {\r\n            c.where(cb.and(criteria.toArray(new Predicate[0])));\r\n        }\r\n    \r\n        TypedQuery&lt;RegistryGroupRow&gt; q = entityManager.createQuery(c);\r\n        Map&lt;String, Object&gt; paramValues = getRegistryGroupParamValues(filter);\r\n        for (String name : paramValues.keySet()) {\r\n            q.setParameter(name, paramValues.get(name));\r\n        }\r\n    \r\n        if (offset != null) {\r\n            q.setFirstResult(offset);\r\n        }\r\n        if (limit != null) {\r\n            q.setMaxResults(limit);\r\n        }\r\n    \r\n        return q.getResultList();\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;registry_groups&quot;)\r\n    public class RegistryGroupEntity {\r\n        @Id\r\n        @SequenceGenerator(name=&quot;registry_groups_gen&quot;, sequenceName=&quot;registry_groups_id_seq&quot;, allocationSize = 1)\r\n        @GeneratedValue(generator=&quot;registry_groups_gen&quot;)\r\n        private Integer id;\r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @OneToMany(mappedBy = &quot;registryGroup&quot;)\r\n        private Collection&lt;ServiceEntity&gt; services;\r\n    //setters-getters ommited\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;services&quot;)\r\n    public class ServiceEntity {\r\n        @Id\r\n        @SequenceGenerator(name=&quot;service_gen&quot;, sequenceName=&quot;services_id_seq&quot;, allocationSize = 1)\r\n        @GeneratedValue(generator=&quot;service_gen&quot;)\r\n        private Integer id;\r\n        @Column(nullable = false, length = 100)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;registry_group_id&quot;, insertable = false, updatable = false)\r\n        private Integer registryGroupId;\r\n    \r\n    }\r\n\r\n\r\nSo, when the query is executed, it fails with:\r\n\r\n    SEVERE: \r\n    java.lang.NullPointerException\r\n    \tat org.hibernate.hql.internal.NameGenerator.generateColumnNames(NameGenerator.java:27)\r\n    \tat org.hibernate.hql.internal.ast.util.SessionFactoryHelper.generateColumnNames(SessionFactoryHelper.java:418)\r\n    \tat org.hibernate.hql.internal.ast.tree.SelectClause.initializeColumnNames(SelectClause.java:269)\r\n    \tat org.hibernate.hql.internal.ast.tree.SelectClause.finishInitialization(SelectClause.java:259)\r\n    \tat org.hibernate.hql.internal.ast.tree.SelectClause.initializeExplicitSelectClause(SelectClause.java:254)\r\n    \tat org.hibernate.hql.internal.ast.HqlSqlWalker.useSelectClause(HqlSqlWalker.java:1011)\r\n    \tat org.hibernate.hql.internal.ast.HqlSqlWalker.processQuery(HqlSqlWalker.java:779)\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:675)\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:311)\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:259)\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:261)\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189)\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:141)\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:115)\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:77)\r\n    \tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:153)\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:545)\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:654)\r\n    \tat org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:3307)\r\n    \tat org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:318)\r\n    \tat org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:127)\r\n    \tat org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:3600)\r\n    \tat org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:203)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:301)\r\n    \tat com.sun.proxy.$Proxy111.createQuery(Unknown Source)\r\n    \tat com.openpayment.impl.dao.RegistryGroupDaoImpl.getRegistryGroupRows(RegistryGroupDaoImpl.java:247)\r\n    \tat com.openpayment.impl.service.RegistryGroupServiceImpl.getRegistryGroupRows(RegistryGroupServiceImpl.java:67)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n    \tat org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:283)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n    \tat com.sun.proxy.$Proxy174.getRegistryGroupRows(Unknown Source)\r\n    \tat com.openpayment.web.view.registry.RegistryGroupView.lambda$buildTable$7f718060$1(RegistryGroupView.java:167)\r\n    \tat com.vaadin.data.provider.CallbackDataProvider.fetchFromBackEnd(CallbackDataProvider.java:137)\r\n    \tat com.vaadin.data.provider.AbstractBackEndDataProvider.fetch(AbstractBackEndDataProvider.java:61)\r\n    \tat com.vaadin.data.provider.DataCommunicator.fetchItemsWithRange(DataCommunicator.java:404)\r\n    \tat com.vaadin.data.provider.DataCommunicator.sendDataToClient(DataCommunicator.java:377)\r\n    \tat com.vaadin.data.provider.DataCommunicator.beforeClientResponse(DataCommunicator.java:339)\r\n    \tat com.vaadin.server.communication.UidlWriter.write(UidlWriter.java:126)\r\n    \tat com.vaadin.server.communication.UidlRequestHandler.writeUidl(UidlRequestHandler.java:124)\r\n    \tat com.vaadin.server.communication.UidlRequestHandler.synchronizedHandleRequest(UidlRequestHandler.java:92)\r\n    \tat com.vaadin.server.SynchronizedRequestHandler.handleRequest(SynchronizedRequestHandler.java:40)\r\n    \tat com.vaadin.server.VaadinService.handleRequest(VaadinService.java:1606)\r\n    \tat com.vaadin.server.VaadinServlet.service(VaadinServlet.java:448)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:835)\r\n\r\nIn \r\n\r\n    generateColumnNames:25, NameGenerator (org.hibernate.hql.internal)\r\n    generateColumnNames:418, SessionFactoryHelper (org.hibernate.hql.internal.ast.util)\r\n    initializeColumnNames:269, SelectClause (org.hibernate.hql.internal.ast.tree)\r\n    finishInitialization:259, SelectClause (org.hibernate.hql.internal.ast.tree)\r\n    initializeExplicitSelectClause:254, SelectClause (org.hibernate.hql.internal.ast.tree)\r\n    useSelectClause:1011, HqlSqlWalker (org.hibernate.hql.internal.ast)\r\n    processQuery:779, HqlSqlWalker (org.hibernate.hql.internal.ast)\r\n    query:675, HqlSqlBaseWalker (org.hibernate.hql.internal.antlr)\r\n    selectStatement:311, HqlSqlBaseWalker (org.hibernate.hql.internal.antlr)\r\n    statement:259, HqlSqlBaseWalker (org.hibernate.hql.internal.antlr)\r\n    analyze:261, QueryTranslatorImpl (org.hibernate.hql.internal.ast)\r\n    doCompile:189, QueryTranslatorImpl (org.hibernate.hql.internal.ast)\r\n    compile:141, QueryTranslatorImpl (org.hibernate.hql.internal.ast)\r\n    &lt;init&gt;:115, HQLQueryPlan (org.hibernate.engine.query.spi)\r\n    &lt;init&gt;:77, HQLQueryPlan (org.hibernate.engine.query.spi)\r\n    getHQLQueryPlan:153, QueryPlanCache (org.hibernate.engine.query.spi)\r\n    getQueryPlan:545, AbstractSharedSessionContract (org.hibernate.internal)\r\n    createQuery:654, AbstractSharedSessionContract (org.hibernate.internal)\r\n    createQuery:3307, SessionImpl (org.hibernate.internal)\r\n    buildCompiledQuery:318, CriteriaQueryImpl$1 (org.hibernate.query.criteria.internal)\r\n    compile:127, CriteriaCompiler (org.hibernate.query.criteria.internal.compile)\r\n    createQuery:3600, SessionImpl (org.hibernate.internal)\r\n    createQuery:203, SessionImpl (org.hibernate.internal)\r\n    invoke0:-1, NativeMethodAccessorImpl (jdk.internal.reflect)\r\n    invoke:62, NativeMethodAccessorImpl (jdk.internal.reflect)\r\n    invoke:43, DelegatingMethodAccessorImpl (jdk.internal.reflect)\r\n    invoke:567, Method (java.lang.reflect)\r\n    invoke:301, SharedEntityManagerCreator$SharedEntityManagerInvocationHandler (org.springframework.orm.jpa)\r\n    createQuery:-1, $Proxy111 (com.sun.proxy)\r\n    getRegistryGroupRows:247, RegistryGroupDaoImpl (com.openpayment.impl.dao)\r\n    getRegistryGroupRows:67, RegistryGroupServiceImpl (com.openpayment.impl.service)\r\n    invoke0:-1, NativeMethodAccessorImpl (jdk.internal.reflect)\r\n    invoke:62, NativeMethodAccessorImpl (jdk.internal.reflect)\r\n    invoke:43, DelegatingMethodAccessorImpl (jdk.internal.reflect)\r\n    invoke:567, Method (java.lang.reflect)\r\n    invokeJoinpointUsingReflection:333, AopUtils (org.springframework.aop.support)\r\n    invokeJoinpoint:190, ReflectiveMethodInvocation (org.springframework.aop.framework)\r\n    proceed:157, ReflectiveMethodInvocation (org.springframework.aop.framework)\r\n    invoke:69, MethodSecurityInterceptor (org.springframework.security.access.intercept.aopalliance)\r\n    proceed:179, ReflectiveMethodInvocation (org.springframework.aop.framework)\r\n    proceedWithInvocation:99, TransactionInterceptor$1 (org.springframework.transaction.interceptor)\r\n    invokeWithinTransaction:283, TransactionAspectSupport (org.springframework.transaction.interceptor)\r\n    invoke:96, TransactionInterceptor (org.springframework.transaction.interceptor)\r\n    proceed:179, ReflectiveMethodInvocation (org.springframework.aop.framework)\r\n    invoke:213, JdkDynamicAopProxy (org.springframework.aop.framework)\r\n    getRegistryGroupRows:-1, $Proxy174 (com.sun.proxy)\r\n    lambda$buildTable$7f718060$1:167, RegistryGroupView (com.openpayment.web.view.registry)\r\n    fetch:-1, 1332458831 (com.openpayment.web.view.registry.RegistryGroupView$$Lambda$332)\r\n    fetchFromBackEnd:137, CallbackDataProvider (com.vaadin.data.provider)\r\n    fetch:61, AbstractBackEndDataProvider (com.vaadin.data.provider)\r\n    fetchItemsWithRange:404, DataCommunicator (com.vaadin.data.provider)\r\n    sendDataToClient:377, DataCommunicator (com.vaadin.data.provider)\r\n    beforeClientResponse:339, DataCommunicator (com.vaadin.data.provider)\r\n    write:126, UidlWriter (com.vaadin.server.communication)\r\n    writeUidl:124, UidlRequestHandler (com.vaadin.server.communication)\r\n    synchronizedHandleRequest:92, UidlRequestHandler (com.vaadin.server.communication)\r\n    handleRequest:40, SynchronizedRequestHandler (com.vaadin.server)\r\n    handleRequest:1606, VaadinService (com.vaadin.server)\r\n    service:448, VaadinServlet (com.vaadin.server)\r\n    service:728, HttpServlet (javax.servlet.http)\r\n    internalDoFilter:305, ApplicationFilterChain (org.apache.catalina.core)\r\n    doFilter:210, ApplicationFilterChain (org.apache.catalina.core)\r\n    doFilter:51, WsFilter (org.apache.tomcat.websocket.server)\r\n    internalDoFilter:243, ApplicationFilterChain (org.apache.catalina.core)\r\n    doFilter:210, ApplicationFilterChain (org.apache.catalina.core)\r\n    invoke:222, StandardWrapperValve (org.apache.catalina.core)\r\n    invoke:123, StandardContextValve (org.apache.catalina.core)\r\n    invoke:502, AuthenticatorBase (org.apache.catalina.authenticator)\r\n    invoke:171, StandardHostValve (org.apache.catalina.core)\r\n    invoke:100, ErrorReportValve (org.apache.catalina.valves)\r\n    invoke:953, AccessLogValve (org.apache.catalina.valves)\r\n    invoke:118, StandardEngineValve (org.apache.catalina.core)\r\n    service:408, CoyoteAdapter (org.apache.catalina.connector)\r\n    process:1041, AbstractHttp11Processor (org.apache.coyote.http11)\r\n    process:603, AbstractProtocol$AbstractConnectionHandler (org.apache.coyote)\r\n    run:312, JIoEndpoint$SocketProcessor (org.apache.tomcat.util.net)\r\n    runWorker:1128, ThreadPoolExecutor (java.util.concurrent)\r\n    run:628, ThreadPoolExecutor$Worker (java.util.concurrent)\r\n    run:835, Thread (java.lang)\r\n\r\nit has been turned out, that Types array is a size of 3, but have only two values, the Integer one and the String one. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2EuTa.png","title":"java.lang.NullPointerException at org.hibernate.hql.internal.NameGenerator.generateColumnNames(NameGenerator.java:27)","body":"<p>I have a problem while doing the <code>CriteriaAPI</code> multiselect from Join using the <code>CriteriaBuilder.function (&quot;group_concat&quot;)</code> with the following entities and queries:</p>\n<pre><code>CriteriaBuilder cb = entityManager.getCriteriaBuilder();\n    CriteriaQuery&lt;RegistryGroupRow&gt; c = cb.createQuery(RegistryGroupRow.class);\n    Root&lt;RegistryGroupEntity&gt; registryGroup = c.from(RegistryGroupEntity.class);\n\n    Join&lt;RegistryGroupEntity, ServiceEntity&gt; serviceJoin = registryGroup.join(RegistryGroupEntity_.services, JoinType.INNER);\n\n    c.multiselect(registryGroup.get(RegistryGroupEntity_.id),\n            registryGroup.get(RegistryGroupEntity_.name),\n            cb.function(&quot;group_concat&quot;, String.class, serviceJoin.get(ServiceEntity_.name), cb.literal(true),\n                    cb.literal(&quot;, &quot;), serviceJoin.get(ServiceEntity_.name),\n                    cb.literal(&quot;DESC&quot;)).alias(&quot;name&quot;));\n    c.where().groupBy(registryGroup.get(RegistryGroupEntity_.name));\n    c.orderBy(cb.desc(registryGroup.get(RegistryGroupEntity_.id)));\n\n    List&lt;Predicate&gt; criteria = getRegistryGroupPredicates(cb, registryGroup, filter, c);\n    if (criteria.size() == 1) {\n        c.where(criteria.get(0));\n    } else if (criteria.size() &gt; 0) {\n        c.where(cb.and(criteria.toArray(new Predicate[0])));\n    }\n\n    TypedQuery&lt;RegistryGroupRow&gt; q = entityManager.createQuery(c);\n    Map&lt;String, Object&gt; paramValues = getRegistryGroupParamValues(filter);\n    for (String name : paramValues.keySet()) {\n        q.setParameter(name, paramValues.get(name));\n    }\n\n    if (offset != null) {\n        q.setFirstResult(offset);\n    }\n    if (limit != null) {\n        q.setMaxResults(limit);\n    }\n\n    return q.getResultList();\n\n\n@Entity\n@Table(name = &quot;registry_groups&quot;)\npublic class RegistryGroupEntity {\n    @Id\n    @SequenceGenerator(name=&quot;registry_groups_gen&quot;, sequenceName=&quot;registry_groups_id_seq&quot;, allocationSize = 1)\n    @GeneratedValue(generator=&quot;registry_groups_gen&quot;)\n    private Integer id;\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;registryGroup&quot;)\n    private Collection&lt;ServiceEntity&gt; services;\n//setters-getters ommited\n}\n\n@Entity\n@Table(name = &quot;services&quot;)\npublic class ServiceEntity {\n    @Id\n    @SequenceGenerator(name=&quot;service_gen&quot;, sequenceName=&quot;services_id_seq&quot;, allocationSize = 1)\n    @GeneratedValue(generator=&quot;service_gen&quot;)\n    private Integer id;\n    @Column(nullable = false, length = 100)\n    private String name;\n\n    @Column(name = &quot;registry_group_id&quot;, insertable = false, updatable = false)\n    private Integer registryGroupId;\n\n}\n</code></pre>\n<p>So, when the query is executed, it fails with:</p>\n<pre><code>SEVERE: \njava.lang.NullPointerException\n    at org.hibernate.hql.internal.NameGenerator.generateColumnNames(NameGenerator.java:27)\n    at org.hibernate.hql.internal.ast.util.SessionFactoryHelper.generateColumnNames(SessionFactoryHelper.java:418)\n    at org.hibernate.hql.internal.ast.tree.SelectClause.initializeColumnNames(SelectClause.java:269)\n    at org.hibernate.hql.internal.ast.tree.SelectClause.finishInitialization(SelectClause.java:259)\n    at org.hibernate.hql.internal.ast.tree.SelectClause.initializeExplicitSelectClause(SelectClause.java:254)\n    at org.hibernate.hql.internal.ast.HqlSqlWalker.useSelectClause(HqlSqlWalker.java:1011)\n    at org.hibernate.hql.internal.ast.HqlSqlWalker.processQuery(HqlSqlWalker.java:779)\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:675)\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:311)\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:259)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:261)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:141)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:115)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:77)\n    at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:153)\n    at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:545)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:654)\n    at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:3307)\n    at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:318)\n    at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:127)\n    at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:3600)\n    at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:203)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:301)\n    at com.sun.proxy.$Proxy111.createQuery(Unknown Source)\n    at com.openpayment.impl.dao.RegistryGroupDaoImpl.getRegistryGroupRows(RegistryGroupDaoImpl.java:247)\n    at com.openpayment.impl.service.RegistryGroupServiceImpl.getRegistryGroupRows(RegistryGroupServiceImpl.java:67)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:283)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\n    at com.sun.proxy.$Proxy174.getRegistryGroupRows(Unknown Source)\n    at com.openpayment.web.view.registry.RegistryGroupView.lambda$buildTable$7f718060$1(RegistryGroupView.java:167)\n    at com.vaadin.data.provider.CallbackDataProvider.fetchFromBackEnd(CallbackDataProvider.java:137)\n    at com.vaadin.data.provider.AbstractBackEndDataProvider.fetch(AbstractBackEndDataProvider.java:61)\n    at com.vaadin.data.provider.DataCommunicator.fetchItemsWithRange(DataCommunicator.java:404)\n    at com.vaadin.data.provider.DataCommunicator.sendDataToClient(DataCommunicator.java:377)\n    at com.vaadin.data.provider.DataCommunicator.beforeClientResponse(DataCommunicator.java:339)\n    at com.vaadin.server.communication.UidlWriter.write(UidlWriter.java:126)\n    at com.vaadin.server.communication.UidlRequestHandler.writeUidl(UidlRequestHandler.java:124)\n    at com.vaadin.server.communication.UidlRequestHandler.synchronizedHandleRequest(UidlRequestHandler.java:92)\n    at com.vaadin.server.SynchronizedRequestHandler.handleRequest(SynchronizedRequestHandler.java:40)\n    at com.vaadin.server.VaadinService.handleRequest(VaadinService.java:1606)\n    at com.vaadin.server.VaadinServlet.service(VaadinServlet.java:448)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:835)\n</code></pre>\n<p>In</p>\n<pre><code>generateColumnNames:25, NameGenerator (org.hibernate.hql.internal)\ngenerateColumnNames:418, SessionFactoryHelper (org.hibernate.hql.internal.ast.util)\ninitializeColumnNames:269, SelectClause (org.hibernate.hql.internal.ast.tree)\nfinishInitialization:259, SelectClause (org.hibernate.hql.internal.ast.tree)\ninitializeExplicitSelectClause:254, SelectClause (org.hibernate.hql.internal.ast.tree)\nuseSelectClause:1011, HqlSqlWalker (org.hibernate.hql.internal.ast)\nprocessQuery:779, HqlSqlWalker (org.hibernate.hql.internal.ast)\nquery:675, HqlSqlBaseWalker (org.hibernate.hql.internal.antlr)\nselectStatement:311, HqlSqlBaseWalker (org.hibernate.hql.internal.antlr)\nstatement:259, HqlSqlBaseWalker (org.hibernate.hql.internal.antlr)\nanalyze:261, QueryTranslatorImpl (org.hibernate.hql.internal.ast)\ndoCompile:189, QueryTranslatorImpl (org.hibernate.hql.internal.ast)\ncompile:141, QueryTranslatorImpl (org.hibernate.hql.internal.ast)\n&lt;init&gt;:115, HQLQueryPlan (org.hibernate.engine.query.spi)\n&lt;init&gt;:77, HQLQueryPlan (org.hibernate.engine.query.spi)\ngetHQLQueryPlan:153, QueryPlanCache (org.hibernate.engine.query.spi)\ngetQueryPlan:545, AbstractSharedSessionContract (org.hibernate.internal)\ncreateQuery:654, AbstractSharedSessionContract (org.hibernate.internal)\ncreateQuery:3307, SessionImpl (org.hibernate.internal)\nbuildCompiledQuery:318, CriteriaQueryImpl$1 (org.hibernate.query.criteria.internal)\ncompile:127, CriteriaCompiler (org.hibernate.query.criteria.internal.compile)\ncreateQuery:3600, SessionImpl (org.hibernate.internal)\ncreateQuery:203, SessionImpl (org.hibernate.internal)\ninvoke0:-1, NativeMethodAccessorImpl (jdk.internal.reflect)\ninvoke:62, NativeMethodAccessorImpl (jdk.internal.reflect)\ninvoke:43, DelegatingMethodAccessorImpl (jdk.internal.reflect)\ninvoke:567, Method (java.lang.reflect)\ninvoke:301, SharedEntityManagerCreator$SharedEntityManagerInvocationHandler (org.springframework.orm.jpa)\ncreateQuery:-1, $Proxy111 (com.sun.proxy)\ngetRegistryGroupRows:247, RegistryGroupDaoImpl (com.openpayment.impl.dao)\ngetRegistryGroupRows:67, RegistryGroupServiceImpl (com.openpayment.impl.service)\ninvoke0:-1, NativeMethodAccessorImpl (jdk.internal.reflect)\ninvoke:62, NativeMethodAccessorImpl (jdk.internal.reflect)\ninvoke:43, DelegatingMethodAccessorImpl (jdk.internal.reflect)\ninvoke:567, Method (java.lang.reflect)\ninvokeJoinpointUsingReflection:333, AopUtils (org.springframework.aop.support)\ninvokeJoinpoint:190, ReflectiveMethodInvocation (org.springframework.aop.framework)\nproceed:157, ReflectiveMethodInvocation (org.springframework.aop.framework)\ninvoke:69, MethodSecurityInterceptor (org.springframework.security.access.intercept.aopalliance)\nproceed:179, ReflectiveMethodInvocation (org.springframework.aop.framework)\nproceedWithInvocation:99, TransactionInterceptor$1 (org.springframework.transaction.interceptor)\ninvokeWithinTransaction:283, TransactionAspectSupport (org.springframework.transaction.interceptor)\ninvoke:96, TransactionInterceptor (org.springframework.transaction.interceptor)\nproceed:179, ReflectiveMethodInvocation (org.springframework.aop.framework)\ninvoke:213, JdkDynamicAopProxy (org.springframework.aop.framework)\ngetRegistryGroupRows:-1, $Proxy174 (com.sun.proxy)\nlambda$buildTable$7f718060$1:167, RegistryGroupView (com.openpayment.web.view.registry)\nfetch:-1, 1332458831 (com.openpayment.web.view.registry.RegistryGroupView$$Lambda$332)\nfetchFromBackEnd:137, CallbackDataProvider (com.vaadin.data.provider)\nfetch:61, AbstractBackEndDataProvider (com.vaadin.data.provider)\nfetchItemsWithRange:404, DataCommunicator (com.vaadin.data.provider)\nsendDataToClient:377, DataCommunicator (com.vaadin.data.provider)\nbeforeClientResponse:339, DataCommunicator (com.vaadin.data.provider)\nwrite:126, UidlWriter (com.vaadin.server.communication)\nwriteUidl:124, UidlRequestHandler (com.vaadin.server.communication)\nsynchronizedHandleRequest:92, UidlRequestHandler (com.vaadin.server.communication)\nhandleRequest:40, SynchronizedRequestHandler (com.vaadin.server)\nhandleRequest:1606, VaadinService (com.vaadin.server)\nservice:448, VaadinServlet (com.vaadin.server)\nservice:728, HttpServlet (javax.servlet.http)\ninternalDoFilter:305, ApplicationFilterChain (org.apache.catalina.core)\ndoFilter:210, ApplicationFilterChain (org.apache.catalina.core)\ndoFilter:51, WsFilter (org.apache.tomcat.websocket.server)\ninternalDoFilter:243, ApplicationFilterChain (org.apache.catalina.core)\ndoFilter:210, ApplicationFilterChain (org.apache.catalina.core)\ninvoke:222, StandardWrapperValve (org.apache.catalina.core)\ninvoke:123, StandardContextValve (org.apache.catalina.core)\ninvoke:502, AuthenticatorBase (org.apache.catalina.authenticator)\ninvoke:171, StandardHostValve (org.apache.catalina.core)\ninvoke:100, ErrorReportValve (org.apache.catalina.valves)\ninvoke:953, AccessLogValve (org.apache.catalina.valves)\ninvoke:118, StandardEngineValve (org.apache.catalina.core)\nservice:408, CoyoteAdapter (org.apache.catalina.connector)\nprocess:1041, AbstractHttp11Processor (org.apache.coyote.http11)\nprocess:603, AbstractProtocol$AbstractConnectionHandler (org.apache.coyote)\nrun:312, JIoEndpoint$SocketProcessor (org.apache.tomcat.util.net)\nrunWorker:1128, ThreadPoolExecutor (java.util.concurrent)\nrun:628, ThreadPoolExecutor$Worker (java.util.concurrent)\nrun:835, Thread (java.lang)\n</code></pre>\n<p>it has been turned out, that Types array is a size of 3, but have only two values, the Integer one and the String one.</p>\n<p><a href=\"https://i.stack.imgur.com/2EuTa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2EuTa.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","database","postgresql","hibernate"],"owner":{"account_id":28560955,"reputation":11,"user_id":21864501,"display_name":"wsxx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683658355,"creation_date":1683658316,"question_id":76212580,"body_markdown":"I have declared allocationSize in entity:\r\n```\r\n@Id\r\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;xxx_generator&quot;)\r\n@SequenceGenerator(name = &quot;xxx_generator&quot;, sequenceName = &quot;xxx_param_id_seq&quot;, allocationSize = 5)\r\nprivate int id;\r\n```\r\n\r\nIn database I created sequence:\r\n```\r\nCREATE SEQUENCE IF NOT EXISTS xxx_param_id_seq INCREMENT BY 5;\r\n```\r\n\r\nBut is it any mechanism to synchronize this two things?\r\nFor example when my application start It would set the same value which is in database or something like that.\r\nI&#39;m using hibernate in my application and postgres as database.\r\nHave you some ideas about this mechanism? \r\n","title":"Synchronize allocation size with application and database","body":"<p>I have declared allocationSize in entity:</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;xxx_generator&quot;)\n@SequenceGenerator(name = &quot;xxx_generator&quot;, sequenceName = &quot;xxx_param_id_seq&quot;, allocationSize = 5)\nprivate int id;\n</code></pre>\n<p>In database I created sequence:</p>\n<pre><code>CREATE SEQUENCE IF NOT EXISTS xxx_param_id_seq INCREMENT BY 5;\n</code></pre>\n<p>But is it any mechanism to synchronize this two things?\nFor example when my application start It would set the same value which is in database or something like that.\nI'm using hibernate in my application and postgres as database.\nHave you some ideas about this mechanism?</p>\n"},{"tags":["java","spring-boot","oauth-2.0"],"answers":[{"comments":[{"owner":{"account_id":16641195,"reputation":359,"user_id":13154548,"display_name":"eternal"},"score":0,"creation_date":1657821640,"post_id":72975936,"comment_id":128907546,"body_markdown":"thank you for the answer. I believe I am missing some knowledge about OpenID and Oauth2, but how, for example, front-end or postman, should use Github as OAuth2 provider? They don&#39;t provide token like google and have to be redirected to spring URI \n( /login/oauth2/code/github ) in order to validate the code that the authorization server provided. How can I send requests to my app from postman or make it redirect to localhost:3000/home, after successful authorization?","body":"thank you for the answer. I believe I am missing some knowledge about OpenID and Oauth2, but how, for example, front-end or postman, should use Github as OAuth2 provider? They don&#39;t provide token like google and have to be redirected to spring URI  ( /login/oauth2/code/github ) in order to validate the code that the authorization server provided. How can I send requests to my app from postman or make it redirect to localhost:3000/home, after successful authorization?"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":1,"creation_date":1657869551,"post_id":72975936,"comment_id":128916772,"body_markdown":"@eternal I haden&#39;t checked if Github was providing with JWTs as access-token before answering. They don&#39;t, which would make flow pretty complicated to use this opaque token to authorize the request to your resource-server. Easiest way to solve this is using an OIDC authorization server as identity broker (something like https://www.youtube.com/watch?v=cffN1ApR6o0)","body":"@eternal I haden&#39;t checked if Github was providing with JWTs as access-token before answering. They don&#39;t, which would make flow pretty complicated to use this opaque token to authorize the request to your resource-server. Easiest way to solve this is using an OIDC authorization server as identity broker (something like <a href=\"https://www.youtube.com/watch?v=cffN1ApR6o0\" rel=\"nofollow noreferrer\">youtube.com/watch?v=cffN1ApR6o0</a>)"}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657869649,"creation_date":1657778928,"answer_id":72975936,"question_id":72958117,"body_markdown":"For multi tenant scenarios (several token issuers), you should have a look at https://github.com/ch4mpy/spring-addons. Your use-case is very close to https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_oauthentication.\r\n\r\nSpring boot team decided not to support multiple token issuers: https://github.com/spring-projects/spring-boot/issues/30108#issuecomment-1163292478\r\n\r\nRegarding Github and OpenID: https://stackoverflow.com/questions/52157568/what-is-github-well-known-openid-configuration-url. You can still use it as OAuth2 provider, following [Github doc][1], but what Github produces as access-token is an opaque token (not a JWT). To check that the token is valid (issued by github, has not expired, wasn&#39;t revoqued, ...) and get info about authenticated user, you have to issue a request to Github API, which is pretty limitative. You could use an OpenID authorization-server (like Keycloak) as [identity broker][2], which would \r\n- use Github (and others) as identity provider\r\n- provide your clients with JWT access-tokens (Postman, web apps, native mobile apps, etc.)\r\n- maybe centralise user roles management\r\n\r\n  [1]: https://developer.github.com/apps/building-oauth-apps/authorizing-oauth-apps/\r\n  [2]: https://access.redhat.com/documentation/en-us/red_hat_single_sign-on/7.0/html/server_administration_guide/identity_broker","title":"Multiple authentication servers for my OAuth 2 resource server","body":"<p>For multi tenant scenarios (several token issuers), you should have a look at <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">https://github.com/ch4mpy/spring-addons</a>. Your use-case is very close to <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_oauthentication\" rel=\"nofollow noreferrer\">https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_oauthentication</a>.</p>\n<p>Spring boot team decided not to support multiple token issuers: <a href=\"https://github.com/spring-projects/spring-boot/issues/30108#issuecomment-1163292478\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/30108#issuecomment-1163292478</a></p>\n<p>Regarding Github and OpenID: <a href=\"https://stackoverflow.com/questions/52157568/what-is-github-well-known-openid-configuration-url\">What is GitHub /.well-known/openid-configuration URL?</a>. You can still use it as OAuth2 provider, following <a href=\"https://developer.github.com/apps/building-oauth-apps/authorizing-oauth-apps/\" rel=\"nofollow noreferrer\">Github doc</a>, but what Github produces as access-token is an opaque token (not a JWT). To check that the token is valid (issued by github, has not expired, wasn't revoqued, ...) and get info about authenticated user, you have to issue a request to Github API, which is pretty limitative. You could use an OpenID authorization-server (like Keycloak) as <a href=\"https://access.redhat.com/documentation/en-us/red_hat_single_sign-on/7.0/html/server_administration_guide/identity_broker\" rel=\"nofollow noreferrer\">identity broker</a>, which would</p>\n<ul>\n<li>use Github (and others) as identity provider</li>\n<li>provide your clients with JWT access-tokens (Postman, web apps, native mobile apps, etc.)</li>\n<li>maybe centralise user roles management</li>\n</ul>\n"}],"owner":{"account_id":16641195,"reputation":359,"user_id":13154548,"display_name":"eternal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1952,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72975936,"answer_count":1,"score":0,"last_activity_date":1683658313,"creation_date":1657658382,"question_id":72958117,"body_markdown":"I have implemented a simple resource server with Spring Boot and Spring Oauth2 with Google as authentication server:\r\n```\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          google:\r\n            client-id: clientId\r\n            client-secret: clientSecret\r\n            scope: openid,profile,email\r\n      resourceserver:\r\n        jwt:\r\n          issuer-uri: https://accounts.google.com\r\n          jwk-set-uri: https://www.googleapis.com/oauth2/v3/certs\r\n```\r\n```\r\n@RestController\r\npublic class Controller {\r\n\r\n    @GetMapping(&quot;/hi&quot;)\r\n    public String hello() {\r\n        return &quot;hello&quot;;\r\n    }\r\n}\r\n```\r\n```\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(final HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n                .antMatchers(&quot;/**&quot;).fullyAuthenticated()\r\n                .and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .oauth2ResourceServer().jwt()\r\n                .and()\r\n                .and()\r\n                .cors().and().csrf().disable();\r\n\r\n    }\r\n\r\n}\r\n```\r\nHow do I add a few more authentication servers like Github, Facebook, or Twitter? \r\n\r\nRight now I am able to generate id_token and access_token for Google authentication but I am not sure if Github or Facebook supports it. I couldn&#39;t find anything similar in their documentation.\r\n\r\nIn the end, I want to have 3 authentication providers to which I will be able to generate id_token and send it as an Authentication header in Postman. I am not even able to find **jwk-set-uri** or **issuer-uri** for Github, to replace the Google authentication server with Github.","title":"Multiple authentication servers for my OAuth 2 resource server","body":"<p>I have implemented a simple resource server with Spring Boot and Spring Oauth2 with Google as authentication server:</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        registration:\n          google:\n            client-id: clientId\n            client-secret: clientSecret\n            scope: openid,profile,email\n      resourceserver:\n        jwt:\n          issuer-uri: https://accounts.google.com\n          jwk-set-uri: https://www.googleapis.com/oauth2/v3/certs\n</code></pre>\n<pre><code>@RestController\npublic class Controller {\n\n    @GetMapping(&quot;/hi&quot;)\n    public String hello() {\n        return &quot;hello&quot;;\n    }\n}\n</code></pre>\n<pre><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(final HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                .antMatchers(&quot;/**&quot;).fullyAuthenticated()\n                .and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .oauth2ResourceServer().jwt()\n                .and()\n                .and()\n                .cors().and().csrf().disable();\n\n    }\n\n}\n</code></pre>\n<p>How do I add a few more authentication servers like Github, Facebook, or Twitter?</p>\n<p>Right now I am able to generate id_token and access_token for Google authentication but I am not sure if Github or Facebook supports it. I couldn't find anything similar in their documentation.</p>\n<p>In the end, I want to have 3 authentication providers to which I will be able to generate id_token and send it as an Authentication header in Postman. I am not even able to find <strong>jwk-set-uri</strong> or <strong>issuer-uri</strong> for Github, to replace the Google authentication server with Github.</p>\n"},{"tags":["java","spring-boot","spring-boot-actuator","restful-authentication","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"score":0,"creation_date":1680147227,"post_id":75882926,"comment_id":133849629,"body_markdown":"have you checked this https://stackoverflow.com/questions/52028457/spring-security-with-jwt-always-returns-401-unauthorized","body":"have you checked this <a href=\"https://stackoverflow.com/questions/52028457/spring-security-with-jwt-always-returns-401-unauthorized\" title=\"spring security with jwt always returns 401 unauthorized\">stackoverflow.com/questions/52028457/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8663053,"reputation":21,"user_id":6484641,"display_name":"Rahul Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683658112,"creation_date":1683657656,"answer_id":76212504,"question_id":75882926,"body_markdown":"There could be a possiblity that JAXB library (Java Architecture for XML Binding) is missing in the classpath. JABX was there till java version 10 then it has removed from Java SE from Java 11 or newer, It is moved to Java EE under Jakarta EE project.\r\n \r\n To fix this error, you can use the below options\r\n 1. Use the older version of jdk which have JAXB library as default.\r\n 2. Specify jaxb-api dependency in your project’s pom.xml file as mentioned below:\r\n \r\n ```\r\n &lt;dependency&gt;\r\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n ```\r\n \r\n For details you can visite here: https://www.codejava.net/coding/solved-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception","title":"Spring boot - /authenticate endpoint won&#39;t return a JSON Web Token","body":"<p>There could be a possiblity that JAXB library (Java Architecture for XML Binding) is missing in the classpath. JABX was there till java version 10 then it has removed from Java SE from Java 11 or newer, It is moved to Java EE under Jakarta EE project.</p>\n<p>To fix this error, you can use the below options</p>\n<ol>\n<li>Use the older version of jdk which have JAXB library as default.</li>\n<li>Specify jaxb-api dependency in your project’s pom.xml file as mentioned below:</li>\n</ol>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n   &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n   &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>For details you can visite here: <a href=\"https://www.codejava.net/coding/solved-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception\" rel=\"nofollow noreferrer\">https://www.codejava.net/coding/solved-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception</a></p>\n"}],"owner":{"account_id":25873252,"reputation":1,"user_id":19603778,"display_name":"Tinotenda Mutadza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683658112,"creation_date":1680131805,"question_id":75882926,"body_markdown":"I&#39;ve been working on this for a while and the video I used to help me is from 2019 so it&#39;s a bit outdated but I thought that I could work through the problems. The program runs but when I try using postman I get a 401 unauthorized error:\r\n\r\nHere is the jwtutil.java file code:\r\n```\r\npackage com.stdbankjwtauth.authsystem.util;\r\n\r\nimport java.util.Map;\r\nimport java.util.function.Function;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\n\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.SignatureAlgorithm;\r\n\r\n@Service\r\npublic class JwtUtil {\r\n\t\r\nprivate String SECRET_KEY = &quot;secret&quot;;\r\n\r\npublic String extractUsername(String token) {\r\n\treturn extractClaim(token, Claims::getSubject);\r\n}\r\n\r\npublic Date extractExpiration(String token) {\r\n\treturn extractClaim(token,Claims::getExpiration);\r\n}\r\n\r\npublic &lt;T&gt; T extractClaim(String token, Function&lt;Claims,T&gt; claimsResolver) {\r\n\tfinal Claims claims = extractAllClaims(token);\r\n\treturn claimsResolver.apply(claims);\r\n}\r\n\r\nprivate Claims extractAllClaims(String token) {\r\n\t\treturn Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(token).getBody();\r\n}\r\n\r\nprivate boolean isTokenExpired(String token) {\r\n\treturn extractExpiration(token).before(new Date());\r\n}\r\n\r\npublic String generateToken(UserDetails userDetails) {\r\n\tMap&lt;String,Object&gt; claims = new HashMap&lt;&gt;();\r\n\treturn createToken(claims,userDetails.getUsername());\r\n}\r\n\r\nprivate String createToken(Map&lt;String,Object&gt; claims, String Subject) {\r\nreturn Jwts.builder().setClaims(claims).setSubject(Subject).setIssuedAt(new Date(System.currentTimeMillis()))\r\n\t\t.setExpiration(new Date(System.currentTimeMillis()+1000*60*60*10))\r\n\t\t.signWith(SignatureAlgorithm.HS256,SECRET_KEY).compact();\r\n}\r\n\r\npublic boolean validateToken(String token, UserDetails userDetails){\r\n\tfinal String username = extractUsername(token);\r\n\treturn (username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token));\r\n}\r\n}\r\n\r\n```\r\nAuthenticationRequest.java\r\n\r\n```\r\npackage com.stdbankjwtauth.authsystem.models;\r\n\r\npublic class AuthenticationRequest {\r\n\tprivate String username;\r\n\tprivate String password;\r\n\t\r\n\tpublic AuthenticationRequest(String Username,String Password) {\r\n\t\tthis.username = Username;\r\n\t\tthis.password = Password;\r\n\t}\r\n\t\r\n\tpublic String getUsername() {\r\n\t\treturn username;\r\n\t}\r\n\tpublic void setUsername(String Username) {\r\n\t\tthis.username = Username;\r\n\t}\r\n\t\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\t\r\n\tpublic void setPassword(String Password) {\r\n\t\tthis.password = Password;\r\n\t}\r\n}\r\n\r\n```\r\nAuthenticationResponse.java\r\n\r\n```\r\npackage com.stdbankjwtauth.authsystem.models;\r\n\r\npublic class AuthenticationResponse {\r\n\tprivate final String jwt;\r\n\t\r\n\tpublic AuthenticationResponse(String Jwt) {\r\n\t\tthis.jwt = Jwt;\r\n\t}\r\n\t\r\n\tpublic String getJwt() {\r\n\t\treturn jwt;\r\n\t}\r\n}\r\n\r\n```\r\nAuthenticationEndpoint.java\r\n\r\n```\r\npackage com.stdbankjwtauth.authsystem;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.BadCredentialsException;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.stdbankjwtauth.authsystem.models.AuthenticationRequest;\r\nimport com.stdbankjwtauth.authsystem.models.AuthenticationResponse;\r\nimport com.stdbankjwtauth.authsystem.util.JwtUtil;\r\n\r\n@RestController\r\npublic class AuthenticateEnpoint {\r\n\t@Autowired\r\n\tprivate AuthenticationManager authenticationManager;\r\n\t\r\n\t@Autowired\r\n\tprivate UserDetailsService userDetailsService;\r\n\t\r\n\t@Autowired\r\n\tprivate JwtUtil jwtTokenUtil;\r\n\t\r\n\t@PostMapping(&quot;/authenticates&quot;)\r\n\tpublic ResponseEntity &lt;?&gt; createAuthenticationToken(@RequestBody AuthenticationRequest authenticationRequest) throws Exception{\r\n\t\ttry {\r\n\t\t\tauthenticationManager.authenticate(\r\n\t\t\t\tnew UsernamePasswordAuthenticationToken(authenticationRequest.getUsername(),authenticationRequest.getPassword())\r\n\t\t\t\t);\r\n\t\t}catch(BadCredentialsException e) {\r\n\t\t\tthrow new Exception(&quot;Incorrect username or password&quot;,e);\r\n\t\t\t}\r\n\t\t\r\n\t\tfinal UserDetails userDetails = userDetailsService\r\n\t\t\t\t.loadUserByUsername(authenticationRequest.getUsername());\r\n\t\tfinal String jwt = jwtTokenUtil.generateToken(userDetails);\r\n\t\treturn ResponseEntity.ok(new AuthenticationResponse(jwt));\r\n\t}\r\n\r\n}\r\n\r\n```\r\nSecurityConfigurer\r\n\r\n```\r\npackage com.stdbankjwtauth.authsystem;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurirtyConfigurer extends WebSecurityConfiguration {\r\n\r\n\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception{\r\n\t\tauth.getDefaultUserDetailsService();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManager(HttpSecurity http) throws Exception {\r\n\t    return http.getSharedObject(AuthenticationManagerBuilder.class)\r\n\t            .build();\r\n\t}\r\n\tprotected void configure(HttpSecurity http) throws Exception{\r\n\t\thttp\r\n\t\t.csrf()\r\n\t\t.disable()\r\n\t\t.authorizeHttpRequests().requestMatchers(&quot;/authenticates&quot;).permitAll()\r\n\t\t.anyRequest().authenticated()\r\n\t\t.and().sessionManagement()\r\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n```\r\nFileBasedAuthSystem.java\r\n\r\n```\r\npackage com.stdbankjwtauth.authsystem.services;\r\n\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.security.crypto.factory.PasswordEncoderFactories;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Configuration\r\n@Service\r\npublic class FileBasedUserDetailsService {\r\n\tprivate static final String FILE_PATH = &quot;C:\\\\repos\\\\STDBank-JWT-Auth-System\\\\stdbank-jwt-auth\\\\credentials.txt&quot;;\r\n\t\r\n\t@Bean\r\n    public InMemoryUserDetailsManager userDetailsService() {\r\n\t\tList&lt;String&gt; lines = new ArrayList&lt;&gt;();\r\n\t\ttry {\r\n\t\t\tlines = Files.readAllLines(Paths.get(FILE_PATH));\r\n\t\t}catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tfor (String line : lines) {\r\n\t\t\tString[] parts = line.split(&quot;:&quot;);\r\n\t\t\tPasswordEncoder encoder = PasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n\t\t\tUserDetails user = User.withUsername(parts[0])\r\n\t\t\t\t\t.password(encoder.encode(parts[1]))\r\n\t\t\t\t\t.roles(&quot;USER&quot;)\r\n\t\t\t\t\t.build();\r\n\t\t\t\t\r\n\t\t\t\treturn new InMemoryUserDetailsManager(user);\r\n\t}\r\n\t\tthrow new UsernameNotFoundException(&quot;Username not found: &quot;+ lines);\r\n\t}\r\n}\r\n```\r\n\r\nHere&#39;s a link to youtube video I used https://www.youtube.com/watch?v=X80nJ5T7YpE&amp;t=81s\r\n\r\n[This is the error I get in Postman](https://i.stack.imgur.com/SV8v6.png)","title":"Spring boot - /authenticate endpoint won&#39;t return a JSON Web Token","body":"<p>I've been working on this for a while and the video I used to help me is from 2019 so it's a bit outdated but I thought that I could work through the problems. The program runs but when I try using postman I get a 401 unauthorized error:</p>\n<p>Here is the jwtutil.java file code:</p>\n<pre><code>package com.stdbankjwtauth.authsystem.util;\n\nimport java.util.Map;\nimport java.util.function.Function;\nimport java.util.Date;\nimport java.util.HashMap;\n\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.stereotype.Service;\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\n\n@Service\npublic class JwtUtil {\n    \nprivate String SECRET_KEY = &quot;secret&quot;;\n\npublic String extractUsername(String token) {\n    return extractClaim(token, Claims::getSubject);\n}\n\npublic Date extractExpiration(String token) {\n    return extractClaim(token,Claims::getExpiration);\n}\n\npublic &lt;T&gt; T extractClaim(String token, Function&lt;Claims,T&gt; claimsResolver) {\n    final Claims claims = extractAllClaims(token);\n    return claimsResolver.apply(claims);\n}\n\nprivate Claims extractAllClaims(String token) {\n        return Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(token).getBody();\n}\n\nprivate boolean isTokenExpired(String token) {\n    return extractExpiration(token).before(new Date());\n}\n\npublic String generateToken(UserDetails userDetails) {\n    Map&lt;String,Object&gt; claims = new HashMap&lt;&gt;();\n    return createToken(claims,userDetails.getUsername());\n}\n\nprivate String createToken(Map&lt;String,Object&gt; claims, String Subject) {\nreturn Jwts.builder().setClaims(claims).setSubject(Subject).setIssuedAt(new Date(System.currentTimeMillis()))\n        .setExpiration(new Date(System.currentTimeMillis()+1000*60*60*10))\n        .signWith(SignatureAlgorithm.HS256,SECRET_KEY).compact();\n}\n\npublic boolean validateToken(String token, UserDetails userDetails){\n    final String username = extractUsername(token);\n    return (username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token));\n}\n}\n\n</code></pre>\n<p>AuthenticationRequest.java</p>\n<pre><code>package com.stdbankjwtauth.authsystem.models;\n\npublic class AuthenticationRequest {\n    private String username;\n    private String password;\n    \n    public AuthenticationRequest(String Username,String Password) {\n        this.username = Username;\n        this.password = Password;\n    }\n    \n    public String getUsername() {\n        return username;\n    }\n    public void setUsername(String Username) {\n        this.username = Username;\n    }\n    \n    public String getPassword() {\n        return password;\n    }\n    \n    public void setPassword(String Password) {\n        this.password = Password;\n    }\n}\n\n</code></pre>\n<p>AuthenticationResponse.java</p>\n<pre><code>package com.stdbankjwtauth.authsystem.models;\n\npublic class AuthenticationResponse {\n    private final String jwt;\n    \n    public AuthenticationResponse(String Jwt) {\n        this.jwt = Jwt;\n    }\n    \n    public String getJwt() {\n        return jwt;\n    }\n}\n\n</code></pre>\n<p>AuthenticationEndpoint.java</p>\n<pre><code>package com.stdbankjwtauth.authsystem;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.BadCredentialsException;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.stdbankjwtauth.authsystem.models.AuthenticationRequest;\nimport com.stdbankjwtauth.authsystem.models.AuthenticationResponse;\nimport com.stdbankjwtauth.authsystem.util.JwtUtil;\n\n@RestController\npublic class AuthenticateEnpoint {\n    @Autowired\n    private AuthenticationManager authenticationManager;\n    \n    @Autowired\n    private UserDetailsService userDetailsService;\n    \n    @Autowired\n    private JwtUtil jwtTokenUtil;\n    \n    @PostMapping(&quot;/authenticates&quot;)\n    public ResponseEntity &lt;?&gt; createAuthenticationToken(@RequestBody AuthenticationRequest authenticationRequest) throws Exception{\n        try {\n            authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(authenticationRequest.getUsername(),authenticationRequest.getPassword())\n                );\n        }catch(BadCredentialsException e) {\n            throw new Exception(&quot;Incorrect username or password&quot;,e);\n            }\n        \n        final UserDetails userDetails = userDetailsService\n                .loadUserByUsername(authenticationRequest.getUsername());\n        final String jwt = jwtTokenUtil.generateToken(userDetails);\n        return ResponseEntity.ok(new AuthenticationResponse(jwt));\n    }\n\n}\n\n</code></pre>\n<p>SecurityConfigurer</p>\n<pre><code>package com.stdbankjwtauth.authsystem;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration;\nimport org.springframework.security.config.http.SessionCreationPolicy;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurirtyConfigurer extends WebSecurityConfiguration {\n\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception{\n        auth.getDefaultUserDetailsService();\n    }\n    \n    @Bean\n    public AuthenticationManager authenticationManager(HttpSecurity http) throws Exception {\n        return http.getSharedObject(AuthenticationManagerBuilder.class)\n                .build();\n    }\n    protected void configure(HttpSecurity http) throws Exception{\n        http\n        .csrf()\n        .disable()\n        .authorizeHttpRequests().requestMatchers(&quot;/authenticates&quot;).permitAll()\n        .anyRequest().authenticated()\n        .and().sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    }\n    \n    \n}\n\n</code></pre>\n<p>FileBasedAuthSystem.java</p>\n<pre><code>package com.stdbankjwtauth.authsystem.services;\n\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.List;\nimport java.util.ArrayList;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.factory.PasswordEncoderFactories;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.stereotype.Service;\n\n@Configuration\n@Service\npublic class FileBasedUserDetailsService {\n    private static final String FILE_PATH = &quot;C:\\\\repos\\\\STDBank-JWT-Auth-System\\\\stdbank-jwt-auth\\\\credentials.txt&quot;;\n    \n    @Bean\n    public InMemoryUserDetailsManager userDetailsService() {\n        List&lt;String&gt; lines = new ArrayList&lt;&gt;();\n        try {\n            lines = Files.readAllLines(Paths.get(FILE_PATH));\n        }catch (Exception e) {\n            e.printStackTrace();\n        }\n        for (String line : lines) {\n            String[] parts = line.split(&quot;:&quot;);\n            PasswordEncoder encoder = PasswordEncoderFactories.createDelegatingPasswordEncoder();\n            UserDetails user = User.withUsername(parts[0])\n                    .password(encoder.encode(parts[1]))\n                    .roles(&quot;USER&quot;)\n                    .build();\n                \n                return new InMemoryUserDetailsManager(user);\n    }\n        throw new UsernameNotFoundException(&quot;Username not found: &quot;+ lines);\n    }\n}\n</code></pre>\n<p>Here's a link to youtube video I used <a href=\"https://www.youtube.com/watch?v=X80nJ5T7YpE&amp;t=81s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=X80nJ5T7YpE&amp;t=81s</a></p>\n<p><a href=\"https://i.stack.imgur.com/SV8v6.png\" rel=\"nofollow noreferrer\">This is the error I get in Postman</a></p>\n"},{"tags":["java","reactjs","spring-boot","oauth-2.0","cors"],"comments":[{"owner":{"account_id":307015,"reputation":21530,"user_id":618087,"display_name":"Rob Winch"},"score":1,"creation_date":1658873119,"post_id":73109493,"comment_id":129159258,"body_markdown":"This does not appear to be enough information to answer  your question. How does someone log in? What does the HTTP request/response look like? You state you do not receive the proper Authorization header in the &quot;OAuth issue&quot;. What does the HTTP request/response look like? What do you mean by &quot;proper&quot;? Does the header exist, but is malformed, is it missing all together, etc? In your original request for help you mentioned that it was a CORS issue https://twitter.com/lakshyaveercha2/status/1551549832300376064 Can you explain why that is?","body":"This does not appear to be enough information to answer  your question. How does someone log in? What does the HTTP request/response look like? You state you do not receive the proper Authorization header in the &quot;OAuth issue&quot;. What does the HTTP request/response look like? What do you mean by &quot;proper&quot;? Does the header exist, but is malformed, is it missing all together, etc? In your original request for help you mentioned that it was a CORS issue <a href=\"https://twitter.com/lakshyaveercha2/status/1551549832300376064\" rel=\"nofollow noreferrer\">twitter.com/lakshyaveercha2/status/1551549832300376064</a> Can you explain why that is?"},{"owner":{"account_id":12561662,"reputation":29,"user_id":9139197,"display_name":"Lakshyaveer Chaudhary"},"score":0,"creation_date":1658939671,"post_id":73109493,"comment_id":129178794,"body_markdown":"@RobWinch I have updated the details, please mention if anything required more to update","body":"@RobWinch I have updated the details, please mention if anything required more to update"},{"owner":{"account_id":4663157,"reputation":15229,"user_id":3776927,"display_name":"derpirscher"},"score":0,"creation_date":1659029634,"post_id":73109493,"comment_id":129204380,"body_markdown":"CORS headers have to be set on the *Response* at the *backend*, not in the request at the frontend","body":"CORS headers have to be set on the <i>Response</i> at the <i>backend</i>, not in the request at the frontend"}],"answers":[{"tags":[],"owner":{"account_id":12561662,"reputation":29,"user_id":9139197,"display_name":"Lakshyaveer Chaudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660305331,"creation_date":1660305331,"answer_id":73333786,"question_id":73109493,"body_markdown":"Working after adding cors, complete code below for  SecurityWebFilterChain&#39;s method :\r\n\r\n    http\r\n\t\t\t\t.exceptionHandling()\r\n\t\t\t\t.authenticationEntryPoint((swe, e) -&gt; {\r\n\t\t\t\t\treturn Mono.fromRunnable(() -&gt; {\r\n\t\t\t\t\t\tswe.getResponse().setStatusCode(HttpStatus.UNAUTHORIZED);\r\n\t\t\t\t\t});\r\n\t\t\t\t}).accessDeniedHandler((swe, e) -&gt; {\r\n\t\t\t\t\treturn Mono.fromRunnable(() -&gt; {\r\n\t\t\t\t\t\tswe.getResponse().setStatusCode(HttpStatus.FORBIDDEN);\r\n\t\t\t\t\t});\r\n\t\t\t\t}).and()\r\n\t\t\t\t.cors().configurationSource(request -&gt; {\r\n\t\t\t\t\tCorsConfiguration config = new CorsConfiguration();\r\n\t\t\t\t\tconfig.setAllowedOrigins(Collections.singletonList(&quot;*&quot;));\r\n\t\t\t\t\tconfig.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;,&quot;PUT&quot;,&quot;PATCH&quot;, &quot;DELETE&quot;,&quot;OPTIONS&quot;));\r\n\t\t\t\t\tconfig.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\r\n\t\t\t\t\treturn config;\r\n\t\t\t\t})\r\n\t\t\t\t.and()\r\n\t\t\t\t.csrf().disable()\r\n                .and()\r\n\t\t\t\t.formLogin().disable()\r\n\t\t\t\t.httpBasic().disable()\r\n\t\t\t\t.authenticationManager(authenticationManager)\r\n\t\t\t\t.securityContextRepository(securityContextRepository)\r\n\t\t\t\t.authorizeExchange()\r\n\t\t\t\t.pathMatchers(&quot;/login&quot;).permitAll()\r\n\t\t\t\t.pathMatchers(&quot;/user/save&quot;).permitAll() //line added\r\n\t\t\t\t.anyExchange()\r\n\t\t\t\t.authenticated()\r\n\t\t\t\t\r\n\t\t\t\t.and().build();\r\n","title":"OAuth issue in API gateway","body":"<p>Working after adding cors, complete code below for  SecurityWebFilterChain's method :</p>\n<pre><code>http\n            .exceptionHandling()\n            .authenticationEntryPoint((swe, e) -&gt; {\n                return Mono.fromRunnable(() -&gt; {\n                    swe.getResponse().setStatusCode(HttpStatus.UNAUTHORIZED);\n                });\n            }).accessDeniedHandler((swe, e) -&gt; {\n                return Mono.fromRunnable(() -&gt; {\n                    swe.getResponse().setStatusCode(HttpStatus.FORBIDDEN);\n                });\n            }).and()\n            .cors().configurationSource(request -&gt; {\n                CorsConfiguration config = new CorsConfiguration();\n                config.setAllowedOrigins(Collections.singletonList(&quot;*&quot;));\n                config.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;,&quot;PUT&quot;,&quot;PATCH&quot;, &quot;DELETE&quot;,&quot;OPTIONS&quot;));\n                config.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\n                return config;\n            })\n            .and()\n            .csrf().disable()\n            .and()\n            .formLogin().disable()\n            .httpBasic().disable()\n            .authenticationManager(authenticationManager)\n            .securityContextRepository(securityContextRepository)\n            .authorizeExchange()\n            .pathMatchers(&quot;/login&quot;).permitAll()\n            .pathMatchers(&quot;/user/save&quot;).permitAll() //line added\n            .anyExchange()\n            .authenticated()\n            \n            .and().build();\n</code></pre>\n"}],"owner":{"account_id":12561662,"reputation":29,"user_id":9139197,"display_name":"Lakshyaveer Chaudhary"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73333786,"answer_count":1,"score":0,"last_activity_date":1683658081,"creation_date":1658753190,"question_id":73109493,"body_markdown":"I am facing the OAuth issue, details are below:\r\nI am having two microservices:\r\nregistration-service([https://github.com/choudharylakshyaveer/registration-service][1])\r\nstudent-service([https://github.com/choudharylakshyaveer/student-service][2])\r\n\r\nFor these two I have added :\r\ncloud-config-server([https://github.com/choudharylakshyaveer/cloud-config-server][3])\r\nnaminig-server([https://github.com/choudharylakshyaveer/naming-server][4])\r\ngateway([https://github.com/choudharylakshyaveer/api-gateway][5])\r\n\r\nFrontEnd: is at react js: https://github.com/choudharylakshyaveer/chargie\r\n\r\nFor first time use, a new user need to be register that can be done from curl:\r\n\r\n    curl --location --request GET &#39;http://localhost:8765/user/save&#39; \\\r\n    --header &#39;Content-Type: application/json&#39; \\\r\n    --data-raw &#39;{\r\n        &quot;username&quot;: &quot;user@chargie.com&quot;,\r\n        &quot;password&quot;: &quot;chaudhary22&quot;,\r\n        &quot;enabled&quot;: true,\r\n        &quot;roles&quot;: [\r\n            &quot;ROLE_ADMIN&quot;,\r\n            &quot;ROLE_USER&quot;\r\n        ]\r\n    }&#39;\r\nTo login using the above registered user, below can be run from cUrl:\r\n\r\n    curl --location --request POST &#39;http://localhost:8765/login&#39; \\\r\n    --header &#39;Content-Type: application/json&#39; \\\r\n    --data-raw &#39;{\r\n        &quot;username&quot;: &quot;user@chargie.com&quot;,\r\n        &quot;password&quot;: &quot;chaudhary22&quot;\r\n    }&#39;\r\n\r\nOnce I log In and get the Bearer token, after that I am facing cors issue from the reactJs FE, bu same request is working fine from the Postman, below is request from postman:\r\n\r\n    curl --location --request GET &#39;http://localhost:8765/REGISTRATION-SERVICE/test&#39; \\\r\n    --header &#39;Access-Control-Allow-Credentials: true&#39; \\\r\n    --header &#39;Access-Control-Allow-Headers: content-type&#39; \\\r\n    --header &#39;Access-Control-Allow-Methods: PUT, POST, GET, DELETE, PATCH, OPTIONS&#39; \\\r\n    --header &#39;Access-Control-Allow-Origin: *&#39; \\\r\n    --header &#39;Access-Control-Max-Age: 1800&#39; \\\r\n    --header &#39;Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjpbIlJPTEVfQURNSU4iLCJST0xFX1VTRVIiXSwic3ViIjoibHZzIiwiaWF0IjoxNjU4OTM0NzIxLCJleHAiOjE2NTg5NjM1MjF9.MN6lCrwLB2bBDBLp-HG4nlSRlyhoR2cQDSRGvJCD2WwDMojhei0wW7xVuDwVCtRUANK02aQMhqagafB2csDWWg&#39;\r\n\r\n\r\n# Below is the code used to hit request from ReactJs FE:\r\n\r\n    var config = {\r\n                method: &#39;get&#39;,\r\n                url: &#39;http://localhost:8765/REGISTRATION-SERVICE/test&#39;,\r\n                headers: { \r\n                  Authorization: `Bearer ${token}`,\r\n                  &#39;Content-Type&#39;: &#39;application/json&#39;,\r\n                  &#39;Access-Control-Allow-Origin&#39;: &#39;*&#39;,\r\n                  &#39;Access-Control-Allow-Credentials&#39;: &#39;true&#39;,\r\n                  &#39;Access-Control-Max-Age&#39;: &#39;1800&#39;,\r\n                  &#39;Access-Control-Allow-Headers&#39;: &#39;content-type&#39;,\r\n                  &#39;Access-Control-Allow-Methods&#39;: &#39;PUT, POST, GET, DELETE, PATCH, OPTIONS&#39;\r\n                },\r\n                Authorization: `Bearer ${token}`\r\n              };\r\n              \r\n              axios(config)\r\n              .then(function (response) {\r\n                console.log(JSON.stringify(response.data));\r\n              })\r\n              .catch(function (error) {\r\n                console.log(error);\r\n              });\r\nAnd this request gives me CORS issue:\r\n[![enter image description here][6]][6]\r\n\r\n\r\nSnippet of the ServerSecurityContextRepository&#39;s overridden method used in SecurityContextRepository class of api-gateway:\r\n\r\n    @Override\r\n    \tpublic Mono&lt;SecurityContext&gt; load(ServerWebExchange swe) {\r\n    \t\tServerHttpRequest request = swe.getRequest();\r\n    \t\tHttpHeaders headers = request.getHeaders();\r\n    \t\tString authHeader = headers.getFirst(HttpHeaders.AUTHORIZATION);\r\n    \r\n    \t\tif (authHeader != null &amp;&amp; authHeader.startsWith(&quot;Bearer &quot;)) {\r\n    \t\t\tString authToken = authHeader.substring(7);\r\n    \t\t\tAuthentication auth = new UsernamePasswordAuthenticationToken(authToken, authToken);\r\n    \t\t\treturn this.authenticationManager.authenticate(auth).map((authentication) -&gt; {\r\n    \t\t\t\treturn new SecurityContextImpl(authentication);\r\n    \t\t\t});\r\n    \t\t} else {\r\n    \t\t\treturn Mono.empty();\r\n    \t\t}\r\n    \t}\r\n\r\nHere when the request is coming from the Postman then below is receievd in the **`headers`** variable:\r\n\r\n    [access-control-allow-credentials:&quot;true&quot;, access-control-allow-headers:&quot;content-type&quot;, access-control-allow-methods:&quot;PUT, POST, GET, DELETE, PATCH, OPTIONS&quot;, access-control-allow-origin:&quot;*&quot;, access-control-max-age:&quot;1800&quot;, authorization:&quot;Bearer eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjpbIlJPTEVfQURNSU4iLCJST0xFX1VTRVIiXSwic3ViIjoibHZzIiwiaWF0IjoxNjU4OTM0NzIxLCJleHAiOjE2NTg5NjM1MjF9.MN6lCrwLB2bBDBLp-HG4nlSRlyhoR2cQDSRGvJCD2WwDMojhei0wW7xVuDwVCtRUANK02aQMhqagafB2csDWWg&quot;, user-agent:&quot;PostmanRuntime/7.29.0&quot;, accept:&quot;*/*&quot;, postman-token:&quot;6c0d7a9a-dcde-45d7-8422-1476682db9f4&quot;, host:&quot;localhost:8765&quot;, accept-encoding:&quot;gzip, deflate, br&quot;, connection:&quot;keep-alive&quot;]\r\n\r\nBut when same request comes from Front end then below is receievd in the **`headers`** variable and it seems to be malformed:\r\n\r\n    [host:&quot;localhost:8765&quot;, connection:&quot;keep-alive&quot;, pragma:&quot;no-cache&quot;, cache-control:&quot;no-cache&quot;, accept:&quot;*/*&quot;, access-control-request-method:&quot;GET&quot;, access-control-request-headers:&quot;access-control-allow-credentials,access-control-allow-headers,access-control-allow-methods,access-control-allow-origin,access-control-max-age,authorization&quot;, origin:&quot;http://localhost:3000&quot;, user-agent:&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36&quot;, sec-fetch-mode:&quot;cors&quot;, sec-fetch-site:&quot;same-site&quot;, sec-fetch-dest:&quot;empty&quot;, referer:&quot;http://localhost:3000/&quot;, accept-encoding:&quot;gzip, deflate, br&quot;, accept-language:&quot;en-US,en;q=0.9&quot;]\r\n\r\nSo, Here I am not receiving proper Authorization header on backend&#39;s **headers** variable so that I can take Bearer token to validate it.\r\n\r\n\r\n  [1]: https://github.com/choudharylakshyaveer/registration-service\r\n  [2]: https://github.com/choudharylakshyaveer/student-service\r\n  [3]: https://github.com/choudharylakshyaveer/cloud-config-server\r\n  [4]: https://github.com/choudharylakshyaveer/naming-server\r\n  [5]: https://github.com/choudharylakshyaveer/api-gateway\r\n  [6]: https://i.stack.imgur.com/OqS9s.png","title":"OAuth issue in API gateway","body":"<p>I am facing the OAuth issue, details are below:\nI am having two microservices:\nregistration-service(<a href=\"https://github.com/choudharylakshyaveer/registration-service\" rel=\"nofollow noreferrer\">https://github.com/choudharylakshyaveer/registration-service</a>)\nstudent-service(<a href=\"https://github.com/choudharylakshyaveer/student-service\" rel=\"nofollow noreferrer\">https://github.com/choudharylakshyaveer/student-service</a>)</p>\n<p>For these two I have added :\ncloud-config-server(<a href=\"https://github.com/choudharylakshyaveer/cloud-config-server\" rel=\"nofollow noreferrer\">https://github.com/choudharylakshyaveer/cloud-config-server</a>)\nnaminig-server(<a href=\"https://github.com/choudharylakshyaveer/naming-server\" rel=\"nofollow noreferrer\">https://github.com/choudharylakshyaveer/naming-server</a>)\ngateway(<a href=\"https://github.com/choudharylakshyaveer/api-gateway\" rel=\"nofollow noreferrer\">https://github.com/choudharylakshyaveer/api-gateway</a>)</p>\n<p>FrontEnd: is at react js: <a href=\"https://github.com/choudharylakshyaveer/chargie\" rel=\"nofollow noreferrer\">https://github.com/choudharylakshyaveer/chargie</a></p>\n<p>For first time use, a new user need to be register that can be done from curl:</p>\n<pre><code>curl --location --request GET 'http://localhost:8765/user/save' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    &quot;username&quot;: &quot;user@chargie.com&quot;,\n    &quot;password&quot;: &quot;chaudhary22&quot;,\n    &quot;enabled&quot;: true,\n    &quot;roles&quot;: [\n        &quot;ROLE_ADMIN&quot;,\n        &quot;ROLE_USER&quot;\n    ]\n}'\n</code></pre>\n<p>To login using the above registered user, below can be run from cUrl:</p>\n<pre><code>curl --location --request POST 'http://localhost:8765/login' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    &quot;username&quot;: &quot;user@chargie.com&quot;,\n    &quot;password&quot;: &quot;chaudhary22&quot;\n}'\n</code></pre>\n<p>Once I log In and get the Bearer token, after that I am facing cors issue from the reactJs FE, bu same request is working fine from the Postman, below is request from postman:</p>\n<pre><code>curl --location --request GET 'http://localhost:8765/REGISTRATION-SERVICE/test' \\\n--header 'Access-Control-Allow-Credentials: true' \\\n--header 'Access-Control-Allow-Headers: content-type' \\\n--header 'Access-Control-Allow-Methods: PUT, POST, GET, DELETE, PATCH, OPTIONS' \\\n--header 'Access-Control-Allow-Origin: *' \\\n--header 'Access-Control-Max-Age: 1800' \\\n--header 'Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjpbIlJPTEVfQURNSU4iLCJST0xFX1VTRVIiXSwic3ViIjoibHZzIiwiaWF0IjoxNjU4OTM0NzIxLCJleHAiOjE2NTg5NjM1MjF9.MN6lCrwLB2bBDBLp-HG4nlSRlyhoR2cQDSRGvJCD2WwDMojhei0wW7xVuDwVCtRUANK02aQMhqagafB2csDWWg'\n</code></pre>\n<h1>Below is the code used to hit request from ReactJs FE:</h1>\n<pre><code>var config = {\n            method: 'get',\n            url: 'http://localhost:8765/REGISTRATION-SERVICE/test',\n            headers: { \n              Authorization: `Bearer ${token}`,\n              'Content-Type': 'application/json',\n              'Access-Control-Allow-Origin': '*',\n              'Access-Control-Allow-Credentials': 'true',\n              'Access-Control-Max-Age': '1800',\n              'Access-Control-Allow-Headers': 'content-type',\n              'Access-Control-Allow-Methods': 'PUT, POST, GET, DELETE, PATCH, OPTIONS'\n            },\n            Authorization: `Bearer ${token}`\n          };\n          \n          axios(config)\n          .then(function (response) {\n            console.log(JSON.stringify(response.data));\n          })\n          .catch(function (error) {\n            console.log(error);\n          });\n</code></pre>\n<p>And this request gives me CORS issue:\n<a href=\"https://i.stack.imgur.com/OqS9s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OqS9s.png\" alt=\"enter image description here\" /></a></p>\n<p>Snippet of the ServerSecurityContextRepository's overridden method used in SecurityContextRepository class of api-gateway:</p>\n<pre><code>@Override\n    public Mono&lt;SecurityContext&gt; load(ServerWebExchange swe) {\n        ServerHttpRequest request = swe.getRequest();\n        HttpHeaders headers = request.getHeaders();\n        String authHeader = headers.getFirst(HttpHeaders.AUTHORIZATION);\n\n        if (authHeader != null &amp;&amp; authHeader.startsWith(&quot;Bearer &quot;)) {\n            String authToken = authHeader.substring(7);\n            Authentication auth = new UsernamePasswordAuthenticationToken(authToken, authToken);\n            return this.authenticationManager.authenticate(auth).map((authentication) -&gt; {\n                return new SecurityContextImpl(authentication);\n            });\n        } else {\n            return Mono.empty();\n        }\n    }\n</code></pre>\n<p>Here when the request is coming from the Postman then below is receievd in the <strong><code>headers</code></strong> variable:</p>\n<pre><code>[access-control-allow-credentials:&quot;true&quot;, access-control-allow-headers:&quot;content-type&quot;, access-control-allow-methods:&quot;PUT, POST, GET, DELETE, PATCH, OPTIONS&quot;, access-control-allow-origin:&quot;*&quot;, access-control-max-age:&quot;1800&quot;, authorization:&quot;Bearer eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjpbIlJPTEVfQURNSU4iLCJST0xFX1VTRVIiXSwic3ViIjoibHZzIiwiaWF0IjoxNjU4OTM0NzIxLCJleHAiOjE2NTg5NjM1MjF9.MN6lCrwLB2bBDBLp-HG4nlSRlyhoR2cQDSRGvJCD2WwDMojhei0wW7xVuDwVCtRUANK02aQMhqagafB2csDWWg&quot;, user-agent:&quot;PostmanRuntime/7.29.0&quot;, accept:&quot;*/*&quot;, postman-token:&quot;6c0d7a9a-dcde-45d7-8422-1476682db9f4&quot;, host:&quot;localhost:8765&quot;, accept-encoding:&quot;gzip, deflate, br&quot;, connection:&quot;keep-alive&quot;]\n</code></pre>\n<p>But when same request comes from Front end then below is receievd in the <strong><code>headers</code></strong> variable and it seems to be malformed:</p>\n<pre><code>[host:&quot;localhost:8765&quot;, connection:&quot;keep-alive&quot;, pragma:&quot;no-cache&quot;, cache-control:&quot;no-cache&quot;, accept:&quot;*/*&quot;, access-control-request-method:&quot;GET&quot;, access-control-request-headers:&quot;access-control-allow-credentials,access-control-allow-headers,access-control-allow-methods,access-control-allow-origin,access-control-max-age,authorization&quot;, origin:&quot;http://localhost:3000&quot;, user-agent:&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36&quot;, sec-fetch-mode:&quot;cors&quot;, sec-fetch-site:&quot;same-site&quot;, sec-fetch-dest:&quot;empty&quot;, referer:&quot;http://localhost:3000/&quot;, accept-encoding:&quot;gzip, deflate, br&quot;, accept-language:&quot;en-US,en;q=0.9&quot;]\n</code></pre>\n<p>So, Here I am not receiving proper Authorization header on backend's <strong>headers</strong> variable so that I can take Bearer token to validate it.</p>\n"},{"tags":["java","json","deserialization","xstream"],"answers":[{"tags":[],"owner":{"account_id":3376919,"reputation":491,"user_id":2834893,"display_name":"Shiv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683657842,"creation_date":1683657842,"answer_id":76212520,"question_id":75911611,"body_markdown":"You try adding **xStream.autodetectAnnotations(true)**. This should work.\r\n\r\n    public static void studentJsonDeserialization() {\r\n        XStream xStream = new XStream(new JettisonMappedXmlDriver());\r\n        xStream.autodetectAnnotations(true);\r\n        xStream.addPermission(AnyTypePermission.ANY);\r\n        xStream.alias(&quot;academicGroup&quot;, AcademicGroup.class);\r\n\r\n        AcademicGroup newAcademicGroup = (AcademicGroup) xStream.fromXML(new File(&quot;AcademicGroup.json&quot;));\r\n        for (Student student : newAcademicGroup.getStudents()) {\r\n            System.out.println(student.toString());\r\n        }\r\n    }","title":"Deserializing JSON object using Xstream","body":"<p>You try adding <strong>xStream.autodetectAnnotations(true)</strong>. This should work.</p>\n<pre><code>public static void studentJsonDeserialization() {\n    XStream xStream = new XStream(new JettisonMappedXmlDriver());\n    xStream.autodetectAnnotations(true);\n    xStream.addPermission(AnyTypePermission.ANY);\n    xStream.alias(&quot;academicGroup&quot;, AcademicGroup.class);\n\n    AcademicGroup newAcademicGroup = (AcademicGroup) xStream.fromXML(new File(&quot;AcademicGroup.json&quot;));\n    for (Student student : newAcademicGroup.getStudents()) {\n        System.out.println(student.toString());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20148320,"reputation":1,"user_id":21548702,"display_name":"Карина Карпенко"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683657842,"creation_date":1680433285,"question_id":75911611,"body_markdown":"My task is to describe the classes Student and Academic group (with the field - an array of students). Create objects. Provide file creation and reading from files using three approaches:       \r\n\r\nserialization and deserialization in JSON (by means of XStream).\r\n\r\nI serialize an Academic group that has students array list :\r\n\r\n```\r\n\r\npublic class AcademicGroup  {\r\n\r\n    private List&lt;Student&gt; students;\r\n\r\n    public AcademicGroup() {\r\n        this.students = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public void addStudent(Student student) {\r\n        students.add(student);\r\n    }\r\n\r\n    public Student[] getStudents() {\r\n        return students.toArray(new Student[0]);\r\n    }\r\n}\r\n```\r\n\r\nand student:\r\n\r\n```\r\n\r\n\r\npublic class Student {\r\n    private String name;\r\n    private String group;\r\n\r\n    public Student(String name, String group) {\r\n        this.name = name;\r\n        this.group = group;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getGroup() {\r\n        return group;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return name + &quot; &quot; + group;\r\n    }\r\n}\r\n```\r\n\r\nserialize function\r\n\r\n```\r\npublic static void studentJsonSerialization() {\r\n        XStream xStream = new XStream(new JsonHierarchicalStreamDriver());\r\n        List&lt;Student&gt; students = Arrays.asList(\r\n                new Student(&quot;Student1&quot;, &quot;KN-221A&quot;),\r\n                new Student(&quot;Student2&quot;, &quot;KN-221A&quot;),\r\n                new Student(&quot;Student3&quot;, &quot;KN-221A&quot;)\r\n        );\r\n        AcademicGroup academicGroup = new AcademicGroup();\r\n        for (Student student : students) {\r\n            academicGroup.addStudent(student);\r\n        }\r\n        xStream.alias(&quot;academicGroup&quot;, AcademicGroup.class);\r\n        String xml = xStream.toXML(academicGroup);\r\n        try (FileWriter fw = new FileWriter(&quot;AcademicGroup.json&quot;);\r\n             PrintWriter out = new PrintWriter(fw)) {\r\n            out.println(xml);\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n}\r\n```\r\n\r\nthe file AcademicGroup.json that I get:\r\n\r\n```\r\n{&quot;academicGroup&quot;: {\r\n  &quot;students&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;Student1&quot;,\r\n      &quot;group&quot;: &quot;KN-221A&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;Student2&quot;,\r\n      &quot;group&quot;: &quot;KN-221A&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;Student3&quot;,\r\n      &quot;group&quot;: &quot;KN-221A&quot;\r\n    }\r\n  ]\r\n}}\r\n```\r\n\r\ndeserialization function:\r\n\r\n```\r\n    public static void studentJsonDeserialization() {\r\n        XStream xStream = new XStream(new JettisonMappedXmlDriver());\r\n        xStream.addPermission(AnyTypePermission.ANY);\r\n        xStream.alias(&quot;academicGroup&quot;, AcademicGroup.class);\r\n\r\n        AcademicGroup newAcademicGroup = (AcademicGroup) xStream.fromXML(new File(&quot;AcademicGroup.json&quot;));\r\n        for (Student student : newAcademicGroup.getStudents()) {\r\n            System.out.println(student.toString());\r\n        }\r\n    }\r\n```\r\n\r\nI need to print json objects in console, but I get an error message\r\n\r\n```\r\nException in thread &quot;main&quot; com.thoughtworks.xstream.converters.ConversionException: \r\n---- Debugging information ----\r\ncause-exception     : com.thoughtworks.xstream.mapper.CannotResolveClassException\r\ncause-message       : name\r\nclass               : java.util.ArrayList\r\nrequired-type       : java.util.ArrayList\r\nconverter-type      : com.thoughtworks.xstream.converters.collections.CollectionConverter\r\npath                : /academicGroup/students/name\r\nline number         : -1\r\nclass[1]            : org.example.AcademicGroup\r\nrequired-type[1]    : org.example.AcademicGroup\r\nconverter-type[1]   : com.thoughtworks.xstream.converters.reflection.ReflectionConverter\r\nversion             : 1.4.20\r\n```","title":"Deserializing JSON object using Xstream","body":"<p>My task is to describe the classes Student and Academic group (with the field - an array of students). Create objects. Provide file creation and reading from files using three approaches:</p>\n<p>serialization and deserialization in JSON (by means of XStream).</p>\n<p>I serialize an Academic group that has students array list :</p>\n<pre><code>\npublic class AcademicGroup  {\n\n    private List&lt;Student&gt; students;\n\n    public AcademicGroup() {\n        this.students = new ArrayList&lt;&gt;();\n    }\n\n    public void addStudent(Student student) {\n        students.add(student);\n    }\n\n    public Student[] getStudents() {\n        return students.toArray(new Student[0]);\n    }\n}\n</code></pre>\n<p>and student:</p>\n<pre><code>\n\npublic class Student {\n    private String name;\n    private String group;\n\n    public Student(String name, String group) {\n        this.name = name;\n        this.group = group;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getGroup() {\n        return group;\n    }\n\n    @Override\n    public String toString() {\n        return name + &quot; &quot; + group;\n    }\n}\n</code></pre>\n<p>serialize function</p>\n<pre><code>public static void studentJsonSerialization() {\n        XStream xStream = new XStream(new JsonHierarchicalStreamDriver());\n        List&lt;Student&gt; students = Arrays.asList(\n                new Student(&quot;Student1&quot;, &quot;KN-221A&quot;),\n                new Student(&quot;Student2&quot;, &quot;KN-221A&quot;),\n                new Student(&quot;Student3&quot;, &quot;KN-221A&quot;)\n        );\n        AcademicGroup academicGroup = new AcademicGroup();\n        for (Student student : students) {\n            academicGroup.addStudent(student);\n        }\n        xStream.alias(&quot;academicGroup&quot;, AcademicGroup.class);\n        String xml = xStream.toXML(academicGroup);\n        try (FileWriter fw = new FileWriter(&quot;AcademicGroup.json&quot;);\n             PrintWriter out = new PrintWriter(fw)) {\n            out.println(xml);\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n}\n</code></pre>\n<p>the file AcademicGroup.json that I get:</p>\n<pre><code>{&quot;academicGroup&quot;: {\n  &quot;students&quot;: [\n    {\n      &quot;name&quot;: &quot;Student1&quot;,\n      &quot;group&quot;: &quot;KN-221A&quot;\n    },\n    {\n      &quot;name&quot;: &quot;Student2&quot;,\n      &quot;group&quot;: &quot;KN-221A&quot;\n    },\n    {\n      &quot;name&quot;: &quot;Student3&quot;,\n      &quot;group&quot;: &quot;KN-221A&quot;\n    }\n  ]\n}}\n</code></pre>\n<p>deserialization function:</p>\n<pre><code>    public static void studentJsonDeserialization() {\n        XStream xStream = new XStream(new JettisonMappedXmlDriver());\n        xStream.addPermission(AnyTypePermission.ANY);\n        xStream.alias(&quot;academicGroup&quot;, AcademicGroup.class);\n\n        AcademicGroup newAcademicGroup = (AcademicGroup) xStream.fromXML(new File(&quot;AcademicGroup.json&quot;));\n        for (Student student : newAcademicGroup.getStudents()) {\n            System.out.println(student.toString());\n        }\n    }\n</code></pre>\n<p>I need to print json objects in console, but I get an error message</p>\n<pre><code>Exception in thread &quot;main&quot; com.thoughtworks.xstream.converters.ConversionException: \n---- Debugging information ----\ncause-exception     : com.thoughtworks.xstream.mapper.CannotResolveClassException\ncause-message       : name\nclass               : java.util.ArrayList\nrequired-type       : java.util.ArrayList\nconverter-type      : com.thoughtworks.xstream.converters.collections.CollectionConverter\npath                : /academicGroup/students/name\nline number         : -1\nclass[1]            : org.example.AcademicGroup\nrequired-type[1]    : org.example.AcademicGroup\nconverter-type[1]   : com.thoughtworks.xstream.converters.reflection.ReflectionConverter\nversion             : 1.4.20\n</code></pre>\n"},{"tags":["java","multithreading","pi"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1683657745,"post_id":76212398,"comment_id":134399571,"body_markdown":"Why did you use a public static class?","body":"Why did you use a public static class?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683660007,"post_id":76212398,"comment_id":134400025,"body_markdown":"adding/subtracting to/from `pi` must be synchronized **on the same** instance - since `job()` is not `static`, it is synchronized on its instance, but each thread is getting its own instance of `PICal`... change `job()` to `static`, or use a dedicated instance for synchronizing, or, even better use classes from `java.util.concurrent`","body":"adding/subtracting to/from <code>pi</code> must be synchronized <b>on the same</b> instance - since <code>job()</code> is not <code>static</code>, it is synchronized on its instance, but each thread is getting its own instance of <code>PICal</code>... change <code>job()</code> to <code>static</code>, or use a dedicated instance for synchronizing, or, even better use classes from <code>java.util.concurrent</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683660873,"post_id":76212398,"comment_id":134400187,"body_markdown":"and BTW be aware of the difference between `Long` and `long`... (also note that `pow(0.1, 9)` is just `1E-9`, `pow(10, 6)` like `1E+6`, and `(long)` of that, just `1_000_000L` [easier to read IMHO])","body":"and BTW be aware of the difference between <code>Long</code> and <code>long</code>... (also note that <code>pow(0.1, 9)</code> is just <code>1E-9</code>, <code>pow(10, 6)</code> like <code>1E+6</code>, and <code>(long)</code> of that, just <code>1_000_000L</code> [easier to read IMHO])"}],"owner":{"account_id":18876565,"reputation":1,"user_id":13769953,"display_name":"seyed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683656677,"creation_date":1683656677,"question_id":76212398,"body_markdown":"I&#39;m trying to calculate the PI number using the Leibniz formula. When I set the number of threads to 100, it gets different outputs in different executions, but it gets the right answer whenever I set the number of threads to 1.\r\n\r\nThis exercise is just for educational purposes and I&#39;m not going to use it in a real-world calculation. I&#39;m sure my formula works well as you can see in\r\n\r\n```\r\nterm = BigDecimal.ONE.divide(BigDecimal.valueOf(2L * i + 1), mc);\r\n```\r\n\r\nHere&#39;s my full code written in Java language:\r\n\r\n```\r\nimport java.math.BigDecimal;\r\nimport java.math.MathContext;\r\nimport java.math.RoundingMode;\r\nimport java.text.Bidi;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class PiCalculator {\r\n        public static class PICal implements Runnable\r\n        {\r\n            public static BigDecimal floatingPoint;\r\n            public static boolean flag = true;\r\n            public static MathContext mc;\r\n            private final Long number;\r\n            private final Long iter;\r\n            public static BigDecimal pi;\r\n            public PICal(Long number,Long iter) {\r\n                this.number = number;\r\n                this.iter=iter;\r\n            }\r\n            public synchronized void job(BigDecimal n,boolean flag)\r\n            {\r\n                if(flag)\r\n                    pi = pi.add(n);\r\n                else\r\n                    pi = pi.subtract(n);\r\n            }\r\n            @Override\r\n            public void run() {\r\n                BigDecimal term;\r\n                Long i;\r\n                boolean add = number % 2 != 1;\r\n                for (i = number; i &lt; iter ; i ++) {\r\n                    term = BigDecimal.ONE.divide(BigDecimal.valueOf(2L * i + 1), mc);\r\n                    if (term.abs().compareTo(floatingPoint) &lt; 0) {\r\n                        if(i.equals(number))\r\n                            flag = false;\r\n                        return;\r\n                    }\r\n                    job(term, add);\r\n                    add = !add;\r\n                }\r\n            }\r\n        }\r\n    public static void main(String[] args) {\r\n        int floatingPoint = 8;\r\n        BigDecimal base = new BigDecimal(&quot;0.1&quot;);\r\n        PICal.floatingPoint = base.pow(floatingPoint+1);\r\n        PICal.mc = new MathContext(floatingPoint+1);\r\n        PICal.pi = BigDecimal.ZERO;\r\n        ExecutorService executor = Executors.newCachedThreadPool();\r\n        Long power = (long) Math.pow(10 ,6);\r\n        for (int i = 0; i &lt; 100 &amp;&amp; PICal.flag ; i++) {\r\n            executor.execute(new PICal(i*power,(i+1)*power));\r\n        }\r\n        executor.shutdown();\r\n        try {\r\n            executor.awaitTermination(Long.MAX_VALUE, TimeUnit.NANOSECONDS);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        System.out.println((PICal.pi.multiply(BigDecimal.valueOf(4))).setScale(floatingPoint, RoundingMode.FLOOR));\r\n    }\r\n}\r\n```\r\n\r\nThanks.\r\n\r\nThe number of threads in the example is the point of the whole problem. When we change the number of threads from 1 to 100, it begins to get random values for pi. Static variable `floatingPoint` in `PICal` class indicates how many iterations it takes to calculate to the right amount of precisions. So we set it to a larger number than we want. It works for 1 thread but doesn&#39;t work for 100.","title":"Java multithread Leibniz series calculation outputs wrong answer but gives right answer with one thread","body":"<p>I'm trying to calculate the PI number using the Leibniz formula. When I set the number of threads to 100, it gets different outputs in different executions, but it gets the right answer whenever I set the number of threads to 1.</p>\n<p>This exercise is just for educational purposes and I'm not going to use it in a real-world calculation. I'm sure my formula works well as you can see in</p>\n<pre><code>term = BigDecimal.ONE.divide(BigDecimal.valueOf(2L * i + 1), mc);\n</code></pre>\n<p>Here's my full code written in Java language:</p>\n<pre><code>import java.math.BigDecimal;\nimport java.math.MathContext;\nimport java.math.RoundingMode;\nimport java.text.Bidi;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeUnit;\n\npublic class PiCalculator {\n        public static class PICal implements Runnable\n        {\n            public static BigDecimal floatingPoint;\n            public static boolean flag = true;\n            public static MathContext mc;\n            private final Long number;\n            private final Long iter;\n            public static BigDecimal pi;\n            public PICal(Long number,Long iter) {\n                this.number = number;\n                this.iter=iter;\n            }\n            public synchronized void job(BigDecimal n,boolean flag)\n            {\n                if(flag)\n                    pi = pi.add(n);\n                else\n                    pi = pi.subtract(n);\n            }\n            @Override\n            public void run() {\n                BigDecimal term;\n                Long i;\n                boolean add = number % 2 != 1;\n                for (i = number; i &lt; iter ; i ++) {\n                    term = BigDecimal.ONE.divide(BigDecimal.valueOf(2L * i + 1), mc);\n                    if (term.abs().compareTo(floatingPoint) &lt; 0) {\n                        if(i.equals(number))\n                            flag = false;\n                        return;\n                    }\n                    job(term, add);\n                    add = !add;\n                }\n            }\n        }\n    public static void main(String[] args) {\n        int floatingPoint = 8;\n        BigDecimal base = new BigDecimal(&quot;0.1&quot;);\n        PICal.floatingPoint = base.pow(floatingPoint+1);\n        PICal.mc = new MathContext(floatingPoint+1);\n        PICal.pi = BigDecimal.ZERO;\n        ExecutorService executor = Executors.newCachedThreadPool();\n        Long power = (long) Math.pow(10 ,6);\n        for (int i = 0; i &lt; 100 &amp;&amp; PICal.flag ; i++) {\n            executor.execute(new PICal(i*power,(i+1)*power));\n        }\n        executor.shutdown();\n        try {\n            executor.awaitTermination(Long.MAX_VALUE, TimeUnit.NANOSECONDS);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        System.out.println((PICal.pi.multiply(BigDecimal.valueOf(4))).setScale(floatingPoint, RoundingMode.FLOOR));\n    }\n}\n</code></pre>\n<p>Thanks.</p>\n<p>The number of threads in the example is the point of the whole problem. When we change the number of threads from 1 to 100, it begins to get random values for pi. Static variable <code>floatingPoint</code> in <code>PICal</code> class indicates how many iterations it takes to calculate to the right amount of precisions. So we set it to a larger number than we want. It works for 1 thread but doesn't work for 100.</p>\n"},{"tags":["java","angular","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1661411011,"post_id":73467030,"comment_id":129766786,"body_markdown":"What does *it works since I can share the JSESSIONID cookie between localhost instances* mean? Your backend could set a session cookie and your SPA could use it to access your backend. That is no problem with different domains.","body":"What does <i>it works since I can share the JSESSIONID cookie between localhost instances</i> mean? Your backend could set a session cookie and your SPA could use it to access your backend. That is no problem with different domains."}],"owner":{"account_id":14538951,"reputation":23,"user_id":10501326,"display_name":"momonosuke__"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683656293,"creation_date":1661310627,"question_id":73467030,"body_markdown":"I&#39;m looking to integrate with Twitter&#39;s twitterv2 API. The goal is to enable the backend to fetch the OAuth2 access token from Twitter and execute requests on behalf of a user which uses the SPA.\r\n\r\nFrom my understanding, the backend needs to be the OAuth client since it&#39;s the component who needs to access the (Twitter API) resources server endpoints.\r\n\r\nSo far, my app is designed for the backend to redirect the SPA to the Twitter login and then back to the SPA. In local, it works since I can share the `JSESSIONID` cookie between localhost instances but when I deploy my app and I don&#39;t have the same domain for both backend and frontend, there is no way for the SPA to login.\r\n\r\nI feel like my backend needs to be an resource server as well as a resource client for my use case to work since the SPA needs to login with Twitter to access it&#39;s resouces. Am I missing something?\r\n\r\nHere&#39;s my Spring Security config class: \r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    @Value(&quot;${front_end.baseUrl}&quot;)\r\n    private String front_end_baseUrl;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n            .authorizeRequests()\r\n                .antMatchers(&quot;/user/isUserLoggedIn&quot;,&quot;/generate/customModel&quot;,&quot;/generate/customModel/test&quot;,&quot;/pay&quot;,&quot;/pay/****&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n            .cors(withDefaults())\r\n            .csrf().disable()\r\n            .oauth2Login()\r\n                .tokenEndpoint()\r\n                    .accessTokenResponseClient(accessTokenResponseClient())\r\n                        .and()\r\n                .and()\r\n            .build();\r\n    }\r\n\r\n    @Bean\r\n    public OAuth2AccessTokenResponseClient&lt;OAuth2AuthorizationCodeGrantRequest&gt; accessTokenResponseClient(){\r\n        DefaultAuthorizationCodeTokenResponseClient accessTokenResponseClient =\r\n                new DefaultAuthorizationCodeTokenResponseClient();\r\n        accessTokenResponseClient.setRequestEntityConverter(new CustomRequestEntityConverter());\r\n\r\n        OAuth2AccessTokenResponseHttpMessageConverter tokenResponseHttpMessageConverter =\r\n                new OAuth2AccessTokenResponseHttpMessageConverter();\r\n\r\n        RestTemplate restTemplate = new RestTemplate(Arrays.asList(\r\n                new FormHttpMessageConverter(), tokenResponseHttpMessageConverter));\r\n        restTemplate.setErrorHandler(new OAuth2ErrorResponseErrorHandler());\r\n\r\n        accessTokenResponseClient.setRestOperations(restTemplate);\r\n        return accessTokenResponseClient;\r\n    }\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(Collections.singletonList(front_end_baseUrl));\r\n\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;));\r\n\r\n        configuration.addAllowedHeader(&quot;content-type&quot;);\r\n        configuration.addAllowedHeader(&quot;Access-Control-Allow-Origin&quot;);\r\n        configuration.addAllowedHeader(&quot;Authorization&quot;);\r\n        configuration.setAllowCredentials(true);\r\n\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n\r\n        return source;\r\n    }\r\n\r\n}\r\n\r\n``` ","title":"Grant access to SPA from Spring Boot oauth2login","body":"<p>I'm looking to integrate with Twitter's twitterv2 API. The goal is to enable the backend to fetch the OAuth2 access token from Twitter and execute requests on behalf of a user which uses the SPA.</p>\n<p>From my understanding, the backend needs to be the OAuth client since it's the component who needs to access the (Twitter API) resources server endpoints.</p>\n<p>So far, my app is designed for the backend to redirect the SPA to the Twitter login and then back to the SPA. In local, it works since I can share the <code>JSESSIONID</code> cookie between localhost instances but when I deploy my app and I don't have the same domain for both backend and frontend, there is no way for the SPA to login.</p>\n<p>I feel like my backend needs to be an resource server as well as a resource client for my use case to work since the SPA needs to login with Twitter to access it's resouces. Am I missing something?</p>\n<p>Here's my Spring Security config class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    @Value(&quot;${front_end.baseUrl}&quot;)\n    private String front_end_baseUrl;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http\n            .authorizeRequests()\n                .antMatchers(&quot;/user/isUserLoggedIn&quot;,&quot;/generate/customModel&quot;,&quot;/generate/customModel/test&quot;,&quot;/pay&quot;,&quot;/pay/****&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n            .cors(withDefaults())\n            .csrf().disable()\n            .oauth2Login()\n                .tokenEndpoint()\n                    .accessTokenResponseClient(accessTokenResponseClient())\n                        .and()\n                .and()\n            .build();\n    }\n\n    @Bean\n    public OAuth2AccessTokenResponseClient&lt;OAuth2AuthorizationCodeGrantRequest&gt; accessTokenResponseClient(){\n        DefaultAuthorizationCodeTokenResponseClient accessTokenResponseClient =\n                new DefaultAuthorizationCodeTokenResponseClient();\n        accessTokenResponseClient.setRequestEntityConverter(new CustomRequestEntityConverter());\n\n        OAuth2AccessTokenResponseHttpMessageConverter tokenResponseHttpMessageConverter =\n                new OAuth2AccessTokenResponseHttpMessageConverter();\n\n        RestTemplate restTemplate = new RestTemplate(Arrays.asList(\n                new FormHttpMessageConverter(), tokenResponseHttpMessageConverter));\n        restTemplate.setErrorHandler(new OAuth2ErrorResponseErrorHandler());\n\n        accessTokenResponseClient.setRestOperations(restTemplate);\n        return accessTokenResponseClient;\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Collections.singletonList(front_end_baseUrl));\n\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;));\n\n        configuration.addAllowedHeader(&quot;content-type&quot;);\n        configuration.addAllowedHeader(&quot;Access-Control-Allow-Origin&quot;);\n        configuration.addAllowedHeader(&quot;Authorization&quot;);\n        configuration.setAllowCredentials(true);\n\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n\n        return source;\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","terminology","signature","descriptor"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1683656164,"creation_date":1316768221,"answer_id":7526525,"question_id":7526483,"body_markdown":"Looking at the [JVM spec section 4.3.3][1], for one thing the descriptor contains the return type - whereas that isn&#39;t part of a the [signature][2] of a method.\r\n\r\n&gt; A method descriptor represents the parameters that the method takes and the value that it returns\r\n\r\nbut...\r\n\r\n&gt; Two methods have the same signature if they have the same name and argument types\r\n\r\n(Given this, it&#39;s also not clear that the descriptor contains the *name* of the method...)\r\n\r\n  [1]: https://web.archive.org/web/20061104123330/http://java.sun.com/docs/books/vmspec/2nd-edition/html/ClassFile.doc.html#7035\r\n  [2]: https://web.archive.org/web/20070124105519/http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.4.2","title":"What is the difference between &quot;descriptor&quot; and &quot;signature&quot;?","body":"<p>Looking at the <a href=\"https://web.archive.org/web/20061104123330/http://java.sun.com/docs/books/vmspec/2nd-edition/html/ClassFile.doc.html#7035\" rel=\"nofollow noreferrer\">JVM spec section 4.3.3</a>, for one thing the descriptor contains the return type - whereas that isn't part of a the <a href=\"https://web.archive.org/web/20070124105519/http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.4.2\" rel=\"nofollow noreferrer\">signature</a> of a method.</p>\n<blockquote>\n<p>A method descriptor represents the parameters that the method takes and the value that it returns</p>\n</blockquote>\n<p>but...</p>\n<blockquote>\n<p>Two methods have the same signature if they have the same name and argument types</p>\n</blockquote>\n<p>(Given this, it's also not clear that the descriptor contains the <em>name</em> of the method...)</p>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1316768431,"creation_date":1316768431,"answer_id":7526573,"question_id":7526483,"body_markdown":"&quot;descriptor&quot; probably refers to the method descriptor as defined in [the JVM spec &#167; 4.3.3][1]. It describes the parameter *types* and the return type of a method. It does *not* contain the method name.\r\n\r\n&quot;signatur&quot; probably refers to the signature of as defined in the [Java Language Specification &#167; 8.4.2][2]. It contains the *name* of the method as well as the parameter types. It does *not* contain the return type.\r\n\r\nNote that those two terms are defined in two different places and at different levels. A method descriptor exists at the JVM-level, so it&#39;s pretty detached from the Java *language*. The signature, however is a very similar concept, but acts on the Java *language* level (as it&#39;s defined in the JLS).\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/vmspec/2nd-edition/html/ClassFile.doc.html#4.3.3\r\n  [2]: http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.4.2","title":"What is the difference between &quot;descriptor&quot; and &quot;signature&quot;?","body":"<p>\"descriptor\" probably refers to the method descriptor as defined in <a href=\"http://java.sun.com/docs/books/vmspec/2nd-edition/html/ClassFile.doc.html#4.3.3\" rel=\"noreferrer\">the JVM spec § 4.3.3</a>. It describes the parameter <em>types</em> and the return type of a method. It does <em>not</em> contain the method name.</p>\n\n<p>\"signatur\" probably refers to the signature of as defined in the <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.4.2\" rel=\"noreferrer\">Java Language Specification § 8.4.2</a>. It contains the <em>name</em> of the method as well as the parameter types. It does <em>not</em> contain the return type.</p>\n\n<p>Note that those two terms are defined in two different places and at different levels. A method descriptor exists at the JVM-level, so it's pretty detached from the Java <em>language</em>. The signature, however is a very similar concept, but acts on the Java <em>language</em> level (as it's defined in the JLS).</p>\n"},{"comments":[{"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"score":1,"creation_date":1611208528,"post_id":13244788,"comment_id":116377888,"body_markdown":"This answer is right and clear, why not choose this?","body":"This answer is right and clear, why not choose this?"},{"owner":{"account_id":27620,"reputation":8746,"user_id":73046,"accept_rate":55,"display_name":"James Moore"},"score":1,"creation_date":1613270214,"post_id":13244788,"comment_id":117023351,"body_markdown":"@FredSuvn the answer was from almost a decade ago.  It&#39;s very, very, very, very.... very unlikely that the original requester remembers anything about it or is working on anything similar these days.","body":"@FredSuvn the answer was from almost a decade ago.  It&#39;s very, very, very, very.... very unlikely that the original requester remembers anything about it or is working on anything similar these days."}],"tags":[],"owner":{"account_id":27620,"reputation":8746,"user_id":73046,"accept_rate":55,"display_name":"James Moore"},"comment_count":2,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1352178816,"creation_date":1352178816,"answer_id":13244788,"question_id":7526483,"body_markdown":"In the context of asm, you care about internal names, method descriptors, type descriptors and signatures.  Section numbers are from the [asm doc][1].\r\n\r\n**2.1.2 Internal names**\r\n\r\n&quot;The internal name of a class is just the\r\nfully qualified name of this class, where dots are replaced with slashes.&quot;\r\n\r\n    com/snark/Boojum\r\n\r\n**2.1.3 Type descriptors**\r\n\r\n    [[Ljava/lang/Object;\r\n\r\n**2.1.4 Method descriptor**\r\n\r\nA method descriptor is a list of type descriptors that describe the parameter\r\ntypes and the return type of a method, in a single string.\r\n\r\n    int[] m(int i, String s) becomes (ILjava/lang/String;)[I\r\n\r\n**4.1. Generics (for signatures)**\r\n\r\n&quot;For backward compatibility reasons the information about generic types is not\r\nstored in type or method descriptors (which were defined long before the introduction\r\nof generics in Java 5), but in similar constructs called type, method\r\nand class signatures.&quot;\r\n\r\nThis Java:\r\n\r\n    List&lt;List&lt;String&gt;[]&gt;\r\n\r\nBecomes this signature:\r\n\r\n    Ljava/util/List&lt;[Ljava/util/List&lt;Ljava/lang/String;&gt;;&gt;;\r\n\r\n\r\n  [1]: http://asm.ow2.org/","title":"What is the difference between &quot;descriptor&quot; and &quot;signature&quot;?","body":"<p>In the context of asm, you care about internal names, method descriptors, type descriptors and signatures.  Section numbers are from the <a href=\"http://asm.ow2.org/\">asm doc</a>.</p>\n\n<p><strong>2.1.2 Internal names</strong></p>\n\n<p>\"The internal name of a class is just the\nfully qualified name of this class, where dots are replaced with slashes.\"</p>\n\n<pre><code>com/snark/Boojum\n</code></pre>\n\n<p><strong>2.1.3 Type descriptors</strong></p>\n\n<pre><code>[[Ljava/lang/Object;\n</code></pre>\n\n<p><strong>2.1.4 Method descriptor</strong></p>\n\n<p>A method descriptor is a list of type descriptors that describe the parameter\ntypes and the return type of a method, in a single string.</p>\n\n<pre><code>int[] m(int i, String s) becomes (ILjava/lang/String;)[I\n</code></pre>\n\n<p><strong>4.1. Generics (for signatures)</strong></p>\n\n<p>\"For backward compatibility reasons the information about generic types is not\nstored in type or method descriptors (which were defined long before the introduction\nof generics in Java 5), but in similar constructs called type, method\nand class signatures.\"</p>\n\n<p>This Java:</p>\n\n<pre><code>List&lt;List&lt;String&gt;[]&gt;\n</code></pre>\n\n<p>Becomes this signature:</p>\n\n<pre><code>Ljava/util/List&lt;[Ljava/util/List&lt;Ljava/lang/String;&gt;;&gt;;\n</code></pre>\n"}],"owner":{"account_id":895790,"reputation":615,"user_id":933114,"accept_rate":33,"display_name":"akry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11968,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":7526525,"answer_count":3,"score":19,"last_activity_date":1683656164,"creation_date":1316767956,"question_id":7526483,"body_markdown":"I am now using ASM (Java bytecode instrumentation library). To retrieve the signature of given method, there is a field which is named &quot;desc&quot;. I guess this is an abbreviation of &quot;descriptor&quot;, but why isn&#39;t it named as &quot;signature&quot;? Is there any difference between &quot;descriptor&quot; and &quot;signature&quot;?\r\n\r\n","title":"What is the difference between &quot;descriptor&quot; and &quot;signature&quot;?","body":"<p>I am now using ASM (Java bytecode instrumentation library). To retrieve the signature of given method, there is a field which is named \"desc\". I guess this is an abbreviation of \"descriptor\", but why isn't it named as \"signature\"? Is there any difference between \"descriptor\" and \"signature\"?</p>\n"},{"tags":["java","installation","ant"],"comments":[{"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":0,"creation_date":1268957534,"post_id":2474189,"comment_id":2465097,"body_markdown":"There are at least three duplicates in the &quot;Related&quot; sidebar.","body":"There are at least three duplicates in the &quot;Related&quot; sidebar."},{"owner":{"account_id":66479,"reputation":27633,"user_id":194982,"accept_rate":65,"display_name":"bguiz"},"score":3,"creation_date":1268957683,"post_id":2474189,"comment_id":2465110,"body_markdown":"@Paul Tomblin : Except that none of them address the crux of my question, which is `detect / handle previously installed versions of the application`. Edited to make that emphasis.","body":"@Paul Tomblin : Except that none of them address the crux of my question, which is <code>detect &#47; handle previously installed versions of the application</code>. Edited to make that emphasis."},{"owner":{"account_id":60229,"reputation":28541,"user_id":179972,"accept_rate":86,"display_name":"John K"},"score":1,"creation_date":1268967571,"post_id":2474189,"comment_id":2465784,"body_markdown":"Indeed author made it very clear, even in original version, the crux of the problem. At cursory glance anything can look like a dupe but it&#39;s important to understand the core issue in the question.","body":"Indeed author made it very clear, even in original version, the crux of the problem. At cursory glance anything can look like a dupe but it&#39;s important to understand the core issue in the question."}],"answers":[{"comments":[{"owner":{"account_id":66479,"reputation":27633,"user_id":194982,"accept_rate":65,"display_name":"bguiz"},"score":0,"creation_date":1268961874,"post_id":2474406,"comment_id":2465408,"body_markdown":"@Stephen C, I have considered that however, the feature is only available in Windows, and my installer needs to work on Windows. `Additonal on windows the registry will be scanned for an entry which determines that the product is already installed` ( http://izpack.org/documentation/panels.html#id4 )","body":"@Stephen C, I have considered that however, the feature is only available in Windows, and my installer needs to work on Windows. <code>Additonal on windows the registry will be scanned for an entry which determines that the product is already installed</code> ( <a href=\"http://izpack.org/documentation/panels.html#id4\" rel=\"nofollow noreferrer\">izpack.org/documentation/panels.html#id4</a> )"},{"owner":{"account_id":66479,"reputation":27633,"user_id":194982,"accept_rate":65,"display_name":"bguiz"},"score":0,"creation_date":1268961984,"post_id":2474406,"comment_id":2465418,"body_markdown":"@Stephen C, also I don&#39;t require it to be capable of doing an in place upgrade. Assume the first version has not yet been installed, but subsequent versions should detect previous versions installed.","body":"@Stephen C, also I don&#39;t require it to be capable of doing an in place upgrade. Assume the first version has not yet been installed, but subsequent versions should detect previous versions installed."},{"owner":{"account_id":66479,"reputation":27633,"user_id":194982,"accept_rate":65,"display_name":"bguiz"},"score":0,"creation_date":1271982627,"post_id":2474406,"comment_id":2717366,"body_markdown":"+1 and check @Stephen C : I have followed your suggestion, except the extending `CheckedHelloPanel` did not really work well (for my target application at least). H/w I&#39;ve extended `IzPanel` to achieve a similar effect, so thanks for the suggestion!","body":"+1 and check @Stephen C : I have followed your suggestion, except the extending <code>CheckedHelloPanel</code> did not really work well (for my target application at least). H/w I&#39;ve extended <code>IzPanel</code> to achieve a similar effect, so thanks for the suggestion!"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1268976793,"creation_date":1268961164,"answer_id":2474406,"question_id":2474189,"body_markdown":"I think that you may be missing izPack&#39;s `CheckedHelloPanel` which (according to the online docs) checks in the registry to see if another version has already been installed, and asks if you want to install a second version.\r\n\r\nOTOH ... if you mean that the installer should be capable of doing an in-place upgrade of a previous version, that is a really hard problem, and I&#39;ve yet to encounter an installer builder that even attempts to address it.\r\n\r\n**EDIT** On non-windows platforms, there is a fundamental problem.  If an application can be installed in a non-standard place, it is impossible to tell with 100% confidence if a copy (of the same or a different version) has previously installed.  And this may be at the root of why `CheckedHelloPanel` only supports old version detection on Windows.\r\n\r\nThat having been said, `izPack` is open source, so if you can figure out a methodology for detecting a previous version on Linux, you can modify `CheckedHelloPanel` to implement it.  And maybe the `izPack` will accept a patch.  Anyway, I recommend you look at that approach first before ditching a tool that you are otherwise happy with.  (Especially if what you want to do simply cannot be done on Linux.)","title":"Installer for java application","body":"<p>I think that you may be missing izPack's <code>CheckedHelloPanel</code> which (according to the online docs) checks in the registry to see if another version has already been installed, and asks if you want to install a second version.</p>\n\n<p>OTOH ... if you mean that the installer should be capable of doing an in-place upgrade of a previous version, that is a really hard problem, and I've yet to encounter an installer builder that even attempts to address it.</p>\n\n<p><strong>EDIT</strong> On non-windows platforms, there is a fundamental problem.  If an application can be installed in a non-standard place, it is impossible to tell with 100% confidence if a copy (of the same or a different version) has previously installed.  And this may be at the root of why <code>CheckedHelloPanel</code> only supports old version detection on Windows.</p>\n\n<p>That having been said, <code>izPack</code> is open source, so if you can figure out a methodology for detecting a previous version on Linux, you can modify <code>CheckedHelloPanel</code> to implement it.  And maybe the <code>izPack</code> will accept a patch.  Anyway, I recommend you look at that approach first before ditching a tool that you are otherwise happy with.  (Especially if what you want to do simply cannot be done on Linux.)</p>\n"},{"comments":[{"owner":{"account_id":39941,"reputation":23634,"user_id":115478,"accept_rate":74,"display_name":"leedm777"},"score":1,"creation_date":1268975623,"post_id":2474717,"comment_id":2466251,"body_markdown":"We use InstallAnywhere at work, and I would *not* recommend it.","body":"We use InstallAnywhere at work, and I would <i>not</i> recommend it."},{"owner":{"account_id":35821,"reputation":15653,"user_id":101762,"accept_rate":87,"display_name":"Persimmonium"},"score":1,"creation_date":1268990875,"post_id":2474717,"comment_id":2467245,"body_markdown":"We use it at work too...my coworkers are trying to convince management to move to another tool, it&#39;s nightmare and very very unproductive in terms of time needed to build and test it. I think next version is going to go with InstallShield","body":"We use it at work too...my coworkers are trying to convince management to move to another tool, it&#39;s nightmare and very very unproductive in terms of time needed to build and test it. I think next version is going to go with InstallShield"},{"owner":{"account_id":93370,"reputation":1172,"user_id":255486,"display_name":"Ed."},"score":0,"creation_date":1269294231,"post_id":2474717,"comment_id":2490033,"body_markdown":"The companies that made InstallAnywhere and InstallShield Multi-Platform were bought by a third company, and their product lines were merged.  The bottom line is that ISMP is no longer on the market.  They still sell &quot;InstallShield&quot; products for Windows native installs, but not for multi-platform.","body":"The companies that made InstallAnywhere and InstallShield Multi-Platform were bought by a third company, and their product lines were merged.  The bottom line is that ISMP is no longer on the market.  They still sell &quot;InstallShield&quot; products for Windows native installs, but not for multi-platform."},{"owner":{"account_id":22739,"reputation":3347,"user_id":56395,"accept_rate":100,"display_name":"Daniel Lopez"},"score":0,"creation_date":1280417577,"post_id":2474717,"comment_id":3494351,"body_markdown":"The frustration as users of ISMP at my previous company was the reason we created BitRock :)  InstallAnywhere was a better successor but still painful","body":"The frustration as users of ISMP at my previous company was the reason we created BitRock :)  InstallAnywhere was a better successor but still painful"}],"tags":[],"owner":{"account_id":93370,"reputation":1172,"user_id":255486,"display_name":"Ed."},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1268967255,"creation_date":1268967255,"answer_id":2474717,"question_id":2474189,"body_markdown":"InstallAnywhere can do all that, and ISMP (InstallShield Muli-Platform) did all that when Flexera was still selling it, but they&#39;re commercial software.  I don&#39;t know of a free equivalent that does all those things.\r\n","title":"Installer for java application","body":"<p>InstallAnywhere can do all that, and ISMP (InstallShield Muli-Platform) did all that when Flexera was still selling it, but they're commercial software.  I don't know of a free equivalent that does all those things.</p>\n"},{"tags":[],"owner":{"account_id":27004,"reputation":28823,"user_id":70795,"accept_rate":56,"display_name":"Mark"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1268987391,"creation_date":1268987391,"answer_id":2475879,"question_id":2474189,"body_markdown":"[install4j][1] can handle all your requirements.\r\n\r\n\r\n  [1]: http://www.ej-technologies.com/products/install4j/overview.html","title":"Installer for java application","body":"<p><a href=\"http://www.ej-technologies.com/products/install4j/overview.html\" rel=\"nofollow noreferrer\">install4j</a> can handle all your requirements.</p>\n"},{"comments":[{"owner":{"account_id":66479,"reputation":27633,"user_id":194982,"accept_rate":65,"display_name":"bguiz"},"score":0,"creation_date":1269037082,"post_id":2479523,"comment_id":2472774,"body_markdown":"@Damon, I have checked out the documentation, and under `Check for previous install` and `Add install info`, makes references to `registry` and `install registry`. I am wary that these equates to (part of) the Windows registry. If not where is this registry actually located?","body":"@Damon, I have checked out the documentation, and under <code>Check for previous install</code> and <code>Add install info</code>, makes references to <code>registry</code> and <code>install registry</code>. I am wary that these equates to (part of) the Windows registry. If not where is this registry actually located?"},{"owner":{"account_id":34678,"reputation":258,"user_id":98064,"display_name":"Damon"},"score":0,"creation_date":1269052181,"post_id":2479523,"comment_id":2473769,"body_markdown":"InstallJammer keeps its own &quot;registry&quot; of installations on the target system.  These are stored on disk and not in the Windows registry even on a Windows system.\n\nEach installation stores some basic information in the IJ registry, and that is what is used to check for previous installations.  You can also store your own information with each installation if you want, as the installer just stores what it needs.\n\nIt&#39;s a very flexible system though, so I think you will find you can get any information you want out of it.","body":"InstallJammer keeps its own &quot;registry&quot; of installations on the target system.  These are stored on disk and not in the Windows registry even on a Windows system.  Each installation stores some basic information in the IJ registry, and that is what is used to check for previous installations.  You can also store your own information with each installation if you want, as the installer just stores what it needs.  It&#39;s a very flexible system though, so I think you will find you can get any information you want out of it."}],"tags":[],"owner":{"account_id":34678,"reputation":258,"user_id":98064,"display_name":"Damon"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1269021777,"creation_date":1269021777,"answer_id":2479523,"question_id":2474189,"body_markdown":"Give [InstallJammer][1] a try.  It&#39;s free, open source and should do exactly what you want.  Specifically, it not only will detect a previous installation, but it actually has some sophisticated capabilities for detecting multiple previous versions and gathering needed information from them.\r\n\r\nDownload it and give it a try, and if you have any questions, drop by the forums and ask.  I usually answer everyone pretty quickly and completely. 0-]\r\n\r\n\r\n  [1]: http://www.installjammer.com/","title":"Installer for java application","body":"<p>Give <a href=\"http://www.installjammer.com/\" rel=\"nofollow noreferrer\">InstallJammer</a> a try.  It's free, open source and should do exactly what you want.  Specifically, it not only will detect a previous installation, but it actually has some sophisticated capabilities for detecting multiple previous versions and gathering needed information from them.</p>\n\n<p>Download it and give it a try, and if you have any questions, drop by the forums and ask.  I usually answer everyone pretty quickly and completely. 0-]</p>\n"},{"tags":[],"owner":{"account_id":22739,"reputation":3347,"user_id":56395,"accept_rate":100,"display_name":"Daniel Lopez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1269527217,"creation_date":1269527217,"answer_id":2516291,"question_id":2474189,"body_markdown":"Give a try to our tool, [BitRock InstallBuilder][1] it meets all your requirements\r\n\r\n\r\n  [1]: http://installbuilder.bitrock.com","title":"Installer for java application","body":"<p>Give a try to our tool, <a href=\"http://installbuilder.bitrock.com\" rel=\"nofollow noreferrer\">BitRock InstallBuilder</a> it meets all your requirements</p>\n"}],"owner":{"account_id":66479,"reputation":27633,"user_id":194982,"accept_rate":65,"display_name":"bguiz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":980,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":2474406,"answer_count":5,"score":6,"last_activity_date":1683655362,"creation_date":1268957156,"question_id":2474189,"body_markdown":"I would like to know what packages are out there that can be used to create installers to distribute applications.\r\n\r\nThe target application is written in Java. The installer must be able to:\r\n\r\n - be compiled via an ant script\r\n - be compiled Linux (and Windows)\r\n - run on Windows and Linux\r\n - **detect / handle previously installed versions** of the application\r\n\r\nWe currently use [IzPack][izpack], because it does all of the above, except the latter: It cannot easily detect previously installed version of the software, and this is the deal breaker for us.\r\n\r\nAre there any other packages out there which fit the bill?\r\n\r\nThank you!\r\n\r\n\r\n  [izpack]: http://izpack.org/","title":"Installer for java application","body":"<p>I would like to know what packages are out there that can be used to create installers to distribute applications.</p>\n\n<p>The target application is written in Java. The installer must be able to:</p>\n\n<ul>\n<li>be compiled via an ant script</li>\n<li>be compiled Linux (and Windows)</li>\n<li>run on Windows and Linux</li>\n<li><strong>detect / handle previously installed versions</strong> of the application</li>\n</ul>\n\n<p>We currently use <a href=\"http://izpack.org/\" rel=\"nofollow noreferrer\">IzPack</a>, because it does all of the above, except the latter: It cannot easily detect previously installed version of the software, and this is the deal breaker for us.</p>\n\n<p>Are there any other packages out there which fit the bill?</p>\n\n<p>Thank you!</p>\n"},{"tags":["java","api","code-documentation"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1502659852,"post_id":45665060,"comment_id":78287791,"body_markdown":"API stands for **a**pplication **p**rogramming **i**nterface, here is a good description: [Wikipedia](https://en.wikipedia.org/wiki/Application_programming_interface). In general API is code that is used by other programmers to, for example, create a final product. It is kind of an utility tool. For example an API for mailing offers easy to use methods to setup and send mails, without having the full knowledge of mail protocols. So you could view the whole Java standard library as API, I would see *library* as good synonym there.","body":"API stands for <b>a</b>pplication <b>p</b>rogramming <b>i</b>nterface, here is a good description: <a href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" rel=\"nofollow noreferrer\">Wikipedia</a>. In general API is code that is used by other programmers to, for example, create a final product. It is kind of an utility tool. For example an API for mailing offers easy to use methods to setup and send mails, without having the full knowledge of mail protocols. So you could view the whole Java standard library as API, I would see <i>library</i> as good synonym there."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1502659959,"post_id":45665060,"comment_id":78287816,"body_markdown":"More precise one could talk of API as the part of a library that specifies the behavior, so interfaces and documentation for example. Having that you could have different implementations of one API specification that all fulfill the same overall result.","body":"More precise one could talk of API as the part of a library that specifies the behavior, so interfaces and documentation for example. Having that you could have different implementations of one API specification that all fulfill the same overall result."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1502660335,"post_id":45665060,"comment_id":78287924,"body_markdown":"This concept doesn&#39;t apply to just Java","body":"This concept doesn&#39;t apply to just Java"},{"owner":{"display_name":"user758077"},"score":0,"creation_date":1502809289,"post_id":45665060,"comment_id":78349324,"body_markdown":"@Zabuza: thanks for your comments. So the answer to my first question would be &quot;yes&quot;? What would you say about the second question?","body":"@Zabuza: thanks for your comments. So the answer to my first question would be &quot;yes&quot;? What would you say about the second question?"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1502822596,"post_id":45665060,"comment_id":78357175,"body_markdown":"I would say an API consists of the whole set of classes and functions, together they form an API. But more precise the API is just the description of the input and output, it does not necessarily declare **how** one must implement this description. This perfectly matches the concept of `interface`s. So you could for example have someone that creates the API by just creating hundreds of **interfaces** and their **documentation**. Then another team could write implementations for example.","body":"I would say an API consists of the whole set of classes and functions, together they form an API. But more precise the API is just the description of the input and output, it does not necessarily declare <b>how</b> one must implement this description. This perfectly matches the concept of <code>interface</code>s. So you could for example have someone that creates the API by just creating hundreds of <b>interfaces</b> and their <b>documentation</b>. Then another team could write implementations for example."}],"answers":[{"tags":[],"owner":{"account_id":1538545,"reputation":704,"user_id":1433838,"display_name":"Kirby"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1502660116,"creation_date":1502660116,"answer_id":45665124,"question_id":45665060,"body_markdown":"An API is the interface to a code library. It consists of the objects and methods used to interact with a library. ","title":"API and declaration of functions/classes in Java","body":"<p>An API is the interface to a code library. It consists of the objects and methods used to interact with a library. </p>\n"},{"tags":[],"owner":{"account_id":7059566,"reputation":303,"user_id":5405434,"display_name":"Philippe Cloutier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683655291,"creation_date":1683651683,"answer_id":76211802,"question_id":45665060,"body_markdown":"Good question. A system can somewhat be compared to a puzzle. For example, a website might consist of the WordPress blog engine and a database (MariaDB). If both are considered as puzzle pieces, the shape of their corresponding side must match for them to fit together. Instead of having interjambs and blanks, WordPress speaks SQL and MariaDB also speaks SQL. If the SQL dialects match, then the line between the pieces is the same, and one piece can be inserted next to the other, so both pieces have a compatible *software interface*. Instead of being short lines though, APIs are much more complex.\r\n\r\nMost APIs contain lots of functions/methods which must have corresponding behaviors on both sides. Technically, the API is the &quot;shape of the line&quot; between the client and the library, as Kirby wrote. But the term has become extremely confusing because it has gained numerous other senses. Often, *API* means a description of the line&#39;s shape, i.e. a ***specification of an API***, which could be a document describing the objects in the library, or a set of Java interfaces. In that sense, then yes, an API (specification) can be &quot;part of the Java codes&quot;.\r\n\r\nTechnically, the API differs from declarations of classes the same way that the shape of a puzzle piece edge differs from the puzzle piece itself; SQL is very different from MariaDB. That being said, in actual jargon, *API* has come to be used to refer to implementations of an API. This is particularly true in the web. When people talk about *web APIs*, they often refer to *services* offering an API implementation to consumers.\r\n\r\nIn short, the sense of *API* has been largely/excessively extrapolated, and nowadays the answer to your questions **depends on the context**. If we make a parallel between software interfaces and APIs, in the previous example, current jargon could use &quot;API&quot; to refer to either:\r\n\r\n 1. the Structured Query Language itself (the interface)\r\n 2. the ISO documents specifying the SQL standard(s) (an interface specification)\r\n 3. a SQL-compliant DBMS engine, like MariaDB (an implementation; proscribed but common)\r\n\r\n **In the context of Java, an API is often a small package which contains abstract classes** which are implemented in one or more packages implementing that API.","title":"API and declaration of functions/classes in Java","body":"<p>Good question. A system can somewhat be compared to a puzzle. For example, a website might consist of the WordPress blog engine and a database (MariaDB). If both are considered as puzzle pieces, the shape of their corresponding side must match for them to fit together. Instead of having interjambs and blanks, WordPress speaks SQL and MariaDB also speaks SQL. If the SQL dialects match, then the line between the pieces is the same, and one piece can be inserted next to the other, so both pieces have a compatible <em>software interface</em>. Instead of being short lines though, APIs are much more complex.</p>\n<p>Most APIs contain lots of functions/methods which must have corresponding behaviors on both sides. Technically, the API is the &quot;shape of the line&quot; between the client and the library, as Kirby wrote. But the term has become extremely confusing because it has gained numerous other senses. Often, <em>API</em> means a description of the line's shape, i.e. a <em><strong>specification of an API</strong></em>, which could be a document describing the objects in the library, or a set of Java interfaces. In that sense, then yes, an API (specification) can be &quot;part of the Java codes&quot;.</p>\n<p>Technically, the API differs from declarations of classes the same way that the shape of a puzzle piece edge differs from the puzzle piece itself; SQL is very different from MariaDB. That being said, in actual jargon, <em>API</em> has come to be used to refer to implementations of an API. This is particularly true in the web. When people talk about <em>web APIs</em>, they often refer to <em>services</em> offering an API implementation to consumers.</p>\n<p>In short, the sense of <em>API</em> has been largely/excessively extrapolated, and nowadays the answer to your questions <strong>depends on the context</strong>. If we make a parallel between software interfaces and APIs, in the previous example, current jargon could use &quot;API&quot; to refer to either:</p>\n<ol>\n<li>the Structured Query Language itself (the interface)</li>\n<li>the ISO documents specifying the SQL standard(s) (an interface specification)</li>\n<li>a SQL-compliant DBMS engine, like MariaDB (an implementation; proscribed but common)</li>\n</ol>\n<p><strong>In the context of Java, an API is often a small package which contains abstract classes</strong> which are implemented in one or more packages implementing that API.</p>\n"}],"owner":{"display_name":"user758077"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":897,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":45665124,"answer_count":2,"score":1,"last_activity_date":1683655291,"creation_date":1502659553,"question_id":45665060,"body_markdown":"I&#39;m reading the first chapter of *Algorithm* (and the first two chapters of *Introduction to Programming in Java*) by Sedgewick and Wayne. I don&#39;t understand what an API means. The following is an excerpt from the book:\r\n\r\n&gt;[![enter image description here][1]][1]\r\n\r\nAn example is given as follows:  \r\n&gt;[![enter image description here][2]][2]\r\n\r\nHere are my **questions**:\r\n\r\n - Is an API part of the Java codes?\r\n - How is an API different from declaration of functions/classes?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Vp9DI.png\r\n  [2]: https://i.stack.imgur.com/AMVCA.png","title":"API and declaration of functions/classes in Java","body":"<p>I'm reading the first chapter of <em>Algorithm</em> (and the first two chapters of <em>Introduction to Programming in Java</em>) by Sedgewick and Wayne. I don't understand what an API means. The following is an excerpt from the book:</p>\n\n<blockquote>\n  <p><a href=\"https://i.stack.imgur.com/Vp9DI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vp9DI.png\" alt=\"enter image description here\"></a></p>\n</blockquote>\n\n<p>An example is given as follows:  </p>\n\n<blockquote>\n  <p><a href=\"https://i.stack.imgur.com/AMVCA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AMVCA.png\" alt=\"enter image description here\"></a></p>\n</blockquote>\n\n<p>Here are my <strong>questions</strong>:</p>\n\n<ul>\n<li>Is an API part of the Java codes?</li>\n<li>How is an API different from declaration of functions/classes?</li>\n</ul>\n"},{"tags":["java","junit4","powermock"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1683654799,"post_id":76212143,"comment_id":134398946,"body_markdown":"&quot;I have not succeeded&quot;: what *specifically* does that mean?","body":"&quot;I have not succeeded&quot;: what <i>specifically</i> does that mean?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1683654830,"post_id":76212143,"comment_id":134398953,"body_markdown":"You haven&#39;t told us what actual problem you&#39;ve hit - please do so. Whatever the case, refactor your monolithic method by composing it of smaller, easily-testable methods.","body":"You haven&#39;t told us what actual problem you&#39;ve hit - please do so. Whatever the case, refactor your monolithic method by composing it of smaller, easily-testable methods."},{"owner":{"account_id":19287101,"reputation":9,"user_id":20296892,"display_name":"Jonathan Ortiz"},"score":0,"creation_date":1683655982,"post_id":76212143,"comment_id":134399197,"body_markdown":"Bohemian The problem is that I can&#39;t manage to test what I have inside the map","body":"Bohemian The problem is that I can&#39;t manage to test what I have inside the map"}],"owner":{"account_id":19287101,"reputation":9,"user_id":20296892,"display_name":"Jonathan Ortiz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683654702,"creation_date":1683654546,"question_id":76212143,"body_markdown":"I need to test a method that basically contains the generation of a json with different data, the method receives 2 lists and a Properties as parameters.\r\n\r\nI put code of the method to test:\r\n\r\n    public boolean getServiceLynxs(List&lt;DataGenerateFiles&gt; dataGenerateFilesList, List&lt;String&gt; \r\n        notSendLynxs, Properties params) throws IOException {\r\n\t\tboolean result = false;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tlogger.info(&quot;Llamando REST_LYNXS&quot;);\r\n\t\t\tSimpleDateFormat sdfNM1720 = new SimpleDateFormat((String) params.get(&quot;SDF_NM17_20&quot;));\r\n\t\t\tSimpleDateFormat sdfNM29 = new SimpleDateFormat((String) params.get(&quot;SDF_NM29&quot;));\r\n\t\t\tDate dateFecha = new Date();\r\n\t\t\tString thisIp = InetAddress.getLocalHost().getHostAddress();\r\n\r\n\t\t\tif (dataGenerateFilesList != null) {\r\n\t\t\t\tfor (DataGenerateFiles dataGenerateFiles : dataGenerateFilesList) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(!notSendLynxs.contains(dataGenerateFiles.getCdUsuario())) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tMap&lt;String, String&gt; jsonObject = new LinkedHashMap&lt;&gt;();\r\n\t\t\t\t\t\tjsonObject.put(&quot;NM01&quot;, &quot;NM&quot;);                                            jsonObject.put(&quot;NM02&quot;, &quot;MX&quot;);\r\n\t\t\t\t\t\tjsonObject.put(&quot;NM03&quot;, &quot;21&quot;);                                            jsonObject.put(&quot;NM04&quot;, dataGenerateFiles.getCdTipoBiometrico());\r\n\t\t\t\t\t\tjsonObject.put(&quot;NM05&quot;, &quot;LBMR&quot;);                                          jsonObject.put(&quot;NM06&quot;, dataGenerateFiles.getCdUsuario());\r\n\t\t\t\t\t\tjsonObject.put(&quot;NM07&quot;, &quot;&quot;);                                              jsonObject.put(&quot;NM08&quot;, &quot;&quot;);\r\n\t\t\t\t\t\tjsonObject.put(&quot;NM09&quot;, &quot;3&quot;);                                             jsonObject.put(&quot;NM10&quot;, &quot;&quot;);\r\n\t\t\t\t\t\tjsonObject.put(&quot;NM11&quot;, &quot;LBMR&quot;);                                          jsonObject.put(&quot;NM12&quot;, &quot;&quot;);\r\n\t\t\t\t\t\tjsonObject.put(&quot;NM13&quot;, dataGenerateFiles.getCdTelefonoEnrolamiento());   jsonObject.put(&quot;NM14&quot;, thisIp);\r\n\t\t\t\t\t\tjsonObject.put(&quot;NM15&quot;, &quot;&quot;);                                              jsonObject.put(&quot;NM16&quot;, &quot;&quot;);\r\n\t\t\t\t\t\tjsonObject.put(&quot;NM17&quot;, sdfNM1720.format(dateFecha));                    jsonObject.put(&quot;NM18&quot;, &quot;HV&quot;);\r\n\t\t\t\t\t\tjsonObject.put(&quot;NM19&quot;, &quot;WYDH&quot;);                                          jsonObject.put(&quot;NM20&quot;, sdfNM1720.format(dateFecha));\r\n\t\t\t\t\t\tjsonObject.put(&quot;NM21&quot;, dataGenerateFiles.getStEstatusBiometrico());      jsonObject.put(&quot;NM22&quot;, &quot;&quot;);\r\n\t\t\t\t\t\tjsonObject.put(&quot;NM23&quot;, &quot;&quot;);                                              jsonObject.put(&quot;NM24&quot;, &quot;&quot;);\r\n\t\t\t\t\t\tjsonObject.put(&quot;NM25&quot;, &quot;&quot;);                                              jsonObject.put(&quot;NM26&quot;, &quot;&quot;);\r\n\t\t\t\t\t\tjsonObject.put(&quot;NM27&quot;, dataGenerateFiles.getCdTelefonoEnrolamiento());   jsonObject.put(&quot;NM28&quot;, &quot;&quot;);\r\n\t\t\t\t\t\tjsonObject.put(&quot;NM29&quot;, sdfNM29.format(dateFecha));                       jsonObject.put(&quot;NM30&quot;, &quot;IVR1&quot;);\r\n\t\t\t\t\t\tjsonObject.put(&quot;NM31&quot;, &quot;&quot;);                                              jsonObject.put(&quot;NM32&quot;, &quot;&quot;);\r\n\t\t\t\t\t\tjsonObject.put(&quot;NM33&quot;, &quot;&quot;);                                              jsonObject.put(&quot;NM34&quot;, &quot;&quot;);\r\n\t\t\t\t\t\tjsonObject.put(&quot;NM35&quot;, &quot;&quot;);                                              jsonObject.put(&quot;NM36&quot;, &quot;&quot;);\r\n\t\t\t\t\t\tjsonObject.put(&quot;NM37&quot;, &quot;&quot;);                                              jsonObject.put(&quot;NM38&quot;, &quot;&quot;);\r\n\t\t\t\t\t\tjsonObject.put(&quot;NM39&quot;, &quot;&quot;);                                              jsonObject.put(&quot;NM40&quot;, &quot;&quot;);\r\n\t\t\t\t\t\tjsonObject.put(&quot;NM41&quot;, &quot;&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tString json = jsonObject.entrySet().stream()\r\n\t\t\t\t\t\t\t\t.map(x -&gt; &quot;\\&quot;&quot; + x.getKey() + &quot;\\&quot;:\\&quot;&quot; + x.getValue() + &quot;\\&quot;&quot;)\r\n\t\t\t\t\t\t\t\t.collect(Collectors.joining(&quot;,&quot;, &quot;{&quot;, &quot;}&quot;));\r\n\r\n\t\t\t\t\t\tconnectRestLynxs(params);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tOutputStream outputStream = httpUrlConnection.getOutputStream();\t\t\t\t\r\n\t\t\t\t\t\toutputStream.write(json.getBytes());\r\n\t\t\t\t\t\toutputStream.flush();\r\n\t\t\t\t\t\toutputStream.close();\r\n\r\n\t\t\t\t\t\tlogger.info(&quot;Respuesta LYNXS {}: &quot; + httpUrlConnection.getResponseCode());\r\n\t\t\t\t\t\tlogger.info(&quot;JSON_REST_LYNXS {}:&quot; + jsonObject);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tleerDatosJson();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t\t  result = true;\r\n\t\t\t}\r\n\t\t} catch (Exception ex) {\r\n\t\t\tlogger.error(&quot;Error Exception getServiceLynxs {}&quot; + ex.getMessage(), ex);\r\n\t\t\tresult = false;\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\nI am attaching a test method that I have at the moment, I have been trying to test the method, but I have not succeeded\r\n\r\n    @PowerMockIgnore(&quot;javax.*&quot;)\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({ RestLynxs.class, PropertiesCache.class })\r\n    public class RestLynxsTest {\r\n\r\n\t@InjectMocks\r\n\tRestLynxs restLynxsMock;\r\n\r\n\tProperties configProp = new Properties();\r\n\r\n\tDataGenerateFiles dataGenerateFiles;\r\n\tList&lt;DataGenerateFiles&gt; dataGenerateFilesList;\r\n\tList&lt;String&gt; notSendLynxs;\r\n\tString paramDateFormatNM1720 = &quot;20230425130930&quot;;\r\n\tString paramDateFormatNM29 = &quot;20230425171231000275&quot;;\r\n\r\n\t@Before\r\n\tpublic void setUp() throws Exception {\r\n\t\tMockitoAnnotations.initMocks(this);\r\n\t\tPowerMockito.mockStatic(PropertiesCache.class);\r\n\t\tdataGenerateFiles = new DataGenerateFiles();\r\n\t\tdataGenerateFiles.setCdTipoBiometrico(&quot;HV&quot;);\r\n\t\tdataGenerateFiles.setCdUsuario(&quot;D0000000&quot;);\r\n\t\tdataGenerateFiles.setCdTelefonoEnrolamiento(&quot;1234567890&quot;);\r\n\t\tdataGenerateFiles.setStEstatusBiometrico(&quot;000&quot;);\r\n\t}\r\n\r\n\t/**\r\n\t * Test method for\r\n\t * {@link com.bbva.bo.RestLynxs#getServiceLynxs(java.util.List, java.util.List)}.\r\n\t * \r\n\t * @throws IOException\r\n\t */\r\n\t@Test\r\n\tpublic void testGetServiceLynxs() throws IOException {\r\n\t\tInputStream inputStream = new FileInputStream(&quot;./FileTest/configHV_PU.properties&quot;);\r\n\t\tconfigProp.load(inputStream);\r\n\t\tdataGenerateFilesList = new ArrayList&lt;&gt;();\r\n\t\tdataGenerateFilesList.add(dataGenerateFiles);\r\n\t\tnotSendLynxs = new ArrayList&lt;&gt;();\r\n\t\tnotSendLynxs.add(&quot;D0000000&quot;);\r\n\r\n\t\tMap&lt;String, String&gt; dataJsonList = new LinkedHashMap&lt;&gt;();\r\n\t\tdataJsonList.put(&quot;NM04&quot;, dataGenerateFiles.getCdTipoBiometrico());\r\n\r\n\t\tList&lt;String&gt; listado = dataJsonList.values().stream().collect(Collectors.toList());\r\n\r\n\t\tboolean valueReceived = restLynxsMock.getServiceLynxs(dataGenerateFilesList, notSendLynxs, configProp);\r\n\t\tassertTrue(valueReceived);\r\n\t}\r\n}\r\n","title":"How to test a method that receives 2 lists as parameters and a Properties to generate a json","body":"<p>I need to test a method that basically contains the generation of a json with different data, the method receives 2 lists and a Properties as parameters.</p>\n<p>I put code of the method to test:</p>\n<pre><code>public boolean getServiceLynxs(List&lt;DataGenerateFiles&gt; dataGenerateFilesList, List&lt;String&gt; \n    notSendLynxs, Properties params) throws IOException {\n    boolean result = false;\n    \n    try {\n        logger.info(&quot;Llamando REST_LYNXS&quot;);\n        SimpleDateFormat sdfNM1720 = new SimpleDateFormat((String) params.get(&quot;SDF_NM17_20&quot;));\n        SimpleDateFormat sdfNM29 = new SimpleDateFormat((String) params.get(&quot;SDF_NM29&quot;));\n        Date dateFecha = new Date();\n        String thisIp = InetAddress.getLocalHost().getHostAddress();\n\n        if (dataGenerateFilesList != null) {\n            for (DataGenerateFiles dataGenerateFiles : dataGenerateFilesList) {\n                \n                if(!notSendLynxs.contains(dataGenerateFiles.getCdUsuario())) {\n                    \n                    Map&lt;String, String&gt; jsonObject = new LinkedHashMap&lt;&gt;();\n                    jsonObject.put(&quot;NM01&quot;, &quot;NM&quot;);                                            jsonObject.put(&quot;NM02&quot;, &quot;MX&quot;);\n                    jsonObject.put(&quot;NM03&quot;, &quot;21&quot;);                                            jsonObject.put(&quot;NM04&quot;, dataGenerateFiles.getCdTipoBiometrico());\n                    jsonObject.put(&quot;NM05&quot;, &quot;LBMR&quot;);                                          jsonObject.put(&quot;NM06&quot;, dataGenerateFiles.getCdUsuario());\n                    jsonObject.put(&quot;NM07&quot;, &quot;&quot;);                                              jsonObject.put(&quot;NM08&quot;, &quot;&quot;);\n                    jsonObject.put(&quot;NM09&quot;, &quot;3&quot;);                                             jsonObject.put(&quot;NM10&quot;, &quot;&quot;);\n                    jsonObject.put(&quot;NM11&quot;, &quot;LBMR&quot;);                                          jsonObject.put(&quot;NM12&quot;, &quot;&quot;);\n                    jsonObject.put(&quot;NM13&quot;, dataGenerateFiles.getCdTelefonoEnrolamiento());   jsonObject.put(&quot;NM14&quot;, thisIp);\n                    jsonObject.put(&quot;NM15&quot;, &quot;&quot;);                                              jsonObject.put(&quot;NM16&quot;, &quot;&quot;);\n                    jsonObject.put(&quot;NM17&quot;, sdfNM1720.format(dateFecha));                    jsonObject.put(&quot;NM18&quot;, &quot;HV&quot;);\n                    jsonObject.put(&quot;NM19&quot;, &quot;WYDH&quot;);                                          jsonObject.put(&quot;NM20&quot;, sdfNM1720.format(dateFecha));\n                    jsonObject.put(&quot;NM21&quot;, dataGenerateFiles.getStEstatusBiometrico());      jsonObject.put(&quot;NM22&quot;, &quot;&quot;);\n                    jsonObject.put(&quot;NM23&quot;, &quot;&quot;);                                              jsonObject.put(&quot;NM24&quot;, &quot;&quot;);\n                    jsonObject.put(&quot;NM25&quot;, &quot;&quot;);                                              jsonObject.put(&quot;NM26&quot;, &quot;&quot;);\n                    jsonObject.put(&quot;NM27&quot;, dataGenerateFiles.getCdTelefonoEnrolamiento());   jsonObject.put(&quot;NM28&quot;, &quot;&quot;);\n                    jsonObject.put(&quot;NM29&quot;, sdfNM29.format(dateFecha));                       jsonObject.put(&quot;NM30&quot;, &quot;IVR1&quot;);\n                    jsonObject.put(&quot;NM31&quot;, &quot;&quot;);                                              jsonObject.put(&quot;NM32&quot;, &quot;&quot;);\n                    jsonObject.put(&quot;NM33&quot;, &quot;&quot;);                                              jsonObject.put(&quot;NM34&quot;, &quot;&quot;);\n                    jsonObject.put(&quot;NM35&quot;, &quot;&quot;);                                              jsonObject.put(&quot;NM36&quot;, &quot;&quot;);\n                    jsonObject.put(&quot;NM37&quot;, &quot;&quot;);                                              jsonObject.put(&quot;NM38&quot;, &quot;&quot;);\n                    jsonObject.put(&quot;NM39&quot;, &quot;&quot;);                                              jsonObject.put(&quot;NM40&quot;, &quot;&quot;);\n                    jsonObject.put(&quot;NM41&quot;, &quot;&quot;);\n                    \n                    String json = jsonObject.entrySet().stream()\n                            .map(x -&gt; &quot;\\&quot;&quot; + x.getKey() + &quot;\\&quot;:\\&quot;&quot; + x.getValue() + &quot;\\&quot;&quot;)\n                            .collect(Collectors.joining(&quot;,&quot;, &quot;{&quot;, &quot;}&quot;));\n\n                    connectRestLynxs(params);\n                    \n                    OutputStream outputStream = httpUrlConnection.getOutputStream();                \n                    outputStream.write(json.getBytes());\n                    outputStream.flush();\n                    outputStream.close();\n\n                    logger.info(&quot;Respuesta LYNXS {}: &quot; + httpUrlConnection.getResponseCode());\n                    logger.info(&quot;JSON_REST_LYNXS {}:&quot; + jsonObject);\n                    \n                    leerDatosJson();\n                }\n\n            }\n              result = true;\n        }\n    } catch (Exception ex) {\n        logger.error(&quot;Error Exception getServiceLynxs {}&quot; + ex.getMessage(), ex);\n        result = false;\n    }\n    return result;\n}\n</code></pre>\n<p>I am attaching a test method that I have at the moment, I have been trying to test the method, but I have not succeeded</p>\n<pre><code>@PowerMockIgnore(&quot;javax.*&quot;)\n@RunWith(PowerMockRunner.class)\n@PrepareForTest({ RestLynxs.class, PropertiesCache.class })\npublic class RestLynxsTest {\n\n@InjectMocks\nRestLynxs restLynxsMock;\n\nProperties configProp = new Properties();\n\nDataGenerateFiles dataGenerateFiles;\nList&lt;DataGenerateFiles&gt; dataGenerateFilesList;\nList&lt;String&gt; notSendLynxs;\nString paramDateFormatNM1720 = &quot;20230425130930&quot;;\nString paramDateFormatNM29 = &quot;20230425171231000275&quot;;\n\n@Before\npublic void setUp() throws Exception {\n    MockitoAnnotations.initMocks(this);\n    PowerMockito.mockStatic(PropertiesCache.class);\n    dataGenerateFiles = new DataGenerateFiles();\n    dataGenerateFiles.setCdTipoBiometrico(&quot;HV&quot;);\n    dataGenerateFiles.setCdUsuario(&quot;D0000000&quot;);\n    dataGenerateFiles.setCdTelefonoEnrolamiento(&quot;1234567890&quot;);\n    dataGenerateFiles.setStEstatusBiometrico(&quot;000&quot;);\n}\n\n/**\n * Test method for\n * {@link com.bbva.bo.RestLynxs#getServiceLynxs(java.util.List, java.util.List)}.\n * \n * @throws IOException\n */\n@Test\npublic void testGetServiceLynxs() throws IOException {\n    InputStream inputStream = new FileInputStream(&quot;./FileTest/configHV_PU.properties&quot;);\n    configProp.load(inputStream);\n    dataGenerateFilesList = new ArrayList&lt;&gt;();\n    dataGenerateFilesList.add(dataGenerateFiles);\n    notSendLynxs = new ArrayList&lt;&gt;();\n    notSendLynxs.add(&quot;D0000000&quot;);\n\n    Map&lt;String, String&gt; dataJsonList = new LinkedHashMap&lt;&gt;();\n    dataJsonList.put(&quot;NM04&quot;, dataGenerateFiles.getCdTipoBiometrico());\n\n    List&lt;String&gt; listado = dataJsonList.values().stream().collect(Collectors.toList());\n\n    boolean valueReceived = restLynxsMock.getServiceLynxs(dataGenerateFilesList, notSendLynxs, configProp);\n    assertTrue(valueReceived);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","android-ndk","pangolin"],"owner":{"account_id":27476302,"reputation":1,"user_id":20964233,"display_name":"Zizooo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683654662,"creation_date":1683654662,"question_id":76212160,"body_markdown":"I want to implement Orb slam2 of [raulmur ](https://github.com/raulmur/ORB_SLAM2)on android. Orb slam2 use [pangolin ](https://github.com/stevenlovegrove/Pangolin) that is in c++ language but pangolin library not be used on android up to now and I can&#39;t find any example of android project that used pangolin.\r\n\r\nMy question is this: If we can build pangolin for ndk and use it in project ,how the output map that is made by pangolin will monitor for user?this question is from this fact that an android app gui is by java. is there any function that we use it in layout file and can monitor the build map?\r\n\r\nin this [repo](https://github.com/FireStoneYS/ORB_SLAM2_Android) and this [one ](https://github.com/muziyongshixin/ORB-SLAM2-based-AR-on-Android) Orbslam2 of Raulmur has been implemented on android but map building section is ignored and None of them have used pangolin.\r\n","title":"using pangolin library in android","body":"<p>I want to implement Orb slam2 of <a href=\"https://github.com/raulmur/ORB_SLAM2\" rel=\"nofollow noreferrer\">raulmur </a>on android. Orb slam2 use <a href=\"https://github.com/stevenlovegrove/Pangolin\" rel=\"nofollow noreferrer\">pangolin </a> that is in c++ language but pangolin library not be used on android up to now and I can't find any example of android project that used pangolin.</p>\n<p>My question is this: If we can build pangolin for ndk and use it in project ,how the output map that is made by pangolin will monitor for user?this question is from this fact that an android app gui is by java. is there any function that we use it in layout file and can monitor the build map?</p>\n<p>in this <a href=\"https://github.com/FireStoneYS/ORB_SLAM2_Android\" rel=\"nofollow noreferrer\">repo</a> and this <a href=\"https://github.com/muziyongshixin/ORB-SLAM2-based-AR-on-Android\" rel=\"nofollow noreferrer\">one </a> Orbslam2 of Raulmur has been implemented on android but map building section is ignored and None of them have used pangolin.</p>\n"},{"tags":["java","spring-boot","authentication","spring-security"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1683564395,"post_id":76200405,"comment_id":134382489,"body_markdown":"How is the second type of token validated by API endpoints? Why isn&#39;t it &quot;OAuth2&quot;?","body":"How is the second type of token validated by API endpoints? Why isn&#39;t it &quot;OAuth2&quot;?"},{"owner":{"account_id":13423226,"reputation":167,"user_id":9685373,"display_name":"Suhail Ahmed"},"score":0,"creation_date":1683608579,"post_id":76200405,"comment_id":134388564,"body_markdown":"its a normal base64 encoded token, but not a jwt token","body":"its a normal base64 encoded token, but not a jwt token"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1683614041,"post_id":76200405,"comment_id":134389201,"body_markdown":"this answers none of my two questions.","body":"this answers none of my two questions."},{"owner":{"account_id":13423226,"reputation":167,"user_id":9685373,"display_name":"Suhail Ahmed"},"score":0,"creation_date":1683648607,"post_id":76200405,"comment_id":134397491,"body_markdown":"ooh my bad,  we dont have access to that system so we dont have idea how the second token is validated, we just get user details as response.","body":"ooh my bad,  we dont have access to that system so we dont have idea how the second token is validated, we just get user details as response."},{"owner":{"account_id":13423226,"reputation":167,"user_id":9685373,"display_name":"Suhail Ahmed"},"score":0,"creation_date":1683648859,"post_id":76200405,"comment_id":134397552,"body_markdown":"Why isn&#39;t it &quot;OAuth2&quot; -&gt; it was the old way of handling authorization and some people still uses it so we are supporting both oauth and old way","body":"Why isn&#39;t it &quot;OAuth2&quot; -&gt; it was the old way of handling authorization and some people still uses it so we are supporting both oauth and old way"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1683652937,"post_id":76200405,"comment_id":134398550,"body_markdown":"OAuth2 tokens are not necessarily JWTs. It is legit for an OAuth2 resource-server to introspect an access-token (which is compatible with opaque tokens). As you seem to have an endpoint returning user-info from opaque tokens, you can use it as introspection endpoint.","body":"OAuth2 tokens are not necessarily JWTs. It is legit for an OAuth2 resource-server to introspect an access-token (which is compatible with opaque tokens). As you seem to have an endpoint returning user-info from opaque tokens, you can use it as introspection endpoint."}],"answers":[{"comments":[{"owner":{"account_id":13423226,"reputation":167,"user_id":9685373,"display_name":"Suhail Ahmed"},"score":0,"creation_date":1683710643,"post_id":76212110,"comment_id":134407004,"body_markdown":"both scenarios handle only oauth flow but what about the non-oauth flow? . And can we have multiple fiter-chain configured one for oauth and other for non-oauth?","body":"both scenarios handle only oauth flow but what about the non-oauth flow? . And can we have multiple fiter-chain configured one for oauth and other for non-oauth?"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1683717807,"post_id":76212110,"comment_id":134408658,"body_markdown":"Yes, the second option is exactly that: one filter-chain per request authorization type. So far, I don&#39;t understand why you write that the legacy system is not OAuth. As far as I understand, requests are secured with opaque `Bearer` access tokens validated by an external server =&gt; from resource server point of view, this is plain OAuth2 introspection (how tokens are acquired is none of their business).","body":"Yes, the second option is exactly that: one filter-chain per request authorization type. So far, I don&#39;t understand why you write that the legacy system is not OAuth. As far as I understand, requests are secured with opaque <code>Bearer</code> access tokens validated by an external server =&gt; from resource server point of view, this is plain OAuth2 introspection (how tokens are acquired is none of their business)."},{"owner":{"account_id":13423226,"reputation":167,"user_id":9685373,"display_name":"Suhail Ahmed"},"score":0,"creation_date":1683727351,"post_id":76212110,"comment_id":134411223,"body_markdown":"consider that for non-auth we get username and password from the user and using that we make an api call to the other server which understand the username and password and return us a base64 encoded string. to get the user details for authorization we send encoded string to the server but to other api endpoint which return a user object.","body":"consider that for non-auth we get username and password from the user and using that we make an api call to the other server which understand the username and password and return us a base64 encoded string. to get the user details for authorization we send encoded string to the server but to other api endpoint which return a user object."},{"owner":{"account_id":13423226,"reputation":167,"user_id":9685373,"display_name":"Suhail Ahmed"},"score":0,"creation_date":1683727391,"post_id":76212110,"comment_id":134411237,"body_markdown":"so how can i implement that using second option?","body":"so how can i implement that using second option?"}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683654265,"creation_date":1683654265,"answer_id":76212110,"question_id":76200405,"body_markdown":"Inferring from comments, your legacy system seems quite easy to integrate in an OAuth2 solution using introspection: use the legacy user-info endpoint to introspect opaque tokens.\r\n\r\nThat said, you have at least two options for configuring your resource servers:\r\n- create a single security filter-chain with a custom authentication manager resolver deciding to use JWT decoder or introspection depending on the authorization header format\r\n- create two separate security filter-chain with security matchers for each type of authorization (one for JWT access tokens and another one for legacy tokens to introspect)\r\n\r\nIn both cases, the configuration for the &quot;legacy&quot; tokens would be quite [standard configuration for resource server with introspection][2] (so called &quot;opaque token&quot; in Spring&#39;s doc, even if you can introspect JWTs), **with a custom introspector** submitting the token to the user-info endpoint you mention in your comments.\r\n\r\nThe `securityMatcher` in the second option are probably easier to write than the `AuthenticationManagerResolver` in the first. You could get inspirations from [this security matcher][1] (off course the condition won&#39;t be the same for you as you&#39;re probably matching a `bearer` pattern raser than `basic` string).\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/blob/ed1e8da796dafd667ae5f308d05d62726066449c/samples/webmvc-jwt-default/src/main/java/com/c4_soft/springaddons/samples/webmvc_jwtauthenticationtoken/BasicAuthSecurityConfig.java#L77\r\n  [2]: https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/opaque-token.html","title":"How to handle Oauth and non-oauth Authorization using spring security in spring boot 3?","body":"<p>Inferring from comments, your legacy system seems quite easy to integrate in an OAuth2 solution using introspection: use the legacy user-info endpoint to introspect opaque tokens.</p>\n<p>That said, you have at least two options for configuring your resource servers:</p>\n<ul>\n<li>create a single security filter-chain with a custom authentication manager resolver deciding to use JWT decoder or introspection depending on the authorization header format</li>\n<li>create two separate security filter-chain with security matchers for each type of authorization (one for JWT access tokens and another one for legacy tokens to introspect)</li>\n</ul>\n<p>In both cases, the configuration for the &quot;legacy&quot; tokens would be quite <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/opaque-token.html\" rel=\"nofollow noreferrer\">standard configuration for resource server with introspection</a> (so called &quot;opaque token&quot; in Spring's doc, even if you can introspect JWTs), <strong>with a custom introspector</strong> submitting the token to the user-info endpoint you mention in your comments.</p>\n<p>The <code>securityMatcher</code> in the second option are probably easier to write than the <code>AuthenticationManagerResolver</code> in the first. You could get inspirations from <a href=\"https://github.com/ch4mpy/spring-addons/blob/ed1e8da796dafd667ae5f308d05d62726066449c/samples/webmvc-jwt-default/src/main/java/com/c4_soft/springaddons/samples/webmvc_jwtauthenticationtoken/BasicAuthSecurityConfig.java#L77\" rel=\"nofollow noreferrer\">this security matcher</a> (off course the condition won't be the same for you as you're probably matching a <code>bearer</code> pattern raser than <code>basic</code> string).</p>\n"}],"owner":{"account_id":13423226,"reputation":167,"user_id":9685373,"display_name":"Suhail Ahmed"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683654265,"creation_date":1683547255,"question_id":76200405,"body_markdown":"In our application which is a spring 5 application, we have both Oauth and Non-Oauth authentication flow, either of the authentication flow can be using a setting.\r\n\r\nFor oauth we are using an internal authorization server and getting jwt access token.\r\n\r\nfor non-oauth we are using same internal authorization server&#39;s different endpoint which takes username and password and returns a token which is not a jwt token.\r\n\r\nSo for authorization we are using two different flows where each flow uses different endpoint to validate the token.\r\n\r\nnow we are upgrading to spring boot 3 and spring webflux, so we are planning to use spring security for protecting the endpoints.\r\n\r\n\r\n\r\n\r\n\r\n\r\nI have explored about the Oauth using spring security and resource server but it handle only Oauth case.\r\n\r\nim following https://medium.com/geekculture/jwt-authentication-with-oauth2-resource-server-and-an-external-authorization-server-2b8fd1524fc8 article to understand about the oauth flow.\r\n\r\nMy doubt is how to handle both Oauth and non-oauth authorization using spring security in spring boot 3 and spring webflux?","title":"How to handle Oauth and non-oauth Authorization using spring security in spring boot 3?","body":"<p>In our application which is a spring 5 application, we have both Oauth and Non-Oauth authentication flow, either of the authentication flow can be using a setting.</p>\n<p>For oauth we are using an internal authorization server and getting jwt access token.</p>\n<p>for non-oauth we are using same internal authorization server's different endpoint which takes username and password and returns a token which is not a jwt token.</p>\n<p>So for authorization we are using two different flows where each flow uses different endpoint to validate the token.</p>\n<p>now we are upgrading to spring boot 3 and spring webflux, so we are planning to use spring security for protecting the endpoints.</p>\n<p>I have explored about the Oauth using spring security and resource server but it handle only Oauth case.</p>\n<p>im following <a href=\"https://medium.com/geekculture/jwt-authentication-with-oauth2-resource-server-and-an-external-authorization-server-2b8fd1524fc8\" rel=\"nofollow noreferrer\">https://medium.com/geekculture/jwt-authentication-with-oauth2-resource-server-and-an-external-authorization-server-2b8fd1524fc8</a> article to understand about the oauth flow.</p>\n<p>My doubt is how to handle both Oauth and non-oauth authorization using spring security in spring boot 3 and spring webflux?</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":32467,"reputation":15600,"user_id":90155,"display_name":"hbw"},"score":0,"creation_date":1241835840,"post_id":842496,"comment_id":650844,"body_markdown":"Does it have to specifically use a Pattern object? You can split a string by a regular expression without using the Pattern object.","body":"Does it have to specifically use a Pattern object? You can split a string by a regular expression without using the Pattern object."}],"answers":[{"tags":[],"owner":{"account_id":35879,"reputation":566,"user_id":101952,"display_name":"Aaron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1241837393,"creation_date":1241837393,"answer_id":842560,"question_id":842496,"body_markdown":"I&#39;ve never used Pattern with scanner.\r\n\r\nI&#39;ve always just changed the delimeter with a string.\r\nhttp://java.sun.com/j2se/1.5.0/docs/api/java/util/Scanner.html#useDelimiter(java.lang.String)","title":"Reading text with Java Scanner next(Pattern pattern)","body":"<p>I've never used Pattern with scanner.</p>\n\n<p>I've always just changed the delimeter with a string.\n<a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Scanner.html#useDelimiter(java.lang.String)\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.5.0/docs/api/java/util/Scanner.html#useDelimiter(java.lang.String)</a></p>\n"},{"tags":[],"owner":{"account_id":7944,"reputation":21068,"user_id":14007,"accept_rate":92,"display_name":"Alex Beardsley"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1241837422,"creation_date":1241837422,"answer_id":842561,"question_id":842496,"body_markdown":"    File file = new File(&quot;someFileWithLinesContainingYourExampleText.txt&quot;);\r\n\tScanner s = new Scanner(file);\r\n\ts.useDelimiter(&quot;:&quot;);\r\n\t\t\r\n\twhile (!s.hasNextLine()) {\r\n\t    while (s.hasNext()) {\r\n\t        String text = s.next();\r\n\t\tSystem.out.println(text);\r\n\t    }\r\n\t\t\t\r\n\t    s.nextLine();\r\n    }","title":"Reading text with Java Scanner next(Pattern pattern)","body":"<pre><code>File file = new File(\"someFileWithLinesContainingYourExampleText.txt\");\nScanner s = new Scanner(file);\ns.useDelimiter(\":\");\n\nwhile (!s.hasNextLine()) {\n    while (s.hasNext()) {\n        String text = s.next();\n    System.out.println(text);\n    }\n\n    s.nextLine();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32467,"reputation":15600,"user_id":90155,"display_name":"hbw"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1241838972,"creation_date":1241838186,"answer_id":842573,"question_id":842496,"body_markdown":"There are two ways of doing this, depending on specifically what you want.\r\n\r\nIf you want to split the entire input by colons, then you can use the `useDelimiter()` method, like others have pointed out:\r\n\r\n    // You could also say &quot;scanner.useDelimiter(Pattern.compile(&quot;:&quot;))&quot;, but\r\n    // that&#39;s the exact same thing as saying &quot;scanner.useDelimiter(&quot;:&quot;)&quot;.\r\n    scanner.useDelimiter(&quot;:&quot;);\r\n   \r\n    // Examines each token one at a time\r\n    while (scanner.hasNext())\r\n    {\r\n        String token = scanner.next();\r\n        // Do something with token here...\r\n    }\r\n\r\nIf you want to split each line by a colon, then it would be much easier to use `String`&#39;s `split()` method:\r\n\r\n    while (scanner.hasNextLine())\r\n    {\r\n        String[] parts = scanner.nextLine().split(&quot;:&quot;);\r\n        // The parts array now contains [&quot;something&quot;, &quot;somethingelse&quot;]\r\n    }\r\n","title":"Reading text with Java Scanner next(Pattern pattern)","body":"<p>There are two ways of doing this, depending on specifically what you want.</p>\n\n<p>If you want to split the entire input by colons, then you can use the <code>useDelimiter()</code> method, like others have pointed out:</p>\n\n<pre><code>// You could also say \"scanner.useDelimiter(Pattern.compile(\":\"))\", but\n// that's the exact same thing as saying \"scanner.useDelimiter(\":\")\".\nscanner.useDelimiter(\":\");\n\n// Examines each token one at a time\nwhile (scanner.hasNext())\n{\n    String token = scanner.next();\n    // Do something with token here...\n}\n</code></pre>\n\n<p>If you want to split each line by a colon, then it would be much easier to use <code>String</code>'s <code>split()</code> method:</p>\n\n<pre><code>while (scanner.hasNextLine())\n{\n    String[] parts = scanner.nextLine().split(\":\");\n    // The parts array now contains [\"something\", \"somethingelse\"]\n}\n</code></pre>\n"}],"owner":{"account_id":31021,"reputation":57580,"user_id":84916,"accept_rate":83,"display_name":"burntsugar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24059,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":842573,"answer_count":3,"score":3,"last_activity_date":1683653794,"creation_date":1241834395,"question_id":842496,"body_markdown":"I am trying to use the Scanner class to read a line using the next(Pattern pattern) method to capture the text before the colon and then after the colon so that s1 = textbeforecolon and s2 = textaftercolon.\r\n\r\nThe line looks like this:\r\n\r\nsomething:somethingelse\r\n\r\n\r\n\r\n","title":"Reading text with Java Scanner next(Pattern pattern)","body":"<p>I am trying to use the Scanner class to read a line using the next(Pattern pattern) method to capture the text before the colon and then after the colon so that s1 = textbeforecolon and s2 = textaftercolon.</p>\n\n<p>The line looks like this:</p>\n\n<p>something:somethingelse</p>\n"},{"tags":["java","swing","intellij-idea","assertj"],"owner":{"account_id":25569518,"reputation":11,"user_id":19350111,"display_name":"Jose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683653348,"creation_date":1683653348,"question_id":76211999,"body_markdown":"I want to test a Swing app written with Intellij IDEA. I have been able to setup the initial example, but when trying to execute the example text, I get this message:\r\n\r\n    Unable to find component using matcher org.assertj.swing.core.NameMatcher[name=&#39;txtFirstName&#39;\r\n\r\nTaking a detailed look to the swing component hierarchy reported, I have noticed that every field has the &#39;name&#39; property set to null, so I figured out that this is the origin the error. The problem is that, in the IntelliJ IDEA swing visual editor, the property &#39;fieldName&#39; is correctly set, so I don&#39;t know how to solve it.\r\n\r\n    Component hierarchy:\r\n    javax.swing.JFrame[name=&#39;frame0&#39;, title=&#39;VT Institute&#39;, enabled=true, visible=true, showing=true]\r\n      javax.swing.JRootPane[]\r\n        javax.swing.JPanel[name=&#39;null.glassPane&#39;]\r\n        javax.swing.JLayeredPane[]\r\n          javax.swing.JPanel[name=null]\r\n            javax.swing.JTabbedPane[name=null, selectedTabIndex=0, selectedTabTitle=&#39;Students&#39;, tabCount=5, tabTitles=[&quot;Students&quot;, &quot;Courses&quot;, &quot;Enrollments&quot;, &quot;Reports&quot;, &quot;Utilities&quot;], enabled=true, visible=true, showing=true\r\n              javax.swing.JPanel[name=null]\r\n                javax.swing.JTextField[name=null, text=&#39;&#39;, enabled=true, visible=true, showing=true]\r\n                javax.swing.JTextField[name=null, text=&#39;&#39;, enabled=true, visible=true, showing=true]\r\n                javax.swing.JTextField[name=null, text=&#39;&#39;, enabled=true, visible=true, showing=true]\r\n                javax.swing.JTextField[name=null, text=&#39;&#39;, enabled=true, visible=true, showing=true]\r\n                javax.swing.JTextField[name=null, text=&#39;&#39;, enabled=true, visible=true, showing=true]\r\n\r\nI have checked similar issues in stack overflow, but all of them are related to non-visible fields.","title":"Swing testing with AssertJ not working in IntelliJ IDEA","body":"<p>I want to test a Swing app written with Intellij IDEA. I have been able to setup the initial example, but when trying to execute the example text, I get this message:</p>\n<pre><code>Unable to find component using matcher org.assertj.swing.core.NameMatcher[name='txtFirstName'\n</code></pre>\n<p>Taking a detailed look to the swing component hierarchy reported, I have noticed that every field has the 'name' property set to null, so I figured out that this is the origin the error. The problem is that, in the IntelliJ IDEA swing visual editor, the property 'fieldName' is correctly set, so I don't know how to solve it.</p>\n<pre><code>Component hierarchy:\njavax.swing.JFrame[name='frame0', title='VT Institute', enabled=true, visible=true, showing=true]\n  javax.swing.JRootPane[]\n    javax.swing.JPanel[name='null.glassPane']\n    javax.swing.JLayeredPane[]\n      javax.swing.JPanel[name=null]\n        javax.swing.JTabbedPane[name=null, selectedTabIndex=0, selectedTabTitle='Students', tabCount=5, tabTitles=[&quot;Students&quot;, &quot;Courses&quot;, &quot;Enrollments&quot;, &quot;Reports&quot;, &quot;Utilities&quot;], enabled=true, visible=true, showing=true\n          javax.swing.JPanel[name=null]\n            javax.swing.JTextField[name=null, text='', enabled=true, visible=true, showing=true]\n            javax.swing.JTextField[name=null, text='', enabled=true, visible=true, showing=true]\n            javax.swing.JTextField[name=null, text='', enabled=true, visible=true, showing=true]\n            javax.swing.JTextField[name=null, text='', enabled=true, visible=true, showing=true]\n            javax.swing.JTextField[name=null, text='', enabled=true, visible=true, showing=true]\n</code></pre>\n<p>I have checked similar issues in stack overflow, but all of them are related to non-visible fields.</p>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":1874763,"reputation":2020,"user_id":4352728,"accept_rate":50,"display_name":"Ye Win"},"score":0,"creation_date":1422507952,"post_id":28207359,"comment_id":44779796,"body_markdown":"you can use assigning to change default value.create setter method and set true value.","body":"you can use assigning to change default value.create setter method and set true value."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":8,"creation_date":1422508051,"post_id":28207359,"comment_id":44779838,"body_markdown":"`private boolean include = true;` will work on Java. Still, you have to make sure your database has direct support for `boolean` fields or if you have to use a converter.","body":"<code>private boolean include = true;</code> will work on Java. Still, you have to make sure your database has direct support for <code>boolean</code> fields or if you have to use a converter."},{"owner":{"account_id":1994429,"reputation":1408,"user_id":1787668,"accept_rate":60,"display_name":"Saqib Rezwan"},"score":0,"creation_date":1422508091,"post_id":28207359,"comment_id":44779851,"body_markdown":"Can you try with following?\n\nColumn(name=&quot;Include &quot;) \nprivate boolean include = true;","body":"Can you try with following?  Column(name=&quot;Include &quot;)  private boolean include = true;"},{"owner":{"account_id":3262746,"reputation":1260,"user_id":4046234,"accept_rate":83,"display_name":"Andre Coetzee"},"score":0,"creation_date":1422508803,"post_id":28207359,"comment_id":44780050,"body_markdown":"Hi there, my database is sql server, using datatype bit so it should support boolean values. i have tried the above methods in the comments but still no value displays in the database by default","body":"Hi there, my database is sql server, using datatype bit so it should support boolean values. i have tried the above methods in the comments but still no value displays in the database by default"},{"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"score":0,"creation_date":1642657344,"post_id":28207359,"comment_id":125130480,"body_markdown":"I find it is always better to use `Boolean` than `boolean` when dealing with `boolean` values in  JPA. In some versions of Spring Boot, the later throws and exception when updating an entity","body":"I find it is always better to use <code>Boolean</code> than <code>boolean</code> when dealing with <code>boolean</code> values in  JPA. In some versions of Spring Boot, the later throws and exception when updating an entity"}],"answers":[{"tags":[],"owner":{"account_id":5438949,"reputation":1699,"user_id":4327527,"accept_rate":86,"display_name":"Milkmaid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528776568,"creation_date":1422509316,"answer_id":28207584,"question_id":28207359,"body_markdown":"You can always use annotations `@PreUpdate` or `@PrePersist` on method where you will setup what should be done before update or before save into DB.\r\n\r\nOr just simply setup the value `private boolean include = true;`","title":"How to set default boolean value in JPA","body":"<p>You can always use annotations <code>@PreUpdate</code> or <code>@PrePersist</code> on method where you will setup what should be done before update or before save into DB.</p>\n\n<p>Or just simply setup the value <code>private boolean include = true;</code></p>\n"},{"comments":[{"owner":{"account_id":2596927,"reputation":6361,"user_id":2250391,"accept_rate":38,"display_name":"youhans"},"score":11,"creation_date":1510721105,"post_id":28208792,"comment_id":81550222,"body_markdown":"Also `@Column(columnDefinition=&quot;BOOLEAN DEFAULT false&quot;)` will work for many databases include PostgreSQL.","body":"Also <code>@Column(columnDefinition=&quot;BOOLEAN DEFAULT false&quot;)</code> will work for many databases include PostgreSQL."},{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":2,"creation_date":1520465268,"post_id":28208792,"comment_id":85331572,"body_markdown":"Any idea what the JPA committee recommends developers do?","body":"Any idea what the JPA committee recommends developers do?"},{"owner":{"account_id":1933059,"reputation":169,"user_id":1742058,"display_name":"Charles Hasegawa"},"score":0,"creation_date":1679010099,"post_id":28208792,"comment_id":133648871,"body_markdown":"WARNING: using the columnDefinition like that makes it incompatible with SQLServer (possibly others)","body":"WARNING: using the columnDefinition like that makes it incompatible with SQLServer (possibly others)"}],"tags":[],"owner":{"account_id":5365872,"reputation":1713,"user_id":4275859,"display_name":"Antonio Maria Sanchez Berrocal"},"comment_count":3,"down_vote_count":0,"up_vote_count":77,"is_accepted":true,"score":77,"last_activity_date":1422515061,"creation_date":1422515061,"answer_id":28208792,"question_id":28207359,"body_markdown":"As far as i known there is no JPA native solution to provide default values.\r\nHere it comes my workaround:\r\n\r\n**Non database portable solution**\r\n\r\n\r\n    @Column(columnDefinition=&quot;tinyint(1) default 1&quot;)\r\n    private boolean include;\r\n\r\n\r\n**Java oriented solution**\r\n\r\n    private boolean include = true;\r\n\r\n\r\n**Java oriented plus Builder pattern**\r\n\r\n         @Column(nullable = false)\r\n         private Boolean include;\r\n         ...\r\n         public static class Builder {\r\n          private Boolean include = true; // Here it comes your default value\r\n          public Builder include (Boolean include ) {\r\n          this.include = include ;\r\n          return this;\r\n         }\r\n         // Use the pattern builder whenever you need to persist a new entity.\r\n         public MyEntity build() {\r\n           MyEntity myEntity = new MyEntity ();\r\n           myEntity .setinclude (include );\r\n           return myEntity;\r\n          }\r\n    ...\r\n    }\r\n\r\n\r\nThis is my favorite and less intrusive. Basically it delegates the task to define the default value to the Builder pattern in your entity.","title":"How to set default boolean value in JPA","body":"<p>As far as i known there is no JPA native solution to provide default values.\nHere it comes my workaround:</p>\n\n<p><strong>Non database portable solution</strong></p>\n\n<pre><code>@Column(columnDefinition=\"tinyint(1) default 1\")\nprivate boolean include;\n</code></pre>\n\n<p><strong>Java oriented solution</strong></p>\n\n<pre><code>private boolean include = true;\n</code></pre>\n\n<p><strong>Java oriented plus Builder pattern</strong></p>\n\n<pre><code>     @Column(nullable = false)\n     private Boolean include;\n     ...\n     public static class Builder {\n      private Boolean include = true; // Here it comes your default value\n      public Builder include (Boolean include ) {\n      this.include = include ;\n      return this;\n     }\n     // Use the pattern builder whenever you need to persist a new entity.\n     public MyEntity build() {\n       MyEntity myEntity = new MyEntity ();\n       myEntity .setinclude (include );\n       return myEntity;\n      }\n...\n}\n</code></pre>\n\n<p>This is my favorite and less intrusive. Basically it delegates the task to define the default value to the Builder pattern in your entity.</p>\n"},{"tags":[],"owner":{"account_id":1762888,"reputation":2599,"user_id":1609479,"display_name":"Daniel Mora"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1486654344,"creation_date":1486654344,"answer_id":42140727,"question_id":28207359,"body_markdown":"Using JPA 2.1 and Oracle 11 this works for me by using Oracle type NUMBER of size 1:\r\n\r\nJava:\r\n    \r\n    @Column(name = &quot;ENABLED&quot;, nullable = false)\r\n    private boolean enabled = true;\r\n\r\nCreate SQL script:\r\n\r\n    CREATE TABLE &quot;ACCOUNT&quot;(\r\n    &quot;ID&quot; NUMBER(10,0) NOT NULL ENABLE,\r\n    &quot;NAME&quot; VARCHAR2(255 CHAR) NOT NULL ENABLE,\r\n    &quot;PASSWORD&quot; VARCHAR2(255) NOT NULL ENABLE,\r\n    &quot;ENABLED&quot; NUMBER(1,0) DEFAULT 1 NOT NULL ENABLE,\r\n    PRIMARY KEY (&quot;ID&quot;)\r\n    );","title":"How to set default boolean value in JPA","body":"<p>Using JPA 2.1 and Oracle 11 this works for me by using Oracle type NUMBER of size 1:</p>\n\n<p>Java:</p>\n\n<pre><code>@Column(name = \"ENABLED\", nullable = false)\nprivate boolean enabled = true;\n</code></pre>\n\n<p>Create SQL script:</p>\n\n<pre><code>CREATE TABLE \"ACCOUNT\"(\n\"ID\" NUMBER(10,0) NOT NULL ENABLE,\n\"NAME\" VARCHAR2(255 CHAR) NOT NULL ENABLE,\n\"PASSWORD\" VARCHAR2(255) NOT NULL ENABLE,\n\"ENABLED\" NUMBER(1,0) DEFAULT 1 NOT NULL ENABLE,\nPRIMARY KEY (\"ID\")\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1949535,"reputation":142,"user_id":1753951,"accept_rate":86,"display_name":"Alan Faz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508896110,"creation_date":1508896110,"answer_id":46922659,"question_id":28207359,"body_markdown":"I&#39;ve found that adding in the constructor is a good workaround to default new entities to a value:\r\n\r\n\r\n\r\n    public EntityName(){\r\n        this.fieldToDefault = default;\r\n    }\r\n\r\n\r\n","title":"How to set default boolean value in JPA","body":"<p>I've found that adding in the constructor is a good workaround to default new entities to a value:</p>\n\n<pre><code>public EntityName(){\n    this.fieldToDefault = default;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3795060,"reputation":4000,"user_id":3150426,"accept_rate":82,"display_name":"TResponse"},"score":2,"creation_date":1508898725,"post_id":46922722,"comment_id":80793171,"body_markdown":"Hi  Try adding some explanation to give context to your code rater than just pasting code.  Although it may make perfect sense to you, it would be better to explain it.","body":"Hi  Try adding some explanation to give context to your code rater than just pasting code.  Although it may make perfect sense to you, it would be better to explain it."},{"owner":{"account_id":1976638,"reputation":2858,"user_id":1774291,"accept_rate":75,"display_name":"PeterS"},"score":0,"creation_date":1539172081,"post_id":46922722,"comment_id":92403553,"body_markdown":"Your value will be overwritten by the database value during read, so this isn&#39;t a solution.","body":"Your value will be overwritten by the database value during read, so this isn&#39;t a solution."}],"tags":[],"owner":{"account_id":11796557,"reputation":5,"user_id":8631144,"display_name":"Mark Ma"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1508896512,"creation_date":1508896512,"answer_id":46922722,"question_id":28207359,"body_markdown":"    private boolean include = true;","title":"How to set default boolean value in JPA","body":"<pre><code>private boolean include = true;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5766960,"reputation":169,"user_id":4551620,"display_name":"Taras Halynskyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1664999245,"creation_date":1561633385,"answer_id":56789618,"question_id":28207359,"body_markdown":"Maybe will be useful for people who work with **Microsoft SQL SERVER**\r\n```\r\n\t@Column(columnDefinition=&quot;bit default 0&quot;)\r\n\tprivate Boolean active;\r\n```\r\n\r\nPossible values: 0 or 1","title":"How to set default boolean value in JPA","body":"<p>Maybe will be useful for people who work with <strong>Microsoft SQL SERVER</strong></p>\n<pre><code>    @Column(columnDefinition=&quot;bit default 0&quot;)\n    private Boolean active;\n</code></pre>\n<p>Possible values: 0 or 1</p>\n"},{"comments":[{"owner":{"account_id":7664781,"reputation":538,"user_id":5808785,"display_name":"Vignesh_A"},"score":1,"creation_date":1592818291,"post_id":60702853,"comment_id":110550290,"body_markdown":"if we are using default value in column definition , then why are you initialising to true again?","body":"if we are using default value in column definition , then why are you initialising to true again?"},{"owner":{"account_id":17812835,"reputation":203,"user_id":12937013,"display_name":"Omkar Patil"},"score":0,"creation_date":1592970817,"post_id":60702853,"comment_id":110612274,"body_markdown":"It is for hibernate. it directly considers that assigned value and insert it into table","body":"It is for hibernate. it directly considers that assigned value and insert it into table"}],"tags":[],"owner":{"account_id":1494705,"reputation":3719,"user_id":1400943,"accept_rate":48,"display_name":"efirat"},"comment_count":2,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1584348697,"creation_date":1584348697,"answer_id":60702853,"question_id":28207359,"body_markdown":"For **PostgreSQL** you can use boolean in definition\r\n\r\n    @Column(name = &quot;isDeleted&quot;, columnDefinition = &quot;boolean default true&quot;)\r\n    private boolean isDeleted = true;","title":"How to set default boolean value in JPA","body":"<p>For <strong>PostgreSQL</strong> you can use boolean in definition</p>\n\n<pre><code>@Column(name = \"isDeleted\", columnDefinition = \"boolean default true\")\nprivate boolean isDeleted = true;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13601350,"reputation":351,"user_id":9811934,"display_name":"Davids Gonzalez Tigrero"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599447461,"creation_date":1599447461,"answer_id":63770774,"question_id":28207359,"body_markdown":"If you have defined default values in your database, you can choose the column annotation, and as parameter you use `insertable = false`, in this way when inserting a value it will choose the one that you marked by default in the database. Example:\r\nIn MySQL I have a person table with a status attribute of boolean type and it has by default the value true.\r\nIn your java class it would look like this:\r\n\r\n    //....\r\n    public class Person implements Serializable {\r\n        //.....\r\n        @Column(insertable = false)\r\n    \tprivate Boolean status;\r\n        //...\r\n    }\r\nYou can have more information about the column annotation [HERE][1], it is well explained and it helped me a lot.\r\n\r\n\r\n  [1]: https://www.oscarblancarteblog.com/2016/11/10/definicion-columnas-column/","title":"How to set default boolean value in JPA","body":"<p>If you have defined default values in your database, you can choose the column annotation, and as parameter you use <code>insertable = false</code>, in this way when inserting a value it will choose the one that you marked by default in the database. Example:\nIn MySQL I have a person table with a status attribute of boolean type and it has by default the value true.\nIn your java class it would look like this:</p>\n<pre><code>//....\npublic class Person implements Serializable {\n    //.....\n    @Column(insertable = false)\n    private Boolean status;\n    //...\n}\n</code></pre>\n<p>You can have more information about the column annotation <a href=\"https://www.oscarblancarteblog.com/2016/11/10/definicion-columnas-column/\" rel=\"nofollow noreferrer\">HERE</a>, it is well explained and it helped me a lot.</p>\n"},{"comments":[{"owner":{"account_id":5546696,"reputation":1163,"user_id":4401117,"display_name":"Puneeth Rai"},"score":1,"creation_date":1633609164,"post_id":65107157,"comment_id":122808598,"body_markdown":"The problem with that approach is when playing with repository like Example.of method. With the above solution if I need to search only for name = &quot;Adam&quot; then the search will also include age and happy by default to search and  developer has to always remove such default values","body":"The problem with that approach is when playing with repository like Example.of method. With the above solution if I need to search only for name = &quot;Adam&quot; then the search will also include age and happy by default to search and  developer has to always remove such default values"}],"tags":[],"owner":{"account_id":13261077,"reputation":2382,"user_id":9575631,"display_name":"Ousama"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606908358,"creation_date":1606908358,"answer_id":65107157,"question_id":28207359,"body_markdown":"The easy way to set a default column value is to set it directly as an entity property value:\r\n\r\n    @Entity\r\n    public class Student {\r\n        @Id\r\n        private Long id;\r\n        private String name = &quot;Ousama&quot;;\r\n        private Integer age = 30;\r\n        private Boolean happy = false;\r\n    }\r\n","title":"How to set default boolean value in JPA","body":"<p>The easy way to set a default column value is to set it directly as an entity property value:</p>\n<pre><code>@Entity\npublic class Student {\n    @Id\n    private Long id;\n    private String name = &quot;Ousama&quot;;\n    private Integer age = 30;\n    private Boolean happy = false;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"score":0,"creation_date":1642657236,"post_id":70092227,"comment_id":125130463,"body_markdown":"Just \n`@NotNull\n@ColumnDefault(&quot;true&quot;)` is enough.\n\n`@Builder.Default` throws an exception.","body":"Just  <code>@NotNull @ColumnDefault(&quot;true&quot;)</code> is enough.  <code>@Builder.Default</code> throws an exception."},{"owner":{"account_id":2265980,"reputation":2540,"user_id":1994646,"accept_rate":75,"display_name":"Sasi Kumar M"},"score":0,"creation_date":1643352936,"post_id":70092227,"comment_id":125321637,"body_markdown":"My bad should have explained a bit further, ``@Builder.Default`` can be used if we have ``@Builder`` annotation for the entity. ``@Builder`` is supported by Lombok plugin to generate beans","body":"My bad should have explained a bit further, <code>@Builder.Default</code> can be used if we have <code>@Builder</code> annotation for the entity. <code>@Builder</code> is supported by Lombok plugin to generate beans"},{"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"score":0,"creation_date":1675188934,"post_id":70092227,"comment_id":132873693,"body_markdown":"this answer is best solution than the others.","body":"this answer is best solution than the others."}],"tags":[],"owner":{"account_id":2265980,"reputation":2540,"user_id":1994646,"accept_rate":75,"display_name":"Sasi Kumar M"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1637739475,"creation_date":1637739475,"answer_id":70092227,"question_id":28207359,"body_markdown":"In my case, for spring boot jpa, having the below syntax in entity class worked.\r\n\r\n    @Builder.Default\r\n    private boolean columnName = false;\r\n\r\n    or\r\n    \r\n    @NotNull\r\n    @Builder.Default\r\n    @ColumnDefault(&quot;true&quot;)\r\n    private Boolean columnName = true;\r\n\r\n @Builder.Default is to ensure we are having default values while constructing the object for this model, needed only when the entity model class is annotated with @Builder. If otherwise, even without having @Builder.Default, things are working fine as expected.\r\n","title":"How to set default boolean value in JPA","body":"<p>In my case, for spring boot jpa, having the below syntax in entity class worked.</p>\n<pre><code>@Builder.Default\nprivate boolean columnName = false;\n\nor\n\n@NotNull\n@Builder.Default\n@ColumnDefault(&quot;true&quot;)\nprivate Boolean columnName = true;\n</code></pre>\n<p>@Builder.Default is to ensure we are having default values while constructing the object for this model, needed only when the entity model class is annotated with @Builder. If otherwise, even without having @Builder.Default, things are working fine as expected.</p>\n"},{"tags":[],"owner":{"account_id":26122963,"reputation":1,"user_id":19814953,"display_name":"Hitesh Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661101382,"creation_date":1661101382,"answer_id":73436553,"question_id":28207359,"body_markdown":"If you are using MYSQL, I can save your 5-6 hours which you will waste if searching for the answer. I tried multiple ways but for me updating the maven dependency version of spring boot data jpa in pom.xml file \r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"How to set default boolean value in JPA","body":"<p>If you are using MYSQL, I can save your 5-6 hours which you will waste if searching for the answer. I tried multiple ways but for me updating the maven dependency version of spring boot data jpa in pom.xml file</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;version&gt;2.7.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14604455,"reputation":21,"user_id":10547774,"display_name":"Listoun developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683652797,"creation_date":1677283247,"answer_id":75562419,"question_id":28207359,"body_markdown":"In case you are using Lombok builder then do not forget to add @Builder.Default annotation: \r\n\r\n```java\r\n@Column(columnDefinition = &quot;tinyint(1) default 0&quot;)\r\n@Builder.Default\r\nprivate boolean include = false;\r\n```","title":"How to set default boolean value in JPA","body":"<p>In case you are using Lombok builder then do not forget to add @Builder.Default annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(columnDefinition = &quot;tinyint(1) default 0&quot;)\n@Builder.Default\nprivate boolean include = false;\n</code></pre>\n"}],"owner":{"account_id":3262746,"reputation":1260,"user_id":4046234,"accept_rate":83,"display_name":"Andre Coetzee"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162916,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":28208792,"answer_count":12,"score":62,"last_activity_date":1683652797,"creation_date":1422507807,"question_id":28207359,"body_markdown":"I have an attribute\r\n\r\n    private boolean include;\r\n\r\nI would like to set its default value to true, so that in the database it must display True from default. Is this possible in JPA?","title":"How to set default boolean value in JPA","body":"<p>I have an attribute</p>\n\n<pre><code>private boolean include;\n</code></pre>\n\n<p>I would like to set its default value to true, so that in the database it must display True from default. Is this possible in JPA?</p>\n"},{"tags":["java","arrays","file","sorting","nosuchelementexception"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676255728,"post_id":75431450,"comment_id":133094560,"body_markdown":"*&quot;I believe the issue comes from fileInput.next();&quot;* -- Did you get a stack trace? It should have numbers that match lines in source code. Find a line in the stack trace that points to a method in *your* source code, and check the line number. https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors . If you do find the line of code, it would help to edit the question to highlight it:  `// **** Following line throws NoSuchElementException *******`","body":"<i>&quot;I believe the issue comes from fileInput.next();&quot;</i> -- Did you get a stack trace? It should have numbers that match lines in source code. Find a line in the stack trace that points to a method in <i>your</i> source code, and check the line number. <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\" title=\"what is a stack trace and how can i use it to debug my application errors\">stackoverflow.com/questions/3988788/&hellip;</a> . If you do find the line of code, it would help to edit the question to highlight it:  <code>&#47;&#47; **** Following line throws NoSuchElementException *******</code>"},{"owner":{"account_id":15032053,"reputation":11,"user_id":10849849,"display_name":"Evan"},"score":0,"creation_date":1676256027,"post_id":75431450,"comment_id":133094587,"body_markdown":"Yes, I did. It points to line 51 of my code which reads fileInput.next(); and I&#39;m stumped on what to do to fix it. Here&#39;s a screenshot: https://imgur.com/a/aqQ7nIm","body":"Yes, I did. It points to line 51 of my code which reads fileInput.next(); and I&#39;m stumped on what to do to fix it. Here&#39;s a screenshot: <a href=\"https://imgur.com/a/aqQ7nIm\" rel=\"nofollow noreferrer\">imgur.com/a/aqQ7nIm</a>"},{"owner":{"account_id":15032053,"reputation":11,"user_id":10849849,"display_name":"Evan"},"score":0,"creation_date":1676256212,"post_id":75431450,"comment_id":133094603,"body_markdown":"I also updated my post to include the exact error I&#39;m seeing via the Stack Trace.","body":"I also updated my post to include the exact error I&#39;m seeing via the Stack Trace."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676256554,"post_id":75431450,"comment_id":133094643,"body_markdown":"What if you were to change `while (fileInput.hasNextLine()) ` to `while (fileInput.hasNext())` ?","body":"What if you were to change <code>while (fileInput.hasNextLine()) </code> to <code>while (fileInput.hasNext())</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":27770268,"reputation":1,"user_id":21200665,"display_name":"Cheng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676258304,"creation_date":1676258304,"answer_id":75431648,"question_id":75431450,"body_markdown":"&gt; I&#39;m working on an assignment which is to read in only integers from a\r\n&gt; text file (that contains strings and doubles as well) and put them\r\n&gt; into an array, sort that array, then print each element within it.\r\n\r\nI solved this program in a different way, where I read all the lines in the text file and try to parse each element (separated by space) into integer.\r\n\r\n```java\r\n\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class FilterSort {\r\n\r\n    public static void main(String[] args) {\r\n        int[] data = new int[100];\r\n        int index = 0;\r\n        try {\r\n            // create a Scanner and open a file called &quot;data.txt&quot;\r\n            //initialize index = 0\r\n\r\n            Scanner fileInput = new Scanner(new File(&quot;data.txt&quot;));\r\n            // while there are lines in the file \r\n            // read the line from the file (get tokens) \r\n            // check if the token is integer or not.\r\n\r\n            while (fileInput.hasNextLine()) {\r\n\r\n                String temporary = fileInput.nextLine();\r\n                // split the entire line using space delimiter \r\n                String[] temporary_array = temporary.split(&quot; &quot;);\r\n                for (String s : temporary_array) {\r\n                    // Use Integer.parseInt to parse an integer\r\n                    try {\r\n                        int number = Integer.parseInt(s);\r\n                        data[index] = number;\r\n                        index++;\r\n                    } catch (NumberFormatException e) {\r\n                        // This is not an integer, do nothing\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (index == 0) {\r\n                System.out.println(&quot;There is no data in file&quot;);\r\n            } else {\r\n                // Copy the number out from the data array to output array\r\n                int[] output = new int[index];\r\n                System.arraycopy(data, 0, output, 0, index);\r\n                // Sort the output array\r\n                Arrays.sort(output);\r\n                System.out.println(&quot;Elements of array sorted in ascending order: &quot;);\r\n                // and Print the elements using loop \r\n                for (int i = 0; i &lt; index; i++) {\r\n                    System.out.println(output[i]);\r\n                }\r\n            }\r\n\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;Error: Data file not found&quot;);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\nOutput using your text file:\r\n```\r\nElements of array sorted in ascending order: \r\n-8\r\n-3\r\n0\r\n1\r\n1\r\n2\r\n2\r\n3\r\n3\r\n4\r\n4\r\n4\r\n9\r\n22\r\n44\r\n90\r\n92\r\n98\r\n99\r\n99\r\n99\r\n100\r\n162\r\n```\r\n\r\nHowever, this solution has its own limitation (i.e. When the number of integer is greater than 100 or unknown), but can be solved using more sophisticated technique (i.e. ArrayList).\r\n\r\nGood luck in your assignment.","title":"How do I fix the NoSuchElementException in Java when reading from a text file?","body":"<blockquote>\n<p>I'm working on an assignment which is to read in only integers from a\ntext file (that contains strings and doubles as well) and put them\ninto an array, sort that array, then print each element within it.</p>\n</blockquote>\n<p>I solved this program in a different way, where I read all the lines in the text file and try to parse each element (separated by space) into integer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.io.*;\nimport java.util.*;\n\npublic class FilterSort {\n\n    public static void main(String[] args) {\n        int[] data = new int[100];\n        int index = 0;\n        try {\n            // create a Scanner and open a file called &quot;data.txt&quot;\n            //initialize index = 0\n\n            Scanner fileInput = new Scanner(new File(&quot;data.txt&quot;));\n            // while there are lines in the file \n            // read the line from the file (get tokens) \n            // check if the token is integer or not.\n\n            while (fileInput.hasNextLine()) {\n\n                String temporary = fileInput.nextLine();\n                // split the entire line using space delimiter \n                String[] temporary_array = temporary.split(&quot; &quot;);\n                for (String s : temporary_array) {\n                    // Use Integer.parseInt to parse an integer\n                    try {\n                        int number = Integer.parseInt(s);\n                        data[index] = number;\n                        index++;\n                    } catch (NumberFormatException e) {\n                        // This is not an integer, do nothing\n                    }\n                }\n            }\n\n            if (index == 0) {\n                System.out.println(&quot;There is no data in file&quot;);\n            } else {\n                // Copy the number out from the data array to output array\n                int[] output = new int[index];\n                System.arraycopy(data, 0, output, 0, index);\n                // Sort the output array\n                Arrays.sort(output);\n                System.out.println(&quot;Elements of array sorted in ascending order: &quot;);\n                // and Print the elements using loop \n                for (int i = 0; i &lt; index; i++) {\n                    System.out.println(output[i]);\n                }\n            }\n\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;Error: Data file not found&quot;);\n        }\n\n    }\n\n}\n\n</code></pre>\n<p>Output using your text file:</p>\n<pre><code>Elements of array sorted in ascending order: \n-8\n-3\n0\n1\n1\n2\n2\n3\n3\n4\n4\n4\n9\n22\n44\n90\n92\n98\n99\n99\n99\n100\n162\n</code></pre>\n<p>However, this solution has its own limitation (i.e. When the number of integer is greater than 100 or unknown), but can be solved using more sophisticated technique (i.e. ArrayList).</p>\n<p>Good luck in your assignment.</p>\n"}],"owner":{"account_id":15032053,"reputation":11,"user_id":10849849,"display_name":"Evan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683652591,"creation_date":1676255081,"question_id":75431450,"body_markdown":"I&#39;m working on an assignment which is to read in only integers from a text file (that contains strings and doubles as well) and put them into an array, sort that array, then print each element within it.\r\n\r\nI&#39;m getting a NoSuchElementException in my console here&#39;s a screenshot [NoSuchElementException][1]\r\n\r\nI believe the issue comes from fileInput.next(); in my while loop maybe because I&#39;ve reached the end of the .txt file but I&#39;m not sure how to fix this - any help is much appreciated.\r\n\r\nAlso here&#39;s the .txt file [.txt file](https://i.stack.imgur.com/vaHy6.png) along w/ my code below:\r\n\r\n    package Main;\r\n    \r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    \r\n    public class FilterSort {\r\n        public static int[] doubleArrayAndCopy(int[] arr) {\r\n        //use the length method to get the size of arr\r\n        \tint SIZE = arr.length;\r\n        //create a temp array that is double the size of arr\r\n        \tint [] tempArr = new int[2*SIZE];\r\n        //store the elements of the arr into temp array using for-loop\r\n        \tfor (int i = 0; i &lt; SIZE; i++){\r\n        \t\ttempArr[i] = arr[i];\r\n        \t}\r\n        \t\r\n        \treturn tempArr;\r\n        \t\t\r\n        // return the temp array\r\n        }\r\n    \r\n        public static void main(String[] args){\r\n            int[] data = new int[8];\r\n        \tint index = 0;\r\n            try {\r\n            \t// create a Scanner and open a file called &quot;data.txt&quot;\r\n            \t//initialize index = 0\r\n            \t\r\n            \tScanner fileInput = new Scanner(new File(&quot;src/main/data.txt&quot;));\r\n            \t// while there are lines in the file \r\n            \t// read the line from the file (get tokens) \r\n            \t// check if the token is integer or not.\r\n            \t        \t\r\n            \twhile (fileInput.hasNextLine()) {  \t\t\r\n            \t\t\r\n            \t\t\r\n            \t\tif(fileInput.hasNextInt()){\r\n            \t\t\tdata[index] = fileInput.nextInt();\r\n                \t\tindex++;\r\n            \t\t\t\r\n            \t\t}\r\n            \t\telse{\r\n            \t\t\tfileInput.next();\r\n            \t\t}\r\n            \t\t\r\n            \t\t        \t\t\r\n                \tif (index &gt;= data.length){\r\n                   \t\tdata = doubleArrayAndCopy(data);\r\n                \t\t\r\n                \t}            \t\r\n                \t\r\n            \t}\r\n            \t\r\n            \t   \t      \t\r\n            \t/* A note : For checking integers : You can use hasNextInt() method of Scanner. If it will be Integer(true), then you can use that token by using nextInt() method of Scanner to read it, if false, then use next() method of Scanner and throw away this token*/\r\n            \t// store the integer token into the answers array\r\n            \t// increment the index\r\n            \t// use the length method of arrays to check if the index is equal or greater      \r\n            \t// than the length of array, if it is true, call here doubleArrayAndCopy.\r\n            \t\r\n            \tif(index==0){\r\n            \t\tSystem.out.println(&quot;There is no data in file&quot;);\r\n            \t}\r\n            \telse\r\n            \t{\r\n            \t\t// Sort the array\r\n            \t\tArrays.sort(data);\r\n            \t\tSystem.out.println(&quot;Elements of array sorted in ascending order: &quot;); \r\n            \t\t// and Print the elements using loop \r\n            \t\tfor (int i = 0; i &lt; data.length; i++)\r\n            \t\t\tSystem.out.println(data[i]);\r\n            \t}\r\n            \t\r\n            }\r\n            catch(FileNotFoundException e){\r\n            \tSystem.out.println(&quot;Error: Data file not found&quot;);\r\n            }\r\n         \r\n        }\r\n    \r\n    }\r\n\r\nI&#39;ve tried catching the error and throwing it but that doesn&#39;t seem to solve the problem, to be honest I&#39;m lost on what else to do.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mZfup.png","title":"How do I fix the NoSuchElementException in Java when reading from a text file?","body":"<p>I'm working on an assignment which is to read in only integers from a text file (that contains strings and doubles as well) and put them into an array, sort that array, then print each element within it.</p>\n<p>I'm getting a NoSuchElementException in my console here's a screenshot <a href=\"https://i.stack.imgur.com/mZfup.png\" rel=\"nofollow noreferrer\">NoSuchElementException</a></p>\n<p>I believe the issue comes from fileInput.next(); in my while loop maybe because I've reached the end of the .txt file but I'm not sure how to fix this - any help is much appreciated.</p>\n<p>Also here's the .txt file <a href=\"https://i.stack.imgur.com/vaHy6.png\" rel=\"nofollow noreferrer\">.txt file</a> along w/ my code below:</p>\n<pre><code>package Main;\n\nimport java.io.*;\nimport java.util.*;\n\n\npublic class FilterSort {\n    public static int[] doubleArrayAndCopy(int[] arr) {\n    //use the length method to get the size of arr\n        int SIZE = arr.length;\n    //create a temp array that is double the size of arr\n        int [] tempArr = new int[2*SIZE];\n    //store the elements of the arr into temp array using for-loop\n        for (int i = 0; i &lt; SIZE; i++){\n            tempArr[i] = arr[i];\n        }\n        \n        return tempArr;\n            \n    // return the temp array\n    }\n\n    public static void main(String[] args){\n        int[] data = new int[8];\n        int index = 0;\n        try {\n            // create a Scanner and open a file called &quot;data.txt&quot;\n            //initialize index = 0\n            \n            Scanner fileInput = new Scanner(new File(&quot;src/main/data.txt&quot;));\n            // while there are lines in the file \n            // read the line from the file (get tokens) \n            // check if the token is integer or not.\n                        \n            while (fileInput.hasNextLine()) {       \n                \n                \n                if(fileInput.hasNextInt()){\n                    data[index] = fileInput.nextInt();\n                    index++;\n                    \n                }\n                else{\n                    fileInput.next();\n                }\n                \n                                \n                if (index &gt;= data.length){\n                    data = doubleArrayAndCopy(data);\n                    \n                }               \n                \n            }\n            \n                        \n            /* A note : For checking integers : You can use hasNextInt() method of Scanner. If it will be Integer(true), then you can use that token by using nextInt() method of Scanner to read it, if false, then use next() method of Scanner and throw away this token*/\n            // store the integer token into the answers array\n            // increment the index\n            // use the length method of arrays to check if the index is equal or greater      \n            // than the length of array, if it is true, call here doubleArrayAndCopy.\n            \n            if(index==0){\n                System.out.println(&quot;There is no data in file&quot;);\n            }\n            else\n            {\n                // Sort the array\n                Arrays.sort(data);\n                System.out.println(&quot;Elements of array sorted in ascending order: &quot;); \n                // and Print the elements using loop \n                for (int i = 0; i &lt; data.length; i++)\n                    System.out.println(data[i]);\n            }\n            \n        }\n        catch(FileNotFoundException e){\n            System.out.println(&quot;Error: Data file not found&quot;);\n        }\n     \n    }\n\n}\n</code></pre>\n<p>I've tried catching the error and throwing it but that doesn't seem to solve the problem, to be honest I'm lost on what else to do.</p>\n"},{"tags":["java","java.util.scanner","nosuchelementexception"],"comments":[{"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"score":0,"creation_date":1680320178,"post_id":75904002,"comment_id":133882841,"body_markdown":"I don&#39;t think you should use `nextInt()` on the numbers that being read from inputFile, try to use `nextBigDecimal()` or `nextDouble()`","body":"I don&#39;t think you should use <code>nextInt()</code> on the numbers that being read from inputFile, try to use <code>nextBigDecimal()</code> or <code>nextDouble()</code>"},{"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"score":0,"creation_date":1680320474,"post_id":75904002,"comment_id":133882863,"body_markdown":"The numbers on the inputFIle seem inconsistent","body":"The numbers on the inputFIle seem inconsistent"},{"owner":{"account_id":27180039,"reputation":11,"user_id":20715426,"display_name":"catdu"},"score":0,"creation_date":1680320849,"post_id":75904002,"comment_id":133882893,"body_markdown":"Im trying to read the first number as the account ID and the second as the balance. The formatting messed up when I submitted the question but its just supposed to be 2 numbers on each line. Example for one line would be 2265(Account number) 1167.00(balance) and the numbers are all random","body":"Im trying to read the first number as the account ID and the second as the balance. The formatting messed up when I submitted the question but its just supposed to be 2 numbers on each line. Example for one line would be 2265(Account number) 1167.00(balance) and the numbers are all random"},{"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"score":0,"creation_date":1680321518,"post_id":75904002,"comment_id":133882942,"body_markdown":"I&#39;ve tried your code and it&#39;s working fine, I think the problem is in your text file. Check the path and the file again.","body":"I&#39;ve tried your code and it&#39;s working fine, I think the problem is in your text file. Check the path and the file again."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680328279,"post_id":75904002,"comment_id":133883464,"body_markdown":"I didn’t read all of your code (it’s too much for a Stack Overflow question, really), but I suspect: In `readAccts()` you are reading the input file until the end. So when in `findAcct()` you are trying to read an account number from the same input file, there is nothing more to read. Could it be it?","body":"I didn’t read all of your code (it’s too much for a Stack Overflow question, really), but I suspect: In <code>readAccts()</code> you are reading the input file until the end. So when in <code>findAcct()</code> you are trying to read an account number from the same input file, there is nothing more to read. Could it be it?"}],"owner":{"account_id":27180039,"reputation":11,"user_id":20715426,"display_name":"catdu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683652569,"creation_date":1680316627,"question_id":75904002,"body_markdown":"I am trying to write a program that reads the information of several user bank accounts and performs certain operations on them (withdraw, deposit, show balance) etc. The code seems to be correct, but I am having an issue with the `.nextInt();` method.\r\n\r\nHere is my code:\r\n```\r\nimport java.io.*;\r\nimport java.util.Scanner;\r\n\r\npublic class Topic_7_HW {\r\n\tpublic static void printAcct(Scanner inputFile, PrintWriter outputFile, int[] acctNum, double[] balance,\r\n\t\t\tint numAccts) {\r\n\t\tfor (int n = 0; n &lt;= numAccts; n++) {\r\n\t\t\toutputFile.printf(&quot;\\n %1f Account Number: &quot;, acctNum[n]);\r\n\t\t\toutputFile.printf(&quot;\\n %1f Account Balance: &quot;, balance[n]);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static int readAccts(Scanner inputFile, PrintWriter outputFile, int[] acctNum, double[] balance) {\r\n\t\tint numAccts = 0;\r\n\t\twhile (inputFile.hasNext()) {\r\n\t\t\tacctNum[numAccts] = inputFile.nextInt();\r\n\t\t\tbalance[numAccts] = inputFile.nextDouble();\r\n\t\t\tnumAccts++;\r\n\t\t}\r\n\t\treturn numAccts;\r\n\t}\r\n\r\n\tpublic static int findAcct(Scanner inputFile, PrintWriter outputFile, int[] acctNum, int numAccts, int account) {\r\n\t\taccount = inputFile.nextInt();\r\n\t\tif (account != -1) {\r\n\t\t\tfor (int n = 0; n &lt;= numAccts; n++) {\r\n\t\t\t\tif (account == acctNum[n])\r\n\t\t\t\t\t;\r\n\t\t\t\taccount = acctNum[n];\r\n\t\t\t}\r\n\t\t} else\r\n\t\t\toutputFile.printf(&quot;\\n %1s Error; requested account does not exist. &quot;);\r\n\t\treturn account;\r\n\t}\r\n\r\n\tpublic static void withdrawal(Scanner inputFile, PrintWriter outputFile, int[] acctNum, double[] balance,\r\n\t\t\tint numAccts) {\r\n\t\tint account = -1;\r\n\t\tdouble wd = -1.0;\r\n\t\taccount = findAcct(inputFile, outputFile, acctNum, numAccts, account);\r\n\t\tboolean acct_vld;\r\n\t\tif (account != -1)\r\n\t\t\tacct_vld = true;\r\n\t\tif (acct_vld = true) {\r\n\t\t\toutputFile.printf(\r\n\t\t\t\t\t&quot;%1d Withdrawing money from account ID: \\n%1d Current balance: \\n %1d Enter amount to withdraw: &quot;,\r\n\t\t\t\t\tacctNum[account], balance[account], wd);\r\n\r\n\t\t\twd = inputFile.nextDouble();\r\n\t\t\tif (balance[account] &lt; wd)\r\n\t\t\t\toutputFile.printf(&quot;\\n %1s Invalid withdraw ammount: Amount cannot exceed balance. &quot;);\r\n\t\t\tif (wd &lt; 0)\r\n\t\t\t\toutputFile.printf(&quot;\\n %1s Invalid withdraw ammount: Cannot withdraw negative dollars. &quot;);\r\n\t\t\telse {\r\n\t\t\t\tbalance[account] -= wd;\r\n\t\t\t\toutputFile.print(&quot;\\n%1s Successfully withdrew $&quot; + wd + &quot; from account &quot; + account);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic static void deposit(Scanner inputFile, PrintWriter outputFile, int[] acctNum, double[] balance,\r\n\t\t\tint numAccts) {\r\n\t\tint account = -1;\r\n\t\tdouble dp = 0;\r\n\t\taccount = findAcct(inputFile, outputFile, acctNum, numAccts, account);\r\n\t\tboolean acct_vld;\r\n\t\tif (account != -1)\r\n\t\t\tacct_vld = true;\r\n\t\telse\r\n\t\t\tacct_vld = false;\r\n\t\tif (acct_vld = true) {\r\n\t\t\toutputFile.printf(\r\n\t\t\t\t\t&quot;%1d Depositing money into account ID: \\n%1d Current balance: \\n %1d Enter amount to deposit: &quot;,\r\n\t\t\t\t\tacctNum[account], balance[account], dp);\r\n\r\n\t\t\tdp = inputFile.nextDouble();\r\n\t\t\tif (dp &lt; 0 || dp == 0)\r\n\t\t\t\toutputFile.printf(&quot;\\n %1s Invalid withdraw ammount: Cannot withdraw negative/zero dollars. &quot;);\r\n\t\t\telse {\r\n\t\t\t\tbalance[account] += dp;\r\n\t\t\t}\r\n\t\t\toutputFile.print(&quot;\\n%1s Successfully deposited $&quot; + dp + &quot; Into account &quot; + account + &quot;. new balance is: &quot;\r\n\t\t\t\t\t+ balance[account] + &quot;.&quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic static int newAcct(Scanner testCases, PrintWriter outputFile, int[] acctNum, double[] balance,\r\n\t\t\tint numAccts) {\r\n\t\tint account = -1;\r\n\t\tboolean exist;\r\n\t\toutputFile.printf(&quot;Creating New account. \\n Please enter account number.&quot;);\r\n\t\tfor (int n = 0; n &lt;= numAccts; n++) {\r\n\t\t\tif (account == acctNum[n])\r\n\t\t\t\t;\r\n\t\t\texist = true;\r\n\t\t}\r\n\t\tif (exist = true) {\r\n\t\t\toutputFile.printf(&quot;\\nChoose new ID. Account already exists.&quot;);\r\n\t\t\treturn account;\r\n\t\t} else {\r\n\t\t\tacctNum[account] = testCases.nextInt();\r\n\t\t\tbalance[account] = testCases.nextDouble();\r\n\t\t\toutputFile.printf(&quot;\\n Account successfully created. Account number is: %1d Current Balance is %1.2d&quot;,\r\n\t\t\t\t\tacctNum[account], balance[account]);\r\n\t\t\treturn account;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic static void balance(Scanner inputFile, PrintWriter outputFile, int[] acctNum, double[] balance,\r\n\t\t\tint numAccts) {\r\n\t\tint account = -1;\r\n\t\taccount = findAcct(inputFile, outputFile, acctNum, numAccts, account);\r\n\t\tfor (int n = 0; n &lt;= numAccts; n++) {\r\n\t\t\tif (account == acctNum[n]) {\r\n\t\t\t\taccount = acctNum[n];\r\n\t\t\t\toutputFile.printf(&quot;%1d&quot;, balance[n]);\r\n\t\t\t} else\r\n\t\t\t\toutputFile.printf(&quot;%1s Error; requested account does not exist&quot;);\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void menu() {\r\n\t\tSystem.out.println(&quot;Please make a selection.&quot;);\r\n\t\tSystem.out.println(&quot;W - Withdraw&quot;);\r\n\t\tSystem.out.println(&quot;D - Deposit&quot;);\r\n\t\tSystem.out.println(&quot;B - Check Balance&quot;);\r\n\t\tSystem.out.println(&quot;N - Make New Account&quot;);\r\n\t\tSystem.out.println(&quot;Q - Quit&quot;);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tPrintWriter outputFile;\r\n\t\toutputFile = new PrintWriter(&quot;hw_7_out.txt&quot;);\r\n\t\tFile myinputFile = new File(&quot;C:\\\\Users\\\\chroZ\\\\eclipse-workspace\\\\Topic_7\\\\src\\\\hw7input.txt&quot;);\r\n\t\tScanner inputFile = new Scanner(myinputFile);\r\n\t\tFile mytestcases = new File(&quot;C:\\\\Users\\\\chroZ\\\\eclipse-workspace\\\\Topic_7\\\\src\\\\hw7testcases.txt&quot;);\r\n\t\tScanner testCases = new Scanner(mytestcases);\r\n\t\tchar slct;\r\n\t\tfinal int max_acct = 50;\r\n\t\tint notDone = 20;\r\n\t\tdouble[] balance;\r\n\t\tbalance = new double[max_acct];\r\n\t\tint[] acctNum;\r\n\t\tacctNum = new int[max_acct];\r\n\t\tint numAccts;\r\n\t\tnumAccts = readAccts(inputFile, outputFile, acctNum, balance);\r\n\t\t// create a loop that calls the menu method and calls the selected action method\r\n\t\tdo {\r\n\t\t\tmenu();\r\n\t\t\tString choice = testCases.next();\r\n\t\t\tslct = choice.charAt(0);\r\n\t\t\tswitch (slct) {\r\n\t\t\t// tell switch statement which method to call depending on the user&#39;s input\r\n\t\t\tcase &#39;W&#39;, &#39;w&#39;: withdrawal(inputFile, outputFile, acctNum, balance, numAccts);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;D&#39;, &#39;d&#39;: deposit(inputFile, outputFile, acctNum, balance, numAccts);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;B&#39;, &#39;b&#39;: balance(inputFile, outputFile, acctNum, balance, numAccts);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;N&#39;, &#39;n&#39;: newAcct(inputFile, outputFile, acctNum, balance, numAccts);\r\n\t\t\t\tbreak;\r\n\t\t\t// declare notDone as the numerical value for F if user wants to quit\r\n\t\t\tcase &#39;Q&#39;, &#39;q&#39;:\r\n\t\t\t\tnotDone = 6;\r\n\t\t\t\tbreak;\r\n\t\t\t// prints an error if the input is anything other than the availible selections\r\n\t\t\tdefault:\r\n\t\t\t\toutputFile.printf(&quot;\\n%1s&quot;, &quot;Error; Invalid selection.&quot;);\r\n\t\t\t}\r\n\t\t} while (notDone == 20);\r\n\t\tprintAcct(inputFile, outputFile, acctNum, balance, numAccts);\r\n\t\toutputFile.printf(&quot;In total, there are &quot; + numAccts + &quot; accounts.&quot;);\r\n\t\toutputFile.flush();\r\n\t\tinputFile.close();\r\n\t\toutputFile.close();\r\n\t\ttestCases.close();\r\n\t}\r\n\r\n}\r\n\r\n```\r\nand here is what is being read from inputFile:\r\n\r\n```none\r\n2616 19788.01\r\n7187 3402.67\r\n9685 210.99\r\n1190 762062.84\r\n9013 23186.65\r\n2257 307.77\r\n9062 16.4\r\n8836 340837.14\r\n9439 26802.80\r\n2435 2025.25\r\n7563 80687.21\r\n```\r\n\r\nIt is supposed to read the account number and take that as next int, but instead, I am getting a nosuchelementexception on lines; 24, 40, and 159 which are(in order): \r\n\r\n```\r\n 24 account = inputFile.nextInt();\r\n 40 account = findAcct(inputFile, outputFile, acctNum, numAccts, account);\r\n159 case &#39;W&#39;, &#39;w&#39;: withdrawal(inputFile, outputFile, acctNum, balance, numAccts);\r\n```","title":"NoSuchElementException on .nextInt();","body":"<p>I am trying to write a program that reads the information of several user bank accounts and performs certain operations on them (withdraw, deposit, show balance) etc. The code seems to be correct, but I am having an issue with the <code>.nextInt();</code> method.</p>\n<p>Here is my code:</p>\n<pre><code>import java.io.*;\nimport java.util.Scanner;\n\npublic class Topic_7_HW {\n    public static void printAcct(Scanner inputFile, PrintWriter outputFile, int[] acctNum, double[] balance,\n            int numAccts) {\n        for (int n = 0; n &lt;= numAccts; n++) {\n            outputFile.printf(&quot;\\n %1f Account Number: &quot;, acctNum[n]);\n            outputFile.printf(&quot;\\n %1f Account Balance: &quot;, balance[n]);\n        }\n    }\n\n    public static int readAccts(Scanner inputFile, PrintWriter outputFile, int[] acctNum, double[] balance) {\n        int numAccts = 0;\n        while (inputFile.hasNext()) {\n            acctNum[numAccts] = inputFile.nextInt();\n            balance[numAccts] = inputFile.nextDouble();\n            numAccts++;\n        }\n        return numAccts;\n    }\n\n    public static int findAcct(Scanner inputFile, PrintWriter outputFile, int[] acctNum, int numAccts, int account) {\n        account = inputFile.nextInt();\n        if (account != -1) {\n            for (int n = 0; n &lt;= numAccts; n++) {\n                if (account == acctNum[n])\n                    ;\n                account = acctNum[n];\n            }\n        } else\n            outputFile.printf(&quot;\\n %1s Error; requested account does not exist. &quot;);\n        return account;\n    }\n\n    public static void withdrawal(Scanner inputFile, PrintWriter outputFile, int[] acctNum, double[] balance,\n            int numAccts) {\n        int account = -1;\n        double wd = -1.0;\n        account = findAcct(inputFile, outputFile, acctNum, numAccts, account);\n        boolean acct_vld;\n        if (account != -1)\n            acct_vld = true;\n        if (acct_vld = true) {\n            outputFile.printf(\n                    &quot;%1d Withdrawing money from account ID: \\n%1d Current balance: \\n %1d Enter amount to withdraw: &quot;,\n                    acctNum[account], balance[account], wd);\n\n            wd = inputFile.nextDouble();\n            if (balance[account] &lt; wd)\n                outputFile.printf(&quot;\\n %1s Invalid withdraw ammount: Amount cannot exceed balance. &quot;);\n            if (wd &lt; 0)\n                outputFile.printf(&quot;\\n %1s Invalid withdraw ammount: Cannot withdraw negative dollars. &quot;);\n            else {\n                balance[account] -= wd;\n                outputFile.print(&quot;\\n%1s Successfully withdrew $&quot; + wd + &quot; from account &quot; + account);\n            }\n        }\n\n    }\n\n    public static void deposit(Scanner inputFile, PrintWriter outputFile, int[] acctNum, double[] balance,\n            int numAccts) {\n        int account = -1;\n        double dp = 0;\n        account = findAcct(inputFile, outputFile, acctNum, numAccts, account);\n        boolean acct_vld;\n        if (account != -1)\n            acct_vld = true;\n        else\n            acct_vld = false;\n        if (acct_vld = true) {\n            outputFile.printf(\n                    &quot;%1d Depositing money into account ID: \\n%1d Current balance: \\n %1d Enter amount to deposit: &quot;,\n                    acctNum[account], balance[account], dp);\n\n            dp = inputFile.nextDouble();\n            if (dp &lt; 0 || dp == 0)\n                outputFile.printf(&quot;\\n %1s Invalid withdraw ammount: Cannot withdraw negative/zero dollars. &quot;);\n            else {\n                balance[account] += dp;\n            }\n            outputFile.print(&quot;\\n%1s Successfully deposited $&quot; + dp + &quot; Into account &quot; + account + &quot;. new balance is: &quot;\n                    + balance[account] + &quot;.&quot;);\n        }\n\n    }\n\n    public static int newAcct(Scanner testCases, PrintWriter outputFile, int[] acctNum, double[] balance,\n            int numAccts) {\n        int account = -1;\n        boolean exist;\n        outputFile.printf(&quot;Creating New account. \\n Please enter account number.&quot;);\n        for (int n = 0; n &lt;= numAccts; n++) {\n            if (account == acctNum[n])\n                ;\n            exist = true;\n        }\n        if (exist = true) {\n            outputFile.printf(&quot;\\nChoose new ID. Account already exists.&quot;);\n            return account;\n        } else {\n            acctNum[account] = testCases.nextInt();\n            balance[account] = testCases.nextDouble();\n            outputFile.printf(&quot;\\n Account successfully created. Account number is: %1d Current Balance is %1.2d&quot;,\n                    acctNum[account], balance[account]);\n            return account;\n        }\n\n    }\n\n    public static void balance(Scanner inputFile, PrintWriter outputFile, int[] acctNum, double[] balance,\n            int numAccts) {\n        int account = -1;\n        account = findAcct(inputFile, outputFile, acctNum, numAccts, account);\n        for (int n = 0; n &lt;= numAccts; n++) {\n            if (account == acctNum[n]) {\n                account = acctNum[n];\n                outputFile.printf(&quot;%1d&quot;, balance[n]);\n            } else\n                outputFile.printf(&quot;%1s Error; requested account does not exist&quot;);\n\n        }\n    }\n\n    public static void menu() {\n        System.out.println(&quot;Please make a selection.&quot;);\n        System.out.println(&quot;W - Withdraw&quot;);\n        System.out.println(&quot;D - Deposit&quot;);\n        System.out.println(&quot;B - Check Balance&quot;);\n        System.out.println(&quot;N - Make New Account&quot;);\n        System.out.println(&quot;Q - Quit&quot;);\n    }\n\n    public static void main(String[] args) throws IOException {\n        // TODO Auto-generated method stub\n        PrintWriter outputFile;\n        outputFile = new PrintWriter(&quot;hw_7_out.txt&quot;);\n        File myinputFile = new File(&quot;C:\\\\Users\\\\chroZ\\\\eclipse-workspace\\\\Topic_7\\\\src\\\\hw7input.txt&quot;);\n        Scanner inputFile = new Scanner(myinputFile);\n        File mytestcases = new File(&quot;C:\\\\Users\\\\chroZ\\\\eclipse-workspace\\\\Topic_7\\\\src\\\\hw7testcases.txt&quot;);\n        Scanner testCases = new Scanner(mytestcases);\n        char slct;\n        final int max_acct = 50;\n        int notDone = 20;\n        double[] balance;\n        balance = new double[max_acct];\n        int[] acctNum;\n        acctNum = new int[max_acct];\n        int numAccts;\n        numAccts = readAccts(inputFile, outputFile, acctNum, balance);\n        // create a loop that calls the menu method and calls the selected action method\n        do {\n            menu();\n            String choice = testCases.next();\n            slct = choice.charAt(0);\n            switch (slct) {\n            // tell switch statement which method to call depending on the user's input\n            case 'W', 'w': withdrawal(inputFile, outputFile, acctNum, balance, numAccts);\n                break;\n            case 'D', 'd': deposit(inputFile, outputFile, acctNum, balance, numAccts);\n                break;\n            case 'B', 'b': balance(inputFile, outputFile, acctNum, balance, numAccts);\n                break;\n            case 'N', 'n': newAcct(inputFile, outputFile, acctNum, balance, numAccts);\n                break;\n            // declare notDone as the numerical value for F if user wants to quit\n            case 'Q', 'q':\n                notDone = 6;\n                break;\n            // prints an error if the input is anything other than the availible selections\n            default:\n                outputFile.printf(&quot;\\n%1s&quot;, &quot;Error; Invalid selection.&quot;);\n            }\n        } while (notDone == 20);\n        printAcct(inputFile, outputFile, acctNum, balance, numAccts);\n        outputFile.printf(&quot;In total, there are &quot; + numAccts + &quot; accounts.&quot;);\n        outputFile.flush();\n        inputFile.close();\n        outputFile.close();\n        testCases.close();\n    }\n\n}\n\n</code></pre>\n<p>and here is what is being read from inputFile:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2616 19788.01\n7187 3402.67\n9685 210.99\n1190 762062.84\n9013 23186.65\n2257 307.77\n9062 16.4\n8836 340837.14\n9439 26802.80\n2435 2025.25\n7563 80687.21\n</code></pre>\n<p>It is supposed to read the account number and take that as next int, but instead, I am getting a nosuchelementexception on lines; 24, 40, and 159 which are(in order):</p>\n<pre><code> 24 account = inputFile.nextInt();\n 40 account = findAcct(inputFile, outputFile, acctNum, numAccts, account);\n159 case 'W', 'w': withdrawal(inputFile, outputFile, acctNum, balance, numAccts);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","stripe-payments","payment-gateway"],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683651336,"creation_date":1683651336,"answer_id":76211755,"question_id":76211638,"body_markdown":"The likely reason that this isn&#39;t working is that you are not exporting the environment variable from your .bashrc file.  Bash environment variables need to be `exported` to be available to child processes.\r\n\r\nChange the variable declaration in your .bashrc file to this:\r\n\r\n`export STRIPE_SECRET_KEY=my_key`\r\n\r\nSource your .bashrc file with `. .bashrc`, then verify the environment variable exists before starting your service.  You must start the service in a process that was spawned off of your `.bashrc` changes.  For instance, this environment variable isn&#39;t visible to your ide that was opened before making those changes.\r\n\r\n\r\n","title":"How to apply &quot;STRIPE_SECRET_KEY&quot; to Spring Boot application?","body":"<p>The likely reason that this isn't working is that you are not exporting the environment variable from your .bashrc file.  Bash environment variables need to be <code>exported</code> to be available to child processes.</p>\n<p>Change the variable declaration in your .bashrc file to this:</p>\n<p><code>export STRIPE_SECRET_KEY=my_key</code></p>\n<p>Source your .bashrc file with <code>. .bashrc</code>, then verify the environment variable exists before starting your service.  You must start the service in a process that was spawned off of your <code>.bashrc</code> changes.  For instance, this environment variable isn't visible to your ide that was opened before making those changes.</p>\n"},{"tags":[],"owner":{"account_id":3414988,"reputation":2417,"user_id":2864160,"accept_rate":92,"display_name":"RyanM"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683652403,"creation_date":1683652403,"answer_id":76211888,"question_id":76211638,"body_markdown":"Can you try using the [Java dotEnv module][def]?  You could then add a `.env` file in the `app/` directory to set the necessary environment variable\r\n```sh\r\nSTRIPE_SECRET_KEY=sk_test_XXXXXXXXXXX\r\n```\r\nThen you can access this and load it into the Stripe client library like so\r\n```java\r\nimport io.github.cdimascio.dotenv.*;\r\n...\r\nDotenv dotenv = Dotenv.load();\r\nStripe.apiKey = dotenv.get(&quot;STRIPE_SECRET_KEY&quot;);\r\n```\r\n\r\n[def]: https://github.com/cdimascio/dotenv-java","title":"How to apply &quot;STRIPE_SECRET_KEY&quot; to Spring Boot application?","body":"<p>Can you try using the <a href=\"https://github.com/cdimascio/dotenv-java\" rel=\"nofollow noreferrer\">Java dotEnv module</a>?  You could then add a <code>.env</code> file in the <code>app/</code> directory to set the necessary environment variable</p>\n<pre class=\"lang-bash prettyprint-override\"><code>STRIPE_SECRET_KEY=sk_test_XXXXXXXXXXX\n</code></pre>\n<p>Then you can access this and load it into the Stripe client library like so</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.github.cdimascio.dotenv.*;\n...\nDotenv dotenv = Dotenv.load();\nStripe.apiKey = dotenv.get(&quot;STRIPE_SECRET_KEY&quot;);\n</code></pre>\n"}],"owner":{"account_id":27683932,"reputation":25,"user_id":21132073,"display_name":"EDOYou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76211755,"answer_count":2,"score":0,"last_activity_date":1683652403,"creation_date":1683650378,"question_id":76211638,"body_markdown":"Currently, what I am having are simple `ChargeRequest` and `PaymentStatus` as my entities, `StripeService`, `ChargeController` and `CheckoutController` as my controllers.\r\n\r\nI am trying to set up environment variables in **.bashrc**:\r\n```\r\nSTRIPE_SECRET_KEY=my_key\r\n```\r\n\r\nHowever, still getting an error:\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;STRIPE_SECRET_KEY&#39; in value &quot;${STRIPE_SECRET_KEY}&quot;\r\n\r\n```\r\n\r\nHere is the *StripeService*:\r\n```\r\npackage com.edoyou.k2sbeauty.services.implementations;\r\n\r\nimport com.edoyou.k2sbeauty.entities.model.ChargeRequest;\r\nimport com.stripe.Stripe;\r\nimport com.stripe.exception.APIConnectionException;\r\nimport com.stripe.exception.APIException;\r\nimport com.stripe.exception.CardException;\r\nimport com.stripe.exception.InvalidRequestException;\r\nimport com.stripe.model.Charge;\r\nimport jakarta.annotation.PostConstruct;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.security.core.AuthenticationException;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class StripeService {\r\n\r\n  @Value(&quot;${STRIPE_SECRET_KEY}&quot;)\r\n  private String secretKey;\r\n\r\n  @PostConstruct\r\n  public void init() {\r\n    Stripe.apiKey = secretKey;\r\n  }\r\n  public Charge charge(ChargeRequest chargeRequest)\r\n      throws AuthenticationException, InvalidRequestException,\r\n      APIConnectionException, CardException, APIException, com.stripe.exception.AuthenticationException {\r\n    Map&lt;String, Object&gt; chargeParams = new HashMap&lt;&gt;();\r\n    chargeParams.put(&quot;amount&quot;, chargeRequest.getAmount());\r\n    chargeParams.put(&quot;currency&quot;, chargeRequest.getCurrency());\r\n    chargeParams.put(&quot;description&quot;, chargeRequest.getDescription());\r\n    chargeParams.put(&quot;source&quot;, chargeRequest.getStripeToken());\r\n    return Charge.create(chargeParams);\r\n  }\r\n}\r\n```","title":"How to apply &quot;STRIPE_SECRET_KEY&quot; to Spring Boot application?","body":"<p>Currently, what I am having are simple <code>ChargeRequest</code> and <code>PaymentStatus</code> as my entities, <code>StripeService</code>, <code>ChargeController</code> and <code>CheckoutController</code> as my controllers.</p>\n<p>I am trying to set up environment variables in <strong>.bashrc</strong>:</p>\n<pre><code>STRIPE_SECRET_KEY=my_key\n</code></pre>\n<p>However, still getting an error:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'STRIPE_SECRET_KEY' in value &quot;${STRIPE_SECRET_KEY}&quot;\n\n</code></pre>\n<p>Here is the <em>StripeService</em>:</p>\n<pre><code>package com.edoyou.k2sbeauty.services.implementations;\n\nimport com.edoyou.k2sbeauty.entities.model.ChargeRequest;\nimport com.stripe.Stripe;\nimport com.stripe.exception.APIConnectionException;\nimport com.stripe.exception.APIException;\nimport com.stripe.exception.CardException;\nimport com.stripe.exception.InvalidRequestException;\nimport com.stripe.model.Charge;\nimport jakarta.annotation.PostConstruct;\nimport java.util.HashMap;\nimport java.util.Map;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class StripeService {\n\n  @Value(&quot;${STRIPE_SECRET_KEY}&quot;)\n  private String secretKey;\n\n  @PostConstruct\n  public void init() {\n    Stripe.apiKey = secretKey;\n  }\n  public Charge charge(ChargeRequest chargeRequest)\n      throws AuthenticationException, InvalidRequestException,\n      APIConnectionException, CardException, APIException, com.stripe.exception.AuthenticationException {\n    Map&lt;String, Object&gt; chargeParams = new HashMap&lt;&gt;();\n    chargeParams.put(&quot;amount&quot;, chargeRequest.getAmount());\n    chargeParams.put(&quot;currency&quot;, chargeRequest.getCurrency());\n    chargeParams.put(&quot;description&quot;, chargeRequest.getDescription());\n    chargeParams.put(&quot;source&quot;, chargeRequest.getStripeToken());\n    return Charge.create(chargeParams);\n  }\n}\n</code></pre>\n"},{"tags":["java","android","java-9","multi-release-jar"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1683652213,"post_id":76211852,"comment_id":134398332,"body_markdown":"Android is not Java, it doesn&#39;t execute JAR files and it doesn&#39;t know anything about &quot;JDK versions&quot;. So no: it won&#39;t support multi-release jars. Your *build system* might be able to use them and make sense of them in the Android context, but that&#39;s not relevant to Android itself.","body":"Android is not Java, it doesn&#39;t execute JAR files and it doesn&#39;t know anything about &quot;JDK versions&quot;. So no: it won&#39;t support multi-release jars. Your <i>build system</i> might be able to use them and make sense of them in the Android context, but that&#39;s not relevant to Android itself."}],"owner":{"account_id":28560186,"reputation":11,"user_id":21863847,"display_name":"黄柯睿"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683652095,"creation_date":1683652095,"question_id":76211852,"body_markdown":"I included a multi-release jar into `app.libs` and call the api in the jar(the api simply print current jdk version). But it didn&#39;t work.\r\n\r\nWill multi-release jar work in android? How to make it work?","title":"Is android system support multi-release jar?","body":"<p>I included a multi-release jar into <code>app.libs</code> and call the api in the jar(the api simply print current jdk version). But it didn't work.</p>\n<p>Will multi-release jar work in android? How to make it work?</p>\n"},{"tags":["java","jar","pom.xml","maven-dependency","mainclass"],"owner":{"account_id":27422552,"reputation":41,"user_id":20920697,"display_name":"terminalBlue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683652085,"creation_date":1683652085,"question_id":76211849,"body_markdown":"I have a working java program that I would like to turn into a .jar and eventually a .exe. I am using maven in VS Code on a mac. Initially, I was getting the &quot;no main manifest attribute&quot; error, which I resolved by adding \r\n&quot;Main-Class: com.solace.SolaceControlCenter&quot; to my MANIFEST.MF file through maven using this plug-in:\r\n\r\n```\r\n &lt;plugin&gt;\r\n          &lt;!-- Build an executable JAR --&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.3.0&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                &lt;classpathPrefix&gt;com/&lt;/classpathPrefix&gt;\r\n                &lt;mainClass&gt;com.solace.SolaceControlCenter&lt;/mainClass&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n          &lt;/configuration&gt;\r\n &lt;/plugin&gt;\r\n```\r\n\r\nThis plugin also added these to my MANIFEST.MF file:\r\n\r\n&quot;Class-Path: com/miglayout-core-11.1.jar com/miglayout-swing-11.1.jar com\r\n /commons-compress-1.21.jar com/poi-ooxml-5.2.3.jar com/poi-ooxml-lite-5\r\n .2.3.jar com/xmlbeans-5.1.1.jar com/commons-io-2.11.0.jar com/curvesapi\r\n -1.07.jar com/log4j-api-2.18.0.jar com/commons-collections4-4.4.jar com\r\n /poi-5.2.3.jar com/commons-codec-1.15.jar com/commons-math3-3.6.1.jar c\r\n om/SparseBitSet-1.2.jar&quot;\r\n\r\nAfter I made that pom.xml change, I tried &quot;mvn package&quot; again and executed &quot;java -jar Macroffects-0.2.0-SNAPSHOT.jar&quot;, which brought me to this error in the terminal:\r\n\r\n`Error: Unable to initialize main class com.solace.SolaceControlCenter\r\nCaused by: java.lang.NoClassDefFoundError: org/apache/commons/compress/archivers/dump/InvalidFormatException` \r\n\r\nI then added this plugin to my pom.xml based off of similar issues I was reading on other Stack Overflow posts:\r\n\r\n```\r\n&lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;single&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n              &lt;configuration&gt;\r\n                &lt;archive&gt;\r\n                    &lt;manifest&gt;\r\n                        &lt;mainClass&gt;\r\n                            com.solace.SolaceControlCenter\r\n                        &lt;/mainClass&gt;\r\n                    &lt;/manifest&gt;\r\n                &lt;/archive&gt;\r\n                &lt;descriptorRefs&gt;\r\n                  &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                &lt;/descriptorRefs&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nIt had no effect on the error message. I read that the error might be linked to the fact that the .jar file cannot find the dependencies because the dependency .jar files are not contained within the .jar file I created. I initially tried to figure out a way to get Maven to do it for me, but to no avail (that question seems to be sparingly answered on Stack Overflow). \r\n\r\nMy final attempt was to manually put the .jar files (from the list created in the Class-Path: section of the MANIFEST.MF file) into my VS_Code project under com/ to match the Class-Path I set in the pom.xml plugin. This did not change the error message.\r\n\r\nI then turned to the pom.xml file, and ran &quot;mvn dependency:analyze&quot; to check if all of my dependencies were being interpreted properly. The result was:\r\n\r\n\r\n```\r\nUnable to process: com.solace.ReferenceCreator\r\nUnable to process: com.solace.ExcelEvaluator\r\n[INFO] No dependency problems found\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.913 s\r\n[INFO] Finished at: 2023-05-09T12:54:02-04:00\r\n[INFO] ------------------------------------------------------------------------\r\n````\r\n\r\n**No dependency problems were found, but the fact that two of my classes were not able to be processed leads me to believe something is wrong, even though when I search for that error on the web, I come up with nothing. What exactly does unable to process mean, and how can I figure out what is causing it?**","title":"Why am I getting an &quot;Unable to initialize main class&quot; error when running &quot;java -jar Macroffects-0.2.0-SNAPSHOT.jar&quot;?","body":"<p>I have a working java program that I would like to turn into a .jar and eventually a .exe. I am using maven in VS Code on a mac. Initially, I was getting the &quot;no main manifest attribute&quot; error, which I resolved by adding\n&quot;Main-Class: com.solace.SolaceControlCenter&quot; to my MANIFEST.MF file through maven using this plug-in:</p>\n<pre><code> &lt;plugin&gt;\n          &lt;!-- Build an executable JAR --&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.3.0&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;archive&gt;\n              &lt;manifest&gt;\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                &lt;classpathPrefix&gt;com/&lt;/classpathPrefix&gt;\n                &lt;mainClass&gt;com.solace.SolaceControlCenter&lt;/mainClass&gt;\n              &lt;/manifest&gt;\n            &lt;/archive&gt;\n          &lt;/configuration&gt;\n &lt;/plugin&gt;\n</code></pre>\n<p>This plugin also added these to my MANIFEST.MF file:</p>\n<p>&quot;Class-Path: com/miglayout-core-11.1.jar com/miglayout-swing-11.1.jar com\n/commons-compress-1.21.jar com/poi-ooxml-5.2.3.jar com/poi-ooxml-lite-5\n.2.3.jar com/xmlbeans-5.1.1.jar com/commons-io-2.11.0.jar com/curvesapi\n-1.07.jar com/log4j-api-2.18.0.jar com/commons-collections4-4.4.jar com\n/poi-5.2.3.jar com/commons-codec-1.15.jar com/commons-math3-3.6.1.jar c\nom/SparseBitSet-1.2.jar&quot;</p>\n<p>After I made that pom.xml change, I tried &quot;mvn package&quot; again and executed &quot;java -jar Macroffects-0.2.0-SNAPSHOT.jar&quot;, which brought me to this error in the terminal:</p>\n<p><code>Error: Unable to initialize main class com.solace.SolaceControlCenter Caused by: java.lang.NoClassDefFoundError: org/apache/commons/compress/archivers/dump/InvalidFormatException</code></p>\n<p>I then added this plugin to my pom.xml based off of similar issues I was reading on other Stack Overflow posts:</p>\n<pre><code>&lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;phase&gt;package&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;single&lt;/goal&gt;\n              &lt;/goals&gt;\n              &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;\n                            com.solace.SolaceControlCenter\n                        &lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n                &lt;descriptorRefs&gt;\n                  &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n              &lt;/configuration&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>It had no effect on the error message. I read that the error might be linked to the fact that the .jar file cannot find the dependencies because the dependency .jar files are not contained within the .jar file I created. I initially tried to figure out a way to get Maven to do it for me, but to no avail (that question seems to be sparingly answered on Stack Overflow).</p>\n<p>My final attempt was to manually put the .jar files (from the list created in the Class-Path: section of the MANIFEST.MF file) into my VS_Code project under com/ to match the Class-Path I set in the pom.xml plugin. This did not change the error message.</p>\n<p>I then turned to the pom.xml file, and ran &quot;mvn dependency:analyze&quot; to check if all of my dependencies were being interpreted properly. The result was:</p>\n<pre><code>Unable to process: com.solace.ReferenceCreator\nUnable to process: com.solace.ExcelEvaluator\n[INFO] No dependency problems found\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.913 s\n[INFO] Finished at: 2023-05-09T12:54:02-04:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p><strong>No dependency problems were found, but the fact that two of my classes were not able to be processed leads me to believe something is wrong, even though when I search for that error on the web, I come up with nothing. What exactly does unable to process mean, and how can I figure out what is causing it?</strong></p>\n"},{"tags":["java","javafx","java-money"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1683664502,"post_id":76211842,"comment_id":134400831,"body_markdown":"You may need an [`opens`](https://www.oracle.com/corporate/features/understanding-java-9-modules.html) clause.","body":"You may need an <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\"><code>opens</code></a> clause."}],"owner":{"account_id":21094516,"reputation":61,"user_id":15505778,"display_name":"ilsurealism"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683652038,"creation_date":1683652038,"question_id":76211842,"body_markdown":"JavaFX Application raises an error when I try to call any MonetaryConversions function. The error message cointains \r\n\r\n&gt; org.javamoney.moneta.spi.loader.ResourceCache: module\r\n&gt; org.javamoney.moneta does not declare `uses`\r\norg.javamoney.moneta.spi.loader.LoaderService: Provider org.javamoney.moneta.spi.loader.DefaultLoaderService could not be instantiated\r\n\r\nTher error occurs when I call (javax.money.convert.MonetaryConversions was imported):\r\n\r\n    System.out.println(MonetaryConversions.getDefaultConversionProviderChain());\r\n\r\nModule-info.java contains:\r\n\r\n    requires java.money;\r\n    requires org.javamoney.moneta;\r\n\r\nAlso when I call another java-money function from another class it works. For example:\r\n\r\n    System.out.println(Monetary.getCurrency(&quot;USD&quot;));\r\n\r\nPlease tell me what am I doing wrong?","title":"MonetaryConversions functions of java-money module do not work","body":"<p>JavaFX Application raises an error when I try to call any MonetaryConversions function. The error message cointains</p>\n<blockquote>\n<p>org.javamoney.moneta.spi.loader.ResourceCache: module\norg.javamoney.moneta does not declare <code>uses</code>\norg.javamoney.moneta.spi.loader.LoaderService: Provider org.javamoney.moneta.spi.loader.DefaultLoaderService could not be instantiated</p>\n</blockquote>\n<p>Ther error occurs when I call (javax.money.convert.MonetaryConversions was imported):</p>\n<pre><code>System.out.println(MonetaryConversions.getDefaultConversionProviderChain());\n</code></pre>\n<p>Module-info.java contains:</p>\n<pre><code>requires java.money;\nrequires org.javamoney.moneta;\n</code></pre>\n<p>Also when I call another java-money function from another class it works. For example:</p>\n<pre><code>System.out.println(Monetary.getCurrency(&quot;USD&quot;));\n</code></pre>\n<p>Please tell me what am I doing wrong?</p>\n"},{"tags":["java","maven","intellij-idea","javafx","jxbrowser"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1683567647,"post_id":76202993,"comment_id":134383209,"body_markdown":"Please include [mcve] code in the question as text, formatted as code.  Also include links to your research, referencing what you already tried.","body":"Please include <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> code in the question as text, formatted as code.  Also include links to your research, referencing what you already tried."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1683569884,"post_id":76202993,"comment_id":134383694,"body_markdown":"Do you need to add the `maven.compiler.xxx` options to your `POM`?  `&lt;modelVersion&gt;x.x.x&lt;/modelVersion&gt;\n    &lt;groupId&gt;xxx.yyyy&lt;/groupId&gt;\n    &lt;artifactId&gt;xxxxxxxxxxxx&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;`","body":"Do you need to add the <code>maven.compiler.xxx</code> options to your <code>POM</code>?  <code>&lt;modelVersion&gt;x.x.x&lt;&#47;modelVersion&gt;     &lt;groupId&gt;xxx.yyyy&lt;&#47;groupId&gt;     &lt;artifactId&gt;xxxxxxxxxxxx&lt;&#47;artifactId&gt;     &lt;version&gt;1.0-SNAPSHOT&lt;&#47;version&gt;     &lt;properties&gt;         &lt;project.build.sourceEncoding&gt;UTF-8&lt;&#47;project.build.sourceEnc&zwnj;&#8203;oding&gt;         &lt;maven.compiler.source&gt;17&lt;&#47;maven.compiler.source&gt;         &lt;maven.compiler.target&gt;17&lt;&#47;maven.compiler.target&gt;     &lt;&#47;properties&gt;</code>"},{"owner":{"account_id":28549028,"reputation":13,"user_id":21854099,"display_name":"AlexMPalmisano"},"score":0,"creation_date":1683573410,"post_id":76202993,"comment_id":134384454,"body_markdown":"@SedJ601 I experimented that, and it seems to cause issues with one of the plugins in the JavaFX example pom.xml file.  Instead I get &#39;[ERROR] Failed to execute goal org.openjfx:javafx-maven-plugin:0.0.8:run (default-cli) on project hellofx&#39;.  That specific part is included in the example w/o JxBrowser, so idk why it stopped working.","body":"@SedJ601 I experimented that, and it seems to cause issues with one of the plugins in the JavaFX example pom.xml file.  Instead I get &#39;[ERROR] Failed to execute goal org.openjfx:javafx-maven-plugin:0.0.8:run (default-cli) on project hellofx&#39;.  That specific part is included in the example w/o JxBrowser, so idk why it stopped working."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1683576933,"post_id":76202993,"comment_id":134385195,"body_markdown":"Can you please add the output of the command `mvn -v` and check that you are running maven with a suitable Java version?","body":"Can you please add the output of the command <code>mvn -v</code> and check that you are running maven with a suitable Java version?"},{"owner":{"account_id":28549028,"reputation":13,"user_id":21854099,"display_name":"AlexMPalmisano"},"score":0,"creation_date":1683578571,"post_id":76202993,"comment_id":134385435,"body_markdown":"@cyberbrain just edited the post with the output","body":"@cyberbrain just edited the post with the output"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1683586313,"post_id":76202993,"comment_id":134386569,"body_markdown":"Did you set IntelliJ &gt; Preferences &gt; Build, Execution, Deployment &gt; Compiler &gt; Java Compiler &gt; Module &amp; Target bytecode version?","body":"Did you set IntelliJ &gt; Preferences &gt; Build, Execution, Deployment &gt; Compiler &gt; Java Compiler &gt; Module &amp; Target bytecode version?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1683595380,"post_id":76202993,"comment_id":134387389,"body_markdown":"I thought it was determined by the author of `JxBrowser` that your License was no longer valid and is at the root of this issue.","body":"I thought it was determined by the author of <code>JxBrowser</code> that your License was no longer valid and is at the root of this issue."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1683595429,"post_id":76202993,"comment_id":134387395,"body_markdown":"Also, your `POM` has `&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;` which is a problem.","body":"Also, your <code>POM</code> has <code>&lt;maven.compiler.source&gt;1.8&lt;&#47;maven.compiler.source&gt;     &lt;maven.compiler.target&gt;1.8&lt;&#47;maven.compiler.target&gt;</code> which is a problem."},{"owner":{"account_id":1278033,"reputation":562,"user_id":1287056,"accept_rate":75,"display_name":"Vladyslav Lubenskyi"},"score":1,"creation_date":1683627047,"post_id":76202993,"comment_id":134392035,"body_markdown":"I have nothing to add to the previous comments, but I can explain why there are no dependencies on JavaFX. That&#39;s because JavaFX was a part of Java 8 and we keep our examples Java 8 compatible—on purpose. We do have an example for Java 9+ for Gradle though: https://github.com/TeamDev-IP/JxBrowser-QuickStart/tree/v7.32/Gradle/JavaFX-11","body":"I have nothing to add to the previous comments, but I can explain why there are no dependencies on JavaFX. That&#39;s because JavaFX was a part of Java 8 and we keep our examples Java 8 compatible—on purpose. We do have an example for Java 9+ for Gradle though: <a href=\"https://github.com/TeamDev-IP/JxBrowser-QuickStart/tree/v7.32/Gradle/JavaFX-11\" rel=\"nofollow noreferrer\">github.com/TeamDev-IP/JxBrowser-QuickStart/tree/v7.32/Gradle&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1683652572,"post_id":76202993,"comment_id":134398452,"body_markdown":"@VladyslavLubenskyi Let me clarify that Oracle bundled JavaFX with their own JDK/JRE products for Java 8. Then later Oracle stopped that bundling. **JavaFX has never been included in the definition of *Java Standard Edition*** despite being the official replacement for Swing. Today, some JDK vendors do provide an edition of their products that bundles the JavaFX/OpenJFX libraries. These vendors include Azul Systems (*ZuluFX*) and BellSoft (*LibericaFX*).","body":"@VladyslavLubenskyi Let me clarify that Oracle bundled JavaFX with their own JDK/JRE products for Java 8. Then later Oracle stopped that bundling. <b>JavaFX has never been included in the definition of <i>Java Standard Edition</i></b> despite being the official replacement for Swing. Today, some JDK vendors do provide an edition of their products that bundles the JavaFX/OpenJFX libraries. These vendors include Azul Systems (<i>ZuluFX</i>) and BellSoft (<i>LibericaFX</i>)."}],"answers":[{"comments":[{"owner":{"account_id":1278033,"reputation":562,"user_id":1287056,"accept_rate":75,"display_name":"Vladyslav Lubenskyi"},"score":1,"creation_date":1683626843,"post_id":76205404,"comment_id":134391973,"body_markdown":"Hi there from JxBrowser team. There are no Javadoc in our Maven repository, unfortunately. This is a limitation of the service provider and we plan to fix it in the future.","body":"Hi there from JxBrowser team. There are no Javadoc in our Maven repository, unfortunately. This is a limitation of the service provider and we plan to fix it in the future."},{"owner":{"account_id":1278033,"reputation":562,"user_id":1287056,"accept_rate":75,"display_name":"Vladyslav Lubenskyi"},"score":2,"creation_date":1683627176,"post_id":76205404,"comment_id":134392073,"body_markdown":"I&#39;m a JxBrowser expert and I confirm correctness of this answer.","body":"I&#39;m a JxBrowser expert and I confirm correctness of this answer."},{"owner":{"account_id":28549028,"reputation":13,"user_id":21854099,"display_name":"AlexMPalmisano"},"score":0,"creation_date":1683651276,"post_id":76205404,"comment_id":134398111,"body_markdown":"Thank you so much, I was able to get it to run finally, you&#39;re a life saver!  I followed some of the earlier suggestions and was able to make a bit  of progress, but it seems I was lacking the Run/Debug configurations, and I put the wrong information in the module-info.java file.  I greatly appreciate you taking the time to work this out and explaining it as thoroughly as you have.","body":"Thank you so much, I was able to get it to run finally, you&#39;re a life saver!  I followed some of the earlier suggestions and was able to make a bit  of progress, but it seems I was lacking the Run/Debug configurations, and I put the wrong information in the module-info.java file.  I greatly appreciate you taking the time to work this out and explaining it as thoroughly as you have."},{"owner":{"account_id":28549028,"reputation":13,"user_id":21854099,"display_name":"AlexMPalmisano"},"score":1,"creation_date":1683651485,"post_id":76205404,"comment_id":134398156,"body_markdown":"@VladyslavLubenskyi thank you for your help, I appreciate your response to my help request on Twitter.","body":"@VladyslavLubenskyi thank you for your help, I appreciate your response to my help request on Twitter."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683651940,"creation_date":1683597926,"answer_id":76205404,"question_id":76202993,"body_markdown":"**Caveat:** I am *not* an expert on [*JxBrowser*][1]. I had not heard of it before today.\r\n\r\n# No license\r\n\r\nExcerpt from your error message:\r\n\r\n&gt;Caused by: com.teamdev.jxbrowser.engine.NoLicenseException\r\n\r\n[JxBrowser][1] is commercial software, requiring a fee. The [vendor does provide][2] a free 30-day trial. \r\n\r\nApparently you either do not have a license, or you have misconfigured the license files needed to execute JxBrowser. \r\n\r\nYour code for establishing the JxBrowser engine seems to be too brief. The example code from xxx shows the following. Notice the call to `licenseKey` where you pass your license key as a string. \r\n\r\n```java\r\nEngineOptions options =\r\n        EngineOptions\r\n                .newBuilder( HARDWARE_ACCELERATED )\r\n                .licenseKey( &quot;your_license_code_goes_here&quot; )\r\n                .build();\r\nEngine engine = Engine.newInstance( options );\r\n```\r\n\r\nThere may be other ways to configure the license, but that one worked for me with my 30-day free trial license I obtained today.\r\n\r\n# Java version\r\n\r\nYour question does not document what settings you used to establish your Java version. \r\n\r\nIn IntelliJ, changing the Java version is quite a chore. You must reach into multiple nooks and crannies of IntelliJ settings as well as your Maven or Gradle configuration. Search Stack Overflow to learn more, as this has been covered already. I&#39;ll list some of the places briefly.\r\n\r\n - IntelliJ &gt; Preferences &gt; Build, Execution, Deployment &gt; Compiler &gt; Java Compiler &gt; Module &amp; Target bytecode version\r\n - IntelliJ &gt; File &gt; Project structure &gt; Project Settings &gt; Project &gt; SDK  (and Language Level)\r\n - IntelliJ &gt; File &gt; Project structure &gt; Project Settings &gt; Modules &gt; Sources &gt; language level\r\n - Maven POM, with a plugin as shown next, with a `release` element.\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.11.0&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;release&gt;20&lt;/release&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n# Example app\r\n\r\nIf it helps, I can post the parts of an example app I got running today. I noticed too late that the TeamDev company provides a template on GitHub. So instead, I:\r\n\r\n 1. Created a new JavaFX project in IntelliJ using the built-in *JavaFX* project template.\r\n 2. Ran that project successfully.\r\n 3. Ripped out the FXML parts, though I imagine you could leave those in place and ignore them.\r\n 4. Tweaked the POM file to add JxBrowser elements, and update to latest version of everything.\r\n 5. Copied code from this [JxBrowser Quick Start][3] page.\r\n 6. Copy-pasted four `--add-opens` items from the second block shown in the [*Embedding into JFXPanel*](https://jxbrowser-support.teamdev.com/docs/guides/troubleshooting/issues.html#embedding-into-jfxpanel) section of the JxBrowser page, *Frequently Encountered Issues*. I pasted into [*Run/Debug Configurations*][4] dialog in IntelliJ, where I had to use the pop-up menu *Modify options* to check the *Add VM options* item which makes visible a field for pasting.\r\n 7. Used IntelliJ fix-it suggestions to modify my `module-info.java` file, as shown below. \r\n\r\n```bash\r\n--add-opens javafx.swing/javafx.embed.swing=jxbrowser\r\n--add-opens javafx.graphics/com.sun.javafx.stage=jxbrowser\r\n--add-exports javafx.graphics/com.sun.javafx.stage=jxbrowser\r\n--add-exports javafx.controls/com.sun.javafx.scene.control=jxbrowser\r\n```\r\n\r\nMy module-info.java file:\r\n\r\n```java\r\nmodule work.basil.example.brzr {\r\n    requires javafx.controls;\r\n    requires jxbrowser;\r\n    requires jxbrowser.javafx;\r\n\r\n    exports work.basil.example.brzr;\r\n}\r\n```\r\n\r\nMy POM.xml:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns = &quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation = &quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;work.basil.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Brzr&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;Brzr&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;com.teamdev&lt;/id&gt;\r\n            &lt;url&gt;https://europe-maven.pkg.dev/jxbrowser/releases&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;20.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.teamdev.jxbrowser&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jxbrowser-cross-platform&lt;/artifactId&gt;\r\n            &lt;version&gt;7.32&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.teamdev.jxbrowser&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jxbrowser-javafx&lt;/artifactId&gt;\r\n            &lt;version&gt;7.32&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;20&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;work.basil.example.brzr/work.basil.example.brzr.HelloApplication&lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nMy `HelloApplication.java` file.\r\n\r\n```java\r\npackage work.basil.example.brzr;\r\n\r\nimport com.teamdev.jxbrowser.browser.Browser;\r\nimport com.teamdev.jxbrowser.engine.Engine;\r\nimport com.teamdev.jxbrowser.engine.EngineOptions;\r\nimport com.teamdev.jxbrowser.view.javafx.BrowserView;\r\nimport javafx.application.Application;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\nimport java.time.Instant;\r\n\r\nimport static com.teamdev.jxbrowser.engine.RenderingMode.HARDWARE_ACCELERATED;\r\n\r\npublic class HelloApplication extends Application\r\n{\r\n    @Override\r\n    public void start ( Stage stage ) throws IOException\r\n    {\r\n        this.dumpEnv();\r\n\r\n        // Initialize Chromium.\r\n        EngineOptions options =\r\n                EngineOptions\r\n                        .newBuilder( HARDWARE_ACCELERATED )\r\n                        .licenseKey( &quot;your_license_code_goes_here&quot; )\r\n                        .build();\r\n        Engine engine = Engine.newInstance( options );\r\n\r\n        // Create a Browser instance.\r\n        Browser browser = engine.newBrowser();\r\n\r\n        // Load the required web page.\r\n        browser.navigation().loadUrl( &quot;https://html5test.com&quot; );\r\n\r\n        // Create and embed JavaFX BrowserView component to display web content.\r\n        BrowserView view = BrowserView.newInstance( browser );\r\n\r\n        Scene scene = new Scene( new BorderPane( view ) , 1280 , 800 );\r\n        stage.setTitle( &quot;JxBrowser JavaFX&quot; );\r\n        stage.setScene( scene );\r\n        stage.show();\r\n\r\n        // Shutdown Chromium and release allocated resources.\r\n        stage.setOnCloseRequest( event -&gt; engine.close() );\r\n    }\r\n\r\n    private void dumpEnv ( )\r\n    {\r\n        System.out.println( &quot;Runtime.version() = &quot; + Runtime.version() );\r\n    }\r\n\r\n    private Parent makeParent ( )\r\n    {\r\n        Button btn = new Button();\r\n        btn.setText( &quot;Say &#39;Hello World&#39;&quot; );\r\n        btn.setOnAction( ( ActionEvent event ) -&gt; System.out.println( &quot;Hello World! &quot; + Instant.now() ) );\r\n\r\n        StackPane root = new StackPane();\r\n        root.getChildren().add( btn );\r\n        return root;\r\n    }\r\n\r\n    public static void main ( String[] args )\r\n    {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nThis example app ran successfully from within IntelliJ IDEA 2023.1.2 Preview (Ultimate Edition), on an M1 MacBook Pro with macOS Ventura 13.3.1, using a JDK for Java 20.0.1 from Azul Systems.\r\n\r\nWhen running, I saw a window appear within my app that looked like this:\r\n\r\n[![screenshot of running app][5]][5]\r\n\r\n\r\n----------\r\n\r\nBy the way, I had a bit of trouble finding the JxBrowser Javadoc. Finally found it [here][6].\r\n\r\n\r\n  [1]: https://teamdev.com/jxbrowser/\r\n  [2]: https://teamdev.com/jxbrowser/#evaluate\r\n  [3]: https://jxbrowser-support.teamdev.com/docs/quickstart/#quick-start-maven-view-javafx\r\n  [4]: https://www.jetbrains.com/help/idea/run-debug-configuration.html#create-permanent\r\n  [5]: https://i.stack.imgur.com/opW9Z.png\r\n  [6]: https://api.jxbrowser.com/7.32/index.html","title":"Language level stuck at 7 when running JxBrowser example code?","body":"<p><strong>Caveat:</strong> I am <em>not</em> an expert on <a href=\"https://teamdev.com/jxbrowser/\" rel=\"nofollow noreferrer\"><em>JxBrowser</em></a>. I had not heard of it before today.</p>\n<h1>No license</h1>\n<p>Excerpt from your error message:</p>\n<blockquote>\n<p>Caused by: com.teamdev.jxbrowser.engine.NoLicenseException</p>\n</blockquote>\n<p><a href=\"https://teamdev.com/jxbrowser/\" rel=\"nofollow noreferrer\">JxBrowser</a> is commercial software, requiring a fee. The <a href=\"https://teamdev.com/jxbrowser/#evaluate\" rel=\"nofollow noreferrer\">vendor does provide</a> a free 30-day trial.</p>\n<p>Apparently you either do not have a license, or you have misconfigured the license files needed to execute JxBrowser.</p>\n<p>Your code for establishing the JxBrowser engine seems to be too brief. The example code from xxx shows the following. Notice the call to <code>licenseKey</code> where you pass your license key as a string.</p>\n<pre class=\"lang-java prettyprint-override\"><code>EngineOptions options =\n        EngineOptions\n                .newBuilder( HARDWARE_ACCELERATED )\n                .licenseKey( &quot;your_license_code_goes_here&quot; )\n                .build();\nEngine engine = Engine.newInstance( options );\n</code></pre>\n<p>There may be other ways to configure the license, but that one worked for me with my 30-day free trial license I obtained today.</p>\n<h1>Java version</h1>\n<p>Your question does not document what settings you used to establish your Java version.</p>\n<p>In IntelliJ, changing the Java version is quite a chore. You must reach into multiple nooks and crannies of IntelliJ settings as well as your Maven or Gradle configuration. Search Stack Overflow to learn more, as this has been covered already. I'll list some of the places briefly.</p>\n<ul>\n<li>IntelliJ &gt; Preferences &gt; Build, Execution, Deployment &gt; Compiler &gt; Java Compiler &gt; Module &amp; Target bytecode version</li>\n<li>IntelliJ &gt; File &gt; Project structure &gt; Project Settings &gt; Project &gt; SDK  (and Language Level)</li>\n<li>IntelliJ &gt; File &gt; Project structure &gt; Project Settings &gt; Modules &gt; Sources &gt; language level</li>\n<li>Maven POM, with a plugin as shown next, with a <code>release</code> element.</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.11.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;release&gt;20&lt;/release&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<h1>Example app</h1>\n<p>If it helps, I can post the parts of an example app I got running today. I noticed too late that the TeamDev company provides a template on GitHub. So instead, I:</p>\n<ol>\n<li>Created a new JavaFX project in IntelliJ using the built-in <em>JavaFX</em> project template.</li>\n<li>Ran that project successfully.</li>\n<li>Ripped out the FXML parts, though I imagine you could leave those in place and ignore them.</li>\n<li>Tweaked the POM file to add JxBrowser elements, and update to latest version of everything.</li>\n<li>Copied code from this <a href=\"https://jxbrowser-support.teamdev.com/docs/quickstart/#quick-start-maven-view-javafx\" rel=\"nofollow noreferrer\">JxBrowser Quick Start</a> page.</li>\n<li>Copy-pasted four <code>--add-opens</code> items from the second block shown in the <a href=\"https://jxbrowser-support.teamdev.com/docs/guides/troubleshooting/issues.html#embedding-into-jfxpanel\" rel=\"nofollow noreferrer\"><em>Embedding into JFXPanel</em></a> section of the JxBrowser page, <em>Frequently Encountered Issues</em>. I pasted into <a href=\"https://www.jetbrains.com/help/idea/run-debug-configuration.html#create-permanent\" rel=\"nofollow noreferrer\"><em>Run/Debug Configurations</em></a> dialog in IntelliJ, where I had to use the pop-up menu <em>Modify options</em> to check the <em>Add VM options</em> item which makes visible a field for pasting.</li>\n<li>Used IntelliJ fix-it suggestions to modify my <code>module-info.java</code> file, as shown below.</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>--add-opens javafx.swing/javafx.embed.swing=jxbrowser\n--add-opens javafx.graphics/com.sun.javafx.stage=jxbrowser\n--add-exports javafx.graphics/com.sun.javafx.stage=jxbrowser\n--add-exports javafx.controls/com.sun.javafx.scene.control=jxbrowser\n</code></pre>\n<p>My module-info.java file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module work.basil.example.brzr {\n    requires javafx.controls;\n    requires jxbrowser;\n    requires jxbrowser.javafx;\n\n    exports work.basil.example.brzr;\n}\n</code></pre>\n<p>My POM.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns = &quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation = &quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;work.basil.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Brzr&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Brzr&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;com.teamdev&lt;/id&gt;\n            &lt;url&gt;https://europe-maven.pkg.dev/jxbrowser/releases&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;20.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.9.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.teamdev.jxbrowser&lt;/groupId&gt;\n            &lt;artifactId&gt;jxbrowser-cross-platform&lt;/artifactId&gt;\n            &lt;version&gt;7.32&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.teamdev.jxbrowser&lt;/groupId&gt;\n            &lt;artifactId&gt;jxbrowser-javafx&lt;/artifactId&gt;\n            &lt;version&gt;7.32&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;20&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;work.basil.example.brzr/work.basil.example.brzr.HelloApplication&lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My <code>HelloApplication.java</code> file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.brzr;\n\nimport com.teamdev.jxbrowser.browser.Browser;\nimport com.teamdev.jxbrowser.engine.Engine;\nimport com.teamdev.jxbrowser.engine.EngineOptions;\nimport com.teamdev.jxbrowser.view.javafx.BrowserView;\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.time.Instant;\n\nimport static com.teamdev.jxbrowser.engine.RenderingMode.HARDWARE_ACCELERATED;\n\npublic class HelloApplication extends Application\n{\n    @Override\n    public void start ( Stage stage ) throws IOException\n    {\n        this.dumpEnv();\n\n        // Initialize Chromium.\n        EngineOptions options =\n                EngineOptions\n                        .newBuilder( HARDWARE_ACCELERATED )\n                        .licenseKey( &quot;your_license_code_goes_here&quot; )\n                        .build();\n        Engine engine = Engine.newInstance( options );\n\n        // Create a Browser instance.\n        Browser browser = engine.newBrowser();\n\n        // Load the required web page.\n        browser.navigation().loadUrl( &quot;https://html5test.com&quot; );\n\n        // Create and embed JavaFX BrowserView component to display web content.\n        BrowserView view = BrowserView.newInstance( browser );\n\n        Scene scene = new Scene( new BorderPane( view ) , 1280 , 800 );\n        stage.setTitle( &quot;JxBrowser JavaFX&quot; );\n        stage.setScene( scene );\n        stage.show();\n\n        // Shutdown Chromium and release allocated resources.\n        stage.setOnCloseRequest( event -&gt; engine.close() );\n    }\n\n    private void dumpEnv ( )\n    {\n        System.out.println( &quot;Runtime.version() = &quot; + Runtime.version() );\n    }\n\n    private Parent makeParent ( )\n    {\n        Button btn = new Button();\n        btn.setText( &quot;Say 'Hello World'&quot; );\n        btn.setOnAction( ( ActionEvent event ) -&gt; System.out.println( &quot;Hello World! &quot; + Instant.now() ) );\n\n        StackPane root = new StackPane();\n        root.getChildren().add( btn );\n        return root;\n    }\n\n    public static void main ( String[] args )\n    {\n        launch();\n    }\n}\n</code></pre>\n<p>This example app ran successfully from within IntelliJ IDEA 2023.1.2 Preview (Ultimate Edition), on an M1 MacBook Pro with macOS Ventura 13.3.1, using a JDK for Java 20.0.1 from Azul Systems.</p>\n<p>When running, I saw a window appear within my app that looked like this:</p>\n<p><a href=\"https://i.stack.imgur.com/opW9Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/opW9Z.png\" alt=\"screenshot of running app\" /></a></p>\n<hr />\n<p>By the way, I had a bit of trouble finding the JxBrowser Javadoc. Finally found it <a href=\"https://api.jxbrowser.com/7.32/index.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":28549028,"reputation":13,"user_id":21854099,"display_name":"AlexMPalmisano"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76205404,"answer_count":1,"score":0,"last_activity_date":1683651940,"creation_date":1683567518,"question_id":76202993,"body_markdown":"I&#39;m essentially just trying to get one of the JxBrowser example projects working by combining it with a basic JavaFX/Maven project.  When I run\r\n\r\n`mvn clean javafx:run`\r\n\r\nwith the JxBrowser example code enabled (and the stock JavaFX code commented out), I get the following message:\r\n\r\n`[28,32] static interface method invocations are not supported in -source 7 (use -source 8 or higher to enable static interface method invocations)`\r\n\r\n[Java/FX Maven example project](https://github.com/openjfx/samples/tree/master/HelloFX/Maven/hellofx)\r\n\r\n[JxBrowser example](https://github.com/TeamDev-IP/JxBrowser-QuickStart/tree/v7.32/Maven/JavaFX) (this curiously does not have JavaFX included in the pom.xml file)\r\n\r\n[My GitHub repo](https://github.com/AlexMPalmisano/JxBrowser-Test/)\r\n\r\n[My Java HelloWorld file](https://github.com/AlexMPalmisano/JxBrowser-Test/blob/main/src/main/java/HelloFX.java) (JxBrowser example code is commented out in this version)\r\n\r\nBased on my searches on this issue, I&#39;ve tried changing the language level in my Intellij Project Structure, but this seems to have no effect on the outcome.  I&#39;m running OpenJDK version 17.0.6, so I&#39;m not entirely sure why this would be an issue.  Is there anything I&#39;m missing (I&#39;m not very experienced so take it easy on me lol)?\r\n\r\nEDIT: Here is the pom.xml file I&#39;m currently running:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n  &lt;artifactId&gt;hellofx&lt;/artifactId&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;demo&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;javafx.version&gt;19&lt;/javafx.version&gt;\r\n    &lt;javafx.maven.plugin.version&gt;0.0.8&lt;/javafx.maven.plugin.version&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;repositories&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;com.teamdev&lt;/id&gt;\r\n      &lt;url&gt;https://europe-maven.pkg.dev/jxbrowser/releases&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n  &lt;/repositories&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.teamdev.jxbrowser&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jxbrowser-cross-platform&lt;/artifactId&gt;\r\n      &lt;version&gt;7.32&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.teamdev.jxbrowser&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jxbrowser-javafx&lt;/artifactId&gt;\r\n      &lt;version&gt;7.32&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  \r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${javafx.maven.plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;mainClass&gt;HelloFX&lt;/mainClass&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  \r\n&lt;/project&gt;\r\n```\r\n\r\nAnd here is the Java file:\r\n```\r\nimport static com.teamdev.jxbrowser.engine.RenderingMode.HARDWARE_ACCELERATED;\r\n\r\nimport com.teamdev.jxbrowser.browser.Browser;\r\nimport com.teamdev.jxbrowser.engine.Engine;\r\nimport com.teamdev.jxbrowser.view.javafx.BrowserView;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class HelloFX extends Application {\r\n\r\n//    @Override\r\n//    public void start(Stage stage) {\r\n//        String javaVersion = System.getProperty(&quot;java.version&quot;);\r\n//        String javafxVersion = System.getProperty(&quot;javafx.version&quot;);\r\n//        Label l = new Label(&quot;Hello, JavaFX &quot; + javafxVersion + &quot;, running on Java &quot; + javaVersion + &quot;.&quot;);\r\n//        Scene scene = new Scene(new StackPane(l), 640, 480);\r\n//        stage.setScene(scene);\r\n//        stage.show();\r\n//    }\r\n\r\n     @Override\r\n     public void start(Stage primaryStage) {\r\n         // Initialize Chromium.\r\n         Engine engine = Engine.newInstance(HARDWARE_ACCELERATED);\r\n\r\n         Browser browser = engine.newBrowser();\r\n\r\n         // Load the required web page.\r\n         browser.navigation().loadUrl(&quot;https://html5test.com&quot;);\r\n\r\n         // Create and embed JavaFX BrowserView component to display web content.\r\n         BrowserView view = BrowserView.newInstance(browser);\r\n\r\n         Scene scene = new Scene(new StackPane(view), 1280, 800);\r\n         primaryStage.setTitle(&quot;JxBrowser JavaFX&quot;);\r\n         primaryStage.setScene(scene);\r\n         primaryStage.show();\r\n\r\n         // Shutdown Chromium and release allocated resources.\r\n         primaryStage.setOnCloseRequest(event -&gt; engine.close());\r\n     }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n```\r\n\r\nEDIT 2: Here is the full readout on the new error I&#39;m seeing.\r\n```\r\n\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] ------------------------&lt; org.openjfx:hellofx &gt;-------------------------\r\n[INFO] Building demo 1.0-SNAPSHOT\r\n[INFO]   from pom.xml\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- clean:3.2.0:clean (default-clean) @ hellofx ---\r\n[INFO] Deleting /home/palmisano64/Documents/SIT/EE552/Test/alex-Maven/hellofx/target\r\n[INFO] \r\n[INFO] &gt;&gt;&gt; javafx:0.0.8:run (default-cli) &gt; process-classes @ hellofx &gt;&gt;&gt;\r\n[INFO] \r\n[INFO] --- resources:3.3.0:resources (default-resources) @ hellofx ---\r\n[INFO] skip non existing resourceDirectory /home/palmisano64/Documents/SIT/EE552/Test/alex-Maven/hellofx/src/main/resources\r\n[INFO] \r\n[INFO] --- compiler:3.10.1:compile (default-compile) @ hellofx ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 1 source file to /home/palmisano64/Documents/SIT/EE552/Test/alex-Maven/hellofx/target/classes\r\n[INFO] \r\n[INFO] &lt;&lt;&lt; javafx:0.0.8:run (default-cli) &lt; process-classes @ hellofx &lt;&lt;&lt;\r\n[INFO] \r\n[INFO] \r\n[INFO] --- javafx:0.0.8:run (default-cli) @ hellofx ---\r\n[WARNING] There are 1 pathException(s). The related dependencies will be ignored.\r\n[WARNING] Dependency: /home/palmisano64/.m2/repository/com/teamdev/jxbrowser/jxbrowser-cross-platform/7.32/jxbrowser-cross-platform-7.32.pom\r\n   - exception: Only outputDirectories and jars are accepted on the path\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n        at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n        at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:893)\r\n        at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: com.teamdev.jxbrowser.engine.NoLicenseException\r\n        at com.teamdev.jxbrowser.engine.internal.LicenseExceptionFactory.create(LicenseExceptionFactory.java:65)\r\n        at com.teamdev.jxbrowser.engine.internal.EngineImpl.newInstance(EngineImpl.java:280)\r\n        at com.teamdev.jxbrowser.engine.Engine.newInstance(Engine.java:163)\r\n        at com.teamdev.jxbrowser.engine.Engine.newInstance(Engine.java:117)\r\n        at HelloFX.start(HelloFX.java:28)\r\n        at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839)\r\n        at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\r\n        at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n        at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\r\n        at javafx.graphics@20/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n        at javafx.graphics@20/com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\r\n        at javafx.graphics@20/com.sun.glass.ui.gtk.GtkApplication.lambda$runLoop$11(GtkApplication.java:316)\r\n        ... 1 more\r\nException running application HelloFX\r\n[ERROR] Command execution failed.\r\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\r\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\r\n    at org.openjfx.JavaFXBaseMojo.executeCommandLine (JavaFXBaseMojo.java:567)\r\n    at org.openjfx.JavaFXBaseMojo.executeCommandLine (JavaFXBaseMojo.java:434)\r\n    at org.openjfx.JavaFXRunMojo.execute (JavaFXRunMojo.java:105)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:827)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:272)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:195)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n        at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:404)\r\n        at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)\r\n        at org.openjfx.JavaFXBaseMojo.executeCommandLine(JavaFXBaseMojo.java:567)\r\n        at org.openjfx.JavaFXBaseMojo.executeCommandLine(JavaFXBaseMojo.java:434)\r\n        at org.openjfx.JavaFXRunMojo.execute(JavaFXRunMojo.java:105)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:342)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:330)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:175)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:76)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:163)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:160)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\r\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\r\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\r\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:827)\r\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:272)\r\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:195)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  22.015 s\r\n[INFO] Finished at: 2023-05-08T15:52:12-04:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.openjfx:javafx-maven-plugin:0.0.8:run (default-cli) on project hellofx: Error: Command execution failed. Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\n\r\nEDIT 3: `mvn -v` output:\r\n```\r\nApache Maven 3.9.1 (2e178502fcdbffc201671fb2537d0cb4b4cc58f8)\r\nMaven home: /opt/apache-maven-3.9.1\r\nJava version: 17.0.6, vendor: Eclipse Adoptium, runtime: /home/palmisano64/.sdkman/candidates/java/17.0.6-tem\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;6.1.21-v8+&quot;, arch: &quot;aarch64&quot;, family: &quot;unix&quot;\r\n```","title":"Language level stuck at 7 when running JxBrowser example code?","body":"<p>I'm essentially just trying to get one of the JxBrowser example projects working by combining it with a basic JavaFX/Maven project.  When I run</p>\n<p><code>mvn clean javafx:run</code></p>\n<p>with the JxBrowser example code enabled (and the stock JavaFX code commented out), I get the following message:</p>\n<p><code>[28,32] static interface method invocations are not supported in -source 7 (use -source 8 or higher to enable static interface method invocations)</code></p>\n<p><a href=\"https://github.com/openjfx/samples/tree/master/HelloFX/Maven/hellofx\" rel=\"nofollow noreferrer\">Java/FX Maven example project</a></p>\n<p><a href=\"https://github.com/TeamDev-IP/JxBrowser-QuickStart/tree/v7.32/Maven/JavaFX\" rel=\"nofollow noreferrer\">JxBrowser example</a> (this curiously does not have JavaFX included in the pom.xml file)</p>\n<p><a href=\"https://github.com/AlexMPalmisano/JxBrowser-Test/\" rel=\"nofollow noreferrer\">My GitHub repo</a></p>\n<p><a href=\"https://github.com/AlexMPalmisano/JxBrowser-Test/blob/main/src/main/java/HelloFX.java\" rel=\"nofollow noreferrer\">My Java HelloWorld file</a> (JxBrowser example code is commented out in this version)</p>\n<p>Based on my searches on this issue, I've tried changing the language level in my Intellij Project Structure, but this seems to have no effect on the outcome.  I'm running OpenJDK version 17.0.6, so I'm not entirely sure why this would be an issue.  Is there anything I'm missing (I'm not very experienced so take it easy on me lol)?</p>\n<p>EDIT: Here is the pom.xml file I'm currently running:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n  &lt;artifactId&gt;hellofx&lt;/artifactId&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;demo&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;javafx.version&gt;19&lt;/javafx.version&gt;\n    &lt;javafx.maven.plugin.version&gt;0.0.8&lt;/javafx.maven.plugin.version&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;com.teamdev&lt;/id&gt;\n      &lt;url&gt;https://europe-maven.pkg.dev/jxbrowser/releases&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.teamdev.jxbrowser&lt;/groupId&gt;\n      &lt;artifactId&gt;jxbrowser-cross-platform&lt;/artifactId&gt;\n      &lt;version&gt;7.32&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.teamdev.jxbrowser&lt;/groupId&gt;\n      &lt;artifactId&gt;jxbrowser-javafx&lt;/artifactId&gt;\n      &lt;version&gt;7.32&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  \n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${javafx.maven.plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;mainClass&gt;HelloFX&lt;/mainClass&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  \n&lt;/project&gt;\n</code></pre>\n<p>And here is the Java file:</p>\n<pre><code>import static com.teamdev.jxbrowser.engine.RenderingMode.HARDWARE_ACCELERATED;\n\nimport com.teamdev.jxbrowser.browser.Browser;\nimport com.teamdev.jxbrowser.engine.Engine;\nimport com.teamdev.jxbrowser.view.javafx.BrowserView;\n\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\npublic class HelloFX extends Application {\n\n//    @Override\n//    public void start(Stage stage) {\n//        String javaVersion = System.getProperty(&quot;java.version&quot;);\n//        String javafxVersion = System.getProperty(&quot;javafx.version&quot;);\n//        Label l = new Label(&quot;Hello, JavaFX &quot; + javafxVersion + &quot;, running on Java &quot; + javaVersion + &quot;.&quot;);\n//        Scene scene = new Scene(new StackPane(l), 640, 480);\n//        stage.setScene(scene);\n//        stage.show();\n//    }\n\n     @Override\n     public void start(Stage primaryStage) {\n         // Initialize Chromium.\n         Engine engine = Engine.newInstance(HARDWARE_ACCELERATED);\n\n         Browser browser = engine.newBrowser();\n\n         // Load the required web page.\n         browser.navigation().loadUrl(&quot;https://html5test.com&quot;);\n\n         // Create and embed JavaFX BrowserView component to display web content.\n         BrowserView view = BrowserView.newInstance(browser);\n\n         Scene scene = new Scene(new StackPane(view), 1280, 800);\n         primaryStage.setTitle(&quot;JxBrowser JavaFX&quot;);\n         primaryStage.setScene(scene);\n         primaryStage.show();\n\n         // Shutdown Chromium and release allocated resources.\n         primaryStage.setOnCloseRequest(event -&gt; engine.close());\n     }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n\n\n\n}\n</code></pre>\n<p>EDIT 2: Here is the full readout on the new error I'm seeing.</p>\n<pre><code>\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ------------------------&lt; org.openjfx:hellofx &gt;-------------------------\n[INFO] Building demo 1.0-SNAPSHOT\n[INFO]   from pom.xml\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- clean:3.2.0:clean (default-clean) @ hellofx ---\n[INFO] Deleting /home/palmisano64/Documents/SIT/EE552/Test/alex-Maven/hellofx/target\n[INFO] \n[INFO] &gt;&gt;&gt; javafx:0.0.8:run (default-cli) &gt; process-classes @ hellofx &gt;&gt;&gt;\n[INFO] \n[INFO] --- resources:3.3.0:resources (default-resources) @ hellofx ---\n[INFO] skip non existing resourceDirectory /home/palmisano64/Documents/SIT/EE552/Test/alex-Maven/hellofx/src/main/resources\n[INFO] \n[INFO] --- compiler:3.10.1:compile (default-compile) @ hellofx ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to /home/palmisano64/Documents/SIT/EE552/Test/alex-Maven/hellofx/target/classes\n[INFO] \n[INFO] &lt;&lt;&lt; javafx:0.0.8:run (default-cli) &lt; process-classes @ hellofx &lt;&lt;&lt;\n[INFO] \n[INFO] \n[INFO] --- javafx:0.0.8:run (default-cli) @ hellofx ---\n[WARNING] There are 1 pathException(s). The related dependencies will be ignored.\n[WARNING] Dependency: /home/palmisano64/.m2/repository/com/teamdev/jxbrowser/jxbrowser-cross-platform/7.32/jxbrowser-cross-platform-7.32.pom\n   - exception: Only outputDirectories and jars are accepted on the path\nException in Application start method\njava.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n        at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n        at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:893)\n        at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: com.teamdev.jxbrowser.engine.NoLicenseException\n        at com.teamdev.jxbrowser.engine.internal.LicenseExceptionFactory.create(LicenseExceptionFactory.java:65)\n        at com.teamdev.jxbrowser.engine.internal.EngineImpl.newInstance(EngineImpl.java:280)\n        at com.teamdev.jxbrowser.engine.Engine.newInstance(Engine.java:163)\n        at com.teamdev.jxbrowser.engine.Engine.newInstance(Engine.java:117)\n        at HelloFX.start(HelloFX.java:28)\n        at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839)\n        at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\n        at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\n        at javafx.graphics@20/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n        at javafx.graphics@20/com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\n        at javafx.graphics@20/com.sun.glass.ui.gtk.GtkApplication.lambda$runLoop$11(GtkApplication.java:316)\n        ... 1 more\nException running application HelloFX\n[ERROR] Command execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\n    at org.openjfx.JavaFXBaseMojo.executeCommandLine (JavaFXBaseMojo.java:567)\n    at org.openjfx.JavaFXBaseMojo.executeCommandLine (JavaFXBaseMojo.java:434)\n    at org.openjfx.JavaFXRunMojo.execute (JavaFXRunMojo.java:105)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:827)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:272)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:195)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n        at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:404)\n        at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)\n        at org.openjfx.JavaFXBaseMojo.executeCommandLine(JavaFXBaseMojo.java:567)\n        at org.openjfx.JavaFXBaseMojo.executeCommandLine(JavaFXBaseMojo.java:434)\n        at org.openjfx.JavaFXRunMojo.execute(JavaFXRunMojo.java:105)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:342)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:330)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:175)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:76)\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:163)\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:160)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:827)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:272)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:195)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  22.015 s\n[INFO] Finished at: 2023-05-08T15:52:12-04:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.openjfx:javafx-maven-plugin:0.0.8:run (default-cli) on project hellofx: Error: Command execution failed. Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>EDIT 3: <code>mvn -v</code> output:</p>\n<pre><code>Apache Maven 3.9.1 (2e178502fcdbffc201671fb2537d0cb4b4cc58f8)\nMaven home: /opt/apache-maven-3.9.1\nJava version: 17.0.6, vendor: Eclipse Adoptium, runtime: /home/palmisano64/.sdkman/candidates/java/17.0.6-tem\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;6.1.21-v8+&quot;, arch: &quot;aarch64&quot;, family: &quot;unix&quot;\n</code></pre>\n"},{"tags":["java","jsonpath","jayway"],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683651912,"creation_date":1683651912,"answer_id":76211827,"question_id":76199647,"body_markdown":"You can use library _Josson_ to do transformation and flatten the JSON.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n__Deserialization__\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;people\\&quot;: [&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;            \\&quot;id\\&quot;: 1,&quot; +\r\n        &quot;            \\&quot;fname\\&quot;: \\&quot;Henry\\&quot;,&quot; +\r\n        &quot;            \\&quot;lname\\&quot;: \\&quot;Cavendish\\&quot;,&quot; +\r\n        &quot;            \\&quot;profession\\&quot;: \\&quot;scientist\\&quot;,&quot; +\r\n        &quot;            \\&quot;research\\&quot;: [&quot; +\r\n        &quot;                {&quot; +\r\n        &quot;                    \\&quot;area\\&quot;: \\&quot;Chemistry\\&quot;,&quot; +\r\n        &quot;                    \\&quot;years\\&quot;: [&quot; +\r\n        &quot;                        {&quot; +\r\n        &quot;                            \\&quot;year\\&quot;: 1766&quot; +\r\n        &quot;                        },&quot; +\r\n        &quot;                        {&quot; +\r\n        &quot;                            \\&quot;year\\&quot;: 1781&quot; +\r\n        &quot;                        }&quot; +\r\n        &quot;                    ]&quot; +\r\n        &quot;                },&quot; +\r\n        &quot;                {&quot; +\r\n        &quot;                    \\&quot;area\\&quot;: \\&quot;Density of the Earth\\&quot;,&quot; +\r\n        &quot;                    \\&quot;years\\&quot;: [&quot; +\r\n        &quot;                        {&quot; +\r\n        &quot;                            \\&quot;year\\&quot;: 1797&quot; +\r\n        &quot;                        }&quot; +\r\n        &quot;                    ]&quot; +\r\n        &quot;                },&quot; +\r\n        &quot;                {&quot; +\r\n        &quot;                    \\&quot;area\\&quot;: \\&quot;Electricity\\&quot;,&quot; +\r\n        &quot;                    \\&quot;years\\&quot;: [&quot; +\r\n        &quot;                        {&quot; +\r\n        &quot;                            \\&quot;year\\&quot;: 1771&quot; +\r\n        &quot;                        },&quot; +\r\n        &quot;                        {&quot; +\r\n        &quot;                            \\&quot;year\\&quot;: 1781&quot; +\r\n        &quot;                        }&quot; +\r\n        &quot;                    ]&quot; +\r\n        &quot;                }&quot; +\r\n        &quot;            ]&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;            \\&quot;id\\&quot;: 1,&quot; +\r\n        &quot;            \\&quot;fname\\&quot;: \\&quot;Isaac\\&quot;,&quot; +\r\n        &quot;            \\&quot;lname\\&quot;: \\&quot;Newton\\&quot;,&quot; +\r\n        &quot;            \\&quot;profession\\&quot;: \\&quot;scientist\\&quot;,&quot; +\r\n        &quot;            \\&quot;research\\&quot;: [&quot; +\r\n        &quot;                {&quot; +\r\n        &quot;                    \\&quot;area\\&quot;: \\&quot;Calculus\\&quot;,&quot; +\r\n        &quot;                    \\&quot;years\\&quot;: [&quot; +\r\n        &quot;                        {&quot; +\r\n        &quot;                            \\&quot;year\\&quot;: 1666&quot; +\r\n        &quot;                        },&quot; +\r\n        &quot;                        {&quot; +\r\n        &quot;                            \\&quot;year\\&quot;: 1669&quot; +\r\n        &quot;                        }&quot; +\r\n        &quot;                    ]&quot; +\r\n        &quot;                },&quot; +\r\n        &quot;                {&quot; +\r\n        &quot;                    \\&quot;area\\&quot;: \\&quot;Optics\\&quot;,&quot; +\r\n        &quot;                    \\&quot;years\\&quot;: [&quot; +\r\n        &quot;                        {&quot; +\r\n        &quot;                            \\&quot;year\\&quot;: 1666&quot; +\r\n        &quot;                        },&quot; +\r\n        &quot;                        {&quot; +\r\n        &quot;                            \\&quot;year\\&quot;: 1675&quot; +\r\n        &quot;                        }&quot; +\r\n        &quot;                    ]&quot; +\r\n        &quot;                },&quot; +\r\n        &quot;                {&quot; +\r\n        &quot;                    \\&quot;area\\&quot;: \\&quot;Gravity\\&quot;,&quot; +\r\n        &quot;                    \\&quot;years\\&quot;: [&quot; +\r\n        &quot;                        {&quot; +\r\n        &quot;                            \\&quot;year\\&quot;: 1679&quot; +\r\n        &quot;                        },&quot; +\r\n        &quot;                        {&quot; +\r\n        &quot;                            \\&quot;year\\&quot;: 1712&quot; +\r\n        &quot;                        }&quot; +\r\n        &quot;                    ]&quot; +\r\n        &quot;                }&quot; +\r\n        &quot;            ]&quot; +\r\n        &quot;        }&quot; +\r\n        &quot;    ]&quot; +\r\n        &quot;}&quot;);\r\n\r\n__Transformation__\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;map(people.map(research.map(years.map(year)))).flatten(&#39;.&#39;,&#39;[%d]&#39;)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n    System.out.println(&quot;------&quot;);\r\n    node.fields().forEachRemaining(entry -&gt;\r\n        System.out.println(&quot;$.&quot; + entry.getKey() + &quot; = &quot; + entry.getValue().asText()));\r\n\r\n__Output__\r\n\r\n    {\r\n      &quot;people[0].research[0].years[0].year&quot; : 1766,\r\n      &quot;people[0].research[0].years[1].year&quot; : 1781,\r\n      &quot;people[0].research[1].years[0].year&quot; : 1797,\r\n      &quot;people[0].research[2].years[0].year&quot; : 1771,\r\n      &quot;people[0].research[2].years[1].year&quot; : 1781,\r\n      &quot;people[1].research[0].years[0].year&quot; : 1666,\r\n      &quot;people[1].research[0].years[1].year&quot; : 1669,\r\n      &quot;people[1].research[1].years[0].year&quot; : 1666,\r\n      &quot;people[1].research[1].years[1].year&quot; : 1675,\r\n      &quot;people[1].research[2].years[0].year&quot; : 1679,\r\n      &quot;people[1].research[2].years[1].year&quot; : 1712\r\n    }\r\n    ------\r\n    $.people[0].research[0].years[0].year = 1766\r\n    $.people[0].research[0].years[1].year = 1781\r\n    $.people[0].research[1].years[0].year = 1797\r\n    $.people[0].research[2].years[0].year = 1771\r\n    $.people[0].research[2].years[1].year = 1781\r\n    $.people[1].research[0].years[0].year = 1666\r\n    $.people[1].research[0].years[1].year = 1669\r\n    $.people[1].research[1].years[0].year = 1666\r\n    $.people[1].research[1].years[1].year = 1675\r\n    $.people[1].research[2].years[0].year = 1679\r\n    $.people[1].research[2].years[1].year = 1712\r\n","title":"Get Json path of objects when navigation through a Json using Java and Jayway JsonPath","body":"<p>You can use library <em>Josson</em> to do transformation and flatten the JSON.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p><strong>Deserialization</strong></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;people\\&quot;: [&quot; +\n    &quot;        {&quot; +\n    &quot;            \\&quot;id\\&quot;: 1,&quot; +\n    &quot;            \\&quot;fname\\&quot;: \\&quot;Henry\\&quot;,&quot; +\n    &quot;            \\&quot;lname\\&quot;: \\&quot;Cavendish\\&quot;,&quot; +\n    &quot;            \\&quot;profession\\&quot;: \\&quot;scientist\\&quot;,&quot; +\n    &quot;            \\&quot;research\\&quot;: [&quot; +\n    &quot;                {&quot; +\n    &quot;                    \\&quot;area\\&quot;: \\&quot;Chemistry\\&quot;,&quot; +\n    &quot;                    \\&quot;years\\&quot;: [&quot; +\n    &quot;                        {&quot; +\n    &quot;                            \\&quot;year\\&quot;: 1766&quot; +\n    &quot;                        },&quot; +\n    &quot;                        {&quot; +\n    &quot;                            \\&quot;year\\&quot;: 1781&quot; +\n    &quot;                        }&quot; +\n    &quot;                    ]&quot; +\n    &quot;                },&quot; +\n    &quot;                {&quot; +\n    &quot;                    \\&quot;area\\&quot;: \\&quot;Density of the Earth\\&quot;,&quot; +\n    &quot;                    \\&quot;years\\&quot;: [&quot; +\n    &quot;                        {&quot; +\n    &quot;                            \\&quot;year\\&quot;: 1797&quot; +\n    &quot;                        }&quot; +\n    &quot;                    ]&quot; +\n    &quot;                },&quot; +\n    &quot;                {&quot; +\n    &quot;                    \\&quot;area\\&quot;: \\&quot;Electricity\\&quot;,&quot; +\n    &quot;                    \\&quot;years\\&quot;: [&quot; +\n    &quot;                        {&quot; +\n    &quot;                            \\&quot;year\\&quot;: 1771&quot; +\n    &quot;                        },&quot; +\n    &quot;                        {&quot; +\n    &quot;                            \\&quot;year\\&quot;: 1781&quot; +\n    &quot;                        }&quot; +\n    &quot;                    ]&quot; +\n    &quot;                }&quot; +\n    &quot;            ]&quot; +\n    &quot;        },&quot; +\n    &quot;        {&quot; +\n    &quot;            \\&quot;id\\&quot;: 1,&quot; +\n    &quot;            \\&quot;fname\\&quot;: \\&quot;Isaac\\&quot;,&quot; +\n    &quot;            \\&quot;lname\\&quot;: \\&quot;Newton\\&quot;,&quot; +\n    &quot;            \\&quot;profession\\&quot;: \\&quot;scientist\\&quot;,&quot; +\n    &quot;            \\&quot;research\\&quot;: [&quot; +\n    &quot;                {&quot; +\n    &quot;                    \\&quot;area\\&quot;: \\&quot;Calculus\\&quot;,&quot; +\n    &quot;                    \\&quot;years\\&quot;: [&quot; +\n    &quot;                        {&quot; +\n    &quot;                            \\&quot;year\\&quot;: 1666&quot; +\n    &quot;                        },&quot; +\n    &quot;                        {&quot; +\n    &quot;                            \\&quot;year\\&quot;: 1669&quot; +\n    &quot;                        }&quot; +\n    &quot;                    ]&quot; +\n    &quot;                },&quot; +\n    &quot;                {&quot; +\n    &quot;                    \\&quot;area\\&quot;: \\&quot;Optics\\&quot;,&quot; +\n    &quot;                    \\&quot;years\\&quot;: [&quot; +\n    &quot;                        {&quot; +\n    &quot;                            \\&quot;year\\&quot;: 1666&quot; +\n    &quot;                        },&quot; +\n    &quot;                        {&quot; +\n    &quot;                            \\&quot;year\\&quot;: 1675&quot; +\n    &quot;                        }&quot; +\n    &quot;                    ]&quot; +\n    &quot;                },&quot; +\n    &quot;                {&quot; +\n    &quot;                    \\&quot;area\\&quot;: \\&quot;Gravity\\&quot;,&quot; +\n    &quot;                    \\&quot;years\\&quot;: [&quot; +\n    &quot;                        {&quot; +\n    &quot;                            \\&quot;year\\&quot;: 1679&quot; +\n    &quot;                        },&quot; +\n    &quot;                        {&quot; +\n    &quot;                            \\&quot;year\\&quot;: 1712&quot; +\n    &quot;                        }&quot; +\n    &quot;                    ]&quot; +\n    &quot;                }&quot; +\n    &quot;            ]&quot; +\n    &quot;        }&quot; +\n    &quot;    ]&quot; +\n    &quot;}&quot;);\n</code></pre>\n<p><strong>Transformation</strong></p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;map(people.map(research.map(years.map(year)))).flatten('.','[%d]')&quot;);\nSystem.out.println(node.toPrettyString());\nSystem.out.println(&quot;------&quot;);\nnode.fields().forEachRemaining(entry -&gt;\n    System.out.println(&quot;$.&quot; + entry.getKey() + &quot; = &quot; + entry.getValue().asText()));\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;people[0].research[0].years[0].year&quot; : 1766,\n  &quot;people[0].research[0].years[1].year&quot; : 1781,\n  &quot;people[0].research[1].years[0].year&quot; : 1797,\n  &quot;people[0].research[2].years[0].year&quot; : 1771,\n  &quot;people[0].research[2].years[1].year&quot; : 1781,\n  &quot;people[1].research[0].years[0].year&quot; : 1666,\n  &quot;people[1].research[0].years[1].year&quot; : 1669,\n  &quot;people[1].research[1].years[0].year&quot; : 1666,\n  &quot;people[1].research[1].years[1].year&quot; : 1675,\n  &quot;people[1].research[2].years[0].year&quot; : 1679,\n  &quot;people[1].research[2].years[1].year&quot; : 1712\n}\n------\n$.people[0].research[0].years[0].year = 1766\n$.people[0].research[0].years[1].year = 1781\n$.people[0].research[1].years[0].year = 1797\n$.people[0].research[2].years[0].year = 1771\n$.people[0].research[2].years[1].year = 1781\n$.people[1].research[0].years[0].year = 1666\n$.people[1].research[0].years[1].year = 1669\n$.people[1].research[1].years[0].year = 1666\n$.people[1].research[1].years[1].year = 1675\n$.people[1].research[2].years[0].year = 1679\n$.people[1].research[2].years[1].year = 1712\n</code></pre>\n"}],"owner":{"account_id":6069963,"reputation":315,"user_id":4739118,"display_name":"Thorsten"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76211827,"answer_count":1,"score":0,"last_activity_date":1683651912,"creation_date":1683541421,"question_id":76199647,"body_markdown":"I am witing a user interface in Java that allows the enduser to navigate in a JSON using Jayway JsonPath.\r\n\r\nSo given the example below\r\n\r\n```json\r\n{\r\n\t&quot;people&quot;: [\r\n\t\t{\r\n\t\t\t&quot;id&quot;: 1,\r\n\t\t\t&quot;fname&quot;: &quot;Henry&quot;,\r\n\t\t\t&quot;lname&quot;: &quot;Cavendish&quot;,\r\n\t\t\t&quot;profession&quot;: &quot;scientist&quot;,\r\n\t\t\t&quot;research&quot;: [\r\n\t\t\t\t{\r\n\t\t\t\t\t&quot;area&quot;: &quot;Chemistry&quot;,\r\n\t\t\t\t\t&quot;years&quot;: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t&quot;year&quot;: 1766\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t&quot;year&quot;: 1781\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t&quot;area&quot;: &quot;Density of the Earth&quot;,\r\n\t\t\t\t\t&quot;years&quot;: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t&quot;year&quot;: 1797\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t&quot;area&quot;: &quot;Electricity&quot;,\r\n\t\t\t\t\t&quot;years&quot;: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t&quot;year&quot;: 1771\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t&quot;year&quot;: 1781\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;id&quot;: 1,\r\n\t\t\t&quot;fname&quot;: &quot;Isaac&quot;,\r\n\t\t\t&quot;lname&quot;: &quot;Newton&quot;,\r\n\t\t\t&quot;profession&quot;: &quot;scientist&quot;,\r\n\t\t\t&quot;research&quot;: [\r\n\t\t\t\t{\r\n\t\t\t\t\t&quot;area&quot;: &quot;Calculus&quot;,\r\n\t\t\t\t\t&quot;years&quot;: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t&quot;year&quot;: 1666\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t&quot;year&quot;: 1669\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t&quot;area&quot;: &quot;Optics&quot;,\r\n\t\t\t\t\t&quot;years&quot;: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t&quot;year&quot;: 1666\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t&quot;year&quot;: 1675\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t&quot;area&quot;: &quot;Gravity&quot;,\r\n\t\t\t\t\t&quot;years&quot;: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t&quot;year&quot;: 1679\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t&quot;year&quot;: 1712\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t]\r\n}\r\n```\r\n\r\nthe user can for example use\r\n\r\n```$.people[*].research[*].years[*].year```\r\n\r\nto query all years. This is demonstrated with the following Java code\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.List;\r\n\r\nimport com.jayway.jsonpath.JsonPath;\r\n\r\npublic class PathTest {\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tbyte[] bytes = Files\r\n\t\t.readAllBytes(Paths.get(&quot;test.json&quot;));\r\n\t\tString json = new String(bytes, StandardCharsets.UTF_8);\r\n\t\tJsonPath path = JsonPath.compile(&quot;$.people[*].research[*].years[*].year&quot;);\r\n\t\tList&lt;Integer&gt; yearList = path.read(json);\r\n\t\tfor (Integer year : yearList)\r\n\t\t\tSystem.out.println(year);\r\n\t}\r\n}\r\n```\r\n\r\nwhich gives\r\n\r\n```\r\n1766\r\n1781\r\n1797\r\n1771\r\n1781\r\n1666\r\n1669\r\n1666\r\n1675\r\n1679\r\n1712\r\n```\r\n\r\non execution. Now I would like to get the JsonPath of each node in the result like\r\n\r\n```\r\n1766 $.people[0].research[0].years[0].year\r\n1781 $.people[0].research[0].years[1].year\r\n1797 $.people[0].research[1].years[0].year\r\n1771 $.people[0].research[2].years[0].year\r\n1781 $.people[0].research[2].years[1].year\r\n1666 $.people[1].research[0].years[0].year\r\n1669 $.people[1].research[0].years[1].year\r\n1666 $.people[1].research[1].years[0].year\r\n1675 $.people[1].research[1].years[1].year\r\n1679 $.people[1].research[2].years[0].year\r\n1712 $.people[1].research[2].years[1].year\r\n```\r\n\r\nIs there any way to retrieve the path information for each of the nodes returned?\r\n\r\nThanks in advance!","title":"Get Json path of objects when navigation through a Json using Java and Jayway JsonPath","body":"<p>I am witing a user interface in Java that allows the enduser to navigate in a JSON using Jayway JsonPath.</p>\n<p>So given the example below</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;people&quot;: [\n        {\n            &quot;id&quot;: 1,\n            &quot;fname&quot;: &quot;Henry&quot;,\n            &quot;lname&quot;: &quot;Cavendish&quot;,\n            &quot;profession&quot;: &quot;scientist&quot;,\n            &quot;research&quot;: [\n                {\n                    &quot;area&quot;: &quot;Chemistry&quot;,\n                    &quot;years&quot;: [\n                        {\n                            &quot;year&quot;: 1766\n                        },\n                        {\n                            &quot;year&quot;: 1781\n                        }\n                    ]\n                },\n                {\n                    &quot;area&quot;: &quot;Density of the Earth&quot;,\n                    &quot;years&quot;: [\n                        {\n                            &quot;year&quot;: 1797\n                        }\n                    ]\n                },\n                {\n                    &quot;area&quot;: &quot;Electricity&quot;,\n                    &quot;years&quot;: [\n                        {\n                            &quot;year&quot;: 1771\n                        },\n                        {\n                            &quot;year&quot;: 1781\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            &quot;id&quot;: 1,\n            &quot;fname&quot;: &quot;Isaac&quot;,\n            &quot;lname&quot;: &quot;Newton&quot;,\n            &quot;profession&quot;: &quot;scientist&quot;,\n            &quot;research&quot;: [\n                {\n                    &quot;area&quot;: &quot;Calculus&quot;,\n                    &quot;years&quot;: [\n                        {\n                            &quot;year&quot;: 1666\n                        },\n                        {\n                            &quot;year&quot;: 1669\n                        }\n                    ]\n                },\n                {\n                    &quot;area&quot;: &quot;Optics&quot;,\n                    &quot;years&quot;: [\n                        {\n                            &quot;year&quot;: 1666\n                        },\n                        {\n                            &quot;year&quot;: 1675\n                        }\n                    ]\n                },\n                {\n                    &quot;area&quot;: &quot;Gravity&quot;,\n                    &quot;years&quot;: [\n                        {\n                            &quot;year&quot;: 1679\n                        },\n                        {\n                            &quot;year&quot;: 1712\n                        }\n                    ]\n                }\n            ]\n        }\n    ]\n}\n</code></pre>\n<p>the user can for example use</p>\n<p><code>$.people[*].research[*].years[*].year</code></p>\n<p>to query all years. This is demonstrated with the following Java code</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.List;\n\nimport com.jayway.jsonpath.JsonPath;\n\npublic class PathTest {\n    public static void main(String[] args) throws IOException {\n        byte[] bytes = Files\n        .readAllBytes(Paths.get(&quot;test.json&quot;));\n        String json = new String(bytes, StandardCharsets.UTF_8);\n        JsonPath path = JsonPath.compile(&quot;$.people[*].research[*].years[*].year&quot;);\n        List&lt;Integer&gt; yearList = path.read(json);\n        for (Integer year : yearList)\n            System.out.println(year);\n    }\n}\n</code></pre>\n<p>which gives</p>\n<pre><code>1766\n1781\n1797\n1771\n1781\n1666\n1669\n1666\n1675\n1679\n1712\n</code></pre>\n<p>on execution. Now I would like to get the JsonPath of each node in the result like</p>\n<pre><code>1766 $.people[0].research[0].years[0].year\n1781 $.people[0].research[0].years[1].year\n1797 $.people[0].research[1].years[0].year\n1771 $.people[0].research[2].years[0].year\n1781 $.people[0].research[2].years[1].year\n1666 $.people[1].research[0].years[0].year\n1669 $.people[1].research[0].years[1].year\n1666 $.people[1].research[1].years[0].year\n1675 $.people[1].research[1].years[1].year\n1679 $.people[1].research[2].years[0].year\n1712 $.people[1].research[2].years[1].year\n</code></pre>\n<p>Is there any way to retrieve the path information for each of the nodes returned?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","algorithm","artificial-intelligence","path-finding","a-star"],"comments":[{"owner":{"account_id":3502382,"reputation":3469,"user_id":2928853,"accept_rate":83,"display_name":"jrook"},"score":0,"creation_date":1509736634,"post_id":47102965,"comment_id":81156260,"body_markdown":"Can you add the input you are giving this program, the result you expect and the result you are getting?","body":"Can you add the input you are giving this program, the result you expect and the result you are getting?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1509736723,"post_id":47102965,"comment_id":81156309,"body_markdown":"[Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the **desired behavior**, a **specific problem** or error and the shortest code necessary to reproduce it in the question itself. Questions without a clear problem statement are not useful to other readers.](https://stackoverflow.com/help/on-topic) See: [How to create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"<a href=\"https://stackoverflow.com/help/on-topic\">Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the <b>desired behavior</b>, a <b>specific problem</b> or error and the shortest code necessary to reproduce it in the question itself. Questions without a clear problem statement are not useful to other readers.</a> See: <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":5337100,"reputation":63,"user_id":4255684,"display_name":"Liron Toledo"},"score":0,"creation_date":1509737430,"post_id":47102965,"comment_id":81156654,"body_markdown":"Ok jrook will do. The desired behaviour is that of the A* algorithm i don&#39;t see the problem there.","body":"Ok jrook will do. The desired behaviour is that of the A* algorithm i don&#39;t see the problem there."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1509737692,"post_id":47102965,"comment_id":81156781,"body_markdown":"The FAQ talks about a specific problem. A MCVE is always helpful. You could, for example, construct a sample input with an expected and an observed output to narrow down the problem.","body":"The FAQ talks about a specific problem. A MCVE is always helpful. You could, for example, construct a sample input with an expected and an observed output to narrow down the problem."},{"owner":{"account_id":11981420,"reputation":2840,"user_id":8767209,"display_name":"MFisherKDX"},"score":3,"creation_date":1509738195,"post_id":47102965,"comment_id":81157026,"body_markdown":"I don&#39;t see where you are saving the back-pointers for each path state. Just keeping one list for the path like `currents.add(current);` isn&#39;t going to work. You need, for each node, to save a pointer to the previous node. Then write a function that walks the pointers backward from the goal node to the start node.","body":"I don&#39;t see where you are saving the back-pointers for each path state. Just keeping one list for the path like <code>currents.add(current);</code> isn&#39;t going to work. You need, for each node, to save a pointer to the previous node. Then write a function that walks the pointers backward from the goal node to the start node."},{"owner":{"account_id":5337100,"reputation":63,"user_id":4255684,"display_name":"Liron Toledo"},"score":0,"creation_date":1509738429,"post_id":47102965,"comment_id":81157146,"body_markdown":"Ok let me write up an example output quick","body":"Ok let me write up an example output quick"},{"owner":{"account_id":5337100,"reputation":63,"user_id":4255684,"display_name":"Liron Toledo"},"score":0,"creation_date":1509738628,"post_id":47102965,"comment_id":81157262,"body_markdown":"MFisher KDX. Wouldn&#39;t the previous pointer node not just be the previous current node added to the list. seeing as though each successive current node is a neighbour to the last current node.","body":"MFisher KDX. Wouldn&#39;t the previous pointer node not just be the previous current node added to the list. seeing as though each successive current node is a neighbour to the last current node."},{"owner":{"account_id":5337100,"reputation":63,"user_id":4255684,"display_name":"Liron Toledo"},"score":0,"creation_date":1509738816,"post_id":47102965,"comment_id":81157345,"body_markdown":"Also Turing85. It will take too long to write up a proper example now and its quite late where I am. but just look up A* pathfinding, it will tell you how it is supposed to behave.","body":"Also Turing85. It will take too long to write up a proper example now and its quite late where I am. but just look up A* pathfinding, it will tell you how it is supposed to behave."},{"owner":{"account_id":11981420,"reputation":2840,"user_id":8767209,"display_name":"MFisherKDX"},"score":0,"creation_date":1509738897,"post_id":47102965,"comment_id":81157384,"body_markdown":"No. Because your search branches. For each node you evaluate, you push up to 8 neighbors on your priority queue. The 8th neighbor you push has a previous pointer to the current node being evaluated, not to the node immediately in front of it on the priority queue.","body":"No. Because your search branches. For each node you evaluate, you push up to 8 neighbors on your priority queue. The 8th neighbor you push has a previous pointer to the current node being evaluated, not to the node immediately in front of it on the priority queue."},{"owner":{"account_id":5337100,"reputation":63,"user_id":4255684,"display_name":"Liron Toledo"},"score":0,"creation_date":1509739104,"post_id":47102965,"comment_id":81157488,"body_markdown":"Ok, I see what you&#39;re saying. How would I go about implementing this change?","body":"Ok, I see what you&#39;re saying. How would I go about implementing this change?"},{"owner":{"account_id":11981420,"reputation":2840,"user_id":8767209,"display_name":"MFisherKDX"},"score":0,"creation_date":1509739587,"post_id":47102965,"comment_id":81157756,"body_markdown":"Do you have an algorithm textbook that explains Best First Search? A* is just a special case. Otherwise, see the Wikipedia page on A*. There is pseudocode there you can follow that shows how/when to update the back-pointers.","body":"Do you have an algorithm textbook that explains Best First Search? A* is just a special case. Otherwise, see the Wikipedia page on A*. There is pseudocode there you can follow that shows how/when to update the back-pointers."},{"owner":{"account_id":5337100,"reputation":63,"user_id":4255684,"display_name":"Liron Toledo"},"score":0,"creation_date":1509739776,"post_id":47102965,"comment_id":81157851,"body_markdown":"Ok thanks, MFisherKDX will give it a look.","body":"Ok thanks, MFisherKDX will give it a look."}],"owner":{"account_id":5337100,"reputation":63,"user_id":4255684,"display_name":"Liron Toledo"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1683651757,"creation_date":1509736360,"question_id":47102965,"body_markdown":"I&#39;m trying to implement an A* pathfinding algorithm and having some trouble with it. According to the various pseudocode examples I&#39;ve found on the internet, I see no reason as to why it isn&#39;t working. The current output seems more akin to a breadth-first search algorithm. I noticed this after attempting to draw out my results. If anyone can spot what exactly I&#39;ve left out or am doing wrong, I would be extremely grateful. The relevant code is below:\r\n\r\n    public void Astar()\r\n    {\r\n\r\n        //priority queues automatically sorted (by f)\r\n        Node current = openNodes.peek(); //retrieves node with lowest f\r\n\r\n        //System.out.println(&quot;(&quot; + current.x + &quot;, &quot; + current.y + &quot;)&quot;);\r\n        //System.out.println(current.f);\r\n\r\n        //for drawing path (testing)\r\n        currents.add(current);\r\n\r\n        //if goal is reached\r\n        if (current.x == goal.x &amp;&amp; current.y == goal.y) {\r\n            System.out.println(&quot;finished&quot;);\r\n\r\n        }\r\n        else {\r\n\r\n            openNodes.remove(current);\r\n            closedNodes.add(current);\r\n\r\n            // neighbor checks\r\n            for (int x = current.x - 1; x &lt;= current.x + 1; x++) {\r\n                for (int y = current.y - 1; y &lt;= current.y + 1; y++) {\r\n                    if (x != current.x || y != current.y) {\r\n\r\n                        if ((x == current.x - 1 &amp;&amp; y == current.y + 1) ||\r\n                                (x == current.x + 1 &amp;&amp; y == current.y + 1) ||\r\n                                (x == current.x - 1 &amp;&amp; y == current.y - 1) ||\r\n                                (x == current.x + 1 &amp;&amp; y == current.y - 1))\r\n                        {\r\n\r\n                            Node DiagonalNeighbor = new Node(x, y, current.g + diag, goal); //diagonal node\r\n\r\n                            if (!(closedNodes.contains(DiagonalNeighbor)) &amp;&amp; !(openNodes.contains(DiagonalNeighbor)) &amp;&amp; map[x][y] == 0) {\r\n                                openNodes.add(DiagonalNeighbor);\r\n                            }\r\n\r\n                        }\r\n                        else\r\n                        {\r\n\r\n                            Node Neighbor = new Node(x, y, current.g + 20, goal);\r\n\r\n                            if (!(closedNodes.contains(Neighbor)) &amp;&amp; !(openNodes.contains(Neighbor)) &amp;&amp; map[x][y] == 0) {\r\n                                openNodes.add(Neighbor);\r\n                            }\r\n\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\nMy Node class:\r\n\r\n    public class Node implements Comparable&lt;Node&gt;{\r\n\r\n    int x;\r\n    int y;\r\n\r\n    int g;\r\n    float h;\r\n    float f;\r\n\r\n    public Node(int x, int y, int g, Node goal){\r\n\r\n        this.x = x;\r\n        this.y = y;\r\n\r\n        this.g = g;\r\n        this.h = heuristic(goal);\r\n        f = this.g+h;\r\n        //f = h;\r\n    }\r\n\r\n    public Node(int x, int y){\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    // Overrides standard equals method (used to check if a list contains a specific node)\r\n    @Override\r\n    public boolean equals(Object other) {\r\n\r\n        if(this == other) {\r\n            return true;\r\n        }\r\n\r\n        if(other == null) {\r\n            return false;\r\n        }\r\n\r\n        if(getClass() != other.getClass()) {\r\n            return false;\r\n        }\r\n\r\n        Node test = (Node)other;\r\n        if(this.x == test.x &amp;&amp; this.y == test.y) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n\r\n    //used to sort lists (and sorts priority queue by f) -&gt; [//Collections.sort(openNodes);] - sorts Array List by f values]\r\n    @Override\r\n    public int compareTo(Node n) {\r\n        return (int) (f - n.f);\r\n    }\r\n\r\n\r\n    public float heuristic(Node endNode) {\r\n\r\n\r\n        //Euclidean distance\r\n        /*\r\n        float y = Math.abs (this.y - endNode.y); //y distance\r\n        float x = Math.abs (this.x - endNode.x); //x distance\r\n        float result = (float)Math.sqrt((y)*(y) +(x)*(x));\r\n        return result;\r\n        */\r\n\r\n\r\n        //delta max\r\n        float x = Math.abs (this.x - endNode.x); //x distance\r\n        float y = Math.abs (this.y - endNode.y); //y distance\r\n        float result = Math.max(x,y);\r\n        return result;\r\n\r\n    }\r\n\r\n    }\r\n\r\nAnother few things worth it to note is that The the goal node is, as its name suggests the target, the starting node is added into the openNode priority queue already and the Astar method will continuously be called in a render method which runs indefinitely (my final objective is to use this in a game). closedNodes and currents are ArrayLists with the latter storing the path that is drawn and that the object should traverse (I talked about this at the top). I hope I&#39;ve provided enough information. Please don&#39;t hesitate to ask me for more.\r\n\r\nThe grid used is 22x15. if grid[x][y] = 1 then it is an obstacle, it it equals 0 then it is traversable. the starting node is situated at (20,13) and the goal node is at (1,1,). Here is the grid being used. Note that bottom left is (0,0) and top right is (22,15). I know its weird just roll with it.\r\n\r\n    int[][] map = {\r\n\t\t\t{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},\r\n\t\t\t{1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},\r\n\t\t\t{1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},\r\n\t\t\t{1,0,0,1,0,0,0,0,0,1,1,1,1,1,1},\r\n\t\t\t{1,0,0,0,0,0,0,0,0,1,0,0,0,0,1},\r\n\t\t\t{1,0,0,0,0,0,0,0,0,1,1,1,0,0,1},\r\n\t\t\t{1,0,0,0,0,0,0,0,0,0,0,1,0,0,1},\r\n\t\t\t{1,0,0,0,0,0,0,0,0,0,0,1,0,0,1},\r\n\t\t\t{1,0,0,0,1,1,1,0,0,0,0,0,0,0,1},\r\n\t\t\t{1,0,0,0,1,0,0,0,0,0,0,0,0,0,1},\r\n\t\t\t{1,0,0,0,1,0,0,0,0,0,0,0,0,0,1},\r\n\t\t\t{1,0,0,0,1,0,0,0,0,0,0,0,0,0,1},\r\n\t\t\t{1,1,1,1,1,0,0,0,0,0,0,0,0,0,1},\r\n\t\t\t{1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},\r\n\t\t\t{1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},\r\n\t\t\t{1,0,1,0,0,0,0,0,0,0,0,0,0,0,1},\r\n\t\t\t{1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},\r\n\t\t\t{1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},\r\n\t\t\t{1,0,0,0,0,0,1,1,1,1,0,0,0,0,1},\r\n\t\t\t{1,0,0,0,0,0,0,0,1,0,0,0,0,0,1},\r\n\t\t\t{1,0,0,0,0,0,0,0,1,0,0,0,0,0,1},\r\n\t\t\t{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}, //22\r\n\r\n\r\n\t};\r\n\r\nWhen I print out the current node path I get the following:\r\n```\r\n(20, 13)\r\n(19, 13)\r\n(20, 12)\r\n(19, 12)\r\n(18, 13)\r\n(20, 11)\r\n(18, 12)\r\n(19, 11)\r\n(18, 11)\r\n(17, 13)\r\n(20, 10)\r\n(17, 12)\r\n(19, 10)\r\n(17, 11)\r\n(18, 10)\r\n(16, 13)\r\n(20, 9)\r\n(17, 10)\r\n(16, 12)\r\n(19, 9)\r\n(16, 11)\r\n(15, 13)\r\n(16, 10)\r\n(17, 9)\r\n(15, 12)\r\n(16, 9)\r\n(15, 11)\r\n(14, 13)\r\n(15, 10)\r\n(17, 8)\r\n(14, 12)\r\n(15, 9)\r\n(16, 8)\r\n(14, 11)\r\n(13, 13)\r\n(15, 8)\r\n(14, 10)\r\n(13, 12)\r\n(17, 7)\r\n(14, 9)\r\n(16, 7)\r\n(13, 11)\r\n(12, 13)\r\n(14, 8)\r\n(15, 7)\r\n(13, 10)\r\n(12, 12)\r\n(17, 6)\r\n(14, 7)\r\n(13, 9)\r\n(16, 6)\r\n(12, 11)\r\n(11, 13)\r\n(13, 8)\r\n(15, 6)\r\n(12, 10)\r\n(11, 12)\r\n(13, 7)\r\n(17, 5)\r\n(14, 6)\r\n(12, 9)\r\n(11, 11)\r\n(16, 5)\r\n(13, 6)\r\n(18, 5)\r\n(12, 8)\r\n(10, 13)\r\n(11, 10)\r\n(15, 5)\r\n(10, 12)\r\n(12, 7)\r\n(17, 4)\r\n(14, 5)\r\n(11, 9)\r\n(10, 11)\r\n(12, 6)\r\n(16, 4)\r\n(13, 5)\r\n(18, 4)\r\n(19, 5)\r\n(11, 8)\r\n(9, 13)\r\n(10, 10)\r\n(15, 4)\r\n(12, 5)\r\n(11, 7)\r\n(19, 4)\r\n(19, 6)\r\n(9, 12)\r\n(17, 3)\r\n(14, 4)\r\n(10, 9)\r\n(9, 11)\r\n(11, 6)\r\n(16, 3)\r\n(13, 4)\r\n(18, 3)\r\n(10, 8)\r\n(20, 5)\r\n(8, 13)\r\n(9, 10)\r\n(11, 5)\r\n(15, 3)\r\n(10, 7)\r\n(19, 3)\r\n(19, 7)\r\n(20, 6)\r\n(8, 12)\r\n(20, 4)\r\n(17, 2)\r\n(9, 9)\r\n(14, 3)\r\n(10, 6)\r\n(8, 11)\r\n(20, 7)\r\n(16, 2)\r\n(20, 3)\r\n(13, 3)\r\n(9, 8)\r\n(18, 2)\r\n(7, 13)\r\n(10, 5)\r\n(8, 10)\r\n(9, 7)\r\n(19, 2)\r\n(7, 12)\r\n(17, 1)\r\n(8, 9)\r\n(14, 2)\r\n(9, 6)\r\n(16, 1)\r\n(8, 8)\r\n(20, 2)\r\n(13, 2)\r\n(18, 1)\r\n(6, 13)\r\n(9, 5)\r\n(7, 10)\r\n(15, 1)\r\n(8, 7)\r\n(19, 1)\r\n(6, 12)\r\n(7, 9)\r\n(14, 1)\r\n(7, 8)\r\n(20, 1)\r\n(13, 1)\r\n(5, 13)\r\n(6, 10)\r\n(7, 7)\r\n(5, 12)\r\n(6, 9)\r\n(7, 6)\r\n(6, 8)\r\n(4, 13)\r\n(6, 7)\r\n(4, 12)\r\n(6, 6)\r\n(7, 5)\r\n(4, 11)\r\n(5, 8)\r\n(6, 5)\r\n(5, 7)\r\n(5, 6)\r\n(7, 4)\r\n(4, 10)\r\n(4, 8)\r\n(5, 5)\r\n(6, 4)\r\n(4, 7)\r\n(5, 4)\r\n(4, 6)\r\n(7, 3)\r\n(3, 8)\r\n(4, 5)\r\n(6, 3)\r\n(8, 3)\r\n(3, 7)\r\n(4, 4)\r\n(5, 3)\r\n(3, 6)\r\n(7, 2)\r\n(4, 3)\r\n(2, 8)\r\n(3, 5)\r\n(6, 2)\r\n(8, 2)\r\n(9, 3)\r\n(2, 7)\r\n(3, 4)\r\n(2, 9)\r\n(5, 2)\r\n(9, 2)\r\n(2, 6)\r\n(7, 1)\r\n(4, 2)\r\n(1, 8)\r\n(2, 5)\r\n(6, 1)\r\n(3, 2)\r\n(8, 1)\r\n(10, 3)\r\n(1, 7)\r\n(2, 4)\r\n(1, 9)\r\n(5, 1)\r\n(2, 10)\r\n(9, 1)\r\n(1, 6)\r\n(10, 2)\r\n(2, 3)\r\n(4, 1)\r\n(1, 10)\r\n(1, 5)\r\n(10, 1)\r\n(2, 2)\r\n(3, 1)\r\n(11, 3)\r\n(1, 4)\r\n(2, 1)\r\n(2, 11)\r\n(11, 2)\r\n(1, 3)\r\n(1, 11)\r\n(1, 2)\r\n(11, 1)\r\n(1, 1)\r\nfinished\r\n```\r\n\r\nI wish I could show you how it looks when it draws it but I would have to be able to send a video to do that.","title":"My A* path finding algorithm is not returning the correct path","body":"<p>I'm trying to implement an A* pathfinding algorithm and having some trouble with it. According to the various pseudocode examples I've found on the internet, I see no reason as to why it isn't working. The current output seems more akin to a breadth-first search algorithm. I noticed this after attempting to draw out my results. If anyone can spot what exactly I've left out or am doing wrong, I would be extremely grateful. The relevant code is below:</p>\n<pre><code>public void Astar()\n{\n\n    //priority queues automatically sorted (by f)\n    Node current = openNodes.peek(); //retrieves node with lowest f\n\n    //System.out.println(&quot;(&quot; + current.x + &quot;, &quot; + current.y + &quot;)&quot;);\n    //System.out.println(current.f);\n\n    //for drawing path (testing)\n    currents.add(current);\n\n    //if goal is reached\n    if (current.x == goal.x &amp;&amp; current.y == goal.y) {\n        System.out.println(&quot;finished&quot;);\n\n    }\n    else {\n\n        openNodes.remove(current);\n        closedNodes.add(current);\n\n        // neighbor checks\n        for (int x = current.x - 1; x &lt;= current.x + 1; x++) {\n            for (int y = current.y - 1; y &lt;= current.y + 1; y++) {\n                if (x != current.x || y != current.y) {\n\n                    if ((x == current.x - 1 &amp;&amp; y == current.y + 1) ||\n                            (x == current.x + 1 &amp;&amp; y == current.y + 1) ||\n                            (x == current.x - 1 &amp;&amp; y == current.y - 1) ||\n                            (x == current.x + 1 &amp;&amp; y == current.y - 1))\n                    {\n\n                        Node DiagonalNeighbor = new Node(x, y, current.g + diag, goal); //diagonal node\n\n                        if (!(closedNodes.contains(DiagonalNeighbor)) &amp;&amp; !(openNodes.contains(DiagonalNeighbor)) &amp;&amp; map[x][y] == 0) {\n                            openNodes.add(DiagonalNeighbor);\n                        }\n\n                    }\n                    else\n                    {\n\n                        Node Neighbor = new Node(x, y, current.g + 20, goal);\n\n                        if (!(closedNodes.contains(Neighbor)) &amp;&amp; !(openNodes.contains(Neighbor)) &amp;&amp; map[x][y] == 0) {\n                            openNodes.add(Neighbor);\n                        }\n\n                    }\n\n                }\n            }\n        }\n\n    }\n\n}\n</code></pre>\n<p>My Node class:</p>\n<pre><code>public class Node implements Comparable&lt;Node&gt;{\n\nint x;\nint y;\n\nint g;\nfloat h;\nfloat f;\n\npublic Node(int x, int y, int g, Node goal){\n\n    this.x = x;\n    this.y = y;\n\n    this.g = g;\n    this.h = heuristic(goal);\n    f = this.g+h;\n    //f = h;\n}\n\npublic Node(int x, int y){\n    this.x = x;\n    this.y = y;\n}\n\n// Overrides standard equals method (used to check if a list contains a specific node)\n@Override\npublic boolean equals(Object other) {\n\n    if(this == other) {\n        return true;\n    }\n\n    if(other == null) {\n        return false;\n    }\n\n    if(getClass() != other.getClass()) {\n        return false;\n    }\n\n    Node test = (Node)other;\n    if(this.x == test.x &amp;&amp; this.y == test.y) {\n        return true;\n    }\n\n    return false;\n}\n\n\n//used to sort lists (and sorts priority queue by f) -&gt; [//Collections.sort(openNodes);] - sorts Array List by f values]\n@Override\npublic int compareTo(Node n) {\n    return (int) (f - n.f);\n}\n\n\npublic float heuristic(Node endNode) {\n\n\n    //Euclidean distance\n    /*\n    float y = Math.abs (this.y - endNode.y); //y distance\n    float x = Math.abs (this.x - endNode.x); //x distance\n    float result = (float)Math.sqrt((y)*(y) +(x)*(x));\n    return result;\n    */\n\n\n    //delta max\n    float x = Math.abs (this.x - endNode.x); //x distance\n    float y = Math.abs (this.y - endNode.y); //y distance\n    float result = Math.max(x,y);\n    return result;\n\n}\n\n}\n</code></pre>\n<p>Another few things worth it to note is that The the goal node is, as its name suggests the target, the starting node is added into the openNode priority queue already and the Astar method will continuously be called in a render method which runs indefinitely (my final objective is to use this in a game). closedNodes and currents are ArrayLists with the latter storing the path that is drawn and that the object should traverse (I talked about this at the top). I hope I've provided enough information. Please don't hesitate to ask me for more.</p>\n<p>The grid used is 22x15. if grid[x][y] = 1 then it is an obstacle, it it equals 0 then it is traversable. the starting node is situated at (20,13) and the goal node is at (1,1,). Here is the grid being used. Note that bottom left is (0,0) and top right is (22,15). I know its weird just roll with it.</p>\n<pre><code>int[][] map = {\n        {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},\n        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},\n        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},\n        {1,0,0,1,0,0,0,0,0,1,1,1,1,1,1},\n        {1,0,0,0,0,0,0,0,0,1,0,0,0,0,1},\n        {1,0,0,0,0,0,0,0,0,1,1,1,0,0,1},\n        {1,0,0,0,0,0,0,0,0,0,0,1,0,0,1},\n        {1,0,0,0,0,0,0,0,0,0,0,1,0,0,1},\n        {1,0,0,0,1,1,1,0,0,0,0,0,0,0,1},\n        {1,0,0,0,1,0,0,0,0,0,0,0,0,0,1},\n        {1,0,0,0,1,0,0,0,0,0,0,0,0,0,1},\n        {1,0,0,0,1,0,0,0,0,0,0,0,0,0,1},\n        {1,1,1,1,1,0,0,0,0,0,0,0,0,0,1},\n        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},\n        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},\n        {1,0,1,0,0,0,0,0,0,0,0,0,0,0,1},\n        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},\n        {1,0,0,0,0,0,0,0,0,0,0,0,0,0,1},\n        {1,0,0,0,0,0,1,1,1,1,0,0,0,0,1},\n        {1,0,0,0,0,0,0,0,1,0,0,0,0,0,1},\n        {1,0,0,0,0,0,0,0,1,0,0,0,0,0,1},\n        {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}, //22\n\n\n};\n</code></pre>\n<p>When I print out the current node path I get the following:</p>\n<pre><code>(20, 13)\n(19, 13)\n(20, 12)\n(19, 12)\n(18, 13)\n(20, 11)\n(18, 12)\n(19, 11)\n(18, 11)\n(17, 13)\n(20, 10)\n(17, 12)\n(19, 10)\n(17, 11)\n(18, 10)\n(16, 13)\n(20, 9)\n(17, 10)\n(16, 12)\n(19, 9)\n(16, 11)\n(15, 13)\n(16, 10)\n(17, 9)\n(15, 12)\n(16, 9)\n(15, 11)\n(14, 13)\n(15, 10)\n(17, 8)\n(14, 12)\n(15, 9)\n(16, 8)\n(14, 11)\n(13, 13)\n(15, 8)\n(14, 10)\n(13, 12)\n(17, 7)\n(14, 9)\n(16, 7)\n(13, 11)\n(12, 13)\n(14, 8)\n(15, 7)\n(13, 10)\n(12, 12)\n(17, 6)\n(14, 7)\n(13, 9)\n(16, 6)\n(12, 11)\n(11, 13)\n(13, 8)\n(15, 6)\n(12, 10)\n(11, 12)\n(13, 7)\n(17, 5)\n(14, 6)\n(12, 9)\n(11, 11)\n(16, 5)\n(13, 6)\n(18, 5)\n(12, 8)\n(10, 13)\n(11, 10)\n(15, 5)\n(10, 12)\n(12, 7)\n(17, 4)\n(14, 5)\n(11, 9)\n(10, 11)\n(12, 6)\n(16, 4)\n(13, 5)\n(18, 4)\n(19, 5)\n(11, 8)\n(9, 13)\n(10, 10)\n(15, 4)\n(12, 5)\n(11, 7)\n(19, 4)\n(19, 6)\n(9, 12)\n(17, 3)\n(14, 4)\n(10, 9)\n(9, 11)\n(11, 6)\n(16, 3)\n(13, 4)\n(18, 3)\n(10, 8)\n(20, 5)\n(8, 13)\n(9, 10)\n(11, 5)\n(15, 3)\n(10, 7)\n(19, 3)\n(19, 7)\n(20, 6)\n(8, 12)\n(20, 4)\n(17, 2)\n(9, 9)\n(14, 3)\n(10, 6)\n(8, 11)\n(20, 7)\n(16, 2)\n(20, 3)\n(13, 3)\n(9, 8)\n(18, 2)\n(7, 13)\n(10, 5)\n(8, 10)\n(9, 7)\n(19, 2)\n(7, 12)\n(17, 1)\n(8, 9)\n(14, 2)\n(9, 6)\n(16, 1)\n(8, 8)\n(20, 2)\n(13, 2)\n(18, 1)\n(6, 13)\n(9, 5)\n(7, 10)\n(15, 1)\n(8, 7)\n(19, 1)\n(6, 12)\n(7, 9)\n(14, 1)\n(7, 8)\n(20, 1)\n(13, 1)\n(5, 13)\n(6, 10)\n(7, 7)\n(5, 12)\n(6, 9)\n(7, 6)\n(6, 8)\n(4, 13)\n(6, 7)\n(4, 12)\n(6, 6)\n(7, 5)\n(4, 11)\n(5, 8)\n(6, 5)\n(5, 7)\n(5, 6)\n(7, 4)\n(4, 10)\n(4, 8)\n(5, 5)\n(6, 4)\n(4, 7)\n(5, 4)\n(4, 6)\n(7, 3)\n(3, 8)\n(4, 5)\n(6, 3)\n(8, 3)\n(3, 7)\n(4, 4)\n(5, 3)\n(3, 6)\n(7, 2)\n(4, 3)\n(2, 8)\n(3, 5)\n(6, 2)\n(8, 2)\n(9, 3)\n(2, 7)\n(3, 4)\n(2, 9)\n(5, 2)\n(9, 2)\n(2, 6)\n(7, 1)\n(4, 2)\n(1, 8)\n(2, 5)\n(6, 1)\n(3, 2)\n(8, 1)\n(10, 3)\n(1, 7)\n(2, 4)\n(1, 9)\n(5, 1)\n(2, 10)\n(9, 1)\n(1, 6)\n(10, 2)\n(2, 3)\n(4, 1)\n(1, 10)\n(1, 5)\n(10, 1)\n(2, 2)\n(3, 1)\n(11, 3)\n(1, 4)\n(2, 1)\n(2, 11)\n(11, 2)\n(1, 3)\n(1, 11)\n(1, 2)\n(11, 1)\n(1, 1)\nfinished\n</code></pre>\n<p>I wish I could show you how it looks when it draws it but I would have to be able to send a video to do that.</p>\n"},{"tags":["java","file","arraylist","graph","breadth-first-search"],"comments":[{"owner":{"account_id":9061,"reputation":19437,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1683651481,"post_id":76211541,"comment_id":134398155,"body_markdown":"&quot;there is only two people in the cycle&quot;  Which person is missing?  If the first or last person is missing you probably have an error in initializing are finishing the  code loop","body":"&quot;there is only two people in the cycle&quot;  Which person is missing?  If the first or last person is missing you probably have an error in initializing are finishing the  code loop"},{"owner":{"account_id":28559826,"reputation":1,"user_id":21863547,"display_name":"Broden Haltiner"},"score":0,"creation_date":1683656859,"post_id":76211541,"comment_id":134399372,"body_markdown":"The person that is missing is Jesse. It is only adding Leo and Paul in that order. It should go either  [Paul, Jesse, Leo], [Jesse, Leo, Paul], or [Leo, Paul, Jesse] these are all valid.","body":"The person that is missing is Jesse. It is only adding Leo and Paul in that order. It should go either  [Paul, Jesse, Leo], [Jesse, Leo, Paul], or [Leo, Paul, Jesse] these are all valid."}],"owner":{"account_id":28559826,"reputation":1,"user_id":21863547,"display_name":"Broden Haltiner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683651729,"creation_date":1683649536,"question_id":76211541,"body_markdown":"I wrote this code that should find a cycle by reading a text file that shows debts between people. So &quot;person1,person2,amount&quot; meaning the person1 owes person2 the amount of dollars. I need to create a method that finds a cycle between the people in the file. So if the file holds this information: Paul,Jesse,50\r\nJesse,Leo,75\r\nLeo,Paul,100\r\nThe cycle could be [Paul, Jesse, Leo], [Jesse, Leo, Paul], or [Leo, Paul, Jesse] and the cycle amount would be 50. \r\n\r\nI have tests that test to make sure that the order of the cycle is correct and when I run the test it says that there is only two people in the cycle when there should be 3 and also it says that the cycle amount is -50 when it should be 50. Im not good at using the debugger so I didn&#39;t get much information from that.\r\n\r\nHere is some information that could help: \r\n\r\nThe findCycle method that takes no parameters and returns a reference to a Cycle object using the provided Cycle class. This method will detect if there is a cycle in the debt data and will return it if it exists. A cycle exists if there&#39;s any number of people all of whom owe money to the next person in a way the eventually returns to the original debtor. The amount of the cycle is the minimum amount owed throughout the cycle. If such a cycle exists, the amount of each debt in the cycle could be reduced by the cycle amount (You don&#39;t have to reduce the debts, just detect the cycle). For example, if Paul owes Jesse $50, Jesse owes Leo $75, and Leo owes Paul $100, there there is a cycle [Paul, Jesse, Leo] of $50\r\nIf no cycle exists, the method returns null\r\nIf a cycle exists, return a Cycle object containing the names of everyone in the cycle in the order in which they appear, and the cycle amount. Note that the starting point is ambiguous so your tests must accept any valid ordering. In the example above, there three valid orderings [Paul, Jesse, Leo], [Jesse, Leo, Paul], and [Leo, Paul, Jesse]\r\nYou may assume that there is at most 1 cycle in and file of data and your test cases should contain at most 1 cycle\r\nA cycle can be as small as 2 nodes (eg. 2 people owe each other money)\r\nHint: If you run BFS and find an edge leading to the starting node, you just found a cycle\r\n\r\n\r\n\r\nHere is my code:\r\n```\r\npackage money;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.*;\r\n\r\npublic class DebtCalculator {\r\n    private Map&lt;String, Integer&gt; debts;\r\n\r\n\r\n    public DebtCalculator(String filename){\r\n        debts = new HashMap&lt;String, Integer&gt;();\r\n        try {\r\n            ArrayList&lt;String&gt; lines = new ArrayList&lt;&gt;(Files.readAllLines(Paths.get(filename)));\r\n            for (String line : lines) {\r\n                ArrayList&lt;String&gt; fields = new ArrayList&lt;&gt;(Arrays.asList(line.split(&quot;,&quot;)));\r\n                String person1 = fields.get(0);\r\n                String person2 = fields.get(1);\r\n                int amount = Integer.parseInt(fields.get(2));\r\n                int existingDebt = debts.getOrDefault(person1, 0);\r\n                debts.put(person1, existingDebt - amount);\r\n                int existingCredit = debts.getOrDefault(person2, 0);\r\n                debts.put(person2, existingCredit + amount);\r\n            }\r\n        }catch(IOException e){\r\n            new ArrayList&lt;&gt;();\r\n        }\r\n    }\r\n\r\n    public int netGains(String person) {\r\n        return debts.getOrDefault(person, 0);\r\n    }\r\n\r\n    public Cycle findCycle() {\r\n        Map&lt;String, String&gt; parents = new HashMap&lt;String, String&gt;();\r\n        Map&lt;String, Integer&gt; cycleAmounts = new HashMap&lt;String, Integer&gt;();\r\n        Queue&lt;String&gt; queue = new ArrayDeque&lt;String&gt;();\r\n        for (String person : debts.keySet()) {\r\n            parents.put(person, null);\r\n            cycleAmounts.put(person, 0);\r\n            queue.add(person);\r\n        }\r\n        while (!queue.isEmpty()) {\r\n            String person1 = queue.poll();\r\n            int amount1 = debts.get(person1);\r\n            for (String person2 : debts.keySet()) {\r\n                if (person1.equals(person2)) {\r\n                    continue;\r\n                }\r\n                int amount2 = debts.get(person2);\r\n                int amount12 = Math.min(amount1, - amount2);\r\n                int newAmount1 = amount1 - amount12;\r\n                int newAmount2 = amount2 + amount12;\r\n                if (newAmount1 == 0) {\r\n                    continue;\r\n                }\r\n                if (parents.get(person2) == null) {\r\n                    parents.put(person2, person1);\r\n                    cycleAmounts.put(person2, amount12);\r\n                    queue.add(person2);\r\n                } else if (parents.get(person2).equals(person1)) {\r\n                    ArrayList&lt;String&gt; peopleInCycle = new ArrayList&lt;String&gt;();\r\n                    String person = person2;\r\n                    int cycleAmount = cycleAmounts.get(person);\r\n                    while (!person.equals(person1)) {\r\n                        peopleInCycle.add(person);\r\n                        person = parents.get(person);\r\n                        cycleAmount = Math.min(cycleAmount, cycleAmounts.get(person));\r\n                    }\r\n                    peopleInCycle.add(person1);\r\n                    // return the first cycle found\r\n                    return new Cycle(peopleInCycle, cycleAmount);\r\n                }\r\n            }\r\n        }\r\n        // no cycle found\r\n        return null;\r\n    }\r\n}\r\npackage money;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class Cycle {\r\n\r\n    private ArrayList&lt;String&gt; peopleInCycle;\r\n    private int cycleAmount;\r\n\r\n    public Cycle(ArrayList&lt;String&gt; peopleInCycle, int cycleAmount) {\r\n        this.peopleInCycle = peopleInCycle;\r\n        this.cycleAmount = cycleAmount;\r\n    }\r\n\r\n    public ArrayList&lt;String&gt; getPeopleInCycle() {\r\n        return this.peopleInCycle;\r\n    }\r\n\r\n    public void setPeopleInCycle(ArrayList&lt;String&gt; peopleInCycle) {\r\n        this.peopleInCycle = peopleInCycle;\r\n    }\r\n\r\n    public int getCycleAmount() {\r\n        return this.cycleAmount;\r\n    }\r\n\r\n    public void setCycleAmount(int cycleAmount) {\r\n        this.cycleAmount = cycleAmount;\r\n    }\r\n\r\n}\r\n```\r\n","title":"Graph that using BFS to find Cycles","body":"<p>I wrote this code that should find a cycle by reading a text file that shows debts between people. So &quot;person1,person2,amount&quot; meaning the person1 owes person2 the amount of dollars. I need to create a method that finds a cycle between the people in the file. So if the file holds this information: Paul,Jesse,50\nJesse,Leo,75\nLeo,Paul,100\nThe cycle could be [Paul, Jesse, Leo], [Jesse, Leo, Paul], or [Leo, Paul, Jesse] and the cycle amount would be 50.</p>\n<p>I have tests that test to make sure that the order of the cycle is correct and when I run the test it says that there is only two people in the cycle when there should be 3 and also it says that the cycle amount is -50 when it should be 50. Im not good at using the debugger so I didn't get much information from that.</p>\n<p>Here is some information that could help:</p>\n<p>The findCycle method that takes no parameters and returns a reference to a Cycle object using the provided Cycle class. This method will detect if there is a cycle in the debt data and will return it if it exists. A cycle exists if there's any number of people all of whom owe money to the next person in a way the eventually returns to the original debtor. The amount of the cycle is the minimum amount owed throughout the cycle. If such a cycle exists, the amount of each debt in the cycle could be reduced by the cycle amount (You don't have to reduce the debts, just detect the cycle). For example, if Paul owes Jesse $50, Jesse owes Leo $75, and Leo owes Paul $100, there there is a cycle [Paul, Jesse, Leo] of $50\nIf no cycle exists, the method returns null\nIf a cycle exists, return a Cycle object containing the names of everyone in the cycle in the order in which they appear, and the cycle amount. Note that the starting point is ambiguous so your tests must accept any valid ordering. In the example above, there three valid orderings [Paul, Jesse, Leo], [Jesse, Leo, Paul], and [Leo, Paul, Jesse]\nYou may assume that there is at most 1 cycle in and file of data and your test cases should contain at most 1 cycle\nA cycle can be as small as 2 nodes (eg. 2 people owe each other money)\nHint: If you run BFS and find an edge leading to the starting node, you just found a cycle</p>\n<p>Here is my code:</p>\n<pre><code>package money;\n\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.*;\n\npublic class DebtCalculator {\n    private Map&lt;String, Integer&gt; debts;\n\n\n    public DebtCalculator(String filename){\n        debts = new HashMap&lt;String, Integer&gt;();\n        try {\n            ArrayList&lt;String&gt; lines = new ArrayList&lt;&gt;(Files.readAllLines(Paths.get(filename)));\n            for (String line : lines) {\n                ArrayList&lt;String&gt; fields = new ArrayList&lt;&gt;(Arrays.asList(line.split(&quot;,&quot;)));\n                String person1 = fields.get(0);\n                String person2 = fields.get(1);\n                int amount = Integer.parseInt(fields.get(2));\n                int existingDebt = debts.getOrDefault(person1, 0);\n                debts.put(person1, existingDebt - amount);\n                int existingCredit = debts.getOrDefault(person2, 0);\n                debts.put(person2, existingCredit + amount);\n            }\n        }catch(IOException e){\n            new ArrayList&lt;&gt;();\n        }\n    }\n\n    public int netGains(String person) {\n        return debts.getOrDefault(person, 0);\n    }\n\n    public Cycle findCycle() {\n        Map&lt;String, String&gt; parents = new HashMap&lt;String, String&gt;();\n        Map&lt;String, Integer&gt; cycleAmounts = new HashMap&lt;String, Integer&gt;();\n        Queue&lt;String&gt; queue = new ArrayDeque&lt;String&gt;();\n        for (String person : debts.keySet()) {\n            parents.put(person, null);\n            cycleAmounts.put(person, 0);\n            queue.add(person);\n        }\n        while (!queue.isEmpty()) {\n            String person1 = queue.poll();\n            int amount1 = debts.get(person1);\n            for (String person2 : debts.keySet()) {\n                if (person1.equals(person2)) {\n                    continue;\n                }\n                int amount2 = debts.get(person2);\n                int amount12 = Math.min(amount1, - amount2);\n                int newAmount1 = amount1 - amount12;\n                int newAmount2 = amount2 + amount12;\n                if (newAmount1 == 0) {\n                    continue;\n                }\n                if (parents.get(person2) == null) {\n                    parents.put(person2, person1);\n                    cycleAmounts.put(person2, amount12);\n                    queue.add(person2);\n                } else if (parents.get(person2).equals(person1)) {\n                    ArrayList&lt;String&gt; peopleInCycle = new ArrayList&lt;String&gt;();\n                    String person = person2;\n                    int cycleAmount = cycleAmounts.get(person);\n                    while (!person.equals(person1)) {\n                        peopleInCycle.add(person);\n                        person = parents.get(person);\n                        cycleAmount = Math.min(cycleAmount, cycleAmounts.get(person));\n                    }\n                    peopleInCycle.add(person1);\n                    // return the first cycle found\n                    return new Cycle(peopleInCycle, cycleAmount);\n                }\n            }\n        }\n        // no cycle found\n        return null;\n    }\n}\npackage money;\n\nimport java.util.ArrayList;\n\npublic class Cycle {\n\n    private ArrayList&lt;String&gt; peopleInCycle;\n    private int cycleAmount;\n\n    public Cycle(ArrayList&lt;String&gt; peopleInCycle, int cycleAmount) {\n        this.peopleInCycle = peopleInCycle;\n        this.cycleAmount = cycleAmount;\n    }\n\n    public ArrayList&lt;String&gt; getPeopleInCycle() {\n        return this.peopleInCycle;\n    }\n\n    public void setPeopleInCycle(ArrayList&lt;String&gt; peopleInCycle) {\n        this.peopleInCycle = peopleInCycle;\n    }\n\n    public int getCycleAmount() {\n        return this.cycleAmount;\n    }\n\n    public void setCycleAmount(int cycleAmount) {\n        this.cycleAmount = cycleAmount;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","windows","swing","authentication"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683651076,"post_id":76211643,"comment_id":134398064,"body_markdown":"What kind of application, command line, gui, web?","body":"What kind of application, command line, gui, web?"},{"owner":{"account_id":19813442,"reputation":19,"user_id":14511712,"display_name":"Aradenta Fareast"},"score":0,"creation_date":1683651440,"post_id":76211643,"comment_id":134398148,"body_markdown":"@aled GUI, Using Swing","body":"@aled GUI, Using Swing"},{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":0,"creation_date":1683808432,"post_id":76211643,"comment_id":134425174,"body_markdown":"I&#39;ve not tried it but this project might help: https://github.com/Waffle/waffle","body":"I&#39;ve not tried it but this project might help: <a href=\"https://github.com/Waffle/waffle\" rel=\"nofollow noreferrer\">github.com/Waffle/waffle</a>"},{"owner":{"account_id":19813442,"reputation":19,"user_id":14511712,"display_name":"Aradenta Fareast"},"score":0,"creation_date":1684142239,"post_id":76211643,"comment_id":134468084,"body_markdown":"@Guillaume not that one, i mean a windows login dialog (you can see it by opening Password Manager on chrome and it will ask windows PIN)","body":"@Guillaume not that one, i mean a windows login dialog (you can see it by opening Password Manager on chrome and it will ask windows PIN)"}],"owner":{"account_id":19813442,"reputation":19,"user_id":14511712,"display_name":"Aradenta Fareast"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683651639,"creation_date":1683650440,"question_id":76211643,"body_markdown":"Right now, I&#39;m creating a GUI app using Swing which requires the user to log in. I&#39;ve created my own login dialog with its mechanism. But, An idea crossed my mind. It would be easier if i use Windows login dialog (Like what I&#39;m seeing in eBay)\r\n\r\n[EBay asks an Authentication from Windows](https://i.stack.imgur.com/SVjTZ.png)\r\n\r\nI&#39;ve tried to use Advapi32.INSTANCE.LogonUser but it doesn&#39;t work. Below is the Code\r\n\r\n```\r\n\r\nimport com.sun.jna.platform.win32.Advapi32;\r\nimport com.sun.jna.platform.win32.WinNT;\r\nimport com.sun.jna.ptr.IntByReference;\r\nimport com.sun.jna.platform.win32.Kernel32;\r\nimport com.sun.jna.platform.win32.WinBase;\r\nimport com.sun.jna.platform.win32.WinDef;\r\n\r\npublic class PINLogin {\r\n    public static boolean authenticateUser() {\r\n        WinNT.HANDLEByReference hProcess = new WinNT.HANDLEByReference();\r\n        WinNT.HANDLEByReference hThread = new WinNT.HANDLEByReference();\r\n        boolean success = false;\r\n\r\n        // Set up the startup info structure for the new process\r\n        WinBase.STARTUPINFO startupInfo = new WinBase.STARTUPINFO();\r\n        startupInfo.cb = new WinDef.DWORD(startupInfo.size());\r\n        startupInfo.lpDesktop = &quot;WinSta0\\\\Default&quot;;\r\n\r\n        // Create the new process with the &quot;runas&quot; verb to show the Windows login dialog\r\n        success = Advapi32.INSTANCE.CreateProcessWithLogonW(&quot;&quot;,\r\n                                                             &quot;Administrator&quot;,\r\n                                                             &quot;password&quot;,\r\n                                                             Advapi32.LOGON_WITH_PROFILE,\r\n                                                             null,\r\n                                                             &quot;cmd.exe /c echo Hello, world!&quot;,\r\n                                                             WinBase.CREATE_NEW_CONSOLE,\r\n                                                             null,\r\n                                                             null,\r\n                                                             startupInfo,\r\n                                                             new WinBase.PROCESS_INFORMATION());\r\n        if (success) {\r\n            // Wait for the process to exit\r\n            Kernel32.INSTANCE.WaitForSingleObject(hProcess.getValue(), WinBase.INFINITE);\r\n            // GetExitCodeProcess(hProcess.getValue(), new WinDef.DWORDByReference()).getValue()\r\n            if ( Kernel32.INSTANCE.GetExitCodeProcess(hProcess.getValue(), new IntByReference())){\r\n                success = true;\r\n            } else {\r\n                success = false;\r\n            }\r\n        }\r\n        return success;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        if (authenticateUser()) {\r\n            // User authenticated successfully\r\n            System.out.println(&quot;User authenticated successfully&quot;);\r\n        } else {\r\n            // Authentication failed\r\n            System.out.println(&quot;Authentication failed&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"WIndows Authentication On Java Swing Program","body":"<p>Right now, I'm creating a GUI app using Swing which requires the user to log in. I've created my own login dialog with its mechanism. But, An idea crossed my mind. It would be easier if i use Windows login dialog (Like what I'm seeing in eBay)</p>\n<p><a href=\"https://i.stack.imgur.com/SVjTZ.png\" rel=\"nofollow noreferrer\">EBay asks an Authentication from Windows</a></p>\n<p>I've tried to use Advapi32.INSTANCE.LogonUser but it doesn't work. Below is the Code</p>\n<pre><code>\nimport com.sun.jna.platform.win32.Advapi32;\nimport com.sun.jna.platform.win32.WinNT;\nimport com.sun.jna.ptr.IntByReference;\nimport com.sun.jna.platform.win32.Kernel32;\nimport com.sun.jna.platform.win32.WinBase;\nimport com.sun.jna.platform.win32.WinDef;\n\npublic class PINLogin {\n    public static boolean authenticateUser() {\n        WinNT.HANDLEByReference hProcess = new WinNT.HANDLEByReference();\n        WinNT.HANDLEByReference hThread = new WinNT.HANDLEByReference();\n        boolean success = false;\n\n        // Set up the startup info structure for the new process\n        WinBase.STARTUPINFO startupInfo = new WinBase.STARTUPINFO();\n        startupInfo.cb = new WinDef.DWORD(startupInfo.size());\n        startupInfo.lpDesktop = &quot;WinSta0\\\\Default&quot;;\n\n        // Create the new process with the &quot;runas&quot; verb to show the Windows login dialog\n        success = Advapi32.INSTANCE.CreateProcessWithLogonW(&quot;&quot;,\n                                                             &quot;Administrator&quot;,\n                                                             &quot;password&quot;,\n                                                             Advapi32.LOGON_WITH_PROFILE,\n                                                             null,\n                                                             &quot;cmd.exe /c echo Hello, world!&quot;,\n                                                             WinBase.CREATE_NEW_CONSOLE,\n                                                             null,\n                                                             null,\n                                                             startupInfo,\n                                                             new WinBase.PROCESS_INFORMATION());\n        if (success) {\n            // Wait for the process to exit\n            Kernel32.INSTANCE.WaitForSingleObject(hProcess.getValue(), WinBase.INFINITE);\n            // GetExitCodeProcess(hProcess.getValue(), new WinDef.DWORDByReference()).getValue()\n            if ( Kernel32.INSTANCE.GetExitCodeProcess(hProcess.getValue(), new IntByReference())){\n                success = true;\n            } else {\n                success = false;\n            }\n        }\n        return success;\n    }\n\n    public static void main(String[] args) {\n        if (authenticateUser()) {\n            // User authenticated successfully\n            System.out.println(&quot;User authenticated successfully&quot;);\n        } else {\n            // Authentication failed\n            System.out.println(&quot;Authentication failed&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","google-bigquery"],"answers":[{"tags":[],"owner":{"account_id":28556124,"reputation":26,"user_id":21860306,"display_name":"Tripti Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683651391,"creation_date":1683624148,"answer_id":76207729,"question_id":72093153,"body_markdown":"```java\r\nprivate static final Page&lt;FieldValueList&gt; INNER_PAGE_0 = new PageImpl&lt;&gt;(\r\n        new PageImpl.NextPageFetcher&lt;FieldValueList&gt;() {\r\n            @Override\r\n            public Page&lt;FieldValueList&gt; getNextPage() {\r\n                return null;\r\n            }\r\n        },\r\n        null,\r\n        ImmutableList.of(newFieldValueList()));\r\n\r\nprivate static final Schema SCHEMA = Schema.of(\r\n        Field.of(&quot;field1&quot;, StandardSQLTypeName.STRING),\r\n        Field.of(&quot;field2&quot;, StandardSQLTypeName.STRING));\r\n\r\nprivate static FieldValueList newFieldValueList() {\r\n    return FieldValueList.of(ImmutableList.of(\r\n            FieldValue.of(FieldValue.Attribute.PRIMITIVE, &quot;123&quot;),\r\n            FieldValue.of(FieldValue.Attribute.PRIMITIVE, &quot;abc&quot;)));\r\n}\r\n```\r\n```java\r\nTableResult result = new TableResult(SCHEMA, 1, INNER_PAGE_0);\r\n```\r\nFor reference: [TableResultTest]( https://github.com/googleapis/java-bigquery/blob/main/google-cloud-bigquery/src/test/java/com/google/cloud/bigquery/TableResultTest.java) of Google Cloud BigQuery Client for Java","title":"How to mock TableResult BigQuery","body":"<pre class=\"lang-java prettyprint-override\"><code>private static final Page&lt;FieldValueList&gt; INNER_PAGE_0 = new PageImpl&lt;&gt;(\n        new PageImpl.NextPageFetcher&lt;FieldValueList&gt;() {\n            @Override\n            public Page&lt;FieldValueList&gt; getNextPage() {\n                return null;\n            }\n        },\n        null,\n        ImmutableList.of(newFieldValueList()));\n\nprivate static final Schema SCHEMA = Schema.of(\n        Field.of(&quot;field1&quot;, StandardSQLTypeName.STRING),\n        Field.of(&quot;field2&quot;, StandardSQLTypeName.STRING));\n\nprivate static FieldValueList newFieldValueList() {\n    return FieldValueList.of(ImmutableList.of(\n            FieldValue.of(FieldValue.Attribute.PRIMITIVE, &quot;123&quot;),\n            FieldValue.of(FieldValue.Attribute.PRIMITIVE, &quot;abc&quot;)));\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>TableResult result = new TableResult(SCHEMA, 1, INNER_PAGE_0);\n</code></pre>\n<p>For reference: <a href=\"https://github.com/googleapis/java-bigquery/blob/main/google-cloud-bigquery/src/test/java/com/google/cloud/bigquery/TableResultTest.java\" rel=\"nofollow noreferrer\">TableResultTest</a> of Google Cloud BigQuery Client for Java</p>\n"}],"owner":{"account_id":13546114,"reputation":73,"user_id":10944459,"display_name":"Jonathan Ferreira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1349,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76207729,"answer_count":1,"score":1,"last_activity_date":1683651391,"creation_date":1651531663,"question_id":72093153,"body_markdown":"I&#39;m fetching some data from **Bigquery(Google)** and the flow is working as expected.\r\nBut I&#39;m having difficulties when making a **mock** of the TableResult.\r\n\r\nMy search in bigquery is as follows:\r\n\r\n```\r\nprivate final BigQuery bigQuery;\r\n\r\npublic TableResult findInBigQuery(Integer amountPreviousDaysProcess) {\r\n        bigQuery.query(createQuery(amountPreviousDaysProcess, TABLE_NAME));\r\n        return bigQuery.listTableData(TABLE_NAME, SCHEMA, BigQuery.TableDataListOption.pageSize(PAGE_SIZE));\r\n}\r\n```\r\n\r\nMy schema is as follows:\r\n```\r\n private static final Schema SCHEMA = Schema.of(FieldList.of(Field.of(&quot;name&quot;, LegacySQLTypeName.NUMERIC),\r\n                                                            Field.of(&quot;city&quot;, LegacySQLTypeName.STRING));\r\n```\r\n\r\nDo you know how I can mock/create a TableResult with this schema?\r\n\r\n","title":"How to mock TableResult BigQuery","body":"<p>I'm fetching some data from <strong>Bigquery(Google)</strong> and the flow is working as expected.\nBut I'm having difficulties when making a <strong>mock</strong> of the TableResult.</p>\n<p>My search in bigquery is as follows:</p>\n<pre><code>private final BigQuery bigQuery;\n\npublic TableResult findInBigQuery(Integer amountPreviousDaysProcess) {\n        bigQuery.query(createQuery(amountPreviousDaysProcess, TABLE_NAME));\n        return bigQuery.listTableData(TABLE_NAME, SCHEMA, BigQuery.TableDataListOption.pageSize(PAGE_SIZE));\n}\n</code></pre>\n<p>My schema is as follows:</p>\n<pre><code> private static final Schema SCHEMA = Schema.of(FieldList.of(Field.of(&quot;name&quot;, LegacySQLTypeName.NUMERIC),\n                                                            Field.of(&quot;city&quot;, LegacySQLTypeName.STRING));\n</code></pre>\n<p>Do you know how I can mock/create a TableResult with this schema?</p>\n"},{"tags":["java","recursion","java.util.scanner"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1683649465,"post_id":76211491,"comment_id":134397698,"body_markdown":"Opening multiple `Scanner` objects on the same input stream is bound to cause all matter of problems. Your best bet is to create **one**  `Scanner` and assign it to a field (static, or non-static, depending on what is available to you) and use that everywhere. Alternatively, create it at the start of your method and pass it to each recursive call (which will cause problems when your outer method is called more than once).","body":"Opening multiple <code>Scanner</code> objects on the same input stream is bound to cause all matter of problems. Your best bet is to create <b>one</b>  <code>Scanner</code> and assign it to a field (static, or non-static, depending on what is available to you) and use that everywhere. Alternatively, create it at the start of your method and pass it to each recursive call (which will cause problems when your outer method is called more than once)."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":3,"creation_date":1683649475,"post_id":76211491,"comment_id":134397701,"body_markdown":"Why are using recursion to control the flow of your program? Use a while loop instead? It is not a recursion if it should never reach the exit point.","body":"Why are using recursion to control the flow of your program? Use a while loop instead? It is not a recursion if it should never reach the exit point."}],"answers":[{"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1683678197,"post_id":76211752,"comment_id":134402573,"body_markdown":"Once in a while I see a very high quality answer without a single line of code! This sure cheer&#39;s me up! + :)","body":"Once in a while I see a very high quality answer without a single line of code! This sure cheer&#39;s me up! + :)"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683651322,"creation_date":1683651322,"answer_id":76211752,"question_id":76211491,"body_markdown":"There are quite a few problems here.\r\n\r\n## Recursion? No.\r\n\r\nRecursion requires that each step necessarily moves towards an end point. This doesn&#39;t apply here. As a consequence if a user enters the wrong data often enough you get stack overflow exceptions. recursion is rarely appropriate; it certainly is not here. Get rid of it (use a `while` loop instead).\r\n\r\n## Scanner.reset()\r\n\r\nWhen starting out, it&#39;s generally a good idea to read documentation of methods you find. Heck, that&#39;s good advice even if you&#39;ve been programming for decades.\r\n\r\nTake [`reset()`](https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#reset--): It restores the scanner&#39;s locale, radix, and delimiter back to the default values. Given that you never changed those values, __it does nothing__.\r\n\r\n## Code doesn&#39;t work (because of misunderstand about `reset`)\r\n\r\nThe `hasNextInt()` method, if it returns `false`, __does not consume the token__ - in other words, if the user enters a non-number even once, the code will explode, printing the same prompt (and `ERROR2`) a few thousand times and then ends with a `StackoverflowError`.\r\n\r\nIn your code that responds to a non-int being there, invoke `scanner.next()` (discarding the result) to &#39;eat&#39; the non-int token.\r\n\r\n## Making lots of scanners\r\n\r\nDon&#39;t do that - make one scanner and pass it as parameter, or assign it to a field.","title":"Using Scanner Object in a Recursive Method Java","body":"<p>There are quite a few problems here.</p>\n<h2>Recursion? No.</h2>\n<p>Recursion requires that each step necessarily moves towards an end point. This doesn't apply here. As a consequence if a user enters the wrong data often enough you get stack overflow exceptions. recursion is rarely appropriate; it certainly is not here. Get rid of it (use a <code>while</code> loop instead).</p>\n<h2>Scanner.reset()</h2>\n<p>When starting out, it's generally a good idea to read documentation of methods you find. Heck, that's good advice even if you've been programming for decades.</p>\n<p>Take <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#reset--\" rel=\"nofollow noreferrer\"><code>reset()</code></a>: It restores the scanner's locale, radix, and delimiter back to the default values. Given that you never changed those values, <strong>it does nothing</strong>.</p>\n<h2>Code doesn't work (because of misunderstand about <code>reset</code>)</h2>\n<p>The <code>hasNextInt()</code> method, if it returns <code>false</code>, <strong>does not consume the token</strong> - in other words, if the user enters a non-number even once, the code will explode, printing the same prompt (and <code>ERROR2</code>) a few thousand times and then ends with a <code>StackoverflowError</code>.</p>\n<p>In your code that responds to a non-int being there, invoke <code>scanner.next()</code> (discarding the result) to 'eat' the non-int token.</p>\n<h2>Making lots of scanners</h2>\n<p>Don't do that - make one scanner and pass it as parameter, or assign it to a field.</p>\n"}],"owner":{"account_id":28559633,"reputation":1,"user_id":21863376,"display_name":"Александр Буйлов"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683651322,"creation_date":1683649210,"question_id":76211491,"body_markdown":"Good afternoon, I implemented a method in which the user&#39;s input from the keyboard is read using the Scanner. It is necessary that the user combines only numbers from 1 to 3 (answer options from those given in the array). If the user does not enter numbers, a notification should be displayed and the same method should be retried. If a digit is entered, it is returned as the return value of the method. At the bottom of the method there is a stub 100, it should never get into it at all, but the method behaves extremely strange. If the user does not enter a number, the recursion starts, if after that he still enters a number, then for some reason the same value 100 is returned. At the same time, I reset the scanner at each iteration of the recursion. I tried closing the scanner, but nothing changes. It seems to me that for some reason the old scanner does not reset its values. \r\n\r\nMethod:\r\n\r\n```\r\nprivate int readUserColumn(){\r\n        System.out.println(&quot;Enter value&quot;);\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        if (scanner.hasNextInt()){\r\n            int column = scanner.nextInt();\r\n            if (_variants.contains(column)){\r\n                scanner.reset();\r\n                return column;\r\n            }\r\n            else {\r\n                System.out.println(&quot;ERROR1&quot;);\r\n                printMatrix();\r\n                scanner.reset();\r\n                readUserColumn();\r\n            }\r\n        }\r\n        else {\r\n            System.out.println(&quot;ERROR2&quot;);\r\n            scanner.reset();\r\n            readUserColumn();\r\n        }\r\n        return 100; //shouldn&#39;t go here\r\n    }\r\n```\r\n\r\n\r\n\r\nI tried closing the scanner, but nothing changes. It seems to me that for some reason the old scanner does not reset its values. ","title":"Using Scanner Object in a Recursive Method Java","body":"<p>Good afternoon, I implemented a method in which the user's input from the keyboard is read using the Scanner. It is necessary that the user combines only numbers from 1 to 3 (answer options from those given in the array). If the user does not enter numbers, a notification should be displayed and the same method should be retried. If a digit is entered, it is returned as the return value of the method. At the bottom of the method there is a stub 100, it should never get into it at all, but the method behaves extremely strange. If the user does not enter a number, the recursion starts, if after that he still enters a number, then for some reason the same value 100 is returned. At the same time, I reset the scanner at each iteration of the recursion. I tried closing the scanner, but nothing changes. It seems to me that for some reason the old scanner does not reset its values.</p>\n<p>Method:</p>\n<pre><code>private int readUserColumn(){\n        System.out.println(&quot;Enter value&quot;);\n        Scanner scanner = new Scanner(System.in);\n\n        if (scanner.hasNextInt()){\n            int column = scanner.nextInt();\n            if (_variants.contains(column)){\n                scanner.reset();\n                return column;\n            }\n            else {\n                System.out.println(&quot;ERROR1&quot;);\n                printMatrix();\n                scanner.reset();\n                readUserColumn();\n            }\n        }\n        else {\n            System.out.println(&quot;ERROR2&quot;);\n            scanner.reset();\n            readUserColumn();\n        }\n        return 100; //shouldn't go here\n    }\n</code></pre>\n<p>I tried closing the scanner, but nothing changes. It seems to me that for some reason the old scanner does not reset its values.</p>\n"},{"tags":["java","enums","hierarchical"],"comments":[{"owner":{"account_id":8615996,"reputation":1326,"user_id":6452817,"accept_rate":100,"display_name":"Silverclaw"},"score":2,"creation_date":1468578328,"post_id":38393692,"comment_id":64196028,"body_markdown":"Possible duplicate of [Extending a enum in Java](http://stackoverflow.com/questions/6511453/extending-a-enum-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/6511453/extending-a-enum-in-java\">Extending a enum in Java</a>"},{"owner":{"account_id":8615996,"reputation":1326,"user_id":6452817,"accept_rate":100,"display_name":"Silverclaw"},"score":1,"creation_date":1468578563,"post_id":38393692,"comment_id":64196181,"body_markdown":"I&#39;m not 100% sure what you mean by nesting an enum, but even if it would be possible, you should not do it.","body":"I&#39;m not 100% sure what you mean by nesting an enum, but even if it would be possible, you should not do it."},{"owner":{"account_id":3015538,"reputation":4229,"user_id":2557818,"accept_rate":82,"display_name":"Raja Anbazhagan"},"score":0,"creation_date":1468578706,"post_id":38393692,"comment_id":64196282,"body_markdown":"@Silverclaw why not?","body":"@Silverclaw why not?"},{"owner":{"account_id":7623829,"reputation":369,"user_id":5781003,"accept_rate":75,"display_name":"scof93"},"score":0,"creation_date":1468578791,"post_id":38393692,"comment_id":64196344,"body_markdown":"I thought it would look like to have an main enum with two elements GROUP_MAIN1 and 2 and nested enum for subgroups like SUBGROUP1(&quot;SUBGROUP1&quot;, main.GROUP_MAIN1). I&#39;m a newbie sorry for stupid question :)","body":"I thought it would look like to have an main enum with two elements GROUP_MAIN1 and 2 and nested enum for subgroups like SUBGROUP1(&quot;SUBGROUP1&quot;, main.GROUP_MAIN1). I&#39;m a newbie sorry for stupid question :)"},{"owner":{"account_id":6583624,"reputation":2702,"user_id":5087125,"display_name":"pvg"},"score":0,"creation_date":1468578972,"post_id":38393692,"comment_id":64196471,"body_markdown":"Your enum can have fields that are themselves enums so there&#39;s nothing stopping you from implementing this.","body":"Your enum can have fields that are themselves enums so there&#39;s nothing stopping you from implementing this."},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1468579078,"post_id":38393692,"comment_id":64196543,"body_markdown":"If nothing else, you&#39;ll probably need to define an interface for the sublevels.","body":"If nothing else, you&#39;ll probably need to define an interface for the sublevels."},{"owner":{"account_id":7623829,"reputation":369,"user_id":5781003,"accept_rate":75,"display_name":"scof93"},"score":0,"creation_date":1468579312,"post_id":38393692,"comment_id":64196683,"body_markdown":"An interface that what would have inside him?","body":"An interface that what would have inside him?"}],"answers":[{"tags":[],"owner":{"account_id":1456274,"reputation":3761,"user_id":1371775,"display_name":"sody"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1683650998,"creation_date":1468579224,"answer_id":38394061,"question_id":38393692,"body_markdown":"You can do this with such trick:\r\n\r\n    public interface GROUPMAIN1 {\r\n    \tenum SUBGROUP1 implements GROUPMAIN1 {\r\n    \t\tCOL1,\r\n    \t\tCOL2\r\n    \t}\r\n    \tenum SUBGROUP2 implements GROUPMAIN1 {\r\n    \t\tCOL3,\r\n    \t\tCOL4\r\n    \t}\r\n    }\r\n\r\nSo to get enum you will need to use `GROUPMAIN1.SUBGROUP1.COL1`.\r\n\r\nIt can also be done in another way if all you need is just a string constants:\r\n\r\n    public interface GROUPMAIN1 {\r\n    \tinterface SUBGROUP1 {\r\n    \t\tString COL1 = &quot;COL1&quot;;\r\n    \t\tString COL2 = &quot;COL2&quot;;\r\n    \t}\r\n    \tinterface SUBGROUP2 {\r\n    \t\tString COL3 = &quot;COL3&quot;;\r\n    \t\tString COL4 = &quot;COL4&quot;;\r\n    \t}\r\n    }\r\n\r\n","title":"Hierarchical enum in Java","body":"<p>You can do this with such trick:</p>\n<pre><code>public interface GROUPMAIN1 {\n    enum SUBGROUP1 implements GROUPMAIN1 {\n        COL1,\n        COL2\n    }\n    enum SUBGROUP2 implements GROUPMAIN1 {\n        COL3,\n        COL4\n    }\n}\n</code></pre>\n<p>So to get enum you will need to use <code>GROUPMAIN1.SUBGROUP1.COL1</code>.</p>\n<p>It can also be done in another way if all you need is just a string constants:</p>\n<pre><code>public interface GROUPMAIN1 {\n    interface SUBGROUP1 {\n        String COL1 = &quot;COL1&quot;;\n        String COL2 = &quot;COL2&quot;;\n    }\n    interface SUBGROUP2 {\n        String COL3 = &quot;COL3&quot;;\n        String COL4 = &quot;COL4&quot;;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468579794,"creation_date":1468579794,"answer_id":38394286,"question_id":38393692,"body_markdown":"You cannot have everything you ask for. Here’s one way of getting some of it:\r\n\r\n    enum MainGroup { GROUP_MAIN1, GROUP_MAIN2 };\r\n    \r\n    enum Subgroup {\r\n    \tSUBGROUP1(MainGroup.GROUP_MAIN1), SUBGROUP2(MainGroup.GROUP_MAIN1),\r\n    \tSUBGROUP3(MainGroup.GROUP_MAIN2), SUBGROUP4(MainGroup.GROUP_MAIN2);\r\n    \t\r\n    \tMainGroup main;\r\n    \r\n    \tprivate Subgroup(MainGroup main) {\r\n    \t\tthis.main = main;\r\n    \t}\r\n    \t\r\n    \tpublic MainGroup getMainGroup() {\r\n    \t\treturn main;\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    enum Col {\r\n    \tCOL1(Subgroup.SUBGROUP1), COL2(Subgroup.SUBGROUP1), COL3(Subgroup.SUBGROUP2), COL4(Subgroup.SUBGROUP2),\r\n    \tCOL5(Subgroup.SUBGROUP3), COL6(Subgroup.SUBGROUP3), COL7(Subgroup.SUBGROUP4), COL8(Subgroup.SUBGROUP4);\r\n    \t\r\n    \tSubgroup sub;\r\n    \r\n    \tprivate Col(Subgroup sub) {\r\n    \t\tthis.sub = sub;\r\n    \t}\r\n    \t\r\n    \tpublic MainGroup getMainGroup() {\r\n    \t\treturn sub.getMainGroup();\r\n    \t}\r\n    \t\r\n    \tpublic Subgroup getSubgroup() {\r\n    \t\treturn sub;\r\n    \t}\r\n    }\r\n\r\nYou may also implement a method in `MainGroup` to find all subgroups under that main group, and the same for subgroups and cols.","title":"Hierarchical enum in Java","body":"<p>You cannot have everything you ask for. Here’s one way of getting some of it:</p>\n\n<pre><code>enum MainGroup { GROUP_MAIN1, GROUP_MAIN2 };\n\nenum Subgroup {\n    SUBGROUP1(MainGroup.GROUP_MAIN1), SUBGROUP2(MainGroup.GROUP_MAIN1),\n    SUBGROUP3(MainGroup.GROUP_MAIN2), SUBGROUP4(MainGroup.GROUP_MAIN2);\n\n    MainGroup main;\n\n    private Subgroup(MainGroup main) {\n        this.main = main;\n    }\n\n    public MainGroup getMainGroup() {\n        return main;\n    }\n\n}\n\nenum Col {\n    COL1(Subgroup.SUBGROUP1), COL2(Subgroup.SUBGROUP1), COL3(Subgroup.SUBGROUP2), COL4(Subgroup.SUBGROUP2),\n    COL5(Subgroup.SUBGROUP3), COL6(Subgroup.SUBGROUP3), COL7(Subgroup.SUBGROUP4), COL8(Subgroup.SUBGROUP4);\n\n    Subgroup sub;\n\n    private Col(Subgroup sub) {\n        this.sub = sub;\n    }\n\n    public MainGroup getMainGroup() {\n        return sub.getMainGroup();\n    }\n\n    public Subgroup getSubgroup() {\n        return sub;\n    }\n}\n</code></pre>\n\n<p>You may also implement a method in <code>MainGroup</code> to find all subgroups under that main group, and the same for subgroups and cols.</p>\n"}],"owner":{"account_id":7623829,"reputation":369,"user_id":5781003,"accept_rate":75,"display_name":"scof93"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10936,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":38394061,"answer_count":2,"score":19,"last_activity_date":1683650998,"creation_date":1468578097,"question_id":38393692,"body_markdown":"Let&#39;s say I have a structure like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIs it possible to create an enum that will return the string value of selected cell? For example: \r\n\r\n    enum.GROUP_MAIN1.SUBGROUP1.COL1\r\nwill return value **&quot;COL1&quot;**.\r\n\r\nI was looking for nested enums but didn&#39;t find the solution to this situation.\r\n\r\n  [1]: http://i.stack.imgur.com/eR7C7.png","title":"Hierarchical enum in Java","body":"<p>Let's say I have a structure like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/eR7C7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/eR7C7.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is it possible to create an enum that will return the string value of selected cell? For example: </p>\n\n<pre><code>enum.GROUP_MAIN1.SUBGROUP1.COL1\n</code></pre>\n\n<p>will return value <strong>\"COL1\"</strong>.</p>\n\n<p>I was looking for nested enums but didn't find the solution to this situation.</p>\n"},{"tags":["java","hibernate","sqlite"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1683613930,"post_id":76206425,"comment_id":134389184,"body_markdown":"*Unable to perform unmarshalling at line number 0 and column 0 in RESOURCE hibernate.cfg.xml* Looks like there is a non printable invalid character at position 9 in your hibernate config file. Add it with a hex editor and take a look at it","body":"<i>Unable to perform unmarshalling at line number 0 and column 0 in RESOURCE hibernate.cfg.xml</i> Looks like there is a non printable invalid character at position 9 in your hibernate config file. Add it with a hex editor and take a look at it"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1683616105,"post_id":76206425,"comment_id":134389589,"body_markdown":"To clarify: I guess Jens mentioning &quot;position 9&quot; is a typo - it would be position 0. A reason might be that you&#39;re using UTF-8 with BOM formatting which adds some unprintable chars at the start of the file (this is the BOM - Byte Order Mark). You&#39;d see this as &quot;EF BB BF&quot; in a hex editor - or if using Notepad++ or any other text editor with similar capabilities you&#39;d see the encoding, and you should be able to change it from there (alternatively just remove the offending BOM - it isn&#39;t necessary :) )","body":"To clarify: I guess Jens mentioning &quot;position 9&quot; is a typo - it would be position 0. A reason might be that you&#39;re using UTF-8 with BOM formatting which adds some unprintable chars at the start of the file (this is the BOM - Byte Order Mark). You&#39;d see this as &quot;EF BB BF&quot; in a hex editor - or if using Notepad++ or any other text editor with similar capabilities you&#39;d see the encoding, and you should be able to change it from there (alternatively just remove the offending BOM - it isn&#39;t necessary :) )"},{"owner":{"account_id":21106757,"reputation":33,"user_id":16538232,"display_name":"Billy75"},"score":0,"creation_date":1683650901,"post_id":76206425,"comment_id":134398024,"body_markdown":"@Thomas thanks for the help! I think I have a different problem now, or maybe this wasn&#39;t the solution?","body":"@Thomas thanks for the help! I think I have a different problem now, or maybe this wasn&#39;t the solution?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1683698414,"post_id":76206425,"comment_id":134404400,"body_markdown":"Well, the &quot;caused by&quot; you posted indicates a classpath problem. You don&#39;t seem to have a Jaxb implementation on your classpath. Google for the message you got and add info on your environment (build tool, appliction server/framework you&#39;re using) and you should find good info on how to add Jaxb.","body":"Well, the &quot;caused by&quot; you posted indicates a classpath problem. You don&#39;t seem to have a Jaxb implementation on your classpath. Google for the message you got and add info on your environment (build tool, appliction server/framework you&#39;re using) and you should find good info on how to add Jaxb."}],"owner":{"account_id":21106757,"reputation":33,"user_id":16538232,"display_name":"Billy75"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683650736,"creation_date":1683613687,"question_id":76206425,"body_markdown":"I&#39;m new to Hibernate and I&#39;m tring to make a simple project to get familiar with it.\r\nI&#39;m using Intellij Idea and SQLite for this project.\r\nWhen I try to run my project I get the following error:\r\n```\r\nException in thread &quot;main&quot; org.hibernate.internal.util.config.ConfigurationException: Unable to perform unmarshalling at line number 0 and column 0 in RESOURCE hibernate.cfg.xml. Message: null\r\n\tat org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:133)\r\n\tat org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:65)\r\n\tat org.hibernate.boot.cfgxml.internal.ConfigLoader.loadConfigXmlResource(ConfigLoader.java:57)\r\n\tat org.hibernate.boot.registry.StandardServiceRegistryBuilder.configure(StandardServiceRegistryBuilder.java:163)\r\n\tat org.hibernate.boot.registry.StandardServiceRegistryBuilder.configure(StandardServiceRegistryBuilder.java:152)\r\n```\r\n\r\nI&#39;ve tried several solutions, including [this one][1], yet I can&#39;t solve this problem.\r\n\r\nThis is my code:\r\n\r\n```\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;Characters&quot;)\r\npublic class Character {\r\n    @Id\r\n    private int id;\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    public Character(){\r\n\r\n    }\r\n\r\n    public Character(int _id, String _firstName, String _lastName){\r\n        id = _id;\r\n        firstName = _firstName;\r\n        lastName = _lastName;\r\n    }\r\n\r\n    public int getId(){\r\n        return id;\r\n    }\r\n\r\n    public String getFirstName(){\r\n        return firstName;\r\n    }\r\n\r\n    public String getLastName(){\r\n        return lastName;\r\n    }\r\n\r\n    public void setId(int _id){\r\n        id = _id;\r\n    }\r\n\r\n    public void setFirstName(String _firstName){\r\n        firstName = _firstName;\r\n    }\r\n\r\n    public void setLastName(String _lastName){\r\n        lastName = _lastName;\r\n    }\r\n\r\n    public String toString(){\r\n        return &quot;{ID: &quot; + id + &quot;, &quot; + &quot;firstName: &quot; + firstName + &quot;, &quot; + &quot;lastName: &quot; + lastName + &quot;}&quot;;\r\n    }\r\n}\r\n```\r\n\r\n```\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\nimport org.hibernate.boot.Metadata;\r\nimport org.hibernate.boot.MetadataSources;\r\nimport org.hibernate.boot.registry.StandardServiceRegistry;\r\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args){\r\n        Character c1 = new Character(1, &quot;c&quot;, &quot;1&quot;);\r\n        Character c2 = new Character(2, &quot;c&quot;, &quot;2&quot;);\r\n        Character c3 = new Character(3, &quot;c&quot;, &quot;3&quot;);\r\n\r\n        final StandardServiceRegistry registry = new StandardServiceRegistryBuilder()\r\n                .configure() // configures settings from hibernate.cfg1.xml\r\n                .build();\r\n        Metadata meta = new MetadataSources(registry).getMetadataBuilder().build();\r\n\r\n\r\n        SessionFactory factory = meta.getSessionFactoryBuilder().build();\r\n        Session session = factory.openSession();\r\n        Transaction t = session.beginTransaction();\r\n\r\n        session.persist(c1);\r\n        t.commit();\r\n        System.out.println(&quot;successfully saved&quot;);\r\n        factory.close();\r\n        session.close();\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\npom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Example&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.2.2.Final&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.gwenn&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sqlite-dialect&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.xerial&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;3.36.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.zsoltfabok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sqlite-dialect&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.0-b180830.0359&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Runtime, com.sun.xml.bind module --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nhibernate.cfg.xml:\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.sqlite.JDBC&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:sqlite:exampleDB.db&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.SQLiteDialect&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\n\r\n**EDIT:**\r\nI tried to delete the BOM as @Jens and @Thomas said, now I get this error:\r\n\r\n```\r\nException in thread &quot;main&quot; org.hibernate.internal.util.config.ConfigurationException: Unable to perform unmarshalling at line number 0 and column 0 in RESOURCE hibernate.cfg.xml. Message: null\r\n\tat org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:133)\r\n\tat org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:65)\r\n\tat org.hibernate.boot.cfgxml.internal.ConfigLoader.loadConfigXmlResource(ConfigLoader.java:57)\r\n\tat org.hibernate.boot.registry.StandardServiceRegistryBuilder.configure(StandardServiceRegistryBuilder.java:163)\r\n\tat org.hibernate.boot.registry.StandardServiceRegistryBuilder.configure(StandardServiceRegistryBuilder.java:152)\r\n\tat Main.main(Main.java:17)\r\nCaused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\r\n - with linked exception:\r\n[java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory]\r\n\tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:269)\r\n\tat javax.xml.bind.ContextFinder.find(ContextFinder.java:412)\r\n\tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\r\n\tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)\r\n\tat org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:122)\r\n```\r\n\r\nI don&#39;t know if this is the same error or another one.\r\n\r\n  [1]: https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception","title":"Java Hibernate: Unable to perform unmarshalling","body":"<p>I'm new to Hibernate and I'm tring to make a simple project to get familiar with it.\nI'm using Intellij Idea and SQLite for this project.\nWhen I try to run my project I get the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; org.hibernate.internal.util.config.ConfigurationException: Unable to perform unmarshalling at line number 0 and column 0 in RESOURCE hibernate.cfg.xml. Message: null\n    at org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:133)\n    at org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:65)\n    at org.hibernate.boot.cfgxml.internal.ConfigLoader.loadConfigXmlResource(ConfigLoader.java:57)\n    at org.hibernate.boot.registry.StandardServiceRegistryBuilder.configure(StandardServiceRegistryBuilder.java:163)\n    at org.hibernate.boot.registry.StandardServiceRegistryBuilder.configure(StandardServiceRegistryBuilder.java:152)\n</code></pre>\n<p>I've tried several solutions, including <a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception\">this one</a>, yet I can't solve this problem.</p>\n<p>This is my code:</p>\n<pre><code>import jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;Characters&quot;)\npublic class Character {\n    @Id\n    private int id;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    public Character(){\n\n    }\n\n    public Character(int _id, String _firstName, String _lastName){\n        id = _id;\n        firstName = _firstName;\n        lastName = _lastName;\n    }\n\n    public int getId(){\n        return id;\n    }\n\n    public String getFirstName(){\n        return firstName;\n    }\n\n    public String getLastName(){\n        return lastName;\n    }\n\n    public void setId(int _id){\n        id = _id;\n    }\n\n    public void setFirstName(String _firstName){\n        firstName = _firstName;\n    }\n\n    public void setLastName(String _lastName){\n        lastName = _lastName;\n    }\n\n    public String toString(){\n        return &quot;{ID: &quot; + id + &quot;, &quot; + &quot;firstName: &quot; + firstName + &quot;, &quot; + &quot;lastName: &quot; + lastName + &quot;}&quot;;\n    }\n}\n</code></pre>\n<pre><code>import org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.boot.Metadata;\nimport org.hibernate.boot.MetadataSources;\nimport org.hibernate.boot.registry.StandardServiceRegistry;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\n\npublic class Main {\n\n    public static void main(String[] args){\n        Character c1 = new Character(1, &quot;c&quot;, &quot;1&quot;);\n        Character c2 = new Character(2, &quot;c&quot;, &quot;2&quot;);\n        Character c3 = new Character(3, &quot;c&quot;, &quot;3&quot;);\n\n        final StandardServiceRegistry registry = new StandardServiceRegistryBuilder()\n                .configure() // configures settings from hibernate.cfg1.xml\n                .build();\n        Metadata meta = new MetadataSources(registry).getMetadataBuilder().build();\n\n\n        SessionFactory factory = meta.getSessionFactoryBuilder().build();\n        Session session = factory.openSession();\n        Transaction t = session.beginTransaction();\n\n        session.persist(c1);\n        t.commit();\n        System.out.println(&quot;successfully saved&quot;);\n        factory.close();\n        session.close();\n\n    }\n\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Example&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.2.2.Final&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.gwenn&lt;/groupId&gt;\n            &lt;artifactId&gt;sqlite-dialect&lt;/artifactId&gt;\n            &lt;version&gt;0.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.xerial&lt;/groupId&gt;\n            &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;3.36.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.zsoltfabok&lt;/groupId&gt;\n            &lt;artifactId&gt;sqlite-dialect&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0-b180830.0359&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Runtime, com.sun.xml.bind module --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n            &lt;version&gt;4.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>hibernate.cfg.xml:</p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.sqlite.JDBC&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:sqlite:exampleDB.db&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.SQLiteDialect&lt;/property&gt;\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p><strong>EDIT:</strong>\nI tried to delete the BOM as @Jens and @Thomas said, now I get this error:</p>\n<pre><code>Exception in thread &quot;main&quot; org.hibernate.internal.util.config.ConfigurationException: Unable to perform unmarshalling at line number 0 and column 0 in RESOURCE hibernate.cfg.xml. Message: null\n    at org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:133)\n    at org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:65)\n    at org.hibernate.boot.cfgxml.internal.ConfigLoader.loadConfigXmlResource(ConfigLoader.java:57)\n    at org.hibernate.boot.registry.StandardServiceRegistryBuilder.configure(StandardServiceRegistryBuilder.java:163)\n    at org.hibernate.boot.registry.StandardServiceRegistryBuilder.configure(StandardServiceRegistryBuilder.java:152)\n    at Main.main(Main.java:17)\nCaused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\n - with linked exception:\n[java.lang.ClassNotFoundException: com.sun.xml.bind.v2.ContextFactory]\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:269)\n    at javax.xml.bind.ContextFinder.find(ContextFinder.java:412)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)\n    at org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:122)\n</code></pre>\n<p>I don't know if this is the same error or another one.</p>\n"},{"tags":["java","windows","certificate","windows-11"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683652269,"post_id":76211623,"comment_id":134398341,"body_markdown":"Support for Windows 11 was introduced in later JDK 11 point release:https://www.oracle.com/java/technologies/javase/products-doc-jdk11certconfig.html. Why don&#39;t you try with a newer version first and confirm if the issue still reproduces?","body":"Support for Windows 11 was introduced in later JDK 11 point release:<a href=\"https://www.oracle.com/java/technologies/javase/products-doc-jdk11certconfig.html\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/javase/&hellip;</a>. Why don&#39;t you try with a newer version first and confirm if the issue still reproduces?"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1683652900,"post_id":76211623,"comment_id":134398539,"body_markdown":"Does the `keytool -list` results include the correct root cert for the server? Each current (since Win8 IIRC) Windows system when installed has only a few of the trusted root certs loaded into its local store, for the others Windows downloads each one when first referenced _by Windows software_ (like a browser) from a preverified list.","body":"Does the <code>keytool -list</code> results include the correct root cert for the server? Each current (since Win8 IIRC) Windows system when installed has only a few of the trusted root certs loaded into its local store, for the others Windows downloads each one when first referenced <i>by Windows software</i> (like a browser) from a preverified list."}],"owner":{"account_id":3708513,"reputation":51,"user_id":3086428,"display_name":"amiorlin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683650186,"creation_date":1683650186,"question_id":76211623,"body_markdown":"I am running my Java app with the flag: &quot;-Djavax.net.ssl.trustStoreType=Windows-ROOT&quot; over Windows 11 and get &quot;sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&quot;.\r\nThe application is communicating with AWS server and authenticating with Cognito. \r\n\r\n- When I am running my Java application over Windows 10, everything is working as expected. \r\n- When I am running my Java application over Windows 11, I am getting: &quot;sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&quot;.\r\n- I ran again the same application w/o the &quot;-Djavax.net.ssl.trustStoreType=Windows-ROOT&quot; flag over Windows 11, and it worked.\r\n\r\nI do want to use this flag as sometimes my clients uses an application which intercept with the connection and my app gets their certificate for verification. \r\n\r\nWhat can be the reason the flag is not working? \r\nIt could be that it&#39;s due of old Java version? I am using 11.0.4 at the moment (will upgrade soon).\r\nAny other reasons?\r\n\r\nOne additional note, I ran &quot;keytool -list -keystore NONE -storetype Windows-ROOT&quot; on the Windows 11 machine and got results.  ","title":"&quot;-Djavax.net.ssl.trustStoreType=Windows-ROOT&quot; is not working in Windows 11","body":"<p>I am running my Java app with the flag: &quot;-Djavax.net.ssl.trustStoreType=Windows-ROOT&quot; over Windows 11 and get &quot;sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&quot;.\nThe application is communicating with AWS server and authenticating with Cognito.</p>\n<ul>\n<li>When I am running my Java application over Windows 10, everything is working as expected.</li>\n<li>When I am running my Java application over Windows 11, I am getting: &quot;sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&quot;.</li>\n<li>I ran again the same application w/o the &quot;-Djavax.net.ssl.trustStoreType=Windows-ROOT&quot; flag over Windows 11, and it worked.</li>\n</ul>\n<p>I do want to use this flag as sometimes my clients uses an application which intercept with the connection and my app gets their certificate for verification.</p>\n<p>What can be the reason the flag is not working?\nIt could be that it's due of old Java version? I am using 11.0.4 at the moment (will upgrade soon).\nAny other reasons?</p>\n<p>One additional note, I ran &quot;keytool -list -keystore NONE -storetype Windows-ROOT&quot; on the Windows 11 machine and got results.</p>\n"},{"tags":["java","selenium-webdriver","automation","one-time-password"],"owner":{"account_id":26964748,"reputation":1,"user_id":20531831,"display_name":"suresh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683650141,"creation_date":1683650141,"question_id":76211621,"body_markdown":"I have written a method that returns otp from email , but everytime I run it it returns the 2nd latest otp not the latest one. When I empty the inbox so that there are no emails of the same sender, so the method does not get confused, it tells that no otp found despite the email being there. \r\n\r\nI tried in debugging mode the method gets executed successfully,but when run without debugging it fails.\r\n\r\nI have tried multiple methods of differentiating based on sender and subject etc , but same result.\r\n\r\nThis is the code:\r\n\r\n```\r\npublic void getEmailOTP() throws MessagingException, IOException, InterruptedException, NoSuchProviderException {\r\n    Properties props = new Properties();\r\n    props.put(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);\r\n    Session session = Session.getInstance(props);\r\n    Store store = session.getStore(&quot;imaps&quot;);\r\n    store.connect(&quot;imap.gmail.com&quot;, &quot;dummy@email.com&quot;, &quot;dummypassword&quot;);\r\n\r\n    Folder inbox = store.getFolder(&quot;INBOX&quot;);\r\n    inbox.open(Folder.READ_ONLY);\r\n    Message[] messages = inbox.getMessages();\r\n    Message latestMessage = messages[messages.length-1];\r\n\r\n    String content = latestMessage.getContent().toString();\r\n    Pattern pattern = Pattern.compile(&quot;code is:  &lt;b&gt;(\\\\d{4}+)&quot;);\r\n    Matcher matcher = pattern.matcher(content);\r\n    if (matcher.find()) {\r\n        String otp = matcher.group(1);\r\n        enterOTP(otp);\r\n        clickContinueButton();\r\n        openHamburgerMenu2();\r\n    } else {\r\n        System.out.println(&quot;No OTP found&quot;);\r\n    }\r\n}\r\n```\r\n","title":"I have written a method that returns otp from email , but everytime I run it it returns the 2nd latest otp not the latest one","body":"<p>I have written a method that returns otp from email , but everytime I run it it returns the 2nd latest otp not the latest one. When I empty the inbox so that there are no emails of the same sender, so the method does not get confused, it tells that no otp found despite the email being there.</p>\n<p>I tried in debugging mode the method gets executed successfully,but when run without debugging it fails.</p>\n<p>I have tried multiple methods of differentiating based on sender and subject etc , but same result.</p>\n<p>This is the code:</p>\n<pre><code>public void getEmailOTP() throws MessagingException, IOException, InterruptedException, NoSuchProviderException {\n    Properties props = new Properties();\n    props.put(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);\n    Session session = Session.getInstance(props);\n    Store store = session.getStore(&quot;imaps&quot;);\n    store.connect(&quot;imap.gmail.com&quot;, &quot;dummy@email.com&quot;, &quot;dummypassword&quot;);\n\n    Folder inbox = store.getFolder(&quot;INBOX&quot;);\n    inbox.open(Folder.READ_ONLY);\n    Message[] messages = inbox.getMessages();\n    Message latestMessage = messages[messages.length-1];\n\n    String content = latestMessage.getContent().toString();\n    Pattern pattern = Pattern.compile(&quot;code is:  &lt;b&gt;(\\\\d{4}+)&quot;);\n    Matcher matcher = pattern.matcher(content);\n    if (matcher.find()) {\n        String otp = matcher.group(1);\n        enterOTP(otp);\n        clickContinueButton();\n        openHamburgerMenu2();\n    } else {\n        System.out.println(&quot;No OTP found&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","windows","intellij-idea","java-8","java-11"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1672325280,"post_id":74951524,"comment_id":132267969,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1672332645,"post_id":74951524,"comment_id":132270187,"body_markdown":"Hi and welcome to stack overflow, [please do not upload images of code/data/errors](//meta.stackoverflow.com/q/285551).","body":"Hi and welcome to stack overflow, <a href=\"//meta.stackoverflow.com/q/285551\">please do not upload images of code/data/errors</a>."},{"owner":{"account_id":11610864,"reputation":1706,"user_id":8505128,"accept_rate":83,"display_name":"kojot"},"score":0,"creation_date":1672401130,"post_id":74951524,"comment_id":132282803,"body_markdown":"check this answer, because it may help you https://stackoverflow.com/questions/74928824/gradle-with-wsdl2java-plugin/74961183#74961183","body":"check this answer, because it may help you <a href=\"https://stackoverflow.com/questions/74928824/gradle-with-wsdl2java-plugin/74961183#74961183\" title=\"gradle with wsdl2java plugin\">stackoverflow.com/questions/74928824/&hellip;</a>"},{"owner":{"account_id":16775691,"reputation":1,"user_id":12127085,"display_name":"Someone"},"score":0,"creation_date":1672646428,"post_id":74951524,"comment_id":132317706,"body_markdown":"@kojot, thank you for your help. Indeed, by specifying cxf version, it can download jar files that support jdk 8.","body":"@kojot, thank you for your help. Indeed, by specifying cxf version, it can download jar files that support jdk 8."}],"owner":{"account_id":16775691,"reputation":1,"user_id":12127085,"display_name":"Someone"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683649571,"creation_date":1672319464,"question_id":74951524,"body_markdown":"I am getting the following error message:\r\n[error message](https://i.stack.imgur.com/2TGN8.png)\r\n\r\nFor some reason IntelliJ compiles plugin JAR files with JDK 11 not 8.\r\n\r\nI have the following configuration in Project Structure:\r\n[IntelliJ Project Structure view](https://i.stack.imgur.com/zVPMb.png)\r\n\r\nGradle JVM:  \r\n[Gradle JVM view](https://i.stack.imgur.com/SlmIM.png)\r\n\r\nJava Compiler:\r\n[Java compiler view](https://i.stack.imgur.com/Syl1C.png)\r\n\r\nAlso tried to change Boot runtime version, but in case I am using an old one IntelliJ won&#39;t open:\r\n[Currently selected version of JBR version](https://i.stack.imgur.com/eCu1X.png)\r\n\r\nJAVA_HOME is referencing to JDK 8:  \r\n[Windows JAVA_HOME variable value](https://i.stack.imgur.com/fPHfn.png)\r\n\r\nRight now I don&#39;t have any ideas what to do. Any suggestions?\r\n\r\nIntelliJ version: 2022.3.1\r\n\r\nGradle Wrapper version: 3.0\r\n\r\nJDK version: 1.8","title":"IntelliJ org/apache/cxf/tools/wsdlto/WSDLToJava has been compiled by a more recent version of the Java Runtime","body":"<p>I am getting the following error message:\n<a href=\"https://i.stack.imgur.com/2TGN8.png\" rel=\"nofollow noreferrer\">error message</a></p>\n<p>For some reason IntelliJ compiles plugin JAR files with JDK 11 not 8.</p>\n<p>I have the following configuration in Project Structure:\n<a href=\"https://i.stack.imgur.com/zVPMb.png\" rel=\"nofollow noreferrer\">IntelliJ Project Structure view</a></p>\n<p>Gradle JVM:<br />\n<a href=\"https://i.stack.imgur.com/SlmIM.png\" rel=\"nofollow noreferrer\">Gradle JVM view</a></p>\n<p>Java Compiler:\n<a href=\"https://i.stack.imgur.com/Syl1C.png\" rel=\"nofollow noreferrer\">Java compiler view</a></p>\n<p>Also tried to change Boot runtime version, but in case I am using an old one IntelliJ won't open:\n<a href=\"https://i.stack.imgur.com/eCu1X.png\" rel=\"nofollow noreferrer\">Currently selected version of JBR version</a></p>\n<p>JAVA_HOME is referencing to JDK 8:<br />\n<a href=\"https://i.stack.imgur.com/fPHfn.png\" rel=\"nofollow noreferrer\">Windows JAVA_HOME variable value</a></p>\n<p>Right now I don't have any ideas what to do. Any suggestions?</p>\n<p>IntelliJ version: 2022.3.1</p>\n<p>Gradle Wrapper version: 3.0</p>\n<p>JDK version: 1.8</p>\n"},{"tags":["java","spring","spring-boot","amazon-sqs"],"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683648951,"creation_date":1683648951,"question_id":76211462,"body_markdown":"I am using SqsListener annotation in my code to listen to the AWS sqs. \r\n\r\n        @SqsListener(value = &quot;${my-queue}&quot;)\r\n        public void listenToMyQueue(MyEvent event){\r\n            ......\r\n        }\r\n\r\nNow I have following questions - \r\n* if I didn&#39;t specify explicitly the acknowledge mode, what is the default one? Is it &quot;AUTO_ACKNOWLEDGE mode where every received message is acknowledged automatically (and therefore deleted from the underlying Amazon SQS queue)&quot;? \r\n* Then, is deletePolicy = ON_SUCCEEDED a kind of acknowledge mode (because it seems to be the same as AUTO_ACKNOWLEDGE above to me)? If no, will that be possible that it is contradict with the ack mode?  \r\n* Given the case I used SqsListener annotation, how should I specify explicitly the ack mode? An example would be great. \r\n\r\nThanks in advance. \r\n","title":"What is the acknowledge mode of sqs if I don&#39;t explicitly specify it when I used SqsListener annotation?","body":"<p>I am using SqsListener annotation in my code to listen to the AWS sqs.</p>\n<pre><code>    @SqsListener(value = &quot;${my-queue}&quot;)\n    public void listenToMyQueue(MyEvent event){\n        ......\n    }\n</code></pre>\n<p>Now I have following questions -</p>\n<ul>\n<li>if I didn't specify explicitly the acknowledge mode, what is the default one? Is it &quot;AUTO_ACKNOWLEDGE mode where every received message is acknowledged automatically (and therefore deleted from the underlying Amazon SQS queue)&quot;?</li>\n<li>Then, is deletePolicy = ON_SUCCEEDED a kind of acknowledge mode (because it seems to be the same as AUTO_ACKNOWLEDGE above to me)? If no, will that be possible that it is contradict with the ack mode?</li>\n<li>Given the case I used SqsListener annotation, how should I specify explicitly the ack mode? An example would be great.</li>\n</ul>\n<p>Thanks in advance.</p>\n"},{"tags":["java","maven-plugin","openapi-generator","openapi-generator-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683648828,"creation_date":1683648828,"answer_id":76211446,"question_id":76183009,"body_markdown":"The short answer to your question is that this feature is indeed not supported.  [Another post][1] suggests using `oneOf` as an alternative, but this doesn&#39;t really work with the generator as you are expecting it to.\r\n\r\nHowever, I&#39;m never one to shy away from a challenge.  So, if you are interested in a fun workaround, read on.\r\n\r\n---\r\n\r\nThis issue can be solved with some [clever templating][2], or more specifically, the use of [vendor-extensions][3]. \r\n\r\nOne of the key issues here is that the generator does not recognize the `EnumObject` as an enum.  Despite it&#39;s inheritence, the class created is a regular class, and not an enum class.  So, when the generator enters the `model.mustache` and makes a decision as to whether the class should be an enum or a regular class, it decides to create a regular class.  So, let&#39;s fix that with a vendor extension called `x-is-composite-enum`.\r\n\r\nDefine your enum object like this\r\n```yaml\r\nEnumObject:\r\n  allOf:\r\n    - $ref: &#39;#/components/schemas/EnumObjectA&#39;\r\n    - $ref: &#39;#/components/schemas/EnumObjectB&#39;\r\n  x-is-composite-enum: true\r\n```\r\n\r\nNow, add a templates folder to your maven configuration.\r\n```maven\r\n&lt;configOptions&gt;\r\n  &lt;templateDirectory&gt;&quot;$projectDir/src/main/resources/templates&quot;&lt;/templateDirectory&gt;\r\n&lt;/configOptions&gt;\r\n```\r\n and copy the [`model.mustache` template][4] into that folder.\r\n\r\nNow change line 18 of the template from `{{^isEnum}}{{&gt;pojo}}{{/isEnum}}` to the following:\r\n```\r\n{{^isEnum}}{{#vendorExtensions.x-is-composite-enum}}{{&gt;composite_enum}}{{/vendorExtensions.x-is-composite-enum}}{{^vendorExtensions.x-is-composite-enum}}{{&gt;pojo}}{{/vendorExtensions.x-is-composite-enum}}{{/isEnum}}\r\n```\r\nWhat this does is checks for the vendor extension we created above.  If that extension exists, it tells the generator to generate the model using the `composite_enum.mustache` template.  If not, then generate a pojo as normal.\r\n\r\nBut, currently `composite_enum.mustache` doesn&#39;t exist.  No worries, let&#39;s create it.\r\n\r\nSimply copy the [`enumOuterClass.mustache` template][5] to your templates folder, and rename it to `composite_enum.mustache`\r\n\r\nFinally, change line 17 and 18 of the file from this:\r\n```\r\n  {{^gson}}\r\n  {{#allowableValues}}{{#enumVars}}\r\n  {{{name}}}({{{value}}}){{^-last}},\r\n  {{/-last}}{{#-last}};{{/-last}}{{/enumVars}}{{/allowableValues}}\r\n  {{/gson}}\r\n```\r\n\r\nto this\r\n```\r\n  {{^gson}}\r\n  {{#composedSchemas}}{{#allOf}}{{#.}}{{#allowableValues}}{{#values}}\r\n  {{{.}}}({{{.}}}){{^-last}},{{/-last}}{{/values}}{{/allowableValues}}{{^-last}},{{/-last}}{{/.}}{{#-last}};{{/-last}}{{/allOf}}{{/composedSchemas}}\r\n  {{/gson}}\r\n```\r\n\r\nThe newly generated object will now have all your enums\r\n```java\r\npublic enum EnumObject {\r\n  \r\n  VALUE_A1(VALUE_A1),\r\n  VALUE_A2(VALUE_A2),\r\n  VALUE_B1(VALUE_B1),\r\n  VALUE_B2(VALUE_B2),\r\n  VALUE_B3(VALUE_B3);\r\n\r\n  private EnumObjectA value;\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/57507396/reusing-a-subset-of-an-enum-in-openapi-swagger\r\n  [2]: https://github.com/OpenAPITools/openapi-generator/blob/master/docs/templating.md\r\n  [3]: https://github.com/OpenAPITools/openapi-generator/blob/master/docs/templating.md#extensions\r\n  [4]: https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/resources/JavaJaxRS/spec/model.mustache\r\n  [5]: https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/resources/JavaJaxRS/spec/enumOuterClass.mustache","title":"OpenAPI Generator (jaxrs-spec) generates separate classes for AllOf enum object","body":"<p>The short answer to your question is that this feature is indeed not supported.  <a href=\"https://stackoverflow.com/questions/57507396/reusing-a-subset-of-an-enum-in-openapi-swagger\">Another post</a> suggests using <code>oneOf</code> as an alternative, but this doesn't really work with the generator as you are expecting it to.</p>\n<p>However, I'm never one to shy away from a challenge.  So, if you are interested in a fun workaround, read on.</p>\n<hr />\n<p>This issue can be solved with some <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/docs/templating.md\" rel=\"nofollow noreferrer\">clever templating</a>, or more specifically, the use of <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/docs/templating.md#extensions\" rel=\"nofollow noreferrer\">vendor-extensions</a>.</p>\n<p>One of the key issues here is that the generator does not recognize the <code>EnumObject</code> as an enum.  Despite it's inheritence, the class created is a regular class, and not an enum class.  So, when the generator enters the <code>model.mustache</code> and makes a decision as to whether the class should be an enum or a regular class, it decides to create a regular class.  So, let's fix that with a vendor extension called <code>x-is-composite-enum</code>.</p>\n<p>Define your enum object like this</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>EnumObject:\n  allOf:\n    - $ref: '#/components/schemas/EnumObjectA'\n    - $ref: '#/components/schemas/EnumObjectB'\n  x-is-composite-enum: true\n</code></pre>\n<p>Now, add a templates folder to your maven configuration.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configOptions&gt;\n  &lt;templateDirectory&gt;&quot;$projectDir/src/main/resources/templates&quot;&lt;/templateDirectory&gt;\n&lt;/configOptions&gt;\n</code></pre>\n<p>and copy the <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/resources/JavaJaxRS/spec/model.mustache\" rel=\"nofollow noreferrer\"><code>model.mustache</code> template</a> into that folder.</p>\n<p>Now change line 18 of the template from <code>{{^isEnum}}{{&gt;pojo}}{{/isEnum}}</code> to the following:</p>\n<pre><code>{{^isEnum}}{{#vendorExtensions.x-is-composite-enum}}{{&gt;composite_enum}}{{/vendorExtensions.x-is-composite-enum}}{{^vendorExtensions.x-is-composite-enum}}{{&gt;pojo}}{{/vendorExtensions.x-is-composite-enum}}{{/isEnum}}\n</code></pre>\n<p>What this does is checks for the vendor extension we created above.  If that extension exists, it tells the generator to generate the model using the <code>composite_enum.mustache</code> template.  If not, then generate a pojo as normal.</p>\n<p>But, currently <code>composite_enum.mustache</code> doesn't exist.  No worries, let's create it.</p>\n<p>Simply copy the <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/resources/JavaJaxRS/spec/enumOuterClass.mustache\" rel=\"nofollow noreferrer\"><code>enumOuterClass.mustache</code> template</a> to your templates folder, and rename it to <code>composite_enum.mustache</code></p>\n<p>Finally, change line 17 and 18 of the file from this:</p>\n<pre><code>  {{^gson}}\n  {{#allowableValues}}{{#enumVars}}\n  {{{name}}}({{{value}}}){{^-last}},\n  {{/-last}}{{#-last}};{{/-last}}{{/enumVars}}{{/allowableValues}}\n  {{/gson}}\n</code></pre>\n<p>to this</p>\n<pre><code>  {{^gson}}\n  {{#composedSchemas}}{{#allOf}}{{#.}}{{#allowableValues}}{{#values}}\n  {{{.}}}({{{.}}}){{^-last}},{{/-last}}{{/values}}{{/allowableValues}}{{^-last}},{{/-last}}{{/.}}{{#-last}};{{/-last}}{{/allOf}}{{/composedSchemas}}\n  {{/gson}}\n</code></pre>\n<p>The newly generated object will now have all your enums</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum EnumObject {\n  \n  VALUE_A1(VALUE_A1),\n  VALUE_A2(VALUE_A2),\n  VALUE_B1(VALUE_B1),\n  VALUE_B2(VALUE_B2),\n  VALUE_B3(VALUE_B3);\n\n  private EnumObjectA value;\n</code></pre>\n"}],"owner":{"account_id":1311677,"reputation":2627,"user_id":1259558,"accept_rate":53,"display_name":"Danny Gloudemans"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":592,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683648828,"creation_date":1683295242,"question_id":76183009,"body_markdown":"I&#39;ve created a specification that has objects with enum values. Some methods should support all enum values and therefore I thought just to put the enum objects as allOf reference, however that doesn&#39;t seems to be working.\r\n\r\nIn the example below the EnumObject class doesn&#39;t contain any values, while the EnumObjectA and EnumObjectB are working as expected.\r\n\r\n```\r\nopenapi: 3.0.3\r\ninfo:\r\n    title: Test spec for StackOverflow\r\n    version: 1.0.0\r\npaths:\r\n    /status:\r\n        get:\r\n            tags:\r\n                - Test\r\n            summary: Test summary\r\n            description: &#39;Test description&#39;\r\n            operationId: testOperationId\r\n            responses:\r\n                &#39;200&#39;:\r\n                    description: Successful operation\r\n                    content:\r\n                        application/json:\r\n                            schema:\r\n                                $ref: &#39;#/components/schemas/TestResponse&#39;\r\ncomponents:\r\n    schemas:\r\n        TestResponse:\r\n            type: object\r\n            properties:\r\n                stringId:\r\n                    type: string\r\n                enumObject:\r\n                    $ref: &#39;#/components/schemas/EnumObject&#39;\r\n        EnumObject:\r\n            allOf:\r\n                - $ref: &#39;#/components/schemas/EnumObjectA&#39;\r\n                - $ref: &#39;#/components/schemas/EnumObjectB&#39;\r\n        EnumObjectA:\r\n            type: string\r\n            description: Enum object A\r\n            enum:\r\n                - VALUE_A1\r\n                - VALUE_A2\r\n        EnumObjectB:\r\n            type: string\r\n            description: Enum object B\r\n            enum:\r\n                - VALUE_B1\r\n                - VALUE_B2\r\n                - VALUE_B3\r\n```\r\n\r\nI&#39;m using the following configuration within the `openapi-generator-maven-plugin`. If this feature not supported or am I missing something?\r\n\r\n```\r\n&lt;configuration&gt;\r\n    &lt;inputSpec&gt;${project.basedir}/src/main/resources/openapi/rest.yaml&lt;/inputSpec&gt;\r\n    &lt;generatorName&gt;jaxrs-spec&lt;/generatorName&gt;\r\n\r\n    &lt;configOptions&gt;\r\n        &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n        &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n        &lt;useTags&gt;true&lt;/useTags&gt;\r\n    &lt;/configOptions&gt;\r\n\r\n    &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n    &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\r\n    &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n    &lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\r\n    &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\r\n    &lt;ignoreFileOverride&gt;${project.basedir}/src/main/resources/.openapi-codegen-ignore&lt;/ignoreFileOverride&gt;\r\n&lt;/configuration&gt;\r\n```","title":"OpenAPI Generator (jaxrs-spec) generates separate classes for AllOf enum object","body":"<p>I've created a specification that has objects with enum values. Some methods should support all enum values and therefore I thought just to put the enum objects as allOf reference, however that doesn't seems to be working.</p>\n<p>In the example below the EnumObject class doesn't contain any values, while the EnumObjectA and EnumObjectB are working as expected.</p>\n<pre><code>openapi: 3.0.3\ninfo:\n    title: Test spec for StackOverflow\n    version: 1.0.0\npaths:\n    /status:\n        get:\n            tags:\n                - Test\n            summary: Test summary\n            description: 'Test description'\n            operationId: testOperationId\n            responses:\n                '200':\n                    description: Successful operation\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/TestResponse'\ncomponents:\n    schemas:\n        TestResponse:\n            type: object\n            properties:\n                stringId:\n                    type: string\n                enumObject:\n                    $ref: '#/components/schemas/EnumObject'\n        EnumObject:\n            allOf:\n                - $ref: '#/components/schemas/EnumObjectA'\n                - $ref: '#/components/schemas/EnumObjectB'\n        EnumObjectA:\n            type: string\n            description: Enum object A\n            enum:\n                - VALUE_A1\n                - VALUE_A2\n        EnumObjectB:\n            type: string\n            description: Enum object B\n            enum:\n                - VALUE_B1\n                - VALUE_B2\n                - VALUE_B3\n</code></pre>\n<p>I'm using the following configuration within the <code>openapi-generator-maven-plugin</code>. If this feature not supported or am I missing something?</p>\n<pre><code>&lt;configuration&gt;\n    &lt;inputSpec&gt;${project.basedir}/src/main/resources/openapi/rest.yaml&lt;/inputSpec&gt;\n    &lt;generatorName&gt;jaxrs-spec&lt;/generatorName&gt;\n\n    &lt;configOptions&gt;\n        &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n        &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n        &lt;useTags&gt;true&lt;/useTags&gt;\n    &lt;/configOptions&gt;\n\n    &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n    &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\n    &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n    &lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\n    &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\n    &lt;ignoreFileOverride&gt;${project.basedir}/src/main/resources/.openapi-codegen-ignore&lt;/ignoreFileOverride&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java","spring","postgresql","jpa"],"answers":[{"comments":[{"owner":{"account_id":22561302,"reputation":1,"user_id":16748917,"display_name":"cen7"},"score":0,"creation_date":1683648332,"post_id":76206851,"comment_id":134397420,"body_markdown":"it didn&#39;t help. The issue was with user in Customer(it was null). By setting the customer.setUser(user) it saved successfully the user in userTable and the customer in customer Table with same ID(PK)","body":"it didn&#39;t help. The issue was with user in Customer(it was null). By setting the customer.setUser(user) it saved successfully the user in userTable and the customer in customer Table with same ID(PK)"}],"tags":[],"owner":{"display_name":"user16228924"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683617456,"creation_date":1683617456,"answer_id":76206851,"question_id":76206503,"body_markdown":"    @GeneratedValue(strategy = GenerationType.AUTO)\r\n\r\nit&#39;s because the customer id is null. you have to make it generate automatically for the customer too.\r\n\r\n","title":"How to design User entity in booking app using spring boot, jpa &amp; postgresql?","body":"<pre><code>@GeneratedValue(strategy = GenerationType.AUTO)\n</code></pre>\n<p>it's because the customer id is null. you have to make it generate automatically for the customer too.</p>\n"},{"tags":[],"owner":{"account_id":22561302,"reputation":1,"user_id":16748917,"display_name":"cen7"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683648201,"creation_date":1683648201,"answer_id":76211350,"question_id":76206503,"body_markdown":"    User user = new User(null, registerRequest.getFirstName(),\r\n                registerRequest.getLastName(),\r\n                registerRequest.getEmail(),\r\n                registerRequest.getPhoneNumber(),\r\n                UserStatus.PENDING,\r\n                UserType.valueOf(registerRequest.getType()),\r\n                registerRequest.getGeographicAddress(),\r\n                new Date().toString(),\r\n                null,\r\n                passwordEncoder.encode(registerRequest.getPassword()));\r\n        user.setCustomer(null);//ADD THIS\r\n        userRepository.save(user); \r\n        // is it saved, need to be updated refresh\r\n        Long iid = userRepository.getUserByEmailAddress(registerRequest.getEmail()).getIID();\r\n\r\n        switch (registerRequest.getType().toUpperCase(Locale.ROOT)) {\r\n            case &quot;CUSTOMER&quot; -&gt; {\r\n                Customer userCustomer = new Customer(iid);\r\n                userCustomer.setUser(user);//ADD THIS\r\n                customerRepository.save(userCustomer);\r\n            }\r\n\r\nIt is because the User in Customer is null","title":"How to design User entity in booking app using spring boot, jpa &amp; postgresql?","body":"<pre><code>User user = new User(null, registerRequest.getFirstName(),\n            registerRequest.getLastName(),\n            registerRequest.getEmail(),\n            registerRequest.getPhoneNumber(),\n            UserStatus.PENDING,\n            UserType.valueOf(registerRequest.getType()),\n            registerRequest.getGeographicAddress(),\n            new Date().toString(),\n            null,\n            passwordEncoder.encode(registerRequest.getPassword()));\n    user.setCustomer(null);//ADD THIS\n    userRepository.save(user); \n    // is it saved, need to be updated refresh\n    Long iid = userRepository.getUserByEmailAddress(registerRequest.getEmail()).getIID();\n\n    switch (registerRequest.getType().toUpperCase(Locale.ROOT)) {\n        case &quot;CUSTOMER&quot; -&gt; {\n            Customer userCustomer = new Customer(iid);\n            userCustomer.setUser(user);//ADD THIS\n            customerRepository.save(userCustomer);\n        }\n</code></pre>\n<p>It is because the User in Customer is null</p>\n"}],"owner":{"account_id":22561302,"reputation":1,"user_id":16748917,"display_name":"cen7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683648201,"creation_date":1683614463,"question_id":76206503,"body_markdown":"I am working on a Spring Boot app using Jpa and postgresql. It is a booking app that will notify the parties for coming bookings.\r\n\r\nI will have 3 user types: Admin, Customer and Employee. [enter image description here](https://i.stack.imgur.com/DhbL7.png)\r\n\r\nI add @OneToOne relation beween User and Customer(Admin and Employee) to have shared PK(Customer PK is FK(User))\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;userTbl&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = &quot;emailAddress&quot;)})\r\npublic class User {\r\n @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long IID;\r\n@NotEmpty\r\n    private String firstName;\r\n\r\n    @NotEmpty\r\n    private String lastName;\r\n....\r\n@OneToOne(mappedBy = &quot;user&quot;)\r\n    @JsonBackReference\r\n    private Admin admin;\r\n\r\n    @OneToOne()\r\n    @JsonBackReference\r\n    private Customer customer;\r\n\r\n    @OneToOne(mappedBy = &quot;user&quot;)\r\n    @JsonBackReference\r\n    private Employee employee;\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;customer&quot;)\r\npublic class Customer{\r\n\r\n    @Id\r\n    @Column(name = &quot;USER_ID&quot;)\r\n    private Long IID;\r\n\r\n    @OneToOne()\r\n    @MapsId\r\n    private User user;\r\n    private String paymentID;\r\n    private String invoice;\r\n```\r\n\r\nsame entity classes for admin and employee\r\n\r\nWhen I try to register a new User, I got &#39;attempted to assign id from null one-to-one property [com.application.model.Customer.user]. error. \r\n\r\n\r\n```\r\n@Service\r\npublic class RegisterAuthenticationService {\r\n    private final AuthenticationManager authenticationManager;\r\n    private final UserRepository userRepository;\r\n    private final CustomerRepository customerRepository;\r\n    private final PasswordEncoder passwordEncoder;\r\n    private final JWTService jwtService;\r\n\r\n\r\n    public RegisterAuthenticationService(AuthenticationManager authenticationManager,\r\n                                         UserRepository userRepository,\r\n                                         CustomerRepository customerRepository,\r\n                                         PasswordEncoder passwordEncoder,\r\n                                         JWTService jwtService) {\r\n        this.authenticationManager = authenticationManager;\r\n        this.userRepository = userRepository;\r\n        this.customerRepository = customerRepository;\r\n        this.passwordEncoder = passwordEncoder;\r\n        this.jwtService = jwtService;\r\n    }\r\n\r\n    @Transactional\r\n    public ResponseEntity&lt;?&gt; registerNewCustomer(UserRegisterRequest registerRequest) {\r\n        if (userRepository.existsByEmailAddress(registerRequest.getEmail())) {\r\n            return ResponseEntity.badRequest().body(&quot;Email used&quot;);\r\n        }\r\n\r\n        String type = registerRequest.getType();\r\n\r\n        if (type == null\r\n                || !(type.toUpperCase(Locale.ROOT).equals(&quot;ADMIN&quot;)\r\n                || type.toUpperCase(Locale.ROOT).equals(&quot;CUSTOMER&quot;)\r\n                || type.toUpperCase(Locale.ROOT).equals(&quot;EMPLOYEE&quot;))) {\r\n            throw new RuntimeException(&quot;Invalid role&quot;);\r\n        }\r\n        // TODO: add more sanity check (email, password etc...)\r\n        User user = new User(null, registerRequest.getFirstName(),\r\n                registerRequest.getLastName(),\r\n                registerRequest.getEmail(),\r\n                registerRequest.getPhoneNumber(),\r\n                UserStatus.PENDING,\r\n                UserType.valueOf(registerRequest.getType()),\r\n                registerRequest.getGeographicAddress(),\r\n                new Date().toString(),\r\n                null,\r\n                passwordEncoder.encode(registerRequest.getPassword()));\r\n        userRepository.save(user);\r\n        // is it saved, need to be updated refresh\r\n        Long iid = userRepository.getUserByEmailAddress(registerRequest.getEmail()).getIID();\r\n\r\n        switch (registerRequest.getType().toUpperCase(Locale.ROOT)) {\r\n            case &quot;CUSTOMER&quot; -&gt; {\r\n                Customer userCustomer = new Customer(iid);\r\n                customerRepository.save(userCustomer);\r\n            }\r\n            case &quot;EMPLOYEE&quot; -&gt; {\r\n                // save to employeee\r\n            }\r\n            default -&gt; {\r\n                // save to admin\r\n            }\r\n        }\r\n\r\n        return ResponseEntity.ok(&quot;User registered successfully&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\nAlso I have a ManyToMany between Employee and Service and @ManyToOne in Booking (with Customer and employee)\r\n```\r\n@Entity\r\n@Table(name = &quot;booking&quot;)\r\npublic class Booking {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long IID;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;customer_id&quot;)\r\n    private Customer customer;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;employee_id&quot;)\r\n    private Employee employee;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;service_id&quot;)\r\n    private Service service;\r\n```\r\n\r\nOne idea is to have just one table User, add &#39;type&#39; (customer, admin or employee) and userCharacteristics object to it. This userCharacteristics object will contain the specific properties for an user type. But with this in mind, how to define the relationship in Booking (with customer and employee) and between Employee&lt;-&gt;Service?\r\n\r\nSum:\r\nHow to design User entities so that I can have 3 types of user, have a relationship between them and relationships of user entities with other entities (like Booking with customer and employee)?","title":"How to design User entity in booking app using spring boot, jpa &amp; postgresql?","body":"<p>I am working on a Spring Boot app using Jpa and postgresql. It is a booking app that will notify the parties for coming bookings.</p>\n<p>I will have 3 user types: Admin, Customer and Employee. <a href=\"https://i.stack.imgur.com/DhbL7.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I add @OneToOne relation beween User and Customer(Admin and Employee) to have shared PK(Customer PK is FK(User))</p>\n<pre><code>@Entity\n@Table(name = &quot;userTbl&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = &quot;emailAddress&quot;)})\npublic class User {\n @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long IID;\n@NotEmpty\n    private String firstName;\n\n    @NotEmpty\n    private String lastName;\n....\n@OneToOne(mappedBy = &quot;user&quot;)\n    @JsonBackReference\n    private Admin admin;\n\n    @OneToOne()\n    @JsonBackReference\n    private Customer customer;\n\n    @OneToOne(mappedBy = &quot;user&quot;)\n    @JsonBackReference\n    private Employee employee;\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;customer&quot;)\npublic class Customer{\n\n    @Id\n    @Column(name = &quot;USER_ID&quot;)\n    private Long IID;\n\n    @OneToOne()\n    @MapsId\n    private User user;\n    private String paymentID;\n    private String invoice;\n</code></pre>\n<p>same entity classes for admin and employee</p>\n<p>When I try to register a new User, I got 'attempted to assign id from null one-to-one property [com.application.model.Customer.user]. error.</p>\n<pre><code>@Service\npublic class RegisterAuthenticationService {\n    private final AuthenticationManager authenticationManager;\n    private final UserRepository userRepository;\n    private final CustomerRepository customerRepository;\n    private final PasswordEncoder passwordEncoder;\n    private final JWTService jwtService;\n\n\n    public RegisterAuthenticationService(AuthenticationManager authenticationManager,\n                                         UserRepository userRepository,\n                                         CustomerRepository customerRepository,\n                                         PasswordEncoder passwordEncoder,\n                                         JWTService jwtService) {\n        this.authenticationManager = authenticationManager;\n        this.userRepository = userRepository;\n        this.customerRepository = customerRepository;\n        this.passwordEncoder = passwordEncoder;\n        this.jwtService = jwtService;\n    }\n\n    @Transactional\n    public ResponseEntity&lt;?&gt; registerNewCustomer(UserRegisterRequest registerRequest) {\n        if (userRepository.existsByEmailAddress(registerRequest.getEmail())) {\n            return ResponseEntity.badRequest().body(&quot;Email used&quot;);\n        }\n\n        String type = registerRequest.getType();\n\n        if (type == null\n                || !(type.toUpperCase(Locale.ROOT).equals(&quot;ADMIN&quot;)\n                || type.toUpperCase(Locale.ROOT).equals(&quot;CUSTOMER&quot;)\n                || type.toUpperCase(Locale.ROOT).equals(&quot;EMPLOYEE&quot;))) {\n            throw new RuntimeException(&quot;Invalid role&quot;);\n        }\n        // TODO: add more sanity check (email, password etc...)\n        User user = new User(null, registerRequest.getFirstName(),\n                registerRequest.getLastName(),\n                registerRequest.getEmail(),\n                registerRequest.getPhoneNumber(),\n                UserStatus.PENDING,\n                UserType.valueOf(registerRequest.getType()),\n                registerRequest.getGeographicAddress(),\n                new Date().toString(),\n                null,\n                passwordEncoder.encode(registerRequest.getPassword()));\n        userRepository.save(user);\n        // is it saved, need to be updated refresh\n        Long iid = userRepository.getUserByEmailAddress(registerRequest.getEmail()).getIID();\n\n        switch (registerRequest.getType().toUpperCase(Locale.ROOT)) {\n            case &quot;CUSTOMER&quot; -&gt; {\n                Customer userCustomer = new Customer(iid);\n                customerRepository.save(userCustomer);\n            }\n            case &quot;EMPLOYEE&quot; -&gt; {\n                // save to employeee\n            }\n            default -&gt; {\n                // save to admin\n            }\n        }\n\n        return ResponseEntity.ok(&quot;User registered successfully&quot;);\n    }\n}\n</code></pre>\n<p>Also I have a ManyToMany between Employee and Service and @ManyToOne in Booking (with Customer and employee)</p>\n<pre><code>@Entity\n@Table(name = &quot;booking&quot;)\npublic class Booking {\n\n    @Id\n    @GeneratedValue\n    private Long IID;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;customer_id&quot;)\n    private Customer customer;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;employee_id&quot;)\n    private Employee employee;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;service_id&quot;)\n    private Service service;\n</code></pre>\n<p>One idea is to have just one table User, add 'type' (customer, admin or employee) and userCharacteristics object to it. This userCharacteristics object will contain the specific properties for an user type. But with this in mind, how to define the relationship in Booking (with customer and employee) and between Employee&lt;-&gt;Service?</p>\n<p>Sum:\nHow to design User entities so that I can have 3 types of user, have a relationship between them and relationships of user entities with other entities (like Booking with customer and employee)?</p>\n"},{"tags":["java","image","fonts","awt"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1683644182,"post_id":76210289,"comment_id":134396323,"body_markdown":"Which Java version? And why these unnecessary detours? `gv.getOutline()` returns a `Shape` so you could call `getBounds2D()` directly on it without copying it into an `Area`, but you could even call `gv.getVisualBounds()` in the first place. Well, in fact, you can query the sizes from the `fontMetrics` without constructing a `GlyphVector`. Letting the detours aside, you should calculate the sizes using the same rendering hints as when painting. And when you add constants like `10` and `5` to the coordinates afterwards, you have to adjust the image size accordingly.","body":"Which Java version? And why these unnecessary detours? <code>gv.getOutline()</code> returns a <code>Shape</code> so you could call <code>getBounds2D()</code> directly on it without copying it into an <code>Area</code>, but you could even call <code>gv.getVisualBounds()</code> in the first place. Well, in fact, you can query the sizes from the <code>fontMetrics</code> without constructing a <code>GlyphVector</code>. Letting the detours aside, you should calculate the sizes using the same rendering hints as when painting. And when you add constants like <code>10</code> and <code>5</code> to the coordinates afterwards, you have to adjust the image size accordingly."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1683644188,"post_id":76210289,"comment_id":134396326,"body_markdown":"One option is to create an image with your huge text font and use the image in your Java Swing project.","body":"One option is to create an image with your huge text font and use the image in your Java Swing project."},{"owner":{"account_id":15821560,"reputation":7,"user_id":11434464,"display_name":"awarus"},"score":0,"creation_date":1683644892,"post_id":76210289,"comment_id":134396512,"body_markdown":"@Holger I tried 8, 11 and 17 with the same outcome. I agree with the detour, but using `GlyphVector` I am able to get more precise dimension of the text. The rendering hints does not change the issue with overlapping.","body":"@Holger I tried 8, 11 and 17 with the same outcome. I agree with the detour, but using <code>GlyphVector</code> I am able to get more precise dimension of the text. The rendering hints does not change the issue with overlapping."},{"owner":{"account_id":15821560,"reputation":7,"user_id":11434464,"display_name":"awarus"},"score":0,"creation_date":1683645034,"post_id":76210289,"comment_id":134396541,"body_markdown":"@GilbertLeBlanc I need large number of these images, manually creating them is unfeasible.","body":"@GilbertLeBlanc I need large number of these images, manually creating them is unfeasible."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1683706371,"post_id":76210289,"comment_id":134406035,"body_markdown":"Looks like a bug in the glyph rendering, using the wrong winding rule (&quot;even-odd&quot; instead of &quot;non-zero&quot;), see [Wikipedia: non-zero rule](https://en.wikipedia.org/wiki/Nonzero-rule), especially the figure on the right.","body":"Looks like a bug in the glyph rendering, using the wrong winding rule (&quot;even-odd&quot; instead of &quot;non-zero&quot;), see <a href=\"https://en.wikipedia.org/wiki/Nonzero-rule\" rel=\"nofollow noreferrer\">Wikipedia: non-zero rule</a>, especially the figure on the right."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683648105,"creation_date":1683648105,"answer_id":76211333,"question_id":76210289,"body_markdown":"This is indeed a strange behavior. I can’t tell you why this happens, but I can offer you a work-around; the problem does not occur when rendering the string’s glyphs one by one:\r\n\r\n```java\r\nstatic final boolean USE_WORKAROUND = true;\r\n\r\npublic static void saveTextToImage(String text, Font font) throws IOException {\r\n    // Temp image to get the GlyphVector and text dimensions\r\n    BufferedImage tempImage = new BufferedImage(1, 1, BufferedImage.TYPE_INT_RGB);\r\n    Graphics2D tempGraphics = tempImage.createGraphics();\r\n    tempGraphics.setFont(font);\r\n    tempGraphics.setRenderingHint(\r\n        RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n    FontRenderContext fontRenderContext = tempGraphics.getFontRenderContext();\r\n    GlyphVector gv = font.createGlyphVector(fontRenderContext, text);\r\n    Rectangle2D rectangle2D = gv.getVisualBounds();\r\n    int width = (int)(rectangle2D.getWidth());\r\n    int height = (int)(rectangle2D.getHeight());\r\n\r\n    // Create a new image with white background\r\n    BufferedImage img\r\n        = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\r\n    Graphics2D graphics = img.createGraphics();\r\n    graphics.setBackground(Color.WHITE);\r\n    graphics.clearRect(0, 0, width, height);\r\n    graphics.setRenderingHint(\r\n        RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n    graphics.setColor(Color.BLACK);\r\n\r\n    // using GlyphVector avoids repeating the work already done above\r\n    if(!USE_WORKAROUND) {\r\n        graphics.drawGlyphVector(gv,\r\n            (float)-rectangle2D.getX(), (float)-rectangle2D.getY());\r\n    } else {\r\n        graphics.translate(-rectangle2D.getX(), -rectangle2D.getY());\r\n        for(int gix = 0, gnum = gv.getNumGlyphs(); gix &lt; gnum; gix++) {\r\n            graphics.fill(gv.getGlyphOutline(gix));\r\n        }\r\n    }\r\n\r\n    // Save the image\r\n    File outputFile = new File(text + &quot;.jpg&quot;);\r\n    ImageIO.write(img, &quot;jpg&quot;, outputFile);\r\n}\r\n```\r\n\r\nAs a side note, I would use PNG instead of JPG as it is better suited for such images, but perhaps you don’t have this choice.\r\n\r\nFurther note that rendering an existing `GlyphVector` via `drawGlyphVector` has been documented to be “the fastest way to render a set of characters to the screen”, so if we have to perform this preparation work anyway for calculating the bounds, why not use it for the rendering…\r\n","title":"Font in Java AWT not rendered correctly when it&#39;s larger than 100 points","body":"<p>This is indeed a strange behavior. I can’t tell you why this happens, but I can offer you a work-around; the problem does not occur when rendering the string’s glyphs one by one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static final boolean USE_WORKAROUND = true;\n\npublic static void saveTextToImage(String text, Font font) throws IOException {\n    // Temp image to get the GlyphVector and text dimensions\n    BufferedImage tempImage = new BufferedImage(1, 1, BufferedImage.TYPE_INT_RGB);\n    Graphics2D tempGraphics = tempImage.createGraphics();\n    tempGraphics.setFont(font);\n    tempGraphics.setRenderingHint(\n        RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n    FontRenderContext fontRenderContext = tempGraphics.getFontRenderContext();\n    GlyphVector gv = font.createGlyphVector(fontRenderContext, text);\n    Rectangle2D rectangle2D = gv.getVisualBounds();\n    int width = (int)(rectangle2D.getWidth());\n    int height = (int)(rectangle2D.getHeight());\n\n    // Create a new image with white background\n    BufferedImage img\n        = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n    Graphics2D graphics = img.createGraphics();\n    graphics.setBackground(Color.WHITE);\n    graphics.clearRect(0, 0, width, height);\n    graphics.setRenderingHint(\n        RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n    graphics.setColor(Color.BLACK);\n\n    // using GlyphVector avoids repeating the work already done above\n    if(!USE_WORKAROUND) {\n        graphics.drawGlyphVector(gv,\n            (float)-rectangle2D.getX(), (float)-rectangle2D.getY());\n    } else {\n        graphics.translate(-rectangle2D.getX(), -rectangle2D.getY());\n        for(int gix = 0, gnum = gv.getNumGlyphs(); gix &lt; gnum; gix++) {\n            graphics.fill(gv.getGlyphOutline(gix));\n        }\n    }\n\n    // Save the image\n    File outputFile = new File(text + &quot;.jpg&quot;);\n    ImageIO.write(img, &quot;jpg&quot;, outputFile);\n}\n</code></pre>\n<p>As a side note, I would use PNG instead of JPG as it is better suited for such images, but perhaps you don’t have this choice.</p>\n<p>Further note that rendering an existing <code>GlyphVector</code> via <code>drawGlyphVector</code> has been documented to be “the fastest way to render a set of characters to the screen”, so if we have to perform this preparation work anyway for calculating the bounds, why not use it for the rendering…</p>\n"}],"owner":{"account_id":15821560,"reputation":7,"user_id":11434464,"display_name":"awarus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76211333,"answer_count":1,"score":0,"last_activity_date":1683648105,"creation_date":1683641699,"question_id":76210289,"body_markdown":"I&#39;m trying to render the text into an image using `JAVA` AWT. When I use a font smaller than 100 points, everything works as expected. But when I use, for example, 240 points, then some parts of the text that overlap are transparent like in this [image](https://i.stack.imgur.com/Qq3aO.jpg). In the sample image, I used this [font](https://www.1001fonts.com/autumn-in-november-font.html). I used this font in a text editor without any problem.\r\n\r\nThe font is loaded using this code:\r\n```\r\nFont font = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/main/resources/Autumn in November.ttf&quot;));\r\nFont derived = font.deriveFont(240f);\r\n```\r\n\r\nTo render the text in the image I use this code:\r\n```\r\n public static void saveTextToImage(String text, Font font) throws IOException {\r\n\r\n        # Temp image to get the text dimensions\r\n        BufferedImage tempImage = new BufferedImage(1, 1, BufferedImage.TYPE_INT_RGB);\r\n        Graphics2D tempGraphics = tempImage.createGraphics();\r\n        tempGraphics.setFont(font);\r\n        FontMetrics fontMetrics = tempGraphics.getFontMetrics();\r\n        FontRenderContext fontRenderContext = tempGraphics.getFontRenderContext();\r\n        GlyphVector gv = font.createGlyphVector(fontRenderContext, text);\r\n        Area area = new Area(gv.getOutline());\r\n        Rectangle2D rectangle2D = area.getBounds2D();\r\n        int width = (int) rectangle2D.getWidth();\r\n        int height = (int) rectangle2D.getHeight();\r\n\r\n        // Create a new image with white background\r\n        BufferedImage img = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\r\n        Graphics2D graphics = img.createGraphics();\r\n        graphics.setColor(Color.WHITE);\r\n        graphics.fillRect(0, 0, width, height);\r\n\r\n        graphics.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\r\n        // Draw the text on the image\r\n        graphics.setColor(Color.BLACK);\r\n        graphics.setFont(font);\r\n        graphics.drawString(text, 10, fontMetrics.getAscent() + 5);\r\n\r\n        // Save the image\r\n        File outputFile = new File(text + &quot;.jpg&quot;);\r\n        ImageIO.write(img, &quot;jpg&quot;, outputFile);\r\n}\r\n```\r\n\r\nI&#39;ve tried changing the font type to `OTF`, adding and changing `RenderingHints` and also switching the image type to `PNG`, but without success. I don&#39;t know what else I could try.","title":"Font in Java AWT not rendered correctly when it&#39;s larger than 100 points","body":"<p>I'm trying to render the text into an image using <code>JAVA</code> AWT. When I use a font smaller than 100 points, everything works as expected. But when I use, for example, 240 points, then some parts of the text that overlap are transparent like in this <a href=\"https://i.stack.imgur.com/Qq3aO.jpg\" rel=\"nofollow noreferrer\">image</a>. In the sample image, I used this <a href=\"https://www.1001fonts.com/autumn-in-november-font.html\" rel=\"nofollow noreferrer\">font</a>. I used this font in a text editor without any problem.</p>\n<p>The font is loaded using this code:</p>\n<pre><code>Font font = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/main/resources/Autumn in November.ttf&quot;));\nFont derived = font.deriveFont(240f);\n</code></pre>\n<p>To render the text in the image I use this code:</p>\n<pre><code> public static void saveTextToImage(String text, Font font) throws IOException {\n\n        # Temp image to get the text dimensions\n        BufferedImage tempImage = new BufferedImage(1, 1, BufferedImage.TYPE_INT_RGB);\n        Graphics2D tempGraphics = tempImage.createGraphics();\n        tempGraphics.setFont(font);\n        FontMetrics fontMetrics = tempGraphics.getFontMetrics();\n        FontRenderContext fontRenderContext = tempGraphics.getFontRenderContext();\n        GlyphVector gv = font.createGlyphVector(fontRenderContext, text);\n        Area area = new Area(gv.getOutline());\n        Rectangle2D rectangle2D = area.getBounds2D();\n        int width = (int) rectangle2D.getWidth();\n        int height = (int) rectangle2D.getHeight();\n\n        // Create a new image with white background\n        BufferedImage img = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n        Graphics2D graphics = img.createGraphics();\n        graphics.setColor(Color.WHITE);\n        graphics.fillRect(0, 0, width, height);\n\n        graphics.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n\n        // Draw the text on the image\n        graphics.setColor(Color.BLACK);\n        graphics.setFont(font);\n        graphics.drawString(text, 10, fontMetrics.getAscent() + 5);\n\n        // Save the image\n        File outputFile = new File(text + &quot;.jpg&quot;);\n        ImageIO.write(img, &quot;jpg&quot;, outputFile);\n}\n</code></pre>\n<p>I've tried changing the font type to <code>OTF</code>, adding and changing <code>RenderingHints</code> and also switching the image type to <code>PNG</code>, but without success. I don't know what else I could try.</p>\n"},{"tags":["java","eclipse","colors","background"],"answers":[{"comments":[{"owner":{"account_id":1639310,"reputation":173,"user_id":1512074,"accept_rate":25,"display_name":"Aurus"},"score":1,"creation_date":1425151759,"post_id":28785612,"comment_id":45847942,"body_markdown":"Well if I change it like that it works until i make a click on the console window. After that it changes back to the themes one. :/","body":"Well if I change it like that it works until i make a click on the console window. After that it changes back to the themes one. :/"}],"tags":[],"owner":{"account_id":5858799,"reputation":53,"user_id":4615231,"accept_rate":86,"display_name":"ProgrammingRookie"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425150121,"creation_date":1425150121,"answer_id":28785612,"question_id":28785543,"body_markdown":"Have you made sure that you clicked the actual &#39;Apply&#39; button?\r\n\r\nIf so, try if you can change it from the the tab window and then pick Prefrences.\r\n\r\nWindow --&gt;Preferences\r\n\r\n\r\nHopefully this helps you.","title":"Eclipse - Change Console background color","body":"<p>Have you made sure that you clicked the actual 'Apply' button?</p>\n\n<p>If so, try if you can change it from the the tab window and then pick Prefrences.</p>\n\n<p>Window -->Preferences</p>\n\n<p>Hopefully this helps you.</p>\n"},{"comments":[{"owner":{"account_id":1639310,"reputation":173,"user_id":1512074,"accept_rate":25,"display_name":"Aurus"},"score":1,"creation_date":1425167432,"post_id":28785885,"comment_id":45852420,"body_markdown":"Ahhh thank you it worked for me now. I set the theme back to the default one, changed the Console&#39;s color and applied my custom theme again","body":"Ahhh thank you it worked for me now. I set the theme back to the default one, changed the Console&#39;s color and applied my custom theme again"},{"owner":{"account_id":79530,"reputation":2608,"user_id":225437,"accept_rate":50,"display_name":"Andrew"},"score":0,"creation_date":1425199469,"post_id":28785885,"comment_id":45858355,"body_markdown":"Aurus, glad it helped - feel free to accept this as an answer.","body":"Aurus, glad it helped - feel free to accept this as an answer."}],"tags":[],"owner":{"account_id":79530,"reputation":2608,"user_id":225437,"accept_rate":50,"display_name":"Andrew"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1425156312,"creation_date":1425151581,"answer_id":28785885,"question_id":28785543,"body_markdown":"I had a similar problem with luna. Didn&#39;t work with the dark &#39;theme&#39; and similar dark &#39;color and font theme&#39; - had to reset to classic under main preferences. Then right clicking from within the console does change to the selected colour. \r\nMaybe related to this recurring [bug][1] in eclipse.\r\n\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=103907","title":"Eclipse - Change Console background color","body":"<p>I had a similar problem with luna. Didn't work with the dark 'theme' and similar dark 'color and font theme' - had to reset to classic under main preferences. Then right clicking from within the console does change to the selected colour. \nMaybe related to this recurring <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=103907\" rel=\"nofollow\">bug</a> in eclipse.</p>\n"},{"tags":[],"owner":{"account_id":6119207,"reputation":1092,"user_id":4773274,"accept_rate":71,"display_name":"holzkohlengrill"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609357836,"creation_date":1609357836,"answer_id":65512776,"question_id":28785543,"body_markdown":"I got the mentioned bug too but after right clicking it was too dark for me since the text colour is black.\r\n\r\nThe settings for the console background colour are located here:\r\n\r\nEclipse:\r\n\r\n`Window` -&gt; `Preferences`\r\n\r\nPreferences:\r\n\r\n-&gt; `C/C++` -&gt; `Build` -&gt; `Console`\r\n\r\n(probably a similar path applies to Java too)\r\n\r\nConsole:\r\n\r\n-&gt; `Background color`\r\n\r\n---\r\nThere are also two other console background settings in: Preferences: -&gt; `C/C++` -&gt; `Debug` -&gt; `GDB` -&gt; `Console` and in `Run/Debug` -&gt; `Console`.","title":"Eclipse - Change Console background color","body":"<p>I got the mentioned bug too but after right clicking it was too dark for me since the text colour is black.</p>\n<p>The settings for the console background colour are located here:</p>\n<p>Eclipse:</p>\n<p><code>Window</code> -&gt; <code>Preferences</code></p>\n<p>Preferences:</p>\n<p>-&gt; <code>C/C++</code> -&gt; <code>Build</code> -&gt; <code>Console</code></p>\n<p>(probably a similar path applies to Java too)</p>\n<p>Console:</p>\n<p>-&gt; <code>Background color</code></p>\n<hr />\n<p>There are also two other console background settings in: Preferences: -&gt; <code>C/C++</code> -&gt; <code>Debug</code> -&gt; <code>GDB</code> -&gt; <code>Console</code> and in <code>Run/Debug</code> -&gt; <code>Console</code>.</p>\n"},{"tags":[],"owner":{"account_id":20866613,"reputation":1,"user_id":15327492,"display_name":"benSZ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617522508,"creation_date":1617522508,"answer_id":66939071,"question_id":28785543,"body_markdown":"go to -&gt;preferences-&gt;type:console-&gt; click on &quot;console&quot; -&gt;click on &quot;Background color&quot; ","title":"Eclipse - Change Console background color","body":"<p>go to -&gt;preferences-&gt;type:console-&gt; click on &quot;console&quot; -&gt;click on &quot;Background color&quot;</p>\n"},{"tags":[],"owner":{"account_id":15232346,"reputation":47,"user_id":10991109,"display_name":"Venkat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683647933,"creation_date":1683647933,"answer_id":76211311,"question_id":28785543,"body_markdown":"Try Windows -&gt; Preferences -&gt; Appearance -&gt; Colors and Fonts -&gt; expand folder based on your perspective.\r\n\r\nExample: In my eclipse currently opened in debugger perspective and need to change font colors in console.\r\n\r\n[Change Font colors in Eclipse Console ( Debug Perspective)]\r\n  [1]: https://i.stack.imgur.com/m73PI.png","title":"Eclipse - Change Console background color","body":"<p>Try Windows -&gt; Preferences -&gt; Appearance -&gt; Colors and Fonts -&gt; expand folder based on your perspective.</p>\n<p>Example: In my eclipse currently opened in debugger perspective and need to change font colors in console.</p>\n<p>[Change Font colors in Eclipse Console ( Debug Perspective)]\n[1]: <a href=\"https://i.stack.imgur.com/m73PI.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/m73PI.png</a></p>\n"}],"owner":{"account_id":1639310,"reputation":173,"user_id":1512074,"accept_rate":25,"display_name":"Aurus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7883,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":28785885,"answer_count":5,"score":6,"last_activity_date":1683647933,"creation_date":1425149696,"question_id":28785543,"body_markdown":"I applied a theme for eclipse, where the Console&#39;s background color is to dark. \r\n\r\nIf I want to change it by right clicking on the Console -&gt; preferences -&gt; background color the new Color doesnt get applied. Is there a way to apply a new BG Color even when using a theme? \r\n\r\nThanks!","title":"Eclipse - Change Console background color","body":"<p>I applied a theme for eclipse, where the Console's background color is to dark. </p>\n\n<p>If I want to change it by right clicking on the Console -> preferences -> background color the new Color doesnt get applied. Is there a way to apply a new BG Color even when using a theme? </p>\n\n<p>Thanks!</p>\n"},{"tags":["java","swing","jtabbedpane"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1525137377,"post_id":50110214,"comment_id":87237708,"body_markdown":"And them in reverse order?","body":"And them in reverse order?"},{"owner":{"account_id":6236083,"reputation":321,"user_id":4851350,"accept_rate":55,"display_name":"Zezombye"},"score":0,"creation_date":1525137456,"post_id":50110214,"comment_id":87237727,"body_markdown":"If I do that, then I need to put them in RTL alignment, and it causes glitches.","body":"If I do that, then I need to put them in RTL alignment, and it causes glitches."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1525137592,"post_id":50110214,"comment_id":87237755,"body_markdown":"Does it cause glitches when it&#39;s done in forward order? I mean doing something like `for (int i = 60; I &gt;= 0; I--) {` to simply reverse the order in which the tabs themselves are added","body":"Does it cause glitches when it&#39;s done in forward order? I mean doing something like <code>for (int i = 60; I &gt;= 0; I--) {</code> to simply reverse the order in which the tabs themselves are added"},{"owner":{"account_id":6236083,"reputation":321,"user_id":4851350,"accept_rate":55,"display_name":"Zezombye"},"score":0,"creation_date":1525137673,"post_id":50110214,"comment_id":87237770,"body_markdown":"No, but the tabs are then from right to left, instead of left to right (hence the need to use RTL): http://puu.sh/AdFlo.png","body":"No, but the tabs are then from right to left, instead of left to right (hence the need to use RTL): <a href=\"http://puu.sh/AdFlo.png\" rel=\"nofollow noreferrer\">puu.sh/AdFlo.png</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1525138280,"post_id":50110214,"comment_id":87237899,"body_markdown":"I can&#39;t particularly see why changing to RTL would cause issues.  Unfortunately, I&#39;m running on MacOS so I can&#39;t test it :P","body":"I can&#39;t particularly see why changing to RTL would cause issues.  Unfortunately, I&#39;m running on MacOS so I can&#39;t test it :P"},{"owner":{"account_id":6236083,"reputation":321,"user_id":4851350,"accept_rate":55,"display_name":"Zezombye"},"score":0,"creation_date":1525138961,"post_id":50110214,"comment_id":87238063,"body_markdown":"Me neither, though RTL is more like a hack. Ideally I&#39;d override some method in `WindowsTabbedPaneUI`, but I can&#39;t find which one.","body":"Me neither, though RTL is more like a hack. Ideally I&#39;d override some method in <code>WindowsTabbedPaneUI</code>, but I can&#39;t find which one."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1525138986,"post_id":50110214,"comment_id":87238071,"body_markdown":"Create your own UI using buttons to represent the tabs and then a CardLayout for each of the panels. When you click the button you would display the appropriate panel in the CardLayout.","body":"Create your own UI using buttons to represent the tabs and then a CardLayout for each of the panels. When you click the button you would display the appropriate panel in the CardLayout."},{"owner":{"account_id":4542619,"reputation":8565,"user_id":3690024,"display_name":"AJNeufeld"},"score":0,"creation_date":1525141621,"post_id":50110214,"comment_id":87238595,"body_markdown":"60 tabs seems like a ridiculous quantity.  Can’t they be grouped in any fashion?  A tabbed window with 6 tabs, each containing a tabbed window with 10 tabs?  Or vis-versa?  Depending on the Look&amp;Feel, the active tab will always be moved to the row closest to the client area, so the tab with row 0 may not stay on the top.","body":"60 tabs seems like a ridiculous quantity.  Can’t they be grouped in any fashion?  A tabbed window with 6 tabs, each containing a tabbed window with 10 tabs?  Or vis-versa?  Depending on the Look&amp;Feel, the active tab will always be moved to the row closest to the client area, so the tab with row 0 may not stay on the top."},{"owner":{"account_id":53390,"reputation":4508,"user_id":159570,"display_name":"Joe Coder"},"score":0,"creation_date":1525144521,"post_id":50110214,"comment_id":87239032,"body_markdown":"When I add them in reverse order with RTL, I do not experience glitches.  See:  https://imgur.com/a/jrdfeFb","body":"When I add them in reverse order with RTL, I do not experience glitches.  See:  <a href=\"https://imgur.com/a/jrdfeFb\" rel=\"nofollow noreferrer\">imgur.com/a/jrdfeFb</a>"},{"owner":{"account_id":53390,"reputation":4508,"user_id":159570,"display_name":"Joe Coder"},"score":0,"creation_date":1525144596,"post_id":50110214,"comment_id":87239043,"body_markdown":"Also the reason your paint override method doesn&#39;t change anything is that the coordinates of the tab rectangles are precalculated.  You would have to override `BasicTabbedPaneUI::calculateTabRect` which is a big ugly method.","body":"Also the reason your paint override method doesn&#39;t change anything is that the coordinates of the tab rectangles are precalculated.  You would have to override <code>BasicTabbedPaneUI::calculateTabRect</code> which is a big ugly method."}],"answers":[{"tags":[],"owner":{"account_id":6236083,"reputation":321,"user_id":4851350,"accept_rate":55,"display_name":"Zezombye"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525182885,"creation_date":1525182330,"answer_id":50117629,"question_id":50110214,"body_markdown":"I finally found a solution.\r\n\r\nAs @Joe Coder said, you have to override the `calculateTabRects()` method. However, this method is in an inner class. There is no way to extend the `BasicTabbedPaneUI`, or the inner class, because there are just too many protected and private fields. The solution is to recreate the relevant classes by copy-pasting all their code.\r\n\r\nThe source code is from [here][1].\r\n\r\nThe relevant modification is in the `calculateTabRects()` method, more specifically in that for loop:\r\n\r\n    // Step through runs from back to front to calculate\r\n    // tab y locations and to pad runs appropriately\r\n    for (i = runCount - 1; i &gt;= 0; i--) {\r\n        //...\r\n    }\r\n\r\nSimply iterating in reverse does the trick: `for (i = 0; i &lt; runCount; i++) {...}`\r\n\r\nNow, if you copy-paste the code of the `BasicTabbedPaneUI`, you&#39;ll find that you need to also copy-paste `LazyActionMap` and `BasicGraphicsUtils`. \r\n\r\nFor convenience, here is all the code you need to copy-paste. Make sure not to override the package, if it&#39;s not in the package `javax.swing.plaf.basic` it won&#39;t work.\r\n\r\nFixedTabbedPaneUI.java: https://pastebin.com/W8RBD4vg\r\n\r\nLazyActionMap2.java: https://pastebin.com/RKtDgJB5\r\n\r\nBasicGraphicsUtils2.java: https://pastebin.com/Au4hcSyp\r\n\r\nBut, in my case, I need a `WindowsTabbedPaneUI`. So here&#39;s WindowsTabbedPaneUI2.java: https://pastebin.com/89UedgbQ\r\n\r\n..XPStyle2.java: https://pastebin.com/xCsm8DZc\r\n\r\n..and AnimationController2.java: https://pastebin.com/7Pm0s5eG\r\n\r\nThe OOP hell finishes here, but in the current state, the lines between &quot;runs&quot; (tab lines) disappear:\r\n[![enter image description here][2]][2]\r\n\r\nThe solution is to put the following after choosing the UI with `UIManager.setLookAndFeel()`:\r\n\r\n\t\tUIManager.getDefaults().put(&quot;TabbedPane.tabRunOverlay&quot;, 0);\r\n\t\tUIManager.getDefaults().put(&quot;TabbedPane.focus&quot;, new Color(0, 0, 0, 0));\r\n\r\nThe result:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://github.com/frohoff/jdk8u-dev-jdk/tree/master/src/share/classes/javax/swing/plaf/basic\r\n  [2]: https://i.stack.imgur.com/5Xl6M.png\r\n  [3]: https://i.stack.imgur.com/TfDrw.png","title":"JTabbedPane: How to order tabs from top to bottom, instead of bottom to top?","body":"<p>I finally found a solution.</p>\n\n<p>As @Joe Coder said, you have to override the <code>calculateTabRects()</code> method. However, this method is in an inner class. There is no way to extend the <code>BasicTabbedPaneUI</code>, or the inner class, because there are just too many protected and private fields. The solution is to recreate the relevant classes by copy-pasting all their code.</p>\n\n<p>The source code is from <a href=\"https://github.com/frohoff/jdk8u-dev-jdk/tree/master/src/share/classes/javax/swing/plaf/basic\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>The relevant modification is in the <code>calculateTabRects()</code> method, more specifically in that for loop:</p>\n\n<pre><code>// Step through runs from back to front to calculate\n// tab y locations and to pad runs appropriately\nfor (i = runCount - 1; i &gt;= 0; i--) {\n    //...\n}\n</code></pre>\n\n<p>Simply iterating in reverse does the trick: <code>for (i = 0; i &lt; runCount; i++) {...}</code></p>\n\n<p>Now, if you copy-paste the code of the <code>BasicTabbedPaneUI</code>, you'll find that you need to also copy-paste <code>LazyActionMap</code> and <code>BasicGraphicsUtils</code>. </p>\n\n<p>For convenience, here is all the code you need to copy-paste. Make sure not to override the package, if it's not in the package <code>javax.swing.plaf.basic</code> it won't work.</p>\n\n<p>FixedTabbedPaneUI.java: <a href=\"https://pastebin.com/W8RBD4vg\" rel=\"nofollow noreferrer\">https://pastebin.com/W8RBD4vg</a></p>\n\n<p>LazyActionMap2.java: <a href=\"https://pastebin.com/RKtDgJB5\" rel=\"nofollow noreferrer\">https://pastebin.com/RKtDgJB5</a></p>\n\n<p>BasicGraphicsUtils2.java: <a href=\"https://pastebin.com/Au4hcSyp\" rel=\"nofollow noreferrer\">https://pastebin.com/Au4hcSyp</a></p>\n\n<p>But, in my case, I need a <code>WindowsTabbedPaneUI</code>. So here's WindowsTabbedPaneUI2.java: <a href=\"https://pastebin.com/89UedgbQ\" rel=\"nofollow noreferrer\">https://pastebin.com/89UedgbQ</a></p>\n\n<p>..XPStyle2.java: <a href=\"https://pastebin.com/xCsm8DZc\" rel=\"nofollow noreferrer\">https://pastebin.com/xCsm8DZc</a></p>\n\n<p>..and AnimationController2.java: <a href=\"https://pastebin.com/7Pm0s5eG\" rel=\"nofollow noreferrer\">https://pastebin.com/7Pm0s5eG</a></p>\n\n<p>The OOP hell finishes here, but in the current state, the lines between \"runs\" (tab lines) disappear:\n<a href=\"https://i.stack.imgur.com/5Xl6M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Xl6M.png\" alt=\"enter image description here\"></a></p>\n\n<p>The solution is to put the following after choosing the UI with <code>UIManager.setLookAndFeel()</code>:</p>\n\n<pre><code>    UIManager.getDefaults().put(\"TabbedPane.tabRunOverlay\", 0);\n    UIManager.getDefaults().put(\"TabbedPane.focus\", new Color(0, 0, 0, 0));\n</code></pre>\n\n<p>The result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/TfDrw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TfDrw.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5071195,"reputation":4549,"user_id":4069913,"accept_rate":22,"display_name":"Orest Savchak"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683647776,"creation_date":1683647776,"answer_id":76211284,"question_id":50110214,"body_markdown":"You could achieve it easier by extending `BasicTabbedPaneUI` and overriding `createLayoutManager`, and in there return `TabbedPaneLayout` that override a necessary method.","title":"JTabbedPane: How to order tabs from top to bottom, instead of bottom to top?","body":"<p>You could achieve it easier by extending <code>BasicTabbedPaneUI</code> and overriding <code>createLayoutManager</code>, and in there return <code>TabbedPaneLayout</code> that override a necessary method.</p>\n"}],"owner":{"account_id":6236083,"reputation":321,"user_id":4851350,"accept_rate":55,"display_name":"Zezombye"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683647776,"creation_date":1525137226,"question_id":50110214,"body_markdown":"In a `JTabbedPane`, the order of the tabs is from bottom to top:\r\n[![enter image description here][1]][1]\r\n\r\nI would like it to be top to bottom, meaning tab0 would be at the top row, and tab60 at the bottom row.\r\n\r\nCode:\r\n\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTabbedPane;\r\n    import javax.swing.UIManager;\r\n    \r\n    public class Class1 {\r\n    \r\n    \tpublic static JTabbedPane jtp;\r\n    \t\r\n        public static void main(String[] args) {\r\n            JFrame window = new JFrame();\r\n            window.setTitle(&quot;Parent frame&quot;);\r\n            window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            window.setSize(600, 400);\r\n            window.setLocationRelativeTo(null);\r\n    \r\n            try {\r\n    \t\t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n            jtp = new JTabbedPane();\r\n            window.add(jtp);\r\n    \r\n            /*WindowsTabbedPaneUI btpui = new WindowsTabbedPaneUI() {\r\n    \t\t\t@Override protected void paintTabArea(Graphics g, int tabPlacement, int selectedIndex) {\r\n    \t\t        int tabCount = tabPane.getTabCount();\r\n    \r\n    \t\t        Rectangle iconRect = new Rectangle(),\r\n    \t\t                  textRect = new Rectangle();\r\n    \t\t        Rectangle clipRect = g.getClipBounds();\r\n    \r\n    \t\t        // Paint tabRuns of tabs from front to back\r\n    \t\t        for (int i = 0; i &lt; runCount; i++) {\r\n    \t\t            int start = tabRuns[i];\r\n    \t\t            int next = tabRuns[(i == runCount - 1)? 0 : i + 1];\r\n    \t\t            int end = (next != 0? next - 1: tabCount - 1);\r\n    \t\t            for (int j = start; j &lt;= end; j++) {\r\n    \t\t                if (j != selectedIndex &amp;&amp; rects[j].intersects(clipRect)) {\r\n    \t\t                    paintTab(g, tabPlacement, rects, j, iconRect, textRect);\r\n    \t\t                }\r\n    \t\t            }\r\n    \t\t        }\r\n    \r\n    \t\t        // Paint selected tab if its in the front run\r\n    \t\t        // since it may overlap other tabs\r\n    \t\t        if (selectedIndex &gt;= 0 &amp;&amp; rects[selectedIndex].intersects(clipRect)) {\r\n    \t\t            paintTab(g, tabPlacement, rects, selectedIndex, iconRect, textRect);\r\n    \t\t        }\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tjtp.setUI(btpui);*/\r\n    \t\t\r\n    \t\t//jtp.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt;= 60; i++) {\r\n    \t\t\tjtp.addTab(&quot;tab&quot;+i, new JPanel());\r\n    \t\t}\r\n            window.setVisible(true);\r\n        }\r\n    }\r\n\r\nI have tried overriding the `paintTabArea()` method in `WindowsTabbedPaneUI` to paint from top to bottom, but it doesn&#39;t seem to do anything.\r\n\r\nI have found 2 workarounds:\r\n\r\n- Put the tabs at the bottom so that they are aligned in the correct way (but I&#39;d like to keep them on top)\r\n\r\n- Order the tabs in reverse order, then put the component in Right-To-Left alignment. However, this creates visual glitches: the tabs at the left are too close to the border, there is a space between the tabs at the left and the others, and the tabs at the right make a dent on the border. I would also have to override the `addTab()` method, and put in LTR when there is only one line, which feels like a hack.\r\n[![][2]][2]\r\n\r\nIs there any way to do this without glitches? I guess I have to override some method from `BasicTabbedPaneUI`, but I can&#39;t find which one.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2LDMh.png\r\n  [2]: https://i.stack.imgur.com/DnoWs.png","title":"JTabbedPane: How to order tabs from top to bottom, instead of bottom to top?","body":"<p>In a <code>JTabbedPane</code>, the order of the tabs is from bottom to top:\n<a href=\"https://i.stack.imgur.com/2LDMh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2LDMh.png\" alt=\"enter image description here\"></a></p>\n\n<p>I would like it to be top to bottom, meaning tab0 would be at the top row, and tab60 at the bottom row.</p>\n\n<p>Code:</p>\n\n<pre><code>import javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTabbedPane;\nimport javax.swing.UIManager;\n\npublic class Class1 {\n\n    public static JTabbedPane jtp;\n\n    public static void main(String[] args) {\n        JFrame window = new JFrame();\n        window.setTitle(\"Parent frame\");\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        window.setSize(600, 400);\n        window.setLocationRelativeTo(null);\n\n        try {\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        jtp = new JTabbedPane();\n        window.add(jtp);\n\n        /*WindowsTabbedPaneUI btpui = new WindowsTabbedPaneUI() {\n            @Override protected void paintTabArea(Graphics g, int tabPlacement, int selectedIndex) {\n                int tabCount = tabPane.getTabCount();\n\n                Rectangle iconRect = new Rectangle(),\n                          textRect = new Rectangle();\n                Rectangle clipRect = g.getClipBounds();\n\n                // Paint tabRuns of tabs from front to back\n                for (int i = 0; i &lt; runCount; i++) {\n                    int start = tabRuns[i];\n                    int next = tabRuns[(i == runCount - 1)? 0 : i + 1];\n                    int end = (next != 0? next - 1: tabCount - 1);\n                    for (int j = start; j &lt;= end; j++) {\n                        if (j != selectedIndex &amp;&amp; rects[j].intersects(clipRect)) {\n                            paintTab(g, tabPlacement, rects, j, iconRect, textRect);\n                        }\n                    }\n                }\n\n                // Paint selected tab if its in the front run\n                // since it may overlap other tabs\n                if (selectedIndex &gt;= 0 &amp;&amp; rects[selectedIndex].intersects(clipRect)) {\n                    paintTab(g, tabPlacement, rects, selectedIndex, iconRect, textRect);\n                }\n            }\n        };\n        jtp.setUI(btpui);*/\n\n        //jtp.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);\n\n        for (int i = 0; i &lt;= 60; i++) {\n            jtp.addTab(\"tab\"+i, new JPanel());\n        }\n        window.setVisible(true);\n    }\n}\n</code></pre>\n\n<p>I have tried overriding the <code>paintTabArea()</code> method in <code>WindowsTabbedPaneUI</code> to paint from top to bottom, but it doesn't seem to do anything.</p>\n\n<p>I have found 2 workarounds:</p>\n\n<ul>\n<li><p>Put the tabs at the bottom so that they are aligned in the correct way (but I'd like to keep them on top)</p></li>\n<li><p>Order the tabs in reverse order, then put the component in Right-To-Left alignment. However, this creates visual glitches: the tabs at the left are too close to the border, there is a space between the tabs at the left and the others, and the tabs at the right make a dent on the border. I would also have to override the <code>addTab()</code> method, and put in LTR when there is only one line, which feels like a hack.\n<a href=\"https://i.stack.imgur.com/DnoWs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DnoWs.png\" alt=\"\"></a></p></li>\n</ul>\n\n<p>Is there any way to do this without glitches? I guess I have to override some method from <code>BasicTabbedPaneUI</code>, but I can't find which one.</p>\n"},{"tags":["java","rest","business-intelligence","business-objects"],"answers":[{"comments":[{"owner":{"account_id":10056831,"reputation":435,"user_id":7434767,"display_name":"Ram"},"score":0,"creation_date":1588326362,"post_id":61526486,"comment_id":108858733,"body_markdown":"I had already implemented passing higher number as page size as work around (String USER_LIST_URL = &quot;v1/users?page=1&amp;pagesize=100000&quot;) and it worked. Looking for any other solution from REST API.","body":"I had already implemented passing higher number as page size as work around (String USER_LIST_URL = &quot;v1/users?page=1&amp;pagesize=100000&quot;) and it worked. Looking for any other solution from REST API."}],"tags":[],"owner":{"account_id":542551,"reputation":10395,"user_id":911419,"accept_rate":79,"display_name":"Suncatcher"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1588259178,"creation_date":1588258839,"answer_id":61526486,"question_id":61479318,"body_markdown":"User listing is achieved through query:\n\n    GET http://&lt;baseURL&gt;/v1/users\n\nthere is a special parameter which does pagination of the response \n\n&gt; page = &lt; page number &gt;\n&gt; \n&gt;\n&gt; pagesize = &lt; number &gt;\n\nSo you don&#39;t need to know the total number of users, but just to adjust that parameter to the number of lines in your grid page and then iterate the call when you change grid page. You query could look smth like this if your grid can hold up to 20 messages:\n\n    GET http://&lt;baseURL&gt;/v1/users?sort=+name&amp;updated=2020-05-12T20:17:46.384Z,2020-08-12T20:17:46.384Z&amp;page=1&amp;pagesize=20\n\n&gt; Also, is there any way to get all available user in single request call?\n\nPassing 1 to `page` and number inherently bigger than total number of users (e.g. 1 000 000) to `pagesize` will give you the thing","title":"How to achieve pagination with BOBJ REST API?","body":"<p>User listing is achieved through query:</p>\n<pre><code>GET http://&lt;baseURL&gt;/v1/users\n</code></pre>\n<p>there is a special parameter which does pagination of the response</p>\n<blockquote>\n<p>page = &lt; page number &gt;</p>\n<p>pagesize = &lt; number &gt;</p>\n</blockquote>\n<p>So you don't need to know the total number of users, but just to adjust that parameter to the number of lines in your grid page and then iterate the call when you change grid page. You query could look smth like this if your grid can hold up to 20 messages:</p>\n<pre><code>GET http://&lt;baseURL&gt;/v1/users?sort=+name&amp;updated=2020-05-12T20:17:46.384Z,2020-08-12T20:17:46.384Z&amp;page=1&amp;pagesize=20\n</code></pre>\n<blockquote>\n<p>Also, is there any way to get all available user in single request call?</p>\n</blockquote>\n<p>Passing 1 to <code>page</code> and number inherently bigger than total number of users (e.g. 1 000 000) to <code>pagesize</code> will give you the thing</p>\n"}],"owner":{"account_id":10056831,"reputation":435,"user_id":7434767,"display_name":"Ram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61526486,"answer_count":1,"score":1,"last_activity_date":1683647621,"creation_date":1588073949,"question_id":61479318,"body_markdown":"I am trying to show the SAP BusinessObjects/Business Intelligence users in front end grid with pagination using SAP provided RESTful API, but, facing a challenge to find out the total number of pages available or total number of users available. \r\n\r\nAlso, is there any way to get all available user in single request call?","title":"How to achieve pagination with BOBJ REST API?","body":"<p>I am trying to show the SAP BusinessObjects/Business Intelligence users in front end grid with pagination using SAP provided RESTful API, but, facing a challenge to find out the total number of pages available or total number of users available. </p>\n\n<p>Also, is there any way to get all available user in single request call?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681886940,"post_id":76051455,"comment_id":134127341,"body_markdown":"Check the stacktrace. There are other parts of Spring (especially Spring Data) that require a single transactionmanger or explicitly setup with a transactionmanager.","body":"Check the stacktrace. There are other parts of Spring (especially Spring Data) that require a single transactionmanger or explicitly setup with a transactionmanager."},{"owner":{"account_id":5685185,"reputation":1923,"user_id":4494979,"display_name":"C&#224; ph&#234; đen"},"score":0,"creation_date":1681887116,"post_id":76051455,"comment_id":134127371,"body_markdown":"Specify separated `@Qualifier(&quot;someName&quot;)` for each transaction manager bean you defined to distinguish them.","body":"Specify separated <code>@Qualifier(&quot;someName&quot;)</code> for each transaction manager bean you defined to distinguish them."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681892787,"post_id":76051455,"comment_id":134128668,"body_markdown":"Please add the **full stacktrace** not just a snippet.","body":"Please add the <b>full stacktrace</b> not just a snippet."},{"owner":{"account_id":4787866,"reputation":823,"user_id":3867820,"accept_rate":22,"display_name":"Daniel Pomrehn"},"score":0,"creation_date":1681893596,"post_id":76051455,"comment_id":134128857,"body_markdown":"I added the whole stacktrace to my original posting.","body":"I added the whole stacktrace to my original posting."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681895172,"post_id":76051455,"comment_id":134129197,"body_markdown":"Looks like you are retrieving it from somewhere else, we need the stacktrace of the service handling the request, not the one issuing the request.","body":"Looks like you are retrieving it from somewhere else, we need the stacktrace of the service handling the request, not the one issuing the request."}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681889385,"post_id":76051561,"comment_id":134127902,"body_markdown":"You can just use the name and don&#39;t need an `@Qualifier`. The error is probably coming from Spring Data JPA that requires a single transaction manager or one marked as `@Primary` or explicitly setup for the different entitymanagers/datasources.","body":"You can just use the name and don&#39;t need an <code>@Qualifier</code>. The error is probably coming from Spring Data JPA that requires a single transaction manager or one marked as <code>@Primary</code> or explicitly setup for the different entitymanagers/datasources."},{"owner":{"account_id":5685185,"reputation":1923,"user_id":4494979,"display_name":"C&#224; ph&#234; đen"},"score":1,"creation_date":1681890536,"post_id":76051561,"comment_id":134128208,"body_markdown":"@M.Deinum The error OP mentioned is caused by type ambiguity in Spring context no matter Spring Data or any other packages. Yes you can resolve it simply and efficiently by using `@Primary`. The `@Qualifier` give you more controls tho. Ref: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-autowired-annotation-qualifiers","body":"@M.Deinum The error OP mentioned is caused by type ambiguity in Spring context no matter Spring Data or any other packages. Yes you can resolve it simply and efficiently by using <code>@Primary</code>. The <code>@Qualifier</code> give you more controls tho. Ref: <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-autowired-annotation-qualifiers\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1681892685,"post_id":76051561,"comment_id":134128643,"body_markdown":"no it doesn&#39;t and the erorr isn&#39;t thrown by his own services but Spring Data components, so adding qualifiers si,ply won&#39;t help.","body":"no it doesn&#39;t and the erorr isn&#39;t thrown by his own services but Spring Data components, so adding qualifiers si,ply won&#39;t help."},{"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"score":0,"creation_date":1681921207,"post_id":76051561,"comment_id":134136050,"body_markdown":"@C&#224;ph&#234;đen this error appears when &#39;someone&#39; is trying to inject the bean of this type without specifying its name or qualifier. The code by OP is not the culprit as it specifies the name in &#39;transactionManager&#39; parameter (which is alias for &#39;value&#39;). There should be some another code which requires transaction manager but does not specify the name.","body":"@C&#224;ph&#234;đen this error appears when &#39;someone&#39; is trying to inject the bean of this type without specifying its name or qualifier. The code by OP is not the culprit as it specifies the name in &#39;transactionManager&#39; parameter (which is alias for &#39;value&#39;). There should be some another code which requires transaction manager but does not specify the name."}],"tags":[],"owner":{"account_id":5685185,"reputation":1923,"user_id":4494979,"display_name":"C&#224; ph&#234; đen"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681887603,"creation_date":1681887603,"answer_id":76051561,"question_id":76051455,"body_markdown":"You have 2 ambiguous beans existing in the context. Please distinguish them by specifying a `@Qualifier` name for each bean and use it in the `@Transactional` value.\r\n\r\nRef: [Multiple Transaction Managers with @Transactional](https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#tx-multiple-tx-mgrs-with-attransactional)","title":"Multiple TransactionManagers in SpringBoot @Transactional not working?","body":"<p>You have 2 ambiguous beans existing in the context. Please distinguish them by specifying a <code>@Qualifier</code> name for each bean and use it in the <code>@Transactional</code> value.</p>\n<p>Ref: <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#tx-multiple-tx-mgrs-with-attransactional\" rel=\"nofollow noreferrer\">Multiple Transaction Managers with @Transactional</a></p>\n"},{"tags":[],"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683647468,"creation_date":1681931762,"answer_id":76058088,"question_id":76051455,"body_markdown":"### Explanation\r\n\r\nThe use of multiple transaction managers of same priority (i.e., without `@Primary` annotation on one of them) in your Spring context is totally fine if you carefully look after their usages and always use the specific ones.\r\n\r\nThe error that you are facing is most probably due to use of `@Transactional` without specifying correct `transactionManager`. In this case, Spring Framework implicitly injects TransactionManager from the context (and assumes that there is a single match which is not your case).\r\n\r\nIt&#39;s worth looking through your project and / or its dependencies and you will probably find either a `@Transactional` method which is being called or explicit injection of a `@TransactionManager`.\r\n\r\n### Example\r\n\r\nFor instance, suppose that you have a configuration\r\n```\r\n@Configuration\r\npublic class TransactionManagerConfig {\r\n\r\n  @Bean\r\n  public TransactionManager firstTransactionManager() {\r\n    return new CustomTransactionManager();\r\n  }\r\n\r\n  @Bean\r\n  public TransactionManager secondTransactionManager() {\r\n    return new CustomTransactionManager();\r\n  }\r\n}\r\n```\r\n(where `CustomTransactionManager` is some your implementation)\r\n\r\nand a repository with 2 methods which use each of the transaction managers:\r\n\r\n```\r\n@Repository\r\npublic class GeneralEntityRepository {\r\n\r\n  @PersistenceContext\r\n  private EntityManager entityManager;\r\n\r\n  @Transactional(&quot;firstTransactionManager&quot;)\r\n  public GeneralEntity getGeneralEntityWithId1() {\r\n    return entityManager.find(GeneralEntity.class, 1);\r\n  }\r\n\r\n  @Transactional(&quot;secondTransactionManager&quot;)\r\n  public GeneralEntity getGeneralEntityWithId2() {\r\n    return entityManager.find(GeneralEntity.class, 2);\r\n  }\r\n}\r\n\r\n```\r\nthen everything will work fine as Spring knows which manager to use.\r\n\r\nHowever, if you add a third method without explicit transaction manager specification:\r\n```\r\n  @Transactional\r\n  public GeneralEntity getGeneralEntityWithId3() {\r\n    return entityManager.find(GeneralEntity.class, 2);\r\n  }\r\n```\r\n\r\nthen you will get an exception upon calling it:\r\n```\r\n// this is ok\r\nGeneralEntity entity1 = generalEntityRepository.getGeneralEntityWithId1();\r\n\r\n// this is also ok\r\nGeneralEntity entity2 = generalEntityRepository.getGeneralEntityWithId2();\r\n    \r\n// this produces an exception\r\nGeneralEntity entity3 = generalEntityRepository.getGeneralEntityWithId3();\r\nSystem.out.println(&quot;GeneralEntity with id 3 = &quot; + entity3);\r\n```\r\n\r\n```\r\norg.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type &#39;org.springframework.transaction.TransactionManager&#39; available: expected single matching bean but found 2: firstTransactionManager,secondTransactionManager\r\n```\r\n\r\nThis can be fixed by either specifying the transaction manager in `@Transactional` or by annotating one of them as `@Primary`.\r\n\r\nSee more information about `@Transactional` annotation in the official doc: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html","title":"Multiple TransactionManagers in SpringBoot @Transactional not working?","body":"<h3>Explanation</h3>\n<p>The use of multiple transaction managers of same priority (i.e., without <code>@Primary</code> annotation on one of them) in your Spring context is totally fine if you carefully look after their usages and always use the specific ones.</p>\n<p>The error that you are facing is most probably due to use of <code>@Transactional</code> without specifying correct <code>transactionManager</code>. In this case, Spring Framework implicitly injects TransactionManager from the context (and assumes that there is a single match which is not your case).</p>\n<p>It's worth looking through your project and / or its dependencies and you will probably find either a <code>@Transactional</code> method which is being called or explicit injection of a <code>@TransactionManager</code>.</p>\n<h3>Example</h3>\n<p>For instance, suppose that you have a configuration</p>\n<pre><code>@Configuration\npublic class TransactionManagerConfig {\n\n  @Bean\n  public TransactionManager firstTransactionManager() {\n    return new CustomTransactionManager();\n  }\n\n  @Bean\n  public TransactionManager secondTransactionManager() {\n    return new CustomTransactionManager();\n  }\n}\n</code></pre>\n<p>(where <code>CustomTransactionManager</code> is some your implementation)</p>\n<p>and a repository with 2 methods which use each of the transaction managers:</p>\n<pre><code>@Repository\npublic class GeneralEntityRepository {\n\n  @PersistenceContext\n  private EntityManager entityManager;\n\n  @Transactional(&quot;firstTransactionManager&quot;)\n  public GeneralEntity getGeneralEntityWithId1() {\n    return entityManager.find(GeneralEntity.class, 1);\n  }\n\n  @Transactional(&quot;secondTransactionManager&quot;)\n  public GeneralEntity getGeneralEntityWithId2() {\n    return entityManager.find(GeneralEntity.class, 2);\n  }\n}\n\n</code></pre>\n<p>then everything will work fine as Spring knows which manager to use.</p>\n<p>However, if you add a third method without explicit transaction manager specification:</p>\n<pre><code>  @Transactional\n  public GeneralEntity getGeneralEntityWithId3() {\n    return entityManager.find(GeneralEntity.class, 2);\n  }\n</code></pre>\n<p>then you will get an exception upon calling it:</p>\n<pre><code>// this is ok\nGeneralEntity entity1 = generalEntityRepository.getGeneralEntityWithId1();\n\n// this is also ok\nGeneralEntity entity2 = generalEntityRepository.getGeneralEntityWithId2();\n    \n// this produces an exception\nGeneralEntity entity3 = generalEntityRepository.getGeneralEntityWithId3();\nSystem.out.println(&quot;GeneralEntity with id 3 = &quot; + entity3);\n</code></pre>\n<pre><code>org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'org.springframework.transaction.TransactionManager' available: expected single matching bean but found 2: firstTransactionManager,secondTransactionManager\n</code></pre>\n<p>This can be fixed by either specifying the transaction manager in <code>@Transactional</code> or by annotating one of them as <code>@Primary</code>.</p>\n<p>See more information about <code>@Transactional</code> annotation in the official doc: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Transactional.html</a></p>\n"}],"owner":{"account_id":4787866,"reputation":823,"user_id":3867820,"accept_rate":22,"display_name":"Daniel Pomrehn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":588,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1683647468,"creation_date":1681886650,"question_id":76051455,"body_markdown":"I have created two spring boot custom startes which access each different Databases. \r\nThis starters can be included in other projects as a dependency to handle all database access. \r\nIt might be possible that they are both included, but it may also be possible that only one of them is included - depending of the kind of project. \r\n\r\nNow I have a project which needs both of them. And I am getting the following error: \r\n````\r\nNo qualifying bean of type &#39;org.springframework.transaction.TransactionManager&#39; available: expected single matching bean but found 2: db1TransactionManager,db2TransactionManager\r\n````\r\n\r\nIn both custom startes I have annotated the service class by defining the Transactionmanager to be used: \r\n\r\nStarter 1:\r\n````\r\n@Transactional(transactionManager = &quot;db1TransactionManager&quot;)\r\npublic class Db1ServiceImpl implements Db1Service {\r\n````\r\n\r\nStarter 2:\r\n````\r\n@Transactional(transactionManager = &quot;db2TransactionManager&quot;)\r\npublic class Db2ServiceImpl implements Db2Service {\r\n````\r\n\r\nAm I missing something additional? I would have expected that using @Transactional will be enough? \r\n\r\nHere is the full stacktrace of the error: \r\n````\r\norg.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : &quot;{&quot;timestamp&quot;:&quot;2023-04-19T07:31:58.223+02:00&quot;,&quot;message&quot;:&quot;Unexpected error&quot;,&quot;detailedMessage&quot;:&quot;No qualifying bean of type &#39;org.springframework.transaction.TransactionManager&#39; available: expected single matching bean but found 2: db1TransactionManager,db2TransactionManager&quot;,&quot;errorCode&quot;:&quot;-1&quot;,&quot;stacktrace&quot;:null,&quot;exceptionType&quot;:null,&quot;subErrors&quot;:null}&quot;\r\n\tat org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:100) ~[spring-web-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:170) ~[spring-web-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.23.jar!/:5.3.23]\r\n\tat com.service.controller.MgmController.getAll(MgmController.java:32) ~[classes!/:1.0.0]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor58.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.23.jar!/:5.3.23]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670) ~[tomcat-embed-core-9.0.68.jar!/:4.0.1]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar!/:5.3.23]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.68.jar!/:4.0.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.68.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:237) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:223) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.saml2.provider.service.servlet.filter.Saml2WebSsoAuthenticationRequestFilter.doFilterInternal(Saml2WebSsoAuthenticationRequestFilter.java:192) ~[spring-security-saml2-service-provider-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.4.jar!/:5.7.4]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.23.jar!/:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar!/:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar!/:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.5.jar!/:2.7.5]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar!/:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar!/:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar!/:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:769) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar!/:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\n````","title":"Multiple TransactionManagers in SpringBoot @Transactional not working?","body":"<p>I have created two spring boot custom startes which access each different Databases.\nThis starters can be included in other projects as a dependency to handle all database access.\nIt might be possible that they are both included, but it may also be possible that only one of them is included - depending of the kind of project.</p>\n<p>Now I have a project which needs both of them. And I am getting the following error:</p>\n<pre><code>No qualifying bean of type 'org.springframework.transaction.TransactionManager' available: expected single matching bean but found 2: db1TransactionManager,db2TransactionManager\n</code></pre>\n<p>In both custom startes I have annotated the service class by defining the Transactionmanager to be used:</p>\n<p>Starter 1:</p>\n<pre><code>@Transactional(transactionManager = &quot;db1TransactionManager&quot;)\npublic class Db1ServiceImpl implements Db1Service {\n</code></pre>\n<p>Starter 2:</p>\n<pre><code>@Transactional(transactionManager = &quot;db2TransactionManager&quot;)\npublic class Db2ServiceImpl implements Db2Service {\n</code></pre>\n<p>Am I missing something additional? I would have expected that using @Transactional will be enough?</p>\n<p>Here is the full stacktrace of the error:</p>\n<pre><code>org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : &quot;{&quot;timestamp&quot;:&quot;2023-04-19T07:31:58.223+02:00&quot;,&quot;message&quot;:&quot;Unexpected error&quot;,&quot;detailedMessage&quot;:&quot;No qualifying bean of type 'org.springframework.transaction.TransactionManager' available: expected single matching bean but found 2: db1TransactionManager,db2TransactionManager&quot;,&quot;errorCode&quot;:&quot;-1&quot;,&quot;stacktrace&quot;:null,&quot;exceptionType&quot;:null,&quot;subErrors&quot;:null}&quot;\n    at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:100) ~[spring-web-5.3.23.jar!/:5.3.23]\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:170) ~[spring-web-5.3.23.jar!/:5.3.23]\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122) ~[spring-web-5.3.23.jar!/:5.3.23]\n    at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-5.3.23.jar!/:5.3.23]\n    at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819) ~[spring-web-5.3.23.jar!/:5.3.23]\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777) ~[spring-web-5.3.23.jar!/:5.3.23]\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711) ~[spring-web-5.3.23.jar!/:5.3.23]\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602) ~[spring-web-5.3.23.jar!/:5.3.23]\n    at com.service.controller.MgmController.getAll(MgmController.java:32) ~[classes!/:1.0.0]\n    at jdk.internal.reflect.GeneratedMethodAccessor58.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar!/:5.3.23]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar!/:5.3.23]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar!/:5.3.23]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar!/:5.3.23]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar!/:5.3.23]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar!/:5.3.23]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar!/:5.3.23]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar!/:5.3.23]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar!/:5.3.23]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.23.jar!/:5.3.23]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:670) ~[tomcat-embed-core-9.0.68.jar!/:4.0.1]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar!/:5.3.23]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.68.jar!/:4.0.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.68.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar!/:5.3.23]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:237) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:223) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.saml2.provider.service.servlet.filter.Saml2WebSsoAuthenticationRequestFilter.doFilterInternal(Saml2WebSsoAuthenticationRequestFilter.java:192) ~[spring-security-saml2-service-provider-5.7.4.jar!/:5.7.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar!/:5.3.23]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar!/:5.3.23]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar!/:5.3.23]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar!/:5.3.23]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.4.jar!/:5.7.4]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.23.jar!/:5.3.23]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.23.jar!/:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar!/:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar!/:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar!/:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar!/:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.5.jar!/:2.7.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar!/:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar!/:5.3.23]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar!/:5.3.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:769) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar!/:na]\n    at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"score":4,"creation_date":1457785599,"post_id":35957610,"comment_id":59570560,"body_markdown":"It&#39;s a matter of style - I personally prefer the first one.","body":"It&#39;s a matter of style - I personally prefer the first one."},{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":2,"creation_date":1457785655,"post_id":35957610,"comment_id":59570578,"body_markdown":"There is no right or wrong answer here.  It is what you and your team find the most readable.","body":"There is no right or wrong answer here.  It is what you and your team find the most readable."},{"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"score":0,"creation_date":1457788726,"post_id":35957610,"comment_id":59571526,"body_markdown":"matter of taste. the second one produces more code lines... and makes code more unreadable...","body":"matter of taste. the second one produces more code lines... and makes code more unreadable..."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1683647194,"post_id":35957610,"comment_id":134397120,"body_markdown":"Please review *[Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/)* (e.g., *&quot;Images should only be used to illustrate problems that* ***can&#39;t be made clear in any other way,*** *such as to provide screenshots of a user interface.&quot;*).","body":"Please review <i><a href=\"https://meta.stackoverflow.com/questions/285551/\">Why not upload images of code/errors when asking a question?</a></i> (e.g., <i>&quot;Images should only be used to illustrate problems that</i> <b><i>can&#39;t be made clear in any other way,</i></b> <i>such as to provide screenshots of a user interface.&quot;</i>)."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1683647452,"post_id":35957610,"comment_id":134397180,"body_markdown":"Even if it was on-topic it would probably be closed as a duplicate.","body":"Even if it was on-topic it would probably be closed as a duplicate."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1683647489,"post_id":35957610,"comment_id":134397186,"body_markdown":"None of the answers really address *&quot;what are the types of people&quot;*. Since it is from some presentation slide, it is really a human search engine question (who knows the (original) presentation and the required context to properly answer that question. The presenter probably had something very specific in mind—perhaps as some kind of a joke?)","body":"None of the answers really address <i>&quot;what are the types of people&quot;</i>. Since it is from some presentation slide, it is really a human search engine question (who knows the (original) presentation and the required context to properly answer that question. The presenter probably had something very specific in mind—perhaps as some kind of a joke?)"}],"answers":[{"comments":[{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":1,"creation_date":1457785847,"post_id":35957646,"comment_id":59570651,"body_markdown":"As it is a matter of preferance, this isn&#39;t an answer.","body":"As it is a matter of preferance, this isn&#39;t an answer."}],"tags":[],"owner":{"account_id":1059648,"reputation":1654,"user_id":1061543,"accept_rate":80,"display_name":"Greg Witczak"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683647374,"creation_date":1457785791,"answer_id":35957646,"question_id":35957610,"body_markdown":"I&#39;d say that it&#39;s up to you to decide, which one suits you best. Also, from what I know, some languages are encouraging to use a specific style:\r\n\r\n**Java** prefers *[camelCase][1]* and \r\n\r\n    if (true) {\r\n    }\r\n\r\n**C#** *[PascalCase][1]* and \r\n\r\n    if (true)\r\n    {\r\n    }\r\n\r\nHowever, it&#39;s important to keep the style consistent in the project. If you mix styles in a single file / project, that&#39;s bad practice.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Camel_case\r\n\r\n","title":"Coding style: curly bracket after &#39;if&#39; statement","body":"<p>I'd say that it's up to you to decide, which one suits you best. Also, from what I know, some languages are encouraging to use a specific style:</p>\n<p><strong>Java</strong> prefers <em><a href=\"https://en.wikipedia.org/wiki/Camel_case\" rel=\"nofollow noreferrer\">camelCase</a></em> and</p>\n<pre><code>if (true) {\n}\n</code></pre>\n<p><strong>C#</strong> <em><a href=\"https://en.wikipedia.org/wiki/Camel_case\" rel=\"nofollow noreferrer\">PascalCase</a></em> and</p>\n<pre><code>if (true)\n{\n}\n</code></pre>\n<p>However, it's important to keep the style consistent in the project. If you mix styles in a single file / project, that's bad practice.</p>\n"},{"tags":[],"owner":{"account_id":1500964,"reputation":49992,"user_id":1405634,"accept_rate":63,"display_name":"Prisoner"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1457785936,"creation_date":1457785936,"answer_id":35957678,"question_id":35957610,"body_markdown":"Although this is very much a matter of style, the &quot;Java way&quot; of doing it has always been to put the opening brace on the same line as the statement it is attached to. So\r\n\r\n    if(condition) {\r\n    }\r\n\r\nis the suggested way of doing it. Who suggests this? Well, [Sun did][1] (and now Oracle maintains that page, too). And [Google does][2].\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/documentation/codeconventions-142311.html#449\r\n  [2]: https://google.github.io/styleguide/javaguide.html#s4.1-braces\r\n","title":"Coding style: curly bracket after &#39;if&#39; statement","body":"<p>Although this is very much a matter of style, the \"Java way\" of doing it has always been to put the opening brace on the same line as the statement it is attached to. So</p>\n\n<pre><code>if(condition) {\n}\n</code></pre>\n\n<p>is the suggested way of doing it. Who suggests this? Well, <a href=\"http://www.oracle.com/technetwork/java/javase/documentation/codeconventions-142311.html#449\" rel=\"noreferrer\">Sun did</a> (and now Oracle maintains that page, too). And <a href=\"https://google.github.io/styleguide/javaguide.html#s4.1-braces\" rel=\"noreferrer\">Google does</a>.</p>\n"},{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457786473,"creation_date":1457786473,"answer_id":35957750,"question_id":35957610,"body_markdown":"As other has written, there are certain standards that promote\r\n\r\n    if (whatever) {\r\n    }\r\n\r\nas the &quot;better&quot; solution. \r\n\r\nIn that sense, &quot;better&quot; actually means:\r\n\r\n - the majority of Java programmers is used to this style\r\n - therefore, for the majority of programmers, it will be easier to read code that is following the common styles\r\n - or vice versa: if you deviate from the common standards, everybody reading your source code will burn unnecessary brain cpu cycles to accustom to that deviating style\r\n\r\n(and keep in mind: normally, source code is written &quot;once&quot;; but read maybe hundreds or thousands of time. thus &quot;wasting brain cpu&quot; is a **serious** issue)\r\n\r\nBut, on the other hand, the answer is: it depends.\r\n\r\nMy personal experience is: if you are following a consistent style, then the details of that style do not matter too much. You see, if your company has its own style conventions; and everybody is following those ... then you have to adapt. Period. And honestly: it is not that hard. I was asked to use all kinds of style conventions. And you simply adapt. It might take some time, but in the end, you will have no problems reading/writing code that maybe says\r\n\r\n    if (whatever)\r\n    {\r\n\r\nSo, when your team says: for our own good reasons, everybody has to use that second style, then that&#39;s it. \r\n\r\nBut if you are working on open source, or you are the person defining the style to use - then simply stay close to the &quot;official&quot; conventions from Oracle.\r\n\r\nAnd final note: code formatting is a tooling question. You make sure that you specify your style convention so that your IDE can enforce it. Then you are even free to use your very personal style - just reformat source upon checkout; and turn back into &quot;other peoples style&quot; prior checkin to you source code repository.","title":"Coding style: curly bracket after &#39;if&#39; statement","body":"<p>As other has written, there are certain standards that promote</p>\n\n<pre><code>if (whatever) {\n}\n</code></pre>\n\n<p>as the \"better\" solution. </p>\n\n<p>In that sense, \"better\" actually means:</p>\n\n<ul>\n<li>the majority of Java programmers is used to this style</li>\n<li>therefore, for the majority of programmers, it will be easier to read code that is following the common styles</li>\n<li>or vice versa: if you deviate from the common standards, everybody reading your source code will burn unnecessary brain cpu cycles to accustom to that deviating style</li>\n</ul>\n\n<p>(and keep in mind: normally, source code is written \"once\"; but read maybe hundreds or thousands of time. thus \"wasting brain cpu\" is a <strong>serious</strong> issue)</p>\n\n<p>But, on the other hand, the answer is: it depends.</p>\n\n<p>My personal experience is: if you are following a consistent style, then the details of that style do not matter too much. You see, if your company has its own style conventions; and everybody is following those ... then you have to adapt. Period. And honestly: it is not that hard. I was asked to use all kinds of style conventions. And you simply adapt. It might take some time, but in the end, you will have no problems reading/writing code that maybe says</p>\n\n<pre><code>if (whatever)\n{\n</code></pre>\n\n<p>So, when your team says: for our own good reasons, everybody has to use that second style, then that's it. </p>\n\n<p>But if you are working on open source, or you are the person defining the style to use - then simply stay close to the \"official\" conventions from Oracle.</p>\n\n<p>And final note: code formatting is a tooling question. You make sure that you specify your style convention so that your IDE can enforce it. Then you are even free to use your very personal style - just reformat source upon checkout; and turn back into \"other peoples style\" prior checkin to you source code repository.</p>\n"}],"owner":{"account_id":7525842,"reputation":45,"user_id":5716044,"display_name":"Tejas Desai"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2905,"favorite_count":0,"down_vote_count":6,"up_vote_count":3,"closed_date":1457794479,"answer_count":3,"score":-3,"last_activity_date":1683647374,"creation_date":1457785539,"question_id":35957610,"body_markdown":"Which coding style is better and what are the types of people in the image programmers will know?\r\n\r\n[![Enter image description here][1]][1]\r\n\r\nWhich is better as a good programmer?\r\n\r\nFirst writing curly braces after *if* statements or curly braces on a new line after the *if* statement?\r\n\r\n      if(condition){\r\n      }\r\n\r\n      if(condition)\r\n      {\r\n      }\r\n\r\n  [1]: http://i.stack.imgur.com/Wc2Kk.jpg\r\n\r\n","title":"Coding style: curly bracket after &#39;if&#39; statement","body":"<p>Which coding style is better and what are the types of people in the image programmers will know?</p>\n<p><a href=\"https://i.stack.imgur.com/Wc2Kk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wc2Kk.jpg\" alt=\"Enter image description here\" /></a></p>\n<p>Which is better as a good programmer?</p>\n<p>First writing curly braces after <em>if</em> statements or curly braces on a new line after the <em>if</em> statement?</p>\n<pre><code>  if(condition){\n  }\n\n  if(condition)\n  {\n  }\n</code></pre>\n"},{"tags":["java","owasp","veracode","xxe"],"owner":{"account_id":5431222,"reputation":382,"user_id":4322031,"accept_rate":50,"display_name":"Drew Stevens"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683647338,"creation_date":1683647338,"question_id":76211218,"body_markdown":"I&#39;m receiving a Veracode error CWE 611, flagging a block with the following code:\r\n\r\n        public static  &lt;T&gt; T toObject( JAXBContext jaxbContext, String xml )\r\n            throws JAXBException, XMLStreamException {\r\n        XMLInputFactory xif = XMLInputFactory.newFactory();\r\n        xif.setProperty(XMLInputFactory.IS_SUPPORTING_EXTERNAL_ENTITIES, false);\r\n        xif.setProperty(XMLInputFactory.SUPPORT_DTD, false);\r\n        xif.setProperty(XMLInputFactory.IS_NAMESPACE_AWARE, false);\r\n        XMLStreamReader xsr = xif.createXMLStreamReader(new StringReader( xml ));\r\n        var unmarshaller = jaxbContext.createUnmarshaller();\r\n        return  (T) unmarshaller.unmarshal(xsr);\r\n    }\r\n\r\nThis seems to conform with the OWASP cheatsheet for preventing XXE attacks: https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html#xmlinputfactory-a-stax-parser\r\n\r\nWhat flag am I failing to see and set to prevent an XXE attack?","title":"Unexpected Veracode error &quot;Improper Restriction of XML External Entity Reference (CWE ID 611)&quot; (XMLInputFactory vulnerable to XXE)","body":"<p>I'm receiving a Veracode error CWE 611, flagging a block with the following code:</p>\n<pre><code>    public static  &lt;T&gt; T toObject( JAXBContext jaxbContext, String xml )\n        throws JAXBException, XMLStreamException {\n    XMLInputFactory xif = XMLInputFactory.newFactory();\n    xif.setProperty(XMLInputFactory.IS_SUPPORTING_EXTERNAL_ENTITIES, false);\n    xif.setProperty(XMLInputFactory.SUPPORT_DTD, false);\n    xif.setProperty(XMLInputFactory.IS_NAMESPACE_AWARE, false);\n    XMLStreamReader xsr = xif.createXMLStreamReader(new StringReader( xml ));\n    var unmarshaller = jaxbContext.createUnmarshaller();\n    return  (T) unmarshaller.unmarshal(xsr);\n}\n</code></pre>\n<p>This seems to conform with the OWASP cheatsheet for preventing XXE attacks: <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html#xmlinputfactory-a-stax-parser\" rel=\"nofollow noreferrer\">https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html#xmlinputfactory-a-stax-parser</a></p>\n<p>What flag am I failing to see and set to prevent an XXE attack?</p>\n"},{"tags":["java","spring","rest","swagger","swagger-ui"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1683648033,"post_id":76211197,"comment_id":134397330,"body_markdown":"The annotations may have changed, but [this](https://stackoverflow.com/a/41503977/6650475) should help.","body":"The annotations may have changed, but <a href=\"https://stackoverflow.com/a/41503977/6650475\">this</a> should help."}],"owner":{"account_id":7566991,"reputation":73,"user_id":5742135,"display_name":"Hasith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683647238,"creation_date":1683647238,"question_id":76211197,"body_markdown":"In my spring boot app, in the rest endpoint I am accepting a pageable object as a parameter. But in the Swagger UI the default value for the sort variable is shown as [&quot;string&quot;]. Is there a way to make it [] or [&quot;id&quot;] so it won&#39;t throw an exception.\r\n\r\nDefault Pageable object in the swagger UI\r\n\r\n    {\r\n     &quot;page&quot;: 0,\r\n     &quot;size&quot;: 1,\r\n     &quot;sort&quot;: [\r\n       &quot;string&quot;\r\n     ]\r\n    }\r\n\r\nEndpoint\r\n\r\n    public ResponseListDTO&lt;?&gt; getAllNames(Pageable pageable) {..}","title":"Swagger UI Pageable object sort variable is defaulted to &quot;string&quot;","body":"<p>In my spring boot app, in the rest endpoint I am accepting a pageable object as a parameter. But in the Swagger UI the default value for the sort variable is shown as [&quot;string&quot;]. Is there a way to make it [] or [&quot;id&quot;] so it won't throw an exception.</p>\n<p>Default Pageable object in the swagger UI</p>\n<pre><code>{\n &quot;page&quot;: 0,\n &quot;size&quot;: 1,\n &quot;sort&quot;: [\n   &quot;string&quot;\n ]\n}\n</code></pre>\n<p>Endpoint</p>\n<pre><code>public ResponseListDTO&lt;?&gt; getAllNames(Pageable pageable) {..}\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","liquibase","snakeyaml"],"comments":[{"owner":{"account_id":101001,"reputation":119808,"user_id":271959,"display_name":"Frank Heikens"},"score":0,"creation_date":1683697739,"post_id":76210956,"comment_id":134404321,"body_markdown":"&quot;database-name&quot; can be translated to &quot;database minus name&quot;. You could use an underscore _ to solve the issue","body":"&quot;database-name&quot; can be translated to &quot;database minus name&quot;. You could use an underscore _ to solve the issue"},{"owner":{"account_id":11912039,"reputation":388,"user_id":8716970,"accept_rate":100,"display_name":"Amine Choukri"},"score":0,"creation_date":1683704968,"post_id":76210956,"comment_id":134405727,"body_markdown":"I can&#39;t change the name of the database i found this work around : \nSystem.setProperty(GlobalConfiguration.PRESERVE_SCHEMA_CASE.getKey(), &quot;true&quot;);\nbut i don&#39;t know where to put it !","body":"I can&#39;t change the name of the database i found this work around :  System.setProperty(GlobalConfiguration.PRESERVE_SCHEMA_CASE.&zwnj;&#8203;getKey(), &quot;true&quot;); but i don&#39;t know where to put it !"}],"owner":{"account_id":11912039,"reputation":388,"user_id":8716970,"accept_rate":100,"display_name":"Amine Choukri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":424,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1683646933,"creation_date":1683645825,"question_id":76210956,"body_markdown":"I want to migrate snakeyaml to 2.0 and that forced me to migrate liquibase from 4.9.0 to 4.21.1 \r\nsame for spring boot from 2.5.13 to 2.7.x\r\n\r\nbut I get this error of liquibase : \r\n\r\n   \r\n\r\n     Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.LockException: liquibase.exception.DatabaseException: ERROR: syntax error at or near &quot;-&quot;\r\n          Position&#160;: 24 [Failed SQL: (0) SET SEARCH_PATH TO database-name, &quot;$user&quot;,&quot;database-name&quot;]\r\n        \tat liquibase.command.CommandScope.execute(CommandScope.java:235)\r\n        \tat liquibase.Liquibase.lambda$update$0(Liquibase.java:237)\r\n        \tat liquibase.Scope.lambda$child$0(Scope.java:194)\r\n        \tat liquibase.Scope.child(Scope.java:203)\r\n        \tat liquibase.Scope.child(Scope.java:193)\r\n        \tat liquibase.Scope.child(Scope.java:172)\r\n        \tat liquibase.Liquibase.runInScope(Liquibase.java:1618)\r\n        \tat liquibase.Liquibase.update(Liquibase.java:229)\r\n        \tat liquibase.Liquibase.update(Liquibase.java:213)\r\n        \tat liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)\r\n        \tat liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\r\n        \t... 160 common frames omitted\r\n        Caused by: liquibase.exception.LockException: liquibase.exception.DatabaseException: ERROR: syntax error at or near &quot;-&quot;\r\n          Position&#160;: 24 [Failed SQL: (0) SET SEARCH_PATH TO database-name, &quot;$user&quot;,&quot;database-name&quot;]\r\n        \tat liquibase.lockservice.StandardLockService.acquireLock(StandardLockService.java:337)\r\n        \tat liquibase.lockservice.StandardLockService.waitForLock(StandardLockService.java:254)\r\n        \tat liquibase.command.core.helpers.LockServiceCommandStep.run(LockServiceCommandStep.java:38)\r\n        \tat liquibase.command.CommandScope.execute(CommandScope.java:212)\r\n        \t... 172 common frames omitted\r\n        Caused by: liquibase.exception.DatabaseException: ERROR: syntax error at or near &quot;-&quot;\r\n          Position&#160;: 24 [Failed SQL: (0) SET SEARCH_PATH TO database-name, &quot;$user&quot;,&quot;database-name&quot;]\r\n        \tat liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:445)\r\n        \tat liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77)\r\n        \tat liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:160)\r\n        \tat liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:125)\r\n        \tat liquibase.database.core.DatabaseUtils.initializeDatabase(DatabaseUtils.java:61)\r\n        \tat liquibase.database.core.PostgresDatabase.rollback(PostgresDatabase.java:403)\r\n        \tat liquibase.lockservice.StandardLockService.acquireLock(StandardLockService.java:292)\r\n        \t... 175 common frames omitted\r\n        Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;-&quot;\r\n          Position&#160;: 24\r\n        \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)\r\n        \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)\r\n        \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)\r\n        \tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)\r\n        \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)\r\n        \tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)\r\n        \tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)\r\n        \tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)\r\n        \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)\r\n        \tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)\r\n        \tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)\r\n        \tat liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:441)\r\n        \t... 181 common frames omitted\r\n\r\n  I couldn&#39;t understand the error. I tried to add quotes on the database name on the application-common.yml but nothing changed. \r\n\r\nIs there a problem with the version compatibilities or should I update something in the code?\r\n \r\nThis is my pom.xml with the new versions I put:\r\n\r\nif something else needed I can provide\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;!-- Add AF (or KL) parent pom --&gt;\r\n    \t&lt;parent&gt;\r\n    \t    &lt;groupId&gt;com.afklm.maven.pom&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;af-projects-pom&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;5.3.1&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;groupId&gt;com.afklm.mcfc&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mcfc-ss&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.0.0-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;mcfc-ss&lt;/name&gt;\r\n    \t&lt;description&gt;Management of Commercial and Facilities Cards&lt;/description&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;8&lt;/java.version&gt;\r\n    \t\t&lt;sonar.java.source&gt;1.8&lt;/sonar.java.source&gt;\r\n    \t\t&lt;sonar.java.target&gt;1.8&lt;/sonar.java.target&gt;\r\n    \t\t\r\n    \t\t&lt;spring-boot.version&gt;2.7.11&lt;/spring-boot.version&gt;\r\n    \t\t\r\n    \t\t&lt;h2.version&gt;2.1.212&lt;/h2.version&gt;\r\n    \t\t&lt;postgresql.version&gt;42.6.0&lt;/postgresql.version&gt; &lt;!-- TODO get the official version OR get version from parent AFKL POM ? --&gt;\r\n    \t\t&lt;liquibase.version&gt;4.21.1&lt;/liquibase.version&gt;\r\n    \t\t&lt;hibernate-custom-dialect.version&gt;1.0.0&lt;/hibernate-custom-dialect.version&gt;\r\n    \t\t\r\n    \t\t&lt;habile.version&gt;3.0.5&lt;/habile.version&gt;\r\n    \t\t&lt;habile-simul.version&gt;3.1.1&lt;/habile-simul.version&gt;\r\n    \t\t&lt;sdfw.version&gt;3.2.3&lt;/sdfw.version&gt; &lt;!-- v3.3.3 n&#39;accepte pas les d&#233;finitions de WS contenant des variables comme sdfw.ws.id... devrait &#234;tre fix&#233; plus tard... --&gt;\r\n    \t\t&lt;ws-security.version&gt;1.0&lt;/ws-security.version&gt;\r\n    \t\t\r\n    \t\t&lt;snakeyaml.version&gt;2.0&lt;/snakeyaml.version&gt;\r\n    \t\t&lt;cucumber.version&gt;4.2.6&lt;/cucumber.version&gt;\r\n    \t\t&lt;lombok.version&gt;1.18.8&lt;/lombok.version&gt;\r\n    \t\t&lt;xbean.version&gt;3.11.1&lt;/xbean.version&gt;\r\n            &lt;togglz.version&gt;2.6.1.Final&lt;/togglz.version&gt;\r\n    \t\t&lt;glassfish-plf.version&gt;4.1.1&lt;/glassfish-plf.version&gt;\r\n            \r\n    \t\t&lt;kafka-clients.version&gt;1.0.0&lt;/kafka-clients.version&gt;\r\n    \t\t&lt;como-logback-appender.version&gt;1.0.2&lt;/como-logback-appender.version&gt;\r\n            &lt;logback-contrib.version&gt;0.1.5&lt;/logback-contrib.version&gt;\r\n            \r\n            &lt;janino.version&gt;3.0.6&lt;/janino.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2020.0.5&lt;/spring-cloud.version&gt;\r\n    \t\t\r\n            &lt;sonar.coverage.exclusions&gt;\r\n    \t       **/com/afklm/mcfc/api/**/*,\r\n    \t       **/com/afklm/mcfc/commons/datamodel/**/entity/**/*,\r\n    \t       **/com/afklm/mcfc/commons/dto/**/*,\r\n    \t       **/com/afklm/mcfc/commons/externalws/impl/**/*\r\n    \t    &lt;/sonar.coverage.exclusions&gt;\r\n    \t\t\r\n    \t&lt;/properties&gt;\r\n        \r\n        &lt;modules&gt;\r\n            &lt;module&gt;mcfcCommons&lt;/module&gt;\r\n            &lt;module&gt;mcfcApi&lt;/module&gt;\r\n            &lt;module&gt;mcfcBatchs&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n    \r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n    \t            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n    \t            &lt;type&gt;pom&lt;/type&gt;\r\n    \t            &lt;scope&gt;import&lt;/scope&gt;\r\n    \t        &lt;/dependency&gt;\r\n    \t\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.afklm.mcfc&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;mcfcCommons&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t        \r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.togglz&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;togglz-spring-boot-starter&lt;/artifactId&gt;\r\n                    &lt;version&gt;${togglz.version}&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.togglz&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;togglz-slf4j&lt;/artifactId&gt;\r\n                    &lt;version&gt;${togglz.version}&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                \r\n                \r\n                &lt;!-- Logging into Kafka for COMO --&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n    \t\t\t    &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n    \t\t\t    &lt;version&gt;${kafka-clients.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t    &lt;groupId&gt;com.afklm.tecc&lt;/groupId&gt;\r\n    \t\t\t    &lt;artifactId&gt;como-logback-appender&lt;/artifactId&gt;\r\n    \t\t\t    &lt;version&gt;${como-logback-appender.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n    \t\t\t&lt;!-- Logging for Json formatting through logback --&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t        &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n    \t\t        &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\r\n    \t\t        &lt;version&gt;${logback-contrib.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t        &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n    \t\t        &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\r\n    \t\t        &lt;version&gt;${logback-contrib.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t  &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n    \t\t\t  &lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n    \t\t\t  &lt;version&gt;${janino.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \r\n    \r\n                &lt;!-- Togglz testing support --&gt;\r\n                &lt;dependency&gt;\r\n                  &lt;groupId&gt;org.togglz&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;togglz-testing&lt;/artifactId&gt;\r\n                  &lt;version&gt;${togglz.version}&lt;/version&gt;\r\n                  &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${h2.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t            &lt;version&gt;${postgresql.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n    \t            &lt;version&gt;${liquibase.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t    &lt;groupId&gt;com.afklm.teccse.hibernateCustomDialect&lt;/groupId&gt;\r\n    \t\t\t    &lt;artifactId&gt;hibernateCustomDialect&lt;/artifactId&gt;\r\n    \t\t\t    &lt;version&gt;${hibernate-custom-dialect.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;!-- Filter Habile --&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.afklm.springboot.habile&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-security-habile&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${habile.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\t&lt;!-- habile simul --&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.afklm.springboot.habile&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-security-habile-simul&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${habile-simul.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t        \r\n    \t        &lt;dependency&gt;\r\n    \t            &lt;groupId&gt;com.afklm.soa.stubs&lt;/groupId&gt;\r\n    \t            &lt;artifactId&gt;w000479-v01&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;0&lt;/version&gt;\r\n    \t        &lt;/dependency&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t\r\n    \t        &lt;dependency&gt;\r\n    \t            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n    \t            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n    \t        &lt;/dependency&gt;\r\n    \t        \r\n    \t        &lt;!-- YAML fix, waiting for Spring Boot dependencies update fix --&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t  &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n    \t\t\t  &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n    \t\t\t  &lt;version&gt;${snakeyaml.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t        \r\n    \t        &lt;!-- Lombok --&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t  &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t  &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t  &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;!-- Don&#39;t know why but (optionally) needed when adding Spring security habile v3... --&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t  &lt;groupId&gt;org.glassfish.pfl&lt;/groupId&gt;\r\n    \t\t\t  &lt;artifactId&gt;pfl-basic&lt;/artifactId&gt;\r\n    \t\t\t  &lt;version&gt;${glassfish-plf.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t\r\n    \t        &lt;!-- Import dependency management from SDFW (Web Services) --&gt;\r\n    \t        &lt;dependency&gt;\r\n    \t            &lt;groupId&gt;com.afklm.soa.jaxws&lt;/groupId&gt;\r\n    \t            &lt;artifactId&gt;sdfw-dependencies&lt;/artifactId&gt;\r\n    \t            &lt;version&gt;${sdfw.version}&lt;/version&gt;\r\n    \t            &lt;type&gt;pom&lt;/type&gt;\r\n    \t            &lt;scope&gt;import&lt;/scope&gt;\r\n    \t        &lt;/dependency&gt;\r\n    \t        \r\n    \t        &lt;!-- SOA framework --&gt;\r\n    \t        &lt;dependency&gt;\r\n    \t            &lt;groupId&gt;com.afklm.soa.jaxws&lt;/groupId&gt;\r\n    \t            &lt;artifactId&gt;sdfw-starter&lt;/artifactId&gt;\r\n    \t            &lt;version&gt;${sdfw.version}&lt;/version&gt;\r\n    \t        &lt;/dependency&gt;\r\n    \t        \r\n    \t        &lt;dependency&gt;\r\n    \t            &lt;groupId&gt;com.afklm.soa.jaxws&lt;/groupId&gt;\r\n    \t            &lt;artifactId&gt;sdfw-consumer-deps&lt;/artifactId&gt;\r\n    \t            &lt;version&gt;${sdfw.version}&lt;/version&gt;\r\n    \t            &lt;type&gt;pom&lt;/type&gt;\r\n    \t        &lt;/dependency&gt;\r\n    \t        \r\n    \t        &lt;dependency&gt;\r\n    \t            &lt;groupId&gt;com.afklm.soa.jaxws&lt;/groupId&gt;\r\n    \t            &lt;artifactId&gt;sdfw-provider-deps&lt;/artifactId&gt;\r\n    \t            &lt;version&gt;${sdfw.version}&lt;/version&gt;\r\n    \t            &lt;type&gt;pom&lt;/type&gt;\r\n    \t        &lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\t&lt;!-- SOAP/jms --&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.afklm.soa.jaxws&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;sdfw-async-deps&lt;/artifactId&gt;\r\n    \t            &lt;version&gt;${sdfw.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;!-- Invoking SOAP over JMS --&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.afklm.soa.jaxws&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jaxws-jms&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${sdfw.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n            \r\n            \r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.xbean&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;xbean-spring&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${xbean.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t        \r\n    \t        &lt;!-- WS Security : Holds the credentials for each environment for WS calls --&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.airfrance.soa.security&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;mcfc-ws-security&lt;/artifactId&gt;\r\n    \t            &lt;version&gt;${ws-security.version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\t&lt;!-- Cucumber --&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t \t\t&lt;dependency&gt;\r\n                \t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n               \t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                \t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                \t&lt;type&gt;pom&lt;/type&gt;\r\n                \t&lt;scope&gt;import&lt;/scope&gt;\r\n           \t\t&lt;/dependency&gt;\r\n           \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-cloud-spring-service-connector&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.0.9.RELEASE&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n       \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-cloud-cloudfoundry-connector&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.0.9.RELEASE&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t        &lt;plugin&gt;\r\n    \t            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n      \t\t\t\t&lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n    \t        &lt;/plugin&gt;\r\n    \t        &lt;!-- \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${liquibase-maven-plugin.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;propertyFile&gt;src/main/resources/liquibase/database.properties&lt;/propertyFile&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;dependencies&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${liquibase-maven-plugin-postgresql.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.liquibase.ext&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;liquibase-hibernate5&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${liquibase-hibernate5.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${liquibase.spring-boot-starter-data-jpa.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${liquibase.validation-api.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;/dependencies&gt;\r\n    \t\t\t&lt;/plugin&gt; --&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t  &lt;resources&gt; \r\n    \t    &lt;resource&gt; \r\n    \t      &lt;filtering&gt;true&lt;/filtering&gt; \r\n    \t      &lt;directory&gt;src/main/resources&lt;/directory&gt; \r\n    \t    &lt;/resource&gt; \r\n    \t  &lt;/resources&gt; \r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nI&#39;m obliged to use sankeyaml 2.0, therefore I can&#39;t downgrade it ","title":"liquibase.exception.DatabaseException: ERROR: syntax error at or near &quot;-&quot;","body":"<p>I want to migrate snakeyaml to 2.0 and that forced me to migrate liquibase from 4.9.0 to 4.21.1\nsame for spring boot from 2.5.13 to 2.7.x</p>\n<p>but I get this error of liquibase :</p>\n<pre><code> Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.LockException: liquibase.exception.DatabaseException: ERROR: syntax error at or near &quot;-&quot;\n      Position : 24 [Failed SQL: (0) SET SEARCH_PATH TO database-name, &quot;$user&quot;,&quot;database-name&quot;]\n        at liquibase.command.CommandScope.execute(CommandScope.java:235)\n        at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)\n        at liquibase.Scope.lambda$child$0(Scope.java:194)\n        at liquibase.Scope.child(Scope.java:203)\n        at liquibase.Scope.child(Scope.java:193)\n        at liquibase.Scope.child(Scope.java:172)\n        at liquibase.Liquibase.runInScope(Liquibase.java:1618)\n        at liquibase.Liquibase.update(Liquibase.java:229)\n        at liquibase.Liquibase.update(Liquibase.java:213)\n        at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)\n        at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\n        ... 160 common frames omitted\n    Caused by: liquibase.exception.LockException: liquibase.exception.DatabaseException: ERROR: syntax error at or near &quot;-&quot;\n      Position : 24 [Failed SQL: (0) SET SEARCH_PATH TO database-name, &quot;$user&quot;,&quot;database-name&quot;]\n        at liquibase.lockservice.StandardLockService.acquireLock(StandardLockService.java:337)\n        at liquibase.lockservice.StandardLockService.waitForLock(StandardLockService.java:254)\n        at liquibase.command.core.helpers.LockServiceCommandStep.run(LockServiceCommandStep.java:38)\n        at liquibase.command.CommandScope.execute(CommandScope.java:212)\n        ... 172 common frames omitted\n    Caused by: liquibase.exception.DatabaseException: ERROR: syntax error at or near &quot;-&quot;\n      Position : 24 [Failed SQL: (0) SET SEARCH_PATH TO database-name, &quot;$user&quot;,&quot;database-name&quot;]\n        at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:445)\n        at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77)\n        at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:160)\n        at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:125)\n        at liquibase.database.core.DatabaseUtils.initializeDatabase(DatabaseUtils.java:61)\n        at liquibase.database.core.PostgresDatabase.rollback(PostgresDatabase.java:403)\n        at liquibase.lockservice.StandardLockService.acquireLock(StandardLockService.java:292)\n        ... 175 common frames omitted\n    Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;-&quot;\n      Position : 24\n        at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)\n        at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)\n        at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)\n        at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)\n        at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)\n        at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)\n        at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)\n        at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)\n        at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)\n        at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)\n        at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)\n        at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:441)\n        ... 181 common frames omitted\n</code></pre>\n<p>I couldn't understand the error. I tried to add quotes on the database name on the application-common.yml but nothing changed.</p>\n<p>Is there a problem with the version compatibilities or should I update something in the code?</p>\n<p>This is my pom.xml with the new versions I put:</p>\n<p>if something else needed I can provide</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;!-- Add AF (or KL) parent pom --&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.afklm.maven.pom&lt;/groupId&gt;\n        &lt;artifactId&gt;af-projects-pom&lt;/artifactId&gt;\n        &lt;version&gt;5.3.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.afklm.mcfc&lt;/groupId&gt;\n    &lt;artifactId&gt;mcfc-ss&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;mcfc-ss&lt;/name&gt;\n    &lt;description&gt;Management of Commercial and Facilities Cards&lt;/description&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;8&lt;/java.version&gt;\n        &lt;sonar.java.source&gt;1.8&lt;/sonar.java.source&gt;\n        &lt;sonar.java.target&gt;1.8&lt;/sonar.java.target&gt;\n        \n        &lt;spring-boot.version&gt;2.7.11&lt;/spring-boot.version&gt;\n        \n        &lt;h2.version&gt;2.1.212&lt;/h2.version&gt;\n        &lt;postgresql.version&gt;42.6.0&lt;/postgresql.version&gt; &lt;!-- TODO get the official version OR get version from parent AFKL POM ? --&gt;\n        &lt;liquibase.version&gt;4.21.1&lt;/liquibase.version&gt;\n        &lt;hibernate-custom-dialect.version&gt;1.0.0&lt;/hibernate-custom-dialect.version&gt;\n        \n        &lt;habile.version&gt;3.0.5&lt;/habile.version&gt;\n        &lt;habile-simul.version&gt;3.1.1&lt;/habile-simul.version&gt;\n        &lt;sdfw.version&gt;3.2.3&lt;/sdfw.version&gt; &lt;!-- v3.3.3 n'accepte pas les définitions de WS contenant des variables comme sdfw.ws.id... devrait être fixé plus tard... --&gt;\n        &lt;ws-security.version&gt;1.0&lt;/ws-security.version&gt;\n        \n        &lt;snakeyaml.version&gt;2.0&lt;/snakeyaml.version&gt;\n        &lt;cucumber.version&gt;4.2.6&lt;/cucumber.version&gt;\n        &lt;lombok.version&gt;1.18.8&lt;/lombok.version&gt;\n        &lt;xbean.version&gt;3.11.1&lt;/xbean.version&gt;\n        &lt;togglz.version&gt;2.6.1.Final&lt;/togglz.version&gt;\n        &lt;glassfish-plf.version&gt;4.1.1&lt;/glassfish-plf.version&gt;\n        \n        &lt;kafka-clients.version&gt;1.0.0&lt;/kafka-clients.version&gt;\n        &lt;como-logback-appender.version&gt;1.0.2&lt;/como-logback-appender.version&gt;\n        &lt;logback-contrib.version&gt;0.1.5&lt;/logback-contrib.version&gt;\n        \n        &lt;janino.version&gt;3.0.6&lt;/janino.version&gt;\n        &lt;spring-cloud.version&gt;2020.0.5&lt;/spring-cloud.version&gt;\n        \n        &lt;sonar.coverage.exclusions&gt;\n           **/com/afklm/mcfc/api/**/*,\n           **/com/afklm/mcfc/commons/datamodel/**/entity/**/*,\n           **/com/afklm/mcfc/commons/dto/**/*,\n           **/com/afklm/mcfc/commons/externalws/impl/**/*\n        &lt;/sonar.coverage.exclusions&gt;\n        \n    &lt;/properties&gt;\n    \n    &lt;modules&gt;\n        &lt;module&gt;mcfcCommons&lt;/module&gt;\n        &lt;module&gt;mcfcApi&lt;/module&gt;\n        &lt;module&gt;mcfcBatchs&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;com.afklm.mcfc&lt;/groupId&gt;\n                &lt;artifactId&gt;mcfcCommons&lt;/artifactId&gt;\n                &lt;version&gt;${project.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.togglz&lt;/groupId&gt;\n                &lt;artifactId&gt;togglz-spring-boot-starter&lt;/artifactId&gt;\n                &lt;version&gt;${togglz.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.togglz&lt;/groupId&gt;\n                &lt;artifactId&gt;togglz-slf4j&lt;/artifactId&gt;\n                &lt;version&gt;${togglz.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            \n            &lt;!-- Logging into Kafka for COMO --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n                &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n                &lt;version&gt;${kafka-clients.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.afklm.tecc&lt;/groupId&gt;\n                &lt;artifactId&gt;como-logback-appender&lt;/artifactId&gt;\n                &lt;version&gt;${como-logback-appender.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n        \n        \n            &lt;!-- Logging for Json formatting through logback --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n                &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\n                &lt;version&gt;${logback-contrib.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n                &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\n                &lt;version&gt;${logback-contrib.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n        \n            &lt;dependency&gt;\n              &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n              &lt;artifactId&gt;janino&lt;/artifactId&gt;\n              &lt;version&gt;${janino.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n\n            &lt;!-- Togglz testing support --&gt;\n            &lt;dependency&gt;\n              &lt;groupId&gt;org.togglz&lt;/groupId&gt;\n              &lt;artifactId&gt;togglz-testing&lt;/artifactId&gt;\n              &lt;version&gt;${togglz.version}&lt;/version&gt;\n              &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            \n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n                &lt;artifactId&gt;h2&lt;/artifactId&gt;\n                &lt;version&gt;${h2.version}&lt;/version&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;/dependency&gt;\n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n                &lt;version&gt;${postgresql.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n                &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n                &lt;version&gt;${liquibase.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.afklm.teccse.hibernateCustomDialect&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernateCustomDialect&lt;/artifactId&gt;\n                &lt;version&gt;${hibernate-custom-dialect.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- Filter Habile --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;com.afklm.springboot.habile&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-security-habile&lt;/artifactId&gt;\n                &lt;version&gt;${habile.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n        \n            &lt;!-- habile simul --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.afklm.springboot.habile&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-security-habile-simul&lt;/artifactId&gt;\n                &lt;version&gt;${habile-simul.version}&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;com.afklm.soa.stubs&lt;/groupId&gt;\n                &lt;artifactId&gt;w000479-v01&lt;/artifactId&gt;\n                &lt;version&gt;0&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- YAML fix, waiting for Spring Boot dependencies update fix --&gt;\n            &lt;dependency&gt;\n              &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n              &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n              &lt;version&gt;${snakeyaml.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- Lombok --&gt;\n            &lt;dependency&gt;\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n              &lt;version&gt;${lombok.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- Don't know why but (optionally) needed when adding Spring security habile v3... --&gt;\n            &lt;dependency&gt;\n              &lt;groupId&gt;org.glassfish.pfl&lt;/groupId&gt;\n              &lt;artifactId&gt;pfl-basic&lt;/artifactId&gt;\n              &lt;version&gt;${glassfish-plf.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- Import dependency management from SDFW (Web Services) --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.afklm.soa.jaxws&lt;/groupId&gt;\n                &lt;artifactId&gt;sdfw-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${sdfw.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- SOA framework --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.afklm.soa.jaxws&lt;/groupId&gt;\n                &lt;artifactId&gt;sdfw-starter&lt;/artifactId&gt;\n                &lt;version&gt;${sdfw.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;com.afklm.soa.jaxws&lt;/groupId&gt;\n                &lt;artifactId&gt;sdfw-consumer-deps&lt;/artifactId&gt;\n                &lt;version&gt;${sdfw.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n            &lt;/dependency&gt;\n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;com.afklm.soa.jaxws&lt;/groupId&gt;\n                &lt;artifactId&gt;sdfw-provider-deps&lt;/artifactId&gt;\n                &lt;version&gt;${sdfw.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n            &lt;/dependency&gt;\n        \n            &lt;!-- SOAP/jms --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.afklm.soa.jaxws&lt;/groupId&gt;\n                &lt;artifactId&gt;sdfw-async-deps&lt;/artifactId&gt;\n                &lt;version&gt;${sdfw.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- Invoking SOAP over JMS --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.afklm.soa.jaxws&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxws-jms&lt;/artifactId&gt;\n                &lt;version&gt;${sdfw.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n        \n        \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.xbean&lt;/groupId&gt;\n                &lt;artifactId&gt;xbean-spring&lt;/artifactId&gt;\n                &lt;version&gt;${xbean.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- WS Security : Holds the credentials for each environment for WS calls --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.airfrance.soa.security&lt;/groupId&gt;\n                &lt;artifactId&gt;mcfc-ws-security&lt;/artifactId&gt;\n                &lt;version&gt;${ws-security.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n        \n            &lt;!-- Cucumber --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n                &lt;version&gt;${cucumber.version}&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n                &lt;version&gt;${cucumber.version}&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\n                &lt;version&gt;${cucumber.version}&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-spring-service-connector&lt;/artifactId&gt;\n                &lt;version&gt;2.0.9.RELEASE&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-cloudfoundry-connector&lt;/artifactId&gt;\n                &lt;version&gt;2.0.9.RELEASE&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!-- \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n                &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${liquibase-maven-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;propertyFile&gt;src/main/resources/liquibase/database.properties&lt;/propertyFile&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n                        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n                        &lt;version&gt;${liquibase-maven-plugin-postgresql.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.liquibase.ext&lt;/groupId&gt;\n                        &lt;artifactId&gt;liquibase-hibernate5&lt;/artifactId&gt;\n                        &lt;version&gt;${liquibase-hibernate5.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n                        &lt;version&gt;${liquibase.spring-boot-starter-data-jpa.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n                        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n                        &lt;version&gt;${liquibase.validation-api.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt; --&gt;\n        &lt;/plugins&gt;\n      &lt;resources&gt; \n        &lt;resource&gt; \n          &lt;filtering&gt;true&lt;/filtering&gt; \n          &lt;directory&gt;src/main/resources&lt;/directory&gt; \n        &lt;/resource&gt; \n      &lt;/resources&gt; \n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I'm obliged to use sankeyaml 2.0, therefore I can't downgrade it</p>\n"},{"tags":["java","apache-kafka","spring-kafka","avro"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1683646777,"post_id":76201678,"comment_id":134397011,"body_markdown":"If you have Avro data, then why are you not using Avro Deserializer?","body":"If you have Avro data, then why are you not using Avro Deserializer?"},{"owner":{"account_id":16838269,"reputation":61,"user_id":12562692,"display_name":"Никита Спиридонов"},"score":0,"creation_date":1683705012,"post_id":76201678,"comment_id":134405738,"body_markdown":"@OneCricketeer , how do you recommend to use it?","body":"@OneCricketeer , how do you recommend to use it?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1683729837,"post_id":76201678,"comment_id":134411934,"body_markdown":"The exact same way you have `StringDeserializer`? Change the class name to use Confluent&#39;s AvroDeserializer https://docs.confluent.io/platform/current/schema-registry/fundamentals/serdes-develop/serdes-avro.html#avro-deserializer ; Or, edit your `application.properties/yaml` files to do the same","body":"The exact same way you have <code>StringDeserializer</code>? Change the class name to use Confluent&#39;s AvroDeserializer <a href=\"https://docs.confluent.io/platform/current/schema-registry/fundamentals/serdes-develop/serdes-avro.html#avro-deserializer\" rel=\"nofollow noreferrer\">docs.confluent.io/platform/current/schema-registry/fundament&zwnj;&#8203;als/&hellip;</a> ; Or, edit your <code>application.properties&#47;yaml</code> files to do the same"}],"owner":{"account_id":16838269,"reputation":61,"user_id":12562692,"display_name":"Никита Спиридонов"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683646758,"creation_date":1683556956,"question_id":76201678,"body_markdown":"In Kafka topic that I read message key is a primitive avro scheme **&quot;string&quot;**.\r\n\r\nSo when I deserialize it in common way with **KafkaListener**:\r\n\r\n    @KafkaListener(\r\n                topics = {&quot;topic&quot;},\r\n                autoStartup = &quot;true&quot;\r\n        )\r\n        @Transactional\r\n        public void consume(@Payload(required = false) Node skill, @Header(OFFSET) Long offset,\r\n                            @Header(RECEIVED_MESSAGE_KEY) String messageKey, @Header(RECEIVED_TOPIC) String topic,\r\n                            @Header(RECEIVED_TIMESTAMP) Long timestamp) {\r\n\r\nI get &quot;\\n&amp;7770000000000105411&quot; instead of &quot;7770000000000105411&quot; or how it looks like in Idea:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow can I deserialize it?\r\n\r\nI&#39;m already tried with **StringDeserializer** for my key:\r\n\r\n    @KafkaListener(\r\n                topics = {&quot;topic&quot;},\r\n                properties = {\r\n                ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG + &quot;=org.apache.kafka.common.serialization.StringDeserializer&quot;\r\n        }\r\n        )\r\n\r\n but it didn&#39;t give any results.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ocv4h.png","title":"Deserialize key from primitive avro scheme using KafkaListener","body":"<p>In Kafka topic that I read message key is a primitive avro scheme <strong>&quot;string&quot;</strong>.</p>\n<p>So when I deserialize it in common way with <strong>KafkaListener</strong>:</p>\n<pre><code>@KafkaListener(\n            topics = {&quot;topic&quot;},\n            autoStartup = &quot;true&quot;\n    )\n    @Transactional\n    public void consume(@Payload(required = false) Node skill, @Header(OFFSET) Long offset,\n                        @Header(RECEIVED_MESSAGE_KEY) String messageKey, @Header(RECEIVED_TOPIC) String topic,\n                        @Header(RECEIVED_TIMESTAMP) Long timestamp) {\n</code></pre>\n<p>I get &quot;\\n&amp;7770000000000105411&quot; instead of &quot;7770000000000105411&quot; or how it looks like in Idea:</p>\n<p><a href=\"https://i.stack.imgur.com/Ocv4h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ocv4h.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I deserialize it?</p>\n<p>I'm already tried with <strong>StringDeserializer</strong> for my key:</p>\n<pre><code>@KafkaListener(\n            topics = {&quot;topic&quot;},\n            properties = {\n            ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG + &quot;=org.apache.kafka.common.serialization.StringDeserializer&quot;\n    }\n    )\n</code></pre>\n<p>but it didn't give any results.</p>\n"},{"tags":["java","spring-boot","gradle"],"answers":[{"tags":[],"owner":{"account_id":22359356,"reputation":7,"user_id":16576086,"display_name":"Balaji"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683646388,"creation_date":1683646329,"answer_id":76211043,"question_id":76210999,"body_markdown":"I went to mvnrepository.com looked for version available.\r\n\r\nReplacing \r\n` id &#39;org.asciidoctor.convert&#39; version &#39;2.2.1&#39;`\r\nwith   \r\n`id &#39;org.asciidoctor.convert&#39; version &#39;2.4.0&#39;`\r\nsolved the issue.","title":"could not resolve plugin artifact &#39;org.asciidoctor.convert:org.asciidoctor.convert.gradle.plugin:2.2.1&#39;","body":"<p>I went to mvnrepository.com looked for version available.</p>\n<p>Replacing\n<code> id 'org.asciidoctor.convert' version '2.2.1'</code>\nwith<br />\n<code>id 'org.asciidoctor.convert' version '2.4.0'</code>\nsolved the issue.</p>\n"}],"owner":{"account_id":22359356,"reputation":7,"user_id":16576086,"display_name":"Balaji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683646388,"creation_date":1683646111,"question_id":76210999,"body_markdown":"I made a gradle spring project setup at spring initializr, After opening the project in IDE, this error occurred. It shows like plugin not found.\r\n\r\n```\r\norg.gradle.api.plugins.UnknownPluginException: Plugin [id: &#39;org.asciidoctor.convert&#39;, version: &#39;2.2.1&#39;] was not found in any of the following sources:\r\n\r\n- Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n- Plugin Repositories (could not resolve plugin artifact &#39;org.asciidoctor.convert:org.asciidoctor.convert.gradle.plugin:2.2.1&#39;)\r\n  Searched in the following repositories:\r\n    Gradle Central Plugin Repository\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.resolveToFoundResult(DefaultPluginRequestApplicator.java:238)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$resolvePluginRequests$3(DefaultPluginRequestApplicator.java:168)\r\n\tat org.gradle.util.internal.CollectionUtils.collect(CollectionUtils.java:212)\r\n\tat org.gradle.util.internal.CollectionUtils.collect(CollectionUtils.java:206)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.resolvePluginRequests(DefaultPluginRequestApplicator.java:166)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugins(DefaultPluginRequestApplicator.java:101)\r\n\tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:117)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:360)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:378)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:359)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\r\n\tat org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:109)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:360)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$fromMutableState$1(DefaultProjectStateRegistry.java:383)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withReplacedLocks(DefaultWorkerLeaseService.java:345)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:383)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:359)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:100)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:72)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:762)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:153)\r\n\tat org.gradle.api.internal.project.ProjectLifecycleController.lambda$ensureSelfConfigured$1(ProjectLifecycleController.java:63)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:236)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:235)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$maybeTransitionIfNotCurrentlyTransitioning$9(StateTransitionController.java:196)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\r\n\tat org.gradle.internal.model.StateTransitionController.maybeTransitionIfNotCurrentlyTransitioning(StateTransitionController.java:192)\r\n\tat org.gradle.api.internal.project.ProjectLifecycleController.ensureSelfConfigured(ProjectLifecycleController.java:63)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:334)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:33)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:47)\r\n\tat org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\r\n```\r\n\r\ncould not resolve plugin artifact &#39;org.asciidoctor.convert:org.asciidoctor.convert.gradle.plugin:2.2.1&#39;","title":"could not resolve plugin artifact &#39;org.asciidoctor.convert:org.asciidoctor.convert.gradle.plugin:2.2.1&#39;","body":"<p>I made a gradle spring project setup at spring initializr, After opening the project in IDE, this error occurred. It shows like plugin not found.</p>\n<pre><code>org.gradle.api.plugins.UnknownPluginException: Plugin [id: 'org.asciidoctor.convert', version: '2.2.1'] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (could not resolve plugin artifact 'org.asciidoctor.convert:org.asciidoctor.convert.gradle.plugin:2.2.1')\n  Searched in the following repositories:\n    Gradle Central Plugin Repository\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.resolveToFoundResult(DefaultPluginRequestApplicator.java:238)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$resolvePluginRequests$3(DefaultPluginRequestApplicator.java:168)\n    at org.gradle.util.internal.CollectionUtils.collect(CollectionUtils.java:212)\n    at org.gradle.util.internal.CollectionUtils.collect(CollectionUtils.java:206)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.resolvePluginRequests(DefaultPluginRequestApplicator.java:166)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugins(DefaultPluginRequestApplicator.java:101)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:117)\n    at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\n    at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:360)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:378)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:359)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\n    at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:109)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:360)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$fromMutableState$1(DefaultProjectStateRegistry.java:383)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withReplacedLocks(DefaultWorkerLeaseService.java:345)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:383)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:359)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:100)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:72)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:762)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:153)\n    at org.gradle.api.internal.project.ProjectLifecycleController.lambda$ensureSelfConfigured$1(ProjectLifecycleController.java:63)\n    at org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:236)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:235)\n    at org.gradle.internal.model.StateTransitionController.lambda$maybeTransitionIfNotCurrentlyTransitioning$9(StateTransitionController.java:196)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\n    at org.gradle.internal.model.StateTransitionController.maybeTransitionIfNotCurrentlyTransitioning(StateTransitionController.java:192)\n    at org.gradle.api.internal.project.ProjectLifecycleController.ensureSelfConfigured(ProjectLifecycleController.java:63)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:334)\n    at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:33)\n    at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:47)\n    at org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\n</code></pre>\n<p>could not resolve plugin artifact 'org.asciidoctor.convert:org.asciidoctor.convert.gradle.plugin:2.2.1'</p>\n"},{"tags":["java","mongodb","mongo-java"],"comments":[{"owner":{"account_id":1546754,"reputation":900,"user_id":1440140,"accept_rate":91,"display_name":"shalki"},"score":0,"creation_date":1340352011,"post_id":8738432,"comment_id":14622818,"body_markdown":"how did u do this @vienna.. Plz help me I am having the same problem. Plz help","body":"how did u do this @vienna.. Plz help me I am having the same problem. Plz help"},{"owner":{"account_id":26295,"reputation":15672,"user_id":68283,"accept_rate":82,"display_name":"Rich"},"score":0,"creation_date":1377076862,"post_id":8738432,"comment_id":26943395,"body_markdown":"An observation: one of the benefits of MongoDB is the ability to evolve the schema over time without having to update existing documents with these new fields. You may therefore want to store your objects as documents (ie with a field for name, etc), or if you really want to do a binary serialisation, you might prefer to use something such as Google Protocol Buffers which is a more future-proof way of achieving binary serialisation.","body":"An observation: one of the benefits of MongoDB is the ability to evolve the schema over time without having to update existing documents with these new fields. You may therefore want to store your objects as documents (ie with a field for name, etc), or if you really want to do a binary serialisation, you might prefer to use something such as Google Protocol Buffers which is a more future-proof way of achieving binary serialisation."}],"answers":[{"comments":[{"owner":{"account_id":1079790,"reputation":2483,"user_id":1664669,"accept_rate":74,"display_name":"NOrder"},"score":1,"creation_date":1325746770,"post_id":8738460,"comment_id":10884211,"body_markdown":"But I still have the problem even though I implements the Serializable interface;      class Person implements Serializable{\n\tprivate String name;\n\tpublic Person(String name){\n\t\tthis.name = name;\n\t}\n\tpublic String getName() {\n\t\treturn name;\n\t}\n\tpublic void setName(String name) {\n\t\tthis.name = name;\n\t}\n}","body":"But I still have the problem even though I implements the Serializable interface;      class Person implements Serializable{ \tprivate String name; \tpublic Person(String name){ \t\tthis.name = name; \t} \tpublic String getName() { \t\treturn name; \t} \tpublic void setName(String name) { \t\tthis.name = name; \t} }"},{"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"score":0,"creation_date":1325746882,"post_id":8738460,"comment_id":10884222,"body_markdown":"@vienna: Did you get the same exception or any other?","body":"@vienna: Did you get the same exception or any other?"},{"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"score":0,"creation_date":1325747383,"post_id":8738460,"comment_id":10884314,"body_markdown":"@vienna: Try adding a default constructor in Person class `public Person(){}`.","body":"@vienna: Try adding a default constructor in Person class <code>public Person(){}</code>."},{"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1325748409,"post_id":8738460,"comment_id":10884512,"body_markdown":"@vienna, that&#39;s because you have only 1 constructor and that takes an argument. A POJO class can have no argument or zero-based argument constructor. I suggest doing what Harry Joy stated above.","body":"@vienna, that&#39;s because you have only 1 constructor and that takes an argument. A POJO class can have no argument or zero-based argument constructor. I suggest doing what Harry Joy stated above."},{"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"score":0,"creation_date":1325748785,"post_id":8738460,"comment_id":10884573,"body_markdown":"@vienna: Yes extending [BasicDBObject](http://api.mongodb.org/java/2.0/com/mongodb/BasicDBObject.html) solves problem cause BasicDBObject it self implements Serializable.","body":"@vienna: Yes extending <a href=\"http://api.mongodb.org/java/2.0/com/mongodb/BasicDBObject.html\" rel=\"nofollow noreferrer\">BasicDBObject</a> solves problem cause BasicDBObject it self implements Serializable."}],"tags":[],"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"comment_count":5,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1377074900,"creation_date":1325744501,"answer_id":8738460,"question_id":8738432,"body_markdown":"Just implement [Serializable][1] interface in Person class.\r\n\r\nAlso it will be good to define a `serialVersionUID` in your class.\r\n\r\nAFAIK, while creating POJO class in java, the class should be serializable, if it is going to be transfered over some stream, have a default constructor, and allows access to properties/fields using getter and setter methods.\r\n\r\nYou might be interested in reading this: [Discover the secrets of the Java Serialization API][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html\r\n  [2]: http://java.sun.com/developer/technicalArticles/Programming/serialization/","title":"Serialize class for MongoDB model","body":"<p>Just implement <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html\" rel=\"nofollow noreferrer\">Serializable</a> interface in Person class.</p>\n\n<p>Also it will be good to define a <code>serialVersionUID</code> in your class.</p>\n\n<p>AFAIK, while creating POJO class in java, the class should be serializable, if it is going to be transfered over some stream, have a default constructor, and allows access to properties/fields using getter and setter methods.</p>\n\n<p>You might be interested in reading this: <a href=\"http://java.sun.com/developer/technicalArticles/Programming/serialization/\" rel=\"nofollow noreferrer\">Discover the secrets of the Java Serialization API</a></p>\n"},{"tags":[],"owner":{"account_id":890986,"reputation":1559,"user_id":1165320,"accept_rate":46,"display_name":"Gaurav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325744552,"creation_date":1325744552,"answer_id":8738468,"question_id":8738432,"body_markdown":"class Person should implement `java.io.Serializable` interface.\r\n\r\n`class Person implements Serializable`","title":"Serialize class for MongoDB model","body":"<p>class Person should implement <code>java.io.Serializable</code> interface.</p>\n\n<p><code>class Person implements Serializable</code></p>\n"},{"tags":[],"owner":{"account_id":1018203,"reputation":3271,"user_id":1029272,"display_name":"Deco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325744558,"creation_date":1325744558,"answer_id":8738469,"question_id":8738432,"body_markdown":"Your `Person` class definition needs to have `implements Serializable` in order for it to be serialized, e.g.:\r\n\r\n    class Person implements Serializable {\r\n       //Rest here\r\n    }\r\n\r\nHere are some useful links on Java object serialization: [Link](http://en.wikipedia.org/wiki/Serialization#Java), [Link](http://www.javapractices.com/topic/TopicAction.do?Id=45).","title":"Serialize class for MongoDB model","body":"<p>Your <code>Person</code> class definition needs to have <code>implements Serializable</code> in order for it to be serialized, e.g.:</p>\n\n<pre><code>class Person implements Serializable {\n   //Rest here\n}\n</code></pre>\n\n<p>Here are some useful links on Java object serialization: <a href=\"http://en.wikipedia.org/wiki/Serialization#Java\" rel=\"nofollow\">Link</a>, <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=45\" rel=\"nofollow\">Link</a>.</p>\n"},{"tags":[],"owner":{"display_name":"user346077"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1325745027,"creation_date":1325745027,"answer_id":8738539,"question_id":8738432,"body_markdown":"First of all you should know why you make class Serializable?\r\nWhenever you want to move obeject on network to a file, database, network, process or any other system.\r\nIn java simple Implementation.\r\nJust Implement Serializable interface.","title":"Serialize class for MongoDB model","body":"<p>First of all you should know why you make class Serializable?\nWhenever you want to move obeject on network to a file, database, network, process or any other system.\nIn java simple Implementation.\nJust Implement Serializable interface.</p>\n"},{"tags":[],"owner":{"account_id":4066076,"reputation":2498,"user_id":3340968,"accept_rate":43,"display_name":"Yasir Shabbir Choudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525205152,"creation_date":1405844037,"answer_id":24848615,"question_id":8738432,"body_markdown":"Here is the code example to make Employee object serialized:\r\n    \r\n\tpublic class Employee implements Serializable {\r\n\r\n\t\tprivate int empId;\r\n\t\tprivate String name;\r\n\r\n\t\tpublic int getEmpId() {\r\n\t\t\treturn empId;\r\n\t\t}\r\n\r\n\t\tpublic String getName() {\r\n\t\t\treturn name;\r\n\t\t}\r\n\r\n\t\tpublic void setEmpId(int empId) {\r\n\t\t\tthis.empId = empId;\r\n\t\t}\r\n\r\n\t\tpublic void setName(String name) {\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;EMployee id : &quot; + empId + &quot;  \\nEmployee Name : &quot; + name;\r\n\t\t}\r\n\t}\r\n\t\r\n\t//Another Main Class\r\n\tpublic class Main{\r\n\t\tpublic static void main(String[] args) \r\n\t\t\tthrows FileNotFoundException, IOException, ClassNotFoundException {\r\n\r\n\t\t\tString filename = &quot;data.txt&quot;;\r\n\t\t\tEmployee e = new Employee();\r\n\t\t\te.setEmpId(101);\r\n\t\t\te.setName(&quot;Yasir Shabbir&quot;);\r\n\r\n\t\t\tFileOutputStream fos = null;\r\n\t\t\tObjectOutputStream out = null;\r\n\r\n\t\t\tfos = new FileOutputStream(filename);\r\n\t\t\tout = new ObjectOutputStream(fos);\r\n\t\t\tout.writeObject(e);\r\n\r\n\t\t\tout.close();\r\n\r\n\t\t\t// Now to read the object from file\r\n\t\t\t// save the object to file\r\n\t\t\tFileInputStream fis = null;\r\n\t\t\tObjectInputStream in = null;\r\n\r\n\t\t\tfis = new FileInputStream(filename);\r\n\t\t\tin = new ObjectInputStream(fis);\r\n\t\t\te = (Employee) in.readObject();\r\n\t\t\tin.close();\r\n\r\n\t\t\tSystem.out.println(e.toString());\r\n\t\t}\r\n\t}","title":"Serialize class for MongoDB model","body":"<p>Here is the code example to make Employee object serialized:</p>\n\n<pre><code>public class Employee implements Serializable {\n\n    private int empId;\n    private String name;\n\n    public int getEmpId() {\n        return empId;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setEmpId(int empId) {\n        this.empId = empId;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return \"EMployee id : \" + empId + \"  \\nEmployee Name : \" + name;\n    }\n}\n\n//Another Main Class\npublic class Main{\n    public static void main(String[] args) \n        throws FileNotFoundException, IOException, ClassNotFoundException {\n\n        String filename = \"data.txt\";\n        Employee e = new Employee();\n        e.setEmpId(101);\n        e.setName(\"Yasir Shabbir\");\n\n        FileOutputStream fos = null;\n        ObjectOutputStream out = null;\n\n        fos = new FileOutputStream(filename);\n        out = new ObjectOutputStream(fos);\n        out.writeObject(e);\n\n        out.close();\n\n        // Now to read the object from file\n        // save the object to file\n        FileInputStream fis = null;\n        ObjectInputStream in = null;\n\n        fis = new FileInputStream(filename);\n        in = new ObjectInputStream(fis);\n        e = (Employee) in.readObject();\n        in.close();\n\n        System.out.println(e.toString());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2376705,"reputation":37064,"user_id":2079831,"accept_rate":100,"display_name":"Andrew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420215616,"creation_date":1420215616,"answer_id":27745119,"question_id":8738432,"body_markdown":"The problem here not in &quot;implements Serializable&quot;.\r\nThe problem is that object not converted in the DBObject.\r\n\r\nPossible solution:\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.mongodb.*;\r\n\r\n    ....\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    DBObject dboJack = mapper.convertValue(new Person(&quot;Jack&quot;), BasicDBObject.class);\r\n    ...\r\n","title":"Serialize class for MongoDB model","body":"<p>The problem here not in \"implements Serializable\".\nThe problem is that object not converted in the DBObject.</p>\n\n<p>Possible solution:</p>\n\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.mongodb.*;\n\n....\n\nObjectMapper mapper = new ObjectMapper();\nDBObject dboJack = mapper.convertValue(new Person(\"Jack\"), BasicDBObject.class);\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2325035,"reputation":1315,"user_id":2039750,"accept_rate":91,"display_name":"Pratik Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1428316992,"creation_date":1428316992,"answer_id":29469686,"question_id":8738432,"body_markdown":"I got the same exception while working with mongodb. I tried making the problematic class serializable but that didn&#39;t fix my problem. \r\n\r\nFollowing is what worked for me. \r\nExtend the class to be a child of BasicDBObject . Of course this works only if the problem is caused by MongoDB.\r\n \r\n\r\n    extends BasicDBObject \r\n\r\nOriginal source\r\n\r\nhttp://techidiocy.com/cant-serialize-class-mongodb-illegal-argument-exception/#comment-1298","title":"Serialize class for MongoDB model","body":"<p>I got the same exception while working with mongodb. I tried making the problematic class serializable but that didn't fix my problem. </p>\n\n<p>Following is what worked for me. \nExtend the class to be a child of BasicDBObject . Of course this works only if the problem is caused by MongoDB.</p>\n\n<pre><code>extends BasicDBObject \n</code></pre>\n\n<p>Original source</p>\n\n<p><a href=\"http://techidiocy.com/cant-serialize-class-mongodb-illegal-argument-exception/#comment-1298\" rel=\"nofollow\">http://techidiocy.com/cant-serialize-class-mongodb-illegal-argument-exception/#comment-1298</a></p>\n"},{"tags":[],"owner":{"account_id":2848056,"reputation":2093,"user_id":2445898,"display_name":"Gaurav Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458061734,"creation_date":1458061734,"answer_id":36017761,"question_id":8738432,"body_markdown":"You can achieve this by using following code:\r\n\r\n    import com.google.gson.annotations.Expose;\r\n    import com.mongodb.ReflectionDBObject;\r\n\r\n    class PersonList extends ReflectionDBObject {\r\n        // person property\r\n        @Expose public java.util.List&lt;Person&gt; person;\r\n    }\r\n\r\nNow in your mongodb  code, you can serialise a Person list as follows\r\n\r\n    ....\r\n    PersonList personList = new PersonList();\r\n    personList.person = new ArrayList&lt;&gt;();\r\n    // add persons to the list\r\n    ....\r\n    ....\r\n    record.put(&quot;personsList&quot;, personList);\r\n    ....\r\n    // rest of your code\r\n","title":"Serialize class for MongoDB model","body":"<p>You can achieve this by using following code:</p>\n\n<pre><code>import com.google.gson.annotations.Expose;\nimport com.mongodb.ReflectionDBObject;\n\nclass PersonList extends ReflectionDBObject {\n    // person property\n    @Expose public java.util.List&lt;Person&gt; person;\n}\n</code></pre>\n\n<p>Now in your mongodb  code, you can serialise a Person list as follows</p>\n\n<pre><code>....\nPersonList personList = new PersonList();\npersonList.person = new ArrayList&lt;&gt;();\n// add persons to the list\n....\n....\nrecord.put(\"personsList\", personList);\n....\n// rest of your code\n</code></pre>\n"}],"owner":{"account_id":1079790,"reputation":2483,"user_id":1664669,"accept_rate":74,"display_name":"NOrder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16874,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":8738460,"answer_count":8,"score":10,"last_activity_date":1683646081,"creation_date":1325744256,"question_id":8738432,"body_markdown":"When I insert a List into mongodb, there is a problem:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: can&#39;t serialize class mongodb.Person\r\n    \tat org.bson.BasicBSONEncoder._putObjectField(BasicBSONEncoder.java:234)\r\n    \tat org.bson.BasicBSONEncoder.putIterable(BasicBSONEncoder.java:259)\r\n    \tat org.bson.BasicBSONEncoder._putObjectField(BasicBSONEncoder.java:198)\r\n    \tat org.bson.BasicBSONEncoder.putObject(BasicBSONEncoder.java:140)\r\n    \tat org.bson.BasicBSONEncoder.putObject(BasicBSONEncoder.java:86)\r\n    \tat com.mongodb.DefaultDBEncoder.writeObject(DefaultDBEncoder.java:27)\r\n    \tat com.mongodb.OutMessage.putObject(OutMessage.java:142)\r\n    \tat com.mongodb.DBApiLayer$MyCollection.insert(DBApiLayer.java:252)\r\n    \tat com.mongodb.DBApiLayer$MyCollection.insert(DBApiLayer.java:211)\r\n    \tat com.mongodb.DBCollection.insert(DBCollection.java:57)\r\n    \tat com.mongodb.DBCollection.insert(DBCollection.java:87)\r\n    \tat com.mongodb.DBCollection.save(DBCollection.java:716)\r\n    \tat com.mongodb.DBCollection.save(DBCollection.java:691)\r\n    \tat mongodb.MongoDB.main(MongoDB.java:45)\r\n\r\nthe class Person is defined as follows:\r\n\r\n    class Person{\r\n    \tprivate String name;\r\n    \tpublic Person(String name){\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    }\r\n\r\nThe program is :\r\n\t\r\n\r\n            DBCollection coll = db.getCollection(&quot;test&quot;);\r\n            DBObject record = new BasicDBObject();\r\n            List&lt;Person&gt; persons= new ArrayList&lt;Person&gt;();\r\n            persons.add(new Person(&quot;Jack&quot;));\r\n            record.put(&quot;person&quot;, persons);\r\n            coll.save(record);\r\n\r\nI can&#39;t find the answer from google, so please help me.\r\n","title":"Serialize class for MongoDB model","body":"<p>When I insert a List into mongodb, there is a problem:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalArgumentException: can't serialize class mongodb.Person\n    at org.bson.BasicBSONEncoder._putObjectField(BasicBSONEncoder.java:234)\n    at org.bson.BasicBSONEncoder.putIterable(BasicBSONEncoder.java:259)\n    at org.bson.BasicBSONEncoder._putObjectField(BasicBSONEncoder.java:198)\n    at org.bson.BasicBSONEncoder.putObject(BasicBSONEncoder.java:140)\n    at org.bson.BasicBSONEncoder.putObject(BasicBSONEncoder.java:86)\n    at com.mongodb.DefaultDBEncoder.writeObject(DefaultDBEncoder.java:27)\n    at com.mongodb.OutMessage.putObject(OutMessage.java:142)\n    at com.mongodb.DBApiLayer$MyCollection.insert(DBApiLayer.java:252)\n    at com.mongodb.DBApiLayer$MyCollection.insert(DBApiLayer.java:211)\n    at com.mongodb.DBCollection.insert(DBCollection.java:57)\n    at com.mongodb.DBCollection.insert(DBCollection.java:87)\n    at com.mongodb.DBCollection.save(DBCollection.java:716)\n    at com.mongodb.DBCollection.save(DBCollection.java:691)\n    at mongodb.MongoDB.main(MongoDB.java:45)\n</code></pre>\n\n<p>the class Person is defined as follows:</p>\n\n<pre><code>class Person{\n    private String name;\n    public Person(String name){\n        this.name = name;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n\n<p>The program is :</p>\n\n<pre><code>        DBCollection coll = db.getCollection(\"test\");\n        DBObject record = new BasicDBObject();\n        List&lt;Person&gt; persons= new ArrayList&lt;Person&gt;();\n        persons.add(new Person(\"Jack\"));\n        record.put(\"person\", persons);\n        coll.save(record);\n</code></pre>\n\n<p>I can't find the answer from google, so please help me.</p>\n"},{"tags":["java","multithreading","concurrency","executorservice","java.util.concurrent"],"answers":[{"comments":[{"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"score":1,"creation_date":1344457933,"post_id":11872604,"comment_id":15795704,"body_markdown":"So you are saying that in the `List&lt;Future&gt;` returned from `invokeAll` if start to iterate over the results, I could block on the first until it finishes, while in the `ExecutioncCompletion` I would block until any one result is available?Have I got your point?","body":"So you are saying that in the <code>List&lt;Future&gt;</code> returned from <code>invokeAll</code> if start to iterate over the results, I could block on the first until it finishes, while in the <code>ExecutioncCompletion</code> I would block until any one result is available?Have I got your point?"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1344457982,"post_id":11872604,"comment_id":15795728,"body_markdown":"+1 Yeah that&#39;s right @user384706.  Underneath the `ExecutorCompletionService` is a `BlockingQueue&lt;Future&lt;V&gt;&gt;` so you can wait for the _first_ job to complete instead of all of them.","body":"+1 Yeah that&#39;s right @user384706.  Underneath the <code>ExecutorCompletionService</code> is a <code>BlockingQueue&lt;Future&lt;V&gt;&gt;</code> so you can wait for the <i>first</i> job to complete instead of all of them."},{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":0,"creation_date":1344458174,"post_id":11872604,"comment_id":15795828,"body_markdown":"@user384706 well, using the non-timeout form returns the `Future`s after all have completed, blocking indefinitely.","body":"@user384706 well, using the non-timeout form returns the <code>Future</code>s after all have completed, blocking indefinitely."},{"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"score":0,"creation_date":1344458354,"post_id":11872604,"comment_id":15795928,"body_markdown":"@Gray:But in `invokeAll` I don&#39;t wait for all to complete either","body":"@Gray:But in <code>invokeAll</code> I don&#39;t wait for all to complete either"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1344458616,"post_id":11872604,"comment_id":15796060,"body_markdown":"@user384706 when you call `invokeAll` it waits for all of the them to complete before finishing.  When `ExecutorCompletionService.poll/take` returns, you know that the resulting `get()` is not going to block.","body":"@user384706 when you call <code>invokeAll</code> it waits for all of the them to complete before finishing.  When <code>ExecutorCompletionService.poll&#47;take</code> returns, you know that the resulting <code>get()</code> is not going to block."},{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":0,"creation_date":1344458634,"post_id":11872604,"comment_id":15796069,"body_markdown":"@user384706 then perhaps you don&#39;t want `invokeAll`, unless you&#39;re OK with [cancelling unfinished tasks using a timeout](http://goo.gl/9gHG1).","body":"@user384706 then perhaps you don&#39;t want <code>invokeAll</code>, unless you&#39;re OK with <a href=\"http://goo.gl/9gHG1\" rel=\"nofollow noreferrer\">cancelling unfinished tasks using a timeout</a>."},{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":0,"creation_date":1344458711,"post_id":11872604,"comment_id":15796104,"body_markdown":"@Gray actually I was incorrect... as it turns out, `ExecutorService.invokeAll` waits for completion.","body":"@Gray actually I was incorrect... as it turns out, <code>ExecutorService.invokeAll</code> waits for completion."},{"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"score":0,"creation_date":1344459733,"post_id":11872604,"comment_id":15796549,"body_markdown":"@Gray:Ok, but it will block on `take` instead","body":"@Gray:Ok, but it will block on <code>take</code> instead"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1344459826,"post_id":11872604,"comment_id":15796596,"body_markdown":"I&#39;ve added an answer with more details @user384706.  Yes it blocks on `take()`.","body":"I&#39;ve added an answer with more details @user384706.  Yes it blocks on <code>take()</code>."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1344460243,"post_id":11872604,"comment_id":15796746,"body_markdown":"Btw @veer.  `take()` never returns `null`.","body":"Btw @veer.  <code>take()</code> never returns <code>null</code>."},{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":0,"creation_date":1344460414,"post_id":11872604,"comment_id":15796825,"body_markdown":"@Gray yes I know, but for some odd reason I felt compelled to put the assignment into the loop condition :p","body":"@Gray yes I know, but for some odd reason I felt compelled to put the assignment into the loop condition :p"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":1,"creation_date":1344460617,"post_id":11872604,"comment_id":15796904,"body_markdown":"Heh.  I _never_ put the assignment in the loop condition. A pet peeve I guess.  Good answer. :-)","body":"Heh.  I <i>never</i> put the assignment in the loop condition. A pet peeve I guess.  Good answer. :-)"},{"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"score":0,"creation_date":1344530273,"post_id":11872604,"comment_id":15820323,"body_markdown":"@veer:I don&#39;t understand why in your first example (`invokeAll`) it prints `slow` first.I believe that I have read that the `Future` are returned in the same order are the `Iterator` of the passed `Collection` to `invokeAll` would return them.So I would expect to see `quick` first since `quick` is first in the passed `List` of the `invokeAll`","body":"@veer:I don&#39;t understand why in your first example (<code>invokeAll</code>) it prints <code>slow</code> first.I believe that I have read that the <code>Future</code> are returned in the same order are the <code>Iterator</code> of the passed <code>Collection</code> to <code>invokeAll</code> would return them.So I would expect to see <code>quick</code> first since <code>quick</code> is first in the passed <code>List</code> of the <code>invokeAll</code>"},{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":0,"creation_date":1344540081,"post_id":11872604,"comment_id":15824391,"body_markdown":"@user384706 good catch, I changed the order I submit them in without updating the output. It was to demonstrate that it waits for both to complete regardless of the order you put them in. I have since updated the output. Feel free to compile and run the full code from the paste.","body":"@user384706 good catch, I changed the order I submit them in without updating the output. It was to demonstrate that it waits for both to complete regardless of the order you put them in. I have since updated the output. Feel free to compile and run the full code from the paste."},{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":0,"creation_date":1345008362,"post_id":11872604,"comment_id":15945633,"body_markdown":"@user384706 since you appear newer here, please don&#39;t forget to mark the answer [accepted](http://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work) which helped most in solving the problem.","body":"@user384706 since you appear newer here, please don&#39;t forget to mark the answer <a href=\"http://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\">accepted</a> which helped most in solving the problem."},{"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"score":0,"creation_date":1345022491,"post_id":11872604,"comment_id":15949395,"body_markdown":"@veer:Good point. Thanks for ALL the great answers here by Gray and esaj as well","body":"@veer:Good point. Thanks for ALL the great answers here by Gray and esaj as well"},{"owner":{"account_id":105525,"reputation":32628,"user_id":281545,"accept_rate":85,"display_name":"Mr_and_Mrs_D"},"score":0,"creation_date":1390519089,"post_id":11872604,"comment_id":32138769,"body_markdown":"What do you mean by &quot;in completion order _(more or less)_&quot; ?","body":"What do you mean by &quot;in completion order <i>(more or less)</i>&quot; ?"},{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":0,"creation_date":1390600924,"post_id":11872604,"comment_id":32178395,"body_markdown":"@Mr_and_Mrs_D the order in which tasks complete i.e. if B finishes before A then the order would be B, A regardless of the order in which they&#39;re submit","body":"@Mr_and_Mrs_D the order in which tasks complete i.e. if B finishes before A then the order would be B, A regardless of the order in which they&#39;re submit"},{"owner":{"account_id":105525,"reputation":32628,"user_id":281545,"accept_rate":85,"display_name":"Mr_and_Mrs_D"},"score":0,"creation_date":1390642160,"post_id":11872604,"comment_id":32187942,"body_markdown":"@oldrinb: thanks - the _more or less_ part confused me - so they are guaranteed to return in the order they finish. You may want to edit this to make it more clear and let me know to delete the comments :)","body":"@oldrinb: thanks - the <i>more or less</i> part confused me - so they are guaranteed to return in the order they finish. You may want to edit this to make it more clear and let me know to delete the comments :)"},{"owner":{"account_id":2169094,"reputation":87,"user_id":2377645,"display_name":"Ivan"},"score":0,"creation_date":1682590952,"post_id":11872604,"comment_id":134241398,"body_markdown":"But the executor can be terminated before we take all futures. For example, two callables complete almost at the same time, the first will be taken, second - no, as the executor will be terminated at that point.\nI don&#39;t understand your `pool.shutdown()` +  `!pool.isTerminated()`","body":"But the executor can be terminated before we take all futures. For example, two callables complete almost at the same time, the first will be taken, second - no, as the executor will be terminated at that point. I don&#39;t understand your <code>pool.shutdown()</code> +  <code>!pool.isTerminated()</code>"},{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":0,"creation_date":1683318150,"post_id":11872604,"comment_id":134354323,"body_markdown":"@Ivan [`shutdown`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#shutdown--) refuses new tasks &amp; initiates an _orderly_ shutdown but the pool is not [`terminated`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#isTerminated--) until previously submitted tasks are completed","body":"@Ivan <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#shutdown--\" rel=\"nofollow noreferrer\"><code>shutdown</code></a> refuses new tasks &amp; initiates an <i>orderly</i> shutdown but the pool is not <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#isTerminated--\" rel=\"nofollow noreferrer\"><code>terminated</code></a> until previously submitted tasks are completed"},{"owner":{"account_id":2169094,"reputation":87,"user_id":2377645,"display_name":"Ivan"},"score":1,"creation_date":1683535818,"post_id":11872604,"comment_id":134376153,"body_markdown":"@obataku Yes, but tasks can be completed and the pool terminated before we call get on all futures in your example, so some results can be lost. Simulate longer processing after `future.get()`, in your example `Thread.sleep(4550)` and you never see &quot;slow&quot;","body":"@obataku Yes, but tasks can be completed and the pool terminated before we call get on all futures in your example, so some results can be lost. Simulate longer processing after <code>future.get()</code>, in your example <code>Thread.sleep(4550)</code> and you never see &quot;slow&quot;"},{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":1,"creation_date":1683612741,"post_id":11872604,"comment_id":134389029,"body_markdown":"@Ivan I see your point, thanks for noting; should be addressed now","body":"@Ivan I see your point, thanks for noting; should be addressed now"},{"owner":{"account_id":2169094,"reputation":87,"user_id":2377645,"display_name":"Ivan"},"score":0,"creation_date":1683621279,"post_id":11872604,"comment_id":134390672,"body_markdown":"@obataku current example doesn&#39;t compile around `while (future != null)`","body":"@obataku current example doesn&#39;t compile around <code>while (future != null)</code>"},{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":0,"creation_date":1683645384,"post_id":11872604,"comment_id":134396630,"body_markdown":"@Ivan corrected and updated with live replit link; I previously had introduced a `terminated` variable for the loop condition but refactored it away in the slackoverflow editor incorrectly","body":"@Ivan corrected and updated with live replit link; I previously had introduced a <code>terminated</code> variable for the loop condition but refactored it away in the slackoverflow editor incorrectly"},{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":0,"creation_date":1683645757,"post_id":11872604,"comment_id":134396740,"body_markdown":"@Mr_and_Mrs_D reported completion order for concurrent tasks is somewhat inexact and subject to a race for tasks that complete at nearly the same time","body":"@Mr_and_Mrs_D reported completion order for concurrent tasks is somewhat inexact and subject to a race for tasks that complete at nearly the same time"},{"owner":{"account_id":5448480,"reputation":761,"user_id":4334147,"accept_rate":91,"display_name":"Alex"},"score":0,"creation_date":1690469781,"post_id":11872604,"comment_id":135361233,"body_markdown":"Excellent explanation!","body":"Excellent explanation!"}],"tags":[],"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"comment_count":27,"down_vote_count":0,"up_vote_count":94,"is_accepted":true,"score":94,"last_activity_date":1683645896,"creation_date":1344457586,"answer_id":11872604,"question_id":11872520,"body_markdown":"Using a `ExecutorCompletionService.poll/take`, you are receiving the `Future`s as they finish, in completion order (more or less). Using `ExecutorService.invokeAll`, you do not have this power; you either block until are all completed, or you specify a timeout after which the incomplete are cancelled.\r\n___\r\n    static class SleepingCallable implements Callable&lt;String&gt; {\r\n\r\n      final String name;\r\n      final long period;\r\n\r\n      SleepingCallable(final String name, final long period) {\r\n        this.name = name;\r\n        this.period = period;\r\n      }\r\n\r\n      public String call() {\r\n        try {\r\n          Thread.sleep(period);\r\n        } catch (InterruptedException ex) { }\r\n        return name;\r\n      }\r\n    }\r\nNow, below I will demonstrate how `invokeAll` works:\r\n\r\n    final ExecutorService pool = Executors.newFixedThreadPool(2);\r\n    final List&lt;? extends Callable&lt;String&gt;&gt; callables = Arrays.asList(\r\n        new SleepingCallable(&quot;quick&quot;, 500),\r\n        new SleepingCallable(&quot;slow&quot;, 5000));\r\n    try {\r\n      for (final Future&lt;String&gt; future : pool.invokeAll(callables)) {\r\n        System.out.println(future.get());\r\n      }\r\n    } catch (ExecutionException | InterruptedException ex) { }\r\n    pool.shutdown();\r\n\r\nThis produces the following output:\r\n\r\n    C:\\dev\\scrap&gt;java CompletionExample\r\n    ... after 5 s ...\r\n    quick\r\n    slow\r\n___\r\nUsing `CompletionService`, we see a different output:\r\n\r\n    final ExecutorService pool = Executors.newFixedThreadPool(2);\r\n    final CompletionService&lt;String&gt; service = new ExecutorCompletionService&lt;String&gt;(pool);\r\n    final List&lt;? extends Callable&lt;String&gt;&gt; callables = Arrays.asList(\r\n        new SleepingCallable(&quot;slow&quot;, 5000),\r\n        new SleepingCallable(&quot;quick&quot;, 500));\r\n    for (final Callable&lt;String&gt; callable : callables) {\r\n      service.submit(callable);\r\n    }\r\n    pool.shutdown();\r\n    try {\r\n      Future&lt;String&gt; future;\r\n      do {\r\n        future = pool.isTerminated() ? service.poll() : service.take();\r\n        if (future != null) {\r\n          System.out.println(future.get());\r\n        }\r\n      } while (future != null);\r\n    } catch (ExecutionException | InterruptedException ex) { }\r\n\r\nThis produces the following output:\r\n\r\n    C:\\dev\\scrap&gt;java CompletionExample\r\n    ... after 500 ms ...\r\n    quick\r\n    ... after 5 s ...\r\n    slow\r\n\r\nNote the times are relative to program start, not the previous message.\r\n___\r\nTest out a [working example on Replit](https://replit.com/@ashrams-haggard/OverjoyedSquigglySigns#Main.java).","title":"ExecutorCompletionService? Why do need one if we have invokeAll?","body":"<p>Using a <code>ExecutorCompletionService.poll/take</code>, you are receiving the <code>Future</code>s as they finish, in completion order (more or less). Using <code>ExecutorService.invokeAll</code>, you do not have this power; you either block until are all completed, or you specify a timeout after which the incomplete are cancelled.</p>\n<hr />\n<pre><code>static class SleepingCallable implements Callable&lt;String&gt; {\n\n  final String name;\n  final long period;\n\n  SleepingCallable(final String name, final long period) {\n    this.name = name;\n    this.period = period;\n  }\n\n  public String call() {\n    try {\n      Thread.sleep(period);\n    } catch (InterruptedException ex) { }\n    return name;\n  }\n}\n</code></pre>\n<p>Now, below I will demonstrate how <code>invokeAll</code> works:</p>\n<pre><code>final ExecutorService pool = Executors.newFixedThreadPool(2);\nfinal List&lt;? extends Callable&lt;String&gt;&gt; callables = Arrays.asList(\n    new SleepingCallable(&quot;quick&quot;, 500),\n    new SleepingCallable(&quot;slow&quot;, 5000));\ntry {\n  for (final Future&lt;String&gt; future : pool.invokeAll(callables)) {\n    System.out.println(future.get());\n  }\n} catch (ExecutionException | InterruptedException ex) { }\npool.shutdown();\n</code></pre>\n<p>This produces the following output:</p>\n<pre><code>C:\\dev\\scrap&gt;java CompletionExample\n... after 5 s ...\nquick\nslow\n</code></pre>\n<hr />\n<p>Using <code>CompletionService</code>, we see a different output:</p>\n<pre><code>final ExecutorService pool = Executors.newFixedThreadPool(2);\nfinal CompletionService&lt;String&gt; service = new ExecutorCompletionService&lt;String&gt;(pool);\nfinal List&lt;? extends Callable&lt;String&gt;&gt; callables = Arrays.asList(\n    new SleepingCallable(&quot;slow&quot;, 5000),\n    new SleepingCallable(&quot;quick&quot;, 500));\nfor (final Callable&lt;String&gt; callable : callables) {\n  service.submit(callable);\n}\npool.shutdown();\ntry {\n  Future&lt;String&gt; future;\n  do {\n    future = pool.isTerminated() ? service.poll() : service.take();\n    if (future != null) {\n      System.out.println(future.get());\n    }\n  } while (future != null);\n} catch (ExecutionException | InterruptedException ex) { }\n</code></pre>\n<p>This produces the following output:</p>\n<pre><code>C:\\dev\\scrap&gt;java CompletionExample\n... after 500 ms ...\nquick\n... after 5 s ...\nslow\n</code></pre>\n<p>Note the times are relative to program start, not the previous message.</p>\n<hr />\n<p>Test out a <a href=\"https://replit.com/@ashrams-haggard/OverjoyedSquigglySigns#Main.java\" rel=\"nofollow noreferrer\">working example on Replit</a>.</p>\n"},{"tags":[],"owner":{"account_id":291800,"reputation":15905,"user_id":594183,"display_name":"esaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1344457621,"creation_date":1344457621,"answer_id":11872614,"question_id":11872520,"body_markdown":"I haven&#39;t ever actually used ExecutorCompletionService, but I think the case where this could be more useful than &quot;normal&quot; ExecutorService would be when you want to receive the Futures of completed tasks in completion order. With invokeAll, you just get a list that can contain a mix of incomplete and completed tasks at any given time.","title":"ExecutorCompletionService? Why do need one if we have invokeAll?","body":"<p>I haven't ever actually used ExecutorCompletionService, but I think the case where this could be more useful than \"normal\" ExecutorService would be when you want to receive the Futures of completed tasks in completion order. With invokeAll, you just get a list that can contain a mix of incomplete and completed tasks at any given time.</p>\n"},{"comments":[{"owner":{"account_id":2042735,"reputation":183,"user_id":1823525,"accept_rate":62,"display_name":"Coder"},"score":0,"creation_date":1459877768,"post_id":11873096,"comment_id":60480936,"body_markdown":"`while(!threadPool.isTerminated())` is not it a busy formal waiting?","body":"<code>while(!threadPool.isTerminated())</code> is not it a busy formal waiting?"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1459894788,"post_id":11873096,"comment_id":60490955,"body_markdown":"It is but `take()` blocks so it isn&#39;t spinning.  Did I answer your question @Sergio?","body":"It is but <code>take()</code> blocks so it isn&#39;t spinning.  Did I answer your question @Sergio?"},{"owner":{"account_id":2042735,"reputation":183,"user_id":1823525,"accept_rate":62,"display_name":"Coder"},"score":0,"creation_date":1459899528,"post_id":11873096,"comment_id":60492614,"body_markdown":"Yes thanks! I was digging on how to limit the blocking queue that there is inside `Executors.newFixedThreadPool`. In particular I am using the `ListenableFuture`","body":"Yes thanks! I was digging on how to limit the blocking queue that there is inside <code>Executors.newFixedThreadPool</code>. In particular I am using the <code>ListenableFuture</code>"},{"owner":{"account_id":9554552,"reputation":97,"user_id":7097521,"accept_rate":80,"display_name":"tinkuge"},"score":0,"creation_date":1610632646,"post_id":11873096,"comment_id":116198022,"body_markdown":"@Gray I did not understand your explanation of `while(!threadPool.isTerminated())`. Why is it needed? What purpose does it serve?","body":"@Gray I did not understand your explanation of <code>while(!threadPool.isTerminated())</code>. Why is it needed? What purpose does it serve?"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1610644556,"post_id":11873096,"comment_id":116204066,"body_markdown":"`isTerminate()` is true if the pool has shutdown and all of the jobs have completed.  Is that what you are asking @tinkuge?","body":"<code>isTerminate()</code> is true if the pool has shutdown and all of the jobs have completed.  Is that what you are asking @tinkuge?"},{"owner":{"account_id":9554552,"reputation":97,"user_id":7097521,"accept_rate":80,"display_name":"tinkuge"},"score":0,"creation_date":1610679191,"post_id":11873096,"comment_id":116214827,"body_markdown":"@Gray The edit makes it a lot more clearer, thank you!","body":"@Gray The edit makes it a lot more clearer, thank you!"}],"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":6,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1610729639,"creation_date":1344459639,"answer_id":11873096,"question_id":11872520,"body_markdown":"&gt; So why are there 2 different ways to submit a series of tasks? Am I correct that performance wise they are equivalent? Is there a case that one is more suitable than the other? I can&#39;t think of one.\r\n\r\nBy using an `ExecutorCompletionService`, you can get immediately notified when _each_ of your jobs completes.  In comparison, `ExecutorService.invokeAll(...)` waits for _all_ of your jobs to complete before returning the collection of `Future`s. This means that (for example), if all but one job completes in 10 minutes but 1 job takes 30 minutes, you will get no results for 30 minutes.\r\n\r\n    // this waits until _all_ of the jobs complete\r\n    List&lt;Future&lt;Object&gt;&gt; futures = threadPool.invokeAll(...);\r\n\r\nInstead, when you use a `ExecutorCompletionService`, you will be able to get the jobs as soon as each of them completes which allows you to (for example) send them on for processing into another thread pool, log results immediately, etc..\r\n\r\n    ExecutorService threadPool = Executors.newFixedThreadPool(2);\r\n    ExecutorCompletionService&lt;Result&gt; compService\r\n          = new ExecutorCompletionService&lt;Result&gt;(threadPool);\r\n    for (MyJob job : jobs) {\r\n        compService.submit(job);\r\n    }\r\n    // shutdown the pool but the jobs submitted continue to run\r\n    threadPool.shutdown();\r\n    while (true) {\r\n        Future&lt;Result&gt; future;\r\n        // if pool has terminated (all jobs finished after shutdown) then poll() else take()\r\n        if (threadPool.isTerminated()) {\r\n            future = compService.poll();\r\n            if (future == null) {\r\n                break;\r\n            }\r\n        } else {\r\n            // the take() blocks until any of the jobs complete\r\n            // this joins with the jobs in the order they _finish_\r\n            future = compService.take();\r\n        }\r\n        // this get() won&#39;t block\r\n        Result result = future.get();\r\n        // you can then put the result in some other thread pool or something\r\n        // to immediately start processing it\r\n        someOtherThreadPool.submit(new SomeNewJob(result));\r\n    }\r\n","title":"ExecutorCompletionService? Why do need one if we have invokeAll?","body":"<blockquote>\n<p>So why are there 2 different ways to submit a series of tasks? Am I correct that performance wise they are equivalent? Is there a case that one is more suitable than the other? I can't think of one.</p>\n</blockquote>\n<p>By using an <code>ExecutorCompletionService</code>, you can get immediately notified when <em>each</em> of your jobs completes.  In comparison, <code>ExecutorService.invokeAll(...)</code> waits for <em>all</em> of your jobs to complete before returning the collection of <code>Future</code>s. This means that (for example), if all but one job completes in 10 minutes but 1 job takes 30 minutes, you will get no results for 30 minutes.</p>\n<pre><code>// this waits until _all_ of the jobs complete\nList&lt;Future&lt;Object&gt;&gt; futures = threadPool.invokeAll(...);\n</code></pre>\n<p>Instead, when you use a <code>ExecutorCompletionService</code>, you will be able to get the jobs as soon as each of them completes which allows you to (for example) send them on for processing into another thread pool, log results immediately, etc..</p>\n<pre><code>ExecutorService threadPool = Executors.newFixedThreadPool(2);\nExecutorCompletionService&lt;Result&gt; compService\n      = new ExecutorCompletionService&lt;Result&gt;(threadPool);\nfor (MyJob job : jobs) {\n    compService.submit(job);\n}\n// shutdown the pool but the jobs submitted continue to run\nthreadPool.shutdown();\nwhile (true) {\n    Future&lt;Result&gt; future;\n    // if pool has terminated (all jobs finished after shutdown) then poll() else take()\n    if (threadPool.isTerminated()) {\n        future = compService.poll();\n        if (future == null) {\n            break;\n        }\n    } else {\n        // the take() blocks until any of the jobs complete\n        // this joins with the jobs in the order they _finish_\n        future = compService.take();\n    }\n    // this get() won't block\n    Result result = future.get();\n    // you can then put the result in some other thread pool or something\n    // to immediately start processing it\n    someOtherThreadPool.submit(new SomeNewJob(result));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":321204,"reputation":19987,"user_id":639891,"accept_rate":91,"display_name":"Dungeon Hunter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1358192950,"creation_date":1358192950,"answer_id":14325538,"question_id":11872520,"body_markdown":"Comparing by Considering only the Order of Results:\r\n\r\nWhen we use `CompletionService` whenever a job submitted is finished the result will be pushed to the queue (Completion Order). Then the order of the submitted jobs and the returned results  is no more same. So if you are concerned about the order which tasks got executed use `CompletionService`\r\n\r\nWhere As `invokeAll` returns a  list of Futures representing the tasks, in the same sequential order as produced by the iterator for the given task list, each of which has completed.","title":"ExecutorCompletionService? Why do need one if we have invokeAll?","body":"<p>Comparing by Considering only the Order of Results:</p>\n\n<p>When we use <code>CompletionService</code> whenever a job submitted is finished the result will be pushed to the queue (Completion Order). Then the order of the submitted jobs and the returned results  is no more same. So if you are concerned about the order which tasks got executed use <code>CompletionService</code></p>\n\n<p>Where As <code>invokeAll</code> returns a  list of Futures representing the tasks, in the same sequential order as produced by the iterator for the given task list, each of which has completed.</p>\n"}],"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33725,"favorite_count":0,"down_vote_count":1,"up_vote_count":50,"accepted_answer_id":11872604,"answer_count":4,"score":49,"last_activity_date":1683645896,"creation_date":1344457220,"question_id":11872520,"body_markdown":"If we use an [ExecutorCompletionService][1] we can submit a series of tasks as `Callable`s and get the result interacting with the `CompletionService` as a `queue`.  \r\n\r\nBut there is also the `invokeAll` of `ExecutorService` that accepts a `Collection` of tasks and we get a list of `Future` to retrieve the results.  \r\n\r\nAs far as I can tell, there is no benefit in using one or over the other (except that we avoid a `for` loop using an `invokeAll` that we would have to `submit` the tasks to the `CompletionService`) and essentially they are the same idea with a slight difference.  \r\n\r\nSo why are there 2 different ways to submit a series of tasks? Am I correct that performance wise they are equivalent? Is there a case that one is more suitable than the other? I can&#39;t think of one.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorCompletionService.html","title":"ExecutorCompletionService? Why do need one if we have invokeAll?","body":"<p>If we use an <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorCompletionService.html\">ExecutorCompletionService</a> we can submit a series of tasks as <code>Callable</code>s and get the result interacting with the <code>CompletionService</code> as a <code>queue</code>.  </p>\n\n<p>But there is also the <code>invokeAll</code> of <code>ExecutorService</code> that accepts a <code>Collection</code> of tasks and we get a list of <code>Future</code> to retrieve the results.  </p>\n\n<p>As far as I can tell, there is no benefit in using one or over the other (except that we avoid a <code>for</code> loop using an <code>invokeAll</code> that we would have to <code>submit</code> the tasks to the <code>CompletionService</code>) and essentially they are the same idea with a slight difference.  </p>\n\n<p>So why are there 2 different ways to submit a series of tasks? Am I correct that performance wise they are equivalent? Is there a case that one is more suitable than the other? I can't think of one.</p>\n"},{"tags":["java","maven","serenity-bdd"],"answers":[{"tags":[],"owner":{"account_id":6644280,"reputation":944,"user_id":5129022,"display_name":"John Smart"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561186228,"creation_date":1561186228,"answer_id":56713273,"question_id":56711201,"body_markdown":"To generate the full Serenity report you need to run `mvn serenity:aggregate` or `gradle aggregate`. You can use the `maven-serenity-plugin` to integrate it into the `mvn verify` stage:\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${serenity.maven.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;tags&gt;${tags}&lt;/tags&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;serenity-reports&lt;/id&gt;\r\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;aggregate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```","title":"Serenity Report Dashboard","body":"<p>To generate the full Serenity report you need to run <code>mvn serenity:aggregate</code> or <code>gradle aggregate</code>. You can use the <code>maven-serenity-plugin</code> to integrate it into the <code>mvn verify</code> stage:</p>\n\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${serenity.maven.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                  &lt;tags&gt;${tags}&lt;/tags&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;serenity-reports&lt;/id&gt;\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;aggregate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":708,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683645892,"creation_date":1561157192,"question_id":56711201,"body_markdown":"Im using serenity framework to do automation testing. My problem is the generated HTML report is separate to two files - One for Firefox and another one for Chrome due to i have two Test Manager class. \r\n\r\nQuestions: \r\n1. How to create a nicely dashboard report similar to Extent or Allure? \r\n\r\nCurrent Report looks like this: \r\n[![enter image description here][1]][1]\r\n\r\nBetter Report: \r\n[![enter image description here][2]][2]\r\n\r\nPlease help. Thanks. \r\n\r\n  [1]: https://i.stack.imgur.com/wvd4m.png\r\n  [2]: https://i.stack.imgur.com/clBaI.png","title":"Serenity Report Dashboard","body":"<p>Im using serenity framework to do automation testing. My problem is the generated HTML report is separate to two files - One for Firefox and another one for Chrome due to i have two Test Manager class. </p>\n\n<p>Questions: \n1. How to create a nicely dashboard report similar to Extent or Allure? </p>\n\n<p>Current Report looks like this: \n<a href=\"https://i.stack.imgur.com/wvd4m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wvd4m.png\" alt=\"enter image description here\"></a></p>\n\n<p>Better Report: \n<a href=\"https://i.stack.imgur.com/clBaI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/clBaI.png\" alt=\"enter image description here\"></a></p>\n\n<p>Please help. Thanks. </p>\n"},{"tags":["java","jenkins","groovy","role-base-authorization"],"owner":{"account_id":18326681,"reputation":21,"user_id":13346153,"display_name":"Alexgar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683645734,"creation_date":1683645734,"question_id":76210945,"body_markdown":"In Jenkins I use the plug-in &quot;Role-based Authorization Strategy&quot; to manage permissions.\r\n\r\nI simply have two &quot;Global Roles&quot;: user and &quot;admin&quot;. admin can do anything, and user can simply view jobs a execute them.\r\n\r\nBut I would like to have a personal folder for each user where they can create jobs and configure them and basically do anything that don&#39;t affect the rest of the Jenkins platform.\r\n\r\nTo do so, I think the best option is to create &quot;Item Roles&quot; with the pattern of the personal folders of each user, and assign them to their corresponding users. But that is too much work, and not all users may need that personal folder.\r\n\r\nInstead, I would prefer to have a job called &quot;CreateMyFolder&quot; that creates a folder named as the user that executed that job, create the &quot;Item Role&quot;, and assign it to the user.\r\n\r\nSo far, I&#39;ve managed to create the folder with:\r\n\r\n    import com.cloudbees.hudson.plugins.folder.*\r\n    import jenkins.model.Jenkins\r\n    \r\n    def jenkins = Jenkins.getInstance()\r\n    def userName = jenkins.getMe().toString()\r\n    def parentFolderName = &quot;DailyWork&quot;\r\n    def parentFolder = jenkins.getItemByFullName(parentFolderName)\r\n    folder = parentFolder.createProject(Folder.class, userName)\r\n\r\nLooks like &quot;com.michelin.cio.hudson.plugins.rolestrategy&quot; needs to be used, but I&#39;m struggling to get it done.\r\n\r\nAny idea about how to use that package?\r\n\r\nThank you a lot! \r\n\r\n","title":"How to create an &quot;Item Role&quot; and assign it to a Jenkins user using a groovy script","body":"<p>In Jenkins I use the plug-in &quot;Role-based Authorization Strategy&quot; to manage permissions.</p>\n<p>I simply have two &quot;Global Roles&quot;: user and &quot;admin&quot;. admin can do anything, and user can simply view jobs a execute them.</p>\n<p>But I would like to have a personal folder for each user where they can create jobs and configure them and basically do anything that don't affect the rest of the Jenkins platform.</p>\n<p>To do so, I think the best option is to create &quot;Item Roles&quot; with the pattern of the personal folders of each user, and assign them to their corresponding users. But that is too much work, and not all users may need that personal folder.</p>\n<p>Instead, I would prefer to have a job called &quot;CreateMyFolder&quot; that creates a folder named as the user that executed that job, create the &quot;Item Role&quot;, and assign it to the user.</p>\n<p>So far, I've managed to create the folder with:</p>\n<pre><code>import com.cloudbees.hudson.plugins.folder.*\nimport jenkins.model.Jenkins\n\ndef jenkins = Jenkins.getInstance()\ndef userName = jenkins.getMe().toString()\ndef parentFolderName = &quot;DailyWork&quot;\ndef parentFolder = jenkins.getItemByFullName(parentFolderName)\nfolder = parentFolder.createProject(Folder.class, userName)\n</code></pre>\n<p>Looks like &quot;com.michelin.cio.hudson.plugins.rolestrategy&quot; needs to be used, but I'm struggling to get it done.</p>\n<p>Any idea about how to use that package?</p>\n<p>Thank you a lot!</p>\n"},{"tags":["java","int"],"comments":[{"owner":{"account_id":13072244,"reputation":2184,"user_id":10014361,"display_name":"Aven Desta"},"score":0,"creation_date":1617083905,"post_id":2051817,"comment_id":118196196,"body_markdown":"Without string you can extract it using modulo operation. `(345/10)%10 = 4` , `(345/100)%10 = 5`","body":"Without string you can extract it using modulo operation. <code>(345&#47;10)%10 = 4</code> , <code>(345&#47;100)%10 = 5</code>"}],"answers":[{"comments":[{"owner":{"account_id":29773,"reputation":14194,"user_id":80701,"accept_rate":87,"display_name":"monksy"},"score":3,"creation_date":1263325462,"post_id":2051824,"comment_id":1978982,"body_markdown":"I don&#39;t like that this solution involves the conversion of an number to a string, but I do like the fact that its a oneliner, you got my vote.","body":"I don&#39;t like that this solution involves the conversion of an number to a string, but I do like the fact that its a oneliner, you got my vote."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1263325498,"post_id":2051824,"comment_id":1978989,"body_markdown":"That&#39;s going to be about &#39;0&#39; out. Doesn&#39;t work for Integer.MIN_VALUE.","body":"That&#39;s going to be about &#39;0&#39; out. Doesn&#39;t work for Integer.MIN_VALUE."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":2,"creation_date":1263325642,"post_id":2051824,"comment_id":1979004,"body_markdown":"(1String.valueOf(-Math.abs(x)).charAt(1)` ? Or is that a bit obscure?)","body":"(1String.valueOf(-Math.abs(x)).charAt(1)` ? Or is that a bit obscure?)"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1263325710,"post_id":2051824,"comment_id":1979011,"body_markdown":"@Tom: I was just in the middle of editing for the Integer.MIN_VALUE issue. Working with longs makes it easier :) Not sure what you mean about it being &#39;0&#39; out though, given the second sentence of my first paragraph. It&#39;s not obvious whether the OP wants a character or an integer.","body":"@Tom: I was just in the middle of editing for the Integer.MIN_VALUE issue. Working with longs makes it easier :) Not sure what you mean about it being &#39;0&#39; out though, given the second sentence of my first paragraph. It&#39;s not obvious whether the OP wants a character or an integer."},{"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"score":0,"creation_date":1263326508,"post_id":2051824,"comment_id":1979127,"body_markdown":"@Jon Skeet: You start off with &quot;The easiest way&quot; and then proceed to agglomerate 4 functions and 2 casts with instructions for further processing. It&#39;s not a bad solution per se but I cannot agree with the ridiculous number of upvotes you&#39;re getting for this byzantine contraption.","body":"@Jon Skeet: You start off with &quot;The easiest way&quot; and then proceed to agglomerate 4 functions and 2 casts with instructions for further processing. It&#39;s not a bad solution per se but I cannot agree with the ridiculous number of upvotes you&#39;re getting for this byzantine contraption."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1263326789,"post_id":2051824,"comment_id":1979153,"body_markdown":"@Carl: There&#39;s only a single cast (to `long`) there, and three method calls (`valueOf`, `abs`, `charAt`). The looping suggestion in the second form would still require a cast (or implicit conversion) and `abs` to cope with `Integer.MIN_VALUE`. I don&#39;t agree that it&#39;s byzantine, either - it seems perfectly natural to me. An integer really only has a &quot;first digit&quot; when you consider it in a formatted sense - so converting it to string and taking the first character is pretty obvious, isn&#39;t it? The other complexities are just due to coping with negative numbers.","body":"@Carl: There&#39;s only a single cast (to <code>long</code>) there, and three method calls (<code>valueOf</code>, <code>abs</code>, <code>charAt</code>). The looping suggestion in the second form would still require a cast (or implicit conversion) and <code>abs</code> to cope with <code>Integer.MIN_VALUE</code>. I don&#39;t agree that it&#39;s byzantine, either - it seems perfectly natural to me. An integer really only has a &quot;first digit&quot; when you consider it in a formatted sense - so converting it to string and taking the first character is pretty obvious, isn&#39;t it? The other complexities are just due to coping with negative numbers."},{"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"score":0,"creation_date":1263327121,"post_id":2051824,"comment_id":1979191,"body_markdown":"@Jon Skeet: I miscounted casts, and the voters are obviously on your side.","body":"@Jon Skeet: I miscounted casts, and the voters are obviously on your side."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1263327827,"post_id":2051824,"comment_id":1979296,"body_markdown":"@Carl: That doesn&#39;t make the voters right, of course :) I certainly wouldn&#39;t want to put you off from criticising... which isn&#39;t the same as promising I won&#39;t defend my solutions :) (How many negatives can I get into a sentence?)","body":"@Carl: That doesn&#39;t make the voters right, of course :) I certainly wouldn&#39;t want to put you off from criticising... which isn&#39;t the same as promising I won&#39;t defend my solutions :) (How many negatives can I get into a sentence?)"},{"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"score":0,"creation_date":1263328890,"post_id":2051824,"comment_id":1979433,"body_markdown":"@Jon: That depends: How many function calls can you get into one line?   ;) But seriously, I think you&#39;re working far too hard to catch corner cases in a poorly specified homework assignment. Still, it&#39;s a correct solution, so if you edit your answer I&#39;ll retract my vote.","body":"@Jon: That depends: How many function calls can you get into one line?   ;) But seriously, I think you&#39;re working far too hard to catch corner cases in a poorly specified homework assignment. Still, it&#39;s a correct solution, so if you edit your answer I&#39;ll retract my vote."},{"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"score":0,"creation_date":1263329206,"post_id":2051824,"comment_id":1979479,"body_markdown":"Another jab at your solution, though: It&#39;s wholly inappropriate as the solution to a homework problem. How is he ever going to explain that code to his teacher? ;)","body":"Another jab at your solution, though: It&#39;s wholly inappropriate as the solution to a homework problem. How is he ever going to explain that code to his teacher? ;)"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1263329949,"post_id":2051824,"comment_id":1979596,"body_markdown":"@Carl: Edited. Getting it working at all was for the OP. Working out the corner cases was for me :)","body":"@Carl: Edited. Getting it working at all was for the OP. Working out the corner cases was for me :)"},{"owner":{"account_id":34514,"reputation":28046,"user_id":97627,"accept_rate":75,"display_name":"Paul Wagland"},"score":0,"creation_date":1263330691,"post_id":2051824,"comment_id":1979693,"body_markdown":"The other thing that you could do, assuming that we don&#39;t care about objects being created is `String.valueOf(BigInteger.valueOf(x).abs()).charAt(0)`","body":"The other thing that you could do, assuming that we don&#39;t care about objects being created is <code>String.valueOf(BigInteger.valueOf(x).abs()).charAt(0)</code>"},{"owner":{"display_name":"anon"},"score":0,"creation_date":1387742862,"post_id":2051824,"comment_id":31064845,"body_markdown":"+1 - I am working on a library of String utils I use a lot, and am using this to convert numbers from int form to their &#39;name&#39;. Ex. 9123 -&gt; nine thousand one hundred twenty three. This will help a good bit. Thanks! By the way, yes, I did just use both of the things to avoid in this comment.","body":"+1 - I am working on a library of String utils I use a lot, and am using this to convert numbers from int form to their &#39;name&#39;. Ex. 9123 -&gt; nine thousand one hundred twenty three. This will help a good bit. Thanks! By the way, yes, I did just use both of the things to avoid in this comment."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":13,"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1263329902,"creation_date":1263325388,"answer_id":2051824,"question_id":2051817,"body_markdown":"The *easiest* way would be to use `String.valueOf(Math.abs((long)x)).charAt(0)` - that will give it you as a `char`&lt;sup&gt;1&lt;/sup&gt;. To get that as an integer value, you could just subtract &#39;0&#39; (as in Unicode, &#39;0&#39; to &#39;9&#39; are contiguous).\r\n\r\nIt&#39;s somewhat wasteful, of course. An alternative would just be to take the absolute value, then loop round dividing by 10 until the number is in the range 0-9. If this is homework, that&#39;s the answer I&#39;d give. However, I&#39;m not going to provide the code for it because I think it *might* be homework. However, if you provide comments and edit your answer to explain how you&#39;re doing and what problems you&#39;re running into, we may be able to help.\r\n\r\n----\r\n\r\n&lt;sup&gt;1&lt;/sup&gt;One sticky point to note is that the absolute value of `Integer.MIN_VALUE` can&#39;t be represented as an `int` - so you may should first convert to a `long`, then use `Math.abs`, *then* do arithmetic. That&#39;s why there&#39;s a cast there.","title":"Return first digit of an integer","body":"<p>The <em>easiest</em> way would be to use <code>String.valueOf(Math.abs((long)x)).charAt(0)</code> - that will give it you as a <code>char</code><sup>1</sup>. To get that as an integer value, you could just subtract '0' (as in Unicode, '0' to '9' are contiguous).</p>\n\n<p>It's somewhat wasteful, of course. An alternative would just be to take the absolute value, then loop round dividing by 10 until the number is in the range 0-9. If this is homework, that's the answer I'd give. However, I'm not going to provide the code for it because I think it <em>might</em> be homework. However, if you provide comments and edit your answer to explain how you're doing and what problems you're running into, we may be able to help.</p>\n\n<hr>\n\n<p><sup>1</sup>One sticky point to note is that the absolute value of <code>Integer.MIN_VALUE</code> can't be represented as an <code>int</code> - so you may should first convert to a <code>long</code>, then use <code>Math.abs</code>, <em>then</em> do arithmetic. That's why there's a cast there.</p>\n"},{"comments":[{"owner":{"account_id":79434,"reputation":31832,"user_id":225239,"accept_rate":99,"display_name":"George Johnston"},"score":0,"creation_date":1263325573,"post_id":2051827,"comment_id":1978996,"body_markdown":"So grab the absolute value, then cast it to a string, then return the first character.","body":"So grab the absolute value, then cast it to a string, then return the first character."}],"tags":[],"owner":{"account_id":79434,"reputation":31832,"user_id":225239,"accept_rate":99,"display_name":"George Johnston"},"comment_count":1,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1263327533,"creation_date":1263325408,"answer_id":2051827,"question_id":2051817,"body_markdown":"Homework Hint:  Convert it to a string and and return the first character.","title":"Return first digit of an integer","body":"<p>Homework Hint:  Convert it to a string and and return the first character.</p>\n"},{"comments":[{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1263325747,"post_id":2051856,"comment_id":1979016,"body_markdown":"String generalSolution = carlsSolution.replace(&quot;345&quot;, &quot;Math.abs(inputValue))&quot;;","body":"String generalSolution = carlsSolution.replace(&quot;345&quot;, &quot;Math.abs(inputValue))&quot;;"},{"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"score":0,"creation_date":1263326043,"post_id":2051856,"comment_id":1979062,"body_markdown":"@Andreas_D: I just realized I may have been missing votes because people couldn&#39;t make that intellectual leap, so I made an explicit function of it.","body":"@Andreas_D: I just realized I may have been missing votes because people couldn&#39;t make that intellectual leap, so I made an explicit function of it."},{"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"score":2,"creation_date":1263326197,"post_id":2051856,"comment_id":1979087,"body_markdown":"@Gennadiy, I&#39;m sorry I edited my solution since you made your comment, but it wasn&#39;t wrong before either. Any integer value whose square is greater than 81 has an absolute value greater than 9, and since it&#39;s an integer that means it&#39;s at least 10.","body":"@Gennadiy, I&#39;m sorry I edited my solution since you made your comment, but it wasn&#39;t wrong before either. Any integer value whose square is greater than 81 has an absolute value greater than 9, and since it&#39;s an integer that means it&#39;s at least 10."},{"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"score":0,"creation_date":1263329065,"post_id":2051856,"comment_id":1979462,"body_markdown":"@Tom: The spec doesn&#39;t say what to do with negative numbers. Are negative inputs allowed? Do they literally want the first *digit* or do they want the first *character* ( `-` ) ? I&#39;m not willing to worry too hard about this.","body":"@Tom: The spec doesn&#39;t say what to do with negative numbers. Are negative inputs allowed? Do they literally want the first <i>digit</i> or do they want the first <i>character</i> ( <code>-</code> ) ? I&#39;m not willing to worry too hard about this."}],"tags":[],"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"comment_count":4,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1263329093,"creation_date":1263325579,"answer_id":2051856,"question_id":2051817,"body_markdown":"    public static int firstDigit(int n) {\r\n      while (n &lt; -9 || 9 &lt; n) n /= 10;\r\n      return Math.abs(n);\r\n    }\r\n\r\nShould handle negative numbers pretty well, too. Will return a negative first digit in that case.","title":"Return first digit of an integer","body":"<pre><code>public static int firstDigit(int n) {\n  while (n &lt; -9 || 9 &lt; n) n /= 10;\n  return Math.abs(n);\n}\n</code></pre>\n\n<p>Should handle negative numbers pretty well, too. Will return a negative first digit in that case.</p>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1263326126,"post_id":2051880,"comment_id":1979078,"body_markdown":"I&#39;d be interesting to know whether that works correctly for every integer. I&#39;d be concerned about floating point inaccuracies creeping in - but it may be okay. Hard to test efficiently...","body":"I&#39;d be interesting to know whether that works correctly for every integer. I&#39;d be concerned about floating point inaccuracies creeping in - but it may be okay. Hard to test efficiently..."},{"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"score":0,"creation_date":1263327181,"post_id":2051880,"comment_id":1979205,"body_markdown":"Interestingly enough, this solution yields the same result as mine for all integers between 0 and 100,000,000. However, it doesn&#39;t do negatives.","body":"Interestingly enough, this solution yields the same result as mine for all integers between 0 and 100,000,000. However, it doesn&#39;t do negatives."},{"owner":{"account_id":36883,"reputation":2520,"user_id":105326,"display_name":"lins314159"},"score":0,"creation_date":1263337959,"post_id":2051880,"comment_id":1980562,"body_markdown":"Needs slight alterations to return 0 if x == 0 and firstDigit(-x) if x &lt; 0.","body":"Needs slight alterations to return 0 if x == 0 and firstDigit(-x) if x &lt; 0."},{"owner":{"account_id":47566,"reputation":6816,"user_id":140938,"accept_rate":100,"display_name":"liwp"},"score":1,"creation_date":1263377723,"post_id":2051880,"comment_id":1983446,"body_markdown":"@lins314159: thanks, I added checks for those\n\n@Jon: I thought I&#39;d test the algo with haskell&#39;s QuickCheck library and the results are interesting: when I run the test interactively it passes, when I compile the test code it fails at -1000, 1000. It turns out that log 1000 returns 2.999... in the compiled code, rather than 3. This is exactly the kind of floating point error you were worried about. This does not seem to happen in Java though (at least not with the same values). I&#39;ll see what the haskell mailinglist has to say.","body":"@lins314159: thanks, I added checks for those  @Jon: I thought I&#39;d test the algo with haskell&#39;s QuickCheck library and the results are interesting: when I run the test interactively it passes, when I compile the test code it fails at -1000, 1000. It turns out that log 1000 returns 2.999... in the compiled code, rather than 3. This is exactly the kind of floating point error you were worried about. This does not seem to happen in Java though (at least not with the same values). I&#39;ll see what the haskell mailinglist has to say."},{"owner":{"account_id":61967,"reputation":1087,"user_id":184389,"display_name":"srikanth Nutigattu"},"score":0,"creation_date":1589134694,"post_id":2051880,"comment_id":109166884,"body_markdown":"divisor = (int)(Math.pow(10,(int) Math.log10(rem)));\n\nfirstdigit = (int) (rem * 1.0 / divisor);","body":"divisor = (int)(Math.pow(10,(int) Math.log10(rem)));  firstdigit = (int) (rem * 1.0 / divisor);"}],"tags":[],"owner":{"account_id":47566,"reputation":6816,"user_id":140938,"accept_rate":100,"display_name":"liwp"},"comment_count":5,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1263374083,"creation_date":1263325879,"answer_id":2051880,"question_id":2051817,"body_markdown":"Yet another way:\r\n\r\n    public int firstDigit(int x) {\r\n      if (x == 0) return 0;\r\n      x = Math.abs(x);\r\n      return (int) Math.floor(x / Math.pow(10, Math.floor(Math.log10(x))));\r\n    }\r\n","title":"Return first digit of an integer","body":"<p>Yet another way:</p>\n\n<pre><code>public int firstDigit(int x) {\n  if (x == 0) return 0;\n  x = Math.abs(x);\n  return (int) Math.floor(x / Math.pow(10, Math.floor(Math.log10(x))));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":87816,"reputation":2230,"user_id":243314,"display_name":"Matthew Flynn"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1587871810,"creation_date":1263326224,"answer_id":2051909,"question_id":2051817,"body_markdown":"**Updated: log10 solution:**\r\n\r\nA variation on the log10 solution with no division.:\r\n\r\n    public int getFirstDigit(int x) {\r\n        double e = Math.log10(Math.abs((long) x));\r\n        return Double.valueOf(Math.pow(10.0, e - Math.floor(e))).intValue());\r\n    }\r\n\r\nWhat&#39;s it doing?  \r\n\r\n 1. cast the int to long (to handle the MIN_VALUE issue)\r\n 2. get the absolute value\r\n 3. calculate the log10\r\n 4. calculate the floor of the log10\r\n 5. subtract the floor from the log10 (the difference will be the fraction)\r\n 6. raise ten to the difference, giving you the value of the first digit.\r\n\r\n \r\n\r\n**while loop solution:**\r\n\r\nTo handle Integer.MIN_VALUE and keep Math.abs() and the cast to long out of the loop:\r\n\r\n    public static int getFirstDigit(int i) {\r\n        i = Math.abs(i / (Math.abs((long)i) &gt;= 10 ) ? 10 : 1);\r\n        while (i &gt;= 10 ) \r\n            i /= 10;\r\n        return i;\r\n    }\r\n","title":"Return first digit of an integer","body":"<p><strong>Updated: log10 solution:</strong></p>\n\n<p>A variation on the log10 solution with no division.:</p>\n\n<pre><code>public int getFirstDigit(int x) {\n    double e = Math.log10(Math.abs((long) x));\n    return Double.valueOf(Math.pow(10.0, e - Math.floor(e))).intValue());\n}\n</code></pre>\n\n<p>What's it doing?  </p>\n\n<ol>\n<li>cast the int to long (to handle the MIN_VALUE issue)</li>\n<li>get the absolute value</li>\n<li>calculate the log10</li>\n<li>calculate the floor of the log10</li>\n<li>subtract the floor from the log10 (the difference will be the fraction)</li>\n<li>raise ten to the difference, giving you the value of the first digit.</li>\n</ol>\n\n<p><strong>while loop solution:</strong></p>\n\n<p>To handle Integer.MIN_VALUE and keep Math.abs() and the cast to long out of the loop:</p>\n\n<pre><code>public static int getFirstDigit(int i) {\n    i = Math.abs(i / (Math.abs((long)i) &gt;= 10 ) ? 10 : 1);\n    while (i &gt;= 10 ) \n        i /= 10;\n    return i;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72519,"reputation":7464,"user_id":209359,"display_name":"Chip Uni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1263326482,"creation_date":1263326482,"answer_id":2051935,"question_id":2051817,"body_markdown":"    int main(void) {\r\n      int num = 3421;\r\n\r\n      while (num*num + 10 - num*(1 + num) &lt;= 0) {\r\n        num *= (num - 0.9*num)/num;\r\n      }\r\n\r\n      std::cout &lt;&lt; num &lt;&lt; std::endl;\r\n    }\r\n","title":"Return first digit of an integer","body":"<pre><code>int main(void) {\n  int num = 3421;\n\n  while (num*num + 10 - num*(1 + num) &lt;= 0) {\n    num *= (num - 0.9*num)/num;\n  }\n\n  std::cout &lt;&lt; num &lt;&lt; std::endl;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1263327737,"post_id":2051956,"comment_id":1979289,"body_markdown":"How certain are you that computing a log and computing a power and then dividing once will be faster than performing up to 9 integer divisions by 10? I wouldn&#39;t like to guess that, to be honest... or claim it to be universally true across all processors and JVMs.","body":"How certain are you that computing a log and computing a power and then dividing once will be faster than performing up to 9 integer divisions by 10? I wouldn&#39;t like to guess that, to be honest... or claim it to be universally true across all processors and JVMs."},{"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"score":1,"creation_date":1263332618,"post_id":2051956,"comment_id":1979953,"body_markdown":"I&#39;m rather shocked about this, but it turns out that liwp&#39;s solution, which is very similar to this, returns the correct result over most of its range (I gave up after 100 million). Is that luck or are those transcendental functions very amenable to this exact problem, or what?? To be fair, +1 here too.","body":"I&#39;m rather shocked about this, but it turns out that liwp&#39;s solution, which is very similar to this, returns the correct result over most of its range (I gave up after 100 million). Is that luck or are those transcendental functions very amenable to this exact problem, or what?? To be fair, +1 here too."},{"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"score":1,"creation_date":1263332750,"post_id":2051956,"comment_id":1979973,"body_markdown":"As for performance... yeah. They probably won&#39;t run this algorithm at any supercomputing centers. Does it matter? ;)","body":"As for performance... yeah. They probably won&#39;t run this algorithm at any supercomputing centers. Does it matter? ;)"}],"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1263326715,"creation_date":1263326715,"answer_id":2051956,"question_id":2051817,"body_markdown":"Fastest way would be :\r\n\r\n - Compute log of the abs(x), then get floor. Let&#39;s call it n.\r\n - Divide the number with 10^n","title":"Return first digit of an integer","body":"<p>Fastest way would be :</p>\n\n<ul>\n<li>Compute log of the abs(x), then get floor. Let's call it n.</li>\n<li>Divide the number with 10^n</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1263327660,"post_id":2051958,"comment_id":1979271,"body_markdown":"Doesn&#39;t cope with Integer.MIN_VALUE, but nice to see the recursive version. I don&#39;t think I&#39;d use the conditional operator for the `if` condition, but I might use it for the return statement - at least if Math.abs didn&#39;t exist.","body":"Doesn&#39;t cope with Integer.MIN_VALUE, but nice to see the recursive version. I don&#39;t think I&#39;d use the conditional operator for the <code>if</code> condition, but I might use it for the return statement - at least if Math.abs didn&#39;t exist."},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":1,"creation_date":1263334893,"post_id":2051958,"comment_id":1980227,"body_markdown":"@Jon, tested it with Integer.MIN_VALUE before, and the result was &#39;2&#39;, with and without casting to long... Is it really a problem?","body":"@Jon, tested it with Integer.MIN_VALUE before, and the result was &#39;2&#39;, with and without casting to long... Is it really a problem?"},{"owner":{"account_id":34514,"reputation":28046,"user_id":97627,"accept_rate":75,"display_name":"Paul Wagland"},"score":2,"creation_date":1263375896,"post_id":2051958,"comment_id":1983237,"body_markdown":"It won&#39;t be a problem since you never try to negate MIN_VALUE, but only ever try to negate values between -1 and -9, these (obviously) have positive equivalents.","body":"It won&#39;t be a problem since you never try to negate MIN_VALUE, but only ever try to negate values between -1 and -9, these (obviously) have positive equivalents."}],"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1263326735,"creation_date":1263326735,"answer_id":2051958,"question_id":2051817,"body_markdown":"The missing recursive solution:\r\n\r\n    int getFirstInt(int input) {\r\n      if (input &gt; 0 ? input &lt; 10 : input &gt; -10) {\r\n        return input &gt; 0 ? input : -input;\r\n      }\r\n      return getFirstInt(input / 10);\r\n    }\r\n\r\nI wouldn&#39;t use the ternary operator in real life but - isn&#39;t it kind of beautiful? ;)","title":"Return first digit of an integer","body":"<p>The missing recursive solution:</p>\n\n<pre><code>int getFirstInt(int input) {\n  if (input &gt; 0 ? input &lt; 10 : input &gt; -10) {\n    return input &gt; 0 ? input : -input;\n  }\n  return getFirstInt(input / 10);\n}\n</code></pre>\n\n<p>I wouldn't use the ternary operator in real life but - isn't it kind of beautiful? ;)</p>\n"},{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1263327069,"creation_date":1263327069,"answer_id":2052006,"question_id":2051817,"body_markdown":"This is Groovy, but it should be easy to convert to Java:\r\n\r\n    int firstNum(int x) {\r\n        a = Math.abs(x)\r\n        sig = Math.floor(Math.log10(a))\r\n        return a / Math.pow(10, sig)\r\n    }\r\n\r\nResults:\r\n\r\n&gt;groovy&gt; println(firstNum(345))  \r\n&gt;3  \r\n\r\n&gt;groovy&gt; println(firstNum(3452))  \r\n&gt;3  \r\n\r\n&gt;groovy&gt; println(firstNum(-112))  \r\n&gt;1  \r\n  \r\n&gt;groovy&gt; println(firstNum(9999))  \r\n&gt;9  \r\n  \r\n&gt;groovy&gt; println(firstNum(Integer.MAX_VALUE))  \r\n&gt;2  \r\n\r\n&gt;groovy&gt; println(firstNum(Integer.MIN_VALUE + 1))  \r\n&gt;2","title":"Return first digit of an integer","body":"<p>This is Groovy, but it should be easy to convert to Java:</p>\n\n<pre><code>int firstNum(int x) {\n    a = Math.abs(x)\n    sig = Math.floor(Math.log10(a))\n    return a / Math.pow(10, sig)\n}\n</code></pre>\n\n<p>Results:</p>\n\n<blockquote>\n  <p>groovy> println(firstNum(345))<br>\n  3  </p>\n  \n  <p>groovy> println(firstNum(3452))<br>\n  3  </p>\n  \n  <p>groovy> println(firstNum(-112))<br>\n  1  </p>\n  \n  <p>groovy> println(firstNum(9999))<br>\n  9  </p>\n  \n  <p>groovy> println(firstNum(Integer.MAX_VALUE))<br>\n  2  </p>\n  \n  <p>groovy> println(firstNum(Integer.MIN_VALUE + 1))<br>\n  2</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1263332873,"creation_date":1263332873,"answer_id":2052679,"question_id":2051817,"body_markdown":"Ignoring negative values leads to:\r\n\r\n    (&quot;&quot;+345).charAt(0);\r\n\r\n","title":"Return first digit of an integer","body":"<p>Ignoring negative values leads to:</p>\n\n<pre><code>(\"\"+345).charAt(0);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":83307,"reputation":1753,"user_id":233646,"display_name":"Terje"},"score":0,"creation_date":1263375791,"post_id":2055675,"comment_id":1983231,"body_markdown":"if the number is negative, Math.Abs() it first, naturally.","body":"if the number is negative, Math.Abs() it first, naturally."}],"tags":[],"owner":{"account_id":83307,"reputation":1753,"user_id":233646,"display_name":"Terje"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1263375710,"creation_date":1263375710,"answer_id":2055675,"question_id":2051817,"body_markdown":"    int a = 354;\r\n    int b = (int)(a / Math.Pow(10, (int)Math.Log10(a))); // 3","title":"Return first digit of an integer","body":"<pre><code>int a = 354;\nint b = (int)(a / Math.Pow(10, (int)Math.Log10(a))); // 3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2032247,"reputation":19,"user_id":1815598,"display_name":"Tristan Angel"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1352610224,"creation_date":1352609007,"answer_id":13328648,"question_id":2051817,"body_markdown":"Looking at the code supplied it seems a tad over complicating the whole thing, here is a simple solution...\r\n\r\n\tint number = 4085;\r\n\tint firstDigit = number;\r\n\twhile (firstDigit &gt; 9)\r\n\t{\r\n\t\t  firstDigit = firstDigit / 10;\r\n\t}\r\n\tSystem.out.println(&quot;The First Digit is &quot; + firstDigit);","title":"Return first digit of an integer","body":"<p>Looking at the code supplied it seems a tad over complicating the whole thing, here is a simple solution...</p>\n\n<pre><code>int number = 4085;\nint firstDigit = number;\nwhile (firstDigit &gt; 9)\n{\n      firstDigit = firstDigit / 10;\n}\nSystem.out.println(\"The First Digit is \" + firstDigit);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1166217,"reputation":355,"user_id":1144435,"accept_rate":80,"display_name":"Aiden"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1428346348,"creation_date":1428346348,"answer_id":29477601,"question_id":2051817,"body_markdown":"I find this one more simpler: \r\n\r\n    int firstDigit(int num)\r\n\t{\r\n\t\tif(num/10 == 0)\r\n\t\t\treturn num;\r\n\t\treturn firstDigit(num/10);\r\n\t\t\r\n\t}\r\n\r\n - Input: 123 =&gt; Output: 1\r\n - Input: -123 =&gt; Output: -1\r\n\r\n\r\n\r\n\r\n ","title":"Return first digit of an integer","body":"<p>I find this one more simpler: </p>\n\n<pre><code>int firstDigit(int num)\n{\n    if(num/10 == 0)\n        return num;\n    return firstDigit(num/10);\n\n}\n</code></pre>\n\n<ul>\n<li>Input: 123 => Output: 1</li>\n<li>Input: -123 => Output: -1</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3391717,"reputation":5662,"user_id":2846416,"accept_rate":62,"display_name":"borchero"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434188945,"creation_date":1434188945,"answer_id":30817287,"question_id":2051817,"body_markdown":"I think this might be a nice way to do that:\r\n\r\n    public static int length(int number) {\r\n        return (int)Math.log10(Math.abs(number)) + 1;\r\n    }\r\n    \r\n    public static int digit(int number, int digit) {\r\n        for (int i = 0; i &lt; digit; i++) {\r\n            number /= 10;\r\n        }\r\n        return Math.abs(number % 10);\r\n    }\r\n\r\nWorks for both negative and positive numbers. `digit(345, length(345) - 1)` will return `3`, `digit(345, 0)` will return 5 e.g. and so on...","title":"Return first digit of an integer","body":"<p>I think this might be a nice way to do that:</p>\n\n<pre><code>public static int length(int number) {\n    return (int)Math.log10(Math.abs(number)) + 1;\n}\n\npublic static int digit(int number, int digit) {\n    for (int i = 0; i &lt; digit; i++) {\n        number /= 10;\n    }\n    return Math.abs(number % 10);\n}\n</code></pre>\n\n<p>Works for both negative and positive numbers. <code>digit(345, length(345) - 1)</code> will return <code>3</code>, <code>digit(345, 0)</code> will return 5 e.g. and so on...</p>\n"},{"tags":[],"owner":{"account_id":4721005,"reputation":503,"user_id":4587040,"accept_rate":70,"display_name":"Elliander"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1436563526,"creation_date":1436561750,"answer_id":31350123,"question_id":2051817,"body_markdown":"Here&#39;s an extremely simple way of obtaining the first and second digits of an integer separately, but this will only work for exactly two digits!\r\n\r\n        int firstDigit = number / 10;\r\n        int secondDigit = number % 10;\r\n\r\nFor a situation where the user might input more or less digits, but where you may not know how many, you could try this approach, but other answers have better solutions for this case. I just wrote this complete program up that you can paste into a compiler and run. Once you see the pattern you can check for as many digits as you want and then just have a catch for a length greater than you want to accept:\r\n\r\n    package testingdigits;\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class TestingDigits {\r\n\r\n\r\n    Scanner keyboard = new Scanner(System.in);    \r\n    \r\n    public static void main(String[] args) \r\n    {\r\n        \r\n    Scanner keyboard = new Scanner(System.in);\r\n    \r\n    System.out.printf(&quot;\\nEnter a number to test:&quot;);\r\n    int number = keyboard.nextInt();\r\n        \r\n    int length = (int) Math.log10(number) + 1; //This gets the length of the number of digits used \r\n    \r\n    //Initializing variables first to prevent error\r\n    int firstDigit = 0, secondDigit = 0, thirdDigit = 0, fourthDigit = 0, fifthDigit = 0, sixthDigit = 0;\r\n    \r\n        if (length == 1)\r\n         {\r\n            firstDigit = number;\r\n            System.out.println(&quot;&quot; + firstDigit);\r\n         }\r\n        if (length == 2)\r\n         {\r\n            firstDigit = number / 10; //For example, 89/10 will output 8.9 and show as 8 in this case.\r\n            secondDigit = number % 10;\r\n            System.out.println(&quot;&quot; + firstDigit + &quot;&quot; + secondDigit);\r\n         }\r\n        if (length == 3)\r\n         {\r\n            firstDigit = number / 10 / 10; // 123/10/10 is 1.23 and will show as 1\r\n            secondDigit = number / 10 % 10;\r\n            thirdDigit = number % 10;\r\n            System.out.println(&quot;&quot; + firstDigit + &quot;&quot; + secondDigit + &quot;&quot; + thirdDigit);\r\n         }\r\n        if (length == 4)\r\n         {\r\n            firstDigit = number / 10 / 10 / 10; \r\n            secondDigit = number / 10 / 10 % 10;\r\n            thirdDigit = number / 10 % 10;\r\n            fourthDigit = number % 10;\r\n            System.out.println(&quot;&quot; + firstDigit + &quot;&quot; + secondDigit + &quot;&quot; + thirdDigit + &quot;&quot; + fourthDigit);\r\n         }\r\n         if (length == 5)\r\n         {\r\n            firstDigit = number / 10 / 10 / 10 / 10; \r\n            secondDigit = number / 10 / 10 / 10 % 10;\r\n            thirdDigit = number / 10 / 10 % 10;\r\n            fourthDigit = number / 10 % 10;\r\n            fifthDigit = number % 10;\r\n            System.out.println(&quot;&quot; + firstDigit + &quot;&quot; + secondDigit + &quot;&quot; + thirdDigit + &quot;&quot; + fourthDigit + &quot;&quot; + fifthDigit);\r\n         }\r\n        //You can probably see the pattern by now. It&#39;s not an elegant solution, but is very readable by even beginners:     \r\n        if ((length == 6))\r\n         {\r\n            firstDigit = number / 10 / 10 / 10 / 10 / 10; //The first digit is divided by 10 for however many digits are after it\r\n            secondDigit = number / 10 / 10 / 10 % 10;\r\n            thirdDigit = number / 10 / 10 / 10 % 10;\r\n            fourthDigit = number / 10 / 10 % 10;\r\n            fifthDigit = number / 10 % 10; //The second to last always looks like this\r\n            sixthDigit = number % 10;  //The last digit always looks like this no matter how big you go\r\n            System.out.println(&quot;&quot; + firstDigit + &quot;&quot; + secondDigit + &quot;&quot; + thirdDigit + &quot;&quot; + fourthDigit + &quot;&quot; + fifthDigit + &quot;&quot; + sixthDigit);\r\n         }\r\n        if ((length &gt; 6))\r\n         {\r\n            //The main problem with this approach is that you have to define in advance how many digits you are working with\r\n            //So it&#39;s simple, but not very elegant, and requires something to catch unexpected input from the user.\r\n            System.out.println(&quot;Invalid Input!&quot;);\r\n         }\r\n        \r\n      }\r\n    \r\n    }\r\n\r\n\r\nAs a program it just outputs exactly the number you type in, but as you can see it&#39;s doing it in a way that shows that it&#39;s able to separate the digits of user input so you can use it as a test for a simple program, but again, it&#39;s not as good as some of the other solutions here, it&#39;s just a readable approach that works well for beginners. It also accepts negatives just fine.\r\n\r\nAlso: In a case where you start with a double you could use the following to convert to int and truncate decimals:\r\n\r\n    numberInt = (int)number;","title":"Return first digit of an integer","body":"<p>Here's an extremely simple way of obtaining the first and second digits of an integer separately, but this will only work for exactly two digits!</p>\n\n<pre><code>    int firstDigit = number / 10;\n    int secondDigit = number % 10;\n</code></pre>\n\n<p>For a situation where the user might input more or less digits, but where you may not know how many, you could try this approach, but other answers have better solutions for this case. I just wrote this complete program up that you can paste into a compiler and run. Once you see the pattern you can check for as many digits as you want and then just have a catch for a length greater than you want to accept:</p>\n\n<pre><code>package testingdigits;\n\nimport java.util.Scanner;\n\npublic class TestingDigits {\n\n\nScanner keyboard = new Scanner(System.in);    \n\npublic static void main(String[] args) \n{\n\nScanner keyboard = new Scanner(System.in);\n\nSystem.out.printf(\"\\nEnter a number to test:\");\nint number = keyboard.nextInt();\n\nint length = (int) Math.log10(number) + 1; //This gets the length of the number of digits used \n\n//Initializing variables first to prevent error\nint firstDigit = 0, secondDigit = 0, thirdDigit = 0, fourthDigit = 0, fifthDigit = 0, sixthDigit = 0;\n\n    if (length == 1)\n     {\n        firstDigit = number;\n        System.out.println(\"\" + firstDigit);\n     }\n    if (length == 2)\n     {\n        firstDigit = number / 10; //For example, 89/10 will output 8.9 and show as 8 in this case.\n        secondDigit = number % 10;\n        System.out.println(\"\" + firstDigit + \"\" + secondDigit);\n     }\n    if (length == 3)\n     {\n        firstDigit = number / 10 / 10; // 123/10/10 is 1.23 and will show as 1\n        secondDigit = number / 10 % 10;\n        thirdDigit = number % 10;\n        System.out.println(\"\" + firstDigit + \"\" + secondDigit + \"\" + thirdDigit);\n     }\n    if (length == 4)\n     {\n        firstDigit = number / 10 / 10 / 10; \n        secondDigit = number / 10 / 10 % 10;\n        thirdDigit = number / 10 % 10;\n        fourthDigit = number % 10;\n        System.out.println(\"\" + firstDigit + \"\" + secondDigit + \"\" + thirdDigit + \"\" + fourthDigit);\n     }\n     if (length == 5)\n     {\n        firstDigit = number / 10 / 10 / 10 / 10; \n        secondDigit = number / 10 / 10 / 10 % 10;\n        thirdDigit = number / 10 / 10 % 10;\n        fourthDigit = number / 10 % 10;\n        fifthDigit = number % 10;\n        System.out.println(\"\" + firstDigit + \"\" + secondDigit + \"\" + thirdDigit + \"\" + fourthDigit + \"\" + fifthDigit);\n     }\n    //You can probably see the pattern by now. It's not an elegant solution, but is very readable by even beginners:     \n    if ((length == 6))\n     {\n        firstDigit = number / 10 / 10 / 10 / 10 / 10; //The first digit is divided by 10 for however many digits are after it\n        secondDigit = number / 10 / 10 / 10 % 10;\n        thirdDigit = number / 10 / 10 / 10 % 10;\n        fourthDigit = number / 10 / 10 % 10;\n        fifthDigit = number / 10 % 10; //The second to last always looks like this\n        sixthDigit = number % 10;  //The last digit always looks like this no matter how big you go\n        System.out.println(\"\" + firstDigit + \"\" + secondDigit + \"\" + thirdDigit + \"\" + fourthDigit + \"\" + fifthDigit + \"\" + sixthDigit);\n     }\n    if ((length &gt; 6))\n     {\n        //The main problem with this approach is that you have to define in advance how many digits you are working with\n        //So it's simple, but not very elegant, and requires something to catch unexpected input from the user.\n        System.out.println(\"Invalid Input!\");\n     }\n\n  }\n\n}\n</code></pre>\n\n<p>As a program it just outputs exactly the number you type in, but as you can see it's doing it in a way that shows that it's able to separate the digits of user input so you can use it as a test for a simple program, but again, it's not as good as some of the other solutions here, it's just a readable approach that works well for beginners. It also accepts negatives just fine.</p>\n\n<p>Also: In a case where you start with a double you could use the following to convert to int and truncate decimals:</p>\n\n<pre><code>numberInt = (int)number;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9287983,"reputation":7,"user_id":6897230,"display_name":"Garen"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1475981528,"creation_date":1475981528,"answer_id":39939522,"question_id":2051817,"body_markdown":"    //Try this one.\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.println(&quot;enter first 9 digits: &quot;);\r\n    String x = input.nextLine();\r\n    String x1 = x.substring(0,1);\r\n    int d1 = Integer.parseInt(x1);\r\n    System.out.println(d1);\r\n    // the substring gives the position of extraction. method dont seem to work for letters though","title":"Return first digit of an integer","body":"<pre><code>//Try this one.\nScanner input = new Scanner(System.in);\nSystem.out.println(\"enter first 9 digits: \");\nString x = input.nextLine();\nString x1 = x.substring(0,1);\nint d1 = Integer.parseInt(x1);\nSystem.out.println(d1);\n// the substring gives the position of extraction. method dont seem to work for letters though\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9850630,"reputation":1,"user_id":7296831,"display_name":"Torped"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1481730783,"creation_date":1481722563,"answer_id":41143998,"question_id":2051817,"body_markdown":"    int firstNumber(int x){\r\n         int firstN = x;\r\n         while(firstN &gt; 9){\r\n              firstN = (firstN - (firstN%10))/10;\r\n         }\r\n         return firstN;   \r\n     }\r\n   ","title":"Return first digit of an integer","body":"<pre><code>int firstNumber(int x){\n     int firstN = x;\n     while(firstN &gt; 9){\n          firstN = (firstN - (firstN%10))/10;\n     }\n     return firstN;   \n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8395588,"reputation":72,"user_id":6302808,"display_name":"Yu Wei Chen"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1504274249,"creation_date":1504274249,"answer_id":46001833,"question_id":2051817,"body_markdown":"Assume the number is int type\r\n\r\ntherefore, \r\n\r\n    int number = 352\r\n    // Change the int into String format\r\n    String numberString = Integer.toString(number);\r\n    // We can know the first digit of that String with substring method directly\r\n    Integer.parseInt(numberString.substring(0,1));\r\n\r\nor the other way is to change the String into char and get the numerical value from char\r\n\r\ne.g.\r\n\r\n    int number = 352;\r\n    String numberString = Integer.toString(number);\r\n    Character.getNumericValue(String.valueOf(target).charAt(0)); \r\n    // 0 means the first digit of the number","title":"Return first digit of an integer","body":"<p>Assume the number is int type</p>\n\n<p>therefore, </p>\n\n<pre><code>int number = 352\n// Change the int into String format\nString numberString = Integer.toString(number);\n// We can know the first digit of that String with substring method directly\nInteger.parseInt(numberString.substring(0,1));\n</code></pre>\n\n<p>or the other way is to change the String into char and get the numerical value from char</p>\n\n<p>e.g.</p>\n\n<pre><code>int number = 352;\nString numberString = Integer.toString(number);\nCharacter.getNumericValue(String.valueOf(target).charAt(0)); \n// 0 means the first digit of the number\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1192733,"reputation":1507,"user_id":1165160,"accept_rate":92,"display_name":"King Midas"},"score":1,"creation_date":1515689936,"post_id":48212118,"comment_id":83405860,"body_markdown":"what happens if it is negative?","body":"what happens if it is negative?"},{"owner":{"account_id":904897,"reputation":1424,"user_id":8794054,"display_name":"Anton Gorbunov"},"score":0,"creation_date":1515690863,"post_id":48212118,"comment_id":83406399,"body_markdown":"In order for this to work correctly you must add the `Abs` call: `Integer.parseInt(String.valueOf(Math.abs(x)).substring(0,1));`","body":"In order for this to work correctly you must add the <code>Abs</code> call: <code>Integer.parseInt(String.valueOf(Math.abs(x)).substring(0,1))&zwnj;&#8203;;</code>"},{"owner":{"account_id":4440736,"reputation":101,"user_id":3615328,"display_name":"The Halfling"},"score":0,"creation_date":1515776862,"post_id":48212118,"comment_id":83444037,"body_markdown":"Ok. Fortunately my application would only have positive integers, but I&#39;ll still make this change. Thanks!","body":"Ok. Fortunately my application would only have positive integers, but I&#39;ll still make this change. Thanks!"}],"tags":[],"owner":{"account_id":4440736,"reputation":101,"user_id":3615328,"display_name":"The Halfling"},"comment_count":3,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1515689338,"creation_date":1515689338,"answer_id":48212118,"question_id":2051817,"body_markdown":"This way worked for me just fine, but it does involve converting from int to string and back to int.\r\n\r\n    Integer.parseInt(String.valueOf(x).substring(0,1));","title":"Return first digit of an integer","body":"<p>This way worked for me just fine, but it does involve converting from int to string and back to int.</p>\n\n<pre><code>Integer.parseInt(String.valueOf(x).substring(0,1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5759921,"reputation":1,"user_id":4546668,"display_name":"Abdullah Salem"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1516186276,"creation_date":1516185393,"answer_id":48299019,"question_id":2051817,"body_markdown":"Here is a smaller version to get  digits of all positions, it works with negative value (not decimal).\r\n\r\n\tint number = -23456;\r\n\r\n\tint length = (int) Math.log10(Math.abs(number)) + 1; //This gets the length of the number of digits used\r\n\t//Math.abs to change negative int to positive\r\n\r\n\tSystem.out.println(&quot;Digit at pos &quot; + 1 + &quot; is :- &quot; + (int)(Math.abs(number)/Math.pow(10,(length-1))));\r\n\r\n\tfor (int i = 2; i &lt;= length; i++){\r\n\t\tSystem.out.println(&quot;Digit at pos &quot; + i + &quot; is :- &quot; + (int)(Math.abs(number)/Math.pow(10,(length-i))%10));\r\n\t}","title":"Return first digit of an integer","body":"<p>Here is a smaller version to get  digits of all positions, it works with negative value (not decimal).</p>\n\n<pre><code>int number = -23456;\n\nint length = (int) Math.log10(Math.abs(number)) + 1; //This gets the length of the number of digits used\n//Math.abs to change negative int to positive\n\nSystem.out.println(\"Digit at pos \" + 1 + \" is :- \" + (int)(Math.abs(number)/Math.pow(10,(length-1))));\n\nfor (int i = 2; i &lt;= length; i++){\n    System.out.println(\"Digit at pos \" + i + \" is :- \" + (int)(Math.abs(number)/Math.pow(10,(length-i))%10));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12586460,"reputation":11,"user_id":9155147,"display_name":"alex"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1516961109,"creation_date":1516961109,"answer_id":48459194,"question_id":2051817,"body_markdown":"    public static void firstDigit(int number){\t\t\r\n        while(number != 0){\r\n    \t    if (number &lt; 10){\r\n    \t\t    System.out.println(&quot;The first digit is &quot; + number);\r\n    \t\t}\r\n    \t\t\tnumber = number/10;\r\n    \r\n    \t\t}\r\n    \t}\r\n\r\nWhen you call it, you can use Maths.abs in order for it to work for negative number:\r\n\r\n    firstDigit(Math.abs(9584578)); \r\n\r\nThis returns 9","title":"Return first digit of an integer","body":"<pre><code>public static void firstDigit(int number){      \n    while(number != 0){\n        if (number &lt; 10){\n            System.out.println(\"The first digit is \" + number);\n        }\n            number = number/10;\n\n        }\n    }\n</code></pre>\n\n<p>When you call it, you can use Maths.abs in order for it to work for negative number:</p>\n\n<pre><code>firstDigit(Math.abs(9584578)); \n</code></pre>\n\n<p>This returns 9</p>\n"},{"tags":[],"owner":{"account_id":13549604,"reputation":1,"user_id":9774817,"display_name":"Eliau Maimon"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1526024482,"creation_date":1526024482,"answer_id":50287406,"question_id":2051817,"body_markdown":"To separate digits of an integer from left to right I use 2 different methods, the first one to count how many digits the integer is made up of and then I split them from left to right by dividing the integer by 10 raised to the power of the number of digits minus 1.\r\n\r\n    //method to separate digits of an integer from left to right\r\n    private static void separateDigits(int num){\r\n        int numOfDigits = countNumberOfDigits(num);\r\n        for (int numOfZeros = numOfDigits-1; numOfZeros &gt;= 0 ; --numOfZeros){\r\n            int divisor = (int) Math.pow(10, numOfZeros);\r\n            System.out.print( Math.abs(num) / divisor + &quot; // &quot; );\r\n            num %= divisor;\r\n        }\r\n    }\r\n    \r\n    //method to count number of digits\r\n    private static int countNumberOfDigits(int num){\r\n        int numOfDigits=0;\r\n        //using absolute value of num allows method to work even with negative integers\r\n        while(Math.abs(num) &gt; 0){ \r\n            num = num / 10;\r\n            numOfDigits++; //this counts the number of times the &quot;while&quot; loops\r\n        }\r\n        return numOfDigits;\r\n    }\r\n\r\nNo use of Arrays or recursive methods just simple division with &quot;/&quot; and &quot;%&quot;.\r\n\r\nInvoking the method:  \r\n\r\n    public static void main(String args[]) {\r\n\r\n    separateDigits( -123456789 );\r\n\r\n    }\r\n\r\nyields:\r\n1 // 2 // 3 // 4 // 5 // 6 // 7 // 8 // 9 //   ","title":"Return first digit of an integer","body":"<p>To separate digits of an integer from left to right I use 2 different methods, the first one to count how many digits the integer is made up of and then I split them from left to right by dividing the integer by 10 raised to the power of the number of digits minus 1.</p>\n\n<pre><code>//method to separate digits of an integer from left to right\nprivate static void separateDigits(int num){\n    int numOfDigits = countNumberOfDigits(num);\n    for (int numOfZeros = numOfDigits-1; numOfZeros &gt;= 0 ; --numOfZeros){\n        int divisor = (int) Math.pow(10, numOfZeros);\n        System.out.print( Math.abs(num) / divisor + \" // \" );\n        num %= divisor;\n    }\n}\n\n//method to count number of digits\nprivate static int countNumberOfDigits(int num){\n    int numOfDigits=0;\n    //using absolute value of num allows method to work even with negative integers\n    while(Math.abs(num) &gt; 0){ \n        num = num / 10;\n        numOfDigits++; //this counts the number of times the \"while\" loops\n    }\n    return numOfDigits;\n}\n</code></pre>\n\n<p>No use of Arrays or recursive methods just simple division with \"/\" and \"%\".</p>\n\n<p>Invoking the method:  </p>\n\n<pre><code>public static void main(String args[]) {\n\nseparateDigits( -123456789 );\n\n}\n</code></pre>\n\n<p>yields:\n1 // 2 // 3 // 4 // 5 // 6 // 7 // 8 // 9 //   </p>\n"},{"comments":[{"owner":{"account_id":86770,"reputation":370,"user_id":241056,"display_name":"Larry Engholm"},"score":0,"creation_date":1554147544,"post_id":52623797,"comment_id":97637170,"body_markdown":"I think if you test this on 123 you&#39;ll get 3 rather than 1.","body":"I think if you test this on 123 you&#39;ll get 3 rather than 1."},{"owner":{"account_id":12595173,"reputation":477,"user_id":9160102,"display_name":"Bruno L."},"score":0,"creation_date":1554364274,"post_id":52623797,"comment_id":97726251,"body_markdown":"No sir... 123 - 120 = 3","body":"No sir... 123 - 120 = 3"},{"owner":{"account_id":86770,"reputation":370,"user_id":241056,"display_name":"Larry Engholm"},"score":1,"creation_date":1554431137,"post_id":52623797,"comment_id":97758648,"body_markdown":"Thanks for confirming that.  I believe the first digit of 123 is 1.","body":"Thanks for confirming that.  I believe the first digit of 123 is 1."}],"tags":[],"owner":{"account_id":12595173,"reputation":477,"user_id":9160102,"display_name":"Bruno L."},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1538558600,"creation_date":1538558600,"answer_id":52623797,"question_id":2051817,"body_markdown":"I think more simple to do : \r\n\r\n\r\n    int firstDigit = i-(i/10)*10 // i is an integer or long value, positive or negative.\r\n","title":"Return first digit of an integer","body":"<p>I think more simple to do : </p>\n\n<pre><code>int firstDigit = i-(i/10)*10 // i is an integer or long value, positive or negative.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1637525492,"post_id":70057368,"comment_id":123843609,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/70057368/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":18928659,"reputation":19,"user_id":13811208,"display_name":"resteqs"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637518668,"creation_date":1637518668,"answer_id":70057368,"question_id":2051817,"body_markdown":"Its easier then any solution given hier if you only need the first digit/one sepcific digit:\r\n\r\n    int temp = 345%100 //temp = 45\r\n    int firstDigit = (345 -temp)/100 //fisrtDigit= 300/100 = 3\r\n\r\nIf you need to check the 2nd digit too then you need to repeat step one\r\n\r\n     int tempHuns = 345%100 //tempHuns = 45  \r\n     tempTens = tempHuns %10 // tempTens= 5\r\n     int secondDigit = (tempHuns - tempTens)/10 //fisrtDigit= 40/10 = 4\r\n\r\n\r\n","title":"Return first digit of an integer","body":"<p>Its easier then any solution given hier if you only need the first digit/one sepcific digit:</p>\n<pre><code>int temp = 345%100 //temp = 45\nint firstDigit = (345 -temp)/100 //fisrtDigit= 300/100 = 3\n</code></pre>\n<p>If you need to check the 2nd digit too then you need to repeat step one</p>\n<pre><code> int tempHuns = 345%100 //tempHuns = 45  \n tempTens = tempHuns %10 // tempTens= 5\n int secondDigit = (tempHuns - tempTens)/10 //fisrtDigit= 40/10 = 4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7556619,"reputation":349,"user_id":5735993,"display_name":"Saeid Mohammadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683645647,"creation_date":1653372498,"answer_id":72357915,"question_id":2051817,"body_markdown":"try this:\r\n\r\n     public int getFirstDigit(int num){\r\n        if (num &lt; 0) {\r\n            num = -num; // convert negative to positive\r\n        }\r\n        return Integer.parseInt(Integer.toString(num).substring(0, 1));\r\n    }\r\n","title":"Return first digit of an integer","body":"<p>try this:</p>\n<pre><code> public int getFirstDigit(int num){\n    if (num &lt; 0) {\n        num = -num; // convert negative to positive\n    }\n    return Integer.parseInt(Integer.toString(num).substring(0, 1));\n}\n</code></pre>\n"}],"owner":{"account_id":581274,"reputation":277,"user_id":249193,"display_name":"Tony"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87217,"favorite_count":0,"down_vote_count":2,"up_vote_count":28,"answer_count":25,"score":26,"last_activity_date":1683645647,"creation_date":1263325343,"question_id":2051817,"body_markdown":"How in Java do you return the first digit of an integer.?\r\n\r\ni.e. \r\n\r\n345\r\n\r\nReturns an int of 3.\r\n","title":"Return first digit of an integer","body":"<p>How in Java do you return the first digit of an integer.?</p>\n\n<p>i.e. </p>\n\n<p>345</p>\n\n<p>Returns an int of 3.</p>\n"},{"tags":["java","hyperledger-chaincode"],"comments":[{"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"score":0,"creation_date":1683639687,"post_id":76208957,"comment_id":134395118,"body_markdown":"Do you have one or multiple single CarTransfer Contract instances? If you could make sure there is only one instance, &quot;check&quot; variable should be increased as expected.","body":"Do you have one or multiple single CarTransfer Contract instances? If you could make sure there is only one instance, &quot;check&quot; variable should be increased as expected."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683676423,"post_id":76208957,"comment_id":134402416,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":6865025,"reputation":41,"user_id":5277799,"display_name":"Zak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683645636,"creation_date":1683632617,"question_id":76208957,"body_markdown":"I have a `CarTransfer Contract` Class. It has one method `createCar` and one instance variable `check`. The value of the `check` is initially 0. So every time when the `createCar` method is called, the `check` should be increased by 1. Theoretically, after the 5 method calls of `createCar`, the value of the `check` should be 5. But the problem is, the value of the variable `check` stays always 1. It only increases once but after that no increase.\r\n\r\nWhen I make the variable static it works. but making a variable static is not a good practice. I want to know what is the root cause behind this problem.","title":"Does Hyperledger Fabric runtime create a new instance of Contract class every time when i call a method?","body":"<p>I have a <code>CarTransfer Contract</code> Class. It has one method <code>createCar</code> and one instance variable <code>check</code>. The value of the <code>check</code> is initially 0. So every time when the <code>createCar</code> method is called, the <code>check</code> should be increased by 1. Theoretically, after the 5 method calls of <code>createCar</code>, the value of the <code>check</code> should be 5. But the problem is, the value of the variable <code>check</code> stays always 1. It only increases once but after that no increase.</p>\n<p>When I make the variable static it works. but making a variable static is not a good practice. I want to know what is the root cause behind this problem.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9778,"page":447,"page_size":100}
