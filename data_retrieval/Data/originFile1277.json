{"items":[{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654781487,"post_id":72561132,"comment_id":128177741,"body_markdown":"See the blocking http access in the release notes: https://maven.apache.org/docs/3.8.1/release-notes.html","body":"See the blocking http access in the release notes: <a href=\"https://maven.apache.org/docs/3.8.1/release-notes.html\" rel=\"nofollow noreferrer\">maven.apache.org/docs/3.8.1/release-notes.html</a>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654781808,"post_id":72561132,"comment_id":128177880,"body_markdown":"Apart from that... the usage of such an old spring boot verison is not recommended ... https://spring.io/projects/spring-boot#support...","body":"Apart from that... the usage of such an old spring boot verison is not recommended ... <a href=\"https://spring.io/projects/spring-boot#support\" rel=\"nofollow noreferrer\">spring.io/projects/spring-boot#support</a>..."}],"owner":{"account_id":23030046,"reputation":15,"user_id":17149703,"display_name":"EX08"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654781158,"creation_date":1654781158,"question_id":72561132,"body_markdown":"I imported a maven project in eclipse , whenever I am trying to build,install,clean the application then we are getting below error-\r\n[![enter image description here][1]][1]\r\n\r\n\r\nActually our project is running on remote machine so we can not close the VPN . I searched \r\non stackoverflow some one is saying that I need to provide proxy detail in .m2/setting.xml.\r\nI also provide the proxy detail but still we are getting same issue.\r\nAnd in my pom.xml file getting error alert on two element first on parent and second on project element .\r\nplease find below snippet for the pom.xml file\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J5zvx.png\r\n  [2]: https://i.stack.imgur.com/Wki9h.png\r\n\r\n\r\nPlease provide any solution -","title":"Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.2.4.REL","body":"<p>I imported a maven project in eclipse , whenever I am trying to build,install,clean the application then we are getting below error-\n<a href=\"https://i.stack.imgur.com/J5zvx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J5zvx.png\" alt=\"enter image description here\" /></a></p>\n<p>Actually our project is running on remote machine so we can not close the VPN . I searched\non stackoverflow some one is saying that I need to provide proxy detail in .m2/setting.xml.\nI also provide the proxy detail but still we are getting same issue.\nAnd in my pom.xml file getting error alert on two element first on parent and second on project element .\nplease find below snippet for the pom.xml file</p>\n<p><a href=\"https://i.stack.imgur.com/Wki9h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wki9h.png\" alt=\"enter image description here\" /></a></p>\n<p>Please provide any solution -</p>\n"},{"tags":["java","spring-boot","kubernetes","amazon-eks","spring-logback"],"answers":[{"tags":[],"owner":{"account_id":3408395,"reputation":11432,"user_id":2858934,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654780425,"creation_date":1654780425,"answer_id":72560930,"question_id":72540843,"body_markdown":"You have a maximum filesize of 1GB and specify gzip compression. Depending on your resource configuration in the pod this can lead to quite a long time for performing the compression.\r\n\r\nYou can either increase the resources or, probably better, reduce the max file size to 100mb.","title":"spring Logback error coming when starting spring application","body":"<p>You have a maximum filesize of 1GB and specify gzip compression. Depending on your resource configuration in the pod this can lead to quite a long time for performing the compression.</p>\n<p>You can either increase the resources or, probably better, reduce the max file size to 100mb.</p>\n"}],"owner":{"account_id":18695929,"reputation":81,"user_id":13629257,"display_name":"prateek jangid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654780425,"creation_date":1654668631,"question_id":72540843,"body_markdown":"Below logback error is coming when starting the spring application which is deployed in Kubernetes.\r\n\r\n&gt;2022-04-20 13:47:25.928 ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n&gt; \r\n&gt; java.lang.IllegalStateException: Logback configuration error detected:\r\n&gt; ERROR in c.q.l.core.rolling.SizeAndTimeBasedRollingPolicy@1248276879 -\r\n&gt; Unexpected exception while waiting for compression job to finish\r\n&gt; java.lang.InterruptedException \tat\r\n&gt; org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:169)\r\n&gt; \tat\r\n&gt; org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:82)\r\n&gt; \tat\r\n&gt; org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\r\n&gt; \tat\r\n&gt; org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:117)\r\n&gt; \tat\r\n&gt; org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:290)\r\n&gt; \tat\r\n&gt; org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:263)\r\n&gt; \tat\r\n&gt; org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:226)\r\n&gt; \tat\r\n&gt; org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:199)\r\n&gt; \tat\r\n&gt; org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n&gt; \tat\r\n&gt; org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n&gt; \tat\r\n&gt; org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n&gt; \tat\r\n&gt; org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n&gt; \tat\r\n&gt; org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:75)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:54)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:347)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:306)\r\n&gt; \tat com.dt.Application.main(Application.java:20) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:498) \tat\r\n&gt; org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\r\n&gt; \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n&gt; \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\r\n&gt; \tat\r\n&gt; org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\r\n\r\nLogback-spring configuration:-\r\n\r\n    &lt;appender name=&quot;FILE-JSON-LIBS&quot;\r\n                  class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n            &lt;file&gt;${LOG_DIR}/${dtlogname:-${ACTIVE_APP}}-${envname:-${ENV}}-libs-json-${HOSTNAME}.log&lt;/file&gt;\r\n    \r\n            &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\r\n                &lt;timeZone&gt;UTC&lt;/timeZone&gt;\r\n                &lt;timestampPattern&gt;dd-MM-yyyy HH:mm:ss:SSS&lt;/timestampPattern&gt;\r\n                &lt;shortenedLoggerNameLength&gt;25&lt;/shortenedLoggerNameLength&gt;\r\n                &lt;fieldNames&gt;\r\n                    &lt;timestamp&gt;requestTimeStamp&lt;/timestamp&gt;\r\n                    &lt;thread&gt;threadId&lt;/thread&gt;\r\n                    &lt;logger&gt;logger&lt;/logger&gt;\r\n                    &lt;stackTrace&gt;stackTrace&lt;/stackTrace&gt;\r\n                    &lt;version&gt;[ignore]&lt;/version&gt;\r\n                    &lt;levelValue&gt;[ignore]&lt;/levelValue&gt;\r\n                &lt;/fieldNames&gt;\r\n                &lt;includeMdcKeyName&gt;REQUEST_ID&lt;/includeMdcKeyName&gt;\r\n                &lt;includeMdcKeyName&gt;CORRELATION_ID&lt;/includeMdcKeyName&gt;\r\n                &lt;includeMdcKeyName&gt;COUNTRY&lt;/includeMdcKeyName&gt;\r\n                &lt;includeMdcKeyName&gt;LANGUAGE&lt;/includeMdcKeyName&gt;\r\n                &lt;includeMdcKeyName&gt;CHANNEL&lt;/includeMdcKeyName&gt;\r\n                &lt;mdcKeyFieldName&gt;REQUEST_ID=requestId&lt;/mdcKeyFieldName&gt;\r\n                &lt;mdcKeyFieldName&gt;CORRELATION_ID=correlationId&lt;/mdcKeyFieldName&gt;\r\n                &lt;mdcKeyFieldName&gt;COUNTRY=country&lt;/mdcKeyFieldName&gt;\r\n                &lt;mdcKeyFieldName&gt;LANGUAGE=language&lt;/mdcKeyFieldName&gt;\r\n                &lt;mdcKeyFieldName&gt;CHANNEL=channel&lt;/mdcKeyFieldName&gt;\r\n                &lt;includeContext&gt;false&lt;/includeContext&gt;\r\n                &lt;customFields&gt;{&quot;serviceId&quot;:&quot;${ACTIVE_APP}&quot;}&lt;/customFields&gt;\r\n            &lt;/encoder&gt;\r\n    \r\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n                &lt;!-- daily rollover --&gt;\r\n                &lt;fileNamePattern&gt;\r\n                    ${LOG_DIR}/${dtlogname:-${ACTIVE_APP}}-${envname:-${ENV}}-libs-json-${HOSTNAME}.%d{yyyy-MM-dd}.%i.gz\r\n                &lt;/fileNamePattern&gt;\r\n                &lt;maxFileSize&gt;1GB&lt;/maxFileSize&gt;\r\n                &lt;totalSizeCap&gt;10GB&lt;/totalSizeCap&gt;\r\n                &lt;!-- keep 30 days worth of history --&gt;\r\n                &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n            &lt;/rollingPolicy&gt;\r\n        &lt;/appender&gt;\r\n\r\nAny idea to overcome this error will be helpful as it stops the main application.","title":"spring Logback error coming when starting spring application","body":"<p>Below logback error is coming when starting the spring application which is deployed in Kubernetes.</p>\n<blockquote>\n<p>2022-04-20 13:47:25.928 ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed</p>\n<p>java.lang.IllegalStateException: Logback configuration error detected:\nERROR in c.q.l.core.rolling.SizeAndTimeBasedRollingPolicy@1248276879 -\nUnexpected exception while waiting for compression job to finish\njava.lang.InterruptedException    at\norg.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:169)\nat\norg.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:82)\nat\norg.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\nat\norg.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:117)\nat\norg.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:290)\nat\norg.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:263)\nat\norg.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:226)\nat\norg.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:199)\nat\norg.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\nat\norg.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\nat\norg.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\nat\norg.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\nat\norg.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:75)\nat\norg.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:54)\nat\norg.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:347)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:306)\nat com.dt.Application.main(Application.java:20)     at\nsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)     at\norg.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\nat\norg.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)</p>\n</blockquote>\n<p>Logback-spring configuration:-</p>\n<pre><code>&lt;appender name=&quot;FILE-JSON-LIBS&quot;\n              class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;file&gt;${LOG_DIR}/${dtlogname:-${ACTIVE_APP}}-${envname:-${ENV}}-libs-json-${HOSTNAME}.log&lt;/file&gt;\n\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\n            &lt;timeZone&gt;UTC&lt;/timeZone&gt;\n            &lt;timestampPattern&gt;dd-MM-yyyy HH:mm:ss:SSS&lt;/timestampPattern&gt;\n            &lt;shortenedLoggerNameLength&gt;25&lt;/shortenedLoggerNameLength&gt;\n            &lt;fieldNames&gt;\n                &lt;timestamp&gt;requestTimeStamp&lt;/timestamp&gt;\n                &lt;thread&gt;threadId&lt;/thread&gt;\n                &lt;logger&gt;logger&lt;/logger&gt;\n                &lt;stackTrace&gt;stackTrace&lt;/stackTrace&gt;\n                &lt;version&gt;[ignore]&lt;/version&gt;\n                &lt;levelValue&gt;[ignore]&lt;/levelValue&gt;\n            &lt;/fieldNames&gt;\n            &lt;includeMdcKeyName&gt;REQUEST_ID&lt;/includeMdcKeyName&gt;\n            &lt;includeMdcKeyName&gt;CORRELATION_ID&lt;/includeMdcKeyName&gt;\n            &lt;includeMdcKeyName&gt;COUNTRY&lt;/includeMdcKeyName&gt;\n            &lt;includeMdcKeyName&gt;LANGUAGE&lt;/includeMdcKeyName&gt;\n            &lt;includeMdcKeyName&gt;CHANNEL&lt;/includeMdcKeyName&gt;\n            &lt;mdcKeyFieldName&gt;REQUEST_ID=requestId&lt;/mdcKeyFieldName&gt;\n            &lt;mdcKeyFieldName&gt;CORRELATION_ID=correlationId&lt;/mdcKeyFieldName&gt;\n            &lt;mdcKeyFieldName&gt;COUNTRY=country&lt;/mdcKeyFieldName&gt;\n            &lt;mdcKeyFieldName&gt;LANGUAGE=language&lt;/mdcKeyFieldName&gt;\n            &lt;mdcKeyFieldName&gt;CHANNEL=channel&lt;/mdcKeyFieldName&gt;\n            &lt;includeContext&gt;false&lt;/includeContext&gt;\n            &lt;customFields&gt;{&quot;serviceId&quot;:&quot;${ACTIVE_APP}&quot;}&lt;/customFields&gt;\n        &lt;/encoder&gt;\n\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n            &lt;!-- daily rollover --&gt;\n            &lt;fileNamePattern&gt;\n                ${LOG_DIR}/${dtlogname:-${ACTIVE_APP}}-${envname:-${ENV}}-libs-json-${HOSTNAME}.%d{yyyy-MM-dd}.%i.gz\n            &lt;/fileNamePattern&gt;\n            &lt;maxFileSize&gt;1GB&lt;/maxFileSize&gt;\n            &lt;totalSizeCap&gt;10GB&lt;/totalSizeCap&gt;\n            &lt;!-- keep 30 days worth of history --&gt;\n            &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n        &lt;/rollingPolicy&gt;\n    &lt;/appender&gt;\n</code></pre>\n<p>Any idea to overcome this error will be helpful as it stops the main application.</p>\n"},{"tags":["java","swing","jcheckbox","jradiobutton"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1654773615,"post_id":72559372,"comment_id":128174621,"body_markdown":"you can &quot;get&quot; the values by using the getters of those objects. You can set a text by using the set, or setValue/setText/... method of the target object","body":"you can &quot;get&quot; the values by using the getters of those objects. You can set a text by using the set, or setValue/setText/... method of the target object"},{"owner":{"account_id":25252446,"reputation":13,"user_id":19084731,"display_name":"KORENS"},"score":0,"creation_date":1654774470,"post_id":72559372,"comment_id":128174915,"body_markdown":"@Stultuske ive tried some get functions, but I still dont get what I need","body":"@Stultuske ive tried some get functions, but I still dont get what I need"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1654774712,"post_id":72559372,"comment_id":128174993,"body_markdown":"&quot;some get functions&quot;, either you use the wrong ones, or you use them incorrectly","body":"&quot;some get functions&quot;, either you use the wrong ones, or you use them incorrectly"},{"owner":{"account_id":25252446,"reputation":13,"user_id":19084731,"display_name":"KORENS"},"score":0,"creation_date":1654776276,"post_id":72559372,"comment_id":128175533,"body_markdown":"@Stultuske thats why im here..","body":"@Stultuske thats why im here.."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1654776445,"post_id":72559372,"comment_id":128175597,"body_markdown":"so, be specific, which get methods do you use? when/how do you use them? what is the result you get? ..","body":"so, be specific, which get methods do you use? when/how do you use them? what is the result you get? .."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1654776776,"post_id":72559372,"comment_id":128175730,"body_markdown":"did you delete and repost your previous question? If so, don&#39;t don&#39;t don&#39;t - all comments will have to be repeated, wasting time -yours and Kurs!","body":"did you delete and repost your previous question? If so, don&#39;t don&#39;t don&#39;t - all comments will have to be repeated, wasting time -yours and Kurs!"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1654776908,"post_id":72559372,"comment_id":128175796,"body_markdown":"[mcve] required - demonstrating the problem, how you tried to solve it and how that didnt work.","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> required - demonstrating the problem, how you tried to solve it and how that didnt work."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1654777078,"post_id":72559372,"comment_id":128175858,"body_markdown":"unrelated - never-ever do any manual sizing/positioning of components, instead use a suitable layout manager","body":"unrelated - never-ever do any manual sizing/positioning of components, instead use a suitable layout manager"},{"owner":{"account_id":25252446,"reputation":13,"user_id":19084731,"display_name":"KORENS"},"score":0,"creation_date":1654777572,"post_id":72559372,"comment_id":128176037,"body_markdown":"@kleopatra No i didnt delete any questions and reposted them. And thanks! From those JCheckboxes and JButtons from getters i get only true or false, how can I get the gender name instead..","body":"@kleopatra No i didnt delete any questions and reposted them. And thanks! From those JCheckboxes and JButtons from getters i get only true or false, how can I get the gender name instead.."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1654778073,"post_id":72559372,"comment_id":128176223,"body_markdown":"`JCheckBox` and `JRadioButton` are just extensions of `JButton`. *&quot;how can I get the gender name instead..&quot;* - You&#39;d base it on the variable name, `maleButton.isSelected()` for example. Honestly, most of this is demonstrated in [How to Use Buttons, Check Boxes, and Radio Buttons](https://docs.oracle.com/javase/tutorial/uiswing/components/button.html)","body":"<code>JCheckBox</code> and <code>JRadioButton</code> are just extensions of <code>JButton</code>. <i>&quot;how can I get the gender name instead..&quot;</i> - You&#39;d base it on the variable name, <code>maleButton.isSelected()</code> for example. Honestly, most of this is demonstrated in <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">How to Use Buttons, Check Boxes, and Radio Buttons</a>"},{"owner":{"account_id":25252446,"reputation":13,"user_id":19084731,"display_name":"KORENS"},"score":0,"creation_date":1654778875,"post_id":72559372,"comment_id":128176560,"body_markdown":"@MadProgrammer thank you for this source, very helpful! Now I just need to figure out how to place user input onto label.","body":"@MadProgrammer thank you for this source, very helpful! Now I just need to figure out how to place user input onto label."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1654779096,"post_id":72559372,"comment_id":128176640,"body_markdown":"@KORENS myLabel.setText(&quot;&quot;); -&gt; instead of &quot;&quot; put the information you want there","body":"@KORENS myLabel.setText(&quot;&quot;); -&gt; instead of &quot;&quot; put the information you want there"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1654783047,"post_id":72559372,"comment_id":128178423,"body_markdown":"thanks for the info - then I mis-remembered:)","body":"thanks for the info - then I mis-remembered:)"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654780295,"creation_date":1654780295,"answer_id":72560905,"question_id":72559372,"body_markdown":"Below code is a rewrite of your GUI application.\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Font;\r\nimport java.awt.GridBagConstraints;\r\nimport java.awt.GridBagLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.KeyEvent;\r\n\r\nimport javax.swing.ButtonGroup;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JCheckBox;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JPasswordField;\r\nimport javax.swing.JRadioButton;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTextArea;\r\nimport javax.swing.JTextField;\r\n\r\npublic class Login {\r\n    private JCheckBox c1;\r\n    private JPasswordField confirmPasswordText;\r\n    private JPasswordField passwordText;\r\n    private JRadioButton femaleButton;\r\n    private JRadioButton maleButton;\r\n    private JTextArea textArea;\r\n    private JTextField emailText;\r\n    private JTextField nameText;\r\n\r\n    private void createAndDisplayGui() {\r\n        JFrame frame = new JFrame(&quot;Registration&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createHeading(), BorderLayout.PAGE_START);\r\n        frame.add(createForm(), BorderLayout.CENTER);\r\n        frame.add(createButtonsPanel(), BorderLayout.PAGE_END);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JButton createButton(String text,\r\n                                 int mnemonic,\r\n                                 ActionListener listener) {\r\n        JButton button = new JButton(text);\r\n        button.setMnemonic(mnemonic);\r\n        button.addActionListener(listener);\r\n        return button;\r\n    }\r\n\r\n    private JPanel createButtonsPanel() {\r\n        JPanel buttonsPanel = new JPanel();\r\n        buttonsPanel.add(createButton(&quot;Submit&quot;, KeyEvent.VK_S, this::submit));\r\n        return buttonsPanel;\r\n    }\r\n\r\n    private JPanel createForm() {\r\n        JPanel form = new JPanel(new GridBagLayout());\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        gbc.anchor = GridBagConstraints.LINE_START;\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 0;\r\n        gbc.insets.bottom = 5;\r\n        gbc.insets.left = 10;\r\n        gbc.insets.right = 10;\r\n        gbc.insets.top = 0;\r\n        JLabel nameLabel = new JLabel(&quot;Name&quot;);\r\n        form.add(nameLabel, gbc);\r\n        gbc.gridx = 1;\r\n        nameText = new JTextField(16);\r\n        form.add(nameText, gbc);\r\n        gbc.gridy = 1;\r\n        form.add(createRadioButtons(), gbc);\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 2;\r\n        JLabel eMailLabel = new JLabel(&quot;E-mail&quot;);\r\n        form.add(eMailLabel, gbc);\r\n        gbc.gridx = 1;\r\n        emailText = new JTextField(16);\r\n        form.add(emailText, gbc);\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 3;\r\n        JLabel passwordLabel = new JLabel(&quot;Password&quot;);\r\n        form.add(passwordLabel, gbc);\r\n        gbc.gridx = 1;\r\n        passwordText = new JPasswordField(16);\r\n        form.add(passwordText, gbc);\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 4;\r\n        JLabel confirmLabel = new JLabel(&quot;Confirm password&quot;);\r\n        form.add(confirmLabel, gbc);\r\n        gbc.gridx = 1;\r\n        confirmPasswordText = new JPasswordField(16);\r\n        form.add(confirmPasswordText, gbc);\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 5;\r\n        c1 = new JCheckBox(&quot;I agree to websites rules!&quot;);\r\n        form.add(c1, gbc);\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 6;\r\n        textArea = new JTextArea(2, 30);\r\n        textArea.setEditable(false);\r\n        textArea.setFocusable(false);\r\n        JScrollPane scrollPane = new JScrollPane(textArea);\r\n        form.add(scrollPane, gbc);\r\n        return form;\r\n    }\r\n\r\n    private JPanel createHeading() {\r\n        JPanel heading = new JPanel();\r\n        JLabel label = new JLabel(&quot;REGISTRATION FORM&quot;);\r\n        label.setFont(label.getFont().deriveFont(Font.BOLD, 14.0f));\r\n        heading.add(label);\r\n        return heading;\r\n    }\r\n\r\n    private JPanel createRadioButtons() {\r\n        JPanel radioButtons = new JPanel();\r\n        ButtonGroup group = new ButtonGroup();\r\n        maleButton = new JRadioButton(&quot;Male&quot;);\r\n        maleButton.setSelected(true);\r\n        radioButtons.add(maleButton);\r\n        group.add(maleButton);\r\n        femaleButton = new JRadioButton(&quot;Female&quot;);\r\n        radioButtons.add(femaleButton);\r\n        group.add(femaleButton);\r\n        return radioButtons;\r\n    }\r\n\r\n    private void submit(ActionEvent event) {\r\n        textArea.setText(&quot;&quot;);\r\n        String name = nameText.getText();\r\n        textArea.append(name);\r\n        String gender;\r\n        if (maleButton.isSelected()) {\r\n            gender = &quot;male&quot;;\r\n        }\r\n        else {\r\n            gender = &quot;female&quot;;\r\n        }\r\n        textArea.append(&quot;, &quot; + gender);\r\n        String email = emailText.getText();\r\n        textArea.append(&quot;, &quot; + email);\r\n        String password = new String(passwordText.getPassword());\r\n        textArea.append(&quot;, &quot; + password);\r\n        String confirmPassword = new String(confirmPasswordText.getPassword());\r\n        textArea.append(&quot;, &quot; + confirmPassword);\r\n        textArea.append(&quot;, &quot; + c1.isSelected());\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; new Login().createAndDisplayGui());\r\n    }\r\n}\r\n```\r\n* Usually you use a layout manager rather than setting it to null. Refer to [Laying Out Components Within a Container][1]\r\n* You need to group `JRadioButton`s in a `ButtonGroup` to ensure that only one can be selected. Refer to [How to Use Buttons, Check Boxes, and Radio Buttons][2]\r\n* Method `getText` is deprecated for `JPasswordField`. Refer to [How to Use Password Fields][3].\r\n* I chose to display the user inputs in a `JTextArea` in a `JScrollPane` but there are other options. Refer to [Using Text Components][4] and [How to Use Scroll Panes][5].\r\n* Since Java 8, the `ActionListener` interface can be implemented via a [method reference][6].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/uiswing/components/passwordfield.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/uiswing/components/text.html\r\n  [5]: https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\r\n  [6]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","title":"Get User Input and show it on field - Java","body":"<p>Below code is a rewrite of your GUI application.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\n\nimport javax.swing.ButtonGroup;\nimport javax.swing.JButton;\nimport javax.swing.JCheckBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JPasswordField;\nimport javax.swing.JRadioButton;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.JTextField;\n\npublic class Login {\n    private JCheckBox c1;\n    private JPasswordField confirmPasswordText;\n    private JPasswordField passwordText;\n    private JRadioButton femaleButton;\n    private JRadioButton maleButton;\n    private JTextArea textArea;\n    private JTextField emailText;\n    private JTextField nameText;\n\n    private void createAndDisplayGui() {\n        JFrame frame = new JFrame(&quot;Registration&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createHeading(), BorderLayout.PAGE_START);\n        frame.add(createForm(), BorderLayout.CENTER);\n        frame.add(createButtonsPanel(), BorderLayout.PAGE_END);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JButton createButton(String text,\n                                 int mnemonic,\n                                 ActionListener listener) {\n        JButton button = new JButton(text);\n        button.setMnemonic(mnemonic);\n        button.addActionListener(listener);\n        return button;\n    }\n\n    private JPanel createButtonsPanel() {\n        JPanel buttonsPanel = new JPanel();\n        buttonsPanel.add(createButton(&quot;Submit&quot;, KeyEvent.VK_S, this::submit));\n        return buttonsPanel;\n    }\n\n    private JPanel createForm() {\n        JPanel form = new JPanel(new GridBagLayout());\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.anchor = GridBagConstraints.LINE_START;\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        gbc.insets.bottom = 5;\n        gbc.insets.left = 10;\n        gbc.insets.right = 10;\n        gbc.insets.top = 0;\n        JLabel nameLabel = new JLabel(&quot;Name&quot;);\n        form.add(nameLabel, gbc);\n        gbc.gridx = 1;\n        nameText = new JTextField(16);\n        form.add(nameText, gbc);\n        gbc.gridy = 1;\n        form.add(createRadioButtons(), gbc);\n        gbc.gridx = 0;\n        gbc.gridy = 2;\n        JLabel eMailLabel = new JLabel(&quot;E-mail&quot;);\n        form.add(eMailLabel, gbc);\n        gbc.gridx = 1;\n        emailText = new JTextField(16);\n        form.add(emailText, gbc);\n        gbc.gridx = 0;\n        gbc.gridy = 3;\n        JLabel passwordLabel = new JLabel(&quot;Password&quot;);\n        form.add(passwordLabel, gbc);\n        gbc.gridx = 1;\n        passwordText = new JPasswordField(16);\n        form.add(passwordText, gbc);\n        gbc.gridx = 0;\n        gbc.gridy = 4;\n        JLabel confirmLabel = new JLabel(&quot;Confirm password&quot;);\n        form.add(confirmLabel, gbc);\n        gbc.gridx = 1;\n        confirmPasswordText = new JPasswordField(16);\n        form.add(confirmPasswordText, gbc);\n        gbc.gridx = 1;\n        gbc.gridy = 5;\n        c1 = new JCheckBox(&quot;I agree to websites rules!&quot;);\n        form.add(c1, gbc);\n        gbc.gridx = 1;\n        gbc.gridy = 6;\n        textArea = new JTextArea(2, 30);\n        textArea.setEditable(false);\n        textArea.setFocusable(false);\n        JScrollPane scrollPane = new JScrollPane(textArea);\n        form.add(scrollPane, gbc);\n        return form;\n    }\n\n    private JPanel createHeading() {\n        JPanel heading = new JPanel();\n        JLabel label = new JLabel(&quot;REGISTRATION FORM&quot;);\n        label.setFont(label.getFont().deriveFont(Font.BOLD, 14.0f));\n        heading.add(label);\n        return heading;\n    }\n\n    private JPanel createRadioButtons() {\n        JPanel radioButtons = new JPanel();\n        ButtonGroup group = new ButtonGroup();\n        maleButton = new JRadioButton(&quot;Male&quot;);\n        maleButton.setSelected(true);\n        radioButtons.add(maleButton);\n        group.add(maleButton);\n        femaleButton = new JRadioButton(&quot;Female&quot;);\n        radioButtons.add(femaleButton);\n        group.add(femaleButton);\n        return radioButtons;\n    }\n\n    private void submit(ActionEvent event) {\n        textArea.setText(&quot;&quot;);\n        String name = nameText.getText();\n        textArea.append(name);\n        String gender;\n        if (maleButton.isSelected()) {\n            gender = &quot;male&quot;;\n        }\n        else {\n            gender = &quot;female&quot;;\n        }\n        textArea.append(&quot;, &quot; + gender);\n        String email = emailText.getText();\n        textArea.append(&quot;, &quot; + email);\n        String password = new String(passwordText.getPassword());\n        textArea.append(&quot;, &quot; + password);\n        String confirmPassword = new String(confirmPasswordText.getPassword());\n        textArea.append(&quot;, &quot; + confirmPassword);\n        textArea.append(&quot;, &quot; + c1.isSelected());\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new Login().createAndDisplayGui());\n    }\n}\n</code></pre>\n<ul>\n<li>Usually you use a layout manager rather than setting it to null. Refer to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a></li>\n<li>You need to group <code>JRadioButton</code>s in a <code>ButtonGroup</code> to ensure that only one can be selected. Refer to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">How to Use Buttons, Check Boxes, and Radio Buttons</a></li>\n<li>Method <code>getText</code> is deprecated for <code>JPasswordField</code>. Refer to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/passwordfield.html\" rel=\"nofollow noreferrer\">How to Use Password Fields</a>.</li>\n<li>I chose to display the user inputs in a <code>JTextArea</code> in a <code>JScrollPane</code> but there are other options. Refer to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/text.html\" rel=\"nofollow noreferrer\">Using Text Components</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\" rel=\"nofollow noreferrer\">How to Use Scroll Panes</a>.</li>\n<li>Since Java 8, the <code>ActionListener</code> interface can be implemented via a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method reference</a>.</li>\n</ul>\n"}],"owner":{"account_id":25252446,"reputation":13,"user_id":19084731,"display_name":"KORENS"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":516,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1654800415,"accepted_answer_id":72560905,"answer_count":1,"score":-1,"last_activity_date":1654780295,"creation_date":1654773516,"question_id":72559372,"body_markdown":"I am new to Java and want to start with making simple user input fields without MySQL.\r\nUntil now I got two problems that I can&#39;t solve.\r\nFirst of all, how to get inputs from `JCheckBox` and `JRadioButton`?\r\nAnd I get these user inputs in console, but how to get it to show just below the registration form in panel?\r\n```java\r\nimport javax.swing.*;\r\n\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class Login implements ActionListener {\r\n    private static JTextField nameText;\r\n    private static JTextField emailText;\r\n    private static JPasswordField passwordText;\r\n    private static JPasswordField confirmPasswordText;\r\n\r\n    public void loginForm() {\r\n        JPanel panel = new JPanel();\r\n        JFrame frame = new JFrame();\r\n        frame.setSize(600, 400);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(panel);\r\n        frame.setTitle(&quot;Registration Form&quot;);\r\n        panel.setLayout(null);\r\n        JLabel headingLabel = new JLabel(&quot;REGISTRATION FORM&quot;);\r\n        headingLabel.setBounds(285, 25, 160, 25);\r\n        panel.add(headingLabel);\r\n        JLabel nameLabel = new JLabel(&quot;Name&quot;);\r\n        nameLabel.setBounds(150, 70, 80, 25);\r\n        panel.add(nameLabel);\r\n        nameText = new JTextField(20);\r\n        nameText.setBounds(270, 70, 165, 25);\r\n        panel.add(nameText);\r\n        JRadioButton maleButton = new JRadioButton(&quot;Male&quot;);\r\n        maleButton.setBounds(270, 100, 60, 25);\r\n        panel.add(maleButton);\r\n        JRadioButton femaleButton = new JRadioButton(&quot;Female&quot;);\r\n        femaleButton.setBounds(370, 100, 100, 25);\r\n        panel.add(femaleButton);\r\n        JLabel emailLabel = new JLabel(&quot;E-mail&quot;);\r\n        emailLabel.setBounds(150, 130, 80, 25);\r\n        panel.add(emailLabel);\r\n        emailText = new JTextField(20);\r\n        emailText.setBounds(270, 130, 165, 25);\r\n        panel.add(emailText);\r\n        JLabel passwordLabel = new JLabel(&quot;Password&quot;);\r\n        passwordLabel.setBounds(150, 160, 80, 25);\r\n        panel.add(passwordLabel);\r\n        passwordText = new JPasswordField();\r\n        passwordText.setBounds(270, 160, 165, 25);\r\n        panel.add(passwordText);\r\n        JLabel confirmPasswordLabel = new JLabel(&quot;Confirm password&quot;);\r\n        confirmPasswordLabel.setBounds(150, 190, 120, 25);\r\n        panel.add(confirmPasswordLabel);\r\n        confirmPasswordText = new JPasswordField();\r\n        confirmPasswordText.setBounds(270, 190, 165, 25);\r\n        panel.add(confirmPasswordText);\r\n        JCheckBox c1 = new JCheckBox(&quot;I agree to websites rules!&quot;);\r\n        c1.setBounds(260, 220, 200, 25);\r\n        panel.add(c1);\r\n        JButton button = new JButton(&quot;Submit&quot;);\r\n        button.setBounds(300, 260, 100, 25);\r\n        button.addActionListener(new Login());\r\n        panel.add(button);\r\n        JLabel success = new JLabel();\r\n        success.setBounds(260, 290, 300, 25);\r\n        panel.add(success);\r\n\r\n        frame.setVisible(true);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        String name = nameText.getText();\r\n//        String male = maleButton.getText();\r\n//        String female = femaleButton.getText();\r\n        String email = emailText.getText();\r\n        String password = passwordText.getText();\r\n        String confirmPassword = confirmPasswordText.getText();\r\n//        String c1 = String.valueOf(JCheckBox.getDefaultLocale());\r\n        System.out.println(name + &quot;, &quot; + email + &quot;, &quot; + password + &quot;, &quot; + confirmPassword);\r\n    }\r\n}\r\n```\r\n\r\n![Image](https://i.ibb.co/mqZ7MJW/1.png)","title":"Get User Input and show it on field - Java","body":"<p>I am new to Java and want to start with making simple user input fields without MySQL.\nUntil now I got two problems that I can't solve.\nFirst of all, how to get inputs from <code>JCheckBox</code> and <code>JRadioButton</code>?\nAnd I get these user inputs in console, but how to get it to show just below the registration form in panel?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\n\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class Login implements ActionListener {\n    private static JTextField nameText;\n    private static JTextField emailText;\n    private static JPasswordField passwordText;\n    private static JPasswordField confirmPasswordText;\n\n    public void loginForm() {\n        JPanel panel = new JPanel();\n        JFrame frame = new JFrame();\n        frame.setSize(600, 400);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(panel);\n        frame.setTitle(&quot;Registration Form&quot;);\n        panel.setLayout(null);\n        JLabel headingLabel = new JLabel(&quot;REGISTRATION FORM&quot;);\n        headingLabel.setBounds(285, 25, 160, 25);\n        panel.add(headingLabel);\n        JLabel nameLabel = new JLabel(&quot;Name&quot;);\n        nameLabel.setBounds(150, 70, 80, 25);\n        panel.add(nameLabel);\n        nameText = new JTextField(20);\n        nameText.setBounds(270, 70, 165, 25);\n        panel.add(nameText);\n        JRadioButton maleButton = new JRadioButton(&quot;Male&quot;);\n        maleButton.setBounds(270, 100, 60, 25);\n        panel.add(maleButton);\n        JRadioButton femaleButton = new JRadioButton(&quot;Female&quot;);\n        femaleButton.setBounds(370, 100, 100, 25);\n        panel.add(femaleButton);\n        JLabel emailLabel = new JLabel(&quot;E-mail&quot;);\n        emailLabel.setBounds(150, 130, 80, 25);\n        panel.add(emailLabel);\n        emailText = new JTextField(20);\n        emailText.setBounds(270, 130, 165, 25);\n        panel.add(emailText);\n        JLabel passwordLabel = new JLabel(&quot;Password&quot;);\n        passwordLabel.setBounds(150, 160, 80, 25);\n        panel.add(passwordLabel);\n        passwordText = new JPasswordField();\n        passwordText.setBounds(270, 160, 165, 25);\n        panel.add(passwordText);\n        JLabel confirmPasswordLabel = new JLabel(&quot;Confirm password&quot;);\n        confirmPasswordLabel.setBounds(150, 190, 120, 25);\n        panel.add(confirmPasswordLabel);\n        confirmPasswordText = new JPasswordField();\n        confirmPasswordText.setBounds(270, 190, 165, 25);\n        panel.add(confirmPasswordText);\n        JCheckBox c1 = new JCheckBox(&quot;I agree to websites rules!&quot;);\n        c1.setBounds(260, 220, 200, 25);\n        panel.add(c1);\n        JButton button = new JButton(&quot;Submit&quot;);\n        button.setBounds(300, 260, 100, 25);\n        button.addActionListener(new Login());\n        panel.add(button);\n        JLabel success = new JLabel();\n        success.setBounds(260, 290, 300, 25);\n        panel.add(success);\n\n        frame.setVisible(true);\n\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        String name = nameText.getText();\n//        String male = maleButton.getText();\n//        String female = femaleButton.getText();\n        String email = emailText.getText();\n        String password = passwordText.getText();\n        String confirmPassword = confirmPasswordText.getText();\n//        String c1 = String.valueOf(JCheckBox.getDefaultLocale());\n        System.out.println(name + &quot;, &quot; + email + &quot;, &quot; + password + &quot;, &quot; + confirmPassword);\n    }\n}\n</code></pre>\n<p><img src=\"https://i.ibb.co/mqZ7MJW/1.png\" alt=\"Image\" /></p>\n"},{"tags":["java","arrays","string","switch-statement","return"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1654778016,"post_id":72560316,"comment_id":128176203,"body_markdown":"ok ... and, isn&#39;t it working? why do you have that day array, if you choose not to use it?","body":"ok ... and, isn&#39;t it working? why do you have that day array, if you choose not to use it?"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1654778048,"post_id":72560316,"comment_id":128176215,"body_markdown":"`return new String[]{&quot;saturday&quot;,&quot;sunday&quot;};`","body":"<code>return new String[]{&quot;saturday&quot;,&quot;sunday&quot;};</code>"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1654778095,"post_id":72560316,"comment_id":128176231,"body_markdown":"Also, `public static void getWeekends(){` You need to add the parameter to the function.","body":"Also, <code>public static void getWeekends(){</code> You need to add the parameter to the function."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1654778212,"post_id":72560316,"comment_id":128176277,"body_markdown":"`switch(day)` isn&#39;t `day` an array?","body":"<code>switch(day)</code> isn&#39;t <code>day</code> an array?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654779450,"creation_date":1654778489,"answer_id":72560458,"question_id":72560316,"body_markdown":"Your code contains multiple unrelated errors.\r\n\r\n## Array initializers not allowed\r\n\r\n&gt; `{&quot;saturday&quot;, &quot;sunday&quot;}`\r\n\r\nThat&#39;s not legal java, except in very specific places.\r\n\r\nSpecifically, __in the initializing expression of either a local variable, or field declaration whose type is an array__, that is legal, and it isn&#39;t legal anywhere else. In other words, okay:\r\n\r\n```\r\nString[] x = {&quot;saturday&quot;, &quot;sunday&quot;};\r\n```\r\n\r\nAnd that&#39;s about the only place you can legally write that. If you want an expression that resolves to a string array with 2 &#39;values&#39;, the first one being &quot;saturday&quot; and the second being &quot;sunday&quot;, you write:\r\n\r\n```\r\nnew String[] {&quot;saturday&quot;, &quot;sunday&quot;};\r\n```\r\n\r\nThis is also legit in variable declarations:\r\n\r\n```\r\nString[] x = new String[] {&quot;saturday&quot;, &quot;sunday&quot;};\r\n```\r\n\r\nBut you can &#39;shorten&#39; it and omit the `new String[]` part there.\r\n\r\n## Parameter confusion\r\n\r\nIn your main app you pass `&quot;long&quot;` as parameter to your `getWeekends` method, but your `getWeekends()` method declaration accepts zero parameters. You need to fix that:\r\n\r\n```\r\npublic static void getWeekends(String type) {\r\n```\r\n\r\n## Return type confusion\r\n\r\nYou write `return` in your getWeekends method, i.e. you want to return something. Specifically, you want to return a string array. However, you&#39;ve declared it to return nothing (`void` means: I return nothing). You must fix this:\r\n\r\n```\r\npublic static String[] getWeekends(String type) {\r\n```\r\n\r\n## Pointless creation of `day`\r\n\r\nIt looks like that whole `day` thing is you trying random stuff, flailing about and having no idea what to do. Let&#39;s just get rid of it? Remove the stuff from `String[] day` to `day[3]=`; you can simply switch on `type`, which is the parameter you got from whatever called you.\r\n\r\n## Your app does nothing\r\n\r\nA return value is just... Returned. To the caller. The caller needs to do something with it. Perhaps, here, as an example, we shall print it. Let&#39;s add that to your main method using `System.out.println(Arrays.toString(the-array-here))`.\r\n\r\n## `null` confusion\r\n\r\n`null` should not be used unless you really know what you are doing and you have a clear definition of things. It most certainly should not be used as &#39;stand in&#39; for an error condition. Just throw something if a code path occurs that you don&#39;t know how to deal with. The `default` case should throw something instead of returning `null`.\r\n\r\n## Putting it all together\r\n\r\nThus:\r\n\r\n```\r\nclass App {\r\n   \r\n  public static void main(String[] args){\r\n      String[] dayNames = App.getWeekends(&quot;long&quot;);\r\n      System.out.println(Arrays.toString(dayNames));\r\n  }\r\n\r\n    public static String[] getWeekends(String type) {\r\n     switch(type) {\r\n        case &quot;long&quot;:\r\n          return new String[] {&quot;saturday&quot;,&quot;sunday&quot;};\r\n\r\n        case &quot;short&quot;:\r\n          return new String[] {&quot;sat&quot;, &quot;sun&quot;};\r\n\r\n      default:\r\n          throw new IllegalArgumentException(&quot;Pass either &#39;short&#39; or &#39;long&#39;&quot;);\r\n     }\r\n    }\r\n}\r\n```\r\n","title":"How to return arrays in switch-case statement in Java?","body":"<p>Your code contains multiple unrelated errors.</p>\n<h2>Array initializers not allowed</h2>\n<blockquote>\n<p><code>{&quot;saturday&quot;, &quot;sunday&quot;}</code></p>\n</blockquote>\n<p>That's not legal java, except in very specific places.</p>\n<p>Specifically, <strong>in the initializing expression of either a local variable, or field declaration whose type is an array</strong>, that is legal, and it isn't legal anywhere else. In other words, okay:</p>\n<pre><code>String[] x = {&quot;saturday&quot;, &quot;sunday&quot;};\n</code></pre>\n<p>And that's about the only place you can legally write that. If you want an expression that resolves to a string array with 2 'values', the first one being &quot;saturday&quot; and the second being &quot;sunday&quot;, you write:</p>\n<pre><code>new String[] {&quot;saturday&quot;, &quot;sunday&quot;};\n</code></pre>\n<p>This is also legit in variable declarations:</p>\n<pre><code>String[] x = new String[] {&quot;saturday&quot;, &quot;sunday&quot;};\n</code></pre>\n<p>But you can 'shorten' it and omit the <code>new String[]</code> part there.</p>\n<h2>Parameter confusion</h2>\n<p>In your main app you pass <code>&quot;long&quot;</code> as parameter to your <code>getWeekends</code> method, but your <code>getWeekends()</code> method declaration accepts zero parameters. You need to fix that:</p>\n<pre><code>public static void getWeekends(String type) {\n</code></pre>\n<h2>Return type confusion</h2>\n<p>You write <code>return</code> in your getWeekends method, i.e. you want to return something. Specifically, you want to return a string array. However, you've declared it to return nothing (<code>void</code> means: I return nothing). You must fix this:</p>\n<pre><code>public static String[] getWeekends(String type) {\n</code></pre>\n<h2>Pointless creation of <code>day</code></h2>\n<p>It looks like that whole <code>day</code> thing is you trying random stuff, flailing about and having no idea what to do. Let's just get rid of it? Remove the stuff from <code>String[] day</code> to <code>day[3]=</code>; you can simply switch on <code>type</code>, which is the parameter you got from whatever called you.</p>\n<h2>Your app does nothing</h2>\n<p>A return value is just... Returned. To the caller. The caller needs to do something with it. Perhaps, here, as an example, we shall print it. Let's add that to your main method using <code>System.out.println(Arrays.toString(the-array-here))</code>.</p>\n<h2><code>null</code> confusion</h2>\n<p><code>null</code> should not be used unless you really know what you are doing and you have a clear definition of things. It most certainly should not be used as 'stand in' for an error condition. Just throw something if a code path occurs that you don't know how to deal with. The <code>default</code> case should throw something instead of returning <code>null</code>.</p>\n<h2>Putting it all together</h2>\n<p>Thus:</p>\n<pre><code>class App {\n   \n  public static void main(String[] args){\n      String[] dayNames = App.getWeekends(&quot;long&quot;);\n      System.out.println(Arrays.toString(dayNames));\n  }\n\n    public static String[] getWeekends(String type) {\n     switch(type) {\n        case &quot;long&quot;:\n          return new String[] {&quot;saturday&quot;,&quot;sunday&quot;};\n\n        case &quot;short&quot;:\n          return new String[] {&quot;sat&quot;, &quot;sun&quot;};\n\n      default:\n          throw new IllegalArgumentException(&quot;Pass either 'short' or 'long'&quot;);\n     }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23598221,"reputation":40,"user_id":17635091,"display_name":"Alecasa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654780289,"creation_date":1654779591,"answer_id":72560759,"question_id":72560316,"body_markdown":"   Try this , i also added a scanner so you can type in the console if you want the short version or the long one\r\n\r\nYou had a void method but you tried to return arrays... void methods can&#39;t return values\r\n\r\nYou can still use the `return null;` if the input isn&#39;t one of the cases\r\n \r\n\r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n    \r\n    public class App {\r\n        \r\n    \r\n            public static void main(String[] args){\r\n                Scanner sc = new Scanner(System.in);\r\n                System.out.println(&quot;Write \\&quot;long\\&quot; for the long format, or \\&quot;short\\&quot; for the short format&quot;);\r\n                String length= sc.next();\r\n                System.out.println(Arrays.toString(getWeekends(length)));\r\n            }\r\n    \r\n            public static String[] getWeekends(String input){\r\n    \r\n    \r\n                switch(input){\r\n                    case &quot;long&quot;:\r\n                        return new String[] {&quot;saturday&quot;,&quot;sunday&quot;};\r\n    \r\n                    case &quot;short&quot;:\r\n                        return new String[] {&quot;sat&quot;, &quot;sun&quot;};\r\n    \r\n                }\r\n                return new String[0];\r\n            }\r\n    \r\n    \r\n    }","title":"How to return arrays in switch-case statement in Java?","body":"<p>Try this , i also added a scanner so you can type in the console if you want the short version or the long one</p>\n<p>You had a void method but you tried to return arrays... void methods can't return values</p>\n<p>You can still use the <code>return null;</code> if the input isn't one of the cases</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class App {\n    \n\n        public static void main(String[] args){\n            Scanner sc = new Scanner(System.in);\n            System.out.println(&quot;Write \\&quot;long\\&quot; for the long format, or \\&quot;short\\&quot; for the short format&quot;);\n            String length= sc.next();\n            System.out.println(Arrays.toString(getWeekends(length)));\n        }\n\n        public static String[] getWeekends(String input){\n\n\n            switch(input){\n                case &quot;long&quot;:\n                    return new String[] {&quot;saturday&quot;,&quot;sunday&quot;};\n\n                case &quot;short&quot;:\n                    return new String[] {&quot;sat&quot;, &quot;sun&quot;};\n\n            }\n            return new String[0];\n        }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":21559696,"reputation":29,"user_id":15894406,"display_name":"Pete Alexandrovich"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":753,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1654792500,"accepted_answer_id":72560458,"answer_count":2,"score":-1,"last_activity_date":1654780289,"creation_date":1654777923,"question_id":72560316,"body_markdown":"The essence of the problem: you need to implement a public static method that returns an array of two elements - the names of the days off in English. The method accepts a parameter as input - the return format as a string. There are two possible values in total:\r\n\r\n&quot;long&quot; (default)  array contains the strings &quot;saturday&quot; and &quot;sunday&quot;\r\n\r\n&quot;short&quot; - the array contains the strings &quot;sat&quot; and &quot;sun&quot;\r\n\r\nThe problem needs to be solved using the switch-case statement. My solution is as follows:\r\n\r\n```\r\nclass App {\r\n   \r\n  public static void main(String[] args){\r\n      App.getWeekends(&quot;long&quot;);\r\n  }\r\n\r\n    public static void getWeekends(){\r\n\r\n\r\n     String[] day =new String[4];\r\n     day[0]=&quot;saturday&quot;;\r\n     day[1]=&quot;sunday&quot;;\r\n     day[2]=&quot;sat&quot;;\r\n     day[3]=&quot;sun&quot;;\r\n\r\n     switch(day){\r\n        case &quot;long&quot;:\r\n          return {&quot;saturday&quot;,&quot;sunday&quot;};\r\n\r\n        case &quot;short&quot;:\r\n          return {&quot;sat&quot;, &quot;sun&quot;};\r\n\r\n      default:\r\n       return null;    \r\n     }\r\n    }\r\n  \r\n}\r\n```\r\n","title":"How to return arrays in switch-case statement in Java?","body":"<p>The essence of the problem: you need to implement a public static method that returns an array of two elements - the names of the days off in English. The method accepts a parameter as input - the return format as a string. There are two possible values in total:</p>\n<p>&quot;long&quot; (default)  array contains the strings &quot;saturday&quot; and &quot;sunday&quot;</p>\n<p>&quot;short&quot; - the array contains the strings &quot;sat&quot; and &quot;sun&quot;</p>\n<p>The problem needs to be solved using the switch-case statement. My solution is as follows:</p>\n<pre><code>class App {\n   \n  public static void main(String[] args){\n      App.getWeekends(&quot;long&quot;);\n  }\n\n    public static void getWeekends(){\n\n\n     String[] day =new String[4];\n     day[0]=&quot;saturday&quot;;\n     day[1]=&quot;sunday&quot;;\n     day[2]=&quot;sat&quot;;\n     day[3]=&quot;sun&quot;;\n\n     switch(day){\n        case &quot;long&quot;:\n          return {&quot;saturday&quot;,&quot;sunday&quot;};\n\n        case &quot;short&quot;:\n          return {&quot;sat&quot;, &quot;sun&quot;};\n\n      default:\n       return null;    \n     }\n    }\n  \n}\n</code></pre>\n"},{"tags":["java","couchbase"],"comments":[{"owner":{"account_id":5963819,"reputation":416,"user_id":4688115,"display_name":"Graham Pople"},"score":1,"creation_date":1654705521,"post_id":72542021,"comment_id":128157138,"body_markdown":"This was also posted on the Couchbase forums here: https://forums.couchbase.com/t/couchbase-muteteinresult-always-returns-index-0-is-invalid-error/33746.  Please see there for answers.","body":"This was also posted on the Couchbase forums here: <a href=\"https://forums.couchbase.com/t/couchbase-muteteinresult-always-returns-index-0-is-invalid-error/33746\" rel=\"nofollow noreferrer\">forums.couchbase.com/t/&hellip;</a>.  Please see there for answers."}],"answers":[{"tags":[],"owner":{"account_id":7770850,"reputation":502,"user_id":5880486,"display_name":"erondem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654779869,"creation_date":1654779869,"answer_id":72560820,"question_id":72542021,"body_markdown":"Thansk to @Graham Pole, it was answered in Couchbase forum. I am quoting: \r\n\r\n&gt; Yes, most mutateIn operations dont return what theyve written. This\r\n&gt; is because generally you know what that is - e.g. you have isRandom\r\n&gt; here - and it saves bytes on the wire.\r\n&gt; \r\n&gt; The exception are counters: if you increment or decrement a counter,\r\n&gt; it does return what was written, since you otherwise wouldnt that\r\n&gt; information.\r\n\r\n\r\nSee the discussion [here][1]\r\n\r\n\r\n  [1]: https://forums.couchbase.com/t/couchbase-muteteinresult-always-returns-index-0-is-invalid-error/33746","title":"Couchbase MuteteInResult always returns Index 0 is invalid error","body":"<p>Thansk to @Graham Pole, it was answered in Couchbase forum. I am quoting:</p>\n<blockquote>\n<p>Yes, most mutateIn operations dont return what theyve written. This\nis because generally you know what that is - e.g. you have isRandom\nhere - and it saves bytes on the wire.</p>\n<p>The exception are counters: if you increment or decrement a counter,\nit does return what was written, since you otherwise wouldnt that\ninformation.</p>\n</blockquote>\n<p>See the discussion <a href=\"https://forums.couchbase.com/t/couchbase-muteteinresult-always-returns-index-0-is-invalid-error/33746\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":7770850,"reputation":502,"user_id":5880486,"display_name":"erondem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72560820,"answer_count":1,"score":1,"last_activity_date":1654779869,"creation_date":1654674917,"question_id":72542021,"body_markdown":"In couchbase java sdk I am trying to change a Boolean field in database.\r\n\r\nI am trying to do as following:\r\n\r\n    public boolean changeDataFetchOrder(String caseId, String taskId, boolean isRandom) {\r\n        var searchId = &quot;case&quot; + &quot;:&quot; + caseId + &quot;:&quot; + taskId;\r\n        Collection collection = bucket.defaultCollection();\r\n        \r\n        var result = collection.mutateIn(searchId, Collections.singletonList(\r\n                upsert(&quot;isDataFetchOrderRandom&quot;, isRandom)\r\n        ));\r\n        \r\n        return result.contentAs(0, Boolean.class);\r\n    }\r\n\r\n\r\nThis operation changes the field in database but it does not returns result of operation.\r\nShould I do an extra configuration?\r\n\r\n    com.couchbase.client.core.error.InvalidArgumentException: Index 0 is invalid\r\n    \tat com.couchbase.client.core.error.InvalidArgumentException.fromMessage(InvalidArgumentException.java:28) ~[core-io-2.3.0.jar:na]\r\n    \tat com.couchbase.client.java.kv.MutateInResult.getFieldAtIndex(MutateInResult.java:118) ~[java-client-3.3.0.jar:na]\r\n    \tat com.couchbase.client.java.kv.MutateInResult.contentAs(MutateInResult.java:91) ~[java-client-3.3.0.jar:na]\r\n    \tat com.couchbase.client.java.kv.MutateInResult.contentAs(MutateInResult.java:68) ~[java-client-3.3.0.jar:na]\r\n    \tat com.company.caseuploadapi.service.couchbase.CaseRepositoryImpl.changeDataFetchOrder(CaseRepositoryImpl.java:179) ~[classes/:na]\r\n    \tat com.company.caseuploadapi.service.cases.defaults.CaseService.setDataFetchOrder(CaseService.java:371) ~[classes/:na]\r\n    \tat com.company.caseuploadapi.controller.CaseController.setDataFetchOrder(CaseController.java:79) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    &quot;}\r\n\r\n","title":"Couchbase MuteteInResult always returns Index 0 is invalid error","body":"<p>In couchbase java sdk I am trying to change a Boolean field in database.</p>\n<p>I am trying to do as following:</p>\n<pre><code>public boolean changeDataFetchOrder(String caseId, String taskId, boolean isRandom) {\n    var searchId = &quot;case&quot; + &quot;:&quot; + caseId + &quot;:&quot; + taskId;\n    Collection collection = bucket.defaultCollection();\n    \n    var result = collection.mutateIn(searchId, Collections.singletonList(\n            upsert(&quot;isDataFetchOrderRandom&quot;, isRandom)\n    ));\n    \n    return result.contentAs(0, Boolean.class);\n}\n</code></pre>\n<p>This operation changes the field in database but it does not returns result of operation.\nShould I do an extra configuration?</p>\n<pre><code>com.couchbase.client.core.error.InvalidArgumentException: Index 0 is invalid\n    at com.couchbase.client.core.error.InvalidArgumentException.fromMessage(InvalidArgumentException.java:28) ~[core-io-2.3.0.jar:na]\n    at com.couchbase.client.java.kv.MutateInResult.getFieldAtIndex(MutateInResult.java:118) ~[java-client-3.3.0.jar:na]\n    at com.couchbase.client.java.kv.MutateInResult.contentAs(MutateInResult.java:91) ~[java-client-3.3.0.jar:na]\n    at com.couchbase.client.java.kv.MutateInResult.contentAs(MutateInResult.java:68) ~[java-client-3.3.0.jar:na]\n    at com.company.caseuploadapi.service.couchbase.CaseRepositoryImpl.changeDataFetchOrder(CaseRepositoryImpl.java:179) ~[classes/:na]\n    at com.company.caseuploadapi.service.cases.defaults.CaseService.setDataFetchOrder(CaseService.java:371) ~[classes/:na]\n    at com.company.caseuploadapi.controller.CaseController.setDataFetchOrder(CaseController.java:79) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n&quot;}\n</code></pre>\n"},{"tags":["java","z3","smt"],"comments":[{"owner":{"account_id":10872709,"reputation":2631,"user_id":7994074,"display_name":"ParthS007"},"score":1,"creation_date":1560380595,"post_id":56570544,"comment_id":99721544,"body_markdown":"I hope it helps: https://z3prover.github.io/api/html/classcom_1_1microsoft_1_1z3_1_1_sort.html","body":"I hope it helps: <a href=\"https://z3prover.github.io/api/html/classcom_1_1microsoft_1_1z3_1_1_sort.html\" rel=\"nofollow noreferrer\">z3prover.github.io/api/html/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":899912,"reputation":28525,"user_id":936310,"accept_rate":100,"display_name":"alias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560387941,"creation_date":1560387941,"answer_id":56572109,"question_id":56570544,"body_markdown":"There are many examples in https://github.com/Z3Prover/z3/blob/master/examples/java/JavaExample.java\r\n\r\nIn particular:\r\nhttps://github.com/Z3Prover/z3/blob/master/examples/java/JavaExample.java#L1711-L1830\r\n\r\nis a fully worked out example for a parametric tree representation.","title":"How to Define a Sort in Z3 Java API?","body":"<p>There are many examples in <a href=\"https://github.com/Z3Prover/z3/blob/master/examples/java/JavaExample.java\" rel=\"nofollow noreferrer\">https://github.com/Z3Prover/z3/blob/master/examples/java/JavaExample.java</a></p>\n\n<p>In particular:\n<a href=\"https://github.com/Z3Prover/z3/blob/master/examples/java/JavaExample.java#L1711-L1830\" rel=\"nofollow noreferrer\">https://github.com/Z3Prover/z3/blob/master/examples/java/JavaExample.java#L1711-L1830</a></p>\n\n<p>is a fully worked out example for a parametric tree representation.</p>\n"},{"tags":[],"owner":{"account_id":17009,"reputation":393,"user_id":37639,"display_name":"corwin.amber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654779703,"creation_date":1654779703,"answer_id":72560780,"question_id":56570544,"body_markdown":"Aliases are not part of the API as much as I was able to gather. Because, in a program, you can define a program variable to hold the sort and then use that variable anywhere you need it. A generic sort can be a represented as a function.\r\n\r\n_E.g._\r\n```java\r\nSort set(Sort T) { return new ArraySort(ctx, T, new BoolSort()); }\r\n```\r\n\r\nIn contrast, if you want to *declare* an uninterpreted sort, use\r\n```\r\nnew UninterpretedSort(ctx, ctx.mkSymbol(&quot;sort_name&quot;));\r\n```\r\n\r\nIn the above `ctx` is your `Context` instance.","title":"How to Define a Sort in Z3 Java API?","body":"<p>Aliases are not part of the API as much as I was able to gather. Because, in a program, you can define a program variable to hold the sort and then use that variable anywhere you need it. A generic sort can be a represented as a function.</p>\n<p><em>E.g.</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>Sort set(Sort T) { return new ArraySort(ctx, T, new BoolSort()); }\n</code></pre>\n<p>In contrast, if you want to <em>declare</em> an uninterpreted sort, use</p>\n<pre><code>new UninterpretedSort(ctx, ctx.mkSymbol(&quot;sort_name&quot;));\n</code></pre>\n<p>In the above <code>ctx</code> is your <code>Context</code> instance.</p>\n"}],"owner":{"account_id":7513272,"reputation":2271,"user_id":5707563,"accept_rate":33,"display_name":"Sam Chats"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1654779703,"creation_date":1560374595,"question_id":56570544,"body_markdown":"How do I define a sort in the Z3 Java API? I need to do a something like the following:\r\n\r\n    (define-sort Set (T) (Array T Bool))","title":"How to Define a Sort in Z3 Java API?","body":"<p>How do I define a sort in the Z3 Java API? I need to do a something like the following:</p>\n\n<pre><code>(define-sort Set (T) (Array T Bool))\n</code></pre>\n"},{"tags":["java","maven","maven-surefire-plugin"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1654780562,"post_id":72560734,"comment_id":128177286,"body_markdown":"Looking at this pretty quickly doesn&#39;t seem like (wildcard) works.  Can you look into maven exec plugin or https://stackoverflow.com/questions/17963222/assign-output-of-exec-maven-plugin-to-variable to define a variable of the folder that exists on the machine you run on by looking at the directory contents?\n\nOr your other option is to list all `target/surefire_reports_1`, etc till 36 under `reportDirectories`","body":"Looking at this pretty quickly doesn&#39;t seem like (wildcard) works.  Can you look into maven exec plugin or <a href=\"https://stackoverflow.com/questions/17963222/assign-output-of-exec-maven-plugin-to-variable\" title=\"assign output of exec maven plugin to variable\">stackoverflow.com/questions/17963222/&hellip;</a> to define a variable of the folder that exists on the machine you run on by looking at the directory contents?  Or your other option is to list all <code>target&#47;surefire_reports_1</code>, etc till 36 under <code>reportDirectories</code>"},{"owner":{"account_id":44601,"reputation":20150,"user_id":131021,"accept_rate":86,"display_name":"stwissel"},"score":0,"creation_date":1654780979,"post_id":72560734,"comment_id":128177474,"body_markdown":"Thx for the quick reply. Tried the 36 dirs too. Didnt seem to work","body":"Thx for the quick reply. Tried the 36 dirs too. Didnt seem to work"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654780981,"post_id":72560734,"comment_id":128177475,"body_markdown":"Can you explain the reason why needed different output for difference cpu count?","body":"Can you explain the reason why needed different output for difference cpu count?"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1654786258,"post_id":72560734,"comment_id":128179856,"body_markdown":"@stwissel what do you mean with 36 dirs, it is not working? Are you getting filenotfound or?  Please show an update of what you tried.","body":"@stwissel what do you mean with 36 dirs, it is not working? Are you getting filenotfound or?  Please show an update of what you tried."}],"owner":{"account_id":44601,"reputation":20150,"user_id":131021,"accept_rate":86,"display_name":"stwissel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654779513,"creation_date":1654779513,"question_id":72560734,"body_markdown":"I have configured surefire to use different output directories based on CPU count:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n   &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n   &lt;configuration&gt;\r\n       &lt;forkCount&gt;3C&lt;/forkCount&gt;\r\n       &lt;reportsDirectory&gt;target/surefire-reports-${surefire.forkNumber}&lt;/reportsDirectory&gt;\r\n   &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nI can see directories `target/surefire-reports-[1..36]` (could be more or less depending on machine build runs). How can I make the report plugin pick up the data from there?\r\nI tried:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n   &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\r\n   &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n   &lt;configuration&gt;\r\n       &lt;reportsDirectories&gt;\r\n           &lt;reportsDirectory&gt;target/surefire-reports*&lt;/reportsDirectory&gt;\r\n       &lt;/reportsDirectories&gt;\r\n   &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nBut nothing was picked up.","title":"Configure maven-surefire-report-plugin to read from multiple source directories","body":"<p>I have configured surefire to use different output directories based on CPU count:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n   &lt;configuration&gt;\n       &lt;forkCount&gt;3C&lt;/forkCount&gt;\n       &lt;reportsDirectory&gt;target/surefire-reports-${surefire.forkNumber}&lt;/reportsDirectory&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I can see directories <code>target/surefire-reports-[1..36]</code> (could be more or less depending on machine build runs). How can I make the report plugin pick up the data from there?\nI tried:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\n   &lt;version&gt;3.0.0-M7&lt;/version&gt;\n   &lt;configuration&gt;\n       &lt;reportsDirectories&gt;\n           &lt;reportsDirectory&gt;target/surefire-reports*&lt;/reportsDirectory&gt;\n       &lt;/reportsDirectories&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>But nothing was picked up.</p>\n"},{"tags":["java","mockito","maven-surefire-plugin","java-17"],"answers":[{"tags":[],"owner":{"account_id":1144927,"reputation":2893,"user_id":1127920,"accept_rate":81,"display_name":"gawi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654779435,"creation_date":1654779435,"answer_id":72560713,"question_id":72560187,"body_markdown":"One way of doing it is to provide surefire with an option that asks java to ignore unrecognized option. It can be done using following command:\r\n\r\n```\r\nmvn clean compile test -DargLine=&quot;--add-opens=java.desktop/sun.java2d=ALL-UNNAMED -XX:+IgnoreUnrecognizedVMOptions&quot;\r\n```","title":"How to Mockito.spy on Graphics2D in Java 17","body":"<p>One way of doing it is to provide surefire with an option that asks java to ignore unrecognized option. It can be done using following command:</p>\n<pre><code>mvn clean compile test -DargLine=&quot;--add-opens=java.desktop/sun.java2d=ALL-UNNAMED -XX:+IgnoreUnrecognizedVMOptions&quot;\n</code></pre>\n"}],"owner":{"account_id":1144927,"reputation":2893,"user_id":1127920,"accept_rate":81,"display_name":"gawi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":524,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72560713,"answer_count":1,"score":2,"last_activity_date":1654779435,"creation_date":1654777336,"question_id":72560187,"body_markdown":"I have a maven project that should run on java-8, java-11. I want to add support for java-17 and I have some issues with testing.\r\n\r\n\r\nSimplified version of the test looks like:\r\n\r\n```java\r\n@Test\r\npublic void testGraphics() throws Exception {\r\n  BufferedImage bi = new BufferedImage(100, 100, BufferedImage.TYPE_INT_ARGB);\r\n  Graphics2D graphics = Mockito.spy(bi.createGraphics());\r\n\r\n  //my code for testing\r\n  graphics.getColor();\r\n\r\n  Mockito.verify(graphics, times(1)).getColor();\r\n}\r\n```\r\n\r\nI execute test with:\r\n```\r\nmvn clean compile test\r\n```\r\n\r\nThis works fine on java 8 and java 11. However, in java 17 I get:\r\n```\r\njava.lang.IllegalAccessException: class org.mockito.internal.util.reflection.ReflectionMemberAccessor cannot access class sun.java2d.SunGraphics2D (in module java.desktop) because module java.desktop does not export sun.java2d to unnamed module @62bd2070\r\n```\r\n\r\nThis can be fixed by adding `--add-opens=java.desktop/sun.java2d=ALL-UNNAMED` to test command:\r\n```\r\nmvn clean compile test -DargLine=--add-opens=java.desktop/sun.java2d=ALL-UNNAMED\r\n```\r\n\r\nHowever, this command would not work on java 8 because it does not recognize `--add-opens` option:\r\n```\r\nUnrecognized option: --add-opens=java.desktop/sun.java2d=ALL-UNNAMED\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n```\r\n\r\nMy continuous integration is a matrix of running the same tests in different environments (different java version, different databases, etc) and I would prefer to avoid having different maven options depending on the environment.\r\n\r\nIs there another way to run this test that does not require changing maven parameters in different java versions? I cannot use `Mockito.mock` because my code interacts with the graphics object and depends on the result (and there are many calls so mocking each one of them is not an option for the moment). Here are options that I considered but could not find a way to do it:\r\n* use different implementation of Graphics2D instead of sun.java2d.SunGraphics2D\r\n* modify pom.xml to conditionally provide options to surefire plugin depending on the java version\r\n* force surefire to ignore unrecognized options \r\n\r\nFor the record I&#39;m using junit 4.12 and mockito 4.6.1","title":"How to Mockito.spy on Graphics2D in Java 17","body":"<p>I have a maven project that should run on java-8, java-11. I want to add support for java-17 and I have some issues with testing.</p>\n<p>Simplified version of the test looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testGraphics() throws Exception {\n  BufferedImage bi = new BufferedImage(100, 100, BufferedImage.TYPE_INT_ARGB);\n  Graphics2D graphics = Mockito.spy(bi.createGraphics());\n\n  //my code for testing\n  graphics.getColor();\n\n  Mockito.verify(graphics, times(1)).getColor();\n}\n</code></pre>\n<p>I execute test with:</p>\n<pre><code>mvn clean compile test\n</code></pre>\n<p>This works fine on java 8 and java 11. However, in java 17 I get:</p>\n<pre><code>java.lang.IllegalAccessException: class org.mockito.internal.util.reflection.ReflectionMemberAccessor cannot access class sun.java2d.SunGraphics2D (in module java.desktop) because module java.desktop does not export sun.java2d to unnamed module @62bd2070\n</code></pre>\n<p>This can be fixed by adding <code>--add-opens=java.desktop/sun.java2d=ALL-UNNAMED</code> to test command:</p>\n<pre><code>mvn clean compile test -DargLine=--add-opens=java.desktop/sun.java2d=ALL-UNNAMED\n</code></pre>\n<p>However, this command would not work on java 8 because it does not recognize <code>--add-opens</code> option:</p>\n<pre><code>Unrecognized option: --add-opens=java.desktop/sun.java2d=ALL-UNNAMED\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n<p>My continuous integration is a matrix of running the same tests in different environments (different java version, different databases, etc) and I would prefer to avoid having different maven options depending on the environment.</p>\n<p>Is there another way to run this test that does not require changing maven parameters in different java versions? I cannot use <code>Mockito.mock</code> because my code interacts with the graphics object and depends on the result (and there are many calls so mocking each one of them is not an option for the moment). Here are options that I considered but could not find a way to do it:</p>\n<ul>\n<li>use different implementation of Graphics2D instead of sun.java2d.SunGraphics2D</li>\n<li>modify pom.xml to conditionally provide options to surefire plugin depending on the java version</li>\n<li>force surefire to ignore unrecognized options</li>\n</ul>\n<p>For the record I'm using junit 4.12 and mockito 4.6.1</p>\n"},{"tags":["java","hibernate","native","quarkus","graalvm"],"comments":[{"owner":{"account_id":5655489,"reputation":308,"user_id":4474819,"display_name":"greg"},"score":0,"creation_date":1654772908,"post_id":72557006,"comment_id":128174335,"body_markdown":"After digging a bit, issue is really in the ObjectInputStream that fails in native mode for obscure, maybe platform dependent things. Indeed when I implement my own user type performing the deserialization I have same exception.","body":"After digging a bit, issue is really in the ObjectInputStream that fails in native mode for obscure, maybe platform dependent things. Indeed when I implement my own user type performing the deserialization I have same exception."}],"answers":[{"tags":[],"owner":{"account_id":5655489,"reputation":308,"user_id":4474819,"display_name":"greg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654779432,"creation_date":1654779432,"answer_id":72560711,"question_id":72557006,"body_markdown":"Solved!\r\nAfter more investigations it was a simple matter of registering the double[] class in native image builder serialization configuration file.\r\n\r\nAdded this line in the quarkus application.properties:\r\n\r\n    quarkus.native.additional-build-args = -H:SerializationConfigurationResources=serialization-config.json\r\n\r\n\r\nand serialization-config.json being simply\r\n\r\n    [\r\n    \t{&quot;name&quot;:&quot;double[]&quot;}\r\n    ]\r\n","title":"Quarkus hibernate Exception in native mode","body":"<p>Solved!\nAfter more investigations it was a simple matter of registering the double[] class in native image builder serialization configuration file.</p>\n<p>Added this line in the quarkus application.properties:</p>\n<pre><code>quarkus.native.additional-build-args = -H:SerializationConfigurationResources=serialization-config.json\n</code></pre>\n<p>and serialization-config.json being simply</p>\n<pre><code>[\n    {&quot;name&quot;:&quot;double[]&quot;}\n]\n</code></pre>\n"}],"owner":{"account_id":5655489,"reputation":308,"user_id":4474819,"display_name":"greg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72560711,"answer_count":1,"score":0,"last_activity_date":1654779432,"creation_date":1654763125,"question_id":72557006,"body_markdown":"I&#39;am setting up a simple Quarkus application using hibernate for testing Quarkus capabilities.\r\nIt contains a simple hibernate mapping\r\n\r\n    @Entity\r\n    Class AnEntity{\r\n     public double[] data;\r\n    }\r\n\r\nIt maps to the postgresql table anentity(data bytea).\r\nThis is fine for me and works well when running on JVM: zero problem on this side. I can read easily the content of the table using a NativeQuery.\r\n\r\n    Query query = em.createNativeQuery(&quot;select * from anentity&quot;,AnEntity.class);\r\n    List&lt;AnEntity&gt; resultList = query.getResultList();\r\n\t\tfor (AnEntity anEntity: resultList) {\r\n           System.out.println(anEntity.data);\r\n    }\r\n\r\nThe behavior here is that the content of the data array is serialized/deserialized using &quot;standard&quot; java serialization when reading/writing the data field from and to the database.\r\n\r\nNow when compiling in native mode, I have a serialization related exception that follows:\r\n\r\n    ERROR [io.qua.run.Application] (main) Failed to start application (with profile prod): java.io.StreamCorruptedException: invalid type code: 40\r\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1712)\r\n        at java.io.ObjectInputStream.readArray(ObjectInputStream.java:2103)\r\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:493)\r\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:451)\r\n        at org.hibernate.internal.util.SerializationHelper.doDeserialize(SerializationHelper.java:225)\r\n        at org.hibernate.internal.util.SerializationHelper.deserialize(SerializationHelper.java:287)\r\n        at org.hibernate.type.descriptor.java.SerializableTypeDescriptor.fromBytes(SerializableTypeDescriptor.java:138)\r\n        at org.hibernate.type.descriptor.java.SerializableTypeDescriptor.wrap(SerializableTypeDescriptor.java:113)\r\n        at org.hibernate.type.descriptor.java.SerializableTypeDescriptor.wrap(SerializableTypeDescriptor.java:29)\r\n        at org.hibernate.type.descriptor.sql.VarbinaryTypeDescriptor$2.doExtract(VarbinaryTypeDescriptor.java:60)\r\n        at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47)\r\n        at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257)\r\n        at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253)\r\n        at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243)\r\n        at org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:329)\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214)\r\n        at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887)\r\n        at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811)\r\n        at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784)\r\n        at org.hibernate.loader.Loader.getRow(Loader.java:1624)\r\n        at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748)\r\n        at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047)\r\n\r\nI tried to register double[].class in a @RegisterForReflection annotation, changing double[] to Double[] but it did not help.\r\n\r\nI&#39;am not sure what&#39;s wrong here. It looks like the Java default serialization/deserialization is not working well in native mode, and I&#39;am wondering how to solve this.\r\n\r\nThanks for any hints/pointer. I have the feeling it is a simple problem of a missing declaration or configuration parameter somewhere, at least I hope so :)\r\nI&#39;ll double check known issues with Java deserialization in native mode.","title":"Quarkus hibernate Exception in native mode","body":"<p>I'am setting up a simple Quarkus application using hibernate for testing Quarkus capabilities.\nIt contains a simple hibernate mapping</p>\n<pre><code>@Entity\nClass AnEntity{\n public double[] data;\n}\n</code></pre>\n<p>It maps to the postgresql table anentity(data bytea).\nThis is fine for me and works well when running on JVM: zero problem on this side. I can read easily the content of the table using a NativeQuery.</p>\n<pre><code>Query query = em.createNativeQuery(&quot;select * from anentity&quot;,AnEntity.class);\nList&lt;AnEntity&gt; resultList = query.getResultList();\n    for (AnEntity anEntity: resultList) {\n       System.out.println(anEntity.data);\n}\n</code></pre>\n<p>The behavior here is that the content of the data array is serialized/deserialized using &quot;standard&quot; java serialization when reading/writing the data field from and to the database.</p>\n<p>Now when compiling in native mode, I have a serialization related exception that follows:</p>\n<pre><code>ERROR [io.qua.run.Application] (main) Failed to start application (with profile prod): java.io.StreamCorruptedException: invalid type code: 40\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1712)\n    at java.io.ObjectInputStream.readArray(ObjectInputStream.java:2103)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:493)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:451)\n    at org.hibernate.internal.util.SerializationHelper.doDeserialize(SerializationHelper.java:225)\n    at org.hibernate.internal.util.SerializationHelper.deserialize(SerializationHelper.java:287)\n    at org.hibernate.type.descriptor.java.SerializableTypeDescriptor.fromBytes(SerializableTypeDescriptor.java:138)\n    at org.hibernate.type.descriptor.java.SerializableTypeDescriptor.wrap(SerializableTypeDescriptor.java:113)\n    at org.hibernate.type.descriptor.java.SerializableTypeDescriptor.wrap(SerializableTypeDescriptor.java:29)\n    at org.hibernate.type.descriptor.sql.VarbinaryTypeDescriptor$2.doExtract(VarbinaryTypeDescriptor.java:60)\n    at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243)\n    at org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:329)\n    at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214)\n    at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887)\n    at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811)\n    at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784)\n    at org.hibernate.loader.Loader.getRow(Loader.java:1624)\n    at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748)\n    at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047)\n</code></pre>\n<p>I tried to register double[].class in a @RegisterForReflection annotation, changing double[] to Double[] but it did not help.</p>\n<p>I'am not sure what's wrong here. It looks like the Java default serialization/deserialization is not working well in native mode, and I'am wondering how to solve this.</p>\n<p>Thanks for any hints/pointer. I have the feeling it is a simple problem of a missing declaration or configuration parameter somewhere, at least I hope so :)\nI'll double check known issues with Java deserialization in native mode.</p>\n"},{"tags":["java","jsoup"],"answers":[{"tags":[],"owner":{"account_id":368,"reputation":44335,"user_id":459,"accept_rate":81,"display_name":"dlamblin"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1560776217,"creation_date":1316897869,"answer_id":7541875,"question_id":7541843,"body_markdown":"When searching you basically use `Elements.select(selector)` where `selector` is defined by [this API][1]. However comments are not elements technically, so you may be confused here, still they are nodes identified by the node name `#comment`. \r\n\r\nLet&#39;s see how that might work:\r\n\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.nodes.Node;\r\n    \r\n    public class RemoveComments {\r\n        public static void main(String... args) {\r\n            String h = &quot;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&quot; +\r\n              &quot;&lt;div&gt;&lt;!-- foo --&gt;&lt;p&gt;bar&lt;!-- baz --&gt;&lt;/div&gt;&lt;!--qux--&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n            Document doc = Jsoup.parse(h);\r\n            removeComments(doc);\r\n            doc.html(System.out);\r\n        }\r\n        \r\n        private static void removeComments(Node node) {\r\n            for (int i = 0; i &lt; node.childNodeSize();) {\r\n                Node child = node.childNode(i);\r\n                if (child.nodeName().equals(&quot;#comment&quot;))\r\n                    child.remove();\r\n                else {\r\n                    removeComments(child);\r\n                    i++;\r\n                }\r\n            }\r\n        }        \r\n    }\r\n\r\n  [1]: http://jsoup.org/apidocs/org/jsoup/select/Selector.html","title":"How to search for comments (&quot;&lt;!-- --&gt;&quot;) using Jsoup?","body":"<p>When searching you basically use <code>Elements.select(selector)</code> where <code>selector</code> is defined by <a href=\"http://jsoup.org/apidocs/org/jsoup/select/Selector.html\" rel=\"noreferrer\">this API</a>. However comments are not elements technically, so you may be confused here, still they are nodes identified by the node name <code>#comment</code>. </p>\n\n<p>Let's see how that might work:</p>\n\n<pre><code>import org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Node;\n\npublic class RemoveComments {\n    public static void main(String... args) {\n        String h = \"&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;\" +\n          \"&lt;div&gt;&lt;!-- foo --&gt;&lt;p&gt;bar&lt;!-- baz --&gt;&lt;/div&gt;&lt;!--qux--&gt;&lt;/body&gt;&lt;/html&gt;\";\n        Document doc = Jsoup.parse(h);\n        removeComments(doc);\n        doc.html(System.out);\n    }\n\n    private static void removeComments(Node node) {\n        for (int i = 0; i &lt; node.childNodeSize();) {\n            Node child = node.childNode(i);\n            if (child.nodeName().equals(\"#comment\"))\n                child.remove();\n            else {\n                removeComments(child);\n                i++;\n            }\n        }\n    }        \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1416081,"reputation":101,"user_id":1341731,"display_name":"Michael Conrad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1534255287,"creation_date":1534255287,"answer_id":51843316,"question_id":7541843,"body_markdown":"With JSoup 1.11+ (possibly older version) you can apply a filter:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    private void removeComments(Element article) {\r\n    \tarticle.filter(new NodeFilter() {\r\n    \t\t@Override\r\n    \t\tpublic FilterResult tail(Node node, int depth) {\r\n    \t\t\tif (node instanceof Comment) {\r\n    \t\t\t\treturn FilterResult.REMOVE;\r\n    \t\t\t}\r\n    \t\t\treturn FilterResult.CONTINUE;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic FilterResult head(Node node, int depth) {\r\n    \t\t\tif (node instanceof Comment) {\r\n    \t\t\t\treturn FilterResult.REMOVE;\r\n    \t\t\t}\r\n    \t\t\treturn FilterResult.CONTINUE;\r\n    \t\t}\r\n    \t});\r\n    }\r\n\r\n","title":"How to search for comments (&quot;&lt;!-- --&gt;&quot;) using Jsoup?","body":"<p>With JSoup 1.11+ (possibly older version) you can apply a filter:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private void removeComments(Element article) {\n    article.filter(new NodeFilter() {\n        @Override\n        public FilterResult tail(Node node, int depth) {\n            if (node instanceof Comment) {\n                return FilterResult.REMOVE;\n            }\n            return FilterResult.CONTINUE;\n        }\n\n        @Override\n        public FilterResult head(Node node, int depth) {\n            if (node instanceof Comment) {\n                return FilterResult.REMOVE;\n            }\n            return FilterResult.CONTINUE;\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998981,"reputation":1717,"user_id":4712855,"display_name":""},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547194993,"creation_date":1547194993,"answer_id":54142751,"question_id":7541843,"body_markdown":"reference @dlamblin https://stackoverflow.com/a/7541875/4712855 this code get comment html\r\n   \r\n    public static void getHtmlComments(Node node) {\r\n        for (int i = 0; i &lt; node.childNodeSize();i++) {\r\n            Node child = node.childNode(i);\r\n            if (child.nodeName().equals(&quot;#comment&quot;)) {\r\n                Comment comment = (Comment) child;\r\n                child.after(comment.getData());\r\n                child.remove();\r\n            }\r\n            else {\r\n                getHtmlComments(child);\r\n            }\r\n        }\r\n    }","title":"How to search for comments (&quot;&lt;!-- --&gt;&quot;) using Jsoup?","body":"<p>reference @dlamblin <a href=\"https://stackoverflow.com/a/7541875/4712855\">https://stackoverflow.com/a/7541875/4712855</a> this code get comment html</p>\n\n<pre><code>public static void getHtmlComments(Node node) {\n    for (int i = 0; i &lt; node.childNodeSize();i++) {\n        Node child = node.childNode(i);\n        if (child.nodeName().equals(\"#comment\")) {\n            Comment comment = (Comment) child;\n            child.after(comment.getData());\n            child.remove();\n        }\n        else {\n            getHtmlComments(child);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16144744,"reputation":11,"user_id":11654815,"display_name":"Feuerrabe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560693317,"creation_date":1560686147,"answer_id":56618598,"question_id":7541843,"body_markdown":"This is a variation of the first example using a functional programming approach. The easiest way to find all comments, which are immediate children of the current node is to use &lt;code&gt;.filter()&lt;/code&gt; on a stream of &lt;code&gt;.childNodes()&lt;/code&gt;\r\n\r\n    public void removeComments(Element e) {\r\n\t\te.childNodes().stream()\r\n\t\t\t.filter(n -&gt; n.nodeName().equals(&quot;#comment&quot;)).collect(Collectors.toList())\r\n\t\t\t.forEach(n -&gt; n.remove());\r\n\t\te.children().forEach(elem -&gt; removeComments(elem));\r\n\t}\r\n\r\nFull example:\r\n\r\n    package demo;\r\n\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.PrintStream;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.util.stream.Collectors;\r\n\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.nodes.Element;\r\n    public class Demo {\r\n\r\n\tpublic static void removeComments(Element e) {\r\n\t\te.childNodes().stream()\r\n\t\t\t.filter(n -&gt; n.nodeName().equals(&quot;#comment&quot;)).collect(Collectors.toList())\r\n\t\t\t.forEach(n -&gt; n.remove());\r\n\t\te.children().forEach(elem -&gt; removeComments(elem));\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws MalformedURLException, IOException {\r\n\t\tDocument doc = Jsoup.parse(new URL(&quot;https://en.wikipedia.org/&quot;), 500);\r\n\r\n\t\t// do not try this with JDK &lt; 8\r\n\t\tString userHome = System.getProperty(&quot;user.home&quot;);\r\n\t\tPrintStream out = new PrintStream(new FileOutputStream(userHome + File.separator + &quot;before.html&quot;));\r\n\t\tout.print(doc.outerHtml());\r\n\t\tout.close();\r\n\r\n\t\tremoveComments(doc);\r\n\t\tout = new PrintStream(new FileOutputStream(userHome + File.separator + &quot;after.html&quot;));\r\n\t\tout.print(doc.outerHtml());\r\n\t\tout.close();\r\n\t}\r\n}\r\n","title":"How to search for comments (&quot;&lt;!-- --&gt;&quot;) using Jsoup?","body":"<p>This is a variation of the first example using a functional programming approach. The easiest way to find all comments, which are immediate children of the current node is to use <code>.filter()</code> on a stream of <code>.childNodes()</code></p>\n\n<pre><code>public void removeComments(Element e) {\n    e.childNodes().stream()\n        .filter(n -&gt; n.nodeName().equals(\"#comment\")).collect(Collectors.toList())\n        .forEach(n -&gt; n.remove());\n    e.children().forEach(elem -&gt; removeComments(elem));\n}\n</code></pre>\n\n<p>Full example:</p>\n\n<pre><code>package demo;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.PrintStream;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.stream.Collectors;\n\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\npublic class Demo {\n\npublic static void removeComments(Element e) {\n    e.childNodes().stream()\n        .filter(n -&gt; n.nodeName().equals(\"#comment\")).collect(Collectors.toList())\n        .forEach(n -&gt; n.remove());\n    e.children().forEach(elem -&gt; removeComments(elem));\n}\n\npublic static void main(String[] args) throws MalformedURLException, IOException {\n    Document doc = Jsoup.parse(new URL(\"https://en.wikipedia.org/\"), 500);\n\n    // do not try this with JDK &lt; 8\n    String userHome = System.getProperty(\"user.home\");\n    PrintStream out = new PrintStream(new FileOutputStream(userHome + File.separator + \"before.html\"));\n    out.print(doc.outerHtml());\n    out.close();\n\n    removeComments(doc);\n    out = new PrintStream(new FileOutputStream(userHome + File.separator + \"after.html\"));\n    out.print(doc.outerHtml());\n    out.close();\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":8137552,"reputation":197,"user_id":6128747,"display_name":"LDK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654779213,"creation_date":1654779213,"answer_id":72560651,"question_id":7541843,"body_markdown":"Based on the answer from @dlamblin a Java 8 functional approach (sorry but this seems to be a littler simpler and cleaner than the aswer from @Feuerrabe)\r\n\r\n\r\n    private void removeComments(Node node) {\r\n        node.childNodes().stream().filter(n -&gt; &quot;#comment&quot;.equals(n.nodeName())).forEach(Node::remove);\r\n        node.childNodes().forEach(this::removeComments);\r\n    }\r\n\r\n#\r\n\r\n    Document doc = Jsoup.parse(html);\r\n    removeComments(doc);\r\n    // ...\r\n\r\n\r\n","title":"How to search for comments (&quot;&lt;!-- --&gt;&quot;) using Jsoup?","body":"<p>Based on the answer from @dlamblin a Java 8 functional approach (sorry but this seems to be a littler simpler and cleaner than the aswer from @Feuerrabe)</p>\n<pre><code>private void removeComments(Node node) {\n    node.childNodes().stream().filter(n -&gt; &quot;#comment&quot;.equals(n.nodeName())).forEach(Node::remove);\n    node.childNodes().forEach(this::removeComments);\n}\n</code></pre>\n<h1></h1>\n<pre><code>Document doc = Jsoup.parse(html);\nremoveComments(doc);\n// ...\n</code></pre>\n"}],"owner":{"account_id":312364,"reputation":1919,"user_id":626385,"accept_rate":100,"display_name":"87element"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13611,"favorite_count":0,"down_vote_count":2,"up_vote_count":22,"accepted_answer_id":7541875,"answer_count":5,"score":20,"last_activity_date":1654779213,"creation_date":1316897512,"question_id":7541843,"body_markdown":"I would like to remove those tags with their content from source HTML.","title":"How to search for comments (&quot;&lt;!-- --&gt;&quot;) using Jsoup?","body":"<p>I would like to remove those tags with their content from source HTML.</p>\n"},{"tags":["java","module"],"comments":[{"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"score":0,"creation_date":1654779452,"post_id":72560388,"comment_id":128176794,"body_markdown":"Hi, could you explain a bit more in detail how your project is structured and what exactly your issue is?","body":"Hi, could you explain a bit more in detail how your project is structured and what exactly your issue is?"},{"owner":{"account_id":17610467,"reputation":1150,"user_id":12778634,"display_name":"AndreasInfo"},"score":0,"creation_date":1654780073,"post_id":72560388,"comment_id":128177050,"body_markdown":"Thanks for the reply and sorry for the unspecific question. I am no architect and modules are new to me. I have imported some code which uses the javax.smartcardio package. I get errors &quot;xxx cannot be resolved to a type&quot;. Since the module is part of Java11 - which we use - I would like to figure out how to use it. By the way, I am using Eclipse and Gradle. What more information do you need?","body":"Thanks for the reply and sorry for the unspecific question. I am no architect and modules are new to me. I have imported some code which uses the javax.smartcardio package. I get errors &quot;xxx cannot be resolved to a type&quot;. Since the module is part of Java11 - which we use - I would like to figure out how to use it. By the way, I am using Eclipse and Gradle. What more information do you need?"},{"owner":{"account_id":17610467,"reputation":1150,"user_id":12778634,"display_name":"AndreasInfo"},"score":0,"creation_date":1654780781,"post_id":72560388,"comment_id":128177382,"body_markdown":"The project is really old and started before the introduction of Java 9/modules. So I guess I am missing a step here.","body":"The project is really old and started before the introduction of Java 9/modules. So I guess I am missing a step here."},{"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"score":0,"creation_date":1655134949,"post_id":72560388,"comment_id":128253628,"body_markdown":"Well, the module system is optional. It is meant for big projects to make dependencies between multiple modules and external modules more visible. You should be able to use any smartdcardio package without a module description.\n\nJust import the classes as usual.","body":"Well, the module system is optional. It is meant for big projects to make dependencies between multiple modules and external modules more visible. You should be able to use any smartdcardio package without a module description.  Just import the classes as usual."}],"owner":{"account_id":17610467,"reputation":1150,"user_id":12778634,"display_name":"AndreasInfo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654778862,"creation_date":1654778230,"question_id":72560388,"body_markdown":"I have trouble to use the module java.smartcardio. In my understanding I just just create a module-info.java and add\r\n```\r\nmodule apdu {\r\n  requires java.smartcardio;\r\n}\r\n```\r\nI placed this file directly in the package. But this does not resolve my ``... cannot be resolved to a type`. Also\r\n```\r\nmodule com.test.bla.xxx.apdu {\r\n  requires java.smartcardio;\r\n}\r\n```\r\ndid not work.\r\n\r\nAm I missing a setup step or something? Before now we did not use the module system yet.","title":"Use of Java module java.smartcardio","body":"<p>I have trouble to use the module java.smartcardio. In my understanding I just just create a module-info.java and add</p>\n<pre><code>module apdu {\n  requires java.smartcardio;\n}\n</code></pre>\n<p>I placed this file directly in the package. But this does not resolve my ``... cannot be resolved to a type`. Also</p>\n<pre><code>module com.test.bla.xxx.apdu {\n  requires java.smartcardio;\n}\n</code></pre>\n<p>did not work.</p>\n<p>Am I missing a setup step or something? Before now we did not use the module system yet.</p>\n"},{"tags":["java","operators","operator-precedence"],"comments":[{"owner":{"account_id":45775,"reputation":12238,"user_id":135078,"accept_rate":94,"display_name":"Kelly S. French"},"score":7,"creation_date":1264525382,"post_id":2137690,"comment_id":2081884,"body_markdown":"When in doubt, add more parentheses.","body":"When in doubt, add more parentheses."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":9,"creation_date":1264566985,"post_id":2137690,"comment_id":2086221,"body_markdown":"And when there&#39;s too many parentheses, refactor.","body":"And when there&#39;s too many parentheses, refactor."},{"owner":{"account_id":438783,"reputation":6771,"user_id":827280,"accept_rate":93,"display_name":"Museful"},"score":5,"creation_date":1354731808,"post_id":2137690,"comment_id":18862434,"body_markdown":"That JLS quote (in context) encourages decomposition of statements that have multiple side-effects (or side-effects in sub-expressions) to avoid uncertainty about the relative timing of said side-effects in left and right sub-expressions. This cannot be accomplished by adding parentheses. In other words, the JLS advises against relying on Java&#39;s *Evaluation Order*, not against relying on operator precedence. The difference between these is explained [below](http://stackoverflow.com/a/13353263/13353263), and [here](http://stackoverflow.com/a/6801431/230513).","body":"That JLS quote (in context) encourages decomposition of statements that have multiple side-effects (or side-effects in sub-expressions) to avoid uncertainty about the relative timing of said side-effects in left and right sub-expressions. This cannot be accomplished by adding parentheses. In other words, the JLS advises against relying on Java&#39;s <i>Evaluation Order</i>, not against relying on operator precedence. The difference between these is explained <a href=\"http://stackoverflow.com/a/13353263/13353263\">below</a>, and <a href=\"http://stackoverflow.com/a/6801431/230513\">here</a>."},{"owner":{"account_id":42966,"reputation":8386,"user_id":125389,"display_name":"Kevin Panko"},"score":3,"creation_date":1399482733,"post_id":2137690,"comment_id":36083948,"body_markdown":"`((When)(in)((doubt)(,)(add more)((parentheses)?))`  No, thank you.  Add the minimal amount, please.","body":"<code>((When)(in)((doubt)(,)(add more)((parentheses)?))</code>  No, thank you.  Add the minimal amount, please."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1399483349,"post_id":2137690,"comment_id":36084304,"body_markdown":"@KevinPanko: For [example](http://www.netfunny.com/rhf/jokes/90q2/lispcode.html).","body":"@KevinPanko: For <a href=\"http://www.netfunny.com/rhf/jokes/90q2/lispcode.html\" rel=\"nofollow noreferrer\">example</a>."}],"answers":[{"tags":[],"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"down_vote_count":1,"up_vote_count":21,"is_accepted":true,"score":20,"last_activity_date":1399482931,"creation_date":1264485440,"answer_id":2137725,"question_id":2137690,"body_markdown":"As far as the &quot;Real World&quot; is concerned, it&#39;s probably fair to say:\r\n\r\n- enough programmers know that multiplication/division take precedence over addition/subtraction, as is mathematically the convention\r\n- hardly any programmers can remember any of the other rules of precedence\r\n\r\nSo, apart from the specific case of `*/` vs `+-`, I&#39;d really just use brackets to explicitly define the precedence intended.","title":"Java operator precedence guidelines","body":"<p>As far as the \"Real World\" is concerned, it's probably fair to say:</p>\n\n<ul>\n<li>enough programmers know that multiplication/division take precedence over addition/subtraction, as is mathematically the convention</li>\n<li>hardly any programmers can remember any of the other rules of precedence</li>\n</ul>\n\n<p>So, apart from the specific case of <code>*/</code> vs <code>+-</code>, I'd really just use brackets to explicitly define the precedence intended.</p>\n"},{"tags":[],"owner":{"account_id":100832,"reputation":4191,"user_id":271594,"accept_rate":83,"display_name":"iter"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1266214964,"creation_date":1266214964,"answer_id":2264327,"question_id":2137690,"body_markdown":"Another related source of bugs is how rounding errors accumulate. Not an operator precedence order issue per se, but a source of surprise when you get a different result after rearranging operands in an arithmetically-equivalent way. Here&#39;s a sun.com version of David Goldberg&#39;s [_What Every Computer Scientist Should Know About Floating-Point Arithmetic_](http://docs.sun.com/source/806-3568/ncg_goldberg.html).","title":"Java operator precedence guidelines","body":"<p>Another related source of bugs is how rounding errors accumulate. Not an operator precedence order issue per se, but a source of surprise when you get a different result after rearranging operands in an arithmetically-equivalent way. Here's a sun.com version of David Goldberg's <a href=\"http://docs.sun.com/source/806-3568/ncg_goldberg.html\" rel=\"noreferrer\"><em>What Every Computer Scientist Should Know About Floating-Point Arithmetic</em></a>.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1350247572,"creation_date":1350115857,"answer_id":12871264,"question_id":2137690,"body_markdown":"It seems to me that the truth of this is that &#39;most programmers&#39; think &#39;most other programmers&#39; don&#39;t know or can&#39;t remember operator precedence, so they indulge in what is indulgently called &#39;defensive programming&#39; by &#39;inserting the missing parentheses&#39;, just to &#39;clarify&#39; that. Whether remembering this third-grade stuff is a real problem is another question. It just as arguable that all this is a complete waste of time and if anything makes things worse. My own view is that redundant syntax is to be avoided wherever possible, and that computer programmers should know the language they are programming in, and also perhaps raise their expectations of their colleagues.","title":"Java operator precedence guidelines","body":"<p>It seems to me that the truth of this is that 'most programmers' think 'most other programmers' don't know or can't remember operator precedence, so they indulge in what is indulgently called 'defensive programming' by 'inserting the missing parentheses', just to 'clarify' that. Whether remembering this third-grade stuff is a real problem is another question. It just as arguable that all this is a complete waste of time and if anything makes things worse. My own view is that redundant syntax is to be avoided wherever possible, and that computer programmers should know the language they are programming in, and also perhaps raise their expectations of their colleagues.</p>\n"},{"tags":[],"owner":{"account_id":438783,"reputation":6771,"user_id":827280,"accept_rate":93,"display_name":"Museful"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1354719555,"creation_date":1352762504,"answer_id":13353263,"question_id":2137690,"body_markdown":"The quote (from the [Java Language Specification &#167;15.7][1]) should be read in the context of [*Evaluation Order*][2]. As discussed [here][3], that section concerns _evaluation order_, which is not related to operator _precedence_ (or _associativity_).\r\n\r\nPrecedence and associativity influence the ***structure*** of the expression tree (i.e. which operators act on which operands), while &quot;evaluation order&quot; merely influences the order in which the expression tree is ***traversed*** when the expression is evaluated. Evaluation order (or &quot;traversal order&quot;) does not have any effect unless some sub-expressions have side-effects that affect the result (or side-effects) of other sub-expressions.\r\n\r\nFor example, if x==1 initially, the expression `++x/++x` would evaluate as 2/3 (which evaluates to 0) since Java has left-to-right evaluation order. Had evaluation order in Java been right-to-left, x would have been incremented twice before the numerator is evaluated, and the expression would have evaluated as 3/2 (which evaluates to 1). Had evaluation order been undefined, the expression could have evaluated to either of these results.\r\n\r\nThe quote in question, together with its context, ...\r\n\r\n&gt; The Java programming language guarantees that the operands of\r\n&gt; operators appear to be evaluated in a specific evaluation order,\r\n&gt; namely, from left to right.\r\n&gt;\r\n&gt; It is recommended that code not rely crucially on this specification.\r\n&gt; Code is usually clearer when each expression contains at most one side\r\n&gt; effect, as its outermost operation\r\n\r\n...discourages the reader from depending on the left-to-rightness of Java&#39;s *evaluation order* (as in the example above). It does not encourage unnecessary parentheses.\r\n\r\nEdit: Resource: [Java operator precedence table][4] that also serves as an index into sections of the JLS containing the syntactic grammar from which each precedence level is inferred.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.7\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.7\r\n  [3]: https://stackoverflow.com/a/6801431/230513\r\n  [4]: http://java.operator-precedence.com/","title":"Java operator precedence guidelines","body":"<p>The quote (from the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.7\" rel=\"nofollow noreferrer\">Java Language Specification 15.7</a>) should be read in the context of <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.7\" rel=\"nofollow noreferrer\"><em>Evaluation Order</em></a>. As discussed <a href=\"https://stackoverflow.com/a/6801431/230513\">here</a>, that section concerns <em>evaluation order</em>, which is not related to operator <em>precedence</em> (or <em>associativity</em>).</p>\n\n<p>Precedence and associativity influence the <strong><em>structure</em></strong> of the expression tree (i.e. which operators act on which operands), while \"evaluation order\" merely influences the order in which the expression tree is <strong><em>traversed</em></strong> when the expression is evaluated. Evaluation order (or \"traversal order\") does not have any effect unless some sub-expressions have side-effects that affect the result (or side-effects) of other sub-expressions.</p>\n\n<p>For example, if x==1 initially, the expression <code>++x/++x</code> would evaluate as 2/3 (which evaluates to 0) since Java has left-to-right evaluation order. Had evaluation order in Java been right-to-left, x would have been incremented twice before the numerator is evaluated, and the expression would have evaluated as 3/2 (which evaluates to 1). Had evaluation order been undefined, the expression could have evaluated to either of these results.</p>\n\n<p>The quote in question, together with its context, ...</p>\n\n<blockquote>\n  <p>The Java programming language guarantees that the operands of\n  operators appear to be evaluated in a specific evaluation order,\n  namely, from left to right.</p>\n  \n  <p>It is recommended that code not rely crucially on this specification.\n  Code is usually clearer when each expression contains at most one side\n  effect, as its outermost operation</p>\n</blockquote>\n\n<p>...discourages the reader from depending on the left-to-rightness of Java's <em>evaluation order</em> (as in the example above). It does not encourage unnecessary parentheses.</p>\n\n<p>Edit: Resource: <a href=\"http://java.operator-precedence.com/\" rel=\"nofollow noreferrer\">Java operator precedence table</a> that also serves as an index into sections of the JLS containing the syntactic grammar from which each precedence level is inferred.</p>\n"},{"tags":[],"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1353774050,"creation_date":1353774050,"answer_id":13543039,"question_id":2137690,"body_markdown":"Also, don&#39;t forget the logical &amp;&amp; and || are shortcut operators, avoid something like:\r\n\r\n    sideeffect1() || sideeffect2()\r\n\r\nIf sideeffect1() is evaluating to true, sideeffect2() isn&#39;t going to be executed. The same goes for &amp;&amp; and false. This is not entirely related to precendence, but in these extreme cases the *assiociativity* can also be an important aspect that normally is really irrelevant (at least as far as i am concerned)","title":"Java operator precedence guidelines","body":"<p>Also, don't forget the logical &amp;&amp; and || are shortcut operators, avoid something like:</p>\n\n<pre><code>sideeffect1() || sideeffect2()\n</code></pre>\n\n<p>If sideeffect1() is evaluating to true, sideeffect2() isn't going to be executed. The same goes for &amp;&amp; and false. This is not entirely related to precendence, but in these extreme cases the <em>assiociativity</em> can also be an important aspect that normally is really irrelevant (at least as far as i am concerned)</p>\n"},{"tags":[],"owner":{"account_id":191237,"reputation":7488,"user_id":431698,"accept_rate":69,"display_name":"Jingguo Yao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1360678886,"creation_date":1357003489,"answer_id":14107256,"question_id":2137690,"body_markdown":"The [JLS][1] does not give an explicit operator precedence table; it is implied when the [JLS][2] describes various operators. For example, the grammar for [`ShiftExpression`][3] is this:\r\n\r\n    ShiftExpression:\r\n        AdditiveExpression\r\n        ShiftExpression &lt;&lt; AdditiveExpression\r\n        ShiftExpression &gt;&gt; AdditiveExpression\r\n        ShiftExpression &gt;&gt;&gt; AdditiveExpression\r\n\r\nThis means that additive operators (`+` and `-`) have a higher precedence than  the left-associative shift operators (`&lt;&lt;`, `&gt;&gt;` and `&gt;&gt;&gt;`).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/index.html\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se7/html/index.html\r\n  [3]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.19","title":"Java operator precedence guidelines","body":"<p>The <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/index.html\" rel=\"nofollow\">JLS</a> does not give an explicit operator precedence table; it is implied when the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/index.html\" rel=\"nofollow\">JLS</a> describes various operators. For example, the grammar for <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.19\" rel=\"nofollow\"><code>ShiftExpression</code></a> is this:</p>\n\n<pre><code>ShiftExpression:\n    AdditiveExpression\n    ShiftExpression &lt;&lt; AdditiveExpression\n    ShiftExpression &gt;&gt; AdditiveExpression\n    ShiftExpression &gt;&gt;&gt; AdditiveExpression\n</code></pre>\n\n<p>This means that additive operators (<code>+</code> and <code>-</code>) have a higher precedence than  the left-associative shift operators (<code>&lt;&lt;</code>, <code>&gt;&gt;</code> and <code>&gt;&gt;&gt;</code>).</p>\n"}],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12526,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"accepted_answer_id":2137725,"answer_count":6,"score":21,"last_activity_date":1654778654,"creation_date":1264484566,"question_id":2137690,"body_markdown":"Misunderstanding **Java operator precedence** is a source of frequently asked questions and subtle errors. I was intrigued to learn that even the [*Java Language Specification*][jls0] says, &quot;It is recommended that code not rely crucially on this specification.&quot; [JLS &#167;15.7][jls2] Preferring *clear* to *clever*, are there any useful guidelines in this area?\r\n\r\nAs noted [here][1], this problem should be studied in the context of [_Evaluation Order_][jls3], detailed [here][eop]. Here are a number of resources on the topic:\r\n\r\n* [JLS Operators][jls1]\r\n* [JLS Precedence][jls2]\r\n* [JLS Evaluation Order][jls3]\r\n* [What are the rules for evaluation order in Java?][eop]\r\n* [Java Glossary][jg]\r\n* [Princeton][pr]\r\n* [Oracle Tutorial][ot]\r\n* [Conversions and Promotions][cnp]\r\n* [Usenet discussion][un]\r\n\r\nAdditions or corrections welcome.\r\n\r\n[jls0]:https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15\r\n[jls1]:https://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.12\r\n[jls2]:https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.7\r\n[jls3]:https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.7\r\n[eop]:https://stackoverflow.com/q/6800590/230513\r\n[jg]:http://mindprod.com/jgloss/precedence.html\r\n[pr]:http://www.cs.princeton.edu/introcs/11precedence/\r\n[ot]:http://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\r\n[cnp]:http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html\r\n[un]:http://groups.google.com/group/comp.lang.java.programmer/browse_frm/thread/53e1b79100e7dd01\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/13353263/230513\r\n  [jls3]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.7","title":"Java operator precedence guidelines","body":"<p>Misunderstanding <strong>Java operator precedence</strong> is a source of frequently asked questions and subtle errors. I was intrigued to learn that even the <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15\" rel=\"nofollow noreferrer\"><em>Java Language Specification</em></a> says, &quot;It is recommended that code not rely crucially on this specification.&quot; <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.7\" rel=\"nofollow noreferrer\">JLS 15.7</a> Preferring <em>clear</em> to <em>clever</em>, are there any useful guidelines in this area?</p>\n<p>As noted <a href=\"https://stackoverflow.com/a/13353263/230513\">here</a>, this problem should be studied in the context of <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.7\" rel=\"nofollow noreferrer\"><em>Evaluation Order</em></a>, detailed <a href=\"https://stackoverflow.com/q/6800590/230513\">here</a>. Here are a number of resources on the topic:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.12\" rel=\"nofollow noreferrer\">JLS Operators</a></li>\n<li><a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.7\" rel=\"nofollow noreferrer\">JLS Precedence</a></li>\n<li><a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.7\" rel=\"nofollow noreferrer\">JLS Evaluation Order</a></li>\n<li><a href=\"https://stackoverflow.com/q/6800590/230513\">What are the rules for evaluation order in Java?</a></li>\n<li><a href=\"http://mindprod.com/jgloss/precedence.html\" rel=\"nofollow noreferrer\">Java Glossary</a></li>\n<li><a href=\"http://www.cs.princeton.edu/introcs/11precedence/\" rel=\"nofollow noreferrer\">Princeton</a></li>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a></li>\n<li><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html\" rel=\"nofollow noreferrer\">Conversions and Promotions</a></li>\n<li><a href=\"http://groups.google.com/group/comp.lang.java.programmer/browse_frm/thread/53e1b79100e7dd01\" rel=\"nofollow noreferrer\">Usenet discussion</a></li>\n</ul>\n<p>Additions or corrections welcome.</p>\n"},{"tags":["java","android","android-viewpager2","fragmentpageradapter","fragmentstateadapter"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1654275419,"post_id":72416168,"comment_id":128060114,"body_markdown":"Not sure, but Can you disable the nested scrolling of the ViewPager2 RecyclerView (if you are using VP2); [described here](https://stackoverflow.com/questions/67749500/how-to-enable-dragging-on-viewpager2-inside-bottomsheetdialogfragment/67865776#67865776)","body":"Not sure, but Can you disable the nested scrolling of the ViewPager2 RecyclerView (if you are using VP2); <a href=\"https://stackoverflow.com/questions/67749500/how-to-enable-dragging-on-viewpager2-inside-bottomsheetdialogfragment/67865776#67865776\">described here</a>"},{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1654336418,"post_id":72416168,"comment_id":128070262,"body_markdown":"@Zain Yes, I&#39;m using ViewPager2. I think this problem occurred with Nested Scrolling of ViewPager2. Because when my images are getting loaded then my device is also hanging.","body":"@Zain Yes, I&#39;m using ViewPager2. I think this problem occurred with Nested Scrolling of ViewPager2. Because when my images are getting loaded then my device is also hanging."},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1654343462,"post_id":72416168,"comment_id":128071374,"body_markdown":"Great.. Have you tried disabling it?","body":"Great.. Have you tried disabling it?"},{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1654367173,"post_id":72416168,"comment_id":128075971,"body_markdown":"@Zain Sorry, But the problem is not solved yet. My ViewPager2 is Showing correctly but unable to click on the top position of Images. When I scroll the `RecyclerView` a bit down then onClick works fine.","body":"@Zain Sorry, But the problem is not solved yet. My ViewPager2 is Showing correctly but unable to click on the top position of Images. When I scroll the <code>RecyclerView</code> a bit down then onClick works fine."}],"answers":[{"tags":[],"owner":{"account_id":16676962,"reputation":1021,"user_id":12176221,"display_name":"Jacouille"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1654608643,"creation_date":1654608643,"answer_id":72532099,"question_id":72416168,"body_markdown":"I had same problem not so long ago. I fixed mine by adding NestedScrollView as SwipeRefreshLayout child, and then simply put your recycler layout as NestedScrollView&#39;s child. See example below :\r\n\r\n\r\n```\r\n&lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\r\n        android:id=&quot;@+id/mahadevSwipe&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        // I didn&#39;t put mandatory constraints, but you&#39;ll have to\r\n        &lt;androidx.core.widget.NestedScrollView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;androidx.recyclerview.widget.RecyclerView\r\n                android:id=&quot;@+id/mahadevRecyclerView&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\n    &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\r\n```\r\n\r\nAlternatively, you could also keep your code like it is, and add custom scrolling behavior with scroll listener. \r\nTell me if my first guess don&#39;t work, i&#39;ll give you example of custom scroll handling.","title":"RecyclerView onClick event is not working with SwipeRefreshLayout?","body":"<p>I had same problem not so long ago. I fixed mine by adding NestedScrollView as SwipeRefreshLayout child, and then simply put your recycler layout as NestedScrollView's child. See example below :</p>\n<pre><code>&lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\n        android:id=&quot;@+id/mahadevSwipe&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        // I didn't put mandatory constraints, but you'll have to\n        &lt;androidx.core.widget.NestedScrollView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=&quot;@+id/mahadevRecyclerView&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;/androidx.core.widget.NestedScrollView&gt;\n\n    &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\n</code></pre>\n<p>Alternatively, you could also keep your code like it is, and add custom scrolling behavior with scroll listener.\nTell me if my first guess don't work, i'll give you example of custom scroll handling.</p>\n"},{"tags":[],"owner":{"account_id":7590406,"reputation":1275,"user_id":5758240,"display_name":"Juanje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654778533,"creation_date":1654778533,"answer_id":72560470,"question_id":72416168,"body_markdown":"Try adding `app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;` to all views under coordinator layout.","title":"RecyclerView onClick event is not working with SwipeRefreshLayout?","body":"<p>Try adding <code>app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;</code> to all views under coordinator layout.</p>\n"}],"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72532099,"answer_count":2,"score":3,"last_activity_date":1654778533,"creation_date":1653745370,"question_id":72416168,"body_markdown":"Before using `FragmentStateAdapter`. I was using `FragmentPagerAdapter` then everything was fine but when I migrated from `FragmentPagerAdapter` to `FragmentStateAdapter` to reduce memory usage.  The issue that I&#39;m facing is that when `RecyclerView` is at the top position then clicking on any item in the list is not working. If I scroll the `RecyclerView` a bit down then onClick works fine. This problem was not happening with `SwipeRefreshLayout`. When I remove `SwipeRefreshLayout` from parent of `RecyclerView`. It working fine. How can I use it with `SwipeRefreshLayout`?\r\n\r\nI&#39;m using children Fragments inside a parent Fragment like this\r\n[![enter image description here][1]][1]\r\n\r\nThis is the code of Parent Fragment.\r\n```\r\npublic class DailyFragment extends Fragment {\r\n    private FragmentDailyBinding binding;\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n        binding = FragmentDailyBinding.inflate(inflater, container, false);\r\n        MyChildFragmentAdapter childFragmentAdapter = new MyChildFragmentAdapter(this.getChildFragmentManager(), this.getLifecycle()); // I&#39;m showing these fragment in Parent fragment. So that I&#39;m using getChildFragmentManager() \r\n        childFragmentAdapter.addFragment(new FirstFragment(),&quot;first&quot;);\r\n        childFragmentAdapter.addFragment(new SecondFragment(),&quot;second&quot;);\r\n        childFragmentAdapter.addFragment(new ThirdFragment(),&quot;third&quot;);\r\n        childFragmentAdapter.addFragment(new FourthFragment(),&quot;fourth&quot;);\r\n        childFragmentAdapter.addFragment(new FifthFragment(),&quot;fifth&quot;);\r\n        binding.dailyViewPager.setAdapter(childFragmentAdapter);\r\n        new TabLayoutMediator(binding.dailyTabLayout, binding.dailyViewPager, (tab, position) -&gt; tab.setText(childFragmentAdapter.fragmentsArrayListTitle.get(position))).attach();\r\n        binding.dailyViewPager.setOrientation(ViewPager2.ORIENTATION_VERTICAL);\r\n        return binding.getRoot();\r\n    }\r\n\r\n\r\n    // FragmentStateAdapter\r\n    public static class MyChildFragmentAdapter extends FragmentStateAdapter {\r\n        private final ArrayList&lt;Fragment&gt; fragmentsArrayList = new ArrayList&lt;&gt;();\r\n        private final ArrayList&lt;String&gt; fragmentsArrayListTitle = new ArrayList&lt;&gt;();\r\n\r\n        public MyChildFragmentAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\r\n            super(fragmentManager, lifecycle);\r\n        }\r\n\r\n\r\n\r\n        public void addFragment(Fragment fragment, String title) {\r\n            fragmentsArrayList.add(fragment);\r\n            fragmentsArrayListTitle.add(title);\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public Fragment createFragment(int position) {\r\n            return fragmentsArrayList.get(position);\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return fragmentsArrayList.size();\r\n        }\r\n\r\n    }\r\n}\r\n```\r\nand This this XML of `FirstFragment()`\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ChieldFragment.dailyChield.MahadevFragment&quot;&gt;\r\n    \r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n&lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\r\n        android:id=&quot;@+id/mahadevSwipe&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/mahadevRecyclerView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\r\n\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nMy question is similar to this question\r\n\r\n[ViewPager2 conflicting with SwipeRefreshLayout][2]\r\n\r\nI checked these answers but not solved my problem. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yJ3gM.jpg\r\n  [2]: https://stackoverflow.com/q/61115361/16765223","title":"RecyclerView onClick event is not working with SwipeRefreshLayout?","body":"<p>Before using <code>FragmentStateAdapter</code>. I was using <code>FragmentPagerAdapter</code> then everything was fine but when I migrated from <code>FragmentPagerAdapter</code> to <code>FragmentStateAdapter</code> to reduce memory usage.  The issue that I'm facing is that when <code>RecyclerView</code> is at the top position then clicking on any item in the list is not working. If I scroll the <code>RecyclerView</code> a bit down then onClick works fine. This problem was not happening with <code>SwipeRefreshLayout</code>. When I remove <code>SwipeRefreshLayout</code> from parent of <code>RecyclerView</code>. It working fine. How can I use it with <code>SwipeRefreshLayout</code>?</p>\n<p>I'm using children Fragments inside a parent Fragment like this\n<a href=\"https://i.stack.imgur.com/yJ3gM.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yJ3gM.jpg\" alt=\"enter image description here\" /></a></p>\n<p>This is the code of Parent Fragment.</p>\n<pre><code>public class DailyFragment extends Fragment {\n    private FragmentDailyBinding binding;\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        binding = FragmentDailyBinding.inflate(inflater, container, false);\n        MyChildFragmentAdapter childFragmentAdapter = new MyChildFragmentAdapter(this.getChildFragmentManager(), this.getLifecycle()); // I'm showing these fragment in Parent fragment. So that I'm using getChildFragmentManager() \n        childFragmentAdapter.addFragment(new FirstFragment(),&quot;first&quot;);\n        childFragmentAdapter.addFragment(new SecondFragment(),&quot;second&quot;);\n        childFragmentAdapter.addFragment(new ThirdFragment(),&quot;third&quot;);\n        childFragmentAdapter.addFragment(new FourthFragment(),&quot;fourth&quot;);\n        childFragmentAdapter.addFragment(new FifthFragment(),&quot;fifth&quot;);\n        binding.dailyViewPager.setAdapter(childFragmentAdapter);\n        new TabLayoutMediator(binding.dailyTabLayout, binding.dailyViewPager, (tab, position) -&gt; tab.setText(childFragmentAdapter.fragmentsArrayListTitle.get(position))).attach();\n        binding.dailyViewPager.setOrientation(ViewPager2.ORIENTATION_VERTICAL);\n        return binding.getRoot();\n    }\n\n\n    // FragmentStateAdapter\n    public static class MyChildFragmentAdapter extends FragmentStateAdapter {\n        private final ArrayList&lt;Fragment&gt; fragmentsArrayList = new ArrayList&lt;&gt;();\n        private final ArrayList&lt;String&gt; fragmentsArrayListTitle = new ArrayList&lt;&gt;();\n\n        public MyChildFragmentAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\n            super(fragmentManager, lifecycle);\n        }\n\n\n\n        public void addFragment(Fragment fragment, String title) {\n            fragmentsArrayList.add(fragment);\n            fragmentsArrayListTitle.add(title);\n        }\n\n        @NonNull\n        @Override\n        public Fragment createFragment(int position) {\n            return fragmentsArrayList.get(position);\n        }\n\n        @Override\n        public int getItemCount() {\n            return fragmentsArrayList.size();\n        }\n\n    }\n}\n</code></pre>\n<p>and This this XML of <code>FirstFragment()</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ChieldFragment.dailyChield.MahadevFragment&quot;&gt;\n    \n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n    \n&lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\n        android:id=&quot;@+id/mahadevSwipe&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=&quot;@+id/mahadevRecyclerView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\n\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>My question is similar to this question</p>\n<p><a href=\"https://stackoverflow.com/q/61115361/16765223\">ViewPager2 conflicting with SwipeRefreshLayout</a></p>\n<p>I checked these answers but not solved my problem.</p>\n"},{"tags":["java","spring","unit-testing","kotlin","deserialization"],"answers":[{"tags":[],"owner":{"account_id":11211027,"reputation":531,"user_id":8225099,"display_name":"wartoshika"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654778462,"creation_date":1654773578,"answer_id":72559387,"question_id":72558212,"body_markdown":"You can do a sort of **integration test** to test your code.\r\n\r\n\r\n```kt\r\n\r\n    @ParameterizedTest(name = &quot;given string \\&quot;{0}\\&quot; is valid:  \\&quot;{1}\\&quot;&quot;)\r\n    @MethodSource(&quot;tests&quot;)\r\n    fun `check different parameters`(string: String, myType: MyType) {\r\n    \r\n        // create a jackson object mapper instance and register your own deserializer\r\n        val mapper = ObjectMapper().registerKotlinModule().registerModule(SimpleModule().apply {\r\n\t\t    addDeserializer(MyType::class.java, MyDeserializer())\r\n        })    \r\n                \r\n        // read the serialized string into an object using your deserializer\r\n        Assertions.assertEquals(myType, mapper.readValue&lt;MyType&gt;(string))\r\n    \r\n    }\r\n\r\n```\r\n\r\nThe example assumed that the `jackson-module-kotlin`([Maven Repository](https://mvnrepository.com/artifact/com.fasterxml.jackson.module/jackson-module-kotlin/2.13.3)) is available within the classpath. Alternativly you should use `mapper.readValue(serialized, MyType::class.java)` to deserialize your json and should skip adding `registerKotlinModule()` to the object mapper builder.","title":"How to unit-test StdDeserializer in spring boot?","body":"<p>You can do a sort of <strong>integration test</strong> to test your code.</p>\n<pre><code>\n    @ParameterizedTest(name = &quot;given string \\&quot;{0}\\&quot; is valid:  \\&quot;{1}\\&quot;&quot;)\n    @MethodSource(&quot;tests&quot;)\n    fun `check different parameters`(string: String, myType: MyType) {\n    \n        // create a jackson object mapper instance and register your own deserializer\n        val mapper = ObjectMapper().registerKotlinModule().registerModule(SimpleModule().apply {\n            addDeserializer(MyType::class.java, MyDeserializer())\n        })    \n                \n        // read the serialized string into an object using your deserializer\n        Assertions.assertEquals(myType, mapper.readValue&lt;MyType&gt;(string))\n    \n    }\n\n</code></pre>\n<p>The example assumed that the <code>jackson-module-kotlin</code>(<a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.module/jackson-module-kotlin/2.13.3\" rel=\"nofollow noreferrer\">Maven Repository</a>) is available within the classpath. Alternativly you should use <code>mapper.readValue(serialized, MyType::class.java)</code> to deserialize your json and should skip adding <code>registerKotlinModule()</code> to the object mapper builder.</p>\n"}],"owner":{"display_name":"user12115080"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72559387,"answer_count":1,"score":1,"last_activity_date":1654778462,"creation_date":1654768271,"question_id":72558212,"body_markdown":"The JSON object that is deserialized is of this format.\r\n```\r\n{\r\n   &quot;myTypes&quot;:[&quot;type-1&quot;,&quot;type-2&quot;...]\r\n}\r\n```\r\nThe deserializer class is as follows.\r\n```\r\nclass MyDeserializer: StdDeserializer&lt;MyType&gt;( MyType::class.java) {\r\n    override fun deserialize(jsonPareser: JsonParser?, dctx: DeserializationContext?): MyType? {\r\n        val node: JsonNode = jsonPareser?.codec?.readTree(jsonPareser) ?: return null\r\n        return try {\r\n            MyType.valueOf(node.textValue().uppercase().replace(&#39;-&#39;,&#39;_&#39;))\r\n        }catch (e : IllegalArgumentException){\r\n            null\r\n        }\r\n    }\r\n```\r\n\r\nI have written most of the tests but can&#39;t figure out what to do in the mentioned part.\r\n```\r\nclass MyTypeDeserializerTest {\r\n    @BeforeEach\r\n    fun init() {\r\n        MockKAnnotations.init(this)\r\n    }\r\n\r\n    @ParameterizedTest(name = &quot;given string \\&quot;{0}\\&quot; is valid:  \\&quot;{1}\\&quot;&quot;)\r\n    @MethodSource(&quot;tests&quot;)\r\n    fun `check different parameters`(string: String, myType: MyType) {\r\n        val myTypeDeserializer = MyTypeDeserializer()\r\n        val deserialisedType= myTypeDeserializer.deserialize(&lt;what do I put here?&gt;)\r\n\r\n        Assertions.assertEquals(myType, deserialisedType)\r\n    }\r\n\r\n    private companion object {\r\n        @JvmStatic\r\n        fun tests() = Stream.of(\r\n            Arguments.of(String.format(&lt;josn&gt;), expectedType),\r\n        )\r\n    }\r\n\r\n}\r\n```\r\nHelp would be much appreciated","title":"How to unit-test StdDeserializer in spring boot?","body":"<p>The JSON object that is deserialized is of this format.</p>\n<pre><code>{\n   &quot;myTypes&quot;:[&quot;type-1&quot;,&quot;type-2&quot;...]\n}\n</code></pre>\n<p>The deserializer class is as follows.</p>\n<pre><code>class MyDeserializer: StdDeserializer&lt;MyType&gt;( MyType::class.java) {\n    override fun deserialize(jsonPareser: JsonParser?, dctx: DeserializationContext?): MyType? {\n        val node: JsonNode = jsonPareser?.codec?.readTree(jsonPareser) ?: return null\n        return try {\n            MyType.valueOf(node.textValue().uppercase().replace('-','_'))\n        }catch (e : IllegalArgumentException){\n            null\n        }\n    }\n</code></pre>\n<p>I have written most of the tests but can't figure out what to do in the mentioned part.</p>\n<pre><code>class MyTypeDeserializerTest {\n    @BeforeEach\n    fun init() {\n        MockKAnnotations.init(this)\n    }\n\n    @ParameterizedTest(name = &quot;given string \\&quot;{0}\\&quot; is valid:  \\&quot;{1}\\&quot;&quot;)\n    @MethodSource(&quot;tests&quot;)\n    fun `check different parameters`(string: String, myType: MyType) {\n        val myTypeDeserializer = MyTypeDeserializer()\n        val deserialisedType= myTypeDeserializer.deserialize(&lt;what do I put here?&gt;)\n\n        Assertions.assertEquals(myType, deserialisedType)\n    }\n\n    private companion object {\n        @JvmStatic\n        fun tests() = Stream.of(\n            Arguments.of(String.format(&lt;josn&gt;), expectedType),\n        )\n    }\n\n}\n</code></pre>\n<p>Help would be much appreciated</p>\n"},{"tags":["java","multithreading","synchronization"],"comments":[{"owner":{"account_id":16264338,"reputation":29,"user_id":11744870,"display_name":"BlueRyse"},"score":0,"creation_date":1654699441,"post_id":72547510,"comment_id":128154309,"body_markdown":"After investigating more, yes, using ```synchronization``` and its ```methods``` is the way my teacher wants the assignment to be done.","body":"After investigating more, yes, using <code>synchronization</code> and its <code>methods</code> is the way my teacher wants the assignment to be done."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1654699621,"post_id":72547510,"comment_id":128154398,"body_markdown":"Based on the comment you just deleted, I could see that `join` would not be able to accomplish it. What you should describe in your question is that the calling thread should be waiting for `mb1()` to complete in both of the other threads before it continues. By the way, you&#39;re using wait backwards. You want the calling thread to wait on the other threads, not the other way around. The reason I&#39;m not writing a full answer is that I think I would get it wrong. Working with Java threads directly is very complicated, and there are libraries for simplifying it, so I&#39;m super rusty on it.","body":"Based on the comment you just deleted, I could see that <code>join</code> would not be able to accomplish it. What you should describe in your question is that the calling thread should be waiting for <code>mb1()</code> to complete in both of the other threads before it continues. By the way, you&#39;re using wait backwards. You want the calling thread to wait on the other threads, not the other way around. The reason I&#39;m not writing a full answer is that I think I would get it wrong. Working with Java threads directly is very complicated, and there are libraries for simplifying it, so I&#39;m super rusty on it."},{"owner":{"account_id":16264338,"reputation":29,"user_id":11744870,"display_name":"BlueRyse"},"score":0,"creation_date":1654699961,"post_id":72547510,"comment_id":128154552,"body_markdown":"I tried to do it as asked by the assignment (calling thread waiting for both threads to terminate ```mb1()```), but if I do that the threads calls ```notifyAll()``` before the calling threads gets to call the ```wait()```. This results again in a deadlock.","body":"I tried to do it as asked by the assignment (calling thread waiting for both threads to terminate <code>mb1()</code>), but if I do that the threads calls <code>notifyAll()</code> before the calling threads gets to call the <code>wait()</code>. This results again in a deadlock."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1654702019,"post_id":72547510,"comment_id":128155631,"body_markdown":"@Tenfour04 The lock is not held by the the thread while it&#39;s waiting. [&quot;The current thread must own this object&#39;s monitor. The thread releases ownership of this monitor and waits...&quot;](https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#wait()).","body":"@Tenfour04 The lock is not held by the the thread while it&#39;s waiting. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#wait()\" rel=\"nofollow noreferrer\">&quot;The current thread must own this object&#39;s monitor. The thread releases ownership of this monitor and waits...&quot;</a>."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1654703247,"post_id":72547510,"comment_id":128156174,"body_markdown":"@DavidConrad Oh, right. Very rusty.","body":"@DavidConrad Oh, right. Very rusty."},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1654704426,"post_id":72547510,"comment_id":128156671,"body_markdown":"It seems like a deadlock to me. One in `wait()` and another one `notifyAll()`. Move `notifyAll()` above the line `b.mb2();` should fix the problem.","body":"It seems like a deadlock to me. One in <code>wait()</code> and another one <code>notifyAll()</code>. Move <code>notifyAll()</code> above the line <code>b.mb2();</code> should fix the problem."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":2,"creation_date":1654711844,"post_id":72547510,"comment_id":128159317,"body_markdown":"@Darkman, &quot;Deadlock&quot; means that two or more threads are all unable to make progress because each one of them is waiting for one of the others to do something. But, no thread will ever wait in a`notifyAll()` call. It always returns immediately. It wakes whatever threads are waiting at that moment, or it does absolutely nothing if no thread is waiting. When a thread gets stuck waiting for a notification that happened _before_ the thread started to wait, that usually is called, &quot;lost notification.&quot;","body":"@Darkman, &quot;Deadlock&quot; means that two or more threads are all unable to make progress because each one of them is waiting for one of the others to do something. But, no thread will ever wait in a<code>notifyAll()</code> call. It always returns immediately. It wakes whatever threads are waiting at that moment, or it does absolutely nothing if no thread is waiting. When a thread gets stuck waiting for a notification that happened <i>before</i> the thread started to wait, that usually is called, &quot;lost notification.&quot;"},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1654713856,"post_id":72547510,"comment_id":128160060,"body_markdown":"@SolomonSlow Well it might be the case. I just thought that the main thread gets stuck and unable to call `notifyAll()` hence a deadlock. I might be wrong.","body":"@SolomonSlow Well it might be the case. I just thought that the main thread gets stuck and unable to call <code>notifyAll()</code> hence a deadlock. I might be wrong."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654778339,"creation_date":1654715348,"answer_id":72551003,"question_id":72547510,"body_markdown":"The notify/notifyAll methods tell the scheduler to notify one/all of the threads currently waiting on the lock that notify or notifyAll was called on. But if a thread hasn&#39;t started waiting yet then it doesn&#39;t get notified.\r\n\r\nThe solution is to introduce a condition variable that keeps wait from being called if the notifying has happened already. Define it in the same scope as your lock:\r\n\r\n    public static volatile boolean ready = false;\r\n\r\nThen use it to guard the wait block, like this:\r\n\r\n    while (!ready) {\r\n        object.wait();\r\n    }\r\n\r\n\r\nThe code calling notify/notifyAll needs to set the variable (it doesn&#39;t matter what order you do it in because the notification doesn&#39;t happen until the lock is released):\r\n\r\n    synchronized (object) {\r\n        ready = true;\r\n        object.notifyAll();\r\n    }\r\n\r\nWhat happens:\r\n\r\nIf the waiting thread gets to the waiting part before the notifying thread does its notifying, then the waiting thread finds ready is false, so it enters the wait method, releases the lock, and stays there.  Then the notifying thread changes the flag to true and wakes up the waiting thread, which can leave the wait, reacquire the lock, and then leave the loop now that the flag is set.\r\n\r\nBut if the notifying thread does its notify before the other thread waits, that&#39;s ok, because the ready flag now prevents the thread from entering the wait, it can skip over it.\r\n\r\n\r\nFurther reading: https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html    \r\n\r\n\r\n\r\n\r\n\r\n","title":"Threads logic in Java","body":"<p>The notify/notifyAll methods tell the scheduler to notify one/all of the threads currently waiting on the lock that notify or notifyAll was called on. But if a thread hasn't started waiting yet then it doesn't get notified.</p>\n<p>The solution is to introduce a condition variable that keeps wait from being called if the notifying has happened already. Define it in the same scope as your lock:</p>\n<pre><code>public static volatile boolean ready = false;\n</code></pre>\n<p>Then use it to guard the wait block, like this:</p>\n<pre><code>while (!ready) {\n    object.wait();\n}\n</code></pre>\n<p>The code calling notify/notifyAll needs to set the variable (it doesn't matter what order you do it in because the notification doesn't happen until the lock is released):</p>\n<pre><code>synchronized (object) {\n    ready = true;\n    object.notifyAll();\n}\n</code></pre>\n<p>What happens:</p>\n<p>If the waiting thread gets to the waiting part before the notifying thread does its notifying, then the waiting thread finds ready is false, so it enters the wait method, releases the lock, and stays there.  Then the notifying thread changes the flag to true and wakes up the waiting thread, which can leave the wait, reacquire the lock, and then leave the loop now that the flag is set.</p>\n<p>But if the notifying thread does its notify before the other thread waits, that's ok, because the ready flag now prevents the thread from entering the wait, it can skip over it.</p>\n<p>Further reading: <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html</a></p>\n"}],"owner":{"account_id":16264338,"reputation":29,"user_id":11744870,"display_name":"BlueRyse"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654778339,"creation_date":1654698502,"question_id":72547510,"body_markdown":"I&#39;m trying to resolve a university exercise. The class ```AImpl``` has a method ```ma(B b)``` that creates and runs two threads. These threads have to call ```mb1()``` and ```mb2()``` (they are simple methods that just print a text, so I didn&#39;t include them). The calling thread should then wait for ```mb1()``` to terminate before finishing. \r\n\r\nMy logic is: \r\n\r\nThe first thread enters and after finishing the execution of ```b.mb1()``` starts to ```wait()``` on the current object, releasing the mutex. Then the second thread runs and it does the same. When they are both waiting, the calling thread calls ```notifyAll()``` on the object, waking both of them. They execute ```b.mb2()``` and then terminate. \r\n\r\nThe problem is that when the first thread starts waiting with ```object.wait()```, the control flow doesn&#39;t return on the calling thread and the program enters in a deadlock.\r\n\r\nWhere is my logic flawed?\r\n```\r\npublic class AImpl{\r\n\tpublic static Object object = new Object();\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\tBImpl b = new BImpl();\r\n\t\tAImpl.ma(b);\r\n\t}\r\n\r\n\tpublic static void ma(B b) throws InterruptedException {\r\n\t\tThread thread = new Thread() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tb.mb1();\r\n\r\n\t\t\t\tsynchronized(object){\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tobject.wait();\r\n\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tb.mb2();\r\n\r\n\t\t\t\tSystem.out.println(&quot;Thread finished&quot;);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tThread thread1 = new Thread() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tb.mb1();\r\n\r\n\t\t\t\tsynchronized(object){\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tobject.wait();\r\n\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tb.mb2();\r\n\r\n\t\t\t\tSystem.out.println(&quot;Thread finished&quot;);\r\n\t\t\t}\r\n\t\t};\r\n\t\tthread.run();\r\n\t\tthread1.run();\r\n\r\n\t\tsynchronized(object){\r\n\t\t\tobject.notifyAll();\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;Program finished.&quot;);\r\n\t}\r\n}\r\n```","title":"Threads logic in Java","body":"<p>I'm trying to resolve a university exercise. The class <code>AImpl</code> has a method <code>ma(B b)</code> that creates and runs two threads. These threads have to call <code>mb1()</code> and <code>mb2()</code> (they are simple methods that just print a text, so I didn't include them). The calling thread should then wait for <code>mb1()</code> to terminate before finishing.</p>\n<p>My logic is:</p>\n<p>The first thread enters and after finishing the execution of <code>b.mb1()</code> starts to <code>wait()</code> on the current object, releasing the mutex. Then the second thread runs and it does the same. When they are both waiting, the calling thread calls <code>notifyAll()</code> on the object, waking both of them. They execute <code>b.mb2()</code> and then terminate.</p>\n<p>The problem is that when the first thread starts waiting with <code>object.wait()</code>, the control flow doesn't return on the calling thread and the program enters in a deadlock.</p>\n<p>Where is my logic flawed?</p>\n<pre><code>public class AImpl{\n    public static Object object = new Object();\n\n    public static void main(String[] args) throws InterruptedException {\n        BImpl b = new BImpl();\n        AImpl.ma(b);\n    }\n\n    public static void ma(B b) throws InterruptedException {\n        Thread thread = new Thread() {\n            @Override\n            public void run() {\n                b.mb1();\n\n                synchronized(object){\n                    try {\n                        object.wait();\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n                b.mb2();\n\n                System.out.println(&quot;Thread finished&quot;);\n            }\n        };\n\n        Thread thread1 = new Thread() {\n            @Override\n            public void run() {\n                b.mb1();\n\n                synchronized(object){\n                    try {\n                        object.wait();\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n                b.mb2();\n\n                System.out.println(&quot;Thread finished&quot;);\n            }\n        };\n        thread.run();\n        thread1.run();\n\n        synchronized(object){\n            object.notifyAll();\n        }\n\n        System.out.println(&quot;Program finished.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spacing"],"answers":[{"tags":[],"owner":{"account_id":16913451,"reputation":1013,"user_id":12232029,"display_name":"THess"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1574846988,"creation_date":1574845901,"answer_id":59066652,"question_id":59066496,"body_markdown":"Pretty easy to do. Just add a `+ &quot;, &quot;` to every `System.out.print()` where you output the array. Also please start using more indentations. It makes it much easier to read for everybody.\r\n```java\r\n    import java.util.*;\r\n    class sort4a {\r\n\r\n        Scanner input = new Scanner(System.in);\r\n        int num, i;\r\n        int arr[];\r\n        int temp = 0;\r\n\r\n        public void getdata() {\r\n\r\n            System.out.print(&quot;\\nEnter the size of array: &quot;);\r\n            num = input.nextInt();\r\n            arr = new int[num];\r\n            System.out.print(&quot;\\nEnter the number: &quot;);\r\n\r\n            for (i = 0; i &lt; num; i++) {\r\n                arr[i] = input.nextInt();\r\n            }\r\n        }\r\n\r\n        void putdata() {\r\n\r\n            System.out.print(&quot;\\n\\nGiven numbers are: &quot;);\r\n\r\n            for (i = 0; i &lt; num; i++) {\r\n                System.out.print(arr[i] + &quot;, &quot;);\r\n            }\r\n        }\r\n\r\n        void asce() {\r\n\r\n            for (i = 0; i &lt; num; i++) {\r\n                for (int j = i + 1; j &lt; num; j++) {\r\n                    if (arr[i] &gt; arr[j]) {\r\n                        temp = arr[i];\r\n                        arr[i] = arr[j];\r\n                        arr[j] = temp;\r\n                    }\r\n                }\r\n            }\r\n\r\n            System.out.print(&quot;\\n\\nAscending order of number are: &quot;);\r\n\r\n            for (int i = 0; i &lt; num; i++) {\r\n                System.out.print(arr[i] + &quot;, &quot;);\r\n            }\r\n        }\r\n\r\n        void desc() {\r\n            for (i = 0; i &lt; num; i++) {\r\n                for (int j = i + 1; j &lt; num; j++) {\r\n                    if (arr[i] &lt; arr[j]) {\r\n                        temp = arr[i];\r\n                        arr[i] = arr[j];\r\n                        arr[j] = temp;\r\n                    }\r\n                }\r\n            }\r\n\r\n            System.out.print(&quot;\\n\\nDescending order of number are: &quot;);\r\n\r\n            for (int i = 0; i &lt; num; i++) {\r\n                System.out.print(arr[i] + &quot;, &quot;);\r\n            }\r\n        }\r\n\r\n        public static void main(String args[]) {\r\n            sort4a ob = new sort4a();\r\n            ob.getdata();\r\n            ob.putdata();\r\n            ob.asce();\r\n            ob.desc();\r\n        }\r\n    }\r\n```","title":"How do I add space or comma in this output?","body":"<p>Pretty easy to do. Just add a <code>+ \", \"</code> to every <code>System.out.print()</code> where you output the array. Also please start using more indentations. It makes it much easier to read for everybody.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    import java.util.*;\n    class sort4a {\n\n        Scanner input = new Scanner(System.in);\n        int num, i;\n        int arr[];\n        int temp = 0;\n\n        public void getdata() {\n\n            System.out.print(\"\\nEnter the size of array: \");\n            num = input.nextInt();\n            arr = new int[num];\n            System.out.print(\"\\nEnter the number: \");\n\n            for (i = 0; i &lt; num; i++) {\n                arr[i] = input.nextInt();\n            }\n        }\n\n        void putdata() {\n\n            System.out.print(\"\\n\\nGiven numbers are: \");\n\n            for (i = 0; i &lt; num; i++) {\n                System.out.print(arr[i] + \", \");\n            }\n        }\n\n        void asce() {\n\n            for (i = 0; i &lt; num; i++) {\n                for (int j = i + 1; j &lt; num; j++) {\n                    if (arr[i] &gt; arr[j]) {\n                        temp = arr[i];\n                        arr[i] = arr[j];\n                        arr[j] = temp;\n                    }\n                }\n            }\n\n            System.out.print(\"\\n\\nAscending order of number are: \");\n\n            for (int i = 0; i &lt; num; i++) {\n                System.out.print(arr[i] + \", \");\n            }\n        }\n\n        void desc() {\n            for (i = 0; i &lt; num; i++) {\n                for (int j = i + 1; j &lt; num; j++) {\n                    if (arr[i] &lt; arr[j]) {\n                        temp = arr[i];\n                        arr[i] = arr[j];\n                        arr[j] = temp;\n                    }\n                }\n            }\n\n            System.out.print(\"\\n\\nDescending order of number are: \");\n\n            for (int i = 0; i &lt; num; i++) {\n                System.out.print(arr[i] + \", \");\n            }\n        }\n\n        public static void main(String args[]) {\n            sort4a ob = new sort4a();\n            ob.getdata();\n            ob.putdata();\n            ob.asce();\n            ob.desc();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":15904014,"reputation":3,"user_id":11475698,"display_name":"Aditya Newalkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59066652,"answer_count":1,"score":0,"last_activity_date":1654778260,"creation_date":1574845294,"question_id":59066496,"body_markdown":"This is a program to sort the user input in ascending and descending order, while I am giving input using spaces I want the output to be displayed in same manner either with spaces or comma.\r\n```\r\nimport java.util.*;\r\nclass sort4a {\r\n    Scanner input = new Scanner(System.in);\r\n    int num, i;\r\n    int arr[];\r\n    int temp = 0;\r\n    public void getdata() {\r\n        System.out.print(&quot;\\nEnter the size of array: &quot;);\r\n        num = input.nextInt();\r\n        arr = new int[num];\r\n        System.out.print(&quot;\\nEnter the number: &quot;);\r\n        for (i = 0; i &lt; num; i++) {\r\n            arr[i] = input.nextInt();\r\n        }\r\n    }\r\n    void putdata() {\r\n        System.out.print(&quot;\\n\\nGiven numbers are: &quot;);\r\n        for (i = 0; i &lt; num; i++) {\r\n            System.out.print(arr[i]);\r\n        }\r\n    }\r\n    void asce() {\r\n        for (i = 0; i &lt; num; i++) {\r\n            for (int j = i + 1; j &lt; num; j++) {\r\n                if (arr[i] &gt; arr[j]) {\r\n                    temp = arr[i];\r\n                    arr[i] = arr[j];\r\n                    arr[j] = temp;\r\n                }\r\n            }\r\n        }\r\n        System.out.print(&quot;\\n\\nAscending order of number are: &quot;);\r\n        for (int i = 0; i &lt; num; i++) {\r\n            System.out.print(arr[i]);\r\n        }\r\n    }\r\n    void desc() {\r\n        for (i = 0; i &lt; num; i++) {\r\n            for (int j = i + 1; j &lt; num; j++) {\r\n                if (arr[i] &lt; arr[j]) {\r\n                    temp = arr[i];\r\n                    arr[i] = arr[j];\r\n                    arr[j] = temp;\r\n                }\r\n            }\r\n        }\r\n        System.out.print(&quot;\\n\\nDescending order of number are: &quot;);\r\n        for (int i = 0; i &lt; num; i++) {\r\n            System.out.print(arr[i]);\r\n        }\r\n    }\r\n    public static void main(String args[]) {\r\n        sort4a ob = new sort4a();\r\n        ob.getdata();\r\n        ob.putdata();\r\n        ob.asce();\r\n        ob.desc();\r\n    }\r\n}\r\n```\r\nMy output is this [I want spacing in this output like I am giving space in input][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dNKln.jpg\r\n\r\nPlease suggest correction if my code is wrong.","title":"How do I add space or comma in this output?","body":"<p>This is a program to sort the user input in ascending and descending order, while I am giving input using spaces I want the output to be displayed in same manner either with spaces or comma.</p>\n<pre><code>import java.util.*;\nclass sort4a {\n    Scanner input = new Scanner(System.in);\n    int num, i;\n    int arr[];\n    int temp = 0;\n    public void getdata() {\n        System.out.print(&quot;\\nEnter the size of array: &quot;);\n        num = input.nextInt();\n        arr = new int[num];\n        System.out.print(&quot;\\nEnter the number: &quot;);\n        for (i = 0; i &lt; num; i++) {\n            arr[i] = input.nextInt();\n        }\n    }\n    void putdata() {\n        System.out.print(&quot;\\n\\nGiven numbers are: &quot;);\n        for (i = 0; i &lt; num; i++) {\n            System.out.print(arr[i]);\n        }\n    }\n    void asce() {\n        for (i = 0; i &lt; num; i++) {\n            for (int j = i + 1; j &lt; num; j++) {\n                if (arr[i] &gt; arr[j]) {\n                    temp = arr[i];\n                    arr[i] = arr[j];\n                    arr[j] = temp;\n                }\n            }\n        }\n        System.out.print(&quot;\\n\\nAscending order of number are: &quot;);\n        for (int i = 0; i &lt; num; i++) {\n            System.out.print(arr[i]);\n        }\n    }\n    void desc() {\n        for (i = 0; i &lt; num; i++) {\n            for (int j = i + 1; j &lt; num; j++) {\n                if (arr[i] &lt; arr[j]) {\n                    temp = arr[i];\n                    arr[i] = arr[j];\n                    arr[j] = temp;\n                }\n            }\n        }\n        System.out.print(&quot;\\n\\nDescending order of number are: &quot;);\n        for (int i = 0; i &lt; num; i++) {\n            System.out.print(arr[i]);\n        }\n    }\n    public static void main(String args[]) {\n        sort4a ob = new sort4a();\n        ob.getdata();\n        ob.putdata();\n        ob.asce();\n        ob.desc();\n    }\n}\n</code></pre>\n<p>My output is this <a href=\"https://i.stack.imgur.com/dNKln.jpg\" rel=\"nofollow noreferrer\">I want spacing in this output like I am giving space in input</a></p>\n<p>Please suggest correction if my code is wrong.</p>\n"},{"tags":["java","rest","maven","elasticsearch","elasticsearch-plugin"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1654778392,"post_id":72560345,"comment_id":128176357,"body_markdown":"Why do you need a plugin for such a highly specific need? Why not simply send those two queries from your application?","body":"Why do you need a plugin for such a highly specific need? Why not simply send those two queries from your application?"},{"owner":{"account_id":13659441,"reputation":164,"user_id":10305731,"display_name":"WISERDIVISOR"},"score":0,"creation_date":1654858912,"post_id":72560345,"comment_id":128198273,"body_markdown":"@Val the guys on the other side want this to happen in one query and it has come to me as a requirement. The only other solution I can think of is an API Gateway for just 1 route, which I feel is a really bad solution. Any other thoughts?","body":"@Val the guys on the other side want this to happen in one query and it has come to me as a requirement. The only other solution I can think of is an API Gateway for just 1 route, which I feel is a really bad solution. Any other thoughts?"}],"owner":{"account_id":13659441,"reputation":164,"user_id":10305731,"display_name":"WISERDIVISOR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654778047,"creation_date":1654778047,"question_id":72560345,"body_markdown":"&gt; What are you trying to do?\r\n\r\nI want to:\r\n1. Make a geo-query to get device-IDs in a location - in device-location index.\r\n2. Use the list of device-IDs to get device logs - in device-logs index.\r\n---\r\n&gt; What have you tried so far?\r\n\r\nI am building this using Maven. Here is the `plugin-security.policy`:\r\n```\r\ngrant {  \r\n\tpermission java.lang.RuntimePermission &quot;setFactory&quot;;\r\n};\r\n```\r\n### Failed solution 1\r\n#### Making web-request in Elasticsearch\r\nThe idea was to make 2 queries by calling Elasticsearch API from itself.\r\n```java\r\n\t\tHttpClient client2 = HttpClient.newHttpClient();\r\n    \tHttpRequest request2 = HttpRequest.newBuilder()\r\n \t         .uri(URI.create(&quot;http://localhost:9200&quot;))\r\n \t         .build();\r\n    \t\r\n    \tHttpResponse&lt;String&gt; res = client2.sendAsync(request2, BodyHandlers.ofString()).join();\r\n```\r\nFailed because of security issues. Even tried making another thread also with `AccessController.doPriviledged()` but same issue.\r\n```\r\n[2022-06-09T16:57:27,506][ERROR][o.e.b.ElasticsearchUncaughtExceptionHandler] [masterNode] uncaught exception in thread [Thread-3]\r\njava.util.concurrent.CompletionException: java.security.AccessControlException: access denied (&quot;org.elasticsearch.secure_sm.ThreadPermission&quot; &quot;modifyArbitraryThreadGroup&quot;)\r\n        at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:332) ~[?:?]\r\n        at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:347) ~[?:?]\r\n        at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:874) ~[?:?]\r\n        at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841) ~[?:?]\r\n        at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[?:?]\r\n        at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1773) ~[?:?]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]\r\n        at java.lang.Thread.run(Thread.java:833) [?:?]\r\n        at jdk.internal.misc.InnocuousThread.run(InnocuousThread.java:162) ~[?:?]\r\n```\r\n\r\n### Failed solution 2\r\n#### Directly calling RestSearchAction (Making search query programmatically)\r\nI found no documentation on how to make plugins for elasticsearch or how to call elasticsearch&#39;s functions programmatically.\r\nSo dug right into the code on GitHub and found this:\r\n```java\r\npublic class RestSearchAction extends BaseRestHandler {\r\n```\r\nand this:\r\n```java\r\npublic class SearchRequest extends ActionRequest implements IndicesRequest.Replaceable, Rewriteable&lt;SearchRequest&gt; {\r\n```\r\n\r\nBut I cannot figure out how to call any of them, I imagine using something like:\r\n```java\r\nString searchResult = SearchQuery(&quot;/index/_search&quot;,queryString);\r\n```\r\nBut I have a good feeling it wouldn&#39;t be that simple :)\r\nElasticsearch Version: 8.1.3\r\n\r\nANY help AT ALL is appreciated. Please do comment if you need more info.\r\n---\r\n***References&quot;***\r\n1. RestSearchAction Class: https://github.com/elastic/elasticsearch/blob/master/server/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java\r\n2. SearchRequest Class: https://github.com/elastic/elasticsearch/blob/master/server/src/main/java/org/elasticsearch/action/search/SearchRequest.java","title":"Writing a plugin to make a query using the response of another query in elasticsearch","body":"<blockquote>\n<p>What are you trying to do?</p>\n</blockquote>\n<p>I want to:</p>\n<ol>\n<li>Make a geo-query to get device-IDs in a location - in device-location index.</li>\n<li>Use the list of device-IDs to get device logs - in device-logs index.</li>\n</ol>\n<hr />\n<blockquote>\n<p>What have you tried so far?</p>\n</blockquote>\n<p>I am building this using Maven. Here is the <code>plugin-security.policy</code>:</p>\n<pre><code>grant {  \n    permission java.lang.RuntimePermission &quot;setFactory&quot;;\n};\n</code></pre>\n<h3>Failed solution 1</h3>\n<h4>Making web-request in Elasticsearch</h4>\n<p>The idea was to make 2 queries by calling Elasticsearch API from itself.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        HttpClient client2 = HttpClient.newHttpClient();\n        HttpRequest request2 = HttpRequest.newBuilder()\n             .uri(URI.create(&quot;http://localhost:9200&quot;))\n             .build();\n        \n        HttpResponse&lt;String&gt; res = client2.sendAsync(request2, BodyHandlers.ofString()).join();\n</code></pre>\n<p>Failed because of security issues. Even tried making another thread also with <code>AccessController.doPriviledged()</code> but same issue.</p>\n<pre><code>[2022-06-09T16:57:27,506][ERROR][o.e.b.ElasticsearchUncaughtExceptionHandler] [masterNode] uncaught exception in thread [Thread-3]\njava.util.concurrent.CompletionException: java.security.AccessControlException: access denied (&quot;org.elasticsearch.secure_sm.ThreadPermission&quot; &quot;modifyArbitraryThreadGroup&quot;)\n        at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:332) ~[?:?]\n        at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:347) ~[?:?]\n        at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:874) ~[?:?]\n        at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841) ~[?:?]\n        at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[?:?]\n        at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1773) ~[?:?]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[?:?]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:?]\n        at java.lang.Thread.run(Thread.java:833) [?:?]\n        at jdk.internal.misc.InnocuousThread.run(InnocuousThread.java:162) ~[?:?]\n</code></pre>\n<h3>Failed solution 2</h3>\n<h4>Directly calling RestSearchAction (Making search query programmatically)</h4>\n<p>I found no documentation on how to make plugins for elasticsearch or how to call elasticsearch's functions programmatically.\nSo dug right into the code on GitHub and found this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RestSearchAction extends BaseRestHandler {\n</code></pre>\n<p>and this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SearchRequest extends ActionRequest implements IndicesRequest.Replaceable, Rewriteable&lt;SearchRequest&gt; {\n</code></pre>\n<p>But I cannot figure out how to call any of them, I imagine using something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String searchResult = SearchQuery(&quot;/index/_search&quot;,queryString);\n</code></pre>\n<p>But I have a good feeling it wouldn't be that simple :)\nElasticsearch Version: 8.1.3</p>\n<h2>ANY help AT ALL is appreciated. Please do comment if you need more info.</h2>\n<p><em><strong>References&quot;</strong></em></p>\n<ol>\n<li>RestSearchAction Class: <a href=\"https://github.com/elastic/elasticsearch/blob/master/server/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java\" rel=\"nofollow noreferrer\">https://github.com/elastic/elasticsearch/blob/master/server/src/main/java/org/elasticsearch/rest/action/search/RestSearchAction.java</a></li>\n<li>SearchRequest Class: <a href=\"https://github.com/elastic/elasticsearch/blob/master/server/src/main/java/org/elasticsearch/action/search/SearchRequest.java\" rel=\"nofollow noreferrer\">https://github.com/elastic/elasticsearch/blob/master/server/src/main/java/org/elasticsearch/action/search/SearchRequest.java</a></li>\n</ol>\n"},{"tags":["java","eclipse","jsp","jetty","jetty-10"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1654757904,"post_id":72555839,"comment_id":128168981,"body_markdown":"Not sure where you get `org.apache.jasper.servlet.JspServlet` from when the log states `org.eclipse.jetty.jsp.JettyJspServlet`. Also this doesn&#39;t seem to be your issue at all","body":"Not sure where you get <code>org.apache.jasper.servlet.JspServlet</code> from when the log states <code>org.eclipse.jetty.jsp.JettyJspServlet</code>. Also this doesn&#39;t seem to be your issue at all"},{"owner":{"account_id":22344601,"reputation":31,"user_id":16563830,"display_name":"Rohini Patil"},"score":0,"creation_date":1654763272,"post_id":72555839,"comment_id":128170885,"body_markdown":"may be this is related to custom classloader which i have used in my code. And that&#39;s why getting &quot;unable to load class org.eclipse.jetty.servlet.listener.ELContextCleaner\njava.lang.ClassNotFoundException: org.eclipse.jetty.servlet.listener.ELContextCleaner&quot;","body":"may be this is related to custom classloader which i have used in my code. And that&#39;s why getting &quot;unable to load class org.eclipse.jetty.servlet.listener.ELContextCleaner java.lang.ClassNotFoundException: org.eclipse.jetty.servlet.listener.ELContextCleaner&quot;"}],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654777877,"creation_date":1654777877,"answer_id":72560302,"question_id":72555839,"body_markdown":"```\r\ncom.quickheal.loader.WebAppClassLoader.loadClass(WebAppClassLoader.java:26)\r\n```\r\n\r\nThat is the cause of your issues.\r\n\r\nYour custom classloader has to follow *all of the rules* for both the Servlet Spec and it&#39;s WebApp isolation and Jetty&#39;s `WebAppClassLoader` expectations within `WebAppContext`\r\n\r\nThat layer is never a normal Java ClassLoader.\r\n\r\nBe aware that many libraries that use Servlet also expect behaviors from the same ClassLoader (including subtle things like Class caching, permissions, servlet constraints, `java.lang.instrument.ClassFileTransformer` support, system vs server isolation, inverted parent priority, etc)","title":"NO JSP Support for /, did not find org.apache.jasper.servlet.JspServlet","body":"<pre><code>com.quickheal.loader.WebAppClassLoader.loadClass(WebAppClassLoader.java:26)\n</code></pre>\n<p>That is the cause of your issues.</p>\n<p>Your custom classloader has to follow <em>all of the rules</em> for both the Servlet Spec and it's WebApp isolation and Jetty's <code>WebAppClassLoader</code> expectations within <code>WebAppContext</code></p>\n<p>That layer is never a normal Java ClassLoader.</p>\n<p>Be aware that many libraries that use Servlet also expect behaviors from the same ClassLoader (including subtle things like Class caching, permissions, servlet constraints, <code>java.lang.instrument.ClassFileTransformer</code> support, system vs server isolation, inverted parent priority, etc)</p>\n"}],"owner":{"account_id":22344601,"reputation":31,"user_id":16563830,"display_name":"Rohini Patil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":742,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654777877,"creation_date":1654757391,"question_id":72555839,"body_markdown":"I have used jetty 10 and java 11. Also added jsp module and its dependencies. Still while running jetty i&#39;m getting below error. I have used custom classLoader.\r\n```none\r\n2022-06-09 11:45:08.094:INFO :oejs.Server:main: jetty-10.0.8; built: 2022-02-07T10:34:42.299Z; git: 716c7afd8e40d8f645b32aff06945a249d6eb511; jvm 11.0.14+9-Ubuntu-0ubuntu2.16.04\r\n2022-06-09 11:45:08.127:INFO :oejdp.ScanningAppProvider:main: Deployment monitor [file:///opt/jetty-op/webapps/]\r\n2022-06-09 11:45:10.274:INFO :oejw.StandardDescriptorProcessor:main: NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet\r\n2022-06-09 11:45:10.291:WARN :oejs.BaseHolder:main: Unable to load class org.eclipse.jetty.servlet.listener.ELContextCleaner\r\njava.lang.ClassNotFoundException: org.eclipse.jetty.servlet.listener.ELContextCleaner\r\n\tat org.eclipse.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:531)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\tat com.quickheal.loader.WebAppClassLoader.loadClass(WebAppClassLoader.java:26)\r\n\tat org.eclipse.jetty.util.Loader.loadClass(Loader.java:59)\r\n\tat org.eclipse.jetty.servlet.BaseHolder.doStart(BaseHolder.java:97)\r\n\tat org.eclipse.jetty.servlet.ListenerHolder.doStart(ListenerHolder.java:69)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:382)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1304)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:895)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:306)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:532)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.deploy.bindings.StandardStarter.processBinding(StandardStarter.java:40)\r\n\tat org.eclipse.jetty.deploy.AppLifeCycle.runBindings(AppLifeCycle.java:183)\r\n\tat org.eclipse.jetty.deploy.DeploymentManager.requestAppGoal(DeploymentManager.java:516)\r\n\tat org.eclipse.jetty.deploy.DeploymentManager.addApp(DeploymentManager.java:151)\r\n\tat org.eclipse.jetty.deploy.providers.ScanningAppProvider.fileAdded(ScanningAppProvider.java:186)\r\n\tat org.eclipse.jetty.deploy.providers.WebAppProvider.fileAdded(WebAppProvider.java:462)\r\n\tat org.eclipse.jetty.deploy.providers.ScanningAppProvider$1.fileAdded(ScanningAppProvider.java:58)\r\n\tat org.eclipse.jetty.util.Scanner$DiscreteListener.pathAdded(Scanner.java:282)\r\n\tat org.eclipse.jetty.util.Scanner.reportAddition(Scanner.java:836)\r\n\tat org.eclipse.jetty.util.Scanner.reportDifferences(Scanner.java:802)\r\n\tat org.eclipse.jetty.util.Scanner.scan(Scanner.java:709)\r\n\tat org.eclipse.jetty.util.Scanner.doStart(Scanner.java:597)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)\r\n\tat org.eclipse.jetty.deploy.providers.ScanningAppProvider.doStart(ScanningAppProvider.java:158)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.deploy.DeploymentManager.startAppProvider(DeploymentManager.java:605)\r\n\tat org.eclipse.jetty.deploy.DeploymentManager.doStart(DeploymentManager.java:246)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n\tat org.eclipse.jetty.server.Server.start(Server.java:469)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\r\n\tat org.eclipse.jetty.server.Server.doStart(Server.java:414)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.xml.XmlConfiguration.lambda$main$4(XmlConfiguration.java:1872)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat org.eclipse.jetty.xml.XmlConfiguration.main(XmlConfiguration.java:1810)\r\n2022-06-09 11:45:10.293:WARN :oejw.WebAppContext:main: Failed startup of context o.e.j.w.WebAppContext@16a0ee18{UI.xml,/,file:///tmp/jetty-0_0_0_0-7443-MDM-UI-OP-02_07_68_war-_-any-598330691539841733/webapp/,UNAVAILABLE}{/opt/jetty-op/webapps/webapp/MDM-UI-OP-02.07.68.war}\r\njavax.servlet.UnavailableException: Class loading error for holder org.eclipse.jetty.servlet.listener.ELContextCleaner@4b7dc788{src=DESCRIPTOR:file:///opt/jetty-op/etc/webdefault.xml}\r\n\tat org.eclipse.jetty.servlet.BaseHolder.doStart(BaseHolder.java:104)\r\n\tat org.eclipse.jetty.servlet.ListenerHolder.doStart(ListenerHolder.java:69)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:382)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1304)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:895)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:306)\r\n\tat org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:532)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.deploy.bindings.StandardStarter.processBinding(StandardStarter.java:40)\r\n\tat org.eclipse.jetty.deploy.AppLifeCycle.runBindings(AppLifeCycle.java:183)\r\n\tat org.eclipse.jetty.deploy.DeploymentManager.requestAppGoal(DeploymentManager.java:516)\r\n\tat org.eclipse.jetty.deploy.DeploymentManager.addApp(DeploymentManager.java:151)\r\n\tat org.eclipse.jetty.deploy.providers.ScanningAppProvider.fileAdded(ScanningAppProvider.java:186)\r\n\tat org.eclipse.jetty.deploy.providers.WebAppProvider.fileAdded(WebAppProvider.java:462)\r\n\tat org.eclipse.jetty.deploy.providers.ScanningAppProvider$1.fileAdded(ScanningAppProvider.java:58)\r\n\tat org.eclipse.jetty.util.Scanner$DiscreteListener.pathAdded(Scanner.java:282)\r\n\tat org.eclipse.jetty.util.Scanner.reportAddition(Scanner.java:836)\r\n\tat org.eclipse.jetty.util.Scanner.reportDifferences(Scanner.java:802)\r\n\tat org.eclipse.jetty.util.Scanner.scan(Scanner.java:709)\r\n\tat org.eclipse.jetty.util.Scanner.doStart(Scanner.java:597)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)\r\n\tat org.eclipse.jetty.deploy.providers.ScanningAppProvider.doStart(ScanningAppProvider.java:158)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.deploy.DeploymentManager.startAppProvider(DeploymentManager.java:605)\r\n\tat org.eclipse.jetty.deploy.DeploymentManager.doStart(DeploymentManager.java:246)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n\tat org.eclipse.jetty.server.Server.start(Server.java:469)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\r\n\tat org.eclipse.jetty.server.Server.doStart(Server.java:414)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.xml.XmlConfiguration.lambda$main$4(XmlConfiguration.java:1872)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat org.eclipse.jetty.xml.XmlConfiguration.main(XmlConfiguration.java:1810)\r\n2022-06-09 11:45:10.504:INFO :oejss.DefaultSessionIdManager:main: Session workerName=node0\r\n2022-06-09 11:45:10.541:INFO :oejsh.ContextHandler:main: Started o.e.j.w.WebAppContext@30bce90b{webapp,/webapp,file:///opt/jetty-op/webapps/webapp/,AVAILABLE}{/opt/jetty-op/webapps/webapp}\r\n2022-06-09 11:45:10.568:INFO :oejus.SslContextFactory:main: x509=X509@4bff64c2(qhmdmstore,h=[172.18.42.7],a=[/172.18.42.7],w=[]) for Server@c2db68f[provider=null,keyStore=file:///opt/jetty-op/etc/keystore,trustStore=null]\r\n2022-06-09 11:45:10.646:INFO :oejs.AbstractConnector:main: Started ServerConnector@5b07730f{SSL, (ssl, http/1.1)}{0.0.0.0:7443}\r\n2022-06-09 11:45:10.657:INFO :oejs.Server:main: Started Server@799f10e1{STARTING}[10.0.8,sto=5000] @3083ms\r\n```","title":"NO JSP Support for /, did not find org.apache.jasper.servlet.JspServlet","body":"<p>I have used jetty 10 and java 11. Also added jsp module and its dependencies. Still while running jetty i'm getting below error. I have used custom classLoader.</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-06-09 11:45:08.094:INFO :oejs.Server:main: jetty-10.0.8; built: 2022-02-07T10:34:42.299Z; git: 716c7afd8e40d8f645b32aff06945a249d6eb511; jvm 11.0.14+9-Ubuntu-0ubuntu2.16.04\n2022-06-09 11:45:08.127:INFO :oejdp.ScanningAppProvider:main: Deployment monitor [file:///opt/jetty-op/webapps/]\n2022-06-09 11:45:10.274:INFO :oejw.StandardDescriptorProcessor:main: NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet\n2022-06-09 11:45:10.291:WARN :oejs.BaseHolder:main: Unable to load class org.eclipse.jetty.servlet.listener.ELContextCleaner\njava.lang.ClassNotFoundException: org.eclipse.jetty.servlet.listener.ELContextCleaner\n    at org.eclipse.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:531)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    at com.quickheal.loader.WebAppClassLoader.loadClass(WebAppClassLoader.java:26)\n    at org.eclipse.jetty.util.Loader.loadClass(Loader.java:59)\n    at org.eclipse.jetty.servlet.BaseHolder.doStart(BaseHolder.java:97)\n    at org.eclipse.jetty.servlet.ListenerHolder.doStart(ListenerHolder.java:69)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:382)\n    at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1304)\n    at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:895)\n    at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:306)\n    at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:532)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.eclipse.jetty.deploy.bindings.StandardStarter.processBinding(StandardStarter.java:40)\n    at org.eclipse.jetty.deploy.AppLifeCycle.runBindings(AppLifeCycle.java:183)\n    at org.eclipse.jetty.deploy.DeploymentManager.requestAppGoal(DeploymentManager.java:516)\n    at org.eclipse.jetty.deploy.DeploymentManager.addApp(DeploymentManager.java:151)\n    at org.eclipse.jetty.deploy.providers.ScanningAppProvider.fileAdded(ScanningAppProvider.java:186)\n    at org.eclipse.jetty.deploy.providers.WebAppProvider.fileAdded(WebAppProvider.java:462)\n    at org.eclipse.jetty.deploy.providers.ScanningAppProvider$1.fileAdded(ScanningAppProvider.java:58)\n    at org.eclipse.jetty.util.Scanner$DiscreteListener.pathAdded(Scanner.java:282)\n    at org.eclipse.jetty.util.Scanner.reportAddition(Scanner.java:836)\n    at org.eclipse.jetty.util.Scanner.reportDifferences(Scanner.java:802)\n    at org.eclipse.jetty.util.Scanner.scan(Scanner.java:709)\n    at org.eclipse.jetty.util.Scanner.doStart(Scanner.java:597)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)\n    at org.eclipse.jetty.deploy.providers.ScanningAppProvider.doStart(ScanningAppProvider.java:158)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.eclipse.jetty.deploy.DeploymentManager.startAppProvider(DeploymentManager.java:605)\n    at org.eclipse.jetty.deploy.DeploymentManager.doStart(DeploymentManager.java:246)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\n    at org.eclipse.jetty.server.Server.start(Server.java:469)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\n    at org.eclipse.jetty.server.Server.doStart(Server.java:414)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.eclipse.jetty.xml.XmlConfiguration.lambda$main$4(XmlConfiguration.java:1872)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at org.eclipse.jetty.xml.XmlConfiguration.main(XmlConfiguration.java:1810)\n2022-06-09 11:45:10.293:WARN :oejw.WebAppContext:main: Failed startup of context o.e.j.w.WebAppContext@16a0ee18{UI.xml,/,file:///tmp/jetty-0_0_0_0-7443-MDM-UI-OP-02_07_68_war-_-any-598330691539841733/webapp/,UNAVAILABLE}{/opt/jetty-op/webapps/webapp/MDM-UI-OP-02.07.68.war}\njavax.servlet.UnavailableException: Class loading error for holder org.eclipse.jetty.servlet.listener.ELContextCleaner@4b7dc788{src=DESCRIPTOR:file:///opt/jetty-op/etc/webdefault.xml}\n    at org.eclipse.jetty.servlet.BaseHolder.doStart(BaseHolder.java:104)\n    at org.eclipse.jetty.servlet.ListenerHolder.doStart(ListenerHolder.java:69)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:382)\n    at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1304)\n    at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:895)\n    at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:306)\n    at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:532)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.eclipse.jetty.deploy.bindings.StandardStarter.processBinding(StandardStarter.java:40)\n    at org.eclipse.jetty.deploy.AppLifeCycle.runBindings(AppLifeCycle.java:183)\n    at org.eclipse.jetty.deploy.DeploymentManager.requestAppGoal(DeploymentManager.java:516)\n    at org.eclipse.jetty.deploy.DeploymentManager.addApp(DeploymentManager.java:151)\n    at org.eclipse.jetty.deploy.providers.ScanningAppProvider.fileAdded(ScanningAppProvider.java:186)\n    at org.eclipse.jetty.deploy.providers.WebAppProvider.fileAdded(WebAppProvider.java:462)\n    at org.eclipse.jetty.deploy.providers.ScanningAppProvider$1.fileAdded(ScanningAppProvider.java:58)\n    at org.eclipse.jetty.util.Scanner$DiscreteListener.pathAdded(Scanner.java:282)\n    at org.eclipse.jetty.util.Scanner.reportAddition(Scanner.java:836)\n    at org.eclipse.jetty.util.Scanner.reportDifferences(Scanner.java:802)\n    at org.eclipse.jetty.util.Scanner.scan(Scanner.java:709)\n    at org.eclipse.jetty.util.Scanner.doStart(Scanner.java:597)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)\n    at org.eclipse.jetty.deploy.providers.ScanningAppProvider.doStart(ScanningAppProvider.java:158)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.eclipse.jetty.deploy.DeploymentManager.startAppProvider(DeploymentManager.java:605)\n    at org.eclipse.jetty.deploy.DeploymentManager.doStart(DeploymentManager.java:246)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\n    at org.eclipse.jetty.server.Server.start(Server.java:469)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\n    at org.eclipse.jetty.server.Server.doStart(Server.java:414)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.eclipse.jetty.xml.XmlConfiguration.lambda$main$4(XmlConfiguration.java:1872)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at org.eclipse.jetty.xml.XmlConfiguration.main(XmlConfiguration.java:1810)\n2022-06-09 11:45:10.504:INFO :oejss.DefaultSessionIdManager:main: Session workerName=node0\n2022-06-09 11:45:10.541:INFO :oejsh.ContextHandler:main: Started o.e.j.w.WebAppContext@30bce90b{webapp,/webapp,file:///opt/jetty-op/webapps/webapp/,AVAILABLE}{/opt/jetty-op/webapps/webapp}\n2022-06-09 11:45:10.568:INFO :oejus.SslContextFactory:main: x509=X509@4bff64c2(qhmdmstore,h=[172.18.42.7],a=[/172.18.42.7],w=[]) for Server@c2db68f[provider=null,keyStore=file:///opt/jetty-op/etc/keystore,trustStore=null]\n2022-06-09 11:45:10.646:INFO :oejs.AbstractConnector:main: Started ServerConnector@5b07730f{SSL, (ssl, http/1.1)}{0.0.0.0:7443}\n2022-06-09 11:45:10.657:INFO :oejs.Server:main: Started Server@799f10e1{STARTING}[10.0.8,sto=5000] @3083ms\n</code></pre>\n"},{"tags":["java","gradle","gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654776960,"creation_date":1654776960,"answer_id":72560091,"question_id":72252386,"body_markdown":"Finally was able to solve this, thanks to the help I got on https://discuss.gradle.org/t/class-loaded-through-configuration-is-not-found-when-task-runs/42945/3 \r\n\r\nI am quite surprised there&#39;s not a simpler solution, but one way of doing, is to use Gradle worker API, which takes 2 main steps : \r\n\r\n1. in the task, get access to the `workQueue`, and submit the parameters required for the task execution : \r\n\r\n\r\n```java\r\n    WorkQueue queue = getWorkerExecutor().classLoaderIsolation(spec -&gt; spec.getClasspath().from(getClasspath()));\r\n            queue.submit(WorkerAction.class, params -&gt; {\r\n                params.getMainClassesPath().set(someValue);\r\n                params.getTestClassesPath().set(someOtherValue);\r\n                etc.. \r\n                    })\r\n                    .collect(Collectors.toList()));\r\n            });\r\n```\r\n\r\n2. On the worker side, get back those parameters, and launch what you were initially doing in the task :\r\n\r\n```java\r\npublic abstract class WorkerAction implements WorkAction&lt;WorkerActionParams&gt; {\r\n\r\n    @Override\r\n    public void execute() {\r\n        WorkerActionParams params = getParameters();\r\n\r\n       ....\r\n    }\r\n```\r\n\r\nThe parameters you pass need to be serializable - I was not able to make that part fully work with my original parameters, so I had to create new &quot;wrapper&quot; ones. \r\n\r\nfull example is available here : https://github.com/societe-generale/arch-unit-gradle-plugin/pull/24/files \r\n","title":"loading classes from custom dependency in a custom gradle plugin","body":"<p>Finally was able to solve this, thanks to the help I got on <a href=\"https://discuss.gradle.org/t/class-loaded-through-configuration-is-not-found-when-task-runs/42945/3\" rel=\"nofollow noreferrer\">https://discuss.gradle.org/t/class-loaded-through-configuration-is-not-found-when-task-runs/42945/3</a></p>\n<p>I am quite surprised there's not a simpler solution, but one way of doing, is to use Gradle worker API, which takes 2 main steps :</p>\n<ol>\n<li>in the task, get access to the <code>workQueue</code>, and submit the parameters required for the task execution :</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    WorkQueue queue = getWorkerExecutor().classLoaderIsolation(spec -&gt; spec.getClasspath().from(getClasspath()));\n            queue.submit(WorkerAction.class, params -&gt; {\n                params.getMainClassesPath().set(someValue);\n                params.getTestClassesPath().set(someOtherValue);\n                etc.. \n                    })\n                    .collect(Collectors.toList()));\n            });\n</code></pre>\n<ol start=\"2\">\n<li>On the worker side, get back those parameters, and launch what you were initially doing in the task :</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class WorkerAction implements WorkAction&lt;WorkerActionParams&gt; {\n\n    @Override\n    public void execute() {\n        WorkerActionParams params = getParameters();\n\n       ....\n    }\n</code></pre>\n<p>The parameters you pass need to be serializable - I was not able to make that part fully work with my original parameters, so I had to create new &quot;wrapper&quot; ones.</p>\n<p>full example is available here : <a href=\"https://github.com/societe-generale/arch-unit-gradle-plugin/pull/24/files\" rel=\"nofollow noreferrer\">https://github.com/societe-generale/arch-unit-gradle-plugin/pull/24/files</a></p>\n"}],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72560091,"answer_count":1,"score":0,"last_activity_date":1654776960,"creation_date":1652650862,"question_id":72252386,"body_markdown":"I have a custom Gradle plugin, that works well, I have published a couple of versions already. \r\n\r\nI have a new requirement, where I want to allow the plugin&#39;s users to provide an optional list of dependencies, in which they would provide classes, that can be loaded during the plugin execution. \r\n\r\nLooking at the documentation, it seems to be quite close to what is described in https://docs.gradle.org/current/userguide/implementing_gradle_plugins.html#providing_default_dependencies_for_plugins (in my case there&#39;s no default though - or said differently, the default should be an empty list of extra dependencies), but I struggle to adapt it to my use case.\r\n\r\nright now, my plugin can be configured like this : \r\n\r\n    archUnit {\r\n\r\n      preConfiguredRules = [&quot;sample.SampleRule&quot;]\r\n\r\n    }\r\n\r\nthe plugin already contains some rules, but I want to allow users to provide their own rules, they should be able to provide something like \r\n\r\n    dependencies {\r\n      archUnitDeps &#39;org.example:archunit-custom-rules:1.0&#39;\r\n    }\r\n\r\nif the provided class (`sample.SampleRule`) is in that extra dependency that we configure, the plugin should load it and apply it, just like it does with the rules that are currently packaged with the plugin.\r\n\r\nFollowing the docs, I create a configuration in my plugin :\r\n\r\n       Configuration deps = project.getConfigurations().create(&quot;archUnitDeps&quot;, c -&gt; {\r\n            c.setVisible(false);\r\n            c.setCanBeConsumed(false);\r\n            c.setCanBeResolved(true);\r\n            c.setDescription(&quot;The packaged extra rules you may want to add &quot;);\r\n          });\r\n\r\nbut then what should I do ? \r\n\r\nI&#39;ve tried something like this, to get the dependencies that the user configures, and add them at project level :\r\n\r\n        DependencyHandler dependencies = project.getDependencies();\r\n\r\n        deps.getAllDependencies().stream().forEach( extraDep -&gt; dependencies.create(extraDep));\r\n\r\nbut when using it in a project, `deps.getAllDependencies()` is empty, even though I configure the `org.example:archunit-custom-rules:1.0` dependency as above. So nothing gets loaded, and I end up with a `java.lang.ClassNotFoundException: sample.SampleRule`.\r\n\r\nwhat am I missing ? do you have a readily available example of a plugin that does something similar, that I could get inspiration from ?\r\n\r\n\r\n\r\n\r\n    ","title":"loading classes from custom dependency in a custom gradle plugin","body":"<p>I have a custom Gradle plugin, that works well, I have published a couple of versions already.</p>\n<p>I have a new requirement, where I want to allow the plugin's users to provide an optional list of dependencies, in which they would provide classes, that can be loaded during the plugin execution.</p>\n<p>Looking at the documentation, it seems to be quite close to what is described in <a href=\"https://docs.gradle.org/current/userguide/implementing_gradle_plugins.html#providing_default_dependencies_for_plugins\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/implementing_gradle_plugins.html#providing_default_dependencies_for_plugins</a> (in my case there's no default though - or said differently, the default should be an empty list of extra dependencies), but I struggle to adapt it to my use case.</p>\n<p>right now, my plugin can be configured like this :</p>\n<pre><code>archUnit {\n\n  preConfiguredRules = [&quot;sample.SampleRule&quot;]\n\n}\n</code></pre>\n<p>the plugin already contains some rules, but I want to allow users to provide their own rules, they should be able to provide something like</p>\n<pre><code>dependencies {\n  archUnitDeps 'org.example:archunit-custom-rules:1.0'\n}\n</code></pre>\n<p>if the provided class (<code>sample.SampleRule</code>) is in that extra dependency that we configure, the plugin should load it and apply it, just like it does with the rules that are currently packaged with the plugin.</p>\n<p>Following the docs, I create a configuration in my plugin :</p>\n<pre><code>   Configuration deps = project.getConfigurations().create(&quot;archUnitDeps&quot;, c -&gt; {\n        c.setVisible(false);\n        c.setCanBeConsumed(false);\n        c.setCanBeResolved(true);\n        c.setDescription(&quot;The packaged extra rules you may want to add &quot;);\n      });\n</code></pre>\n<p>but then what should I do ?</p>\n<p>I've tried something like this, to get the dependencies that the user configures, and add them at project level :</p>\n<pre><code>    DependencyHandler dependencies = project.getDependencies();\n\n    deps.getAllDependencies().stream().forEach( extraDep -&gt; dependencies.create(extraDep));\n</code></pre>\n<p>but when using it in a project, <code>deps.getAllDependencies()</code> is empty, even though I configure the <code>org.example:archunit-custom-rules:1.0</code> dependency as above. So nothing gets loaded, and I end up with a <code>java.lang.ClassNotFoundException: sample.SampleRule</code>.</p>\n<p>what am I missing ? do you have a readily available example of a plugin that does something similar, that I could get inspiration from ?</p>\n"},{"tags":["java","java-8","garbage-collection"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1654671990,"post_id":72529078,"comment_id":128143412,"body_markdown":"I dont see an `[Allocation Failure]` in your log. Besides that, you did not mention performance, latency (pause times), or memory consumption a single time. So it seems, there is no actual problem and your tuning is just an end in itself.","body":"I dont see an <code>[Allocation Failure]</code> in your log. Besides that, you did not mention performance, latency (pause times), or memory consumption a single time. So it seems, there is no actual problem and your tuning is just an end in itself."},{"owner":{"account_id":25494194,"reputation":1,"user_id":19288473,"display_name":"Barceloniak1"},"score":0,"creation_date":1654776929,"post_id":72529078,"comment_id":128175804,"body_markdown":"@Holger added up **Allocation Failure** evidence. By saying that, block code was leading to this situation. Perhaps, was not enough transparent with data. Anyway, updated last section, also what work out in the meantime.","body":"@Holger added up <b>Allocation Failure</b> evidence. By saying that, block code was leading to this situation. Perhaps, was not enough transparent with data. Anyway, updated last section, also what work out in the meantime."}],"owner":{"account_id":25494194,"reputation":1,"user_id":19288473,"display_name":"Barceloniak1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654776795,"creation_date":1654595076,"question_id":72529078,"body_markdown":"Since a while, tuning up JVM GC parameters to avoid slowness and UI down.\r\nIt recently reach a moment, that facing [Allocation Failure].\r\n\r\nopenjdk 1.8.6_166\r\n\r\n     6934.438: [G1Ergonomics (Concurrent Cycles) do not request concurrent cycle initiation, reason: still doing mixed collections, occupancy: 17213423616 bytes, allocation request: 65011736 bytes, threshold: 13743895320 bytes (40.00 %), source: concurrent humongous allocation]\r\n    2022-06-07T07:57:53.690+0000: 6934.450: Total time for which application threads were stopped: 0.0118833 seconds, Stopping threads took: 0.0023018 seconds\r\n     6934.533: [G1Ergonomics (Concurrent Cycles) do not request concurrent cycle initiation, reason: still doing mixed collections, occupancy: 17280532480 bytes, allocation request: 65011736 bytes, threshold: 13743895320 bytes (40.00 %), source: concurrent humongous allocation]\r\n     6934.582: [G1Ergonomics (Concurrent Cycles) do not request concurrent cycle initiation, reason: still doing mixed collections, occupancy: 17347641344 bytes, allocation request: 130023480 bytes, threshold: 13743895320 bytes (40.00 %), source: concurrent humongous allocation]\r\n    2022-06-07T07:57:53.833+0000: 6934.593: Total time for which application threads were stopped: 0.0379460 seconds, Stopping threads took: 0.0283039 seconds\r\n     6934.846: [G1Ergonomics (Concurrent Cycles) do not request concurrent cycle initiation, reason: still doing mixed collections, occupancy: 17481859072 bytes, allocation request: 130023480 bytes, threshold: 13743895320 bytes (40.00 %), source: concurrent humongous allocation]\r\n    2022-06-07T07:57:54.279+0000: 6935.039: Total time for which application threads were stopped: 0.0140351 seconds, Stopping threads took: 0.0041265 seconds\r\n    2022-06-07T07:57:54.329+0000: 6935.088: Total time for which application threads were stopped: 0.0245153 seconds, Stopping threads took: 0.0043713 seconds\r\n    2022-06-07T07:57:54.338+0000: 6935.098: Total time for which application threads were stopped: 0.0089223 seconds, Stopping threads took: 0.0004806 seconds\r\n    2022-06-07T07:57:54.358+0000: 6935.118: Total time for which application threads were stopped: 0.0143016 seconds, Stopping threads took: 0.0037498 seconds\r\n    2022-06-07T07:57:54.367+0000: 6935.127: Total time for which application threads were stopped: 0.0085460 seconds, Stopping threads took: 0.0003827 seconds\r\n    2022-06-07T07:57:54.384+0000: 6935.144: Total time for which application threads were stopped: 0.0135096 seconds, Stopping threads took: 0.0007653 seconds\r\n    2022-06-07T07:57:54.643+0000: 6935.402: Total time for which application threads were stopped: 0.0330644 seconds, Stopping threads took: 0.0058025 seconds\r\n    {Heap before GC invocations=1697 (full 20):\r\n     garbage-first heap   total 33554432K, used 30424749K [0x00007f0bd4000000, 0x00007f0bd5004000, 0x00007f13d4000000)\r\n      region size 16384K, 819 young (13418496K), 77 survivors (1261568K)\r\n     Metaspace       used 552838K, capacity 598489K, committed 624640K, reserved 624640K\r\n    2022-06-07T07:57:54.955+0000: 6935.714: [GC pause (G1 Evacuation Pause) (young)\r\n    Desired survivor size 864026624 bytes, new threshold 15 (max 15)\r\n    - age   1:  100659160 bytes,  100659160 total\r\n    - age   2:   56388016 bytes,  157047176 total\r\n    - age   3:   46964376 bytes,  204011552 total\r\n    - age   4:   22241848 bytes,  226253400 total\r\n    - age   5:   21002752 bytes,  247256152 total\r\n    - age   6:    2069056 bytes,  249325208 total\r\n    - age   7:   18551720 bytes,  267876928 total\r\n    - age   8:   21299392 bytes,  289176320 total\r\n    - age   9:   18800528 bytes,  307976848 total\r\n    - age  10:   13761672 bytes,  321738520 total\r\n    - age  11:   22935312 bytes,  344673832 total\r\n    - age  12:     912328 bytes,  345586160 total\r\n    - age  13:   18947448 bytes,  364533608 total\r\n    - age  14:   16714912 bytes,  381248520 total\r\n    - age  15:    2604776 bytes,  383853296 total\r\n     6935.718: [G1Ergonomics (CSet Construction) start choosing CSet, _pending_cards: 321900, predicted base time: 306.94 ms, remaining time: 0.00 ms, target pause time: 100.00 ms]\r\n     6935.718: [G1Ergonomics (CSet Construction) add young regions to CSet, eden: 742 regions, survivors: 77 regions, predicted young region time: 136.39 ms]\r\n     6935.718: [G1Ergonomics (CSet Construction) finish choosing CSet, eden: 742 regions, survivors: 77 regions, old: 0 regions, predicted pause time: 443.33 ms, target pause time: 100.00 ms]\r\n    2022-06-07T07:57:55.080+0000: 6935.840: [SoftReference, 0 refs, 0.0115803 secs]2022-06-07T07:57:55.091+0000: 6935.851: [WeakReference, 20134 refs, 0.0048803 secs]2022-06-07T07:57:55.096+0000: 6935.856: [FinalReference, 1251 refs, 0.0059053 secs]2022-06-07T07:57:55.102+0000: 6935.862: [PhantomReference, 150 refs, 73 refs, 0.0170622 secs]2022-06-07T07:57:55.119+0000: 6935.879: [JNI Weak Reference, 0.0002034 secs] 6935.909: [G1Ergonomics (Concurrent Cycles) do not request concurrent cycle initiation, reason: still doing mixed collections, occupancy: 17112760320 bytes, allocation request: 0 bytes, threshold: 13743895320 bytes (40.00 %), source: end of GC]\r\n     6935.909: [G1Ergonomics (Mixed GCs) do not start mixed GCs, reason: reclaimable percentage not over threshold, candidate old regions: 130 regions, reclaimable: 1018251912 bytes (2.96 %), threshold: 5.00 %]\r\n    , 0.1951290 secs]\r\n       [Parallel Time: 117.9 ms, GC Workers: 40]\r\n          [GC Worker Start (ms): Min: 6935718.9, Avg: 6935722.7, Max: 6935727.2, Diff: 8.2]\r\n          [Ext Root Scanning (ms): Min: 0.1, Avg: 5.1, Max: 108.6, Diff: 108.5, Sum: 203.0]\r\n          [Update RS (ms): Min: 0.0, Avg: 44.1, Max: 47.5, Diff: 47.5, Sum: 1763.1]\r\n             [Processed Buffers: Min: 0, Avg: 40.3, Max: 61, Diff: 61, Sum: 1613]\r\n          [Scan RS (ms): Min: 0.1, Avg: 2.9, Max: 3.3, Diff: 3.2, Sum: 116.9]\r\n          [Code Root Scanning (ms): Min: 0.0, Avg: 0.0, Max: 0.1, Diff: 0.1, Sum: 0.2]\r\n          [Object Copy (ms): Min: 6.3, Avg: 60.4, Max: 62.1, Diff: 55.8, Sum: 2417.0]\r\n          [Termination (ms): Min: 0.0, Avg: 0.0, Max: 0.1, Diff: 0.1, Sum: 0.8]\r\n             [Termination Attempts: Min: 1, Avg: 1.0, Max: 1, Diff: 0, Sum: 40]\r\n          [GC Worker Other (ms): Min: 0.0, Avg: 0.5, Max: 1.0, Diff: 1.0, Sum: 19.0]\r\n          [GC Worker Total (ms): Min: 108.2, Avg: 113.0, Max: 117.2, Diff: 9.0, Sum: 4519.9]\r\n          [GC Worker End (ms): Min: 6935835.3, Avg: 6935835.7, Max: 6935836.3, Diff: 1.0]\r\n       [Code Root Fixup: 0.2 ms]\r\n       [Code Root Purge: 0.0 ms]\r\n       [String Dedup Fixup: 17.3 ms, GC Workers: 40]\r\n          [Queue Fixup (ms): Min: 0.0, Avg: 0.0, Max: 0.1, Diff: 0.1, Sum: 0.4]\r\n          [Table Fixup (ms): Min: 12.9, Avg: 13.8, Max: 14.2, Diff: 1.3, Sum: 550.4]\r\n       [Clear CT: 2.4 ms]\r\n       [Other: 57.3 ms]\r\n          [Choose CSet: 0.0 ms]\r\n          [Ref Proc: 42.3 ms]\r\n          [Ref Enq: 2.9 ms]\r\n          [Redirty Cards: 3.5 ms]\r\n          [Humongous Register: 0.2 ms]\r\n          [Humongous Reclaim: 0.5 ms]\r\n          [Free CSet: 2.7 ms]\r\n       [Eden: 11.6G(11.6G)-&gt;0.0B(11.8G) Survivors: 1232.0M-&gt;1008.0M Heap: 29.0G(32.0G)-&gt;16.8G(32.0G)]\r\n    Heap after GC invocations=1698 (full 20):\r\n     garbage-first heap   total 33554432K, used 17566138K [0x00007f0bd4000000, 0x00007f0bd5004000, 0x00007f13d4000000)\r\n      region size 16384K, 63 young (1032192K), 63 survivors (1032192K)\r\n     Metaspace       used 552838K, capacity 598489K, committed 624640K, reserved 624640K\r\n    }\r\n     [Times: user=5.40 sys=0.00, real=0.20 secs] \r\n    2022-06-07T07:57:55.151+0000: 6935.911: Total time for which application threads were stopped: 0.2108179 seconds, Stopping threads took: 0.0049857 seconds\r\n    2022-06-07T07:57:55.178+0000: 6935.938: [GC concurrent-string-deduplication, 6529.0K-&gt;2055.8K(4473.2K), avg 52.3%, 0.0265075 secs]\r\n    2022-06-07T07:57:55.680+0000: 6936.440: Total time for which application threads were stopped: 0.0124845 seconds, Stopping threads took: 0.0028985 seconds\r\n    2022-06-07T07:57:56.215+0000: 6936.975: Total time for which application threads were stopped: 0.0115488 seconds, Stopping threads took: 0.0023418 seconds\r\n    2022-06-07T07:57:57.265+0000: 6938.025: Total time for which application threads were stopped: 0.0413407 seconds, Stopping threads took: 0.0320317 seconds\r\n    2022-06-07T07:57:57.275+0000: 6938.035: Total time for which application threads were stopped: 0.0097738 seconds, Stopping threads took: 0.0020407 seconds\r\n     6938.094: [G1Ergonomics (Concurrent Cycles) request concurrent cycle initiation, reason: occupancy higher than threshold, occupancy: 17112760320 bytes, allocation request: 8388632 bytes, threshold: 13743895320 bytes (40.00 %), source: concurrent humongous allocation]\r\n     6938.115: [G1Ergonomics (Concurrent Cycles) request concurrent cycle initiation, reason: requested by GC cause, GC cause: G1 Humongous Allocation]\r\n    {Heap before GC invocations=1698 (full 20):\r\n     garbage-first heap   total 33554432K, used 24627642K [0x00007f0bd4000000, 0x00007f0bd5004000, 0x00007f13d4000000)\r\n      region size 16384K, 495 young (8110080K), 63 survivors (1032192K)\r\n     Metaspace       used 553004K, capacity 598749K, committed 624640K, reserved 624640K\r\n     6938.115: [G1Ergonomics (Concurrent Cycles) initiate concurrent cycle, reason: concurrent cycle initiation requested]\r\n    2022-06-07T07:57:57.355+0000: 6938.115: [GC pause (G1 Humongous Allocation) (young) (initial-mark)\r\n    Desired survivor size 864026624 bytes, new threshold 15 (max 15)\r\n    - age   1:  132312664 bytes,  132312664 total\r\n    - age   2:   53174384 bytes,  185487048 total\r\n    - age   3:   46033920 bytes,  231520968 total\r\n    - age   4:   36081520 bytes,  267602488 total\r\n    - age   5:   21620992 bytes,  289223480 total\r\n    - age   6:   20199304 bytes,  309422784 total\r\n    - age   7:    2053112 bytes,  311475896 total\r\n    - age   8:   18422848 bytes,  329898744 total\r\n    - age   9:   21208568 bytes,  351107312 total\r\n    - age  10:   18671480 bytes,  369778792 total\r\n    - age  11:   13736560 bytes,  383515352 total\r\n    - age  12:   22850056 bytes,  406365408 total\r\n    - age  13:     908232 bytes,  407273640 total\r\n    - age  14:   17499712 bytes,  424773352 total\r\n    - age  15:   16658968 bytes,  441432320 total\r\n     6938.116: [G1Ergonomics (CSet Construction) start choosing CSet, _pending_cards: 66608, predicted base time: 227.63 ms, remaining time: 0.00 ms, target pause time: 100.00 ms]\r\n     6938.116: [G1Ergonomics (CSet Construction) add young regions to CSet, eden: 432 regions, survivors: 63 regions, predicted young region time: 108.23 ms]\r\n     6938.116: [G1Ergonomics (CSet Construction) finish choosing CSet, eden: 432 regions, survivors: 63 regions, old: 0 regions, predicted pause time: 335.86 ms, target pause time: 100.00 ms]\r\n    2022-06-07T07:57:57.492+0000: 6938.252: [SoftReference, 0 refs, 0.0140203 secs]2022-06-07T07:57:57.506+0000: 6938.266: [WeakReference, 20602 refs, 0.0557941 secs]2022-06-07T07:57:57.562+0000: 6938.321: [FinalReference, 468 refs, 0.0194280 secs]2022-06-07T07:57:57.581+0000: 6938.341: [PhantomReference, 119 refs, 73 refs, 0.0214794 secs]2022-06-07T07:57:57.603+0000: 6938.362: [JNI Weak Reference, 0.0002313 secs], 0.2956743 secs]\r\n       [Parallel Time: 122.9 ms, GC Workers: 40]\r\n          [GC Worker Start (ms): Min: 6938130.6, Avg: 6938131.8, Max: 6938133.1, Diff: 2.5]\r\n          [Ext Root Scanning (ms): Min: 44.8, Avg: 47.7, Max: 108.1, Diff: 63.3, Sum: 1909.4]\r\n          [Update RS (ms): Min: 0.0, Avg: 9.9, Max: 10.9, Diff: 10.9, Sum: 397.1]\r\n             [Processed Buffers: Min: 0, Avg: 13.1, Max: 22, Diff: 22, Sum: 523]\r\n          [Scan RS (ms): Min: 0.1, Avg: 2.9, Max: 3.3, Diff: 3.3, Sum: 117.0]\r\n          [Code Root Scanning (ms): Min: 0.0, Avg: 0.0, Max: 0.1, Diff: 0.1, Sum: 0.1]\r\n          [Object Copy (ms): Min: 0.7, Avg: 28.1, Max: 29.9, Diff: 29.2, Sum: 1124.1]\r\n          [Termination (ms): Min: 0.0, Avg: 19.5, Max: 20.2, Diff: 20.2, Sum: 780.5]\r\n             [Termination Attempts: Min: 1, Avg: 2.1, Max: 3, Diff: 2, Sum: 85]\r\n          [GC Worker Other (ms): Min: 0.0, Avg: 0.5, Max: 1.2, Diff: 1.2, Sum: 21.6]\r\n          [GC Worker Total (ms): Min: 106.9, Avg: 108.7, Max: 110.2, Diff: 3.2, Sum: 4349.8]\r\n          [GC Worker End (ms): Min: 6938240.0, Avg: 6938240.5, Max: 6938241.2, Diff: 1.2]\r\n       [Code Root Fixup: 0.2 ms]\r\n       [Code Root Purge: 0.0 ms]\r\n       [String Dedup Fixup: 16.4 ms, GC Workers: 40]\r\n          [Queue Fixup (ms): Min: 0.0, Avg: 0.0, Max: 0.1, Diff: 0.1, Sum: 0.3]\r\n          [Table Fixup (ms): Min: 6.7, Avg: 12.5, Max: 15.1, Diff: 8.4, Sum: 501.8]\r\n       [Clear CT: 3.7 ms]\r\n       [Other: 152.4 ms]\r\n          [Choose CSet: 0.0 ms]\r\n          [Ref Proc: 120.3 ms]\r\n          [Ref Enq: 21.5 ms]\r\n          [Redirty Cards: 3.4 ms]\r\n          [Humongous Register: 0.1 ms]\r\n          [Humongous Reclaim: 0.1 ms]\r\n          [Free CSet: 1.7 ms]\r\n       [Eden: 6912.0M(11.8G)-&gt;0.0B(11.9G) Survivors: 1008.0M-&gt;944.0M Heap: 23.5G(32.0G)-&gt;16.7G(32.0G)]\r\n    Heap after GC invocations=1699 (full 20):\r\n     garbage-first heap   total 33554432K, used 17499403K [0x00007f0bd4000000, 0x00007f0bd5004000, 0x00007f13d4000000)\r\n      region size 16384K, 59 young (966656K), 59 survivors (966656K)\r\n     Metaspace       used 553004K, capacity 598749K, committed 624640K, reserved 624640K\r\n    }\r\n     [Times: user=6.09 sys=0.00, real=0.30 secs] \r\n    2022-06-07T07:57:57.651+0000: 6938.411: [GC concurrent-root-region-scan-start]\r\n    2022-06-07T07:57:57.652+0000: 6938.412: Total time for which application threads were stopped: 0.3098996 seconds, Stopping threads took: 0.0041009 seconds\r\n    2022-06-07T07:57:57.673+0000: 6938.432: [GC concurrent-string-deduplication, 4572.4K-&gt;1162.4K(3410.0K), avg 52.3%, 0.0202856 secs]\r\n    2022-06-07T07:57:57.752+0000: 6938.512: [GC concurrent-root-region-scan-end, 0.1006230 secs]\r\n    2022-06-07T07:57:57.752+0000: 6938.512: [GC concurrent-mark-start]\r\n    2022-06-07T07:57:57.793+0000: 6938.553: Total time for which application threads were stopped: 0.0434723 seconds, Stopping threads took: 0.0348861 seconds\r\n    2022-06-07T07:57:58.283+0000: 6939.042: Total time for which application threads were stopped: 0.0400358 seconds, Stopping threads took: 0.0313795 seconds\r\n    2022-06-07T07:57:58.369+0000: 6939.129: Total time for which application threads were stopped: 0.0402108 seconds, Stopping threads took: 0.0314033 seconds\r\n    2022-06-07T07:57:58.987+0000: 6939.747: Total time for which application threads were stopped: 0.1185393 seconds, Stopping threads took: 0.1098118 seconds\r\n    2022-06-07T07:57:59.743+0000: 6940.503: Total time for which application threads were stopped: 0.0739787 seconds, Stopping threads took: 0.0338976 seconds\r\n    2022-06-07T07:57:59.893+0000: 6940.653: Total time for which application threads were stopped: 0.0475812 seconds, Stopping threads took: 0.0391463 seconds\r\n    2022-06-07T07:58:00.716+0000: 6941.476: Total time for which application threads were stopped: 0.0827453 seconds, Stopping threads took: 0.0675092 seconds\r\n    2022-06-07T07:58:00.883+0000: 6941.643: Total time for which application threads were stopped: 0.1643206 seconds, Stopping threads took: 0.1555807 seconds\r\n    2022-06-07T07:58:01.185+0000: 6941.945: Total time for which application threads were stopped: 0.0777454 seconds, Stopping threads took: 0.0687163 seconds\r\n    2022-06-07T07:58:01.222+0000: 6941.982: Total time for which application threads were stopped: 0.0268858\r\n\r\n\r\nBelow, I am using that particular settings for JVM GC to handle the stuff. I am really, thinking that allocation of the object in the Region - Young Eden is too much, getting 12 GB, so perhaps cutting down object size + limitating HeapRegionSize will help out. RegionSize being on 40% of heap (outstanding value) is not dealing with concurrent cycles, isn&#39;t it ? That is going over the threshold. \r\nThinking about : \r\n**-XX:G1HeapRegionSize=16M\r\n-XX:G1NewSizePercent=10** \r\n\r\n\r\n    JAVA_OPTIONS=&quot;\r\n        -DSoftKillWaitSeconds=0 \r\n        -Djava.awt.headless=true \r\n        -Djenkins.install.runSetupWizard=false  \r\n        -DoctaneAllowedStorage=/apps/x/ \r\n        -Djava.io.tmpdir=/x/bin/temp \r\n        -Dhudson.model.DirectoryBrowserSupport.CSP=\\&quot;\\&quot; \r\n        -Xms32g -Xmx32g -Xss1m -server \r\n        -XX:+UseG1GC \r\n        -XX:+ExplicitGCInvokesConcurrent \r\n        -XX:+ParallelRefProcEnabled \r\n        -XX:+UseStringDeduplication\r\n        -XX:+UnlockExperimentalVMOptions \r\n        -XX:G1NewSizePercent=40 \r\n        -XX:+UnlockDiagnosticVMOptions \r\n        -XX:G1SummarizeRSetStatsPeriod=1 \r\n        -Dcom.sun.management.jmxremote\r\n        -Dcom.sun.management.jmxremote.port=9010 \r\n        -Dcom.sun.management.jmxremote.local.only=false \r\n        -Dcom.sun.management.jmxremote.authenticate=true\r\n        -Dcom.sun.management.jmxremote.password.file=/x \r\n        -Dcom.sun.management.jmxremote.access.file=/x \r\n        -Dcom.sun.management.jmxremote.ssl=false \r\n        -Djava.rmi.server.hostname=x\r\n        -Xloggc:/x/bin/logs/gc-%t.log \r\n        -XX:NumberOfGCLogFiles=5 -XX:+UseGCLogFileRotation\r\n        -XX:GCLogFileSize=20m \r\n        -XX:+PrintGC \r\n        -XX:+PrintGCDateStamps \r\n        -XX:+PrintGCDetails \r\n        -XX:+PrintHeapAtGC\r\n        -XX:+PrintGCCause \r\n        -XX:+PrintTenuringDistribution \r\n        -XX:+PrintReferenceGC \r\n        -XX:+PrintAdaptiveSizePolicy \r\n        -Dhudson.upstreamCulprits=true \r\n        -XX:+AlwaysPreTouch \r\n        -XX:ParallelGCThreads=40 \r\n        -XX:ConcGCThreads=10 \r\n        -XX:InitiatingHeapOccupancyPercent=40 \r\n        -XX:MaxGCPauseMillis=100\r\n\r\n```\r\n2022-06-08T12:12:47.956+0000: 12088.405: [GC pause (G1 Evacuation Pause) (young)\r\nDesired survivor size 335544320 bytes, new threshold 15 (max 15)\r\n 12088.405: [G1Ergonomics (CSet Construction) start choosing CSet, _pending_cards: 2825, predicted base time: 94.28 ms, remaining time: 305.72 ms, target pause time: 400.00 ms]\r\n 12088.405: [G1Ergonomics (CSet Construction) add young regions to CSet, eden: 0 regions, survivors: 0 regions, predicted young region time: 0.00 ms]\r\n 12088.405: [G1Ergonomics (CSet Construction) finish choosing CSet, eden: 0 regions, survivors: 0 regions, old: 0 regions, predicted pause time: 94.28 ms, target pause time: 400.00 ms]\r\n2022-06-08T12:12:48.145+0000: 12088.594: [SoftReference, 0 refs, 0.0058566 secs]2022-06-08T12:12:48.151+0000: 12088.600: [WeakReference, 0 refs, 0.0039690 secs]2022-06-08T12:12:48.155+0000: 12088.604: [FinalReference, 0 refs, 0.0047858 secs]2022-06-08T12:12:48.160+0000: 12088.608: [PhantomReference, 0 refs, 0 refs, 0.0092318 secs]2022-06-08T12:12:48.169+0000: 12088.618: [JNI Weak Reference, 0.0002371 secs], 0.2374287 secs]\r\n   [Parallel Time: 161.9 ms, GC Workers: 40]\r\n      [GC Worker Start (ms): Min: 12088405.2, Avg: 12088406.5, Max: 12088407.5, Diff: 2.3]\r\n      [Ext Root Scanning (ms): Min: 1.3, Avg: 7.3, Max: 157.4, Diff: 156.1, Sum: 293.4]\r\n      [Update RS (ms): Min: 0.0, Avg: 0.3, Max: 1.1, Diff: 1.1, Sum: 13.8]\r\n         [Processed Buffers: Min: 0, Avg: 0.4, Max: 1, Diff: 1, Sum: 15]\r\n      [Scan RS (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0]\r\n      [Code Root Scanning (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0]\r\n      [Object Copy (ms): Min: 0.0, Avg: 0.1, Max: 0.4, Diff: 0.4, Sum: 5.1]\r\n      [Termination (ms): Min: 0.0, Avg: 150.8, Max: 156.1, Diff: 156.1, Sum: 6032.5]\r\n         [Termination Attempts: Min: 1, Avg: 1.0, Max: 1, Diff: 0, Sum: 40]\r\n      [GC Worker Other (ms): Min: 0.0, Avg: 0.0, Max: 0.1, Diff: 0.1, Sum: 1.5]\r\n      [GC Worker Total (ms): Min: 157.6, Avg: 158.7, Max: 160.4, Diff: 2.8, Sum: 6347.1]\r\n      [GC Worker End (ms): Min: 12088565.1, Avg: 12088565.1, Max: 12088565.6, Diff: 0.5]\r\n   [Code Root Fixup: 0.2 ms]\r\n   [Code Root Purge: 0.0 ms]\r\n   [String Dedup Fixup: 17.4 ms, GC Workers: 40]\r\n      [Queue Fixup (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0]\r\n      [Table Fixup (ms): Min: 11.5, Avg: 15.0, Max: 16.1, Diff: 4.6, Sum: 599.7]\r\n   [Clear CT: 2.4 ms]\r\n   [Other: 55.5 ms]\r\n      [Choose CSet: 0.0 ms]\r\n      [Ref Proc: 50.7 ms]\r\n      [Ref Enq: 1.6 ms]\r\n      [Redirty Cards: 1.9 ms]\r\n      [Humongous Register: 0.1 ms]\r\n      [Humongous Reclaim: 0.0 ms]\r\n      [Free CSet: 0.0 ms]\r\n   [Eden: 0.0B(4896.0M)-&gt;0.0B(4896.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.8G(32.0G)-&gt;31.8G(32.0G)]\r\nHeap after GC invocations=5587 (full 5):\r\n garbage-first heap   total 33554432K, used 33310317K [0x00007f8bd0000000, 0x00007f8bd2002000, 0x00007f93d0000000)\r\n  region size 32768K, 0 young (0K), 0 survivors (0K)\r\n Metaspace       used 812097K, capacity 885950K, committed 886932K, reserved 888832K\r\n}\r\n [Times: user=7.91 sys=0.00, real=0.24 secs] \r\n2022-06-08T12:12:48.195+0000: 12088.644: Total time for which application threads were stopped: 0.2472791 seconds, Stopping threads took: 0.0012268 seconds\r\n 12088.653: [G1Ergonomics (Heap Sizing) attempt heap expansion, reason: allocation request failed, allocation request: 88 bytes]\r\n 12088.653: [G1Ergonomics (Heap Sizing) expand the heap, requested expansion amount: 33554432 bytes, attempted expansion amount: 33554432 bytes]\r\n 12088.653: [G1Ergonomics (Heap Sizing) did not expand the heap, reason: heap already fully expanded]\r\n{Heap before GC invocations=5587 (full 5):\r\n garbage-first heap   total 33554432K, used 33310317K [0x00007f8bd0000000, 0x00007f8bd2002000, 0x00007f93d0000000)\r\n  region size 32768K, 0 young (0K), 0 survivors (0K)\r\n Metaspace       used 812097K, capacity 885950K, committed 886932K, reserved 888832K\r\n2022-06-08T12:12:48.205+0000: 12088.653: [Full GC (Allocation Failure) 2022-06-08T12:13:00.000+0000: 12100.448: [SoftReference, 559680 refs, 0.3597706 secs]2022-06-08T12:13:00.360+0000: 12100.808: [WeakReference, 1972081 refs, 0.5324321 secs]2022-06-08T12:13:00.892+0000: 12101.341: [FinalReference, 2421 refs, 0.0027633 secs]2022-06-08T12:13:00.895+0000: 12101.344: [PhantomReference, 53 refs, 1210 refs, 0.0003111 secs]2022-06-08T12:13:00.895+0000: 12101.344: [JNI Weak Reference, 0.0003141 secs] 31G-&gt;11G(32G), 31.3282147 secs]\r\n   [Eden: 0.0B(4896.0M)-&gt;0.0B(6528.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.8G(32.0G)-&gt;11.0G(32.0G)], [Metaspace: 812097K-&gt;791892K(888832K)]\r\nHeap after GC invocations=5588 (full 6):\r\n garbage-first heap   total 33554432K, used 11551929K [0x00007f8bd0000000, 0x00007f8bd2002000, 0x00007f93d0000000)\r\n  region size 32768K, 0 young (0K), 0 survivors (0K)\r\n Metaspace       used 791892K, capacity 849105K, committed 886932K, reserved 888832K\r\n}\r\n```\r\nOn the last section, showing up **[Allocation Failure]** which was under first comment.\r\nObviously still keep testing and tuning that up, that just few Allocation Failures happens over the day. `To sum up, currently see time-to-time Humongous Allocation and around 10 Allocation Failures`.\r\nBy saying that, I work out below :\r\n\r\n```\r\n-XX:MaxGCPauseMillis=400 \r\n-XX:G1HeapRegionSize=32M\r\n-XX:GCTimeRatio=4\r\n-XX:G1NewSizePercent=15\r\n-XX:G1MaxNewSizePercent=20\r\n-XX:G1ReservePercent=20\r\n-XX:G1MixedGCLiveThresholdPercent=65\r\n-XX:G1HeapWastePercent=10\r\n-XX:G1MixedGCCountTarget=8\r\n-XX:G1OldCSetRegionThresholdPercent=10\r\n-XX:InitiatingHeapOccupancyPercent=30\r\n```\r\n\r\n\r\n\r\n","title":"G1GC - Allocation Failure alongside Humongous Allocation","body":"<p>Since a while, tuning up JVM GC parameters to avoid slowness and UI down.\nIt recently reach a moment, that facing [Allocation Failure].</p>\n<p>openjdk 1.8.6_166</p>\n<pre><code> 6934.438: [G1Ergonomics (Concurrent Cycles) do not request concurrent cycle initiation, reason: still doing mixed collections, occupancy: 17213423616 bytes, allocation request: 65011736 bytes, threshold: 13743895320 bytes (40.00 %), source: concurrent humongous allocation]\n2022-06-07T07:57:53.690+0000: 6934.450: Total time for which application threads were stopped: 0.0118833 seconds, Stopping threads took: 0.0023018 seconds\n 6934.533: [G1Ergonomics (Concurrent Cycles) do not request concurrent cycle initiation, reason: still doing mixed collections, occupancy: 17280532480 bytes, allocation request: 65011736 bytes, threshold: 13743895320 bytes (40.00 %), source: concurrent humongous allocation]\n 6934.582: [G1Ergonomics (Concurrent Cycles) do not request concurrent cycle initiation, reason: still doing mixed collections, occupancy: 17347641344 bytes, allocation request: 130023480 bytes, threshold: 13743895320 bytes (40.00 %), source: concurrent humongous allocation]\n2022-06-07T07:57:53.833+0000: 6934.593: Total time for which application threads were stopped: 0.0379460 seconds, Stopping threads took: 0.0283039 seconds\n 6934.846: [G1Ergonomics (Concurrent Cycles) do not request concurrent cycle initiation, reason: still doing mixed collections, occupancy: 17481859072 bytes, allocation request: 130023480 bytes, threshold: 13743895320 bytes (40.00 %), source: concurrent humongous allocation]\n2022-06-07T07:57:54.279+0000: 6935.039: Total time for which application threads were stopped: 0.0140351 seconds, Stopping threads took: 0.0041265 seconds\n2022-06-07T07:57:54.329+0000: 6935.088: Total time for which application threads were stopped: 0.0245153 seconds, Stopping threads took: 0.0043713 seconds\n2022-06-07T07:57:54.338+0000: 6935.098: Total time for which application threads were stopped: 0.0089223 seconds, Stopping threads took: 0.0004806 seconds\n2022-06-07T07:57:54.358+0000: 6935.118: Total time for which application threads were stopped: 0.0143016 seconds, Stopping threads took: 0.0037498 seconds\n2022-06-07T07:57:54.367+0000: 6935.127: Total time for which application threads were stopped: 0.0085460 seconds, Stopping threads took: 0.0003827 seconds\n2022-06-07T07:57:54.384+0000: 6935.144: Total time for which application threads were stopped: 0.0135096 seconds, Stopping threads took: 0.0007653 seconds\n2022-06-07T07:57:54.643+0000: 6935.402: Total time for which application threads were stopped: 0.0330644 seconds, Stopping threads took: 0.0058025 seconds\n{Heap before GC invocations=1697 (full 20):\n garbage-first heap   total 33554432K, used 30424749K [0x00007f0bd4000000, 0x00007f0bd5004000, 0x00007f13d4000000)\n  region size 16384K, 819 young (13418496K), 77 survivors (1261568K)\n Metaspace       used 552838K, capacity 598489K, committed 624640K, reserved 624640K\n2022-06-07T07:57:54.955+0000: 6935.714: [GC pause (G1 Evacuation Pause) (young)\nDesired survivor size 864026624 bytes, new threshold 15 (max 15)\n- age   1:  100659160 bytes,  100659160 total\n- age   2:   56388016 bytes,  157047176 total\n- age   3:   46964376 bytes,  204011552 total\n- age   4:   22241848 bytes,  226253400 total\n- age   5:   21002752 bytes,  247256152 total\n- age   6:    2069056 bytes,  249325208 total\n- age   7:   18551720 bytes,  267876928 total\n- age   8:   21299392 bytes,  289176320 total\n- age   9:   18800528 bytes,  307976848 total\n- age  10:   13761672 bytes,  321738520 total\n- age  11:   22935312 bytes,  344673832 total\n- age  12:     912328 bytes,  345586160 total\n- age  13:   18947448 bytes,  364533608 total\n- age  14:   16714912 bytes,  381248520 total\n- age  15:    2604776 bytes,  383853296 total\n 6935.718: [G1Ergonomics (CSet Construction) start choosing CSet, _pending_cards: 321900, predicted base time: 306.94 ms, remaining time: 0.00 ms, target pause time: 100.00 ms]\n 6935.718: [G1Ergonomics (CSet Construction) add young regions to CSet, eden: 742 regions, survivors: 77 regions, predicted young region time: 136.39 ms]\n 6935.718: [G1Ergonomics (CSet Construction) finish choosing CSet, eden: 742 regions, survivors: 77 regions, old: 0 regions, predicted pause time: 443.33 ms, target pause time: 100.00 ms]\n2022-06-07T07:57:55.080+0000: 6935.840: [SoftReference, 0 refs, 0.0115803 secs]2022-06-07T07:57:55.091+0000: 6935.851: [WeakReference, 20134 refs, 0.0048803 secs]2022-06-07T07:57:55.096+0000: 6935.856: [FinalReference, 1251 refs, 0.0059053 secs]2022-06-07T07:57:55.102+0000: 6935.862: [PhantomReference, 150 refs, 73 refs, 0.0170622 secs]2022-06-07T07:57:55.119+0000: 6935.879: [JNI Weak Reference, 0.0002034 secs] 6935.909: [G1Ergonomics (Concurrent Cycles) do not request concurrent cycle initiation, reason: still doing mixed collections, occupancy: 17112760320 bytes, allocation request: 0 bytes, threshold: 13743895320 bytes (40.00 %), source: end of GC]\n 6935.909: [G1Ergonomics (Mixed GCs) do not start mixed GCs, reason: reclaimable percentage not over threshold, candidate old regions: 130 regions, reclaimable: 1018251912 bytes (2.96 %), threshold: 5.00 %]\n, 0.1951290 secs]\n   [Parallel Time: 117.9 ms, GC Workers: 40]\n      [GC Worker Start (ms): Min: 6935718.9, Avg: 6935722.7, Max: 6935727.2, Diff: 8.2]\n      [Ext Root Scanning (ms): Min: 0.1, Avg: 5.1, Max: 108.6, Diff: 108.5, Sum: 203.0]\n      [Update RS (ms): Min: 0.0, Avg: 44.1, Max: 47.5, Diff: 47.5, Sum: 1763.1]\n         [Processed Buffers: Min: 0, Avg: 40.3, Max: 61, Diff: 61, Sum: 1613]\n      [Scan RS (ms): Min: 0.1, Avg: 2.9, Max: 3.3, Diff: 3.2, Sum: 116.9]\n      [Code Root Scanning (ms): Min: 0.0, Avg: 0.0, Max: 0.1, Diff: 0.1, Sum: 0.2]\n      [Object Copy (ms): Min: 6.3, Avg: 60.4, Max: 62.1, Diff: 55.8, Sum: 2417.0]\n      [Termination (ms): Min: 0.0, Avg: 0.0, Max: 0.1, Diff: 0.1, Sum: 0.8]\n         [Termination Attempts: Min: 1, Avg: 1.0, Max: 1, Diff: 0, Sum: 40]\n      [GC Worker Other (ms): Min: 0.0, Avg: 0.5, Max: 1.0, Diff: 1.0, Sum: 19.0]\n      [GC Worker Total (ms): Min: 108.2, Avg: 113.0, Max: 117.2, Diff: 9.0, Sum: 4519.9]\n      [GC Worker End (ms): Min: 6935835.3, Avg: 6935835.7, Max: 6935836.3, Diff: 1.0]\n   [Code Root Fixup: 0.2 ms]\n   [Code Root Purge: 0.0 ms]\n   [String Dedup Fixup: 17.3 ms, GC Workers: 40]\n      [Queue Fixup (ms): Min: 0.0, Avg: 0.0, Max: 0.1, Diff: 0.1, Sum: 0.4]\n      [Table Fixup (ms): Min: 12.9, Avg: 13.8, Max: 14.2, Diff: 1.3, Sum: 550.4]\n   [Clear CT: 2.4 ms]\n   [Other: 57.3 ms]\n      [Choose CSet: 0.0 ms]\n      [Ref Proc: 42.3 ms]\n      [Ref Enq: 2.9 ms]\n      [Redirty Cards: 3.5 ms]\n      [Humongous Register: 0.2 ms]\n      [Humongous Reclaim: 0.5 ms]\n      [Free CSet: 2.7 ms]\n   [Eden: 11.6G(11.6G)-&gt;0.0B(11.8G) Survivors: 1232.0M-&gt;1008.0M Heap: 29.0G(32.0G)-&gt;16.8G(32.0G)]\nHeap after GC invocations=1698 (full 20):\n garbage-first heap   total 33554432K, used 17566138K [0x00007f0bd4000000, 0x00007f0bd5004000, 0x00007f13d4000000)\n  region size 16384K, 63 young (1032192K), 63 survivors (1032192K)\n Metaspace       used 552838K, capacity 598489K, committed 624640K, reserved 624640K\n}\n [Times: user=5.40 sys=0.00, real=0.20 secs] \n2022-06-07T07:57:55.151+0000: 6935.911: Total time for which application threads were stopped: 0.2108179 seconds, Stopping threads took: 0.0049857 seconds\n2022-06-07T07:57:55.178+0000: 6935.938: [GC concurrent-string-deduplication, 6529.0K-&gt;2055.8K(4473.2K), avg 52.3%, 0.0265075 secs]\n2022-06-07T07:57:55.680+0000: 6936.440: Total time for which application threads were stopped: 0.0124845 seconds, Stopping threads took: 0.0028985 seconds\n2022-06-07T07:57:56.215+0000: 6936.975: Total time for which application threads were stopped: 0.0115488 seconds, Stopping threads took: 0.0023418 seconds\n2022-06-07T07:57:57.265+0000: 6938.025: Total time for which application threads were stopped: 0.0413407 seconds, Stopping threads took: 0.0320317 seconds\n2022-06-07T07:57:57.275+0000: 6938.035: Total time for which application threads were stopped: 0.0097738 seconds, Stopping threads took: 0.0020407 seconds\n 6938.094: [G1Ergonomics (Concurrent Cycles) request concurrent cycle initiation, reason: occupancy higher than threshold, occupancy: 17112760320 bytes, allocation request: 8388632 bytes, threshold: 13743895320 bytes (40.00 %), source: concurrent humongous allocation]\n 6938.115: [G1Ergonomics (Concurrent Cycles) request concurrent cycle initiation, reason: requested by GC cause, GC cause: G1 Humongous Allocation]\n{Heap before GC invocations=1698 (full 20):\n garbage-first heap   total 33554432K, used 24627642K [0x00007f0bd4000000, 0x00007f0bd5004000, 0x00007f13d4000000)\n  region size 16384K, 495 young (8110080K), 63 survivors (1032192K)\n Metaspace       used 553004K, capacity 598749K, committed 624640K, reserved 624640K\n 6938.115: [G1Ergonomics (Concurrent Cycles) initiate concurrent cycle, reason: concurrent cycle initiation requested]\n2022-06-07T07:57:57.355+0000: 6938.115: [GC pause (G1 Humongous Allocation) (young) (initial-mark)\nDesired survivor size 864026624 bytes, new threshold 15 (max 15)\n- age   1:  132312664 bytes,  132312664 total\n- age   2:   53174384 bytes,  185487048 total\n- age   3:   46033920 bytes,  231520968 total\n- age   4:   36081520 bytes,  267602488 total\n- age   5:   21620992 bytes,  289223480 total\n- age   6:   20199304 bytes,  309422784 total\n- age   7:    2053112 bytes,  311475896 total\n- age   8:   18422848 bytes,  329898744 total\n- age   9:   21208568 bytes,  351107312 total\n- age  10:   18671480 bytes,  369778792 total\n- age  11:   13736560 bytes,  383515352 total\n- age  12:   22850056 bytes,  406365408 total\n- age  13:     908232 bytes,  407273640 total\n- age  14:   17499712 bytes,  424773352 total\n- age  15:   16658968 bytes,  441432320 total\n 6938.116: [G1Ergonomics (CSet Construction) start choosing CSet, _pending_cards: 66608, predicted base time: 227.63 ms, remaining time: 0.00 ms, target pause time: 100.00 ms]\n 6938.116: [G1Ergonomics (CSet Construction) add young regions to CSet, eden: 432 regions, survivors: 63 regions, predicted young region time: 108.23 ms]\n 6938.116: [G1Ergonomics (CSet Construction) finish choosing CSet, eden: 432 regions, survivors: 63 regions, old: 0 regions, predicted pause time: 335.86 ms, target pause time: 100.00 ms]\n2022-06-07T07:57:57.492+0000: 6938.252: [SoftReference, 0 refs, 0.0140203 secs]2022-06-07T07:57:57.506+0000: 6938.266: [WeakReference, 20602 refs, 0.0557941 secs]2022-06-07T07:57:57.562+0000: 6938.321: [FinalReference, 468 refs, 0.0194280 secs]2022-06-07T07:57:57.581+0000: 6938.341: [PhantomReference, 119 refs, 73 refs, 0.0214794 secs]2022-06-07T07:57:57.603+0000: 6938.362: [JNI Weak Reference, 0.0002313 secs], 0.2956743 secs]\n   [Parallel Time: 122.9 ms, GC Workers: 40]\n      [GC Worker Start (ms): Min: 6938130.6, Avg: 6938131.8, Max: 6938133.1, Diff: 2.5]\n      [Ext Root Scanning (ms): Min: 44.8, Avg: 47.7, Max: 108.1, Diff: 63.3, Sum: 1909.4]\n      [Update RS (ms): Min: 0.0, Avg: 9.9, Max: 10.9, Diff: 10.9, Sum: 397.1]\n         [Processed Buffers: Min: 0, Avg: 13.1, Max: 22, Diff: 22, Sum: 523]\n      [Scan RS (ms): Min: 0.1, Avg: 2.9, Max: 3.3, Diff: 3.3, Sum: 117.0]\n      [Code Root Scanning (ms): Min: 0.0, Avg: 0.0, Max: 0.1, Diff: 0.1, Sum: 0.1]\n      [Object Copy (ms): Min: 0.7, Avg: 28.1, Max: 29.9, Diff: 29.2, Sum: 1124.1]\n      [Termination (ms): Min: 0.0, Avg: 19.5, Max: 20.2, Diff: 20.2, Sum: 780.5]\n         [Termination Attempts: Min: 1, Avg: 2.1, Max: 3, Diff: 2, Sum: 85]\n      [GC Worker Other (ms): Min: 0.0, Avg: 0.5, Max: 1.2, Diff: 1.2, Sum: 21.6]\n      [GC Worker Total (ms): Min: 106.9, Avg: 108.7, Max: 110.2, Diff: 3.2, Sum: 4349.8]\n      [GC Worker End (ms): Min: 6938240.0, Avg: 6938240.5, Max: 6938241.2, Diff: 1.2]\n   [Code Root Fixup: 0.2 ms]\n   [Code Root Purge: 0.0 ms]\n   [String Dedup Fixup: 16.4 ms, GC Workers: 40]\n      [Queue Fixup (ms): Min: 0.0, Avg: 0.0, Max: 0.1, Diff: 0.1, Sum: 0.3]\n      [Table Fixup (ms): Min: 6.7, Avg: 12.5, Max: 15.1, Diff: 8.4, Sum: 501.8]\n   [Clear CT: 3.7 ms]\n   [Other: 152.4 ms]\n      [Choose CSet: 0.0 ms]\n      [Ref Proc: 120.3 ms]\n      [Ref Enq: 21.5 ms]\n      [Redirty Cards: 3.4 ms]\n      [Humongous Register: 0.1 ms]\n      [Humongous Reclaim: 0.1 ms]\n      [Free CSet: 1.7 ms]\n   [Eden: 6912.0M(11.8G)-&gt;0.0B(11.9G) Survivors: 1008.0M-&gt;944.0M Heap: 23.5G(32.0G)-&gt;16.7G(32.0G)]\nHeap after GC invocations=1699 (full 20):\n garbage-first heap   total 33554432K, used 17499403K [0x00007f0bd4000000, 0x00007f0bd5004000, 0x00007f13d4000000)\n  region size 16384K, 59 young (966656K), 59 survivors (966656K)\n Metaspace       used 553004K, capacity 598749K, committed 624640K, reserved 624640K\n}\n [Times: user=6.09 sys=0.00, real=0.30 secs] \n2022-06-07T07:57:57.651+0000: 6938.411: [GC concurrent-root-region-scan-start]\n2022-06-07T07:57:57.652+0000: 6938.412: Total time for which application threads were stopped: 0.3098996 seconds, Stopping threads took: 0.0041009 seconds\n2022-06-07T07:57:57.673+0000: 6938.432: [GC concurrent-string-deduplication, 4572.4K-&gt;1162.4K(3410.0K), avg 52.3%, 0.0202856 secs]\n2022-06-07T07:57:57.752+0000: 6938.512: [GC concurrent-root-region-scan-end, 0.1006230 secs]\n2022-06-07T07:57:57.752+0000: 6938.512: [GC concurrent-mark-start]\n2022-06-07T07:57:57.793+0000: 6938.553: Total time for which application threads were stopped: 0.0434723 seconds, Stopping threads took: 0.0348861 seconds\n2022-06-07T07:57:58.283+0000: 6939.042: Total time for which application threads were stopped: 0.0400358 seconds, Stopping threads took: 0.0313795 seconds\n2022-06-07T07:57:58.369+0000: 6939.129: Total time for which application threads were stopped: 0.0402108 seconds, Stopping threads took: 0.0314033 seconds\n2022-06-07T07:57:58.987+0000: 6939.747: Total time for which application threads were stopped: 0.1185393 seconds, Stopping threads took: 0.1098118 seconds\n2022-06-07T07:57:59.743+0000: 6940.503: Total time for which application threads were stopped: 0.0739787 seconds, Stopping threads took: 0.0338976 seconds\n2022-06-07T07:57:59.893+0000: 6940.653: Total time for which application threads were stopped: 0.0475812 seconds, Stopping threads took: 0.0391463 seconds\n2022-06-07T07:58:00.716+0000: 6941.476: Total time for which application threads were stopped: 0.0827453 seconds, Stopping threads took: 0.0675092 seconds\n2022-06-07T07:58:00.883+0000: 6941.643: Total time for which application threads were stopped: 0.1643206 seconds, Stopping threads took: 0.1555807 seconds\n2022-06-07T07:58:01.185+0000: 6941.945: Total time for which application threads were stopped: 0.0777454 seconds, Stopping threads took: 0.0687163 seconds\n2022-06-07T07:58:01.222+0000: 6941.982: Total time for which application threads were stopped: 0.0268858\n</code></pre>\n<p>Below, I am using that particular settings for JVM GC to handle the stuff. I am really, thinking that allocation of the object in the Region - Young Eden is too much, getting 12 GB, so perhaps cutting down object size + limitating HeapRegionSize will help out. RegionSize being on 40% of heap (outstanding value) is not dealing with concurrent cycles, isn't it ? That is going over the threshold.\nThinking about :\n<strong>-XX:G1HeapRegionSize=16M\n-XX:G1NewSizePercent=10</strong></p>\n<pre><code>JAVA_OPTIONS=&quot;\n    -DSoftKillWaitSeconds=0 \n    -Djava.awt.headless=true \n    -Djenkins.install.runSetupWizard=false  \n    -DoctaneAllowedStorage=/apps/x/ \n    -Djava.io.tmpdir=/x/bin/temp \n    -Dhudson.model.DirectoryBrowserSupport.CSP=\\&quot;\\&quot; \n    -Xms32g -Xmx32g -Xss1m -server \n    -XX:+UseG1GC \n    -XX:+ExplicitGCInvokesConcurrent \n    -XX:+ParallelRefProcEnabled \n    -XX:+UseStringDeduplication\n    -XX:+UnlockExperimentalVMOptions \n    -XX:G1NewSizePercent=40 \n    -XX:+UnlockDiagnosticVMOptions \n    -XX:G1SummarizeRSetStatsPeriod=1 \n    -Dcom.sun.management.jmxremote\n    -Dcom.sun.management.jmxremote.port=9010 \n    -Dcom.sun.management.jmxremote.local.only=false \n    -Dcom.sun.management.jmxremote.authenticate=true\n    -Dcom.sun.management.jmxremote.password.file=/x \n    -Dcom.sun.management.jmxremote.access.file=/x \n    -Dcom.sun.management.jmxremote.ssl=false \n    -Djava.rmi.server.hostname=x\n    -Xloggc:/x/bin/logs/gc-%t.log \n    -XX:NumberOfGCLogFiles=5 -XX:+UseGCLogFileRotation\n    -XX:GCLogFileSize=20m \n    -XX:+PrintGC \n    -XX:+PrintGCDateStamps \n    -XX:+PrintGCDetails \n    -XX:+PrintHeapAtGC\n    -XX:+PrintGCCause \n    -XX:+PrintTenuringDistribution \n    -XX:+PrintReferenceGC \n    -XX:+PrintAdaptiveSizePolicy \n    -Dhudson.upstreamCulprits=true \n    -XX:+AlwaysPreTouch \n    -XX:ParallelGCThreads=40 \n    -XX:ConcGCThreads=10 \n    -XX:InitiatingHeapOccupancyPercent=40 \n    -XX:MaxGCPauseMillis=100\n</code></pre>\n<pre><code>2022-06-08T12:12:47.956+0000: 12088.405: [GC pause (G1 Evacuation Pause) (young)\nDesired survivor size 335544320 bytes, new threshold 15 (max 15)\n 12088.405: [G1Ergonomics (CSet Construction) start choosing CSet, _pending_cards: 2825, predicted base time: 94.28 ms, remaining time: 305.72 ms, target pause time: 400.00 ms]\n 12088.405: [G1Ergonomics (CSet Construction) add young regions to CSet, eden: 0 regions, survivors: 0 regions, predicted young region time: 0.00 ms]\n 12088.405: [G1Ergonomics (CSet Construction) finish choosing CSet, eden: 0 regions, survivors: 0 regions, old: 0 regions, predicted pause time: 94.28 ms, target pause time: 400.00 ms]\n2022-06-08T12:12:48.145+0000: 12088.594: [SoftReference, 0 refs, 0.0058566 secs]2022-06-08T12:12:48.151+0000: 12088.600: [WeakReference, 0 refs, 0.0039690 secs]2022-06-08T12:12:48.155+0000: 12088.604: [FinalReference, 0 refs, 0.0047858 secs]2022-06-08T12:12:48.160+0000: 12088.608: [PhantomReference, 0 refs, 0 refs, 0.0092318 secs]2022-06-08T12:12:48.169+0000: 12088.618: [JNI Weak Reference, 0.0002371 secs], 0.2374287 secs]\n   [Parallel Time: 161.9 ms, GC Workers: 40]\n      [GC Worker Start (ms): Min: 12088405.2, Avg: 12088406.5, Max: 12088407.5, Diff: 2.3]\n      [Ext Root Scanning (ms): Min: 1.3, Avg: 7.3, Max: 157.4, Diff: 156.1, Sum: 293.4]\n      [Update RS (ms): Min: 0.0, Avg: 0.3, Max: 1.1, Diff: 1.1, Sum: 13.8]\n         [Processed Buffers: Min: 0, Avg: 0.4, Max: 1, Diff: 1, Sum: 15]\n      [Scan RS (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0]\n      [Code Root Scanning (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0]\n      [Object Copy (ms): Min: 0.0, Avg: 0.1, Max: 0.4, Diff: 0.4, Sum: 5.1]\n      [Termination (ms): Min: 0.0, Avg: 150.8, Max: 156.1, Diff: 156.1, Sum: 6032.5]\n         [Termination Attempts: Min: 1, Avg: 1.0, Max: 1, Diff: 0, Sum: 40]\n      [GC Worker Other (ms): Min: 0.0, Avg: 0.0, Max: 0.1, Diff: 0.1, Sum: 1.5]\n      [GC Worker Total (ms): Min: 157.6, Avg: 158.7, Max: 160.4, Diff: 2.8, Sum: 6347.1]\n      [GC Worker End (ms): Min: 12088565.1, Avg: 12088565.1, Max: 12088565.6, Diff: 0.5]\n   [Code Root Fixup: 0.2 ms]\n   [Code Root Purge: 0.0 ms]\n   [String Dedup Fixup: 17.4 ms, GC Workers: 40]\n      [Queue Fixup (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0]\n      [Table Fixup (ms): Min: 11.5, Avg: 15.0, Max: 16.1, Diff: 4.6, Sum: 599.7]\n   [Clear CT: 2.4 ms]\n   [Other: 55.5 ms]\n      [Choose CSet: 0.0 ms]\n      [Ref Proc: 50.7 ms]\n      [Ref Enq: 1.6 ms]\n      [Redirty Cards: 1.9 ms]\n      [Humongous Register: 0.1 ms]\n      [Humongous Reclaim: 0.0 ms]\n      [Free CSet: 0.0 ms]\n   [Eden: 0.0B(4896.0M)-&gt;0.0B(4896.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.8G(32.0G)-&gt;31.8G(32.0G)]\nHeap after GC invocations=5587 (full 5):\n garbage-first heap   total 33554432K, used 33310317K [0x00007f8bd0000000, 0x00007f8bd2002000, 0x00007f93d0000000)\n  region size 32768K, 0 young (0K), 0 survivors (0K)\n Metaspace       used 812097K, capacity 885950K, committed 886932K, reserved 888832K\n}\n [Times: user=7.91 sys=0.00, real=0.24 secs] \n2022-06-08T12:12:48.195+0000: 12088.644: Total time for which application threads were stopped: 0.2472791 seconds, Stopping threads took: 0.0012268 seconds\n 12088.653: [G1Ergonomics (Heap Sizing) attempt heap expansion, reason: allocation request failed, allocation request: 88 bytes]\n 12088.653: [G1Ergonomics (Heap Sizing) expand the heap, requested expansion amount: 33554432 bytes, attempted expansion amount: 33554432 bytes]\n 12088.653: [G1Ergonomics (Heap Sizing) did not expand the heap, reason: heap already fully expanded]\n{Heap before GC invocations=5587 (full 5):\n garbage-first heap   total 33554432K, used 33310317K [0x00007f8bd0000000, 0x00007f8bd2002000, 0x00007f93d0000000)\n  region size 32768K, 0 young (0K), 0 survivors (0K)\n Metaspace       used 812097K, capacity 885950K, committed 886932K, reserved 888832K\n2022-06-08T12:12:48.205+0000: 12088.653: [Full GC (Allocation Failure) 2022-06-08T12:13:00.000+0000: 12100.448: [SoftReference, 559680 refs, 0.3597706 secs]2022-06-08T12:13:00.360+0000: 12100.808: [WeakReference, 1972081 refs, 0.5324321 secs]2022-06-08T12:13:00.892+0000: 12101.341: [FinalReference, 2421 refs, 0.0027633 secs]2022-06-08T12:13:00.895+0000: 12101.344: [PhantomReference, 53 refs, 1210 refs, 0.0003111 secs]2022-06-08T12:13:00.895+0000: 12101.344: [JNI Weak Reference, 0.0003141 secs] 31G-&gt;11G(32G), 31.3282147 secs]\n   [Eden: 0.0B(4896.0M)-&gt;0.0B(6528.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.8G(32.0G)-&gt;11.0G(32.0G)], [Metaspace: 812097K-&gt;791892K(888832K)]\nHeap after GC invocations=5588 (full 6):\n garbage-first heap   total 33554432K, used 11551929K [0x00007f8bd0000000, 0x00007f8bd2002000, 0x00007f93d0000000)\n  region size 32768K, 0 young (0K), 0 survivors (0K)\n Metaspace       used 791892K, capacity 849105K, committed 886932K, reserved 888832K\n}\n</code></pre>\n<p>On the last section, showing up <strong>[Allocation Failure]</strong> which was under first comment.\nObviously still keep testing and tuning that up, that just few Allocation Failures happens over the day. <code>To sum up, currently see time-to-time Humongous Allocation and around 10 Allocation Failures</code>.\nBy saying that, I work out below :</p>\n<pre><code>-XX:MaxGCPauseMillis=400 \n-XX:G1HeapRegionSize=32M\n-XX:GCTimeRatio=4\n-XX:G1NewSizePercent=15\n-XX:G1MaxNewSizePercent=20\n-XX:G1ReservePercent=20\n-XX:G1MixedGCLiveThresholdPercent=65\n-XX:G1HeapWastePercent=10\n-XX:G1MixedGCCountTarget=8\n-XX:G1OldCSetRegionThresholdPercent=10\n-XX:InitiatingHeapOccupancyPercent=30\n</code></pre>\n"},{"tags":["java","locale"],"comments":[{"owner":{"account_id":393656,"reputation":8432,"user_id":755637,"accept_rate":35,"display_name":"V H"},"score":0,"creation_date":1494420908,"post_id":43456068,"comment_id":74820226,"body_markdown":"basically I reached a conclusion that java&#39;s version of locale is incomplete https://mvnrepository.com/artifact/com.ibm.icu/icu4j is what you need and does appear to cover all locales properly. I ended up with half and half then realised icu4 does it all","body":"basically I reached a conclusion that java&#39;s version of locale is incomplete <a href=\"https://mvnrepository.com/artifact/com.ibm.icu/icu4j\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.ibm.icu/icu4j</a> is what you need and does appear to cover all locales properly. I ended up with half and half then realised icu4 does it all"}],"answers":[{"tags":[],"owner":{"account_id":393656,"reputation":8432,"user_id":755637,"accept_rate":35,"display_name":"V H"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654776704,"creation_date":1494578729,"answer_id":43933257,"question_id":43456068,"body_markdown":"To answer my own question since this is rather a complex topic that isn&#39;t explained well out there.\r\n\r\nIn short as per my comment you are probably better off using [icu4j][1]. Since this offers a more complete solution for international number/date conversion. \r\n\r\nThe difficulty is working out all standards required since it does seem to support all locales languages etc properly, just a case of knowing how to use it properly.\r\n\r\nI will provide a snippet - this code is in need of a cleanup but offers a solution for both number and date conversion for your java application:\r\n\r\n\r\n\r\n    import groovy.transform.CompileStatic\r\n    \r\n    /**\r\n     * \r\n     * @author Vahid Hedayati\r\n     * Looks complex but will explain\r\n     *\r\n     * ar-SA u = unicode nu = number arab = arabic\r\n     *\r\n     * https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry\r\n     * to get langauge code such as arab = subtag\r\n     *\r\n     * Rest explained here\r\n     * http://stackoverflow.com/questions/43456068/java-locale-builder-setextensionlocale-unicode-locale-extension\r\n     *\r\n     *\r\n     */\r\n    @CompileStatic\r\n    enum LocaleCalendarExtensions {\r\n        SA(&#39;ar-SA-u-ca-arab&#39;),\r\n        AM(&#39;hy-AM-u-ca-arevmda&#39;),\r\n        CN(&#39;zh-TW-u-ca-hant&#39;),\r\n        CZ(&#39;cs-CZ-u-ca-latn&#39;),\r\n        DK(&#39;da-DK-u-ca-latn&#39;),\r\n        NL(&#39;nl-NL-u-ca-latn&#39;),\r\n        IE(&#39;ie-IE-u-ca-latn&#39;),\r\n        FR(&#39;fr-FR-u-ca-latn&#39;),\r\n        DE(&#39;de-DE-u-ca-latn&#39;),\r\n        GR(&#39;el-GR-u-ca-grek&#39;),\r\n        IL(&#39;iw-IL-u-ca-hebr&#39;),\r\n        IN(&#39;hi-IN-u-ca-hindu&#39;),\r\n        IT(&#39;it-IT-u-ca-latn&#39;),\r\n        JP(&#39;ja-JP-u-ca-jpan&#39;),\r\n        NO(&#39;nb-NO-u-ca-latn&#39;),\r\n        IR(&#39;&#39;), //fa-IR-u-ca-fars&#39;),\r\n        PL(&#39;pl-PL-u-ca-latn&#39;),\r\n        PT(&#39;pt-PT-u-ca-latn&#39;),\r\n        RU(&#39;ru-RU-u-ca-cyrl&#39;),\r\n        ES(&#39;es-ES-u-ca-latn&#39;),\r\n        SE(&#39;sv-SE-u-ca-latn&#39;),\r\n        TH(&#39;th-TH-u-ca-thai&#39;),\r\n        TR(&#39;tr-TR-u-ca-latn&#39;),\r\n        PK(&#39;&#39;),//ur-PK-u-ca-arab&#39;),\r\n        VN(&#39;vi-VN-u-ca-latn&#39;)\r\n    \r\n        String value\r\n    \r\n        LocaleCalendarExtensions(String val) {\r\n            this.value = val\r\n        }\r\n        public String getValue(){\r\n            return value\r\n        }\r\n        static LocaleCalendarExtensions byValue(String val) {\r\n            values().find { it.value == val }\r\n        }\r\n        public static EnumSet&lt;LocaleCalendarExtensions&gt; getArabicSupport() {\r\n            final EnumSet&lt; LocaleCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleCalendarExtensions.class )\r\n            ret_val.add(SA)\r\n            return ret_val\r\n        }\r\n        public static EnumSet&lt;LocaleCalendarExtensions&gt; getJapanSupport() {\r\n            final EnumSet&lt; LocaleCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleCalendarExtensions.class )\r\n            ret_val.add(JP)\r\n            return ret_val\r\n        }\r\n    \r\n        public static EnumSet&lt;LocaleCalendarExtensions&gt; getChinaSupport() {\r\n            final EnumSet&lt; LocaleCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleCalendarExtensions.class )\r\n            ret_val.add(CN)\r\n            return ret_val\r\n        }\r\n    \r\n        public static EnumSet&lt;LocaleCalendarExtensions&gt; getFarsiSupport() {\r\n            final EnumSet&lt; LocaleCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleCalendarExtensions.class )\r\n    \r\n            ret_val.add(IR)\r\n            return ret_val\r\n        }\r\n        public static EnumSet&lt;LocaleCalendarExtensions&gt; getUrduSupport() {\r\n            final EnumSet&lt; LocaleCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleCalendarExtensions.class )\r\n            ret_val.add(PK)\r\n            return ret_val\r\n        }\r\n        public static EnumSet&lt;LocaleCalendarExtensions&gt; getAsianSupport() {\r\n            final EnumSet&lt; LocaleCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleCalendarExtensions.class )\r\n            ret_val.add(JP)\r\n            ret_val.add(CN)\r\n            return ret_val\r\n        }\r\n        public static EnumSet&lt;LocaleCalendarExtensions&gt; getHebrewSupport() {\r\n            final EnumSet&lt; LocaleCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleCalendarExtensions.class )\r\n            ret_val.add(IL)\r\n            return ret_val\r\n        }\r\n        public static EnumSet&lt;LocaleCalendarExtensions&gt; getHinduSupport() {\r\n            final EnumSet&lt; LocaleCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleCalendarExtensions.class )\r\n            ret_val.add(IN)\r\n            return ret_val\r\n        }\r\n        public static EnumSet&lt;LocaleCalendarExtensions&gt; getThaiSupport() {\r\n            final EnumSet&lt; LocaleCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleCalendarExtensions.class )\r\n            ret_val.add(TH)\r\n            return ret_val\r\n        }\r\n        public static EnumSet&lt;LocaleCalendarExtensions&gt; getGreekSupport() {\r\n            final EnumSet&lt; LocaleCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleCalendarExtensions.class )\r\n            ret_val.add(GR)\r\n            return ret_val\r\n        }\r\n    }\r\n\r\n\r\n\r\nNow how you convert a date properly to international locales:\r\n\r\n \r\n\r\n     /**\r\n    \t *\r\n    \t * @param lang where lang code provider is ar en cn fr ur it is as per LocaleCalendarExtensions Enum main declarations\r\n    \t * @param date given date\r\n    \t * @param format definition in which case I have clause to deal with HH:mm and so on just read through below code\r\n         * @return\r\n         */\r\n    \tpublic static String convertDate(String lang, java.util.Date date, String format) {\r\n    \t\tStringBuilder output=new StringBuilder()\r\n    \t\tif (lang != null &amp;&amp; date) {\r\n    \t\t\tdef found = LocaleICUCalendarExtensions?.find{it.toString()==lang}\r\n    \t\t\tif (found) {\r\n    \t\t\t\tdef found1 = LocaleExtensions?.valueOf(lang)\r\n    \t\t\t\tcom.ibm.icu.util.ULocale locale =  new com.ibm.icu.util.ULocale(found1.value)\r\n    \t\t\t\tcom.ibm.icu.util.Calendar calendar = com.ibm.icu.util.Calendar.getInstance(locale)\r\n    \t\t\t\tcalendar.setTime(date)\r\n    \t\t\t\tcom.ibm.icu.text.DateFormat df\r\n    \t\t\t\tif (format == &#39;HH:mm&#39;) {\r\n    \t\t\t\t\tdf = com.ibm.icu.text.DateFormat.getPatternInstance( com.ibm.icu.text.DateFormat.HOUR_MINUTE, locale)\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tif (format==&#39;dd MMM yyyy HH:mm:ss&#39;) {\r\n    \t\t\t\t\t\tdf = com.ibm.icu.text.DateFormat.getDateInstance(DateFormat.FULL, locale)\r\n    \t\t\t\t\t} else if (format==&#39;dd MMM&#39;) {\r\n    \t\t\t\t\t\tdf = com.ibm.icu.text.DateFormat.getPatternInstance( com.ibm.icu.text.DateFormat.ABBR_MONTH_DAY, locale)\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tdf = com.ibm.icu.text.DateFormat.getDateInstance(DateFormat.LONG, locale)\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\toutput &lt;&lt; df.format(calendar)\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn output.toString()\r\n    \t}\r\n\r\nTo convert a number to another country numbering system:\r\n\r\n\r\n    /**\r\n    \t * Converts number to given locale\r\n    \t * @param lang\r\n    \t * @param number\r\n         * @return\r\n         */\r\n    \tpublic static String convertNumber(String lang, number) {\r\n    \t\tString output=&#39;&#39;\r\n    \t\tif (lang != null) {\r\n    \t\t\tboolean arabic = (LocaleCalendarExtensions.arabicSupport.find { it.toString() == lang } ? true : false)\r\n    \t\t\tboolean china = (LocaleCalendarExtensions.chinaSupport.find { it.toString() == lang } ? true : false)\r\n    \t\t\tboolean japan = (LocaleCalendarExtensions.japanSupport.find { it.toString() == lang } ? true : false)\r\n    \t\t\tboolean farsi = (LocaleCalendarExtensions.farsiSupport.find { it.toString() == lang } ? true : false)\r\n    \t\t\tboolean urdu = (LocaleCalendarExtensions.urduSupport.find { it.toString() == lang } ? true : false)\r\n    \t\t\tboolean hebrew = (LocaleCalendarExtensions.hebrewSupport.find { it.toString() == lang } ? true : false)\r\n    \t\t\tboolean greek = (LocaleCalendarExtensions.greekSupport.find { it.toString() == lang } ? true : false)\r\n    \t\t\tboolean hindu = (LocaleCalendarExtensions.hinduSupport.find { it.toString() == lang } ? true : false)\r\n    \t\t\tboolean thai = (LocaleCalendarExtensions.thaiSupport.find { it.toString() == lang } ? true : false)\r\n    \t\t\tif (arabic || hindu | thai || farsi||urdu) {\r\n    \t\t\t\tdef found = LocaleExtensions?.valueOf(lang)\r\n    \t\t\t\tif (found) {\r\n    \t\t\t\t\tLocale locale = new Locale.Builder().setLanguageTag(found.value).build();\r\n    \t\t\t\t\tDecimalFormatSymbols dfs = DecimalFormatSymbols.getInstance(locale);\r\n    \t\t\t\t\tNumberFormat numberFormat = NumberFormat.getNumberInstance(locale);\r\n    \t\t\t\t\tdef numbers\r\n    \t\t\t\t\tif (number.toString().indexOf(&#39;.&#39;)&gt;-1) {\r\n    \t\t\t\t\t\tnumbers=number as Double\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tnumbers=number as Long\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\toutput = (numberFormat?.format(numbers)) ?:&#39;&#39;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tif (japan|china||hebrew||greek) {\r\n    \t\t\t\t// to extend look up types here\r\n    \t\t\t\t//http://www.atetric.com/atetric/javadoc/com.ibm.icu/icu4j/49.1/src-html/com/ibm/icu/util/ULocale.html\r\n    \t\t\t\t//http://icu-project.org/~yoshito/jacoco_57.1/com.ibm.icu.util/ULocale.java.html\r\n    \t\t\t\tcom.ibm.icu.util.ULocale locale\r\n    \r\n    \t\t\t\tif (japan) {\r\n    \t\t\t\t\tlocale= new com.ibm.icu.util.ULocale(&quot;ja_JP_JP&quot;)//ja_JP_JP  //\r\n    \t\t\t\t}\r\n    \t\t\t\tif (china) {\r\n    \t\t\t\t\tlocale= new com.ibm.icu.util.ULocale(&quot;zh_Hans&quot;)//zh_CN_TRADITIONAL@collation=pinyin;\r\n    \t\t\t\t}\r\n    \t\t\t\tif (hebrew) {\r\n    \t\t\t\t\tlocale= new com.ibm.icu.util.ULocale(&quot;he_IL&quot;)\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t\tif (greek) {\r\n    \t\t\t\t\tlocale= new com.ibm.icu.util.ULocale(&quot;el_GR&quot;)\r\n    \t\t\t\t}\r\n    \t\t\t\tcom.ibm.icu.text.NumberFormat nf = com.ibm.icu.text.NumberFormat.getInstance(locale)\r\n    \t\t\t\tdef numbers\r\n    \t\t\t\tif (number.toString().indexOf(&#39;.&#39;)&gt;-1) {\r\n    \t\t\t\t\tnumbers=number as Double\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tnumbers=number as Long\r\n    \t\t\t\t}\r\n    \t\t\t\toutput = nf.format(numbers)\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn output ?: number.toString()\r\n    \t}\r\n\r\n\r\nNow if you are using grails you can create a taglib and override formatDate and formatNumber defintions to work with above code:\r\n\r\n     /**\r\n         * override default date formatter if translation translate\r\n         */\r\n    \r\n        def formatDate={attrs-&gt;\r\n            String foundRecord\r\n            if (attrs.locale) {\r\n                String lang = attrs.locale.country\r\n                foundRecord = NumberHelper.convertDate(lang, attrs.date, attrs.format)\r\n            }\r\n            if (!foundRecord || foundRecord==&#39;null&#39;) {\r\n                out &lt;&lt; g.formatDate(attrs)\r\n            } else {\r\n                out &lt;&lt; foundRecord\r\n            }\r\n        }\r\n\r\n\r\n    /**\r\n     * Override default formatNumber and translate number if possible otherwsie run default\r\n     */\r\n    def formatNumber={attrs-&gt;\r\n        def foundRecord\r\n        if (attrs.locale &amp;&amp; attrs.number) {\r\n            String lang = attrs.locale.country\r\n            foundRecord = NumberHelper.convertNumber(lang, attrs.number)\r\n        }\r\n        if (!foundRecord) {\r\n            out &lt;&lt; g.formatNumber(attrs)\r\n        } else {\r\n            out &lt;&lt; &quot;${foundRecord}&quot;\r\n        }\r\n    }\r\n\r\n\r\nICU4J Enum above:\r\n\r\n    import groovy.transform.CompileStatic\r\n    \r\n    \r\n    @CompileStatic\r\n    enum LocaleICUCalendarExtensions {\r\n        SA(&#39;ar_SA@calendar=islamic&#39;),\r\n    AM(&#39;hy_AM@calendar=armenian&#39;),\r\n    CN(&#39;zh_Hans@calendar=chinese&#39;),\r\n    CZ(&#39;cs_CZ@calendar=latin&#39;),\r\n    DK(&#39;da_DK@calendar=latin&#39;),\r\n    NL(&#39;nl_NL@calendar=latin&#39;),\r\n    IE(&#39;ie_IE@calendar=latin&#39;),\r\n    FR(&#39;fr_FR@calendar=latin&#39;),\r\n    DE(&#39;de_DE@calendar=latin&#39;),\r\n    GR(&#39;el_GR@calendar=greek&#39;),\r\n    IL(&#39;iw_IL@calendar=hebrew&#39;),\r\n    IN(&#39;hi_IN@calendar=hindu&#39;),\r\n    IT(&#39;it_IT@calendar=Latin&#39;),\r\n    JP(&#39;ja_JP_TRADITIONAL@calendar=japanese&#39;),\r\n    NO(&#39;nb_NO@calendar=latin&#39;),\r\n    IR(&#39;fa_IR@calendar=persian&#39;),\r\n    PL(&#39;pl_PL@calendar=latin&#39;),\r\n    PT(&#39;pt_PT@calendar=latin&#39;),\r\n    RU(&#39;ru_RU@calendar=cyrillic&#39;),\r\n    ES(&#39;es_ES@calendar=latin&#39;),\r\n    SE(&#39;sv_SE@calendar=latin&#39;),\r\n    TH(&#39;th_TH_TRADITIONAL@calendar=buddhist&#39;),\r\n    TR(&#39;tr_TR@calendar=latin&#39;),\r\n    PK(&#39;ur_PK@calendar=pakistan&#39;),\r\n    VN(&#39;vi_VN@calendar=latin&#39;)\r\n    \r\n        String value\r\n    \r\n        LocaleICUCalendarExtensions(String val) {\r\n            this.value = val\r\n        }\r\n        public String getValue(){\r\n            return value\r\n        }\r\n        static LocaleICUCalendarExtensions byValue(String val) {\r\n            values().find { it.value == val }\r\n        }\r\n        public static EnumSet&lt;LocaleICUCalendarExtensions&gt; getArabicSupport() {\r\n            final EnumSet&lt; LocaleICUCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleICUCalendarExtensions.class )\r\n            ret_val.add(SA)\r\n            return ret_val\r\n        }\r\n        public static EnumSet&lt;LocaleICUCalendarExtensions&gt; getJapanSupport() {\r\n            final EnumSet&lt; LocaleICUCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleICUCalendarExtensions.class )\r\n            ret_val.add(JP)\r\n            return ret_val\r\n        }\r\n    \r\n        public static EnumSet&lt;LocaleICUCalendarExtensions&gt; getChinaSupport() {\r\n            final EnumSet&lt; LocaleICUCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleICUCalendarExtensions.class )\r\n            ret_val.add(CN)\r\n            return ret_val\r\n        }\r\n    \r\n        public static EnumSet&lt;LocaleICUCalendarExtensions&gt; getFarsiSupport() {\r\n            final EnumSet&lt; LocaleICUCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleICUCalendarExtensions.class )\r\n    \r\n            ret_val.add(IR)\r\n            return ret_val\r\n        }\r\n        public static EnumSet&lt;LocaleICUCalendarExtensions&gt; getUrduSupport() {\r\n            final EnumSet&lt; LocaleICUCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleICUCalendarExtensions.class )\r\n            ret_val.add(PK)\r\n            return ret_val\r\n        }\r\n    \r\n        public static EnumSet&lt;LocaleICUCalendarExtensions&gt; getHebrewSupport() {\r\n            final EnumSet&lt; LocaleICUCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleICUCalendarExtensions.class )\r\n            ret_val.add(IL)\r\n            return ret_val\r\n        }\r\n        public static EnumSet&lt;LocaleICUCalendarExtensions&gt; getHinduSupport() {\r\n            final EnumSet&lt; LocaleICUCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleICUCalendarExtensions.class )\r\n            ret_val.add(IN)\r\n            return ret_val\r\n        }\r\n        public static EnumSet&lt;LocaleICUCalendarExtensions&gt; getThaiSupport() {\r\n            final EnumSet&lt; LocaleICUCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleICUCalendarExtensions.class )\r\n            ret_val.add(TH)\r\n            return ret_val\r\n        }\r\n        public static EnumSet&lt;LocaleICUCalendarExtensions&gt; getGreekSupport() {\r\n            final EnumSet&lt; LocaleICUCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleICUCalendarExtensions.class )\r\n            ret_val.add(GR)\r\n            return ret_val\r\n        }\r\n    }\r\n\r\n\r\nLocaleExtensions enum a bit like LocaleCalendar just has nu rather than ca \r\n\r\n\r\n    import groovy.transform.CompileStatic\r\n    \r\n    /**\r\n     * Looks complex but will explain\r\n     *\r\n     * ar-SA u = unicode nu = number arab = arabic\r\n     *\r\n     * https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry\r\n     * to get langauge code such as arab = subtag\r\n     *\r\n     * Rest explained here\r\n     * http://stackoverflow.com/questions/43456068/java-locale-builder-setextensionlocale-unicode-locale-extension\r\n     *\r\n     *\r\n     */\r\n    @CompileStatic\r\n    enum LocaleExtensions {\r\n        SA(&#39;ar-SA-u-nu-arab&#39;),\r\n        AM(&#39;hy-AM-u-nu-arevmda&#39;),\r\n        CN(&#39;zh-TW-u-nu-arab&#39;), //&#39;zh-TW-u-nu-hant&#39;\r\n        CZ(&#39;cs-CZ-u-nu-latn&#39;),\r\n        DK(&#39;da-DK-u-nu-latn&#39;),\r\n        NL(&#39;nl-NL-u-nu-latn&#39;),\r\n        IE(&#39;ie-IE-u-nu-latn&#39;),\r\n        FR(&#39;fr-FR-u-nu-latn&#39;),\r\n        DE(&#39;de-DE-u-nu-latn&#39;),\r\n        GR(&#39;el-GR-u-nu-grek&#39;),\r\n        IL(&#39;iw-IL-u-nu-hebr&#39;),\r\n        IN(&#39;hi-IN-u-nu-hindu&#39;),\r\n        IT(&#39;it-IT-u-nu-latn&#39;),\r\n        JP(&#39;ja-JP-u-nu-arab&#39;),\r\n        NO(&#39;nb-NO-u-nu-latn&#39;),\r\n        IR(&#39;fa-IR-u-nu-arab&#39;),\r\n        PL(&#39;pl-PL-u-nu-latn&#39;),\r\n        PT(&#39;pt-PT-u-nu-latn&#39;),\r\n        RU(&#39;ru-RU-u-nu-cyrl&#39;),\r\n        ES(&#39;es-ES-u-nu-latn&#39;),\r\n        SE(&#39;sv-SE-u-nu-latn&#39;),\r\n        TH(&#39;th-TH-u-nu-thai&#39;),\r\n        TR(&#39;tr-TR-u-nu-latn&#39;),\r\n        PK(&#39;ur-PK-u-nu-arab&#39;),\r\n        VN(&#39;vi-VN-u-nu-latn&#39;)\r\n    \r\n        String value\r\n    \r\n        LocaleExtensions(String val) {\r\n            this.value = val\r\n        }\r\n        public String getValue(){\r\n            return value\r\n        }\r\n        static LocaleExtensions byValue(String val) {\r\n            values().find { it.value == val }\r\n        }\r\n        public static EnumSet&lt;LocaleExtensions&gt; getArabicSupport() {\r\n            final EnumSet&lt; LocaleExtensions &gt; ret_val = EnumSet.noneOf( LocaleExtensions.class )\r\n            ret_val.add(SA)\r\n            //TODO\r\n            ret_val.add(JP)\r\n            ret_val.add(CN)\r\n            return ret_val\r\n        }\r\n        public static EnumSet&lt;LocaleExtensions&gt; getFarsiSupport() {\r\n            final EnumSet&lt; LocaleExtensions &gt; ret_val = EnumSet.noneOf( LocaleExtensions.class )\r\n            ret_val.add(PK)\r\n            ret_val.add(IR)\r\n            return ret_val\r\n        }\r\n    \r\n        public static EnumSet&lt;LocaleExtensions&gt; getAsianSupport() {\r\n            final EnumSet&lt; LocaleExtensions &gt; ret_val = EnumSet.noneOf( LocaleExtensions.class )\r\n            ret_val.add(JP)\r\n            ret_val.add(CN)\r\n            return ret_val\r\n        }\r\n        public static EnumSet&lt;LocaleExtensions&gt; getHebrewSupport() {\r\n            final EnumSet&lt; LocaleExtensions &gt; ret_val = EnumSet.noneOf( LocaleExtensions.class )\r\n            ret_val.add(IL)\r\n            return ret_val\r\n        }\r\n        public static EnumSet&lt;LocaleExtensions&gt; getHinduSupport() {\r\n            final EnumSet&lt; LocaleExtensions &gt; ret_val = EnumSet.noneOf( LocaleExtensions.class )\r\n            ret_val.add(IN)\r\n            return ret_val\r\n        }\r\n        public static EnumSet&lt;LocaleExtensions&gt; getThaiSupport() {\r\n            final EnumSet&lt; LocaleExtensions &gt; ret_val = EnumSet.noneOf( LocaleExtensions.class )\r\n            ret_val.add(TH)\r\n            return ret_val\r\n        }\r\n        public static EnumSet&lt;LocaleExtensions&gt; getGreekSupport() {\r\n            final EnumSet&lt; LocaleExtensions &gt; ret_val = EnumSet.noneOf( LocaleExtensions.class )\r\n            ret_val.add(GR)\r\n            return ret_val\r\n        }\r\n    }\r\n\r\nThis obviously covers a range of locales and it is working correctly for me in the words of Bernard Manning&#39;s bootifuly\r\n\r\nThe date had been split into what java supported by default vs icu4j then when understood better all moved over to icu4j I think the numbering system is still using half and half and probably could be switched over to icu4j too.\r\n\r\nAnyhow the answer is a derailed train far off the track by now as in from where it started which was converting number characters and for example from Latin to arabic is tricky to understand work with since given a Latin year of 2016 in arabic the equivalent and correct year lets in Saudi would be something like 1354 or in Thailand I think 2056\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.ibm.icu/icu4j\r\n\r\n\r\n","title":"java Locale.Builder setExtension(Locale.UNICODE_LOCALE_EXTENSION","body":"<p>To answer my own question since this is rather a complex topic that isn't explained well out there.</p>\n<p>In short as per my comment you are probably better off using <a href=\"https://mvnrepository.com/artifact/com.ibm.icu/icu4j\" rel=\"nofollow noreferrer\">icu4j</a>. Since this offers a more complete solution for international number/date conversion.</p>\n<p>The difficulty is working out all standards required since it does seem to support all locales languages etc properly, just a case of knowing how to use it properly.</p>\n<p>I will provide a snippet - this code is in need of a cleanup but offers a solution for both number and date conversion for your java application:</p>\n<pre><code>import groovy.transform.CompileStatic\n\n/**\n * \n * @author Vahid Hedayati\n * Looks complex but will explain\n *\n * ar-SA u = unicode nu = number arab = arabic\n *\n * https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry\n * to get langauge code such as arab = subtag\n *\n * Rest explained here\n * http://stackoverflow.com/questions/43456068/java-locale-builder-setextensionlocale-unicode-locale-extension\n *\n *\n */\n@CompileStatic\nenum LocaleCalendarExtensions {\n    SA('ar-SA-u-ca-arab'),\n    AM('hy-AM-u-ca-arevmda'),\n    CN('zh-TW-u-ca-hant'),\n    CZ('cs-CZ-u-ca-latn'),\n    DK('da-DK-u-ca-latn'),\n    NL('nl-NL-u-ca-latn'),\n    IE('ie-IE-u-ca-latn'),\n    FR('fr-FR-u-ca-latn'),\n    DE('de-DE-u-ca-latn'),\n    GR('el-GR-u-ca-grek'),\n    IL('iw-IL-u-ca-hebr'),\n    IN('hi-IN-u-ca-hindu'),\n    IT('it-IT-u-ca-latn'),\n    JP('ja-JP-u-ca-jpan'),\n    NO('nb-NO-u-ca-latn'),\n    IR(''), //fa-IR-u-ca-fars'),\n    PL('pl-PL-u-ca-latn'),\n    PT('pt-PT-u-ca-latn'),\n    RU('ru-RU-u-ca-cyrl'),\n    ES('es-ES-u-ca-latn'),\n    SE('sv-SE-u-ca-latn'),\n    TH('th-TH-u-ca-thai'),\n    TR('tr-TR-u-ca-latn'),\n    PK(''),//ur-PK-u-ca-arab'),\n    VN('vi-VN-u-ca-latn')\n\n    String value\n\n    LocaleCalendarExtensions(String val) {\n        this.value = val\n    }\n    public String getValue(){\n        return value\n    }\n    static LocaleCalendarExtensions byValue(String val) {\n        values().find { it.value == val }\n    }\n    public static EnumSet&lt;LocaleCalendarExtensions&gt; getArabicSupport() {\n        final EnumSet&lt; LocaleCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleCalendarExtensions.class )\n        ret_val.add(SA)\n        return ret_val\n    }\n    public static EnumSet&lt;LocaleCalendarExtensions&gt; getJapanSupport() {\n        final EnumSet&lt; LocaleCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleCalendarExtensions.class )\n        ret_val.add(JP)\n        return ret_val\n    }\n\n    public static EnumSet&lt;LocaleCalendarExtensions&gt; getChinaSupport() {\n        final EnumSet&lt; LocaleCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleCalendarExtensions.class )\n        ret_val.add(CN)\n        return ret_val\n    }\n\n    public static EnumSet&lt;LocaleCalendarExtensions&gt; getFarsiSupport() {\n        final EnumSet&lt; LocaleCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleCalendarExtensions.class )\n\n        ret_val.add(IR)\n        return ret_val\n    }\n    public static EnumSet&lt;LocaleCalendarExtensions&gt; getUrduSupport() {\n        final EnumSet&lt; LocaleCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleCalendarExtensions.class )\n        ret_val.add(PK)\n        return ret_val\n    }\n    public static EnumSet&lt;LocaleCalendarExtensions&gt; getAsianSupport() {\n        final EnumSet&lt; LocaleCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleCalendarExtensions.class )\n        ret_val.add(JP)\n        ret_val.add(CN)\n        return ret_val\n    }\n    public static EnumSet&lt;LocaleCalendarExtensions&gt; getHebrewSupport() {\n        final EnumSet&lt; LocaleCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleCalendarExtensions.class )\n        ret_val.add(IL)\n        return ret_val\n    }\n    public static EnumSet&lt;LocaleCalendarExtensions&gt; getHinduSupport() {\n        final EnumSet&lt; LocaleCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleCalendarExtensions.class )\n        ret_val.add(IN)\n        return ret_val\n    }\n    public static EnumSet&lt;LocaleCalendarExtensions&gt; getThaiSupport() {\n        final EnumSet&lt; LocaleCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleCalendarExtensions.class )\n        ret_val.add(TH)\n        return ret_val\n    }\n    public static EnumSet&lt;LocaleCalendarExtensions&gt; getGreekSupport() {\n        final EnumSet&lt; LocaleCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleCalendarExtensions.class )\n        ret_val.add(GR)\n        return ret_val\n    }\n}\n</code></pre>\n<p>Now how you convert a date properly to international locales:</p>\n<pre><code> /**\n     *\n     * @param lang where lang code provider is ar en cn fr ur it is as per LocaleCalendarExtensions Enum main declarations\n     * @param date given date\n     * @param format definition in which case I have clause to deal with HH:mm and so on just read through below code\n     * @return\n     */\n    public static String convertDate(String lang, java.util.Date date, String format) {\n        StringBuilder output=new StringBuilder()\n        if (lang != null &amp;&amp; date) {\n            def found = LocaleICUCalendarExtensions?.find{it.toString()==lang}\n            if (found) {\n                def found1 = LocaleExtensions?.valueOf(lang)\n                com.ibm.icu.util.ULocale locale =  new com.ibm.icu.util.ULocale(found1.value)\n                com.ibm.icu.util.Calendar calendar = com.ibm.icu.util.Calendar.getInstance(locale)\n                calendar.setTime(date)\n                com.ibm.icu.text.DateFormat df\n                if (format == 'HH:mm') {\n                    df = com.ibm.icu.text.DateFormat.getPatternInstance( com.ibm.icu.text.DateFormat.HOUR_MINUTE, locale)\n                } else {\n                    if (format=='dd MMM yyyy HH:mm:ss') {\n                        df = com.ibm.icu.text.DateFormat.getDateInstance(DateFormat.FULL, locale)\n                    } else if (format=='dd MMM') {\n                        df = com.ibm.icu.text.DateFormat.getPatternInstance( com.ibm.icu.text.DateFormat.ABBR_MONTH_DAY, locale)\n                    } else {\n                        df = com.ibm.icu.text.DateFormat.getDateInstance(DateFormat.LONG, locale)\n                    }\n                    output &lt;&lt; df.format(calendar)\n                }\n\n            }\n        }\n        return output.toString()\n    }\n</code></pre>\n<p>To convert a number to another country numbering system:</p>\n<pre><code>/**\n     * Converts number to given locale\n     * @param lang\n     * @param number\n     * @return\n     */\n    public static String convertNumber(String lang, number) {\n        String output=''\n        if (lang != null) {\n            boolean arabic = (LocaleCalendarExtensions.arabicSupport.find { it.toString() == lang } ? true : false)\n            boolean china = (LocaleCalendarExtensions.chinaSupport.find { it.toString() == lang } ? true : false)\n            boolean japan = (LocaleCalendarExtensions.japanSupport.find { it.toString() == lang } ? true : false)\n            boolean farsi = (LocaleCalendarExtensions.farsiSupport.find { it.toString() == lang } ? true : false)\n            boolean urdu = (LocaleCalendarExtensions.urduSupport.find { it.toString() == lang } ? true : false)\n            boolean hebrew = (LocaleCalendarExtensions.hebrewSupport.find { it.toString() == lang } ? true : false)\n            boolean greek = (LocaleCalendarExtensions.greekSupport.find { it.toString() == lang } ? true : false)\n            boolean hindu = (LocaleCalendarExtensions.hinduSupport.find { it.toString() == lang } ? true : false)\n            boolean thai = (LocaleCalendarExtensions.thaiSupport.find { it.toString() == lang } ? true : false)\n            if (arabic || hindu | thai || farsi||urdu) {\n                def found = LocaleExtensions?.valueOf(lang)\n                if (found) {\n                    Locale locale = new Locale.Builder().setLanguageTag(found.value).build();\n                    DecimalFormatSymbols dfs = DecimalFormatSymbols.getInstance(locale);\n                    NumberFormat numberFormat = NumberFormat.getNumberInstance(locale);\n                    def numbers\n                    if (number.toString().indexOf('.')&gt;-1) {\n                        numbers=number as Double\n                    } else {\n                        numbers=number as Long\n                    }\n                    output = (numberFormat?.format(numbers)) ?:''\n                }\n            }\n            if (japan|china||hebrew||greek) {\n                // to extend look up types here\n                //http://www.atetric.com/atetric/javadoc/com.ibm.icu/icu4j/49.1/src-html/com/ibm/icu/util/ULocale.html\n                //http://icu-project.org/~yoshito/jacoco_57.1/com.ibm.icu.util/ULocale.java.html\n                com.ibm.icu.util.ULocale locale\n\n                if (japan) {\n                    locale= new com.ibm.icu.util.ULocale(&quot;ja_JP_JP&quot;)//ja_JP_JP  //\n                }\n                if (china) {\n                    locale= new com.ibm.icu.util.ULocale(&quot;zh_Hans&quot;)//zh_CN_TRADITIONAL@collation=pinyin;\n                }\n                if (hebrew) {\n                    locale= new com.ibm.icu.util.ULocale(&quot;he_IL&quot;)\n\n                }\n                if (greek) {\n                    locale= new com.ibm.icu.util.ULocale(&quot;el_GR&quot;)\n                }\n                com.ibm.icu.text.NumberFormat nf = com.ibm.icu.text.NumberFormat.getInstance(locale)\n                def numbers\n                if (number.toString().indexOf('.')&gt;-1) {\n                    numbers=number as Double\n                } else {\n                    numbers=number as Long\n                }\n                output = nf.format(numbers)\n            }\n        }\n        return output ?: number.toString()\n    }\n</code></pre>\n<p>Now if you are using grails you can create a taglib and override formatDate and formatNumber defintions to work with above code:</p>\n<pre><code> /**\n     * override default date formatter if translation translate\n     */\n\n    def formatDate={attrs-&gt;\n        String foundRecord\n        if (attrs.locale) {\n            String lang = attrs.locale.country\n            foundRecord = NumberHelper.convertDate(lang, attrs.date, attrs.format)\n        }\n        if (!foundRecord || foundRecord=='null') {\n            out &lt;&lt; g.formatDate(attrs)\n        } else {\n            out &lt;&lt; foundRecord\n        }\n    }\n\n\n/**\n * Override default formatNumber and translate number if possible otherwsie run default\n */\ndef formatNumber={attrs-&gt;\n    def foundRecord\n    if (attrs.locale &amp;&amp; attrs.number) {\n        String lang = attrs.locale.country\n        foundRecord = NumberHelper.convertNumber(lang, attrs.number)\n    }\n    if (!foundRecord) {\n        out &lt;&lt; g.formatNumber(attrs)\n    } else {\n        out &lt;&lt; &quot;${foundRecord}&quot;\n    }\n}\n</code></pre>\n<p>ICU4J Enum above:</p>\n<pre><code>import groovy.transform.CompileStatic\n\n\n@CompileStatic\nenum LocaleICUCalendarExtensions {\n    SA('ar_SA@calendar=islamic'),\nAM('hy_AM@calendar=armenian'),\nCN('zh_Hans@calendar=chinese'),\nCZ('cs_CZ@calendar=latin'),\nDK('da_DK@calendar=latin'),\nNL('nl_NL@calendar=latin'),\nIE('ie_IE@calendar=latin'),\nFR('fr_FR@calendar=latin'),\nDE('de_DE@calendar=latin'),\nGR('el_GR@calendar=greek'),\nIL('iw_IL@calendar=hebrew'),\nIN('hi_IN@calendar=hindu'),\nIT('it_IT@calendar=Latin'),\nJP('ja_JP_TRADITIONAL@calendar=japanese'),\nNO('nb_NO@calendar=latin'),\nIR('fa_IR@calendar=persian'),\nPL('pl_PL@calendar=latin'),\nPT('pt_PT@calendar=latin'),\nRU('ru_RU@calendar=cyrillic'),\nES('es_ES@calendar=latin'),\nSE('sv_SE@calendar=latin'),\nTH('th_TH_TRADITIONAL@calendar=buddhist'),\nTR('tr_TR@calendar=latin'),\nPK('ur_PK@calendar=pakistan'),\nVN('vi_VN@calendar=latin')\n\n    String value\n\n    LocaleICUCalendarExtensions(String val) {\n        this.value = val\n    }\n    public String getValue(){\n        return value\n    }\n    static LocaleICUCalendarExtensions byValue(String val) {\n        values().find { it.value == val }\n    }\n    public static EnumSet&lt;LocaleICUCalendarExtensions&gt; getArabicSupport() {\n        final EnumSet&lt; LocaleICUCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleICUCalendarExtensions.class )\n        ret_val.add(SA)\n        return ret_val\n    }\n    public static EnumSet&lt;LocaleICUCalendarExtensions&gt; getJapanSupport() {\n        final EnumSet&lt; LocaleICUCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleICUCalendarExtensions.class )\n        ret_val.add(JP)\n        return ret_val\n    }\n\n    public static EnumSet&lt;LocaleICUCalendarExtensions&gt; getChinaSupport() {\n        final EnumSet&lt; LocaleICUCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleICUCalendarExtensions.class )\n        ret_val.add(CN)\n        return ret_val\n    }\n\n    public static EnumSet&lt;LocaleICUCalendarExtensions&gt; getFarsiSupport() {\n        final EnumSet&lt; LocaleICUCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleICUCalendarExtensions.class )\n\n        ret_val.add(IR)\n        return ret_val\n    }\n    public static EnumSet&lt;LocaleICUCalendarExtensions&gt; getUrduSupport() {\n        final EnumSet&lt; LocaleICUCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleICUCalendarExtensions.class )\n        ret_val.add(PK)\n        return ret_val\n    }\n\n    public static EnumSet&lt;LocaleICUCalendarExtensions&gt; getHebrewSupport() {\n        final EnumSet&lt; LocaleICUCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleICUCalendarExtensions.class )\n        ret_val.add(IL)\n        return ret_val\n    }\n    public static EnumSet&lt;LocaleICUCalendarExtensions&gt; getHinduSupport() {\n        final EnumSet&lt; LocaleICUCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleICUCalendarExtensions.class )\n        ret_val.add(IN)\n        return ret_val\n    }\n    public static EnumSet&lt;LocaleICUCalendarExtensions&gt; getThaiSupport() {\n        final EnumSet&lt; LocaleICUCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleICUCalendarExtensions.class )\n        ret_val.add(TH)\n        return ret_val\n    }\n    public static EnumSet&lt;LocaleICUCalendarExtensions&gt; getGreekSupport() {\n        final EnumSet&lt; LocaleICUCalendarExtensions &gt; ret_val = EnumSet.noneOf( LocaleICUCalendarExtensions.class )\n        ret_val.add(GR)\n        return ret_val\n    }\n}\n</code></pre>\n<p>LocaleExtensions enum a bit like LocaleCalendar just has nu rather than ca</p>\n<pre><code>import groovy.transform.CompileStatic\n\n/**\n * Looks complex but will explain\n *\n * ar-SA u = unicode nu = number arab = arabic\n *\n * https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry\n * to get langauge code such as arab = subtag\n *\n * Rest explained here\n * http://stackoverflow.com/questions/43456068/java-locale-builder-setextensionlocale-unicode-locale-extension\n *\n *\n */\n@CompileStatic\nenum LocaleExtensions {\n    SA('ar-SA-u-nu-arab'),\n    AM('hy-AM-u-nu-arevmda'),\n    CN('zh-TW-u-nu-arab'), //'zh-TW-u-nu-hant'\n    CZ('cs-CZ-u-nu-latn'),\n    DK('da-DK-u-nu-latn'),\n    NL('nl-NL-u-nu-latn'),\n    IE('ie-IE-u-nu-latn'),\n    FR('fr-FR-u-nu-latn'),\n    DE('de-DE-u-nu-latn'),\n    GR('el-GR-u-nu-grek'),\n    IL('iw-IL-u-nu-hebr'),\n    IN('hi-IN-u-nu-hindu'),\n    IT('it-IT-u-nu-latn'),\n    JP('ja-JP-u-nu-arab'),\n    NO('nb-NO-u-nu-latn'),\n    IR('fa-IR-u-nu-arab'),\n    PL('pl-PL-u-nu-latn'),\n    PT('pt-PT-u-nu-latn'),\n    RU('ru-RU-u-nu-cyrl'),\n    ES('es-ES-u-nu-latn'),\n    SE('sv-SE-u-nu-latn'),\n    TH('th-TH-u-nu-thai'),\n    TR('tr-TR-u-nu-latn'),\n    PK('ur-PK-u-nu-arab'),\n    VN('vi-VN-u-nu-latn')\n\n    String value\n\n    LocaleExtensions(String val) {\n        this.value = val\n    }\n    public String getValue(){\n        return value\n    }\n    static LocaleExtensions byValue(String val) {\n        values().find { it.value == val }\n    }\n    public static EnumSet&lt;LocaleExtensions&gt; getArabicSupport() {\n        final EnumSet&lt; LocaleExtensions &gt; ret_val = EnumSet.noneOf( LocaleExtensions.class )\n        ret_val.add(SA)\n        //TODO\n        ret_val.add(JP)\n        ret_val.add(CN)\n        return ret_val\n    }\n    public static EnumSet&lt;LocaleExtensions&gt; getFarsiSupport() {\n        final EnumSet&lt; LocaleExtensions &gt; ret_val = EnumSet.noneOf( LocaleExtensions.class )\n        ret_val.add(PK)\n        ret_val.add(IR)\n        return ret_val\n    }\n\n    public static EnumSet&lt;LocaleExtensions&gt; getAsianSupport() {\n        final EnumSet&lt; LocaleExtensions &gt; ret_val = EnumSet.noneOf( LocaleExtensions.class )\n        ret_val.add(JP)\n        ret_val.add(CN)\n        return ret_val\n    }\n    public static EnumSet&lt;LocaleExtensions&gt; getHebrewSupport() {\n        final EnumSet&lt; LocaleExtensions &gt; ret_val = EnumSet.noneOf( LocaleExtensions.class )\n        ret_val.add(IL)\n        return ret_val\n    }\n    public static EnumSet&lt;LocaleExtensions&gt; getHinduSupport() {\n        final EnumSet&lt; LocaleExtensions &gt; ret_val = EnumSet.noneOf( LocaleExtensions.class )\n        ret_val.add(IN)\n        return ret_val\n    }\n    public static EnumSet&lt;LocaleExtensions&gt; getThaiSupport() {\n        final EnumSet&lt; LocaleExtensions &gt; ret_val = EnumSet.noneOf( LocaleExtensions.class )\n        ret_val.add(TH)\n        return ret_val\n    }\n    public static EnumSet&lt;LocaleExtensions&gt; getGreekSupport() {\n        final EnumSet&lt; LocaleExtensions &gt; ret_val = EnumSet.noneOf( LocaleExtensions.class )\n        ret_val.add(GR)\n        return ret_val\n    }\n}\n</code></pre>\n<p>This obviously covers a range of locales and it is working correctly for me in the words of Bernard Manning's bootifuly</p>\n<p>The date had been split into what java supported by default vs icu4j then when understood better all moved over to icu4j I think the numbering system is still using half and half and probably could be switched over to icu4j too.</p>\n<p>Anyhow the answer is a derailed train far off the track by now as in from where it started which was converting number characters and for example from Latin to arabic is tricky to understand work with since given a Latin year of 2016 in arabic the equivalent and correct year lets in Saudi would be something like 1354 or in Thailand I think 2056</p>\n"}],"owner":{"account_id":393656,"reputation":8432,"user_id":755637,"accept_rate":35,"display_name":"V H"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1303,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1654776704,"creation_date":1492449183,"question_id":43456068,"body_markdown":"I have been trying to get Java to convert numbers according to their locales.\r\nCame across [this post][1] which helped in a big way since pre understanding this I had devised own methods to convert numbers to specific locales (as per other confusion discussions about this topic)\r\n\r\nSo assuming I have :\r\n\r\n    Locale arabicLocale = new Locale.Builder().setLanguage(&quot;ar&quot;).setRegion(&quot;SA&quot;)\r\n     .setExtension(Locale.UNICODE_LOCALE_EXTENSION, &quot;nu-arab&quot;).build();\r\n     \r\n    Locale thaiLocale = new Locale.Builder().setLanguage(&quot;th&quot;).setRegion(&quot;TH&quot;)\r\n     .setExtension(Locale.UNICODE_LOCALE_EXTENSION, &quot;nu-thai&quot;).build();\r\n    \r\n    Locale hinduLocale = new Locale.Builder().setLanguage(&quot;hi&quot;).setRegion(&quot;IN&quot;)\r\n     .setExtension(Locale.UNICODE_LOCALE_EXTENSION, &quot;nu-hindu&quot;).build();\r\n    \r\n    DecimalFormatSymbols dfs = DecimalFormatSymbols.getInstance(arabicLocale);\r\n    NumberFormat numberFormat = NumberFormat.getNumberInstance(arabicLocale);\r\n    println&quot; Arabic ${numberFormat.format(123.22)}&quot;\r\n    \r\n    dfs = DecimalFormatSymbols.getInstance(thaiLocale);\r\n    numberFormat = NumberFormat.getNumberInstance(thaiLocale);\r\n    println&quot; Thai ${numberFormat.format(123.22)}&quot;\r\n    \r\n    dfs = DecimalFormatSymbols.getInstance(hinduLocale);\r\n    numberFormat = NumberFormat.getNumberInstance(hinduLocale);\r\n    println&quot; Hindu ${numberFormat.format(123.22)}&quot;\r\n    \r\n\r\nThis produces the following output \r\n\r\n     Arabic \r\n     Thai .\r\n     Hindu .\r\n\r\n\r\nThe purpose of this post was to try to identify how I can look up or get the code itself to point to the right `Locale.UNICODE_LOCALE_EXTENSION` since the th and hindu stuff was just guess work from my end and I am having troubles understanding how I can do the same for Hebrew Chinese Japanese. Although I think Chinese and Japanese possibly use arabic number system I may be wrong on this.\r\n\r\nAnyhow any help / pointers on how I can either auto capture this bit of data or standards as in a page which has all the definitions which i can make an enum out of would be of great help\r\n\r\nI was digging deeper into `LocaleExtensions`\r\n\r\n    static {\r\n            CALENDAR_JAPANESE = new LocaleExtensions(&quot;u-ca-japanese&quot;, Character.valueOf(&#39;u&#39;), UnicodeLocaleExtension.CA_JAPANESE);\r\n            NUMBER_THAI = new LocaleExtensions(&quot;u-nu-thai&quot;, Character.valueOf(&#39;u&#39;), UnicodeLocaleExtension.NU_THAI);\r\n        }\r\n\r\nSo this now makes more sense `nu-language` = number `ca-language` = calendar \r\n\r\nBut when running:\r\n\r\n    Locale japLocale = new Locale.Builder().setLanguage(&quot;ja&quot;).setRegion(&quot;JP&quot;)\r\n                        .setExtension(Locale.UNICODE_LOCALE_EXTENSION, &quot;nu-japanese&quot;).build();\r\n\r\nI get English numbers. \r\n\r\n  [1]: https://stackoverflow.com/questions/29154887/setting-arabic-numbering-system-locale-doesnt-show-arabic-numbers\r\n\r\nAccording to original question, the link \r\nhttps://www.iana.org/assignments/language-subtag-registry/language-subtag-registry \r\n\r\nFor hebrew\r\n\r\n    Type: language\r\n    Subtag: he\r\n    Description: Hebrew\r\n    Added: 2005-10-16\r\n    Suppress-Script: Hebr\r\n\r\nBut when attempting below:\r\n\r\n    Locale hebrewLocale = new Locale.Builder().setLanguage(&quot;he&quot;).setRegion(&quot;IL&quot;)\r\n                        .setExtension(Locale.UNICODE_LOCALE_EXTENSION, &quot;nu-hebr&quot;).build();\r\n\r\n\r\nI get `123.22`\r\n\r\nTo answer my own question you can build an enum from here http://www.oracle.com/technetwork/java/javase/java8locales-2095355.html\r\n\r\n    Greek (el) Greece (GR) (Grek)  el-GR\r\n    Hebrew (iw) Israel (IL) (Hebr) iw-IL\r\n\r\nSo in short  \r\n\r\nfor Greece take last field `el-GR` unicodeEXtension=`-u` number=`-nu` and one from last in lower case `-hebr` giving you `&#39;el-GR-u-nu-grek&#39;` for greece or same for hebrew `&#39;iw-IL-u-n-hebr&#39;`\r\n\r\n     Locale locale = new Locale.Builder().setLanguageTag(&#39;el-GR-u-nu-grek&#39;).build();\r\n\r\nShould print out greek numbers but I see English numbers it works for some countries but not others.\r\n","title":"java Locale.Builder setExtension(Locale.UNICODE_LOCALE_EXTENSION","body":"<p>I have been trying to get Java to convert numbers according to their locales.\nCame across <a href=\"https://stackoverflow.com/questions/29154887/setting-arabic-numbering-system-locale-doesnt-show-arabic-numbers\">this post</a> which helped in a big way since pre understanding this I had devised own methods to convert numbers to specific locales (as per other confusion discussions about this topic)</p>\n\n<p>So assuming I have :</p>\n\n<pre><code>Locale arabicLocale = new Locale.Builder().setLanguage(\"ar\").setRegion(\"SA\")\n .setExtension(Locale.UNICODE_LOCALE_EXTENSION, \"nu-arab\").build();\n\nLocale thaiLocale = new Locale.Builder().setLanguage(\"th\").setRegion(\"TH\")\n .setExtension(Locale.UNICODE_LOCALE_EXTENSION, \"nu-thai\").build();\n\nLocale hinduLocale = new Locale.Builder().setLanguage(\"hi\").setRegion(\"IN\")\n .setExtension(Locale.UNICODE_LOCALE_EXTENSION, \"nu-hindu\").build();\n\nDecimalFormatSymbols dfs = DecimalFormatSymbols.getInstance(arabicLocale);\nNumberFormat numberFormat = NumberFormat.getNumberInstance(arabicLocale);\nprintln\" Arabic ${numberFormat.format(123.22)}\"\n\ndfs = DecimalFormatSymbols.getInstance(thaiLocale);\nnumberFormat = NumberFormat.getNumberInstance(thaiLocale);\nprintln\" Thai ${numberFormat.format(123.22)}\"\n\ndfs = DecimalFormatSymbols.getInstance(hinduLocale);\nnumberFormat = NumberFormat.getNumberInstance(hinduLocale);\nprintln\" Hindu ${numberFormat.format(123.22)}\"\n</code></pre>\n\n<p>This produces the following output </p>\n\n<pre><code> Arabic \n Thai .\n Hindu .\n</code></pre>\n\n<p>The purpose of this post was to try to identify how I can look up or get the code itself to point to the right <code>Locale.UNICODE_LOCALE_EXTENSION</code> since the th and hindu stuff was just guess work from my end and I am having troubles understanding how I can do the same for Hebrew Chinese Japanese. Although I think Chinese and Japanese possibly use arabic number system I may be wrong on this.</p>\n\n<p>Anyhow any help / pointers on how I can either auto capture this bit of data or standards as in a page which has all the definitions which i can make an enum out of would be of great help</p>\n\n<p>I was digging deeper into <code>LocaleExtensions</code></p>\n\n<pre><code>static {\n        CALENDAR_JAPANESE = new LocaleExtensions(\"u-ca-japanese\", Character.valueOf('u'), UnicodeLocaleExtension.CA_JAPANESE);\n        NUMBER_THAI = new LocaleExtensions(\"u-nu-thai\", Character.valueOf('u'), UnicodeLocaleExtension.NU_THAI);\n    }\n</code></pre>\n\n<p>So this now makes more sense <code>nu-language</code> = number <code>ca-language</code> = calendar </p>\n\n<p>But when running:</p>\n\n<pre><code>Locale japLocale = new Locale.Builder().setLanguage(\"ja\").setRegion(\"JP\")\n                    .setExtension(Locale.UNICODE_LOCALE_EXTENSION, \"nu-japanese\").build();\n</code></pre>\n\n<p>I get English numbers. </p>\n\n<p>According to original question, the link \n<a href=\"https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry\" rel=\"nofollow noreferrer\">https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry</a> </p>\n\n<p>For hebrew</p>\n\n<pre><code>Type: language\nSubtag: he\nDescription: Hebrew\nAdded: 2005-10-16\nSuppress-Script: Hebr\n</code></pre>\n\n<p>But when attempting below:</p>\n\n<pre><code>Locale hebrewLocale = new Locale.Builder().setLanguage(\"he\").setRegion(\"IL\")\n                    .setExtension(Locale.UNICODE_LOCALE_EXTENSION, \"nu-hebr\").build();\n</code></pre>\n\n<p>I get <code>123.22</code></p>\n\n<p>To answer my own question you can build an enum from here <a href=\"http://www.oracle.com/technetwork/java/javase/java8locales-2095355.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/java8locales-2095355.html</a></p>\n\n<pre><code>Greek (el) Greece (GR) (Grek)  el-GR\nHebrew (iw) Israel (IL) (Hebr) iw-IL\n</code></pre>\n\n<p>So in short  </p>\n\n<p>for Greece take last field <code>el-GR</code> unicodeEXtension=<code>-u</code> number=<code>-nu</code> and one from last in lower case <code>-hebr</code> giving you <code>'el-GR-u-nu-grek'</code> for greece or same for hebrew <code>'iw-IL-u-n-hebr'</code></p>\n\n<pre><code> Locale locale = new Locale.Builder().setLanguageTag('el-GR-u-nu-grek').build();\n</code></pre>\n\n<p>Should print out greek numbers but I see English numbers it works for some countries but not others.</p>\n"},{"tags":["java","android","android-studio","pdf","retrofit"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1654663100,"post_id":72538428,"comment_id":128141511,"body_markdown":"If your pdf file is on a server then you have to download it in order to view it on your device or to store it on your device.","body":"If your pdf file is on a server then you have to download it in order to view it on your device or to store it on your device."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1654663221,"post_id":72538428,"comment_id":128141540,"body_markdown":"Further it is unclear which app should display the pdf. Your app? In which pdf view component?","body":"Further it is unclear which app should display the pdf. Your app? In which pdf view component?"},{"owner":{"account_id":25501111,"reputation":1,"user_id":19294347,"display_name":"Learner"},"score":0,"creation_date":1654694174,"post_id":72538428,"comment_id":128151896,"body_markdown":"@blackapps ok, i understand that , I need to download the pdf in order to view it. PDF need to be viewed in my app.","body":"@blackapps ok, i understand that , I need to download the pdf in order to view it. PDF need to be viewed in my app."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1654695070,"post_id":72538428,"comment_id":128152275,"body_markdown":"Then why is there still &#39;not download&#39; in your post? Viewed in your app ok. In which component? I asked that before.","body":"Then why is there still &#39;not download&#39; in your post? Viewed in your app ok. In which component? I asked that before."},{"owner":{"account_id":25501111,"reputation":1,"user_id":19294347,"display_name":"Learner"},"score":0,"creation_date":1654801794,"post_id":72538428,"comment_id":128185248,"body_markdown":"Thank you for the comments. Was able to display the pdf (without downloading) using the library : https://github.com/barteksc/AndroidPdfViewer . In this result, could find a method which will convert the retrofit response body to PDF on screen ( pdfView.fromStream(response.body().byteStream()).load(); )","body":"Thank you for the comments. Was able to display the pdf (without downloading) using the library : <a href=\"https://github.com/barteksc/AndroidPdfViewer\" rel=\"nofollow noreferrer\">github.com/barteksc/AndroidPdfViewer</a> . In this result, could find a method which will convert the retrofit response body to PDF on screen ( pdfView.fromStream(response.body().byteStream()).load(); )"}],"answers":[{"tags":[],"owner":{"account_id":1813989,"reputation":285,"user_id":1649482,"display_name":"Hamid-Ghasemi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654776233,"creation_date":1654674747,"answer_id":72541975,"question_id":72538428,"body_markdown":"You can use this library to show PDF files.\r\n\r\nin your case url is a PDF file then you can pass it to this library.\r\n\r\n[Pdf-Viewer Github][1]\r\n\r\n\r\n  [1]: https://github.com/afreakyelf/Pdf-Viewer\r\n\r\nThis library can download and display the URL directly.\r\nThere is no need to use retrofit.\r\n\r\n    PdfViewerActivity.launchPdfFromUrl(       \r\n                context,\r\n                &quot;pdf_url&quot;,        \r\n                enableDownload = false \r\n        )\r\n\r\n\r\n","title":"View/Display PDF from retrofit response body android JAVA","body":"<p>You can use this library to show PDF files.</p>\n<p>in your case url is a PDF file then you can pass it to this library.</p>\n<p><a href=\"https://github.com/afreakyelf/Pdf-Viewer\" rel=\"nofollow noreferrer\">Pdf-Viewer Github</a></p>\n<p>This library can download and display the URL directly.\nThere is no need to use retrofit.</p>\n<pre><code>PdfViewerActivity.launchPdfFromUrl(       \n            context,\n            &quot;pdf_url&quot;,        \n            enableDownload = false \n    )\n</code></pre>\n"}],"owner":{"account_id":25501111,"reputation":1,"user_id":19294347,"display_name":"Learner"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":886,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654776233,"creation_date":1654643709,"question_id":72538428,"body_markdown":"I am new to JAVA, android(JAVA) and retrofit. I am developing a android app that uses a web API to get the pdf and display/view(not download) on the screen. I was able to test the API in postman(POST request with empty body just with [ ]) and response is a pdf ( Content-type: application/pdf).\r\nIn android(JAVA), using retrofit, was able to call the api successfully, but from the response body , I am not able to get the PDF( Because not familiar with using streams(input/output). My purpose is to view the PDF not download.Please suggest. Please find the code:\r\n\r\nWebAPI:\r\n\r\n        public interface WebApiEndPoint {\r\n\r\n    @Headers({&quot;Content-Type: application/pdf&quot;})\r\n    @POST(&quot;MyEndpoint&quot;)\r\n    Call&lt;ResponseBody&gt; downloadFileWithDynamicUrlSync(@Header(&quot;Authorization&quot;) String authToken);\r\n\r\n}\r\n\r\nRetrofit Code:\r\n\r\n\r\n     new Retrofit.Builder()\r\n                        .baseUrl(&quot;http://localhost:5000/api/downlodeFile/&quot;)\r\n                        .addConverterFactory(GsonConverterFactory.create())\r\n                        .addConverterFactory(ScalarsConverterFactory.create())\r\n                        .build()\r\n                        .create(WebApiEndPoint.class)\r\n                        .downloadFileWithDynamicUrlSync(authToken)\r\n                        .enqueue(new Callback&lt;ResponseBody&gt;() {\r\n                            @Override\r\n                            public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {  Toast.makeText(getActivity(),response.message(),Toast.LENGTH_SHORT).show(); //OK outpu\r\n                                Log.i(&quot;PDF&quot;,&quot;Loading PDF&quot;);\r\n                              \r\n      //Not sure what code need to put here in order to retrieve the PDF and display it.                         \r\n                                \r\n                            }\r\n\r\n                            @Override\r\n                            public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\r\n                                Toast.makeText(getActivity(),t.getMessage(),Toast.LENGTH_SHORT).show();\r\n                                Log.i(&quot;PDF&quot;,&quot;Failed to load pdf&quot;);\r\n                            }\r\n                        });\r\n\r\n\r\n","title":"View/Display PDF from retrofit response body android JAVA","body":"<p>I am new to JAVA, android(JAVA) and retrofit. I am developing a android app that uses a web API to get the pdf and display/view(not download) on the screen. I was able to test the API in postman(POST request with empty body just with [ ]) and response is a pdf ( Content-type: application/pdf).\nIn android(JAVA), using retrofit, was able to call the api successfully, but from the response body , I am not able to get the PDF( Because not familiar with using streams(input/output). My purpose is to view the PDF not download.Please suggest. Please find the code:</p>\n<p>WebAPI:</p>\n<pre><code>    public interface WebApiEndPoint {\n\n@Headers({&quot;Content-Type: application/pdf&quot;})\n@POST(&quot;MyEndpoint&quot;)\nCall&lt;ResponseBody&gt; downloadFileWithDynamicUrlSync(@Header(&quot;Authorization&quot;) String authToken);\n</code></pre>\n<p>}</p>\n<p>Retrofit Code:</p>\n<pre><code> new Retrofit.Builder()\n                    .baseUrl(&quot;http://localhost:5000/api/downlodeFile/&quot;)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .addConverterFactory(ScalarsConverterFactory.create())\n                    .build()\n                    .create(WebApiEndPoint.class)\n                    .downloadFileWithDynamicUrlSync(authToken)\n                    .enqueue(new Callback&lt;ResponseBody&gt;() {\n                        @Override\n                        public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {  Toast.makeText(getActivity(),response.message(),Toast.LENGTH_SHORT).show(); //OK outpu\n                            Log.i(&quot;PDF&quot;,&quot;Loading PDF&quot;);\n                          \n  //Not sure what code need to put here in order to retrieve the PDF and display it.                         \n                            \n                        }\n\n                        @Override\n                        public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\n                            Toast.makeText(getActivity(),t.getMessage(),Toast.LENGTH_SHORT).show();\n                            Log.i(&quot;PDF&quot;,&quot;Failed to load pdf&quot;);\n                        }\n                    });\n</code></pre>\n"},{"tags":["java","gatling"],"answers":[{"tags":[],"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654776154,"creation_date":1654776154,"answer_id":72559906,"question_id":72558737,"body_markdown":"Not with the free version.\r\n\r\nThis chart is available in the [Enterprise version][1] though.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://gatling.io/enterprise/\r\n  [2]: https://i.stack.imgur.com/N9c1y.png","title":"Is there a way to distinguish between 2XX and 304 responses in Gatling and show it in the report?","body":"<p>Not with the free version.</p>\n<p>This chart is available in the <a href=\"https://gatling.io/enterprise/\" rel=\"nofollow noreferrer\">Enterprise version</a> though.</p>\n<p><a href=\"https://i.stack.imgur.com/N9c1y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N9c1y.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5190004,"reputation":667,"user_id":4153207,"accept_rate":100,"display_name":"Felix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72559906,"answer_count":1,"score":0,"last_activity_date":1654776154,"creation_date":1654770456,"question_id":72558737,"body_markdown":"Is there a way to distinguish between 2XX and 304 responses in Gatling and show it in the report?\r\n\r\nI added this to my http request following the [documentation][1], but I don&#39;t see a difference running it with our without it. \r\n \r\n    .check(\r\n      status().saveAs(&quot;status&quot;)\r\n    )\r\n\r\n\r\n  [1]: https://gatling.io/docs/gatling/reference/current/http/check/","title":"Is there a way to distinguish between 2XX and 304 responses in Gatling and show it in the report?","body":"<p>Is there a way to distinguish between 2XX and 304 responses in Gatling and show it in the report?</p>\n<p>I added this to my http request following the <a href=\"https://gatling.io/docs/gatling/reference/current/http/check/\" rel=\"nofollow noreferrer\">documentation</a>, but I don't see a difference running it with our without it.</p>\n<pre><code>.check(\n  status().saveAs(&quot;status&quot;)\n)\n</code></pre>\n"},{"tags":["java","spring","jaxb"],"answers":[{"tags":[],"owner":{"account_id":5668327,"reputation":8372,"user_id":4483840,"accept_rate":75,"display_name":"Zielu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1470590194,"creation_date":1429014438,"answer_id":29627321,"question_id":29622877,"body_markdown":"Namesapce awareness is feature of the document reader/builder/parser not marshallers. XML elements from different namespaces represents different entities == objects, so marshallers cannot ignore them.  \r\n\r\nYou correctly switched off the namespaces in your SAX reader and as you said it worked. I don&#39;t understand your problem with it, your marshaller still can be injected, the difference is in obtaining the input data.\r\n\r\nThe same trick with document builder should also work (I will test it later on), I suspect that you were still using the marshaller with &quot;hardcoded&quot; namespace but your document was namespace free. \r\n\r\nIn my project I use XSLT to solve similar issue. Setting namespace awarness is definitely easier solution. But, with XSLT I could selectviely remove only some namespaces and also my my input xml are not always identical (ignoring namespaces) and sometimes I have to rename few elements so XSLT gives me this extra flexibility.\r\n\r\nTo remove namespaces you can use such xslt template:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:e=&quot;http://timet.dom.robust.ed&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    &lt;xsl:template match=&quot;/&quot;&gt; \r\n    \t&lt;xsl:copy&gt;\r\n    \t\t&lt;xsl:apply-templates /&gt;\r\n    \t&lt;/xsl:copy&gt;\r\n    &lt;/xsl:template&gt;  \r\n    \r\n    &lt;xsl:template match=&quot;*&quot;&gt;\r\n    \t&lt;xsl:element name=&quot;{local-name()}&quot;&gt;\r\n    \t\t&lt;xsl:apply-templates select=&quot;@* | node()&quot; /&gt;\r\n    \t&lt;/xsl:element&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;xsl:template match=&quot;@*&quot;&gt;\r\n    \t&lt;xsl:attribute name=&quot;{local-name()}&quot;&gt;\r\n    \t\t&lt;xsl:value-of select=&quot;.&quot;/&gt;\r\n    \t&lt;/xsl:attribute&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;xsl:template match=&quot;text() | processing-instruction() | comment()&quot;&gt;\r\n    \t&lt;xsl:copy /&gt;\r\n    &lt;/xsl:template&gt;\r\n    &lt;/xsl:stylesheet&gt;\r\n\r\nThen in Java before unmarshalling I transform the input data:\r\n\r\n    Transformer transformer = TransformerFactory.newInstance().newTransformer(stylesource);\r\n    Source source = new DOMSource(xml);\r\n    DOMResult result = new DOMResult();\r\n    transformer.transform(source, result);\r\n\r\n","title":"Jaxb ignore the namespace on unmarshalling","body":"<p>Namesapce awareness is feature of the document reader/builder/parser not marshallers. XML elements from different namespaces represents different entities == objects, so marshallers cannot ignore them.  </p>\n\n<p>You correctly switched off the namespaces in your SAX reader and as you said it worked. I don't understand your problem with it, your marshaller still can be injected, the difference is in obtaining the input data.</p>\n\n<p>The same trick with document builder should also work (I will test it later on), I suspect that you were still using the marshaller with \"hardcoded\" namespace but your document was namespace free. </p>\n\n<p>In my project I use XSLT to solve similar issue. Setting namespace awarness is definitely easier solution. But, with XSLT I could selectviely remove only some namespaces and also my my input xml are not always identical (ignoring namespaces) and sometimes I have to rename few elements so XSLT gives me this extra flexibility.</p>\n\n<p>To remove namespaces you can use such xslt template:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xsl:stylesheet version=\"1.0\" xmlns:e=\"http://timet.dom.robust.ed\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n&lt;xsl:template match=\"/\"&gt; \n    &lt;xsl:copy&gt;\n        &lt;xsl:apply-templates /&gt;\n    &lt;/xsl:copy&gt;\n&lt;/xsl:template&gt;  \n\n&lt;xsl:template match=\"*\"&gt;\n    &lt;xsl:element name=\"{local-name()}\"&gt;\n        &lt;xsl:apply-templates select=\"@* | node()\" /&gt;\n    &lt;/xsl:element&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:template match=\"@*\"&gt;\n    &lt;xsl:attribute name=\"{local-name()}\"&gt;\n        &lt;xsl:value-of select=\".\"/&gt;\n    &lt;/xsl:attribute&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:template match=\"text() | processing-instruction() | comment()\"&gt;\n    &lt;xsl:copy /&gt;\n&lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n\n<p>Then in Java before unmarshalling I transform the input data:</p>\n\n<pre><code>Transformer transformer = TransformerFactory.newInstance().newTransformer(stylesource);\nSource source = new DOMSource(xml);\nDOMResult result = new DOMResult();\ntransformer.transform(source, result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7644593,"reputation":49,"user_id":5795680,"display_name":"Binal Parekh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566026849,"creation_date":1555918338,"answer_id":55790773,"question_id":29622877,"body_markdown":"Thank you all, here shared my solution which works for my code , i try to make it generic every namespace contain &quot;: &quot; i write code if any tag have &quot;:&quot; it will remove from xml , This is used to skip namespace during unmarshalling using jaxb.\r\n\r\n    public class NamespaceFilter {\r\n\r\n\tprivate NamespaceFilter() {\r\n\r\n\t}\r\n\r\n\tprivate static final String COLON = &quot;:&quot;;\r\n\r\n\tpublic static XMLReader nameSpaceFilter() throws SAXException {\r\n\t\tXMLReader xr = new XMLFilterImpl(XMLReaderFactory.createXMLReader()) {\r\n\t\t\tprivate boolean skipNamespace;\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void startElement(String uri, String localName, String qName, Attributes atts) throws SAXException {\r\n\t\t\t\tif (qName.indexOf(COLON) &gt; -1) {\r\n\t\t\t\t\tskipNamespace = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tskipNamespace = false;\r\n\t\t\t\t\tsuper.startElement(&quot;&quot;, localName, qName, atts);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void endElement(String uri, String localName, String qName) throws SAXException {\r\n\t\t\t\tif (qName.indexOf(COLON) &gt; -1) {\r\n\t\t\t\t\tskipNamespace = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tskipNamespace = false;\r\n\t\t\t\t\tsuper.endElement(&quot;&quot;, localName, qName);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void characters(char[] ch, int start, int length) throws SAXException {\r\n\t\t\t\tif (!skipNamespace) {\r\n\t\t\t\t\tsuper.characters(ch, start, length);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn xr;\r\n\t}\r\n\r\n}\r\n\r\n\r\nfor unmarshalling \r\n\r\n    XMLReader xr = NamespaceFilter.nameSpaceFilter();\r\n\tSource src = new SAXSource(xr, new InputSource(&quot;C:\\\\Users\\\\binal\\\\Desktop\\\\response.xml&quot;));\r\n\tStringWriter sw = new StringWriter();\r\n\tResult res = new StreamResult(sw);\r\n\tTransformerFactory.newInstance().newTransformer().transform(src, res);\r\n\tJAXBContext jc = JAXBContext.newInstance(Tab.class);\r\n\tUnmarshaller u = jc.createUnmarshaller();\r\n\tString done = sw.getBuffer().toString();\r\n\tStringReader reader = new StringReader(done);\r\n\tTab tab = (Tab) u.unmarshal(reader);\r\n\r\n\tSystem.out.println(tab);\r\n\r\n`\r\n\r\n","title":"Jaxb ignore the namespace on unmarshalling","body":"<p>Thank you all, here shared my solution which works for my code , i try to make it generic every namespace contain \": \" i write code if any tag have \":\" it will remove from xml , This is used to skip namespace during unmarshalling using jaxb.</p>\n\n<pre><code>public class NamespaceFilter {\n\nprivate NamespaceFilter() {\n\n}\n\nprivate static final String COLON = \":\";\n\npublic static XMLReader nameSpaceFilter() throws SAXException {\n    XMLReader xr = new XMLFilterImpl(XMLReaderFactory.createXMLReader()) {\n        private boolean skipNamespace;\n\n        @Override\n        public void startElement(String uri, String localName, String qName, Attributes atts) throws SAXException {\n            if (qName.indexOf(COLON) &gt; -1) {\n                skipNamespace = true;\n            } else {\n                skipNamespace = false;\n                super.startElement(\"\", localName, qName, atts);\n            }\n        }\n\n        @Override\n        public void endElement(String uri, String localName, String qName) throws SAXException {\n            if (qName.indexOf(COLON) &gt; -1) {\n                skipNamespace = true;\n            } else {\n                skipNamespace = false;\n                super.endElement(\"\", localName, qName);\n            }\n        }\n\n        @Override\n        public void characters(char[] ch, int start, int length) throws SAXException {\n            if (!skipNamespace) {\n                super.characters(ch, start, length);\n            }\n        }\n    };\n    return xr;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>for unmarshalling </p>\n\n<pre><code>XMLReader xr = NamespaceFilter.nameSpaceFilter();\nSource src = new SAXSource(xr, new InputSource(\"C:\\\\Users\\\\binal\\\\Desktop\\\\response.xml\"));\nStringWriter sw = new StringWriter();\nResult res = new StreamResult(sw);\nTransformerFactory.newInstance().newTransformer().transform(src, res);\nJAXBContext jc = JAXBContext.newInstance(Tab.class);\nUnmarshaller u = jc.createUnmarshaller();\nString done = sw.getBuffer().toString();\nStringReader reader = new StringReader(done);\nTab tab = (Tab) u.unmarshal(reader);\n\nSystem.out.println(tab);\n</code></pre>\n\n<p>`</p>\n"},{"tags":[],"owner":{"account_id":3038056,"reputation":329,"user_id":2575676,"display_name":"DeepaGanesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650436177,"creation_date":1650436177,"answer_id":71935085,"question_id":29622877,"body_markdown":"I&#39;ve followed Java docs to handle namespace in xml while unmarshalling, it did the trick.\r\n\r\n       JAXBContext jc = JAXBContext.newInstance( &quot;com.acme.foo&quot; );\r\n       Unmarshaller u = jc.createUnmarshaller();\r\n\r\n       DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n       dbf.setNamespaceAware(false);\r\n       DocumentBuilder db = dbf.newDocumentBuilder();\r\n       Document doc = db.parse(new File( &quot;nosferatu.xml&quot;));\r\n       //If just a string\r\n       //InputSource is = new InputSource(new StringReader(line));\r\n       //Document doc = db.parse(is)\r\n       Object o = u.unmarshal( doc );\r\n\r\nUsed Java API JAXB Context and Unmarshal features.\r\nhttps://docs.oracle.com/javase/8/docs/api/javax/xml/bind/Unmarshaller.html","title":"Jaxb ignore the namespace on unmarshalling","body":"<p>I've followed Java docs to handle namespace in xml while unmarshalling, it did the trick.</p>\n<pre><code>   JAXBContext jc = JAXBContext.newInstance( &quot;com.acme.foo&quot; );\n   Unmarshaller u = jc.createUnmarshaller();\n\n   DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n   dbf.setNamespaceAware(false);\n   DocumentBuilder db = dbf.newDocumentBuilder();\n   Document doc = db.parse(new File( &quot;nosferatu.xml&quot;));\n   //If just a string\n   //InputSource is = new InputSource(new StringReader(line));\n   //Document doc = db.parse(is)\n   Object o = u.unmarshal( doc );\n</code></pre>\n<p>Used Java API JAXB Context and Unmarshal features.\n<a href=\"https://docs.oracle.com/javase/8/docs/api/javax/xml/bind/Unmarshaller.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/javax/xml/bind/Unmarshaller.html</a></p>\n"}],"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18563,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":29627321,"answer_count":3,"score":12,"last_activity_date":1654775881,"creation_date":1429001052,"question_id":29622877,"body_markdown":"I use Jaxb2 and Spring. I am trying to unmarshal some XML that are sent by 2 of my customers. \r\n\r\nUp to now, I only had to handle one customer which sent some xml like this : \r\n\r\n    &lt;foo xmlns=&quot;com.acme&quot;&gt;\r\n      &lt;bar&gt;[...]&lt;/bar&gt;\r\n    &lt;foo&gt;\r\n\r\nthat is bound to a POJO like this : \r\n\r\n    @XmlType(name = &quot;&quot;, propOrder = {&quot;bar&quot;})\r\n    @XmlRootElement(name = &quot;Foo&quot;)\r\n    public class Foo {\r\n  \r\n      @XmlElement(name = &quot;Bar&quot;)\r\n      private String bar;\r\n\r\n      [...]\r\n    }\r\n\r\nI discovered that the previous developer hardcoded the namespace in the unmarshaller in order to make it work.\r\n\r\nNow, the second customer sends the same XML but changes the namespace!\r\n\r\n    &lt;foo xmlns=&quot;com.xyz&quot;&gt;\r\n      &lt;bar&gt;[...]&lt;/bar&gt;\r\n    &lt;foo&gt;\r\n\r\nObviously, the unmarshaller fails to unmarshall because it expects some `{com.acme}foo` instead of `{com.xyz}foo`. Unforunately, asking the customer to change the XML is not an option.\r\n\r\n**What I tried :** \r\n\r\n**1)** In `application-context.xml`, I searched for a configuration which would allow me to ignore the namespace but could not find one : \r\n\r\n    &lt;bean id=&quot;marshaller&quot; class=&quot;org.springframework.oxm.jaxb.Jaxb2Marshaller&quot;&gt;\r\n      &lt;property name=&quot;packagesToScan&quot;&gt;\r\n        &lt;list&gt;\r\n          &lt;value&gt;com.mycompany.mypkg&lt;/value&gt;\r\n        &lt;/list&gt;\r\n      &lt;/property&gt;\r\n      &lt;property name=&quot;marshallerProperties&quot;&gt;\r\n        &lt;map&gt;\r\n          &lt;entry key=&quot;???&quot;&gt;&lt;value type=&quot;java.lang.Boolean&quot;&gt;false&lt;/value&gt;&lt;/entry&gt;\r\n        &lt;/map&gt;\r\n      &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nit seems that the only available options are the ones listed in the Jaxb2Marshaller&#39;s Javadoc : \r\n\r\n\t/**\r\n\t * Set the JAXB {@code Marshaller} properties. These properties will be set on the\r\n\t * underlying JAXB {@code Marshaller}, and allow for features such as indentation.\r\n\t * @param properties the properties\r\n\t * @see javax.xml.bind.Marshaller#setProperty(String, Object)\r\n\t * @see javax.xml.bind.Marshaller#JAXB_ENCODING\r\n\t * @see javax.xml.bind.Marshaller#JAXB_FORMATTED_OUTPUT\r\n\t * @see javax.xml.bind.Marshaller#JAXB_NO_NAMESPACE_SCHEMA_LOCATION\r\n\t * @see javax.xml.bind.Marshaller#JAXB_SCHEMA_LOCATION\r\n\t */\r\n\tpublic void setMarshallerProperties(Map&lt;String, ?&gt; properties) {\r\n\t\tthis.marshallerProperties = properties;\r\n\t}\r\n\r\n**2)** I also tried to configure the unmarshaller in the code : \r\n\r\n    try {\r\n      jc = JAXBContext.newInstance(&quot;com.mycompany.mypkg&quot;);\r\n\r\n      Unmarshaller u = jc.createUnmarshaller();\r\n      DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n      dbf.setNamespaceAware(false);//Tried this option.\r\n\r\n      DocumentBuilder db = dbf.newDocumentBuilder();\r\n      Document doc = db.parse(xmlFile.toFile());\r\n      u.unmarshal(new DOMSource(doc));\r\n      return (Foo)u.unmarshal(new StreamSource(xmlFile.toFile()));\r\n    } catch (ParserConfigurationException | SAXException | IOException | JAXBException e) {\r\n      LOGGER.error(&quot;Erreur Unmarshalling CPL&quot;);\r\n    }\r\n\r\n**3)** Different form with a SAXParser : \r\n\r\n    try {\r\n      jc = JAXBContext.newInstance(&quot;com.mycompany.mypkg&quot;);\r\n      Unmarshaller um = jc.createUnmarshaller();\r\n      final SAXParserFactory sax = SAXParserFactory.newInstance();\r\n      sax.setNamespaceAware(false);\r\n      final XMLReader reader = sax.newSAXParser().getXMLReader();\r\n      final Source er = new SAXSource(reader, new InputSource(new FileReader(xmlFile.toFile())));\r\n      return (Foo)um.unmarshal(er);\r\n    }catch(...) {[...]}\r\n\r\n**This one works!** But still, I would prefer to be able to autowire the Unmarshaller without needing this ugly conf everytime.\r\n\r\n","title":"Jaxb ignore the namespace on unmarshalling","body":"<p>I use Jaxb2 and Spring. I am trying to unmarshal some XML that are sent by 2 of my customers. </p>\n\n<p>Up to now, I only had to handle one customer which sent some xml like this : </p>\n\n<pre><code>&lt;foo xmlns=\"com.acme\"&gt;\n  &lt;bar&gt;[...]&lt;/bar&gt;\n&lt;foo&gt;\n</code></pre>\n\n<p>that is bound to a POJO like this : </p>\n\n<pre><code>@XmlType(name = \"\", propOrder = {\"bar\"})\n@XmlRootElement(name = \"Foo\")\npublic class Foo {\n\n  @XmlElement(name = \"Bar\")\n  private String bar;\n\n  [...]\n}\n</code></pre>\n\n<p>I discovered that the previous developer hardcoded the namespace in the unmarshaller in order to make it work.</p>\n\n<p>Now, the second customer sends the same XML but changes the namespace!</p>\n\n<pre><code>&lt;foo xmlns=\"com.xyz\"&gt;\n  &lt;bar&gt;[...]&lt;/bar&gt;\n&lt;foo&gt;\n</code></pre>\n\n<p>Obviously, the unmarshaller fails to unmarshall because it expects some <code>{com.acme}foo</code> instead of <code>{com.xyz}foo</code>. Unforunately, asking the customer to change the XML is not an option.</p>\n\n<p><strong>What I tried :</strong> </p>\n\n<p><strong>1)</strong> In <code>application-context.xml</code>, I searched for a configuration which would allow me to ignore the namespace but could not find one : </p>\n\n<pre><code>&lt;bean id=\"marshaller\" class=\"org.springframework.oxm.jaxb.Jaxb2Marshaller\"&gt;\n  &lt;property name=\"packagesToScan\"&gt;\n    &lt;list&gt;\n      &lt;value&gt;com.mycompany.mypkg&lt;/value&gt;\n    &lt;/list&gt;\n  &lt;/property&gt;\n  &lt;property name=\"marshallerProperties\"&gt;\n    &lt;map&gt;\n      &lt;entry key=\"???\"&gt;&lt;value type=\"java.lang.Boolean\"&gt;false&lt;/value&gt;&lt;/entry&gt;\n    &lt;/map&gt;\n  &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>it seems that the only available options are the ones listed in the Jaxb2Marshaller's Javadoc : </p>\n\n<pre><code>/**\n * Set the JAXB {@code Marshaller} properties. These properties will be set on the\n * underlying JAXB {@code Marshaller}, and allow for features such as indentation.\n * @param properties the properties\n * @see javax.xml.bind.Marshaller#setProperty(String, Object)\n * @see javax.xml.bind.Marshaller#JAXB_ENCODING\n * @see javax.xml.bind.Marshaller#JAXB_FORMATTED_OUTPUT\n * @see javax.xml.bind.Marshaller#JAXB_NO_NAMESPACE_SCHEMA_LOCATION\n * @see javax.xml.bind.Marshaller#JAXB_SCHEMA_LOCATION\n */\npublic void setMarshallerProperties(Map&lt;String, ?&gt; properties) {\n    this.marshallerProperties = properties;\n}\n</code></pre>\n\n<p><strong>2)</strong> I also tried to configure the unmarshaller in the code : </p>\n\n<pre><code>try {\n  jc = JAXBContext.newInstance(\"com.mycompany.mypkg\");\n\n  Unmarshaller u = jc.createUnmarshaller();\n  DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n  dbf.setNamespaceAware(false);//Tried this option.\n\n  DocumentBuilder db = dbf.newDocumentBuilder();\n  Document doc = db.parse(xmlFile.toFile());\n  u.unmarshal(new DOMSource(doc));\n  return (Foo)u.unmarshal(new StreamSource(xmlFile.toFile()));\n} catch (ParserConfigurationException | SAXException | IOException | JAXBException e) {\n  LOGGER.error(\"Erreur Unmarshalling CPL\");\n}\n</code></pre>\n\n<p><strong>3)</strong> Different form with a SAXParser : </p>\n\n<pre><code>try {\n  jc = JAXBContext.newInstance(\"com.mycompany.mypkg\");\n  Unmarshaller um = jc.createUnmarshaller();\n  final SAXParserFactory sax = SAXParserFactory.newInstance();\n  sax.setNamespaceAware(false);\n  final XMLReader reader = sax.newSAXParser().getXMLReader();\n  final Source er = new SAXSource(reader, new InputSource(new FileReader(xmlFile.toFile())));\n  return (Foo)um.unmarshal(er);\n}catch(...) {[...]}\n</code></pre>\n\n<p><strong>This one works!</strong> But still, I would prefer to be able to autowire the Unmarshaller without needing this ugly conf everytime.</p>\n"},{"tags":["java","assertj"],"answers":[{"tags":[],"owner":{"account_id":1407336,"reputation":6523,"user_id":1348834,"display_name":"Joel Costigliola"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1526984398,"creation_date":1526984398,"answer_id":50465261,"question_id":50461109,"body_markdown":"[`extracting`][1] for `Object` assertion extracts the object under test (here `asia`) properties resulting in a `List` of extracted property values. Your code results in extracting only one property so the result is a list of one value, it turns out that the value is also a list, after `extracting` you end up having is a `List` of one element being `asia.countries`.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/AbstractObjectAssert.html#extracting-java.util.function.Function...-","title":"AssertJ: Retrieving First Items From Extracting List Returns List Instead","body":"<p><a href=\"http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/AbstractObjectAssert.html#extracting-java.util.function.Function...-\" rel=\"nofollow noreferrer\"><code>extracting</code></a> for <code>Object</code> assertion extracts the object under test (here <code>asia</code>) properties resulting in a <code>List</code> of extracted property values. Your code results in extracting only one property so the result is a list of one value, it turns out that the value is also a list, after <code>extracting</code> you end up having is a <code>List</code> of one element being <code>asia.countries</code>.</p>\n"},{"tags":[],"owner":{"account_id":3251293,"reputation":2956,"user_id":2741462,"accept_rate":75,"display_name":"Bhuwan Prasad Upadhyay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604807987,"creation_date":1604807987,"answer_id":64734671,"question_id":50461109,"body_markdown":"You can assert using the `contains` and `extracting` method of API.\r\n\r\nFor Example:\r\n\r\n\r\n    @Test\r\n    public void oneDateShouldNotAfterAnotherDate() {\r\n        \r\n        Set&lt;String&gt; errors = ...;\r\n\r\n        Assertions\r\n                .assertThat(errors)\r\n                .isNotEmpty()   \r\n                .contains(&quot;OneDate_ShouldNot_After_AnotherDate&quot;);\r\n        \r\n        /*\r\n            If you need assert specific field of object. Then:\r\n         */\r\n        Set&lt;Error&gt; errors = ...;\r\n\r\n        Assertions\r\n                .assertThat(errors)\r\n                .isNotEmpty()\r\n                .extracting(&quot;message&quot;)\r\n                .contains(&quot;OneDate_ShouldNot_After_AnotherDate&quot;);\r\n    }","title":"AssertJ: Retrieving First Items From Extracting List Returns List Instead","body":"<p>You can assert using the <code>contains</code> and <code>extracting</code> method of API.</p>\n<p>For Example:</p>\n<pre><code>@Test\npublic void oneDateShouldNotAfterAnotherDate() {\n    \n    Set&lt;String&gt; errors = ...;\n\n    Assertions\n            .assertThat(errors)\n            .isNotEmpty()   \n            .contains(&quot;OneDate_ShouldNot_After_AnotherDate&quot;);\n    \n    /*\n        If you need assert specific field of object. Then:\n     */\n    Set&lt;Error&gt; errors = ...;\n\n    Assertions\n            .assertThat(errors)\n            .isNotEmpty()\n            .extracting(&quot;message&quot;)\n            .contains(&quot;OneDate_ShouldNot_After_AnotherDate&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":255184,"reputation":7191,"user_id":535060,"accept_rate":94,"display_name":"Somaiah Kumbera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646006832,"creation_date":1646006832,"answer_id":71289432,"question_id":50461109,"body_markdown":"A few years late to the party but \r\n\r\n    .flatExtracting(&quot;countries&quot;)\r\n\r\nshould probably work for you","title":"AssertJ: Retrieving First Items From Extracting List Returns List Instead","body":"<p>A few years late to the party but</p>\n<pre><code>.flatExtracting(&quot;countries&quot;)\n</code></pre>\n<p>should probably work for you</p>\n"},{"tags":[],"owner":{"account_id":1257758,"reputation":1666,"user_id":1216859,"accept_rate":71,"display_name":"Saeid Nourian"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1654775557,"creation_date":1654775557,"answer_id":72559788,"question_id":50461109,"body_markdown":"Looks like they fixed the problem because the following works now:\r\n\r\n    assertThat(asia)\r\n      .extracting(Region::getCountries)\r\n      .asList()\r\n      .first()","title":"AssertJ: Retrieving First Items From Extracting List Returns List Instead","body":"<p>Looks like they fixed the problem because the following works now:</p>\n<pre><code>assertThat(asia)\n  .extracting(Region::getCountries)\n  .asList()\n  .first()\n</code></pre>\n"}],"owner":{"account_id":1627760,"reputation":266,"user_id":1502902,"accept_rate":86,"display_name":"Rashidi Zin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50465261,"answer_count":4,"score":1,"last_activity_date":1654775557,"creation_date":1526970330,"question_id":50461109,"body_markdown":"I&#39;m trying to verify first item in an extracted List. However AssertJ returns a `List` instead of expected object from `.first()`.\r\n\r\nGiven the following sample\r\n\r\n    public class AssertJTests\r\n    {\r\n        @Test\r\n        @DisplayName(&quot;Region Asia should only have one Country, Malaysia&quot;)\r\n        public void assertRegion()\r\n        {\r\n            Region asia = new Region()\r\n                .setName(&quot;Asia&quot;)\r\n                .setCountries(Lists.newArrayList(&quot;Malaysia&quot;));\r\n\r\n            Consumer&lt;Region&gt; regionRequirement = region -&gt;\r\n                assertThat(region)\r\n                    .extracting(Region::getName)\r\n                    .containsOnly(&quot;Asia&quot;);\r\n\r\n            Consumer&lt;String&gt; countryRequirement = country -&gt;\r\n                assertThat(country)\r\n                    .isEqualToIgnoringCase(&quot;Malaysia&quot;);\r\n\r\n            assertThat(asia)\r\n                .isInstanceOfSatisfying(Region.class, regionRequirement)\r\n                .extracting(Region::getCountries)\r\n                .hasSize(1)\r\n                .first()\r\n                .isInstanceOfSatisfying(String.class, countryRequirement);\r\n    }\r\n\r\n        protected static class Region\r\n        {\r\n            private String name;\r\n\r\n            private List&lt;String&gt; countries;\r\n\r\n            List&lt;String&gt; getCountries()\r\n            {\r\n                return countries;\r\n            }\r\n\r\n            Region setCountries(final List&lt;String&gt; pCountries)\r\n            {\r\n                countries = pCountries;\r\n                return this;\r\n             }\r\n\r\n             String getName()\r\n             {\r\n                return name;\r\n             }\r\n\r\n             Region setName(final String pName)\r\n             {\r\n                 name = pName;\r\n                 return this;\r\n              }\r\n        }\r\n    }\r\n\r\nI&#39;m expecting `.first()` to return `String` but instead it returned `List&lt;String&gt;`. The following error appeared:\r\n\r\n&lt;blockquote&gt;java.lang.AssertionError: [List check first element] \r\nExpecting:\r\n  &amp;lt;[&quot;Malaysia&quot;]&amp;gt;\r\nto be an instance of:\r\n  &amp;lt;java.lang.String&amp;gt;\r\nbut was instance of:\r\n  &amp;lt;java.util.ArrayList&amp;gt;\r\n&lt;/blockquote&gt;","title":"AssertJ: Retrieving First Items From Extracting List Returns List Instead","body":"<p>I'm trying to verify first item in an extracted List. However AssertJ returns a <code>List</code> instead of expected object from <code>.first()</code>.</p>\n\n<p>Given the following sample</p>\n\n<pre><code>public class AssertJTests\n{\n    @Test\n    @DisplayName(\"Region Asia should only have one Country, Malaysia\")\n    public void assertRegion()\n    {\n        Region asia = new Region()\n            .setName(\"Asia\")\n            .setCountries(Lists.newArrayList(\"Malaysia\"));\n\n        Consumer&lt;Region&gt; regionRequirement = region -&gt;\n            assertThat(region)\n                .extracting(Region::getName)\n                .containsOnly(\"Asia\");\n\n        Consumer&lt;String&gt; countryRequirement = country -&gt;\n            assertThat(country)\n                .isEqualToIgnoringCase(\"Malaysia\");\n\n        assertThat(asia)\n            .isInstanceOfSatisfying(Region.class, regionRequirement)\n            .extracting(Region::getCountries)\n            .hasSize(1)\n            .first()\n            .isInstanceOfSatisfying(String.class, countryRequirement);\n}\n\n    protected static class Region\n    {\n        private String name;\n\n        private List&lt;String&gt; countries;\n\n        List&lt;String&gt; getCountries()\n        {\n            return countries;\n        }\n\n        Region setCountries(final List&lt;String&gt; pCountries)\n        {\n            countries = pCountries;\n            return this;\n         }\n\n         String getName()\n         {\n            return name;\n         }\n\n         Region setName(final String pName)\n         {\n             name = pName;\n             return this;\n          }\n    }\n}\n</code></pre>\n\n<p>I'm expecting <code>.first()</code> to return <code>String</code> but instead it returned <code>List&lt;String&gt;</code>. The following error appeared:</p>\n\n<blockquote>java.lang.AssertionError: [List check first element] \nExpecting:\n  &lt;[\"Malaysia\"]&gt;\nto be an instance of:\n  &lt;java.lang.String&gt;\nbut was instance of:\n  &lt;java.util.ArrayList&gt;\n</blockquote>\n"},{"tags":["java","heroku"],"comments":[{"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"score":0,"creation_date":1654775420,"post_id":72559680,"comment_id":128175244,"body_markdown":"Have you tried to push the project with heroku cli instead of git?","body":"Have you tried to push the project with heroku cli instead of git?"},{"owner":{"account_id":18969022,"reputation":70,"user_id":13842927,"display_name":"Sanady_"},"score":0,"creation_date":1654775472,"post_id":72559680,"comment_id":128175259,"body_markdown":"Well I haven&#39;t, but I&#39;ll try","body":"Well I haven&#39;t, but I&#39;ll try"},{"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"score":0,"creation_date":1654775596,"post_id":72559680,"comment_id":128175307,"body_markdown":"And does it use the same jdk that is in your spring project? I had an issue alike before, where my jdk was 17 and heroku&#39;s installed 1.8","body":"And does it use the same jdk that is in your spring project? I had an issue alike before, where my jdk was 17 and heroku&#39;s installed 1.8"},{"owner":{"account_id":18969022,"reputation":70,"user_id":13842927,"display_name":"Sanady_"},"score":0,"creation_date":1654775825,"post_id":72559680,"comment_id":128175384,"body_markdown":"My JDK is 11 so that is issue like you said :) how could I change JDK?","body":"My JDK is 11 so that is issue like you said :) how could I change JDK?"},{"owner":{"account_id":18969022,"reputation":70,"user_id":13842927,"display_name":"Sanady_"},"score":0,"creation_date":1654776648,"post_id":72559680,"comment_id":128175678,"body_markdown":"I have changed JDK but still same issue and tried to pushed with CLI","body":"I have changed JDK but still same issue and tried to pushed with CLI"},{"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"score":0,"creation_date":1654847599,"post_id":72559680,"comment_id":128194312,"body_markdown":"Have you solved the issue? There might be many reasons of failed push. Do you have more than one pom in your project? Is it working fine on the local? And you can specify jdk in [heroku](https://devcenter.heroku.com/changelog-items/1489#:~:text=After%20your%20next%20deployment%2C%20Heroku,Java%20in%20the%20Dev%20Center.)","body":"Have you solved the issue? There might be many reasons of failed push. Do you have more than one pom in your project? Is it working fine on the local? And you can specify jdk in <a href=\"https://devcenter.heroku.com/changelog-items/1489#:~:text=After%20your%20next%20deployment%2C%20Heroku,Java%20in%20the%20Dev%20Center.\" rel=\"nofollow noreferrer\">heroku</a>"},{"owner":{"account_id":18969022,"reputation":70,"user_id":13842927,"display_name":"Sanady_"},"score":0,"creation_date":1655453716,"post_id":72559680,"comment_id":128340871,"body_markdown":"I did, just created new project with different name and everything worked.","body":"I did, just created new project with different name and everything worked."}],"owner":{"account_id":18969022,"reputation":70,"user_id":13842927,"display_name":"Sanady_"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654775042,"creation_date":1654775042,"question_id":72559680,"body_markdown":"I have some strange error when deploying my spring boot application to Heroku. Here is an error:\r\n```\r\n-----&gt; Building on the Heroku-20 stack\r\n-----&gt; Using buildpack: heroku/java\r\n-----&gt; Java app detected\r\n-----&gt; Installing OpenJDK 1.8... done\r\n-----&gt; Executing Maven\r\n       $ ./mvnw -pl backend clean package\r\n       [INFO] Scanning for projects...\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.5.6/spring-boot-starter-parent-2.5.6.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.5.6/spring-boot-starter-parent-2.5.6.pom (8.6 kB at 98 kB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-dependencies/2.5.6/spring-boot-dependencies-2.5.6.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-dependencies/2.5.6/spring-boot-dependencies-2.5.6.pom (109 kB at 5.5 MB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/com/datastax/oss/java-driver-bom/4.11.3/java-driver-bom-4.11.3.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/com/datastax/oss/java-driver-bom/4.11.3/java-driver-bom-4.11.3.pom (4.1 kB at 415 kB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/io/dropwizard/metrics/metrics-bom/4.1.26/metrics-bom-4.1.26.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/io/dropwizard/metrics/metrics-bom/4.1.26/metrics-bom-4.1.26.pom (5.3 kB at 591 kB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/io/dropwizard/metrics/metrics-parent/4.1.26/metrics-parent-4.1.26.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/io/dropwizard/metrics/metrics-parent/4.1.26/metrics-parent-4.1.26.pom (17 kB at 1.3 MB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/codehaus/groovy/groovy-bom/3.0.9/groovy-bom-3.0.9.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/codehaus/groovy/groovy-bom/3.0.9/groovy-bom-3.0.9.pom (26 kB at 1.9 MB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/infinispan/infinispan-bom/12.1.7.Final/infinispan-bom-12.1.7.Final.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/infinispan/infinispan-bom/12.1.7.Final/infinispan-bom-12.1.7.Final.pom (18 kB at 1.3 MB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/infinispan/infinispan-build-configuration-parent/12.1.7.Final/infinispan-build-configuration-parent-12.1.7.Final.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/infinispan/infinispan-build-configuration-parent/12.1.7.Final/infinispan-build-configuration-parent-12.1.7.Final.pom (14 kB at 1.5 MB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/jboss/jboss-parent/36/jboss-parent-36.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/jboss/jboss-parent/36/jboss-parent-36.pom (66 kB at 5.1 MB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/com/fasterxml/jackson/jackson-bom/2.12.5/jackson-bom-2.12.5.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/com/fasterxml/jackson/jackson-bom/2.12.5/jackson-bom-2.12.5.pom (17 kB at 1.3 MB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/com/fasterxml/jackson/jackson-parent/2.12/jackson-parent-2.12.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/com/fasterxml/jackson/jackson-parent/2.12/jackson-parent-2.12.pom (7.5 kB at 940 kB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/com/fasterxml/oss-parent/41/oss-parent-41.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/com/fasterxml/oss-parent/41/oss-parent-41.pom (23 kB at 1.8 MB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/glassfish/jersey/jersey-bom/2.33/jersey-bom-2.33.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/glassfish/jersey/jersey-bom/2.33/jersey-bom-2.33.pom (19 kB at 1.7 MB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/eclipse/ee4j/project/1.0.6/project-1.0.6.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/eclipse/ee4j/project/1.0.6/project-1.0.6.pom (13 kB at 1.3 MB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/eclipse/jetty/jetty-bom/9.4.44.v20210927/jetty-bom-9.4.44.v20210927.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/eclipse/jetty/jetty-bom/9.4.44.v20210927/jetty-bom-9.4.44.v20210927.pom (18 kB at 2.2 MB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/junit/junit-bom/5.7.2/junit-bom-5.7.2.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/junit/junit-bom/5.7.2/junit-bom-5.7.2.pom (5.1 kB at 637 kB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-bom/1.5.31/kotlin-bom-1.5.31.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-bom/1.5.31/kotlin-bom-1.5.31.pom (9.3 kB at 1.2 MB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/jetbrains/kotlinx/kotlinx-coroutines-bom/1.5.2/kotlinx-coroutines-bom-1.5.2.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/jetbrains/kotlinx/kotlinx-coroutines-bom/1.5.2/kotlinx-coroutines-bom-1.5.2.pom (4.1 kB at 514 kB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/logging/log4j/log4j-bom/2.14.1/log4j-bom-2.14.1.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/logging/log4j/log4j-bom/2.14.1/log4j-bom-2.14.1.pom (8.1 kB at 623 kB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/logging/logging-parent/3/logging-parent-3.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/logging/logging-parent/3/logging-parent-3.pom (3.1 kB at 392 kB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/apache/23/apache-23.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/apache/23/apache-23.pom (18 kB at 1.8 MB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/io/micrometer/micrometer-bom/1.7.5/micrometer-bom-1.7.5.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/io/micrometer/micrometer-bom/1.7.5/micrometer-bom-1.7.5.pom (6.9 kB at 573 kB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/io/netty/netty-bom/4.1.69.Final/netty-bom-4.1.69.Final.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/io/netty/netty-bom/4.1.69.Final/netty-bom-4.1.69.Final.pom (12 kB at 576 kB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/sonatype/oss/oss-parent/7/oss-parent-7.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/sonatype/oss/oss-parent/7/oss-parent-7.pom (4.8 kB at 268 kB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/com/oracle/database/jdbc/ojdbc-bom/21.1.0.0/ojdbc-bom-21.1.0.0.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/com/oracle/database/jdbc/ojdbc-bom/21.1.0.0/ojdbc-bom-21.1.0.0.pom (12 kB at 653 kB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/io/prometheus/simpleclient_bom/0.10.0/simpleclient_bom-0.10.0.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/io/prometheus/simpleclient_bom/0.10.0/simpleclient_bom-0.10.0.pom (4.9 kB at 326 kB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/io/prometheus/parent/0.10.0/parent-0.10.0.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/io/prometheus/parent/0.10.0/parent-0.10.0.pom (7.5 kB at 577 kB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/io/r2dbc/r2dbc-bom/Arabba-SR11/r2dbc-bom-Arabba-SR11.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/io/r2dbc/r2dbc-bom/Arabba-SR11/r2dbc-bom-Arabba-SR11.pom (4.3 kB at 360 kB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/io/projectreactor/reactor-bom/2020.0.12/reactor-bom-2020.0.12.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/io/projectreactor/reactor-bom/2020.0.12/reactor-bom-2020.0.12.pom (4.2 kB at 605 kB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/io/rsocket/rsocket-bom/1.1.1/rsocket-bom-1.1.1.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/io/rsocket/rsocket-bom/1.1.1/rsocket-bom-1.1.1.pom (2.6 kB at 376 kB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/springframework/data/spring-data-bom/2021.0.6/spring-data-bom-2021.0.6.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/springframework/data/spring-data-bom/2021.0.6/spring-data-bom-2021.0.6.pom (5.7 kB at 812 kB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/springframework/spring-framework-bom/5.3.12/spring-framework-bom-5.3.12.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/springframework/spring-framework-bom/5.3.12/spring-framework-bom-5.3.12.pom (5.7 kB at 808 kB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/springframework/integration/spring-integration-bom/5.5.5/spring-integration-bom-5.5.5.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/springframework/integration/spring-integration-bom/5.5.5/spring-integration-bom-5.5.5.pom (9.1 kB at 538 kB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/springframework/security/spring-security-bom/5.5.3/spring-security-bom-5.5.3.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/springframework/security/spring-security-bom/5.5.3/spring-security-bom-5.5.3.pom (5.7 kB at 570 kB/s)\r\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/springframework/session/spring-session-bom/2021.0.3/spring-session-bom-2021.0.3.pom\r\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/springframework/session/spring-session-bom/2021.0.3/spring-session-bom-2021.0.3.pom (2.7 kB at 248 kB/s)\r\n       [ERROR] [ERROR] Could not find the selected project in the reactor: backend @ \r\n       [ERROR] Could not find the selected project in the reactor: backend -&gt; [Help 1]\r\n       [ERROR] \r\n       [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n       [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n       [ERROR] \r\n       [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n       [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MavenExecutionException\r\n !     ERROR: Failed to build app with Maven\r\n       We&#39;re sorry this build is failing! If you can&#39;t find the issue in application code,\r\n       please submit a ticket so we can help: https://help.heroku.com/\r\n !     Push rejected, failed to compile Java app.\r\n !     Push failed\r\n```\r\nI assume that there is an issue with the module that is not included in the git here is the GitHub page:\r\n[![enter image description here][1]][1]\r\n\r\nBut if put whole project in the module there will be problem with GitHub actions so I don&#39;t understand what is the proble.\r\n\r\nIs there any solution?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yTGYZ.png","title":"Deploying to heroku failed","body":"<p>I have some strange error when deploying my spring boot application to Heroku. Here is an error:</p>\n<pre><code>-----&gt; Building on the Heroku-20 stack\n-----&gt; Using buildpack: heroku/java\n-----&gt; Java app detected\n-----&gt; Installing OpenJDK 1.8... done\n-----&gt; Executing Maven\n       $ ./mvnw -pl backend clean package\n       [INFO] Scanning for projects...\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.5.6/spring-boot-starter-parent-2.5.6.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/2.5.6/spring-boot-starter-parent-2.5.6.pom (8.6 kB at 98 kB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-dependencies/2.5.6/spring-boot-dependencies-2.5.6.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-dependencies/2.5.6/spring-boot-dependencies-2.5.6.pom (109 kB at 5.5 MB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/com/datastax/oss/java-driver-bom/4.11.3/java-driver-bom-4.11.3.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/com/datastax/oss/java-driver-bom/4.11.3/java-driver-bom-4.11.3.pom (4.1 kB at 415 kB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/io/dropwizard/metrics/metrics-bom/4.1.26/metrics-bom-4.1.26.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/io/dropwizard/metrics/metrics-bom/4.1.26/metrics-bom-4.1.26.pom (5.3 kB at 591 kB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/io/dropwizard/metrics/metrics-parent/4.1.26/metrics-parent-4.1.26.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/io/dropwizard/metrics/metrics-parent/4.1.26/metrics-parent-4.1.26.pom (17 kB at 1.3 MB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/codehaus/groovy/groovy-bom/3.0.9/groovy-bom-3.0.9.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/codehaus/groovy/groovy-bom/3.0.9/groovy-bom-3.0.9.pom (26 kB at 1.9 MB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/infinispan/infinispan-bom/12.1.7.Final/infinispan-bom-12.1.7.Final.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/infinispan/infinispan-bom/12.1.7.Final/infinispan-bom-12.1.7.Final.pom (18 kB at 1.3 MB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/infinispan/infinispan-build-configuration-parent/12.1.7.Final/infinispan-build-configuration-parent-12.1.7.Final.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/infinispan/infinispan-build-configuration-parent/12.1.7.Final/infinispan-build-configuration-parent-12.1.7.Final.pom (14 kB at 1.5 MB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/jboss/jboss-parent/36/jboss-parent-36.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/jboss/jboss-parent/36/jboss-parent-36.pom (66 kB at 5.1 MB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/com/fasterxml/jackson/jackson-bom/2.12.5/jackson-bom-2.12.5.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/com/fasterxml/jackson/jackson-bom/2.12.5/jackson-bom-2.12.5.pom (17 kB at 1.3 MB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/com/fasterxml/jackson/jackson-parent/2.12/jackson-parent-2.12.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/com/fasterxml/jackson/jackson-parent/2.12/jackson-parent-2.12.pom (7.5 kB at 940 kB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/com/fasterxml/oss-parent/41/oss-parent-41.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/com/fasterxml/oss-parent/41/oss-parent-41.pom (23 kB at 1.8 MB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/glassfish/jersey/jersey-bom/2.33/jersey-bom-2.33.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/glassfish/jersey/jersey-bom/2.33/jersey-bom-2.33.pom (19 kB at 1.7 MB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/eclipse/ee4j/project/1.0.6/project-1.0.6.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/eclipse/ee4j/project/1.0.6/project-1.0.6.pom (13 kB at 1.3 MB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/eclipse/jetty/jetty-bom/9.4.44.v20210927/jetty-bom-9.4.44.v20210927.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/eclipse/jetty/jetty-bom/9.4.44.v20210927/jetty-bom-9.4.44.v20210927.pom (18 kB at 2.2 MB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/junit/junit-bom/5.7.2/junit-bom-5.7.2.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/junit/junit-bom/5.7.2/junit-bom-5.7.2.pom (5.1 kB at 637 kB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-bom/1.5.31/kotlin-bom-1.5.31.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-bom/1.5.31/kotlin-bom-1.5.31.pom (9.3 kB at 1.2 MB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/jetbrains/kotlinx/kotlinx-coroutines-bom/1.5.2/kotlinx-coroutines-bom-1.5.2.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/jetbrains/kotlinx/kotlinx-coroutines-bom/1.5.2/kotlinx-coroutines-bom-1.5.2.pom (4.1 kB at 514 kB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/logging/log4j/log4j-bom/2.14.1/log4j-bom-2.14.1.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/logging/log4j/log4j-bom/2.14.1/log4j-bom-2.14.1.pom (8.1 kB at 623 kB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/logging/logging-parent/3/logging-parent-3.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/logging/logging-parent/3/logging-parent-3.pom (3.1 kB at 392 kB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/apache/23/apache-23.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/apache/23/apache-23.pom (18 kB at 1.8 MB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/io/micrometer/micrometer-bom/1.7.5/micrometer-bom-1.7.5.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/io/micrometer/micrometer-bom/1.7.5/micrometer-bom-1.7.5.pom (6.9 kB at 573 kB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/io/netty/netty-bom/4.1.69.Final/netty-bom-4.1.69.Final.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/io/netty/netty-bom/4.1.69.Final/netty-bom-4.1.69.Final.pom (12 kB at 576 kB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/sonatype/oss/oss-parent/7/oss-parent-7.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/sonatype/oss/oss-parent/7/oss-parent-7.pom (4.8 kB at 268 kB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/com/oracle/database/jdbc/ojdbc-bom/21.1.0.0/ojdbc-bom-21.1.0.0.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/com/oracle/database/jdbc/ojdbc-bom/21.1.0.0/ojdbc-bom-21.1.0.0.pom (12 kB at 653 kB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/io/prometheus/simpleclient_bom/0.10.0/simpleclient_bom-0.10.0.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/io/prometheus/simpleclient_bom/0.10.0/simpleclient_bom-0.10.0.pom (4.9 kB at 326 kB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/io/prometheus/parent/0.10.0/parent-0.10.0.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/io/prometheus/parent/0.10.0/parent-0.10.0.pom (7.5 kB at 577 kB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/io/r2dbc/r2dbc-bom/Arabba-SR11/r2dbc-bom-Arabba-SR11.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/io/r2dbc/r2dbc-bom/Arabba-SR11/r2dbc-bom-Arabba-SR11.pom (4.3 kB at 360 kB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/io/projectreactor/reactor-bom/2020.0.12/reactor-bom-2020.0.12.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/io/projectreactor/reactor-bom/2020.0.12/reactor-bom-2020.0.12.pom (4.2 kB at 605 kB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/io/rsocket/rsocket-bom/1.1.1/rsocket-bom-1.1.1.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/io/rsocket/rsocket-bom/1.1.1/rsocket-bom-1.1.1.pom (2.6 kB at 376 kB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/springframework/data/spring-data-bom/2021.0.6/spring-data-bom-2021.0.6.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/springframework/data/spring-data-bom/2021.0.6/spring-data-bom-2021.0.6.pom (5.7 kB at 812 kB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/springframework/spring-framework-bom/5.3.12/spring-framework-bom-5.3.12.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/springframework/spring-framework-bom/5.3.12/spring-framework-bom-5.3.12.pom (5.7 kB at 808 kB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/springframework/integration/spring-integration-bom/5.5.5/spring-integration-bom-5.5.5.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/springframework/integration/spring-integration-bom/5.5.5/spring-integration-bom-5.5.5.pom (9.1 kB at 538 kB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/springframework/security/spring-security-bom/5.5.3/spring-security-bom-5.5.3.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/springframework/security/spring-security-bom/5.5.3/spring-security-bom-5.5.3.pom (5.7 kB at 570 kB/s)\n       [INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/springframework/session/spring-session-bom/2021.0.3/spring-session-bom-2021.0.3.pom\n       [INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/springframework/session/spring-session-bom/2021.0.3/spring-session-bom-2021.0.3.pom (2.7 kB at 248 kB/s)\n       [ERROR] [ERROR] Could not find the selected project in the reactor: backend @ \n       [ERROR] Could not find the selected project in the reactor: backend -&gt; [Help 1]\n       [ERROR] \n       [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n       [ERROR] Re-run Maven using the -X switch to enable full debug logging.\n       [ERROR] \n       [ERROR] For more information about the errors and possible solutions, please read the following articles:\n       [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MavenExecutionException\n !     ERROR: Failed to build app with Maven\n       We're sorry this build is failing! If you can't find the issue in application code,\n       please submit a ticket so we can help: https://help.heroku.com/\n !     Push rejected, failed to compile Java app.\n !     Push failed\n</code></pre>\n<p>I assume that there is an issue with the module that is not included in the git here is the GitHub page:\n<a href=\"https://i.stack.imgur.com/yTGYZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yTGYZ.png\" alt=\"enter image description here\" /></a></p>\n<p>But if put whole project in the module there will be problem with GitHub actions so I don't understand what is the proble.</p>\n<p>Is there any solution?</p>\n"},{"tags":["java","mysql","jdbc","dao"],"comments":[{"owner":{"account_id":25463394,"reputation":41,"user_id":19262819,"display_name":"AceKokuren"},"score":0,"creation_date":1654765235,"post_id":72557296,"comment_id":128171647,"body_markdown":"I need to pull the info from the order table to tie it to the correct customerId and assign it to the same orderId. So one customer can have multiple orders. This was the only query I was able to find that did what I wanted. The UPDATE query would only let me SET existing values whereas I need to create a brand new row, and get the data from the other tables.","body":"I need to pull the info from the order table to tie it to the correct customerId and assign it to the same orderId. So one customer can have multiple orders. This was the only query I was able to find that did what I wanted. The UPDATE query would only let me SET existing values whereas I need to create a brand new row, and get the data from the other tables."},{"owner":{"account_id":25463394,"reputation":41,"user_id":19262819,"display_name":"AceKokuren"},"score":0,"creation_date":1654765416,"post_id":72557296,"comment_id":128171726,"body_markdown":"So in Java I make them place holders for the data, that query was just to test in workbench that it did what I want. In Java it becomes `WHERE item_id = ?` and `WHERE order_id = ?` If that makes more sense?","body":"So in Java I make them place holders for the data, that query was just to test in workbench that it did what I want. In Java it becomes <code>WHERE item_id = ?</code> and <code>WHERE order_id = ?</code> If that makes more sense?"},{"owner":{"account_id":25463394,"reputation":41,"user_id":19262819,"display_name":"AceKokuren"},"score":0,"creation_date":1654767977,"post_id":72557296,"comment_id":128172593,"body_markdown":"Oh sorry I misunderstood what you were saying, yes it is possible to say update order_id 4 and that order doesn&#39;t exist, so nothing will happen.","body":"Oh sorry I misunderstood what you were saying, yes it is possible to say update order_id 4 and that order doesn&#39;t exist, so nothing will happen."},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1654768485,"post_id":72557296,"comment_id":128172769,"body_markdown":"*to say update order_id 4 and that order doesn&#39;t exist* ?? You do not update `orders`, you insert new row into `order_items`...","body":"<i>to say update order_id 4 and that order doesn&#39;t exist</i> ?? You do not update <code>orders</code>, you insert new row into <code>order_items</code>..."},{"owner":{"account_id":25463394,"reputation":41,"user_id":19262819,"display_name":"AceKokuren"},"score":0,"creation_date":1654768868,"post_id":72557296,"comment_id":128172931,"body_markdown":"`fk_order_id` can&#39;t be null so just yells at you and carries on, without creating a new order.","body":"<code>fk_order_id</code> can&#39;t be null so just yells at you and carries on, without creating a new order."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":2,"creation_date":1654770306,"post_id":72557296,"comment_id":128173436,"body_markdown":"If you managed to resolve your own problem, you may post the solution as an answer to your question and check it as *solved* in order to let people know that the problem is solved and no more help needed.","body":"If you managed to resolve your own problem, you may post the solution as an answer to your question and check it as <i>solved</i> in order to let people know that the problem is solved and no more help needed."},{"owner":{"account_id":25463394,"reputation":41,"user_id":19262819,"display_name":"AceKokuren"},"score":0,"creation_date":1654771637,"post_id":72557296,"comment_id":128173885,"body_markdown":"That would make more sense! Will do so shortly","body":"That would make more sense! Will do so shortly"},{"owner":{"account_id":25463394,"reputation":41,"user_id":19262819,"display_name":"AceKokuren"},"score":0,"creation_date":1654773611,"post_id":72557296,"comment_id":128174619,"body_markdown":"@Kozmotronik it won&#39;t let me accept it until 2 days has passed :/","body":"@Kozmotronik it won&#39;t let me accept it until 2 days has passed :/"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":1,"creation_date":1654774591,"post_id":72557296,"comment_id":128174952,"body_markdown":"@AceKokuren Keep it up!","body":"@AceKokuren Keep it up!"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1654775080,"post_id":72557296,"comment_id":128175123,"body_markdown":"I rolled back you last edit. Please don&#39;t edit solutions into your question. If you managed to solve the problem yourself, post an answer with that solution and accept it after the timeout.","body":"I rolled back you last edit. Please don&#39;t edit solutions into your question. If you managed to solve the problem yourself, post an answer with that solution and accept it after the timeout."},{"owner":{"account_id":25463394,"reputation":41,"user_id":19262819,"display_name":"AceKokuren"},"score":0,"creation_date":1654782111,"post_id":72557296,"comment_id":128178018,"body_markdown":"Yeah I wasn&#39;t sure how to do that, thank you!","body":"Yeah I wasn&#39;t sure how to do that, thank you!"}],"answers":[{"tags":[],"owner":{"account_id":25463394,"reputation":41,"user_id":19262819,"display_name":"AceKokuren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654773569,"creation_date":1654773569,"answer_id":72559383,"question_id":72557296,"body_markdown":"The Solution: \r\n\r\nOrderDAO:\r\n```lang-java\r\npublic Order orderItemsFromResultSet(ResultSet rs) throws SQLException {\r\n        Long orderId = rs.getLong(&quot;order_items_id&quot;);\r\n        Long itemId = rs.getLong(&quot;item_id&quot;);\r\n        String itemName = rs.getString(&quot;item_name&quot;);\r\n        double itemCost = rs.getDouble(&quot;item_cost&quot;);\r\n        Item item = new Item(itemId, itemName, itemCost);\r\n        Order order = new Order(item, orderId);\r\n        return order;\r\n    }\r\n    @Override\r\n    public Order read(Long id) {\r\n        try (Connection connection = DBUtils.getInstance().getConnection();\r\n                PreparedStatement statement = connection.prepareStatement(&quot;SELECT * FROM order_items LEFT OUTER JOIN items ON items.item_id = order_items.fk_item_id WHERE fk_order_id = ?;&quot;);) {\r\n            statement.setLong(1, id);\r\n            try (ResultSet resultSet = statement.executeQuery();) {\r\n                resultSet.next();\r\n                return orderItemsFromResultSet(resultSet);\r\n            }\r\n        } catch (Exception e) {\r\n            LOGGER.debug(e);\r\n            LOGGER.error(e.getMessage());\r\n        }\r\n        return null;\r\n    }\r\npublic Order addItem(Order order) {\r\n        \r\n        try (Connection connection = DBUtils.getInstance().getConnection();\r\n                PreparedStatement statement = connection.prepareStatement(&quot;INSERT INTO order_items (item_quantity, fk_item_id, fk_order_id) VALUES (?,  (SELECT item_id FROM items WHERE item_id = ?), (SELECT order_id FROM orders WHERE order_id = ?));&quot;);) {\r\n            statement.setInt(1, order.getItemQuantity());\r\n            statement.setLong(2, order.getItemId());\r\n            statement.setLong(3, order.getOrderId());\r\n            statement.executeUpdate();\r\n            return read(order.getOrderId());\r\n        }  catch (Exception e) {\r\n            LOGGER.debug(e);\r\n            LOGGER.error(e.getMessage());\r\n        }\r\n        return null;\r\n    }\r\npublic Order removeItem(Order order) {\r\n\t\ttry (Connection connection = DBUtils.getInstance().getConnection();\r\n\t\t\t\tPreparedStatement statementOne = connection.prepareStatement(&quot;UPDATE order_items SET item_quantity = item_quantity - 1 WHERE item_quantity &gt;= 0 &amp;&amp; fk_item_id = ? &amp;&amp; fk_order_id = ?&quot;);\r\n\t\t\t\tPreparedStatement statementTwo = connection.prepareStatement(&quot;DELETE FROM order_items WHERE item_quantity = 0&quot;);) {\r\n\t\t\tstatementOne.setLong(1, order.getItemId());\r\n\t\t\tstatementOne.setLong(2, order.getOrderId());\r\n\t\t\tstatementOne.executeUpdate();\r\n\t\t\tstatementTwo.executeUpdate();\r\n\t\t}  catch (Exception e) {\r\n\t\t\tLOGGER.debug(e);\r\n\t\t\tLOGGER.error(e.getMessage());\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n```\r\n\r\nOrderController:\r\n```lang-java\r\n@Override\r\n\tpublic Order update() {\r\n\t\tLOGGER.info(&quot;Please enter the id of the order you would like to update&quot;);\r\n\t\tLong id = utils.getLong();\r\n\t\tLOGGER.info(&quot;Would you like to add or delete an item from an order&quot;);\r\n\t\tString addOrDelete = utils.getString();\r\n\t\taddOrDelete = addOrDelete.toLowerCase();\r\n\t\tif (addOrDelete.equals(&quot;add&quot;)) {\r\n\t\t\tLOGGER.info(&quot;Please enter the ID of the item you wish to add&quot;);\r\n\t\t\tLong itemId = utils.getLong();\r\n\t\t\tLOGGER.info(&quot;Please enter the quantity of the item to add&quot;);\r\n\t\t\tint quantity = utils.getInt();\r\n\t\t\tItem item = new Item(itemId);\r\n\t\t\tItemDAO itemDao = new ItemDAO();\r\n\t\t\titem = itemDao.read(item.getItemID());\r\n\t\t\tOrder order = orderDAO.addItem(new Order(item.getItemID(), quantity, id));\r\n\t\t\tLOGGER.info(&quot;Order Updated\\n&quot;);\r\n\t\t\treturn order;\r\n\t\t} \r\n\t\telse if (addOrDelete.equals(&quot;delete&quot;)) {\r\n\t\t\tLOGGER.info(&quot;Please enter the id of the item you wish to remove&quot;);\r\n\t\t\tLong itemId = utils.getLong();\r\n\t\t\tOrder order = new Order();\r\n\t\t\torder.setOrderId(id);\r\n\t\t\torder.setItemId(itemId);\r\n\t\t\torderDAO.removeItem(order);\r\n\t\t\tLOGGER.info(&quot;Order Updated\\n&quot;);\r\n\t\t\treturn order;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n```\r\nThis has both full functionality for adding an item and removing an item, deleting any orders where the item quantity hits 0.","title":"I need to create an object using the id of the object from a MySQL Database","body":"<p>The Solution:</p>\n<p>OrderDAO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Order orderItemsFromResultSet(ResultSet rs) throws SQLException {\n        Long orderId = rs.getLong(&quot;order_items_id&quot;);\n        Long itemId = rs.getLong(&quot;item_id&quot;);\n        String itemName = rs.getString(&quot;item_name&quot;);\n        double itemCost = rs.getDouble(&quot;item_cost&quot;);\n        Item item = new Item(itemId, itemName, itemCost);\n        Order order = new Order(item, orderId);\n        return order;\n    }\n    @Override\n    public Order read(Long id) {\n        try (Connection connection = DBUtils.getInstance().getConnection();\n                PreparedStatement statement = connection.prepareStatement(&quot;SELECT * FROM order_items LEFT OUTER JOIN items ON items.item_id = order_items.fk_item_id WHERE fk_order_id = ?;&quot;);) {\n            statement.setLong(1, id);\n            try (ResultSet resultSet = statement.executeQuery();) {\n                resultSet.next();\n                return orderItemsFromResultSet(resultSet);\n            }\n        } catch (Exception e) {\n            LOGGER.debug(e);\n            LOGGER.error(e.getMessage());\n        }\n        return null;\n    }\npublic Order addItem(Order order) {\n        \n        try (Connection connection = DBUtils.getInstance().getConnection();\n                PreparedStatement statement = connection.prepareStatement(&quot;INSERT INTO order_items (item_quantity, fk_item_id, fk_order_id) VALUES (?,  (SELECT item_id FROM items WHERE item_id = ?), (SELECT order_id FROM orders WHERE order_id = ?));&quot;);) {\n            statement.setInt(1, order.getItemQuantity());\n            statement.setLong(2, order.getItemId());\n            statement.setLong(3, order.getOrderId());\n            statement.executeUpdate();\n            return read(order.getOrderId());\n        }  catch (Exception e) {\n            LOGGER.debug(e);\n            LOGGER.error(e.getMessage());\n        }\n        return null;\n    }\npublic Order removeItem(Order order) {\n        try (Connection connection = DBUtils.getInstance().getConnection();\n                PreparedStatement statementOne = connection.prepareStatement(&quot;UPDATE order_items SET item_quantity = item_quantity - 1 WHERE item_quantity &gt;= 0 &amp;&amp; fk_item_id = ? &amp;&amp; fk_order_id = ?&quot;);\n                PreparedStatement statementTwo = connection.prepareStatement(&quot;DELETE FROM order_items WHERE item_quantity = 0&quot;);) {\n            statementOne.setLong(1, order.getItemId());\n            statementOne.setLong(2, order.getOrderId());\n            statementOne.executeUpdate();\n            statementTwo.executeUpdate();\n        }  catch (Exception e) {\n            LOGGER.debug(e);\n            LOGGER.error(e.getMessage());\n        }\n        return null;\n    }\n</code></pre>\n<p>OrderController:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public Order update() {\n        LOGGER.info(&quot;Please enter the id of the order you would like to update&quot;);\n        Long id = utils.getLong();\n        LOGGER.info(&quot;Would you like to add or delete an item from an order&quot;);\n        String addOrDelete = utils.getString();\n        addOrDelete = addOrDelete.toLowerCase();\n        if (addOrDelete.equals(&quot;add&quot;)) {\n            LOGGER.info(&quot;Please enter the ID of the item you wish to add&quot;);\n            Long itemId = utils.getLong();\n            LOGGER.info(&quot;Please enter the quantity of the item to add&quot;);\n            int quantity = utils.getInt();\n            Item item = new Item(itemId);\n            ItemDAO itemDao = new ItemDAO();\n            item = itemDao.read(item.getItemID());\n            Order order = orderDAO.addItem(new Order(item.getItemID(), quantity, id));\n            LOGGER.info(&quot;Order Updated\\n&quot;);\n            return order;\n        } \n        else if (addOrDelete.equals(&quot;delete&quot;)) {\n            LOGGER.info(&quot;Please enter the id of the item you wish to remove&quot;);\n            Long itemId = utils.getLong();\n            Order order = new Order();\n            order.setOrderId(id);\n            order.setItemId(itemId);\n            orderDAO.removeItem(order);\n            LOGGER.info(&quot;Order Updated\\n&quot;);\n            return order;\n        }\n        return null;\n    }\n</code></pre>\n<p>This has both full functionality for adding an item and removing an item, deleting any orders where the item quantity hits 0.</p>\n"}],"owner":{"account_id":25463394,"reputation":41,"user_id":19262819,"display_name":"AceKokuren"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72559383,"answer_count":1,"score":1,"last_activity_date":1654775031,"creation_date":1654764324,"question_id":72557296,"body_markdown":"I am working on an Inventory Management System and I am on the last part which is allowing a user to update an order. This update needs to add or remove an item from an order. I am just working on the add part right now. I have the MySQL Query that I have tested that works in Workbench: \r\n```lang-MySQL\r\nINSERT INTO order_items (item_quantity, fk_item_id, fk_order_id) VALUES (1,  (SELECT item_id FROM items WHERE item_id= 1), (SELECT order_id FROM orders WHERE order_id=2));\r\n```\r\n\r\nIn Java, I know need to create an Item object from the ID that I pass in above. \r\nHere is the OrderDAO: \r\n```lang-java\r\npublic Order addItem(Order order) {\r\n\t\tItemDAO itemDao = new ItemDAO();\r\n\t\ttry (Connection connection = DBUtils.getInstance().getConnection();\r\n\t\t\t\tPreparedStatement statement = connection.prepareStatement(&quot;INSERT INTO order_items (item_quantity, fk_item_id, fk_order_id) VALUES (?,  (SELECT item_id FROM items WHERE item_id = ?), (SELECT order_id FROM orders WHERE order_id = ?));&quot;);) {\r\n\t\t\tstatement.setInt(1, order.getItemQuantity());\r\n\t\t\tstatement.setLong(2, order.getItemId());\r\n\t\t\titemDao.read(order.getItemId());\r\n\t\t\tstatement.setLong(3, order.getOrderId());\r\n\t\t\tstatement.executeUpdate();\r\n\t\t\tSystem.out.println(order);\r\n\t\t\treturn read(order.getOrderId());\r\n\t\t}  catch (Exception e) {\r\n\t\t\tLOGGER.debug(e);\r\n\t\t\tLOGGER.error(e.getMessage());\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n```\r\nAnd here is the Controller:\r\n```lang-java\r\n@Override\r\n\tpublic Order update() {\r\n\t\tLOGGER.info(&quot;Please enter the id of the order you would like to update&quot;);\r\n\t\tLong id = utils.getLong();\r\n//\t\tLOGGER.info(&quot;Would you like to add or delete an item from an order&quot;);\r\n\t\tLOGGER.info(&quot;Please enter the ID of the item you wish to add&quot;);\r\n\t\tLong itemId = utils.getLong();\r\n\t\tLOGGER.info(&quot;Please enter the quantity of the item to add&quot;);\r\n\t\tint quantity = utils.getInt();\r\n\t\tItem item = new Item(itemId);\r\n\t\tSystem.out.println(item);\r\n\t\tOrder order = orderDAO.addItem(new Order(item, quantity, id));\r\n\t\tLOGGER.info(&quot;Order Updated\\n&quot;);\r\n\t\treturn order;\r\n\t}\r\n```\r\n\r\n\r\nI saw something similar [here][1] but not quite sure how to adapt it. I know I am just around the corner from the penny dropping, as I thought about using `ItemDAO.read(Long id)` method I have in the ItemDAO Class, but I don&#39;t know how to then set the properties of the `Item` object using that method. \r\n\r\nNew to working with the DAO model and JDBC so if there is already an answer for this I couldn&#39;t find it so if I get pointed in the right direction I would be more than grateful. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/45607758/java-daogetting-data-from-database-mysql-by-specific-id\r\n\r\nEdit: \r\nThis is the ItemDAO `read()` method and the `modelFromResults()` method:\r\n```lang-java\r\n@Override\r\n\tpublic Item read(Long id) {\r\n\t\ttry (Connection connection = DBUtils.getInstance().getConnection();\r\n\t\t\t\tPreparedStatement statement = connection.prepareStatement(&quot;SELECT * FROM items WHERE item_id = ?&quot;);) {\r\n\t\t\tstatement.setLong(1, id);\r\n\t\t\ttry (ResultSet resultSet = statement.executeQuery();) {\r\n\t\t\t\tresultSet.next();\r\n\t\t\t\treturn modelFromResultSet(resultSet);\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.debug(e);\r\n\t\t\tLOGGER.error(e.getMessage());\r\n\t\t}\r\n\t\treturn null;\r\n```\r\n```lang-java\r\n@Override\r\n\tpublic Item modelFromResultSet(ResultSet resultSet) throws SQLException {\r\n\t\tLong itemID = resultSet.getLong(&quot;item_id&quot;);\r\n\t\tString itemName = resultSet.getString(&quot;item_name&quot;);\r\n\t\tdouble itemCost = resultSet.getDouble(&quot;item_cost&quot;);\r\n\t\treturn new Item(itemID, itemName, itemCost);\r\n\t}\r\n```","title":"I need to create an object using the id of the object from a MySQL Database","body":"<p>I am working on an Inventory Management System and I am on the last part which is allowing a user to update an order. This update needs to add or remove an item from an order. I am just working on the add part right now. I have the MySQL Query that I have tested that works in Workbench:</p>\n<pre class=\"lang-MySQL prettyprint-override\"><code>INSERT INTO order_items (item_quantity, fk_item_id, fk_order_id) VALUES (1,  (SELECT item_id FROM items WHERE item_id= 1), (SELECT order_id FROM orders WHERE order_id=2));\n</code></pre>\n<p>In Java, I know need to create an Item object from the ID that I pass in above.\nHere is the OrderDAO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Order addItem(Order order) {\n        ItemDAO itemDao = new ItemDAO();\n        try (Connection connection = DBUtils.getInstance().getConnection();\n                PreparedStatement statement = connection.prepareStatement(&quot;INSERT INTO order_items (item_quantity, fk_item_id, fk_order_id) VALUES (?,  (SELECT item_id FROM items WHERE item_id = ?), (SELECT order_id FROM orders WHERE order_id = ?));&quot;);) {\n            statement.setInt(1, order.getItemQuantity());\n            statement.setLong(2, order.getItemId());\n            itemDao.read(order.getItemId());\n            statement.setLong(3, order.getOrderId());\n            statement.executeUpdate();\n            System.out.println(order);\n            return read(order.getOrderId());\n        }  catch (Exception e) {\n            LOGGER.debug(e);\n            LOGGER.error(e.getMessage());\n        }\n        return null;\n    }\n</code></pre>\n<p>And here is the Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public Order update() {\n        LOGGER.info(&quot;Please enter the id of the order you would like to update&quot;);\n        Long id = utils.getLong();\n//      LOGGER.info(&quot;Would you like to add or delete an item from an order&quot;);\n        LOGGER.info(&quot;Please enter the ID of the item you wish to add&quot;);\n        Long itemId = utils.getLong();\n        LOGGER.info(&quot;Please enter the quantity of the item to add&quot;);\n        int quantity = utils.getInt();\n        Item item = new Item(itemId);\n        System.out.println(item);\n        Order order = orderDAO.addItem(new Order(item, quantity, id));\n        LOGGER.info(&quot;Order Updated\\n&quot;);\n        return order;\n    }\n</code></pre>\n<p>I saw something similar <a href=\"https://stackoverflow.com/questions/45607758/java-daogetting-data-from-database-mysql-by-specific-id\">here</a> but not quite sure how to adapt it. I know I am just around the corner from the penny dropping, as I thought about using <code>ItemDAO.read(Long id)</code> method I have in the ItemDAO Class, but I don't know how to then set the properties of the <code>Item</code> object using that method.</p>\n<p>New to working with the DAO model and JDBC so if there is already an answer for this I couldn't find it so if I get pointed in the right direction I would be more than grateful.</p>\n<p>Edit:\nThis is the ItemDAO <code>read()</code> method and the <code>modelFromResults()</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public Item read(Long id) {\n        try (Connection connection = DBUtils.getInstance().getConnection();\n                PreparedStatement statement = connection.prepareStatement(&quot;SELECT * FROM items WHERE item_id = ?&quot;);) {\n            statement.setLong(1, id);\n            try (ResultSet resultSet = statement.executeQuery();) {\n                resultSet.next();\n                return modelFromResultSet(resultSet);\n            }\n        } catch (Exception e) {\n            LOGGER.debug(e);\n            LOGGER.error(e.getMessage());\n        }\n        return null;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public Item modelFromResultSet(ResultSet resultSet) throws SQLException {\n        Long itemID = resultSet.getLong(&quot;item_id&quot;);\n        String itemName = resultSet.getString(&quot;item_name&quot;);\n        double itemCost = resultSet.getDouble(&quot;item_cost&quot;);\n        return new Item(itemID, itemName, itemCost);\n    }\n</code></pre>\n"},{"tags":["java","collections","anylogic"],"comments":[{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":2,"creation_date":1654615264,"post_id":72533648,"comment_id":128130181,"body_markdown":"Welcome to Stack Overflow. Read this first - https://stackoverflow.com/help/how-to-ask. &quot;Help others reproduce the problem&quot;","body":"Welcome to Stack Overflow. Read this first - <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>. &quot;Help others reproduce the problem&quot;"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1654623229,"post_id":72533648,"comment_id":128133082,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1654775073,"post_id":72533648,"comment_id":128175116,"body_markdown":"@Sam this is a fair question for the #anylogic tag, it is good enough if you know the software :)","body":"@Sam this is a fair question for the #anylogic tag, it is good enough if you know the software :)"}],"answers":[{"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654775022,"creation_date":1654775022,"answer_id":72559676,"question_id":72533648,"body_markdown":"You cannot use `agentB.contents()`. Although it looks like a good method, it is not supposed to be used by modellers.\r\n\r\nAlso, do not compare objects using `==`. Use the `equals()` method instead.\r\n\r\nDo this, assuming you have a population or list named `myAgentsA` of `AgentA` within `AgentB`: \r\n\r\n     count(myAgentsA, a-&gt;a.DeliveryPoint.equals(DeliveryPoint))\r\n\r\nThis assumes you call the code from within `AgentB`","title":"How count agents from utilities collection with specific characteristic?","body":"<p>You cannot use <code>agentB.contents()</code>. Although it looks like a good method, it is not supposed to be used by modellers.</p>\n<p>Also, do not compare objects using <code>==</code>. Use the <code>equals()</code> method instead.</p>\n<p>Do this, assuming you have a population or list named <code>myAgentsA</code> of <code>AgentA</code> within <code>AgentB</code>:</p>\n<pre><code> count(myAgentsA, a-&gt;a.DeliveryPoint.equals(DeliveryPoint))\n</code></pre>\n<p>This assumes you call the code from within <code>AgentB</code></p>\n"}],"owner":{"account_id":25497837,"reputation":53,"user_id":19291632,"display_name":"dkdelta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1654775022,"creation_date":1654614675,"question_id":72533648,"body_markdown":"There are two types of agents in my Model:\r\n1. AgentA - it&#39;s a parcel which must be delivered to the DeliveryPoint. This AgentA has a corresponding parameter &quot;DeliveryPoint&quot;.\r\n2. AgentB - it&#39;s a package (an agent-container) containing parcels (AgentA). This AgentB has a parameter &quot;DeliveryPoint&quot; too that depends on the &quot;DeliveryPoint&quot; of the parcel (AgentA) delivering at the moment.\r\nI need to count agents AgentA in the agent-container AgentB which meet the given condition:\r\n AgentA.DeliveryPoint == AgentB.DeliveryPoint\r\n\r\nI tried this expression:\r\n\r\n**count(agentB.contents(), p -&gt; ((AgentA)agentB.contents()).DeliveryPoint == agentB.DeliveryPoint))**\r\n\r\nCode example:\r\n\r\n      private void _movingToDeliveryPoint_onExit_xjal( final com.anylogic.libraries.processmodeling.Delay&lt;AgentB&gt; self, AgentB agent ) {\r\n        \r\n    traceln(count(agent.contents(), p -&gt; ((AgentA)agent.contents()).DeliveryPoint == agent.DeliveryPoint));\r\n      }\r\n\r\nbut when I run my Model, I recieve this error in the block &quot;Delay&quot; (&quot;movingToDeliveryPoint&quot;) that executes this code:\r\n\r\n*java.base/java.util.Collections$UnmodifiableList cannot be cast to smm_chain.AgentA*\r\n\r\n    java.lang.ClassCastException: java.base/java.util.Collections$UnmodifiableList cannot be cast to smm_chain.AgentA\r\n    \tat smm_chain.sc.lambda$0(sc.java:5168)\r\n    \tat com.anylogic.engine.UtilitiesCollection.count(Unknown Source)\r\n    \tat smm_chain.sc._movingToDeliveryPoint_onExit_xjal(sc.java:5168)\r\n    \tat smm_chain.sc.access$25(sc.java:5163)\r\n    \tat smm_chain.sc$17.onExit(sc.java:2319)\r\n    \tat smm_chain.sc$17.onExit(sc.java:1)\r\n    \tat com.anylogic.libraries.processmodeling.Delay.b(Unknown Source)\r\n    \tat com.anylogic.libraries.processmodeling.Delay.b(Unknown Source)\r\n    \tat com.anylogic.libraries.processmodeling.Delay$6.onExit(Unknown Source)\r\n    \tat com.anylogic.libraries.processmodeling.OutputBuffer.c(Unknown Source)\r\n    \tat com.anylogic.libraries.processmodeling.OutputBuffer.c(Unknown Source)\r\n    \tat com.anylogic.libraries.processmodeling.OutputBuffer$1.onExit(Unknown Source)\r\n    \tat com.anylogic.libraries.processmodeling.OutputBlock.c(Unknown Source)\r\n    \tat com.anylogic.libraries.processmodeling.OutputBlock.a(Unknown Source)\r\n    \tat com.anylogic.libraries.processmodeling.OutputBlock$1.b(Unknown Source)\r\n    \tat com.anylogic.libraries.processmodeling.OutPort.a(Unknown Source)\r\n    \tat com.anylogic.libraries.processmodeling.InPort.receiveImmediately(Unknown Source)\r\n    \tat com.anylogic.libraries.processmodeling.InputBlock$1.a(Unknown Source)\r\n    \tat com.anylogic.libraries.processmodeling.OutPort.a(Unknown Source)\r\n    \tat com.anylogic.libraries.processmodeling.OutPort.b(Unknown Source)\r\n    \tat com.anylogic.libraries.processmodeling.OutPort.a(Unknown Source)\r\n    \tat com.anylogic.libraries.processmodeling.OutputBlock.a(Unknown Source)\r\n    \tat com.anylogic.libraries.processmodeling.OutputBlock.a(Unknown Source)\r\n    \tat com.anylogic.libraries.processmodeling.OutputBlock$2.a(Unknown Source)\r\n    \tat com.anylogic.libraries.processmodeling.OutputBlock$2.action(Unknown Source)\r\n    \tat com.anylogic.libraries.processmodeling.AsynchronousExecutor_xjal.executeActionOf(Unknown Source)\r\n    \tat com.anylogic.engine.EventTimeout.execute(Unknown Source)\r\n    \tat com.anylogic.engine.Engine.b(Unknown Source)\r\n    \tat com.anylogic.engine.Engine.nb(Unknown Source)\r\n    \tat com.anylogic.engine.Engine.k(Unknown Source)\r\n    \tat com.anylogic.engine.Engine$a.run(Unknown Source)\r\n\r\n \r\nCould you help me?\r\nThanks a lot!","title":"How count agents from utilities collection with specific characteristic?","body":"<p>There are two types of agents in my Model:</p>\n<ol>\n<li>AgentA - it's a parcel which must be delivered to the DeliveryPoint. This AgentA has a corresponding parameter &quot;DeliveryPoint&quot;.</li>\n<li>AgentB - it's a package (an agent-container) containing parcels (AgentA). This AgentB has a parameter &quot;DeliveryPoint&quot; too that depends on the &quot;DeliveryPoint&quot; of the parcel (AgentA) delivering at the moment.\nI need to count agents AgentA in the agent-container AgentB which meet the given condition:\nAgentA.DeliveryPoint == AgentB.DeliveryPoint</li>\n</ol>\n<p>I tried this expression:</p>\n<p><strong>count(agentB.contents(), p -&gt; ((AgentA)agentB.contents()).DeliveryPoint == agentB.DeliveryPoint))</strong></p>\n<p>Code example:</p>\n<pre><code>  private void _movingToDeliveryPoint_onExit_xjal( final com.anylogic.libraries.processmodeling.Delay&lt;AgentB&gt; self, AgentB agent ) {\n    \ntraceln(count(agent.contents(), p -&gt; ((AgentA)agent.contents()).DeliveryPoint == agent.DeliveryPoint));\n  }\n</code></pre>\n<p>but when I run my Model, I recieve this error in the block &quot;Delay&quot; (&quot;movingToDeliveryPoint&quot;) that executes this code:</p>\n<p><em>java.base/java.util.Collections$UnmodifiableList cannot be cast to smm_chain.AgentA</em></p>\n<pre><code>java.lang.ClassCastException: java.base/java.util.Collections$UnmodifiableList cannot be cast to smm_chain.AgentA\n    at smm_chain.sc.lambda$0(sc.java:5168)\n    at com.anylogic.engine.UtilitiesCollection.count(Unknown Source)\n    at smm_chain.sc._movingToDeliveryPoint_onExit_xjal(sc.java:5168)\n    at smm_chain.sc.access$25(sc.java:5163)\n    at smm_chain.sc$17.onExit(sc.java:2319)\n    at smm_chain.sc$17.onExit(sc.java:1)\n    at com.anylogic.libraries.processmodeling.Delay.b(Unknown Source)\n    at com.anylogic.libraries.processmodeling.Delay.b(Unknown Source)\n    at com.anylogic.libraries.processmodeling.Delay$6.onExit(Unknown Source)\n    at com.anylogic.libraries.processmodeling.OutputBuffer.c(Unknown Source)\n    at com.anylogic.libraries.processmodeling.OutputBuffer.c(Unknown Source)\n    at com.anylogic.libraries.processmodeling.OutputBuffer$1.onExit(Unknown Source)\n    at com.anylogic.libraries.processmodeling.OutputBlock.c(Unknown Source)\n    at com.anylogic.libraries.processmodeling.OutputBlock.a(Unknown Source)\n    at com.anylogic.libraries.processmodeling.OutputBlock$1.b(Unknown Source)\n    at com.anylogic.libraries.processmodeling.OutPort.a(Unknown Source)\n    at com.anylogic.libraries.processmodeling.InPort.receiveImmediately(Unknown Source)\n    at com.anylogic.libraries.processmodeling.InputBlock$1.a(Unknown Source)\n    at com.anylogic.libraries.processmodeling.OutPort.a(Unknown Source)\n    at com.anylogic.libraries.processmodeling.OutPort.b(Unknown Source)\n    at com.anylogic.libraries.processmodeling.OutPort.a(Unknown Source)\n    at com.anylogic.libraries.processmodeling.OutputBlock.a(Unknown Source)\n    at com.anylogic.libraries.processmodeling.OutputBlock.a(Unknown Source)\n    at com.anylogic.libraries.processmodeling.OutputBlock$2.a(Unknown Source)\n    at com.anylogic.libraries.processmodeling.OutputBlock$2.action(Unknown Source)\n    at com.anylogic.libraries.processmodeling.AsynchronousExecutor_xjal.executeActionOf(Unknown Source)\n    at com.anylogic.engine.EventTimeout.execute(Unknown Source)\n    at com.anylogic.engine.Engine.b(Unknown Source)\n    at com.anylogic.engine.Engine.nb(Unknown Source)\n    at com.anylogic.engine.Engine.k(Unknown Source)\n    at com.anylogic.engine.Engine$a.run(Unknown Source)\n</code></pre>\n<p>Could you help me?\nThanks a lot!</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"owner":{"account_id":14446458,"reputation":11,"user_id":10435418,"display_name":"P.Hennry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654774676,"creation_date":1654774676,"question_id":72559609,"body_markdown":"I&#39;m using Spring data JPA. \r\n\r\nI have two entities is Product and Category. They have many to many relationship.\r\n\r\nI&#39;m using @ManytoMany Annotation to define. And here is the details: \r\n\r\n    \r\n    @Entity\r\n    public class Product {\r\n        @Id\r\n        @GeneratedValue\r\n        private Integer productId;\r\n        \r\n        @ManyToMany\r\n        @JoinTable(\r\n                name = &quot;product_category&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;product_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;category_id&quot;))\r\n        List&lt;Category&gt; categories = new ArrayList&lt;&gt;();\r\n       \r\n    }\r\n\r\n    @Entity\r\n    public class Category {\r\n        @Id\r\n        @GeneratedValue\r\n        private Integer categoryId;\r\n    \r\n        @ManyToMany\r\n        @JoinTable(\r\n                name = &quot;product_category&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;category_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;product_id&quot;)\r\n        )\r\n        private List&lt;Product&gt; products = new ArrayList&lt;&gt;(); \r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nHere is the Repository: \r\n\r\n\r\n    public interface ProductRepo extends JpaRepository&lt;Product, Integer&gt;, JpaSpecificationExecutor&lt;Product&gt; {\r\n    \r\n        List&lt;Product&gt; searchProduct(Specification&lt;Product&gt; spec);\r\n    }\r\n\r\n\r\n\r\nNow, I have a list of categoryId, I wanna get product in that categories. \r\n\r\n\r\n\r\n\r\n    public static Specification&lt;Product&gt; searchProductInCategory(List&lt;Integer&gt; categoryIdList) {\r\n    // how to build Specification?\r\n    }\r\n\r\n\r\nHow can I do that? Please help me implement and give me some way..\r\nThank you so much!","title":"Spring Data JPA Specification using CriteriaBuilder with a MANY TO MANY relationship","body":"<p>I'm using Spring data JPA.</p>\n<p>I have two entities is Product and Category. They have many to many relationship.</p>\n<p>I'm using @ManytoMany Annotation to define. And here is the details:</p>\n<pre><code>@Entity\npublic class Product {\n    @Id\n    @GeneratedValue\n    private Integer productId;\n    \n    @ManyToMany\n    @JoinTable(\n            name = &quot;product_category&quot;,\n            joinColumns = @JoinColumn(name = &quot;product_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;category_id&quot;))\n    List&lt;Category&gt; categories = new ArrayList&lt;&gt;();\n   \n}\n\n@Entity\npublic class Category {\n    @Id\n    @GeneratedValue\n    private Integer categoryId;\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;product_category&quot;,\n            joinColumns = @JoinColumn(name = &quot;category_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;product_id&quot;)\n    )\n    private List&lt;Product&gt; products = new ArrayList&lt;&gt;(); \n\n}\n</code></pre>\n<p>Here is the Repository:</p>\n<pre><code>public interface ProductRepo extends JpaRepository&lt;Product, Integer&gt;, JpaSpecificationExecutor&lt;Product&gt; {\n\n    List&lt;Product&gt; searchProduct(Specification&lt;Product&gt; spec);\n}\n</code></pre>\n<p>Now, I have a list of categoryId, I wanna get product in that categories.</p>\n<pre><code>public static Specification&lt;Product&gt; searchProductInCategory(List&lt;Integer&gt; categoryIdList) {\n// how to build Specification?\n}\n</code></pre>\n<p>How can I do that? Please help me implement and give me some way..\nThank you so much!</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1654776844,"post_id":72559542,"comment_id":128175769,"body_markdown":"The bintray service no longer exists (since May 2021 IIRC). You&#39;ll need to check with TestNG (or whoever offered this) to see where they migrated to, and/or just remove this update site from your Eclipse configuration.","body":"The bintray service no longer exists (since May 2021 IIRC). You&#39;ll need to check with TestNG (or whoever offered this) to see where they migrated to, and/or just remove this update site from your Eclipse configuration."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1654814592,"post_id":72559542,"comment_id":128188451,"body_markdown":"What @MarkRotteveel says. See [TestNG Eclipse Marketplace item](https://marketplace.eclipse.org/content/testng-eclipse): the update site moved to [`https://testng.org/testng-eclipse-update-site`](https://testng.org/testng-eclipse-update-site). In the preferences _Install/Update &gt; Available Software Sites_ update the update site location accordingly.","body":"What @MarkRotteveel says. See <a href=\"https://marketplace.eclipse.org/content/testng-eclipse\" rel=\"nofollow noreferrer\">TestNG Eclipse Marketplace item</a>: the update site moved to <a href=\"https://testng.org/testng-eclipse-update-site\" rel=\"nofollow noreferrer\"><code>https:&#47;&#47;testng.org&#47;testng-eclipse-update-site</code></a>. In the preferences <i>Install/Update &gt; Available Software Sites</i> update the update site location accordingly."}],"owner":{"account_id":23165941,"reputation":11,"user_id":17265880,"display_name":"FilipC93"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654774354,"creation_date":1654774354,"question_id":72559542,"body_markdown":"Im getting this error when I&#39;m trying to update Eclipse software.\r\nWhen I try to get the link to open it to a browser it says : ERR_EMPTY_RESPONSE","title":"Unable to read repository at http://dl.bintray.com/testng-team/testng-p2-release/content.xml. dl.bintray.com:80 failed to respond","body":"<p>Im getting this error when I'm trying to update Eclipse software.\nWhen I try to get the link to open it to a browser it says : ERR_EMPTY_RESPONSE</p>\n"},{"tags":["java","jaxb"],"comments":[{"owner":{"account_id":2039963,"reputation":443,"user_id":1821422,"accept_rate":0,"display_name":"hlfernandez"},"score":0,"creation_date":1654774902,"post_id":72559538,"comment_id":128175054,"body_markdown":"Can you put the stack trace of the exception?","body":"Can you put the stack trace of the exception?"},{"owner":{"account_id":16622550,"reputation":1,"user_id":12698651,"display_name":"Kinzheyev Madi"},"score":0,"creation_date":1654775231,"post_id":72559538,"comment_id":128175184,"body_markdown":"@hlfernandez\n[]\nno exception, just this answer empty value.","body":"@hlfernandez [] no exception, just this answer empty value."},{"owner":{"account_id":2039963,"reputation":443,"user_id":1821422,"accept_rate":0,"display_name":"hlfernandez"},"score":0,"creation_date":1654775567,"post_id":72559538,"comment_id":128175298,"body_markdown":"Alright. Then my first try would be removing the `if (saccreq == null){saccreq = new ArrayList&lt;&gt;();}` part from the `getSaccreq` method. See what happens and if you need it, put it in the constructor.","body":"Alright. Then my first try would be removing the <code>if (saccreq == null){saccreq = new ArrayList&lt;&gt;();}</code> part from the <code>getSaccreq</code> method. See what happens and if you need it, put it in the constructor."},{"owner":{"account_id":16622550,"reputation":1,"user_id":12698651,"display_name":"Kinzheyev Madi"},"score":0,"creation_date":1654775881,"post_id":72559538,"comment_id":128175402,"body_markdown":"@hlfernandez i just get null instead of []","body":"@hlfernandez i just get null instead of []"},{"owner":{"account_id":2039963,"reputation":443,"user_id":1821422,"accept_rate":0,"display_name":"hlfernandez"},"score":0,"creation_date":1654776300,"post_id":72559538,"comment_id":128175542,"body_markdown":"Have you tried unmarshalling a single `Saccreq` object? If not, try it to ensure that unmarshalling works for the base clase.","body":"Have you tried unmarshalling a single <code>Saccreq</code> object? If not, try it to ensure that unmarshalling works for the base clase."},{"owner":{"account_id":16622550,"reputation":1,"user_id":12698651,"display_name":"Kinzheyev Madi"},"score":0,"creation_date":1655276771,"post_id":72559538,"comment_id":128291341,"body_markdown":"`StringEscapeUtils.unescapeXml(data);` solved my issue","body":"<code>StringEscapeUtils.unescapeXml(data);</code> solved my issue"},{"owner":{"account_id":16622550,"reputation":1,"user_id":12698651,"display_name":"Kinzheyev Madi"},"score":0,"creation_date":1655276852,"post_id":72559538,"comment_id":128291368,"body_markdown":"@hlfernandez how to close the issue?","body":"@hlfernandez how to close the issue?"},{"owner":{"account_id":2039963,"reputation":443,"user_id":1821422,"accept_rate":0,"display_name":"hlfernandez"},"score":0,"creation_date":1655279046,"post_id":72559538,"comment_id":128292048,"body_markdown":"I think you have an option to close your question just below the initial post. If not, you can add a new answer with the solution so that others can see it and close the thread.","body":"I think you have an option to close your question just below the initial post. If not, you can add a new answer with the solution so that others can see it and close the thread."}],"owner":{"account_id":16622550,"reputation":1,"user_id":12698651,"display_name":"Kinzheyev Madi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654774327,"creation_date":1654774327,"question_id":72559538,"body_markdown":"I know there are many question like mine. But I don&#39;t know how to solve my problem.\r\nThat&#39;s my classes.\r\n\r\nI have such App class as Main class. Also I have such xml data. I need to parse it to get list of Saccreq objects. \r\n\r\n```\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n        String data = &quot;&lt;MT94x&gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;979373531_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;1&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;BEGIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1089699343_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;9&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1090788724_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;7&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1090858234_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;1&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;REFUSE&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1167198643_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;9&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN1&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1092582159_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;9&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1093640470_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;1&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1094544929_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;5&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1097041457_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;9&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1097685077_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;9&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1098520777_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;11&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1101668069_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;1&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1102311654_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;1&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1103381880_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;1&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1103707818_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;1&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1104481517_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;6&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1109203484_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;9&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1117235778_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;9&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&lt;/MT94x&gt;&quot;;\r\n        MT94x result = stringToObject(data, MT94x.class);\r\n        System.out.println(result.getSaccreq());\r\n    }\r\n\r\n    public static &lt;T&gt; T stringToObject(final String textClazz, final Class&lt;T&gt; clazz){\r\n        T returnedValue;\r\n        try {\r\n            final JAXBContext jaxbContext = JAXBContext.newInstance(clazz);\r\n            final Unmarshaller unmarshaller = jaxbContext.createUnmarshaller();\r\n            final StringReader reader = new StringReader(textClazz);\r\n            returnedValue = (T) unmarshaller.unmarshal(reader);\r\n        } catch ( final JAXBException e ) {\r\n            throw new RuntimeException(&quot;an error occurred while unmarshalling xml into &quot; + clazz.getCanonicalName() + &quot; object&quot;, e );\r\n        }\r\n        return returnedValue;\r\n    }\r\n\r\n}\r\n```\r\nUnmarshalling provides null value for Saccreq list. I just get &quot;[]&quot; in result.\r\n```\r\nimport javax.xml.bind.annotation.*;\r\nimport java.io.Serializable;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@XmlRootElement(name = &quot;MT94x&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class MT94x implements Serializable {\r\n\r\n    public MT94x(){}\r\n\r\n    @XmlElement(name = &quot;saccreq&quot;)\r\n    private List&lt;Saccreq&gt; saccreq;\r\n\r\n    public List&lt;Saccreq&gt; getSaccreq(){\r\n        if (saccreq == null){\r\n            saccreq = new ArrayList&lt;&gt;();\r\n        }\r\n        return this.saccreq;\r\n    }\r\n\r\n    public void setSaccreq(List&lt;Saccreq&gt; saccreqs){\r\n        this.saccreq = saccreqs;\r\n    }\r\n}\r\n```\r\nAs you see in Saccreq class I have 3 field elements which values are in &quot;data&quot; variable in App class.\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class Saccreq {\r\n\r\n    @XmlElement\r\n    private String id;\r\n    @XmlElement\r\n    private String code;\r\n    @XmlElement\r\n    private String state;\r\n\r\n    public Saccreq(){}\r\n\r\n    public void setId(String id){\r\n        this.id = id;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setCode(String code){\r\n        this.code = code;\r\n    }\r\n\r\n    public String getCode() {\r\n        return code;\r\n    }\r\n\r\n    public void setState(String state){\r\n        this.state = state;\r\n    }\r\n\r\n    public String getState() {\r\n        return state;\r\n    }\r\n}\r\n\r\n```\r\n\r\nCan somebody give good advice to solve this?","title":"JAXB unmarshalling provides null","body":"<p>I know there are many question like mine. But I don't know how to solve my problem.\nThat's my classes.</p>\n<p>I have such App class as Main class. Also I have such xml data. I need to parse it to get list of Saccreq objects.</p>\n<pre><code>public class App {\n\n    public static void main(String[] args) {\n        String data = &quot;&lt;MT94x&gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;979373531_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;1&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;BEGIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1089699343_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;9&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1090788724_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;7&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1090858234_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;1&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;REFUSE&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1167198643_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;9&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN1&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1092582159_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;9&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1093640470_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;1&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1094544929_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;5&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1097041457_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;9&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1097685077_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;9&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1098520777_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;11&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1101668069_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;1&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1102311654_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;1&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1103381880_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;1&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1103707818_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;1&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1104481517_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;6&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1109203484_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;9&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&amp;lt;saccreq&amp;gt;&amp;lt;id&amp;gt;1117235778_410&amp;lt;/id&amp;gt;&amp;lt;code&amp;gt;9&amp;lt;/code&amp;gt;&amp;lt;state&amp;gt;FIN&amp;lt;/state&amp;gt;&amp;lt;/saccreq&amp;gt;&lt;/MT94x&gt;&quot;;\n        MT94x result = stringToObject(data, MT94x.class);\n        System.out.println(result.getSaccreq());\n    }\n\n    public static &lt;T&gt; T stringToObject(final String textClazz, final Class&lt;T&gt; clazz){\n        T returnedValue;\n        try {\n            final JAXBContext jaxbContext = JAXBContext.newInstance(clazz);\n            final Unmarshaller unmarshaller = jaxbContext.createUnmarshaller();\n            final StringReader reader = new StringReader(textClazz);\n            returnedValue = (T) unmarshaller.unmarshal(reader);\n        } catch ( final JAXBException e ) {\n            throw new RuntimeException(&quot;an error occurred while unmarshalling xml into &quot; + clazz.getCanonicalName() + &quot; object&quot;, e );\n        }\n        return returnedValue;\n    }\n\n}\n</code></pre>\n<p>Unmarshalling provides null value for Saccreq list. I just get &quot;[]&quot; in result.</p>\n<pre><code>import javax.xml.bind.annotation.*;\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@XmlRootElement(name = &quot;MT94x&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class MT94x implements Serializable {\n\n    public MT94x(){}\n\n    @XmlElement(name = &quot;saccreq&quot;)\n    private List&lt;Saccreq&gt; saccreq;\n\n    public List&lt;Saccreq&gt; getSaccreq(){\n        if (saccreq == null){\n            saccreq = new ArrayList&lt;&gt;();\n        }\n        return this.saccreq;\n    }\n\n    public void setSaccreq(List&lt;Saccreq&gt; saccreqs){\n        this.saccreq = saccreqs;\n    }\n}\n</code></pre>\n<p>As you see in Saccreq class I have 3 field elements which values are in &quot;data&quot; variable in App class.</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\npublic class Saccreq {\n\n    @XmlElement\n    private String id;\n    @XmlElement\n    private String code;\n    @XmlElement\n    private String state;\n\n    public Saccreq(){}\n\n    public void setId(String id){\n        this.id = id;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setCode(String code){\n        this.code = code;\n    }\n\n    public String getCode() {\n        return code;\n    }\n\n    public void setState(String state){\n        this.state = state;\n    }\n\n    public String getState() {\n        return state;\n    }\n}\n\n</code></pre>\n<p>Can somebody give good advice to solve this?</p>\n"},{"tags":["java","sftp","apache-mina","apache-sshd"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1654773033,"post_id":72559063,"comment_id":128174377,"body_markdown":"Does this answer your question? [How to upload/download files using apache SSHD ScpClient](https://stackoverflow.com/questions/62692515/how-to-upload-download-files-using-apache-sshd-scpclient)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/62692515/how-to-upload-download-files-using-apache-sshd-scpclient\">How to upload/download files using apache SSHD ScpClient</a>"},{"owner":{"account_id":20042591,"reputation":3,"user_id":14693020,"display_name":"Sandro700"},"score":1,"creation_date":1654774358,"post_id":72559063,"comment_id":128174880,"body_markdown":"@MartinZeitler, Probably not I think. In the fact I have to specify some actions on client-side as reaction to the changes on server-side file system. For example if I could read  any file that could appears in the server&#39;s file system by client.","body":"@MartinZeitler, Probably not I think. In the fact I have to specify some actions on client-side as reaction to the changes on server-side file system. For example if I could read  any file that could appears in the server&#39;s file system by client."},{"owner":{"account_id":9427288,"reputation":71,"user_id":7011844,"accept_rate":100,"display_name":"Mexplorer"},"score":0,"creation_date":1686651295,"post_id":72559063,"comment_id":134825027,"body_markdown":"@Sandro700 could you find any solution for this?","body":"@Sandro700 could you find any solution for this?"}],"owner":{"account_id":20042591,"reputation":3,"user_id":14693020,"display_name":"Sandro700"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654774132,"creation_date":1654772067,"question_id":72559063,"body_markdown":"I want to listen any updates of the file system but on the client-side. I know that I can do the same thing on server-side via SftpEventListener but I&#39;m not sure if there is any option to implement this on the client-side via the aforementioned listener or somehow else.","title":"How to handle incoming files via Apache Mina SSHD SFTP Client in Java","body":"<p>I want to listen any updates of the file system but on the client-side. I know that I can do the same thing on server-side via SftpEventListener but I'm not sure if there is any option to implement this on the client-side via the aforementioned listener or somehow else.</p>\n"},{"tags":["java","https","wsdl","netbeans-7","webservices-client"],"answers":[{"tags":[],"owner":{"account_id":1345845,"reputation":3244,"user_id":1286621,"accept_rate":80,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345234146,"creation_date":1345234146,"answer_id":12012542,"question_id":12009892,"body_markdown":"Not sure if this helps, but... \r\n\r\nFrom [Here][1]\r\n\r\n&gt; On the client side to consume SSL enabled Web service:\r\n&gt; - in the New Web Service Client wizard under WSDL and Client location specify the WSDL file of the Web Service by setting WSDL URL in form\r\n&gt; of https://&lt;address&gt;:8181/&lt;project-name&gt;/&lt;web-service&gt;\r\n&gt; - then right click on the created web service and choose Edit Web Service Attributes and under Wsimport Options correct the wsdlLocation\r\n&gt; option to the following form:\r\n&gt; /META-INF/wsdl/&lt;address&gt;_8181/&lt;project-name&gt;/&lt;web-service&gt;.wsdl\r\n&gt; \r\n&gt; Whenever you refresh the web service a fresh wsdl file gets loaded\r\n&gt; from the deployed application and the wsdl file gets loaded as a\r\n&gt; resource defined by the correct path (mentioned wsdlLocation option\r\n&gt; value).\r\n\r\n\r\n  [1]: http://forums.netbeans.org/topic30802.html","title":"Webservice client cannot find wsdl","body":"<p>Not sure if this helps, but... </p>\n\n<p>From <a href=\"http://forums.netbeans.org/topic30802.html\" rel=\"nofollow\">Here</a></p>\n\n<blockquote>\n  <p>On the client side to consume SSL enabled Web service:\n  - in the New Web Service Client wizard under WSDL and Client location specify the WSDL file of the Web Service by setting WSDL URL in form\n  of https://:8181//\n  - then right click on the created web service and choose Edit Web Service Attributes and under Wsimport Options correct the wsdlLocation\n  option to the following form:\n  /META-INF/wsdl/_8181//.wsdl</p>\n  \n  <p>Whenever you refresh the web service a fresh wsdl file gets loaded\n  from the deployed application and the wsdl file gets loaded as a\n  resource defined by the correct path (mentioned wsdlLocation option\n  value).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5045586,"reputation":121,"user_id":4051704,"display_name":"damodar"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1431136852,"creation_date":1431135677,"answer_id":30135077,"question_id":12009892,"body_markdown":"The best way to avoid the error &quot;Cannot find wsdl. Place the resource correctly in the classpath.&quot; is to use wsdllocation to specify the location of the wsdl and also to package the wsdl as part of the jar.\r\n\r\nWhen you specify the wsdllocation make sure you add &quot;/&quot; to the beginning of the location.\r\n\r\n\twsimport  -keep -Xnocompile  -wsdllocation /schema/10.0/MyService.wsdl  schema/10.0/MyService.wsdl","title":"Webservice client cannot find wsdl","body":"<p>The best way to avoid the error \"Cannot find wsdl. Place the resource correctly in the classpath.\" is to use wsdllocation to specify the location of the wsdl and also to package the wsdl as part of the jar.</p>\n\n<p>When you specify the wsdllocation make sure you add \"/\" to the beginning of the location.</p>\n\n<pre><code>wsimport  -keep -Xnocompile  -wsdllocation /schema/10.0/MyService.wsdl  schema/10.0/MyService.wsdl\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3189791,"reputation":89,"user_id":2694403,"display_name":"skywards"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1439982275,"creation_date":1439982275,"answer_id":32093713,"question_id":12009892,"body_markdown":"Make sure that you have configured your web service.\r\nOne way to do so is to implement a class that extends `javax.ws.rs.core.Application`. That is, add a class which is similar to the following:\r\n\r\n\r\n\r\n    import java.util.Set;\r\n    import javax.ws.rs.core.Application;\r\n\r\n\r\n    @javax.ws.rs.ApplicationPath(&quot;rest&quot;)\r\n    public class ApplicationConfig extends Application {\r\n\r\n        @Override\r\n        public Set&lt;Class&lt;?&gt;&gt; getClasses() {\r\n            Set&lt;Class&lt;?&gt;&gt; resources = new java.util.HashSet&lt;Class&lt;?&gt;&gt;();\r\n            addRestResourceClasses(resources);\r\n            return resources;\r\n        }\r\n\r\n\r\n        private void addRestResourceClasses(Set&lt;Class&lt;?&gt;&gt; resources) {\r\n            resources.add(rest.HelloWorld.class);\r\n            resources.add(rest.Search.class);\r\n\r\n            // Here continue adding all the JAX-RS classes that you have\r\n        }\r\n\r\n    }\r\n","title":"Webservice client cannot find wsdl","body":"<p>Make sure that you have configured your web service.\nOne way to do so is to implement a class that extends <code>javax.ws.rs.core.Application</code>. That is, add a class which is similar to the following:</p>\n\n<pre><code>import java.util.Set;\nimport javax.ws.rs.core.Application;\n\n\n@javax.ws.rs.ApplicationPath(\"rest\")\npublic class ApplicationConfig extends Application {\n\n    @Override\n    public Set&lt;Class&lt;?&gt;&gt; getClasses() {\n        Set&lt;Class&lt;?&gt;&gt; resources = new java.util.HashSet&lt;Class&lt;?&gt;&gt;();\n        addRestResourceClasses(resources);\n        return resources;\n    }\n\n\n    private void addRestResourceClasses(Set&lt;Class&lt;?&gt;&gt; resources) {\n        resources.add(rest.HelloWorld.class);\n        resources.add(rest.Search.class);\n\n        // Here continue adding all the JAX-RS classes that you have\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1965862,"reputation":3669,"user_id":1766166,"accept_rate":71,"display_name":"zygimantus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455096673,"creation_date":1455096673,"answer_id":35311275,"question_id":12009892,"body_markdown":"Just put your WSDL file in your classpath, etc., src/main/resources/MyWsdl.xml and use this to get it:\r\n\r\n    URL url = new URL(baseUrl, &quot;classpath:MyWsdl.xml&quot;);\r\n\r\nAlso do not forget to add this on your service class that extends javax.xml.ws.Service:\r\n   \r\n    @WebServiceClient(name = &quot;MyService&quot;, targetNamespace = &quot;http://example.org/&quot;, wsdlLocation = &quot;classpath:MyWsdl.xml&quot;)\r\n","title":"Webservice client cannot find wsdl","body":"<p>Just put your WSDL file in your classpath, etc., src/main/resources/MyWsdl.xml and use this to get it:</p>\n\n<pre><code>URL url = new URL(baseUrl, \"classpath:MyWsdl.xml\");\n</code></pre>\n\n<p>Also do not forget to add this on your service class that extends javax.xml.ws.Service:</p>\n\n<pre><code>@WebServiceClient(name = \"MyService\", targetNamespace = \"http://example.org/\", wsdlLocation = \"classpath:MyWsdl.xml\")\n</code></pre>\n"}],"owner":{"account_id":276010,"reputation":225,"user_id":973718,"accept_rate":36,"display_name":"user973718"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18544,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1654773614,"creation_date":1345222333,"question_id":12009892,"body_markdown":"I have created two webservices clients in NetBeans 7.1, mimicking the tutorial they have on their website.  \r\n\r\nI had done the first one a while ago against a wsdl file located at a http location, and had no problem using the webservice\r\n\r\nThe webservice I am working with at the moment has a wsdl file located at a https location.  The setup of the service went off without a hitch. The only difference with the first one was a popup alerting me to a security certificate, which I accepted.  Service, Generated Sources, META-INF etc are all created successfully.  A local copy of the wsdl file is stored on my pc under the src/.. folder.\r\n\r\nHowever, as soon as I go to run my code, I receive this error:\r\n&gt;Cannot find &#39;*https://-domain-.net/-XYZServices-/-ABCXML?wsdl-&#39;* \r\n&gt;wsdl. Place the resource correctly in the classpath.\r\n\r\nI found several similar issues in Stackoverflow and other places online, but nothing that really addressed my problem.  I tried several suggestions anyway:\r\n\r\nI checked the jax-ws-catalog.xml file, and found the url quoted above mapped to the local folder where the local copy of the wsdl is stored.\r\nI checked whether that local folder actually contained the wsdl file - it did.\r\nI tried editing the url in the jax-ws-catalog.xml file to point to port 8080 and 8081 - no joy.\r\n\r\nI guess it is a security issue, but have no clue as to how to fix this.\r\n\r\nCan anyone point me in the right direction here.\r\n\r\nFYI: I&#39;m fairly new to java and NetBeans.\r\n\r\nThanks.","title":"Webservice client cannot find wsdl","body":"<p>I have created two webservices clients in NetBeans 7.1, mimicking the tutorial they have on their website.  </p>\n\n<p>I had done the first one a while ago against a wsdl file located at a http location, and had no problem using the webservice</p>\n\n<p>The webservice I am working with at the moment has a wsdl file located at a https location.  The setup of the service went off without a hitch. The only difference with the first one was a popup alerting me to a security certificate, which I accepted.  Service, Generated Sources, META-INF etc are all created successfully.  A local copy of the wsdl file is stored on my pc under the src/.. folder.</p>\n\n<p>However, as soon as I go to run my code, I receive this error:</p>\n\n<blockquote>\n  <p>Cannot find '<em>https://-domain-.net/-XYZServices-/-ABCXML?wsdl-'</em> \n  wsdl. Place the resource correctly in the classpath.</p>\n</blockquote>\n\n<p>I found several similar issues in Stackoverflow and other places online, but nothing that really addressed my problem.  I tried several suggestions anyway:</p>\n\n<p>I checked the jax-ws-catalog.xml file, and found the url quoted above mapped to the local folder where the local copy of the wsdl is stored.\nI checked whether that local folder actually contained the wsdl file - it did.\nI tried editing the url in the jax-ws-catalog.xml file to point to port 8080 and 8081 - no joy.</p>\n\n<p>I guess it is a security issue, but have no clue as to how to fix this.</p>\n\n<p>Can anyone point me in the right direction here.</p>\n\n<p>FYI: I'm fairly new to java and NetBeans.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3729128,"reputation":2911,"user_id":3102098,"accept_rate":55,"display_name":"Vaelyr"},"score":0,"creation_date":1654773161,"post_id":72559125,"comment_id":128174424,"body_markdown":"You need to implement your own AuthenticationManager which constructs your desired final concrete implementation of Authentication object for example UsernamePasswordAuthenticationToken or whatever is your exact need. AuthenticationManager delegates to AuthenticationProvider which calls your UserDetailService.","body":"You need to implement your own AuthenticationManager which constructs your desired final concrete implementation of Authentication object for example UsernamePasswordAuthenticationToken or whatever is your exact need. AuthenticationManager delegates to AuthenticationProvider which calls your UserDetailService."},{"owner":{"account_id":10455882,"reputation":1146,"user_id":9677980,"display_name":"Arjun"},"score":0,"creation_date":1654773425,"post_id":72559125,"comment_id":128174554,"body_markdown":"I&#39;ve implemented AuthenticationManager which is not getting invoked,I&#39;ll provide the code","body":"I&#39;ve implemented AuthenticationManager which is not getting invoked,I&#39;ll provide the code"},{"owner":{"account_id":3729128,"reputation":2911,"user_id":3102098,"accept_rate":55,"display_name":"Vaelyr"},"score":0,"creation_date":1654773642,"post_id":72559125,"comment_id":128174634,"body_markdown":"Your current code uses default implementation of AuthenticationManager, you need to remove that part and define your own custom bean for your custom implementation, else it gets overridden by Spring Security-s default config. Edit: You need new `AuthenticationManager` not `AuthenticationProvider` . Same contract, different purpose.","body":"Your current code uses default implementation of AuthenticationManager, you need to remove that part and define your own custom bean for your custom implementation, else it gets overridden by Spring Security-s default config. Edit: You need new <code>AuthenticationManager</code> not <code>AuthenticationProvider</code> . Same contract, different purpose."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654865679,"post_id":72559125,"comment_id":128200650,"body_markdown":"You don&#39;t need your own `AuthenticationManager` but indeed either an `AuthenticationProvider` or even better let your filter construct what you need. So either change your `AuthenticationProvider` implementation to extract that information from the passed in `Authentication` or do this in the filter.","body":"You don&#39;t need your own <code>AuthenticationManager</code> but indeed either an <code>AuthenticationProvider</code> or even better let your filter construct what you need. So either change your <code>AuthenticationProvider</code> implementation to extract that information from the passed in <code>Authentication</code> or do this in the filter."}],"owner":{"account_id":10455882,"reputation":1146,"user_id":9677980,"display_name":"Arjun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654773554,"creation_date":1654772345,"question_id":72559125,"body_markdown":"I&#39;ve encoded additional data to jwt token like user authorities,username etc. Spring security is invoking loadUserByUsername with complete jwt token decoded how can I get it to pass only username from the token to userdetailsService?\r\n\r\ncode\r\n\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;myUserDetailsService&quot;)\r\n        private UserDetailsService myUserDetailsService;\r\n    \r\n        @Autowired\r\n        private MessageSource messageSource;\r\n    \r\n        @Autowired\r\n        private JwtRequestFilter jwtRequestFilter;\r\n    \r\n        @Autowired\r\n        private CustomAuthenticationProvider authProvider;\r\n    \r\n    \r\n        @Autowired\r\n        protected void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.authenticationProvider(authProvider).userDetailsService(myUserDetailsService).passwordEncoder(new PlainTextPasswordEncoder());\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        @Override\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .csrf()\r\n                    .disable()\r\n                    .cors()\r\n                    .and()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/api/authenticate&quot;)\r\n                    .permitAll()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and()\r\n                    .exceptionHandling()\r\n                    .authenticationEntryPoint(authenticationEntryPoint())\r\n                    .and()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                    .addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);//NOSONAR\r\n        }\r\n    \r\n        @Override\r\n        public void configure(WebSecurity web) throws Exception {\r\n            web.ignoring().antMatchers(&quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;, &quot;/swagger-ui.html&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationEntryPoint authenticationEntryPoint() {\r\n            return new CustomAuthenticationEntryPoint(messageSource);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nUserDetailsService\r\n\r\n    @Service(&quot;myUserDetailsService&quot;)\r\n    public class MyUserDetailsService implements UserDetailsService {\r\n    \r\n        @Value(&quot;${jwt.password.secret}&quot;)\r\n        public String password;\r\n    \r\n        @Autowired\r\n        AekAztabRepository aekAztabRepository;\r\n    \r\n        @Autowired\r\n        ConversionService conversionService;\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n            Optional&lt;Aektab&gt; aekAztab = aektabRepository.findByGeNr(username);\r\n              if(aektab.isPresent()) {\r\n                  if (aekAztab.get().getGeNr().equals(username)) {\r\n                      return conversionService.convert(aektab.get(), User.class);\r\n                  }\r\n              }\r\n              else{\r\n                  throw new UsernameNotFoundException(&quot;Invalid user name&quot;);\r\n              }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        public List&lt;UserDetails&gt; populateUserDetails()\r\n        {\r\n   \r\n            List&lt;UserDetails&gt; userDetails =new ArrayList&lt;&gt;();\r\n    \r\n            return userDetails;\r\n        }\r\n    \r\n    }\r\n\r\nthe username that is passed to loadUserByUsername is username=`{&quot;username&quot;:&quot;123456788&quot;,&quot;language&quot;:null,&quot;deactivationReason&quot;:null,&quot;terminationYear&quot;:null,&quot;authorities&quot;:[{&quot;authority&quot;:&quot;ROLE_ADMIN_ROK&quot;}],&quot;active&quot;:false,&quot;terminated&quot;:false}`\r\n\r\nhow can I override security configurations to get spring security to pass only username from this token ? And which one is called first AuthenticationProvider or UserdetailsService?\r\n\r\n\r\nupdate\r\nAuthenticationProvider\r\n   \r\n\r\n     @Override\r\n        public Authentication authenticate(Authentication authentication)\r\n                throws AuthenticationException {\r\n            String name = authentication.getName();\r\n            String password = authentication.getCredentials().toString();\r\n    \r\n    \r\n    \r\n                // use the credentials\r\n                // and authenticate against the third-party system\r\n                return new UsernamePasswordAuthenticationToken(\r\n                        name, password, new ArrayList&lt;&gt;());\r\n            }\r\n    \r\n        @Override\r\n        public boolean supports(Class&lt;?&gt; authentication) {\r\n            return authentication.equals(UsernamePasswordAuthenticationToken.class);\r\n        }\r\n    }","title":"Spring security passes complete decoded jwt token to loadUserByUsername method how can I get it to pass only username from the token instead?","body":"<p>I've encoded additional data to jwt token like user authorities,username etc. Spring security is invoking loadUserByUsername with complete jwt token decoded how can I get it to pass only username from the token to userdetailsService?</p>\n<p>code</p>\n<pre><code>public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    @Qualifier(&quot;myUserDetailsService&quot;)\n    private UserDetailsService myUserDetailsService;\n\n    @Autowired\n    private MessageSource messageSource;\n\n    @Autowired\n    private JwtRequestFilter jwtRequestFilter;\n\n    @Autowired\n    private CustomAuthenticationProvider authProvider;\n\n\n    @Autowired\n    protected void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(authProvider).userDetailsService(myUserDetailsService).passwordEncoder(new PlainTextPasswordEncoder());\n    }\n\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf()\n                .disable()\n                .cors()\n                .and()\n                .authorizeRequests()\n                .antMatchers(&quot;/api/authenticate&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .exceptionHandling()\n                .authenticationEntryPoint(authenticationEntryPoint())\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);//NOSONAR\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(&quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;, &quot;/swagger-ui.html&quot;);\n    }\n\n    @Bean\n    public AuthenticationEntryPoint authenticationEntryPoint() {\n        return new CustomAuthenticationEntryPoint(messageSource);\n    }\n\n}\n</code></pre>\n<p>UserDetailsService</p>\n<pre><code>@Service(&quot;myUserDetailsService&quot;)\npublic class MyUserDetailsService implements UserDetailsService {\n\n    @Value(&quot;${jwt.password.secret}&quot;)\n    public String password;\n\n    @Autowired\n    AekAztabRepository aekAztabRepository;\n\n    @Autowired\n    ConversionService conversionService;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        Optional&lt;Aektab&gt; aekAztab = aektabRepository.findByGeNr(username);\n          if(aektab.isPresent()) {\n              if (aekAztab.get().getGeNr().equals(username)) {\n                  return conversionService.convert(aektab.get(), User.class);\n              }\n          }\n          else{\n              throw new UsernameNotFoundException(&quot;Invalid user name&quot;);\n          }\n\n        return null;\n    }\n\n    public List&lt;UserDetails&gt; populateUserDetails()\n    {\n\n        List&lt;UserDetails&gt; userDetails =new ArrayList&lt;&gt;();\n\n        return userDetails;\n    }\n\n}\n</code></pre>\n<p>the username that is passed to loadUserByUsername is username=<code>{&quot;username&quot;:&quot;123456788&quot;,&quot;language&quot;:null,&quot;deactivationReason&quot;:null,&quot;terminationYear&quot;:null,&quot;authorities&quot;:[{&quot;authority&quot;:&quot;ROLE_ADMIN_ROK&quot;}],&quot;active&quot;:false,&quot;terminated&quot;:false}</code></p>\n<p>how can I override security configurations to get spring security to pass only username from this token ? And which one is called first AuthenticationProvider or UserdetailsService?</p>\n<p>update\nAuthenticationProvider</p>\n<pre><code> @Override\n    public Authentication authenticate(Authentication authentication)\n            throws AuthenticationException {\n        String name = authentication.getName();\n        String password = authentication.getCredentials().toString();\n\n\n\n            // use the credentials\n            // and authenticate against the third-party system\n            return new UsernamePasswordAuthenticationToken(\n                    name, password, new ArrayList&lt;&gt;());\n        }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return authentication.equals(UsernamePasswordAuthenticationToken.class);\n    }\n}\n</code></pre>\n"},{"tags":["java","exception","virtual-machine"],"owner":{"account_id":25436265,"reputation":11,"user_id":19239939,"display_name":"Batter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654773482,"creation_date":1654772787,"question_id":72559219,"body_markdown":"Stack Trace:\r\n\r\n    com.sun.tools.attach.AgentLoadException: 102\r\n    \tat jdk.attach/sun.tools.attach.HotSpotVirtualMachine.loadAgentLibrary(HotSpotVirtualMachine.java:109)\r\n    \tat jdk.attach/sun.tools.attach.HotSpotVirtualMachine.loadAgentLibrary(HotSpotVirtualMachine.java:120)\r\n    \tat jdk.attach/sun.tools.attach.HotSpotVirtualMachine.loadAgent(HotSpotVirtualMachine.java:148)\r\n    \tat Main.main(Main.java:31)\r\n\r\nCode:   \r\n\r\n \r\n\r\n    try {\r\n                attach.loadAgent(agent.getAbsolutePath() , &quot;1&quot;);\r\n                System.out.println(&quot;Agent was loaded.&quot;);\r\n            } catch (AgentLoadException e) {\r\n                System.err.println(&quot;Agent failed to load: &quot;);\r\n                e.printStackTrace();\r\n            } catch (AgentInitializationException e) {\r\n                System.err.println(&quot;Agent loaded, but failed to initialize: &quot;);\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n            \te.printStackTrace();\r\n            }\r\n\r\n\r\nTrying to attach an agent to a VM\r\nI get AgentLoadException:102\r\n102 upon looking up is ATTACH_ERROR_STARTFAIL\r\nAny ideas on how can I solve it?\r\nthanks.","title":"com.sun.tools.attach.AgentLoadException: 102 when attaching","body":"<p>Stack Trace:</p>\n<pre><code>com.sun.tools.attach.AgentLoadException: 102\n    at jdk.attach/sun.tools.attach.HotSpotVirtualMachine.loadAgentLibrary(HotSpotVirtualMachine.java:109)\n    at jdk.attach/sun.tools.attach.HotSpotVirtualMachine.loadAgentLibrary(HotSpotVirtualMachine.java:120)\n    at jdk.attach/sun.tools.attach.HotSpotVirtualMachine.loadAgent(HotSpotVirtualMachine.java:148)\n    at Main.main(Main.java:31)\n</code></pre>\n<p>Code:</p>\n<pre><code>try {\n            attach.loadAgent(agent.getAbsolutePath() , &quot;1&quot;);\n            System.out.println(&quot;Agent was loaded.&quot;);\n        } catch (AgentLoadException e) {\n            System.err.println(&quot;Agent failed to load: &quot;);\n            e.printStackTrace();\n        } catch (AgentInitializationException e) {\n            System.err.println(&quot;Agent loaded, but failed to initialize: &quot;);\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>Trying to attach an agent to a VM\nI get AgentLoadException:102\n102 upon looking up is ATTACH_ERROR_STARTFAIL\nAny ideas on how can I solve it?\nthanks.</p>\n"},{"tags":["java","spring-boot","jackson","spring-hateoas","hateoas"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1654150343,"post_id":72464672,"comment_id":128023637,"body_markdown":"I tried to deserialize to `Employee` and works, you have to deserialize to `EmployeeResource` instead ?","body":"I tried to deserialize to <code>Employee</code> and works, you have to deserialize to <code>EmployeeResource</code> instead ?"},{"owner":{"account_id":11247423,"reputation":609,"user_id":8249665,"display_name":"was_777"},"score":0,"creation_date":1654151093,"post_id":72464672,"comment_id":128023832,"body_markdown":"@dariosicily yes it should be deserialized to `EmployeeResource`","body":"@dariosicily yes it should be deserialized to <code>EmployeeResource</code>"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1654159577,"post_id":72464672,"comment_id":128026569,"body_markdown":"It seems related to hateoas and not jackson, no idea about the source of the error.","body":"It seems related to hateoas and not jackson, no idea about the source of the error."}],"answers":[{"tags":[],"owner":{"account_id":11247423,"reputation":609,"user_id":8249665,"display_name":"was_777"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654773367,"creation_date":1654773367,"answer_id":72559343,"question_id":72464672,"body_markdown":"Removing `new Employee()` from `super()` constructor of `EntityModel` resolved the issue, but not sure the reason.\r\n\r\n```java\r\npublic class EmployeeResource extends Resource&lt;Employee&gt; {\r\n    EmployeeResource(){\r\n        super();\r\n    }\r\n}\r\n```","title":"Spring Hateoas error from EntityModel : Content is not a Map","body":"<p>Removing <code>new Employee()</code> from <code>super()</code> constructor of <code>EntityModel</code> resolved the issue, but not sure the reason.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EmployeeResource extends Resource&lt;Employee&gt; {\n    EmployeeResource(){\n        super();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11247423,"reputation":609,"user_id":8249665,"display_name":"was_777"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":695,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72559343,"answer_count":1,"score":0,"last_activity_date":1654773367,"creation_date":1654098173,"question_id":72464672,"body_markdown":"I am upgrading `spring-hateoas` from `0.20.0.RELEASE` to `1.3.7`\r\n\r\nI replaced `ResourceSupport` with `RepresentationModel` and `Resource` with `RepresentationModel`.\r\n\r\nWhile deserialising the `JSON` of the DTO I am getting an exception, which is working fine in the old version.\r\n\r\nDTO with old Hateoas version\r\n```java\r\npublic class Employee extends ResourceSupport implements Serializable {\r\n\t@JsonProperty(&quot;id&quot;)\r\n\tprivate Long id;\r\n\t@JsonProperty(&quot;name&quot;)\r\n\tprivate String name;\r\n}\r\n```    \r\n```java\r\npublic class EmployeeResource extends Resource&lt;Employee&gt; {\r\n\tEmployeeResource(){\r\n\t\tsuper(new Employee());\r\n\t}\r\n}\r\n```\r\n---\r\nDTO with new Hateoas version\r\n```java\r\npublic class Employee extends RepresentationModel&lt;Employee&gt; implements Serializable {\r\n\t@JsonProperty(&quot;id&quot;)\r\n\tprivate Long id;\r\n\t@JsonProperty(&quot;name&quot;)\r\n\tprivate String name;\r\n}\r\n```\r\n```java\r\npublic class EmployeeResource extends EntityModel&lt;Employee&gt; {\r\n\tEmployeeResource(){\r\n\t\tsuper(new Employee());\r\n\t}\r\n}\r\n```\r\n---\r\n`JSON` file to be deserialised `employee.json`\r\n```json\r\n{\r\n  &quot;employees&quot;: [\r\n    {\r\n      &quot;id&quot;: 1,\r\n      &quot;name&quot;: &quot;Test&quot;,\r\n      &quot;links&quot;: [\r\n        {\r\n          &quot;rel&quot;: &quot;self&quot;,\r\n          &quot;href&quot;: &quot;api/employees/1&quot;\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n---\r\nTest case of deserialisation\r\n```java\r\n@Test\r\npublic void test() throws IOException {\r\n\tObjectMapper mapper = new ObjectMapper();\r\n\tInputStream inputStream = EmpTest.class.getClassLoader().getResourceAsStream(&quot;employee.json&quot;);\r\n\tJsonNode node = mapper.readTree(IOUtils.toByteArray(inputStream));\r\n\tTypeFactory typeFactory = mapper.getTypeFactory();\r\n\tCollectionType listType = typeFactory.constructCollectionType(ArrayList.class, EmployeeResource.class);\r\n\tList resultList = mapper.convertValue(node.findValue(&quot;employees&quot;), listType);\r\n\tSystem.out.println(resultList);\r\n}\r\n```\r\n---\r\nException\r\n```java\r\njava.lang.IllegalArgumentException: Content is not a Map! (through reference chain: java.util.ArrayList[0]-&gt;com.test.EmployeeResource[&quot;id&quot;])\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:3589)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.convertValue(ObjectMapper.java:3530)\r\n\tat com.test.EmpTest.test(EmpTest.java:60)\r\nCaused by: java.lang.IllegalStateException: Content is not a Map!\r\n\tat org.springframework.util.Assert.state(Assert.java:70)\r\n\tat org.springframework.hateoas.EntityModel.getOrInitAsMap(EntityModel.java:158)\r\n\tat org.springframework.hateoas.EntityModel.setPropertiesAsMap(EntityModel.java:149)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.fasterxml.jackson.databind.introspect.AnnotatedMethod.callOnWith(AnnotatedMethod.java:130)\r\n\tat com.fasterxml.jackson.databind.deser.SettableAnyProperty.set(SettableAnyProperty.java:172)\r\n\t... 33 more\r\n```","title":"Spring Hateoas error from EntityModel : Content is not a Map","body":"<p>I am upgrading <code>spring-hateoas</code> from <code>0.20.0.RELEASE</code> to <code>1.3.7</code></p>\n<p>I replaced <code>ResourceSupport</code> with <code>RepresentationModel</code> and <code>Resource</code> with <code>RepresentationModel</code>.</p>\n<p>While deserialising the <code>JSON</code> of the DTO I am getting an exception, which is working fine in the old version.</p>\n<p>DTO with old Hateoas version</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Employee extends ResourceSupport implements Serializable {\n    @JsonProperty(&quot;id&quot;)\n    private Long id;\n    @JsonProperty(&quot;name&quot;)\n    private String name;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class EmployeeResource extends Resource&lt;Employee&gt; {\n    EmployeeResource(){\n        super(new Employee());\n    }\n}\n</code></pre>\n<hr />\n<p>DTO with new Hateoas version</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Employee extends RepresentationModel&lt;Employee&gt; implements Serializable {\n    @JsonProperty(&quot;id&quot;)\n    private Long id;\n    @JsonProperty(&quot;name&quot;)\n    private String name;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class EmployeeResource extends EntityModel&lt;Employee&gt; {\n    EmployeeResource(){\n        super(new Employee());\n    }\n}\n</code></pre>\n<hr />\n<p><code>JSON</code> file to be deserialised <code>employee.json</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;employees&quot;: [\n    {\n      &quot;id&quot;: 1,\n      &quot;name&quot;: &quot;Test&quot;,\n      &quot;links&quot;: [\n        {\n          &quot;rel&quot;: &quot;self&quot;,\n          &quot;href&quot;: &quot;api/employees/1&quot;\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<hr />\n<p>Test case of deserialisation</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void test() throws IOException {\n    ObjectMapper mapper = new ObjectMapper();\n    InputStream inputStream = EmpTest.class.getClassLoader().getResourceAsStream(&quot;employee.json&quot;);\n    JsonNode node = mapper.readTree(IOUtils.toByteArray(inputStream));\n    TypeFactory typeFactory = mapper.getTypeFactory();\n    CollectionType listType = typeFactory.constructCollectionType(ArrayList.class, EmployeeResource.class);\n    List resultList = mapper.convertValue(node.findValue(&quot;employees&quot;), listType);\n    System.out.println(resultList);\n}\n</code></pre>\n<hr />\n<p>Exception</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.IllegalArgumentException: Content is not a Map! (through reference chain: java.util.ArrayList[0]-&gt;com.test.EmployeeResource[&quot;id&quot;])\n    at com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:3589)\n    at com.fasterxml.jackson.databind.ObjectMapper.convertValue(ObjectMapper.java:3530)\n    at com.test.EmpTest.test(EmpTest.java:60)\nCaused by: java.lang.IllegalStateException: Content is not a Map!\n    at org.springframework.util.Assert.state(Assert.java:70)\n    at org.springframework.hateoas.EntityModel.getOrInitAsMap(EntityModel.java:158)\n    at org.springframework.hateoas.EntityModel.setPropertiesAsMap(EntityModel.java:149)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.fasterxml.jackson.databind.introspect.AnnotatedMethod.callOnWith(AnnotatedMethod.java:130)\n    at com.fasterxml.jackson.databind.deser.SettableAnyProperty.set(SettableAnyProperty.java:172)\n    ... 33 more\n</code></pre>\n"},{"tags":["java","regex","string","replace","replaceall"],"answers":[{"tags":[],"owner":{"account_id":11012983,"reputation":3516,"user_id":8089674,"display_name":"Robo Mop"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1654773131,"creation_date":1654772521,"answer_id":72559157,"question_id":72558926,"body_markdown":"The correct code for this would be\r\n\r\n    str.replaceAll(&quot;&amp;([a-zA-Z]\\\\s)&quot;, &quot;\\\\$d$1&quot;)\r\n\r\nThis is an example of backreferencing captured groups in regex, and [a here is a nice reference for it](https://dzone.com/articles/backreferences-java-regular). Additionally, [here&#39;s a relevant StackOverflow question about it](https://stackoverflow.com/questions/37734164/regex-backreferences-in-java).\r\n\r\nEssentially, the match inside the parentheses (`[a-zA-Z]\\\\s`) matches a single letter and a space. The value of this match can be referenced with `$1` since it is of capturing group 1.\r\n\r\nSo we replace `&amp;(a )` with `$d(a )` (brackets here to demonstrate what is captured). Credit to u/rzwitserloot for reminding me that OP wants $ not &amp;.","title":"Can we replace a specific part of a string literal using any predefined function and regex","body":"<p>The correct code for this would be</p>\n<pre><code>str.replaceAll(&quot;&amp;([a-zA-Z]\\\\s)&quot;, &quot;\\\\$d$1&quot;)\n</code></pre>\n<p>This is an example of backreferencing captured groups in regex, and <a href=\"https://dzone.com/articles/backreferences-java-regular\" rel=\"nofollow noreferrer\">a here is a nice reference for it</a>. Additionally, <a href=\"https://stackoverflow.com/questions/37734164/regex-backreferences-in-java\">here's a relevant StackOverflow question about it</a>.</p>\n<p>Essentially, the match inside the parentheses (<code>[a-zA-Z]\\\\s</code>) matches a single letter and a space. The value of this match can be referenced with <code>$1</code> since it is of capturing group 1.</p>\n<p>So we replace <code>&amp;(a )</code> with <code>$d(a )</code> (brackets here to demonstrate what is captured). Credit to u/rzwitserloot for reminding me that OP wants $ not &amp;.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654773232,"creation_date":1654773232,"answer_id":72559314,"question_id":72558926,"body_markdown":"You presumably want a concept called look-ahead: You can match on things being there without &#39;consuming&#39; it. You can even match on things NOT being there. That&#39;s what you want here: Match `&amp;[a-z]`, but only if looking ahead past that, we do NOT see another letter:\r\n\r\n```\r\nfor (String test : List.of(&quot;Two literals are &amp;a and &amp;bcd&quot;, &quot;A literal is &amp;a&quot;, &quot;How about &amp;a?&quot;)) {\r\n  System.out.println(str.replaceAll(&quot;&amp;(?=[a-zA-Z](?![a-zA-Z]))&quot;, &quot;\\\\$d&quot;));\r\n}\r\n```\r\n\r\nPerhaps instead you want the single letter thing to just be on any word break (i.e. `&amp;z00` should NOT turn into `$dz00`, even though there is no letter after the `z`. Then I suggest: \r\n\r\n`&quot;&amp;(?=[a-zA-Z]\\\\b)&quot;`\r\n\r\nThat&#39;s a lot simpler to read!\r\n\r\nA few notes:\r\n\r\n* `(?=x)` is &#39;positive lookahead&#39;. It doesn&#39;t itself match anything but makes the match fail if `x` is not immediately following the match.\r\n* `(?!x)` is &#39;negative lookahead&#39;. It doesn&#39;t itself match anything but makes the match fail if `x` _is_ immediately following the match.\r\n* `$` has special meaning in the replacement part so we need to escape it.\r\n* `\\\\b` is regexpese for &#39;word break&#39;: Doesn&#39;t match any characters, but fails if we aren&#39;t on a &#39;word break&#39;. Spaces, dots, end-of-input, end-of-line, a dash, an ampersand - many things are word breaks.\r\n* We don&#39;t want to match those letters because if we do, they would be replaced.\r\n","title":"Can we replace a specific part of a string literal using any predefined function and regex","body":"<p>You presumably want a concept called look-ahead: You can match on things being there without 'consuming' it. You can even match on things NOT being there. That's what you want here: Match <code>&amp;[a-z]</code>, but only if looking ahead past that, we do NOT see another letter:</p>\n<pre><code>for (String test : List.of(&quot;Two literals are &amp;a and &amp;bcd&quot;, &quot;A literal is &amp;a&quot;, &quot;How about &amp;a?&quot;)) {\n  System.out.println(str.replaceAll(&quot;&amp;(?=[a-zA-Z](?![a-zA-Z]))&quot;, &quot;\\\\$d&quot;));\n}\n</code></pre>\n<p>Perhaps instead you want the single letter thing to just be on any word break (i.e. <code>&amp;z00</code> should NOT turn into <code>$dz00</code>, even though there is no letter after the <code>z</code>. Then I suggest:</p>\n<p><code>&quot;&amp;(?=[a-zA-Z]\\\\b)&quot;</code></p>\n<p>That's a lot simpler to read!</p>\n<p>A few notes:</p>\n<ul>\n<li><code>(?=x)</code> is 'positive lookahead'. It doesn't itself match anything but makes the match fail if <code>x</code> is not immediately following the match.</li>\n<li><code>(?!x)</code> is 'negative lookahead'. It doesn't itself match anything but makes the match fail if <code>x</code> <em>is</em> immediately following the match.</li>\n<li><code>$</code> has special meaning in the replacement part so we need to escape it.</li>\n<li><code>\\\\b</code> is regexpese for 'word break': Doesn't match any characters, but fails if we aren't on a 'word break'. Spaces, dots, end-of-input, end-of-line, a dash, an ampersand - many things are word breaks.</li>\n<li>We don't want to match those letters because if we do, they would be replaced.</li>\n</ul>\n"}],"owner":{"account_id":25514811,"reputation":21,"user_id":19305838,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72559157,"answer_count":2,"score":0,"last_activity_date":1654773232,"creation_date":1654771533,"question_id":72558926,"body_markdown":"I want to replace &quot;&amp;&quot; with a random word &quot;$d&quot; in a given sentence.\r\nCan we replace only those words which start with &amp; and are followed by a single character and a space?\r\n\r\nExample:-\r\n\r\n**Input:-**\r\n\r\n**Two literals are &amp;a and &amp;b and also check &amp;abc and &amp;bac here.**\r\n\r\n**Output:-**\r\n\r\n**Two literals are $da and $db and also check &amp;abc and &amp;bac here.**\r\n\r\n\r\nIn the above example in input, the only words that should be replaced are &amp;a and &amp;b(not the complete word should be replaced, only just the &#39;&amp;&#39; in both the words) because these two random words start with &amp; and are followed by a single character and a space.\r\n\r\nIn the case of the replaceAll() function, it replaces the entire word when I used regex:-\r\n\r\n    String str=&quot;Two literals are &amp;a and &amp;b and also check &amp;abc and &amp;bac here.&quot;;\r\n    \r\n    str = str.replaceAll(&quot;\\\\&amp;[a-zA-Z]{1}\\\\s&quot;, &quot;\\\\$d&quot;);\r\n    \r\n    System.out.println(str);\r\n\r\n    //output for this:-Two literals are $d and $d and also check &amp;abc and &amp;bac here.\r\n\r\n    //expected output:-Two literals are $da and $db and also check &amp;abc and &amp;bac here.\r\n\r\n\r\n\r\n","title":"Can we replace a specific part of a string literal using any predefined function and regex","body":"<p>I want to replace &quot;&amp;&quot; with a random word &quot;$d&quot; in a given sentence.\nCan we replace only those words which start with &amp; and are followed by a single character and a space?</p>\n<p>Example:-</p>\n<p><strong>Input:-</strong></p>\n<p><strong>Two literals are &amp;a and &amp;b and also check &amp;abc and &amp;bac here.</strong></p>\n<p><strong>Output:-</strong></p>\n<p><strong>Two literals are $da and $db and also check &amp;abc and &amp;bac here.</strong></p>\n<p>In the above example in input, the only words that should be replaced are &amp;a and &amp;b(not the complete word should be replaced, only just the '&amp;' in both the words) because these two random words start with &amp; and are followed by a single character and a space.</p>\n<p>In the case of the replaceAll() function, it replaces the entire word when I used regex:-</p>\n<pre><code>String str=&quot;Two literals are &amp;a and &amp;b and also check &amp;abc and &amp;bac here.&quot;;\n\nstr = str.replaceAll(&quot;\\\\&amp;[a-zA-Z]{1}\\\\s&quot;, &quot;\\\\$d&quot;);\n\nSystem.out.println(str);\n\n//output for this:-Two literals are $d and $d and also check &amp;abc and &amp;bac here.\n\n//expected output:-Two literals are $da and $db and also check &amp;abc and &amp;bac here.\n</code></pre>\n"},{"tags":["java","maven","keytool"],"answers":[{"tags":[],"owner":{"account_id":2002545,"reputation":832,"user_id":1793217,"display_name":"ngong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654772807,"creation_date":1654772807,"answer_id":72559223,"question_id":72558829,"body_markdown":"Could find a solution: The keystore Maven is using, is that of the JDK, which is *$JAVA_HOME/lib/security/cacerts*.&lt;BR/&gt;\r\nSubstituting `-cacerts` by `-keystore $JAVA_HOME/lib/security/cacerts` in the `keytool` command above solved my problem.\r\n\r\nStill: why is the keytool option *-cacerts* not working for me? It is documented all over but does not pop up with `keytool -help -importcert`.","title":"keytool does not understand -cacerts","body":"<p>Could find a solution: The keystore Maven is using, is that of the JDK, which is <em>$JAVA_HOME/lib/security/cacerts</em>.<BR/>\nSubstituting <code>-cacerts</code> by <code>-keystore $JAVA_HOME/lib/security/cacerts</code> in the <code>keytool</code> command above solved my problem.</p>\n<p>Still: why is the keytool option <em>-cacerts</em> not working for me? It is documented all over but does not pop up with <code>keytool -help -importcert</code>.</p>\n"}],"owner":{"account_id":2002545,"reputation":832,"user_id":1793217,"display_name":"ngong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654772807,"creation_date":1654770923,"question_id":72558829,"body_markdown":"I am behind a firewall using Maven to resolve dependencies for my Java projects.&lt;BR/&gt;\r\nWhen getting the error message from Maven &quot;*... transfer failed for https://something ...*&quot; \r\nI used to open https://something in a browser, save the certificate to a .cer-file and use&lt;BR/&gt; \r\n`keytool -importcert -cacerts -alias &lt;some-alias&gt; -file &lt;.cer-file&gt; -storepass changeit`.&lt;BR/&gt;\r\nAfter that procedure, Maven usually can find the repo for download.\r\n\r\nBut now I get the error message from keytool *unknown Option: -cacerts*.\r\n\r\nI guess I could substitute -cacerts by `-keystore the-keystore-file`, but I do not know how to find the file that is used by Maven or by the JDK Maven is using.\r\n\r\nWhat can I do so that Maven finds the certificate?","title":"keytool does not understand -cacerts","body":"<p>I am behind a firewall using Maven to resolve dependencies for my Java projects.<BR/>\nWhen getting the error message from Maven &quot;<em>... transfer failed for https://something ...</em>&quot;\nI used to open https://something in a browser, save the certificate to a .cer-file and use<BR/>\n<code>keytool -importcert -cacerts -alias &lt;some-alias&gt; -file &lt;.cer-file&gt; -storepass changeit</code>.<BR/>\nAfter that procedure, Maven usually can find the repo for download.</p>\n<p>But now I get the error message from keytool <em>unknown Option: -cacerts</em>.</p>\n<p>I guess I could substitute -cacerts by <code>-keystore the-keystore-file</code>, but I do not know how to find the file that is used by Maven or by the JDK Maven is using.</p>\n<p>What can I do so that Maven finds the certificate?</p>\n"},{"tags":["java","comparator"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":2,"creation_date":1556445142,"post_id":55889032,"comment_id":98435248,"body_markdown":"You should use the `new` keyword to create an instance of `Rectangle`. You are trying to execute the constructor as if it was a static method.","body":"You should use the <code>new</code> keyword to create an instance of <code>Rectangle</code>. You are trying to execute the constructor as if it was a static method."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1556445192,"post_id":55889032,"comment_id":98435261,"body_markdown":"What do you expect `Rectangle.Rectangle(a,b);` to do?","body":"What do you expect <code>Rectangle.Rectangle(a,b);</code> to do?"}],"answers":[{"tags":[],"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Micha Krzywaski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1556445547,"creation_date":1556445182,"answer_id":55889065,"question_id":55889032,"body_markdown":"Instead of writing:\r\n````\r\nRectangle.Rectangle(a,b);\r\n````\r\nwhich is calling a static method named `Rectangle`, which is potentially part of `Rectangle` class, try to create an object using constructor that you declared in your `Rectangle` class to instantiate new rectangle object :\r\n````\r\nRectangle rectangle = new Rectangle(a, b);\r\n````\r\nYou have not declared any static method named `Rectangle` in your `Rectangle` class, that is why this error appears.","title":"How to fix &quot;java: cannot find symbol&quot;","body":"<p>Instead of writing:</p>\n\n<pre><code>Rectangle.Rectangle(a,b);\n</code></pre>\n\n<p>which is calling a static method named <code>Rectangle</code>, which is potentially part of <code>Rectangle</code> class, try to create an object using constructor that you declared in your <code>Rectangle</code> class to instantiate new rectangle object :</p>\n\n<pre><code>Rectangle rectangle = new Rectangle(a, b);\n</code></pre>\n\n<p>You have not declared any static method named <code>Rectangle</code> in your <code>Rectangle</code> class, that is why this error appears.</p>\n"},{"tags":[],"owner":{"account_id":6302185,"reputation":1741,"user_id":4896472,"accept_rate":100,"display_name":"TheChubbyPanda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556445288,"creation_date":1556445288,"answer_id":55889082,"question_id":55889032,"body_markdown":"I think your problem lies in the line \r\n\r\n    Rectangle.Rectangle(a,b);\r\n\r\nThis is incorrect syntax for instantiating your object since there&#39;s no method `Rectangle` in your rectangle class, only a constructor. The correct way to use the constructor is the following:\r\n\r\n    Rectangle rect = new Rectangle(a, b);","title":"How to fix &quot;java: cannot find symbol&quot;","body":"<p>I think your problem lies in the line </p>\n\n<pre><code>Rectangle.Rectangle(a,b);\n</code></pre>\n\n<p>This is incorrect syntax for instantiating your object since there's no method <code>Rectangle</code> in your rectangle class, only a constructor. The correct way to use the constructor is the following:</p>\n\n<pre><code>Rectangle rect = new Rectangle(a, b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556445735,"creation_date":1556445370,"answer_id":55889093,"question_id":55889032,"body_markdown":"This line:\r\n\r\n      Rectangle.Rectangle(a,b);\r\n\r\nmeans a call to a static method called `Rectangle` defined by the class `Rectangle`.  There is no such method!  That is the cause of the &quot;cannot find symbol error&quot;. \r\n\r\nThere is a constructor `Rectangle(int, int)` but you don&#39;t call a constructor in Java.  You `new` it.  For example:\r\n\r\n\r\n      Rectangle someRectangle = new Rectangle(a,b);\r\n\r\nHowever, judging from the context, I suspect that you should be assigning the new `Rectangle` objects to elements of the array you created earlier.  \r\n\r\nBut your code is (how shall I say this) &quot;confused&quot;.  I think you need to read through it carefully and explain to your [rubber duck][1] what each statement does.\r\n\r\n     \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Rubber_duck_debugging","title":"How to fix &quot;java: cannot find symbol&quot;","body":"<p>This line:</p>\n\n<pre><code>  Rectangle.Rectangle(a,b);\n</code></pre>\n\n<p>means a call to a static method called <code>Rectangle</code> defined by the class <code>Rectangle</code>.  There is no such method!  That is the cause of the \"cannot find symbol error\". </p>\n\n<p>There is a constructor <code>Rectangle(int, int)</code> but you don't call a constructor in Java.  You <code>new</code> it.  For example:</p>\n\n<pre><code>  Rectangle someRectangle = new Rectangle(a,b);\n</code></pre>\n\n<p>However, judging from the context, I suspect that you should be assigning the new <code>Rectangle</code> objects to elements of the array you created earlier.  </p>\n\n<p>But your code is (how shall I say this) \"confused\".  I think you need to read through it carefully and explain to your <a href=\"https://en.wikipedia.org/wiki/Rubber_duck_debugging\" rel=\"nofollow noreferrer\">rubber duck</a> what each statement does.</p>\n"},{"tags":[],"owner":{"account_id":22199110,"reputation":1,"user_id":16440080,"display_name":"Tony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654772794,"creation_date":1654772794,"answer_id":72559221,"question_id":55889032,"body_markdown":"I had a similar issue - kept getting the error - &quot;java: cannot find symbol Rectangle&quot;.\r\n\r\nIn the end, I copied the content of the Rectangle class to notepad, deleted the Rectangle class file and created a new Rectangle class file (all in IntelliJ) and pasted in the old content from notepad.\r\n\r\nThis worked fine.\r\n\r\nOriginally, I copied the class file from a previous project, so suspect that is where it was getting confused.\r\n\r\nI hope this helps someone else experiencing the same problem.\r\n","title":"How to fix &quot;java: cannot find symbol&quot;","body":"<p>I had a similar issue - kept getting the error - &quot;java: cannot find symbol Rectangle&quot;.</p>\n<p>In the end, I copied the content of the Rectangle class to notepad, deleted the Rectangle class file and created a new Rectangle class file (all in IntelliJ) and pasted in the old content from notepad.</p>\n<p>This worked fine.</p>\n<p>Originally, I copied the class file from a previous project, so suspect that is where it was getting confused.</p>\n<p>I hope this helps someone else experiencing the same problem.</p>\n"}],"owner":{"account_id":12130498,"reputation":43,"user_id":8857682,"display_name":" "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2039,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":55889065,"answer_count":4,"score":-2,"last_activity_date":1654772794,"creation_date":1556444980,"question_id":55889032,"body_markdown":"I&#39;m using JB IntelliJ IDEA and trying to create a program which sorts Rectangles. But I can&#39;t fix \r\n\r\n    &quot;Error:(28, 22) java: cannot find symbol\r\n      symbol:   method Rectangle(java.lang.Double,java.lang.Double)\r\n      location: class io.github.vadimsam.rectsort.Rectangle&quot;.\r\n\r\nWhat should I do?\r\n\r\nNB: recreation of project didn&#39;t help me.\r\n\r\nMain:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Comparator;\r\n    import java.util.Scanner;\r\n\r\n    class SComparator implements Comparator&lt;Rectangle&gt; {\r\n\r\n        public int compare(Rectangle r1, Rectangle r2) {\r\n            return r1.area().compareTo(r2.area());\r\n\r\n        }\r\n    }\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n\r\n           ArrayList&lt;Rectangle&gt; rectsArea = new ArrayList&lt;&gt;();\r\n           Scanner input = new Scanner(System.in);\r\n           SComparator comparator = new SComparator();\r\n\r\n           while(true){\r\n                System.out.print(&quot;A = &quot;);\r\n                Double a = input.nextDouble();\r\n                System.out.print(&quot;B = &quot;);\r\n                Double b = input.nextDouble();\r\n                Rectangle.Rectangle(a,b);\r\n                rectsArea.sort(comparator);\r\n                if (a  == 0) {\r\n                    System.out.println(&quot;Sorted ArrayList:&quot;);\r\n                    System.out.println(rectsArea);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nRectangle:\r\n\r\n    public class Rectangle {\r\n        public Double c, d;\r\n\r\n        public Rectangle(Double c, Double d) {\r\n            this.c = c;\r\n            this.d = d;\r\n        }\r\n\r\n        Double area() {\r\n            return c * d;\r\n        }\r\n    }\r\n\r\nIt should return sorted ArrayList","title":"How to fix &quot;java: cannot find symbol&quot;","body":"<p>I'm using JB IntelliJ IDEA and trying to create a program which sorts Rectangles. But I can't fix </p>\n\n<pre><code>\"Error:(28, 22) java: cannot find symbol\n  symbol:   method Rectangle(java.lang.Double,java.lang.Double)\n  location: class io.github.vadimsam.rectsort.Rectangle\".\n</code></pre>\n\n<p>What should I do?</p>\n\n<p>NB: recreation of project didn't help me.</p>\n\n<p>Main:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.Scanner;\n\nclass SComparator implements Comparator&lt;Rectangle&gt; {\n\n    public int compare(Rectangle r1, Rectangle r2) {\n        return r1.area().compareTo(r2.area());\n\n    }\n}\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n       ArrayList&lt;Rectangle&gt; rectsArea = new ArrayList&lt;&gt;();\n       Scanner input = new Scanner(System.in);\n       SComparator comparator = new SComparator();\n\n       while(true){\n            System.out.print(\"A = \");\n            Double a = input.nextDouble();\n            System.out.print(\"B = \");\n            Double b = input.nextDouble();\n            Rectangle.Rectangle(a,b);\n            rectsArea.sort(comparator);\n            if (a  == 0) {\n                System.out.println(\"Sorted ArrayList:\");\n                System.out.println(rectsArea);\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Rectangle:</p>\n\n<pre><code>public class Rectangle {\n    public Double c, d;\n\n    public Rectangle(Double c, Double d) {\n        this.c = c;\n        this.d = d;\n    }\n\n    Double area() {\n        return c * d;\n    }\n}\n</code></pre>\n\n<p>It should return sorted ArrayList</p>\n"},{"tags":["java","pattern-matching"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654772549,"creation_date":1654691682,"answer_id":72545813,"question_id":72545671,"body_markdown":"It has mostly nothing to do with erasure.\r\n\r\n`Class` is not magical in this regard. `Class&lt;? extends Animal&gt;` is no different from `List&lt;? extends Animal&gt;` - the JVM does not know that instances of `Class` represent specifically, well, classes, and that therefore one could feasibly want to pattern-match on it.\r\n\r\nSeparate from that, generics is a figment of the compiler&#39;s imagination: At runtime you can &#39;break&#39; generics. This:\r\n\r\n```\r\nString x = foo;\r\nSystem.out.println(x.getClass());\r\n```\r\n\r\nCannot __possibly__ print anything other than `java.lang.String` (or throw an NPE if x is `null`) - because the JVM wouldn&#39;t let it happen. Any bytecode that tries to mess this up won&#39;t pass class load verification.\r\n\r\nHowever, with generics it doesn&#39;t work that way:\r\n\r\n```\r\nList&lt;String&gt; x = foo;\r\nObject first = ((List) x).get(0);\r\nSystem.out.println(first.getClass());\r\n```\r\n\r\nThe weirdness on the second line is just to avoid ClassCastExceptions - the above code can certainly print `Integer.class` or whatnot: You can get javac to compile code that &#39;breaks&#39; generics and the JVM doesn&#39;t care.\r\n\r\nHence, a method that accepts a `Class&lt;? extends Animal&gt;` can be called with `Integer.class` if you ignore enough warnings and write silly code, so in that sense &#39;erasure&#39; is to blame here, but, the sealed nature of things means there is a silent extra `case` for dealing with unmatched scenarios (which throws an exception), because you could also recompile `Animal.java`, adding a 4th animal to the sealed list, and fail to recompile the code that contains `makeNoisePatternMatch` and you run into the same scenario.\r\n\r\nThe same principle could be applied there, so, no, erasure really isn&#39;t the problem here.\r\n\r\nThe explanation is much, much simpler!\r\n\r\nThe things you can pattern-match is a hardcoded list, and &#39;match on an instance of `java.lang.Class` isn&#39;t on the list.\r\n\r\nNB: It would be more correct to write `if (cls == Dog.class)` - class instances are singletons (that is, `a.equals(b)` and `a == b`, if both a and b are instances of `j.l.Class`, neccessarily always give the same answer, but `a.equals(b)` makes it slightly more &#39;hidden&#39; that this is the case).\r\n\r\nNB2: Sounds like you should file a bug with intellij.\r\n\r\n---\r\n\r\nEDIT:\r\n\r\nI thought of something. I think this might work. Switching to `Number` for easier testing, which isn&#39;t sealed (but the sealed nature of this has no bearing on anything, the JLS isn&#39;t aware of the notion of sealed when specifically using `Class&lt;?&gt;`, only for instances themselves.\r\n\r\n```\r\nClass&lt;? extends Number&gt; n = int.class;\r\n\r\nString type = switch (n) {\r\n  case Class&lt;?&gt; c &amp;&amp; n == int.class -&gt; &quot;primitive int&quot;;\r\n  case Class&lt;?&gt; c &amp;&amp; n == Integer.class -&gt; &quot;boxed int&quot;;\r\n  default -&gt; &quot;unknown&quot;;\r\n};\r\nSystem.out.println(type);\r\n```\r\n\r\nAnd this works!\r\n\r\nBut, some unfortunate notes:\r\n\r\n* That `default` case cannot be avoided; the compiler doesn&#39;t know that it would be reasonable to generate it (where the `default` case throws something) given that the input is sealed. It doesn&#39;t know anything about `j.l.Class`.\r\n* That `Class&lt;?&gt; c &amp;&amp;` part cannot be avoided either, as far as I know.\r\n\r\nThis therefore looks.. just like an unwieldy, confusing take on a chain of `if/else` statements (and wouldn&#39;t perform any better either), and therefore I don&#39;t recommend doing this.\r\n","title":"Pattern matching on Class&lt;T&gt;?","body":"<p>It has mostly nothing to do with erasure.</p>\n<p><code>Class</code> is not magical in this regard. <code>Class&lt;? extends Animal&gt;</code> is no different from <code>List&lt;? extends Animal&gt;</code> - the JVM does not know that instances of <code>Class</code> represent specifically, well, classes, and that therefore one could feasibly want to pattern-match on it.</p>\n<p>Separate from that, generics is a figment of the compiler's imagination: At runtime you can 'break' generics. This:</p>\n<pre><code>String x = foo;\nSystem.out.println(x.getClass());\n</code></pre>\n<p>Cannot <strong>possibly</strong> print anything other than <code>java.lang.String</code> (or throw an NPE if x is <code>null</code>) - because the JVM wouldn't let it happen. Any bytecode that tries to mess this up won't pass class load verification.</p>\n<p>However, with generics it doesn't work that way:</p>\n<pre><code>List&lt;String&gt; x = foo;\nObject first = ((List) x).get(0);\nSystem.out.println(first.getClass());\n</code></pre>\n<p>The weirdness on the second line is just to avoid ClassCastExceptions - the above code can certainly print <code>Integer.class</code> or whatnot: You can get javac to compile code that 'breaks' generics and the JVM doesn't care.</p>\n<p>Hence, a method that accepts a <code>Class&lt;? extends Animal&gt;</code> can be called with <code>Integer.class</code> if you ignore enough warnings and write silly code, so in that sense 'erasure' is to blame here, but, the sealed nature of things means there is a silent extra <code>case</code> for dealing with unmatched scenarios (which throws an exception), because you could also recompile <code>Animal.java</code>, adding a 4th animal to the sealed list, and fail to recompile the code that contains <code>makeNoisePatternMatch</code> and you run into the same scenario.</p>\n<p>The same principle could be applied there, so, no, erasure really isn't the problem here.</p>\n<p>The explanation is much, much simpler!</p>\n<p>The things you can pattern-match is a hardcoded list, and 'match on an instance of <code>java.lang.Class</code> isn't on the list.</p>\n<p>NB: It would be more correct to write <code>if (cls == Dog.class)</code> - class instances are singletons (that is, <code>a.equals(b)</code> and <code>a == b</code>, if both a and b are instances of <code>j.l.Class</code>, neccessarily always give the same answer, but <code>a.equals(b)</code> makes it slightly more 'hidden' that this is the case).</p>\n<p>NB2: Sounds like you should file a bug with intellij.</p>\n<hr />\n<p>EDIT:</p>\n<p>I thought of something. I think this might work. Switching to <code>Number</code> for easier testing, which isn't sealed (but the sealed nature of this has no bearing on anything, the JLS isn't aware of the notion of sealed when specifically using <code>Class&lt;?&gt;</code>, only for instances themselves.</p>\n<pre><code>Class&lt;? extends Number&gt; n = int.class;\n\nString type = switch (n) {\n  case Class&lt;?&gt; c &amp;&amp; n == int.class -&gt; &quot;primitive int&quot;;\n  case Class&lt;?&gt; c &amp;&amp; n == Integer.class -&gt; &quot;boxed int&quot;;\n  default -&gt; &quot;unknown&quot;;\n};\nSystem.out.println(type);\n</code></pre>\n<p>And this works!</p>\n<p>But, some unfortunate notes:</p>\n<ul>\n<li>That <code>default</code> case cannot be avoided; the compiler doesn't know that it would be reasonable to generate it (where the <code>default</code> case throws something) given that the input is sealed. It doesn't know anything about <code>j.l.Class</code>.</li>\n<li>That <code>Class&lt;?&gt; c &amp;&amp;</code> part cannot be avoided either, as far as I know.</li>\n</ul>\n<p>This therefore looks.. just like an unwieldy, confusing take on a chain of <code>if/else</code> statements (and wouldn't perform any better either), and therefore I don't recommend doing this.</p>\n"}],"owner":{"account_id":6615438,"reputation":1121,"user_id":5108875,"display_name":"vab2048"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":646,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72545813,"answer_count":1,"score":1,"last_activity_date":1654772549,"creation_date":1654691132,"question_id":72545671,"body_markdown":"Suppose we have the following hierarchy:\r\n\r\n```java\r\n    sealed interface Animal permits Dog, Cat, Bear {}\r\n    record Dog() implements Animal {}\r\n    record Cat() implements Animal {}\r\n    record Bear() implements Animal {}\r\n```\r\n\r\nAnd we want to create a method which pattern matches over a `Class&lt;T extends Animal&gt;`.\r\n\r\n**Why am I prevented from doing this? Is it because of erasure?**\r\n\r\nSo if I do the following it won&#39;t work:\r\n\r\n```java\r\n    static &lt;T extends Animal&gt; String makeNoisePatternMatch(Class&lt;? extends Animal&gt; cls) {\r\n        return switch(cls) {\r\n            case Dog.class c -&gt; &quot;WOOF&quot;;\r\n            case Cat.class c -&gt; &quot;MEOW&quot;;\r\n            case Bear.class c -&gt; &quot;ROAR&quot;;\r\n        };\r\n    }\r\n\r\n```\r\n\r\nBut I can still do this (which works):\r\n\r\n```java\r\n    static &lt;T extends Animal&gt; String makeNoise(Class&lt;T&gt; cls) {\r\n        if(cls.equals(Dog.class)) {\r\n            return &quot;WOOF&quot;;\r\n        } else if(cls.equals(Cat.class)) {\r\n            return &quot;MEOW&quot;;\r\n        } else if(cls.equals(Bear.class)) {\r\n            return &quot;ROAR&quot;;\r\n        } else {\r\n            throw new IllegalStateException(&quot;Unknown state&quot;);\r\n        }\r\n    }\r\n```\r\nIntelliJ actually hints that you should change the above to use switch and then produces a the switch expression above (which does not work).\r\n\r\nAgain - my question is: **Why am I prevented from doing this? Is it because of erasure?**\r\n","title":"Pattern matching on Class&lt;T&gt;?","body":"<p>Suppose we have the following hierarchy:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    sealed interface Animal permits Dog, Cat, Bear {}\n    record Dog() implements Animal {}\n    record Cat() implements Animal {}\n    record Bear() implements Animal {}\n</code></pre>\n<p>And we want to create a method which pattern matches over a <code>Class&lt;T extends Animal&gt;</code>.</p>\n<p><strong>Why am I prevented from doing this? Is it because of erasure?</strong></p>\n<p>So if I do the following it won't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static &lt;T extends Animal&gt; String makeNoisePatternMatch(Class&lt;? extends Animal&gt; cls) {\n        return switch(cls) {\n            case Dog.class c -&gt; &quot;WOOF&quot;;\n            case Cat.class c -&gt; &quot;MEOW&quot;;\n            case Bear.class c -&gt; &quot;ROAR&quot;;\n        };\n    }\n\n</code></pre>\n<p>But I can still do this (which works):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static &lt;T extends Animal&gt; String makeNoise(Class&lt;T&gt; cls) {\n        if(cls.equals(Dog.class)) {\n            return &quot;WOOF&quot;;\n        } else if(cls.equals(Cat.class)) {\n            return &quot;MEOW&quot;;\n        } else if(cls.equals(Bear.class)) {\n            return &quot;ROAR&quot;;\n        } else {\n            throw new IllegalStateException(&quot;Unknown state&quot;);\n        }\n    }\n</code></pre>\n<p>IntelliJ actually hints that you should change the above to use switch and then produces a the switch expression above (which does not work).</p>\n<p>Again - my question is: <strong>Why am I prevented from doing this? Is it because of erasure?</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1654686394,"post_id":72544418,"comment_id":128148762,"body_markdown":"Wich line breaks your code?","body":"Wich line breaks your code?"},{"owner":{"account_id":25428946,"reputation":3,"user_id":19233699,"display_name":"EliunKKy"},"score":0,"creation_date":1654686442,"post_id":72544418,"comment_id":128148788,"body_markdown":"this one:  it.remove();","body":"this one:  it.remove();"},{"owner":{"account_id":7132908,"reputation":189,"user_id":5453550,"display_name":"NLxDoDge"},"score":0,"creation_date":1654686665,"post_id":72544418,"comment_id":128148864,"body_markdown":"Hi can you also add the missing imports next time, then people can run your code more easily.","body":"Hi can you also add the missing imports next time, then people can run your code more easily."}],"answers":[{"tags":[],"owner":{"account_id":25174873,"reputation":57,"user_id":19017210,"display_name":"YaziD"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654686529,"creation_date":1654686529,"answer_id":72544667,"question_id":72544418,"body_markdown":"Add break statement and check\r\n\r\n    Iterator&lt;String&gt; it = two.iterator();\r\n        while(it.hasNext()){\r\n            String i = it.next();\r\n            for (int c = 0; c &lt; i.length(); c++){\r\n                if (!Character.isLetter(c)){ \r\n                    it.remove();\r\n                    break;\r\n\r\n                }\r\n            }\r\n        }","title":"How to remove a String element from an ArrayList?","body":"<p>Add break statement and check</p>\n<pre><code>Iterator&lt;String&gt; it = two.iterator();\n    while(it.hasNext()){\n        String i = it.next();\n        for (int c = 0; c &lt; i.length(); c++){\n            if (!Character.isLetter(c)){ \n                it.remove();\n                break;\n\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25496250,"reputation":1,"user_id":19290257,"display_name":"user19290257"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654772123,"creation_date":1654686717,"answer_id":72544704,"question_id":72544418,"body_markdown":"```java\r\nCharacter.isLetter(i.charAt(c))\r\n```","title":"How to remove a String element from an ArrayList?","body":"<pre class=\"lang-java prettyprint-override\"><code>Character.isLetter(i.charAt(c))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9852951,"reputation":1534,"user_id":7298431,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654686897,"creation_date":1654686897,"answer_id":72544736,"question_id":72544418,"body_markdown":"The &quot;break&quot; in YaziDs answer should do the trick.\r\n\r\nBut you should also check the word length in the first loop because otherwise you get an error at\r\n\r\n    String chr = String.valueOf(word.charAt(word.length() - 1));\r\n\r\n","title":"How to remove a String element from an ArrayList?","body":"<p>The &quot;break&quot; in YaziDs answer should do the trick.</p>\n<p>But you should also check the word length in the first loop because otherwise you get an error at</p>\n<pre><code>String chr = String.valueOf(word.charAt(word.length() - 1));\n</code></pre>\n"}],"owner":{"account_id":25428946,"reputation":3,"user_id":19233699,"display_name":"EliunKKy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72544667,"answer_count":3,"score":0,"last_activity_date":1654772123,"creation_date":1654685477,"question_id":72544418,"body_markdown":"So I&#180;m writting this Java code for college and I need to remove String elements from the ArrayList. I&#39;ve used an Iterator to do it but it alaways give me this error:\r\nException in thread &quot;main&quot; java.lang.IllegalStateException\r\n\r\nHow can I solve this ?\r\n\r\n \r\n        import java.io.FileReader;\r\n        import java.io.IOException;\r\n        import java.nio.file.WatchEvent;\r\n        import java.util.ArrayList;\r\n        import java.util.Iterator;\r\n        import java.util.Scanner;\r\n\r\n        public class EX4 {\r\n        public static void main(String[] args) throws IOException{\r\n            Scanner input = new Scanner(new FileReader(&quot;List.txt&quot;));\r\n            ArrayList&lt;String&gt; two = new ArrayList&lt;&gt;();\r\n            ArrayList&lt;String&gt; s = new ArrayList&lt;&gt;();\r\n    \r\n            // print\r\n            while (input.hasNext()) {\r\n                String word = input.nextLine();\r\n                System.out.println(word);\r\n    \r\n                // b)\r\n                if (word.length() &gt; 2){    \r\n                    two.add(word);\r\n                }\r\n                \r\n                // c)\r\n                String chr = String.valueOf(word.charAt(word.length() -1));\r\n                if (chr.equals(&quot;s&quot;) || chr.equals(&quot;S&quot;)){\r\n                    s.add(word);\r\n                }\r\n            }\r\n    \r\n            // c)\r\n            System.out.println(&quot;\\n----------------------\r\n                                -------------------------------\\n&quot;);\r\n            for (String word : s) {\r\n                System.out.print(word + &quot;\\n&quot;);\r\n            }\r\n            \r\n    \r\n            // d)\r\n            Iterator&lt;String&gt; it = two.iterator();\r\n            while(it.hasNext()){\r\n                String i = it.next();\r\n                for (int c = 0; c &lt; i.length(); c++){\r\n                    if (!Character.isLetter(c)){ \r\n                        it.remove(); \r\n                    }\r\n                }\r\n            }\r\n            \r\n            \r\n        }     \r\n    }","title":"How to remove a String element from an ArrayList?","body":"<p>So Im writting this Java code for college and I need to remove String elements from the ArrayList. I've used an Iterator to do it but it alaways give me this error:\nException in thread &quot;main&quot; java.lang.IllegalStateException</p>\n<p>How can I solve this ?</p>\n<pre><code>    import java.io.FileReader;\n    import java.io.IOException;\n    import java.nio.file.WatchEvent;\n    import java.util.ArrayList;\n    import java.util.Iterator;\n    import java.util.Scanner;\n\n    public class EX4 {\n    public static void main(String[] args) throws IOException{\n        Scanner input = new Scanner(new FileReader(&quot;List.txt&quot;));\n        ArrayList&lt;String&gt; two = new ArrayList&lt;&gt;();\n        ArrayList&lt;String&gt; s = new ArrayList&lt;&gt;();\n\n        // print\n        while (input.hasNext()) {\n            String word = input.nextLine();\n            System.out.println(word);\n\n            // b)\n            if (word.length() &gt; 2){    \n                two.add(word);\n            }\n            \n            // c)\n            String chr = String.valueOf(word.charAt(word.length() -1));\n            if (chr.equals(&quot;s&quot;) || chr.equals(&quot;S&quot;)){\n                s.add(word);\n            }\n        }\n\n        // c)\n        System.out.println(&quot;\\n----------------------\n                            -------------------------------\\n&quot;);\n        for (String word : s) {\n            System.out.print(word + &quot;\\n&quot;);\n        }\n        \n\n        // d)\n        Iterator&lt;String&gt; it = two.iterator();\n        while(it.hasNext()){\n            String i = it.next();\n            for (int c = 0; c &lt; i.length(); c++){\n                if (!Character.isLetter(c)){ \n                    it.remove(); \n                }\n            }\n        }\n        \n        \n    }     \n}\n</code></pre>\n"},{"tags":["java","binary-search"],"comments":[{"owner":{"account_id":21625271,"reputation":169,"user_id":15949695,"display_name":"hua"},"score":1,"creation_date":1654764276,"post_id":72556173,"comment_id":128171252,"body_markdown":"Bit shift operators normally faster than arithmetic operators.","body":"Bit shift operators normally faster than arithmetic operators."},{"owner":{"account_id":2096177,"reputation":1707,"user_id":1864883,"accept_rate":68,"display_name":"wviana"},"score":0,"creation_date":1654927705,"post_id":72556173,"comment_id":128213631,"body_markdown":"Maybe what you are trying to ask is what is faster, not better.","body":"Maybe what you are trying to ask is what is faster, not better."}],"answers":[{"tags":[],"owner":{"account_id":9572288,"reputation":565,"user_id":7109580,"display_name":"Vivian K. Scott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654772040,"creation_date":1654772040,"answer_id":72559057,"question_id":72556173,"body_markdown":"`&gt;&gt;&gt;` is unsigned right shift operator.\r\n\r\nnormally, `x &gt;&gt;&gt; 1 == x / 2`, bitwise operator is much faster.\r\n\r\nbut, don&#39;t know Java will optimize if `x / 2` statement ?","title":"Binary search 2 ways to get mid","body":"<p><code>&gt;&gt;&gt;</code> is unsigned right shift operator.</p>\n<p>normally, <code>x &gt;&gt;&gt; 1 == x / 2</code>, bitwise operator is much faster.</p>\n<p>but, don't know Java will optimize if <code>x / 2</code> statement ?</p>\n"}],"owner":{"account_id":11939237,"reputation":1048,"user_id":8736602,"display_name":"yali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654938756,"answer_count":1,"score":0,"last_activity_date":1654772040,"creation_date":1654759142,"question_id":72556173,"body_markdown":"What is the difference between\r\n\r\n  `int mid = (low + high) &gt;&gt;&gt; 1;`\r\n\r\n  `int mid = (low + high) / 2;`\r\n\r\n\r\nWhich one is better?\r\n\r\n\r\nFull code :\r\n\r\n    class Solution {\r\n        public int search(int[] nums, int target) {\r\n          int low = 0;\r\n          int high = nums.length - 1; \r\n          while(low &lt;= high)\r\n           { \r\n                int mid = (low + high) &gt;&gt;&gt; 1;\r\n                if(nums[mid] == target)\r\n                    return mid;\r\n                if(target &gt; nums[mid])\r\n                    low = mid + 1;\r\n                else\r\n                   high = mid - 1;  \r\n          }       \r\n            return -1;    \r\n        }\r\n    }\r\n\r\n","title":"Binary search 2 ways to get mid","body":"<p>What is the difference between</p>\n<p><code>int mid = (low + high) &gt;&gt;&gt; 1;</code></p>\n<p><code>int mid = (low + high) / 2;</code></p>\n<p>Which one is better?</p>\n<p>Full code :</p>\n<pre><code>class Solution {\n    public int search(int[] nums, int target) {\n      int low = 0;\n      int high = nums.length - 1; \n      while(low &lt;= high)\n       { \n            int mid = (low + high) &gt;&gt;&gt; 1;\n            if(nums[mid] == target)\n                return mid;\n            if(target &gt; nums[mid])\n                low = mid + 1;\n            else\n               high = mid - 1;  \n      }       \n        return -1;    \n    }\n}\n</code></pre>\n"},{"tags":["java","jvm","bytecode"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1654697598,"post_id":72547238,"comment_id":128153477,"body_markdown":"I don&#39;t think performance would be the issue.  Deprecated packages (e.g., javax) would be a bigger problem.  You won&#39;t be able to compile without revising the JDK8 code.","body":"I don&#39;t think performance would be the issue.  Deprecated packages (e.g., javax) would be a bigger problem.  You won&#39;t be able to compile without revising the JDK8 code."},{"owner":{"account_id":6794864,"reputation":1053,"user_id":5230585,"display_name":"Katy"},"score":0,"creation_date":1654697927,"post_id":72547238,"comment_id":128153630,"body_markdown":"@duffymo thanks for your reply. All dependencies were revised. We don&#39;t use deprecated code (such as RMI etc.) We have very tiny upgrade of the the spring-boot version and spring cloud and several maven plugin (surefire, failsafe etc..). That&#39;s all.  But yeah I agree upgrading needs revising.","body":"@duffymo thanks for your reply. All dependencies were revised. We don&#39;t use deprecated code (such as RMI etc.) We have very tiny upgrade of the the spring-boot version and spring cloud and several maven plugin (surefire, failsafe etc..). That&#39;s all.  But yeah I agree upgrading needs revising."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":4,"creation_date":1654698046,"post_id":72547238,"comment_id":128153693,"body_markdown":"Any improvements in performance and memory that are part of the JDK17 upgrade would accrue to your recompiled libraries.  The only way to know how code affects performance is profiling it and seeing where the time is being spent.  You should be doing that regardless of JDK version you use.","body":"Any improvements in performance and memory that are part of the JDK17 upgrade would accrue to your recompiled libraries.  The only way to know how code affects performance is profiling it and seeing where the time is being spent.  You should be doing that regardless of JDK version you use."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":5,"creation_date":1654698137,"post_id":72547238,"comment_id":128153727,"body_markdown":"There are some limited potential performance benefits. For example, there have been some optimizations to string concatenation (e.g. [JDK-8076758](https://bugs.openjdk.org/browse/JDK-8076758)) which you won&#39;t get without recompiling. Almost certainly not worth worrying about, but it&#39;s not nothing. Most performance optimizations exist within the runtime - Java&#39;s bytecode remains relatively close to the source - so you&#39;ll get them regardless of which bytecode version classes are compiled to target.","body":"There are some limited potential performance benefits. For example, there have been some optimizations to string concatenation (e.g. <a href=\"https://bugs.openjdk.org/browse/JDK-8076758\" rel=\"nofollow noreferrer\">JDK-8076758</a>) which you won&#39;t get without recompiling. Almost certainly not worth worrying about, but it&#39;s not nothing. Most performance optimizations exist within the runtime - Java&#39;s bytecode remains relatively close to the source - so you&#39;ll get them regardless of which bytecode version classes are compiled to target."},{"owner":{"account_id":6794864,"reputation":1053,"user_id":5230585,"display_name":"Katy"},"score":0,"creation_date":1654698470,"post_id":72547238,"comment_id":128153859,"body_markdown":"Fair enough Thanks @Mickael !","body":"Fair enough Thanks @Mickael !"},{"owner":{"account_id":10158538,"reputation":2222,"user_id":7502800,"accept_rate":100,"display_name":"usuario"},"score":3,"creation_date":1654698792,"post_id":72547238,"comment_id":128153999,"body_markdown":"More about String concatenation already mentioned by @Michael in this video, [String Concatenation - JEP Caf&#233; #7, Delegating concatenation to some other code](https://www.youtube.com/watch?v=w56RUzBLaRE&amp;list=PLX8CzqL3ArzV4BpOzLanxd4bZr46x5e87&amp;index=4&amp;t=295s)","body":"More about String concatenation already mentioned by @Michael in this video, <a href=\"https://www.youtube.com/watch?v=w56RUzBLaRE&amp;list=PLX8CzqL3ArzV4BpOzLanxd4bZr46x5e87&amp;index=4&amp;t=295s\" rel=\"nofollow noreferrer\">String Concatenation - JEP Caf&#233; #7, Delegating concatenation to some other code</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1654714375,"post_id":72547238,"comment_id":128160214,"body_markdown":"Also inner classes/ nested classes do not need synthetic helper methods for accessing private members of the outer class or vice versa. This may reduce code size and in some rare cases even improve performance.","body":"Also inner classes/ nested classes do not need synthetic helper methods for accessing private members of the outer class or vice versa. This may reduce code size and in some rare cases even improve performance."}],"owner":{"account_id":6794864,"reputation":1053,"user_id":5230585,"display_name":"Katy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1654712688,"answer_count":0,"score":1,"last_activity_date":1654771241,"creation_date":1654697453,"question_id":72547238,"body_markdown":"We are migrating our projects to Java 17 from Java 8. Each one of those projects uses plenty of library / starters belonging to the same organization built with Java 8.\r\n\r\nI know Java is backward-compatible, but is there any gain from building those library also in Java 17 (i.e. performance, memory usage)? \r\n\r\nIn other words, using a library compiled with a Java x-1 in a project executed on JVM belonging to Java x does it affect the project performance?\r\n","title":"Using Java 8 compiled libraries in Java 17 project","body":"<p>We are migrating our projects to Java 17 from Java 8. Each one of those projects uses plenty of library / starters belonging to the same organization built with Java 8.</p>\n<p>I know Java is backward-compatible, but is there any gain from building those library also in Java 17 (i.e. performance, memory usage)?</p>\n<p>In other words, using a library compiled with a Java x-1 in a project executed on JVM belonging to Java x does it affect the project performance?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1654758211,"post_id":72554829,"comment_id":128169096,"body_markdown":"&quot;I couldn&#39;t stop the timer...&quot; -- Set the instance of `CountDownTimer` as a global variable.","body":"&quot;I couldn&#39;t stop the timer...&quot; -- Set the instance of <code>CountDownTimer</code> as a global variable."}],"answers":[{"tags":[],"owner":{"account_id":14638805,"reputation":27,"user_id":10572055,"display_name":"Abdullah Jubayer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654771178,"creation_date":1654771178,"answer_id":72558868,"question_id":72554829,"body_markdown":"Top of your file\r\n\r\n    private AlertDialog alertDialog;\r\n\r\n    \r\n\r\nthen\r\n\r\n    private void AlertMe() {\r\n            CountDownTimer timer= new CountDownTimer(120000, 1000) {\r\n                public void onTick(long millisUntilFinished) {\r\n                }\r\n                public void onFinish() {\r\n                    if(alertDialog != null &amp;&amp; alertDialog.isShowing()){\r\n                        alertDialog.dismiss();\r\n                        CallServices();\r\n                    }\r\n                }\r\n    \r\n            };\r\n    \r\n    \r\n            AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(this);\r\n            alertDialogBuilder.setTitle(&quot;We detected an unexpected collision&quot;);\r\n            alertDialogBuilder.setCancelable(false);\r\n            alertDialogBuilder.setMessage(&quot;Do you need medical assistance? If you don&#39;t respond within 2 minutes, I will notify everyone on your emergency contacts.&quot;);\r\n            alertDialogBuilder.setPositiveButton(&quot;YES&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialog, int which) {\r\n                    Toast.makeText(YesProfileUpdate.this, &quot;Requesting Emergency Services&quot;, Toast.LENGTH_SHORT).show();\r\n                    CallServices();\r\n                }\r\n            });\r\n            alertDialogBuilder.setNegativeButton(&quot;CANCEL&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialog, int which) {\r\n                    timer.cancel();\r\n                    Toast.makeText(YesProfileUpdate.this, &quot;Request for Emergency Services Cancelled&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n    \r\n    \r\n            alertDialog = alertDialogBuilder.create();\r\n            alertDialogBuilder.show();\r\n            timer.start();\r\n        }\r\n\r\n","title":"Need to add a countdown timer on an AlertDialog and execute a method if there is no response after 2 minutes","body":"<p>Top of your file</p>\n<pre><code>private AlertDialog alertDialog;\n</code></pre>\n<p>then</p>\n<pre><code>private void AlertMe() {\n        CountDownTimer timer= new CountDownTimer(120000, 1000) {\n            public void onTick(long millisUntilFinished) {\n            }\n            public void onFinish() {\n                if(alertDialog != null &amp;&amp; alertDialog.isShowing()){\n                    alertDialog.dismiss();\n                    CallServices();\n                }\n            }\n\n        };\n\n\n        AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(this);\n        alertDialogBuilder.setTitle(&quot;We detected an unexpected collision&quot;);\n        alertDialogBuilder.setCancelable(false);\n        alertDialogBuilder.setMessage(&quot;Do you need medical assistance? If you don't respond within 2 minutes, I will notify everyone on your emergency contacts.&quot;);\n        alertDialogBuilder.setPositiveButton(&quot;YES&quot;, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                Toast.makeText(YesProfileUpdate.this, &quot;Requesting Emergency Services&quot;, Toast.LENGTH_SHORT).show();\n                CallServices();\n            }\n        });\n        alertDialogBuilder.setNegativeButton(&quot;CANCEL&quot;, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                timer.cancel();\n                Toast.makeText(YesProfileUpdate.this, &quot;Request for Emergency Services Cancelled&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n\n        alertDialog = alertDialogBuilder.create();\n        alertDialogBuilder.show();\n        timer.start();\n    }\n</code></pre>\n"}],"owner":{"account_id":25503098,"reputation":1,"user_id":19295957,"display_name":"mangostynn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654771178,"creation_date":1654749881,"question_id":72554829,"body_markdown":"I&#39;m trying to add a timer on my AlertDialog so that if there is no response after 2 minutes, it will go to a method.\r\n\r\n```\r\nprivate void AlertMe() {\r\n\r\n        AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(MapsActivity.this);\r\n        alertDialogBuilder.setTitle(&quot;We detected an unexpected collision&quot;);\r\n        alertDialogBuilder.setCancelable(false);\r\n        alertDialogBuilder.setMessage(&quot;Do you need medical assistance? If you don&#39;t respond within 2 minutes, I will notify everyone on your emergency contacts.&quot;);\r\n        alertDialogBuilder.setPositiveButton(&quot;YES&quot;, new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                Toast.makeText(MapsActivity.this, &quot;Requesting Emergency Services&quot;, Toast.LENGTH_SHORT).show();\r\n                CallServices();\r\n            }\r\n        });\r\n        alertDialogBuilder.setNegativeButton(&quot;CANCEL&quot;, new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                Toast.makeText(MapsActivity.this, &quot;Request for Emergency Services Cancelled&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n        AlertDialog alertDialog = alertDialogBuilder.create();\r\n        alertDialogBuilder.show();\r\n    }\r\n```\r\nI tried adding a countdown timer but I couldn&#39;t stop the timer with the **alertDialogBuilder.setNegativeButton**\r\nHow can I implement it? Thanks.","title":"Need to add a countdown timer on an AlertDialog and execute a method if there is no response after 2 minutes","body":"<p>I'm trying to add a timer on my AlertDialog so that if there is no response after 2 minutes, it will go to a method.</p>\n<pre><code>private void AlertMe() {\n\n        AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(MapsActivity.this);\n        alertDialogBuilder.setTitle(&quot;We detected an unexpected collision&quot;);\n        alertDialogBuilder.setCancelable(false);\n        alertDialogBuilder.setMessage(&quot;Do you need medical assistance? If you don't respond within 2 minutes, I will notify everyone on your emergency contacts.&quot;);\n        alertDialogBuilder.setPositiveButton(&quot;YES&quot;, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                Toast.makeText(MapsActivity.this, &quot;Requesting Emergency Services&quot;, Toast.LENGTH_SHORT).show();\n                CallServices();\n            }\n        });\n        alertDialogBuilder.setNegativeButton(&quot;CANCEL&quot;, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                Toast.makeText(MapsActivity.this, &quot;Request for Emergency Services Cancelled&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n        AlertDialog alertDialog = alertDialogBuilder.create();\n        alertDialogBuilder.show();\n    }\n</code></pre>\n<p>I tried adding a countdown timer but I couldn't stop the timer with the <strong>alertDialogBuilder.setNegativeButton</strong>\nHow can I implement it? Thanks.</p>\n"},{"tags":["java","lambda","java-8"],"answers":[{"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1456921548,"creation_date":1456921548,"answer_id":35747220,"question_id":35746877,"body_markdown":"You can use [`allMatch(predicate)`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#allMatch-java.util.function.Predicate-) to determine if all deals of an option are red:\r\n&gt;Returns whether all elements of this stream match the provided predicate.\r\n\r\nIn this case, the predicate simply tells whether an option is red or not.\r\n\r\n    List&lt;Deal&gt; output =\r\n    \tdl.stream()\r\n    \t  .filter(d -&gt; d.getDealop().stream().allMatch(po -&gt; po.getColor().equals(&quot;red&quot;)))\r\n    \t  .collect(Collectors.toList());","title":"How to filter nested streams in Java 8 with lambda productions","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#allMatch-java.util.function.Predicate-\" rel=\"noreferrer\"><code>allMatch(predicate)</code></a> to determine if all deals of an option are red:</p>\n\n<blockquote>\n  <p>Returns whether all elements of this stream match the provided predicate.</p>\n</blockquote>\n\n<p>In this case, the predicate simply tells whether an option is red or not.</p>\n\n<pre><code>List&lt;Deal&gt; output =\n    dl.stream()\n      .filter(d -&gt; d.getDealop().stream().allMatch(po -&gt; po.getColor().equals(\"red\")))\n      .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6234457,"reputation":253,"user_id":4850199,"display_name":"Mam&#39;s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544127911,"creation_date":1544127911,"answer_id":53659144,"question_id":35746877,"body_markdown":"    \r\n\r\n    public static Predicate&lt;Deal&gt; isFound(String color) {\r\n        return p -&gt; p.getDealop().stream().anyMatch(op-&gt;op.getColor().equals(color));\r\n    }\r\n    \r\n    \r\n    public static List&lt;Deal&gt; filterDeals (List&lt;Deal&gt; deals, Predicate&lt;Deal&gt; predicate){\r\n\t\t\treturn deals.stream()\r\n\t\t\t.filter( predicate )\r\n\t\t\t.collect(Collectors.&lt;Deal&gt;toList());\r\n\t}\r\n\r\n    //in main method add\r\n    List&lt;Deal&gt; dd = filterDeals(dl,isFound(&quot;red&quot;));\r\n","title":"How to filter nested streams in Java 8 with lambda productions","body":"<pre><code>public static Predicate&lt;Deal&gt; isFound(String color) {\n    return p -&gt; p.getDealop().stream().anyMatch(op-&gt;op.getColor().equals(color));\n}\n\n\npublic static List&lt;Deal&gt; filterDeals (List&lt;Deal&gt; deals, Predicate&lt;Deal&gt; predicate){\n        return deals.stream()\n        .filter( predicate )\n        .collect(Collectors.&lt;Deal&gt;toList());\n}\n\n//in main method add\nList&lt;Deal&gt; dd = filterDeals(dl,isFound(\"red\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1585857,"reputation":832,"user_id":1470234,"display_name":"Ajith Kannan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654770508,"creation_date":1654770508,"answer_id":72558748,"question_id":35746877,"body_markdown":"Followup question here instead of One single Deal which matches the predicate can we return all deals if the isFound return true\r\n\r\n","title":"How to filter nested streams in Java 8 with lambda productions","body":"<p>Followup question here instead of One single Deal which matches the predicate can we return all deals if the isFound return true</p>\n"}],"owner":{"display_name":"user5950614"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14309,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"accepted_answer_id":35747220,"answer_count":3,"score":6,"last_activity_date":1654770508,"creation_date":1456920651,"question_id":35746877,"body_markdown":"I am trying to filter my `Deals` based on my `Deal` options but when I try to filter the code I get a type mismatch error that `Set&lt;DealOptions&gt;` cannot be converted to boolean. I want to keep the deals when all the deal options are red.\r\n\r\nHere is my code:\r\n\r\n    import java.util.*;\r\n    import java.util.stream.Collectors;\r\n    \r\n    class Deal {\r\n    \tString dealname;\r\n    \tString dealprice;\r\n    \tSet&lt;DealOptions&gt; dealop;\r\n    \r\n    \tpublic String getDealname() {\r\n    \t\treturn dealname;\r\n    \t}\r\n    \r\n    \tpublic void setDealname(String dealname) {\r\n    \t\tthis.dealname = dealname;\r\n    \t}\r\n    \r\n    \tpublic String getDealprice() {\r\n    \t\treturn dealprice;\r\n    \t}\r\n    \r\n    \tpublic void setDealprice(String dealprice) {\r\n    \t\tthis.dealprice = dealprice;\r\n    \t}\r\n    \r\n    \tpublic Set&lt;DealOptions&gt; getDealop() {\r\n    \t\treturn dealop;\r\n    \t}\r\n    \r\n    \tpublic void setDealop(Set&lt;DealOptions&gt; dealop) {\r\n    \t\tthis.dealop = dealop;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class DealOptions {\r\n    \tString optname;\r\n    \tString color;\r\n    \r\n    \tpublic String getOptname() {\r\n    \t\treturn optname;\r\n    \t}\r\n    \r\n    \tpublic void setOptname(String optname) {\r\n    \t\tthis.optname = optname;\r\n    \t}\r\n    \r\n    \tpublic String getColor() {\r\n    \t\treturn color;\r\n    \t}\r\n    \r\n    \tpublic void setColor(String color) {\r\n    \t\tthis.color = color;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) \r\n    \t\t\t {\r\n    \r\n    \t\tDeal s = new Deal();\r\n    \t\tSet&lt;DealOptions&gt; ops = new HashSet&lt;DealOptions&gt;();\r\n    \t\tDealOptions op = new DealOptions();\r\n    \t\ts.setDealname(&quot;mongo&quot;);\r\n    \t\ts.setDealprice(&quot;500&quot;);\r\n    \r\n    \t\top = new DealOptions();\r\n    \t\top.setColor(&quot;red&quot;);\r\n    \t\top.setOptname(&quot;redop&quot;);\r\n    \r\n    \t\tops.add(op);\r\n    \t\top = new DealOptions();\r\n    \t\top.setColor(&quot;blue&quot;);\r\n    \t\top.setOptname(&quot;blueop&quot;);\r\n    \r\n    \t\tops.add(op);\r\n    \t\top = new DealOptions();\r\n    \t\top.setColor(&quot;green&quot;);\r\n    \t\top.setOptname(&quot;greenop&quot;);\r\n    \r\n    \t\tops.add(op);\r\n    \r\n    \t\ts.setDealop(ops);\r\n    \r\n    \t\tList&lt;Deal&gt; dl = new ArrayList&lt;Deal&gt;();\r\n    \r\n    \t\tdl.add(s);\r\n    \t\tops = new HashSet&lt;DealOptions&gt;();\r\n    \t\ts = new Deal();\r\n    \t\top = new DealOptions();\r\n    \t\ts.setDealname(&quot;test2&quot;);\r\n    \t\ts.setDealprice(&quot;200&quot;);\r\n    \r\n    \t\top = new DealOptions();\r\n    \t\top.setColor(&quot;indigo&quot;);\r\n    \t\top.setOptname(&quot;indigop&quot;);\r\n    \r\n    \t\tops.add(op);\r\n    \t\top = new DealOptions();\r\n    \t\top.setColor(&quot;violet&quot;);\r\n    \t\top.setOptname(&quot;violetop&quot;);\r\n    \r\n    \t\tops.add(op);\r\n    \t\top = new DealOptions();\r\n    \t\top.setColor(&quot;orange&quot;);\r\n    \t\top.setOptname(&quot;orangeop&quot;);\r\n    \r\n    \t\tops.add(op);\r\n    \r\n    \t\ts.setDealop(ops);\r\n    \r\n    \t\tdl.add(s);\r\n    \r\n    \t\tList&lt;Deal&gt; dev = dl.stream().filter(\r\n    \t\t\t\t(p) -&gt; p.getDealop().stream().filter((po) -&gt; po.getColor().equals(&quot;red&quot;)).collect(Collectors.toSet()))\r\n    \t\t\t\t.collect(Collectors.toList()); // error here\r\n    \r\n    \t}\r\n    }\r\n\r\nError:\r\n &gt; Cannot convert from Set&lt;DealOptions&gt; to boolean\r\n\r\nHow do rectify this error how can I filter my deals based on my deal options?","title":"How to filter nested streams in Java 8 with lambda productions","body":"<p>I am trying to filter my <code>Deals</code> based on my <code>Deal</code> options but when I try to filter the code I get a type mismatch error that <code>Set&lt;DealOptions&gt;</code> cannot be converted to boolean. I want to keep the deals when all the deal options are red.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>import java.util.*;\nimport java.util.stream.Collectors;\n\nclass Deal {\n    String dealname;\n    String dealprice;\n    Set&lt;DealOptions&gt; dealop;\n\n    public String getDealname() {\n        return dealname;\n    }\n\n    public void setDealname(String dealname) {\n        this.dealname = dealname;\n    }\n\n    public String getDealprice() {\n        return dealprice;\n    }\n\n    public void setDealprice(String dealprice) {\n        this.dealprice = dealprice;\n    }\n\n    public Set&lt;DealOptions&gt; getDealop() {\n        return dealop;\n    }\n\n    public void setDealop(Set&lt;DealOptions&gt; dealop) {\n        this.dealop = dealop;\n    }\n\n}\n\nclass DealOptions {\n    String optname;\n    String color;\n\n    public String getOptname() {\n        return optname;\n    }\n\n    public void setOptname(String optname) {\n        this.optname = optname;\n    }\n\n    public String getColor() {\n        return color;\n    }\n\n    public void setColor(String color) {\n        this.color = color;\n    }\n\n}\n\npublic class Test {\n\n    public static void main(String[] args) \n             {\n\n        Deal s = new Deal();\n        Set&lt;DealOptions&gt; ops = new HashSet&lt;DealOptions&gt;();\n        DealOptions op = new DealOptions();\n        s.setDealname(\"mongo\");\n        s.setDealprice(\"500\");\n\n        op = new DealOptions();\n        op.setColor(\"red\");\n        op.setOptname(\"redop\");\n\n        ops.add(op);\n        op = new DealOptions();\n        op.setColor(\"blue\");\n        op.setOptname(\"blueop\");\n\n        ops.add(op);\n        op = new DealOptions();\n        op.setColor(\"green\");\n        op.setOptname(\"greenop\");\n\n        ops.add(op);\n\n        s.setDealop(ops);\n\n        List&lt;Deal&gt; dl = new ArrayList&lt;Deal&gt;();\n\n        dl.add(s);\n        ops = new HashSet&lt;DealOptions&gt;();\n        s = new Deal();\n        op = new DealOptions();\n        s.setDealname(\"test2\");\n        s.setDealprice(\"200\");\n\n        op = new DealOptions();\n        op.setColor(\"indigo\");\n        op.setOptname(\"indigop\");\n\n        ops.add(op);\n        op = new DealOptions();\n        op.setColor(\"violet\");\n        op.setOptname(\"violetop\");\n\n        ops.add(op);\n        op = new DealOptions();\n        op.setColor(\"orange\");\n        op.setOptname(\"orangeop\");\n\n        ops.add(op);\n\n        s.setDealop(ops);\n\n        dl.add(s);\n\n        List&lt;Deal&gt; dev = dl.stream().filter(\n                (p) -&gt; p.getDealop().stream().filter((po) -&gt; po.getColor().equals(\"red\")).collect(Collectors.toSet()))\n                .collect(Collectors.toList()); // error here\n\n    }\n}\n</code></pre>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>Cannot convert from Set to boolean</p>\n</blockquote>\n\n<p>How do rectify this error how can I filter my deals based on my deal options?</p>\n"},{"tags":["java","spring","javabeans","applicationcontext","spring-ioc"],"answers":[{"tags":[],"owner":{"account_id":3352154,"reputation":206,"user_id":2815984,"display_name":"Roopesh Payyanath"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1653994500,"creation_date":1653994500,"answer_id":72446507,"question_id":72389597,"body_markdown":" 1. BeanFactory is lightweight and it doesn&#39;t load in-memory/initialize any bean from application.xml (even singleton beans) unless factory.getBean(&quot;bean-name&quot;) method is called; whereas ApplicationContext is heavyweight is loads everything on container startup. BeanFactory also supports limited scopes like proto and singleton and features like AOP doesn&#39;t work with BeanFactory.\r\n*So to answer your 1st question **YES** while using BeanFactory just loading the xml and creating BeanFactory object does not guarantee any bean is initialized; only place to use it is when you are concerned of runtime memory consumption*\r\nNote: ApplicationContext extends ListableBeanFactory extends BeanFactory.\r\n\r\n 2. BeanPostProcessor as the name suggest gives you hooks to work on an instance of a bean created by the spring container by ApplciationContext/[BeanFactory implementation][1] (i.e. before and after initialization) Spring AOPs like transactions. caching etc. ref [@Required for example][2].  BeanFactoryPostProcessor on the other end lets you modify the actual bean definition before initialization of the instance. The PropertyResourceConfigurer and PropertyPlaceholderConfigurer are two good examples refer [PropertyResourceConfigurer example][3], how properties are changed before initializing the actual beans.\r\n\r\n 3. ApplicationContext main responsibility is initialization of bean, now based on the individual bean is defined it provides way to perform specialized tasks like resources bundle loading/property configurer. I suggest you look at the javadoc for a concrete implementation of ApplicationContext like [GenericApplicationContext][4] . If you look at how each methods are implemented you will understand how the control flows from AppContext to individual beans before and after they are initialized. AppContext only has the contract for supports tasks\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/3.0.0.M4/reference/html/ch03s14.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/InstantiationAwareBeanPostProcessor.html#postProcessBeforeInstantiation-java.lang.Class-java.lang.String-\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/PropertyResourceConfigurer.html#postProcessBeanFactory-org.springframework.beans.factory.config.ConfigurableListableBeanFactory-\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/GenericApplicationContext.html","title":"BeanFactory Vs ApplicationContext in concern of BeanPostProcessor And BeanFactoryPostProcessor","body":"<ol>\n<li><p>BeanFactory is lightweight and it doesn't load in-memory/initialize any bean from application.xml (even singleton beans) unless factory.getBean(&quot;bean-name&quot;) method is called; whereas ApplicationContext is heavyweight is loads everything on container startup. BeanFactory also supports limited scopes like proto and singleton and features like AOP doesn't work with BeanFactory.\n<em>So to answer your 1st question <strong>YES</strong> while using BeanFactory just loading the xml and creating BeanFactory object does not guarantee any bean is initialized; only place to use it is when you are concerned of runtime memory consumption</em>\nNote: ApplicationContext extends ListableBeanFactory extends BeanFactory.</p>\n</li>\n<li><p>BeanPostProcessor as the name suggest gives you hooks to work on an instance of a bean created by the spring container by ApplciationContext/<a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M4/reference/html/ch03s14.html\" rel=\"nofollow noreferrer\">BeanFactory implementation</a> (i.e. before and after initialization) Spring AOPs like transactions. caching etc. ref <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/InstantiationAwareBeanPostProcessor.html#postProcessBeforeInstantiation-java.lang.Class-java.lang.String-\" rel=\"nofollow noreferrer\">@Required for example</a>.  BeanFactoryPostProcessor on the other end lets you modify the actual bean definition before initialization of the instance. The PropertyResourceConfigurer and PropertyPlaceholderConfigurer are two good examples refer <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/PropertyResourceConfigurer.html#postProcessBeanFactory-org.springframework.beans.factory.config.ConfigurableListableBeanFactory-\" rel=\"nofollow noreferrer\">PropertyResourceConfigurer example</a>, how properties are changed before initializing the actual beans.</p>\n</li>\n<li><p>ApplicationContext main responsibility is initialization of bean, now based on the individual bean is defined it provides way to perform specialized tasks like resources bundle loading/property configurer. I suggest you look at the javadoc for a concrete implementation of ApplicationContext like <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/GenericApplicationContext.html\" rel=\"nofollow noreferrer\">GenericApplicationContext</a> . If you look at how each methods are implemented you will understand how the control flows from AppContext to individual beans before and after they are initialized. AppContext only has the contract for supports tasks</p>\n</li>\n</ol>\n"}],"owner":{"account_id":11827466,"reputation":2337,"user_id":8655052,"accept_rate":100,"display_name":"Mr.DevEng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72446507,"answer_count":1,"score":1,"last_activity_date":1654770048,"creation_date":1653557107,"question_id":72389597,"body_markdown":"I am now learning little bit detail about Spring IoC Containers with the difference between BeanFactory Vs Application Context. I was also referring the previous stack overflow discussion and tutorial point from the following links,\r\n\r\n https://stackoverflow.com/questions/243385/beanfactory-vs-applicationcontext\r\n\r\nhttps://www.tutorialspoint.com/spring/spring_ioc_containers.htm\r\n\r\nIn my learning I found that ApplicationContext is capable of resolving textual messages from a properties file and the ability to publish application events to interested event listeners\r\n\r\nAnd BeanPostProcessor Registration and BeanFactoryPostProcessor Registration doing manually in BeanFactory and automatically doing in application context,\r\n\r\nSo my confusions are,\r\n\r\n1. Since BeanFactory Manually doing BeanPostProcessor registration, Does that mean the  developer is doing something while bean is getting initiating ?  Because, the same process ApplicationContext does automaticall according to documentations\r\n\r\n2. What is the purpose of BeanFactoryPostProcessor registration ? What is the difference between BeanPostProcessor and BeanFactoryPostProcessor ?\r\n\r\n3. If we say ApplicationContext has the ability to resolving text messages from properties file (Message source access), So for what purpose application context is communicating with property file ?\r\n\r\nHow can I better understand this concept ?\r\n","title":"BeanFactory Vs ApplicationContext in concern of BeanPostProcessor And BeanFactoryPostProcessor","body":"<p>I am now learning little bit detail about Spring IoC Containers with the difference between BeanFactory Vs Application Context. I was also referring the previous stack overflow discussion and tutorial point from the following links,</p>\n<p><a href=\"https://stackoverflow.com/questions/243385/beanfactory-vs-applicationcontext\">BeanFactory vs ApplicationContext</a></p>\n<p><a href=\"https://www.tutorialspoint.com/spring/spring_ioc_containers.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/spring/spring_ioc_containers.htm</a></p>\n<p>In my learning I found that ApplicationContext is capable of resolving textual messages from a properties file and the ability to publish application events to interested event listeners</p>\n<p>And BeanPostProcessor Registration and BeanFactoryPostProcessor Registration doing manually in BeanFactory and automatically doing in application context,</p>\n<p>So my confusions are,</p>\n<ol>\n<li><p>Since BeanFactory Manually doing BeanPostProcessor registration, Does that mean the  developer is doing something while bean is getting initiating ?  Because, the same process ApplicationContext does automaticall according to documentations</p>\n</li>\n<li><p>What is the purpose of BeanFactoryPostProcessor registration ? What is the difference between BeanPostProcessor and BeanFactoryPostProcessor ?</p>\n</li>\n<li><p>If we say ApplicationContext has the ability to resolving text messages from properties file (Message source access), So for what purpose application context is communicating with property file ?</p>\n</li>\n</ol>\n<p>How can I better understand this concept ?</p>\n"},{"tags":["java","kotlin","annotations","alias","type-alias"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1654771704,"post_id":72558589,"comment_id":128173906,"body_markdown":"That would be a cool feature, but it is currently not in Kotlin. You need to write your own annotation called `Red`, and write your own annotation processor that translates it into `Colour(&quot;red&quot;)`.","body":"That would be a cool feature, but it is currently not in Kotlin. You need to write your own annotation called <code>Red</code>, and write your own annotation processor that translates it into <code>Colour(&quot;red&quot;)</code>."},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1654795119,"post_id":72558589,"comment_id":128183198,"body_markdown":"If you have control over the processor that&#39;s reading the annotations, you can change it to search for aliases manually. Some libraries already include this, like Spring Boot&#39;s [meta-annotations and composed annotations](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-meta-annotations).","body":"If you have control over the processor that&#39;s reading the annotations, you can change it to search for aliases manually. Some libraries already include this, like Spring Boot&#39;s <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-meta-annotations\" rel=\"nofollow noreferrer\">meta-annotations and composed annotations</a>."},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1654810510,"post_id":72558589,"comment_id":128187648,"body_markdown":"See also https://stackoverflow.com/q/55711084/4161471","body":"See also <a href=\"https://stackoverflow.com/q/55711084/4161471\">stackoverflow.com/q/55711084/4161471</a>"}],"owner":{"account_id":12663900,"reputation":415,"user_id":9203876,"display_name":"Federico Bellini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":655,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1654769766,"creation_date":1654769766,"question_id":72558589,"body_markdown":"Is it somehow possible to have &quot;annotation aliases&quot; in Kotlin?\r\n\r\nWhat I want to achieve is to transform this \r\n\r\n    @Colour(&quot;red&quot;)\r\n    fun method() = &quot;something&quot;\r\n\r\ninto something like this\r\n    \r\n    annotationalias Red = Colour(&quot;red&quot;)\r\n\r\n    @Red\r\n    fun method() = &quot;something&quot;\r\n\r\n ","title":"Kotlin annotation alias","body":"<p>Is it somehow possible to have &quot;annotation aliases&quot; in Kotlin?</p>\n<p>What I want to achieve is to transform this</p>\n<pre><code>@Colour(&quot;red&quot;)\nfun method() = &quot;something&quot;\n</code></pre>\n<p>into something like this</p>\n<pre><code>annotationalias Red = Colour(&quot;red&quot;)\n\n@Red\nfun method() = &quot;something&quot;\n</code></pre>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1654704606,"post_id":72548938,"comment_id":128156753,"body_markdown":"Have you tried `==` or even `.equals()`?","body":"Have you tried <code>==</code> or even <code>.equals()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654769489,"creation_date":1654734610,"answer_id":72553522,"question_id":72548938,"body_markdown":"**Solution 1: [@AfterMapping][1] method**\r\n```java\r\n@Mapper( componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE )\r\npublic interface BookMapper {\r\n    BookMapper INSTANCE = Mappers.getMapper(BookMapper.class);\r\n\r\n    Book map(BookWriteModel bookWriteModel, User user);\r\n\r\n    @AfterMapping\r\n    default void afterMap(@MappingTarget Book book, User user) {\r\n        if (user != null) {\r\n            for (Page page : book.pages) {\r\n                page.userId = user.userId;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nGenerated code:\r\n```java\r\n@Component\r\npublic class BookMapperImpl implements BookMapper {\r\n    @Override\r\n    public Book map(BookWriteModel bookWriteModel, User user) {\r\n        if ( bookWriteModel == null &amp;&amp; user == null ) {\r\n            return null;\r\n        }\r\n        Book book = new Book();\r\n        if ( bookWriteModel != null ) {\r\n            book.pages = pageWriteModelListToPageList( bookWriteModel.pages );\r\n        }\r\n        afterMap( book, user );\r\n        return book;\r\n    }\r\n\r\n    protected Page pageWriteModelToPage(PageWriteModel pageWriteModel) {\r\n        if ( pageWriteModel == null ) {\r\n            return null;\r\n        }\r\n        Page page = new Page();\r\n        page.pageNumber = pageWriteModel.pageNumber;\r\n        return page;\r\n    }\r\n\r\n    protected List&lt;Page&gt; pageWriteModelListToPageList(List&lt;PageWriteModel&gt; list) {\r\n        if ( list == null ) {\r\n            return null;\r\n        }\r\n        List&lt;Page&gt; list1 = new ArrayList&lt;Page&gt;( list.size() );\r\n        for ( PageWriteModel pageWriteModel : list ) {\r\n            list1.add( pageWriteModelToPage( pageWriteModel ) );\r\n        }\r\n        return list1;\r\n    }\r\n}\r\n```\r\n**Solution 2: using [@Context][2] togather [@ObjectFactory][3]**\r\n```java\r\n@Mapper( componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE )\r\npublic interface BookMapper {\r\n    BookMapper INSTANCE = Mappers.getMapper(BookMapper.class);\r\n\r\n    Book map(BookWriteModel bookWriteModel, @Context User user);\r\n\r\n    @ObjectFactory\r\n    default Page create(@Context User user) {\r\n        Page page = new Page();\r\n        if (user != null) {\r\n            page.userId = user.userId;\r\n        }\r\n        return page;\r\n    }\r\n}\r\n```\r\nGenerated code:\r\n```java\r\n@Component\r\npublic class BookMapperImpl implements BookMapper {\r\n    @Override\r\n    public Book map(BookWriteModel bookWriteModel, User user) {\r\n        if ( bookWriteModel == null ) {\r\n            return null;\r\n        }\r\n        Book book = new Book();\r\n        book.pages = pageWriteModelListToPageList( bookWriteModel.pages, user );\r\n        return book;\r\n    }\r\n\r\n    protected Page pageWriteModelToPage(PageWriteModel pageWriteModel, User user) {\r\n        if ( pageWriteModel == null ) {\r\n            return null;\r\n        }\r\n        Page page = create( user );\r\n        page.pageNumber = pageWriteModel.pageNumber;\r\n        return page;\r\n    }\r\n\r\n    protected List&lt;Page&gt; pageWriteModelListToPageList(List&lt;PageWriteModel&gt; list, User user) {\r\n        if ( list == null ) {\r\n            return null;\r\n        }\r\n        List&lt;Page&gt; list1 = new ArrayList&lt;Page&gt;( list.size() );\r\n        for ( PageWriteModel pageWriteModel : list ) {\r\n            list1.add( pageWriteModelToPage( pageWriteModel, user ) );\r\n        }\r\n        return list1;\r\n    }\r\n}\r\n```\r\n**Solution 3: using [@Context][2] togather [@ObjectFactory][3] and additional mapping method**\r\n```java\r\n@Mapper( componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\npublic interface BookMapper {\r\n    BookMapper INSTANCE = Mappers.getMapper(BookMapper.class);\r\n\r\n    Book map(BookWriteModel bookWriteModel, @Context User user);\r\n    \r\n    Page map(User user);\r\n\r\n    @ObjectFactory\r\n    default Page create(@Context User user) {\r\n        Page page = map(user);\r\n        return page == null ? new Page() : page;\r\n    }\r\n}\r\n```\r\nGenerated code:\r\n```java\r\n@Component\r\npublic class BookMapperImpl implements BookMapper {\r\n    @Override\r\n    public Book map(BookWriteModel bookWriteModel, User user) {\r\n        if ( bookWriteModel == null ) {\r\n            return null;\r\n        }\r\n        Book book = new Book();\r\n        book.pages = pageWriteModelListToPageList( bookWriteModel.pages, user );\r\n        return book;\r\n    }\r\n\r\n    @Override\r\n    public Page map(User user) {\r\n        if ( user == null ) {\r\n            return null;\r\n        }\r\n        Page page = new Page();\r\n        page.userId = user.userId;\r\n        return page;\r\n    }\r\n\r\n    protected Page pageWriteModelToPage(PageWriteModel pageWriteModel, User user) {\r\n        if ( pageWriteModel == null ) {\r\n            return null;\r\n        }\r\n        Page page = create( user );\r\n        page.pageNumber = pageWriteModel.pageNumber;\r\n        return page;\r\n    }\r\n\r\n    protected List&lt;Page&gt; pageWriteModelListToPageList(List&lt;PageWriteModel&gt; list, User user) {\r\n        if ( list == null ) {\r\n            return null;\r\n        }\r\n        List&lt;Page&gt; list1 = new ArrayList&lt;Page&gt;( list.size() );\r\n        for ( PageWriteModel pageWriteModel : list ) {\r\n            list1.add( pageWriteModelToPage( pageWriteModel, user ) );\r\n        }\r\n        return list1;\r\n    }\r\n}\r\n```\r\n**Solution 4: [@Context][2] method as proxy to mapping method**\r\n```java\r\n@Mapper( componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\npublic interface BookMapper {\r\n    BookMapper INSTANCE = Mappers.getMapper(BookMapper.class);\r\n\r\n    Book map(BookWriteModel bookWriteModel, @Context User user);\r\n\r\n    Page map(PageWriteModel pageWriteModel, User user);\r\n\r\n    default Page mapContext(PageWriteModel pageWriteModel, @Context User user) {\r\n        return map(pageWriteModel, user);\r\n    }\r\n}\r\n```\r\nGenerated code:\r\n```java\r\n@Component\r\npublic class BookMapperImpl implements BookMapper {\r\n\r\n    @Override\r\n    public Book map(BookWriteModel bookWriteModel, User user) {\r\n        if ( bookWriteModel == null ) {\r\n            return null;\r\n        }\r\n\r\n        Book book = new Book();\r\n\r\n        book.pages = pageWriteModelListToPageList( bookWriteModel.pages, user );\r\n\r\n        return book;\r\n    }\r\n\r\n    @Override\r\n    public Page map(PageWriteModel pageWriteModel, User user) {\r\n        if ( pageWriteModel == null &amp;&amp; user == null ) {\r\n            return null;\r\n        }\r\n\r\n        Page page = new Page();\r\n\r\n        if ( pageWriteModel != null ) {\r\n            page.pageNumber = pageWriteModel.pageNumber;\r\n        }\r\n        if ( user != null ) {\r\n            page.userId = user.userId;\r\n        }\r\n        return page;\r\n    }\r\n\r\n    protected List&lt;Page&gt; pageWriteModelListToPageList(List&lt;PageWriteModel&gt; list, User user) {\r\n        if ( list == null ) {\r\n            return null;\r\n        }\r\n        List&lt;Page&gt; list1 = new ArrayList&lt;Page&gt;( list.size() );\r\n        for ( PageWriteModel pageWriteModel : list ) {\r\n            list1.add( mapContext( pageWriteModel, user ) );\r\n        }\r\n        return list1;\r\n    }\r\n}\r\n```\r\n\r\nI think, **Solution 4** is clear and preferable.\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#customizing-mappings-with-before-and-after\r\n  [2]: https://mapstruct.org/documentation/stable/reference/html/#passing-context\r\n  [3]: https://mapstruct.org/documentation/stable/reference/html/#object-factories","title":"Mapstruct - map property to property of object in a List","body":"<p><strong>Solution 1: <a href=\"https://mapstruct.org/documentation/stable/reference/html/#customizing-mappings-with-before-and-after\" rel=\"nofollow noreferrer\">@AfterMapping</a> method</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper( componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE )\npublic interface BookMapper {\n    BookMapper INSTANCE = Mappers.getMapper(BookMapper.class);\n\n    Book map(BookWriteModel bookWriteModel, User user);\n\n    @AfterMapping\n    default void afterMap(@MappingTarget Book book, User user) {\n        if (user != null) {\n            for (Page page : book.pages) {\n                page.userId = user.userId;\n            }\n        }\n    }\n}\n</code></pre>\n<p>Generated code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class BookMapperImpl implements BookMapper {\n    @Override\n    public Book map(BookWriteModel bookWriteModel, User user) {\n        if ( bookWriteModel == null &amp;&amp; user == null ) {\n            return null;\n        }\n        Book book = new Book();\n        if ( bookWriteModel != null ) {\n            book.pages = pageWriteModelListToPageList( bookWriteModel.pages );\n        }\n        afterMap( book, user );\n        return book;\n    }\n\n    protected Page pageWriteModelToPage(PageWriteModel pageWriteModel) {\n        if ( pageWriteModel == null ) {\n            return null;\n        }\n        Page page = new Page();\n        page.pageNumber = pageWriteModel.pageNumber;\n        return page;\n    }\n\n    protected List&lt;Page&gt; pageWriteModelListToPageList(List&lt;PageWriteModel&gt; list) {\n        if ( list == null ) {\n            return null;\n        }\n        List&lt;Page&gt; list1 = new ArrayList&lt;Page&gt;( list.size() );\n        for ( PageWriteModel pageWriteModel : list ) {\n            list1.add( pageWriteModelToPage( pageWriteModel ) );\n        }\n        return list1;\n    }\n}\n</code></pre>\n<p><strong>Solution 2: using <a href=\"https://mapstruct.org/documentation/stable/reference/html/#passing-context\" rel=\"nofollow noreferrer\">@Context</a> togather <a href=\"https://mapstruct.org/documentation/stable/reference/html/#object-factories\" rel=\"nofollow noreferrer\">@ObjectFactory</a></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper( componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE )\npublic interface BookMapper {\n    BookMapper INSTANCE = Mappers.getMapper(BookMapper.class);\n\n    Book map(BookWriteModel bookWriteModel, @Context User user);\n\n    @ObjectFactory\n    default Page create(@Context User user) {\n        Page page = new Page();\n        if (user != null) {\n            page.userId = user.userId;\n        }\n        return page;\n    }\n}\n</code></pre>\n<p>Generated code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class BookMapperImpl implements BookMapper {\n    @Override\n    public Book map(BookWriteModel bookWriteModel, User user) {\n        if ( bookWriteModel == null ) {\n            return null;\n        }\n        Book book = new Book();\n        book.pages = pageWriteModelListToPageList( bookWriteModel.pages, user );\n        return book;\n    }\n\n    protected Page pageWriteModelToPage(PageWriteModel pageWriteModel, User user) {\n        if ( pageWriteModel == null ) {\n            return null;\n        }\n        Page page = create( user );\n        page.pageNumber = pageWriteModel.pageNumber;\n        return page;\n    }\n\n    protected List&lt;Page&gt; pageWriteModelListToPageList(List&lt;PageWriteModel&gt; list, User user) {\n        if ( list == null ) {\n            return null;\n        }\n        List&lt;Page&gt; list1 = new ArrayList&lt;Page&gt;( list.size() );\n        for ( PageWriteModel pageWriteModel : list ) {\n            list1.add( pageWriteModelToPage( pageWriteModel, user ) );\n        }\n        return list1;\n    }\n}\n</code></pre>\n<p><strong>Solution 3: using <a href=\"https://mapstruct.org/documentation/stable/reference/html/#passing-context\" rel=\"nofollow noreferrer\">@Context</a> togather <a href=\"https://mapstruct.org/documentation/stable/reference/html/#object-factories\" rel=\"nofollow noreferrer\">@ObjectFactory</a> and additional mapping method</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper( componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE)\npublic interface BookMapper {\n    BookMapper INSTANCE = Mappers.getMapper(BookMapper.class);\n\n    Book map(BookWriteModel bookWriteModel, @Context User user);\n    \n    Page map(User user);\n\n    @ObjectFactory\n    default Page create(@Context User user) {\n        Page page = map(user);\n        return page == null ? new Page() : page;\n    }\n}\n</code></pre>\n<p>Generated code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class BookMapperImpl implements BookMapper {\n    @Override\n    public Book map(BookWriteModel bookWriteModel, User user) {\n        if ( bookWriteModel == null ) {\n            return null;\n        }\n        Book book = new Book();\n        book.pages = pageWriteModelListToPageList( bookWriteModel.pages, user );\n        return book;\n    }\n\n    @Override\n    public Page map(User user) {\n        if ( user == null ) {\n            return null;\n        }\n        Page page = new Page();\n        page.userId = user.userId;\n        return page;\n    }\n\n    protected Page pageWriteModelToPage(PageWriteModel pageWriteModel, User user) {\n        if ( pageWriteModel == null ) {\n            return null;\n        }\n        Page page = create( user );\n        page.pageNumber = pageWriteModel.pageNumber;\n        return page;\n    }\n\n    protected List&lt;Page&gt; pageWriteModelListToPageList(List&lt;PageWriteModel&gt; list, User user) {\n        if ( list == null ) {\n            return null;\n        }\n        List&lt;Page&gt; list1 = new ArrayList&lt;Page&gt;( list.size() );\n        for ( PageWriteModel pageWriteModel : list ) {\n            list1.add( pageWriteModelToPage( pageWriteModel, user ) );\n        }\n        return list1;\n    }\n}\n</code></pre>\n<p><strong>Solution 4: <a href=\"https://mapstruct.org/documentation/stable/reference/html/#passing-context\" rel=\"nofollow noreferrer\">@Context</a> method as proxy to mapping method</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper( componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE)\npublic interface BookMapper {\n    BookMapper INSTANCE = Mappers.getMapper(BookMapper.class);\n\n    Book map(BookWriteModel bookWriteModel, @Context User user);\n\n    Page map(PageWriteModel pageWriteModel, User user);\n\n    default Page mapContext(PageWriteModel pageWriteModel, @Context User user) {\n        return map(pageWriteModel, user);\n    }\n}\n</code></pre>\n<p>Generated code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class BookMapperImpl implements BookMapper {\n\n    @Override\n    public Book map(BookWriteModel bookWriteModel, User user) {\n        if ( bookWriteModel == null ) {\n            return null;\n        }\n\n        Book book = new Book();\n\n        book.pages = pageWriteModelListToPageList( bookWriteModel.pages, user );\n\n        return book;\n    }\n\n    @Override\n    public Page map(PageWriteModel pageWriteModel, User user) {\n        if ( pageWriteModel == null &amp;&amp; user == null ) {\n            return null;\n        }\n\n        Page page = new Page();\n\n        if ( pageWriteModel != null ) {\n            page.pageNumber = pageWriteModel.pageNumber;\n        }\n        if ( user != null ) {\n            page.userId = user.userId;\n        }\n        return page;\n    }\n\n    protected List&lt;Page&gt; pageWriteModelListToPageList(List&lt;PageWriteModel&gt; list, User user) {\n        if ( list == null ) {\n            return null;\n        }\n        List&lt;Page&gt; list1 = new ArrayList&lt;Page&gt;( list.size() );\n        for ( PageWriteModel pageWriteModel : list ) {\n            list1.add( mapContext( pageWriteModel, user ) );\n        }\n        return list1;\n    }\n}\n</code></pre>\n<p>I think, <strong>Solution 4</strong> is clear and preferable.</p>\n"}],"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2072,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1654769489,"creation_date":1654704504,"question_id":72548938,"body_markdown":"Hello I have the following class:\r\n\r\n    public class BookWriteModel {\r\n        List&lt;PageWriteModel&gt; pages;\r\n    }\r\n    \r\n    public class Book {\r\n        List&lt;Page&gt; pages;\r\n    }\r\n    \r\n    public class PageWriteModel {\r\n        Long pageNumber;\r\n    }\r\n    \r\n    public class Page {\r\n        Long pageNumber;\r\n        Long userId;\r\n    }\r\n    \r\n    public class User {\r\n        Long userId;\r\n    }\r\n\r\nMy mapper as of now is something like this:\r\n\r\n    @Mapper( componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE )\r\n    public interface BookMapper {\r\n        Book map(BookWriteModel bookWriteModel, User user);\r\n    }\r\n\r\nWhat is the simpler way to map the `userId` to the `userId` on the Page?\r\n\r\nThanks","title":"Mapstruct - map property to property of object in a List","body":"<p>Hello I have the following class:</p>\n<pre><code>public class BookWriteModel {\n    List&lt;PageWriteModel&gt; pages;\n}\n\npublic class Book {\n    List&lt;Page&gt; pages;\n}\n\npublic class PageWriteModel {\n    Long pageNumber;\n}\n\npublic class Page {\n    Long pageNumber;\n    Long userId;\n}\n\npublic class User {\n    Long userId;\n}\n</code></pre>\n<p>My mapper as of now is something like this:</p>\n<pre><code>@Mapper( componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE )\npublic interface BookMapper {\n    Book map(BookWriteModel bookWriteModel, User user);\n}\n</code></pre>\n<p>What is the simpler way to map the <code>userId</code> to the <code>userId</code> on the Page?</p>\n<p>Thanks</p>\n"},{"tags":["java","list","collections","set"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1654682932,"post_id":72543582,"comment_id":128147490,"body_markdown":"`data.add(list1);` will not compile since list1 is a list of `Object` and data is a list of lists of `String`","body":"<code>data.add(list1);</code> will not compile since list1 is a list of <code>Object</code> and data is a list of lists of <code>String</code>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1654683203,"post_id":72543582,"comment_id":128147614,"body_markdown":"If you want distinct elements you should probably use Set instead of List.","body":"If you want distinct elements you should probably use Set instead of List."},{"owner":{"account_id":25341002,"reputation":21,"user_id":19159381,"display_name":"Satish Jajimoggala"},"score":0,"creation_date":1654686345,"post_id":72543582,"comment_id":128148747,"body_markdown":"@Pshemo - Can you please provide sample code","body":"@Pshemo - Can you please provide sample code"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1654692698,"post_id":72543582,"comment_id":128151246,"body_markdown":"Honestly this looks like not very complex problem so I am assuming it is some kind of homework, in which case I would like to first see your best honest attempt.","body":"Honestly this looks like not very complex problem so I am assuming it is some kind of homework, in which case I would like to first see your best honest attempt."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654769373,"creation_date":1654769373,"answer_id":72558487,"question_id":72543582,"body_markdown":"1. Find the number of the sets in the resulting list.\r\n```java\r\nint longest = 0;\r\nfor (List&lt;Object&gt; items : data) {\r\n    longest = Math.max(longest, items.size());\r\n}\r\n```\r\n2. Pre-populate the resulting list with set implementation (should be `LinkedHashSet` as long as the order of insertion is needed).\r\n```java\r\nList&lt;Set&lt;Object&gt;&gt; result = new ArrayList&lt;&gt;();\r\nfor (int i = 0; i &lt; longest; i++) {\r\n    result.add(new LinkedHashSet&lt;Object&gt;());\r\n}\r\n```\r\n3. Iterate through the inner lists.  Each entry at the given index in the list is put/added to the set at the related index in the `result`.\r\n```java\r\nfor (List&lt;Object&gt; items : data) {\r\n    for (int i = 0, n = items.size(); i &lt; n; i++) {\r\n        // ... hometask to complete ...\r\n    }\r\n}\r\n```","title":"Manipulating List&lt;List&lt;Object&gt;&gt; into List &lt;List&lt;Object &gt;&gt; other format","body":"<ol>\n<li>Find the number of the sets in the resulting list.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>int longest = 0;\nfor (List&lt;Object&gt; items : data) {\n    longest = Math.max(longest, items.size());\n}\n</code></pre>\n<ol start=\"2\">\n<li>Pre-populate the resulting list with set implementation (should be <code>LinkedHashSet</code> as long as the order of insertion is needed).</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Set&lt;Object&gt;&gt; result = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; longest; i++) {\n    result.add(new LinkedHashSet&lt;Object&gt;());\n}\n</code></pre>\n<ol start=\"3\">\n<li>Iterate through the inner lists.  Each entry at the given index in the list is put/added to the set at the related index in the <code>result</code>.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>for (List&lt;Object&gt; items : data) {\n    for (int i = 0, n = items.size(); i &lt; n; i++) {\n        // ... hometask to complete ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25341002,"reputation":21,"user_id":19159381,"display_name":"Satish Jajimoggala"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1654769373,"creation_date":1654681867,"question_id":72543582,"body_markdown":"Input : \r\nI want to manipulate `List&lt;List&lt;Object&gt;&gt;` in another format. Below I am providing input and expected output format\r\n\r\n**Sample Input:**\r\n\r\n    List&lt;List&lt;Object&gt;&gt; data = new ArrayList&lt;&gt;();\r\n    List&lt;Object&gt; list1 = new ArrayList&lt;&gt;();\r\n    List&lt;Object&gt; list2 = new ArrayList&lt;&gt;();\r\n    List&lt;Object&gt; list3 = new ArrayList&lt;&gt;();\r\n    List&lt;Object&gt; list4 = new ArrayList&lt;&gt;();\r\n    List&lt;Object&gt; list5 = new ArrayList&lt;&gt;();\r\n    List&lt;Object&gt; list6 = new ArrayList&lt;&gt;();\r\n    \r\n    list1.add(&quot;Siva&quot;); \r\n    list1.add(&quot;20&quot;);\r\n    list1.add(&quot;Hyd&quot;);\r\n    list1.add(&quot;India&quot;);  \r\n    \r\n    list2.add(&quot;Siva&quot;);    \r\n    list2.add(&quot;22&quot;); \r\n    list2.add(&quot;Banglore&quot;); \r\n    list2.add(&quot;India&quot;);\r\n    \r\n    list3.add(&quot;Ramesh&quot;); \r\n    list3.add(&quot;22&quot;);\r\n    list3.add(&quot;Chennai&quot;); \r\n    list3.add(&quot;India&quot;);\r\n    \r\n    list4.add(&quot;Ramesh&quot;); \r\n    list4.add(&quot;24&quot;);\r\n    list4.add(&quot;Kochi&quot;); \r\n    list4.add(&quot;US&quot;);\r\n    \r\n    list5.add(&quot;Suresh&quot;); \r\n    list5.add(&quot;25&quot;);\r\n    list5.add(&quot;Chennai&quot;); \r\n    list5.add(&quot;UK&quot;);\r\n    \r\n    list6.add(&quot;Suresh&quot;); \r\n    list6.add(&quot;24&quot;);\r\n    list6.add(&quot;Hyd&quot;); \r\n    list6.add(&quot;UK&quot;);\r\n    \r\n    data.add(list1);\r\n    data.add(list2);\r\n    data.add(list3);\r\n    data.add(list4);\r\n    data.add(list5);\r\n    data.add(list6);\r\n\r\n\r\nI need out put in below format. I need to construct another List of list obejects in below format\r\nNeed out put in distinct names, distinct age, distinct city, distinct state\r\n\r\n**Sample output:**\r\n[[Siva,Ramesh,Suresh],[20,22,24,25],[Hyd,Banglore,Chennai,Kochi],[India,US,UK]]\r\n","title":"Manipulating List&lt;List&lt;Object&gt;&gt; into List &lt;List&lt;Object &gt;&gt; other format","body":"<p>Input :\nI want to manipulate <code>List&lt;List&lt;Object&gt;&gt;</code> in another format. Below I am providing input and expected output format</p>\n<p><strong>Sample Input:</strong></p>\n<pre><code>List&lt;List&lt;Object&gt;&gt; data = new ArrayList&lt;&gt;();\nList&lt;Object&gt; list1 = new ArrayList&lt;&gt;();\nList&lt;Object&gt; list2 = new ArrayList&lt;&gt;();\nList&lt;Object&gt; list3 = new ArrayList&lt;&gt;();\nList&lt;Object&gt; list4 = new ArrayList&lt;&gt;();\nList&lt;Object&gt; list5 = new ArrayList&lt;&gt;();\nList&lt;Object&gt; list6 = new ArrayList&lt;&gt;();\n\nlist1.add(&quot;Siva&quot;); \nlist1.add(&quot;20&quot;);\nlist1.add(&quot;Hyd&quot;);\nlist1.add(&quot;India&quot;);  \n\nlist2.add(&quot;Siva&quot;);    \nlist2.add(&quot;22&quot;); \nlist2.add(&quot;Banglore&quot;); \nlist2.add(&quot;India&quot;);\n\nlist3.add(&quot;Ramesh&quot;); \nlist3.add(&quot;22&quot;);\nlist3.add(&quot;Chennai&quot;); \nlist3.add(&quot;India&quot;);\n\nlist4.add(&quot;Ramesh&quot;); \nlist4.add(&quot;24&quot;);\nlist4.add(&quot;Kochi&quot;); \nlist4.add(&quot;US&quot;);\n\nlist5.add(&quot;Suresh&quot;); \nlist5.add(&quot;25&quot;);\nlist5.add(&quot;Chennai&quot;); \nlist5.add(&quot;UK&quot;);\n\nlist6.add(&quot;Suresh&quot;); \nlist6.add(&quot;24&quot;);\nlist6.add(&quot;Hyd&quot;); \nlist6.add(&quot;UK&quot;);\n\ndata.add(list1);\ndata.add(list2);\ndata.add(list3);\ndata.add(list4);\ndata.add(list5);\ndata.add(list6);\n</code></pre>\n<p>I need out put in below format. I need to construct another List of list obejects in below format\nNeed out put in distinct names, distinct age, distinct city, distinct state</p>\n<p><strong>Sample output:</strong>\n[[Siva,Ramesh,Suresh],[20,22,24,25],[Hyd,Banglore,Chennai,Kochi],[India,US,UK]]</p>\n"},{"tags":["java","jenkins","ssl-certificate","virtual-machine","jenkins-plugins"],"comments":[{"owner":{"account_id":6849920,"reputation":135,"user_id":5267377,"display_name":"ToxicWaste"},"score":0,"creation_date":1654774696,"post_id":72558454,"comment_id":128174983,"body_markdown":"Looks like this deprecation issue mentioned here: https://stackoverflow.com/questions/68030962/dockerforwindows-jenkinsinstallation-java-security-signatureexception-signa\n\nHave you checked out running it on lts-11?","body":"Looks like this deprecation issue mentioned here: <a href=\"https://stackoverflow.com/questions/68030962/dockerforwindows-jenkinsinstallation-java-security-signatureexception-signa\" title=\"dockerforwindows jenkinsinstallation java security signatureexception signa\">stackoverflow.com/questions/68030962/&hellip;</a>  Have you checked out running it on lts-11?"},{"owner":{"account_id":7824944,"reputation":57,"user_id":5916788,"accept_rate":25,"display_name":"Shruti"},"score":0,"creation_date":1655121004,"post_id":72558454,"comment_id":128247675,"body_markdown":"Thank you. Issue is solved now. Issue was jenkins.war was old war which was not compatible with latest java version. Replaced with latest jenkins.war and ran again.","body":"Thank you. Issue is solved now. Issue was jenkins.war was old war which was not compatible with latest java version. Replaced with latest jenkins.war and ran again."},{"owner":{"account_id":7824944,"reputation":57,"user_id":5916788,"accept_rate":25,"display_name":"Shruti"},"score":0,"creation_date":1655121044,"post_id":72558454,"comment_id":128247687,"body_markdown":"Also, we need to replace java path and port no in jenkins.exe else another error will come","body":"Also, we need to replace java path and port no in jenkins.exe else another error will come"}],"owner":{"account_id":7824944,"reputation":57,"user_id":5916788,"accept_rate":25,"display_name":"Shruti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1068,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654769254,"creation_date":1654769254,"question_id":72558454,"body_markdown":"    I am trying configure jenkins job for automation purpose. So I installed jenkins setup and it is success and then I am trying to run jenkins.war file in VM but when I run command **java -jar jenkins.war --httpPort=8889**, I am getting below error\r\nTried few related solution from stackoverflow but nothing worked for this issue.\r\n    Seems like java certificate missing but when I run java -version I am getting output for java 8.\r\n    What can be possible solutions?\r\n\r\nerror: \r\n    \r\n    [31mJun 09, 2022 2:53:38 AM hudson.model.UpdateSite updateData\r\n    SEVERE: ERROR: Signature verification failed in update site &amp;#039;default&amp;#039; &lt;a href=&#39;#&#39; class=&#39;showDetails&#39;&gt;(show details)&lt;/a&gt;&lt;pre style=&#39;display:none&#39;&gt;java.security.cert.CertPathValidatorException: signature check failed\r\n            at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:135)\r\n            at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:233)\r\n            at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:141)\r\n            at sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:80)\r\n            at java.security.cert.CertPathValidator.validate(CertPathValidator.java:292)\r\n            at org.jvnet.hudson.crypto.CertificateUtil.validatePath(CertificateUtil.java:93)\r\n            at jenkins.util.JSONSignatureValidator.verifySignature(JSONSignatureValidator.java:76)\r\n            at hudson.model.UpdateSite.verifySignature(UpdateSite.java:219)\r\n            at hudson.model.UpdateSite.updateData(UpdateSite.java:198)\r\n            at hudson.model.UpdateSite.updateDirectlyNow(UpdateSite.java:170)\r\n            at hudson.PluginManager.doCheckUpdatesServer(PluginManager.java:890)\r\n            at jenkins.model.DownloadSettings$DailyCheck.execute(DownloadSettings.java:118)\r\n            at hudson.model.AsyncPeriodicWork$1.run(AsyncPeriodicWork.java:53)\r\n            at java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.security.SignatureException: Signature length not correct: got 512 but was expecting 256\r\n            at sun.security.rsa.RSASignature.engineVerify(RSASignature.java:211)\r\n            at java.security.Signature$Delegate.engineVerify(Signature.java:1394)\r\n            at java.security.Signature.verify(Signature.java:771)\r\n            at sun.security.x509.X509CertImpl.verify(X509CertImpl.java:452)\r\n            at sun.security.provider.certpath.BasicChecker.verifySignature(BasicChecker.java:166)\r\n            at sun.security.provider.certpath.BasicChecker.check(BasicChecker.java:147)\r\n            at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:125)\r\n            ... 13 more\r\n    &lt;/pre&gt;\r\n    [0mJun 09, 2022 2:53:38 AM hudson.model.AsyncPeriodicWork$1 run","title":"java.security.cert.CertPathValidatorException: signature check failed","body":"<pre><code>I am trying configure jenkins job for automation purpose. So I installed jenkins setup and it is success and then I am trying to run jenkins.war file in VM but when I run command **java -jar jenkins.war --httpPort=8889**, I am getting below error\n</code></pre>\n<p>Tried few related solution from stackoverflow but nothing worked for this issue.\nSeems like java certificate missing but when I run java -version I am getting output for java 8.\nWhat can be possible solutions?</p>\n<p>error:</p>\n<pre><code>[31mJun 09, 2022 2:53:38 AM hudson.model.UpdateSite updateData\nSEVERE: ERROR: Signature verification failed in update site &amp;#039;default&amp;#039; &lt;a href='#' class='showDetails'&gt;(show details)&lt;/a&gt;&lt;pre style='display:none'&gt;java.security.cert.CertPathValidatorException: signature check failed\n        at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:135)\n        at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:233)\n        at sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:141)\n        at sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:80)\n        at java.security.cert.CertPathValidator.validate(CertPathValidator.java:292)\n        at org.jvnet.hudson.crypto.CertificateUtil.validatePath(CertificateUtil.java:93)\n        at jenkins.util.JSONSignatureValidator.verifySignature(JSONSignatureValidator.java:76)\n        at hudson.model.UpdateSite.verifySignature(UpdateSite.java:219)\n        at hudson.model.UpdateSite.updateData(UpdateSite.java:198)\n        at hudson.model.UpdateSite.updateDirectlyNow(UpdateSite.java:170)\n        at hudson.PluginManager.doCheckUpdatesServer(PluginManager.java:890)\n        at jenkins.model.DownloadSettings$DailyCheck.execute(DownloadSettings.java:118)\n        at hudson.model.AsyncPeriodicWork$1.run(AsyncPeriodicWork.java:53)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: java.security.SignatureException: Signature length not correct: got 512 but was expecting 256\n        at sun.security.rsa.RSASignature.engineVerify(RSASignature.java:211)\n        at java.security.Signature$Delegate.engineVerify(Signature.java:1394)\n        at java.security.Signature.verify(Signature.java:771)\n        at sun.security.x509.X509CertImpl.verify(X509CertImpl.java:452)\n        at sun.security.provider.certpath.BasicChecker.verifySignature(BasicChecker.java:166)\n        at sun.security.provider.certpath.BasicChecker.check(BasicChecker.java:147)\n        at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:125)\n        ... 13 more\n&lt;/pre&gt;\n[0mJun 09, 2022 2:53:38 AM hudson.model.AsyncPeriodicWork$1 run\n</code></pre>\n"},{"tags":["java","oracle","jdbc","thin"],"answers":[{"tags":[],"owner":{"account_id":25340979,"reputation":96,"user_id":19159360,"display_name":"ssolbach"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653406957,"creation_date":1653406957,"answer_id":72365781,"question_id":72365539,"body_markdown":"Depending on the client version, the &quot;short&quot; syntax does not support all required attributes required for RAC. So you should use the long format, as it provides all capabilities also when requiring Data Guard.\r\n\r\nSee:\r\n\r\n - https://www.oracle.com/a/tech/docs/application-checklist-for-continuous-availability-for-maa.pdf\r\n - https://www.oracle.com/technetwork/database/options/clustering/applicationcontinuity/applicationcontinuityformaa-6348196.pdf\r\n - https://www.oracle.com/technetwork/database/availability/client-failover-2280805.pdf\r\n\r\nEven though the first is for Autonomous, they are still applicable even for a standard On-Premises deployment.\r\n\r\nFor more good whitepapers, see www.oracle.com/goto/maa \r\n","title":"Difference between oracle JDBC Thin style URL and descriptor URL","body":"<p>Depending on the client version, the &quot;short&quot; syntax does not support all required attributes required for RAC. So you should use the long format, as it provides all capabilities also when requiring Data Guard.</p>\n<p>See:</p>\n<ul>\n<li><a href=\"https://www.oracle.com/a/tech/docs/application-checklist-for-continuous-availability-for-maa.pdf\" rel=\"nofollow noreferrer\">https://www.oracle.com/a/tech/docs/application-checklist-for-continuous-availability-for-maa.pdf</a></li>\n<li><a href=\"https://www.oracle.com/technetwork/database/options/clustering/applicationcontinuity/applicationcontinuityformaa-6348196.pdf\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/database/options/clustering/applicationcontinuity/applicationcontinuityformaa-6348196.pdf</a></li>\n<li><a href=\"https://www.oracle.com/technetwork/database/availability/client-failover-2280805.pdf\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/database/availability/client-failover-2280805.pdf</a></li>\n</ul>\n<p>Even though the first is for Autonomous, they are still applicable even for a standard On-Premises deployment.</p>\n<p>For more good whitepapers, see <a href=\"http://www.oracle.com/goto/maa\" rel=\"nofollow noreferrer\">www.oracle.com/goto/maa</a></p>\n"},{"tags":[],"owner":{"account_id":5534918,"reputation":1308,"user_id":4393594,"display_name":"Nirmala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654769194,"creation_date":1654769194,"answer_id":72558443,"question_id":72365539,"body_markdown":"The first one is called Easy Connect URL and long one is called long form connection URL. \r\n\r\nEasy Connect: jdbc:oracle:thin:@&lt;host&gt;:1521/&lt;SERVICENAME&gt;\r\nLong Form Connection URL: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=myhost)(PORT=1521)(PROTOCOL=tcp))(CONNECT_DATA=(SERVICE_NAME=myorcldbservicename)))\r\n\r\nStarting from 19c, Easy connect URL also has been enhanced to support other connection properties through name value pair. \r\n\r\nRefer to [JDBC Developer&#39;s guide][1] for more examples. \r\n\r\nFor RAC, it might be easier to decode the long form URL if you have multiple hosts. But, technically you can use both. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/database/oracle/oracle-database/21/jjdbc/data-sources-and-URLs.html#GUID-843F6EC2-EDFD-4A88-98DE-B45E1CEADC0E","title":"Difference between oracle JDBC Thin style URL and descriptor URL","body":"<p>The first one is called Easy Connect URL and long one is called long form connection URL.</p>\n<p>Easy Connect: jdbc:oracle:thin:@:1521/\nLong Form Connection URL: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=myhost)(PORT=1521)(PROTOCOL=tcp))(CONNECT_DATA=(SERVICE_NAME=myorcldbservicename)))</p>\n<p>Starting from 19c, Easy connect URL also has been enhanced to support other connection properties through name value pair.</p>\n<p>Refer to <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/21/jjdbc/data-sources-and-URLs.html#GUID-843F6EC2-EDFD-4A88-98DE-B45E1CEADC0E\" rel=\"nofollow noreferrer\">JDBC Developer's guide</a> for more examples.</p>\n<p>For RAC, it might be easier to decode the long form URL if you have multiple hosts. But, technically you can use both.</p>\n"}],"owner":{"account_id":8728958,"reputation":873,"user_id":6529706,"accept_rate":27,"display_name":"Zizou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1654769194,"creation_date":1653405918,"question_id":72365539,"body_markdown":"I have googled and found some topics discussing similar topic but never got one thread having final and clear response. We are working on a Java application where we will need to support  RAC connections. The question is what is the difference between the two URL styles:\r\n\r\n    jdbc:oracle:thin:@&lt;host&gt;:1521/&lt;SERVICENAME&gt;\r\n    jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=myhost)(PORT=1521)(PROTOCOL=tcp))(CONNECT_DATA=(SERVICE_NAME=myorcldbservicename)))\r\n\r\nIs there any best practice to sue one format over the other?\r\n\r\nDoes the first style supports RAC connection? Does the first style supports failover/load balancing testing? Does it make sense to use the second style and only providing one node? Do we need always to specify all nodes (for the two approches) or is only specifying one node up when the application starts is enough?\r\n\r\n\r\n","title":"Difference between oracle JDBC Thin style URL and descriptor URL","body":"<p>I have googled and found some topics discussing similar topic but never got one thread having final and clear response. We are working on a Java application where we will need to support  RAC connections. The question is what is the difference between the two URL styles:</p>\n<pre><code>jdbc:oracle:thin:@&lt;host&gt;:1521/&lt;SERVICENAME&gt;\njdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=myhost)(PORT=1521)(PROTOCOL=tcp))(CONNECT_DATA=(SERVICE_NAME=myorcldbservicename)))\n</code></pre>\n<p>Is there any best practice to sue one format over the other?</p>\n<p>Does the first style supports RAC connection? Does the first style supports failover/load balancing testing? Does it make sense to use the second style and only providing one node? Do we need always to specify all nodes (for the two approches) or is only specifying one node up when the application starts is enough?</p>\n"},{"tags":["java","android-studio","android-layout","admob"],"answers":[{"tags":[],"owner":{"account_id":3322110,"reputation":3070,"user_id":2793036,"accept_rate":78,"display_name":"Rishabh876"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654769067,"creation_date":1654769067,"answer_id":72558422,"question_id":72558164,"body_markdown":"If your MainActivity is in backstack, you can call same activity like this:\r\n\r\n    Intent entrar = new Intent(this,MainActivity.class);\r\n    entrar.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP); // this will open the same MainActivity instance and also give you a new intent.\r\n    startActivity(entrar);\r\n\r\nNow in your MainActivity you can override onNewIntent\r\n\r\n    @Override\r\n    protected void onNewIntent(Intent intent) {\r\n        super.onNewIntent(intent);\r\n    // here you will get the new Intent. You can reload only the ads programmatically or just call `this.recreate();`\r\n    }\r\n\r\n\r\n","title":"Close MainActivity(main) from another activity (ActivityPoliticas)","body":"<p>If your MainActivity is in backstack, you can call same activity like this:</p>\n<pre><code>Intent entrar = new Intent(this,MainActivity.class);\nentrar.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP); // this will open the same MainActivity instance and also give you a new intent.\nstartActivity(entrar);\n</code></pre>\n<p>Now in your MainActivity you can override onNewIntent</p>\n<pre><code>@Override\nprotected void onNewIntent(Intent intent) {\n    super.onNewIntent(intent);\n// here you will get the new Intent. You can reload only the ads programmatically or just call `this.recreate();`\n}\n</code></pre>\n"}],"owner":{"account_id":25425539,"reputation":9,"user_id":19230785,"display_name":"lina0i0-29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72558422,"answer_count":1,"score":0,"last_activity_date":1654769067,"creation_date":1654768101,"question_id":72558164,"body_markdown":"I&#39;m looking for a solution to press the (non-personalized ads) button of the ActivityPolicies and  close the MainActivity and then reopen the MainActivity with the correct ad.\r\n\r\nMainActivity(principal)\r\n\r\n    public void politicas(View view) // button\r\n    {\r\n    \tIntent i = new Intent (this, ActivityPolicies.class);\r\n    \ti.putExtra(&quot;valor&quot;,&quot;politicas&quot;);\r\n    \tstartActivity(i);\t\r\n    \r\n    }\r\n\r\nActivityPolicies\r\n\r\n\r\n    public void NonPersonalizedAdvertising(View view) //button\r\n    {\r\n        SharedPreferences myPreferences = PreferenceManager.getDefaultSharedPreferences(MensajePoliticas.this);\r\n        SharedPreferences.Editor myEditor =myPreferences.edit();\r\n        myEditor.putString(&quot;POLITICAS&quot;,&quot;LEIDO_NOACEPTADO&quot;);\r\n        myEditor.commit();\r\n    \r\n    //Missing some option to close the main activity\r\n    \r\n    *\r\n    *\r\n    *\r\n     //Reopen the main activity\r\n    \r\n    Intent entrar=new Intent(this,MainActivity.class);\r\n    startActivity(entrar);\r\n    \r\n    \r\n        finish();  // Close the current activity (ActivityPolicies)\r\n    }\r\n\r\nThe goal is to close the MainActivity to reload the correct personalized or non-personalized ad. I already have the code but I am missing this option to reload the MainActivity.\r\n\r\n\r\nAnother question:\r\nClose the main activity to reload the ads, can I have problems with some Admob rule?\r\n\r\nThank you very much","title":"Close MainActivity(main) from another activity (ActivityPoliticas)","body":"<p>I'm looking for a solution to press the (non-personalized ads) button of the ActivityPolicies and  close the MainActivity and then reopen the MainActivity with the correct ad.</p>\n<p>MainActivity(principal)</p>\n<pre><code>public void politicas(View view) // button\n{\n    Intent i = new Intent (this, ActivityPolicies.class);\n    i.putExtra(&quot;valor&quot;,&quot;politicas&quot;);\n    startActivity(i);   \n\n}\n</code></pre>\n<p>ActivityPolicies</p>\n<pre><code>public void NonPersonalizedAdvertising(View view) //button\n{\n    SharedPreferences myPreferences = PreferenceManager.getDefaultSharedPreferences(MensajePoliticas.this);\n    SharedPreferences.Editor myEditor =myPreferences.edit();\n    myEditor.putString(&quot;POLITICAS&quot;,&quot;LEIDO_NOACEPTADO&quot;);\n    myEditor.commit();\n\n//Missing some option to close the main activity\n\n*\n*\n*\n //Reopen the main activity\n\nIntent entrar=new Intent(this,MainActivity.class);\nstartActivity(entrar);\n\n\n    finish();  // Close the current activity (ActivityPolicies)\n}\n</code></pre>\n<p>The goal is to close the MainActivity to reload the correct personalized or non-personalized ad. I already have the code but I am missing this option to reload the MainActivity.</p>\n<p>Another question:\nClose the main activity to reload the ads, can I have problems with some Admob rule?</p>\n<p>Thank you very much</p>\n"},{"tags":["java","logging","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"down_vote_count":2,"up_vote_count":4,"is_accepted":true,"score":2,"last_activity_date":1428899087,"creation_date":1428897859,"answer_id":29597669,"question_id":29542049,"body_markdown":"Internally, log4j uses a LogEvent to carry all the data pieces (the log message, thread name, timestamp, markers, logger name, etc) to the appenders where they may appear in the output. \r\n\r\n\r\nLog4j log events are designed for internal use only and are not designed to be extended by applications. For example, Async Loggers use a specialized implementation of the LogEvent interface to meet the requirements of the underlying LMAX Disruptor library. It will not be easy to extend this.\r\n\r\nYour use case is not clear to me, but if for example you want to develop a custom appender which needs custom data not present in the LogEvent interface, you can consider using the ThreadContext map to pass data from your app to the custom appender, rather than trying to use a custom log event.","title":"How to use LoggingEvent class with log4j 2.2","body":"<p>Internally, log4j uses a LogEvent to carry all the data pieces (the log message, thread name, timestamp, markers, logger name, etc) to the appenders where they may appear in the output. </p>\n\n<p>Log4j log events are designed for internal use only and are not designed to be extended by applications. For example, Async Loggers use a specialized implementation of the LogEvent interface to meet the requirements of the underlying LMAX Disruptor library. It will not be easy to extend this.</p>\n\n<p>Your use case is not clear to me, but if for example you want to develop a custom appender which needs custom data not present in the LogEvent interface, you can consider using the ThreadContext map to pass data from your app to the custom appender, rather than trying to use a custom log event.</p>\n"},{"tags":[],"owner":{"account_id":2015058,"reputation":5734,"user_id":3224967,"accept_rate":72,"display_name":"mherzl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610736770,"creation_date":1610736770,"answer_id":65742001,"question_id":29542049,"body_markdown":"When upgrading Log4j, I simply used [LogEvent][1] instead of [LoggingEvent][2].\r\n\r\nI had removed [AppenderSkeleton][3] and replaced it with [AbstractAppender][4]. `AppenderSkeleton`&#39;s `append(LoggingEvent event)` method appears in `AbstractAppender` as `append(LogEvent event)`, which was my cue to use `LogEvent` instead of `LoggingEvent`.\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/LogEvent.html\r\n  [2]: https://logging.apache.org/log4j/2.x/log4j-1.2-api/apidocs/org/apache/log4j/spi/LoggingEvent.html\r\n  [3]: https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/AppenderSkeleton.html\r\n  [4]: https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/appender/AbstractAppender.html","title":"How to use LoggingEvent class with log4j 2.2","body":"<p>When upgrading Log4j, I simply used <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/LogEvent.html\" rel=\"nofollow noreferrer\">LogEvent</a> instead of <a href=\"https://logging.apache.org/log4j/2.x/log4j-1.2-api/apidocs/org/apache/log4j/spi/LoggingEvent.html\" rel=\"nofollow noreferrer\">LoggingEvent</a>.</p>\n<p>I had removed <a href=\"https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/AppenderSkeleton.html\" rel=\"nofollow noreferrer\">AppenderSkeleton</a> and replaced it with <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/appender/AbstractAppender.html\" rel=\"nofollow noreferrer\">AbstractAppender</a>. <code>AppenderSkeleton</code>'s <code>append(LoggingEvent event)</code> method appears in <code>AbstractAppender</code> as <code>append(LogEvent event)</code>, which was my cue to use <code>LogEvent</code> instead of <code>LoggingEvent</code>.</p>\n"}],"owner":{"account_id":1245406,"reputation":4453,"user_id":1206987,"accept_rate":66,"display_name":"Grant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17754,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":29597669,"answer_count":2,"score":14,"last_activity_date":1654768933,"creation_date":1428591563,"question_id":29542049,"body_markdown":"I want to migrate from Log4j 1.x to Log4j 2.x. So I&#39;m trying to use `log4j-1.2-api.jar` as mentioned [here][1]. My application has an implementation of  `org.apache.log4j.spi.LoggingEvent`, but I cannot find a way to use LoggingEvent with the log4j 2.x api bridge. Is there anyway that I can use LoggingEvent with log4j 2.2 ?\r\n\r\nThanks.\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/migration.html","title":"How to use LoggingEvent class with log4j 2.2","body":"<p>I want to migrate from Log4j 1.x to Log4j 2.x. So I'm trying to use <code>log4j-1.2-api.jar</code> as mentioned <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"noreferrer\">here</a>. My application has an implementation of  <code>org.apache.log4j.spi.LoggingEvent</code>, but I cannot find a way to use LoggingEvent with the log4j 2.x api bridge. Is there anyway that I can use LoggingEvent with log4j 2.2 ?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","list","hashmap","set","java-stream"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1654750735,"post_id":72554874,"comment_id":128167308,"body_markdown":"You could just make another pass over the map to remove the key from the map: `mymap.forEach((k, v) -&gt; v.remove(k))`","body":"You could just make another pass over the map to remove the key from the map: <code>mymap.forEach((k, v) -&gt; v.remove(k))</code>"},{"owner":{"account_id":10317660,"reputation":75,"user_id":7611518,"accept_rate":100,"display_name":"Kumar Dev"},"score":0,"creation_date":1654754452,"post_id":72554874,"comment_id":128168013,"body_markdown":"Is it possible to do in the same iteration without an additional looping. Also after i execute `mymap.forEach((k, v) -&gt; v.remove(k))` the above i get the below  - {C3=[], C1=[], C2=[]}","body":"Is it possible to do in the same iteration without an additional looping. Also after i execute <code>mymap.forEach((k, v) -&gt; v.remove(k))</code> the above i get the below  - {C3=[], C1=[], C2=[]}"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1654757708,"post_id":72554874,"comment_id":128168916,"body_markdown":"Ah. Your first problem is that every value in the map is *the same* Set: altering one alters them all.","body":"Ah. Your first problem is that every value in the map is <i>the same</i> Set: altering one alters them all."},{"owner":{"account_id":10317660,"reputation":75,"user_id":7611518,"accept_rate":100,"display_name":"Kumar Dev"},"score":0,"creation_date":1654758900,"post_id":72554874,"comment_id":128169351,"body_markdown":"Gotcha, I changed a bit and i am able to get desired result -\n\n`Map&lt;String, Set&lt;String&gt;&gt; mymap = uniqueValues\n                .stream()\n                .collect(Collectors.toMap(Function.identity(),\n                        value -&gt; new HashSet&lt;&gt;(uniqueValues)));\n\n        mymap.forEach((k, v) -&gt; v.remove(k));`","body":"Gotcha, I changed a bit and i am able to get desired result -  <code>Map&lt;String, Set&lt;String&gt;&gt; mymap = uniqueValues                 .stream()                 .collect(Collectors.toMap(Function.identity(),                         value -&gt; new HashSet&lt;&gt;(uniqueValues)));          mymap.forEach((k, v) -&gt; v.remove(k));</code>"},{"owner":{"account_id":10317660,"reputation":75,"user_id":7611518,"accept_rate":100,"display_name":"Kumar Dev"},"score":0,"creation_date":1654758978,"post_id":72554874,"comment_id":128169370,"body_markdown":"Basically creating new HashSet for every subset","body":"Basically creating new HashSet for every subset"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654768456,"creation_date":1654767849,"answer_id":72558100,"question_id":72554874,"body_markdown":"Basically, your goal is to create a map where each entry represents a combination generated based on a set `uniqueValues`.\r\n\r\nAnd obviously each combination is distinct, which means it requires its own `Set`.  I.e. instead of providing the `uniqueValues` as a *value* for every *key*, you need to generate a new `HashSet` based on the `uniqueValues` and remove the current *key* from it.\r\n\r\nAnother mistake is that you don&#39;t need a flavor of `toMap()` collector that expects three arguments because `mergeFunction` (the third argument) is meant to resolve duplicates, but there would be no duplicates in the stream since its source is a `Set`. \r\n\r\nTo achieve this we need a version of [`toMap`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)) that expects only a `keyMapper` (*a function which produces a key from a stream element*) and `valueMapper` (*a function responsible for generating a value from a stream element*).\r\n\r\nThat&#39;s how it can be done:\r\n```\r\nMap&lt;String, Set&lt;String&gt;&gt; myMap = uniqueValues\r\n    .stream()\r\n    .collect(Collectors.toMap(\r\n        Function.identity(),\r\n        str -&gt; {\r\n            Set&lt;String&gt; value = new HashSet&lt;&gt;(uniqueValues);\r\n            value.remove(str);\r\n            return value;\r\n        }\r\n    ));\r\n\r\nSystem.out.println(myMap);\r\n```\r\n*Output:*\r\n```\r\n{C3=[C1, C2], C1=[C3, C2], C2=[C3, C1]}\r\n```","title":"Convert a List to a Map of unique values from the List with key as a single element","body":"<p>Basically, your goal is to create a map where each entry represents a combination generated based on a set <code>uniqueValues</code>.</p>\n<p>And obviously each combination is distinct, which means it requires its own <code>Set</code>.  I.e. instead of providing the <code>uniqueValues</code> as a <em>value</em> for every <em>key</em>, you need to generate a new <code>HashSet</code> based on the <code>uniqueValues</code> and remove the current <em>key</em> from it.</p>\n<p>Another mistake is that you don't need a flavor of <code>toMap()</code> collector that expects three arguments because <code>mergeFunction</code> (the third argument) is meant to resolve duplicates, but there would be no duplicates in the stream since its source is a <code>Set</code>.</p>\n<p>To achieve this we need a version of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>toMap</code></a> that expects only a <code>keyMapper</code> (<em>a function which produces a key from a stream element</em>) and <code>valueMapper</code> (<em>a function responsible for generating a value from a stream element</em>).</p>\n<p>That's how it can be done:</p>\n<pre><code>Map&lt;String, Set&lt;String&gt;&gt; myMap = uniqueValues\n    .stream()\n    .collect(Collectors.toMap(\n        Function.identity(),\n        str -&gt; {\n            Set&lt;String&gt; value = new HashSet&lt;&gt;(uniqueValues);\n            value.remove(str);\n            return value;\n        }\n    ));\n\nSystem.out.println(myMap);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>{C3=[C1, C2], C1=[C3, C2], C2=[C3, C1]}\n</code></pre>\n"}],"owner":{"account_id":10317660,"reputation":75,"user_id":7611518,"accept_rate":100,"display_name":"Kumar Dev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72558100,"answer_count":1,"score":1,"last_activity_date":1654768908,"creation_date":1654750369,"question_id":72554874,"body_markdown":"I have a list as below -\r\n```\r\nList&lt;List&lt;String&gt;&gt; originalList = \r\n    List.of(List.of(&quot;C1&quot;, &quot;C2&quot;, &quot;C3&quot;), List.of(&quot;C2&quot;, &quot;C3&quot;, &quot;C1&quot;));\r\n```\r\nI am collecting unique elements across lists and arrived at -\r\n```\r\nSet&lt;String&gt; uniqueValues = originalList.stream()\r\n    .flatMap(Collection::stream)\r\n    .collect(Collectors.toSet());\r\n```\r\nNow I&#39;m trying to create a map which will look like below -\r\n\r\n    {C3=[C1, C2], C1=[C3, C2], C2=[C3, C1]}\r\n\r\nI have the below  snippet -\r\n\r\n    Map&lt;String, Set&lt;String&gt;&gt; mymap = uniqueValues\r\n                .stream()\r\n                .collect(Collectors.toMap(Function.identity(),\r\n                        value -&gt; uniqueValues, (left, right) -&gt; {\r\n                            left.removeAll(right);\r\n                            return left;\r\n                        }));\r\n\r\nwhich is giving me - \r\n\r\n    {C3=[C3, C1, C2], C1=[C3, C1, C2], C2=[C3, C1, C2]}\r\n\r\nWhat am I doing wrong ?","title":"Convert a List to a Map of unique values from the List with key as a single element","body":"<p>I have a list as below -</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; originalList = \n    List.of(List.of(&quot;C1&quot;, &quot;C2&quot;, &quot;C3&quot;), List.of(&quot;C2&quot;, &quot;C3&quot;, &quot;C1&quot;));\n</code></pre>\n<p>I am collecting unique elements across lists and arrived at -</p>\n<pre><code>Set&lt;String&gt; uniqueValues = originalList.stream()\n    .flatMap(Collection::stream)\n    .collect(Collectors.toSet());\n</code></pre>\n<p>Now I'm trying to create a map which will look like below -</p>\n<pre><code>{C3=[C1, C2], C1=[C3, C2], C2=[C3, C1]}\n</code></pre>\n<p>I have the below  snippet -</p>\n<pre><code>Map&lt;String, Set&lt;String&gt;&gt; mymap = uniqueValues\n            .stream()\n            .collect(Collectors.toMap(Function.identity(),\n                    value -&gt; uniqueValues, (left, right) -&gt; {\n                        left.removeAll(right);\n                        return left;\n                    }));\n</code></pre>\n<p>which is giving me -</p>\n<pre><code>{C3=[C3, C1, C2], C1=[C3, C1, C2], C2=[C3, C1, C2]}\n</code></pre>\n<p>What am I doing wrong ?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-webflux"],"comments":[{"owner":{"account_id":7292020,"reputation":868,"user_id":5558106,"display_name":"Serg Vasylchak"},"score":0,"creation_date":1541410773,"post_id":53144055,"comment_id":93193740,"body_markdown":"Well, indeed it looks like you never subscibe to `generateToken()` call. If you you use this method in your service or configuration, try adding `.block()` when you call the method. This will definitely execute the `createNewToken()`, however `.block()` is considered as bad practice.","body":"Well, indeed it looks like you never subscibe to <code>generateToken()</code> call. If you you use this method in your service or configuration, try adding <code>.block()</code> when you call the method. This will definitely execute the <code>createNewToken()</code>, however <code>.block()</code> is considered as bad practice."},{"owner":{"account_id":11797467,"reputation":427,"user_id":8631898,"display_name":"Sancho"},"score":0,"creation_date":1541413257,"post_id":53144055,"comment_id":93195110,"body_markdown":"This code actually comes from WebSessionServerCsrfTokenRepository.class which is a Spring Security class, I don&#39;t use it directly.","body":"This code actually comes from WebSessionServerCsrfTokenRepository.class which is a Spring Security class, I don&#39;t use it directly."}],"answers":[{"tags":[],"owner":{"account_id":11797467,"reputation":427,"user_id":8631898,"display_name":"Sancho"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1542214352,"creation_date":1542214352,"answer_id":53305169,"question_id":53144055,"body_markdown":"In case somebody runs into this issue, I had a discussion with someone from Spring Team.\r\n\r\nIt is actually intended not to subscribe to the `csrfToken` Mono directly to do it only when needed. It is the responsability of the developper to trigger the subscription in the application, and there are two ways of doing it.\r\n\r\n**Method 1 : explicit subscription.**\r\n\r\nProvide a subscription via *@ModelAttribute* in some *@ControllerAdvice* or abstract controller class:\r\n\r\n    @ModelAttribute(CsrfRequestDataValueProcessor.DEFAULT_CSRF_ATTR_NAME)\r\n        public Mono&lt;CsrfToken&gt; getCsrfToken(final ServerWebExchange exchange) {\r\n    \r\n            return exchange.getAttributeOrDefault(CsrfToken.class.getName(), Mono.empty());\r\n        }\r\n\r\n**Method 2: use Thymeleaf to handle CSRF automatically.**\r\n\r\nMake sure you have the following dependencies in your POM to use Thymeleaf along with Spring Security:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis will add the CSRF token to your model automatically, and pass it through the forms hidden inputs (still need to add it in the headers for POST Ajax request).\r\n\r\nFor more information, here&#39;s the issue I opened at Spring: https://github.com/spring-projects/spring-security/issues/6046","title":"CSRF token not generated with Webflux","body":"<p>In case somebody runs into this issue, I had a discussion with someone from Spring Team.</p>\n\n<p>It is actually intended not to subscribe to the <code>csrfToken</code> Mono directly to do it only when needed. It is the responsability of the developper to trigger the subscription in the application, and there are two ways of doing it.</p>\n\n<p><strong>Method 1 : explicit subscription.</strong></p>\n\n<p>Provide a subscription via <em>@ModelAttribute</em> in some <em>@ControllerAdvice</em> or abstract controller class:</p>\n\n<pre><code>@ModelAttribute(CsrfRequestDataValueProcessor.DEFAULT_CSRF_ATTR_NAME)\n    public Mono&lt;CsrfToken&gt; getCsrfToken(final ServerWebExchange exchange) {\n\n        return exchange.getAttributeOrDefault(CsrfToken.class.getName(), Mono.empty());\n    }\n</code></pre>\n\n<p><strong>Method 2: use Thymeleaf to handle CSRF automatically.</strong></p>\n\n<p>Make sure you have the following dependencies in your POM to use Thymeleaf along with Spring Security:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n    &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>This will add the CSRF token to your model automatically, and pass it through the forms hidden inputs (still need to add it in the headers for POST Ajax request).</p>\n\n<p>For more information, here's the issue I opened at Spring: <a href=\"https://github.com/spring-projects/spring-security/issues/6046\" rel=\"noreferrer\">https://github.com/spring-projects/spring-security/issues/6046</a></p>\n"},{"tags":[],"owner":{"account_id":3041402,"reputation":1466,"user_id":2578324,"display_name":"jndietz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623780215,"creation_date":1623780215,"answer_id":67991383,"question_id":53144055,"body_markdown":"When I inspect the `attributes` property of `exchange`, I don&#39;t see the `CsrfToken` there, so I&#39;m not able to subscribe to it. Upon inspecting the cookies in the browser session, I did see `XSRF-TOKEN`.\r\n\r\nI ended up using this as a filter in our project:\r\n\r\n```java\r\n@Component\r\n@Slf4j\r\nclass CsrfHeaderFilter implements WebFilter {\r\n   \r\n    @Override\r\n    Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n        def xsrfToken = exchange.getRequest().getCookies().getFirst(&quot;XSRF-TOKEN&quot;).value\r\n        exchange = exchange.mutate().request({\r\n            it.header(&quot;X-XSRF-TOKEN&quot;, xsrfToken)\r\n        }).build()\r\n        log.debug(xsrfToken)\r\n        chain.filter(exchange)\r\n    }\r\n}\r\n```\r\n\r\nThen modified my security configuration so that it placed this filter before the `CsrfWebFilter`:\r\n\r\n```java\r\n@EnableWebFluxSecurity\r\n@EnableReactiveMethodSecurity\r\nclass WebSecurityConfiguration {\r\n\r\n    @Autowired\r\n    CsrfHeaderFilter csrfHeaderFilter\r\n\r\n    @Bean\r\n    SecurityWebFilterChain SecurityWebFilterChain(ServerHttpSecurity http) {\r\n        http\r\n                .addFilterBefore(csrfHeaderFilter, SecurityWebFiltersOrder.CSRF)\r\n                .httpBasic().disable()\r\n                .formLogin().disable()\r\n                .oauth2Login().and()\r\n                .csrf({\r\n                    it.csrfTokenRepository(new CookieServerCsrfTokenRepository())\r\n                })\r\n                .authorizeExchange()\r\n                .pathMatchers(&quot;/actuator/health&quot;).permitAll()\r\n                .pathMatchers(&quot;/**&quot;).authenticated()\r\n                .and().build()\r\n    }\r\n}\r\n```\r\n\r\nThis worked for us because one of the places `CsrfWebFilter` expects to find the token is in the request header `X-XSRF-TOKEN`.","title":"CSRF token not generated with Webflux","body":"<p>When I inspect the <code>attributes</code> property of <code>exchange</code>, I don't see the <code>CsrfToken</code> there, so I'm not able to subscribe to it. Upon inspecting the cookies in the browser session, I did see <code>XSRF-TOKEN</code>.</p>\n<p>I ended up using this as a filter in our project:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Slf4j\nclass CsrfHeaderFilter implements WebFilter {\n   \n    @Override\n    Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n        def xsrfToken = exchange.getRequest().getCookies().getFirst(&quot;XSRF-TOKEN&quot;).value\n        exchange = exchange.mutate().request({\n            it.header(&quot;X-XSRF-TOKEN&quot;, xsrfToken)\n        }).build()\n        log.debug(xsrfToken)\n        chain.filter(exchange)\n    }\n}\n</code></pre>\n<p>Then modified my security configuration so that it placed this filter before the <code>CsrfWebFilter</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebFluxSecurity\n@EnableReactiveMethodSecurity\nclass WebSecurityConfiguration {\n\n    @Autowired\n    CsrfHeaderFilter csrfHeaderFilter\n\n    @Bean\n    SecurityWebFilterChain SecurityWebFilterChain(ServerHttpSecurity http) {\n        http\n                .addFilterBefore(csrfHeaderFilter, SecurityWebFiltersOrder.CSRF)\n                .httpBasic().disable()\n                .formLogin().disable()\n                .oauth2Login().and()\n                .csrf({\n                    it.csrfTokenRepository(new CookieServerCsrfTokenRepository())\n                })\n                .authorizeExchange()\n                .pathMatchers(&quot;/actuator/health&quot;).permitAll()\n                .pathMatchers(&quot;/**&quot;).authenticated()\n                .and().build()\n    }\n}\n</code></pre>\n<p>This worked for us because one of the places <code>CsrfWebFilter</code> expects to find the token is in the request header <code>X-XSRF-TOKEN</code>.</p>\n"},{"tags":[],"owner":{"account_id":8792043,"reputation":460,"user_id":6571471,"accept_rate":38,"display_name":"manjosh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654768799,"creation_date":1654768799,"answer_id":72558339,"question_id":53144055,"body_markdown":"create the webfilter bean as below in the Springboot application class.\r\n\r\n    @Bean\r\n    public WebFilter addCsrfTokenFilter() {\r\n         return (exchange, next) -&gt; Mono.just(exchange)\r\n            .flatMap(ex -&gt; ex. \r\n                      &lt;Mono&lt;CsrfToken&gt;&gt;getAttribute(CsrfToken.class.getName()))\r\n            .doOnNext(ex -&gt; {\r\n            })\r\n            .then(next.filter(exchange));\r\n}","title":"CSRF token not generated with Webflux","body":"<p>create the webfilter bean as below in the Springboot application class.</p>\n<pre><code>@Bean\npublic WebFilter addCsrfTokenFilter() {\n     return (exchange, next) -&gt; Mono.just(exchange)\n        .flatMap(ex -&gt; ex. \n                  &lt;Mono&lt;CsrfToken&gt;&gt;getAttribute(CsrfToken.class.getName()))\n        .doOnNext(ex -&gt; {\n        })\n        .then(next.filter(exchange));\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":11797467,"reputation":427,"user_id":8631898,"display_name":"Sancho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5669,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1654768799,"creation_date":1541356295,"question_id":53144055,"body_markdown":"I have a Webflux application secured by Spring Security in which the CSRF protection is enabled by default. However, I can&#39;t get the the CSRF token to be saved in the session.\r\n\r\nAfter some investigations, I noticed that it may come from `WebSessionServerCsrfTokenRepository.class`. In this class, there is the `generateToken` method that should create a Mono from a generated CSRF token:\r\n\r\n    public Mono&lt;CsrfToken&gt; generateToken(ServerWebExchange exchange) {\r\n            return Mono.fromCallable(() -&gt; {\r\n                return this.createCsrfToken();\r\n            });\r\n        }\r\n    \r\n    private CsrfToken createCsrfToken() {\r\n            return new DefaultCsrfToken(this.headerName, this.parameterName, this.createNewToken());\r\n        }\r\n    \r\n        private String createNewToken() {\r\n            return UUID.randomUUID().toString();\r\n        }\r\n\r\nHowever, even if the `generateToken` method is called by the `CsrfWebFilter`, the `createCsrfToken` method is never called, and I never get the CSRF token to be saved in the session. My breakpoint never goes into the `createCsrfToken` method, that could mean that it is never subscribed.\r\n\r\nI&#39;m running on `Netty` with Spring Boot `2.1.0.RELEASE` and Spring Security `5.1.1.RELEASE`.\r\n\r\nI reproduced the problem on an empty sample application simply containing the following dependencies:\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n\r\nAm I missing something or is there a problem with Spring Security?\r\n\r\n**UPDATE**\r\n\r\nFrom further investigations, I think that the problem comes from this method in the Spring Security `CsrfWebFilter.class`:\r\n\r\n    private Mono&lt;Void&gt; continueFilterChain(ServerWebExchange exchange, WebFilterChain chain) {\r\n            return Mono.defer(() -&gt; {\r\n                Mono&lt;CsrfToken&gt; csrfToken = this.csrfToken(exchange);\r\n                exchange.getAttributes().put(CsrfToken.class.getName(), csrfToken);\r\n                return chain.filter(exchange);\r\n            });\r\n        }\r\n\r\nHere, the `csrfToken` Mono is never subscribed. When I rewrite the filter this way, I manage to get the token added in the session:\r\n\r\n    private Mono&lt;Void&gt; continueFilterChain(ServerWebExchange exchange, WebFilterChain chain) {\r\n            return Mono.defer(() -&gt; {\r\n                return this.csrfToken(exchange)\r\n                        .map(csrfToken -&gt; exchange.getAttributes().put(CsrfToken.class.getName(), csrfToken))\r\n                        .then(chain.filter(exchange));\r\n            });\r\n        }\r\n\r\nHowever, the `_csrf` parameter is never added in my Thymeleaf model, so the following test doesn&#39;t work:\r\n\r\n    &lt;form name=&quot;test-csrf&quot; action=&quot;/test&quot; method=&quot;post&quot;&gt;\r\n                &lt;input type=&quot;hidden&quot; th:name=&quot;${_csrf.parameterName}&quot; th:value=&quot;${_csrf.token}&quot; /&gt;\r\n                &lt;button type=&quot;submit&quot;&gt;Escape!&lt;/button&gt;\r\n            &lt;/form&gt;","title":"CSRF token not generated with Webflux","body":"<p>I have a Webflux application secured by Spring Security in which the CSRF protection is enabled by default. However, I can't get the the CSRF token to be saved in the session.</p>\n\n<p>After some investigations, I noticed that it may come from <code>WebSessionServerCsrfTokenRepository.class</code>. In this class, there is the <code>generateToken</code> method that should create a Mono from a generated CSRF token:</p>\n\n<pre><code>public Mono&lt;CsrfToken&gt; generateToken(ServerWebExchange exchange) {\n        return Mono.fromCallable(() -&gt; {\n            return this.createCsrfToken();\n        });\n    }\n\nprivate CsrfToken createCsrfToken() {\n        return new DefaultCsrfToken(this.headerName, this.parameterName, this.createNewToken());\n    }\n\n    private String createNewToken() {\n        return UUID.randomUUID().toString();\n    }\n</code></pre>\n\n<p>However, even if the <code>generateToken</code> method is called by the <code>CsrfWebFilter</code>, the <code>createCsrfToken</code> method is never called, and I never get the CSRF token to be saved in the session. My breakpoint never goes into the <code>createCsrfToken</code> method, that could mean that it is never subscribed.</p>\n\n<p>I'm running on <code>Netty</code> with Spring Boot <code>2.1.0.RELEASE</code> and Spring Security <code>5.1.1.RELEASE</code>.</p>\n\n<p>I reproduced the problem on an empty sample application simply containing the following dependencies:</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>Am I missing something or is there a problem with Spring Security?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>From further investigations, I think that the problem comes from this method in the Spring Security <code>CsrfWebFilter.class</code>:</p>\n\n<pre><code>private Mono&lt;Void&gt; continueFilterChain(ServerWebExchange exchange, WebFilterChain chain) {\n        return Mono.defer(() -&gt; {\n            Mono&lt;CsrfToken&gt; csrfToken = this.csrfToken(exchange);\n            exchange.getAttributes().put(CsrfToken.class.getName(), csrfToken);\n            return chain.filter(exchange);\n        });\n    }\n</code></pre>\n\n<p>Here, the <code>csrfToken</code> Mono is never subscribed. When I rewrite the filter this way, I manage to get the token added in the session:</p>\n\n<pre><code>private Mono&lt;Void&gt; continueFilterChain(ServerWebExchange exchange, WebFilterChain chain) {\n        return Mono.defer(() -&gt; {\n            return this.csrfToken(exchange)\n                    .map(csrfToken -&gt; exchange.getAttributes().put(CsrfToken.class.getName(), csrfToken))\n                    .then(chain.filter(exchange));\n        });\n    }\n</code></pre>\n\n<p>However, the <code>_csrf</code> parameter is never added in my Thymeleaf model, so the following test doesn't work:</p>\n\n<pre><code>&lt;form name=\"test-csrf\" action=\"/test\" method=\"post\"&gt;\n            &lt;input type=\"hidden\" th:name=\"${_csrf.parameterName}\" th:value=\"${_csrf.token}\" /&gt;\n            &lt;button type=\"submit\"&gt;Escape!&lt;/button&gt;\n        &lt;/form&gt;\n</code></pre>\n"},{"tags":["java","spring","unit-testing","mockito","junit3"],"comments":[{"owner":{"account_id":25492956,"reputation":11,"user_id":19287424,"display_name":"Defne Sabanc"},"score":0,"creation_date":1654768542,"post_id":72558276,"comment_id":128172786,"body_markdown":"Process finished with exit code -1\n\norg.mockito.exceptions.misusing.UnnecessaryStubbingException: \nUnnecessary stubbings detected in test class: ScreenQueryControllerTest\nClean &amp; maintainable test code requires zero unnecessary code.\nFollowing stubbings are unnecessary (click to navigate to relevant line of code):\n  1. -&gt; at services.report.service.controller.ScreenQueryControllerTest.testGetSmsInfoByQuery_whenRequestBodyIsValidReturnResponseStatusSuccess(ScreenQueryControllerTest.java:46)\nPlease remove unnecessary stubbings or use &#39;lenient&#39; strictness.","body":"Process finished with exit code -1  org.mockito.exceptions.misusing.UnnecessaryStubbingException&zwnj;&#8203;:  Unnecessary stubbings detected in test class: ScreenQueryControllerTest Clean &amp; maintainable test code requires zero unnecessary code. Following stubbings are unnecessary (click to navigate to relevant line of code):   1. -&gt; at services.report.service.controller.ScreenQueryControllerTest&zwnj;&#8203;.testGetSmsInfoByQue&zwnj;&#8203;ry_whenRequestBodyIs&zwnj;&#8203;ValidReturnResponseS&zwnj;&#8203;tatusSuccess(ScreenQ&zwnj;&#8203;ueryControllerTest.j&zwnj;&#8203;ava:46) Please remove unnecessary stubbings or use &#39;lenient&#39; strictness."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1654768719,"post_id":72558276,"comment_id":128172866,"body_markdown":"Please add the complete error message that you see to your question.","body":"Please add the complete error message that you see to your question."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1654769718,"post_id":72558276,"comment_id":128173217,"body_markdown":"And indicate where line 46 is.","body":"And indicate where line 46 is."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1654769926,"post_id":72558276,"comment_id":128173302,"body_markdown":"You&#39;ll also need to show the code of getSmsInfoByQuery","body":"You&#39;ll also need to show the code of getSmsInfoByQuery"},{"owner":{"account_id":25492956,"reputation":11,"user_id":19287424,"display_name":"Defne Sabanc"},"score":0,"creation_date":1654770264,"post_id":72558276,"comment_id":128173421,"body_markdown":"wrong line is : when(smsInfoRepository.query(smsInfoQueryRequest)).thenReturn(list);","body":"wrong line is : when(smsInfoRepository.query(smsInfoQueryRequest)).thenRetur&zwnj;&#8203;n(list);"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1654815779,"post_id":72558276,"comment_id":128188645,"body_markdown":"You&#39;ll also need to show the code of getSmsInfoByQuery","body":"You&#39;ll also need to show the code of getSmsInfoByQuery"}],"owner":{"account_id":25492956,"reputation":11,"user_id":19287424,"display_name":"Defne Sabanc"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654768492,"creation_date":1654768492,"question_id":72558276,"body_markdown":"    package com.services.report.service.controller;\r\n    \r\n    import com.services.report.service.model.SmsInfo;\r\n    import com.services.report.service.repository.SmsInfoRepository;\r\n    import com.services.report.service.request.screen.SmsInfoQueryRequest;\r\n    import com.services.report.service.response.screen.SmsInfoQueryResponse;\r\n    import com.services.report.service.service.ReporterService;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mock;\r\n    import org.mockito.junit.MockitoJUnitRunner;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    \r\n    import static org.junit.Assert.assertEquals;\r\n    import static org.mockito.Mockito.when;\r\n    \r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ScreenQueryControllerTest {\r\n    \r\n            @Mock\r\n            private ReporterService reporterService;\r\n    \r\n            @Mock\r\n            private SmsInfoRepository smsInfoRepository;\r\n    \r\n            @InjectMocks\r\n            private ScreenQueryController screenQueryController = new ScreenQueryController();\r\n    \r\n            private SmsInfoQueryRequest smsInfoQueryRequest;\r\n            private SmsInfoQueryResponse smsInfoQueryResponse;\r\n            private SmsInfo smsInfo;\r\n            private List&lt;SmsInfo&gt; list;\r\n    \r\n    \r\n        @Test\r\n        public void testGetSmsInfoByQuery_whenRequestBodyIsValidReturnResponseStatusSuccess() {\r\n            getsmsInfoQueryRequest();\r\n            list = new ArrayList&lt;&gt;();\r\n            getSmsInfo();\r\n            list.add(smsInfo);\r\n            when(smsInfoRepository.query(smsInfoQueryRequest)).thenReturn(list);\r\n            smsInfoQueryResponse = screenQueryController.getSmsInfoByQuery(smsInfoQueryRequest);\r\n            assertEquals(&quot;SUCCESS&quot;, smsInfoQueryResponse.getStatus());\r\n    \r\n        }\r\n    \r\n        public SmsInfoQueryRequest getsmsInfoQueryRequest(){\r\n            smsInfoQueryRequest = new SmsInfoQueryRequest();\r\n            smsInfoQueryRequest.setPartnerId(&quot;99&quot;);\r\n            smsInfoQueryRequest.setCompanyId(&quot;1&quot;);\r\n            smsInfoQueryRequest.setStartDate(new Date());\r\n            smsInfoQueryRequest.setEndDate(new Date());\r\n            return smsInfoQueryRequest;\r\n    \r\n        }\r\n    \r\n        public SmsInfo getSmsInfo() {\r\n    \r\n            smsInfo = new SmsInfo();\r\n            smsInfo.setId(&quot;1&quot;);\r\n            smsInfo.setVersion(1L);\r\n            smsInfo.setUpdateDate(new Date());\r\n            smsInfo.setCreateDate(new Date());\r\n            smsInfo.setStatus(&quot;completed&quot;);\r\n            smsInfo.setPartnerId(&quot;999&quot;);\r\n            smsInfo.setCompanyId(&quot;888&quot;);\r\n            smsInfo.setUser(&quot;admin&quot;);\r\n            smsInfo.setRequestName(&quot;Request-3&quot;);\r\n            smsInfo.setStartDate(new Date());\r\n            smsInfo.setEndDate(new Date());\r\n            smsInfo.setMessage(&quot;testt&quot;);\r\n            smsInfo.setAlfanumeric(&quot;alfanumeric&quot;);\r\n            smsInfo.setBmspGroupId(&quot;1&quot;);\r\n            smsInfo.setBmspJobIds(new ArrayList&lt;&gt;());\r\n            smsInfo.setReceiverCount(1L);\r\n            smsInfo.setSuccessCount(2L);\r\n            smsInfo.setFailureCount(3L);\r\n            smsInfo.setWaitingCount(4L);\r\n            smsInfo.setLastUpdateEventTime(5L);\r\n            smsInfo.setErrorReason(new ArrayList&lt;&gt;());\r\n            smsInfo.setRequestType(&quot;Request-Type&quot;);\r\n            smsInfo.setInfos(new ArrayList&lt;&gt;());\r\n            smsInfo.setSource(&quot;Kaynak&quot;);\r\n            smsInfo.setSmsType(&quot;Sms&quot;);\r\n            return smsInfo;\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nIn this way, I have multiple tests and I don&#39;t get an error when I just run the stand-alone test method, but when I run the ScreenQueryControllerTest method, I get the following log. The situation is the same for a single test or multiple tests, how can I solve it, similar solutions here did not work for me, I am about to lose my mind.\r\n","title":"How to fix UnnecessaryStubbingException error nothing I tried worked?","body":"<pre><code>package com.services.report.service.controller;\n\nimport com.services.report.service.model.SmsInfo;\nimport com.services.report.service.repository.SmsInfoRepository;\nimport com.services.report.service.request.screen.SmsInfoQueryRequest;\nimport com.services.report.service.response.screen.SmsInfoQueryResponse;\nimport com.services.report.service.service.ReporterService;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.MockitoJUnitRunner;\n\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.mockito.Mockito.when;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class ScreenQueryControllerTest {\n\n        @Mock\n        private ReporterService reporterService;\n\n        @Mock\n        private SmsInfoRepository smsInfoRepository;\n\n        @InjectMocks\n        private ScreenQueryController screenQueryController = new ScreenQueryController();\n\n        private SmsInfoQueryRequest smsInfoQueryRequest;\n        private SmsInfoQueryResponse smsInfoQueryResponse;\n        private SmsInfo smsInfo;\n        private List&lt;SmsInfo&gt; list;\n\n\n    @Test\n    public void testGetSmsInfoByQuery_whenRequestBodyIsValidReturnResponseStatusSuccess() {\n        getsmsInfoQueryRequest();\n        list = new ArrayList&lt;&gt;();\n        getSmsInfo();\n        list.add(smsInfo);\n        when(smsInfoRepository.query(smsInfoQueryRequest)).thenReturn(list);\n        smsInfoQueryResponse = screenQueryController.getSmsInfoByQuery(smsInfoQueryRequest);\n        assertEquals(&quot;SUCCESS&quot;, smsInfoQueryResponse.getStatus());\n\n    }\n\n    public SmsInfoQueryRequest getsmsInfoQueryRequest(){\n        smsInfoQueryRequest = new SmsInfoQueryRequest();\n        smsInfoQueryRequest.setPartnerId(&quot;99&quot;);\n        smsInfoQueryRequest.setCompanyId(&quot;1&quot;);\n        smsInfoQueryRequest.setStartDate(new Date());\n        smsInfoQueryRequest.setEndDate(new Date());\n        return smsInfoQueryRequest;\n\n    }\n\n    public SmsInfo getSmsInfo() {\n\n        smsInfo = new SmsInfo();\n        smsInfo.setId(&quot;1&quot;);\n        smsInfo.setVersion(1L);\n        smsInfo.setUpdateDate(new Date());\n        smsInfo.setCreateDate(new Date());\n        smsInfo.setStatus(&quot;completed&quot;);\n        smsInfo.setPartnerId(&quot;999&quot;);\n        smsInfo.setCompanyId(&quot;888&quot;);\n        smsInfo.setUser(&quot;admin&quot;);\n        smsInfo.setRequestName(&quot;Request-3&quot;);\n        smsInfo.setStartDate(new Date());\n        smsInfo.setEndDate(new Date());\n        smsInfo.setMessage(&quot;testt&quot;);\n        smsInfo.setAlfanumeric(&quot;alfanumeric&quot;);\n        smsInfo.setBmspGroupId(&quot;1&quot;);\n        smsInfo.setBmspJobIds(new ArrayList&lt;&gt;());\n        smsInfo.setReceiverCount(1L);\n        smsInfo.setSuccessCount(2L);\n        smsInfo.setFailureCount(3L);\n        smsInfo.setWaitingCount(4L);\n        smsInfo.setLastUpdateEventTime(5L);\n        smsInfo.setErrorReason(new ArrayList&lt;&gt;());\n        smsInfo.setRequestType(&quot;Request-Type&quot;);\n        smsInfo.setInfos(new ArrayList&lt;&gt;());\n        smsInfo.setSource(&quot;Kaynak&quot;);\n        smsInfo.setSmsType(&quot;Sms&quot;);\n        return smsInfo;\n\n    }\n\n}\n</code></pre>\n<p>In this way, I have multiple tests and I don't get an error when I just run the stand-alone test method, but when I run the ScreenQueryControllerTest method, I get the following log. The situation is the same for a single test or multiple tests, how can I solve it, similar solutions here did not work for me, I am about to lose my mind.</p>\n"},{"tags":["java","amazon-web-services","aws-cdk"],"comments":[{"owner":{"account_id":8767901,"reputation":61,"user_id":6555705,"display_name":"Isabelle R."},"score":0,"creation_date":1654699365,"post_id":72545853,"comment_id":128154259,"body_markdown":"The problem seems to be that I use the same principal as assumedBy when creating the role and then as principal in the PolicyStatement. \n\nCDK seems to have a problems when it finds the same condition multiple times. When I add the condition to the PolicyStatement the template get created but with two statements (one with condition and one without)","body":"The problem seems to be that I use the same principal as assumedBy when creating the role and then as principal in the PolicyStatement.   CDK seems to have a problems when it finds the same condition multiple times. When I add the condition to the PolicyStatement the template get created but with two statements (one with condition and one without)"},{"owner":{"account_id":16060849,"reputation":2089,"user_id":11591758,"display_name":"lynkfox"},"score":0,"creation_date":1654876697,"post_id":72545853,"comment_id":128205016,"body_markdown":"is there a reason you&#39;re using cfnJson instead of PolicyDocument? You can generate a policy with an L2 construct instead of the cfn prefixed L1 construct and that slots into other L2 constructs easily.  https://docs.aws.amazon.com/cdk/api/v1/java/index.html?\nsoftware/amazon/awscdk/services/iam/PolicyDocument.html","body":"is there a reason you&#39;re using cfnJson instead of PolicyDocument? You can generate a policy with an L2 construct instead of the cfn prefixed L1 construct and that slots into other L2 constructs easily.  <a href=\"https://docs.aws.amazon.com/cdk/api/v1/java/index.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/cdk/api/v1/java/index.html</a>? software/amazon/awscdk/services/iam/PolicyDocument.html"},{"owner":{"account_id":8767901,"reputation":61,"user_id":6555705,"display_name":"Isabelle R."},"score":0,"creation_date":1655102386,"post_id":72545853,"comment_id":128241528,"body_markdown":"I am not sure if I understand this correctly. In my opinion I can&#39;t replace the CfnJson with a PolicyDocument, because it&#39;s a Principal Condition, no Policy. I just want a Role with the a Policy like provided. Unfortunately it&#39;s required to pass a principal when creating a Role. When adding a AssumeRolePolicy this assumeBy-Principal should be merged with the given policy and result in the wanted Document. If I add the condition to the Policy instead of the principal a cloud formation template is generated, but with two different actions.","body":"I am not sure if I understand this correctly. In my opinion I can&#39;t replace the CfnJson with a PolicyDocument, because it&#39;s a Principal Condition, no Policy. I just want a Role with the a Policy like provided. Unfortunately it&#39;s required to pass a principal when creating a Role. When adding a AssumeRolePolicy this assumeBy-Principal should be merged with the given policy and result in the wanted Document. If I add the condition to the Policy instead of the principal a cloud formation template is generated, but with two different actions."}],"owner":{"account_id":8767901,"reputation":61,"user_id":6555705,"display_name":"Isabelle R."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1582,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654768071,"creation_date":1654691808,"question_id":72545853,"body_markdown":"I try to create a Role with a policy that looks like this:\r\n```\r\n{\r\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n    &quot;Statement&quot;: [\r\n        {\r\n            &quot;Effect&quot;: &quot;Allow&quot;,\r\n            &quot;Principal&quot;: {\r\n                &quot;Federated&quot;: &quot;arn:aws:iam::ACCOUNT_ID:oidc-provider/my-provider-domain.s3.eu-central-1.amazonaws.com&quot;\r\n            },\r\n            &quot;Action&quot;: &quot;sts:AssumeRoleWithWebIdentity&quot;,\r\n            &quot;Condition&quot;: {\r\n                &quot;ForAnyValue:StringEquals&quot;: {\r\n                    &quot;my-provider-domain.s3.eu-central-1.amazonaws.com:sub&quot;: [\r\n                        &quot;system:serviceaccount:account1&quot;,\r\n                        &quot;system:serviceaccount:account2&quot;\r\n                    ]\r\n                }\r\n            }\r\n        }\r\n    ]\r\n}\r\n```\r\nI created a java-Stack class file that looks like this:\r\n```\r\npublic class TestStack extends Stack {\r\n\r\n    public TestStack(Construct parent) {\r\n        super(parent, &quot;test-stack&quot;);\r\n\r\n        String url = &quot;https://my-provider-domain.s3.eu-central-1.amazonaws.com&quot;;\r\n        List&lt;String&gt; serviceAccounts = List.of(&quot;system:serviceaccount:account1&quot;, &quot;system:serviceaccount:account2&quot;);\r\n        String providerId = url.replace(&quot;https://&quot;, &quot;&quot;);\r\n\r\n        OpenIdConnectProvider provider = new OpenIdConnectProvider(this, providerId, OpenIdConnectProviderProps.builder()\r\n                .url(url)\r\n                .clientIds(List.of(&quot;sts.amazonaws.com&quot;))\r\n                .build());\r\n\r\n        CfnJson condition = new CfnJson(this, Names.uniqueId(provider) + &quot;sub&quot;, CfnJsonProps.builder()\r\n                .value(Map.of(provider.getOpenIdConnectProviderIssuer() + &quot;:sub&quot;, serviceAccounts))\r\n                .build());\r\n\r\n        OpenIdConnectPrincipal principal = new OpenIdConnectPrincipal(provider, Map.of(&quot;ForAnyValue:StringEquals&quot;, condition));\r\n\r\n        Role role = new Role(this, &quot;logshipperRole&quot;, RoleProps.builder()\r\n                .assumedBy(principal)\r\n                .build());\r\n\r\n        PolicyStatement assumeRolePolicy = new PolicyStatement(PolicyStatementProps.builder()\r\n                .actions(List.of(&quot;sts:AssumeRoleWithWebIdentity&quot;))\r\n                .effect(Effect.ALLOW)\r\n                .principals(List.of(principal))\r\n                .build());\r\n\r\n        role.getAssumeRolePolicy().addStatements(assumeRolePolicy);\r\n    }\r\n}\r\n```\r\n\r\nUnfortunately running `cdk synth` doesn&#39;t work. When I run the command I get the following error:\r\n```\r\n[ERROR] Error: Resolution error: Resolution error: Resolution error: Trying to resolve() a Construct at /Resources/${Token[test-stack.logshipperRole.Resource.LogicalID.225]}/Properties/assumeRolePolicyDocument/Statement/0/Condition/ForAnyValue:StringEquals/node.\r\n[ERROR] Object creation stack:\r\n[ERROR]   at new PolicyDocument (/tmp/jsii-kernel-BSwRZj/node_modules/aws-cdk-lib/aws-iam/lib/policy-document.js:1:758)\r\n[ERROR]   at createAssumeRolePolicy (/tmp/jsii-kernel-BSwRZj/node_modules/aws-cdk-lib/aws-iam/lib/role.js:1:10465)\r\n[ERROR]   at new Role (/tmp/jsii-kernel-BSwRZj/node_modules/aws-cdk-lib/aws-iam/lib/role.js:1:1390)\r\n[ERROR]   at /tmp/jsii-java-runtime13369413665972094812/lib/program.js:8420:58\r\n[ERROR]   at Kernel._wrapSandboxCode (/tmp/jsii-java-runtime13369413665972094812/lib/program.js:8848:24)\r\n[ERROR]   at Kernel._create (/tmp/jsii-java-runtime13369413665972094812/lib/program.js:8420:34)\r\n[ERROR]   at Kernel.create (/tmp/jsii-java-runtime13369413665972094812/lib/program.js:8161:29)\r\n[ERROR]   at KernelHost.processRequest (/tmp/jsii-java-runtime13369413665972094812/lib/program.js:9769:36)\r\n[ERROR]   at KernelHost.run (/tmp/jsii-java-runtime13369413665972094812/lib/program.js:9732:22)\r\n[ERROR]   at Immediate._onImmediate (/tmp/jsii-java-runtime13369413665972094812/lib/program.js:9733:46)\r\n[ERROR]   at processImmediate (node:internal/timers:466:21)..\r\n[ERROR]     at resolve (/tmp/jsii-kernel-BSwRZj/node_modules/aws-cdk-lib/core/lib/private/resolve.js:1:2787)\r\n[ERROR]     at Object.resolve (/tmp/jsii-kernel-BSwRZj/node_modules/aws-cdk-lib/core/lib/private/resolve.js:1:1136)\r\n[ERROR]     at resolve (/tmp/jsii-kernel-BSwRZj/node_modules/aws-cdk-lib/core/lib/private/resolve.js:1:2958)\r\n[ERROR]     at Object.resolve (/tmp/jsii-kernel-BSwRZj/node_modules/aws-cdk-lib/core/lib/private/resolve.js:1:1136)\r\n[ERROR]     at resolve (/tmp/jsii-kernel-BSwRZj/node_modules/aws-cdk-lib/core/lib/private/resolve.js:1:2958)\r\n[ERROR]     at Object.resolve (/tmp/jsii-kernel-BSwRZj/node_modules/aws-cdk-lib/core/lib/private/resolve.js:1:1136)\r\n[ERROR]     at resolve (/tmp/jsii-kernel-BSwRZj/node_modules/aws-cdk-lib/core/lib/private/resolve.js:1:2958)\r\n[ERROR]     at Object.resolve (/tmp/jsii-kernel-BSwRZj/node_modules/aws-cdk-lib/core/lib/private/resolve.js:1:1136)\r\n[ERROR]     at /tmp/jsii-kernel-BSwRZj/node_modules/aws-cdk-lib/core/lib/private/resolve.js:1:2522\r\n[ERROR]     at Array.map (&lt;anonymous&gt;) \r\n```\r\nand I don&#39;t understand what I have done wrong. Why can&#39;t the cdk find the Construct (I guess it&#39;s the CfnJson that can&#39;t be resolved?!)","title":"creating Cloudformation Template fails: Resolution error: Trying to resolve() a Construct","body":"<p>I try to create a Role with a policy that looks like this:</p>\n<pre><code>{\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\n    &quot;Statement&quot;: [\n        {\n            &quot;Effect&quot;: &quot;Allow&quot;,\n            &quot;Principal&quot;: {\n                &quot;Federated&quot;: &quot;arn:aws:iam::ACCOUNT_ID:oidc-provider/my-provider-domain.s3.eu-central-1.amazonaws.com&quot;\n            },\n            &quot;Action&quot;: &quot;sts:AssumeRoleWithWebIdentity&quot;,\n            &quot;Condition&quot;: {\n                &quot;ForAnyValue:StringEquals&quot;: {\n                    &quot;my-provider-domain.s3.eu-central-1.amazonaws.com:sub&quot;: [\n                        &quot;system:serviceaccount:account1&quot;,\n                        &quot;system:serviceaccount:account2&quot;\n                    ]\n                }\n            }\n        }\n    ]\n}\n</code></pre>\n<p>I created a java-Stack class file that looks like this:</p>\n<pre><code>public class TestStack extends Stack {\n\n    public TestStack(Construct parent) {\n        super(parent, &quot;test-stack&quot;);\n\n        String url = &quot;https://my-provider-domain.s3.eu-central-1.amazonaws.com&quot;;\n        List&lt;String&gt; serviceAccounts = List.of(&quot;system:serviceaccount:account1&quot;, &quot;system:serviceaccount:account2&quot;);\n        String providerId = url.replace(&quot;https://&quot;, &quot;&quot;);\n\n        OpenIdConnectProvider provider = new OpenIdConnectProvider(this, providerId, OpenIdConnectProviderProps.builder()\n                .url(url)\n                .clientIds(List.of(&quot;sts.amazonaws.com&quot;))\n                .build());\n\n        CfnJson condition = new CfnJson(this, Names.uniqueId(provider) + &quot;sub&quot;, CfnJsonProps.builder()\n                .value(Map.of(provider.getOpenIdConnectProviderIssuer() + &quot;:sub&quot;, serviceAccounts))\n                .build());\n\n        OpenIdConnectPrincipal principal = new OpenIdConnectPrincipal(provider, Map.of(&quot;ForAnyValue:StringEquals&quot;, condition));\n\n        Role role = new Role(this, &quot;logshipperRole&quot;, RoleProps.builder()\n                .assumedBy(principal)\n                .build());\n\n        PolicyStatement assumeRolePolicy = new PolicyStatement(PolicyStatementProps.builder()\n                .actions(List.of(&quot;sts:AssumeRoleWithWebIdentity&quot;))\n                .effect(Effect.ALLOW)\n                .principals(List.of(principal))\n                .build());\n\n        role.getAssumeRolePolicy().addStatements(assumeRolePolicy);\n    }\n}\n</code></pre>\n<p>Unfortunately running <code>cdk synth</code> doesn't work. When I run the command I get the following error:</p>\n<pre><code>[ERROR] Error: Resolution error: Resolution error: Resolution error: Trying to resolve() a Construct at /Resources/${Token[test-stack.logshipperRole.Resource.LogicalID.225]}/Properties/assumeRolePolicyDocument/Statement/0/Condition/ForAnyValue:StringEquals/node.\n[ERROR] Object creation stack:\n[ERROR]   at new PolicyDocument (/tmp/jsii-kernel-BSwRZj/node_modules/aws-cdk-lib/aws-iam/lib/policy-document.js:1:758)\n[ERROR]   at createAssumeRolePolicy (/tmp/jsii-kernel-BSwRZj/node_modules/aws-cdk-lib/aws-iam/lib/role.js:1:10465)\n[ERROR]   at new Role (/tmp/jsii-kernel-BSwRZj/node_modules/aws-cdk-lib/aws-iam/lib/role.js:1:1390)\n[ERROR]   at /tmp/jsii-java-runtime13369413665972094812/lib/program.js:8420:58\n[ERROR]   at Kernel._wrapSandboxCode (/tmp/jsii-java-runtime13369413665972094812/lib/program.js:8848:24)\n[ERROR]   at Kernel._create (/tmp/jsii-java-runtime13369413665972094812/lib/program.js:8420:34)\n[ERROR]   at Kernel.create (/tmp/jsii-java-runtime13369413665972094812/lib/program.js:8161:29)\n[ERROR]   at KernelHost.processRequest (/tmp/jsii-java-runtime13369413665972094812/lib/program.js:9769:36)\n[ERROR]   at KernelHost.run (/tmp/jsii-java-runtime13369413665972094812/lib/program.js:9732:22)\n[ERROR]   at Immediate._onImmediate (/tmp/jsii-java-runtime13369413665972094812/lib/program.js:9733:46)\n[ERROR]   at processImmediate (node:internal/timers:466:21)..\n[ERROR]     at resolve (/tmp/jsii-kernel-BSwRZj/node_modules/aws-cdk-lib/core/lib/private/resolve.js:1:2787)\n[ERROR]     at Object.resolve (/tmp/jsii-kernel-BSwRZj/node_modules/aws-cdk-lib/core/lib/private/resolve.js:1:1136)\n[ERROR]     at resolve (/tmp/jsii-kernel-BSwRZj/node_modules/aws-cdk-lib/core/lib/private/resolve.js:1:2958)\n[ERROR]     at Object.resolve (/tmp/jsii-kernel-BSwRZj/node_modules/aws-cdk-lib/core/lib/private/resolve.js:1:1136)\n[ERROR]     at resolve (/tmp/jsii-kernel-BSwRZj/node_modules/aws-cdk-lib/core/lib/private/resolve.js:1:2958)\n[ERROR]     at Object.resolve (/tmp/jsii-kernel-BSwRZj/node_modules/aws-cdk-lib/core/lib/private/resolve.js:1:1136)\n[ERROR]     at resolve (/tmp/jsii-kernel-BSwRZj/node_modules/aws-cdk-lib/core/lib/private/resolve.js:1:2958)\n[ERROR]     at Object.resolve (/tmp/jsii-kernel-BSwRZj/node_modules/aws-cdk-lib/core/lib/private/resolve.js:1:1136)\n[ERROR]     at /tmp/jsii-kernel-BSwRZj/node_modules/aws-cdk-lib/core/lib/private/resolve.js:1:2522\n[ERROR]     at Array.map (&lt;anonymous&gt;) \n</code></pre>\n<p>and I don't understand what I have done wrong. Why can't the cdk find the Construct (I guess it's the CfnJson that can't be resolved?!)</p>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":11939237,"reputation":1048,"user_id":8736602,"display_name":"yali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654768062,"creation_date":1654768062,"answer_id":72558154,"question_id":72557714,"body_markdown":"Mongo has ObjectId, It is a powerful data type that is incredibly useful as a **unique identifier in MongoDB Documents**.\r\n\r\nFor more information please check https://www.mongodb.com/developer/products/mongodb/bson-data-types-objectid/","title":"How to use UUID in MongoDB + Java (JPA)","body":"<p>Mongo has ObjectId, It is a powerful data type that is incredibly useful as a <strong>unique identifier in MongoDB Documents</strong>.</p>\n<p>For more information please check <a href=\"https://www.mongodb.com/developer/products/mongodb/bson-data-types-objectid/\" rel=\"nofollow noreferrer\">https://www.mongodb.com/developer/products/mongodb/bson-data-types-objectid/</a></p>\n"}],"owner":{"account_id":24819930,"reputation":101,"user_id":18700381,"display_name":"daph111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72558154,"answer_count":1,"score":0,"last_activity_date":1654768062,"creation_date":1654766249,"question_id":72557714,"body_markdown":"I know how to generate UUID in a relational database.\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;UUID&quot;)\r\n    @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\n    private UUID fileId;\r\n\r\nHowever, GeneratedValue and GenericGenerator cannot be imported.\r\n\r\nHow can I do it in Mongo?","title":"How to use UUID in MongoDB + Java (JPA)","body":"<p>I know how to generate UUID in a relational database.</p>\n<pre><code>@Id\n@GeneratedValue(generator = &quot;UUID&quot;)\n@GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n@Column(name = &quot;id&quot;, updatable = false, nullable = false)\nprivate UUID fileId;\n</code></pre>\n<p>However, GeneratedValue and GenericGenerator cannot be imported.</p>\n<p>How can I do it in Mongo?</p>\n"},{"tags":["java","class","generics","inheritance","nested-generics"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1654768367,"post_id":72558145,"comment_id":128172734,"body_markdown":"&quot;Is it possible in Java using generics?&quot; The code you showed is doing exactly that. &quot;Can we apply inheritance?&quot; *How* do you want to apply inheritance?","body":"&quot;Is it possible in Java using generics?&quot; The code you showed is doing exactly that. &quot;Can we apply inheritance?&quot; <i>How</i> do you want to apply inheritance?"},{"owner":{"account_id":13532753,"reputation":1,"user_id":9762725,"display_name":"Shubham Singh"},"score":0,"creation_date":1654769203,"post_id":72558145,"comment_id":128173047,"body_markdown":"@Sweeper I think it&#39;s not possible practically but I was thinking if we can do something like class B&lt;T&gt; extends A&lt;U&gt;{ private U&lt;T&gt; t; }. I am not sure.","body":"@Sweeper I think it&#39;s not possible practically but I was thinking if we can do something like class B&lt;T&gt; extends A&lt;U&gt;{ private U&lt;T&gt; t; }. I am not sure."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1654769994,"post_id":72558145,"comment_id":128173325,"body_markdown":"What is the indentation at the beginning supposed to express? Apparently not subclass relationships, as the code examples beneath it do not have `extends` clauses. If there was a subclass relationship, there would be no need to repeat the declaration of `t` in every class. But since `T` has no constraints, there is no relationship to any of those `B` classes. It can be `B1&lt;B11&gt;` etc., but it can also be `List&lt;List&lt;List&lt;List&lt;Map&lt;String,Integer&gt;&gt;&gt;&gt;&gt;` or whatever.","body":"What is the indentation at the beginning supposed to express? Apparently not subclass relationships, as the code examples beneath it do not have <code>extends</code> clauses. If there was a subclass relationship, there would be no need to repeat the declaration of <code>t</code> in every class. But since <code>T</code> has no constraints, there is no relationship to any of those <code>B</code> classes. It can be <code>B1&lt;B11&gt;</code> etc., but it can also be <code>List&lt;List&lt;List&lt;List&lt;Map&lt;String,Integer&gt;&gt;&gt;&gt;&gt;</code> or whatever."},{"owner":{"account_id":13532753,"reputation":1,"user_id":9762725,"display_name":"Shubham Singh"},"score":0,"creation_date":1654771981,"post_id":72558145,"comment_id":128174005,"body_markdown":"@Holger The indentation represents the heirarchy. I thought of using inheritance and extends clause as well but I am not sure how I can pass the bounded type parameters in child classes.","body":"@Holger The indentation represents the heirarchy. I thought of using inheritance and extends clause as well but I am not sure how I can pass the bounded type parameters in child classes."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1654773178,"post_id":72558145,"comment_id":128174435,"body_markdown":"Like `class B1&lt;T&gt; extends A&lt;T&gt; {  }`?","body":"Like <code>class B1&lt;T&gt; extends A&lt;T&gt; {  }</code>?"},{"owner":{"account_id":13532753,"reputation":1,"user_id":9762725,"display_name":"Shubham Singh"},"score":0,"creation_date":1654775305,"post_id":72558145,"comment_id":128175211,"body_markdown":"@Holger But the B1&lt;T&gt; where T can be B11 or B12. And for A&lt;T&gt; T can be B1&lt;B11&gt; or B2&lt;B21&gt;. In short both T are not same type. And the method you suggested is not working.","body":"@Holger But the B1&lt;T&gt; where T can be B11 or B12. And for A&lt;T&gt; T can be B1&lt;B11&gt; or B2&lt;B21&gt;. In short both T are not same type. And the method you suggested is not working."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1654778858,"post_id":72558145,"comment_id":128176556,"body_markdown":"Im not sure whether you understood what *inheritance* actually means.","body":"Im not sure whether you understood what <i>inheritance</i> actually means."}],"owner":{"account_id":13532753,"reputation":1,"user_id":9762725,"display_name":"Shubham Singh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654768045,"creation_date":1654768045,"question_id":72558145,"body_markdown":"I have few classes:\r\n```\r\nclass A [ Base class ]\r\n    class B1\r\n         class B11\r\n         class B12\r\n    class B2\r\n         class B21\r\n         class B22\r\n```\r\nI want to use generics like this\r\n```\r\nA&lt;B1&lt;B11&gt;&gt;&gt; a1 = new A&lt;&gt;();\r\nA&lt;B1&lt;B12&gt;&gt;&gt; a2 = new A&lt;&gt;();\r\nA&lt;B2&lt;B21&gt;&gt;&gt; a3 = new A&lt;&gt;();\r\nA&lt;B2&lt;B22&gt;&gt;&gt; a4 = new A&lt;&gt;();\r\n```\r\n\r\nSo my class A is something like this\r\n\r\n```\r\nClass A&lt;T&gt; {\r\nprivate T t;\r\nGetter and Setters...\r\n}\r\n```\r\nAbove class A can take T as ```B1&lt;B11&gt;``` or ```B1&lt;B12&gt;``` or  ```B2&lt;B21&gt;``` or ```B2&lt;B22&gt;``` type.\r\n\r\n```\r\nClass B1&lt;T&gt; {\r\nprivate T t;\r\nGetter and Setters...\r\n}\r\n```\r\n\r\n```\r\nClass B2&lt;T&gt; {\r\nprivate T t;\r\nGetter and Setters...\r\n}\r\n```\r\nAbove Class B1 will take T as B11 or B12 type and Class B2 will take T as B21 or B22 type.\r\n\r\n**Note**: Cannot use only B1 or B2 because of code readebility.\r\n\r\n**Question 1**. Is it possible in Java using generics? If yes, then how can I achieve this.&lt;br&gt;\r\n**Question 2**. Can we apply inheritance for above case and also applying generics with that? If yes, then how can I achieve this.\r\n\r\nThank you. Any help is highly appreciated.","title":"How can I apply generics in Java having nested bound type parameters?","body":"<p>I have few classes:</p>\n<pre><code>class A [ Base class ]\n    class B1\n         class B11\n         class B12\n    class B2\n         class B21\n         class B22\n</code></pre>\n<p>I want to use generics like this</p>\n<pre><code>A&lt;B1&lt;B11&gt;&gt;&gt; a1 = new A&lt;&gt;();\nA&lt;B1&lt;B12&gt;&gt;&gt; a2 = new A&lt;&gt;();\nA&lt;B2&lt;B21&gt;&gt;&gt; a3 = new A&lt;&gt;();\nA&lt;B2&lt;B22&gt;&gt;&gt; a4 = new A&lt;&gt;();\n</code></pre>\n<p>So my class A is something like this</p>\n<pre><code>Class A&lt;T&gt; {\nprivate T t;\nGetter and Setters...\n}\n</code></pre>\n<p>Above class A can take T as <code>B1&lt;B11&gt;</code> or <code>B1&lt;B12&gt;</code> or  <code>B2&lt;B21&gt;</code> or <code>B2&lt;B22&gt;</code> type.</p>\n<pre><code>Class B1&lt;T&gt; {\nprivate T t;\nGetter and Setters...\n}\n</code></pre>\n<pre><code>Class B2&lt;T&gt; {\nprivate T t;\nGetter and Setters...\n}\n</code></pre>\n<p>Above Class B1 will take T as B11 or B12 type and Class B2 will take T as B21 or B22 type.</p>\n<p><strong>Note</strong>: Cannot use only B1 or B2 because of code readebility.</p>\n<p><strong>Question 1</strong>. Is it possible in Java using generics? If yes, then how can I achieve this.<br>\n<strong>Question 2</strong>. Can we apply inheritance for above case and also applying generics with that? If yes, then how can I achieve this.</p>\n<p>Thank you. Any help is highly appreciated.</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-dataflow","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":3830132,"reputation":1318,"user_id":3175889,"display_name":"ningk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654625783,"creation_date":1654625783,"answer_id":72535866,"question_id":72531283,"body_markdown":"You can do a Count.globally() to check the size of the output of MyTransform and use the check as a [side input](https://beam.apache.org/documentation/patterns/side-inputs/) with the output of MyTransform. If the side input is 0, use the Python [client library](https://cloud.google.com/bigquery/docs/reference/libraries#using_the_client_library) to create an empty BQ table and yield an empty output; otherwise, continue the pipeline to use the BigQueryIO.\r\n\r\nIf you don&#39;t care about writing a dummy line into your table, you can yield a dummy line when the size side input is 0 and pass it to the same BigQueryIO without using the client library.","title":"Apache Beam does not create BigQuery table if no data is to write","body":"<p>You can do a Count.globally() to check the size of the output of MyTransform and use the check as a <a href=\"https://beam.apache.org/documentation/patterns/side-inputs/\" rel=\"nofollow noreferrer\">side input</a> with the output of MyTransform. If the side input is 0, use the Python <a href=\"https://cloud.google.com/bigquery/docs/reference/libraries#using_the_client_library\" rel=\"nofollow noreferrer\">client library</a> to create an empty BQ table and yield an empty output; otherwise, continue the pipeline to use the BigQueryIO.</p>\n<p>If you don't care about writing a dummy line into your table, you can yield a dummy line when the size side input is 0 and pass it to the same BigQueryIO without using the client library.</p>\n"}],"owner":{"account_id":11565609,"reputation":799,"user_id":8473984,"display_name":"ZZZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654767917,"creation_date":1654604985,"question_id":72531283,"body_markdown":"I have a Beam pipeline defined as:\r\n\r\n    PCollectionList.of(mycollection1).and(mycollection2)\r\n        .apply(new MyTransform())\r\n        .apply(BigQueryIO.write()\r\n               .to(&quot;my_result_table&quot;)\r\n               .withSchema()\r\n               .withFormatFunction()\r\n               .withMethod(BigQueryIO.Write.Method.STORAGE_WRITE_API)\r\n               .withNumStorageWriteApiStreams(10)\r\n               .withFailedInsertRetryPolicy(InsertRetryPolicy.retryTransietErrors())\r\n               .withKmsKey(key)\r\n               .withCreateDisposition(CREATE_IF_NEEDED)\r\n               .withWriteDisposition(WRITE_TRUNCATE)\r\n               .withCustomGcsTempLocation(ValueProvider.StaticValueProvider.of(tempLocation)))\r\n         );\r\n\r\nThis pipeline is run on Google Dataflow.\r\n\r\nIt works fine if MyTransform produces some results. However, the business logic of MyTransform allows it to produce a PCollection of no result inside. If this happens, I would like to have am empty BigQuery table named my_result_table.\r\n\r\nIt seems that Dataflow will skip the BigQueryIO completely if MyTransform produces an empty PCollection so that no BigQuery table is produced.\r\n\r\nIs there any ways I can force BigQuery to create an empty table if MyTransform produces empty PCollection?","title":"Apache Beam does not create BigQuery table if no data is to write","body":"<p>I have a Beam pipeline defined as:</p>\n<pre><code>PCollectionList.of(mycollection1).and(mycollection2)\n    .apply(new MyTransform())\n    .apply(BigQueryIO.write()\n           .to(&quot;my_result_table&quot;)\n           .withSchema()\n           .withFormatFunction()\n           .withMethod(BigQueryIO.Write.Method.STORAGE_WRITE_API)\n           .withNumStorageWriteApiStreams(10)\n           .withFailedInsertRetryPolicy(InsertRetryPolicy.retryTransietErrors())\n           .withKmsKey(key)\n           .withCreateDisposition(CREATE_IF_NEEDED)\n           .withWriteDisposition(WRITE_TRUNCATE)\n           .withCustomGcsTempLocation(ValueProvider.StaticValueProvider.of(tempLocation)))\n     );\n</code></pre>\n<p>This pipeline is run on Google Dataflow.</p>\n<p>It works fine if MyTransform produces some results. However, the business logic of MyTransform allows it to produce a PCollection of no result inside. If this happens, I would like to have am empty BigQuery table named my_result_table.</p>\n<p>It seems that Dataflow will skip the BigQueryIO completely if MyTransform produces an empty PCollection so that no BigQuery table is produced.</p>\n<p>Is there any ways I can force BigQuery to create an empty table if MyTransform produces empty PCollection?</p>\n"},{"tags":["java","log4j"],"answers":[{"tags":[],"owner":{"account_id":13293158,"reputation":404,"user_id":9597039,"display_name":"Milos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654767828,"creation_date":1654767828,"answer_id":72558095,"question_id":72557883,"body_markdown":"You need to run the application in the debug mode. Because you are using **InteliJ**, you can do so by navigating to the Run section, and the choose the second choice debug. Or the shortcut would be the right top corner little green bug icon. You can find visual representation below. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KGL9V.png","title":"Cannot get log4j.properties to work with Gradle project in IntelliJ","body":"<p>You need to run the application in the debug mode. Because you are using <strong>InteliJ</strong>, you can do so by navigating to the Run section, and the choose the second choice debug. Or the shortcut would be the right top corner little green bug icon. You can find visual representation below.</p>\n<p><a href=\"https://i.stack.imgur.com/KGL9V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KGL9V.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3494182,"reputation":505,"user_id":2922970,"accept_rate":90,"display_name":"Kurtiss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654767828,"creation_date":1654766927,"question_id":72557883,"body_markdown":"I am building a Gradle-based Java project using IntelliJ as my IDE.\r\n\r\nI can output log information to my console, as long as it is outputted to INFO. \r\n\r\nWARN and ERROR also seems to work by default.\r\n\r\n```\r\n...\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n...\r\npublic class ServiceExample {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(ServiceExample.class);\r\n...\r\n        log.info(&quot;...&quot;);\r\n        log.warn(&quot;...&quot;);\r\n        log.error(&quot;...&quot;);\r\n...\r\n```\r\n\r\nHowever I cannot seem to do the same thing for DEBUG.\r\n```\r\n...\r\n        log.debug(&quot;...&quot;);\r\n...\r\n```\r\n\r\nI&#39;ve created the properties file under:\r\n```\r\nproject &gt; src &gt; main &gt; resources &gt; log4j.properties\r\n```\r\n\r\nThe content is as follows:\r\n```\r\n# Root logger option\r\nlog4j.rootLogger=DEBUG, stdout\r\n\r\n# Direct log messages to stdout\r\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.stdout.Target=System.out\r\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n```\r\n\r\nI&#39;ve tried running my project through bootRun and Debug, and I&#39;ve also tried cleaning and rebuilding my project, but to no avail.\r\n\r\nWhat do I need to do to get my Java project to show DEBUG in the console?\r\n","title":"Cannot get log4j.properties to work with Gradle project in IntelliJ","body":"<p>I am building a Gradle-based Java project using IntelliJ as my IDE.</p>\n<p>I can output log information to my console, as long as it is outputted to INFO.</p>\n<p>WARN and ERROR also seems to work by default.</p>\n<pre><code>...\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n...\npublic class ServiceExample {\n\n    private static final Logger log = LoggerFactory.getLogger(ServiceExample.class);\n...\n        log.info(&quot;...&quot;);\n        log.warn(&quot;...&quot;);\n        log.error(&quot;...&quot;);\n...\n</code></pre>\n<p>However I cannot seem to do the same thing for DEBUG.</p>\n<pre><code>...\n        log.debug(&quot;...&quot;);\n...\n</code></pre>\n<p>I've created the properties file under:</p>\n<pre><code>project &gt; src &gt; main &gt; resources &gt; log4j.properties\n</code></pre>\n<p>The content is as follows:</p>\n<pre><code># Root logger option\nlog4j.rootLogger=DEBUG, stdout\n\n# Direct log messages to stdout\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n</code></pre>\n<p>I've tried running my project through bootRun and Debug, and I've also tried cleaning and rebuilding my project, but to no avail.</p>\n<p>What do I need to do to get my Java project to show DEBUG in the console?</p>\n"},{"tags":["java","vue.js","intellij-idea","colors","editor"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1654776109,"post_id":72558077,"comment_id":128175479,"body_markdown":"Currently it&#39;s not possible. Please vote and follow the related request: https://youtrack.jetbrains.com/issue/IDEA-185441/Individual-Color-Schemes-per-language","body":"Currently it&#39;s not possible. Please vote and follow the related request: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-185441/Individual-Color-Schemes-per-language\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-185441/&hellip;</a>"}],"owner":{"account_id":7165742,"reputation":31,"user_id":5474916,"display_name":"GawetB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1654767752,"creation_date":1654767752,"question_id":72558077,"body_markdown":"How can I use different editor color schemes for different languages in IntelliJ Ultimate 2022.1.1 ?\r\n\r\nExample : I want to use the &quot;Eclipse Dark Theme&quot; scheme when I edit Java files, and the &quot;vuesion-theme&quot; scheme when I edit Vue/JavaScript files.\r\n\r\nIn *&quot;Settings -&gt; Editor -&gt; Color Scheme&quot;* if I select Java and select a Scheme, it&#39;s changing the Scheme of all others languages too (JavaScript included).\r\n\r\nIs there a way to select different schemes for different languages ?","title":"IntelliJ : Different editor color shemes for different languages","body":"<p>How can I use different editor color schemes for different languages in IntelliJ Ultimate 2022.1.1 ?</p>\n<p>Example : I want to use the &quot;Eclipse Dark Theme&quot; scheme when I edit Java files, and the &quot;vuesion-theme&quot; scheme when I edit Vue/JavaScript files.</p>\n<p>In <em>&quot;Settings -&gt; Editor -&gt; Color Scheme&quot;</em> if I select Java and select a Scheme, it's changing the Scheme of all others languages too (JavaScript included).</p>\n<p>Is there a way to select different schemes for different languages ?</p>\n"},{"tags":["java","angular","spring","spring-boot","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":8792043,"reputation":460,"user_id":6571471,"accept_rate":38,"display_name":"manjosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654767485,"creation_date":1654767485,"answer_id":72558006,"question_id":72544027,"body_markdown":"Added the below code and its adding the token in response header.\r\n\r\n    @Bean\r\n\tpublic WebFilter addCsrfTokenFilter() {\r\n\t\treturn (exchange, next) -&gt; Mono.just(exchange)\r\n\t\t\t\t.flatMap(ex -&gt; ex.&lt;Mono&lt;CsrfToken&gt;&gt;getAttribute(CsrfToken.class.getName()))\r\n\t\t\t\t.doOnNext(ex -&gt; {\r\n\t\t\t\t})\r\n\t\t\t\t.then(next.filter(exchange));\r\n\t}\r\n\r\n","title":"csrf enabled on spring cloud gateway does not add the csrf token in the response header","body":"<p>Added the below code and its adding the token in response header.</p>\n<pre><code>@Bean\npublic WebFilter addCsrfTokenFilter() {\n    return (exchange, next) -&gt; Mono.just(exchange)\n            .flatMap(ex -&gt; ex.&lt;Mono&lt;CsrfToken&gt;&gt;getAttribute(CsrfToken.class.getName()))\n            .doOnNext(ex -&gt; {\n            })\n            .then(next.filter(exchange));\n}\n</code></pre>\n"}],"owner":{"account_id":8792043,"reputation":460,"user_id":6571471,"accept_rate":38,"display_name":"manjosh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654767485,"creation_date":1654683774,"question_id":72544027,"body_markdown":"I have enabled CSRF in spring cloud gateway application. I have allowed a login api so that the first request to the application is processed and the response would have the CSRF token for my frontend (angular) to use it. But the responses does not have any csrf token.\r\n\r\nbelow is my configuration\r\n\r\n    @Configuration\r\n    @EnableWebFluxSecurity\r\n    public class NettyConfiguration implements WebServerFactoryCustomizer&lt;NettyReactiveWebServerFactory&gt; {\r\n\r\n    @Value(&quot;${server.max-initial-line-length:65536}&quot;)\r\n    private int maxInitialLingLength;\r\n    @Value(&quot;${server.max-http-header-size:65536}&quot;)\r\n    private int maxHttpHeaderSize;\r\n\r\n    public void customize(NettyReactiveWebServerFactory container) {\r\n        container.addServerCustomizers(\r\n                httpServer -&gt; httpServer.httpRequestDecoder(\r\n                        httpRequestDecoderSpec -&gt; {\r\n                            httpRequestDecoderSpec.maxHeaderSize(maxHttpHeaderSize);\r\n                            httpRequestDecoderSpec.maxInitialLineLength(maxInitialLingLength);\r\n                            return httpRequestDecoderSpec;\r\n                        }\r\n                )\r\n        );\r\n    }\r\n    \r\n\r\n    @Bean\r\n    public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\r\n        http\r\n                // ...\r\n                .csrf()\r\n                .requireCsrfProtectionMatcher(new NegatedServerWebExchangeMatcher(pathMatchers(&quot;/i18n/*&quot;,&quot;/*&quot;,&quot;/assets/**&quot;,&quot;/service/webapi/login&quot;)))\r\n                .and().csrf(csrf -&gt; csrf.csrfTokenRepository(CookieServerCsrfTokenRepository.withHttpOnlyFalse()));\r\n        return http.build();\r\n    }\r\n    }\r\n\r\nI have disabled the CSRF for login. Login in works, but the response does not have csrf token in the cookies. Due to this, my frontend is not able to get the token to make other requests. Also does GET requests require the CSRF token? I get &quot;an expected csrf token cannot be found&quot; for GET requests as well. ","title":"csrf enabled on spring cloud gateway does not add the csrf token in the response header","body":"<p>I have enabled CSRF in spring cloud gateway application. I have allowed a login api so that the first request to the application is processed and the response would have the CSRF token for my frontend (angular) to use it. But the responses does not have any csrf token.</p>\n<p>below is my configuration</p>\n<pre><code>@Configuration\n@EnableWebFluxSecurity\npublic class NettyConfiguration implements WebServerFactoryCustomizer&lt;NettyReactiveWebServerFactory&gt; {\n\n@Value(&quot;${server.max-initial-line-length:65536}&quot;)\nprivate int maxInitialLingLength;\n@Value(&quot;${server.max-http-header-size:65536}&quot;)\nprivate int maxHttpHeaderSize;\n\npublic void customize(NettyReactiveWebServerFactory container) {\n    container.addServerCustomizers(\n            httpServer -&gt; httpServer.httpRequestDecoder(\n                    httpRequestDecoderSpec -&gt; {\n                        httpRequestDecoderSpec.maxHeaderSize(maxHttpHeaderSize);\n                        httpRequestDecoderSpec.maxInitialLineLength(maxInitialLingLength);\n                        return httpRequestDecoderSpec;\n                    }\n            )\n    );\n}\n\n\n@Bean\npublic SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\n    http\n            // ...\n            .csrf()\n            .requireCsrfProtectionMatcher(new NegatedServerWebExchangeMatcher(pathMatchers(&quot;/i18n/*&quot;,&quot;/*&quot;,&quot;/assets/**&quot;,&quot;/service/webapi/login&quot;)))\n            .and().csrf(csrf -&gt; csrf.csrfTokenRepository(CookieServerCsrfTokenRepository.withHttpOnlyFalse()));\n    return http.build();\n}\n}\n</code></pre>\n<p>I have disabled the CSRF for login. Login in works, but the response does not have csrf token in the cookies. Due to this, my frontend is not able to get the token to make other requests. Also does GET requests require the CSRF token? I get &quot;an expected csrf token cannot be found&quot; for GET requests as well.</p>\n"},{"tags":["java","mysql","spring-boot","jpa","specifications"],"owner":{"account_id":24900613,"reputation":31,"user_id":18771332,"display_name":"Ronwum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1654767438,"creation_date":1649677443,"question_id":71827248,"body_markdown":"I am trying to make specification that will order result by random with given seed.\r\n\r\n    Specification&lt;Pathway&gt; spec = (root, query, builder) -&gt; {\r\n            Expression&lt;Integer&gt; ex = builder.literal(1);\r\n            query.orderBy(builder.asc(builder.function(&quot;RAND&quot;, Double.class, ex)));\r\n            return builder.and();\r\n        };\r\n\r\nI am getin an exception:\r\n\r\n    Caused by: org.hibernate.QueryException: function takes no arguments: rand [ bla bla bla and ( 1=1 ) ) order by function(&#39;RAND&#39;, 1) asc]\r\n\r\nI need to make a change so runtime executes **RAND(1)** instead of **function(&#39;RAND&#39;, 1)**. When I try to remove expression from function call like: `builder.function(&quot;RAND&quot;, Double.class)` code works, but I need to use the parameter for my implementation.\r\n\r\nAny idea how to do it? Thank you.\r\n\r\n\r\n","title":"How to call RAND method with parameter when using JPA specification","body":"<p>I am trying to make specification that will order result by random with given seed.</p>\n<pre><code>Specification&lt;Pathway&gt; spec = (root, query, builder) -&gt; {\n        Expression&lt;Integer&gt; ex = builder.literal(1);\n        query.orderBy(builder.asc(builder.function(&quot;RAND&quot;, Double.class, ex)));\n        return builder.and();\n    };\n</code></pre>\n<p>I am getin an exception:</p>\n<pre><code>Caused by: org.hibernate.QueryException: function takes no arguments: rand [ bla bla bla and ( 1=1 ) ) order by function('RAND', 1) asc]\n</code></pre>\n<p>I need to make a change so runtime executes <strong>RAND(1)</strong> instead of <strong>function('RAND', 1)</strong>. When I try to remove expression from function call like: <code>builder.function(&quot;RAND&quot;, Double.class)</code> code works, but I need to use the parameter for my implementation.</p>\n<p>Any idea how to do it? Thank you.</p>\n"},{"tags":["java","html","web-scraping","jsoup"],"comments":[{"owner":{"account_id":2196043,"reputation":1420,"user_id":1941686,"display_name":"Michael C."},"score":0,"creation_date":1652054039,"post_id":72161288,"comment_id":127505848,"body_markdown":"Why do you want to scrape the pages? You can sign up for the free DB1 LITE database which consists of all the information in one CSV file.","body":"Why do you want to scrape the pages? You can sign up for the free DB1 LITE database which consists of all the information in one CSV file."},{"owner":{"account_id":21437474,"reputation":123,"user_id":15792708,"display_name":"Ellie"},"score":0,"creation_date":1652078419,"post_id":72161288,"comment_id":127509379,"body_markdown":"@MichaelC. its for a school project we have to web-scrape using jsoup.","body":"@MichaelC. its for a school project we have to web-scrape using jsoup."}],"answers":[{"tags":[],"owner":{"account_id":22881048,"reputation":231,"user_id":17022635,"display_name":"siarhei987"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654767323,"creation_date":1654767323,"answer_id":72557971,"question_id":72161288,"body_markdown":"Jsoup just parses HTML from a URL it does not execute JavaScript or fetches additional resources such as js or css files.\r\n\r\nAt a page with IP address ranges for a country data represented in JSON that is loaded asynchronously by a browser and then with that data a table is populated.  \r\n\r\nHere `final Document redirectDoc = Jsoup.connect(redirectUrl).get();` you got an HTML page that contains only a template for a table. Like this\r\n\r\n    &lt;div class=&quot;row my-5&quot; style=&quot;min-height:500px;&quot;&gt;\r\n        &lt;div class=&quot;col table-responsive&quot;&gt;\r\n            &lt;table id=&quot;ip-address&quot; class=&quot;table table-striped table-hover&quot;&gt;\r\n                &lt;thead&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;th width=&quot;30%&quot; class=&quot;no-sort&quot;&gt;Begin IP Address&lt;/th&gt;\r\n                        &lt;th width=&quot;30%&quot; class=&quot;no-sort&quot;&gt;End IP Address&lt;/th&gt;\r\n                        &lt;th width=&quot;40%&quot; class=&quot;text-right no-sort&quot;&gt;Total Count&lt;/th&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/thead&gt;\r\n                &lt;tbody&gt;\r\n                &lt;/tbody&gt;\r\n            &lt;/table&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\nAnd exactly this fragment you parses in your code.\r\n\r\nSo, there is a one of a possible solution to get ranges. \r\n\r\nThe data with IP address ranges for Zimbabwe locates at URLs like this `https://cdn-lite.ip2location.com/datasets/ZW.json` . A file name matches with Country Codes Alpha-2 (ZW for Zimbabwe).\r\n\r\nThese codes for available countries can be extracted from `https://lite.ip2location.com/ip-address-ranges-by-country` page where inside a `&lt;p class=&quot;card-text&quot;&gt;` tag for each country there is a `span` tag to draw a flag.\r\n\r\nThe second class contains a code at the end of the name (flag-icon-**ba**)\r\n\r\n    &lt;div class=&quot;card&quot; style=&quot;min-height:72px;&quot;&gt;\r\n        &lt;div class=&quot;card-body&quot; style=&quot;padding:.85rem;&quot;&gt;\r\n            &lt;p class=&quot;card-text&quot;&gt;&lt;span class=&quot;flag-icon flag-icon-ba&quot;&gt;&lt;/span&gt; &lt;a href=&quot;/bosnia-and-herzegovina-ip-address-ranges&quot;&gt;Bosnia and Herzegovina&lt;/a&gt;&lt;/p&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\nBA for Bosnia and Herzegovina.\r\n\r\nHaving a URL to a JSON data for a particular country, you can fetch it with Jsoup.\r\n\r\n    String data = Jsoup\r\n            .connect(&quot;https://cdn-lite.ip2location.com/datasets/BA.json&quot;)\r\n            .ignoreContentType(true)\r\n            .get().text();\r\n\r\n","title":"how to web-scrape from a table?","body":"<p>Jsoup just parses HTML from a URL it does not execute JavaScript or fetches additional resources such as js or css files.</p>\n<p>At a page with IP address ranges for a country data represented in JSON that is loaded asynchronously by a browser and then with that data a table is populated.</p>\n<p>Here <code>final Document redirectDoc = Jsoup.connect(redirectUrl).get();</code> you got an HTML page that contains only a template for a table. Like this</p>\n<pre><code>&lt;div class=&quot;row my-5&quot; style=&quot;min-height:500px;&quot;&gt;\n    &lt;div class=&quot;col table-responsive&quot;&gt;\n        &lt;table id=&quot;ip-address&quot; class=&quot;table table-striped table-hover&quot;&gt;\n            &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th width=&quot;30%&quot; class=&quot;no-sort&quot;&gt;Begin IP Address&lt;/th&gt;\n                    &lt;th width=&quot;30%&quot; class=&quot;no-sort&quot;&gt;End IP Address&lt;/th&gt;\n                    &lt;th width=&quot;40%&quot; class=&quot;text-right no-sort&quot;&gt;Total Count&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>And exactly this fragment you parses in your code.</p>\n<p>So, there is a one of a possible solution to get ranges.</p>\n<p>The data with IP address ranges for Zimbabwe locates at URLs like this <code>https://cdn-lite.ip2location.com/datasets/ZW.json</code> . A file name matches with Country Codes Alpha-2 (ZW for Zimbabwe).</p>\n<p>These codes for available countries can be extracted from <code>https://lite.ip2location.com/ip-address-ranges-by-country</code> page where inside a <code>&lt;p class=&quot;card-text&quot;&gt;</code> tag for each country there is a <code>span</code> tag to draw a flag.</p>\n<p>The second class contains a code at the end of the name (flag-icon-<strong>ba</strong>)</p>\n<pre><code>&lt;div class=&quot;card&quot; style=&quot;min-height:72px;&quot;&gt;\n    &lt;div class=&quot;card-body&quot; style=&quot;padding:.85rem;&quot;&gt;\n        &lt;p class=&quot;card-text&quot;&gt;&lt;span class=&quot;flag-icon flag-icon-ba&quot;&gt;&lt;/span&gt; &lt;a href=&quot;/bosnia-and-herzegovina-ip-address-ranges&quot;&gt;Bosnia and Herzegovina&lt;/a&gt;&lt;/p&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>BA for Bosnia and Herzegovina.</p>\n<p>Having a URL to a JSON data for a particular country, you can fetch it with Jsoup.</p>\n<pre><code>String data = Jsoup\n        .connect(&quot;https://cdn-lite.ip2location.com/datasets/BA.json&quot;)\n        .ignoreContentType(true)\n        .get().text();\n</code></pre>\n"}],"owner":{"account_id":21437474,"reputation":123,"user_id":15792708,"display_name":"Ellie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72557971,"answer_count":1,"score":0,"last_activity_date":1654767323,"creation_date":1652015059,"question_id":72161288,"body_markdown":"I am working on a project where I have to web-scrape from the site https://lite.ip2location.com.\r\nWhen you come into the site there are a number of `div`s each with a different country. When you click on one of them the browser is redirected to a table on that site.  The table has a `thead` and `tbody`.   I need to access the `tbody` but for some reason, I only get the information from the `thead` tag.\r\n\r\nThis is my code:\r\n```\r\n    public static void main(String[] args) {\r\n        final String url = &quot;https://lite.ip2location.com/ip-address-ranges-by-country&quot;;\r\n        try {\r\n            final Document document = Jsoup.connect(url).get();\r\n            for (Element element : document.select(&quot;div.card-columns div&quot;)) {\r\n                Elements link = element.select(&quot;a&quot;);\r\n                String redirectUrl = &quot;https://lite.ip2location.com&quot; + link.attr(&quot;href&quot;);\r\n                final Document redirectDoc = Jsoup.connect(redirectUrl).get();\r\n                Element table = redirectDoc.select(&quot;table&quot;).get(0);\r\n                for (Element row : table.select(&quot;tbody tr&quot;)) {\r\n                    System.out.println(row.text());\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }   \r\n```","title":"how to web-scrape from a table?","body":"<p>I am working on a project where I have to web-scrape from the site <a href=\"https://lite.ip2location.com\" rel=\"nofollow noreferrer\">https://lite.ip2location.com</a>.\nWhen you come into the site there are a number of <code>div</code>s each with a different country. When you click on one of them the browser is redirected to a table on that site.  The table has a <code>thead</code> and <code>tbody</code>.   I need to access the <code>tbody</code> but for some reason, I only get the information from the <code>thead</code> tag.</p>\n<p>This is my code:</p>\n<pre><code>    public static void main(String[] args) {\n        final String url = &quot;https://lite.ip2location.com/ip-address-ranges-by-country&quot;;\n        try {\n            final Document document = Jsoup.connect(url).get();\n            for (Element element : document.select(&quot;div.card-columns div&quot;)) {\n                Elements link = element.select(&quot;a&quot;);\n                String redirectUrl = &quot;https://lite.ip2location.com&quot; + link.attr(&quot;href&quot;);\n                final Document redirectDoc = Jsoup.connect(redirectUrl).get();\n                Element table = redirectDoc.select(&quot;table&quot;).get(0);\n                for (Element row : table.select(&quot;tbody tr&quot;)) {\n                    System.out.println(row.text());\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }   \n</code></pre>\n"},{"tags":["java","bluej"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1567403517,"post_id":57751926,"comment_id":101940698,"body_markdown":"[`System.out`](https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#out) is a [`PrintStream`](https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html). **Always** check the Javadoc.","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#out\" rel=\"nofollow noreferrer\"><code>System.out</code></a> is a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html\" rel=\"nofollow noreferrer\"><code>PrintStream</code></a>. <b>Always</b> check the Javadoc."}],"answers":[{"tags":[],"owner":{"account_id":10813511,"reputation":892,"user_id":7953365,"display_name":"Ankur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567403476,"creation_date":1567403476,"answer_id":57751980,"question_id":57751926,"body_markdown":"Yes you can do that, because if you look at the System class, `out` is just a static variable of type `PrintStream`\r\n\r\n    PrintStream printStream = System.out;\r\n    \t\t\r\n    printStream.println(&quot;TEST&quot;);\r\n\r\nAlthough, I am not sure why you would want to do that. And what would be the impact of doing that.","title":"Is there really a difference between referencing and creating new object from reference of PrintStream?","body":"<p>Yes you can do that, because if you look at the System class, <code>out</code> is just a static variable of type <code>PrintStream</code></p>\n\n<pre><code>PrintStream printStream = System.out;\n\nprintStream.println(\"TEST\");\n</code></pre>\n\n<p>Although, I am not sure why you would want to do that. And what would be the impact of doing that.</p>\n"},{"tags":[],"owner":{"account_id":11745047,"reputation":914,"user_id":8596064,"display_name":"Absent"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1567403602,"creation_date":1567403602,"answer_id":57752000,"question_id":57751926,"body_markdown":"System is a final class with a static member called ``out`` of type [PrintStream][1]. For this reason you call the method like ``System.out.println()``\r\n\r\nThe method ``println()`` returns type void, hence you cannot create an object with that method.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html","title":"Is there really a difference between referencing and creating new object from reference of PrintStream?","body":"<p>System is a final class with a static member called <code>out</code> of type <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html\" rel=\"nofollow noreferrer\">PrintStream</a>. For this reason you call the method like <code>System.out.println()</code></p>\n\n<p>The method <code>println()</code> returns type void, hence you cannot create an object with that method.</p>\n"},{"tags":[],"owner":{"account_id":9528245,"reputation":358,"user_id":8889711,"display_name":"miador"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1567404157,"creation_date":1567404157,"answer_id":57752066,"question_id":57751926,"body_markdown":"Take as a reference [this page][1];\r\n\r\n    import java.io.*;\r\n    public class SystemOutPrintlnDemo\r\n    {\r\n      public static void main(String[] args) \r\n      {\r\n        //creating PrintStream object\r\n        PrintStream ps = new PrintStream(System.out);\r\n        ps.println(&quot;Hello World!&quot;);\r\n        ps.print(&quot;Hello World Again!&quot;);\r\n        //Flushes the stream\r\n        ps.flush();\r\n      }\r\n    }\r\n\r\n\r\n  [1]: http://cs-fundamentals.com/tech-interview/java/how-system-out-println-work-in-java.php","title":"Is there really a difference between referencing and creating new object from reference of PrintStream?","body":"<p>Take as a reference <a href=\"http://cs-fundamentals.com/tech-interview/java/how-system-out-println-work-in-java.php\" rel=\"nofollow noreferrer\">this page</a>;</p>\n\n<pre><code>import java.io.*;\npublic class SystemOutPrintlnDemo\n{\n  public static void main(String[] args) \n  {\n    //creating PrintStream object\n    PrintStream ps = new PrintStream(System.out);\n    ps.println(\"Hello World!\");\n    ps.print(\"Hello World Again!\");\n    //Flushes the stream\n    ps.flush();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":16479917,"reputation":195,"user_id":11906942,"display_name":"MichaelJohn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":811,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1567406302,"accepted_answer_id":57752066,"answer_count":3,"score":-1,"last_activity_date":1654767316,"creation_date":1567403058,"question_id":57751926,"body_markdown":"Below are the two ways of getting reference of the `PrintStream` object:\r\n```java\r\nclass Ex1 {\r\n    public static void printEx() {\r\n        //line 1: Direct Reference\r\n        PrintStream ps1 = System.out;\r\n        //line 2: Passing Reference as argument in constructor\r\n        PrintStream ps2 = new PrintStream(System.out);\r\n    }\r\n}\r\n```\r\nIs there really a significant difference between those two lines in terms of usage or can (or should) it be used interchangeably?","title":"Is there really a difference between referencing and creating new object from reference of PrintStream?","body":"<p>Below are the two ways of getting reference of the <code>PrintStream</code> object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Ex1 {\n    public static void printEx() {\n        //line 1: Direct Reference\n        PrintStream ps1 = System.out;\n        //line 2: Passing Reference as argument in constructor\n        PrintStream ps2 = new PrintStream(System.out);\n    }\n}\n</code></pre>\n<p>Is there really a significant difference between those two lines in terms of usage or can (or should) it be used interchangeably?</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":205847,"reputation":21751,"user_id":479027,"accept_rate":53,"display_name":"Pinki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654767006,"creation_date":1654767006,"answer_id":72557898,"question_id":72557770,"body_markdown":"Please consider the following option\r\n\r\n    val tasks = context.getSystemService(ACTIVITY_SERVICE).\r\n    appTasks\r\n    for (task in tasks) {\r\n                Log.d(TAG, &quot;stackId: &quot; + task.taskInfo.stackId)\r\n            }","title":"How to get Current running app if my current app is in background android","body":"<p>Please consider the following option</p>\n<pre><code>val tasks = context.getSystemService(ACTIVITY_SERVICE).\nappTasks\nfor (task in tasks) {\n            Log.d(TAG, &quot;stackId: &quot; + task.taskInfo.stackId)\n        }\n</code></pre>\n"}],"owner":{"account_id":25204027,"reputation":1,"user_id":19042608,"display_name":"Sk-Saidul Alam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654767006,"creation_date":1654766490,"question_id":72557770,"body_markdown":"As getRunningTasks(1) is deprecated what can I use as a alternative of this ","title":"How to get Current running app if my current app is in background android","body":"<p>As getRunningTasks(1) is deprecated what can I use as a alternative of this</p>\n"},{"tags":["java","selenium","dynamicform"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1654814405,"post_id":72557640,"comment_id":128188419,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":1327466,"reputation":11,"user_id":1272005,"display_name":"Manjunath"},"score":0,"creation_date":1655125915,"post_id":72557640,"comment_id":128249633,"body_markdown":"#1.capture the element using xpath\nWebElement webElement = SmartGwtUtil.getWebElement(String.format(&quot;//DynamicForm[ID=\\&quot;%s\\&quot;]/item[name=%s]/canvas/member[Class=Canvas||index=1||classIndex=0]/&quot;, getId(), editorName), 1);\n\n#2.then look canvas items \nList&lt;WebElement&gt; aceCanvasses = webElement.findElements(By.xpath(&quot;//div[@class=&#39;AceCanvas&#39;]&quot;)).stream().filter(WebElement::isDisplayed).\n\t\t\t\tcollect(Collectors.toList());","body":"#1.capture the element using xpath WebElement webElement = SmartGwtUtil.getWebElement(String.format(&quot;//DynamicForm[ID=\\&zwnj;&#8203;&quot;%s\\&quot;]/item[name=%s]&zwnj;&#8203;/canvas/member[Class&zwnj;&#8203;=Canvas||index=1||cl&zwnj;&#8203;assIndex=0]/&quot;, getId(), editorName), 1);  #2.then look canvas items  List&lt;WebElement&gt; aceCanvasses = webElement.findElements(By.xpath(&quot;//div[@class=&#39;AceCanvas&#39;]&quot;&zwnj;&#8203;)).stream().filter(W&zwnj;&#8203;ebElement::isDisplay&zwnj;&#8203;ed). \t\t\t\tcollect(Collectors.toList());"},{"owner":{"account_id":1327466,"reputation":11,"user_id":1272005,"display_name":"Manjunath"},"score":0,"creation_date":1655125950,"post_id":72557640,"comment_id":128249649,"body_markdown":"#3.then look for size\nint index = aceCanvasses.size();","body":"#3.then look for size int index = aceCanvasses.size();"},{"owner":{"account_id":1327466,"reputation":11,"user_id":1272005,"display_name":"Manjunath"},"score":0,"creation_date":1655125984,"post_id":72557640,"comment_id":128249665,"body_markdown":"4# find list of editors\nList&lt;WebElement&gt; aceEditors = aceCanvasses.get(index-1).findElements(By.id(&quot;AceEditor_&quot; + editorName));","body":"4# find list of editors List&lt;WebElement&gt; aceEditors = aceCanvasses.get(index-1).findElements(By.id(&quot;AceEditor_&quot; + editorName));"},{"owner":{"account_id":1327466,"reputation":11,"user_id":1272005,"display_name":"Manjunath"},"score":0,"creation_date":1655126012,"post_id":72557640,"comment_id":128249680,"body_markdown":"#4.then click and enter text\nif (aceEditors.size() == 1) {\n\t\t\tWebDriver webDriver = Setup.getDriver();\n\t\t\tfinal ExpectedCondition&lt;WebElement&gt; successCondition = ExpectedConditions.elementToBeClickable(aceCanvasses.get(index-1));\n\t\t\tnew Actions(webDriver).moveToElement(aceCanvasses.get(index-1)).click().perform();\n\t\t\tnew WebDriverWait(webDriver, 3).until(successCondition);\n\t\t\tRetry.retry(() -&gt; ((RemoteWebElement)aceEditors.get(0)).findElementByClassName(&quot;ace_text-input&quot;).sendKeys(value));\n\t\t}\n\t}","body":"#4.then click and enter text if (aceEditors.size() == 1) { \t\t\tWebDriver webDriver = Setup.getDriver(); \t\t\tfinal ExpectedCondition&lt;WebElement&gt; successCondition = ExpectedConditions.elementToBeClickable(aceCanvasses.get(ind&zwnj;&#8203;ex-1)); \t\t\tnew Actions(webDriver).moveToElement(aceCanvasses.get(index-1)).&zwnj;&#8203;click().perform(); \t\t\tnew WebDriverWait(webDriver, 3).until(successCondition); \t\t\tRetry.retry(() -&gt; ((RemoteWebElement)aceEditors.get(0)).findElementByClassName&zwnj;&#8203;(&quot;ace_text-input&quot;).s&zwnj;&#8203;endKeys(value)); \t\t} \t}"},{"owner":{"account_id":1327466,"reputation":11,"user_id":1272005,"display_name":"Manjunath"},"score":0,"creation_date":1655126071,"post_id":72557640,"comment_id":128249706,"body_markdown":"i followed the above mentioned steps  . it was click and entering first editor then next editor just clicking not typing it","body":"i followed the above mentioned steps  . it was click and entering first editor then next editor just clicking not typing it"}],"owner":{"account_id":1327466,"reputation":11,"user_id":1272005,"display_name":"Manjunath"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654766990,"creation_date":1654765944,"question_id":72557640,"body_markdown":"i was unable click and enter text using selenium java here is sample text path\r\n\r\nscLocator=//DynamicForm[ID=&quot;CollapseView_RuleGrid_activeView_RuleForm&quot;]/item[name=name1||title=title1||index=26||Class=CanvasItem]/canvas/member[Class=Canvas||index=1||length=2||classIndex=0||classLength=1]/\r\n\r\nscLocator=//DynamicForm[ID=&quot;CollapseView__RuleGrid_activeView_RuleForm&quot;]/item[name=name2||title=title1||index=26||Class=CanvasItem]/canvas/member[Class=Canvas||index=1||length=2||classIndex=0||classLength=1]/\r\n\r\nhow click and enter text \r\n\r\n\r\neverything is  same except title and name \r\ni want click first name and enter text\r\nthen click second one name and enter text\r\n\r\nscreen\r\n-------\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BWW4c.png","title":"unable to click and enter text for Dynamic Form using seleninum java","body":"<p>i was unable click and enter text using selenium java here is sample text path</p>\n<p>scLocator=//DynamicForm[ID=&quot;CollapseView_RuleGrid_activeView_RuleForm&quot;]/item[name=name1||title=title1||index=26||Class=CanvasItem]/canvas/member[Class=Canvas||index=1||length=2||classIndex=0||classLength=1]/</p>\n<p>scLocator=//DynamicForm[ID=&quot;CollapseView__RuleGrid_activeView_RuleForm&quot;]/item[name=name2||title=title1||index=26||Class=CanvasItem]/canvas/member[Class=Canvas||index=1||length=2||classIndex=0||classLength=1]/</p>\n<p>how click and enter text</p>\n<p>everything is  same except title and name\ni want click first name and enter text\nthen click second one name and enter text</p>\n<h2>screen</h2>\n<p><a href=\"https://i.stack.imgur.com/BWW4c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BWW4c.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","encryption"],"comments":[{"owner":{"account_id":1356582,"reputation":4787,"user_id":1294864,"accept_rate":83,"display_name":"Bono"},"score":0,"creation_date":1422033182,"post_id":28115035,"comment_id":44604355,"body_markdown":"I personally would be interested to see what you tried to implement. It could also help others as they can see which options have been tried (even if they were implemented incorrectly).","body":"I personally would be interested to see what you tried to implement. It could also help others as they can see which options have been tried (even if they were implemented incorrectly)."},{"owner":{"account_id":1122630,"reputation":233,"user_id":1480768,"accept_rate":67,"display_name":"Linux4Hope"},"score":0,"creation_date":1422033681,"post_id":28115035,"comment_id":44604673,"body_markdown":"@Bono I have added links that I thought would be helpful to me, but ended up not helping me to much. I have tried things like making it so doesn&#39;t have padding, uses CBC instead of EBC (Which I would like to do anyways). At one point I even had it converting the Base64 :P","body":"@Bono I have added links that I thought would be helpful to me, but ended up not helping me to much. I have tried things like making it so doesn&#39;t have padding, uses CBC instead of EBC (Which I would like to do anyways). At one point I even had it converting the Base64 :P"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1422037953,"post_id":28115035,"comment_id":44606965,"body_markdown":"It seems like the salt is most likely the problem, as a salt consists of random bytes, but it is given as a string. How did you create the salt?","body":"It seems like the salt is most likely the problem, as a salt consists of random bytes, but it is given as a string. How did you create the salt?"},{"owner":{"account_id":1122630,"reputation":233,"user_id":1480768,"accept_rate":67,"display_name":"Linux4Hope"},"score":0,"creation_date":1422054578,"post_id":28115035,"comment_id":44614647,"body_markdown":"@MaartenBodewes I wish it was, but the Salt is currently fixed for testing :/","body":"@MaartenBodewes I wish it was, but the Salt is currently fixed for testing :/"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1422147917,"post_id":28115035,"comment_id":44636799,"body_markdown":"This error could occur for wrong keys, garbled ciphertext or - only for pretty short ciphertext - because of a wrong IV value. If you enter the wrong password this will be the only way of detecting it (if no authentication tag is present).","body":"This error could occur for wrong keys, garbled ciphertext or - only for pretty short ciphertext - because of a wrong IV value. If you enter the wrong password this will be the only way of detecting it (if no authentication tag is present)."},{"owner":{"account_id":1122630,"reputation":233,"user_id":1480768,"accept_rate":67,"display_name":"Linux4Hope"},"score":0,"creation_date":1422271477,"post_id":28115035,"comment_id":44669599,"body_markdown":"@MaartenBodewes currently I&#39;m just using set variables for the password and salt. This is so I can test the encryption and make sure I don&#39;t have those kinds of problems. I can double check this by logging the keys. Any other ideas?","body":"@MaartenBodewes currently I&#39;m just using set variables for the password and salt. This is so I can test the encryption and make sure I don&#39;t have those kinds of problems. I can double check this by logging the keys. Any other ideas?"}],"answers":[{"tags":[],"owner":{"account_id":1688855,"reputation":193,"user_id":1551615,"display_name":"Piero Ottuzzi"},"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1422291108,"creation_date":1422291108,"answer_id":28154780,"question_id":28115035,"body_markdown":"maybe I&#39;m missing something but on my side it works without a problem.\r\nCan you try the following class simply changing the fileToBeCrypted, fileToBeDecrypted and fileDecryptedOutput variables?\r\n\r\n    package test;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.MessageDigest;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.util.Arrays;\r\n    \r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.CipherInputStream;\r\n    import javax.crypto.CipherOutputStream;\r\n    import javax.crypto.NoSuchPaddingException;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    public class TestCrypt{\r\n    \r\n    \tprivate static final String salt = &quot;t784&quot;;\r\n    \tprivate static final String cryptPassword = &quot;873147cbn9x5&#39;2 79&#39;79314&quot;;\r\n    \tprivate static final String fileToBeCrypted = &quot;c:\\\\Temp\\\\sampleFile.conf&quot;;\r\n    \tprivate static final String fileToBeDecrypted = &quot;c:\\\\Temp\\\\sampleFile.conf.crypt&quot;;\r\n    \tprivate static final String fileDecryptedOutput = &quot;c:\\\\Temp\\\\sampleFile.conf.decrypted&quot;;\r\n    \t\r\n    \tpublic static void main(String[] args) throws Exception\r\n    \t{\r\n    \t\tfor (int i=0; i&lt;100; i++)\r\n    \t\t{\r\n    \t\t\tencryptfile(fileToBeCrypted, cryptPassword);\r\n    \t\t\tdecrypt(fileToBeDecrypted, cryptPassword, fileDecryptedOutput);\r\n    \t\t\tSystem.out.println(i);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void encryptfile(String path,String password) throws IOException, NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException {\r\n    \t    FileInputStream fis = new FileInputStream(path);\r\n    \t    FileOutputStream fos = new FileOutputStream(path.concat(&quot;.crypt&quot;));\r\n    \t    byte[] key = (salt + password).getBytes(&quot;UTF-8&quot;);\r\n    \t    MessageDigest sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n    \t    key = sha.digest(key);\r\n    \t    key = Arrays.copyOf(key,16);\r\n    \t    SecretKeySpec sks = new SecretKeySpec(key, &quot;AES&quot;);\r\n    \t    Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n    \t    cipher.init(Cipher.ENCRYPT_MODE, sks);\r\n    \t    CipherOutputStream cos = new CipherOutputStream(fos, cipher);\r\n    \t    int b;\r\n    \t    byte[] d = new byte[8];\r\n    \t    while((b = fis.read(d)) != -1) {\r\n    \t        cos.write(d, 0, b);\r\n    \t    }\r\n    \t    cos.flush();\r\n    \t    cos.close();\r\n    \t    fis.close();\r\n    \t}\r\n    \r\n    \tpublic static void decrypt(String path,String password, String outPath) throws IOException, NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException {\r\n    \t    FileInputStream fis = new FileInputStream(path);\r\n    \t    FileOutputStream fos = new FileOutputStream(outPath);\r\n    \t    byte[] key = (salt + password).getBytes(&quot;UTF-8&quot;);\r\n    \t    MessageDigest sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n    \t    key = sha.digest(key);\r\n    \t    key = Arrays.copyOf(key,16);\r\n    \t    SecretKeySpec sks = new SecretKeySpec(key, &quot;AES&quot;);\r\n    \t    Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n    \t    cipher.init(Cipher.DECRYPT_MODE, sks);\r\n    \t    CipherInputStream cis = new CipherInputStream(fis, cipher);\r\n    \t    int b;\r\n    \t    byte[] d = new byte[8];\r\n    \t    while((b = cis.read(d)) != -1) {\r\n    \t        fos.write(d, 0, b);\r\n    \t    }\r\n    \t    fos.flush();\r\n    \t    fos.close();\r\n    \t    cis.close();\r\n    \t}\r\n    \r\n    }\r\n\r\nI can iterate many times without an error!\r\nI&#39;m using Oracle JDK 1.8 but running in 1.7 compatibility mode.\r\n\r\nHope this helps you out.\r\n\r\nBye\r\nPiero","title":"Encrypting files with AES on Android","body":"<p>maybe I'm missing something but on my side it works without a problem.\nCan you try the following class simply changing the fileToBeCrypted, fileToBeDecrypted and fileDecryptedOutput variables?</p>\n\n<pre><code>package test;\n\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.security.InvalidKeyException;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.Arrays;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.CipherInputStream;\nimport javax.crypto.CipherOutputStream;\nimport javax.crypto.NoSuchPaddingException;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class TestCrypt{\n\n    private static final String salt = \"t784\";\n    private static final String cryptPassword = \"873147cbn9x5'2 79'79314\";\n    private static final String fileToBeCrypted = \"c:\\\\Temp\\\\sampleFile.conf\";\n    private static final String fileToBeDecrypted = \"c:\\\\Temp\\\\sampleFile.conf.crypt\";\n    private static final String fileDecryptedOutput = \"c:\\\\Temp\\\\sampleFile.conf.decrypted\";\n\n    public static void main(String[] args) throws Exception\n    {\n        for (int i=0; i&lt;100; i++)\n        {\n            encryptfile(fileToBeCrypted, cryptPassword);\n            decrypt(fileToBeDecrypted, cryptPassword, fileDecryptedOutput);\n            System.out.println(i);\n        }\n    }\n\n    public static void encryptfile(String path,String password) throws IOException, NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException {\n        FileInputStream fis = new FileInputStream(path);\n        FileOutputStream fos = new FileOutputStream(path.concat(\".crypt\"));\n        byte[] key = (salt + password).getBytes(\"UTF-8\");\n        MessageDigest sha = MessageDigest.getInstance(\"SHA-1\");\n        key = sha.digest(key);\n        key = Arrays.copyOf(key,16);\n        SecretKeySpec sks = new SecretKeySpec(key, \"AES\");\n        Cipher cipher = Cipher.getInstance(\"AES\");\n        cipher.init(Cipher.ENCRYPT_MODE, sks);\n        CipherOutputStream cos = new CipherOutputStream(fos, cipher);\n        int b;\n        byte[] d = new byte[8];\n        while((b = fis.read(d)) != -1) {\n            cos.write(d, 0, b);\n        }\n        cos.flush();\n        cos.close();\n        fis.close();\n    }\n\n    public static void decrypt(String path,String password, String outPath) throws IOException, NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException {\n        FileInputStream fis = new FileInputStream(path);\n        FileOutputStream fos = new FileOutputStream(outPath);\n        byte[] key = (salt + password).getBytes(\"UTF-8\");\n        MessageDigest sha = MessageDigest.getInstance(\"SHA-1\");\n        key = sha.digest(key);\n        key = Arrays.copyOf(key,16);\n        SecretKeySpec sks = new SecretKeySpec(key, \"AES\");\n        Cipher cipher = Cipher.getInstance(\"AES\");\n        cipher.init(Cipher.DECRYPT_MODE, sks);\n        CipherInputStream cis = new CipherInputStream(fis, cipher);\n        int b;\n        byte[] d = new byte[8];\n        while((b = cis.read(d)) != -1) {\n            fos.write(d, 0, b);\n        }\n        fos.flush();\n        fos.close();\n        cis.close();\n    }\n\n}\n</code></pre>\n\n<p>I can iterate many times without an error!\nI'm using Oracle JDK 1.8 but running in 1.7 compatibility mode.</p>\n\n<p>Hope this helps you out.</p>\n\n<p>Bye\nPiero</p>\n"}],"owner":{"account_id":1122630,"reputation":233,"user_id":1480768,"accept_rate":67,"display_name":"Linux4Hope"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9043,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":28154780,"answer_count":1,"score":13,"last_activity_date":1654766915,"creation_date":1422032746,"question_id":28115035,"body_markdown":"So I am working on a personal project for myself, and I am trying to encrypt files on my phone. These files can be anything i.e Documents, photos, etc. Right now I am trying to get this working properly. When ever I run the encryption it seems to work properly and encrypt the files. When I run the decrypt, sometimes it works and other times it doesn&#39;t. When it fails I generally get a &quot;Error while finalizing cipher, pad block corrupted&quot; error. I&#39;m also not using different test files, so it isn&#39;t like some files work and others don&#39;t. It&#39;s the same two files I try each time. \r\n\r\n    public static void encryptfile(String path,String Pass) throws IOException, NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException {\r\n        FileInputStream fis = new FileInputStream(path);\r\n        FileOutputStream fos = new FileOutputStream(path.concat(&quot;.crypt&quot;));\r\n        byte[] key = (salt + Pass).getBytes(&quot;UTF-8&quot;);\r\n        MessageDigest sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n        key = sha.digest(key);\r\n        key = Arrays.copyOf(key,16);\r\n        SecretKeySpec sks = new SecretKeySpec(key, &quot;AES&quot;);\r\n        Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n        cipher.init(Cipher.ENCRYPT_MODE, sks);\r\n        CipherOutputStream cos = new CipherOutputStream(fos, cipher);\r\n        int b;\r\n        byte[] d = new byte[8];\r\n        while((b = fis.read(d)) != -1) {\r\n            cos.write(d, 0, b);\r\n        }\r\n        cos.flush();\r\n        cos.close();\r\n        fis.close();\r\n    }\r\n\r\n    public static void decrypt(String path,String Pass) throws IOException, NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException {\r\n        FileInputStream fis = new FileInputStream(path);\r\n        FileOutputStream fos = new FileOutputStream(path.replace(&quot;.crypt&quot;,&quot;&quot;));\r\n        byte[] key = (salt + Pass).getBytes(&quot;UTF-8&quot;);\r\n        MessageDigest sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n        key = sha.digest(key);\r\n        key = Arrays.copyOf(key,16);\r\n        SecretKeySpec sks = new SecretKeySpec(key, &quot;AES&quot;);\r\n        Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n        cipher.init(Cipher.DECRYPT_MODE, sks);\r\n        CipherInputStream cis = new CipherInputStream(fis, cipher);\r\n        int b;\r\n        byte[] d = new byte[8];\r\n        while((b = cis.read(d)) != -1) {\r\n            fos.write(d, 0, b);\r\n        }\r\n        fos.flush();\r\n        fos.close();\r\n        cis.close();\r\n    }\r\nCurrently the Salt and Password are static and do not change for testing purposes. Still get errors about half the time.\r\n\r\nDoes anyone have any ideas on why this happens? I have been searching around and I have found a couple things to try, none of which worked. I have looked through some of the following questions for solutions:\r\n\r\n\r\nhttps://stackoverflow.com/questions/26426151/android-decryption-error-while-finalizing-cipher\r\n\r\nhttps://stackoverflow.com/questions/12799726/last-block-incomplete-with-cipherinputstream-cipheroutputstream-even-with-paddi\r\n\r\nhttps://stackoverflow.com/questions/13383006/encryption-error-on-android-4-2\r\n\r\nhttps://stackoverflow.com/questions/11503157/decrypting-error-no-iv-set-when-one-expected\r\n\r\nhttps://stackoverflow.com/questions/4598873/how-to-handle-last-block-incomplete-in-decryption\r\n\r\nhttps://stackoverflow.com/questions/12136558/encryption-and-decryption-of-image-file\r\n\r\nhttps://stackoverflow.com/questions/13527521/tips-on-encryption-decryption-of-images-in-java-using-aes\r\n\r\n\r\nAny help is greatly appreciated! I think I am just missing something simple...\r\n\r\n\r\nUpdate! \r\n\r\nPeople were right when it was the salt. When I removed the salt, the problem was solved... Did a little more digging, turns out salt+Pass was the issues, but because the salt was a byte[] and Pass was a string. I changed salt to String and then used salt.concat(Pass) and the problem was solved!","title":"Encrypting files with AES on Android","body":"<p>So I am working on a personal project for myself, and I am trying to encrypt files on my phone. These files can be anything i.e Documents, photos, etc. Right now I am trying to get this working properly. When ever I run the encryption it seems to work properly and encrypt the files. When I run the decrypt, sometimes it works and other times it doesn't. When it fails I generally get a \"Error while finalizing cipher, pad block corrupted\" error. I'm also not using different test files, so it isn't like some files work and others don't. It's the same two files I try each time. </p>\n\n<pre><code>public static void encryptfile(String path,String Pass) throws IOException, NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException {\n    FileInputStream fis = new FileInputStream(path);\n    FileOutputStream fos = new FileOutputStream(path.concat(\".crypt\"));\n    byte[] key = (salt + Pass).getBytes(\"UTF-8\");\n    MessageDigest sha = MessageDigest.getInstance(\"SHA-1\");\n    key = sha.digest(key);\n    key = Arrays.copyOf(key,16);\n    SecretKeySpec sks = new SecretKeySpec(key, \"AES\");\n    Cipher cipher = Cipher.getInstance(\"AES\");\n    cipher.init(Cipher.ENCRYPT_MODE, sks);\n    CipherOutputStream cos = new CipherOutputStream(fos, cipher);\n    int b;\n    byte[] d = new byte[8];\n    while((b = fis.read(d)) != -1) {\n        cos.write(d, 0, b);\n    }\n    cos.flush();\n    cos.close();\n    fis.close();\n}\n\npublic static void decrypt(String path,String Pass) throws IOException, NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException {\n    FileInputStream fis = new FileInputStream(path);\n    FileOutputStream fos = new FileOutputStream(path.replace(\".crypt\",\"\"));\n    byte[] key = (salt + Pass).getBytes(\"UTF-8\");\n    MessageDigest sha = MessageDigest.getInstance(\"SHA-1\");\n    key = sha.digest(key);\n    key = Arrays.copyOf(key,16);\n    SecretKeySpec sks = new SecretKeySpec(key, \"AES\");\n    Cipher cipher = Cipher.getInstance(\"AES\");\n    cipher.init(Cipher.DECRYPT_MODE, sks);\n    CipherInputStream cis = new CipherInputStream(fis, cipher);\n    int b;\n    byte[] d = new byte[8];\n    while((b = cis.read(d)) != -1) {\n        fos.write(d, 0, b);\n    }\n    fos.flush();\n    fos.close();\n    cis.close();\n}\n</code></pre>\n\n<p>Currently the Salt and Password are static and do not change for testing purposes. Still get errors about half the time.</p>\n\n<p>Does anyone have any ideas on why this happens? I have been searching around and I have found a couple things to try, none of which worked. I have looked through some of the following questions for solutions:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/26426151/android-decryption-error-while-finalizing-cipher\">Android decryption: Error while finalizing cipher</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/12799726/last-block-incomplete-with-cipherinputstream-cipheroutputstream-even-with-paddi\">last block incomplete with CipherInputStream/CipherOutputStream, even with padding AES/CBC/PKCS5Padding</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/13383006/encryption-error-on-android-4-2\">Encryption error on Android 4.2</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/11503157/decrypting-error-no-iv-set-when-one-expected\">Decrypting error : &quot;no iv set when one expected&quot;</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/4598873/how-to-handle-last-block-incomplete-in-decryption\">How to handle &quot;last block incomplete in decryption&quot;</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/12136558/encryption-and-decryption-of-image-file\">Encryption and decryption of image file</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/13527521/tips-on-encryption-decryption-of-images-in-java-using-aes\">Tips on encryption/decryption of images in java using AES</a></p>\n\n<p>Any help is greatly appreciated! I think I am just missing something simple...</p>\n\n<p>Update! </p>\n\n<p>People were right when it was the salt. When I removed the salt, the problem was solved... Did a little more digging, turns out salt+Pass was the issues, but because the salt was a byte[] and Pass was a string. I changed salt to String and then used salt.concat(Pass) and the problem was solved!</p>\n"},{"tags":["java","docker","jenkins","integration","addition"],"comments":[{"owner":{"account_id":4866881,"reputation":20471,"user_id":3924803,"display_name":"Hans Kilian"},"score":0,"creation_date":1646655811,"post_id":71380746,"comment_id":126169534,"body_markdown":"It complains because `target/maven-dev.jar` doesn&#39;t exist on the host computer. It&#39;s hard for us to say why it isn&#39;t there without more information.","body":"It complains because <code>target&#47;maven-dev.jar</code> doesn&#39;t exist on the host computer. It&#39;s hard for us to say why it isn&#39;t there without more information."},{"owner":{"account_id":6144394,"reputation":631,"user_id":4790754,"display_name":"Arfat Binkileb"},"score":0,"creation_date":1646656199,"post_id":71380746,"comment_id":126169683,"body_markdown":"Can post your Jenkinsfile or pipeline script? It hard to pin down exact cause","body":"Can post your Jenkinsfile or pipeline script? It hard to pin down exact cause"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646658414,"post_id":71380746,"comment_id":126170551,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":24479069,"reputation":1,"user_id":18397738,"display_name":"surbhi jaiswal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654766830,"creation_date":1646654370,"question_id":71380746,"body_markdown":"ADD target/maven-dev.jar maven dev.jar\r\nADD failed: file not found in build context or excluded by .dockerignore: stat target/maven-dev.jar: file does not exist\r\nBuild step &#39;Docker Build and Publish&#39; marked build as failure\r\nFinished: FAILURE\r\nintegrating docker with Jenkins.\r\nhow to solve this?","title":"ADD failed while integrating docker with jenkins","body":"<p>ADD target/maven-dev.jar maven dev.jar\nADD failed: file not found in build context or excluded by .dockerignore: stat target/maven-dev.jar: file does not exist\nBuild step 'Docker Build and Publish' marked build as failure\nFinished: FAILURE\nintegrating docker with Jenkins.\nhow to solve this?</p>\n"},{"tags":["java","junit","delimiter","junitparams"],"comments":[{"owner":{"display_name":"user180100"},"score":0,"creation_date":1443193145,"post_id":32784774,"comment_id":53408828,"body_markdown":"You could work around using [this syntax](https://github.com/Pragmatists/JUnitParams/blob/master/src/test/java/junitparams/usage/Samples_of_Usage_Test.java#L34)","body":"You could work around using <a href=\"https://github.com/Pragmatists/JUnitParams/blob/master/src/test/java/junitparams/usage/Samples_of_Usage_Test.java#L34\" rel=\"nofollow noreferrer\">this syntax</a>"},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1443193213,"post_id":32784774,"comment_id":53408870,"body_markdown":"I would also try escaping the pipe with &quot;\\\\&quot;, see [this sample](https://github.com/Pragmatists/JUnitParams/blob/master/src/test/java/junitparams/usage/Samples_of_Usage_Test.java#L114)","body":"I would also try escaping the pipe with &quot;\\\\&quot;, see <a href=\"https://github.com/Pragmatists/JUnitParams/blob/master/src/test/java/junitparams/usage/Samples_of_Usage_Test.java#L114\" rel=\"nofollow noreferrer\">this sample</a>"},{"owner":{"account_id":6952128,"reputation":890,"user_id":5334435,"accept_rate":50,"display_name":"GaspardP"},"score":0,"creation_date":1443193829,"post_id":32784774,"comment_id":53409281,"body_markdown":"I tried this syntax, still does not work.\n\nnow I&#39;m using Parameterized instead of JunitParams.\n\nit&#39;s working, but the argument are for all the JunitClass (so i had to create a new class).\n\nThe &quot;\\\\&quot; works.\nBut because my parameters are hard to read (full of | and ~ and other special characters), I&#39;d prefered not to add a lot of escaping character in my input sets.\n\nBut yes, it&#39;s working.","body":"I tried this syntax, still does not work.  now I&#39;m using Parameterized instead of JunitParams.  it&#39;s working, but the argument are for all the JunitClass (so i had to create a new class).  The &quot;\\\\&quot; works. But because my parameters are hard to read (full of | and ~ and other special characters), I&#39;d prefered not to add a lot of escaping character in my input sets.  But yes, it&#39;s working."}],"answers":[{"tags":[],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458326854,"creation_date":1443264867,"answer_id":32796386,"question_id":32784774,"body_markdown":"you can check [zohhak][1]. it&#39;s similar to junit params but gives you much more flexibility around parsing parameters. looks like it may help significantly in dealing with &#39;hard to read&#39; parameters. examples from the docs:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @TestWith(value=&quot;7 | 19, 23&quot;, separator=&quot;[\\\\|,]&quot;)\r\n    public void mixedSeparators(int i, int j, int k) {\r\n        assertThat(i).isEqualTo(7);\r\n        assertThat(j).isEqualTo(19);\r\n        assertThat(k).isEqualTo(23);\r\n    }\r\n    \r\n    @TestWith(value=&quot; 7 = 7 &gt; 5 =&gt; true&quot;, separator=&quot;=&gt;&quot;)\r\n    public void multiCharSeparator(String string, boolean bool) {\r\n        assertThat(string).isEqualTo(&quot;7 = 7 &gt; 5&quot;);\r\n        assertThat(bool).isTrue();\r\n    }\r\n\r\n  [1]: https://github.com/piotrturski/zohhak","title":"Using &quot;Comma&quot; or &quot;pipe&quot; within JunitParams","body":"<p>you can check <a href=\"https://github.com/piotrturski/zohhak\" rel=\"nofollow\">zohhak</a>. it's similar to junit params but gives you much more flexibility around parsing parameters. looks like it may help significantly in dealing with 'hard to read' parameters. examples from the docs:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@TestWith(value=\"7 | 19, 23\", separator=\"[\\\\|,]\")\npublic void mixedSeparators(int i, int j, int k) {\n    assertThat(i).isEqualTo(7);\n    assertThat(j).isEqualTo(19);\n    assertThat(k).isEqualTo(23);\n}\n\n@TestWith(value=\" 7 = 7 &gt; 5 =&gt; true\", separator=\"=&gt;\")\npublic void multiCharSeparator(String string, boolean bool) {\n    assertThat(string).isEqualTo(\"7 = 7 &gt; 5\");\n    assertThat(bool).isTrue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":399073,"reputation":828,"user_id":3617482,"display_name":"Sebastian P."},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1471010895,"creation_date":1471010895,"answer_id":38920045,"question_id":32784774,"body_markdown":"I did not find an option to configure the separator chars, but these chars do not need to be escaped if you provide your data in an `Object[][]`.\r\n\r\nConsider the following example:\r\n\r\n    public static Object[][] provideParameters() {\r\n       return new Object[][] {\r\n\t\t\tnew Object[] {&quot;A,B|C&quot;}\r\n\t\t};\r\n    }\r\n\r\nBoth `,` and `|` can be directly used, which significantly improves the readability of your tests.\r\n\r\nAnnotate your test with `@Parameters(method = &quot;provideParameters&quot;)` to make use of this test factory. You can even move the factory to another class (e.g., `@Parameters(source = Other.class, method = &quot;provideParameters&quot;)`).","title":"Using &quot;Comma&quot; or &quot;pipe&quot; within JunitParams","body":"<p>I did not find an option to configure the separator chars, but these chars do not need to be escaped if you provide your data in an <code>Object[][]</code>.</p>\n\n<p>Consider the following example:</p>\n\n<pre><code>public static Object[][] provideParameters() {\n   return new Object[][] {\n        new Object[] {\"A,B|C\"}\n    };\n}\n</code></pre>\n\n<p>Both <code>,</code> and <code>|</code> can be directly used, which significantly improves the readability of your tests.</p>\n\n<p>Annotate your test with <code>@Parameters(method = \"provideParameters\")</code> to make use of this test factory. You can even move the factory to another class (e.g., <code>@Parameters(source = Other.class, method = \"provideParameters\")</code>).</p>\n"},{"tags":[],"owner":{"account_id":8414320,"reputation":4785,"user_id":6315242,"display_name":"Per Huss"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1506519952,"creation_date":1506519952,"answer_id":46449537,"question_id":32784774,"body_markdown":"You can indeed escape the pipe with double backslashes:\r\n\r\n    @Parameters(&quot;AA\\\\|BBB&quot;)\r\n    public void test(String value)\r\n","title":"Using &quot;Comma&quot; or &quot;pipe&quot; within JunitParams","body":"<p>You can indeed escape the pipe with double backslashes:</p>\n\n<pre><code>@Parameters(\"AA\\\\|BBB\")\npublic void test(String value)\n</code></pre>\n"}],"owner":{"account_id":6952128,"reputation":890,"user_id":5334435,"accept_rate":50,"display_name":"GaspardP"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3005,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1654766486,"creation_date":1443192252,"question_id":32784774,"body_markdown":"I&#39;m trying to  use JunitParams in order to parametrized my tests. But my main problem is that the parameters are strings with special characters, tilde or pipe.\r\n\r\n    import org.junit.Rule;\r\n    import org.junit.Test;\r\n    import org.junit.rules.ExpectedException;\r\n    import org.junit.runner.RunWith;\r\n    \r\n    import junitparams.JUnitParamsRunner;\r\n    import junitparams.Parameters;\r\n    \r\n    @RunWith(JUnitParamsRunner.class)\r\n    public class TheClassTest {\r\n    \r\n        @Rule\r\n        public ExpectedException exception = ExpectedException.none();\r\n    \r\n         @Test\r\n         @Parameters({&quot;AA~BBB&quot;})\r\n         public void shouldTestThemethod(String value) throws Exception {\r\n            exception.expect(TheException.class);\r\n    \r\n            TheClass.theMethod(value);     \r\n            // Throw an exception if value like &quot;A|B&quot; or &quot;A~B&quot;,\r\n            // ie if value contain a ~ or a |\r\n        }\r\n    }\r\n\r\nWith tilde, I have no problem.\r\nBut with pipe, I have an exception:\r\n\r\n    java.lang.IllegalArgumentException: wrong number of arguments\r\n\t\r\nThe pipe, as the comma, is used as a separator for parameters.\r\n\r\nIs there any way for me to set a different separator? \r\nOr is this a limitation of JunitParams?","title":"Using &quot;Comma&quot; or &quot;pipe&quot; within JunitParams","body":"<p>I'm trying to  use JunitParams in order to parametrized my tests. But my main problem is that the parameters are strings with special characters, tilde or pipe.</p>\n\n<pre><code>import org.junit.Rule;\nimport org.junit.Test;\nimport org.junit.rules.ExpectedException;\nimport org.junit.runner.RunWith;\n\nimport junitparams.JUnitParamsRunner;\nimport junitparams.Parameters;\n\n@RunWith(JUnitParamsRunner.class)\npublic class TheClassTest {\n\n    @Rule\n    public ExpectedException exception = ExpectedException.none();\n\n     @Test\n     @Parameters({\"AA~BBB\"})\n     public void shouldTestThemethod(String value) throws Exception {\n        exception.expect(TheException.class);\n\n        TheClass.theMethod(value);     \n        // Throw an exception if value like \"A|B\" or \"A~B\",\n        // ie if value contain a ~ or a |\n    }\n}\n</code></pre>\n\n<p>With tilde, I have no problem.\nBut with pipe, I have an exception:</p>\n\n<pre><code>java.lang.IllegalArgumentException: wrong number of arguments\n</code></pre>\n\n<p>The pipe, as the comma, is used as a separator for parameters.</p>\n\n<p>Is there any way for me to set a different separator? \nOr is this a limitation of JunitParams?</p>\n"},{"tags":["java","arrays","split"],"comments":[{"owner":{"account_id":2468174,"reputation":9217,"user_id":2150749,"accept_rate":100,"display_name":"Jashaszun"},"score":4,"creation_date":1374879379,"post_id":17892284,"comment_id":26131448,"body_markdown":"Have you tried writing a function yourself to parse/split it?","body":"Have you tried writing a function yourself to parse/split it?"},{"owner":{"account_id":2592202,"reputation":7631,"user_id":2246674,"display_name":"user2246674"},"score":0,"creation_date":1374879433,"post_id":17892284,"comment_id":26131468,"body_markdown":"One approach that might be useful is to first change `0,0,1,2,4,5,3,4,6` into `0,0,1|2,4,5|3,4,6` which is a fairly simple regular expression replace translation. Or, just use a Matcher directly and walk it incrementally [as shown here](http://stackoverflow.com/a/1277171/2246674).","body":"One approach that might be useful is to first change <code>0,0,1,2,4,5,3,4,6</code> into <code>0,0,1|2,4,5|3,4,6</code> which is a fairly simple regular expression replace translation. Or, just use a Matcher directly and walk it incrementally <a href=\"http://stackoverflow.com/a/1277171/2246674\">as shown here</a>."},{"owner":{"account_id":2237265,"reputation":26976,"user_id":1973271,"accept_rate":100,"display_name":"flup"},"score":0,"creation_date":1374879683,"post_id":17892284,"comment_id":26131572,"body_markdown":"Two ways I can think of: use `indexOf` in a while loop or split on `,` and then glue the results back together again in groups of three.","body":"Two ways I can think of: use <code>indexOf</code> in a while loop or split on <code>,</code> and then glue the results back together again in groups of three."}],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":1,"up_vote_count":24,"is_accepted":true,"score":23,"last_activity_date":1651878118,"creation_date":1374879881,"answer_id":17892392,"question_id":17892284,"body_markdown":"NOTE: while solution using `split` may work (last test on Java 17) ***it is based on bug*** since look-ahead in Java should have *obvious* maximum length. This limitation should theoretically prevent us from using `+` but somehow `\\G` at start lets us use `+` here. **In the future this bug may be fixed which means that `split` will stop working.** \r\n\r\nSafer approach would be using `Matcher#find` like\r\n\r\n    String data = &quot;0,0,1,2,4,5,3,4,6&quot;;\r\n    Pattern p = Pattern.compile(&quot;\\\\d+,\\\\d+,\\\\d+&quot;);//no look-ahead needed\r\n    Matcher m = p.matcher(data);\r\n    List&lt;String&gt; parts = new ArrayList&lt;&gt;();\r\n    while(m.find()){\r\n        parts.add(m.group());\r\n    }\r\n    String[] result = parts.toArray(new String[0]);\r\n\r\n\r\n--- \r\n\r\nYou can try to use `split` method with `(?&lt;=\\\\G\\\\d+,\\\\d+,\\\\d+),` regex\r\n\r\nDemo\r\n\r\n\tString data = &quot;0,0,1,2,4,5,3,4,6&quot;;\r\n\tString[] array = data.split(&quot;(?&lt;=\\\\G\\\\d+,\\\\d+,\\\\d+),&quot;); //Magic :) \r\n\t// to reveal magic see explanation below answer\r\n\tfor(String s : array){\r\n\t\tSystem.out.println(s);\r\n\t}\r\n\r\noutput:\r\n\r\n    0,0,1\r\n    2,4,5\r\n    3,4,6\r\n\r\nExplanation\r\n\r\n - `\\\\d` means one digit, same as [0-9], like `0` or `3`\r\n - `\\\\d+` means one or more digits like `1` or `23`\r\n - `\\\\d+,` means one or more digits with comma after it, like `1,` or `234,` \r\n - `\\\\d+,\\\\d+,\\\\d+` will accept three numbers with commas between them like `12,3,456`\r\n - `\\\\G` means last match, or if there is none (in case of first usage) start of the string\r\n - `(?&lt;=...),` is [positive look-behind](http://www.regular-expressions.info/lookaround.html#lookbehind) which will match comma `,` that has also some string described in `(?&lt;=...)` before it\r\n - `(?&lt;=\\\\G\\\\d+,\\\\d+,\\\\d+),` so will try to find comma that has three numbers before it, and these numbers have aether start of the string before it (like `^0,0,1` in your example) or previously matched comma, like `2,4,5` and `3,4,6`.\r\n\r\n---\r\nAlso in case you want to use other characters then digits you can also use other set of characters like\r\n\r\n - `\\\\w` which will match alphabetic characters, digits and `_`\r\n - `\\\\S` everything that is not white space\r\n - `[^,]` everything that is not comma\r\n - ... and so on. More info in [Pattern documentation](http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html)\r\n\r\n---\r\nBy the way, this form will work with split on every 3rd, 5th, 7th, (and other odd numbers) comma, like `split(&quot;(?&lt;=\\\\G\\\\w+,\\\\w+,\\\\w+,\\\\w+,\\\\w+),&quot;)` will split on every 5th comma. \r\n\r\nTo split on every 2nd, 4th, 6th, 8th (and rest of even numbers) comma you will need to replace `+` with `{1,maxLengthOfNumber}` like `split(&quot;(?&lt;=\\\\G\\\\w{1,3},\\\\w{1,3},\\\\w{1,3},\\\\w{1,3}),&quot;)` to split on every 4th comma when numbers can have max 3 digits (0, 00, 12, 000, 123, 412, 999).\r\n\r\nTo split on every 2nd comma you can also use this regex `split(&quot;(?&lt;!\\\\G\\\\d+),&quot;)` based on my [previous answer](https://stackoverflow.com/a/16486373/1393766)","title":"Split a String at every 3rd comma in Java","body":"<p>NOTE: while solution using <code>split</code> may work (last test on Java 17) <em><strong>it is based on bug</strong></em> since look-ahead in Java should have <em>obvious</em> maximum length. This limitation should theoretically prevent us from using <code>+</code> but somehow <code>\\G</code> at start lets us use <code>+</code> here. <strong>In the future this bug may be fixed which means that <code>split</code> will stop working.</strong></p>\n<p>Safer approach would be using <code>Matcher#find</code> like</p>\n<pre><code>String data = &quot;0,0,1,2,4,5,3,4,6&quot;;\nPattern p = Pattern.compile(&quot;\\\\d+,\\\\d+,\\\\d+&quot;);//no look-ahead needed\nMatcher m = p.matcher(data);\nList&lt;String&gt; parts = new ArrayList&lt;&gt;();\nwhile(m.find()){\n    parts.add(m.group());\n}\nString[] result = parts.toArray(new String[0]);\n</code></pre>\n<hr />\n<p>You can try to use <code>split</code> method with <code>(?&lt;=\\\\G\\\\d+,\\\\d+,\\\\d+),</code> regex</p>\n<p>Demo</p>\n<pre><code>String data = &quot;0,0,1,2,4,5,3,4,6&quot;;\nString[] array = data.split(&quot;(?&lt;=\\\\G\\\\d+,\\\\d+,\\\\d+),&quot;); //Magic :) \n// to reveal magic see explanation below answer\nfor(String s : array){\n    System.out.println(s);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>0,0,1\n2,4,5\n3,4,6\n</code></pre>\n<p>Explanation</p>\n<ul>\n<li><code>\\\\d</code> means one digit, same as [0-9], like <code>0</code> or <code>3</code></li>\n<li><code>\\\\d+</code> means one or more digits like <code>1</code> or <code>23</code></li>\n<li><code>\\\\d+,</code> means one or more digits with comma after it, like <code>1,</code> or <code>234,</code></li>\n<li><code>\\\\d+,\\\\d+,\\\\d+</code> will accept three numbers with commas between them like <code>12,3,456</code></li>\n<li><code>\\\\G</code> means last match, or if there is none (in case of first usage) start of the string</li>\n<li><code>(?&lt;=...),</code> is <a href=\"http://www.regular-expressions.info/lookaround.html#lookbehind\" rel=\"nofollow noreferrer\">positive look-behind</a> which will match comma <code>,</code> that has also some string described in <code>(?&lt;=...)</code> before it</li>\n<li><code>(?&lt;=\\\\G\\\\d+,\\\\d+,\\\\d+),</code> so will try to find comma that has three numbers before it, and these numbers have aether start of the string before it (like <code>^0,0,1</code> in your example) or previously matched comma, like <code>2,4,5</code> and <code>3,4,6</code>.</li>\n</ul>\n<hr />\n<p>Also in case you want to use other characters then digits you can also use other set of characters like</p>\n<ul>\n<li><code>\\\\w</code> which will match alphabetic characters, digits and <code>_</code></li>\n<li><code>\\\\S</code> everything that is not white space</li>\n<li><code>[^,]</code> everything that is not comma</li>\n<li>... and so on. More info in <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Pattern documentation</a></li>\n</ul>\n<hr />\n<p>By the way, this form will work with split on every 3rd, 5th, 7th, (and other odd numbers) comma, like <code>split(&quot;(?&lt;=\\\\G\\\\w+,\\\\w+,\\\\w+,\\\\w+,\\\\w+),&quot;)</code> will split on every 5th comma.</p>\n<p>To split on every 2nd, 4th, 6th, 8th (and rest of even numbers) comma you will need to replace <code>+</code> with <code>{1,maxLengthOfNumber}</code> like <code>split(&quot;(?&lt;=\\\\G\\\\w{1,3},\\\\w{1,3},\\\\w{1,3},\\\\w{1,3}),&quot;)</code> to split on every 4th comma when numbers can have max 3 digits (0, 00, 12, 000, 123, 412, 999).</p>\n<p>To split on every 2nd comma you can also use this regex <code>split(&quot;(?&lt;!\\\\G\\\\d+),&quot;)</code> based on my <a href=\"https://stackoverflow.com/a/16486373/1393766\">previous answer</a></p>\n"},{"tags":[],"owner":{"account_id":2894105,"reputation":2151,"user_id":2482265,"accept_rate":96,"display_name":"Adam Knights"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1374910292,"creation_date":1374880610,"answer_id":17892499,"question_id":17892284,"body_markdown":"Try something like the below:\r\n\r\n    public String[] mySplitIntoThree(String str) \r\n    {\r\n        String[] parts = str.split(&quot;,&quot;);\r\n\r\n        List&lt;String&gt; strList = new ArrayList&lt;String&gt;();\r\n    \r\n        for(int x = 0; x &lt; parts.length - 2; x = x+3) \r\n        {\r\n            String tmpStr = parts[x] + &quot;,&quot; + parts[x+1] + &quot;,&quot; + parts[x+2];\r\n    \r\n            strList.add(tmpStr);\r\n        }\r\n    \r\n        return strList.toArray(new String[strList.size()]);\r\n    }\r\n\r\n(You may need to import java.util.ArrayList and java.util.List)","title":"Split a String at every 3rd comma in Java","body":"<p>Try something like the below:</p>\n\n<pre><code>public String[] mySplitIntoThree(String str) \n{\n    String[] parts = str.split(\",\");\n\n    List&lt;String&gt; strList = new ArrayList&lt;String&gt;();\n\n    for(int x = 0; x &lt; parts.length - 2; x = x+3) \n    {\n        String tmpStr = parts[x] + \",\" + parts[x+1] + \",\" + parts[x+2];\n\n        strList.add(tmpStr);\n    }\n\n    return strList.toArray(new String[strList.size()]);\n}\n</code></pre>\n\n<p>(You may need to import java.util.ArrayList and java.util.List)</p>\n"},{"tags":[],"owner":{"account_id":2237265,"reputation":26976,"user_id":1973271,"accept_rate":100,"display_name":"flup"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1374918835,"creation_date":1374881155,"answer_id":17892583,"question_id":17892284,"body_markdown":"Nice one for the coding dojo! Here&#39;s my good old-fashioned C-style answer:\r\n\r\nIf we call the bits between commas &#39;parts&#39;, and the results that get split off &#39;substrings&#39; then:\r\n\r\n`n` is the amount of parts found so far, \r\n`i` is the start of the next part, \r\n`startIndex` the start of the current substring\r\n\r\nIterate over the parts, every third part: chop off a substring.\r\n\r\nAdd the leftover part at the end to the result when you run out of commas.\r\n\r\n    List&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n    int startIndex = 0;\r\n    int n = 0;\r\n    for (int i = x.indexOf(&#39;,&#39;) + 1; i &gt; 0; i = x.indexOf(&#39;,&#39;, i) + 1, n++) {\r\n    \tif (n % 3 == 2) {\r\n    \t\tresult.add(x.substring(startIndex, i - 1));\r\n    \t\tstartIndex = i;\r\n    \t}\r\n    }\r\n    result.add(x.substring(startIndex));","title":"Split a String at every 3rd comma in Java","body":"<p>Nice one for the coding dojo! Here's my good old-fashioned C-style answer:</p>\n\n<p>If we call the bits between commas 'parts', and the results that get split off 'substrings' then:</p>\n\n<p><code>n</code> is the amount of parts found so far, \n<code>i</code> is the start of the next part, \n<code>startIndex</code> the start of the current substring</p>\n\n<p>Iterate over the parts, every third part: chop off a substring.</p>\n\n<p>Add the leftover part at the end to the result when you run out of commas.</p>\n\n<pre><code>List&lt;String&gt; result = new ArrayList&lt;String&gt;();\nint startIndex = 0;\nint n = 0;\nfor (int i = x.indexOf(',') + 1; i &gt; 0; i = x.indexOf(',', i) + 1, n++) {\n    if (n % 3 == 2) {\n        result.add(x.substring(startIndex, i - 1));\n        startIndex = i;\n    }\n}\nresult.add(x.substring(startIndex));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1474476810,"creation_date":1374882252,"answer_id":17892708,"question_id":17892284,"body_markdown":"Obligatory [Guava][1] answer:\r\n\r\n    String input = &quot;0,0,1,2,4,5,3,4,6&quot;;\r\n    String delimiter = &quot;,&quot;;\r\n    int partitionSize = 3;\r\n\r\n    for (Iterable&lt;String&gt; iterable : Iterables.partition(Splitter.on(delimiter).split(s), partitionSize)) {\r\n        System.out.println(Joiner.on(delimiter).join(iterable));\r\n    }\r\n\r\nOutputs:\r\n\r\n    0,0,1\r\n    2,4,5\r\n    3,4,6\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Iterables.html#partition(java.lang.Iterable,%20int)","title":"Split a String at every 3rd comma in Java","body":"<p>Obligatory <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Iterables.html#partition(java.lang.Iterable,%20int)\" rel=\"nofollow\">Guava</a> answer:</p>\n\n<pre><code>String input = \"0,0,1,2,4,5,3,4,6\";\nString delimiter = \",\";\nint partitionSize = 3;\n\nfor (Iterable&lt;String&gt; iterable : Iterables.partition(Splitter.on(delimiter).split(s), partitionSize)) {\n    System.out.println(Joiner.on(delimiter).join(iterable));\n}\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>0,0,1\n2,4,5\n3,4,6\n</code></pre>\n"}],"owner":{"account_id":1726057,"reputation":475,"user_id":1580690,"accept_rate":33,"display_name":"knurb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9460,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":17892392,"answer_count":4,"score":8,"last_activity_date":1654766065,"creation_date":1374879315,"question_id":17892284,"body_markdown":"I have a string that looks like this:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    0,0,1,2,4,5,3,4,6\r\n\r\nWhat I want returned is a `String[]` that was split after every 3rd comma, so the result would look like this:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    [ &quot;0,0,1&quot;, &quot;2,4,5&quot;, &quot;3,4,6&quot; ]\r\n\r\nI have found similar functions but they don&#39;t split at n-th amount of commas.","title":"Split a String at every 3rd comma in Java","body":"<p>I have a string that looks like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>0,0,1,2,4,5,3,4,6\n</code></pre>\n\n<p>What I want returned is a <code>String[]</code> that was split after every 3rd comma, so the result would look like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[ \"0,0,1\", \"2,4,5\", \"3,4,6\" ]\n</code></pre>\n\n<p>I have found similar functions but they don't split at n-th amount of commas.</p>\n"},{"tags":["java","simpledateformat","date-parsing"],"comments":[{"owner":{"account_id":2525316,"reputation":1225,"user_id":2194806,"display_name":"Srinivasu"},"score":1,"creation_date":1423907718,"post_id":28514346,"comment_id":45346499,"body_markdown":"Is date also  consist of 1st, 2nd, 3rd..???","body":"Is date also  consist of 1st, 2nd, 3rd..???"},{"owner":{"account_id":5457517,"reputation":645,"user_id":4340496,"accept_rate":79,"display_name":"hao"},"score":0,"creation_date":1423907745,"post_id":28514346,"comment_id":45346506,"body_markdown":"yes like a normal calendar","body":"yes like a normal calendar"},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1423907896,"post_id":28514346,"comment_id":45346535,"body_markdown":"Try http://stackoverflow.com/questions/4011075/how-do-you-format-the-day-of-the-month-to-say-11th-21st-or-23rd-in-java","body":"Try <a href=\"http://stackoverflow.com/questions/4011075/how-do-you-format-the-day-of-the-month-to-say-11th-21st-or-23rd-in-java\" title=\"how do you format the day of the month to say 11th 21st or 23rd in java\">stackoverflow.com/questions/4011075/&hellip;</a>"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1423908124,"post_id":28514346,"comment_id":45346579,"body_markdown":"@Tom I think he needs the reverse operation","body":"@Tom I think he needs the reverse operation"},{"owner":{"account_id":5457517,"reputation":645,"user_id":4340496,"accept_rate":79,"display_name":"hao"},"score":0,"creation_date":1423908186,"post_id":28514346,"comment_id":45346590,"body_markdown":"not exactly the same, I want to parse the ordinal numbers to just numbers... the post wants it the other way round....","body":"not exactly the same, I want to parse the ordinal numbers to just numbers... the post wants it the other way round...."},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1423908480,"post_id":28514346,"comment_id":45346656,"body_markdown":"@hao Well, then keep that in mind, if you like to do that in this &quot;direction&quot; :D. Try `dateString.replaceAll(&quot;st|nd|rd|th&quot;, &quot;&quot;)` for your case. This will cut off the unparsable words (like in Bohemians answers).","body":"@hao Well, then keep that in mind, if you like to do that in this &quot;direction&quot; :D. Try <code>dateString.replaceAll(&quot;st|nd|rd|th&quot;, &quot;&quot;)</code> for your case. This will cut off the unparsable words (like in Bohemians answers)."},{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":1,"creation_date":1461320313,"post_id":28514346,"comment_id":61156806,"body_markdown":"The solution via String preprocessing as in accepted answer is fine as workaround, however formatting/printing would be more difficult. A comprehensive API-example for my library Time4J is used in this [demo](https://gist.github.com/MenoData/a133c20f54e2ee5eaa60656caccfdd11).","body":"The solution via String preprocessing as in accepted answer is fine as workaround, however formatting/printing would be more difficult. A comprehensive API-example for my library Time4J is used in this <a href=\"https://gist.github.com/MenoData/a133c20f54e2ee5eaa60656caccfdd11\" rel=\"nofollow noreferrer\">demo</a>."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1471132088,"creation_date":1423908391,"answer_id":28514476,"question_id":28514346,"body_markdown":"Java&#39;s SimpleDateFormat doesn&#39;t support an ordinal suffix, but the ordinal suffix is just eye candy - it is redundant and can easily be removed to allow a straightforward parse:\r\n\r\n    Date date = new SimpleDateFormat(&quot;MMM dd yyyy hh:mma&quot;)\r\n        .parse(str.replaceAll(&quot;(?&lt;=\\\\d)(st|nd|rd|th)&quot;, &quot;&quot;));\r\n\r\nThe replace regex is so simple because those sequences won&#39;t appear anywhere else in a valid date.\r\n\r\n---\r\n\r\nTo handle any language that appends any length of ordinal indicator characters from any language as a suffix:\r\n\r\n    Date date = new SimpleDateFormat(&quot;MMM dd yyyy hh:mma&quot;)\r\n        .parse(str.replaceAll(&quot;(?&lt;=\\\\d)(?=\\\\D* \\\\d+ )\\\\p{L}+&quot;, &quot;&quot;));\r\n\r\nSome languages, eg Mandarin, prepend their ordinal indicator, but that could be handled too using an alternation - left as an exercise for the reader :)","title":"Parsing a dates ordinal indicator ( st, nd, rd, th ) in a date-time string","body":"<p>Java's SimpleDateFormat doesn't support an ordinal suffix, but the ordinal suffix is just eye candy - it is redundant and can easily be removed to allow a straightforward parse:</p>\n\n<pre><code>Date date = new SimpleDateFormat(\"MMM dd yyyy hh:mma\")\n    .parse(str.replaceAll(\"(?&lt;=\\\\d)(st|nd|rd|th)\", \"\"));\n</code></pre>\n\n<p>The replace regex is so simple because those sequences won't appear anywhere else in a valid date.</p>\n\n<hr>\n\n<p>To handle any language that appends any length of ordinal indicator characters from any language as a suffix:</p>\n\n<pre><code>Date date = new SimpleDateFormat(\"MMM dd yyyy hh:mma\")\n    .parse(str.replaceAll(\"(?&lt;=\\\\d)(?=\\\\D* \\\\d+ )\\\\p{L}+\", \"\"));\n</code></pre>\n\n<p>Some languages, eg Mandarin, prepend their ordinal indicator, but that could be handled too using an alternation - left as an exercise for the reader :)</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1588446948,"creation_date":1495790696,"answer_id":44198044,"question_id":28514346,"body_markdown":"Java 8 answer (and Java 6 and 7) (because when this question was asked in 2015, the replacement for `SimpleDateFormat` was already out):\r\n\r\n\t\tDateTimeFormatter parseFormatter = DateTimeFormatter\r\n\t\t\t\t.ofPattern(&quot;MMM d[&#39;st&#39;][&#39;nd&#39;][&#39;rd&#39;][&#39;th&#39;] uuuu h:mma&quot;, Locale.ENGLISH);\r\n\t\tLocalDateTime dateTime = LocalDateTime.parse(dateTimeString, parseFormatter);\r\n\r\nWith the sample date from the question this yiedls:\r\n\r\n    2015-02-13T09:00\r\n\r\nIn the format pattern `[]` denotes optional parts and `&#39;&#39;` denotes literal parts. So the pattern says that the number may be followed by `st`, `nd`, `rd` or `th`.\r\n\r\nTo use this in Java 6 or 7 you need [ThreeTen Backport](http://www.threeten.org/threetenbp/). Or for Android [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP).\r\n\r\nSince those suffixes are special for English, and other languages/locales have completely other usages for writing dates and times (also they dont use AM/PM), I believe that unless you have other requirements, you should try to implement this for English dates and times only. Also you should give an English speaking locale explicitly so it will work independently of the locale setting of your computer or JVM.\r\n\r\nI have tried to combine the best parts of answers by [Hugo](https://stackoverflow.com/a/44190471/5772882) and [myself](https://stackoverflow.com/a/44188524/5772882) to a duplicate question. Under [that duplicate question](https://stackoverflow.com/questions/44185762/how-to-convert-the-date-value-26th-may-2017-to-26-05-2017) there are still more java 8 answers. One limitation of the above code is it doesnt have very strict validation: you will get away with `Feb 13rd` and even `Feb 13stndrdth`.\r\n\r\nEdit: My own favourite among my answers on ordinal indicators is [this one](https://stackoverflow.com/a/50369812/5772882). Its about formatting, but the formatter I present there works fine for parsing too.","title":"Parsing a dates ordinal indicator ( st, nd, rd, th ) in a date-time string","body":"<p>Java 8 answer (and Java 6 and 7) (because when this question was asked in 2015, the replacement for <code>SimpleDateFormat</code> was already out):</p>\n\n<pre><code>    DateTimeFormatter parseFormatter = DateTimeFormatter\n            .ofPattern(\"MMM d['st']['nd']['rd']['th'] uuuu h:mma\", Locale.ENGLISH);\n    LocalDateTime dateTime = LocalDateTime.parse(dateTimeString, parseFormatter);\n</code></pre>\n\n<p>With the sample date from the question this yiedls:</p>\n\n<pre><code>2015-02-13T09:00\n</code></pre>\n\n<p>In the format pattern <code>[]</code> denotes optional parts and <code>''</code> denotes literal parts. So the pattern says that the number may be followed by <code>st</code>, <code>nd</code>, <code>rd</code> or <code>th</code>.</p>\n\n<p>To use this in Java 6 or 7 you need <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport</a>. Or for Android <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>.</p>\n\n<p>Since those suffixes are special for English, and other languages/locales have completely other usages for writing dates and times (also they dont use AM/PM), I believe that unless you have other requirements, you should try to implement this for English dates and times only. Also you should give an English speaking locale explicitly so it will work independently of the locale setting of your computer or JVM.</p>\n\n<p>I have tried to combine the best parts of answers by <a href=\"https://stackoverflow.com/a/44190471/5772882\">Hugo</a> and <a href=\"https://stackoverflow.com/a/44188524/5772882\">myself</a> to a duplicate question. Under <a href=\"https://stackoverflow.com/questions/44185762/how-to-convert-the-date-value-26th-may-2017-to-26-05-2017\">that duplicate question</a> there are still more java 8 answers. One limitation of the above code is it doesnt have very strict validation: you will get away with <code>Feb 13rd</code> and even <code>Feb 13stndrdth</code>.</p>\n\n<p>Edit: My own favourite among my answers on ordinal indicators is <a href=\"https://stackoverflow.com/a/50369812/5772882\">this one</a>. Its about formatting, but the formatter I present there works fine for parsing too.</p>\n"},{"tags":[],"owner":{"account_id":2433959,"reputation":731,"user_id":2124309,"display_name":"Patrycja K"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1504261450,"creation_date":1504261450,"answer_id":45998181,"question_id":28514346,"body_markdown":"In case someone finds it useful: DateTimeFormatter builder. This formatter allows you to format and to parse UK dates with ordinal suffixes (eg. &quot;1st January 2017&quot;):\r\n\r\n    public class UkDateFormatterBuilder\r\n    {\r\n        /**\r\n         * The UK date formatter that formats a date without an offset, such as &#39;14th September 2020&#39; or &#39;1st January 2017&#39;.\r\n         * @return an immutable formatter which uses the {@link ResolverStyle#SMART SMART} resolver style. It has no override chronology or zone.\r\n         */\r\n        public DateTimeFormatter build()\r\n        {\r\n            return new DateTimeFormatterBuilder()\r\n                    .parseCaseInsensitive()\r\n                    .parseLenient()\r\n                    .appendText(DAY_OF_MONTH, dayOfMonthMapping())\r\n                    .appendLiteral(&#39; &#39;)\r\n                    .appendText(MONTH_OF_YEAR, monthOfYearMapping())\r\n                    .appendLiteral(&#39; &#39;)\r\n                    .appendValue(YEAR, 4)\r\n                    .toFormatter(Locale.UK);\r\n        }\r\n    \r\n        private Map&lt;Long, String&gt; monthOfYearMapping()\r\n        {\r\n            Map&lt;Long, String&gt; monthOfYearMapping = new HashMap&lt;&gt;();\r\n            monthOfYearMapping.put(1L, &quot;January&quot;);\r\n            monthOfYearMapping.put(2L, &quot;February&quot;);\r\n            monthOfYearMapping.put(3L, &quot;March&quot;);\r\n            monthOfYearMapping.put(4L, &quot;April&quot;);\r\n            monthOfYearMapping.put(5L, &quot;May&quot;);\r\n            monthOfYearMapping.put(6L, &quot;June&quot;);\r\n            monthOfYearMapping.put(7L, &quot;July&quot;);\r\n            monthOfYearMapping.put(8L, &quot;August&quot;);\r\n            monthOfYearMapping.put(9L, &quot;September&quot;);\r\n            monthOfYearMapping.put(10L, &quot;October&quot;);\r\n            monthOfYearMapping.put(11L, &quot;November&quot;);\r\n            monthOfYearMapping.put(12L, &quot;December&quot;);\r\n            return monthOfYearMapping;\r\n        }\r\n    \r\n        private Map&lt;Long, String&gt; dayOfMonthMapping()\r\n        {\r\n            Map&lt;Long, String&gt; suffixes = new HashMap&lt;&gt;();\r\n            for (int day=1; day&lt;=31; day++)\r\n            {\r\n                suffixes.put((long)day, String.format(&quot;%s%s&quot;, (long) day, dayOfMonthSuffix(day)));\r\n            }\r\n            return suffixes;\r\n        }\r\n    \r\n        private String dayOfMonthSuffix(final int day)\r\n        {\r\n            Preconditions.checkArgument(day &gt;= 1 &amp;&amp; day &lt;= 31, &quot;Illegal day of month: &quot; + day);\r\n            if (day &gt;= 11 &amp;&amp; day &lt;= 13)\r\n            {\r\n                return &quot;th&quot;;\r\n            }\r\n            switch (day % 10)\r\n            {\r\n                case 1:  return &quot;st&quot;;\r\n                case 2:  return &quot;nd&quot;;\r\n                case 3:  return &quot;rd&quot;;\r\n                default: return &quot;th&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\nPlus a fragment of the test class:\r\n\r\n    public class UkDateFormatterBuilderTest\r\n    {\r\n        DateTimeFormatter formatter = new UkDateFormatterBuilder().build();\r\n    \r\n        @Test\r\n        public void shouldFormat1stJanuaryDate()\r\n        {\r\n            final LocalDate date = LocalDate.of(2017, 1, 1);\r\n    \r\n            final String formattedDate = date.format(formatter);\r\n    \r\n            Assert.assertEquals(&quot;1st January 2017&quot;, formattedDate);\r\n        }\r\n    \r\n        @Test\r\n        public void shouldParse1stJanuaryDate()\r\n        {\r\n            final String formattedDate = &quot;1st January 2017&quot;;\r\n    \r\n            final LocalDate parsedDate = LocalDate.parse(formattedDate, formatter);\r\n    \r\n            Assert.assertEquals(LocalDate.of(2017, 1, 1), parsedDate);\r\n        }\r\n    }\r\n    \r\nPS. I used Greg Mattes&#39; solution for ordinal suffixes from here:\r\nhttps://stackoverflow.com/questions/4011075/how-do-you-format-the-day-of-the-month-to-say-11th-21st-or-23rd-in-java","title":"Parsing a dates ordinal indicator ( st, nd, rd, th ) in a date-time string","body":"<p>In case someone finds it useful: DateTimeFormatter builder. This formatter allows you to format and to parse UK dates with ordinal suffixes (eg. \"1st January 2017\"):</p>\n\n<pre><code>public class UkDateFormatterBuilder\n{\n    /**\n     * The UK date formatter that formats a date without an offset, such as '14th September 2020' or '1st January 2017'.\n     * @return an immutable formatter which uses the {@link ResolverStyle#SMART SMART} resolver style. It has no override chronology or zone.\n     */\n    public DateTimeFormatter build()\n    {\n        return new DateTimeFormatterBuilder()\n                .parseCaseInsensitive()\n                .parseLenient()\n                .appendText(DAY_OF_MONTH, dayOfMonthMapping())\n                .appendLiteral(' ')\n                .appendText(MONTH_OF_YEAR, monthOfYearMapping())\n                .appendLiteral(' ')\n                .appendValue(YEAR, 4)\n                .toFormatter(Locale.UK);\n    }\n\n    private Map&lt;Long, String&gt; monthOfYearMapping()\n    {\n        Map&lt;Long, String&gt; monthOfYearMapping = new HashMap&lt;&gt;();\n        monthOfYearMapping.put(1L, \"January\");\n        monthOfYearMapping.put(2L, \"February\");\n        monthOfYearMapping.put(3L, \"March\");\n        monthOfYearMapping.put(4L, \"April\");\n        monthOfYearMapping.put(5L, \"May\");\n        monthOfYearMapping.put(6L, \"June\");\n        monthOfYearMapping.put(7L, \"July\");\n        monthOfYearMapping.put(8L, \"August\");\n        monthOfYearMapping.put(9L, \"September\");\n        monthOfYearMapping.put(10L, \"October\");\n        monthOfYearMapping.put(11L, \"November\");\n        monthOfYearMapping.put(12L, \"December\");\n        return monthOfYearMapping;\n    }\n\n    private Map&lt;Long, String&gt; dayOfMonthMapping()\n    {\n        Map&lt;Long, String&gt; suffixes = new HashMap&lt;&gt;();\n        for (int day=1; day&lt;=31; day++)\n        {\n            suffixes.put((long)day, String.format(\"%s%s\", (long) day, dayOfMonthSuffix(day)));\n        }\n        return suffixes;\n    }\n\n    private String dayOfMonthSuffix(final int day)\n    {\n        Preconditions.checkArgument(day &gt;= 1 &amp;&amp; day &lt;= 31, \"Illegal day of month: \" + day);\n        if (day &gt;= 11 &amp;&amp; day &lt;= 13)\n        {\n            return \"th\";\n        }\n        switch (day % 10)\n        {\n            case 1:  return \"st\";\n            case 2:  return \"nd\";\n            case 3:  return \"rd\";\n            default: return \"th\";\n        }\n    }\n}\n</code></pre>\n\n<p>Plus a fragment of the test class:</p>\n\n<pre><code>public class UkDateFormatterBuilderTest\n{\n    DateTimeFormatter formatter = new UkDateFormatterBuilder().build();\n\n    @Test\n    public void shouldFormat1stJanuaryDate()\n    {\n        final LocalDate date = LocalDate.of(2017, 1, 1);\n\n        final String formattedDate = date.format(formatter);\n\n        Assert.assertEquals(\"1st January 2017\", formattedDate);\n    }\n\n    @Test\n    public void shouldParse1stJanuaryDate()\n    {\n        final String formattedDate = \"1st January 2017\";\n\n        final LocalDate parsedDate = LocalDate.parse(formattedDate, formatter);\n\n        Assert.assertEquals(LocalDate.of(2017, 1, 1), parsedDate);\n    }\n}\n</code></pre>\n\n<p>PS. I used Greg Mattes' solution for ordinal suffixes from here:\n<a href=\"https://stackoverflow.com/questions/4011075/how-do-you-format-the-day-of-the-month-to-say-11th-21st-or-23rd-in-java\">How do you format the day of the month to say &quot;11th&quot;, &quot;21st&quot; or &quot;23rd&quot; in Java? (ordinal indicator)</a></p>\n"},{"tags":[],"owner":{"account_id":7427687,"reputation":457,"user_id":5649687,"display_name":"Pierre-Olivier Dybman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508339344,"creation_date":1508339344,"answer_id":46813497,"question_id":28514346,"body_markdown":"You should be using [RuleBasedNumberFormat][1]. It works perfectly and it&#39;s respectful of the Locale.\r\n\r\n\r\n  [1]: http://www.icu-project.org/apiref/icu4j/com/ibm/icu/text/RuleBasedNumberFormat.html","title":"Parsing a dates ordinal indicator ( st, nd, rd, th ) in a date-time string","body":"<p>You should be using <a href=\"http://www.icu-project.org/apiref/icu4j/com/ibm/icu/text/RuleBasedNumberFormat.html\" rel=\"nofollow noreferrer\">RuleBasedNumberFormat</a>. It works perfectly and it's respectful of the Locale.</p>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654765847,"creation_date":1654765847,"answer_id":72557618,"question_id":28514346,"body_markdown":"Well, no need to replace the text. The `DateTimeFormatterBuilder` is able to parse this as well.\r\n\r\nFirst, we need to create a `Map` which maps day-of-month against their day-of-month-with-ordinal-suffix. That is because unfortunately, there is no standard thing, as far as I know.\r\n\r\n```java\r\nstatic final Map&lt;Long, String&gt; ORDINAL_SUFFIX_MAP;\r\nstatic {\r\n    Map&lt;Long, String&gt; map = new HashMap&lt;&gt;();\r\n    for (int i = 1; i &lt;= 31; i++) {\r\n        String suffix = switch (i) {\r\n            case 1, 21, 31 -&gt; &quot;st&quot;;\r\n            case 2, 22     -&gt; &quot;nd&quot;;\r\n            case 3, 23     -&gt; &quot;rd&quot;;\r\n            default        -&gt; &quot;th&quot;;\r\n        };\r\n        map.put((long) i, i + suffix);\r\n    }\r\n    ORDINAL_SUFFIX_MAP = Map.copyOf(map);\r\n}\r\n```\r\n\r\nThen we can utilize the `DateTimeFormatterBuilder` as follows:\r\n\r\n```java\r\nDateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n    .appendPattern(firstPartOfYourPattern)\r\n    .appendText(ChronoField.DAY_OF_MONTH, ORDINAL_SUFFIX_MAP)\r\n    .appendPattern(lastPartOfYourPattern)\r\n    .toFormatter(Locale.ROOT);\r\n```\r\n\r\n```java\r\nLocalDateTime result = LocalDateTime.parse(str, formatter);\r\n```","title":"Parsing a dates ordinal indicator ( st, nd, rd, th ) in a date-time string","body":"<p>Well, no need to replace the text. The <code>DateTimeFormatterBuilder</code> is able to parse this as well.</p>\n<p>First, we need to create a <code>Map</code> which maps day-of-month against their day-of-month-with-ordinal-suffix. That is because unfortunately, there is no standard thing, as far as I know.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static final Map&lt;Long, String&gt; ORDINAL_SUFFIX_MAP;\nstatic {\n    Map&lt;Long, String&gt; map = new HashMap&lt;&gt;();\n    for (int i = 1; i &lt;= 31; i++) {\n        String suffix = switch (i) {\n            case 1, 21, 31 -&gt; &quot;st&quot;;\n            case 2, 22     -&gt; &quot;nd&quot;;\n            case 3, 23     -&gt; &quot;rd&quot;;\n            default        -&gt; &quot;th&quot;;\n        };\n        map.put((long) i, i + suffix);\n    }\n    ORDINAL_SUFFIX_MAP = Map.copyOf(map);\n}\n</code></pre>\n<p>Then we can utilize the <code>DateTimeFormatterBuilder</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n    .appendPattern(firstPartOfYourPattern)\n    .appendText(ChronoField.DAY_OF_MONTH, ORDINAL_SUFFIX_MAP)\n    .appendPattern(lastPartOfYourPattern)\n    .toFormatter(Locale.ROOT);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime result = LocalDateTime.parse(str, formatter);\n</code></pre>\n"}],"owner":{"account_id":5457517,"reputation":645,"user_id":4340496,"accept_rate":79,"display_name":"hao"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19042,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":28514476,"answer_count":5,"score":21,"last_activity_date":1654765847,"creation_date":1423907334,"question_id":28514346,"body_markdown":"I checked the [`SimpleDateFormat` javadoc][1], but I am not able to find a way to parse the [ordinal indicator][2] in a date format like this:\r\n\r\n     Feb 13th 2015 9:00AM\r\n\r\nI tried `&quot;MMM dd yyyy hh:mma&quot;`, but the days have to be in number for it to be correct?\r\n\r\nIs it possible to parse the &quot;13th&quot; date using a `SimpleDateFormat` without having to truncate the string?\r\n\r\n\r\n\n\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\n  [2]: http://en.m.wikipedia.org/wiki/Ordinal_indicator","title":"Parsing a dates ordinal indicator ( st, nd, rd, th ) in a date-time string","body":"<p>I checked the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code> javadoc</a>, but I am not able to find a way to parse the <a href=\"http://en.m.wikipedia.org/wiki/Ordinal_indicator\" rel=\"noreferrer\">ordinal indicator</a> in a date format like this:</p>\n\n<pre><code> Feb 13th 2015 9:00AM\n</code></pre>\n\n<p>I tried <code>\"MMM dd yyyy hh:mma\"</code>, but the days have to be in number for it to be correct?</p>\n\n<p>Is it possible to parse the \"13th\" date using a <code>SimpleDateFormat</code> without having to truncate the string?</p>\n"},{"tags":["java","spring","multithreading","asynchronous","async-await"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1654759478,"post_id":72556212,"comment_id":128169528,"body_markdown":"Please don&#39;t use bold and italic in such a universal way - it makes it *harder* to read instead of easier.","body":"Please don&#39;t use bold and italic in such a universal way - it makes it <i>harder</i> to read instead of easier."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1654759658,"post_id":72556212,"comment_id":128169582,"body_markdown":"Calling `get()` on a `Future` will block, so your code has a parallelism of 1.","body":"Calling <code>get()</code> on a <code>Future</code> will block, so your code has a parallelism of 1."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1654759794,"post_id":72556212,"comment_id":128169638,"body_markdown":"The `.get` call makes it blocking and not run in parallel. So while you run on a different thread it doesn&#39;t make any difference. Use a `CompletableFuture` instead then wrap all of them in another `CompleteableFuture.allOf` and get the results.","body":"The <code>.get</code> call makes it blocking and not run in parallel. So while you run on a different thread it doesn&#39;t make any difference. Use a <code>CompletableFuture</code> instead then wrap all of them in another <code>CompleteableFuture.allOf</code> and get the results."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1654765691,"post_id":72556212,"comment_id":128171815,"body_markdown":"I have rolled back your last edit. If you want to ask a new question, then post a new question, do not change the scope of an existing question by changing or adding a question, especially if your original question has been answered already.","body":"I have rolled back your last edit. If you want to ask a new question, then post a new question, do not change the scope of an existing question by changing or adding a question, especially if your original question has been answered already."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654760346,"creation_date":1654759924,"answer_id":72556323,"question_id":72556212,"body_markdown":"&gt; Some people say that: the thread pool get method is Blocking methods, so it is no different from writing without threads.\r\n\r\nThey are correct.  If you call `get()` at that point, it immediately blocks until the that particular task has completed.  So the 2nd task isn&#39;t submitted until the first one completes ... and so on.\r\n\r\nWhat you need to do is submit all of the tasks before calling `get()`. Something like the following pseudo-code.\r\n\r\n    List&lt;Future&gt; futures\r\n    for each id in ids:\r\n       futures.add(executor.submit(...))\r\n\r\n    for each future in futures:\r\n       result = future.get()\r\n       results.add(process(result))\r\n\r\nIf you can arrange that each task does the processing of its result, you potentially get more parallelism.\r\n\r\nAs noted, you could use `CompleteableFuture.allOf` instead of the second loop.","title":"Why isn&#39;t this multithreading efficient in the for loop in this code?","body":"<blockquote>\n<p>Some people say that: the thread pool get method is Blocking methods, so it is no different from writing without threads.</p>\n</blockquote>\n<p>They are correct.  If you call <code>get()</code> at that point, it immediately blocks until the that particular task has completed.  So the 2nd task isn't submitted until the first one completes ... and so on.</p>\n<p>What you need to do is submit all of the tasks before calling <code>get()</code>. Something like the following pseudo-code.</p>\n<pre><code>List&lt;Future&gt; futures\nfor each id in ids:\n   futures.add(executor.submit(...))\n\nfor each future in futures:\n   result = future.get()\n   results.add(process(result))\n</code></pre>\n<p>If you can arrange that each task does the processing of its result, you potentially get more parallelism.</p>\n<p>As noted, you could use <code>CompleteableFuture.allOf</code> instead of the second loop.</p>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654761035,"creation_date":1654760603,"answer_id":72556469,"question_id":72556212,"body_markdown":"Do something like this. \r\n\r\n```\r\nExecutorService exector = Executors.newCachedThreadPool();\r\n\r\npublic List&lt;ResultDto&gt; queryAll(List&lt;String&gt; ids) throws ExecutionException, InterruptedException {\r\n\r\n    List&lt;CompletableFuture&gt; cfs = new ArrayList&lt;&gt;(ids.size());\r\n    for (String id : ids) {\r\n      CompletableFuture cf = Completableuture.supplyAsync(() -&gt; getResult(id), exector);\r\n      cfs.add(cf);\r\n    }\r\n    CompletableFuture allOfThem = CompletableFuture.allOf(cfs.toArray(new CompletableFuture[0]);\r\n \r\n    CompletableFuture&lt;List&lt;ResultDto&gt;&gt; allCompletableFutures = allOfThem .thenApply(future -&gt; {\r\n    return cfs.stream()\r\n            .map(completableFuture -&gt; completableFuture.join())\r\n            .collect(Collectors.toList());\r\n});\r\n    return allCompletableFutures.get();\r\n}\r\n\r\nResultDto getResult(String id) {\r\n    String remoteResult = &quot; httpUtils.get()&quot; + id;\r\n    BaseData baseData = new BaseData();\r\n    baseData.setBaseInfo(&quot;baseData&quot; + id);\r\n    baseData.setRemoteInfo(remoteResult);\r\n    ResultDto resultDto = new ResultDto();\r\n    resultDto.setBaseData(baseData);\r\n    return resultDto;\r\n}\r\n```\r\n\r\nThis will give you a non-blocking solution (it will only block in the end). \r\n\r\nOr you can make it even easier and just use a `parallelStream` and use the default fork-join pool. \r\n\r\n```java\r\npublic List&lt;ResultDto&gt; queryAll(List&lt;String&gt; ids) throws ExecutionException, InterruptedException {\r\n    return ids.parallelStream().map(id -&gt; getResult(id)).collect(Collectors.toList());\r\n}\r\n\r\nResultDto getResult(String id) {\r\n    String remoteResult = &quot; httpUtils.get()&quot; + id;\r\n    BaseData baseData = new BaseData();\r\n    baseData.setBaseInfo(&quot;baseData&quot; + id);\r\n    baseData.setRemoteInfo(remoteResult);\r\n    ResultDto resultDto = new ResultDto();\r\n    resultDto.setBaseData(baseData);\r\n    return resultDto;\r\n}\r\n```\r\n\r\nYou can probably decide which is better to read...","title":"Why isn&#39;t this multithreading efficient in the for loop in this code?","body":"<p>Do something like this.</p>\n<pre><code>ExecutorService exector = Executors.newCachedThreadPool();\n\npublic List&lt;ResultDto&gt; queryAll(List&lt;String&gt; ids) throws ExecutionException, InterruptedException {\n\n    List&lt;CompletableFuture&gt; cfs = new ArrayList&lt;&gt;(ids.size());\n    for (String id : ids) {\n      CompletableFuture cf = Completableuture.supplyAsync(() -&gt; getResult(id), exector);\n      cfs.add(cf);\n    }\n    CompletableFuture allOfThem = CompletableFuture.allOf(cfs.toArray(new CompletableFuture[0]);\n \n    CompletableFuture&lt;List&lt;ResultDto&gt;&gt; allCompletableFutures = allOfThem .thenApply(future -&gt; {\n    return cfs.stream()\n            .map(completableFuture -&gt; completableFuture.join())\n            .collect(Collectors.toList());\n});\n    return allCompletableFutures.get();\n}\n\nResultDto getResult(String id) {\n    String remoteResult = &quot; httpUtils.get()&quot; + id;\n    BaseData baseData = new BaseData();\n    baseData.setBaseInfo(&quot;baseData&quot; + id);\n    baseData.setRemoteInfo(remoteResult);\n    ResultDto resultDto = new ResultDto();\n    resultDto.setBaseData(baseData);\n    return resultDto;\n}\n</code></pre>\n<p>This will give you a non-blocking solution (it will only block in the end).</p>\n<p>Or you can make it even easier and just use a <code>parallelStream</code> and use the default fork-join pool.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;ResultDto&gt; queryAll(List&lt;String&gt; ids) throws ExecutionException, InterruptedException {\n    return ids.parallelStream().map(id -&gt; getResult(id)).collect(Collectors.toList());\n}\n\nResultDto getResult(String id) {\n    String remoteResult = &quot; httpUtils.get()&quot; + id;\n    BaseData baseData = new BaseData();\n    baseData.setBaseInfo(&quot;baseData&quot; + id);\n    baseData.setRemoteInfo(remoteResult);\n    ResultDto resultDto = new ResultDto();\n    resultDto.setBaseData(baseData);\n    return resultDto;\n}\n</code></pre>\n<p>You can probably decide which is better to read...</p>\n"}],"owner":{"account_id":9148659,"reputation":195,"user_id":6803950,"display_name":"zy_sun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72556469,"answer_count":2,"score":0,"last_activity_date":1654765626,"creation_date":1654759342,"question_id":72556212,"body_markdown":"I want to use multithreading to speed up queries in a for loop code in Spring.\r\n\r\nSome people say that: the thread pool get method is Blocking methods, so it is no different from writing without threads.\r\n\r\nSo how does this code work with thread acceleration in a Java loop?\r\n\r\nSome languages, such as C# ,JS , use `await remoteCall(id)`, use &#39;await&#39; Whether the same problem exists ?\r\n\r\n\r\n\r\n```java\r\n@Data\r\nclass ResultDto {\r\n    private BaseData baseData;\r\n}\r\n```    \r\n```java\r\n@Data\r\npublic class BaseData {\r\n    public String baseInfo;\r\n    public String remoteInfo;\r\n}\r\n```\r\n```java    \r\nExecutorService exector = Executors.newCachedThreadPool();\r\n\r\npublic List&lt;ResultDto&gt; queryAll(List&lt;String&gt; ids) throws ExecutionException, InterruptedException {\r\n\r\n    List&lt;ResultDto&gt; res = new ArrayList&lt;&gt;();\r\n\r\n    for (String id : ids) {\r\n        ResultDto resultDto = new ResultDto();\r\n        BaseData baseData = new BaseData();\r\n        baseData.setBaseInfo(&quot;baseData&quot; + id);\r\n\r\n        //using thread  blocking ?\r\n        String remoteResult = exector.submit(() -&gt; remoteCall(id)).get();\r\n\r\n        baseData.setRemoteInfo(remoteResult);\r\n        resultDto.setBaseData(baseData);\r\n        res.add(resultDto);\r\n    }\r\n\r\n    return res;\r\n}\r\n\r\nString remoteCall(String id) {\r\n    return &quot; httpUtils.get()&quot; + id;\r\n}\r\n```\r\nWith my limited experience with multithread Programing, my code looks ugly.\r\nHow to improve it?\r\nPlease help me rewrite the code below.\r\n\r\n\r\n","title":"Why isn&#39;t this multithreading efficient in the for loop in this code?","body":"<p>I want to use multithreading to speed up queries in a for loop code in Spring.</p>\n<p>Some people say that: the thread pool get method is Blocking methods, so it is no different from writing without threads.</p>\n<p>So how does this code work with thread acceleration in a Java loop?</p>\n<p>Some languages, such as C# ,JS , use <code>await remoteCall(id)</code>, use 'await' Whether the same problem exists ?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\nclass ResultDto {\n    private BaseData baseData;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class BaseData {\n    public String baseInfo;\n    public String remoteInfo;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutorService exector = Executors.newCachedThreadPool();\n\npublic List&lt;ResultDto&gt; queryAll(List&lt;String&gt; ids) throws ExecutionException, InterruptedException {\n\n    List&lt;ResultDto&gt; res = new ArrayList&lt;&gt;();\n\n    for (String id : ids) {\n        ResultDto resultDto = new ResultDto();\n        BaseData baseData = new BaseData();\n        baseData.setBaseInfo(&quot;baseData&quot; + id);\n\n        //using thread  blocking ?\n        String remoteResult = exector.submit(() -&gt; remoteCall(id)).get();\n\n        baseData.setRemoteInfo(remoteResult);\n        resultDto.setBaseData(baseData);\n        res.add(resultDto);\n    }\n\n    return res;\n}\n\nString remoteCall(String id) {\n    return &quot; httpUtils.get()&quot; + id;\n}\n</code></pre>\n<p>With my limited experience with multithread Programing, my code looks ugly.\nHow to improve it?\nPlease help me rewrite the code below.</p>\n"},{"tags":["java","wildfly","wildfly-9"],"comments":[{"owner":{"account_id":281082,"reputation":11615,"user_id":577181,"accept_rate":20,"display_name":"John Ament"},"score":0,"creation_date":1453898731,"post_id":35036646,"comment_id":57799868,"body_markdown":"What URI are you hitting and where is your app deployed to?","body":"What URI are you hitting and where is your app deployed to?"},{"owner":{"account_id":1580243,"reputation":2552,"user_id":1465758,"accept_rate":71,"display_name":"Steffen"},"score":0,"creation_date":1453898994,"post_id":35036646,"comment_id":57800056,"body_markdown":"@John: The application is deployed from eclipse (by using the JBoss Devel.-Plugin) on a local running WildFly. The URI ist http://127.0.0.1:8080/myApp/","body":"@John: The application is deployed from eclipse (by using the JBoss Devel.-Plugin) on a local running WildFly. The URI ist <a href=\"http://127.0.0.1:8080/myApp/\" rel=\"nofollow noreferrer\">127.0.0.1:8080/myApp</a>"}],"answers":[{"tags":[],"owner":{"account_id":1580243,"reputation":2552,"user_id":1465758,"accept_rate":71,"display_name":"Steffen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1502895643,"creation_date":1453904626,"answer_id":35039935,"question_id":35036646,"body_markdown":"My EAR project and the inherited WAR project in eclipse was broken. There were several things missing like at example the `application.xml`. \r\n\r\nNot sure why these things are missing and where I have lost it. But after fixing both projects deployments it works again.","title":"Wildfly: Why I get only &quot;Forbidden&quot; if I call my Web application?","body":"<p>My EAR project and the inherited WAR project in eclipse was broken. There were several things missing like at example the <code>application.xml</code>. </p>\n\n<p>Not sure why these things are missing and where I have lost it. But after fixing both projects deployments it works again.</p>\n"},{"tags":[],"owner":{"account_id":7132135,"reputation":21,"user_id":5453020,"display_name":"pravin chaudhari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498049532,"creation_date":1498049532,"answer_id":44676695,"question_id":35036646,"body_markdown":"That build must be corrupted. Re-build the application, create war again and deploy it again. It will work.   ","title":"Wildfly: Why I get only &quot;Forbidden&quot; if I call my Web application?","body":"<p>That build must be corrupted. Re-build the application, create war again and deploy it again. It will work.   </p>\n"},{"tags":[],"owner":{"account_id":12595173,"reputation":477,"user_id":9160102,"display_name":"Bruno L."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1590086873,"creation_date":1590086873,"answer_id":61941680,"question_id":35036646,"body_markdown":"That can occur if you do not have any *index.html* file at the root of the war file *(in WebContent in Eclipse)* or your write it wrongly like: *Index.html*\r\n\r\nSame issue if `&lt;welcome-file&gt;` is not properly set up in *WEB-INF/web.xml* descriptor","title":"Wildfly: Why I get only &quot;Forbidden&quot; if I call my Web application?","body":"<p>That can occur if you do not have any <em>index.html</em> file at the root of the war file <em>(in WebContent in Eclipse)</em> or your write it wrongly like: <em>Index.html</em></p>\n\n<p>Same issue if <code>&lt;welcome-file&gt;</code> is not properly set up in <em>WEB-INF/web.xml</em> descriptor</p>\n"}],"owner":{"account_id":1580243,"reputation":2552,"user_id":1465758,"accept_rate":71,"display_name":"Steffen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30122,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":35039935,"answer_count":3,"score":10,"last_activity_date":1654765565,"creation_date":1453895565,"question_id":35036646,"body_markdown":"Yesterday our web application ran fine on WildFly 9. Since this morning I get only a &quot;Forbidden&quot; in the web browser. We don&#39;t use JAAS. There is also no difference if I set the following value to `false` in the `standalone.xml`:\r\n\r\n    ...\r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:ejb3:3.0&quot;&gt;\r\n       ...\r\n       &lt;default-missing-method-permissions-deny-access value=&quot;true&quot;/&gt;\r\n       ...\r\n    &lt;/subsystem&gt;\r\n    ...\r\n\r\nWhat can be the reasons that WildFly only shows the &quot;Forbidden&quot; page?\r\n\r\n\r\n**EDIT**\r\n\r\nIf I set the log level for package `org.jboss.security` to `TRACE` I get the following message in the log file while calling the page:\r\n\r\n    2016-01-27 12:58:15,354 TRACE [org.jboss.security] (default task-5) PBOX00354: Setting security roles ThreadLocal: null\r\n\r\nNot sure what this means ...","title":"Wildfly: Why I get only &quot;Forbidden&quot; if I call my Web application?","body":"<p>Yesterday our web application ran fine on WildFly 9. Since this morning I get only a \"Forbidden\" in the web browser. We don't use JAAS. There is also no difference if I set the following value to <code>false</code> in the <code>standalone.xml</code>:</p>\n\n<pre><code>...\n&lt;subsystem xmlns=\"urn:jboss:domain:ejb3:3.0\"&gt;\n   ...\n   &lt;default-missing-method-permissions-deny-access value=\"true\"/&gt;\n   ...\n&lt;/subsystem&gt;\n...\n</code></pre>\n\n<p>What can be the reasons that WildFly only shows the \"Forbidden\" page?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>If I set the log level for package <code>org.jboss.security</code> to <code>TRACE</code> I get the following message in the log file while calling the page:</p>\n\n<pre><code>2016-01-27 12:58:15,354 TRACE [org.jboss.security] (default task-5) PBOX00354: Setting security roles ThreadLocal: null\n</code></pre>\n\n<p>Not sure what this means ...</p>\n"},{"tags":["java","xml","servlets"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1654766716,"post_id":72557525,"comment_id":128172198,"body_markdown":"What URL are you requesting? Also I see that you are using the maven folder structure, but I don&#39;t see a pom.xml, does your eclipse know how to package that project? Is it correctly deployed to the server?","body":"What URL are you requesting? Also I see that you are using the maven folder structure, but I don&#39;t see a pom.xml, does your eclipse know how to package that project? Is it correctly deployed to the server?"},{"owner":{"account_id":18097566,"reputation":1,"user_id":13155685,"display_name":"Lavish 7"},"score":0,"creation_date":1654768737,"post_id":72557525,"comment_id":128172874,"body_markdown":"No i am not using maven and i have a action=&quot;add&quot; in my html form which I am mapping in url-pattern basically my html form looks like this ```&lt;form action = &quot;add&quot; method= &quot;post&quot;&gt;\n&lt;input type = text name = &quot;num1&quot; id = &quot;num1&quot;&gt; &lt;br&gt;\n&lt;input type = text name = &quot;num2&quot; id = &quot;num2&quot;&gt; &lt;br&gt;\n&lt;input type = &quot;submit&quot;&gt;\n&lt;/form&gt; ```","body":"No i am not using maven and i have a action=&quot;add&quot; in my html form which I am mapping in url-pattern basically my html form looks like this <code>&lt;form action = &quot;add&quot; method= &quot;post&quot;&gt; &lt;input type = text name = &quot;num1&quot; id = &quot;num1&quot;&gt; &lt;br&gt; &lt;input type = text name = &quot;num2&quot; id = &quot;num2&quot;&gt; &lt;br&gt; &lt;input type = &quot;submit&quot;&gt; &lt;&#47;form&gt; </code>"},{"owner":{"account_id":699650,"reputation":16447,"user_id":1299005,"display_name":"Mark Thomas"},"score":0,"creation_date":1655473441,"post_id":72557525,"comment_id":128347332,"body_markdown":"How have you packaged this web application? How have you deployed this web application to a Servlet container?","body":"How have you packaged this web application? How have you deployed this web application to a Servlet container?"}],"owner":{"account_id":18097566,"reputation":1,"user_id":13155685,"display_name":"Lavish 7"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654765391,"creation_date":1654765391,"question_id":72557525,"body_markdown":"I am starting with servlets and I am trying to get 2 numbers from a form and add them using java logic but when running it is showing The origin server did not find a current representation for the target resource or is not willing to disclose that one exists. So I am guessing it is mapping problem can someone help? \r\n\r\nHere is my web.xml code\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;4.0&quot;&gt;\r\n  &lt;display-name&gt;Addition&lt;/display-name&gt;\r\n&lt;servlet&gt;\r\n&lt;servlet-name&gt;addNum&lt;/servlet-name&gt;\r\n&lt;servlet-class&gt;addLogic.sum&lt;/servlet-class&gt;\r\n&lt;/servlet&gt;\r\n&lt;servlet-mapping&gt;\r\n&lt;servlet-name&gt;addNum&lt;/servlet-name&gt;\r\n&lt;url-pattern&gt;/add&lt;/url-pattern&gt;\r\n&lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n[Also an image of project explorer for mapping][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZizcZ.png","title":"Unable to map servlet","body":"<p>I am starting with servlets and I am trying to get 2 numbers from a form and add them using java logic but when running it is showing The origin server did not find a current representation for the target resource or is not willing to disclose that one exists. So I am guessing it is mapping problem can someone help?</p>\n<p>Here is my web.xml code</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;4.0&quot;&gt;\n  &lt;display-name&gt;Addition&lt;/display-name&gt;\n&lt;servlet&gt;\n&lt;servlet-name&gt;addNum&lt;/servlet-name&gt;\n&lt;servlet-class&gt;addLogic.sum&lt;/servlet-class&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n&lt;servlet-name&gt;addNum&lt;/servlet-name&gt;\n&lt;url-pattern&gt;/add&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZizcZ.png\" rel=\"nofollow noreferrer\">Also an image of project explorer for mapping</a></p>\n"},{"tags":["java","maven","sonarqube","static-analysis","sonarqube-scan"],"comments":[{"owner":{"account_id":1744250,"reputation":6709,"user_id":1594817,"accept_rate":69,"display_name":"Vinay Veluri"},"score":0,"creation_date":1575539968,"post_id":59192388,"comment_id":104603774,"body_markdown":"is sonar qube running on http://localhost:9000 ?","body":"is sonar qube running on <a href=\"http://localhost:9000\" rel=\"nofollow noreferrer\">localhost:9000</a> ?"},{"owner":{"account_id":1587389,"reputation":13480,"user_id":1471417,"accept_rate":50,"display_name":"Alpha"},"score":0,"creation_date":1575540499,"post_id":59192388,"comment_id":104604041,"body_markdown":"Yes Vinay, it is running on http://localhost:9000/","body":"Yes Vinay, it is running on <a href=\"http://localhost:9000/\" rel=\"nofollow noreferrer\">localhost:9000</a>"},{"owner":{"account_id":1744250,"reputation":6709,"user_id":1594817,"accept_rate":69,"display_name":"Vinay Veluri"},"score":0,"creation_date":1575541332,"post_id":59192388,"comment_id":104604477,"body_markdown":"Can you post the complete error trace ? and also pom.xml","body":"Can you post the complete error trace ? and also pom.xml"},{"owner":{"account_id":1587389,"reputation":13480,"user_id":1471417,"accept_rate":50,"display_name":"Alpha"},"score":0,"creation_date":1575541633,"post_id":59192388,"comment_id":104604621,"body_markdown":"There are no more logs in console. It starts with what I&#39;ve mentioned in test but after that it has following but I think that won&#39;t help to find out cause - `[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException`","body":"There are no more logs in console. It starts with what I&#39;ve mentioned in test but after that it has following but I think that won&#39;t help to find out cause - <code>[ERROR] [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch. [ERROR] Re-run Maven using the -X switch to enable full debug logging. [ERROR] [ERROR] For more information about the errors and possible solutions, please read the following articles: [ERROR] [Help 1] http:&#47;&#47;cwiki.apache.org&#47;confluence&#47;display&#47;MAVEN&#47;MojoExecuti&zwnj;&#8203;onException</code>"},{"owner":{"account_id":6650981,"reputation":3550,"user_id":5133088,"accept_rate":89,"display_name":"Jeroen Heier"},"score":0,"creation_date":1575608635,"post_id":59192388,"comment_id":104631745,"body_markdown":"Any clues in the SonarQube logs?","body":"Any clues in the SonarQube logs?"}],"owner":{"account_id":1587389,"reputation":13480,"user_id":1471417,"accept_rate":50,"display_name":"Alpha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654765342,"creation_date":1575539609,"question_id":59192388,"body_markdown":"In order to achieve static code analysis, I followed - https://dzone.com/articles/source-code-analysis-testing-technique-using-sonar and when I hit - `mvn sonar:sonar`, it resulted into error -\r\n\r\n\r\n    [ERROR] Failed to execute goal org.sonarsource.scanner.maven:sonar-maven-plugin:3.2:sonar (default-\r\n    cli) on project testing: Error 500 on http://localhost:9000/api/ce/submit?\r\n    `projectKey=org.test:testing&amp;projectName=testing -&gt; [Help 1]\r\n\r\nI googled this but nothing helped to resolved. I also tried answers of https://stackoverflow.com/questions/40300653/failed-to-execute-goal-org-sonarsource-scanner-mavensonar-maven-plugin-3-2son but no luck.\r\n\r\nAbove error says 500 on http://localhost:9000/api/ce/submit?projectKey=org.test:testing&amp;projectName=testing and when I open this url in browser it gives -\r\n\r\n\r\n    {&quot;errors&quot;:[{&quot;msg&quot;:&quot;HTTP method POST is required&quot;}]}\r\n\r\nCould you please help to understand how this can be resolved?","title":"Failed to execute goal org.sonarsource.scanner.maven:sonar-maven-plugin:3.2:sonar","body":"<p>In order to achieve static code analysis, I followed - <a href=\"https://dzone.com/articles/source-code-analysis-testing-technique-using-sonar\" rel=\"nofollow noreferrer\">https://dzone.com/articles/source-code-analysis-testing-technique-using-sonar</a> and when I hit - <code>mvn sonar:sonar</code>, it resulted into error -</p>\n\n<pre><code>[ERROR] Failed to execute goal org.sonarsource.scanner.maven:sonar-maven-plugin:3.2:sonar (default-\ncli) on project testing: Error 500 on http://localhost:9000/api/ce/submit?\n`projectKey=org.test:testing&amp;projectName=testing -&gt; [Help 1]\n</code></pre>\n\n<p>I googled this but nothing helped to resolved. I also tried answers of <a href=\"https://stackoverflow.com/questions/40300653/failed-to-execute-goal-org-sonarsource-scanner-mavensonar-maven-plugin-3-2son\">Failed to execute goal org.sonarsource.scanner.maven:sonar-maven-plugin: 3.2:sonar</a> but no luck.</p>\n\n<p>Above error says 500 on <a href=\"http://localhost:9000/api/ce/submit?projectKey=org.test:testing&amp;projectName=testing\" rel=\"nofollow noreferrer\">http://localhost:9000/api/ce/submit?projectKey=org.test:testing&amp;projectName=testing</a> and when I open this url in browser it gives -</p>\n\n<pre><code>{\"errors\":[{\"msg\":\"HTTP method POST is required\"}]}\n</code></pre>\n\n<p>Could you please help to understand how this can be resolved?</p>\n"},{"tags":["python","java","ssl","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":20979436,"reputation":325,"user_id":15414616,"display_name":"Ema Il"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654765203,"creation_date":1654765203,"answer_id":72557492,"question_id":72556396,"body_markdown":"It seems like kafka does some weird ssl context stuff behind the scenes.\r\nI solved it by creating my own ssl context and giving it to my kafka consumer:\r\n```\r\ndef create_ssl_context():\r\n    ssl_context = ssl.SSLContext(ssl.PROTOCOL_TLSv1_2)\r\n    ssl_context.load_verify_locations(&#39;/keys/vault_us.pem&#39;)\r\n    return ssl_context\r\n\r\n\r\nconsumer = KafkaConsumer(_topic_name,\r\n                         ssl_context=create_ssl_context(),\r\n                         security_protocol=&#39;SSL&#39;,\r\n                         request_timeout_ms=_request_timeout_ms,\r\n                         connections_max_idle_ms=_connections_max_idle_ms,\r\n                         bootstrap_servers=&#39;&lt;host&gt;:9093&#39;,\r\n                         group_id=&#39;fraud&#39;,\r\n                         auto_offset_reset=_auto_offset_reset,\r\n                         max_poll_interval_ms=_max_poll_interval_ms,\r\n                         session_timeout_ms=_session_timeout_ms,\r\n                         max_poll_records=_max_poll_records)\r\n```","title":"kafka on pod: working with java but not python - certificate error","body":"<p>It seems like kafka does some weird ssl context stuff behind the scenes.\nI solved it by creating my own ssl context and giving it to my kafka consumer:</p>\n<pre><code>def create_ssl_context():\n    ssl_context = ssl.SSLContext(ssl.PROTOCOL_TLSv1_2)\n    ssl_context.load_verify_locations('/keys/vault_us.pem')\n    return ssl_context\n\n\nconsumer = KafkaConsumer(_topic_name,\n                         ssl_context=create_ssl_context(),\n                         security_protocol='SSL',\n                         request_timeout_ms=_request_timeout_ms,\n                         connections_max_idle_ms=_connections_max_idle_ms,\n                         bootstrap_servers='&lt;host&gt;:9093',\n                         group_id='fraud',\n                         auto_offset_reset=_auto_offset_reset,\n                         max_poll_interval_ms=_max_poll_interval_ms,\n                         session_timeout_ms=_session_timeout_ms,\n                         max_poll_records=_max_poll_records)\n</code></pre>\n"}],"owner":{"account_id":20979436,"reputation":325,"user_id":15414616,"display_name":"Ema Il"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654765203,"creation_date":1654760266,"question_id":72556396,"body_markdown":"I&#39;m trying to consume and later on produce kafka messages on a pod but I&#39;m having some problems with the certificates...\r\nI tried this bash script that runs java on the pod:\r\n```\r\n$ wget https://dlcdn.apache.org/kafka/3.2.0/kafka_2.13-3.2.0.tgz\r\n$ tar -xzf kafka_2.13-3.2.0.tgz\r\n$ cd kafka_2.13-3.2.0/bin\r\n$ echo &quot;security.protocol=SSL&quot; &gt;  my.properties\r\n\r\n$ ./kafka-topics.sh --describe --topic pingone_fraud --bootstrap-server &lt;host&gt;:9093 --command-config my.properties \r\n# output: \r\nTopic: &lt;topic&gt;\tPartitionCount: 8\tReplicationFactor: 3\tConfigs: cleanup.policy=delete,segment.bytes=262144000,retention.bytes=53687063712\r\n\r\nTopic: &lt;topic&gt;\tPartition: 0\tLeader: 204\tReplicas: 204,203,205\tIsr: 204,203,205\r\n.\r\n.\r\n.\r\n```\r\nand as you can see from the output it worked without a problem! But when I&#39;m trying to consume my messages using my python code:\r\n```\r\nconsumer = KafkaConsumer(&lt;topic&gt;,\r\n                         security_protocol=&#39;SSL&#39;,\r\n                         ssl_cafile=&#39;/keys/CARoot.pem&#39;,\r\n                         request_timeout_ms=_request_timeout_ms,\r\n                         connections_max_idle_ms=_connections_max_idle_ms,\r\n                         bootstrap_servers=&#39;&lt;host&gt;:9093&#39;,\r\n                         group_id=&#39;fraud&#39;,\r\n                         auto_offset_reset=_auto_offset_reset,\r\n                         max_poll_interval_ms=_max_poll_interval_ms,\r\n                         session_timeout_ms=_session_timeout_ms,\r\n                         max_poll_records=_max_poll_records)\r\nprint(f&#39;************* {consumer.topics()}&#39;)\r\n```\r\nI get this exception:\r\n```\r\nTraceback (most recent call last):\r\n  File &quot;/tmp/kafka_consumer.py&quot;, line 30, in &lt;module&gt;\r\n    max_poll_records=_max_poll_records)\r\n  File &quot;/usr/local/lib/python3.6/site-packages/kafka/consumer/group.py&quot;, line 354, in __init__\r\n    self._client = KafkaClient(metrics=self._metrics, **self.config)\r\n  File &quot;/usr/local/lib/python3.6/site-packages/kafka/client_async.py&quot;, line 240, in __init__\r\n    self.config[&#39;api_version&#39;] = self.check_version(timeout=check_timeout)\r\n  File &quot;/usr/local/lib/python3.6/site-packages/kafka/client_async.py&quot;, line 908, in check_version\r\n    version = conn.check_version(timeout=remaining, strict=strict, topics=list(self.config[&#39;bootstrap_topics_filter&#39;]))\r\n  File &quot;/usr/local/lib/python3.6/site-packages/kafka/conn.py&quot;, line 1171, in check_version\r\n    if not self.connect_blocking(timeout_at - time.time()):\r\n  File &quot;/usr/local/lib/python3.6/site-packages/kafka/conn.py&quot;, line 333, in connect_blocking\r\n    self.connect()\r\n  File &quot;/usr/local/lib/python3.6/site-packages/kafka/conn.py&quot;, line 422, in connect\r\n    if self._try_handshake():\r\n  File &quot;/usr/local/lib/python3.6/site-packages/kafka/conn.py&quot;, line 501, in _try_handshake\r\n    self._sock.do_handshake()\r\n  File &quot;/usr/local/lib/python3.6/ssl.py&quot;, line 1077, in do_handshake\r\n    self._sslobj.do_handshake()\r\n  File &quot;/usr/local/lib/python3.6/ssl.py&quot;, line 689, in do_handshake\r\n    self._sslobj.do_handshake()\r\nssl.SSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:852)\r\n```\r\nNow about the certificate I use, in keytool I have a certificate that I extract from vault and I exported it using keytool so that I could use it with my python code:\r\n```\r\nkeytool -exportcert -keystore /opt/java/lib/security/cacerts -alias vault-us -rfc -file /keys/CARoot.pem\r\n```\r\nI&#39;m having a hard time understanding why my python code does not work because a certificate error while I&#39;m using the same certificate...\r\n\r\nDoes someone have any idea?","title":"kafka on pod: working with java but not python - certificate error","body":"<p>I'm trying to consume and later on produce kafka messages on a pod but I'm having some problems with the certificates...\nI tried this bash script that runs java on the pod:</p>\n<pre><code>$ wget https://dlcdn.apache.org/kafka/3.2.0/kafka_2.13-3.2.0.tgz\n$ tar -xzf kafka_2.13-3.2.0.tgz\n$ cd kafka_2.13-3.2.0/bin\n$ echo &quot;security.protocol=SSL&quot; &gt;  my.properties\n\n$ ./kafka-topics.sh --describe --topic pingone_fraud --bootstrap-server &lt;host&gt;:9093 --command-config my.properties \n# output: \nTopic: &lt;topic&gt;  PartitionCount: 8   ReplicationFactor: 3    Configs: cleanup.policy=delete,segment.bytes=262144000,retention.bytes=53687063712\n\nTopic: &lt;topic&gt;  Partition: 0    Leader: 204 Replicas: 204,203,205   Isr: 204,203,205\n.\n.\n.\n</code></pre>\n<p>and as you can see from the output it worked without a problem! But when I'm trying to consume my messages using my python code:</p>\n<pre><code>consumer = KafkaConsumer(&lt;topic&gt;,\n                         security_protocol='SSL',\n                         ssl_cafile='/keys/CARoot.pem',\n                         request_timeout_ms=_request_timeout_ms,\n                         connections_max_idle_ms=_connections_max_idle_ms,\n                         bootstrap_servers='&lt;host&gt;:9093',\n                         group_id='fraud',\n                         auto_offset_reset=_auto_offset_reset,\n                         max_poll_interval_ms=_max_poll_interval_ms,\n                         session_timeout_ms=_session_timeout_ms,\n                         max_poll_records=_max_poll_records)\nprint(f'************* {consumer.topics()}')\n</code></pre>\n<p>I get this exception:</p>\n<pre><code>Traceback (most recent call last):\n  File &quot;/tmp/kafka_consumer.py&quot;, line 30, in &lt;module&gt;\n    max_poll_records=_max_poll_records)\n  File &quot;/usr/local/lib/python3.6/site-packages/kafka/consumer/group.py&quot;, line 354, in __init__\n    self._client = KafkaClient(metrics=self._metrics, **self.config)\n  File &quot;/usr/local/lib/python3.6/site-packages/kafka/client_async.py&quot;, line 240, in __init__\n    self.config['api_version'] = self.check_version(timeout=check_timeout)\n  File &quot;/usr/local/lib/python3.6/site-packages/kafka/client_async.py&quot;, line 908, in check_version\n    version = conn.check_version(timeout=remaining, strict=strict, topics=list(self.config['bootstrap_topics_filter']))\n  File &quot;/usr/local/lib/python3.6/site-packages/kafka/conn.py&quot;, line 1171, in check_version\n    if not self.connect_blocking(timeout_at - time.time()):\n  File &quot;/usr/local/lib/python3.6/site-packages/kafka/conn.py&quot;, line 333, in connect_blocking\n    self.connect()\n  File &quot;/usr/local/lib/python3.6/site-packages/kafka/conn.py&quot;, line 422, in connect\n    if self._try_handshake():\n  File &quot;/usr/local/lib/python3.6/site-packages/kafka/conn.py&quot;, line 501, in _try_handshake\n    self._sock.do_handshake()\n  File &quot;/usr/local/lib/python3.6/ssl.py&quot;, line 1077, in do_handshake\n    self._sslobj.do_handshake()\n  File &quot;/usr/local/lib/python3.6/ssl.py&quot;, line 689, in do_handshake\n    self._sslobj.do_handshake()\nssl.SSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:852)\n</code></pre>\n<p>Now about the certificate I use, in keytool I have a certificate that I extract from vault and I exported it using keytool so that I could use it with my python code:</p>\n<pre><code>keytool -exportcert -keystore /opt/java/lib/security/cacerts -alias vault-us -rfc -file /keys/CARoot.pem\n</code></pre>\n<p>I'm having a hard time understanding why my python code does not work because a certificate error while I'm using the same certificate...</p>\n<p>Does someone have any idea?</p>\n"},{"tags":["javascript","java","eclipse"],"comments":[{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":0,"creation_date":1654764696,"post_id":72557305,"comment_id":128171426,"body_markdown":"Have you confirmed that file exists at that location (`ls /Volumes/T7/KGitbank/JSP (6)/apache-tomcat-9.0.63/lib/`) and is indeed valid (`jar -tf /Volumes/T7/KGitbank/JSP (6)/apache-tomcat-9.0.63/lib/._tomcat-i18n-ko.jar`)?","body":"Have you confirmed that file exists at that location (<code>ls &#47;Volumes&#47;T7&#47;KGitbank&#47;JSP (6)&#47;apache-tomcat-9.0.63&#47;lib&#47;</code>) and is indeed valid (<code>jar -tf &#47;Volumes&#47;T7&#47;KGitbank&#47;JSP (6)&#47;apache-tomcat-9.0.63&#47;lib&#47;._tomcat-i18n-ko.jar</code>)?"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1654765044,"post_id":72557305,"comment_id":128171585,"body_markdown":"Files starting &#39;._&#39; are macOS extended attributes files, this seems to be confusing something. These files are only used by macOS if the file system is **not** a macOS file system (HFS+ or APFS) - so put the jar somewhere that uses a proper macOS file system.","body":"Files starting &#39;._&#39; are macOS extended attributes files, this seems to be confusing something. These files are only used by macOS if the file system is <b>not</b> a macOS file system (HFS+ or APFS) - so put the jar somewhere that uses a proper macOS file system."},{"owner":{"account_id":25496912,"reputation":1,"user_id":19290839,"display_name":"zsh"},"score":0,"creation_date":1654765519,"post_id":72557305,"comment_id":128171757,"body_markdown":"@greg-449 You mean I have to put tomcat file in MacOs not in exteranl drive??","body":"@greg-449 You mean I have to put tomcat file in MacOs not in exteranl drive??"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1654765632,"post_id":72557305,"comment_id":128171796,"body_markdown":"External drives can be formatted using a macOS file system (but other operating systems may not be able to read them)","body":"External drives can be formatted using a macOS file system (but other operating systems may not be able to read them)"},{"owner":{"account_id":25496912,"reputation":1,"user_id":19290839,"display_name":"zsh"},"score":0,"creation_date":1654765818,"post_id":72557305,"comment_id":128171850,"body_markdown":"But I am using MacOS.. Then it should have been read... But it still doesn&#39;t work..","body":"But I am using MacOS.. Then it should have been read... But it still doesn&#39;t work.."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1654766011,"post_id":72557305,"comment_id":128171916,"body_markdown":"Fine, so you need to make sure your external drive is using a proper macOS file system. What does Finder &quot;Get Info&quot; say for the external drive in the &quot;Format&quot; field.","body":"Fine, so you need to make sure your external drive is using a proper macOS file system. What does Finder &quot;Get Info&quot; say for the external drive in the &quot;Format&quot; field."},{"owner":{"account_id":25496912,"reputation":1,"user_id":19290839,"display_name":"zsh"},"score":0,"creation_date":1654780912,"post_id":72557305,"comment_id":128177435,"body_markdown":"Yes I solve it ! But there is one thing more..\nwhen I Ctrl Fll there is a &#39;the selection cannot be run on any server&#39; sentence. So I went to properties and change the server form &#39;None&#39; to &#39;Tomcat v9.0 Server at localhost&#39; but it still doesn&#39;t work!!","body":"Yes I solve it ! But there is one thing more.. when I Ctrl Fll there is a &#39;the selection cannot be run on any server&#39; sentence. So I went to properties and change the server form &#39;None&#39; to &#39;Tomcat v9.0 Server at localhost&#39; but it still doesn&#39;t work!!"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1654782965,"post_id":72557305,"comment_id":128178393,"body_markdown":"What is the selection at that time? Was the Answer to basically the same question at https://stackoverflow.com/questions/72531602/is-there-some-more-solutions-to-solve-the-java-build-problems not work?","body":"What is the selection at that time? Was the Answer to basically the same question at <a href=\"https://stackoverflow.com/questions/72531602/is-there-some-more-solutions-to-solve-the-java-build-problems\" title=\"is there some more solutions to solve the java build problems\">stackoverflow.com/questions/72531602/&hellip;</a> not work?"},{"owner":{"account_id":25496912,"reputation":1,"user_id":19290839,"display_name":"zsh"},"score":0,"creation_date":1654784187,"post_id":72557305,"comment_id":128178914,"body_markdown":"Yes but I just solved the problem.. Thank you so much..\nThe problem was my MacOs couldn&#39;t read my external drive...so i  put tomcat in Mac Os. Then the selection problem was Java version : ( But still doesn&#39;t know the meaning of &#39;selection&#39; haha","body":"Yes but I just solved the problem.. Thank you so much.. The problem was my MacOs couldn&#39;t read my external drive...so i  put tomcat in Mac Os. Then the selection problem was Java version : ( But still doesn&#39;t know the meaning of &#39;selection&#39; haha"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1654785000,"post_id":72557305,"comment_id":128179270,"body_markdown":"What does Eclipse think you were trying to run?","body":"What does Eclipse think you were trying to run?"},{"owner":{"account_id":25496912,"reputation":1,"user_id":19290839,"display_name":"zsh"},"score":0,"creation_date":1654785053,"post_id":72557305,"comment_id":128179293,"body_markdown":"@nitind tomcat maybe","body":"@nitind tomcat maybe"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1654785089,"post_id":72557305,"comment_id":128179314,"body_markdown":"Don&#39;t guess. What was selected in the IDE?","body":"Don&#39;t guess. What was selected in the IDE?"},{"owner":{"account_id":25496912,"reputation":1,"user_id":19290839,"display_name":"zsh"},"score":0,"creation_date":1654785286,"post_id":72557305,"comment_id":128179401,"body_markdown":"@nitind Eclipse!","body":"@nitind Eclipse!"}],"owner":{"account_id":25496912,"reputation":1,"user_id":19290839,"display_name":"zsh"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654764369,"creation_date":1654764369,"question_id":72557305,"body_markdown":"I tried making a web site page with jsp and tomcat.\r\n\r\nI made a Dynamic web project and then made a jsp file on it.\r\n\r\nThen I typed &#39;hello jsp&#39; \r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n        pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;!DOCTYPE html&gt;`enter code here`\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Insert title here&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \r\n    \thello JSP~!\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nlike this and ctrl f11.\r\n\r\nHello JSP is exactly printed on the chorme but there is a error mark on Dynamic web project file. \r\n\r\nThe problem is JAVA BUILD PROBLEM and the description is &#39;\r\nArchive for required library: &#39;/Volumes/T7/KGitbank/JSP (6)/apache-tomcat-9.0.63/lib/._tomcat-i18n-ko.jar&#39; in project &#39;JSP01&#39; cannot be read or is not a valid ZIP file\tJSP01&#39;.\r\nI did lots of things to solve it like but it still doesn&#39;t work..\r\n\r\nI put tomcat in my external hard drive.. Is that a problem...? What can I do else?","title":"Is there anything more that I can do with Java &#39;Build Path Problem&#39;?","body":"<p>I tried making a web site page with jsp and tomcat.</p>\n<p>I made a Dynamic web project and then made a jsp file on it.</p>\n<p>Then I typed 'hello jsp'</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;!DOCTYPE html&gt;`enter code here`\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    hello JSP~!\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>like this and ctrl f11.</p>\n<p>Hello JSP is exactly printed on the chorme but there is a error mark on Dynamic web project file.</p>\n<p>The problem is JAVA BUILD PROBLEM and the description is '\nArchive for required library: '/Volumes/T7/KGitbank/JSP (6)/apache-tomcat-9.0.63/lib/._tomcat-i18n-ko.jar' in project 'JSP01' cannot be read or is not a valid ZIP file  JSP01'.\nI did lots of things to solve it like but it still doesn't work..</p>\n<p>I put tomcat in my external hard drive.. Is that a problem...? What can I do else?</p>\n"},{"tags":["java","simpledateformat","date-format","date-formatting"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1654763933,"post_id":72557145,"comment_id":128171141,"body_markdown":"My first thought is to use a regular expression and replace the `th` and `st` and `nd` (or what ever fun sufix they come up with)","body":"My first thought is to use a regular expression and replace the <code>th</code> and <code>st</code> and <code>nd</code> (or what ever fun sufix they come up with)"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1654764253,"post_id":72557145,"comment_id":128171240,"body_markdown":"`DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMM d[&#39;st&#39;][&#39;nd&#39;][&#39;rd&#39;][&#39;th&#39;] yyyy HH:mm:ss&quot;, Locale.ENGLISH)`","body":"<code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMM d[&#39;st&#39;][&#39;nd&#39;][&#39;rd&#39;][&#39;th&#39;] yyyy HH:mm:ss&quot;, Locale.ENGLISH)</code>"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1654764266,"post_id":72557145,"comment_id":128171245,"body_markdown":"@Abra looks like it should work, yes. I need to check this. Thanks!","body":"@Abra looks like it should work, yes. I need to check this. Thanks!"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1654765912,"post_id":72557145,"comment_id":128171887,"body_markdown":"First, **don&#39;t** use `SimpleDateFormat`, for it&#39;s obsolete. Use `DateTimeFormatter` instead.","body":"First, <b>don&#39;t</b> use <code>SimpleDateFormat</code>, for it&#39;s obsolete. Use <code>DateTimeFormatter</code> instead."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1654765950,"post_id":72557145,"comment_id":128171901,"body_markdown":"Second, you can utilize the `DateTimeFormatterBuilder` as well, without replacing text. [See here](https://stackoverflow.com/a/72557618/507738)","body":"Second, you can utilize the <code>DateTimeFormatterBuilder</code> as well, without replacing text. <a href=\"https://stackoverflow.com/a/72557618/507738\">See here</a>"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1654766436,"post_id":72557145,"comment_id":128172086,"body_markdown":"Thanks a lot @MCEmperor! I don&#39;t think I will create a map like you showing there, removing the suffix is good enough for me. Now I just need to find how exactly to implement the code checking the received date is within the last X seconds. There are many different solutions for that and so far it&#39;s not clear with one should I take.. Time formatting is not what I&#39;m doing each day :)","body":"Thanks a lot @MCEmperor! I don&#39;t think I will create a map like you showing there, removing the suffix is good enough for me. Now I just need to find how exactly to implement the code checking the received date is within the last X seconds. There are many different solutions for that and so far it&#39;s not clear with one should I take.. Time formatting is not what I&#39;m doing each day :)"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1654767799,"post_id":72557145,"comment_id":128172536,"body_markdown":"As soon as you have a `LocalDateTime`, `OffsetDateTime` or `ZonedDateTime` called `dateTime`, for example, and an `int` or `long x`, you can easily find out if this `dateTime.isBefore(dateTime.minusSeconds(x))`.","body":"As soon as you have a <code>LocalDateTime</code>, <code>OffsetDateTime</code> or <code>ZonedDateTime</code> called <code>dateTime</code>, for example, and an <code>int</code> or <code>long x</code>, you can easily find out if this <code>dateTime.isBefore(dateTime.minusSeconds(x))</code>."},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1654770180,"post_id":72557145,"comment_id":128173398,"body_markdown":"@deHaar Looks like this is now what I need. I need to parse date/time from the string I mentioned and validate it is in the range of some fixed interval of X seconds from now. While you here using the same `dateTime` object.","body":"@deHaar Looks like this is now what I need. I need to parse date/time from the string I mentioned and validate it is in the range of some fixed interval of X seconds from now. While you here using the same <code>dateTime</code> object."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1654770336,"post_id":72557145,"comment_id":128173444,"body_markdown":"That was just an example as a reaction to your *within the last X seconds* comment. I thought that last X seconds were related to the `dateTime`. There are several possibilities, you can just define two `LocalDateTime`s and check if your current one is between them, like `isAfter` the older one and `isBefore` the newer","body":"That was just an example as a reaction to your <i>within the last X seconds</i> comment. I thought that last X seconds were related to the <code>dateTime</code>. There are several possibilities, you can just define two <code>LocalDateTime</code>s and check if your current one is between them, like <code>isAfter</code> the older one and <code>isBefore</code> the newer"}],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654764271,"answer_count":0,"score":0,"last_activity_date":1654763653,"creation_date":1654763653,"question_id":72557145,"body_markdown":"On the web site I&#39;m working with the dates object is created are presented in format like:   \r\n`Jun 8th 2022 16:31:22`   \r\nI need to validate the creation date is within the last 5 minutes.   \r\nSo, I can get the current local date / time and then compare it with the date parsed from string got from the site.   \r\nBut I can&#39;t find the date format matching the `8th` day of month.   \r\nWithout it I would use format like this:\r\n```\r\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;MMM DD YYYY hh:mm:ss&quot;);\r\n```\r\nAnd then compare these dates but how can I handle `xth` day of month?","title":"Java parse date from string including -th day of month","body":"<p>On the web site I'm working with the dates object is created are presented in format like:<br />\n<code>Jun 8th 2022 16:31:22</code><br />\nI need to validate the creation date is within the last 5 minutes.<br />\nSo, I can get the current local date / time and then compare it with the date parsed from string got from the site.<br />\nBut I can't find the date format matching the <code>8th</code> day of month.<br />\nWithout it I would use format like this:</p>\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(&quot;MMM DD YYYY hh:mm:ss&quot;);\n</code></pre>\n<p>And then compare these dates but how can I handle <code>xth</code> day of month?</p>\n"},{"tags":["java","jpa","criteria-api"],"comments":[{"owner":{"account_id":8426485,"reputation":113,"user_id":6323545,"accept_rate":14,"display_name":"charu joshi"},"score":1,"creation_date":1548762149,"post_id":36406390,"comment_id":95650186,"body_markdown":"what is mappedB","body":"what is mappedB"},{"owner":{"account_id":2449026,"reputation":3026,"user_id":2135719,"accept_rate":81,"display_name":"gvdm"},"score":0,"creation_date":1548771811,"post_id":36406390,"comment_id":95656238,"body_markdown":"Hi @charu joshi. It&#39;s the attribute name. See the [javadoc](https://docs.oracle.com/javaee/6/api/javax/persistence/criteria/From.html#join(java.lang.String,%20javax.persistence.criteria.JoinType))","body":"Hi @charu joshi. It&#39;s the attribute name. See the <a href=\"https://docs.oracle.com/javaee/6/api/javax/persistence/criteria/From.html#join(java.lang.String,%20javax.persistence.criteria.JoinType)\" rel=\"nofollow noreferrer\">javadoc</a>"}],"answers":[{"tags":[],"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1459784053,"creation_date":1459784053,"answer_id":36406931,"question_id":36406390,"body_markdown":"Use `where` and `CriteriaBuilder.equal`.\r\n\r\n    em.select(aRoot).where( criteriaBuilder.equal(bJoin.get(&quot;IdLanguage&quot;), 22));","title":"CriteriaBuilder join two tables with a custom condition","body":"<p>Use <code>where</code> and <code>CriteriaBuilder.equal</code>.</p>\n\n<pre><code>em.select(aRoot).where( criteriaBuilder.equal(bJoin.get(\"IdLanguage\"), 22));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1459836871,"creation_date":1459794023,"answer_id":36410006,"question_id":36406390,"body_markdown":"Use JPA 2.1 `ON` to specify it in the `JOIN` part, which is **not** the same as in the `WHERE`\r\n\r\n    CriteriaQuery&lt;A&gt; searchQuery = criteriaBuilder.createQuery(A.class);\r\n    Root&lt;A&gt; aRoot = searchQuery.from(A.class);\r\n    Join&lt;A, B&gt; bJoin= aRoot.join(&quot;mappedB&quot;, JoinType.LEFT);\r\n    bJoin.on(criteriaBuilder.equal(bJoin.get(&quot;idLanguage&quot;), 22));","title":"CriteriaBuilder join two tables with a custom condition","body":"<p>Use JPA 2.1 <code>ON</code> to specify it in the <code>JOIN</code> part, which is <strong>not</strong> the same as in the <code>WHERE</code></p>\n\n<pre><code>CriteriaQuery&lt;A&gt; searchQuery = criteriaBuilder.createQuery(A.class);\nRoot&lt;A&gt; aRoot = searchQuery.from(A.class);\nJoin&lt;A, B&gt; bJoin= aRoot.join(\"mappedB\", JoinType.LEFT);\nbJoin.on(criteriaBuilder.equal(bJoin.get(\"idLanguage\"), 22));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10412104,"reputation":21,"user_id":7677200,"display_name":"Smeki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654763649,"creation_date":1654763649,"answer_id":72557142,"question_id":36406390,"body_markdown":"Honestly, after spending few days with this problem, we have decided to solve it via database views. \r\nSo there is a little alternative solution:\r\n\r\n 1. Create view that joins needed tables together according wanted conditions\r\n 2. Create new entity, representing data from this view and annotate it @Immutable, to make it read only\r\n 3. Create criteria builder only above this one entity\r\n\r\nAlso be aware that you entity needs to have UNIQUE Id, so if you use i.e. LEFT JOINs in you view, it might happen that there will be not unique id, and hibernate will have problems with that. So create new Id in you view as compound key, or random generated value.\r\n\r\nIt is a little workaround solutions, but it worked well for us.","title":"CriteriaBuilder join two tables with a custom condition","body":"<p>Honestly, after spending few days with this problem, we have decided to solve it via database views.\nSo there is a little alternative solution:</p>\n<ol>\n<li>Create view that joins needed tables together according wanted conditions</li>\n<li>Create new entity, representing data from this view and annotate it @Immutable, to make it read only</li>\n<li>Create criteria builder only above this one entity</li>\n</ol>\n<p>Also be aware that you entity needs to have UNIQUE Id, so if you use i.e. LEFT JOINs in you view, it might happen that there will be not unique id, and hibernate will have problems with that. So create new Id in you view as compound key, or random generated value.</p>\n<p>It is a little workaround solutions, but it worked well for us.</p>\n"}],"owner":{"account_id":2449026,"reputation":3026,"user_id":2135719,"accept_rate":81,"display_name":"gvdm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36316,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":36410006,"answer_count":3,"score":10,"last_activity_date":1654763649,"creation_date":1459782576,"question_id":36406390,"body_markdown":"I want to write this SQL query \r\n\r\n    SELECT *  \r\n    FROM A\r\n    LEFT OUTER JOIN B\r\n    ON A.IDRESOURCE=B.IDRESOURCE AND B.IDLANGUAGE=22;\r\n\r\nwith the JPA Criteria Builder.\r\nI wrote the first part of the join simply with:\r\n\r\n    CriteriaQuery&lt;A&gt; searchQuery = criteriaBuilder.createQuery(A.class);\r\n    Root&lt;A&gt; aRoot = searchQuery.from(A.class);\r\n    Join&lt;A, B&gt; bJoin= aRoot.join(&quot;mappedB&quot;, JoinType.LEFT);\r\n\r\nbut I don&#39;t know how to implement the condition B.IDLANGUAGE=22.\r\n\r\nIs there any way to accomplish this in Criteria Builder? ","title":"CriteriaBuilder join two tables with a custom condition","body":"<p>I want to write this SQL query </p>\n\n<pre><code>SELECT *  \nFROM A\nLEFT OUTER JOIN B\nON A.IDRESOURCE=B.IDRESOURCE AND B.IDLANGUAGE=22;\n</code></pre>\n\n<p>with the JPA Criteria Builder.\nI wrote the first part of the join simply with:</p>\n\n<pre><code>CriteriaQuery&lt;A&gt; searchQuery = criteriaBuilder.createQuery(A.class);\nRoot&lt;A&gt; aRoot = searchQuery.from(A.class);\nJoin&lt;A, B&gt; bJoin= aRoot.join(\"mappedB\", JoinType.LEFT);\n</code></pre>\n\n<p>but I don't know how to implement the condition B.IDLANGUAGE=22.</p>\n\n<p>Is there any way to accomplish this in Criteria Builder? </p>\n"},{"tags":["java","bluej"],"comments":[{"owner":{"account_id":14259026,"reputation":348,"user_id":10300416,"display_name":"Nick Dima"},"score":0,"creation_date":1566498911,"post_id":57615207,"comment_id":101685496,"body_markdown":"You can improve it significantly by modularizing it, breaking it into smaller functions, and adding comments. It&#39;s difficult for me to read this code","body":"You can improve it significantly by modularizing it, breaking it into smaller functions, and adding comments. It&#39;s difficult for me to read this code"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1566510602,"post_id":57615207,"comment_id":101689748,"body_markdown":"You don&#39;t need the case statements for 0..9. Your calculator doesn&#39;t handle parentheses or operator precedence, and to fix that you will have to throw it all away and start again.","body":"You don&#39;t need the case statements for 0..9. Your calculator doesn&#39;t handle parentheses or operator precedence, and to fix that you will have to throw it all away and start again."}],"owner":{"account_id":16479917,"reputation":195,"user_id":11906942,"display_name":"MichaelJohn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654763610,"creation_date":1566498500,"question_id":57615207,"body_markdown":"I am quite new to java and I wanted to create a calculator in bluej, but it should work for complex equations like &quot;8/2+6*3&quot;. So I used string for this and created this:\r\n```java\r\nimport java.util.*;\r\nimport java.lang.String;\r\n\r\npublic class CulCulLator {\r\n    public static void CulCulLate() {\r\n        Scanner input = new Scanner(System.in);\r\n        String e = input.nextLine();\r\n        int l1 = e.length();\r\n        int c = 0;\r\n\r\n        double pos = 0;\r\n        double x;\r\n        boolean add = false;\r\n        boolean mul = false;\r\n        boolean div = false;\r\n        boolean min = false;\r\n        int art = 0;\r\n        double value = 0;\r\n        double bvd = 0;\r\n        char num;\r\n        int ad, mi, di, mu, ads;\r\n        ad = 0;\r\n        mi = 0;\r\n        mu = 0;\r\n        di = 0;\r\n        ads = 0;\r\n        ArrayList&lt;Character&gt; chars = new ArrayList&lt;Character&gt;();\r\n        for (char bc : e.toCharArray()) {\r\n            chars.add(bc);\r\n        }\r\n\r\n        int l = chars.size();\r\n        int l2 = l - 1;\r\n        ArrayList&lt;Double&gt; list = new ArrayList&lt;Double&gt;();\r\n        while (c &lt;= l2) {\r\n            num = chars.get(c);\r\n            switch (num) {\r\n                case &#39;1&#39;:\r\n                    pos = pos + 1;\r\n                    if (c == l2) {\r\n\r\n                        list.add(pos);\r\n                        pos = 0;\r\n                    }\r\n                    break;\r\n                case &#39;2&#39;:\r\n                    pos = pos + 2;\r\n                    if (c == l2) {\r\n\r\n                        list.add(pos);\r\n                        pos = 0;\r\n                    }\r\n                    break;\r\n                case &#39;3&#39;:\r\n                    pos = pos + 3;\r\n                    if (c == l2) {\r\n\r\n                        list.add(pos);\r\n                        pos = 0;\r\n                    }\r\n                    break;\r\n                case &#39;4&#39;:\r\n                    pos = pos + 4;\r\n                    if (c == l2) {\r\n\r\n                        list.add(pos);\r\n                        pos = 0;\r\n                    }\r\n                    break;\r\n                case &#39;5&#39;:\r\n                    pos = pos + 5;\r\n                    if (c == l2) {\r\n\r\n                        list.add(pos);\r\n                        pos = 0;\r\n                    }\r\n                    break;\r\n                case &#39;6&#39;:\r\n                    pos = pos + 6;\r\n                    if (c == l2) {\r\n\r\n                        list.add(pos);\r\n                        pos = 0;\r\n                    }\r\n                    break;\r\n                case &#39;7&#39;:\r\n                    pos = pos + 7;\r\n                    if (c == l2) {\r\n\r\n                        list.add(pos);\r\n                        pos = 0;\r\n                    }\r\n                    break;\r\n                case &#39;8&#39;:\r\n                    pos = pos + 8;\r\n                    if (c == l2) {\r\n\r\n                        list.add(pos);\r\n                        pos = 0;\r\n                    }\r\n                    break;\r\n                case &#39;9&#39;:\r\n                    pos = pos + 9;\r\n                    if (c == l2) {\r\n\r\n                        list.add(pos);\r\n                        pos = 0;\r\n                    }\r\n                    break;\r\n                case &#39;0&#39;:\r\n                    pos = pos + 0;\r\n                    if (c == l2) {\r\n\r\n                        list.add(pos);\r\n                        pos = 0;\r\n                    }\r\n                    break;\r\n                case &#39;+&#39;:\r\n                    add = true;\r\n                    ad += 1;\r\n\r\n                    pos = pos / 10;\r\n\r\n                    list.add(pos);\r\n                    list.add(7415.5273);\r\n\r\n                    pos = 0;\r\n                    ads += 1;\r\n                    break;\r\n                case &#39;*&#39;:\r\n                    mul = true;\r\n                    mu += 1;\r\n                    ad += 1;\r\n                    pos = pos / 10;\r\n\r\n                    list.add(pos);\r\n                    list.add(7415.5278);\r\n\r\n                    pos = 0;\r\n                    break;\r\n                case &#39;-&#39;:\r\n                    min = true;\r\n                    ad += 1;\r\n                    pos = pos / 10;\r\n\r\n                    list.add(pos);\r\n                    list.add(9131.975);\r\n\r\n                    pos = 0;\r\n                    mi += 1;\r\n                    break;\r\n                case &#39;/&#39;:\r\n                    div = true;\r\n                    ad += 1;\r\n                    pos = pos / 10;\r\n\r\n                    list.add(pos);\r\n                    list.add(9131.9724);\r\n\r\n                    di += 1;\r\n                    pos = 0;\r\n                    break;\r\n                case &#39; &#39;:\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Wrong input&quot;);\r\n                    art = +1;\r\n                    break;\r\n            }\r\n\r\n            pos = pos * 10;\r\n            c++;\r\n        }\r\n        int l3 = list.size() - 1;\r\n\r\n        if (div) {\r\n            int d = 0;\r\n            int n = 0;\r\n            int gf;\r\n            int fg;\r\n            double pio;\r\n            double iop;\r\n            double diver;\r\n\r\n\r\n            while (n &lt; di) {\r\n                d = list.indexOf(9131.9724);\r\n\r\n                gf = d - 1;\r\n                fg = d + 1;\r\n                pio = list.get(gf);\r\n                iop = list.get(fg);\r\n                diver = pio / iop;\r\n                list.remove(fg);\r\n                list.remove(d);\r\n                list.remove(gf);\r\n\r\n                list.add(gf, diver);\r\n                n++;\r\n                l3--;\r\n            }\r\n\r\n        }\r\n        if (mul) {\r\n            int d = 0;\r\n            int n = 0;\r\n            double diver;\r\n            double iop;\r\n            double pio;\r\n            int gf;\r\n            int fg;\r\n\r\n            while (n &lt; mu) {\r\n                d = list.indexOf(7415.5278);\r\n                gf = d - 1;\r\n                fg = d + 1;\r\n                pio = list.get(fg);\r\n                iop = list.get(gf);\r\n                diver = pio * iop;\r\n                list.remove(fg);\r\n                list.remove(d);\r\n                list.remove(gf);\r\n                list.add(gf, diver);\r\n                n++;\r\n                l3--;\r\n            }\r\n\r\n        }\r\n        if (add) {\r\n            int d = 0;\r\n            int n = 0;\r\n            int gf;\r\n            int fg;\r\n            double pio;\r\n            double iop;\r\n            double diver;\r\n\r\n            while (n &lt; ads) {\r\n                d = list.indexOf(7415.5273);\r\n\r\n                gf = d - 1;\r\n                fg = d + 1;\r\n                pio = list.get(fg);\r\n                iop = list.get(gf);\r\n                diver = pio + iop;\r\n                list.remove(fg);\r\n                list.remove(d);\r\n                list.remove(gf);\r\n\r\n                list.add(gf, diver);\r\n                n++;\r\n                l3--;\r\n            }\r\n\r\n        }\r\n        if (min == true) {\r\n            int d = 0;\r\n            int n = 0;\r\n            int gf;\r\n            int fg;\r\n            double pio;\r\n            double iop;\r\n            double diver;\r\n\r\n            while (n &lt; mi) {\r\n                d = list.indexOf(9131.975);\r\n\r\n                gf = d - 1;\r\n                fg = d + 1;\r\n                pio = list.get(fg);\r\n                iop = list.get(gf);\r\n                diver = iop - pio;\r\n                list.remove(fg);\r\n                list.remove(d);\r\n                list.remove(gf);\r\n                list.add(gf, diver);\r\n                n++;\r\n                l3--;\r\n            }\r\n\r\n        }\r\n        value = list.get(0);\r\n        System.out.println(value);\r\n\r\n    }\r\n\r\n}\r\n```\r\nIt worked fine but I just wanted to know that how can I improve my code like in place of **list.add(7415.5273)**, is there any function that can add character &#39;+&#39; and then add the numbers because the ArrayList do not allow to add characters in Double type . Thanks!","title":"How can I improve this calculator (Bluej)?","body":"<p>I am quite new to java and I wanted to create a calculator in bluej, but it should work for complex equations like &quot;8/2+6*3&quot;. So I used string for this and created this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.lang.String;\n\npublic class CulCulLator {\n    public static void CulCulLate() {\n        Scanner input = new Scanner(System.in);\n        String e = input.nextLine();\n        int l1 = e.length();\n        int c = 0;\n\n        double pos = 0;\n        double x;\n        boolean add = false;\n        boolean mul = false;\n        boolean div = false;\n        boolean min = false;\n        int art = 0;\n        double value = 0;\n        double bvd = 0;\n        char num;\n        int ad, mi, di, mu, ads;\n        ad = 0;\n        mi = 0;\n        mu = 0;\n        di = 0;\n        ads = 0;\n        ArrayList&lt;Character&gt; chars = new ArrayList&lt;Character&gt;();\n        for (char bc : e.toCharArray()) {\n            chars.add(bc);\n        }\n\n        int l = chars.size();\n        int l2 = l - 1;\n        ArrayList&lt;Double&gt; list = new ArrayList&lt;Double&gt;();\n        while (c &lt;= l2) {\n            num = chars.get(c);\n            switch (num) {\n                case '1':\n                    pos = pos + 1;\n                    if (c == l2) {\n\n                        list.add(pos);\n                        pos = 0;\n                    }\n                    break;\n                case '2':\n                    pos = pos + 2;\n                    if (c == l2) {\n\n                        list.add(pos);\n                        pos = 0;\n                    }\n                    break;\n                case '3':\n                    pos = pos + 3;\n                    if (c == l2) {\n\n                        list.add(pos);\n                        pos = 0;\n                    }\n                    break;\n                case '4':\n                    pos = pos + 4;\n                    if (c == l2) {\n\n                        list.add(pos);\n                        pos = 0;\n                    }\n                    break;\n                case '5':\n                    pos = pos + 5;\n                    if (c == l2) {\n\n                        list.add(pos);\n                        pos = 0;\n                    }\n                    break;\n                case '6':\n                    pos = pos + 6;\n                    if (c == l2) {\n\n                        list.add(pos);\n                        pos = 0;\n                    }\n                    break;\n                case '7':\n                    pos = pos + 7;\n                    if (c == l2) {\n\n                        list.add(pos);\n                        pos = 0;\n                    }\n                    break;\n                case '8':\n                    pos = pos + 8;\n                    if (c == l2) {\n\n                        list.add(pos);\n                        pos = 0;\n                    }\n                    break;\n                case '9':\n                    pos = pos + 9;\n                    if (c == l2) {\n\n                        list.add(pos);\n                        pos = 0;\n                    }\n                    break;\n                case '0':\n                    pos = pos + 0;\n                    if (c == l2) {\n\n                        list.add(pos);\n                        pos = 0;\n                    }\n                    break;\n                case '+':\n                    add = true;\n                    ad += 1;\n\n                    pos = pos / 10;\n\n                    list.add(pos);\n                    list.add(7415.5273);\n\n                    pos = 0;\n                    ads += 1;\n                    break;\n                case '*':\n                    mul = true;\n                    mu += 1;\n                    ad += 1;\n                    pos = pos / 10;\n\n                    list.add(pos);\n                    list.add(7415.5278);\n\n                    pos = 0;\n                    break;\n                case '-':\n                    min = true;\n                    ad += 1;\n                    pos = pos / 10;\n\n                    list.add(pos);\n                    list.add(9131.975);\n\n                    pos = 0;\n                    mi += 1;\n                    break;\n                case '/':\n                    div = true;\n                    ad += 1;\n                    pos = pos / 10;\n\n                    list.add(pos);\n                    list.add(9131.9724);\n\n                    di += 1;\n                    pos = 0;\n                    break;\n                case ' ':\n                    break;\n                default:\n                    System.out.println(&quot;Wrong input&quot;);\n                    art = +1;\n                    break;\n            }\n\n            pos = pos * 10;\n            c++;\n        }\n        int l3 = list.size() - 1;\n\n        if (div) {\n            int d = 0;\n            int n = 0;\n            int gf;\n            int fg;\n            double pio;\n            double iop;\n            double diver;\n\n\n            while (n &lt; di) {\n                d = list.indexOf(9131.9724);\n\n                gf = d - 1;\n                fg = d + 1;\n                pio = list.get(gf);\n                iop = list.get(fg);\n                diver = pio / iop;\n                list.remove(fg);\n                list.remove(d);\n                list.remove(gf);\n\n                list.add(gf, diver);\n                n++;\n                l3--;\n            }\n\n        }\n        if (mul) {\n            int d = 0;\n            int n = 0;\n            double diver;\n            double iop;\n            double pio;\n            int gf;\n            int fg;\n\n            while (n &lt; mu) {\n                d = list.indexOf(7415.5278);\n                gf = d - 1;\n                fg = d + 1;\n                pio = list.get(fg);\n                iop = list.get(gf);\n                diver = pio * iop;\n                list.remove(fg);\n                list.remove(d);\n                list.remove(gf);\n                list.add(gf, diver);\n                n++;\n                l3--;\n            }\n\n        }\n        if (add) {\n            int d = 0;\n            int n = 0;\n            int gf;\n            int fg;\n            double pio;\n            double iop;\n            double diver;\n\n            while (n &lt; ads) {\n                d = list.indexOf(7415.5273);\n\n                gf = d - 1;\n                fg = d + 1;\n                pio = list.get(fg);\n                iop = list.get(gf);\n                diver = pio + iop;\n                list.remove(fg);\n                list.remove(d);\n                list.remove(gf);\n\n                list.add(gf, diver);\n                n++;\n                l3--;\n            }\n\n        }\n        if (min == true) {\n            int d = 0;\n            int n = 0;\n            int gf;\n            int fg;\n            double pio;\n            double iop;\n            double diver;\n\n            while (n &lt; mi) {\n                d = list.indexOf(9131.975);\n\n                gf = d - 1;\n                fg = d + 1;\n                pio = list.get(fg);\n                iop = list.get(gf);\n                diver = iop - pio;\n                list.remove(fg);\n                list.remove(d);\n                list.remove(gf);\n                list.add(gf, diver);\n                n++;\n                l3--;\n            }\n\n        }\n        value = list.get(0);\n        System.out.println(value);\n\n    }\n\n}\n</code></pre>\n<p>It worked fine but I just wanted to know that how can I improve my code like in place of <strong>list.add(7415.5273)</strong>, is there any function that can add character '+' and then add the numbers because the ArrayList do not allow to add characters in Double type . Thanks!</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":22308769,"reputation":69,"user_id":16533050,"display_name":"BASSAM ALHARBI"},"score":0,"creation_date":1654723257,"post_id":72551978,"comment_id":128162906,"body_markdown":"So you mean you want the user after he login will direct him another page yes?.\nif that your problem you can use in configuration after &quot;.loginPage().defaultSuccessUrl(&quot;/home&quot;)","body":"So you mean you want the user after he login will direct him another page yes?. if that your problem you can use in configuration after &quot;.loginPage().defaultSuccessUrl(&quot;/home&quot;)"},{"owner":{"account_id":23269246,"reputation":81,"user_id":17354320,"display_name":"Jsef bch"},"score":0,"creation_date":1654726911,"post_id":72551978,"comment_id":128163791,"body_markdown":"@BASSAMALHARBI I want to prevent the user from visiting /login again when he is already logged in","body":"@BASSAMALHARBI I want to prevent the user from visiting /login again when he is already logged in"},{"owner":{"account_id":22308769,"reputation":69,"user_id":16533050,"display_name":"BASSAM ALHARBI"},"score":0,"creation_date":1654735427,"post_id":72551978,"comment_id":128165198,"body_markdown":"Ok i get it now, you may check this. https://www.codejava.net/frameworks/spring-boot/prevent-user-from-going-back-to-login-page-if-already-logged-in","body":"Ok i get it now, you may check this. <a href=\"https://www.codejava.net/frameworks/spring-boot/prevent-user-from-going-back-to-login-page-if-already-logged-in\" rel=\"nofollow noreferrer\">codejava.net/frameworks/spring-boot/&hellip;</a>"}],"owner":{"account_id":23269246,"reputation":81,"user_id":17354320,"display_name":"Jsef bch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654763585,"creation_date":1654720890,"question_id":72551978,"body_markdown":"In my Spring Boot application I just added a login mechanism using Spring Security, my configuration looks like this: \r\n\r\n\r\n    @Override  \r\n    protected void configure(HttpSecurity http) throws Exception {  \r\n                \r\n      http                              \r\n      .authorizeRequests()  \r\n          .anyRequest().hasRole(&quot;ADMIN&quot;)  \r\n       .and()\r\n      .formLogin()\r\n       .loginPage(&quot;/login&quot;)\r\n      .and()  \r\n      .httpBasic()  \r\n      .and()  \r\n      .logout()  \r\n\r\n      .logoutSuccessUrl(&quot;/&quot;)  \r\n      ;  \r\n      \r\n      // Disabled to allow file upload.\r\n      http\r\n      \t.csrf().disable();\r\n      \r\n      \r\n    }  \r\n\r\nMy only problem is that when the user is logged in, they can visit the endpoint `/login` again and he could login and get another session ID. I&#39;m using the default configuration for Security as you can see, I don&#39;t have a custom login page and no controller for handling `/login` requests. Is there a way to solve this issue in my case?","title":"Prevent User Going Back to Login Page If Already Logged In","body":"<p>In my Spring Boot application I just added a login mechanism using Spring Security, my configuration looks like this:</p>\n<pre><code>@Override  \nprotected void configure(HttpSecurity http) throws Exception {  \n            \n  http                              \n  .authorizeRequests()  \n      .anyRequest().hasRole(&quot;ADMIN&quot;)  \n   .and()\n  .formLogin()\n   .loginPage(&quot;/login&quot;)\n  .and()  \n  .httpBasic()  \n  .and()  \n  .logout()  \n\n  .logoutSuccessUrl(&quot;/&quot;)  \n  ;  \n  \n  // Disabled to allow file upload.\n  http\n    .csrf().disable();\n  \n  \n}  \n</code></pre>\n<p>My only problem is that when the user is logged in, they can visit the endpoint <code>/login</code> again and he could login and get another session ID. I'm using the default configuration for Security as you can see, I don't have a custom login page and no controller for handling <code>/login</code> requests. Is there a way to solve this issue in my case?</p>\n"},{"tags":["java","stream","max"],"answers":[{"tags":[],"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654763189,"creation_date":1654763189,"answer_id":72557025,"question_id":72556729,"body_markdown":"You could sort your stream from max to min, and skip the first element.\r\n\r\n```java\r\nobjects\r\n  .stream()\r\n  .filter(object -&gt; object.stageNoCalculate == currentObject.getStageNo)\r\n  .filter(object -&gt; object.executionDate != null)\r\n  .sorted(Comparator.comparing(Object::getStageNo).reversed())\r\n  .skip(1) //Skip the first element, which is the max\r\n  .forEach(object -&gt; {\r\n            object.setFlag(0);\r\n            return object;\r\n         });\r\n```","title":"Java streams to find all apart from Max","body":"<p>You could sort your stream from max to min, and skip the first element.</p>\n<pre class=\"lang-java prettyprint-override\"><code>objects\n  .stream()\n  .filter(object -&gt; object.stageNoCalculate == currentObject.getStageNo)\n  .filter(object -&gt; object.executionDate != null)\n  .sorted(Comparator.comparing(Object::getStageNo).reversed())\n  .skip(1) //Skip the first element, which is the max\n  .forEach(object -&gt; {\n            object.setFlag(0);\n            return object;\n         });\n</code></pre>\n"}],"owner":{"account_id":20595653,"reputation":7,"user_id":15118144,"display_name":"Daniel R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72557025,"answer_count":1,"score":0,"last_activity_date":1654763189,"creation_date":1654761863,"question_id":72556729,"body_markdown":"I am still learning java streams and could not figure out a solution for my problem.\r\n\r\nscenario:\r\n\r\nI have a list of objects which each object has an identifier called stageNo.\r\n\r\nSo basically what I am trying to do is filter out the max objects according to stageNo and set a method a specific value.\r\n\r\n**code:**\r\n\r\n    Object currentObject = new Object();\r\n    List&lt;Object&gt; objects = new ArrayList&lt;&gt;();\r\n\r\n    objects\r\n           .stream()\r\n           .filter(object -&gt; object.stageNoCalculate == currentObject.getStageNo)\r\n           .filter(object -&gt; object.executionDate != null)\r\n           .max(Comparator.comparing(Object::getStageNo)\r\n           .map(object -&gt; {\r\n                object.setFlag(1);\r\n                return object;\r\n             }).get();\r\n\r\nthis will result with the object that has the max stageNo and will set the flag method accordingly to 1.\r\nthis works properly with no issues.\r\n\r\nnow I am trying to find all object that meets filtering but instead of max, \r\nfind everything **apart** from max and setFlag(0) instead.\r\n\r\nI am not entirely sure on the way to do so, tried looking for solutions, however could not find one.\r\n\r\nThanks\r\n\r\n\r\n","title":"Java streams to find all apart from Max","body":"<p>I am still learning java streams and could not figure out a solution for my problem.</p>\n<p>scenario:</p>\n<p>I have a list of objects which each object has an identifier called stageNo.</p>\n<p>So basically what I am trying to do is filter out the max objects according to stageNo and set a method a specific value.</p>\n<p><strong>code:</strong></p>\n<pre><code>Object currentObject = new Object();\nList&lt;Object&gt; objects = new ArrayList&lt;&gt;();\n\nobjects\n       .stream()\n       .filter(object -&gt; object.stageNoCalculate == currentObject.getStageNo)\n       .filter(object -&gt; object.executionDate != null)\n       .max(Comparator.comparing(Object::getStageNo)\n       .map(object -&gt; {\n            object.setFlag(1);\n            return object;\n         }).get();\n</code></pre>\n<p>this will result with the object that has the max stageNo and will set the flag method accordingly to 1.\nthis works properly with no issues.</p>\n<p>now I am trying to find all object that meets filtering but instead of max,\nfind everything <strong>apart</strong> from max and setFlag(0) instead.</p>\n<p>I am not entirely sure on the way to do so, tried looking for solutions, however could not find one.</p>\n<p>Thanks</p>\n"},{"tags":["java","yaml"],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654762693,"creation_date":1654762693,"answer_id":72556918,"question_id":72556739,"body_markdown":"YAML - is just a format. By itself it doesn&#39;t handle variables substitutions like this. Spring boot does that as a &quot;feature&quot;, but if you say that you don&#39;t use Spring at all, then you&#39;ll have to resolve the data from env. variables by yourself.\r\nIn this case it pretty much depends on how do you read the YAML file.\r\n\r\nIn a nutshell, the algorithm should be as follows:\r\n\r\n1. Read The Yaml file from the filesystem &quot;as if&quot; its a regular text file (don&#39;t parse it yet)\r\n2. Apply the template engine: \r\nExamples of template engines like this are: mustache, freemarker and there are many others. All of them will accept the yaml string as one parameter and all the environment variables as another parameter. They will execute the actual substitution and will return another string - a yaml with substituted values. \r\nIn the documentation of the template engine its usually written how should we define the &#39;parameter&#39; in the file. Some engines will allow defining your custom parameter syntax. So it can be `{{SOMETHING}}` for example.\r\n3. Now this yaml file should be given to the yaml parser that you already use.","title":"Environment variables in yml","body":"<p>YAML - is just a format. By itself it doesn't handle variables substitutions like this. Spring boot does that as a &quot;feature&quot;, but if you say that you don't use Spring at all, then you'll have to resolve the data from env. variables by yourself.\nIn this case it pretty much depends on how do you read the YAML file.</p>\n<p>In a nutshell, the algorithm should be as follows:</p>\n<ol>\n<li>Read The Yaml file from the filesystem &quot;as if&quot; its a regular text file (don't parse it yet)</li>\n<li>Apply the template engine:\nExamples of template engines like this are: mustache, freemarker and there are many others. All of them will accept the yaml string as one parameter and all the environment variables as another parameter. They will execute the actual substitution and will return another string - a yaml with substituted values.\nIn the documentation of the template engine its usually written how should we define the 'parameter' in the file. Some engines will allow defining your custom parameter syntax. So it can be <code>{{SOMETHING}}</code> for example.</li>\n<li>Now this yaml file should be given to the yaml parser that you already use.</li>\n</ol>\n"}],"owner":{"account_id":12144439,"reputation":303,"user_id":8867239,"display_name":"yaw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654762693,"creation_date":1654761887,"question_id":72556739,"body_markdown":"I want to pass an environment variable to a yml resource file. I don&#39;t know which notation I should use. I tried:\r\n\r\n```yaml\r\ndata:\r\n  id: &#39;{{system.id}}&#39;\r\n```\r\n\r\nI load this yaml into a Java application, but I&#39;m not using Spring - it&#39;s not an `application.yml`. This yaml has more static fields, which I don&#39;t want to be parametrized through environment variables. Is there any way to achieve that?\r\n\r\nEnvironment variable for this example is set as `SYSTEM_ID`.","title":"Environment variables in yml","body":"<p>I want to pass an environment variable to a yml resource file. I don't know which notation I should use. I tried:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>data:\n  id: '{{system.id}}'\n</code></pre>\n<p>I load this yaml into a Java application, but I'm not using Spring - it's not an <code>application.yml</code>. This yaml has more static fields, which I don't want to be parametrized through environment variables. Is there any way to achieve that?</p>\n<p>Environment variable for this example is set as <code>SYSTEM_ID</code>.</p>\n"},{"tags":["java","selenium-webdriver","automation","webdriver","webdriver-manager"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1654763048,"post_id":72556904,"comment_id":128170799,"body_markdown":"You can set the path to the driver using `System.setProperty`.","body":"You can set the path to the driver using <code>System.setProperty</code>."},{"owner":{"account_id":25513827,"reputation":1,"user_id":19304994,"display_name":"Sureshsekar789"},"score":0,"creation_date":1654765885,"post_id":72556904,"comment_id":128171878,"body_markdown":"Since I&#39;m using QAF with webdrivermanager.. No need of system.setproperty","body":"Since I&#39;m using QAF with webdrivermanager.. No need of system.setproperty"}],"owner":{"account_id":25513827,"reputation":1,"user_id":19304994,"display_name":"Sureshsekar789"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654762631,"creation_date":1654762631,"question_id":72556904,"body_markdown":"Is there a way to read browsername from excel and launch URL using webdrivermanager instead of specifying it in application. Properties\r\n","title":"Launch wedriver using webdrivermanager from excelsheet?","body":"<p>Is there a way to read browsername from excel and launch URL using webdrivermanager instead of specifying it in application. Properties</p>\n"},{"tags":["java","jaotc"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1654508657,"post_id":50778976,"comment_id":128099314,"body_markdown":"https://bugs.openjdk.java.net/browse/JDK-8255616. It was removed in Java 16.","body":"<a href=\"https://bugs.openjdk.java.net/browse/JDK-8255616\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8255616</a>. It was removed in Java 16."}],"answers":[{"tags":[],"owner":{"account_id":246243,"reputation":9164,"user_id":520275,"accept_rate":83,"display_name":"Gonzalo Matheu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1528584671,"creation_date":1528583787,"answer_id":50779108,"question_id":50778976,"body_markdown":"It is included in Oracle JDK version 9 ([Ubuntu installation][1])\n\nIf you have installed JDK 9, it is probably on your PATH or in **bin** directory of JDK&#39;s home.\n\n\n  [1]: https://turreta.com/2017/07/03/install-java-9-in-ubuntu/","title":"How to download jaotc?","body":"<p>It is included in Oracle JDK version 9 (<a href=\"https://turreta.com/2017/07/03/install-java-9-in-ubuntu/\" rel=\"nofollow noreferrer\">Ubuntu installation</a>)</p>\n\n<p>If you have installed JDK 9, it is probably on your PATH or in <strong>bin</strong> directory of JDK's home.</p>\n"},{"tags":[],"owner":{"account_id":7236208,"reputation":1483,"user_id":5854925,"display_name":"Thiago Procaci"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1528584902,"creation_date":1528584264,"answer_id":50779152,"question_id":50778976,"body_markdown":"It is an experimental new feature in JDK 9 for Linux x64. So, if you are using Linux, just download JDK 9 from Oracle [website][1] and in the folder $JAVA_HOME/bin you will find jaotc.\r\n\r\nIn the [link][2] that you shared, see:\r\n\r\n  \r\n\r\n&gt; AOT initial release in JDK 9 is provided for experimental-only use and\r\n&gt; is restricted to Linux x64 systems running 64-bit Java with either\r\n&gt; Parallel or G1 GC...\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/java-archive-javase9-3934878.html\r\n  [2]: http://openjdk.java.net/jeps/295","title":"How to download jaotc?","body":"<p>It is an experimental new feature in JDK 9 for Linux x64. So, if you are using Linux, just download JDK 9 from Oracle <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/java-archive-javase9-3934878.html\" rel=\"nofollow noreferrer\">website</a> and in the folder $JAVA_HOME/bin you will find jaotc.</p>\n\n<p>In the <a href=\"http://openjdk.java.net/jeps/295\" rel=\"nofollow noreferrer\">link</a> that you shared, see:</p>\n\n<blockquote>\n  <p>AOT initial release in JDK 9 is provided for experimental-only use and\n  is restricted to Linux x64 systems running 64-bit Java with either\n  Parallel or G1 GC...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15004766,"reputation":1323,"user_id":10831193,"display_name":"Jessie Lesbian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566723022,"creation_date":1566723022,"answer_id":57644579,"question_id":50778976,"body_markdown":"JAOTC is bundled with OpenJDK 9 and above but I&#39;ll recommend you using OpenJDK 12.","title":"How to download jaotc?","body":"<p>JAOTC is bundled with OpenJDK 9 and above but I'll recommend you using OpenJDK 12.</p>\n"}],"owner":{"account_id":7614561,"reputation":15,"user_id":5774456,"display_name":"Mousheng Xu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":751,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1654518916,"accepted_answer_id":50779108,"answer_count":3,"score":1,"last_activity_date":1654762559,"creation_date":1528582549,"question_id":50778976,"body_markdown":"Everyone is referring jaotc to http://openjdk.java.net/jeps/295. But from that web page, I cannot figure how to download jaotc.","title":"How to download jaotc?","body":"<p>Everyone is referring jaotc to <a href=\"http://openjdk.java.net/jeps/295\" rel=\"nofollow noreferrer\">http://openjdk.java.net/jeps/295</a>. But from that web page, I cannot figure how to download jaotc.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1328784715,"post_id":9209450,"comment_id":11592535,"body_markdown":"What have you tried so far? ByteArrayInputStream and ByteArrayOutputStream will be useful here...","body":"What have you tried so far? ByteArrayInputStream and ByteArrayOutputStream will be useful here..."}],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":2,"up_vote_count":15,"is_accepted":true,"score":13,"last_activity_date":1328784768,"creation_date":1328784768,"answer_id":9209509,"question_id":9209450,"body_markdown":"You can use `ZipInputStream` and `ZipOutputStream` (in the package `java.util.zip`) to read and write from ZIP files.\r\n\r\nIf you have the data in a byte array, you can let these read from a `ByteArrayInputStream` or write to a `ByteArrayOutputStream` pointing to your input and output byte arrays.","title":"convert zip byte[] to unzip byte[]","body":"<p>You can use <code>ZipInputStream</code> and <code>ZipOutputStream</code> (in the package <code>java.util.zip</code>) to read and write from ZIP files.</p>\n\n<p>If you have the data in a byte array, you can let these read from a <code>ByteArrayInputStream</code> or write to a <code>ByteArrayOutputStream</code> pointing to your input and output byte arrays.</p>\n"},{"tags":[],"owner":{"account_id":5878264,"reputation":4162,"user_id":4628501,"accept_rate":78,"display_name":"coyer"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1550762090,"creation_date":1550762090,"answer_id":54810379,"question_id":9209450,"body_markdown":"In case you need to `deflate` your zipped data and you are too lazy to deal with the streams, you can use the following code:\r\n\r\n    public byte[] deflate(byte[] data) throws IOException, DataFormatException {\r\n        Inflater inflater = new Inflater();\r\n        inflater.setInput(data);\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream(data.length);\r\n        byte[] buffer = new byte[1024];\r\n        while (!inflater.finished()) {\r\n            int count = inflater.inflate(buffer);\r\n            outputStream.write(buffer, 0, count);\r\n        }\r\n        outputStream.close();\r\n        byte[] output = outputStream.toByteArray();\r\n        return output;\r\n    }","title":"convert zip byte[] to unzip byte[]","body":"<p>In case you need to <code>deflate</code> your zipped data and you are too lazy to deal with the streams, you can use the following code:</p>\n\n<pre><code>public byte[] deflate(byte[] data) throws IOException, DataFormatException {\n    Inflater inflater = new Inflater();\n    inflater.setInput(data);\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream(data.length);\n    byte[] buffer = new byte[1024];\n    while (!inflater.finished()) {\n        int count = inflater.inflate(buffer);\n        outputStream.write(buffer, 0, count);\n    }\n    outputStream.close();\n    byte[] output = outputStream.toByteArray();\n    return output;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20342623,"reputation":91,"user_id":14921458,"display_name":"sudhansu"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1609484497,"creation_date":1609483177,"answer_id":65527755,"question_id":9209450,"body_markdown":"```java\r\npublic static List&lt;ZipEntry&gt; extractZipEntries(byte[] content) throws IOException {\r\n    List&lt;ZipEntry&gt; entries = new ArrayList&lt;&gt;();\r\n   \r\n    ZipInputStream zipStream = new ZipInputStream(new ByteArrayInputStream(content));\r\n    ZipEntry entry = null;\r\n    while ((entry = zipStream.getNextEntry()) != null)\r\n    {\r\n        System.out.println( &quot;entry: &quot; + entry );\r\n        ZipOutputStream stream= new ZipOutputStream(new FileOutputStream(new File(&quot;F:\\\\ssd\\\\wer\\\\&quot;+entry.getName())));\r\n        stream.putNextEntry(entry);\r\n    }\r\n    zipStream.close();\r\n   \r\n    return entries;\r\n}\r\n```","title":"convert zip byte[] to unzip byte[]","body":"<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;ZipEntry&gt; extractZipEntries(byte[] content) throws IOException {\n    List&lt;ZipEntry&gt; entries = new ArrayList&lt;&gt;();\n   \n    ZipInputStream zipStream = new ZipInputStream(new ByteArrayInputStream(content));\n    ZipEntry entry = null;\n    while ((entry = zipStream.getNextEntry()) != null)\n    {\n        System.out.println( &quot;entry: &quot; + entry );\n        ZipOutputStream stream= new ZipOutputStream(new FileOutputStream(new File(&quot;F:\\\\ssd\\\\wer\\\\&quot;+entry.getName())));\n        stream.putNextEntry(entry);\n    }\n    zipStream.close();\n   \n    return entries;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8732642,"reputation":135,"user_id":6532188,"display_name":"valeesi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654762454,"creation_date":1654762454,"answer_id":72556866,"question_id":9209450,"body_markdown":"If you have only one file in the zip, you could use the following code. If there are multiple files, just modify the `if` into a `while`.\r\n```\r\npublic static byte[] toUnzippedByteArray(byte[] zippedBytes) throws IOException {\r\n    var zipInputStream = new ZipInputStream(new ByteArrayInputStream(zippedBytes));\r\n    var buff = new byte[1024];\r\n    if (zipInputStream.getNextEntry() != null) {\r\n        var outputStream = new ByteArrayOutputStream();\r\n        int l;\r\n        while ((l = zipInputStream.read(buff)) &gt; 0) {\r\n            outputStream.write(buff, 0, l);\r\n        }\r\n        return outputStream.toByteArray();\r\n    }\r\n    return new byte[0];\r\n}\r\n```\r\n ","title":"convert zip byte[] to unzip byte[]","body":"<p>If you have only one file in the zip, you could use the following code. If there are multiple files, just modify the <code>if</code> into a <code>while</code>.</p>\n<pre><code>public static byte[] toUnzippedByteArray(byte[] zippedBytes) throws IOException {\n    var zipInputStream = new ZipInputStream(new ByteArrayInputStream(zippedBytes));\n    var buff = new byte[1024];\n    if (zipInputStream.getNextEntry() != null) {\n        var outputStream = new ByteArrayOutputStream();\n        int l;\n        while ((l = zipInputStream.read(buff)) &gt; 0) {\n            outputStream.write(buff, 0, l);\n        }\n        return outputStream.toByteArray();\n    }\n    return new byte[0];\n}\n</code></pre>\n"}],"owner":{"account_id":323279,"reputation":319,"user_id":643194,"accept_rate":73,"display_name":"vishal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20227,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":9209509,"answer_count":4,"score":12,"last_activity_date":1654762454,"creation_date":1328784512,"question_id":9209450,"body_markdown":"I have `byte[]` of zip file. I have to unzip it without creating new file, and get `byte[]` of that unzip file.\r\nPlease help me to do that","title":"convert zip byte[] to unzip byte[]","body":"<p>I have <code>byte[]</code> of zip file. I have to unzip it without creating new file, and get <code>byte[]</code> of that unzip file.\nPlease help me to do that</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1654762730,"post_id":72556853,"comment_id":128170689,"body_markdown":"It is possible to have an embedded tomcat server in your java code.","body":"It is possible to have an embedded tomcat server in your java code."},{"owner":{"account_id":14152021,"reputation":47,"user_id":10223717,"display_name":"spn161"},"score":0,"creation_date":1654764491,"post_id":72556853,"comment_id":128171336,"body_markdown":"I know it is possible but do you know how to implement it?","body":"I know it is possible but do you know how to implement it?"}],"owner":{"account_id":14152021,"reputation":47,"user_id":10223717,"display_name":"spn161"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654762398,"creation_date":1654762398,"question_id":72556853,"body_markdown":"I am developing a Java application in windows that employs the use of a Tomcat server. I have added the Tomcat server into Eclipse and have been able to start/stop it by clicking it. I now want to be able to start/stop the server by code but have not been able to find a working solution. Please help!","title":"Starting and stopping a Tomcat server using Java","body":"<p>I am developing a Java application in windows that employs the use of a Tomcat server. I have added the Tomcat server into Eclipse and have been able to start/stop it by clicking it. I now want to be able to start/stop the server by code but have not been able to find a working solution. Please help!</p>\n"},{"tags":["java","annotations"],"owner":{"account_id":8432222,"reputation":454,"user_id":6372507,"accept_rate":100,"display_name":"Dron4K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654762323,"creation_date":1641811177,"question_id":70651079,"body_markdown":"I&#39;m working on the Spring project with Java 8. I&#39;m interesting in how elements with javax.annotation.Resource annotation precisely being processed. Where can I find processor for that annotation? I mean processor which should be run during compile time. ","title":"Where can I find javax.annotation.Resource processor","body":"<p>I'm working on the Spring project with Java 8. I'm interesting in how elements with javax.annotation.Resource annotation precisely being processed. Where can I find processor for that annotation? I mean processor which should be run during compile time.</p>\n"},{"tags":["java","spring-boot","intellij-idea","sonarlint"],"answers":[{"tags":[],"owner":{"account_id":12259204,"reputation":2452,"user_id":8947430,"display_name":"Ismail"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654762250,"creation_date":1654677360,"answer_id":72542558,"question_id":72542326,"body_markdown":"You can replace `ResponseEntity&lt;?&gt;` instead of `ResponseEntity` on your method signature return type:\r\n\r\n    public ResponseEntity&lt;?&gt; submitAction(@RequestBody WorkflowActionDto workflowActionDto)\r\n\r\nYou can avoid IDE warnings, but they are actually the same, compiler would replace it with generic type, so `ResponseEntity&lt;?&gt;` and `ResponseEntity` are the same.\r\n\r\n**EDIT:**\r\n\r\nAs I see you are returning `ResponseEntity.ok(HttpStatus.OK)`, so you are returning a body of type `HttpStatus`. So you can be more explicit in your methode signature by using `ReponseEntity&lt;HttpStatus&gt;`.\r\n","title":"How to handle &quot;Raw types usage&quot; warning while sending raw ResponseEntity from Controllers?","body":"<p>You can replace <code>ResponseEntity&lt;?&gt;</code> instead of <code>ResponseEntity</code> on your method signature return type:</p>\n<pre><code>public ResponseEntity&lt;?&gt; submitAction(@RequestBody WorkflowActionDto workflowActionDto)\n</code></pre>\n<p>You can avoid IDE warnings, but they are actually the same, compiler would replace it with generic type, so <code>ResponseEntity&lt;?&gt;</code> and <code>ResponseEntity</code> are the same.</p>\n<p><strong>EDIT:</strong></p>\n<p>As I see you are returning <code>ResponseEntity.ok(HttpStatus.OK)</code>, so you are returning a body of type <code>HttpStatus</code>. So you can be more explicit in your methode signature by using <code>ReponseEntity&lt;HttpStatus&gt;</code>.</p>\n"}],"owner":{"account_id":4308682,"reputation":12623,"user_id":3520404,"display_name":"saran3h"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":624,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72542558,"answer_count":1,"score":0,"last_activity_date":1654762250,"creation_date":1654676247,"question_id":72542326,"body_markdown":"I have a simple APIs that initiates some action on records and return a 200 response:\r\n\r\n```\r\n\t/**\r\n\t * Initiate some workflow.\r\n\t *\r\n\t * @param recordsBulkInitiate records to initiate\r\n\t * @return {@link ResponseEntity}\r\n\t */\r\n\t@ApiOperation(value = &quot;initiate workflow&quot;)\r\n\t@PostMapping(&quot;/initiate&quot;)\r\n\tpublic ResponseEntity bulkInitiateRecords(@RequestBody InitiateBulkRecordsDto recordsBulkInitiate) {\r\n\t\tworkflowService.bulkInitiate(recordsBulkInitiate);\r\n\t\treturn ResponseEntity.ok(OK);\r\n\t}\r\n\r\n\t/**\r\n\t * Submit some workflow action on arecord\r\n\t *\r\n\t * @param workflowActionDto the record action data\r\n\t * @return {@link ResponseEntity}\r\n\t */\r\n\t@ApiOperation(value = &quot;action taken by user&quot;)\r\n\t@PostMapping(&quot;/action&quot;)\r\n\tpublic ResponseEntity submitAction(@RequestBody WorkflowActionDto workflowActionDto) {\r\n\t\tlog.info(&quot;submit action on record [{}]&quot;, workflowActionDto);\r\n\t\tworkflowService.submitRecordAction(workflowActionDto);\r\n\t\treturn ResponseEntity.ok(OK);\r\n\t}\r\n```\r\n\r\nBoth Sonarlint and intellij throws warnings: &quot;Raw types should not be used&quot;. \r\n\r\nHow should I handle this warning? For now, I&#39;m just using `ResponseEntity&lt;Object&gt;` which seems like a hack.\r\n","title":"How to handle &quot;Raw types usage&quot; warning while sending raw ResponseEntity from Controllers?","body":"<p>I have a simple APIs that initiates some action on records and return a 200 response:</p>\n<pre><code>    /**\n     * Initiate some workflow.\n     *\n     * @param recordsBulkInitiate records to initiate\n     * @return {@link ResponseEntity}\n     */\n    @ApiOperation(value = &quot;initiate workflow&quot;)\n    @PostMapping(&quot;/initiate&quot;)\n    public ResponseEntity bulkInitiateRecords(@RequestBody InitiateBulkRecordsDto recordsBulkInitiate) {\n        workflowService.bulkInitiate(recordsBulkInitiate);\n        return ResponseEntity.ok(OK);\n    }\n\n    /**\n     * Submit some workflow action on arecord\n     *\n     * @param workflowActionDto the record action data\n     * @return {@link ResponseEntity}\n     */\n    @ApiOperation(value = &quot;action taken by user&quot;)\n    @PostMapping(&quot;/action&quot;)\n    public ResponseEntity submitAction(@RequestBody WorkflowActionDto workflowActionDto) {\n        log.info(&quot;submit action on record [{}]&quot;, workflowActionDto);\n        workflowService.submitRecordAction(workflowActionDto);\n        return ResponseEntity.ok(OK);\n    }\n</code></pre>\n<p>Both Sonarlint and intellij throws warnings: &quot;Raw types should not be used&quot;.</p>\n<p>How should I handle this warning? For now, I'm just using <code>ResponseEntity&lt;Object&gt;</code> which seems like a hack.</p>\n"},{"tags":["java","docker","jboss","wildfly"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1654785601,"post_id":72556807,"comment_id":128179560,"body_markdown":"Are you taking advantage of anything in Java 12+?  If not you can recompile as a Java 11 project.","body":"Are you taking advantage of anything in Java 12+?  If not you can recompile as a Java 11 project."},{"owner":{"account_id":17051440,"reputation":83,"user_id":12336976,"display_name":"Daniel"},"score":0,"creation_date":1654849890,"post_id":72556807,"comment_id":128195030,"body_markdown":"Yeah I use some Stuff from newer JavaVersions. Therefore a recompile ist nothing, I can do.\nI could get access to the admin console and as I thought, it seems like the wrong javaversion is running. I can&#39;t deploy the WAR due to an Error coming from a class which uses newer javaversion stuff.\n\nMaybe I just set up m own image based on java17 and install wildfly on that.","body":"Yeah I use some Stuff from newer JavaVersions. Therefore a recompile ist nothing, I can do. I could get access to the admin console and as I thought, it seems like the wrong javaversion is running. I can&#39;t deploy the WAR due to an Error coming from a class which uses newer javaversion stuff.  Maybe I just set up m own image based on java17 and install wildfly on that."},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1654865944,"post_id":72556807,"comment_id":128200749,"body_markdown":"Building your own makes the most sense then.  It shouldn&#39;t be too bad as you can use that container as a pattern.","body":"Building your own makes the most sense then.  It shouldn&#39;t be too bad as you can use that container as a pattern."}],"owner":{"account_id":17051440,"reputation":83,"user_id":12336976,"display_name":"Daniel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654762207,"creation_date":1654762207,"question_id":72556807,"body_markdown":"I&#39;m really new to Docker and wanted to setup a Wildfly-Container (v26) and deploying a .war-File to it.\r\nThe problem I&#39;ve encountered is, that Wildfly is using [JDK11][1] as base image.\r\n\r\nMy program was written in JDK17. I&#39;ve found [this][2] to change the JDK and the wildfly is running, but I have no idea if it worked. Is there any command or way to read out the used java version the docker image of wildfly is now using?\r\n\r\nSure I could &#39;just deploy&#39; the war, but I have no access to the admin console. It looks like there is another problem I have to fix before.\r\n\r\n\r\n  [1]: https://github.com/jboss-dockerfiles/wildfly/blob/master/Dockerfile\r\n  [2]: https://stackoverflow.com/questions/70517507/updating-openjdk-version-in-an-older-jboss-wildfly-docker-image","title":"How to change the JavaVersion of Jboss/wildfly Dockerimage","body":"<p>I'm really new to Docker and wanted to setup a Wildfly-Container (v26) and deploying a .war-File to it.\nThe problem I've encountered is, that Wildfly is using <a href=\"https://github.com/jboss-dockerfiles/wildfly/blob/master/Dockerfile\" rel=\"nofollow noreferrer\">JDK11</a> as base image.</p>\n<p>My program was written in JDK17. I've found <a href=\"https://stackoverflow.com/questions/70517507/updating-openjdk-version-in-an-older-jboss-wildfly-docker-image\">this</a> to change the JDK and the wildfly is running, but I have no idea if it worked. Is there any command or way to read out the used java version the docker image of wildfly is now using?</p>\n<p>Sure I could 'just deploy' the war, but I have no access to the admin console. It looks like there is another problem I have to fix before.</p>\n"},{"tags":["java","calendar"],"comments":[{"owner":{"account_id":71001,"reputation":24087,"user_id":205426,"accept_rate":60,"display_name":"Woot4Moo"},"score":2,"creation_date":1357749301,"post_id":14241836,"comment_id":19759748,"body_markdown":"possible duplicate of [How to get the first day of the current week and month?](http://stackoverflow.com/questions/2937086/how-to-get-the-first-day-of-the-current-week-and-month)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2937086/how-to-get-the-first-day-of-the-current-week-and-month\">How to get the first day of the current week and month?</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1631896004,"post_id":14241836,"comment_id":122356143,"body_markdown":"The terrible `Date` and `Calendar` classes are now legacy, supplanted years ago by the modern *java.time* classes defined in JSR 310.","body":"The terrible <code>Date</code> and <code>Calendar</code> classes are now legacy, supplanted years ago by the modern <i>java.time</i> classes defined in JSR 310."}],"answers":[{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":124,"is_accepted":true,"score":124,"last_activity_date":1509540336,"creation_date":1357749453,"answer_id":14241940,"question_id":14241836,"body_markdown":"try \r\n\r\n\t\tCalendar c = Calendar.getInstance();   // this takes current date\r\n\t\tc.set(Calendar.DAY_OF_MONTH, 1);\r\n\t\tSystem.out.println(c.getTime());       // this returns java.util.Date\r\n\r\nUpdated ([Since Java 8][1]):\r\n\r\n    import java.time.LocalDate;\r\n    LocalDate todaydate = LocalDate.now();\r\n    System.out.println(&quot;Months first date in yyyy-mm-dd: &quot; +todaydate.withDayOfMonth(1));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html","title":"Get first date of current month in java","body":"<p>try </p>\n\n<pre><code>    Calendar c = Calendar.getInstance();   // this takes current date\n    c.set(Calendar.DAY_OF_MONTH, 1);\n    System.out.println(c.getTime());       // this returns java.util.Date\n</code></pre>\n\n<p>Updated (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\">Since Java 8</a>):</p>\n\n<pre><code>import java.time.LocalDate;\nLocalDate todaydate = LocalDate.now();\nSystem.out.println(\"Months first date in yyyy-mm-dd: \" +todaydate.withDayOfMonth(1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":395910,"reputation":14044,"user_id":759126,"accept_rate":100,"display_name":"partlov"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1357749466,"creation_date":1357749466,"answer_id":14241943,"question_id":14241836,"body_markdown":"    Calendar date = Calendar.getInstance();\r\n    date.set(Calendar.DAY_OF_MONTH, 1);","title":"Get first date of current month in java","body":"<pre><code>Calendar date = Calendar.getInstance();\ndate.set(Calendar.DAY_OF_MONTH, 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1620664782,"creation_date":1446959472,"answer_id":33590971,"question_id":14241836,"body_markdown":"# tl;dr\r\n\r\n&gt; How to get the first date of the current month correctly?\r\n\r\n    LocalDate.now()\r\n             .with( TemporalAdjusters.firstDayOfMonth() )\r\n\r\nOr\r\n\r\n    LocalDate.now().withDayOfMonth( 1 )\r\n\r\nOr\r\n\r\n    YearMonth.now().atDay( 1 )\r\n\r\n# java.time\r\n\r\nThe [java.time][1] framework in Java 8 and later supplants the old java.util.Date/.Calendar classes. The old classes have proven to be troublesome, confusing, and flawed. Avoid them.\r\n\r\nThe java.time framework is inspired by the highly-successful [Joda-Time](http://www.joda.org/joda-time/) library, defined by [JSR&#160;310](http://jcp.org/en/jsr/detail?id=310), extended by the [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project, and explained in the [Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html).\r\n\r\n## `LocalDate`\r\n\r\nFor a date-only value, without time-of-day, use the `LocalDate` class. While `LocalDate` has no assigned time zone, we must specify a time zone in order to determine a date such as today. For example, a new day dawns earlier in Paris than in Montr&#233;al. \r\n\r\nTime zone is crucial in determining today&#39;s date. For any given moment, the date varies around the world by zone. Omitting the time zone means the JVMs current time zone is automatically applied in determining the current date. Any code in the JVM can change the default at runtime, so you are walking on shifting sands. Better to specify your desired/expected time zone explicitly than rely implicitly on the current default.\r\n\r\nSpecify a [proper time zone name](https://en.wikipedia.org/wiki/List_of_tz_zones_by_name) in the format of `continent/region`, such as [`America/Montreal`](https://en.wikipedia.org/wiki/America/Montreal), [`Africa/Casablanca`](https://en.wikipedia.org/wiki/Africa/Casablanca), or `Pacific/Auckland`. Never use the 3-4 letter abbreviation such as `EST` or `IST` as they are *not* true time zones, not standardized, and not even unique(!). \r\n\r\nIn code, first we determine todays date as seen in the particular time zone.\r\n\r\n    ZoneId zoneId = ZoneId.of ( &quot;America/Montreal&quot; );\r\n    LocalDate today = LocalDate.now ( zoneId );\r\n\r\nThen we adjust the day-of-month to the 1st.\r\n\r\n    LocalDate firstOfCurrentMonth = today.with ( ChronoField.DAY_OF_MONTH , 1 );\r\n\r\nOr, more simply:\r\n\r\n    LocalDate firstOfCurrentMonth = today.withDayOfMonth( 1 ) ;\r\n\r\nDump to console.\r\n\r\n    System.out.println ( &quot;For zoneId: &quot; + zoneId + &quot; today is: &quot; + today + &quot; and first of this month is &quot; + firstOfCurrentMonth );\r\n\r\n&gt;For zoneId: America/Montreal today is: 2015-11-08 and first of this month is 2015-11-01\r\n\r\nAlternatively, use a [`TemporalAdjuster`][2]. For your purpose, you will find handy implementations in the [`TemporalAdjusters`][3] class (note plural `s`), specifically [`firstDayOfMonth`][4].\r\n\r\n    LocalDate firstOfCurrentMonth = today.with( TemporalAdjusters.firstDayOfMonth() ) ;\r\n\r\n\r\n## `ZonedDateTime`\r\n\r\nIf you need a time of day, remember that `00:00:00.000` is *not* always the first moment of the day because of Daylight Saving Time (DST) and perhaps other anomalies. So let java.time determine the correct time of the first moment of the day.\r\n\r\n    ZonedDateTime zdt = firstOfCurrentMonth.atStartOfDay ( zoneId );\r\n\r\n&gt;2015-11-01T00:00-04:00[America/Montreal]\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/9/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the java.time classes.\r\n  - For earlier Android, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above). See [*How to use ThreeTenABP*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjuster.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html#firstDayOfMonth--","title":"Get first date of current month in java","body":"<h1>tl;dr</h1>\n<blockquote>\n<p>How to get the first date of the current month correctly?</p>\n</blockquote>\n<pre><code>LocalDate.now()\n         .with( TemporalAdjusters.firstDayOfMonth() )\n</code></pre>\n<p>Or</p>\n<pre><code>LocalDate.now().withDayOfMonth( 1 )\n</code></pre>\n<p>Or</p>\n<pre><code>YearMonth.now().atDay( 1 )\n</code></pre>\n<h1>java.time</h1>\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework in Java 8 and later supplants the old java.util.Date/.Calendar classes. The old classes have proven to be troublesome, confusing, and flawed. Avoid them.</p>\n<p>The java.time framework is inspired by the highly-successful <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> library, defined by <a href=\"http://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR310</a>, extended by the <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\">ThreeTen-Extra</a> project, and explained in the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\">Tutorial</a>.</p>\n<h2><code>LocalDate</code></h2>\n<p>For a date-only value, without time-of-day, use the <code>LocalDate</code> class. While <code>LocalDate</code> has no assigned time zone, we must specify a time zone in order to determine a date such as today. For example, a new day dawns earlier in Paris than in Montral.</p>\n<p>Time zone is crucial in determining today's date. For any given moment, the date varies around the world by zone. Omitting the time zone means the JVMs current time zone is automatically applied in determining the current date. Any code in the JVM can change the default at runtime, so you are walking on shifting sands. Better to specify your desired/expected time zone explicitly than rely implicitly on the current default.</p>\n<p>Specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" rel=\"noreferrer\">proper time zone name</a> in the format of <code>continent/region</code>, such as <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"noreferrer\"><code>America/Montreal</code></a>, <a href=\"https://en.wikipedia.org/wiki/Africa/Casablanca\" rel=\"noreferrer\"><code>Africa/Casablanca</code></a>, or <code>Pacific/Auckland</code>. Never use the 3-4 letter abbreviation such as <code>EST</code> or <code>IST</code> as they are <em>not</em> true time zones, not standardized, and not even unique(!).</p>\n<p>In code, first we determine todays date as seen in the particular time zone.</p>\n<pre><code>ZoneId zoneId = ZoneId.of ( &quot;America/Montreal&quot; );\nLocalDate today = LocalDate.now ( zoneId );\n</code></pre>\n<p>Then we adjust the day-of-month to the 1st.</p>\n<pre><code>LocalDate firstOfCurrentMonth = today.with ( ChronoField.DAY_OF_MONTH , 1 );\n</code></pre>\n<p>Or, more simply:</p>\n<pre><code>LocalDate firstOfCurrentMonth = today.withDayOfMonth( 1 ) ;\n</code></pre>\n<p>Dump to console.</p>\n<pre><code>System.out.println ( &quot;For zoneId: &quot; + zoneId + &quot; today is: &quot; + today + &quot; and first of this month is &quot; + firstOfCurrentMonth );\n</code></pre>\n<blockquote>\n<p>For zoneId: America/Montreal today is: 2015-11-08 and first of this month is 2015-11-01</p>\n</blockquote>\n<p>Alternatively, use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjuster.html\" rel=\"noreferrer\"><code>TemporalAdjuster</code></a>. For your purpose, you will find handy implementations in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html\" rel=\"noreferrer\"><code>TemporalAdjusters</code></a> class (note plural <code>s</code>), specifically <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html#firstDayOfMonth--\" rel=\"noreferrer\"><code>firstDayOfMonth</code></a>.</p>\n<pre><code>LocalDate firstOfCurrentMonth = today.with( TemporalAdjusters.firstDayOfMonth() ) ;\n</code></pre>\n<h2><code>ZonedDateTime</code></h2>\n<p>If you need a time of day, remember that <code>00:00:00.000</code> is <em>not</em> always the first moment of the day because of Daylight Saving Time (DST) and perhaps other anomalies. So let java.time determine the correct time of the first moment of the day.</p>\n<pre><code>ZonedDateTime zdt = firstOfCurrentMonth.atStartOfDay ( zoneId );\n</code></pre>\n<blockquote>\n<p>2015-11-01T00:00-04:00[America/Montreal]</p>\n</blockquote>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, and later</li>\n<li>Built-in.</li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a></li>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a></li>\n<li>Later versions of Android bundle implementations of the java.time classes.</li>\n<li>For earlier Android, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <em>ThreeTen-Backport</em> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP</em></a>.</li>\n</ul>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":1790766,"reputation":1110,"user_id":1631235,"accept_rate":60,"display_name":"ankit.vishen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1465412380,"creation_date":1465412380,"answer_id":37710768,"question_id":14241836,"body_markdown":"**Joda Time**\r\n\r\nIf I am understanding the question correctly, it can be done very easily by using joda time\r\n\r\n    LocalDate fromDate = new LocalDate().withDayOfMonth(1);\r\n\tLocalDate toDate = new LocalDate().minusDays(1);","title":"Get first date of current month in java","body":"<p><strong>Joda Time</strong></p>\n\n<p>If I am understanding the question correctly, it can be done very easily by using joda time</p>\n\n<pre><code>LocalDate fromDate = new LocalDate().withDayOfMonth(1);\nLocalDate toDate = new LocalDate().minusDays(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1494705,"reputation":3719,"user_id":1400943,"accept_rate":48,"display_name":"efirat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512377055,"creation_date":1512377055,"answer_id":47629457,"question_id":14241836,"body_markdown":"If you also want the time is set to 0 the code is: \r\n\r\n\r\n    import java.util.*;\r\n    import java.text.*;\r\n    \r\n    public class DateCalculations {\r\n      public static void main(String[] args) {\r\n        \r\n        Calendar aCalendar = Calendar.getInstance();\r\n    \t    \t\r\n    \taCalendar.set(Calendar.DATE, 1);\r\n    \taCalendar.set(Calendar.HOUR_OF_DAY, 0);\r\n    \taCalendar.set(Calendar.MINUTE, 0);\r\n    \taCalendar.set(Calendar.SECOND, 0);\r\n    \t\r\n    \tDate firstDateOfCurrentMonth = aCalendar.getTime();\r\n    \t\r\n    \tSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss zZ&quot;);\r\n    \tsdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n    \t\r\n    \tString dayFirst = sdf.format(firstDateOfCurrentMonth);\r\n    \tSystem.out.println(dayFirst);\r\n      }\r\n    }\r\n\r\n\r\nYou can check online easily without compiling by using: \r\nhttp://www.browxy.com/","title":"Get first date of current month in java","body":"<p>If you also want the time is set to 0 the code is: </p>\n\n<pre><code>import java.util.*;\nimport java.text.*;\n\npublic class DateCalculations {\n  public static void main(String[] args) {\n\n    Calendar aCalendar = Calendar.getInstance();\n\n    aCalendar.set(Calendar.DATE, 1);\n    aCalendar.set(Calendar.HOUR_OF_DAY, 0);\n    aCalendar.set(Calendar.MINUTE, 0);\n    aCalendar.set(Calendar.SECOND, 0);\n\n    Date firstDateOfCurrentMonth = aCalendar.getTime();\n\n    SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss zZ\");\n    sdf.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n\n    String dayFirst = sdf.format(firstDateOfCurrentMonth);\n    System.out.println(dayFirst);\n  }\n}\n</code></pre>\n\n<p>You can check online easily without compiling by using: \n<a href=\"http://www.browxy.com/\" rel=\"nofollow noreferrer\">http://www.browxy.com/</a></p>\n"},{"tags":[],"owner":{"account_id":9660059,"reputation":1877,"user_id":7168430,"display_name":"Debasish Ghosh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518248813,"creation_date":1518006439,"answer_id":48663811,"question_id":14241836,"body_markdown":"Works Like a charm!\r\n------------------------------------------------------\r\n\r\n    public static String  getCurrentMonthFirstDate(){\r\n        Calendar c = Calendar.getInstance();   \r\n        c.set(Calendar.DAY_OF_MONTH, 1);\r\n        DateFormat df = new SimpleDateFormat(&quot;MM-dd-yyyy&quot;);\r\n        //System.out.println(df.format(c.getTime())); \r\n        return df.format(c.getTime());\r\n    }\r\n\r\n //Correction :output =02-01-2018[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mGla4.png","title":"Get first date of current month in java","body":"<h2>Works Like a charm!</h2>\n\n<pre><code>public static String  getCurrentMonthFirstDate(){\n    Calendar c = Calendar.getInstance();   \n    c.set(Calendar.DAY_OF_MONTH, 1);\n    DateFormat df = new SimpleDateFormat(\"MM-dd-yyyy\");\n    //System.out.println(df.format(c.getTime())); \n    return df.format(c.getTime());\n}\n</code></pre>\n\n<p>//Correction :output =02-01-2018<a href=\"https://i.stack.imgur.com/mGla4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mGla4.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6615217,"reputation":6120,"user_id":5108737,"display_name":"Ruslan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568711982,"creation_date":1568711982,"answer_id":57971159,"question_id":14241836,"body_markdown":"You can use [`withDayOfMonth(int dayOfMonth)`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#withDayOfMonth-int-) method from **java8** to return first day of month:\r\n\r\n    LocalDate firstDay = LocalDate.now().withDayOfMonth(1);\r\n    System.out.println(firstDay);   // 2019-09-01\r\n","title":"Get first date of current month in java","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#withDayOfMonth-int-\" rel=\"nofollow noreferrer\"><code>withDayOfMonth(int dayOfMonth)</code></a> method from <strong>java8</strong> to return first day of month:</p>\n\n<pre><code>LocalDate firstDay = LocalDate.now().withDayOfMonth(1);\nSystem.out.println(firstDay);   // 2019-09-01\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15441265,"reputation":21,"user_id":11139760,"display_name":"Olivier Catta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601649221,"creation_date":1601649221,"answer_id":64173375,"question_id":14241836,"body_markdown":"In order to get a Date (that can be used in JPA later on), I did\r\n\r\n    Date startOfMonth = Date.from(LocalDate.now().withDayOfMonth(1).atStartOfDay().toInstant(ZoneOffset.UTC));\r\n\r\n- I take current date LocalDate.now()\r\n- Move it to first day of the month withDayOfMonth(1)\r\n- Move it to the sart of the day atStartOfDay() to get rid of hours and minutes\r\n- and deal with the TimeZone issues by changing it into an Instant with the &quot;right&quot; ZoneOffset.","title":"Get first date of current month in java","body":"<p>In order to get a Date (that can be used in JPA later on), I did</p>\n<pre><code>Date startOfMonth = Date.from(LocalDate.now().withDayOfMonth(1).atStartOfDay().toInstant(ZoneOffset.UTC));\n</code></pre>\n<ul>\n<li>I take current date LocalDate.now()</li>\n<li>Move it to first day of the month withDayOfMonth(1)</li>\n<li>Move it to the sart of the day atStartOfDay() to get rid of hours and minutes</li>\n<li>and deal with the TimeZone issues by changing it into an Instant with the &quot;right&quot; ZoneOffset.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5690856,"reputation":11,"user_id":4498970,"display_name":"Cudox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610475885,"creation_date":1610475885,"answer_id":65689814,"question_id":14241836,"body_markdown":"In Java 8 you can use:\r\n\r\n    LocalDate date = LocalDate.now(); //2020-01-12\r\n    date.withDayOfMonth(1); //2020-01-01\r\n\r\n","title":"Get first date of current month in java","body":"<p>In Java 8 you can use:</p>\n<pre><code>LocalDate date = LocalDate.now(); //2020-01-12\ndate.withDayOfMonth(1); //2020-01-01\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12595173,"reputation":477,"user_id":9160102,"display_name":"Bruno L."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613901743,"creation_date":1613901743,"answer_id":66301105,"question_id":14241836,"body_markdown":"First day of month of a date:    \r\n\r\n    public static Date firstDayOfMonth(Date d) {\r\n\t\t\r\n\t\tCalendar calendar = new GregorianCalendar();\r\n\t\tcalendar.setTime(d);\r\n\t    calendar.set(Calendar.DAY_OF_MONTH, 1);\r\n\t    \r\n\t    return calendar.getTime();  \r\n\t}","title":"Get first date of current month in java","body":"<p>First day of month of a date:</p>\n<pre><code>public static Date firstDayOfMonth(Date d) {\n    \n    Calendar calendar = new GregorianCalendar();\n    calendar.setTime(d);\n    calendar.set(Calendar.DAY_OF_MONTH, 1);\n    \n    return calendar.getTime();  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15403413,"reputation":53,"user_id":11112170,"display_name":"Palak Soni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654762120,"creation_date":1654762120,"answer_id":72556789,"question_id":14241836,"body_markdown":"Another way by using JodaTime package \r\ndepends on ur requirement can use Zone it or you can remove\r\n````import org.joda.time.DateTime;\r\nimport org.joda.time.DateTimeZone;\r\nDateTime previousMonthStartDate = DateTime.now().minusMonths(1).withDayOfMonth(1).toDateTime(DateTimeZone.forID(&quot;Asia/Calcutta&quot;));\r\n    String previousMonthStDate = previousMonthStartDate.toString(&quot;yyyy-MMMM-dd&quot;);\r\n    System.out.println(previousMonthStDate);\r\n````","title":"Get first date of current month in java","body":"<p>Another way by using JodaTime package\ndepends on ur requirement can use Zone it or you can remove</p>\n<pre><code>import org.joda.time.DateTimeZone;\nDateTime previousMonthStartDate = DateTime.now().minusMonths(1).withDayOfMonth(1).toDateTime(DateTimeZone.forID(&quot;Asia/Calcutta&quot;));\n    String previousMonthStDate = previousMonthStartDate.toString(&quot;yyyy-MMMM-dd&quot;);\n    System.out.println(previousMonthStDate);\n</code></pre>\n"}],"owner":{"display_name":"user959883"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184593,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"accepted_answer_id":14241940,"answer_count":11,"score":66,"last_activity_date":1654762120,"creation_date":1357749156,"question_id":14241836,"body_markdown":"I am trying to get to and from date where `ToDate` will have previous date and `FromDate` will have first date of the current month. For January it would be `1/1/2013` and so on. How to get the first date of the current month correctly? I am not able to do it.\r\n\r\n    today.add(Calendar.DAY_OF_MONTH, -1);\r\n    java.util.Date previousDay=today.getTime();\r\n    ToDate = sdfFile1.format(newjava.sql.Date(previousDay.getTime()));\r\n    today.add(Calendar.DATE, 1);\r\n    java.util.Date nextDay=today.getTime();\r\n    FromDate = sdfFile1.format(new java.sql.Date(nextDay.getTime()));","title":"Get first date of current month in java","body":"<p>I am trying to get to and from date where <code>ToDate</code> will have previous date and <code>FromDate</code> will have first date of the current month. For January it would be <code>1/1/2013</code> and so on. How to get the first date of the current month correctly? I am not able to do it.</p>\n\n<pre><code>today.add(Calendar.DAY_OF_MONTH, -1);\njava.util.Date previousDay=today.getTime();\nToDate = sdfFile1.format(newjava.sql.Date(previousDay.getTime()));\ntoday.add(Calendar.DATE, 1);\njava.util.Date nextDay=today.getTime();\nFromDate = sdfFile1.format(new java.sql.Date(nextDay.getTime()));\n</code></pre>\n"},{"tags":["java","spring","rest","request","response"],"answers":[{"tags":[],"owner":{"account_id":971515,"reputation":1711,"user_id":994006,"accept_rate":75,"display_name":"Nice Books"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654695077,"creation_date":1654695077,"answer_id":72546591,"question_id":72543646,"body_markdown":"You can check [HttpClient][1]\r\n\r\n    URI uri = URI.create(&quot;10.20.30.111:30/endpoint&quot;);\r\n    HttpRequest req = HttpRequest.newBuilder().uri(uri).build();\r\n\tHttpResponse&lt;String&gt; response = httpClient.send(req,HttpResponse.BodyHandlers.ofString());\r\n    String body = response.body();\r\n\r\nIf the response is json, you can convert the String response body to a custom object using [JSONB][2].\r\n\r\n    Jsonb jsonb = JsonBuilder.create();\r\n    MyDataClass myDataObject = jsonb.fromJson(body, MyDataClass.class);\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.net.http/java/net/http/HttpClient.html\r\n  [2]: https://javaee.github.io/javaee-spec/javadocs/javax/json/bind/Jsonb.html","title":"Post request to external service with data in Springboot","body":"<p>You can check <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.net.http/java/net/http/HttpClient.html\" rel=\"nofollow noreferrer\">HttpClient</a></p>\n<pre><code>URI uri = URI.create(&quot;10.20.30.111:30/endpoint&quot;);\nHttpRequest req = HttpRequest.newBuilder().uri(uri).build();\nHttpResponse&lt;String&gt; response = httpClient.send(req,HttpResponse.BodyHandlers.ofString());\nString body = response.body();\n</code></pre>\n<p>If the response is json, you can convert the String response body to a custom object using <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/json/bind/Jsonb.html\" rel=\"nofollow noreferrer\">JSONB</a>.</p>\n<pre><code>Jsonb jsonb = JsonBuilder.create();\nMyDataClass myDataObject = jsonb.fromJson(body, MyDataClass.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22140903,"reputation":105,"user_id":16390946,"display_name":"Ion Ionets"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654762117,"creation_date":1654762117,"answer_id":72556788,"question_id":72543646,"body_markdown":"Check the Feign Client:\r\nhttps://cloud.spring.io/spring-cloud-netflix/multi/multi_spring-cloud-feign.html\r\n\r\nYour POST request will be implemented by an Interface like:\r\n\r\n    @FeignClient(&quot;stores&quot;)\r\n    public interface StoreClient {\r\n    \r\n    @RequestMapping(method = RequestMethod.POST, value = &quot;/stores/{storeId}&quot;, consumes = &quot;application/json&quot;)\r\n    Store update(@PathVariable(&quot;storeId&quot;) Long storeId, Store store);\r\n     }","title":"Post request to external service with data in Springboot","body":"<p>Check the Feign Client:\n<a href=\"https://cloud.spring.io/spring-cloud-netflix/multi/multi_spring-cloud-feign.html\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-netflix/multi/multi_spring-cloud-feign.html</a></p>\n<p>Your POST request will be implemented by an Interface like:</p>\n<pre><code>@FeignClient(&quot;stores&quot;)\npublic interface StoreClient {\n\n@RequestMapping(method = RequestMethod.POST, value = &quot;/stores/{storeId}&quot;, consumes = &quot;application/json&quot;)\nStore update(@PathVariable(&quot;storeId&quot;) Long storeId, Store store);\n }\n</code></pre>\n"}],"owner":{"account_id":3745974,"reputation":1,"user_id":3114629,"display_name":"user3114629"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1399,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1654762117,"creation_date":1654682121,"question_id":72543646,"body_markdown":"I need to send post request to external service with data. How can I achieve that in Springboot. \r\nFor example - need to connect and send a request to endpoint a 10.20.30.111:30 with some data. Then that data will be tested and send back test result as response.\r\n\r\nI am new to java and did some research but did not get any success.","title":"Post request to external service with data in Springboot","body":"<p>I need to send post request to external service with data. How can I achieve that in Springboot.\nFor example - need to connect and send a request to endpoint a 10.20.30.111:30 with some data. Then that data will be tested and send back test result as response.</p>\n<p>I am new to java and did some research but did not get any success.</p>\n"},{"tags":["java","graphql","keycloak","quarkus","quarkus-oidc"],"owner":{"account_id":5017943,"reputation":169,"user_id":4032284,"display_name":"chschroe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654761789,"creation_date":1654761789,"question_id":72556713,"body_markdown":"I want to secure a GraphQL API using authentication against Keycloak. This works fine by using the &quot;quarkus-oidc&quot; extension as described in the corresponding [guide](https://quarkus.io/guides/security-openid-connect). I simply added an &quot;@Authenticated&quot; annotation to the same method that has the &quot;@Query&quot; annotation. However, I also need to customize the 401 response in case of an authorization failure (because my client expects a JSON with some details). How can I do that?\r\n\r\nI already tried adding an ExceptionMapper (as described [here](https://quarkus.io/guides/security-built-in-authentication#how-to-customize-authentication-exception-responses)), but it is not invoked. (It works for a standard REST endpoint, though.)\r\n\r\nI also tried doing the authentication manually: I removed the &quot;@Authenticated&quot; annotation and instead injected a &quot;SecurityIdentity&quot; object. I then used the &quot;hasRole&quot; method, which throws an &quot;AuthenticationFailedException&quot; if authentication fails. I can catch this exception, but the default 401 response is already sent to the client in the background, and when I try sending any other response, I get an IllegalStateException (&quot;Response head already sent&quot;)","title":"Authenticate a GraphQL endpoint against Keycloak with custom response in Quarkus","body":"<p>I want to secure a GraphQL API using authentication against Keycloak. This works fine by using the &quot;quarkus-oidc&quot; extension as described in the corresponding <a href=\"https://quarkus.io/guides/security-openid-connect\" rel=\"nofollow noreferrer\">guide</a>. I simply added an &quot;@Authenticated&quot; annotation to the same method that has the &quot;@Query&quot; annotation. However, I also need to customize the 401 response in case of an authorization failure (because my client expects a JSON with some details). How can I do that?</p>\n<p>I already tried adding an ExceptionMapper (as described <a href=\"https://quarkus.io/guides/security-built-in-authentication#how-to-customize-authentication-exception-responses\" rel=\"nofollow noreferrer\">here</a>), but it is not invoked. (It works for a standard REST endpoint, though.)</p>\n<p>I also tried doing the authentication manually: I removed the &quot;@Authenticated&quot; annotation and instead injected a &quot;SecurityIdentity&quot; object. I then used the &quot;hasRole&quot; method, which throws an &quot;AuthenticationFailedException&quot; if authentication fails. I can catch this exception, but the default 401 response is already sent to the client in the background, and when I try sending any other response, I get an IllegalStateException (&quot;Response head already sent&quot;)</p>\n"},{"tags":["java","jpa","maven","openjpa"],"comments":[{"owner":{"account_id":21341,"reputation":8170,"user_id":51782,"accept_rate":80,"display_name":"Sri Sankaran"},"score":0,"creation_date":1323743383,"post_id":8483419,"comment_id":10495491,"body_markdown":"See http://maven.40175.n5.nabble.com/Problem-running-unit-tests-from-maven-JPA-related-td126893.html for a solution recommendation.","body":"See <a href=\"http://maven.40175.n5.nabble.com/Problem-running-unit-tests-from-maven-JPA-related-td126893.html\" rel=\"nofollow noreferrer\">maven.40175.n5.nabble.com/&hellip;</a> for a solution recommendation."},{"owner":{"account_id":1048365,"reputation":601,"user_id":1052876,"accept_rate":87,"display_name":"SQC"},"score":0,"creation_date":1323744278,"post_id":8483419,"comment_id":10495633,"body_markdown":"The recommended solution there , openejb -javaee 6.0 , doesnot exist (at least not version 6). I think the problem has a similar solution but can&#39;t seem to find it","body":"The recommended solution there , openejb -javaee 6.0 , doesnot exist (at least not version 6). I think the problem has a similar solution but can&#39;t seem to find it"},{"owner":{"account_id":1048365,"reputation":601,"user_id":1052876,"accept_rate":87,"display_name":"SQC"},"score":0,"creation_date":1323744868,"post_id":8483419,"comment_id":10495726,"body_markdown":"I have javaee6.0.jar , so I think there&#39;s something else going on","body":"I have javaee6.0.jar , so I think there&#39;s something else going on"},{"owner":{"account_id":21341,"reputation":8170,"user_id":51782,"accept_rate":80,"display_name":"Sri Sankaran"},"score":1,"creation_date":1323745258,"post_id":8483419,"comment_id":10495776,"body_markdown":"Are you saying that you are getting the problem at **compile** time?  If so my reference above is not applicable.  That addresses **runtime** problems.  Also the solution there (although over 2 years old) points to a version 5.0-1 of the javaee API.  I think you can get by with any current JavaEE container.","body":"Are you saying that you are getting the problem at <b>compile</b> time?  If so my reference above is not applicable.  That addresses <b>runtime</b> problems.  Also the solution there (although over 2 years old) points to a version 5.0-1 of the javaee API.  I think you can get by with any current JavaEE container."},{"owner":{"account_id":21341,"reputation":8170,"user_id":51782,"accept_rate":80,"display_name":"Sri Sankaran"},"score":2,"creation_date":1323745359,"post_id":8483419,"comment_id":10495797,"body_markdown":"Update your post with relevant portions of your `pom.xml`.","body":"Update your post with relevant portions of your <code>pom.xml</code>."},{"owner":{"account_id":1048365,"reputation":601,"user_id":1052876,"accept_rate":87,"display_name":"SQC"},"score":0,"creation_date":1323748374,"post_id":8483419,"comment_id":10496214,"body_markdown":"No I get errors during runtime only. Regarding the pom, I&#39;m not sure which portion is relevant as there is no javaee explicitely mentioned but looking at my project jars I can see javaee6.0 .","body":"No I get errors during runtime only. Regarding the pom, I&#39;m not sure which portion is relevant as there is no javaee explicitely mentioned but looking at my project jars I can see javaee6.0 ."},{"owner":{"account_id":1048365,"reputation":601,"user_id":1052876,"accept_rate":87,"display_name":"SQC"},"score":0,"creation_date":1323806159,"post_id":8483419,"comment_id":10512835,"body_markdown":"Problem fixed. Thanks Sri. I  added a maven dependency (glassfish openjpa).","body":"Problem fixed. Thanks Sri. I  added a maven dependency (glassfish openjpa)."}],"answers":[{"tags":[],"owner":{"account_id":1207641,"reputation":1983,"user_id":1176867,"display_name":"Alessandro Santini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356380058,"creation_date":1356380058,"answer_id":14025366,"question_id":8483419,"body_markdown":"Typically it is enough to download the JavaEE JAR directly from Oracle:\r\n\r\nhttp://www.mkyong.com/maven/how-to-download-j2ee-api-javaee-jar-from-maven/","title":"JPA ClassFormat Error &quot;Absent Code attribute in method that is not native or abstract in class file javax/persistence/Persistence&quot;","body":"<p>Typically it is enough to download the JavaEE JAR directly from Oracle:</p>\n\n<p><a href=\"http://www.mkyong.com/maven/how-to-download-j2ee-api-javaee-jar-from-maven/\" rel=\"nofollow\">http://www.mkyong.com/maven/how-to-download-j2ee-api-javaee-jar-from-maven/</a></p>\n"},{"tags":[],"owner":{"account_id":126863,"reputation":3135,"user_id":323655,"accept_rate":95,"display_name":"Mark Robinson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1551264036,"creation_date":1356394704,"answer_id":14026701,"question_id":8483419,"body_markdown":"What&#39;s happening is that your pom references javaee-api.  This package doesn&#39;t provide method bodies, just headers.  It&#39;s effectively a broken package that is &#39;fixed&#39; at runtime when deployed to a JavaEE environment.\r\n\r\nNetBeans is providing a real implementation of javaee whereas Eclipse is not.  To solve this add:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n       &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n       &lt;version&gt;2.4.0&lt;/version&gt;\r\n       &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis will provide the necessary implementations of javax.persistence and your code will work.\r\n\r\n__EDIT:__ (updated the missing artifact)\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n        &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\npick the latest dependency from [here][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.eclipse.persistence/eclipselink","title":"JPA ClassFormat Error &quot;Absent Code attribute in method that is not native or abstract in class file javax/persistence/Persistence&quot;","body":"<p>What's happening is that your pom references javaee-api.  This package doesn't provide method bodies, just headers.  It's effectively a broken package that is 'fixed' at runtime when deployed to a JavaEE environment.</p>\n\n<p>NetBeans is providing a real implementation of javaee whereas Eclipse is not.  To solve this add:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n   &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n   &lt;version&gt;2.4.0&lt;/version&gt;\n   &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>This will provide the necessary implementations of javax.persistence and your code will work.</p>\n\n<p><strong>EDIT:</strong> (updated the missing artifact)</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n    &lt;version&gt;2.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>pick the latest dependency from <a href=\"https://mvnrepository.com/artifact/org.eclipse.persistence/eclipselink\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":107057,"reputation":3790,"user_id":284830,"accept_rate":20,"display_name":"Michael Munsey"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1397492855,"creation_date":1397492855,"answer_id":23065298,"question_id":8483419,"body_markdown":"If you have a javaee dependency in your pom like\r\n\r\n     &lt;dependency&gt;\r\n      &lt;groupId&gt;javax&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n      &lt;version&gt;6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nmove it to the end of your dependencies.  Your JPA dependency must come before the javaee dependency or you will get that error.","title":"JPA ClassFormat Error &quot;Absent Code attribute in method that is not native or abstract in class file javax/persistence/Persistence&quot;","body":"<p>If you have a javaee dependency in your pom like</p>\n\n<pre><code> &lt;dependency&gt;\n  &lt;groupId&gt;javax&lt;/groupId&gt;\n  &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n  &lt;version&gt;6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>move it to the end of your dependencies.  Your JPA dependency must come before the javaee dependency or you will get that error.</p>\n"},{"tags":[],"owner":{"account_id":6193930,"reputation":2587,"user_id":4825845,"display_name":"Juan Moreno"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568401423,"creation_date":1568401423,"answer_id":57929077,"question_id":8483419,"body_markdown":"Another alternative without change the javaee api, it&#39;s to declare the real api we need first in the maven dependencies block, something like this:\r\n\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n          &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n          &lt;version&gt;${jpa-api.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;\r\n          &lt;version&gt;{slf4j.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jta&lt;/artifactId&gt;\r\n          &lt;version&gt;${jta.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javaee&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n          &lt;version&gt;${javaee-api.version}&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Another tests dependencies--&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;${junit.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n          &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n          &lt;version&gt;${assertj-core.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n          &lt;version&gt;${mockito-core.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\nWith this way, we override the classpath for our test scope. We can read about this maven behavior [here][1] and [here][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31740785/why-order-of-maven-dependencies-matter\r\n  [2]: https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Transitive_Dependencies","title":"JPA ClassFormat Error &quot;Absent Code attribute in method that is not native or abstract in class file javax/persistence/Persistence&quot;","body":"<p>Another alternative without change the javaee api, it's to declare the real api we need first in the maven dependencies block, something like this:</p>\n\n<pre><code>  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n      &lt;version&gt;${jpa-api.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n      &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;\n      &lt;version&gt;{slf4j.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n      &lt;artifactId&gt;jta&lt;/artifactId&gt;\n      &lt;version&gt;${jta.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javaee&lt;/groupId&gt;\n      &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n      &lt;version&gt;${javaee-api.version}&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Another tests dependencies--&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n      &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n      &lt;version&gt;${assertj-core.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n      &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n      &lt;version&gt;${mockito-core.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n\n<p>With this way, we override the classpath for our test scope. We can read about this maven behavior <a href=\"https://stackoverflow.com/questions/31740785/why-order-of-maven-dependencies-matter\">here</a> and <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Transitive_Dependencies\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":1048365,"reputation":601,"user_id":1052876,"accept_rate":87,"display_name":"SQC"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11813,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1654761634,"creation_date":1323740975,"question_id":8483419,"body_markdown":"I get error from eclipse when I try to invoke a 100% working code. It is for example working in my netbeans but not this eclipse project.  The error is absurd and I am almost sure it&#39;s caused by some Maven dependency for OPEN JPA that I&#39;m using. Any pointers?  \r\n\r\n    Map&lt;String,String&gt; properties = new HashMap&lt;String,String&gt;();\r\n    properties.put(PersistenceUnitProperties.JDBC_PASSWORD, &quot;&quot;);\r\n    properties.put(PersistenceUnitProperties.JDBC_USER, &quot;root&quot;);\r\n    properties.put(PersistenceUnitProperties.JDBC_URL, &quot;jdbc:mysql://localhost:3306/mydb&quot;);\r\n    properties.put(PersistenceUnitProperties.JDBC_DRIVER, &quot;com.mysql.jdbc.Driver&quot;);\r\n        \t\t\r\n    emf = Persistence.createEntityManagerFactory(&quot;Persistentunitname&quot;, properties);\r\n\r\nThe error occurs on the last line, and the error is:\r\n\r\n&gt;**ClassFormat Error &quot;Absent Code attribute in method that is not native or abstract in class file javax/persistence/Persistence&quot;**","title":"JPA ClassFormat Error &quot;Absent Code attribute in method that is not native or abstract in class file javax/persistence/Persistence&quot;","body":"<p>I get error from eclipse when I try to invoke a 100% working code. It is for example working in my netbeans but not this eclipse project.  The error is absurd and I am almost sure it's caused by some Maven dependency for OPEN JPA that I'm using. Any pointers?  </p>\n\n<pre><code>Map&lt;String,String&gt; properties = new HashMap&lt;String,String&gt;();\nproperties.put(PersistenceUnitProperties.JDBC_PASSWORD, \"\");\nproperties.put(PersistenceUnitProperties.JDBC_USER, \"root\");\nproperties.put(PersistenceUnitProperties.JDBC_URL, \"jdbc:mysql://localhost:3306/mydb\");\nproperties.put(PersistenceUnitProperties.JDBC_DRIVER, \"com.mysql.jdbc.Driver\");\n\nemf = Persistence.createEntityManagerFactory(\"Persistentunitname\", properties);\n</code></pre>\n\n<p>The error occurs on the last line, and the error is:</p>\n\n<blockquote>\n  <p><strong>ClassFormat Error \"Absent Code attribute in method that is not native or abstract in class file javax/persistence/Persistence\"</strong></p>\n</blockquote>\n"},{"tags":["java","long-integer"],"answers":[{"tags":[],"owner":{"account_id":1413944,"reputation":59678,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"down_vote_count":0,"up_vote_count":101,"is_accepted":true,"score":101,"last_activity_date":1530565179,"creation_date":1368542221,"answer_id":16546077,"question_id":16546038,"body_markdown":"That method can&#39;t return `true`.  That&#39;s the *point* of `Long.MAX_VALUE`.  It would be *really* confusing if its name were...  false.  Then it should be just called `Long.SOME_FAIRLY_LARGE_VALUE` and have literally zero reasonable uses.  Just use [Android&#39;s `isUserAGoat`](https://stackoverflow.com/q/13375357/1339987), or you may roll your own function that always returns `false`.\r\n\r\nNote that a `long` in memory takes a fixed number of bytes.  [From Oracle](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html):\r\n\r\n&gt;long: The long data type is a 64-bit signed two&#39;s complement integer. It has a minimum value of -9,223,372,036,854,775,808 and a maximum value of 9,223,372,036,854,775,807 (inclusive). Use this data type when you need a range of values wider than those provided by int.\r\n\r\nAs you may know from basic computer science or discrete math, there are 2^64 possible values for a long, since it is 64 bits.  And as you know from discrete math or number theory or common sense, if there&#39;s only finitely many possibilities, one of them has to be the largest.  That would be `Long.MAX_VALUE`.  So you are asking something similar to &quot;is there an integer that&#39;s &gt;0 and &lt; 1?&quot;  Mathematically nonsensical.\r\n\r\nIf you actually need this for something for real then use `BigInteger` class.","title":"A long bigger than Long.MAX_VALUE","body":"<p>That method can't return <code>true</code>.  That's the <em>point</em> of <code>Long.MAX_VALUE</code>.  It would be <em>really</em> confusing if its name were...  false.  Then it should be just called <code>Long.SOME_FAIRLY_LARGE_VALUE</code> and have literally zero reasonable uses.  Just use <a href=\"https://stackoverflow.com/q/13375357/1339987\">Android's <code>isUserAGoat</code></a>, or you may roll your own function that always returns <code>false</code>.</p>\n\n<p>Note that a <code>long</code> in memory takes a fixed number of bytes.  <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"noreferrer\">From Oracle</a>:</p>\n\n<blockquote>\n  <p>long: The long data type is a 64-bit signed two's complement integer. It has a minimum value of -9,223,372,036,854,775,808 and a maximum value of 9,223,372,036,854,775,807 (inclusive). Use this data type when you need a range of values wider than those provided by int.</p>\n</blockquote>\n\n<p>As you may know from basic computer science or discrete math, there are 2^64 possible values for a long, since it is 64 bits.  And as you know from discrete math or number theory or common sense, if there's only finitely many possibilities, one of them has to be the largest.  That would be <code>Long.MAX_VALUE</code>.  So you are asking something similar to \"is there an integer that's >0 and &lt; 1?\"  Mathematically nonsensical.</p>\n\n<p>If you actually need this for something for real then use <code>BigInteger</code> class.</p>\n"},{"tags":[],"owner":{"account_id":62810,"reputation":5725,"user_id":186338,"accept_rate":95,"display_name":"James Cronen"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1368542234,"creation_date":1368542234,"answer_id":16546084,"question_id":16546038,"body_markdown":"You can&#39;t. If you have a method called `isBiggerThanMaxLong(long)` it should always return `false`.\r\n\r\nIf you were to increment the bits of `Long.MAX_VALUE`, the next value should be `Long.MIN_VALUE`. Read up on twos-complement and that should tell you why.","title":"A long bigger than Long.MAX_VALUE","body":"<p>You can't. If you have a method called <code>isBiggerThanMaxLong(long)</code> it should always return <code>false</code>.</p>\n\n<p>If you were to increment the bits of <code>Long.MAX_VALUE</code>, the next value should be <code>Long.MIN_VALUE</code>. Read up on twos-complement and that should tell you why.</p>\n"},{"tags":[],"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1563737510,"creation_date":1368542344,"answer_id":16546128,"question_id":16546038,"body_markdown":"Firstly, the below method doesn&#39;t compile as it is missing the return type and it should be `Long.MAX_VALUE` in place of `Long.Max_value`.\r\n\r\n    public static boolean isBiggerThanMaxLong(long value) {\r\n          return value &gt; Long.Max_value;\r\n    }\r\n\r\nThe above method can never return  `true` as you are comparing a `long` value with `Long.MAX_VALUE` , see the method signature you can pass only `long` there.Any `long` can be as big as the `Long.MAX_VALUE`, it can&#39;t be bigger than that.\r\n\r\nYou can try something like this with [BigInteger][1] class :\r\n\r\n    public static boolean isBiggerThanMaxLong(BigInteger l){\r\n\t\treturn l.compareTo(BigInteger.valueOf(Long.MAX_VALUE))==1?true:false;\r\n\t}\r\n\r\nThe below code will return `true` :\r\n\r\n    BigInteger big3 = BigInteger.valueOf(Long.MAX_VALUE).\r\n                      add(BigInteger.valueOf(Long.MAX_VALUE));\r\n    System.out.println(isBiggerThanMaxLong(big3)); // prints true\r\n\r\n[1]:http://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html","title":"A long bigger than Long.MAX_VALUE","body":"<p>Firstly, the below method doesn't compile as it is missing the return type and it should be <code>Long.MAX_VALUE</code> in place of <code>Long.Max_value</code>.</p>\n\n<pre><code>public static boolean isBiggerThanMaxLong(long value) {\n      return value &gt; Long.Max_value;\n}\n</code></pre>\n\n<p>The above method can never return  <code>true</code> as you are comparing a <code>long</code> value with <code>Long.MAX_VALUE</code> , see the method signature you can pass only <code>long</code> there.Any <code>long</code> can be as big as the <code>Long.MAX_VALUE</code>, it can't be bigger than that.</p>\n\n<p>You can try something like this with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">BigInteger</a> class :</p>\n\n<pre><code>public static boolean isBiggerThanMaxLong(BigInteger l){\n    return l.compareTo(BigInteger.valueOf(Long.MAX_VALUE))==1?true:false;\n}\n</code></pre>\n\n<p>The below code will return <code>true</code> :</p>\n\n<pre><code>BigInteger big3 = BigInteger.valueOf(Long.MAX_VALUE).\n                  add(BigInteger.valueOf(Long.MAX_VALUE));\nSystem.out.println(isBiggerThanMaxLong(big3)); // prints true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1368544530,"creation_date":1368544530,"answer_id":16546919,"question_id":16546038,"body_markdown":"If `triangle.lborderA` is indeed a long then the test in the original code is trivially true, and there is no way to test it. It is also useless.\r\n\r\nHowever, if `triangle.lborderA` is a double, the comparison is useful and can be tested. `isBiggerThanMaxLong(1e300)` does return true.\r\n\r\n\r\n      public static boolean isBiggerThanMaxLong(double in){\r\n        return in &gt; Long.MAX_VALUE;\r\n      }\r\n\r\n","title":"A long bigger than Long.MAX_VALUE","body":"<p>If <code>triangle.lborderA</code> is indeed a long then the test in the original code is trivially true, and there is no way to test it. It is also useless.</p>\n\n<p>However, if <code>triangle.lborderA</code> is a double, the comparison is useful and can be tested. <code>isBiggerThanMaxLong(1e300)</code> does return true.</p>\n\n<pre><code>  public static boolean isBiggerThanMaxLong(double in){\n    return in &gt; Long.MAX_VALUE;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15673277,"reputation":59,"user_id":11309143,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618525890,"creation_date":1618525890,"answer_id":67116767,"question_id":16546038,"body_markdown":"Just remember BigInteger is a class and long is a primitive. If you want to compare large values than long_max_value, wrap your value in the BigInteger class and treat them as objects.","title":"A long bigger than Long.MAX_VALUE","body":"<p>Just remember BigInteger is a class and long is a primitive. If you want to compare large values than long_max_value, wrap your value in the BigInteger class and treat them as objects.</p>\n"},{"tags":[],"owner":{"account_id":21010283,"reputation":38,"user_id":15439049,"display_name":"shivam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654761618,"creation_date":1654761618,"answer_id":72556682,"question_id":16546038,"body_markdown":"A &quot;long&quot; greater than the maximum value of long just doesn&#39;t exist , rather i suggest you use the biginteger  class , and caste the maximum value of long to a biginteger.","title":"A long bigger than Long.MAX_VALUE","body":"<p>A &quot;long&quot; greater than the maximum value of long just doesn't exist , rather i suggest you use the biginteger  class , and caste the maximum value of long to a biginteger.</p>\n"}],"owner":{"account_id":1424698,"reputation":832,"user_id":1348540,"display_name":"gongshw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229297,"favorite_count":0,"down_vote_count":4,"up_vote_count":66,"accepted_answer_id":16546077,"answer_count":6,"score":62,"last_activity_date":1654761618,"creation_date":1368542132,"question_id":16546038,"body_markdown":"How can I get a long number bigger than Long.MAX_VALUE?\r\n\r\nI want this method to return `true`:\r\n\r\n    boolean isBiggerThanMaxLong(long val) {\r\n        return (val &gt; Long.MAX_VALUE);\r\n    }","title":"A long bigger than Long.MAX_VALUE","body":"<p>How can I get a long number bigger than Long.MAX_VALUE?</p>\n\n<p>I want this method to return <code>true</code>:</p>\n\n<pre><code>boolean isBiggerThanMaxLong(long val) {\n    return (val &gt; Long.MAX_VALUE);\n}\n</code></pre>\n"},{"tags":["java","spring","reflection"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654866092,"post_id":72556604,"comment_id":128200813,"body_markdown":"Well safe, probably. Maybe use the Spring `ReflectionUtils` to make the code a little easier. However why not use a `Resource` instead of a `String` and when needed read it and return the value. Saves you from this contraption and magic.","body":"Well safe, probably. Maybe use the Spring <code>ReflectionUtils</code> to make the code a little easier. However why not use a <code>Resource</code> instead of a <code>String</code> and when needed read it and return the value. Saves you from this contraption and magic."},{"owner":{"account_id":111226,"reputation":1631,"user_id":293956,"accept_rate":50,"display_name":"BoomShaka"},"score":0,"creation_date":1654875017,"post_id":72556604,"comment_id":128204317,"body_markdown":"Thanks will take a look at `ReflectionUtils`. I don&#39;t use a `Resource`, because then every class that uses this needs extra code to read the resource, this way it&#39;s just the annotation and field name and done. But true, this is perhaps overengineering things I guess.","body":"Thanks will take a look at <code>ReflectionUtils</code>. I don&#39;t use a <code>Resource</code>, because then every class that uses this needs extra code to read the resource, this way it&#39;s just the annotation and field name and done. But true, this is perhaps overengineering things I guess."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654878630,"post_id":72556604,"comment_id":128205646,"body_markdown":"It is just 1 or 2 lines of code to read it and you probably can put that into a utility method/class.","body":"It is just 1 or 2 lines of code to read it and you probably can put that into a utility method/class."}],"owner":{"account_id":111226,"reputation":1631,"user_id":293956,"accept_rate":50,"display_name":"BoomShaka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654761247,"creation_date":1654761247,"question_id":72556604,"body_markdown":"I am using Springs BeanPostProcessor to loop through all the declared fields for the passed in bean, and if any of them has a particular annotation, then I want to modify that fields value in some way.\r\n\r\nThe code to do this (omitting the annotation declaration) looks roughly like the below, and seems work correctly (so far):\r\n\r\n```\r\n@Component\r\npublic class AnnotationProcessingBeanPostProcessor implements BeanPostProcessor {\r\n    \r\n    @Override\r\n    public final Object postProcessAfterInitialization(final Object bean, final String beanName) {\r\n        return bean;\r\n    }\r\n\r\n    @Override\r\n    public final Object postProcessBeforeInitialization(Object bean, final String beanName) {\r\n        Field[] fields = bean.getClass().getDeclaredFields();\r\n        List&lt;Field&gt; fieldsWithAnno = new ArrayList&lt;&gt;();\r\n        for (Field field : fields) {\r\n            if (field.isAnnotationPresent(SomeAnno.class)) {\r\n                try {\r\n                    field.setAccessible(true);\r\n                    field.set(bean, &quot;HELLO WORLD!&quot;);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n        return bean;\r\n    }\r\n}\r\n```\r\n\r\nMy concern is, I believe the beans themselves are wrapped in some sort of proxy object, so the actual instance of the bean here is not a DIRECT instance of my particular bean.\r\n\r\nSo could doing this sort of thing cause some unforseen issue?\r\n\r\n**What I am ACTUALLY trying to achieve**\r\n\r\nI want to annotate fields with something like:\r\n```\r\n@GetStringFromFile(fileName = &quot;whatever.txt&quot;)\r\nprivate String somePrivField;\r\n```\r\n\r\nThen when I find a field with that annotation, I will read the file in, and inject it&#39;s String value, and if the file doesn&#39;t exist or can&#39;t be read properly, throw an exception, and stop my spring app from starting up.","title":"Is it safe to use a Spring BeanPostProcessor with reflection to change private field values in the bean","body":"<p>I am using Springs BeanPostProcessor to loop through all the declared fields for the passed in bean, and if any of them has a particular annotation, then I want to modify that fields value in some way.</p>\n<p>The code to do this (omitting the annotation declaration) looks roughly like the below, and seems work correctly (so far):</p>\n<pre><code>@Component\npublic class AnnotationProcessingBeanPostProcessor implements BeanPostProcessor {\n    \n    @Override\n    public final Object postProcessAfterInitialization(final Object bean, final String beanName) {\n        return bean;\n    }\n\n    @Override\n    public final Object postProcessBeforeInitialization(Object bean, final String beanName) {\n        Field[] fields = bean.getClass().getDeclaredFields();\n        List&lt;Field&gt; fieldsWithAnno = new ArrayList&lt;&gt;();\n        for (Field field : fields) {\n            if (field.isAnnotationPresent(SomeAnno.class)) {\n                try {\n                    field.setAccessible(true);\n                    field.set(bean, &quot;HELLO WORLD!&quot;);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n\n        return bean;\n    }\n}\n</code></pre>\n<p>My concern is, I believe the beans themselves are wrapped in some sort of proxy object, so the actual instance of the bean here is not a DIRECT instance of my particular bean.</p>\n<p>So could doing this sort of thing cause some unforseen issue?</p>\n<p><strong>What I am ACTUALLY trying to achieve</strong></p>\n<p>I want to annotate fields with something like:</p>\n<pre><code>@GetStringFromFile(fileName = &quot;whatever.txt&quot;)\nprivate String somePrivField;\n</code></pre>\n<p>Then when I find a field with that annotation, I will read the file in, and inject it's String value, and if the file doesn't exist or can't be read properly, throw an exception, and stop my spring app from starting up.</p>\n"},{"tags":["java","spring-boot","swagger-ui","openapi","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1654720938,"post_id":72532273,"comment_id":128162217,"body_markdown":"Did you try with `@io.swagger.v3.oas.annotations.parameters.RequestBody(\n            content= @Content(examples=\n@ExampleObject(name=&quot;Request&quot;,value=&quot;Json requestb...&quot;),\n                mediaType = IConstants.MEDIA_JSONVALUE))`","body":"Did you try with <code>@io.swagger.v3.oas.annotations.parameters.RequestBody(             content= @Content(examples= @ExampleObject(name=&quot;Request&quot;,value=&quot;Json requestb...&quot;),                 mediaType = IConstants.MEDIA_JSONVALUE))</code>"},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1654726579,"post_id":72532273,"comment_id":128163723,"body_markdown":"Is it mandatory to use openapi?","body":"Is it mandatory to use openapi?"},{"owner":{"account_id":19052506,"reputation":1223,"user_id":13910368,"display_name":"M123"},"score":0,"creation_date":1654753044,"post_id":72532273,"comment_id":128167703,"body_markdown":"@PanagiotisBougioukos Yeah, Not working","body":"@PanagiotisBougioukos Yeah, Not working"},{"owner":{"account_id":19052506,"reputation":1223,"user_id":13910368,"display_name":"M123"},"score":0,"creation_date":1654753426,"post_id":72532273,"comment_id":128167778,"body_markdown":"@Nemanja  For information, Could you please suggest any better than openAPI 3?","body":"@Nemanja  For information, Could you please suggest any better than openAPI 3?"}],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654761110,"creation_date":1654734872,"answer_id":72553543,"question_id":72532273,"body_markdown":"I don&#39;t think this can be solved using annotations. \r\n\r\nYou can predefine swagger css to hide the element you want.\r\n \r\nTo achieve that, first check which version of swagger-ui are you using.\r\nIn my case it&#39;s `3.25.0.` \r\nYou can check which version you are using by going to `External Libraries` folder (if you use InteliJ) and you should find it there ( see picture below)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThen, write controller class like this :\r\n\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.stream.Collectors;\r\n\r\n    @RestController\r\n    @RequestMapping(path = &quot;/swagger-ui&quot;)\r\n    public class SwaggerController {\r\n        @GetMapping(path = &quot;/swagger-ui.css&quot;, produces = &quot;text/css&quot;)\r\n        public String getCss() {\r\n            String orig = toText(getClass().getResourceAsStream(&quot;/META-INF/resources/webjars/swagger-ui/3.25.0/swagger-ui.css&quot;));\r\n            String customCss = &quot;li.tabitem.active {\\n&quot; +\r\n                    &quot;    display:block !important;\\n&quot; +\r\n                    &quot;}\\n&quot; +\r\n                    &quot;li.tabitem {\\n&quot; +\r\n                    &quot;    display:none !important;\\n&quot; +\r\n                    &quot;}}&quot;;\r\n            return  orig+customCss;\r\n        }\r\n    \r\n    \r\n        static String toText(InputStream in) {\r\n            return new BufferedReader(new InputStreamReader(in, StandardCharsets.UTF_8))\r\n                    .lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n        }\r\n    }\r\n\r\nThe endpoint of this controller will be called when the css is loaded.\r\nIn essence, the loading css is intercepted here and a custom css is added to hide the element you want.\r\n\r\nWith this change, when you start the application and go to the endpoint to view the swagger documentation you should see UI as in the picture below :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CAFnY.png\r\n  [2]: https://i.stack.imgur.com/gZKNt.png","title":"How to hide &quot;Schema&quot; from &quot;response&quot; and &quot;Request body&quot; using OpenAPI 3 in Spring Boot?","body":"<p>I don't think this can be solved using annotations.</p>\n<p>You can predefine swagger css to hide the element you want.</p>\n<p>To achieve that, first check which version of swagger-ui are you using.\nIn my case it's <code>3.25.0.</code>\nYou can check which version you are using by going to <code>External Libraries</code> folder (if you use InteliJ) and you should find it there ( see picture below)</p>\n<p><a href=\"https://i.stack.imgur.com/CAFnY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CAFnY.png\" alt=\"enter image description here\" /></a></p>\n<p>Then, write controller class like this :</p>\n<pre><code>import org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.io.BufferedReader;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.nio.charset.StandardCharsets;\nimport java.util.stream.Collectors;\n\n@RestController\n@RequestMapping(path = &quot;/swagger-ui&quot;)\npublic class SwaggerController {\n    @GetMapping(path = &quot;/swagger-ui.css&quot;, produces = &quot;text/css&quot;)\n    public String getCss() {\n        String orig = toText(getClass().getResourceAsStream(&quot;/META-INF/resources/webjars/swagger-ui/3.25.0/swagger-ui.css&quot;));\n        String customCss = &quot;li.tabitem.active {\\n&quot; +\n                &quot;    display:block !important;\\n&quot; +\n                &quot;}\\n&quot; +\n                &quot;li.tabitem {\\n&quot; +\n                &quot;    display:none !important;\\n&quot; +\n                &quot;}}&quot;;\n        return  orig+customCss;\n    }\n\n\n    static String toText(InputStream in) {\n        return new BufferedReader(new InputStreamReader(in, StandardCharsets.UTF_8))\n                .lines().collect(Collectors.joining(&quot;\\n&quot;));\n    }\n}\n</code></pre>\n<p>The endpoint of this controller will be called when the css is loaded.\nIn essence, the loading css is intercepted here and a custom css is added to hide the element you want.</p>\n<p>With this change, when you start the application and go to the endpoint to view the swagger documentation you should see UI as in the picture below :</p>\n<p><a href=\"https://i.stack.imgur.com/gZKNt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gZKNt.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19052506,"reputation":1223,"user_id":13910368,"display_name":"M123"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5317,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":72553543,"answer_count":1,"score":7,"last_activity_date":1654761110,"creation_date":1654609308,"question_id":72532273,"body_markdown":"Is there any way to hide `Schema` from the `Responses` and `Request body` parts? We only need to show `Example Value`. We use OpenAPI 3.\r\n\r\n**Dependency:**\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n   &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n   &lt;version&gt;1.6.9&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nWe can hide `listed schema` part by using `springdoc.swagger-ui.defaultModelsExpandDepth=-1` in application.properties file.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nbut we want to remove the API schema part from `Request Body` and `Responses`. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nI tried `content= @Content(schema = @Schema(hidden = true ))` but it hides whole request body/Response. \r\n\r\n[![enter image description here][3]][3]\r\n\r\n**Code for Response:** \r\n\r\n```\r\n@ApiResponses({\r\n\t\t\t@ApiResponse(responseCode = &quot;200&quot;, content = @Content(schema = @Schema(name = &quot;Success response&quot;, example = &quot;JsonResponse...&quot;),\r\n\t\t\t\t\tmediaType = MediaType.APPLICATION_JSON_VALUE)),\r\n\t\t\t@ApiResponse(responseCode = &quot;400&quot;, description = &quot;BAD REQUEST&quot;, content = @Content(schema = @Schema(hidden = true))) \r\n\t})\r\n```\r\n\r\n**Code for Request Body:**\r\n\r\n```\r\n@io.swagger.v3.oas.annotations.parameters.RequestBody(\r\n\t\t\tcontent= @Content(schema = @Schema(example=&quot;JsonRequestBody...&quot;)))\r\n```\r\n\r\nCan anyone please suggest how we can do that?\r\n\r\n**UPDATE:**\r\n==============\r\nWe can hide the `Schema` part from the response like below.\r\n\r\n```\r\n@ApiResponse(responseCode = IConstants.R_str_200, content = @Content(examples=\r\n@ExampleObject(name=&quot;SUCCESS RESPONSE&quot;,value=&quot;Json response...&quot;),\r\n\t\t\t\tmediaType = IConstants.MEDIA_JSONVALUE))\r\n```\r\n[![enter image description here][4]][4]\r\n\r\nbut still can&#39;t able to hide `Schema` part from `Request Body`.\r\n\r\n  [1]: https://i.stack.imgur.com/3L2Fb.jpg\r\n  [2]: https://i.stack.imgur.com/R3awH.jpg\r\n  [3]: https://i.stack.imgur.com/UynbA.jpg\r\n  [4]: https://i.stack.imgur.com/QYu1A.jpg","title":"How to hide &quot;Schema&quot; from &quot;response&quot; and &quot;Request body&quot; using OpenAPI 3 in Spring Boot?","body":"<p>Is there any way to hide <code>Schema</code> from the <code>Responses</code> and <code>Request body</code> parts? We only need to show <code>Example Value</code>. We use OpenAPI 3.</p>\n<p><strong>Dependency:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n   &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n   &lt;version&gt;1.6.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>We can hide <code>listed schema</code> part by using <code>springdoc.swagger-ui.defaultModelsExpandDepth=-1</code> in application.properties file.</p>\n<p><a href=\"https://i.stack.imgur.com/3L2Fb.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3L2Fb.jpg\" alt=\"enter image description here\" /></a></p>\n<p>but we want to remove the API schema part from <code>Request Body</code> and <code>Responses</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/R3awH.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/R3awH.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I tried <code>content= @Content(schema = @Schema(hidden = true ))</code> but it hides whole request body/Response.</p>\n<p><a href=\"https://i.stack.imgur.com/UynbA.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UynbA.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Code for Response:</strong></p>\n<pre><code>@ApiResponses({\n            @ApiResponse(responseCode = &quot;200&quot;, content = @Content(schema = @Schema(name = &quot;Success response&quot;, example = &quot;JsonResponse...&quot;),\n                    mediaType = MediaType.APPLICATION_JSON_VALUE)),\n            @ApiResponse(responseCode = &quot;400&quot;, description = &quot;BAD REQUEST&quot;, content = @Content(schema = @Schema(hidden = true))) \n    })\n</code></pre>\n<p><strong>Code for Request Body:</strong></p>\n<pre><code>@io.swagger.v3.oas.annotations.parameters.RequestBody(\n            content= @Content(schema = @Schema(example=&quot;JsonRequestBody...&quot;)))\n</code></pre>\n<p>Can anyone please suggest how we can do that?</p>\n<h1><strong>UPDATE:</strong></h1>\n<p>We can hide the <code>Schema</code> part from the response like below.</p>\n<pre><code>@ApiResponse(responseCode = IConstants.R_str_200, content = @Content(examples=\n@ExampleObject(name=&quot;SUCCESS RESPONSE&quot;,value=&quot;Json response...&quot;),\n                mediaType = IConstants.MEDIA_JSONVALUE))\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/QYu1A.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QYu1A.jpg\" alt=\"enter image description here\" /></a></p>\n<p>but still can't able to hide <code>Schema</code> part from <code>Request Body</code>.</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"score":0,"creation_date":1654753316,"post_id":72555201,"comment_id":128167758,"body_markdown":"please explore java.nio package , Specifically Paths , Files Classes and see if any API&#39;s in them can help","body":"please explore java.nio package , Specifically Paths , Files Classes and see if any API&#39;s in them can help"},{"owner":{"account_id":162781,"reputation":9602,"user_id":384464,"display_name":"xagyg"},"score":0,"creation_date":1654756726,"post_id":72555201,"comment_id":128168630,"body_markdown":"Answered here https://stackoverflow.com/a/3849771/384464","body":"Answered here <a href=\"https://stackoverflow.com/a/3849771/384464\">stackoverflow.com/a/3849771/384464</a>"}],"answers":[{"tags":[],"owner":{"account_id":15416144,"reputation":534,"user_id":11121568,"display_name":"Soroush Shemshadi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654755589,"creation_date":1654755589,"answer_id":72555521,"question_id":72555201,"body_markdown":"First of all, you need to read your file line by line, then put each line in an array. I strongly recommend you to use one of `java.util.List&lt;E&gt;`&#39;s instances. I prefer `java.util.ArrayList&lt;E&gt;`\r\n\r\nIn short, ArrayList is more flexible than a plain native array because it&#39;s dynamic. It can grow itself when needed, which is not possible with the native array. ArrayList also allows you to remove elements that are not possible with native arrays. You can read more about it [here](https://www.geeksforgeeks.org/array-vs-arraylist-in-java/).\r\n\r\n```java\r\nList&lt;String&gt; words = new ArrayList&lt;String&gt;();\r\n\r\ntry (BufferedReader br = new BufferedReader(new FileReader(&quot;YOUR_FILE_PATH&quot;))) {\r\n    String line;\r\n    while ((line = br.readLine()) != null) {\r\n       words.add(line);\r\n    }\r\n}\r\n```\r\n\r\nAlso since java 8, you can use `java.util.Stream&lt;T&gt;` to read a file:\r\n\r\n```java\r\nList&lt;String&gt; words = new ArrayList&lt;String&gt;();\r\n\r\ntry (Stream&lt;String&gt; lines = Files.lines(Paths.get(&quot;YOUR_FILE_PATH&quot;), Charset.defaultCharset())) {\r\n  lines.forEachOrdered(line -&gt; words.add(line));\r\n}\r\n```","title":"How to store words from a text file into a String array in Java?","body":"<p>First of all, you need to read your file line by line, then put each line in an array. I strongly recommend you to use one of <code>java.util.List&lt;E&gt;</code>'s instances. I prefer <code>java.util.ArrayList&lt;E&gt;</code></p>\n<p>In short, ArrayList is more flexible than a plain native array because it's dynamic. It can grow itself when needed, which is not possible with the native array. ArrayList also allows you to remove elements that are not possible with native arrays. You can read more about it <a href=\"https://www.geeksforgeeks.org/array-vs-arraylist-in-java/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; words = new ArrayList&lt;String&gt;();\n\ntry (BufferedReader br = new BufferedReader(new FileReader(&quot;YOUR_FILE_PATH&quot;))) {\n    String line;\n    while ((line = br.readLine()) != null) {\n       words.add(line);\n    }\n}\n</code></pre>\n<p>Also since java 8, you can use <code>java.util.Stream&lt;T&gt;</code> to read a file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; words = new ArrayList&lt;String&gt;();\n\ntry (Stream&lt;String&gt; lines = Files.lines(Paths.get(&quot;YOUR_FILE_PATH&quot;), Charset.defaultCharset())) {\n  lines.forEachOrdered(line -&gt; words.add(line));\n}\n</code></pre>\n"}],"owner":{"account_id":25312100,"reputation":13,"user_id":19134712,"display_name":"Aabir Bhattacharya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":690,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1654756902,"accepted_answer_id":72555521,"answer_count":1,"score":0,"last_activity_date":1654760538,"creation_date":1654753219,"question_id":72555201,"body_markdown":"I need help in constructing a String array in Java which would store values from a text file (.txt). The file has 82094 lines where each line contains 1 word. So, in total there are 82094 words that I want to add to my array.\r\n\r\nHere is the file path :\r\n```&quot;F:/Word Game/Words List [UK ENGLISH].txt&quot;```\r\n\r\nI have declared this array : \r\n```java\r\nString words[]=new String[82094];\r\n```\r\nI&#39;m not sure what to do next.","title":"How to store words from a text file into a String array in Java?","body":"<p>I need help in constructing a String array in Java which would store values from a text file (.txt). The file has 82094 lines where each line contains 1 word. So, in total there are 82094 words that I want to add to my array.</p>\n<p>Here is the file path :\n<code>&quot;F:/Word Game/Words List [UK ENGLISH].txt&quot;</code></p>\n<p>I have declared this array :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String words[]=new String[82094];\n</code></pre>\n<p>I'm not sure what to do next.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8715,"page":1277,"page_size":100}
