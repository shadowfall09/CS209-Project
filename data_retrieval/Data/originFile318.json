{"items":[{"tags":["java","ssl","mqtt","mqtt-sparkplug"],"owner":{"account_id":1678841,"reputation":454,"user_id":1543646,"accept_rate":50,"display_name":"Wheeler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689063415,"creation_date":1689063183,"question_id":76659905,"body_markdown":"My organization is building an application to support MQTT Sparkplug B in Java (Spring Boot/Eclipse Tahu 1.0.4). It seems that the majority of the wrappers require a collection of `MqttServerDefinition` objects, which all require basic auth credentials. Is there an example somewhere of using TLS? \r\n\r\nBest I can tell, the only other option is extending the `TahuClient` class to access the `MqttConnectOptions` and set a custom `SocketFactory` (this is straightforward for the Host, but very hacky for the Client).","title":"Eclipse Tahu: Configure Use of TLS in Java","body":"<p>My organization is building an application to support MQTT Sparkplug B in Java (Spring Boot/Eclipse Tahu 1.0.4). It seems that the majority of the wrappers require a collection of <code>MqttServerDefinition</code> objects, which all require basic auth credentials. Is there an example somewhere of using TLS?</p>\n<p>Best I can tell, the only other option is extending the <code>TahuClient</code> class to access the <code>MqttConnectOptions</code> and set a custom <code>SocketFactory</code> (this is straightforward for the Host, but very hacky for the Client).</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":6152522,"reputation":233,"user_id":4796548,"display_name":"Azamat Zhurtbayev"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1599940530,"creation_date":1599940530,"answer_id":63864374,"question_id":63864284,"body_markdown":"I&#39;m not sure about the correctness of your solution, but try to use StreamTokenizer or BufferedReader instead of Scanner. Scanner is too slow and may result in TLE when you need to read a lot of data.","title":"Array rotation TLE (Time Limit Exceeded)","body":"<p>I'm not sure about the correctness of your solution, but try to use StreamTokenizer or BufferedReader instead of Scanner. Scanner is too slow and may result in TLE when you need to read a lot of data.</p>\n"},{"comments":[{"owner":{"account_id":14456747,"reputation":112,"user_id":10442734,"display_name":"VR7"},"score":0,"creation_date":1606981607,"post_id":65020470,"comment_id":115129632,"body_markdown":"brother, I also tried the above code and even used buffered reader thee in place of the scanner, but still giving TLE in one case, does network also plays a role in reading the Input","body":"brother, I also tried the above code and even used buffered reader thee in place of the scanner, but still giving TLE in one case, does network also plays a role in reading the Input"},{"owner":{"account_id":16691977,"reputation":31,"user_id":12064339,"display_name":"paragpallav"},"score":0,"creation_date":1607104317,"post_id":65020470,"comment_id":115176568,"body_markdown":"No. the Network should not be an issue. You can also try it offline if you know the particular test case.\n\nTry the same logic in any other language like CPP because I had earlier faced issues in Java but they were not there in the CPP language.","body":"No. the Network should not be an issue. You can also try it offline if you know the particular test case.  Try the same logic in any other language like CPP because I had earlier faced issues in Java but they were not there in the CPP language."}],"tags":[],"owner":{"account_id":16691977,"reputation":31,"user_id":12064339,"display_name":"paragpallav"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606387540,"creation_date":1606387540,"answer_id":65020470,"question_id":63864284,"body_markdown":"    import java.util.*;\r\n    public class temp {\r\n    \tpublic static void main (String[] args) {\r\n    \t\tScanner sc = new Scanner(System.in);\r\n            int t = sc.nextInt();\r\n            while(t--&gt;0){\r\n                int n = sc.nextInt();\r\n                int k = sc.nextInt();\r\n                int p = 0;\r\n                int ar[] = new int[n];\r\n                for(int i=0;i&lt;n;i++){\r\n    \t\t\t    ar[i] = sc.nextInt();\r\n    \t\t    }\r\n                k %= n;\r\n                for(int i=0;i&lt;n;i++){\r\n                    p = ar[(i+(n-k))%n];\r\n                    System.out.print(p+&quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\t\t\r\n    \t}\r\n    }\r\nThough I have not used a big sized array in the starting, this code is working fine for all test cases.\r\n\r\nTry this one.","title":"Array rotation TLE (Time Limit Exceeded)","body":"<pre><code>import java.util.*;\npublic class temp {\n    public static void main (String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int t = sc.nextInt();\n        while(t--&gt;0){\n            int n = sc.nextInt();\n            int k = sc.nextInt();\n            int p = 0;\n            int ar[] = new int[n];\n            for(int i=0;i&lt;n;i++){\n                ar[i] = sc.nextInt();\n            }\n            k %= n;\n            for(int i=0;i&lt;n;i++){\n                p = ar[(i+(n-k))%n];\n                System.out.print(p+&quot; &quot;);\n            }\n            System.out.println();\n        }       \n    }\n}\n</code></pre>\n<p>Though I have not used a big sized array in the starting, this code is working fine for all test cases.</p>\n<p>Try this one.</p>\n"},{"tags":[],"owner":{"account_id":2573609,"reputation":388,"user_id":2231801,"display_name":"raghu"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610214110,"creation_date":1610214110,"answer_id":65645700,"question_id":63864284,"body_markdown":"Reduce the number of reads and writes from/to System.in and System.out.\r\nLook at the following solution\r\n\r\n            Scanner scanner = new Scanner(System.in);\r\n            int noOfTestCases = scanner.nextInt();\r\n\r\n            for (int i = 0; i &lt; noOfTestCases; i++) {\r\n                int arraySize = scanner.nextInt();\r\n                int noOfRotations = scanner.nextInt();\r\n                noOfRotations = noOfRotations % arraySize;\r\n                scanner.nextLine();\r\n                String inputString = scanner.nextLine();\r\n                String[] inputStringArray = inputString.split(&quot; &quot;);\r\n\r\n                StringBuffer sb = new StringBuffer();\r\n    \r\n                for (int j = 0; j &lt; arraySize; j++) {\r\n                    sb.append(inputStringArray[(arraySize + j - noOfRotations) % arraySize] + &quot; &quot;);\r\n                }\r\n\r\n                System.out.print(sb);\r\n                System.out.println(&quot;&quot;);\r\n            }","title":"Array rotation TLE (Time Limit Exceeded)","body":"<p>Reduce the number of reads and writes from/to System.in and System.out.\nLook at the following solution</p>\n<pre><code>        Scanner scanner = new Scanner(System.in);\n        int noOfTestCases = scanner.nextInt();\n\n        for (int i = 0; i &lt; noOfTestCases; i++) {\n            int arraySize = scanner.nextInt();\n            int noOfRotations = scanner.nextInt();\n            noOfRotations = noOfRotations % arraySize;\n            scanner.nextLine();\n            String inputString = scanner.nextLine();\n            String[] inputStringArray = inputString.split(&quot; &quot;);\n\n            StringBuffer sb = new StringBuffer();\n\n            for (int j = 0; j &lt; arraySize; j++) {\n                sb.append(inputStringArray[(arraySize + j - noOfRotations) % arraySize] + &quot; &quot;);\n            }\n\n            System.out.print(sb);\n            System.out.println(&quot;&quot;);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20022567,"reputation":36,"user_id":14677164,"display_name":"Swetha R Naik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627212298,"creation_date":1627212298,"answer_id":68518071,"question_id":63864284,"body_markdown":"Think from a different perspective. Instead of splitting the string and converting it into an array and applying the iterative logic, we can apply a different logic.\r\n\r\nThe trick is you just need to find the position of the input string where we have to split only once.\r\nBy that I mean,&lt;br/&gt;\r\ninput=&gt;&lt;br/&gt;\r\n6 2  &amp;emsp; &amp;emsp; &amp;emsp; //4 is the length of numbers and 2 is the index of rotation&lt;br/&gt;\r\n1 2 3 4 5 6     &amp;emsp; &amp;emsp;  //array (take input as a string using buffered reader)\r\n\r\nHere, we just need to split the array string at the 2nd last space i.e. 4th space. So the output can be achieved by just splitting the string once-&lt;br/&gt;\r\n5 6 1 2 3 4&lt;br/&gt;\r\nfirst split- 5 6 + space + second split- 1 2 3 4 &lt;br/&gt;\r\nThis logic worked for me and all the test cases passed.\r\n\r\nAlso don&#39;t forget to cover the corner case scenario when array input string is just one number. \r\n\r\nCode Snippet-\r\n\r\n    int count=0;\r\n    for(int k=0; k&lt;arr.length(); k++) {\r\n        if(arr.charAt(k)==&#39; &#39;)\r\n            count++;\r\n        if(count==size-rot) {\r\n             System.out.println(arr.substring(k+1,arr.length())\r\n                 + &quot; &quot; + arr.substring(0,k));\r\n             break;\r\n        }\r\n    }","title":"Array rotation TLE (Time Limit Exceeded)","body":"<p>Think from a different perspective. Instead of splitting the string and converting it into an array and applying the iterative logic, we can apply a different logic.</p>\n<p>The trick is you just need to find the position of the input string where we have to split only once.\nBy that I mean,<br/>\ninput=&gt;<br/>\n6 2        //4 is the length of numbers and 2 is the index of rotation<br/>\n1 2 3 4 5 6          //array (take input as a string using buffered reader)</p>\n<p>Here, we just need to split the array string at the 2nd last space i.e. 4th space. So the output can be achieved by just splitting the string once-<br/>\n5 6 1 2 3 4<br/>\nfirst split- 5 6 + space + second split- 1 2 3 4 <br/>\nThis logic worked for me and all the test cases passed.</p>\n<p>Also don't forget to cover the corner case scenario when array input string is just one number.</p>\n<p>Code Snippet-</p>\n<pre><code>int count=0;\nfor(int k=0; k&lt;arr.length(); k++) {\n    if(arr.charAt(k)==' ')\n        count++;\n    if(count==size-rot) {\n         System.out.println(arr.substring(k+1,arr.length())\n             + &quot; &quot; + arr.substring(0,k));\n         break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2749748,"reputation":300,"user_id":2369406,"display_name":"Jawad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635779112,"creation_date":1635779112,"answer_id":69798829,"question_id":63864284,"body_markdown":"Problem is in the `System.out.print()` call that is inside the for-loop. Thats a fairly heavy call and if called too many times and creates an overhead. This solution works:\r\n\r\n    //import for Scanner and other utility classes\r\n    import java.util.*;\r\n    \r\n    class TestClass {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner s = new Scanner(System.in);\r\n            String input = s.nextLine();\r\n            int noOfTests = Integer.parseInt(input);\r\n            for (int t = 0; t &lt; noOfTests; t++) {\r\n                input = s.nextLine();\r\n                String[] str = input.split(&quot; &quot;);\r\n                int sizeOfArray = Integer.parseInt(str[0]);\r\n                int noOfRotations = Integer.parseInt(str[1]);\r\n                String strIntegerArray = s.nextLine();\r\n                String[] array = strIntegerArray.split(&quot; &quot;);\r\n                printRightRotatedArray(array, noOfRotations, strIntegerArray.length());\r\n            }\r\n        }\r\n    \r\n        static void printRightRotatedArray(String[] array, int noOfRotations, int lengthOfStr) {\r\n            int len = array.length;\r\n            int noOfAcutalRotations = noOfRotations % len;\r\n            int startingIndex = len - noOfAcutalRotations;\r\n            StringBuilder sb = new StringBuilder(lengthOfStr+1);\r\n            for (int i = 0; i &lt; len; i++) {\r\n                sb.append(array[(startingIndex + i) % len]);\r\n                sb.append(&quot; &quot;);\r\n            }\r\n            System.out.println(sb);\r\n        }\r\n    }\r\n\r\n","title":"Array rotation TLE (Time Limit Exceeded)","body":"<p>Problem is in the <code>System.out.print()</code> call that is inside the for-loop. Thats a fairly heavy call and if called too many times and creates an overhead. This solution works:</p>\n<pre><code>//import for Scanner and other utility classes\nimport java.util.*;\n\nclass TestClass {\n\n    public static void main(String[] args) {\n        Scanner s = new Scanner(System.in);\n        String input = s.nextLine();\n        int noOfTests = Integer.parseInt(input);\n        for (int t = 0; t &lt; noOfTests; t++) {\n            input = s.nextLine();\n            String[] str = input.split(&quot; &quot;);\n            int sizeOfArray = Integer.parseInt(str[0]);\n            int noOfRotations = Integer.parseInt(str[1]);\n            String strIntegerArray = s.nextLine();\n            String[] array = strIntegerArray.split(&quot; &quot;);\n            printRightRotatedArray(array, noOfRotations, strIntegerArray.length());\n        }\n    }\n\n    static void printRightRotatedArray(String[] array, int noOfRotations, int lengthOfStr) {\n        int len = array.length;\n        int noOfAcutalRotations = noOfRotations % len;\n        int startingIndex = len - noOfAcutalRotations;\n        StringBuilder sb = new StringBuilder(lengthOfStr+1);\n        for (int i = 0; i &lt; len; i++) {\n            sb.append(array[(startingIndex + i) % len]);\n            sb.append(&quot; &quot;);\n        }\n        System.out.println(sb);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2859752,"reputation":1,"user_id":2484552,"display_name":"icecreamwalaK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658472378,"creation_date":1658151900,"answer_id":73023367,"question_id":63864284,"body_markdown":"putting all into string buffer and print at the end worked for me.\r\n\r\n    class TestClass {\r\n    public static void main(String args[] ) throws Exception {\r\n        //BufferedReader\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n        int t = Integer.parseInt(br.readLine());\r\n        StringBuilder sb = new StringBuilder();// output\r\n        for(int i=0;i&lt;t;i++){\r\n            String [] nk=br.readLine().split(&quot; &quot;);\r\n            int n= Integer.parseInt(nk[0]);\r\n            int k=Integer.parseInt(nk[1]);\r\n            String [] a=br.readLine().split(&quot; &quot;);\r\n            int split=n-(k%n);\r\n            for (int j = split; j &lt; a.length; j++) {\r\n                sb.append(a[j]);\r\n                sb.append(&#39; &#39;);\r\n            }\r\n            for (int j = 0 ; j &lt; split; j++) {\r\n                sb.append(a[j]);\r\n                sb.append(&#39; &#39;);\r\n            }\r\n            sb.append(&quot;\\n&quot;);\r\n        }\r\n        System.out.println(sb);\r\n    }\r\n    }","title":"Array rotation TLE (Time Limit Exceeded)","body":"<p>putting all into string buffer and print at the end worked for me.</p>\n<pre><code>class TestClass {\npublic static void main(String args[] ) throws Exception {\n    //BufferedReader\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n    int t = Integer.parseInt(br.readLine());\n    StringBuilder sb = new StringBuilder();// output\n    for(int i=0;i&lt;t;i++){\n        String [] nk=br.readLine().split(&quot; &quot;);\n        int n= Integer.parseInt(nk[0]);\n        int k=Integer.parseInt(nk[1]);\n        String [] a=br.readLine().split(&quot; &quot;);\n        int split=n-(k%n);\n        for (int j = split; j &lt; a.length; j++) {\n            sb.append(a[j]);\n            sb.append(' ');\n        }\n        for (int j = 0 ; j &lt; split; j++) {\n            sb.append(a[j]);\n            sb.append(' ');\n        }\n        sb.append(&quot;\\n&quot;);\n    }\n    System.out.println(sb);\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":1,"creation_date":1689169912,"post_id":76659921,"comment_id":135175625,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76659921/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28992842,"reputation":1,"user_id":22208158,"display_name":"Dhruv Raj Naruka"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689063320,"creation_date":1689063320,"answer_id":76659921,"question_id":63864284,"body_markdown":"    Scanner s = new Scanner(System.in);\r\n        int T = s.nextInt();\r\n        while(T&gt;0){\r\n            int n = s.nextInt();\r\n            int j = n - (s.nextInt() % n);\r\n            s.nextLine();\r\n            String [] arr = s.nextLine().split(&quot; &quot;);\r\n            StringBuilder output = new StringBuilder();\r\n            for(int i=j; i&lt;n; i++){\r\n                output.append(arr[i] + &quot; &quot;);\r\n            }\r\n            for(int i=0; i&lt;j; i++){\r\n                output.append(arr[i] + &quot; &quot;);\r\n            }\r\n            System.out.println(output);\r\n            T--;\r\n        }","title":"Array rotation TLE (Time Limit Exceeded)","body":"<pre><code>Scanner s = new Scanner(System.in);\n    int T = s.nextInt();\n    while(T&gt;0){\n        int n = s.nextInt();\n        int j = n - (s.nextInt() % n);\n        s.nextLine();\n        String [] arr = s.nextLine().split(&quot; &quot;);\n        StringBuilder output = new StringBuilder();\n        for(int i=j; i&lt;n; i++){\n            output.append(arr[i] + &quot; &quot;);\n        }\n        for(int i=0; i&lt;j; i++){\n            output.append(arr[i] + &quot; &quot;);\n        }\n        System.out.println(output);\n        T--;\n    }\n</code></pre>\n"}],"owner":{"account_id":18570434,"reputation":417,"user_id":13532367,"display_name":"Yugank Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3648,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63864374,"answer_count":7,"score":2,"last_activity_date":1689063320,"creation_date":1599939912,"question_id":63864284,"body_markdown":"I am really confused why my java code is not working it is giving TLE on Code Monks on Hacker Earth.\r\nHere is the link to the 1\r\n - [Link to Question](https://www.hackerearth.com/practice/codemonk/)\r\nthe first question MONK AND ROTATION\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\nclass TestClass {\r\n    static int[] ar=new int[100001];\r\n    public static void main(String args[] ){\r\n        Scanner in=new Scanner(System.in);\r\n        byte t=in.nextByte();\r\n        while(t--&gt;0){\r\n            int n=in.nextInt();\r\n            int k=in.nextInt()%n;\r\n                for(int i=0;i&lt;n-k;i++)\r\n                    ar[i]=in.nextInt();\r\n                for(int i=0;i&lt;k;i++)\r\n                    System.out.print(in.nextInt()+&quot; &quot;);\r\n                for(int i=0;i&lt;n-k;i++)\r\n                    System.out.print(ar[i]+&quot; &quot;);\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```\r\nI don&#39;t know why is it giving TLE I think there is some infinite loop going.\r\n\r\nthe question at the site is-\r\n\r\nMonk and Rotation\r\nMonk loves to perform different operations on arrays, and so being the principal of HackerEarth School, he assigned a task to his new student Mishki. Mishki will be provided with an integer array A of size N and an integer K , where she needs to rotate the array in the right direction by K steps and then print the resultant array. As she is new to the school, please help her to complete the task.\r\n\r\nInput:\r\nThe first line will consists of one integer T denoting the number of test cases.\r\nFor each test case:\r\n1) The first line consists of two integers N and K, N being the number of elements in the array and K denotes the number of steps of rotation.\r\n2) The next line consists of N space separated integers , denoting the elements of the array A.\r\nOutput:\r\nPrint the required array.\r\n\r\nConstraints:\r\n```\r\n1&lt;=T&lt;=20\r\n1&lt;=N&lt;=10^5\r\n0&lt;=K&lt;=10^6\r\n0&lt;=A[i]&lt;=10^6\r\n```\r\n\r\n\r\n\r\nSample Input\r\n\r\n1\r\n\r\n5 2\r\n\r\n1 2 3 4 5\r\n\r\nSample Output\r\n\r\n4 5 1 2 3\r\n\r\nExplanation\r\n\r\nHere T is 1, which means one test case.\r\n\r\n denoting the number of elements in the array and , denoting the number of steps of rotations.\r\n\r\nThe initial array is: \r\nIn first rotation, 5 will come in the first position and all other elements will move to one position ahead from their current position. Now, the resultant array will be \r\n\r\nIn second rotation, 4 will come in the first position and all other elements will move to one position ahead from their current position. Now, the resultant array will be \r\n\r\n\r\nTime Limit: 1.0 sec(s) for each input file\r\nMemory Limit: 256 MB\r\nSource Limit: 1024 KB","title":"Array rotation TLE (Time Limit Exceeded)","body":"<p>I am really confused why my java code is not working it is giving TLE on Code Monks on Hacker Earth.\nHere is the link to the 1</p>\n<ul>\n<li><a href=\"https://www.hackerearth.com/practice/codemonk/\" rel=\"nofollow noreferrer\">Link to Question</a>\nthe first question MONK AND ROTATION</li>\n</ul>\n<pre><code>import java.util.Scanner;\nclass TestClass {\n    static int[] ar=new int[100001];\n    public static void main(String args[] ){\n        Scanner in=new Scanner(System.in);\n        byte t=in.nextByte();\n        while(t--&gt;0){\n            int n=in.nextInt();\n            int k=in.nextInt()%n;\n                for(int i=0;i&lt;n-k;i++)\n                    ar[i]=in.nextInt();\n                for(int i=0;i&lt;k;i++)\n                    System.out.print(in.nextInt()+&quot; &quot;);\n                for(int i=0;i&lt;n-k;i++)\n                    System.out.print(ar[i]+&quot; &quot;);\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>I don't know why is it giving TLE I think there is some infinite loop going.</p>\n<p>the question at the site is-</p>\n<p>Monk and Rotation\nMonk loves to perform different operations on arrays, and so being the principal of HackerEarth School, he assigned a task to his new student Mishki. Mishki will be provided with an integer array A of size N and an integer K , where she needs to rotate the array in the right direction by K steps and then print the resultant array. As she is new to the school, please help her to complete the task.</p>\n<p>Input:\nThe first line will consists of one integer T denoting the number of test cases.\nFor each test case:</p>\n<ol>\n<li>The first line consists of two integers N and K, N being the number of elements in the array and K denotes the number of steps of rotation.</li>\n<li>The next line consists of N space separated integers , denoting the elements of the array A.\nOutput:\nPrint the required array.</li>\n</ol>\n<p>Constraints:</p>\n<pre><code>1&lt;=T&lt;=20\n1&lt;=N&lt;=10^5\n0&lt;=K&lt;=10^6\n0&lt;=A[i]&lt;=10^6\n</code></pre>\n<p>Sample Input</p>\n<p>1</p>\n<p>5 2</p>\n<p>1 2 3 4 5</p>\n<p>Sample Output</p>\n<p>4 5 1 2 3</p>\n<p>Explanation</p>\n<p>Here T is 1, which means one test case.</p>\n<p>denoting the number of elements in the array and , denoting the number of steps of rotations.</p>\n<p>The initial array is:\nIn first rotation, 5 will come in the first position and all other elements will move to one position ahead from their current position. Now, the resultant array will be</p>\n<p>In second rotation, 4 will come in the first position and all other elements will move to one position ahead from their current position. Now, the resultant array will be</p>\n<p>Time Limit: 1.0 sec(s) for each input file\nMemory Limit: 256 MB\nSource Limit: 1024 KB</p>\n"},{"tags":["java","oracle","jdbctemplate"],"comments":[{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1689088642,"post_id":76659903,"comment_id":135162211,"body_markdown":"Not answering the question but just commenting. `LONG` is mostly obsolete nowadays. I would migrate towards a `VARCHAR2` or `CLOB`. Also, it&#39;s a lot easier to use `UTF-8` or `UTF-16` as encoding. Disk space is no longer an issue as it used to be.","body":"Not answering the question but just commenting. <code>LONG</code> is mostly obsolete nowadays. I would migrate towards a <code>VARCHAR2</code> or <code>CLOB</code>. Also, it&#39;s a lot easier to use <code>UTF-8</code> or <code>UTF-16</code> as encoding. Disk space is no longer an issue as it used to be."}],"owner":{"account_id":28992743,"reputation":1,"user_id":22208083,"display_name":"raphael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689063174,"creation_date":1689063174,"question_id":76659903,"body_markdown":"I need to transfer a row from one Oracle database to another Oracle database using java program.\r\nThe problem is, those two DB has different NLS_CHARACTERSET (KO16MSWIN949, AL32UTF8) so when I transfer very long NVARCHAR data I face &quot;ORA-01461: can bind a LONG value only for insert into a LONG column&quot; error.\r\n\r\nI am using jdbc template parameter for executing sql, and my query looks like this:\r\nINSERT INTO TO_TABLE (NOTE1, NOTE2, ...) VALUES (?, ?, ...)\r\n\r\nWhen I tried to manually insert data, I noticed that if I put N in front of string then it solves problem, but I don&#39;t know how to do like this in jdbc parameter. Is there any way to do this? I cannot change characterset of both DB.","title":"(Oracle) Is there a way to specify a jdbc-template parameter to use national characterset?","body":"<p>I need to transfer a row from one Oracle database to another Oracle database using java program.\nThe problem is, those two DB has different NLS_CHARACTERSET (KO16MSWIN949, AL32UTF8) so when I transfer very long NVARCHAR data I face &quot;ORA-01461: can bind a LONG value only for insert into a LONG column&quot; error.</p>\n<p>I am using jdbc template parameter for executing sql, and my query looks like this:\nINSERT INTO TO_TABLE (NOTE1, NOTE2, ...) VALUES (?, ?, ...)</p>\n<p>When I tried to manually insert data, I noticed that if I put N in front of string then it solves problem, but I don't know how to do like this in jdbc parameter. Is there any way to do this? I cannot change characterset of both DB.</p>\n"},{"tags":["java","sql","apache-spark","apache-spark-sql","spark-java"],"answers":[{"tags":[],"owner":{"account_id":9630579,"reputation":3635,"user_id":7148638,"display_name":"Rajat Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689062488,"creation_date":1689062488,"answer_id":76659825,"question_id":76656949,"body_markdown":"Spark has a `colRegex` function which can be use to select columns based on `regex`. \r\n\r\nSomething like this : \r\n\r\n```df.select(df.colRegex(&quot;`^.*name*`&quot;)).show()```\r\n\r\n","title":"Select a list of set columns AND other columns depending on their name/regex (Spark SQL Java)","body":"<p>Spark has a <code>colRegex</code> function which can be use to select columns based on <code>regex</code>.</p>\n<p>Something like this :</p>\n<p><code>df.select(df.colRegex(&quot;`^.*name*`&quot;)).show()</code></p>\n"},{"tags":[],"owner":{"account_id":28942997,"reputation":171,"user_id":22169190,"display_name":"Medzila"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689063077,"creation_date":1689063077,"answer_id":76659892,"question_id":76656949,"body_markdown":"You can use `Dataset#colRegex(String)`\r\n\r\n    df.colRegex(&quot;`.*_id`&quot;)\r\n\r\nThis should work.\r\nI didn&#39;t test that but you can change your code to:\r\n\r\n    Dataset&lt;Row&gt; df = ...;\r\n    Column[] cols = new Column[]{\r\n         functions.col(&quot;name&quot;),\r\n         functions.col(&quot;value&quot;),\r\n         functions.col(&quot;date&quot;),\r\n         df.colRegex(&quot;`.*_id`&quot;)\r\n        };\r\n    final Dataset&lt;Row&gt; testDf = df.select(getSelectColumns());\r\n\r\nAlternativaly, you could use `df.columns()` to get all the column names, then apply a regular java regex to filter out only the columns you need and select the columns from there.\r\n\r\nSee more:\r\n\r\nhttps://spark.apache.org/docs/3.0.2/api/java/org/apache/spark/sql/Dataset.html#colRegex-java.lang.String-","title":"Select a list of set columns AND other columns depending on their name/regex (Spark SQL Java)","body":"<p>You can use <code>Dataset#colRegex(String)</code></p>\n<pre><code>df.colRegex(&quot;`.*_id`&quot;)\n</code></pre>\n<p>This should work.\nI didn't test that but you can change your code to:</p>\n<pre><code>Dataset&lt;Row&gt; df = ...;\nColumn[] cols = new Column[]{\n     functions.col(&quot;name&quot;),\n     functions.col(&quot;value&quot;),\n     functions.col(&quot;date&quot;),\n     df.colRegex(&quot;`.*_id`&quot;)\n    };\nfinal Dataset&lt;Row&gt; testDf = df.select(getSelectColumns());\n</code></pre>\n<p>Alternativaly, you could use <code>df.columns()</code> to get all the column names, then apply a regular java regex to filter out only the columns you need and select the columns from there.</p>\n<p>See more:</p>\n<p><a href=\"https://spark.apache.org/docs/3.0.2/api/java/org/apache/spark/sql/Dataset.html#colRegex-java.lang.String-\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/3.0.2/api/java/org/apache/spark/sql/Dataset.html#colRegex-java.lang.String-</a></p>\n"}],"owner":{"account_id":16917353,"reputation":117,"user_id":12235037,"display_name":"chingu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689063077,"creation_date":1689019109,"question_id":76656949,"body_markdown":"I have a list of columns that I need to select. I have the field names for each column in this list, so it is easy to select.\r\n\r\n```\r\npublic Column[] getSelectColumns()\r\n{\r\n        return new Column[]{\r\n                col(&quot;name&quot;),\r\n                col(&quot;value&quot;),\r\n                col(&quot;date&quot;),\r\n        }\r\n}\r\n\r\nfinal Dataset&lt;Row&gt; testDf = df.select(getSelectColumns());\r\n```\r\n\r\nHowever, I want to combine this with other columns where I do not have their exact field names. These other columns only share a similar pattern in their names, such as `weather_id`, `house_id`, `person_id`. They all end in &quot;_id&quot;. Each row may or may not have these &quot;_id&quot; columns. The &quot;_id&quot; columns are dynamic so I cannot hardcode them in like I do in `getSelectColumns()`.\r\n\r\nAm I able to select columns based on the &quot;_id&quot; pattern (like using regex)? And if I can, how do I combine that with my regular select? So that my end result `Dataset&lt;Row&gt;` has all the columns I need. ","title":"Select a list of set columns AND other columns depending on their name/regex (Spark SQL Java)","body":"<p>I have a list of columns that I need to select. I have the field names for each column in this list, so it is easy to select.</p>\n<pre><code>public Column[] getSelectColumns()\n{\n        return new Column[]{\n                col(&quot;name&quot;),\n                col(&quot;value&quot;),\n                col(&quot;date&quot;),\n        }\n}\n\nfinal Dataset&lt;Row&gt; testDf = df.select(getSelectColumns());\n</code></pre>\n<p>However, I want to combine this with other columns where I do not have their exact field names. These other columns only share a similar pattern in their names, such as <code>weather_id</code>, <code>house_id</code>, <code>person_id</code>. They all end in &quot;_id&quot;. Each row may or may not have these &quot;_id&quot; columns. The &quot;_id&quot; columns are dynamic so I cannot hardcode them in like I do in <code>getSelectColumns()</code>.</p>\n<p>Am I able to select columns based on the &quot;_id&quot; pattern (like using regex)? And if I can, how do I combine that with my regular select? So that my end result <code>Dataset&lt;Row&gt;</code> has all the columns I need.</p>\n"},{"tags":["java","android","react-native","kotlin"],"answers":[{"tags":[],"owner":{"account_id":1374266,"reputation":598,"user_id":1308590,"accept_rate":73,"display_name":"famfamfam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689062779,"creation_date":1689062779,"answer_id":76659857,"question_id":76627816,"body_markdown":"You can try overriding the onKeyLongPress method inside your Activity.\r\n```\r\n@Override\r\npublic boolean onKeyLongPress(int keyCode, KeyEvent event) {\r\n    if (keyCode == KeyEvent.KEYCODE_BACK) {\r\n        System.out.println(&quot;Back button long pressed&quot;);\r\n        return true;\r\n    }\r\n    return super.onKeyLongPress(keyCode, event);\r\n}\r\n```\r\n\r\nNote that wont work on Android OS &gt; 9","title":"Android native back button long press","body":"<p>You can try overriding the onKeyLongPress method inside your Activity.</p>\n<pre><code>@Override\npublic boolean onKeyLongPress(int keyCode, KeyEvent event) {\n    if (keyCode == KeyEvent.KEYCODE_BACK) {\n        System.out.println(&quot;Back button long pressed&quot;);\n        return true;\n    }\n    return super.onKeyLongPress(keyCode, event);\n}\n</code></pre>\n<p>Note that wont work on Android OS &gt; 9</p>\n"}],"owner":{"account_id":4069811,"reputation":1406,"user_id":3343358,"accept_rate":47,"display_name":"St&#233;phane R."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689062779,"creation_date":1688638862,"question_id":76627816,"body_markdown":"I&#39;m trying to target the native back Button on **longpress** event in Android (and after in React-Native).\r\n\r\nBut, i not see any API on Android docs ? Anyone know if an API is available for listen this event ?","title":"Android native back button long press","body":"<p>I'm trying to target the native back Button on <strong>longpress</strong> event in Android (and after in React-Native).</p>\n<p>But, i not see any API on Android docs ? Anyone know if an API is available for listen this event ?</p>\n"},{"tags":["java","spring-boot","web-services","jax-rs","jax-ws"],"comments":[{"owner":{"account_id":11668170,"reputation":1,"user_id":8544238,"display_name":"Spard4"},"score":0,"creation_date":1689050447,"post_id":76658753,"comment_id":135154402,"body_markdown":"at javax.xml.ws.Service.getPort(Service.java:134)\n\tat example.ban.commonemail.ws.wsdl.WSCommonEmailEndPoint.getCommonEmailServicePort(WSCommonEmailEndPoint.java:98)","body":"at javax.xml.ws.Service.getPort(Service.java:134) \tat example.ban.commonemail.ws.wsdl.WSCommonEmailEndPoint.getCom&zwnj;&#8203;monEmailServicePort(&zwnj;&#8203;WSCommonEmailEndPoin&zwnj;&#8203;t.java:98)"}],"owner":{"account_id":11668170,"reputation":1,"user_id":8544238,"display_name":"Spard4"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689062154,"creation_date":1689050376,"question_id":76658753,"body_markdown":"I have a problem with the implementation of the rest service and a local library made from a wsdl and the wsimport command based on Springboot and Apache CXF. When trying to use the library the following error is generated.\r\n\r\n```\r\nERROR Servlet.service() for servlet \\[dispatcherServlet\\] in context with path \\[\\] threw exception \\[Request processing failed; nested exception is javax.xml.ws.WebServiceException: org.apache.cxf.service.factory.ServiceConstructionException\\] with root cause\r\ncom.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 2 counts of IllegalAnnotationExceptions\r\n```\r\n```java\r\n@WebServiceClient(name = &quot;WSCommonEmailEndPoint&quot;, targetNamespace = &quot;http://servicio.ws.commonEmail.ban.example/&quot;, wsdlLocation = &quot;https://wsPruebas201.local.example.corp:8080/WarWSCommonEmail/WSCommonEmailEndPoint/WSCommonEmailEndPoint.wsdl&quot;)\r\npublic class WSCommonEmailEndPoint extends Service {\r\n    private final static URL WSCOMMONEMAILENDPOINT_WSDL_LOCATION;\r\n    private final static WebServiceException WSCOMMONEMAILENDPOINT_EXCEPTION;\r\n    private final static QName WSCOMMONEMAILENDPOINT_QNAME = new QName(&quot;http://servicio.ws.commonEmail.ban.example/&quot;, &quot;WSCommonEmailEndPoint&quot;);\r\n    static {\r\n        URL url = null;\r\n        WebServiceException e = null;\r\n        try {\r\n            url = new URL(&quot;https://wsPruebas201.local.example.corp:8080/WarWSCommonEmail/WSCommonEmailEndPoint/WSCommonEmailEndPoint.wsdl&quot;);\r\n        } catch (MalformedURLException ex) {\r\n            e = new WebServiceException(ex);\r\n        }\r\n        WSCOMMONEMAILENDPOINT_WSDL_LOCATION = url;\r\n        WSCOMMONEMAILENDPOINT_EXCEPTION = e;\r\n    }\r\n\r\n    public WSCommonEmailEndPoint() {\r\n        super(__getWsdlLocation(), WSCOMMONEMAILENDPOINT_QNAME);\r\n    }\r\n    public WSCommonEmailEndPoint(WebServiceFeature... features) {\r\n        super(__getWsdlLocation(), WSCOMMONEMAILENDPOINT_QNAME, features);\r\n    }\r\n    public WSCommonEmailEndPoint(URL wsdlLocation) {\r\n        super(wsdlLocation, WSCOMMONEMAILENDPOINT_QNAME);\r\n    }\r\n    public WSCommonEmailEndPoint(URL wsdlLocation, WebServiceFeature... features) {\r\n        super(wsdlLocation, WSCOMMONEMAILENDPOINT_QNAME, features);\r\n    }\r\n    public WSCommonEmailEndPoint(URL wsdlLocation, QName serviceName) {\r\n        super(wsdlLocation, serviceName);\r\n    }\r\n    public WSCommonEmailEndPoint(URL wsdlLocation, QName serviceName, WebServiceFeature... features) {\r\n        super(wsdlLocation, serviceName, features);\r\n    }\r\n    @WebEndpoint(name = &quot;CommonEmailServicePort&quot;)\r\n    public CommonEmailService getCommonEmailServicePort() {\r\n        return super.getPort(new QName(&quot;http://servicio.ws.commonEmail.ban.example/&quot;, &quot;CommonEmailServicePort&quot;), CommonEmailService.class);\r\n    }\r\n    @WebEndpoint(name = &quot;CommonEmailServicePort&quot;)\r\n    public CommonEmailService getCommonEmailServicePort(WebServiceFeature... features) {\r\n        return super.getPort(new QName(&quot;http://servicio.ws.commonEmail.ban.example/&quot;, &quot;CommonEmailServicePort&quot;), CommonEmailService.class, features);\r\n    }\r\n    private static URL __getWsdlLocation() {\r\n        if (WSCOMMONEMAILENDPOINT_EXCEPTION!= null) {\r\n            throw WSCOMMONEMAILENDPOINT_EXCEPTION;\r\n        }\r\n        return WSCOMMONEMAILENDPOINT_WSDL_LOCATION;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe invocation to the wsdl webservice was expected to be executed, I see no error in the WSCommonEmailEndPoint class, I have another project that consumes a wsdl in a similar way.","title":"Error when invoking the getPort of a wsdl with SpringBoot 2.7.12 AND javax","body":"<p>I have a problem with the implementation of the rest service and a local library made from a wsdl and the wsimport command based on Springboot and Apache CXF. When trying to use the library the following error is generated.</p>\n<pre><code>ERROR Servlet.service() for servlet \\[dispatcherServlet\\] in context with path \\[\\] threw exception \\[Request processing failed; nested exception is javax.xml.ws.WebServiceException: org.apache.cxf.service.factory.ServiceConstructionException\\] with root cause\ncom.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 2 counts of IllegalAnnotationExceptions\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@WebServiceClient(name = &quot;WSCommonEmailEndPoint&quot;, targetNamespace = &quot;http://servicio.ws.commonEmail.ban.example/&quot;, wsdlLocation = &quot;https://wsPruebas201.local.example.corp:8080/WarWSCommonEmail/WSCommonEmailEndPoint/WSCommonEmailEndPoint.wsdl&quot;)\npublic class WSCommonEmailEndPoint extends Service {\n    private final static URL WSCOMMONEMAILENDPOINT_WSDL_LOCATION;\n    private final static WebServiceException WSCOMMONEMAILENDPOINT_EXCEPTION;\n    private final static QName WSCOMMONEMAILENDPOINT_QNAME = new QName(&quot;http://servicio.ws.commonEmail.ban.example/&quot;, &quot;WSCommonEmailEndPoint&quot;);\n    static {\n        URL url = null;\n        WebServiceException e = null;\n        try {\n            url = new URL(&quot;https://wsPruebas201.local.example.corp:8080/WarWSCommonEmail/WSCommonEmailEndPoint/WSCommonEmailEndPoint.wsdl&quot;);\n        } catch (MalformedURLException ex) {\n            e = new WebServiceException(ex);\n        }\n        WSCOMMONEMAILENDPOINT_WSDL_LOCATION = url;\n        WSCOMMONEMAILENDPOINT_EXCEPTION = e;\n    }\n\n    public WSCommonEmailEndPoint() {\n        super(__getWsdlLocation(), WSCOMMONEMAILENDPOINT_QNAME);\n    }\n    public WSCommonEmailEndPoint(WebServiceFeature... features) {\n        super(__getWsdlLocation(), WSCOMMONEMAILENDPOINT_QNAME, features);\n    }\n    public WSCommonEmailEndPoint(URL wsdlLocation) {\n        super(wsdlLocation, WSCOMMONEMAILENDPOINT_QNAME);\n    }\n    public WSCommonEmailEndPoint(URL wsdlLocation, WebServiceFeature... features) {\n        super(wsdlLocation, WSCOMMONEMAILENDPOINT_QNAME, features);\n    }\n    public WSCommonEmailEndPoint(URL wsdlLocation, QName serviceName) {\n        super(wsdlLocation, serviceName);\n    }\n    public WSCommonEmailEndPoint(URL wsdlLocation, QName serviceName, WebServiceFeature... features) {\n        super(wsdlLocation, serviceName, features);\n    }\n    @WebEndpoint(name = &quot;CommonEmailServicePort&quot;)\n    public CommonEmailService getCommonEmailServicePort() {\n        return super.getPort(new QName(&quot;http://servicio.ws.commonEmail.ban.example/&quot;, &quot;CommonEmailServicePort&quot;), CommonEmailService.class);\n    }\n    @WebEndpoint(name = &quot;CommonEmailServicePort&quot;)\n    public CommonEmailService getCommonEmailServicePort(WebServiceFeature... features) {\n        return super.getPort(new QName(&quot;http://servicio.ws.commonEmail.ban.example/&quot;, &quot;CommonEmailServicePort&quot;), CommonEmailService.class, features);\n    }\n    private static URL __getWsdlLocation() {\n        if (WSCOMMONEMAILENDPOINT_EXCEPTION!= null) {\n            throw WSCOMMONEMAILENDPOINT_EXCEPTION;\n        }\n        return WSCOMMONEMAILENDPOINT_WSDL_LOCATION;\n    }\n\n}\n</code></pre>\n<p>The invocation to the wsdl webservice was expected to be executed, I see no error in the WSCommonEmailEndPoint class, I have another project that consumes a wsdl in a similar way.</p>\n"},{"tags":["java","window","awt","repaint"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1689024020,"post_id":76657011,"comment_id":135152030,"body_markdown":"I don&#39;t see anything in your code that would cause the Window to repaint itself. Not really sure what you are trying to do. See: https://stackoverflow.com/a/54028681/131872 for an example uses Swing and a Timer to do aniimation.","body":"I don&#39;t see anything in your code that would cause the Window to repaint itself. Not really sure what you are trying to do. See: <a href=\"https://stackoverflow.com/a/54028681/131872\">stackoverflow.com/a/54028681/131872</a> for an example uses Swing and a Timer to do aniimation."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1689028221,"post_id":76657011,"comment_id":135152567,"body_markdown":"Don&#39;t override `paint` of top level containers - they aren&#39;t double buffered","body":"Don&#39;t override <code>paint</code> of top level containers - they aren&#39;t double buffered"},{"owner":{"account_id":28989745,"reputation":3,"user_id":22205792,"display_name":"Novality"},"score":0,"creation_date":1689029615,"post_id":76657011,"comment_id":135152708,"body_markdown":"@camickr i didn&#39;t include my entire program but I was calling w.update(); when appropriate","body":"@camickr i didn&#39;t include my entire program but I was calling w.update(); when appropriate"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1689033781,"post_id":76657011,"comment_id":135153099,"body_markdown":"@Novality Since `update` requires a `Graphics` context to passed to it - where are you getting the `Graphics` context from?  If you&#39;re using `getGraphics`, then this is not the right approach, as `getGraphics` returns a snapshot of the context previously used to paint the component, which will be painted over on the next refresh of the window. I suggest looking at [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) to get a better understand of how the paint process actually works","body":"@Novality Since <code>update</code> requires a <code>Graphics</code> context to passed to it - where are you getting the <code>Graphics</code> context from?  If you&#39;re using <code>getGraphics</code>, then this is not the right approach, as <code>getGraphics</code> returns a snapshot of the context previously used to paint the component, which will be painted over on the next refresh of the window. I suggest looking at <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> to get a better understand of how the paint process actually works"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689036596,"post_id":76657011,"comment_id":135153352,"body_markdown":"update method should be w.repaint() not paint(g) , you could also use w.createBufferStrategy(2) or such.","body":"update method should be w.repaint() not paint(g) , you could also use w.createBufferStrategy(2) or such."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689033455,"creation_date":1689033455,"answer_id":76657974,"question_id":76657011,"body_markdown":"You problem is pretty basic - you need some way to update the UI on a regular bases.\r\n\r\nYour problem is further complicated by the fact that Swing is single thread and NOT thread safe.  Lucky for you, the Swing team fore saw this issue and provided the Swing `Timer` class.\r\n\r\nStart by seeing [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) and [How to Use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) for more details.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.Shape;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.geom.Ellipse2D;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame window = new JFrame();\r\n                    window.setUndecorated(true);\r\n                    window.setBackground(new Color(0, true));\r\n                    window.add(new TestPane());\r\n                    window.pack();\r\n                    window.setLocationRelativeTo(null);\r\n                    window.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            enum Direction {\r\n                UP, DOWN;\r\n            }\r\n\r\n            private Timer timer;\r\n\r\n            private Direction direction = Direction.UP;\r\n            private double yDelta = 2;\r\n            private double yPos = 380;\r\n\r\n            private Shape ball = new Ellipse2D.Double(0, 0, 20, 20);\r\n\r\n            public TestPane() {\r\n                setOpaque(false);\r\n\r\n                timer = new Timer(5, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (direction == Direction.UP) {\r\n                            yPos -= yDelta;\r\n                            yDelta -= 0.006;\r\n                            if (yDelta &lt;= 0.0) {\r\n                                yDelta = 0;\r\n                                direction = Direction.DOWN;\r\n                            }\r\n                            if (yPos &lt; 0) {\r\n                                yPos = 0;\r\n                                direction = Direction.DOWN;\r\n                            }\r\n                        } else if (direction == Direction.DOWN) {\r\n                            yPos += yDelta;\r\n                            yDelta += 0.01;\r\n                            if (yDelta &gt; 2.0) {\r\n                                yDelta = 2.0;\r\n                            }\r\n                            if (yPos + ball.getBounds().height &gt; getHeight()) {\r\n                                yPos = getHeight() - ball.getBounds().height;\r\n                                direction = Direction.UP;\r\n                                yDelta = 2;\r\n                            }\r\n                        }\r\n                        repaint();\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                timer.start();\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                timer.stop();\r\n                super.removeNotify();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                RenderingHints hints = new RenderingHints(\r\n                        RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON\r\n                );\r\n                g2d.setColor(Color.RED);\r\n                g2d.drawRect(0, 0, getWidth() - 1, getHeight() - 1);\r\n                g2d.translate(190, yPos);\r\n                g2d.fill(ball);\r\n                g2d.dispose();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hMfa8.gif","title":"Creating and using an invisible, topmost, non-interactable window for &quot;screen-drawing&quot;","body":"<p>You problem is pretty basic - you need some way to update the UI on a regular bases.</p>\n<p>Your problem is further complicated by the fact that Swing is single thread and NOT thread safe.  Lucky for you, the Swing team fore saw this issue and provided the Swing <code>Timer</code> class.</p>\n<p>Start by seeing <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a> for more details.</p>\n<p><a href=\"https://i.stack.imgur.com/hMfa8.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hMfa8.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.Shape;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.geom.Ellipse2D;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Test {\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame window = new JFrame();\n                window.setUndecorated(true);\n                window.setBackground(new Color(0, true));\n                window.add(new TestPane());\n                window.pack();\n                window.setLocationRelativeTo(null);\n                window.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        enum Direction {\n            UP, DOWN;\n        }\n\n        private Timer timer;\n\n        private Direction direction = Direction.UP;\n        private double yDelta = 2;\n        private double yPos = 380;\n\n        private Shape ball = new Ellipse2D.Double(0, 0, 20, 20);\n\n        public TestPane() {\n            setOpaque(false);\n\n            timer = new Timer(5, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (direction == Direction.UP) {\n                        yPos -= yDelta;\n                        yDelta -= 0.006;\n                        if (yDelta &lt;= 0.0) {\n                            yDelta = 0;\n                            direction = Direction.DOWN;\n                        }\n                        if (yPos &lt; 0) {\n                            yPos = 0;\n                            direction = Direction.DOWN;\n                        }\n                    } else if (direction == Direction.DOWN) {\n                        yPos += yDelta;\n                        yDelta += 0.01;\n                        if (yDelta &gt; 2.0) {\n                            yDelta = 2.0;\n                        }\n                        if (yPos + ball.getBounds().height &gt; getHeight()) {\n                            yPos = getHeight() - ball.getBounds().height;\n                            direction = Direction.UP;\n                            yDelta = 2;\n                        }\n                    }\n                    repaint();\n                }\n            });\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            timer.start();\n        }\n\n        @Override\n        public void removeNotify() {\n            timer.stop();\n            super.removeNotify();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            RenderingHints hints = new RenderingHints(\n                    RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON\n            );\n            g2d.setColor(Color.RED);\n            g2d.drawRect(0, 0, getWidth() - 1, getHeight() - 1);\n            g2d.translate(190, yPos);\n            g2d.fill(ball);\n            g2d.dispose();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28989745,"reputation":3,"user_id":22205792,"display_name":"Novality"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689062087,"creation_date":1689062087,"answer_id":76659772,"question_id":76657011,"body_markdown":"MadProgrammer&#39;s solution was mostly correct. But I went a step further to address a few things.\r\n\r\nI changed the JFrame to a JWindow and removed the call to setUndecorated. This kept functionality and removed the window from the taskbar.\r\n\r\nNext and optionally, I used JNA to allow all inputs to pass through the window&#39;s components. My final solution is as follows, thanks for all of the help:\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.Shape;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.geom.Ellipse2D;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JWindow;\r\n    import javax.swing.Timer;\r\n    import com.sun.jna.*;\r\n    import com.sun.jna.platform.win32.WinDef.HWND;\r\n    import com.sun.jna.platform.win32.WinDef;\r\n    import com.sun.jna.platform.win32.User32;\r\n    import com.sun.jna.platform.win32.WinUser;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n    \r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JWindow window = new JWindow();\r\n                    window.setBackground(new Color(0, true));\r\n                    window.add(new TestPane());\r\n                    window.pack();\r\n                    window.setLocationRelativeTo(null);\r\n                    window.setVisible(true);\r\n                    window.setAlwaysOnTop(true);\r\n                    setTransparent(window);\r\n                }\r\n            });\r\n        }\r\n    \r\n        public static class TestPane extends JPanel {\r\n            enum Direction {\r\n                UP, DOWN;\r\n            }\r\n    \r\n            private Timer timer;\r\n    \r\n            private Direction direction = Direction.UP;\r\n            private double yDelta = 2;\r\n            private double yPos = 380;\r\n    \r\n            private Shape ball = new Ellipse2D.Double(0, 0, 20, 20);\r\n    \r\n            public TestPane() {\r\n                setOpaque(false);\r\n    \r\n                timer = new Timer(5, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (direction == Direction.UP) {\r\n                            yPos -= yDelta;\r\n                            yDelta -= 0.006;\r\n                            if (yDelta &lt;= 0.0) {\r\n                                yDelta = 0;\r\n                                direction = Direction.DOWN;\r\n                            }\r\n                            if (yPos &lt; 0) {\r\n                                yPos = 0;\r\n                                direction = Direction.DOWN;\r\n                            }\r\n                        } else if (direction == Direction.DOWN) {\r\n                            yPos += yDelta;\r\n                            yDelta += 0.01;\r\n                            if (yDelta &gt; 2.0) {\r\n                                yDelta = 2.0;\r\n                            }\r\n                            if (yPos + ball.getBounds().height &gt; getHeight()) {\r\n                                yPos = getHeight() - ball.getBounds().height;\r\n                                direction = Direction.UP;\r\n                                yDelta = 2;\r\n                            }\r\n                        }\r\n                        repaint();\r\n                    }\r\n                });\r\n            }\r\n    \r\n            @Override\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                timer.start();\r\n            }\r\n    \r\n            @Override\r\n            public void removeNotify() {\r\n                timer.stop();\r\n                super.removeNotify();\r\n            }\r\n    \r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n    \r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                RenderingHints hints = new RenderingHints(\r\n                        RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON\r\n                );\r\n                g2d.setColor(Color.RED);\r\n                g2d.drawRect(0, 0, getWidth() - 1, getHeight() - 1);\r\n                g2d.translate(190, yPos);\r\n                g2d.fill(ball);\r\n                g2d.dispose();\r\n            }\r\n        }\r\n        \r\n        private static void setTransparent(Component w) {\r\n            WinDef.HWND hwnd = getHWnd(w);\r\n            int wl = User32.INSTANCE.GetWindowLong(hwnd, WinUser.GWL_EXSTYLE);\r\n            wl = wl | WinUser.WS_EX_LAYERED | WinUser.WS_EX_TRANSPARENT;\r\n            User32.INSTANCE.SetWindowLong(hwnd, WinUser.GWL_EXSTYLE, wl);\r\n        }\r\n    \r\n        /**\r\n         * Get the window handle from the OS\r\n         */\r\n        private static HWND getHWnd(Component w) {\r\n            HWND hwnd = new HWND();\r\n            hwnd.setPointer(Native.getComponentPointer(w));\r\n            return hwnd;\r\n        }\r\n    }","title":"Creating and using an invisible, topmost, non-interactable window for &quot;screen-drawing&quot;","body":"<p>MadProgrammer's solution was mostly correct. But I went a step further to address a few things.</p>\n<p>I changed the JFrame to a JWindow and removed the call to setUndecorated. This kept functionality and removed the window from the taskbar.</p>\n<p>Next and optionally, I used JNA to allow all inputs to pass through the window's components. My final solution is as follows, thanks for all of the help:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.Shape;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.geom.Ellipse2D;\nimport javax.swing.JPanel;\nimport javax.swing.JWindow;\nimport javax.swing.Timer;\nimport com.sun.jna.*;\nimport com.sun.jna.platform.win32.WinDef.HWND;\nimport com.sun.jna.platform.win32.WinDef;\nimport com.sun.jna.platform.win32.User32;\nimport com.sun.jna.platform.win32.WinUser;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JWindow window = new JWindow();\n                window.setBackground(new Color(0, true));\n                window.add(new TestPane());\n                window.pack();\n                window.setLocationRelativeTo(null);\n                window.setVisible(true);\n                window.setAlwaysOnTop(true);\n                setTransparent(window);\n            }\n        });\n    }\n\n    public static class TestPane extends JPanel {\n        enum Direction {\n            UP, DOWN;\n        }\n\n        private Timer timer;\n\n        private Direction direction = Direction.UP;\n        private double yDelta = 2;\n        private double yPos = 380;\n\n        private Shape ball = new Ellipse2D.Double(0, 0, 20, 20);\n\n        public TestPane() {\n            setOpaque(false);\n\n            timer = new Timer(5, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (direction == Direction.UP) {\n                        yPos -= yDelta;\n                        yDelta -= 0.006;\n                        if (yDelta &lt;= 0.0) {\n                            yDelta = 0;\n                            direction = Direction.DOWN;\n                        }\n                        if (yPos &lt; 0) {\n                            yPos = 0;\n                            direction = Direction.DOWN;\n                        }\n                    } else if (direction == Direction.DOWN) {\n                        yPos += yDelta;\n                        yDelta += 0.01;\n                        if (yDelta &gt; 2.0) {\n                            yDelta = 2.0;\n                        }\n                        if (yPos + ball.getBounds().height &gt; getHeight()) {\n                            yPos = getHeight() - ball.getBounds().height;\n                            direction = Direction.UP;\n                            yDelta = 2;\n                        }\n                    }\n                    repaint();\n                }\n            });\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            timer.start();\n        }\n\n        @Override\n        public void removeNotify() {\n            timer.stop();\n            super.removeNotify();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            RenderingHints hints = new RenderingHints(\n                    RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON\n            );\n            g2d.setColor(Color.RED);\n            g2d.drawRect(0, 0, getWidth() - 1, getHeight() - 1);\n            g2d.translate(190, yPos);\n            g2d.fill(ball);\n            g2d.dispose();\n        }\n    }\n    \n    private static void setTransparent(Component w) {\n        WinDef.HWND hwnd = getHWnd(w);\n        int wl = User32.INSTANCE.GetWindowLong(hwnd, WinUser.GWL_EXSTYLE);\n        wl = wl | WinUser.WS_EX_LAYERED | WinUser.WS_EX_TRANSPARENT;\n        User32.INSTANCE.SetWindowLong(hwnd, WinUser.GWL_EXSTYLE, wl);\n    }\n\n    /**\n     * Get the window handle from the OS\n     */\n    private static HWND getHWnd(Component w) {\n        HWND hwnd = new HWND();\n        hwnd.setPointer(Native.getComponentPointer(w));\n        return hwnd;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28989745,"reputation":3,"user_id":22205792,"display_name":"Novality"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76657974,"answer_count":2,"score":0,"last_activity_date":1689062087,"creation_date":1689019723,"question_id":76657011,"body_markdown":"I&#39;ve been struggling to get this to work. The only solution (but terrible solution) I found was re creating a new window every frame which is horrible for performance and other obvious reasons. Here is what I have but I&#39;m unsure about how I can go about redrawing every frame. Or if there&#39;s another approach I can take to achieve the same functionality, how can I go about doing it?\r\n\r\n```\r\npublic static Window w = null;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\n    private static void initializeWindow(final Dimension d) {\r\n        int windowHeight = d.height - 1; \r\n        \r\n        w = new Window(null) {\r\n            \r\n            @Override\r\n            public void paint(Graphics g) {\r\n                super.paint(g);\r\n                Graphics2D g2d = (Graphics2D) g;\r\n                        //painting goes here (but it only seems to draw for one frame)\r\n                        //for some repainting doesn&#39;t seem to work\r\n            }\r\n            \r\n            @Override\r\n            public void update(Graphics g) {\r\n                paint(g);\r\n                System.out.println(true);\r\n            }\r\n            \r\n        };\r\n        \r\n        w.setAlwaysOnTop(true);\r\n        w.setBounds(0, 0, d.width, windowHeight);\r\n        w.setBackground(new Color(0, true));\r\n        w.setVisible(true);\r\n    }\r\n```\r\n\r\nI tried the code block attached and I expected to be able to update the window every frame with newly painted stuff.","title":"Creating and using an invisible, topmost, non-interactable window for &quot;screen-drawing&quot;","body":"<p>I've been struggling to get this to work. The only solution (but terrible solution) I found was re creating a new window every frame which is horrible for performance and other obvious reasons. Here is what I have but I'm unsure about how I can go about redrawing every frame. Or if there's another approach I can take to achieve the same functionality, how can I go about doing it?</p>\n<pre><code>public static Window w = null;\n\n@SuppressWarnings(&quot;serial&quot;)\n    private static void initializeWindow(final Dimension d) {\n        int windowHeight = d.height - 1; \n        \n        w = new Window(null) {\n            \n            @Override\n            public void paint(Graphics g) {\n                super.paint(g);\n                Graphics2D g2d = (Graphics2D) g;\n                        //painting goes here (but it only seems to draw for one frame)\n                        //for some repainting doesn't seem to work\n            }\n            \n            @Override\n            public void update(Graphics g) {\n                paint(g);\n                System.out.println(true);\n            }\n            \n        };\n        \n        w.setAlwaysOnTop(true);\n        w.setBounds(0, 0, d.width, windowHeight);\n        w.setBackground(new Color(0, true));\n        w.setVisible(true);\n    }\n</code></pre>\n<p>I tried the code block attached and I expected to be able to update the window every frame with newly painted stuff.</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1685631637,"post_id":76383244,"comment_id":134690327,"body_markdown":"Just `.replace(&quot;apple&quot;, &quot;&quot;)` will do. There is nothing overlapping here.","body":"Just <code>.replace(&quot;apple&quot;, &quot;&quot;)</code> will do. There is nothing overlapping here."},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1685631642,"post_id":76383244,"comment_id":134690328,"body_markdown":"What&#39;s you tried?","body":"What&#39;s you tried?"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1685631775,"post_id":76383244,"comment_id":134690359,"body_markdown":"If it is supposed to delete all substring why woudn&#39;t it delete all `&quot;a&quot;` or all `&quot;p&quot;`, or all `&quot;pp&quot;`?  What is the rule that `&quot;apple&quot;` is a valid substring that should be deleted but not `&quot;a&quot;`?","body":"If it is supposed to delete all substring why woudn&#39;t it delete all <code>&quot;a&quot;</code> or all <code>&quot;p&quot;</code>, or all <code>&quot;pp&quot;</code>?  What is the rule that <code>&quot;apple&quot;</code> is a valid substring that should be deleted but not <code>&quot;a&quot;</code>?"},{"owner":{"account_id":21473693,"reputation":31,"user_id":15822298,"display_name":"Indefatigablex"},"score":0,"creation_date":1685632036,"post_id":76383244,"comment_id":134690430,"body_markdown":"Thanks all for helping me. However the pattern isn&#39;t fixed, so I the suggestions wouldn&#39;t work in my case.","body":"Thanks all for helping me. However the pattern isn&#39;t fixed, so I the suggestions wouldn&#39;t work in my case."},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1685632075,"post_id":76383244,"comment_id":134690442,"body_markdown":"@markalex I am sure OP is overthinking it, I deduce it from the question wording. It can also be one of those cases when OP actually needs something totally different from what OP says.","body":"@markalex I am sure OP is overthinking it, I deduce it from the question wording. It can also be one of those cases when OP actually needs something totally different from what OP says."},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1685632135,"post_id":76383244,"comment_id":134690459,"body_markdown":"@WiktorStribiżew, yes, I see it now)","body":"@WiktorStribiżew, yes, I see it now)"},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1685632297,"post_id":76383244,"comment_id":134690500,"body_markdown":"Sounds like a [X/Y problem](https://en.wikipedia.org/wiki/XY_problem) to me. Because the solution to your problem is just `.replaceAll(&quot;apple&quot;, &quot;&quot;);`","body":"Sounds like a <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">X/Y problem</a> to me. Because the solution to your problem is just <code>.replaceAll(&quot;apple&quot;, &quot;&quot;);</code>"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1685632304,"post_id":76383244,"comment_id":134690502,"body_markdown":"@markalex And now I think your suggestion was correct. Two or more consecutive occurrences of `apple`.","body":"@markalex And now I think your suggestion was correct. Two or more consecutive occurrences of <code>apple</code>."},{"owner":{"account_id":21473693,"reputation":31,"user_id":15822298,"display_name":"Indefatigablex"},"score":0,"creation_date":1685632498,"post_id":76383244,"comment_id":134690554,"body_markdown":"@markalex would you read part I just added? The program should not replace &quot;apple&quot; by itself. &quot;applebanana&quot; should remain &quot;applebanana&quot; after the process, since there is no &quot;apple&quot; in it. Also, I cannot just split the input into two parts since the pattern isn&#39;t fixed. Thanks.","body":"@markalex would you read part I just added? The program should not replace &quot;apple&quot; by itself. &quot;applebanana&quot; should remain &quot;applebanana&quot; after the process, since there is no &quot;apple&quot; in it. Also, I cannot just split the input into two parts since the pattern isn&#39;t fixed. Thanks."},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1685632520,"post_id":76383244,"comment_id":134690560,"body_markdown":"@WiktorStribiżew, it will require converting string from repeated into regex `appleapple` -&gt; `(?:apple){2,}`, `aaaa` -&gt; `(?:a){4,}` and then replacing. I don&#39;t think this is better or &quot;fancier&quot; way. It is just plain simple over complication, IMO. Suggestion from question itself will be easier to maintain.","body":"@WiktorStribiżew, it will require converting string from repeated into regex <code>appleapple</code> -&gt; <code>(?:apple){2,}</code>, <code>aaaa</code> -&gt; <code>(?:a){4,}</code> and then replacing. I don&#39;t think this is better or &quot;fancier&quot; way. It is just plain simple over complication, IMO. Suggestion from question itself will be easier to maintain."},{"owner":{"account_id":21473693,"reputation":31,"user_id":15822298,"display_name":"Indefatigablex"},"score":0,"creation_date":1685632777,"post_id":76383244,"comment_id":134690643,"body_markdown":"@WiktorStribiżew Thanks for your suggestion.The terminology &quot;fancier&quot; meant that making a helper function for things like just &quot;replacing a pattern&quot; isn&#39;t recommended, since it requires extra unit testing &amp; performance evaluation due to company&#39;s rules. So I was just seeking for a java api that would allow me to do the same thing.\n\nAlso, for instance &quot;aaabbbaaabbbaaa&quot; should be &quot;&quot; when the remove-pattern is &quot;aaabbbaaa&quot;, which makes it harder to generate a regex expression for it.\n\nMaybe I&#39;ll just have to implement it myself :(","body":"@WiktorStribiżew Thanks for your suggestion.The terminology &quot;fancier&quot; meant that making a helper function for things like just &quot;replacing a pattern&quot; isn&#39;t recommended, since it requires extra unit testing &amp; performance evaluation due to company&#39;s rules. So I was just seeking for a java api that would allow me to do the same thing.  Also, for instance &quot;aaabbbaaabbbaaa&quot; should be &quot;&quot; when the remove-pattern is &quot;aaabbbaaa&quot;, which makes it harder to generate a regex expression for it.  Maybe I&#39;ll just have to implement it myself :("},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1685633396,"post_id":76383244,"comment_id":134690813,"body_markdown":"@Indefatigablex I&#39;m still not sure why &quot;remove any substring that is repeated&quot; would result in turning &quot;appleappleapplebanana&quot; to &quot;applebanana&quot;. Is there some minimum length required for the substrings to be replaced? Because otherwise replacing any repetition would give the end result of &quot;aplebana&quot; Because &quot;p&quot;  and &quot;na&quot; are substrings that are repeated as well in &quot;applebanana&quot;","body":"@Indefatigablex I&#39;m still not sure why &quot;remove any substring that is repeated&quot; would result in turning &quot;appleappleapplebanana&quot; to &quot;applebanana&quot;. Is there some minimum length required for the substrings to be replaced? Because otherwise replacing any repetition would give the end result of &quot;aplebana&quot; Because &quot;p&quot;  and &quot;na&quot; are substrings that are repeated as well in &quot;applebanana&quot;"},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1685633451,"post_id":76383244,"comment_id":134690830,"body_markdown":"@Indefatigablex, I don&#39;t believe there is something like this already available. You&#39;ll need to do wrapper of some kind for this. I recommend implementing solution based on your own description.","body":"@Indefatigablex, I don&#39;t believe there is something like this already available. You&#39;ll need to do wrapper of some kind for this. I recommend implementing solution based on your own description."},{"owner":{"account_id":21473693,"reputation":31,"user_id":15822298,"display_name":"Indefatigablex"},"score":0,"creation_date":1685634268,"post_id":76383244,"comment_id":134691050,"body_markdown":"@OHGODSPIDERS &quot;appleappleapplebanana&quot; should be &quot;banana&quot;. English isn&#39;t my first language, and seems like I failed to clarify what I wanted. The term &quot;repeated&quot; isn&#39;t that important, and just matching literally ALL occurrences is required. However thanks for your interest!","body":"@OHGODSPIDERS &quot;appleappleapplebanana&quot; should be &quot;banana&quot;. English isn&#39;t my first language, and seems like I failed to clarify what I wanted. The term &quot;repeated&quot; isn&#39;t that important, and just matching literally ALL occurrences is required. However thanks for your interest!"},{"owner":{"account_id":21473693,"reputation":31,"user_id":15822298,"display_name":"Indefatigablex"},"score":0,"creation_date":1685634375,"post_id":76383244,"comment_id":134691079,"body_markdown":"@markalex yup I ended up making my own function. I appreciate your help!","body":"@markalex yup I ended up making my own function. I appreciate your help!"},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1685642236,"post_id":76383244,"comment_id":134692711,"body_markdown":"May the pattern length be used in the regex? E.g. [`.{1,10}(?&lt;=appleapple)`](https://regex101.com/r/Yr8daE/2) where `10` will be the length of `appleapple`.","body":"May the pattern length be used in the regex? E.g. <a href=\"https://regex101.com/r/Yr8daE/2\" rel=\"nofollow noreferrer\"><code>.{1,10}(?&lt;=appleapple)</code></a> where <code>10</code> will be the length of <code>appleapple</code>."},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1685643225,"post_id":76383244,"comment_id":134692911,"body_markdown":"@bobblebubble, since you will need to dynamically create such regex anyway, I don&#39;t see any problem with using length. (OP might find such solution inappropriate for their situation with requirements, but at least from research stand point it will be interesting if you&#39;ll find a solution)","body":"@bobblebubble, since you will need to dynamically create such regex anyway, I don&#39;t see any problem with using length. (OP might find such solution inappropriate for their situation with requirements, but at least from research stand point it will be interesting if you&#39;ll find a solution)"},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1685728356,"post_id":76383244,"comment_id":134706928,"body_markdown":"@Indefatigablex, feel free to provide your regex-free solution as an answer, since this question is reopened.","body":"@Indefatigablex, feel free to provide your regex-free solution as an answer, since this question is reopened."},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1685735665,"post_id":76383244,"comment_id":134708229,"body_markdown":"@bobblebubble, believe it worth the answer. At least for science. Also, you&#39;ll have a chance to explain why it works, because it might be not obvious on the first glance.","body":"@bobblebubble, believe it worth the answer. At least for science. Also, you&#39;ll have a chance to explain why it works, because it might be not obvious on the first glance."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685762611,"post_id":76383244,"comment_id":134710542,"body_markdown":"Technically, you&#39;re saying _&quot;over-lapping&quot;_, which would mean, _&quot;appleappleappleappleapplebanana&quot;_ is _&quot;applebanana&quot;_, and not _&quot;banana&quot;_.  What you&#39;re referring to would be called _&quot;repeating&quot;_.  To &quot;overlap&quot;, means to _&quot;cover partly&quot;_.","body":"Technically, you&#39;re saying <i>&quot;over-lapping&quot;</i>, which would mean, <i>&quot;appleappleappleappleapplebanana&quot;</i> is <i>&quot;applebanana&quot;</i>, and not <i>&quot;banana&quot;</i>.  What you&#39;re referring to would be called <i>&quot;repeating&quot;</i>.  To &quot;overlap&quot;, means to <i>&quot;cover partly&quot;</i>."}],"answers":[{"comments":[{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1685774708,"post_id":76394482,"comment_id":134711209,"body_markdown":"Read the question closely, specifically explanation for first example. Do you see removing of &quot;repetition&quot; there? I personally don&#39;t.","body":"Read the question closely, specifically explanation for first example. Do you see removing of &quot;repetition&quot; there? I personally don&#39;t."},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1685774851,"post_id":76394482,"comment_id":134711220,"body_markdown":"And regarding removing overlapping pattern with a single regex: if you&#39;ll read comments by bobble under question, you&#39;ll regex, that will allow removing of overlapping pattern in a single expression.","body":"And regarding removing overlapping pattern with a single regex: if you&#39;ll read comments by bobble under question, you&#39;ll regex, that will allow removing of overlapping pattern in a single expression."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685807087,"post_id":76394482,"comment_id":134714169,"body_markdown":"@markalex, _&quot;read the question closely, specifically explanation for first example.&quot;_, I don&#39;t understand what you&#39;re saying.  It sounds condescending, and comical.  Should I put my glasses on, also?","body":"@markalex, <i>&quot;read the question closely, specifically explanation for first example.&quot;</i>, I don&#39;t understand what you&#39;re saying.  It sounds condescending, and comical.  Should I put my glasses on, also?"},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1685810409,"post_id":76394482,"comment_id":134714552,"body_markdown":"My first comment is about the fact, that pattern `appleapple` in `appleappleapplebanana` can be found two times, and those are overlapping. It hardly can be classified as a repetition. Sorry if it was a bit harsh, I was just a tad dumbfounded but answer, that critiqued OP, rather commonly known method names and (I assume) an advise how to solve original problem, that failed on the first provided by question example.","body":"My first comment is about the fact, that pattern <code>appleapple</code> in <code>appleappleapplebanana</code> can be found two times, and those are overlapping. It hardly can be classified as a repetition. Sorry if it was a bit harsh, I was just a tad dumbfounded but answer, that critiqued OP, rather commonly known method names and (I assume) an advise how to solve original problem, that failed on the first provided by question example."},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1685810686,"post_id":76394482,"comment_id":134714582,"body_markdown":"Regarding your edit: it is valid way to solve questions problem, and something similar was discussed in comments. But task of converting arbitrary input string like `appleapple` to `(apple)\\1+`, and `aba` to `((a)(b))+\\2` or `(ab)+a` is not obvious and requires additional explanation.","body":"Regarding your edit: it is valid way to solve questions problem, and something similar was discussed in comments. But task of converting arbitrary input string like <code>appleapple</code> to <code>(apple)\\1+</code>, and <code>aba</code> to <code>((a)(b))+\\2</code> or <code>(ab)+a</code> is not obvious and requires additional explanation."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1685806881,"creation_date":1685764072,"answer_id":76394482,"question_id":76383244,"body_markdown":"Technically, this is over-lapping.\r\n\r\n```\r\nappleapple\r\n     appleappleappleapple\r\n                    appleapple\r\n```\r\n\r\nAnd, this is repeating.\r\n\r\n```none\r\nappleapple\r\n     appleapple\r\n          appleapple\r\n```\r\n\r\nAlthough, you could refer to the latter as, _having over-lapped_.  \r\nWhich, intrinsically, is not a property of a pattern that is considered to have a repeating quality.  \r\nIt would be inherent at that point&amp;mdash;redundant&amp;mdash;it&#39;s just a description.\r\n\r\nIn addition to _String#replace_ there is also _[String#replaceAll](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String))_.  \r\nIt uses a _[regular expression pattern](https://en.wikipedia.org/wiki/Regular_expression)_ as the first argument.\r\n\r\nYou could use the following pattern to replace repeating values that have over-lapped.\r\n\r\n```none\r\n(apple)\\1+\r\n```\r\n\r\n```java\r\nreplaceAll(&quot;(apple)\\\\1+&quot;, &quot;&quot;)\r\n```\r\n\r\nI&#39;m not sure if there is a way to remove _over-lapping_ values using a single pattern.  \r\nI imagine it would be much more complex.\r\n\r\nYou mentioned _&quot;... mark corresponding characters as &#39;to-be deleted&#39;&quot;_.  \r\nThis would most likely be the logical way to remove truly over-lapping values.","title":"Removing all occurrences of the specified substring, even overlapping ones","body":"<p>Technically, this is over-lapping.</p>\n<pre><code>appleapple\n     appleappleappleapple\n                    appleapple\n</code></pre>\n<p>And, this is repeating.</p>\n<pre class=\"lang-none prettyprint-override\"><code>appleapple\n     appleapple\n          appleapple\n</code></pre>\n<p>Although, you could refer to the latter as, <em>having over-lapped</em>.<br />\nWhich, intrinsically, is not a property of a pattern that is considered to have a repeating quality.<br />\nIt would be inherent at that point—redundant—it's just a description.</p>\n<p>In addition to <em>String#replace</em> there is also <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">String#replaceAll</a></em>.<br />\nIt uses a <em><a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">regular expression pattern</a></em> as the first argument.</p>\n<p>You could use the following pattern to replace repeating values that have over-lapped.</p>\n<pre class=\"lang-none prettyprint-override\"><code>(apple)\\1+\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>replaceAll(&quot;(apple)\\\\1+&quot;, &quot;&quot;)\n</code></pre>\n<p>I'm not sure if there is a way to remove <em>over-lapping</em> values using a single pattern.<br />\nI imagine it would be much more complex.</p>\n<p>You mentioned <em>&quot;... mark corresponding characters as 'to-be deleted'&quot;</em>.<br />\nThis would most likely be the logical way to remove truly over-lapping values.</p>\n"},{"comments":[{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":1,"creation_date":1685862647,"post_id":76395681,"comment_id":134718303,"body_markdown":"Will [`((?=aaabbbaaa).{1,9})*aaabbbaaa`](https://regex101.com/r/XWoRrv/1) do the same trick?","body":"Will <a href=\"https://regex101.com/r/XWoRrv/1\" rel=\"nofollow noreferrer\"><code>((?=aaabbbaaa).{1,9})*aaabbbaaa</code></a> do the same trick?"},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":1,"creation_date":1685867887,"post_id":76395681,"comment_id":134718739,"body_markdown":"@markalex Very nice, yes I think so! It looks to be a bit less efficient though (at least in the PCRE steps counter on regex 101 [if you compare it](https://regex101.com/r/30DPuW/1) to [the lookbehind version](https://regex101.com/r/30DPuW/2). But **mixing our ideas** together, we could reassemble an even more efficient: [`aaabbbaaa(?:.{1,9}(?&lt;=aaabbbaaa))*`](https://regex101.com/r/30DPuW/3) &#128512; Certainly yours is a working option for regex flavors that don&#39;t support lookbehind, thank you.","body":"@markalex Very nice, yes I think so! It looks to be a bit less efficient though (at least in the PCRE steps counter on regex 101 <a href=\"https://regex101.com/r/30DPuW/1\" rel=\"nofollow noreferrer\">if you compare it</a> to <a href=\"https://regex101.com/r/30DPuW/2\" rel=\"nofollow noreferrer\">the lookbehind version</a>. But <b>mixing our ideas</b> together, we could reassemble an even more efficient: <a href=\"https://regex101.com/r/30DPuW/3\" rel=\"nofollow noreferrer\"><code>aaabbbaaa(?:.{1,9}(?&lt;=aaabbbaaa))*</code></a> 😀 Certainly yours is a working option for regex flavors that don&#39;t support lookbehind, thank you."},{"owner":{"account_id":7750510,"reputation":131491,"user_id":5866580,"accept_rate":25,"display_name":"RavinderSingh13"},"score":0,"creation_date":1686718193,"post_id":76395681,"comment_id":134835842,"body_markdown":"@bobblebubble, this is very nice detailed answer, thanks for sharing.","body":"@bobblebubble, this is very nice detailed answer, thanks for sharing."}],"tags":[],"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685871541,"creation_date":1685788929,"answer_id":76395681,"question_id":76383244,"body_markdown":"The question was a bit confusing at first. After the updates I think the best provided example to illustrate the problem is matching the &quot;pattern&quot; `aaabbbaaa` in `aaabbbaaabbbaaa`.\r\n\r\n    aaabbbaaabbbaaa\r\n    aaabbbaaa\r\n          aaabbbaaa\r\n          ^-^        &lt; overlapping part\r\n    ^-------------^  &lt; match this part: &#39;aaa&#39; is overlapping\r\n\r\nIf *length* of the &quot;pattern&quot;-string may be used in the regex, a [lookbehind][1] could be used:\r\n\r\n    .{1,9}(?&lt;=aaabbbaaa)\r\n\r\n[This regex (demo)][2] will match from one to the strings length characters as long as `aaabbbaaa` is behind. So that will match `aaabbbaaa` but also `bbbaaa` because the last `a` is also preceded by `aaabbbaaa` and due to the length restriction it will not skip over any other substring. It will also [match *non-overlaps* in `aaabbbaaaaaabbbaaa`][3] but [leave e.g. `ccc` in `aaabbbaaacccaaabbbaaa`][4].\r\n\r\n[A Java demo at tio.run][5] with incorporating the length:\r\n\r\n    String regex = &quot;.{1,&quot; + pat.length() + &quot;}(?&lt;=&quot; + pat + &quot;)&quot;;\r\n    Pattern p = Pattern.compile(regex);\r\n    String result = p.matcher(str).replaceAll(&quot;&quot;);\r\n\r\n*Update including parts of [@markalex idea][6]*: For better performance, especially with longer inputs first match the &quot;pattern&quot; once and wrap the lookbehind part into a repeated group ([regex101 demo][7]).\r\n\r\n    aaabbbaaa(?:.{1,9}(?&lt;=aaabbbaaa))*\r\n\r\nThis will also lead to getting one match for the adjacent parts which might be desired anyways. Further you can use [`\\w` (word character)][8] instead of the dot if input contains non-word characters.\r\n\r\n\r\n  [1]: https://www.regular-expressions.info/lookaround.html\r\n  [2]: https://regex101.com/r/7c5W8Q/4\r\n  [3]: https://regex101.com/r/7c5W8Q/2\r\n  [4]: https://regex101.com/r/7c5W8Q/3\r\n  [5]: https://tio.run/##lVHLbsMgELz7K1acsJoi9ewmVT8gUqUe2x7WDnJIMUaAo1ZRvt1dA0mdPqRW2LCzzMAsu8M9Xu82r@OoOtu7ADtKiCEoLZxs5ZtYY2i20lXFL/sPGIJ0pioKO9RaNdBo9B7WqExxKAB8wEDZfa82FDtlH4Pj9CvTTngBObYYSqJPEjjl4g2wBCYONwsGVxNJaGnasOUlQXbkd7fLvDHhklVRn02BJXGORdN3VmnJ46FldXmPH3QgrhVdKpeTtZIqtBobea81Z4wkSfPug@xEPwRhSR204TEPwHw6brmimOwQnEw9GwInis3OiDPzfUHJVa8gnZLgd1KyvDqRIkysyIkVHifLuS/zRnTUndyEpxdA1/rPtz83iaG1WsapRkODLWCWY/kNf@L/V/RHKmJd1@c50s/gG7tGRx@NHMyXSfolk9/rOI4f\r\n  [6]: https://stackoverflow.com/questions/76383244/removing-all-occurrences-of-the-specified-substring-even-overlapping-ones/76395681#comment134718303_76395681\r\n  [7]: https://regex101.com/r/7g7WRL/3\r\n  [8]: https://www.regular-expressions.info/shorthand.html","title":"Removing all occurrences of the specified substring, even overlapping ones","body":"<p>The question was a bit confusing at first. After the updates I think the best provided example to illustrate the problem is matching the &quot;pattern&quot; <code>aaabbbaaa</code> in <code>aaabbbaaabbbaaa</code>.</p>\n<pre><code>aaabbbaaabbbaaa\naaabbbaaa\n      aaabbbaaa\n      ^-^        &lt; overlapping part\n^-------------^  &lt; match this part: 'aaa' is overlapping\n</code></pre>\n<p>If <em>length</em> of the &quot;pattern&quot;-string may be used in the regex, a <a href=\"https://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">lookbehind</a> could be used:</p>\n<pre><code>.{1,9}(?&lt;=aaabbbaaa)\n</code></pre>\n<p><a href=\"https://regex101.com/r/7c5W8Q/4\" rel=\"nofollow noreferrer\">This regex (demo)</a> will match from one to the strings length characters as long as <code>aaabbbaaa</code> is behind. So that will match <code>aaabbbaaa</code> but also <code>bbbaaa</code> because the last <code>a</code> is also preceded by <code>aaabbbaaa</code> and due to the length restriction it will not skip over any other substring. It will also <a href=\"https://regex101.com/r/7c5W8Q/2\" rel=\"nofollow noreferrer\">match <em>non-overlaps</em> in <code>aaabbbaaaaaabbbaaa</code></a> but <a href=\"https://regex101.com/r/7c5W8Q/3\" rel=\"nofollow noreferrer\">leave e.g. <code>ccc</code> in <code>aaabbbaaacccaaabbbaaa</code></a>.</p>\n<p><a href=\"https://tio.run/##lVHLbsMgELz7K1acsJoi9ewmVT8gUqUe2x7WDnJIMUaAo1ZRvt1dA0mdPqRW2LCzzMAsu8M9Xu82r@OoOtu7ADtKiCEoLZxs5ZtYY2i20lXFL/sPGIJ0pioKO9RaNdBo9B7WqExxKAB8wEDZfa82FDtlH4Pj9CvTTngBObYYSqJPEjjl4g2wBCYONwsGVxNJaGnasOUlQXbkd7fLvDHhklVRn02BJXGORdN3VmnJ46FldXmPH3QgrhVdKpeTtZIqtBobea81Z4wkSfPug@xEPwRhSR204TEPwHw6brmimOwQnEw9GwInis3OiDPzfUHJVa8gnZLgd1KyvDqRIkysyIkVHifLuS/zRnTUndyEpxdA1/rPtz83iaG1WsapRkODLWCWY/kNf@L/V/RHKmJd1@c50s/gG7tGRx@NHMyXSfolk9/rOI4f\" rel=\"nofollow noreferrer\">A Java demo at tio.run</a> with incorporating the length:</p>\n<pre><code>String regex = &quot;.{1,&quot; + pat.length() + &quot;}(?&lt;=&quot; + pat + &quot;)&quot;;\nPattern p = Pattern.compile(regex);\nString result = p.matcher(str).replaceAll(&quot;&quot;);\n</code></pre>\n<p><em>Update including parts of <a href=\"https://stackoverflow.com/questions/76383244/removing-all-occurrences-of-the-specified-substring-even-overlapping-ones/76395681#comment134718303_76395681\">@markalex idea</a></em>: For better performance, especially with longer inputs first match the &quot;pattern&quot; once and wrap the lookbehind part into a repeated group (<a href=\"https://regex101.com/r/7g7WRL/3\" rel=\"nofollow noreferrer\">regex101 demo</a>).</p>\n<pre><code>aaabbbaaa(?:.{1,9}(?&lt;=aaabbbaaa))*\n</code></pre>\n<p>This will also lead to getting one match for the adjacent parts which might be desired anyways. Further you can use <a href=\"https://www.regular-expressions.info/shorthand.html\" rel=\"nofollow noreferrer\"><code>\\w</code> (word character)</a> instead of the dot if input contains non-word characters.</p>\n"}],"owner":{"account_id":21473693,"reputation":31,"user_id":15822298,"display_name":"Indefatigablex"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":5,"up_vote_count":3,"answer_count":2,"score":-2,"last_activity_date":1689061645,"creation_date":1685631522,"question_id":76383244,"body_markdown":"For example, the source string is &quot;appleappleapplebanana&quot; and pattern I want to delete &quot;appleapple&quot;. \r\n\r\nI want it to delete all &quot;appleapple&quot; even if they overlap, so that only &quot;banana&quot; is left.\r\n```\r\nappleappleapplebanana\r\n^^^^^^^^^^              &lt;-first  occurrence\r\n     ^^^^^^^^^^         &lt;-second occurrence     \r\n```\r\n\r\nIf I use replaceAll, the result is &quot;applebanana&quot; since after deleting the first one, the remaining part is just &quot;applebanana&quot;.\r\n\r\nExpected results:\r\n\r\n|Input| Pattern| Result |\r\n|--|--|--|\r\n|&quot;appleapplebanana&quot;|&quot;appleapple&quot;|&quot;banana&quot;|\r\n|&quot;appleapplebanana&quot;|&quot;appleapple&quot;|&quot;banana&quot;|\r\n|&quot;appleappleapplebanana&quot;|&quot;appleapple&quot;|&quot;banana&quot;|\r\n|&quot;applebanana&quot;|&quot;appleapple&quot;|&quot;applebanana&quot;|\r\n|&quot;aaabbbaaabbbaaa&quot;|&quot;aaabbbaaa&quot;|&quot;&quot;(empty string)|\r\n\r\nI need to process arbitrary input patterns, so just using `replace(&quot;apple&quot;)` wouldn&#39;t work.\r\n\r\nThough I have an idea for this:\r\n1. Get all occurences (using something like KMP)\r\n2. Mark corresponding characters as &quot;to-be deleted&quot;\r\n3. Delete marked characters\r\n\r\nHowever, I would like to know if there is a better (&lt;s&gt;fancier&lt;/s&gt; ready made) way to achieve this.\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n\r\n\r\n\r\n**I ended up making my own function using the idea above, since no common libraries nor packages seems to support this feature.**","title":"Removing all occurrences of the specified substring, even overlapping ones","body":"<p>For example, the source string is &quot;appleappleapplebanana&quot; and pattern I want to delete &quot;appleapple&quot;.</p>\n<p>I want it to delete all &quot;appleapple&quot; even if they overlap, so that only &quot;banana&quot; is left.</p>\n<pre><code>appleappleapplebanana\n^^^^^^^^^^              &lt;-first  occurrence\n     ^^^^^^^^^^         &lt;-second occurrence     \n</code></pre>\n<p>If I use replaceAll, the result is &quot;applebanana&quot; since after deleting the first one, the remaining part is just &quot;applebanana&quot;.</p>\n<p>Expected results:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Input</th>\n<th>Pattern</th>\n<th>Result</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>&quot;appleapplebanana&quot;</td>\n<td>&quot;appleapple&quot;</td>\n<td>&quot;banana&quot;</td>\n</tr>\n<tr>\n<td>&quot;appleapplebanana&quot;</td>\n<td>&quot;appleapple&quot;</td>\n<td>&quot;banana&quot;</td>\n</tr>\n<tr>\n<td>&quot;appleappleapplebanana&quot;</td>\n<td>&quot;appleapple&quot;</td>\n<td>&quot;banana&quot;</td>\n</tr>\n<tr>\n<td>&quot;applebanana&quot;</td>\n<td>&quot;appleapple&quot;</td>\n<td>&quot;applebanana&quot;</td>\n</tr>\n<tr>\n<td>&quot;aaabbbaaabbbaaa&quot;</td>\n<td>&quot;aaabbbaaa&quot;</td>\n<td>&quot;&quot;(empty string)</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I need to process arbitrary input patterns, so just using <code>replace(&quot;apple&quot;)</code> wouldn't work.</p>\n<p>Though I have an idea for this:</p>\n<ol>\n<li>Get all occurences (using something like KMP)</li>\n<li>Mark corresponding characters as &quot;to-be deleted&quot;</li>\n<li>Delete marked characters</li>\n</ol>\n<p>However, I would like to know if there is a better (<s>fancier</s> ready made) way to achieve this.\n<br>\n<br>\n<br></p>\n<p><strong>I ended up making my own function using the idea above, since no common libraries nor packages seems to support this feature.</strong></p>\n"},{"tags":["java","arrays","data-structures","binary-search"],"comments":[{"owner":{"account_id":17313413,"reputation":7,"user_id":12540455,"display_name":"S K"},"score":0,"creation_date":1689065503,"post_id":76659705,"comment_id":135156817,"body_markdown":"since start and end comes closer to each other untill it gives the middle element i.e.&#39; the target hence it would always return when target==middle.","body":"since start and end comes closer to each other untill it gives the middle element i.e.&#39; the target hence it would always return when target==middle."}],"owner":{"account_id":17313413,"reputation":7,"user_id":12540455,"display_name":"S K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689061600,"creation_date":1689061555,"question_id":76659705,"body_markdown":"Am trying to find the indices of the target number in an mountain array as mentioned in the leetcode [problem](https://leetcode.com/problems/find-in-mountain-array/description/),but the descending array always gives -1 index of the target even when the target exists in the descending part. The ascending part does find the index correctly though.\r\n\r\nThe approach I used is to find the peak index of the mountain array and then do two binary searches from &quot;o to peak index&quot; in the first search and from &quot;peak to end index&quot; for the second search. Now the condition that I have applied is according to the version of answer am getting,i.e, am getting the first index of ans[] array correctly but the second index i.e, ans[1] is wrong .So to just keep the first index as the answer I applied this if else condition:\r\n\r\n```\r\n   if(ans[0]==-1 || ans[1]==-1){\r\n            if(ans[0]&gt;ans[1]){\r\n                return ans[0];\r\n            }else{\r\n                return ans[1];\r\n            }\r\n        }else{\r\n            return ans[0];\r\n        }\r\n```\r\nbut this condition fails when the ascending part doesn&#39;t have target and descending part has one, so the answer array is{-1,-1}. But I am not getting the reason why the descending part binary search is failing and the code doesn&#39;t give the correct answer. If only the first and second index comes right I can apply the correct if else condition. Can anyone tell me what&#39;s going wrong over here?\r\n\r\nThe whole answer code is as follows :\r\n\r\n```\r\nimport java.util.Arrays;\r\npublic class MyClass {\r\n    public static void main(String args[]) {\r\n    int[] nums = {1,5,2};\r\n    int target=2;\r\n    int answer=smallestIndex(nums,target);\r\n    System.out.println(answer);\r\n    }\r\n    static int smallestIndex(int[]nums,int target){\r\n        int peak = search(nums);\r\n        int[] ans={-1,-1};\r\n        int lastindex=nums.length-1;\r\n        ans[0]= searchRange(nums,0,peak,target);\r\n        ans[1]= searchRange(nums,peak,lastindex,target);\r\n        if(ans[0]==-1 || ans[1]==-1){\r\n            if(ans[0]&gt;ans[1]){\r\n                return ans[0];\r\n            }else{\r\n                return ans[1];\r\n            }\r\n        }else{\r\n            return ans[0];\r\n        }\r\n    }\r\n    static int search(int[] nums){\r\n        int start = 0;\r\n        int end = nums.length - 1;\r\n         while(start&lt;end){\r\n            int mid = start+(end-start)/2;\r\n            if(nums[mid]&gt;nums[mid+1]){\r\n                end=mid;\r\n            }else{\r\n                start=mid+1;\r\n            }\r\n         }\r\n         return start;\r\n    }\r\n    static int searchRange(int[] nums,int start,int end,int target){\r\n        boolean isAsc;\r\n        if(start&lt;end){\r\n            isAsc=true;\r\n        }else{\r\n            isAsc=false;\r\n        }\r\n    while(start&lt;=end){\r\n        int mid=start+(end-start)/2;\r\n        if(isAsc){\r\n            if(target==nums[mid]){\r\n                return mid;\r\n            }\r\n                 if(target&gt;nums[mid]){\r\n            start=mid+1;\r\n        }else{\r\n            end=mid-1;\r\n        }\r\n        }else{\r\n              if(target==nums[mid]){\r\n                return mid;\r\n            }\r\n        if(target&gt;nums[mid]){\r\n            end=mid-1;\r\n        }else{\r\n            start=mid+1;\r\n        }\r\n        }\r\n  \r\n      \r\n    }\r\n      return -1;\r\n    }\r\n}\r\n```\r\n","title":"Find in Mountain Array problem leetcode 1095 using binary search algorithm","body":"<p>Am trying to find the indices of the target number in an mountain array as mentioned in the leetcode <a href=\"https://leetcode.com/problems/find-in-mountain-array/description/\" rel=\"nofollow noreferrer\">problem</a>,but the descending array always gives -1 index of the target even when the target exists in the descending part. The ascending part does find the index correctly though.</p>\n<p>The approach I used is to find the peak index of the mountain array and then do two binary searches from &quot;o to peak index&quot; in the first search and from &quot;peak to end index&quot; for the second search. Now the condition that I have applied is according to the version of answer am getting,i.e, am getting the first index of ans[] array correctly but the second index i.e, ans[1] is wrong .So to just keep the first index as the answer I applied this if else condition:</p>\n<pre><code>   if(ans[0]==-1 || ans[1]==-1){\n            if(ans[0]&gt;ans[1]){\n                return ans[0];\n            }else{\n                return ans[1];\n            }\n        }else{\n            return ans[0];\n        }\n</code></pre>\n<p>but this condition fails when the ascending part doesn't have target and descending part has one, so the answer array is{-1,-1}. But I am not getting the reason why the descending part binary search is failing and the code doesn't give the correct answer. If only the first and second index comes right I can apply the correct if else condition. Can anyone tell me what's going wrong over here?</p>\n<p>The whole answer code is as follows :</p>\n<pre><code>import java.util.Arrays;\npublic class MyClass {\n    public static void main(String args[]) {\n    int[] nums = {1,5,2};\n    int target=2;\n    int answer=smallestIndex(nums,target);\n    System.out.println(answer);\n    }\n    static int smallestIndex(int[]nums,int target){\n        int peak = search(nums);\n        int[] ans={-1,-1};\n        int lastindex=nums.length-1;\n        ans[0]= searchRange(nums,0,peak,target);\n        ans[1]= searchRange(nums,peak,lastindex,target);\n        if(ans[0]==-1 || ans[1]==-1){\n            if(ans[0]&gt;ans[1]){\n                return ans[0];\n            }else{\n                return ans[1];\n            }\n        }else{\n            return ans[0];\n        }\n    }\n    static int search(int[] nums){\n        int start = 0;\n        int end = nums.length - 1;\n         while(start&lt;end){\n            int mid = start+(end-start)/2;\n            if(nums[mid]&gt;nums[mid+1]){\n                end=mid;\n            }else{\n                start=mid+1;\n            }\n         }\n         return start;\n    }\n    static int searchRange(int[] nums,int start,int end,int target){\n        boolean isAsc;\n        if(start&lt;end){\n            isAsc=true;\n        }else{\n            isAsc=false;\n        }\n    while(start&lt;=end){\n        int mid=start+(end-start)/2;\n        if(isAsc){\n            if(target==nums[mid]){\n                return mid;\n            }\n                 if(target&gt;nums[mid]){\n            start=mid+1;\n        }else{\n            end=mid-1;\n        }\n        }else{\n              if(target==nums[mid]){\n                return mid;\n            }\n        if(target&gt;nums[mid]){\n            end=mid-1;\n        }else{\n            start=mid+1;\n        }\n        }\n  \n      \n    }\n      return -1;\n    }\n}\n</code></pre>\n"},{"tags":["java","html","spring-boot","thymeleaf","spring-framework-beans"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1672670499,"post_id":74981573,"comment_id":132323844,"body_markdown":"Why are you using `session.removeAttribute` ? What do you expect to happen?","body":"Why are you using <code>session.removeAttribute</code> ? What do you expect to happen?"},{"owner":{"account_id":27410620,"reputation":19,"user_id":20910591,"display_name":"Vishal Srivastava"},"score":0,"creation_date":1672747356,"post_id":74981573,"comment_id":132340126,"body_markdown":"I want to remove the error/success msg which comes after clicking on submit button","body":"I want to remove the error/success msg which comes after clicking on submit button"},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1672748115,"post_id":74981573,"comment_id":132340393,"body_markdown":"What you want is a &quot;flash message&quot;, see https://stackoverflow.com/questions/43751860/how-to-set-a-flash-message-in-spring-boot-with-thymeleaf for more information on how to do that.","body":"What you want is a &quot;flash message&quot;, see <a href=\"https://stackoverflow.com/questions/43751860/how-to-set-a-flash-message-in-spring-boot-with-thymeleaf\" title=\"how to set a flash message in spring boot with thymeleaf\">stackoverflow.com/questions/43751860/&hellip;</a> for more information on how to do that."},{"owner":{"account_id":27410620,"reputation":19,"user_id":20910591,"display_name":"Vishal Srivastava"},"score":0,"creation_date":1673438964,"post_id":74981573,"comment_id":132498286,"body_markdown":"Above one is not working for me...can u pls suggest any other step","body":"Above one is not working for me...can u pls suggest any other step"}],"answers":[{"comments":[{"owner":{"account_id":27410620,"reputation":19,"user_id":20910591,"display_name":"Vishal Srivastava"},"score":0,"creation_date":1672747371,"post_id":74991357,"comment_id":132340132,"body_markdown":"Yes code will work but I want to remove the error/success msg which comes after clicking on submit button","body":"Yes code will work but I want to remove the error/success msg which comes after clicking on submit button"}],"tags":[],"owner":{"account_id":27419113,"reputation":1,"user_id":20917843,"display_name":"Rahul Arjun Wakude"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672757040,"creation_date":1672738014,"answer_id":74991357,"question_id":74981573,"body_markdown":"```html\r\n&lt;th:block th:text=&quot;${#session.removeAttribute(&#39;message&#39;)}&quot;&gt;&lt;/th:block&gt;\r\n```\r\nremove this or comment this line from ur code it will work ","title":"Exception evaluating SpringEL expression: &quot;#session.removeAttribute(&#39;message&#39;)&quot;","body":"<pre class=\"lang-html prettyprint-override\"><code>&lt;th:block th:text=&quot;${#session.removeAttribute('message')}&quot;&gt;&lt;/th:block&gt;\n</code></pre>\n<p>remove this or comment this line from ur code it will work</p>\n"}],"owner":{"account_id":27410620,"reputation":19,"user_id":20910591,"display_name":"Vishal Srivastava"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1506,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1689060895,"creation_date":1672657176,"question_id":74981573,"body_markdown":"I&#39;m getting exception when trying to evaluate a thymeleaf expression. The html code &amp; error is as below. Please do let me know why session.removeAttribute is not working here.\r\n\r\n```\r\nHTML-\r\n\r\n\r\n&lt;!doctype html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n\tth:replace=&quot;base::layout(~{::section})&quot;&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;UTF-8&quot; /&gt;\r\n&lt;title&gt;This is About page&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n &lt;section&gt;\r\n  &lt;div class=&quot;container&quot;&gt;\r\n    &lt;div class=&quot;row&quot;&gt;\r\n\t&lt;div class=&quot;col-md-6 offset-md-3&quot;&gt;\r\n         &lt;div class=&quot;registration-card mt-1&quot;&gt;\r\n\t   &lt;div th:if=&quot;${session.message}&quot;\r\n\t    th:classappend=&quot;${session.message.type}&quot; class=&quot;alert&quot;&gt;\r\n\t   &lt;p class=&quot;text-center&quot; th:text=&quot;${session.message.content}&quot;&gt;&lt;/p&gt;\r\n\t   &lt;th:block th:text=&quot;${#session.removeAttribute(&#39;message&#39;)}&quot;&gt;&lt;/th:block&gt;\r\n\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;container text-center&quot;&gt;\r\n\t&lt;img style=&quot;width: 50px&quot; src=&quot;&quot; th:src=&quot;@{/img/sign-up.png}&quot;alt=&quot;&quot; /&gt;\r\n\t&lt;/div&gt;\r\n\t&lt;h1 class=&quot;text-center&quot; style=&quot;text-decoration-line: underline;&quot;&gt;RegisterHere&lt;/h1&gt;\r\n\t&lt;form th:action=&quot;@{/do_register}&quot; method=&quot;post&quot; th:object=&quot;${user}&quot;&gt;\r\n\r\n\t &lt;!-- Name --&gt;\r\n\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t&lt;label for=&quot;name&quot;&gt;Name&lt;/label&gt; &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;name&quot; name=&quot;name&quot;          placeholder=&quot;Enter Your Name&quot; aria-describedby=&quot;emailHelp&quot; th:value=&quot;${user.name}&quot; required&gt;\r\n\t&lt;/div&gt;\r\n\r\n\t&lt;!-- Email --&gt;\r\n\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t&lt;label for=&quot;email&quot;&gt;Email&lt;/label&gt; &lt;input type=&quot;email&quot; class=&quot;form-control&quot; id=&quot;email&quot; name=&quot;email&quot;\r\n\tplaceholder=&quot;Enter Your Email&quot; aria-describedby=&quot;emailHelp&quot; th:value=&quot;${user.email}&quot; required&gt;\r\n\t&lt;/div&gt;\r\n\t\r\n        &lt;!-- Button --&gt;\r\n\t&lt;div class=&quot;container text-right&quot;&gt;\r\n\t&lt;button type=&quot;submit&quot; class=&quot;btn bg-primary text-white&quot;&gt;Submit&lt;/button&gt;\r\n        &lt;button type=&quot;reset&quot; class=&quot;btn btn-warning&quot;&gt;Reset&lt;/button&gt;\r\n\t&lt;/div&gt;\r\n      &lt;/form&gt;\r\n    &lt;/div&gt;\r\n   &lt;/div&gt;\r\n  &lt;/div&gt;\r\n &lt;/div&gt;\r\n\r\n &lt;/section&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nException- \r\n\r\nCaused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: &quot;#session.removeAttribute(&#39;message&#39;)&quot; (template: &quot;signup&quot; - line 17, col 18)\r\n```\r\n","title":"Exception evaluating SpringEL expression: &quot;#session.removeAttribute(&#39;message&#39;)&quot;","body":"<p>I'm getting exception when trying to evaluate a thymeleaf expression. The html code &amp; error is as below. Please do let me know why session.removeAttribute is not working here.</p>\n<pre><code>HTML-\n\n\n&lt;!doctype html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;\n    th:replace=&quot;base::layout(~{::section})&quot;&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot; /&gt;\n&lt;title&gt;This is About page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n &lt;section&gt;\n  &lt;div class=&quot;container&quot;&gt;\n    &lt;div class=&quot;row&quot;&gt;\n    &lt;div class=&quot;col-md-6 offset-md-3&quot;&gt;\n         &lt;div class=&quot;registration-card mt-1&quot;&gt;\n       &lt;div th:if=&quot;${session.message}&quot;\n        th:classappend=&quot;${session.message.type}&quot; class=&quot;alert&quot;&gt;\n       &lt;p class=&quot;text-center&quot; th:text=&quot;${session.message.content}&quot;&gt;&lt;/p&gt;\n       &lt;th:block th:text=&quot;${#session.removeAttribute('message')}&quot;&gt;&lt;/th:block&gt;\n\n        &lt;/div&gt;\n        &lt;div class=&quot;container text-center&quot;&gt;\n    &lt;img style=&quot;width: 50px&quot; src=&quot;&quot; th:src=&quot;@{/img/sign-up.png}&quot;alt=&quot;&quot; /&gt;\n    &lt;/div&gt;\n    &lt;h1 class=&quot;text-center&quot; style=&quot;text-decoration-line: underline;&quot;&gt;RegisterHere&lt;/h1&gt;\n    &lt;form th:action=&quot;@{/do_register}&quot; method=&quot;post&quot; th:object=&quot;${user}&quot;&gt;\n\n     &lt;!-- Name --&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n    &lt;label for=&quot;name&quot;&gt;Name&lt;/label&gt; &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;name&quot; name=&quot;name&quot;          placeholder=&quot;Enter Your Name&quot; aria-describedby=&quot;emailHelp&quot; th:value=&quot;${user.name}&quot; required&gt;\n    &lt;/div&gt;\n\n    &lt;!-- Email --&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n    &lt;label for=&quot;email&quot;&gt;Email&lt;/label&gt; &lt;input type=&quot;email&quot; class=&quot;form-control&quot; id=&quot;email&quot; name=&quot;email&quot;\n    placeholder=&quot;Enter Your Email&quot; aria-describedby=&quot;emailHelp&quot; th:value=&quot;${user.email}&quot; required&gt;\n    &lt;/div&gt;\n    \n        &lt;!-- Button --&gt;\n    &lt;div class=&quot;container text-right&quot;&gt;\n    &lt;button type=&quot;submit&quot; class=&quot;btn bg-primary text-white&quot;&gt;Submit&lt;/button&gt;\n        &lt;button type=&quot;reset&quot; class=&quot;btn btn-warning&quot;&gt;Reset&lt;/button&gt;\n    &lt;/div&gt;\n      &lt;/form&gt;\n    &lt;/div&gt;\n   &lt;/div&gt;\n  &lt;/div&gt;\n &lt;/div&gt;\n\n &lt;/section&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Exception-</p>\n<p>Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: &quot;#session.removeAttribute('message')&quot; (template: &quot;signup&quot; - line 17, col 18)</p>\n<pre><code></code></pre>\n"},{"tags":["java","apache-spark","apache-spark-sql","spark-java"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1689026676,"post_id":76657279,"comment_id":135152372,"body_markdown":"Try looking at [Spark Dataframe select based on column index](https://stackoverflow.com/questions/43553803/spark-dataframe-select-based-on-column-index).","body":"Try looking at <a href=\"https://stackoverflow.com/questions/43553803/spark-dataframe-select-based-on-column-index\">Spark Dataframe select based on column index</a>."}],"answers":[{"tags":[],"owner":{"account_id":28942997,"reputation":171,"user_id":22169190,"display_name":"Medzila"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689060374,"creation_date":1689060374,"answer_id":76659560,"question_id":76657279,"body_markdown":"From your question I&#39;m guessing you&#39;re trying to get the index of a field in a row so you can check nullity.\r\n\r\nIndeed you could use `ds.columns()` as it will give you the ordered columns and then use the index from here.\r\n\r\nNevertheless, I would advice to use another method though as you keep the logic inside row processing and it will be more robust. You can use `.fieldIndex(String fieldName)`\r\n\r\n    row.isNullAt(row.fieldIndex(&quot;my_column_name&quot;))\r\n\r\nSee more\r\nhttps://spark.apache.org/docs/2.1.0/api/java/org/apache/spark/sql/Row.html#fieldIndex(java.lang.String)","title":"How to get index/position of column in dataframe (Spark sql Java)","body":"<p>From your question I'm guessing you're trying to get the index of a field in a row so you can check nullity.</p>\n<p>Indeed you could use <code>ds.columns()</code> as it will give you the ordered columns and then use the index from here.</p>\n<p>Nevertheless, I would advice to use another method though as you keep the logic inside row processing and it will be more robust. You can use <code>.fieldIndex(String fieldName)</code></p>\n<pre><code>row.isNullAt(row.fieldIndex(&quot;my_column_name&quot;))\n</code></pre>\n<p>See more\n<a href=\"https://spark.apache.org/docs/2.1.0/api/java/org/apache/spark/sql/Row.html#fieldIndex(java.lang.String)\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/2.1.0/api/java/org/apache/spark/sql/Row.html#fieldIndex(java.lang.String)</a></p>\n"}],"owner":{"account_id":16917353,"reputation":117,"user_id":12235037,"display_name":"chingu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76659560,"answer_count":1,"score":0,"last_activity_date":1689060374,"creation_date":1689022484,"question_id":76657279,"body_markdown":"I am using Spark Java (not scala, python).\r\n\r\nI have to change my code so that my spark query will select all columns rather than a specific set of columns. (Like using `select *`). Before when I had a specific set of columns, it is easy for me to know the exact position/index of each column because it is in the order of my select. However, since I am now selecting all, I do not know the order exactly.\r\n\r\nI need the position/index of particular columns so that I can use the function `.isNullAt()` because it requires position/index and not the string column name.\r\n\r\nI am wondering does using `dataframe.columns()` give me an array which the exact same index/position I can use for the dataframe methods that require an index/position? And then I can search the array using my string column name to get back the correct index?","title":"How to get index/position of column in dataframe (Spark sql Java)","body":"<p>I am using Spark Java (not scala, python).</p>\n<p>I have to change my code so that my spark query will select all columns rather than a specific set of columns. (Like using <code>select *</code>). Before when I had a specific set of columns, it is easy for me to know the exact position/index of each column because it is in the order of my select. However, since I am now selecting all, I do not know the order exactly.</p>\n<p>I need the position/index of particular columns so that I can use the function <code>.isNullAt()</code> because it requires position/index and not the string column name.</p>\n<p>I am wondering does using <code>dataframe.columns()</code> give me an array which the exact same index/position I can use for the dataframe methods that require an index/position? And then I can search the array using my string column name to get back the correct index?</p>\n"},{"tags":["java","mongodb","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689267625,"post_id":76659528,"comment_id":135192919,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76659528/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25184627,"reputation":13,"user_id":19025683,"display_name":"MiMoy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689060080,"creation_date":1689060080,"answer_id":76659528,"question_id":76606521,"body_markdown":"We solved this issue with this,\r\n\r\n```\r\nAggregation.addFields().addField(&quot;fileId&quot;).withValue(&quot;$file.$id&quot;).build();\r\nAggregation.lookup(&quot;file&quot;, &quot;fileId&quot;, &quot;_id&quot;, &quot;_file&quot;);\r\nAggregation.unwind(&quot;$_file&quot;);\r\nAggregation.match(Aggregation.match(Criteria.where(&quot;_file.operation.$id&quot;).is(&quot;id&quot;));\r\n```","title":"With mongoTemplate, how can you form the criteria on a reference collection?","body":"<p>We solved this issue with this,</p>\n<pre><code>Aggregation.addFields().addField(&quot;fileId&quot;).withValue(&quot;$file.$id&quot;).build();\nAggregation.lookup(&quot;file&quot;, &quot;fileId&quot;, &quot;_id&quot;, &quot;_file&quot;);\nAggregation.unwind(&quot;$_file&quot;);\nAggregation.match(Aggregation.match(Criteria.where(&quot;_file.operation.$id&quot;).is(&quot;id&quot;));\n</code></pre>\n"}],"owner":{"account_id":25184627,"reputation":13,"user_id":19025683,"display_name":"MiMoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76659528,"answer_count":1,"score":0,"last_activity_date":1689060080,"creation_date":1688400886,"question_id":76606521,"body_markdown":"I have three tables in my mongo database as below,\r\n\r\n```\r\nOperation {\r\n        \r\n        @Id\r\n        String id;\r\n        \r\n        @Field(&quot;name&quot;)\r\n        String name;\r\n    }\r\n\r\nFile {\r\n        \r\n        @Id\r\n        String id;\r\n        \r\n        @Field(&quot;name&quot;)\r\n        String name;\r\n        \r\n        @Field(&quot;type&quot;)\r\n        FileType type; //enum\r\n\r\n        @DBRef\r\n        @Field(&quot;operation&quot;)\r\n        private Operation operation;\r\n    }\r\n\r\nReport {\r\n    \r\n        @Id\r\n        String id;\r\n    \r\n        @Field(&quot;name&quot;)\r\n        String name;\r\n    \r\n        @Field(&quot;generated_date&quot;)\r\n        LocalDate generatedDate;\r\n        \r\n        @DBRef\r\n        @Field(&quot;file&quot;)\r\n        private File file;\r\n\r\n    }\r\n\r\n```\r\n\r\nI use mongoTemplate to filter reports based on its different fields. However as a new functionality I need to filter reports based on the operationId. Each report is associated to one File, and each file to one operation, but I am having trouble to create a critera or aggregation that will help me to the same.\r\n\r\nInitially I tried something like this where,\r\n\r\n1)\r\nHere we create a list of criterias,\r\n```\r\nList&lt;Criteria&gt; criteriaList = new ArrayList&lt;&gt;();\r\ncriteriaList.add(Criteria.where(&quot;generated_date&quot;).is(&quot;2023-05-12&quot;);\r\ncriteriaList.add(Criteria.where(&quot;file.operation.$id&quot;).is(createObjectIdFromString(client.getId()))\r\n);\r\nreturn new Criteria().andOperator(criteriaList);\r\n```\r\n\r\nThis criteriaList is passed to the MatchOperation\r\n\r\n```\r\nMatchOperation matchOperation = Aggregation.match(criteria);\r\nAggregation aggregation = Aggregation.newAggregation(matchOperation);\r\nAggregationResults&lt;Report&gt; missions = mongoTemplate.aggregate(aggregation, &quot;report&quot;, Report.class);\r\n\r\n```\r\nBut this returns no results. \r\n\r\n\r\n2)\r\nAnother attempt I tried was to lookup and unwind before matching the operation\r\n```\r\nList&lt;Criteria&gt; criteriaList = new ArrayList&lt;&gt;();\r\ncriteriaList.add(Criteria.where(&quot;generated_date&quot;).is(&quot;2023-05-12&quot;);\r\ncriteriaList.add(Criteria.where(&quot;_file.operation.$id&quot;).is(createObjectIdFromString(client.getId()))\r\n);\r\nreturn new Criteria().andOperator(criteriaList);\r\n\r\n\r\n LookupOperation lookupOperation = Aggregation.lookup(&quot;file&quot;,&quot;file.$id&quot;,&quot;_id&quot;, &quot;_file&quot;);\r\n UnwindOperation unwindOperation = Aggregation.unwind(&quot;$_file&quot;);\r\n MatchOperation matchOperation1 = Aggregation.match(operationCriteria);\r\n Aggregation aggregation = Aggregation.newAggregation(lookupOperation, unwindOperation);\r\n AggregationResults&lt;Report&gt; missions = mongoTemplate.aggregate(aggregation1, &quot;report&quot;, Report.class);\r\n```\r\n\r\nBut this returns no results either.\r\n\r\nIf anyone could help me see what I&#39;m missing...","title":"With mongoTemplate, how can you form the criteria on a reference collection?","body":"<p>I have three tables in my mongo database as below,</p>\n<pre><code>Operation {\n        \n        @Id\n        String id;\n        \n        @Field(&quot;name&quot;)\n        String name;\n    }\n\nFile {\n        \n        @Id\n        String id;\n        \n        @Field(&quot;name&quot;)\n        String name;\n        \n        @Field(&quot;type&quot;)\n        FileType type; //enum\n\n        @DBRef\n        @Field(&quot;operation&quot;)\n        private Operation operation;\n    }\n\nReport {\n    \n        @Id\n        String id;\n    \n        @Field(&quot;name&quot;)\n        String name;\n    \n        @Field(&quot;generated_date&quot;)\n        LocalDate generatedDate;\n        \n        @DBRef\n        @Field(&quot;file&quot;)\n        private File file;\n\n    }\n\n</code></pre>\n<p>I use mongoTemplate to filter reports based on its different fields. However as a new functionality I need to filter reports based on the operationId. Each report is associated to one File, and each file to one operation, but I am having trouble to create a critera or aggregation that will help me to the same.</p>\n<p>Initially I tried something like this where,</p>\n<p>1)\nHere we create a list of criterias,</p>\n<pre><code>List&lt;Criteria&gt; criteriaList = new ArrayList&lt;&gt;();\ncriteriaList.add(Criteria.where(&quot;generated_date&quot;).is(&quot;2023-05-12&quot;);\ncriteriaList.add(Criteria.where(&quot;file.operation.$id&quot;).is(createObjectIdFromString(client.getId()))\n);\nreturn new Criteria().andOperator(criteriaList);\n</code></pre>\n<p>This criteriaList is passed to the MatchOperation</p>\n<pre><code>MatchOperation matchOperation = Aggregation.match(criteria);\nAggregation aggregation = Aggregation.newAggregation(matchOperation);\nAggregationResults&lt;Report&gt; missions = mongoTemplate.aggregate(aggregation, &quot;report&quot;, Report.class);\n\n</code></pre>\n<p>But this returns no results.</p>\n<p>2)\nAnother attempt I tried was to lookup and unwind before matching the operation</p>\n<pre><code>List&lt;Criteria&gt; criteriaList = new ArrayList&lt;&gt;();\ncriteriaList.add(Criteria.where(&quot;generated_date&quot;).is(&quot;2023-05-12&quot;);\ncriteriaList.add(Criteria.where(&quot;_file.operation.$id&quot;).is(createObjectIdFromString(client.getId()))\n);\nreturn new Criteria().andOperator(criteriaList);\n\n\n LookupOperation lookupOperation = Aggregation.lookup(&quot;file&quot;,&quot;file.$id&quot;,&quot;_id&quot;, &quot;_file&quot;);\n UnwindOperation unwindOperation = Aggregation.unwind(&quot;$_file&quot;);\n MatchOperation matchOperation1 = Aggregation.match(operationCriteria);\n Aggregation aggregation = Aggregation.newAggregation(lookupOperation, unwindOperation);\n AggregationResults&lt;Report&gt; missions = mongoTemplate.aggregate(aggregation1, &quot;report&quot;, Report.class);\n</code></pre>\n<p>But this returns no results either.</p>\n<p>If anyone could help me see what I'm missing...</p>\n"},{"tags":["java","spring-boot","sonarqube","sonarqube-scan","sonarlint"],"comments":[{"owner":{"account_id":8449942,"reputation":241,"user_id":6339078,"display_name":"lopoto"},"score":0,"creation_date":1689240657,"post_id":76652134,"comment_id":135186504,"body_markdown":"You should directly ask on their community forum -&gt; https://community.sonarsource.com/","body":"You should directly ask on their community forum -&gt; <a href=\"https://community.sonarsource.com/\" rel=\"nofollow noreferrer\">community.sonarsource.com</a>"}],"owner":{"account_id":10146053,"reputation":736,"user_id":7494176,"accept_rate":64,"display_name":"Ajith Deivam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689059954,"creation_date":1688978881,"question_id":76652134,"body_markdown":"I would like to work on sonar issues with automatic fixes (**using rules or without rules)**.\r\n\r\n**Below are the steps I used, but no output!**\r\n\r\n  1. I got reference from [this][1] github repository\r\n2. I followed all the steps, but my code doesn’t have the below-commented lines. \r\n3. How can I handle this problem? I am struggling with these steps.\r\n\r\n**Example class:** I tried the simple remove toString() method in String class using rules\r\n\r\n    public class StringTest {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString string = &quot;hello&quot;.toString(); **// Noncompliant [[sc=17;ec=24;quickfixes=qf1]]\r\n    \t\t// fix@qf1 {{Remove &quot;toString()&quot;}}\r\n    \t\t// edit@qf1 [[sc=24;ec=35]] {{}}**\r\n    \t}\r\n    }\r\n\r\n\r\n1. Any feasible solution?\r\n2. Any other possible solution?\r\n3. How to work the fixes without **// Noncompliant**?\r\n\r\n  [1]: https://github.com/SonarSource/sonar-java","title":"How to fix sonar issues automatically using rules or without rule","body":"<p>I would like to work on sonar issues with automatic fixes (<strong>using rules or without rules)</strong>.</p>\n<p><strong>Below are the steps I used, but no output!</strong></p>\n<ol>\n<li>I got reference from <a href=\"https://github.com/SonarSource/sonar-java\" rel=\"nofollow noreferrer\">this</a> github repository</li>\n<li>I followed all the steps, but my code doesn’t have the below-commented lines.</li>\n<li>How can I handle this problem? I am struggling with these steps.</li>\n</ol>\n<p><strong>Example class:</strong> I tried the simple remove toString() method in String class using rules</p>\n<pre><code>public class StringTest {\n    public static void main(String[] args) {\n        String string = &quot;hello&quot;.toString(); **// Noncompliant [[sc=17;ec=24;quickfixes=qf1]]\n        // fix@qf1 {{Remove &quot;toString()&quot;}}\n        // edit@qf1 [[sc=24;ec=35]] {{}}**\n    }\n}\n</code></pre>\n<ol>\n<li>Any feasible solution?</li>\n<li>Any other possible solution?</li>\n<li>How to work the fixes without <strong>// Noncompliant</strong>?</li>\n</ol>\n"},{"tags":["java","android","android-studio","android-toolbar","material-components-android"],"comments":[{"owner":{"account_id":15038853,"reputation":1515,"user_id":10854225,"display_name":"vincenzopalazzo"},"score":0,"creation_date":1609673613,"post_id":65549242,"comment_id":115890653,"body_markdown":"What is your exception?","body":"What is your exception?"},{"owner":{"account_id":19940304,"reputation":21,"user_id":14612165,"display_name":"noa shen"},"score":1,"creation_date":1609674645,"post_id":65549242,"comment_id":115890949,"body_markdown":"java.lang.RuntimeException: Unable to start activity ComponentInfo{com.or.ourshoppinglist/com.or.ourshoppinglist.MainActivity}: android.view.InflateException: Binary XML file line #28: Binary XML file line #28: Error inflating class &lt;unknown&gt;","body":"java.lang.RuntimeException: Unable to start activity ComponentInfo{com.or.ourshoppinglist/com.or.ourshoppinglist.&zwnj;&#8203;MainActivity}: android.view.InflateException: Binary XML file line #28: Binary XML file line #28: Error inflating class &lt;unknown&gt;"},{"owner":{"account_id":15038853,"reputation":1515,"user_id":10854225,"display_name":"vincenzopalazzo"},"score":0,"creation_date":1609674808,"post_id":65549242,"comment_id":115890988,"body_markdown":"I think you need to provide all your xml file, it is related to it at line 28","body":"I think you need to provide all your xml file, it is related to it at line 28"},{"owner":{"account_id":19940304,"reputation":21,"user_id":14612165,"display_name":"noa shen"},"score":0,"creation_date":1609676734,"post_id":65549242,"comment_id":115891484,"body_markdown":"I added a comment with them","body":"I added a comment with them"},{"owner":{"account_id":4833243,"reputation":780,"user_id":3900842,"display_name":"Shalan93"},"score":0,"creation_date":1609679100,"post_id":65549242,"comment_id":115892100,"body_markdown":"I think your style cause the problem for inflating the toolbar, you have to use `Theme.AppCompat` one","body":"I think your style cause the problem for inflating the toolbar, you have to use <code>Theme.AppCompat</code> one"},{"owner":{"account_id":1932985,"reputation":440,"user_id":1741997,"display_name":"cesargastonec"},"score":0,"creation_date":1647800207,"post_id":65549242,"comment_id":126456695,"body_markdown":"I got the same error. Toolbar fails if any of its parameters fail. It didn&#39;t specify which one. I had to delete the parameters and start adding one by one until I found which one was having problems. In my case, for example, it was that the &quot;drawable&quot; resource was in the path but not on the disk. I did not go further into the cause, just copy the resource to the corresponding folder and problem solved.","body":"I got the same error. Toolbar fails if any of its parameters fail. It didn&#39;t specify which one. I had to delete the parameters and start adding one by one until I found which one was having problems. In my case, for example, it was that the &quot;drawable&quot; resource was in the path but not on the disk. I did not go further into the cause, just copy the resource to the corresponding folder and problem solved."}],"answers":[{"comments":[{"owner":{"account_id":19940304,"reputation":21,"user_id":14612165,"display_name":"noa shen"},"score":0,"creation_date":1609674485,"post_id":65549365,"comment_id":115890902,"body_markdown":"Thanks for your help!  &quot;import androidx.appcompat.widget.Toolbar;&quot; this is my import. I added the implementation and still, it didn&#39;t work.","body":"Thanks for your help!  &quot;import androidx.appcompat.widget.Toolbar;&quot; this is my import. I added the implementation and still, it didn&#39;t work."},{"owner":{"account_id":20126029,"reputation":1616,"user_id":14759470,"display_name":"SlothCoding"},"score":0,"creation_date":1609675062,"post_id":65549365,"comment_id":115891050,"body_markdown":"@noashen please edit your question and add your whole XML file and JAVA file. Also giving us your whole exception would be great.","body":"@noashen please edit your question and add your whole XML file and JAVA file. Also giving us your whole exception would be great."},{"owner":{"account_id":19940304,"reputation":21,"user_id":14612165,"display_name":"noa shen"},"score":0,"creation_date":1609676743,"post_id":65549365,"comment_id":115891488,"body_markdown":"I added a comment with them","body":"I added a comment with them"}],"tags":[],"owner":{"account_id":20126029,"reputation":1616,"user_id":14759470,"display_name":"SlothCoding"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609673805,"creation_date":1609673805,"answer_id":65549365,"question_id":65549242,"body_markdown":"Hi noa shen and welcome to Stackoverflow.\r\n\r\nFirstly, there can be an issue with your import for Toolbar. Since androix version came out now you got two versions of Toolbar:\r\n\r\n    androidx.appcompat.widget.Toolbar\r\nand \r\n\r\n    android.support.v7.widget.Toolbar\r\n\r\nSo first check your imports in your JAVA.class and see if you imported the right version which would be:\r\n\r\n    androidx.appcompat.widget.Toolbar\r\n\r\nBesides that, why is your toolbar width equals to 0?\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:layout_width=&quot;0dp&quot;\r\n\r\nAlso to use toolbar you need to paste this in your build Gradle file in dependencies:\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.0.0&#39;\r\n\r\nIf this doesn&#39;t solve anything please provide your whole XML, JAVA.class, and full stack trace of your exception.\r\n\r\n","title":"Error inflating class androidx.appcompat.widget.Toolbar android","body":"<p>Hi noa shen and welcome to Stackoverflow.</p>\n<p>Firstly, there can be an issue with your import for Toolbar. Since androix version came out now you got two versions of Toolbar:</p>\n<pre><code>androidx.appcompat.widget.Toolbar\n</code></pre>\n<p>and</p>\n<pre><code>android.support.v7.widget.Toolbar\n</code></pre>\n<p>So first check your imports in your JAVA.class and see if you imported the right version which would be:</p>\n<pre><code>androidx.appcompat.widget.Toolbar\n</code></pre>\n<p>Besides that, why is your toolbar width equals to 0?</p>\n<pre><code>&lt;androidx.appcompat.widget.Toolbar\n    android:layout_width=&quot;0dp&quot;\n</code></pre>\n<p>Also to use toolbar you need to paste this in your build Gradle file in dependencies:</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.0.0'\n</code></pre>\n<p>If this doesn't solve anything please provide your whole XML, JAVA.class, and full stack trace of your exception.</p>\n"},{"comments":[{"owner":{"account_id":20126029,"reputation":1616,"user_id":14759470,"display_name":"SlothCoding"},"score":1,"creation_date":1609677282,"post_id":65549804,"comment_id":115891642,"body_markdown":"Try to remove line in XML under Toolbar &quot;android:minHeight=&quot;?actionBarTheme&quot;&quot; and just add under android:layout_height=&quot;?attr/actionBarSize&quot;","body":"Try to remove line in XML under Toolbar &quot;android:minHeight=&quot;?actionBarTheme&quot;&quot; and just add under android:layout_height=&quot;?attr/actionBarSize&quot;"}],"tags":[],"owner":{"account_id":19940304,"reputation":21,"user_id":14612165,"display_name":"noa shen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609676614,"creation_date":1609676614,"answer_id":65549804,"question_id":65549242,"body_markdown":"added my whole XML\r\n   \r\n &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/drawer_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        tools:context=&quot;.MainActivity&quot;\r\n        tools:openDrawer=&quot;start&quot;&gt;\r\n    \r\n        &lt;com.google.android.material.navigation.NavigationView\r\n            android:id=&quot;@+id/nav_view&quot;\r\n            android:layout_gravity=&quot;start&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            app:headerLayout=&quot;@layout/header&quot;\r\n            app:menu=&quot;@menu/main_menu&quot; /&gt;\r\n    \r\n    &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#FFFFFF&quot;&gt;\r\n    \r\n        &lt;androidx.appcompat.widget.Toolbar\r\n            android:layout_width=&quot;100dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;#00008577&quot;\r\n            android:minHeight=&quot;?actionBarTheme&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:navigationIcon=&quot;@drawable/main&quot;\r\n            android:id=&quot;@+id/toolbar&quot;/&gt;\r\n    \r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    \r\n    &lt;/ScrollView&gt;\r\n    \r\n    \r\n    &lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n\r\n\r\nJAVA:\r\n```\r\npackage com.or.ourshoppinglist;\r\n\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport com.google.android.material.navigation.NavigationView;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private DrawerLayout drawer_layout;\r\n    private NavigationView nav_view;\r\n    private Toolbar toolbar;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        findViews();\r\n        setSupportActionBar(toolbar);\r\n\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawer_layout,toolbar,R.string.navigation_drawer_open,R.string.navigation_drawer_close);\r\n        drawer_layout.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n    }\r\n\r\n    private void findViews() {\r\n        drawer_layout = findViewById(R.id.drawer_layout);\r\n        nav_view = findViewById(R.id.nav_view);\r\n        toolbar = findViewById(R.id.toolbar);\r\n    }\r\n}\r\n\r\n","title":"Error inflating class androidx.appcompat.widget.Toolbar android","body":"<p>added my whole XML</p>\n \n<pre><code>&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/drawer_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:context=&quot;.MainActivity&quot;\n    tools:openDrawer=&quot;start&quot;&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/nav_view&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        app:headerLayout=&quot;@layout/header&quot;\n        app:menu=&quot;@menu/main_menu&quot; /&gt;\n\n&lt;ScrollView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#FFFFFF&quot;&gt;\n\n    &lt;androidx.appcompat.widget.Toolbar\n        android:layout_width=&quot;100dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;#00008577&quot;\n        android:minHeight=&quot;?actionBarTheme&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:navigationIcon=&quot;@drawable/main&quot;\n        android:id=&quot;@+id/toolbar&quot;/&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n&lt;/ScrollView&gt;\n\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>JAVA:</p>\n<pre><code>package com.or.ourshoppinglist;\n\nimport androidx.appcompat.app.ActionBarDrawerToggle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.drawerlayout.widget.DrawerLayout;\n\nimport android.os.Bundle;\n\nimport com.google.android.material.navigation.NavigationView;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    private DrawerLayout drawer_layout;\n    private NavigationView nav_view;\n    private Toolbar toolbar;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        findViews();\n        setSupportActionBar(toolbar);\n\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawer_layout,toolbar,R.string.navigation_drawer_open,R.string.navigation_drawer_close);\n        drawer_layout.addDrawerListener(toggle);\n        toggle.syncState();\n    }\n\n    private void findViews() {\n        drawer_layout = findViewById(R.id.drawer_layout);\n        nav_view = findViewById(R.id.nav_view);\n        toolbar = findViewById(R.id.toolbar);\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10313291,"reputation":1698,"user_id":7608371,"display_name":"Noor Hossain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642862230,"creation_date":1642862230,"answer_id":70813871,"question_id":65549242,"body_markdown":"In `build.gradle (module app)` file,  implementation of The upgraded version : `implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;` caused me the error. When I used `implementation &#39;androidx.appcompat:appcompat:1.0.0&#39;` , The error has gone. ","title":"Error inflating class androidx.appcompat.widget.Toolbar android","body":"<p>In <code>build.gradle (module app)</code> file,  implementation of The upgraded version : <code>implementation 'androidx.appcompat:appcompat:1.4.1'</code> caused me the error. When I used <code>implementation 'androidx.appcompat:appcompat:1.0.0'</code> , The error has gone.</p>\n"},{"tags":[],"owner":{"account_id":20093709,"reputation":51,"user_id":14733647,"display_name":"Zero"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689059934,"creation_date":1643089667,"answer_id":70843946,"question_id":65549242,"body_markdown":"I fixed this by changing `android:background` to `app:srcCompat` when I am using \r\n`?android:attr`.\r\n\r\nFor example:\r\n\r\nfrom this xml code\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;#00008577&quot;\r\n            android:minHeight=&quot;?actionBarTheme&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:navigationIcon=&quot;@drawable/main&quot;\r\n            android:id=&quot;@+id/toolbar&quot;/&gt;\r\n\r\nchange to\r\n \r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:srcCompat=&quot;#00008577&quot;\r\n            android:minHeight=&quot;?actionBarTheme&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:navigationIcon=&quot;@drawable/main&quot;\r\n            android:id=&quot;@+id/toolbar&quot;/&gt;\r\n\r\nHope that helps.","title":"Error inflating class androidx.appcompat.widget.Toolbar android","body":"<p>I fixed this by changing <code>android:background</code> to <code>app:srcCompat</code> when I am using\n<code>?android:attr</code>.</p>\n<p>For example:</p>\n<p>from this xml code</p>\n<pre><code>&lt;androidx.appcompat.widget.Toolbar\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;#00008577&quot;\n        android:minHeight=&quot;?actionBarTheme&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:navigationIcon=&quot;@drawable/main&quot;\n        android:id=&quot;@+id/toolbar&quot;/&gt;\n</code></pre>\n<p>change to</p>\n<pre><code>&lt;androidx.appcompat.widget.Toolbar\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:srcCompat=&quot;#00008577&quot;\n        android:minHeight=&quot;?actionBarTheme&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:navigationIcon=&quot;@drawable/main&quot;\n        android:id=&quot;@+id/toolbar&quot;/&gt;\n</code></pre>\n<p>Hope that helps.</p>\n"}],"owner":{"account_id":19940304,"reputation":21,"user_id":14612165,"display_name":"noa shen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9564,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1689059934,"creation_date":1609672935,"question_id":65549242,"body_markdown":"I try to use the toolbar in my app and I get this message: &quot;Error inflating class androidx.appcompat.widget.Toolbar&quot;.\r\ni glad if someone will find my problem (using the latest version of the android studio)\r\n\r\nXML:\r\n```  \r\n  &lt;androidx.appcompat.widget.Toolbar\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;#00008577&quot;\r\n        android:minHeight=&quot;?actionBarTheme&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:navigationIcon=&quot;@drawable/main&quot;\r\n        android:id=&quot;@+id/toolbar&quot;/&gt;\r\n```\r\n\r\nJAVA:\r\n```\r\n\r\n    private Toolbar toolbar;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        findViews();\r\n        setSupportActionBar(toolbar);\r\n\r\n    }\r\n\r\n    private void findViews() {\r\n        drawer_layout = findViewById(R.id.drawer_layout);\r\n        nav_view = findViewById(R.id.nav_view);\r\n        toolbar = findViewById(R.id.toolbar);\r\n    }\r\n```\r\n\r\nSTYLE:\r\n   ``` &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;```\r\n\r\n\r\nException received\r\n\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.or.ourshoppinglist/com.or.ourshoppinglist.MainActivity}: android.view.InflateException: Binary XML file line #28: Binary XML file line #28: Error inflating class &lt;unknown&gt;\r\n\r\n","title":"Error inflating class androidx.appcompat.widget.Toolbar android","body":"<p>I try to use the toolbar in my app and I get this message: &quot;Error inflating class androidx.appcompat.widget.Toolbar&quot;.\ni glad if someone will find my problem (using the latest version of the android studio)</p>\n<p>XML:</p>\n<pre><code>  &lt;androidx.appcompat.widget.Toolbar\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;#00008577&quot;\n        android:minHeight=&quot;?actionBarTheme&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:navigationIcon=&quot;@drawable/main&quot;\n        android:id=&quot;@+id/toolbar&quot;/&gt;\n</code></pre>\n<p>JAVA:</p>\n<pre><code>\n    private Toolbar toolbar;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        findViews();\n        setSupportActionBar(toolbar);\n\n    }\n\n    private void findViews() {\n        drawer_layout = findViewById(R.id.drawer_layout);\n        nav_view = findViewById(R.id.nav_view);\n        toolbar = findViewById(R.id.toolbar);\n    }\n</code></pre>\n<p>STYLE:\n<code> &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;</code></p>\n<p>Exception received</p>\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.or.ourshoppinglist/com.or.ourshoppinglist.MainActivity}: android.view.InflateException: Binary XML file line #28: Binary XML file line #28: Error inflating class &lt;unknown&gt;\n</code></pre>\n"},{"tags":["java","google-cloud-platform","google-iam"],"comments":[{"owner":{"account_id":10905924,"reputation":76322,"user_id":8016720,"display_name":"John Hanley"},"score":1,"creation_date":1556831237,"post_id":55956548,"comment_id":98572100,"body_markdown":"I hope that I am wrong with my comment. I am not aware of any 100% sure method. Service Accounts can access multiple projects / organizations. You would need to combine Audit Logging with Stackdriver and have access to the same resources (projects / organizations). This would be expensive and compute / data intensive. A service account can have multiple keys. I do not believe that individual keys are even tracked in GCP. One of my specialties is Google Security so I am very interested in an authoritative answer to this question.","body":"I hope that I am wrong with my comment. I am not aware of any 100% sure method. Service Accounts can access multiple projects / organizations. You would need to combine Audit Logging with Stackdriver and have access to the same resources (projects / organizations). This would be expensive and compute / data intensive. A service account can have multiple keys. I do not believe that individual keys are even tracked in GCP. One of my specialties is Google Security so I am very interested in an authoritative answer to this question."},{"owner":{"account_id":8013069,"reputation":1135,"user_id":6044191,"accept_rate":59,"display_name":"Ihsan Haikal"},"score":0,"creation_date":1556887270,"post_id":55956548,"comment_id":98590667,"body_markdown":"@JohnHanley yeah I also come to the same conclusion as yours. But do you know if it is possible to know the last activity of the service account itself?","body":"@JohnHanley yeah I also come to the same conclusion as yours. But do you know if it is possible to know the last activity of the service account itself?"},{"owner":{"account_id":10905924,"reputation":76322,"user_id":8016720,"display_name":"John Hanley"},"score":1,"creation_date":1556888300,"post_id":55956548,"comment_id":98591237,"body_markdown":"I do not know of a way to access the last usage of a service account based upon my previous comment or any API. The key to a service account is the Private Key. This is used to sign a JWT. The JWT is exchanged for an Access Token. The Access Token is used to Authorize access. The tracking should be easy. The problem that I see for Google is that every access would need to be logged for every API, for every service, for every connection and the volume of data would be huge. You would need to pay for the storage of that data (nothing is really free in the cloud - costs are just moved around).","body":"I do not know of a way to access the last usage of a service account based upon my previous comment or any API. The key to a service account is the Private Key. This is used to sign a JWT. The JWT is exchanged for an Access Token. The Access Token is used to Authorize access. The tracking should be easy. The problem that I see for Google is that every access would need to be logged for every API, for every service, for every connection and the volume of data would be huge. You would need to pay for the storage of that data (nothing is really free in the cloud - costs are just moved around)."},{"owner":{"account_id":8013069,"reputation":1135,"user_id":6044191,"accept_rate":59,"display_name":"Ihsan Haikal"},"score":0,"creation_date":1556889879,"post_id":55956548,"comment_id":98592207,"body_markdown":"@JohnHanley that means it will be better to analyze it from stackdriver if it is not possible from the API itself where the logs are stored in the bucket or published with pub/sub","body":"@JohnHanley that means it will be better to analyze it from stackdriver if it is not possible from the API itself where the logs are stored in the bucket or published with pub/sub"},{"owner":{"account_id":10905924,"reputation":76322,"user_id":8016720,"display_name":"John Hanley"},"score":1,"creation_date":1556891802,"post_id":55956548,"comment_id":98593337,"body_markdown":"I don&#39;t have a better comment than my previous comments. Note that I said Audit Logging plus Stackdriver plus access to all accounts / organizations that the service account can access. I do not think that Google designed into their system a method to answer your question. I might be wrong and that is why I posted my first comment - hoping another expert will comment.","body":"I don&#39;t have a better comment than my previous comments. Note that I said Audit Logging plus Stackdriver plus access to all accounts / organizations that the service account can access. I do not think that Google designed into their system a method to answer your question. I might be wrong and that is why I posted my first comment - hoping another expert will comment."},{"owner":{"account_id":15804622,"reputation":895,"user_id":11403457,"display_name":"Christopher"},"score":1,"creation_date":1557200682,"post_id":55956548,"comment_id":98674536,"body_markdown":"based on this doc it says &quot;Audit service accounts and keys using either the serviceAccount.keys.list() method or the Logs Viewer page in the console.&quot; You can try to create a service account then execute some scripts to test and check the audit logs in the Stackdriver logging if there&#39;s an entry. I haven&#39;t tried it due to lack of time.\n\nhttps://cloud.google.com/iam/docs/understanding-service-accounts","body":"based on this doc it says &quot;Audit service accounts and keys using either the serviceAccount.keys.list() method or the Logs Viewer page in the console.&quot; You can try to create a service account then execute some scripts to test and check the audit logs in the Stackdriver logging if there&#39;s an entry. I haven&#39;t tried it due to lack of time.  <a href=\"https://cloud.google.com/iam/docs/understanding-service-accounts\" rel=\"nofollow noreferrer\">cloud.google.com/iam/docs/understanding-service-accounts</a>"},{"owner":{"account_id":8013069,"reputation":1135,"user_id":6044191,"accept_rate":59,"display_name":"Ihsan Haikal"},"score":0,"creation_date":1557216519,"post_id":55956548,"comment_id":98680177,"body_markdown":"@Christopher it is exactly like the previous comments and my initial idea, but I am trying to avoid that and hopefully there could be a API call that will show it similar to AWS IAM API","body":"@Christopher it is exactly like the previous comments and my initial idea, but I am trying to avoid that and hopefully there could be a API call that will show it similar to AWS IAM API"},{"owner":{"account_id":15804622,"reputation":895,"user_id":11403457,"display_name":"Christopher"},"score":1,"creation_date":1557219450,"post_id":55956548,"comment_id":98681796,"body_markdown":"There is an IAM API but the method your looking seems not yet available. You might want to file a feature request or search for an existing feature for this one.\n\nhttps://cloud.google.com/iam/reference/rest/v1/projects.serviceAccounts\nhttps://cloud.google.com/iam/reference/rest/v1/projects.serviceAccounts.keys\nhttps://cloud.google.com/support/docs/issue-trackers#feature_requests","body":"There is an IAM API but the method your looking seems not yet available. You might want to file a feature request or search for an existing feature for this one.  <a href=\"https://cloud.google.com/iam/reference/rest/v1/projects.serviceAccounts\" rel=\"nofollow noreferrer\">cloud.google.com/iam/reference/rest/v1/projects.serviceAccou&zwnj;&#8203;nts</a> <a href=\"https://cloud.google.com/iam/reference/rest/v1/projects.serviceAccounts.keys\" rel=\"nofollow noreferrer\">cloud.google.com/iam/reference/rest/v1/&hellip;</a> <a href=\"https://cloud.google.com/support/docs/issue-trackers#feature_requests\" rel=\"nofollow noreferrer\">cloud.google.com/support/docs/issue-trackers#feature_request&zwnj;&#8203;s</a>"},{"owner":{"account_id":1036442,"reputation":731,"user_id":6138467,"accept_rate":75,"display_name":"Drew"},"score":0,"creation_date":1582146756,"post_id":55956548,"comment_id":106681602,"body_markdown":"To me, this is basic, required, functionality. Very surprised there is no &quot;last login&quot; field in the UI.","body":"To me, this is basic, required, functionality. Very surprised there is no &quot;last login&quot; field in the UI."}],"answers":[{"tags":[],"owner":{"account_id":217944,"reputation":2457,"user_id":474002,"accept_rate":64,"display_name":"Browny Lin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616394203,"creation_date":1616394203,"answer_id":66741187,"question_id":55956548,"body_markdown":"You can use Cloud Monitoring metrics [1] to monitor `service account` or `service account key` usage. \r\n\r\nYou can identify unused service accounts and keys by [2].\r\n\r\n[1] https://cloud.google.com/iam/docs/service-account-monitoring  \r\n[2] https://cloud.google.com/iam/docs/service-account-monitoring#identify-unused","title":"Find out last activity of Service Account Key in GCP IAM","body":"<p>You can use Cloud Monitoring metrics [1] to monitor <code>service account</code> or <code>service account key</code> usage.</p>\n<p>You can identify unused service accounts and keys by [2].</p>\n<p>[1] <a href=\"https://cloud.google.com/iam/docs/service-account-monitoring\" rel=\"nofollow noreferrer\">https://cloud.google.com/iam/docs/service-account-monitoring</a><br />\n[2] <a href=\"https://cloud.google.com/iam/docs/service-account-monitoring#identify-unused\" rel=\"nofollow noreferrer\">https://cloud.google.com/iam/docs/service-account-monitoring#identify-unused</a></p>\n"},{"tags":[],"owner":{"account_id":19897698,"reputation":1,"user_id":17590992,"display_name":"Ockham"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689059178,"creation_date":1689059178,"answer_id":76659438,"question_id":55956548,"body_markdown":"You now have that feature on the Policy Analyzer. Currently, it can only be used via console, `gcloud` and API REST:\r\n\r\n1. **Console**: IAM &amp; Admin &gt; Policy Analyzer &gt; Analyze recent activity &gt; When was the last time this service account was used? [Preview][1]\r\n\r\n2. **Comand line**: `gcloud policy-intelligence query-activity` ([Documentation](https://cloud.google.com/sdk/gcloud/reference/policy-intelligence/query-activity))\r\n\r\n3. **API REST**: Out of the box for cURL and PowerShell. I guess you can use the discovery build library to impement it on code, but I don&#39;t try it yet. ([Documentation](https://cloud.google.com/policy-intelligence/docs/activity-analyzer-service-account-authentication#iam-view-service-account-recent-usage-activity-analyzer-rest))\r\n\r\n  [1]: https://i.stack.imgur.com/rz9Qo.png","title":"Find out last activity of Service Account Key in GCP IAM","body":"<p>You now have that feature on the Policy Analyzer. Currently, it can only be used via console, <code>gcloud</code> and API REST:</p>\n<ol>\n<li><p><strong>Console</strong>: IAM &amp; Admin &gt; Policy Analyzer &gt; Analyze recent activity &gt; When was the last time this service account was used? <a href=\"https://i.stack.imgur.com/rz9Qo.png\" rel=\"nofollow noreferrer\">Preview</a></p>\n</li>\n<li><p><strong>Comand line</strong>: <code>gcloud policy-intelligence query-activity</code> (<a href=\"https://cloud.google.com/sdk/gcloud/reference/policy-intelligence/query-activity\" rel=\"nofollow noreferrer\">Documentation</a>)</p>\n</li>\n<li><p><strong>API REST</strong>: Out of the box for cURL and PowerShell. I guess you can use the discovery build library to impement it on code, but I don't try it yet. (<a href=\"https://cloud.google.com/policy-intelligence/docs/activity-analyzer-service-account-authentication#iam-view-service-account-recent-usage-activity-analyzer-rest\" rel=\"nofollow noreferrer\">Documentation</a>)</p>\n</li>\n</ol>\n"}],"owner":{"account_id":8013069,"reputation":1135,"user_id":6044191,"accept_rate":59,"display_name":"Ihsan Haikal"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2965,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1689059178,"creation_date":1556814017,"question_id":55956548,"body_markdown":"Is it possible to know the last activity of service account&#39;s key in GCP IAM, similar to AWS IAM&#39;s [GetAccessKeyLastUsed](https://docs.aws.amazon.com/IAM/latest/APIReference/API_GetAccessKeyLastUsed.html)? I was avoiding the option of monitoring the activity from GCP Stackdriver.\r\n","title":"Find out last activity of Service Account Key in GCP IAM","body":"<p>Is it possible to know the last activity of service account's key in GCP IAM, similar to AWS IAM's <a href=\"https://docs.aws.amazon.com/IAM/latest/APIReference/API_GetAccessKeyLastUsed.html\" rel=\"noreferrer\">GetAccessKeyLastUsed</a>? I was avoiding the option of monitoring the activity from GCP Stackdriver.</p>\n"},{"tags":["java","scala","performance","awt","graphics2d"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1689029254,"post_id":76655587,"comment_id":135152683,"body_markdown":"You haven&#39;t asked a question. Update your post to clarify the specific problem you need to resolve.","body":"You haven&#39;t asked a question. Update your post to clarify the specific problem you need to resolve."}],"owner":{"account_id":16782159,"reputation":21,"user_id":12456542,"display_name":"JoPoLu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689058739,"creation_date":1689005878,"question_id":76655587,"body_markdown":"I am using the java.awt.Canvas class for drawing in my application and it simply does not seem to be fast enough. After filling my screen with some hand drawn math I get to a point where I am running at 70 fps and just rendering takes up about 90% of the time each frame. I wonder what I can do to spend less time drawing.\r\n\r\n\r\nI have so far done the following to try and decrease the time needed to draw.\r\n1. I only draw what is visible on the screen(to compute what is visible does not take a significant amount of time). I have also confirmed it works as when I pan away from the lines my frame rate spikes to upwards of 4000 fps.\r\n2. I have implemented an algorithm to simplify paths(only computed once when I create a path).\r\nInteractive showcase of what it does: http://paperjs.org/examples/path-simplification/\r\n\r\n\r\nThis is the code which does the drawing.\r\n```scala\r\ndef render(drawAbsolute: Graphics2D =&gt; Unit, drawFromCamera: Graphics2D =&gt; Unit, camera: Camera): Unit = \r\n        import java.awt.Color\r\n        var bs = getBufferStrategy\r\n        if (bs == null) {\r\n        createBufferStrategy(3)\r\n        bs = getBufferStrategy\r\n        }\r\n        val g2d = bs.getDrawGraphics().asInstanceOf[Graphics2D]\r\n        g2d.setRenderingHint(\r\n            java.awt.RenderingHints.KEY_ANTIALIASING,\r\n            java.awt.RenderingHints.VALUE_ANTIALIAS_ON\r\n        )\r\n        g2d.setColor(backgroundColor)\r\n        g2d.fillRect(Vector2.zero, canvasSize)\r\n        drawAbsolute(g2d) // this is fast because I am not drawing anything here atm :)\r\n        g2d.setTransform(camera.transform)\r\n        drawFromCamera(g2d)  // This line takes up about 90% of the frame time. (Only draws a couple of hundred lines).\r\n        bs.show()\r\n        g2d.dispose()\r\n```\r\n\r\nDrawing code for my paths\r\n```scala\r\noverride val shape: Shape = path2D\r\noverride def draw(g2d: Graphics2D): Unit =\r\n  g2d.draw(shape)\r\n```\r\n\r\nAlso worth noting that not redrawing areas might be hard since the user is able to rotate and pan around. I guess that I could call a redraw function or something everytime the camera transform changes, I do feel however that it opens up a scary can of worms not redrawing everything everyframe and I will constantly have to think about.","title":"Methods for improving efficiency when drawing paths in java.awt","body":"<p>I am using the java.awt.Canvas class for drawing in my application and it simply does not seem to be fast enough. After filling my screen with some hand drawn math I get to a point where I am running at 70 fps and just rendering takes up about 90% of the time each frame. I wonder what I can do to spend less time drawing.</p>\n<p>I have so far done the following to try and decrease the time needed to draw.</p>\n<ol>\n<li>I only draw what is visible on the screen(to compute what is visible does not take a significant amount of time). I have also confirmed it works as when I pan away from the lines my frame rate spikes to upwards of 4000 fps.</li>\n<li>I have implemented an algorithm to simplify paths(only computed once when I create a path).\nInteractive showcase of what it does: <a href=\"http://paperjs.org/examples/path-simplification/\" rel=\"nofollow noreferrer\">http://paperjs.org/examples/path-simplification/</a></li>\n</ol>\n<p>This is the code which does the drawing.</p>\n<pre class=\"lang-scala prettyprint-override\"><code>def render(drawAbsolute: Graphics2D =&gt; Unit, drawFromCamera: Graphics2D =&gt; Unit, camera: Camera): Unit = \n        import java.awt.Color\n        var bs = getBufferStrategy\n        if (bs == null) {\n        createBufferStrategy(3)\n        bs = getBufferStrategy\n        }\n        val g2d = bs.getDrawGraphics().asInstanceOf[Graphics2D]\n        g2d.setRenderingHint(\n            java.awt.RenderingHints.KEY_ANTIALIASING,\n            java.awt.RenderingHints.VALUE_ANTIALIAS_ON\n        )\n        g2d.setColor(backgroundColor)\n        g2d.fillRect(Vector2.zero, canvasSize)\n        drawAbsolute(g2d) // this is fast because I am not drawing anything here atm :)\n        g2d.setTransform(camera.transform)\n        drawFromCamera(g2d)  // This line takes up about 90% of the frame time. (Only draws a couple of hundred lines).\n        bs.show()\n        g2d.dispose()\n</code></pre>\n<p>Drawing code for my paths</p>\n<pre class=\"lang-scala prettyprint-override\"><code>override val shape: Shape = path2D\noverride def draw(g2d: Graphics2D): Unit =\n  g2d.draw(shape)\n</code></pre>\n<p>Also worth noting that not redrawing areas might be hard since the user is able to rotate and pan around. I guess that I could call a redraw function or something everytime the camera transform changes, I do feel however that it opens up a scary can of worms not redrawing everything everyframe and I will constantly have to think about.</p>\n"},{"tags":["java","directory","save","filewriter"],"comments":[{"owner":{"account_id":1238100,"reputation":12185,"user_id":1201272,"accept_rate":80,"display_name":"AurA"},"score":0,"creation_date":1386662055,"post_id":20488870,"comment_id":30622633,"body_markdown":"Create an outputstream valid instance http://docs.oracle.com/javase/6/docs/api/java/io/OutputStream.html","body":"Create an outputstream valid instance <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/OutputStream.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/io/OutputStream.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1386662386,"creation_date":1386662386,"answer_id":20488974,"question_id":20488870,"body_markdown":"Instead of this line:\r\n\r\n    FileWriter fw = new FileWriter(str);\r\n\r\nTry this:\r\n\r\n    FileWriter fw = new FileWriter(new File(dir, str));","title":"How to set the directory when saving file with filewriter in java?","body":"<p>Instead of this line:</p>\n\n<pre><code>FileWriter fw = new FileWriter(str);\n</code></pre>\n\n<p>Try this:</p>\n\n<pre><code>FileWriter fw = new FileWriter(new File(dir, str));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3015778,"reputation":480,"user_id":2689806,"display_name":"Raj Kanchan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689058641,"creation_date":1689058641,"answer_id":76659381,"question_id":20488870,"body_markdown":"Specify the directory you want to create and use mkdir() method to create the directory then, mention that created directory inside the FileWriter. This will create your directory inside the directory of your project.\r\n\r\n    try {\r\n        final File dir = new File(&quot;data&quot;);\r\n        if (!dir.exists()) {\r\n           if (!dir.mkdir()) {\r\n              System.out.println(&quot;Folder Not Found!!!&quot;);\r\n              System.exit(0);\r\n           } else {\r\n             FileWriter file = new FileWriter(new File(dir, &quot;logs.txt&quot;));\r\n             PrintWriter pw = new PrintWriter(file);\r\n             pw.printf(&quot;Logs for Hello World&quot;);\r\n                }\r\n            } else {\r\n                FileWriter file = new FileWriter(new File(dir, &quot;logs.txt&quot;));\r\n                PrintWriter pw = new PrintWriter(file);\r\n                pw.printf(&quot;Logs for Hello World&quot;);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n                  ","title":"How to set the directory when saving file with filewriter in java?","body":"<p>Specify the directory you want to create and use mkdir() method to create the directory then, mention that created directory inside the FileWriter. This will create your directory inside the directory of your project.</p>\n<pre><code>try {\n    final File dir = new File(&quot;data&quot;);\n    if (!dir.exists()) {\n       if (!dir.mkdir()) {\n          System.out.println(&quot;Folder Not Found!!!&quot;);\n          System.exit(0);\n       } else {\n         FileWriter file = new FileWriter(new File(dir, &quot;logs.txt&quot;));\n         PrintWriter pw = new PrintWriter(file);\n         pw.printf(&quot;Logs for Hello World&quot;);\n            }\n        } else {\n            FileWriter file = new FileWriter(new File(dir, &quot;logs.txt&quot;));\n            PrintWriter pw = new PrintWriter(file);\n            pw.printf(&quot;Logs for Hello World&quot;);\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n              \n</code></pre>\n"}],"owner":{"account_id":3707836,"reputation":123,"user_id":3085878,"display_name":"Paul K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19918,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":20488974,"answer_count":2,"score":4,"last_activity_date":1689058641,"creation_date":1386661928,"question_id":20488870,"body_markdown":"Hi I&#39;m using NetBeans for more easy-to-use GUI.\r\n\r\nI&#39;m trying to save a txt file which I get the name from the user, using the FileWriter, (not using serializable)\r\n\r\nI think I could set the saving location of the file using the Serializable (I&#39;m not sure)\r\n\r\nbut, my code kinda looks dirty if I use Serializable and it causes some error. (I use 2 classes)\r\n\r\n**Anyway, Is there a way to set the directory when saving the txt file with the FileWriter?**\r\n\r\nThis is my code, for saving files.\r\n    \r\n        public boolean save() {\r\n        try {\r\n            File dir = new File(&quot;C:\\\\Users\\\\JSK\\\\Desktop\\\\BOARD\\\\data&quot;);\r\n\r\n            String str = Title_field.getText() + &quot;.txt&quot;;\r\n            CheckFile(str);\r\n            CheckCbox();\r\n            area.append(&quot;\\n Written at :&quot; + date_format.format(now.getTime()));\r\n            FileWriter fw = new FileWriter(str);\r\n            fw.write(area.getText());\r\n            fw.close();\r\n            JOptionPane.showMessageDialog(this, &quot;Successfully Written&quot;);\r\n            this.setVisible(false);\r\n            Title_field.setEditable(false);\r\n            area.setEditable(false);\r\n        } catch (FileNotFoundException ex) {\r\n            JOptionPane.showMessageDialog(this, &quot;You Must Create A File First!&quot;, &quot;File Missing&quot;, JOptionPane.ERROR_MESSAGE);\r\n        } catch (IOException ex) {\r\n            JOptionPane.showMessageDialog(this, &quot;I/O ERROR&quot;, &quot;Failed to save the file&quot;, JOptionPane.ERROR_MESSAGE);\r\n        } catch (FileExistException ex) {\r\n            JOptionPane.showMessageDialog(this, &quot;File Already Exists, Please Change the title&quot;, &quot;ERROR&quot;, JOptionPane.ERROR_MESSAGE);\r\n            area.setText(&quot;&quot;);\r\n            return false;\r\n        } catch (CheckboxSelectionException ex) {\r\n            JOptionPane.showMessageDialog(this, &quot;You must select at least one location&quot;, &quot;ERROR&quot;, JOptionPane.ERROR_MESSAGE);\r\n            Title_field.setText(&quot;&quot;);\r\n            area.setText(&quot;&quot;);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }    \r\n\r\n**dir means the directory where I want to save it, but it actually saves inside C:\\\\Users\\\\JSK\\\\Desktop\\\\BOARD**\r\n","title":"How to set the directory when saving file with filewriter in java?","body":"<p>Hi I'm using NetBeans for more easy-to-use GUI.</p>\n\n<p>I'm trying to save a txt file which I get the name from the user, using the FileWriter, (not using serializable)</p>\n\n<p>I think I could set the saving location of the file using the Serializable (I'm not sure)</p>\n\n<p>but, my code kinda looks dirty if I use Serializable and it causes some error. (I use 2 classes)</p>\n\n<p><strong>Anyway, Is there a way to set the directory when saving the txt file with the FileWriter?</strong></p>\n\n<p>This is my code, for saving files.</p>\n\n<pre><code>    public boolean save() {\n    try {\n        File dir = new File(\"C:\\\\Users\\\\JSK\\\\Desktop\\\\BOARD\\\\data\");\n\n        String str = Title_field.getText() + \".txt\";\n        CheckFile(str);\n        CheckCbox();\n        area.append(\"\\n Written at :\" + date_format.format(now.getTime()));\n        FileWriter fw = new FileWriter(str);\n        fw.write(area.getText());\n        fw.close();\n        JOptionPane.showMessageDialog(this, \"Successfully Written\");\n        this.setVisible(false);\n        Title_field.setEditable(false);\n        area.setEditable(false);\n    } catch (FileNotFoundException ex) {\n        JOptionPane.showMessageDialog(this, \"You Must Create A File First!\", \"File Missing\", JOptionPane.ERROR_MESSAGE);\n    } catch (IOException ex) {\n        JOptionPane.showMessageDialog(this, \"I/O ERROR\", \"Failed to save the file\", JOptionPane.ERROR_MESSAGE);\n    } catch (FileExistException ex) {\n        JOptionPane.showMessageDialog(this, \"File Already Exists, Please Change the title\", \"ERROR\", JOptionPane.ERROR_MESSAGE);\n        area.setText(\"\");\n        return false;\n    } catch (CheckboxSelectionException ex) {\n        JOptionPane.showMessageDialog(this, \"You must select at least one location\", \"ERROR\", JOptionPane.ERROR_MESSAGE);\n        Title_field.setText(\"\");\n        area.setText(\"\");\n        return false;\n    }\n\n    return true;\n}    \n</code></pre>\n\n<p><strong>dir means the directory where I want to save it, but it actually saves inside C:\\Users\\JSK\\Desktop\\BOARD</strong></p>\n"},{"tags":["java","oracle","spring-boot","connection-pooling","hikaricp"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689058131,"creation_date":1689058131,"answer_id":76659325,"question_id":76656624,"body_markdown":"According to the log message it is not an error as it is logged on DEBUG level. It is normal for Hikari pool to check if the connection is still alive. Otherwise it will be removed from the pool. Next time you will get a fresh one. Conclusion: it is normal behavior of the long running application.","title":"Why is HikariCP logging &quot;Cannot acquire connection from data source&quot;","body":"<p>According to the log message it is not an error as it is logged on DEBUG level. It is normal for Hikari pool to check if the connection is still alive. Otherwise it will be removed from the pool. Next time you will get a fresh one. Conclusion: it is normal behavior of the long running application.</p>\n"}],"owner":{"account_id":8892302,"reputation":211,"user_id":6638462,"display_name":"Matthew Marion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689058131,"creation_date":1689015932,"question_id":76656624,"body_markdown":"Implemented hikari connection pools in an application with around 9 different databases, using 9 different pools. Everything seems to be working as intended locally and on non-prod remote servers. However, randomly we get spammed with the following error on our non-prod servers:\r\n\r\n2023-07-06 13:14:13.919 DEBUG 1 --- [onnection adder] com.zaxxer.hikari.pool.HikariPool: hikaripool-java:OMITTED/DB/EXAMPLE- Cannot acquire connection from data source.\r\n\r\nThere is no more error messages and nothing seems to be going wrong. Very vague message that gets spammed for around 2 databases. No sign of connections being dropped/lost. Any insight on why this could be happening is appreciated.\r\n\r\nEnvironment info:\r\nUsing Hikari: 4.0.3\r\nSpring Boot: 2.3.0\r\nSome oracle databases and some postgres\r\n\r\nThanks\r\n\r\nTested to see if the connections were still working. Nothing seems to break after this message appears.","title":"Why is HikariCP logging &quot;Cannot acquire connection from data source&quot;","body":"<p>Implemented hikari connection pools in an application with around 9 different databases, using 9 different pools. Everything seems to be working as intended locally and on non-prod remote servers. However, randomly we get spammed with the following error on our non-prod servers:</p>\n<p>2023-07-06 13:14:13.919 DEBUG 1 --- [onnection adder] com.zaxxer.hikari.pool.HikariPool: hikaripool-java:OMITTED/DB/EXAMPLE- Cannot acquire connection from data source.</p>\n<p>There is no more error messages and nothing seems to be going wrong. Very vague message that gets spammed for around 2 databases. No sign of connections being dropped/lost. Any insight on why this could be happening is appreciated.</p>\n<p>Environment info:\nUsing Hikari: 4.0.3\nSpring Boot: 2.3.0\nSome oracle databases and some postgres</p>\n<p>Thanks</p>\n<p>Tested to see if the connections were still working. Nothing seems to break after this message appears.</p>\n"},{"tags":["java","zip","unzip"],"comments":[{"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"score":0,"creation_date":1275484566,"post_id":2957910,"comment_id":3015742,"body_markdown":"What is a hidden file? On Linux it&#39;s a file which starts with a dot, on Windows it&#39;s probably a file attribute.","body":"What is a hidden file? On Linux it&#39;s a file which starts with a dot, on Windows it&#39;s probably a file attribute."},{"owner":{"account_id":375461,"reputation":2234,"user_id":726315,"accept_rate":89,"display_name":"arkon"},"score":0,"creation_date":1336804834,"post_id":2957910,"comment_id":13671057,"body_markdown":"On Windows it&#39;s definitely a file attribute. Which is nothing more than a flag in a record on the filesystem.","body":"On Windows it&#39;s definitely a file attribute. Which is nothing more than a flag in a record on the filesystem."}],"answers":[{"comments":[{"owner":{"account_id":375461,"reputation":2234,"user_id":726315,"accept_rate":89,"display_name":"arkon"},"score":0,"creation_date":1336805350,"post_id":2958013,"comment_id":13671125,"body_markdown":"Uh I imagine because your providing &quot;answers&quot; which are senseless.  The hidden attribute is a flag on ntfs (or a dot-prefix on unix,) what makes you think a file has any idea whether or not it&#39;s hidden, especially when passing between filesystems? Educate yourself, before attempting to educate others: http://blogs.technet.com/b/askcore/archive/2010/08/25/ntfs-file-attributes.aspx","body":"Uh I imagine because your providing &quot;answers&quot; which are senseless.  The hidden attribute is a flag on ntfs (or a dot-prefix on unix,) what makes you think a file has any idea whether or not it&#39;s hidden, especially when passing between filesystems? Educate yourself, before attempting to educate others: <a href=\"http://blogs.technet.com/b/askcore/archive/2010/08/25/ntfs-file-attributes.aspx\" rel=\"nofollow noreferrer\">blogs.technet.com/b/askcore/archive/2010/08/25/&hellip;</a>"},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":1,"creation_date":1336831821,"post_id":2958013,"comment_id":13675329,"body_markdown":"@b1naryatr0phy Well, that&#39;s exactly what that method does. Remember, the File object isn&#39;t a handle to the file directly. It&#39;s just a bunch of metadata about the file. The exact text at the link I provided is &quot;Tests whether the file named by this abstract pathname is a hidden file. The exact definition of hidden is system-dependent. On UNIX systems, a file is considered to be hidden if its name begins with a period character (&#39;.&#39;). On Microsoft Windows systems, a file is considered to be hidden if it has been marked as such in the filesystem.&quot;","body":"@b1naryatr0phy Well, that&#39;s exactly what that method does. Remember, the File object isn&#39;t a handle to the file directly. It&#39;s just a bunch of metadata about the file. The exact text at the link I provided is &quot;Tests whether the file named by this abstract pathname is a hidden file. The exact definition of hidden is system-dependent. On UNIX systems, a file is considered to be hidden if its name begins with a period character (&#39;.&#39;). On Microsoft Windows systems, a file is considered to be hidden if it has been marked as such in the filesystem.&quot;"},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":2,"creation_date":1336831884,"post_id":2958013,"comment_id":13675346,"body_markdown":"@b1naryatr0phy Also, even if I was wrong, there&#39;s no need to be snarky about it. Sometimes people are wrong. You downvote wrong answers, to be sure, but it&#39;s also preferred to explain why they are wrong so the answer can be edited or deleted appropriately.","body":"@b1naryatr0phy Also, even if I was wrong, there&#39;s no need to be snarky about it. Sometimes people are wrong. You downvote wrong answers, to be sure, but it&#39;s also preferred to explain why they are wrong so the answer can be edited or deleted appropriately."}],"tags":[],"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1275484764,"creation_date":1275484764,"answer_id":2958013,"question_id":2957910,"body_markdown":"http://java.sun.com/j2se/1.5.0/docs/api/java/io/File.html#isHidden%28%29\r\n\r\nIt should have been preserved when they created the zip.","title":"In Java, How can I programmatically identify a hidden file in a zip?","body":"<p><a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/io/File.html#isHidden%28%29\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.5.0/docs/api/java/io/File.html#isHidden%28%29</a></p>\n\n<p>It should have been preserved when they created the zip.</p>\n"},{"comments":[{"owner":{"account_id":20213,"reputation":190030,"user_id":48082,"accept_rate":96,"display_name":"Cheeso"},"score":0,"creation_date":1289146304,"post_id":2958205,"comment_id":4436349,"body_markdown":"*The ZipEntry doesn&#39;t contain such information*. True, but the actual zip entry in the zip file *does* include this information. ZIP allows file attributes to be stored with the Zip Entry. A zip created from an NTFS volume can store the file attributes, including the Hidden attribute if it is present on the original file. Not all zip libraries handle these attributes, and in particular the zip classes that are builtin to Java may ignore that metadata (I don&#39;t know; will take your word for it), but it isn&#39;t strictly speaking &quot;impossible&quot;.","body":"<i>The ZipEntry doesn&#39;t contain such information</i>. True, but the actual zip entry in the zip file <i>does</i> include this information. ZIP allows file attributes to be stored with the Zip Entry. A zip created from an NTFS volume can store the file attributes, including the Hidden attribute if it is present on the original file. Not all zip libraries handle these attributes, and in particular the zip classes that are builtin to Java may ignore that metadata (I don&#39;t know; will take your word for it), but it isn&#39;t strictly speaking &quot;impossible&quot;."},{"owner":{"account_id":20213,"reputation":190030,"user_id":48082,"accept_rate":96,"display_name":"Cheeso"},"score":0,"creation_date":1289146413,"post_id":2958205,"comment_id":4436360,"body_markdown":"You get access to the file attributes using DotNetZip, for example. The reference document for this is here: http://cheeso.members.winisp.net/DotNetZipHelp/html/640bac96-0fb1-51fe-36d0-8a923c0d467f.htm I understand that is .NET, not Java, but the point is: technically, it&#39;s possible.","body":"You get access to the file attributes using DotNetZip, for example. The reference document for this is here: <a href=\"http://cheeso.members.winisp.net/DotNetZipHelp/html/640bac96-0fb1-51fe-36d0-8a923c0d467f.htm\" rel=\"nofollow noreferrer\">cheeso.members.winisp.net/DotNetZipHelp/html/&hellip;</a> I understand that is .NET, not Java, but the point is: technically, it&#39;s possible."}],"tags":[],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1275485866,"creation_date":1275485866,"answer_id":2958205,"question_id":2957910,"body_markdown":"If this is on Windows, there is no way to do it. The ZipEntry doesn&#39;t contain such information. You might be able to write your own zipper to store the information in ExtraInfo field.\r\n\r\nOn Unix, you can workaround by checking the leading dot in the filename.\r\n","title":"In Java, How can I programmatically identify a hidden file in a zip?","body":"<p>If this is on Windows, there is no way to do it. The ZipEntry doesn't contain such information. You might be able to write your own zipper to store the information in ExtraInfo field.</p>\n\n<p>On Unix, you can workaround by checking the leading dot in the filename.</p>\n"},{"tags":[],"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689057799,"creation_date":1689055786,"answer_id":76659113,"question_id":2957910,"body_markdown":"Java class &lt;code&gt;ZipEntry&lt;/code&gt; does not maintain file flags by design, as the accepted answer found. \r\n\r\nIf your usecase has not reserved the comment tag, you could fill it with file flag info, as e.g. \r\nwindows command line &lt;code&gt;attrib &amp;lt;file&amp;gt;&lt;/code&gt; delivers. \r\nIn order to mark only hidden files, that would be\r\n\r\n    ZipEntry entry = new ZipEntry(&quot;foo&quot;).setComment(&quot;H&quot;);\r\n\r\n\r\n&lt;b&gt;EDIT&lt;/b&gt;\r\n\r\nThere is also an &lt;code&gt;extra&lt;/code&gt; tag, designed to take additional implementation specific information as generic container, see\r\n&lt;a href=&quot;https://stackoverflow.com/a/59439166/9437799&quot;&gt;this answer&lt;/a&gt;\r\n","title":"In Java, How can I programmatically identify a hidden file in a zip?","body":"<p>Java class <code>ZipEntry</code> does not maintain file flags by design, as the accepted answer found.</p>\n<p>If your usecase has not reserved the comment tag, you could fill it with file flag info, as e.g.\nwindows command line <code>attrib &lt;file&gt;</code> delivers.\nIn order to mark only hidden files, that would be</p>\n<pre><code>ZipEntry entry = new ZipEntry(&quot;foo&quot;).setComment(&quot;H&quot;);\n</code></pre>\n<p><b>EDIT</b></p>\n<p>There is also an <code>extra</code> tag, designed to take additional implementation specific information as generic container, see\n<a href=\"https://stackoverflow.com/a/59439166/9437799\">this answer</a></p>\n"}],"owner":{"account_id":72623,"reputation":1871,"user_id":209622,"accept_rate":33,"display_name":"Totach"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2325,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":2958205,"answer_count":3,"score":2,"last_activity_date":1689057799,"creation_date":1275484070,"question_id":2957910,"body_markdown":"I would like to ignore hidden files when extracting a zip. \r\nIs there any way i can identify that a ZipEntry belongs to a &#39;hidden&#39; file?\r\n\r\n","title":"In Java, How can I programmatically identify a hidden file in a zip?","body":"<p>I would like to ignore hidden files when extracting a zip. \nIs there any way i can identify that a ZipEntry belongs to a 'hidden' file?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":5236373,"reputation":33,"user_id":4184811,"display_name":"niemand"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689057780,"creation_date":1689057780,"answer_id":76659286,"question_id":76636360,"body_markdown":"Problem solved. The problem was due to the environment variable `$JAVA_HOME` pointing to a JRE instead of a JDK. The JRE has no `javac`.","title":"Spring Quickstart Guide generated demo fail","body":"<p>Problem solved. The problem was due to the environment variable <code>$JAVA_HOME</code> pointing to a JRE instead of a JDK. The JRE has no <code>javac</code>.</p>\n"}],"owner":{"account_id":5236373,"reputation":33,"user_id":4184811,"display_name":"niemand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1689057780,"creation_date":1688727594,"question_id":76636360,"body_markdown":"Am new to Spring. Followed directions on https://spring.io/quickstart. On [spring initializr][1] page, I left &quot;Gradle - Groovy&quot; (default) as project, &quot;3.1.1&quot; (default) as Spring Boot, &quot;17&quot; (default) as Java, and added &quot;Spring Web&quot; as dependencies. I clicked on &quot;Generate&quot; to get the 70 KB `demo.zip` file. I expanded and moved the `demo` folder to my eclipse (2021-12) workspace, created a Java project using the same name &quot;demo&quot; (as existing project). I modified the `DemoApplication.java` file per step 2 on the [Quickstart][2] page. Ran ```./gradlew bootRun``` in console (macOS) per step 3. And I got a build failure. The first item is:\r\n```\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.1.\r\n```\r\nI also noticed that the `demo.zip` file does not contain any `springframework` library. None of the `springframework.boot` or `springframework.web` imports could be resolved in eclipse IDE.\r\n\r\nWhat went wrong?\r\n\r\n\r\n  [1]: https://start.spring.io/\r\n  [2]: https://spring.io/quickstart","title":"Spring Quickstart Guide generated demo fail","body":"<p>Am new to Spring. Followed directions on <a href=\"https://spring.io/quickstart\" rel=\"nofollow noreferrer\">https://spring.io/quickstart</a>. On <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">spring initializr</a> page, I left &quot;Gradle - Groovy&quot; (default) as project, &quot;3.1.1&quot; (default) as Spring Boot, &quot;17&quot; (default) as Java, and added &quot;Spring Web&quot; as dependencies. I clicked on &quot;Generate&quot; to get the 70 KB <code>demo.zip</code> file. I expanded and moved the <code>demo</code> folder to my eclipse (2021-12) workspace, created a Java project using the same name &quot;demo&quot; (as existing project). I modified the <code>DemoApplication.java</code> file per step 2 on the <a href=\"https://spring.io/quickstart\" rel=\"nofollow noreferrer\">Quickstart</a> page. Ran <code>./gradlew bootRun</code> in console (macOS) per step 3. And I got a build failure. The first item is:</p>\n<pre><code>&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.1.\n</code></pre>\n<p>I also noticed that the <code>demo.zip</code> file does not contain any <code>springframework</code> library. None of the <code>springframework.boot</code> or <code>springframework.web</code> imports could be resolved in eclipse IDE.</p>\n<p>What went wrong?</p>\n"},{"tags":["java","inheritance","arraylist","printing","upcasting"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1688650380,"post_id":76629324,"comment_id":135104643,"body_markdown":"You don&#39;t need to pass any list into that method. It&#39;s an instance method and therefor can access the field `ArrayList&lt;CandyBox&gt; candybag` of the instance the method is called on.","body":"You don&#39;t need to pass any list into that method. It&#39;s an instance method and therefor can access the field <code>ArrayList&lt;CandyBox&gt; candybag</code> of the instance the method is called on."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1688650477,"post_id":76629324,"comment_id":135104677,"body_markdown":"oh, and you can&#39;t just start writing method calls like `candybag.add(Austria_cherry);` into your class body. Those lines need to be inside a method or better yet a constructor.","body":"oh, and you can&#39;t just start writing method calls like <code>candybag.add(Austria_cherry);</code> into your class body. Those lines need to be inside a method or better yet a constructor."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1689015455,"post_id":76629324,"comment_id":135150663,"body_markdown":"What are the fields of each class that you pass into their constructor? Can you add the implementation of those classes for me to get a better idea of what you are trying to achive?","body":"What are the fields of each class that you pass into their constructor? Can you add the implementation of those classes for me to get a better idea of what you are trying to achive?"}],"answers":[{"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1688651015,"post_id":76629431,"comment_id":135104827,"body_markdown":"`System.out.println(item.toString());` is not necessary and pretty much all you do is introduce a potential NullPointerException. As the javadoc of [println(Object x)](https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html#println-java.lang.Object-) says the method will call [String.valueOf(x)](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#valueOf(java.lang.Object)) : *&quot;if the argument is null, then a string equal to &quot;null&quot;; otherwise, the value of obj.toString() is returned.&quot;* - So toString is already called by `System.out.println(item);`","body":"<code>System.out.println(item.toString());</code> is not necessary and pretty much all you do is introduce a potential NullPointerException. As the javadoc of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html#println-java.lang.Object-\" rel=\"nofollow noreferrer\">println(Object x)</a> says the method will call <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#valueOf(java.lang.Object)\" rel=\"nofollow noreferrer\">String.valueOf(x)</a> : <i>&quot;if the argument is null, then a string equal to &quot;null&quot;; otherwise, the value of obj.toString() is returned.&quot;</i> - So toString is already called by <code>System.out.println(item);</code>"}],"tags":[],"owner":{"account_id":23293888,"reputation":13,"user_id":17375554,"display_name":"Enis Mustafaj"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688650567,"creation_date":1688650567,"answer_id":76629431,"question_id":76629324,"body_markdown":"I think you need to override the toString() method of each class to return the desired text. Also, the elements of `candybag` list are not string type.\r\n\r\n    for (CandyBox item: candyBag) {\r\n        System.out.println(item.toString());\r\n    }","title":"Populating a list from a class with objects from other classes","body":"<p>I think you need to override the toString() method of each class to return the desired text. Also, the elements of <code>candybag</code> list are not string type.</p>\n<pre><code>for (CandyBox item: candyBag) {\n    System.out.println(item.toString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689057764,"creation_date":1689057764,"answer_id":76659285,"question_id":76629324,"body_markdown":"Your question is a little unclear and lacks all relevant codes. However I&#39;ll try to answer it as far as I understand.  \r\nWhat I understand of your goal is: You want to create inherited classes of `CandyBox` and finally a `CandyBag` class each of which can be represented as string in order to be able to print. Correct me if I get it wrong.  \r\nWell, I would suggest you to use `Object.toString` by extending the `Object` class and overriding the `toString` method.  \r\nSince I don&#39;t know the properties of the inherited classes like `Lindt` I just added `height` and `width` properties to be able to implement this example. So let&#39;s get into it...  \r\n\r\nFirst we would implement the base class `CandyBox`. Normally it should inherit from the `Object` class implicitly. But in case of it don&#39;t, you should extend it explicitly. In the base class we will override the `toString` method to implement our logic so that it can create a string containing its name and its properties.\r\nBut note that we declare an abstract method named `getName` so that inheritors of this class implement this method for getting their own name. Hence the class itself must be an abstract class as well.\r\n&lt;!-- language-all lang-java --&gt;\r\n```\r\npublic abstract class CandyBox {\r\n    \r\n    private final double height, width;\r\n    \r\n    public CandyBox(double height, double width) {\r\n        this.height = height;\r\n        this.width = width;\r\n    }\r\n    \r\n    public abstract String getName();\r\n    \r\n    public double getHeight() {\r\n        return height;\r\n    }\r\n    \r\n    public double getWidth() {\r\n        return width;\r\n    }\r\n    \r\n    @Override\r\n    public String toString() {\r\n        StringBuilder sb = new StringBuilder(getName());\r\n        sb.append(&quot; { [height:&quot;).append(getHeight()).append(&quot;], [width:&quot;).append(getWidth()).append(&quot;] }&quot;);\r\n        return sb.toString();\r\n    }\r\n}\r\n```\r\n\r\nNow that we have our base class we will create its inheritors `Baravelli`, `ChocoAmor` and `Lindt` respectively.\r\n```\r\npublic class Baravelli extends CandyBox {\r\n    \r\n    public Baravelli(double height, double width) {\r\n        super(height, width);\r\n    }\r\n    \r\n    @Override\r\n    public String getName() {\r\n        return getClass().getSimpleName();\r\n    }\r\n}\r\n\r\n\r\npublic class ChocoAmor extends CandyBox {\r\n    \r\n    public ChocoAmor(double height, double width) {\r\n        super(height, width);\r\n    }\r\n    \r\n    @Override\r\n    public String getName() {\r\n        return getClass().getSimpleName();\r\n    }\r\n}\r\n\r\npublic class ChocoAmor extends CandyBox {\r\n    \r\n    public ChocoAmor(double height, double width) {\r\n        super(height, width);\r\n    }\r\n    \r\n    @Override\r\n    public String getName() {\r\n        return getClass().getSimpleName();\r\n    }\r\n}\r\n```\r\n\r\nAll inherited from the `CandyBox` class and its `toString` implementation. So these 3 classes know how to generate their string representation.  \r\nLet&#39;s proceed and create the `CandyBag` class which will inherit from the `CandyBox` class as well but override the `toString` method to implemnt it for its needs.\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class CandyBag extends CandyBox {\r\n    \r\n    private final List&lt;CandyBox&gt; candyBoxes = new ArrayList&lt;CandyBox&gt;();\r\n    \r\n    public CandyBag(double height, double width) {\r\n        super(height, width);\r\n        candyBoxes.add(new Lindt(3.2, 9.2));\r\n        candyBoxes.add(new Baravelli(3.3, 10.4));\r\n        candyBoxes.add(new ChocoAmor(3.4, 11.6));\r\n    }\r\n    \r\n    @Override\r\n    public String getName() {\r\n        return getClass().getSimpleName();\r\n    }\r\n    \r\n    @Override\r\n    public String toString() {\r\n        String s = super.toString();\r\n        StringBuilder sb = new StringBuilder(s);\r\n        sb.append(&quot;\\n&quot;).append(getName()).append(&quot;&#39;s contents: { \\n\\t&quot;);\r\n            for (int i = 0; i &lt; candyBoxes.size(); i++) {\r\n                CandyBox cb = candyBoxes.get(i);\r\n                sb.append(&quot;[&quot;).append(cb.toString()).append(&quot;]&quot;);\r\n                String ending = i &lt; candyBoxes.size()-1 ? &quot;\\n\\t&quot; : &quot;\\n&quot;;\r\n                sb.append(ending);\r\n            }\r\n            sb.append(&quot;]}&quot;);\r\n            return sb.toString();\r\n    }\r\n}\r\n```\r\nHere it has three fixed candy boxes that created once when it is instantiated (in its consructor method). It also overrode the `toString` method because it has to add its candy content to its string representation.  \r\nThe 99% of the job is done so far. Now it is time to test it. Let&#39;s test it in a main class, let&#39;s create 1 `CandyBag` object and print its string representation.\r\n```\r\npublic class MainClass {\r\n    \r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Here we go...&quot;);\r\n        CandyBag candyBag = new CandyBag(4, 20);\r\n        System.out.println(candyBag.toString());\r\n    }\r\n    \r\n}\r\n```\r\n\r\nSee the output:\r\n```\r\nHere we go...\r\nCandyBag { [height:4.0], [width:20.0] }\r\nCandyBag&#39;s contents: { \r\n    [Lindt { [height:3.2], [width:9.2] }]\r\n    [Baravelli { [height:3.3], [width:10.4] }]\r\n    [ChocoAmor { [height:3.4], [width:11.6] }]\r\n]}\r\n```\r\n\r\nYou can play with the `toString` implementation to change the string representation form for your convenience. Go ahead and try this implementation and let me know if you hit your goal or fail for some reason.","title":"Populating a list from a class with objects from other classes","body":"<p>Your question is a little unclear and lacks all relevant codes. However I'll try to answer it as far as I understand.<br />\nWhat I understand of your goal is: You want to create inherited classes of <code>CandyBox</code> and finally a <code>CandyBag</code> class each of which can be represented as string in order to be able to print. Correct me if I get it wrong.<br />\nWell, I would suggest you to use <code>Object.toString</code> by extending the <code>Object</code> class and overriding the <code>toString</code> method.<br />\nSince I don't know the properties of the inherited classes like <code>Lindt</code> I just added <code>height</code> and <code>width</code> properties to be able to implement this example. So let's get into it...</p>\n<p>First we would implement the base class <code>CandyBox</code>. Normally it should inherit from the <code>Object</code> class implicitly. But in case of it don't, you should extend it explicitly. In the base class we will override the <code>toString</code> method to implement our logic so that it can create a string containing its name and its properties.\nBut note that we declare an abstract method named <code>getName</code> so that inheritors of this class implement this method for getting their own name. Hence the class itself must be an abstract class as well.</p>\n\n<pre><code>public abstract class CandyBox {\n    \n    private final double height, width;\n    \n    public CandyBox(double height, double width) {\n        this.height = height;\n        this.width = width;\n    }\n    \n    public abstract String getName();\n    \n    public double getHeight() {\n        return height;\n    }\n    \n    public double getWidth() {\n        return width;\n    }\n    \n    @Override\n    public String toString() {\n        StringBuilder sb = new StringBuilder(getName());\n        sb.append(&quot; { [height:&quot;).append(getHeight()).append(&quot;], [width:&quot;).append(getWidth()).append(&quot;] }&quot;);\n        return sb.toString();\n    }\n}\n</code></pre>\n<p>Now that we have our base class we will create its inheritors <code>Baravelli</code>, <code>ChocoAmor</code> and <code>Lindt</code> respectively.</p>\n<pre><code>public class Baravelli extends CandyBox {\n    \n    public Baravelli(double height, double width) {\n        super(height, width);\n    }\n    \n    @Override\n    public String getName() {\n        return getClass().getSimpleName();\n    }\n}\n\n\npublic class ChocoAmor extends CandyBox {\n    \n    public ChocoAmor(double height, double width) {\n        super(height, width);\n    }\n    \n    @Override\n    public String getName() {\n        return getClass().getSimpleName();\n    }\n}\n\npublic class ChocoAmor extends CandyBox {\n    \n    public ChocoAmor(double height, double width) {\n        super(height, width);\n    }\n    \n    @Override\n    public String getName() {\n        return getClass().getSimpleName();\n    }\n}\n</code></pre>\n<p>All inherited from the <code>CandyBox</code> class and its <code>toString</code> implementation. So these 3 classes know how to generate their string representation.<br />\nLet's proceed and create the <code>CandyBag</code> class which will inherit from the <code>CandyBox</code> class as well but override the <code>toString</code> method to implemnt it for its needs.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class CandyBag extends CandyBox {\n    \n    private final List&lt;CandyBox&gt; candyBoxes = new ArrayList&lt;CandyBox&gt;();\n    \n    public CandyBag(double height, double width) {\n        super(height, width);\n        candyBoxes.add(new Lindt(3.2, 9.2));\n        candyBoxes.add(new Baravelli(3.3, 10.4));\n        candyBoxes.add(new ChocoAmor(3.4, 11.6));\n    }\n    \n    @Override\n    public String getName() {\n        return getClass().getSimpleName();\n    }\n    \n    @Override\n    public String toString() {\n        String s = super.toString();\n        StringBuilder sb = new StringBuilder(s);\n        sb.append(&quot;\\n&quot;).append(getName()).append(&quot;'s contents: { \\n\\t&quot;);\n            for (int i = 0; i &lt; candyBoxes.size(); i++) {\n                CandyBox cb = candyBoxes.get(i);\n                sb.append(&quot;[&quot;).append(cb.toString()).append(&quot;]&quot;);\n                String ending = i &lt; candyBoxes.size()-1 ? &quot;\\n\\t&quot; : &quot;\\n&quot;;\n                sb.append(ending);\n            }\n            sb.append(&quot;]}&quot;);\n            return sb.toString();\n    }\n}\n</code></pre>\n<p>Here it has three fixed candy boxes that created once when it is instantiated (in its consructor method). It also overrode the <code>toString</code> method because it has to add its candy content to its string representation.<br />\nThe 99% of the job is done so far. Now it is time to test it. Let's test it in a main class, let's create 1 <code>CandyBag</code> object and print its string representation.</p>\n<pre><code>public class MainClass {\n    \n    public static void main(String[] args) {\n        System.out.println(&quot;Here we go...&quot;);\n        CandyBag candyBag = new CandyBag(4, 20);\n        System.out.println(candyBag.toString());\n    }\n    \n}\n</code></pre>\n<p>See the output:</p>\n<pre><code>Here we go...\nCandyBag { [height:4.0], [width:20.0] }\nCandyBag's contents: { \n    [Lindt { [height:3.2], [width:9.2] }]\n    [Baravelli { [height:3.3], [width:10.4] }]\n    [ChocoAmor { [height:3.4], [width:11.6] }]\n]}\n</code></pre>\n<p>You can play with the <code>toString</code> implementation to change the string representation form for your convenience. Go ahead and try this implementation and let me know if you hit your goal or fail for some reason.</p>\n"}],"owner":{"account_id":28963202,"reputation":1,"user_id":22185276,"display_name":"Aled"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689057764,"creation_date":1688649788,"question_id":76629324,"body_markdown":"I am having the next code arhitecture:\r\n - class candybox with arguments flavor and origin which is the parent class for classes: Lindt, Baravelli and ChocoAmor which will have as a plus arguments: height, width(depending of the box)\r\n - class CandyBag which needs to contain an Arraylist that will represent a gift containing 1 candybox of type Lindt, 1 candybox of type Baravelli and 1 candyboxe of type ChocoAmor.\r\nNow my problem is that I do not know how to populate the arraylist from class candybag with objects from the 3 classes: Lindt, Baravelli and ChocoAmor. \r\n\r\nI thought of this:\r\n\r\n    import java.util.*;\r\n    class CandyBag extends CandyBox{\r\n\r\n    ArrayList&lt;CandyBox&gt; candybag = new ArrayList&lt;CandyBox&gt;();\r\n \r\n\r\n    CandyBox Austria_cherry = new Lindt(20, 5.4, 19.2); \r\n    Candybox Italy_grape = new Baravelli(6.7,8.7);\r\n    Candybox France_coffee = new ChocAmor(5.5);\r\n \r\n     \r\n    candybag.add(Austria_cherry);\r\n    candybag.add(Italy_grape);\r\n    candybag.add(France_coffee);\r\n \r\n\r\n    public void printArray(candybag){\r\n     for(String item: candybag){\r\n      System.out.println(item);\r\n   }\r\n }\r\n\r\n\r\n\r\n\r\n\r\nAnd then in main class just to create a candybag object and call printArray method: \r\nCandyBag cadou = new CandyBag();\r\ncadou.printArray(candybag); //i do not know exactly how to pass the arraylist from other class as parameter\r\n\r\nCan you help me with this, how to print the arraylist with the 3 boxes?","title":"Populating a list from a class with objects from other classes","body":"<p>I am having the next code arhitecture:</p>\n<ul>\n<li>class candybox with arguments flavor and origin which is the parent class for classes: Lindt, Baravelli and ChocoAmor which will have as a plus arguments: height, width(depending of the box)</li>\n<li>class CandyBag which needs to contain an Arraylist that will represent a gift containing 1 candybox of type Lindt, 1 candybox of type Baravelli and 1 candyboxe of type ChocoAmor.\nNow my problem is that I do not know how to populate the arraylist from class candybag with objects from the 3 classes: Lindt, Baravelli and ChocoAmor.</li>\n</ul>\n<p>I thought of this:</p>\n<pre><code>import java.util.*;\nclass CandyBag extends CandyBox{\n\nArrayList&lt;CandyBox&gt; candybag = new ArrayList&lt;CandyBox&gt;();\n\n\nCandyBox Austria_cherry = new Lindt(20, 5.4, 19.2); \nCandybox Italy_grape = new Baravelli(6.7,8.7);\nCandybox France_coffee = new ChocAmor(5.5);\n\n \ncandybag.add(Austria_cherry);\ncandybag.add(Italy_grape);\ncandybag.add(France_coffee);\n\n\npublic void printArray(candybag){\n for(String item: candybag){\n  System.out.println(item);\n</code></pre>\n<p>}\n}</p>\n<p>And then in main class just to create a candybag object and call printArray method:\nCandyBag cadou = new CandyBag();\ncadou.printArray(candybag); //i do not know exactly how to pass the arraylist from other class as parameter</p>\n<p>Can you help me with this, how to print the arraylist with the 3 boxes?</p>\n"},{"tags":["java","android","reactjs","react-native","react-native-vector-icons"],"answers":[{"comments":[{"owner":{"account_id":25530349,"reputation":93,"user_id":19318501,"display_name":"Gursahb Webcyst"},"score":0,"creation_date":1689145834,"post_id":76659284,"comment_id":135170016,"body_markdown":"I&#39;m just switched to [react-native-remix-icons](https://www.npmjs.com/package/react-native-remix-icon). Because I can&#39;t find any solution for `react-native-vector-icons`.","body":"I&#39;m just switched to <a href=\"https://www.npmjs.com/package/react-native-remix-icon\" rel=\"nofollow noreferrer\">react-native-remix-icons</a>. Because I can&#39;t find any solution for <code>react-native-vector-icons</code>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689187698,"post_id":76659284,"comment_id":135179502,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76659284/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28938817,"reputation":11,"user_id":22165772,"display_name":"Neha Sharma"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689057737,"creation_date":1689057737,"answer_id":76659284,"question_id":76605709,"body_markdown":"Please check this. It helped me. Maybe you can try it too.\r\n\r\nhttps://github.com/oblador/react-native-vector-icons/issues/1508","title":"React Native Vector Icons causing build error","body":"<p>Please check this. It helped me. Maybe you can try it too.</p>\n<p><a href=\"https://github.com/oblador/react-native-vector-icons/issues/1508\" rel=\"nofollow noreferrer\">https://github.com/oblador/react-native-vector-icons/issues/1508</a></p>\n"}],"owner":{"account_id":25530349,"reputation":93,"user_id":19318501,"display_name":"Gursahb Webcyst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689057737,"creation_date":1688394585,"question_id":76605709,"body_markdown":"I created a React Native Project and Worked on it, It works perfect on debug build. But when I run `./gradlew assembleRelease` inside `android` directory, It leads me to an error.\r\n\r\n```\r\n&gt; Task :app:copyReactNativeVectorIconFonts FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem was found with the configuration of task &#39;:app:copyReactNativeVectorIconFonts&#39; (type &#39;Copy&#39;).\r\n  - Gradle detected a problem with the following location: &#39;/Projects/AppName/android/app/build/intermediates/ReactNativeVectorIcons/fonts&#39;.\r\n    \r\n    Reason: Task &#39;:app:lintVitalAnalyzeRelease&#39; uses this output of task &#39;:app:copyReactNativeVectorIconFonts&#39; without declaring an explicit or implicit dependency. This can lead to incorrect results being produced, depending on what order the tasks are executed.\r\n    \r\n    Possible solutions:\r\n      1. Declare task &#39;:app:copyReactNativeVectorIconFonts&#39; as an input of &#39;:app:lintVitalAnalyzeRelease&#39;.\r\n      2. Declare an explicit dependency on &#39;:app:copyReactNativeVectorIconFonts&#39; from &#39;:app:lintVitalAnalyzeRelease&#39; using Task#dependsOn.\r\n      3. Declare an explicit dependency on &#39;:app:copyReactNativeVectorIconFonts&#39; from &#39;:app:lintVitalAnalyzeRelease&#39; using Task#mustRunAfter.\r\n    \r\n    Please refer to https://docs.gradle.org/8.0.1/userguide/validation_problems.html#implicit_dependency for more details about this problem.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\r\n\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\nSee https://docs.gradle.org/8.0.1/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD FAILED in 4s\r\n214 actionable tasks: 7 executed, 207 up-to-date\r\n```\r\n\r\nHere&#39;s `package.json`\r\n```\r\n{\r\n  &quot;name&quot;: &quot;App Name&quot;,\r\n  &quot;version&quot;: &quot;0.0.1&quot;,\r\n  &quot;private&quot;: true,\r\n  &quot;scripts&quot;: {\r\n    &quot;android&quot;: &quot;react-native run-android&quot;,\r\n    &quot;ios&quot;: &quot;react-native run-ios&quot;,\r\n    &quot;lint&quot;: &quot;eslint .&quot;,\r\n    &quot;start&quot;: &quot;react-native start&quot;,\r\n    &quot;test&quot;: &quot;jest&quot;\r\n  },\r\n  &quot;dependencies&quot;: {\r\n    &quot;@react-native-async-storage/async-storage&quot;: &quot;^1.19.0&quot;,\r\n    &quot;@react-navigation/bottom-tabs&quot;: &quot;^6.5.8&quot;,\r\n    &quot;@react-navigation/native&quot;: &quot;^6.1.7&quot;,\r\n    &quot;@react-navigation/native-stack&quot;: &quot;^6.9.13&quot;,\r\n    &quot;@reduxjs/toolkit&quot;: &quot;^1.9.5&quot;,\r\n    &quot;axios&quot;: &quot;^1.4.0&quot;,\r\n    &quot;react&quot;: &quot;18.2.0&quot;,\r\n    &quot;react-native&quot;: &quot;0.72.1&quot;,\r\n    &quot;react-native-linear-gradient&quot;: &quot;^2.7.3&quot;,\r\n    &quot;react-native-safe-area-context&quot;: &quot;^4.6.3&quot;,\r\n    &quot;react-native-screens&quot;: &quot;^3.22.0&quot;,\r\n    &quot;react-native-splash-screen&quot;: &quot;^3.3.0&quot;,\r\n    &quot;react-native-vector-icons&quot;: &quot;^9.2.0&quot;,\r\n    &quot;react-redux&quot;: &quot;^8.1.1&quot;\r\n  },\r\n  &quot;devDependencies&quot;: {\r\n    &quot;@babel/core&quot;: &quot;^7.20.0&quot;,\r\n    &quot;@babel/preset-env&quot;: &quot;^7.20.0&quot;,\r\n    &quot;@babel/runtime&quot;: &quot;^7.20.0&quot;,\r\n    &quot;@react-native/eslint-config&quot;: &quot;^0.72.2&quot;,\r\n    &quot;@react-native/metro-config&quot;: &quot;^0.72.7&quot;,\r\n    &quot;@tsconfig/react-native&quot;: &quot;^3.0.0&quot;,\r\n    &quot;@types/metro-config&quot;: &quot;^0.76.3&quot;,\r\n    &quot;@types/react&quot;: &quot;^18.0.24&quot;,\r\n    &quot;@types/react-test-renderer&quot;: &quot;^18.0.0&quot;,\r\n    &quot;babel-jest&quot;: &quot;^29.2.1&quot;,\r\n    &quot;eslint&quot;: &quot;^8.19.0&quot;,\r\n    &quot;jest&quot;: &quot;^29.2.1&quot;,\r\n    &quot;metro-react-native-babel-preset&quot;: &quot;0.76.5&quot;,\r\n    &quot;prettier&quot;: &quot;^2.4.1&quot;,\r\n    &quot;react-native-dotenv&quot;: &quot;^3.4.9&quot;,\r\n    &quot;react-test-renderer&quot;: &quot;18.2.0&quot;,\r\n    &quot;typescript&quot;: &quot;4.8.4&quot;\r\n  },\r\n  &quot;engines&quot;: {\r\n    &quot;node&quot;: &quot;&gt;=16&quot;\r\n  }\r\n}\r\n```\r\n\r\nI created this project with `npx react-native init AppName`.\r\n\r\nI&#39;m on macOS Ventura 13.4.1\r\n```\r\nNodeJS - 18.15.0\r\nYarn - 1.22.19\r\n\r\nAndroid Studio Electric Eel | 2022.1.1 Patch 2 --\r\nBuild #AI-221.6008.13.2211.9619390, built on February 17, 2023\r\n\r\njava version &quot;17.0.6&quot; 2023-01-17 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.6+9-LTS-190)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.6+9-LTS-190, mixed mode, sharing)\r\n```\r\n","title":"React Native Vector Icons causing build error","body":"<p>I created a React Native Project and Worked on it, It works perfect on debug build. But when I run <code>./gradlew assembleRelease</code> inside <code>android</code> directory, It leads me to an error.</p>\n<pre><code>&gt; Task :app:copyReactNativeVectorIconFonts FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem was found with the configuration of task ':app:copyReactNativeVectorIconFonts' (type 'Copy').\n  - Gradle detected a problem with the following location: '/Projects/AppName/android/app/build/intermediates/ReactNativeVectorIcons/fonts'.\n    \n    Reason: Task ':app:lintVitalAnalyzeRelease' uses this output of task ':app:copyReactNativeVectorIconFonts' without declaring an explicit or implicit dependency. This can lead to incorrect results being produced, depending on what order the tasks are executed.\n    \n    Possible solutions:\n      1. Declare task ':app:copyReactNativeVectorIconFonts' as an input of ':app:lintVitalAnalyzeRelease'.\n      2. Declare an explicit dependency on ':app:copyReactNativeVectorIconFonts' from ':app:lintVitalAnalyzeRelease' using Task#dependsOn.\n      3. Declare an explicit dependency on ':app:copyReactNativeVectorIconFonts' from ':app:lintVitalAnalyzeRelease' using Task#mustRunAfter.\n    \n    Please refer to https://docs.gradle.org/8.0.1/userguide/validation_problems.html#implicit_dependency for more details about this problem.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nSee https://docs.gradle.org/8.0.1/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 4s\n214 actionable tasks: 7 executed, 207 up-to-date\n</code></pre>\n<p>Here's <code>package.json</code></p>\n<pre><code>{\n  &quot;name&quot;: &quot;App Name&quot;,\n  &quot;version&quot;: &quot;0.0.1&quot;,\n  &quot;private&quot;: true,\n  &quot;scripts&quot;: {\n    &quot;android&quot;: &quot;react-native run-android&quot;,\n    &quot;ios&quot;: &quot;react-native run-ios&quot;,\n    &quot;lint&quot;: &quot;eslint .&quot;,\n    &quot;start&quot;: &quot;react-native start&quot;,\n    &quot;test&quot;: &quot;jest&quot;\n  },\n  &quot;dependencies&quot;: {\n    &quot;@react-native-async-storage/async-storage&quot;: &quot;^1.19.0&quot;,\n    &quot;@react-navigation/bottom-tabs&quot;: &quot;^6.5.8&quot;,\n    &quot;@react-navigation/native&quot;: &quot;^6.1.7&quot;,\n    &quot;@react-navigation/native-stack&quot;: &quot;^6.9.13&quot;,\n    &quot;@reduxjs/toolkit&quot;: &quot;^1.9.5&quot;,\n    &quot;axios&quot;: &quot;^1.4.0&quot;,\n    &quot;react&quot;: &quot;18.2.0&quot;,\n    &quot;react-native&quot;: &quot;0.72.1&quot;,\n    &quot;react-native-linear-gradient&quot;: &quot;^2.7.3&quot;,\n    &quot;react-native-safe-area-context&quot;: &quot;^4.6.3&quot;,\n    &quot;react-native-screens&quot;: &quot;^3.22.0&quot;,\n    &quot;react-native-splash-screen&quot;: &quot;^3.3.0&quot;,\n    &quot;react-native-vector-icons&quot;: &quot;^9.2.0&quot;,\n    &quot;react-redux&quot;: &quot;^8.1.1&quot;\n  },\n  &quot;devDependencies&quot;: {\n    &quot;@babel/core&quot;: &quot;^7.20.0&quot;,\n    &quot;@babel/preset-env&quot;: &quot;^7.20.0&quot;,\n    &quot;@babel/runtime&quot;: &quot;^7.20.0&quot;,\n    &quot;@react-native/eslint-config&quot;: &quot;^0.72.2&quot;,\n    &quot;@react-native/metro-config&quot;: &quot;^0.72.7&quot;,\n    &quot;@tsconfig/react-native&quot;: &quot;^3.0.0&quot;,\n    &quot;@types/metro-config&quot;: &quot;^0.76.3&quot;,\n    &quot;@types/react&quot;: &quot;^18.0.24&quot;,\n    &quot;@types/react-test-renderer&quot;: &quot;^18.0.0&quot;,\n    &quot;babel-jest&quot;: &quot;^29.2.1&quot;,\n    &quot;eslint&quot;: &quot;^8.19.0&quot;,\n    &quot;jest&quot;: &quot;^29.2.1&quot;,\n    &quot;metro-react-native-babel-preset&quot;: &quot;0.76.5&quot;,\n    &quot;prettier&quot;: &quot;^2.4.1&quot;,\n    &quot;react-native-dotenv&quot;: &quot;^3.4.9&quot;,\n    &quot;react-test-renderer&quot;: &quot;18.2.0&quot;,\n    &quot;typescript&quot;: &quot;4.8.4&quot;\n  },\n  &quot;engines&quot;: {\n    &quot;node&quot;: &quot;&gt;=16&quot;\n  }\n}\n</code></pre>\n<p>I created this project with <code>npx react-native init AppName</code>.</p>\n<p>I'm on macOS Ventura 13.4.1</p>\n<pre><code>NodeJS - 18.15.0\nYarn - 1.22.19\n\nAndroid Studio Electric Eel | 2022.1.1 Patch 2 --\nBuild #AI-221.6008.13.2211.9619390, built on February 17, 2023\n\njava version &quot;17.0.6&quot; 2023-01-17 LTS\nJava(TM) SE Runtime Environment (build 17.0.6+9-LTS-190)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.6+9-LTS-190, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","multithreading","jakarta-ee"],"comments":[{"owner":{"account_id":12917,"reputation":22601,"user_id":25688,"accept_rate":85,"display_name":"Ken Liu"},"score":4,"creation_date":1274926441,"post_id":533783,"comment_id":2970283,"body_markdown":"Asynchronous tasks are usually done using JMS messaging and MDBs.","body":"Asynchronous tasks are usually done using JMS messaging and MDBs."},{"owner":{"account_id":24080,"reputation":3380,"user_id":60982,"accept_rate":71,"display_name":"letmaik"},"score":5,"creation_date":1375633063,"post_id":533783,"comment_id":26399611,"body_markdown":"This issue should soon be a thing of the past once [JSR 236](http://jcp.org/en/jsr/detail?id=236) is implemented in the containers.","body":"This issue should soon be a thing of the past once <a href=\"http://jcp.org/en/jsr/detail?id=236\" rel=\"nofollow noreferrer\">JSR 236</a> is implemented in the containers."},{"owner":{"account_id":3057808,"reputation":4769,"user_id":2591088,"accept_rate":80,"display_name":"Chris Ritchie"},"score":5,"creation_date":1382430114,"post_id":533783,"comment_id":28945617,"body_markdown":"It _was_ discouraged because any second threads should be created and managed by the container, so that the thread will have access to the other enterprise resources. With Java EE7, there is a standard, and correct way to create threads in an enterprise environment. By using Concurrency Utils, you ensure that your new thread is created, and managed by the container, guaranteeing that all EE services are available.\n\nExample [here](http://stackoverflow.com/questions/3212255/java-ee-specification-and-multi-threading/19404307#19404307)","body":"It <i>was</i> discouraged because any second threads should be created and managed by the container, so that the thread will have access to the other enterprise resources. With Java EE7, there is a standard, and correct way to create threads in an enterprise environment. By using Concurrency Utils, you ensure that your new thread is created, and managed by the container, guaranteeing that all EE services are available.  Example <a href=\"http://stackoverflow.com/questions/3212255/java-ee-specification-and-multi-threading/19404307#19404307\">here</a>"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1458729206,"post_id":533783,"comment_id":59986881,"body_markdown":"Several correct ways in JSF/EJB perspective can be found here: http://stackoverflow.com/q/6149919","body":"Several correct ways in JSF/EJB perspective can be found here: <a href=\"http://stackoverflow.com/q/6149919\">stackoverflow.com/q/6149919</a>"}],"answers":[{"comments":[{"owner":{"account_id":12917,"reputation":22601,"user_id":25688,"accept_rate":85,"display_name":"Ken Liu"},"score":7,"creation_date":1274926185,"post_id":533797,"comment_id":2970263,"body_markdown":"it is indeed forbidden by the spec.","body":"it is indeed forbidden by the spec."}],"tags":[],"owner":{"account_id":2213,"reputation":8450,"user_id":3044,"accept_rate":80,"display_name":"levand"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1234294122,"creation_date":1234294122,"answer_id":533797,"question_id":533783,"body_markdown":"I&#39;ve never read that it&#39;s discouraged, except from the fact that it&#39;s not easy to do correctly.\r\n\r\nIt is fairly low-level programming, and like other low-level techniques you ought to have a good reason. Most concurrency problems can be resolved far more effectively using built-in constructs like thread pools.\r\n\r\n","title":"Why is spawning threads in Java EE container discouraged?","body":"<p>I've never read that it's discouraged, except from the fact that it's not easy to do correctly.</p>\n\n<p>It is fairly low-level programming, and like other low-level techniques you ought to have a good reason. Most concurrency problems can be resolved far more effectively using built-in constructs like thread pools.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1464077352,"post_id":533834,"comment_id":62322698,"body_markdown":"JSR 236 added features to support spawning threads in Java EE 7 and later. See [this sibling Answer by Chris Ritchie](http://stackoverflow.com/a/19404453/642706).","body":"JSR 236 added features to support spawning threads in Java EE 7 and later. See <a href=\"http://stackoverflow.com/a/19404453/642706\">this sibling Answer by Chris Ritchie</a>."}],"tags":[],"owner":{"account_id":12262,"reputation":103384,"user_id":24054,"accept_rate":86,"display_name":"kgiannakakis"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1414039202,"creation_date":1234294769,"answer_id":533834,"question_id":533783,"body_markdown":"The reason that you shouldn&#39;t spawn your own threads is that these won&#39;t be managed by the container. The container takes care of a lot of things that a novice developer can find hard to imagine. For example things like thread pooling, clustering, crash recoveries are performed by the container. When you start a thread you may lose some of those. Also the container lets you restart your application without affecting the JVM it runs on. How this would be possible if there are threads out of the container&#39;s control?\r\n\r\nThis the reason that from J2EE 1.4 timer services were introduced. See [this][1] article for details.\r\n\r\n\r\n  [1]: http://www.onjava.com/pub/a/onjava/2004/10/13/j2ee-timers.html","title":"Why is spawning threads in Java EE container discouraged?","body":"<p>The reason that you shouldn't spawn your own threads is that these won't be managed by the container. The container takes care of a lot of things that a novice developer can find hard to imagine. For example things like thread pooling, clustering, crash recoveries are performed by the container. When you start a thread you may lose some of those. Also the container lets you restart your application without affecting the JVM it runs on. How this would be possible if there are threads out of the container's control?</p>\n\n<p>This the reason that from J2EE 1.4 timer services were introduced. See <a href=\"http://www.onjava.com/pub/a/onjava/2004/10/13/j2ee-timers.html\" rel=\"nofollow noreferrer\">this</a> article for details.</p>\n"},{"comments":[{"owner":{"account_id":199,"reputation":7173,"user_id":246,"accept_rate":90,"display_name":"rjohnston"},"score":1,"creation_date":1341492833,"post_id":533847,"comment_id":14939154,"body_markdown":"_you cannot get an InitialContext and do JNDI lookups to access other system resources such as JMS Connection Factories and Datasources._ I have an app that works around this by injecting the datasource when starting the threads, but I might have to rethink this approach...","body":"<i>you cannot get an InitialContext and do JNDI lookups to access other system resources such as JMS Connection Factories and Datasources.</i> I have an app that works around this by injecting the datasource when starting the threads, but I might have to rethink this approach..."},{"owner":{"account_id":3057808,"reputation":4769,"user_id":2591088,"accept_rate":80,"display_name":"Chris Ritchie"},"score":6,"creation_date":1381929342,"post_id":533847,"comment_id":28762065,"body_markdown":"There is now a standard, and correct way to create threads with the core Java EE API. By using Concurrency Utils, you ensure that your new thread is created, and managed by the container, guaranteeing that all EE services are available.\n\nExamples [here](http://blog.chris-ritchie.com/2013/09/simple-concurrency-example-with-wildfly.html) and [here](http://blog.chris-ritchie.com/2013/10/managed-thread-factory-example-in-wildfly.html)","body":"There is now a standard, and correct way to create threads with the core Java EE API. By using Concurrency Utils, you ensure that your new thread is created, and managed by the container, guaranteeing that all EE services are available.  Examples <a href=\"http://blog.chris-ritchie.com/2013/09/simple-concurrency-example-with-wildfly.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"http://blog.chris-ritchie.com/2013/10/managed-thread-factory-example-in-wildfly.html\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":105902,"reputation":3968,"user_id":282345,"accept_rate":88,"display_name":"asgs"},"score":0,"creation_date":1414039820,"post_id":533847,"comment_id":41671952,"body_markdown":"@ChrisRitchie thanks for the tip. if only JBoss AS/IBM WAS supported Java EE 7... :-(","body":"@ChrisRitchie thanks for the tip. if only JBoss AS/IBM WAS supported Java EE 7... :-("},{"owner":{"account_id":3057808,"reputation":4769,"user_id":2591088,"accept_rate":80,"display_name":"Chris Ritchie"},"score":1,"creation_date":1414063449,"post_id":533847,"comment_id":41680934,"body_markdown":"@asgs WildFly 8 (new name for JBoss AS) does support Java EE 7. IBM is only Java EE 6 certified [certification](http://www.oracle.com/technetwork/java/javaee/overview/compatibility-jsp-136984.html)","body":"@asgs WildFly 8 (new name for JBoss AS) does support Java EE 7. IBM is only Java EE 6 certified <a href=\"http://www.oracle.com/technetwork/java/javaee/overview/compatibility-jsp-136984.html\" rel=\"nofollow noreferrer\">certification</a>"}],"tags":[],"owner":{"account_id":11385,"reputation":24062,"user_id":21925,"accept_rate":62,"display_name":"Robin"},"comment_count":4,"down_vote_count":0,"up_vote_count":85,"is_accepted":true,"score":85,"last_activity_date":1438416746,"creation_date":1234295020,"answer_id":533847,"question_id":533783,"body_markdown":"It is discouraged because all resources within the environment are meant to be managed, and potentially monitored, by the server.  Also, much of the context in which a thread is being used is typically attached to the thread of execution itself.  If you simply start your own thread (which I believe some servers will not even allow), it cannot access other resources.  What this means, is that you cannot get an InitialContext and do JNDI lookups to access other system resources such as JMS Connection Factories and Datasources.\r\n\r\nThere are ways to do this &quot;correctly&quot;, but it is dependent on the platform being used.  \r\n\r\n[The commonj WorkManager is common for WebSphere and WebLogic as well as others][1]\r\n\r\n[More info here][2]\r\n\r\n[And here][3]\r\n\r\nAlso somewhat duplicates [this one ][4] from this morning\r\n\r\n\r\nUPDATE: Please note that this question and answer relate to the state of Java EE in 2009, things have improved since then!\r\n\r\n  [1]: http://web.archive.org/web/20120510185357/http://www.ibm.com/developerworks/library/specification/j-commonj-sdowmt/index.html\r\n  [2]: http://www.theserverside.com/discussions/thread.tss?thread_id=44353\r\n  [3]: http://docs.oracle.com/middleware/1212/wls/WLPRG/topics.htm#sthref219\r\n  [4]: https://stackoverflow.com/questions/532360/thread-in-app-server/532440#532440","title":"Why is spawning threads in Java EE container discouraged?","body":"<p>It is discouraged because all resources within the environment are meant to be managed, and potentially monitored, by the server.  Also, much of the context in which a thread is being used is typically attached to the thread of execution itself.  If you simply start your own thread (which I believe some servers will not even allow), it cannot access other resources.  What this means, is that you cannot get an InitialContext and do JNDI lookups to access other system resources such as JMS Connection Factories and Datasources.</p>\n\n<p>There are ways to do this \"correctly\", but it is dependent on the platform being used.  </p>\n\n<p><a href=\"http://web.archive.org/web/20120510185357/http://www.ibm.com/developerworks/library/specification/j-commonj-sdowmt/index.html\" rel=\"noreferrer\">The commonj WorkManager is common for WebSphere and WebLogic as well as others</a></p>\n\n<p><a href=\"http://www.theserverside.com/discussions/thread.tss?thread_id=44353\" rel=\"noreferrer\">More info here</a></p>\n\n<p><a href=\"http://docs.oracle.com/middleware/1212/wls/WLPRG/topics.htm#sthref219\" rel=\"noreferrer\">And here</a></p>\n\n<p>Also somewhat duplicates <a href=\"https://stackoverflow.com/questions/532360/thread-in-app-server/532440#532440\">this one </a> from this morning</p>\n\n<p>UPDATE: Please note that this question and answer relate to the state of Java EE in 2009, things have improved since then!</p>\n"},{"tags":[],"owner":{"account_id":7421,"reputation":20226,"user_id":12890,"accept_rate":83,"display_name":"Arne Burmeister"},"comment_count":0,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1345615429,"creation_date":1234295324,"answer_id":533877,"question_id":533783,"body_markdown":"There is no real reason not to do so. I used [Quarz][1] with [Spring][2] in a webapp without problems. Also the concurrency framework `java.util.concurrent` may be used. If you implement your own thread handling, set the theads to [deamon][3] or use a own deamon thread group for them so the container may unload your webapp any time.\r\n\r\nBut be careful, the bean scopes *session* and *request* do not work in threads spawned! Also other code beased on [`ThreadLocal`][4] does not work out of the box, you need to transfer the values to the spawned threads by yourself.\r\n\r\n\r\n  [1]: http://www.quartz-scheduler.org/\r\n  [2]: http://www.springsource.org/\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/lang/Thread.html#setDaemon(boolean)\r\n  [4]: http://docs.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html","title":"Why is spawning threads in Java EE container discouraged?","body":"<p>There is no real reason not to do so. I used <a href=\"http://www.quartz-scheduler.org/\" rel=\"nofollow noreferrer\">Quarz</a> with <a href=\"http://www.springsource.org/\" rel=\"nofollow noreferrer\">Spring</a> in a webapp without problems. Also the concurrency framework <code>java.util.concurrent</code> may be used. If you implement your own thread handling, set the theads to <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Thread.html#setDaemon(boolean)\" rel=\"nofollow noreferrer\">deamon</a> or use a own deamon thread group for them so the container may unload your webapp any time.</p>\n\n<p>But be careful, the bean scopes <em>session</em> and <em>request</em> do not work in threads spawned! Also other code beased on <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html\" rel=\"nofollow noreferrer\"><code>ThreadLocal</code></a> does not work out of the box, you need to transfer the values to the spawned threads by yourself.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1234295762,"creation_date":1234295762,"answer_id":533909,"question_id":533783,"body_markdown":"You can always tell the container to start stuff as part of your deployment descriptors.  These can then do whatever maintainance tasks you need to do.\r\n\r\nFollow the rules.  You will be glad some day you did :)","title":"Why is spawning threads in Java EE container discouraged?","body":"<p>You can always tell the container to start stuff as part of your deployment descriptors.  These can then do whatever maintainance tasks you need to do.</p>\n\n<p>Follow the rules.  You will be glad some day you did :)</p>\n"},{"tags":[],"owner":{"account_id":6118,"reputation":2882,"user_id":10166,"accept_rate":50,"display_name":"Javamann"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1234305605,"creation_date":1234305605,"answer_id":534560,"question_id":533783,"body_markdown":"One reason I have found if you spawn some threads in you EJB and then you try to have the container unload or update your EJB you are going to run into problems. There is almost always another way to do something where you don&#39;t need a Thread so just say NO.","title":"Why is spawning threads in Java EE container discouraged?","body":"<p>One reason I have found if you spawn some threads in you EJB and then you try to have the container unload or update your EJB you are going to run into problems. There is almost always another way to do something where you don't need a Thread so just say NO.</p>\n"},{"comments":[{"owner":{"account_id":3057808,"reputation":4769,"user_id":2591088,"accept_rate":80,"display_name":"Chris Ritchie"},"score":3,"creation_date":1381929470,"post_id":534679,"comment_id":28762153,"body_markdown":"Java EE7 Concurrency Utils provide a correct way to create threads in an enterprise environment.\n\nExamples [here](http://blog.chris-ritchie.com/2013/09/simple-concurrency-example-with-wildfly.html) and [here](http://blog.chris-ritchie.com/2013/10/managed-thread-factory-example-in-wildfly.html)","body":"Java EE7 Concurrency Utils provide a correct way to create threads in an enterprise environment.  Examples <a href=\"http://blog.chris-ritchie.com/2013/09/simple-concurrency-example-with-wildfly.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"http://blog.chris-ritchie.com/2013/10/managed-thread-factory-example-in-wildfly.html\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":1658137,"reputation":26719,"user_id":1527084,"accept_rate":81,"display_name":"Geek"},"score":1,"creation_date":1401709445,"post_id":534679,"comment_id":36974612,"body_markdown":"@Dan Can you explain to me why a Thread would be significant barrier to the portability of moving an EJB from one machine in a custer to another?","body":"@Dan Can you explain to me why a Thread would be significant barrier to the portability of moving an EJB from one machine in a custer to another?"}],"tags":[],"owner":{"account_id":3579,"reputation":53945,"user_id":5171,"accept_rate":100,"display_name":"Dan Dyer"},"comment_count":2,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1234307218,"creation_date":1234307218,"answer_id":534679,"question_id":533783,"body_markdown":"For EJBs, it&#39;s not only discouraged, it&#39;s expressly forbidden by the [specification][1]:\r\n\r\n&gt; An enterprise bean must not use thread\r\n&gt; synchronization primitives to\r\n&gt; synchronize execution of multiple\r\n&gt; instances.\r\n\r\nand\r\n \r\n&gt; The enterprise bean must not attempt\r\n&gt; to manage threads.  The enterprise\r\n&gt; bean must not attempt to start, stop,\r\n&gt; suspend, or resume a thread, or to\r\n&gt; change a thread’s priority or name.\r\n&gt; The enterprise bean must not attempt\r\n&gt; to manage thread groups.\r\n\r\nThe reason is that EJBs are meant to operate in a distributed environment.  An EJB might be moved from one machine in a cluster to another.  Threads (and sockets and other restricted facilities) are a significant barrier to this portability.\r\n\r\n  \r\n\r\n[1]: http://jcp.org/aboutJava/communityprocess/final/jsr220/index.html","title":"Why is spawning threads in Java EE container discouraged?","body":"<p>For EJBs, it's not only discouraged, it's expressly forbidden by the <a href=\"http://jcp.org/aboutJava/communityprocess/final/jsr220/index.html\" rel=\"noreferrer\">specification</a>:</p>\n\n<blockquote>\n  <p>An enterprise bean must not use thread\n  synchronization primitives to\n  synchronize execution of multiple\n  instances.</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>The enterprise bean must not attempt\n  to manage threads.  The enterprise\n  bean must not attempt to start, stop,\n  suspend, or resume a thread, or to\n  change a thread’s priority or name.\n  The enterprise bean must not attempt\n  to manage thread groups.</p>\n</blockquote>\n\n<p>The reason is that EJBs are meant to operate in a distributed environment.  An EJB might be moved from one machine in a cluster to another.  Threads (and sockets and other restricted facilities) are a significant barrier to this portability.</p>\n"},{"tags":[],"owner":{"account_id":262137,"reputation":970,"user_id":546792,"display_name":"Ojitha"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1293101710,"creation_date":1293101710,"answer_id":4518090,"question_id":533783,"body_markdown":"Threads are prohibited in Java EE containers according to the blueprints. Please refer to the [blueprints][1]  for more information.\r\n\r\n\r\n  [1]: http://java.sun.com/blueprints/guidelines/designing_enterprise_applications/ejb_tier/qanda/restrictions.html","title":"Why is spawning threads in Java EE container discouraged?","body":"<p>Threads are prohibited in Java EE containers according to the blueprints. Please refer to the <a href=\"http://java.sun.com/blueprints/guidelines/designing_enterprise_applications/ejb_tier/qanda/restrictions.html\" rel=\"nofollow\">blueprints</a>  for more information.</p>\n"},{"tags":[],"owner":{"account_id":3057808,"reputation":4769,"user_id":2591088,"accept_rate":80,"display_name":"Chris Ritchie"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1464077261,"creation_date":1381929265,"answer_id":19404453,"question_id":533783,"body_markdown":"# Concurrency Utilities for Java EE\r\n\r\nThere is now a standard, and correct way to create threads with the core Java EE API:\r\n\r\n - [JSR 236: Concurrency Utilities for Java™ EE][1]\r\n\r\nBy using Concurrency Utils, you ensure that your new thread is created, and managed by the container, guaranteeing that all EE services are available.\r\n\r\nExamples [here](https://stackoverflow.com/questions/3212255/java-ee-specification-and-multi-threading/19404307#19404307)\r\n\r\n\r\n  [1]: https://jcp.org/en/jsr/detail?id=236","title":"Why is spawning threads in Java EE container discouraged?","body":"<h1>Concurrency Utilities for Java EE</h1>\n\n<p>There is now a standard, and correct way to create threads with the core Java EE API:</p>\n\n<ul>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=236\" rel=\"noreferrer\">JSR 236: Concurrency Utilities for Java™ EE</a></li>\n</ul>\n\n<p>By using Concurrency Utils, you ensure that your new thread is created, and managed by the container, guaranteeing that all EE services are available.</p>\n\n<p>Examples <a href=\"https://stackoverflow.com/questions/3212255/java-ee-specification-and-multi-threading/19404307#19404307\">here</a></p>\n"}],"owner":{"account_id":21692,"reputation":18582,"user_id":52954,"accept_rate":78,"display_name":"LiorH"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56804,"favorite_count":0,"down_vote_count":0,"up_vote_count":126,"accepted_answer_id":533847,"answer_count":9,"score":126,"last_activity_date":1689056931,"creation_date":1234293914,"question_id":533783,"body_markdown":"One of the first things I&#39;ve learned about Java EE development is that I shouldn&#39;t spawn my own threads inside a Java EE container. But when I come to think about it, I don&#39;t know the reason.\r\n\r\nCan you clearly explain why it is discouraged? \r\n\r\nI am sure most enterprise applications need some kind of asynchronous jobs like mail daemons, idle sessions, cleanup jobs, etc.\r\n\r\nSo, if indeed one shouldn&#39;t spawn threads, what is the correct way to do it when needed?","title":"Why is spawning threads in Java EE container discouraged?","body":"<p>One of the first things I've learned about Java EE development is that I shouldn't spawn my own threads inside a Java EE container. But when I come to think about it, I don't know the reason.</p>\n<p>Can you clearly explain why it is discouraged?</p>\n<p>I am sure most enterprise applications need some kind of asynchronous jobs like mail daemons, idle sessions, cleanup jobs, etc.</p>\n<p>So, if indeed one shouldn't spawn threads, what is the correct way to do it when needed?</p>\n"},{"tags":["java","android","android-recyclerview","android-viewpager","scrollview"],"owner":{"account_id":28581985,"reputation":1,"user_id":21882810,"display_name":"Remo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689056490,"creation_date":1689056180,"question_id":76659158,"body_markdown":"In my profile page I have StickyScrollview and viewpager in which I have two fragments each of which attach with recyclerview. Im trying to implement StickySroll and want to achive same like one instagram and whatsapp have but it not working properly as it only scroll view pager content but i want if I scroll then it first header get stick to top and then the viewpager scroll just like instagrama and some other socila media app have.\r\n\r\nI used this library &#39;implementation &#39;com.github.amarjain07:StickyScrollView:1.0.2&#39;\r\n\r\n\r\nThis is my code\r\n   \r\n\r\n \r\n\r\n    &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.fragment_home&quot;&gt;\r\n        \r\n          &lt;com.amar.library.ui.StickyScrollView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:stickyHeader=&quot;@id/linearLayoutCompat9&quot;\r\n            app:stickyFooter=&quot;@id/viewpager&quot;\r\n            android:fillViewport=&quot;true&quot;\r\n            &gt;\r\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n    \r\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                    android:id=&quot;@+id/textView&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n    \r\n                    &lt;com.google.android.material.appbar.MaterialToolbar\r\n                        android:id=&quot;@+id/toolbar&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;?android:actionBarSize&quot;\r\n                        android:background=&quot;#BAFFFFFF&quot;\r\n                        android:elevation=&quot;1dp&quot;\r\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                        app:title=&quot;My Profile&quot;&gt;\r\n    \r\n                    &lt;/com.google.android.material.appbar.MaterialToolbar&gt;\r\n    \r\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n    \r\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                    android:id=&quot;@+id/linearLayoutCompat3&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginTop=&quot;15dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot;\r\n                    app:layout_constraintVertical_bias=&quot;0.0&quot;&gt;\r\n    \r\n                    &lt;com.google.android.material.card.MaterialCardView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:backgroundTint=&quot;@color/black&quot;\r\n                        app:cardCornerRadius=&quot;80dp&quot;\r\n                        app:cardElevation=&quot;1dp&quot;&gt;\r\n    \r\n                        &lt;de.hdodenhof.circleimageview.CircleImageView\r\n                            android:id=&quot;@+id/profile_image&quot;\r\n                            android:layout_width=&quot;100dp&quot;\r\n                            android:layout_height=&quot;100dp&quot;\r\n                            android:src=&quot;@drawable/johnnynew&quot; /&gt;\r\n    \r\n    \r\n                    &lt;/com.google.android.material.card.MaterialCardView&gt;\r\n    \r\n                    &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_gravity=&quot;center&quot;\r\n                        android:gravity=&quot;center&quot;&gt;\r\n    \r\n    \r\n                        &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                            android:id=&quot;@+id/Followers&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;center&quot;\r\n                            android:layout_marginEnd=&quot;30dp&quot;\r\n                            android:gravity=&quot;center&quot;\r\n                            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                            &lt;TextView\r\n                                android:id=&quot;@+id/followers_number&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:text=&quot;1089&quot;\r\n                                android:textColor=&quot;@color/black&quot;\r\n                                android:textSize=&quot;15sp&quot; /&gt;\r\n    \r\n                            &lt;TextView\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginTop=&quot;5dp&quot;\r\n                                android:text=&quot;Followers&quot;\r\n                                android:textColor=&quot;#858181&quot;\r\n                                android:textSize=&quot;16sp&quot;\r\n    \r\n                                /&gt;\r\n    \r\n    \r\n                        &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n    \r\n                    &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n    \r\n               \r\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n    \r\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                    android:id=&quot;@+id/linearLayoutCompat9&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;20dp&quot;\r\n                    android:orientation=&quot;vertical&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayoutCompat8&quot;&gt;\r\n    \r\n                    &lt;com.google.android.material.tabs.TabLayout\r\n                        android:id=&quot;@+id/tabLayout&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;47dp&quot;\r\n                        android:background=&quot;@android:color/transparent&quot;\r\n                        android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark&quot;\r\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toBottomOf=&quot;@+id/toolbar&quot;\r\n                        app:tabIconTint=&quot;#74FFFFFF&quot;\r\n                        app:tabIndicatorAnimationMode=&quot;elastic&quot;\r\n                        app:tabIndicatorColor=&quot;#A1000000&quot;\r\n                        app:tabSelectedTextColor=&quot;@color/black&quot;\r\n                        app:tabTextColor=&quot;#838383&quot;&gt;\r\n    \r\n    \r\n                        &lt;com.google.android.material.tabs.TabItem\r\n                            android:id=&quot;@+id/firstIt&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:text=&quot;Post&quot; /&gt;\r\n    \r\n                        &lt;com.google.android.material.tabs.TabItem\r\n                            android:id=&quot;@+id/firstItem&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:text=&quot;QnA&quot; /&gt;\r\n    \r\n    \r\n                    &lt;/com.google.android.material.tabs.TabLayout&gt;\r\n    \r\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n    \r\n            &lt;androidx.viewpager.widget.ViewPager\r\n                android:id=&quot;@+id/viewpager&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:visibility=&quot;visible&quot;\r\n                android:paddingBottom=&quot;50dp&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayoutCompat9&quot;\r\n                tools:ignore=&quot;NotSibling&quot; /&gt;\r\n    \r\n    \r\n    \r\n      \r\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n    \r\n    \r\n        &lt;/com.amar.library.ui.StickyScrollView&gt;\r\n    \r\n        &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\nI tried by changing main layout from linear to contraint even after from constraint to StickyScroll but nothing works. \r\n\r\n\r\n","title":"Trying to apply StickyScroll with Viewpager","body":"<p>In my profile page I have StickyScrollview and viewpager in which I have two fragments each of which attach with recyclerview. Im trying to implement StickySroll and want to achive same like one instagram and whatsapp have but it not working properly as it only scroll view pager content but i want if I scroll then it first header get stick to top and then the viewpager scroll just like instagrama and some other socila media app have.</p>\n<p>I used this library 'implementation 'com.github.amarjain07:StickyScrollView:1.0.2'</p>\n<p>This is my code</p>\n<pre><code>&lt;androidx.appcompat.widget.LinearLayoutCompat\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.fragment_home&quot;&gt;\n    \n      &lt;com.amar.library.ui.StickyScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:stickyHeader=&quot;@id/linearLayoutCompat9&quot;\n        app:stickyFooter=&quot;@id/viewpager&quot;\n        android:fillViewport=&quot;true&quot;\n        &gt;\n        &lt;androidx.appcompat.widget.LinearLayoutCompat\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\n                android:id=&quot;@+id/textView&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:gravity=&quot;center&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n\n                &lt;com.google.android.material.appbar.MaterialToolbar\n                    android:id=&quot;@+id/toolbar&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;?android:actionBarSize&quot;\n                    android:background=&quot;#BAFFFFFF&quot;\n                    android:elevation=&quot;1dp&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                    app:title=&quot;My Profile&quot;&gt;\n\n                &lt;/com.google.android.material.appbar.MaterialToolbar&gt;\n\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\n                android:id=&quot;@+id/linearLayoutCompat3&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:layout_marginTop=&quot;15dp&quot;\n                android:layout_marginRight=&quot;10dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot;\n                app:layout_constraintVertical_bias=&quot;0.0&quot;&gt;\n\n                &lt;com.google.android.material.card.MaterialCardView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:backgroundTint=&quot;@color/black&quot;\n                    app:cardCornerRadius=&quot;80dp&quot;\n                    app:cardElevation=&quot;1dp&quot;&gt;\n\n                    &lt;de.hdodenhof.circleimageview.CircleImageView\n                        android:id=&quot;@+id/profile_image&quot;\n                        android:layout_width=&quot;100dp&quot;\n                        android:layout_height=&quot;100dp&quot;\n                        android:src=&quot;@drawable/johnnynew&quot; /&gt;\n\n\n                &lt;/com.google.android.material.card.MaterialCardView&gt;\n\n                &lt;androidx.appcompat.widget.LinearLayoutCompat\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:gravity=&quot;center&quot;&gt;\n\n\n                    &lt;androidx.appcompat.widget.LinearLayoutCompat\n                        android:id=&quot;@+id/Followers&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_gravity=&quot;center&quot;\n                        android:layout_marginEnd=&quot;30dp&quot;\n                        android:gravity=&quot;center&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n\n                        &lt;TextView\n                            android:id=&quot;@+id/followers_number&quot;\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:text=&quot;1089&quot;\n                            android:textColor=&quot;@color/black&quot;\n                            android:textSize=&quot;15sp&quot; /&gt;\n\n                        &lt;TextView\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_marginTop=&quot;5dp&quot;\n                            android:text=&quot;Followers&quot;\n                            android:textColor=&quot;#858181&quot;\n                            android:textSize=&quot;16sp&quot;\n\n                            /&gt;\n\n\n                    &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n                &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n           \n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\n                android:id=&quot;@+id/linearLayoutCompat9&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:orientation=&quot;vertical&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayoutCompat8&quot;&gt;\n\n                &lt;com.google.android.material.tabs.TabLayout\n                    android:id=&quot;@+id/tabLayout&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;47dp&quot;\n                    android:background=&quot;@android:color/transparent&quot;\n                    android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintHorizontal_bias=&quot;1.0&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/toolbar&quot;\n                    app:tabIconTint=&quot;#74FFFFFF&quot;\n                    app:tabIndicatorAnimationMode=&quot;elastic&quot;\n                    app:tabIndicatorColor=&quot;#A1000000&quot;\n                    app:tabSelectedTextColor=&quot;@color/black&quot;\n                    app:tabTextColor=&quot;#838383&quot;&gt;\n\n\n                    &lt;com.google.android.material.tabs.TabItem\n                        android:id=&quot;@+id/firstIt&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;Post&quot; /&gt;\n\n                    &lt;com.google.android.material.tabs.TabItem\n                        android:id=&quot;@+id/firstItem&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:text=&quot;QnA&quot; /&gt;\n\n\n                &lt;/com.google.android.material.tabs.TabLayout&gt;\n\n        &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n        &lt;androidx.viewpager.widget.ViewPager\n            android:id=&quot;@+id/viewpager&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:visibility=&quot;visible&quot;\n            android:paddingBottom=&quot;50dp&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayoutCompat9&quot;\n            tools:ignore=&quot;NotSibling&quot; /&gt;\n\n\n\n  \n        &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n\n    &lt;/com.amar.library.ui.StickyScrollView&gt;\n\n    &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n</code></pre>\n<p>I tried by changing main layout from linear to contraint even after from constraint to StickyScroll but nothing works.</p>\n"},{"tags":["java","binding","lombok","mapstruct"],"comments":[{"owner":{"account_id":17441145,"reputation":178,"user_id":12643143,"display_name":"RAMU"},"score":0,"creation_date":1577994991,"post_id":59569205,"comment_id":105306281,"body_markdown":"https://mapstruct.org/documentation/stable/reference/html/#mapping-with-builders","body":"<a href=\"https://mapstruct.org/documentation/stable/reference/html/#mapping-with-builders\" rel=\"nofollow noreferrer\">mapstruct.org/documentation/stable/reference/html/&hellip;</a>"},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1578014746,"post_id":59569205,"comment_id":105311906,"body_markdown":"I&#39;m pretty sure you&#39;re not using Lombok for your builder, because then you won&#39;t get those `with`-prefixed methods. And I think the prefix is the problem.","body":"I&#39;m pretty sure you&#39;re not using Lombok for your builder, because then you won&#39;t get those <code>with</code>-prefixed methods. And I think the prefix is the problem."},{"owner":{"account_id":17441145,"reputation":178,"user_id":12643143,"display_name":"RAMU"},"score":0,"creation_date":1578041802,"post_id":59569205,"comment_id":105318029,"body_markdown":"We use a modified version of Lombok and the pattern that I have mentioned above is a @Wither. https://projectlombok.org/features/With","body":"We use a modified version of Lombok and the pattern that I have mentioned above is a @Wither. <a href=\"https://projectlombok.org/features/With\" rel=\"nofollow noreferrer\">projectlombok.org/features/With</a>"},{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1578118799,"post_id":59569205,"comment_id":105342832,"body_markdown":"When using the Lombok Wither then only the class methods are prefixed, nit the builder ones. Can you please provide your classes with the Lombok annotations as well?","body":"When using the Lombok Wither then only the class methods are prefixed, nit the builder ones. Can you please provide your classes with the Lombok annotations as well?"},{"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"score":1,"creation_date":1578338133,"post_id":59569205,"comment_id":105398803,"body_markdown":"can you try adding an empty constructor in the class? then maybe mapstruct will create a new APIResponse() using the empty constructor and use it to do the mapping. If it does not work then disable the builder using @Mapper(builder = @Builder(disableBuilder = true))","body":"can you try adding an empty constructor in the class? then maybe mapstruct will create a new APIResponse() using the empty constructor and use it to do the mapping. If it does not work then disable the builder using @Mapper(builder = @Builder(disableBuilder = true))"},{"owner":{"account_id":16391404,"reputation":668,"user_id":11840059,"display_name":"Mykola Korol"},"score":0,"creation_date":1579639660,"post_id":59569205,"comment_id":105831334,"body_markdown":"Please provide example with full set of annotations. But I suggest you adding Lombok&#39;s `@NoArgsConstructor`. then `APIResponse mapLibraryToAPI(LibraryResponse source);` should work like a charm as your names are matched.","body":"Please provide example with full set of annotations. But I suggest you adding Lombok&#39;s <code>@NoArgsConstructor</code>. then <code>APIResponse mapLibraryToAPI(LibraryResponse source);</code> should work like a charm as your names are matched."}],"answers":[{"tags":[],"owner":{"account_id":17441145,"reputation":178,"user_id":12643143,"display_name":"RAMU"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1591729878,"creation_date":1591729878,"answer_id":62290160,"question_id":59569205,"body_markdown":"Create a Mapstruct Mapper which doesn&#39;t use builder methods on target type to create mapper methods.\r\n\r\nNonBuilderMapperConfig.java\r\n\r\n```\r\nimport org.mapstruct.Builder;\r\nimport org.mapstruct.MapperConfig;\r\n\r\n@MapperConfig(builder = @Builder(disableBuilder = true))\r\npublic interface NonBuilderMapperConfig {\r\n}\r\n```\r\n\r\nNow extend the mapper on which you want withers.\r\n```\r\n@Mapper(config = NonBuilderMapperConfig.class)\r\npublic interface APIMapper{\r\n\r\n//Now all withers will be binded automatically\r\nAPIResponse mapLibraryToAPI(LibraryResponse source);\r\n}\r\n```\r\n\r\n\r\nIn case if you do not want Builder in your project at all and you are binding only @Wither in your project you can disable Builder by creating a file ```META-INF/services/org.mapstruct.ap.spi.BuilderProvider``` with value ```org.mapstruct.ap.spi.NoOpBuilderProvider``` in your project. Refer [Documentation](https://mapstruct.org/documentation/dev/reference/html/#mapping-with-builders) for more details","title":"MapStruct Problem binding to a class with getter and Builder classes","body":"<p>Create a Mapstruct Mapper which doesn't use builder methods on target type to create mapper methods.</p>\n\n<p>NonBuilderMapperConfig.java</p>\n\n<pre><code>import org.mapstruct.Builder;\nimport org.mapstruct.MapperConfig;\n\n@MapperConfig(builder = @Builder(disableBuilder = true))\npublic interface NonBuilderMapperConfig {\n}\n</code></pre>\n\n<p>Now extend the mapper on which you want withers.</p>\n\n<pre><code>@Mapper(config = NonBuilderMapperConfig.class)\npublic interface APIMapper{\n\n//Now all withers will be binded automatically\nAPIResponse mapLibraryToAPI(LibraryResponse source);\n}\n</code></pre>\n\n<p>In case if you do not want Builder in your project at all and you are binding only @Wither in your project you can disable Builder by creating a file <code>META-INF/services/org.mapstruct.ap.spi.BuilderProvider</code> with value <code>org.mapstruct.ap.spi.NoOpBuilderProvider</code> in your project. Refer <a href=\"https://mapstruct.org/documentation/dev/reference/html/#mapping-with-builders\" rel=\"nofollow noreferrer\">Documentation</a> for more details</p>\n"},{"tags":[],"owner":{"account_id":1380531,"reputation":956,"user_id":1313638,"display_name":"Anna T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689055859,"creation_date":1689055859,"answer_id":76659120,"question_id":59569205,"body_markdown":"Sharing in case someone else is looking for this but the above solution doesn&#39;t work for them (as it didn&#39;t for me) - but my use case is potentially slightly different:\r\n\r\n - Target object does have the &quot;whithers&quot; setter methods (so when source field is &quot;myField&quot; corresponding target is &quot;withMyField&quot;)\r\n - However, we&#39;re using auto-builder frameworks (like Immutables and Lombok), so the Builder is fine/we don&#39;t want to disable it\r\n\r\nWhat _did_ work is the use of [MapStruct Accessor Naming Strategy](https://mapstruct.org/documentation/stable/reference/html/#_custom_accessor_naming_strategy).\r\n\r\nThis is Example 104 from the above link:\r\n\r\n```java\r\npublic class CustomAccessorNamingStrategy extends DefaultAccessorNamingStrategy {\r\n\r\n    @Override\r\n    public boolean isGetterMethod(ExecutableElement method) {\r\n        String methodName = method.getSimpleName().toString();\r\n        return !methodName.startsWith( &quot;with&quot; ) &amp;&amp; method.getReturnType().getKind() != TypeKind.VOID;\r\n    }\r\n\r\n    @Override\r\n    public boolean isSetterMethod(ExecutableElement method) {\r\n        String methodName = method.getSimpleName().toString();\r\n        return methodName.startsWith( &quot;with&quot; ) &amp;&amp; methodName.length() &gt; 4;\r\n    }\r\n\r\n    @Override\r\n    public String getPropertyName(ExecutableElement getterOrSetterMethod) {\r\n        String methodName = getterOrSetterMethod.getSimpleName().toString();\r\n        return IntrospectorUtils.decapitalize( methodName.startsWith( &quot;with&quot; ) ? methodName.substring(  4 ) : methodName );\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nI think if it&#39;s in same package as your code, it should just work - haven&#39;t tested this though. We&#39;re using it as an external package.\r\n\r\nIf it&#39;s an external library package, make sure to vend it out. E.g.:\r\n\r\nSample package structure:\r\n\r\n```\r\nsrc\r\n|\r\n - my/lib/name/CustomAccessorNamingStrategy.java\r\n - META-INF/services/org.mapstruct.ap.spi.AccessorNamingStrategy\r\n```\r\nMake sure that `META-INF/services/org.mapstruct.ap.spi.AccessorNamingStrategy` path and naming is exact or it won&#39;t be discovered\r\n\r\nThen inside the `org.mapstruct.ap.spi.AccessorNamingStrategy` you should have this 1 line:\r\n\r\n```\r\nmy.lib.name.CustomAccessorNamingStrategy\r\n```\r\n","title":"MapStruct Problem binding to a class with getter and Builder classes","body":"<p>Sharing in case someone else is looking for this but the above solution doesn't work for them (as it didn't for me) - but my use case is potentially slightly different:</p>\n<ul>\n<li>Target object does have the &quot;whithers&quot; setter methods (so when source field is &quot;myField&quot; corresponding target is &quot;withMyField&quot;)</li>\n<li>However, we're using auto-builder frameworks (like Immutables and Lombok), so the Builder is fine/we don't want to disable it</li>\n</ul>\n<p>What <em>did</em> work is the use of <a href=\"https://mapstruct.org/documentation/stable/reference/html/#_custom_accessor_naming_strategy\" rel=\"nofollow noreferrer\">MapStruct Accessor Naming Strategy</a>.</p>\n<p>This is Example 104 from the above link:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomAccessorNamingStrategy extends DefaultAccessorNamingStrategy {\n\n    @Override\n    public boolean isGetterMethod(ExecutableElement method) {\n        String methodName = method.getSimpleName().toString();\n        return !methodName.startsWith( &quot;with&quot; ) &amp;&amp; method.getReturnType().getKind() != TypeKind.VOID;\n    }\n\n    @Override\n    public boolean isSetterMethod(ExecutableElement method) {\n        String methodName = method.getSimpleName().toString();\n        return methodName.startsWith( &quot;with&quot; ) &amp;&amp; methodName.length() &gt; 4;\n    }\n\n    @Override\n    public String getPropertyName(ExecutableElement getterOrSetterMethod) {\n        String methodName = getterOrSetterMethod.getSimpleName().toString();\n        return IntrospectorUtils.decapitalize( methodName.startsWith( &quot;with&quot; ) ? methodName.substring(  4 ) : methodName );\n    }\n}\n\n\n</code></pre>\n<p>I think if it's in same package as your code, it should just work - haven't tested this though. We're using it as an external package.</p>\n<p>If it's an external library package, make sure to vend it out. E.g.:</p>\n<p>Sample package structure:</p>\n<pre><code>src\n|\n - my/lib/name/CustomAccessorNamingStrategy.java\n - META-INF/services/org.mapstruct.ap.spi.AccessorNamingStrategy\n</code></pre>\n<p>Make sure that <code>META-INF/services/org.mapstruct.ap.spi.AccessorNamingStrategy</code> path and naming is exact or it won't be discovered</p>\n<p>Then inside the <code>org.mapstruct.ap.spi.AccessorNamingStrategy</code> you should have this 1 line:</p>\n<pre><code>my.lib.name.CustomAccessorNamingStrategy\n</code></pre>\n"}],"owner":{"account_id":17441145,"reputation":178,"user_id":12643143,"display_name":"RAMU"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2975,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62290160,"answer_count":2,"score":3,"last_activity_date":1689055859,"creation_date":1577994775,"question_id":59569205,"body_markdown":"I am using MapStruct in my project as a binding framework and I am facing problem binding objects.\r\n\r\nBelow is my LibraryResponse Class.\r\n\r\n    public class LibraryResponse{\r\n      private String var1;\r\n      private String var2;\r\n      ...\r\n      private String var20;\r\n      //Setters and Getters for the 20 varibles using Lombok. These are auto generated\r\n    }\r\n\r\nBelow is my APIResponse Class.\r\n\r\n    public class APIResponse{\r\n      private String var1;\r\n      private String var2;\r\n      ...\r\n      private String var20;\r\n      //Setters and Getters for the 20 varibles. These are auto generated\r\n      \r\n      public static Builder builder() { // Auto generated builder class\r\n          return new Builder();\r\n      }\r\n      public static class Builder { // These are auto generated as well\r\n        private String var1;\r\n        private String var2;\r\n        ...\r\n        private String var20;\r\n        public Builder withVar1(String var1) {\r\n          this.var1 = var1;\r\n          return this;\r\n        }\r\n        ...\r\n        public Builder withVar20(String var20) {\r\n          this.var20= var20;\r\n          return this;\r\n        }\r\n      }\r\n    }\r\n\r\nI want to bind LibraryResponse object to APIResponse object.\r\n\r\nFollowing is my mapper class, but this not working as MapStruct is trying to find variable of builder class. I am getting compile warning &quot;Unmapped target properties: withVar1,withVar2....withVar20&quot;\r\n\r\n    @Mapper\r\n    interface APIMapper {\r\n      APIResponse mapLibraryToAPI(LibraryResponse source);\r\n    }\r\n\r\nThe mapper is compiling fine if I use below mapper class (or) If I delete Builder class/methods from APIResponse and use above mapper class.\r\n\r\n    @Mapper\r\n    interface APIMapper {\r\n      @Mapping(target=&quot;withVar1&quot;,source=&quot;var1&quot;)\r\n      ...\r\n      @Mapping(target=&quot;withVar20&quot;,source=&quot;var20&quot;)\r\n      APIResponse mapLibraryToAPI(LibraryResponse source);\r\n    }\r\n\r\nBut I don&#39;t want to write 20 lines of code. Is there any way to tellMapStruct to use getters instead of Builder class?","title":"MapStruct Problem binding to a class with getter and Builder classes","body":"<p>I am using MapStruct in my project as a binding framework and I am facing problem binding objects.</p>\n\n<p>Below is my LibraryResponse Class.</p>\n\n<pre><code>public class LibraryResponse{\n  private String var1;\n  private String var2;\n  ...\n  private String var20;\n  //Setters and Getters for the 20 varibles using Lombok. These are auto generated\n}\n</code></pre>\n\n<p>Below is my APIResponse Class.</p>\n\n<pre><code>public class APIResponse{\n  private String var1;\n  private String var2;\n  ...\n  private String var20;\n  //Setters and Getters for the 20 varibles. These are auto generated\n\n  public static Builder builder() { // Auto generated builder class\n      return new Builder();\n  }\n  public static class Builder { // These are auto generated as well\n    private String var1;\n    private String var2;\n    ...\n    private String var20;\n    public Builder withVar1(String var1) {\n      this.var1 = var1;\n      return this;\n    }\n    ...\n    public Builder withVar20(String var20) {\n      this.var20= var20;\n      return this;\n    }\n  }\n}\n</code></pre>\n\n<p>I want to bind LibraryResponse object to APIResponse object.</p>\n\n<p>Following is my mapper class, but this not working as MapStruct is trying to find variable of builder class. I am getting compile warning \"Unmapped target properties: withVar1,withVar2....withVar20\"</p>\n\n<pre><code>@Mapper\ninterface APIMapper {\n  APIResponse mapLibraryToAPI(LibraryResponse source);\n}\n</code></pre>\n\n<p>The mapper is compiling fine if I use below mapper class (or) If I delete Builder class/methods from APIResponse and use above mapper class.</p>\n\n<pre><code>@Mapper\ninterface APIMapper {\n  @Mapping(target=\"withVar1\",source=\"var1\")\n  ...\n  @Mapping(target=\"withVar20\",source=\"var20\")\n  APIResponse mapLibraryToAPI(LibraryResponse source);\n}\n</code></pre>\n\n<p>But I don't want to write 20 lines of code. Is there any way to tellMapStruct to use getters instead of Builder class?</p>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":6118821,"reputation":962,"user_id":7231339,"display_name":"Michael Sch&#246;nbauer"},"score":0,"creation_date":1689055604,"post_id":76659022,"comment_id":135154949,"body_markdown":"Does this answer your question? [JPA Lazy loading is not working in Spring boot](https://stackoverflow.com/questions/55702642/jpa-lazy-loading-is-not-working-in-spring-boot)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55702642/jpa-lazy-loading-is-not-working-in-spring-boot\">JPA Lazy loading is not working in Spring boot</a>"}],"answers":[{"tags":[],"owner":{"account_id":6118821,"reputation":962,"user_id":7231339,"display_name":"Michael Sch&#246;nbauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689055564,"creation_date":1689055564,"answer_id":76659092,"question_id":76659022,"body_markdown":"from [the documentation][1], we find out that FetchType.LAZY means, that data CAN be lazily fetched. \r\n\r\nIt does not enforce that it will be lazily fetched, the decision when an entity is delivered as a whole is taken by the framework, and these decision usually make good sense. \r\n\r\nEspecially in your case, with a 1:1 relationship, the framework will deliver the entity expanded in most cases.\r\n\r\nEasiest way to force it to be lazy is to make it 1:n. (not recommending that tho)\r\n\r\nFor more information look at [that blog][2]\r\n\r\nThere are some ways to force it to use Lazy loaded.\r\n\r\nAlso, this is maybe a duplicate of [this question][3]\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/jpa/2.2/api/javax/persistence/FetchType.html\r\n  [2]: http://justonjava.blogspot.com/2010/09/lazy-one-to-one-and-one-to-many.html?_sm_au_=iVV024RFR7M6QSjrK82BvK0JskMpq\r\n  [3]: https://stackoverflow.com/questions/55702642/jpa-lazy-loading-is-not-working-in-spring-boot","title":"JPA LAZY loading test case","body":"<p>from <a href=\"https://docs.jboss.org/hibernate/jpa/2.2/api/javax/persistence/FetchType.html\" rel=\"nofollow noreferrer\">the documentation</a>, we find out that FetchType.LAZY means, that data CAN be lazily fetched.</p>\n<p>It does not enforce that it will be lazily fetched, the decision when an entity is delivered as a whole is taken by the framework, and these decision usually make good sense.</p>\n<p>Especially in your case, with a 1:1 relationship, the framework will deliver the entity expanded in most cases.</p>\n<p>Easiest way to force it to be lazy is to make it 1:n. (not recommending that tho)</p>\n<p>For more information look at <a href=\"http://justonjava.blogspot.com/2010/09/lazy-one-to-one-and-one-to-many.html?_sm_au_=iVV024RFR7M6QSjrK82BvK0JskMpq\" rel=\"nofollow noreferrer\">that blog</a></p>\n<p>There are some ways to force it to use Lazy loaded.</p>\n<p>Also, this is maybe a duplicate of <a href=\"https://stackoverflow.com/questions/55702642/jpa-lazy-loading-is-not-working-in-spring-boot\">this question</a></p>\n"}],"owner":{"account_id":2583535,"reputation":445,"user_id":2239719,"accept_rate":77,"display_name":"matel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689055564,"creation_date":1689054873,"question_id":76659022,"body_markdown":"I have a contract entity which has oneToOne mapping with generatorState entity\r\n\r\nI save one contract, it works and save the contract and the generatorState\r\nHowever when I get the contract in Postman I have the details of the generatorState while I try to set it up as LAZY\r\n\r\nCan someone please shed some lights on how to get the contract entity with/without the generatorState detailled\r\n\r\nMain\r\n\r\n         @Override\r\n        public void run(String... args) throws Exception {\r\n    \r\n            Contract c1 = new Contract (60,&quot;TSTE&quot;);\r\n    \r\n    //        GeneratorState gs = new GeneratorState(60,100);\r\n    //        c.setGeneratorState(gs);\r\n    //\r\n    //        contractRepository.save(c);\r\n    //        Contract c2 = contractRepository.findById(60).get();\r\n    //        System.out.println(&quot;coucou&quot;);\r\n     \r\n        }\r\n\r\n\r\n\r\nContract entity\r\n\r\n    @Entity\r\n    @Data\r\n    @NoArgsConstructor\r\n    @Table(name=&quot;contracts&quot;)\r\n    public class Contract {\r\n    \r\n        @Id\r\n        int id;\r\n    \r\n        String symbol;\r\n    \r\n        @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n        @JoinColumn(name =&quot;id&quot;)\r\n        private GeneratorState generatorState;\r\n    \r\n        public Contract(int id, String symbol) {\r\n            this.id = id;\r\n            this.symbol = symbol;\r\n        }\r\n    \r\n        @JsonIgnore\r\n        @CreationTimestamp\r\n        @Column(nullable = false, updatable = false, columnDefinition = &quot;TIMESTAMP WITH TIME ZONE&quot;)\r\n        private ZonedDateTime createdOn;\r\n    \r\n    \r\n        @JsonIgnore\r\n        @UpdateTimestamp\r\n        @Column(nullable = false, columnDefinition = &quot;TIMESTAMP WITH TIME ZONE&quot;)\r\n        private ZonedDateTime updatedOn;\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nGeneratorState\r\n\r\n\r\n    @Entity\r\n    @Table(name=&quot;state_generator&quot;)\r\n    @NoArgsConstructor\r\n    public class GeneratorState {\r\n    \r\n        @Id\r\n        int generatorId;\r\n    \r\n        public int getGeneratorId() {\r\n            return generatorId;\r\n        }\r\n    \r\n        public double getLastPrice() {\r\n            return lastPrice;\r\n        }\r\n    \r\n        double lastPrice;\r\n    \r\n        @JsonIgnore\r\n        @OneToOne(mappedBy = &quot;generatorState&quot;)\r\n        Contract contract;\r\n    \r\n        public GeneratorState(int generatorId, double lastPrice) {\r\n            this.generatorId = generatorId;\r\n            this.lastPrice = lastPrice;\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mk5EU.png","title":"JPA LAZY loading test case","body":"<p>I have a contract entity which has oneToOne mapping with generatorState entity</p>\n<p>I save one contract, it works and save the contract and the generatorState\nHowever when I get the contract in Postman I have the details of the generatorState while I try to set it up as LAZY</p>\n<p>Can someone please shed some lights on how to get the contract entity with/without the generatorState detailled</p>\n<p>Main</p>\n<pre><code>     @Override\n    public void run(String... args) throws Exception {\n\n        Contract c1 = new Contract (60,&quot;TSTE&quot;);\n\n//        GeneratorState gs = new GeneratorState(60,100);\n//        c.setGeneratorState(gs);\n//\n//        contractRepository.save(c);\n//        Contract c2 = contractRepository.findById(60).get();\n//        System.out.println(&quot;coucou&quot;);\n \n    }\n</code></pre>\n<p>Contract entity</p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n@Table(name=&quot;contracts&quot;)\npublic class Contract {\n\n    @Id\n    int id;\n\n    String symbol;\n\n    @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JoinColumn(name =&quot;id&quot;)\n    private GeneratorState generatorState;\n\n    public Contract(int id, String symbol) {\n        this.id = id;\n        this.symbol = symbol;\n    }\n\n    @JsonIgnore\n    @CreationTimestamp\n    @Column(nullable = false, updatable = false, columnDefinition = &quot;TIMESTAMP WITH TIME ZONE&quot;)\n    private ZonedDateTime createdOn;\n\n\n    @JsonIgnore\n    @UpdateTimestamp\n    @Column(nullable = false, columnDefinition = &quot;TIMESTAMP WITH TIME ZONE&quot;)\n    private ZonedDateTime updatedOn;\n\n\n\n}\n</code></pre>\n<p>GeneratorState</p>\n<pre><code>@Entity\n@Table(name=&quot;state_generator&quot;)\n@NoArgsConstructor\npublic class GeneratorState {\n\n    @Id\n    int generatorId;\n\n    public int getGeneratorId() {\n        return generatorId;\n    }\n\n    public double getLastPrice() {\n        return lastPrice;\n    }\n\n    double lastPrice;\n\n    @JsonIgnore\n    @OneToOne(mappedBy = &quot;generatorState&quot;)\n    Contract contract;\n\n    public GeneratorState(int generatorId, double lastPrice) {\n        this.generatorId = generatorId;\n        this.lastPrice = lastPrice;\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mk5EU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mk5EU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["javascript","java","gwt","google-visualization"],"owner":{"account_id":1424629,"reputation":433,"user_id":1348487,"accept_rate":89,"display_name":"Hansj&#246;rg Hofer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689055474,"creation_date":1689055474,"question_id":76659087,"body_markdown":"Hi i have a googlee timeline chart\r\n\r\n```\r\n private static native Promise setDataToChart(Object[] objects1)/*-{\r\n        // Load the Visualization API and the piechart package.\r\n        $wnd.google.charts.load(&quot;current&quot;, {packages: [&quot;timeline&quot;]});\r\n        $wnd.google.charts.setOnLoadCallback(drawChart(objects1));\r\n\r\n        function drawChart(obj1) {\r\n            var container = $wnd.document.getElementById(&#39;timeline&#39;);\r\n            var chart = new $wnd.google.visualization.Timeline(container);\r\n            var dataTable = new $wnd.google.visualization.DataTable();\r\n            dataTable.addColumn({type: &#39;string&#39;, id: &#39;Role&#39;});\r\n            dataTable.addColumn({type: &#39;string&#39;, id: &#39;Name&#39;});\r\n            dataTable.addColumn({type: &#39;string&#39;, id: &#39;style&#39;, role: &#39;style&#39;});\r\n            dataTable.addColumn({type: &#39;date&#39;, id: &#39;Start&#39;});\r\n            dataTable.addColumn({type: &#39;date&#39;, id: &#39;End&#39;});\r\n\r\n            dataTable.addRows(obj1);\r\n\r\n            var options = {\r\n                title: &#39;Rate the Day on a Scale of 1 to 10&#39;,\r\n\r\n                hAxis: {\r\n                    format: &#39;dd/MM/yyyy&#39;\r\n                }\r\n            };\r\n\r\n            chart.draw(dataTable, options);\r\n\r\n            // Hide empthy items\r\n            var rects = $wnd.document.getElementsByTagName(&#39;rect&#39;);\r\n            for (var i = 0; i &lt; rects.length; i++) {\r\n                if (rects[i].getAttribute(&quot;fill&quot;) === &quot;#f44336&quot;) {\r\n                    rects[i].setAttribute(&quot;display&quot;, &quot;none&quot;);\r\n                }\r\n            }\r\n        }\r\n\r\n    }-*/;\r\n```\r\n\r\n[![result][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/im1Bp.png\r\n\r\nAs you could notice in the picture, he is using the same day twice on X-axis, howto set the scale to 1 day instead of 2 or 4 ?\r\n\r\nThanks in advance","title":"Timeline Google Charts hAxis resolution java javascript GWT","body":"<p>Hi i have a googlee timeline chart</p>\n<pre><code> private static native Promise setDataToChart(Object[] objects1)/*-{\n        // Load the Visualization API and the piechart package.\n        $wnd.google.charts.load(&quot;current&quot;, {packages: [&quot;timeline&quot;]});\n        $wnd.google.charts.setOnLoadCallback(drawChart(objects1));\n\n        function drawChart(obj1) {\n            var container = $wnd.document.getElementById('timeline');\n            var chart = new $wnd.google.visualization.Timeline(container);\n            var dataTable = new $wnd.google.visualization.DataTable();\n            dataTable.addColumn({type: 'string', id: 'Role'});\n            dataTable.addColumn({type: 'string', id: 'Name'});\n            dataTable.addColumn({type: 'string', id: 'style', role: 'style'});\n            dataTable.addColumn({type: 'date', id: 'Start'});\n            dataTable.addColumn({type: 'date', id: 'End'});\n\n            dataTable.addRows(obj1);\n\n            var options = {\n                title: 'Rate the Day on a Scale of 1 to 10',\n\n                hAxis: {\n                    format: 'dd/MM/yyyy'\n                }\n            };\n\n            chart.draw(dataTable, options);\n\n            // Hide empthy items\n            var rects = $wnd.document.getElementsByTagName('rect');\n            for (var i = 0; i &lt; rects.length; i++) {\n                if (rects[i].getAttribute(&quot;fill&quot;) === &quot;#f44336&quot;) {\n                    rects[i].setAttribute(&quot;display&quot;, &quot;none&quot;);\n                }\n            }\n        }\n\n    }-*/;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/im1Bp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/im1Bp.png\" alt=\"result\" /></a></p>\n<p>As you could notice in the picture, he is using the same day twice on X-axis, howto set the scale to 1 day instead of 2 or 4 ?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1674685714,"post_id":75240419,"comment_id":132770328,"body_markdown":"If you are using MySQL 8.\nneed to use this dialect and please add in application.properties.\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect","body":"If you are using MySQL 8. need to use this dialect and please add in application.properties. spring.jpa.properties.hibernate.dialect=org.hibernate.dialec&zwnj;&#8203;t.MySQL8Dialect"},{"owner":{"account_id":281380,"reputation":2648,"user_id":577647,"accept_rate":69,"display_name":"tolga"},"score":0,"creation_date":1674686313,"post_id":75240419,"comment_id":132770434,"body_markdown":"Thanks. Now it says: java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.dialect.MySQL8","body":"Thanks. Now it says: java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.dialect.MySQL8"},{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":1,"creation_date":1674687249,"post_id":75240419,"comment_id":132770641,"body_markdown":"as per error it says use org.hibernate.dialect.MySQLDialect , please try this one.\nI am not sure which version of hibernate are you using","body":"as per error it says use org.hibernate.dialect.MySQLDialect , please try this one. I am not sure which version of hibernate are you using"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674830348,"post_id":75240419,"comment_id":132802759,"body_markdown":"I guess you&#39;re using Spring Boot 3, right? It sounds like Spring Data JPA wasn&#39;t changed to account for changes in Hibernate 6.","body":"I guess you&#39;re using Spring Boot 3, right? It sounds like Spring Data JPA wasn&#39;t changed to account for changes in Hibernate 6."}],"answers":[{"tags":[],"owner":{"account_id":281380,"reputation":2648,"user_id":577647,"accept_rate":69,"display_name":"tolga"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1674689008,"creation_date":1674689008,"answer_id":75240932,"question_id":75240419,"body_markdown":"With the help of Raushan Kumar I solved the connection problem with:\r\n\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect","title":"MySQL57Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead","body":"<p>With the help of Raushan Kumar I solved the connection problem with:</p>\n<pre><code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22379244,"reputation":1,"user_id":16593086,"display_name":"Munyaradzi Chigangawa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689054508,"creation_date":1689054508,"answer_id":76658993,"question_id":75240419,"body_markdown":"Try using \r\n\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL8Dialect","title":"MySQL57Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead","body":"<p>Try using</p>\n<pre><code>spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL8Dialect\n</code></pre>\n"}],"owner":{"account_id":281380,"reputation":2648,"user_id":577647,"accept_rate":69,"display_name":"tolga"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7047,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75240932,"answer_count":2,"score":4,"last_activity_date":1689054508,"creation_date":1674684892,"question_id":75240419,"body_markdown":"In my Java Spring Boot project I try to migrate User entity into mysql database.\r\n\r\nWhen I mvn spring-boot:run, I see following error:\r\n\r\n    HHH90000026: MySQL57Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead\r\n\r\nHere&#39;s my application.properties:\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/mydb?createDatabaseIfNotExist=true \r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.jpa.database=mysql\r\n\r\nHere&#39;s the dependency for mysql:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhat am I missing?","title":"MySQL57Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead","body":"<p>In my Java Spring Boot project I try to migrate User entity into mysql database.</p>\n<p>When I mvn spring-boot:run, I see following error:</p>\n<pre><code>HHH90000026: MySQL57Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead\n</code></pre>\n<p>Here's my application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/mydb?createDatabaseIfNotExist=true \nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.username=root\nspring.datasource.password=root\nspring.jpa.database=mysql\n</code></pre>\n<p>Here's the dependency for mysql:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","spring","oracle","maven","jdbc"],"comments":[{"owner":{"account_id":541997,"reputation":7814,"user_id":910736,"display_name":"JamesB"},"score":0,"creation_date":1436391136,"post_id":31304103,"comment_id":50598071,"body_markdown":"How did you add the jar to maven? Could you list your pom.xml file?","body":"How did you add the jar to maven? Could you list your pom.xml file?"},{"owner":{"account_id":6352151,"reputation":345,"user_id":4930829,"accept_rate":67,"display_name":"Andr&#233;s Marotta"},"score":0,"creation_date":1436391314,"post_id":31304103,"comment_id":50598146,"body_markdown":"I was trying to add it in my pom.xml, but I read that I can&#39;t do that because of the Oracle license. So, I did this:\n\n`mvn install:install-file -Dfile={ojdbc.jar} -DgroupId=com.oracle \n-DartifactId=ojdbc6 -Dversion=11.2.0 -Dpackaging=jar`","body":"I was trying to add it in my pom.xml, but I read that I can&#39;t do that because of the Oracle license. So, I did this:  <code>mvn install:install-file -Dfile={ojdbc.jar} -DgroupId=com.oracle  -DartifactId=ojdbc6 -Dversion=11.2.0 -Dpackaging=jar</code>"},{"owner":{"account_id":6064783,"reputation":1354,"user_id":4735477,"accept_rate":65,"display_name":"Alejandro Agapito Bautista"},"score":0,"creation_date":1436391374,"post_id":31304103,"comment_id":50598179,"body_markdown":"But how do you have your pom.xml file?","body":"But how do you have your pom.xml file?"},{"owner":{"account_id":158682,"reputation":777,"user_id":377493,"accept_rate":0,"display_name":"bmscomp"},"score":0,"creation_date":1436392209,"post_id":31304103,"comment_id":50598574,"body_markdown":"You can donwload the jar file and place on the lib of your webserver it&#39;s better in the case of driver","body":"You can donwload the jar file and place on the lib of your webserver it&#39;s better in the case of driver"},{"owner":{"account_id":6352151,"reputation":345,"user_id":4930829,"accept_rate":67,"display_name":"Andr&#233;s Marotta"},"score":0,"creation_date":1436392274,"post_id":31304103,"comment_id":50598616,"body_markdown":"I said it, I tried that and still got the same error.","body":"I said it, I tried that and still got the same error."}],"answers":[{"comments":[{"owner":{"account_id":6352151,"reputation":345,"user_id":4930829,"accept_rate":67,"display_name":"Andr&#233;s Marotta"},"score":0,"creation_date":1436468509,"post_id":31304766,"comment_id":50638422,"body_markdown":"Well, I didn&#39;t get how&#39;s option one, but since I&#39;m just making tests for myself, I tried option 3. I&#39;ve already installed the JAR with Maven, I didn&#39;t declared the dependency in pom.xml, that was the fail. Thank you!","body":"Well, I didn&#39;t get how&#39;s option one, but since I&#39;m just making tests for myself, I tried option 3. I&#39;ve already installed the JAR with Maven, I didn&#39;t declared the dependency in pom.xml, that was the fail. Thank you!"}],"tags":[],"owner":{"account_id":4099584,"reputation":2238,"user_id":3365479,"accept_rate":80,"display_name":"madteapot"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1436393624,"creation_date":1436393624,"answer_id":31304766,"question_id":31304103,"body_markdown":"There are few different options to get the what you want to do.\r\n\r\n1. Install your own repository such as nexus, artifactory and deploy the jars in the repository, after that you can declare them as a dependency in your pom file. \r\n\r\n2. Put the jar file somewhere on your machine (preferably `${base.dir}/lib` folder), use the system scope while declaring maven dependency and provide a systemPath for the jar. First, copy ojdbc.jar file to `${base.dir}/lib` folder. \r\n\r\nthen in your pom.xml declare the dependency as below;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ojdbc14&lt;/artifactId&gt;\r\n        &lt;version&gt;10.2.0&lt;/version&gt;\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;${basedir}/lib/ojdbc14.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n\r\nUse maven dependency plugin to to include the dependencies with `system` scope;\r\n\r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                    &lt;phase&gt;compile&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;outputDirectory&gt;${project.build.directory}/${project.build.finalName}/WEB-INF/lib&lt;/outputDirectory&gt;\r\n                        &lt;includeScope&gt;system&lt;/includeScope&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n3. You can also use the `maven install:install` command to install the artifact in your local repository and then declare it as normal dependency in you pom.xml file. \r\n\r\nFor example run the following;\r\n\r\n    mvn install:install-file -Dfile=ojdbc14.jar -DgroupId=com.oracle -DartifactId=ojdbc14 -Dversion=10.2.0 -Dpackaging=jar\r\n\r\nand then declare it as dependecy in you pom.xml;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ojdbc14&lt;/artifactId&gt;\r\n        &lt;version&gt;10.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**NOTE:** Option one is useful if you are group of developers and need few third party libs. This way everyone won&#39;t have to keep installing the jar in their local repo and will also provide you more control over the project dependency management. Option two and three means the project will only compile/build from your machine and will have to be configured and different machines by every time installing/copying the jar in the `${base.dir}` or local repository. ","title":"Spring Tool Suite - ClassNotFoundException: oracle.jdbc.driver.OracleDriver","body":"<p>There are few different options to get the what you want to do.</p>\n\n<ol>\n<li><p>Install your own repository such as nexus, artifactory and deploy the jars in the repository, after that you can declare them as a dependency in your pom file. </p></li>\n<li><p>Put the jar file somewhere on your machine (preferably <code>${base.dir}/lib</code> folder), use the system scope while declaring maven dependency and provide a systemPath for the jar. First, copy ojdbc.jar file to <code>${base.dir}/lib</code> folder. </p></li>\n</ol>\n\n<p>then in your pom.xml declare the dependency as below;</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n    &lt;artifactId&gt;ojdbc14&lt;/artifactId&gt;\n    &lt;version&gt;10.2.0&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;${basedir}/lib/ojdbc14.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Use maven dependency plugin to to include the dependencies with <code>system</code> scope;</p>\n\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.8&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;copy-dependencies&lt;/id&gt;\n                &lt;phase&gt;compile&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;${project.build.directory}/${project.build.finalName}/WEB-INF/lib&lt;/outputDirectory&gt;\n                    &lt;includeScope&gt;system&lt;/includeScope&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<ol start=\"3\">\n<li>You can also use the <code>maven install:install</code> command to install the artifact in your local repository and then declare it as normal dependency in you pom.xml file. </li>\n</ol>\n\n<p>For example run the following;</p>\n\n<pre><code>mvn install:install-file -Dfile=ojdbc14.jar -DgroupId=com.oracle -DartifactId=ojdbc14 -Dversion=10.2.0 -Dpackaging=jar\n</code></pre>\n\n<p>and then declare it as dependecy in you pom.xml;</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n    &lt;artifactId&gt;ojdbc14&lt;/artifactId&gt;\n    &lt;version&gt;10.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>NOTE:</strong> Option one is useful if you are group of developers and need few third party libs. This way everyone won't have to keep installing the jar in their local repo and will also provide you more control over the project dependency management. Option two and three means the project will only compile/build from your machine and will have to be configured and different machines by every time installing/copying the jar in the <code>${base.dir}</code> or local repository. </p>\n"},{"tags":[],"owner":{"account_id":11276599,"reputation":56,"user_id":8270483,"display_name":"Cristian"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553271674,"creation_date":1553258543,"answer_id":55299870,"question_id":31304103,"body_markdown":"What worked for me, after installing the ojdbc jar file with maven locally, was to change the scope of the dependency from the default *provided* to *compile*.\r\n\r\nChanging the scope like this suggests that maven would have installed automatically this dependency, but in trying to solve the issue this was the sequence of steps I did for it to work.\r\n\r\nThe scope can be changed in the effective pom but for my project this dependency needed to be provided by the server and changing it from the project settings in IntelliJ did not affect the pom. (*Note that certain operations like generating and updating the sources in the maven panel can reset the settings of the project to match the pom.)\r\n","title":"Spring Tool Suite - ClassNotFoundException: oracle.jdbc.driver.OracleDriver","body":"<p>What worked for me, after installing the ojdbc jar file with maven locally, was to change the scope of the dependency from the default <em>provided</em> to <em>compile</em>.</p>\n\n<p>Changing the scope like this suggests that maven would have installed automatically this dependency, but in trying to solve the issue this was the sequence of steps I did for it to work.</p>\n\n<p>The scope can be changed in the effective pom but for my project this dependency needed to be provided by the server and changing it from the project settings in IntelliJ did not affect the pom. (*Note that certain operations like generating and updating the sources in the maven panel can reset the settings of the project to match the pom.)</p>\n"},{"tags":[],"owner":{"account_id":28962963,"reputation":1,"user_id":22185078,"display_name":"Diana M."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689054484,"creation_date":1688761097,"answer_id":76640012,"question_id":31304103,"body_markdown":"One of the problems could be the incorrect url in the application configuration:\r\n&gt;spring.datasource.url=jdbc\\:oracle\\:thin\\:@//localhost\\:1521/XE\r\n\r\nCheck if there are missing \\ or /, and also check the others params.\r\nCheck to see if you are not missing some jars in pom from Maven.\r\n\r\nFull app configuration is:\r\n\r\n    spring.datasource.url=jdbc\\:oracle\\:thin\\:@//localhost\\:1521/XE    \r\n    spring.datasource.driver-class-name = oracle.jdbc.driver.OracleDriver    \r\n    spring.datasource.name=XE    \r\n    spring.datasource.username=C\\#\\#username\r\n    spring.datasource.password=userpass    \r\n    spring.jpa.database=oracle\r\n    \r\n    #hibernate configs\r\n    spring.jpa.database-platform=org.hibernate.dialect.OracleDialect    \r\n    spring.jpa.hibernate.ddl-auto=create","title":"Spring Tool Suite - ClassNotFoundException: oracle.jdbc.driver.OracleDriver","body":"<p>One of the problems could be the incorrect url in the application configuration:</p>\n<blockquote>\n<p>spring.datasource.url=jdbc:oracle:thin:@//localhost:1521/XE</p>\n</blockquote>\n<p>Check if there are missing \\ or /, and also check the others params.\nCheck to see if you are not missing some jars in pom from Maven.</p>\n<p>Full app configuration is:</p>\n<pre><code>spring.datasource.url=jdbc\\:oracle\\:thin\\:@//localhost\\:1521/XE    \nspring.datasource.driver-class-name = oracle.jdbc.driver.OracleDriver    \nspring.datasource.name=XE    \nspring.datasource.username=C\\#\\#username\nspring.datasource.password=userpass    \nspring.jpa.database=oracle\n\n#hibernate configs\nspring.jpa.database-platform=org.hibernate.dialect.OracleDialect    \nspring.jpa.hibernate.ddl-auto=create\n</code></pre>\n"}],"owner":{"account_id":6352151,"reputation":345,"user_id":4930829,"accept_rate":67,"display_name":"Andr&#233;s Marotta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9172,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":31304766,"answer_count":3,"score":2,"last_activity_date":1689054484,"creation_date":1436390776,"question_id":31304103,"body_markdown":"I keep fighting with Spring. I&#39;m trying to connect my app with my local Oracle database, but I get that error:\r\n\r\n    ClassNotFoundException: oracle.jdbc.driver.OracleDriver\r\n\r\nI figured out that the problem is the missing **.jar**, and I tried to include it, but I keep getting the same error.\r\n\r\nI install the **Oracle JDBC JAR** in my Maven repository, I checked that it loads correctly in my project, with all the classes, etc., but still not working.\r\n\r\nI tried to add the JAR in my Build Path, and I get the warning saying that it won&#39;t include it.\r\n\r\nI tried *copy&amp;paste* the JAR into the workspace, the server, the Java path... and nothing.\r\n\r\nThe only thing I couldn&#39;t do was copy it into the **WEB-INF/lib** folder (as some answers recommended), because that folder doesn&#39;t exists in my project. STS didn&#39;t created it (I assume that&#39;s because the folder structure for Spring MVC WebApplication is not the same as the usual WebApplication one).\r\n\r\nAny ideas?\r\n\r\n**-- UPDATE --**\r\n\r\nMy **pom.xml** as requested:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;ar.com&lt;/groupId&gt;\r\n    &lt;artifactId&gt;violenciaesmentir&lt;/artifactId&gt;\r\n    &lt;name&gt;blog&lt;/name&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;version&gt;1.0.0-BUILD-SNAPSHOT&lt;/version&gt;\r\n    &lt;properties&gt;\r\n      &lt;java-version&gt;1.8&lt;/java-version&gt;\r\n      &lt;org.springframework-version&gt;4.1.6.RELEASE&lt;/org.springframework-version&gt;\r\n      &lt;org.aspectj-version&gt;1.6.10&lt;/org.aspectj-version&gt;\r\n      &lt;org.slf4j-version&gt;1.6.6&lt;/org.slf4j-version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;!-- Spring --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        &lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n          &lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n        &lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\t\t\t\t\r\n      &lt;!-- AspectJ --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n        &lt;version&gt;${org.aspectj-version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\t\r\n\t\t\r\n      &lt;!-- Logging --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n        &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n        &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.15&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;!-- @Inject --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n        &lt;version&gt;1&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\t\t\r\n      &lt;!-- Servlet --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;!-- Test --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        &lt;version&gt;4.7&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.9&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;additionalProjectnatures&gt;\r\n              &lt;projectnature&gt;org.springframework.ide.eclipse.core.springnature&lt;/projectnature&gt;\r\n            &lt;/additionalProjectnatures&gt;\r\n            &lt;additionalBuildcommands&gt;\r\n              &lt;buildcommand&gt;org.springframework.ide.eclipse.core.springbuilder&lt;/buildcommand&gt;\r\n              &lt;/additionalBuildcommands&gt;\r\n              &lt;downloadSources&gt;true&lt;/downloadSources&gt;\r\n              &lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;1.8&lt;/source&gt;\r\n              &lt;target&gt;1.8&lt;/target&gt;\r\n              &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\r\n              &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n              &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;mainClass&gt;org.test.int1.Main&lt;/mainClass&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n","title":"Spring Tool Suite - ClassNotFoundException: oracle.jdbc.driver.OracleDriver","body":"<p>I keep fighting with Spring. I'm trying to connect my app with my local Oracle database, but I get that error:</p>\n\n<pre><code>ClassNotFoundException: oracle.jdbc.driver.OracleDriver\n</code></pre>\n\n<p>I figured out that the problem is the missing <strong>.jar</strong>, and I tried to include it, but I keep getting the same error.</p>\n\n<p>I install the <strong>Oracle JDBC JAR</strong> in my Maven repository, I checked that it loads correctly in my project, with all the classes, etc., but still not working.</p>\n\n<p>I tried to add the JAR in my Build Path, and I get the warning saying that it won't include it.</p>\n\n<p>I tried <em>copy&amp;paste</em> the JAR into the workspace, the server, the Java path... and nothing.</p>\n\n<p>The only thing I couldn't do was copy it into the <strong>WEB-INF/lib</strong> folder (as some answers recommended), because that folder doesn't exists in my project. STS didn't created it (I assume that's because the folder structure for Spring MVC WebApplication is not the same as the usual WebApplication one).</p>\n\n<p>Any ideas?</p>\n\n<p><strong>-- UPDATE --</strong></p>\n\n<p>My <strong>pom.xml</strong> as requested:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;ar.com&lt;/groupId&gt;\n&lt;artifactId&gt;violenciaesmentir&lt;/artifactId&gt;\n&lt;name&gt;blog&lt;/name&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;version&gt;1.0.0-BUILD-SNAPSHOT&lt;/version&gt;\n&lt;properties&gt;\n  &lt;java-version&gt;1.8&lt;/java-version&gt;\n  &lt;org.springframework-version&gt;4.1.6.RELEASE&lt;/org.springframework-version&gt;\n  &lt;org.aspectj-version&gt;1.6.10&lt;/org.aspectj-version&gt;\n  &lt;org.slf4j-version&gt;1.6.6&lt;/org.slf4j-version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n  &lt;!-- Spring --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n    &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n    &lt;exclusions&gt;\n      &lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;!-- AspectJ --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n    &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n    &lt;version&gt;${org.aspectj-version}&lt;/version&gt;\n  &lt;/dependency&gt; \n\n  &lt;!-- Logging --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n    &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n    &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n    &lt;version&gt;1.2.15&lt;/version&gt;\n    &lt;exclusions&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;mail&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n        &lt;artifactId&gt;jms&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\n        &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\n        &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n  &lt;/dependency&gt;\n\n  &lt;!-- @Inject --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n    &lt;version&gt;1&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;!-- Servlet --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;2.5&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n    &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n    &lt;version&gt;2.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;!-- Test --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.7&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.9&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;additionalProjectnatures&gt;\n          &lt;projectnature&gt;org.springframework.ide.eclipse.core.springnature&lt;/projectnature&gt;\n        &lt;/additionalProjectnatures&gt;\n        &lt;additionalBuildcommands&gt;\n          &lt;buildcommand&gt;org.springframework.ide.eclipse.core.springbuilder&lt;/buildcommand&gt;\n          &lt;/additionalBuildcommands&gt;\n          &lt;downloadSources&gt;true&lt;/downloadSources&gt;\n          &lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n          &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\n          &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n          &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.2.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;mainClass&gt;org.test.int1.Main&lt;/mainClass&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","mysql","exception","jdbc","connection"],"comments":[{"owner":{"account_id":773362,"reputation":17857,"user_id":812303,"accept_rate":71,"display_name":"Tomer"},"score":1,"creation_date":1344776176,"post_id":11922323,"comment_id":15876058,"body_markdown":"are you able to connect using mysql GUI client like SqlYog or PhpMyAdmin?","body":"are you able to connect using mysql GUI client like SqlYog or PhpMyAdmin?"},{"owner":{"account_id":408442,"reputation":21426,"user_id":779111,"accept_rate":85,"display_name":"JAN"},"score":1,"creation_date":1344776342,"post_id":11922323,"comment_id":15876089,"body_markdown":"@ftom2: Yes , I can access `phpmyadmin` successfully .","body":"@ftom2: Yes , I can access <code>phpmyadmin</code> successfully ."},{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":1,"creation_date":1344776550,"post_id":11922323,"comment_id":15876138,"body_markdown":"Are you sure the **Username** and the **Password** so provided is right ? Seesm to me there is no such user as **root** :( Not sure though, but don&#39;t you have to provide the **Database Name** too like `Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost;database=mywebsitedb;user=sa;password=thatstrue;&quot;);`","body":"Are you sure the <b>Username</b> and the <b>Password</b> so provided is right ? Seesm to me there is no such user as <b>root</b> :( Not sure though, but don&#39;t you have to provide the <b>Database Name</b> too like <code>Connection con = DriverManager.getConnection(&quot;jdbc:mysql:&#47;&#47;localhost;database&zwnj;&#8203;=mywebsitedb;user=sa&zwnj;&#8203;;password=thatstrue;&zwnj;&#8203;&quot;);</code>"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1344776629,"post_id":11922323,"comment_id":15876149,"body_markdown":"@GagandeepBali: think once again about it: If the login was wrong, how would the OP be able to access it by phpmyadmin then?","body":"@GagandeepBali: think once again about it: If the login was wrong, how would the OP be able to access it by phpmyadmin then?"},{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":0,"creation_date":1344776894,"post_id":11922323,"comment_id":15876209,"body_markdown":"@BalusC : Actually never used `phpmyadmin`, though I had used `SQLServer` sometimes, those fields are autofilled by default, and we forget them. That&#39;s why that guess was as comments, else it could become an answer, if I thought that is really the case (which it may or may not be the case).  Though since you are offended by that comment, I would be very much wrong in asking the same , my bad :-)","body":"@BalusC : Actually never used <code>phpmyadmin</code>, though I had used <code>SQLServer</code> sometimes, those fields are autofilled by default, and we forget them. That&#39;s why that guess was as comments, else it could become an answer, if I thought that is really the case (which it may or may not be the case).  Though since you are offended by that comment, I would be very much wrong in asking the same , my bad :-)"},{"owner":{"account_id":162885,"reputation":1922,"user_id":384646,"accept_rate":75,"display_name":"Romski"},"score":1,"creation_date":1344779439,"post_id":11922323,"comment_id":15876674,"body_markdown":"There are 2 things you need to establish - are you a valid user, do you have the authority (privileges) to perform the action. Authority takes the form of a specific privilege from a specified host. It is possible to answer both questions before introducing any Java. Personally, I&#39;d use the command line to connect to my sql as the user specified, e.g. &#39;mysql -uroot -prootpassword&#39;, then execute the command &#39;create database mydb&#39;. If this works you can drop the database and head over to your Java code.","body":"There are 2 things you need to establish - are you a valid user, do you have the authority (privileges) to perform the action. Authority takes the form of a specific privilege from a specified host. It is possible to answer both questions before introducing any Java. Personally, I&#39;d use the command line to connect to my sql as the user specified, e.g. &#39;mysql -uroot -prootpassword&#39;, then execute the command &#39;create database mydb&#39;. If this works you can drop the database and head over to your Java code."}],"answers":[{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":4,"creation_date":1344776555,"post_id":11922369,"comment_id":15876140,"body_markdown":"Why exactly would it solve the concrete problem? You are not explaining the cause in any way.","body":"Why exactly would it solve the concrete problem? You are not explaining the cause in any way."}],"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1446803757,"creation_date":1344776407,"answer_id":11922369,"question_id":11922323,"body_markdown":"Try it like this....\r\n\r\n    public static Connection getConnection() throws SQLException{\r\n    \t\t\r\n    \tString driver = &quot;com.mysql.jdbc.Driver&quot;;\r\n    \tString url    = &quot;jdbc:mysql://localhost:3306/test&quot;;\r\n    \tString username = &quot;root&quot;;\r\n    \tString password = &quot;vicky&quot;;            // Change it to your Password\r\n    \tSystem.setProperty(driver,&quot;&quot;);\r\n    \t\t\r\n    \treturn DriverManager.getConnection(url,username,password);\r\n    }","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>Try it like this....</p>\n\n<pre><code>public static Connection getConnection() throws SQLException{\n\n    String driver = \"com.mysql.jdbc.Driver\";\n    String url    = \"jdbc:mysql://localhost:3306/test\";\n    String username = \"root\";\n    String password = \"vicky\";            // Change it to your Password\n    System.setProperty(driver,\"\");\n\n    return DriverManager.getConnection(url,username,password);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1672011,"reputation":1318,"user_id":1538311,"display_name":"evg"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1401811551,"creation_date":1344776420,"answer_id":11922371,"question_id":11922323,"body_markdown":"You should specify the db you are connecting to:\r\n\r\n    jdbc:mysql://localhost:3306/mydb","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>You should specify the db you are connecting to:</p>\n\n<pre><code>jdbc:mysql://localhost:3306/mydb\n</code></pre>\n"},{"comments":[{"owner":{"account_id":408442,"reputation":21426,"user_id":779111,"accept_rate":85,"display_name":"JAN"},"score":0,"creation_date":1344776778,"post_id":11922393,"comment_id":15876186,"body_markdown":"If I don&#39;t have any database at all ? and I want to create the database using java code , and NOT manually in `phpmyadmin` , then `databaseName` is not relevant ?","body":"If I don&#39;t have any database at all ? and I want to create the database using java code , and NOT manually in <code>phpmyadmin</code> , then <code>databaseName</code> is not relevant ?"},{"owner":{"account_id":3452675,"reputation":661,"user_id":2891948,"accept_rate":24,"display_name":"viveksinghggits"},"score":0,"creation_date":1486614905,"post_id":11922393,"comment_id":71424132,"body_markdown":"I was working on one of my application, the connectivity between the code and the database was fine. I started getting this error suddenly, dont know why and what to do.","body":"I was working on one of my application, the connectivity between the code and the database was fine. I started getting this error suddenly, dont know why and what to do."}],"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":2,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1449687595,"creation_date":1344776653,"answer_id":11922393,"question_id":11922323,"body_markdown":"As you are creating a database from scratch, you could use:\r\n\r\n    Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost/?user=root&amp;password=rootpassword&quot;); \r\n    PreparedStatement ps = connection.prepareStatement(&quot;CREATE DATABASE databasename&quot;);\r\n    int result = ps.executeUpdate();\r\n\r\nHere is an [identical scenario][1].\r\n\r\n\r\n  [1]: http://forums.mysql.com/read.php?39,99321,102211#msg-102211","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>As you are creating a database from scratch, you could use:</p>\n\n<pre><code>Connection connection = DriverManager.getConnection(\"jdbc:mysql://localhost/?user=root&amp;password=rootpassword\"); \nPreparedStatement ps = connection.prepareStatement(\"CREATE DATABASE databasename\");\nint result = ps.executeUpdate();\n</code></pre>\n\n<p>Here is an <a href=\"http://forums.mysql.com/read.php?39,99321,102211#msg-102211\" rel=\"noreferrer\">identical scenario</a>.</p>\n"},{"comments":[{"owner":{"account_id":8762522,"reputation":231,"user_id":6552089,"accept_rate":83,"display_name":"palak sharma"},"score":1,"creation_date":1472036084,"post_id":11922503,"comment_id":65588268,"body_markdown":"@evg I have successfully executed this query but still not getting rid from this error","body":"@evg I have successfully executed this query but still not getting rid from this error"},{"owner":{"account_id":5254406,"reputation":1108,"user_id":4197679,"accept_rate":79,"display_name":"Ashok kumar Ganesan"},"score":0,"creation_date":1591593983,"post_id":11922503,"comment_id":110103871,"body_markdown":"@evg Whether the above solution works for the below one also. Here instead of localhost, IP address is mentioned as below\n**java.sql.SQLException: Access denied for user &#39;&#39;@&#39;1.1.22.85&#39; (using password: YES).**","body":"@evg Whether the above solution works for the below one also. Here instead of localhost, IP address is mentioned as below <b>java.sql.SQLException: Access denied for user &#39;&#39;@&#39;1.1.22.85&#39; (using password: YES).</b>"},{"owner":{"account_id":12916672,"reputation":160,"user_id":9340694,"display_name":"Nazmul81"},"score":0,"creation_date":1640056009,"post_id":11922503,"comment_id":124499362,"body_markdown":"If anyone facing Access Denied problem after applying this solution then you can apply [link](https://stackoverflow.com/a/12670234/9340694) solution for life easy. Thanks","body":"If anyone facing Access Denied problem after applying this solution then you can apply <a href=\"https://stackoverflow.com/a/12670234/9340694\">link</a> solution for life easy. Thanks"}],"tags":[],"owner":{"account_id":1672011,"reputation":1318,"user_id":1538311,"display_name":"evg"},"comment_count":3,"down_vote_count":2,"up_vote_count":69,"is_accepted":false,"score":67,"last_activity_date":1467755844,"creation_date":1344777798,"answer_id":11922503,"question_id":11922323,"body_markdown":"This can help you:\r\n\r\n    GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;%password%&#39; WITH GRANT OPTION;\r\n\r\n\r\nExecute it with command line or some GUI tool.\r\n\r\nDon&#39;t forget to replace `%password%` with real password.","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>This can help you:</p>\n\n<pre><code>GRANT ALL PRIVILEGES ON *.* TO 'root'@'localhost' IDENTIFIED BY '%password%' WITH GRANT OPTION;\n</code></pre>\n\n<p>Execute it with command line or some GUI tool.</p>\n\n<p>Don't forget to replace <code>%password%</code> with real password.</p>\n"},{"tags":[],"owner":{"account_id":3009734,"reputation":11,"user_id":2553505,"display_name":"Satish Hunasikatti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1373024368,"creation_date":1373023278,"answer_id":17487713,"question_id":11922323,"body_markdown":"I was hitting the same issue. Added mysql service port number(3307), resolved the issue.\r\n\r\n    conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3307/?&quot; + &quot;user=root&amp;password=password&quot;);\r\n\r\n\r\n","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>I was hitting the same issue. Added mysql service port number(3307), resolved the issue.</p>\n\n<pre><code>conn = DriverManager.getConnection(\"jdbc:mysql://localhost:3307/?\" + \"user=root&amp;password=password\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1820603,"reputation":4638,"user_id":1654763,"accept_rate":76,"display_name":"Munchkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1434824213,"creation_date":1434824213,"answer_id":30957363,"question_id":11922323,"body_markdown":"I had a similar problem, but the differemce was: I didn&#39;t executed my JavaApp from `localhost`, but from a remote PC. So I got something like `java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;a.remote.ip.adress&#39; (using password: YES)`\r\nTo solve this, you can simply login to phpMyAdmin, go to `Users`, click `add user` and enter the host from which you want to execute your JavaApp (or choose `Any Host`)","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>I had a similar problem, but the differemce was: I didn't executed my JavaApp from <code>localhost</code>, but from a remote PC. So I got something like <code>java.sql.SQLException: Access denied for user 'root'@'a.remote.ip.adress' (using password: YES)</code>\nTo solve this, you can simply login to phpMyAdmin, go to <code>Users</code>, click <code>add user</code> and enter the host from which you want to execute your JavaApp (or choose <code>Any Host</code>)</p>\n"},{"tags":[],"owner":{"account_id":2638495,"reputation":263,"user_id":2282655,"accept_rate":27,"display_name":"SR230"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1444743782,"creation_date":1444743782,"answer_id":33104309,"question_id":11922323,"body_markdown":"you can use this \r\n\r\n       static final String JDBC_DRIVER = &quot;com.mysql.jdbc.Driver&quot;;  \r\n\t   static final String DB_URL = &quot;jdbc:mysql://localhost:3306/YOUR_DB_NAME&quot;;\r\n\t   \r\n\t   \r\n\t   static final String USER = &quot;root&quot;;\r\n\t   static final String PASS = &quot;YOUR_ROOT_PASSWORD&quot;; \r\n\r\n      Connection conn = DriverManager.getConnection(DB_URL,USER,PASS);\r\n\r\nyou have to give the right root password .","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>you can use this </p>\n\n<pre><code>   static final String JDBC_DRIVER = \"com.mysql.jdbc.Driver\";  \n   static final String DB_URL = \"jdbc:mysql://localhost:3306/YOUR_DB_NAME\";\n\n\n   static final String USER = \"root\";\n   static final String PASS = \"YOUR_ROOT_PASSWORD\"; \n\n  Connection conn = DriverManager.getConnection(DB_URL,USER,PASS);\n</code></pre>\n\n<p>you have to give the right root password .</p>\n"},{"comments":[{"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"score":1,"creation_date":1466540578,"post_id":37953549,"comment_id":63356247,"body_markdown":"This is a comment, not an answer.","body":"This is a comment, not an answer."}],"tags":[],"owner":{"account_id":3058086,"reputation":19,"user_id":2591325,"display_name":"dave"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466539234,"creation_date":1466539234,"answer_id":37953549,"question_id":11922323,"body_markdown":"Although this may not be the cause of your issue, you&#39;ll get the same error if there are two MySQL services running on the same port. You can check on windows by looking at the list of services in the services tab of Task Manager.","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>Although this may not be the cause of your issue, you'll get the same error if there are two MySQL services running on the same port. You can check on windows by looking at the list of services in the services tab of Task Manager.</p>\n"},{"comments":[{"owner":{"account_id":11515517,"reputation":71,"user_id":8438992,"display_name":"Muhittin Kaya"},"score":0,"creation_date":1638972213,"post_id":39399881,"comment_id":124229025,"body_markdown":"I had same problem. I was wrong with the password specified in the application.properties. It should be same as your local database password.","body":"I had same problem. I was wrong with the password specified in the application.properties. It should be same as your local database password."}],"tags":[],"owner":{"account_id":7947193,"reputation":61,"user_id":5999304,"display_name":"Pratyush Raunak"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1591600998,"creation_date":1473367309,"answer_id":39399881,"question_id":11922323,"body_markdown":"I had the same issue like below\r\n\r\n    &quot;java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)&quot;. Problem was &quot;WRONG PASSWORD&quot;. \r\n\r\nCopy and paste the query as-it-is in the shell to check whether it gives the desired output or not. Small errors consumes more time.\r\n\r\n\r\n","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>I had the same issue like below</p>\n\n<pre><code>\"java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)\". Problem was \"WRONG PASSWORD\". \n</code></pre>\n\n<p>Copy and paste the query as-it-is in the shell to check whether it gives the desired output or not. Small errors consumes more time.</p>\n"},{"tags":[],"owner":{"account_id":7802687,"reputation":422,"user_id":5901503,"display_name":"Gani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509686450,"creation_date":1509686060,"answer_id":47088898,"question_id":11922323,"body_markdown":"This Exception is also caused due to version mismatch of mysql db and your pom.xml/jar.\r\n\r\nMake sure your pom.xml/jar version is higher than your mysql db version.\r\nBecause higher versions are compatible with lower version&#39;s, but the same is not true for the inverse. \r\n\r\nSolution&#39;s for java project\r\n\r\n - Replace the Jar with suitable version.\r\n\r\nSolution for maven based\r\n\r\n - Change the dependency Version in pom.xml\r\n\r\nSolution for spring boot\r\n - Override the spring boot dependency by adding \r\n&lt;properties&gt;\r\n    &lt;hibernate.version&gt;5.1.5.Final&lt;/hibernate.version&gt;\r\n&lt;/properties&gt;","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>This Exception is also caused due to version mismatch of mysql db and your pom.xml/jar.</p>\n\n<p>Make sure your pom.xml/jar version is higher than your mysql db version.\nBecause higher versions are compatible with lower version's, but the same is not true for the inverse. </p>\n\n<p>Solution's for java project</p>\n\n<ul>\n<li>Replace the Jar with suitable version.</li>\n</ul>\n\n<p>Solution for maven based</p>\n\n<ul>\n<li>Change the dependency Version in pom.xml</li>\n</ul>\n\n<p>Solution for spring boot\n - Override the spring boot dependency by adding \n\n    5.1.5.Final\n</p>\n"},{"comments":[{"owner":{"account_id":6340388,"reputation":1,"user_id":7660248,"display_name":"Chris Appleby"},"score":0,"creation_date":1510799558,"post_id":47320487,"comment_id":81592286,"body_markdown":"I should add that this is similar to #munchkins approach but from the SQL control panel end.","body":"I should add that this is similar to #munchkins approach but from the SQL control panel end."}],"tags":[],"owner":{"account_id":6340388,"reputation":1,"user_id":7660248,"display_name":"Chris Appleby"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510798724,"creation_date":1510798724,"answer_id":47320487,"question_id":11922323,"body_markdown":"I had to change my SQL setup (in my host, Dreamhost in my case) to allow the username to access the database from other hosts, not just Dreamhost since I&#39;m running a program from the IDE on my computer. I did that for now by adding % to the list of Allowable Hosts. It now works! ","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>I had to change my SQL setup (in my host, Dreamhost in my case) to allow the username to access the database from other hosts, not just Dreamhost since I'm running a program from the IDE on my computer. I did that for now by adding % to the list of Allowable Hosts. It now works! </p>\n"},{"tags":[],"owner":{"account_id":9476329,"reputation":1,"user_id":7045575,"display_name":"nong thieu"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1513572593,"creation_date":1513568546,"answer_id":47861855,"question_id":11922323,"body_markdown":"I encountered this error. The problem was that I had the wrong database name.","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>I encountered this error. The problem was that I had the wrong database name.</p>\n"},{"comments":[{"owner":{"account_id":15115227,"reputation":25341,"user_id":10907864,"display_name":"Promise Preston"},"score":0,"creation_date":1687626675,"post_id":50585415,"comment_id":134964421,"body_markdown":"Thanks for this. My issue had to do with an incorrect password. I was deploying an app to a Kubernetes cluster, and the password was encrypted in Kubernetes secrets. All I had to do was view the Kubernetes secret in the cluster, de-encrypt the password from base64 to json, which revealed the incorrect password, and then I corrected the password and deployed. This time it worked fine.","body":"Thanks for this. My issue had to do with an incorrect password. I was deploying an app to a Kubernetes cluster, and the password was encrypted in Kubernetes secrets. All I had to do was view the Kubernetes secret in the cluster, de-encrypt the password from base64 to json, which revealed the incorrect password, and then I corrected the password and deployed. This time it worked fine."}],"tags":[],"owner":{"account_id":11602492,"reputation":51,"user_id":8499198,"display_name":"Sarjita Konjengbam"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1527605109,"creation_date":1527599860,"answer_id":50585415,"question_id":11922323,"body_markdown":"This appears to mostly happens when the MySQL username and password are not correct. Check your MySQL username and password.","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>This appears to mostly happens when the MySQL username and password are not correct. Check your MySQL username and password.</p>\n"},{"comments":[{"owner":{"account_id":2464526,"reputation":1549,"user_id":2147927,"accept_rate":100,"display_name":"Line"},"score":0,"creation_date":1610404208,"post_id":52463043,"comment_id":116117704,"body_markdown":"&quot;Now verify that the table has the password for the root&quot; - and what if it does not? ;)","body":"&quot;Now verify that the table has the password for the root&quot; - and what if it does not? ;)"}],"tags":[],"owner":{"account_id":4405015,"reputation":634,"user_id":3589678,"accept_rate":25,"display_name":"Ashu"},"comment_count":1,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1537677690,"creation_date":1537677690,"answer_id":52463043,"question_id":11922323,"body_markdown":"This is specific to Ubuntu 18.04 LTS and MySQL 5.x\r\nFollowed this [link][1]\r\nFollow everything from here onwards:\r\n\r\n    sudo mysql_secure_installation\r\n\r\n    sudo mysql\r\n\r\nOnce logged into MySQL then from the MySQL prompt execute these commands:\r\n\r\n    ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED WITH mysql_native_password BY &#39;password&#39;;\r\n    FLUSH PRIVILEGES;\r\n\r\nNow verify that the table has the password for the root\r\n\r\n    SELECT user,authentication_string,plugin,host FROM mysql.user;\r\n\r\nThis solved my issue and now i am able to login.\r\n\r\n\r\n  [1]: https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-ubuntu-18-04","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>This is specific to Ubuntu 18.04 LTS and MySQL 5.x\nFollowed this <a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-ubuntu-18-04\" rel=\"noreferrer\">link</a>\nFollow everything from here onwards:</p>\n\n<pre><code>sudo mysql_secure_installation\n\nsudo mysql\n</code></pre>\n\n<p>Once logged into MySQL then from the MySQL prompt execute these commands:</p>\n\n<pre><code>ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'password';\nFLUSH PRIVILEGES;\n</code></pre>\n\n<p>Now verify that the table has the password for the root</p>\n\n<pre><code>SELECT user,authentication_string,plugin,host FROM mysql.user;\n</code></pre>\n\n<p>This solved my issue and now i am able to login.</p>\n"},{"tags":[],"owner":{"account_id":14776121,"reputation":273,"user_id":10671001,"display_name":"S Debasish Nayak"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1542558770,"creation_date":1542558770,"answer_id":53363100,"question_id":11922323,"body_markdown":"If you are connecting a remote mysql server from your local machine using java see the below steps.\r\nError :\r\n&quot;java.sql.SQLException: Access denied for user &#39;xxxxx&#39;@&#39;101.123.163.141&#39; (using password: YES) &quot;\r\n\r\nfor remote access may be cpanel or others grant the remote access for your local ip address.\r\n\r\nIn the above error message: &quot;101.123.163.141&quot; is my local machine ip. So First we have to give remote access in the Cpanel-&gt; Remote MySQL&#174;. Then run your application to connect.\r\n\r\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);  \r\n    Connection con=DriverManager.getConnection(  \r\n\t    &quot;jdbc:mysql://www.xyz.com/abc&quot;,&quot;def&quot;,&quot;ghi&quot;);  \r\n    //here abc is database name, def is username and ghi\t\t\r\n    Statement stmt=con.createStatement();  \r\n    ResultSet rs=stmt.executeQuery(&quot;select * from employee&quot;);  \r\n\t    while(rs.next())  \r\n\t\t    System.out.println(rs.getInt(1)+&quot; &quot;+rs.getString(2)+&quot;  \r\n                              &quot;+rs.getString(3));  \r\n    con.close();    \r\n\r\n\r\nHope it will resolve your issue.\r\n\r\nThanks\r\n","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>If you are connecting a remote mysql server from your local machine using java see the below steps.\nError :\n\"java.sql.SQLException: Access denied for user 'xxxxx'@'101.123.163.141' (using password: YES) \"</p>\n\n<p>for remote access may be cpanel or others grant the remote access for your local ip address.</p>\n\n<p>In the above error message: \"101.123.163.141\" is my local machine ip. So First we have to give remote access in the Cpanel-> Remote MySQL®. Then run your application to connect.</p>\n\n<pre><code>Class.forName(\"com.mysql.jdbc.Driver\");  \nConnection con=DriverManager.getConnection(  \n    \"jdbc:mysql://www.xyz.com/abc\",\"def\",\"ghi\");  \n//here abc is database name, def is username and ghi        \nStatement stmt=con.createStatement();  \nResultSet rs=stmt.executeQuery(\"select * from employee\");  \n    while(rs.next())  \n        System.out.println(rs.getInt(1)+\" \"+rs.getString(2)+\"  \n                          \"+rs.getString(3));  \ncon.close();    \n</code></pre>\n\n<p>Hope it will resolve your issue.</p>\n\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559437100,"creation_date":1559437100,"answer_id":56411480,"question_id":11922323,"body_markdown":"The order of declaring:\r\n\r\n- Driver\r\n- Connection string\r\n- username\r\n- password\r\n\r\nIf we declaring in order\r\n\r\n- Connection string\r\n- username\r\n- password\r\n- Driver\r\n\r\nthe application will fail","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>The order of declaring:</p>\n\n<ul>\n<li>Driver</li>\n<li>Connection string</li>\n<li>username</li>\n<li>password</li>\n</ul>\n\n<p>If we declaring in order</p>\n\n<ul>\n<li>Connection string</li>\n<li>username</li>\n<li>password</li>\n<li>Driver</li>\n</ul>\n\n<p>the application will fail</p>\n"},{"comments":[{"owner":{"account_id":1080513,"reputation":3759,"user_id":1077633,"accept_rate":95,"display_name":"kwoxer"},"score":0,"creation_date":1568619722,"post_id":57952111,"comment_id":102316916,"body_markdown":"Please format your code and do not deliver a link to an external page here if possible. Sum up everything directly into your post. Thanks.","body":"Please format your code and do not deliver a link to an external page here if possible. Sum up everything directly into your post. Thanks."}],"tags":[],"owner":{"account_id":16392015,"reputation":1,"user_id":11840553,"display_name":"Blake7000"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1568698410,"creation_date":1568618595,"answer_id":57952111,"question_id":11922323,"body_markdown":"I also have this problem, this solved it.\r\n\r\nChange the:\r\n\r\n&lt;code&gt;`Sring url = &quot;jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC&amp;user=root&amp;password=password&quot;;`&lt;/code&gt;\r\n\r\nSet:\r\n\r\n`&quot;serverTimezone=UTC&quot;` is `&quot;Unified standard world time&quot;`.\r\n`&quot;useUnicode=true&amp;characterEncoding=UTF-8&quot;` is `&quot;Solve Chinese garbled&quot;`.\r\n\r\nAlthough my database have not any Chinese words. But it is working.\r\nReference from &lt;https://www.cnblogs.com/EasonJim/p/6906713.html&gt;\r\n\r\n","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>I also have this problem, this solved it.</p>\n\n<p>Change the:</p>\n\n<p><code><code>Sring url = \"jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC&amp;user=root&amp;password=password\";</code></code></p>\n\n<p>Set:</p>\n\n<p><code>\"serverTimezone=UTC\"</code> is <code>\"Unified standard world time\"</code>.\n<code>\"useUnicode=true&amp;characterEncoding=UTF-8\"</code> is <code>\"Solve Chinese garbled\"</code>.</p>\n\n<p>Although my database have not any Chinese words. But it is working.\nReference from <a href=\"https://www.cnblogs.com/EasonJim/p/6906713.html\" rel=\"nofollow noreferrer\">https://www.cnblogs.com/EasonJim/p/6906713.html</a></p>\n"},{"tags":[],"owner":{"account_id":132720,"reputation":903,"user_id":333588,"display_name":"drdrej"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577734301,"creation_date":1577734301,"answer_id":59535971,"question_id":11922323,"body_markdown":"1. use correct jar (with correct version)\r\n2. give root user host-independent access or create a user\r\n","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<ol>\n<li>use correct jar (with correct version)</li>\n<li>give root user host-independent access or create a user</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12847260,"reputation":49,"user_id":9293234,"display_name":"sree"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1578084223,"creation_date":1578074666,"answer_id":59583272,"question_id":11922323,"body_markdown":"If you are using a MySql workbench, go to the home page of workbench, right click on your database, copy the JDBC connection string, and paste it into the Java program.\r\n","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>If you are using a MySql workbench, go to the home page of workbench, right click on your database, copy the JDBC connection string, and paste it into the Java program.</p>\n"},{"tags":[],"owner":{"account_id":12184662,"reputation":21,"user_id":8894955,"display_name":"Vivek Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584123811,"creation_date":1584123811,"answer_id":60675507,"question_id":11922323,"body_markdown":"For me the solution worked as by changing the url format to:\r\ncon=DriverManager.getConnection(&quot;jdbc:mysql://localhost/w3schools?user=###&amp;password=###&quot;);\r\nmake sure to add proper jar to class path and use the driver\r\nClass.forName(&quot;com.mysql.jdbc.Driver&quot;);","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>For me the solution worked as by changing the url format to:\ncon=DriverManager.getConnection(\"jdbc:mysql://localhost/w3schools?user=###&amp;password=###\");\nmake sure to add proper jar to class path and use the driver\nClass.forName(\"com.mysql.jdbc.Driver\");</p>\n"},{"comments":[{"owner":{"account_id":9527128,"reputation":837,"user_id":7080033,"display_name":"Devendra  Singraul"},"score":0,"creation_date":1642425646,"post_id":61244164,"comment_id":125060070,"body_markdown":"I am using Spring Boot 2.6.2(Windows) and faced the same issue when I tried your solution but not able to resolve my issue:","body":"I am using Spring Boot 2.6.2(Windows) and faced the same issue when I tried your solution but not able to resolve my issue:"}],"tags":[],"owner":{"account_id":1166737,"reputation":23,"user_id":1144816,"display_name":"Shanky"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1587019187,"creation_date":1587019187,"answer_id":61244164,"question_id":11922323,"body_markdown":"I am using Spring Boot 2.2.6(Windows) and faced the same issue when I tried the run the application:\r\n***java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)***\r\n\r\nWhat solved my problem:\r\n\r\n 1. Create a new user (from the MySQL workbench or a similar GUI which you might be using)\r\n 2. Grant DBA priviledges (Tick the DBA checkbox) also from the GUI\r\n 3. Run the spring boot application.\r\n\r\nOr follow the @evg solution to grant privilegdes from command line in Linux env.","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>I am using Spring Boot 2.2.6(Windows) and faced the same issue when I tried the run the application:\n<strong><em>java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)</em></strong></p>\n\n<p>What solved my problem:</p>\n\n<ol>\n<li>Create a new user (from the MySQL workbench or a similar GUI which you might be using)</li>\n<li>Grant DBA priviledges (Tick the DBA checkbox) also from the GUI</li>\n<li>Run the spring boot application.</li>\n</ol>\n\n<p>Or follow the @evg solution to grant privilegdes from command line in Linux env.</p>\n"},{"tags":[],"owner":{"account_id":18514116,"reputation":71,"user_id":13488618,"display_name":"Deepesh Rajpal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591263546,"creation_date":1591259052,"answer_id":62190036,"question_id":11922323,"body_markdown":"This resolved issue for me.\r\n\r\n```\r\nALTER USER &#39;root&#39;@&#39;%&#39; IDENTIFIED WITH mysql_native_password BY &#39;password&#39;;\r\n\r\nGRANT ALL PRIVILEGES ON *.cfe TO &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;password&#39;;\r\n\r\nFLUSH PRIVILEGES;\r\n```","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>This resolved issue for me.</p>\n\n<pre><code>ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY 'password';\n\nGRANT ALL PRIVILEGES ON *.cfe TO 'root'@'%' IDENTIFIED BY 'password';\n\nFLUSH PRIVILEGES;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10565954,"reputation":168,"user_id":7784194,"display_name":"Kinjal Akhani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592054973,"creation_date":1592053337,"answer_id":62360125,"question_id":11922323,"body_markdown":"I was also facing the same issue, My connection string is valid and username and password also valid, even user has sufficient privileges to access database.\r\n\r\nI solved this issue by deleting temporary folder created by MySQL(**Please take backup before deleting any folders** so in case if it not works then you can place that files again).\r\n\r\nDefault folder location for temp and connection files of MySQL in Windows is:\r\n&gt; C:\\ProgramData\\MySQL\r\n\r\nI deleted(taken backup) of below folder:\r\n\r\n&gt; C:\\ProgramData\\MySQL\\MySQL Server &lt;version&gt;\\Data\\sys\r\n\r\n**Note:** Before deleting any items make sure that MySQL service is not started or else it would not allow to delete any files\r\n\r\nAnd It works for me.","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>I was also facing the same issue, My connection string is valid and username and password also valid, even user has sufficient privileges to access database.</p>\n\n<p>I solved this issue by deleting temporary folder created by MySQL(<strong>Please take backup before deleting any folders</strong> so in case if it not works then you can place that files again).</p>\n\n<p>Default folder location for temp and connection files of MySQL in Windows is:</p>\n\n<blockquote>\n  <p>C:\\ProgramData\\MySQL</p>\n</blockquote>\n\n<p>I deleted(taken backup) of below folder:</p>\n\n<blockquote>\n  <p>C:\\ProgramData\\MySQL\\MySQL Server \\Data\\sys</p>\n</blockquote>\n\n<p><strong>Note:</strong> Before deleting any items make sure that MySQL service is not started or else it would not allow to delete any files</p>\n\n<p>And It works for me.</p>\n"},{"tags":[],"owner":{"account_id":18820664,"reputation":11,"user_id":13726739,"display_name":"Anum Shaikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599631762,"creation_date":1599583064,"answer_id":63798154,"question_id":11922323,"body_markdown":"My `application.properties` looked something like this \r\n\r\n```\r\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\nspring.datasource.url=jdbc:mysql://localhost:3306/mydb\r\n\r\nspring.datasource.username=root\r\n\r\nspring.datasource.password=root\r\n```\r\n\r\nThe only thing worked for me is to maven clean and then maven install.","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>My <code>application.properties</code> looked something like this</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/mydb\n\nspring.datasource.username=root\n\nspring.datasource.password=root\n</code></pre>\n<p>The only thing worked for me is to maven clean and then maven install.</p>\n"},{"tags":[],"owner":{"account_id":19988032,"reputation":11,"user_id":14649773,"display_name":"chengyu zhang"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613224195,"creation_date":1613224195,"answer_id":66185835,"question_id":11922323,"body_markdown":"When I&#39;m running a springboot project, the application.yml configuration is like this：\r\n```\r\nserver:\r\n  port: 8080\r\nspring:\r\n  datasource:\r\n    url: jdbc:mysql://localhost:3306/lof?serverTimezone=GMT\r\n    username: root\r\n    password: root\r\n    driver-class-name: com.mysql.cj.jdbc.Driver\r\n```\r\nNotice that there isn&#39;t quotation marks around the password. And I can run this project in my windows System.\r\n\r\nBut when I try to deploy to the server, I have the problem and I fix it by changing the application.yml to:\r\n```\r\nserver:\r\n  port: 8080\r\nspring:\r\n  datasource:\r\n    url: jdbc:mysql://localhost:3306/lof?serverTimezone=GMT\r\n    username: root\r\n    password: &quot;root&quot;\r\n    driver-class-name: com.mysql.cj.jdbc.Driver\r\n```\r\n","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>When I'm running a springboot project, the application.yml configuration is like this：</p>\n<pre><code>server:\n  port: 8080\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/lof?serverTimezone=GMT\n    username: root\n    password: root\n    driver-class-name: com.mysql.cj.jdbc.Driver\n</code></pre>\n<p>Notice that there isn't quotation marks around the password. And I can run this project in my windows System.</p>\n<p>But when I try to deploy to the server, I have the problem and I fix it by changing the application.yml to:</p>\n<pre><code>server:\n  port: 8080\nspring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/lof?serverTimezone=GMT\n    username: root\n    password: &quot;root&quot;\n    driver-class-name: com.mysql.cj.jdbc.Driver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20711701,"reputation":11,"user_id":15208191,"display_name":"Ashutosh Sharda"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613313100,"creation_date":1613309928,"answer_id":66195958,"question_id":11922323,"body_markdown":"Add port number (something like 3306) in: \r\n```\r\nConnection c = DriverManager.getConnection(&quot;jdbc:mysql://localhost:urport&quot;,&quot;root&quot;,&quot;root&quot;);\r\n```","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>Add port number (something like 3306) in:</p>\n<pre><code>Connection c = DriverManager.getConnection(&quot;jdbc:mysql://localhost:urport&quot;,&quot;root&quot;,&quot;root&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11232564,"reputation":5,"user_id":8240040,"display_name":"Ajay Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630875202,"creation_date":1630843378,"answer_id":69063231,"question_id":11922323,"body_markdown":"It&#39;s working fine for me while using same password after executing the following statement:\r\n\r\n    ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;root&#39;;","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>It's working fine for me while using same password after executing the following statement:</p>\n<pre><code>ALTER USER 'root'@'localhost' IDENTIFIED BY 'root';\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20547815,"reputation":347,"user_id":15081184,"display_name":"Developer-Felix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638710445,"creation_date":1638710445,"answer_id":70234726,"question_id":11922323,"body_markdown":"\r\n\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.username=root\r\n    spring.datasource.password=\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/DATABASE_NAME? useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\n\r\n\r\n**Go to your phpmyadmin database**\r\n\r\nCreate a database called DATABASE_NAME and go to priviledges and check the users who have priviledges in the database and use them the default is &quot;root&quot;","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<pre><code>spring.jpa.generate-ddl=true\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.username=root\nspring.datasource.password=\nspring.datasource.url=jdbc:mysql://localhost:3306/DATABASE_NAME? useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\n</code></pre>\n<p><strong>Go to your phpmyadmin database</strong></p>\n<p>Create a database called DATABASE_NAME and go to priviledges and check the users who have priviledges in the database and use them the default is &quot;root&quot;</p>\n"},{"comments":[{"owner":{"account_id":8722811,"reputation":7426,"user_id":6689725,"display_name":"Z4-tier"},"score":1,"creation_date":1657173345,"post_id":72878075,"comment_id":128748165,"body_markdown":"The OP (from 10 years ago, I suspect they&#39;ve moved on by now) shows `access denied` and not some sort of failed connection. So the port number is not likely the problem, since they must have been able to connect in order to have the credentials rejected.","body":"The OP (from 10 years ago, I suspect they&#39;ve moved on by now) shows <code>access denied</code> and not some sort of failed connection. So the port number is not likely the problem, since they must have been able to connect in order to have the credentials rejected."},{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1657396609,"post_id":72878075,"comment_id":128802176,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/32182452)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/32182452\">From Review</a>"}],"tags":[],"owner":{"account_id":25737153,"reputation":1,"user_id":19491693,"display_name":"Nadjah KARA"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1657182105,"creation_date":1657082915,"answer_id":72878075,"question_id":11922323,"body_markdown":"be sure that the port you are using in:\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:8000/database\r\n```\r\nis the same that MySQL uses on your machine:\r\ncheck for it with this command in MySQL CLI:\r\n\r\n```sql\r\nSHOW VARIABLES WHERE Variable_name = &#39;port&#39;;\r\n```","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>be sure that the port you are using in:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:8000/database\n</code></pre>\n<p>is the same that MySQL uses on your machine:\ncheck for it with this command in MySQL CLI:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SHOW VARIABLES WHERE Variable_name = 'port';\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17204357,"reputation":959,"user_id":12455245,"display_name":"Sadhvik Chirunomula"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657354249,"creation_date":1657354249,"answer_id":72919928,"question_id":11922323,"body_markdown":"In my case, I created a new user with name admin and used it...\r\n```\r\nCREATE USER &#39;admin&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;password&#39;;\r\nGRANT ALL PRIVILEGES ON *.* TO &#39;admin&#39;@&#39;localhost&#39;\r\nWITH GRANT OPTION;\r\n\r\nCREATE USER &#39;admin&#39;@&#39;%&#39; IDENTIFIED BY &#39;password&#39;;\r\nGRANT ALL PRIVILEGES ON *.* TO &#39;admin&#39;@&#39;%&#39;\r\nWITH GRANT OPTION;\r\n```","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>In my case, I created a new user with name admin and used it...</p>\n<pre><code>CREATE USER 'admin'@'localhost' IDENTIFIED BY 'password';\nGRANT ALL PRIVILEGES ON *.* TO 'admin'@'localhost'\nWITH GRANT OPTION;\n\nCREATE USER 'admin'@'%' IDENTIFIED BY 'password';\nGRANT ALL PRIVILEGES ON *.* TO 'admin'@'%'\nWITH GRANT OPTION;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25976695,"reputation":1,"user_id":19691053,"display_name":"Santhosh Ch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659613136,"creation_date":1659613136,"answer_id":73235305,"question_id":11922323,"body_markdown":"Due to below reason I created new user and password for mysql, now I am able to connect successfully. if your password is in encoded format please create new password \r\n\r\nhttps://www.digitalocean.com/community/tutorials/how-to-create-a-new-user-and-grant-permissions-in-mysql#:~:text=There%20is%20a,mysql_native_password%20plugin%20instead%3A\r\n\r\nThere is a known issue with some versions of PHP that causes problems with caching_sha2_password. If you plan to use this database with a PHP application — phpMyAdmin, for example — you may want to create a user that will authenticate with the older, though still secure, mysql_native_password plugin instead:\r\n\r\n","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>Due to below reason I created new user and password for mysql, now I am able to connect successfully. if your password is in encoded format please create new password</p>\n<p><a href=\"https://www.digitalocean.com/community/tutorials/how-to-create-a-new-user-and-grant-permissions-in-mysql#:%7E:text=There%20is%20a,mysql_native_password%20plugin%20instead%3A\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/tutorials/how-to-create-a-new-user-and-grant-permissions-in-mysql#:~:text=There%20is%20a,mysql_native_password%20plugin%20instead%3A</a></p>\n<p>There is a known issue with some versions of PHP that causes problems with caching_sha2_password. If you plan to use this database with a PHP application — phpMyAdmin, for example — you may want to create a user that will authenticate with the older, though still secure, mysql_native_password plugin instead:</p>\n"},{"tags":[],"owner":{"account_id":4813967,"reputation":21,"user_id":3886590,"display_name":"nokiajavi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680109021,"creation_date":1679869800,"answer_id":75850920,"question_id":11922323,"body_markdown":"Solved! change `localhost` by `127.1.1.1` in your java code, with `localhost` not connect and throws this exception.","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>Solved! change <code>localhost</code> by <code>127.1.1.1</code> in your java code, with <code>localhost</code> not connect and throws this exception.</p>\n"},{"tags":[],"owner":{"account_id":1282323,"reputation":4466,"user_id":1236153,"accept_rate":86,"display_name":"underdog"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689054388,"creation_date":1689054388,"answer_id":76658983,"question_id":11922323,"body_markdown":"Sometimes MySQL server, while creating the user, sets the authentication type other than &#39;Standard&#39;. The user I was using had the authentication type set to &#39;*caching_sha_password*&#39;. Because of this, the connection was failing. \r\n\r\nI created a new user via MySQL Workbench with all the privileges and set the authentication type to &#39;Standard&#39;, and the exception was gone. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3d6HQ.png","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>Sometimes MySQL server, while creating the user, sets the authentication type other than 'Standard'. The user I was using had the authentication type set to '<em>caching_sha_password</em>'. Because of this, the connection was failing.</p>\n<p>I created a new user via MySQL Workbench with all the privileges and set the authentication type to 'Standard', and the exception was gone.</p>\n<p><a href=\"https://i.stack.imgur.com/3d6HQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3d6HQ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":408442,"reputation":21426,"user_id":779111,"accept_rate":85,"display_name":"JAN"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":576043,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":11922393,"answer_count":33,"score":73,"last_activity_date":1689054388,"creation_date":1344775903,"question_id":11922323,"body_markdown":"The following code:\r\n\r\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    Connection m_connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost&quot;,&quot;root&quot;,&quot;root&quot;);\r\n\r\nThrows this exception on `getConnection()`:\r\n\r\n    java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)\r\n        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1074)\r\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4074)\r\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4006)\r\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:919)\r\n        at com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1694)\r\n        at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1244)\r\n        at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2397)\r\n        at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2430)\r\n        at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2215)\r\n        at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:813)\r\n        at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n        at java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n        at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\r\n        at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:399)\r\n        at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:334)\r\n        at java.sql.DriverManager.getConnection(Unknown Source)\r\n        at java.sql.DriverManager.getConnection(Unknown Source)\r\n        at db.Database.&lt;init&gt;(Database.java:91)\r\n        at db.Main.main(Main.java:10)\r\n\r\nHow is this caused and how can I solve it?\r\n\r\n\r\n**EDIT:**\r\n\r\n\r\n\r\n    \tpublic static void main(String[] args) throws ClassNotFoundException, ServletException, SQLException \r\n    \t{\r\n    \t\t\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tConnection conn = (Connection) DriverManager.getConnection(&quot;jdbc:mysql://localhost/?user=root&amp;password=rootpassword&quot;); \r\n    \t\t\tStatement\ts = (Statement) conn.createStatement();\r\n    \t\t\tint result = s.executeUpdate(&quot;CREATE DATABASE databasename&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \r\n    \t\tcatch ( Exception e)\r\n    \t\t{\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    }\r\n\r\n\r\n\r\nProduces :\r\n\r\n    java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1074)\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4074)\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4006)\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:919)\r\n    \tat com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1694)\r\n    \tat com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1244)\r\n    \tat com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2397)\r\n    \tat com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2430)\r\n    \tat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2215)\r\n    \tat com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:813)\r\n    \tat com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tat java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n    \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\r\n    \tat com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:399)\r\n    \tat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:334)\r\n    \tat java.sql.DriverManager.getConnection(Unknown Source)\r\n    \tat java.sql.DriverManager.getConnection(Unknown Source)\r\n    \tat db.Main.main(Main.java:19)","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)","body":"<p>The following code:</p>\n\n<pre><code>Class.forName(\"com.mysql.jdbc.Driver\");\nConnection m_connection = DriverManager.getConnection(\"jdbc:mysql://localhost\",\"root\",\"root\");\n</code></pre>\n\n<p>Throws this exception on <code>getConnection()</code>:</p>\n\n<pre><code>java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1074)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4074)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4006)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:919)\n    at com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1694)\n    at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1244)\n    at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2397)\n    at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2430)\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2215)\n    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:813)\n    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\n    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:399)\n    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:334)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at db.Database.&lt;init&gt;(Database.java:91)\n    at db.Main.main(Main.java:10)\n</code></pre>\n\n<p>How is this caused and how can I solve it?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<pre><code>    public static void main(String[] args) throws ClassNotFoundException, ServletException, SQLException \n    {\n\n        try\n        {\n            Connection conn = (Connection) DriverManager.getConnection(\"jdbc:mysql://localhost/?user=root&amp;password=rootpassword\"); \n            Statement   s = (Statement) conn.createStatement();\n            int result = s.executeUpdate(\"CREATE DATABASE databasename\");\n        }\n\n\n        catch ( Exception e)\n        {\n            e.printStackTrace();\n        }\n}\n</code></pre>\n\n<p>Produces :</p>\n\n<pre><code>java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1074)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4074)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4006)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:919)\n    at com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1694)\n    at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1244)\n    at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2397)\n    at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2430)\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2215)\n    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:813)\n    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\n    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:399)\n    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:334)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at db.Main.main(Main.java:19)\n</code></pre>\n"},{"tags":["java","flutter","android-studio","gradle"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682624078,"post_id":76123807,"comment_id":134249411,"body_markdown":"It would be recommendable to mention the versions of the products you are using. And the errors. Have you tried changing the version of Gradle or Java to make them compatible? Have you read the requirements of each product?","body":"It would be recommendable to mention the versions of the products you are using. And the errors. Have you tried changing the version of Gradle or Java to make them compatible? Have you read the requirements of each product?"},{"owner":{"account_id":28357688,"reputation":11,"user_id":21688175,"display_name":"Reza Sahebzadeh"},"score":0,"creation_date":1682675165,"post_id":76123807,"comment_id":134256378,"body_markdown":"Yes, I tried changing the version of gradle and Java and it to downgrade but I couldn&#39;t fix it, every time came the same problem, if  you have good intruction that I fix it, please write me","body":"Yes, I tried changing the version of gradle and Java and it to downgrade but I couldn&#39;t fix it, every time came the same problem, if  you have good intruction that I fix it, please write me"},{"owner":{"account_id":28357688,"reputation":11,"user_id":21688175,"display_name":"Reza Sahebzadeh"},"score":0,"creation_date":1682675306,"post_id":76123807,"comment_id":134256407,"body_markdown":"The version of gradle in project is 6.8.3 and the version of Java is 17","body":"The version of gradle in project is 6.8.3 and the version of Java is 17"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682680518,"post_id":76123807,"comment_id":134257478,"body_markdown":"You need to provide the rest of the information to help others to help you. Versions of Flutter, Android Studio, etc, errors, configurations.","body":"You need to provide the rest of the information to help others to help you. Versions of Flutter, Android Studio, etc, errors, configurations."},{"owner":{"account_id":28357688,"reputation":11,"user_id":21688175,"display_name":"Reza Sahebzadeh"},"score":0,"creation_date":1682682097,"post_id":76123807,"comment_id":134257798,"body_markdown":"Flutter version 3.7.12, Android Studio version flamingo 2022.2.1, FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not open settings generic class cache for settings file &#39;C:\\Source\\pizzaboy\\android\\settings.gradle&#39; (C:\\Users\\Gholamreza\\.gradle\\caches\\6.8.3\\scripts\\9w4vzv9io97x5h1yfb63h0ld4).\n&gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 61","body":"Flutter version 3.7.12, Android Studio version flamingo 2022.2.1, FAILURE: Build failed with an exception.  * What went wrong: Could not open settings generic class cache for settings file &#39;C:\\Source\\pizzaboy\\android\\settings.gradle&#39; (C:\\Users\\Gholamreza\\.gradle\\caches\\6.8.3\\scripts\\9w4vzv9io9&zwnj;&#8203;7x5h1yfb63h0ld4). &gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;<i>BuildScript</i>&#39; Unsupported class file major version 61"},{"owner":{"account_id":28357688,"reputation":11,"user_id":21688175,"display_name":"Reza Sahebzadeh"},"score":0,"creation_date":1682682363,"post_id":76123807,"comment_id":134257855,"body_markdown":"* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s","body":"* Try: Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.  * Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">help.gradle.org</a>  BUILD FAILED in 1s"},{"owner":{"account_id":28357688,"reputation":11,"user_id":21688175,"display_name":"Reza Sahebzadeh"},"score":0,"creation_date":1682682396,"post_id":76123807,"comment_id":134257865,"body_markdown":"To fix this issue, first, check the Java version used by Flutter by running `flutter doctor    │\n│ --verbose`.                                                                                    │\n│                                                                                                │\n│ Then, update the Gradle version specified in                                                   │\n│ C:\\Source\\pizzaboy\\android\\gradle\\wrapper\\gradle-wrapper.properties to be compatible with that │\n│ Java version. See the link below for more information on compatible Java/Gradle versions:","body":"To fix this issue, first, check the Java version used by Flutter by running <code>flutter doctor    │ │ --verbose</code>.                                                                                    │ │                                                                                                │ │ Then, update the Gradle version specified in                                                   │ │ C:\\Source\\pizzaboy\\android\\gradle\\wrapper\\gradle-wrapper.pro&zwnj;&#8203;perties to be compatible with that │ │ Java version. See the link below for more information on compatible Java/Gradle versions:"},{"owner":{"account_id":28357688,"reputation":11,"user_id":21688175,"display_name":"Reza Sahebzadeh"},"score":0,"creation_date":1682682529,"post_id":76123807,"comment_id":134257891,"body_markdown":"it has this problem just by this project because of gradle version and java version","body":"it has this problem just by this project because of gradle version and java version"},{"owner":{"account_id":28357688,"reputation":11,"user_id":21688175,"display_name":"Reza Sahebzadeh"},"score":0,"creation_date":1682684401,"post_id":76123807,"comment_id":134258330,"body_markdown":"I wrote this command incmd for java -version and then\njava version &quot;10.0.2&quot; 2018-07-17\nJava(TM) SE Runtime Environment 18.3 (build 10.0.2+13)\nJava HotSpot(TM) 64-Bit Server VM 18.3 (build 10.0.2+13, mixed mode)","body":"I wrote this command incmd for java -version and then java version &quot;10.0.2&quot; 2018-07-17 Java(TM) SE Runtime Environment 18.3 (build 10.0.2+13) Java HotSpot(TM) 64-Bit Server VM 18.3 (build 10.0.2+13, mixed mode)"},{"owner":{"account_id":28357688,"reputation":11,"user_id":21688175,"display_name":"Reza Sahebzadeh"},"score":0,"creation_date":1682685201,"post_id":76123807,"comment_id":134258537,"body_markdown":"please write me how to change java version correct","body":"please write me how to change java version correct"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682685489,"post_id":76123807,"comment_id":134258613,"body_markdown":"Please edit your question and add the details in a way that&#39;s understandable. It is very difficult to track comments and they lack proper order and formatting.","body":"Please edit your question and add the details in a way that&#39;s understandable. It is very difficult to track comments and they lack proper order and formatting."},{"owner":{"account_id":28357688,"reputation":11,"user_id":21688175,"display_name":"Reza Sahebzadeh"},"score":0,"creation_date":1682753477,"post_id":76123807,"comment_id":134268000,"body_markdown":"I would like to know how I can fix the problem gradle version of my project with version 6.8.3 and the compatible version of java version of my PC, I can&#39;t find the compatible version of Java with my project that it could work right I think, because of I upgraded my android studio with it upgraded Java too and I can&#39;t it downgrade again, I wish that you understood now.","body":"I would like to know how I can fix the problem gradle version of my project with version 6.8.3 and the compatible version of java version of my PC, I can&#39;t find the compatible version of Java with my project that it could work right I think, because of I upgraded my android studio with it upgraded Java too and I can&#39;t it downgrade again, I wish that you understood now."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1682773589,"post_id":76123807,"comment_id":134269932,"body_markdown":"Please edit your question to add the missing information from the comments.","body":"Please edit your question to add the missing information from the comments."}],"answers":[{"tags":[],"owner":{"account_id":9584657,"reputation":558,"user_id":7117906,"display_name":"abdullah_bd"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1685637184,"creation_date":1685637184,"answer_id":76383993,"question_id":76123807,"body_markdown":"As you are using **java 17**, then upgrade **gradle** to *version 7.3* at least.\r\nget idea from [Compatibility Matrix][1]. \r\nYou can also get version idea from [Gradle Release][2]\r\n\r\n\r\nGo to\r\n\r\n- Step 1: Go to the gradle directory for your project:\r\n\r\n    cd android/gradle/wrapper\r\n\r\n - Step 2: Edit the gradle-wrapper.properties file to change the distribution Url field to the preferred Gradle version (7.3 or others):\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.1-all.zip\r\n\r\n\r\nHappy Fixing! \r\n\r\n  [1]: https://docs.gradle.org/current/userguide/compatibility.html\r\n  [2]: https://gradle.org/releases/","title":"my project&#39;s Gradle version is incompatible with the Java version that Flutter is using for Gradle","body":"<p>As you are using <strong>java 17</strong>, then upgrade <strong>gradle</strong> to <em>version 7.3</em> at least.\nget idea from <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"noreferrer\">Compatibility Matrix</a>.\nYou can also get version idea from <a href=\"https://gradle.org/releases/\" rel=\"noreferrer\">Gradle Release</a></p>\n<p>Go to</p>\n<ul>\n<li><p>Step 1: Go to the gradle directory for your project:</p>\n<p>cd android/gradle/wrapper</p>\n</li>\n<li><p>Step 2: Edit the gradle-wrapper.properties file to change the distribution Url field to the preferred Gradle version (7.3 or others):</p>\n<p>distributionUrl=https://services.gradle.org/distributions/gradle-7.6.1-all.zip</p>\n</li>\n</ul>\n<p>Happy Fixing!</p>\n"},{"tags":[],"owner":{"account_id":19498432,"reputation":11,"user_id":14265089,"display_name":"Ajit Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689054310,"creation_date":1688747945,"answer_id":76638767,"question_id":76123807,"body_markdown":"Change on latest gradle will work\r\n\r\n    distributionUrl=https://services.gradle.org/distributions/gradle-Latest version-all.zip\r\n\r\nExample: `distributionUrl=https://services.gradle.org/distributions/gradle-7.6.1-all.zip`","title":"my project&#39;s Gradle version is incompatible with the Java version that Flutter is using for Gradle","body":"<p>Change on latest gradle will work</p>\n<pre><code>distributionUrl=https://services.gradle.org/distributions/gradle-Latest version-all.zip\n</code></pre>\n<p>Example: <code>distributionUrl=https://services.gradle.org/distributions/gradle-7.6.1-all.zip</code></p>\n"}],"owner":{"account_id":28357688,"reputation":11,"user_id":21688175,"display_name":"Reza Sahebzadeh"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14006,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1689054310,"creation_date":1682622015,"question_id":76123807,"body_markdown":"I wanted to move my project into Android Studio and when I was running the simulator, the project was running fine. Since I updated Android Studio, the simulator has the error that the Gradle version of the project is not compatible with the Java version.\r\n\r\nI would like to know how I can fix the problem gradle version of my project with version 6.8.3 and the compatible version of java version of my PC, I can&#39;t find the compatible version of Java with my project that it could work right I think, because of I upgraded my android studio with it upgraded Java too and I can&#39;t it downgrade again, I wish that you understood now.\r\n\r\n**Setup**:\r\n\r\nGradle 6.8.3  \r\nJava 17  \r\nFlutter 3.7.12  \r\nAndroid Studio 2022.2.1\r\n\r\n**Error Message**:\r\n```\r\nFAILURE: Build failed with an exception.\r\n* What went wrong: Could not open settings generic class cache for settings file &#39;.\\android\\settings.gradle&#39; (.\\.gradle\\caches\\6.8.3\\scripts\\9w4vzv9io97x5h1yfb63h0ld4).\r\n &gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;BuildScript&#39; Unsupported class file major version 61\r\n\r\nTo fix this issue, first, check the Java version used by Flutter by running flutter doctor --verbose. Then, update the Gradle version specified in .\\android\\gradle\\wrapper\\gradle-wrapper.properties to be compatible with that Java version.\r\n```\r\n\r\n**Output from `java --version`**:\r\n```\r\njava version &quot;10.0.2&quot; 2018-07-17\r\nJava(TM) SE Runtime Environment 18.3 (build 10.0.2+13)\r\nJava HotSpot(TM) 64-Bit Server VM 18.3 (build 10.0.2+13, mixed mode)\r\n```","title":"my project&#39;s Gradle version is incompatible with the Java version that Flutter is using for Gradle","body":"<p>I wanted to move my project into Android Studio and when I was running the simulator, the project was running fine. Since I updated Android Studio, the simulator has the error that the Gradle version of the project is not compatible with the Java version.</p>\n<p>I would like to know how I can fix the problem gradle version of my project with version 6.8.3 and the compatible version of java version of my PC, I can't find the compatible version of Java with my project that it could work right I think, because of I upgraded my android studio with it upgraded Java too and I can't it downgrade again, I wish that you understood now.</p>\n<p><strong>Setup</strong>:</p>\n<p>Gradle 6.8.3<br />\nJava 17<br />\nFlutter 3.7.12<br />\nAndroid Studio 2022.2.1</p>\n<p><strong>Error Message</strong>:</p>\n<pre><code>FAILURE: Build failed with an exception.\n* What went wrong: Could not open settings generic class cache for settings file '.\\android\\settings.gradle' (.\\.gradle\\caches\\6.8.3\\scripts\\9w4vzv9io97x5h1yfb63h0ld4).\n &gt; BUG! exception in phase 'semantic analysis' in source unit 'BuildScript' Unsupported class file major version 61\n\nTo fix this issue, first, check the Java version used by Flutter by running flutter doctor --verbose. Then, update the Gradle version specified in .\\android\\gradle\\wrapper\\gradle-wrapper.properties to be compatible with that Java version.\n</code></pre>\n<p><strong>Output from <code>java --version</code></strong>:</p>\n<pre><code>java version &quot;10.0.2&quot; 2018-07-17\nJava(TM) SE Runtime Environment 18.3 (build 10.0.2+13)\nJava HotSpot(TM) 64-Bit Server VM 18.3 (build 10.0.2+13, mixed mode)\n</code></pre>\n"},{"tags":["java","spring-boot","junit-jupiter"],"comments":[{"owner":{"account_id":21738867,"reputation":4168,"user_id":16046521,"display_name":"Salvino D&#39;sa"},"score":0,"creation_date":1689049391,"post_id":76657487,"comment_id":135154300,"body_markdown":"Does this answer your question? [Maven not running JUnit 5 tests](https://stackoverflow.com/questions/53433663/maven-not-running-junit-5-tests). You are most likely missing the `junit-jupiter-engine` dependency. You can solve this by just adding one single [Aggregator](https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter/5.10.0-RC1) dependency that contains the `junit-jupiter-api` as well as the `junit-jupiter-engine` dependency.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/53433663/maven-not-running-junit-5-tests\">Maven not running JUnit 5 tests</a>. You are most likely missing the <code>junit-jupiter-engine</code> dependency. You can solve this by just adding one single <a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter/5.10.0-RC1\" rel=\"nofollow noreferrer\">Aggregator</a> dependency that contains the <code>junit-jupiter-api</code> as well as the <code>junit-jupiter-engine</code> dependency."}],"owner":{"account_id":281380,"reputation":2648,"user_id":577647,"accept_rate":69,"display_name":"tolga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689054102,"creation_date":1689024986,"question_id":76657487,"body_markdown":"I coded a test for a method in my service. **mvn test** command can&#39;t find any tests. \r\n\r\nService is under \r\n\r\n    src/main/java/com/nexus/dynamo\r\n\r\nSo I put the test file in:\r\n\r\n    src/test/java/com/nexus/dynamo\r\n\r\nStill no chance. What am I missing? \r\n\r\n    @SpringBootTest\r\n    public class DynamoDBTests {\r\n        @Autowired\r\n        DynamoService dynamoService;\r\n    \r\n        @Test\r\n        public void testConvertIntoDTOList() {\r\n            List&lt;String&gt; tableNames = Arrays.asList(&quot;Table1&quot;, &quot;Table2&quot;, &quot;Table3&quot;);\r\n            List&lt;DynamoDTO&gt; result = dynamoService.convertIntoDTOList(tableNames);\r\n\r\n        Assertions.assertEquals(tableNames.size(), result.size());\r\n\r\n        for (int i = 0; i &lt; tableNames.size(); i++) {\r\n            String expectedName = tableNames.get(i);\r\n            DynamoDTO actualDTO = result.get(i);\r\n\r\n            Assertions.assertEquals(expectedName, actualDTO.getName());\r\n        }\r\n    }\r\n    }","title":"Jupiter can&#39;t find the test file in SpringBoot project","body":"<p>I coded a test for a method in my service. <strong>mvn test</strong> command can't find any tests.</p>\n<p>Service is under</p>\n<pre><code>src/main/java/com/nexus/dynamo\n</code></pre>\n<p>So I put the test file in:</p>\n<pre><code>src/test/java/com/nexus/dynamo\n</code></pre>\n<p>Still no chance. What am I missing?</p>\n<pre><code>@SpringBootTest\npublic class DynamoDBTests {\n    @Autowired\n    DynamoService dynamoService;\n\n    @Test\n    public void testConvertIntoDTOList() {\n        List&lt;String&gt; tableNames = Arrays.asList(&quot;Table1&quot;, &quot;Table2&quot;, &quot;Table3&quot;);\n        List&lt;DynamoDTO&gt; result = dynamoService.convertIntoDTOList(tableNames);\n\n    Assertions.assertEquals(tableNames.size(), result.size());\n\n    for (int i = 0; i &lt; tableNames.size(); i++) {\n        String expectedName = tableNames.get(i);\n        DynamoDTO actualDTO = result.get(i);\n\n        Assertions.assertEquals(expectedName, actualDTO.getName());\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","proguard"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688992168,"post_id":76653406,"comment_id":135145367,"body_markdown":"I&#39;m seeing a lot of assumptions. Did you check what&#39;s *actually* happening? Just look at the generated class files: If the function is there, you have a different problem. If it&#39;s not, Proguard removed it.","body":"I&#39;m seeing a lot of assumptions. Did you check what&#39;s <i>actually</i> happening? Just look at the generated class files: If the function is there, you have a different problem. If it&#39;s not, Proguard removed it."},{"owner":{"account_id":11057702,"reputation":263,"user_id":8120100,"display_name":"artaxerx"},"score":0,"creation_date":1689055289,"post_id":76653406,"comment_id":135154897,"body_markdown":"Function are still here, as I say before, but it&#39;s the **class** which is not visible anymore. If I use _object_ approach there is `Utils.class`  and in decompiled class all&#39;s well.  When using _functions_ approach it is also here and all functions are present, but no class `Utils` in decompiled `Utils.class` file (but it is shown in `Utils.decompiled.java` view), so old imports are broken","body":"Function are still here, as I say before, but it&#39;s the <b>class</b> which is not visible anymore. If I use <i>object</i> approach there is <code>Utils.class</code>  and in decompiled class all&#39;s well.  When using <i>functions</i> approach it is also here and all functions are present, but no class <code>Utils</code> in decompiled <code>Utils.class</code> file (but it is shown in <code>Utils.decompiled.java</code> view), so old imports are broken"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689059340,"post_id":76653406,"comment_id":135155549,"body_markdown":"That&#39;s not possible. Java has exactly one `.class` file per class. If there&#39;s a `Utils.class` file, there&#39;s a `Utils` class. So &quot;no class Utils in decompiled Utils.class file&quot; can&#39;t be true.","body":"That&#39;s not possible. Java has exactly one <code>.class</code> file per class. If there&#39;s a <code>Utils.class</code> file, there&#39;s a <code>Utils</code> class. So &quot;no class Utils in decompiled Utils.class file&quot; can&#39;t be true."},{"owner":{"account_id":11057702,"reputation":263,"user_id":8120100,"display_name":"artaxerx"},"score":0,"creation_date":1689078229,"post_id":76653406,"comment_id":135159447,"body_markdown":"Sorry, my description was not accurate. Please see [screenshots here](https://imgur.com/a/JB6NPQ4). So the class is visible in Java code, but not in Kotlin code. Maybe it is designed to be like this but not so well documented, and I am missing something in concepts.","body":"Sorry, my description was not accurate. Please see <a href=\"https://imgur.com/a/JB6NPQ4\" rel=\"nofollow noreferrer\">screenshots here</a>. So the class is visible in Java code, but not in Kotlin code. Maybe it is designed to be like this but not so well documented, and I am missing something in concepts."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1689078595,"post_id":76653406,"comment_id":135159539,"body_markdown":"So is the question simply &quot;Why does the Java-decompiled code have a `Utils2` class while the Kotlin code does not&quot;? Then the answer is simple: Kotlin supports top-level functions outside classes, and Java does not. So the Java decompiler cannot generate valid Java source code without generating a class around it.","body":"So is the question simply &quot;Why does the Java-decompiled code have a <code>Utils2</code> class while the Kotlin code does not&quot;? Then the answer is simple: Kotlin supports top-level functions outside classes, and Java does not. So the Java decompiler cannot generate valid Java source code without generating a class around it."},{"owner":{"account_id":11057702,"reputation":263,"user_id":8120100,"display_name":"artaxerx"},"score":0,"creation_date":1689084051,"post_id":76653406,"comment_id":135161032,"body_markdown":"Close, but not exactly. The question is &quot;Why Kotlin cannot access top-level functions the same way Java does, additionally to its own way?&quot;.","body":"Close, but not exactly. The question is &quot;Why Kotlin cannot access top-level functions the same way Java does, additionally to its own way?&quot;."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689088175,"post_id":76653406,"comment_id":135162095,"body_markdown":"Because that&#39;s not how Kotlin works. To Kotlin, that class does not exist. It only exists for Java, and then only because it has to.","body":"Because that&#39;s not how Kotlin works. To Kotlin, that class does not exist. It only exists for Java, and then only because it has to."},{"owner":{"account_id":11057702,"reputation":263,"user_id":8120100,"display_name":"artaxerx"},"score":0,"creation_date":1689140514,"post_id":76653406,"comment_id":135169091,"body_markdown":"Thanks. Could you please write this as answer so I would accept it?","body":"Thanks. Could you please write this as answer so I would accept it?"}],"owner":{"account_id":11057702,"reputation":263,"user_id":8120100,"display_name":"artaxerx"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689053822,"creation_date":1688989504,"question_id":76653406,"body_markdown":"I have an AAR library to use in several Android applications. It was written most in Java but I want to rewrite some utils pseudoclasses in Kotlin to make further development easier. But when I did so calls from the other places have been broken. For example, previously it was something like this:\r\n\r\n    /*inside library project, Java*/\r\n    package com.example.library\r\n    \r\n    public interface Utils {\r\n        static int functionOne() { return 1; }\r\n    }\r\n\r\n    /*inside application project, Kotlin*/\r\n    package com.example.app\r\n    import com.example.library.Utils\r\n\r\n    class SomeClass {\r\n        private val myOne = Utils.functionOne()\r\n    }\r\n\r\nBut when I rewrite `Utils` into Kotlin functions file I cannot use it like this anymore. [Documentation says][1] that it should be easy. So approach below breaks the code outside:\r\n\r\n    @file:JvmName(&quot;Utils&quot;)\r\n    package com.example.library\r\n\r\n    fun functionOne() : Int = 1\r\n\r\nAnd there is no more `com.example.library.Utils.functionOne` when I include AAR to my application, only `com.example.library.functionOne` which is pretty different signature, so every class in Java or Kotlin using `Utils` outside AAR should be updated. But I still can call function like `Utils.functionOne()` within my library project. Also if I use different approach via `object` signatures would be kept, but redundant definitions would be generated too.\r\n\r\n    package com.example.library\r\n\r\n    object Utils {\r\n        @JvmStatic\r\n        fun functionOne() : Int = 1\r\n    }\r\n\r\nSo I think that the issue concerns some **proguard** definitions. And [this way][2] does not help, even my IDE highlights `-keepkotlinmetadata` in red telling that flag is invalid, neither works `-keep class kotlin.Metadata`.\r\n\r\n\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/java-to-kotlin-interop.html\r\n  [2]: https://stackoverflow.com/questions/52818000/how-to-keep-package-level-kotlin-functions-in-proguard","title":"Cannot keep class name for Kotlin functions inside AAR","body":"<p>I have an AAR library to use in several Android applications. It was written most in Java but I want to rewrite some utils pseudoclasses in Kotlin to make further development easier. But when I did so calls from the other places have been broken. For example, previously it was something like this:</p>\n<pre><code>/*inside library project, Java*/\npackage com.example.library\n\npublic interface Utils {\n    static int functionOne() { return 1; }\n}\n\n/*inside application project, Kotlin*/\npackage com.example.app\nimport com.example.library.Utils\n\nclass SomeClass {\n    private val myOne = Utils.functionOne()\n}\n</code></pre>\n<p>But when I rewrite <code>Utils</code> into Kotlin functions file I cannot use it like this anymore. <a href=\"https://kotlinlang.org/docs/java-to-kotlin-interop.html\" rel=\"nofollow noreferrer\">Documentation says</a> that it should be easy. So approach below breaks the code outside:</p>\n<pre><code>@file:JvmName(&quot;Utils&quot;)\npackage com.example.library\n\nfun functionOne() : Int = 1\n</code></pre>\n<p>And there is no more <code>com.example.library.Utils.functionOne</code> when I include AAR to my application, only <code>com.example.library.functionOne</code> which is pretty different signature, so every class in Java or Kotlin using <code>Utils</code> outside AAR should be updated. But I still can call function like <code>Utils.functionOne()</code> within my library project. Also if I use different approach via <code>object</code> signatures would be kept, but redundant definitions would be generated too.</p>\n<pre><code>package com.example.library\n\nobject Utils {\n    @JvmStatic\n    fun functionOne() : Int = 1\n}\n</code></pre>\n<p>So I think that the issue concerns some <strong>proguard</strong> definitions. And <a href=\"https://stackoverflow.com/questions/52818000/how-to-keep-package-level-kotlin-functions-in-proguard\">this way</a> does not help, even my IDE highlights <code>-keepkotlinmetadata</code> in red telling that flag is invalid, neither works <code>-keep class kotlin.Metadata</code>.</p>\n"},{"tags":["java","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":67541,"reputation":60868,"user_id":197606,"accept_rate":85,"display_name":"Ben"},"score":0,"creation_date":1337027810,"post_id":10590424,"comment_id":13717012,"body_markdown":"I added your content and imported `java.lang.reflect.Type;` and `type` does not have the method `getRawType()`","body":"I added your content and imported <code>java.lang.reflect.Type;</code> and <code>type</code> does not have the method <code>getRawType()</code>"},{"owner":{"account_id":69275,"reputation":10431,"user_id":201672,"display_name":"tonio"},"score":0,"creation_date":1337028154,"post_id":10590424,"comment_id":13717112,"body_markdown":"oh, i forgot a cast. It `type` is of type `ParameterizedType`, you have to cast it to `ParameterizedType` in order to call `getRawType()`.","body":"oh, i forgot a cast. It <code>type</code> is of type <code>ParameterizedType</code>, you have to cast it to <code>ParameterizedType</code> in order to call <code>getRawType()</code>."}],"tags":[],"owner":{"account_id":69275,"reputation":10431,"user_id":201672,"display_name":"tonio"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1337028076,"creation_date":1337026707,"answer_id":10590424,"question_id":10589767,"body_markdown":"It seems you are misusing `ParameterizedType`.\r\nIn the `EntityRepository` constructor, you should be using something like the following, with the appropriate checks.\r\n\r\n    public EntityRepository () {\r\n        //Get &quot;T&quot; and assign it to this.entityClass\r\n        ParameterizedType genericSuperclass = (ParameterizedType) getClass().getGenericSuperclass();\r\n        Type type = genericSuperclass.getActualTypeArguments()[0];\r\n        if (type instanceof Class) {\r\n          this.entityClass = (Class&lt;T&gt;) type;\r\n        } else if (type instanceof ParameterizedType) {\r\n          this.entityClass = (Class&lt;T&gt;) ((ParameterizedType)type).getRawType();\r\n        }\r\n    }\r\n\r\nThis implementation is far from complete though, as you should also handle `GenericArrayType` values, as well as nested `ParameterizedType`.","title":"Class cannot be cast to java.lang.reflect.ParameterizedType","body":"<p>It seems you are misusing <code>ParameterizedType</code>.\nIn the <code>EntityRepository</code> constructor, you should be using something like the following, with the appropriate checks.</p>\n\n<pre><code>public EntityRepository () {\n    //Get \"T\" and assign it to this.entityClass\n    ParameterizedType genericSuperclass = (ParameterizedType) getClass().getGenericSuperclass();\n    Type type = genericSuperclass.getActualTypeArguments()[0];\n    if (type instanceof Class) {\n      this.entityClass = (Class&lt;T&gt;) type;\n    } else if (type instanceof ParameterizedType) {\n      this.entityClass = (Class&lt;T&gt;) ((ParameterizedType)type).getRawType();\n    }\n}\n</code></pre>\n\n<p>This implementation is far from complete though, as you should also handle <code>GenericArrayType</code> values, as well as nested <code>ParameterizedType</code>.</p>\n"},{"comments":[{"owner":{"account_id":268839,"reputation":6595,"user_id":557836,"accept_rate":83,"display_name":"Atticus"},"score":0,"creation_date":1350072073,"post_id":12828972,"comment_id":17415794,"body_markdown":"I just wanted to say that this is the design approach i use for my data access layer. Let me know if you have questions.","body":"I just wanted to say that this is the design approach i use for my data access layer. Let me know if you have questions."},{"owner":{"account_id":1131891,"reputation":5249,"user_id":1117789,"accept_rate":41,"display_name":"Allan Ruin"},"score":1,"creation_date":1393402510,"post_id":12828972,"comment_id":33406385,"body_markdown":"can spring autowire the entityClass this way?","body":"can spring autowire the entityClass this way?"}],"tags":[],"owner":{"account_id":268839,"reputation":6595,"user_id":557836,"accept_rate":83,"display_name":"Atticus"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1349905830,"creation_date":1349905830,"answer_id":12828972,"question_id":10589767,"body_markdown":"Just saying, this is a pretty poor design for determining the entity type..\r\nYou should do the following instead of relying on reflection to infer its class def..\r\nNot only will it get rid of that error, but it will be overall cleaner and at a low level, faster than reflection (not that it would really be an issue).\r\n\r\n\r\n\r\n    \t\r\n    @Repository\r\n    public abstract class EntityRepository&lt;T&gt;{\r\n    \tprotected Class&lt;T&gt; entityClass;\r\n    \t\r\n    \tpublic EntityRepository(Class&lt;T&gt; entityClass){\r\n    \t\tthis.entityClass = entityClass;\r\n    \t}\r\n    \t\r\n    \t//...\r\n    }\r\n    \r\n    \r\n    public class UserEntityRepository extends EntityRepository&lt;User&gt;{\r\n    \tpublic UserEntityRepository(){\r\n    \t\tsuper(User.class);\r\n    \t}\r\n    }\r\n\r\n","title":"Class cannot be cast to java.lang.reflect.ParameterizedType","body":"<p>Just saying, this is a pretty poor design for determining the entity type..\nYou should do the following instead of relying on reflection to infer its class def..\nNot only will it get rid of that error, but it will be overall cleaner and at a low level, faster than reflection (not that it would really be an issue).</p>\n\n<pre><code>@Repository\npublic abstract class EntityRepository&lt;T&gt;{\n    protected Class&lt;T&gt; entityClass;\n\n    public EntityRepository(Class&lt;T&gt; entityClass){\n        this.entityClass = entityClass;\n    }\n\n    //...\n}\n\n\npublic class UserEntityRepository extends EntityRepository&lt;User&gt;{\n    public UserEntityRepository(){\n        super(User.class);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":256347,"reputation":145,"user_id":537012,"display_name":"Michael Panchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1458105263,"creation_date":1422516760,"answer_id":28209213,"question_id":10589767,"body_markdown":"EntityRepository isn&#39;t ParameterizedType type. This class only extends ParameterizedType. This is also possible if spring proxied you class by cglib\r\n\r\nWe need check parents of class\r\n\r\n    public EntityRepository () {\r\n        //Get &quot;T&quot; and assign it to this.entityClass\r\n        Type genericSuperClass = getClass().getGenericSuperclass();\r\n\r\n        ParameterizedType parametrizedType = null;\r\n        while (parametrizedType == null) {\r\n            if ((genericSuperClass instanceof ParameterizedType)) {\r\n                parametrizedType = (ParameterizedType) genericSuperClass;\r\n            } else {\r\n                genericSuperClass = ((Class&lt;?&gt;) genericSuperClass).getGenericSuperclass();\r\n            }\r\n        }\r\n\r\n        entityClass = (Class&lt;T&gt;) parametrizedType.getActualTypeArguments()[0];\r\n    }","title":"Class cannot be cast to java.lang.reflect.ParameterizedType","body":"<p>EntityRepository isn't ParameterizedType type. This class only extends ParameterizedType. This is also possible if spring proxied you class by cglib</p>\n\n<p>We need check parents of class</p>\n\n<pre><code>public EntityRepository () {\n    //Get \"T\" and assign it to this.entityClass\n    Type genericSuperClass = getClass().getGenericSuperclass();\n\n    ParameterizedType parametrizedType = null;\n    while (parametrizedType == null) {\n        if ((genericSuperClass instanceof ParameterizedType)) {\n            parametrizedType = (ParameterizedType) genericSuperClass;\n        } else {\n            genericSuperClass = ((Class&lt;?&gt;) genericSuperClass).getGenericSuperclass();\n        }\n    }\n\n    entityClass = (Class&lt;T&gt;) parametrizedType.getActualTypeArguments()[0];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5798458,"reputation":111,"user_id":4573462,"display_name":"balatamilmani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489934974,"creation_date":1489934974,"answer_id":42887965,"question_id":10589767,"body_markdown":"@Repository annotation needs to be removed from the class EntityRepository&lt;T&gt; to solve the problem.\r\n\r\nRead this thread\r\n\r\nhttps://stackoverflow.com/questions/11067512/java-lang-class-cannot-be-cast-to-java-lang-reflect-parameterizedtype/42887896#42887896","title":"Class cannot be cast to java.lang.reflect.ParameterizedType","body":"<p>@Repository annotation needs to be removed from the class EntityRepository to solve the problem.</p>\n\n<p>Read this thread</p>\n\n<p><a href=\"https://stackoverflow.com/questions/11067512/java-lang-class-cannot-be-cast-to-java-lang-reflect-parameterizedtype/42887896#42887896\">java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType</a></p>\n"},{"tags":[],"owner":{"account_id":20159165,"reputation":2445,"user_id":14784590,"display_name":"Reejesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689052460,"creation_date":1689049664,"answer_id":76658715,"question_id":10589767,"body_markdown":"In my case, adding pro guard rules solved the issue, because I was using the Type wrapped in Live Data.\r\n\r\nBut the issue failed to replicate in a new project. Possible that there were issues with multiple modules in the project.\r\n\r\nRule added:\r\n\r\n    -keep class androidx.lifecycle.LiveData { *; } \r\n\r\nHere is the thread to solution : \r\n[ClassCastException java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType][1]\r\n\r\n\r\nIf you have recently upgraded Gradle and Java in your project, you are most likely using R8. So you might wanna check out the other dependencies for your project to work, like : \r\n\r\n[GSON Proguard for R8][2]\r\n\r\n[Retrofit Proguard][3]\r\n\r\n\r\n  [1]: https://github.com/android/architecture-components-samples/issues/1088\r\n  [2]: https://stackoverflow.com/a/61481954/14784590\r\n  [3]: https://stackoverflow.com/a/65251059/14784590","title":"Class cannot be cast to java.lang.reflect.ParameterizedType","body":"<p>In my case, adding pro guard rules solved the issue, because I was using the Type wrapped in Live Data.</p>\n<p>But the issue failed to replicate in a new project. Possible that there were issues with multiple modules in the project.</p>\n<p>Rule added:</p>\n<pre><code>-keep class androidx.lifecycle.LiveData { *; } \n</code></pre>\n<p>Here is the thread to solution :\n<a href=\"https://github.com/android/architecture-components-samples/issues/1088\" rel=\"nofollow noreferrer\">ClassCastException java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType</a></p>\n<p>If you have recently upgraded Gradle and Java in your project, you are most likely using R8. So you might wanna check out the other dependencies for your project to work, like :</p>\n<p><a href=\"https://stackoverflow.com/a/61481954/14784590\">GSON Proguard for R8</a></p>\n<p><a href=\"https://stackoverflow.com/a/65251059/14784590\">Retrofit Proguard</a></p>\n"}],"owner":{"account_id":67541,"reputation":60868,"user_id":197606,"accept_rate":85,"display_name":"Ben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54761,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":12828972,"answer_count":5,"score":17,"last_activity_date":1689052460,"creation_date":1337023408,"question_id":10589767,"body_markdown":"Currently the `VariableService` is `@Autowired` in my controller.\r\n\r\nI realize I can implement  the class `ParameterizedType` to make this error go away but I fear that I may be headed in the wrong direction.  Is there a better way to do this or do I need to bite the bullet and implement `ParameterizedType`&#39;s methods?\r\n\r\n&gt;org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;contentController&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.fettergroup.cmt.service.VariableService com.fettergroup.cmt.web.ContentController.variableService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;variableService&#39; defined in ServletContext resource [/WEB-INF/dispatcher-servlet.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.fettergroup.cmt.service.VariableService]: Constructor threw exception; nested exception is java.lang.ClassCastException: **java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType**\r\n\r\n**Variable Service**\r\n\r\n    public class VariableService extends EntityService {\r\n        public VariableService () {\r\n            super.setEntityRepository(new VariableRepository());\r\n        }\r\n    }\r\n\r\n**EntityService**\r\n\r\n    public abstract class EntityService&lt;T&gt; {\r\n        \r\n        public EntityRepository&lt;T&gt; entityRepository;\r\n        \r\n        public T create(T entity) {\r\n            return entityRepository.create(entity);\r\n        }\r\n        \r\n        public T update(T entity) {\r\n            return entityRepository.update(entity);\r\n        }\r\n        \r\n        public void delete(T entity) {\r\n            entityRepository.delete(entity);\r\n        }\r\n    \r\n        public void setEntityRepository(EntityRepository&lt;T&gt; entityRepository) {\r\n            this.entityRepository = entityRepository;\r\n        }\r\n    }\r\n\r\n**Variable Repository**\r\n\r\n    public class VariableRepository extends EntityRepository {\r\n        \r\n    }\r\n\r\n**EntityRepository**\r\n\r\n    @Repository\r\n    public abstract class EntityRepository&lt;T&gt; {\r\n        \r\n        //the equivalent of User.class\r\n        protected Class&lt;T&gt; entityClass;\r\n        \r\n        @PersistenceContext(type= PersistenceContextType.TRANSACTION)\r\n        public EntityManager entityManager;\r\n        \r\n        public EntityRepository () {\r\n            //Get &quot;T&quot; and assign it to this.entityClass\r\n            ParameterizedType genericSuperclass = (ParameterizedType) getClass().getGenericSuperclass();\r\n            this.entityClass = (Class&lt;T&gt;) genericSuperclass.getActualTypeArguments()[0];\r\n        }\r\n    \r\n        /**\r\n         * Create this entity\r\n         * @param t\r\n         * @return \r\n         */\r\n        public T create(T t) {\r\n            entityManager.persist(t);\r\n            return t;\r\n        }\r\n    \r\n        /**\r\n         * Update this entity\r\n         * @param t\r\n         * @return \r\n         */\r\n        public T update(T t) {\r\n            return entityManager.merge(t);\r\n        }\r\n    \r\n        /**\r\n         * Delete this entity\r\n         * @param entity \r\n         */\r\n        public void delete(T t) {\r\n            t = this.update(t);\r\n            entityManager.remove(t);\r\n        }\r\n    \r\n        public void setEntityManager(EntityManager entityManager) {\r\n            this.entityManager = entityManager;\r\n        }\r\n    }","title":"Class cannot be cast to java.lang.reflect.ParameterizedType","body":"<p>Currently the <code>VariableService</code> is <code>@Autowired</code> in my controller.</p>\n\n<p>I realize I can implement  the class <code>ParameterizedType</code> to make this error go away but I fear that I may be headed in the wrong direction.  Is there a better way to do this or do I need to bite the bullet and implement <code>ParameterizedType</code>'s methods?</p>\n\n<blockquote>\n  <p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'contentController': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.fettergroup.cmt.service.VariableService com.fettergroup.cmt.web.ContentController.variableService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'variableService' defined in ServletContext resource [/WEB-INF/dispatcher-servlet.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.fettergroup.cmt.service.VariableService]: Constructor threw exception; nested exception is java.lang.ClassCastException: <strong>java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType</strong></p>\n</blockquote>\n\n<p><strong>Variable Service</strong></p>\n\n<pre><code>public class VariableService extends EntityService {\n    public VariableService () {\n        super.setEntityRepository(new VariableRepository());\n    }\n}\n</code></pre>\n\n<p><strong>EntityService</strong></p>\n\n<pre><code>public abstract class EntityService&lt;T&gt; {\n\n    public EntityRepository&lt;T&gt; entityRepository;\n\n    public T create(T entity) {\n        return entityRepository.create(entity);\n    }\n\n    public T update(T entity) {\n        return entityRepository.update(entity);\n    }\n\n    public void delete(T entity) {\n        entityRepository.delete(entity);\n    }\n\n    public void setEntityRepository(EntityRepository&lt;T&gt; entityRepository) {\n        this.entityRepository = entityRepository;\n    }\n}\n</code></pre>\n\n<p><strong>Variable Repository</strong></p>\n\n<pre><code>public class VariableRepository extends EntityRepository {\n\n}\n</code></pre>\n\n<p><strong>EntityRepository</strong></p>\n\n<pre><code>@Repository\npublic abstract class EntityRepository&lt;T&gt; {\n\n    //the equivalent of User.class\n    protected Class&lt;T&gt; entityClass;\n\n    @PersistenceContext(type= PersistenceContextType.TRANSACTION)\n    public EntityManager entityManager;\n\n    public EntityRepository () {\n        //Get \"T\" and assign it to this.entityClass\n        ParameterizedType genericSuperclass = (ParameterizedType) getClass().getGenericSuperclass();\n        this.entityClass = (Class&lt;T&gt;) genericSuperclass.getActualTypeArguments()[0];\n    }\n\n    /**\n     * Create this entity\n     * @param t\n     * @return \n     */\n    public T create(T t) {\n        entityManager.persist(t);\n        return t;\n    }\n\n    /**\n     * Update this entity\n     * @param t\n     * @return \n     */\n    public T update(T t) {\n        return entityManager.merge(t);\n    }\n\n    /**\n     * Delete this entity\n     * @param entity \n     */\n    public void delete(T t) {\n        t = this.update(t);\n        entityManager.remove(t);\n    }\n\n    public void setEntityManager(EntityManager entityManager) {\n        this.entityManager = entityManager;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689054219,"post_id":76658862,"comment_id":135154760,"body_markdown":"You don&#39;t nor should you. It is a `FactoryBean` which will create a Freemarker `Configuration` object for you to use. So don&#39;t inject the `FactoryBean`, just inject the `Configuration`.","body":"You don&#39;t nor should you. It is a <code>FactoryBean</code> which will create a Freemarker <code>Configuration</code> object for you to use. So don&#39;t inject the <code>FactoryBean</code>, just inject the <code>Configuration</code>."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1689055524,"post_id":76658862,"comment_id":135154937,"body_markdown":"I would recommend that you rewrite your `EmailService` for constructor injection instead of field injection. This improves (not only) testability. See e.g. https://stackoverflow.com/questions/19381846/why-use-constructor-over-setter-injection-in-cdi for a more detailed explanation.","body":"I would recommend that you rewrite your <code>EmailService</code> for constructor injection instead of field injection. This improves (not only) testability. See e.g. <a href=\"https://stackoverflow.com/questions/19381846/why-use-constructor-over-setter-injection-in-cdi\" title=\"why use constructor over setter injection in cdi\">stackoverflow.com/questions/19381846/&hellip;</a> for a more detailed explanation."}],"owner":{"account_id":27342791,"reputation":41,"user_id":20853184,"display_name":"Eshan Akash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689052271,"creation_date":1689052271,"question_id":76658862,"body_markdown":"```\r\n@Service\r\n@Slf4j\r\npublic class EmailService {\r\n    @Autowired\r\n    private final FreeMarkerConfigurationFactoryBean emailConfig;\r\n    @Autowired\r\n    private final HttpEmailService httpEmailService;\r\n\r\n    public String bookingEmail(ScheduledTimeList scheduledTimeList, String appEmail) throws Exception {\r\n            EmailRequest emailRequest = new EmailRequest();\r\n            emailRequest.setTo(appEmail);\r\n            emailRequest.setSubject(&quot;Subject&quot;);\r\n            Map&lt;String, Object&gt; modelApp = new HashMap&lt;&gt;();\r\n            modelApp.put(&quot;appEmail&quot;, appEmail);\r\n            modelApp.put(&quot;scheduledTimeList&quot;, scheduledTimeList);\r\n\r\n            Configuration configuration = emailConfig.getObject();\r\n            Template template = configuration.getTemplate(&quot;emailTemplateNames.ftl&quot;);\r\n            String html = FreeMarkerTemplateUtils.processTemplateIntoString(template, model);\r\n            emailRequest.setHtmlContent(html);\r\n            httpEmailService.sendEmail(emailRequest);\r\n            return &quot;success&quot;;\r\n    }\r\n}\r\n```\r\nIssues: \r\n- I want to write a test case for bookingEmail method. How can I do it using @runwith(springrunner.class)?\r\n- Can we do it using @runwith(mockitojunitrunner.class) also? If yes then How?\r\n- How can I capture the argument in test case\r\n\r\n\r\n\r\n\r\nEmailServiceTest.java\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(classes = {EmailService.class})\r\npublic class EmailServiceTest {\r\n    DemoBookingEntity demoBookingEntity;\r\n    @Autowired\r\n    @Qualifier(&quot;emailConfigBean&quot;)\r\n    private FreeMarkerConfigurationFactoryBean emailConfig;\r\n    @MockBean\r\n    private HttpEmailService httpEmailService;\r\n    @Autowired\r\n    private EmailService emailService;\r\n\r\n    @Before\r\n    public void setup() {\r\n        emailService = new EmailServiceTest(httpEmailService, emailConfig);\r\n        demoBookingEntity = DemoBookingEntity.builder()\r\n                .appId(&quot;appId&quot;)\r\n                .timeSlotList(Arrays.asList(new TimeSlot(&quot;1677763200&quot;, &quot;1677766800&quot;), new TimeSlot(&quot;1677770400&quot;, &quot;1677774000&quot;)))\r\n                .demoParticipants(Arrays.asList(&quot;Participant1&quot;))\r\n                .build();\r\n    }\r\n\r\n    @Test\r\n    public void bookADemoApiTest() throws Exception {\r\n        ...\r\n\r\n        ResponseEntity&lt;String&gt; response = emailService.bookADemoApi(demoBookingEntity, appEmail);\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nTestConfig.java\r\n```\r\n@Configuration\r\npublic class TestConfig {\r\n    @Bean(name=&quot;emailConfigBean&quot;)\r\n    public FreeMarkerConfigurationFactoryBean getFreeMarkerConfiguration(ResourceLoader resourceLoader) {\r\n        FreeMarkerConfigurationFactoryBean bean = new FreeMarkerConfigurationFactoryBean();\r\n        bean.setTemplateLoaderPath(&quot;classpath:/templates/&quot;);\r\n        return bean;\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to write test case of FreeMarkerConfigurationFactoryBean in Junit","body":"<pre><code>@Service\n@Slf4j\npublic class EmailService {\n    @Autowired\n    private final FreeMarkerConfigurationFactoryBean emailConfig;\n    @Autowired\n    private final HttpEmailService httpEmailService;\n\n    public String bookingEmail(ScheduledTimeList scheduledTimeList, String appEmail) throws Exception {\n            EmailRequest emailRequest = new EmailRequest();\n            emailRequest.setTo(appEmail);\n            emailRequest.setSubject(&quot;Subject&quot;);\n            Map&lt;String, Object&gt; modelApp = new HashMap&lt;&gt;();\n            modelApp.put(&quot;appEmail&quot;, appEmail);\n            modelApp.put(&quot;scheduledTimeList&quot;, scheduledTimeList);\n\n            Configuration configuration = emailConfig.getObject();\n            Template template = configuration.getTemplate(&quot;emailTemplateNames.ftl&quot;);\n            String html = FreeMarkerTemplateUtils.processTemplateIntoString(template, model);\n            emailRequest.setHtmlContent(html);\n            httpEmailService.sendEmail(emailRequest);\n            return &quot;success&quot;;\n    }\n}\n</code></pre>\n<p>Issues:</p>\n<ul>\n<li>I want to write a test case for bookingEmail method. How can I do it using @runwith(springrunner.class)?</li>\n<li>Can we do it using @runwith(mockitojunitrunner.class) also? If yes then How?</li>\n<li>How can I capture the argument in test case</li>\n</ul>\n<p>EmailServiceTest.java</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = {EmailService.class})\npublic class EmailServiceTest {\n    DemoBookingEntity demoBookingEntity;\n    @Autowired\n    @Qualifier(&quot;emailConfigBean&quot;)\n    private FreeMarkerConfigurationFactoryBean emailConfig;\n    @MockBean\n    private HttpEmailService httpEmailService;\n    @Autowired\n    private EmailService emailService;\n\n    @Before\n    public void setup() {\n        emailService = new EmailServiceTest(httpEmailService, emailConfig);\n        demoBookingEntity = DemoBookingEntity.builder()\n                .appId(&quot;appId&quot;)\n                .timeSlotList(Arrays.asList(new TimeSlot(&quot;1677763200&quot;, &quot;1677766800&quot;), new TimeSlot(&quot;1677770400&quot;, &quot;1677774000&quot;)))\n                .demoParticipants(Arrays.asList(&quot;Participant1&quot;))\n                .build();\n    }\n\n    @Test\n    public void bookADemoApiTest() throws Exception {\n        ...\n\n        ResponseEntity&lt;String&gt; response = emailService.bookADemoApi(demoBookingEntity, appEmail);\n\n    }\n}\n\n</code></pre>\n<p>TestConfig.java</p>\n<pre><code>@Configuration\npublic class TestConfig {\n    @Bean(name=&quot;emailConfigBean&quot;)\n    public FreeMarkerConfigurationFactoryBean getFreeMarkerConfiguration(ResourceLoader resourceLoader) {\n        FreeMarkerConfigurationFactoryBean bean = new FreeMarkerConfigurationFactoryBean();\n        bean.setTemplateLoaderPath(&quot;classpath:/templates/&quot;);\n        return bean;\n    }\n}\n</code></pre>\n"},{"tags":["java","redis","project-reactor","flux"],"owner":{"account_id":28877534,"reputation":9,"user_id":22117693,"display_name":"Anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689052049,"creation_date":1689014004,"question_id":76656416,"body_markdown":"Given below is a piece of Java Micronaut code I am using for removing entries from redis. But this code does not remove entries from redis. If I use `batch.execute().subscribe();` then it is working, but I do not want to use subcribe(), so is there any solution for that?\r\n\r\n```\r\nprivate Mono&lt;Void&gt; removeFromRedis(String[] entries) {\r\n    var batch = redis.createBatch();\r\n    batch.getMap(&quot;map_name&quot;).fastRemove(entries);\r\n    batch.execute(); //if I use batch.execute().subscribe(); here then it will work\r\n    return Mono.empty();\r\n}\r\n```\r\n\r\n","title":"How to replace subscribe() in RBatchReactive.execute().subscribe()","body":"<p>Given below is a piece of Java Micronaut code I am using for removing entries from redis. But this code does not remove entries from redis. If I use <code>batch.execute().subscribe();</code> then it is working, but I do not want to use subcribe(), so is there any solution for that?</p>\n<pre><code>private Mono&lt;Void&gt; removeFromRedis(String[] entries) {\n    var batch = redis.createBatch();\n    batch.getMap(&quot;map_name&quot;).fastRemove(entries);\n    batch.execute(); //if I use batch.execute().subscribe(); here then it will work\n    return Mono.empty();\n}\n</code></pre>\n"},{"tags":["java","tmx","fxgl"],"answers":[{"tags":[],"owner":{"account_id":25403186,"reputation":3,"user_id":19212321,"display_name":"Dylan Hetzel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689049985,"creation_date":1689049985,"answer_id":76658731,"question_id":76658389,"body_markdown":"In the file &quot;module-info.java&quot; the first line needs to have the modifier `open` before the `module *class name* {`","title":"directory structure for fxgl app (specifically .tmx files)","body":"<p>In the file &quot;module-info.java&quot; the first line needs to have the modifier <code>open</code> before the <code>module *class name* {</code></p>\n"}],"owner":{"account_id":25403186,"reputation":3,"user_id":19212321,"display_name":"Dylan Hetzel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689049985,"creation_date":1689042850,"question_id":76658389,"body_markdown":"I&#39;ve been following an older tutorial for fxgl that uses the tiled software to create maps (https://www.youtube.com/watch?v=37wfF9GW1vQ&amp;t=9s). I&#39;ve looked online for anything about what the directory structure should look like, but every time I try to run it I get the error: Asset not found: tutorial.tmx. The line of code that runs this is `FXGL.setLevelFromMap(&quot;tutorial.tmx&quot;);` under the initGame() function. I&#39;ve been using Maven to build the project, and my current directory structure is as follows: [directory structure][1]. Thanks in advance for any help you can provide.\r\n\r\n  [1]: https://i.stack.imgur.com/p6VjF.png","title":"directory structure for fxgl app (specifically .tmx files)","body":"<p>I've been following an older tutorial for fxgl that uses the tiled software to create maps (<a href=\"https://www.youtube.com/watch?v=37wfF9GW1vQ&amp;t=9s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=37wfF9GW1vQ&amp;t=9s</a>). I've looked online for anything about what the directory structure should look like, but every time I try to run it I get the error: Asset not found: tutorial.tmx. The line of code that runs this is <code>FXGL.setLevelFromMap(&quot;tutorial.tmx&quot;);</code> under the initGame() function. I've been using Maven to build the project, and my current directory structure is as follows: <a href=\"https://i.stack.imgur.com/p6VjF.png\" rel=\"nofollow noreferrer\">directory structure</a>. Thanks in advance for any help you can provide.</p>\n"},{"tags":["java","string","rounding","precision","floating-accuracy"],"comments":[{"owner":{"account_id":1967112,"reputation":162,"user_id":1767050,"display_name":"Red wine"},"score":0,"creation_date":1642586507,"post_id":2301047,"comment_id":125107692,"body_markdown":"And in Kotlin your &quot;something like&quot; would be rather more elegant:\nval foo = &quot;%.${precision}f&quot;.format(my_double)","body":"And in Kotlin your &quot;something like&quot; would be rather more elegant: val foo = &quot;%.${precision}f&quot;.format(my_double)"}],"answers":[{"tags":[],"owner":{"account_id":73747,"reputation":5497,"user_id":212215,"accept_rate":87,"display_name":"vicatcu"},"comment_count":0,"down_vote_count":1,"up_vote_count":20,"is_accepted":true,"score":19,"last_activity_date":1266640779,"creation_date":1266640779,"answer_id":2301066,"question_id":2301047,"body_markdown":"You sort of answered your own question - build your format string dynamically... valid format strings follow the conventions outlined here: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Formatter.html#syntax.\r\n\r\nIf you want a formatted decimal that occupies 8 total characters (including the decimal point) and you wanted 4 digits after the decimal point, your format string should look like &quot;%8.4f&quot;... \r\n\r\nTo my knowledge there is no &quot;native support&quot; in Java beyond format strings being flexible.","title":"How to Java String.format with a variable precision?","body":"<p>You sort of answered your own question - build your format string dynamically... valid format strings follow the conventions outlined here: <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Formatter.html#syntax\" rel=\"noreferrer\">http://java.sun.com/j2se/1.5.0/docs/api/java/util/Formatter.html#syntax</a>.</p>\n\n<p>If you want a formatted decimal that occupies 8 total characters (including the decimal point) and you wanted 4 digits after the decimal point, your format string should look like \"%8.4f\"... </p>\n\n<p>To my knowledge there is no \"native support\" in Java beyond format strings being flexible.</p>\n"},{"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1467287920,"post_id":38122245,"comment_id":63676370,"body_markdown":"So you suggest OP something he already knows and added in his question?","body":"So you suggest OP something he already knows and added in his question?"},{"owner":{"account_id":7085674,"reputation":53,"user_id":5422558,"display_name":"Gerdi"},"score":0,"creation_date":1467403496,"post_id":38122245,"comment_id":63735705,"body_markdown":"I&#39;m mostly suggesting OP to make his own static function which will do what he wants (a native function of string format which includes variable precision).\nSo yes and no, because he already has the tools to do it.\nOr at least that&#39;s what I&#39;m trying to do.","body":"I&#39;m mostly suggesting OP to make his own static function which will do what he wants (a native function of string format which includes variable precision). So yes and no, because he already has the tools to do it. Or at least that&#39;s what I&#39;m trying to do."}],"tags":[],"owner":{"account_id":7085674,"reputation":53,"user_id":5422558,"display_name":"Gerdi"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1468502371,"creation_date":1467287370,"answer_id":38122245,"question_id":2301047,"body_markdown":"Why not :\r\n\r\n    String form = &quot;%.&quot;+precision+&quot;f\\n&quot;;\r\n    String foo = String.format(form, my_double);\r\n\r\n\r\nor :\r\n\r\n    public static String myFormat(String src, int precision, Object args...)\r\n    {\r\n        String form = &quot;%.&quot;+precision+&quot;f\\n&quot;;\r\n        return String.format(form, args);\r\n    }","title":"How to Java String.format with a variable precision?","body":"<p>Why not :</p>\n\n<pre><code>String form = \"%.\"+precision+\"f\\n\";\nString foo = String.format(form, my_double);\n</code></pre>\n\n<p>or :</p>\n\n<pre><code>public static String myFormat(String src, int precision, Object args...)\n{\n    String form = \"%.\"+precision+\"f\\n\";\n    return String.format(form, args);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1570542144,"post_id":38122388,"comment_id":102939918,"body_markdown":"More importantly `df.format(42)` returns simply `42`","body":"More importantly <code>df.format(42)</code> returns simply <code>42</code>"}],"tags":[],"owner":{"account_id":1995799,"reputation":28352,"user_id":1788806,"accept_rate":94,"display_name":"Willi Mentzel"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1467287753,"creation_date":1467287753,"answer_id":38122388,"question_id":2301047,"body_markdown":"You can use the [DecimalFormat][1] class.\r\n\r\n    double d1 = 3.14159;\r\n    double d2 = 1.235;\r\n    \r\n    DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\r\n    \r\n    double roundedD1 = df.format(d); // 3.14\r\n    double roundedD2 = df.format(d); // 1.24\r\n\r\nIf you want to set the precision at run time call:\r\n\r\n\tdf.setMaximumFractionDigits(precision)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html","title":"How to Java String.format with a variable precision?","body":"<p>You can use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\" rel=\"noreferrer\">DecimalFormat</a> class.</p>\n\n<pre><code>double d1 = 3.14159;\ndouble d2 = 1.235;\n\nDecimalFormat df = new DecimalFormat(\"#.##\");\n\ndouble roundedD1 = df.format(d); // 3.14\ndouble roundedD2 = df.format(d); // 1.24\n</code></pre>\n\n<p>If you want to set the precision at run time call:</p>\n\n<pre><code>df.setMaximumFractionDigits(precision)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18552013,"reputation":11,"user_id":13518055,"display_name":"swaraj_gore"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611238282,"creation_date":1611238282,"answer_id":65829219,"question_id":2301047,"body_markdown":"    \r\n    double pi = Math.PI; // 3.141592653589793\r\n    int n = 5;\r\n    DecimalFormat df = new DecimalFormat();\r\n    df.setMaximumFractionDigits(n);\r\n    System.out.printf(df.format(pi)); // 3.14159\r\nYou can set value of **n** at runtime. Here from the above code given **n = 5** will print **3.14159**","title":"How to Java String.format with a variable precision?","body":"<pre><code>double pi = Math.PI; // 3.141592653589793\nint n = 5;\nDecimalFormat df = new DecimalFormat();\ndf.setMaximumFractionDigits(n);\nSystem.out.printf(df.format(pi)); // 3.14159\n</code></pre>\n<p>You can set value of <strong>n</strong> at runtime. Here from the above code given <strong>n = 5</strong> will print <strong>3.14159</strong></p>\n"},{"tags":[],"owner":{"account_id":6068289,"reputation":3592,"user_id":4737909,"accept_rate":45,"display_name":"Lorenzo Lerate"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687358255,"creation_date":1687358255,"answer_id":76524495,"question_id":2301047,"body_markdown":"Willi Mentzel solution updated for Java 17:\r\n\r\n    double d1 = 3.14159;\r\n    double d2 = 1.235;\r\n    \r\n    DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\r\n    \r\n    String roundedD1 = df.format(d); // 3.14\r\n    String roundedD2 = df.format(d); // 1.24","title":"How to Java String.format with a variable precision?","body":"<p>Willi Mentzel solution updated for Java 17:</p>\n<pre><code>double d1 = 3.14159;\ndouble d2 = 1.235;\n\nDecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\n\nString roundedD1 = df.format(d); // 3.14\nString roundedD2 = df.format(d); // 1.24\n</code></pre>\n"}],"owner":{"account_id":31686,"reputation":6454,"user_id":87207,"accept_rate":70,"display_name":"Willi Ballenthin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31869,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":2301066,"answer_count":5,"score":32,"last_activity_date":1689048528,"creation_date":1266639972,"question_id":2301047,"body_markdown":"I&#39;d like to allow the user to vary the precision of a `String` generated from a `double`. Right now, I&#39;m trying something like\r\n\r\n    String foo = String.format(&quot;%.*f\\n&quot;, precision, my_double);\r\n\r\nHowever, I receive a `java.util.UnknownFormatConversionException`. My inspiration for this approach was C *printf* and [this resource][1] (section 1.3.1). \r\n\r\nDo I have a simple syntax error somewhere, does Java support this case, or is there a better approach?\r\n\r\n**Edit:**\r\n\r\nI suppose I could do something like\r\n\r\n    String foo = String.format(&quot;%.&quot; + precision + &quot;f\\n&quot;, my_double);\r\n\r\nbut I&#39;d still be interested in native support for such an operation.\r\n\r\n  [1]: http://sharkysoft.com/archive/printf/docs/javadocs/lava/clib/stdio/doc-files/specification.htm","title":"How to Java String.format with a variable precision?","body":"<p>I'd like to allow the user to vary the precision of a <code>String</code> generated from a <code>double</code>. Right now, I'm trying something like</p>\n<pre><code>String foo = String.format(&quot;%.*f\\n&quot;, precision, my_double);\n</code></pre>\n<p>However, I receive a <code>java.util.UnknownFormatConversionException</code>. My inspiration for this approach was C <em>printf</em> and <a href=\"http://sharkysoft.com/archive/printf/docs/javadocs/lava/clib/stdio/doc-files/specification.htm\" rel=\"nofollow noreferrer\">this resource</a> (section 1.3.1).</p>\n<p>Do I have a simple syntax error somewhere, does Java support this case, or is there a better approach?</p>\n<p><strong>Edit:</strong></p>\n<p>I suppose I could do something like</p>\n<pre><code>String foo = String.format(&quot;%.&quot; + precision + &quot;f\\n&quot;, my_double);\n</code></pre>\n<p>but I'd still be interested in native support for such an operation.</p>\n"},{"tags":["java","android","android-studio","mapbox","mapbox-android"],"answers":[{"tags":[],"owner":{"account_id":27984489,"reputation":3,"user_id":21371640,"display_name":"Meziane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689048301,"creation_date":1688724788,"answer_id":76636020,"question_id":76070182,"body_markdown":"Maybe you can use `fillExtrusionLayer.bindTo(style)`. Furthermore the calls `mapView.onStart()`, `onStop()`, and so forth are not useful now because [version 10 of the Mapbox SDK now manages the `mapView` lifecycle](https://docs.mapbox.com/android/maps/guides/migrate-to-v10/#simplified-lifecycle-management).","title":"Adding a FillExtrusionLayer to a Mapbox Map in Android using Mapbox SDK v10.12.2","body":"<p>Maybe you can use <code>fillExtrusionLayer.bindTo(style)</code>. Furthermore the calls <code>mapView.onStart()</code>, <code>onStop()</code>, and so forth are not useful now because <a href=\"https://docs.mapbox.com/android/maps/guides/migrate-to-v10/#simplified-lifecycle-management\" rel=\"nofollow noreferrer\">version 10 of the Mapbox SDK now manages the <code>mapView</code> lifecycle</a>.</p>\n"}],"owner":{"account_id":11077786,"reputation":87,"user_id":8133934,"accept_rate":71,"display_name":"MSD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689048301,"creation_date":1682055303,"question_id":76070182,"body_markdown":"I am attempting to create a 3D Map in Android and having issues utilizing the correct style.addStyle(fillExtrusionLayer);. I have looked at the documentation to no avail. Any help would be appreciated. \r\n\r\nDocumentation: https://docs.mapbox.com/android/maps/examples/fill-extrusion/\r\n\r\nThe error I receive is: \r\n\r\n&gt; Cannot resolve method &#39;addStyle&#39; in &#39;Style&#39;\r\n\r\n\r\nMap.java:\r\n\r\n   \r\n\r\n     package edu.test.it.finalproject;\r\n        import androidx.appcompat.app.AppCompatActivity;\r\n        import android.graphics.Color;\r\n        import android.os.Bundle;  \r\n        import com.mapbox.geojson.Point;\r\n        import com.mapbox.maps.CameraOptions;\r\n        import com.mapbox.maps.LayerPosition;\r\n        import com.mapbox.maps.MapView;\r\n        import com.mapbox.maps.MapboxMap;\r\n        import com.mapbox.maps.Style;\r\n        import com.mapbox.maps.extension.style.expressions.generated.Expression;\r\n        import com.mapbox.maps.extension.style.layers.generated.FillExtrusionLayer;\r\n        import com.mapbox.maps.extension.style.layers.properties.generated.Visibility;\r\n        import com.mapbox.maps.extension.style.layers.Layer;\r\n        //import com.mapbox.maps.testapp.databinding.ActivityFillExtrusionBinding;\r\n         \r\n         \r\n        public class Map extends AppCompatActivity {\r\n         \r\n            private MapView mapView;\r\n            private MapboxMap mapboxMap;\r\n         \r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_building_3d);\r\n         \r\n                mapView = findViewById(R.id.mapView);\r\n                mapView.getMapboxMap().loadStyleUri(Style.MAPBOX_STREETS, style -&gt; {\r\n                    mapboxMap = mapView.getMapboxMap();\r\n                    add3DBuildings(style);\r\n         \r\n                    // Set initial camera position\r\n                    CameraOptions cameraOptions = new CameraOptions.Builder()\r\n                            .center(Point.fromLngLat(-77.860001, 40.793394))\r\n                            .zoom(15.0)\r\n                            .build();\r\n                    mapboxMap.setCamera(cameraOptions);\r\n                });\r\n            }\r\n         \r\n            private void add3DBuildings(Style style) {\r\n                FillExtrusionLayer fillExtrusionLayer = new FillExtrusionLayer(&quot;3d- \r\n       buildings&quot;, &quot;composite&quot;);\r\n         \r\n                fillExtrusionLayer.sourceLayer(&quot;building&quot;);\r\n                fillExtrusionLayer.filter(Expression.eq(Expression.get(&quot;extrude&quot;), \r\n        Expression.literal(&quot;true&quot;)));\r\n                fillExtrusionLayer.minZoom(15.0);\r\n                fillExtrusionLayer.visibility(Visibility.VISIBLE);\r\n                fillExtrusionLayer.fillExtrusionColor(Color.LTGRAY);\r\n                fillExtrusionLayer.fillExtrusionHeight(Expression.get(&quot;height&quot;));\r\n                fillExtrusionLayer.fillExtrusionBase(Expression.get(&quot;min_height&quot;));\r\n                fillExtrusionLayer.fillExtrusionOpacity(0.6f);\r\n                style.addStyle(fillExtrusionLayer);\r\n         \r\n            }\r\n         \r\n         \r\n            @Override\r\n            protected void onStart() {\r\n                super.onStart();\r\n                mapView.onStart();\r\n            }\r\n         \r\n            @Override\r\n            protected void onStop() {\r\n                super.onStop();\r\n                mapView.onStop();\r\n            }\r\n         \r\n            @Override\r\n            public void onLowMemory() {\r\n                super.onLowMemory();\r\n                mapView.onLowMemory();\r\n            }\r\n         \r\n            @Override\r\n            protected void onDestroy() {\r\n                super.onDestroy();\r\n                mapView.onDestroy();\r\n            }\r\n        }\r\n\r\n \r\n\r\n\r\n\r\n    activity_building_3D:\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/map_container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.Map&quot;&gt;\r\n        &lt;!-- Other UI elements --&gt;\r\n     \r\n        &lt;com.mapbox.maps.MapView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n            xmlns:mapbox=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            android:id=&quot;@+id/mapView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            mapbox:mapbox_cameraTargetLat=&quot;40.793072&quot;\r\n            mapbox:mapbox_cameraTargetLng=&quot;-77.865516&quot;\r\n            mapbox:mapbox_cameraZoom=&quot;9.0&quot;\r\n            mapbox:mapbox_resourcesAccessToken=&quot;//TOKEN GOES HERE&quot; /&gt;\r\n     \r\n        &lt;/RelativeLayout&gt;\r\n     \r\n\r\n\r\n\r\n","title":"Adding a FillExtrusionLayer to a Mapbox Map in Android using Mapbox SDK v10.12.2","body":"<p>I am attempting to create a 3D Map in Android and having issues utilizing the correct style.addStyle(fillExtrusionLayer);. I have looked at the documentation to no avail. Any help would be appreciated.</p>\n<p>Documentation: <a href=\"https://docs.mapbox.com/android/maps/examples/fill-extrusion/\" rel=\"nofollow noreferrer\">https://docs.mapbox.com/android/maps/examples/fill-extrusion/</a></p>\n<p>The error I receive is:</p>\n<blockquote>\n<p>Cannot resolve method 'addStyle' in 'Style'</p>\n</blockquote>\n<p>Map.java:</p>\n<pre><code> package edu.test.it.finalproject;\n    import androidx.appcompat.app.AppCompatActivity;\n    import android.graphics.Color;\n    import android.os.Bundle;  \n    import com.mapbox.geojson.Point;\n    import com.mapbox.maps.CameraOptions;\n    import com.mapbox.maps.LayerPosition;\n    import com.mapbox.maps.MapView;\n    import com.mapbox.maps.MapboxMap;\n    import com.mapbox.maps.Style;\n    import com.mapbox.maps.extension.style.expressions.generated.Expression;\n    import com.mapbox.maps.extension.style.layers.generated.FillExtrusionLayer;\n    import com.mapbox.maps.extension.style.layers.properties.generated.Visibility;\n    import com.mapbox.maps.extension.style.layers.Layer;\n    //import com.mapbox.maps.testapp.databinding.ActivityFillExtrusionBinding;\n     \n     \n    public class Map extends AppCompatActivity {\n     \n        private MapView mapView;\n        private MapboxMap mapboxMap;\n     \n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_building_3d);\n     \n            mapView = findViewById(R.id.mapView);\n            mapView.getMapboxMap().loadStyleUri(Style.MAPBOX_STREETS, style -&gt; {\n                mapboxMap = mapView.getMapboxMap();\n                add3DBuildings(style);\n     \n                // Set initial camera position\n                CameraOptions cameraOptions = new CameraOptions.Builder()\n                        .center(Point.fromLngLat(-77.860001, 40.793394))\n                        .zoom(15.0)\n                        .build();\n                mapboxMap.setCamera(cameraOptions);\n            });\n        }\n     \n        private void add3DBuildings(Style style) {\n            FillExtrusionLayer fillExtrusionLayer = new FillExtrusionLayer(&quot;3d- \n   buildings&quot;, &quot;composite&quot;);\n     \n            fillExtrusionLayer.sourceLayer(&quot;building&quot;);\n            fillExtrusionLayer.filter(Expression.eq(Expression.get(&quot;extrude&quot;), \n    Expression.literal(&quot;true&quot;)));\n            fillExtrusionLayer.minZoom(15.0);\n            fillExtrusionLayer.visibility(Visibility.VISIBLE);\n            fillExtrusionLayer.fillExtrusionColor(Color.LTGRAY);\n            fillExtrusionLayer.fillExtrusionHeight(Expression.get(&quot;height&quot;));\n            fillExtrusionLayer.fillExtrusionBase(Expression.get(&quot;min_height&quot;));\n            fillExtrusionLayer.fillExtrusionOpacity(0.6f);\n            style.addStyle(fillExtrusionLayer);\n     \n        }\n     \n     \n        @Override\n        protected void onStart() {\n            super.onStart();\n            mapView.onStart();\n        }\n     \n        @Override\n        protected void onStop() {\n            super.onStop();\n            mapView.onStop();\n        }\n     \n        @Override\n        public void onLowMemory() {\n            super.onLowMemory();\n            mapView.onLowMemory();\n        }\n     \n        @Override\n        protected void onDestroy() {\n            super.onDestroy();\n            mapView.onDestroy();\n        }\n    }\n\n\n\n\n\nactivity_building_3D:\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/map_container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.Map&quot;&gt;\n    &lt;!-- Other UI elements --&gt;\n \n    &lt;com.mapbox.maps.MapView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        xmlns:mapbox=&quot;http://schemas.android.com/apk/res-auto&quot;\n        android:id=&quot;@+id/mapView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        mapbox:mapbox_cameraTargetLat=&quot;40.793072&quot;\n        mapbox:mapbox_cameraTargetLng=&quot;-77.865516&quot;\n        mapbox:mapbox_cameraZoom=&quot;9.0&quot;\n        mapbox:mapbox_resourcesAccessToken=&quot;//TOKEN GOES HERE&quot; /&gt;\n \n    &lt;/RelativeLayout&gt;\n \n</code></pre>\n"},{"tags":["java","spring-boot","elasticsearch"],"owner":{"account_id":11847379,"reputation":977,"user_id":8669584,"accept_rate":0,"display_name":"Rohit Suthar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689047996,"creation_date":1688982951,"question_id":76652626,"body_markdown":"I have a java spring boot application that uses Elasticsearch to store articles. In micro-service, I listen for update and delete events of article, and based on that I am updating or deleting that article in the elastic search.\r\n\r\n**Issue:** However, I&#39;m facing an issue when both an update and a delete event are received for the same article. If the delete event is processed first, the article is correctly deleted from Elasticsearch. However, when the update event is subsequently processed, the article is recreated in Elasticsearch.\r\n\r\nHere is the brief code for my update logic\r\n```\r\nprivate final RestHighLevelClient client;\r\n\r\n// Creating index update request\r\nIndexRequest request = new IndexRequest(index, &quot;article&quot;, article.getId()).source(article);\r\nrequest.versionType(VersionType.EXTERNAL);\r\nrequest.version(article.getVersion());\r\n\r\n// Making ES index call\r\nIndexResponse response = client.index(request, RequestOptions.DEFAULT);\r\n```\r\nIn the above code, I am using external versioning and index request for my update event because I receive full entity details in the update event.\r\n\r\nHere is the brief code for my delete logic\r\n```\r\nprivate final RestHighLevelClient client;\r\n\r\n// Creating delete request\r\nDeleteRequest deleteRequest = new DeleteRequest(index, &quot;article&quot;, article.getId());\r\n\r\n// Making ES delete call\r\nDeleteResponse response = client.delete(deleteRequest, RequestOptions.DEFAULT);\r\n```\r\nOne possible solution is to modify my update logic to first check if the article exists.\r\nIf it does not exist, I can simply ignore the event. However, if the article is present, I can proceed with the update. But in this approach every time I am making two requests one for GET and then one for updating the article, which can be inefficient.\r\n\r\nI have also check for elastic search update API and implemented the below code\r\n```\r\nprivate final RestHighLevelClient client;\r\n\r\n// Creating update request\r\nUpdateRequest request = new UpdateRequest(index, &quot;article&quot;, article.getId()).doc(article);\r\nrequest.versionType(VersionType.EXTERNAL);\r\nrequest.version(entity.getVersion());\r\n\r\n// Making ES update call\r\nUpdateResponse response = client.update(request, RequestOptions.DEFAULT);\r\n```\r\n\r\nBut this is giving me error as external versioning is not supported by ES update API.\r\n\r\nCan anyone please share any solution to solve this issue.","title":"How to prevent inconsistency due to simultaneous update and delete events for an entity in Elasticsearch","body":"<p>I have a java spring boot application that uses Elasticsearch to store articles. In micro-service, I listen for update and delete events of article, and based on that I am updating or deleting that article in the elastic search.</p>\n<p><strong>Issue:</strong> However, I'm facing an issue when both an update and a delete event are received for the same article. If the delete event is processed first, the article is correctly deleted from Elasticsearch. However, when the update event is subsequently processed, the article is recreated in Elasticsearch.</p>\n<p>Here is the brief code for my update logic</p>\n<pre><code>private final RestHighLevelClient client;\n\n// Creating index update request\nIndexRequest request = new IndexRequest(index, &quot;article&quot;, article.getId()).source(article);\nrequest.versionType(VersionType.EXTERNAL);\nrequest.version(article.getVersion());\n\n// Making ES index call\nIndexResponse response = client.index(request, RequestOptions.DEFAULT);\n</code></pre>\n<p>In the above code, I am using external versioning and index request for my update event because I receive full entity details in the update event.</p>\n<p>Here is the brief code for my delete logic</p>\n<pre><code>private final RestHighLevelClient client;\n\n// Creating delete request\nDeleteRequest deleteRequest = new DeleteRequest(index, &quot;article&quot;, article.getId());\n\n// Making ES delete call\nDeleteResponse response = client.delete(deleteRequest, RequestOptions.DEFAULT);\n</code></pre>\n<p>One possible solution is to modify my update logic to first check if the article exists.\nIf it does not exist, I can simply ignore the event. However, if the article is present, I can proceed with the update. But in this approach every time I am making two requests one for GET and then one for updating the article, which can be inefficient.</p>\n<p>I have also check for elastic search update API and implemented the below code</p>\n<pre><code>private final RestHighLevelClient client;\n\n// Creating update request\nUpdateRequest request = new UpdateRequest(index, &quot;article&quot;, article.getId()).doc(article);\nrequest.versionType(VersionType.EXTERNAL);\nrequest.version(entity.getVersion());\n\n// Making ES update call\nUpdateResponse response = client.update(request, RequestOptions.DEFAULT);\n</code></pre>\n<p>But this is giving me error as external versioning is not supported by ES update API.</p>\n<p>Can anyone please share any solution to solve this issue.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1689038351,"post_id":76658167,"comment_id":135153521,"body_markdown":"1. Confirm that on Linux it will display an icon at all for a &quot;normal&quot; `JFrame`.  I&#39;m not sure how you&#39;re doing it, but the child frames seem to be using a customised look and feel and/or frame delegate; 2. I&#39;d look at [`JFrame#setIconImages`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Window.html#setIconImages(java.util.List)) which allows you to supply a number of differently sized icons which might help ([for example](https://stackoverflow.com/questions/18224184/sizes-of-frame-icons-used-in-swing))","body":"1. Confirm that on Linux it will display an icon at all for a &quot;normal&quot; <code>JFrame</code>.  I&#39;m not sure how you&#39;re doing it, but the child frames seem to be using a customised look and feel and/or frame delegate; 2. I&#39;d look at <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Window.html#setIconImages(java.util.List)\" rel=\"nofollow noreferrer\"><code>JFrame#setIconImages</code></a> which allows you to supply a number of differently sized icons which might help (<a href=\"https://stackoverflow.com/questions/18224184/sizes-of-frame-icons-used-in-swing\">for example</a>)"},{"owner":{"account_id":28971666,"reputation":1,"user_id":22191818,"display_name":"Tompac"},"score":0,"creation_date":1689041817,"post_id":76658167,"comment_id":135153808,"body_markdown":"MadProgrammer, thanks for the comments.  I made another minimum example that got rid of the SFrame and ChildFrame classes entirely.  I created two JFrames and then added icons to both.  Under Linux the first JFrame does not get the icon but the second JFrame does.  Both JFrames look identical to what is shown for Linux in the graphic I posted earlier.","body":"MadProgrammer, thanks for the comments.  I made another minimum example that got rid of the SFrame and ChildFrame classes entirely.  I created two JFrames and then added icons to both.  Under Linux the first JFrame does not get the icon but the second JFrame does.  Both JFrames look identical to what is shown for Linux in the graphic I posted earlier."}],"answers":[{"comments":[{"owner":{"account_id":44830,"reputation":1744,"user_id":131795,"display_name":"Trevor Harrison"},"score":0,"creation_date":1689047748,"post_id":76658554,"comment_id":135154167,"body_markdown":"I&#39;ve run into very similar issue with the JFrame icon not being shown in the Ubuntu dock (in certain situations).  Ubuntu 22.04 solved it.  It was very finicky, order and timing dependent.  Good to hear you figured out what to tweak to work around the problem.","body":"I&#39;ve run into very similar issue with the JFrame icon not being shown in the Ubuntu dock (in certain situations).  Ubuntu 22.04 solved it.  It was very finicky, order and timing dependent.  Good to hear you figured out what to tweak to work around the problem."}],"tags":[],"owner":{"account_id":28971666,"reputation":1,"user_id":22191818,"display_name":"Tompac"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689046880,"creation_date":1689046392,"answer_id":76658554,"question_id":76658167,"body_markdown":"So, apparently instantiating the first JFrame (or SFrame) without assigning it to a variable does not work properly as far as assigning the icon.  I found that if I declared a JFrame/SFrame variable first, called setDefaultLookAndFeelDecorated(true) on that JFrame/SFrame variable before even instantiating the object, and then instantiated the JFrame/SFrame and assigned it to the variable that things work as desired (the first JFrame/SFrame does get the icon).  I can&#39;t say I understand why I need to do that, but I do get the behavior that I want.","title":"JFrame icon renders properly on Windows but not on particular Linux distribution","body":"<p>So, apparently instantiating the first JFrame (or SFrame) without assigning it to a variable does not work properly as far as assigning the icon.  I found that if I declared a JFrame/SFrame variable first, called setDefaultLookAndFeelDecorated(true) on that JFrame/SFrame variable before even instantiating the object, and then instantiated the JFrame/SFrame and assigned it to the variable that things work as desired (the first JFrame/SFrame does get the icon).  I can't say I understand why I need to do that, but I do get the behavior that I want.</p>\n"}],"owner":{"account_id":28971666,"reputation":1,"user_id":22191818,"display_name":"Tompac"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689046880,"creation_date":1689037783,"question_id":76658167,"body_markdown":"I could use some help regarding the setting of an icon on a JFrame.  I have a Java 8 application that is typically used in both Windows and Linux environments.  The application is composed of a number of &quot;SFrames&quot;, which are a custom class that extends a JFrame and includes the setting of a custom icon for the frame.  There is one main &quot;SFrame&quot; for the application, and then other &quot;SFrames&quot; are brought up as needed depending on the actions of the user.  All &quot;SFrames&quot; have the same icon displayed.  \r\n\r\nIn the past when running this application on both Windows and Linux the correct icon appeared on all &quot;SFrames&quot; (the main application &quot;SFrame&quot;, and then all subsequent frames that were brought up).  The execution environment for Linux was recently updated from an older version of Fedora (with the Mate desktop environment) to a recent version of Red Hat Enterprise Linux (also with the Mate desktop environment).  In this new Linux environment the icon was not appearing on any of the &quot;SFrames&quot;, either the main frame or any subsequent frames that appear.  \r\n\r\nI did see this Stackoverflow entry (https://stackoverflow.com/questions/13979754/jframe-icon-not-displaying-in-ubuntu-12-04), and setting setDefaultLookAndFeelDecorated to &quot;true&quot; in the &quot;SFrame&quot; constructor does cause the icon to appear on subsequent SFrames that are brought up under Linux, but not the first frame.  The first SFrame continues to have no icon on it, and appears very similar to the default appearance of other Mate windows.  Later experimentation showed that it is always the first SFrame that is left at the default appearance with no icon, regardless of whether subsequent SFrames are called from the first SFrame (i.e., subsequent SFrames are like &quot;children&quot; of the first SFrame, as shown in the example below), or whether multiple SFrames are called sequentially (i.e., subsequent SFrames are like &quot;younger siblings&quot; of the first SFrame).\r\n\r\nWith the minimum reproducible example given below, the attached graphic shows the results on Windows and Linux.  For Windows, both SFrames have an icon displayed, in this case the letter &quot;A&quot;.  These results are produced on Windows regardless of whether the call to setDefaultLookAndFeelDecorated is made or not.  For Linux, the first SFrame is displayed with no icon, the second SFrame with an icon.  If the call to setDefaultLookAndFeelDecorated is not made then neither SFrame has the icon on Linux.\r\n\r\nGraphic: [click here][1]\r\n\r\n```\r\nimport javax.swing.*;\r\n\r\nclass SFrame extends JFrame {\r\n\r\n     private static final ImageIcon image = new ImageIcon(&quot;icon.png&quot;);\r\n\r\n     public SFrame() {\r\n\r\n        setDefaultLookAndFeelDecorated(true);\r\n        \r\n        if (image != null)\r\n\t    {\r\n\t     setIconImage(image.getImage());\r\n        }\r\n\r\n     }\r\n}\r\n\r\n\r\nclass ChildFrame extends SFrame {\r\n   \r\n     public ChildFrame() {\r\n         \r\n        // Dimensions set so two windows do not overlap\r\n        setBounds(350, 100, 200, 400);\r\n        setTitle(&quot;CHILD&quot;);\r\n                \r\n    }\r\n}\r\n\r\npublic class MinimumExample extends SFrame {\r\n\r\n    private SFrame childFrame_;\r\n  \r\n    public MinimumExample() {\r\n        \r\n        // Dimensions set so two windows do not overlap\r\n        this.setBounds(100, 100, 200, 400);\r\n        this.setTitle(&quot;PARENT&quot;);\r\n\t    this.setVisible(true);\r\n      \r\n        childFrame_ = new ChildFrame();\r\n        childFrame_.setVisible(true);\r\n   }\r\n\r\n    public static void main(String args[]) {\r\n\r\n        new MinimumExample();\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nCould somebody point me in the right direction for a fix?  Thanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dirvV.png","title":"JFrame icon renders properly on Windows but not on particular Linux distribution","body":"<p>I could use some help regarding the setting of an icon on a JFrame.  I have a Java 8 application that is typically used in both Windows and Linux environments.  The application is composed of a number of &quot;SFrames&quot;, which are a custom class that extends a JFrame and includes the setting of a custom icon for the frame.  There is one main &quot;SFrame&quot; for the application, and then other &quot;SFrames&quot; are brought up as needed depending on the actions of the user.  All &quot;SFrames&quot; have the same icon displayed.</p>\n<p>In the past when running this application on both Windows and Linux the correct icon appeared on all &quot;SFrames&quot; (the main application &quot;SFrame&quot;, and then all subsequent frames that were brought up).  The execution environment for Linux was recently updated from an older version of Fedora (with the Mate desktop environment) to a recent version of Red Hat Enterprise Linux (also with the Mate desktop environment).  In this new Linux environment the icon was not appearing on any of the &quot;SFrames&quot;, either the main frame or any subsequent frames that appear.</p>\n<p>I did see this Stackoverflow entry (<a href=\"https://stackoverflow.com/questions/13979754/jframe-icon-not-displaying-in-ubuntu-12-04\">JFrame icon not displaying in Ubuntu 12.04</a>), and setting setDefaultLookAndFeelDecorated to &quot;true&quot; in the &quot;SFrame&quot; constructor does cause the icon to appear on subsequent SFrames that are brought up under Linux, but not the first frame.  The first SFrame continues to have no icon on it, and appears very similar to the default appearance of other Mate windows.  Later experimentation showed that it is always the first SFrame that is left at the default appearance with no icon, regardless of whether subsequent SFrames are called from the first SFrame (i.e., subsequent SFrames are like &quot;children&quot; of the first SFrame, as shown in the example below), or whether multiple SFrames are called sequentially (i.e., subsequent SFrames are like &quot;younger siblings&quot; of the first SFrame).</p>\n<p>With the minimum reproducible example given below, the attached graphic shows the results on Windows and Linux.  For Windows, both SFrames have an icon displayed, in this case the letter &quot;A&quot;.  These results are produced on Windows regardless of whether the call to setDefaultLookAndFeelDecorated is made or not.  For Linux, the first SFrame is displayed with no icon, the second SFrame with an icon.  If the call to setDefaultLookAndFeelDecorated is not made then neither SFrame has the icon on Linux.</p>\n<p>Graphic: <a href=\"https://i.stack.imgur.com/dirvV.png\" rel=\"nofollow noreferrer\">click here</a></p>\n<pre><code>import javax.swing.*;\n\nclass SFrame extends JFrame {\n\n     private static final ImageIcon image = new ImageIcon(&quot;icon.png&quot;);\n\n     public SFrame() {\n\n        setDefaultLookAndFeelDecorated(true);\n        \n        if (image != null)\n        {\n         setIconImage(image.getImage());\n        }\n\n     }\n}\n\n\nclass ChildFrame extends SFrame {\n   \n     public ChildFrame() {\n         \n        // Dimensions set so two windows do not overlap\n        setBounds(350, 100, 200, 400);\n        setTitle(&quot;CHILD&quot;);\n                \n    }\n}\n\npublic class MinimumExample extends SFrame {\n\n    private SFrame childFrame_;\n  \n    public MinimumExample() {\n        \n        // Dimensions set so two windows do not overlap\n        this.setBounds(100, 100, 200, 400);\n        this.setTitle(&quot;PARENT&quot;);\n        this.setVisible(true);\n      \n        childFrame_ = new ChildFrame();\n        childFrame_.setVisible(true);\n   }\n\n    public static void main(String args[]) {\n\n        new MinimumExample();\n    }\n\n}\n\n\n</code></pre>\n<p>Could somebody point me in the right direction for a fix?  Thanks</p>\n"},{"tags":["java","javac","java-module","module-info","java-package"],"comments":[{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1592056552,"post_id":62360613,"comment_id":110290567,"body_markdown":"Does `module-info.java` contain line `exports myPackage`? If yes, what is surprising that javac cannot find a nonexistent package?","body":"Does <code>module-info.java</code> contain line <code>exports myPackage</code>? If yes, what is surprising that javac cannot find a nonexistent package?"},{"owner":{"account_id":1657393,"reputation":1826,"user_id":1526545,"accept_rate":63,"display_name":"Joseph_Marzbani"},"score":0,"creation_date":1592056739,"post_id":62360613,"comment_id":110290614,"body_markdown":"The package is right there in the current directory with Main.class in it (Next to module-info.java itself)","body":"The package is right there in the current directory with Main.class in it (Next to module-info.java itself)"},{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1592057031,"post_id":62360613,"comment_id":110290682,"body_markdown":"It&#39;s there but if you run `javac module-info.java`, javac only knows about module-info and nothing else.","body":"It&#39;s there but if you run <code>javac module-info.java</code>, javac only knows about module-info and nothing else."},{"owner":{"account_id":1657393,"reputation":1826,"user_id":1526545,"accept_rate":63,"display_name":"Joseph_Marzbani"},"score":0,"creation_date":1592057284,"post_id":62360613,"comment_id":110290765,"body_markdown":"So, it doesn&#39;t matter which of the *.java files inside the package gets compiled as long as it informs the javac that such a package exist. Is that right? If yes, what if I want to export a package of which I don&#39;t have source codes?","body":"So, it doesn&#39;t matter which of the *.java files inside the package gets compiled as long as it informs the javac that such a package exist. Is that right? If yes, what if I want to export a package of which I don&#39;t have source codes?"}],"answers":[{"tags":[],"owner":{"account_id":5640884,"reputation":1954,"user_id":4465539,"accept_rate":33,"display_name":"deduper"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602021253,"creation_date":1602021253,"answer_id":64234325,"question_id":62360613,"body_markdown":"***TL;DR*** — A *module-info.java* file is not designed to be a stand-alone thing. It is designed to be part of a multi-source file compilation unit. A unit which includes the module descriptor, ***plus*** *at least* one other ***source*** file.\r\n\r\n----\r\n\r\n***The long-winded version***\r\n\r\n&gt; „*…there&#39;s another folder called `myPackage` in which my `Main.class` exists…*“\r\n\r\nI&#39;m gonna assume you meant to type *`Main.java`* and that *`Main.class`* is an oversight since… \r\n\r\n1. You don&#39;t mention anything about it being an already-compiled byte code file. \r\n2. I can&#39;t think of a reason why anybody would *intentionally* put a *.class* file in a source directory.\r\n\r\nI&#39;m also gonna assume — *although you didn&#39;t mention it at all in your question* — that you&#39;re intentionally following the convention recommended in the [*Project Jigsaw: Module System Quick-Start Guide*](https://openjdk.java.net/projects/jigsaw/quick-start)…\r\n\r\n&gt;&gt; „*…By convention, the source code for the module is in a directory that is the name of the module…*“ \r\n\r\nI&#39;ve established that compilation would succeed if your *`myModule`* module is just an empty *`module{}`* block. That is, if it doesn&#39;t declare that it *`exports myPackage`*.  So I&#39;m gonna also assume your *module-info.java*, like my experimental one, contains…\r\n\r\n```java\r\nmodule myModule { \r\n    exports myPackage;\r\n}\r\n```\r\n\r\nKeep in mind what the *`javac`* tool [*is designed to do*](https://docs.oracle.com/en/java/javase/15/docs/specs/man/javac.html#description)…\r\n\r\n&gt;&gt; ***Description***\r\n&gt;&gt; \r\n&gt;&gt; *The `javac` command reads ***source files*** that contain module, package and type declarations written in the Java programming language…*\r\n\r\nAlso consider the [*reliable configuration goal*](http://cr.openjdk.java.net/~mr/jigsaw/spec/) of the JPMS…\r\n\r\n&gt;&gt; *Reliable configuration, to replace the brittle, error-prone class-path mechanism with a means for program components to declare explicit dependences upon one another*\r\n&gt;&gt;\r\n\r\nIf I sign a contract to mow your lawn every Saturday but then never turn up, how reliable am I? Imagine if it were legal for *`javac`* to compile a module-info.java file for a module that *claimed* to export a package, but that package had no classes in it. How *reliable* is such a module? \r\n\r\nIf my build downloaded your hypothetical *`myModule`* artifact from Maven Central, I could have an *`import myPackage.*`* in my class only to find there&#39;s nothing in it. What use is a package with nothing in it?\r\n\r\n\r\n&gt; „*The problem is when I want to compile my module-info.java with the following command:*“\r\n&gt;\r\n&gt; ```bash\r\n&gt; javac module-info.java\r\n&gt; ```\r\n\r\nThe clue to the mystery is the fact that the above command results in the same error when the *`myPackage`* directory contains legal source code.\r\n\r\nThe error message isn&#39;t telling you that the ***file system directory*** is empty. It&#39;s telling you that the ***package*** that you claim the module exports is empty. Empty as in: ***The compiler doesn&#39;t know anything about source code you never pass to it as part of a compilation unit***.\r\n\r\n&gt; „*…the error disappears. I can&#39;t understand why this should happen?…*“\r\n\r\nBy executing: *`javac module-info.java myPackage/Main.java`*, you&#39;re composing a compilation unit made up of the things the module declares it exports. Which is [*the way the JPMS documentation*](https://openjdk.java.net/projects/jigsaw/quick-start#greetings) specifies the system is *expected to be* used…\r\n\r\n```bash\r\n$ javac -d mods/com.greetings \\\r\n        src/com.greetings/module-info.java \\\r\n        src/com.greetings/com/greetings/Main.java\r\n```\r\n\r\nSo typos notwithstanding, the cause of the error you report is pretty simple: ***Compiling a module that doesn&#39;t contain any source files is not only pointless, as far as the compiler is concerned it is a malformed module. Therefore, it&#39;s illegal.*** ","title":"module-info not compiled unless package classes are compiled with the same command","body":"<p><em><strong>TL;DR</strong></em> — A <em>module-info.java</em> file is not designed to be a stand-alone thing. It is designed to be part of a multi-source file compilation unit. A unit which includes the module descriptor, <em><strong>plus</strong></em> <em>at least</em> one other <em><strong>source</strong></em> file.</p>\n<hr />\n<p><em><strong>The long-winded version</strong></em></p>\n<blockquote>\n<p>„<em>…there's another folder called <code>myPackage</code> in which my <code>Main.class</code> exists…</em>“</p>\n</blockquote>\n<p>I'm gonna assume you meant to type <em><code>Main.java</code></em> and that <em><code>Main.class</code></em> is an oversight since…</p>\n<ol>\n<li>You don't mention anything about it being an already-compiled byte code file.</li>\n<li>I can't think of a reason why anybody would <em>intentionally</em> put a <em>.class</em> file in a source directory.</li>\n</ol>\n<p>I'm also gonna assume — <em>although you didn't mention it at all in your question</em> — that you're intentionally following the convention recommended in the <a href=\"https://openjdk.java.net/projects/jigsaw/quick-start\" rel=\"nofollow noreferrer\"><em>Project Jigsaw: Module System Quick-Start Guide</em></a>…</p>\n<blockquote>\n<blockquote>\n<p>„<em>…By convention, the source code for the module is in a directory that is the name of the module…</em>“</p>\n</blockquote>\n</blockquote>\n<p>I've established that compilation would succeed if your <em><code>myModule</code></em> module is just an empty <em><code>module{}</code></em> block. That is, if it doesn't declare that it <em><code>exports myPackage</code></em>.  So I'm gonna also assume your <em>module-info.java</em>, like my experimental one, contains…</p>\n<pre class=\"lang-java prettyprint-override\"><code>module myModule { \n    exports myPackage;\n}\n</code></pre>\n<p>Keep in mind what the <em><code>javac</code></em> tool <a href=\"https://docs.oracle.com/en/java/javase/15/docs/specs/man/javac.html#description\" rel=\"nofollow noreferrer\"><em>is designed to do</em></a>…</p>\n<blockquote>\n<blockquote>\n<p><em><strong>Description</strong></em></p>\n<p><em>The <code>javac</code> command reads <em><strong>source files</strong></em> that contain module, package and type declarations written in the Java programming language…</em></p>\n</blockquote>\n</blockquote>\n<p>Also consider the <a href=\"http://cr.openjdk.java.net/%7Emr/jigsaw/spec/\" rel=\"nofollow noreferrer\"><em>reliable configuration goal</em></a> of the JPMS…</p>\n<blockquote>\n<blockquote>\n<p><em>Reliable configuration, to replace the brittle, error-prone class-path mechanism with a means for program components to declare explicit dependences upon one another</em></p>\n</blockquote>\n</blockquote>\n<p>If I sign a contract to mow your lawn every Saturday but then never turn up, how reliable am I? Imagine if it were legal for <em><code>javac</code></em> to compile a module-info.java file for a module that <em>claimed</em> to export a package, but that package had no classes in it. How <em>reliable</em> is such a module?</p>\n<p>If my build downloaded your hypothetical <em><code>myModule</code></em> artifact from Maven Central, I could have an <em><code>import myPackage.*</code></em> in my class only to find there's nothing in it. What use is a package with nothing in it?</p>\n<blockquote>\n<p>„<em>The problem is when I want to compile my module-info.java with the following command:</em>“</p>\n<pre class=\"lang-sh prettyprint-override\"><code>javac module-info.java\n</code></pre>\n</blockquote>\n<p>The clue to the mystery is the fact that the above command results in the same error when the <em><code>myPackage</code></em> directory contains legal source code.</p>\n<p>The error message isn't telling you that the <em><strong>file system directory</strong></em> is empty. It's telling you that the <em><strong>package</strong></em> that you claim the module exports is empty. Empty as in: <em><strong>The compiler doesn't know anything about source code you never pass to it as part of a compilation unit</strong></em>.</p>\n<blockquote>\n<p>„<em>…the error disappears. I can't understand why this should happen?…</em>“</p>\n</blockquote>\n<p>By executing: <em><code>javac module-info.java myPackage/Main.java</code></em>, you're composing a compilation unit made up of the things the module declares it exports. Which is <a href=\"https://openjdk.java.net/projects/jigsaw/quick-start#greetings\" rel=\"nofollow noreferrer\"><em>the way the JPMS documentation</em></a> specifies the system is <em>expected to be</em> used…</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ javac -d mods/com.greetings \\\n        src/com.greetings/module-info.java \\\n        src/com.greetings/com/greetings/Main.java\n</code></pre>\n<p>So typos notwithstanding, the cause of the error you report is pretty simple: <em><strong>Compiling a module that doesn't contain any source files is not only pointless, as far as the compiler is concerned it is a malformed module. Therefore, it's illegal.</strong></em></p>\n"},{"tags":[],"owner":{"account_id":15697684,"reputation":164,"user_id":11326662,"display_name":"Liam Bloom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689046598,"creation_date":1689046598,"answer_id":76658568,"question_id":62360613,"body_markdown":"Okay, so today I ran into this exact issue, and I had the same problem as you: I didn&#39;t have the source code. However, I discovered that `javac` doesn&#39;t require you to have the actual source code, just *a* java source file in each exported package.\r\n\r\nMy solution was to create a powershell script that makes a copy of the file hierarchy, adds dummy java files to each directory whose name is a valid java package name, and compiles it\r\n\r\n``` sh\r\n# Initial folder heirarchy:\r\n# \r\n# --  staging\r\n# --  myModule\r\n#     --  myPackage\r\n#         --  Main.class\r\n#     --  module-info.java\r\n\r\n# copy folder hierarchy (without files) from myModule to staging\r\nxcopy myModule\\* staging /t /e\r\n\r\n# don&#39;t forget to copy the module-info.java file\r\nCopy-Item myModule/module-info.java staging\r\n\r\n# Get an array of all directories in staging\r\n$Packages = Get-ChildItem staging -Directory -Recurse\r\n\r\n# Iterate over those directories\r\n:packageLoop foreach ($Package in $Packages) {\r\n    # Each dummy file needs a package declaration at the top, so this generates the package name\r\n    $PackageName = &#39;&#39;\r\n    $PackageDir = $Package\r\n    while ($PackageDir.FullName -ne (Get-Item staging).FullName) {\r\n        if (-Not ($PackageDir.Name | Select-String -Pattern &#39;^[a-z$_][a-z$_0-9]*$&#39; -Quiet)) {\r\n            # skips over this directory if package name is invalid\r\n            continue packageLoop\r\n        }\r\n\r\n        $PackageName = &quot;$($PackageDir.Name).$PackageName&quot;\r\n        $PackageDir = $PackageDir.Parent\r\n    }\r\n\r\n    $PackageName = $PackageName.Substring(0, $PackageName.Length - 1)\r\n\r\n    # Creates the dummy file Foo.java\r\n    New-Item &quot;$($Package.FullName)/Foo.java&quot; -ItemType File -Value &quot;package $PackageName ; public class Foo { }&quot; | Out-Null\r\n}\r\n\r\n# Compiles entire staging directory, including module-info.java\r\njavac -d staging (Get-ChildItem staging\\* -Recurse -File | Select-Object -ExpandProperty FullName)\r\n\r\n# module-info.class can now be found at staging/module-info.class\r\n```","title":"module-info not compiled unless package classes are compiled with the same command","body":"<p>Okay, so today I ran into this exact issue, and I had the same problem as you: I didn't have the source code. However, I discovered that <code>javac</code> doesn't require you to have the actual source code, just <em>a</em> java source file in each exported package.</p>\n<p>My solution was to create a powershell script that makes a copy of the file hierarchy, adds dummy java files to each directory whose name is a valid java package name, and compiles it</p>\n<pre class=\"lang-bash prettyprint-override\"><code># Initial folder heirarchy:\n# \n# --  staging\n# --  myModule\n#     --  myPackage\n#         --  Main.class\n#     --  module-info.java\n\n# copy folder hierarchy (without files) from myModule to staging\nxcopy myModule\\* staging /t /e\n\n# don't forget to copy the module-info.java file\nCopy-Item myModule/module-info.java staging\n\n# Get an array of all directories in staging\n$Packages = Get-ChildItem staging -Directory -Recurse\n\n# Iterate over those directories\n:packageLoop foreach ($Package in $Packages) {\n    # Each dummy file needs a package declaration at the top, so this generates the package name\n    $PackageName = ''\n    $PackageDir = $Package\n    while ($PackageDir.FullName -ne (Get-Item staging).FullName) {\n        if (-Not ($PackageDir.Name | Select-String -Pattern '^[a-z$_][a-z$_0-9]*$' -Quiet)) {\n            # skips over this directory if package name is invalid\n            continue packageLoop\n        }\n\n        $PackageName = &quot;$($PackageDir.Name).$PackageName&quot;\n        $PackageDir = $PackageDir.Parent\n    }\n\n    $PackageName = $PackageName.Substring(0, $PackageName.Length - 1)\n\n    # Creates the dummy file Foo.java\n    New-Item &quot;$($Package.FullName)/Foo.java&quot; -ItemType File -Value &quot;package $PackageName ; public class Foo { }&quot; | Out-Null\n}\n\n# Compiles entire staging directory, including module-info.java\njavac -d staging (Get-ChildItem staging\\* -Recurse -File | Select-Object -ExpandProperty FullName)\n\n# module-info.class can now be found at staging/module-info.class\n</code></pre>\n"}],"owner":{"account_id":1657393,"reputation":1826,"user_id":1526545,"accept_rate":63,"display_name":"Joseph_Marzbani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2112,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1689046598,"creation_date":1592055905,"question_id":62360613,"body_markdown":"I&#39;ve got a folder called `myModule`. Inside it, there&#39;s another folder called `myPackage` in which my `Main.class` exists.\r\n\r\nNext to `myPackage` I have my `module-info.java` which I&#39;d like to compile. First take a look at the folders hierarchy:\r\n\r\n    --  myModule\r\n        --  myPackage\r\n            --  Main.class\r\n        --  module-info.java\r\n\r\nThe problem is when I want to compile my `module-info.java` with the following command:\r\n\r\n    javac module-info.java\r\n\r\nI get the following error:\r\n\r\n    package is empty or does not exist: myPackage\r\n\r\nBut, when I put Main.java inside myPackage and then compile both files with the same command:\r\n\r\n    javac module-info.java myPackage/Main.java\r\n\r\nthe error disappears. I can&#39;t understand why this should happen?","title":"module-info not compiled unless package classes are compiled with the same command","body":"<p>I've got a folder called <code>myModule</code>. Inside it, there's another folder called <code>myPackage</code> in which my <code>Main.class</code> exists.</p>\n\n<p>Next to <code>myPackage</code> I have my <code>module-info.java</code> which I'd like to compile. First take a look at the folders hierarchy:</p>\n\n<pre><code>--  myModule\n    --  myPackage\n        --  Main.class\n    --  module-info.java\n</code></pre>\n\n<p>The problem is when I want to compile my <code>module-info.java</code> with the following command:</p>\n\n<pre><code>javac module-info.java\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>package is empty or does not exist: myPackage\n</code></pre>\n\n<p>But, when I put Main.java inside myPackage and then compile both files with the same command:</p>\n\n<pre><code>javac module-info.java myPackage/Main.java\n</code></pre>\n\n<p>the error disappears. I can't understand why this should happen?</p>\n"},{"tags":["java","multithreading","volatile","java-memory-model","happens-before"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1658499251,"post_id":73080402,"comment_id":129073725,"body_markdown":"Did you try reversing the order of running2 and running in your loop condition? Also, can you explain *why* 17.4.5 says that auxillary variables, `running` in this case, are also updated when *any* volatile variable is read? I think a synchronized block would cause that.","body":"Did you try reversing the order of running2 and running in your loop condition? Also, can you explain <i>why</i> 17.4.5 says that auxillary variables, <code>running</code> in this case, are also updated when <i>any</i> volatile variable is read? I think a synchronized block would cause that."},{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":0,"creation_date":1658499695,"post_id":73080402,"comment_id":129073947,"body_markdown":"@matt reversing the order of the variables entirely misses the purpose of the question, but the answer is that no happens-before relationship occurs because the `volatile` field isn&#39;t read. And yes, reading any `volatile` field ensures a happens-before relationship for all changes that happened before due to the example in the linked paragraph: https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3.1.4","body":"@matt reversing the order of the variables entirely misses the purpose of the question, but the answer is that no happens-before relationship occurs because the <code>volatile</code> field isn&#39;t read. And yes, reading any <code>volatile</code> field ensures a happens-before relationship for all changes that happened before due to the example in the linked paragraph: <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3.1.4\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/&hellip;</a>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1658499875,"post_id":73080402,"comment_id":129074015,"body_markdown":"I think you&#39;re drawing the wrong conclussion. If you have `while( running2 || running )` then &quot;running&quot; never gets read because &quot;||&quot; is a short circuit operator. Therefore it never gets optimized out. You set running2 to false, and running2 is volatile so it has to be updated (happens-before) *then* `running` gets read for the first time and the loop ends.","body":"I think you&#39;re drawing the wrong conclussion. If you have <code>while( running2 || running )</code> then &quot;running&quot; never gets read because &quot;||&quot; is a short circuit operator. Therefore it never gets optimized out. You set running2 to false, and running2 is volatile so it has to be updated (happens-before) <i>then</i> <code>running</code> gets read for the first time and the loop ends."},{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":0,"creation_date":1658500571,"post_id":73080402,"comment_id":129074266,"body_markdown":"@matt sorry I linked the wrong example, alternatively see this https://stackoverflow.com/a/17108892/3882565 an many other answers on stackoverflow.","body":"@matt sorry I linked the wrong example, alternatively see this <a href=\"https://stackoverflow.com/a/17108892/3882565\">stackoverflow.com/a/17108892/3882565</a> an many other answers on stackoverflow."},{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":0,"creation_date":1658500802,"post_id":73080402,"comment_id":129074356,"body_markdown":"@matt &quot;I think you&#39;re drawing the wrong conclussion. ...&quot; No, what you are saying is exactly what I want to show with this example, plus the fact that `running` is read correctly as `false` (due to the happens-before relationship) as soon as it&#39;s actually read.","body":"@matt &quot;I think you&#39;re drawing the wrong conclussion. ...&quot; No, what you are saying is exactly what I want to show with this example, plus the fact that <code>running</code> is read correctly as <code>false</code> (due to the happens-before relationship) as soon as it&#39;s actually read."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1658501832,"post_id":73080402,"comment_id":129074759,"body_markdown":"The answer you link there is directly contradicted in the JLS you link. &quot;Thread 1 writes to s happens before Thread 1 writes to b (program order rule)&quot; The JLS says that if nothing is affected it is ok to re-order that write.","body":"The answer you link there is directly contradicted in the JLS you link. &quot;Thread 1 writes to s happens before Thread 1 writes to b (program order rule)&quot; The JLS says that if nothing is affected it is ok to re-order that write."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1658502298,"post_id":73080402,"comment_id":129074912,"body_markdown":"@stonar96 what platform are you on? I can&#39;t reproduce third case on MacOS x86/Java 17, moreover, `running2 = false` is not required.","body":"@stonar96 what platform are you on? I can&#39;t reproduce third case on MacOS x86/Java 17, moreover, <code>running2 = false</code> is not required."},{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":0,"creation_date":1658502640,"post_id":73080402,"comment_id":129075025,"body_markdown":"@matt &quot;To show what you want to show, ...&quot; But that&#39;s not what I want to show. What you are saying is correct. &quot;Then when you set `running` to false, it will not stop the loop. ...&quot; Yes, but for two reasons actually: 1) because `running2` is still `true` and 2) because the thread isn&#39;t guaranteed to see `running` as `false`","body":"@matt &quot;To show what you want to show, ...&quot; But that&#39;s not what I want to show. What you are saying is correct. &quot;Then when you set <code>running</code> to false, it will not stop the loop. ...&quot; Yes, but for two reasons actually: 1) because <code>running2</code> is still <code>true</code> and 2) because the thread isn&#39;t guaranteed to see <code>running</code> as <code>false</code>"},{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":0,"creation_date":1658509736,"post_id":73080402,"comment_id":129077545,"body_markdown":"@AndreyB.Panfilov I&#39;m using the Eclipse JDT core compiler with compiler compliance level 1.8 and execution environment JavaSE-1.8 (jdk-17.0.1.12-hotspot) on Windows 10 64 bit to test this. The write `running2 = false;` is required afaik to ensure a happens-before relationship.","body":"@AndreyB.Panfilov I&#39;m using the Eclipse JDT core compiler with compiler compliance level 1.8 and execution environment JavaSE-1.8 (jdk-17.0.1.12-hotspot) on Windows 10 64 bit to test this. The write <code>running2 = false;</code> is required afaik to ensure a happens-before relationship."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1658509859,"post_id":73080402,"comment_id":129077586,"body_markdown":"So you&#39;re hoping that reading a `volatile` will act as a compile-time memory barrier (like GNU C `asm(&quot;&quot; ::: &quot;memory&quot;)`) and force the JVM to make asm that re-reads the non-volatile as well.  (Because that happens after a load that might have synced-with.)  Yeah, this sounds reasonable, if the compiler can&#39;t optimize away the volatile read even though its value isn&#39;t needed (only controlling an empty if).  So basically the question is whether the JLS allows removing such loads, removing the only thing that could be syncing with another thread.","body":"So you&#39;re hoping that reading a <code>volatile</code> will act as a compile-time memory barrier (like GNU C <code>asm(&quot;&quot; ::: &quot;memory&quot;)</code>) and force the JVM to make asm that re-reads the non-volatile as well.  (Because that happens after a load that might have synced-with.)  Yeah, this sounds reasonable, if the compiler can&#39;t optimize away the volatile read even though its value isn&#39;t needed (only controlling an empty if).  So basically the question is whether the JLS allows removing such loads, removing the only thing that could be syncing with another thread."},{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":0,"creation_date":1658509986,"post_id":73080402,"comment_id":129077624,"body_markdown":"@PeterCordes yes exactly, and that&#39;s what I would expect to happen according to the JLS.","body":"@PeterCordes yes exactly, and that&#39;s what I would expect to happen according to the JLS."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1658510623,"post_id":73080402,"comment_id":129077809,"body_markdown":"@stonar96 just checked, the same code compiled by OpenJDK and Eclipse JDT behaves differently, OpenJDK behaviour meets your expectations.","body":"@stonar96 just checked, the same code compiled by OpenJDK and Eclipse JDT behaves differently, OpenJDK behaviour meets your expectations."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1658514206,"post_id":73080402,"comment_id":129078895,"body_markdown":"@stonar96 `The write running2 = false; is required afaik to ensure a happens-before relationship` - where is the local value of `running` visible to `main` thread stored after exiting `#main` method (i.e. after `main` thread exited)? we have written it, we can&#39;t lose it.","body":"@stonar96 <code>The write running2 = false; is required afaik to ensure a happens-before relationship</code> - where is the local value of <code>running</code> visible to <code>main</code> thread stored after exiting <code>#main</code> method (i.e. after <code>main</code> thread exited)? we have written it, we can&#39;t lose it."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1658518338,"post_id":73080402,"comment_id":129080091,"body_markdown":"In your example with the `if(running2) {}`, you claim Thread doesn&#39;t finish execution because the if statement is optimized out. Therefore there is never a volatile read, so the while loop coninues execution. You&#39;re claiming this is a bug because the volatile read should act like a memory barrier and both `running` and `running2` should be updated. I don&#39;t think this is a bug because I don&#39;t think `running` needs to be updated when there is an update to `running2`. It would help your question if you can show that with the JLS. Also, the if example exits fine for me, `openjdk version &quot;11.0.15&quot;`","body":"In your example with the <code>if(running2) {}</code>, you claim Thread doesn&#39;t finish execution because the if statement is optimized out. Therefore there is never a volatile read, so the while loop coninues execution. You&#39;re claiming this is a bug because the volatile read should act like a memory barrier and both <code>running</code> and <code>running2</code> should be updated. I don&#39;t think this is a bug because I don&#39;t think <code>running</code> needs to be updated when there is an update to <code>running2</code>. It would help your question if you can show that with the JLS. Also, the if example exits fine for me, <code>openjdk version &quot;11.0.15&quot;</code>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1658520470,"post_id":73080402,"comment_id":129080604,"body_markdown":"[This answer](https://stackoverflow.com/a/17109277/2067492) claims that JCIP says that all the changes should be visible. It would be good if there was a reference to the JLS though.","body":"<a href=\"https://stackoverflow.com/a/17109277/2067492\">This answer</a> claims that JCIP says that all the changes should be visible. It would be good if there was a reference to the JLS though."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":1,"creation_date":1658677440,"post_id":73080402,"comment_id":129105133,"body_markdown":"@PeterCordes the compiler is allowed to remove a volatile load/store (or synchronized block) if the sole purpose is to act like a memory fence. For examples see https://github.com/openjdk/jcstress/blob/master/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/advanced/AdvancedJMM_15_VolatilesAreNotFences.java. Therefor I&#39;m pretty sure that in the last example, the empty `if (running2) {}` could be optimized out.","body":"@PeterCordes the compiler is allowed to remove a volatile load/store (or synchronized block) if the sole purpose is to act like a memory fence. For examples see <a href=\"https://github.com/openjdk/jcstress/blob/master/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/advanced/AdvancedJMM_15_VolatilesAreNotFences.java\" rel=\"nofollow noreferrer\">github.com/openjdk/jcstress/blob/master/jcstress-samples/src&zwnj;&#8203;/&hellip;</a>. Therefor I&#39;m pretty sure that in the last example, the empty <code>if (running2) {}</code> could be optimized out."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1658678334,"post_id":73080402,"comment_id":129105344,"body_markdown":"@pveentjer: Interesting, that sounds like an answer, especially if you know where to look in the JLS to justify that.  (Hopefully it&#39;s not like user19607013&#39;s answer suggests, and based on allowing an infinite delay in visibility of a volatile write.)","body":"@pveentjer: Interesting, that sounds like an answer, especially if you know where to look in the JLS to justify that.  (Hopefully it&#39;s not like user19607013&#39;s answer suggests, and based on allowing an infinite delay in visibility of a volatile write.)"}],"answers":[{"comments":[{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1658678125,"post_id":73090830,"comment_id":129105291,"body_markdown":"Delayed visibility due to sequential consistency not needing to preserve the real-time order of requests is one reason why the loop could keep running. But the removal of a volatile read/write (or synchronized block) that only serves as a fence, is another cause. For a concrete example see\n\nhttps://github.com/openjdk/jcstress/blob/master/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/advanced/AdvancedJMM_15_VolatilesAreNotFences.java\n\nI believe the &#39;if(running2){} could be optimized out for that reason.","body":"Delayed visibility due to sequential consistency not needing to preserve the real-time order of requests is one reason why the loop could keep running. But the removal of a volatile read/write (or synchronized block) that only serves as a fence, is another cause. For a concrete example see  <a href=\"https://github.com/openjdk/jcstress/blob/master/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/advanced/AdvancedJMM_15_VolatilesAreNotFences.java\" rel=\"nofollow noreferrer\">github.com/openjdk/jcstress/blob/master/jcstress-samples/src&zwnj;&#8203;/&hellip;</a>  I believe the &#39;if(running2){} could be optimized out for that reason."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1658678278,"post_id":73090830,"comment_id":129105325,"body_markdown":"`running2` is the `volatile` variable.  (Unfortunately the question picked names that don&#39;t help you remember which is which.)  Anyway, `volatile` writes should always be visible to `volatile` reads promptly, shouldn&#39;t they?  C++ for example just says &quot;finite time&quot; and &quot;reasonable amount of time&quot; as recommendations; it seems to me disappointing if Java didn&#39;t at least strongly recommend that infinite delays shouldn&#39;t be possible.","body":"<code>running2</code> is the <code>volatile</code> variable.  (Unfortunately the question picked names that don&#39;t help you remember which is which.)  Anyway, <code>volatile</code> writes should always be visible to <code>volatile</code> reads promptly, shouldn&#39;t they?  C++ for example just says &quot;finite time&quot; and &quot;reasonable amount of time&quot; as recommendations; it seems to me disappointing if Java didn&#39;t at least strongly recommend that infinite delays shouldn&#39;t be possible."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1658679059,"post_id":73090830,"comment_id":129105510,"body_markdown":"@PeterCordes The non-normative section of the JVM does talk about visibility; so a change should become visible to other threads at some point. But the JMM itself makes no guarantee how much skewing is allowed (at least I don&#39;t recall seeing it).","body":"@PeterCordes The non-normative section of the JVM does talk about visibility; so a change should become visible to other threads at some point. But the JMM itself makes no guarantee how much skewing is allowed (at least I don&#39;t recall seeing it)."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1658679459,"post_id":73090830,"comment_id":129105598,"body_markdown":"@pveentjer: Ok, C++ is the same, that &quot;finite time&quot; is a non-normative note.  ([this answer quotes both notes](https://stackoverflow.com/questions/70581645/why-set-the-stop-flag-using-memory-order-seq-cst-if-you-check-it-with-memory/70593598#70593598)).  But is that the only thing that allows optimizing away a volatile load here?  An implementation choice in how to interpret the standard to sometimes allow infinite delays?","body":"@pveentjer: Ok, C++ is the same, that &quot;finite time&quot; is a non-normative note.  (<a href=\"https://stackoverflow.com/questions/70581645/why-set-the-stop-flag-using-memory-order-seq-cst-if-you-check-it-with-memory/70593598#70593598\">this answer quotes both notes</a>).  But is that the only thing that allows optimizing away a volatile load here?  An implementation choice in how to interpret the standard to sometimes allow infinite delays?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1658690466,"post_id":73090830,"comment_id":129108111,"body_markdown":"&quot;But the JLS provides no guarantees about the time it takes for a write in one thread to become visible in another thread.&quot; Where do you get this from? `running2` is volatile, and any subsequent read should see the updated value. From [17.4.4](https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.4) &quot;A write to a volatile variable v (&#167;8.3.1.4) synchronizes-with all subsequent reads of v by any thread&quot;","body":"&quot;But the JLS provides no guarantees about the time it takes for a write in one thread to become visible in another thread.&quot; Where do you get this from? <code>running2</code> is volatile, and any subsequent read should see the updated value. From <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.4\" rel=\"nofollow noreferrer\">17.4.4</a> &quot;A write to a volatile variable v (&#167;8.3.1.4) synchronizes-with all subsequent reads of v by any thread&quot;"},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1658717370,"post_id":73090830,"comment_id":129112168,"body_markdown":"Subsequent in the happens-before order; not in the real-time order. A read will see the most recent write before it in the happens-before order, or a write it is in data race with. That defines happens-before consistent.","body":"Subsequent in the happens-before order; not in the real-time order. A read will see the most recent write before it in the happens-before order, or a write it is in data race with. That defines happens-before consistent."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1658717879,"post_id":73090830,"comment_id":129112234,"body_markdown":"@matt a good example that violates the real-time order is the use of store buffers in CPUs. Stores are placed in the store buffer, to prevent stalling the CPU, and the store will not be immediately visible. First, the store needs to retire (so isn&#39;t speculative anymore) and then it can take some time for the store to leave the store buffer and to be committed to the coherent cache (e.g the store needs to do an RFO and wait for the acknowledgment of invalidation of the corresponding cache line from all other CPUs). Only when it is committed, it is visible to other CPUs.","body":"@matt a good example that violates the real-time order is the use of store buffers in CPUs. Stores are placed in the store buffer, to prevent stalling the CPU, and the store will not be immediately visible. First, the store needs to retire (so isn&#39;t speculative anymore) and then it can take some time for the store to leave the store buffer and to be committed to the coherent cache (e.g the store needs to do an RFO and wait for the acknowledgment of invalidation of the corresponding cache line from all other CPUs). Only when it is committed, it is visible to other CPUs."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1658718375,"post_id":73090830,"comment_id":129112282,"body_markdown":"@matt so imagine that a thread would only execute a volatile store and do nothing else, then it is obvious that this store isn&#39;t visible when it is executed, not visible when it retires, not visible when it enters the linefillbuffer and the request for ownership (RFO) is send, but only visible at the moment it is committed to the cache. So if there would be another thread (different CPU) that executes only a volatile read and this volatile read is performed before the RFO is processed, it is allowed to return the value before the store has executed even though the store has executed/retired.","body":"@matt so imagine that a thread would only execute a volatile store and do nothing else, then it is obvious that this store isn&#39;t visible when it is executed, not visible when it retires, not visible when it enters the linefillbuffer and the request for ownership (RFO) is send, but only visible at the moment it is committed to the cache. So if there would be another thread (different CPU) that executes only a volatile read and this volatile read is performed before the RFO is processed, it is allowed to return the value before the store has executed even though the store has executed/retired."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1658718639,"post_id":73090830,"comment_id":129112309,"body_markdown":"@matt But unless you have the ability to actually measure the timing of every state of an instruction on every CPU, you will not be able to prove the realtime order was violated. If the real-time order needs to be preserved, you need linearizability. Linearizability = sequential consistency + (pretending) to respect the real time order. With linearizability you get the guarantee that the operation will take effect between invocation start and completion (its linearization point); which clearly isn&#39;t the case with a store buffer.\n\nhttps://jepsen.io/consistency/models/linearizable","body":"@matt But unless you have the ability to actually measure the timing of every state of an instruction on every CPU, you will not be able to prove the realtime order was violated. If the real-time order needs to be preserved, you need linearizability. Linearizability = sequential consistency + (pretending) to respect the real time order. With linearizability you get the guarantee that the operation will take effect between invocation start and completion (its linearization point); which clearly isn&#39;t the case with a store buffer.  <a href=\"https://jepsen.io/consistency/models/linearizable\" rel=\"nofollow noreferrer\">jepsen.io/consistency/models/linearizable</a>"},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1658719247,"post_id":73090830,"comment_id":129112365,"body_markdown":"@matt Another cause of loads/stores being skewed is the out-of-order processing abilities of a modern processor with can lead to loads and stores to move around with respect to the &#39;program order&#39;. E.g. a load could be moved forward (executed earlier) and therefore see an old value instead of a newer value compared to if it would have been executed in order.","body":"@matt Another cause of loads/stores being skewed is the out-of-order processing abilities of a modern processor with can lead to loads and stores to move around with respect to the &#39;program order&#39;. E.g. a load could be moved forward (executed earlier) and therefore see an old value instead of a newer value compared to if it would have been executed in order."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1658719417,"post_id":73090830,"comment_id":129112383,"body_markdown":"@matt this is a very good read: happening-before != happens-before.\n\nhttps://preshing.com/20130702/the-happens-before-relation/","body":"@matt this is a very good read: happening-before != happens-before.  <a href=\"https://preshing.com/20130702/the-happens-before-relation/\" rel=\"nofollow noreferrer\">preshing.com/20130702/the-happens-before-relation</a>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1658738840,"post_id":73090830,"comment_id":129116671,"body_markdown":"@pveentjer I am asking about the claim, &quot;`running2=false`takes a very long time to propagate to another thread.&quot; Which is a bit ambiguous, but it is describing the application not ending within seconds after running2 is set to false. The effects you a writing about are going to be on the order of clock cycles not seconds? Maybe I am mistaken.","body":"@pveentjer I am asking about the claim, &quot;<code>running2=false</code>takes a very long time to propagate to another thread.&quot; Which is a bit ambiguous, but it is describing the application not ending within seconds after running2 is set to false. The effects you a writing about are going to be on the order of clock cycles not seconds? Maybe I am mistaken."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1658739317,"post_id":73090830,"comment_id":129116828,"body_markdown":"According to the specification it is allowed to skew for a very long period since there are no real time guarantees given. But from an implementation point of view I would already would be surprised if it takes more than a few hundred nanoseconds. The store buffer has a limited capacity and the CPU  tries to drain the store buffer as fast as possible because otherwise, the CPU would need to stall (store buffer will fill up and no store instructions can be scheduled).","body":"According to the specification it is allowed to skew for a very long period since there are no real time guarantees given. But from an implementation point of view I would already would be surprised if it takes more than a few hundred nanoseconds. The store buffer has a limited capacity and the CPU  tries to drain the store buffer as fast as possible because otherwise, the CPU would need to stall (store buffer will fill up and no store instructions can be scheduled)."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1658803412,"post_id":73090830,"comment_id":129136469,"body_markdown":"@matt keep in mind that the compiler can change the code so that a load or store never becomes visible. So the skew would be indefinite.","body":"@matt keep in mind that the compiler can change the code so that a load or store never becomes visible. So the skew would be indefinite."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1658824035,"post_id":73090830,"comment_id":129141081,"body_markdown":"@pveentje I think that is explicitly what volatile is to protect against. The next read needs to be needs to be there changed version. There are some practical concerns, but reading/writing a volatile field is synchronized.","body":"@pveentje I think that is explicitly what volatile is to protect against. The next read needs to be needs to be there changed version. There are some practical concerns, but reading/writing a volatile field is synchronized."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1658824554,"post_id":73090830,"comment_id":129141284,"body_markdown":"@matt if nothing is done with the value, then there are no recency guarantees. That is the reason why using volatiles to simulate fences doesn&#39;t work. https://github.com/openjdk/jcstress/blob/master/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/advanced/AdvancedJMM_15_VolatilesAreNotFences.java","body":"@matt if nothing is done with the value, then there are no recency guarantees. That is the reason why using volatiles to simulate fences doesn&#39;t work. <a href=\"https://github.com/openjdk/jcstress/blob/master/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/advanced/AdvancedJMM_15_VolatilesAreNotFences.java\" rel=\"nofollow noreferrer\">github.com/openjdk/jcstress/blob/master/jcstress-samples/src&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1658825371,"post_id":73090830,"comment_id":129141640,"body_markdown":"I agree with that completely, I take that to mean `running2` will be updated, but `running` might not be updated.","body":"I agree with that completely, I take that to mean <code>running2</code> will be updated, but <code>running</code> might not be updated."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1658911605,"post_id":73090830,"comment_id":129166917,"body_markdown":"@matt My understanding is that also running2 doesn&#39;t need to be updated since nobody is there to observe the read value. So since the value isn&#39;t used, nobody is there to proof that the value wasn&#39;t read.","body":"@matt My understanding is that also running2 doesn&#39;t need to be updated since nobody is there to observe the read value. So since the value isn&#39;t used, nobody is there to proof that the value wasn&#39;t read."}],"tags":[],"owner":{"account_id":25877269,"reputation":19,"user_id":19607013,"display_name":"user19607013"},"comment_count":18,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1658579958,"creation_date":1658579958,"answer_id":73090830,"question_id":73080402,"body_markdown":"&gt;  Is this a JVM bug, or does the JLS allow it to remove a volatile read when the value isn&#39;t needed?\r\n\r\nIt&#39;s neither.\r\n\r\nThis execution is valid according to the JLS.\r\n\r\nThe second thread must finish shortly after it reads `running2 == true`.  \r\nBut the JLS provides no guarantees about the time it takes for a write in one thread to become visible in another thread.  \r\nAs a result, your program execution is valid, because it corresponds to the case when the write `running2 = false` takes a very long time to propagate to another thread.\r\n\r\nBy the way on my java version (OpenJDK 64-Bit Server VM (build 17.0.3+7-suse-1.4-x8664, mixed mode)) the program finishes in about 1 second.  \r\nThis is also a valid execution — this corresponds to the case when the write `running2 = false` propagate to the second thread quicker.\r\n\r\nPS you mentioned &quot;memory barrier&quot;.  \r\nFor a memory barrier there typically exists some max time, after which it is guaranteed to propagate to other threads.  \r\nBut the JLS doesn&#39;t operate in terms of memory barriers, doesn&#39;t have to use them, and actually guarantees only [this](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4):\r\n&gt; An implementation is free to produce any code it likes, as long as all resulting executions of a program produce a result that can be predicted by the memory model.\r\n\r\nPSS If you want to see the real assembly code that the JVM produced for your program you can use [+PrintAssembly](https://wiki.openjdk.org/display/HotSpot/PrintAssembly).","title":"Does Java allow a volatile read to be optimized away if the value isn&#39;t needed, also removing the happens-before synchronization?","body":"<blockquote>\n<p>Is this a JVM bug, or does the JLS allow it to remove a volatile read when the value isn't needed?</p>\n</blockquote>\n<p>It's neither.</p>\n<p>This execution is valid according to the JLS.</p>\n<p>The second thread must finish shortly after it reads <code>running2 == true</code>.<br />\nBut the JLS provides no guarantees about the time it takes for a write in one thread to become visible in another thread.<br />\nAs a result, your program execution is valid, because it corresponds to the case when the write <code>running2 = false</code> takes a very long time to propagate to another thread.</p>\n<p>By the way on my java version (OpenJDK 64-Bit Server VM (build 17.0.3+7-suse-1.4-x8664, mixed mode)) the program finishes in about 1 second.<br />\nThis is also a valid execution — this corresponds to the case when the write <code>running2 = false</code> propagate to the second thread quicker.</p>\n<p>PS you mentioned &quot;memory barrier&quot;.<br />\nFor a memory barrier there typically exists some max time, after which it is guaranteed to propagate to other threads.<br />\nBut the JLS doesn't operate in terms of memory barriers, doesn't have to use them, and actually guarantees only <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4\" rel=\"nofollow noreferrer\">this</a>:</p>\n<blockquote>\n<p>An implementation is free to produce any code it likes, as long as all resulting executions of a program produce a result that can be predicted by the memory model.</p>\n</blockquote>\n<p>PSS If you want to see the real assembly code that the JVM produced for your program you can use <a href=\"https://wiki.openjdk.org/display/HotSpot/PrintAssembly\" rel=\"nofollow noreferrer\">+PrintAssembly</a>.</p>\n"},{"comments":[{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":0,"creation_date":1659042996,"post_id":73155300,"comment_id":129208206,"body_markdown":"+1 for the good explanation. However, I&#39;m still not fully convinced about the actual point in both answers, namely that the third bullet point &quot;or it never ends&quot; is a valid execution (or at least intended to be a valid execution). The reason for my doubts is that this would essentially mean (provided that my understanding of the answer correct) that it&#39;s impossible in Java to reliably send a signal from one thread to another thread (in reasonable real time) in any case. Or does this only happen in the cases in my question because there is no external (observable) action that violates?","body":"+1 for the good explanation. However, I&#39;m still not fully convinced about the actual point in both answers, namely that the third bullet point &quot;or it never ends&quot; is a valid execution (or at least intended to be a valid execution). The reason for my doubts is that this would essentially mean (provided that my understanding of the answer correct) that it&#39;s impossible in Java to reliably send a signal from one thread to another thread (in reasonable real time) in any case. Or does this only happen in the cases in my question because there is no external (observable) action that violates?"},{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":0,"creation_date":1659043011,"post_id":73155300,"comment_id":129208210,"body_markdown":"For example would the program be guaranteed to terminate, if I print debug messages at the end of `main` and inside the loop to get external (observable) actions? If the latter question can be answered with a &quot;yes&quot;, then I think I can accept the answer.","body":"For example would the program be guaranteed to terminate, if I print debug messages at the end of <code>main</code> and inside the loop to get external (observable) actions? If the latter question can be answered with a &quot;yes&quot;, then I think I can accept the answer."},{"owner":{"account_id":25918640,"reputation":41,"user_id":19641690,"display_name":"qwerty"},"score":0,"creation_date":1659044337,"post_id":73155300,"comment_id":129208546,"body_markdown":"@stonar96 Regarding &quot;&#39;it never ends&#39; is a valid execution&quot;. Personally I looked in both The Java Language Specification and The Java Virtual Machine Specification, and I cannot find there anything that limits the time that a volatile write propagates to another thread. As a result, at least for now, I have to assume the worst: that it can take forever and &#39;never ends&#39; is a valid execution. It would be great if someone found a proof of the contrary.","body":"@stonar96 Regarding &quot;&#39;it never ends&#39; is a valid execution&quot;. Personally I looked in both The Java Language Specification and The Java Virtual Machine Specification, and I cannot find there anything that limits the time that a volatile write propagates to another thread. As a result, at least for now, I have to assume the worst: that it can take forever and &#39;never ends&#39; is a valid execution. It would be great if someone found a proof of the contrary."},{"owner":{"account_id":25918640,"reputation":41,"user_id":19641690,"display_name":"qwerty"},"score":0,"creation_date":1659044795,"post_id":73155300,"comment_id":129208651,"body_markdown":"@stonar96 Regarding &quot;it&#39;s impossible in Java to reliably send a signal from one thread to another thread (in reasonable real time)&quot;. If a volatile write can take forever to propagate to another thread, than your assumption is true. But to be fair, I suspect that nowadays a program on any programming language can hang forever: for example OS might prioritize other threads for any amount of time.","body":"@stonar96 Regarding &quot;it&#39;s impossible in Java to reliably send a signal from one thread to another thread (in reasonable real time)&quot;. If a volatile write can take forever to propagate to another thread, than your assumption is true. But to be fair, I suspect that nowadays a program on any programming language can hang forever: for example OS might prioritize other threads for any amount of time."},{"owner":{"account_id":25918640,"reputation":41,"user_id":19641690,"display_name":"qwerty"},"score":0,"creation_date":1659045546,"post_id":73155300,"comment_id":129208841,"body_markdown":"@stonar96 In the end, I think that for any program in any language we don&#39;t have guarantees (and often specifications) for most levels of execution (the JVM, the OS, hardware, etc.), and we just assume that all of that is implemented in some sane way and expect from all of that some sane behavior.","body":"@stonar96 In the end, I think that for any program in any language we don&#39;t have guarantees (and often specifications) for most levels of execution (the JVM, the OS, hardware, etc.), and we just assume that all of that is implemented in some sane way and expect from all of that some sane behavior."},{"owner":{"account_id":25918640,"reputation":41,"user_id":19641690,"display_name":"qwerty"},"score":0,"creation_date":1659046493,"post_id":73155300,"comment_id":129209040,"body_markdown":"@stonar96 &quot;would the program be guaranteed to terminate, if I print debug messages at the end of main and inside the loop to get external (observable) actions?&quot; No. If the volatile write takes forever to propagate, then Thread2 is still not guaranteed to leave the loop, but it will print debug message on every iteration. And every valid Java implementation will have to print the debug messages as well.","body":"@stonar96 &quot;would the program be guaranteed to terminate, if I print debug messages at the end of main and inside the loop to get external (observable) actions?&quot; No. If the volatile write takes forever to propagate, then Thread2 is still not guaranteed to leave the loop, but it will print debug message on every iteration. And every valid Java implementation will have to print the debug messages as well."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":1,"creation_date":1659185472,"post_id":73155300,"comment_id":129236241,"body_markdown":"The TLS talks about &#39;immediately&#39; visible. https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.3. &quot;and each individual action is atomic and is immediately visible to every thread&quot;. Immediately visible makes no sense with SC. &quot;visible as soon as possible&quot; would be better IMHO.","body":"The TLS talks about &#39;immediately&#39; visible. <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.3\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/&hellip;</a>. &quot;and each individual action is atomic and is immediately visible to every thread&quot;. Immediately visible makes no sense with SC. &quot;visible as soon as possible&quot; would be better IMHO."},{"owner":{"account_id":25918640,"reputation":41,"user_id":19641690,"display_name":"qwerty"},"score":0,"creation_date":1659198836,"post_id":73155300,"comment_id":129239176,"body_markdown":"@pveentjer thank you for providing the quote. IMHO &quot;immediately visible&quot; there means that in a SC  execution a read always sees the latest write. &quot;Latest&quot; here means the total order of actions in SC, the order is synthetic and doesn&#39;t even have to reflect the real times when the actions execute. So I don&#39;t think the quote means that it cannot take an infinite amount of time for a volatile write to propagate to another thread.","body":"@pveentjer thank you for providing the quote. IMHO &quot;immediately visible&quot; there means that in a SC  execution a read always sees the latest write. &quot;Latest&quot; here means the total order of actions in SC, the order is synthetic and doesn&#39;t even have to reflect the real times when the actions execute. So I don&#39;t think the quote means that it cannot take an infinite amount of time for a volatile write to propagate to another thread."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":1,"creation_date":1659206535,"post_id":73155300,"comment_id":129240917,"body_markdown":"@qwerty I&#39;m not sure what it means actually :) I have explained in various comments on this page that a read needs to see the most recent write before it in the happens-before order (or a write it is in data-race with). But the happens-before order doesn&#39;t need to reflect the happened before order (so the real-time order). So &#39;immediately&#39; I find a very confusing addition. And for people that do not know the meaning of SC, it can even be misleading since it seems to imply that the JMM is preserving the real time order (which it isn&#39;t).","body":"@qwerty I&#39;m not sure what it means actually :) I have explained in various comments on this page that a read needs to see the most recent write before it in the happens-before order (or a write it is in data-race with). But the happens-before order doesn&#39;t need to reflect the happened before order (so the real-time order). So &#39;immediately&#39; I find a very confusing addition. And for people that do not know the meaning of SC, it can even be misleading since it seems to imply that the JMM is preserving the real time order (which it isn&#39;t)."}],"tags":[],"owner":{"account_id":25918640,"reputation":41,"user_id":19641690,"display_name":"qwerty"},"comment_count":9,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1659056925,"creation_date":1659021760,"answer_id":73155300,"question_id":73080402,"body_markdown":"&gt;  ... **does the JLS allow it to remove a volatile read when the value isn&#39;t needed?** (It&#39;s only controlling an empty if body, so the program behaviour doesn&#39;t depend on the value read, only on creating a happens-before.)\r\n\r\nAccording to [17.4. Memory Model](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4) of the JLS:\r\n&gt; The memory model describes possible behaviors of a program. An implementation is free to produce any code it likes, as long as all resulting executions of a program produce a result that can be predicted by the memory model.\r\n\r\nSo the JLS permits literally anything in runtime as long as result of the execution is &quot;legal&quot;.\r\n\r\nBy &quot;result of the execution&quot; the JLS means all the external actions that the program performs: operations with files and network sockets, various system calls (e.g. reading current time), etc.  \r\nI believe that [17.4.9. Observable Behavior and Nonterminating Executions](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.9) of the JLS is about that (or something like that).\r\n\r\nIn your example the only external action is sleeping for 1s, so your program can be &quot;optimized&quot; to:\r\n```java\r\n    public static void main(String[] args){\r\n        Thread.sleep(1000);\r\n    }\r\n```\r\n\r\nIf [the answer above](https://stackoverflow.com/a/73090830) is correct in that an infinite loop is also a legal execution, then, I guess, your program can be &quot;optimized&quot; to:\r\n```java\r\n    public static void main(String[] args){\r\n        while(true);\r\n    }\r\n```\r\n\r\n---\r\n\r\nOne more time: the runtime is allowed to do anything as long as it performs the same external actions as one of the legal executions allowed by the JLS.\r\n\r\nTo clarify things more, let&#39;s get legal executions for our example.\r\n\r\n**General Algorithm**\r\n\r\nThe general algorithm is described in [17.4. Memory Model](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4) of the JLS.\r\n\r\n&gt; The actions of each thread in isolation must behave as governed by the semantics of that thread, with the exception that the values seen by each read are determined by the memory model.\r\n\r\nSo we assume that actions in each thread are executed sequentially, one-by-one.  \r\nThe only difference from a single-threaded program is that for a variable accessed from multiple threads a read might return an &quot;unexpected&quot; value.\r\n\r\nThe rule to to get all possible values for a read is this:\r\n&gt; Informally, a read `r` is allowed to see the result of a write `w` if there is no happens-before ordering to prevent that read.\r\n\r\nIn other words, a read of some variable returns:\r\n- either the last write to than variable in `happens-before` order\r\n- or any write to than variable, that is not related to the read by `happens-before`\r\n\r\nNote that the algorithm doesn&#39;t allow to &quot;optimize out&quot; anything.\r\n\r\n**Legal Executions For The Example**\r\n\r\nNow let&#39;s apply the algorithm to our example to find legal executions.  \r\n(Note: for simplicity we&#39;ll omit cases like unexpected `Error` and termination of the program by the OS)\r\n\r\nThe main thread has no reads of shared variables, so it behaves just like a single-threaded program.  \r\nIt&#39;s actions:\r\n```java\r\nnew Thread(){...}.start();\r\nThread.sleep(1000);\r\nrunning = false;\r\nrunning2 = false;\r\n```\r\n\r\nThe second thread is a loop with 2 reads.  \r\nSo we get a sequence of actions:\r\n```java\r\nread(running == true)\r\nread(running2 == ?)\r\nread(running == true)\r\nread(running2 == ?)\r\n...\r\nread(running == false)\r\n```\r\nThe sequence ends as soon as a read of `running` returns `false`.\r\n\r\nWhat values can the reads return according to the JLS?  \r\nLet&#39;s first note that `running2` is volatile, which means that reads ands writes to it happen in a global order (it&#39;s called [synchronization order](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.4)) and are visible to all threads in that order.  \r\nSo:\r\n* before the write `running2 = false` becomes visible to the second thread:\r\n  * `running2 == true`  \r\n    This is the initial write (the only visible write).\r\n  * `running == true` or `running == false`  \r\n    For every read of `running`:\r\n    * the initial write (`running = true`) `happens-before` the read\r\n    * the write `running = false` is not related by `happens-before` with the read\r\n\r\n    So each read `running == ?` can return any of the two writes randomly.  \r\n    ```java\r\n    Main Thread              Thread2                 \r\n                                                     \r\n    [...]                    [...]                   \r\n      ↓ (happens-before)       ↓ (happens-before)    \r\n    running = false;         running2 == true;       \r\n      ↓ (happens-before)       ↓ (happens-before)    \r\n    running2 = false;        running == true | false \r\n    ```\r\n* after the write `running2 = false` becomes visible to the second thread:\r\n  * `running2 == false`  \r\n    This is the latest visible write.\r\n  * `running == false`  \r\n    Because `running2 == false`  \r\n    =&gt; `running2 = false` `happens-before` `running2 == false`  \r\n    =&gt; transitively  `running = false` `happens-before` `running == false`\r\n    ```java\r\n    Main Thread              Thread2              \r\n                                                  \r\n    [...]                                         \r\n      ↓ (happens-before)                          \r\n    running = false;                              \r\n      ↓ (happens-before)     [...]                \r\n    running2 = false;          ↓ (happens-before) \r\n      └--------------------&gt; running2 == false;   \r\n          (happens-before)     ↓ (happens-before) \r\n                             running == false;    \r\n    ```\r\n    As a result, the second thread finishes when the write `running2 = false` becomes visible to it.\r\n\r\nTo sum up, all legal executions of the second thread:\r\n1. can start with this sequence:\r\n  ```java\r\n  read(running == true)\r\n  read(running2 == true)\r\n  [... repeat the fragment above ...]\r\n  ```\r\n2. end with:\r\n  * either:\r\n    ```java\r\n    ...\r\n    read(running2 == false)\r\n    read(running == false)\r\n    ```\r\n    This is the case when the thread sees `running2 = false` and then is guaranteed to see `running = false`.\r\n  * or with:\r\n    ```java\r\n    ...\r\n    read(running == false)\r\n    ```\r\n    This is the case when the thread doesn&#39;t see `running2 = false`, but the sees `running = false`.\r\n  * or never ends.  \r\n    This is the case when the thread sees neither `running2 = false` nor `running = false`.\r\n\r\nIf you can &quot;optimize out&quot; a volatile read and the result of the execution will be the same as the results of some legal executions described above, then this optimization is legal.\r\n\r\n---\r\n\r\nRegarding the [AdvancedJMM_15_VolatilesAreNotFences](https://github.com/openjdk/jcstress/blob/master/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/advanced/AdvancedJMM_15_VolatilesAreNotFences.java) test mentioned in the comments.\r\n\r\nIt doesn&#39;t seem to me that this test demonstrates that the compiler is allowed to remove a volatile load/store if the value isn&#39;t used.\r\n\r\nIMO it shows that `volatile` is weaker than `UNSAFE.storeFence() + UNSAFE.loadFence()`.  \r\nBasically it&#39;s a demonstration of the [Roach Motel](https://shipilev.net/blog/2014/jmm-pragmatics/#_jmm_interpretation_roach_motel) optimization:  \r\n[![write can be reordered before release](https://i.stack.imgur.com/fv7gA.png)](https://shipilev.net/blog/2014/jmm-pragmatics/page-098.png)  \r\n[![read can be reordered after acquire](https://i.stack.imgur.com/peQuM.png)](https://shipilev.net/blog/2014/jmm-pragmatics/page-099.png)  \r\n[![read/write can be moved inside acquire+release blocks](https://i.stack.imgur.com/bLrvz.png)](https://shipilev.net/blog/2014/jmm-pragmatics/page-100.png)\r\n\r\n\r\n[AdvancedJMM_14_SynchronizedAreNotFences](https://github.com/openjdk/jcstress/blob/master/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/advanced/AdvancedJMM_14_SynchronizedAreNotFences.java) is different because it uses `synchronized (new Object()) {}` — there are no shared variables and no `happens-before` relations.\r\n\r\n---\r\n\r\nP.S. @pveentjer [mentioned](https://stackoverflow.com/posts/comments/129105510) in the comments this:\r\n&gt; The non-normative section of the JVM does talk about visibility; so a change should become visible to other threads at some point.\r\n\r\nDoes anyone have a link and a quote to support that?  \r\nI cannot find it anywhere, but, as [noted](https://stackoverflow.com/posts/comments/129105344) by Peter Cordes, it would be really usefull to know that Java (or even only some JVMs) doesn&#39;t allow an infinite delay in visibility of a volatile write.","title":"Does Java allow a volatile read to be optimized away if the value isn&#39;t needed, also removing the happens-before synchronization?","body":"<blockquote>\n<p>... <strong>does the JLS allow it to remove a volatile read when the value isn't needed?</strong> (It's only controlling an empty if body, so the program behaviour doesn't depend on the value read, only on creating a happens-before.)</p>\n</blockquote>\n<p>According to <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4\" rel=\"nofollow noreferrer\">17.4. Memory Model</a> of the JLS:</p>\n<blockquote>\n<p>The memory model describes possible behaviors of a program. An implementation is free to produce any code it likes, as long as all resulting executions of a program produce a result that can be predicted by the memory model.</p>\n</blockquote>\n<p>So the JLS permits literally anything in runtime as long as result of the execution is &quot;legal&quot;.</p>\n<p>By &quot;result of the execution&quot; the JLS means all the external actions that the program performs: operations with files and network sockets, various system calls (e.g. reading current time), etc.<br />\nI believe that <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.9\" rel=\"nofollow noreferrer\">17.4.9. Observable Behavior and Nonterminating Executions</a> of the JLS is about that (or something like that).</p>\n<p>In your example the only external action is sleeping for 1s, so your program can be &quot;optimized&quot; to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args){\n        Thread.sleep(1000);\n    }\n</code></pre>\n<p>If <a href=\"https://stackoverflow.com/a/73090830\">the answer above</a> is correct in that an infinite loop is also a legal execution, then, I guess, your program can be &quot;optimized&quot; to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args){\n        while(true);\n    }\n</code></pre>\n<hr />\n<p>One more time: the runtime is allowed to do anything as long as it performs the same external actions as one of the legal executions allowed by the JLS.</p>\n<p>To clarify things more, let's get legal executions for our example.</p>\n<p><strong>General Algorithm</strong></p>\n<p>The general algorithm is described in <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4\" rel=\"nofollow noreferrer\">17.4. Memory Model</a> of the JLS.</p>\n<blockquote>\n<p>The actions of each thread in isolation must behave as governed by the semantics of that thread, with the exception that the values seen by each read are determined by the memory model.</p>\n</blockquote>\n<p>So we assume that actions in each thread are executed sequentially, one-by-one.<br />\nThe only difference from a single-threaded program is that for a variable accessed from multiple threads a read might return an &quot;unexpected&quot; value.</p>\n<p>The rule to to get all possible values for a read is this:</p>\n<blockquote>\n<p>Informally, a read <code>r</code> is allowed to see the result of a write <code>w</code> if there is no happens-before ordering to prevent that read.</p>\n</blockquote>\n<p>In other words, a read of some variable returns:</p>\n<ul>\n<li>either the last write to than variable in <code>happens-before</code> order</li>\n<li>or any write to than variable, that is not related to the read by <code>happens-before</code></li>\n</ul>\n<p>Note that the algorithm doesn't allow to &quot;optimize out&quot; anything.</p>\n<p><strong>Legal Executions For The Example</strong></p>\n<p>Now let's apply the algorithm to our example to find legal executions.<br />\n(Note: for simplicity we'll omit cases like unexpected <code>Error</code> and termination of the program by the OS)</p>\n<p>The main thread has no reads of shared variables, so it behaves just like a single-threaded program.<br />\nIt's actions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new Thread(){...}.start();\nThread.sleep(1000);\nrunning = false;\nrunning2 = false;\n</code></pre>\n<p>The second thread is a loop with 2 reads.<br />\nSo we get a sequence of actions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>read(running == true)\nread(running2 == ?)\nread(running == true)\nread(running2 == ?)\n...\nread(running == false)\n</code></pre>\n<p>The sequence ends as soon as a read of <code>running</code> returns <code>false</code>.</p>\n<p>What values can the reads return according to the JLS?<br />\nLet's first note that <code>running2</code> is volatile, which means that reads ands writes to it happen in a global order (it's called <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.4\" rel=\"nofollow noreferrer\">synchronization order</a>) and are visible to all threads in that order.<br />\nSo:</p>\n<ul>\n<li>before the write <code>running2 = false</code> becomes visible to the second thread:\n<ul>\n<li><p><code>running2 == true</code><br />\nThis is the initial write (the only visible write).</p>\n</li>\n<li><p><code>running == true</code> or <code>running == false</code><br />\nFor every read of <code>running</code>:</p>\n<ul>\n<li>the initial write (<code>running = true</code>) <code>happens-before</code> the read</li>\n<li>the write <code>running = false</code> is not related by <code>happens-before</code> with the read</li>\n</ul>\n<p>So each read <code>running == ?</code> can return any of the two writes randomly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Main Thread              Thread2                 \n\n[...]                    [...]                   \n  ↓ (happens-before)       ↓ (happens-before)    \nrunning = false;         running2 == true;       \n  ↓ (happens-before)       ↓ (happens-before)    \nrunning2 = false;        running == true | false \n</code></pre>\n</li>\n</ul>\n</li>\n<li>after the write <code>running2 = false</code> becomes visible to the second thread:\n<ul>\n<li><code>running2 == false</code><br />\nThis is the latest visible write.</li>\n<li><code>running == false</code><br />\nBecause <code>running2 == false</code><br />\n=&gt; <code>running2 = false</code> <code>happens-before</code> <code>running2 == false</code><br />\n=&gt; transitively  <code>running = false</code> <code>happens-before</code> <code>running == false</code>\n<pre class=\"lang-java prettyprint-override\"><code>Main Thread              Thread2              \n\n[...]                                         \n  ↓ (happens-before)                          \nrunning = false;                              \n  ↓ (happens-before)     [...]                \nrunning2 = false;          ↓ (happens-before) \n  └--------------------&gt; running2 == false;   \n      (happens-before)     ↓ (happens-before) \n                         running == false;    \n</code></pre>\nAs a result, the second thread finishes when the write <code>running2 = false</code> becomes visible to it.</li>\n</ul>\n</li>\n</ul>\n<p>To sum up, all legal executions of the second thread:</p>\n<ol>\n<li>can start with this sequence:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>read(running == true)\nread(running2 == true)\n[... repeat the fragment above ...]\n</code></pre>\n<ol start=\"2\">\n<li>end with:</li>\n</ol>\n<ul>\n<li>either:\n<pre class=\"lang-java prettyprint-override\"><code>...\nread(running2 == false)\nread(running == false)\n</code></pre>\nThis is the case when the thread sees <code>running2 = false</code> and then is guaranteed to see <code>running = false</code>.</li>\n<li>or with:\n<pre class=\"lang-java prettyprint-override\"><code>...\nread(running == false)\n</code></pre>\nThis is the case when the thread doesn't see <code>running2 = false</code>, but the sees <code>running = false</code>.</li>\n<li>or never ends.<br />\nThis is the case when the thread sees neither <code>running2 = false</code> nor <code>running = false</code>.</li>\n</ul>\n<p>If you can &quot;optimize out&quot; a volatile read and the result of the execution will be the same as the results of some legal executions described above, then this optimization is legal.</p>\n<hr />\n<p>Regarding the <a href=\"https://github.com/openjdk/jcstress/blob/master/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/advanced/AdvancedJMM_15_VolatilesAreNotFences.java\" rel=\"nofollow noreferrer\">AdvancedJMM_15_VolatilesAreNotFences</a> test mentioned in the comments.</p>\n<p>It doesn't seem to me that this test demonstrates that the compiler is allowed to remove a volatile load/store if the value isn't used.</p>\n<p>IMO it shows that <code>volatile</code> is weaker than <code>UNSAFE.storeFence() + UNSAFE.loadFence()</code>.<br />\nBasically it's a demonstration of the <a href=\"https://shipilev.net/blog/2014/jmm-pragmatics/#_jmm_interpretation_roach_motel\" rel=\"nofollow noreferrer\">Roach Motel</a> optimization:<br />\n<a href=\"https://shipilev.net/blog/2014/jmm-pragmatics/page-098.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fv7gA.png\" alt=\"write can be reordered before release\" /></a><br />\n<a href=\"https://shipilev.net/blog/2014/jmm-pragmatics/page-099.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/peQuM.png\" alt=\"read can be reordered after acquire\" /></a><br />\n<a href=\"https://shipilev.net/blog/2014/jmm-pragmatics/page-100.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bLrvz.png\" alt=\"read/write can be moved inside acquire+release blocks\" /></a></p>\n<p><a href=\"https://github.com/openjdk/jcstress/blob/master/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/advanced/AdvancedJMM_14_SynchronizedAreNotFences.java\" rel=\"nofollow noreferrer\">AdvancedJMM_14_SynchronizedAreNotFences</a> is different because it uses <code>synchronized (new Object()) {}</code> — there are no shared variables and no <code>happens-before</code> relations.</p>\n<hr />\n<p>P.S. @pveentjer <a href=\"https://stackoverflow.com/posts/comments/129105510\">mentioned</a> in the comments this:</p>\n<blockquote>\n<p>The non-normative section of the JVM does talk about visibility; so a change should become visible to other threads at some point.</p>\n</blockquote>\n<p>Does anyone have a link and a quote to support that?<br />\nI cannot find it anywhere, but, as <a href=\"https://stackoverflow.com/posts/comments/129105344\">noted</a> by Peter Cordes, it would be really usefull to know that Java (or even only some JVMs) doesn't allow an infinite delay in visibility of a volatile write.</p>\n"},{"tags":[],"owner":{"account_id":28963478,"reputation":11,"user_id":22185495,"display_name":"user22185495"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688651360,"creation_date":1688651360,"answer_id":76629555,"question_id":73080402,"body_markdown":"Both other answers say the main reason for the behavior in the question is the fact that the JMM doesn&#39;t guarantee a volatile write to become visible to other thread in some finite time.\r\n\r\nRecently I&#39;ve stumbled upon some additional information related to this topic and I would like to share it here because it might be useful to people interested in this topic.  \r\nThe information is from [&quot;The Java Memory Model&quot;](https://rsim.cs.uiuc.edu/Pubs/popl05.pdf) article written by the authors of the JMM:\r\n\r\n&gt; ```java\r\n&gt;                     Initially, v is volatile and v = false                 \r\n&gt; Thread 1                             | Thread 2                            \r\n&gt; -------------------------------------+-------------------------------------\r\n&gt; while (!v);                          | v = true;                           \r\n&gt; System.out.println(&quot;Thread 1 done&quot;); | System.out.println(&quot;Thread 2 done&quot;);\r\n&gt; ```\r\n&gt; If we observe print message by thread 2, Thread 1 must see write to v, print its message and terminate. But program can also be observed to hang and not print any messages.\r\n&gt; \r\n&gt; **Figure 9: Fairness Example**\r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; ... in Figure 9, if we observe the print message from Thread 2, and no threads other than Threads 1 and 2 are running, then Thread 1 must see the write to v, print its message and terminate. This prevents the compiler from hoisting the volatile read of v out of the loop in Thread 1.  \r\n&gt; The fact that Thread 1 must terminate if the print by Thread 2 is observed follows from the rules on observable actions. If the print by Thread 2 is in a set of observable actions _O_, then the write to v and all reads of v that see the value 0 must also be in _O_. Additionally, the program cannot perform an unbounded amount of additional actions that are not in _O_. Therefore, the only observable behavior of this program in which the program _hangs_ (runs forever without performing additional external actions) is one in which it performs no observable external actions other than hanging. This includes the print action.\r\n\r\nAs you can see in some cases (such as the example in Figure 9) volatile writes must become visible to other threads because of the rules in [17.4.9. Observable Behavior and Nonterminating Executions](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.9).","title":"Does Java allow a volatile read to be optimized away if the value isn&#39;t needed, also removing the happens-before synchronization?","body":"<p>Both other answers say the main reason for the behavior in the question is the fact that the JMM doesn't guarantee a volatile write to become visible to other thread in some finite time.</p>\n<p>Recently I've stumbled upon some additional information related to this topic and I would like to share it here because it might be useful to people interested in this topic.<br />\nThe information is from <a href=\"https://rsim.cs.uiuc.edu/Pubs/popl05.pdf\" rel=\"nofollow noreferrer\">&quot;The Java Memory Model&quot;</a> article written by the authors of the JMM:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>                    Initially, v is volatile and v = false                 \nThread 1                             | Thread 2                            \n-------------------------------------+-------------------------------------\nwhile (!v);                          | v = true;                           \nSystem.out.println(&quot;Thread 1 done&quot;); | System.out.println(&quot;Thread 2 done&quot;);\n</code></pre>\n<p>If we observe print message by thread 2, Thread 1 must see write to v, print its message and terminate. But program can also be observed to hang and not print any messages.</p>\n<p><strong>Figure 9: Fairness Example</strong></p>\n<p>...</p>\n<p>... in Figure 9, if we observe the print message from Thread 2, and no threads other than Threads 1 and 2 are running, then Thread 1 must see the write to v, print its message and terminate. This prevents the compiler from hoisting the volatile read of v out of the loop in Thread 1.<br />\nThe fact that Thread 1 must terminate if the print by Thread 2 is observed follows from the rules on observable actions. If the print by Thread 2 is in a set of observable actions <em>O</em>, then the write to v and all reads of v that see the value 0 must also be in <em>O</em>. Additionally, the program cannot perform an unbounded amount of additional actions that are not in <em>O</em>. Therefore, the only observable behavior of this program in which the program <em>hangs</em> (runs forever without performing additional external actions) is one in which it performs no observable external actions other than hanging. This includes the print action.</p>\n</blockquote>\n<p>As you can see in some cases (such as the example in Figure 9) volatile writes must become visible to other threads because of the rules in <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.9\" rel=\"nofollow noreferrer\">17.4.9. Observable Behavior and Nonterminating Executions</a>.</p>\n"}],"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":3,"score":16,"last_activity_date":1689046517,"creation_date":1658493051,"question_id":73080402,"body_markdown":"The following code sample shows a common way to demonstrate concurrency issues caused by a missing happens-before relationship.\r\n\r\n```java\r\nprivate static /*volatile*/ boolean running = true;\r\n    \r\npublic static void main(String[] args) throws InterruptedException {\r\n    new Thread() {\r\n        @Override\r\n        public void run() {\r\n            while (running) {\r\n                // Do nothing\r\n            }\r\n        }\r\n    }.start();\r\n    Thread.sleep(1000);\r\n    running = false;\r\n}\r\n```\r\n\r\nIf `running` is `volatile`, the program is guaranteed to terminate after approximately one second. However, if `running` isn&#39;t `volatile`, the program isn&#39;t guaranteed to terminate at all (since there is no happens-before relationship or guarantee for visibility of changes to the variable `running` in this case) and that&#39;s exactly what happens in my tests.\r\n\r\nAccording to [JLS 17.4.5][1] one can also enforce a happens-before relationship by writing to and reading another `volatile` variable `running2`, as shown in the following code sample.\r\n\r\n```java\r\nprivate static boolean running = true;\r\nprivate static volatile boolean running2 = true;\r\n    \r\npublic static void main(String[] args) throws InterruptedException {\r\n    new Thread() {\r\n        @Override\r\n        public void run() {\r\n            while (running2 || running) {\r\n                // Do nothing\r\n            }\r\n        }\r\n    }.start();\r\n    Thread.sleep(1000);\r\n    running = false;\r\n    running2 = false;\r\n}\r\n```\r\n\r\nThe `volatile` variable `running2` is read in each loop iteration and when it is read as `false` after approximately one second, it is also guaranteed that the variable `running` is read as `false` subsequently, due to the happens-before relationship. Thus the program is guaranteed to terminate after approximately one second and that&#39;s exactly what happens in my tests.\r\n\r\nHowever, when I put the read of the variable `running2` into an empty `if` statement inside the `while` loop, as shown in the following code sample, the program doesn&#39;t terminate in my tests.\r\n\r\n```java\r\nprivate static boolean running = true;\r\nprivate static volatile boolean running2 = true;\r\n    \r\npublic static void main(String[] args) throws InterruptedException {\r\n    new Thread() {\r\n        @Override\r\n        public void run() {\r\n            while (running) {\r\n                if (running2) {\r\n                    // Do nothing\r\n                }\r\n            }\r\n        }\r\n    }.start();\r\n    Thread.sleep(1000);\r\n    running = false;\r\n    running2 = false;\r\n}\r\n```\r\n\r\nThe idea here is that a `volatile` read of `running2` is like a compiler memory barrier: the compiler has to make asm that re-reads non-`volatile` variables because the read of `running2` might have synchronized-with a release operation in another thread. That would guarantee visibility of new values in non-volatile variables like `running`.\r\n\r\nBut my JVM seems not to be doing that.  **Is this a compiler or JVM bug, or does the JLS allow such optimizations where a `volatile` read is removed when the value isn&#39;t needed?** (It&#39;s only controlling an empty `if` body, so the program behaviour doesn&#39;t depend on the value being read, only on creating a happens-before relationship.)\r\n\r\nI thought the JLS applies to the source code and since `running2` is `volatile`, the effect of reading the variable shouldn&#39;t be allowed to be removed due to an optimization. Is this a compiler or JVM bug, or is there a specification, which actually allows such optimizations?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.5","title":"Does Java allow a volatile read to be optimized away if the value isn&#39;t needed, also removing the happens-before synchronization?","body":"<p>The following code sample shows a common way to demonstrate concurrency issues caused by a missing happens-before relationship.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static /*volatile*/ boolean running = true;\n    \npublic static void main(String[] args) throws InterruptedException {\n    new Thread() {\n        @Override\n        public void run() {\n            while (running) {\n                // Do nothing\n            }\n        }\n    }.start();\n    Thread.sleep(1000);\n    running = false;\n}\n</code></pre>\n<p>If <code>running</code> is <code>volatile</code>, the program is guaranteed to terminate after approximately one second. However, if <code>running</code> isn't <code>volatile</code>, the program isn't guaranteed to terminate at all (since there is no happens-before relationship or guarantee for visibility of changes to the variable <code>running</code> in this case) and that's exactly what happens in my tests.</p>\n<p>According to <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">JLS 17.4.5</a> one can also enforce a happens-before relationship by writing to and reading another <code>volatile</code> variable <code>running2</code>, as shown in the following code sample.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean running = true;\nprivate static volatile boolean running2 = true;\n    \npublic static void main(String[] args) throws InterruptedException {\n    new Thread() {\n        @Override\n        public void run() {\n            while (running2 || running) {\n                // Do nothing\n            }\n        }\n    }.start();\n    Thread.sleep(1000);\n    running = false;\n    running2 = false;\n}\n</code></pre>\n<p>The <code>volatile</code> variable <code>running2</code> is read in each loop iteration and when it is read as <code>false</code> after approximately one second, it is also guaranteed that the variable <code>running</code> is read as <code>false</code> subsequently, due to the happens-before relationship. Thus the program is guaranteed to terminate after approximately one second and that's exactly what happens in my tests.</p>\n<p>However, when I put the read of the variable <code>running2</code> into an empty <code>if</code> statement inside the <code>while</code> loop, as shown in the following code sample, the program doesn't terminate in my tests.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean running = true;\nprivate static volatile boolean running2 = true;\n    \npublic static void main(String[] args) throws InterruptedException {\n    new Thread() {\n        @Override\n        public void run() {\n            while (running) {\n                if (running2) {\n                    // Do nothing\n                }\n            }\n        }\n    }.start();\n    Thread.sleep(1000);\n    running = false;\n    running2 = false;\n}\n</code></pre>\n<p>The idea here is that a <code>volatile</code> read of <code>running2</code> is like a compiler memory barrier: the compiler has to make asm that re-reads non-<code>volatile</code> variables because the read of <code>running2</code> might have synchronized-with a release operation in another thread. That would guarantee visibility of new values in non-volatile variables like <code>running</code>.</p>\n<p>But my JVM seems not to be doing that.  <strong>Is this a compiler or JVM bug, or does the JLS allow such optimizations where a <code>volatile</code> read is removed when the value isn't needed?</strong> (It's only controlling an empty <code>if</code> body, so the program behaviour doesn't depend on the value being read, only on creating a happens-before relationship.)</p>\n<p>I thought the JLS applies to the source code and since <code>running2</code> is <code>volatile</code>, the effect of reading the variable shouldn't be allowed to be removed due to an optimization. Is this a compiler or JVM bug, or is there a specification, which actually allows such optimizations?</p>\n"},{"tags":["java","kotlin","ktor","spigot"],"comments":[{"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"score":0,"creation_date":1688943670,"post_id":76649797,"comment_id":135138615,"body_markdown":"You should edit your question to include all _relevant_ code as per [&quot;How do I ask a good question?&quot;](https://stackoverflow.com/help/how-to-ask)","body":"You should edit your question to include all <i>relevant</i> code as per <a href=\"https://stackoverflow.com/help/how-to-ask\">&quot;How do I ask a good question?&quot;</a>"},{"owner":{"account_id":28381167,"reputation":1,"user_id":21708417,"display_name":"Plag"},"score":0,"creation_date":1688950205,"post_id":76649797,"comment_id":135139117,"body_markdown":"I don&#39;t have enough characters to write done the entire JsonItemStack class","body":"I don&#39;t have enough characters to write done the entire JsonItemStack class"},{"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"score":0,"creation_date":1688951403,"post_id":76649797,"comment_id":135139184,"body_markdown":"The whole class wouldn&#39;t be relevant code. You would only need to include the segment referred to in the error. It&#39;s for your benefit as it reduces the effort for someone to answer.","body":"The whole class wouldn&#39;t be relevant code. You would only need to include the segment referred to in the error. It&#39;s for your benefit as it reduces the effort for someone to answer."},{"owner":{"account_id":28381167,"reputation":1,"user_id":21708417,"display_name":"Plag"},"score":0,"creation_date":1689043016,"post_id":76649797,"comment_id":135153873,"body_markdown":"I modified it, is it good now?","body":"I modified it, is it good now?"}],"owner":{"account_id":28381167,"reputation":1,"user_id":21708417,"display_name":"Plag"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689045911,"creation_date":1688941813,"question_id":76649797,"body_markdown":"I&#39;m making a KTOR server that aims to allow the player to buy IG items with IG money. For this, I use the spigot API in 1.20. I also use this class, but I get the error below when I use the getItemMeta() method or in Kotlin .itemMeta. I&#39;d like to know how to get rid of this error so that the fromJson(string: String?):ItemStack? method works normally. Note that I also get a NullPointerException when I use the toJson(itemStack: ItemStack) method: String if needed [here][1] is my project that I put on GitHub. Thank you in advance for your time in finding a solution.\r\n\r\n\r\n```\r\njava.lang.NullPointerException: null\r\n    at org.bukkit.Bukkit.getItemFactory(Bukkit.java:1608)\r\n    at org.bukkit.inventory.ItemStack.getItemMeta(ItemStack.java:550)\r\n    at fr.plaglefleau.serialization.JsonItemStack.fromJson(JsonItemStack.kt:278)\r\n    at fr.plaglefleau.bdd_MySql.Gestion.updateInventory(Gestion.kt:815)\r\n    at fr.plaglefleau.plugins.RoutingKt$configureRouting$1$3$1$1$7.invokeSuspend(Routing.kt:588)\r\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n    at kotlinx.coroutines.internal.DispatchedContinuation.resumeWith(DispatchedContinuation.kt:205)\r\n    at io.ktor.util.pipeline.SuspendFunctionGun.resumeRootWith(SuspendFunctionGun.kt:135)\r\n    at io.ktor.util.pipeline.SuspendFunctionGun.loop(SuspendFunctionGun.kt:109)\r\n    at io.ktor.util.pipeline.SuspendFunctionGun.access$loop(SuspendFunctionGun.kt:11)\r\n    at io.ktor.util.pipeline.SuspendFunctionGun$continuation$1.resumeWith(SuspendFunctionGun.kt:59)\r\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)\r\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    at io.ktor.server.netty.EventLoopGroupProxy$Companion.create$lambda$1$lambda$0(NettyApplicationEngine.kt:296)\r\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    at java.base/java.lang.Thread.run(Thread.java:834)\r\n2023-07-09 03:46:51.495 [eventLoopGroupProxy-4-1] TRACE io.ktor.server.sessions.Sessions - Sending session data for /api/client/updateInventory: connect\r\n2023-07-09 03:46:51.496 [eventLoopGroupProxy-4-1] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the PUT /api/client/updateInventory request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].\r\n```\r\n\r\nGestion updateInventory:\r\n```kotlin\r\n    fun updateInventory(inventory: ArrayList&lt;ItemSlotPair&gt;, username: String) {\r\n        val laConnexion = Connexion(url, this.username, password)\r\n        var preparedStatement = laConnexion.getConnexion().prepareStatement(\r\n            &quot;SELECT id FROM user WHERE username = ?&quot;\r\n        )\r\n        preparedStatement.setString(1,username)\r\n        var rs = preparedStatement.executeQuery()\r\n        val userID = if(rs.next()) {\r\n            rs.getInt(&quot;id&quot;)\r\n        } else {\r\n            null\r\n        }\r\n        if(userID == null) {\r\n            return\r\n        }\r\n        for(i in 0..inventory.size) {\r\n            val item = JsonItemStack.fromJson(inventory[i].item) ?: return\r\n            addItemIfNotExist(item)\r\n            preparedStatement = laConnexion.getConnexion().prepareStatement(\r\n                &quot;UPDATE inventaire SET article_id = ?, quantit&#233; = ? WHERE slot_number = ? AND user_id = ?&quot;\r\n            )\r\n            preparedStatement.setInt(1,item.type.id)\r\n            preparedStatement.setInt(2,item.amount)\r\n            preparedStatement.setInt(3, inventory[i].slot)\r\n            preparedStatement.setInt(4,userID)\r\n            preparedStatement.executeUpdate()\r\n        }\r\n        laConnexion.fermerConnexion()\r\n    }\r\n```\r\n\r\nJsonItemStack.kt:218\r\n```kotlin\r\nval meta = itemStack.itemMeta\r\n```\r\nRouting.kt:put(&quot;updateInventory&quot;)\r\n```kotlin\r\nput(&quot;updateInventory&quot;) {\r\n    val receive = call.receive&lt;InventoryReceive&gt;()\r\n    gestion.updateInventory(receive.inventory, receive.username)\r\n    call.respond(HttpStatusCode.OK, &quot;Good&quot;)\r\n}\r\n```\r\n\r\nI think I have found where the problem may come from so to get the itemmeta of an itemStack we need the ItemFactory interfaces but to get the ItemFactory interface we need to do Server.getItemFactory() and here is my probleme i don&#39;t run it on a minecraft server so if I want the ItemMeta i need a minecraft serveur to run the spigot api so the solution to use a class that convert to json an itemStack don&#39;t work\r\nI will probably use a custom class to stock the data of my ItemStack.\r\n\r\n  [1]: https://github.com/LouisDufourd/Boutique","title":"Ktor server when i create an itemStack the ItemMeta is null","body":"<p>I'm making a KTOR server that aims to allow the player to buy IG items with IG money. For this, I use the spigot API in 1.20. I also use this class, but I get the error below when I use the getItemMeta() method or in Kotlin .itemMeta. I'd like to know how to get rid of this error so that the fromJson(string: String?):ItemStack? method works normally. Note that I also get a NullPointerException when I use the toJson(itemStack: ItemStack) method: String if needed <a href=\"https://github.com/LouisDufourd/Boutique\" rel=\"nofollow noreferrer\">here</a> is my project that I put on GitHub. Thank you in advance for your time in finding a solution.</p>\n<pre><code>java.lang.NullPointerException: null\n    at org.bukkit.Bukkit.getItemFactory(Bukkit.java:1608)\n    at org.bukkit.inventory.ItemStack.getItemMeta(ItemStack.java:550)\n    at fr.plaglefleau.serialization.JsonItemStack.fromJson(JsonItemStack.kt:278)\n    at fr.plaglefleau.bdd_MySql.Gestion.updateInventory(Gestion.kt:815)\n    at fr.plaglefleau.plugins.RoutingKt$configureRouting$1$3$1$1$7.invokeSuspend(Routing.kt:588)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.internal.DispatchedContinuation.resumeWith(DispatchedContinuation.kt:205)\n    at io.ktor.util.pipeline.SuspendFunctionGun.resumeRootWith(SuspendFunctionGun.kt:135)\n    at io.ktor.util.pipeline.SuspendFunctionGun.loop(SuspendFunctionGun.kt:109)\n    at io.ktor.util.pipeline.SuspendFunctionGun.access$loop(SuspendFunctionGun.kt:11)\n    at io.ktor.util.pipeline.SuspendFunctionGun$continuation$1.resumeWith(SuspendFunctionGun.kt:59)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:46)\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.ktor.server.netty.EventLoopGroupProxy$Companion.create$lambda$1$lambda$0(NettyApplicationEngine.kt:296)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n2023-07-09 03:46:51.495 [eventLoopGroupProxy-4-1] TRACE io.ktor.server.sessions.Sessions - Sending session data for /api/client/updateInventory: connect\n2023-07-09 03:46:51.496 [eventLoopGroupProxy-4-1] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the PUT /api/client/updateInventory request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].\n</code></pre>\n<p>Gestion updateInventory:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    fun updateInventory(inventory: ArrayList&lt;ItemSlotPair&gt;, username: String) {\n        val laConnexion = Connexion(url, this.username, password)\n        var preparedStatement = laConnexion.getConnexion().prepareStatement(\n            &quot;SELECT id FROM user WHERE username = ?&quot;\n        )\n        preparedStatement.setString(1,username)\n        var rs = preparedStatement.executeQuery()\n        val userID = if(rs.next()) {\n            rs.getInt(&quot;id&quot;)\n        } else {\n            null\n        }\n        if(userID == null) {\n            return\n        }\n        for(i in 0..inventory.size) {\n            val item = JsonItemStack.fromJson(inventory[i].item) ?: return\n            addItemIfNotExist(item)\n            preparedStatement = laConnexion.getConnexion().prepareStatement(\n                &quot;UPDATE inventaire SET article_id = ?, quantité = ? WHERE slot_number = ? AND user_id = ?&quot;\n            )\n            preparedStatement.setInt(1,item.type.id)\n            preparedStatement.setInt(2,item.amount)\n            preparedStatement.setInt(3, inventory[i].slot)\n            preparedStatement.setInt(4,userID)\n            preparedStatement.executeUpdate()\n        }\n        laConnexion.fermerConnexion()\n    }\n</code></pre>\n<p>JsonItemStack.kt:218</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val meta = itemStack.itemMeta\n</code></pre>\n<p>Routing.kt:put(&quot;updateInventory&quot;)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>put(&quot;updateInventory&quot;) {\n    val receive = call.receive&lt;InventoryReceive&gt;()\n    gestion.updateInventory(receive.inventory, receive.username)\n    call.respond(HttpStatusCode.OK, &quot;Good&quot;)\n}\n</code></pre>\n<p>I think I have found where the problem may come from so to get the itemmeta of an itemStack we need the ItemFactory interfaces but to get the ItemFactory interface we need to do Server.getItemFactory() and here is my probleme i don't run it on a minecraft server so if I want the ItemMeta i need a minecraft serveur to run the spigot api so the solution to use a class that convert to json an itemStack don't work\nI will probably use a custom class to stock the data of my ItemStack.</p>\n"},{"tags":["java","android","bitmap","face-detection","google-mlkit"],"comments":[{"owner":{"account_id":18323102,"reputation":587,"user_id":13343432,"display_name":"Chenxi Song"},"score":0,"creation_date":1623693365,"post_id":67927295,"comment_id":120146119,"body_markdown":"ML Kit InputImage. fromByteArray only support yv12 and nv21 formats. You will need to convert the bitmap to one of these formats in order for ML kit pipeline to process. Also, if the original image you have is a bitmap, you can probably just use InputImage.fromBitmap to construct an InputImage. It shouldn&#39;t be slower than your current approach.","body":"ML Kit InputImage. fromByteArray only support yv12 and nv21 formats. You will need to convert the bitmap to one of these formats in order for ML kit pipeline to process. Also, if the original image you have is a bitmap, you can probably just use InputImage.fromBitmap to construct an InputImage. It shouldn&#39;t be slower than your current approach."}],"answers":[{"tags":[],"owner":{"account_id":18323102,"reputation":587,"user_id":13343432,"display_name":"Chenxi Song"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624000372,"creation_date":1624000372,"answer_id":68030854,"question_id":67927295,"body_markdown":"ML Kit InputImage. fromByteArray only support yv12 and nv21 formats. You will need to convert the bitmap to one of these formats in order for ML kit pipeline to process. Also, if the original image you have is a bitmap, you can probably just use InputImage.fromBitmap to construct an InputImage. It shouldn&#39;t be slower than your current approach. ","title":"Android MLKit face detection not detecting faces when using Bitmap","body":"<p>ML Kit InputImage. fromByteArray only support yv12 and nv21 formats. You will need to convert the bitmap to one of these formats in order for ML kit pipeline to process. Also, if the original image you have is a bitmap, you can probably just use InputImage.fromBitmap to construct an InputImage. It shouldn't be slower than your current approach.</p>\n"},{"tags":[],"owner":{"account_id":1718595,"reputation":686,"user_id":1575133,"accept_rate":75,"display_name":"jobernas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641397372,"creation_date":1641397372,"answer_id":70595682,"question_id":67927295,"body_markdown":"I was having the same issue use ImageInput.fromMediaImage(..., ...)\r\n\r\n    override fun analyze(image: ImageProxy) {\r\n    \r\n         val mediaImage: Image = image.image.takeIf { it != null } ?: run {\r\n                    image.close()\r\n                    return\r\n                }\r\n         val inputImage = InputImage.fromMediaImage(mediaImage, image.imageInfo.rotationDegrees)\r\n         // TODO: Your ML Code\r\n    }\r\n\r\nCheck here for more details \r\nhttps://developers.google.com/ml-kit/vision/image-labeling/android\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Android MLKit face detection not detecting faces when using Bitmap","body":"<p>I was having the same issue use ImageInput.fromMediaImage(..., ...)</p>\n<pre><code>override fun analyze(image: ImageProxy) {\n\n     val mediaImage: Image = image.image.takeIf { it != null } ?: run {\n                image.close()\n                return\n            }\n     val inputImage = InputImage.fromMediaImage(mediaImage, image.imageInfo.rotationDegrees)\n     // TODO: Your ML Code\n}\n</code></pre>\n<p>Check here for more details\n<a href=\"https://developers.google.com/ml-kit/vision/image-labeling/android\" rel=\"nofollow noreferrer\">https://developers.google.com/ml-kit/vision/image-labeling/android</a></p>\n"}],"owner":{"account_id":293508,"reputation":3884,"user_id":596841,"accept_rate":64,"display_name":"pookie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2012,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1689044370,"creation_date":1623352892,"question_id":67927295,"body_markdown":"I have an XR app, where display shows the camera (rear) feed. As such, capturing the screen is pretty much the same as capturing the camera feed...\r\nAs such, I take screenshots (Bitmaps) and then try to detect faces within them using Googles MLKit.\r\n\r\nI&#39;m following the [official guide][1] to detect faces.\r\n\r\nTo do this, I first init my face detector:\r\n\r\n    FaceDetector detector;\r\n\r\n    public MyFaceDetector(){\r\n        FaceDetectorOptions realTimeOpts =\r\n                new FaceDetectorOptions.Builder()\r\n                        .setContourMode(FaceDetectorOptions.CONTOUR_MODE_ALL)\r\n                        .build();\r\n        detector = FaceDetection.getClient(realTimeOpts);\r\n    }\r\n\r\nI then have a function which passes in a bitmap. I first convert the bitmap to a byte array. I do this because `InputImage.fromBitmap` is very slow, and MLKit actually tells me that I should use a byte array:\r\n\r\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n    bitmap.compress(Bitmap.CompressFormat.JPEG, 85, byteArrayOutputStream);\r\n    byte[] byteArray = byteArrayOutputStream .toByteArray();\r\n\r\nNext I make a mutable copy of the Bitmap (so that I can draw onto it), and set up a Canvas object, along with a color that will be used when drawing on to the Bitmap:\r\n\r\n    BitmapFactory.Options options = new BitmapFactory.Options();\r\n    options.inMutable = true;\r\n    Bitmap bmp = BitmapFactory.decodeByteArray(byteArray, 0, byteArray.length, options);\r\n    Canvas canvas = new Canvas(bmp);\r\n    Paint p = new Paint();\r\n    p.setColor(Color.RED);\r\n\r\nAfter all is set up, I create an `InputImage` (used by the FaceDetector), using the byte array:\r\n\r\n    InputImage image = InputImage.fromByteArray(byteArray, bmp.getWidth(), bmp.getHeight(),0, InputImage.IMAGE_FORMAT_NV21);\r\n\r\nNote the image format... There is a `InputImage.IMAGE_FORMAT_BITMAP`, but using this throws an IllegalArgumentException. Anyway, I next try to process the Bitmap, detect faces, fill each detected face with the color defined earlier, and then save the Bitmap to disk:\r\n\r\n    Task&lt;List&lt;Face&gt;&gt; result = detector.process(image).addOnSuccessListener(\r\n                new OnSuccessListener&lt;List&lt;Face&gt;&gt;() {\r\n                    @Override\r\n                    public void onSuccess(List&lt;Face&gt; faces) {\r\n                        Log.e(&quot;FACE DETECTION APP&quot;, &quot;NUMBER OF FACES: &quot; + faces.size());\r\n\r\n                        Thread processor = new Thread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                for (Face face : faces) {\r\n                                    Rect destinationRect = face.getBoundingBox();\r\n                                    canvas.drawRect(destinationRect, p);\r\n                                    canvas.save();\r\n                                    Log.e(&quot;FACE DETECTION APP&quot;, &quot;WE GOT SOME FACCES!!!&quot;);\r\n\r\n                                }\r\n                                File file = new File(someFilePath);\r\n                                try {\r\n                                    FileOutputStream fOut = new FileOutputStream(file);\r\n                                    bmp.compress(Bitmap.CompressFormat.JPEG, 85, fOut);\r\n                                    fOut.flush();\r\n                                    fOut.close();\r\n                                } catch (Exception e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                        processor.start();\r\n                    }\r\n                })\r\n                .addOnFailureListener(\r\n                        new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                // Task failed with an exception\r\n                                // ...\r\n                            }\r\n                        });\r\n    }\r\n\r\nWhile this code runs (i.e. no exceptions) and the bitmap is correctly written to disk, no faces are ever detected (`faces.size() is always 0`). I&#39;ve tried rotating the image. I&#39;ve tried changing the quality of the Bitmap. I&#39;ve tried with and without the thread to process any detected faces. I&#39;ve tried everything I can think of.\r\n\r\nAnyone have any ideas?\r\n\r\n\r\n  [1]: https://developers.google.com/ml-kit/vision/face-detection/android#using-a-bytebuffer-or-bytearray","title":"Android MLKit face detection not detecting faces when using Bitmap","body":"<p>I have an XR app, where display shows the camera (rear) feed. As such, capturing the screen is pretty much the same as capturing the camera feed...\nAs such, I take screenshots (Bitmaps) and then try to detect faces within them using Googles MLKit.</p>\n<p>I'm following the <a href=\"https://developers.google.com/ml-kit/vision/face-detection/android#using-a-bytebuffer-or-bytearray\" rel=\"nofollow noreferrer\">official guide</a> to detect faces.</p>\n<p>To do this, I first init my face detector:</p>\n<pre><code>FaceDetector detector;\n\npublic MyFaceDetector(){\n    FaceDetectorOptions realTimeOpts =\n            new FaceDetectorOptions.Builder()\n                    .setContourMode(FaceDetectorOptions.CONTOUR_MODE_ALL)\n                    .build();\n    detector = FaceDetection.getClient(realTimeOpts);\n}\n</code></pre>\n<p>I then have a function which passes in a bitmap. I first convert the bitmap to a byte array. I do this because <code>InputImage.fromBitmap</code> is very slow, and MLKit actually tells me that I should use a byte array:</p>\n<pre><code>ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\nbitmap.compress(Bitmap.CompressFormat.JPEG, 85, byteArrayOutputStream);\nbyte[] byteArray = byteArrayOutputStream .toByteArray();\n</code></pre>\n<p>Next I make a mutable copy of the Bitmap (so that I can draw onto it), and set up a Canvas object, along with a color that will be used when drawing on to the Bitmap:</p>\n<pre><code>BitmapFactory.Options options = new BitmapFactory.Options();\noptions.inMutable = true;\nBitmap bmp = BitmapFactory.decodeByteArray(byteArray, 0, byteArray.length, options);\nCanvas canvas = new Canvas(bmp);\nPaint p = new Paint();\np.setColor(Color.RED);\n</code></pre>\n<p>After all is set up, I create an <code>InputImage</code> (used by the FaceDetector), using the byte array:</p>\n<pre><code>InputImage image = InputImage.fromByteArray(byteArray, bmp.getWidth(), bmp.getHeight(),0, InputImage.IMAGE_FORMAT_NV21);\n</code></pre>\n<p>Note the image format... There is a <code>InputImage.IMAGE_FORMAT_BITMAP</code>, but using this throws an IllegalArgumentException. Anyway, I next try to process the Bitmap, detect faces, fill each detected face with the color defined earlier, and then save the Bitmap to disk:</p>\n<pre><code>Task&lt;List&lt;Face&gt;&gt; result = detector.process(image).addOnSuccessListener(\n            new OnSuccessListener&lt;List&lt;Face&gt;&gt;() {\n                @Override\n                public void onSuccess(List&lt;Face&gt; faces) {\n                    Log.e(&quot;FACE DETECTION APP&quot;, &quot;NUMBER OF FACES: &quot; + faces.size());\n\n                    Thread processor = new Thread(new Runnable() {\n                        @Override\n                        public void run() {\n                            for (Face face : faces) {\n                                Rect destinationRect = face.getBoundingBox();\n                                canvas.drawRect(destinationRect, p);\n                                canvas.save();\n                                Log.e(&quot;FACE DETECTION APP&quot;, &quot;WE GOT SOME FACCES!!!&quot;);\n\n                            }\n                            File file = new File(someFilePath);\n                            try {\n                                FileOutputStream fOut = new FileOutputStream(file);\n                                bmp.compress(Bitmap.CompressFormat.JPEG, 85, fOut);\n                                fOut.flush();\n                                fOut.close();\n                            } catch (Exception e) {\n                                e.printStackTrace();\n                            }\n                        }\n                    });\n\n                    processor.start();\n                }\n            })\n            .addOnFailureListener(\n                    new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            // Task failed with an exception\n                            // ...\n                        }\n                    });\n}\n</code></pre>\n<p>While this code runs (i.e. no exceptions) and the bitmap is correctly written to disk, no faces are ever detected (<code>faces.size() is always 0</code>). I've tried rotating the image. I've tried changing the quality of the Bitmap. I've tried with and without the thread to process any detected faces. I've tried everything I can think of.</p>\n<p>Anyone have any ideas?</p>\n"},{"tags":["java","spring","struts2","struts-action","struts2-config-browser"],"comments":[{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":1,"creation_date":1436444803,"post_id":31315521,"comment_id":50622045,"body_markdown":"Can you show a real world (fake) example of what and how it should do ?","body":"Can you show a real world (fake) example of what and how it should do ?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":1,"creation_date":1436456517,"post_id":31315521,"comment_id":50631183,"body_markdown":"For the menu you only need to store action paths, and build URLs for links with URL Helper. Annotations aren&#39;t so flexible against object model that you can use for the subj, but it is a key point to extract the path for the menu component.","body":"For the menu you only need to store action paths, and build URLs for links with URL Helper. Annotations aren&#39;t so flexible against object model that you can use for the subj, but it is a key point to extract the path for the menu component."},{"owner":{"account_id":1655816,"reputation":283,"user_id":1525430,"accept_rate":100,"display_name":"Mats"},"score":0,"creation_date":1436457149,"post_id":31315521,"comment_id":50631611,"body_markdown":"@Roman all the annotations buisness and info needed is pretty clear, what I can&#39;t figure out is how to get hold of the info from Struts. I&#39;m looking into overriding the StrutsPrepareAndExecuteFilter.","body":"@Roman all the annotations buisness and info needed is pretty clear, what I can&#39;t figure out is how to get hold of the info from Struts. I&#39;m looking into overriding the StrutsPrepareAndExecuteFilter."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":2,"creation_date":1436457595,"post_id":31315521,"comment_id":50631893,"body_markdown":"It&#39;s a bad idea, you don&#39;t need *override* Struts2, but you can *extend* it with a plugin, and if you look inside it you can get more information.","body":"It&#39;s a bad idea, you don&#39;t need <i>override</i> Struts2, but you can <i>extend</i> it with a plugin, and if you look inside it you can get more information."},{"owner":{"account_id":1655816,"reputation":283,"user_id":1525430,"accept_rate":100,"display_name":"Mats"},"score":0,"creation_date":1436457666,"post_id":31315521,"comment_id":50631944,"body_markdown":"@Roman, I&#39;m looking into both alternatived","body":"@Roman, I&#39;m looking into both alternatived"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":1,"creation_date":1436457835,"post_id":31315521,"comment_id":50632067,"body_markdown":"Here you are, start with your approach and return to my when you rollback. Ah, forgot [this](http://stackoverflow.com/q/16441028/573032) won&#39;t solve your task but can help.","body":"Here you are, start with your approach and return to my when you rollback. Ah, forgot <a href=\"http://stackoverflow.com/q/16441028/573032\">this</a> won&#39;t solve your task but can help."},{"owner":{"account_id":1655816,"reputation":283,"user_id":1525430,"accept_rate":100,"display_name":"Mats"},"score":0,"creation_date":1436459339,"post_id":31315521,"comment_id":50632955,"body_markdown":"I guess this is the line that is the beginning of my sollution: `PackageConfig packageConfig = Dispatcher.getInstance().getConfigurationManager().getConfiguration().getPackageConfig(&quot;default&quot;);`. I&#39;ll start there and I&#39;ll get back to you.","body":"I guess this is the line that is the beginning of my sollution: <code>PackageConfig packageConfig = Dispatcher.getInstance().getConfigurationManager().getConfig&zwnj;&#8203;uration().getPackage&zwnj;&#8203;Config(&quot;default&quot;);</code>. I&#39;ll start there and I&#39;ll get back to you."}],"answers":[{"comments":[{"owner":{"account_id":1655816,"reputation":283,"user_id":1525430,"accept_rate":100,"display_name":"Mats"},"score":0,"creation_date":1436443827,"post_id":31316954,"comment_id":50621352,"body_markdown":"Thanks. I know about the `config-plugin` and I have studied the code for it. I would, however use the kist of actions to look for a custom annotation and build the application menus from the info. I can see I was not clear that I needed a `List` of action configurations and I will edit my question.","body":"Thanks. I know about the <code>config-plugin</code> and I have studied the code for it. I would, however use the kist of actions to look for a custom annotation and build the application menus from the info. I can see I was not clear that I needed a <code>List</code> of action configurations and I will edit my question."}],"tags":[],"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1542873021,"creation_date":1436443510,"answer_id":31316954,"question_id":31315521,"body_markdown":"You are free of building this thing for your personal growth, but **beware that it already exist**.\r\n\r\nIt is called [Config Browser Plugin][1] (`struts2-config-browser-plugin-2.3.20.jar`).\r\n\r\nIt is included by default with the Maven archetypes, and you must remember of removing it before going in production.\r\n\r\nOnce imported it is available at the URL:\r\n\r\n&gt;   //www.SERVER_NAME.com:8080/WEBAPP_NAME/**config-browser/actionNames**\r\n\r\nIt gives you the exact informations you are looking for: actions, methods, results, parameters, mappings etc. and it looks like this:\r\n\r\n![enter image description here][2]\r\n\r\n\r\n\r\n  [1]: https://struts.apache.org/plugins/config-browser/\r\n  [2]: http://i.stack.imgur.com/frgzs.png","title":"Getting a list of configured actions in Struts2","body":"<p>You are free of building this thing for your personal growth, but <strong>beware that it already exist</strong>.</p>\n\n<p>It is called <a href=\"https://struts.apache.org/plugins/config-browser/\" rel=\"nofollow noreferrer\">Config Browser Plugin</a> (<code>struts2-config-browser-plugin-2.3.20.jar</code>).</p>\n\n<p>It is included by default with the Maven archetypes, and you must remember of removing it before going in production.</p>\n\n<p>Once imported it is available at the URL:</p>\n\n<blockquote>\n  <p>//www.SERVER_NAME.com:8080/WEBAPP_NAME/<strong>config-browser/actionNames</strong></p>\n</blockquote>\n\n<p>It gives you the exact informations you are looking for: actions, methods, results, parameters, mappings etc. and it looks like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/frgzs.png\" alt=\"enter image description here\"></p>\n"},{"comments":[{"owner":{"account_id":1655816,"reputation":283,"user_id":1525430,"accept_rate":100,"display_name":"Mats"},"score":2,"creation_date":1436471565,"post_id":31325651,"comment_id":50640128,"body_markdown":"Sweet. This was spot on. I will accept this answer. Thanks Andrea and Roman as well.","body":"Sweet. This was spot on. I will accept this answer. Thanks Andrea and Roman as well."}],"tags":[],"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1436467139,"creation_date":1436467139,"answer_id":31325651,"question_id":31315521,"body_markdown":"First of all you need to hook into application initialization process after the configurations are loaded and parsed. One of the ways is to implement `DispatcherListener` which you need to add to the `Dispatcher`. This you can do in `ServletContextListener#contextInitialized` method.\r\n\r\nThe second piece of the puzzle is to get action configurations. This is pretty simple because the instance of the `Dispatcher` is passed as argument into `dispatcherInitialized` method. To get all current action configurations get `RuntimeConfiguration` which holds data in `Map&lt;String, Map&lt;String, ActionConfig&gt;&gt;`, where the first map key is package namespace, the second map key is action name and `ActionConfig` holds all info about action. Since you need a class name then use `getClassName()` method of it.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class ActionMenuBuilderListener implements ServletContextListener,DispatcherListener {\r\n\r\n\t    @Override\r\n\t    public void contextInitialized(ServletContextEvent sce) {\r\n\t\t    Dispatcher.addDispatcherListener(this);\r\n\t    }\r\n\r\n\t\t@Override\r\n\t    public void dispatcherInitialized(Dispatcher du) {\r\n\t\t    Map&lt;String, Map&lt;String, ActionConfig&gt;&gt; runtimeActionConfigs = du\r\n\t\t\t\t.getConfigurationManager().getConfiguration().getRuntimeConfiguration()\r\n\t\t\t\t.getActionConfigs();\r\n\t    }\r\n        // other methods\r\n    }\r\n\r\nAnd of course don&#39;t forget to register your listener in web.xml.","title":"Getting a list of configured actions in Struts2","body":"<p>First of all you need to hook into application initialization process after the configurations are loaded and parsed. One of the ways is to implement <code>DispatcherListener</code> which you need to add to the <code>Dispatcher</code>. This you can do in <code>ServletContextListener#contextInitialized</code> method.</p>\n\n<p>The second piece of the puzzle is to get action configurations. This is pretty simple because the instance of the <code>Dispatcher</code> is passed as argument into <code>dispatcherInitialized</code> method. To get all current action configurations get <code>RuntimeConfiguration</code> which holds data in <code>Map&lt;String, Map&lt;String, ActionConfig&gt;&gt;</code>, where the first map key is package namespace, the second map key is action name and <code>ActionConfig</code> holds all info about action. Since you need a class name then use <code>getClassName()</code> method of it.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class ActionMenuBuilderListener implements ServletContextListener,DispatcherListener {\n\n    @Override\n    public void contextInitialized(ServletContextEvent sce) {\n        Dispatcher.addDispatcherListener(this);\n    }\n\n    @Override\n    public void dispatcherInitialized(Dispatcher du) {\n        Map&lt;String, Map&lt;String, ActionConfig&gt;&gt; runtimeActionConfigs = du\n            .getConfigurationManager().getConfiguration().getRuntimeConfiguration()\n            .getActionConfigs();\n    }\n    // other methods\n}\n</code></pre>\n\n<p>And of course don't forget to register your listener in web.xml.</p>\n"}],"owner":{"account_id":1655816,"reputation":283,"user_id":1525430,"accept_rate":100,"display_name":"Mats"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2084,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":31325651,"answer_count":2,"score":5,"last_activity_date":1689044368,"creation_date":1436439751,"question_id":31315521,"body_markdown":"In a project using Struts2 (2.3.20) I would like to run through the\r\nconfigured actions (name, class, namespace, method) at application startup. \r\n\r\nI&#39;m using\r\n\r\n - Struts 2.3.20\r\n - struts-spring-plugin\r\n - struts-convention-plugin\r\n\r\nFor reference: I&#39;ve done some work with beans and Struts injection before so not entirely fresh on this, but I&#39;m stuck solving the problem stated here.\r\n\r\nAny pointers on how to obtain this would be appreciated.\r\n\r\nFurther explanation\r\n-------------------\r\n\r\nReading Andrea&#39;s answer below I see I need to explain what I need. \r\n\r\nI&#39;m building a application menu builder feature for the application. My plan is to obtain the action configurations and build a tree of &quot;menu nodes&quot; from information in annotations on selected action classes and methods.\r\n\r\nMy problem with the code from the config-browser is that the `Configuration` (xwork) doesn&#39;t seem to be available outside of Struts components. Since this is an application startup task it doesn&#39;t really fit Struts&#39; MVC component model. I&#39;d like to put the menu building initialization in a `ServletContextListener`.\r\n\r\nFake example\r\n------------\r\n\r\nPer request here is just the connection actionconfig &lt;-&gt; annotation &lt;-&gt; my_custom_menu. From this I could produce a menu structure provided from the annotations on action classes and methods. \r\n\r\n    public class ActionMenuBuilderListener implements ServletContextListener {\r\n      @Override\r\n      public void contextInitialized(ServletContextEvent arg0) {\r\n        List&lt;ActionCfg&gt; actions = Struts.getConfiguredActions(); // thisi is where I&#39;d like some help\r\n        for(ActionCfg action : actions) {\r\n          MenuAnnotation annotation = getAnnotationFromMethodOrClass(action);\r\n          if(annotation != null) {\r\n            addMenuItem(action, annotation);\r\n          }\r\n        }\r\n      }\r\n    }\r\n   \r\nHere `ActionCfg`is whatever class Struts would return for action configuration, `Struts.getConfiguredActions()` would be one or more calls to Struts components and `addMenu(...)` is where I add a menu item node to my structure. The structure is later the target from JSP-s to build menus.\r\n\r\nI don&#39;t know how much more code to write.\r\n\r\nMy solution\r\n------------\r\n\r\nFor completeness I thought I&#39;ll include what came out of this.\r\n\r\nFirst, I  to plugged in into Struts through this\r\n`ServletContextListener`:\r\n```\r\npublic class ActionMenuBuilderListener implements\r\n\tServletContextListener {\r\n\r\n\t@Override\r\n\tpublic void contextDestroyed(ServletContextEvent arg0) {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void contextInitialized(ServletContextEvent event) {\r\n\r\n\t    ActionMenuDispatcherListener listener =\r\n\t\tnew ActionMenuDispatcherListener(); \r\n\t    ServletContext context = event.getServletContext();\r\n\t    listener.setServletContext(context);\r\n\r\n\t    Dispatcher.addDispatcherListener(listener);\r\n\r\n\t}\r\n}\r\n```\r\n\r\nThen, I wrote the `DispatcherListener`:\r\n\r\n\r\n    public class ActionMenuDispatcherListener implements DispatcherListener {\r\n\r\n\tprivate ServletContext servletContext;\r\n\r\n\t...\r\n\r\n\t@Override\r\n\tpublic void dispatcherInitialized(Dispatcher dispatcher) {\r\n\r\n\t    Map&lt;String, PackageConfig&gt; packages = dispatcher\r\n\t\t    .getConfigurationManager().getConfiguration()\r\n\t\t    .getPackageConfigs();\r\n\r\n\t    Map&lt;String, Map&lt;String, ActionConfig&gt;&gt; runtimeActionConfigs = dispatcher\r\n\t\t    .getConfigurationManager().getConfiguration()\r\n\t\t    .getRuntimeConfiguration().getActionConfigs();\r\n\r\n\t    for (String packageKey : runtimeActionConfigs.keySet()) {\r\n\r\n\t\tMap&lt;String, ActionConfig&gt; actionConfigs = runtimeActionConfigs\r\n\t\t\t.get(packageKey);\r\n\r\n\t\tfor (String actionKey : actionConfigs.keySet()) {\r\n\t\t    ActionConfig actionConfig = actionConfigs.get(actionKey);\r\n\t\t    PackageConfig packageConfig = packages.get(actionConfig\r\n\t\t\t    .getPackageName());\r\n\r\n\t\t    if (packageConfig != null) {\r\n\t\t\tString actionName = actionConfig.getName();\r\n\t\t\tString namespace = packageConfig.getNamespace();\r\n\t\t\ttry {\r\n\r\n\t\t\t    ActionMenu methodAnnotation = getMethodAnnotation(actionConfig);\r\n\r\n\t\t\t    if (methodAnnotation != null) {\r\n\t\t\t\tString annotationInfo = methodAnnotation.value();\r\n\t\t\t\tlog.debug(&quot;[{}, {}, {}]&quot;, namespace, actionName,\r\n\t\t\t\t\tannotationInfo);\r\n\t\t\t    }\r\n\r\n\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t    log.error(&quot;{}: {}&quot;, e.getClass().getSimpleName(),\r\n\t\t\t\t    e.getMessage());\r\n\t\t\t}\r\n\t\t    }\r\n\t\t}\r\n\t    }\r\n\t}\r\n\r\n\tprotected ActionMenu getMethodAnnotation(ActionConfig actionConfig)\r\n\t\tthrows ClassNotFoundException {\r\n\t    String className = actionConfig.getClassName();\r\n\t    String methodName = actionConfig.getMethodName();\r\n\t    Class&lt;?&gt; actionClass = Class.forName(className);\r\n\t    try {\r\n\t\tMethod method = actionClass.getDeclaredMethod(methodName, null);\r\n\t\tActionMenu annotation = method.getAnnotation(ActionMenu.class);\r\n\t\treturn annotation;\r\n\t    } catch (NoSuchMethodException | SecurityException e) {\r\n\t\t// log.error(&quot;{}: {}&quot;, e.getClass().getSimpleName(),\r\n\t\t// e.getMessage());\r\n\t    }\r\n\t    return null;\r\n\t}\r\n\r\n    }\r\n\r\nJust in case someone else is thinking along those line :)\r\n\r\n","title":"Getting a list of configured actions in Struts2","body":"<p>In a project using Struts2 (2.3.20) I would like to run through the\nconfigured actions (name, class, namespace, method) at application startup.</p>\n<p>I'm using</p>\n<ul>\n<li>Struts 2.3.20</li>\n<li>struts-spring-plugin</li>\n<li>struts-convention-plugin</li>\n</ul>\n<p>For reference: I've done some work with beans and Struts injection before so not entirely fresh on this, but I'm stuck solving the problem stated here.</p>\n<p>Any pointers on how to obtain this would be appreciated.</p>\n<h2>Further explanation</h2>\n<p>Reading Andrea's answer below I see I need to explain what I need.</p>\n<p>I'm building a application menu builder feature for the application. My plan is to obtain the action configurations and build a tree of &quot;menu nodes&quot; from information in annotations on selected action classes and methods.</p>\n<p>My problem with the code from the config-browser is that the <code>Configuration</code> (xwork) doesn't seem to be available outside of Struts components. Since this is an application startup task it doesn't really fit Struts' MVC component model. I'd like to put the menu building initialization in a <code>ServletContextListener</code>.</p>\n<h2>Fake example</h2>\n<p>Per request here is just the connection actionconfig &lt;-&gt; annotation &lt;-&gt; my_custom_menu. From this I could produce a menu structure provided from the annotations on action classes and methods.</p>\n<pre><code>public class ActionMenuBuilderListener implements ServletContextListener {\n  @Override\n  public void contextInitialized(ServletContextEvent arg0) {\n    List&lt;ActionCfg&gt; actions = Struts.getConfiguredActions(); // thisi is where I'd like some help\n    for(ActionCfg action : actions) {\n      MenuAnnotation annotation = getAnnotationFromMethodOrClass(action);\n      if(annotation != null) {\n        addMenuItem(action, annotation);\n      }\n    }\n  }\n}\n</code></pre>\n<p>Here <code>ActionCfg</code>is whatever class Struts would return for action configuration, <code>Struts.getConfiguredActions()</code> would be one or more calls to Struts components and <code>addMenu(...)</code> is where I add a menu item node to my structure. The structure is later the target from JSP-s to build menus.</p>\n<p>I don't know how much more code to write.</p>\n<h2>My solution</h2>\n<p>For completeness I thought I'll include what came out of this.</p>\n<p>First, I  to plugged in into Struts through this\n<code>ServletContextListener</code>:</p>\n<pre><code>public class ActionMenuBuilderListener implements\n    ServletContextListener {\n\n    @Override\n    public void contextDestroyed(ServletContextEvent arg0) {\n    }\n\n    @Override\n    public void contextInitialized(ServletContextEvent event) {\n\n        ActionMenuDispatcherListener listener =\n        new ActionMenuDispatcherListener(); \n        ServletContext context = event.getServletContext();\n        listener.setServletContext(context);\n\n        Dispatcher.addDispatcherListener(listener);\n\n    }\n}\n</code></pre>\n<p>Then, I wrote the <code>DispatcherListener</code>:</p>\n<pre><code>public class ActionMenuDispatcherListener implements DispatcherListener {\n\nprivate ServletContext servletContext;\n\n...\n\n@Override\npublic void dispatcherInitialized(Dispatcher dispatcher) {\n\n    Map&lt;String, PackageConfig&gt; packages = dispatcher\n        .getConfigurationManager().getConfiguration()\n        .getPackageConfigs();\n\n    Map&lt;String, Map&lt;String, ActionConfig&gt;&gt; runtimeActionConfigs = dispatcher\n        .getConfigurationManager().getConfiguration()\n        .getRuntimeConfiguration().getActionConfigs();\n\n    for (String packageKey : runtimeActionConfigs.keySet()) {\n\n    Map&lt;String, ActionConfig&gt; actionConfigs = runtimeActionConfigs\n        .get(packageKey);\n\n    for (String actionKey : actionConfigs.keySet()) {\n        ActionConfig actionConfig = actionConfigs.get(actionKey);\n        PackageConfig packageConfig = packages.get(actionConfig\n            .getPackageName());\n\n        if (packageConfig != null) {\n        String actionName = actionConfig.getName();\n        String namespace = packageConfig.getNamespace();\n        try {\n\n            ActionMenu methodAnnotation = getMethodAnnotation(actionConfig);\n\n            if (methodAnnotation != null) {\n            String annotationInfo = methodAnnotation.value();\n            log.debug(&quot;[{}, {}, {}]&quot;, namespace, actionName,\n                annotationInfo);\n            }\n\n        } catch (ClassNotFoundException e) {\n            log.error(&quot;{}: {}&quot;, e.getClass().getSimpleName(),\n                e.getMessage());\n        }\n        }\n    }\n    }\n}\n\nprotected ActionMenu getMethodAnnotation(ActionConfig actionConfig)\n    throws ClassNotFoundException {\n    String className = actionConfig.getClassName();\n    String methodName = actionConfig.getMethodName();\n    Class&lt;?&gt; actionClass = Class.forName(className);\n    try {\n    Method method = actionClass.getDeclaredMethod(methodName, null);\n    ActionMenu annotation = method.getAnnotation(ActionMenu.class);\n    return annotation;\n    } catch (NoSuchMethodException | SecurityException e) {\n    // log.error(&quot;{}: {}&quot;, e.getClass().getSimpleName(),\n    // e.getMessage());\n    }\n    return null;\n}\n\n}\n</code></pre>\n<p>Just in case someone else is thinking along those line :)</p>\n"},{"tags":["java","spring-boot","maven","vscode-extensions"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":2,"creation_date":1689048483,"post_id":76658422,"comment_id":135154217,"body_markdown":"You are looking for `mvn package`. `mvn install` installs the jar to your local repository (the `.m2` directory)","body":"You are looking for <code>mvn package</code>. <code>mvn install</code> installs the jar to your local repository (the <code>.m2</code> directory)"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1689078225,"post_id":76658422,"comment_id":135159446,"body_markdown":"You seem to be confusing Maven install goal with the output folders of the build.","body":"You seem to be confusing Maven install goal with the output folders of the build."},{"owner":{"account_id":22556709,"reputation":1,"user_id":16744957,"display_name":"kcalixto"},"score":0,"creation_date":1690138374,"post_id":76658422,"comment_id":135308277,"body_markdown":"thanks @ChristopherSchneider and @aled!! I did have confused the objectives of package and install, now i&#39;ve got wat i wanted!!","body":"thanks @ChristopherSchneider and @aled!! I did have confused the objectives of package and install, now i&#39;ve got wat i wanted!!"}],"owner":{"account_id":22556709,"reputation":1,"user_id":16744957,"display_name":"kcalixto"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690138242,"answer_count":0,"score":0,"last_activity_date":1689043657,"creation_date":1689043657,"question_id":76658422,"body_markdown":"I&#39;m using default VsCode Java Spring profile to create my multi-module application.\r\n\r\nBut when i run Maven install (following this answer: https://stackoverflow.com/a/72598461/16744957) it exports my .jar files in this path: ~/.m2/repository/com/myAppParent/myAppModule/0.0.1-SNAPSHOT/myAppModule-0.0.1-SNAPSHOT.jar\r\n\r\nAnyone knows how can i set it to export in my project folder? Like java build does with ${workspaceFolder}/${workspaceFolderBasename}.jar\r\n\r\n\r\nI&#39;ve already tried to check &quot;Maven For Java&quot; extension settings, but haven&#39;t found anything...","title":"How can i update export path for VsCode &quot;maven install&quot; in MacOS?","body":"<p>I'm using default VsCode Java Spring profile to create my multi-module application.</p>\n<p>But when i run Maven install (following this answer: <a href=\"https://stackoverflow.com/a/72598461/16744957\">https://stackoverflow.com/a/72598461/16744957</a>) it exports my .jar files in this path: ~/.m2/repository/com/myAppParent/myAppModule/0.0.1-SNAPSHOT/myAppModule-0.0.1-SNAPSHOT.jar</p>\n<p>Anyone knows how can i set it to export in my project folder? Like java build does with ${workspaceFolder}/${workspaceFolderBasename}.jar</p>\n<p>I've already tried to check &quot;Maven For Java&quot; extension settings, but haven't found anything...</p>\n"},{"tags":["java","httprequest","ktor","spigot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688948074,"post_id":76650001,"comment_id":135138945,"body_markdown":"What&#39;s the status of the response?","body":"What&#39;s the status of the response?"},{"owner":{"account_id":28381167,"reputation":1,"user_id":21708417,"display_name":"Plag"},"score":0,"creation_date":1688949791,"post_id":76650001,"comment_id":135139085,"body_markdown":"the respond status is 415 and that what he said in the log i think because he say he could&#39;nt convert the json to the class","body":"the respond status is 415 and that what he said in the log i think because he say he could&#39;nt convert the json to the class"}],"owner":{"account_id":28381167,"reputation":1,"user_id":21708417,"display_name":"Plag"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689043217,"creation_date":1688947241,"question_id":76650001,"body_markdown":"I am making a KTOR server that aims to allow the player to buy/sell IG items for money in game item. To do this, the person must be able to connect/register to the site. But, as I&#39;m using the Minecraft nickname to facilitate the item give, it&#39;s imperative that the player registers via the Minecraft server. However, when I send my request, I get an error telling me that the response from the KTOR server is empty (the body, to be precise). I&#39;ve run some tests and it turns out that the server doesn&#39;t do anything when I send the request. You can also see that when the KTOR server receives the request, it can&#39;t convert the JOIN into the desired object. I wanted to check whether the problem came from the JSON with postman, but the server responded and executed my request. So here&#39;s my error message, my register method and the log of the KTOR server when it receives my request and [here](https://github.com/LouisDufourd/Boutique)&#39;s my KTOR server on GitHub.\r\n\r\nError:\r\n```\r\n[08:54:25] [Server thread/WARN]: java.lang.NullPointerException: Cannot invoke &quot;fr.plaglefleau.inventorytojson.models.ClientRegisterReceive.isRegister()&quot; because &quot;clientRegisterReceive&quot; is null\r\n[08:54:25] [Server thread/WARN]:        at fr.plaglefleau.inventorytojson.listeners.ConnectListener$2.run(ConnectListener.java:214)\r\n[08:54:25] [Server thread/WARN]:        at org.bukkit.craftbukkit.v1_20_R1.scheduler.CraftTask.run(CraftTask.java:82)\r\n[08:54:25] [Server thread/WARN]:        at org.bukkit.craftbukkit.v1_20_R1.scheduler.CraftScheduler.mainThreadHeartbeat(CraftScheduler.java:415)\r\n[08:54:25] [Server thread/WARN]:        at net.minecraft.server.MinecraftServer.b(MinecraftServer.java:1257)\r\n[08:54:25] [Server thread/WARN]:        at net.minecraft.server.dedicated.DedicatedServer.b(DedicatedServer.java:388)\r\n[08:54:25] [Server thread/WARN]:        at net.minecraft.server.MinecraftServer.a(MinecraftServer.java:1198)\r\n[08:54:25] [Server thread/WARN]:        at net.minecraft.server.MinecraftServer.w(MinecraftServer.java:1015)\r\n[08:54:25] [Server thread/WARN]:        at net.minecraft.server.MinecraftServer.lambda$0(MinecraftServer.java:304)\r\n[08:54:25] [Server thread/WARN]:        at java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nJava class:\r\n```\r\npublic void register(Player player, String message) {\r\n        String[] register = message.replace(&quot;&gt;&quot;,&quot;&quot;).replace(&quot;&lt;&quot;,&quot;&quot;).split(&quot;;&quot;);\r\n        String json = new Gson().toJson(\r\n                new Register(\r\n                        player.getName(),\r\n                        register[0],\r\n                        register[1]\r\n                )\r\n        );\r\n        System.out.println(ConsoleColor.YELLOW + json + ConsoleColor.RESET);\r\n        new BukkitRunnable() {\r\n            public void run() {\r\n                URI uri = URI.create(&quot;http://127.0.0.1/api/client/register&quot;);\r\n                HttpClient client = HttpClient.newHttpClient();\r\n                HttpRequest request = HttpRequest.newBuilder(uri)\r\n                        .POST(HttpRequest.BodyPublishers.ofString(json))\r\n                        .header(&quot;Authorization&quot;, &quot;Bearer &quot; + Token.TOKEN)\r\n                        .build();\r\n                try {\r\n                    //send and get the response\r\n                    HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n                    System.out.println(ConsoleColor.YELLOW + response.body() + ConsoleColor.RESET);\r\n                    if(response.body().isBlank()) {\r\n                        System.out.println(ConsoleColor.YELLOW + &quot;The body is Blank&quot; + ConsoleColor.RESET);\r\n                    }\r\n                    ClientRegisterReceive clientRegisterReceive = new Gson().fromJson(response.body(), ClientRegisterReceive.class);\r\n                    if(clientRegisterReceive.isRegister()) {\r\n                        player.sendMessage(ChatColor.GREEN + clientRegisterReceive.getMessage() + &quot;\\nWelcome &quot; + player.getName() + ChatColor.RESET);\r\n                        registerPlayers.remove(player.getUniqueId());\r\n                        players.remove(player.getUniqueId());\r\n                    } else {\r\n                        player.sendMessage(ChatColor.DARK_RED + clientRegisterReceive.getMessage() + ChatColor.RESET);\r\n                        player.sendMessage(ChatColor.YELLOW + &quot;Please type your password and email like this : &lt;password&gt;;&lt;email&gt;&quot; + ChatColor.RESET);\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }.runTask(this.plugin);\r\n    }\r\n```\r\n\r\nKtor Log:\r\n```\r\n2023-07-09 09:07:52.911 [eventLoopGroupProxy-4-1] TRACE io.ktor.server.sessions.Sessions - Sessions found for /api/client/register: connect\r\n2023-07-09 09:07:52.966 [eventLoopGroupProxy-4-1] TRACE io.ktor.routing.Routing - Trace for [api, client, register]\r\n/, segment:0 -&gt; SUCCESS @ /\r\n  /, segment:0 -&gt; SUCCESS @ /\r\n    /(method:GET), segment:0 -&gt; FAILURE &quot;Selector didn&#39;t match&quot; @ /(method:GET)\r\n    /connect, segment:0 -&gt; FAILURE &quot;Selector didn&#39;t match&quot; @ /connect\r\n    /register, segment:0 -&gt; FAILURE &quot;Selector didn&#39;t match&quot; @ /register\r\n    /(authenticate user-session), segment:0 -&gt; SUCCESS @ /(authenticate user-session)\r\n      /(authenticate user-session)/profile, segment:0 -&gt; FAILURE &quot;Selector didn&#39;t match&quot; @ /(authenticate user-session)/profile\r\n      /(authenticate user-session)/stores, segment:0 -&gt; FAILURE &quot;Selector didn&#39;t match&quot; @ /(authenticate user-session)/stores\r\n      /(authenticate user-session)/editUser, segment:0 -&gt; FAILURE &quot;Selector didn&#39;t match&quot; @ /(authenticate user-session)/editUser\r\n      /(authenticate user-session)/editSalary, segment:0 -&gt; FAILURE &quot;Selector didn&#39;t match&quot; @ /(authenticate user-session)/editSalary\r\n      /(authenticate user-session)/editMember, segment:0 -&gt; FAILURE &quot;Selector didn&#39;t match&quot; @ /(authenticate user-session)/editMember\r\n      /(authenticate user-session)/editStock, segment:0 -&gt; FAILURE &quot;Selector didn&#39;t match&quot; @ /(authenticate user-session)/editStock\r\n      /(authenticate user-session)/bailoutStock, segment:0 -&gt; FAILURE &quot;Selector didn&#39;t match&quot; @ /(authenticate user-session)/bailoutStock\r\n      /(authenticate user-session)/addStock, segment:0 -&gt; FAILURE &quot;Selector didn&#39;t match&quot; @ /(authenticate user-session)/addStock\r\n      /(authenticate user-session)/ajouterUnMembre, segment:0 -&gt; FAILURE &quot;Selector didn&#39;t match&quot; @ /(authenticate user-session)/ajouterUnMembre\r\n      /(authenticate user-session)/createShop, segment:0 -&gt; FAILURE &quot;Selector didn&#39;t match&quot; @ /(authenticate user-session)/createShop\r\n      /(authenticate user-session)/removeMember, segment:0 -&gt; FAILURE &quot;Selector didn&#39;t match&quot; @ /(authenticate user-session)/removeMember\r\n      /(authenticate user-session)/disconnect, segment:0 -&gt; FAILURE &quot;Selector didn&#39;t match&quot; @ /(authenticate user-session)/disconnect\r\n  /assets, segment:0 -&gt; FAILURE &quot;Selector didn&#39;t match&quot; @ /assets\r\n  /(authenticate api-bearer), segment:0 -&gt; SUCCESS @ /(authenticate api-bearer)\r\n    /(authenticate api-bearer)/api, segment:1 -&gt; SUCCESS @ /(authenticate api-bearer)/api\r\n      /(authenticate api-bearer)/api/, segment:1 -&gt; SUCCESS @ /(authenticate api-bearer)/api/\r\n        /(authenticate api-bearer)/api/client, segment:2 -&gt; SUCCESS @ /(authenticate api-bearer)/api/client\r\n          /(authenticate api-bearer)/api/client/, segment:2 -&gt; SUCCESS @ /(authenticate api-bearer)/api/client/\r\n            /(authenticate api-bearer)/api/client/connect, segment:2 -&gt; FAILURE &quot;Selector didn&#39;t match&quot; @ /(authenticate api-bearer)/api/client/connect\r\n            /(authenticate api-bearer)/api/client/inventory, segment:2 -&gt; FAILURE &quot;Selector didn&#39;t match&quot; @ /(authenticate api-bearer)/api/client/inventory\r\n            /(authenticate api-bearer)/api/client/register, segment:3 -&gt; SUCCESS @ /(authenticate api-bearer)/api/client/register\r\n              /(authenticate api-bearer)/api/client/register/(method:POST), segment:3 -&gt; SUCCESS @ /(authenticate api-bearer)/api/client/register/(method:POST)\r\n            /(authenticate api-bearer)/api/client/debit, segment:2 -&gt; FAILURE &quot;Selector didn&#39;t match&quot; @ /(authenticate api-bearer)/api/client/debit\r\n            /(authenticate api-bearer)/api/client/credit, segment:2 -&gt; FAILURE &quot;Selector didn&#39;t match&quot; @ /(authenticate api-bearer)/api/client/credit\r\n            /(authenticate api-bearer)/api/client/pay, segment:2 -&gt; FAILURE &quot;Selector didn&#39;t match&quot; @ /(authenticate api-bearer)/api/client/pay\r\n            /(authenticate api-bearer)/api/client/updateInventory, segment:2 -&gt; FAILURE &quot;Selector didn&#39;t match&quot; @ /(authenticate api-bearer)/api/client/updateInventory\r\n        /(authenticate api-bearer)/api/store, segment:1 -&gt; FAILURE &quot;Selector didn&#39;t match&quot; @ /(authenticate api-bearer)/api/store\r\nMatched routes:\r\n  &quot;&quot; -&gt; &quot;(authenticate api-bearer)&quot; -&gt; &quot;api&quot; -&gt; &quot;&lt;slash&gt;&quot; -&gt; &quot;client&quot; -&gt; &quot;&lt;slash&gt;&quot; -&gt; &quot;register&quot; -&gt; &quot;(method:POST)&quot;\r\nRoute resolve result:\r\n  SUCCESS @ /(authenticate api-bearer)/api/client/register/(method:POST)\r\n2023-07-09 09:07:52.985 [eventLoopGroupProxy-4-1] TRACE io.ktor.server.auth.Authentication - Trying to authenticate /api/client/register with api-bearer\r\n2023-07-09 09:07:53.008 [eventLoopGroupProxy-4-1] TRACE io.ktor.server.auth.Authentication - Authentication succeeded for /api/client/register with provider io.ktor.server.auth.BearerAuthenticationProvider@5adad75b\r\n2023-07-09 09:07:53.084 [eventLoopGroupProxy-4-1] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.ByteBufferChannel and expected type TypeInfo(type=class fr.plaglefleau.models.api.client.receive.RegisterReceive, reifiedType=class fr.plaglefleau.models.api.client.receive.RegisterReceive, kotlinType=fr.plaglefleau.models.api.client.receive.RegisterReceive) for call /api/client/register\r\n2023-07-09 09:07:53.121 [eventLoopGroupProxy-4-1] TRACE i.k.s.p.c.ContentNegotiation - Skipping content converter for request type class fr.plaglefleau.models.api.client.receive.RegisterReceive because content type */* does not match application/json\r\n2023-07-09 09:07:53.121 [eventLoopGroupProxy-4-1] TRACE i.k.s.p.c.ContentNegotiation - No suitable content converter found for request type class fr.plaglefleau.models.api.client.receive.RegisterReceive\r\n2023-07-09 09:07:53.138 [eventLoopGroupProxy-4-1] TRACE io.ktor.server.sessions.Sessions - Sending session data for /api/client/register: connect\r\n2023-07-09 09:07:53.141 [eventLoopGroupProxy-4-1] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /api/client/register request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].\r\n```\r\n\r\nHere is my JSON in postman and in my plugin.\r\n```json\r\n{\r\n    &quot;username&quot;:&quot;PlagLeFleau&quot;,\r\n    &quot;password&quot;:&quot;PlagLeFleau0745&quot;,\r\n    &quot;email&quot;:&quot;louisdufourd@gmail.com&quot;\r\n}\r\n```\r\n\r\nI found were the probl&#232;me is it&#39;s simple i just don&#39;t tell the server that my request content is a json so with HttpRequest i should create my request like this\r\n```java\r\nHttpRequest request = HttpRequest.newBuilder(uri)\r\n                        .POST(HttpRequest.BodyPublishers.ofString(json))\r\n                        .header(&quot;Authorization&quot;, &quot;Bearer &quot; + Token.TOKEN)\r\n                        .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                        .build();\r\n```","title":"The KTOR server refuses my plugin&#39;s register request Solved","body":"<p>I am making a KTOR server that aims to allow the player to buy/sell IG items for money in game item. To do this, the person must be able to connect/register to the site. But, as I'm using the Minecraft nickname to facilitate the item give, it's imperative that the player registers via the Minecraft server. However, when I send my request, I get an error telling me that the response from the KTOR server is empty (the body, to be precise). I've run some tests and it turns out that the server doesn't do anything when I send the request. You can also see that when the KTOR server receives the request, it can't convert the JOIN into the desired object. I wanted to check whether the problem came from the JSON with postman, but the server responded and executed my request. So here's my error message, my register method and the log of the KTOR server when it receives my request and <a href=\"https://github.com/LouisDufourd/Boutique\" rel=\"nofollow noreferrer\">here</a>'s my KTOR server on GitHub.</p>\n<p>Error:</p>\n<pre><code>[08:54:25] [Server thread/WARN]: java.lang.NullPointerException: Cannot invoke &quot;fr.plaglefleau.inventorytojson.models.ClientRegisterReceive.isRegister()&quot; because &quot;clientRegisterReceive&quot; is null\n[08:54:25] [Server thread/WARN]:        at fr.plaglefleau.inventorytojson.listeners.ConnectListener$2.run(ConnectListener.java:214)\n[08:54:25] [Server thread/WARN]:        at org.bukkit.craftbukkit.v1_20_R1.scheduler.CraftTask.run(CraftTask.java:82)\n[08:54:25] [Server thread/WARN]:        at org.bukkit.craftbukkit.v1_20_R1.scheduler.CraftScheduler.mainThreadHeartbeat(CraftScheduler.java:415)\n[08:54:25] [Server thread/WARN]:        at net.minecraft.server.MinecraftServer.b(MinecraftServer.java:1257)\n[08:54:25] [Server thread/WARN]:        at net.minecraft.server.dedicated.DedicatedServer.b(DedicatedServer.java:388)\n[08:54:25] [Server thread/WARN]:        at net.minecraft.server.MinecraftServer.a(MinecraftServer.java:1198)\n[08:54:25] [Server thread/WARN]:        at net.minecraft.server.MinecraftServer.w(MinecraftServer.java:1015)\n[08:54:25] [Server thread/WARN]:        at net.minecraft.server.MinecraftServer.lambda$0(MinecraftServer.java:304)\n[08:54:25] [Server thread/WARN]:        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Java class:</p>\n<pre><code>public void register(Player player, String message) {\n        String[] register = message.replace(&quot;&gt;&quot;,&quot;&quot;).replace(&quot;&lt;&quot;,&quot;&quot;).split(&quot;;&quot;);\n        String json = new Gson().toJson(\n                new Register(\n                        player.getName(),\n                        register[0],\n                        register[1]\n                )\n        );\n        System.out.println(ConsoleColor.YELLOW + json + ConsoleColor.RESET);\n        new BukkitRunnable() {\n            public void run() {\n                URI uri = URI.create(&quot;http://127.0.0.1/api/client/register&quot;);\n                HttpClient client = HttpClient.newHttpClient();\n                HttpRequest request = HttpRequest.newBuilder(uri)\n                        .POST(HttpRequest.BodyPublishers.ofString(json))\n                        .header(&quot;Authorization&quot;, &quot;Bearer &quot; + Token.TOKEN)\n                        .build();\n                try {\n                    //send and get the response\n                    HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n                    System.out.println(ConsoleColor.YELLOW + response.body() + ConsoleColor.RESET);\n                    if(response.body().isBlank()) {\n                        System.out.println(ConsoleColor.YELLOW + &quot;The body is Blank&quot; + ConsoleColor.RESET);\n                    }\n                    ClientRegisterReceive clientRegisterReceive = new Gson().fromJson(response.body(), ClientRegisterReceive.class);\n                    if(clientRegisterReceive.isRegister()) {\n                        player.sendMessage(ChatColor.GREEN + clientRegisterReceive.getMessage() + &quot;\\nWelcome &quot; + player.getName() + ChatColor.RESET);\n                        registerPlayers.remove(player.getUniqueId());\n                        players.remove(player.getUniqueId());\n                    } else {\n                        player.sendMessage(ChatColor.DARK_RED + clientRegisterReceive.getMessage() + ChatColor.RESET);\n                        player.sendMessage(ChatColor.YELLOW + &quot;Please type your password and email like this : &lt;password&gt;;&lt;email&gt;&quot; + ChatColor.RESET);\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        }.runTask(this.plugin);\n    }\n</code></pre>\n<p>Ktor Log:</p>\n<pre><code>2023-07-09 09:07:52.911 [eventLoopGroupProxy-4-1] TRACE io.ktor.server.sessions.Sessions - Sessions found for /api/client/register: connect\n2023-07-09 09:07:52.966 [eventLoopGroupProxy-4-1] TRACE io.ktor.routing.Routing - Trace for [api, client, register]\n/, segment:0 -&gt; SUCCESS @ /\n  /, segment:0 -&gt; SUCCESS @ /\n    /(method:GET), segment:0 -&gt; FAILURE &quot;Selector didn't match&quot; @ /(method:GET)\n    /connect, segment:0 -&gt; FAILURE &quot;Selector didn't match&quot; @ /connect\n    /register, segment:0 -&gt; FAILURE &quot;Selector didn't match&quot; @ /register\n    /(authenticate user-session), segment:0 -&gt; SUCCESS @ /(authenticate user-session)\n      /(authenticate user-session)/profile, segment:0 -&gt; FAILURE &quot;Selector didn't match&quot; @ /(authenticate user-session)/profile\n      /(authenticate user-session)/stores, segment:0 -&gt; FAILURE &quot;Selector didn't match&quot; @ /(authenticate user-session)/stores\n      /(authenticate user-session)/editUser, segment:0 -&gt; FAILURE &quot;Selector didn't match&quot; @ /(authenticate user-session)/editUser\n      /(authenticate user-session)/editSalary, segment:0 -&gt; FAILURE &quot;Selector didn't match&quot; @ /(authenticate user-session)/editSalary\n      /(authenticate user-session)/editMember, segment:0 -&gt; FAILURE &quot;Selector didn't match&quot; @ /(authenticate user-session)/editMember\n      /(authenticate user-session)/editStock, segment:0 -&gt; FAILURE &quot;Selector didn't match&quot; @ /(authenticate user-session)/editStock\n      /(authenticate user-session)/bailoutStock, segment:0 -&gt; FAILURE &quot;Selector didn't match&quot; @ /(authenticate user-session)/bailoutStock\n      /(authenticate user-session)/addStock, segment:0 -&gt; FAILURE &quot;Selector didn't match&quot; @ /(authenticate user-session)/addStock\n      /(authenticate user-session)/ajouterUnMembre, segment:0 -&gt; FAILURE &quot;Selector didn't match&quot; @ /(authenticate user-session)/ajouterUnMembre\n      /(authenticate user-session)/createShop, segment:0 -&gt; FAILURE &quot;Selector didn't match&quot; @ /(authenticate user-session)/createShop\n      /(authenticate user-session)/removeMember, segment:0 -&gt; FAILURE &quot;Selector didn't match&quot; @ /(authenticate user-session)/removeMember\n      /(authenticate user-session)/disconnect, segment:0 -&gt; FAILURE &quot;Selector didn't match&quot; @ /(authenticate user-session)/disconnect\n  /assets, segment:0 -&gt; FAILURE &quot;Selector didn't match&quot; @ /assets\n  /(authenticate api-bearer), segment:0 -&gt; SUCCESS @ /(authenticate api-bearer)\n    /(authenticate api-bearer)/api, segment:1 -&gt; SUCCESS @ /(authenticate api-bearer)/api\n      /(authenticate api-bearer)/api/, segment:1 -&gt; SUCCESS @ /(authenticate api-bearer)/api/\n        /(authenticate api-bearer)/api/client, segment:2 -&gt; SUCCESS @ /(authenticate api-bearer)/api/client\n          /(authenticate api-bearer)/api/client/, segment:2 -&gt; SUCCESS @ /(authenticate api-bearer)/api/client/\n            /(authenticate api-bearer)/api/client/connect, segment:2 -&gt; FAILURE &quot;Selector didn't match&quot; @ /(authenticate api-bearer)/api/client/connect\n            /(authenticate api-bearer)/api/client/inventory, segment:2 -&gt; FAILURE &quot;Selector didn't match&quot; @ /(authenticate api-bearer)/api/client/inventory\n            /(authenticate api-bearer)/api/client/register, segment:3 -&gt; SUCCESS @ /(authenticate api-bearer)/api/client/register\n              /(authenticate api-bearer)/api/client/register/(method:POST), segment:3 -&gt; SUCCESS @ /(authenticate api-bearer)/api/client/register/(method:POST)\n            /(authenticate api-bearer)/api/client/debit, segment:2 -&gt; FAILURE &quot;Selector didn't match&quot; @ /(authenticate api-bearer)/api/client/debit\n            /(authenticate api-bearer)/api/client/credit, segment:2 -&gt; FAILURE &quot;Selector didn't match&quot; @ /(authenticate api-bearer)/api/client/credit\n            /(authenticate api-bearer)/api/client/pay, segment:2 -&gt; FAILURE &quot;Selector didn't match&quot; @ /(authenticate api-bearer)/api/client/pay\n            /(authenticate api-bearer)/api/client/updateInventory, segment:2 -&gt; FAILURE &quot;Selector didn't match&quot; @ /(authenticate api-bearer)/api/client/updateInventory\n        /(authenticate api-bearer)/api/store, segment:1 -&gt; FAILURE &quot;Selector didn't match&quot; @ /(authenticate api-bearer)/api/store\nMatched routes:\n  &quot;&quot; -&gt; &quot;(authenticate api-bearer)&quot; -&gt; &quot;api&quot; -&gt; &quot;&lt;slash&gt;&quot; -&gt; &quot;client&quot; -&gt; &quot;&lt;slash&gt;&quot; -&gt; &quot;register&quot; -&gt; &quot;(method:POST)&quot;\nRoute resolve result:\n  SUCCESS @ /(authenticate api-bearer)/api/client/register/(method:POST)\n2023-07-09 09:07:52.985 [eventLoopGroupProxy-4-1] TRACE io.ktor.server.auth.Authentication - Trying to authenticate /api/client/register with api-bearer\n2023-07-09 09:07:53.008 [eventLoopGroupProxy-4-1] TRACE io.ktor.server.auth.Authentication - Authentication succeeded for /api/client/register with provider io.ktor.server.auth.BearerAuthenticationProvider@5adad75b\n2023-07-09 09:07:53.084 [eventLoopGroupProxy-4-1] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.ByteBufferChannel and expected type TypeInfo(type=class fr.plaglefleau.models.api.client.receive.RegisterReceive, reifiedType=class fr.plaglefleau.models.api.client.receive.RegisterReceive, kotlinType=fr.plaglefleau.models.api.client.receive.RegisterReceive) for call /api/client/register\n2023-07-09 09:07:53.121 [eventLoopGroupProxy-4-1] TRACE i.k.s.p.c.ContentNegotiation - Skipping content converter for request type class fr.plaglefleau.models.api.client.receive.RegisterReceive because content type */* does not match application/json\n2023-07-09 09:07:53.121 [eventLoopGroupProxy-4-1] TRACE i.k.s.p.c.ContentNegotiation - No suitable content converter found for request type class fr.plaglefleau.models.api.client.receive.RegisterReceive\n2023-07-09 09:07:53.138 [eventLoopGroupProxy-4-1] TRACE io.ktor.server.sessions.Sessions - Sending session data for /api/client/register: connect\n2023-07-09 09:07:53.141 [eventLoopGroupProxy-4-1] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /api/client/register request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].\n</code></pre>\n<p>Here is my JSON in postman and in my plugin.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;username&quot;:&quot;PlagLeFleau&quot;,\n    &quot;password&quot;:&quot;PlagLeFleau0745&quot;,\n    &quot;email&quot;:&quot;louisdufourd@gmail.com&quot;\n}\n</code></pre>\n<p>I found were the problème is it's simple i just don't tell the server that my request content is a json so with HttpRequest i should create my request like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpRequest request = HttpRequest.newBuilder(uri)\n                        .POST(HttpRequest.BodyPublishers.ofString(json))\n                        .header(&quot;Authorization&quot;, &quot;Bearer &quot; + Token.TOKEN)\n                        .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                        .build();\n</code></pre>\n"},{"tags":["java","maven","gradle"],"comments":[{"owner":{"account_id":367578,"reputation":3080,"user_id":713861,"accept_rate":72,"display_name":"GreenSaguaro"},"score":0,"creation_date":1689053962,"post_id":76658392,"comment_id":135154729,"body_markdown":"What do you get when you compare the contents of the 2 WARs?","body":"What do you get when you compare the contents of the 2 WARs?"},{"owner":{"account_id":969227,"reputation":1332,"user_id":992094,"accept_rate":43,"display_name":"Gaurav"},"score":0,"creation_date":1689077675,"post_id":76658392,"comment_id":135159320,"body_markdown":"WARs are exactly the same. With Gradle changes only my tomcat APIs are not working. Rest all application is working fine","body":"WARs are exactly the same. With Gradle changes only my tomcat APIs are not working. Rest all application is working fine"},{"owner":{"account_id":367578,"reputation":3080,"user_id":713861,"accept_rate":72,"display_name":"GreenSaguaro"},"score":0,"creation_date":1689103649,"post_id":76658392,"comment_id":135165144,"body_markdown":"If your WARs from Maven and Gradle have exactly the same contents. Literally the exact same files and file contents, then your problem is not with Gradle. If you take each of them and deploy them locally to the exact same Tomcat instance, and the Maven works and Gradle does not, then there is a difference between the two WARs that is being over looked. I would suggest unzippling both of them and comparing the two folders with Beyond Compare.","body":"If your WARs from Maven and Gradle have exactly the same contents. Literally the exact same files and file contents, then your problem is not with Gradle. If you take each of them and deploy them locally to the exact same Tomcat instance, and the Maven works and Gradle does not, then there is a difference between the two WARs that is being over looked. I would suggest unzippling both of them and comparing the two folders with Beyond Compare."}],"owner":{"account_id":969227,"reputation":1332,"user_id":992094,"accept_rate":43,"display_name":"Gaurav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689042863,"creation_date":1689042863,"question_id":76658392,"body_markdown":"I am migrating from Maven to Gradle(8.0.2) and seeing this error when I deploy my application. `gradle clean build` is successful and generating war file. I compared the gradle build with the maven, all the dependencies are same, hadoop jar is there in the `war` file under libs folder. This is how my generating war:\r\n\r\n```\r\ntasks.withType(Copy).all { duplicatesStrategy &#39;exclude&#39; }\r\n\r\nconfigurations {\r\nimplementation {\r\n    canBeResolved = true\r\n    canBeConsumed = true\r\n}\r\n}\r\n\r\nwar {\r\n    archiveFileName = &quot;test.war&quot;\r\n    webAppDirectory = file(&#39;src/main/webapp&#39;)\r\n    classpath configurations.runtimeClasspath + configurations.implementation\r\n}\r\n\r\ndependencies {\r\n// all my dependencies... \r\nimplementation //dependencies\r\n}\r\n```\r\n\r\nCan someone please help with this issue?","title":"&quot;errMsg&quot;: &quot;Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class org.apache.hadoop.security","body":"<p>I am migrating from Maven to Gradle(8.0.2) and seeing this error when I deploy my application. <code>gradle clean build</code> is successful and generating war file. I compared the gradle build with the maven, all the dependencies are same, hadoop jar is there in the <code>war</code> file under libs folder. This is how my generating war:</p>\n<pre><code>tasks.withType(Copy).all { duplicatesStrategy 'exclude' }\n\nconfigurations {\nimplementation {\n    canBeResolved = true\n    canBeConsumed = true\n}\n}\n\nwar {\n    archiveFileName = &quot;test.war&quot;\n    webAppDirectory = file('src/main/webapp')\n    classpath configurations.runtimeClasspath + configurations.implementation\n}\n\ndependencies {\n// all my dependencies... \nimplementation //dependencies\n}\n</code></pre>\n<p>Can someone please help with this issue?</p>\n"},{"tags":["java","nashorn"],"comments":[{"owner":{"account_id":6598344,"reputation":226,"user_id":5097384,"display_name":"haupz"},"score":2,"creation_date":1575232548,"post_id":59126867,"comment_id":104487289,"body_markdown":"Hello - it&#39;s unclear what it is exactly that you want to achieve. In any case, the Nashorn JavaScript implementation is no longer part of Java since version 11. See https://openjdk.java.net/jeps/335 for details. Which Java version did you work with before installing 11?","body":"Hello - it&#39;s unclear what it is exactly that you want to achieve. In any case, the Nashorn JavaScript implementation is no longer part of Java since version 11. See <a href=\"https://openjdk.java.net/jeps/335\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/335</a> for details. Which Java version did you work with before installing 11?"},{"owner":{"account_id":1614042,"reputation":7468,"user_id":1492229,"accept_rate":100,"display_name":"asmgx"},"score":1,"creation_date":1575238186,"post_id":59126867,"comment_id":104488861,"body_markdown":"the open source seems since 2017, is there a way to include nashorn to the current java version","body":"the open source seems since 2017, is there a way to include nashorn to the current java version"},{"owner":{"account_id":12908744,"reputation":3232,"user_id":9335205,"accept_rate":50,"display_name":"JGleason"},"score":0,"creation_date":1589295369,"post_id":59126867,"comment_id":109233093,"body_markdown":"Same issue any solution?","body":"Same issue any solution?"},{"owner":{"account_id":5941047,"reputation":818,"user_id":4672238,"accept_rate":60,"display_name":"jeninja"},"score":0,"creation_date":1617740242,"post_id":59126867,"comment_id":118388869,"body_markdown":"Luckily in my case the import wasn&#39;t being used, so I deleted it and this solved my problem.","body":"Luckily in my case the import wasn&#39;t being used, so I deleted it and this solved my problem."}],"answers":[{"tags":[],"owner":{"account_id":8177883,"reputation":670,"user_id":6156080,"display_name":"Richard"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1595805277,"creation_date":1595805277,"answer_id":63106743,"question_id":59126867,"body_markdown":"Not sure if this will help you so many months later, I think you used the spring web initializer to create a new project, at the test class you will find you are importing that class, delete the import statement and then delete the test case, then try to re build the project and it should run, as it was mentioned at the comments the class is not longer part of Java 11, probably later on you can try to use Junit for some of your test cases","title":"jdk.nashorn.internal.ir.annotations does not exist","body":"<p>Not sure if this will help you so many months later, I think you used the spring web initializer to create a new project, at the test class you will find you are importing that class, delete the import statement and then delete the test case, then try to re build the project and it should run, as it was mentioned at the comments the class is not longer part of Java 11, probably later on you can try to use Junit for some of your test cases</p>\n"},{"tags":[],"owner":{"account_id":21110409,"reputation":1,"user_id":15518487,"display_name":"Dru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666928310,"creation_date":1666928310,"answer_id":74230382,"question_id":59126867,"body_markdown":"Adding `JAVA_HOME` on my env fixed the issue.","title":"jdk.nashorn.internal.ir.annotations does not exist","body":"<p>Adding <code>JAVA_HOME</code> on my env fixed the issue.</p>\n"},{"comments":[{"owner":{"account_id":9599750,"reputation":2970,"user_id":7208029,"display_name":"Chai T. Rex"},"score":0,"creation_date":1689047396,"post_id":76655651,"comment_id":135154147,"body_markdown":"Though this could do with a bit more about how they know it was removed in Java 15, this can already help people who are here because they get the same error message.","body":"Though this could do with a bit more about how they know it was removed in Java 15, this can already help people who are here because they get the same error message."}],"tags":[],"owner":{"account_id":28872439,"reputation":1,"user_id":22113694,"display_name":"Jayanta Karmakar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689006416,"creation_date":1689006416,"answer_id":76655651,"question_id":59126867,"body_markdown":"jdk.nashorn is removed in java 15","title":"jdk.nashorn.internal.ir.annotations does not exist","body":"<p>jdk.nashorn is removed in java 15</p>\n"},{"tags":[],"owner":{"account_id":8186639,"reputation":127,"user_id":6162262,"display_name":"tbotalla"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689041770,"creation_date":1689041770,"answer_id":76658341,"question_id":59126867,"body_markdown":"In my case the problem was running a Gradle task from the command line instead of from Intellij IDEA. Switching the JAVA_HOME to the correct one (Java 8 in my case) solved the problem","title":"jdk.nashorn.internal.ir.annotations does not exist","body":"<p>In my case the problem was running a Gradle task from the command line instead of from Intellij IDEA. Switching the JAVA_HOME to the correct one (Java 8 in my case) solved the problem</p>\n"}],"owner":{"account_id":1614042,"reputation":7468,"user_id":1492229,"accept_rate":100,"display_name":"asmgx"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20354,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":63106743,"answer_count":4,"score":6,"last_activity_date":1689041770,"creation_date":1575213314,"question_id":59126867,"body_markdown":"I am very new to Java and using IntelliJ\r\nI am running an open source file.\r\n\r\nbut the building giving this error\r\n\r\n&gt; Error:(21, 43) java: package jdk.nashorn.internal.ir.annotations does\r\n&gt; not exist\r\n\r\nI tried installing JDK 11 but still getting the same error.\r\n\r\nWhat I have to do so the system recognize this library?","title":"jdk.nashorn.internal.ir.annotations does not exist","body":"<p>I am very new to Java and using IntelliJ\nI am running an open source file.</p>\n\n<p>but the building giving this error</p>\n\n<blockquote>\n  <p>Error:(21, 43) java: package jdk.nashorn.internal.ir.annotations does\n  not exist</p>\n</blockquote>\n\n<p>I tried installing JDK 11 but still getting the same error.</p>\n\n<p>What I have to do so the system recognize this library?</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1688997260,"post_id":76653476,"comment_id":135146695,"body_markdown":"I think you forgot about `.replace()`. Which is a better solution than &#39;use indexOf and substring together&#39;.","body":"I think you forgot about <code>.replace()</code>. Which is a better solution than &#39;use indexOf and substring together&#39;."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1689006276,"post_id":76653476,"comment_id":135148960,"body_markdown":"@rzwitserloot - indeed I did!   It rather invalidates most of this answer beyond the explanatory first paragraph.","body":"@rzwitserloot - indeed I did!   It rather invalidates most of this answer beyond the explanatory first paragraph."}],"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1688990797,"creation_date":1688990027,"answer_id":76653476,"question_id":76653429,"body_markdown":"The first argument to replaceAll has to be a correctly-formed regular expression, not any old character string.  Your complex piece of HTML is not a regular expression.\r\n\r\nIt might be simpler to handle this &#39;manually&#39; by using `indexOf` to locate the string you want to remove, and then `substring` to remove it.\r\n\r\n[Documentation for String](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replaceAll-java.lang.String-java.lang.String-).\r\n\r\nAlternatively, and I have not tried this, consider wrapping the entire &#39;divPrefix&#39; string in `\\Q` and `\\E`. \r\n\r\n[Documentation for Pattern](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html).\r\n\r\nPersonally, I don&#39;t like that approach; I find regular expressions to be somewhat overused, and in this case we are using a regular expression where we don&#39;t actually want a regular expression, so we&#39;re finding a way to make it be treated as &#39;not really a regular expression&#39;.\r\n","title":"Illegal repetition near index error when using replaceAll in string","body":"<p>The first argument to replaceAll has to be a correctly-formed regular expression, not any old character string.  Your complex piece of HTML is not a regular expression.</p>\n<p>It might be simpler to handle this 'manually' by using <code>indexOf</code> to locate the string you want to remove, and then <code>substring</code> to remove it.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replaceAll-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\">Documentation for String</a>.</p>\n<p>Alternatively, and I have not tried this, consider wrapping the entire 'divPrefix' string in <code>\\Q</code> and <code>\\E</code>.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Documentation for Pattern</a>.</p>\n<p>Personally, I don't like that approach; I find regular expressions to be somewhat overused, and in this case we are using a regular expression where we don't actually want a regular expression, so we're finding a way to make it be treated as 'not really a regular expression'.</p>\n"},{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1688995341,"post_id":76653665,"comment_id":135146203,"body_markdown":"You were correct about my answer.  So +1.","body":"You were correct about my answer.  So +1."}],"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1688991461,"creation_date":1688991461,"answer_id":76653665,"question_id":76653429,"body_markdown":"The `replaceAll` method takes a regex as the first argument. You just want it to match a regular substring. For that, use [String.replace][1] instead.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)","title":"Illegal repetition near index error when using replaceAll in string","body":"<p>The <code>replaceAll</code> method takes a regex as the first argument. You just want it to match a regular substring. For that, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)\" rel=\"nofollow noreferrer\">String.replace</a> instead.</p>\n"},{"tags":[],"owner":{"account_id":28020964,"reputation":1207,"user_id":21401783,"display_name":"Dinux"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689011200,"creation_date":1688993986,"answer_id":76653994,"question_id":76653429,"body_markdown":"When you use the the replaceAll() function, you need to pass a regex(regular expression) as the first argument. For achieving your purpose, you need to use the replace() function. Modified code:\r\n~~~\r\nrequest=request.replace(divPrefix,&quot;&quot;);\r\nrequest=request.replace(&quot;&lt;/div&gt;&quot;,&quot;&quot;);\r\n~~~","title":"Illegal repetition near index error when using replaceAll in string","body":"<p>When you use the the replaceAll() function, you need to pass a regex(regular expression) as the first argument. For achieving your purpose, you need to use the replace() function. Modified code:</p>\n<pre><code>request=request.replace(divPrefix,&quot;&quot;);\nrequest=request.replace(&quot;&lt;/div&gt;&quot;,&quot;&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689039988,"creation_date":1689039988,"answer_id":76658259,"question_id":76653429,"body_markdown":"Use the _[String#replace](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence))_ method, and not the _[String#replaceAll](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String))_ method.\r\n\r\nThe latter will interpret your argument as a _[regular expression pattern](https://en.wikipedia.org/wiki/Regular_expression)_.\r\n\r\n```java\r\nString request = &quot;&lt;div class=\\&quot;artemis-editor\\&quot; style=\\&quot;font-family:Arial,sans-serif!important;font-size: 11px!important;\\&quot;&gt;&lt;style&gt;.artemis-editor,.artemis-editor * {font-family:Arial,sans-serif!important;font-size: 11px!important;}&lt;/style&gt;&lt;p&gt;Paragraph content&lt;/p&gt;&lt;/div&gt;&quot;;\r\nString divPrefix = &quot;&lt;div class=\\&quot;artemis-editor\\&quot; style=\\&quot;font-family:Arial,sans-serif!important;font-size: 11px!important;\\&quot;&gt;&lt;style&gt;.artemis-editor,.artemis-editor * {font-family:Arial,sans-serif!important;font-size: 11px!important;}&lt;/style&gt;&quot;;\r\nrequest=request.replace(divPrefix,&quot;&quot;);\r\nrequest=request.replace(&quot;&lt;/div&gt;&quot;,&quot;&quot;);\r\n\r\nSystem.out.println(request);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n&lt;p&gt;Paragraph content&lt;/p&gt;\r\n```","title":"Illegal repetition near index error when using replaceAll in string","body":"<p>Use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)\" rel=\"nofollow noreferrer\">String#replace</a></em> method, and not the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">String#replaceAll</a></em> method.</p>\n<p>The latter will interpret your argument as a <em><a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">regular expression pattern</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String request = &quot;&lt;div class=\\&quot;artemis-editor\\&quot; style=\\&quot;font-family:Arial,sans-serif!important;font-size: 11px!important;\\&quot;&gt;&lt;style&gt;.artemis-editor,.artemis-editor * {font-family:Arial,sans-serif!important;font-size: 11px!important;}&lt;/style&gt;&lt;p&gt;Paragraph content&lt;/p&gt;&lt;/div&gt;&quot;;\nString divPrefix = &quot;&lt;div class=\\&quot;artemis-editor\\&quot; style=\\&quot;font-family:Arial,sans-serif!important;font-size: 11px!important;\\&quot;&gt;&lt;style&gt;.artemis-editor,.artemis-editor * {font-family:Arial,sans-serif!important;font-size: 11px!important;}&lt;/style&gt;&quot;;\nrequest=request.replace(divPrefix,&quot;&quot;);\nrequest=request.replace(&quot;&lt;/div&gt;&quot;,&quot;&quot;);\n\nSystem.out.println(request);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>&lt;p&gt;Paragraph content&lt;/p&gt;\n</code></pre>\n"}],"owner":{"account_id":21209365,"reputation":37,"user_id":15598320,"display_name":"iswarya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1689039988,"creation_date":1688989702,"question_id":76653429,"body_markdown":"   I want to remove the divPrefix string from request string, but I am getting &quot;illegal repetition near index 142&quot; error message. Could you please help to resolve this issue.\r\n\r\nNote : This divPrefix is in the json request, so it will be there in multiple places. Is there a change to replace it in one shot?\r\n    \r\n    String request=&quot;&lt;div class=&quot;artemis-editor&quot; style=&quot;font-family:Arial,sans-serif!important;font-size: 11px!important;&quot;&gt;&lt;style&gt;.artemis-editor,.artemis-editor * {font-family:Arial,sans-serif!important;font-size: 11px!important;}&lt;/style&gt;&lt;p&gt;Paragraph content&lt;/p&gt;&lt;/div&gt;&quot;;\r\n    \r\n    String divPrefix=&quot;&lt;div class=&quot;artemis-editor&quot; style=&quot;font-family:Arial,sans-serif!important;font-size: 11px!important;&quot;&gt;&lt;style&gt;.artemis-editor,.artemis-editor * {font-family:Arial,sans-serif!important;font-size: 11px!important;}&lt;/style&gt;&quot;;\r\n    \r\n    request=request.replaceAll(divPrefix,&quot;&quot;);\r\n    request=request.replaceAll(&quot;&lt;/div&gt;&quot;,&quot;&quot;);\r\n    \r\n    Expected output:\r\n    &lt;p&gt;Paragraph content&lt;/p&gt;","title":"Illegal repetition near index error when using replaceAll in string","body":"<p>I want to remove the divPrefix string from request string, but I am getting &quot;illegal repetition near index 142&quot; error message. Could you please help to resolve this issue.</p>\n<p>Note : This divPrefix is in the json request, so it will be there in multiple places. Is there a change to replace it in one shot?</p>\n<pre><code>String request=&quot;&lt;div class=&quot;artemis-editor&quot; style=&quot;font-family:Arial,sans-serif!important;font-size: 11px!important;&quot;&gt;&lt;style&gt;.artemis-editor,.artemis-editor * {font-family:Arial,sans-serif!important;font-size: 11px!important;}&lt;/style&gt;&lt;p&gt;Paragraph content&lt;/p&gt;&lt;/div&gt;&quot;;\n\nString divPrefix=&quot;&lt;div class=&quot;artemis-editor&quot; style=&quot;font-family:Arial,sans-serif!important;font-size: 11px!important;&quot;&gt;&lt;style&gt;.artemis-editor,.artemis-editor * {font-family:Arial,sans-serif!important;font-size: 11px!important;}&lt;/style&gt;&quot;;\n\nrequest=request.replaceAll(divPrefix,&quot;&quot;);\nrequest=request.replaceAll(&quot;&lt;/div&gt;&quot;,&quot;&quot;);\n\nExpected output:\n&lt;p&gt;Paragraph content&lt;/p&gt;\n</code></pre>\n"},{"tags":["java","javafx","tableview","focus","controlsfx"],"answers":[{"tags":[],"owner":{"account_id":3769835,"reputation":964,"user_id":3132351,"display_name":"EverNight"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688908035,"creation_date":1688908035,"answer_id":76647631,"question_id":76603768,"body_markdown":"There&#39;s no such thing as a &quot;drop-in replacement&quot; ... it&#39;s a fairy tale.\r\n\r\nwhat you did there is create a table view, fill it with some stuff, and plop it in a scene container of a window. nothing else.\r\n\r\nto handle specific key listener stuff, you need to use `table.setOnKeyPressed(some_event_handler)` in order to assign a specific `javafx.event.EventHandler` which would do what you tell it to.\r\n\r\ni advise you to use a `javafx.scene.control.TableView` instance in debug mode in whatever case you have going on which actually works... figure out where that `onKeyPressed/Released` thing is being declared *(as in ... where the code block that gets executed once the listener kicks in a.k.a. handler)* ... and go from there ... then duplicate that block of code more or less after you declare your instance of `tableView2`\r\n\r\nit should look something like\r\n\r\n    tableView.setOnKeyReleased((KeyEvent t)-&gt; { // or key pressed ... or key down... \r\n        KeyCode key=t.getCode();\r\n        if (key==KeyCode.DOWN){\r\n            int pos=tableView.getSelectionModel().getSelectedIndex();\r\n            System.out.println(&quot;key released while at position :: &quot;+ pos);\r\n        }\r\n\r\n        // add similar for UP ... maybe left or right \r\n\r\n    });\r\n\r\n\r\n\r\n","title":"How do I get keyboard navigation for the SelectedRow in controlsfx.TableView2?","body":"<p>There's no such thing as a &quot;drop-in replacement&quot; ... it's a fairy tale.</p>\n<p>what you did there is create a table view, fill it with some stuff, and plop it in a scene container of a window. nothing else.</p>\n<p>to handle specific key listener stuff, you need to use <code>table.setOnKeyPressed(some_event_handler)</code> in order to assign a specific <code>javafx.event.EventHandler</code> which would do what you tell it to.</p>\n<p>i advise you to use a <code>javafx.scene.control.TableView</code> instance in debug mode in whatever case you have going on which actually works... figure out where that <code>onKeyPressed/Released</code> thing is being declared <em>(as in ... where the code block that gets executed once the listener kicks in a.k.a. handler)</em> ... and go from there ... then duplicate that block of code more or less after you declare your instance of <code>tableView2</code></p>\n<p>it should look something like</p>\n<pre><code>tableView.setOnKeyReleased((KeyEvent t)-&gt; { // or key pressed ... or key down... \n    KeyCode key=t.getCode();\n    if (key==KeyCode.DOWN){\n        int pos=tableView.getSelectionModel().getSelectedIndex();\n        System.out.println(&quot;key released while at position :: &quot;+ pos);\n    }\n\n    // add similar for UP ... maybe left or right \n\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"score":1,"creation_date":1689120891,"post_id":76658199,"comment_id":135167457,"body_markdown":"I would appreciate the reason for the down vote. Which will help me to understand where my analyzation went wrong :)","body":"I would appreciate the reason for the down vote. Which will help me to understand where my analyzation went wrong :)"},{"owner":{"account_id":950197,"reputation":1687,"user_id":976509,"display_name":"vl4d1m1r4"},"score":0,"creation_date":1689245657,"post_id":76658199,"comment_id":135187528,"body_markdown":"If I have to guess, the person was expecting a shorter answer and didn&#39;t want to bother reading it :D. In my opinion this is an excellent answer. Also there is already and issue reported for this in the repo: https://github.com/controlsfx/controlsfx/issues/1493.","body":"If I have to guess, the person was expecting a shorter answer and didn&#39;t want to bother reading it :D. In my opinion this is an excellent answer. Also there is already and issue reported for this in the repo: <a href=\"https://github.com/controlsfx/controlsfx/issues/1493\" rel=\"nofollow noreferrer\">github.com/controlsfx/controlsfx/issues/1493</a>."}],"tags":[],"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1689038749,"creation_date":1689038749,"answer_id":76658199,"question_id":76603768,"body_markdown":"What you have observed is correct. It is indeed, that the default behaviour that is available in TableView is supressed or removed in TableView2.\r\n\r\nThe general key mapping behavior of TableView is implemented in **TableViewBehaviorBase.java** as below:\r\n\r\n    addDefaultMapping(tableViewInputMap,\r\n                    new KeyMapping(TAB, FocusTraversalInputMap::traverseNext),\r\n                    new KeyMapping(new KeyBinding(TAB).shift(), FocusTraversalInputMap::traversePrevious),\r\n    \r\n                    new KeyMapping(HOME, e -&gt; selectFirstRow()),\r\n                    new KeyMapping(END, e -&gt; selectLastRow()),\r\n    \r\n                    new KeyMapping(PAGE_UP, e -&gt; scrollUp()),\r\n                    new KeyMapping(PAGE_DOWN, e -&gt; scrollDown()),\r\n    \r\n                    new KeyMapping(LEFT, e -&gt; { if(isRTL()) selectRightCell(); else selectLeftCell(); }),\r\n                    new KeyMapping(KP_LEFT,e -&gt; { if(isRTL()) selectRightCell(); else selectLeftCell(); }),\r\n                    new KeyMapping(RIGHT, e -&gt; { if(isRTL()) selectLeftCell(); else selectRightCell(); }),\r\n                    new KeyMapping(KP_RIGHT, e -&gt; { if(isRTL()) selectLeftCell(); else selectRightCell(); }),\r\n    \r\n                    new KeyMapping(UP, e -&gt; selectPreviousRow()),\r\n                    new KeyMapping(KP_UP, e -&gt; selectPreviousRow()),\r\n                    new KeyMapping(DOWN, e -&gt; selectNextRow()),\r\n                    new KeyMapping(KP_DOWN, e -&gt; selectNextRow()),\r\n    \r\n                    new KeyMapping(LEFT,   e -&gt; { if(isRTL()) focusTraverseRight(); else focusTraverseLeft(); }),\r\n                    new KeyMapping(KP_LEFT, e -&gt; { if(isRTL()) focusTraverseRight(); else focusTraverseLeft(); }),\r\n                    new KeyMapping(RIGHT, e -&gt; { if(isRTL()) focusTraverseLeft(); else focusTraverseRight(); }),\r\n                    new KeyMapping(KP_RIGHT, e -&gt; { if(isRTL()) focusTraverseLeft(); else focusTraverseRight(); }),\r\n                    new KeyMapping(UP, FocusTraversalInputMap::traverseUp),\r\n                    new KeyMapping(KP_UP, FocusTraversalInputMap::traverseUp),\r\n                    new KeyMapping(DOWN, FocusTraversalInputMap::traverseDown),\r\n                    new KeyMapping(KP_DOWN, FocusTraversalInputMap::traverseDown),\r\n    \r\n                    new KeyMapping(new KeyBinding(HOME).shift(), e -&gt; selectAllToFirstRow()),\r\n                    new KeyMapping(new KeyBinding(END).shift(), e -&gt; selectAllToLastRow()),\r\n                    new KeyMapping(new KeyBinding(PAGE_UP).shift(), e -&gt; selectAllPageUp()),\r\n                    new KeyMapping(new KeyBinding(PAGE_DOWN).shift(), e -&gt; selectAllPageDown()),\r\n    \r\n                    new KeyMapping(new KeyBinding(UP).shift(), e -&gt; alsoSelectPrevious()),\r\n                    new KeyMapping(new KeyBinding(KP_UP).shift(), e -&gt; alsoSelectPrevious()),\r\n                    new KeyMapping(new KeyBinding(DOWN).shift(), e -&gt; alsoSelectNext()),\r\n                    new KeyMapping(new KeyBinding(KP_DOWN).shift(), e -&gt; alsoSelectNext()),\r\n    \r\n                    new KeyMapping(new KeyBinding(SPACE).shift(), e -&gt; selectAllToFocus(false)),\r\n                    new KeyMapping(new KeyBinding(SPACE).shortcut().shift(), e -&gt; selectAllToFocus(true)),\r\n    \r\n                    new KeyMapping(new KeyBinding(LEFT).shift(), e -&gt; { if(isRTL()) alsoSelectRightCell(); else alsoSelectLeftCell(); }),\r\n                    new KeyMapping(new KeyBinding(KP_LEFT).shift(),  e -&gt; { if(isRTL()) alsoSelectRightCell(); else alsoSelectLeftCell(); }),\r\n                    new KeyMapping(new KeyBinding(RIGHT).shift(),  e -&gt; { if(isRTL()) alsoSelectLeftCell(); else alsoSelectRightCell(); }),\r\n                    new KeyMapping(new KeyBinding(KP_RIGHT).shift(), e -&gt; { if(isRTL()) alsoSelectLeftCell(); else alsoSelectRightCell(); }),\r\n    \r\n                    new KeyMapping(new KeyBinding(UP).shortcut(), e -&gt; focusPreviousRow()),\r\n                    new KeyMapping(new KeyBinding(DOWN).shortcut(), e -&gt; focusNextRow()),\r\n                    new KeyMapping(new KeyBinding(RIGHT).shortcut(), e -&gt; { if(isRTL()) focusLeftCell(); else focusRightCell(); }),\r\n                    new KeyMapping(new KeyBinding(KP_RIGHT).shortcut(), e -&gt; { if(isRTL()) focusLeftCell(); else focusRightCell(); }),\r\n                    new KeyMapping(new KeyBinding(LEFT).shortcut(), e -&gt; { if(isRTL()) focusRightCell(); else focusLeftCell(); }),\r\n                    new KeyMapping(new KeyBinding(KP_LEFT).shortcut(), e -&gt; { if(isRTL()) focusRightCell(); else focusLeftCell(); }),\r\n    \r\n                    new KeyMapping(new KeyBinding(A).shortcut(), e -&gt; selectAll()),\r\n                    new KeyMapping(new KeyBinding(HOME).shortcut(), e -&gt; focusFirstRow()),\r\n                    new KeyMapping(new KeyBinding(END).shortcut(), e -&gt; focusLastRow()),\r\n                    new KeyMapping(new KeyBinding(PAGE_UP).shortcut(), e -&gt; focusPageUp()),\r\n                    new KeyMapping(new KeyBinding(PAGE_DOWN).shortcut(), e -&gt; focusPageDown()),\r\n    \r\n                    new KeyMapping(new KeyBinding(UP).shortcut().shift(), e -&gt; discontinuousSelectPreviousRow()),\r\n                    new KeyMapping(new KeyBinding(DOWN).shortcut().shift(), e -&gt; discontinuousSelectNextRow()),\r\n                    new KeyMapping(new KeyBinding(LEFT).shortcut().shift(), e -&gt; { if(isRTL()) discontinuousSelectNextColumn(); else discontinuousSelectPreviousColumn(); }),\r\n                    new KeyMapping(new KeyBinding(RIGHT).shortcut().shift(), e -&gt; { if(isRTL()) discontinuousSelectPreviousColumn(); else discontinuousSelectNextColumn(); }),\r\n                    new KeyMapping(new KeyBinding(PAGE_UP).shortcut().shift(), e -&gt; discontinuousSelectPageUp()),\r\n                    new KeyMapping(new KeyBinding(PAGE_DOWN).shortcut().shift(), e -&gt; discontinuousSelectPageDown()),\r\n                    new KeyMapping(new KeyBinding(HOME).shortcut().shift(), e -&gt; discontinuousSelectAllToFirstRow()),\r\n                    new KeyMapping(new KeyBinding(END).shortcut().shift(), e -&gt; discontinuousSelectAllToLastRow()),\r\n    \r\n                    enterKeyActivateMapping = new KeyMapping(ENTER, this::activate),\r\n                    new KeyMapping(SPACE, this::activate),\r\n                    new KeyMapping(F2, this::activate),\r\n                    escapeKeyCancelEditMapping = new KeyMapping(ESCAPE, this::cancelEdit),\r\n    \r\n                    new InputMap.MouseMapping(MouseEvent.MOUSE_PRESSED, this::mousePressed)\r\n            );\r\n\r\nAnd this behavior implementation is set to TableView in **TableViewSkin** class. (Please note that it is **not in** TableViewSkinBase).\r\n\r\nNow coming to TableView2 implementation, the skin of TableView2 is TableView2Skin which also extends TableViewSkinBase. But there is no **behavior** defined in this TableView2Skin. This is the reason why you cannot see the same behavior.\r\n\r\nIn short, TableView2 is **definitely not a complete extension** to TableView. Though TableView2 extends TableView, the TableView2Skin is not extending TableViewSkin. So you will not get all the features of TableView. And I am not sure whether this is an intended decision or not :).\r\n\r\nAnd to get the things work as expected, it is not as easy as just adding a key handler to TableView like `tableView.setOnKeyPressed(e-&gt;...select next row...);`. This will work for basic implementation. But don&#39;t expect to be as same as TableView. Because in TableVieBehavior a lot of stuff is handled to do the row selection.\r\n\r\nBelow is the code that will be executed, when a key press is done in TableView.\r\n\r\n \r\n\r\n    new KeyMapping(DOWN, e -&gt; selectNextRow()),\r\n    \r\n    protected void selectNextRow() {\r\n            selectCell(1, 0);\r\n            if (onSelectNextRow != null) onSelectNextRow.run();\r\n        }\r\n    \r\n    protected void selectCell(int rowDiff, int columnDiff) {\r\n            TableSelectionModel sm = getSelectionModel();\r\n            if (sm == null) return;\r\n    \r\n            TableFocusModel fm = getFocusModel();\r\n            if (fm == null) return;\r\n    \r\n            TablePositionBase&lt;TC&gt; focusedCell = getFocusedCell();\r\n            int currentRow = focusedCell.getRow();\r\n            int currentColumn = getVisibleLeafIndex(focusedCell.getTableColumn());\r\n    \r\n            if (rowDiff &gt; 0 &amp;&amp; currentRow &gt;= getItemCount() - 1) return;\r\n            else if (columnDiff &lt; 0 &amp;&amp; currentColumn &lt;= 0) return;\r\n            else if (columnDiff &gt; 0 &amp;&amp; currentColumn &gt;= getVisibleLeafColumns().size() - 1) return;\r\n            else if (columnDiff &gt; 0 &amp;&amp; currentColumn == -1) return;\r\n    \r\n            TableColumnBase tc = focusedCell.getTableColumn();\r\n            tc = getColumn(tc, columnDiff);\r\n    \r\n            //JDK-8222214: Moved this &quot;if&quot; here because the first row might be focused and not selected, so\r\n            // this makes sure it gets selected when the users presses UP. If not it ends calling\r\n            // VirtualFlow.scrollTo(-1) at and the content of the TableView disappears.\r\n            int row = (currentRow &lt;= 0 &amp;&amp; rowDiff &lt;= 0) ? 0 : focusedCell.getRow() + rowDiff;\r\n            sm.clearAndSelect(row, tc);\r\n            setAnchor(row, tc);\r\n        }\r\n    \r\n     protected void setAnchor(int row, TableColumnBase col) {\r\n            setAnchor(row == -1 &amp;&amp; col == null ? null : getTablePosition(row, col));\r\n        }\r\n    \r\n    public static &lt;T&gt; void setAnchor(Control control, T anchor, boolean isDefaultAnchor) {\r\n            if (control == null) return;\r\n            if (anchor == null) {\r\n                removeAnchor(control);\r\n            } else {\r\n                control.getProperties().put(ANCHOR_PROPERTY_KEY, anchor);\r\n                control.getProperties().put(IS_DEFAULT_ANCHOR_KEY, isDefaultAnchor);\r\n            }\r\n        }\r\n\r\nIt is up to you to take the decision of which TableView to use for your needs. If you need TableView2, then you need to somehow include the above code to your TableView2. At a basic level you can include the below one:\r\n\r\n    tableView2.addEventHandler(KeyEvent.KEY_PRESSED, e -&gt; {\r\n                int index = tableView2.getSelectionModel().getSelectedIndex();\r\n                if (e.getCode() == KeyCode.DOWN) {\r\n                    if (index &lt; tableView2.getItems().size() - 1) {\r\n                        index++;\r\n                    }\r\n                } else if (e.getCode() == KeyCode.UP) {\r\n                    if (index &gt; 0) {\r\n                        index--;\r\n                    }\r\n                }\r\n                tableView2.getSelectionModel().select(index);\r\n    \r\n                // If I don&#39;t consume this event, the focus will move away to next control.\r\n                e.consume();\r\n            });\r\n\r\nBelow is a quick demo that demonstrates this solution on TableView2.\r\n[![enter image description here][1]][1]\r\n\r\n    import javafx.application.Application;\r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javafx.beans.property.StringProperty;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.input.KeyCode;\r\n    import javafx.scene.input.KeyEvent;\r\n    import javafx.scene.input.MouseEvent;\r\n    import javafx.scene.layout.Priority;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    import org.controlsfx.control.tableview2.TableView2;\r\n    \r\n    import java.util.stream.Stream;\r\n    \r\n    public class TableView2Demo extends Application {\r\n        @Override\r\n        public void start(final Stage stage) throws Exception {\r\n            ObservableList&lt;Person&gt; persons = FXCollections.observableArrayList();\r\n            persons.add(new Person(&quot;Harry&quot;, &quot;John&quot;, &quot;LS&quot;));\r\n            persons.add(new Person(&quot;Mary&quot;, &quot;King&quot;, &quot;MS&quot;));\r\n            persons.add(new Person(&quot;Don&quot;, &quot;Bon&quot;, &quot;CAT&quot;));\r\n    \r\n            VBox root = new VBox();\r\n            root.setSpacing(5);\r\n            root.setPadding(new Insets(5));\r\n    \r\n            TableView&lt;Person&gt; tableView1 = new TableView&lt;&gt;();\r\n            tableView1.setId(&quot;TableView&quot;);\r\n    \r\n            TableView2&lt;Person&gt; tableView2 = new TableView2&lt;&gt;();\r\n            tableView2.setId(&quot;TableView2&quot;);\r\n    \r\n            Stream.of(tableView1, tableView2).forEach(tableView -&gt; {\r\n                TableColumn&lt;Person, String&gt; fnCol = new TableColumn&lt;&gt;(&quot;First Name&quot;);\r\n                fnCol.setCellValueFactory(param -&gt; param.getValue().firstNameProperty());\r\n    \r\n                TableColumn&lt;Person, String&gt; lnCol = new TableColumn&lt;&gt;(&quot;Last Name&quot;);\r\n                lnCol.setCellValueFactory(param -&gt; param.getValue().lastNameProperty());\r\n    \r\n                TableColumn&lt;Person, String&gt; cityCol = new TableColumn&lt;&gt;(&quot;City&quot;);\r\n                cityCol.setCellValueFactory(param -&gt; param.getValue().cityProperty());\r\n    \r\n                fnCol.setPrefWidth(150);\r\n                lnCol.setPrefWidth(100);\r\n                cityCol.setPrefWidth(200);\r\n    \r\n                tableView.getColumns().addAll(fnCol, lnCol, cityCol);\r\n                tableView.setItems(persons);\r\n                Label lbl = new Label(tableView.getId());\r\n                lbl.setMinHeight(30);\r\n                lbl.setAlignment(Pos.BOTTOM_LEFT);\r\n                lbl.setStyle(&quot;-fx-font-weight:bold;-fx-font-size:16px;&quot;);\r\n                root.getChildren().addAll(lbl, tableView);\r\n                VBox.setVgrow(tableView, Priority.ALWAYS);\r\n            });\r\n    \r\n            // You need to add a handler to get focused when mouse clicked.\r\n            tableView2.addEventHandler(MouseEvent.MOUSE_CLICKED, e -&gt; tableView2.requestFocus());\r\n    \r\n            // And another handler for row selection\r\n            tableView2.addEventHandler(KeyEvent.KEY_PRESSED, e -&gt; {\r\n                int index = tableView2.getSelectionModel().getSelectedIndex();\r\n                if (e.getCode() == KeyCode.DOWN) {\r\n                    if (index &lt; tableView2.getItems().size() - 1) {\r\n                        index++;\r\n                    }\r\n                } else if (e.getCode() == KeyCode.UP) {\r\n                    if (index &gt; 0) {\r\n                        index--;\r\n                    }\r\n                }\r\n                tableView2.getSelectionModel().select(index);\r\n    \r\n                // If I don&#39;t consume this event, the focus will move away to next control.\r\n                e.consume();\r\n            });\r\n    \r\n            Scene scene = new Scene(root, 500, 400);\r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;TableView2 Demo&quot;);\r\n            stage.show();\r\n        }\r\n    \r\n        class Person {\r\n            private StringProperty firstName = new SimpleStringProperty();\r\n            private StringProperty lastName = new SimpleStringProperty();\r\n            private StringProperty city = new SimpleStringProperty();\r\n    \r\n            public Person(String fn, String ln, String cty) {\r\n                setFirstName(fn);\r\n                setLastName(ln);\r\n                setCity(cty);\r\n            }\r\n    \r\n            public String getFirstName() {\r\n                return firstName.get();\r\n            }\r\n    \r\n            public StringProperty firstNameProperty() {\r\n                return firstName;\r\n            }\r\n    \r\n            public void setFirstName(String firstName) {\r\n                this.firstName.set(firstName);\r\n            }\r\n    \r\n            public String getLastName() {\r\n                return lastName.get();\r\n            }\r\n    \r\n            public StringProperty lastNameProperty() {\r\n                return lastName;\r\n            }\r\n    \r\n            public void setLastName(String lastName) {\r\n                this.lastName.set(lastName);\r\n            }\r\n    \r\n            public String getCity() {\r\n                return city.get();\r\n            }\r\n    \r\n            public StringProperty cityProperty() {\r\n                return city;\r\n            }\r\n    \r\n            public void setCity(String city) {\r\n                this.city.set(city);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bjmiF.gif","title":"How do I get keyboard navigation for the SelectedRow in controlsfx.TableView2?","body":"<p>What you have observed is correct. It is indeed, that the default behaviour that is available in TableView is supressed or removed in TableView2.</p>\n<p>The general key mapping behavior of TableView is implemented in <strong>TableViewBehaviorBase.java</strong> as below:</p>\n<pre><code>addDefaultMapping(tableViewInputMap,\n                new KeyMapping(TAB, FocusTraversalInputMap::traverseNext),\n                new KeyMapping(new KeyBinding(TAB).shift(), FocusTraversalInputMap::traversePrevious),\n\n                new KeyMapping(HOME, e -&gt; selectFirstRow()),\n                new KeyMapping(END, e -&gt; selectLastRow()),\n\n                new KeyMapping(PAGE_UP, e -&gt; scrollUp()),\n                new KeyMapping(PAGE_DOWN, e -&gt; scrollDown()),\n\n                new KeyMapping(LEFT, e -&gt; { if(isRTL()) selectRightCell(); else selectLeftCell(); }),\n                new KeyMapping(KP_LEFT,e -&gt; { if(isRTL()) selectRightCell(); else selectLeftCell(); }),\n                new KeyMapping(RIGHT, e -&gt; { if(isRTL()) selectLeftCell(); else selectRightCell(); }),\n                new KeyMapping(KP_RIGHT, e -&gt; { if(isRTL()) selectLeftCell(); else selectRightCell(); }),\n\n                new KeyMapping(UP, e -&gt; selectPreviousRow()),\n                new KeyMapping(KP_UP, e -&gt; selectPreviousRow()),\n                new KeyMapping(DOWN, e -&gt; selectNextRow()),\n                new KeyMapping(KP_DOWN, e -&gt; selectNextRow()),\n\n                new KeyMapping(LEFT,   e -&gt; { if(isRTL()) focusTraverseRight(); else focusTraverseLeft(); }),\n                new KeyMapping(KP_LEFT, e -&gt; { if(isRTL()) focusTraverseRight(); else focusTraverseLeft(); }),\n                new KeyMapping(RIGHT, e -&gt; { if(isRTL()) focusTraverseLeft(); else focusTraverseRight(); }),\n                new KeyMapping(KP_RIGHT, e -&gt; { if(isRTL()) focusTraverseLeft(); else focusTraverseRight(); }),\n                new KeyMapping(UP, FocusTraversalInputMap::traverseUp),\n                new KeyMapping(KP_UP, FocusTraversalInputMap::traverseUp),\n                new KeyMapping(DOWN, FocusTraversalInputMap::traverseDown),\n                new KeyMapping(KP_DOWN, FocusTraversalInputMap::traverseDown),\n\n                new KeyMapping(new KeyBinding(HOME).shift(), e -&gt; selectAllToFirstRow()),\n                new KeyMapping(new KeyBinding(END).shift(), e -&gt; selectAllToLastRow()),\n                new KeyMapping(new KeyBinding(PAGE_UP).shift(), e -&gt; selectAllPageUp()),\n                new KeyMapping(new KeyBinding(PAGE_DOWN).shift(), e -&gt; selectAllPageDown()),\n\n                new KeyMapping(new KeyBinding(UP).shift(), e -&gt; alsoSelectPrevious()),\n                new KeyMapping(new KeyBinding(KP_UP).shift(), e -&gt; alsoSelectPrevious()),\n                new KeyMapping(new KeyBinding(DOWN).shift(), e -&gt; alsoSelectNext()),\n                new KeyMapping(new KeyBinding(KP_DOWN).shift(), e -&gt; alsoSelectNext()),\n\n                new KeyMapping(new KeyBinding(SPACE).shift(), e -&gt; selectAllToFocus(false)),\n                new KeyMapping(new KeyBinding(SPACE).shortcut().shift(), e -&gt; selectAllToFocus(true)),\n\n                new KeyMapping(new KeyBinding(LEFT).shift(), e -&gt; { if(isRTL()) alsoSelectRightCell(); else alsoSelectLeftCell(); }),\n                new KeyMapping(new KeyBinding(KP_LEFT).shift(),  e -&gt; { if(isRTL()) alsoSelectRightCell(); else alsoSelectLeftCell(); }),\n                new KeyMapping(new KeyBinding(RIGHT).shift(),  e -&gt; { if(isRTL()) alsoSelectLeftCell(); else alsoSelectRightCell(); }),\n                new KeyMapping(new KeyBinding(KP_RIGHT).shift(), e -&gt; { if(isRTL()) alsoSelectLeftCell(); else alsoSelectRightCell(); }),\n\n                new KeyMapping(new KeyBinding(UP).shortcut(), e -&gt; focusPreviousRow()),\n                new KeyMapping(new KeyBinding(DOWN).shortcut(), e -&gt; focusNextRow()),\n                new KeyMapping(new KeyBinding(RIGHT).shortcut(), e -&gt; { if(isRTL()) focusLeftCell(); else focusRightCell(); }),\n                new KeyMapping(new KeyBinding(KP_RIGHT).shortcut(), e -&gt; { if(isRTL()) focusLeftCell(); else focusRightCell(); }),\n                new KeyMapping(new KeyBinding(LEFT).shortcut(), e -&gt; { if(isRTL()) focusRightCell(); else focusLeftCell(); }),\n                new KeyMapping(new KeyBinding(KP_LEFT).shortcut(), e -&gt; { if(isRTL()) focusRightCell(); else focusLeftCell(); }),\n\n                new KeyMapping(new KeyBinding(A).shortcut(), e -&gt; selectAll()),\n                new KeyMapping(new KeyBinding(HOME).shortcut(), e -&gt; focusFirstRow()),\n                new KeyMapping(new KeyBinding(END).shortcut(), e -&gt; focusLastRow()),\n                new KeyMapping(new KeyBinding(PAGE_UP).shortcut(), e -&gt; focusPageUp()),\n                new KeyMapping(new KeyBinding(PAGE_DOWN).shortcut(), e -&gt; focusPageDown()),\n\n                new KeyMapping(new KeyBinding(UP).shortcut().shift(), e -&gt; discontinuousSelectPreviousRow()),\n                new KeyMapping(new KeyBinding(DOWN).shortcut().shift(), e -&gt; discontinuousSelectNextRow()),\n                new KeyMapping(new KeyBinding(LEFT).shortcut().shift(), e -&gt; { if(isRTL()) discontinuousSelectNextColumn(); else discontinuousSelectPreviousColumn(); }),\n                new KeyMapping(new KeyBinding(RIGHT).shortcut().shift(), e -&gt; { if(isRTL()) discontinuousSelectPreviousColumn(); else discontinuousSelectNextColumn(); }),\n                new KeyMapping(new KeyBinding(PAGE_UP).shortcut().shift(), e -&gt; discontinuousSelectPageUp()),\n                new KeyMapping(new KeyBinding(PAGE_DOWN).shortcut().shift(), e -&gt; discontinuousSelectPageDown()),\n                new KeyMapping(new KeyBinding(HOME).shortcut().shift(), e -&gt; discontinuousSelectAllToFirstRow()),\n                new KeyMapping(new KeyBinding(END).shortcut().shift(), e -&gt; discontinuousSelectAllToLastRow()),\n\n                enterKeyActivateMapping = new KeyMapping(ENTER, this::activate),\n                new KeyMapping(SPACE, this::activate),\n                new KeyMapping(F2, this::activate),\n                escapeKeyCancelEditMapping = new KeyMapping(ESCAPE, this::cancelEdit),\n\n                new InputMap.MouseMapping(MouseEvent.MOUSE_PRESSED, this::mousePressed)\n        );\n</code></pre>\n<p>And this behavior implementation is set to TableView in <strong>TableViewSkin</strong> class. (Please note that it is <strong>not in</strong> TableViewSkinBase).</p>\n<p>Now coming to TableView2 implementation, the skin of TableView2 is TableView2Skin which also extends TableViewSkinBase. But there is no <strong>behavior</strong> defined in this TableView2Skin. This is the reason why you cannot see the same behavior.</p>\n<p>In short, TableView2 is <strong>definitely not a complete extension</strong> to TableView. Though TableView2 extends TableView, the TableView2Skin is not extending TableViewSkin. So you will not get all the features of TableView. And I am not sure whether this is an intended decision or not :).</p>\n<p>And to get the things work as expected, it is not as easy as just adding a key handler to TableView like <code>tableView.setOnKeyPressed(e-&gt;...select next row...);</code>. This will work for basic implementation. But don't expect to be as same as TableView. Because in TableVieBehavior a lot of stuff is handled to do the row selection.</p>\n<p>Below is the code that will be executed, when a key press is done in TableView.</p>\n<pre><code>new KeyMapping(DOWN, e -&gt; selectNextRow()),\n\nprotected void selectNextRow() {\n        selectCell(1, 0);\n        if (onSelectNextRow != null) onSelectNextRow.run();\n    }\n\nprotected void selectCell(int rowDiff, int columnDiff) {\n        TableSelectionModel sm = getSelectionModel();\n        if (sm == null) return;\n\n        TableFocusModel fm = getFocusModel();\n        if (fm == null) return;\n\n        TablePositionBase&lt;TC&gt; focusedCell = getFocusedCell();\n        int currentRow = focusedCell.getRow();\n        int currentColumn = getVisibleLeafIndex(focusedCell.getTableColumn());\n\n        if (rowDiff &gt; 0 &amp;&amp; currentRow &gt;= getItemCount() - 1) return;\n        else if (columnDiff &lt; 0 &amp;&amp; currentColumn &lt;= 0) return;\n        else if (columnDiff &gt; 0 &amp;&amp; currentColumn &gt;= getVisibleLeafColumns().size() - 1) return;\n        else if (columnDiff &gt; 0 &amp;&amp; currentColumn == -1) return;\n\n        TableColumnBase tc = focusedCell.getTableColumn();\n        tc = getColumn(tc, columnDiff);\n\n        //JDK-8222214: Moved this &quot;if&quot; here because the first row might be focused and not selected, so\n        // this makes sure it gets selected when the users presses UP. If not it ends calling\n        // VirtualFlow.scrollTo(-1) at and the content of the TableView disappears.\n        int row = (currentRow &lt;= 0 &amp;&amp; rowDiff &lt;= 0) ? 0 : focusedCell.getRow() + rowDiff;\n        sm.clearAndSelect(row, tc);\n        setAnchor(row, tc);\n    }\n\n protected void setAnchor(int row, TableColumnBase col) {\n        setAnchor(row == -1 &amp;&amp; col == null ? null : getTablePosition(row, col));\n    }\n\npublic static &lt;T&gt; void setAnchor(Control control, T anchor, boolean isDefaultAnchor) {\n        if (control == null) return;\n        if (anchor == null) {\n            removeAnchor(control);\n        } else {\n            control.getProperties().put(ANCHOR_PROPERTY_KEY, anchor);\n            control.getProperties().put(IS_DEFAULT_ANCHOR_KEY, isDefaultAnchor);\n        }\n    }\n</code></pre>\n<p>It is up to you to take the decision of which TableView to use for your needs. If you need TableView2, then you need to somehow include the above code to your TableView2. At a basic level you can include the below one:</p>\n<pre><code>tableView2.addEventHandler(KeyEvent.KEY_PRESSED, e -&gt; {\n            int index = tableView2.getSelectionModel().getSelectedIndex();\n            if (e.getCode() == KeyCode.DOWN) {\n                if (index &lt; tableView2.getItems().size() - 1) {\n                    index++;\n                }\n            } else if (e.getCode() == KeyCode.UP) {\n                if (index &gt; 0) {\n                    index--;\n                }\n            }\n            tableView2.getSelectionModel().select(index);\n\n            // If I don't consume this event, the focus will move away to next control.\n            e.consume();\n        });\n</code></pre>\n<p>Below is a quick demo that demonstrates this solution on TableView2.\n<a href=\"https://i.stack.imgur.com/bjmiF.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bjmiF.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.StringProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.Priority;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\nimport org.controlsfx.control.tableview2.TableView2;\n\nimport java.util.stream.Stream;\n\npublic class TableView2Demo extends Application {\n    @Override\n    public void start(final Stage stage) throws Exception {\n        ObservableList&lt;Person&gt; persons = FXCollections.observableArrayList();\n        persons.add(new Person(&quot;Harry&quot;, &quot;John&quot;, &quot;LS&quot;));\n        persons.add(new Person(&quot;Mary&quot;, &quot;King&quot;, &quot;MS&quot;));\n        persons.add(new Person(&quot;Don&quot;, &quot;Bon&quot;, &quot;CAT&quot;));\n\n        VBox root = new VBox();\n        root.setSpacing(5);\n        root.setPadding(new Insets(5));\n\n        TableView&lt;Person&gt; tableView1 = new TableView&lt;&gt;();\n        tableView1.setId(&quot;TableView&quot;);\n\n        TableView2&lt;Person&gt; tableView2 = new TableView2&lt;&gt;();\n        tableView2.setId(&quot;TableView2&quot;);\n\n        Stream.of(tableView1, tableView2).forEach(tableView -&gt; {\n            TableColumn&lt;Person, String&gt; fnCol = new TableColumn&lt;&gt;(&quot;First Name&quot;);\n            fnCol.setCellValueFactory(param -&gt; param.getValue().firstNameProperty());\n\n            TableColumn&lt;Person, String&gt; lnCol = new TableColumn&lt;&gt;(&quot;Last Name&quot;);\n            lnCol.setCellValueFactory(param -&gt; param.getValue().lastNameProperty());\n\n            TableColumn&lt;Person, String&gt; cityCol = new TableColumn&lt;&gt;(&quot;City&quot;);\n            cityCol.setCellValueFactory(param -&gt; param.getValue().cityProperty());\n\n            fnCol.setPrefWidth(150);\n            lnCol.setPrefWidth(100);\n            cityCol.setPrefWidth(200);\n\n            tableView.getColumns().addAll(fnCol, lnCol, cityCol);\n            tableView.setItems(persons);\n            Label lbl = new Label(tableView.getId());\n            lbl.setMinHeight(30);\n            lbl.setAlignment(Pos.BOTTOM_LEFT);\n            lbl.setStyle(&quot;-fx-font-weight:bold;-fx-font-size:16px;&quot;);\n            root.getChildren().addAll(lbl, tableView);\n            VBox.setVgrow(tableView, Priority.ALWAYS);\n        });\n\n        // You need to add a handler to get focused when mouse clicked.\n        tableView2.addEventHandler(MouseEvent.MOUSE_CLICKED, e -&gt; tableView2.requestFocus());\n\n        // And another handler for row selection\n        tableView2.addEventHandler(KeyEvent.KEY_PRESSED, e -&gt; {\n            int index = tableView2.getSelectionModel().getSelectedIndex();\n            if (e.getCode() == KeyCode.DOWN) {\n                if (index &lt; tableView2.getItems().size() - 1) {\n                    index++;\n                }\n            } else if (e.getCode() == KeyCode.UP) {\n                if (index &gt; 0) {\n                    index--;\n                }\n            }\n            tableView2.getSelectionModel().select(index);\n\n            // If I don't consume this event, the focus will move away to next control.\n            e.consume();\n        });\n\n        Scene scene = new Scene(root, 500, 400);\n        stage.setScene(scene);\n        stage.setTitle(&quot;TableView2 Demo&quot;);\n        stage.show();\n    }\n\n    class Person {\n        private StringProperty firstName = new SimpleStringProperty();\n        private StringProperty lastName = new SimpleStringProperty();\n        private StringProperty city = new SimpleStringProperty();\n\n        public Person(String fn, String ln, String cty) {\n            setFirstName(fn);\n            setLastName(ln);\n            setCity(cty);\n        }\n\n        public String getFirstName() {\n            return firstName.get();\n        }\n\n        public StringProperty firstNameProperty() {\n            return firstName;\n        }\n\n        public void setFirstName(String firstName) {\n            this.firstName.set(firstName);\n        }\n\n        public String getLastName() {\n            return lastName.get();\n        }\n\n        public StringProperty lastNameProperty() {\n            return lastName;\n        }\n\n        public void setLastName(String lastName) {\n            this.lastName.set(lastName);\n        }\n\n        public String getCity() {\n            return city.get();\n        }\n\n        public StringProperty cityProperty() {\n            return city;\n        }\n\n        public void setCity(String city) {\n            this.city.set(city);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":149036,"reputation":405,"user_id":361227,"accept_rate":60,"display_name":"bobndrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76658199,"answer_count":2,"score":1,"last_activity_date":1689038749,"creation_date":1688379040,"question_id":76603768,"body_markdown":"I&#39;m using the TableView2 component from the library ControlsFX. In an simple example (see sourcecode below) the ArrowKey-Navigation in the table is gone after changing `import javafx.scene.control.TableView` to `import org.controlsfx.control.tableview2.TableView2`. \r\n\r\n# Done &#39;Research&#39; #\r\n\r\nI read in the JavaDocs that `TableView2` is a drop-in-replacement and so I&#39;m asking what I can do to bring back the functionality of the core-component. \r\n\r\n- The broken navigation is observable in the [ControlsFX Sampler][1] application as well. \r\n- Maybe unrelated: There is also an `SpreadsheetView` example which is using a different looking CellSelection-style. \r\n\r\n# Description of the problem # \r\n\r\nThe example code is from the Oracle-Tutorials, I just deleted some unnecessary stuff. \r\nTry mouseclicking a table cell and press the arrow-down key. The TableSelection is not moving one row down, but the whole Focus is traversed to the TextField.\r\n\r\n![2]\r\n\r\nI&#39;m using Windows 10 Pro 22H2, JDK corretto-17.0.7, JavaFX 20.0.1 and controlsfx-11.1.2\r\n\r\n## Example Code ##\r\n\r\nIf you change `new TableView2()` to `new TableView()` everything works as expected.  \r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.scene.Group;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.control.cell.PropertyValueFactory;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    import org.controlsfx.control.tableview2.TableView2;\r\n    \r\n    /**\r\n     * Reduced from https://docs.oracle.com/javafx/2/ui_controls/table-view.htm.\r\n     */\r\n    public class TableView2KeyboardNavigation extends Application\r\n    {\r\n      static class Main\r\n      {\r\n        public static void main( String[] args )\r\n        {\r\n          Application.launch( TableView2KeyboardNavigation.class, args );\r\n        }\r\n      }\r\n    \r\n      \r\n      private       TableView&lt;Person&gt;      table = new TableView2&lt;&gt;();\r\n      private final ObservableList&lt;Person&gt; data  =\r\n          FXCollections.observableArrayList(\r\n              new Person( &quot;Jacob&quot;, &quot;Smith&quot; ),\r\n              new Person( &quot;Isabella&quot;, &quot;Johnson&quot; ),\r\n              new Person( &quot;Ethan&quot;, &quot;Williams&quot; )\r\n          );\r\n    \r\n    \r\n      @Override\r\n      public void start( Stage stage )\r\n      {\r\n        final var scene = new Scene( new Group() );\r\n        stage.setTitle( &quot;TableView2 Sample&quot; );\r\n    \r\n        final var firstNameCol = new TableColumn( &quot;First Name&quot; );\r\n        firstNameCol.setCellValueFactory(\r\n            new PropertyValueFactory&lt;Person, String&gt;( &quot;firstName&quot; ) );\r\n        final var lastNameCol = new TableColumn( &quot;Last Name&quot; );\r\n        lastNameCol.setCellValueFactory(\r\n            new PropertyValueFactory&lt;Person, String&gt;( &quot;lastName&quot; ) );\r\n    \r\n        table.setItems( data );\r\n        table.getColumns().addAll( firstNameCol, lastNameCol );\r\n    \r\n        final var vbox = new VBox();\r\n        vbox.getChildren().addAll( table, new TextField( &quot;Focus lands here after ArrowDown-Key...&quot; ) );\r\n    \r\n        ( (Group) scene.getRoot() ).getChildren().addAll( vbox );\r\n        stage.setScene( scene );\r\n        stage.show();\r\n      }\r\n      \r\n      \r\n      public static class Person\r\n      {\r\n        private final SimpleStringProperty firstName;\r\n        private final SimpleStringProperty lastName;\r\n    \r\n        private Person( String fName, String lName )\r\n        {\r\n          this.firstName = new SimpleStringProperty( fName );\r\n          this.lastName = new SimpleStringProperty( lName );\r\n        }\r\n    \r\n        public String getFirstName()\r\n        {\r\n          return firstName.get();\r\n        }\r\n        public void setFirstName( String fName )\r\n        {\r\n          firstName.set( fName );\r\n        }\r\n    \r\n        public String getLastName()\r\n        {\r\n          return lastName.get();\r\n        }\r\n        public void setLastName( String fName )\r\n        {\r\n          lastName.set( fName );\r\n        }\r\n      }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://github.com/controlsfx/controlsfx/tree/master/fxsampler\r\n  [2]: https://i.stack.imgur.com/aEldA.png","title":"How do I get keyboard navigation for the SelectedRow in controlsfx.TableView2?","body":"<p>I'm using the TableView2 component from the library ControlsFX. In an simple example (see sourcecode below) the ArrowKey-Navigation in the table is gone after changing <code>import javafx.scene.control.TableView</code> to <code>import org.controlsfx.control.tableview2.TableView2</code>.</p>\n<h1>Done 'Research'</h1>\n<p>I read in the JavaDocs that <code>TableView2</code> is a drop-in-replacement and so I'm asking what I can do to bring back the functionality of the core-component.</p>\n<ul>\n<li>The broken navigation is observable in the <a href=\"https://github.com/controlsfx/controlsfx/tree/master/fxsampler\" rel=\"nofollow noreferrer\">ControlsFX Sampler</a> application as well.</li>\n<li>Maybe unrelated: There is also an <code>SpreadsheetView</code> example which is using a different looking CellSelection-style.</li>\n</ul>\n<h1>Description of the problem</h1>\n<p>The example code is from the Oracle-Tutorials, I just deleted some unnecessary stuff.\nTry mouseclicking a table cell and press the arrow-down key. The TableSelection is not moving one row down, but the whole Focus is traversed to the TextField.</p>\n<p><img src=\"https://i.stack.imgur.com/aEldA.png\" alt=\"2\" /></p>\n<p>I'm using Windows 10 Pro 22H2, JDK corretto-17.0.7, JavaFX 20.0.1 and controlsfx-11.1.2</p>\n<h2>Example Code</h2>\n<p>If you change <code>new TableView2()</code> to <code>new TableView()</code> everything works as expected.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\nimport org.controlsfx.control.tableview2.TableView2;\n\n/**\n * Reduced from https://docs.oracle.com/javafx/2/ui_controls/table-view.htm.\n */\npublic class TableView2KeyboardNavigation extends Application\n{\n  static class Main\n  {\n    public static void main( String[] args )\n    {\n      Application.launch( TableView2KeyboardNavigation.class, args );\n    }\n  }\n\n  \n  private       TableView&lt;Person&gt;      table = new TableView2&lt;&gt;();\n  private final ObservableList&lt;Person&gt; data  =\n      FXCollections.observableArrayList(\n          new Person( &quot;Jacob&quot;, &quot;Smith&quot; ),\n          new Person( &quot;Isabella&quot;, &quot;Johnson&quot; ),\n          new Person( &quot;Ethan&quot;, &quot;Williams&quot; )\n      );\n\n\n  @Override\n  public void start( Stage stage )\n  {\n    final var scene = new Scene( new Group() );\n    stage.setTitle( &quot;TableView2 Sample&quot; );\n\n    final var firstNameCol = new TableColumn( &quot;First Name&quot; );\n    firstNameCol.setCellValueFactory(\n        new PropertyValueFactory&lt;Person, String&gt;( &quot;firstName&quot; ) );\n    final var lastNameCol = new TableColumn( &quot;Last Name&quot; );\n    lastNameCol.setCellValueFactory(\n        new PropertyValueFactory&lt;Person, String&gt;( &quot;lastName&quot; ) );\n\n    table.setItems( data );\n    table.getColumns().addAll( firstNameCol, lastNameCol );\n\n    final var vbox = new VBox();\n    vbox.getChildren().addAll( table, new TextField( &quot;Focus lands here after ArrowDown-Key...&quot; ) );\n\n    ( (Group) scene.getRoot() ).getChildren().addAll( vbox );\n    stage.setScene( scene );\n    stage.show();\n  }\n  \n  \n  public static class Person\n  {\n    private final SimpleStringProperty firstName;\n    private final SimpleStringProperty lastName;\n\n    private Person( String fName, String lName )\n    {\n      this.firstName = new SimpleStringProperty( fName );\n      this.lastName = new SimpleStringProperty( lName );\n    }\n\n    public String getFirstName()\n    {\n      return firstName.get();\n    }\n    public void setFirstName( String fName )\n    {\n      firstName.set( fName );\n    }\n\n    public String getLastName()\n    {\n      return lastName.get();\n    }\n    public void setLastName( String fName )\n    {\n      lastName.set( fName );\n    }\n  }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":17083727,"reputation":21,"user_id":12361548,"display_name":"user12361548"},"score":0,"creation_date":1689037929,"post_id":76654233,"comment_id":135153472,"body_markdown":"In spring-boot with spring-data-jpa  application, the default transactionManager is JpaTransactionManager,  I can&#39;t substitute DataSourceTransactionManager for JpaTransactionManager.It will be error if i change the default JpaTransactionManager to DataSourceTransactionManager","body":"In spring-boot with spring-data-jpa  application, the default transactionManager is JpaTransactionManager,  I can&#39;t substitute DataSourceTransactionManager for JpaTransactionManager.It will be error if i change the default JpaTransactionManager to DataSourceTransactionManager"}],"answers":[{"comments":[{"owner":{"account_id":17083727,"reputation":21,"user_id":12361548,"display_name":"user12361548"},"score":0,"creation_date":1689038027,"post_id":76654331,"comment_id":135153481,"body_markdown":"In spring-boot with spring-data-jpa application, the default transactionManager is JpaTransactionManager, I can&#39;t substitute DataSourceTransactionManager for JpaTransactionManager.It will be error if i change the default JpaTransactionManager to DataSourceTransactionManage","body":"In spring-boot with spring-data-jpa application, the default transactionManager is JpaTransactionManager, I can&#39;t substitute DataSourceTransactionManager for JpaTransactionManager.It will be error if i change the default JpaTransactionManager to DataSourceTransactionManage"}],"tags":[],"owner":{"account_id":9505499,"reputation":158,"user_id":7065173,"display_name":"Michael Wurster"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688996402,"creation_date":1688996402,"answer_id":76654331,"question_id":76654233,"body_markdown":"have you tried exposing your implementation as a bean of type `TransactionManager`? \r\n\r\nFrom what I see in Spring Boot&#39;s `DataSourceTransactionManagerAutoConfiguration` class, the default transaction manager is only instantiated when there is no bean of type `TransactionManager` on the classpath. \r\n\r\nHowever, I haven&#39;t checked what other auto-config classes do, but I think it&#39;s worth a try :-)\r\n","title":"how to execute Statement before commit when use jpa","body":"<p>have you tried exposing your implementation as a bean of type <code>TransactionManager</code>?</p>\n<p>From what I see in Spring Boot's <code>DataSourceTransactionManagerAutoConfiguration</code> class, the default transaction manager is only instantiated when there is no bean of type <code>TransactionManager</code> on the classpath.</p>\n<p>However, I haven't checked what other auto-config classes do, but I think it's worth a try :-)</p>\n"}],"owner":{"account_id":17083727,"reputation":21,"user_id":12361548,"display_name":"user12361548"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689038500,"creation_date":1688995666,"question_id":76654233,"body_markdown":"I want to use PolarDB-X with jpa.\r\nbut I can not to use JpaTransactionManager.\r\n\r\nwhen use PolarDB-X with jdbc , it must be create TransactionManager like this.\r\n\r\n```\r\nimport java.sql.Connection;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport javax.sql.DataSource;\r\nimport org.springframework.jdbc.datasource.DataSourceTransactionManager;\r\nimport org.springframework.transaction.TransactionDefinition;\r\n\r\npublic class DrdsTransactionManager extends DataSourceTransactionManager {\r\n    public DrdsTransactionManager(DataSource dataSource) {\r\n        super(dataSource);\r\n    }\r\n\r\n    @Override\r\n    protected void prepareTransactionalConnection(Connection con, TransactionDefinition definition) throws SQLException {\r\n        try (Statement stmt = con.createStatement()) {\r\n            stmt.executeUpdate(&quot;SET drds_transaction_policy = &#39;2PC&#39;&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nthis PolarDB-X doc is here \r\n\r\nhttps://help.aliyun.com/apsara/enterprise/v_3_12_0_20200630/drds/user-guide/distributed-transactions-based-on-mysql-5-6.html?spm=a2c4g.14484438.10001.100\r\n\r\nbut I can not find how to set this with JpaTransactionManager.\r\n\r\nIn my application,if i change the default JpaTransactionManager to DataSourceTransactionManager, it can not be save anything. the TransactionManager is not work.\r\n\r\nare there some way to execute &quot;SET drds_transaction_policy = &#39;2PC&#39;&quot; in \r\nJpaTransactionManager when begin a transaction?\r\n\r\nAre there some body help me ?\r\n","title":"how to execute Statement before commit when use jpa","body":"<p>I want to use PolarDB-X with jpa.\nbut I can not to use JpaTransactionManager.</p>\n<p>when use PolarDB-X with jdbc , it must be create TransactionManager like this.</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport javax.sql.DataSource;\nimport org.springframework.jdbc.datasource.DataSourceTransactionManager;\nimport org.springframework.transaction.TransactionDefinition;\n\npublic class DrdsTransactionManager extends DataSourceTransactionManager {\n    public DrdsTransactionManager(DataSource dataSource) {\n        super(dataSource);\n    }\n\n    @Override\n    protected void prepareTransactionalConnection(Connection con, TransactionDefinition definition) throws SQLException {\n        try (Statement stmt = con.createStatement()) {\n            stmt.executeUpdate(&quot;SET drds_transaction_policy = '2PC'&quot;);\n        }\n    }\n}\n</code></pre>\n<p>this PolarDB-X doc is here</p>\n<p><a href=\"https://help.aliyun.com/apsara/enterprise/v_3_12_0_20200630/drds/user-guide/distributed-transactions-based-on-mysql-5-6.html?spm=a2c4g.14484438.10001.100\" rel=\"nofollow noreferrer\">https://help.aliyun.com/apsara/enterprise/v_3_12_0_20200630/drds/user-guide/distributed-transactions-based-on-mysql-5-6.html?spm=a2c4g.14484438.10001.100</a></p>\n<p>but I can not find how to set this with JpaTransactionManager.</p>\n<p>In my application,if i change the default JpaTransactionManager to DataSourceTransactionManager, it can not be save anything. the TransactionManager is not work.</p>\n<p>are there some way to execute &quot;SET drds_transaction_policy = '2PC'&quot; in\nJpaTransactionManager when begin a transaction?</p>\n<p>Are there some body help me ?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":12181645,"reputation":183,"user_id":14014537,"display_name":"Karsten Schnitter"},"score":0,"creation_date":1648135384,"post_id":71573832,"comment_id":126552634,"body_markdown":"This behaviour might be dependent on the partitions/tasks the events are routed in. Kafka Streams will create separate stores for each partition. If events A and B are not in the same partition, the window timestamp of A is not influenced by the B event. Can you elaborate on your setup with regards to that?","body":"This behaviour might be dependent on the partitions/tasks the events are routed in. Kafka Streams will create separate stores for each partition. If events A and B are not in the same partition, the window timestamp of A is not influenced by the B event. Can you elaborate on your setup with regards to that?"},{"owner":{"account_id":67793,"reputation":3092,"user_id":198164,"accept_rate":80,"display_name":"Eugene S"},"score":1,"creation_date":1648135876,"post_id":71573832,"comment_id":126552852,"body_markdown":"@KarstenSchnitter Session Windows are segregated by the event key. A session window will only close when a new event shows up for that session (so same key) with an event time &gt; inactivity gap + grace period.\n\nThrough experiments I found that the kafka partition is unimportant;  it&#39;s the key that determines which session window the event goes to, which in turn drives the stream time and closing behavior for that window.","body":"@KarstenSchnitter Session Windows are segregated by the event key. A session window will only close when a new event shows up for that session (so same key) with an event time &gt; inactivity gap + grace period.  Through experiments I found that the kafka partition is unimportant;  it&#39;s the key that determines which session window the event goes to, which in turn drives the stream time and closing behavior for that window."}],"answers":[{"tags":[],"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689036092,"creation_date":1689036092,"answer_id":76658079,"question_id":71573832,"body_markdown":"&gt; This will close the window with key B, but the window with key A will remain open. That is to say, when an event for a given key is received, only the stream time for the windows that have that key will advance. Is my understanding here correct?\r\n\r\nNot totally correct. Stream-time is a per-partition (not per-key concept). Thus, if A and B are in the same partition, the second B record would indeed close both windows. If B is on a different partitions, the window of A won&#39;t be closed though.\r\n\r\n&gt; If so, then this behavior is not exactly what I need. What I need is if I never see another event with key A then for the key A window to eventually close.\r\n\r\nIt should be save to assume, that there will be data in all partitions, and thus the window would close eventually.\r\n\r\n","title":"Kafka Streams Session Windows with Punctuator","body":"<blockquote>\n<p>This will close the window with key B, but the window with key A will remain open. That is to say, when an event for a given key is received, only the stream time for the windows that have that key will advance. Is my understanding here correct?</p>\n</blockquote>\n<p>Not totally correct. Stream-time is a per-partition (not per-key concept). Thus, if A and B are in the same partition, the second B record would indeed close both windows. If B is on a different partitions, the window of A won't be closed though.</p>\n<blockquote>\n<p>If so, then this behavior is not exactly what I need. What I need is if I never see another event with key A then for the key A window to eventually close.</p>\n</blockquote>\n<p>It should be save to assume, that there will be data in all partitions, and thus the window would close eventually.</p>\n"}],"owner":{"account_id":67793,"reputation":3092,"user_id":198164,"accept_rate":80,"display_name":"Eugene S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689036092,"creation_date":1647959448,"question_id":71573832,"body_markdown":"I&#39;m building a Kafka Streams application where I want to make use of Session Windows.\r\n\r\nSay my session is configured as follows:\r\n\r\n```java\r\n// Inactivity gap is 5 seconds\r\n// Grace period is 1 second\r\nDuration inactivityGapDuration = Duration.ofSeconds(5);\r\nDuration graceDuration         = Duration.ofSeconds(1);\r\nKStream&lt;Windowed&lt;String&gt;, EventData&gt; windowedListKStream = groupedStream.windowedBy(\r\n            SessionWindows.ofInactivityGapAndGrace(inactivityGapDuration, graceDuration))\r\n    .aggregate(...)\r\n    .suppress(Suppressed.untilWindowCloses(BufferConfig.unbounded()))\r\n    .toStream();\r\n```\r\n\r\nAnd given the following stream events:\r\n\r\n|Event Key | Time\r\n|----------| ----\r\n| A        | 10\r\n| B        | 12\r\n\r\nBased on reading the docs and experiments I expect this will create 2 session windows: one with key **A** and one with key **B**.\r\n\r\nNow say I receive this next event:\r\n\r\n|Event Key | Time\r\n|----------| ----\r\n| B        | 20\r\n\r\nThis will close the window with key **B**, *but the window with key A will remain open*. That is to say, when an event for a given key is received, only the stream time for the windows that have that key will advance. Is my understanding here correct?\r\n\r\nIf so, then this behavior is not exactly what I need. What I need is if I never see another event with key **A** then for the key **A** window to *eventually* close.\r\n\r\nI think this is where the Punctuator can come in. However, if I read the docs correctly then I would need to basically re-implement the Session Window logic using the Processor API if I want to add a Punctuator. As far as I can tell I can&#39;t inject a Punctuator event into the session window DSL implementation in order to move the stream time along.\r\n\r\nIf all of the above is correct, then this seems like a big lift for what seems like a simple operation. Am I missing some other feature that would make this a simpler implementation?\r\n\r\nThank you!","title":"Kafka Streams Session Windows with Punctuator","body":"<p>I'm building a Kafka Streams application where I want to make use of Session Windows.</p>\n<p>Say my session is configured as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Inactivity gap is 5 seconds\n// Grace period is 1 second\nDuration inactivityGapDuration = Duration.ofSeconds(5);\nDuration graceDuration         = Duration.ofSeconds(1);\nKStream&lt;Windowed&lt;String&gt;, EventData&gt; windowedListKStream = groupedStream.windowedBy(\n            SessionWindows.ofInactivityGapAndGrace(inactivityGapDuration, graceDuration))\n    .aggregate(...)\n    .suppress(Suppressed.untilWindowCloses(BufferConfig.unbounded()))\n    .toStream();\n</code></pre>\n<p>And given the following stream events:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Event Key</th>\n<th>Time</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>A</td>\n<td>10</td>\n</tr>\n<tr>\n<td>B</td>\n<td>12</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Based on reading the docs and experiments I expect this will create 2 session windows: one with key <strong>A</strong> and one with key <strong>B</strong>.</p>\n<p>Now say I receive this next event:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Event Key</th>\n<th>Time</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>B</td>\n<td>20</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>This will close the window with key <strong>B</strong>, <em>but the window with key A will remain open</em>. That is to say, when an event for a given key is received, only the stream time for the windows that have that key will advance. Is my understanding here correct?</p>\n<p>If so, then this behavior is not exactly what I need. What I need is if I never see another event with key <strong>A</strong> then for the key <strong>A</strong> window to <em>eventually</em> close.</p>\n<p>I think this is where the Punctuator can come in. However, if I read the docs correctly then I would need to basically re-implement the Session Window logic using the Processor API if I want to add a Punctuator. As far as I can tell I can't inject a Punctuator event into the session window DSL implementation in order to move the stream time along.</p>\n<p>If all of the above is correct, then this seems like a big lift for what seems like a simple operation. Am I missing some other feature that would make this a simpler implementation?</p>\n<p>Thank you!</p>\n"},{"tags":["java","android","whatsapp"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1677673714,"post_id":75603709,"comment_id":133383402,"body_markdown":"What is WhatsApp click?","body":"What is WhatsApp click?"},{"owner":{"account_id":25662530,"reputation":31,"user_id":19428099,"display_name":"Philip Franklin"},"score":0,"creation_date":1677673971,"post_id":75603709,"comment_id":133383491,"body_markdown":"the link which can instantly start a chat with any number available on WhatsApp.","body":"the link which can instantly start a chat with any number available on WhatsApp."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1677674336,"post_id":75603709,"comment_id":133383615,"body_markdown":"Where do you see that link?","body":"Where do you see that link?"},{"owner":{"account_id":25662530,"reputation":31,"user_id":19428099,"display_name":"Philip Franklin"},"score":0,"creation_date":1677674475,"post_id":75603709,"comment_id":133383665,"body_markdown":"https://faq.whatsapp.com/5913398998672934 - this will help","body":"<a href=\"https://faq.whatsapp.com/5913398998672934\" rel=\"nofollow noreferrer\">faq.whatsapp.com/5913398998672934</a> - this will help"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1677674552,"post_id":75603709,"comment_id":133383690,"body_markdown":"Does not help as we do not follow links. Just answer.","body":"Does not help as we do not follow links. Just answer."},{"owner":{"account_id":1589881,"reputation":912,"user_id":1473454,"display_name":"Konrad Talik"},"score":0,"creation_date":1677776525,"post_id":75603709,"comment_id":133408741,"body_markdown":"From what I read, I think it would be better for you to specify more, why would you like to send this PDF file via WhatsApp? How is this PDF generated and why should it be delivered to recipient of &quot;click to chat&quot;?","body":"From what I read, I think it would be better for you to specify more, why would you like to send this PDF file via WhatsApp? How is this PDF generated and why should it be delivered to recipient of &quot;click to chat&quot;?"},{"owner":{"account_id":25662530,"reputation":31,"user_id":19428099,"display_name":"Philip Franklin"},"score":0,"creation_date":1678159187,"post_id":75603709,"comment_id":133475338,"body_markdown":"I am generating a ticket from my website. The website will  take its screen shot and then I wanted to send this image or pdf with WhatsApp click to chat feature.","body":"I am generating a ticket from my website. The website will  take its screen shot and then I wanted to send this image or pdf with WhatsApp click to chat feature."}],"answers":[{"tags":[],"owner":{"account_id":4879257,"reputation":9602,"user_id":3933502,"accept_rate":67,"display_name":"quemeful"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689035559,"creation_date":1689035559,"answer_id":76658063,"question_id":75603709,"body_markdown":"No, only text is supported.\r\n\r\nLearn more: https://faq.whatsapp.com/5913398998672934\r\n","title":"Can we send media or files from WhatsApp click to chat?","body":"<p>No, only text is supported.</p>\n<p>Learn more: <a href=\"https://faq.whatsapp.com/5913398998672934\" rel=\"nofollow noreferrer\">https://faq.whatsapp.com/5913398998672934</a></p>\n"}],"owner":{"account_id":25662530,"reputation":31,"user_id":19428099,"display_name":"Philip Franklin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689035559,"creation_date":1677673454,"question_id":75603709,"body_markdown":"I am able to send text messages and links with WhatsApp click to chat.\r\n\r\nI&#39;ve researched a lot about this but I&#39;m unable to figure out how to send pdf or other media as messages to people with WhatsApp click to chat.\r\n\r\nhttps://wa.me/44XXXXXXXXXX?text=Hello%World\r\n\r\nI&#39;ve seen this implementation in an app. The app makes pdf of the context and redirects to the WhatsApp app and opens a specific contact with that pdf attached.\r\n\r\nBut I am not sure that whether that app is using some kind of api or not.\r\n\r\nI just wanted to know from experts that is it possible to send media files/ documents with WhatsApp click to chat? \r\n\r\nhttps://wa.me/44XXXXXXXXXX?text=Hello%World?data=...\r\n\r\nhttps://wa.me/44XXXXXXXXXX?text=Hello%World?image=...\r\n\r\n??","title":"Can we send media or files from WhatsApp click to chat?","body":"<p>I am able to send text messages and links with WhatsApp click to chat.</p>\n<p>I've researched a lot about this but I'm unable to figure out how to send pdf or other media as messages to people with WhatsApp click to chat.</p>\n<p><a href=\"https://wa.me/44XXXXXXXXXX?text=Hello%World\" rel=\"nofollow noreferrer\">https://wa.me/44XXXXXXXXXX?text=Hello%World</a></p>\n<p>I've seen this implementation in an app. The app makes pdf of the context and redirects to the WhatsApp app and opens a specific contact with that pdf attached.</p>\n<p>But I am not sure that whether that app is using some kind of api or not.</p>\n<p>I just wanted to know from experts that is it possible to send media files/ documents with WhatsApp click to chat?</p>\n<p><a href=\"https://wa.me/44XXXXXXXXXX?text=Hello%World?data=..\" rel=\"nofollow noreferrer\">https://wa.me/44XXXXXXXXXX?text=Hello%World?data=..</a>.</p>\n<p><a href=\"https://wa.me/44XXXXXXXXXX?text=Hello%World?image=..\" rel=\"nofollow noreferrer\">https://wa.me/44XXXXXXXXXX?text=Hello%World?image=..</a>.</p>\n<p>??</p>\n"},{"tags":["java","jvm","yocto","openembedded"],"answers":[{"tags":[],"owner":{"account_id":23124922,"reputation":1,"user_id":17230866,"display_name":"visibog"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689033633,"creation_date":1689033633,"answer_id":76657980,"question_id":62000944,"body_markdown":"Hi Are you tried to skip file deps to jvm recipe\r\n\r\n    SKIP_FILEDEPS:${PN} = &#39;1&#39;\r\n\r\n ","title":"Installing jvm files using Yocto","body":"<p>Hi Are you tried to skip file deps to jvm recipe</p>\n<pre><code>SKIP_FILEDEPS:${PN} = '1'\n</code></pre>\n"}],"owner":{"account_id":179991,"reputation":1445,"user_id":413023,"accept_rate":24,"display_name":"Milan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689033633,"creation_date":1590403984,"question_id":62000944,"body_markdown":"Trying to install JVM files into rootfs but seeing following errors:\r\n\r\n    --&gt; Starting dependency resolution\r\n    --&gt; Finished dependency resolution\r\n    Error: \r\n    Problem: conflicting requests\r\n    - nothing provides libgif.so.7()(64bit) needed by jvm-1.0-r0.aarch64\r\n    - nothing provides libjpeg.so.62()(64bit) needed by jvm-1.0-r0.aarch64\r\n    - nothing provides libjpeg.so.62(LIBJPEG_6.2)(64bit) needed by jvm-1.0-r0.aarch64\r\n     (try to add &#39;--skip-broken&#39; to skip uninstallable packages or &#39;--nobest&#39; to use not only best c \r\n     candidate packages) \r\n     ERROR: core-image-minimal-1.0-r0 do_rootfs: \r\n     ERROR: core-image-minimal-1.0-r0 do_rootfs: Function failed: do_rootfs\r\n\r\nIts just custom recipe file jvm.bb which compiled well but while installing into rootfs seeing about issue.\r\n\r\nIs there a workaround for it ?","title":"Installing jvm files using Yocto","body":"<p>Trying to install JVM files into rootfs but seeing following errors:</p>\n\n<pre><code>--&gt; Starting dependency resolution\n--&gt; Finished dependency resolution\nError: \nProblem: conflicting requests\n- nothing provides libgif.so.7()(64bit) needed by jvm-1.0-r0.aarch64\n- nothing provides libjpeg.so.62()(64bit) needed by jvm-1.0-r0.aarch64\n- nothing provides libjpeg.so.62(LIBJPEG_6.2)(64bit) needed by jvm-1.0-r0.aarch64\n (try to add '--skip-broken' to skip uninstallable packages or '--nobest' to use not only best c \n candidate packages) \n ERROR: core-image-minimal-1.0-r0 do_rootfs: \n ERROR: core-image-minimal-1.0-r0 do_rootfs: Function failed: do_rootfs\n</code></pre>\n\n<p>Its just custom recipe file jvm.bb which compiled well but while installing into rootfs seeing about issue.</p>\n\n<p>Is there a workaround for it ?</p>\n"},{"tags":["java","macos","intellij-idea","lwjgl"],"comments":[{"owner":{"account_id":7756158,"reputation":884,"user_id":5870394,"display_name":"CConard96"},"score":1,"creation_date":1466632476,"post_id":37978702,"comment_id":63403737,"body_markdown":"Possible duplicate of [GLFW Window Crashing Even With &quot;-XstartOnFirstThread&quot; In VM Arguments](http://stackoverflow.com/questions/37333723/glfw-window-crashing-even-with-xstartonfirstthread-in-vm-arguments)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/37333723/glfw-window-crashing-even-with-xstartonfirstthread-in-vm-arguments\">GLFW Window Crashing Even With &quot;-XstartOnFirstThread&quot; In VM Arguments</a>"},{"owner":{"account_id":7756158,"reputation":884,"user_id":5870394,"display_name":"CConard96"},"score":0,"creation_date":1466632731,"post_id":37978702,"comment_id":63403836,"body_markdown":"How can I be more specific? This issue was solved in another post, and the answer I provided there is pretty self explanatory.","body":"How can I be more specific? This issue was solved in another post, and the answer I provided there is pretty self explanatory."},{"owner":{"account_id":6836822,"reputation":65,"user_id":5258441,"accept_rate":83,"display_name":"Boo"},"score":0,"creation_date":1466633687,"post_id":37978702,"comment_id":63404128,"body_markdown":"I changed it to run it all on the main thread. I have it exactly like they show it here: https://www.lwjgl.org/guide still the same error","body":"I changed it to run it all on the main thread. I have it exactly like they show it here: <a href=\"https://www.lwjgl.org/guide\" rel=\"nofollow noreferrer\">lwjgl.org/guide</a> still the same error"},{"owner":{"account_id":3771489,"reputation":5627,"user_id":3133545,"accept_rate":75,"display_name":"Onur"},"score":0,"creation_date":1466634333,"post_id":37978702,"comment_id":63404353,"body_markdown":"@NikBabinchuk Did you notice **&quot;WARNING: The code below requires the latest nightly build to compile and run.&quot;** at that link? I dont think you are using the lastest nightly build.","body":"@NikBabinchuk Did you notice <b>&quot;WARNING: The code below requires the latest nightly build to compile and run.&quot;</b> at that link? I dont think you are using the lastest nightly build."},{"owner":{"account_id":6836822,"reputation":65,"user_id":5258441,"accept_rate":83,"display_name":"Boo"},"score":0,"creation_date":1466634861,"post_id":37978702,"comment_id":63404494,"body_markdown":"So whats the f&#39;n solution? I&#39;ve changed it back to the code above, got rid of the thread I&#39;ve created and am running everything on the main thread. Still get the same error.....","body":"So whats the f&#39;n solution? I&#39;ve changed it back to the code above, got rid of the thread I&#39;ve created and am running everything on the main thread. Still get the same error....."},{"owner":{"account_id":6836822,"reputation":65,"user_id":5258441,"accept_rate":83,"display_name":"Boo"},"score":0,"creation_date":1466634960,"post_id":37978702,"comment_id":63404521,"body_markdown":"Can someone please post a way they would write that code correctly?","body":"Can someone please post a way they would write that code correctly?"},{"owner":{"account_id":3771489,"reputation":5627,"user_id":3133545,"accept_rate":75,"display_name":"Onur"},"score":0,"creation_date":1466635425,"post_id":37978702,"comment_id":63404662,"body_markdown":"@NikBabinchuk how about a full tutorial? [Lightweight Java Game Library 3 Tutorial](https://github.com/SilverTiger/lwjgl3-tutorial/wiki) And a book? [lwjglbook](https://github.com/lwjglgamedev/lwjglbook)","body":"@NikBabinchuk how about a full tutorial? <a href=\"https://github.com/SilverTiger/lwjgl3-tutorial/wiki\" rel=\"nofollow noreferrer\">Lightweight Java Game Library 3 Tutorial</a> And a book? <a href=\"https://github.com/lwjglgamedev/lwjglbook\" rel=\"nofollow noreferrer\">lwjglbook</a>"},{"owner":{"account_id":7756158,"reputation":884,"user_id":5870394,"display_name":"CConard96"},"score":0,"creation_date":1466637127,"post_id":37978702,"comment_id":63405158,"body_markdown":"As long as you still have the -XstartOnFirstThread flag, the code on lwjgl.org/guide should work just fine. Also, relooking at your post, it isn&#39;t supposed to be a Program argument, but a VM Argument (Or whatever IntelliJ calls it).","body":"As long as you still have the -XstartOnFirstThread flag, the code on lwjgl.org/guide should work just fine. Also, relooking at your post, it isn&#39;t supposed to be a Program argument, but a VM Argument (Or whatever IntelliJ calls it)."},{"owner":{"account_id":6836822,"reputation":65,"user_id":5258441,"accept_rate":83,"display_name":"Boo"},"score":0,"creation_date":1466642671,"post_id":37978702,"comment_id":63406548,"body_markdown":"Finally fixed it. The -XstartOnFirstThread needed to be in the VM Options section in Intellij and it works with the lwjgl.org/guide code....","body":"Finally fixed it. The -XstartOnFirstThread needed to be in the VM Options section in Intellij and it works with the lwjgl.org/guide code...."}],"answers":[{"tags":[],"owner":{"account_id":3771489,"reputation":5627,"user_id":3133545,"accept_rate":75,"display_name":"Onur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466632525,"creation_date":1466632525,"answer_id":37978932,"question_id":37978702,"body_markdown":"The exception you got is very clear about the issue, your `init()` method which calls `glfwCreateWindow()` to create `GLFW Window` should be called from a `main thread`. So make your `init()` method public and remove the `init();` call inside the `run()` method. Instead change your main method to this;\r\n\r\n    public static void main(String[] args){\r\n       Main main = new Main();\r\n       main.init();\r\n       main.start();\r\n    }","title":"GLFW engine and the main thread issue IntelliJ","body":"<p>The exception you got is very clear about the issue, your <code>init()</code> method which calls <code>glfwCreateWindow()</code> to create <code>GLFW Window</code> should be called from a <code>main thread</code>. So make your <code>init()</code> method public and remove the <code>init();</code> call inside the <code>run()</code> method. Instead change your main method to this;</p>\n\n<pre><code>public static void main(String[] args){\n   Main main = new Main();\n   main.init();\n   main.start();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2181695,"reputation":321,"user_id":1931020,"display_name":"AlexZenadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1495727830,"creation_date":1495727830,"answer_id":44184837,"question_id":37978702,"body_markdown":"I met the same error with Intellij 2017.1.3; mac os 10.12.4; lwjgl-release-3.1\r\n\r\nIt solved by click Menu - Run -&gt; Edit Configurations... and then add the parameter -XstartOnFirstThread to the text box beside VM options:\r\n\r\nScreen print:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GLO1Y.png","title":"GLFW engine and the main thread issue IntelliJ","body":"<p>I met the same error with Intellij 2017.1.3; mac os 10.12.4; lwjgl-release-3.1</p>\n\n<p>It solved by click Menu - Run -> Edit Configurations... and then add the parameter -XstartOnFirstThread to the text box beside VM options:</p>\n\n<p>Screen print:\n<a href=\"https://i.stack.imgur.com/GLO1Y.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GLO1Y.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":1336763,"reputation":843,"user_id":1279329,"display_name":"Denis Rudov"},"score":0,"creation_date":1684257490,"post_id":69930613,"comment_id":134490889,"body_markdown":"&#128070;&#127995; this answer is more relevant to the latest version of Android Studio","body":"👆🏻 this answer is more relevant to the latest version of Android Studio"}],"tags":[],"owner":{"account_id":5304825,"reputation":464,"user_id":4382595,"display_name":"deyanm"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1636643466,"creation_date":1636643466,"answer_id":69930613,"question_id":37978702,"body_markdown":"For those with missing VM options, this field is hidden, here:\r\n\r\nRun -&gt; Edit Configurations... -&gt; Modify options dropdown -&gt; Add VM options -&gt; -XstartOnFirstThread\r\n\r\n[![screen print][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AROhu.png","title":"GLFW engine and the main thread issue IntelliJ","body":"<p>For those with missing VM options, this field is hidden, here:</p>\n<p>Run -&gt; Edit Configurations... -&gt; Modify options dropdown -&gt; Add VM options -&gt; -XstartOnFirstThread</p>\n<p><a href=\"https://i.stack.imgur.com/AROhu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AROhu.png\" alt=\"screen print\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1296863,"reputation":879,"user_id":1458638,"accept_rate":80,"display_name":"Donald.McLean"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689032077,"creation_date":1689032077,"answer_id":76657903,"question_id":37978702,"body_markdown":"If you&#39;re using the build.gradle file built the The Initializer, you can add this section, to specify the Java command line option:\r\n\r\n    application {\r\n        applicationDefaultJvmArgs = [&#39;-XstartOnFirstThread&#39;]\r\n    }\r\n\r\n","title":"GLFW engine and the main thread issue IntelliJ","body":"<p>If you're using the build.gradle file built the The Initializer, you can add this section, to specify the Java command line option:</p>\n<pre><code>application {\n    applicationDefaultJvmArgs = ['-XstartOnFirstThread']\n}\n</code></pre>\n"}],"owner":{"account_id":6836822,"reputation":65,"user_id":5258441,"accept_rate":83,"display_name":"Boo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5406,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":4,"score":5,"last_activity_date":1689032077,"creation_date":1466631427,"question_id":37978702,"body_markdown":"I am using a Mac OS x. My IDE is Intellij. For some reason I get an error when trying to run this code. The code is an lwjgl game engine.\r\n\r\n    import org.lwjgl.glfw.*;\r\n    import org.lwjgl.opengl.*;\r\n\r\n    import static org.lwjgl.glfw.GLFW.*;\r\n    import static org.lwjgl.opengl.GL11.*;\r\n    import static org.lwjgl.system.MemoryUtil.*;\r\n    import static org.lwjgl.glfw.Callbacks.*;\r\n    import org.lwjgl.*;\r\n\r\n    import java.awt.*;\r\n    import java.util.*;\r\n    import java.text.DateFormat;\r\n    import java.applet.Applet;\r\n\r\n    public class Main implements Runnable{\r\n\r\n    private int width = 1280;\r\n    private int height =720;\r\n    private String title = &quot;Flappy&quot;;\r\n\r\n    private boolean running = false;\r\n    private Thread thread;\r\n    private long window;\r\n\r\n    public void start(){\r\n        running = true;\r\n\r\n        thread = new Thread(this, &quot;Display&quot;);\r\n        //this will call the run method that we created below by using our implemented Runnable\r\n        thread.start();\r\n    }\r\n\r\n    public void run(){\r\n        init();\r\n        running = true;\r\n          while(running){\r\n            update();\r\n            render();\r\n            if(glfwWindowShouldClose(window)){\r\n                running = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    //init initializes all of our stuff\r\n    private void init(){\r\n\r\n        if(!glfwInit()){\r\n            throw new IllegalStateException(&quot;Unable to initialize GLFW YOOO&quot;);\r\n        }\r\n\r\n        // Configure our window\r\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE); // the window will stay hidden after creation\r\n        glfwWindowHint(GLFW_RESIZABLE, GLFW_TRUE); // the window will be resizable\r\n\r\n        window = glfwCreateWindow(width, height, title, NULL, NULL);\r\n\r\n        if(window == NULL){\r\n            throw new RuntimeException(&quot;Failed to create the GLFW window&quot;);\r\n        }\r\n\r\n\r\n        GLFWVidMode vidmode = glfwGetVideoMode(glfwGetPrimaryMonitor());\r\n        glfwSetWindowPos(window, (vidmode.width() - width) / 2, (vidmode.height() - height) / 2);\r\n        // Make the OpenGL context current\r\n        glfwMakeContextCurrent(window);\r\n        // Enable v-sync\r\n        glfwSwapInterval(1);\r\n\r\n        // Make the window visible\r\n        glfwShowWindow(window);\r\n\r\n    }\r\n\r\n\r\n\r\n    public void update(){\r\n        glfwPollEvents();\r\n    }\r\n\r\n    public void render(){\r\n        glfwSwapBuffers(window);\r\n    }\r\n\r\n\r\n    public static void main(String[] args){\r\n        new Main().start();\r\n    }\r\n    }\r\nReading some posts I tried adding -XstartOnFirstThread to Edit Configure and program argument but that didn&#39;t help. My error if below. If anyone could help, thanks... Again using a Mac with Intellij. The error is added below: \r\n\r\n    Caused by: java.lang.IllegalStateException: GLFW windows may only be created on the main thread and that thread must be the first thread in the process. Please run the JVM with -XstartOnFirstThread. For offscreen rendering, make sure another window toolkit (e.g. AWT or JavaFX) is initialized before GLFW.\r\n\r\n","title":"GLFW engine and the main thread issue IntelliJ","body":"<p>I am using a Mac OS x. My IDE is Intellij. For some reason I get an error when trying to run this code. The code is an lwjgl game engine.</p>\n<pre><code>import org.lwjgl.glfw.*;\nimport org.lwjgl.opengl.*;\n\nimport static org.lwjgl.glfw.GLFW.*;\nimport static org.lwjgl.opengl.GL11.*;\nimport static org.lwjgl.system.MemoryUtil.*;\nimport static org.lwjgl.glfw.Callbacks.*;\nimport org.lwjgl.*;\n\nimport java.awt.*;\nimport java.util.*;\nimport java.text.DateFormat;\nimport java.applet.Applet;\n\npublic class Main implements Runnable{\n\nprivate int width = 1280;\nprivate int height =720;\nprivate String title = &quot;Flappy&quot;;\n\nprivate boolean running = false;\nprivate Thread thread;\nprivate long window;\n\npublic void start(){\n    running = true;\n\n    thread = new Thread(this, &quot;Display&quot;);\n    //this will call the run method that we created below by using our implemented Runnable\n    thread.start();\n}\n\npublic void run(){\n    init();\n    running = true;\n      while(running){\n        update();\n        render();\n        if(glfwWindowShouldClose(window)){\n            running = false;\n        }\n    }\n}\n\n//init initializes all of our stuff\nprivate void init(){\n\n    if(!glfwInit()){\n        throw new IllegalStateException(&quot;Unable to initialize GLFW YOOO&quot;);\n    }\n\n    // Configure our window\n    glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE); // the window will stay hidden after creation\n    glfwWindowHint(GLFW_RESIZABLE, GLFW_TRUE); // the window will be resizable\n\n    window = glfwCreateWindow(width, height, title, NULL, NULL);\n\n    if(window == NULL){\n        throw new RuntimeException(&quot;Failed to create the GLFW window&quot;);\n    }\n\n\n    GLFWVidMode vidmode = glfwGetVideoMode(glfwGetPrimaryMonitor());\n    glfwSetWindowPos(window, (vidmode.width() - width) / 2, (vidmode.height() - height) / 2);\n    // Make the OpenGL context current\n    glfwMakeContextCurrent(window);\n    // Enable v-sync\n    glfwSwapInterval(1);\n\n    // Make the window visible\n    glfwShowWindow(window);\n\n}\n\n\n\npublic void update(){\n    glfwPollEvents();\n}\n\npublic void render(){\n    glfwSwapBuffers(window);\n}\n\n\npublic static void main(String[] args){\n    new Main().start();\n}\n}\n</code></pre>\n<p>Reading some posts I tried adding -XstartOnFirstThread to Edit Configure and program argument but that didn't help. My error if below. If anyone could help, thanks... Again using a Mac with Intellij. The error is added below:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: GLFW windows may only be created on the main thread and that thread must be the first thread in the process. Please run the JVM with -XstartOnFirstThread. For offscreen rendering, make sure another window toolkit (e.g. AWT or JavaFX) is initialized before GLFW.\n</code></pre>\n"},{"tags":["java","swing","nullpointerexception","jdatechooser"],"answers":[{"comments":[{"owner":{"account_id":28989514,"reputation":11,"user_id":22205606,"display_name":"Pitergann"},"score":0,"creation_date":1689021019,"post_id":76656954,"comment_id":135151620,"body_markdown":"Alright thanks for the Help didn&#180;t new that","body":"Alright thanks for the Help didn&#180;t new that"}],"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689019156,"creation_date":1689019156,"answer_id":76656954,"question_id":76656779,"body_markdown":"In this line:\r\n\r\n    Termin.setDate(sdl.format(dateChooser.getDate()));\r\n\r\ndateChooser.getDate() returns null because because no date has yet been selected. You need to detect when user has changed the date. You should use code as in this SO: https://stackoverflow.com/questions/4156305/is-it-possible-to-detect-a-date-change-on-a-jcalendar-jdatechooser-field\r\n\r\nIt should look something like:\r\n\r\n    dateChooser.getDateEditor().addPropertyChangeListener(\r\n        new PropertyChangeListener() {\r\n            @Override\r\n            public void propertyChange(PropertyChangeEvent e) {\r\n               if (&quot;date&quot;.equals(e.getPropertyName())) {\r\n                    java.util.Date date = (java.util.Date)e.getNewValue();\r\n                    Termin.setDate(sdl.format(date));\r\n                }\r\n            }\r\n        }\r\n    );","title":"Date Must not be null","body":"<p>In this line:</p>\n<pre><code>Termin.setDate(sdl.format(dateChooser.getDate()));\n</code></pre>\n<p>dateChooser.getDate() returns null because because no date has yet been selected. You need to detect when user has changed the date. You should use code as in this SO: <a href=\"https://stackoverflow.com/questions/4156305/is-it-possible-to-detect-a-date-change-on-a-jcalendar-jdatechooser-field\">Is it possible to detect a date change on a JCalendar JDateChooser field?</a></p>\n<p>It should look something like:</p>\n<pre><code>dateChooser.getDateEditor().addPropertyChangeListener(\n    new PropertyChangeListener() {\n        @Override\n        public void propertyChange(PropertyChangeEvent e) {\n           if (&quot;date&quot;.equals(e.getPropertyName())) {\n                java.util.Date date = (java.util.Date)e.getNewValue();\n                Termin.setDate(sdl.format(date));\n            }\n        }\n    }\n);\n</code></pre>\n"}],"owner":{"account_id":28989514,"reputation":11,"user_id":22205606,"display_name":"Pitergann"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1689031151,"accepted_answer_id":76656954,"answer_count":1,"score":0,"last_activity_date":1689030989,"creation_date":1689017515,"question_id":76656779,"body_markdown":"I want to use the DateChooser in my application. I have already installed and implemented everything in my code and there are no compilation errors, but when I try to run the code the console shows an error that, &quot;Date Must not be Null&quot;.  What am I doing wrong? Do I have to implement a &quot;base&quot; date first?\r\n\r\n\r\n```\r\nkalender = new JPanel();\r\nkalender.setBackground(new Color(135, 206, 235));\r\nkalender.setBounds(0, 0, 506, 250);\r\nLayeredPane.add(kalender);\r\nkalender.setLayout(null);\r\n\t\r\nTermin = new Termin();\r\n\t\r\nSimpleDateFormat sdl = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\nJDateChooser dateChooser = new JDateChooser();\r\ndateChooser.setBounds(169, 119, 70, 20);\r\nTermin.setDate(sdl.format(dateChooser.getDate())); // the erro must be here because with out this     \r\nkalender.add(dateChooser);                          //line everything works\r\nSystem.out.println(Termin);\r\n\t\r\nJButton btnNext3 = new JButton(&quot;Next&quot;);\r\nbtnNext3.setBounds(215, 200, 70, 20);\r\nkalender.add(btnNext3);\r\nbtnNext3.addActionListener(new ActionListener() {\r\n\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tLayeredPane.moveToFront(kontakt);\r\n\t\t\tkalender.removeAll();\r\n\t\t}\r\n\t\t\r\n\t});\r\n```\r\n\r\n\r\nSo I have a separate Class &quot;Termin&quot; to define all the attributes of an appointment, and I want to set the attributes date to whatever the user chooses in the Date Chooser.\r\n\r\nI have tried to set the date in the attribute by hard coding it, but then it would not change when the user makes a selection with the date chooser.\r\n","title":"Date Must not be null","body":"<p>I want to use the DateChooser in my application. I have already installed and implemented everything in my code and there are no compilation errors, but when I try to run the code the console shows an error that, &quot;Date Must not be Null&quot;.  What am I doing wrong? Do I have to implement a &quot;base&quot; date first?</p>\n<pre><code>kalender = new JPanel();\nkalender.setBackground(new Color(135, 206, 235));\nkalender.setBounds(0, 0, 506, 250);\nLayeredPane.add(kalender);\nkalender.setLayout(null);\n    \nTermin = new Termin();\n    \nSimpleDateFormat sdl = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\nJDateChooser dateChooser = new JDateChooser();\ndateChooser.setBounds(169, 119, 70, 20);\nTermin.setDate(sdl.format(dateChooser.getDate())); // the erro must be here because with out this     \nkalender.add(dateChooser);                          //line everything works\nSystem.out.println(Termin);\n    \nJButton btnNext3 = new JButton(&quot;Next&quot;);\nbtnNext3.setBounds(215, 200, 70, 20);\nkalender.add(btnNext3);\nbtnNext3.addActionListener(new ActionListener() {\n\n        public void actionPerformed(ActionEvent e) {\n            LayeredPane.moveToFront(kontakt);\n            kalender.removeAll();\n        }\n        \n    });\n</code></pre>\n<p>So I have a separate Class &quot;Termin&quot; to define all the attributes of an appointment, and I want to set the attributes date to whatever the user chooses in the Date Chooser.</p>\n<p>I have tried to set the date in the attribute by hard coding it, but then it would not change when the user makes a selection with the date chooser.</p>\n"},{"tags":["java","android","android-databinding"],"owner":{"account_id":28806042,"reputation":21,"user_id":22061899,"display_name":"DPRCode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689030443,"creation_date":1689030443,"question_id":76657815,"body_markdown":"this is my first time developing a small Android application.\r\nI&#39;ve got a weird Problem where a EditText field seems to duplicate when trying to use a two way data binding.\r\n[![enter image description here](https://i.stack.imgur.com/rOrUD.jpg)](https://i.stack.imgur.com/rOrUD.jpg)\r\nIts only possible to edit the text of the EditText field without the databinding therefore it is not possible to receive the Data.\r\n[![enter image description here](https://i.stack.imgur.com/2yXCh.jpg)](https://i.stack.imgur.com/2yXCh.jpg)\r\n\r\nThe fragment layout:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    tools:context=&quot;.view.StartView&quot;&gt;\r\n\r\n\r\n    &lt;data&gt;\r\n        &lt;variable\r\n            name=&quot;viewmodel&quot;\r\n            type=&quot;com.example.emitester2.viewModel.StartViewModel&quot; /&gt;\r\n    &lt;/data&gt;\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/StartWrapper&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        &gt;\r\n\r\n        &lt;EditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@={viewmodel.username}&quot;\r\n            android:hint=&quot;@string/UsernameHint&quot;\r\n            android:layout_marginTop=&quot;200dp&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/usernameTextView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:text=&quot;@{viewmodel.username}&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:layout_marginTop=&quot;30dp&quot;/&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/startQuizButton&quot;\r\n            android:layout_width=&quot;100dp&quot;\r\n            android:layout_height=&quot;70dp&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:text=&quot;@string/start_quiz&quot;\r\n            android:layout_marginTop=&quot;30dp&quot;\r\n            /&gt;\r\n    &lt;/LinearLayout&gt;\r\n&lt;/layout&gt;\r\n```\r\n\r\nThe Fragment Java source file:\r\n\r\n```java\r\npackage com.example.emitester2.view;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.Navigation;\r\n\r\nimport com.example.emitester2.R;\r\nimport com.example.emitester2.databinding.FragmentStartViewBinding;\r\nimport com.example.emitester2.viewModel.StartViewModel;\r\n\r\npublic class StartView extends Fragment {\r\n\r\n    private StartViewModel startViewModel;\r\n\r\n\r\n    public static StartView newInstance() {\r\n        return new StartView();\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater,@Nullable ViewGroup container,\r\n                             @Nullable Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_start_view, container, false);\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        FragmentStartViewBinding binding = DataBindingUtil.setContentView(this.getActivity(), R.layout.fragment_start_view);\r\n        startViewModel = new StartViewModel();\r\n        binding.setViewmodel(startViewModel);\r\n        binding.executePendingBindings();\r\n        Button button = (Button) view.findViewById(R.id.startQuizButton);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                startQuiz(v);\r\n            }\r\n        });\r\n    }\r\n\r\n    public void startQuiz(View view) {\r\n        // This is probably not the right way to do this, but it works for now\r\n\r\n        Bundle bundle = new Bundle();\r\n        String username = this.startViewModel.getStringUsername();\r\n        bundle.putString(&quot;username&quot;,username);\r\n        NavController navController;\r\n        navController = Navigation.findNavController(view);\r\n        navController.navigate(R.id.action_startView_to_quizView,bundle);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe Viewmodel:\r\n\r\n```java\r\npackage com.example.emitester2.viewModel;\r\n\r\nimport androidx.databinding.ObservableField;\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.Navigation;\r\n\r\npublic class StartViewModel {\r\n    public ObservableField&lt;String&gt; username;\r\n\r\n    public StartViewModel() {\r\n        username = new ObservableField&lt;&gt;(&quot;John Doe&quot;);\r\n    }\r\n\r\n    public String getStringUsername() {\r\n        System.out.println(username);\r\n        //for testing purposes\r\n        username.set(&quot;Jane Doe&quot;);\r\n        return username.get();\r\n    }\r\n\r\n    public void demofunction(){\r\n        System.out.println(username);\r\n        getStringUsername();\r\n    }\r\n}\r\n```\r\n\r\nI am navigating via a NavGraph where this fragment is the initial starting point.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/nav_graph&quot;\r\n    app:startDestination=&quot;@id/startView&quot;&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/startView&quot;\r\n        android:name=&quot;com.example.emitester2.view.StartView&quot;\r\n        android:label=&quot;fragment_start_view&quot;\r\n        tools:layout=&quot;@layout/fragment_start_view&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_startView_to_quizView&quot;\r\n            app:destination=&quot;@id/quizView&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/quizView&quot;\r\n        android:name=&quot;com.example.emitester2.view.QuizView&quot;\r\n        android:label=&quot;fragment_quiz_view&quot;\r\n        tools:layout=&quot;@layout/fragment_quiz_view&quot; /&gt;\r\n&lt;/navigation&gt;\r\n```\r\n\r\nI use a second fragment with similar structure where the EditText Field works fine with a two way databinding and the IDE throws no error when building the project. I&#39;ve got no clue where to search anymore and I would be happy if anyone could point me in the right direction.","title":"EditText duplication issue with two-way data binding in Android application","body":"<p>this is my first time developing a small Android application.\nI've got a weird Problem where a EditText field seems to duplicate when trying to use a two way data binding.\n<a href=\"https://i.stack.imgur.com/rOrUD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rOrUD.jpg\" alt=\"enter image description here\" /></a>\nIts only possible to edit the text of the EditText field without the databinding therefore it is not possible to receive the Data.\n<a href=\"https://i.stack.imgur.com/2yXCh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2yXCh.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The fragment layout:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    tools:context=&quot;.view.StartView&quot;&gt;\n\n\n    &lt;data&gt;\n        &lt;variable\n            name=&quot;viewmodel&quot;\n            type=&quot;com.example.emitester2.viewModel.StartViewModel&quot; /&gt;\n    &lt;/data&gt;\n    &lt;LinearLayout\n        android:id=&quot;@+id/StartWrapper&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;\n        &gt;\n\n        &lt;EditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@={viewmodel.username}&quot;\n            android:hint=&quot;@string/UsernameHint&quot;\n            android:layout_marginTop=&quot;200dp&quot;/&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/usernameTextView&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:text=&quot;@{viewmodel.username}&quot;\n            android:textSize=&quot;20sp&quot;\n            android:layout_marginTop=&quot;30dp&quot;/&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/startQuizButton&quot;\n            android:layout_width=&quot;100dp&quot;\n            android:layout_height=&quot;70dp&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:text=&quot;@string/start_quiz&quot;\n            android:layout_marginTop=&quot;30dp&quot;\n            /&gt;\n    &lt;/LinearLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n<p>The Fragment Java source file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.emitester2.view;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.databinding.DataBindingUtil;\nimport androidx.fragment.app.Fragment;\nimport androidx.navigation.NavController;\nimport androidx.navigation.Navigation;\n\nimport com.example.emitester2.R;\nimport com.example.emitester2.databinding.FragmentStartViewBinding;\nimport com.example.emitester2.viewModel.StartViewModel;\n\npublic class StartView extends Fragment {\n\n    private StartViewModel startViewModel;\n\n\n    public static StartView newInstance() {\n        return new StartView();\n    }\n\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater,@Nullable ViewGroup container,\n                             @Nullable Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_start_view, container, false);\n    }\n\n    @Override\n    public void onViewCreated(View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        FragmentStartViewBinding binding = DataBindingUtil.setContentView(this.getActivity(), R.layout.fragment_start_view);\n        startViewModel = new StartViewModel();\n        binding.setViewmodel(startViewModel);\n        binding.executePendingBindings();\n        Button button = (Button) view.findViewById(R.id.startQuizButton);\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                startQuiz(v);\n            }\n        });\n    }\n\n    public void startQuiz(View view) {\n        // This is probably not the right way to do this, but it works for now\n\n        Bundle bundle = new Bundle();\n        String username = this.startViewModel.getStringUsername();\n        bundle.putString(&quot;username&quot;,username);\n        NavController navController;\n        navController = Navigation.findNavController(view);\n        navController.navigate(R.id.action_startView_to_quizView,bundle);\n    }\n\n}\n</code></pre>\n<p>The Viewmodel:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.emitester2.viewModel;\n\nimport androidx.databinding.ObservableField;\nimport androidx.navigation.NavController;\nimport androidx.navigation.Navigation;\n\npublic class StartViewModel {\n    public ObservableField&lt;String&gt; username;\n\n    public StartViewModel() {\n        username = new ObservableField&lt;&gt;(&quot;John Doe&quot;);\n    }\n\n    public String getStringUsername() {\n        System.out.println(username);\n        //for testing purposes\n        username.set(&quot;Jane Doe&quot;);\n        return username.get();\n    }\n\n    public void demofunction(){\n        System.out.println(username);\n        getStringUsername();\n    }\n}\n</code></pre>\n<p>I am navigating via a NavGraph where this fragment is the initial starting point.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/nav_graph&quot;\n    app:startDestination=&quot;@id/startView&quot;&gt;\n    &lt;fragment\n        android:id=&quot;@+id/startView&quot;\n        android:name=&quot;com.example.emitester2.view.StartView&quot;\n        android:label=&quot;fragment_start_view&quot;\n        tools:layout=&quot;@layout/fragment_start_view&quot; &gt;\n        &lt;action\n            android:id=&quot;@+id/action_startView_to_quizView&quot;\n            app:destination=&quot;@id/quizView&quot; /&gt;\n    &lt;/fragment&gt;\n    &lt;fragment\n        android:id=&quot;@+id/quizView&quot;\n        android:name=&quot;com.example.emitester2.view.QuizView&quot;\n        android:label=&quot;fragment_quiz_view&quot;\n        tools:layout=&quot;@layout/fragment_quiz_view&quot; /&gt;\n&lt;/navigation&gt;\n</code></pre>\n<p>I use a second fragment with similar structure where the EditText Field works fine with a two way databinding and the IDE throws no error when building the project. I've got no clue where to search anymore and I would be happy if anyone could point me in the right direction.</p>\n"},{"tags":["java","android","firebase","kotlin","google-cloud-firestore"],"comments":[{"owner":{"account_id":426109,"reputation":302042,"user_id":807126,"display_name":"Doug Stevenson"},"score":1,"creation_date":1586187377,"post_id":61058997,"comment_id":108029532,"body_markdown":"It&#39;s worth noting that indexes are not free. All indexes **do occupy space**, and this counts toward the overall size of the database, for the purpose of billing, even if it doesn&#39;t affect the total size of each individual document.","body":"It&#39;s worth noting that indexes are not free. All indexes <b>do occupy space</b>, and this counts toward the overall size of the database, for the purpose of billing, even if it doesn&#39;t affect the total size of each individual document."},{"owner":{"account_id":13601044,"reputation":179,"user_id":9811716,"display_name":"Pathis Patel"},"score":0,"creation_date":1586187760,"post_id":61058997,"comment_id":108029793,"body_markdown":"Thank you very much @DougStevenson for this information. Is exactly what I was looking for, to be sure it doesn&#39;t count from each document quota.","body":"Thank you very much @DougStevenson for this information. Is exactly what I was looking for, to be sure it doesn&#39;t count from each document quota."}],"answers":[{"comments":[{"owner":{"account_id":13601044,"reputation":179,"user_id":9811716,"display_name":"Pathis Patel"},"score":0,"creation_date":1586173677,"post_id":61059051,"comment_id":108021298,"body_markdown":"Hi. Thanks for answering. My question is not about the query is about the index that is created for the `admin` field that exist in user document. So if it is an index created does it take space from 1Mb?","body":"Hi. Thanks for answering. My question is not about the query is about the index that is created for the <code>admin</code> field that exist in user document. So if it is an index created does it take space from 1Mb?"},{"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"score":0,"creation_date":1586173736,"post_id":61059051,"comment_id":108021334,"body_markdown":"you can have up to 40.000 indexed fields in each document, the space is just for the document , not for the indexes","body":"you can have up to 40.000 indexed fields in each document, the space is just for the document , not for the indexes"},{"owner":{"account_id":13601044,"reputation":179,"user_id":9811716,"display_name":"Pathis Patel"},"score":0,"creation_date":1586173805,"post_id":61059051,"comment_id":108021364,"body_markdown":"My question is not about the number of indexes is about the index that is created for a field. And if it is created, does it count from that document space, this is the question.","body":"My question is not about the number of indexes is about the index that is created for a field. And if it is created, does it count from that document space, this is the question."},{"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"score":0,"creation_date":1586173926,"post_id":61059051,"comment_id":108021428,"body_markdown":"I answered that, the index is not count as the document size, just the document elements itself","body":"I answered that, the index is not count as the document size, just the document elements itself"},{"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"score":0,"creation_date":1586173996,"post_id":61059051,"comment_id":108021469,"body_markdown":"The index itself has also limits, you can check https://firebase.google.com/docs/firestore/quotas","body":"The index itself has also limits, you can check <a href=\"https://firebase.google.com/docs/firestore/quotas\" rel=\"nofollow noreferrer\">firebase.google.com/docs/firestore/quotas</a>"},{"owner":{"account_id":13601044,"reputation":179,"user_id":9811716,"display_name":"Pathis Patel"},"score":0,"creation_date":1586174114,"post_id":61059051,"comment_id":108021541,"body_markdown":"But those index quotas are not related in any way to the document itself, right?","body":"But those index quotas are not related in any way to the document itself, right?"},{"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"score":0,"creation_date":1586174435,"post_id":61059051,"comment_id":108021721,"body_markdown":"As I have already told, the index does not count for the document size","body":"As I have already told, the index does not count for the document size"},{"owner":{"account_id":426109,"reputation":302042,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1586187336,"post_id":61059051,"comment_id":108029502,"body_markdown":"It&#39;s worth noting that indexes are not free. All indexes **do occupy space**, and this counts toward the overall size of the database, for the purpose of billing, even if it doesn&#39;t affect the total size of each individual document.","body":"It&#39;s worth noting that indexes are not free. All indexes <b>do occupy space</b>, and this counts toward the overall size of the database, for the purpose of billing, even if it doesn&#39;t affect the total size of each individual document."}],"tags":[],"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689029028,"creation_date":1586173531,"answer_id":61059051,"question_id":61058997,"body_markdown":"The query does not take space for the document. The space of the document is in the document itself below your users collection; each document will have its own size, and this size will not be affected with the index for each field\r\n\r\nThe index is created for the documents your query matches, but you are only billed for the documents you access with that condition only.\r\n\r\nFrom [documentation][1]:\r\n\r\n&gt; An index behind every query If no index exists for a query, most\r\n&gt; databases crawl through their contents item by item, a slow process\r\n&gt; that slows down even more as the database grows. Cloud Firestore\r\n&gt; guarantees high query performance by using indexes for all queries. As\r\n&gt; a result, query performance depends on the size of the result set and\r\n&gt; not on the number of items in the database.\r\n&gt; \r\n&gt; Less index management, more app development Cloud Firestore includes\r\n&gt; features that reduce the amount of time you need to spend managing\r\n&gt; indexes. The indexes required for the most basic queries are\r\n&gt; automatically created for you. As you use and test your app, Cloud\r\n&gt; Firestore helps you identify and create additional indexes your app\r\n&gt; requires.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/query-data/index-overview#single-field-indexes","title":"Does the index in Firestore count?","body":"<p>The query does not take space for the document. The space of the document is in the document itself below your users collection; each document will have its own size, and this size will not be affected with the index for each field</p>\n<p>The index is created for the documents your query matches, but you are only billed for the documents you access with that condition only.</p>\n<p>From <a href=\"https://firebase.google.com/docs/firestore/query-data/index-overview#single-field-indexes\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>An index behind every query If no index exists for a query, most\ndatabases crawl through their contents item by item, a slow process\nthat slows down even more as the database grows. Cloud Firestore\nguarantees high query performance by using indexes for all queries. As\na result, query performance depends on the size of the result set and\nnot on the number of items in the database.</p>\n<p>Less index management, more app development Cloud Firestore includes\nfeatures that reduce the amount of time you need to spend managing\nindexes. The indexes required for the most basic queries are\nautomatically created for you. As you use and test your app, Cloud\nFirestore helps you identify and create additional indexes your app\nrequires.</p>\n</blockquote>\n"}],"owner":{"account_id":13601044,"reputation":179,"user_id":9811716,"display_name":"Pathis Patel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61059051,"answer_count":1,"score":0,"last_activity_date":1689029028,"creation_date":1586173366,"question_id":61058997,"body_markdown":"I&#39;ve read that for every query an index is automatically created. So if I create this query:\r\n\r\n    db.collection(&quot;users&quot;).whereEqualTo(&quot;admin&quot;, true);\r\n\r\nAnd I get one result, is an index created for **admin** property? If yes, does this take space from the document quota?","title":"Does the index in Firestore count?","body":"<p>I've read that for every query an index is automatically created. So if I create this query:</p>\n\n<pre><code>db.collection(\"users\").whereEqualTo(\"admin\", true);\n</code></pre>\n\n<p>And I get one result, is an index created for <strong>admin</strong> property? If yes, does this take space from the document quota?</p>\n"},{"tags":["java","apache-camel","ehcache","jcache","caffeine-cache"],"owner":{"account_id":5072657,"reputation":3288,"user_id":4071001,"display_name":"lcnicolau"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689028791,"creation_date":1689022568,"question_id":76657292,"body_markdown":"What is the main difference between [jcache-component][1], [ehcache-component][2] and [caffeine-cache-component][3] (or any other); and which one would be the most appropriate for a simple use case in Apache Camel?\r\n\r\n----------\r\n\r\nThe problem: \r\n\r\nI need to read a relatively large `CSV` file, `split` it and insert each row somewhere via a `REST` service. The service requires an authentication token that expires in a few minutes, so it is possible to insert multiple records with the same token, but not all. \r\n\r\nTherefore, I want to `cache` the authentication `token` (a simple string) to reuse it (say for 100 records, or maybe 1 minute) and then get a new token. Note that since the `split` creates a new `exchange` for each iteration, you cannot use `headers` or `properties` to share information (the authentication token) between iterations.\r\n\r\n    from(&quot;timer://runOnce?repeatCount=1&quot;)\r\n        .to(&quot;direct:read-csv-data&quot;)\r\n        .split(body())\r\n            .to(&quot;direct:set-authorization&quot;)\r\n            .to(&quot;direct:insert-data-rest&quot;)\r\n        .end();\r\n    \r\n    from(&quot;direct:set-authorization&quot;)\r\n        .choice()\r\n            .when(this::requiresAuthorizationRenewal).to(&quot;direct:get-authorization-and-save-in-cache&quot;)\r\n            .otherwise().to(&quot;direct:get-authorization-from-cache&quot;)\r\n        .end();\r\n\r\n*(The `requiresAuthorizationRenewal` predicate uses the `CamelSplitIndex` exchange property to determine when to renew the token, e.g., every 100 records)*\r\n\r\n\r\n  [1]: https://camel.apache.org/components/3.20.x/jcache-component.html\r\n  [2]: https://camel.apache.org/components/3.20.x/ehcache-component.html\r\n  [3]: https://camel.apache.org/components/3.20.x/caffeine-cache-component.html","title":"Apache Camel components: jcache vs ehcache vs caffeine-cache","body":"<p>What is the main difference between <a href=\"https://camel.apache.org/components/3.20.x/jcache-component.html\" rel=\"nofollow noreferrer\">jcache-component</a>, <a href=\"https://camel.apache.org/components/3.20.x/ehcache-component.html\" rel=\"nofollow noreferrer\">ehcache-component</a> and <a href=\"https://camel.apache.org/components/3.20.x/caffeine-cache-component.html\" rel=\"nofollow noreferrer\">caffeine-cache-component</a> (or any other); and which one would be the most appropriate for a simple use case in Apache Camel?</p>\n<hr />\n<p>The problem:</p>\n<p>I need to read a relatively large <code>CSV</code> file, <code>split</code> it and insert each row somewhere via a <code>REST</code> service. The service requires an authentication token that expires in a few minutes, so it is possible to insert multiple records with the same token, but not all.</p>\n<p>Therefore, I want to <code>cache</code> the authentication <code>token</code> (a simple string) to reuse it (say for 100 records, or maybe 1 minute) and then get a new token. Note that since the <code>split</code> creates a new <code>exchange</code> for each iteration, you cannot use <code>headers</code> or <code>properties</code> to share information (the authentication token) between iterations.</p>\n<pre><code>from(&quot;timer://runOnce?repeatCount=1&quot;)\n    .to(&quot;direct:read-csv-data&quot;)\n    .split(body())\n        .to(&quot;direct:set-authorization&quot;)\n        .to(&quot;direct:insert-data-rest&quot;)\n    .end();\n\nfrom(&quot;direct:set-authorization&quot;)\n    .choice()\n        .when(this::requiresAuthorizationRenewal).to(&quot;direct:get-authorization-and-save-in-cache&quot;)\n        .otherwise().to(&quot;direct:get-authorization-from-cache&quot;)\n    .end();\n</code></pre>\n<p><em>(The <code>requiresAuthorizationRenewal</code> predicate uses the <code>CamelSplitIndex</code> exchange property to determine when to renew the token, e.g., every 100 records)</em></p>\n"},{"tags":["java","image","pdf","pdf-generation"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1689020672,"post_id":76656620,"comment_id":135151569,"body_markdown":"What library are you using?","body":"What library are you using?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1689025949,"post_id":76656620,"comment_id":135152263,"body_markdown":"I saw it, but I don&#39;t understand the rest of your statement. The OP&#39;s PDF-generating code does not look like `Java` to me. Also, that code most likely uses a library, even if it&#39;s built into whatever language the OP is using. I asked the question, thinking that I can maybe sniff out the link between how the posted code deals with Java. Anyway, I hope you can be of better help than I was. lol, Good luck!","body":"I saw it, but I don&#39;t understand the rest of your statement. The OP&#39;s PDF-generating code does not look like <code>Java</code> to me. Also, that code most likely uses a library, even if it&#39;s built into whatever language the OP is using. I asked the question, thinking that I can maybe sniff out the link between how the posted code deals with Java. Anyway, I hope you can be of better help than I was. lol, Good luck!"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1689026516,"post_id":76656620,"comment_id":135152344,"body_markdown":"@KJ, Good answer. It simply means this question was out of my league.","body":"@KJ, Good answer. It simply means this question was out of my league."}],"answers":[{"comments":[{"owner":{"account_id":15556413,"reputation":81,"user_id":11222727,"display_name":"Casperca"},"score":0,"creation_date":1689085939,"post_id":76657530,"comment_id":135161510,"body_markdown":"I got JPEG&#39;s working right now. Some parts of you answer are a little out of my (pdf) league :P. As far as I understand the generated pdf works and shows the image but I should add a trailer (xref). I have not looked at how this works since it didn&#39;t seem to matter. You mention in your answer the consequences of not inclusing one in the pdf.  As far as I understand from your answer, is that the xref is usefull for &quot;cross platform&quot; I.E. web or adobe acrobat. Are there any dire consequences of not including one? is it necessary for printing?","body":"I got JPEG&#39;s working right now. Some parts of you answer are a little out of my (pdf) league :P. As far as I understand the generated pdf works and shows the image but I should add a trailer (xref). I have not looked at how this works since it didn&#39;t seem to matter. You mention in your answer the consequences of not inclusing one in the pdf.  As far as I understand from your answer, is that the xref is usefull for &quot;cross platform&quot; I.E. web or adobe acrobat. Are there any dire consequences of not including one? is it necessary for printing?"},{"owner":{"account_id":15556413,"reputation":81,"user_id":11222727,"display_name":"Casperca"},"score":0,"creation_date":1689235120,"post_id":76657530,"comment_id":135185299,"body_markdown":"Ok, thank you for helping me out, will have a look at how to generate my own xref to make it work for all viewers.","body":"Ok, thank you for helping me out, will have a look at how to generate my own xref to make it work for all viewers."}],"tags":[],"owner":{"account_id":14313923,"reputation":8868,"user_id":10802527,"display_name":"K J"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689028515,"creation_date":1689025618,"answer_id":76657530,"question_id":76656620,"body_markdown":"Your code is generally PURR-effect. Here is the result when code and image are added together correctly in MS Notepad and image via command line. It is short of one essential feature (the `xref` table before the trailer) but Acrobat Reader will ignore that and write its own.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nPersonally I tend to abbreviate the entries as it easier to see what is happening inside the PDF.\r\n\r\n```\r\n%PDF-1.7\r\n\r\n1 0 obj &lt;&lt;/Type/Catalog/Pages 2 0 R&gt;&gt; endobj\r\n2 0 obj &lt;&lt;/Type/Pages/Count 1/Kids [3 0 R]&gt;&gt; endobj\r\n3 0 obj &lt;&lt;/Type/Page/Parent 2 0 R/MediaBox [0 0 595 842]/Contents [5 0 R]/Resources&lt;&lt;/XObject&lt;&lt;/Im1 4 0 R&gt;&gt;&gt;&gt;&gt;&gt; endobj\r\n5 0 obj &lt;&lt;/Length 35&gt;&gt;\r\nstream \r\nq \r\n209 0 0 241 0 0 cm\r\n/Im1 Do \r\nQ \r\n\r\nendstream \r\nendobj\r\n\r\n4 0 obj &lt;&lt;/Type/XObject/Filter/DCTDecode/Length 8000/ColorSpace/DeviceRGB/Height 241/Width 209/Subtype/Image/BitsPerComponent 8&gt;&gt;\r\nstream\r\n*** Image goes here\r\nendstream\r\nendobj\r\n\r\ntrailer &lt;&lt;/Root 1 0 R/Size 5&gt;&gt;\r\n%%EOF\r\n```\r\n\r\nIn that state it will be 8,527 bytes( so only 527 more than the raw image), However Acrobat READER will save it as 12,665 bytes because it adjusts to be more compliant with web usage etc.\r\n\r\nThus we see its totally different  (not all necessarily better) so now starts\r\n```\r\n%PDF-1.7\r\n%&#226;&#227;&#207;&#211;\r\n7 0 obj\r\n&lt;&lt;/Linearized 1/L 12665/O 9/E 9017/N 1/T 12376/H [ 435 131]&gt;&gt;\r\nendobj\r\n                     \r\n12 0 obj\r\n&lt;&lt;/DecodeParms&lt;&lt;/Columns 3/Predictor 12&gt;&gt;/Filter/FlateDecode/ID[&lt;84AE98C0D1CB3C4D9543B24450B2D64C&gt;&lt;84AE98C0D1CB3C4D9543B24450B2D64C&gt;]/Index[7 7]/Info 6 0 R/Length 36/Prev 12377/Root 8 0 R/Size 14/Type/XRef/W[1 2 0]&gt;&gt;stream\r\nh&#222;bbd`b`Rcb`&#176;ab`œ\r\n&#164;C™&#254;J &#217;&#246;  0&#196;\r\nendstream\r\nendobj\r\nstartxref\r\n0\r\n%%EOF\r\n        \r\n13 0 obj\r\n&lt;&lt;/Filter/FlateDecode/I 66/Length 52/S 36&gt;&gt;stream\r\nh&#222;b```f``|&#207; \r\n&#199;0ŠBx™&#236;&#160;&#162;&#250;&#251;4#&#207;0 &#161;&#185;,\r\nendstream\r\nendobj\r\n8 0 obj\r\n&lt;&lt;/Metadata 1 0 R/Pages 5 0 R/Type/Catalog&gt;&gt;\r\n```\r\n\r\n!!!\r\n\r\nTo avoid such adjustments you need to include a `xref` of your own. For a very rough example in JScript see below.\r\n\r\nNote:- The copy and paste here will break the binary.\r\n```\r\nvar ByteStream = new ActiveXObject(&quot;ADODB.Stream&quot;);\r\nByteStream.Type = 2; // Writer\r\nByteStream.Charset = &quot;Windows-1252&quot;; //Best for PDF writer\r\nvar BS = ByteStream; // Abreviate for ease of edit\r\nBS.Open();\r\nBS.Position = 0;\r\n\r\nBS.WriteText(&quot;%PDF-1.0\\n&quot;);\r\nBS.WriteText(&quot;%&#197;&#209;&#167;&#161;\\n&quot;);\r\n\r\nBS.WriteText(&quot;1 0 obj &lt;&lt;/Type/Catalog/Pages 2 0 R&gt;&gt; endobj\\n&quot;);\r\nBS.WriteText(&quot;2 0 obj &lt;&lt;/Type/Pages/Count 1/Kids[3 0 R]&gt;&gt; endobj\\n&quot;);\r\nBS.WriteText(&quot;3 0 obj &lt;&lt;/Type/Page/MediaBox[0 0 144 144]/Rotate 0/Resources&lt;&lt;/XObject&lt;&lt;/Img0 4 0 R&gt;&gt;&gt;&gt;/Contents 5 0 R/Parent 2 0 R&gt;&gt; endobj\\n&quot;);\r\nBS.WriteText(&quot;4 0 obj &lt;&lt;/Type/XObject/Subtype/Image/Height 25/Width 24/BitsPerComponent 1/Length 75/ColorSpace/DeviceGray&gt;&gt; stream\\n&quot;);\r\nBS.WriteText(&#39;&#255;&#255;&#255;&#255;&#255;&#255;&#192;m&#223;[}&#209;oE&#209;[E&#209;qE&#223;E}&#192;U&#255;&#241;&#255;&#193;&#171;&#193;&#172;&#219;Zc&#253;&#214;&#199;&#200;&quot;}&#255;&#213;&#239;&#192;Ms&#223;`&#167;&#209;]9&#209;N&#209;E&#183;&#223;L&#199;&#192;A[&#255;&#255;&#255;&#255;&#255;&#255;&#39;);\r\nBS.WriteText(&quot;\\nendstream\\nendobj\\n&quot;);\r\nvar Pos1 = &quot;000000000&quot;+BS.Position\r\nBS.WriteText(&quot;5 0 obj &lt;&lt;/Length 101&gt;&gt; stream\\n&quot;);\r\nBS.WriteText(&quot;q\\n1 0 0 -1 18 54 cm\\n35 0 0 -36 0 36 cm\\n/Img0 Do\\nQ\\nq\\n1 0 0 -1 71 144 cm\\n70 0 0 -72 0 72 cm\\n/Img0 Do\\nQ\\n&quot;);\r\nBS.WriteText(&quot;\\nendstream\\nendobj\\n\\n&quot;);\r\nvar Pos2 = BS.Position\r\nBS.WriteText(&quot;xref\\n0 6\\n&quot;);\r\nBS.WriteText(&quot;0000000000 00001 f \\n0000000015 00000 n \\n0000000060 00000 n \\n0000000111 00000 n \\n0000000237 00000 n \\n&quot;+Pos1.slice(-10)+&quot; 00000 n \\n&quot;);\r\nBS.WriteText(&quot;\\ntrailer\\n&lt;&lt;/Size 6/Info&lt;&lt;/Producer(JScrip2pdf)&gt;&gt;/Root 1 0 R&gt;&gt;\\nstartxref\\n&quot;+Pos2+&quot;\\n%%EOF\\n&quot;);\r\n\r\nBS.SaveToFile(&quot;HelloWorldB&amp;W.pdf&quot;, 2);\r\nBS.Close();\r\n```\r\n\r\nA simple means to fix such missing trailer is often solved using MuPDF-GL but that is windows only, so use command line MuTool for cross platform cleaning.\r\n\r\nIt too will alter the file to a cleaner 8,653 bytes format (so very few additions)\r\n\r\n[![enter image description here][2]][2]\r\n```\r\n%PDF-1.7\r\n%&#194;&#181;&#194;&#182;\r\n\r\n1 0 obj\r\n&lt;&lt;/Type/Catalog/Pages 2 0 R&gt;&gt;\r\nendobj\r\n\r\n2 0 obj\r\n&lt;&lt;/Type/Pages/Count 1/Kids[3 0 R]&gt;&gt;\r\nendobj\r\n\r\n3 0 obj\r\n&lt;&lt;/Type/Page/Parent 2 0 R/MediaBox[0 0 595 842]/Contents 5 0 R/Resources&lt;&lt;/XObject&lt;&lt;/Im1 4 0 R&gt;&gt;&gt;&gt;&gt;&gt;\r\nendobj\r\n\r\n4 0 obj\r\n&lt;&lt;/Type/XObject/Filter/DCTDecode/Length 8000/ColorSpace/DeviceRGB/Height 241/Width 209/Subtype/Image/BitsPerComponent 8&gt;&gt;\r\nstream\r\n&#255;&#216;&#255;&#224; JFIF      &#255;&#219; „\r\n\r\nblah blah CAT Image bytes\r\n\r\nNI dI$&#166;’I$ ’I$ ’I$&#199;(\\’H&#39;&#168;+h’I/&#161;&#227;&#177;Œ&#208;&#168;Ÿ&#161;I%&#196;&#251;:Y]&#219;+&#248;BI-}&#232;&quot;&#221;–&#179;€&#166;V&#193;&#236;ž^‚‰&#205;I%&#212;s&#169;$„k{@I$’I%&#160;&#255;&#217;\r\nendstream\r\nendobj\r\n\r\n5 0 obj\r\n&lt;&lt;/Length 35&gt;&gt;\r\nstream\r\nq\r\n209 0 0 241 0 0 cm\r\n/Im1 Do\r\nQ\r\nq\r\nQ\r\n\r\nendstream\r\nendobj\r\n\r\nxref\r\n0 6\r\n0000000000 65536 f \r\n0000000016 00000 n \r\n0000000062 00000 n \r\n0000000114 00000 n \r\n0000000231 00000 n \r\n0000008387 00000 n \r\n\r\ntrailer\r\n&lt;&lt;/Size 6/Root 1 0 R&gt;&gt;\r\nstartxref\r\n8471\r\n%%EOF\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/yndGo.png\r\n  [2]: https://i.stack.imgur.com/WHJUq.png","title":"How to insert image in pdf using Java","body":"<p>Your code is generally PURR-effect. Here is the result when code and image are added together correctly in MS Notepad and image via command line. It is short of one essential feature (the <code>xref</code> table before the trailer) but Acrobat Reader will ignore that and write its own.</p>\n<p><a href=\"https://i.stack.imgur.com/yndGo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yndGo.png\" alt=\"enter image description here\" /></a></p>\n<p>Personally I tend to abbreviate the entries as it easier to see what is happening inside the PDF.</p>\n<pre><code>%PDF-1.7\n\n1 0 obj &lt;&lt;/Type/Catalog/Pages 2 0 R&gt;&gt; endobj\n2 0 obj &lt;&lt;/Type/Pages/Count 1/Kids [3 0 R]&gt;&gt; endobj\n3 0 obj &lt;&lt;/Type/Page/Parent 2 0 R/MediaBox [0 0 595 842]/Contents [5 0 R]/Resources&lt;&lt;/XObject&lt;&lt;/Im1 4 0 R&gt;&gt;&gt;&gt;&gt;&gt; endobj\n5 0 obj &lt;&lt;/Length 35&gt;&gt;\nstream \nq \n209 0 0 241 0 0 cm\n/Im1 Do \nQ \n\nendstream \nendobj\n\n4 0 obj &lt;&lt;/Type/XObject/Filter/DCTDecode/Length 8000/ColorSpace/DeviceRGB/Height 241/Width 209/Subtype/Image/BitsPerComponent 8&gt;&gt;\nstream\n*** Image goes here\nendstream\nendobj\n\ntrailer &lt;&lt;/Root 1 0 R/Size 5&gt;&gt;\n%%EOF\n</code></pre>\n<p>In that state it will be 8,527 bytes( so only 527 more than the raw image), However Acrobat READER will save it as 12,665 bytes because it adjusts to be more compliant with web usage etc.</p>\n<p>Thus we see its totally different  (not all necessarily better) so now starts</p>\n<pre><code>%PDF-1.7\n%âãÏÓ\n7 0 obj\n&lt;&lt;/Linearized 1/L 12665/O 9/E 9017/N 1/T 12376/H [ 435 131]&gt;&gt;\nendobj\n                     \n12 0 obj\n&lt;&lt;/DecodeParms&lt;&lt;/Columns 3/Predictor 12&gt;&gt;/Filter/FlateDecode/ID[&lt;84AE98C0D1CB3C4D9543B24450B2D64C&gt;&lt;84AE98C0D1CB3C4D9543B24450B2D64C&gt;]/Index[7 7]/Info 6 0 R/Length 36/Prev 12377/Root 8 0 R/Size 14/Type/XRef/W[1 2 0]&gt;&gt;stream\nhÞbbd`b`Rcb`°ab`œ\n¤C™þJ Ùö  0Ä\nendstream\nendobj\nstartxref\n0\n%%EOF\n        \n13 0 obj\n&lt;&lt;/Filter/FlateDecode/I 66/Length 52/S 36&gt;&gt;stream\nhÞb```f``|Ï \nÇ0ŠBx™ì ¢úû4#Ï0 ¡¹,\nendstream\nendobj\n8 0 obj\n&lt;&lt;/Metadata 1 0 R/Pages 5 0 R/Type/Catalog&gt;&gt;\n</code></pre>\n<p>!!!</p>\n<p>To avoid such adjustments you need to include a <code>xref</code> of your own. For a very rough example in JScript see below.</p>\n<p>Note:- The copy and paste here will break the binary.</p>\n<pre><code>var ByteStream = new ActiveXObject(&quot;ADODB.Stream&quot;);\nByteStream.Type = 2; // Writer\nByteStream.Charset = &quot;Windows-1252&quot;; //Best for PDF writer\nvar BS = ByteStream; // Abreviate for ease of edit\nBS.Open();\nBS.Position = 0;\n\nBS.WriteText(&quot;%PDF-1.0\\n&quot;);\nBS.WriteText(&quot;%ÅÑ§¡\\n&quot;);\n\nBS.WriteText(&quot;1 0 obj &lt;&lt;/Type/Catalog/Pages 2 0 R&gt;&gt; endobj\\n&quot;);\nBS.WriteText(&quot;2 0 obj &lt;&lt;/Type/Pages/Count 1/Kids[3 0 R]&gt;&gt; endobj\\n&quot;);\nBS.WriteText(&quot;3 0 obj &lt;&lt;/Type/Page/MediaBox[0 0 144 144]/Rotate 0/Resources&lt;&lt;/XObject&lt;&lt;/Img0 4 0 R&gt;&gt;&gt;&gt;/Contents 5 0 R/Parent 2 0 R&gt;&gt; endobj\\n&quot;);\nBS.WriteText(&quot;4 0 obj &lt;&lt;/Type/XObject/Subtype/Image/Height 25/Width 24/BitsPerComponent 1/Length 75/ColorSpace/DeviceGray&gt;&gt; stream\\n&quot;);\nBS.WriteText('ÿÿÿÿÿÿÀmß[}ÑoEÑ[EÑqEßE}ÀUÿñÿÁ«Á¬ÛZcýÖÇÈ&quot;}ÿÕïÀMsß`§Ñ]9ÑNÑE·ßLÇÀA[ÿÿÿÿÿÿ');\nBS.WriteText(&quot;\\nendstream\\nendobj\\n&quot;);\nvar Pos1 = &quot;000000000&quot;+BS.Position\nBS.WriteText(&quot;5 0 obj &lt;&lt;/Length 101&gt;&gt; stream\\n&quot;);\nBS.WriteText(&quot;q\\n1 0 0 -1 18 54 cm\\n35 0 0 -36 0 36 cm\\n/Img0 Do\\nQ\\nq\\n1 0 0 -1 71 144 cm\\n70 0 0 -72 0 72 cm\\n/Img0 Do\\nQ\\n&quot;);\nBS.WriteText(&quot;\\nendstream\\nendobj\\n\\n&quot;);\nvar Pos2 = BS.Position\nBS.WriteText(&quot;xref\\n0 6\\n&quot;);\nBS.WriteText(&quot;0000000000 00001 f \\n0000000015 00000 n \\n0000000060 00000 n \\n0000000111 00000 n \\n0000000237 00000 n \\n&quot;+Pos1.slice(-10)+&quot; 00000 n \\n&quot;);\nBS.WriteText(&quot;\\ntrailer\\n&lt;&lt;/Size 6/Info&lt;&lt;/Producer(JScrip2pdf)&gt;&gt;/Root 1 0 R&gt;&gt;\\nstartxref\\n&quot;+Pos2+&quot;\\n%%EOF\\n&quot;);\n\nBS.SaveToFile(&quot;HelloWorldB&amp;W.pdf&quot;, 2);\nBS.Close();\n</code></pre>\n<p>A simple means to fix such missing trailer is often solved using MuPDF-GL but that is windows only, so use command line MuTool for cross platform cleaning.</p>\n<p>It too will alter the file to a cleaner 8,653 bytes format (so very few additions)</p>\n<p><a href=\"https://i.stack.imgur.com/WHJUq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WHJUq.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>%PDF-1.7\n%ÂµÂ¶\n\n1 0 obj\n&lt;&lt;/Type/Catalog/Pages 2 0 R&gt;&gt;\nendobj\n\n2 0 obj\n&lt;&lt;/Type/Pages/Count 1/Kids[3 0 R]&gt;&gt;\nendobj\n\n3 0 obj\n&lt;&lt;/Type/Page/Parent 2 0 R/MediaBox[0 0 595 842]/Contents 5 0 R/Resources&lt;&lt;/XObject&lt;&lt;/Im1 4 0 R&gt;&gt;&gt;&gt;&gt;&gt;\nendobj\n\n4 0 obj\n&lt;&lt;/Type/XObject/Filter/DCTDecode/Length 8000/ColorSpace/DeviceRGB/Height 241/Width 209/Subtype/Image/BitsPerComponent 8&gt;&gt;\nstream\nÿØÿà JFIF      ÿÛ „\n\nblah blah CAT Image bytes\n\nNI dI$¦’I$ ’I$ ’I$Ç(\\’H'¨+h’I/¡ã±ŒÐ¨Ÿ¡I%Äû:Y]Û+øBI-}è&quot;Ý–³€¦VÁìž^‚‰ÍI%Ôs©$„k{@I$’I% ÿÙ\nendstream\nendobj\n\n5 0 obj\n&lt;&lt;/Length 35&gt;&gt;\nstream\nq\n209 0 0 241 0 0 cm\n/Im1 Do\nQ\nq\nQ\n\nendstream\nendobj\n\nxref\n0 6\n0000000000 65536 f \n0000000016 00000 n \n0000000062 00000 n \n0000000114 00000 n \n0000000231 00000 n \n0000008387 00000 n \n\ntrailer\n&lt;&lt;/Size 6/Root 1 0 R&gt;&gt;\nstartxref\n8471\n%%EOF\n</code></pre>\n"}],"owner":{"account_id":15556413,"reputation":81,"user_id":11222727,"display_name":"Casperca"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689028515,"creation_date":1689015898,"question_id":76656620,"body_markdown":"I am trying to create pdfs with Java. I do not want to use libraries like ITextPdf but want to generate the raw code of the pdf with Java. I got the basics down and am able to create some pdfs. The thing I am struggling with is inserting images in the pdf. As far as I understand JPEG&#39;s are the easiest ones to use since the raw data can be inserten in de the pdf. When I am trying this, it does not work however. I am reading the JPEG data with java ad inserting this in the pdf.\r\n\r\nThe generated PDF code looks like this:\r\n```\r\n%PDF-1.7\r\n\r\n1 0 obj\r\n  &lt;&lt;\r\n\r\n    /Type /Catalog\r\n    /Pages 2 0 R\r\n  &gt;&gt;\r\nendobj\r\n\r\n2 0 obj\r\n  &lt;&lt;\r\n\r\n    /Type /Pages\r\n    /Count 1\r\n    /Kids [3 0 R]\r\n  &gt;&gt;\r\nendobj\r\n\r\n---------------------------------------------\r\n\r\n3 0 obj\r\n  &lt;&lt;\r\n\r\n    /Type /Page\r\n    /Parent 2 0 R\r\n    /MediaBox [0 0 595 842]\r\n    /Contents [5 0 R]\r\n    /Resources\r\n    &lt;&lt;\r\n\r\n    /XObject\r\n      &lt;&lt;\r\n        /Im1 4 0 R\r\n      &gt;&gt;\r\n    &gt;&gt;\r\n  &gt;&gt;\r\nendobj\r\n\r\n\r\n5 0 obj \r\n  &lt;&lt;\r\n    /Length 35 \r\n  &gt;&gt; \r\n  stream \r\n    q \r\n    209 0 0 241 0 0 cm\r\n    /Im1 Do \r\n    Q \r\n  endstream \r\nendobj\r\n\r\n4 0 obj\r\n  &lt;&lt;\r\n\r\n    /Type /XObject\r\n    /Filter /DCTDecode\r\n    /Length 8000\r\n    /ColorSpace /DeviceRGB\r\n    /Height 241\r\n    /Width 209\r\n    /Subtype /Image\r\n    /BitsPerComponent 8\r\n  &gt;&gt;\r\n    stream\r\n      ***\r\n    endstream\r\nendobj\r\n\r\n---------------------------------------------\r\n\r\ntrailer\r\n  &lt;&lt;\r\n\r\n    /Root 1 0 R\r\n    /Size 5\r\n  &gt;&gt;\r\n%%EOF\r\n```\r\n\r\nthe stream data marked as &quot;***&quot; are the image bytes I got by using (this is inserted in the file by java):\r\n```\r\njava.nio.file.Files.readAllBytes(Paths.get(image.getPath())))\r\n```\r\n\r\nWhen viewig the pdf it does not display the image. The image I used can be found here: https://rp-do-not-delete.s3.eu-central-1.amazonaws.com/download.jpeg.\r\n\r\nI read the image width, height and byte length by reading the BufferedImage.getData() data, so, as far as I know, it should be correct.\r\n\r\nDoes anyone know what is wrong or what way I can approach this problem? Feel free to ask additional information like Java code I used etc.","title":"How to insert image in pdf using Java","body":"<p>I am trying to create pdfs with Java. I do not want to use libraries like ITextPdf but want to generate the raw code of the pdf with Java. I got the basics down and am able to create some pdfs. The thing I am struggling with is inserting images in the pdf. As far as I understand JPEG's are the easiest ones to use since the raw data can be inserten in de the pdf. When I am trying this, it does not work however. I am reading the JPEG data with java ad inserting this in the pdf.</p>\n<p>The generated PDF code looks like this:</p>\n<pre><code>%PDF-1.7\n\n1 0 obj\n  &lt;&lt;\n\n    /Type /Catalog\n    /Pages 2 0 R\n  &gt;&gt;\nendobj\n\n2 0 obj\n  &lt;&lt;\n\n    /Type /Pages\n    /Count 1\n    /Kids [3 0 R]\n  &gt;&gt;\nendobj\n\n---------------------------------------------\n\n3 0 obj\n  &lt;&lt;\n\n    /Type /Page\n    /Parent 2 0 R\n    /MediaBox [0 0 595 842]\n    /Contents [5 0 R]\n    /Resources\n    &lt;&lt;\n\n    /XObject\n      &lt;&lt;\n        /Im1 4 0 R\n      &gt;&gt;\n    &gt;&gt;\n  &gt;&gt;\nendobj\n\n\n5 0 obj \n  &lt;&lt;\n    /Length 35 \n  &gt;&gt; \n  stream \n    q \n    209 0 0 241 0 0 cm\n    /Im1 Do \n    Q \n  endstream \nendobj\n\n4 0 obj\n  &lt;&lt;\n\n    /Type /XObject\n    /Filter /DCTDecode\n    /Length 8000\n    /ColorSpace /DeviceRGB\n    /Height 241\n    /Width 209\n    /Subtype /Image\n    /BitsPerComponent 8\n  &gt;&gt;\n    stream\n      ***\n    endstream\nendobj\n\n---------------------------------------------\n\ntrailer\n  &lt;&lt;\n\n    /Root 1 0 R\n    /Size 5\n  &gt;&gt;\n%%EOF\n</code></pre>\n<p>the stream data marked as &quot;***&quot; are the image bytes I got by using (this is inserted in the file by java):</p>\n<pre><code>java.nio.file.Files.readAllBytes(Paths.get(image.getPath())))\n</code></pre>\n<p>When viewig the pdf it does not display the image. The image I used can be found here: <a href=\"https://rp-do-not-delete.s3.eu-central-1.amazonaws.com/download.jpeg\" rel=\"nofollow noreferrer\">https://rp-do-not-delete.s3.eu-central-1.amazonaws.com/download.jpeg</a>.</p>\n<p>I read the image width, height and byte length by reading the BufferedImage.getData() data, so, as far as I know, it should be correct.</p>\n<p>Does anyone know what is wrong or what way I can approach this problem? Feel free to ask additional information like Java code I used etc.</p>\n"},{"tags":["java","spring","spring-boot","spring-rabbit"],"comments":[{"owner":{"account_id":6180360,"reputation":1697,"user_id":4816061,"display_name":"jst"},"score":0,"creation_date":1437671011,"post_id":31589401,"comment_id":51139379,"body_markdown":"what does your amqp-context.xml look like?","body":"what does your amqp-context.xml look like?"},{"owner":{"account_id":2031159,"reputation":391,"user_id":2115479,"display_name":"Adi"},"score":0,"creation_date":1437899179,"post_id":31589401,"comment_id":51216788,"body_markdown":"@jst I added it to the content of the question","body":"@jst I added it to the content of the question"}],"answers":[{"tags":[],"owner":{"account_id":304234,"reputation":32207,"user_id":613628,"accept_rate":100,"display_name":"Stephane Nicoll"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437661736,"creation_date":1437661736,"answer_id":31590318,"question_id":31589401,"body_markdown":"Good catch! I&#39;ve created [#3587](https://github.com/spring-projects/spring-boot/issues/3587) which will be addressed for Spring Boot 1.3\r\n\r\nThanks!","title":"Disabling the listening to rabbit queues from spring application.properties","body":"<p>Good catch! I've created <a href=\"https://github.com/spring-projects/spring-boot/issues/3587\" rel=\"nofollow\">#3587</a> which will be addressed for Spring Boot 1.3</p>\n\n<p>Thanks!</p>\n"},{"comments":[{"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"score":0,"creation_date":1535547150,"post_id":31655738,"comment_id":91105646,"body_markdown":"Can you help me with related question here https://stackoverflow.com/questions/52068307/setting-listener-configuration-dynamically-based-on-environment-in-spring-xml","body":"Can you help me with related question here <a href=\"https://stackoverflow.com/questions/52068307/setting-listener-configuration-dynamically-based-on-environment-in-spring-xml\" title=\"setting listener configuration dynamically based on environment in spring xml\">stackoverflow.com/questions/52068307/&hellip;</a>"}],"tags":[],"owner":{"account_id":6180360,"reputation":1697,"user_id":4816061,"display_name":"jst"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1438006979,"creation_date":1438006979,"answer_id":31655738,"question_id":31589401,"body_markdown":"As an alternative to waiting for Boot 1.3, you can add your own key to application-development.properties like \r\n\r\n    rabbit.auto-startup=false\r\n\r\nThen modify your amqp-context.xml like this\r\n\r\n    &lt;rabbit:listener-container connection-factory=&quot;connectionFactory&quot; requeue-rejected=&quot;false&quot; concurrency=&quot;10&quot; auto-startup=${rabbit.auto-startup}&gt;","title":"Disabling the listening to rabbit queues from spring application.properties","body":"<p>As an alternative to waiting for Boot 1.3, you can add your own key to application-development.properties like </p>\n\n<pre><code>rabbit.auto-startup=false\n</code></pre>\n\n<p>Then modify your amqp-context.xml like this</p>\n\n<pre><code>&lt;rabbit:listener-container connection-factory=\"connectionFactory\" requeue-rejected=\"false\" concurrency=\"10\" auto-startup=${rabbit.auto-startup}&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10599416,"reputation":61,"user_id":7806799,"display_name":"Zhenya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637305020,"creation_date":1637301612,"answer_id":70030487,"question_id":31589401,"body_markdown":"This one &quot;`spring.autoconfigure.exclude: org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration`&quot; doesn&#39;t help me. So I just remove all properties start with `spring.cloud.stream.*` and spring.rabbitmq.addresses. Also add to your logback \r\n\r\n    &lt;logger name=&quot;org.springframework.amqp&quot; level=&quot;ERROR&quot;/&gt;\r\n    &lt;logger name=&quot;org.springframework.boot.actuate.amqp&quot; level=&quot;ERROR&quot;/&gt;.\r\n\r\nBecause when you remove the properties, spring output a lot of WARN logs.","title":"Disabling the listening to rabbit queues from spring application.properties","body":"<p>This one &quot;<code>spring.autoconfigure.exclude: org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration</code>&quot; doesn't help me. So I just remove all properties start with <code>spring.cloud.stream.*</code> and spring.rabbitmq.addresses. Also add to your logback</p>\n<pre><code>&lt;logger name=&quot;org.springframework.amqp&quot; level=&quot;ERROR&quot;/&gt;\n&lt;logger name=&quot;org.springframework.boot.actuate.amqp&quot; level=&quot;ERROR&quot;/&gt;.\n</code></pre>\n<p>Because when you remove the properties, spring output a lot of WARN logs.</p>\n"},{"tags":[],"owner":{"account_id":2759956,"reputation":6055,"user_id":2377044,"accept_rate":31,"display_name":"cnmuc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689025755,"creation_date":1689025755,"answer_id":76657540,"question_id":31589401,"body_markdown":"    spring.rabbitmq.listener.direct.auto-startup=false\r\n    spring.rabbitmq.listener.simple.auto-startup=false\r\n    spring.rabbitmq.listener.stream.auto-startup=false","title":"Disabling the listening to rabbit queues from spring application.properties","body":"<pre><code>spring.rabbitmq.listener.direct.auto-startup=false\nspring.rabbitmq.listener.simple.auto-startup=false\nspring.rabbitmq.listener.stream.auto-startup=false\n</code></pre>\n"}],"owner":{"account_id":2031159,"reputation":391,"user_id":2115479,"display_name":"Adi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21044,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":4,"score":16,"last_activity_date":1689025755,"creation_date":1437659466,"question_id":31589401,"body_markdown":"I want to create an application-development.properties file in spring to define a dev environment. In this environment want to disable the listening to the rabbit queues because I don&#39;t want to interfere with the staging queues while debugging etc. \r\n\r\nProblem is - I can&#39;t find a property that controls this. No &quot;active&quot; property or &quot;enabled&quot; property or anything..\r\n\r\nThese are the properties I found in the [Spring docs][1]:\r\n\r\n    # RABBIT (RabbitProperties)\r\n    spring.rabbitmq.addresses= # connection addresses (e.g. myhost:9999,otherhost:1111)\r\n    spring.rabbitmq.dynamic=true # create an AmqpAdmin bean\r\n    spring.rabbitmq.host= # connection host\r\n    spring.rabbitmq.port= # connection port\r\n    spring.rabbitmq.password= # login password\r\n    spring.rabbitmq.requested-heartbeat= # requested heartbeat timeout, in seconds; zero for none\r\n    spring.rabbitmq.listener.acknowledge-mode= # acknowledge mode of container\r\n    spring.rabbitmq.listener.concurrency= # minimum number of consumers\r\n    spring.rabbitmq.listener.max-concurrency= # maximum number of consumers\r\n    spring.rabbitmq.listener.prefetch= # number of messages to be handled in a single request\r\n    spring.rabbitmq.listener.transaction-size= # number of messages to be processed in a transaction\r\n    spring.rabbitmq.ssl.enabled=false # enable SSL support\r\n    spring.rabbitmq.ssl.key-store= # path to the key store that holds the SSL certificate\r\n    spring.rabbitmq.ssl.key-store-password= # password used to access the key store\r\n    spring.rabbitmq.ssl.trust-store= # trust store that holds SSL certificates\r\n    spring.rabbitmq.ssl.trust-store-password= # password used to access the trust store\r\n    spring.rabbitmq.username= # login user\r\n    spring.rabbitmq.virtual-host= # virtual host to use when connecting to the broker\r\n\r\nI did find a way not to load the amqp-context.xml beans that contain the listener definitions by using [Spring profiles][2] and add `&lt;beans profile=&quot;development&quot;&gt; .. &lt;/beans&gt;` to the xml but this is much less flexible as I have to define different profiles, and changing what they include involves changing the code.\r\n\r\n**EDIT** this is how my amqp-context.xml looks like:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:task=&quot;http://www.springframework.org/schema/task&quot; \r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns:rabbit=&quot;http://www.springframework.org/schema/rabbit&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n    \t\thttp://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\thttp://www.springframework.org/schema/task\r\n       \t\thttp://www.springframework.org/schema/task/spring-task-3.0.xsd\r\n    \t\thttp://www.springframework.org/schema/context \r\n    \t\thttp://www.springframework.org/schema/context/spring-context.xsd\r\n    \t\thttp://www.springframework.org/schema/rabbit \r\n    \t\thttp://www.springframework.org/schema/rabbit/spring-rabbit-1.3.xsd&quot;&gt;\r\n    \r\n    \t&lt;bean class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n    \t\t&lt;property name=&quot;ignoreResourceNotFound&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;property name=&quot;locations&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;value&gt;application.${env:xxxx}.properties&lt;/value&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;rabbit:connection-factory id=&quot;connectionFactory&quot; host=&quot;${rabbit_host}&quot;\r\n    \t\tvirtual-host=&quot;${rabbit_virtual_host}&quot; username=&quot;${rabbit_username}&quot; password=&quot;${rabbit_password}&quot; port=&quot;${rabbit_port}&quot;/&gt;\t\r\n    \r\n    \t&lt;!-- Connection Factory --&gt;\r\n    \t&lt;bean id=&quot;rabbitConnFactory&quot;\r\n    \t\tclass=&quot;org.springframework.amqp.rabbit.connection.CachingConnectionFactory&quot;&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \r\n    \t&lt;!-- Spring AMQP Template --&gt;\r\n    \t&lt;bean id=&quot;template&quot; class=&quot;org.springframework.amqp.rabbit.core.RabbitTemplate&quot;&gt;\r\n    \t\t&lt;property name=&quot;connectionFactory&quot; ref=&quot;connectionFactory&quot; /&gt;\r\n    \t\t&lt;property name=&quot;routingKey&quot; value=&quot;${my_queue}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;queue&quot; value=&quot;${my_queue}&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;!-- Spring AMQP Admin --&gt;\r\n    \t&lt;bean id=&quot;admin&quot; class=&quot;org.springframework.amqp.rabbit.core.RabbitAdmin&quot;&gt;\r\n    \t\t&lt;constructor-arg ref=&quot;rabbitConnFactory&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n     \t&lt;rabbit:listener-container connection-factory=&quot;connectionFactory&quot; requeue-rejected=&quot;false&quot; concurrency=&quot;10&quot;&gt;\r\n    \t\t&lt;rabbit:listener ref=&quot;ProcessMessage&quot;\r\n    \t\t\tqueue-names=&quot;${queue_name}&quot; /&gt;\r\n    \t&lt;/rabbit:listener-container&gt; \r\n    \r\n    \t&lt;bean id=&quot;ProcessStuff&quot; class=&quot;Process&quot; /&gt;\r\n    \r\n    \t\r\n    \t\r\n    &lt;/beans&gt;\r\n\r\nDoes anyone have an idea on how I can manage the listening to queues directly from the application.properties file? please?\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/html/common-application-properties.html\r\n  [2]: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-profiles.html","title":"Disabling the listening to rabbit queues from spring application.properties","body":"<p>I want to create an application-development.properties file in spring to define a dev environment. In this environment want to disable the listening to the rabbit queues because I don't want to interfere with the staging queues while debugging etc. </p>\n\n<p>Problem is - I can't find a property that controls this. No \"active\" property or \"enabled\" property or anything..</p>\n\n<p>These are the properties I found in the <a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/html/common-application-properties.html\" rel=\"noreferrer\">Spring docs</a>:</p>\n\n<pre><code># RABBIT (RabbitProperties)\nspring.rabbitmq.addresses= # connection addresses (e.g. myhost:9999,otherhost:1111)\nspring.rabbitmq.dynamic=true # create an AmqpAdmin bean\nspring.rabbitmq.host= # connection host\nspring.rabbitmq.port= # connection port\nspring.rabbitmq.password= # login password\nspring.rabbitmq.requested-heartbeat= # requested heartbeat timeout, in seconds; zero for none\nspring.rabbitmq.listener.acknowledge-mode= # acknowledge mode of container\nspring.rabbitmq.listener.concurrency= # minimum number of consumers\nspring.rabbitmq.listener.max-concurrency= # maximum number of consumers\nspring.rabbitmq.listener.prefetch= # number of messages to be handled in a single request\nspring.rabbitmq.listener.transaction-size= # number of messages to be processed in a transaction\nspring.rabbitmq.ssl.enabled=false # enable SSL support\nspring.rabbitmq.ssl.key-store= # path to the key store that holds the SSL certificate\nspring.rabbitmq.ssl.key-store-password= # password used to access the key store\nspring.rabbitmq.ssl.trust-store= # trust store that holds SSL certificates\nspring.rabbitmq.ssl.trust-store-password= # password used to access the trust store\nspring.rabbitmq.username= # login user\nspring.rabbitmq.virtual-host= # virtual host to use when connecting to the broker\n</code></pre>\n\n<p>I did find a way not to load the amqp-context.xml beans that contain the listener definitions by using <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-profiles.html\" rel=\"noreferrer\">Spring profiles</a> and add <code>&lt;beans profile=\"development\"&gt; .. &lt;/beans&gt;</code> to the xml but this is much less flexible as I have to define different profiles, and changing what they include involves changing the code.</p>\n\n<p><strong>EDIT</strong> this is how my amqp-context.xml looks like:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:task=\"http://www.springframework.org/schema/task\" \n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:p=\"http://www.springframework.org/schema/p\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:rabbit=\"http://www.springframework.org/schema/rabbit\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans \n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/task\n        http://www.springframework.org/schema/task/spring-task-3.0.xsd\n        http://www.springframework.org/schema/context \n        http://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/rabbit \n        http://www.springframework.org/schema/rabbit/spring-rabbit-1.3.xsd\"&gt;\n\n    &lt;bean class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n        &lt;property name=\"ignoreResourceNotFound\" value=\"true\" /&gt;\n        &lt;property name=\"locations\"&gt;\n            &lt;list&gt;\n                &lt;value&gt;application.${env:xxxx}.properties&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    &lt;rabbit:connection-factory id=\"connectionFactory\" host=\"${rabbit_host}\"\n        virtual-host=\"${rabbit_virtual_host}\" username=\"${rabbit_username}\" password=\"${rabbit_password}\" port=\"${rabbit_port}\"/&gt;   \n\n    &lt;!-- Connection Factory --&gt;\n    &lt;bean id=\"rabbitConnFactory\"\n        class=\"org.springframework.amqp.rabbit.connection.CachingConnectionFactory\"&gt;\n    &lt;/bean&gt;\n\n\n    &lt;!-- Spring AMQP Template --&gt;\n    &lt;bean id=\"template\" class=\"org.springframework.amqp.rabbit.core.RabbitTemplate\"&gt;\n        &lt;property name=\"connectionFactory\" ref=\"connectionFactory\" /&gt;\n        &lt;property name=\"routingKey\" value=\"${my_queue}\" /&gt;\n        &lt;property name=\"queue\" value=\"${my_queue}\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Spring AMQP Admin --&gt;\n    &lt;bean id=\"admin\" class=\"org.springframework.amqp.rabbit.core.RabbitAdmin\"&gt;\n        &lt;constructor-arg ref=\"rabbitConnFactory\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;rabbit:listener-container connection-factory=\"connectionFactory\" requeue-rejected=\"false\" concurrency=\"10\"&gt;\n        &lt;rabbit:listener ref=\"ProcessMessage\"\n            queue-names=\"${queue_name}\" /&gt;\n    &lt;/rabbit:listener-container&gt; \n\n    &lt;bean id=\"ProcessStuff\" class=\"Process\" /&gt;\n\n\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>Does anyone have an idea on how I can manage the listening to queues directly from the application.properties file? please?</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","auth0"],"comments":[{"owner":{"account_id":8104679,"reputation":1650,"user_id":6106641,"accept_rate":80,"display_name":"Archmede"},"score":1,"creation_date":1666730004,"post_id":72362533,"comment_id":131004673,"body_markdown":"Here&#39;s another example of how this can be solved https://github.com/spring-projects/spring-security/issues/11783","body":"Here&#39;s another example of how this can be solved <a href=\"https://github.com/spring-projects/spring-security/issues/11783\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/issues/11783</a>"}],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653467809,"creation_date":1653467809,"answer_id":72374400,"question_id":72362533,"body_markdown":"I believe you need to use `ServerOAuth2AuthorizedClientExchangeFilterFunction` instead of `ServletOAuth2AuthorizedClientExchangeFilterFunction` for the `WebClient` configuration.\r\n\r\n`Servletxxxxx` only works in blocking environment if I remember correctly but most have a `Serverxxxxx` alternative for non-blocking..","title":"OAuth2 client with extra parameters in body (Audience)","body":"<p>I believe you need to use <code>ServerOAuth2AuthorizedClientExchangeFilterFunction</code> instead of <code>ServletOAuth2AuthorizedClientExchangeFilterFunction</code> for the <code>WebClient</code> configuration.</p>\n<p><code>Servletxxxxx</code> only works in blocking environment if I remember correctly but most have a <code>Serverxxxxx</code> alternative for non-blocking..</p>\n"},{"comments":[{"owner":{"account_id":441129,"reputation":2872,"user_id":831061,"accept_rate":75,"display_name":"luso"},"score":0,"creation_date":1654021001,"post_id":72446522,"comment_id":127991498,"body_markdown":"Even if @grekier pointed out an issue, this actually made the deal. Thank you","body":"Even if @grekier pointed out an issue, this actually made the deal. Thank you"}],"tags":[],"owner":{"account_id":3654799,"reputation":573,"user_id":3046117,"display_name":"supik"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653994549,"creation_date":1653994549,"answer_id":72446522,"question_id":72362533,"body_markdown":"The argument of `clientCredentials()` is a builder `Consumer`. This means that the function you provide takes a builder as an argument that you then need to use for futher configuration, i.e. configure it to use your newly created client. You are doing nothing with the builder in your code, hence whatever you create in the function is just a local variable that is never used.\r\n\r\n    var authorizedClientProvider =\r\n           OAuth2AuthorizedClientProviderBuilder.builder()\r\n                     .refreshToken()\r\n                     .clientCredentials(clientCredentialsGrantBuilder -&gt; {\r\n                                 var clientCredentialsTokenResponseClient = new DefaultClientCredentialsTokenResponseClient();\r\n                                 clientCredentialsTokenResponseClient.setRequestEntityConverter(customRequestEntityConverter); \r\n                                 clientCredentialsGrantBuilder.accessTokenResponseClient(clientCredentialsTokenResponseClient);\r\n                      })\r\n                     .build();\r\n\r\nNote the `clientCredentialsGrantBuilder.accessTokenResponseClient()` line.\r\n","title":"OAuth2 client with extra parameters in body (Audience)","body":"<p>The argument of <code>clientCredentials()</code> is a builder <code>Consumer</code>. This means that the function you provide takes a builder as an argument that you then need to use for futher configuration, i.e. configure it to use your newly created client. You are doing nothing with the builder in your code, hence whatever you create in the function is just a local variable that is never used.</p>\n<pre><code>var authorizedClientProvider =\n       OAuth2AuthorizedClientProviderBuilder.builder()\n                 .refreshToken()\n                 .clientCredentials(clientCredentialsGrantBuilder -&gt; {\n                             var clientCredentialsTokenResponseClient = new DefaultClientCredentialsTokenResponseClient();\n                             clientCredentialsTokenResponseClient.setRequestEntityConverter(customRequestEntityConverter); \n                             clientCredentialsGrantBuilder.accessTokenResponseClient(clientCredentialsTokenResponseClient);\n                  })\n                 .build();\n</code></pre>\n<p>Note the <code>clientCredentialsGrantBuilder.accessTokenResponseClient()</code> line.</p>\n"},{"tags":[],"owner":{"account_id":17045705,"reputation":112,"user_id":19623995,"display_name":"Maxime Dutaut"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1688984494,"creation_date":1688984494,"answer_id":76652811,"question_id":72362533,"body_markdown":"As several classes got deprecated since the last answer, I am posting my solution in Spring 2.7.13 / 3.1.1\r\n\r\n    @Bean(&quot;apiGatewayWebClient&quot;)\r\n\tpublic WebClient apiGatewayWebClient(ReactiveClientRegistrationRepository clientRegistrations) {\r\n\t\tInMemoryReactiveOAuth2AuthorizedClientService clientService =\r\n\t\t\t\tnew InMemoryReactiveOAuth2AuthorizedClientService(clientRegistrations);\r\n\t\tAuthorizedClientServiceReactiveOAuth2AuthorizedClientManager authorizedClientManager =\r\n\t\t\t\tnew AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(clientRegistrations, clientService);\r\n\t\tauthorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider());\r\n\r\n\t\tServerOAuth2AuthorizedClientExchangeFilterFunction oauth =\r\n\t\t\t\tnew ServerOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\r\n\t\toauth.setDefaultClientRegistrationId(&quot;adfs&quot;);\r\n\r\n\t\treturn WebClient.builder()\r\n\t\t\t\t.filter(oauth)\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\tprivate ReactiveOAuth2AuthorizedClientProvider authorizedClientProvider() {\r\n\t\tWebClientReactiveClientCredentialsTokenResponseClient responseClient =\r\n\t\t\t\tnew WebClientReactiveClientCredentialsTokenResponseClient();\r\n\r\n\t\t// Spring does not provide a configuration only way to add &#39;resource&#39; to the message body\r\n\t\t// See https://docs.spring.io/spring-security/reference/servlet/oauth2/client/authorization-grants.html#_customizing_the_access_token_request_2\r\n\t\tresponseClient.addParametersConverter(\r\n\t\t\t\tsource -&gt; {\r\n\t\t\t\t\tLinkedMultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\r\n\t\t\t\t\tmap.add(&quot;audience&quot;, &quot;myAudience&quot;);\r\n\t\t\t\t\treturn map;\r\n\t\t\t\t}\r\n\t\t);\r\n\r\n\t\treturn ReactiveOAuth2AuthorizedClientProviderBuilder.builder()\r\n\t\t\t\t.clientCredentials(clientCredentialsGrantBuilder -&gt;\r\n\t\t\t\t\t\tclientCredentialsGrantBuilder.accessTokenResponseClient(responseClient))\r\n\t\t\t\t.build();\r\n\t}\r\n\r\nWith application.yml\r\n\r\n    spring:\r\n    security:\r\n        oauth2:\r\n            client:\r\n                registration:\r\n                    adfs:\r\n                        client-id: &#39;client:id&#39;\r\n                        client-secret: &#39;???????&#39;\r\n                        authorization-grant-type: &#39;client_credentials&#39;\r\n                provider:\r\n                    adfs:\r\n                        token-uri: &#39;https://domain.eu.auth0.com/oauth/token&#39;\r\n\r\n","title":"OAuth2 client with extra parameters in body (Audience)","body":"<p>As several classes got deprecated since the last answer, I am posting my solution in Spring 2.7.13 / 3.1.1</p>\n<pre><code>@Bean(&quot;apiGatewayWebClient&quot;)\npublic WebClient apiGatewayWebClient(ReactiveClientRegistrationRepository clientRegistrations) {\n    InMemoryReactiveOAuth2AuthorizedClientService clientService =\n            new InMemoryReactiveOAuth2AuthorizedClientService(clientRegistrations);\n    AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager authorizedClientManager =\n            new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(clientRegistrations, clientService);\n    authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider());\n\n    ServerOAuth2AuthorizedClientExchangeFilterFunction oauth =\n            new ServerOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\n    oauth.setDefaultClientRegistrationId(&quot;adfs&quot;);\n\n    return WebClient.builder()\n            .filter(oauth)\n            .build();\n}\n\nprivate ReactiveOAuth2AuthorizedClientProvider authorizedClientProvider() {\n    WebClientReactiveClientCredentialsTokenResponseClient responseClient =\n            new WebClientReactiveClientCredentialsTokenResponseClient();\n\n    // Spring does not provide a configuration only way to add 'resource' to the message body\n    // See https://docs.spring.io/spring-security/reference/servlet/oauth2/client/authorization-grants.html#_customizing_the_access_token_request_2\n    responseClient.addParametersConverter(\n            source -&gt; {\n                LinkedMultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\n                map.add(&quot;audience&quot;, &quot;myAudience&quot;);\n                return map;\n            }\n    );\n\n    return ReactiveOAuth2AuthorizedClientProviderBuilder.builder()\n            .clientCredentials(clientCredentialsGrantBuilder -&gt;\n                    clientCredentialsGrantBuilder.accessTokenResponseClient(responseClient))\n            .build();\n}\n</code></pre>\n<p>With application.yml</p>\n<pre><code>spring:\nsecurity:\n    oauth2:\n        client:\n            registration:\n                adfs:\n                    client-id: 'client:id'\n                    client-secret: '???????'\n                    authorization-grant-type: 'client_credentials'\n            provider:\n                adfs:\n                    token-uri: 'https://domain.eu.auth0.com/oauth/token'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689025228,"creation_date":1689025228,"answer_id":76657505,"question_id":72362533,"body_markdown":"I maintain a [Spring Boot starter][1] which enables to define in application properties any additional parameter to authorization_code requests:\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;!-- For a reactive application, use spring-boot-starter-webflux instead --&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-addons-starter-oidc&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```yaml\r\nauth0-issuer: https://domain.eu.auth0.com/\r\nauth0-client-id: change-me\r\nauth0-client-secret: change-me\r\nauth0-aud: http://localhost:8080\r\n\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        provider:\r\n          auth0:\r\n            issuer-uri: ${auth0-issuer}\r\n        registration:\r\n          auth0-authorization-code:\r\n            authorization-grant-type: authorization_code\r\n            client-id: ${auth0-client-id}\r\n            client-secret: ${auth0-client-secret}\r\n            provider: auth0\r\n            scope: openid,profile,email,offline_access\r\ncom:\r\n  c4-soft:\r\n    springaddons:\r\n      oidc:\r\n        ops:\r\n        - iss: ${auth0-issuer}\r\n          # You can replace it to a JSON path to any claim, even a nested private claim like $[&#39;https://c4-soft.com&#39;][&#39;name&#39;]\r\n          username-claim: $.sub\r\n          authorities:\r\n          - path: roles\r\n          - path: permissions\r\n          - path: $[&#39;https://c4-soft.com&#39;][&#39;authorities&#39;]\r\n        client:\r\n          security-matchers:\r\n          - /**\r\n          permit-all:\r\n          - /login/**\r\n          - /oauth2/**\r\n          - /\r\n          # By default, Auth0 does not follow strictly the OpenID RP-Initiated Logout spec and needs specific configuration\r\n          oauth2-logout:\r\n            auth0-authorization-code:\r\n              uri: ${auth0-issuer}v2/logout\r\n              client-id-request-param: client_id\r\n              post-logout-uri-request-param: returnTo\r\n          # Auth0 requires an &quot;audience&quot; parameter in authorization-code request to deliver JWTs\r\n          authorization-request-params:\r\n            auth0-authorization-code:\r\n            - name: audience\r\n              value: ${auth0-aud}\r\n```\r\nAnd that&#39;s it, no Java conf required.\r\n\r\nThe [tutorials][2] section of the repo linked above, include an [Auth0 configuration README][3] with instructions to create an &quot;action&quot; adding user details to access tokens.\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\r\n  [3]: https://github.com/ch4mpy/spring-addons/blob/master/samples/tutorials/auth0.md","title":"OAuth2 client with extra parameters in body (Audience)","body":"<p>I maintain a <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">Spring Boot starter</a> which enables to define in application properties any additional parameter to authorization_code requests:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;!-- For a reactive application, use spring-boot-starter-webflux instead --&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-addons-starter-oidc&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>auth0-issuer: https://domain.eu.auth0.com/\nauth0-client-id: change-me\nauth0-client-secret: change-me\nauth0-aud: http://localhost:8080\n\nspring:\n  security:\n    oauth2:\n      client:\n        provider:\n          auth0:\n            issuer-uri: ${auth0-issuer}\n        registration:\n          auth0-authorization-code:\n            authorization-grant-type: authorization_code\n            client-id: ${auth0-client-id}\n            client-secret: ${auth0-client-secret}\n            provider: auth0\n            scope: openid,profile,email,offline_access\ncom:\n  c4-soft:\n    springaddons:\n      oidc:\n        ops:\n        - iss: ${auth0-issuer}\n          # You can replace it to a JSON path to any claim, even a nested private claim like $['https://c4-soft.com']['name']\n          username-claim: $.sub\n          authorities:\n          - path: roles\n          - path: permissions\n          - path: $['https://c4-soft.com']['authorities']\n        client:\n          security-matchers:\n          - /**\n          permit-all:\n          - /login/**\n          - /oauth2/**\n          - /\n          # By default, Auth0 does not follow strictly the OpenID RP-Initiated Logout spec and needs specific configuration\n          oauth2-logout:\n            auth0-authorization-code:\n              uri: ${auth0-issuer}v2/logout\n              client-id-request-param: client_id\n              post-logout-uri-request-param: returnTo\n          # Auth0 requires an &quot;audience&quot; parameter in authorization-code request to deliver JWTs\n          authorization-request-params:\n            auth0-authorization-code:\n            - name: audience\n              value: ${auth0-aud}\n</code></pre>\n<p>And that's it, no Java conf required.</p>\n<p>The <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">tutorials</a> section of the repo linked above, include an <a href=\"https://github.com/ch4mpy/spring-addons/blob/master/samples/tutorials/auth0.md\" rel=\"nofollow noreferrer\">Auth0 configuration README</a> with instructions to create an &quot;action&quot; adding user details to access tokens.</p>\n"}],"owner":{"account_id":441129,"reputation":2872,"user_id":831061,"accept_rate":75,"display_name":"luso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5009,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":72446522,"answer_count":4,"score":6,"last_activity_date":1689025228,"creation_date":1653393585,"question_id":72362533,"body_markdown":"Seems that with Auth0, when in a M2M flow, we need to pass the `audience` parameter in the authorization request, and the the token will be issued for such `audience`\r\n\r\n    curl --request POST \\\r\n      --url https://domain.eu.auth0.com/oauth/token \\\r\n      --header &#39;content-type: application/json&#39; \\\r\n      --data &#39;{&quot;client_id&quot;:&quot;xxxxx&quot;,&quot;client_secret&quot;:&quot;xxxxx&quot;,&quot;audience&quot;:&quot;my-api-audience&quot;,&quot;grant_type&quot;:&quot;client_credentials&quot;}&#39;\r\n\r\notherwise, an error is thrown\r\n\r\n    403 Forbidden: &quot;{&quot;error&quot;:&quot;access_denied&quot;,&quot;error_description&quot;:&quot;No audience parameter was provided, and no default audience has been configured&quot;}&quot;\r\n\r\nI try to implement a `Client Credentials` flow with Spring Boot using the new Spring Security 5 approach with webflux using WebClient. \r\n\r\nhttps://github.com/spring-projects/spring-security-samples/tree/main/servlet/spring-boot/java/oauth2/webclient\r\n\r\nSpring doesn&#39;t provide a way to add custom parameters to the Auth requests so as by this post \r\n\r\nhttps://github.com/spring-projects/spring-security/issues/6569\r\n\r\nI have to implement a custom converter.\r\n\r\nEverything seems to be injected fine on startup but the converted is never invoked when accessing the client&#39;s endpoint `localhost/api/explicit` so I keep stuck with the `audience` problem.\r\n\r\n\r\n### WebClientConfig.java \r\n\r\n    @Configuration\r\n    public class WebClientConfig {\r\n        @Value(&quot;${resource-uri}&quot;)\r\n        String resourceUri;\r\n    \r\n        @Value(&quot;${wallet-audience}&quot;)\r\n        String audience;\r\n    \r\n           @Bean\r\n            WebClient webClient(OAuth2AuthorizedClientManager authorizedClientManager) {\r\n    \r\n                var oauth2 = new ServletOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\r\n    \r\n                return WebClient.builder()\r\n                        .filter(oauth2)\r\n                        // TRIED BOTH\r\n                        //.apply(oauth2.oauth2Configuration())\r\n                        .build();\r\n            }\r\n    \r\n            @Bean\r\n            OAuth2AuthorizedClientManager authorizedClientManager(ClientRegistrationRepository clientRegistrationRepository, OAuth2AuthorizedClientRepository authorizedClientRepository) {\r\n    \r\n                Converter&lt;OAuth2ClientCredentialsGrantRequest, RequestEntity&lt;?&gt;&gt; customRequestEntityConverter = new Auth0ClientCredentialsGrantRequestEntityConverter(audience);\r\n    \r\n                // @formatter:off\r\n                var authorizedClientProvider =\r\n                        OAuth2AuthorizedClientProviderBuilder.builder()\r\n                                                             .refreshToken()\r\n                                                             .clientCredentials(clientCredentialsGrantBuilder -&gt; {\r\n                                                                 var clientCredentialsTokenResponseClient = new DefaultClientCredentialsTokenResponseClient();\r\n                                                                 clientCredentialsTokenResponseClient.setRequestEntityConverter(customRequestEntityConverter);\r\n                                                             })\r\n                                                             .build();\r\n                // @formatter:on\r\n    \r\n                var authorizedClientManager = new DefaultOAuth2AuthorizedClientManager(clientRegistrationRepository, authorizedClientRepository);\r\n                authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider);\r\n    \r\n                return authorizedClientManager;\r\n            }\r\n\r\n### Auth0ClientCredentialsGrantRequestEntityConverter.java\r\n\r\nthanks to https://www.aheritier.net/spring-boot-app-client-of-an-auth0-protected-service-jwt/\r\n\r\n\r\n    import org.springframework.core.convert.converter.Converter;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.RequestEntity;\r\n    import org.springframework.security.oauth2.client.endpoint.OAuth2ClientCredentialsGrantRequest;\r\n    import org.springframework.security.oauth2.client.registration.ClientRegistration;\r\n    import org.springframework.security.oauth2.core.ClientAuthenticationMethod;\r\n    import org.springframework.security.oauth2.core.endpoint.OAuth2ParameterNames;\r\n    import org.springframework.util.CollectionUtils;\r\n    import org.springframework.util.LinkedMultiValueMap;\r\n    import org.springframework.util.MultiValueMap;\r\n    import org.springframework.util.StringUtils;\r\n    import org.springframework.web.util.UriComponentsBuilder;\r\n    \r\n    import java.util.Collections;\r\n    \r\n    public final class Auth0ClientCredentialsGrantRequestEntityConverter implements Converter&lt;OAuth2ClientCredentialsGrantRequest, RequestEntity&lt;?&gt;&gt; {\r\n    \r\n        private static final HttpHeaders DEFAULT_TOKEN_REQUEST_HEADERS = getDefaultTokenRequestHeaders();\r\n    \r\n        private final String audience;\r\n    \r\n        /**\r\n         * @param audience The audience to pass to Auth0\r\n         */\r\n        public Auth0ClientCredentialsGrantRequestEntityConverter(String audience) {\r\n            this.audience = audience;\r\n        }\r\n    \r\n        /**\r\n         * Returns the {@link RequestEntity} used for the Access Token Request.\r\n         *\r\n         * @param clientCredentialsGrantRequest the client credentials grant request\r\n         * @return the {@link RequestEntity} used for the Access Token Request\r\n         */\r\n        @Override\r\n        public RequestEntity&lt;?&gt; convert(OAuth2ClientCredentialsGrantRequest clientCredentialsGrantRequest) {\r\n            var clientRegistration = clientCredentialsGrantRequest.getClientRegistration();\r\n            var headers = getTokenRequestHeaders(clientRegistration);\r\n            var formParameters = this.buildFormParameters(clientCredentialsGrantRequest);\r\n            var uri = UriComponentsBuilder.fromUriString(clientRegistration.getProviderDetails().getTokenUri())\r\n                                          .build()\r\n                                          .toUri();\r\n            return new RequestEntity&lt;&gt;(formParameters, headers, HttpMethod.POST, uri);\r\n        }\r\n    \r\n        /**\r\n         * Returns a {@link MultiValueMap} of the form parameters used for the Access Token\r\n         * Request body.\r\n         *\r\n         * @param clientCredentialsGrantRequest the client credentials grant request\r\n         * @return a {@link MultiValueMap} of the form parameters used for the Access Token\r\n         * Request body\r\n         */\r\n        private MultiValueMap&lt;String, String&gt; buildFormParameters(OAuth2ClientCredentialsGrantRequest clientCredentialsGrantRequest) {\r\n            var clientRegistration = clientCredentialsGrantRequest.getClientRegistration();\r\n            MultiValueMap&lt;String, String&gt; formParameters = new LinkedMultiValueMap&lt;&gt;();\r\n            formParameters.add(OAuth2ParameterNames.GRANT_TYPE, clientCredentialsGrantRequest.getGrantType().getValue());\r\n    \r\n            if (!CollectionUtils.isEmpty(clientRegistration.getScopes())) {\r\n                formParameters.add(OAuth2ParameterNames.SCOPE,\r\n                        StringUtils.collectionToDelimitedString(clientRegistration.getScopes(), &quot; &quot;));\r\n            }\r\n    \r\n            if (ClientAuthenticationMethod.POST.equals(clientRegistration.getClientAuthenticationMethod())) {\r\n                formParameters.add(OAuth2ParameterNames.CLIENT_ID, clientRegistration.getClientId());\r\n                formParameters.add(OAuth2ParameterNames.CLIENT_SECRET, clientRegistration.getClientSecret());\r\n            }\r\n    \r\n            formParameters.add(&quot;audience&quot;, this.audience);\r\n            return formParameters;\r\n        }\r\n    \r\n        private static HttpHeaders getTokenRequestHeaders(ClientRegistration clientRegistration) {\r\n            var headers = new HttpHeaders();\r\n            headers.addAll(DEFAULT_TOKEN_REQUEST_HEADERS);\r\n            if (ClientAuthenticationMethod.BASIC.equals(clientRegistration.getClientAuthenticationMethod())) {\r\n                headers.setBasicAuth(clientRegistration.getClientId(), clientRegistration.getClientSecret());\r\n            }\r\n            return headers;\r\n        }\r\n    \r\n        private static HttpHeaders getDefaultTokenRequestHeaders() {\r\n            var headers = new HttpHeaders();\r\n            final var contentType = MediaType.valueOf(MediaType.APPLICATION_FORM_URLENCODED_VALUE + &quot;;charset=UTF-8&quot;);\r\n    \r\n            headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n            headers.setContentType(contentType);\r\n    \r\n            return headers;\r\n        }\r\n    \r\n    }\r\n\r\n### Controller.java\r\n\r\n@RestController\r\npublic class PrivateController {\r\n\r\n    private final WebClient webClient;\r\n\r\n    public PrivateController(WebClient webClient) {\r\n        this.webClient = webClient;\r\n    }\r\n\r\n    @GetMapping(&quot;/explicit&quot;)\r\n    String explicit(Model model, @RegisteredOAuth2AuthorizedClient(&quot;wallet&quot;) OAuth2AuthorizedClient authorizedClient) {\r\n\r\n        String body = this.webClient\r\n                .get()\r\n                .attributes(oauth2AuthorizedClient(authorizedClient))\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .block();\r\n\r\n        model.addAttribute(&quot;body&quot;, body);\r\n        return &quot;response&quot;;\r\n    }\r\n}\r\n\r\n\r\n### application.properties\r\n\r\n    spring.security.oauth2.client.registration.wallet.client-id                = \r\n    spring.security.oauth2.client.registration.wallet.client-secret            =\r\n    spring.security.oauth2.client.registration.wallet.scope[]                  = read:transaction,write:transaction\r\n    spring.security.oauth2.client.registration.wallet.authorization-grant-type = client_credentials\r\n    \r\n    spring.security.oauth2.client.provider.wallet.issuer-uri                   = https://domain.eu.auth0.com/\r\n    \r\n    resource-uri                                                               = http://localhost:8081/api/wallet\r\n    wallet-audience                                                            = https://wallet\r\n\r\n","title":"OAuth2 client with extra parameters in body (Audience)","body":"<p>Seems that with Auth0, when in a M2M flow, we need to pass the <code>audience</code> parameter in the authorization request, and the the token will be issued for such <code>audience</code></p>\n<pre><code>curl --request POST \\\n  --url https://domain.eu.auth0.com/oauth/token \\\n  --header 'content-type: application/json' \\\n  --data '{&quot;client_id&quot;:&quot;xxxxx&quot;,&quot;client_secret&quot;:&quot;xxxxx&quot;,&quot;audience&quot;:&quot;my-api-audience&quot;,&quot;grant_type&quot;:&quot;client_credentials&quot;}'\n</code></pre>\n<p>otherwise, an error is thrown</p>\n<pre><code>403 Forbidden: &quot;{&quot;error&quot;:&quot;access_denied&quot;,&quot;error_description&quot;:&quot;No audience parameter was provided, and no default audience has been configured&quot;}&quot;\n</code></pre>\n<p>I try to implement a <code>Client Credentials</code> flow with Spring Boot using the new Spring Security 5 approach with webflux using WebClient.</p>\n<p><a href=\"https://github.com/spring-projects/spring-security-samples/tree/main/servlet/spring-boot/java/oauth2/webclient\" rel=\"noreferrer\">https://github.com/spring-projects/spring-security-samples/tree/main/servlet/spring-boot/java/oauth2/webclient</a></p>\n<p>Spring doesn't provide a way to add custom parameters to the Auth requests so as by this post</p>\n<p><a href=\"https://github.com/spring-projects/spring-security/issues/6569\" rel=\"noreferrer\">https://github.com/spring-projects/spring-security/issues/6569</a></p>\n<p>I have to implement a custom converter.</p>\n<p>Everything seems to be injected fine on startup but the converted is never invoked when accessing the client's endpoint <code>localhost/api/explicit</code> so I keep stuck with the <code>audience</code> problem.</p>\n<h3>WebClientConfig.java</h3>\n<pre><code>@Configuration\npublic class WebClientConfig {\n    @Value(&quot;${resource-uri}&quot;)\n    String resourceUri;\n\n    @Value(&quot;${wallet-audience}&quot;)\n    String audience;\n\n       @Bean\n        WebClient webClient(OAuth2AuthorizedClientManager authorizedClientManager) {\n\n            var oauth2 = new ServletOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\n\n            return WebClient.builder()\n                    .filter(oauth2)\n                    // TRIED BOTH\n                    //.apply(oauth2.oauth2Configuration())\n                    .build();\n        }\n\n        @Bean\n        OAuth2AuthorizedClientManager authorizedClientManager(ClientRegistrationRepository clientRegistrationRepository, OAuth2AuthorizedClientRepository authorizedClientRepository) {\n\n            Converter&lt;OAuth2ClientCredentialsGrantRequest, RequestEntity&lt;?&gt;&gt; customRequestEntityConverter = new Auth0ClientCredentialsGrantRequestEntityConverter(audience);\n\n            // @formatter:off\n            var authorizedClientProvider =\n                    OAuth2AuthorizedClientProviderBuilder.builder()\n                                                         .refreshToken()\n                                                         .clientCredentials(clientCredentialsGrantBuilder -&gt; {\n                                                             var clientCredentialsTokenResponseClient = new DefaultClientCredentialsTokenResponseClient();\n                                                             clientCredentialsTokenResponseClient.setRequestEntityConverter(customRequestEntityConverter);\n                                                         })\n                                                         .build();\n            // @formatter:on\n\n            var authorizedClientManager = new DefaultOAuth2AuthorizedClientManager(clientRegistrationRepository, authorizedClientRepository);\n            authorizedClientManager.setAuthorizedClientProvider(authorizedClientProvider);\n\n            return authorizedClientManager;\n        }\n</code></pre>\n<h3>Auth0ClientCredentialsGrantRequestEntityConverter.java</h3>\n<p>thanks to <a href=\"https://www.aheritier.net/spring-boot-app-client-of-an-auth0-protected-service-jwt/\" rel=\"noreferrer\">https://www.aheritier.net/spring-boot-app-client-of-an-auth0-protected-service-jwt/</a></p>\n<pre><code>import org.springframework.core.convert.converter.Converter;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.RequestEntity;\nimport org.springframework.security.oauth2.client.endpoint.OAuth2ClientCredentialsGrantRequest;\nimport org.springframework.security.oauth2.client.registration.ClientRegistration;\nimport org.springframework.security.oauth2.core.ClientAuthenticationMethod;\nimport org.springframework.security.oauth2.core.endpoint.OAuth2ParameterNames;\nimport org.springframework.util.CollectionUtils;\nimport org.springframework.util.LinkedMultiValueMap;\nimport org.springframework.util.MultiValueMap;\nimport org.springframework.util.StringUtils;\nimport org.springframework.web.util.UriComponentsBuilder;\n\nimport java.util.Collections;\n\npublic final class Auth0ClientCredentialsGrantRequestEntityConverter implements Converter&lt;OAuth2ClientCredentialsGrantRequest, RequestEntity&lt;?&gt;&gt; {\n\n    private static final HttpHeaders DEFAULT_TOKEN_REQUEST_HEADERS = getDefaultTokenRequestHeaders();\n\n    private final String audience;\n\n    /**\n     * @param audience The audience to pass to Auth0\n     */\n    public Auth0ClientCredentialsGrantRequestEntityConverter(String audience) {\n        this.audience = audience;\n    }\n\n    /**\n     * Returns the {@link RequestEntity} used for the Access Token Request.\n     *\n     * @param clientCredentialsGrantRequest the client credentials grant request\n     * @return the {@link RequestEntity} used for the Access Token Request\n     */\n    @Override\n    public RequestEntity&lt;?&gt; convert(OAuth2ClientCredentialsGrantRequest clientCredentialsGrantRequest) {\n        var clientRegistration = clientCredentialsGrantRequest.getClientRegistration();\n        var headers = getTokenRequestHeaders(clientRegistration);\n        var formParameters = this.buildFormParameters(clientCredentialsGrantRequest);\n        var uri = UriComponentsBuilder.fromUriString(clientRegistration.getProviderDetails().getTokenUri())\n                                      .build()\n                                      .toUri();\n        return new RequestEntity&lt;&gt;(formParameters, headers, HttpMethod.POST, uri);\n    }\n\n    /**\n     * Returns a {@link MultiValueMap} of the form parameters used for the Access Token\n     * Request body.\n     *\n     * @param clientCredentialsGrantRequest the client credentials grant request\n     * @return a {@link MultiValueMap} of the form parameters used for the Access Token\n     * Request body\n     */\n    private MultiValueMap&lt;String, String&gt; buildFormParameters(OAuth2ClientCredentialsGrantRequest clientCredentialsGrantRequest) {\n        var clientRegistration = clientCredentialsGrantRequest.getClientRegistration();\n        MultiValueMap&lt;String, String&gt; formParameters = new LinkedMultiValueMap&lt;&gt;();\n        formParameters.add(OAuth2ParameterNames.GRANT_TYPE, clientCredentialsGrantRequest.getGrantType().getValue());\n\n        if (!CollectionUtils.isEmpty(clientRegistration.getScopes())) {\n            formParameters.add(OAuth2ParameterNames.SCOPE,\n                    StringUtils.collectionToDelimitedString(clientRegistration.getScopes(), &quot; &quot;));\n        }\n\n        if (ClientAuthenticationMethod.POST.equals(clientRegistration.getClientAuthenticationMethod())) {\n            formParameters.add(OAuth2ParameterNames.CLIENT_ID, clientRegistration.getClientId());\n            formParameters.add(OAuth2ParameterNames.CLIENT_SECRET, clientRegistration.getClientSecret());\n        }\n\n        formParameters.add(&quot;audience&quot;, this.audience);\n        return formParameters;\n    }\n\n    private static HttpHeaders getTokenRequestHeaders(ClientRegistration clientRegistration) {\n        var headers = new HttpHeaders();\n        headers.addAll(DEFAULT_TOKEN_REQUEST_HEADERS);\n        if (ClientAuthenticationMethod.BASIC.equals(clientRegistration.getClientAuthenticationMethod())) {\n            headers.setBasicAuth(clientRegistration.getClientId(), clientRegistration.getClientSecret());\n        }\n        return headers;\n    }\n\n    private static HttpHeaders getDefaultTokenRequestHeaders() {\n        var headers = new HttpHeaders();\n        final var contentType = MediaType.valueOf(MediaType.APPLICATION_FORM_URLENCODED_VALUE + &quot;;charset=UTF-8&quot;);\n\n        headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n        headers.setContentType(contentType);\n\n        return headers;\n    }\n\n}\n</code></pre>\n<h3>Controller.java</h3>\n<p>@RestController\npublic class PrivateController {</p>\n<pre><code>private final WebClient webClient;\n\npublic PrivateController(WebClient webClient) {\n    this.webClient = webClient;\n}\n\n@GetMapping(&quot;/explicit&quot;)\nString explicit(Model model, @RegisteredOAuth2AuthorizedClient(&quot;wallet&quot;) OAuth2AuthorizedClient authorizedClient) {\n\n    String body = this.webClient\n            .get()\n            .attributes(oauth2AuthorizedClient(authorizedClient))\n            .retrieve()\n            .bodyToMono(String.class)\n            .block();\n\n    model.addAttribute(&quot;body&quot;, body);\n    return &quot;response&quot;;\n}\n</code></pre>\n<p>}</p>\n<h3>application.properties</h3>\n<pre><code>spring.security.oauth2.client.registration.wallet.client-id                = \nspring.security.oauth2.client.registration.wallet.client-secret            =\nspring.security.oauth2.client.registration.wallet.scope[]                  = read:transaction,write:transaction\nspring.security.oauth2.client.registration.wallet.authorization-grant-type = client_credentials\n\nspring.security.oauth2.client.provider.wallet.issuer-uri                   = https://domain.eu.auth0.com/\n\nresource-uri                                                               = http://localhost:8081/api/wallet\nwallet-audience                                                            = https://wallet\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":51299,"reputation":2814,"user_id":153258,"display_name":"Nikolaos Georgiou"},"score":0,"creation_date":1390989869,"post_id":21427608,"comment_id":32327453,"body_markdown":"You should be able to use the &quot;[0-9]+&quot; regex to match the first number in your string.","body":"You should be able to use the &quot;[0-9]+&quot; regex to match the first number in your string."},{"owner":{"account_id":337158,"reputation":57563,"user_id":665261,"accept_rate":70,"display_name":"Billy Moon"},"score":0,"creation_date":1390989929,"post_id":21427608,"comment_id":32327499,"body_markdown":"Would be better to do a regex match on sequences of numbers, and select the index of the one you want. If you continue the way you are doing it, this regex could work... `Customer.+|[^0-9]`","body":"Would be better to do a regex match on sequences of numbers, and select the index of the one you want. If you continue the way you are doing it, this regex could work... <code>Customer.+|[^0-9]</code>"}],"answers":[{"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1390990101,"post_id":21427729,"comment_id":32327628,"body_markdown":"Can&#39;t think of how to do it in one line? [See this... muhahahaha](http://stackoverflow.com/questions/21427608/regex-getting-the-first-instance-of-a-number-from-a-string/21427741#21427741)","body":"Can&#39;t think of how to do it in one line? <a href=\"http://stackoverflow.com/questions/21427608/regex-getting-the-first-instance-of-a-number-from-a-string/21427741#21427741\">See this... muhahahaha</a>"},{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1390990150,"post_id":21427729,"comment_id":32327659,"body_markdown":"You can simply use `String orderNr = m.group()`","body":"You can simply use <code>String orderNr = m.group()</code>"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1390990291,"post_id":21427729,"comment_id":32327762,"body_markdown":"@BackSlash: thank, I thought `group()` could only be used when there were explicit groups (using `(..)`) in the regex.","body":"@BackSlash: thank, I thought <code>group()</code> could only be used when there were explicit groups (using <code>(..)</code>) in the regex."}],"tags":[],"owner":{"display_name":"user330315"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390990300,"creation_date":1390989932,"answer_id":21427729,"question_id":21427608,"body_markdown":"I can&#39;t think of a single line that would accomplish this, but the following should work:\r\n\r\n    String orderString = &quot;Order Number: 1509596 Customer Number: 8&quot;;\r\n    Pattern p = Pattern.compile(&quot;[0-9]+&quot;);\r\n    Matcher m = p.matcher(orderString);\r\n    if (m.find())\r\n    {\r\n      String orderNr = m.group();\r\n      System.out.println(orderNr);\r\n    }\r\n\r\n","title":"regex getting the first instance of a number from a string","body":"<p>I can't think of a single line that would accomplish this, but the following should work:</p>\n\n<pre><code>String orderString = \"Order Number: 1509596 Customer Number: 8\";\nPattern p = Pattern.compile(\"[0-9]+\");\nMatcher m = p.matcher(orderString);\nif (m.find())\n{\n  String orderNr = m.group();\n  System.out.println(orderNr);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2902843,"reputation":774,"user_id":2489072,"accept_rate":50,"display_name":"Pulah Nandha"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1390989941,"creation_date":1390989941,"answer_id":21427730,"question_id":21427608,"body_markdown":"if you change `orderNumber.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;)`  \r\n\r\nto \r\n\r\n`orderNumber.replaceAll(&quot;[^0-9]&quot;, &quot;,&quot;)` hence\r\n\r\n you will get `,1509596,8` as an answer, \r\n\r\n\r\nI think this is probably help you to solve ans.","title":"regex getting the first instance of a number from a string","body":"<p>if you change <code>orderNumber.replaceAll(\"[^0-9]\", \"\")</code>  </p>\n\n<p>to </p>\n\n<p><code>orderNumber.replaceAll(\"[^0-9]\", \",\")</code> hence</p>\n\n<p>you will get <code>,1509596,8</code> as an answer, </p>\n\n<p>I think this is probably help you to solve ans.</p>\n"},{"comments":[{"owner":{"account_id":10540148,"reputation":407,"user_id":7766540,"display_name":"Saeid Z"},"score":0,"creation_date":1689010666,"post_id":21427741,"comment_id":135149795,"body_markdown":"When new line exist on string, this method not work correctly.","body":"When new line exist on string, this method not work correctly."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1689025015,"post_id":21427741,"comment_id":135152153,"body_markdown":"@SaeidZ See edited answer for how to cater for newline characters.","body":"@SaeidZ See edited answer for how to cater for newline characters."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1689024950,"creation_date":1390989984,"answer_id":21427741,"question_id":21427608,"body_markdown":"Use a regex that matches the whole input, capturing the part you want, then replace everything captured to &quot;extract&quot; what you want.\r\n\r\n    String firstNumber = str.replaceAll(&quot;^\\\\D*(\\\\d+).*&quot;, &quot;$1&quot;);\r\n\r\nSee [live demo][1].\r\n\r\nThe regex matches all leading non-digits (if any), then as many digits as are found next as capture group 1, then matches to the end. `$1` is a *back reference* to capture group 1.\r\n\r\n---\r\n\r\nIf newlines (which dot does not match by default) are in the input, enable DOTALL flag by adding `(?s)` to the regex:\r\n\r\n    String firstNumber = str.replaceAll(&quot;(?s)^\\\\D*(\\\\d+).*&quot;, &quot;$1&quot;);\r\n\r\n  [1]: https://ideone.com/lkggQq","title":"regex getting the first instance of a number from a string","body":"<p>Use a regex that matches the whole input, capturing the part you want, then replace everything captured to &quot;extract&quot; what you want.</p>\n<pre><code>String firstNumber = str.replaceAll(&quot;^\\\\D*(\\\\d+).*&quot;, &quot;$1&quot;);\n</code></pre>\n<p>See <a href=\"https://ideone.com/lkggQq\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n<p>The regex matches all leading non-digits (if any), then as many digits as are found next as capture group 1, then matches to the end. <code>$1</code> is a <em>back reference</em> to capture group 1.</p>\n<hr />\n<p>If newlines (which dot does not match by default) are in the input, enable DOTALL flag by adding <code>(?s)</code> to the regex:</p>\n<pre><code>String firstNumber = str.replaceAll(&quot;(?s)^\\\\D*(\\\\d+).*&quot;, &quot;$1&quot;);\n</code></pre>\n"}],"owner":{"account_id":2583616,"reputation":1317,"user_id":2239784,"accept_rate":21,"display_name":"Doctor Who"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4646,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":21427741,"answer_count":3,"score":4,"last_activity_date":1689024950,"creation_date":1390989631,"question_id":21427608,"body_markdown":"I return the following string from a webpage \r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Order Number: 1509596 Customer Number: 8\r\n\r\nbut it could also be \r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Order ID 1509596 Customer 8\r\n\r\nI want to use regex so in my method I just return the order number, I was doing \r\n\r\n    orderNumber.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;)\r\n\r\n but that obviously doesn&#39;t work because I then have an 8 on the end of my order number. Can somebody help me how I would just the order number as I&#39;m rubbish at reg ex! \r\n\r\nThe string will always be 50 characters long but the order number is dynamic so I don&#39;t know how long it will be, is it possible to just return the first number in the string? ","title":"regex getting the first instance of a number from a string","body":"<p>I return the following string from a webpage </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Order Number: 1509596 Customer Number: 8\n</code></pre>\n\n<p>but it could also be </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Order ID 1509596 Customer 8\n</code></pre>\n\n<p>I want to use regex so in my method I just return the order number, I was doing </p>\n\n<pre><code>orderNumber.replaceAll(\"[^0-9]\", \"\")\n</code></pre>\n\n<p>but that obviously doesn't work because I then have an 8 on the end of my order number. Can somebody help me how I would just the order number as I'm rubbish at reg ex! </p>\n\n<p>The string will always be 50 characters long but the order number is dynamic so I don't know how long it will be, is it possible to just return the first number in the string? </p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1574843205,"post_id":59065939,"comment_id":104370292,"body_markdown":"Can you add the code of `Employer` to see the JPA annotations?","body":"Can you add the code of <code>Employer</code> to see the JPA annotations?"},{"owner":{"display_name":"user5959252"},"score":0,"creation_date":1574843376,"post_id":59065939,"comment_id":104370391,"body_markdown":"@WimDeblauwe I added the Employer entity","body":"@WimDeblauwe I added the Employer entity"},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1574843477,"post_id":59065939,"comment_id":104370456,"body_markdown":"How are you testing this? Via a unit/integration test or in an application? Are you using transactions?","body":"How are you testing this? Via a unit/integration test or in an application? Are you using transactions?"},{"owner":{"display_name":"user5959252"},"score":0,"creation_date":1574843735,"post_id":59065939,"comment_id":104370589,"body_markdown":"I am testing in an application, the service method is called in every 2 minutes and I check database every time. In the first case where I build the entity and save it doesn&#39;t work however, in the latter case when I retrieve data from the database and update its fields and save again it updates.","body":"I am testing in an application, the service method is called in every 2 minutes and I check database every time. In the first case where I build the entity and save it doesn&#39;t work however, in the latter case when I retrieve data from the database and update its fields and save again it updates."},{"owner":{"account_id":5694623,"reputation":6528,"user_id":4501480,"accept_rate":55,"display_name":"Vikrant Kashyap"},"score":0,"creation_date":1574845825,"post_id":59065939,"comment_id":104371638,"body_markdown":"try `@Transactional` annotation on `update()` method. Hope this might work..","body":"try <code>@Transactional</code> annotation on <code>update()</code> method. Hope this might work.."}],"answers":[{"tags":[],"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574847097,"creation_date":1574846530,"answer_id":59066834,"question_id":59065939,"body_markdown":"To update an existing entity object through JPA it should be made available to the entity manager first. \r\n\r\nRead through the article\r\n\r\nhttps://www.objectdb.com/java/jpa/query/jpql/update\r\n\r\nexcerpt from the same\r\n\r\n    1.Retrieving the entity objects into an EntityManager.\r\n    2.Updating the relevant entity object fields within an active transaction.\r\n    3.Applying changes to the database by calling the commit method.\r\n\r\nI assume for the case where update does not happen , the entity is not a managed entity yet.\r\n\r\nMore on managed entity : https://www.baeldung.com/hibernate-entity-lifecycle#managed-entity\r\n","title":"Jpa Repository save() doesn&#39;t update existing data","body":"<p>To update an existing entity object through JPA it should be made available to the entity manager first. </p>\n\n<p>Read through the article</p>\n\n<p><a href=\"https://www.objectdb.com/java/jpa/query/jpql/update\" rel=\"nofollow noreferrer\">https://www.objectdb.com/java/jpa/query/jpql/update</a></p>\n\n<p>excerpt from the same</p>\n\n<pre><code>1.Retrieving the entity objects into an EntityManager.\n2.Updating the relevant entity object fields within an active transaction.\n3.Applying changes to the database by calling the commit method.\n</code></pre>\n\n<p>I assume for the case where update does not happen , the entity is not a managed entity yet.</p>\n\n<p>More on managed entity : <a href=\"https://www.baeldung.com/hibernate-entity-lifecycle#managed-entity\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-entity-lifecycle#managed-entity</a></p>\n"},{"comments":[{"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"score":2,"creation_date":1632496992,"post_id":59067006,"comment_id":122516804,"body_markdown":"Pretty sad really. In some cases you know what your primary key is. You have to make 2 db calls instead of one, I don&#39;t see why that is necessary.","body":"Pretty sad really. In some cases you know what your primary key is. You have to make 2 db calls instead of one, I don&#39;t see why that is necessary."},{"owner":{"account_id":1591602,"reputation":3575,"user_id":1474815,"accept_rate":0,"display_name":"Paulo Pedroso"},"score":0,"creation_date":1696877904,"post_id":59067006,"comment_id":136206722,"body_markdown":"Anyway, nothing works for me, not even getting the object and saving it again in the very same method.","body":"Anyway, nothing works for me, not even getting the object and saving it again in the very same method."}],"tags":[],"owner":{"account_id":14129921,"reputation":1051,"user_id":10208183,"display_name":"codeworks elegant"},"comment_count":2,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1574847058,"creation_date":1574847058,"answer_id":59067006,"question_id":59065939,"body_markdown":"Your Entity `Employer` looks to be in detached/Transient state and you are passing `id` value manually which is not permitted, as it is marked as `@GeneratedValue(strategy = GenerationType.IDENTITY)`. \r\n\r\nWhat you need to do is when you know the primary key value i.e `id` value, first you fetch the Entity from the database using findById() method, by which Entity comes into Managed state and then try to update the Entity by calling save() method. This will update your Entity.\r\n\r\nFor more info on Entity state you can refer this:\r\n   https://vladmihalcea.com/a-beginners-guide-to-jpa-hibernate-entity-state-transitions/","title":"Jpa Repository save() doesn&#39;t update existing data","body":"<p>Your Entity <code>Employer</code> looks to be in detached/Transient state and you are passing <code>id</code> value manually which is not permitted, as it is marked as <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code>. </p>\n\n<p>What you need to do is when you know the primary key value i.e <code>id</code> value, first you fetch the Entity from the database using findById() method, by which Entity comes into Managed state and then try to update the Entity by calling save() method. This will update your Entity.</p>\n\n<p>For more info on Entity state you can refer this:\n   <a href=\"https://vladmihalcea.com/a-beginners-guide-to-jpa-hibernate-entity-state-transitions/\" rel=\"noreferrer\">https://vladmihalcea.com/a-beginners-guide-to-jpa-hibernate-entity-state-transitions/</a></p>\n"},{"tags":[],"owner":{"account_id":11826622,"reputation":27,"user_id":8654378,"display_name":"Nitin Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596187250,"creation_date":1596187250,"answer_id":63189088,"question_id":59065939,"body_markdown":"*This question is already been answered but this is my understanding of topic, as I recently started working on it.*\r\n\r\n**This can be answered on basis of Transient and Persistent/managed entities.**\r\n\r\n**Transient entity** : A new entity object created which is not associated with any session till now. This object is not related to any stored data in database since it is freshly created.\r\n\r\nWhen you fetch a record from db it is fetched in **managed or persistent** state and any changes made to it will be reflected back to the record that it is mapped to.\r\n\r\nSuggestion 1 : You should not be manually adding primary key values since it is already AutoIncremented.\r\n\r\nSuggestion 2 : If you already have recirds id, fetch it from db first and then update it.\r\n\r\n\r\nHere is a Stackoverflow discussion on the topic to get you some more insight : https://stackoverflow.com/questions/2573739/what-are-detached-persistent-and-transient-objects-in-hibernate","title":"Jpa Repository save() doesn&#39;t update existing data","body":"<p><em>This question is already been answered but this is my understanding of topic, as I recently started working on it.</em></p>\n<p><strong>This can be answered on basis of Transient and Persistent/managed entities.</strong></p>\n<p><strong>Transient entity</strong> : A new entity object created which is not associated with any session till now. This object is not related to any stored data in database since it is freshly created.</p>\n<p>When you fetch a record from db it is fetched in <strong>managed or persistent</strong> state and any changes made to it will be reflected back to the record that it is mapped to.</p>\n<p>Suggestion 1 : You should not be manually adding primary key values since it is already AutoIncremented.</p>\n<p>Suggestion 2 : If you already have recirds id, fetch it from db first and then update it.</p>\n<p>Here is a Stackoverflow discussion on the topic to get you some more insight : <a href=\"https://stackoverflow.com/questions/2573739/what-are-detached-persistent-and-transient-objects-in-hibernate\">What are detached, persistent and transient objects in hibernate?</a></p>\n"},{"tags":[],"owner":{"account_id":16608611,"reputation":123,"user_id":12002311,"display_name":"Prince"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682411951,"creation_date":1682411951,"answer_id":76099169,"question_id":59065939,"body_markdown":"I was also facing the same issue. The thing is JPA doesn&#39;t update your data if **new data is same as old one**. If there is no change in the modified data, it won&#39;t run the update query.","title":"Jpa Repository save() doesn&#39;t update existing data","body":"<p>I was also facing the same issue. The thing is JPA doesn't update your data if <strong>new data is same as old one</strong>. If there is no change in the modified data, it won't run the update query.</p>\n"},{"tags":[],"owner":{"account_id":12110694,"reputation":53,"user_id":8847608,"display_name":"IncogVito"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689024248,"creation_date":1689024248,"answer_id":76657434,"question_id":59065939,"body_markdown":"For these who&#39;s struggling this issue with ReactiveMongoRepository.\r\nThere&#39;s a better way to handle it faster without unnecessary loading entity from database. You would have to implement *Persistable* interface to indicate if the entity should be inserted or updated. \r\n\r\n*SimpleReactiveMongoRepository#save* looks like this\r\n\r\n\t@Override\r\n\tpublic &lt;S extends T&gt; Mono&lt;S&gt; save(S entity) {\r\n\r\n\t\tAssert.notNull(entity, &quot;Entity must not be null&quot;);\r\n\r\n\t\tif (entityInformation.isNew(entity)) {\r\n\t\t\treturn mongoOperations.insert(entity, entityInformation.getCollectionName());\r\n\t\t}\r\n\r\n\t\treturn mongoOperations.save(entity, entityInformation.getCollectionName());\r\n\t}\r\n\r\nSo in your entity you need to provide information whether the Entity is a new one to be inserted or is the old one just to be updated.\r\n\r\n    @Data\r\n    @Document(&quot;ActionRequest&quot;)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class ActionRequestEntity implements Persistable&lt;String&gt; {\r\n    @Id\r\n    private String requestId;\r\n    {...}\r\n\r\n    @Override\r\n    public String getId() {\r\n        return requestId;\r\n    }\r\n\r\n    @Override\r\n    public boolean isNew() {\r\n        return requestId == null;\r\n    }\r\n    }\r\n\r\nThen JPARepository will know how to handle your entity during the save operation.\r\n\r\n\r\n\r\n","title":"Jpa Repository save() doesn&#39;t update existing data","body":"<p>For these who's struggling this issue with ReactiveMongoRepository.\nThere's a better way to handle it faster without unnecessary loading entity from database. You would have to implement <em>Persistable</em> interface to indicate if the entity should be inserted or updated.</p>\n<p><em>SimpleReactiveMongoRepository#save</em> looks like this</p>\n<pre><code>@Override\npublic &lt;S extends T&gt; Mono&lt;S&gt; save(S entity) {\n\n    Assert.notNull(entity, &quot;Entity must not be null&quot;);\n\n    if (entityInformation.isNew(entity)) {\n        return mongoOperations.insert(entity, entityInformation.getCollectionName());\n    }\n\n    return mongoOperations.save(entity, entityInformation.getCollectionName());\n}\n</code></pre>\n<p>So in your entity you need to provide information whether the Entity is a new one to be inserted or is the old one just to be updated.</p>\n<pre><code>@Data\n@Document(&quot;ActionRequest&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ActionRequestEntity implements Persistable&lt;String&gt; {\n@Id\nprivate String requestId;\n{...}\n\n@Override\npublic String getId() {\n    return requestId;\n}\n\n@Override\npublic boolean isNew() {\n    return requestId == null;\n}\n}\n</code></pre>\n<p>Then JPARepository will know how to handle your entity during the save operation.</p>\n"}],"owner":{"display_name":"user5959252"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50015,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":59067006,"answer_count":5,"score":10,"last_activity_date":1689024248,"creation_date":1574843069,"question_id":59065939,"body_markdown":"I am trying to update data and as I know save() method saves entity if the id is null or update an existing entity in the database if the given id is found in DB.\r\n\r\nHowever, when I try to save data it is not updated:\r\n\r\n    public Employer update() {\r\n        Employer emp = Employer.builder()\r\n            .id(2L) // it exists in database\r\n            .name(&#39;new company name&#39;)\r\n            .build();\r\n\r\n        return repository.save(emp);\r\n    }\r\n\r\nBut, when I retrieve data from the database and update its fields and save again it updates:\r\n\r\n    public Employer update() {\r\n        Employer emp = repository.getOne(2L);\r\n        emp.setName(&#39;new company name&#39;);\r\n\r\n        return repository.save(emp);\r\n    }\r\n\r\nCan anyone explain the reason for this behavior? I read the documentation but couldn&#39;t find anything related to that.\r\n\r\nHere is my repository:\r\n\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface Employer extends JpaRepository&lt;Employer, Long&gt; {\r\n    \r\n    }\r\n\r\nand entity:\r\n\r\n    @Data\r\n    @Entity\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(schema = &quot;public&quot;, name = &quot;employer&quot;)\r\n    public class Employer {\r\n    \r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      private Long id;\r\n    \r\n      @NotBlank\r\n      @Size(max = 50)\r\n      private String name;\r\n    \r\n    }\r\n\r\n","title":"Jpa Repository save() doesn&#39;t update existing data","body":"<p>I am trying to update data and as I know save() method saves entity if the id is null or update an existing entity in the database if the given id is found in DB.</p>\n\n<p>However, when I try to save data it is not updated:</p>\n\n<pre><code>public Employer update() {\n    Employer emp = Employer.builder()\n        .id(2L) // it exists in database\n        .name('new company name')\n        .build();\n\n    return repository.save(emp);\n}\n</code></pre>\n\n<p>But, when I retrieve data from the database and update its fields and save again it updates:</p>\n\n<pre><code>public Employer update() {\n    Employer emp = repository.getOne(2L);\n    emp.setName('new company name');\n\n    return repository.save(emp);\n}\n</code></pre>\n\n<p>Can anyone explain the reason for this behavior? I read the documentation but couldn't find anything related to that.</p>\n\n<p>Here is my repository:</p>\n\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface Employer extends JpaRepository&lt;Employer, Long&gt; {\n\n}\n</code></pre>\n\n<p>and entity:</p>\n\n<pre><code>@Data\n@Entity\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(schema = \"public\", name = \"employer\")\npublic class Employer {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n\n  @NotBlank\n  @Size(max = 50)\n  private String name;\n\n}\n</code></pre>\n"},{"tags":["java","class","object","exception"],"owner":{"account_id":27220194,"reputation":13,"user_id":20749607,"display_name":"Ad270"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689023827,"answer_count":0,"score":0,"last_activity_date":1689023678,"creation_date":1689023678,"question_id":76657388,"body_markdown":"I am trying to throw custom exceptions in a class, however I keep getting symbol not found even though I have defined a custom exception which extends from exception. Both this class and the exception are in the same package and directory so I do not understand why it doesn&#39;t work.\r\n\r\n   \r\n\r\n    public class Account {\r\n\tArrayList&lt;String&gt; accountArray = new ArrayList&lt;String&gt;();\r\n\tArrayList&lt;Integer&gt; idArray = new ArrayList&lt;Integer&gt;();\r\n\t\r\n\tprivate int createAccount(String handle) throws IllegalHandleException, InvalidHandleException {\r\n\t\tif (!accountArray.contains(handle)) {\r\n\t\t\tif (handle.length() &gt; 0 &amp;&amp; handle.length() &lt; 30 ){\r\n\t\t\t\tif (!handle.contains(&quot;  &quot;)) {\r\n\t\t\t\t\taccountArray.add(handle);\r\n\t\t\t\t\tint id = accountArray.indexOf(handle);\r\n\t\t\t\t\tidArray.add(id);\r\n\t\t\t\t\treturn id;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new IllegalHandleException();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthrow new IllegalHandleException();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthrow new InvalidHandleException();\r\n\t\t}\r\n\t   }\r\n     }\r\n\r\nBoth of the exceptions (IllegalHandle and InvalidHandle) extend exception and call its constructor, they dont add any of their own code.\r\n","title":"Symbol not found with custom exception in same directory","body":"<p>I am trying to throw custom exceptions in a class, however I keep getting symbol not found even though I have defined a custom exception which extends from exception. Both this class and the exception are in the same package and directory so I do not understand why it doesn't work.</p>\n<pre><code>public class Account {\nArrayList&lt;String&gt; accountArray = new ArrayList&lt;String&gt;();\nArrayList&lt;Integer&gt; idArray = new ArrayList&lt;Integer&gt;();\n\nprivate int createAccount(String handle) throws IllegalHandleException, InvalidHandleException {\n    if (!accountArray.contains(handle)) {\n        if (handle.length() &gt; 0 &amp;&amp; handle.length() &lt; 30 ){\n            if (!handle.contains(&quot;  &quot;)) {\n                accountArray.add(handle);\n                int id = accountArray.indexOf(handle);\n                idArray.add(id);\n                return id;\n            } else {\n                throw new IllegalHandleException();\n            }\n        } else {\n            throw new IllegalHandleException();\n        }\n    } else {\n        throw new InvalidHandleException();\n    }\n   }\n }\n</code></pre>\n<p>Both of the exceptions (IllegalHandle and InvalidHandle) extend exception and call its constructor, they dont add any of their own code.</p>\n"},{"tags":["java","selenium-webdriver","webdriver","google-chrome-devtools"],"answers":[{"comments":[{"owner":{"account_id":3497363,"reputation":2011,"user_id":2925133,"accept_rate":32,"display_name":"Pankaj Badukale"},"score":0,"creation_date":1556819074,"post_id":55957586,"comment_id":98566968,"body_markdown":"there are mutliple methods in logs like requestwillbesent, responsereceived In which log data i can get sendStart and sendEnd","body":"there are mutliple methods in logs like requestwillbesent, responsereceived In which log data i can get sendStart and sendEnd"},{"owner":{"account_id":3782717,"reputation":927,"user_id":3141682,"accept_rate":75,"display_name":"Adi Ohana"},"score":0,"creation_date":1556819708,"post_id":55957586,"comment_id":98567242,"body_markdown":"Above code should give you all the values mentioned. Are you getting anything else?","body":"Above code should give you all the values mentioned. Are you getting anything else?"},{"owner":{"account_id":3497363,"reputation":2011,"user_id":2925133,"accept_rate":32,"display_name":"Pankaj Badukale"},"score":0,"creation_date":1556819967,"post_id":55957586,"comment_id":98567356,"body_markdown":"yes, all you have mentioned can be get in log message which has method Network.requestResponseReceived. But ihave not seen SendStart and sendEnd in it hence asking","body":"yes, all you have mentioned can be get in log message which has method Network.requestResponseReceived. But ihave not seen SendStart and sendEnd in it hence asking"},{"owner":{"account_id":3782717,"reputation":927,"user_id":3141682,"accept_rate":75,"display_name":"Adi Ohana"},"score":0,"creation_date":1556822264,"post_id":55957586,"comment_id":98568373,"body_markdown":"this is the method I&#39;m using: Network.responseReceived. also edited the answer with more code","body":"this is the method I&#39;m using: Network.responseReceived. also edited the answer with more code"},{"owner":{"account_id":1706322,"reputation":367,"user_id":1565298,"display_name":"katu"},"score":0,"creation_date":1605872799,"post_id":55957586,"comment_id":114792225,"body_markdown":"`sendStart` and `sendEnd` are seconds or milliseconds?","body":"<code>sendStart</code> and <code>sendEnd</code> are seconds or milliseconds?"}],"tags":[],"owner":{"account_id":3782717,"reputation":927,"user_id":3141682,"accept_rate":75,"display_name":"Adi Ohana"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689023626,"creation_date":1556818640,"answer_id":55957586,"question_id":55957240,"body_markdown":"For each log entry, the total time taken to complete a request is :\r\n`message.params.response.timing.sendStart - message.params.response.timing.sendEnd`.\r\n\r\nThe performance log should be filtered for only those messages which have `message.method = &quot;Network.responseReceived&quot;`.\r\n\r\n----\r\n\r\nRegarding understanding `message.params.response.timing` section, for instance something as follows:\r\n\r\n```json\r\n{&quot;message&quot;: {\r\n    ...\r\n     &quot;params&quot;: {\r\n        ...\r\n          &quot;response&quot;: {\r\n             &quot;timing&quot;: {\r\n                 &quot;sendEnd&quot;: 1.132,\r\n                 &quot;sendStart&quot;: 0.96,\r\n                 ...\r\n        },\r\n        &quot;url&quot;: &quot;https://example.com/GetBlah&quot;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nlook here: https://groups.google.com/g/google-chrome-developer-tools/c/FCCV2J7BaIY\r\n\r\n\r\n\r\n----\r\n\r\nAfter enabling the PERFORMANCE logs, you can iterate the log entries using:\r\n\r\n    List&lt;LogEntry&gt; entries = this.driver.manage().logs().get(LogType.PERFORMANCE).getAll();\r\n\r\nThen, you can get the json with the following values:\r\n\r\n    private String url;\r\n    private Boolean timing;\r\n    private Long connectEnd;\r\n    private Long connectStart;\r\n    private Long dnsEnd;\r\n    private Long dnsStart;\r\n    private Long receiveHeadersEnd;\r\n    private Long sslStart;\r\n    private Long sslEnd;\r\n    private Long proxyStart;\r\n    private Long proxyEnd;\r\n    private Long sendStart;\r\n    private Long sendEnd;\r\n    private String mimeType;\r\n    private String requestStatus;\r\n    private String method;\r\n\r\nto get the total time for a single request you can use:\r\n\r\n`sendStart - sendEnd`\r\n\r\n\r\nCreation of the Chrome Driver:\r\n\r\n        DesiredCapabilities capabilities = new DesiredCapabilities();\r\n        LoggingPreferences logPrefs = new LoggingPreferences();\r\n        logPrefs.enable(LogType.PERFORMANCE, Level.ALL);\r\n        logPrefs.enable(LogType.DRIVER, Level.ALL);\r\n        capabilities.setCapability(CapabilityType.LOGGING_PREFS, logPrefs);\r\n\r\n        Map&lt;String, Object&gt; perfLogPrefs = new HashMap&lt;String, Object&gt;();\r\n        perfLogPrefs.put(&quot;traceCategories&quot;, &quot;browser,devtools.timeline,devtools&quot;);\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.setExperimentalOption(&quot;perfLoggingPrefs&quot;, perfLogPrefs);\r\n        capabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n\r\n        WebDriver driver = new ChromeDriver(capabilities);\r\n\r\n\r\n","title":"how to calculate total time for one request from chrome driver PERFORMANCE logs?","body":"<p>For each log entry, the total time taken to complete a request is :\n<code>message.params.response.timing.sendStart - message.params.response.timing.sendEnd</code>.</p>\n<p>The performance log should be filtered for only those messages which have <code>message.method = &quot;Network.responseReceived&quot;</code>.</p>\n<hr />\n<p>Regarding understanding <code>message.params.response.timing</code> section, for instance something as follows:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;message&quot;: {\n    ...\n     &quot;params&quot;: {\n        ...\n          &quot;response&quot;: {\n             &quot;timing&quot;: {\n                 &quot;sendEnd&quot;: 1.132,\n                 &quot;sendStart&quot;: 0.96,\n                 ...\n        },\n        &quot;url&quot;: &quot;https://example.com/GetBlah&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>look here: <a href=\"https://groups.google.com/g/google-chrome-developer-tools/c/FCCV2J7BaIY\" rel=\"nofollow noreferrer\">https://groups.google.com/g/google-chrome-developer-tools/c/FCCV2J7BaIY</a></p>\n<hr />\n<p>After enabling the PERFORMANCE logs, you can iterate the log entries using:</p>\n<pre><code>List&lt;LogEntry&gt; entries = this.driver.manage().logs().get(LogType.PERFORMANCE).getAll();\n</code></pre>\n<p>Then, you can get the json with the following values:</p>\n<pre><code>private String url;\nprivate Boolean timing;\nprivate Long connectEnd;\nprivate Long connectStart;\nprivate Long dnsEnd;\nprivate Long dnsStart;\nprivate Long receiveHeadersEnd;\nprivate Long sslStart;\nprivate Long sslEnd;\nprivate Long proxyStart;\nprivate Long proxyEnd;\nprivate Long sendStart;\nprivate Long sendEnd;\nprivate String mimeType;\nprivate String requestStatus;\nprivate String method;\n</code></pre>\n<p>to get the total time for a single request you can use:</p>\n<p><code>sendStart - sendEnd</code></p>\n<p>Creation of the Chrome Driver:</p>\n<pre><code>    DesiredCapabilities capabilities = new DesiredCapabilities();\n    LoggingPreferences logPrefs = new LoggingPreferences();\n    logPrefs.enable(LogType.PERFORMANCE, Level.ALL);\n    logPrefs.enable(LogType.DRIVER, Level.ALL);\n    capabilities.setCapability(CapabilityType.LOGGING_PREFS, logPrefs);\n\n    Map&lt;String, Object&gt; perfLogPrefs = new HashMap&lt;String, Object&gt;();\n    perfLogPrefs.put(&quot;traceCategories&quot;, &quot;browser,devtools.timeline,devtools&quot;);\n    ChromeOptions options = new ChromeOptions();\n    options.setExperimentalOption(&quot;perfLoggingPrefs&quot;, perfLogPrefs);\n    capabilities.setCapability(ChromeOptions.CAPABILITY, options);\n\n    WebDriver driver = new ChromeDriver(capabilities);\n</code></pre>\n"}],"owner":{"account_id":3497363,"reputation":2011,"user_id":2925133,"accept_rate":32,"display_name":"Pankaj Badukale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1178,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":55957586,"answer_count":1,"score":4,"last_activity_date":1689023626,"creation_date":1556817020,"question_id":55957240,"body_markdown":"I am working on selenium to track network traffic for website.\r\n\r\nI have followed referred two links:\r\n1. https://stackoverflow.com/questions/45847035/using-selenium-how-to-get-network-request\r\n2. http://chromedriver.chromium.org/logging/performance-log\r\n\r\nI got log data as after configuration.\r\nyou can refer point 2 for example data:\r\nHere is what i got\r\n\r\n```json\r\n[2015-03-21T16:50:20+0400] [INFO] {&quot;message&quot;:{&quot;method&quot;:&quot;Network.responseReceived&quot;,&quot;params&quot;:{&quot;frameId&quot;:&quot;28480.1&quot;,&quot;loaderId&quot;:&quot;28480.2&quot;,&quot;requestId&quot;:&quot;28480.1&quot;,&quot;response&quot;:{&quot;connectionId&quot;:0,&quot;connectionReused&quot;:false,&quot;encodedDataLength&quot;:-1,&quot;fromDiskCache&quot;:false,&quot;fromServiceWorker&quot;:false,&quot;headers&quot;:{&quot;Access-Control-Allow-Origin&quot;:&quot;*&quot;,&quot;Content-Type&quot;:&quot;text/plain;charset=US-ASCII&quot;},&quot;mimeType&quot;:&quot;text/plain&quot;,&quot;protocol&quot;:&quot;data&quot;,&quot;status&quot;:200,&quot;statusText&quot;:&quot;OK&quot;,&quot;url&quot;:&quot;data:,&quot;},&quot;timestamp&quot;:1426942217.5344,&quot;type&quot;:&quot;Other&quot;}},&quot;webview&quot;:&quot;C359224A-06E5-42B6-8D1B-52687733920A&quot;}\r\n[2015-03-21T16:50:20+0400] [INFO] {&quot;message&quot;:{&quot;method&quot;:&quot;Network.loadingFinished&quot;,&quot;params&quot;:{&quot;encodedDataLength&quot;:0,&quot;requestId&quot;:&quot;28480.1&quot;,&quot;timestamp&quot;:1426942217.5344}},&quot;webview&quot;:&quot;C359224A-06E5-42B6-8D1B-52687733920A&quot;}\r\n[2015-03-21T16:50:20+0400] [INFO] {&quot;message&quot;:{&quot;method&quot;:&quot;Page.frameNavigated&quot;,&quot;params&quot;:{&quot;frame&quot;:{&quot;id&quot;:&quot;28480.1&quot;,&quot;loaderId&quot;:&quot;28480.2&quot;,&quot;mimeType&quot;:&quot;text/plain&quot;,&quot;securityOrigin&quot;:&quot;://&quot;,&quot;url&quot;:&quot;data:,&quot;}}},&quot;webview&quot;:&quot;C359224A-06E5-42B6-8D1B-52687733920A&quot;}\r\n[2015-03-21T16:50:21+0400] [INFO] {&quot;message&quot;:{&quot;method&quot;:&quot;Page.loadEventFired&quot;,&quot;params&quot;:{&quot;timestamp&quot;:1426942220.99924}},&quot;webview&quot;:&quot;C359224A-06E5-42B6-8D1B-52687733920A&quot;}\r\n[2015-03-21T16:50:21+0400] [INFO] {&quot;message&quot;:{&quot;method&quot;:&quot;Page.frameStoppedLoading&quot;,&quot;params&quot;:{&quot;frameId&quot;:&quot;28480.1&quot;}},&quot;webview&quot;:&quot;C359224A-06E5-42B6-8D1B-52687733920A&quot;}\r\n[2015-03-21T16:50:21+0400] [INFO] {&quot;message&quot;:{&quot;method&quot;:&quot;Page.domContentEventFired&quot;,&quot;params&quot;:{&quot;timestamp&quot;:1426942220.99927}},&quot;webview&quot;:&quot;C359224A-06E5-42B6-8D1B-52687733920A&quot;}\r\n....\r\n```\r\n\r\n\r\nBut i dont know how to calculate time of one request xhr request?\r\n\r\nI have searched for it but now luck...","title":"how to calculate total time for one request from chrome driver PERFORMANCE logs?","body":"<p>I am working on selenium to track network traffic for website.</p>\n<p>I have followed referred two links:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/45847035/using-selenium-how-to-get-network-request\">Using Selenium how to get network request</a></li>\n<li><a href=\"http://chromedriver.chromium.org/logging/performance-log\" rel=\"nofollow noreferrer\">http://chromedriver.chromium.org/logging/performance-log</a></li>\n</ol>\n<p>I got log data as after configuration.\nyou can refer point 2 for example data:\nHere is what i got</p>\n<pre class=\"lang-json prettyprint-override\"><code>[2015-03-21T16:50:20+0400] [INFO] {&quot;message&quot;:{&quot;method&quot;:&quot;Network.responseReceived&quot;,&quot;params&quot;:{&quot;frameId&quot;:&quot;28480.1&quot;,&quot;loaderId&quot;:&quot;28480.2&quot;,&quot;requestId&quot;:&quot;28480.1&quot;,&quot;response&quot;:{&quot;connectionId&quot;:0,&quot;connectionReused&quot;:false,&quot;encodedDataLength&quot;:-1,&quot;fromDiskCache&quot;:false,&quot;fromServiceWorker&quot;:false,&quot;headers&quot;:{&quot;Access-Control-Allow-Origin&quot;:&quot;*&quot;,&quot;Content-Type&quot;:&quot;text/plain;charset=US-ASCII&quot;},&quot;mimeType&quot;:&quot;text/plain&quot;,&quot;protocol&quot;:&quot;data&quot;,&quot;status&quot;:200,&quot;statusText&quot;:&quot;OK&quot;,&quot;url&quot;:&quot;data:,&quot;},&quot;timestamp&quot;:1426942217.5344,&quot;type&quot;:&quot;Other&quot;}},&quot;webview&quot;:&quot;C359224A-06E5-42B6-8D1B-52687733920A&quot;}\n[2015-03-21T16:50:20+0400] [INFO] {&quot;message&quot;:{&quot;method&quot;:&quot;Network.loadingFinished&quot;,&quot;params&quot;:{&quot;encodedDataLength&quot;:0,&quot;requestId&quot;:&quot;28480.1&quot;,&quot;timestamp&quot;:1426942217.5344}},&quot;webview&quot;:&quot;C359224A-06E5-42B6-8D1B-52687733920A&quot;}\n[2015-03-21T16:50:20+0400] [INFO] {&quot;message&quot;:{&quot;method&quot;:&quot;Page.frameNavigated&quot;,&quot;params&quot;:{&quot;frame&quot;:{&quot;id&quot;:&quot;28480.1&quot;,&quot;loaderId&quot;:&quot;28480.2&quot;,&quot;mimeType&quot;:&quot;text/plain&quot;,&quot;securityOrigin&quot;:&quot;://&quot;,&quot;url&quot;:&quot;data:,&quot;}}},&quot;webview&quot;:&quot;C359224A-06E5-42B6-8D1B-52687733920A&quot;}\n[2015-03-21T16:50:21+0400] [INFO] {&quot;message&quot;:{&quot;method&quot;:&quot;Page.loadEventFired&quot;,&quot;params&quot;:{&quot;timestamp&quot;:1426942220.99924}},&quot;webview&quot;:&quot;C359224A-06E5-42B6-8D1B-52687733920A&quot;}\n[2015-03-21T16:50:21+0400] [INFO] {&quot;message&quot;:{&quot;method&quot;:&quot;Page.frameStoppedLoading&quot;,&quot;params&quot;:{&quot;frameId&quot;:&quot;28480.1&quot;}},&quot;webview&quot;:&quot;C359224A-06E5-42B6-8D1B-52687733920A&quot;}\n[2015-03-21T16:50:21+0400] [INFO] {&quot;message&quot;:{&quot;method&quot;:&quot;Page.domContentEventFired&quot;,&quot;params&quot;:{&quot;timestamp&quot;:1426942220.99927}},&quot;webview&quot;:&quot;C359224A-06E5-42B6-8D1B-52687733920A&quot;}\n....\n</code></pre>\n<p>But i dont know how to calculate time of one request xhr request?</p>\n<p>I have searched for it but now luck...</p>\n"},{"tags":["java","multithreading","hash"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1352685039,"post_id":13337426,"comment_id":18199636,"body_markdown":"The `hashCode()` method is inherited from Object, and so is as unique as Object&#39;s is. So that shouldn&#39;t be an issue, but whether or how long the Thread object will persist or be meaningful may be an issue.","body":"The <code>hashCode()</code> method is inherited from Object, and so is as unique as Object&#39;s is. So that shouldn&#39;t be an issue, but whether or how long the Thread object will persist or be meaningful may be an issue."},{"owner":{"account_id":14531,"reputation":118870,"user_id":29995,"accept_rate":77,"display_name":"Rob Hruska"},"score":1,"creation_date":1352685155,"post_id":13337426,"comment_id":18199652,"body_markdown":"You could also consider just using the thread&#39;s [id property](http://docs.oracle.com/javase/6/docs/api/java/lang/Thread.html#getId()) as the key.","body":"You could also consider just using the thread&#39;s <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Thread.html#getId()\" rel=\"nofollow noreferrer\">id property</a> as the key."},{"owner":{"account_id":395272,"reputation":24521,"user_id":758133,"accept_rate":100,"display_name":"Martin James"},"score":0,"creation_date":1352713411,"post_id":13337426,"comment_id":18205707,"body_markdown":"This requirement has a sort of whiff about it...","body":"This requirement has a sort of whiff about it..."}],"answers":[{"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1352685442,"post_id":13337447,"comment_id":18199704,"body_markdown":"+1. I think ThreadLocal was initially even implemented as a Map keyed by Thread. But that proved to be a bottleneck (needs synchronization), so now it is the other way around: The Thread class contains a Map keyed by ThreadLocal, so every Thread only needs to look at its own Map, no need to synchronize.","body":"+1. I think ThreadLocal was initially even implemented as a Map keyed by Thread. But that proved to be a bottleneck (needs synchronization), so now it is the other way around: The Thread class contains a Map keyed by ThreadLocal, so every Thread only needs to look at its own Map, no need to synchronize."}],"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1352685153,"creation_date":1352685153,"answer_id":13337447,"question_id":13337426,"body_markdown":"Yes, people did that before Java had `ThreadLocal`.\r\n\r\nBut now you probably should use `ThreadLocal`.","title":"Using Thread as a key in Collection","body":"<p>Yes, people did that before Java had <code>ThreadLocal</code>.</p>\n\n<p>But now you probably should use <code>ThreadLocal</code>.</p>\n"}],"owner":{"account_id":1833467,"reputation":7501,"user_id":1664315,"accept_rate":59,"display_name":"Arian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1032,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":13337447,"answer_count":1,"score":4,"last_activity_date":1689023288,"creation_date":1352684919,"question_id":13337426,"body_markdown":"Is it possible to use Threads (Thread.getCurrentThread()) as keys in a collection (e.g. HashMap&lt;Thread,Integer&gt;). I know it&#39;s possible! I&#39;d like to know that whether Java creates unique hashCodes for threads.","title":"Using Thread as a key in Collection","body":"<p>Is it possible to use Threads (Thread.getCurrentThread()) as keys in a collection (e.g. HashMap&lt;Thread,Integer&gt;). I know it's possible! I'd like to know that whether Java creates unique hashCodes for threads.</p>\n"},{"tags":["java","javafx","launch4j","jlink","jdeps"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1689015476,"post_id":76652961,"comment_id":135150669,"body_markdown":"`jdk.crypto.cryptoki` provides some cryptography algorithms used by some Java SSL implementations. If you used SSL or HTTPS in Java, you have probably used it without knowing so.  MySQL can be connected to over SSL, which may be why you need the cryptoki module.  I don’t have advice on how to determine dependency requirements for such modules.","body":"<code>jdk.crypto.cryptoki</code> provides some cryptography algorithms used by some Java SSL implementations. If you used SSL or HTTPS in Java, you have probably used it without knowing so.  MySQL can be connected to over SSL, which may be why you need the cryptoki module.  I don’t have advice on how to determine dependency requirements for such modules."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1689023239,"post_id":76652961,"comment_id":135151922,"body_markdown":"My guess for why [`jdk.crypto.cryptoki`](https://docs.oracle.com/en/java/javase/20/docs/api/jdk.crypto.cryptoki/module-summary.html) didn&#39;t show up with `jdeps` is because that module is a simple service-provider for [`java.security.Provider`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/security/Provider.html) and thus is not directly referenced by any code that uses it. I don&#39;t see how `jdeps` could figure out some non-modular JAR needs that specific provider and not others, considering service-providers are meant to be drop-in plugins.","body":"My guess for why <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/jdk.crypto.cryptoki/module-summary.html\" rel=\"nofollow noreferrer\"><code>jdk.crypto.cryptoki</code></a> didn&#39;t show up with <code>jdeps</code> is because that module is a simple service-provider for <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/security/Provider.html\" rel=\"nofollow noreferrer\"><code>java.security.Provider</code></a> and thus is not directly referenced by any code that uses it. I don&#39;t see how <code>jdeps</code> could figure out some non-modular JAR needs that specific provider and not others, considering service-providers are meant to be drop-in plugins."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1689023322,"post_id":76652961,"comment_id":135151932,"body_markdown":"So, unfortunately, I also don&#39;t have any advice on how to determine dependencies on service-provider modules. Nor am I sure why [`java.naming`](https://docs.oracle.com/en/java/javase/20/docs/api/java.naming/module-summary.html) apparently didn&#39;t show up with `jdeps`.","body":"So, unfortunately, I also don&#39;t have any advice on how to determine dependencies on service-provider modules. Nor am I sure why <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.naming/module-summary.html\" rel=\"nofollow noreferrer\"><code>java.naming</code></a> apparently didn&#39;t show up with <code>jdeps</code>."}],"owner":{"account_id":27470264,"reputation":23,"user_id":21161705,"display_name":"Алексей Благодатских"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1689023051,"creation_date":1688985939,"question_id":76652961,"body_markdown":"I wrote small program with JavaFX, and MySQL worked through JDBC. It works well, was compiled well to jar and works from jar also well. To deliver this application to users I packed this to exe with launch4j and build custom small JRE. Exe file was created well and work, but only with full package of JRE. When I start it with my custom JRE I&#39;ve got this message:\r\n\r\n\r\n```none\r\n[10-Jul-2023 15:40] FATAL - DbConnection.java - Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n←[mException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n        at javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n        at javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(Unknown Source)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n```\r\n\r\n[full console text here:](https://docs.google.com/document/d/1sfw5-jAqSKVF2EqoHR1uvUtw51dmtOnGYJcMqqLAj24/edit?usp=sharing)\r\n\r\n\r\nAs I understand the application has a problem with MySQL module (but I&#39;m not sure). To build a custom JRE I use first `jdeps`:\r\n\r\n```none\r\njdeps --ignore-missing-deps --list-deps --multi-release 11 --module-path javafx\\lib;libs --add-modules ALL-MODULE-PATH ExpensesViewer.jar\r\n```\r\n\r\nIt shows following dependencies:\r\n\r\n```none\r\njava.base\r\n   java.datatransfer\r\n   java.desktop\r\n   java.logging\r\n   java.management\r\n   java.net.http\r\n   java.scripting\r\n   java.sql\r\n   java.transaction.xa\r\n   java.xml\r\n\r\n   ...\r\n   here lots of javafx modules\r\n   ...\r\n\r\n   jdk.jsobject\r\n   jdk.unsupported\r\n   jdk.unsupported.desktop\r\n   jdk.xml.dom\r\n   org.junit.platform.commons/org.junit.platform.commons.logging\r\n   org.junit.platform.commons/org.junit.platform.commons.util\r\n```\r\n\r\n[full list dependencies][1]\r\n\r\nSo, I created custom JRE with `jlink`: \r\n\r\n```none\r\njlink --no-header-files --no-man-pages --compress=2 --strip-debug --module-path libs;javafx/lib --add-modules java.base,java.naming,java.datatransfer,java.desktop,java.logging,java.management,java.net.http,java.scripting,java.sql,java.transaction.xa,java.xml,jdk.jsobject,jdk.unsupported,jdk.unsupported.desktop,jdk.xml.dom --output java-runtime\r\n```\r\n\r\nAs I understand I need to add something else to modules list (because if I do not use custom but full system JRE everything works well).\r\n\r\nAnd I don&#39;t understand how to find all mandatory module names that I need include (`jdeps` doesn&#39;t show all the necessary dependencies; for example, `java.naming` was mandatory, but `jdeps` doesn&#39;t show it).\r\n\r\nmodule-info.java:\r\n\r\n```java\r\nmodule ru.viewer.expensesviewer {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires java.sql;\r\n    requires mysql.connector.j;\r\n    requires org.apache.logging.log4j;\r\n    //requires rt;\r\n\r\n    opens ru.viewer.expensesviewer to javafx.fxml;\r\n    exports ru.viewer.expensesviewer;\r\n\r\n    opens ru.viewer.expensesviewer.model to javafx.fxml;\r\n    exports ru.viewer.expensesviewer.model;\r\n\r\n    opens ru.viewer.expensesviewer.controller to javafx.fxml;\r\n    exports ru.viewer.expensesviewer.controller;\r\n\r\n    exports ru.viewer.expensesviewer.model.objects;\r\n    opens ru.viewer.expensesviewer.model.objects to javafx.fxml;\r\n\r\n    exports ru.viewer.expensesviewer.controller.settings;\r\n    opens ru.viewer.expensesviewer.controller.settings to javafx.fxml;\r\n\r\n    exports ru.viewer.expensesviewer.controller.reports;\r\n    opens ru.viewer.expensesviewer.controller.reports to javafx.fxml;\r\n\r\n    exports ru.viewer.expensesviewer.model.objects.settings;\r\n    opens ru.viewer.expensesviewer.model.objects.settings to javafx.fxml;\r\n}\r\n```\r\n\r\nadded after couple hours:\r\nI tried to add all possible modules, looks like this:\r\n\r\n```none\r\njlink --no-header-files --no-man-pages --compress=2 --strip-debug --module-path libs;javafx/lib --add-modules java.base,java.compiler,java.datatransfer,java.desktop,java.instrument,java.logging,java.management,java.management.rmi,java.naming,java.net.http,java.prefs,java.rmi,java.scripting,java.se,java.security.jgss,java.security.sasl,java.smartcardio,java.sql,java.sql.rowset,java.transaction.xa,java.xml,java.xml.crypto,jdk.accessibility,jdk.attach,jdk.charsets,jdk.compiler,jdk.crypto.cryptoki,jdk.crypto.ec,jdk.crypto.mscapi,jdk.dynalink,jdk.editpad,jdk.hotspot.agent,jdk.httpserver,jdk.incubator.foreign,jdk.incubator.vector,jdk.internal.ed,jdk.internal.jvmstat,jdk.internal.le,jdk.internal.opt,jdk.internal.vm.ci,jdk.internal.vm.compiler,jdk.internal.vm.compiler.management,jdk.jartool,jdk.javadoc,jdk.jcmd,jdk.jconsole,jdk.jdeps,jdk.jdi,jdk.jdwp.agent,jdk.jfr,jdk.jlink,jdk.jpackage,jdk.jshell,jdk.jsobject,jdk.jstatd,jdk.localedata,jdk.management,jdk.management.agent,jdk.management.jfr,jdk.naming.dns,jdk.naming.rmi,jdk.net,jdk.nio.mapmode,jdk.random,jdk.sctp,jdk.security.auth,jdk.security.jgss,jdk.unsupported,jdk.unsupported.desktop,jdk.xml.dom,jdk.zipfs, --output java-runtime \r\n```\r\n\r\nAND IT WORKS! now I exactly know that I need to discover mandatory module.\r\n\r\nI managed find needed module with method &quot;shot in the dark&quot;, how only I added `jdk.crypto.cryptoki` my custom JRE started work. But why does my program need this module? I&#39;ve never use this... something for security... how should I discover this dependence?\r\n\r\n  [1]: https://docs.google.com/document/d/1nznSMWitZGtvAFLiI_EZWIeZfUX4JiiR18vtZIox6Hw/edit?usp=sharing","title":"JavaFX module program with MySQL doesn&#39;t work with custom JRE","body":"<p>I wrote small program with JavaFX, and MySQL worked through JDBC. It works well, was compiled well to jar and works from jar also well. To deliver this application to users I packed this to exe with launch4j and build custom small JRE. Exe file was created well and work, but only with full package of JRE. When I start it with my custom JRE I've got this message:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[10-Jul-2023 15:40] FATAL - DbConnection.java - Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n←[mException in Application start method\njava.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n        at javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n        at javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(Unknown Source)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n</code></pre>\n<p><a href=\"https://docs.google.com/document/d/1sfw5-jAqSKVF2EqoHR1uvUtw51dmtOnGYJcMqqLAj24/edit?usp=sharing\" rel=\"nofollow noreferrer\">full console text here:</a></p>\n<p>As I understand the application has a problem with MySQL module (but I'm not sure). To build a custom JRE I use first <code>jdeps</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>jdeps --ignore-missing-deps --list-deps --multi-release 11 --module-path javafx\\lib;libs --add-modules ALL-MODULE-PATH ExpensesViewer.jar\n</code></pre>\n<p>It shows following dependencies:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.base\n   java.datatransfer\n   java.desktop\n   java.logging\n   java.management\n   java.net.http\n   java.scripting\n   java.sql\n   java.transaction.xa\n   java.xml\n\n   ...\n   here lots of javafx modules\n   ...\n\n   jdk.jsobject\n   jdk.unsupported\n   jdk.unsupported.desktop\n   jdk.xml.dom\n   org.junit.platform.commons/org.junit.platform.commons.logging\n   org.junit.platform.commons/org.junit.platform.commons.util\n</code></pre>\n<p><a href=\"https://docs.google.com/document/d/1nznSMWitZGtvAFLiI_EZWIeZfUX4JiiR18vtZIox6Hw/edit?usp=sharing\" rel=\"nofollow noreferrer\">full list dependencies</a></p>\n<p>So, I created custom JRE with <code>jlink</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>jlink --no-header-files --no-man-pages --compress=2 --strip-debug --module-path libs;javafx/lib --add-modules java.base,java.naming,java.datatransfer,java.desktop,java.logging,java.management,java.net.http,java.scripting,java.sql,java.transaction.xa,java.xml,jdk.jsobject,jdk.unsupported,jdk.unsupported.desktop,jdk.xml.dom --output java-runtime\n</code></pre>\n<p>As I understand I need to add something else to modules list (because if I do not use custom but full system JRE everything works well).</p>\n<p>And I don't understand how to find all mandatory module names that I need include (<code>jdeps</code> doesn't show all the necessary dependencies; for example, <code>java.naming</code> was mandatory, but <code>jdeps</code> doesn't show it).</p>\n<p>module-info.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module ru.viewer.expensesviewer {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires java.sql;\n    requires mysql.connector.j;\n    requires org.apache.logging.log4j;\n    //requires rt;\n\n    opens ru.viewer.expensesviewer to javafx.fxml;\n    exports ru.viewer.expensesviewer;\n\n    opens ru.viewer.expensesviewer.model to javafx.fxml;\n    exports ru.viewer.expensesviewer.model;\n\n    opens ru.viewer.expensesviewer.controller to javafx.fxml;\n    exports ru.viewer.expensesviewer.controller;\n\n    exports ru.viewer.expensesviewer.model.objects;\n    opens ru.viewer.expensesviewer.model.objects to javafx.fxml;\n\n    exports ru.viewer.expensesviewer.controller.settings;\n    opens ru.viewer.expensesviewer.controller.settings to javafx.fxml;\n\n    exports ru.viewer.expensesviewer.controller.reports;\n    opens ru.viewer.expensesviewer.controller.reports to javafx.fxml;\n\n    exports ru.viewer.expensesviewer.model.objects.settings;\n    opens ru.viewer.expensesviewer.model.objects.settings to javafx.fxml;\n}\n</code></pre>\n<p>added after couple hours:\nI tried to add all possible modules, looks like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>jlink --no-header-files --no-man-pages --compress=2 --strip-debug --module-path libs;javafx/lib --add-modules java.base,java.compiler,java.datatransfer,java.desktop,java.instrument,java.logging,java.management,java.management.rmi,java.naming,java.net.http,java.prefs,java.rmi,java.scripting,java.se,java.security.jgss,java.security.sasl,java.smartcardio,java.sql,java.sql.rowset,java.transaction.xa,java.xml,java.xml.crypto,jdk.accessibility,jdk.attach,jdk.charsets,jdk.compiler,jdk.crypto.cryptoki,jdk.crypto.ec,jdk.crypto.mscapi,jdk.dynalink,jdk.editpad,jdk.hotspot.agent,jdk.httpserver,jdk.incubator.foreign,jdk.incubator.vector,jdk.internal.ed,jdk.internal.jvmstat,jdk.internal.le,jdk.internal.opt,jdk.internal.vm.ci,jdk.internal.vm.compiler,jdk.internal.vm.compiler.management,jdk.jartool,jdk.javadoc,jdk.jcmd,jdk.jconsole,jdk.jdeps,jdk.jdi,jdk.jdwp.agent,jdk.jfr,jdk.jlink,jdk.jpackage,jdk.jshell,jdk.jsobject,jdk.jstatd,jdk.localedata,jdk.management,jdk.management.agent,jdk.management.jfr,jdk.naming.dns,jdk.naming.rmi,jdk.net,jdk.nio.mapmode,jdk.random,jdk.sctp,jdk.security.auth,jdk.security.jgss,jdk.unsupported,jdk.unsupported.desktop,jdk.xml.dom,jdk.zipfs, --output java-runtime \n</code></pre>\n<p>AND IT WORKS! now I exactly know that I need to discover mandatory module.</p>\n<p>I managed find needed module with method &quot;shot in the dark&quot;, how only I added <code>jdk.crypto.cryptoki</code> my custom JRE started work. But why does my program need this module? I've never use this... something for security... how should I discover this dependence?</p>\n"},{"tags":["java","visual-studio-code","directory","project","working-directory"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689028180,"post_id":76656349,"comment_id":135152561,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1690769066,"post_id":76656349,"comment_id":135394503,"body_markdown":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems.","body":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems."}],"answers":[{"comments":[{"owner":{"account_id":28989193,"reputation":1,"user_id":22205373,"display_name":"Jocular"},"score":0,"creation_date":1689022435,"post_id":76656959,"comment_id":135151821,"body_markdown":"Thanks for the suggestion. Other feature like Git Source Control, Java build task require to be excluded as well.","body":"Thanks for the suggestion. Other feature like Git Source Control, Java build task require to be excluded as well."},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1689022981,"post_id":76656959,"comment_id":135151898,"body_markdown":"@Jocular see edit. also, I just fixed a mistake.","body":"@Jocular see edit. also, I just fixed a mistake."}],"tags":[],"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689022979,"creation_date":1689019183,"answer_id":76656959,"question_id":76656349,"body_markdown":"You can temporarily edit the workspace settings&#39; `search.exclude` setting to exclude paths from search functionality. It&#39;s not an ideal solution especially if you track the workspace settings in version control, but it&#39;s a workaround. If you want to &quot;ignore&quot; things at a deeper level, use the `files.exclude` setting.\r\n\r\nUnfortunately, `files.exclude` does not seem to affect the SCM View. You can right click repositories there and select &quot;close repository&quot; and then later reopen then using the `Git: Open Repository` or `Git: Reopen Closed Repositories` commands in the command palette.\r\n\r\nIf you&#39;re using the Search View, you can expand the search details and edit the &quot;files to include&quot; and &quot;files to exclude&quot; fields, which take comma-separated lists of glob patterns.","title":"How to &quot;close&quot;/&quot;disable&quot; root folder temporarily without removing it from workspace in VS Code?","body":"<p>You can temporarily edit the workspace settings' <code>search.exclude</code> setting to exclude paths from search functionality. It's not an ideal solution especially if you track the workspace settings in version control, but it's a workaround. If you want to &quot;ignore&quot; things at a deeper level, use the <code>files.exclude</code> setting.</p>\n<p>Unfortunately, <code>files.exclude</code> does not seem to affect the SCM View. You can right click repositories there and select &quot;close repository&quot; and then later reopen then using the <code>Git: Open Repository</code> or <code>Git: Reopen Closed Repositories</code> commands in the command palette.</p>\n<p>If you're using the Search View, you can expand the search details and edit the &quot;files to include&quot; and &quot;files to exclude&quot; fields, which take comma-separated lists of glob patterns.</p>\n"}],"owner":{"account_id":28989193,"reputation":1,"user_id":22205373,"display_name":"Jocular"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689022979,"creation_date":1689013280,"question_id":76656349,"body_markdown":"Do you guys know the way to disable certain folders temporarily (to exclude them from searches, only see the git repo linked to open folder, only run Java build task with open folder etc.), but without removing it from workspace and still show up on the list of folders, so it can easily be re-enabled.\r\n\r\nIf you have the similar situation and no good solution, please upvote the feature request at:\r\nhttps://github.com/microsoft/vscode/issues/182803\r\n\r\n\r\nOnly way for now is to remove the folder from VScode completely. ","title":"How to &quot;close&quot;/&quot;disable&quot; root folder temporarily without removing it from workspace in VS Code?","body":"<p>Do you guys know the way to disable certain folders temporarily (to exclude them from searches, only see the git repo linked to open folder, only run Java build task with open folder etc.), but without removing it from workspace and still show up on the list of folders, so it can easily be re-enabled.</p>\n<p>If you have the similar situation and no good solution, please upvote the feature request at:\n<a href=\"https://github.com/microsoft/vscode/issues/182803\" rel=\"nofollow noreferrer\">https://github.com/microsoft/vscode/issues/182803</a></p>\n<p>Only way for now is to remove the folder from VScode completely.</p>\n"},{"tags":["java","spring","spring-boot","mybatis","pojo"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1605626128,"post_id":64877868,"comment_id":114704541,"body_markdown":"That&#39;s not a problem, that&#39;s a warning. You&#39;re saying you don&#39;t want to suppress the warning, and you don&#39;t want to change the code to make the warning disappear. I guess your only option is to ignore the warning with your mind then?","body":"That&#39;s not a problem, that&#39;s a warning. You&#39;re saying you don&#39;t want to suppress the warning, and you don&#39;t want to change the code to make the warning disappear. I guess your only option is to ignore the warning with your mind then?"}],"answers":[{"tags":[],"owner":{"account_id":15216511,"reputation":61,"user_id":10979744,"display_name":"Doron Cohen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605630360,"creation_date":1605630360,"answer_id":64879238,"question_id":64877868,"body_markdown":"**javac** will not complain on this.\r\n```\r\njavac -cp *.jar com/example/mssqlserver/model/NameModel.java\r\n```\r\n\r\nSo it is likely be the IDE being used.\r\nIt may have a configuration Errors/Warnings option for this specific case.\r\nUnfortunately couldn&#39;t find such an option in my Eclipse IDE - though I remember there was one - so  cannot point the exact option.\r\n\r\nA related question: https://stackoverflow.com/questions/19732929/why-no-field-is-never-assigned-warning-with-mock","title":"How to avoid &#39;Private field is never assigned&#39; which is caused by using MyBatis and Immutable POJO?","body":"<p><strong>javac</strong> will not complain on this.</p>\n<pre><code>javac -cp *.jar com/example/mssqlserver/model/NameModel.java\n</code></pre>\n<p>So it is likely be the IDE being used.\nIt may have a configuration Errors/Warnings option for this specific case.\nUnfortunately couldn't find such an option in my Eclipse IDE - though I remember there was one - so  cannot point the exact option.</p>\n<p>A related question: <a href=\"https://stackoverflow.com/questions/19732929/why-no-field-is-never-assigned-warning-with-mock\">Why no &quot;field is never assigned&quot; warning with @Mock</a></p>\n"},{"tags":[],"owner":{"account_id":22236819,"reputation":21,"user_id":16472018,"display_name":"Jati Srono"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689014965,"creation_date":1626670287,"answer_id":68435243,"question_id":64877868,"body_markdown":"the first is like this\r\n\r\n```java\r\npublic class MainActivity extends AppCompatActivity {\r\n    private PDFView pdfView;\r\n\r\n    public MainActivity(PDFView pdfView) {\r\n        this.pdfView = pdfView;\r\n    }\r\n}\r\n```\r\n\r\nand I edit like this\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private final PDFView pdfView;\r\n\r\n    public MainActivity(PDFView pdfView) {\r\n        this.pdfView = pdfView;\r\n    }\r\n}\r\n```\r\n\r\nand the problem solved. thanks","title":"How to avoid &#39;Private field is never assigned&#39; which is caused by using MyBatis and Immutable POJO?","body":"<p>the first is like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n    private PDFView pdfView;\n\n    public MainActivity(PDFView pdfView) {\n        this.pdfView = pdfView;\n    }\n}\n</code></pre>\n<p>and I edit like this</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private final PDFView pdfView;\n\n    public MainActivity(PDFView pdfView) {\n        this.pdfView = pdfView;\n    }\n}\n</code></pre>\n<p>and the problem solved. thanks</p>\n"},{"tags":[],"owner":{"account_id":28969902,"reputation":61,"user_id":22190461,"display_name":"Guillem Chesa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689022757,"creation_date":1689022757,"answer_id":76657311,"question_id":64877868,"body_markdown":"This is normally an IDE warning, you can change the settings from the IDE to not receive this kind of warnings without tweaking your code. I don&#39;t know what IDE are you using but I think it might be IntelliJ. In that case, you can do the following:\r\n\r\nGo to File &gt; Settings &gt; Editor &gt; Inspections &gt; Java &gt; Declaration Redundancy &gt; Unused declaration. And there, you can choose which elements you want to get this warning, on which privacy scope and you can even change the type of warning to a soft warning or just disable it.\r\n\r\nIn other IDEs there might be a similar option.","title":"How to avoid &#39;Private field is never assigned&#39; which is caused by using MyBatis and Immutable POJO?","body":"<p>This is normally an IDE warning, you can change the settings from the IDE to not receive this kind of warnings without tweaking your code. I don't know what IDE are you using but I think it might be IntelliJ. In that case, you can do the following:</p>\n<p>Go to File &gt; Settings &gt; Editor &gt; Inspections &gt; Java &gt; Declaration Redundancy &gt; Unused declaration. And there, you can choose which elements you want to get this warning, on which privacy scope and you can even change the type of warning to a soft warning or just disable it.</p>\n<p>In other IDEs there might be a similar option.</p>\n"}],"owner":{"account_id":18250480,"reputation":1691,"user_id":13285583,"display_name":"Jason Rich Darmawan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2798,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1689022757,"creation_date":1605625645,"question_id":64877868,"body_markdown":"my goal is to avoid problem &#39;Private field is never assigned&#39; without using @SupressWarnings or creating a defined constructor.\r\n\r\nI am aware using annotation will lead to technical debt for the long run. However, I can&#39;t not justify the Java verbosity (although I love it at times when debugging a bug), this code is easier to read.\r\n\r\nMethod that I do not wish to use:\r\n1. `SupressWarnings(&quot;unused&quot;)` written above the class statement.\r\n2. Creating a defined constructor which is not necessary since MyBatis can modify the object attribute regardless there is a setters or not for example when you use `@SelectKey`.\r\n3. Creating a setter which will never be used.\r\n\r\nThis is the sample code for the model I am going to standardize for MyBatis.\r\n\r\nmodel/NameModel.java\r\n```\r\npackage com.example.mssqlserver.model;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\n\r\n@SuppressWarnings(&quot;unused&quot;) // MyBatis does not need a defined constructor nor a setters.\r\n@JsonInclude(JsonInclude.Include.NON_NULL) // filter: only non_null, alternative: spring.jackson.default-property-inclusion=NON_NULL in application.properties\r\npublic class NameModel {\r\n  private Integer id;\r\n  private String name;\r\n  private String newid;\r\n\r\n  public Integer getId() {\r\n    return id;\r\n  }\r\n\r\n  public String getName() {\r\n    return name;\r\n  }\r\n\r\n  public String getNewid() {\r\n    return newid;\r\n  }\r\n\r\n  public boolean requestIsValid() {\r\n    return !this.name.isEmpty();\r\n  }\r\n}\r\n```","title":"How to avoid &#39;Private field is never assigned&#39; which is caused by using MyBatis and Immutable POJO?","body":"<p>my goal is to avoid problem 'Private field is never assigned' without using @SupressWarnings or creating a defined constructor.</p>\n<p>I am aware using annotation will lead to technical debt for the long run. However, I can't not justify the Java verbosity (although I love it at times when debugging a bug), this code is easier to read.</p>\n<p>Method that I do not wish to use:</p>\n<ol>\n<li><code>SupressWarnings(&quot;unused&quot;)</code> written above the class statement.</li>\n<li>Creating a defined constructor which is not necessary since MyBatis can modify the object attribute regardless there is a setters or not for example when you use <code>@SelectKey</code>.</li>\n<li>Creating a setter which will never be used.</li>\n</ol>\n<p>This is the sample code for the model I am going to standardize for MyBatis.</p>\n<p>model/NameModel.java</p>\n<pre><code>package com.example.mssqlserver.model;\n\nimport com.fasterxml.jackson.annotation.JsonInclude;\n\n@SuppressWarnings(&quot;unused&quot;) // MyBatis does not need a defined constructor nor a setters.\n@JsonInclude(JsonInclude.Include.NON_NULL) // filter: only non_null, alternative: spring.jackson.default-property-inclusion=NON_NULL in application.properties\npublic class NameModel {\n  private Integer id;\n  private String name;\n  private String newid;\n\n  public Integer getId() {\n    return id;\n  }\n\n  public String getName() {\n    return name;\n  }\n\n  public String getNewid() {\n    return newid;\n  }\n\n  public boolean requestIsValid() {\n    return !this.name.isEmpty();\n  }\n}\n</code></pre>\n"},{"tags":["java","optaplanner","timefold"],"answers":[{"comments":[{"owner":{"account_id":3689370,"reputation":2805,"user_id":3072366,"accept_rate":59,"display_name":"Pezetter"},"score":0,"creation_date":1689041053,"post_id":76657305,"comment_id":135153759,"body_markdown":"I&#39;m more concerned with understanding score trend. The solution starts as entirely null. We use hard constraints to constrain physical reality. If a hard score exists, then the solution is infeasible. I imagine this works because of the null planning value? Any move that moves the medium score from negative to zero can also inflict a hard penalty. So, in that case, why would that move ever be chosen. That&#39;s been my assumption for over a year now. Medium constraint is used only to penalize entities w/ a null planning value. Soft constraints are preferences.","body":"I&#39;m more concerned with understanding score trend. The solution starts as entirely null. We use hard constraints to constrain physical reality. If a hard score exists, then the solution is infeasible. I imagine this works because of the null planning value? Any move that moves the medium score from negative to zero can also inflict a hard penalty. So, in that case, why would that move ever be chosen. That&#39;s been my assumption for over a year now. Medium constraint is used only to penalize entities w/ a null planning value. Soft constraints are preferences."},{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"score":0,"creation_date":1689057373,"post_id":76657305,"comment_id":135155223,"body_markdown":"For the solver, a score is a score - imagine all scores on a single number line, where the position is dictated first by hard, then by medium, then by soft scores. On such a number line, the trend is the direction of movement from better to worse or vice versa. The construction heuristic is different than local search in that its only goal is to initialize the solution - and as it does so, it will pick the least bad score, even if hard constraints are broken. It is local search&#39;s job to get rid of the hard constraints, if it can. CH only generates the starting solution.","body":"For the solver, a score is a score - imagine all scores on a single number line, where the position is dictated first by hard, then by medium, then by soft scores. On such a number line, the trend is the direction of movement from better to worse or vice versa. The construction heuristic is different than local search in that its only goal is to initialize the solution - and as it does so, it will pick the least bad score, even if hard constraints are broken. It is local search&#39;s job to get rid of the hard constraints, if it can. CH only generates the starting solution."}],"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689022650,"creation_date":1689022650,"answer_id":76657305,"question_id":76637503,"body_markdown":"Initializing score trend isn&#39;t really related to over-constrained planning. The only thing that matters for the trend is the score. \r\n\r\nThere is no way for me to answer your question in a specific manner - I do not have insight on your scoring function. That said, if you say that hard score is *always* zero and therefore only the medium score matters, I&#39;d argue you have to use `InitializingScoreTrend.ANY` (the default). \r\n\r\nHowever, I question what would such a scoring function be for. Why even have a hard score, if it&#39;s always zero? (And if it&#39;s sometimes not zero, than hard score is the key factor for the trend, not the medium score.)\r\n\r\nEven if I disregard that aspect, I would be very curious about the reasons why you&#39;re worried about `InitializingScoreTrend` at all. Yes, it can bring some performance benefits, but if you&#39;re running into such large construction heuristics performance issues, you&#39;d be better off writing a custom initializer anyway.","title":"Timefold Over Constrained Planning Initializing Score Trend","body":"<p>Initializing score trend isn't really related to over-constrained planning. The only thing that matters for the trend is the score.</p>\n<p>There is no way for me to answer your question in a specific manner - I do not have insight on your scoring function. That said, if you say that hard score is <em>always</em> zero and therefore only the medium score matters, I'd argue you have to use <code>InitializingScoreTrend.ANY</code> (the default).</p>\n<p>However, I question what would such a scoring function be for. Why even have a hard score, if it's always zero? (And if it's sometimes not zero, than hard score is the key factor for the trend, not the medium score.)</p>\n<p>Even if I disregard that aspect, I would be very curious about the reasons why you're worried about <code>InitializingScoreTrend</code> at all. Yes, it can bring some performance benefits, but if you're running into such large construction heuristics performance issues, you'd be better off writing a custom initializer anyway.</p>\n"}],"owner":{"account_id":3689370,"reputation":2805,"user_id":3072366,"accept_rate":59,"display_name":"Pezetter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76657305,"answer_count":1,"score":0,"last_activity_date":1689022650,"creation_date":1688737179,"question_id":76637503,"body_markdown":"I have a single entity and a sing planning value. The planning value is nullable. Hard/Medium/Soft score configuration.\r\n\r\nAll of the constraints are penalties/negative.\r\n\r\nI&#39;m trying to figure out if InitializingScoreTrend is applicable to over-constrained planning, and if it is, how I should configure it.\r\n\r\nUpon startSolving, the Medium score will be very negative, hard score is 0, soft score is 0. As values are assigned, the medium score will move closer to 0. The soft score will generally move more negative, but can fluctuate. If one value is assigned, and another gets assigned, the soft score can move closer to zero. ","title":"Timefold Over Constrained Planning Initializing Score Trend","body":"<p>I have a single entity and a sing planning value. The planning value is nullable. Hard/Medium/Soft score configuration.</p>\n<p>All of the constraints are penalties/negative.</p>\n<p>I'm trying to figure out if InitializingScoreTrend is applicable to over-constrained planning, and if it is, how I should configure it.</p>\n<p>Upon startSolving, the Medium score will be very negative, hard score is 0, soft score is 0. As values are assigned, the medium score will move closer to 0. The soft score will generally move more negative, but can fluctuate. If one value is assigned, and another gets assigned, the soft score can move closer to zero.</p>\n"},{"tags":["java","android","android-studio","ionic-framework","capacitor"],"comments":[{"owner":{"account_id":10388625,"reputation":761,"user_id":7660727,"display_name":"Mohammad Atif Aftab"},"score":0,"creation_date":1698226062,"post_id":76572367,"comment_id":136377120,"body_markdown":"have you find solution to it ?","body":"have you find solution to it ?"}],"answers":[{"tags":[],"owner":{"account_id":241336,"reputation":10233,"user_id":512089,"accept_rate":66,"display_name":"Bas van Dijk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689022261,"creation_date":1689015159,"answer_id":76656545,"question_id":76572367,"body_markdown":"For me it worked to change the `targetSDK` and `compileSDK` to 33. Of course you also need to have Android SDK 33 (TIRAMISU) installed\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/JqAPB.png","title":"Trouble with dependencies in Android project within Android Studio","body":"<p>For me it worked to change the <code>targetSDK</code> and <code>compileSDK</code> to 33. Of course you also need to have Android SDK 33 (TIRAMISU) installed</p>\n<p><a href=\"https://i.stack.imgur.com/JqAPB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JqAPB.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8699696,"reputation":628,"user_id":6510020,"accept_rate":56,"display_name":"Jimy Weiss"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689022261,"creation_date":1687948719,"question_id":76572367,"body_markdown":"After upgrading the capacitor version of my project to `5.0.5` I&#39;ve got two problems with the `InternalUtils.Java` Class:\r\n\r\n    public static PackageInfo getPackageInfo(PackageManager pm, String packageName, long flags)\r\n        throws PackageManager.NameNotFoundException {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\r\n            return pm.getPackageInfo(packageName, PackageManager.PackageInfoFlags.of(flags));\r\n        } else {\r\n            return getPackageInfoLegacy(pm, packageName, (int) flags);\r\n        }\r\n    }\r\n\r\n&gt; Cannot resolve symbol &#39;TIRAMISU&#39;\r\n\r\n&gt; Cannot resolve symbol &#39;PackageInfoFlags&#39;\r\n\r\nThe version of compileSdkVersion and targetSdkVersion in `build.gradle` both is `33`\r\n\r\n    android {\r\n    namespace &quot;com.getcapacitor.android&quot;\r\n    compileSdkVersion project.hasProperty(&#39;compileSdkVersion&#39;) ? rootProject.ext.compileSdkVersion : 33\r\n    defaultConfig {\r\n        minSdkVersion project.hasProperty(&#39;minSdkVersion&#39;) ? rootProject.ext.minSdkVersion : 22\r\n        targetSdkVersion project.hasProperty(&#39;targetSdkVersion&#39;) ? rootProject.ext.targetSdkVersion : 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        consumerProguardFiles &#39;proguard-rules.pro&#39;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\t...}\r\n\r\nI did update also my Android Studio to the latest version and grandle to `8.0.2`.\r\n\r\nDoes anyone know the problem or can help me solve it?\r\n\r\nBtw. actually I can build the project, but i still see this error in Android Studio.\r\n\r\nHere also the version of Java `17.x.x`:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G6oXt.png","title":"Trouble with dependencies in Android project within Android Studio","body":"<p>After upgrading the capacitor version of my project to <code>5.0.5</code> I've got two problems with the <code>InternalUtils.Java</code> Class:</p>\n<pre><code>public static PackageInfo getPackageInfo(PackageManager pm, String packageName, long flags)\n    throws PackageManager.NameNotFoundException {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\n        return pm.getPackageInfo(packageName, PackageManager.PackageInfoFlags.of(flags));\n    } else {\n        return getPackageInfoLegacy(pm, packageName, (int) flags);\n    }\n}\n</code></pre>\n<blockquote>\n<p>Cannot resolve symbol 'TIRAMISU'</p>\n</blockquote>\n<blockquote>\n<p>Cannot resolve symbol 'PackageInfoFlags'</p>\n</blockquote>\n<p>The version of compileSdkVersion and targetSdkVersion in <code>build.gradle</code> both is <code>33</code></p>\n<pre><code>android {\nnamespace &quot;com.getcapacitor.android&quot;\ncompileSdkVersion project.hasProperty('compileSdkVersion') ? rootProject.ext.compileSdkVersion : 33\ndefaultConfig {\n    minSdkVersion project.hasProperty('minSdkVersion') ? rootProject.ext.minSdkVersion : 22\n    targetSdkVersion project.hasProperty('targetSdkVersion') ? rootProject.ext.targetSdkVersion : 33\n    versionCode 1\n    versionName &quot;1.0&quot;\n    consumerProguardFiles 'proguard-rules.pro'\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n...}\n</code></pre>\n<p>I did update also my Android Studio to the latest version and grandle to <code>8.0.2</code>.</p>\n<p>Does anyone know the problem or can help me solve it?</p>\n<p>Btw. actually I can build the project, but i still see this error in Android Studio.</p>\n<p>Here also the version of Java <code>17.x.x</code>:\n<a href=\"https://i.stack.imgur.com/G6oXt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G6oXt.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1689020380,"post_id":76657043,"comment_id":135151533,"body_markdown":"Are you going to handle annotation manually via Reflection? In such case If yes, then all the power is available to you and you can get all annotation both from same method and its class","body":"Are you going to handle annotation manually via Reflection? In such case If yes, then all the power is available to you and you can get all annotation both from same method and its class"}],"answers":[{"tags":[],"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689021947,"creation_date":1689021947,"answer_id":76657231,"question_id":76657043,"body_markdown":"Annotations is just for metadata purpose, so you can&#39;t assign work to it. If you wish you can use it as marker for search in the Spring context:\r\n\r\n    \r\n        @Autowired\r\n        private ApplicationContext applicationContext;\r\n        ...\r\n        ...\r\n        \r\n    var beanNames = applicationContext.getBeanNamesForAnnotation(ToTake.class);\r\n    for(String beanName : beanNames) {\r\n      Object bean = applicationContext.getBean(beanName);\r\n      Class&lt;?&gt; clazz = bean.getClass();\r\n\r\n      if(clazz.isAnnotationPresent(RestController.class)) {\r\n        RestController annotation = clazz.getAnnotation(RestController.class);\r\n        System.out.println(annotation.value());\r\n      }\r\n\r\n      for(Method method : clazz.getMethods()) {\r\n        if(method.isAnnotationPresent(PutMapping.class)) {\r\n          PutMapping annotation = method.getAnnotation(PutMapping.class);\r\n          System.out.println(annotation.value());\r\n        }\r\n      }\r\n    }\r\n  \r\nYou should note that `applicationContext.getBean(beanName);` will trigger resolving bean according its scope and proxy mode.\r\n\r\n You&#39;re also able to use any classpath scanning libs for searching for annotation at runtime, or to use list of classes known at compile time ","title":"Annotation to get value of another annotation","body":"<p>Annotations is just for metadata purpose, so you can't assign work to it. If you wish you can use it as marker for search in the Spring context:</p>\n<pre><code>    @Autowired\n    private ApplicationContext applicationContext;\n    ...\n    ...\n    \nvar beanNames = applicationContext.getBeanNamesForAnnotation(ToTake.class);\nfor(String beanName : beanNames) {\n  Object bean = applicationContext.getBean(beanName);\n  Class&lt;?&gt; clazz = bean.getClass();\n\n  if(clazz.isAnnotationPresent(RestController.class)) {\n    RestController annotation = clazz.getAnnotation(RestController.class);\n    System.out.println(annotation.value());\n  }\n\n  for(Method method : clazz.getMethods()) {\n    if(method.isAnnotationPresent(PutMapping.class)) {\n      PutMapping annotation = method.getAnnotation(PutMapping.class);\n      System.out.println(annotation.value());\n    }\n  }\n}\n</code></pre>\n<p>You should note that <code>applicationContext.getBean(beanName);</code> will trigger resolving bean according its scope and proxy mode.</p>\n<p>You're also able to use any classpath scanning libs for searching for annotation at runtime, or to use list of classes known at compile time</p>\n"}],"owner":{"account_id":1103468,"reputation":5324,"user_id":1095362,"accept_rate":43,"display_name":"robert trudel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689021947,"creation_date":1689020047,"question_id":76657043,"body_markdown":"In spring boot 3 I have many controller\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/queries&quot;)\r\n    @RequiredArgsConstructor\r\n    public class QueriesController {\r\n    \r\n     @ToTake\r\n     @PutMapping(&quot;/{id}&quot;)\r\n     ....\r\n    \r\n    }\r\n\r\nIf i create annotation to take, is it possible to get value of the RequestMapping and PutMapping annotation?\r\n\r\n","title":"Annotation to get value of another annotation","body":"<p>In spring boot 3 I have many controller</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/queries&quot;)\n@RequiredArgsConstructor\npublic class QueriesController {\n\n @ToTake\n @PutMapping(&quot;/{id}&quot;)\n ....\n\n}\n</code></pre>\n<p>If i create annotation to take, is it possible to get value of the RequestMapping and PutMapping annotation?</p>\n"},{"tags":["java","bufferedimage"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689019475,"post_id":76656811,"comment_id":135151382,"body_markdown":"Make sure that the layout manager sizes it so it&#39;s visible","body":"Make sure that the layout manager sizes it so it&#39;s visible"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689020780,"post_id":76656811,"comment_id":135151587,"body_markdown":"Also, there might be unintentional transparency, so do `img.setRGB(i, j, 0xFF000000 | rnd.nextInt(16777216));\n`","body":"Also, there might be unintentional transparency, so do <code>img.setRGB(i, j, 0xFF000000 | rnd.nextInt(16777216)); </code>"},{"owner":{"account_id":28989587,"reputation":3,"user_id":22205665,"display_name":"King Bipo"},"score":0,"creation_date":1689021142,"post_id":76656811,"comment_id":135151634,"body_markdown":"Thank you apparently there was some sort of unintentional transparency now it works.","body":"Thank you apparently there was some sort of unintentional transparency now it works."},{"owner":{"account_id":2396133,"reputation":2138,"user_id":2638227,"display_name":"Mustafa &#214;z&#231;etin"},"score":0,"creation_date":1689021352,"post_id":76656811,"comment_id":135151679,"body_markdown":"@g00se You may want to write your solution as an answer so that the OP will mark it as the accepted answer.","body":"@g00se You may want to write your solution as an answer so that the OP will mark it as the accepted answer."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689021583,"post_id":76656811,"comment_id":135151711,"body_markdown":"@Mustafa&#214;z&#231;etin thanks","body":"@Mustafa&#214;z&#231;etin thanks"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689021532,"creation_date":1689021532,"answer_id":76657189,"question_id":76656811,"body_markdown":"`BufferedImage.setRGB` actually works with ARGB, so there might be unintentional transparency, so do\r\n```\r\nimg.setRGB(i, j, 0xFF000000 | rnd.nextInt(16777216)); \r\n```","title":"Why is my newly generated BufferedImage not drawn on my JPanel?","body":"<p><code>BufferedImage.setRGB</code> actually works with ARGB, so there might be unintentional transparency, so do</p>\n<pre><code>img.setRGB(i, j, 0xFF000000 | rnd.nextInt(16777216)); \n</code></pre>\n"}],"owner":{"account_id":28989587,"reputation":3,"user_id":22205665,"display_name":"King Bipo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76657189,"answer_count":1,"score":0,"last_activity_date":1689021532,"creation_date":1689017849,"question_id":76656811,"body_markdown":"I am trying to display a newly generated `BufferedImage` on a `JPanel` but its not showing. Other components like Buttons or Rectangles can be displayed without problems, and I can&#39;t figure it out.\r\n\r\nThis is my code:\r\n```\r\npublic class panelsa extends JPanel{\r\n\tBufferedImage img;\r\n\t\r\n\tpublic panelsa(){\r\n\t\tsetPreferredSize(new Dimension(400,400));\r\n\t\tinitImg();\r\n\t}\r\n\r\n\tprivate void initImg()\r\n\t{\r\n\t\tRandom rnd = new Random();\r\n\t\timg = new BufferedImage(400, 400, BufferedImage.TYPE_INT_ARGB);\r\n\t\tfor (int i = 0; i &lt; img.getHeight(); i++){\r\n\t\t\tfor (int j = 0; j &lt; img.getWidth(); j++){\r\n\t\t\t\timg.setRGB(i, j, rnd.nextInt(16777216));\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void paintComponent(Graphics aG){\r\n\t\tsuper.paintComponent(aG);\r\n\t\taG.drawImage(img, 0, 0, null);\r\n\t}\r\n}\r\n```\r\n","title":"Why is my newly generated BufferedImage not drawn on my JPanel?","body":"<p>I am trying to display a newly generated <code>BufferedImage</code> on a <code>JPanel</code> but its not showing. Other components like Buttons or Rectangles can be displayed without problems, and I can't figure it out.</p>\n<p>This is my code:</p>\n<pre><code>public class panelsa extends JPanel{\n    BufferedImage img;\n    \n    public panelsa(){\n        setPreferredSize(new Dimension(400,400));\n        initImg();\n    }\n\n    private void initImg()\n    {\n        Random rnd = new Random();\n        img = new BufferedImage(400, 400, BufferedImage.TYPE_INT_ARGB);\n        for (int i = 0; i &lt; img.getHeight(); i++){\n            for (int j = 0; j &lt; img.getWidth(); j++){\n                img.setRGB(i, j, rnd.nextInt(16777216));\n            }\n        }       \n    }\n\n    @Override\n    protected void paintComponent(Graphics aG){\n        super.paintComponent(aG);\n        aG.drawImage(img, 0, 0, null);\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","bdd"],"comments":[{"owner":{"account_id":4723951,"reputation":211,"user_id":3821144,"accept_rate":86,"display_name":"Divakar Ragupathy"},"score":0,"creation_date":1689870119,"post_id":76657135,"comment_id":135277848,"body_markdown":"Can someone please help?","body":"Can someone please help?"}],"owner":{"account_id":4723951,"reputation":211,"user_id":3821144,"accept_rate":86,"display_name":"Divakar Ragupathy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689020905,"creation_date":1689020905,"question_id":76657135,"body_markdown":"I have a BDD Cucumber framework and 6 tests are in feature file. I want to execute 6 tests in 2 devices so that 3 test cases will be executed in each devices to reduce the overall run time by 50%\r\n\r\nHowever the current framework runs all 6 test cases in each devices i.e. runs 12 tests.\r\n\r\nHere is my testng.. Can you please help\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;!DOCTYPE suite PUBLIC &quot;SYSTEM&quot; &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n&lt;suite name=&quot;Suite&quot; thread-count=&quot;2&quot; verbose=&quot;1&quot; parallel=&quot;tests&quot;&gt;\r\n    &lt;test name=&quot;emulator5554&quot;&gt;\r\n        &lt;parameter name=&quot;udid&quot; value=&quot;emulator-5554&quot;/&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;com.qa.runners.DeviceTestRunner&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n    &lt;test name=&quot;emulator5558&quot;&gt;\r\n        &lt;parameter name=&quot;udid&quot; value=&quot;emulator-5558&quot;/&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;com.qa.runners.DeviceTestRunner&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n&lt;/suite&gt;```","title":"How to run BDD Cucumber Mobile Test in parallel Thread","body":"<p>I have a BDD Cucumber framework and 6 tests are in feature file. I want to execute 6 tests in 2 devices so that 3 test cases will be executed in each devices to reduce the overall run time by 50%</p>\n<p>However the current framework runs all 6 test cases in each devices i.e. runs 12 tests.</p>\n<p>Here is my testng.. Can you please help</p>\n<pre><code>&lt;!DOCTYPE suite PUBLIC &quot;SYSTEM&quot; &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;Suite&quot; thread-count=&quot;2&quot; verbose=&quot;1&quot; parallel=&quot;tests&quot;&gt;\n    &lt;test name=&quot;emulator5554&quot;&gt;\n        &lt;parameter name=&quot;udid&quot; value=&quot;emulator-5554&quot;/&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.qa.runners.DeviceTestRunner&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n    &lt;test name=&quot;emulator5558&quot;&gt;\n        &lt;parameter name=&quot;udid&quot; value=&quot;emulator-5558&quot;/&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.qa.runners.DeviceTestRunner&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;```\n</code></pre>\n"},{"tags":["java","android","android-recyclerview"],"owner":{"account_id":22324320,"reputation":13,"user_id":16546524,"display_name":"Osin94"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689019793,"creation_date":1689019793,"question_id":76657016,"body_markdown":"When I use scroll down the recycler view my data are showing as I plan but when recyleview goes to end and I am sliding back to top, the sum for the day are broken. I can&#39;t figure how my data could being as good as being slide down for the first time.\r\n\r\nHere is the code for the Adapter of the RecylerView:\r\n\r\n```\r\n\r\n   public class TimeOverallAdapter extends RecyclerView.Adapter&lt;TimeOverallAdapter.MyViewHolder&gt; {\r\n\r\n    private Context context;\r\n    private ArrayList&lt;TimeModel&gt; list;\r\n    int positionOfTheNextDay =0;\r\n    // I commented this 16:58 - 10.07.2023\r\n    int previousPosition = 0;\r\n\r\n    boolean flag = false;\r\n\r\n    public TimeOverallAdapter(Context context, ArrayList&lt;TimeModel&gt; list) {\r\n        this.context = context;\r\n        this.list = list;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public TimeOverallAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater layoutInflater = LayoutInflater.from(parent.getContext());\r\n        View inflate = layoutInflater.inflate(R.layout.adapter_user_time,parent,false);\r\n\r\n\r\n        return new MyViewHolder(inflate);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull TimeOverallAdapter.MyViewHolder holder, int position) {\r\n\r\n        //Hiding the LinearLayout for last record of the day\r\n        holder.linearLayoutLastRecord.setVisibility(View.GONE);\r\n        //Hiding the LinearLayout for last record of the month\r\n        holder.linearLayoutSummingRecord.setVisibility(View.GONE);\r\n        //Getting date from getTimeAdded\r\n        Date date = list.get(position).getTimeAdded().toDate();\r\n\r\n        //Setting date\r\n        holder.date.setText(formattedDate(date));\r\n\r\n        //Setting lasting time of the current record in String\r\n        holder.hourInDay.setText(list.get(position).getTimeOverall());\r\n        holder.beginTime.setText(list.get(position).getTimeBegin());\r\n        holder.endTime.setText(list.get(position).getTimeEnd());\r\n\r\n\r\n        // Comparing days\r\n        if(list.size()&gt;=2&amp;&amp; position&lt;list.size()-1) {\r\n\r\n            // Comparing work with this format\r\n            SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n            Date first = list.get(position).getTimeAdded().toDate();\r\n            Date second = list.get((position+1)).getTimeAdded().toDate();\r\n\r\n            if((simpleDateFormat.format(first).equals(simpleDateFormat.format(second))))\r\n            {\r\n               Log.i(&quot;THE SAME DAY&quot;,position+&quot;&quot;);\r\n            }\r\n\r\n            // 1 Comparing days, if the next day is different than current day, make summing\r\n            if(!(simpleDateFormat.format(first).equals(simpleDateFormat.format(second))))\r\n            {\r\n\r\n                Log.i(&quot;THE Other DAY&quot;,position+&quot;&quot;);\r\n\r\n                // Assigning the position of the next day.\r\n                positionOfTheNextDay = position + 1;\r\n\r\n\r\n                //Showhing the LinearLayout for last record of the day\r\n                holder.linearLayoutLastRecord.setVisibility(View.VISIBLE);\r\n                holder.linearLayoutLastRecord.setBackgroundColor(Color.GREEN);\r\n\r\n                Date date1 = list.get(position).getTimeAdded().toDate();\r\n                holder.dateLastRecord.setText(formattedDateWithNameDay(date1));\r\n\r\n                holder.dateLastRecord.setTextColor(Color.WHITE);\r\n                holder.hours_last_record.setText(&quot;H&quot;);\r\n                holder.hours_last_record.setTextColor(Color.WHITE);\r\n\r\n                /*if(flag)\r\n                {\r\n                    previousPosition = position;\r\n                    Log.i(&quot;TAG&quot;,previousPosition+&quot;&quot;);\r\n                }*/\r\n\r\n\r\n                // summing time in the last day\r\n                long sum = 0;\r\n                for(int i = previousPosition;i&lt;=position;i++)\r\n                {\r\n                    sum += list.get(i).getTimeOverallInLong();\r\n                }\r\n\r\n                previousPosition+= positionOfTheNextDay-previousPosition;\r\n\r\n                String formattedTimeToLastRecord = formattedTime(sum);\r\n                //sum=0;\r\n\r\n\r\n                holder.hoursInDayLastRecord.setText(formattedTimeToLastRecord);\r\n                holder.hoursInDayLastRecord.setTextColor(Color.WHITE);\r\n\r\n            }\r\n        }\r\n\r\n        //Month overall\r\n        if(position==(getItemCount()-1))\r\n        {\r\n\r\n            // Summing for all the record in ArrayList\r\n            long sum = 0;\r\n            for(TimeModel timeModel : list)\r\n            {\r\n                sum += timeModel.getTimeOverallInLong();\r\n            }\r\n\r\n            flag = true;\r\n\r\n            holder.linearLayoutSummingRecord.setVisibility(View.VISIBLE);\r\n            holder.linearLayoutSummingRecord.setBackgroundColor(Color.YELLOW);\r\n\r\n\r\n            // Formatting date to &quot;LIPIEC 2023&quot; and seting to last record\r\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;LLLL yyyy&quot;, Locale.getDefault());\r\n            Date date1 = list.get(position).getTimeAdded().toDate();\r\n\r\n\r\n            holder.dateSumming.setText(dateFormat.format(date1));\r\n            holder.dateSumming.setTextColor(Color.BLACK);\r\n            holder.hoursSumming.setText(&quot;H&quot;);\r\n            holder.hoursSumming.setTextColor(Color.BLACK);\r\n\r\n\r\n            String formattedTimeToLastRecord = formattedTime(sum);\r\n\r\n\r\n            holder.hoursInMonthSumming.setText(formattedTimeToLastRecord);\r\n            holder.hoursInMonthSumming.setTextColor(Color.BLACK);\r\n\r\n            // Summing first record of the day for one day only\r\n\r\n            holder.linearLayoutLastRecord.setVisibility(View.VISIBLE);\r\n            holder.linearLayoutLastRecord.setBackgroundColor(Color.GREEN);\r\n\r\n            Date date2 = list.get(position).getTimeAdded().toDate();\r\n            holder.dateLastRecord.setText(formattedDateWithNameDay(date1));\r\n\r\n            holder.hoursInDayLastRecord.setText(list.get(position).getTimeOverall());\r\n\r\n            holder.dateLastRecord.setTextColor(Color.WHITE);\r\n            holder.hours_last_record.setText(&quot;H&quot;);\r\n            holder.hours_last_record.setTextColor(Color.WHITE);\r\n\r\n\r\n\r\n            // Checking if list size is more than 1 cous I need make a comparssion.\r\n            // Checking in if(position==(getItemCount()-1)) cous I need to make comparssion in the last record\r\n            if(list.size()&gt;1) {\r\n\r\n                //summing for the day\r\n                // Work with this format\r\n                SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n\r\n                Date first = list.get(position).getTimeAdded().toDate();\r\n                Date second = list.get((position - 1)).getTimeAdded().toDate();\r\n\r\n\r\n                if ((simpleDateFormat.format(first).equals(simpleDateFormat.format(second)))) {\r\n\r\n\r\n                    holder.linearLayoutLastRecord.setBackgroundColor(Color.GREEN);\r\n                    holder.linearLayoutLastRecord.setVisibility(View.VISIBLE);\r\n\r\n                    Date date3 = list.get(position).getTimeAdded().toDate();\r\n                    holder.dateLastRecord.setText(formattedDateWithNameDay(date3));\r\n\r\n                    holder.dateLastRecord.setTextColor(Color.WHITE);\r\n                    holder.hours_last_record.setText(&quot;H&quot;);\r\n                    holder.hours_last_record.setTextColor(Color.WHITE);\r\n\r\n                }\r\n\r\n                // summing for the current day\r\n                long sum2 = 0;\r\n                for (int i = positionOfTheNextDay; i &lt; list.size(); i++) {\r\n                    sum2 += list.get(i).getTimeOverallInLong();\r\n\r\n                }\r\n\r\n                String formattedTimeToLastRecord2 = formattedTime(sum2);\r\n\r\n\r\n                holder.hoursInDayLastRecord.setText(formattedTimeToLastRecord2);\r\n                holder.hoursInDayLastRecord.setTextColor(Color.WHITE);\r\n\r\n                //previousPosition =4;\r\n\r\n            }\r\n            else {\r\n                holder.linearLayoutLastRecord.setBackgroundColor(Color.GREEN);\r\n                holder.linearLayoutLastRecord.setVisibility(View.VISIBLE);\r\n\r\n                Date date4 = list.get(position).getTimeAdded().toDate();\r\n                holder.dateLastRecord.setText(formattedDateWithNameDay(date1));\r\n\r\n                holder.dateLastRecord.setTextColor(Color.WHITE);\r\n                holder.hours_last_record.setText(&quot;H&quot;);\r\n                holder.hours_last_record.setTextColor(Color.WHITE);\r\n\r\n                long sum3 = 0;\r\n                for (int i = positionOfTheNextDay; i &lt; list.size(); i++) {\r\n                    sum3 += list.get(i).getTimeOverallInLong();\r\n\r\n                }\r\n\r\n                //previousPosition =4;\r\n\r\n                String formattedTimeToLastRecord2 = formattedTime(sum3);\r\n\r\n\r\n                holder.hoursInDayLastRecord.setText(formattedTimeToLastRecord2);\r\n                holder.hoursInDayLastRecord.setTextColor(Color.WHITE);\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private String formattedTime(long sum) {\r\n        long seconds = sum / 1000;\r\n        long minutes = seconds / 60;\r\n        long hours = minutes / 60;\r\n\r\n        seconds %= 60;\r\n        minutes %= 60;\r\n\r\n        String formattedTime = String.format(&quot;%02d:%02d:%02d&quot;, hours, minutes, seconds);\r\n        return formattedTime;\r\n    }\r\n\r\n    private String formattedDate(Date date)\r\n    {\r\n\r\n        SimpleDateFormat format = new SimpleDateFormat(&quot;dd/MM/yy&quot;,Locale.getDefault());\r\n\r\n        return format.format(date);\r\n    }\r\n\r\n    private String formattedDateWithNameDay(Date date)\r\n    {\r\n\r\n        SimpleDateFormat format = new SimpleDateFormat(&quot;EEEE dd/MM/yy&quot;,Locale.getDefault());\r\n\r\n        return format.format(date);\r\n    }\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder{\r\n        TextView date,beginTime, endTime,hourInDay,dateLastRecord,hoursInDayLastRecord,hours_last_record,dateSumming,hoursInMonthSumming,hoursSumming;\r\n        LinearLayout linearLayoutLastRecord,linearLayoutSummingRecord;\r\n\r\n    public  MyViewHolder (@NonNull View itemView) {\r\n        super(itemView);\r\n\r\n        date = itemView.findViewById(R.id.date);\r\n        beginTime = itemView.findViewById(R.id.startTime);\r\n        endTime = itemView.findViewById(R.id.endTime);\r\n        hourInDay = itemView.findViewById(R.id.hoursInDay);\r\n        dateLastRecord = itemView.findViewById(R.id.date_last_record);\r\n        hoursInDayLastRecord = itemView.findViewById(R.id.hoursInDay_last_record);\r\n        linearLayoutLastRecord = itemView.findViewById(R.id.linearLayout);\r\n        hours_last_record = itemView.findViewById(R.id.hours_last_record);\r\n\r\n        linearLayoutSummingRecord = itemView.findViewById(R.id.summinglinearLayout);\r\n        dateSumming = itemView.findViewById(R.id.date_summing);\r\n        hoursInMonthSumming = itemView.findViewById(R.id.hoursInDay_summing);\r\n        hoursSumming = itemView.findViewById(R.id.hours_summing);\r\n\r\n    }\r\n}\r\n\r\n}\r\n```\r\n\r\nand xml for the layout:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.appcompat.widget.LinearLayoutCompat xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:padding=&quot;6dp&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:gravity=&quot;center_horizontal&quot;&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/date&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;22.05.2023 r&quot;\r\n        android:padding=&quot;10dp&quot;/&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/startTime&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;8 00&quot;\r\n        android:padding=&quot;10dp&quot;/&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;-&quot;\r\n        android:textSize=&quot;20sp&quot;/&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/endTime&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;16 00&quot;\r\n        android:padding=&quot;10dp&quot;/&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/hoursInDay&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;8&quot;/&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot; H&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/linearLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;&gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/date_last_record&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;10dp&quot;/&gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/hoursInDay_last_record&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;/&gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/hours_last_record&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/summinglinearLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;&gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/date_summing&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;10dp&quot;/&gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/hoursInDay_summing&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;/&gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/hours_summing&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n```\r\n\r\nI try many things, as seting previousPosition to some values but seems to be random due to resolution of the screen.","title":"Problem withback sliding back on recyclerView","body":"<p>When I use scroll down the recycler view my data are showing as I plan but when recyleview goes to end and I am sliding back to top, the sum for the day are broken. I can't figure how my data could being as good as being slide down for the first time.</p>\n<p>Here is the code for the Adapter of the RecylerView:</p>\n<pre><code>\n   public class TimeOverallAdapter extends RecyclerView.Adapter&lt;TimeOverallAdapter.MyViewHolder&gt; {\n\n    private Context context;\n    private ArrayList&lt;TimeModel&gt; list;\n    int positionOfTheNextDay =0;\n    // I commented this 16:58 - 10.07.2023\n    int previousPosition = 0;\n\n    boolean flag = false;\n\n    public TimeOverallAdapter(Context context, ArrayList&lt;TimeModel&gt; list) {\n        this.context = context;\n        this.list = list;\n    }\n\n    @NonNull\n    @Override\n    public TimeOverallAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater layoutInflater = LayoutInflater.from(parent.getContext());\n        View inflate = layoutInflater.inflate(R.layout.adapter_user_time,parent,false);\n\n\n        return new MyViewHolder(inflate);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull TimeOverallAdapter.MyViewHolder holder, int position) {\n\n        //Hiding the LinearLayout for last record of the day\n        holder.linearLayoutLastRecord.setVisibility(View.GONE);\n        //Hiding the LinearLayout for last record of the month\n        holder.linearLayoutSummingRecord.setVisibility(View.GONE);\n        //Getting date from getTimeAdded\n        Date date = list.get(position).getTimeAdded().toDate();\n\n        //Setting date\n        holder.date.setText(formattedDate(date));\n\n        //Setting lasting time of the current record in String\n        holder.hourInDay.setText(list.get(position).getTimeOverall());\n        holder.beginTime.setText(list.get(position).getTimeBegin());\n        holder.endTime.setText(list.get(position).getTimeEnd());\n\n\n        // Comparing days\n        if(list.size()&gt;=2&amp;&amp; position&lt;list.size()-1) {\n\n            // Comparing work with this format\n            SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\n            Date first = list.get(position).getTimeAdded().toDate();\n            Date second = list.get((position+1)).getTimeAdded().toDate();\n\n            if((simpleDateFormat.format(first).equals(simpleDateFormat.format(second))))\n            {\n               Log.i(&quot;THE SAME DAY&quot;,position+&quot;&quot;);\n            }\n\n            // 1 Comparing days, if the next day is different than current day, make summing\n            if(!(simpleDateFormat.format(first).equals(simpleDateFormat.format(second))))\n            {\n\n                Log.i(&quot;THE Other DAY&quot;,position+&quot;&quot;);\n\n                // Assigning the position of the next day.\n                positionOfTheNextDay = position + 1;\n\n\n                //Showhing the LinearLayout for last record of the day\n                holder.linearLayoutLastRecord.setVisibility(View.VISIBLE);\n                holder.linearLayoutLastRecord.setBackgroundColor(Color.GREEN);\n\n                Date date1 = list.get(position).getTimeAdded().toDate();\n                holder.dateLastRecord.setText(formattedDateWithNameDay(date1));\n\n                holder.dateLastRecord.setTextColor(Color.WHITE);\n                holder.hours_last_record.setText(&quot;H&quot;);\n                holder.hours_last_record.setTextColor(Color.WHITE);\n\n                /*if(flag)\n                {\n                    previousPosition = position;\n                    Log.i(&quot;TAG&quot;,previousPosition+&quot;&quot;);\n                }*/\n\n\n                // summing time in the last day\n                long sum = 0;\n                for(int i = previousPosition;i&lt;=position;i++)\n                {\n                    sum += list.get(i).getTimeOverallInLong();\n                }\n\n                previousPosition+= positionOfTheNextDay-previousPosition;\n\n                String formattedTimeToLastRecord = formattedTime(sum);\n                //sum=0;\n\n\n                holder.hoursInDayLastRecord.setText(formattedTimeToLastRecord);\n                holder.hoursInDayLastRecord.setTextColor(Color.WHITE);\n\n            }\n        }\n\n        //Month overall\n        if(position==(getItemCount()-1))\n        {\n\n            // Summing for all the record in ArrayList\n            long sum = 0;\n            for(TimeModel timeModel : list)\n            {\n                sum += timeModel.getTimeOverallInLong();\n            }\n\n            flag = true;\n\n            holder.linearLayoutSummingRecord.setVisibility(View.VISIBLE);\n            holder.linearLayoutSummingRecord.setBackgroundColor(Color.YELLOW);\n\n\n            // Formatting date to &quot;LIPIEC 2023&quot; and seting to last record\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;LLLL yyyy&quot;, Locale.getDefault());\n            Date date1 = list.get(position).getTimeAdded().toDate();\n\n\n            holder.dateSumming.setText(dateFormat.format(date1));\n            holder.dateSumming.setTextColor(Color.BLACK);\n            holder.hoursSumming.setText(&quot;H&quot;);\n            holder.hoursSumming.setTextColor(Color.BLACK);\n\n\n            String formattedTimeToLastRecord = formattedTime(sum);\n\n\n            holder.hoursInMonthSumming.setText(formattedTimeToLastRecord);\n            holder.hoursInMonthSumming.setTextColor(Color.BLACK);\n\n            // Summing first record of the day for one day only\n\n            holder.linearLayoutLastRecord.setVisibility(View.VISIBLE);\n            holder.linearLayoutLastRecord.setBackgroundColor(Color.GREEN);\n\n            Date date2 = list.get(position).getTimeAdded().toDate();\n            holder.dateLastRecord.setText(formattedDateWithNameDay(date1));\n\n            holder.hoursInDayLastRecord.setText(list.get(position).getTimeOverall());\n\n            holder.dateLastRecord.setTextColor(Color.WHITE);\n            holder.hours_last_record.setText(&quot;H&quot;);\n            holder.hours_last_record.setTextColor(Color.WHITE);\n\n\n\n            // Checking if list size is more than 1 cous I need make a comparssion.\n            // Checking in if(position==(getItemCount()-1)) cous I need to make comparssion in the last record\n            if(list.size()&gt;1) {\n\n                //summing for the day\n                // Work with this format\n                SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\n\n                Date first = list.get(position).getTimeAdded().toDate();\n                Date second = list.get((position - 1)).getTimeAdded().toDate();\n\n\n                if ((simpleDateFormat.format(first).equals(simpleDateFormat.format(second)))) {\n\n\n                    holder.linearLayoutLastRecord.setBackgroundColor(Color.GREEN);\n                    holder.linearLayoutLastRecord.setVisibility(View.VISIBLE);\n\n                    Date date3 = list.get(position).getTimeAdded().toDate();\n                    holder.dateLastRecord.setText(formattedDateWithNameDay(date3));\n\n                    holder.dateLastRecord.setTextColor(Color.WHITE);\n                    holder.hours_last_record.setText(&quot;H&quot;);\n                    holder.hours_last_record.setTextColor(Color.WHITE);\n\n                }\n\n                // summing for the current day\n                long sum2 = 0;\n                for (int i = positionOfTheNextDay; i &lt; list.size(); i++) {\n                    sum2 += list.get(i).getTimeOverallInLong();\n\n                }\n\n                String formattedTimeToLastRecord2 = formattedTime(sum2);\n\n\n                holder.hoursInDayLastRecord.setText(formattedTimeToLastRecord2);\n                holder.hoursInDayLastRecord.setTextColor(Color.WHITE);\n\n                //previousPosition =4;\n\n            }\n            else {\n                holder.linearLayoutLastRecord.setBackgroundColor(Color.GREEN);\n                holder.linearLayoutLastRecord.setVisibility(View.VISIBLE);\n\n                Date date4 = list.get(position).getTimeAdded().toDate();\n                holder.dateLastRecord.setText(formattedDateWithNameDay(date1));\n\n                holder.dateLastRecord.setTextColor(Color.WHITE);\n                holder.hours_last_record.setText(&quot;H&quot;);\n                holder.hours_last_record.setTextColor(Color.WHITE);\n\n                long sum3 = 0;\n                for (int i = positionOfTheNextDay; i &lt; list.size(); i++) {\n                    sum3 += list.get(i).getTimeOverallInLong();\n\n                }\n\n                //previousPosition =4;\n\n                String formattedTimeToLastRecord2 = formattedTime(sum3);\n\n\n                holder.hoursInDayLastRecord.setText(formattedTimeToLastRecord2);\n                holder.hoursInDayLastRecord.setTextColor(Color.WHITE);\n\n            }\n\n        }\n    }\n\n\n\n    private String formattedTime(long sum) {\n        long seconds = sum / 1000;\n        long minutes = seconds / 60;\n        long hours = minutes / 60;\n\n        seconds %= 60;\n        minutes %= 60;\n\n        String formattedTime = String.format(&quot;%02d:%02d:%02d&quot;, hours, minutes, seconds);\n        return formattedTime;\n    }\n\n    private String formattedDate(Date date)\n    {\n\n        SimpleDateFormat format = new SimpleDateFormat(&quot;dd/MM/yy&quot;,Locale.getDefault());\n\n        return format.format(date);\n    }\n\n    private String formattedDateWithNameDay(Date date)\n    {\n\n        SimpleDateFormat format = new SimpleDateFormat(&quot;EEEE dd/MM/yy&quot;,Locale.getDefault());\n\n        return format.format(date);\n    }\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder{\n        TextView date,beginTime, endTime,hourInDay,dateLastRecord,hoursInDayLastRecord,hours_last_record,dateSumming,hoursInMonthSumming,hoursSumming;\n        LinearLayout linearLayoutLastRecord,linearLayoutSummingRecord;\n\n    public  MyViewHolder (@NonNull View itemView) {\n        super(itemView);\n\n        date = itemView.findViewById(R.id.date);\n        beginTime = itemView.findViewById(R.id.startTime);\n        endTime = itemView.findViewById(R.id.endTime);\n        hourInDay = itemView.findViewById(R.id.hoursInDay);\n        dateLastRecord = itemView.findViewById(R.id.date_last_record);\n        hoursInDayLastRecord = itemView.findViewById(R.id.hoursInDay_last_record);\n        linearLayoutLastRecord = itemView.findViewById(R.id.linearLayout);\n        hours_last_record = itemView.findViewById(R.id.hours_last_record);\n\n        linearLayoutSummingRecord = itemView.findViewById(R.id.summinglinearLayout);\n        dateSumming = itemView.findViewById(R.id.date_summing);\n        hoursInMonthSumming = itemView.findViewById(R.id.hoursInDay_summing);\n        hoursSumming = itemView.findViewById(R.id.hours_summing);\n\n    }\n}\n\n}\n</code></pre>\n<p>and xml for the layout:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.appcompat.widget.LinearLayoutCompat xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:padding=&quot;6dp&quot;\n    android:orientation=&quot;vertical&quot;\n    android:gravity=&quot;center_horizontal&quot;&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n    &lt;TextView\n        android:id=&quot;@+id/date&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;22.05.2023 r&quot;\n        android:padding=&quot;10dp&quot;/&gt;\n    &lt;TextView\n        android:id=&quot;@+id/startTime&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;8 00&quot;\n        android:padding=&quot;10dp&quot;/&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;-&quot;\n        android:textSize=&quot;20sp&quot;/&gt;\n    &lt;TextView\n        android:id=&quot;@+id/endTime&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;16 00&quot;\n        android:padding=&quot;10dp&quot;/&gt;\n    &lt;TextView\n        android:id=&quot;@+id/hoursInDay&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;8&quot;/&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot; H&quot; /&gt;\n    &lt;/LinearLayout&gt;\n    &lt;LinearLayout\n        android:id=&quot;@+id/linearLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;&gt;\n        &lt;TextView\n            android:id=&quot;@+id/date_last_record&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:padding=&quot;10dp&quot;/&gt;\n        &lt;TextView\n            android:id=&quot;@+id/hoursInDay_last_record&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;/&gt;\n        &lt;TextView\n            android:id=&quot;@+id/hours_last_record&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n    &lt;/LinearLayout&gt;\n    &lt;LinearLayout\n        android:id=&quot;@+id/summinglinearLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;&gt;\n        &lt;TextView\n            android:id=&quot;@+id/date_summing&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:padding=&quot;10dp&quot;/&gt;\n        &lt;TextView\n            android:id=&quot;@+id/hoursInDay_summing&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;/&gt;\n        &lt;TextView\n            android:id=&quot;@+id/hours_summing&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n</code></pre>\n<p>I try many things, as seting previousPosition to some values but seems to be random due to resolution of the screen.</p>\n"},{"tags":["java","orm","nullpointerexception","hibernate-5.x"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1583243793,"post_id":60508788,"comment_id":107044875,"body_markdown":"Take a debugger and look whih value is null `types[i]` or `f`","body":"Take a debugger and look whih value is null <code>types[i]</code> or <code>f</code>"},{"owner":{"account_id":15404372,"reputation":781,"user_id":11112873,"display_name":"Johannes Hinkov"},"score":0,"creation_date":1583244081,"post_id":60508788,"comment_id":107045065,"body_markdown":"types[i] is null, because getDataType() from NullNode is returning always null","body":"types[i] is null, because getDataType() from NullNode is returning always null"},{"owner":{"account_id":2580719,"reputation":5582,"user_id":2237467,"accept_rate":60,"display_name":"Snackoverflow"},"score":0,"creation_date":1623909472,"post_id":60508788,"comment_id":120212262,"body_markdown":"Did you ever solve this?","body":"Did you ever solve this?"},{"owner":{"account_id":15404372,"reputation":781,"user_id":11112873,"display_name":"Johannes Hinkov"},"score":0,"creation_date":1624049427,"post_id":60508788,"comment_id":120260948,"body_markdown":"Sadly, no. I ended up removing null from the select statement and dealing differently with the result.","body":"Sadly, no. I ended up removing null from the select statement and dealing differently with the result."}],"answers":[{"tags":[],"owner":{"account_id":8034641,"reputation":123,"user_id":6058222,"display_name":"tscz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1629207306,"creation_date":1629207306,"answer_id":68818342,"question_id":60508788,"body_markdown":"Both the hql and jpql BNF specifications do not allow a NULL value directly for a column in the select clause (only in the update statement BNF I could find NULL as an allowed value).\r\n\r\nHowever, hibernate seems to support the null column if you specify the intended datatype, I successfully could use: \r\n```sql\r\nselect cast(null as string) from Employer\r\n```\r\n\r\nIn my case hibernate 5.4.32 was also pointing into this direction. I did not receive a NPE, rather then the following error:\r\n```\r\nCaused by: org.hibernate.QueryException: No data type for node: org.hibernate.hql.internal.ast.tree.NullNode \r\n \\-[NULL] NullNode: &#39;null&#39;\r\n [select null from com.example.demo.Employer]\r\n```\r\n\r\n","title":"NullpointerException with hql query in Hibernate NameGenerator","body":"<p>Both the hql and jpql BNF specifications do not allow a NULL value directly for a column in the select clause (only in the update statement BNF I could find NULL as an allowed value).</p>\n<p>However, hibernate seems to support the null column if you specify the intended datatype, I successfully could use:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select cast(null as string) from Employer\n</code></pre>\n<p>In my case hibernate 5.4.32 was also pointing into this direction. I did not receive a NPE, rather then the following error:</p>\n<pre><code>Caused by: org.hibernate.QueryException: No data type for node: org.hibernate.hql.internal.ast.tree.NullNode \n \\-[NULL] NullNode: 'null'\n [select null from com.example.demo.Employer]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1689097315,"post_id":76657015,"comment_id":135163929,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76657015/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28989779,"reputation":21,"user_id":22205817,"display_name":"user22205817"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689019768,"creation_date":1689019768,"answer_id":76657015,"question_id":60508788,"body_markdown":"In my case this was happening after I added a join to another entity to the query and didn&#39;t prefix all the field names in the select clause with an entity alias","title":"NullpointerException with hql query in Hibernate NameGenerator","body":"<p>In my case this was happening after I added a join to another entity to the query and didn't prefix all the field names in the select clause with an entity alias</p>\n"}],"owner":{"account_id":15404372,"reputation":781,"user_id":11112873,"display_name":"Johannes Hinkov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3162,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":68818342,"answer_count":2,"score":6,"last_activity_date":1689019768,"creation_date":1583243656,"question_id":60508788,"body_markdown":"i have an issue with hql queries which contain a null in the select, for example:\r\n&quot;select firstname, lastname, null from Employer&quot;\r\n\r\nThe Nullpointer comes from:\r\n\r\n    Caused by: java.lang.NullPointerException\r\n\tat org.hibernate.hql.internal.NameGenerator.generateColumnNames(NameGenerator.java:27)\r\n\r\n\r\nSo the code in NameGenerator at that line:\r\n\r\n    public static String[][] generateColumnNames(Type[] types, SessionFactoryImplementor f) throws MappingException {\r\n\t\tString[][] columnNames = new String[types.length][];\r\n\t\tfor ( int i = 0; i &lt; types.length; i++ ) {\r\n\t\t\tint span = types[i].getColumnSpan( f );  // &lt;-- line 27\r\n\t\t\tcolumnNames[i] = new String[span];\r\n\t\t\tfor ( int j = 0; j &lt; span; j++ ) {\r\n\t\t\t\tcolumnNames[i][j] = NameGenerator.scalarName( i, j );\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn columnNames;\r\n\t}\r\n\r\nI narrowed it down to the new Class [NullNode][1] (added since Hibernate 5), which simply returns null for getType():\r\n\r\n    public class NullNode extends AbstractSelectExpression {\r\n\r\n\t   public Type getDataType() {\r\n\t\t   return null;\r\n\t   } \r\n     ....\r\n    }\r\n\r\n\r\nSo my question is.. is this a bug in hibernate or am i missusing hibernate at that place?\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/main/java/org/hibernate/hql/internal/ast/tree/NullNode.java","title":"NullpointerException with hql query in Hibernate NameGenerator","body":"<p>i have an issue with hql queries which contain a null in the select, for example:\n\"select firstname, lastname, null from Employer\"</p>\n\n<p>The Nullpointer comes from:</p>\n\n<pre><code>Caused by: java.lang.NullPointerException\nat org.hibernate.hql.internal.NameGenerator.generateColumnNames(NameGenerator.java:27)\n</code></pre>\n\n<p>So the code in NameGenerator at that line:</p>\n\n<pre><code>public static String[][] generateColumnNames(Type[] types, SessionFactoryImplementor f) throws MappingException {\n    String[][] columnNames = new String[types.length][];\n    for ( int i = 0; i &lt; types.length; i++ ) {\n        int span = types[i].getColumnSpan( f );  // &lt;-- line 27\n        columnNames[i] = new String[span];\n        for ( int j = 0; j &lt; span; j++ ) {\n            columnNames[i][j] = NameGenerator.scalarName( i, j );\n        }\n    }\n    return columnNames;\n}\n</code></pre>\n\n<p>I narrowed it down to the new Class <a href=\"https://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/main/java/org/hibernate/hql/internal/ast/tree/NullNode.java\" rel=\"noreferrer\">NullNode</a> (added since Hibernate 5), which simply returns null for getType():</p>\n\n<pre><code>public class NullNode extends AbstractSelectExpression {\n\n   public Type getDataType() {\n       return null;\n   } \n ....\n}\n</code></pre>\n\n<p>So my question is.. is this a bug in hibernate or am i missusing hibernate at that place?</p>\n"},{"tags":["java","spring","unit-testing","spock"],"answers":[{"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689018743,"creation_date":1689018743,"answer_id":76656908,"question_id":76653458,"body_markdown":"Don&#39;t use `static` blocks, use testcontainers with [jdbc support][1] for a seamless integration.\r\n\r\n\r\n  [1]: https://java.testcontainers.org/modules/databases/jdbc/","title":"How to exclude class from being initialized in tests","body":"<p>Don't use <code>static</code> blocks, use testcontainers with <a href=\"https://java.testcontainers.org/modules/databases/jdbc/\" rel=\"nofollow noreferrer\">jdbc support</a> for a seamless integration.</p>\n"}],"owner":{"account_id":13945116,"reputation":199,"user_id":10070050,"display_name":"Dzak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689018743,"creation_date":1688989918,"question_id":76653458,"body_markdown":"I&#39;m using mysql and elastic in my project. There are two base classes to set up docker needed for unit tests.\r\n\r\nTests classes structure\r\n```\r\n    BaseDBTest\r\n    - ExampleDBTest\r\n    -....\r\n    BaseElasticTest\r\n     - ExampleElasticTest\r\n     -.... \r\n```\r\n\r\nStatic blocks to configure containers that look like (elastic one is pretty much the same, just with different naming/docker image).\r\n```\r\n    static {\r\n        MYSQL_CONTAINER = createContainer() //set up params/passwords etc.\r\n        MYSQL_CONTAINER.start();\r\n    }\r\n```\r\nStatic blocks are needed because I have to use `@DynamicPropertySource` which requires static method. \r\n\r\nFor now elastic is no longer supported, though it might be, so I don&#39;t want to delete all elastic tests. \r\nInstead, I wonder whether it&#39;s possible not to initialize them. I know that I can use `@Ignore` to ignore tests, but the static block in `BaseElasticTest` would still be called. That causes some issues in CICD as sometimes it takes too long and fails build. \r\nI&#39;ve tried setting up different `@ActiveProfile` / `@IfProfileValue` / `@EnabledIf` etc. but even if tests are not run - the static method is still called. \r\n\r\nAny idea how to stop the initialization of any class that matches the name `..ElasticTest` or have custom annotation?","title":"How to exclude class from being initialized in tests","body":"<p>I'm using mysql and elastic in my project. There are two base classes to set up docker needed for unit tests.</p>\n<p>Tests classes structure</p>\n<pre><code>    BaseDBTest\n    - ExampleDBTest\n    -....\n    BaseElasticTest\n     - ExampleElasticTest\n     -.... \n</code></pre>\n<p>Static blocks to configure containers that look like (elastic one is pretty much the same, just with different naming/docker image).</p>\n<pre><code>    static {\n        MYSQL_CONTAINER = createContainer() //set up params/passwords etc.\n        MYSQL_CONTAINER.start();\n    }\n</code></pre>\n<p>Static blocks are needed because I have to use <code>@DynamicPropertySource</code> which requires static method.</p>\n<p>For now elastic is no longer supported, though it might be, so I don't want to delete all elastic tests.\nInstead, I wonder whether it's possible not to initialize them. I know that I can use <code>@Ignore</code> to ignore tests, but the static block in <code>BaseElasticTest</code> would still be called. That causes some issues in CICD as sometimes it takes too long and fails build.\nI've tried setting up different <code>@ActiveProfile</code> / <code>@IfProfileValue</code> / <code>@EnabledIf</code> etc. but even if tests are not run - the static method is still called.</p>\n<p>Any idea how to stop the initialization of any class that matches the name <code>..ElasticTest</code> or have custom annotation?</p>\n"},{"tags":["java","sql","apache-spark","apache-spark-sql","spark-java"],"comments":[{"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1689019396,"post_id":76656862,"comment_id":135151360,"body_markdown":"how many columns are there, why not catch all of them and then take the arry and extract the data that you want, so sql isn&#39;t made for dynamics","body":"how many columns are there, why not catch all of them and then take the arry and extract the data that you want, so sql isn&#39;t made for dynamics"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1689020024,"post_id":76656862,"comment_id":135151476,"body_markdown":"I agree with @nbk. This sounds like something that should be done in `Java` code. Read all the data from the table and store it in an object and use code `If-statements` or `streams` to extract data or do what you need.","body":"I agree with @nbk. This sounds like something that should be done in <code>Java</code> code. Read all the data from the table and store it in an object and use code <code>If-statements</code> or <code>streams</code> to extract data or do what you need."},{"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"score":0,"creation_date":1689189054,"post_id":76656862,"comment_id":135179826,"body_markdown":"What&#39;s the expected output? Your are saying &quot;also select the respective columns that are included in References&quot;. All rows of a dataframe always have the same columns though. Dataframes are basically tables. Therefore, for a given row, what should be done if the reference column does not contain a given column? Set it to null?","body":"What&#39;s the expected output? Your are saying &quot;also select the respective columns that are included in References&quot;. All rows of a dataframe always have the same columns though. Dataframes are basically tables. Therefore, for a given row, what should be done if the reference column does not contain a given column? Set it to null?"}],"owner":{"account_id":16917353,"reputation":117,"user_id":12235037,"display_name":"chingu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689018300,"creation_date":1689018300,"question_id":76656862,"body_markdown":"I am using Spark SQL Java (Not scala or python). Here is a simplified example of my dataset (it has many more columns than this):\r\n\r\n| ID       | References     | E_id           | F_id | G_id\r\n| -------- | -------------- | -------------- | ------- | ---------- |\r\n| 0    |[E_id]            | 0000 | | \r\n| 1   | [E_id, F_id, G_id]            | 0010 | 1000 | 1111\r\n\r\nThere is a column called `References` which contains an array of column names that this row of data has. So the first row only has a `Ex_1` column and would not have the columns `Ex_2` or `Ex_3` while the second row has all 3 columns. For each row, I need to select relevant columns (Like `References` and `ID` which all rows of data have) and then also select the respective columns that are included in `References`.\r\n\r\nAt the moment, this is my code:\r\n```\r\nfinal Dataset&lt;Row&gt; partitionedDf = df.select(col(&quot;id&quot;), col(&quot;references));\r\n```\r\n\r\nI can&#39;t hardcode any of the `Ex_1, Ex_2...etc` columns into my select because the possible columns inside References are dynamic. I need to figure out a way to get References for each row and then select the columns inside References as well so it&#39;s all included in my Dataset&lt;Row&gt;. \r\n\r\n**One thing to note is that the columns inside reference do all follow a pattern (they all end with &quot;_id&quot;) so I&#39;m not sure if regex matching could be used here as well, rather than relying on what is inside the References array.** ","title":"Dynamically selecting column based on if that column exists in another column&#39;s value (Java Spark SQL)","body":"<p>I am using Spark SQL Java (Not scala or python). Here is a simplified example of my dataset (it has many more columns than this):</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ID</th>\n<th>References</th>\n<th>E_id</th>\n<th>F_id</th>\n<th>G_id</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0</td>\n<td>[E_id]</td>\n<td>0000</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>1</td>\n<td>[E_id, F_id, G_id]</td>\n<td>0010</td>\n<td>1000</td>\n<td>1111</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>There is a column called <code>References</code> which contains an array of column names that this row of data has. So the first row only has a <code>Ex_1</code> column and would not have the columns <code>Ex_2</code> or <code>Ex_3</code> while the second row has all 3 columns. For each row, I need to select relevant columns (Like <code>References</code> and <code>ID</code> which all rows of data have) and then also select the respective columns that are included in <code>References</code>.</p>\n<p>At the moment, this is my code:</p>\n<pre><code>final Dataset&lt;Row&gt; partitionedDf = df.select(col(&quot;id&quot;), col(&quot;references));\n</code></pre>\n<p>I can't hardcode any of the <code>Ex_1, Ex_2...etc</code> columns into my select because the possible columns inside References are dynamic. I need to figure out a way to get References for each row and then select the columns inside References as well so it's all included in my Dataset.</p>\n<p><strong>One thing to note is that the columns inside reference do all follow a pattern (they all end with &quot;_id&quot;) so I'm not sure if regex matching could be used here as well, rather than relying on what is inside the References array.</strong></p>\n"},{"tags":["java","servlets","cdi"],"comments":[{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":1,"creation_date":1495153327,"post_id":44059122,"comment_id":75144265,"body_markdown":"This is similar to, though not the same as a question I asked: http://stackoverflow.com/questions/29380888/how-to-check-for-request-scope-availability-in-spring  My question was spring specific, but I link to it here in the hopes it may help.","body":"This is similar to, though not the same as a question I asked: <a href=\"http://stackoverflow.com/questions/29380888/how-to-check-for-request-scope-availability-in-spring\" title=\"how to check for request scope availability in spring\">stackoverflow.com/questions/29380888/&hellip;</a>  My question was spring specific, but I link to it here in the hopes it may help."},{"owner":{"account_id":5718675,"reputation":1905,"user_id":4517895,"accept_rate":69,"display_name":"Mikhail Chibel"},"score":0,"creation_date":1495159634,"post_id":44059122,"comment_id":75145566,"body_markdown":"@Taylor indeed it similar. And unfortunately pure JEE not so convenient as Spring. My current workaround is to use try catch. Actully I don&#39;t think there is any proper solution for that. I can figure out if thread started by Quartz based name of thread group but it is far from ideal.","body":"@Taylor indeed it similar. And unfortunately pure JEE not so convenient as Spring. My current workaround is to use try catch. Actully I don&#39;t think there is any proper solution for that. I can figure out if thread started by Quartz based name of thread group but it is far from ideal."}],"answers":[{"comments":[{"owner":{"account_id":16482287,"reputation":558,"user_id":11908728,"display_name":"8bit"},"score":0,"creation_date":1689005175,"post_id":76634013,"comment_id":135148694,"body_markdown":"Can you add an explanation of your code?","body":"Can you add an explanation of your code?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1689055736,"post_id":76634013,"comment_id":135154973,"body_markdown":"Your code contains a method that returns an empty `ArrayList`. How does that answer the original question? The method in your answer also has `protected` access. Does that imply that it should be overridden by a subclass of `WorkOrderList1Action`? Or maybe you just made a mistake and answered the wrong question? Also note that answers which contain only code are generally not considered good answers.","body":"Your code contains a method that returns an empty <code>ArrayList</code>. How does that answer the original question? The method in your answer also has <code>protected</code> access. Does that imply that it should be overridden by a subclass of <code>WorkOrderList1Action</code>? Or maybe you just made a mistake and answered the wrong question? Also note that answers which contain only code are generally not considered good answers."}],"tags":[],"owner":{"account_id":28967434,"reputation":1,"user_id":22188497,"display_name":"Ranjith"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689018219,"creation_date":1688705107,"answer_id":76634013,"question_id":44059122,"body_markdown":"```\r\npublic class WorkOrderList1Action extends Action{\r\n\t\r\n\tprotected ArrayList getreceipt1() {\r\n\t\tArrayList FIRSTNAME=new ArrayList();\r\n\t\treturn FIRSTNAME;\t\t\t\r\n\t}\r\n}\r\n```","title":"How to check if code executed in Servlet context","body":"<pre><code>public class WorkOrderList1Action extends Action{\n    \n    protected ArrayList getreceipt1() {\n        ArrayList FIRSTNAME=new ArrayList();\n        return FIRSTNAME;           \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5718675,"reputation":1905,"user_id":4517895,"accept_rate":69,"display_name":"Mikhail Chibel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":934,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689018219,"creation_date":1495148881,"question_id":44059122,"body_markdown":"I have a code which may be executed from normal servlet thread or from the Quartz job. The code is basically error logger and I want to add request information if available to the log message. The problem is when the code executed from the scheduled task there is obviously no request available, which is fine. The request information comes from injected instance (CDI) which underneath uses injected instance of servlet request. \r\n\r\n    @Inject\r\n    private HttpServletRequest servletRequest;\r\n\r\nAttempt to inject HttpServletRequest from the thread running outside of servlet results in `org.jboss.weld.exceptions.IllegalStateException: WELD-000710: Cannot inject HttpServletRequest outside of a Servlet request`\r\n\r\nMy question how can I detect if the current thread running in the servlet context or not and avoid trying to inject the request object. ","title":"How to check if code executed in Servlet context","body":"<p>I have a code which may be executed from normal servlet thread or from the Quartz job. The code is basically error logger and I want to add request information if available to the log message. The problem is when the code executed from the scheduled task there is obviously no request available, which is fine. The request information comes from injected instance (CDI) which underneath uses injected instance of servlet request. </p>\n\n<pre><code>@Inject\nprivate HttpServletRequest servletRequest;\n</code></pre>\n\n<p>Attempt to inject HttpServletRequest from the thread running outside of servlet results in <code>org.jboss.weld.exceptions.IllegalStateException: WELD-000710: Cannot inject HttpServletRequest outside of a Servlet request</code></p>\n\n<p>My question how can I detect if the current thread running in the servlet context or not and avoid trying to inject the request object. </p>\n"},{"tags":["java","esper"],"answers":[{"comments":[{"owner":{"account_id":446781,"reputation":1826,"user_id":840039,"accept_rate":50,"display_name":"gaurawerma"},"score":0,"creation_date":1688999533,"post_id":76652992,"comment_id":135147290,"body_markdown":"thanks. I did not get the purpose of creating a schema, if you can explain a bit. My event already has a schema, I am using Avro records as events","body":"thanks. I did not get the purpose of creating a schema, if you can explain a bit. My event already has a schema, I am using Avro records as events"},{"owner":{"account_id":4438616,"reputation":816,"user_id":3613754,"display_name":"user3613754"},"score":0,"creation_date":1689017823,"post_id":76652992,"comment_id":135151092,"body_markdown":"With create-schema that defines the Esper EPL event type of the events that make up the stream.","body":"With create-schema that defines the Esper EPL event type of the events that make up the stream."}],"tags":[],"owner":{"account_id":4438616,"reputation":816,"user_id":3613754,"display_name":"user3613754"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689017773,"creation_date":1688986260,"answer_id":76652992,"question_id":76643825,"body_markdown":"There is a bunch of ways to do this. With insert-into you can pipe the output of one statement into another.\r\n\r\nFor example...\r\n\r\n```sql\r\ninsert into HighPriceOrder select * from Order(price &gt; 100)\r\ninsert into HighPriceHighQtyOrder select * from HighPriceOrder(quantity &gt; 1000)\r\n```\r\n\r\nIf you want to change the individual stages of filtering at runtime you could use &quot;create schema HighPriceOrder as Order&quot; so the type of events is known for a given stream name. So for example, let&#39;s assume you want to change &quot;Order(price &gt; 100)&quot; to &quot;Order(price &gt; 200)&quot; you could un-deploy the first insert-into EPL and deploy a new insert-into EPL. However since the second EPL depends on the stream HighPriceOrder that the first EPL defined, a &quot;create schema HighPriceOrder as Order&quot; could be used to define name and type of the stream upfront.\r\n\r\n","title":"Apply rules sequentially on an event stream","body":"<p>There is a bunch of ways to do this. With insert-into you can pipe the output of one statement into another.</p>\n<p>For example...</p>\n<pre class=\"lang-sql prettyprint-override\"><code>insert into HighPriceOrder select * from Order(price &gt; 100)\ninsert into HighPriceHighQtyOrder select * from HighPriceOrder(quantity &gt; 1000)\n</code></pre>\n<p>If you want to change the individual stages of filtering at runtime you could use &quot;create schema HighPriceOrder as Order&quot; so the type of events is known for a given stream name. So for example, let's assume you want to change &quot;Order(price &gt; 100)&quot; to &quot;Order(price &gt; 200)&quot; you could un-deploy the first insert-into EPL and deploy a new insert-into EPL. However since the second EPL depends on the stream HighPriceOrder that the first EPL defined, a &quot;create schema HighPriceOrder as Order&quot; could be used to define name and type of the stream upfront.</p>\n"}],"owner":{"account_id":446781,"reputation":1826,"user_id":840039,"accept_rate":50,"display_name":"gaurawerma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689017773,"creation_date":1688832359,"question_id":76643825,"body_markdown":"I have a set of select statements, each statement serving as a rule with just one property filter in where clause. I want to do a logical AND on all those statements which are loaded at runtime. It’s like a set of rules applied on a stream of event A, output of one statement going into another an so on. \r\n\r\nThe order of execution of these statements should be determined by the statement priority.\r\n\r\nIs this possible using esper? If yes, what is the ideal way to achieve this?","title":"Apply rules sequentially on an event stream","body":"<p>I have a set of select statements, each statement serving as a rule with just one property filter in where clause. I want to do a logical AND on all those statements which are loaded at runtime. It’s like a set of rules applied on a stream of event A, output of one statement going into another an so on.</p>\n<p>The order of execution of these statements should be determined by the statement priority.</p>\n<p>Is this possible using esper? If yes, what is the ideal way to achieve this?</p>\n"},{"tags":["java","firebase","firebase-realtime-database","firebase-admin"],"comments":[{"owner":{"account_id":426109,"reputation":302042,"user_id":807126,"display_name":"Doug Stevenson"},"score":2,"creation_date":1689013774,"post_id":76656372,"comment_id":135150330,"body_markdown":"On Stack Overflow, please [don&#39;t show pictures of text and code](https://overflow.tips/write-good-question/formatting-text-code#dont-use-screenshots-of-text). Copy the text into the question itself and format it so that it&#39;s easy to read, copy, and search. You can edit the question to correct this using the edit link at the bottom.","body":"On Stack Overflow, please <a href=\"https://overflow.tips/write-good-question/formatting-text-code#dont-use-screenshots-of-text\" rel=\"nofollow noreferrer\">don&#39;t show pictures of text and code</a>. Copy the text into the question itself and format it so that it&#39;s easy to read, copy, and search. You can edit the question to correct this using the edit link at the bottom."},{"owner":{"account_id":426109,"reputation":302042,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1689013933,"post_id":76656372,"comment_id":135150363,"body_markdown":"Also, it&#39;s unclear from your question what the problem is. I suggest [reviewing this checklist](https://overflow.tips/write-good-question/checklist) for some practical steps to take to improve your question. Questions that just say &quot;[it doesn&#39;t work](https://overflow.tips/problematic-questions#why-doesnt-it-work--what-am-i-missing-here)&quot; are not helpful enough to get a good answer.","body":"Also, it&#39;s unclear from your question what the problem is. I suggest <a href=\"https://overflow.tips/write-good-question/checklist\" rel=\"nofollow noreferrer\">reviewing this checklist</a> for some practical steps to take to improve your question. Questions that just say &quot;<a href=\"https://overflow.tips/problematic-questions#why-doesnt-it-work--what-am-i-missing-here\" rel=\"nofollow noreferrer\">it doesn&#39;t work</a>&quot; are not helpful enough to get a good answer."},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1689014348,"post_id":76656372,"comment_id":135150450,"body_markdown":"Is your code explicitly waiting for the operation to complete? If not, the process may exit before the read has happened. See https://stackoverflow.com/questions/45253891/why-firebase-java-sdk-cant-terminate-after-set","body":"Is your code explicitly waiting for the operation to complete? If not, the process may exit before the read has happened. See <a href=\"https://stackoverflow.com/questions/45253891/why-firebase-java-sdk-cant-terminate-after-set\" title=\"why firebase java sdk cant terminate after set\">stackoverflow.com/questions/45253891/&hellip;</a>"},{"owner":{"account_id":21940210,"reputation":1,"user_id":16220861,"display_name":"Fidelio Rainbow"},"score":0,"creation_date":1689015922,"post_id":76656372,"comment_id":135150753,"body_markdown":"@FrankvanPuffelen I cannot communicate with the server in any way. it&#39;s same code in Firebase docs.","body":"@FrankvanPuffelen I cannot communicate with the server in any way. it&#39;s same code in Firebase docs."},{"owner":{"account_id":21940210,"reputation":1,"user_id":16220861,"display_name":"Fidelio Rainbow"},"score":0,"creation_date":1689016626,"post_id":76656372,"comment_id":135150866,"body_markdown":"@FrankvanPuffelen Maybe the program is ending before getting the data. if it is, how to solve this problem.","body":"@FrankvanPuffelen Maybe the program is ending before getting the data. if it is, how to solve this problem."}],"answers":[{"comments":[{"owner":{"account_id":426109,"reputation":302042,"user_id":807126,"display_name":"Doug Stevenson"},"score":1,"creation_date":1689023818,"post_id":76656746,"comment_id":135151996,"body_markdown":"This is not a good solution.  Firstly, you have no guarantee that the write will take 1 second (it could take more, you never know). Only use the callback listeners to know when something changes.","body":"This is not a good solution.  Firstly, you have no guarantee that the write will take 1 second (it could take more, you never know). Only use the callback listeners to know when something changes."},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1689029466,"post_id":76656746,"comment_id":135152696,"body_markdown":"Good to hear that this solved the problem. That proves it is the same problem as I mentioned where the JVM exits before the data is read, so I linked your question to the one about that. Using a `sleep` calls is convenient, but (as Doug says) not reliable. In the link I provided I showed how to use a `CountdownLatch` to accomplish the same.","body":"Good to hear that this solved the problem. That proves it is the same problem as I mentioned where the JVM exits before the data is read, so I linked your question to the one about that. Using a <code>sleep</code> calls is convenient, but (as Doug says) not reliable. In the link I provided I showed how to use a <code>CountdownLatch</code> to accomplish the same."}],"tags":[],"owner":{"account_id":21940210,"reputation":1,"user_id":16220861,"display_name":"Fidelio Rainbow"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689017240,"creation_date":1689017240,"answer_id":76656746,"question_id":76656372,"body_markdown":"Problem solved. \r\nI gave the listener some time to get the data. here is the code:\r\n\r\n            ref.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot snapshot) {\r\n                System.out.println(snapshot);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError error) {\r\n\r\n            }\r\n        });\r\n        TimeUnit.MINUTES.sleep(1);","title":"Firebase Admin Sdk for Java not working. I can&#39;t get any result or data","body":"<p>Problem solved.\nI gave the listener some time to get the data. here is the code:</p>\n<pre><code>        ref.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot snapshot) {\n            System.out.println(snapshot);\n        }\n\n        @Override\n        public void onCancelled(DatabaseError error) {\n\n        }\n    });\n    TimeUnit.MINUTES.sleep(1);\n</code></pre>\n"}],"owner":{"account_id":21940210,"reputation":1,"user_id":16220861,"display_name":"Fidelio Rainbow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689029406,"accepted_answer_id":76656746,"answer_count":1,"score":0,"last_activity_date":1689017240,"creation_date":1689013559,"question_id":76656372,"body_markdown":"I have a firebase admin sdk project in java. I have a problem, I cannot get any data or result from my firebase server. here is my project: [[[enter image description here](https://i.stack.imgur.com/ViZlK.png)](https://i.stack.imgur.com/Gn8XU.png)](https://i.stack.imgur.com/V9ZyJ.png)\r\n\r\n\r\nI tried at python and program working as normal. My Firebase Database Rules are public.","title":"Firebase Admin Sdk for Java not working. I can&#39;t get any result or data","body":"<p>I have a firebase admin sdk project in java. I have a problem, I cannot get any data or result from my firebase server. here is my project: [[<a href=\"https://i.stack.imgur.com/ViZlK.png\" rel=\"nofollow noreferrer\">enter image description here</a>](<a href=\"https://i.stack.imgur.com/Gn8XU.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/Gn8XU.png</a>)](<a href=\"https://i.stack.imgur.com/V9ZyJ.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/V9ZyJ.png</a>)</p>\n<p>I tried at python and program working as normal. My Firebase Database Rules are public.</p>\n"},{"tags":["java","apache-nifi"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1689014974,"post_id":76655092,"comment_id":135150581,"body_markdown":"What java and nifi versions you are using? Did you change any nifi configurations after download?","body":"What java and nifi versions you are using? Did you change any nifi configurations after download?"},{"owner":{"account_id":28988046,"reputation":1,"user_id":22204485,"display_name":"MWM"},"score":0,"creation_date":1689055474,"post_id":76655092,"comment_id":135154926,"body_markdown":"I am using java 11 and nifi 1.21.0","body":"I am using java 11 and nifi 1.21.0"},{"owner":{"account_id":28988046,"reputation":1,"user_id":22204485,"display_name":"MWM"},"score":0,"creation_date":1689055625,"post_id":76655092,"comment_id":135154954,"body_markdown":"I didn&#39;t change anything in nifi.properties, I made changes in bootstrap.conf because I had a problem with memory - I changed JVM memory settings to:\njava.arg.2=-Xms4096m\njava.arg.3=-Xmx8192m","body":"I didn&#39;t change anything in nifi.properties, I made changes in bootstrap.conf because I had a problem with memory - I changed JVM memory settings to: java.arg.2=-Xms4096m java.arg.3=-Xmx8192m"},{"owner":{"account_id":2567554,"reputation":1043,"user_id":3810086,"display_name":"tonykoval"},"score":0,"creation_date":1689068322,"post_id":76655092,"comment_id":135157393,"body_markdown":"@MWM Please show variables in `nifi.properties` in section `# web properties #`","body":"@MWM Please show variables in <code>nifi.properties</code> in section <code># web properties #</code>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689074318,"post_id":76655092,"comment_id":135158646,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1689080985,"post_id":76655092,"comment_id":135160172,"body_markdown":"error: `Caused by: org.apache.nifi.security.util.TlsException: The truststore properties are not valid` sounds like you changed `nifi.security...` or truststore  parameters...","body":"error: <code>Caused by: org.apache.nifi.security.util.TlsException: The truststore properties are not valid</code> sounds like you changed <code>nifi.security...</code> or truststore  parameters..."}],"owner":{"account_id":28988046,"reputation":1,"user_id":22204485,"display_name":"MWM"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689017142,"creation_date":1689001778,"question_id":76655092,"body_markdown":"I&#39;m new to nifi, I downloaded nifi, I&#39;m trying to log in, but I can&#39;t enter the address:https://127.0.0.1:8443/\r\n\r\nLogs:\r\n```\r\n 2023-07-10 16:16:34,682 WARN [main] org.apache.nifi.web.server.JettyServer Failed to start web server... shutting down.\r\njava.lang.IllegalStateException: Invalid nifi.web.https configuration in nifi.properties\r\nat org.apache.nifi.web.server.connector.FrameworkServerConnectorFactory.&lt;init&gt;(FrameworkServerConnectorFactory.java:89)\r\nat org.apache.nifi.web.server.JettyServer.configureConnectors(JettyServer.java:738)\r\nat org.apache.nifi.web.server.JettyServer.init(JettyServer.java:207)\r\nat org.apache.nifi.web.server.JettyServer.initialize(JettyServer.java:1074)\r\nat org.apache.nifi.NiFi.&lt;init&gt;(NiFi.java:164)\r\nat org.apache.nifi.NiFi.&lt;init&gt;(NiFi.java:83)\r\nat org.apache.nifi.NiFi.main(NiFi.java:332)\r\nCaused by: org.apache.nifi.security.util.TlsException: The truststore properties are not valid\r\nat org.apache.nifi.security.util.SslContextFactory.getTrustManagers(SslContextFactory.java:181)\r\nat org.apache.nifi.security.util.SslContextFactory.createSslContext(SslContextFactory.java:67)\r\nat org.apache.nifi.web.server.connector.FrameworkServerConnectorFactory.&lt;init&gt;(FrameworkServerConnectorFactory.java:86)\r\n6 common frames omitted\r\n2023-07-10 16:16:34,685 INFO [Thread-0] org.apache.nifi.NiFi Application Server shutdown started\r\n2023-07-10 16:16:34,686 INFO [Thread-0] org.apache.nifi.NiFi Application Server shutdown completed\r\n `\r\n```\r\n\r\nMaybe someone knows why it&#39;s not working?\r\n","title":"Invalid nifi.web.https configuration in nifi.properties when trying log in nifi","body":"<p>I'm new to nifi, I downloaded nifi, I'm trying to log in, but I can't enter the address:<a href=\"https://127.0.0.1:8443/\" rel=\"nofollow noreferrer\">https://127.0.0.1:8443/</a></p>\n<p>Logs:</p>\n<pre><code> 2023-07-10 16:16:34,682 WARN [main] org.apache.nifi.web.server.JettyServer Failed to start web server... shutting down.\njava.lang.IllegalStateException: Invalid nifi.web.https configuration in nifi.properties\nat org.apache.nifi.web.server.connector.FrameworkServerConnectorFactory.&lt;init&gt;(FrameworkServerConnectorFactory.java:89)\nat org.apache.nifi.web.server.JettyServer.configureConnectors(JettyServer.java:738)\nat org.apache.nifi.web.server.JettyServer.init(JettyServer.java:207)\nat org.apache.nifi.web.server.JettyServer.initialize(JettyServer.java:1074)\nat org.apache.nifi.NiFi.&lt;init&gt;(NiFi.java:164)\nat org.apache.nifi.NiFi.&lt;init&gt;(NiFi.java:83)\nat org.apache.nifi.NiFi.main(NiFi.java:332)\nCaused by: org.apache.nifi.security.util.TlsException: The truststore properties are not valid\nat org.apache.nifi.security.util.SslContextFactory.getTrustManagers(SslContextFactory.java:181)\nat org.apache.nifi.security.util.SslContextFactory.createSslContext(SslContextFactory.java:67)\nat org.apache.nifi.web.server.connector.FrameworkServerConnectorFactory.&lt;init&gt;(FrameworkServerConnectorFactory.java:86)\n6 common frames omitted\n2023-07-10 16:16:34,685 INFO [Thread-0] org.apache.nifi.NiFi Application Server shutdown started\n2023-07-10 16:16:34,686 INFO [Thread-0] org.apache.nifi.NiFi Application Server shutdown completed\n `\n</code></pre>\n<p>Maybe someone knows why it's not working?</p>\n"},{"tags":["java","maven","io-redirection","heideltime"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1617708145,"post_id":66966445,"comment_id":118373981,"body_markdown":"In Log4j you can configure the log level for different loggers. So you can define the log level differently for loggers coming from the Java packages of HeidelTime.","body":"In Log4j you can configure the log level for different loggers. So you can define the log level differently for loggers coming from the Java packages of HeidelTime."},{"owner":{"account_id":12163171,"reputation":160,"user_id":8880180,"display_name":"Nelly Barret"},"score":0,"creation_date":1617710990,"post_id":66966445,"comment_id":118375176,"body_markdown":"@JFabianMeier thanks for your interesting answer, I will try to do something with Log4J!","body":"@JFabianMeier thanks for your interesting answer, I will try to do something with Log4J!"},{"owner":{"account_id":12163171,"reputation":160,"user_id":8880180,"display_name":"Nelly Barret"},"score":0,"creation_date":1617714838,"post_id":66966445,"comment_id":118376972,"body_markdown":"I still need some help if possible. I tried to set the HeidelTime&#39;s logger to Level.OFF but Heideltime continues to be verbose, like if `Logger.getLogger(de.unihd.dbs.heideltime.standalone.HeidelTimeStandalone.class).setLevel(Level.OFF);` didn&#39;t work. Any ideas? Thanks!","body":"I still need some help if possible. I tried to set the HeidelTime&#39;s logger to Level.OFF but Heideltime continues to be verbose, like if <code>Logger.getLogger(de.unihd.dbs.heideltime.standalone.HeidelTi&zwnj;&#8203;meStandalone.class).&zwnj;&#8203;setLevel(Level.OFF);</code> didn&#39;t work. Any ideas? Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":27195274,"reputation":1,"user_id":20728263,"display_name":"user20728263"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689016523,"creation_date":1689016523,"answer_id":76656679,"question_id":66966445,"body_markdown":"Turning off the heideltime&#39;s logger can be achieved like this (taken from https://github.com/HeidelTime/heideltime/issues/86)\r\n\r\n    HeidelTimeStandalone heidelTime = new HeidelTimeStandalone();\r\n    \r\n    java.util.logging.logger htLogger = java.utillogging.LogManager.getLogManager().getLogger(&quot;HeidelTimeStandalone&quot;);\r\n        htLogger.setLevel(java.util.logging.Level.OFF);\r\n    \r\n    heidelTime = new HeidelTimeStandalone(\r\n        Language.ENGLISH,\r\n        DocumnetType.NARRATIVES,\r\n        OutputType.TIMEML,\r\n        &quot;./config.props&quot;,\r\n        POSTagger.NO);","title":"Redirect output (to file) from Maven dependency in Java","body":"<p>Turning off the heideltime's logger can be achieved like this (taken from <a href=\"https://github.com/HeidelTime/heideltime/issues/86\" rel=\"nofollow noreferrer\">https://github.com/HeidelTime/heideltime/issues/86</a>)</p>\n<pre><code>HeidelTimeStandalone heidelTime = new HeidelTimeStandalone();\n\njava.util.logging.logger htLogger = java.utillogging.LogManager.getLogManager().getLogger(&quot;HeidelTimeStandalone&quot;);\n    htLogger.setLevel(java.util.logging.Level.OFF);\n\nheidelTime = new HeidelTimeStandalone(\n    Language.ENGLISH,\n    DocumnetType.NARRATIVES,\n    OutputType.TIMEML,\n    &quot;./config.props&quot;,\n    POSTagger.NO);\n</code></pre>\n"}],"owner":{"account_id":12163171,"reputation":160,"user_id":8880180,"display_name":"Nelly Barret"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689016523,"creation_date":1617702904,"question_id":66966445,"body_markdown":"In my project, I&#39;m working with the [HeidelTime framework](https://github.com/HeidelTime/heideltime), that I included as a Maven dependency. This framework is very verbose, so I would like to **redirect its output to a file** (but not all outputs from my application). The constraints are the following:\r\n\r\n- HeidelTime uses a Logger (Log4J), so I can&#39;t simply redirect the standard output to a file. \r\n- I can&#39;t access the logger because it&#39;s private to the main class (`HeidelTimeStandalone.java`). \r\n- I included HeidelTime in my project as a Maven dependency and I prefer to keep it as is (even if I could download the code and modify directly the source code to make the logger public...)\r\n- Finally, I don&#39;t want to simply redirect all outputs (`java -jar myApplication.jar &gt; file.txt`) because I would like to preserve my standard output apart from HeidelTime&#39;s output...\r\n\r\nDoes anybody have an idea to redirect HeidelTime&#39;s output in a file? Hope this at least is possible!","title":"Redirect output (to file) from Maven dependency in Java","body":"<p>In my project, I'm working with the <a href=\"https://github.com/HeidelTime/heideltime\" rel=\"nofollow noreferrer\">HeidelTime framework</a>, that I included as a Maven dependency. This framework is very verbose, so I would like to <strong>redirect its output to a file</strong> (but not all outputs from my application). The constraints are the following:</p>\n<ul>\n<li>HeidelTime uses a Logger (Log4J), so I can't simply redirect the standard output to a file.</li>\n<li>I can't access the logger because it's private to the main class (<code>HeidelTimeStandalone.java</code>).</li>\n<li>I included HeidelTime in my project as a Maven dependency and I prefer to keep it as is (even if I could download the code and modify directly the source code to make the logger public...)</li>\n<li>Finally, I don't want to simply redirect all outputs (<code>java -jar myApplication.jar &gt; file.txt</code>) because I would like to preserve my standard output apart from HeidelTime's output...</li>\n</ul>\n<p>Does anybody have an idea to redirect HeidelTime's output in a file? Hope this at least is possible!</p>\n"},{"tags":["java","android","samsung-health"],"owner":{"account_id":13468129,"reputation":119,"user_id":9717646,"display_name":"Chris Fodor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689016090,"creation_date":1689016090,"question_id":76656635,"body_markdown":"I&#180;ve downloaded the SimpleHealth sample project from the Samsung Developer site.\r\nLink:\r\nhttps://developer.samsung.com/health/android/sample/simple-health.html\r\n\r\nIn the sample app StepCount permission is requested, which works:\r\n\r\n        private void requestPermission() {\r\n        PermissionKey permKey = new PermissionKey(StepCount.HEALTH_DATA_TYPE, PermissionType.READ);\r\n        HealthPermissionManager pmsManager = new HealthPermissionManager(mStore);\r\n\r\n\r\n        try {\r\n            // Show user permission UI for allowing user to change options\r\n            pmsManager.requestPermissions(Collections.singleton(permKey), MainActivity.this)\r\n                .setResultListener(result -&gt; {\r\n                    Log.d(APP_TAG, &quot;Permission callback is received.&quot;);\r\n                    Map&lt;PermissionKey, Boolean&gt; resultMap = result.getResultMap();\r\n\r\n                    if (resultMap.containsValue(Boolean.FALSE)) {\r\n                        updateHeartRateView(&quot;&quot;);\r\n                        showPermissionAlarmDialog();\r\n                    } else {\r\n                        // Get the current heart rate and display it\r\n                        hrReporter.start();\r\n                    }\r\n                });\r\n        } catch (Exception e) {\r\n            Log.e(APP_TAG, &quot;Permission setting fails.&quot;, e);\r\n        }\r\n    }\r\n\r\nThe following prompt opens where I can toggle all permissions and step count **works**:\r\n\r\n[![Prompt1][1]][1]\r\n\r\nHowever, when I change the code to request HeartRate data:\r\n\r\n        private void requestPermission() {\r\n        PermissionKey permKey = new PermissionKey(HeartRate.HEALTH_DATA_TYPE, PermissionType.READ);\r\n        HealthPermissionManager pmsManager = new HealthPermissionManager(mStore);\r\n\r\n\r\n        try {\r\n            // Show user permission UI for allowing user to change options\r\n            pmsManager.requestPermissions(Collections.singleton(permKey), MainActivity.this)\r\n                .setResultListener(result -&gt; {\r\n                    Log.d(APP_TAG, &quot;Permission callback is received.&quot;);\r\n                    Map&lt;PermissionKey, Boolean&gt; resultMap = result.getResultMap();\r\n\r\n                    if (resultMap.containsValue(Boolean.FALSE)) {\r\n                        updateHeartRateView(&quot;&quot;);\r\n                        showPermissionAlarmDialog();\r\n                    } else {\r\n                        // Get the current heart rate and display it\r\n                        hrReporter.start();\r\n                    }\r\n                });\r\n        } catch (Exception e) {\r\n            Log.e(APP_TAG, &quot;Permission setting fails.&quot;, e);\r\n        }\r\n    }\r\n\r\nThe following prompt opens but all permission **cannot** be toggled:\r\n\r\n[![Prompt2][2]][2]\r\n\r\nAndroidManifest:\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.samsung.android.simplehealth&quot;\r\n    android:versionCode=&quot;1&quot;\r\n    android:versionName=&quot;1.0&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BODY_SENSORS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.samsung.android.health.permission.read&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACTIVITY_RECOGNITION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n\r\n    &lt;queries&gt;\r\n        &lt;package android:name=&quot;com.sec.android.app.shealth&quot; /&gt;\r\n    &lt;/queries&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@drawable/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\n        &lt;meta-data android:name=&quot;com.samsung.android.health.permission.read&quot;\r\n            android:value=&quot;com.samsung.health.heart_rate&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.samsung.android.simplehealth.MainActivity&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:exported=&quot;true&quot;\r\n            &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\nWhy does StepCount work in the sample application but Heart Rate does not?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mkNjk.jpg\r\n  [2]: https://i.stack.imgur.com/mFmbb.jpg","title":"Permission request for Samsung SDK not working for Heart Rate","body":"<p>I´ve downloaded the SimpleHealth sample project from the Samsung Developer site.\nLink:\n<a href=\"https://developer.samsung.com/health/android/sample/simple-health.html\" rel=\"nofollow noreferrer\">https://developer.samsung.com/health/android/sample/simple-health.html</a></p>\n<p>In the sample app StepCount permission is requested, which works:</p>\n<pre><code>    private void requestPermission() {\n    PermissionKey permKey = new PermissionKey(StepCount.HEALTH_DATA_TYPE, PermissionType.READ);\n    HealthPermissionManager pmsManager = new HealthPermissionManager(mStore);\n\n\n    try {\n        // Show user permission UI for allowing user to change options\n        pmsManager.requestPermissions(Collections.singleton(permKey), MainActivity.this)\n            .setResultListener(result -&gt; {\n                Log.d(APP_TAG, &quot;Permission callback is received.&quot;);\n                Map&lt;PermissionKey, Boolean&gt; resultMap = result.getResultMap();\n\n                if (resultMap.containsValue(Boolean.FALSE)) {\n                    updateHeartRateView(&quot;&quot;);\n                    showPermissionAlarmDialog();\n                } else {\n                    // Get the current heart rate and display it\n                    hrReporter.start();\n                }\n            });\n    } catch (Exception e) {\n        Log.e(APP_TAG, &quot;Permission setting fails.&quot;, e);\n    }\n}\n</code></pre>\n<p>The following prompt opens where I can toggle all permissions and step count <strong>works</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/mkNjk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mkNjk.jpg\" alt=\"Prompt1\" /></a></p>\n<p>However, when I change the code to request HeartRate data:</p>\n<pre><code>    private void requestPermission() {\n    PermissionKey permKey = new PermissionKey(HeartRate.HEALTH_DATA_TYPE, PermissionType.READ);\n    HealthPermissionManager pmsManager = new HealthPermissionManager(mStore);\n\n\n    try {\n        // Show user permission UI for allowing user to change options\n        pmsManager.requestPermissions(Collections.singleton(permKey), MainActivity.this)\n            .setResultListener(result -&gt; {\n                Log.d(APP_TAG, &quot;Permission callback is received.&quot;);\n                Map&lt;PermissionKey, Boolean&gt; resultMap = result.getResultMap();\n\n                if (resultMap.containsValue(Boolean.FALSE)) {\n                    updateHeartRateView(&quot;&quot;);\n                    showPermissionAlarmDialog();\n                } else {\n                    // Get the current heart rate and display it\n                    hrReporter.start();\n                }\n            });\n    } catch (Exception e) {\n        Log.e(APP_TAG, &quot;Permission setting fails.&quot;, e);\n    }\n}\n</code></pre>\n<p>The following prompt opens but all permission <strong>cannot</strong> be toggled:</p>\n<p><a href=\"https://i.stack.imgur.com/mFmbb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mFmbb.jpg\" alt=\"Prompt2\" /></a></p>\n<p>AndroidManifest:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\npackage=&quot;com.samsung.android.simplehealth&quot;\nandroid:versionCode=&quot;1&quot;\nandroid:versionName=&quot;1.0&quot;&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BODY_SENSORS&quot; /&gt;\n&lt;uses-permission android:name=&quot;com.samsung.android.health.permission.read&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACTIVITY_RECOGNITION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n\n&lt;queries&gt;\n    &lt;package android:name=&quot;com.sec.android.app.shealth&quot; /&gt;\n&lt;/queries&gt;\n\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:icon=&quot;@drawable/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:theme=&quot;@style/AppTheme&quot;&gt;\n\n    &lt;meta-data android:name=&quot;com.samsung.android.health.permission.read&quot;\n        android:value=&quot;com.samsung.health.heart_rate&quot; /&gt;\n    &lt;activity\n        android:name=&quot;com.samsung.android.simplehealth.MainActivity&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:exported=&quot;true&quot;\n        &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>Why does StepCount work in the sample application but Heart Rate does not?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1689026652,"post_id":76656613,"comment_id":135152365,"body_markdown":"You should be looking into kiosk mode.","body":"You should be looking into kiosk mode."},{"owner":{"account_id":24532734,"reputation":1,"user_id":21143328,"display_name":"Jesus Liscano"},"score":0,"creation_date":1689086002,"post_id":76656613,"comment_id":135161528,"body_markdown":"Apart from that way, is there another way?","body":"Apart from that way, is there another way?"}],"owner":{"account_id":24532734,"reputation":1,"user_id":21143328,"display_name":"Jesus Liscano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689015884,"creation_date":1689015769,"question_id":76656613,"body_markdown":"I want to create a launcher, where access to the device settings is blocked, but I don&#39;t have much idea how to do it.\r\nI&#39;m investigating what can be done with\r\n\r\n```\r\nsetContentView(R.layout.activity_main);\r\n        DevicePolicyManager dpm = (DevicePolicyManager) getSystemService(Context.DEVICE_POLICY_SERVICE);\r\n        ComponentName adminComponent = new ComponentName(this, testclass.class);\r\n\r\n        dpm.setSettingsProviderDisabled(adminComponent, true);\r\n```\r\n\r\nbut the setSettingsProviderDisabled appears as rename, correctly import the DevicePolicyManager class and the test class extends from DeviceAdminReceiver,\r\nIs there any other way to do it or what do you recommend?\r\n","title":"How can I create a launcher and Block java status bar and settings app?","body":"<p>I want to create a launcher, where access to the device settings is blocked, but I don't have much idea how to do it.\nI'm investigating what can be done with</p>\n<pre><code>setContentView(R.layout.activity_main);\n        DevicePolicyManager dpm = (DevicePolicyManager) getSystemService(Context.DEVICE_POLICY_SERVICE);\n        ComponentName adminComponent = new ComponentName(this, testclass.class);\n\n        dpm.setSettingsProviderDisabled(adminComponent, true);\n</code></pre>\n<p>but the setSettingsProviderDisabled appears as rename, correctly import the DevicePolicyManager class and the test class extends from DeviceAdminReceiver,\nIs there any other way to do it or what do you recommend?</p>\n"},{"tags":["java","routes","wicket","wicket-6"],"comments":[{"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"score":1,"creation_date":1650482825,"post_id":71931577,"comment_id":127130244,"body_markdown":"See the source code of AjaxHashLink, copy it and adapt it!","body":"See the source code of AjaxHashLink, copy it and adapt it!"},{"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"score":0,"creation_date":1650482853,"post_id":71931577,"comment_id":127130252,"body_markdown":"BTW what is \\ in `\\edit` ? Maybe you mean `/` ?!","body":"BTW what is \\ in <code>\\edit</code> ? Maybe you mean <code>&#47;</code> ?!"},{"owner":{"account_id":22681491,"reputation":39,"user_id":16851799,"display_name":"syl-oh"},"score":0,"creation_date":1650546155,"post_id":71931577,"comment_id":127147096,"body_markdown":"Yes, `/edit` I updated my question. Ok we had a custom implementation of it that I didn&#39;t dig into. I&#39;ll see what I can find, would you know the name of the boolean or method making it a markup tag with `#` instead of a `/` ?","body":"Yes, <code>&#47;edit</code> I updated my question. Ok we had a custom implementation of it that I didn&#39;t dig into. I&#39;ll see what I can find, would you know the name of the boolean or method making it a markup tag with <code>#</code> instead of a <code>&#47;</code> ?"},{"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"score":1,"creation_date":1650953171,"post_id":71931577,"comment_id":127239009,"body_markdown":"I guess AjaxHashLink overrides method `onComponentTag(ComponentTag)` and calls `tag.put(&quot;href&quot;, &quot;link#hash&quot;)`","body":"I guess AjaxHashLink overrides method <code>onComponentTag(ComponentTag)</code> and calls <code>tag.put(&quot;href&quot;, &quot;link#hash&quot;)</code>"},{"owner":{"account_id":22681491,"reputation":39,"user_id":16851799,"display_name":"syl-oh"},"score":0,"creation_date":1653657098,"post_id":71931577,"comment_id":127910181,"body_markdown":"It worked but I&#39;ve forsaken the idea since our wicket routing is based on hash, changing that broke everything &#129335;‍♂️","body":"It worked but I&#39;ve forsaken the idea since our wicket routing is based on hash, changing that broke everything 🤷‍♂️"}],"answers":[{"tags":[],"owner":{"account_id":10512827,"reputation":6163,"user_id":7747942,"display_name":"Sylhare"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689015447,"creation_date":1689015447,"answer_id":76656578,"question_id":71931577,"body_markdown":"If it&#39;s to route to an external resource, you may use the [RedirectToUrlException](https://nightlies.apache.org/wicket/apidocs/8.x/org/apache/wicket/request/flow/RedirectToUrlException.html) in this case which\r\n\r\n&gt; Causes Wicket to interrupt current request processing and send a redirect to the given url. Use this if you want to redirect to an external or none Wicket url. If you want to redirect to a page use the RestartResponseException\r\n\r\nYou could use [RequestCycle](https://nightlies.apache.org/wicket/apidocs/8.x/org/apache/wicket/request/cycle/RequestCycle.html) to get help resolve the url of the current wicket page and throw the exception:\r\n\r\n```java\r\nthrow new RedirectToUrlException(currentUrl + &quot;#edit&quot;);\r\n```\r\n\r\n","title":"How to change the href of a wicket container?","body":"<p>If it's to route to an external resource, you may use the <a href=\"https://nightlies.apache.org/wicket/apidocs/8.x/org/apache/wicket/request/flow/RedirectToUrlException.html\" rel=\"nofollow noreferrer\">RedirectToUrlException</a> in this case which</p>\n<blockquote>\n<p>Causes Wicket to interrupt current request processing and send a redirect to the given url. Use this if you want to redirect to an external or none Wicket url. If you want to redirect to a page use the RestartResponseException</p>\n</blockquote>\n<p>You could use <a href=\"https://nightlies.apache.org/wicket/apidocs/8.x/org/apache/wicket/request/cycle/RequestCycle.html\" rel=\"nofollow noreferrer\">RequestCycle</a> to get help resolve the url of the current wicket page and throw the exception:</p>\n<pre class=\"lang-java prettyprint-override\"><code>throw new RedirectToUrlException(currentUrl + &quot;#edit&quot;);\n</code></pre>\n"}],"owner":{"account_id":22681491,"reputation":39,"user_id":16851799,"display_name":"syl-oh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76656578,"answer_count":1,"score":1,"last_activity_date":1689015511,"creation_date":1650403777,"question_id":71931577,"body_markdown":"With wicket 6.18.0 and Java 8.\r\nI have a simple wicket panel:\r\n\r\n```xml\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html xmlns:wicket=&quot;http://wicket.apache.org&quot;&gt;\r\n&lt;wicket:panel&gt;\r\n  &lt;wicket:container wicket:id=&quot;editSection&quot;&gt;\r\n       &lt;div class=&quot;item&quot;&gt;&lt;a wicket:id=&quot;edit&quot;&gt;&lt;wicket:message key=&quot;edit&quot; /&gt;&lt;/a&lt;/div&gt;\r\n  &lt;/wicket:container&gt;\r\n&lt;/wicket:panel&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nAnd in my webpage I have something like that:\r\n\r\n```java\r\npublic class MainPage extends WebPage {\r\n   public MaintPage() {\r\n      WebMarkupContainer edit = new WebMarkupContainer(&quot;editSection&quot;);\r\n      edit.add(new AjaxHashLink(&quot;edit&quot;, &quot;edit&quot;));\r\n      add(edit.setVisible(true));\r\n   }\r\n}\r\n```\r\n\r\nBut on the url I have `#edit` at the end of the page when I click on my edit link due certain to the `AjaxHashLink`.\r\n\r\nBut I would like it to be `/edit`, but so I am thinking there&#39;s something that can be done to modify the `href` of the link.","title":"How to change the href of a wicket container?","body":"<p>With wicket 6.18.0 and Java 8.\nI have a simple wicket panel:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:wicket=&quot;http://wicket.apache.org&quot;&gt;\n&lt;wicket:panel&gt;\n  &lt;wicket:container wicket:id=&quot;editSection&quot;&gt;\n       &lt;div class=&quot;item&quot;&gt;&lt;a wicket:id=&quot;edit&quot;&gt;&lt;wicket:message key=&quot;edit&quot; /&gt;&lt;/a&lt;/div&gt;\n  &lt;/wicket:container&gt;\n&lt;/wicket:panel&gt;\n&lt;/html&gt;\n</code></pre>\n<p>And in my webpage I have something like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainPage extends WebPage {\n   public MaintPage() {\n      WebMarkupContainer edit = new WebMarkupContainer(&quot;editSection&quot;);\n      edit.add(new AjaxHashLink(&quot;edit&quot;, &quot;edit&quot;));\n      add(edit.setVisible(true));\n   }\n}\n</code></pre>\n<p>But on the url I have <code>#edit</code> at the end of the page when I click on my edit link due certain to the <code>AjaxHashLink</code>.</p>\n<p>But I would like it to be <code>/edit</code>, but so I am thinking there's something that can be done to modify the <code>href</code> of the link.</p>\n"},{"tags":["java","spring-boot","dependency-properties"],"answers":[{"comments":[{"owner":{"account_id":28881527,"reputation":3,"user_id":22120911,"display_name":"Rachel Kim"},"score":0,"creation_date":1689015711,"post_id":76656471,"comment_id":135150719,"body_markdown":"I have commented out the properties in application.properties, and have also renamed the file to app.properties (so it doesn&#39;t use the file&#39;s properties). Either way did not work, and the application was not able to detect the other properties files in @PropertySources","body":"I have commented out the properties in application.properties, and have also renamed the file to app.properties (so it doesn&#39;t use the file&#39;s properties). Either way did not work, and the application was not able to detect the other properties files in @PropertySources"},{"owner":{"account_id":11719774,"reputation":44,"user_id":8579083,"display_name":"Aditya Ajmera"},"score":0,"creation_date":1689016002,"post_id":76656471,"comment_id":135150758,"body_markdown":"If you want to read the `spring.cloud.gcp.bigquery.project-id` property from file, in getId method you should replace `env.getProperty(&quot;secret.id&quot;);` with `env.getProperty(&quot;spring.cloud.gcp.bigquery.project-id&quot;);`. Can you also post the complete stack trace?","body":"If you want to read the <code>spring.cloud.gcp.bigquery.project-id</code> property from file, in getId method you should replace <code>env.getProperty(&quot;secret.id&quot;);</code> with <code>env.getProperty(&quot;spring.cloud.gcp.bigquery.project-id&quot;);</code>. Can you also post the complete stack trace?"},{"owner":{"account_id":28881527,"reputation":3,"user_id":22120911,"display_name":"Rachel Kim"},"score":0,"creation_date":1689016149,"post_id":76656471,"comment_id":135150786,"body_markdown":"I get the error, &#39;Properties location [file:/Users/myUser/etc/secrets/secret.id.properties] not resolvable: /Users/myUser/etc/secrets/secret.id.properties (No such file or directory)&#39; which does not make sense since it does exist, and I have already accessed it before with this path","body":"I get the error, &#39;Properties location [file:/Users/myUser/etc/secrets/secret.id.properties] not resolvable: /Users/myUser/etc/secrets/secret.id.properties (No such file or directory)&#39; which does not make sense since it does exist, and I have already accessed it before with this path"},{"owner":{"account_id":11719774,"reputation":44,"user_id":8579083,"display_name":"Aditya Ajmera"},"score":0,"creation_date":1689016628,"post_id":76656471,"comment_id":135150868,"body_markdown":"are you using spring mvc or spring-boot?","body":"are you using spring mvc or spring-boot?"},{"owner":{"account_id":28881527,"reputation":3,"user_id":22120911,"display_name":"Rachel Kim"},"score":0,"creation_date":1689016960,"post_id":76656471,"comment_id":135150927,"body_markdown":"I am using spring-boot","body":"I am using spring-boot"},{"owner":{"account_id":28881527,"reputation":3,"user_id":22120911,"display_name":"Rachel Kim"},"score":0,"creation_date":1689017007,"post_id":76656471,"comment_id":135150936,"body_markdown":"I am also getting &#39;Cannot invoke &quot;org.springframework.core.env.Environment.getProperty(String)&quot; because &quot;this.env&quot; is null\n&#39; now","body":"I am also getting &#39;Cannot invoke &quot;org.springframework.core.env.Environment.getProperty(String&zwnj;&#8203;)&quot; because &quot;this.env&quot; is null &#39; now"},{"owner":{"account_id":11719774,"reputation":44,"user_id":8579083,"display_name":"Aditya Ajmera"},"score":0,"creation_date":1689018155,"post_id":76656471,"comment_id":135151151,"body_markdown":"are you running your application using command line? if so you can add: -Dspring.config.additional-location=file:///Users/myUser/etc/secrets/","body":"are you running your application using command line? if so you can add: -Dspring.config.additional-location=file:///Users/myUser/etc&zwnj;&#8203;/secrets/"},{"owner":{"account_id":28881527,"reputation":3,"user_id":22120911,"display_name":"Rachel Kim"},"score":0,"creation_date":1689020221,"post_id":76656471,"comment_id":135151514,"body_markdown":"I eventually was able to get the PropertySources working, also helped to comment out the properties in application.properties and force the app to get from my properties files i defined. Thank you for your help!","body":"I eventually was able to get the PropertySources working, also helped to comment out the properties in application.properties and force the app to get from my properties files i defined. Thank you for your help!"},{"owner":{"account_id":11719774,"reputation":44,"user_id":8579083,"display_name":"Aditya Ajmera"},"score":0,"creation_date":1689048409,"post_id":76656471,"comment_id":135154206,"body_markdown":"Glad it worked. Happy coding!","body":"Glad it worked. Happy coding!"}],"tags":[],"owner":{"account_id":11719774,"reputation":44,"user_id":8579083,"display_name":"Aditya Ajmera"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689014869,"creation_date":1689014408,"answer_id":76656471,"question_id":76655892,"body_markdown":"Welcome to stack over flow community.\r\n\r\nI have tried running your sample code here assuming you are providing absolute path in value field of @PropertySource. \r\nYou have configured the annotations correctly, and everything spring is doing is as expected.\r\n\r\nTo understand what is happening, we need to understand the order of external properties which gets considered by [spring][1]\r\n\r\nYou are putting properties in 2 places:\r\n\r\n 1. external file (credentials.json &amp; secret.id.properties not named as ```application.properties or application-{profile}.properties```)\r\n 2.```application.properties``` inside your jar\r\n\r\nSo as per order of preference of property, ```application.properties``` in your jar gets precedence over the external property not named as ```application.properties``` (credentials.json &amp; secret.id.properties i.e. @PropertySource annotations on your @Configuration classes.).\r\n\r\nTo verify this, you can comment out property in ```application.properties``` in your jar, and the properties from external files will be loaded.\r\n\r\n \r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-external-config.html","title":"@PropertySource returns &#39;Properties location not resolvable: (No such file or directory)&#39;","body":"<p>Welcome to stack over flow community.</p>\n<p>I have tried running your sample code here assuming you are providing absolute path in value field of @PropertySource.\nYou have configured the annotations correctly, and everything spring is doing is as expected.</p>\n<p>To understand what is happening, we need to understand the order of external properties which gets considered by <a href=\"https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">spring</a></p>\n<p>You are putting properties in 2 places:</p>\n<ol>\n<li>external file (credentials.json &amp; secret.id.properties not named as <code>application.properties or application-{profile}.properties</code>)\n2.<code>application.properties</code> inside your jar</li>\n</ol>\n<p>So as per order of preference of property, <code>application.properties</code> in your jar gets precedence over the external property not named as <code>application.properties</code> (credentials.json &amp; secret.id.properties i.e. @PropertySource annotations on your @Configuration classes.).</p>\n<p>To verify this, you can comment out property in <code>application.properties</code> in your jar, and the properties from external files will be loaded.</p>\n"}],"owner":{"account_id":28881527,"reputation":3,"user_id":22120911,"display_name":"Rachel Kim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76656471,"answer_count":1,"score":0,"last_activity_date":1689014869,"creation_date":1689008643,"question_id":76655892,"body_markdown":"I have a config file that is meant to use @PropertySource to set values. However it seems like it is not working (below)\r\n\r\n```java\r\n\r\n@Configuration\r\n@PropertySources({\r\n        @PropertySource(value = &quot;file:/Users/myUser/etc/secrets/credentials.json&quot;,\r\n                ignoreResourceNotFound = true),\r\n        @PropertySource(value = &quot;file:/Users/myUser/etc/secrets/secret.id.properties&quot;,\r\n                ignoreResourceNotFound = true)})\r\npublic class SpringConfig {\r\n    @Value(&quot;${secret.id}&quot;)\r\n    private String projectID;\r\n\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    @Bean\r\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\r\n        return new PropertySourcesPlaceholderConfigurer();\r\n    }\r\n\r\n    public String getId() {\r\n        return env.getProperty(&quot;secret.id&quot;);\r\n    }\r\n}\r\n\r\n```\r\nI have set up dummy files in /Users/myUser/etc/secrets and have defined both credentials.json and secret.id.properties files. \r\nHowever when I run the application and call the config file&#39;s getId() method, it returns the id that is defined in the application.properties file, not in the @PropertySource path &#39;/Users/myUser/etc/secrets/secret.id.properties&#39; I suspect it can&#39;t find the path. (same for credentials.json)\r\nBut the path file is definitely correct. \r\n\r\nBy the way, the inside of secret.id.properties file is:\r\n```\r\nspring.cloud.gcp.bigquery.project-id=project-id\r\n```\r\n\r\nHow can I have the code actually fetch from the files in etc/secrets/ instead of from my applications.properties (or have my secrets/secret.id.properties be put into ```spring.cloud.gcp.bigquery.project-id=${spring.cloud.gcp.bigquery.project-id}``` in my application.properties?\r\n\r\nI also tried to define in my applications.properties file\r\n```\r\nspring.cloud.gcp.bigquery.project-id=${secret.id}\r\n```\r\nand tried \r\n```\r\nspring.cloud.gcp.bigquery.project-id=${spring.cloud.gcp.bigquery.project-id}\r\n```\r\nbut they both don&#39;t work and gives me an error.\r\n\r\nI also checked file path","title":"@PropertySource returns &#39;Properties location not resolvable: (No such file or directory)&#39;","body":"<p>I have a config file that is meant to use @PropertySource to set values. However it seems like it is not working (below)</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Configuration\n@PropertySources({\n        @PropertySource(value = &quot;file:/Users/myUser/etc/secrets/credentials.json&quot;,\n                ignoreResourceNotFound = true),\n        @PropertySource(value = &quot;file:/Users/myUser/etc/secrets/secret.id.properties&quot;,\n                ignoreResourceNotFound = true)})\npublic class SpringConfig {\n    @Value(&quot;${secret.id}&quot;)\n    private String projectID;\n\n    @Autowired\n    private Environment env;\n\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\n        return new PropertySourcesPlaceholderConfigurer();\n    }\n\n    public String getId() {\n        return env.getProperty(&quot;secret.id&quot;);\n    }\n}\n\n</code></pre>\n<p>I have set up dummy files in /Users/myUser/etc/secrets and have defined both credentials.json and secret.id.properties files.\nHowever when I run the application and call the config file's getId() method, it returns the id that is defined in the application.properties file, not in the @PropertySource path '/Users/myUser/etc/secrets/secret.id.properties' I suspect it can't find the path. (same for credentials.json)\nBut the path file is definitely correct.</p>\n<p>By the way, the inside of secret.id.properties file is:</p>\n<pre><code>spring.cloud.gcp.bigquery.project-id=project-id\n</code></pre>\n<p>How can I have the code actually fetch from the files in etc/secrets/ instead of from my applications.properties (or have my secrets/secret.id.properties be put into <code>spring.cloud.gcp.bigquery.project-id=${spring.cloud.gcp.bigquery.project-id}</code> in my application.properties?</p>\n<p>I also tried to define in my applications.properties file</p>\n<pre><code>spring.cloud.gcp.bigquery.project-id=${secret.id}\n</code></pre>\n<p>and tried</p>\n<pre><code>spring.cloud.gcp.bigquery.project-id=${spring.cloud.gcp.bigquery.project-id}\n</code></pre>\n<p>but they both don't work and gives me an error.</p>\n<p>I also checked file path</p>\n"},{"tags":["java","spring-boot","spring-security"],"owner":{"account_id":21212970,"reputation":86,"user_id":15601177,"display_name":"berry.11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689014817,"creation_date":1688979307,"question_id":76652191,"body_markdown":"I have a code below which is an appoinment Hospital System for users.\r\nBut securityConfig part didn&#39;t work. I get the error:\r\n\r\nThe bean &#39;delegatingApplicationListener&#39;, defined in class path resource [userManagementSystemHospital/hospitalSystem/config/SecurityConfig.class], could not be registered. A bean with that name has already been defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class] and overriding is disabled.\r\n\r\nHere the code;\r\n```\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http.authorizeRequests(authorize -&gt; authorize\r\n                    .anyRequest().authenticated())\r\n            .formLogin(withDefaults())\r\n            .httpBasic(withDefaults());\r\n    return http.build();\r\n}\r\n\r\n@Bean\r\npublic BCryptPasswordEncoder passwordEncoder() {\r\n    return new BCryptPasswordEncoder();\r\n}\r\n```\r\n\r\npom.xml:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-oauth2-authorization-server&lt;/artifactId&gt;\r\n&lt;/dependency\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"java spring security config","body":"<p>I have a code below which is an appoinment Hospital System for users.\nBut securityConfig part didn't work. I get the error:</p>\n<p>The bean 'delegatingApplicationListener', defined in class path resource [userManagementSystemHospital/hospitalSystem/config/SecurityConfig.class], could not be registered. A bean with that name has already been defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class] and overriding is disabled.</p>\n<p>Here the code;</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.authorizeRequests(authorize -&gt; authorize\n                    .anyRequest().authenticated())\n            .formLogin(withDefaults())\n            .httpBasic(withDefaults());\n    return http.build();\n}\n\n@Bean\npublic BCryptPasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-authorization-server&lt;/artifactId&gt;\n&lt;/dependency\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","database","asynchronous","transactions"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1689019803,"post_id":76656509,"comment_id":135151443,"body_markdown":"Some DBMS&#39;s allow you to execute a statement like, `LOCK TABLE some_table`.   I don&#39;t know what you&#39;re using, but you could look into whether it supports lock and unlock.  In a clustered app, you&#39;re going to want something simple like this","body":"Some DBMS&#39;s allow you to execute a statement like, <code>LOCK TABLE some_table</code>.   I don&#39;t know what you&#39;re using, but you could look into whether it supports lock and unlock.  In a clustered app, you&#39;re going to want something simple like this"}],"owner":{"account_id":20972956,"reputation":9,"user_id":15409697,"display_name":"Limbo1111"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689014752,"creation_date":1689014752,"question_id":76656509,"body_markdown":"Please let me know what is the best way to do it. The case is as follows: I need to upload an excel file, parse it based on the data in it, make a call to an external service, and then aggregate all the information and put it into tables in the database. The method will be called asynchronously in order to release the frontend, a quick response is not needed, but there is a problem. At the time of data processing, I cannot allow anyone to write to certain tables in the database, that is, if the client wants to send the same file again until it has been processed, I cannot allow this. The problem is exacerbated by the fact that I have several servers running outside the cluster, but with a common database. Accordingly, I need to do synchronization through the database. What is the best way to do this? So far, I have not come up with anything better than to make a separate transactional method. Anyone have any ideas?","title":"Plain Spring @Async @Transactionl with database lock","body":"<p>Please let me know what is the best way to do it. The case is as follows: I need to upload an excel file, parse it based on the data in it, make a call to an external service, and then aggregate all the information and put it into tables in the database. The method will be called asynchronously in order to release the frontend, a quick response is not needed, but there is a problem. At the time of data processing, I cannot allow anyone to write to certain tables in the database, that is, if the client wants to send the same file again until it has been processed, I cannot allow this. The problem is exacerbated by the fact that I have several servers running outside the cluster, but with a common database. Accordingly, I need to do synchronization through the database. What is the best way to do this? So far, I have not come up with anything better than to make a separate transactional method. Anyone have any ideas?</p>\n"},{"tags":["java","json","jackson","mixins"],"comments":[{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1688655548,"post_id":76623846,"comment_id":135105934,"body_markdown":"Have a look of [objectMapper.registerSubtypes()](https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html#registerSubtypes(java.lang.Class...))","body":"Have a look of <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html#registerSubtypes(java.lang.Class...)\" rel=\"nofollow noreferrer\">objectMapper.registerSubtypes()</a>"},{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1688656269,"post_id":76623846,"comment_id":135106088,"body_markdown":"Related question: https://stackoverflow.com/q/34079050/14032355","body":"Related question: <a href=\"https://stackoverflow.com/q/34079050/14032355\">stackoverflow.com/q/34079050/14032355</a>"},{"owner":{"account_id":1198068,"reputation":81,"user_id":1169369,"display_name":"nomusicnolife"},"score":0,"creation_date":1689014531,"post_id":76623846,"comment_id":135150481,"body_markdown":"Thanks @ikhvjs, that related question helped me to find the answer I needed, which I posted below.","body":"Thanks @ikhvjs, that related question helped me to find the answer I needed, which I posted below."}],"answers":[{"tags":[],"owner":{"account_id":1198068,"reputation":81,"user_id":1169369,"display_name":"nomusicnolife"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689014468,"creation_date":1689014468,"answer_id":76656479,"question_id":76623846,"body_markdown":"Inspired by [the example here](https://stackoverflow.com/questions/34079050/add-subtype-information-at-runtime-using-jackson-for-polymorphism), I was able to achieve the desired behavior:\r\n\r\nFirst, use `@JsonTypeInfo` in the interface implemented by all my classes:\r\n\r\n```java\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME)\r\npublic interface Figure {\r\n  // ...\r\n}\r\n```\r\n\r\nThen, register all my classes as subtypes into the ObjectMapper:\r\n\r\n```java\r\npublic void configure(final ObjectMapper mapper) {\r\n  mapper.registerSubtypes(new NamedType(Triangle.class));\r\n  mapper.registerSubtypes(new NamedType(Square.class));\r\n  mapper.registerSubtypes(new NamedType(Circle.class));\r\n}\r\n```\r\n\r\nOf course the calls to `registerSubtypes(...)` can be placed in different methods if needed.","title":"Alternative to Jackson mixins for a variable number of subtypes?","body":"<p>Inspired by <a href=\"https://stackoverflow.com/questions/34079050/add-subtype-information-at-runtime-using-jackson-for-polymorphism\">the example here</a>, I was able to achieve the desired behavior:</p>\n<p>First, use <code>@JsonTypeInfo</code> in the interface implemented by all my classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME)\npublic interface Figure {\n  // ...\n}\n</code></pre>\n<p>Then, register all my classes as subtypes into the ObjectMapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void configure(final ObjectMapper mapper) {\n  mapper.registerSubtypes(new NamedType(Triangle.class));\n  mapper.registerSubtypes(new NamedType(Square.class));\n  mapper.registerSubtypes(new NamedType(Circle.class));\n}\n</code></pre>\n<p>Of course the calls to <code>registerSubtypes(...)</code> can be placed in different methods if needed.</p>\n"}],"owner":{"account_id":1198068,"reputation":81,"user_id":1169369,"display_name":"nomusicnolife"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689014468,"creation_date":1688588983,"question_id":76623846,"body_markdown":"I am writing a library, intended to be used by other apps, containing a bunch of classes that implement the same interface, like in this example:\r\n\r\n```java\r\npublic interface Figure {\r\n  // ...\r\n}\r\n\r\npublic class Triangle implements Figure {\r\n  // ...\r\n}\r\n\r\npublic class Square implements Figure {\r\n  // ...\r\n}\r\n\r\npublic class Circle implements Figure {\r\n  // ...\r\n}\r\n```\r\n\r\nAnd then I have a mixin for all the classes above:\r\n\r\n```java\r\n  @JsonTypeInfo(use = JsonTypeInfo.Id.NAME)\r\n  @JsonSubTypes({\r\n      @JsonSubTypes.Type(Triangle.class),\r\n      @JsonSubTypes.Type(Square.class),\r\n      @JsonSubTypes.Type(Circle.class)\r\n  })\r\n  public interface FigureMixin {\r\n\r\n  }\r\n```\r\n\r\nI can add this mixin to the `ObjectMapper` as usual:\r\n\r\n```java\r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.addMixIn(Figure.class, FigureMixin.class);\r\n```\r\n\r\nThe problem is that users of the library might want to provide their own classes that implement `Figure`. Therefore, the annotation approach is not suitable, because I don&#39;t know at compile time how many JSON subtypes (i.e. classes implementing `Figure`) there will be.\r\n\r\nIs there any way to register the subtypes at runtime for all available classes implementing the common interface, i.e. achieve the same mixin configuration but without using annotations?\r\n\r\nThanks in advance.","title":"Alternative to Jackson mixins for a variable number of subtypes?","body":"<p>I am writing a library, intended to be used by other apps, containing a bunch of classes that implement the same interface, like in this example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Figure {\n  // ...\n}\n\npublic class Triangle implements Figure {\n  // ...\n}\n\npublic class Square implements Figure {\n  // ...\n}\n\npublic class Circle implements Figure {\n  // ...\n}\n</code></pre>\n<p>And then I have a mixin for all the classes above:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @JsonTypeInfo(use = JsonTypeInfo.Id.NAME)\n  @JsonSubTypes({\n      @JsonSubTypes.Type(Triangle.class),\n      @JsonSubTypes.Type(Square.class),\n      @JsonSubTypes.Type(Circle.class)\n  })\n  public interface FigureMixin {\n\n  }\n</code></pre>\n<p>I can add this mixin to the <code>ObjectMapper</code> as usual:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper mapper = new ObjectMapper();\nmapper.addMixIn(Figure.class, FigureMixin.class);\n</code></pre>\n<p>The problem is that users of the library might want to provide their own classes that implement <code>Figure</code>. Therefore, the annotation approach is not suitable, because I don't know at compile time how many JSON subtypes (i.e. classes implementing <code>Figure</code>) there will be.</p>\n<p>Is there any way to register the subtypes at runtime for all available classes implementing the common interface, i.e. achieve the same mixin configuration but without using annotations?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","patch"],"comments":[{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1689008732,"post_id":76655858,"comment_id":135149448,"body_markdown":"Have you tried &quot;curl -X PATCH ...&quot;, just to make sure it isn&#39;t your JS code/browser?","body":"Have you tried &quot;curl -X PATCH ...&quot;, just to make sure it isn&#39;t your JS code/browser?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1689009497,"post_id":76655858,"comment_id":135149595,"body_markdown":"Please read: [Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question) --- &quot;*`&lt;form method=&quot;post&quot; ....`*&quot; - This part is executing a `POST`, not a `PATCH`.","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why should I not upload images of code/data/errors?</a> --- &quot;<i><code>&lt;form method=&quot;post&quot; ....</code></i>&quot; - This part is executing a <code>POST</code>, not a <code>PATCH</code>."},{"owner":{"account_id":28971703,"reputation":1,"user_id":22191849,"display_name":"verabezf"},"score":0,"creation_date":1689013019,"post_id":76655858,"comment_id":135150193,"body_markdown":"@BillMair I tried it right now and I see that it&#39;s not a server problem, because the server responded correctly. Thank you, now I&#39;ll try to understand what the problem really is","body":"@BillMair I tried it right now and I see that it&#39;s not a server problem, because the server responded correctly. Thank you, now I&#39;ll try to understand what the problem really is"},{"owner":{"account_id":28971703,"reputation":1,"user_id":22191849,"display_name":"verabezf"},"score":0,"creation_date":1689013239,"post_id":76655858,"comment_id":135150246,"body_markdown":"@Turing85 thanks for your note about the screenshot! Yes, that part is executing a POST, but I use js for preventing the default logic, so requests are sent with PATCH. And it turned out that the problem is actually not in the server.","body":"@Turing85 thanks for your note about the screenshot! Yes, that part is executing a POST, but I use js for preventing the default logic, so requests are sent with PATCH. And it turned out that the problem is actually not in the server."}],"owner":{"account_id":28971703,"reputation":1,"user_id":22191849,"display_name":"verabezf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689014021,"creation_date":1689008317,"question_id":76655858,"body_markdown":"I need to have an opportunity to handle Patch request, namely getting a person to update from an HTML form.\r\n\r\nTo do this, I declared this method that handles patch requests:\r\n\r\n```\r\n @PatchMapping(path = &quot;/person/update&quot;, consumes = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;Person&gt; updatePerson(@RequestBody Person person) {\r\n        try {\r\n            var updatedUser = service.update(person);\r\n            return ResponseEntity.ok(updatedUser);\r\n        } catch (Exception e) {\r\n            //\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\nAnd here is the HTML form for updating Person:\r\n\r\n```\r\n&lt;!DOCTYPE html &gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Update user&lt;/title&gt;\r\n    &lt;script src=&quot;/js/updateUserHandler.js&quot;&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div&gt;\r\n    &lt;form method=&quot;post&quot; action=&quot;/person/update&quot; th:object=&quot;${person}&quot; id=&quot;updateUser&quot;&gt;\r\n        &lt;nobr&gt;PERSON DATA&lt;/nobr&gt;\r\n        &lt;input type=&quot;submit&quot; name=&quot;save&quot; value=&quot;save&quot;&gt;\r\n        &lt;input type=&quot;text&quot; id=&quot;name&quot; name=&quot;name&quot; th:value=&quot;${person.getName()}&quot;&gt;\r\n        &lt;br&gt;\r\n        &lt;nobr&gt;User name:&lt;/nobr&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;surname&quot; th:value=&quot;${person.getSurname()}&quot;&gt;\r\n        &lt;br&gt;\r\n    &lt;/form&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nI know I can&#39;t directly send data from an HTML form using the Patch method, so I override the default logic of sending form data with the Post method using the following JS:\r\n\r\n```\r\nwindow.addEventListener(&#39;load&#39;,\r\n    () =&gt; {\r\n        const myForm = document.getElementById(&#39;updateUser&#39;);\r\n        myForm.addEventListener(&#39;submit&#39;,\r\n            (event) =&gt; {\r\n                event.preventDefault();\r\n                const data = new FormData(myForm);\r\n\r\n                const json = {};\r\n                data.forEach((value, key) =&gt; json[key] = value);\r\n                const jsonStr = JSON.stringify(json);\r\n\r\n                const endpoint = `/person/update`;\r\n\r\n                fetch(endpoint, { // THIS LINE THROWS AN ERROR THAT THE METHOD IS NOT ALLOWED\r\n                    method: &#39;patch&#39;,\r\n                    body: jsonStr,\r\n                    headers: {&#39;Content-Type&#39;: &#39;application/json&#39;}\r\n                })            \r\n          })\r\n    })\r\n```\r\n\r\nSo, the problem is that after doing all the above steps, I get this response:\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2023-07-10T18:24:53.019+00:00&quot;,\r\n        &quot;status&quot;: 405,\r\n        &quot;error&quot;: &quot;Method Not Allowed&quot;,\r\n        &quot;path&quot;: &quot;/person/update&quot;\r\n    }\r\n\r\nAt the same time, the server returns the correct response if I send a request by curl:\r\n\r\n    curl -X PATCH --header &quot;Content-Type: application/json&quot; --header &#39;Accept: application/json&#39; \\\r\n      --data &#39;{&quot;name&quot;: &quot;Vanes&quot;, &quot;surname&quot;: &quot;Kann&quot;, &quot;age&quot;: &quot;25&quot;}&#39; \\\r\n     http://localhost:8080/person/update\r\n\r\n","title":"Method Patch isn&#39;t allowed in Spring Boot","body":"<p>I need to have an opportunity to handle Patch request, namely getting a person to update from an HTML form.</p>\n<p>To do this, I declared this method that handles patch requests:</p>\n<pre><code> @PatchMapping(path = &quot;/person/update&quot;, consumes = &quot;application/json&quot;)\n    public ResponseEntity&lt;Person&gt; updatePerson(@RequestBody Person person) {\n        try {\n            var updatedUser = service.update(person);\n            return ResponseEntity.ok(updatedUser);\n        } catch (Exception e) {\n            //\n            return null;\n        }\n    }\n</code></pre>\n<p>And here is the HTML form for updating Person:</p>\n<pre><code>&lt;!DOCTYPE html &gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;Update user&lt;/title&gt;\n    &lt;script src=&quot;/js/updateUserHandler.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div&gt;\n    &lt;form method=&quot;post&quot; action=&quot;/person/update&quot; th:object=&quot;${person}&quot; id=&quot;updateUser&quot;&gt;\n        &lt;nobr&gt;PERSON DATA&lt;/nobr&gt;\n        &lt;input type=&quot;submit&quot; name=&quot;save&quot; value=&quot;save&quot;&gt;\n        &lt;input type=&quot;text&quot; id=&quot;name&quot; name=&quot;name&quot; th:value=&quot;${person.getName()}&quot;&gt;\n        &lt;br&gt;\n        &lt;nobr&gt;User name:&lt;/nobr&gt;\n        &lt;input type=&quot;text&quot; name=&quot;surname&quot; th:value=&quot;${person.getSurname()}&quot;&gt;\n        &lt;br&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I know I can't directly send data from an HTML form using the Patch method, so I override the default logic of sending form data with the Post method using the following JS:</p>\n<pre><code>window.addEventListener('load',\n    () =&gt; {\n        const myForm = document.getElementById('updateUser');\n        myForm.addEventListener('submit',\n            (event) =&gt; {\n                event.preventDefault();\n                const data = new FormData(myForm);\n\n                const json = {};\n                data.forEach((value, key) =&gt; json[key] = value);\n                const jsonStr = JSON.stringify(json);\n\n                const endpoint = `/person/update`;\n\n                fetch(endpoint, { // THIS LINE THROWS AN ERROR THAT THE METHOD IS NOT ALLOWED\n                    method: 'patch',\n                    body: jsonStr,\n                    headers: {'Content-Type': 'application/json'}\n                })            \n          })\n    })\n</code></pre>\n<p>So, the problem is that after doing all the above steps, I get this response:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-07-10T18:24:53.019+00:00&quot;,\n    &quot;status&quot;: 405,\n    &quot;error&quot;: &quot;Method Not Allowed&quot;,\n    &quot;path&quot;: &quot;/person/update&quot;\n}\n</code></pre>\n<p>At the same time, the server returns the correct response if I send a request by curl:</p>\n<pre><code>curl -X PATCH --header &quot;Content-Type: application/json&quot; --header 'Accept: application/json' \\\n  --data '{&quot;name&quot;: &quot;Vanes&quot;, &quot;surname&quot;: &quot;Kann&quot;, &quot;age&quot;: &quot;25&quot;}' \\\n http://localhost:8080/person/update\n</code></pre>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":3,"creation_date":1688965450,"post_id":76649060,"comment_id":135140236,"body_markdown":"In PDFDebugger you found the definition of the page labels of the document. In RUPS you looked at how it interprets that definition. You can also find the raw definition using RUPS by navigating to the corresponding document node. PDFDebugger on the other hand does not interpret the page label devotion. If you want to interpret the meaning of the definition, simply look at the pdf specification.","body":"In PDFDebugger you found the definition of the page labels of the document. In RUPS you looked at how it interprets that definition. You can also find the raw definition using RUPS by navigating to the corresponding document node. PDFDebugger on the other hand does not interpret the page label devotion. If you want to interpret the meaning of the definition, simply look at the pdf specification."},{"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"score":0,"creation_date":1688995541,"post_id":76649060,"comment_id":135146263,"body_markdown":"@TilmanHausherr I&#39;ve fixed the link.","body":"@TilmanHausherr I&#39;ve fixed the link."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":3,"creation_date":1689006873,"post_id":76649060,"comment_id":135149095,"body_markdown":"PDFDebugger displays the page labels properly when in page view mode. What you&#39;re seeing is the raw page labels. &quot;Cove&quot; is a prefix. &quot;St&quot; 18 means the &quot;r&quot; after &quot;Cove&quot;. The &quot;r&quot; is the numbering style &quot;roman&quot;. Yes, it looks weird, but it&#39;s valid.","body":"PDFDebugger displays the page labels properly when in page view mode. What you&#39;re seeing is the raw page labels. &quot;Cove&quot; is a prefix. &quot;St&quot; 18 means the &quot;r&quot; after &quot;Cove&quot;. The &quot;r&quot; is the numbering style &quot;roman&quot;. Yes, it looks weird, but it&#39;s valid."},{"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"score":0,"creation_date":1689100106,"post_id":76649060,"comment_id":135164473,"body_markdown":"Thank you guys. Long story short, ISO 32000 for the rescue.","body":"Thank you guys. Long story short, ISO 32000 for the rescue."},{"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"score":0,"creation_date":1689287378,"post_id":76649060,"comment_id":135196179,"body_markdown":"@mkl and Tilman Hausherr\nThanks to your comments I&#39;ve written my own interpreter of page labels. Would you be so kind to do code review on appropriate SO page?","body":"@mkl and Tilman Hausherr Thanks to your comments I&#39;ve written my own interpreter of page labels. Would you be so kind to do code review on appropriate SO page?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1689312733,"post_id":76649060,"comment_id":135198341,"body_markdown":"Which SO page exactly?","body":"Which SO page exactly?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1689325296,"post_id":76649060,"comment_id":135200448,"body_markdown":"Why write your own interpreter when you could use the existing PDFBox code? `PDPageLabels pageLabels = document.getDocumentCatalog().getPageLabels(); String[] labels = pageLabels.getLabelsByPageIndices();`","body":"Why write your own interpreter when you could use the existing PDFBox code? <code>PDPageLabels pageLabels = document.getDocumentCatalog().getPageLabels(); String[] labels = pageLabels.getLabelsByPageIndices();</code>"},{"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"score":0,"creation_date":1689325994,"post_id":76649060,"comment_id":135200588,"body_markdown":"@mkl I&#39;d like to show my code on `https://codereview.stackexchange.com`.","body":"@mkl I&#39;d like to show my code on <code>https:&#47;&#47;codereview.stackexchange.com</code>."},{"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"score":1,"creation_date":1689326080,"post_id":76649060,"comment_id":135200601,"body_markdown":"@TilmanHausherr I want to remove some pages in PDF documents and have page labels adjusted. Interpreting page labels is a first step towards this goal.","body":"@TilmanHausherr I want to remove some pages in PDF documents and have page labels adjusted. Interpreting page labels is a first step towards this goal."},{"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"score":0,"creation_date":1689429636,"post_id":76649060,"comment_id":135213986,"body_markdown":"If somebody is interested in the actual code, here it is: https://codereview.stackexchange.com/questions/286078/java-code-showing-page-labels-from-pdf-files","body":"If somebody is interested in the actual code, here it is: <a href=\"https://codereview.stackexchange.com/questions/286078/java-code-showing-page-labels-from-pdf-files\" title=\"java code showing page labels from pdf files\">codereview.stackexchange.com/questions/286078/&hellip;</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1689604956,"post_id":76649060,"comment_id":135233389,"body_markdown":"*&quot;the actual code&quot;* - @J_H already did a nice first review.","body":"<i>&quot;the actual code&quot;</i> - @J_H already did a nice first review."}],"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689013515,"creation_date":1688929173,"question_id":76649060,"body_markdown":"I&#39;m writing simple application changing page labels in pdf files. I can quite easily change (or add) page labels but I don&#39;t understand the way how they are shown by `PDFBox`. Let&#39;s take for example a [sample pdf file][1].\r\n\r\n`iText RUPS` shows quite easy to understand page labels:\r\n\r\n[![enter image description here][2]][2] \r\n\r\n`PDFBox PDFDebugger`, on the other hand, shows:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nFirst page, labelled `Empty` is shown the same way in both debug application. However, When it comes to second label, `iText RUPS` shows `Cover` while `PDFBox PDFDebugger` some hard to interpret data. So, my question is: how do I interpret data given by `PDFBox` (API and debug application)?\r\n\r\n\r\n  [1]: https://easyupload.io/q60e1s\r\n  [2]: https://i.stack.imgur.com/2SLlE.png\r\n  [3]: https://i.stack.imgur.com/3WuW4.png","title":"Interpreting page labels from pdfbox","body":"<p>I'm writing simple application changing page labels in pdf files. I can quite easily change (or add) page labels but I don't understand the way how they are shown by <code>PDFBox</code>. Let's take for example a <a href=\"https://easyupload.io/q60e1s\" rel=\"nofollow noreferrer\">sample pdf file</a>.</p>\n<p><code>iText RUPS</code> shows quite easy to understand page labels:</p>\n<p><a href=\"https://i.stack.imgur.com/2SLlE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2SLlE.png\" alt=\"enter image description here\" /></a></p>\n<p><code>PDFBox PDFDebugger</code>, on the other hand, shows:</p>\n<p><a href=\"https://i.stack.imgur.com/3WuW4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3WuW4.png\" alt=\"enter image description here\" /></a></p>\n<p>First page, labelled <code>Empty</code> is shown the same way in both debug application. However, When it comes to second label, <code>iText RUPS</code> shows <code>Cover</code> while <code>PDFBox PDFDebugger</code> some hard to interpret data. So, my question is: how do I interpret data given by <code>PDFBox</code> (API and debug application)?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","thymeleaf"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1689140721,"post_id":76656070,"comment_id":135169116,"body_markdown":"Try using `@AuthenticationPrincipal(errorOnInvalidType=true) User user`. That should give you an error most likely that the principal is not of the class `User`, but some other class.","body":"Try using <code>@AuthenticationPrincipal(errorOnInvalidType=true) User user</code>. That should give you an error most likely that the principal is not of the class <code>User</code>, but some other class."},{"owner":{"account_id":23369527,"reputation":71,"user_id":17440626,"display_name":"ruben"},"score":0,"creation_date":1689604930,"post_id":76656070,"comment_id":135233380,"body_markdown":"Hi @WimDeblauwe and thank you for your answer. You are right it isn&#39;t the class `User` which is expected but another one , in my case it is `UserDetails`. If my understanding of Spring Security is good, the expected class of `@AuthenticationPrincipal` is defined in the SpringSecurityConfig class, am I right ?","body":"Hi @WimDeblauwe and thank you for your answer. You are right it isn&#39;t the class <code>User</code> which is expected but another one , in my case it is <code>UserDetails</code>. If my understanding of Spring Security is good, the expected class of <code>@AuthenticationPrincipal</code> is defined in the SpringSecurityConfig class, am I right ?"}],"owner":{"account_id":23369527,"reputation":71,"user_id":17440626,"display_name":"ruben"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689013422,"creation_date":1689010367,"question_id":76656070,"body_markdown":"I am trying to build an application where users can post products.\r\nDatabase looks like this :\r\n\r\n```\r\nuser     \r\n--------\r\nusername\r\npassword\r\n```\r\n```\r\nproduct\r\n-------\r\nname\r\nprice\r\nidUser\r\n```\r\nI try to use spring security 6. So far I managed to succeed subscription, login, logout and filters.\r\n\r\nThe problem is when I try to post a new product I can&#39;t find a way to set the user ID.\r\n\r\nUserController :\r\n```\r\n    @PostMapping(value = &quot;/add_product&quot;)\r\n    public String addProduct(@Validated @ModelAttribute(&quot;product&quot;) ProductDto productDto,\r\n                             @AuthenticationPrincipal User user)\r\n    {\r\n        User userConnected = userRepository.findOneByIdUser(user.getIdUser());\r\n        productDto.setUser(userConnected);\r\n        productService.save(productDto);\r\n\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n```\r\n\r\nForm (which is reachable only if authenticated) :\r\n```\r\n&lt;form th:action=&quot;@{/add_product}&quot; th:object=&quot;${product}&quot; method=&quot;post&quot;&gt;\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n      &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;name&quot; placeholder=&quot;Titre&quot; th:field=&quot;*{name}&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n      &lt;input type=&quot;number&quot; class=&quot;form-control&quot; id=&quot;price&quot; placeholder=&quot;Prix&quot; th:field=&quot;*{price}&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Valider&lt;/button&gt;\r\n&lt;/form&gt;\r\n```\r\n\r\nSpringSecurity :\r\n\r\n```\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http\r\n            .authorizeHttpRequests((auth) -&gt; auth\r\n                    .requestMatchers(&quot;/&quot;, &quot;/subscribe&quot;).permitAll()\r\n                    .requestMatchers(&quot;/add_product&quot;).authenticated()\r\n                    .anyRequest().authenticated()\r\n            )\r\n            .formLogin((form) -&gt; form\r\n                    .loginPage(&quot;/&quot;)\r\n                    .defaultSuccessUrl(&quot;/&quot;)\r\n                    .loginProcessingUrl(&quot;/login&quot;)\r\n                    .failureUrl(&quot;/?error&quot;)\r\n                    .permitAll()\r\n            )\r\n            .logout((logout) -&gt; logout\r\n                    .logoutSuccessUrl(&quot;/?logout&quot;)\r\n                    .permitAll()\r\n            );\r\n     return http.build();\r\n}\r\n```\r\n\r\nThe error I get when I post the form :\r\n```\r\nCannot invoke &quot;com.project.mesi.entity.User.getIdUser()&quot; because &quot;user&quot; is null\r\nat com.project.mesi.controller.UserController.addProduct(UserController.java:101)\r\n```\r\n\r\nThe thing I do not understand is that I can display the name of the authenticated user on homepage with HTML navbar thymeleaf fragment but when I go on the add product page the user is null (it says &quot;Hello null !&quot;)\r\n\r\n```\r\n&lt;li class=&quot;nav-item&quot; sec:authorize=&quot;isAuthenticated()&quot;&gt;\r\n    &lt;p class=&quot;nav-link text-body m-0&quot; th:text=&quot;&#39;Hello&#39; + ${user} + &#39; !&#39;&quot;&gt;&lt;/p&gt;\r\n&lt;/li&gt;\r\n```\r\nThe user seems to be null no matter what I have tried, like instantiate:\r\n\r\n```Authentication auth = SecurityContextHolder.getContext().getAuthentication();```\r\n\r\nwhich do the trick when the username needs to be displayd on homepage.\r\n\r\nI also tried to cast `auth.getPrincipal();` to my User entity but that is a no go.\r\n\r\nNow my questions are: is there a way to share the authenticated user through the whole application? Is there something I am doing wrong here? Please ask if you need more infos. Thank you in advance","title":"share authenticated user in whole app spring security","body":"<p>I am trying to build an application where users can post products.\nDatabase looks like this :</p>\n<pre><code>user     \n--------\nusername\npassword\n</code></pre>\n<pre><code>product\n-------\nname\nprice\nidUser\n</code></pre>\n<p>I try to use spring security 6. So far I managed to succeed subscription, login, logout and filters.</p>\n<p>The problem is when I try to post a new product I can't find a way to set the user ID.</p>\n<p>UserController :</p>\n<pre><code>    @PostMapping(value = &quot;/add_product&quot;)\n    public String addProduct(@Validated @ModelAttribute(&quot;product&quot;) ProductDto productDto,\n                             @AuthenticationPrincipal User user)\n    {\n        User userConnected = userRepository.findOneByIdUser(user.getIdUser());\n        productDto.setUser(userConnected);\n        productService.save(productDto);\n\n        return &quot;redirect:/&quot;;\n    }\n</code></pre>\n<p>Form (which is reachable only if authenticated) :</p>\n<pre><code>&lt;form th:action=&quot;@{/add_product}&quot; th:object=&quot;${product}&quot; method=&quot;post&quot;&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n      &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;name&quot; placeholder=&quot;Titre&quot; th:field=&quot;*{name}&quot;&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n      &lt;input type=&quot;number&quot; class=&quot;form-control&quot; id=&quot;price&quot; placeholder=&quot;Prix&quot; th:field=&quot;*{price}&quot;&gt;\n    &lt;/div&gt;\n    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Valider&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n<p>SpringSecurity :</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n            .authorizeHttpRequests((auth) -&gt; auth\n                    .requestMatchers(&quot;/&quot;, &quot;/subscribe&quot;).permitAll()\n                    .requestMatchers(&quot;/add_product&quot;).authenticated()\n                    .anyRequest().authenticated()\n            )\n            .formLogin((form) -&gt; form\n                    .loginPage(&quot;/&quot;)\n                    .defaultSuccessUrl(&quot;/&quot;)\n                    .loginProcessingUrl(&quot;/login&quot;)\n                    .failureUrl(&quot;/?error&quot;)\n                    .permitAll()\n            )\n            .logout((logout) -&gt; logout\n                    .logoutSuccessUrl(&quot;/?logout&quot;)\n                    .permitAll()\n            );\n     return http.build();\n}\n</code></pre>\n<p>The error I get when I post the form :</p>\n<pre><code>Cannot invoke &quot;com.project.mesi.entity.User.getIdUser()&quot; because &quot;user&quot; is null\nat com.project.mesi.controller.UserController.addProduct(UserController.java:101)\n</code></pre>\n<p>The thing I do not understand is that I can display the name of the authenticated user on homepage with HTML navbar thymeleaf fragment but when I go on the add product page the user is null (it says &quot;Hello null !&quot;)</p>\n<pre><code>&lt;li class=&quot;nav-item&quot; sec:authorize=&quot;isAuthenticated()&quot;&gt;\n    &lt;p class=&quot;nav-link text-body m-0&quot; th:text=&quot;'Hello' + ${user} + ' !'&quot;&gt;&lt;/p&gt;\n&lt;/li&gt;\n</code></pre>\n<p>The user seems to be null no matter what I have tried, like instantiate:</p>\n<p><code>Authentication auth = SecurityContextHolder.getContext().getAuthentication();</code></p>\n<p>which do the trick when the username needs to be displayd on homepage.</p>\n<p>I also tried to cast <code>auth.getPrincipal();</code> to my User entity but that is a no go.</p>\n<p>Now my questions are: is there a way to share the authenticated user through the whole application? Is there something I am doing wrong here? Please ask if you need more infos. Thank you in advance</p>\n"},{"tags":["java","graphql"],"answers":[{"tags":[],"owner":{"account_id":12015704,"reputation":714,"user_id":8790942,"display_name":"Danil Kuznetsov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689013295,"creation_date":1689013295,"answer_id":76656350,"question_id":76652116,"body_markdown":"This is a wrapper around standard `graphql.schema.DataFetchingEnvironment`\r\n\r\nThe `DgsDataFetchingEnvironment` gives access to the context, the query itself, data loaders, and the source object. \r\n\r\n[docs can be found here][2]\r\n\r\n[source code can be found here][1]\r\n\r\n\r\n  [1]: https://github.com/Netflix/dgs-framework/blob/master/graphql-dgs/src/main/kotlin/com/netflix/graphql/dgs/DgsDataFetchingEnvironment.kt\r\n[2]: https://netflix.github.io/dgs/datafetching/","title":"What is the return type of DgsDataFetchingEnvironment.getSelectionSet?","body":"<p>This is a wrapper around standard <code>graphql.schema.DataFetchingEnvironment</code></p>\n<p>The <code>DgsDataFetchingEnvironment</code> gives access to the context, the query itself, data loaders, and the source object.</p>\n<p><a href=\"https://netflix.github.io/dgs/datafetching/\" rel=\"nofollow noreferrer\">docs can be found here</a></p>\n<p><a href=\"https://github.com/Netflix/dgs-framework/blob/master/graphql-dgs/src/main/kotlin/com/netflix/graphql/dgs/DgsDataFetchingEnvironment.kt\" rel=\"nofollow noreferrer\">source code can be found here</a></p>\n"}],"owner":{"account_id":18355810,"reputation":11,"user_id":13368888,"display_name":"Jian Hui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689013295,"creation_date":1688978724,"question_id":76652116,"body_markdown":"I am working with the the lib &quot;com.netflix.graphql.dgs.DgsDataFetchingEnvironment&quot;.\r\nWhen writing the unit test, I need to mock dfe.getSelectionSet(). So I need to know the return type of dfe.getSelectionSet().\r\nMy IntelliJ IDE can&#39;t work with this lib well, I have to query the function by javadoc.\r\nHowever, after search the internet, I can&#39;t find its API doc.\r\nIf its API doc is absent, is there any way I can know the return type of this function?\r\n[![DgsDataFetchingEnvironment not resolved](https://i.stack.imgur.com/LaWV5.png)](https://i.stack.imgur.com/LaWV5.png)\r\n\r\n1, viewed the doc https://netflix.github.io/dgs/getting-started/, https://github.com/netflix/dgs-framework. Not able to find any API doc\r\n2, try to configure the IDE, but not succeeded. \r\n","title":"What is the return type of DgsDataFetchingEnvironment.getSelectionSet?","body":"<p>I am working with the the lib &quot;com.netflix.graphql.dgs.DgsDataFetchingEnvironment&quot;.\nWhen writing the unit test, I need to mock dfe.getSelectionSet(). So I need to know the return type of dfe.getSelectionSet().\nMy IntelliJ IDE can't work with this lib well, I have to query the function by javadoc.\nHowever, after search the internet, I can't find its API doc.\nIf its API doc is absent, is there any way I can know the return type of this function?\n<a href=\"https://i.stack.imgur.com/LaWV5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LaWV5.png\" alt=\"DgsDataFetchingEnvironment not resolved\" /></a></p>\n<p>1, viewed the doc <a href=\"https://netflix.github.io/dgs/getting-started/\" rel=\"nofollow noreferrer\">https://netflix.github.io/dgs/getting-started/</a>, <a href=\"https://github.com/netflix/dgs-framework\" rel=\"nofollow noreferrer\">https://github.com/netflix/dgs-framework</a>. Not able to find any API doc\n2, try to configure the IDE, but not succeeded.</p>\n"},{"tags":["java","android","android-recyclerview","android-adapter"],"answers":[{"comments":[{"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"score":0,"creation_date":1689012023,"post_id":76656196,"comment_id":135150028,"body_markdown":"can you get into details? your answer is like a comment.","body":"can you get into details? your answer is like a comment."}],"tags":[],"owner":{"account_id":13368336,"reputation":725,"user_id":9647713,"display_name":"Siddharth Shakya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689011691,"creation_date":1689011691,"answer_id":76656196,"question_id":76656171,"body_markdown":"You can create a separate model of CombinedData, you can evaluate address using for loop against the ids, you must have ids to create the new class","title":"How to show distance between two locations in recyclerview items?","body":"<p>You can create a separate model of CombinedData, you can evaluate address using for loop against the ids, you must have ids to create the new class</p>\n"},{"comments":[{"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"score":0,"creation_date":1689012772,"post_id":76656269,"comment_id":135150148,"body_markdown":"Thanks for answer. Can you provide some reference/doc/example for your last par?","body":"Thanks for answer. Can you provide some reference/doc/example for your last par?"},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1689012903,"post_id":76656269,"comment_id":135150171,"body_markdown":"to calculate distance you can use: Location.distanceBetween https://developer.android.com/reference/android/location/Location#distanceBetween(double,%20double,%20double,%20double,%20float[])","body":"to calculate distance you can use: Location.distanceBetween <a href=\"https://developer.android.com/reference/android/location/Location#distanceBetween(double,%20double,%20double,%20double,%20float[])\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/location/&hellip;</a>"}],"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689012946,"creation_date":1689012434,"answer_id":76656269,"question_id":76656171,"body_markdown":"You could pass a reference of `User` instance to your `RecyclerView.Adapter` derived class. Then inside in `onBindViewHolder` override you will have access to both `User` and `School` instances which will allow you to calculate distance. \r\n\r\nTo calculate distance you can use: Location.distanceBetween https://developer.android.com/reference/android/location/Location#distanceBetween(double,%20double,%20double,%20double,%20float[])\r\n","title":"How to show distance between two locations in recyclerview items?","body":"<p>You could pass a reference of <code>User</code> instance to your <code>RecyclerView.Adapter</code> derived class. Then inside in <code>onBindViewHolder</code> override you will have access to both <code>User</code> and <code>School</code> instances which will allow you to calculate distance.</p>\n<p>To calculate distance you can use: Location.distanceBetween <a href=\"https://developer.android.com/reference/android/location/Location#distanceBetween(double,%20double,%20double,%20double,%20float%5B%5D)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/location/Location#distanceBetween(double,%20double,%20double,%20double,%20float[])</a></p>\n"}],"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76656269,"answer_count":2,"score":-2,"last_activity_date":1689012946,"creation_date":1689011432,"question_id":76656171,"body_markdown":"I have two classes `User` and `School` as follow:\r\n\r\n`User: name, age, latitude, longitude`\r\n\r\n`School: name, latitude, longitude, level, address, rating`\r\n\r\nAnd I have an adapter for lists of schools that comes from server. Everything is OK but I don&#39;t know how\r\nto show distance of user from school in each item of recyclerview. Because adapter is a list of Schools and inside the adapter I can&#39;t access to current user data. (Can I?)\r\n\r\nI tried to access the distance TextView of RecyclerView Item model from fragment but couldn&#39;t find any reference for this.","title":"How to show distance between two locations in recyclerview items?","body":"<p>I have two classes <code>User</code> and <code>School</code> as follow:</p>\n<p><code>User: name, age, latitude, longitude</code></p>\n<p><code>School: name, latitude, longitude, level, address, rating</code></p>\n<p>And I have an adapter for lists of schools that comes from server. Everything is OK but I don't know how\nto show distance of user from school in each item of recyclerview. Because adapter is a list of Schools and inside the adapter I can't access to current user data. (Can I?)</p>\n<p>I tried to access the distance TextView of RecyclerView Item model from fragment but couldn't find any reference for this.</p>\n"},{"tags":["java","web-services","file-upload","spring-boot","multifile-uploader"],"comments":[{"owner":{"account_id":9435286,"reputation":1400,"user_id":7017439,"accept_rate":86,"display_name":"Narandhran Thangavel"},"score":0,"creation_date":1490682701,"post_id":36005436,"comment_id":73208371,"body_markdown":"I also facing the same problem, and its only work in postman not working with other tools like &quot;Advance rest client&quot;. may I know why??","body":"I also facing the same problem, and its only work in postman not working with other tools like &quot;Advance rest client&quot;. may I know why??"},{"owner":{"account_id":4307476,"reputation":2427,"user_id":3519504,"display_name":"Sandeep Kumar"},"score":1,"creation_date":1576403573,"post_id":36005436,"comment_id":104882783,"body_markdown":"@Narendhran, we can upload files from ARC now, which will eliminate this problem. Please check this: https://stackoverflow.com/a/59342761/3519504","body":"@Narendhran, we can upload files from ARC now, which will eliminate this problem. Please check this: <a href=\"https://stackoverflow.com/a/59342761/3519504\">stackoverflow.com/a/59342761/3519504</a>"}],"answers":[{"comments":[{"owner":{"account_id":326900,"reputation":893,"user_id":648916,"accept_rate":52,"display_name":"Oscar Calderon"},"score":3,"creation_date":1470932094,"post_id":38013585,"comment_id":65161636,"body_markdown":"Thank you. This worked for me in Postman. Also, answer from tomeokin helps in the sens that, Postman is not suitable for all test scenarios.","body":"Thank you. This worked for me in Postman. Also, answer from tomeokin helps in the sens that, Postman is not suitable for all test scenarios."},{"owner":{"account_id":4686208,"reputation":860,"user_id":3793554,"display_name":"c.sankhala"},"score":11,"creation_date":1558610959,"post_id":38013585,"comment_id":99162979,"body_markdown":"when i remove content-type, i am getting this\n&quot;org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;text/plain&#39; not supported&quot;","body":"when i remove content-type, i am getting this &quot;org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;text/plain&#39; not supported&quot;"},{"owner":{"account_id":4271760,"reputation":706,"user_id":3493420,"accept_rate":56,"display_name":"Marco"},"score":2,"creation_date":1603797552,"post_id":38013585,"comment_id":114144225,"body_markdown":"When I remove the Content-Type header, the server does not receive the data parameter (which is the payload).","body":"When I remove the Content-Type header, the server does not receive the data parameter (which is the payload)."},{"owner":{"account_id":38575,"reputation":3054,"user_id":110807,"accept_rate":33,"display_name":"de.la.ru"},"score":0,"creation_date":1603979385,"post_id":38013585,"comment_id":114211407,"body_markdown":"Perhaps Postman changed the way he handles it since 2016","body":"Perhaps Postman changed the way he handles it since 2016"},{"owner":{"account_id":6509311,"reputation":160,"user_id":6875546,"display_name":"Artem S. Zhelonkin"},"score":1,"creation_date":1645215691,"post_id":38013585,"comment_id":125821022,"body_markdown":"Thanks! It&#39;s solved my problem!","body":"Thanks! It&#39;s solved my problem!"}],"tags":[],"owner":{"account_id":38575,"reputation":3054,"user_id":110807,"accept_rate":33,"display_name":"de.la.ru"},"comment_count":5,"down_vote_count":2,"up_vote_count":161,"is_accepted":false,"score":159,"last_activity_date":1573159751,"creation_date":1466771645,"answer_id":38013585,"question_id":36005436,"body_markdown":"The problem is that you are setting the `Content-Type` by yourself, let it be blank. Google Chrome will do it for you. The multipart `Content-Type` needs to know the file boundary, and when you remove the `Content-Type`, Postman will do it automagically for you. ","title":"The request was rejected because no multipart boundary was found in springboot","body":"<p>The problem is that you are setting the <code>Content-Type</code> by yourself, let it be blank. Google Chrome will do it for you. The multipart <code>Content-Type</code> needs to know the file boundary, and when you remove the <code>Content-Type</code>, Postman will do it automagically for you. </p>\n"},{"comments":[{"owner":{"account_id":1021804,"reputation":12885,"user_id":1031945,"accept_rate":83,"display_name":"Aniket Kulkarni"},"score":0,"creation_date":1542947214,"post_id":38016883,"comment_id":93754402,"body_markdown":"This is really helpful answer. It solved my problem. With Advanced REST client, I am able to send the same request which I was trying with Postman. Postman requests were resulting in an errors `org.apache.commons.fileupload.FileUploadException: the request was rejected because no multipart boundary was found` and `HTTP 405`","body":"This is really helpful answer. It solved my problem. With Advanced REST client, I am able to send the same request which I was trying with Postman. Postman requests were resulting in an errors <code>org.apache.commons.fileupload.FileUploadException: the request was rejected because no multipart boundary was found</code> and <code>HTTP 405</code>"}],"tags":[],"owner":{"account_id":8698875,"reputation":17,"user_id":6509443,"display_name":"tomeokin"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1466782294,"creation_date":1466781764,"answer_id":38016883,"question_id":36005436,"body_markdown":"The &quot;Postman - REST Client&quot; is not suitable for doing post action with setting content-type.You can try to use &quot;Advanced REST client&quot; or others.\r\n\r\nAdditionally, headers was replace by consumes and produces since Spring 3.1 M2, see https://spring.io/blog/2011/06/13/spring-3-1-m2-spring-mvc-enhancements. And you can directly use `produces = MediaType.MULTIPART_FORM_DATA_VALUE`.","title":"The request was rejected because no multipart boundary was found in springboot","body":"<p>The \"Postman - REST Client\" is not suitable for doing post action with setting content-type.You can try to use \"Advanced REST client\" or others.</p>\n\n<p>Additionally, headers was replace by consumes and produces since Spring 3.1 M2, see <a href=\"https://spring.io/blog/2011/06/13/spring-3-1-m2-spring-mvc-enhancements\" rel=\"nofollow\">https://spring.io/blog/2011/06/13/spring-3-1-m2-spring-mvc-enhancements</a>. And you can directly use <code>produces = MediaType.MULTIPART_FORM_DATA_VALUE</code>.</p>\n"},{"comments":[{"owner":{"account_id":8277763,"reputation":573,"user_id":6223346,"accept_rate":67,"display_name":"Harish"},"score":3,"creation_date":1544567966,"post_id":45080052,"comment_id":94320658,"body_markdown":"How did u get the boundary value?","body":"How did u get the boundary value?"},{"owner":{"account_id":3788825,"reputation":23839,"user_id":3145960,"accept_rate":100,"display_name":"Reaz Murshed"},"score":1,"creation_date":1544591201,"post_id":45080052,"comment_id":94325714,"body_markdown":"The boundary value was suggested in the API doc.","body":"The boundary value was suggested in the API doc."}],"tags":[],"owner":{"account_id":3788825,"reputation":23839,"user_id":3145960,"accept_rate":100,"display_name":"Reaz Murshed"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1499947347,"creation_date":1499947347,"answer_id":45080052,"question_id":36005436,"body_markdown":"I was having the same problem while making a POST request from Postman and later I could solve the problem by setting a custom Content-Type with a boundary value set along with it like this. \r\n\r\nI thought people can run into similar problem and hence, I&#39;m sharing my solution. \r\n\r\n[![postman][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oInim.png","title":"The request was rejected because no multipart boundary was found in springboot","body":"<p>I was having the same problem while making a POST request from Postman and later I could solve the problem by setting a custom Content-Type with a boundary value set along with it like this. </p>\n\n<p>I thought people can run into similar problem and hence, I'm sharing my solution. </p>\n\n<p><a href=\"https://i.stack.imgur.com/oInim.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oInim.png\" alt=\"postman\"></a></p>\n"},{"tags":[],"owner":{"account_id":11598306,"reputation":391,"user_id":8496330,"display_name":"Bala"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1565683953,"creation_date":1503989057,"answer_id":45932419,"question_id":36005436,"body_markdown":"Unchecked the content type in Postman and postman automatically detect the content type based on your input in the run time.\r\n\r\n[![Sample][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jSuH0.jpg","title":"The request was rejected because no multipart boundary was found in springboot","body":"<p>Unchecked the content type in Postman and postman automatically detect the content type based on your input in the run time.</p>\n\n<p><a href=\"https://i.stack.imgur.com/jSuH0.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jSuH0.jpg\" alt=\"Sample\"></a></p>\n"},{"tags":[],"owner":{"account_id":3191536,"reputation":1984,"user_id":2695666,"display_name":"gorjanz"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1513239512,"creation_date":1513239512,"answer_id":47808745,"question_id":36005436,"body_markdown":"This worked for me:\r\nUploading a file via Postman, to a SpringMVC backend webapp:\r\n\r\nBackend:\r\n[![Endpoint controller definition][1]][1]\r\n\r\n\r\nPostman:\r\n[![Headers setup][2]][2]\r\n[![POST Body setup][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wn8Ns.png\r\n  [2]: https://i.stack.imgur.com/eXips.png\r\n  [3]: https://i.stack.imgur.com/eeW06.png","title":"The request was rejected because no multipart boundary was found in springboot","body":"<p>This worked for me:\nUploading a file via Postman, to a SpringMVC backend webapp:</p>\n\n<p>Backend:\n<a href=\"https://i.stack.imgur.com/wn8Ns.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wn8Ns.png\" alt=\"Endpoint controller definition\"></a></p>\n\n<p>Postman:\n<a href=\"https://i.stack.imgur.com/eXips.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/eXips.png\" alt=\"Headers setup\"></a>\n<a href=\"https://i.stack.imgur.com/eeW06.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/eeW06.png\" alt=\"POST Body setup\"></a></p>\n"},{"tags":[],"owner":{"account_id":10925310,"reputation":1,"user_id":8030201,"display_name":"hao huang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576406040,"creation_date":1544238996,"answer_id":53679186,"question_id":36005436,"body_markdown":"When I use postman to send a file which is 5.6M to an external network,  I faced the same issue. The same action is succeeded on my own computer and local testing environment.\r\n\r\nAfter checking all the server configs and HTTP headers, I found that the reason is Postman may have some trouble simulating requests to external HTTP requests.\r\nFinally, I did the sendfile request on the chrome HTML page successfully.\r\nJust as a reference :)","title":"The request was rejected because no multipart boundary was found in springboot","body":"<p>When I use postman to send a file which is 5.6M to an external network,  I faced the same issue. The same action is succeeded on my own computer and local testing environment.</p>\n\n<p>After checking all the server configs and HTTP headers, I found that the reason is Postman may have some trouble simulating requests to external HTTP requests.\nFinally, I did the sendfile request on the chrome HTML page successfully.\nJust as a reference :)</p>\n"},{"tags":[],"owner":{"account_id":8583699,"reputation":254,"user_id":6430538,"display_name":"Hanz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557408545,"creation_date":1557408545,"answer_id":56060545,"question_id":36005436,"body_markdown":"I met this problem because I use request.js which writen base on axios    \r\nAnd I already set a defaults.headers in request.js\r\n\r\n    import axios from &#39;axios&#39;\r\n    const request = axios.create({\r\n      baseURL: &#39;&#39;, \r\n      timeout: 15000 \r\n    })\r\n    service.defaults.headers.post[&#39;Content-Type&#39;] = &#39;application/x-www-form-urlencoded&#39;\r\n\r\n\r\nhere is how I solve this     \r\ninstead of \r\n\r\n    request.post(&#39;/manage/product/upload.do&#39;,\r\n          param,config\r\n        )\r\n\r\nI use axios directly send request,and didn&#39;t add config\r\n\r\n    axios.post(&#39;/manage/product/upload.do&#39;,\r\n          param\r\n        )\r\n\r\nhope this can solve your problem","title":"The request was rejected because no multipart boundary was found in springboot","body":"<p>I met this problem because I use request.js which writen base on axios<br>\nAnd I already set a defaults.headers in request.js</p>\n\n<pre><code>import axios from 'axios'\nconst request = axios.create({\n  baseURL: '', \n  timeout: 15000 \n})\nservice.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded'\n</code></pre>\n\n<p>here is how I solve this<br>\ninstead of </p>\n\n<pre><code>request.post('/manage/product/upload.do',\n      param,config\n    )\n</code></pre>\n\n<p>I use axios directly send request,and didn't add config</p>\n\n<pre><code>axios.post('/manage/product/upload.do',\n      param\n    )\n</code></pre>\n\n<p>hope this can solve your problem</p>\n"},{"tags":[],"owner":{"account_id":1505484,"reputation":125,"user_id":1408954,"display_name":"Bitzu"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1591102478,"creation_date":1591102478,"answer_id":62152496,"question_id":36005436,"body_markdown":"Heard you can do this in postman:\r\n\r\n[![placeholders][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/incef.png","title":"The request was rejected because no multipart boundary was found in springboot","body":"<p>Heard you can do this in postman:</p>\n\n<p><a href=\"https://i.stack.imgur.com/incef.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/incef.png\" alt=\"placeholders\"></a></p>\n"},{"tags":[],"owner":{"account_id":21599958,"reputation":41,"user_id":15928285,"display_name":"Mr.A"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641662171,"creation_date":1641661832,"answer_id":70634610,"question_id":36005436,"body_markdown":"You can try with below simple code, it should work. I tested on Advanced REST Client and below attached screenshot will help for configuration.\r\n\r\n\r\n````\r\npackage com.example.demo;\r\n\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\n\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\n@RestController\r\npublic class ImageUploadController {\r\n\r\n\t@PostMapping(&quot;image-upload&quot;)\r\n\tpublic String uploadImage(@RequestParam MultipartFile myFile) throws IOException {\r\n\t\t\r\n\t\tbyte[] bytes = myFile.getBytes();\r\n\r\n\t\tFileOutputStream fileOutputStream = new FileOutputStream(&quot;image.jpg&quot;);\r\n\r\n\t\tfileOutputStream.write(bytes);\r\n\t\tfileOutputStream.close();\r\n\t\t\r\n\t\treturn &quot;Image uploaded successfully..!&quot;;\r\n\r\n\t}\r\n}\r\n````\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nyou can find uploaded image on below location in project.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAlso please note that if your controller should be within the package of @SpringBootApplication package. You can refer below image.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lwypy.png\r\n  [2]: https://i.stack.imgur.com/3EOQV.png\r\n  [3]: https://i.stack.imgur.com/wu1B6.png","title":"The request was rejected because no multipart boundary was found in springboot","body":"<p>You can try with below simple code, it should work. I tested on Advanced REST Client and below attached screenshot will help for configuration.</p>\n<pre><code>package com.example.demo;\n\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\n\n@RestController\npublic class ImageUploadController {\n\n    @PostMapping(&quot;image-upload&quot;)\n    public String uploadImage(@RequestParam MultipartFile myFile) throws IOException {\n        \n        byte[] bytes = myFile.getBytes();\n\n        FileOutputStream fileOutputStream = new FileOutputStream(&quot;image.jpg&quot;);\n\n        fileOutputStream.write(bytes);\n        fileOutputStream.close();\n        \n        return &quot;Image uploaded successfully..!&quot;;\n\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/lwypy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lwypy.png\" alt=\"enter image description here\" /></a></p>\n<p>you can find uploaded image on below location in project.</p>\n<p><a href=\"https://i.stack.imgur.com/3EOQV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3EOQV.png\" alt=\"enter image description here\" /></a></p>\n<p>Also please note that if your controller should be within the package of @SpringBootApplication package. You can refer below image.</p>\n<p><a href=\"https://i.stack.imgur.com/wu1B6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wu1B6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2353308,"reputation":381,"user_id":2061690,"display_name":"Sanjay Amin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689011841,"creation_date":1689011841,"answer_id":76656213,"question_id":36005436,"body_markdown":"You do not need to send `Content-Type` in Postman, leave the default setting as in `Headers` section. It should automatically calculate. \r\n[![enter image description here][1]][1]\r\n\r\nIn Body, you can select file as:\r\n[![enter image description here][2]][2]\r\n\r\nAt Spring controller side, you can add following code:\r\n\r\n     @PostMapping(&quot;/upload&quot;)  \r\n     public ResponseEntity&lt;MyResponseObject&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile myFile)\r\n      throws IOException {...}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7rLPc.png\r\n  [2]: https://i.stack.imgur.com/lgp1j.png","title":"The request was rejected because no multipart boundary was found in springboot","body":"<p>You do not need to send <code>Content-Type</code> in Postman, leave the default setting as in <code>Headers</code> section. It should automatically calculate.\n<a href=\"https://i.stack.imgur.com/7rLPc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7rLPc.png\" alt=\"enter image description here\" /></a></p>\n<p>In Body, you can select file as:\n<a href=\"https://i.stack.imgur.com/lgp1j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lgp1j.png\" alt=\"enter image description here\" /></a></p>\n<p>At Spring controller side, you can add following code:</p>\n<pre><code> @PostMapping(&quot;/upload&quot;)  \n public ResponseEntity&lt;MyResponseObject&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile myFile)\n  throws IOException {...}\n</code></pre>\n"}],"owner":{"account_id":7637947,"reputation":963,"user_id":5790953,"display_name":"Mohammed Javed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257632,"favorite_count":0,"down_vote_count":0,"up_vote_count":95,"answer_count":10,"score":95,"last_activity_date":1689011841,"creation_date":1458028616,"question_id":36005436,"body_markdown":"As I am trying this with spring boot and webservices with postman chrome add-ons.\r\n\r\nIn postman `content-type=&quot;multipart/form-data&quot;` and I am getting the below exception.\r\n\r\n    HTTP Status 500 - Request processing failed; \r\n    nested exception is org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; \r\n    nested exception is java.io.IOException: \r\n    org.apache.tomcat.util.http.fileupload.FileUploadException: the request was rejected because no multipart boundary was found\r\n\r\nIn Controller I specified the below code\r\n\r\n    @ResponseBody\r\n\t@RequestMapping(value = &quot;/file&quot;, headers = &quot;Content-Type= multipart/form-data&quot;, method = RequestMethod.POST)\r\n\r\n\tpublic String upload(@RequestParam(&quot;name&quot;) String name,\r\n\t\t\t@RequestParam(value = &quot;file&quot;, required = true) MultipartFile file)\r\n\t//@RequestParam ()CommonsMultipartFile[] fileUpload\r\n\t{\r\n\t\t// @RequestMapping(value=&quot;/newDocument&quot;, , method = RequestMethod.POST)\r\n\t\tif (!file.isEmpty()) {\r\n\t\t\ttry {\r\n\t\t\t\tbyte[] fileContent = file.getBytes();\r\n\t\t\t\tfileSystemHandler.create(123, fileContent, name);\r\n\t\t\t\treturn &quot;You successfully uploaded &quot; + name + &quot;!&quot;;\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\treturn &quot;You failed to upload &quot; + name + &quot; =&gt; &quot; + e.getMessage();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn &quot;You failed to upload &quot; + name + &quot; because the file was empty.&quot;;\r\n\t\t}\r\n\t}\r\n\r\n\r\nHere I specify the file handler code\r\n\r\n    public String create(int jonId, byte[] fileContent, String name) {\r\n\t\tString status = &quot;Created file...&quot;;\r\n\t\ttry {\r\n\t\t\tString path = env.getProperty(&quot;file.uploadPath&quot;) + name;\r\n\t\t\tFile newFile = new File(path);\r\n\t\t\tnewFile.createNewFile();\r\n\t\t\tBufferedOutputStream stream = new BufferedOutputStream(new FileOutputStream(newFile));\r\n\t\t\tstream.write(fileContent);\r\n\t\t\tstream.close();\r\n\t\t} catch (IOException ex) {\r\n\t\t\tstatus = &quot;Failed to create file...&quot;;\r\n\t\t\tLogger.getLogger(FileSystemHandler.class.getName()).log(Level.SEVERE, null, ex);\r\n\t\t}\r\n\t\treturn status;\r\n\t}","title":"The request was rejected because no multipart boundary was found in springboot","body":"<p>As I am trying this with spring boot and webservices with postman chrome add-ons.</p>\n\n<p>In postman <code>content-type=\"multipart/form-data\"</code> and I am getting the below exception.</p>\n\n<pre><code>HTTP Status 500 - Request processing failed; \nnested exception is org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; \nnested exception is java.io.IOException: \norg.apache.tomcat.util.http.fileupload.FileUploadException: the request was rejected because no multipart boundary was found\n</code></pre>\n\n<p>In Controller I specified the below code</p>\n\n<pre><code>@ResponseBody\n@RequestMapping(value = \"/file\", headers = \"Content-Type= multipart/form-data\", method = RequestMethod.POST)\n\npublic String upload(@RequestParam(\"name\") String name,\n        @RequestParam(value = \"file\", required = true) MultipartFile file)\n//@RequestParam ()CommonsMultipartFile[] fileUpload\n{\n    // @RequestMapping(value=\"/newDocument\", , method = RequestMethod.POST)\n    if (!file.isEmpty()) {\n        try {\n            byte[] fileContent = file.getBytes();\n            fileSystemHandler.create(123, fileContent, name);\n            return \"You successfully uploaded \" + name + \"!\";\n        } catch (Exception e) {\n            return \"You failed to upload \" + name + \" =&gt; \" + e.getMessage();\n        }\n    } else {\n        return \"You failed to upload \" + name + \" because the file was empty.\";\n    }\n}\n</code></pre>\n\n<p>Here I specify the file handler code</p>\n\n<pre><code>public String create(int jonId, byte[] fileContent, String name) {\n    String status = \"Created file...\";\n    try {\n        String path = env.getProperty(\"file.uploadPath\") + name;\n        File newFile = new File(path);\n        newFile.createNewFile();\n        BufferedOutputStream stream = new BufferedOutputStream(new FileOutputStream(newFile));\n        stream.write(fileContent);\n        stream.close();\n    } catch (IOException ex) {\n        status = \"Failed to create file...\";\n        Logger.getLogger(FileSystemHandler.class.getName()).log(Level.SEVERE, null, ex);\n    }\n    return status;\n}\n</code></pre>\n"},{"tags":["java","unit-testing","testing","junit"],"comments":[{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1689010852,"post_id":76656096,"comment_id":135149827,"body_markdown":"Yes, one would assume the factory method for `LocalDate` throws an exception in that case. But the function you want to test seems to take _two_ dates. What are the behaviours of that function? That is, what is it supposed to do? You should be testing those things.","body":"Yes, one would assume the factory method for <code>LocalDate</code> throws an exception in that case. But the function you want to test seems to take <i>two</i> dates. What are the behaviours of that function? That is, what is it supposed to do? You should be testing those things."},{"owner":{"account_id":28630571,"reputation":39,"user_id":21921697,"display_name":"TrySoHard"},"score":0,"creation_date":1689011247,"post_id":76656096,"comment_id":135149894,"body_markdown":"Thing is, it seems like a not possible scenario, because i cant call the method by passing to it _a non valid date._ The error would be on a higher level. Think about this:\n\nLocalDate date = LocalDate.of(2024-40-40);\nLocalDate date2 = LocalDate.of(2024-60-60);\n\nverifyCorrectDates(date, date2);\n\nThis would simply not compile, since the LocalDate.of(...) would give me error. So i cannot test it in my method.","body":"Thing is, it seems like a not possible scenario, because i cant call the method by passing to it <i>a non valid date.</i> The error would be on a higher level. Think about this:  LocalDate date = LocalDate.of(2024-40-40); LocalDate date2 = LocalDate.of(2024-60-60);  verifyCorrectDates(date, date2);  This would simply not compile, since the LocalDate.of(...) would give me error. So i cannot test it in my method."},{"owner":{"account_id":28630571,"reputation":39,"user_id":21921697,"display_name":"TrySoHard"},"score":0,"creation_date":1689011530,"post_id":76656096,"comment_id":135149947,"body_markdown":"Oh yeah, i get it. Since my method does not accept a String, but a LocalDate, i shouldn&#39;t test this. If my method accepted two Strings that would be the case i&#39;m imagining.","body":"Oh yeah, i get it. Since my method does not accept a String, but a LocalDate, i shouldn&#39;t test this. If my method accepted two Strings that would be the case i&#39;m imagining."}],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689011503,"creation_date":1689011503,"answer_id":76656176,"question_id":76656096,"body_markdown":"You should not create invalid LocalDate instances, as those will throw exceptions, so its not practical in case of testing your function. You can still come up with valid test scenerios, like check correctness of function call if its called when:\r\n\r\n1. both dates are null\r\n2. first date is null, the second date is valid.\r\n3. first date is valid, the second date is null.\r\n4. both dates are valid, and the first date is after the second date. \r\n5. both dates are valid, and the first date is before the second date \r\n6. dates are valid, and the first date is the same as the second date.","title":"JUnit, how can i test if a LocalDate is not valid?","body":"<p>You should not create invalid LocalDate instances, as those will throw exceptions, so its not practical in case of testing your function. You can still come up with valid test scenerios, like check correctness of function call if its called when:</p>\n<ol>\n<li>both dates are null</li>\n<li>first date is null, the second date is valid.</li>\n<li>first date is valid, the second date is null.</li>\n<li>both dates are valid, and the first date is after the second date.</li>\n<li>both dates are valid, and the first date is before the second date</li>\n<li>dates are valid, and the first date is the same as the second date.</li>\n</ol>\n"}],"owner":{"account_id":28630571,"reputation":39,"user_id":21921697,"display_name":"TrySoHard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689011503,"creation_date":1689010644,"question_id":76656096,"body_markdown":"I&#39;m doing some testing for a university project.\r\n\r\nI wanted to test a method *verifyCorrectDates(LocalDate firstDate, LocalDate lastDate)*.\r\n\r\nIn general, i think we could see these possible scenarios:\r\n- a LocalDate is null\r\n- a LocalDate is not valid (for example, 2023-40-40)\r\n- a LocalDate is valid\r\n\r\nSince i have two LocalDates as input, there should be 9 test to comprehend every situation.\r\n\r\nThing is: i don&#39;t know how can i test this method using a &#39;non valid date&#39;.\r\nIf i use LocalDate.of(2023,40,40) it simply gives me an error, of course. I&#39;m starting to think it&#39;s simply not possible to insert a non valid LocalDate.\r\n\r\nAny ideas?","title":"JUnit, how can i test if a LocalDate is not valid?","body":"<p>I'm doing some testing for a university project.</p>\n<p>I wanted to test a method <em>verifyCorrectDates(LocalDate firstDate, LocalDate lastDate)</em>.</p>\n<p>In general, i think we could see these possible scenarios:</p>\n<ul>\n<li>a LocalDate is null</li>\n<li>a LocalDate is not valid (for example, 2023-40-40)</li>\n<li>a LocalDate is valid</li>\n</ul>\n<p>Since i have two LocalDates as input, there should be 9 test to comprehend every situation.</p>\n<p>Thing is: i don't know how can i test this method using a 'non valid date'.\nIf i use LocalDate.of(2023,40,40) it simply gives me an error, of course. I'm starting to think it's simply not possible to insert a non valid LocalDate.</p>\n<p>Any ideas?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7850,"page":318,"page_size":100}
