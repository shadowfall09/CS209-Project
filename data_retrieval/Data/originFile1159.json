{"items":[{"tags":["java","android","android-studio","gradle","kotlin"],"comments":[{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1584631539,"post_id":60760193,"comment_id":107501241,"body_markdown":"not the same as [this](https://stackoverflow.com/questions/49286268/error-execution-failed-for-task-app-lintvitalrelease-any-one-can-solve-it)?","body":"not the same as <a href=\"https://stackoverflow.com/questions/49286268/error-execution-failed-for-task-app-lintvitalrelease-any-one-can-solve-it\">this</a>?"},{"owner":{"account_id":11821534,"reputation":81,"user_id":8650493,"display_name":"SenyaOhar"},"score":0,"creation_date":1584632531,"post_id":60760193,"comment_id":107501771,"body_markdown":"nope, this is a little bit different. i get Caused by: java.lang.ClassNotFoundException: com.android.tools.lint.checks.AnnotationDetector. The thing is that Idk where should I find it and how to repair it. maybe i&#39;m using some kinda not compatible package with sdk. idk","body":"nope, this is a little bit different. i get Caused by: java.lang.ClassNotFoundException: com.android.tools.lint.checks.AnnotationDetector. The thing is that Idk where should I find it and how to repair it. maybe i&#39;m using some kinda not compatible package with sdk. idk"}],"answers":[{"tags":[],"owner":{"account_id":11821534,"reputation":81,"user_id":8650493,"display_name":"SenyaOhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1584910873,"creation_date":1584910873,"answer_id":60804920,"question_id":60760193,"body_markdown":"I have solved it on my own. Firstly, I checked Android Studio, config of that, java, gradle, but the problem was easy. Just reinstalled SDK.","title":"Release only problem | app:lintVitalRelease","body":"<p>I have solved it on my own. Firstly, I checked Android Studio, config of that, java, gradle, but the problem was easy. Just reinstalled SDK.</p>\n"},{"tags":[],"owner":{"account_id":18395409,"reputation":850,"user_id":13400001,"display_name":"Ashutosh singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658815001,"creation_date":1658815001,"answer_id":73118309,"question_id":60760193,"body_markdown":"\r\nOpen app level **build.grad**le file and add the code under android \r\n\r\n\r\n    \r\n        lintOptions { \r\n          checkReleaseBuilds false \r\n    }\r\n      ","title":"Release only problem | app:lintVitalRelease","body":"<p>Open app level <strong>build.grad</strong>le file and add the code under android</p>\n<pre><code>    lintOptions { \n      checkReleaseBuilds false \n}\n  \n</code></pre>\n"}],"owner":{"account_id":11821534,"reputation":81,"user_id":8650493,"display_name":"SenyaOhar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1581,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60804920,"answer_count":2,"score":2,"last_activity_date":1658815001,"creation_date":1584631389,"question_id":60760193,"body_markdown":"got a problem with gradle build, **specifically in release mode**. Everything works **fine in debug**. I couldn&#39;t find anything about this issue.\r\nAny idea about the issue?\r\n```\r\n&gt; Stack trace:\r\nFAILURE: Build failed with an exception.\r\n\r\n\r\n    FAILURE: Build failed with an exception.\r\n        * What went wrong:\r\n        Execution failed for task &#39;:app:lintVitalRelease&#39;.\r\n        Lint infrastructure error\r\n          Caused by: java.lang.reflect.InvocationTargetException\r\n          \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n          \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n          \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n          \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n          \tat com.android.tools.lint.gradle.api.ReflectiveLintRunner.runLint(ReflectiveLintRunner.kt:38)\r\n          \tat com.android.build.gradle.tasks.LintBaseTask.runLint(LintBaseTask.java:114)\r\n          \tat com.android.build.gradle.tasks.LintPerVariantTask.lint(LintPerVariantTask.java:63)\r\n          \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n          \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n          \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n          \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n          \tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:103)\r\n          \tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:49)\r\n          \tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:42)\r\n          \tat ...\r\n     ...\r\n          \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n          \t... 109 more\r\n          ","title":"Release only problem | app:lintVitalRelease","body":"<p>got a problem with gradle build, <strong>specifically in release mode</strong>. Everything works <strong>fine in debug</strong>. I couldn't find anything about this issue.\nAny idea about the issue?</p>\n\n<pre><code>&gt; Stack trace:\nFAILURE: Build failed with an exception.\n\n\n    FAILURE: Build failed with an exception.\n        * What went wrong:\n        Execution failed for task ':app:lintVitalRelease'.\n        Lint infrastructure error\n          Caused by: java.lang.reflect.InvocationTargetException\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n            at java.lang.reflect.Method.invoke(Method.java:498)\n            at com.android.tools.lint.gradle.api.ReflectiveLintRunner.runLint(ReflectiveLintRunner.kt:38)\n            at com.android.build.gradle.tasks.LintBaseTask.runLint(LintBaseTask.java:114)\n            at com.android.build.gradle.tasks.LintPerVariantTask.lint(LintPerVariantTask.java:63)\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n            at java.lang.reflect.Method.invoke(Method.java:498)\n            at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:103)\n            at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:49)\n            at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:42)\n            at ...\n     ...\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n            ... 109 more\n\n</code></pre>\n"},{"tags":["java","xml-signature"],"answers":[{"tags":[],"owner":{"account_id":2613438,"reputation":4706,"user_id":2263089,"accept_rate":75,"display_name":"Sanjaya Liyanage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658814566,"creation_date":1658814566,"answer_id":73118257,"question_id":72811560,"body_markdown":"I was able to fix this using WSS4J directly .  With Santuario this is not possible as I noticed.","title":"How to refer certificate element from KeyInfo in Apache Santuario","body":"<p>I was able to fix this using WSS4J directly .  With Santuario this is not possible as I noticed.</p>\n"}],"owner":{"account_id":2613438,"reputation":4706,"user_id":2263089,"accept_rate":75,"display_name":"Sanjaya Liyanage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658814566,"creation_date":1656572678,"question_id":72811560,"body_markdown":"I want to create a xml signature with Apache Santuario and KeyInfo should refer the certificate element(BinarySecurityToken) like below\r\n\r\n&lt;ds:KeyInfo Id=&quot;KI-FBB16D2886CB8FE58213384666945692&quot;&gt; \r\n    &lt;wsse:SecurityTokenReference wsu:Id=&quot;STR-FBB16D2886CB8FE58213384666945693&quot;&gt; \r\n        &lt;wsse:Reference URI=&quot;#X509-FBB16D2886CB8FE58213384666945491&quot;  \r\n        ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token- \r\n        profile1.0#X509v3&quot; /&gt; \r\n    (&lt;/wsse:SecurityTokenReference&gt;\r\n&lt;/ds:KeyInfo&gt;\r\n\r\nBut I can&#39;t find any support in KeyInfo of Santuario other than adding the certificate and\r\npublic key . It will add the certificate as embedded and not a reference.","title":"How to refer certificate element from KeyInfo in Apache Santuario","body":"<p>I want to create a xml signature with Apache Santuario and KeyInfo should refer the certificate element(BinarySecurityToken) like below</p>\n<p>&lt;ds:KeyInfo Id=&quot;KI-FBB16D2886CB8FE58213384666945692&quot;&gt;\n&lt;wsse:SecurityTokenReference wsu:Id=&quot;STR-FBB16D2886CB8FE58213384666945693&quot;&gt;\n&lt;wsse:Reference URI=&quot;#X509-FBB16D2886CB8FE58213384666945491&quot;<br />\nValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-\nprofile1.0#X509v3&quot; /&gt;\n(&lt;/wsse:SecurityTokenReference&gt;\n&lt;/ds:KeyInfo&gt;</p>\n<p>But I can't find any support in KeyInfo of Santuario other than adding the certificate and\npublic key . It will add the certificate as embedded and not a reference.</p>\n"},{"tags":["java","swagger"],"comments":[{"owner":{"account_id":999669,"reputation":7922,"user_id":1014830,"accept_rate":57,"display_name":"dharam"},"score":0,"creation_date":1542029006,"post_id":53263086,"comment_id":93410316,"body_markdown":"did you try @JsonIgnore?","body":"did you try @JsonIgnore?"},{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1542029589,"post_id":53263086,"comment_id":93410637,"body_markdown":"Possible duplicate of [Ignoring JSON fields when sending an object (deserialization)](https://stackoverflow.com/questions/50532345/ignoring-json-fields-when-sending-an-object-deserialization) and [How to ignore swagger resource property for specific HTTP verb (GET,POST,PUT)](https://stackoverflow.com/q/42359204/113116)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/50532345/ignoring-json-fields-when-sending-an-object-deserialization\">Ignoring JSON fields when sending an object (deserialization)</a> and <a href=\"https://stackoverflow.com/q/42359204/113116\">How to ignore swagger resource property for specific HTTP verb (GET,POST,PUT)</a>"},{"owner":{"account_id":14125633,"reputation":175,"user_id":10205025,"display_name":"Vision Yang"},"score":0,"creation_date":1542030255,"post_id":53263086,"comment_id":93410986,"body_markdown":"@dharam I want to partically hide, not all method hide the &quot;id&quot;.","body":"@dharam I want to partically hide, not all method hide the &quot;id&quot;."},{"owner":{"account_id":999669,"reputation":7922,"user_id":1014830,"accept_rate":57,"display_name":"dharam"},"score":0,"creation_date":1542030385,"post_id":53263086,"comment_id":93411051,"body_markdown":"sorry! my method will do it for all references... need to do some custom code to get rid of it for just one flow","body":"sorry! my method will do it for all references... need to do some custom code to get rid of it for just one flow"},{"owner":{"account_id":14125633,"reputation":175,"user_id":10205025,"display_name":"Vision Yang"},"score":0,"creation_date":1542030690,"post_id":53263086,"comment_id":93411222,"body_markdown":"@dharam yeah. For example, I have GET and POST, I want the &quot;id&quot; shows in the GET, but not POST, so I don&#39;t know how to do this.","body":"@dharam yeah. For example, I have GET and POST, I want the &quot;id&quot; shows in the GET, but not POST, so I don&#39;t know how to do this."},{"owner":{"account_id":999669,"reputation":7922,"user_id":1014830,"accept_rate":57,"display_name":"dharam"},"score":0,"creation_date":1542030905,"post_id":53263086,"comment_id":93411377,"body_markdown":"BTW, POST must return a 201 status and the id of the resources in a pure ReSTful service..\n\nIn your case, the solution is custom - You can have a look here https://www.baeldung.com/jackson-serialize-field-custom-criteria . \n\nYou might also write a CustomJsonIgnore annotation which takes an argument (method/criteria) to serialize the field. Best of luck","body":"BTW, POST must return a 201 status and the id of the resources in a pure ReSTful service..  In your case, the solution is custom - You can have a look here <a href=\"https://www.baeldung.com/jackson-serialize-field-custom-criteria\" rel=\"nofollow noreferrer\">baeldung.com/jackson-serialize-field-custom-criteria</a> .   You might also write a CustomJsonIgnore annotation which takes an argument (method/criteria) to serialize the field. Best of luck"},{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1542033080,"post_id":53263086,"comment_id":93412687,"body_markdown":"Try `@ApiModelProperty(readOnly = true)` as explained [here](https://stackoverflow.com/a/50533209/113116).","body":"Try <code>@ApiModelProperty(readOnly = true)</code> as explained <a href=\"https://stackoverflow.com/a/50533209/113116\">here</a>."},{"owner":{"account_id":2631434,"reputation":437,"user_id":2277289,"display_name":"suraj.tripathi"},"score":0,"creation_date":1573061611,"post_id":53263086,"comment_id":103761463,"body_markdown":"probable duplicate of https://stackoverflow.com/questions/27777537/exclude-models-or-properties-from-swagger-response/58728653?noredirect=1#comment103749587_58728653","body":"probable duplicate of <a href=\"https://stackoverflow.com/questions/27777537/exclude-models-or-properties-from-swagger-response/58728653?noredirect=1#comment103749587_58728653\" title=\"exclude models or properties from swagger response\">stackoverflow.com/questions/27777537/&hellip;</a>"},{"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"score":0,"creation_date":1594362100,"post_id":53263086,"comment_id":111104404,"body_markdown":"I am not getting this annotation `@ApiModelProperty` when I used `openapi-ui`. What could be the annotation for this?","body":"I am not getting this annotation <code>@ApiModelProperty</code> when I used <code>openapi-ui</code>. What could be the annotation for this?"},{"owner":{"account_id":3598482,"reputation":178,"user_id":3002425,"display_name":"noNihongo"},"score":0,"creation_date":1598877356,"post_id":53263086,"comment_id":112591045,"body_markdown":"I don&#39;t think you can do it using the same DTO in the GET and POST. I am looking for the same because and the only way to do what you are saying is using diferent DTO to each method.","body":"I don&#39;t think you can do it using the same DTO in the GET and POST. I am looking for the same because and the only way to do what you are saying is using diferent DTO to each method."}],"answers":[{"tags":[],"owner":{"account_id":16173735,"reputation":81,"user_id":11676916,"display_name":"Guru"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1606740545,"creation_date":1561044494,"answer_id":56689321,"question_id":53263086,"body_markdown":"    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n    @ApiModelProperty(accessMode = ApiModelProperty.AccessMode.READ_ONLY)\r\n    private String id;\r\n\r\nAlso see: https://github.com/springfox/springfox/issues/2816","title":"How to hide a request field in Swagger API","body":"<pre><code>@JsonProperty(access = JsonProperty.Access.READ_ONLY)\n@ApiModelProperty(accessMode = ApiModelProperty.AccessMode.READ_ONLY)\nprivate String id;\n</code></pre>\n<p>Also see: <a href=\"https://github.com/springfox/springfox/issues/2816\" rel=\"noreferrer\">https://github.com/springfox/springfox/issues/2816</a></p>\n"},{"tags":[],"owner":{"account_id":9204199,"reputation":300,"user_id":6840126,"display_name":"Younes Ouchala"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1630076906,"creation_date":1567430599,"answer_id":57757755,"question_id":53263086,"body_markdown":"to hide a request field in Swagger API v2:\r\n\r\n     @ApiModelProperty(hidden = true) \r\n     private String id;\r\n\r\nin OpenAPI v3:\r\n\r\n    @Schema(accessMode = Schema.AccessMode.READ_ONLY)\r\n    private String id;\r\n","title":"How to hide a request field in Swagger API","body":"<p>to hide a request field in Swagger API v2:</p>\n<pre><code> @ApiModelProperty(hidden = true) \n private String id;\n</code></pre>\n<p>in OpenAPI v3:</p>\n<pre><code>@Schema(accessMode = Schema.AccessMode.READ_ONLY)\nprivate String id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2631434,"reputation":437,"user_id":2277289,"display_name":"suraj.tripathi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573038764,"creation_date":1573038145,"answer_id":58728630,"question_id":53263086,"body_markdown":"You can use [@Hidden][1] with [Swagger Core 2.X][2]\r\n\r\n[@Hidden][1] -- Hides a resource, an operation or a property\r\n\r\nExample from above link : Marks a given resource, class or bean type as hidden, skipping while reading / resolving.\r\n\r\n    @Path(&quot;/user&quot;)\r\n    @Produces({&quot;application/json&quot;, &quot;application/xml&quot;})\r\n    public class HiddenAnnotatedUserResourceMethodAndData {\r\n        UserData userData = new UserData();\r\n\r\n        @POST\r\n        @Hidden\r\n        @Operation(summary = &quot;Create user&quot;,\r\n                description = &quot;This can only be done by the logged in user.&quot;)\r\n        @Path(&quot;/1&quot;)\r\n        public Response createUser(\r\n                @Parameter(description = &quot;Created user object&quot;, required = true) User user) {\r\n            userData.addUser(user);\r\n            return Response.ok().entity(&quot;&quot;).build();\r\n        }\r\n\r\n        @POST\r\n        @Operation(summary = &quot;Create user&quot;,\r\n                description = &quot;This can only be done by the logged in user.&quot;)\r\n        @Path(&quot;/2&quot;)\r\n        public Response createUserWithHiddenBeanProperty(\r\n                @Parameter(description = &quot;Created user object&quot;, required = true) UserResourceBean user) {\r\n            return Response.ok().entity(&quot;&quot;).build();\r\n        }\r\n    }\r\n\r\nOutput of above\r\n\r\n    openapi: 3.0.1\r\n    paths:\r\n      /user/2:\r\n        post:\r\n          summary: Create user\r\n          description: This can only be done by the logged in user.\r\n          operationId: createUserWithHiddenBeanProperty\r\n          requestBody:\r\n            description: Created user object\r\n            content:\r\n              &#39;*/*&#39;:\r\n                schema:\r\n                  $ref: &#39;#/components/schemas/UserResourceBean&#39;\r\n            required: true\r\n          responses:\r\n            default:\r\n              description: default response\r\n    components:\r\n      schemas:\r\n        UserResourceBean:\r\n          type: object\r\n          properties:\r\n            foo:\r\n              type: string\r\n\r\n  [1]: https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#hidden\r\n  [2]: https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations\r\n","title":"How to hide a request field in Swagger API","body":"<p>You can use <a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#hidden\" rel=\"nofollow noreferrer\">@Hidden</a> with <a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations\" rel=\"nofollow noreferrer\">Swagger Core 2.X</a></p>\n\n<p><a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#hidden\" rel=\"nofollow noreferrer\">@Hidden</a> -- Hides a resource, an operation or a property</p>\n\n<p>Example from above link : Marks a given resource, class or bean type as hidden, skipping while reading / resolving.</p>\n\n<pre><code>@Path(\"/user\")\n@Produces({\"application/json\", \"application/xml\"})\npublic class HiddenAnnotatedUserResourceMethodAndData {\n    UserData userData = new UserData();\n\n    @POST\n    @Hidden\n    @Operation(summary = \"Create user\",\n            description = \"This can only be done by the logged in user.\")\n    @Path(\"/1\")\n    public Response createUser(\n            @Parameter(description = \"Created user object\", required = true) User user) {\n        userData.addUser(user);\n        return Response.ok().entity(\"\").build();\n    }\n\n    @POST\n    @Operation(summary = \"Create user\",\n            description = \"This can only be done by the logged in user.\")\n    @Path(\"/2\")\n    public Response createUserWithHiddenBeanProperty(\n            @Parameter(description = \"Created user object\", required = true) UserResourceBean user) {\n        return Response.ok().entity(\"\").build();\n    }\n}\n</code></pre>\n\n<p>Output of above</p>\n\n<pre><code>openapi: 3.0.1\npaths:\n  /user/2:\n    post:\n      summary: Create user\n      description: This can only be done by the logged in user.\n      operationId: createUserWithHiddenBeanProperty\n      requestBody:\n        description: Created user object\n        content:\n          '*/*':\n            schema:\n              $ref: '#/components/schemas/UserResourceBean'\n        required: true\n      responses:\n        default:\n          description: default response\ncomponents:\n  schemas:\n    UserResourceBean:\n      type: object\n      properties:\n        foo:\n          type: string\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14681960,"reputation":346,"user_id":10603143,"display_name":"Mohsin Ejaz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658813185,"creation_date":1658775689,"answer_id":73114130,"question_id":53263086,"body_markdown":"‚úç&#127995; Extends yours Entity &amp; Use @JsonIgnoreProperties \r\n\r\n    public class UserVo {\r\n\t\r\n\t@JsonIgnoreProperties(&quot;password&quot;)\r\n    public static class Public extends User {}\r\n\r\n\t@JsonIgnoreProperties(&quot;userId&quot;)\r\n    public static class Save extends User {}\r\n\r\n\t@JsonIgnoreProperties(&quot;password&quot;)\r\n    public static class Update extends User {}\r\n\t\r\n    }\r\n\r\n‚úç&#127995; Entity Class ::\r\n\r\n    public class User implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@Column(name = &quot;id&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Integer userId;\r\n\r\n    // &#128680; Write only access to password default in entity\r\n    // in order to hide it for update case we will extends class behaviour \r\n    // in our custom views\r\n\r\n    // Instead of JsonViews i use custom views (i.e UserVo) with JsonProperty\r\n    // @JsonProperty(access = JsonProperty.Access.WRITE_ONLY) \r\n\r\n\r\n    @NotBlank\r\n\t@Schema(example = &quot;lorem1234&quot;)\r\n\t@Column(name = &quot;password&quot;)\r\n\t@JsonProperty(access = JsonProperty.Access.WRITE_ONLY) \r\n\tprivate String password; \r\n    \r\n    .....\r\n    }\r\n\r\n\r\n‚úç&#127995; Controller Class ::\r\n    \r\n    // See UserVo.Save in request body it serialize this class\r\n\r\n\t@PostMapping(value = &quot;/create&quot;)\r\n\tpublic ResponseModel&lt;User&gt; createUser(@Valid @RequestBody UserVo.Save user) {\r\n     // ... My dirty code comes here &#129313;\r\n    }\r\n\r\n\r\n‚úç&#127995; Result ::\r\n \r\n- Easy Serialization;\r\n- No separate Domain classes\r\n- Easy Swagger Schema Hide ( Swagger knows hide Id on Add Operation &#128561;)\r\n\r\n\r\n","title":"How to hide a request field in Swagger API","body":"<p>‚úçüèª Extends yours Entity &amp; Use @JsonIgnoreProperties</p>\n<pre><code>public class UserVo {\n\n@JsonIgnoreProperties(&quot;password&quot;)\npublic static class Public extends User {}\n\n@JsonIgnoreProperties(&quot;userId&quot;)\npublic static class Save extends User {}\n\n@JsonIgnoreProperties(&quot;password&quot;)\npublic static class Update extends User {}\n\n}\n</code></pre>\n<p>‚úçüèª Entity Class ::</p>\n<pre><code>public class User implements Serializable {\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@Column(name = &quot;id&quot;)\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Integer userId;\n\n// üö® Write only access to password default in entity\n// in order to hide it for update case we will extends class behaviour \n// in our custom views\n\n// Instead of JsonViews i use custom views (i.e UserVo) with JsonProperty\n// @JsonProperty(access = JsonProperty.Access.WRITE_ONLY) \n\n\n@NotBlank\n@Schema(example = &quot;lorem1234&quot;)\n@Column(name = &quot;password&quot;)\n@JsonProperty(access = JsonProperty.Access.WRITE_ONLY) \nprivate String password; \n\n.....\n}\n</code></pre>\n<p>‚úçüèª Controller Class ::</p>\n<pre><code>// See UserVo.Save in request body it serialize this class\n\n@PostMapping(value = &quot;/create&quot;)\npublic ResponseModel&lt;User&gt; createUser(@Valid @RequestBody UserVo.Save user) {\n // ... My dirty code comes here ü§°\n}\n</code></pre>\n<p>‚úçüèª Result ::</p>\n<ul>\n<li>Easy Serialization;</li>\n<li>No separate Domain classes</li>\n<li>Easy Swagger Schema Hide ( Swagger knows hide Id on Add Operation üò±)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658777425,"creation_date":1658777425,"answer_id":73114437,"question_id":53263086,"body_markdown":"Generally using DTO can be useful in this situation, for each entity, define one DTO(it depends on your project but most of the time can be useful) and then map your entity to DTO and vice versa with Mapstruct,after that in your DTO class by using @JsonIgnorProperties annotation on each field you want, you can omit that field from exposing by API services.","title":"How to hide a request field in Swagger API","body":"<p>Generally using DTO can be useful in this situation, for each entity, define one DTO(it depends on your project but most of the time can be useful) and then map your entity to DTO and vice versa with Mapstruct,after that in your DTO class by using @JsonIgnorProperties annotation on each field you want, you can omit that field from exposing by API services.</p>\n"}],"owner":{"account_id":14125633,"reputation":175,"user_id":10205025,"display_name":"Vision Yang"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32167,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":5,"score":16,"last_activity_date":1658813185,"creation_date":1542028863,"question_id":53263086,"body_markdown":"[![][1]][1]\r\n\r\nI want to hide the &quot;id&quot; item in the model, how to do this in java?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VncCD.jpg","title":"How to hide a request field in Swagger API","body":"<p><a href=\"https://i.stack.imgur.com/VncCD.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/VncCD.jpg\" alt=\"\"></a></p>\n\n<p>I want to hide the \"id\" item in the model, how to do this in java?</p>\n"},{"tags":["java","snowflake-cloud-data-platform","jdbctemplate"],"comments":[{"owner":{"account_id":10586318,"reputation":4177,"user_id":7798548,"display_name":"Sergiu"},"score":0,"creation_date":1654601327,"post_id":72529972,"comment_id":128124487,"body_markdown":"Have you enabled [JDBC logging](https://community.snowflake.com/s/article/How-to-generate-log-file-on-Snowflake-connectors#JDBC) and you see this in the JDBC log based on timestamp of the transaction? Also what is the time shown in Query History in Snowflake UI?","body":"Have you enabled <a href=\"https://community.snowflake.com/s/article/How-to-generate-log-file-on-Snowflake-connectors#JDBC\" rel=\"nofollow noreferrer\">JDBC logging</a> and you see this in the JDBC log based on timestamp of the transaction? Also what is the time shown in Query History in Snowflake UI?"},{"owner":{"account_id":13464993,"reputation":1825,"user_id":9715631,"display_name":"Devkinandan Chauhan"},"score":0,"creation_date":1654601539,"post_id":72529972,"comment_id":128124576,"body_markdown":"Query History showing around 100ms for all queries","body":"Query History showing around 100ms for all queries"},{"owner":{"account_id":10586318,"reputation":4177,"user_id":7798548,"display_name":"Sergiu"},"score":0,"creation_date":1654602056,"post_id":72529972,"comment_id":128124804,"body_markdown":"If Query History is constant, then you probably need to look at the client side, so the JDBC log in DEBUG mode will show you more.","body":"If Query History is constant, then you probably need to look at the client side, so the JDBC log in DEBUG mode will show you more."},{"owner":{"account_id":4166159,"reputation":951,"user_id":3415090,"display_name":"mohammedkhan"},"score":0,"creation_date":1654635608,"post_id":72529972,"comment_id":128136856,"body_markdown":"It _may_ have something to do with a transaction hanging on the db after performing a query (random hypothesis). You might want to consider making use of the `@Transactional` annotation in your service level code to see if it makes any kind of difference.","body":"It <i>may</i> have something to do with a transaction hanging on the db after performing a query (random hypothesis). You might want to consider making use of the <code>@Transactional</code> annotation in your service level code to see if it makes any kind of difference."}],"answers":[{"tags":[],"owner":{"account_id":13464993,"reputation":1825,"user_id":9715631,"display_name":"Devkinandan Chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658812925,"creation_date":1658812925,"answer_id":73118064,"question_id":72529972,"body_markdown":"At Snowflake side, the AWS load balancer has 150 seconds timeout configured on it. \r\n\r\nNetwork sockets are getting closed after 150 seconds of inactivity. This is why all subsequent communication attempts have to re-initialize the connection. That&#39;s why latency is occurring!","title":"Snowflake: same queries taking more time although using Result Cache","body":"<p>At Snowflake side, the AWS load balancer has 150 seconds timeout configured on it.</p>\n<p>Network sockets are getting closed after 150 seconds of inactivity. This is why all subsequent communication attempts have to re-initialize the connection. That's why latency is occurring!</p>\n"}],"owner":{"account_id":13464993,"reputation":1825,"user_id":9715631,"display_name":"Devkinandan Chauhan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73118064,"answer_count":1,"score":0,"last_activity_date":1658813043,"creation_date":1654599336,"question_id":72529972,"body_markdown":"I&#39;m new to snowflake, Using JdbcTemplate for executing queries.\r\n\r\n     BasicDataSource dataSource = new BasicDataSource();\r\n     dataSource.setUrl(&quot;jdbcUrl&quot;);\r\n     dataSource.setDriverClassName(SNOWFLAKE_DRIVER_NAME);\r\n     dataSource.addConnectionProperty(CLIENT_SESSION_KEEP_ALIVE, &quot;true&quot;);\r\n\r\n     JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\r\n\r\n\r\n**Facing below issue on Snowflake:**\r\n\r\nIf I execute the same query multiple times, and **gap between the same two queries &lt;= 150 seconds**, then it takes around **300ms**. If the **gap between the same two queries &gt; 150 seconds**, then it takes around **1200ms**. These timings are from java code.\r\nAlthough all queries are using a Result cache because I&#39;m executing the same queries multiple times.\r\n\r\n**Anyone have an idea, why is this latency is occurring if the gap between the same two queries is over 150 seconds?**","title":"Snowflake: same queries taking more time although using Result Cache","body":"<p>I'm new to snowflake, Using JdbcTemplate for executing queries.</p>\n<pre><code> BasicDataSource dataSource = new BasicDataSource();\n dataSource.setUrl(&quot;jdbcUrl&quot;);\n dataSource.setDriverClassName(SNOWFLAKE_DRIVER_NAME);\n dataSource.addConnectionProperty(CLIENT_SESSION_KEEP_ALIVE, &quot;true&quot;);\n\n JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\n</code></pre>\n<p><strong>Facing below issue on Snowflake:</strong></p>\n<p>If I execute the same query multiple times, and <strong>gap between the same two queries &lt;= 150 seconds</strong>, then it takes around <strong>300ms</strong>. If the <strong>gap between the same two queries &gt; 150 seconds</strong>, then it takes around <strong>1200ms</strong>. These timings are from java code.\nAlthough all queries are using a Result cache because I'm executing the same queries multiple times.</p>\n<p><strong>Anyone have an idea, why is this latency is occurring if the gap between the same two queries is over 150 seconds?</strong></p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":16584107,"reputation":1,"user_id":11984002,"display_name":"Kirill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658812940,"creation_date":1658812940,"answer_id":73118066,"question_id":73117837,"body_markdown":"1. Create `@Autowired List&lt;Music&gt; musics`;\r\n2. Then somewhere create classes with `@Component` annotation that derived from Music class or return each one from a function using `@Bean` annotation.\r\n\r\nIt will do a trick for you.","title":"how to put an array in the arguments of a bean or List&lt;Bean&gt; from other bins Spring?","body":"<ol>\n<li>Create <code>@Autowired List&lt;Music&gt; musics</code>;</li>\n<li>Then somewhere create classes with <code>@Component</code> annotation that derived from Music class or return each one from a function using <code>@Bean</code> annotation.</li>\n</ol>\n<p>It will do a trick for you.</p>\n"}],"owner":{"account_id":21750229,"reputation":1,"user_id":16056314,"display_name":"Art"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658812940,"creation_date":1658810723,"question_id":73117837,"body_markdown":"&#39;I don&#39;t understand how to configure the Bin in such a way that it creates a Music Player from List&lt;&gt; of other bins.I know how to do it in Xml configuration, but I don&#39;t understand it through java annotations.    &#39;\r\n        \r\n```\r\n    package org;\r\n    import org.music.Music;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Scope;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import javax.annotation.PostConstruct;\r\n    import javax.annotation.PreDestroy;\r\n    import javax.annotation.Resource;\r\n    import java.util.List;\r\n    \r\n    @Component(&quot;musicPlayer&quot;)\r\n    @Scope(&quot;prototype&quot;)\r\n    public class MusicPlayer {\r\n        @Resource(name = &quot;theList&quot;)&#39;not sure what&#39;s right&#39;\r\n        private List&lt;Music&gt; musicList;\r\n        @Value(&quot;${musicPlayer.name}&quot;)\r\n        private String name;\r\n        @Value(&quot;${musicPlayer.volume}&quot;)\r\n        private int volume;\r\n    \r\n        public MusicPlayer(List&lt;Music&gt; list){\r\n            this.musicList = list;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public int getVolume() {\r\n            return volume;\r\n        }\r\n    \r\n        public void playMusic(){\r\n            for (Music music : musicList) {\r\n                System.out.println(&quot;Playing: &quot; + music.getSong());\r\n            }\r\n        }\r\n    \r\n        @PostConstruct\r\n        public void doMyInit(){\r\n            System.out.println(&quot;Open Stream&quot;);\r\n        }\r\n    \r\n        @PreDestroy\r\n        public void doMyDestroy(){\r\n            System.out.println(&quot;Close Stream&quot;);\r\n        }\r\n    }\r\n```\r\n        \r\n&#39;I didn&#39;t find anything on the Internet.&#39;","title":"how to put an array in the arguments of a bean or List&lt;Bean&gt; from other bins Spring?","body":"<p>'I don't understand how to configure the Bin in such a way that it creates a Music Player from List&lt;&gt; of other bins.I know how to do it in Xml configuration, but I don't understand it through java annotations.    '</p>\n<pre><code>    package org;\n    import org.music.Music;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.beans.factory.annotation.Value;\n    import org.springframework.context.annotation.Scope;\n    import org.springframework.stereotype.Component;\n    \n    import javax.annotation.PostConstruct;\n    import javax.annotation.PreDestroy;\n    import javax.annotation.Resource;\n    import java.util.List;\n    \n    @Component(&quot;musicPlayer&quot;)\n    @Scope(&quot;prototype&quot;)\n    public class MusicPlayer {\n        @Resource(name = &quot;theList&quot;)'not sure what's right'\n        private List&lt;Music&gt; musicList;\n        @Value(&quot;${musicPlayer.name}&quot;)\n        private String name;\n        @Value(&quot;${musicPlayer.volume}&quot;)\n        private int volume;\n    \n        public MusicPlayer(List&lt;Music&gt; list){\n            this.musicList = list;\n        }\n    \n        public String getName() {\n            return name;\n        }\n    \n        public int getVolume() {\n            return volume;\n        }\n    \n        public void playMusic(){\n            for (Music music : musicList) {\n                System.out.println(&quot;Playing: &quot; + music.getSong());\n            }\n        }\n    \n        @PostConstruct\n        public void doMyInit(){\n            System.out.println(&quot;Open Stream&quot;);\n        }\n    \n        @PreDestroy\n        public void doMyDestroy(){\n            System.out.println(&quot;Close Stream&quot;);\n        }\n    }\n</code></pre>\n<p>'I didn't find anything on the Internet.'</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":0,"creation_date":1557411881,"post_id":56061599,"comment_id":98763365,"body_markdown":"Did you try to import it as a regular java project? If no, what happens if you do so?","body":"Did you try to import it as a regular java project? If no, what happens if you do so?"},{"owner":{"account_id":1667052,"reputation":314,"user_id":1534252,"display_name":"gazzo"},"score":0,"creation_date":1557411947,"post_id":56061599,"comment_id":98763408,"body_markdown":"be sure to select the pom.xml file when you import the project.","body":"be sure to select the pom.xml file when you import the project."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1557412011,"post_id":56061599,"comment_id":98763446,"body_markdown":"When I import a pom.xml I get the standard Maven directory structure.  If you already have source code, you might try creating the project from existing sources and simply using the pom.xml.","body":"When I import a pom.xml I get the standard Maven directory structure.  If you already have source code, you might try creating the project from existing sources and simply using the pom.xml."},{"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"score":0,"creation_date":1557412016,"post_id":56061599,"comment_id":98763448,"body_markdown":"@gazzo Seems result is the same despite whether selecting the project dir or the pom.xml.","body":"@gazzo Seems result is the same despite whether selecting the project dir or the pom.xml."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1557412059,"post_id":56061599,"comment_id":98763467,"body_markdown":"Works fine in my IntelliJ 2018.3.  I don&#39;t know what you&#39;re doing wrong.","body":"Works fine in my IntelliJ 2018.3.  I don&#39;t know what you&#39;re doing wrong."},{"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"score":0,"creation_date":1557412149,"post_id":56061599,"comment_id":98763518,"body_markdown":"@lealceldeiro I have tried almost every provided way to import, the `src` dir just won&#39;t show ...","body":"@lealceldeiro I have tried almost every provided way to import, the <code>src</code> dir just won&#39;t show ..."},{"owner":{"account_id":1667052,"reputation":314,"user_id":1534252,"display_name":"gazzo"},"score":1,"creation_date":1557412267,"post_id":56061599,"comment_id":98763595,"body_markdown":"@EricWang what happens if you import with file -&gt; new -&gt; project from existing sources?","body":"@EricWang what happens if you import with file -&gt; new -&gt; project from existing sources?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1557412718,"post_id":56061599,"comment_id":98763872,"body_markdown":"Sure you&#39;re looking at the project view in the left panel?","body":"Sure you&#39;re looking at the project view in the left panel?"},{"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"score":0,"creation_date":1557413057,"post_id":56061599,"comment_id":98764044,"body_markdown":"@gazzo I just tried both way on another machine with `IDEA 2019.1` on the same maven project, both succeed. That machine is not at hand now, I will try it tomorrow again.","body":"@gazzo I just tried both way on another machine with <code>IDEA 2019.1</code> on the same maven project, both succeed. That machine is not at hand now, I will try it tomorrow again."},{"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"score":0,"creation_date":1557413088,"post_id":56061599,"comment_id":98764065,"body_markdown":"@duffymo Yes, `Alt + 1` opened the project view.","body":"@duffymo Yes, <code>Alt + 1</code> opened the project view."},{"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"score":0,"creation_date":1557469085,"post_id":56061599,"comment_id":98782315,"body_markdown":"@gazzo On the pc `IDEA 2019.1` works for the same project dir, while `IDEA 2018.3.2` still can&#39;t see the `src` dir.","body":"@gazzo On the pc <code>IDEA 2019.1</code> works for the same project dir, while <code>IDEA 2018.3.2</code> still can&#39;t see the <code>src</code> dir."}],"answers":[{"tags":[],"owner":{"account_id":3065469,"reputation":1545,"user_id":2597267,"display_name":"Borislav Markov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1557416147,"creation_date":1557414663,"answer_id":56062521,"question_id":56061599,"body_markdown":"First check if your intelliJ is collecting POM dependencies, on large projects it can go for hours. During collecting dependencies you will see no folders, but only root files.\r\n\r\nIf the above is not the case, right click on `white project area/Maven/Reimport`.\r\n\r\nIf you don&#39;t see it or that doesn&#39;t fix the problem, go to `File-&gt;Project Structure...` then choose `Modules` and check if you have duplicated modules and remove them.\r\n\r\n","title":"IDEA - after importing maven project, can&#39;t see source code","body":"<p>First check if your intelliJ is collecting POM dependencies, on large projects it can go for hours. During collecting dependencies you will see no folders, but only root files.</p>\n\n<p>If the above is not the case, right click on <code>white project area/Maven/Reimport</code>.</p>\n\n<p>If you don't see it or that doesn't fix the problem, go to <code>File-&gt;Project Structure...</code> then choose <code>Modules</code> and check if you have duplicated modules and remove them.</p>\n"},{"tags":[],"owner":{"account_id":16699326,"reputation":310,"user_id":12095780,"display_name":"Lysander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658812092,"creation_date":1658812092,"answer_id":73117974,"question_id":56061599,"body_markdown":"I&#39;ve addressed this problem by myself.\r\n\r\n\r\nI&#39;ve set up my IDEA using my previous setting backup, which therefore lead to the result that there are some legacy settings regarding maven and were imported by IDE. \r\nA reasonable inference is that this is a built-in bug. \r\n\r\nRestore the IDEA to default settings help address this problem. \r\n\r\nHappy coding &#129315;","title":"IDEA - after importing maven project, can&#39;t see source code","body":"<p>I've addressed this problem by myself.</p>\n<p>I've set up my IDEA using my previous setting backup, which therefore lead to the result that there are some legacy settings regarding maven and were imported by IDE.\nA reasonable inference is that this is a built-in bug.</p>\n<p>Restore the IDEA to default settings help address this problem.</p>\n<p>Happy coding ü§£</p>\n"}],"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":951,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56062521,"answer_count":2,"score":1,"last_activity_date":1658812092,"creation_date":1557411806,"question_id":56061599,"body_markdown":"Got a new pc, and trying to import an existing maven project into **IDEA** *(version 2018.3)*, with following steps:\r\n\r\n`import` -&gt; `import project from external model` -&gt; `maven`\r\n\r\nBut, after importing, there is no `src` dir, I have tried many times, each time delete `.idea/` before re-import.\r\n\r\nI remember it did work before, but not this time.\r\n\r\nAnd, I can compile the project successfully with `mvn compile`, also `Eclipse` could import it correctly.\r\n\r\nAny idea what&#39;s wrong, and how to fix it?\r\n","title":"IDEA - after importing maven project, can&#39;t see source code","body":"<p>Got a new pc, and trying to import an existing maven project into <strong>IDEA</strong> <em>(version 2018.3)</em>, with following steps:</p>\n\n<p><code>import</code> -> <code>import project from external model</code> -> <code>maven</code></p>\n\n<p>But, after importing, there is no <code>src</code> dir, I have tried many times, each time delete <code>.idea/</code> before re-import.</p>\n\n<p>I remember it did work before, but not this time.</p>\n\n<p>And, I can compile the project successfully with <code>mvn compile</code>, also <code>Eclipse</code> could import it correctly.</p>\n\n<p>Any idea what's wrong, and how to fix it?</p>\n"},{"tags":["java","activemq"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1658756406,"post_id":73106560,"comment_id":129123592,"body_markdown":"You&#39;ve added the `activemq-artemis` tag to your question, but the question appears to be only about ActiveMQ &quot;Classic&quot;. Can you clarify how ActiveMQ Artemis is involved here?","body":"You&#39;ve added the <code>activemq-artemis</code> tag to your question, but the question appears to be only about ActiveMQ &quot;Classic&quot;. Can you clarify how ActiveMQ Artemis is involved here?"}],"answers":[{"tags":[],"owner":{"account_id":8072204,"reputation":4156,"user_id":6084589,"display_name":"Matt Pavlovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658756601,"creation_date":1658756601,"answer_id":73110262,"question_id":73106560,"body_markdown":"Duplicate from store messages can occur when there is high contention on the queue-- usually from a large number of consumers with high prefetch and page size on the queue.\r\n\r\nThe broker is paging in messages as fast as possible for each consumer. The queue&#39;s dupe detection then filters these dupes out and pushes a copy to the DLQ as a way to inform you that you have contention. \r\n\r\nI added a new config flag in (5.17.x) that disables the messages from going to the DLQ and instead adds a counter so you are able to observe when this occurs. \r\n\r\nset: sendDuplicateFromStoreToDLQ=&quot;false&quot;\r\n\r\nIn 5.18.x, &quot;false&quot; will be the default value.\r\n\r\nThe &quot;fix&quot; is to lower the contention on the queue by tuning the consumer count + prefetch + pageSize settings settings so this occurs less frequently -- or (ideally) not at all","title":"How do automatically discard duplicate messages in activemq","body":"<p>Duplicate from store messages can occur when there is high contention on the queue-- usually from a large number of consumers with high prefetch and page size on the queue.</p>\n<p>The broker is paging in messages as fast as possible for each consumer. The queue's dupe detection then filters these dupes out and pushes a copy to the DLQ as a way to inform you that you have contention.</p>\n<p>I added a new config flag in (5.17.x) that disables the messages from going to the DLQ and instead adds a counter so you are able to observe when this occurs.</p>\n<p>set: sendDuplicateFromStoreToDLQ=&quot;false&quot;</p>\n<p>In 5.18.x, &quot;false&quot; will be the default value.</p>\n<p>The &quot;fix&quot; is to lower the contention on the queue by tuning the consumer count + prefetch + pageSize settings settings so this occurs less frequently -- or (ideally) not at all</p>\n"}],"owner":{"account_id":4844563,"reputation":603,"user_id":3908580,"accept_rate":28,"display_name":"Bhuvanesh Waran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658812039,"creation_date":1658739837,"question_id":73106560,"body_markdown":"I have a configuration in my activemq broker to not forward the messages to **.DLQ** queue.\r\n```\r\n       &lt;destinationPolicy&gt;\r\n            &lt;policyMap&gt;\r\n              &lt;policyEntries&gt;\r\n\t\t\t  &lt;policyEntry queue=&quot;&gt;&quot;&gt;\r\n\t\t\t\t&lt;!-- \r\n\t\t\t\t\tTell the dead letter strategy not to process expired messages\r\n\t\t\t\t\tso that they will just be discarded instead of being sent to\r\n\t\t\t\t\tthe DLQ \r\n\t\t\t\t--&gt;\r\n\t\t\t\t\t&lt;deadLetterStrategy&gt;\r\n\t\t\t\t\t\t&lt;sharedDeadLetterStrategy processExpired=&quot;false&quot; /&gt;\r\n\t\t\t\t\t&lt;/deadLetterStrategy&gt;\r\n\t\t\t\t&lt;/policyEntry&gt;\r\n              &lt;/policyEntries&gt;\r\n            &lt;/policyMap&gt;\r\n        &lt;/destinationPolicy&gt;\r\n```\r\n\r\nBut still am getting the messages to store in **.DLQ** queue.\r\n[![enter image description here][1]][1]\r\n\r\nWhen I tried to view the messages those stored in **.DLQ** I can see some additional attributes shows the below reason\r\n\r\n```dlqDeliveryFailureCause java.lang.Throwable: duplicate from store for queue://xxxxxx```\r\n\r\nIs there any way to discard the duplicate message to not send to **.DLQ** queue in **activemq**.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SCeLv.png","title":"How do automatically discard duplicate messages in activemq","body":"<p>I have a configuration in my activemq broker to not forward the messages to <strong>.DLQ</strong> queue.</p>\n<pre><code>       &lt;destinationPolicy&gt;\n            &lt;policyMap&gt;\n              &lt;policyEntries&gt;\n              &lt;policyEntry queue=&quot;&gt;&quot;&gt;\n                &lt;!-- \n                    Tell the dead letter strategy not to process expired messages\n                    so that they will just be discarded instead of being sent to\n                    the DLQ \n                --&gt;\n                    &lt;deadLetterStrategy&gt;\n                        &lt;sharedDeadLetterStrategy processExpired=&quot;false&quot; /&gt;\n                    &lt;/deadLetterStrategy&gt;\n                &lt;/policyEntry&gt;\n              &lt;/policyEntries&gt;\n            &lt;/policyMap&gt;\n        &lt;/destinationPolicy&gt;\n</code></pre>\n<p>But still am getting the messages to store in <strong>.DLQ</strong> queue.\n<a href=\"https://i.stack.imgur.com/SCeLv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SCeLv.png\" alt=\"enter image description here\" /></a></p>\n<p>When I tried to view the messages those stored in <strong>.DLQ</strong> I can see some additional attributes shows the below reason</p>\n<p><code>dlqDeliveryFailureCause java.lang.Throwable: duplicate from store for queue://xxxxxx</code></p>\n<p>Is there any way to discard the duplicate message to not send to <strong>.DLQ</strong> queue in <strong>activemq</strong>.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":424470,"reputation":693,"user_id":804486,"accept_rate":83,"display_name":"Krishna Prasad"},"score":0,"creation_date":1337238846,"post_id":10631235,"comment_id":13780189,"body_markdown":"you can resolve this problem by calling startActivtyForResult() other than startActivity() in all parent activities.","body":"you can resolve this problem by calling startActivtyForResult() other than startActivity() in all parent activities."},{"owner":{"account_id":268411,"reputation":6500,"user_id":557157,"accept_rate":81,"display_name":"silwar"},"score":0,"creation_date":1337238953,"post_id":10631235,"comment_id":13780206,"body_markdown":"Have you checked [http://stackoverflow.com/questions/2042222/close-application](http://stackoverflow.com/questions/2042222/close-application) and [http://stackoverflow.com/questions/3226495/android-exit-application-code](http://stackoverflow.com/questions/3226495/android-exit-application-code)?","body":"Have you checked <a href=\"http://stackoverflow.com/questions/2042222/close-application\">http://stackoverflow.com/questions/2042222/close-application</a> and <a href=\"http://stackoverflow.com/questions/3226495/android-exit-application-code\">http://stackoverflow.com/questions/3226495/android-exit-appl&zwnj;&#8203;ication-code</a>?"},{"owner":{"account_id":375603,"reputation":2803,"user_id":726547,"accept_rate":60,"display_name":"Hassy31"},"score":0,"creation_date":1337239378,"post_id":10631235,"comment_id":13780311,"body_markdown":"hope these threads helps you\r\n\r\nhttp://stackoverflow.com/questions/3105673/android-how-to-kill-an-application-with-all-its-activities\r\n\r\nhttp://stackoverflow.com/questions/6014028/closing-application-with-exit-button","body":"hope these threads helps you    <a href=\"http://stackoverflow.com/questions/3105673/android-how-to-kill-an-application-with-all-its-activities\" title=\"android how to kill an application with all its activities\">stackoverflow.com/questions/3105673/&hellip;</a>    <a href=\"http://stackoverflow.com/questions/6014028/closing-application-with-exit-button\" title=\"closing application with exit button\">stackoverflow.com/questions/6014028/&hellip;</a>"},{"owner":{"account_id":400233,"reputation":4413,"user_id":766108,"accept_rate":82,"display_name":"Avi Kumar"},"score":0,"creation_date":1337240519,"post_id":10631235,"comment_id":13780606,"body_markdown":"here what is  your main activity the very first activity of application or the last activity of application which you quit","body":"here what is  your main activity the very first activity of application or the last activity of application which you quit"}],"answers":[{"tags":[],"owner":{"account_id":1036572,"reputation":8785,"user_id":1043683,"accept_rate":78,"display_name":"Mayank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337238350,"creation_date":1337238350,"answer_id":10631334,"question_id":10631235,"body_markdown":"calling [Move to Back][1] will hide your application. you shouldn&#39;t call `System.exit(0);`\r\n\r\n\r\n  [1]: http://developer.android.com/intl/fr/reference/android/app/Activity.html#moveTaskToBack%28boolean%29\r\n\r\nIt&#39;s always better to rely on Android OS to decide when a app needs to be killed. ","title":"How to exit the whole application by clicking one created button?","body":"<p>calling <a href=\"http://developer.android.com/intl/fr/reference/android/app/Activity.html#moveTaskToBack%28boolean%29\" rel=\"nofollow\">Move to Back</a> will hide your application. you shouldn't call <code>System.exit(0);</code></p>\n\n<p>It's always better to rely on Android OS to decide when a app needs to be killed. </p>\n"},{"tags":[],"owner":{"account_id":1059429,"reputation":164,"user_id":1061362,"accept_rate":50,"display_name":"Srikanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337240738,"creation_date":1337240738,"answer_id":10631743,"question_id":10631235,"body_markdown":"Find the below code for close the application.Firstly clear the activity stack and using flag then use finish() method. \r\n\r\n     Intent intent = new Intent(getApplicationContext(), FinishActivity.class).setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n\t\t\t\tfinish();\r\n\t\t\t\tstartActivity(intent);\r\nIn FinishActivity class in onCreate() jest simply write finish() method\r\n\r\n\r\n    public class FinishActivity extends Activity {\r\n\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n    \tsuper.onCreate(savedInstanceState);\r\n    \tfinish();\r\n\t}\r\n}","title":"How to exit the whole application by clicking one created button?","body":"<p>Find the below code for close the application.Firstly clear the activity stack and using flag then use finish() method. </p>\n\n<pre><code> Intent intent = new Intent(getApplicationContext(), FinishActivity.class).setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n            finish();\n            startActivity(intent);\n</code></pre>\n\n<p>In FinishActivity class in onCreate() jest simply write finish() method</p>\n\n<pre><code>public class FinishActivity extends Activity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    finish();\n}\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":1487167,"reputation":509,"user_id":1395147,"accept_rate":54,"display_name":"Android_Rookie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2499,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1658810290,"answer_count":2,"score":1,"last_activity_date":1658810316,"creation_date":1337237895,"question_id":10631235,"body_markdown":"I am creating a button in my apps and by clicking this button, all the states will be saved and user will exit the whole application. When user re-click on the apps, he/she should be brought to the main activity. I have tried using finish() and System.exit(0) but both of these functions are just ending the current activity and bring me to the previous activity... how can i achieve this? thanks.","title":"How to exit the whole application by clicking one created button?","body":"<p>I am creating a button in my apps and by clicking this button, all the states will be saved and user will exit the whole application. When user re-click on the apps, he/she should be brought to the main activity. I have tried using finish() and System.exit(0) but both of these functions are just ending the current activity and bring me to the previous activity... how can i achieve this? thanks.</p>\n"},{"tags":["java","logstash","exe"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1658810583,"post_id":73117771,"comment_id":129137475,"body_markdown":"That error is typically an issue with paths, as indicated by the error it is only looking at `\\logstash-8.3.2\\jdk\\bin\\java.exe` the part of the path after the `)`. Try moving or installing the JDK to a file path that does not have parenthesis `(` or `)`","body":"That error is typically an issue with paths, as indicated by the error it is only looking at <code>\\logstash-8.3.2\\jdk\\bin\\java.exe</code> the part of the path after the <code>)</code>. Try moving or installing the JDK to a file path that does not have parenthesis <code>(</code> or <code>)</code>"},{"owner":{"account_id":19804566,"reputation":21,"user_id":14504763,"display_name":"rejDev"},"score":0,"creation_date":1658825570,"post_id":73117771,"comment_id":129141733,"body_markdown":"Thanks, My Issued has been fixed, when I removed parenthesis from the path.","body":"Thanks, My Issued has been fixed, when I removed parenthesis from the path."}],"owner":{"account_id":19804566,"reputation":21,"user_id":14504763,"display_name":"rejDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1658810140,"creation_date":1658809976,"question_id":73117771,"body_markdown":"My Java environment is like this\r\n\r\n - java version &quot;11.0.14&quot; 2022-01-18 LTS\r\n - Java(TM) SE Runtime Environment 18.9 (build 11.0.14+8-LTS-263)\r\n - Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.14+8-LTS-263, mixed mode)\r\n\r\nI also created LS_JAVA_HOME in System Variable\r\n\r\nWhen I try to run logstash -f logstash.conf comment in cmd below error comes,\r\n\r\nD:\\Testing\\2022\\ELK (elastic logstash kibana)\\logstash-8.3.2\\bin&gt;logstash -f logstash.conf\r\n\r\n**\\logstash-8.3.2\\jdk\\bin\\java.exe was unexpected at this time.**\r\n\r\nPlease anyone can help me to solve this issue....\r\n","title":"how to solve java.exe was unexpected at this time when run logstash-8.3.2","body":"<p>My Java environment is like this</p>\n<ul>\n<li>java version &quot;11.0.14&quot; 2022-01-18 LTS</li>\n<li>Java(TM) SE Runtime Environment 18.9 (build 11.0.14+8-LTS-263)</li>\n<li>Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.14+8-LTS-263, mixed mode)</li>\n</ul>\n<p>I also created LS_JAVA_HOME in System Variable</p>\n<p>When I try to run logstash -f logstash.conf comment in cmd below error comes,</p>\n<p>D:\\Testing\\2022\\ELK (elastic logstash kibana)\\logstash-8.3.2\\bin&gt;logstash -f logstash.conf</p>\n<p><strong>\\logstash-8.3.2\\jdk\\bin\\java.exe was unexpected at this time.</strong></p>\n<p>Please anyone can help me to solve this issue....</p>\n"},{"tags":["java","android","html","string","fromhtml"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1658766021,"post_id":73112380,"comment_id":129127768,"body_markdown":"You can use the `HtmlCompat.fromHtml` api to handle spans.","body":"You can use the <code>HtmlCompat.fromHtml</code> api to handle spans."},{"owner":{"account_id":19223398,"reputation":200,"user_id":14046751,"display_name":"android dev"},"score":0,"creation_date":1658769250,"post_id":73112380,"comment_id":129128863,"body_markdown":"SpannableString ss = new SpannableString(HtmlCompat.fromHtml (text); @DarShan i tried this but it doesnt worked :(","body":"SpannableString ss = new SpannableString(HtmlCompat.fromHtml (text); @DarShan i tried this but it doesnt worked :("},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1658814886,"post_id":73112380,"comment_id":129138172,"body_markdown":"You should directly use `normalpost_text.setText(HtmlCompat.fromHtml(text, flag))`","body":"You should directly use <code>normalpost_text.setText(HtmlCompat.fromHtml(text, flag))</code>"}],"owner":{"account_id":19223398,"reputation":200,"user_id":14046751,"display_name":"android dev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658809986,"creation_date":1658765781,"question_id":73112380,"body_markdown":"hi in my string im getting `&lt;br &gt;` after using spannable string \r\n\r\nmy text is `hi&lt;br /&gt;@dry12 &lt;br /&gt;&lt;br /&gt;hi all&lt;br /&gt;&lt;br /&gt;@akjhv`\r\n\r\nhere is my code\r\n\r\n     SpannableString ss = new SpannableString(text);\r\n                        for (int i = 0; i &lt; model.getMentionedUsernames().size(); i++) {\r\n                            if (text.contains(model.getMentionedUsernames().get(i))) {\r\n                                String usernameinList = model.getMentionedUsernames().get(i);\r\n                                int startIndex = text.indexOf(model.getMentionedUsernames().get(i));\r\n                                int endIndex = startIndex + model.getMentionedUsernames().get(i).length();\r\n                                ss.setSpan(getClickableSpan(&quot;usernameRedirect&quot;,&quot;&quot;,usernameinList), startIndex - 1, endIndex, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n                            }\r\n                        }\r\n                     \r\n        normalpost_text.setText(ss);\r\n        normalpost_text.setMovementMethod(LinkMovementMethod.getInstance());\r\n        normalpost_text.setHighlightColor(Color.TRANSPARENT);\r\n\r\n\r\n\r\ni tried html.fromHtml also but it also didnt work\r\n\r\nabove code output is `hi&lt;br /&gt;@dry12 &lt;br /&gt;&lt;br /&gt;hi all&lt;br /&gt;&lt;br /&gt;@akjhv` (showing proper linkable and clikable functionality) but showing br tags thats an issue\r\n\r\nneed help \r\n\r\nthanks in advance\r\n\r\n","title":"Android : spannablestring shows HTML tags issue","body":"<p>hi in my string im getting <code>&lt;br &gt;</code> after using spannable string</p>\n<p>my text is <code>hi&lt;br /&gt;@dry12 &lt;br /&gt;&lt;br /&gt;hi all&lt;br /&gt;&lt;br /&gt;@akjhv</code></p>\n<p>here is my code</p>\n<pre><code> SpannableString ss = new SpannableString(text);\n                    for (int i = 0; i &lt; model.getMentionedUsernames().size(); i++) {\n                        if (text.contains(model.getMentionedUsernames().get(i))) {\n                            String usernameinList = model.getMentionedUsernames().get(i);\n                            int startIndex = text.indexOf(model.getMentionedUsernames().get(i));\n                            int endIndex = startIndex + model.getMentionedUsernames().get(i).length();\n                            ss.setSpan(getClickableSpan(&quot;usernameRedirect&quot;,&quot;&quot;,usernameinList), startIndex - 1, endIndex, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n                        }\n                    }\n                 \n    normalpost_text.setText(ss);\n    normalpost_text.setMovementMethod(LinkMovementMethod.getInstance());\n    normalpost_text.setHighlightColor(Color.TRANSPARENT);\n</code></pre>\n<p>i tried html.fromHtml also but it also didnt work</p>\n<p>above code output is <code>hi&lt;br /&gt;@dry12 &lt;br /&gt;&lt;br /&gt;hi all&lt;br /&gt;&lt;br /&gt;@akjhv</code> (showing proper linkable and clikable functionality) but showing br tags thats an issue</p>\n<p>need help</p>\n<p>thanks in advance</p>\n"},{"tags":["java","spring-boot","spring-security","spring-security-oauth2","google-signin"],"answers":[{"tags":[],"owner":{"account_id":7454353,"reputation":361,"user_id":5668044,"display_name":"≈Åukasz Wo≈∫niak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587451192,"creation_date":1587451192,"answer_id":61337381,"question_id":61336284,"body_markdown":"I encountered a similar problem and I used the pac4j library. It has many implementations [pac4j.org][1]\r\n\r\n\r\n  [1]: https://www.pac4j.org/implementations.html","title":"How I can extend my form login to Google Sign in (OAuth2) in Spring Boot, JPA, Spring Security","body":"<p>I encountered a similar problem and I used the pac4j library. It has many implementations <a href=\"https://www.pac4j.org/implementations.html\" rel=\"nofollow noreferrer\">pac4j.org</a></p>\n"}],"owner":{"account_id":10940819,"reputation":81,"user_id":8040747,"display_name":"Subhendu Mondal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658808905,"creation_date":1587445350,"question_id":61336284,"body_markdown":"I have an app which already running in Spring Boot with Spring Security conventional login using user name and Password. The table looks like (id, username, password, enable). And some resources are linked with login user id, for example, a book entity( which is mapped with user id).\r\n\r\nNow I need to implement sign in with google option. Here My question is can we have them (Normal Login + Google Sign in) both in this scenario without changing the core app, apart from security-related things.\r\n\r\nMy Idea is if someone chooses google sign in, after google authentication I will create the user to my user table ( in this case what can be in the password field, do I need to add another flag column?) and log in with this user. Means an Extra layer to match normal login. \r\n\r\nMy question is how I can achieve that. I have tried many blogs but did not understand much. Any help?\r\n\r\nThanks in advance.","title":"How I can extend my form login to Google Sign in (OAuth2) in Spring Boot, JPA, Spring Security","body":"<p>I have an app which already running in Spring Boot with Spring Security conventional login using user name and Password. The table looks like (id, username, password, enable). And some resources are linked with login user id, for example, a book entity( which is mapped with user id).</p>\n\n<p>Now I need to implement sign in with google option. Here My question is can we have them (Normal Login + Google Sign in) both in this scenario without changing the core app, apart from security-related things.</p>\n\n<p>My Idea is if someone chooses google sign in, after google authentication I will create the user to my user table ( in this case what can be in the password field, do I need to add another flag column?) and log in with this user. Means an Extra layer to match normal login. </p>\n\n<p>My question is how I can achieve that. I have tried many blogs but did not understand much. Any help?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658808602,"creation_date":1658808602,"answer_id":73117638,"question_id":73107886,"body_markdown":"because -D JVM param is limited to the gradle JVM only, it will NOT be auto passed to the `javaexec` that has been created manually with specific args.\r\n\r\nyou have add `jvmArgs = [&#39;-Dbrowser=&#39;+System.getProperty(&#39;browser&#39;)]`  \r\nsee https://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html","title":"How to pass system properties from gradle to JVM?","body":"<p>because -D JVM param is limited to the gradle JVM only, it will NOT be auto passed to the <code>javaexec</code> that has been created manually with specific args.</p>\n<p>you have add <code>jvmArgs = ['-Dbrowser='+System.getProperty('browser')]</code><br />\nsee <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html</a></p>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658808602,"creation_date":1658745739,"question_id":73107886,"body_markdown":"I try to use SystemProperties in the testing project, but can&#39;t get any in the code.\r\n\r\nThe CLI command:\r\n```\r\ngradle uitests -Dbrowser=chrome\r\n```\r\n\r\nProject structure:\r\n\r\n```\r\nmy-app/\r\n‚îú‚îÄ src/\r\n‚îÇ  ‚îú‚îÄ test/\r\n‚îÇ  ‚îÇ  ‚îú‚îÄ java/\r\n‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ LoginTest.java\r\n‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ BaseTest.java\r\n‚îÇ  ‚îÇ  ‚îú‚îÄ resources/\r\n‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ login.feature\r\n‚îú‚îÄbuild.gradle\r\n```\r\n- build.gradle:\r\n\r\n```groovy\r\ntasks.withType(Test){\r\n    systemProperty &#39;browser&#39;, System.getProperty(&#39;browser&#39;)\r\n    println systemProperties.get(&#39;browser&#39;) &lt;------------------------(1)\r\n}\r\n\r\ntask uitests() {\r\n    dependsOn assemble, testClasses\r\n    doLast {\r\n        javaexec {\r\n            main = &quot;io.cucumber.core.cli.Main&quot;\r\n            classpath = configurations.cucumberRuntime + sourceSets.main.output + sourceSets.test.output\r\n            args = [\r\n                    &#39;--plugin&#39;, &#39;pretty&#39;,\r\n                    &#39;--plugin&#39;, &#39;html:target/cucumber-report.html&#39;,\r\n                    &#39;--glue&#39;, myproject.steps&#39;,\r\n                    &#39;src/test/resources/scenarios&#39;]\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nSo, line (1) printed the correct parameter that I need, but when I try to get this parameter in the code with `System.getProperty(&quot;browser&quot;);` I get `null`\r\n\r\n\r\n","title":"How to pass system properties from gradle to JVM?","body":"<p>I try to use SystemProperties in the testing project, but can't get any in the code.</p>\n<p>The CLI command:</p>\n<pre><code>gradle uitests -Dbrowser=chrome\n</code></pre>\n<p>Project structure:</p>\n<pre><code>my-app/\n‚îú‚îÄ src/\n‚îÇ  ‚îú‚îÄ test/\n‚îÇ  ‚îÇ  ‚îú‚îÄ java/\n‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ LoginTest.java\n‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ BaseTest.java\n‚îÇ  ‚îÇ  ‚îú‚îÄ resources/\n‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ login.feature\n‚îú‚îÄbuild.gradle\n</code></pre>\n<ul>\n<li>build.gradle:</li>\n</ul>\n<pre><code>tasks.withType(Test){\n    systemProperty 'browser', System.getProperty('browser')\n    println systemProperties.get('browser') &lt;------------------------(1)\n}\n\ntask uitests() {\n    dependsOn assemble, testClasses\n    doLast {\n        javaexec {\n            main = &quot;io.cucumber.core.cli.Main&quot;\n            classpath = configurations.cucumberRuntime + sourceSets.main.output + sourceSets.test.output\n            args = [\n                    '--plugin', 'pretty',\n                    '--plugin', 'html:target/cucumber-report.html',\n                    '--glue', myproject.steps',\n                    'src/test/resources/scenarios']\n        }\n    }\n}\n\n</code></pre>\n<p>So, line (1) printed the correct parameter that I need, but when I try to get this parameter in the code with <code>System.getProperty(&quot;browser&quot;);</code> I get <code>null</code></p>\n"},{"tags":["java","schema","aws-glue"],"answers":[{"tags":[],"owner":{"account_id":130857,"reputation":186,"user_id":330429,"accept_rate":40,"display_name":"blacktooth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658808265,"creation_date":1658808265,"answer_id":73117612,"question_id":69200763,"body_markdown":"You can use the AWS Glue SDK for Java to interact with Glue Schema Registry APIs. [Ref](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/glue/GlueClient.html).","title":"AWS Glue Schema Registry Java Client to register, update versions of the schemas","body":"<p>You can use the AWS Glue SDK for Java to interact with Glue Schema Registry APIs. <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/glue/GlueClient.html\" rel=\"nofollow noreferrer\">Ref</a>.</p>\n"}],"owner":{"account_id":982652,"reputation":303,"user_id":1001982,"accept_rate":82,"display_name":"Anvesh Raavi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658808265,"creation_date":1631748444,"question_id":69200763,"body_markdown":"Does AWS Java SDK provide any means to interact with Glue schema registry? I am looking for methods such as registering a schema, updating the version of already registered schema, deleting schema. I know aws provides Python library method as mentioned [here](https://docs.aws.amazon.com/glue/latest/dg/aws-glue-api-schema-registry-api.html#aws-glue-api-schema-registry-api-CreateRegistry  &quot;aws glue schema registry api&quot; )\r\n\r\nI am looking for Java ways to interact with registry. Similar to [Spring Cloud Schema Registry](https://docs.spring.io/spring-cloud-schema-registry/docs/1.1.3-SNAPSHOT/reference/html/spring-cloud-schema-registry.html#_schema_registry_client  &quot;Spring Cloud Schema registry documentation&quot;)\r\n\r\nAWS Glues also provides [endpoints](https://docs.aws.amazon.com/general/latest/gr/glue.html  &quot;aws glue end points&quot;) but I am not sure if they let me interact with glue schema registry. \r\n\r\n[This SO question](https://stackoverflow.com/questions/65930551/using-aws-glue-schema-registry-with-confluent-serde-clients  &quot;Stackoverflow question&quot;) suggests to follow the [examples provided by aws](https://github.com/awslabs/aws-glue-schema-registry  &quot;aws glue schema registry examples by aws&quot;) but I am looking specifically for ways to interact with AWS Glue Schema registry using Java\r\n\r\nWould it be better to wrap Java code around python based API provided by AWS ? \r\n\r\nAny thoughts or guidance is much appreciated.\r\n\r\nThanks","title":"AWS Glue Schema Registry Java Client to register, update versions of the schemas","body":"<p>Does AWS Java SDK provide any means to interact with Glue schema registry? I am looking for methods such as registering a schema, updating the version of already registered schema, deleting schema. I know aws provides Python library method as mentioned <a href=\"https://docs.aws.amazon.com/glue/latest/dg/aws-glue-api-schema-registry-api.html#aws-glue-api-schema-registry-api-CreateRegistry\" rel=\"nofollow noreferrer\" title=\"aws glue schema registry api\">here</a></p>\n<p>I am looking for Java ways to interact with registry. Similar to <a href=\"https://docs.spring.io/spring-cloud-schema-registry/docs/1.1.3-SNAPSHOT/reference/html/spring-cloud-schema-registry.html#_schema_registry_client\" rel=\"nofollow noreferrer\" title=\"Spring Cloud Schema registry documentation\">Spring Cloud Schema Registry</a></p>\n<p>AWS Glues also provides <a href=\"https://docs.aws.amazon.com/general/latest/gr/glue.html\" rel=\"nofollow noreferrer\" title=\"aws glue end points\">endpoints</a> but I am not sure if they let me interact with glue schema registry.</p>\n<p><a href=\"https://stackoverflow.com/questions/65930551/using-aws-glue-schema-registry-with-confluent-serde-clients\" title=\"Stackoverflow question\">This SO question</a> suggests to follow the <a href=\"https://github.com/awslabs/aws-glue-schema-registry\" rel=\"nofollow noreferrer\" title=\"aws glue schema registry examples by aws\">examples provided by aws</a> but I am looking specifically for ways to interact with AWS Glue Schema registry using Java</p>\n<p>Would it be better to wrap Java code around python based API provided by AWS ?</p>\n<p>Any thoughts or guidance is much appreciated.</p>\n<p>Thanks</p>\n"},{"tags":["java","sockets","timeout","netty"],"answers":[{"tags":[],"owner":{"account_id":3771850,"reputation":1,"user_id":3133792,"display_name":"budairenqin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620642966,"creation_date":1389165526,"answer_id":20989287,"question_id":20986477,"body_markdown":"SO_TIMEOUT is set by java.net.ServerSocket (OIO/BIO)\r\nCONNECT_TIMEOUT_MILLIS is set by Netty(NIO)\r\n\r\n`io.netty.channel.nio.AbstractNioChannel`:\r\n```\r\n        @Override\r\n        public void connect(\r\n                final SocketAddress remoteAddress, final SocketAddress localAddress, final ChannelPromise promise) {\r\n            // ...\r\n\r\n            try {\r\n                // ...\r\n                if (doConnect(remoteAddress, localAddress)) {\r\n                    fulfillConnectPromise(promise, wasActive);\r\n                } else {\r\n                    // ...\r\n                    int connectTimeoutMillis = config().getConnectTimeoutMillis();\r\n                    if (connectTimeoutMillis &gt; 0) {\r\n                        connectTimeoutFuture = eventLoop().schedule(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                ChannelPromise connectPromise = AbstractNioChannel.this.connectPromise;\r\n                                ConnectTimeoutException cause =\r\n                                        new ConnectTimeoutException(&quot;connection timed out: &quot; + remoteAddress);\r\n                                if (connectPromise != null &amp;&amp; connectPromise.tryFailure(cause)) {\r\n                                    close(voidPromise());\r\n                                }\r\n                            }\r\n                        }, connectTimeoutMillis, TimeUnit.MILLISECONDS);\r\n                    }\r\n\r\n                    // ...\r\n        }\r\n```","title":"What does SO_TIMEOUT and CONNECT_TIMEOUT_MILLIS means in Netty&#39;s ChannelOption?","body":"<p>SO_TIMEOUT is set by java.net.ServerSocket (OIO/BIO)\nCONNECT_TIMEOUT_MILLIS is set by Netty(NIO)</p>\n<p><code>io.netty.channel.nio.AbstractNioChannel</code>:</p>\n<pre><code>        @Override\n        public void connect(\n                final SocketAddress remoteAddress, final SocketAddress localAddress, final ChannelPromise promise) {\n            // ...\n\n            try {\n                // ...\n                if (doConnect(remoteAddress, localAddress)) {\n                    fulfillConnectPromise(promise, wasActive);\n                } else {\n                    // ...\n                    int connectTimeoutMillis = config().getConnectTimeoutMillis();\n                    if (connectTimeoutMillis &gt; 0) {\n                        connectTimeoutFuture = eventLoop().schedule(new Runnable() {\n                            @Override\n                            public void run() {\n                                ChannelPromise connectPromise = AbstractNioChannel.this.connectPromise;\n                                ConnectTimeoutException cause =\n                                        new ConnectTimeoutException(&quot;connection timed out: &quot; + remoteAddress);\n                                if (connectPromise != null &amp;&amp; connectPromise.tryFailure(cause)) {\n                                    close(voidPromise());\n                                }\n                            }\n                        }, connectTimeoutMillis, TimeUnit.MILLISECONDS);\n                    }\n\n                    // ...\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":540828,"reputation":236,"user_id":909155,"display_name":"Jian Jin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1658807952,"creation_date":1389238140,"answer_id":21011120,"question_id":20986477,"body_markdown":" - `CONNECT_TIMEOUT_MILLIS` means *timeout* value to setup a\r\n   *connection*, this timeout is supported by Netty.\r\n\r\n \r\n\r\n - `SO_TIMEOUT` is option for *socket*, it will impact:  \r\n    | `ServerSocket.accept();`  \r\n    | `SocketInputStream.read()`  \r\n    | `DatagramSocket.receive()`\r\n\r\nFor more details please check: http://docs.oracle.com/javase/1.5.0/docs/api/java/net/SocketOptions.html#SO_TIMEOUT \r\n\r\nIf you just want to control *request timeout*, you could try Netty&#39;s `ReadTimeoutHandler` or `IdleTimeoutHandler`.","title":"What does SO_TIMEOUT and CONNECT_TIMEOUT_MILLIS means in Netty&#39;s ChannelOption?","body":"<ul>\n<li><p><code>CONNECT_TIMEOUT_MILLIS</code> means <em>timeout</em> value to setup a\n<em>connection</em>, this timeout is supported by Netty.</p>\n</li>\n<li><p><code>SO_TIMEOUT</code> is option for <em>socket</em>, it will impact:<br />\n| <code>ServerSocket.accept();</code><br />\n| <code>SocketInputStream.read()</code><br />\n| <code>DatagramSocket.receive()</code></p>\n</li>\n</ul>\n<p>For more details please check: <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/net/SocketOptions.html#SO_TIMEOUT\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/1.5.0/docs/api/java/net/SocketOptions.html#SO_TIMEOUT</a></p>\n<p>If you just want to control <em>request timeout</em>, you could try Netty's <code>ReadTimeoutHandler</code> or <code>IdleTimeoutHandler</code>.</p>\n"}],"owner":{"account_id":3765131,"reputation":141,"user_id":3128841,"display_name":"BabyDuncan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13886,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":2,"score":12,"last_activity_date":1658807952,"creation_date":1389151750,"question_id":20986477,"body_markdown":"What does `SO_TIMEOUT` and `CONNECT_TIMEOUT_MILLIS` mean and what is the difference between them?\r\n\r\nI have found that: many request cost 3.004s and my handler always cost 0.003s or 0.004s and I set the `SO_TIMEOUT` to 3000 , is there a relationship among them?\r\n\r\nI think `SO_TIMEOUT` means that when a response is not send in `SO_TIMEOUT time`, send this response immediately. Is this correct? ","title":"What does SO_TIMEOUT and CONNECT_TIMEOUT_MILLIS means in Netty&#39;s ChannelOption?","body":"<p>What does <code>SO_TIMEOUT</code> and <code>CONNECT_TIMEOUT_MILLIS</code> mean and what is the difference between them?</p>\n\n<p>I have found that: many request cost 3.004s and my handler always cost 0.003s or 0.004s and I set the <code>SO_TIMEOUT</code> to 3000 , is there a relationship among them?</p>\n\n<p>I think <code>SO_TIMEOUT</code> means that when a response is not send in <code>SO_TIMEOUT time</code>, send this response immediately. Is this correct? </p>\n"},{"tags":["java","sockets"],"answers":[{"tags":[],"owner":{"account_id":67336,"reputation":2870,"user_id":197091,"display_name":"Jim Morris"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1361992194,"creation_date":1302598663,"answer_id":5632711,"question_id":5632279,"body_markdown":"What you show is a timeout for the connection, this will timeout if it cannot connect within a certain time.\r\n\r\nYour question implies you want a timeout for when you are already connected and send a request, you want to timeout if there is no response within a certain amount of time.\r\n\r\nPresuming you mean the latter, then you need to timeout the `socket.read()` which can be done by setting `SO_TIMEOUT` with the [Socket.setSoTimeout(int timeout)][1] method. This will throw an exception if the read takes longer than the number of milliseconds specified.  For example:\r\n\r\n    this.socket.setSoTimeout(timeOut);\r\n\r\nAn alternative method is to do the read in a thread, and then wait on the thread with a timeout and close the socket if it timesout.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/net/Socket.html#setSoTimeout%28int%29","title":"How to set timeout on client socket connection?","body":"<p>What you show is a timeout for the connection, this will timeout if it cannot connect within a certain time.</p>\n\n<p>Your question implies you want a timeout for when you are already connected and send a request, you want to timeout if there is no response within a certain amount of time.</p>\n\n<p>Presuming you mean the latter, then you need to timeout the <code>socket.read()</code> which can be done by setting <code>SO_TIMEOUT</code> with the <a href=\"http://download.oracle.com/javase/6/docs/api/java/net/Socket.html#setSoTimeout%28int%29\">Socket.setSoTimeout(int timeout)</a> method. This will throw an exception if the read takes longer than the number of milliseconds specified.  For example:</p>\n\n<pre><code>this.socket.setSoTimeout(timeOut);\n</code></pre>\n\n<p>An alternative method is to do the read in a thread, and then wait on the thread with a timeout and close the socket if it timesout.</p>\n"},{"tags":[],"owner":{"account_id":1116592,"reputation":2160,"user_id":1105785,"accept_rate":77,"display_name":"xyz"},"down_vote_count":2,"up_vote_count":65,"is_accepted":false,"score":63,"last_activity_date":1658806991,"creation_date":1327642070,"answer_id":9029329,"question_id":5632279,"body_markdown":"You can try the follwoing:     \r\n\r\n    Socket client = new Socket();   \r\n    client.connect(new InetSocketAddress(hostip, port_num), connection_time_out); ","title":"How to set timeout on client socket connection?","body":"<p>You can try the follwoing:</p>\n<pre><code>Socket client = new Socket();   \nclient.connect(new InetSocketAddress(hostip, port_num), connection_time_out); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":171971,"reputation":2682,"user_id":399711,"display_name":"anisbet"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1370535830,"creation_date":1370535830,"answer_id":16967273,"question_id":5632279,"body_markdown":"To put the whole thing together:\r\n\r\n    Socket socket = new Socket();\r\n    // This limits the time allowed to establish a connection in the case\r\n    // that the connection is refused or server doesn&#39;t exist.\r\n    socket.connect(new InetSocketAddress(host, port), timeout);\r\n    // This stops the request from dragging on after connection succeeds.\r\n    socket.setSoTimeout(timeout);","title":"How to set timeout on client socket connection?","body":"<p>To put the whole thing together:</p>\n\n<pre><code>Socket socket = new Socket();\n// This limits the time allowed to establish a connection in the case\n// that the connection is refused or server doesn't exist.\nsocket.connect(new InetSocketAddress(host, port), timeout);\n// This stops the request from dragging on after connection succeeds.\nsocket.setSoTimeout(timeout);\n</code></pre>\n"}],"owner":{"account_id":735354,"reputation":899,"user_id":692155,"accept_rate":0,"display_name":"Vardhaman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99575,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"answer_count":3,"score":44,"last_activity_date":1658806991,"creation_date":1302596275,"question_id":5632279,"body_markdown":"I am trying to set the timeout of a connection on the client socket in Java. I have set the *connection timeout* to 2000 milliseconds, i.e:\r\n\r\n    this.socket.connect(this.socketAdd, timeOut);\r\n\r\nThis I am trying on a web application. When a user makes a request, I am passing values to socket server, but if I don&#39;t receive any response in 5 secs the socket should disconnect.\r\n\r\nBut in my case the whole request is getting submitted once again. Can any one please tell me where am I going wrong?\r\n\r\nI want to cut the socket connection, if I don&#39;t get any response in 5 secs. How can I set it? Any sample code would help.\r\n","title":"How to set timeout on client socket connection?","body":"<p>I am trying to set the timeout of a connection on the client socket in Java. I have set the <em>connection timeout</em> to 2000 milliseconds, i.e:</p>\n<pre><code>this.socket.connect(this.socketAdd, timeOut);\n</code></pre>\n<p>This I am trying on a web application. When a user makes a request, I am passing values to socket server, but if I don't receive any response in 5 secs the socket should disconnect.</p>\n<p>But in my case the whole request is getting submitted once again. Can any one please tell me where am I going wrong?</p>\n<p>I want to cut the socket connection, if I don't get any response in 5 secs. How can I set it? Any sample code would help.</p>\n"},{"tags":["java","selenium","selenium-webdriver","cucumber","microsoft-edge"],"comments":[{"owner":{"account_id":15924350,"reputation":11775,"user_id":11490347,"display_name":"Yu Zhou"},"score":0,"creation_date":1658814923,"post_id":73106420,"comment_id":129138180,"body_markdown":"Could you please provide a minimal code snippet which can reproduce the issue? I test with selenium server 4.3.0 and Edge version 103.0.1264.71, it works well. But my Java version is newer which is 1.8.0_341. It would be better that you upgrade your Java and Edge to the latest version and test again.","body":"Could you please provide a minimal code snippet which can reproduce the issue? I test with selenium server 4.3.0 and Edge version 103.0.1264.71, it works well. But my Java version is newer which is 1.8.0_341. It would be better that you upgrade your Java and Edge to the latest version and test again."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658741187,"creation_date":1658739940,"answer_id":73106580,"question_id":73106420,"body_markdown":"Use the latest [Selenium](https://stackoverflow.com/a/54482491/7429447) dependency:\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t    &lt;version&gt;4.3.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nAdditionally ensure that _JDK_ is upgraded to current levels [JDK 8u331](https://www.oracle.com/java/technologies/javase/javase8u211-later-archive-downloads.html).","title":"Compatible Microsoft EDGE version for latest selenium webdriver","body":"<p>Use the latest <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> dependency:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;4.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Additionally ensure that <em>JDK</em> is upgraded to current levels <a href=\"https://www.oracle.com/java/technologies/javase/javase8u211-later-archive-downloads.html\" rel=\"nofollow noreferrer\">JDK 8u331</a>.</p>\n"},{"tags":[],"owner":{"account_id":11808091,"reputation":17,"user_id":10274957,"display_name":"Deepak Jindal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658805100,"creation_date":1658805100,"answer_id":73117352,"question_id":73106420,"body_markdown":"Try folowing:- \r\n\r\n            &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n                &lt;version&gt;4.3.0&lt;/version&gt;\r\n            &lt;/dependency\r\n        &lt;!--\r\n    \r\n    https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nThen try this:- \r\n\r\n    String browserName = &quot;EDGE&quot;;\r\n    //String chromeProfilePath = prop.getProperty(&quot;ChromeCookies&quot;); //Use cookies\r\n    \r\n    if(browserName.equals(&quot;chrome&quot;)){\r\n    \tWebDriverManager.chromedriver().setup();\r\n            ChromeOptions options = new ChromeOptions();\r\n            options.addArguments(&quot;start-maximized&quot;);\r\n            //options.addArguments(&quot;chrome.switches&quot;, &quot;--disable-extensions&quot;);\r\n            //options.addArguments(&quot;user-data-dir=&quot; + chromeProfilePath);\r\n            //options.addArguments(&quot;--headless&quot;);\r\n            //options.addArguments(&quot;--disable-gpu&quot;);\r\n            options.setExperimentalOption(&quot;excludeSwitches&quot;,Collections.singletonList(&quot;enable-automation&quot;));    \r\n            contr0l = new ChromeDriver(options);\r\n    }\r\n    else if (browserName.equals(&quot;Edge&quot;)) {\r\n    \tWebDriverManager.edgedriver().setup();\r\n    \tcontr0l = new EdgeDriver();\r\n    }\r\n    else if (browserName.equals(&quot;Firefox&quot;)) {\r\n    \tWebDriverManager.firefoxdriver().setup();\r\n    \tcontr0l = new FirefoxDriver();\r\n    }\r\n    else if (browserName.equals(&quot;Safari&quot;)) {\r\n    \tWebDriverManager.safaridriver().setup();\r\n    \tcontr0l = new SafariDriver();\r\n    }\r\n\r\n","title":"Compatible Microsoft EDGE version for latest selenium webdriver","body":"<p>Try folowing:-</p>\n<pre><code>        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.3.0&lt;/version&gt;\n        &lt;/dependency\n    &lt;!--\n\nhttps://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n        &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n        &lt;version&gt;5.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Then try this:-</p>\n<pre><code>String browserName = &quot;EDGE&quot;;\n//String chromeProfilePath = prop.getProperty(&quot;ChromeCookies&quot;); //Use cookies\n\nif(browserName.equals(&quot;chrome&quot;)){\n    WebDriverManager.chromedriver().setup();\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;start-maximized&quot;);\n        //options.addArguments(&quot;chrome.switches&quot;, &quot;--disable-extensions&quot;);\n        //options.addArguments(&quot;user-data-dir=&quot; + chromeProfilePath);\n        //options.addArguments(&quot;--headless&quot;);\n        //options.addArguments(&quot;--disable-gpu&quot;);\n        options.setExperimentalOption(&quot;excludeSwitches&quot;,Collections.singletonList(&quot;enable-automation&quot;));    \n        contr0l = new ChromeDriver(options);\n}\nelse if (browserName.equals(&quot;Edge&quot;)) {\n    WebDriverManager.edgedriver().setup();\n    contr0l = new EdgeDriver();\n}\nelse if (browserName.equals(&quot;Firefox&quot;)) {\n    WebDriverManager.firefoxdriver().setup();\n    contr0l = new FirefoxDriver();\n}\nelse if (browserName.equals(&quot;Safari&quot;)) {\n    WebDriverManager.safaridriver().setup();\n    contr0l = new SafariDriver();\n}\n</code></pre>\n"}],"owner":{"account_id":1687705,"reputation":1106,"user_id":1550643,"accept_rate":51,"display_name":"Little bird"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1034,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658805100,"creation_date":1658739138,"question_id":73106420,"body_markdown":"Currently I&#39;m using:\r\n\r\n    &lt;selenium.version&gt;4.0.0-alpha-5&lt;/selenium.version&gt; \r\n\r\nfor Microsoft EDGE browser version _103.0.1264.62 (64 bit)_ and all my automation scripts are working perfectly . \r\nWhen i&#39;m updating the selenium version with latest one i.e _4.3.0_ then scripts are started failing: \r\n```\r\nINFO: Detected upstream dialect: W3C\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\r\nBuild info: version: &#39;4.3.0&#39;, revision: &#39;a4995e2c09*&#39;\r\nSystem info: host: &#39;LHT6626355535&#39;, ip: &#39;10.98.11.998&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_261&#39;\r\nDriver info: org.openqa.selenium.edge.EdgeDriver\r\nCommand: [null, newSession {capabilities=[Capabilities {browserName: MicrosoftEdge, ms:edgeOptions: {args: [], extensions: []}}], desiredCapabilities=Capabilities {browserName: MicrosoftEdge, ms:edgeOptions: {args: [], extensions: []}}}]\r\nNAME IS :Validate the Member Details Page Header section First Column Data Validation 2022.07.25.14.13.28.png\r\njava.lang.NullPointerException\r\nREGRESSION_MEMBER_DETAILS_SECTION\r\nFile created Screenshots\\Results\r\nAn exception occured while taking screenshot null\r\nScreenshot Captured\r\n\tat com.optum.taskTracker.ui.stepDefinitions.Hooks.tearDown(Hooks.java:282)\r\n```","title":"Compatible Microsoft EDGE version for latest selenium webdriver","body":"<p>Currently I'm using:</p>\n<pre><code>&lt;selenium.version&gt;4.0.0-alpha-5&lt;/selenium.version&gt; \n</code></pre>\n<p>for Microsoft EDGE browser version <em>103.0.1264.62 (64 bit)</em> and all my automation scripts are working perfectly .\nWhen i'm updating the selenium version with latest one i.e <em>4.3.0</em> then scripts are started failing:</p>\n<pre><code>INFO: Detected upstream dialect: W3C\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\nBuild info: version: '4.3.0', revision: 'a4995e2c09*'\nSystem info: host: 'LHT6626355535', ip: '10.98.11.998', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_261'\nDriver info: org.openqa.selenium.edge.EdgeDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: MicrosoftEdge, ms:edgeOptions: {args: [], extensions: []}}], desiredCapabilities=Capabilities {browserName: MicrosoftEdge, ms:edgeOptions: {args: [], extensions: []}}}]\nNAME IS :Validate the Member Details Page Header section First Column Data Validation 2022.07.25.14.13.28.png\njava.lang.NullPointerException\nREGRESSION_MEMBER_DETAILS_SECTION\nFile created Screenshots\\Results\nAn exception occured while taking screenshot null\nScreenshot Captured\n    at com.optum.taskTracker.ui.stepDefinitions.Hooks.tearDown(Hooks.java:282)\n</code></pre>\n"},{"tags":["java","android","android-layout","android-recyclerview","nullpointerexception"],"comments":[{"owner":{"account_id":20094764,"reputation":2497,"user_id":14734532,"display_name":"DrHowdyDoo"},"score":0,"creation_date":1658332400,"post_id":73033647,"comment_id":129027276,"body_markdown":"make your ImageView and TextView public in your `CurrencyViewholder` in `CurrencyRVApdapter`","body":"make your ImageView and TextView public in your <code>CurrencyViewholder</code> in <code>CurrencyRVApdapter</code>"}],"answers":[{"tags":[],"owner":{"account_id":12182831,"reputation":57,"user_id":8893783,"display_name":"Sangita Elango"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658804316,"creation_date":1658804316,"answer_id":73117279,"question_id":73033647,"body_markdown":"\r\n        View view = LayoutInflater.from(context).inflate(R.layout.crypto_card_layout , parent, false);\r\n\r\nTry setting LayoutInflater.from(parent.getContext()) instead of LayoutInflater.from(context)","title":"Recycler view android studioAttempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference","body":"<pre><code>    View view = LayoutInflater.from(context).inflate(R.layout.crypto_card_layout , parent, false);\n</code></pre>\n<p>Try setting LayoutInflater.from(parent.getContext()) instead of LayoutInflater.from(context)</p>\n"}],"owner":{"account_id":21447325,"reputation":33,"user_id":15800558,"display_name":"Sarimm Chaudhry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658804316,"creation_date":1658219425,"question_id":73033647,"body_markdown":"I am creating an app called Pricepointcrypto in which when a certain crypto currencies of your intersenst hit you budget range then you will get notfied say you wanted to buy Bitcoin 15,000 the stock market hits that you will get notfied, in this app i need to display crypto currencies and their rates and i am using coinmarket cap API for in adroid studio with java. i have already created the request and response functionalty in java and it does work on the backewnd but i have a layout issue on the rcyler view when it tries top render then when we want to setText it says its null \r\n\r\nHere is the error i get:  \r\n\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void \r\n    android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference\r\n\r\n\r\nI am just stuck on this part i have tried numerous tests so if someone could help it would be really helpfull \r\n\r\nThanks!\r\n\r\nHere is the Code: \r\n\r\n**Main Acitivty.java**\r\n\r\n    package com.example.pricepointcrypto;\r\n\r\n    import android.os.Bundle;\r\n    import android.text.Editable;\r\n    import android.text.TextWatcher;\r\n    import android.view.View;\r\n    import android.widget.EditText;\r\n    import android.widget.ProgressBar;\r\n    import android.widget.Toast;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n\r\n    import com.android.volley.Request;\r\n    import com.android.volley.RequestQueue;\r\n    import com.android.volley.toolbox.JsonObjectRequest;\r\n    import com.android.volley.toolbox.Volley;\r\n\r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private ArrayList&lt;CurrencyModal&gt; currencyModalArrayList;\r\n    private CurrencyRVAdapter currencyRVAdapter;\r\n    private ProgressBar loadingPB;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        EditText searchEdt = findViewById(R.id.idEdtCurrency);\r\n\r\n        // initializing all our variables and array list.\r\n        loadingPB = findViewById(R.id.idPBLoading);\r\n        // creating variable for recycler view,\r\n        // adapter, array list, progress bar\r\n        RecyclerView currencyRV = findViewById(R.id.idRVcurrency);\r\n        currencyModalArrayList = new ArrayList&lt;&gt;();\r\n\r\n        // initializing our adapter class.\r\n        currencyRVAdapter = new CurrencyRVAdapter(currencyModalArrayList, this);\r\n\r\n        // setting layout manager to recycler view.\r\n        currencyRV.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        // setting adapter to recycler view.\r\n        currencyRV.setAdapter(currencyRVAdapter);\r\n\r\n        // calling get data method to get data from API.\r\n        getData();\r\n\r\n        // on below line we are adding text watcher for our\r\n        // edit text to check the data entered in edittext.\r\n        searchEdt.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n                // on below line calling a\r\n                // method to filter our array list\r\n                filter(s.toString());\r\n            }\r\n        });\r\n    }\r\n\r\n    private void filter(String filter) {\r\n        // on below line we are creating a new array list\r\n        // for storing our filtered data.\r\n        ArrayList&lt;CurrencyModal&gt; filteredlist = new ArrayList&lt;&gt;();\r\n        // running a for loop to search the data from our array list.\r\n        for (CurrencyModal item : currencyModalArrayList) {\r\n            // on below line we are getting the item which are\r\n            // filtered and adding it to filtered list.\r\n            if (item.getName().toLowerCase().contains(filter.toLowerCase())) {\r\n                filteredlist.add(item);\r\n            }\r\n        }\r\n        // on below line we are checking\r\n        // weather the list is empty or not.\r\n        if (filteredlist.isEmpty()) {\r\n            // if list is empty we are displaying a toast message.\r\n            Toast.makeText(this, &quot;No currency found..&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            // on below line we are calling a filter\r\n            // list method to filter our list.\r\n            currencyRVAdapter.filterList(filteredlist);\r\n        }\r\n    }\r\n\r\n    private void getData() {\r\n        // creating a variable for storing our string.\r\n        String url = &quot;https://pro-api.coinmarketcap.com/v1/cryptocurrency/listings/latest&quot;;\r\n        // creating a variable for request queue.\r\n        RequestQueue queue = Volley.newRequestQueue(this);\r\n        // making a json object request to fetch data from API.\r\n        JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, url, null,          \r\n    response -&gt; {\r\n            // inside on response method extracting data\r\n            // from response and passing it to array list\r\n            // on below line we are making our progress\r\n            // bar visibility to gone.\r\n            loadingPB.setVisibility(View.GONE);\r\n            try {\r\n                // extracting data from json.\r\n                JSONArray dataArray = response.getJSONArray(&quot;data&quot;);\r\n                for (int i = 0; i &lt; dataArray.length(); i++) {\r\n                    JSONObject dataObj = dataArray.getJSONObject(i);\r\n                    String symbol = dataObj.getString(&quot;symbol&quot;);\r\n                    String name = dataObj.getString(&quot;name&quot;);\r\n                    JSONObject quote = dataObj.getJSONObject(&quot;quote&quot;);\r\n                    JSONObject USD = quote.getJSONObject(&quot;USD&quot;);\r\n                    double price = USD.getDouble(&quot;price&quot;);\r\n\r\n                    String finalName = &quot;&quot;+name+&quot; - &quot;+symbol+&quot;&quot;;\r\n\r\n                    // adding all data to our array list.\r\n                    currencyModalArrayList.add(new CurrencyModal(finalName, \r\n     R.drawable.ic_launcher_foreground, price));\r\n                }\r\n                // notifying adapter on data change.\r\n                currencyRVAdapter.notifyDataSetChanged();\r\n            } catch (JSONException e) {\r\n                // handling json exception.\r\n                e.printStackTrace();\r\n                Toast.makeText(MainActivity.this, &quot;Something went amiss. Please try again later&quot;, \r\n    Toast.LENGTH_SHORT).show();\r\n            }\r\n        }, error -&gt; {\r\n            // displaying error response when received any error.\r\n            Toast.makeText(MainActivity.this, &quot;Something went amiss. Please try again later&quot;, \r\n    Toast.LENGTH_SHORT).show();\r\n        }) {\r\n            @Override\r\n            public Map&lt;String, String&gt; getHeaders() {\r\n                // in this method passing headers as\r\n                // key along with value as API keys.\r\n                HashMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n                headers.put(&quot;X-CMC_PRO_API_KEY&quot;, &quot;106d7841-b282-4c8c-aa0f-d53509398468&quot;);\r\n                // at last returning headers\r\n                return headers;\r\n            }\r\n        };\r\n        // calling a method to add our\r\n        // json object request to our queue.\r\n        queue.add(jsonObjectRequest);\r\n    }\r\n    }\r\n\r\n\r\n**activity_main.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/blac_shade_1&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;!--edit text for searching our currency--&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/idEdtCurrency&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;8dp&quot;\r\n        android:focusable=&quot;auto&quot;\r\n        android:hint=&quot;Search Currency&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textColorHint=&quot;@color/white&quot; /&gt;\r\n\r\n    &lt;!--recycler view for displaying the list of currencies--&gt;\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/idRVcurrency&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_below=&quot;@id/idEdtCurrency&quot;\r\n        tools:listitem=&quot;@layout/crypto_card_layout&quot; /&gt;\r\n\r\n    &lt;!--progress bar for loading indicator--&gt;\r\n    &lt;ProgressBar\r\n        android:id=&quot;@+id/idPBLoading&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:visibility=&quot;gone&quot; /&gt;\r\n\r\n       &lt;/RelativeLayout&gt;\r\n\r\n\r\n**CurrencyRVApdapter**\r\n\r\n    package com.example.pricepointcrypto;\r\n\r\n    import android.annotation.SuppressLint;\r\n    import android.content.Context;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n\r\n    import java.text.DecimalFormat;\r\n    import java.util.ArrayList;\r\n\r\n    // on below line we are creating our adapter class\r\n    // in this class we are passing our array list\r\n    // and our View Holder class which we have created.\r\n    public class CurrencyRVAdapter extends \r\n    RecyclerView.Adapter&lt;CurrencyRVAdapter.CurrencyViewholder&gt; {\r\n    private static DecimalFormat df2 = new DecimalFormat(&quot;#.##&quot;);\r\n    private ArrayList&lt;CurrencyModal&gt; currencyModals;\r\n    private Context context;\r\n\r\n    public CurrencyRVAdapter(ArrayList&lt;CurrencyModal&gt; currencyModals, Context context) {\r\n        this.currencyModals = currencyModals;\r\n        this.context = context;\r\n    }\r\n\r\n    // below is the method to filter our list.\r\n    public void filterList(ArrayList&lt;CurrencyModal&gt; filterllist) {\r\n        // adding filtered list to our\r\n        // array list and notifying data set changed\r\n        currencyModals = filterllist;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public CurrencyRVAdapter.CurrencyViewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        // this method is use to inflate the layout file\r\n        // which we have created for our recycler view.\r\n        // on below line we are inflating our layout file.\r\n        View view = LayoutInflater.from(context).inflate(R.layout.crypto_card_layout , parent, false);\r\n        return new CurrencyViewholder(view);\r\n    }\r\n\r\n    @SuppressLint(&quot;SetTextI18n&quot;)\r\n    @Override\r\n    public void onBindViewHolder(@NonNull CurrencyRVAdapter.CurrencyViewholder holder, int position) {\r\n        // on below line we are setting data to our item of\r\n        // recycler view and all its views.\r\n\r\n        CurrencyModal modal = currencyModals.get(position);\r\n\r\n\r\n\r\n        holder.nameTV.setText(modal.getName());\r\n        holder.rateTV.setText(&quot;$ &quot; + df2.format(modal.getPrice()) + &quot; USD&quot;);\r\n        holder.symbolTV.setImageResource(modal.getSymbol());\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        // on below line we are returning\r\n        // the size of our array list.\r\n        return currencyModals.size();\r\n    }\r\n\r\n    // on below line we are creating our view holder class\r\n    // which will be used to initialize each view of our layout file.\r\n    public class CurrencyViewholder extends RecyclerView.ViewHolder {\r\n        private ImageView symbolTV;\r\n        private TextView rateTV, nameTV;\r\n\r\n        public CurrencyViewholder(@NonNull View itemView) {\r\n            super(itemView);\r\n            // on below line we are initializing all\r\n            // our text views along with its ids.\r\n\r\n            symbolTV = itemView.findViewById(R.id.currency_logo);\r\n            rateTV = itemView.findViewById(R.id.currency_Rate);\r\n            nameTV = itemView.findViewById(R.id.currency_name);\r\n\r\n        }\r\n\r\n     }\r\n     }\r\n\r\n\r\n**CurrencyModal**\r\n\r\n    package com.example.pricepointcrypto;\r\n\r\n    public class CurrencyModal {\r\n    // variable for currency name,\r\n    // currency symbol and price.\r\n    private String name;\r\n    private int symbol;\r\n    private double price;\r\n\r\n    public CurrencyModal(String name, int symbol, double price) {\r\n        this.name = name;\r\n        this.symbol = symbol;\r\n        this.price = price;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public int getSymbol() {\r\n        return symbol;\r\n    }\r\n\r\n    public void setSymbol(int symbol) {\r\n        this.symbol = symbol;\r\n    }\r\n\r\n    public double getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(double price) {\r\n        this.price = price;\r\n    }\r\n    }\r\n\r\n\r\n**crypto_card_layout.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:orientation=&quot;vertical&quot; android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    &gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/currency_card&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        card_view:cardBackgroundColor=&quot;#03A9F4&quot;\r\n        card_view:cardCornerRadius=&quot;20dp&quot;\r\n        card_view:cardElevation=&quot;5dp&quot;\r\n        card_view:cardUseCompatPadding=&quot;true&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/currency_logo&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;5dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:src=&quot;@drawable/ic_launcher_foreground&quot;\r\n                android:tag=&quot;image_tag&quot;\r\n                android:contentDescription=&quot;@string/currencylogo&quot; /&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;12dp&quot;\r\n                android:layout_weight=&quot;2&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/currency_name&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;start|center_horizontal&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:fontFamily=&quot;casual&quot;\r\n                    android:text=&quot;Currency Name&quot;\r\n                    android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;\r\n                    android:textColor=&quot;#FFEB3B&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/currency_Rate&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;start|center_horizontal&quot;\r\n                    android:layout_marginTop=&quot;0dp&quot;\r\n                    android:fontFamily=&quot;@font/stick&quot;\r\n                    android:text=&quot;Current Rate: &quot;\r\n                    android:textAppearance=&quot;?android:attr/textAppearanceMedium&quot;\r\n                    android:textColor=&quot;#FFFFFF&quot;\r\n                    android:textColorHighlight=&quot;#FFFFFF&quot;\r\n                    android:textStyle=&quot;bold|italic&quot; /&gt;\r\n\r\n\r\n            &lt;/LinearLayout&gt;\r\n            &lt;/LinearLayout&gt;\r\n\r\n       &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n      &lt;/LinearLayout&gt;\r\n\r\n","title":"Recycler view android studioAttempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference","body":"<p>I am creating an app called Pricepointcrypto in which when a certain crypto currencies of your intersenst hit you budget range then you will get notfied say you wanted to buy Bitcoin 15,000 the stock market hits that you will get notfied, in this app i need to display crypto currencies and their rates and i am using coinmarket cap API for in adroid studio with java. i have already created the request and response functionalty in java and it does work on the backewnd but i have a layout issue on the rcyler view when it tries top render then when we want to setText it says its null</p>\n<p>Here is the error i get:</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'void \nandroid.widget.TextView.setText(java.lang.CharSequence)' on a null object reference\n</code></pre>\n<p>I am just stuck on this part i have tried numerous tests so if someone could help it would be really helpfull</p>\n<p>Thanks!</p>\n<p>Here is the Code:</p>\n<p><strong>Main Acitivty.java</strong></p>\n<pre><code>package com.example.pricepointcrypto;\n\nimport android.os.Bundle;\nimport android.text.Editable;\nimport android.text.TextWatcher;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.ProgressBar;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.android.volley.Request;\nimport com.android.volley.RequestQueue;\nimport com.android.volley.toolbox.JsonObjectRequest;\nimport com.android.volley.toolbox.Volley;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class MainActivity extends AppCompatActivity {\n\nprivate ArrayList&lt;CurrencyModal&gt; currencyModalArrayList;\nprivate CurrencyRVAdapter currencyRVAdapter;\nprivate ProgressBar loadingPB;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    EditText searchEdt = findViewById(R.id.idEdtCurrency);\n\n    // initializing all our variables and array list.\n    loadingPB = findViewById(R.id.idPBLoading);\n    // creating variable for recycler view,\n    // adapter, array list, progress bar\n    RecyclerView currencyRV = findViewById(R.id.idRVcurrency);\n    currencyModalArrayList = new ArrayList&lt;&gt;();\n\n    // initializing our adapter class.\n    currencyRVAdapter = new CurrencyRVAdapter(currencyModalArrayList, this);\n\n    // setting layout manager to recycler view.\n    currencyRV.setLayoutManager(new LinearLayoutManager(this));\n\n    // setting adapter to recycler view.\n    currencyRV.setAdapter(currencyRVAdapter);\n\n    // calling get data method to get data from API.\n    getData();\n\n    // on below line we are adding text watcher for our\n    // edit text to check the data entered in edittext.\n    searchEdt.addTextChangedListener(new TextWatcher() {\n        @Override\n        public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n\n        }\n\n        @Override\n        public void onTextChanged(CharSequence s, int start, int before, int count) {\n\n        }\n\n        @Override\n        public void afterTextChanged(Editable s) {\n            // on below line calling a\n            // method to filter our array list\n            filter(s.toString());\n        }\n    });\n}\n\nprivate void filter(String filter) {\n    // on below line we are creating a new array list\n    // for storing our filtered data.\n    ArrayList&lt;CurrencyModal&gt; filteredlist = new ArrayList&lt;&gt;();\n    // running a for loop to search the data from our array list.\n    for (CurrencyModal item : currencyModalArrayList) {\n        // on below line we are getting the item which are\n        // filtered and adding it to filtered list.\n        if (item.getName().toLowerCase().contains(filter.toLowerCase())) {\n            filteredlist.add(item);\n        }\n    }\n    // on below line we are checking\n    // weather the list is empty or not.\n    if (filteredlist.isEmpty()) {\n        // if list is empty we are displaying a toast message.\n        Toast.makeText(this, &quot;No currency found..&quot;, Toast.LENGTH_SHORT).show();\n    } else {\n        // on below line we are calling a filter\n        // list method to filter our list.\n        currencyRVAdapter.filterList(filteredlist);\n    }\n}\n\nprivate void getData() {\n    // creating a variable for storing our string.\n    String url = &quot;https://pro-api.coinmarketcap.com/v1/cryptocurrency/listings/latest&quot;;\n    // creating a variable for request queue.\n    RequestQueue queue = Volley.newRequestQueue(this);\n    // making a json object request to fetch data from API.\n    JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, url, null,          \nresponse -&gt; {\n        // inside on response method extracting data\n        // from response and passing it to array list\n        // on below line we are making our progress\n        // bar visibility to gone.\n        loadingPB.setVisibility(View.GONE);\n        try {\n            // extracting data from json.\n            JSONArray dataArray = response.getJSONArray(&quot;data&quot;);\n            for (int i = 0; i &lt; dataArray.length(); i++) {\n                JSONObject dataObj = dataArray.getJSONObject(i);\n                String symbol = dataObj.getString(&quot;symbol&quot;);\n                String name = dataObj.getString(&quot;name&quot;);\n                JSONObject quote = dataObj.getJSONObject(&quot;quote&quot;);\n                JSONObject USD = quote.getJSONObject(&quot;USD&quot;);\n                double price = USD.getDouble(&quot;price&quot;);\n\n                String finalName = &quot;&quot;+name+&quot; - &quot;+symbol+&quot;&quot;;\n\n                // adding all data to our array list.\n                currencyModalArrayList.add(new CurrencyModal(finalName, \n R.drawable.ic_launcher_foreground, price));\n            }\n            // notifying adapter on data change.\n            currencyRVAdapter.notifyDataSetChanged();\n        } catch (JSONException e) {\n            // handling json exception.\n            e.printStackTrace();\n            Toast.makeText(MainActivity.this, &quot;Something went amiss. Please try again later&quot;, \nToast.LENGTH_SHORT).show();\n        }\n    }, error -&gt; {\n        // displaying error response when received any error.\n        Toast.makeText(MainActivity.this, &quot;Something went amiss. Please try again later&quot;, \nToast.LENGTH_SHORT).show();\n    }) {\n        @Override\n        public Map&lt;String, String&gt; getHeaders() {\n            // in this method passing headers as\n            // key along with value as API keys.\n            HashMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n            headers.put(&quot;X-CMC_PRO_API_KEY&quot;, &quot;106d7841-b282-4c8c-aa0f-d53509398468&quot;);\n            // at last returning headers\n            return headers;\n        }\n    };\n    // calling a method to add our\n    // json object request to our queue.\n    queue.add(jsonObjectRequest);\n}\n}\n</code></pre>\n<p><strong>activity_main.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:background=&quot;@color/blac_shade_1&quot;\ntools:context=&quot;.MainActivity&quot;&gt;\n\n&lt;!--edit text for searching our currency--&gt;\n&lt;EditText\n    android:id=&quot;@+id/idEdtCurrency&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_margin=&quot;8dp&quot;\n    android:focusable=&quot;auto&quot;\n    android:hint=&quot;Search Currency&quot;\n    android:textColor=&quot;@color/white&quot;\n    android:textColorHint=&quot;@color/white&quot; /&gt;\n\n&lt;!--recycler view for displaying the list of currencies--&gt;\n&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=&quot;@+id/idRVcurrency&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_below=&quot;@id/idEdtCurrency&quot;\n    tools:listitem=&quot;@layout/crypto_card_layout&quot; /&gt;\n\n&lt;!--progress bar for loading indicator--&gt;\n&lt;ProgressBar\n    android:id=&quot;@+id/idPBLoading&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_centerInParent=&quot;true&quot;\n    android:visibility=&quot;gone&quot; /&gt;\n\n   &lt;/RelativeLayout&gt;\n</code></pre>\n<p><strong>CurrencyRVApdapter</strong></p>\n<pre><code>package com.example.pricepointcrypto;\n\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.text.DecimalFormat;\nimport java.util.ArrayList;\n\n// on below line we are creating our adapter class\n// in this class we are passing our array list\n// and our View Holder class which we have created.\npublic class CurrencyRVAdapter extends \nRecyclerView.Adapter&lt;CurrencyRVAdapter.CurrencyViewholder&gt; {\nprivate static DecimalFormat df2 = new DecimalFormat(&quot;#.##&quot;);\nprivate ArrayList&lt;CurrencyModal&gt; currencyModals;\nprivate Context context;\n\npublic CurrencyRVAdapter(ArrayList&lt;CurrencyModal&gt; currencyModals, Context context) {\n    this.currencyModals = currencyModals;\n    this.context = context;\n}\n\n// below is the method to filter our list.\npublic void filterList(ArrayList&lt;CurrencyModal&gt; filterllist) {\n    // adding filtered list to our\n    // array list and notifying data set changed\n    currencyModals = filterllist;\n    notifyDataSetChanged();\n}\n\n@NonNull\n@Override\npublic CurrencyRVAdapter.CurrencyViewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    // this method is use to inflate the layout file\n    // which we have created for our recycler view.\n    // on below line we are inflating our layout file.\n    View view = LayoutInflater.from(context).inflate(R.layout.crypto_card_layout , parent, false);\n    return new CurrencyViewholder(view);\n}\n\n@SuppressLint(&quot;SetTextI18n&quot;)\n@Override\npublic void onBindViewHolder(@NonNull CurrencyRVAdapter.CurrencyViewholder holder, int position) {\n    // on below line we are setting data to our item of\n    // recycler view and all its views.\n\n    CurrencyModal modal = currencyModals.get(position);\n\n\n\n    holder.nameTV.setText(modal.getName());\n    holder.rateTV.setText(&quot;$ &quot; + df2.format(modal.getPrice()) + &quot; USD&quot;);\n    holder.symbolTV.setImageResource(modal.getSymbol());\n\n}\n\n@Override\npublic int getItemCount() {\n    // on below line we are returning\n    // the size of our array list.\n    return currencyModals.size();\n}\n\n// on below line we are creating our view holder class\n// which will be used to initialize each view of our layout file.\npublic class CurrencyViewholder extends RecyclerView.ViewHolder {\n    private ImageView symbolTV;\n    private TextView rateTV, nameTV;\n\n    public CurrencyViewholder(@NonNull View itemView) {\n        super(itemView);\n        // on below line we are initializing all\n        // our text views along with its ids.\n\n        symbolTV = itemView.findViewById(R.id.currency_logo);\n        rateTV = itemView.findViewById(R.id.currency_Rate);\n        nameTV = itemView.findViewById(R.id.currency_name);\n\n    }\n\n }\n }\n</code></pre>\n<p><strong>CurrencyModal</strong></p>\n<pre><code>package com.example.pricepointcrypto;\n\npublic class CurrencyModal {\n// variable for currency name,\n// currency symbol and price.\nprivate String name;\nprivate int symbol;\nprivate double price;\n\npublic CurrencyModal(String name, int symbol, double price) {\n    this.name = name;\n    this.symbol = symbol;\n    this.price = price;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic int getSymbol() {\n    return symbol;\n}\n\npublic void setSymbol(int symbol) {\n    this.symbol = symbol;\n}\n\npublic double getPrice() {\n    return price;\n}\n\npublic void setPrice(double price) {\n    this.price = price;\n}\n}\n</code></pre>\n<p><strong>crypto_card_layout.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:orientation=&quot;vertical&quot; android:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\n&gt;\n\n&lt;androidx.cardview.widget.CardView\n    android:id=&quot;@+id/currency_card&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    card_view:cardBackgroundColor=&quot;#03A9F4&quot;\n    card_view:cardCornerRadius=&quot;20dp&quot;\n    card_view:cardElevation=&quot;5dp&quot;\n    card_view:cardUseCompatPadding=&quot;true&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/currency_logo&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;5dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:src=&quot;@drawable/ic_launcher_foreground&quot;\n            android:tag=&quot;image_tag&quot;\n            android:contentDescription=&quot;@string/currencylogo&quot; /&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;12dp&quot;\n            android:layout_weight=&quot;2&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/currency_name&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;start|center_horizontal&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:fontFamily=&quot;casual&quot;\n                android:text=&quot;Currency Name&quot;\n                android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;\n                android:textColor=&quot;#FFEB3B&quot;\n                android:textStyle=&quot;bold&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/currency_Rate&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;start|center_horizontal&quot;\n                android:layout_marginTop=&quot;0dp&quot;\n                android:fontFamily=&quot;@font/stick&quot;\n                android:text=&quot;Current Rate: &quot;\n                android:textAppearance=&quot;?android:attr/textAppearanceMedium&quot;\n                android:textColor=&quot;#FFFFFF&quot;\n                android:textColorHighlight=&quot;#FFFFFF&quot;\n                android:textStyle=&quot;bold|italic&quot; /&gt;\n\n\n        &lt;/LinearLayout&gt;\n        &lt;/LinearLayout&gt;\n\n   &lt;/androidx.cardview.widget.CardView&gt;\n\n  &lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","reactjs","rest","spring-boot","axios"],"comments":[{"owner":{"account_id":16863033,"reputation":181,"user_id":12193386,"display_name":"btnhawk"},"score":0,"creation_date":1581070853,"post_id":60111117,"comment_id":106315371,"body_markdown":"Are the files huge? In what format are the files sent? Could you add .catch((err) =&gt; { console.log(err.message) }) after the .then() and tell when it says or maybe show browser&#39;s debugger network result for that post? Have you tried sending the file as binary (string) and then compile at backend? JSON.stringify the file seems weird.","body":"Are the files huge? In what format are the files sent? Could you add .catch((err) =&gt; { console.log(err.message) }) after the .then() and tell when it says or maybe show browser&#39;s debugger network result for that post? Have you tried sending the file as binary (string) and then compile at backend? JSON.stringify the file seems weird."},{"owner":{"account_id":9182825,"reputation":434,"user_id":6826107,"accept_rate":0,"display_name":"cumibulat"},"score":0,"creation_date":1581072632,"post_id":60111117,"comment_id":106316390,"body_markdown":"Sorry, yes it&#39;s not proper to JSON.stringify the attachment. I have changed the code to use formdata. And it throwing another error.","body":"Sorry, yes it&#39;s not proper to JSON.stringify the attachment. I have changed the code to use formdata. And it throwing another error."}],"answers":[{"tags":[],"owner":{"account_id":14797102,"reputation":310,"user_id":10686479,"display_name":"Rafat Rashid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581071118,"creation_date":1581071118,"answer_id":60111512,"question_id":60111117,"body_markdown":"You cant JSON stringify files. As far as I know in order to upload files through http you must post the data as form data. [This link&#39;s][1] answer shows how to post formdata in axios. Your java end is probably already configured for form data input.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/47630163/axios-post-request-to-send-form-data","title":"react + spring boot upload file and form data","body":"<p>You cant JSON stringify files. As far as I know in order to upload files through http you must post the data as form data. <a href=\"https://stackoverflow.com/questions/47630163/axios-post-request-to-send-form-data\">This link's</a> answer shows how to post formdata in axios. Your java end is probably already configured for form data input.</p>\n"},{"tags":[],"owner":{"account_id":8976317,"reputation":1645,"user_id":6693037,"display_name":"Mehrdad HosseinNejad Yami"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1581265422,"creation_date":1581072415,"answer_id":60111894,"question_id":60111117,"body_markdown":"## Edited\n\n## First Exception Solution\n\n\nYou are consuming `multipart/form-data` in your server-side, so you must send data as `formData`.\n\n**Use** `const formData = new FormData(form);` instead of  `JSON.stringify`\n\n****\n\n## Second Exception Solution\nYour second exception is for the binding error, you&#39;re trying to bind `String` into `Multipart`, it is because of this line\n\n    fd.append(&quot;fileAttachment&quot;, values.fileAttachment);\n\n\n1- You can set an `onChange` in the form for file, like `onFileChangeHandler`\n\n    &lt;input type=&quot;file&quot; className=&quot;form-control&quot; name=&quot;file&quot; onChange={this.onFileChangeHandler}/&gt;\n\n2- Set uploaded file in `formData`  and send it (like below code)\n\nBody of `onChange` can be as follows\n\n\n    onFileChangeHandler = (e) =&gt; {\n            e.preventDefault();\n            this.setState({\n                selectedFile: e.target.files[0]\n            });\n            const formData = new FormData();\n            formData.append(&#39;file&#39;, this.state.selectedFile);\n            //Append the rest data then send\n            axios({\n               method: &#39;post&#39;,\n               url: &#39;myurl&#39;,\n               data: formData,\n               headers: {&#39;Content-Type&#39;: &#39;multipart/form-data&#39; }\n            })\n            .then(function (response) {\n               //handle success\n               console.log(response);\n            }, \n            function(error) { \n               // handle error \n            });\n\n\n\nbelow link might be useful for your case:\n\n**[File Upload with React Js (Axios) and Spring REST][1]**\n\n\n    \n\n\n  [1]: https://www.devglan.com/react-js/file-upload-react-spring-rest\n","title":"react + spring boot upload file and form data","body":"<h2>Edited</h2>\n<h2>First Exception Solution</h2>\n<p>You are consuming <code>multipart/form-data</code> in your server-side, so you must send data as <code>formData</code>.</p>\n<p><strong>Use</strong> <code>const formData = new FormData(form);</code> instead of  <code>JSON.stringify</code></p>\n<hr />\n<h2>Second Exception Solution</h2>\n<p>Your second exception is for the binding error, you're trying to bind <code>String</code> into <code>Multipart</code>, it is because of this line</p>\n<pre><code>fd.append(&quot;fileAttachment&quot;, values.fileAttachment);\n</code></pre>\n<p>1- You can set an <code>onChange</code> in the form for file, like <code>onFileChangeHandler</code></p>\n<pre><code>&lt;input type=&quot;file&quot; className=&quot;form-control&quot; name=&quot;file&quot; onChange={this.onFileChangeHandler}/&gt;\n</code></pre>\n<p>2- Set uploaded file in <code>formData</code>  and send it (like below code)</p>\n<p>Body of <code>onChange</code> can be as follows</p>\n<pre><code>onFileChangeHandler = (e) =&gt; {\n        e.preventDefault();\n        this.setState({\n            selectedFile: e.target.files[0]\n        });\n        const formData = new FormData();\n        formData.append('file', this.state.selectedFile);\n        //Append the rest data then send\n        axios({\n           method: 'post',\n           url: 'myurl',\n           data: formData,\n           headers: {'Content-Type': 'multipart/form-data' }\n        })\n        .then(function (response) {\n           //handle success\n           console.log(response);\n        }, \n        function(error) { \n           // handle error \n        });\n</code></pre>\n<p>below link might be useful for your case:</p>\n<p><strong><a href=\"https://www.devglan.com/react-js/file-upload-react-spring-rest\" rel=\"nofollow noreferrer\">File Upload with React Js (Axios) and Spring REST</a></strong></p>\n"},{"tags":[],"owner":{"account_id":6703395,"reputation":50,"user_id":5169201,"display_name":"Swell Yu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612018519,"creation_date":1612018519,"answer_id":65969393,"question_id":60111117,"body_markdown":"if you use html+js as the frontend. when the file is not required, following maybe help:    \r\n\r\n    var formData = new FormData(document.getElementById(&quot;yourFormId&quot;));","title":"react + spring boot upload file and form data","body":"<p>if you use html+js as the frontend. when the file is not required, following maybe help:</p>\n<pre><code>var formData = new FormData(document.getElementById(&quot;yourFormId&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17806508,"reputation":71,"user_id":12932111,"display_name":"agarwalsukant"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641321778,"creation_date":1641321778,"answer_id":70583623,"question_id":60111117,"body_markdown":"I faced this problem because of wrong form implementation in react.\r\n\r\nI was trying to append all the images at a time.\r\n\r\n```\r\nformData.append(&quot;images&quot;, images)\r\n```\r\nAfter looping over the images it solved my problem\r\n\r\n```\r\nfor (let i = 0 ; i &lt; images.length ; i++) {\r\n    formData.append(&quot;images&quot;, images[i]);\r\n}\r\n```","title":"react + spring boot upload file and form data","body":"<p>I faced this problem because of wrong form implementation in react.</p>\n<p>I was trying to append all the images at a time.</p>\n<pre><code>formData.append(&quot;images&quot;, images)\n</code></pre>\n<p>After looping over the images it solved my problem</p>\n<pre><code>for (let i = 0 ; i &lt; images.length ; i++) {\n    formData.append(&quot;images&quot;, images[i]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8372401,"reputation":521,"user_id":6288102,"display_name":"David Becerra Montellano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658804235,"creation_date":1658804235,"answer_id":73117271,"question_id":60111117,"body_markdown":"Ohh well.. I understand\r\n\r\n[![enter image description here][1]][1]\r\n\r\nInto each array, exist the File property that spring boot converter in Multipart\r\n\r\n\r\nCode from my js:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q2T2B.png\r\n  [2]: https://i.stack.imgur.com/Y4sg9.png","title":"react + spring boot upload file and form data","body":"<p>Ohh well.. I understand</p>\n<p><a href=\"https://i.stack.imgur.com/Q2T2B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q2T2B.png\" alt=\"enter image description here\" /></a></p>\n<p>Into each array, exist the File property that spring boot converter in Multipart</p>\n<p>Code from my js:</p>\n<p><a href=\"https://i.stack.imgur.com/Y4sg9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y4sg9.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":9182825,"reputation":434,"user_id":6826107,"accept_rate":0,"display_name":"cumibulat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13913,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":60111894,"answer_count":5,"score":5,"last_activity_date":1658804235,"creation_date":1581069655,"question_id":60111117,"body_markdown":"i have a case like in my form (front end), i can fill personal data (name, address, DOB) and then i can attach multiple image. \r\n\r\nIn my spring boot controller :\r\n\r\n    @RequestMapping(value = &quot;/addCustOrder&quot;, method = RequestMethod.POST, consumes = {&quot;multipart/form-data&quot;})\r\n    \tpublic String CustomerOrder(@ModelAttribute CustOrderRequest coReq, HttpServletRequest request) {\r\n        System.out.println(&quot;debug ************** &quot;);\r\n        System.out.println(&quot;ReceiverName :: &quot; + coReq.getReceiverName());\r\n        System.out.println(&quot;attachmentFile :: &quot; + coReq.getFileAttachment().length);\r\n    }\r\n\r\nMy model wrapper :\r\n\r\n    public class CustOrderRequest {\r\n\t    private String receiverName;\r\n\t    private String receiverPhone;\r\n\t    private String itemDescription;\r\n\t    private MultipartFile[] fileAttachment;\r\n    }\r\n    //setter &amp; getter \r\n\r\nFront end (React) Code :\r\n\r\n    const payload = JSON.stringify({\r\n        id: values.id,\r\n        receiverName: values.receiverName,\r\n        receiverPhone: values.receiverPhone,\r\n        itemDescription: values.itemDescription,\r\n        fileAttachment: values.fileAttachment\r\n    });\r\n\r\n    axios.post(urlApi, payload)\r\n        .then(r =&gt; {\r\n        // success request \r\n        });\r\n\r\nWith above example, i always encounter errors. like : java.io.IOException: Stream closed and zero attachment length / zero attachment size (have switch from array of MultipartFile or List of MultipartFile).\r\nplease throw some light for this case, as a lot of tutorial out there only for upload the attachment part, not including the form data that user has filled. Thanks before. \r\n\r\ntutorial reference : [SO][1] [MK][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/49845355/spring-boot-controller-upload-multipart-and-json-to-dto\r\n  [2]: https://mkyong.com/spring-boot/spring-boot-file-upload-example-ajax-and-rest/\r\n\r\n\r\nUpdated front end code :\r\n\r\n    let fd = new FormData();\r\n    fd.append(&quot;fileAttachment&quot;, values.fileAttachment);\r\n    fd.append(&quot;receiverName&quot;, values.receiverName);\r\n\r\n    axios.post(urlApi, fd)\r\n        .then(r =&gt; {\r\n        // success request \r\n        });\r\n\r\nchanged the front end code using formdata then got error in backend :\r\n\r\n    2020-02-07T17:36:10.231+0700 WARN Resolved [org.springframework.validation.BindException: org.springframework.validation.BeanPropertyBindingResult: 1 errors\r\n    Field error in object &#39;custOrderRequest&#39; on field &#39;fileAttachment&#39;: rejected value [[object FileList]]; codes [typeMismatch.custOrderRequest.fileAttachment,typeMismatch.fileAttachment,typeMismatch.[Lorg.springframework.web.multipart.MultipartFile;,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [custOrderRequest.fileAttachment,fileAttachment]; arguments []; default message [fileAttachment]]; default message [Failed to convert property value of type &#39;java.lang.String&#39; to required type &#39;org.springframework.web.multipart.MultipartFile[]&#39; for property &#39;fileAttachment&#39;; nested exception is java.lang.IllegalStateException: Cannot convert value of type &#39;java.lang.String&#39; to required type &#39;org.springframework.web.multipart.MultipartFile&#39; for property &#39;fileAttachment[0]&#39;: no matching editors or conversion strategy found]]","title":"react + spring boot upload file and form data","body":"<p>i have a case like in my form (front end), i can fill personal data (name, address, DOB) and then i can attach multiple image. </p>\n\n<p>In my spring boot controller :</p>\n\n<pre><code>@RequestMapping(value = \"/addCustOrder\", method = RequestMethod.POST, consumes = {\"multipart/form-data\"})\n    public String CustomerOrder(@ModelAttribute CustOrderRequest coReq, HttpServletRequest request) {\n    System.out.println(\"debug ************** \");\n    System.out.println(\"ReceiverName :: \" + coReq.getReceiverName());\n    System.out.println(\"attachmentFile :: \" + coReq.getFileAttachment().length);\n}\n</code></pre>\n\n<p>My model wrapper :</p>\n\n<pre><code>public class CustOrderRequest {\n    private String receiverName;\n    private String receiverPhone;\n    private String itemDescription;\n    private MultipartFile[] fileAttachment;\n}\n//setter &amp; getter \n</code></pre>\n\n<p>Front end (React) Code :</p>\n\n<pre><code>const payload = JSON.stringify({\n    id: values.id,\n    receiverName: values.receiverName,\n    receiverPhone: values.receiverPhone,\n    itemDescription: values.itemDescription,\n    fileAttachment: values.fileAttachment\n});\n\naxios.post(urlApi, payload)\n    .then(r =&gt; {\n    // success request \n    });\n</code></pre>\n\n<p>With above example, i always encounter errors. like : java.io.IOException: Stream closed and zero attachment length / zero attachment size (have switch from array of MultipartFile or List of MultipartFile).\nplease throw some light for this case, as a lot of tutorial out there only for upload the attachment part, not including the form data that user has filled. Thanks before. </p>\n\n<p>tutorial reference : <a href=\"https://stackoverflow.com/questions/49845355/spring-boot-controller-upload-multipart-and-json-to-dto\">SO</a> <a href=\"https://mkyong.com/spring-boot/spring-boot-file-upload-example-ajax-and-rest/\" rel=\"noreferrer\">MK</a></p>\n\n<p>Updated front end code :</p>\n\n<pre><code>let fd = new FormData();\nfd.append(\"fileAttachment\", values.fileAttachment);\nfd.append(\"receiverName\", values.receiverName);\n\naxios.post(urlApi, fd)\n    .then(r =&gt; {\n    // success request \n    });\n</code></pre>\n\n<p>changed the front end code using formdata then got error in backend :</p>\n\n<pre><code>2020-02-07T17:36:10.231+0700 WARN Resolved [org.springframework.validation.BindException: org.springframework.validation.BeanPropertyBindingResult: 1 errors\nField error in object 'custOrderRequest' on field 'fileAttachment': rejected value [[object FileList]]; codes [typeMismatch.custOrderRequest.fileAttachment,typeMismatch.fileAttachment,typeMismatch.[Lorg.springframework.web.multipart.MultipartFile;,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [custOrderRequest.fileAttachment,fileAttachment]; arguments []; default message [fileAttachment]]; default message [Failed to convert property value of type 'java.lang.String' to required type 'org.springframework.web.multipart.MultipartFile[]' for property 'fileAttachment'; nested exception is java.lang.IllegalStateException: Cannot convert value of type 'java.lang.String' to required type 'org.springframework.web.multipart.MultipartFile' for property 'fileAttachment[0]': no matching editors or conversion strategy found]]\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"score":0,"creation_date":1658334704,"post_id":73055155,"comment_id":129028092,"body_markdown":"Add getdata(); before setadapter call and try once.","body":"Add getdata(); before setadapter call and try once."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1658335226,"post_id":73055155,"comment_id":129028309,"body_markdown":"Stack Overflow is a notoriously inefficient interactive debugger, so I recommend doing some more debugging locally and telling what specific line of code isn&#39;t doing what you expect it to do. To that end, set breakpoints on each line, run the app in a debugger, and check the value of each variable at each breakpoint. At some point you&#39;ll be &quot;huh? that is unexpected&quot; and that is typically the moment we can be most helpful here.","body":"Stack Overflow is a notoriously inefficient interactive debugger, so I recommend doing some more debugging locally and telling what specific line of code isn&#39;t doing what you expect it to do. To that end, set breakpoints on each line, run the app in a debugger, and check the value of each variable at each breakpoint. At some point you&#39;ll be &quot;huh? that is unexpected&quot; and that is typically the moment we can be most helpful here."},{"owner":{"account_id":24580330,"reputation":7,"user_id":18485562,"display_name":"loop"},"score":0,"creation_date":1658335335,"post_id":73055155,"comment_id":129028364,"body_markdown":"@SandeshKhutalSaheb No change sir","body":"@SandeshKhutalSaheb No change sir"},{"owner":{"account_id":24580330,"reputation":7,"user_id":18485562,"display_name":"loop"},"score":0,"creation_date":1658335507,"post_id":73055155,"comment_id":129028425,"body_markdown":"@FrankvanPuffelen Thank you, sir, I ran my app in the debugger it says E/Firestore&#160;error: PERMISSION_DENIED: Missing or insufficient permissions, but I have connected my android studio with the fire base database","body":"@FrankvanPuffelen Thank you, sir, I ran my app in the debugger it says E/Firestore error: PERMISSION_DENIED: Missing or insufficient permissions, but I have connected my android studio with the fire base database"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1658336010,"post_id":73055155,"comment_id":129028631,"body_markdown":"I recommend [searching for that error message](https://www.google.com/search?q=E%2FFirestore+error%3A+PERMISSION_DENIED%3A+Missing+or+insufficient+permissions), as it&#39;s been covered quite a few times before.","body":"I recommend <a href=\"https://www.google.com/search?q=E%2FFirestore+error%3A+PERMISSION_DENIED%3A+Missing+or+insufficient+permissions\" rel=\"nofollow noreferrer\">searching for that error message</a>, as it&#39;s been covered quite a few times before."},{"owner":{"account_id":24580330,"reputation":7,"user_id":18485562,"display_name":"loop"},"score":0,"creation_date":1658337121,"post_id":73055155,"comment_id":129028999,"body_markdown":"@FrankvanPuffelen I have done all the changes like changing the rules of data base but still no use , I am not getting the output","body":"@FrankvanPuffelen I have done all the changes like changing the rules of data base but still no use , I am not getting the output"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1658337987,"post_id":73055155,"comment_id":129029276,"body_markdown":"Time to pul out the debugger again and step through the code line by line, checking each variable on each line. Which is the **first** line that doesn&#39;t do what you expect it to do?","body":"Time to pul out the debugger again and step through the code line by line, checking each variable on each line. Which is the <b>first</b> line that doesn&#39;t do what you expect it to do?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1658386465,"post_id":73055155,"comment_id":129039479,"body_markdown":"This [resource](https://medium.com/firebase-tips-tricks/how-to-fix-firestore-error-permission-denied-missing-or-insufficient-permissions-777d591f404) explains why you get that error and how you can get rid of it.","body":"This <a href=\"https://medium.com/firebase-tips-tricks/how-to-fix-firestore-error-permission-denied-missing-or-insufficient-permissions-777d591f404\" rel=\"nofollow noreferrer\">resource</a> explains why you get that error and how you can get rid of it."}],"answers":[{"tags":[],"owner":{"account_id":12182831,"reputation":57,"user_id":8893783,"display_name":"Sangita Elango"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658802510,"creation_date":1658802510,"answer_id":73117138,"question_id":73055155,"body_markdown":"\r\n      In onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n         data data = itemList.get(position);\r\n         holder.Name.setText(data.Name);\r\n         holder.Quantity.setText(String.valueOf(data.Quantity));\r\n  \r\n\r\ntry setting data.getName() instead of data.Name","title":"Retrieving Data From Firestore Firebase","body":"<pre><code>  In onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n     data data = itemList.get(position);\n     holder.Name.setText(data.Name);\n     holder.Quantity.setText(String.valueOf(data.Quantity));\n</code></pre>\n<p>try setting data.getName() instead of data.Name</p>\n"}],"owner":{"account_id":24580330,"reputation":7,"user_id":18485562,"display_name":"loop"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658802510,"creation_date":1658334473,"question_id":73055155,"body_markdown":"I am working on an Inventory Management app for which  I tried to retrieve data from my fire store database but I am not able to get why . I created a Adapter file and and Data file and linked them with main file\r\n\r\nMy Code for Main Activity file \r\n\r\n    package com.example.inventorymanagment;\r\n    import android.annotation.SuppressLint;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n\r\n    import com.google.firebase.firestore.DocumentChange;\r\n    import com.google.firebase.firestore.FirebaseFirestore;\r\n    import com.google.firebase.firestore.Query;\r\n\r\n    import java.util.ArrayList;\r\n\r\n\r\n    public class Measure extends AppCompatActivity {\r\n\r\n     RecyclerView recyclerView;\r\n     ArrayList&lt;data&gt; itemList;\r\n     adapter adapter;\r\n     FirebaseFirestore db;\r\n \r\n\r\n\r\n\r\n     @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_measure);\r\n\r\n\r\n\r\n     recyclerView= findViewById(R.id.recyclerview);\r\n     recyclerView.setHasFixedSize(true);\r\n     recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n\r\n     db = FirebaseFirestore.getInstance();\r\n    itemList= new ArrayList&lt;&gt;();\r\n    adapter= new adapter(Measure.this,itemList);\r\n\r\n    recyclerView.setAdapter(adapter);\r\n\r\n    getdata();\r\n\r\n\r\n     }\r\n\r\n    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n    private void getdata() {\r\n\r\n    db.collection(&quot;Inventory&quot;).orderBy(&quot;Name&quot;, Query.Direction.ASCENDING)\r\n            .addSnapshotListener((value, error) -&gt; {\r\n                if(error!=null){\r\n                    Log.e(&quot;Firestore error&quot;,error.getMessage());\r\n                return;\r\n            }\r\n\r\n            for(DocumentChange dc : value.getDocumentChanges()){\r\n                if(dc.getType() == DocumentChange.Type.ADDED){\r\n                    itemList.add(dc.getDocument().toObject(data.class));\r\n                }\r\n                adapter.notifyDataSetChanged();\r\n            }\r\n\r\n            });\r\n         }\r\n \r\n      }\r\n\r\nCode for  Adapter file\r\n\r\n    package com.example.inventorymanagment;\r\n\r\n    import android.content.Context;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.TextView;\r\n\r\n    import androidx.annotation.NonNull;\r\n    import  androidx.recyclerview.widget.RecyclerView;\r\n\r\n\r\n\r\n    import java.util.ArrayList;\r\n\r\n    public class adapter extends RecyclerView.Adapter&lt;adapter.MyViewHolder&gt;{\r\n\r\n\r\n      Context context;\r\n      ArrayList&lt;data&gt; itemList;\r\n\r\n       public  adapter(Context context, ArrayList&lt;data&gt;itemList)\r\n       {\r\n        this.context = context;\r\n       this.itemList = itemList;\r\n       }\r\n\r\n    @NonNull\r\n\r\n    @Override\r\n         public adapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n  \r\n        View v = LayoutInflater.from(context).inflate(R.layout.item,parent,false);\r\n        return new MyViewHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n\r\n      data data = itemList.get(position);\r\n      holder.Name.setText(data.Name);\r\n      holder.Quantity.setText(String.valueOf(data.Quantity));\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return itemList.size();\r\n    }\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView Name, Quantity;\r\n\r\n\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            Name=itemView.findViewById(R.id.name);\r\n            Quantity=itemView.findViewById((R.id.quantity));\r\n        }\r\n    }\r\n    } \r\n\r\nMy Code for Data file\r\n\r\n      package com.example.inventorymanagment;\r\n\r\n    public class data {\r\n\r\n     String Name;\r\n     long Quantity;\r\n\r\n      public data(){}\r\n\r\n    public data(String name, long quantity) {\r\n        Name = name;\r\n        Quantity = quantity;\r\n     }\r\n\r\n    public String getName() {\r\n        return Name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        Name = name;\r\n    }\r\n\r\n    public long getQuantity() {\r\n        return Quantity;\r\n    }\r\n\r\n    public void setQuantity(long quantity) {\r\n        Quantity = quantity;\r\n    }\r\n      }\r\n\r\nplease help me find my error\r\n\r\n\r\n ","title":"Retrieving Data From Firestore Firebase","body":"<p>I am working on an Inventory Management app for which  I tried to retrieve data from my fire store database but I am not able to get why . I created a Adapter file and and Data file and linked them with main file</p>\n<p>My Code for Main Activity file</p>\n<pre><code>package com.example.inventorymanagment;\nimport android.annotation.SuppressLint;\nimport android.os.Bundle;\nimport android.util.Log;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.google.firebase.firestore.DocumentChange;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.Query;\n\nimport java.util.ArrayList;\n\n\npublic class Measure extends AppCompatActivity {\n\n RecyclerView recyclerView;\n ArrayList&lt;data&gt; itemList;\n adapter adapter;\n FirebaseFirestore db;\n\n\n\n\n @Override\nprotected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_measure);\n\n\n\n recyclerView= findViewById(R.id.recyclerview);\n recyclerView.setHasFixedSize(true);\n recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n\n db = FirebaseFirestore.getInstance();\nitemList= new ArrayList&lt;&gt;();\nadapter= new adapter(Measure.this,itemList);\n\nrecyclerView.setAdapter(adapter);\n\ngetdata();\n\n\n }\n\n@SuppressLint(&quot;NotifyDataSetChanged&quot;)\nprivate void getdata() {\n\ndb.collection(&quot;Inventory&quot;).orderBy(&quot;Name&quot;, Query.Direction.ASCENDING)\n        .addSnapshotListener((value, error) -&gt; {\n            if(error!=null){\n                Log.e(&quot;Firestore error&quot;,error.getMessage());\n            return;\n        }\n\n        for(DocumentChange dc : value.getDocumentChanges()){\n            if(dc.getType() == DocumentChange.Type.ADDED){\n                itemList.add(dc.getDocument().toObject(data.class));\n            }\n            adapter.notifyDataSetChanged();\n        }\n\n        });\n     }\n\n  }\n</code></pre>\n<p>Code for  Adapter file</p>\n<pre><code>package com.example.inventorymanagment;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport  androidx.recyclerview.widget.RecyclerView;\n\n\n\nimport java.util.ArrayList;\n\npublic class adapter extends RecyclerView.Adapter&lt;adapter.MyViewHolder&gt;{\n\n\n  Context context;\n  ArrayList&lt;data&gt; itemList;\n\n   public  adapter(Context context, ArrayList&lt;data&gt;itemList)\n   {\n    this.context = context;\n   this.itemList = itemList;\n   }\n\n@NonNull\n\n@Override\n     public adapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n    View v = LayoutInflater.from(context).inflate(R.layout.item,parent,false);\n    return new MyViewHolder(v);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n\n  data data = itemList.get(position);\n  holder.Name.setText(data.Name);\n  holder.Quantity.setText(String.valueOf(data.Quantity));\n}\n\n\n\n@Override\npublic int getItemCount() {\n    return itemList.size();\n}\npublic static class MyViewHolder extends RecyclerView.ViewHolder{\n\n    TextView Name, Quantity;\n\n\n\n    public MyViewHolder(@NonNull View itemView) {\n        super(itemView);\n        Name=itemView.findViewById(R.id.name);\n        Quantity=itemView.findViewById((R.id.quantity));\n    }\n}\n} \n</code></pre>\n<p>My Code for Data file</p>\n<pre><code>  package com.example.inventorymanagment;\n\npublic class data {\n\n String Name;\n long Quantity;\n\n  public data(){}\n\npublic data(String name, long quantity) {\n    Name = name;\n    Quantity = quantity;\n }\n\npublic String getName() {\n    return Name;\n}\n\npublic void setName(String name) {\n    Name = name;\n}\n\npublic long getQuantity() {\n    return Quantity;\n}\n\npublic void setQuantity(long quantity) {\n    Quantity = quantity;\n}\n  }\n</code></pre>\n<p>please help me find my error</p>\n"},{"tags":["java","3d"],"answers":[{"tags":[],"owner":{"account_id":20120355,"reputation":38,"user_id":14754952,"display_name":"Gaba Miau"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658801605,"creation_date":1658407205,"answer_id":73066376,"question_id":73045381,"body_markdown":"    \r\nFirstly you should be using a graphics API like OpenGL or DirectX, secondly you should be using a math library like GLM that contains all the projection matrix formulas and other stuff. Thirdly, you shouldn&#39;t be using int as a datatype to store vertex data.\r\nI made a few changes to your code so it doesn&#39;t freak out anymore. \r\nThe fov should be in the range(0.001,179.999), never 180, it is recommanded using 90 deg. Also the math function tan takes in radians not deg.\r\n\r\n    package Render;\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    \r\n    import javax.sound.midi.MidiDevice;\r\n    import javax.swing.JPanel;\r\n    \r\n    import Beans.Triangle;\r\n    import Beans.Vertex;\r\n    import Utilities.MidService;\r\n    \r\n    public class Renderer extends JPanel{\r\n    \t\r\n    \tpublic Renderer() {\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tdouble angle = 0;\r\n    \tdouble a;\r\n    \tdouble f;\r\n    \tdouble l;\r\n    \tdouble offSet;\r\n    \t\r\n    \tpublic void update() {\r\n    \t\t\r\n    \t\t//angle += 0.03;\r\n    \t\t\r\n    \t\trepaint();\r\n    \t}\r\n    \tfloat projMat[][]= {\r\n    \t\t\t{1f / ((float)Math.tan(MidService.fieldOfView/2f)),0,0,0},\r\n    \t\t\t{0,1f / ((float)Math.tan(MidService.fieldOfView/2f)),0,0},\r\n    \t\t\t{0,0,MidService.Zfar / (MidService.Zfar - MidService.Znear),1},\r\n    \t\t\t{0,0,-MidService.Zfar* MidService.Znear / (MidService.Zfar - MidService.Znear),0},\r\n    \t};\r\n    \tVertex Mult(float[][] mat,Vertex v){\r\n    \t\tfloat ver[] = {v.x,v.y,v.z,v.w};\r\n    \t\tfloat ans[] = {0,0,0,0};\r\n    \t\tfor (int i=0;i&lt;mat.length;i++){\r\n    \t\t\tfor(int j=0;j&lt;mat[0].length;j++){\r\n    \t\t\t\tans[i] += mat[i][j] * ver[i];\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tVertex vans = new Vertex((int)ans[0],(int)ans[1],(int)ans[2]);\r\n    \t\tvans.w =(int) ans[3];\r\n    \t\treturn vans;\r\n    \t}\r\n    \tpublic void paintComponent(Graphics g) {\r\n    \t\tGraphics2D g2d = (Graphics2D)g;\r\n    \t\tsuper.paintComponent(g2d);\r\n    \r\n    \t\tfor(Triangle element: MidService.mesh) \r\n    \t\t{\r\n    \r\n    \t\t\tVertex v1 = rotateZ(element.v1);\r\n    \t\t\tVertex v2 = rotateZ(element.v2);\r\n    \t\t\tVertex v3 = rotateZ(element.v3);\r\n    \r\n    \t\t\tv1 = rotateY(v1);\r\n    \t\t\tv2 = rotateY(v2);\r\n    \t\t\tv3 = rotateY(v3);\r\n    \r\n    \t\t\tv1 = Mult(projMat,v1);\r\n    \t\t\tv2 = Mult(projMat,v2);\r\n    \t\t\tv3 = Mult(projMat,v3);\r\n    \t\t\t\r\n    \t\t\tint offSet = (int) (MidService.displayX/2);\r\n    \t\t\t\r\n    \t\t\tg2d.drawLine(offSet + (int)v1.x, offSet + (int)v1.y, offSet + (int)v2.x, offSet + (int)v2.y);\r\n    \t\t\tg2d.drawLine(offSet + (int)v2.x, offSet + (int)v2.y, offSet + (int)v3.x, offSet + (int)v3.y);\r\n    \t\t\tg2d.drawLine(offSet + (int)v3.x, offSet + (int)v3.y, offSet + (int)v1.x, offSet + (int)v1.y);\r\n    \t\t\t\r\n    \r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic Vertex projection(Vertex v)\r\n    \t{\r\n    \t\ta = MidService.displayY / MidService.displayX;\r\n    \t\tf = 1 / (Math.tan(MidService.fieldOfView/2));\r\n    \t\tl = MidService.Zfar / (MidService.Zfar - MidService.Znear);\r\n    \t\toffSet = MidService.Zfar / (MidService.Zfar - MidService.Znear) * MidService.Znear;\r\n    \t\t\r\n    \t\tdouble x = (v.x * a * f);\r\n    \t\tdouble y = (v.y * f);\r\n    \t\tdouble z = (v.z * l - offSet);\r\n    \t\tdouble w = v.z;\r\n    \t\t\r\n    \t\tif(w != 0.0) {\r\n    \t\t\tx /= w;\r\n    \t\t\ty /= w;\r\n    \t\t\tz /= w;\r\n    \t\t}\r\n    \t\treturn new Vertex((int)x, (int)y, (int)z);\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic Vertex rotateY(Vertex v)\r\n    \t{\r\n    \t\tdouble x = v.x * Math.cos(angle) + v.z * Math.sin(angle);\r\n    \t\tdouble y = v.y;\r\n    \t\tdouble z = v.x * (-Math.sin(angle)) + v.z * Math.cos(angle);\r\n    \t\t\r\n    \t\treturn new Vertex((int)x, (int)y, (int)z);\r\n    \t}\r\n    \t\r\n    \tpublic Vertex rotateZ(Vertex v)\r\n    \t{\r\n    \t\tdouble x = v.x * Math.cos(angle) + v.y * (-Math.sin(angle));\r\n    \t\tdouble y = v.x * Math.sin(angle) + v.y * Math.cos(angle);\r\n    \t\tdouble z = v.z;\r\n    \t\t\r\n    \t\treturn new Vertex((int)x, (int)y, (int)z);\r\n    \t}\r\n    \r\n    }\r\n\r\nHere is the MidService class\r\n\r\n    package Utilities;\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    import Beans.Triangle;\r\n    \r\n    public class MidService {\r\n\t\r\n\tpublic static float displayX = 1000;\r\n\tpublic static float displayY = 1000f;\r\n\tpublic static float fieldOfView = 3.14f/2f;\r\n\tpublic static float Zfar = 100f;\r\n\tpublic static float Znear = 0.1f;\r\n\t\r\n\tpublic static ArrayList&lt;Triangle&gt; mesh = new ArrayList&lt;&gt;();\r\n\r\n    }\r\nAnd Vertex \r\n\r\n    package Beans;\r\n\r\n    public class Vertex {\r\n    \t\r\n    \tpublic float x;\r\n    \tpublic float y;\r\n    \tpublic float z;\r\n    \tpublic float w = 1;\r\n    \t\r\n    \tpublic Vertex(int x, int y, int z) {\r\n    \t\tthis.x = x;\r\n    \t\tthis.y = y;\r\n    \t\tthis.z = z;\r\n    \t}\r\n    \r\n    }\r\n","title":"Java, 3D prospective projection","body":"<p>Firstly you should be using a graphics API like OpenGL or DirectX, secondly you should be using a math library like GLM that contains all the projection matrix formulas and other stuff. Thirdly, you shouldn't be using int as a datatype to store vertex data.\nI made a few changes to your code so it doesn't freak out anymore.\nThe fov should be in the range(0.001,179.999), never 180, it is recommanded using 90 deg. Also the math function tan takes in radians not deg.</p>\n<pre><code>package Render;\n\nimport java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\n\nimport javax.sound.midi.MidiDevice;\nimport javax.swing.JPanel;\n\nimport Beans.Triangle;\nimport Beans.Vertex;\nimport Utilities.MidService;\n\npublic class Renderer extends JPanel{\n    \n    public Renderer() {\n        \n    }\n    \n    double angle = 0;\n    double a;\n    double f;\n    double l;\n    double offSet;\n    \n    public void update() {\n        \n        //angle += 0.03;\n        \n        repaint();\n    }\n    float projMat[][]= {\n            {1f / ((float)Math.tan(MidService.fieldOfView/2f)),0,0,0},\n            {0,1f / ((float)Math.tan(MidService.fieldOfView/2f)),0,0},\n            {0,0,MidService.Zfar / (MidService.Zfar - MidService.Znear),1},\n            {0,0,-MidService.Zfar* MidService.Znear / (MidService.Zfar - MidService.Znear),0},\n    };\n    Vertex Mult(float[][] mat,Vertex v){\n        float ver[] = {v.x,v.y,v.z,v.w};\n        float ans[] = {0,0,0,0};\n        for (int i=0;i&lt;mat.length;i++){\n            for(int j=0;j&lt;mat[0].length;j++){\n                ans[i] += mat[i][j] * ver[i];\n            }\n        }\n        Vertex vans = new Vertex((int)ans[0],(int)ans[1],(int)ans[2]);\n        vans.w =(int) ans[3];\n        return vans;\n    }\n    public void paintComponent(Graphics g) {\n        Graphics2D g2d = (Graphics2D)g;\n        super.paintComponent(g2d);\n\n        for(Triangle element: MidService.mesh) \n        {\n\n            Vertex v1 = rotateZ(element.v1);\n            Vertex v2 = rotateZ(element.v2);\n            Vertex v3 = rotateZ(element.v3);\n\n            v1 = rotateY(v1);\n            v2 = rotateY(v2);\n            v3 = rotateY(v3);\n\n            v1 = Mult(projMat,v1);\n            v2 = Mult(projMat,v2);\n            v3 = Mult(projMat,v3);\n            \n            int offSet = (int) (MidService.displayX/2);\n            \n            g2d.drawLine(offSet + (int)v1.x, offSet + (int)v1.y, offSet + (int)v2.x, offSet + (int)v2.y);\n            g2d.drawLine(offSet + (int)v2.x, offSet + (int)v2.y, offSet + (int)v3.x, offSet + (int)v3.y);\n            g2d.drawLine(offSet + (int)v3.x, offSet + (int)v3.y, offSet + (int)v1.x, offSet + (int)v1.y);\n            \n\n        }\n    }\n    \n    public Vertex projection(Vertex v)\n    {\n        a = MidService.displayY / MidService.displayX;\n        f = 1 / (Math.tan(MidService.fieldOfView/2));\n        l = MidService.Zfar / (MidService.Zfar - MidService.Znear);\n        offSet = MidService.Zfar / (MidService.Zfar - MidService.Znear) * MidService.Znear;\n        \n        double x = (v.x * a * f);\n        double y = (v.y * f);\n        double z = (v.z * l - offSet);\n        double w = v.z;\n        \n        if(w != 0.0) {\n            x /= w;\n            y /= w;\n            z /= w;\n        }\n        return new Vertex((int)x, (int)y, (int)z);\n    }\n    \n    \n    public Vertex rotateY(Vertex v)\n    {\n        double x = v.x * Math.cos(angle) + v.z * Math.sin(angle);\n        double y = v.y;\n        double z = v.x * (-Math.sin(angle)) + v.z * Math.cos(angle);\n        \n        return new Vertex((int)x, (int)y, (int)z);\n    }\n    \n    public Vertex rotateZ(Vertex v)\n    {\n        double x = v.x * Math.cos(angle) + v.y * (-Math.sin(angle));\n        double y = v.x * Math.sin(angle) + v.y * Math.cos(angle);\n        double z = v.z;\n        \n        return new Vertex((int)x, (int)y, (int)z);\n    }\n\n}\n</code></pre>\n<p>Here is the MidService class</p>\n<pre><code>package Utilities;\n\nimport java.util.ArrayList;\n\nimport Beans.Triangle;\n\npublic class MidService {\n\npublic static float displayX = 1000;\npublic static float displayY = 1000f;\npublic static float fieldOfView = 3.14f/2f;\npublic static float Zfar = 100f;\npublic static float Znear = 0.1f;\n\npublic static ArrayList&lt;Triangle&gt; mesh = new ArrayList&lt;&gt;();\n\n}\n</code></pre>\n<p>And Vertex</p>\n<pre><code>package Beans;\n\npublic class Vertex {\n    \n    public float x;\n    public float y;\n    public float z;\n    public float w = 1;\n    \n    public Vertex(int x, int y, int z) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25849470,"reputation":7,"user_id":19583710,"display_name":"CSHelp762"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658434184,"creation_date":1658434184,"answer_id":73072095,"question_id":73045381,"body_markdown":"A follow up to the perspective division issue.  It turns out to be the inverse of the difference between camera distance and z coordinate.  So instead of division by z, its 1/(distance - z)\r\n\r\nBelow is modification for Gaba Miau&#39;s matrix multiply function\r\n\r\n        Vertex Mult(float[][] mat,Vertex v){\r\n        float ver[] = {v.x,v.y,v.z,v.w};\r\n        float ans[] = {0,0,0,0};\r\n        \r\n        for (int i=0;i&lt;mat.length;i++){\r\n            for(int j=0;j&lt;mat[0].length;j++){\r\n                ans[i] += mat[i][j] * ver[j];\r\n            }\r\n        }\r\n        \r\n        float temp = 100/(500 - v.z);\r\n        if(temp != 0)\r\n        {\r\n        \tans[0] *= temp;\r\n        \tans[1] *= temp;\r\n        \tans[2] *= temp;\r\n        }\r\n        Vertex vans = new Vertex((int)ans[0],(int)ans[1],(int)ans[2]);\r\n        vans.w =(int) ans[3];\r\n        return vans;\r\n    }\r\nP.S. it&#39;s ans[i] += mat[i][j] * ver[j]; in the forloop","title":"Java, 3D prospective projection","body":"<p>A follow up to the perspective division issue.  It turns out to be the inverse of the difference between camera distance and z coordinate.  So instead of division by z, its 1/(distance - z)</p>\n<p>Below is modification for Gaba Miau's matrix multiply function</p>\n<pre><code>    Vertex Mult(float[][] mat,Vertex v){\n    float ver[] = {v.x,v.y,v.z,v.w};\n    float ans[] = {0,0,0,0};\n    \n    for (int i=0;i&lt;mat.length;i++){\n        for(int j=0;j&lt;mat[0].length;j++){\n            ans[i] += mat[i][j] * ver[j];\n        }\n    }\n    \n    float temp = 100/(500 - v.z);\n    if(temp != 0)\n    {\n        ans[0] *= temp;\n        ans[1] *= temp;\n        ans[2] *= temp;\n    }\n    Vertex vans = new Vertex((int)ans[0],(int)ans[1],(int)ans[2]);\n    vans.w =(int) ans[3];\n    return vans;\n}\n</code></pre>\n<p>P.S. it's ans[i] += mat[i][j] * ver[j]; in the forloop</p>\n"}],"owner":{"account_id":25849470,"reputation":7,"user_id":19583710,"display_name":"CSHelp762"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1658801605,"creation_date":1658284406,"question_id":73045381,"body_markdown":"I&#39;m learning 3D rendering with java and I encountered a weird issue.\r\n\r\nI&#39;m able to rotate and display 3D objects to the screen. but when I tried to use prospective projection to show depth, the program freaks out. No errors or anything, but the depth seems to stretch incurability long. I narrowed the problem down to the perspective divide in the projection function.\r\n\r\nCan anyone help?\r\n\r\n    public class Renderer extends JPanel{\r\n\t\r\n\tpublic Renderer() {\r\n\t\t\r\n\t}\r\n\t\r\n\tdouble angle = 0;\r\n\tdouble a;\r\n\tdouble f;\r\n\tdouble l;\r\n\tdouble offSet;\r\n\t\r\n\tpublic void update() {\r\n\t\t\r\n\t\tangle += 0.03;\r\n\t\t\r\n\t\trepaint();\r\n\t}\r\n\t\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\tGraphics2D g2d = (Graphics2D)g;\r\n\t\tsuper.paintComponent(g2d);\r\n\r\n\t\tfor(Triangle element: MidService.mesh) \r\n\t\t{\r\n\r\n\t\t\tVertex v1 = rotateY(element.v1);\r\n\t\t\tVertex v2 = rotateY(element.v2);\r\n\t\t\tVertex v3 = rotateY(element.v3);\r\n\r\n\t\t\tv1 = projection(v1);\r\n\t\t\tv2 = projection(v2);\r\n\t\t\tv3 = projection(v3);\r\n\t\t\t\r\n\t\t\tint offSet = (int) (MidService.displayX/2);\r\n\r\n\t\t\tg2d.drawLine(offSet + v1.x, offSet + v1.y, offSet + v2.x, offSet + v2.y);\r\n\t\t\tg2d.drawLine(offSet + v2.x, offSet + v2.y, offSet + v3.x, offSet + v3.y);\r\n\t\t\tg2d.drawLine(offSet + v3.x, offSet + v3.y, offSet + v1.x, offSet + v1.y);\r\n\t\t\t\r\n\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic Vertex projection(Vertex v)\r\n\t{\r\n\t\ta = MidService.displayY / MidService.displayX;\r\n\t\tf = 1 / (Math.tan(MidService.fieldOfView/2));\r\n\t\tl = MidService.Zfar / (MidService.Zfar - MidService.Znear);\r\n\t\toffSet = MidService.Zfar / (MidService.Zfar - MidService.Znear) * MidService.Znear;\r\n\t\t\r\n\t\tdouble x = (v.x * a * f);\r\n\t\tdouble y = (v.y * f);\r\n\t\tdouble z = (v.z * l - offSet);\r\n\t\tdouble w = v.z;\r\n\t\t//the if function below caused the issue\r\n\r\n\t\tif(w != 0.0) {\r\n\t\t\tx /= w;\r\n\t\t\ty /= w;\r\n\t\t\tz /= w;\r\n\t\t}\r\n\t\treturn new Vertex((int)x, (int)y, (int)z);\r\n\t}\r\n\t\r\n\t\r\n\tpublic Vertex rotateY(Vertex v)\r\n\t{\r\n\t\tdouble x = v.x * Math.cos(angle) + v.z * Math.sin(angle);\r\n\t\tdouble y = v.y;\r\n\t\tdouble z = v.x * (-Math.sin(angle)) + v.z * Math.cos(angle);\r\n\t\t\r\n\t\treturn new Vertex((int)x, (int)y, (int)z);\r\n\t}\r\n//-------------------------------------------------------\r\n\r\n    public class MidService {\r\n\t\r\n\tpublic static double displayX = 1000;\r\n\tpublic static double displayY = 1000;\r\n\tpublic static double fieldOfView = 180;\r\n\tpublic static double Zfar = 10;\r\n\tpublic static double Znear = 1;\r\n\t\r\n\tpublic static ArrayList&lt;Triangle&gt; mesh = new ArrayList&lt;&gt;();\r\n\r\n}\r\n//---------------------------------------------\r\n\r\n    public class Driver {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tDisplay display = new Display();\r\n\t\t\r\n\t\tMidService.mesh.add(new Triangle(new Vertex(-100, 100, 100),\r\n\t\t\t\t\t\t\t\t\t\tnew Vertex(-100, -100, 100),\r\n\t\t\t\t\t\t\t\t\t\tnew Vertex(100, -100, 100)));\r\n\t\tMidService.mesh.add(new Triangle(new Vertex(-100, 100, 100),\r\n\t\t\t\t\t\t\t\t\t\tnew Vertex(100, -100, 100),\r\n\t\t\t\t\t\t\t\t\t\tnew Vertex(100, 100, 100)));\r\n\r\nHere&#39;s a video of it:[https://youtu.be/bFJLU5c3JE0]\r\n","title":"Java, 3D prospective projection","body":"<p>I'm learning 3D rendering with java and I encountered a weird issue.</p>\n<p>I'm able to rotate and display 3D objects to the screen. but when I tried to use prospective projection to show depth, the program freaks out. No errors or anything, but the depth seems to stretch incurability long. I narrowed the problem down to the perspective divide in the projection function.</p>\n<p>Can anyone help?</p>\n<pre><code>public class Renderer extends JPanel{\n\npublic Renderer() {\n    \n}\n\ndouble angle = 0;\ndouble a;\ndouble f;\ndouble l;\ndouble offSet;\n\npublic void update() {\n    \n    angle += 0.03;\n    \n    repaint();\n}\n\npublic void paintComponent(Graphics g) {\n    Graphics2D g2d = (Graphics2D)g;\n    super.paintComponent(g2d);\n\n    for(Triangle element: MidService.mesh) \n    {\n\n        Vertex v1 = rotateY(element.v1);\n        Vertex v2 = rotateY(element.v2);\n        Vertex v3 = rotateY(element.v3);\n\n        v1 = projection(v1);\n        v2 = projection(v2);\n        v3 = projection(v3);\n        \n        int offSet = (int) (MidService.displayX/2);\n\n        g2d.drawLine(offSet + v1.x, offSet + v1.y, offSet + v2.x, offSet + v2.y);\n        g2d.drawLine(offSet + v2.x, offSet + v2.y, offSet + v3.x, offSet + v3.y);\n        g2d.drawLine(offSet + v3.x, offSet + v3.y, offSet + v1.x, offSet + v1.y);\n        \n\n    }\n}\n\npublic Vertex projection(Vertex v)\n{\n    a = MidService.displayY / MidService.displayX;\n    f = 1 / (Math.tan(MidService.fieldOfView/2));\n    l = MidService.Zfar / (MidService.Zfar - MidService.Znear);\n    offSet = MidService.Zfar / (MidService.Zfar - MidService.Znear) * MidService.Znear;\n    \n    double x = (v.x * a * f);\n    double y = (v.y * f);\n    double z = (v.z * l - offSet);\n    double w = v.z;\n    //the if function below caused the issue\n\n    if(w != 0.0) {\n        x /= w;\n        y /= w;\n        z /= w;\n    }\n    return new Vertex((int)x, (int)y, (int)z);\n}\n\n\npublic Vertex rotateY(Vertex v)\n{\n    double x = v.x * Math.cos(angle) + v.z * Math.sin(angle);\n    double y = v.y;\n    double z = v.x * (-Math.sin(angle)) + v.z * Math.cos(angle);\n    \n    return new Vertex((int)x, (int)y, (int)z);\n}\n</code></pre>\n<p>//-------------------------------------------------------</p>\n<pre><code>public class MidService {\n\npublic static double displayX = 1000;\npublic static double displayY = 1000;\npublic static double fieldOfView = 180;\npublic static double Zfar = 10;\npublic static double Znear = 1;\n\npublic static ArrayList&lt;Triangle&gt; mesh = new ArrayList&lt;&gt;();\n</code></pre>\n<p>}\n//---------------------------------------------</p>\n<pre><code>public class Driver {\n\npublic static void main(String[] args) {\n    \n    Display display = new Display();\n    \n    MidService.mesh.add(new Triangle(new Vertex(-100, 100, 100),\n                                    new Vertex(-100, -100, 100),\n                                    new Vertex(100, -100, 100)));\n    MidService.mesh.add(new Triangle(new Vertex(-100, 100, 100),\n                                    new Vertex(100, -100, 100),\n                                    new Vertex(100, 100, 100)));\n</code></pre>\n<p>Here's a video of it:[https://youtu.be/bFJLU5c3JE0]</p>\n"},{"tags":["java","android","icons"],"comments":[{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1405094881,"post_id":24701762,"comment_id":38306806,"body_markdown":"post an image what you wanna do","body":"post an image what you wanna do"},{"owner":{"account_id":2588961,"reputation":505,"user_id":2244054,"display_name":"ericlokness"},"score":0,"creation_date":1405095552,"post_id":24701762,"comment_id":38307207,"body_markdown":"My reputation isn&#39;t high enough...","body":"My reputation isn&#39;t high enough..."},{"owner":{"account_id":2588961,"reputation":505,"user_id":2244054,"display_name":"ericlokness"},"score":0,"creation_date":1405095799,"post_id":24701762,"comment_id":38307330,"body_markdown":"Well to add it to my original post. Something like this: http://i59.tinypic.com/16h7srr.png","body":"Well to add it to my original post. Something like this: <a href=\"http://i59.tinypic.com/16h7srr.png\" rel=\"nofollow noreferrer\">i59.tinypic.com/16h7srr.png</a>"},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1405096378,"post_id":24701762,"comment_id":38307621,"body_markdown":"ok,  so now whats the problem with that blue round rect?","body":"ok,  so now whats the problem with that blue round rect?"},{"owner":{"account_id":2588961,"reputation":505,"user_id":2244054,"display_name":"ericlokness"},"score":0,"creation_date":1405147407,"post_id":24701762,"comment_id":38323530,"body_markdown":"You asked what I want to do.  That is what I WANT it to look like.  Right now it&#39;s just a square BackgroundColorSpan item that has no rounded corners around my item.","body":"You asked what I want to do.  That is what I WANT it to look like.  Right now it&#39;s just a square BackgroundColorSpan item that has no rounded corners around my item."},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1405150529,"post_id":24701762,"comment_id":38324190,"body_markdown":"you already posted an answer,  its here http://stackoverflow.com/questions/19292838/android-spannablestring-set-background-behind-part-of-text","body":"you already posted an answer,  its here <a href=\"http://stackoverflow.com/questions/19292838/android-spannablestring-set-background-behind-part-of-text\" title=\"android spannablestring set background behind part of text\">stackoverflow.com/questions/19292838/&hellip;</a>"},{"owner":{"account_id":2588961,"reputation":505,"user_id":2244054,"display_name":"ericlokness"},"score":0,"creation_date":1405158072,"post_id":24701762,"comment_id":38325791,"body_markdown":"Yes, but that answer is written in C# (for Xamarin.Android) not Java.  That answer won&#39;t compile.","body":"Yes, but that answer is written in C# (for Xamarin.Android) not Java.  That answer won&#39;t compile."},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1405158501,"post_id":24701762,"comment_id":38325885,"body_markdown":"come in, it is almost 1:1 relationship between  those two languages, just see what methods he used and do the same in java","body":"come in, it is almost 1:1 relationship between  those two languages, just see what methods he used and do the same in java"},{"owner":{"account_id":2588961,"reputation":505,"user_id":2244054,"display_name":"ericlokness"},"score":0,"creation_date":1405171353,"post_id":24701762,"comment_id":38328966,"body_markdown":"Thanks, pskink.  I think that I figured it out.  In case anyone else is wondering you can use a converter like this - http://www.tangiblesoftwaresolutions.com/Product_Details/CSharp_to_Java_Converter_Details.html to help you get started in the right direction.","body":"Thanks, pskink.  I think that I figured it out.  In case anyone else is wondering you can use a converter like this - <a href=\"http://www.tangiblesoftwaresolutions.com/Product_Details/CSharp_to_Java_Converter_Details.html\" rel=\"nofollow noreferrer\">tangiblesoftwaresolutions.com/Product_Details/&hellip;</a> to help you get started in the right direction."}],"answers":[{"tags":[],"owner":{"account_id":2588961,"reputation":505,"user_id":2244054,"display_name":"ericlokness"},"down_vote_count":3,"up_vote_count":15,"is_accepted":true,"score":12,"last_activity_date":1405171774,"creation_date":1405171774,"answer_id":24713423,"question_id":24701762,"body_markdown":"After reading getting a little help with a converter for C#, I came up with this.  I still have some tweaking to do, but if anyone is also looking for a similar answer.   \r\n\r\n    public class RoundedBackgroundSpan extends ReplacementSpan\r\n    {\r\n\r\n        @Override\r\n        public int getSize(Paint paint, CharSequence text, int start, int end, Paint.FontMetricsInt fm) {\r\n            return 0;\r\n        }\r\n\r\n        @Override\r\n        public void draw(Canvas canvas, CharSequence text, int start, int end, float x, int top, int y, int bottom, Paint paint)\r\n        {\r\n            RectF rect = new RectF(x, top, x + text.length(), bottom);\r\n            paint.setColor(Color.CYAN);\r\n            canvas.drawRoundRect(rect, 20, 20, paint);\r\n            paint.setColor(Color.WHITE);\r\n            canvas.drawText(text, start, end, x, y, paint);\r\n        }\r\n    }","title":"Android Spannablecontent With Rounded Corners","body":"<p>After reading getting a little help with a converter for C#, I came up with this.  I still have some tweaking to do, but if anyone is also looking for a similar answer.   </p>\n\n<pre><code>public class RoundedBackgroundSpan extends ReplacementSpan\n{\n\n    @Override\n    public int getSize(Paint paint, CharSequence text, int start, int end, Paint.FontMetricsInt fm) {\n        return 0;\n    }\n\n    @Override\n    public void draw(Canvas canvas, CharSequence text, int start, int end, float x, int top, int y, int bottom, Paint paint)\n    {\n        RectF rect = new RectF(x, top, x + text.length(), bottom);\n        paint.setColor(Color.CYAN);\n        canvas.drawRoundRect(rect, 20, 20, paint);\n        paint.setColor(Color.WHITE);\n        canvas.drawText(text, start, end, x, y, paint);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4380842,"reputation":914,"user_id":3572533,"display_name":"mvandillen"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1426153081,"creation_date":1426153081,"answer_id":29006184,"question_id":24701762,"body_markdown":"Here&#39;s an improved version based on @ericlokness answer, with custom background and text colors. It also works with multiple spans on the same TextView.\r\n\r\n    public class RoundedBackgroundSpan extends ReplacementSpan\r\n    {\r\n      private final int _padding = 20;\r\n      private int _backgroundColor;\r\n      private int _textColor;\r\n    \r\n      public RoundedBackgroundSpan(int backgroundColor, int textColor) {\r\n        super();\r\n        _backgroundColor = backgroundColor;\r\n        _textColor = textColor;\r\n      }\r\n    \r\n      @Override\r\n      public int getSize(Paint paint, CharSequence text, int start, int end, Paint.FontMetricsInt fm) {\r\n        return (int) (_padding + paint.measureText(text.subSequence(start, end).toString()) + _padding);\r\n      }\r\n    \r\n      @Override\r\n      public void draw(Canvas canvas, CharSequence text, int start, int end, float x, int top, int y, int bottom, Paint paint)\r\n      {\r\n        float width = paint.measureText(text.subSequence(start, end).toString());\r\n        RectF rect = new RectF(x - _padding, top, x + width + _padding, bottom);\r\n        paint.setColor(_backgroundColor);\r\n        canvas.drawRoundRect(rect, 20, 20, paint);\r\n        paint.setColor(_textColor);\r\n        canvas.drawText(text, start, end, x, y, paint);\r\n      }\r\n    }\r\n","title":"Android Spannablecontent With Rounded Corners","body":"<p>Here's an improved version based on @ericlokness answer, with custom background and text colors. It also works with multiple spans on the same TextView.</p>\n\n<pre><code>public class RoundedBackgroundSpan extends ReplacementSpan\n{\n  private final int _padding = 20;\n  private int _backgroundColor;\n  private int _textColor;\n\n  public RoundedBackgroundSpan(int backgroundColor, int textColor) {\n    super();\n    _backgroundColor = backgroundColor;\n    _textColor = textColor;\n  }\n\n  @Override\n  public int getSize(Paint paint, CharSequence text, int start, int end, Paint.FontMetricsInt fm) {\n    return (int) (_padding + paint.measureText(text.subSequence(start, end).toString()) + _padding);\n  }\n\n  @Override\n  public void draw(Canvas canvas, CharSequence text, int start, int end, float x, int top, int y, int bottom, Paint paint)\n  {\n    float width = paint.measureText(text.subSequence(start, end).toString());\n    RectF rect = new RectF(x - _padding, top, x + width + _padding, bottom);\n    paint.setColor(_backgroundColor);\n    canvas.drawRoundRect(rect, 20, 20, paint);\n    paint.setColor(_textColor);\n    canvas.drawText(text, start, end, x, y, paint);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":544424,"reputation":20042,"user_id":913867,"accept_rate":51,"display_name":"Daniele B"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1428114050,"creation_date":1428114050,"answer_id":29442039,"question_id":24701762,"body_markdown":"I further improved mvandillen class.\r\n\r\nThis seems to work very fine:\r\n\r\n    public class RoundedBackgroundSpan extends ReplacementSpan\r\n        {\r\n            private final int mPadding = 10;\r\n            private int mBackgroundColor;\r\n            private int mTextColor;\r\n    \r\n            public RoundedBackgroundSpan(int backgroundColor, int textColor) {\r\n                super();\r\n                mBackgroundColor = backgroundColor;\r\n                mTextColor = textColor;\r\n            }\r\n    \r\n            @Override\r\n            public int getSize(Paint paint, CharSequence text, int start, int end, Paint.FontMetricsInt fm) {\r\n                return (int) (mPadding + paint.measureText(text.subSequence(start, end).toString()) + mPadding);\r\n            }\r\n    \r\n            @Override\r\n            public void draw(Canvas canvas, CharSequence text, int start, int end, float x, int top, int y, int bottom, Paint paint)\r\n            {\r\n                float width = paint.measureText(text.subSequence(start, end).toString());\r\n                RectF rect = new RectF(x, top+mPadding, x + width + 2*mPadding, bottom);\r\n                paint.setColor(mBackgroundColor);\r\n                canvas.drawRoundRect(rect, mPadding, mPadding, paint);\r\n                paint.setColor(mTextColor);\r\n                canvas.drawText(text, start, end, x+mPadding, y, paint);\r\n            }\r\n        }\r\n\r\n","title":"Android Spannablecontent With Rounded Corners","body":"<p>I further improved mvandillen class.</p>\n\n<p>This seems to work very fine:</p>\n\n<pre><code>public class RoundedBackgroundSpan extends ReplacementSpan\n    {\n        private final int mPadding = 10;\n        private int mBackgroundColor;\n        private int mTextColor;\n\n        public RoundedBackgroundSpan(int backgroundColor, int textColor) {\n            super();\n            mBackgroundColor = backgroundColor;\n            mTextColor = textColor;\n        }\n\n        @Override\n        public int getSize(Paint paint, CharSequence text, int start, int end, Paint.FontMetricsInt fm) {\n            return (int) (mPadding + paint.measureText(text.subSequence(start, end).toString()) + mPadding);\n        }\n\n        @Override\n        public void draw(Canvas canvas, CharSequence text, int start, int end, float x, int top, int y, int bottom, Paint paint)\n        {\n            float width = paint.measureText(text.subSequence(start, end).toString());\n            RectF rect = new RectF(x, top+mPadding, x + width + 2*mPadding, bottom);\n            paint.setColor(mBackgroundColor);\n            canvas.drawRoundRect(rect, mPadding, mPadding, paint);\n            paint.setColor(mTextColor);\n            canvas.drawText(text, start, end, x+mPadding, y, paint);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1959279,"reputation":2255,"user_id":1761406,"accept_rate":86,"display_name":"Shirane85"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1653250292,"creation_date":1452038008,"answer_id":34623367,"question_id":24701762,"body_markdown":"Actually i found big issues with all of those answers when displaying **multiple lines** of badges. After lots of testing and tweaking. I Finally got the best version of the above.\r\n\r\nThe basic idea is to trick the TextView by setting a much bigger text size and setting the wanted size inside the span. Also, you can see i&#39;m drawing the badge background and text differently.\r\n\r\nSo, this is my RoundedBackgroundSpan:\r\n\r\n    public class RoundedBackgroundSpan extends ReplacementSpan {\r\n    \r\n        private static final int CORNER_RADIUS = 12;\r\n    \r\n        private static final float PADDING_X = GeneralUtils.convertDpToPx(12);\r\n        private static final float PADDING_Y = GeneralUtils.convertDpToPx(2);\r\n    \r\n        private static final float MAGIC_NUMBER = GeneralUtils.convertDpToPx(2);\r\n    \r\n        private int mBackgroundColor;\r\n        private int mTextColor;\r\n        private float mTextSize;\r\n    \r\n        /**\r\n         * @param backgroundColor color value, not res id\r\n         * @param textSize        in pixels\r\n         */\r\n        public RoundedBackgroundSpan(int backgroundColor, int textColor, float textSize) {\r\n            mBackgroundColor = backgroundColor;\r\n            mTextColor = textColor;\r\n            mTextSize = textSize;\r\n        }\r\n    \r\n        @Override\r\n        public void draw(Canvas canvas, CharSequence text, int start, int end, float x, int top, int y, int bottom, Paint paint) {\r\n            paint = new Paint(paint); // make a copy for not editing the referenced paint\r\n    \r\n            paint.setTextSize(mTextSize);\r\n    \r\n            // Draw the rounded background\r\n            paint.setColor(mBackgroundColor);\r\n            float textHeightWrapping = GeneralUtils.convertDpToPx(4);\r\n            float tagBottom = top + textHeightWrapping + PADDING_Y + mTextSize + PADDING_Y + textHeightWrapping;\r\n            float tagRight = x + getTagWidth(text, start, end, paint);\r\n            RectF rect = new RectF(x, top, tagRight, tagBottom);\r\n            canvas.drawRoundRect(rect, CORNER_RADIUS, CORNER_RADIUS, paint);\r\n    \r\n            // Draw the text\r\n            paint.setColor(mTextColor);\r\n            canvas.drawText(text, start, end, x + PADDING_X, tagBottom - PADDING_Y - textHeightWrapping - MAGIC_NUMBER, paint);\r\n        }\r\n    \r\n        private int getTagWidth(CharSequence text, int start, int end, Paint paint) {\r\n            return Math.round(PADDING_X + paint.measureText(text.subSequence(start, end).toString()) + PADDING_X);\r\n        }\r\n    \r\n        @Override\r\n        public int getSize(Paint paint, CharSequence text, int start, int end, Paint.FontMetricsInt fm) {\r\n            paint = new Paint(paint); // make a copy for not editing the referenced paint\r\n            paint.setTextSize(mTextSize);\r\n            return getTagWidth(text, start, end, paint);\r\n        }\r\n    }\r\n\r\n\r\nAnd here is how i&#39;m using it:\r\n\r\n    public void setTags(ArrayList&lt;String&gt; tags) {\r\n        if (tags == null) {\r\n            return;\r\n        }\r\n\r\n        mTextView.setTextSize(TypedValue.COMPLEX_UNIT_SP, 26); // Tricking the text view for getting a bigger line height\r\n        \r\n        SpannableStringBuilder stringBuilder = new SpannableStringBuilder();\r\n        \r\n        String between = &quot; &quot;;\r\n        int tagStart = 0;\r\n        \r\n        float textSize = 13 * getResources().getDisplayMetrics().scaledDensity; // sp to px\r\n        \r\n        for (String tag : tags) {\r\n            // Append tag and space after\r\n            stringBuilder.append(tag);\r\n            stringBuilder.append(between);\r\n\r\n            // Set span for tag\r\n            RoundedBackgroundSpan tagSpan = new RoundedBackgroundSpan(bgColor, textColor, textSize);\r\n            stringBuilder.setSpan(tagSpan, tagStart, tagStart + tag.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n\r\n            // Update to next tag start\r\n            tagStart += tag.length() + between.length();\r\n        }\r\n\r\n        mTextView.setText(stringBuilder, TextView.BufferType.SPANNABLE);\r\n    }\r\n&lt;br&gt;\r\n**Note:**\r\n\r\n - You can play with all sizes and constants to fit to your wanted style\r\n - If you use an external font be sure to set android:includeFontPadding=&quot;false&quot; otherwise it can mess up the line&#39;s height\r\n\r\nEnjoy :)","title":"Android Spannablecontent With Rounded Corners","body":"<p>Actually i found big issues with all of those answers when displaying <strong>multiple lines</strong> of badges. After lots of testing and tweaking. I Finally got the best version of the above.</p>\n<p>The basic idea is to trick the TextView by setting a much bigger text size and setting the wanted size inside the span. Also, you can see i'm drawing the badge background and text differently.</p>\n<p>So, this is my RoundedBackgroundSpan:</p>\n<pre><code>public class RoundedBackgroundSpan extends ReplacementSpan {\n\n    private static final int CORNER_RADIUS = 12;\n\n    private static final float PADDING_X = GeneralUtils.convertDpToPx(12);\n    private static final float PADDING_Y = GeneralUtils.convertDpToPx(2);\n\n    private static final float MAGIC_NUMBER = GeneralUtils.convertDpToPx(2);\n\n    private int mBackgroundColor;\n    private int mTextColor;\n    private float mTextSize;\n\n    /**\n     * @param backgroundColor color value, not res id\n     * @param textSize        in pixels\n     */\n    public RoundedBackgroundSpan(int backgroundColor, int textColor, float textSize) {\n        mBackgroundColor = backgroundColor;\n        mTextColor = textColor;\n        mTextSize = textSize;\n    }\n\n    @Override\n    public void draw(Canvas canvas, CharSequence text, int start, int end, float x, int top, int y, int bottom, Paint paint) {\n        paint = new Paint(paint); // make a copy for not editing the referenced paint\n\n        paint.setTextSize(mTextSize);\n\n        // Draw the rounded background\n        paint.setColor(mBackgroundColor);\n        float textHeightWrapping = GeneralUtils.convertDpToPx(4);\n        float tagBottom = top + textHeightWrapping + PADDING_Y + mTextSize + PADDING_Y + textHeightWrapping;\n        float tagRight = x + getTagWidth(text, start, end, paint);\n        RectF rect = new RectF(x, top, tagRight, tagBottom);\n        canvas.drawRoundRect(rect, CORNER_RADIUS, CORNER_RADIUS, paint);\n\n        // Draw the text\n        paint.setColor(mTextColor);\n        canvas.drawText(text, start, end, x + PADDING_X, tagBottom - PADDING_Y - textHeightWrapping - MAGIC_NUMBER, paint);\n    }\n\n    private int getTagWidth(CharSequence text, int start, int end, Paint paint) {\n        return Math.round(PADDING_X + paint.measureText(text.subSequence(start, end).toString()) + PADDING_X);\n    }\n\n    @Override\n    public int getSize(Paint paint, CharSequence text, int start, int end, Paint.FontMetricsInt fm) {\n        paint = new Paint(paint); // make a copy for not editing the referenced paint\n        paint.setTextSize(mTextSize);\n        return getTagWidth(text, start, end, paint);\n    }\n}\n</code></pre>\n<p>And here is how i'm using it:</p>\n<pre><code>public void setTags(ArrayList&lt;String&gt; tags) {\n    if (tags == null) {\n        return;\n    }\n\n    mTextView.setTextSize(TypedValue.COMPLEX_UNIT_SP, 26); // Tricking the text view for getting a bigger line height\n    \n    SpannableStringBuilder stringBuilder = new SpannableStringBuilder();\n    \n    String between = &quot; &quot;;\n    int tagStart = 0;\n    \n    float textSize = 13 * getResources().getDisplayMetrics().scaledDensity; // sp to px\n    \n    for (String tag : tags) {\n        // Append tag and space after\n        stringBuilder.append(tag);\n        stringBuilder.append(between);\n\n        // Set span for tag\n        RoundedBackgroundSpan tagSpan = new RoundedBackgroundSpan(bgColor, textColor, textSize);\n        stringBuilder.setSpan(tagSpan, tagStart, tagStart + tag.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n\n        // Update to next tag start\n        tagStart += tag.length() + between.length();\n    }\n\n    mTextView.setText(stringBuilder, TextView.BufferType.SPANNABLE);\n}\n</code></pre>\n<br>\n**Note:**\n<ul>\n<li>You can play with all sizes and constants to fit to your wanted style</li>\n<li>If you use an external font be sure to set android:includeFontPadding=&quot;false&quot; otherwise it can mess up the line's height</li>\n</ul>\n<p>Enjoy :)</p>\n"},{"tags":[],"owner":{"account_id":1463558,"reputation":17385,"user_id":1377145,"accept_rate":69,"display_name":"Hugo Gresse"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1466581429,"creation_date":1466525311,"answer_id":37949469,"question_id":24701762,"body_markdown":"Ok, so the question is a bit messy, here is my solution from DanieleB and mvandillen.\r\n\r\n    public class RoundedBackgroundSpan extends ReplacementSpan {\r\n    \r\n        private static final int CORNER_RADIUS = 8;\r\n        private static final int PADDING_X = 12;\r\n    \r\n        private int   mBackgroundColor;\r\n        private int   mTextColor;\r\n    \r\n        /**\r\n         * @param backgroundColor background color\r\n         * @param textColor       text color\r\n         */\r\n        public RoundedBackgroundSpan(int backgroundColor, int textColor) {\r\n            mBackgroundColor = backgroundColor;\r\n            mTextColor = textColor;\r\n        }\r\n    \r\n        @Override\r\n        public int getSize(Paint paint, CharSequence text, int start, int end, Paint.FontMetricsInt fm) {\r\n            return (int) (PADDING_X + paint.measureText(text.subSequence(start, end).toString()) + PADDING_X);\r\n        }\r\n    \r\n        @Override\r\n        public void draw(Canvas canvas, CharSequence text, int start, int end, float x, int top, int y, int bottom, Paint paint) {\r\n            float width = paint.measureText(text.subSequence(start, end).toString());\r\n            RectF rect = new RectF(x, top, x + width + 2 * PADDING_X, bottom);\r\n            paint.setColor(mBackgroundColor);\r\n            canvas.drawRoundRect(rect, CORNER_RADIUS, CORNER_RADIUS, paint);\r\n            paint.setColor(mTextColor);\r\n            canvas.drawText(text, start, end, x + PADDING_X, y, paint);\r\n        }\r\n    }\r\n\r\n-------\r\n\r\n*Tip: you can remove the textColor and user the default TextView color:*  \r\n\r\n    @Override\r\n    public void draw(Canvas canvas, CharSequence text, int start, int end, float x, int top, int y, int bottom, Paint paint) {\r\n        Paint paint1 = new Paint(paint);\r\n        float width = paint1.measureText(text.subSequence(start, end).toString());\r\n        RectF rect = new RectF(x, top, x + width + 2 * PADDING_X, bottom);\r\n        paint1.setColor(mBackgroundColor);\r\n        canvas.drawRoundRect(rect, CORNER_RADIUS, CORNER_RADIUS, paint1);\r\n        canvas.drawText(text, start, end, x + PADDING_X, y, paint);\r\n    }","title":"Android Spannablecontent With Rounded Corners","body":"<p>Ok, so the question is a bit messy, here is my solution from DanieleB and mvandillen.</p>\n\n<pre><code>public class RoundedBackgroundSpan extends ReplacementSpan {\n\n    private static final int CORNER_RADIUS = 8;\n    private static final int PADDING_X = 12;\n\n    private int   mBackgroundColor;\n    private int   mTextColor;\n\n    /**\n     * @param backgroundColor background color\n     * @param textColor       text color\n     */\n    public RoundedBackgroundSpan(int backgroundColor, int textColor) {\n        mBackgroundColor = backgroundColor;\n        mTextColor = textColor;\n    }\n\n    @Override\n    public int getSize(Paint paint, CharSequence text, int start, int end, Paint.FontMetricsInt fm) {\n        return (int) (PADDING_X + paint.measureText(text.subSequence(start, end).toString()) + PADDING_X);\n    }\n\n    @Override\n    public void draw(Canvas canvas, CharSequence text, int start, int end, float x, int top, int y, int bottom, Paint paint) {\n        float width = paint.measureText(text.subSequence(start, end).toString());\n        RectF rect = new RectF(x, top, x + width + 2 * PADDING_X, bottom);\n        paint.setColor(mBackgroundColor);\n        canvas.drawRoundRect(rect, CORNER_RADIUS, CORNER_RADIUS, paint);\n        paint.setColor(mTextColor);\n        canvas.drawText(text, start, end, x + PADDING_X, y, paint);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><em>Tip: you can remove the textColor and user the default TextView color:</em>  </p>\n\n<pre><code>@Override\npublic void draw(Canvas canvas, CharSequence text, int start, int end, float x, int top, int y, int bottom, Paint paint) {\n    Paint paint1 = new Paint(paint);\n    float width = paint1.measureText(text.subSequence(start, end).toString());\n    RectF rect = new RectF(x, top, x + width + 2 * PADDING_X, bottom);\n    paint1.setColor(mBackgroundColor);\n    canvas.drawRoundRect(rect, CORNER_RADIUS, CORNER_RADIUS, paint1);\n    canvas.drawText(text, start, end, x + PADDING_X, y, paint);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1626664,"reputation":34757,"user_id":1502079,"accept_rate":56,"display_name":"vovahost"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1501253182,"creation_date":1501252833,"answer_id":45376289,"question_id":24701762,"body_markdown":"Here is my version based on @mvandillen answer. I also needed some margin at the beginning of span.\r\n\r\n    import android.graphics.Canvas;\r\n    import android.graphics.Paint;\r\n    import android.graphics.RectF;\r\n    import android.support.annotation.NonNull;\r\n    import android.text.style.ReplacementSpan;\r\n    \r\n    public class CoolBackgroundColorSpan extends ReplacementSpan {\r\n    \r\n        private final int mBackgroundColor;\r\n        private final int mTextColor;\r\n        private final float mCornerRadius;\r\n        private final float mPaddingStart;\r\n        private final float mPaddingEnd;\r\n        private final float mMarginStart;\r\n    \r\n        public CoolBackgroundColorSpan(int backgroundColor, int textColor, float cornerRadius, float paddingStart, float paddingEnd, float marginStart) {\r\n            super();\r\n            mBackgroundColor = backgroundColor;\r\n            mTextColor = textColor;\r\n            mCornerRadius = cornerRadius;\r\n            mPaddingStart = paddingStart;\r\n            mPaddingEnd = paddingEnd;\r\n            mMarginStart = marginStart;\r\n        }\r\n    \r\n        @Override\r\n        public int getSize(@NonNull Paint paint, CharSequence text, int start, int end, Paint.FontMetricsInt fm) {\r\n            return (int) (mPaddingStart + paint.measureText(text.subSequence(start, end).toString()) + mPaddingEnd);\r\n        }\r\n    \r\n        @Override\r\n        public void draw(@NonNull Canvas canvas, CharSequence text, int start, int end, float x, int top, int y, int bottom, @NonNull Paint paint) {\r\n            float width = paint.measureText(text.subSequence(start, end).toString());\r\n            RectF rect = new RectF(x - mPaddingStart + mMarginStart, top, x + width + mPaddingEnd + mMarginStart, bottom);\r\n            paint.setColor(mBackgroundColor);\r\n            canvas.drawRoundRect(rect, mCornerRadius, mCornerRadius, paint);\r\n            paint.setColor(mTextColor);\r\n            canvas.drawText(text, start, end, x + mMarginStart, y, paint);\r\n        }\r\n    }\r\n\r\n**How to use:** &lt;br&gt;\r\n\r\n    int flag = Spanned.SPAN_EXCLUSIVE_EXCLUSIVE;\r\n    SpannableString staffTitleSpan = new SpannableString(&quot;staff: &quot;);\r\n    SpannableString staffNameSpan = new SpannableString(&quot;John Smith&quot;);\r\n    staffNameSpan.setSpan(new StyleSpan(Typeface.BOLD), 0, staffNameSpan.length(), flag);\r\n    staffNameSpan.setSpan(new CoolBackgroundColorSpan(mStaffNameSpanBgColor, mStaffNameSpanTextColor, mStaffNameSpanBgRadius, mStaffNameSpanBgPaddingStart, mStaffNameSpanBgPaddingEnd, mStaffNameSpanMarginStart), 0, staffNameSpan.length(), flag);\r\n    SpannableStringBuilder builder = new SpannableStringBuilder();\r\n    builder.append(staffTitleSpan);\r\n    builder.append(staffNameSpan);\r\n\r\n    staffTextView.setText(builder);\r\n\r\nPreview:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EOlLq.png","title":"Android Spannablecontent With Rounded Corners","body":"<p>Here is my version based on @mvandillen answer. I also needed some margin at the beginning of span.</p>\n\n<pre><code>import android.graphics.Canvas;\nimport android.graphics.Paint;\nimport android.graphics.RectF;\nimport android.support.annotation.NonNull;\nimport android.text.style.ReplacementSpan;\n\npublic class CoolBackgroundColorSpan extends ReplacementSpan {\n\n    private final int mBackgroundColor;\n    private final int mTextColor;\n    private final float mCornerRadius;\n    private final float mPaddingStart;\n    private final float mPaddingEnd;\n    private final float mMarginStart;\n\n    public CoolBackgroundColorSpan(int backgroundColor, int textColor, float cornerRadius, float paddingStart, float paddingEnd, float marginStart) {\n        super();\n        mBackgroundColor = backgroundColor;\n        mTextColor = textColor;\n        mCornerRadius = cornerRadius;\n        mPaddingStart = paddingStart;\n        mPaddingEnd = paddingEnd;\n        mMarginStart = marginStart;\n    }\n\n    @Override\n    public int getSize(@NonNull Paint paint, CharSequence text, int start, int end, Paint.FontMetricsInt fm) {\n        return (int) (mPaddingStart + paint.measureText(text.subSequence(start, end).toString()) + mPaddingEnd);\n    }\n\n    @Override\n    public void draw(@NonNull Canvas canvas, CharSequence text, int start, int end, float x, int top, int y, int bottom, @NonNull Paint paint) {\n        float width = paint.measureText(text.subSequence(start, end).toString());\n        RectF rect = new RectF(x - mPaddingStart + mMarginStart, top, x + width + mPaddingEnd + mMarginStart, bottom);\n        paint.setColor(mBackgroundColor);\n        canvas.drawRoundRect(rect, mCornerRadius, mCornerRadius, paint);\n        paint.setColor(mTextColor);\n        canvas.drawText(text, start, end, x + mMarginStart, y, paint);\n    }\n}\n</code></pre>\n\n<p><strong>How to use:</strong> <br></p>\n\n<pre><code>int flag = Spanned.SPAN_EXCLUSIVE_EXCLUSIVE;\nSpannableString staffTitleSpan = new SpannableString(\"staff: \");\nSpannableString staffNameSpan = new SpannableString(\"John Smith\");\nstaffNameSpan.setSpan(new StyleSpan(Typeface.BOLD), 0, staffNameSpan.length(), flag);\nstaffNameSpan.setSpan(new CoolBackgroundColorSpan(mStaffNameSpanBgColor, mStaffNameSpanTextColor, mStaffNameSpanBgRadius, mStaffNameSpanBgPaddingStart, mStaffNameSpanBgPaddingEnd, mStaffNameSpanMarginStart), 0, staffNameSpan.length(), flag);\nSpannableStringBuilder builder = new SpannableStringBuilder();\nbuilder.append(staffTitleSpan);\nbuilder.append(staffNameSpan);\n\nstaffTextView.setText(builder);\n</code></pre>\n\n<p>Preview:</p>\n\n<p><a href=\"https://i.stack.imgur.com/EOlLq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/EOlLq.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1526726180,"creation_date":1526726180,"answer_id":50424339,"question_id":24701762,"body_markdown":"Watching [**Google&#39;s video**][1], they offer this solution:\r\n\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n[![enter image description here][5]][5]\r\n[![enter image description here][6]][6]\r\n[![enter image description here][7]][7]\r\n\r\nSadly I see here various things missing, and I can&#39;t find the full code, so I can&#39;t try it out.\r\n\r\n  [1]: https://youtu.be/x-FcOX6ErdI?t=1084\r\n  [2]: https://i.stack.imgur.com/aAB47.png\r\n  [3]: https://i.stack.imgur.com/7hnwq.png\r\n  [4]: https://i.stack.imgur.com/QIXJA.png\r\n  [5]: https://i.stack.imgur.com/CuC0Y.png\r\n  [6]: https://i.stack.imgur.com/joAGx.png\r\n  [7]: https://i.stack.imgur.com/AMnVe.png","title":"Android Spannablecontent With Rounded Corners","body":"<p>Watching <a href=\"https://youtu.be/x-FcOX6ErdI?t=1084\" rel=\"nofollow noreferrer\"><strong>Google's video</strong></a>, they offer this solution:</p>\n\n<p><a href=\"https://i.stack.imgur.com/aAB47.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aAB47.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/7hnwq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7hnwq.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/QIXJA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QIXJA.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/CuC0Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CuC0Y.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/joAGx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/joAGx.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/AMnVe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AMnVe.png\" alt=\"enter image description here\"></a></p>\n\n<p>Sadly I see here various things missing, and I can't find the full code, so I can't try it out.</p>\n"},{"tags":[],"owner":{"account_id":265730,"reputation":4878,"user_id":552902,"accept_rate":73,"display_name":"JRomero"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1538449434,"creation_date":1538449434,"answer_id":52601456,"question_id":24701762,"body_markdown":"Hopefully this answer simplifies it for those still looking...\r\n\r\nYou can simply use a &quot;chip&quot; drawable. It does all the calculations correctly and is of much more minimal code.\r\n\r\nSee [Standalone ChipDrawable](https://material.io/develop/android/components/chip/)\r\n\r\n\r\n*For completeness copied here:*\r\n\r\n    \r\n`res/xml/standalone_chip.xml`:\r\n\r\n    &lt;chip xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:text=&quot;@string/item_browse_database_sample&quot;\r\n        app:chipBackgroundColor=&quot;@color/blueBase&quot;\r\n        app:closeIconVisible=&quot;false&quot; /&gt;\r\n\r\n\r\n----------\r\n\r\nin java:\r\n\r\n    // Inflate from resources.\r\n    ChipDrawable chip = ChipDrawable.createFromResource(getContext(), R.xml.standalone_chip);\r\n    \r\n    // Use it as a Drawable however you want.\r\n    chip.setBounds(0, 0, chip.getIntrinsicWidth(), chip.getIntrinsicHeight());\r\n    ImageSpan span = new ImageSpan(chip);\r\n    \r\n    Editable text = editText.getText();\r\n    text.setSpan(span, 0, text.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n\r\nEnd result:\r\n\r\n[![result][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4X7ex.png","title":"Android Spannablecontent With Rounded Corners","body":"<p>Hopefully this answer simplifies it for those still looking...</p>\n\n<p>You can simply use a \"chip\" drawable. It does all the calculations correctly and is of much more minimal code.</p>\n\n<p>See <a href=\"https://material.io/develop/android/components/chip/\" rel=\"noreferrer\">Standalone ChipDrawable</a></p>\n\n<p><em>For completeness copied here:</em></p>\n\n<p><code>res/xml/standalone_chip.xml</code>:</p>\n\n<pre><code>&lt;chip xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:text=\"@string/item_browse_database_sample\"\n    app:chipBackgroundColor=\"@color/blueBase\"\n    app:closeIconVisible=\"false\" /&gt;\n</code></pre>\n\n<hr>\n\n<p>in java:</p>\n\n<pre><code>// Inflate from resources.\nChipDrawable chip = ChipDrawable.createFromResource(getContext(), R.xml.standalone_chip);\n\n// Use it as a Drawable however you want.\nchip.setBounds(0, 0, chip.getIntrinsicWidth(), chip.getIntrinsicHeight());\nImageSpan span = new ImageSpan(chip);\n\nEditable text = editText.getText();\ntext.setSpan(span, 0, text.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n</code></pre>\n\n<p>End result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/4X7ex.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4X7ex.png\" alt=\"result\"></a></p>\n"},{"tags":[],"owner":{"account_id":8423539,"reputation":3750,"user_id":6770343,"accept_rate":77,"display_name":"Suraj Bahadur"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1612353975,"creation_date":1612353975,"answer_id":66027224,"question_id":24701762,"body_markdown":"If you are using kotlin and targeting multiple density devices then this would work for you\r\n\r\nStep 1 : Create a class i.e `RoundedBackgroundSpan.kt` that extend `ReplacementSpan`\r\n\r\n    import android.content.res.Resources\r\n    import android.graphics.Canvas\r\n    import android.graphics.Paint\r\n    import android.graphics.RectF\r\n    import android.text.style.ReplacementSpan\r\n    import kotlin.math.roundToInt\r\n    \r\n    class RoundedBackgroundSpan(\r\n        private val textColor: Int,\r\n        private val backgroundColor: Int\r\n    ) : ReplacementSpan() {\r\n    \r\n        private val additionalPadding = 4.toPx().toFloat()\r\n        private val cornerRadius = 4.toPx().toFloat()\r\n    \r\n        override fun draw(\r\n            canvas: Canvas,\r\n            text: CharSequence,\r\n            start: Int,\r\n            end: Int,\r\n            x: Float,\r\n            top: Int,\r\n            y: Int,\r\n            bottom: Int,\r\n            paint: Paint\r\n        ) {\r\n            val newTop = y + paint.fontMetrics.ascent\r\n            val newBottom = y + paint.fontMetrics.descent\r\n            val rect = RectF(x, newTop, x + measureText(paint, text, start, end) + 2 * additionalPadding, newBottom)\r\n            paint.color = backgroundColor\r\n    \r\n            canvas.drawRoundRect(rect, cornerRadius, cornerRadius, paint)\r\n            paint.color = textColor\r\n            canvas.drawText(text, start, end, x + additionalPadding, y.toFloat(), paint)\r\n        }\r\n    \r\n        override fun getSize(paint: Paint, text: CharSequence?, start: Int, end: Int, fm: Paint.FontMetricsInt?): Int {\r\n            return (paint.measureText(text, start, end) + 2 * additionalPadding).toInt()\r\n        }\r\n    \r\n        private fun measureText(paint: Paint, text: CharSequence, start: Int, end: Int): Float {\r\n            return paint.measureText(text, start, end)\r\n        }\r\n    \r\n        private fun Int.toPx(): Int {\r\n            val resources = Resources.getSystem()\r\n            val metrics = resources.displayMetrics\r\n            return (this * (metrics.densityDpi / 160.0f)).roundToInt()\r\n        }\r\n    }\r\n\r\nStep 2 : After that call the above created class like below\r\n\r\n       private fun updateSubjectName(textView: TextView, fullText: String, spanText: String, spanColor: String) {\r\n            val flag = Spanned.SPAN_EXCLUSIVE_EXCLUSIVE\r\n            val fullTextSpan = SpannableString(&quot;$fullText &quot;)\r\n            val spanTextSpan = SpannableString(&quot;$spanText&quot;)\r\n            spanTextSpan.setSpan(StyleSpan(Typeface.BOLD), 0, spanTextSpan.length, flag)\r\n    \r\n            spanTextSpan.setSpan(\r\n                RoundedBackgroundSpan(context.getColor(R.color.color_white), Color.parseColor(spanColor)),\r\n                0, spanTextSpan.length, flag\r\n            )\r\n    \r\n            val builder = SpannableStringBuilder()\r\n            builder.append(fullTextSpan)\r\n            builder.append(spanTextSpan)\r\n            textView.text = builder\r\n        }\r\n\r\n","title":"Android Spannablecontent With Rounded Corners","body":"<p>If you are using kotlin and targeting multiple density devices then this would work for you</p>\n<p>Step 1 : Create a class i.e <code>RoundedBackgroundSpan.kt</code> that extend <code>ReplacementSpan</code></p>\n<pre><code>import android.content.res.Resources\nimport android.graphics.Canvas\nimport android.graphics.Paint\nimport android.graphics.RectF\nimport android.text.style.ReplacementSpan\nimport kotlin.math.roundToInt\n\nclass RoundedBackgroundSpan(\n    private val textColor: Int,\n    private val backgroundColor: Int\n) : ReplacementSpan() {\n\n    private val additionalPadding = 4.toPx().toFloat()\n    private val cornerRadius = 4.toPx().toFloat()\n\n    override fun draw(\n        canvas: Canvas,\n        text: CharSequence,\n        start: Int,\n        end: Int,\n        x: Float,\n        top: Int,\n        y: Int,\n        bottom: Int,\n        paint: Paint\n    ) {\n        val newTop = y + paint.fontMetrics.ascent\n        val newBottom = y + paint.fontMetrics.descent\n        val rect = RectF(x, newTop, x + measureText(paint, text, start, end) + 2 * additionalPadding, newBottom)\n        paint.color = backgroundColor\n\n        canvas.drawRoundRect(rect, cornerRadius, cornerRadius, paint)\n        paint.color = textColor\n        canvas.drawText(text, start, end, x + additionalPadding, y.toFloat(), paint)\n    }\n\n    override fun getSize(paint: Paint, text: CharSequence?, start: Int, end: Int, fm: Paint.FontMetricsInt?): Int {\n        return (paint.measureText(text, start, end) + 2 * additionalPadding).toInt()\n    }\n\n    private fun measureText(paint: Paint, text: CharSequence, start: Int, end: Int): Float {\n        return paint.measureText(text, start, end)\n    }\n\n    private fun Int.toPx(): Int {\n        val resources = Resources.getSystem()\n        val metrics = resources.displayMetrics\n        return (this * (metrics.densityDpi / 160.0f)).roundToInt()\n    }\n}\n</code></pre>\n<p>Step 2 : After that call the above created class like below</p>\n<pre><code>   private fun updateSubjectName(textView: TextView, fullText: String, spanText: String, spanColor: String) {\n        val flag = Spanned.SPAN_EXCLUSIVE_EXCLUSIVE\n        val fullTextSpan = SpannableString(&quot;$fullText &quot;)\n        val spanTextSpan = SpannableString(&quot;$spanText&quot;)\n        spanTextSpan.setSpan(StyleSpan(Typeface.BOLD), 0, spanTextSpan.length, flag)\n\n        spanTextSpan.setSpan(\n            RoundedBackgroundSpan(context.getColor(R.color.color_white), Color.parseColor(spanColor)),\n            0, spanTextSpan.length, flag\n        )\n\n        val builder = SpannableStringBuilder()\n        builder.append(fullTextSpan)\n        builder.append(spanTextSpan)\n        textView.text = builder\n    }\n</code></pre>\n"}],"owner":{"account_id":2588961,"reputation":505,"user_id":2244054,"display_name":"ericlokness"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12461,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"accepted_answer_id":24713423,"answer_count":9,"score":23,"last_activity_date":1658801401,"creation_date":1405093962,"question_id":24701762,"body_markdown":"I am trying to change my string to make a badge with a number in the middle by using Spannable String.  I can highlight the appropriate letter/number by setting the BackGroundColorSpan, but need help making it a little prettier.  I was hoping to have rounded corners with a little bit of padding around the entire shape.  \r\n\r\nThis article is really close to what I&#39;m trying to do: https://stackoverflow.com/questions/19292838/android-spannablestring-set-background-behind-part-of-text\r\n\r\nI really need to keep the resource as a TextView due to the way it interacts with my application.  \r\n\r\nAny ideas how to utilize ReplacementSpan for my particular situation?\r\n\r\n\r\n\r\nHere is my code snippet:\r\n\r\n```java\r\nif (menuItem.getMenuItemType() == SlidingMenuItem.MenuItemType.NOTIFICATIONS) {\r\n    myMenuRow.setTypeface(null, Typeface.NORMAL);\r\n    myMenuRow.setTextColor(getContext().getResources().getColor(R.color.BLACK));\r\n    myMenuRow.setActivated(false);\r\n    SpannableString spannablecontent = new SpannableString(myMenuRow.getText());\r\n    spannablecontent.setSpan(new BackgroundColorSpan(Color.argb(150,0,0,0)), 18, myMenuRow.length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n    myMenuRow.setText(spannablecontent);\r\n}\r\n```","title":"Android Spannablecontent With Rounded Corners","body":"<p>I am trying to change my string to make a badge with a number in the middle by using Spannable String.  I can highlight the appropriate letter/number by setting the BackGroundColorSpan, but need help making it a little prettier.  I was hoping to have rounded corners with a little bit of padding around the entire shape.</p>\n<p>This article is really close to what I'm trying to do: <a href=\"https://stackoverflow.com/questions/19292838/android-spannablestring-set-background-behind-part-of-text\">Android SpannableString set background behind part of text</a></p>\n<p>I really need to keep the resource as a TextView due to the way it interacts with my application.</p>\n<p>Any ideas how to utilize ReplacementSpan for my particular situation?</p>\n<p>Here is my code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (menuItem.getMenuItemType() == SlidingMenuItem.MenuItemType.NOTIFICATIONS) {\n    myMenuRow.setTypeface(null, Typeface.NORMAL);\n    myMenuRow.setTextColor(getContext().getResources().getColor(R.color.BLACK));\n    myMenuRow.setActivated(false);\n    SpannableString spannablecontent = new SpannableString(myMenuRow.getText());\n    spannablecontent.setSpan(new BackgroundColorSpan(Color.argb(150,0,0,0)), 18, myMenuRow.length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\n    myMenuRow.setText(spannablecontent);\n}\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":17456251,"reputation":89,"user_id":12655022,"display_name":"Braeden Lisowski"},"score":2,"creation_date":1658799456,"post_id":73116903,"comment_id":129135958,"body_markdown":"Can you post the file around where it mentions it in the error?","body":"Can you post the file around where it mentions it in the error?"},{"owner":{"account_id":22534990,"reputation":13,"user_id":16726433,"display_name":"Yuan01216"},"score":0,"creation_date":1658800155,"post_id":73116903,"comment_id":129136046,"body_markdown":"Sure, I added them","body":"Sure, I added them"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1658800912,"post_id":73116903,"comment_id":129136178,"body_markdown":"You posted this error: `cannot parse file D:\\collinear\\.idea\\workspace.xml: Unexpected end tag: expected &lt;/todo-panel&gt;` ‚Äì&#160;The error doesn&#39;t mention anything about Java code. Have you looked at workspace.xml? Can you post that file here?","body":"You posted this error: <code>cannot parse file D:\\collinear\\.idea\\workspace.xml: Unexpected end tag: expected &lt;&#47;todo-panel&gt;</code> ‚Äì The error doesn&#39;t mention anything about Java code. Have you looked at workspace.xml? Can you post that file here?"},{"owner":{"account_id":22534990,"reputation":13,"user_id":16726433,"display_name":"Yuan01216"},"score":0,"creation_date":1658801210,"post_id":73116903,"comment_id":129136233,"body_markdown":"I edited, sorry for the inconvenience","body":"I edited, sorry for the inconvenience"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":3,"creation_date":1658802420,"post_id":73116903,"comment_id":129136370,"body_markdown":"I don&#39;t see anyway that file can cause the error you say it does. I suggest closing IntelliJ, deleting the .idea folder, then opening the project again in IntelliJ.","body":"I don&#39;t see anyway that file can cause the error you say it does. I suggest closing IntelliJ, deleting the .idea folder, then opening the project again in IntelliJ."},{"owner":{"account_id":22534990,"reputation":13,"user_id":16726433,"display_name":"Yuan01216"},"score":0,"creation_date":1658844240,"post_id":73116903,"comment_id":129149359,"body_markdown":"It doesn&#39;t work I tried it before","body":"It doesn&#39;t work I tried it before"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1659340026,"post_id":73116903,"comment_id":129262651,"body_markdown":"Is it possible to share sample project for investigation?","body":"Is it possible to share sample project for investigation?"}],"owner":{"account_id":22534990,"reputation":13,"user_id":16726433,"display_name":"Yuan01216"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":711,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658801176,"creation_date":1658799359,"question_id":73116903,"body_markdown":"when I try to run my code, it says \r\n```\r\nD:\\collinear\\.idea\\workspace.xml\r\nFailed to load project configuration: cannot parse file D:\\collinear\\.idea\\workspace.xml: Unexpected end tag: expected &lt;/todo-panel&gt;\r\n at [row,col {unknown-source}]: [82,11]\r\n```\r\nCould any one help with this?\r\n\r\nThe original file code is\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project version=&quot;4&quot;&gt;\r\n  &lt;component name=&quot;ChangeListManager&quot;&gt;\r\n    &lt;list default=&quot;true&quot; id=&quot;de3c797f-950b-4f17-a955-daf1b2a2e70a&quot; name=&quot;Changes&quot; comment=&quot;&quot; /&gt;\r\n    &lt;option name=&quot;SHOW_DIALOG&quot; value=&quot;false&quot; /&gt;\r\n    &lt;option name=&quot;HIGHLIGHT_CONFLICTS&quot; value=&quot;true&quot; /&gt;\r\n    &lt;option name=&quot;HIGHLIGHT_NON_ACTIVE_CHANGELIST&quot; value=&quot;false&quot; /&gt;\r\n    &lt;option name=&quot;LAST_RESOLUTION&quot; value=&quot;IGNORE&quot; /&gt;\r\n  &lt;/component&gt;\r\n  &lt;component name=&quot;ProjectId&quot; id=&quot;2CSYuDBFUzu27f0DeiBxNrUgEMo&quot; /&gt;\r\n  &lt;component name=&quot;ProjectViewState&quot;&gt;\r\n    &lt;option name=&quot;abbreviatePackageNames&quot; value=&quot;true&quot; /&gt;\r\n    &lt;option name=&quot;autoscrollFromSource&quot; value=&quot;true&quot; /&gt;\r\n    &lt;option name=&quot;autoscrollToSource&quot; value=&quot;true&quot; /&gt;\r\n    &lt;option name=&quot;hideEmptyMiddlePackages&quot; value=&quot;true&quot; /&gt;\r\n    &lt;option name=&quot;showExcludedFiles&quot; value=&quot;false&quot; /&gt;\r\n    &lt;option name=&quot;showModules&quot; value=&quot;false&quot; /&gt;\r\n    &lt;option name=&quot;sortByType&quot; value=&quot;true&quot; /&gt;\r\n  &lt;/component&gt;\r\n  &lt;component name=&quot;PropertiesComponent&quot;&gt;&lt;![CDATA[{\r\n  &quot;keyToString&quot;: {\r\n    &quot;RunOnceActivity.OpenProjectViewOnStart&quot;: &quot;true&quot;,\r\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;\r\n  }\r\n}]]&gt;&lt;/component&gt;\r\n  &lt;component name=&quot;SpellCheckerSettings&quot; RuntimeDictionaries=&quot;0&quot; Folders=&quot;0&quot; CustomDictionaries=&quot;0&quot; DefaultDictionary=&quot;project-level&quot; UseSingleDictionary=&quot;true&quot; transferred=&quot;true&quot; /&gt;\r\n&lt;/project&gt;\r\n```\r\nThis is the code\r\nComputer vision involves analyzing patterns in visual images and reconstructing the real-world objects that produced them. The process is often broken up into two phases: feature detection and pattern recognition. Feature detection involves selecting important features of the image; pattern recognition involves discovering patterns in the features. We will investigate a particularly clean pattern recognition problem involving points and line segments. This kind of pattern recognition arises in many other applications such as statistical data analysis.","title":"Intellij idea compile","body":"<p>when I try to run my code, it says</p>\n<pre><code>D:\\collinear\\.idea\\workspace.xml\nFailed to load project configuration: cannot parse file D:\\collinear\\.idea\\workspace.xml: Unexpected end tag: expected &lt;/todo-panel&gt;\n at [row,col {unknown-source}]: [82,11]\n</code></pre>\n<p>Could any one help with this?</p>\n<p>The original file code is</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project version=&quot;4&quot;&gt;\n  &lt;component name=&quot;ChangeListManager&quot;&gt;\n    &lt;list default=&quot;true&quot; id=&quot;de3c797f-950b-4f17-a955-daf1b2a2e70a&quot; name=&quot;Changes&quot; comment=&quot;&quot; /&gt;\n    &lt;option name=&quot;SHOW_DIALOG&quot; value=&quot;false&quot; /&gt;\n    &lt;option name=&quot;HIGHLIGHT_CONFLICTS&quot; value=&quot;true&quot; /&gt;\n    &lt;option name=&quot;HIGHLIGHT_NON_ACTIVE_CHANGELIST&quot; value=&quot;false&quot; /&gt;\n    &lt;option name=&quot;LAST_RESOLUTION&quot; value=&quot;IGNORE&quot; /&gt;\n  &lt;/component&gt;\n  &lt;component name=&quot;ProjectId&quot; id=&quot;2CSYuDBFUzu27f0DeiBxNrUgEMo&quot; /&gt;\n  &lt;component name=&quot;ProjectViewState&quot;&gt;\n    &lt;option name=&quot;abbreviatePackageNames&quot; value=&quot;true&quot; /&gt;\n    &lt;option name=&quot;autoscrollFromSource&quot; value=&quot;true&quot; /&gt;\n    &lt;option name=&quot;autoscrollToSource&quot; value=&quot;true&quot; /&gt;\n    &lt;option name=&quot;hideEmptyMiddlePackages&quot; value=&quot;true&quot; /&gt;\n    &lt;option name=&quot;showExcludedFiles&quot; value=&quot;false&quot; /&gt;\n    &lt;option name=&quot;showModules&quot; value=&quot;false&quot; /&gt;\n    &lt;option name=&quot;sortByType&quot; value=&quot;true&quot; /&gt;\n  &lt;/component&gt;\n  &lt;component name=&quot;PropertiesComponent&quot;&gt;&lt;![CDATA[{\n  &quot;keyToString&quot;: {\n    &quot;RunOnceActivity.OpenProjectViewOnStart&quot;: &quot;true&quot;,\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;\n  }\n}]]&gt;&lt;/component&gt;\n  &lt;component name=&quot;SpellCheckerSettings&quot; RuntimeDictionaries=&quot;0&quot; Folders=&quot;0&quot; CustomDictionaries=&quot;0&quot; DefaultDictionary=&quot;project-level&quot; UseSingleDictionary=&quot;true&quot; transferred=&quot;true&quot; /&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is the code\nComputer vision involves analyzing patterns in visual images and reconstructing the real-world objects that produced them. The process is often broken up into two phases: feature detection and pattern recognition. Feature detection involves selecting important features of the image; pattern recognition involves discovering patterns in the features. We will investigate a particularly clean pattern recognition problem involving points and line segments. This kind of pattern recognition arises in many other applications such as statistical data analysis.</p>\n"},{"tags":["java","jasper-reports"],"comments":[{"owner":{"account_id":958762,"reputation":4773,"user_id":983559,"display_name":"dada67"},"score":1,"creation_date":1658778177,"post_id":73101159,"comment_id":129131746,"body_markdown":"Both jasperreports and jasperreports-fonts include a resource called jasperreports_extension.properties, and with your gradle task the resource from the second jar overwrites the first one.  You need to append the resources as done [here with Maven](https://stackoverflow.com/a/35025718/983559), but I don&#39;t know how easy it is to do that with Gradle (probably [not easy](https://stackoverflow.com/a/47155705/983559)).","body":"Both jasperreports and jasperreports-fonts include a resource called jasperreports_extension.properties, and with your gradle task the resource from the second jar overwrites the first one.  You need to append the resources as done <a href=\"https://stackoverflow.com/a/35025718/983559\">here with Maven</a>, but I don&#39;t know how easy it is to do that with Gradle (probably <a href=\"https://stackoverflow.com/a/47155705/983559\">not easy</a>)."}],"answers":[{"tags":[],"owner":{"account_id":4801001,"reputation":419,"user_id":3877647,"display_name":"MarceloSouza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658800671,"creation_date":1658800671,"answer_id":73117001,"question_id":73101159,"body_markdown":"To solve it I created a file concatenating both files and put it in the **resource** with the name *new.jasperreports_extension.properties*.\r\n\r\nInside the jar tag I inserted the file name in **exclude** command. After that a insert a command to rename *new.jasperreports_extension.properties* to *jasperreports_extension.properties*.\r\n\r\n    jar {\r\n        exclude &#39;META-INF/*.RSA&#39;, &#39;META-INF/*.SF&#39;,&#39;META-INF/*.DSA&#39;,&#39;jasperreports_extension.properties&#39;\r\n        manifest { attributes &quot;Main-Class&quot;: &quot;br.com.mawan.mawanReport.Main&quot; }\r\n        from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }\r\n        rename(&#39;new.jasperreports_extension.properties&#39;, &quot;jasperreports_extension.properties&quot;)\r\n    }\r\n\r\nAfter that everything worked.\r\n\r\nI would like to give credit to dada67.","title":"No query executer factory registered for the &#39;sql&#39; language","body":"<p>To solve it I created a file concatenating both files and put it in the <strong>resource</strong> with the name <em>new.jasperreports_extension.properties</em>.</p>\n<p>Inside the jar tag I inserted the file name in <strong>exclude</strong> command. After that a insert a command to rename <em>new.jasperreports_extension.properties</em> to <em>jasperreports_extension.properties</em>.</p>\n<pre><code>jar {\n    exclude 'META-INF/*.RSA', 'META-INF/*.SF','META-INF/*.DSA','jasperreports_extension.properties'\n    manifest { attributes &quot;Main-Class&quot;: &quot;br.com.mawan.mawanReport.Main&quot; }\n    from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }\n    rename('new.jasperreports_extension.properties', &quot;jasperreports_extension.properties&quot;)\n}\n</code></pre>\n<p>After that everything worked.</p>\n<p>I would like to give credit to dada67.</p>\n"}],"owner":{"account_id":4801001,"reputation":419,"user_id":3877647,"display_name":"MarceloSouza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73117001,"answer_count":1,"score":0,"last_activity_date":1658800671,"creation_date":1658688786,"question_id":73101159,"body_markdown":"The issue regarding the error: net.sf.jasperreports.engine.JRRuntimeException: No query executer factory registered for the &#39;sql&#39; language\r\n\r\nMy issue is: whenever I try to run JasperReports from dev environment I can get the reports generated. But when I run jar file the error comes up.\r\n\r\nIs there any workaround to set the enironment variable net.sf.jasperreports.query.executer.factory.sql ? I try to use Jasper 6.19.1 and 6.20.0 but the problem us the same.\r\n\r\nThe problem is related to this variable located in the file default.jasperreports.properties that&#39;s located in the JasperReports jar root.\r\n\r\nI&#39;m using IntelliJ Ide and gradle\r\n\r\nI created a program to show the problem. There are only two files.\r\n\r\nMain.java\r\n\r\n    package br.com.mawan.mawanReport;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    \r\n    import net.sf.jasperreports.engine.JRException;\r\n    import net.sf.jasperreports.engine.JasperCompileManager;\r\n    import net.sf.jasperreports.engine.JasperFillManager;\r\n    import net.sf.jasperreports.engine.JasperPrint;\r\n    import net.sf.jasperreports.engine.JasperReport;\r\n    import net.sf.jasperreports.view.JasperViewer;\r\n    \r\n    public class Main {\r\n    \r\n        private static final String url = &quot;jdbc:mysql://localhost:3306/wavecounter&quot;;\r\n        private static final String driver = &quot;com.mysql.cj.jdbc.Driver&quot;;\r\n        private static final String login = &quot;root&quot;;\r\n        private static final String pwd = &quot;&quot;;\r\n    \r\n        public Main() {}\r\n    \r\n        public void print(String path ) throws JRException, SQLException, ClassNotFoundException {\r\n            Class.forName(driver);\r\n            Connection conn = DriverManager.getConnection(url, login, pwd);\r\n            JasperReport report = JasperCompileManager.compileReport( path );\r\n            JasperPrint reportFill = JasperFillManager.fillReport( report , null, conn );\r\n            JasperViewer.viewReport( reportFill , true );\r\n            conn.close();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                new br.com.mawan.mawanReport.Main().print( &quot;C:\\\\wavecounter\\\\reports\\\\Teste.jrxml&quot; );\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nbuild.gradle\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group &#39;br.com.mawan&#39;\r\n    version &#39;1.0.0&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n        jcenter()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation(&quot;org.apache.poi:poi:5.2.2&quot;)\r\n        implementation(&quot;com.lowagie:itext:2.1.7&quot;)\r\n        implementation(&quot;org.olap4j:olap4j:1.2.0&quot;)\r\n        implementation(&quot;net.sf.jasperreports:jasperreports:5.6.1&quot;)\r\n        implementation(&quot;net.sf.jasperreports:jasperreports-fonts:5.6.1&quot;)\r\n        implementation(&quot;xerces:xercesImpl:2.10.0&quot;)\r\n        implementation(&quot;mysql:mysql-connector-java:8.0.29&quot;)\r\n    }\r\n    \r\n    jar {\r\n        manifest { attributes &quot;Main-Class&quot;: &quot;br.com.mawan.mawanReport.Main&quot; }\r\n        from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }\r\n        exclude &#39;META-INF/*.RSA&#39;, &#39;META-INF/*.SF&#39;,&#39;META-INF/*.DSA&#39;\r\n    }\r\n\r\n","title":"No query executer factory registered for the &#39;sql&#39; language","body":"<p>The issue regarding the error: net.sf.jasperreports.engine.JRRuntimeException: No query executer factory registered for the 'sql' language</p>\n<p>My issue is: whenever I try to run JasperReports from dev environment I can get the reports generated. But when I run jar file the error comes up.</p>\n<p>Is there any workaround to set the enironment variable net.sf.jasperreports.query.executer.factory.sql ? I try to use Jasper 6.19.1 and 6.20.0 but the problem us the same.</p>\n<p>The problem is related to this variable located in the file default.jasperreports.properties that's located in the JasperReports jar root.</p>\n<p>I'm using IntelliJ Ide and gradle</p>\n<p>I created a program to show the problem. There are only two files.</p>\n<p>Main.java</p>\n<pre><code>package br.com.mawan.mawanReport;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\nimport net.sf.jasperreports.engine.JRException;\nimport net.sf.jasperreports.engine.JasperCompileManager;\nimport net.sf.jasperreports.engine.JasperFillManager;\nimport net.sf.jasperreports.engine.JasperPrint;\nimport net.sf.jasperreports.engine.JasperReport;\nimport net.sf.jasperreports.view.JasperViewer;\n\npublic class Main {\n\n    private static final String url = &quot;jdbc:mysql://localhost:3306/wavecounter&quot;;\n    private static final String driver = &quot;com.mysql.cj.jdbc.Driver&quot;;\n    private static final String login = &quot;root&quot;;\n    private static final String pwd = &quot;&quot;;\n\n    public Main() {}\n\n    public void print(String path ) throws JRException, SQLException, ClassNotFoundException {\n        Class.forName(driver);\n        Connection conn = DriverManager.getConnection(url, login, pwd);\n        JasperReport report = JasperCompileManager.compileReport( path );\n        JasperPrint reportFill = JasperFillManager.fillReport( report , null, conn );\n        JasperViewer.viewReport( reportFill , true );\n        conn.close();\n    }\n\n    public static void main(String[] args) {\n        try {\n            new br.com.mawan.mawanReport.Main().print( &quot;C:\\\\wavecounter\\\\reports\\\\Teste.jrxml&quot; );\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'br.com.mawan'\nversion '1.0.0'\n\nrepositories {\n    mavenCentral()\n    jcenter()\n}\n\ndependencies {\n    implementation(&quot;org.apache.poi:poi:5.2.2&quot;)\n    implementation(&quot;com.lowagie:itext:2.1.7&quot;)\n    implementation(&quot;org.olap4j:olap4j:1.2.0&quot;)\n    implementation(&quot;net.sf.jasperreports:jasperreports:5.6.1&quot;)\n    implementation(&quot;net.sf.jasperreports:jasperreports-fonts:5.6.1&quot;)\n    implementation(&quot;xerces:xercesImpl:2.10.0&quot;)\n    implementation(&quot;mysql:mysql-connector-java:8.0.29&quot;)\n}\n\njar {\n    manifest { attributes &quot;Main-Class&quot;: &quot;br.com.mawan.mawanReport.Main&quot; }\n    from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }\n    exclude 'META-INF/*.RSA', 'META-INF/*.SF','META-INF/*.DSA'\n}\n</code></pre>\n"},{"tags":["python","java","android","android-studio","gradle"],"comments":[{"owner":{"account_id":77317,"reputation":7311,"user_id":220765,"display_name":"mhsmith"},"score":1,"creation_date":1634649336,"post_id":69598542,"comment_id":123077798,"body_markdown":"Try doing a clean rebuild with the menu item Build &gt; Rebuild Project. If that doesn&#39;t work, please click the &quot;Run with --stacktrace&quot; link, and edit your question to include the stack trace.","body":"Try doing a clean rebuild with the menu item Build &gt; Rebuild Project. If that doesn&#39;t work, please click the &quot;Run with --stacktrace&quot; link, and edit your question to include the stack trace."},{"owner":{"account_id":77317,"reputation":7311,"user_id":220765,"display_name":"mhsmith"},"score":1,"creation_date":1634649343,"post_id":69598542,"comment_id":123077802,"body_markdown":"It would also be useful to include the `dependencies` section of your top-level build.gradle file, showing the version numbers of `com.android.tools.build:gradle` and `com.chaquo.python:gradle`.","body":"It would also be useful to include the <code>dependencies</code> section of your top-level build.gradle file, showing the version numbers of <code>com.android.tools.build:gradle</code> and <code>com.chaquo.python:gradle</code>."},{"owner":{"account_id":7703254,"reputation":1245,"user_id":5835014,"display_name":"TonnyL"},"score":0,"creation_date":1655453885,"post_id":69598542,"comment_id":128340944,"body_markdown":"It&#39;s a question about Android development, but there is a Python tag, interesting &#129300;","body":"It&#39;s a question about Android development, but there is a Python tag, interesting ü§î"}],"answers":[{"tags":[],"owner":{"account_id":7703254,"reputation":1245,"user_id":5835014,"display_name":"TonnyL"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1658800384,"creation_date":1655453761,"answer_id":72656313,"question_id":69598542,"body_markdown":"It&#39;s an AGP related issue: https://youtrack.jetbrains.com/issue/KTIJ-19252\r\n\r\nUpdating AGP up to 4.2.2 or higher will probably solve this issue.","title":"Failed to query the value of task &#39;:app:compileDebugJavaWithJavac&#39; property &#39;options.generatedSourceOutputDirectory&#39;","body":"<p>It's an AGP related issue: <a href=\"https://youtrack.jetbrains.com/issue/KTIJ-19252\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KTIJ-19252</a></p>\n<p>Updating AGP up to 4.2.2 or higher will probably solve this issue.</p>\n"}],"owner":{"account_id":21195640,"reputation":108,"user_id":15587264,"display_name":"ANDROID PRIME"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7249,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":72656313,"answer_count":1,"score":7,"last_activity_date":1658800384,"creation_date":1634409356,"question_id":69598542,"body_markdown":"Can anyone help me to fix this error?\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Failed to query the value of task &#39;:app:compileDebugJavaWithJavac&#39; property &#39;options.generatedSourceOutputDirectory&#39;.\r\n   &gt; Querying the mapped value of map(java.io.File property(org.gradle.api.file.Directory, fixed(class org.gradle.api.internal.file.DefaultFilePropertyFactory$FixedDirectory, C:\\Users\\any user\\Documents\\Desktop\\Chaquopy 9.1\\app\\build\\generated\\ap_generated_sources\\debug\\out)) org.gradle.api.internal.file.DefaultFilePropertyFactory$ToFileTransformer@7424ad41) before task &#39;:app:compileDebugJavaWithJavac&#39; has completed is not supported\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\nUse &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\nSee https://docs.gradle.org/7.0.2/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD FAILED in 2s\r\n12 actionable tasks: 12 up-to-date","title":"Failed to query the value of task &#39;:app:compileDebugJavaWithJavac&#39; property &#39;options.generatedSourceOutputDirectory&#39;","body":"<p>Can anyone help me to fix this error?</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':app:compileDebugJavaWithJavac'.</li>\n</ul>\n<blockquote>\n<p>Failed to query the value of task ':app:compileDebugJavaWithJavac' property 'options.generatedSourceOutputDirectory'.\nQuerying the mapped value of map(java.io.File property(org.gradle.api.file.Directory, fixed(class org.gradle.api.internal.file.DefaultFilePropertyFactory$FixedDirectory, C:\\Users\\any user\\Documents\\Desktop\\Chaquopy 9.1\\app\\build\\generated\\ap_generated_sources\\debug\\out)) org.gradle.api.internal.file.DefaultFilePropertyFactory$ToFileTransformer@7424ad41) before task ':app:compileDebugJavaWithJavac' has completed is not supported</p>\n</blockquote>\n<ul>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"noreferrer\">https://help.gradle.org</a></p>\n</li>\n</ul>\n<p>Deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee <a href=\"https://docs.gradle.org/7.0.2/userguide/command_line_interface.html#sec:command_line_warnings\" rel=\"noreferrer\">https://docs.gradle.org/7.0.2/userguide/command_line_interface.html#sec:command_line_warnings</a></p>\n<p>BUILD FAILED in 2s\n12 actionable tasks: 12 up-to-date</p>\n"},{"tags":["java","mongodb","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1658800269,"post_id":73105167,"comment_id":129136060,"body_markdown":"Use Debezium to read data from Mongo into Kafka. Don&#39;t use a KafkaProducer in your app","body":"Use Debezium to read data from Mongo into Kafka. Don&#39;t use a KafkaProducer in your app"}],"answers":[{"tags":[],"owner":{"account_id":8780993,"reputation":2797,"user_id":6564620,"display_name":"maow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658750975,"creation_date":1658750975,"answer_id":73108995,"question_id":73105167,"body_markdown":"With Kafka itself you can&#39;t. \r\n\r\nKafka offers [transactions](https://www.confluent.io/de-de/blog/transactions-apache-kafka/), but they are restricted to write to multiple partitions in Kafka atomically. They are designed with stream processing in mind, so consuming from one topic and producing to another in one go - but a Kafka transaction cannot know whether a write command to mongo succeeded. \r\n\r\nThe usecase you have is something that appears regularly though. Usually you would use the [outbox pattern](https://debezium.io/blog/2019/02/19/reliable-microservices-data-exchange-with-the-outbox-pattern/).  The answer is to only modify one of the two resources (the database or Apache Kafka) and drive the update of the second one based on that in an eventually consistent manner.\r\n\r\nIf you **really** need atomic writes, I believe it is possible to do so by relying on the ACID guarantees Mongo &gt;= 4.2 gives you instead of Kafka&#39;s transactional guarantees. But this would mean you need to manage the Kafka offsets in Mongo.\r\n\r\nIf you have &quot;Kafka the definitive guide, 2nd edition&quot;, there is a small chapter with more details about what exactly Kafka transactions can and cannot do and possible workarounds.","title":"I need to save data in mongodb and send this data to kafka all atomically","body":"<p>With Kafka itself you can't.</p>\n<p>Kafka offers <a href=\"https://www.confluent.io/de-de/blog/transactions-apache-kafka/\" rel=\"nofollow noreferrer\">transactions</a>, but they are restricted to write to multiple partitions in Kafka atomically. They are designed with stream processing in mind, so consuming from one topic and producing to another in one go - but a Kafka transaction cannot know whether a write command to mongo succeeded.</p>\n<p>The usecase you have is something that appears regularly though. Usually you would use the <a href=\"https://debezium.io/blog/2019/02/19/reliable-microservices-data-exchange-with-the-outbox-pattern/\" rel=\"nofollow noreferrer\">outbox pattern</a>.  The answer is to only modify one of the two resources (the database or Apache Kafka) and drive the update of the second one based on that in an eventually consistent manner.</p>\n<p>If you <strong>really</strong> need atomic writes, I believe it is possible to do so by relying on the ACID guarantees Mongo &gt;= 4.2 gives you instead of Kafka's transactional guarantees. But this would mean you need to manage the Kafka offsets in Mongo.</p>\n<p>If you have &quot;Kafka the definitive guide, 2nd edition&quot;, there is a small chapter with more details about what exactly Kafka transactions can and cannot do and possible workarounds.</p>\n"}],"owner":{"account_id":5193578,"reputation":7,"user_id":16335320,"display_name":"aslan95"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":579,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658800256,"creation_date":1658732750,"question_id":73105167,"body_markdown":"I have spring boot application which persists data to mongodb and sends this data to kafka. I want this two processes to run atomically. That means if data is persisted to mongo then it should be sent to kafka. How can I do it?","title":"I need to save data in mongodb and send this data to kafka all atomically","body":"<p>I have spring boot application which persists data to mongodb and sends this data to kafka. I want this two processes to run atomically. That means if data is persisted to mongo then it should be sent to kafka. How can I do it?</p>\n"},{"tags":["java","stream"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658799672,"creation_date":1658799361,"answer_id":73116904,"question_id":73116882,"body_markdown":"Invert your conditions and join them with an or (`||`). (You want to keep values that are numeric or have a length of 6. See [De Morgan&#39;s laws](https://en.wikipedia.org/wiki/De_Morgan&#39;s_laws).)\r\n\r\n```java\r\nList&lt;String&gt; exlist = teList.stream()\r\n    .filter(s -&gt; s.length() == 6 || s.matches(&quot;[0-9]+&quot;))\r\n    .collect(Collectors.toList());\r\n```","title":"Java streams filter OR condition","body":"<p>Invert your conditions and join them with an or (<code>||</code>). (You want to keep values that are numeric or have a length of 6. See <a href=\"https://en.wikipedia.org/wiki/De_Morgan%27s_laws\" rel=\"nofollow noreferrer\">De Morgan's laws</a>.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; exlist = teList.stream()\n    .filter(s -&gt; s.length() == 6 || s.matches(&quot;[0-9]+&quot;))\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":6090414,"reputation":348,"user_id":11758203,"display_name":"Rahul SK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73116904,"answer_count":1,"score":1,"last_activity_date":1658799672,"creation_date":1658799202,"question_id":73116882,"body_markdown":"I have this list of string values. My condition is to filter out NON numeric values that are not of length 6.\r\nI got the 2 filters below,how do i add in my or condition?\r\n\r\nThanks\r\n\r\n\r\n    \r\n    List&lt;String&gt; teList = new ArrayList&lt;String&gt;();\r\n\tteList.add(&quot;123456&quot;);\r\n\tteList.add(&quot;76543W&quot;);\r\n\tteList.add(&quot;123R56&quot;);\r\n\tteList.add(&quot;888888&quot;);\r\n\tteList.add(&quot;7652&quot;);\r\n\tteList.add(&quot;222222222222&quot;);\r\n\tteList.add(&quot;1234526R&quot;);\r\n\tteList.add(&quot;76543222R&quot;);\r\n\r\n\tList&lt;String&gt; exlist = teList.stream()\r\n\t\t.filter(s -&gt; !s.matches(&quot;[0-9]+&quot;))\r\n\t\t.filter(s -&gt; s.length() != 6)\r\n\t\t.collect(Collectors.toList());\r\n\t\tSystem.out.println(exlist.toString());","title":"Java streams filter OR condition","body":"<p>I have this list of string values. My condition is to filter out NON numeric values that are not of length 6.\nI got the 2 filters below,how do i add in my or condition?</p>\n<p>Thanks</p>\n<pre><code>List&lt;String&gt; teList = new ArrayList&lt;String&gt;();\nteList.add(&quot;123456&quot;);\nteList.add(&quot;76543W&quot;);\nteList.add(&quot;123R56&quot;);\nteList.add(&quot;888888&quot;);\nteList.add(&quot;7652&quot;);\nteList.add(&quot;222222222222&quot;);\nteList.add(&quot;1234526R&quot;);\nteList.add(&quot;76543222R&quot;);\n\nList&lt;String&gt; exlist = teList.stream()\n    .filter(s -&gt; !s.matches(&quot;[0-9]+&quot;))\n    .filter(s -&gt; s.length() != 6)\n    .collect(Collectors.toList());\n    System.out.println(exlist.toString());\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3509903,"reputation":7433,"user_id":3253896,"accept_rate":63,"display_name":"Denis Steinman"},"score":0,"creation_date":1456465532,"post_id":35644304,"comment_id":58969566,"body_markdown":"Maybe you have wrong path to Gradle?.","body":"Maybe you have wrong path to Gradle?."},{"owner":{"account_id":7511323,"reputation":41,"user_id":5706162,"accept_rate":75,"display_name":"Kiel"},"score":0,"creation_date":1456465846,"post_id":35644304,"comment_id":58969680,"body_markdown":"I didn&#39;t touch,view,move or replace the Gradle all the time. how is it possible?","body":"I didn&#39;t touch,view,move or replace the Gradle all the time. how is it possible?"},{"owner":{"account_id":3509903,"reputation":7433,"user_id":3253896,"accept_rate":63,"display_name":"Denis Steinman"},"score":0,"creation_date":1456465996,"post_id":35644304,"comment_id":58969725,"body_markdown":"Sorry, I haven&#39;t this error. Try clean project and build again. If it doesn&#39;t help post project file structure and full log.","body":"Sorry, I haven&#39;t this error. Try clean project and build again. If it doesn&#39;t help post project file structure and full log."},{"owner":{"account_id":7511323,"reputation":41,"user_id":5706162,"accept_rate":75,"display_name":"Kiel"},"score":0,"creation_date":1456466403,"post_id":35644304,"comment_id":58969873,"body_markdown":"Information:Gradle tasks [:app:assembleDebug]\n:app:preBuild UP-TO-DATE\n:app:preDebugBuild UP-TO-DATE\n:app:checkDebugManifest\n:app:preReleaseBuild UP-TO-DATE\n:http...:preBuild UP-TO-DATE\n:http...:preReleaseBuild UP-TO-DATE\n:http...:compileReleaseNdk UP-TO-DATE\n:http...:compileLint\n:http...:copyReleaseLint UP-TO-DATE\n:http...:checkReleaseManifest\n:http...:preDebugAndroidTestBuild UP-TO-DATE\n:http...:preDebugBuild UP-TO-DATE\n:http...:preDebugUnitTestBuild UP-TO-DATE\n:http...:preReleaseUnitTestBuild UP-TO-DATE","body":"Information:Gradle tasks [:app:assembleDebug] :app:preBuild UP-TO-DATE :app:preDebugBuild UP-TO-DATE :app:checkDebugManifest :app:preReleaseBuild UP-TO-DATE :http...:preBuild UP-TO-DATE :http...:preReleaseBuild UP-TO-DATE :http...:compileReleaseNdk UP-TO-DATE :http...:compileLint :http...:copyReleaseLint UP-TO-DATE :http...:checkReleaseManifest :http...:preDebugAndroidTestBuild UP-TO-DATE :http...:preDebugBuild UP-TO-DATE :http...:preDebugUnitTestBuild UP-TO-DATE :http...:preReleaseUnitTestBuild UP-TO-DATE"},{"owner":{"account_id":7012387,"reputation":21,"user_id":5374779,"display_name":"NNS"},"score":0,"creation_date":1456466418,"post_id":35644304,"comment_id":58969877,"body_markdown":"A similar question here and a provided answer. http://stackoverflow.com/a/31275847/5374779","body":"A similar question here and a provided answer. <a href=\"http://stackoverflow.com/a/31275847/5374779\">stackoverflow.com/a/31275847/5374779</a>"},{"owner":{"account_id":7511323,"reputation":41,"user_id":5706162,"accept_rate":75,"display_name":"Kiel"},"score":0,"creation_date":1456466458,"post_id":35644304,"comment_id":58969892,"body_markdown":":http...:prepareComAndroidSupportAppcompatV72311Library\nError:java.io.FileNotFoundException: /.../.../Desktop/.../.gradle/2.8/taskArtifacts/cache.properties (No such file or directory)\n&gt; /.../.../Desktop/.../.gradle/.gradle/2.8/taskArtifacts/cache.properties (No such file or directory)\nInformation:BUILD FAILED\nInformation:Total time: 0.898 secs\nInformation:1 error\nInformation:0 warnings\nInformation:See complete output in console","body":":http...:prepareComAndroidSupportAppcompatV72311Library Error:java.io.FileNotFoundException: /.../.../Desktop/.../.gradle/2.8/taskArtifacts/cache.propert&zwnj;&#8203;ies (No such file or directory) &gt; /.../.../Desktop/.../.gradle/.gradle/2.8/taskArtifacts/cache&zwnj;&#8203;.properties (No such file or directory) Information:BUILD FAILED Information:Total time: 0.898 secs Information:1 error Information:0 warnings Information:See complete output in console"},{"owner":{"account_id":7511323,"reputation":41,"user_id":5706162,"accept_rate":75,"display_name":"Kiel"},"score":0,"creation_date":1456468856,"post_id":35644304,"comment_id":58970896,"body_markdown":"@NNS I tried it already but it didnt help sorry","body":"@NNS I tried it already but it didnt help sorry"}],"answers":[{"tags":[],"owner":{"account_id":7511323,"reputation":41,"user_id":5706162,"accept_rate":75,"display_name":"Kiel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1456474269,"creation_date":1456474269,"answer_id":35646588,"question_id":35644304,"body_markdown":"well I found a solution for my own question and it works perfectly fine\r\n\r\nin cmd/terminal enter this process\r\n\r\n - cd sampleLocation/projectFolder\r\n - cd .gradle\r\n - ls\r\n - cd 2.8\r\n - ls\r\n - cd taskArtifacts/\r\n - ls\r\n - rm cache.properties.lock\r\n\r\n-&gt;cd sampleLocation/projectFolder\r\n(locate your project)\r\n-&gt;cd .gradle\r\n(it will direct you to your Gradle)\r\n-&gt;ls\r\n(it will display the version of your Gradle i think then)\r\n-&gt;cd 2.8\r\n(2.8 is just my example of my Gradle version that displays earlier in ls then enter &quot;ls&quot; again)\r\n-&gt;ls\r\n(it will display the taskArtifacts then go to taskArtifacts)\r\n-&gt;cd taskArtifacts/\r\n(it will direct you to your taskArtifacts then enter &quot;ls&quot; again)\r\n-&gt;ls\r\n(it will display this &quot;cache.properties.lock   fileHashes.bin          fileSnapshots.bin       outputFileStates.bin askArtifacts.bin&quot; and then enter this &quot;rm cache.properties.lock &quot;)\r\n-&gt;rm cache.properties.lock \r\n(it will remove the cache and it will create a new cache for your project)","title":"Error:java.io.FileNotFoundException:/.../.gradle/2.8/taskArtifacts/cache.properties (No such file or directory)","body":"<p>well I found a solution for my own question and it works perfectly fine</p>\n\n<p>in cmd/terminal enter this process</p>\n\n<ul>\n<li>cd sampleLocation/projectFolder</li>\n<li>cd .gradle</li>\n<li>ls</li>\n<li>cd 2.8</li>\n<li>ls</li>\n<li>cd taskArtifacts/</li>\n<li>ls</li>\n<li>rm cache.properties.lock</li>\n</ul>\n\n<p>->cd sampleLocation/projectFolder\n(locate your project)\n->cd .gradle\n(it will direct you to your Gradle)\n->ls\n(it will display the version of your Gradle i think then)\n->cd 2.8\n(2.8 is just my example of my Gradle version that displays earlier in ls then enter \"ls\" again)\n->ls\n(it will display the taskArtifacts then go to taskArtifacts)\n->cd taskArtifacts/\n(it will direct you to your taskArtifacts then enter \"ls\" again)\n->ls\n(it will display this \"cache.properties.lock   fileHashes.bin          fileSnapshots.bin       outputFileStates.bin askArtifacts.bin\" and then enter this \"rm cache.properties.lock \")\n->rm cache.properties.lock \n(it will remove the cache and it will create a new cache for your project)</p>\n"},{"tags":[],"owner":{"account_id":899179,"reputation":13,"user_id":935758,"display_name":"tribone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658797708,"creation_date":1658797708,"answer_id":73116779,"question_id":35644304,"body_markdown":"The answer here did lead me to the problem, but a more reasonable approach is to delete the `.gradle` in both your `$HOME` directory and the project directory.","title":"Error:java.io.FileNotFoundException:/.../.gradle/2.8/taskArtifacts/cache.properties (No such file or directory)","body":"<p>The answer here did lead me to the problem, but a more reasonable approach is to delete the <code>.gradle</code> in both your <code>$HOME</code> directory and the project directory.</p>\n"}],"owner":{"account_id":7511323,"reputation":41,"user_id":5706162,"accept_rate":75,"display_name":"Kiel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658797708,"creation_date":1456465193,"question_id":35644304,"body_markdown":"How can I fix this error? can anyone help me?\r\n\r\n    \r\n\r\n&gt; Error:java.io.FileNotFoundException:/.../.gradle/2.8/taskArtifacts/cache.properties\r\n&gt; (No such file or directory)\r\n\r\nits my first time to encounter this error in android :3\r\n","title":"Error:java.io.FileNotFoundException:/.../.gradle/2.8/taskArtifacts/cache.properties (No such file or directory)","body":"<p>How can I fix this error? can anyone help me?</p>\n\n<blockquote>\n  <p>Error:java.io.FileNotFoundException:/.../.gradle/2.8/taskArtifacts/cache.properties\n  (No such file or directory)</p>\n</blockquote>\n\n<p>its my first time to encounter this error in android :3</p>\n"},{"tags":["java","datetime","influxdb"],"comments":[{"owner":{"account_id":1340857,"reputation":2577,"user_id":1282532,"display_name":"Pavel"},"score":5,"creation_date":1535544779,"post_id":52077097,"comment_id":91104005,"body_markdown":"Do you really think your computer&#39;s system clock is nano-precise?","body":"Do you really think your computer&#39;s system clock is nano-precise?"},{"owner":{"account_id":3381296,"reputation":5075,"user_id":2838289,"display_name":"LuCio"},"score":0,"creation_date":1535544794,"post_id":52077097,"comment_id":91104019,"body_markdown":"Maybe related: [Current time in microseconds in java](https://stackoverflow.com/questions/1712205/current-time-in-microseconds-in-java)","body":"Maybe related: <a href=\"https://stackoverflow.com/questions/1712205/current-time-in-microseconds-in-java\">Current time in microseconds in java</a>"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1535544795,"post_id":52077097,"comment_id":91104020,"body_markdown":"@JackFlamp probably current time, down to nano-second precision.","body":"@JackFlamp probably current time, down to nano-second precision."},{"owner":{"account_id":2466481,"reputation":2619,"user_id":2149453,"display_name":"Himeshgiri gosvami"},"score":0,"creation_date":1535544798,"post_id":52077097,"comment_id":91104022,"body_markdown":"@ Jack Flamp Means lets say your JVM is up for 1 day. when you get nanosecond using this method, that will give you nanosecond only of JVM uptime.","body":"@ Jack Flamp Means lets say your JVM is up for 1 day. when you get nanosecond using this method, that will give you nanosecond only of JVM uptime."},{"owner":{"account_id":2466481,"reputation":2619,"user_id":2149453,"display_name":"Himeshgiri gosvami"},"score":0,"creation_date":1535544909,"post_id":52077097,"comment_id":91104103,"body_markdown":"@Pavel Yes, I am curious and I really wants to know that.","body":"@Pavel Yes, I am curious and I really wants to know that."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1535545758,"post_id":52077097,"comment_id":91104644,"body_markdown":"The solution proposed is not to get the time in nanoseconds but to increment by 1 the time to prevent the duplicate. &quot;_Increment the timestamp by a nanosecond._&quot; I guess you could simple add any value you want, using a incremente value from 0 to x. This would prevent the duplicate to the millisecond problem","body":"The solution proposed is not to get the time in nanoseconds but to increment by 1 the time to prevent the duplicate. &quot;<i>Increment the timestamp by a nanosecond.</i>&quot; I guess you could simple add any value you want, using a incremente value from 0 to x. This would prevent the duplicate to the millisecond problem"},{"owner":{"account_id":2466481,"reputation":2619,"user_id":2149453,"display_name":"Himeshgiri gosvami"},"score":0,"creation_date":1535546066,"post_id":52077097,"comment_id":91104844,"body_markdown":"@Axel with your approach, I am a compromise with time series database, I need time to make time-based queries.","body":"@Axel with your approach, I am a compromise with time series database, I need time to make time-based queries."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535556349,"creation_date":1535545877,"answer_id":52077538,"question_id":52077097,"body_markdown":"You get the best accuracy and precision Java can give you from `Instant.now()`. Whether this is enough to solve your problem, I dare not tell. Certainly on a normal computer there is no way to get nanosecond accuracy.\r\n\r\nYou may need to play some tricks with adding an artificial nanosecond in case `Instant.now()` returns the same value twice.\r\n\r\nOr simple use the trick mentioned in [your link](https://docs.influxdata.com/influxdb/v1.3/troubleshooting/frequently-asked-questions/#how-does-influxdb-handle-duplicate-points):\r\n\r\n&gt; Introduce an arbitrary new tag to enforce uniqueness.\r\n\r\nFor the trick of adding an artificial nanosecond you may for example use something like the following:\r\n\r\n    public class TimeProvider {\r\n    \r\n    \tInstant last = Instant.now().minusSeconds(1);\r\n    \t\r\n    \tInstant getUniqueInstant() {\r\n    \t\tInstant result = Instant.now();\r\n    \t\tif (! result.isAfter(last)) {\r\n    \t\t\tresult = last.plusNanos(1);\r\n    \t\t}\r\n    \t\tlast = result;\r\n    \t\treturn result;\r\n    \t}\r\n    }\r\n\r\nWhen I draw times in rapid succession from this class on my computer, I get results like below. It would seem from the output (the way I interpret it):\r\n\r\n - My JVM cannot get higher precision than microseconds (6 decimals on the seconds) from the system clock.\r\n - An artificial nanosecond is added now and then to keep the instants unique.\r\n\r\n.\r\n\r\n    2018-08-29T15:18:35.617616001Z\r\n    2018-08-29T15:18:35.617617Z\r\n    2018-08-29T15:18:35.617618Z\r\n    2018-08-29T15:18:35.617618001Z\r\n    2018-08-29T15:18:35.617619Z\r\n    2018-08-29T15:18:35.617619001Z\r\n    2018-08-29T15:18:35.617620Z\r\n    2018-08-29T15:18:35.617620001Z\r\n    2018-08-29T15:18:35.617621Z\r\n    2018-08-29T15:18:35.617621001Z\r\n    2018-08-29T15:18:35.617622Z\r\n    2018-08-29T15:18:35.617623Z\r\n    2018-08-29T15:18:35.617623001Z\r\n    2018-08-29T15:18:35.617624Z\r\n    2018-08-29T15:18:35.617624001Z\r\n    2018-08-29T15:18:35.617625Z\r\n    2018-08-29T15:18:35.617625001Z\r\n    2018-08-29T15:18:35.617626Z\r\n    2018-08-29T15:18:35.617626001Z\r\n    2018-08-29T15:18:35.617627Z\r\n    2018-08-29T15:18:35.617627001Z\r\n    2018-08-29T15:18:35.617628Z\r\n    2018-08-29T15:18:35.617631Z\r\n    2018-08-29T15:18:35.617634Z\r\n    2018-08-29T15:18:35.617635Z\r\n    2018-08-29T15:18:35.617636Z\r\n    2018-08-29T15:18:35.617636001Z\r\n    2018-08-29T15:18:35.617637Z\r\n    2018-08-29T15:18:35.617637001Z\r\n    2018-08-29T15:18:35.617638Z\r\n","title":"How to get current time in nano seconds in java?","body":"<p>You get the best accuracy and precision Java can give you from <code>Instant.now()</code>. Whether this is enough to solve your problem, I dare not tell. Certainly on a normal computer there is no way to get nanosecond accuracy.</p>\n\n<p>You may need to play some tricks with adding an artificial nanosecond in case <code>Instant.now()</code> returns the same value twice.</p>\n\n<p>Or simple use the trick mentioned in <a href=\"https://docs.influxdata.com/influxdb/v1.3/troubleshooting/frequently-asked-questions/#how-does-influxdb-handle-duplicate-points\" rel=\"nofollow noreferrer\">your link</a>:</p>\n\n<blockquote>\n  <p>Introduce an arbitrary new tag to enforce uniqueness.</p>\n</blockquote>\n\n<p>For the trick of adding an artificial nanosecond you may for example use something like the following:</p>\n\n<pre><code>public class TimeProvider {\n\n    Instant last = Instant.now().minusSeconds(1);\n\n    Instant getUniqueInstant() {\n        Instant result = Instant.now();\n        if (! result.isAfter(last)) {\n            result = last.plusNanos(1);\n        }\n        last = result;\n        return result;\n    }\n}\n</code></pre>\n\n<p>When I draw times in rapid succession from this class on my computer, I get results like below. It would seem from the output (the way I interpret it):</p>\n\n<ul>\n<li>My JVM cannot get higher precision than microseconds (6 decimals on the seconds) from the system clock.</li>\n<li>An artificial nanosecond is added now and then to keep the instants unique.</li>\n</ul>\n\n<p>.</p>\n\n<pre><code>2018-08-29T15:18:35.617616001Z\n2018-08-29T15:18:35.617617Z\n2018-08-29T15:18:35.617618Z\n2018-08-29T15:18:35.617618001Z\n2018-08-29T15:18:35.617619Z\n2018-08-29T15:18:35.617619001Z\n2018-08-29T15:18:35.617620Z\n2018-08-29T15:18:35.617620001Z\n2018-08-29T15:18:35.617621Z\n2018-08-29T15:18:35.617621001Z\n2018-08-29T15:18:35.617622Z\n2018-08-29T15:18:35.617623Z\n2018-08-29T15:18:35.617623001Z\n2018-08-29T15:18:35.617624Z\n2018-08-29T15:18:35.617624001Z\n2018-08-29T15:18:35.617625Z\n2018-08-29T15:18:35.617625001Z\n2018-08-29T15:18:35.617626Z\n2018-08-29T15:18:35.617626001Z\n2018-08-29T15:18:35.617627Z\n2018-08-29T15:18:35.617627001Z\n2018-08-29T15:18:35.617628Z\n2018-08-29T15:18:35.617631Z\n2018-08-29T15:18:35.617634Z\n2018-08-29T15:18:35.617635Z\n2018-08-29T15:18:35.617636Z\n2018-08-29T15:18:35.617636001Z\n2018-08-29T15:18:35.617637Z\n2018-08-29T15:18:35.617637001Z\n2018-08-29T15:18:35.617638Z\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1658797671,"creation_date":1535546716,"answer_id":52077830,"question_id":52077097,"body_markdown":"In theory, it is possible to get the current time to &quot;better than microsecond&quot; accuracy as follows:\r\n\r\n    Clock clock = Clock.systemDefaultZone();\r\n    Instant instant = clock.instant();   // or Instant.now();\r\n    long seconds = instant.getEpochSecond();\r\n    long nano = instant.getNano();\r\n    // epoch nanoseconds = seconds * 10E9 + nano\r\n\r\nThe problems:\r\n\r\n  1.  The `systemDefaultZone()` call gives the &quot;best available clock&quot; for the platform.  The JVM spec says that this may have better than millisecond precision, but this is not guaranteed.  So the `nano` value may have no better than millisecond precision.\r\n\r\n  2.  The values of seconds and nano depend on the accuracy of the local hardware clock.  On many systems, keeping the local clock synced to a &quot;real&quot; time is difficult.  Often, sub-millisecond accuracy is challenging, and apparent nanosecond accuracy is an illusion.\r\n\r\n  3.  Even you have previously managed to sync the hardware clock with a &quot;real&quot; time source to nanosecond accuracy, the overheads and variability in the making the above calls to acquire the epoch nanosecond time would swamp the hardware clock&#39;s nanosecond accuracy.   Things like memory cache variability, how busy the main memory bus is, etc. And of course the hardware clock may have drifted since it was last synced externally.\r\n\r\nIn practice, on most systems, nano-second accuracy is unachievable, so you need avoid designs / algorithms that depend on this.","title":"How to get current time in nano seconds in java?","body":"<p>In theory, it is possible to get the current time to &quot;better than microsecond&quot; accuracy as follows:</p>\n<pre><code>Clock clock = Clock.systemDefaultZone();\nInstant instant = clock.instant();   // or Instant.now();\nlong seconds = instant.getEpochSecond();\nlong nano = instant.getNano();\n// epoch nanoseconds = seconds * 10E9 + nano\n</code></pre>\n<p>The problems:</p>\n<ol>\n<li><p>The <code>systemDefaultZone()</code> call gives the &quot;best available clock&quot; for the platform.  The JVM spec says that this may have better than millisecond precision, but this is not guaranteed.  So the <code>nano</code> value may have no better than millisecond precision.</p>\n</li>\n<li><p>The values of seconds and nano depend on the accuracy of the local hardware clock.  On many systems, keeping the local clock synced to a &quot;real&quot; time is difficult.  Often, sub-millisecond accuracy is challenging, and apparent nanosecond accuracy is an illusion.</p>\n</li>\n<li><p>Even you have previously managed to sync the hardware clock with a &quot;real&quot; time source to nanosecond accuracy, the overheads and variability in the making the above calls to acquire the epoch nanosecond time would swamp the hardware clock's nanosecond accuracy.   Things like memory cache variability, how busy the main memory bus is, etc. And of course the hardware clock may have drifted since it was last synced externally.</p>\n</li>\n</ol>\n<p>In practice, on most systems, nano-second accuracy is unachievable, so you need avoid designs / algorithms that depend on this.</p>\n"},{"tags":[],"owner":{"account_id":2466481,"reputation":2619,"user_id":2149453,"display_name":"Himeshgiri gosvami"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1535548486,"creation_date":1535548486,"answer_id":52078366,"question_id":52077097,"body_markdown":"Finally, Thanks for Mr. Franz Wilhelmst&#246;tter\r\n\r\nI found one solution. using [http://jenetics.io/][1]  and \r\nClass call [NanoClock.java][2] is converting and doing the same trick that Stephen C suggested. I want to share this because it will useful for others as well. I am not able to confirm that is given precise nano time, but this trick works for me. @Ole V.V. Thanks again for your help.\r\n\r\n\r\n  [1]: https://github.com/jenetics/jenetics\r\n  [2]: https://github.com/jenetics/jenetics/blob/master/jenetics/src/main/java/io/jenetics/util/NanoClock.java","title":"How to get current time in nano seconds in java?","body":"<p>Finally, Thanks for Mr. Franz Wilhelmst√∂tter</p>\n\n<p>I found one solution. using <a href=\"https://github.com/jenetics/jenetics\" rel=\"nofollow noreferrer\">http://jenetics.io/</a>  and \nClass call <a href=\"https://github.com/jenetics/jenetics/blob/master/jenetics/src/main/java/io/jenetics/util/NanoClock.java\" rel=\"nofollow noreferrer\">NanoClock.java</a> is converting and doing the same trick that Stephen C suggested. I want to share this because it will useful for others as well. I am not able to confirm that is given precise nano time, but this trick works for me. @Ole V.V. Thanks again for your help.</p>\n"}],"owner":{"account_id":2466481,"reputation":2619,"user_id":2149453,"display_name":"Himeshgiri gosvami"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26600,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":52078366,"answer_count":3,"score":5,"last_activity_date":1658797671,"creation_date":1535544556,"question_id":52077097,"body_markdown":"I do lots of research but did not find any good answer. \r\nI wanted to get the current date and time in a nanosecond.\r\nI found that `System.nanoTime()` will provide nanoseconds, but that is and system elapsed time. means it will provide a time when system up. I need to use the current date and time in a nanosecond. \r\n\r\nI need this for avoiding duplicate of points in InfluxDB, see [How does InfluxDB handle duplicate points?](https://docs.influxdata.com/influxdb/v1.3/troubleshooting/frequently-asked-questions/#how-does-influxdb-handle-duplicate-points) So when I use millisecond I am facing issues of data union. So need deciding to go with nanosecond but the problem is while generated nano the second using `System.nanoTime()` did not contain current date and time data. and it give me JVM uptime which is useless for me.","title":"How to get current time in nano seconds in java?","body":"<p>I do lots of research but did not find any good answer. \nI wanted to get the current date and time in a nanosecond.\nI found that <code>System.nanoTime()</code> will provide nanoseconds, but that is and system elapsed time. means it will provide a time when system up. I need to use the current date and time in a nanosecond. </p>\n\n<p>I need this for avoiding duplicate of points in InfluxDB, see <a href=\"https://docs.influxdata.com/influxdb/v1.3/troubleshooting/frequently-asked-questions/#how-does-influxdb-handle-duplicate-points\" rel=\"noreferrer\">How does InfluxDB handle duplicate points?</a> So when I use millisecond I am facing issues of data union. So need deciding to go with nanosecond but the problem is while generated nano the second using <code>System.nanoTime()</code> did not contain current date and time data. and it give me JVM uptime which is useless for me.</p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":13404844,"reputation":353,"user_id":9673158,"display_name":"Chirag Shah"},"score":0,"creation_date":1558446804,"post_id":56239378,"comment_id":99098437,"body_markdown":"Please refer https://stackoverflow.com/questions/30165625/whats-difference-between-controller-and-handler-in-spring-mvc","body":"Please refer <a href=\"https://stackoverflow.com/questions/30165625/whats-difference-between-controller-and-handler-in-spring-mvc\" title=\"whats difference between controller and handler in spring mvc\">stackoverflow.com/questions/30165625/&hellip;</a>"},{"owner":{"account_id":14818286,"reputation":11,"user_id":10701496,"display_name":"RobbenPeng"},"score":0,"creation_date":1558449256,"post_id":56239378,"comment_id":99100007,"body_markdown":"@ChiragShah thanks a lot","body":"@ChiragShah thanks a lot"}],"owner":{"account_id":14818286,"reputation":11,"user_id":10701496,"display_name":"RobbenPeng"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658797542,"creation_date":1558445294,"question_id":56239378,"body_markdown":"I&#39;m a developer from China.I am confused about &quot;handler&quot; and &quot;controller&quot; when I read the working principle of SpringMVC framwork, because &quot;handler&quot; and &quot;controller&quot; are translated into the same thing in Chinese. SO, what are the differences between handler and controller? And could you please tell the working principle of SpringMVC?Thanks a lot.","title":"SpringMVC Framework principle","body":"<p>I'm a developer from China.I am confused about \"handler\" and \"controller\" when I read the working principle of SpringMVC framwork, because \"handler\" and \"controller\" are translated into the same thing in Chinese. SO, what are the differences between handler and controller? And could you please tell the working principle of SpringMVC?Thanks a lot.</p>\n"},{"tags":["java","plugins","sonarqube"],"answers":[{"tags":[],"owner":{"account_id":6372974,"reputation":8828,"user_id":4944847,"accept_rate":89,"display_name":"agabrys"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632325670,"creation_date":1628516861,"answer_id":68713184,"question_id":68701282,"body_markdown":"How to develop a custom plugin is documented in [the SonarQube documentation](https://docs.sonarqube.org/latest/extend/developing-plugin/).\r\n\r\n&gt; scan our code for PII leaks. (e.g, if we find &#39;email&#39; inside the argument of a .log function we will inform the user)\r\n\r\nIf the e-mail address would be hardcoded in the code, you shouldn&#39;t have any problems to create a rule which detects it. If it would be read from a property file and next passed to the method, then I&#39;m not sure if it is possible to detect it.","title":"How to develop a custom SonarQube plugin?","body":"<p>How to develop a custom plugin is documented in <a href=\"https://docs.sonarqube.org/latest/extend/developing-plugin/\" rel=\"nofollow noreferrer\">the SonarQube documentation</a>.</p>\n<blockquote>\n<p>scan our code for PII leaks. (e.g, if we find 'email' inside the argument of a .log function we will inform the user)</p>\n</blockquote>\n<p>If the e-mail address would be hardcoded in the code, you shouldn't have any problems to create a rule which detects it. If it would be read from a property file and next passed to the method, then I'm not sure if it is possible to detect it.</p>\n"}],"owner":{"account_id":20729481,"reputation":11,"user_id":15221847,"display_name":"◊©◊ó◊® ◊©◊í◊ô◊ê"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658797433,"creation_date":1628429642,"question_id":68701282,"body_markdown":"We are satisfactorily using SonarQube as part of the pipeline of our product, and lately an idea had emerged of creating a customized plugin in SonarQube that will scan our code for PII leaks. (e.g, if we find &#39;email&#39; inside the argument of a .log function we will inform the user).\r\nIs such a thing possible? Can anybody please give guidance or a plugin creating guide? Couldn&#39;t find anything good online.\r\nThanks!","title":"How to develop a custom SonarQube plugin?","body":"<p>We are satisfactorily using SonarQube as part of the pipeline of our product, and lately an idea had emerged of creating a customized plugin in SonarQube that will scan our code for PII leaks. (e.g, if we find 'email' inside the argument of a .log function we will inform the user).\nIs such a thing possible? Can anybody please give guidance or a plugin creating guide? Couldn't find anything good online.\nThanks!</p>\n"},{"tags":["java","android-studio","android-room"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658797058,"creation_date":1658797058,"answer_id":73116731,"question_id":73110961,"body_markdown":"Somehow you are storing data that does not contain the enclosing square brackets `[` and `]` around the list (in columns **d** and or **value**).\r\n\r\nFor example, the Type converter should convert that value fields/members to be along the lines of `[&quot;26-Jul-2022&quot;]` or for multiple dates `[&quot;26-Jul-2022&quot;,&quot;25-Jul-2022&quot;]`. \r\n\r\nThe Type Converter **`fromArrayList`** does this as it stands. The following based upon your code (first 5 rows) shows, using **App Inspection** that is the case:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\n- rows with id&#39;s 6 and 7, as indicated by the crosses, lack the enclosing square brackets *(see the following for how this data replicates the failure you are encountering)*.\r\n\r\nHowever, if the **`fromArrayList`** is modified to instead be :-\r\n\r\n    @TypeConverter\r\n    public static String fromArrayList(ArrayList&lt;String&gt; list) {\r\n        Log.d(&quot;TYPCONVERTER&quot;,&quot;Type Converter &gt;&gt;fromArrayList&lt;&lt; invoked. ArrayList had &quot; + list.size() + &quot; elements.&quot;);\r\n        Gson gson = new Gson();\r\n        return gson.toJson(list).replace(&quot;[&quot;,&quot;&quot;).replace(&quot;]&quot;,&quot;&quot;);\r\n    }\r\n\r\n- i.e. it strips the &#39;[&#39; and &#39;]&#39;\r\n- see rows 6 and 7\r\n\r\nthen running a test extraction, results in the exception that you are encountering (for the data):-\r\n\r\n    2022-07-26 10:27:15.328 28959-28959/a.a.so73110961javaroomlisttypeconverters E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: a.a.so73110961javaroomlisttypeconverters, PID: 28959\r\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{a.a.so73110961javaroomlisttypeconverters/a.a.so73110961javaroomlisttypeconverters.MainActivity}: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 2 path $\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loop(Looper.java:223)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n         Caused by: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 2 path $\r\n\r\nThe fix is to ascertain where you are saving a string without the enclosing square brackets (and it is very unlikely the Type Converter)\r\n\r\nChanging to use:-\r\n\r\n    @Query(&quot;SELECT * FROM User &quot; +\r\n             &quot;WHERE &quot; +\r\n             &quot; substr(value,1,1) = &#39;[&#39; &quot; +\r\n             &quot;AND substr(value,length(value),1) = &#39;]&#39;  &quot; +\r\n             &quot;AND substr(d,1,1) = &#39;[&#39; &quot; +\r\n             &quot;AND substr(d,length(d),1) = &#39;]&#39; &quot; +\r\n             &quot;AND id=:id &quot; +\r\n             &quot;;&quot;)\r\n     LiveData&lt;User&gt; getValidUser(int id);\r\n\r\ncircumvents the failure BUT would return nothing for a User that has the incorrect data stored.\r\n\r\nUsing App Inspection you could run the following query to ascertain which rows would cause and issue :-\r\n\r\n    SELECT * FROM user WHERE substr(d,1,1) &lt;&gt; &#39;[&#39; OR substr(d,length(d),1) &lt;&gt; &#39;]&#39; OR substr(value,1,1) &lt;&gt; &#39;[&#39; OR substr(value,length(value),1) &lt;&gt; &#39;]&#39;;\r\n\r\ne.g. \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iYijy.png\r\n  [2]: https://i.stack.imgur.com/PuP3L.png","title":"Error while compution live data and IllegalStateException ROOM Database","body":"<p>Somehow you are storing data that does not contain the enclosing square brackets <code>[</code> and <code>]</code> around the list (in columns <strong>d</strong> and or <strong>value</strong>).</p>\n<p>For example, the Type converter should convert that value fields/members to be along the lines of <code>[&quot;26-Jul-2022&quot;]</code> or for multiple dates <code>[&quot;26-Jul-2022&quot;,&quot;25-Jul-2022&quot;]</code>.</p>\n<p>The Type Converter <strong><code>fromArrayList</code></strong> does this as it stands. The following based upon your code (first 5 rows) shows, using <strong>App Inspection</strong> that is the case:-</p>\n<p><a href=\"https://i.stack.imgur.com/iYijy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iYijy.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>rows with id's 6 and 7, as indicated by the crosses, lack the enclosing square brackets <em>(see the following for how this data replicates the failure you are encountering)</em>.</li>\n</ul>\n<p>However, if the <strong><code>fromArrayList</code></strong> is modified to instead be :-</p>\n<pre><code>@TypeConverter\npublic static String fromArrayList(ArrayList&lt;String&gt; list) {\n    Log.d(&quot;TYPCONVERTER&quot;,&quot;Type Converter &gt;&gt;fromArrayList&lt;&lt; invoked. ArrayList had &quot; + list.size() + &quot; elements.&quot;);\n    Gson gson = new Gson();\n    return gson.toJson(list).replace(&quot;[&quot;,&quot;&quot;).replace(&quot;]&quot;,&quot;&quot;);\n}\n</code></pre>\n<ul>\n<li>i.e. it strips the '[' and ']'</li>\n<li>see rows 6 and 7</li>\n</ul>\n<p>then running a test extraction, results in the exception that you are encountering (for the data):-</p>\n<pre><code>2022-07-26 10:27:15.328 28959-28959/a.a.so73110961javaroomlisttypeconverters E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: a.a.so73110961javaroomlisttypeconverters, PID: 28959\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{a.a.so73110961javaroomlisttypeconverters/a.a.so73110961javaroomlisttypeconverters.MainActivity}: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 2 path $\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n     Caused by: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 2 path $\n</code></pre>\n<p>The fix is to ascertain where you are saving a string without the enclosing square brackets (and it is very unlikely the Type Converter)</p>\n<p>Changing to use:-</p>\n<pre><code>@Query(&quot;SELECT * FROM User &quot; +\n         &quot;WHERE &quot; +\n         &quot; substr(value,1,1) = '[' &quot; +\n         &quot;AND substr(value,length(value),1) = ']'  &quot; +\n         &quot;AND substr(d,1,1) = '[' &quot; +\n         &quot;AND substr(d,length(d),1) = ']' &quot; +\n         &quot;AND id=:id &quot; +\n         &quot;;&quot;)\n LiveData&lt;User&gt; getValidUser(int id);\n</code></pre>\n<p>circumvents the failure BUT would return nothing for a User that has the incorrect data stored.</p>\n<p>Using App Inspection you could run the following query to ascertain which rows would cause and issue :-</p>\n<pre><code>SELECT * FROM user WHERE substr(d,1,1) &lt;&gt; '[' OR substr(d,length(d),1) &lt;&gt; ']' OR substr(value,1,1) &lt;&gt; '[' OR substr(value,length(value),1) &lt;&gt; ']';\n</code></pre>\n<p>e.g.</p>\n<p><a href=\"https://i.stack.imgur.com/PuP3L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PuP3L.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22071533,"reputation":231,"user_id":16332451,"display_name":"ALiCe P."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73116731,"answer_count":1,"score":2,"last_activity_date":1658797058,"creation_date":1658759465,"question_id":73110961,"body_markdown":"I need to use two arraylists in my database. Here is the entity class:\r\n\r\n    @Entity\r\n    public class User {\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        @NonNull\r\n        public ArrayList&lt;String&gt; getValues(){\r\n            return values;\r\n        }\r\n    \r\n        @NonNull\r\n        public ArrayList&lt;String&gt; getDates(){\r\n            return dates;\r\n        }\r\n    \r\n        @NonNull\r\n        public String getType_counter() {\r\n            return type_counter;\r\n        }\r\n    \r\n        @NonNull\r\n        public String getWhere_counter() {\r\n            return where_counter;\r\n        }\r\n    \r\n        @PrimaryKey(autoGenerate = true)\r\n        public int id;\r\n    \r\n        @ColumnInfo(name = &quot;d&quot;)\r\n        @TypeConverters({Converters.class})\r\n        public ArrayList&lt;String&gt; dates;                   // arraylist here\r\n    \r\n        @ColumnInfo(name = &quot;value&quot;)\r\n        @TypeConverters({Converters.class})\r\n        public ArrayList&lt;String&gt; values;                  // arraylist here\r\n    \r\n        @ColumnInfo(name = &quot;type&quot;)\r\n        public String type_counter;\r\n    \r\n        @ColumnInfo(name = &quot;location&quot;)\r\n        public String where_counter;\r\n    }\r\n\r\nI have created a TypeConverter class as described in [this][1] answer:\r\n\r\n    public class Converters {\r\n        @TypeConverter\r\n        public static ArrayList&lt;String&gt; fromString(String value) {\r\n            Type listType = new TypeToken&lt;ArrayList&lt;String&gt;&gt;() {}.getType();\r\n            return new Gson().fromJson(value, listType);\r\n        }\r\n    \r\n        @TypeConverter\r\n        public static String fromArrayList(ArrayList&lt;String&gt; list) {\r\n            Gson gson = new Gson();\r\n            return gson.toJson(list);\r\n        }\r\n    }\r\n\r\nI insert the values in the database this way:\r\n\r\n    private void saveNewValue(String value, String type, String location){\r\n    \r\n            // Getting current date\r\n            Date c = Calendar.getInstance().getTime();\r\n            SimpleDateFormat df = new SimpleDateFormat(&quot;dd-MMM-yyyy&quot;, Locale.getDefault());\r\n            String formattedDate = df.format(c);\r\n    \r\n            //Saving new User\r\n            userViewModel = ViewModelProviders.of(this).get(UserViewModel.class);\r\n    \r\n            User user = new User();\r\n            user.values.add(value);\r\n            user.dates.add(formattedDate);\r\n            user.type_counter = type;\r\n            user.where_counter = location;\r\n    \r\n            userViewModel.insert(user);\r\n    \r\n            Toast.makeText(this, &quot;Successfully saved!&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\nI&#39;ve got one activity with `RecyclerView` which has only type and location and when you click on a specific item you go to another activity where another `RecyclerView` shows all the values and dates  of this specific user (by id). \r\n\r\nThis is my DAO class:\r\n\r\n    @Dao\r\n    public interface UserDao {\r\n    \r\n        @Query(&quot;SELECT * FROM User &quot;)\r\n        LiveData&lt;List&lt;User&gt;&gt; getAllValues();\r\n    \r\n        @Insert\r\n        void insertValue(User ... users);\r\n    \r\n        @Delete\r\n        void deleteValue(User user);\r\n    \r\n        @Query(&quot;SELECT location FROM User&quot;)\r\n        LiveData&lt;String[]&gt; getAllLocations();\r\n    \r\n        @Query(&quot;SELECT * from User WHERE id=:id&quot;)\r\n        LiveData&lt;User&gt; getUserWithId(int id);\r\n    \r\n    }\r\n\r\nThis is the error I&#39;m getting:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: arch_disk_io_0\r\n        Process: org.tensorflow.lite.examples.detection, PID: 14774\r\n        java.lang.RuntimeException: Exception while computing database live data.\r\n            at androidx.room.RoomTrackingLiveData$1.run(RoomTrackingLiveData.java:92)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\r\n            at java.lang.Thread.run(Thread.java:764)\r\n         Caused by: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 1 path $\r\n            at com.google.gson.Gson.fromJson(Gson.java:944)\r\n            at com.google.gson.Gson.fromJson(Gson.java:897)\r\n            at com.google.gson.Gson.fromJson(Gson.java:846)\r\n            at org.tensorflow.lite.examples.detection.Converters.fromString(Converters.java:15)\r\n            at org.tensorflow.lite.examples.detection.db.UserDao_Impl$3.call(UserDao_Impl.java:126)\r\n            at org.tensorflow.lite.examples.detection.db.UserDao_Impl$3.call(UserDao_Impl.java:109)\r\n            at androidx.room.RoomTrackingLiveData$1.run(RoomTrackingLiveData.java:90)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)&#160;\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)&#160;\r\n            at java.lang.Thread.run(Thread.java:764)&#160;\r\n         Caused by: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 1 path $\r\n            at com.google.gson.stream.JsonReader.beginArray(JsonReader.java:351)\r\n            at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:80)\r\n            at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:61)\r\n            at com.google.gson.Gson.fromJson(Gson.java:932)\r\n            at com.google.gson.Gson.fromJson(Gson.java:897)&#160;\r\n            at com.google.gson.Gson.fromJson(Gson.java:846)&#160;\r\n            at org.tensorflow.lite.examples.detection.Converters.fromString(Converters.java:15)&#160;\r\n            at org.tensorflow.lite.examples.detection.db.UserDao_Impl$3.call(UserDao_Impl.java:126)&#160;\r\n            at org.tensorflow.lite.examples.detection.db.UserDao_Impl$3.call(UserDao_Impl.java:109)&#160;\r\n            at androidx.room.RoomTrackingLiveData$1.run(RoomTrackingLiveData.java:90)&#160;\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)&#160;\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)&#160;\r\n            at java.lang.Thread.run(Thread.java:764)&#160;\r\n    D/OpenGLRenderer: endAllActiveAnimators on 0x72aa705400 (RippleDrawable) with handle 0x72a70ea8e0\r\n\r\nCould somebody please help me out? Thanks in advance.\r\n\r\nI can provide extra info if necessary.\r\n\r\n  [1]: https://stackoverflow.com/questions/44986626/android-room-database-how-to-handle-arraylist-in-an-entity\r\n","title":"Error while compution live data and IllegalStateException ROOM Database","body":"<p>I need to use two arraylists in my database. Here is the entity class:</p>\n<pre><code>@Entity\npublic class User {\n\n    public int getId() {\n        return id;\n    }\n\n    @NonNull\n    public ArrayList&lt;String&gt; getValues(){\n        return values;\n    }\n\n    @NonNull\n    public ArrayList&lt;String&gt; getDates(){\n        return dates;\n    }\n\n    @NonNull\n    public String getType_counter() {\n        return type_counter;\n    }\n\n    @NonNull\n    public String getWhere_counter() {\n        return where_counter;\n    }\n\n    @PrimaryKey(autoGenerate = true)\n    public int id;\n\n    @ColumnInfo(name = &quot;d&quot;)\n    @TypeConverters({Converters.class})\n    public ArrayList&lt;String&gt; dates;                   // arraylist here\n\n    @ColumnInfo(name = &quot;value&quot;)\n    @TypeConverters({Converters.class})\n    public ArrayList&lt;String&gt; values;                  // arraylist here\n\n    @ColumnInfo(name = &quot;type&quot;)\n    public String type_counter;\n\n    @ColumnInfo(name = &quot;location&quot;)\n    public String where_counter;\n}\n</code></pre>\n<p>I have created a TypeConverter class as described in <a href=\"https://stackoverflow.com/questions/44986626/android-room-database-how-to-handle-arraylist-in-an-entity\">this</a> answer:</p>\n<pre><code>public class Converters {\n    @TypeConverter\n    public static ArrayList&lt;String&gt; fromString(String value) {\n        Type listType = new TypeToken&lt;ArrayList&lt;String&gt;&gt;() {}.getType();\n        return new Gson().fromJson(value, listType);\n    }\n\n    @TypeConverter\n    public static String fromArrayList(ArrayList&lt;String&gt; list) {\n        Gson gson = new Gson();\n        return gson.toJson(list);\n    }\n}\n</code></pre>\n<p>I insert the values in the database this way:</p>\n<pre><code>private void saveNewValue(String value, String type, String location){\n\n        // Getting current date\n        Date c = Calendar.getInstance().getTime();\n        SimpleDateFormat df = new SimpleDateFormat(&quot;dd-MMM-yyyy&quot;, Locale.getDefault());\n        String formattedDate = df.format(c);\n\n        //Saving new User\n        userViewModel = ViewModelProviders.of(this).get(UserViewModel.class);\n\n        User user = new User();\n        user.values.add(value);\n        user.dates.add(formattedDate);\n        user.type_counter = type;\n        user.where_counter = location;\n\n        userViewModel.insert(user);\n\n        Toast.makeText(this, &quot;Successfully saved!&quot;, Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n<p>I've got one activity with <code>RecyclerView</code> which has only type and location and when you click on a specific item you go to another activity where another <code>RecyclerView</code> shows all the values and dates  of this specific user (by id).</p>\n<p>This is my DAO class:</p>\n<pre><code>@Dao\npublic interface UserDao {\n\n    @Query(&quot;SELECT * FROM User &quot;)\n    LiveData&lt;List&lt;User&gt;&gt; getAllValues();\n\n    @Insert\n    void insertValue(User ... users);\n\n    @Delete\n    void deleteValue(User user);\n\n    @Query(&quot;SELECT location FROM User&quot;)\n    LiveData&lt;String[]&gt; getAllLocations();\n\n    @Query(&quot;SELECT * from User WHERE id=:id&quot;)\n    LiveData&lt;User&gt; getUserWithId(int id);\n\n}\n</code></pre>\n<p>This is the error I'm getting:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: arch_disk_io_0\n    Process: org.tensorflow.lite.examples.detection, PID: 14774\n    java.lang.RuntimeException: Exception while computing database live data.\n        at androidx.room.RoomTrackingLiveData$1.run(RoomTrackingLiveData.java:92)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\n        at java.lang.Thread.run(Thread.java:764)\n     Caused by: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 1 path $\n        at com.google.gson.Gson.fromJson(Gson.java:944)\n        at com.google.gson.Gson.fromJson(Gson.java:897)\n        at com.google.gson.Gson.fromJson(Gson.java:846)\n        at org.tensorflow.lite.examples.detection.Converters.fromString(Converters.java:15)\n        at org.tensorflow.lite.examples.detection.db.UserDao_Impl$3.call(UserDao_Impl.java:126)\n        at org.tensorflow.lite.examples.detection.db.UserDao_Impl$3.call(UserDao_Impl.java:109)\n        at androidx.room.RoomTrackingLiveData$1.run(RoomTrackingLiveData.java:90)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)¬†\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)¬†\n        at java.lang.Thread.run(Thread.java:764)¬†\n     Caused by: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 1 path $\n        at com.google.gson.stream.JsonReader.beginArray(JsonReader.java:351)\n        at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:80)\n        at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:61)\n        at com.google.gson.Gson.fromJson(Gson.java:932)\n        at com.google.gson.Gson.fromJson(Gson.java:897)¬†\n        at com.google.gson.Gson.fromJson(Gson.java:846)¬†\n        at org.tensorflow.lite.examples.detection.Converters.fromString(Converters.java:15)¬†\n        at org.tensorflow.lite.examples.detection.db.UserDao_Impl$3.call(UserDao_Impl.java:126)¬†\n        at org.tensorflow.lite.examples.detection.db.UserDao_Impl$3.call(UserDao_Impl.java:109)¬†\n        at androidx.room.RoomTrackingLiveData$1.run(RoomTrackingLiveData.java:90)¬†\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)¬†\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)¬†\n        at java.lang.Thread.run(Thread.java:764)¬†\nD/OpenGLRenderer: endAllActiveAnimators on 0x72aa705400 (RippleDrawable) with handle 0x72a70ea8e0\n</code></pre>\n<p>Could somebody please help me out? Thanks in advance.</p>\n<p>I can provide extra info if necessary.</p>\n"},{"tags":["java","mockito","java-10"],"answers":[{"tags":[],"owner":{"account_id":139113,"reputation":16537,"user_id":344487,"accept_rate":73,"display_name":"Fred"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1658796927,"creation_date":1560404752,"answer_id":56574047,"question_id":56573861,"body_markdown":"You do this usually with `thenAnswer`:\r\n\r\n```java\r\nwhen(doSomething.perform(firstParameter, any(Integer.class), \r\n             any(File.class)))\r\n    .thenAnswer(new Answer&lt;File&gt;() {\r\n          public File answer(InvocationOnMock invocation) throws Throwable {\r\n        return invocation.getArgument(0);\r\n    }\r\n };\r\n```\r\n\r\nand you can simplify this to be\r\n\r\n```java\r\nwhen(doSomething.perform(firstParameter, any(Integer.class), any(File.class)))\r\n  .thenAnswer(invocation -&gt; invocation.getArgument(0));\r\n```","title":"How to return the argument passed to a Mockito-mocked method in the thenReturn function?","body":"<p>You do this usually with <code>thenAnswer</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(doSomething.perform(firstParameter, any(Integer.class), \n             any(File.class)))\n    .thenAnswer(new Answer&lt;File&gt;() {\n          public File answer(InvocationOnMock invocation) throws Throwable {\n        return invocation.getArgument(0);\n    }\n };\n</code></pre>\n<p>and you can simplify this to be</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(doSomething.perform(firstParameter, any(Integer.class), any(File.class)))\n  .thenAnswer(invocation -&gt; invocation.getArgument(0));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7233759,"reputation":2036,"user_id":5519726,"display_name":"marok"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1658357715,"creation_date":1560413086,"answer_id":56575995,"question_id":56573861,"body_markdown":"You can also do with `org.mockito.AdditionalAnswers`\r\n\r\n    when(doSomething.perform(eq(firstParameter), any(Integer.class), any(File.class)))\r\n        .thenAnswer(AdditionalAnswers.returnsFirstArg())\r\n\r\nAlso @Fred solution could be written with lambda\r\n\r\n    when(doSomething.perform(eq(firstParameter), any(Integer.class), any(File.class)))\r\n            .thenAnswer(i-&gt;i.getArgument(0));","title":"How to return the argument passed to a Mockito-mocked method in the thenReturn function?","body":"<p>You can also do with <code>org.mockito.AdditionalAnswers</code></p>\n<pre><code>when(doSomething.perform(eq(firstParameter), any(Integer.class), any(File.class)))\n    .thenAnswer(AdditionalAnswers.returnsFirstArg())\n</code></pre>\n<p>Also @Fred solution could be written with lambda</p>\n<pre><code>when(doSomething.perform(eq(firstParameter), any(Integer.class), any(File.class)))\n        .thenAnswer(i-&gt;i.getArgument(0));\n</code></pre>\n"}],"owner":{"account_id":23249,"reputation":38528,"user_id":58129,"accept_rate":85,"display_name":"Anthony Kong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4775,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":56574047,"answer_count":2,"score":5,"last_activity_date":1658796927,"creation_date":1560403659,"question_id":56573861,"body_markdown":"This is what I want to achieve. \r\n\r\n    MyClass doSomething =  mock(MyClass.class);\r\n    when(doSomething.perform(firstParameter, any(Integer.class), any(File.class)))\r\n        .thenReturn(firstParameter);\r\n\r\nBasically I want the mocked class&#39;s method to always return the first argument that was passed into the method.\r\n\r\nI have tried to use `ArgumentCaptor`, like so\r\n\r\n    ArgumentCaptor&lt;File&gt; inFileCaptor = ArgumentCaptor.forClass(File.class);\r\n    MyClass doSomething = mock(MyClass.class);\r\n    when(doSomething.perform(inFileCaptor.capture(), any(Integer.class), any(File.class)))\r\n        .thenReturn(firstParameter);\r\n\r\nBut `mockito` just failed with this error message:\r\n\r\n\r\n    No argument value was captured!\r\n    You might have forgotten to use argument.capture() in verify()...\r\n    ...or you used capture() in stubbing but stubbed method was not called.\r\n    Be aware that it is recommended to use capture() only with verify()\r\n    \r\n    Examples of correct argument capturing:\r\n        ArgumentCaptor&lt;Person&gt; argument = ArgumentCaptor.forClass(Person.class);\r\n        verify(mock).doSomething(argument.capture());\r\n        assertEquals(&quot;John&quot;, argument.getValue().getName());\r\n\r\nI think the `ArgumentCaptor` class only works with `verify` calls.\r\n\r\nSo how can I return the first parameter as passed-in during test?\r\n\r\n ","title":"How to return the argument passed to a Mockito-mocked method in the thenReturn function?","body":"<p>This is what I want to achieve. </p>\n\n<pre><code>MyClass doSomething =  mock(MyClass.class);\nwhen(doSomething.perform(firstParameter, any(Integer.class), any(File.class)))\n    .thenReturn(firstParameter);\n</code></pre>\n\n<p>Basically I want the mocked class's method to always return the first argument that was passed into the method.</p>\n\n<p>I have tried to use <code>ArgumentCaptor</code>, like so</p>\n\n<pre><code>ArgumentCaptor&lt;File&gt; inFileCaptor = ArgumentCaptor.forClass(File.class);\nMyClass doSomething = mock(MyClass.class);\nwhen(doSomething.perform(inFileCaptor.capture(), any(Integer.class), any(File.class)))\n    .thenReturn(firstParameter);\n</code></pre>\n\n<p>But <code>mockito</code> just failed with this error message:</p>\n\n<pre><code>No argument value was captured!\nYou might have forgotten to use argument.capture() in verify()...\n...or you used capture() in stubbing but stubbed method was not called.\nBe aware that it is recommended to use capture() only with verify()\n\nExamples of correct argument capturing:\n    ArgumentCaptor&lt;Person&gt; argument = ArgumentCaptor.forClass(Person.class);\n    verify(mock).doSomething(argument.capture());\n    assertEquals(\"John\", argument.getValue().getName());\n</code></pre>\n\n<p>I think the <code>ArgumentCaptor</code> class only works with <code>verify</code> calls.</p>\n\n<p>So how can I return the first parameter as passed-in during test?</p>\n"},{"tags":["java","swing","libgdx"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1562652245,"post_id":56938283,"comment_id":100431731,"body_markdown":"Are you asking how to make information in one window available to the other ?  ( coordinates information available to the `JFrame` class or alternatively the `JCheckBox` state available to the `Libgdx` )","body":"Are you asking how to make information in one window available to the other ?  ( coordinates information available to the <code>JFrame</code> class or alternatively the <code>JCheckBox</code> state available to the <code>Libgdx</code> )"},{"owner":{"account_id":15134855,"reputation":93,"user_id":10921658,"display_name":"syclone"},"score":0,"creation_date":1570324639,"post_id":56938283,"comment_id":102877000,"body_markdown":"I figured out how to, yust make sure you use EventQueue.invokelater() also in libgdx then libgdx game engine will interact with swing components.","body":"I figured out how to, yust make sure you use EventQueue.invokelater() also in libgdx then libgdx game engine will interact with swing components."}],"owner":{"account_id":15134855,"reputation":93,"user_id":10921658,"display_name":"syclone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658796817,"creation_date":1562600102,"question_id":56938283,"body_markdown":"Lets say we have 2 java windows, 1 with the libgdx game and another with some swing components that interact with the game. And lets say I want to see screen coordinates in the game log, whenever clicking on the screen and only when a JCeckBox is selected on another window which is JFrame. I have the code to get the coordinates from the screen but how would I go about to make them appear only when that JCheckbox is selected?","title":"How to make swing components interact with Libgdx","body":"<p>Lets say we have 2 java windows, 1 with the libgdx game and another with some swing components that interact with the game. And lets say I want to see screen coordinates in the game log, whenever clicking on the screen and only when a JCeckBox is selected on another window which is JFrame. I have the code to get the coordinates from the screen but how would I go about to make them appear only when that JCheckbox is selected?</p>\n"},{"tags":["java","webview","calendar","google-calendar-api","facebook-messenger-bot"],"owner":{"account_id":11069320,"reputation":77,"user_id":8128052,"display_name":"Francesc Bosch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658796780,"creation_date":1562661421,"question_id":56948515,"body_markdown":"I am making a chatbot to book appointments for different services, and I wanted to show a calendar in the chatbox for the user to choose the day as an alternative to writing it down.\r\n\r\nI am using a JBOS-EAP-7.2 and the chatbot it&#39;s already up and running.\r\n\r\nI am also using the library of Cliver/Racter from GitHub: &quot;https://github.com/Clivern/Racter&quot; to show some buttons, and send the messages.\r\n\r\nI tried this, but I presume it&#39;ll open the calendar in another tab and I&#39;ll not be able to retrieve the date picked by the user. (haven&#39;t managed to make this work either).\r\n```\r\nbutton_message_tpl.setRecipientId(senderId);\r\nbutton_message_tpl.setMessageText(&quot;Choose a date&quot;);\r\nbutton_message_tpl.setButton(&quot;web_url&quot;, &quot;Open calendar&quot;, urlCalendar, &quot;&quot;);\r\nplatform.getBaseSender().send(button_message_tpl);\r\n```\r\nI was looking for some way to introduce a Google Calendar API in the chatbox, in a similar way, but I am not finding any useful information about webviews in Messenger, apart from chatfuel and similar services which I can&#39;t use.\r\n\r\nWhich way may be better for me to show a calendar in the chatbox and be able to retrieve the date clicked by the user? If possible using a Google Calendar API.","title":"Show calendar in messenger chatbot","body":"<p>I am making a chatbot to book appointments for different services, and I wanted to show a calendar in the chatbox for the user to choose the day as an alternative to writing it down.</p>\n<p>I am using a JBOS-EAP-7.2 and the chatbot it's already up and running.</p>\n<p>I am also using the library of Cliver/Racter from GitHub: &quot;https://github.com/Clivern/Racter&quot; to show some buttons, and send the messages.</p>\n<p>I tried this, but I presume it'll open the calendar in another tab and I'll not be able to retrieve the date picked by the user. (haven't managed to make this work either).</p>\n<pre><code>button_message_tpl.setRecipientId(senderId);\nbutton_message_tpl.setMessageText(&quot;Choose a date&quot;);\nbutton_message_tpl.setButton(&quot;web_url&quot;, &quot;Open calendar&quot;, urlCalendar, &quot;&quot;);\nplatform.getBaseSender().send(button_message_tpl);\n</code></pre>\n<p>I was looking for some way to introduce a Google Calendar API in the chatbox, in a similar way, but I am not finding any useful information about webviews in Messenger, apart from chatfuel and similar services which I can't use.</p>\n<p>Which way may be better for me to show a calendar in the chatbox and be able to retrieve the date clicked by the user? If possible using a Google Calendar API.</p>\n"},{"tags":["java","android","in-app-billing"],"answers":[{"tags":[],"owner":{"account_id":8862722,"reputation":245354,"user_id":6618622,"display_name":"CopsOnRoad"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1564055979,"creation_date":1556291646,"answer_id":55870507,"question_id":55742321,"body_markdown":"This generally happens when you have signed out from Google account in your device. All you need to do is just sign in again, if needed do a full restart. \r\n\r\n\r\n","title":"BillingClient: getSkuDetails() failed. Response code: 6","body":"<p>This generally happens when you have signed out from Google account in your device. All you need to do is just sign in again, if needed do a full restart. </p>\n"},{"tags":[],"owner":{"account_id":8407939,"reputation":141,"user_id":6310871,"display_name":"sunjenry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588039504,"creation_date":1588039504,"answer_id":61471453,"question_id":55742321,"body_markdown":"Well, my situation is the connection between my device and google&#39;s servers is unstable.Try to open the GooglePlay,and check if the connection is healthy.And it wroks.","title":"BillingClient: getSkuDetails() failed. Response code: 6","body":"<p>Well, my situation is the connection between my device and google's servers is unstable.Try to open the GooglePlay,and check if the connection is healthy.And it wroks.</p>\n"},{"tags":[],"owner":{"account_id":13010862,"reputation":874,"user_id":9403953,"display_name":"John T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658796648,"creation_date":1658796648,"answer_id":73116707,"question_id":55742321,"body_markdown":"In my case, this happened when a new app I submitted was in &quot;Draft&quot; status, not yet approved by Google. Just wait until it&#39;s approved and payments will start to work.\r\n\r\nAn alternative would be to submit it in the internal track and add the email for you play account as a test user.","title":"BillingClient: getSkuDetails() failed. Response code: 6","body":"<p>In my case, this happened when a new app I submitted was in &quot;Draft&quot; status, not yet approved by Google. Just wait until it's approved and payments will start to work.</p>\n<p>An alternative would be to submit it in the internal track and add the email for you play account as a test user.</p>\n"}],"owner":{"account_id":7503750,"reputation":5055,"user_id":5701085,"display_name":"Asad Ali Choudhry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5077,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55870507,"answer_count":3,"score":1,"last_activity_date":1658796648,"creation_date":1555577124,"question_id":55742321,"body_markdown":"I&#39;ve integrated Google inApp billing in my android App. It was working fine, But now I noticed that on one device its always returning `BILLING_RESPONSE_RESULT_ERROR` response. In Logcat it shows following error.\r\n           \r\n    BillingClient: getSkuDetails() failed. Response code: 6\r\n\r\nI couldn&#39;t find any help regarding this issue, Can someone help me what could be the possible problems and solution. Thanks.","title":"BillingClient: getSkuDetails() failed. Response code: 6","body":"<p>I've integrated Google inApp billing in my android App. It was working fine, But now I noticed that on one device its always returning <code>BILLING_RESPONSE_RESULT_ERROR</code> response. In Logcat it shows following error.</p>\n\n<pre><code>BillingClient: getSkuDetails() failed. Response code: 6\n</code></pre>\n\n<p>I couldn't find any help regarding this issue, Can someone help me what could be the possible problems and solution. Thanks.</p>\n"},{"tags":["java","spring-boot","swagger","openapi","springdoc-openapi-ui"],"answers":[{"tags":[],"owner":{"account_id":22585196,"reputation":31,"user_id":16769286,"display_name":"Cristian David Moraleda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658794301,"creation_date":1658794301,"answer_id":73116531,"question_id":73116339,"body_markdown":"I&#39;ve found the solution! Extracted from [Springdoc.org - F.A.Q.][1]\r\n\r\nIf your file open-api.json, contains the OpenAPI documentation in OpenAPI 3 format. Then simply declare: The file name can be anything you want, from the moment your declaration is consistent yaml or json OpenAPI Spec.\r\n\r\n   springdoc.swagger-ui.url=/open-api.json\r\n\r\nThen the file open-api.json, should be located in: src/main/resources/static No additional configuration is needed.\r\n\r\n\r\n  [1]: https://springdoc.org/faq.html#_how_can_use_custom_jsonyml_file_instead_of_generated_one","title":"How to display a manually generated OAS in &quot;swagger-ui/index.html&quot;","body":"<p>I've found the solution! Extracted from <a href=\"https://springdoc.org/faq.html#_how_can_use_custom_jsonyml_file_instead_of_generated_one\" rel=\"nofollow noreferrer\">Springdoc.org - F.A.Q.</a></p>\n<p>If your file open-api.json, contains the OpenAPI documentation in OpenAPI 3 format. Then simply declare: The file name can be anything you want, from the moment your declaration is consistent yaml or json OpenAPI Spec.</p>\n<p>springdoc.swagger-ui.url=/open-api.json</p>\n<p>Then the file open-api.json, should be located in: src/main/resources/static No additional configuration is needed.</p>\n"}],"owner":{"account_id":22585196,"reputation":31,"user_id":16769286,"display_name":"Cristian David Moraleda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1087,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658796487,"creation_date":1658792228,"question_id":73116339,"body_markdown":"I&#39;ve created a REST API with Spring Boot as a project for a boot camp.\r\n\r\nAfter finishing it, I decided to document the endpoints and found &quot;springdoc-openapi-ui&quot; (which I understand is meant to create automatically documentation based on my project code)\r\n\r\nThe thing is, I&#39;ve found the results quite disappointing so I took the JSON from &quot;/v3/api-docs/&quot;, and pasted it into the online [Swagger Editor][1]\r\n\r\nOnce I finished creating a beautiful documentation I realized I don&#39;t know how to make the &quot;swagger-ui/index.html&quot; point to my swagger.json or swagger.yaml automatically.\r\nI&#39;ve read in the Swagger UI configuration guide that I can create a &quot;swagger-configuration.YAML&quot; file and define a parameter called spec where I can point to my JSON object but I couldn&#39;t understand exactly how to implement that solution (don&#39;t know where to place the file and the syntaxes for said configuration)\r\nAnother option I read somewhere on this page (can&#39;t find it now) was to embed the JSON in the index.html as a script but there was no example on how to do it correctly\r\n\r\nWhich was the whole point of creating manually my documentation\r\n\r\nI&#39;ll appreciate any help and I hope I&#39;ve been clear to explain what I&#39;m looking for.\r\n\r\n\r\n  [1]: https://editor.swagger.io/","title":"How to display a manually generated OAS in &quot;swagger-ui/index.html&quot;","body":"<p>I've created a REST API with Spring Boot as a project for a boot camp.</p>\n<p>After finishing it, I decided to document the endpoints and found &quot;springdoc-openapi-ui&quot; (which I understand is meant to create automatically documentation based on my project code)</p>\n<p>The thing is, I've found the results quite disappointing so I took the JSON from &quot;/v3/api-docs/&quot;, and pasted it into the online <a href=\"https://editor.swagger.io/\" rel=\"nofollow noreferrer\">Swagger Editor</a></p>\n<p>Once I finished creating a beautiful documentation I realized I don't know how to make the &quot;swagger-ui/index.html&quot; point to my swagger.json or swagger.yaml automatically.\nI've read in the Swagger UI configuration guide that I can create a &quot;swagger-configuration.YAML&quot; file and define a parameter called spec where I can point to my JSON object but I couldn't understand exactly how to implement that solution (don't know where to place the file and the syntaxes for said configuration)\nAnother option I read somewhere on this page (can't find it now) was to embed the JSON in the index.html as a script but there was no example on how to do it correctly</p>\n<p>Which was the whole point of creating manually my documentation</p>\n<p>I'll appreciate any help and I hope I've been clear to explain what I'm looking for.</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1658792725,"post_id":73116374,"comment_id":129135044,"body_markdown":"Some reason you can&#39;t set every element to `true` **in** `initializeBooleanArray()`?","body":"Some reason you can&#39;t set every element to <code>true</code> <b>in</b> <code>initializeBooleanArray()</code>?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1658793160,"post_id":73116374,"comment_id":129135117,"body_markdown":"You can accept an `IntBinaryOperator lookup` and do `present[lookup.applyAsInt(i, j) - 1] = true;`. Then have one caller pass `(i, j) -&gt; board.getArray()[i, j]` and the other `(i, j) -&gt; board.getArray()[j, i]`.","body":"You can accept an <code>IntBinaryOperator lookup</code> and do <code>present[lookup.applyAsInt(i, j) - 1] = true;</code>. Then have one caller pass <code>(i, j) -&gt; board.getArray()[i, j]</code> and the other <code>(i, j) -&gt; board.getArray()[j, i]</code>."}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658796456,"creation_date":1658796456,"answer_id":73116694,"question_id":73116374,"body_markdown":"You could use a `boolean` parameter to the extracted method to indicate whether to swap `i` and `j`.  Like this.\r\n\r\n    private void updateArray(Board board, boolean transpose) {\r\n        for (int i = 0; i &lt; Board.COLUMN_SIZE; i++) {\r\n            boolean[] present = initializeBooleanArray();\r\n            for (int j = 0; j &lt; Board.COLUMN_SIZE; j++) {\r\n                int index = transpose ? board.getArray()[j][i] : board.getArray()[i][j];\r\n                present[index - 1] = true;\r\n            }\r\n        }\r\n    }","title":"Problem with extracting method that has one difference inside","body":"<p>You could use a <code>boolean</code> parameter to the extracted method to indicate whether to swap <code>i</code> and <code>j</code>.  Like this.</p>\n<pre><code>private void updateArray(Board board, boolean transpose) {\n    for (int i = 0; i &lt; Board.COLUMN_SIZE; i++) {\n        boolean[] present = initializeBooleanArray();\n        for (int j = 0; j &lt; Board.COLUMN_SIZE; j++) {\n            int index = transpose ? board.getArray()[j][i] : board.getArray()[i][j];\n            present[index - 1] = true;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22502169,"reputation":26,"user_id":16698317,"display_name":"marcin-dolowy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658796456,"creation_date":1658792610,"question_id":73116374,"body_markdown":"This is my code\r\n```\r\nfor (int i = 0; i &lt; Board.COLUMN_SIZE; i++) {\r\n    boolean[] present = initializeBooleanArray();\r\n    for (int j = 0; j &lt; Board.COLUMN_SIZE; j++) {\r\n        present[board.getArray()[i][j] - 1] = true;\r\n    }\r\n}\r\n```\r\n\r\nAnd similar part of code\r\n```\r\nfor (int i = 0; i &lt; Board.COLUMN_SIZE; i++) {\r\n    boolean[] present = initializeBooleanArray();\r\n    for (int j = 0; j &lt; Board.COLUMN_SIZE; j++) {\r\n        present[board.getArray()[j][i] - 1] = true;\r\n    }\r\n}\r\n```\r\nDifference\r\n```\r\npresent[board.getArray()[i][j] - 1] = true;\r\n```\r\n```\r\npresent[board.getArray()[j][i] - 1] = true;\r\n```\r\nHow can I extract this block of code to function? I tried to use functional inteface, but have no idea how to deal with it.","title":"Problem with extracting method that has one difference inside","body":"<p>This is my code</p>\n<pre><code>for (int i = 0; i &lt; Board.COLUMN_SIZE; i++) {\n    boolean[] present = initializeBooleanArray();\n    for (int j = 0; j &lt; Board.COLUMN_SIZE; j++) {\n        present[board.getArray()[i][j] - 1] = true;\n    }\n}\n</code></pre>\n<p>And similar part of code</p>\n<pre><code>for (int i = 0; i &lt; Board.COLUMN_SIZE; i++) {\n    boolean[] present = initializeBooleanArray();\n    for (int j = 0; j &lt; Board.COLUMN_SIZE; j++) {\n        present[board.getArray()[j][i] - 1] = true;\n    }\n}\n</code></pre>\n<p>Difference</p>\n<pre><code>present[board.getArray()[i][j] - 1] = true;\n</code></pre>\n<pre><code>present[board.getArray()[j][i] - 1] = true;\n</code></pre>\n<p>How can I extract this block of code to function? I tried to use functional inteface, but have no idea how to deal with it.</p>\n"},{"tags":["java","sql","postgresql","spring-boot"],"comments":[{"owner":{"account_id":18431035,"reputation":582,"user_id":13426164,"display_name":"Kris"},"score":0,"creation_date":1658759727,"post_id":73110713,"comment_id":129125071,"body_markdown":"Probably have a loop that goes over each rolename and returns entry by rolename. Combined with a custom exception for a case when the entry returned == null","body":"Probably have a loop that goes over each rolename and returns entry by rolename. Combined with a custom exception for a case when the entry returned == null"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659256364,"post_id":73110713,"comment_id":129247421,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658795767,"creation_date":1658795767,"answer_id":73116648,"question_id":73110713,"body_markdown":"Making a database call in a for loop is an expensive operation. Instead, it&#39;s better to load the data at once and do logic operation on it.\r\n\r\n`findByNameIn(List&lt;String&gt; roleNames)` should do the trick for your case. Loading the data and checking the size of returned list with user given list or extracting matching names seems to be a better solution.","title":"Get all the list of roles from sql in spring boot","body":"<p>Making a database call in a for loop is an expensive operation. Instead, it's better to load the data at once and do logic operation on it.</p>\n<p><code>findByNameIn(List&lt;String&gt; roleNames)</code> should do the trick for your case. Loading the data and checking the size of returned list with user given list or extracting matching names seems to be a better solution.</p>\n"}],"owner":{"display_name":"user14544169"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73116648,"answer_count":1,"score":0,"last_activity_date":1658795767,"creation_date":1658758351,"question_id":73110713,"body_markdown":"I have a table like - (roleid, rolename)\r\n\r\nUser will give list of rolenames and I want to find all the matched records. If any of the rolename not exist in database should through an error in database.\r\n\r\nDo i need iterate all the rolenames list and every time call findbyName() ? or any simple way ?","title":"Get all the list of roles from sql in spring boot","body":"<p>I have a table like - (roleid, rolename)</p>\n<p>User will give list of rolenames and I want to find all the matched records. If any of the rolename not exist in database should through an error in database.</p>\n<p>Do i need iterate all the rolenames list and every time call findbyName() ? or any simple way ?</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":989600,"reputation":30745,"user_id":1007273,"display_name":"hovanessyan"},"score":3,"creation_date":1341937571,"post_id":11417686,"comment_id":15058749,"body_markdown":"Do you have more than 1 class named &quot;System&quot; ?","body":"Do you have more than 1 class named &quot;System&quot; ?"},{"owner":{"account_id":1028420,"reputation":18799,"user_id":1037210,"accept_rate":100,"display_name":"Lion"},"score":0,"creation_date":1341937666,"post_id":11417686,"comment_id":15058790,"body_markdown":"Or alternatively use `System.out.println()` directly, since the `java.lang` package is imported implicitly.","body":"Or alternatively use <code>System.out.println()</code> directly, since the <code>java.lang</code> package is imported implicitly."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1341937929,"creation_date":1341937524,"answer_id":11417707,"question_id":11417686,"body_markdown":"Import it using a `static` import:\r\n\r\n        import static java.lang.System.out;\r\n\r\nHowever, I&#39;d recommend that you don&#39;t do this.\r\n\r\n  - Using the full name makes references to `System.out` stand out, and makes them easier to &quot;grep&quot; for ... if you need to nuke traceprints.\r\n\r\n  - If you need to write a lot of stuff to the console, you should make `out` a variable or a method parameter.  This will help to make your code more reusable; e.g. so that it can write to somewhere other than `System.out`.","title":"out.println says out cannot be resolved","body":"<p>Import it using a <code>static</code> import:</p>\n\n<pre><code>    import static java.lang.System.out;\n</code></pre>\n\n<p>However, I'd recommend that you don't do this.</p>\n\n<ul>\n<li><p>Using the full name makes references to <code>System.out</code> stand out, and makes them easier to \"grep\" for ... if you need to nuke traceprints.</p></li>\n<li><p>If you need to write a lot of stuff to the console, you should make <code>out</code> a variable or a method parameter.  This will help to make your code more reusable; e.g. so that it can write to somewhere other than <code>System.out</code>.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1018999,"reputation":8457,"user_id":1029916,"accept_rate":94,"display_name":"NominSim"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1341937629,"creation_date":1341937559,"answer_id":11417715,"question_id":11417686,"body_markdown":"Use:\r\n\r\n    import static java.lang.System.out;","title":"out.println says out cannot be resolved","body":"<p>Use:</p>\n\n<pre><code>import static java.lang.System.out;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1341937715,"creation_date":1341937715,"answer_id":11417748,"question_id":11417686,"body_markdown":"Just a shot in the dark, I think this is the `out` you are looking for:\r\n\r\n\tpublic class OutServlet extends HttpServlet {\r\n\r\n\t\tpublic void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t\tPrintWriter out = response.getWriter();\r\n\t\t\tout.println(&quot;foo&quot;);\r\n\t\t}\r\n\t}","title":"out.println says out cannot be resolved","body":"<p>Just a shot in the dark, I think this is the <code>out</code> you are looking for:</p>\n\n<pre><code>public class OutServlet extends HttpServlet {\n\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        PrintWriter out = response.getWriter();\n        out.println(\"foo\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9693837,"reputation":57,"user_id":7191017,"display_name":"Pankaj Joshi"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1479774022,"creation_date":1479755645,"answer_id":40727662,"question_id":11417686,"body_markdown":"You should write `System.out.println();` inside a function.\r\n\r\nIf you write it directly into the class then it might show the error that you are having right now.","title":"out.println says out cannot be resolved","body":"<p>You should write <code>System.out.println();</code> inside a function.</p>\n\n<p>If you write it directly into the class then it might show the error that you are having right now.</p>\n"},{"tags":[],"owner":{"account_id":4454885,"reputation":463,"user_id":3625524,"display_name":"Saadat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555249097,"creation_date":1555249097,"answer_id":55675895,"question_id":11417686,"body_markdown":"If your are looking to put some debug outputs, you can do this:\r\n\r\n    System.out.println(&quot;foo&quot;);\r\n\r\nIf your are looking for adding the output to HTML not printing on debug console you can do as follow:\r\nFirst you should add the &#39;servlet-api.jar&#39; to your project. Then simply you can use this if you want to add your output to HTML:\r\n\r\n    response.getWriter().println(&quot;foo&quot;);\r\n\r\nI hope it helps.","title":"out.println says out cannot be resolved","body":"<p>If your are looking to put some debug outputs, you can do this:</p>\n\n<pre><code>System.out.println(\"foo\");\n</code></pre>\n\n<p>If your are looking for adding the output to HTML not printing on debug console you can do as follow:\nFirst you should add the 'servlet-api.jar' to your project. Then simply you can use this if you want to add your output to HTML:</p>\n\n<pre><code>response.getWriter().println(\"foo\");\n</code></pre>\n\n<p>I hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":16788770,"reputation":99,"user_id":12136987,"display_name":"Goblinkiller"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576169954,"creation_date":1576169954,"answer_id":59309457,"question_id":11417686,"body_markdown":"I had this problem. I found out I didn&#39;t have main method( public static void main(string[]args) and that is why it was giving me this error. Hope this helps.","title":"out.println says out cannot be resolved","body":"<p>I had this problem. I found out I didn't have main method( public static void main(string[]args) and that is why it was giving me this error. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":18324827,"reputation":1,"user_id":17788563,"display_name":"Saurav jha"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1658795026,"creation_date":1658612498,"answer_id":73094381,"question_id":11417686,"body_markdown":"Can you please check whether you are having any class name as &quot;System&quot; ?  \r\nThis could be one reason.  \r\nLike in the code below if I use class name as System it would end up with the same Error like yours. \r\n&gt; Cannot use Identifier &#39;System&#39; as Class name;\r\n\r\n    public class System {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tint A[] = { 3, 9, 7, 8, 12, 6, 15, 5, 4, 10 };\r\n\r\n\t\tfor (int x : A) {\r\n\t\t\tSystem.out.print(x + &quot;, &quot;);\r\n\r\n\t\t}\r\n\t\tSystem.out.println(&quot;\\n*******************&quot;);\r\n\t\tint t = A[A.length - 1];\r\n\r\n\t\tSystem.out.println(t);\r\n\r\n\t}\r\n\r\n    }","title":"out.println says out cannot be resolved","body":"<p>Can you please check whether you are having any class name as &quot;System&quot; ?<br />\nThis could be one reason.<br />\nLike in the code below if I use class name as System it would end up with the same Error like yours.</p>\n<blockquote>\n<p>Cannot use Identifier 'System' as Class name;</p>\n</blockquote>\n<pre><code>public class System {\n\npublic static void main(String[] args) {\n\n    int A[] = { 3, 9, 7, 8, 12, 6, 15, 5, 4, 10 };\n\n    for (int x : A) {\n        System.out.print(x + &quot;, &quot;);\n\n    }\n    System.out.println(&quot;\\n*******************&quot;);\n    int t = A[A.length - 1];\n\n    System.out.println(t);\n\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":229420,"reputation":27592,"user_id":492372,"accept_rate":67,"display_name":"London guy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36026,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":11417748,"answer_count":7,"score":3,"last_activity_date":1658795026,"creation_date":1341937467,"question_id":11417686,"body_markdown":"When I write `out.println()`, eclipse complains that out cannot be resolved.\r\n\r\nI have imported `java.io.*` and other servlet packages.\r\n\r\n","title":"out.println says out cannot be resolved","body":"<p>When I write <code>out.println()</code>, eclipse complains that out cannot be resolved.</p>\n\n<p>I have imported <code>java.io.*</code> and other servlet packages.</p>\n"},{"tags":["java","jdbc","metadata","database-metadata"],"comments":[{"owner":{"account_id":2220534,"reputation":276,"user_id":2128554,"accept_rate":62,"display_name":"learner"},"score":1,"creation_date":1463129596,"post_id":12367828,"comment_id":61942481,"body_markdown":"Hello all. This is an info for future visitors. If your requirement is to get the field value irrespective of data type of that column, you can use getObject method of resultSet and setObject method of PreparedStatement while inserting. Here is an eg. `while ( rsdata.next() )\n\t\t{\n\t\t\tfor ( int i = 0; i &lt; col_size; i++)\n\t\t\t{\n\t\t\t\tcolumnValue = rsdata.getObject(i+1);\n\t\t\t\tpstmtInsert = conRenameInfo.prepareStatement(&quot;INSERT INTO &quot; + tableName + &quot; (&quot; + columnName + &quot;) VALUES (?) &quot;);\n\t\t\t\tpstmtInsert.setObject(1, columnValue);\n\t\t\t\tpstmtInsert.executeUpdate();\n\t\t\t}\n\t\t}`","body":"Hello all. This is an info for future visitors. If your requirement is to get the field value irrespective of data type of that column, you can use getObject method of resultSet and setObject method of PreparedStatement while inserting. Here is an eg. <code>while ( rsdata.next() ) \t\t{ \t\t\tfor ( int i = 0; i &lt; col_size; i++) \t\t\t{ \t\t\t\tcolumnValue = rsdata.getObject(i+1); \t\t\t\tpstmtInsert = conRenameInfo.prepareStatement(&quot;INSERT INTO &quot; + tableName + &quot; (&quot; + columnName + &quot;) VALUES (?) &quot;); \t\t\t\tpstmtInsert.setObject(1, columnValue); \t\t\t\tpstmtInsert.executeUpdate(); \t\t\t} \t\t}</code>"}],"answers":[{"tags":[],"owner":{"account_id":48120,"reputation":93879,"user_id":142822,"display_name":"KV Prajapati"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1347360022,"creation_date":1347360022,"answer_id":12367883,"question_id":12367828,"body_markdown":"You can call, \r\n\r\nTo returns designated column&#39;s SQL type.\r\n\r\n`int ResultSetMetaData.getColumnType(int column)`\r\n\r\nTo return designated column&#39;s database-specific type name.\r\n\r\n`String ResultSetMetaData.getColumnTypeName(int column)`","title":"How can I get different datatypes from ResultSetMetaData in Java?","body":"<p>You can call, </p>\n\n<p>To returns designated column's SQL type.</p>\n\n<p><code>int ResultSetMetaData.getColumnType(int column)</code></p>\n\n<p>To return designated column's database-specific type name.</p>\n\n<p><code>String ResultSetMetaData.getColumnTypeName(int column)</code></p>\n"},{"tags":[],"owner":{"account_id":1597847,"reputation":471,"user_id":1479521,"accept_rate":50,"display_name":"Jignesh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1347360202,"creation_date":1347360202,"answer_id":12367935,"question_id":12367828,"body_markdown":"    ResultSet rs;\r\n    int column;\r\n    .....\r\n    ResultSetMetaData metadata = rs.getMetaData();\r\n    metadata.getColumnTypeName(column); // database specific type name\r\n    metadata.getColumnType(column);  // returns the SQL type\r\n   ","title":"How can I get different datatypes from ResultSetMetaData in Java?","body":"<pre><code>ResultSet rs;\nint column;\n.....\nResultSetMetaData metadata = rs.getMetaData();\nmetadata.getColumnTypeName(column); // database specific type name\nmetadata.getColumnType(column);  // returns the SQL type\n</code></pre>\n"},{"tags":[],"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"down_vote_count":1,"up_vote_count":39,"is_accepted":true,"score":38,"last_activity_date":1658794641,"creation_date":1347360318,"answer_id":12367965,"question_id":12367828,"body_markdown":"The [`ResultSetMetaData.getColumnType(int column)`][1] returns a `int` value specifying the column type found in [`java.sql.Types`][2].\r\n\r\nExample:\r\n\r\n    Connection connection = DriverManager.getConnection(JDBC_URL, JDBC_USERNAME, JDBC_PASSWORD);\r\n    PreparedStatement statement = connection.prepareStatement(JDBC_SELECT);\r\n    ResultSet rs = statement.executeQuery();\r\n    PrintStream out = System.out;\r\n    \r\n    if (rs != null) {\r\n    \twhile (rs.next()) {\r\n    \t\tResultSetMetaData rsmd = rs.getMetaData();\r\n    \t\tfor (int i = 1; i &lt;= rsmd.getColumnCount(); i++) {\r\n    \t\t\tif (i &gt; 1) {\r\n    \t\t\t\tout.print(&quot;,&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t\tint type = rsmd.getColumnType(i);\r\n    \t\t\tif (type == Types.VARCHAR || type == Types.CHAR) {\r\n    \t\t\t\tout.print(rs.getString(i));\r\n    \t\t\t} else {\r\n    \t\t\t\tout.print(rs.getLong(i));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\t\r\n    \t\tout.println();\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/sql/ResultSetMetaData.html#getColumnType%28int%29\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/sql/Types.html\r\n","title":"How can I get different datatypes from ResultSetMetaData in Java?","body":"<p>The <a href=\"http://docs.oracle.com/javase/6/docs/api/java/sql/ResultSetMetaData.html#getColumnType%28int%29\" rel=\"nofollow noreferrer\"><code>ResultSetMetaData.getColumnType(int column)</code></a> returns a <code>int</code> value specifying the column type found in <a href=\"http://docs.oracle.com/javase/6/docs/api/java/sql/Types.html\" rel=\"nofollow noreferrer\"><code>java.sql.Types</code></a>.</p>\n<p>Example:</p>\n<pre><code>Connection connection = DriverManager.getConnection(JDBC_URL, JDBC_USERNAME, JDBC_PASSWORD);\nPreparedStatement statement = connection.prepareStatement(JDBC_SELECT);\nResultSet rs = statement.executeQuery();\nPrintStream out = System.out;\n\nif (rs != null) {\n    while (rs.next()) {\n        ResultSetMetaData rsmd = rs.getMetaData();\n        for (int i = 1; i &lt;= rsmd.getColumnCount(); i++) {\n            if (i &gt; 1) {\n                out.print(&quot;,&quot;);\n            }\n\n            int type = rsmd.getColumnType(i);\n            if (type == Types.VARCHAR || type == Types.CHAR) {\n                out.print(rs.getString(i));\n            } else {\n                out.print(rs.getLong(i));\n            }\n        }\n            \n        out.println();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2971282,"reputation":927,"user_id":2523281,"accept_rate":30,"display_name":"vineetv2821993"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403797271,"creation_date":1403797271,"answer_id":24434816,"question_id":12367828,"body_markdown":"I think the above answer is not going in loop and have some lack in details. This code snippet can improve to just show Column Name and corresponding datatype. Here is the fully working code\r\n\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.ResultSetMetaData;\r\n    import java.sql.SQLException;\r\n    \r\n    public class Test {\r\n    \t\r\n    \tprivate static final String DRIVER = &quot;com.mysql.jdbc.Driver&quot;;\r\n    \tprivate static final String HOST = &quot;192.168.56.101&quot;;\r\n    \tprivate static final String PORT = &quot;3316&quot;;\r\n    \tprivate static final String CONNECTION_URL = &quot;jdbc:mysql://&quot;+HOST+&quot;:&quot;+PORT+&quot;/&quot;;\r\n    \tprivate static final String USERNAME = &quot;user&quot;;\r\n    \tprivate static final String PASSWORD = &quot;pwd&quot;;\r\n    \tprivate static final String DATABASE = &quot;db&quot;;\r\n    \tprivate static final String TABLE = &quot;table&quot;;\r\n    \tprivate static final String QUERY = &quot;select * from &quot;+DATABASE+&quot;.&quot;+TABLE+&quot; where 1=0&quot;;\r\n    \t\r\n    \tpublic static void main(String[] args) throws ClassNotFoundException, SQLException {\r\n    \t\tClass.forName(DRIVER);\r\n    \t\tConnection con = DriverManager.getConnection (CONNECTION_URL , USERNAME, PASSWORD);\r\n    \t\tResultSet rs = con.createStatement().executeQuery(QUERY);\r\n    \t\tif (rs != null) {\r\n    \t\t\tSystem.out.println(&quot;Column Type\\t\\t Column Name&quot;);\r\n    \r\n    \t\t        ResultSetMetaData rsmd = rs.getMetaData();\r\n    \t\t        for (int i = 1; i &lt;= rsmd.getColumnCount(); i++) {\r\n    \t\t            System.out.println(rsmd.getColumnTypeName(i)+&quot;\\t\\t\\t&quot;+rsmd.getColumnName(i));\r\n    \t\t    }\r\n    \t\t}\t\r\n    \t}\r\n    }\r\n\r\n","title":"How can I get different datatypes from ResultSetMetaData in Java?","body":"<p>I think the above answer is not going in loop and have some lack in details. This code snippet can improve to just show Column Name and corresponding datatype. Here is the fully working code</p>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.ResultSetMetaData;\nimport java.sql.SQLException;\n\npublic class Test {\n\n    private static final String DRIVER = \"com.mysql.jdbc.Driver\";\n    private static final String HOST = \"192.168.56.101\";\n    private static final String PORT = \"3316\";\n    private static final String CONNECTION_URL = \"jdbc:mysql://\"+HOST+\":\"+PORT+\"/\";\n    private static final String USERNAME = \"user\";\n    private static final String PASSWORD = \"pwd\";\n    private static final String DATABASE = \"db\";\n    private static final String TABLE = \"table\";\n    private static final String QUERY = \"select * from \"+DATABASE+\".\"+TABLE+\" where 1=0\";\n\n    public static void main(String[] args) throws ClassNotFoundException, SQLException {\n        Class.forName(DRIVER);\n        Connection con = DriverManager.getConnection (CONNECTION_URL , USERNAME, PASSWORD);\n        ResultSet rs = con.createStatement().executeQuery(QUERY);\n        if (rs != null) {\n            System.out.println(\"Column Type\\t\\t Column Name\");\n\n                ResultSetMetaData rsmd = rs.getMetaData();\n                for (int i = 1; i &lt;= rsmd.getColumnCount(); i++) {\n                    System.out.println(rsmd.getColumnTypeName(i)+\"\\t\\t\\t\"+rsmd.getColumnName(i));\n            }\n        }   \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1625887,"reputation":7853,"user_id":1501457,"accept_rate":87,"display_name":"Java Questions"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78580,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":12367965,"answer_count":4,"score":26,"last_activity_date":1658794641,"creation_date":1347359829,"question_id":12367828,"body_markdown":"I have a ResultSet that returns data of different types. The query is constructed dynamically so, at compile time, I don&#39;t know what type of value the query will return.\r\n\r\nI have written the following code assuming that all results are Strings. But I want to get the type of each value too. How can I do this?\r\n\r\nBelow is the code I have written.\r\n\r\n    while (reportTable_rst.next()) {\r\n    \tString column = reportTable_rst.getString(columnIterator);\r\n    }\r\n\r\nAt this point, I would like to get the column type, and get the value according to the data type.","title":"How can I get different datatypes from ResultSetMetaData in Java?","body":"<p>I have a ResultSet that returns data of different types. The query is constructed dynamically so, at compile time, I don't know what type of value the query will return.</p>\n\n<p>I have written the following code assuming that all results are Strings. But I want to get the type of each value too. How can I do this?</p>\n\n<p>Below is the code I have written.</p>\n\n<pre><code>while (reportTable_rst.next()) {\n    String column = reportTable_rst.getString(columnIterator);\n}\n</code></pre>\n\n<p>At this point, I would like to get the column type, and get the value according to the data type.</p>\n"},{"tags":["java","arrays","recursion"],"comments":[{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":2,"creation_date":1532810618,"post_id":51575102,"comment_id":90115937,"body_markdown":"`sumnums.length` will be 2, while the only existing indexes are 0 and 1. You probably meant to do `int j = sumnums.length - 1`","body":"<code>sumnums.length</code> will be 2, while the only existing indexes are 0 and 1. You probably meant to do <code>int j = sumnums.length - 1</code>"},{"owner":{"account_id":11356763,"reputation":27,"user_id":8326163,"display_name":"Cydia Pone"},"score":0,"creation_date":1532810916,"post_id":51575102,"comment_id":90116001,"body_markdown":"Thanks. An oversight on my part. At least that solves that issue I&#39;m having.","body":"Thanks. An oversight on my part. At least that solves that issue I&#39;m having."}],"answers":[{"tags":[],"owner":{"account_id":14051176,"reputation":1,"user_id":10149892,"display_name":"zpd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532829720,"creation_date":1532829720,"answer_id":51576649,"question_id":51575102,"body_markdown":"  \r\n\r\n    public static int[] twoSum(int[] nums, int target) {\r\n            int[] sumnums = nums.clone();\r\n            //int[2] sol = {0,1};\r\n            int[] sol = new int[]{0,1};\r\n    \r\n            sol = new int[2];\r\n            int j=sumnums.length; // Every recursion j will be initialized as sumnums.length instead of J-1\r\n            int t=target;\r\n    \r\n            for(int i=0;i&lt;sumnums.length;i++){\r\n               // if ((sumnums[i]+sumnums[j])==t){  \r\n               // Remember that Java arrays start at index 0, so this value(sumnums[j]) is not exist in the array.\r\n                  if ((sumnums[i]+sumnums[j-1])==t){\r\n                    sol[0]=i;\r\n                    sol[1]=j;\r\n                    return sol;\r\n                }\r\n            }\r\n            j=j-1;\r\n            twoSum(sumnums,t);\r\n            return sol;\r\n    \r\n        }","title":"Two Sum LeetCode Java Questions","body":"<pre><code>public static int[] twoSum(int[] nums, int target) {\n        int[] sumnums = nums.clone();\n        //int[2] sol = {0,1};\n        int[] sol = new int[]{0,1};\n\n        sol = new int[2];\n        int j=sumnums.length; // Every recursion j will be initialized as sumnums.length instead of J-1\n        int t=target;\n\n        for(int i=0;i&lt;sumnums.length;i++){\n           // if ((sumnums[i]+sumnums[j])==t){  \n           // Remember that Java arrays start at index 0, so this value(sumnums[j]) is not exist in the array.\n              if ((sumnums[i]+sumnums[j-1])==t){\n                sol[0]=i;\n                sol[1]=j;\n                return sol;\n            }\n        }\n        j=j-1;\n        twoSum(sumnums,t);\n        return sol;\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2739457,"reputation":7470,"user_id":2361308,"accept_rate":71,"display_name":"Hearen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532831996,"creation_date":1532831394,"answer_id":51576749,"question_id":51575102,"body_markdown":"One of the many possible solutions:\r\n\r\n    public class TwoSumIndex {\r\n        public static void main(String... args) {\r\n        int[] arr = {2, 7, 11, 15, 9, 0, 2, 7};\r\n            System.out.println(findTwoSums(arr, 9));\r\n        }\r\n    \r\n        private static List&lt;List&lt;Integer&gt;&gt; findTwoSums(int[] arr, int target) {\r\n            Set&lt;Integer&gt; theSet = Arrays.stream(arr).mapToObj(Integer::valueOf).collect(Collectors.toSet());\r\n            List&lt;Integer&gt; arrList = Arrays.stream(arr).mapToObj(Integer::valueOf).collect(Collectors.toList());\r\n            List&lt;Pair&lt;Integer, Integer&gt;&gt; theList = new ArrayList&lt;&gt;();\r\n            List&lt;Integer&gt; added = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                int a = target - arr[i];\r\n                if (theSet.contains(a) &amp;&amp; added.indexOf(i) &lt; 0) { // avoid duplicates;\r\n                    Integer theOther = arrList.indexOf(a);\r\n                    theList.add(new Pair(i, theOther));\r\n                    added.add(i);\r\n                    added.add(theOther);\r\n                }\r\n            }\r\n            return theList.stream().map(pair -&gt; new ArrayList&lt;&gt;(Arrays.asList(pair.getKey(), pair.getValue())))\r\n                    .collect(Collectors.toList());\r\n        }\r\n    }\r\n\r\nThere are several things you need to know:\r\n\r\n1. **duplicates** in the input array are allowed;\r\n2. un-ordered array in the input is allowed;\r\n3. no index pair duplicate in the output;\r\n4. time complexity is theoretically `O(N^2)` but actually will be much lower since `theSet.contains(a)` O(logN) will filter out all **failed** indexes and then do the *index duplicate* O(N) checking, so the actual time complexity should be `O(NlogN)`;\r\n\r\nThe output for the demo:\r\n\r\n    [[0, 1], [4, 5], [6, 1], [7, 0]]","title":"Two Sum LeetCode Java Questions","body":"<p>One of the many possible solutions:</p>\n\n<pre><code>public class TwoSumIndex {\n    public static void main(String... args) {\n    int[] arr = {2, 7, 11, 15, 9, 0, 2, 7};\n        System.out.println(findTwoSums(arr, 9));\n    }\n\n    private static List&lt;List&lt;Integer&gt;&gt; findTwoSums(int[] arr, int target) {\n        Set&lt;Integer&gt; theSet = Arrays.stream(arr).mapToObj(Integer::valueOf).collect(Collectors.toSet());\n        List&lt;Integer&gt; arrList = Arrays.stream(arr).mapToObj(Integer::valueOf).collect(Collectors.toList());\n        List&lt;Pair&lt;Integer, Integer&gt;&gt; theList = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; added = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; arr.length; i++) {\n            int a = target - arr[i];\n            if (theSet.contains(a) &amp;&amp; added.indexOf(i) &lt; 0) { // avoid duplicates;\n                Integer theOther = arrList.indexOf(a);\n                theList.add(new Pair(i, theOther));\n                added.add(i);\n                added.add(theOther);\n            }\n        }\n        return theList.stream().map(pair -&gt; new ArrayList&lt;&gt;(Arrays.asList(pair.getKey(), pair.getValue())))\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n\n<p>There are several things you need to know:</p>\n\n<ol>\n<li><strong>duplicates</strong> in the input array are allowed;</li>\n<li>un-ordered array in the input is allowed;</li>\n<li>no index pair duplicate in the output;</li>\n<li>time complexity is theoretically <code>O(N^2)</code> but actually will be much lower since <code>theSet.contains(a)</code> O(logN) will filter out all <strong>failed</strong> indexes and then do the <em>index duplicate</em> O(N) checking, so the actual time complexity should be <code>O(NlogN)</code>;</li>\n</ol>\n\n<p>The output for the demo:</p>\n\n<pre><code>[[0, 1], [4, 5], [6, 1], [7, 0]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10339456,"reputation":113,"user_id":7626364,"display_name":"TechMifa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570131080,"creation_date":1570131080,"answer_id":58225745,"question_id":51575102,"body_markdown":"I use the simpler approch\r\n\r\n\r\n\r\nclass Solution {\r\n    public int[] twoSum(int[] nums, int target) {\r\n      \r\n         int[] indices= new int[2];\r\n        int len=nums.length;\r\n        for(int i=0; i&lt;len; i++){\r\n              \r\n                for(int j=i+1; j&lt;len;j++){         \r\n\r\n                    if((nums[i]+nums[j])==target){\r\n                        indices[0] = i;\r\n                        indices[1] = j;\r\n                        return indices;\r\n                                            \r\n                    }\r\n                }\r\n                \r\n          \r\n        }\r\n         return null;\r\n    }\r\n}","title":"Two Sum LeetCode Java Questions","body":"<p>I use the simpler approch</p>\n\n<p>class Solution {\n    public int[] twoSum(int[] nums, int target) {</p>\n\n<pre><code>     int[] indices= new int[2];\n    int len=nums.length;\n    for(int i=0; i&lt;len; i++){\n\n            for(int j=i+1; j&lt;len;j++){         \n\n                if((nums[i]+nums[j])==target){\n                    indices[0] = i;\n                    indices[1] = j;\n                    return indices;\n\n                }\n            }\n\n\n    }\n     return null;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":10311421,"reputation":102,"user_id":7607132,"display_name":"p_flame"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575669870,"creation_date":1575669870,"answer_id":59220874,"question_id":51575102,"body_markdown":"Why not use a HashMap? Here is how it will work. We will iterate through the array and check if the ```target - nums[i]``` exists in the map. If not, we will store ```Key, Value``` as the number and its index respectively i.e ```K = nums[i], V = i```\r\n\r\nHere is how it will work: \r\nConsider ```nums = [2, 7, 11, 15], target = 9```\r\n\r\nWe will start iterating the array\r\n\r\n\r\nFirst comes 2. Here we will check ( 9 - 2 ) i.e 7 does not exist in the hashmap, so we will store 2 as key and its index 0 as its value\r\n\r\nThen, comes 7. Here we will check ( 9 - 7 ) i.e 2 which exists in the map and so we will return the index of 2 and index of 7 i.e returning [ 0, 1 ]\r\n\r\n```\r\npublic int[] twoSum(int[] nums, int target) {\r\n\r\n        HashMap&lt;Integer,Integer&gt; map = new HashMap&lt;&gt;();\r\n\t\t for(int i = 0; i &lt; nums.length; i++) \r\n\t\t {\r\n\t\t\t if(map.containsKey(target - nums[i])) \r\n\t\t\t {\r\n\t\t\t\t return new int[] {map.get(target-nums[i]),i};\r\n\t\t\t\t \r\n\t\t\t }\r\n\t\t\t else\r\n\t\t\t\t map.put(nums[i],i);\r\n\t\t }\r\n\t\t return new int[] {-1,-1};\r\n    }\r\n```\r\n\r\n\r\n \r\n","title":"Two Sum LeetCode Java Questions","body":"<p>Why not use a HashMap? Here is how it will work. We will iterate through the array and check if the <code>target - nums[i]</code> exists in the map. If not, we will store <code>Key, Value</code> as the number and its index respectively i.e <code>K = nums[i], V = i</code></p>\n\n<p>Here is how it will work: \nConsider <code>nums = [2, 7, 11, 15], target = 9</code></p>\n\n<p>We will start iterating the array</p>\n\n<p>First comes 2. Here we will check ( 9 - 2 ) i.e 7 does not exist in the hashmap, so we will store 2 as key and its index 0 as its value</p>\n\n<p>Then, comes 7. Here we will check ( 9 - 7 ) i.e 2 which exists in the map and so we will return the index of 2 and index of 7 i.e returning [ 0, 1 ]</p>\n\n<pre><code>public int[] twoSum(int[] nums, int target) {\n\n        HashMap&lt;Integer,Integer&gt; map = new HashMap&lt;&gt;();\n         for(int i = 0; i &lt; nums.length; i++) \n         {\n             if(map.containsKey(target - nums[i])) \n             {\n                 return new int[] {map.get(target-nums[i]),i};\n\n             }\n             else\n                 map.put(nums[i],i);\n         }\n         return new int[] {-1,-1};\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7792618,"reputation":1134,"user_id":5894989,"display_name":"MADHUR GUPTA"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1600462416,"creation_date":1600462416,"answer_id":63962707,"question_id":51575102,"body_markdown":"**METHOD 1. Naive approach: Use two for loops**\r\nThe naive approach is to just use two nested for loops and check if the sum of any two elements in the array is equal to the given target.\r\n\r\n**Time complexity: O(n^2)**\r\n\r\n     // Time complexity: O(n^2)\r\n    private static int[] findTwoSum_BruteForce(int[] nums, int target) {\r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            for (int j = i + 1; j &lt; nums.length; j++) {\r\n                if (nums[i] + nums[j] == target) {\r\n                    return new int[] { i, j };\r\n                }\r\n            }\r\n        }\r\n        return new int[] {};\r\n    }\r\n**METHOD 2. Use a HashMap (Most efficient)**\r\nYou can use a HashMap to solve the problem in O(n) time complexity. Here are the steps:\r\n\r\nInitialize an empty HashMap.\r\nIterate over the elements of the array.\r\nFor every element in the array -\r\nIf the element exists in the Map, then check if it‚Äôs the complement (target - element) also exists in the Map or not. If the complement exists then return the indices of the current element and the complement.\r\nOtherwise, put the element in the Map, and move to the next iteration.\r\n**Time complexity: O(n)**\r\n\r\n     // Time complexity: O(n)\r\n    private static int[] findTwoSum(int[] nums, int target) {\r\n        Map&lt;Integer, Integer&gt; numMap = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            int complement = target - nums[i];\r\n            if (numMap.containsKey(complement)) {\r\n                return new int[] { numMap.get(complement), i };\r\n            } else {\r\n                numMap.put(nums[i], i);\r\n            }\r\n        }\r\n        return new int[] {};\r\n    }\r\n\r\n**METHOD 3. Use Sorting along with the two-pointer sliding window approach**\r\nThere is another approach which works when you need to return the numbers instead of their indexes. Here is how it works:\r\n\r\nSort the array.\r\nInitialize two variables, one pointing to the beginning of the array (left) and another pointing to the end of the array (right).\r\nLoop until left &lt; right, and for each iteration\r\n\r\n&gt; if arr[left] + arr[right] == target, then return the indices. \r\n&gt; if arr[left] + arr[right] &lt; target, increment the left index.\r\n\r\nelse, decrement the right index.\r\nThis approach is called the two-pointer sliding window approach. It is a very common pattern for solving array related problems.\r\n\r\nTime complexity: O(n*log(n))\r\n\r\n     // Time complexity: O(n*log(n))\r\n    private static int[] findTwoSum_Sorting(int[] nums, int target) {\r\n        Arrays.sort(nums);\r\n        int left = 0;\r\n        int right = nums.length - 1;\r\n        while(left &lt; right) {\r\n            if(nums[left] + nums[right] == target) {\r\n                return new int[] {nums[left], nums[right]};\r\n            } else if (nums[left] + nums[right] &lt; target) {\r\n                left++;\r\n            } else {\r\n                right--;\r\n            }\r\n        }\r\n        return new int[] {};\r\n    }\r\n","title":"Two Sum LeetCode Java Questions","body":"<p><strong>METHOD 1. Naive approach: Use two for loops</strong>\nThe naive approach is to just use two nested for loops and check if the sum of any two elements in the array is equal to the given target.</p>\n<p><strong>Time complexity: O(n^2)</strong></p>\n<pre><code> // Time complexity: O(n^2)\nprivate static int[] findTwoSum_BruteForce(int[] nums, int target) {\n    for (int i = 0; i &lt; nums.length; i++) {\n        for (int j = i + 1; j &lt; nums.length; j++) {\n            if (nums[i] + nums[j] == target) {\n                return new int[] { i, j };\n            }\n        }\n    }\n    return new int[] {};\n}\n</code></pre>\n<p><strong>METHOD 2. Use a HashMap (Most efficient)</strong>\nYou can use a HashMap to solve the problem in O(n) time complexity. Here are the steps:</p>\n<p>Initialize an empty HashMap.\nIterate over the elements of the array.\nFor every element in the array -\nIf the element exists in the Map, then check if it‚Äôs the complement (target - element) also exists in the Map or not. If the complement exists then return the indices of the current element and the complement.\nOtherwise, put the element in the Map, and move to the next iteration.\n<strong>Time complexity: O(n)</strong></p>\n<pre><code> // Time complexity: O(n)\nprivate static int[] findTwoSum(int[] nums, int target) {\n    Map&lt;Integer, Integer&gt; numMap = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; nums.length; i++) {\n        int complement = target - nums[i];\n        if (numMap.containsKey(complement)) {\n            return new int[] { numMap.get(complement), i };\n        } else {\n            numMap.put(nums[i], i);\n        }\n    }\n    return new int[] {};\n}\n</code></pre>\n<p><strong>METHOD 3. Use Sorting along with the two-pointer sliding window approach</strong>\nThere is another approach which works when you need to return the numbers instead of their indexes. Here is how it works:</p>\n<p>Sort the array.\nInitialize two variables, one pointing to the beginning of the array (left) and another pointing to the end of the array (right).\nLoop until left &lt; right, and for each iteration</p>\n<blockquote>\n<p>if arr[left] + arr[right] == target, then return the indices.\nif arr[left] + arr[right] &lt; target, increment the left index.</p>\n</blockquote>\n<p>else, decrement the right index.\nThis approach is called the two-pointer sliding window approach. It is a very common pattern for solving array related problems.</p>\n<p>Time complexity: O(n*log(n))</p>\n<pre><code> // Time complexity: O(n*log(n))\nprivate static int[] findTwoSum_Sorting(int[] nums, int target) {\n    Arrays.sort(nums);\n    int left = 0;\n    int right = nums.length - 1;\n    while(left &lt; right) {\n        if(nums[left] + nums[right] == target) {\n            return new int[] {nums[left], nums[right]};\n        } else if (nums[left] + nums[right] &lt; target) {\n            left++;\n        } else {\n            right--;\n        }\n    }\n    return new int[] {};\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16340430,"reputation":15,"user_id":11801441,"display_name":"Mayur Hovale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600606886,"creation_date":1600606886,"answer_id":63979242,"question_id":51575102,"body_markdown":"As you mentioned\r\nFirst comes 2. Here we will check ( 9 - 2 ) i.e 7 does not exist in the hashmap\r\n\r\nactually **7** does exist in the HashMap right \r\nnums = [2, 7, 11, 15], target = 9\r\n","title":"Two Sum LeetCode Java Questions","body":"<p>As you mentioned\nFirst comes 2. Here we will check ( 9 - 2 ) i.e 7 does not exist in the hashmap</p>\n<p>actually <strong>7</strong> does exist in the HashMap right\nnums = [2, 7, 11, 15], target = 9</p>\n"},{"tags":[],"owner":{"account_id":25401525,"reputation":11,"user_id":19210919,"display_name":"Shelcy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654293287,"creation_date":1654286163,"answer_id":72494594,"question_id":51575102,"body_markdown":"        Complete code for beginners\r\n         //Predefined values\r\n        import java.util.Arrays;\r\n        \r\n        public class TwoSum {\r\n        \r\n            public static void main(String args[]) {\r\n                Solution solution = new Solution();\r\n                int target = 9;\r\n                int num[] = {2, 7, 11, 15};\r\n                num = solution.twoSum(num, target);\r\n        \r\n                System.out.println(Arrays.toString(num));\r\n            }\r\n        }\r\n        \r\n        class Solution {\r\n        \r\n            public int[] twoSum(int[] nums, int target) {\r\n                int result[] = new int[2];\r\n                int sum;\r\n                for (int i = 0; i + 1 &lt; nums.length; i++) {\r\n                    // adding the alternate numbers\r\n                    sum = nums[i] + nums[i + 1];\r\n        \r\n                    if (sum == target) {\r\n                        result[0] = i;\r\n                        result[1] = i + 1;\r\n                        return result;\r\n        \r\n                    }\r\n                }\r\n                return null;\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n    ************************************************************************\r\n    //User-defined\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n    \r\n    /**\r\n     *\r\n     * @author shelc\r\n     */\r\n    public class TwoSum {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Solution solution = new Solution();\r\n            Scanner scanner = new Scanner(System.in);\r\n    \r\n            int n;\r\n            System.out.print(&quot;Enter the number of elements : &quot;);\r\n            n = scanner.nextInt();\r\n    \r\n            int array[] = new int[10];\r\n            System.out.println(&quot;Enter the array elemets : &quot;);\r\n            for (int i = 0; i &lt; n; i++) {\r\n                array[i] = scanner.nextInt();\r\n            }\r\n    \r\n            int target;\r\n            System.out.println(&quot;Enter the target : &quot;);\r\n            target = scanner.nextInt();\r\n    \r\n            int nums[] = solution.twoSum(array, target);\r\n    \r\n            System.out.println(Arrays.toString(nums));\r\n    \r\n        }\r\n    \r\n    }\r\n    \r\n    class Solution {\r\n    \r\n        public int[] twoSum(int nums[], int target) {\r\n    \r\n            int result[] = new int[2];\r\n    \r\n            for (int i = 0; i &lt; nums.length; i++) {\r\n                for (int j = i + 1; j &lt; nums.length; j++) {\r\n                    if ((nums[i] + nums[j]) == target) {\r\n                        result[0] = i;\r\n                        result[1] = j;\r\n                        return result;\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n","title":"Two Sum LeetCode Java Questions","body":"<pre><code>    Complete code for beginners\n     //Predefined values\n    import java.util.Arrays;\n    \n    public class TwoSum {\n    \n        public static void main(String args[]) {\n            Solution solution = new Solution();\n            int target = 9;\n            int num[] = {2, 7, 11, 15};\n            num = solution.twoSum(num, target);\n    \n            System.out.println(Arrays.toString(num));\n        }\n    }\n    \n    class Solution {\n    \n        public int[] twoSum(int[] nums, int target) {\n            int result[] = new int[2];\n            int sum;\n            for (int i = 0; i + 1 &lt; nums.length; i++) {\n                // adding the alternate numbers\n                sum = nums[i] + nums[i + 1];\n    \n                if (sum == target) {\n                    result[0] = i;\n                    result[1] = i + 1;\n                    return result;\n    \n                }\n            }\n            return null;\n        }\n    }\n\n\n\n\n\n************************************************************************\n//User-defined\n\nimport java.util.Arrays;\nimport java.util.Scanner;\n\n/**\n *\n * @author shelc\n */\npublic class TwoSum {\n\n    public static void main(String[] args) {\n\n        Solution solution = new Solution();\n        Scanner scanner = new Scanner(System.in);\n\n        int n;\n        System.out.print(&quot;Enter the number of elements : &quot;);\n        n = scanner.nextInt();\n\n        int array[] = new int[10];\n        System.out.println(&quot;Enter the array elemets : &quot;);\n        for (int i = 0; i &lt; n; i++) {\n            array[i] = scanner.nextInt();\n        }\n\n        int target;\n        System.out.println(&quot;Enter the target : &quot;);\n        target = scanner.nextInt();\n\n        int nums[] = solution.twoSum(array, target);\n\n        System.out.println(Arrays.toString(nums));\n\n    }\n\n}\n\nclass Solution {\n\n    public int[] twoSum(int nums[], int target) {\n\n        int result[] = new int[2];\n\n        for (int i = 0; i &lt; nums.length; i++) {\n            for (int j = i + 1; j &lt; nums.length; j++) {\n                if ((nums[i] + nums[j]) == target) {\n                    result[0] = i;\n                    result[1] = j;\n                    return result;\n                }\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25665558,"reputation":1,"user_id":19430595,"display_name":"Aaron Gezai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658793906,"creation_date":1658793906,"answer_id":73116480,"question_id":51575102,"body_markdown":"      public static int[] twoSum(int[] nums, int target) {\r\n            int[] arr = new int[2];\r\n            int arrIndex =0;\r\n            for(int i =0; i&lt;nums.length; i++){\r\n                for(int j = 0;j&lt;nums.length-1;j++){\r\n                    if( i!=j) {// don&#39;t check to itself\r\n                        if (nums[i] + nums[j] == target) {\r\n                            arr[arrIndex] = i;\r\n                            arr[arrIndex + 1] = j;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            Arrays.sort(arr);\r\n         return arr; \r\n        }","title":"Two Sum LeetCode Java Questions","body":"<pre><code>  public static int[] twoSum(int[] nums, int target) {\n        int[] arr = new int[2];\n        int arrIndex =0;\n        for(int i =0; i&lt;nums.length; i++){\n            for(int j = 0;j&lt;nums.length-1;j++){\n                if( i!=j) {// don't check to itself\n                    if (nums[i] + nums[j] == target) {\n                        arr[arrIndex] = i;\n                        arr[arrIndex + 1] = j;\n                        break;\n                    }\n                }\n            }\n        }\n        Arrays.sort(arr);\n     return arr; \n    }\n</code></pre>\n"}],"owner":{"account_id":11356763,"reputation":27,"user_id":8326163,"display_name":"Cydia Pone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3555,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":8,"score":1,"last_activity_date":1658793906,"creation_date":1532810425,"question_id":51575102,"body_markdown":"I am attempting a Java mock interview on LeetCode. I have the following problem:\r\n\r\nGiven an array of integers, return indices of the two numbers such that they add up to a specific target.\r\n\r\nYou may assume that each input would have exactly one solution, and you may not use the same element twice.\r\n\r\n    Example:\r\n    \r\n    Given nums = [2, 7, 11, 15], target = 9,\r\n    \r\n    Because nums[0] + nums[1] = 2 + 7 = 9,\r\n    return [0, 1].\r\n\r\nI was attempting to implement a recursive solution. However, I am receiving errors upon trying to run my code.\r\n\r\n    class Solution {\r\n        public int[] twoSum(int[] nums, int target) {\r\n            int[] sumnums = nums.clone();\r\n            //int[2] sol = {0,1};\r\n            int[] sol = new int[]{0,1};\r\n    \r\n            sol = new int[2];\r\n            int j=sumnums.length;\r\n            int t=target;\r\n            \r\n            for(int i=0;i&lt;sumnums.length;i++){\r\n                if ((sumnums[i]+sumnums[j])==t){\r\n                    sol[0]=i;\r\n                    sol[1]=j;\r\n                    //return sol;\r\n                }\r\n            }\r\n            j=j-1;\r\n            twoSum(sumnums,t);\r\n            return sol;\r\n            \r\n        }\r\n    }\r\n\r\nError(s): \r\n\r\n    Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 4\r\n    \tat Solution.twoSum(Solution.java:12)\r\n    \tat __DriverSolution__.__helper__(__Driver__.java:8)\r\n    \tat __Driver__.main(__Driver__.java:54)\r\n\r\nIt appears to me the error may have to do with the following line of code:\r\n\r\n    if ((sumnums[i]+sumnums[j])==t){\r\n\r\nTherefore, I am wondering if this is a syntax related error. I am attempting to check to see if two numbers add up to a different number.\r\n\r\nSince this is a naive attempt at a recursive solution, I am happy to take any other criticism. But I am mostly concerned with getting my attempt at this problem to work and run with all testcases.\r\n\r\nThanks.","title":"Two Sum LeetCode Java Questions","body":"<p>I am attempting a Java mock interview on LeetCode. I have the following problem:</p>\n\n<p>Given an array of integers, return indices of the two numbers such that they add up to a specific target.</p>\n\n<p>You may assume that each input would have exactly one solution, and you may not use the same element twice.</p>\n\n<pre><code>Example:\n\nGiven nums = [2, 7, 11, 15], target = 9,\n\nBecause nums[0] + nums[1] = 2 + 7 = 9,\nreturn [0, 1].\n</code></pre>\n\n<p>I was attempting to implement a recursive solution. However, I am receiving errors upon trying to run my code.</p>\n\n<pre><code>class Solution {\n    public int[] twoSum(int[] nums, int target) {\n        int[] sumnums = nums.clone();\n        //int[2] sol = {0,1};\n        int[] sol = new int[]{0,1};\n\n        sol = new int[2];\n        int j=sumnums.length;\n        int t=target;\n\n        for(int i=0;i&lt;sumnums.length;i++){\n            if ((sumnums[i]+sumnums[j])==t){\n                sol[0]=i;\n                sol[1]=j;\n                //return sol;\n            }\n        }\n        j=j-1;\n        twoSum(sumnums,t);\n        return sol;\n\n    }\n}\n</code></pre>\n\n<p>Error(s): </p>\n\n<pre><code>Exception in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: 4\n    at Solution.twoSum(Solution.java:12)\n    at __DriverSolution__.__helper__(__Driver__.java:8)\n    at __Driver__.main(__Driver__.java:54)\n</code></pre>\n\n<p>It appears to me the error may have to do with the following line of code:</p>\n\n<pre><code>if ((sumnums[i]+sumnums[j])==t){\n</code></pre>\n\n<p>Therefore, I am wondering if this is a syntax related error. I am attempting to check to see if two numbers add up to a different number.</p>\n\n<p>Since this is a naive attempt at a recursive solution, I am happy to take any other criticism. But I am mostly concerned with getting my attempt at this problem to work and run with all testcases.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","unit-testing","java-8","mockito","junit5"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1658738177,"post_id":73106150,"comment_id":129116427,"body_markdown":"You&#39;re telling the mock that when it receives a parameter that equals `bookId` then... etc...","body":"You&#39;re telling the mock that when it receives a parameter that equals <code>bookId</code> then... etc..."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1658741450,"post_id":73106150,"comment_id":129117564,"body_markdown":"When you use Mockito you&#39;re stubbing a real method call. If you say `when(bookRepository.updateBook(...)`, then Mockito will build an ongoing stubbing of your `bookRepository` and each time it is called for real, it will intercept the call dynamically and do what you tell it to do. So since you&#39;re not calling the real method but a proxified one, you need to pass the objects that Mockito expects. Those objects are called matchers, and `eq()` creates a matcher that says true only when the object is exactly equal to that one. Though, you can&#39;t use the real object directly.","body":"When you use Mockito you&#39;re stubbing a real method call. If you say <code>when(bookRepository.updateBook(...)</code>, then Mockito will build an ongoing stubbing of your <code>bookRepository</code> and each time it is called for real, it will intercept the call dynamically and do what you tell it to do. So since you&#39;re not calling the real method but a proxified one, you need to pass the objects that Mockito expects. Those objects are called matchers, and <code>eq()</code> creates a matcher that says true only when the object is exactly equal to that one. Though, you can&#39;t use the real object directly."}],"answers":[{"tags":[],"owner":{"account_id":11415719,"reputation":7030,"user_id":10584605,"display_name":"ETO"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658750643,"creation_date":1658750643,"answer_id":73108915,"question_id":73106150,"body_markdown":"This is directly related to the way Mockito is implemented.\r\n\r\nWhen you stub a method Mockito expects you to pass the argument values or matchers. There&#39;s a very important detail you should take into account. The arguments should be either **all exact values** or **all matchers**.\r\n\r\nLook at these examples:\r\n\r\n```java\r\nwhen(repository.updateBook(bookId, any()).thenReturn(something);       // error\r\nwhen(repository.updateBook(any(), someBook).thenReturn(something);     // error\r\n\r\nwhen(repository.updateBook(bookId, someBook).thenReturn(something);    // valid\r\nwhen(repository.updateBook(eq(bookId), any()).thenReturn(something);   // valid\r\nwhen(repository.updateBook(any(), eq(someBook)).thenReturn(something); // valid\r\nwhen(repository.updateBook(any(), any()).thenReturn(something);        // valid\r\n```\r\n\r\nThe error message tells you exactly this. Mockito expected both arguments to be matchers, but instead it found only one.\r\n\r\n```\r\nInvalid use of argument matchers. 2 matchers expected, 1 recorded\r\n```","title":"Usage of eq() method in unit testing","body":"<p>This is directly related to the way Mockito is implemented.</p>\n<p>When you stub a method Mockito expects you to pass the argument values or matchers. There's a very important detail you should take into account. The arguments should be either <strong>all exact values</strong> or <strong>all matchers</strong>.</p>\n<p>Look at these examples:</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(repository.updateBook(bookId, any()).thenReturn(something);       // error\nwhen(repository.updateBook(any(), someBook).thenReturn(something);     // error\n\nwhen(repository.updateBook(bookId, someBook).thenReturn(something);    // valid\nwhen(repository.updateBook(eq(bookId), any()).thenReturn(something);   // valid\nwhen(repository.updateBook(any(), eq(someBook)).thenReturn(something); // valid\nwhen(repository.updateBook(any(), any()).thenReturn(something);        // valid\n</code></pre>\n<p>The error message tells you exactly this. Mockito expected both arguments to be matchers, but instead it found only one.</p>\n<pre><code>Invalid use of argument matchers. 2 matchers expected, 1 recorded\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658792704,"creation_date":1658792704,"answer_id":73116383,"question_id":73106150,"body_markdown":"As [ETO described](https://stackoverflow.com/a/73108915/1426891), and [as the Mockito documentation describes](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/ArgumentMatchers.html):\r\n\r\n&gt; **Warning:**  \r\n&gt; If you are using argument matchers, all arguments have to be provided by matchers.\r\n\r\nI have a deeper write-up in the question [How do Mockito matchers work?](https://stackoverflow.com/a/22822514/1426891), but in short, calls to Matchers work via side effects. When you call `any()` or `eq(bookId)`, Mockito returns a dummy value like `null` or `0` and saves the Matcher details (&quot;any&quot; or &quot;equals zero&quot;) onto its stack. Consequently, when Mockito sees the call to `when`, there should be exactly 0 matchers (use equality) or 2 matchers (use matchers) on the stack.\r\n\r\nFor a call like `when(yourMock).method(0, anyInt()).thenVerb(...)`, Mockito can&#39;t tell which of the two integer parameters is supposed to be exactly zero and which of the parameters is supposed to be any value, so it throws the error you see. `eq` is the default behavior if you don&#39;t use matchers, so you may rarely see `eq` unless you&#39;re being extra-explicit or if you are mixing `eq`-style matching with other matchers like `any`.","title":"Usage of eq() method in unit testing","body":"<p>As <a href=\"https://stackoverflow.com/a/73108915/1426891\">ETO described</a>, and <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/ArgumentMatchers.html\" rel=\"nofollow noreferrer\">as the Mockito documentation describes</a>:</p>\n<blockquote>\n<p><strong>Warning:</strong><br />\nIf you are using argument matchers, all arguments have to be provided by matchers.</p>\n</blockquote>\n<p>I have a deeper write-up in the question <a href=\"https://stackoverflow.com/a/22822514/1426891\">How do Mockito matchers work?</a>, but in short, calls to Matchers work via side effects. When you call <code>any()</code> or <code>eq(bookId)</code>, Mockito returns a dummy value like <code>null</code> or <code>0</code> and saves the Matcher details (&quot;any&quot; or &quot;equals zero&quot;) onto its stack. Consequently, when Mockito sees the call to <code>when</code>, there should be exactly 0 matchers (use equality) or 2 matchers (use matchers) on the stack.</p>\n<p>For a call like <code>when(yourMock).method(0, anyInt()).thenVerb(...)</code>, Mockito can't tell which of the two integer parameters is supposed to be exactly zero and which of the parameters is supposed to be any value, so it throws the error you see. <code>eq</code> is the default behavior if you don't use matchers, so you may rarely see <code>eq</code> unless you're being extra-explicit or if you are mixing <code>eq</code>-style matching with other matchers like <code>any</code>.</p>\n"}],"owner":{"account_id":19306526,"reputation":203,"user_id":14113217,"display_name":"Palak Kharbanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1110,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73108915,"answer_count":2,"score":3,"last_activity_date":1658792704,"creation_date":1658737825,"question_id":73106150,"body_markdown":"I am writing unit test case for update method for book.\r\n\r\n```java\r\n@Test\r\nvoid testUpdateBook() {\r\n    //initializing the bookId here\r\n    givenBookId();\r\n    //initializing the book here \r\n    givenBook();\r\n    givenMock();\r\n    //call the updateBook method \r\n    whenUpdateBookRequested();\r\n    thenVerifyBook();\r\n}\r\n\r\ngivenMock() {\r\n   when(bookRepository.updateBook(bookId,any()).thenReturn(Optional.ofNullable(expectedBook));\r\n}\r\n```\r\nEvery other method is working fine but givenMock() is producing error:\r\n\r\n`Invalid use of argument matchers. 2 matchers expected, 1 recorded`\r\n\r\nAnd if I write the same method like below, then test is running successfully but I am not able to understand the meaning of eq(). Can someone please explain the difference between the previous and the modified method?\r\n\r\n```java\r\ngivenMock(){\r\n    when(bookRepository.updateBook(eq(bookId),any()).thenReturn(Optional.ofNullable(expectedBook));\r\n}\r\n```\r\n","title":"Usage of eq() method in unit testing","body":"<p>I am writing unit test case for update method for book.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid testUpdateBook() {\n    //initializing the bookId here\n    givenBookId();\n    //initializing the book here \n    givenBook();\n    givenMock();\n    //call the updateBook method \n    whenUpdateBookRequested();\n    thenVerifyBook();\n}\n\ngivenMock() {\n   when(bookRepository.updateBook(bookId,any()).thenReturn(Optional.ofNullable(expectedBook));\n}\n</code></pre>\n<p>Every other method is working fine but givenMock() is producing error:</p>\n<p><code>Invalid use of argument matchers. 2 matchers expected, 1 recorded</code></p>\n<p>And if I write the same method like below, then test is running successfully but I am not able to understand the meaning of eq(). Can someone please explain the difference between the previous and the modified method?</p>\n<pre class=\"lang-java prettyprint-override\"><code>givenMock(){\n    when(bookRepository.updateBook(eq(bookId),any()).thenReturn(Optional.ofNullable(expectedBook));\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1658790642,"post_id":73116177,"comment_id":129134681,"body_markdown":"Change your `while()` to a `do {} while()`. That way you first check the input, then decide if you want to loop once more.","body":"Change your <code>while()</code> to a <code>do {} while()</code>. That way you first check the input, then decide if you want to loop once more."},{"owner":{"account_id":6790343,"reputation":1483,"user_id":5227721,"display_name":"Berk Kurkcuoglu"},"score":0,"creation_date":1658790687,"post_id":73116177,"comment_id":129134693,"body_markdown":"userValues[Math.round(userValues.length / 2 )], you don&#39;t need a loop.","body":"userValues[Math.round(userValues.length / 2 )], you don&#39;t need a loop."},{"owner":{"account_id":10740936,"reputation":23,"user_id":7904052,"display_name":"Chadrick Hollingsworth"},"score":2,"creation_date":1658791135,"post_id":73116177,"comment_id":129134769,"body_markdown":"@BerkKurkcuoglu how would I capture the user inputs for the array without a loop?","body":"@BerkKurkcuoglu how would I capture the user inputs for the array without a loop?"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1658804832,"post_id":73116177,"comment_id":129136650,"body_markdown":"What&#39;s the expected output?  If the input is: 1 2 3 4 5 6 7 8 9 0 1 2 3 -1, what&#39;s the output?","body":"What&#39;s the expected output?  If the input is: 1 2 3 4 5 6 7 8 9 0 1 2 3 -1, what&#39;s the output?"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1658790856,"creation_date":1658790856,"answer_id":73116213,"question_id":73116177,"body_markdown":"You can read integers one by one and add them into a `List`, terminating when a negative number is entered, with a for loop. \r\n\r\n```java\r\nList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\r\nfor (int x; (x = scnr.nextInt()) &gt;= 0;)\r\n\tnumbers.add(x);\r\nSystem.out.println(numbers.get(numbers.size() / 2));\r\n```","title":"Finding the middle item in an array from a given list","body":"<p>You can read integers one by one and add them into a <code>List</code>, terminating when a negative number is entered, with a for loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\nfor (int x; (x = scnr.nextInt()) &gt;= 0;)\n    numbers.add(x);\nSystem.out.println(numbers.get(numbers.size() / 2));\n</code></pre>\n"}],"owner":{"account_id":10740936,"reputation":23,"user_id":7904052,"display_name":"Chadrick Hollingsworth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2603,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1658792338,"creation_date":1658790400,"question_id":73116177,"body_markdown":"Given a sorted list of integers, output the middle integer. A negative number indicates the end of the input (the negative number is not a part of the sorted list). Assume the number of integers is always odd.\r\n\r\nEx: If the input is:\r\n\r\n&gt; 2 3 4 8 11 -1\r\n\r\nthe output is:\r\n\r\n&gt; Middle item: 4\r\n\r\n\r\nThe maximum number of list values for any test case should not exceed 9. If exceeded, output &quot;Too many numbers&quot;.\r\n\r\nHint: First read the data into an array. Then, based on the array&#39;s size, find the middle item.    \r\n\r\n    import java.util.Scanner; \r\n    \r\n    public class LabProgram {\r\n       public static void main(String[] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n          int[] userValues = new int[9];  // Set of data specified by the user      \r\n          int middleItem;\r\n          /* Type your code here. */\r\n          for(int i=0; i&lt;userValues.length; ++i){ \r\n             while(userValues[i]&gt;=0){\r\n             userValues[i] = scnr.nextInt();\r\n             }\r\n          } \r\n          \r\n          if(userValues.length&gt;8){\r\n                System.out.println(&quot;Too many numbers&quot;);   \r\n          }\r\n          else{\r\n                middleItem = userValues[userValues.length/2];\r\n                System.out.println(&quot;Middle item: &quot; + middleItem);\r\n          }   \r\n       }\r\n    }\r\n\r\nThe main issue so far is finding a way to scan in fewer than the maximum allowed number of array items and having the loop stop when a negative number is entered. I&#39;ve deleted the code to use negative integers as a sentinel value to focus on scanning and accepting fewer inputs. Any guidance would be appreciated. ","title":"Finding the middle item in an array from a given list","body":"<p>Given a sorted list of integers, output the middle integer. A negative number indicates the end of the input (the negative number is not a part of the sorted list). Assume the number of integers is always odd.</p>\n<p>Ex: If the input is:</p>\n<blockquote>\n<p>2 3 4 8 11 -1</p>\n</blockquote>\n<p>the output is:</p>\n<blockquote>\n<p>Middle item: 4</p>\n</blockquote>\n<p>The maximum number of list values for any test case should not exceed 9. If exceeded, output &quot;Too many numbers&quot;.</p>\n<p>Hint: First read the data into an array. Then, based on the array's size, find the middle item.</p>\n<pre><code>import java.util.Scanner; \n\npublic class LabProgram {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      int[] userValues = new int[9];  // Set of data specified by the user      \n      int middleItem;\n      /* Type your code here. */\n      for(int i=0; i&lt;userValues.length; ++i){ \n         while(userValues[i]&gt;=0){\n         userValues[i] = scnr.nextInt();\n         }\n      } \n      \n      if(userValues.length&gt;8){\n            System.out.println(&quot;Too many numbers&quot;);   \n      }\n      else{\n            middleItem = userValues[userValues.length/2];\n            System.out.println(&quot;Middle item: &quot; + middleItem);\n      }   \n   }\n}\n</code></pre>\n<p>The main issue so far is finding a way to scan in fewer than the maximum allowed number of array items and having the loop stop when a negative number is entered. I've deleted the code to use negative integers as a sentinel value to focus on scanning and accepting fewer inputs. Any guidance would be appreciated.</p>\n"},{"tags":["java","android","android-multiselectlistpreference"],"answers":[{"tags":[],"owner":{"account_id":7591936,"reputation":193,"user_id":5759814,"display_name":"Georg Friedrich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458181413,"creation_date":1458181413,"answer_id":36050560,"question_id":36048324,"body_markdown":"Okay. To answer my own question here after the motto &quot;self is the man&quot;: I ended up with programming my own preference panel. Below is the code. If somebody likes to look over it and give some times how to make it even more stable: feel free. \r\n\r\nBut to sum up what I did: I created my own ArrayAdapter. But `DialogPreference` didn&#39;t allowed me to create my own multi selector. You need to change the final dialog fragment to create a working multi selector list (see here: https://stackoverflow.com/a/17907379/5759814). That is not an easy task if you work with the DialogPreferences. The reason is these few amounts of code:\r\n\r\n    /**\r\n     * Shows the dialog associated with this Preference. This is normally initiated\r\n     * automatically on clicking on the preference. Call this method if you need to\r\n     * show the dialog on some other event.\r\n     * \r\n     * @param state Optional instance state to restore on the dialog\r\n     */\r\n    protected void showDialog(Bundle state) {\r\n        Context context = getContext();\r\n\r\n        mWhichButtonClicked = DialogInterface.BUTTON_NEGATIVE;\r\n        \r\n        mBuilder = new AlertDialog.Builder(context)\r\n            .setTitle(mDialogTitle)\r\n            .setIcon(mDialogIcon)\r\n            .setPositiveButton(mPositiveButtonText, this)\r\n            .setNegativeButton(mNegativeButtonText, this);\r\n\r\n        View contentView = onCreateDialogView();\r\n        if (contentView != null) {\r\n            onBindDialogView(contentView);\r\n            mBuilder.setView(contentView);\r\n        } else {\r\n            mBuilder.setMessage(mDialogMessage);\r\n        }\r\n        \r\n        onPrepareDialogBuilder(mBuilder);\r\n        \r\n        getPreferenceManager().registerOnActivityDestroyListener(this);\r\n        \r\n        // Create the dialog\r\n        final Dialog dialog = mDialog = mBuilder.create();\r\n        if (state != null) {\r\n            dialog.onRestoreInstanceState(state);\r\n        }\r\n        if (needInputMethod()) {\r\n            requestInputMethod(dialog);\r\n        }\r\n        dialog.setOnDismissListener(this);\r\n        dialog.show();\r\n    }\r\n\r\nAs you can see here is a method triggered to change my dialog builder with `onPrepareDialogBuilder`, but it doesn&#39;t seem like that there is any other function triggered afterwards, that would allow me to change the dialog directly after its creation. And the second idea of changing the `onPrepareDialogBuilder` so that I can init everything there, doesn&#39;t really help, because I end up with displayed dialog windows. That lead me to my decision of creating my completely own Preference class. With that decision I loose all those nice prepared functions like `onRestoreInstanceState` and Co, but I now have an application with a much more persistent flow, that doesn&#39;t do any stupid things when I select zero units for my thermal view. \r\n\r\nBelow the non commented code. I&#39;m sorry, but I think its simple enough for everybody who landing here. \r\n\r\n    import android.app.AlertDialog;\r\n    import android.content.Context;\r\n    import android.content.DialogInterface;\r\n    import android.content.SharedPreferences;\r\n    import android.preference.Preference;\r\n    import android.util.AttributeSet;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.AbsListView;\r\n    import android.widget.AdapterView;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.ListView;\r\n    import android.widget.Toast;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    \r\n    import georg.com.flironetest_01.Variables.Units;\r\n    \r\n    /**\r\n     * Created by Georg on 16/03/16.\r\n     */\r\n    public class UnitMultipleSelectorPreference extends Preference implements DialogInterface.OnClickListener, Preference.OnPreferenceClickListener {\r\n    \r\n        String[] human_entries = null;\r\n        String[] machine_entries = null;\r\n    \r\n    \r\n    \r\n        public SharedPreferences prev;\r\n    \r\n        public UnitMultipleSelectorPreference(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n    \r\n    \r\n            prev = getSharedPreferences();\r\n            \r\n            List&lt;String&gt; humanU = new ArrayList&lt;&gt;();\r\n            List&lt;String&gt; machineU = new ArrayList&lt;&gt;();\r\n    \r\n            Units[] all = Units.values();\r\n            for (Units elem : all) {\r\n                humanU.add(elem.toString());\r\n                machineU.add(elem.name());\r\n            }\r\n    \r\n            human_entries = humanU.toArray(new String[humanU.size()]);\r\n            machine_entries = machineU.toArray(new String[machineU.size()]);\r\n    \r\n            Set&lt;String&gt; mU = new HashSet&lt;&gt;();\r\n            mU.add(Units.C.name());\r\n            mU.add(Units.K.name());\r\n    \r\n            setDefaultValue(mU);\r\n            \r\n            setOnPreferenceClickListener(this);\r\n        }\r\n    \r\n        boolean[] selected = new boolean[0];\r\n    \r\n        protected void onPrepareDialogBuilder(AlertDialog.Builder builder) {\r\n            if (prev == null)\r\n                return;\r\n            \r\n            if (human_entries == null || machine_entries == null || human_entries.length != machine_entries.length ) {\r\n                throw new IllegalStateException(\r\n                        &quot;ListPreference requires an entries array and an entryValues array which are both the same length&quot;);\r\n            }\r\n    \r\n            selected = new boolean[human_entries.length];\r\n            for (int i = 0; i &lt; human_entries.length; i++)\r\n                selected[i] = prefSet.contains(machine_entries[i]);\r\n    \r\n    \r\n            String[] stringObj = new String[human_entries.length];\r\n            int i = 0;\r\n            for(CharSequence ch : human_entries)\r\n                stringObj[i++] = ch.toString();\r\n    \r\n    \r\n            builder.setAdapter(new MyAdapter(getContext(), android.R.layout.simple_list_item_multiple_choice, stringObj), new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialog, int which) {\r\n                }\r\n            });\r\n    \r\n            AlertDialog mDialog = builder.create();\r\n            mDialog.getListView().setChoiceMode(AbsListView.CHOICE_MODE_MULTIPLE);\r\n            mDialog.getListView().setItemsCanFocus(false);\r\n            mDialog.getListView().setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; parent, View view,\r\n                                        int position, long id) {\r\n                    // Manage selected items here\r\n    \r\n                    ListView mParent = (ListView)parent;\r\n    \r\n    \r\n                    if (mParent.getCheckedItemCount() &gt;= 1)\r\n                        selected[position] = mParent.isItemChecked(position);\r\n                    if (mParent.getCheckedItemCount() == 0)\r\n                        mParent.setItemChecked(position, true);\r\n                }\r\n            });\r\n    \r\n    \r\n            mDialog.show();\r\n    \r\n    \r\n    \r\n            i = 0;\r\n            for (boolean select : selected)\r\n                mDialog.getListView().setItemChecked(i++, select);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onPreferenceClick(Preference preference) {\r\n            AlertDialog.Builder mBuilder = new AlertDialog.Builder(getContext());\r\n            mBuilder.setTitle(getTitle())\r\n                    .setPositiveButton(android.R.string.ok, this)\r\n                    .setNegativeButton(android.R.string.cancel, this);\r\n            onPrepareDialogBuilder(mBuilder);\r\n    \r\n            return true;\r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public void onClick(DialogInterface dialog, int which) {\r\n            Toast.makeText(getContext(), &quot;W:&quot;+which + &quot; | &quot; + Arrays.toString(selected), Toast.LENGTH_SHORT).show();\r\n    \r\n            switch (which) {\r\n                case -1:\r\n                    if (isPersistent()) {\r\n                        prefSet = new HashSet&lt;&gt;();\r\n    \r\n                        for (int i = 0; i &lt; selected.length; i++) {\r\n                            if (selected[i])\r\n                                prefSet.add(machine_entries[i]);\r\n                        }\r\n                        getEditor().putStringSet(getKey(), prefSet).apply();\r\n    \r\n                        Toast.makeText(getContext(), &quot;W:&quot;+which + &quot; | &quot; + getSharedPreferences().getStringSet(getKey(),null).toString(), Toast.LENGTH_SHORT).show();\r\n    \r\n                    }\r\n                    return;\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n        public class MyAdapter extends ArrayAdapter&lt;String&gt; {\r\n    \r\n            public MyAdapter(Context context, int textViewResourceId, String[] objects) {\r\n                super(context, textViewResourceId, objects);\r\n            }\r\n    \r\n            @Override\r\n            public boolean isEnabled(int n) {\r\n                return true;\r\n            }\r\n        }\r\n    \r\n        Set&lt;String&gt; prefSet;\r\n    \r\n        @Override\r\n        protected void onSetInitialValue(boolean restorePersistedValue, Object defaultValue) {\r\n            super.onSetInitialValue(restorePersistedValue, defaultValue);\r\n            prev = getSharedPreferences();\r\n    \r\n            if(restorePersistedValue) {\r\n                prefSet = prev.getStringSet(getKey(), new HashSet&lt;String&gt;());\r\n            } else {\r\n                try {\r\n                    prefSet = (Set&lt;String&gt;)defaultValue;\r\n                    if(isPersistent())\r\n                        getEditor().putStringSet(getKey(), prefSet);\r\n                } catch (ClassCastException e) {\r\n                    Log.e(&quot;ERROR_CAST&quot;, &quot;Error casting the default value to Set&lt;String&gt;.&quot;);\r\n                }\r\n            }\r\n        }\r\n    }","title":"Have at least one item selected in Android MultiSelectListPreference","body":"<p>Okay. To answer my own question here after the motto \"self is the man\": I ended up with programming my own preference panel. Below is the code. If somebody likes to look over it and give some times how to make it even more stable: feel free. </p>\n\n<p>But to sum up what I did: I created my own ArrayAdapter. But <code>DialogPreference</code> didn't allowed me to create my own multi selector. You need to change the final dialog fragment to create a working multi selector list (see here: <a href=\"https://stackoverflow.com/a/17907379/5759814\">https://stackoverflow.com/a/17907379/5759814</a>). That is not an easy task if you work with the DialogPreferences. The reason is these few amounts of code:</p>\n\n<pre><code>/**\n * Shows the dialog associated with this Preference. This is normally initiated\n * automatically on clicking on the preference. Call this method if you need to\n * show the dialog on some other event.\n * \n * @param state Optional instance state to restore on the dialog\n */\nprotected void showDialog(Bundle state) {\n    Context context = getContext();\n\n    mWhichButtonClicked = DialogInterface.BUTTON_NEGATIVE;\n\n    mBuilder = new AlertDialog.Builder(context)\n        .setTitle(mDialogTitle)\n        .setIcon(mDialogIcon)\n        .setPositiveButton(mPositiveButtonText, this)\n        .setNegativeButton(mNegativeButtonText, this);\n\n    View contentView = onCreateDialogView();\n    if (contentView != null) {\n        onBindDialogView(contentView);\n        mBuilder.setView(contentView);\n    } else {\n        mBuilder.setMessage(mDialogMessage);\n    }\n\n    onPrepareDialogBuilder(mBuilder);\n\n    getPreferenceManager().registerOnActivityDestroyListener(this);\n\n    // Create the dialog\n    final Dialog dialog = mDialog = mBuilder.create();\n    if (state != null) {\n        dialog.onRestoreInstanceState(state);\n    }\n    if (needInputMethod()) {\n        requestInputMethod(dialog);\n    }\n    dialog.setOnDismissListener(this);\n    dialog.show();\n}\n</code></pre>\n\n<p>As you can see here is a method triggered to change my dialog builder with <code>onPrepareDialogBuilder</code>, but it doesn't seem like that there is any other function triggered afterwards, that would allow me to change the dialog directly after its creation. And the second idea of changing the <code>onPrepareDialogBuilder</code> so that I can init everything there, doesn't really help, because I end up with displayed dialog windows. That lead me to my decision of creating my completely own Preference class. With that decision I loose all those nice prepared functions like <code>onRestoreInstanceState</code> and Co, but I now have an application with a much more persistent flow, that doesn't do any stupid things when I select zero units for my thermal view. </p>\n\n<p>Below the non commented code. I'm sorry, but I think its simple enough for everybody who landing here. </p>\n\n<pre><code>import android.app.AlertDialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.content.SharedPreferences;\nimport android.preference.Preference;\nimport android.util.AttributeSet;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.AbsListView;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\nimport android.widget.Toast;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\n\nimport georg.com.flironetest_01.Variables.Units;\n\n/**\n * Created by Georg on 16/03/16.\n */\npublic class UnitMultipleSelectorPreference extends Preference implements DialogInterface.OnClickListener, Preference.OnPreferenceClickListener {\n\n    String[] human_entries = null;\n    String[] machine_entries = null;\n\n\n\n    public SharedPreferences prev;\n\n    public UnitMultipleSelectorPreference(Context context, AttributeSet attrs) {\n        super(context, attrs);\n\n\n        prev = getSharedPreferences();\n\n        List&lt;String&gt; humanU = new ArrayList&lt;&gt;();\n        List&lt;String&gt; machineU = new ArrayList&lt;&gt;();\n\n        Units[] all = Units.values();\n        for (Units elem : all) {\n            humanU.add(elem.toString());\n            machineU.add(elem.name());\n        }\n\n        human_entries = humanU.toArray(new String[humanU.size()]);\n        machine_entries = machineU.toArray(new String[machineU.size()]);\n\n        Set&lt;String&gt; mU = new HashSet&lt;&gt;();\n        mU.add(Units.C.name());\n        mU.add(Units.K.name());\n\n        setDefaultValue(mU);\n\n        setOnPreferenceClickListener(this);\n    }\n\n    boolean[] selected = new boolean[0];\n\n    protected void onPrepareDialogBuilder(AlertDialog.Builder builder) {\n        if (prev == null)\n            return;\n\n        if (human_entries == null || machine_entries == null || human_entries.length != machine_entries.length ) {\n            throw new IllegalStateException(\n                    \"ListPreference requires an entries array and an entryValues array which are both the same length\");\n        }\n\n        selected = new boolean[human_entries.length];\n        for (int i = 0; i &lt; human_entries.length; i++)\n            selected[i] = prefSet.contains(machine_entries[i]);\n\n\n        String[] stringObj = new String[human_entries.length];\n        int i = 0;\n        for(CharSequence ch : human_entries)\n            stringObj[i++] = ch.toString();\n\n\n        builder.setAdapter(new MyAdapter(getContext(), android.R.layout.simple_list_item_multiple_choice, stringObj), new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n            }\n        });\n\n        AlertDialog mDialog = builder.create();\n        mDialog.getListView().setChoiceMode(AbsListView.CHOICE_MODE_MULTIPLE);\n        mDialog.getListView().setItemsCanFocus(false);\n        mDialog.getListView().setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view,\n                                    int position, long id) {\n                // Manage selected items here\n\n                ListView mParent = (ListView)parent;\n\n\n                if (mParent.getCheckedItemCount() &gt;= 1)\n                    selected[position] = mParent.isItemChecked(position);\n                if (mParent.getCheckedItemCount() == 0)\n                    mParent.setItemChecked(position, true);\n            }\n        });\n\n\n        mDialog.show();\n\n\n\n        i = 0;\n        for (boolean select : selected)\n            mDialog.getListView().setItemChecked(i++, select);\n    }\n\n    @Override\n    public boolean onPreferenceClick(Preference preference) {\n        AlertDialog.Builder mBuilder = new AlertDialog.Builder(getContext());\n        mBuilder.setTitle(getTitle())\n                .setPositiveButton(android.R.string.ok, this)\n                .setNegativeButton(android.R.string.cancel, this);\n        onPrepareDialogBuilder(mBuilder);\n\n        return true;\n    }\n\n\n\n    @Override\n    public void onClick(DialogInterface dialog, int which) {\n        Toast.makeText(getContext(), \"W:\"+which + \" | \" + Arrays.toString(selected), Toast.LENGTH_SHORT).show();\n\n        switch (which) {\n            case -1:\n                if (isPersistent()) {\n                    prefSet = new HashSet&lt;&gt;();\n\n                    for (int i = 0; i &lt; selected.length; i++) {\n                        if (selected[i])\n                            prefSet.add(machine_entries[i]);\n                    }\n                    getEditor().putStringSet(getKey(), prefSet).apply();\n\n                    Toast.makeText(getContext(), \"W:\"+which + \" | \" + getSharedPreferences().getStringSet(getKey(),null).toString(), Toast.LENGTH_SHORT).show();\n\n                }\n                return;\n        }\n    }\n\n\n\n    public class MyAdapter extends ArrayAdapter&lt;String&gt; {\n\n        public MyAdapter(Context context, int textViewResourceId, String[] objects) {\n            super(context, textViewResourceId, objects);\n        }\n\n        @Override\n        public boolean isEnabled(int n) {\n            return true;\n        }\n    }\n\n    Set&lt;String&gt; prefSet;\n\n    @Override\n    protected void onSetInitialValue(boolean restorePersistedValue, Object defaultValue) {\n        super.onSetInitialValue(restorePersistedValue, defaultValue);\n        prev = getSharedPreferences();\n\n        if(restorePersistedValue) {\n            prefSet = prev.getStringSet(getKey(), new HashSet&lt;String&gt;());\n        } else {\n            try {\n                prefSet = (Set&lt;String&gt;)defaultValue;\n                if(isPersistent())\n                    getEditor().putStringSet(getKey(), prefSet);\n            } catch (ClassCastException e) {\n                Log.e(\"ERROR_CAST\", \"Error casting the default value to Set&lt;String&gt;.\");\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20801688,"reputation":1,"user_id":15277571,"display_name":"topa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614192666,"creation_date":1614192666,"answer_id":66357089,"question_id":36048324,"body_markdown":"A really simple solution is to set a setOnPreferenceChangeListener and just return false if the new value would be empty.  \r\nAll of the code is put into onCreatePreferences.\r\n\r\n    MultiSelectListPreference infoPreference = findPreference(&quot;information&quot;);\r\n\r\n    infoPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {\r\n                @Override\r\n                public boolean onPreferenceChange(Preference preference, Object newValue) {\r\n                    if (size(newValue) == 0){\r\n                        return false;\r\n                    }\r\n                    return true;\r\n                }\r\n            });\r\n","title":"Have at least one item selected in Android MultiSelectListPreference","body":"<p>A really simple solution is to set a setOnPreferenceChangeListener and just return false if the new value would be empty.<br />\nAll of the code is put into onCreatePreferences.</p>\n<pre><code>MultiSelectListPreference infoPreference = findPreference(&quot;information&quot;);\n\ninfoPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {\n            @Override\n            public boolean onPreferenceChange(Preference preference, Object newValue) {\n                if (size(newValue) == 0){\n                    return false;\n                }\n                return true;\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":7591936,"reputation":193,"user_id":5759814,"display_name":"Georg Friedrich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1246,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1658790430,"creation_date":1458167944,"question_id":36048324,"body_markdown":"I have search now for hours through the internet and have found nothing substantial so far. The thing that I want to do is a multi choice preference view, that disables the last item and reenables it, if it is not alone anymore.\r\n\r\nI through so far about taking the super class force read the private variables in there to write my own `onPrepareDialogBuilder(AlertDialog.Builder builder)`. Which is configuring its own `OnMultiChoiceClickListener` that jumps in, in the moment where has only one item left. The problem here is, that I use a bad practice force read of a private variable and that I have so far no idea how to get the checkbox item and how to disable it. But I think looking even deeper into the Android SDK will solve this problem. \r\n\r\nAt the end, if nothing works, solving the problem with doing an overwrite the `OnPreferenceChangeListener` to display a toast if the user has less than one item selected. But user friendliness is a high value, that needs to be earned and that often isn&#39;t easy.\r\n\r\nThx.\r\n\r\n  \r\n\r\n    import android.content.Context;\r\n    import android.preference.MultiSelectListPreference;\r\n    import android.util.AttributeSet;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    \r\n    import georg.com.flironetest_01.Variables.Units;\r\n    \r\n    /**\r\n     * Created by Georg on 16/03/16.\r\n     */\r\n    public class UnitMultipleSelectorPreference extends MultiSelectListPreference {\r\n    \r\n        public UnitMultipleSelectorPreference(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n    \r\n            List&lt;CharSequence&gt; humanU = new ArrayList&lt;&gt;();\r\n            List&lt;CharSequence&gt; machineU = new ArrayList&lt;&gt;();\r\n    \r\n            Units[] all = Units.values(); // Units is a enum with a rewriten to string statement.\r\n            for (Units elem : all) {\r\n                humanU.add(elem.toString());\r\n                machineU.add(elem.name());\r\n            }\r\n            \r\n            setEntries(humanU.toArray(new CharSequence[humanU.size()]));\r\n            setEntryValues(machineU.toArray(new CharSequence[machineU.size()]));\r\n    \r\n            Set&lt;String&gt; mU = new HashSet&lt;&gt;();\r\n            mU.add(Units.C.name());\r\n            mU.add(Units.K.name());\r\n    \r\n            setDefaultValue(mU);\r\n        }\r\n    }","title":"Have at least one item selected in Android MultiSelectListPreference","body":"<p>I have search now for hours through the internet and have found nothing substantial so far. The thing that I want to do is a multi choice preference view, that disables the last item and reenables it, if it is not alone anymore.</p>\n\n<p>I through so far about taking the super class force read the private variables in there to write my own <code>onPrepareDialogBuilder(AlertDialog.Builder builder)</code>. Which is configuring its own <code>OnMultiChoiceClickListener</code> that jumps in, in the moment where has only one item left. The problem here is, that I use a bad practice force read of a private variable and that I have so far no idea how to get the checkbox item and how to disable it. But I think looking even deeper into the Android SDK will solve this problem. </p>\n\n<p>At the end, if nothing works, solving the problem with doing an overwrite the <code>OnPreferenceChangeListener</code> to display a toast if the user has less than one item selected. But user friendliness is a high value, that needs to be earned and that often isn't easy.</p>\n\n<p>Thx.</p>\n\n<pre><code>import android.content.Context;\nimport android.preference.MultiSelectListPreference;\nimport android.util.AttributeSet;\n\nimport java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\n\nimport georg.com.flironetest_01.Variables.Units;\n\n/**\n * Created by Georg on 16/03/16.\n */\npublic class UnitMultipleSelectorPreference extends MultiSelectListPreference {\n\n    public UnitMultipleSelectorPreference(Context context, AttributeSet attrs) {\n        super(context, attrs);\n\n        List&lt;CharSequence&gt; humanU = new ArrayList&lt;&gt;();\n        List&lt;CharSequence&gt; machineU = new ArrayList&lt;&gt;();\n\n        Units[] all = Units.values(); // Units is a enum with a rewriten to string statement.\n        for (Units elem : all) {\n            humanU.add(elem.toString());\n            machineU.add(elem.name());\n        }\n\n        setEntries(humanU.toArray(new CharSequence[humanU.size()]));\n        setEntryValues(machineU.toArray(new CharSequence[machineU.size()]));\n\n        Set&lt;String&gt; mU = new HashSet&lt;&gt;();\n        mU.add(Units.C.name());\n        mU.add(Units.K.name());\n\n        setDefaultValue(mU);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","icons","android-optionsmenu"],"comments":[{"owner":{"account_id":6457179,"reputation":2397,"user_id":5002179,"accept_rate":77,"display_name":"MurugananthamS"},"score":0,"creation_date":1554977941,"post_id":55630059,"comment_id":97951617,"body_markdown":"your code was correct only ,so me your full effort,then only we can check where is the mistake","body":"your code was correct only ,so me your full effort,then only we can check where is the mistake"}],"answers":[{"tags":[],"owner":{"account_id":4820143,"reputation":2041,"user_id":3891038,"display_name":"Julio E. Rodr&#237;guez Caba&#241;as"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554980297,"creation_date":1554978370,"answer_id":55630274,"question_id":55630059,"body_markdown":"Your code looks correct, but maybe you are using it just once inside `onCreateOptionsMenu()` and missing the calls that are necessary to update the icon as `observedCount` updates.\r\n\r\n## Approach 1\r\n\r\nYou can try doing the following in your activity:\r\n\r\nFirst, override `onPrepareOptionsMenu()` and apply the changes there:\r\n\r\n```java\r\n@Override\r\npublic boolean onPrepareOptionsMenu(Menu menu) {\r\n    if (observedCount != 0)\r\n        menu.getItem(2).setIcon(ContextCompat.getDrawable(MainActivity.this, R.drawable.ic_delete_copy));\r\n    else\r\n        menu.getItem(2).setIcon(ContextCompat.getDrawable(MainActivity.this, R.drawable.ic_cart));\r\n\r\n    return super.onPrepareOptionsMenu(menu);\r\n}\r\n```\r\n\r\nThen, whenever you want the icon to be updated (i.e., whenever `observedCount` changes), just invoke:\r\n\r\n```java\r\ninvalidateOptionsMenu(); // From a fragment, call activity.invalidateOptionsMenu();\r\n```\r\n\r\n## Approach 2\r\n\r\nAnother option is to save a reference to the menu inside `onCreateOptionsMenu()`:\r\n\r\n```java\r\nprivate Menu mMenu;\r\n\r\n...\r\n\r\n@Override\r\npublic void onCreateOptionsMenu(Menu menu)\r\n{\r\n    getMenuInflater().inflate(R.menu.your_menu, menu);\r\n    mMenu = menu;\r\n}\r\n``` \r\n\r\nThen, you can use that reference to set the icon:\r\n\r\n```java\r\nif (observedCount != 0)\r\n    mMenu.getItem(2).setIcon(ContextCompat.getDrawable(MainActivity.this, R.drawable.ic_delete_copy));\r\nelse\r\n    mMenu.getItem(2).setIcon(ContextCompat.getDrawable(MainActivity.this, R.drawable.ic_cart));\r\n```\r\n\r\nThat should hopefully do it!\r\n\r\nP.S. **Make sure you are getting the correct item when doing `menu.getItem(2)`** (the item number 2 is actually the third one because the count starts at 0). To avoid getting the wrong item, it would be a good idea to set the item you want to change with an ID and then replace `menu.getItem(2)` with `menu.findItem(R.id.your_item_id)`.","title":"How can i change Menu Item icon programmatically?","body":"<p>Your code looks correct, but maybe you are using it just once inside <code>onCreateOptionsMenu()</code> and missing the calls that are necessary to update the icon as <code>observedCount</code> updates.</p>\n\n<h2>Approach 1</h2>\n\n<p>You can try doing the following in your activity:</p>\n\n<p>First, override <code>onPrepareOptionsMenu()</code> and apply the changes there:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean onPrepareOptionsMenu(Menu menu) {\n    if (observedCount != 0)\n        menu.getItem(2).setIcon(ContextCompat.getDrawable(MainActivity.this, R.drawable.ic_delete_copy));\n    else\n        menu.getItem(2).setIcon(ContextCompat.getDrawable(MainActivity.this, R.drawable.ic_cart));\n\n    return super.onPrepareOptionsMenu(menu);\n}\n</code></pre>\n\n<p>Then, whenever you want the icon to be updated (i.e., whenever <code>observedCount</code> changes), just invoke:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>invalidateOptionsMenu(); // From a fragment, call activity.invalidateOptionsMenu();\n</code></pre>\n\n<h2>Approach 2</h2>\n\n<p>Another option is to save a reference to the menu inside <code>onCreateOptionsMenu()</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private Menu mMenu;\n\n...\n\n@Override\npublic void onCreateOptionsMenu(Menu menu)\n{\n    getMenuInflater().inflate(R.menu.your_menu, menu);\n    mMenu = menu;\n}\n</code></pre>\n\n<p>Then, you can use that reference to set the icon:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>if (observedCount != 0)\n    mMenu.getItem(2).setIcon(ContextCompat.getDrawable(MainActivity.this, R.drawable.ic_delete_copy));\nelse\n    mMenu.getItem(2).setIcon(ContextCompat.getDrawable(MainActivity.this, R.drawable.ic_cart));\n</code></pre>\n\n<p>That should hopefully do it!</p>\n\n<p>P.S. <strong>Make sure you are getting the correct item when doing <code>menu.getItem(2)</code></strong> (the item number 2 is actually the third one because the count starts at 0). To avoid getting the wrong item, it would be a good idea to set the item you want to change with an ID and then replace <code>menu.getItem(2)</code> with <code>menu.findItem(R.id.your_item_id)</code>.</p>\n"}],"owner":{"account_id":9669438,"reputation":145,"user_id":7174908,"accept_rate":31,"display_name":"Ahmed Khairy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2369,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658790286,"creation_date":1554977669,"question_id":55630059,"body_markdown":"I need to change my menu icon based on a condition, however when I use Menu.getItem(index).setIcon() it doesn&#39;t change my icon at all. I need help how to do that please\r\n\r\nMenu.getItem(index).setIcon()\r\n\r\n\r\n    if (menu != null) {\r\n       if (observedCount != 0)\r\n                        \r\n         menu.getItem(2).setIcon(ContextCompat.getDrawable(MainActivity.this, R.drawable.ic_delete_copy));\r\n      else\r\n                        \r\n         menu.getItem(2).setIcon(ContextCompat.getDrawable(MainActivity.this, R.drawable.ic_cart));","title":"How can i change Menu Item icon programmatically?","body":"<p>I need to change my menu icon based on a condition, however when I use Menu.getItem(index).setIcon() it doesn't change my icon at all. I need help how to do that please</p>\n\n<p>Menu.getItem(index).setIcon()</p>\n\n<pre><code>if (menu != null) {\n   if (observedCount != 0)\n\n     menu.getItem(2).setIcon(ContextCompat.getDrawable(MainActivity.this, R.drawable.ic_delete_copy));\n  else\n\n     menu.getItem(2).setIcon(ContextCompat.getDrawable(MainActivity.this, R.drawable.ic_cart));\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea","bukkit"],"answers":[{"tags":[],"owner":{"account_id":18670582,"reputation":3,"user_id":13609484,"display_name":"Tim_M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658788324,"creation_date":1658395785,"answer_id":73063780,"question_id":73055280,"body_markdown":"Wow I found the solution by trying random stuff, despite the path it shows being correct it wouldn&#39;t work until I for some reason added mavenCentral(). No idea why that is.\r\n\r\nTo fix this problem you specifically have to add mavenCentral() in repositories in build.gradle","title":"Making a bukkit plugin for minecraft 1.19, gradle gives me this error","body":"<p>Wow I found the solution by trying random stuff, despite the path it shows being correct it wouldn't work until I for some reason added mavenCentral(). No idea why that is.</p>\n<p>To fix this problem you specifically have to add mavenCentral() in repositories in build.gradle</p>\n"}],"owner":{"account_id":18670582,"reputation":3,"user_id":13609484,"display_name":"Tim_M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73063780,"answer_count":1,"score":0,"last_activity_date":1658788324,"creation_date":1658335079,"question_id":73055280,"body_markdown":"So I made a brand new project in IntelliJ IDEA CE (on MacOS 12.3.1), added the spigot dependencies to create a new plugin for the new version of Minecraft Java Edition 1.19. I upgraded my Gradle from 7.1 to 7.5 and my Java from 16 to 18. I made some code and wanted to test it by building a jar. However I got this error:\r\n```\r\n    Execution failed for task &#39;:compileJava&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.\r\n       &gt; Could not find io.netty:netty-transport-native-epoll:4.1.77.Final.\r\n         Searched in the following locations:\r\n           - https://oss.sonatype.org/content/repositories/snapshots/io/netty/netty-transport-native-epoll/4.1.77.Final/netty-transport-native-epoll-4.1.77.Final.pom\r\n           - https://oss.sonatype.org/content/repositories/central/io/netty/netty-transport-native-epoll/4.1.77.Final/netty-transport-native-epoll-4.1.77.Final.pom\r\n           - file:/Users/[REDACTED]/.m2/repository/io/netty/netty-transport-native-epoll/4.1.77.Final/netty-transport-native-epoll-4.1.77.Final.pom\r\n         Required by:\r\n             project : &gt; org.spigotmc:spigot:1.19-R0.1-SNAPSHOT\r\n    \r\n    Possible solution:\r\n     - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\r\n```\r\n\r\nI honestly have never encountered an error about netty-transport(?) and need help fixing it. Here&#39;s my build.gradle:\r\n```\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group &#39;me.Tim_M.antiChatReport&#39;\r\n    version &#39;1.0.0-RELEASE&#39;\r\n    \r\n    repositories {\r\n        maven {\r\n            url = &#39;https://hub.spigotmc.org/nexus/content/repositories/snapshots/&#39;\r\n    \r\n            content {\r\n                includeGroup &#39;org.bukkit&#39;\r\n                includeGroup &#39;org.spigotmc&#39;\r\n            }\r\n        }\r\n        maven { url = &#39;https://oss.sonatype.org/content/repositories/snapshots&#39; }\r\n        maven { url = &#39;https://oss.sonatype.org/content/repositories/central&#39; }\r\n        mavenLocal()\r\n    }\r\n    \r\n    dependencies {\r\n        compileOnly &#39;org.spigotmc:spigot:1.19-R0.1-SNAPSHOT&#39;\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    jar {\r\n        destinationDirectory.set(file(&#39;/Users/[REDACTED]/Desktop/Test Servers/Server 1.19/plugins&#39;))\r\n    }\r\n\r\n```\r\n\r\nAfter checking with cat in terminal, the file /Users/[REDACTED]/.m2/repository/io/netty/netty-transport-native-epoll/4.1.77.Final/netty-transport-native-epoll-4.1.77.Final.pom indeed exists.","title":"Making a bukkit plugin for minecraft 1.19, gradle gives me this error","body":"<p>So I made a brand new project in IntelliJ IDEA CE (on MacOS 12.3.1), added the spigot dependencies to create a new plugin for the new version of Minecraft Java Edition 1.19. I upgraded my Gradle from 7.1 to 7.5 and my Java from 16 to 18. I made some code and wanted to test it by building a jar. However I got this error:</p>\n<pre><code>    Execution failed for task ':compileJava'.\n    &gt; Could not resolve all files for configuration ':compileClasspath'.\n       &gt; Could not find io.netty:netty-transport-native-epoll:4.1.77.Final.\n         Searched in the following locations:\n           - https://oss.sonatype.org/content/repositories/snapshots/io/netty/netty-transport-native-epoll/4.1.77.Final/netty-transport-native-epoll-4.1.77.Final.pom\n           - https://oss.sonatype.org/content/repositories/central/io/netty/netty-transport-native-epoll/4.1.77.Final/netty-transport-native-epoll-4.1.77.Final.pom\n           - file:/Users/[REDACTED]/.m2/repository/io/netty/netty-transport-native-epoll/4.1.77.Final/netty-transport-native-epoll-4.1.77.Final.pom\n         Required by:\n             project : &gt; org.spigotmc:spigot:1.19-R0.1-SNAPSHOT\n    \n    Possible solution:\n     - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\n\n</code></pre>\n<p>I honestly have never encountered an error about netty-transport(?) and need help fixing it. Here's my build.gradle:</p>\n<pre><code>\n    plugins {\n        id 'java'\n    }\n    \n    group 'me.Tim_M.antiChatReport'\n    version '1.0.0-RELEASE'\n    \n    repositories {\n        maven {\n            url = 'https://hub.spigotmc.org/nexus/content/repositories/snapshots/'\n    \n            content {\n                includeGroup 'org.bukkit'\n                includeGroup 'org.spigotmc'\n            }\n        }\n        maven { url = 'https://oss.sonatype.org/content/repositories/snapshots' }\n        maven { url = 'https://oss.sonatype.org/content/repositories/central' }\n        mavenLocal()\n    }\n    \n    dependencies {\n        compileOnly 'org.spigotmc:spigot:1.19-R0.1-SNAPSHOT'\n    }\n    \n    test {\n        useJUnitPlatform()\n    }\n    \n    jar {\n        destinationDirectory.set(file('/Users/[REDACTED]/Desktop/Test Servers/Server 1.19/plugins'))\n    }\n\n</code></pre>\n<p>After checking with cat in terminal, the file /Users/[REDACTED]/.m2/repository/io/netty/netty-transport-native-epoll/4.1.77.Final/netty-transport-native-epoll-4.1.77.Final.pom indeed exists.</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1581501044,"post_id":60185057,"comment_id":106452110,"body_markdown":"[XDDFDataSourcesFactory](https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFDataSourcesFactory.html) provides creating data sources from arrays too. But a spreadsheet **should** get it&#39;s chart data sources from cells in a sheet. And Google Sheets will not show a chart in a `*.xlsx` which gets its data **not** from a sheet.","body":"<a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFDataSourcesFactory.html\" rel=\"nofollow noreferrer\">XDDFDataSourcesFactory</a> provides creating data sources from arrays too. But a spreadsheet <b>should</b> get it&#39;s chart data sources from cells in a sheet. And Google Sheets will not show a chart in a <code>*.xlsx</code> which gets its data <b>not</b> from a sheet."},{"owner":{"account_id":11373411,"reputation":450,"user_id":8338400,"accept_rate":40,"display_name":"Ullas Sharma"},"score":0,"creation_date":1581501769,"post_id":60185057,"comment_id":106452538,"body_markdown":"@AxelRichter could you please provide some more information, i&#39;m very new to Apache poi.\ni tried with `String[] elements = new String[] {&quot;Russia&quot;,&quot;Canada&quot;,&quot;USA&quot;};\n\t\t\tString dataRange = &quot;dataRange&quot;;\n\t\t\tXDDFDataSource&lt;String&gt; countries = XDDFDataSourcesFactory.fromArray(elements, dataRange);` but it&#39;s not correct and not getting any further","body":"@AxelRichter could you please provide some more information, i&#39;m very new to Apache poi. i tried with <code>String[] elements = new String[] {&quot;Russia&quot;,&quot;Canada&quot;,&quot;USA&quot;}; \t\t\tString dataRange = &quot;dataRange&quot;; \t\t\tXDDFDataSource&lt;String&gt; countries = XDDFDataSourcesFactory.fromArray(elements, dataRange);</code> but it&#39;s not correct and not getting any further"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1581579193,"creation_date":1581526949,"answer_id":60193539,"question_id":60185057,"body_markdown":"[XDDFDataSourcesFactory](https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFDataSourcesFactory.html) provides creating data sources from arrays too. But that is mainly for creating charts in `Word` or `PowerPoint` which holds it&#39;s data sources in a embedded `Excel` sheet which is internally created from that arrays while creating the `XWPFChart`or `XSLFChart`. \r\n\r\nA `XSSFChart` in a spreadsheet should get it&#39;s chart data sources from cells in a sheet. Maybe from a hidden sheet, but not from an array.\r\n\r\nBut of course it is possible. \r\n\r\nExamples using `apache poi 4.1.1`.\r\n\r\nFor a pie chart:\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.ss.util.CellRangeAddress;\r\n    import org.apache.poi.xddf.usermodel.*;\r\n    import org.apache.poi.xddf.usermodel.chart.*;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    \r\n    public class PieChartFromArray {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            try (XSSFWorkbook wb = new XSSFWorkbook()) {\r\n                XSSFSheet sheet = wb.createSheet(&quot;barchart&quot;);\r\n    \r\n                XSSFDrawing drawing = sheet.createDrawingPatriarch();\r\n                XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 0, 6, 15);\r\n    \r\n                XSSFChart chart = drawing.createChart(anchor);\r\n                chart.setTitleText(&quot;Chart title&quot;);\r\n                chart.setTitleOverlay(false);\r\n    \r\n                XDDFChartLegend legend = chart.getOrAddLegend();\r\n                legend.setPosition(LegendPosition.RIGHT);\r\n    \r\n                XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromArray(new String[]{&quot;Russia&quot;,&quot;Canada&quot;,&quot;USA&quot;});\r\n                XDDFNumericalDataSource&lt;Double&gt; val = XDDFDataSourcesFactory.fromArray(new Double[]{170d, 99d, 98d});\r\n    \r\n                //XDDFChartData data = new XDDFPieChartData(chart.getCTChart().getPlotArea().addNewPieChart());\r\n                XDDFChartData data = chart.createData(ChartTypes.PIE, null, null);\r\n                data.setVaryColors(true);\r\n                XDDFChartData.Series series = data.addSeries(cat, val);\r\n                series.setTitle(&quot;Series&quot;, null);\r\n                chart.plot(data);\r\n     \r\n                try (FileOutputStream fileOut = new FileOutputStream(&quot;ooxml-pie-chart.xlsx&quot;)) {\r\n                    wb.write(fileOut);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAnd for a bar chart:\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.ss.util.CellRangeAddress;\r\n    import org.apache.poi.xddf.usermodel.*;\r\n    import org.apache.poi.xddf.usermodel.chart.*;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    \r\n    public class BarChartFromArray {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            try (XSSFWorkbook wb = new XSSFWorkbook()) {\r\n                XSSFSheet sheet = wb.createSheet(&quot;barchart&quot;);\r\n    \r\n                XSSFDrawing drawing = sheet.createDrawingPatriarch();\r\n                XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 0, 10, 15);\r\n    \r\n                XSSFChart chart = drawing.createChart(anchor);\r\n                chart.setTitleText(&quot;Chart title&quot;);\r\n                chart.setTitleOverlay(false);\r\n    \r\n                XDDFCategoryAxis bottomAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\r\n                bottomAxis.setTitle(&quot;cat&quot;);\r\n                XDDFValueAxis leftAxis = chart.createValueAxis(AxisPosition.LEFT);\r\n                leftAxis.setTitle(&quot;val&quot;);\r\n                leftAxis.setCrosses(AxisCrosses.AUTO_ZERO);\r\n                leftAxis.setCrossBetween(AxisCrossBetween.BETWEEN);\r\n    \r\n                XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromArray(new String[]{&quot;Russia&quot;,&quot;Canada&quot;,&quot;USA&quot;});\r\n                XDDFNumericalDataSource&lt;Double&gt; val = XDDFDataSourcesFactory.fromArray(new Double[]{170d, 99d, 98d});\r\n    \r\n                XDDFChartData data = chart.createData(ChartTypes.BAR, bottomAxis, leftAxis);\r\n                data.setVaryColors(false);\r\n                XDDFChartData.Series series = data.addSeries(cat, val);\r\n                series.setTitle(&quot;Series&quot;, null);\r\n                chart.plot(data);\r\n    \r\n                XDDFBarChartData bar = (XDDFBarChartData) data;\r\n                bar.setBarDirection(BarDirection.COL);\r\n     \r\n                try (FileOutputStream fileOut = new FileOutputStream(&quot;ooxml-bar-chart.xlsx&quot;)) {\r\n                    wb.write(fileOut);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThose charts hold their data as arrays in form of string literal formulas. Such as `={&quot;Russia&quot;,&quot;Canada&quot;,&quot;USA&quot;}` and `={170,99,98}` for example. This is a bad form of chart data storage. Google Sheets will not even show such a chart which gets its data not from a sheet but from such string literal formulas.\r\n\r\nSo don&#39;t do that. Instead put the data in a sheet. Put it in a hidden sheet, if the data shall not be visible.\r\n\r\nExamples how to put chart&#39;s data in a separate sheet which possibly can be hidden then. This code also is using `apache poi 4.1.1`.\r\n\r\nFor a pie chart:\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.util.CellRangeAddress;\r\n    import org.apache.poi.ss.util.CellReference;\r\n    import org.apache.poi.xddf.usermodel.chart.LegendPosition;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFPieChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.ChartTypes;\r\n    import org.apache.poi.xssf.usermodel.XSSFChart;\r\n    import org.apache.poi.xssf.usermodel.XSSFClientAnchor;\r\n    import org.apache.poi.xssf.usermodel.XSSFDrawing;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    import org.apache.poi.xssf.usermodel.DefaultIndexedColorMap;\r\n    \r\n    public class PieChart {\r\n    \r\n      public static void main(String[] args) throws IOException {\r\n    \r\n        String[] categories = new String[]{&quot;Russia&quot;,&quot;Canada&quot;,&quot;USA&quot;};\r\n        Double[] values = new Double[]{170d, 99d, 98d};\r\n    \r\n        try (XSSFWorkbook wb = new XSSFWorkbook()) {\r\n          //the sheet for the chart\r\n          XSSFSheet chartSheet = wb.createSheet(&quot;piechart&quot;);\r\n          //the sheet for the data\r\n          XSSFSheet dataSheet = wb.createSheet(&quot;data&quot;);\r\n          //maybe hide the data sheet\r\n          //wb.setSheetHidden(1, true);\r\n    \r\n          Row row;\r\n          Cell cell;\r\n          row = dataSheet.createRow(0);\r\n          cell = row.createCell(1); cell.setCellValue(&quot;Series&quot;);\r\n          for (int i = 1; i &lt;= categories.length; i++) {\r\n            row = dataSheet.createRow(i);\r\n            cell = row.createCell(0); cell.setCellValue(categories[i-1]);\r\n            cell = row.createCell(1); cell.setCellValue(values[i-1]);\r\n          }\r\n    \r\n          XSSFDrawing drawing = chartSheet.createDrawingPatriarch();\r\n          XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 0, 6, 15);\r\n    \r\n          XSSFChart chart = drawing.createChart(anchor);\r\n          chart.setTitleText(&quot;Chart title&quot;);\r\n          chart.setTitleOverlay(false);\r\n    \r\n          XDDFChartLegend legend = chart.getOrAddLegend();\r\n          legend.setPosition(LegendPosition.RIGHT);\r\n    \r\n          XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromStringCellRange(dataSheet,\r\n              new CellRangeAddress(1, categories.length, 0, 0));\r\n          XDDFNumericalDataSource&lt;Double&gt; val = XDDFDataSourcesFactory.fromNumericCellRange(dataSheet,\r\n              new CellRangeAddress(1, categories.length, 1, 1));\r\n    \r\n          //XDDFChartData data = new XDDFPieChartData(chart.getCTChart().getPlotArea().addNewPieChart());\r\n          XDDFChartData data = chart.createData(ChartTypes.PIE, null, null);\r\n          data.setVaryColors(true);\r\n          XDDFChartData.Series series = data.addSeries(cat, val);\r\n          series.setTitle(dataSheet.getRow(0).getCell(1).getStringCellValue(), new CellReference(dataSheet.getRow(0).getCell(1)));\r\n          chart.plot(data);\r\n    \r\n          // Do not auto delete the title; is necessary for showing title in Calc\r\n          if (chart.getCTChart().getAutoTitleDeleted() == null) chart.getCTChart().addNewAutoTitleDeleted();\r\n          chart.getCTChart().getAutoTitleDeleted().setVal(false);\r\n    \r\n          // Data point colors; is necessary for showing data points in Calc\r\n          int pointCount = series.getCategoryData().getPointCount(); \r\n          for (int p = 0; p &lt; pointCount; p++) {\r\n            chart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\r\n            chart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).getDPtArray(p)\r\n              .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(DefaultIndexedColorMap.getDefaultRGB(p+10));\r\n          }\r\n    \r\n          // Write the output to a file\r\n          try (FileOutputStream fileOut = new FileOutputStream(&quot;ooxml-pie-chart.xlsx&quot;)) {\r\n            wb.write(fileOut);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nAnd for a bar chart:\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.util.CellRangeAddress;\r\n    import org.apache.poi.ss.util.CellReference;\r\n    import org.apache.poi.xddf.usermodel.PresetColor;\r\n    import org.apache.poi.xddf.usermodel.XDDFColor;\r\n    import org.apache.poi.xddf.usermodel.XDDFShapeProperties;\r\n    import org.apache.poi.xddf.usermodel.XDDFSolidFillProperties;\r\n    import org.apache.poi.xddf.usermodel.chart.AxisCrosses;\r\n    import org.apache.poi.xddf.usermodel.chart.AxisPosition;\r\n    import org.apache.poi.xddf.usermodel.chart.AxisCrossBetween;\r\n    import org.apache.poi.xddf.usermodel.chart.BarDirection;\r\n    import org.apache.poi.xddf.usermodel.chart.ChartTypes;\r\n    import org.apache.poi.xddf.usermodel.chart.LegendPosition;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFBarChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFCategoryAxis;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFValueAxis;\r\n    import org.apache.poi.xssf.usermodel.XSSFChart;\r\n    import org.apache.poi.xssf.usermodel.XSSFClientAnchor;\r\n    import org.apache.poi.xssf.usermodel.XSSFDrawing;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    public class BarChart {\r\n    \r\n      public static void main(String[] args) throws Exception {\r\n    \r\n        String[] categories = new String[]{&quot;Russia&quot;,&quot;Canada&quot;,&quot;USA&quot;};\r\n        Double[] values = new Double[]{170d, 99d, 98d};\r\n    \r\n        try (XSSFWorkbook wb = new XSSFWorkbook()) {\r\n          //the sheet for the chart\r\n          XSSFSheet chartSheet = wb.createSheet(&quot;barchart&quot;);\r\n          //the sheet for the data\r\n          XSSFSheet dataSheet = wb.createSheet(&quot;data&quot;);\r\n          //maybe hide the data sheet\r\n          //wb.setSheetHidden(1, true);\r\n    \r\n          Row row;\r\n          Cell cell;\r\n          row = dataSheet.createRow(0);\r\n          cell = row.createCell(1); cell.setCellValue(&quot;Series&quot;);\r\n          for (int i = 1; i &lt;= categories.length; i++) {\r\n            row = dataSheet.createRow(i);\r\n            cell = row.createCell(0); cell.setCellValue(categories[i-1]);\r\n            cell = row.createCell(1); cell.setCellValue(values[i-1]);\r\n          }\r\n    \r\n          XSSFDrawing drawing = chartSheet.createDrawingPatriarch();\r\n          XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 0, 10, 15);\r\n    \r\n          XSSFChart chart = drawing.createChart(anchor);\r\n          chart.setTitleText(&quot;Chart title&quot;);\r\n          chart.setTitleOverlay(false);\r\n    \r\n          XDDFChartLegend legend = chart.getOrAddLegend();\r\n          legend.setPosition(LegendPosition.RIGHT);\r\n    \r\n          XDDFCategoryAxis bottomAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\r\n          bottomAxis.setTitle(&quot;cat&quot;);\r\n    \r\n          XDDFValueAxis leftAxis = chart.createValueAxis(AxisPosition.LEFT);\r\n          leftAxis.setTitle(&quot;val&quot;);\r\n          leftAxis.setCrosses(AxisCrosses.AUTO_ZERO);\r\n          leftAxis.setCrossBetween(AxisCrossBetween.BETWEEN);\r\n    \r\n          XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromStringCellRange(dataSheet,\r\n              new CellRangeAddress(1, categories.length, 0, 0));\r\n          XDDFNumericalDataSource&lt;Double&gt; val = XDDFDataSourcesFactory.fromNumericCellRange(dataSheet,\r\n              new CellRangeAddress(1, categories.length, 1, 1));\r\n    \r\n          XDDFChartData data = chart.createData(ChartTypes.BAR, bottomAxis, leftAxis);\r\n          data.setVaryColors(false);\r\n          XDDFChartData.Series series = data.addSeries(cat, val);\r\n          series.setTitle(dataSheet.getRow(0).getCell(1).getStringCellValue(), new CellReference(dataSheet.getRow(0).getCell(1)));\r\n          solidFillSeries(series, PresetColor.BLUE);\r\n          chart.plot(data);\r\n    \r\n          XDDFBarChartData bar = (XDDFBarChartData) data;\r\n          bar.setBarDirection(BarDirection.COL);\r\n    \r\n          // Do not auto delete the title; is necessary for showing title in Calc\r\n          if (chart.getCTChart().getAutoTitleDeleted() == null) chart.getCTChart().addNewAutoTitleDeleted();\r\n          chart.getCTChart().getAutoTitleDeleted().setVal(false);\r\n    \r\n          try (FileOutputStream fileOut = new FileOutputStream(&quot;ooxml-bar-chart.xlsx&quot;)) {\r\n            wb.write(fileOut);\r\n          }\r\n        }\r\n      }\r\n    \r\n      private static void solidFillSeries(XDDFChartData.Series series, PresetColor color) {\r\n        XDDFSolidFillProperties fill = new XDDFSolidFillProperties(XDDFColor.from(color));\r\n        XDDFShapeProperties properties = series.getShapeProperties();\r\n        if (properties == null) {\r\n          properties = new XDDFShapeProperties();\r\n        }\r\n        properties.setFillProperties(fill);\r\n        series.setShapeProperties(properties);\r\n      }\r\n    }\r\n\r\n","title":"How to create pie &amp; bar chart with Apache POI with XDDFDataSource values from custom List","body":"<p><a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xddf/usermodel/chart/XDDFDataSourcesFactory.html\" rel=\"nofollow noreferrer\">XDDFDataSourcesFactory</a> provides creating data sources from arrays too. But that is mainly for creating charts in <code>Word</code> or <code>PowerPoint</code> which holds it's data sources in a embedded <code>Excel</code> sheet which is internally created from that arrays while creating the <code>XWPFChart</code>or <code>XSLFChart</code>. </p>\n\n<p>A <code>XSSFChart</code> in a spreadsheet should get it's chart data sources from cells in a sheet. Maybe from a hidden sheet, but not from an array.</p>\n\n<p>But of course it is possible. </p>\n\n<p>Examples using <code>apache poi 4.1.1</code>.</p>\n\n<p>For a pie chart:</p>\n\n<pre><code>import java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.ss.util.CellRangeAddress;\nimport org.apache.poi.xddf.usermodel.*;\nimport org.apache.poi.xddf.usermodel.chart.*;\nimport org.apache.poi.xssf.usermodel.*;\n\npublic class PieChartFromArray {\n\n    public static void main(String[] args) throws IOException {\n        try (XSSFWorkbook wb = new XSSFWorkbook()) {\n            XSSFSheet sheet = wb.createSheet(\"barchart\");\n\n            XSSFDrawing drawing = sheet.createDrawingPatriarch();\n            XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 0, 6, 15);\n\n            XSSFChart chart = drawing.createChart(anchor);\n            chart.setTitleText(\"Chart title\");\n            chart.setTitleOverlay(false);\n\n            XDDFChartLegend legend = chart.getOrAddLegend();\n            legend.setPosition(LegendPosition.RIGHT);\n\n            XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromArray(new String[]{\"Russia\",\"Canada\",\"USA\"});\n            XDDFNumericalDataSource&lt;Double&gt; val = XDDFDataSourcesFactory.fromArray(new Double[]{170d, 99d, 98d});\n\n            //XDDFChartData data = new XDDFPieChartData(chart.getCTChart().getPlotArea().addNewPieChart());\n            XDDFChartData data = chart.createData(ChartTypes.PIE, null, null);\n            data.setVaryColors(true);\n            XDDFChartData.Series series = data.addSeries(cat, val);\n            series.setTitle(\"Series\", null);\n            chart.plot(data);\n\n            try (FileOutputStream fileOut = new FileOutputStream(\"ooxml-pie-chart.xlsx\")) {\n                wb.write(fileOut);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And for a bar chart:</p>\n\n<pre><code>import java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.ss.util.CellRangeAddress;\nimport org.apache.poi.xddf.usermodel.*;\nimport org.apache.poi.xddf.usermodel.chart.*;\nimport org.apache.poi.xssf.usermodel.*;\n\npublic class BarChartFromArray {\n\n    public static void main(String[] args) throws IOException {\n        try (XSSFWorkbook wb = new XSSFWorkbook()) {\n            XSSFSheet sheet = wb.createSheet(\"barchart\");\n\n            XSSFDrawing drawing = sheet.createDrawingPatriarch();\n            XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 0, 10, 15);\n\n            XSSFChart chart = drawing.createChart(anchor);\n            chart.setTitleText(\"Chart title\");\n            chart.setTitleOverlay(false);\n\n            XDDFCategoryAxis bottomAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\n            bottomAxis.setTitle(\"cat\");\n            XDDFValueAxis leftAxis = chart.createValueAxis(AxisPosition.LEFT);\n            leftAxis.setTitle(\"val\");\n            leftAxis.setCrosses(AxisCrosses.AUTO_ZERO);\n            leftAxis.setCrossBetween(AxisCrossBetween.BETWEEN);\n\n            XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromArray(new String[]{\"Russia\",\"Canada\",\"USA\"});\n            XDDFNumericalDataSource&lt;Double&gt; val = XDDFDataSourcesFactory.fromArray(new Double[]{170d, 99d, 98d});\n\n            XDDFChartData data = chart.createData(ChartTypes.BAR, bottomAxis, leftAxis);\n            data.setVaryColors(false);\n            XDDFChartData.Series series = data.addSeries(cat, val);\n            series.setTitle(\"Series\", null);\n            chart.plot(data);\n\n            XDDFBarChartData bar = (XDDFBarChartData) data;\n            bar.setBarDirection(BarDirection.COL);\n\n            try (FileOutputStream fileOut = new FileOutputStream(\"ooxml-bar-chart.xlsx\")) {\n                wb.write(fileOut);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Those charts hold their data as arrays in form of string literal formulas. Such as <code>={\"Russia\",\"Canada\",\"USA\"}</code> and <code>={170,99,98}</code> for example. This is a bad form of chart data storage. Google Sheets will not even show such a chart which gets its data not from a sheet but from such string literal formulas.</p>\n\n<p>So don't do that. Instead put the data in a sheet. Put it in a hidden sheet, if the data shall not be visible.</p>\n\n<p>Examples how to put chart's data in a separate sheet which possibly can be hidden then. This code also is using <code>apache poi 4.1.1</code>.</p>\n\n<p>For a pie chart:</p>\n\n<pre><code>import java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.util.CellRangeAddress;\nimport org.apache.poi.ss.util.CellReference;\nimport org.apache.poi.xddf.usermodel.chart.LegendPosition;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartData;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\nimport org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFPieChartData;\nimport org.apache.poi.xddf.usermodel.chart.ChartTypes;\nimport org.apache.poi.xssf.usermodel.XSSFChart;\nimport org.apache.poi.xssf.usermodel.XSSFClientAnchor;\nimport org.apache.poi.xssf.usermodel.XSSFDrawing;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport org.apache.poi.xssf.usermodel.DefaultIndexedColorMap;\n\npublic class PieChart {\n\n  public static void main(String[] args) throws IOException {\n\n    String[] categories = new String[]{\"Russia\",\"Canada\",\"USA\"};\n    Double[] values = new Double[]{170d, 99d, 98d};\n\n    try (XSSFWorkbook wb = new XSSFWorkbook()) {\n      //the sheet for the chart\n      XSSFSheet chartSheet = wb.createSheet(\"piechart\");\n      //the sheet for the data\n      XSSFSheet dataSheet = wb.createSheet(\"data\");\n      //maybe hide the data sheet\n      //wb.setSheetHidden(1, true);\n\n      Row row;\n      Cell cell;\n      row = dataSheet.createRow(0);\n      cell = row.createCell(1); cell.setCellValue(\"Series\");\n      for (int i = 1; i &lt;= categories.length; i++) {\n        row = dataSheet.createRow(i);\n        cell = row.createCell(0); cell.setCellValue(categories[i-1]);\n        cell = row.createCell(1); cell.setCellValue(values[i-1]);\n      }\n\n      XSSFDrawing drawing = chartSheet.createDrawingPatriarch();\n      XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 0, 6, 15);\n\n      XSSFChart chart = drawing.createChart(anchor);\n      chart.setTitleText(\"Chart title\");\n      chart.setTitleOverlay(false);\n\n      XDDFChartLegend legend = chart.getOrAddLegend();\n      legend.setPosition(LegendPosition.RIGHT);\n\n      XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromStringCellRange(dataSheet,\n          new CellRangeAddress(1, categories.length, 0, 0));\n      XDDFNumericalDataSource&lt;Double&gt; val = XDDFDataSourcesFactory.fromNumericCellRange(dataSheet,\n          new CellRangeAddress(1, categories.length, 1, 1));\n\n      //XDDFChartData data = new XDDFPieChartData(chart.getCTChart().getPlotArea().addNewPieChart());\n      XDDFChartData data = chart.createData(ChartTypes.PIE, null, null);\n      data.setVaryColors(true);\n      XDDFChartData.Series series = data.addSeries(cat, val);\n      series.setTitle(dataSheet.getRow(0).getCell(1).getStringCellValue(), new CellReference(dataSheet.getRow(0).getCell(1)));\n      chart.plot(data);\n\n      // Do not auto delete the title; is necessary for showing title in Calc\n      if (chart.getCTChart().getAutoTitleDeleted() == null) chart.getCTChart().addNewAutoTitleDeleted();\n      chart.getCTChart().getAutoTitleDeleted().setVal(false);\n\n      // Data point colors; is necessary for showing data points in Calc\n      int pointCount = series.getCategoryData().getPointCount(); \n      for (int p = 0; p &lt; pointCount; p++) {\n        chart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\n        chart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).getDPtArray(p)\n          .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(DefaultIndexedColorMap.getDefaultRGB(p+10));\n      }\n\n      // Write the output to a file\n      try (FileOutputStream fileOut = new FileOutputStream(\"ooxml-pie-chart.xlsx\")) {\n        wb.write(fileOut);\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>And for a bar chart:</p>\n\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.util.CellRangeAddress;\nimport org.apache.poi.ss.util.CellReference;\nimport org.apache.poi.xddf.usermodel.PresetColor;\nimport org.apache.poi.xddf.usermodel.XDDFColor;\nimport org.apache.poi.xddf.usermodel.XDDFShapeProperties;\nimport org.apache.poi.xddf.usermodel.XDDFSolidFillProperties;\nimport org.apache.poi.xddf.usermodel.chart.AxisCrosses;\nimport org.apache.poi.xddf.usermodel.chart.AxisPosition;\nimport org.apache.poi.xddf.usermodel.chart.AxisCrossBetween;\nimport org.apache.poi.xddf.usermodel.chart.BarDirection;\nimport org.apache.poi.xddf.usermodel.chart.ChartTypes;\nimport org.apache.poi.xddf.usermodel.chart.LegendPosition;\nimport org.apache.poi.xddf.usermodel.chart.XDDFBarChartData;\nimport org.apache.poi.xddf.usermodel.chart.XDDFCategoryAxis;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartData;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\nimport org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFValueAxis;\nimport org.apache.poi.xssf.usermodel.XSSFChart;\nimport org.apache.poi.xssf.usermodel.XSSFClientAnchor;\nimport org.apache.poi.xssf.usermodel.XSSFDrawing;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class BarChart {\n\n  public static void main(String[] args) throws Exception {\n\n    String[] categories = new String[]{\"Russia\",\"Canada\",\"USA\"};\n    Double[] values = new Double[]{170d, 99d, 98d};\n\n    try (XSSFWorkbook wb = new XSSFWorkbook()) {\n      //the sheet for the chart\n      XSSFSheet chartSheet = wb.createSheet(\"barchart\");\n      //the sheet for the data\n      XSSFSheet dataSheet = wb.createSheet(\"data\");\n      //maybe hide the data sheet\n      //wb.setSheetHidden(1, true);\n\n      Row row;\n      Cell cell;\n      row = dataSheet.createRow(0);\n      cell = row.createCell(1); cell.setCellValue(\"Series\");\n      for (int i = 1; i &lt;= categories.length; i++) {\n        row = dataSheet.createRow(i);\n        cell = row.createCell(0); cell.setCellValue(categories[i-1]);\n        cell = row.createCell(1); cell.setCellValue(values[i-1]);\n      }\n\n      XSSFDrawing drawing = chartSheet.createDrawingPatriarch();\n      XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 0, 10, 15);\n\n      XSSFChart chart = drawing.createChart(anchor);\n      chart.setTitleText(\"Chart title\");\n      chart.setTitleOverlay(false);\n\n      XDDFChartLegend legend = chart.getOrAddLegend();\n      legend.setPosition(LegendPosition.RIGHT);\n\n      XDDFCategoryAxis bottomAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\n      bottomAxis.setTitle(\"cat\");\n\n      XDDFValueAxis leftAxis = chart.createValueAxis(AxisPosition.LEFT);\n      leftAxis.setTitle(\"val\");\n      leftAxis.setCrosses(AxisCrosses.AUTO_ZERO);\n      leftAxis.setCrossBetween(AxisCrossBetween.BETWEEN);\n\n      XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromStringCellRange(dataSheet,\n          new CellRangeAddress(1, categories.length, 0, 0));\n      XDDFNumericalDataSource&lt;Double&gt; val = XDDFDataSourcesFactory.fromNumericCellRange(dataSheet,\n          new CellRangeAddress(1, categories.length, 1, 1));\n\n      XDDFChartData data = chart.createData(ChartTypes.BAR, bottomAxis, leftAxis);\n      data.setVaryColors(false);\n      XDDFChartData.Series series = data.addSeries(cat, val);\n      series.setTitle(dataSheet.getRow(0).getCell(1).getStringCellValue(), new CellReference(dataSheet.getRow(0).getCell(1)));\n      solidFillSeries(series, PresetColor.BLUE);\n      chart.plot(data);\n\n      XDDFBarChartData bar = (XDDFBarChartData) data;\n      bar.setBarDirection(BarDirection.COL);\n\n      // Do not auto delete the title; is necessary for showing title in Calc\n      if (chart.getCTChart().getAutoTitleDeleted() == null) chart.getCTChart().addNewAutoTitleDeleted();\n      chart.getCTChart().getAutoTitleDeleted().setVal(false);\n\n      try (FileOutputStream fileOut = new FileOutputStream(\"ooxml-bar-chart.xlsx\")) {\n        wb.write(fileOut);\n      }\n    }\n  }\n\n  private static void solidFillSeries(XDDFChartData.Series series, PresetColor color) {\n    XDDFSolidFillProperties fill = new XDDFSolidFillProperties(XDDFColor.from(color));\n    XDDFShapeProperties properties = series.getShapeProperties();\n    if (properties == null) {\n      properties = new XDDFShapeProperties();\n    }\n    properties.setFillProperties(fill);\n    series.setShapeProperties(properties);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":11373411,"reputation":450,"user_id":8338400,"accept_rate":40,"display_name":"Ullas Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3928,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60193539,"answer_count":1,"score":0,"last_activity_date":1658788253,"creation_date":1581499785,"question_id":60185057,"body_markdown":"I&#39;m new in Apache-poi, I&#39;m working on a java project using Apache-poi to export data to excel spreadsheet.currently I am able to draw pie chart with fixed values.   \r\nI need to create a pie-chart in java with `Apache POI`, with custom values for series from list, without reading it from sheet.\r\n\r\nExample code I have tried is below.\r\n\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.util.CellRangeAddress;\r\n    import org.apache.poi.xddf.usermodel.chart.LegendPosition;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartData;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\r\n    import org.apache.poi.xddf.usermodel.chart.XDDFPieChartData;\r\n    import org.apache.poi.xssf.usermodel.XSSFChart;\r\n    import org.apache.poi.xssf.usermodel.XSSFClientAnchor;\r\n    import org.apache.poi.xssf.usermodel.XSSFDrawing;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    \r\n    public class PieChartSecond {\r\n    \r\n    \tpublic static void main(String[] args) throws FileNotFoundException, IOException {\r\n    \t\ttry (XSSFWorkbook wb = new XSSFWorkbook()) {\r\n    \r\n    \t\t\tXSSFSheet sheet = wb.createSheet(&quot;CountryPieChart&quot;);\r\n    \r\n    \t\t\t// Create row and put some cells in it. Rows and cells are 0 based.\r\n    \t\t\tRow row = sheet.createRow((short) 0);\r\n    \r\n    \t\t\tCell cell = row.createCell((short) 0);\r\n    \t\t\tcell.setCellValue(&quot;Russia(&quot;+17098242+&quot;)&quot;\r\n    );\r\n    \r\n    \t\t\tcell = row.createCell((short) 1);\r\n    \t\t\tcell.setCellValue(&quot;Canada(&quot; + 9984670 +&quot;)&quot;\r\n    );\r\n    \r\n    \t\t\tcell = row.createCell((short) 2);\r\n    \t\t\tcell.setCellValue(&quot;USA(&quot; +9826675+&quot;)&quot;\r\n    );\r\n    \r\n    \t\t\trow = sheet.createRow((short) 1);\r\n    \r\n    \t\t\tcell = row.createCell((short) 0);\r\n    \t\t\tcell.setCellValue(17098242);\r\n    \r\n    \t\t\tcell = row.createCell((short) 1);\r\n    \t\t\tcell.setCellValue(9984670);\r\n    \r\n    \t\t\tcell = row.createCell((short) 2);\r\n    \t\t\tcell.setCellValue(9826675);\r\n    \r\n    \t\t\tXSSFDrawing drawing = sheet.createDrawingPatriarch();\r\n    \t\t\tXSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 4, 7, 20);\r\n    \r\n    \t\t\tXSSFChart chart = drawing.createChart(anchor);\r\n    \t\t\tchart.setTitleText(&quot;Countries&quot;);\r\n    \t\t\tchart.setTitleOverlay(false);\r\n    \r\n    \t\t\tXDDFChartLegend legend = chart.getOrAddLegend();\r\n    \t\t\tlegend.setPosition(LegendPosition.TOP_RIGHT);\r\n    \r\n    \t\t\tXDDFDataSource&lt;String&gt; countries = XDDFDataSourcesFactory.fromStringCellRange(sheet,\r\n    \t\t\t\t\tnew CellRangeAddress(0, 0, 0, 2));\r\n    \r\n    \t\t\tXDDFNumericalDataSource&lt;Double&gt; values = XDDFDataSourcesFactory.fromNumericCellRange(sheet,\r\n    \t\t\t\t\tnew CellRangeAddress(1, 1, 0, 2));\r\n    \r\n    //\t\t\tXDDFChartData data = chart.createData(ChartTypes.PIE, null, null);\r\n    \t\t\tXDDFChartData data = new XDDFPieChartData(chart.getCTChart().getPlotArea().addNewPieChart());\r\n    \t\t      data.setVaryColors(true);\r\n    \t\t\t\r\n    \t\t\tdata.setVaryColors(true);\r\n    \t\t\tdata.addSeries(countries, values);\r\n    \t\t\tchart.plot(data);\r\n    \r\n    \t\t\t// Write output to an excel file\r\n    \t\t\ttry (FileOutputStream fileOut = new FileOutputStream(&quot;pie-chart-countries.xlsx&quot;)) {\r\n    \t\t\t\twb.write(fileOut);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nbelow is my excel snapshot[![Excel Snapshot of above code][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/slv2j.png\r\n\r\nproblem is here i&#39;m setting the values to sheet and then fetching it to chart. i don&#39;t want to create a table, and i just directly want to insert my values as a list(since it can be changed dynamically)\r\ni.e    \r\ninstead of below lines where i&#39;m fetching values from cell, i need to fetch it from `List&lt;String&gt; ` countries( list of countries) &amp;  `List&lt;Double&gt;` values and set it to `data.addSeries(countries, values)`\r\n\r\n    XDDFDataSource&lt;String&gt; countries = XDDFDataSourcesFactory.fromStringCellRange(sheet,\r\n    \t\t\t\t\tnew CellRangeAddress(0, 0, 0, 2));\r\n    \r\n    \t\t\tXDDFNumericalDataSource&lt;Double&gt; values = XDDFDataSourcesFactory.fromNumericCellRange(sheet,\r\n    \t\t\t\t\tnew CellRangeAddress(1, 1, 0, 2));\r\n\r\nSince Values keep on changing as per changes in Db,is their any way to achieve this.","title":"How to create pie &amp; bar chart with Apache POI with XDDFDataSource values from custom List","body":"<p>I'm new in Apache-poi, I'm working on a java project using Apache-poi to export data to excel spreadsheet.currently I am able to draw pie chart with fixed values.<br>\nI need to create a pie-chart in java with <code>Apache POI</code>, with custom values for series from list, without reading it from sheet.</p>\n\n<p>Example code I have tried is below.</p>\n\n<pre><code>import java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.util.CellRangeAddress;\nimport org.apache.poi.xddf.usermodel.chart.LegendPosition;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartData;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\nimport org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFPieChartData;\nimport org.apache.poi.xssf.usermodel.XSSFChart;\nimport org.apache.poi.xssf.usermodel.XSSFClientAnchor;\nimport org.apache.poi.xssf.usermodel.XSSFDrawing;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\n\npublic class PieChartSecond {\n\n    public static void main(String[] args) throws FileNotFoundException, IOException {\n        try (XSSFWorkbook wb = new XSSFWorkbook()) {\n\n            XSSFSheet sheet = wb.createSheet(\"CountryPieChart\");\n\n            // Create row and put some cells in it. Rows and cells are 0 based.\n            Row row = sheet.createRow((short) 0);\n\n            Cell cell = row.createCell((short) 0);\n            cell.setCellValue(\"Russia(\"+17098242+\")\"\n);\n\n            cell = row.createCell((short) 1);\n            cell.setCellValue(\"Canada(\" + 9984670 +\")\"\n);\n\n            cell = row.createCell((short) 2);\n            cell.setCellValue(\"USA(\" +9826675+\")\"\n);\n\n            row = sheet.createRow((short) 1);\n\n            cell = row.createCell((short) 0);\n            cell.setCellValue(17098242);\n\n            cell = row.createCell((short) 1);\n            cell.setCellValue(9984670);\n\n            cell = row.createCell((short) 2);\n            cell.setCellValue(9826675);\n\n            XSSFDrawing drawing = sheet.createDrawingPatriarch();\n            XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0, 0, 4, 7, 20);\n\n            XSSFChart chart = drawing.createChart(anchor);\n            chart.setTitleText(\"Countries\");\n            chart.setTitleOverlay(false);\n\n            XDDFChartLegend legend = chart.getOrAddLegend();\n            legend.setPosition(LegendPosition.TOP_RIGHT);\n\n            XDDFDataSource&lt;String&gt; countries = XDDFDataSourcesFactory.fromStringCellRange(sheet,\n                    new CellRangeAddress(0, 0, 0, 2));\n\n            XDDFNumericalDataSource&lt;Double&gt; values = XDDFDataSourcesFactory.fromNumericCellRange(sheet,\n                    new CellRangeAddress(1, 1, 0, 2));\n\n//          XDDFChartData data = chart.createData(ChartTypes.PIE, null, null);\n            XDDFChartData data = new XDDFPieChartData(chart.getCTChart().getPlotArea().addNewPieChart());\n              data.setVaryColors(true);\n\n            data.setVaryColors(true);\n            data.addSeries(countries, values);\n            chart.plot(data);\n\n            // Write output to an excel file\n            try (FileOutputStream fileOut = new FileOutputStream(\"pie-chart-countries.xlsx\")) {\n                wb.write(fileOut);\n            }\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>below is my excel snapshot<a href=\"https://i.stack.imgur.com/slv2j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/slv2j.png\" alt=\"Excel Snapshot of above code\"></a></p>\n\n<p>problem is here i'm setting the values to sheet and then fetching it to chart. i don't want to create a table, and i just directly want to insert my values as a list(since it can be changed dynamically)\ni.e<br>\ninstead of below lines where i'm fetching values from cell, i need to fetch it from <code>List&lt;String&gt;</code> countries( list of countries) &amp;  <code>List&lt;Double&gt;</code> values and set it to <code>data.addSeries(countries, values)</code></p>\n\n<pre><code>XDDFDataSource&lt;String&gt; countries = XDDFDataSourcesFactory.fromStringCellRange(sheet,\n                    new CellRangeAddress(0, 0, 0, 2));\n\n            XDDFNumericalDataSource&lt;Double&gt; values = XDDFDataSourcesFactory.fromNumericCellRange(sheet,\n                    new CellRangeAddress(1, 1, 0, 2));\n</code></pre>\n\n<p>Since Values keep on changing as per changes in Db,is their any way to achieve this.</p>\n"},{"tags":["java","audio","audio-converter"],"answers":[{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658787882,"creation_date":1658787882,"answer_id":73115947,"question_id":73101122,"body_markdown":"AFAIK, Java doesn&#39;t support formats with a frame rate greater than 44100 fps. Has that changed with the latest versions?\r\n\r\nIt&#39;s possible to extract PCM using an `AudioInputStream`, and convert the PCM to the higher rate. The process would be similar to playing back a file at a slightly faster speed, making use of linear interpolation to obtain the data values that lie &quot;in between&quot; the existing PCM frames. From there, converting the PCM to bytes in the correct order can be done (there are other stackoverflow posts on converting PCM to bytes). \r\n\r\nBut I don&#39;t know how to save the byte array as a playable wav where the wav header indicates the 48000 frame rate. I&#39;ve only saved wavs in formats supported by Java and have not had to deal with wav headers since that is usually handled by `AudioSystem.write` method.\r\n","title":"Java convert audio from 44.1 kHz to 48 kHz","body":"<p>AFAIK, Java doesn't support formats with a frame rate greater than 44100 fps. Has that changed with the latest versions?</p>\n<p>It's possible to extract PCM using an <code>AudioInputStream</code>, and convert the PCM to the higher rate. The process would be similar to playing back a file at a slightly faster speed, making use of linear interpolation to obtain the data values that lie &quot;in between&quot; the existing PCM frames. From there, converting the PCM to bytes in the correct order can be done (there are other stackoverflow posts on converting PCM to bytes).</p>\n<p>But I don't know how to save the byte array as a playable wav where the wav header indicates the 48000 frame rate. I've only saved wavs in formats supported by Java and have not had to deal with wav headers since that is usually handled by <code>AudioSystem.write</code> method.</p>\n"}],"owner":{"account_id":18990342,"reputation":1,"user_id":13859765,"display_name":"JoaStuart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658787882,"creation_date":1658688483,"question_id":73101122,"body_markdown":"I am currently having a bit of trouble converting an AudioInputStream from MPEG1L3, 44.1 kHz, stereo with unknown bits per sample, unknown frame size and unknown frame rate to 48KHz 16bit stereo signed BigEndian PCM.\r\n\r\nI already tried just converting it by using\r\n\r\n`AudioSystem.getAudioInputStream(new AudioFormat(Encoding.PCM_SIGNED, 48000, 16, 2, 4, 48000, true), in);`\r\n\r\nbut it always gives me this error:\r\n\r\n```\r\njava.lang.IllegalArgumentException: Unsupported conversion: PCM_SIGNED 48000.0 Hz, 16 bit, stereo, 4 bytes/frame, big-endian from MPEG1L3 44100.0 Hz, unknown bits per sample, stereo, unknown frame size, unknown frame rate,\r\n        at java.desktop/javax.sound.sampled.AudioSystem.getAudioInputStream(AudioSystem.java:894)\r\n        at me.joastuart.bot.audio.GetStreamTP.lambda$0(GetStreamTP.java:23)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\nSadly I can&#39;t change the final nor the input AudioFormat.\r\n\r\nI hope you can me to solve this issue!\r\n\r\n~JoaStuart","title":"Java convert audio from 44.1 kHz to 48 kHz","body":"<p>I am currently having a bit of trouble converting an AudioInputStream from MPEG1L3, 44.1 kHz, stereo with unknown bits per sample, unknown frame size and unknown frame rate to 48KHz 16bit stereo signed BigEndian PCM.</p>\n<p>I already tried just converting it by using</p>\n<p><code>AudioSystem.getAudioInputStream(new AudioFormat(Encoding.PCM_SIGNED, 48000, 16, 2, 4, 48000, true), in);</code></p>\n<p>but it always gives me this error:</p>\n<pre><code>java.lang.IllegalArgumentException: Unsupported conversion: PCM_SIGNED 48000.0 Hz, 16 bit, stereo, 4 bytes/frame, big-endian from MPEG1L3 44100.0 Hz, unknown bits per sample, stereo, unknown frame size, unknown frame rate,\n        at java.desktop/javax.sound.sampled.AudioSystem.getAudioInputStream(AudioSystem.java:894)\n        at me.joastuart.bot.audio.GetStreamTP.lambda$0(GetStreamTP.java:23)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>Sadly I can't change the final nor the input AudioFormat.</p>\n<p>I hope you can me to solve this issue!</p>\n<p>~JoaStuart</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":5066049,"reputation":1416,"user_id":4066118,"accept_rate":71,"display_name":"Richa Sinha"},"score":0,"creation_date":1555414444,"post_id":55706609,"comment_id":98095166,"body_markdown":"you can try to split it into arrays, and then sort that array and then check whether it is equal to any of the entries already present. Other thing that you can try out is add the ascii value of all the characters of the string, and then check if the same added up ascii is already present.","body":"you can try to split it into arrays, and then sort that array and then check whether it is equal to any of the entries already present. Other thing that you can try out is add the ascii value of all the characters of the string, and then check if the same added up ascii is already present."},{"owner":{"account_id":5066049,"reputation":1416,"user_id":4066118,"accept_rate":71,"display_name":"Richa Sinha"},"score":0,"creation_date":1555414663,"post_id":55706609,"comment_id":98095292,"body_markdown":"You can also try to check if two strings contain the same characters - https://stackoverflow.com/questions/3985328/checking-if-2-strings-contain-the-same-characters","body":"You can also try to check if two strings contain the same characters - <a href=\"https://stackoverflow.com/questions/3985328/checking-if-2-strings-contain-the-same-characters\" title=\"checking if 2 strings contain the same characters\">stackoverflow.com/questions/3985328/&hellip;</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1556030686,"post_id":55706609,"comment_id":98294295,"body_markdown":"`i1.equals(i2)` would only be `true` when someone is their own friend. In contrast, `str.contains(i1)` and `str.contains(i2)` are *always* `true` when `i1` and `i2` are substrings of `str`.","body":"<code>i1.equals(i2)</code> would only be <code>true</code> when someone is their own friend. In contrast, <code>str.contains(i1)</code> and <code>str.contains(i2)</code> are <i>always</i> <code>true</code> when <code>i1</code> and <code>i2</code> are substrings of <code>str</code>."}],"answers":[{"tags":[],"owner":{"account_id":4501201,"reputation":4375,"user_id":3659670,"display_name":"Conffusion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556030219,"creation_date":1556030219,"answer_id":55813645,"question_id":55706609,"body_markdown":"Make a key of every pair, where the first value is smaller than the second value. (&quot;U1,U2&quot; and &quot;U2,U2&quot; will both result in &quot;U1,U2&quot;). Add these keys to a Set (a set removes duplicates for you). In the end you have a unique set of friend relationships.\r\n\r\n    Set&lt;String&gt; f2=new HashSet&lt;&gt;();\r\n\t    \r\n    for (String str : list) {\r\n    \tString[] users=str.split(&quot;,&quot;);\r\n        String i1 = users[0];\r\n        String i2 = users[1];\r\n        String key=i1.compareTo(i2)&gt;0?i2+&quot;,&quot;+i1:i1+&quot;,&quot;+i2;\r\n        f2.add(key);\r\n    }\r\n    System.out.println(f2);","title":"Remove the duplicate pair from List","body":"<p>Make a key of every pair, where the first value is smaller than the second value. (\"U1,U2\" and \"U2,U2\" will both result in \"U1,U2\"). Add these keys to a Set (a set removes duplicates for you). In the end you have a unique set of friend relationships.</p>\n\n<pre><code>Set&lt;String&gt; f2=new HashSet&lt;&gt;();\n\nfor (String str : list) {\n    String[] users=str.split(\",\");\n    String i1 = users[0];\n    String i2 = users[1];\n    String key=i1.compareTo(i2)&gt;0?i2+\",\"+i1:i1+\",\"+i2;\n    f2.add(key);\n}\nSystem.out.println(f2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1326669,"reputation":49,"user_id":9271283,"display_name":"Avadhesh Maurya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1563672631,"creation_date":1563672631,"answer_id":57129745,"question_id":55706609,"body_markdown":"    Below is the answer to remove the duplicate pair from list using C#. \r\n    \r\n    protected void Page_Load(object sender, EventArgs e)\r\n    {            \r\n       List&lt;string&gt; list = new List&lt;string&gt;();\r\n       list.Add(&quot;U1,U2&quot;);\r\n       list.Add(&quot;U3,U4&quot;);\r\n       list.Add(&quot;U2,U1&quot;);\r\n       list.Add(&quot;U1,U5&quot;);\r\n       var result=compareFriends(list);\r\n       foreach (string value in result)\r\n       {\r\n         Response.Write(value + &quot;&quot;);\r\n        }\r\n    }\r\n    public static List&lt;string&gt; compareFriends(List&lt;string&gt; frndsList)\r\n    {\r\n      List&lt;string&gt; F2 = new List&lt;string&gt;();\r\n      frndsList.Sort();\r\n      foreach (string str in frndsList)\r\n      {\r\n         string s1 = str.Substring(0, 2);\r\n         string s2 = str.Substring(3, 2);\r\n                                    \r\n         string key;\r\n         if (s1.CompareTo(s2)&gt;0)\r\n         {\r\n            key = s2 + &quot;,&quot; + s1;\r\n         }\r\n         else\r\n         {\r\n            key = s1 + &quot;,&quot; + s2;\r\n         }\r\n         F2.Add(key);\r\n                    \r\n         }\r\n         var result = F2.Distinct();            \r\n         return result.ToList();\r\n    }","title":"Remove the duplicate pair from List","body":"<pre><code>Below is the answer to remove the duplicate pair from list using C#. \n\nprotected void Page_Load(object sender, EventArgs e)\n{            \n   List&lt;string&gt; list = new List&lt;string&gt;();\n   list.Add(\"U1,U2\");\n   list.Add(\"U3,U4\");\n   list.Add(\"U2,U1\");\n   list.Add(\"U1,U5\");\n   var result=compareFriends(list);\n   foreach (string value in result)\n   {\n     Response.Write(value + \"\");\n    }\n}\npublic static List&lt;string&gt; compareFriends(List&lt;string&gt; frndsList)\n{\n  List&lt;string&gt; F2 = new List&lt;string&gt;();\n  frndsList.Sort();\n  foreach (string str in frndsList)\n  {\n     string s1 = str.Substring(0, 2);\n     string s2 = str.Substring(3, 2);\n\n     string key;\n     if (s1.CompareTo(s2)&gt;0)\n     {\n        key = s2 + \",\" + s1;\n     }\n     else\n     {\n        key = s1 + \",\" + s2;\n     }\n     F2.Add(key);\n\n     }\n     var result = F2.Distinct();            \n     return result.ToList();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11976750,"reputation":1,"user_id":8763657,"display_name":"R Maharajan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571668983,"creation_date":1571668983,"answer_id":58488740,"question_id":55706609,"body_markdown":"    \r\n\t\tList test = new ArrayList();\r\n\t\tList&lt;String&gt; list = new ArrayList();\r\n\t\tlist.add(&quot;JOE,MARY&quot;);\r\n\t\tlist.add(&quot;A,B&quot;);\r\n\t\tSet&lt;String&gt; f2 = new HashSet&lt;&gt;();\r\n\r\n\t\tfor (String str : list) {\r\n\t\t\tString[] users = str.split(&quot;,&quot;);\r\n\t\t\tString i1 = users[0];\r\n\t\t\tString i2 = users[1];\r\n\t\t\tString key = i1.compareTo(i2) &gt; 0 ? i2 + &quot;,&quot; + i1 : i1 + &quot;,&quot; + i2;\r\n\t\t\tf2.add(key);\r\n\t\t}\r\n\t\tIterator val = f2.iterator();\r\n\t\twhile (val.hasNext()) {\r\n\t\t\ttest.add(val.next());\r\n\t\t}\r\n\t\tCollections.sort(test);\r\n\t\tSystem.out.println(&quot;test&quot; + test);\r\n\t","title":"Remove the duplicate pair from List","body":"<pre><code>    List test = new ArrayList();\n    List&lt;String&gt; list = new ArrayList();\n    list.add(\"JOE,MARY\");\n    list.add(\"A,B\");\n    Set&lt;String&gt; f2 = new HashSet&lt;&gt;();\n\n    for (String str : list) {\n        String[] users = str.split(\",\");\n        String i1 = users[0];\n        String i2 = users[1];\n        String key = i1.compareTo(i2) &gt; 0 ? i2 + \",\" + i1 : i1 + \",\" + i2;\n        f2.add(key);\n    }\n    Iterator val = f2.iterator();\n    while (val.hasNext()) {\n        test.add(val.next());\n    }\n    Collections.sort(test);\n    System.out.println(\"test\" + test);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13371451,"reputation":163,"user_id":9649748,"display_name":"Shashikant Yadav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573222134,"creation_date":1573222134,"answer_id":58768147,"question_id":55706609,"body_markdown":"This is how it is done  ;)    \r\n\r\n    class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            List&lt;string&gt; test = new List&lt;String&gt;();\r\n            List&lt;String&gt; list = new List&lt;String&gt;();\r\n            List&lt;String&gt; list1 = new List&lt;String&gt;();\r\n            List&lt;String&gt; outputList = new List&lt;String&gt;();\r\n            list.Add(&quot;MARY,JOE&quot;);\r\n            list.Add(&quot;A,B&quot;);\r\n            list.Add(&quot;B, A&quot;);\r\n            list.Add(&quot;3&quot;);\r\n            list.Add(&quot;3&quot;);\r\n            list.Add(&quot;3,3&quot;);\r\n            list.Add(&quot;3,3&quot;);\r\n            var aa = compareFriends(list);\r\n            Console.ReadLine();\r\n        }\r\n\r\n        public static List&lt;string&gt; compareFriends(List&lt;string&gt; allfrndsList)\r\n        {\r\n            var frndsList  = allfrndsList.Distinct().ToList();\r\n            var outputList = new List&lt;string&gt;(frndsList);\r\n            var listCount = frndsList.Count();\r\n            var startIndex = 1;\r\n\r\n            foreach (var friend in frndsList)\r\n            {\r\n                friend.Replace(&quot; &quot;,&quot;&quot;);\r\n                var str = friend.Split(&#39;,&#39;);\r\n                var i1 = str.FirstOrDefault();\r\n                var i2 = str.LastOrDefault();\r\n                for (var index = startIndex; index &lt; listCount; index++)\r\n                {\r\n                    var innerStr = frndsList[index].Replace(&quot; &quot;,&quot;&quot;).Split(&#39;,&#39;);\r\n                    var temp1 = innerStr.FirstOrDefault();\r\n                    var temp2 = innerStr.LastOrDefault();\r\n                    if (innerStr.Length != 1 &amp;&amp; str.Length!=1)\r\n                    {\r\n                        if (i1.Equals(temp2) &amp;&amp; i2.Equals(temp1))\r\n                        {\r\n                            outputList.Remove(friend);\r\n                        }\r\n                    }\r\n                }\r\n                startIndex++;\r\n            }\r\n            return outputList;\r\n        }\r\n    }","title":"Remove the duplicate pair from List","body":"<p>This is how it is done  ;)    </p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        List&lt;string&gt; test = new List&lt;String&gt;();\n        List&lt;String&gt; list = new List&lt;String&gt;();\n        List&lt;String&gt; list1 = new List&lt;String&gt;();\n        List&lt;String&gt; outputList = new List&lt;String&gt;();\n        list.Add(\"MARY,JOE\");\n        list.Add(\"A,B\");\n        list.Add(\"B, A\");\n        list.Add(\"3\");\n        list.Add(\"3\");\n        list.Add(\"3,3\");\n        list.Add(\"3,3\");\n        var aa = compareFriends(list);\n        Console.ReadLine();\n    }\n\n    public static List&lt;string&gt; compareFriends(List&lt;string&gt; allfrndsList)\n    {\n        var frndsList  = allfrndsList.Distinct().ToList();\n        var outputList = new List&lt;string&gt;(frndsList);\n        var listCount = frndsList.Count();\n        var startIndex = 1;\n\n        foreach (var friend in frndsList)\n        {\n            friend.Replace(\" \",\"\");\n            var str = friend.Split(',');\n            var i1 = str.FirstOrDefault();\n            var i2 = str.LastOrDefault();\n            for (var index = startIndex; index &lt; listCount; index++)\n            {\n                var innerStr = frndsList[index].Replace(\" \",\"\").Split(',');\n                var temp1 = innerStr.FirstOrDefault();\n                var temp2 = innerStr.LastOrDefault();\n                if (innerStr.Length != 1 &amp;&amp; str.Length!=1)\n                {\n                    if (i1.Equals(temp2) &amp;&amp; i2.Equals(temp1))\n                    {\n                        outputList.Remove(friend);\n                    }\n                }\n            }\n            startIndex++;\n        }\n        return outputList;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17440067,"reputation":1,"user_id":12642317,"display_name":"Arindam Mondal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577993393,"creation_date":1577993393,"answer_id":59568964,"question_id":55706609,"body_markdown":"In C#:\r\n\r\n    class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            List&lt;string&gt; list1 = new List&lt;string&gt;();\r\n\r\n            list1.Add(&quot;U1,U2&quot;);\r\n            list1.Add(&quot;U3,U4&quot;);\r\n            list1.Add(&quot;U2,U1&quot;);\r\n            list1.Add(&quot;U1,U5&quot;);\r\n\r\n            List&lt;string&gt; list2 = new List&lt;string&gt;();\r\n\r\n            foreach (string s in list1)\r\n            {\r\n                var list3 = s.Split(&#39;,&#39;);\r\n                Array.Sort(list3);\r\n                list2.Add(list3.FirstOrDefault() + &#39;,&#39; + list3.LastOrDefault());\r\n\r\n            }\r\n            \r\n            list2.Sort();\r\n            var list4 = list2.Distinct().ToList();\r\n            \r\n            Console.WriteLine(&quot;Input string:&quot;);\r\n            foreach (string s in list1)\r\n                Console.WriteLine(s);\r\n\r\n            Console.WriteLine(&quot;\\nOutput string:&quot;);\r\n            foreach (string s in list4)\r\n                Console.WriteLine(s);\r\n            Console.Read();\r\n        }\r\n    }","title":"Remove the duplicate pair from List","body":"<p>In C#:</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        List&lt;string&gt; list1 = new List&lt;string&gt;();\n\n        list1.Add(\"U1,U2\");\n        list1.Add(\"U3,U4\");\n        list1.Add(\"U2,U1\");\n        list1.Add(\"U1,U5\");\n\n        List&lt;string&gt; list2 = new List&lt;string&gt;();\n\n        foreach (string s in list1)\n        {\n            var list3 = s.Split(',');\n            Array.Sort(list3);\n            list2.Add(list3.FirstOrDefault() + ',' + list3.LastOrDefault());\n\n        }\n\n        list2.Sort();\n        var list4 = list2.Distinct().ToList();\n\n        Console.WriteLine(\"Input string:\");\n        foreach (string s in list1)\n            Console.WriteLine(s);\n\n        Console.WriteLine(\"\\nOutput string:\");\n        foreach (string s in list4)\n            Console.WriteLine(s);\n        Console.Read();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6243929,"reputation":91,"user_id":4856569,"display_name":"Funwie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577995427,"creation_date":1577995427,"answer_id":59569346,"question_id":55706609,"body_markdown":"We can look at it as an undirected graph \r\nYou have to remove duplicate paths\r\nSince it&#39;s undirected, &quot;U1, U2&quot; and &quot;U2, U1&quot; are the same path\r\nTherefore, if path U1, U2 already exist, then U2, U1 is duplicate, so remove it.\r\n\r\nAny of the suggestions in the comments will yield a viable solution","title":"Remove the duplicate pair from List","body":"<p>We can look at it as an undirected graph \nYou have to remove duplicate paths\nSince it's undirected, \"U1, U2\" and \"U2, U1\" are the same path\nTherefore, if path U1, U2 already exist, then U2, U1 is duplicate, so remove it.</p>\n\n<p>Any of the suggestions in the comments will yield a viable solution</p>\n"},{"tags":[],"owner":{"account_id":21678318,"reputation":1,"user_id":15994900,"display_name":"ROHIT SONWANE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621621499,"creation_date":1621621499,"answer_id":67642160,"question_id":55706609,"body_markdown":"    In Python :\r\n\r\n\r\n    f1 = [(&quot;U1&quot;, &quot;U2&quot;), (&quot;U3&quot;, &quot;U4&quot;), (&quot;U1&quot;, &quot;U5&quot;), (&quot;U2&quot;, &quot;U1&quot;), (&quot;U3&quot;, &quot;U4&quot;)]\r\n\r\n    nw_lst = []\r\n\r\n    f1 = list(set(filter(lambda x: x[0] != x[1], f1)))\r\n\r\n    for i in f1:\r\n        val1 = int(i[0][1]) + int(i[1][1])\r\n        for j in range(f1.index(i) + 1, len(f1)):\r\n            val2 = int(f1[j][0][1]) + int(f1[j][1][1])\r\n            if val1 == val2:\r\n                nw_lst.append(f1[j])\r\n\r\n    f2 = set(f1).difference(set(nw_lst))\r\n\r\n    for i in f2:\r\n        print(f&quot;{i[0]} , {i[1]}&quot;)","title":"Remove the duplicate pair from List","body":"<pre><code>In Python :\n\n\nf1 = [(&quot;U1&quot;, &quot;U2&quot;), (&quot;U3&quot;, &quot;U4&quot;), (&quot;U1&quot;, &quot;U5&quot;), (&quot;U2&quot;, &quot;U1&quot;), (&quot;U3&quot;, &quot;U4&quot;)]\n\nnw_lst = []\n\nf1 = list(set(filter(lambda x: x[0] != x[1], f1)))\n\nfor i in f1:\n    val1 = int(i[0][1]) + int(i[1][1])\n    for j in range(f1.index(i) + 1, len(f1)):\n        val2 = int(f1[j][0][1]) + int(f1[j][1][1])\n        if val1 == val2:\n            nw_lst.append(f1[j])\n\nf2 = set(f1).difference(set(nw_lst))\n\nfor i in f2:\n    print(f&quot;{i[0]} , {i[1]}&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13653746,"reputation":1363,"user_id":9850874,"display_name":"JSG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648364223,"creation_date":1648364223,"answer_id":71634290,"question_id":55706609,"body_markdown":"The below solution is written in **JavaScript**.\r\n\r\n\r\n\r\n    // Insert Multidimensional Array\r\n    arr = [[&quot;U1&quot;,&quot;U2&quot;], [&quot;U3&quot;,&quot;U4&quot;], [&quot;U1&quot;,&quot;U5&quot;], [&quot;U1&quot;,&quot;U2&quot;], [&quot;U3&quot;,&quot;U4&quot;]];\r\n    \r\n    function friendsArrRemover(arr) {\r\n        var a = [];\r\n        var itemsFoundArr = {};\r\n        for(var i = 0, l = arr.length; i &lt; l; i++) {\r\n            var stringified = JSON.stringify(arr[i]);\r\n            if(itemsFoundArr[stringified]) { continue; }\r\n            a.push(arr[i]);\r\n            itemsFoundArr[stringified] = true;\r\n        }\r\n        return a;\r\n    }\r\n    \r\n    friendsArrRemover(arr);","title":"Remove the duplicate pair from List","body":"<p>The below solution is written in <strong>JavaScript</strong>.</p>\n<pre><code>// Insert Multidimensional Array\narr = [[&quot;U1&quot;,&quot;U2&quot;], [&quot;U3&quot;,&quot;U4&quot;], [&quot;U1&quot;,&quot;U5&quot;], [&quot;U1&quot;,&quot;U2&quot;], [&quot;U3&quot;,&quot;U4&quot;]];\n\nfunction friendsArrRemover(arr) {\n    var a = [];\n    var itemsFoundArr = {};\n    for(var i = 0, l = arr.length; i &lt; l; i++) {\n        var stringified = JSON.stringify(arr[i]);\n        if(itemsFoundArr[stringified]) { continue; }\n        a.push(arr[i]);\n        itemsFoundArr[stringified] = true;\n    }\n    return a;\n}\n\nfriendsArrRemover(arr);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25626677,"reputation":1,"user_id":19397680,"display_name":"Adari Karthik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655972443,"creation_date":1655971808,"answer_id":72726706,"question_id":55706609,"body_markdown":"    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t    \r\n    \t    String a = &quot;ABC&quot;;\r\n    \t    String b = &quot;BC&quot;;\r\n    \t    String op1=&quot;&quot;;\r\n    \t    String op2=&quot;&quot;;\r\n    \t    for (int i = 0; i &lt; a.length(); i++) {\r\n                if(!b.contains(&quot;&quot;+a.charAt(i))){\r\n                    op1+=a.charAt(i);\r\n                }\r\n            }\r\n             for (int i = 0; i &lt; b.length(); i++) {\r\n                if(!a.contains(&quot;&quot;+b.charAt(i))){\r\n                    op2+=b.charAt(i);\r\n                }\r\n            }\r\n    \t\tSystem.out.println(op1);\r\n    \t\t\t\tSystem.out.println(op2);\r\n    \t}\r\n    }","title":"Remove the duplicate pair from List","body":"<pre><code>public class Main\n{\n    public static void main(String[] args) {\n        \n        String a = &quot;ABC&quot;;\n        String b = &quot;BC&quot;;\n        String op1=&quot;&quot;;\n        String op2=&quot;&quot;;\n        for (int i = 0; i &lt; a.length(); i++) {\n            if(!b.contains(&quot;&quot;+a.charAt(i))){\n                op1+=a.charAt(i);\n            }\n        }\n         for (int i = 0; i &lt; b.length(); i++) {\n            if(!a.contains(&quot;&quot;+b.charAt(i))){\n                op2+=b.charAt(i);\n            }\n        }\n        System.out.println(op1);\n                System.out.println(op2);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8909694,"reputation":11,"user_id":6650392,"display_name":"wasik khan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":9,"score":0,"last_activity_date":1658786647,"creation_date":1555412355,"question_id":55706609,"body_markdown":"i was working on one issue i am not getting the expected output.\r\n\r\nA String array ‚ÄúF1‚Äù has got names of Facebook users and their friend association.\r\n\r\nFor example, if we write: U1,U2 it implies that U1 is a friend of U2. This also implies that U2 is a friend of U1.\r\nWrite a program which will read ‚ÄúF1‚Äù and remove duplicates and write all the unique pairs to ‚ÄúF2‚Äù.\r\nBut, before removing duplicates \r\n\r\n\r\nInput String =&gt; [&quot;U1,U2&quot;,&quot;U3,U4&quot;,&quot;U2,U1&quot;,&quot;U1,U5&quot;]\r\n\r\n\r\nOutput String =&gt; [&quot;U1,U2&quot;,&quot;U1,U5&quot;,&quot;U3,U4&quot;]\r\n\r\n\tpublic static void main(String args[]) {\r\n\r\n\t\tList test = new ArrayList();\r\n\t\tList&lt;String&gt; list = new ArrayList();\r\n\t\tlist.add(&quot;U1,U2&quot;);\r\n\t\tlist.add(&quot;U3,U4&quot;);\r\n\t\tlist.add(&quot;U2,U1&quot;);\r\n\t\tlist.add(&quot;U1,U5&quot;);\r\n\t\tCollections.sort(list);\r\n\r\n\t\tfor (String str : list) {\r\n\t\t\tString i1 = str.substring(0, 2);\r\n\t\t\tString i2 = str.substring(3, 5);\r\n\t\t\t System.out.println(i2);\r\n\t\t\t if (!i1.equals(i2)) {\r\n\t\t\t test.add(str);\r\n\t\t\t }\r\n\t\t\tif (!(str.contains(i1) &amp;&amp; str.contains(i2)) || !(str.contains(i2) &amp;&amp; str.contains(i1))) {\r\n\t\t\t\tSystem.out.println(str);\r\n\t\t\t}\r\n\r\n\r\n\t\t}\r\n\r\n\t}\r\n}","title":"Remove the duplicate pair from List","body":"<p>i was working on one issue i am not getting the expected output.</p>\n\n<p>A String array ‚ÄúF1‚Äù has got names of Facebook users and their friend association.</p>\n\n<p>For example, if we write: U1,U2 it implies that U1 is a friend of U2. This also implies that U2 is a friend of U1.\nWrite a program which will read ‚ÄúF1‚Äù and remove duplicates and write all the unique pairs to ‚ÄúF2‚Äù.\nBut, before removing duplicates </p>\n\n<p>Input String => [\"U1,U2\",\"U3,U4\",\"U2,U1\",\"U1,U5\"]</p>\n\n<p>Output String => [\"U1,U2\",\"U1,U5\",\"U3,U4\"]</p>\n\n<pre><code>public static void main(String args[]) {\n\n    List test = new ArrayList();\n    List&lt;String&gt; list = new ArrayList();\n    list.add(\"U1,U2\");\n    list.add(\"U3,U4\");\n    list.add(\"U2,U1\");\n    list.add(\"U1,U5\");\n    Collections.sort(list);\n\n    for (String str : list) {\n        String i1 = str.substring(0, 2);\n        String i2 = str.substring(3, 5);\n         System.out.println(i2);\n         if (!i1.equals(i2)) {\n         test.add(str);\n         }\n        if (!(str.contains(i1) &amp;&amp; str.contains(i2)) || !(str.contains(i2) &amp;&amp; str.contains(i1))) {\n            System.out.println(str);\n        }\n\n\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","android","android-studio","kotlin","android-fragments"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":1,"creation_date":1657053272,"post_id":72872707,"comment_id":128716949,"body_markdown":"Is there a reason you aren&#39;t [following the documentation](https://developer.android.com/guide/navigation/navigation-ui#add_a_navigation_drawer) which specifically states you shouldn&#39;t be using `ActionBarDrawerToggle`? Or the [documentation on the ActionBar](https://developer.android.com/guide/navigation/navigation-ui#action_bar) which indicates how you should be overriding `onSupportNavigateUp()` (and not `onOptionsItemSelected()`)? Do your fragments call `supportActionBar` or `setSupportActionBar()` anywhere?","body":"Is there a reason you aren&#39;t <a href=\"https://developer.android.com/guide/navigation/navigation-ui#add_a_navigation_drawer\" rel=\"nofollow noreferrer\">following the documentation</a> which specifically states you shouldn&#39;t be using <code>ActionBarDrawerToggle</code>? Or the <a href=\"https://developer.android.com/guide/navigation/navigation-ui#action_bar\" rel=\"nofollow noreferrer\">documentation on the ActionBar</a> which indicates how you should be overriding <code>onSupportNavigateUp()</code> (and not <code>onOptionsItemSelected()</code>)? Do your fragments call <code>supportActionBar</code> or <code>setSupportActionBar()</code> anywhere?"},{"owner":{"account_id":17896590,"reputation":11,"user_id":13001854,"display_name":"Mohammad"},"score":0,"creation_date":1657294531,"post_id":72872707,"comment_id":128783929,"body_markdown":"I don&#39;t want to use fragments and bottom navigation fragments in `DrawerLayout` , I want to add other things like a message in `DrawerLayout` . now how can I connect xml code and layout to `Actionbar` ? @ianhanniballake","body":"I don&#39;t want to use fragments and bottom navigation fragments in <code>DrawerLayout</code> , I want to add other things like a message in <code>DrawerLayout</code> . now how can I connect xml code and layout to <code>Actionbar</code> ? @ianhanniballake"},{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1657299492,"post_id":72872707,"comment_id":128785492,"body_markdown":"What does the contents within your `NavigationView` (what actually appears in the drawer) have to do with anything I mentioned with how you should be hooking up your hamburger button? Those are completely independent things","body":"What does the contents within your <code>NavigationView</code> (what actually appears in the drawer) have to do with anything I mentioned with how you should be hooking up your hamburger button? Those are completely independent things"},{"owner":{"account_id":17896590,"reputation":11,"user_id":13001854,"display_name":"Mohammad"},"score":0,"creation_date":1657301048,"post_id":72872707,"comment_id":128785945,"body_markdown":"sorry my English is not so good , I used a tutorial from youtube, so I will change my mistakes with those documentations , thanks for that , the last part of your question : Do your fragments call `supportActionBar` or `setSupportActionBar( )` anywhere ? if I understand correctly , no  I didn&#39;t do this , I added my fragment code. @ianhanniballake","body":"sorry my English is not so good , I used a tutorial from youtube, so I will change my mistakes with those documentations , thanks for that , the last part of your question : Do your fragments call <code>supportActionBar</code> or <code>setSupportActionBar( )</code> anywhere ? if I understand correctly , no  I didn&#39;t do this , I added my fragment code. @ianhanniballake"}],"answers":[{"tags":[],"owner":{"account_id":25743926,"reputation":288,"user_id":19497465,"display_name":"Aniket Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658786217,"creation_date":1657314453,"answer_id":72916999,"question_id":72872707,"body_markdown":"Add these line on fragment too, and make new **toggle** for it.\r\n```\r\ntoggle = ActionBarDrawerToggle(this,drawerLayout,R.string.open,R.string.close)\r\n        drawerLayout.addDrawerListener(toggle)\r\n\r\n        toggle.syncState()\r\n        supportActionBar?.setDisplayHomeAsUpEnabled(true)\r\n```","title":"Hamburger Icon not showing for second time when I go to other Fragments","body":"<p>Add these line on fragment too, and make new <strong>toggle</strong> for it.</p>\n<pre><code>toggle = ActionBarDrawerToggle(this,drawerLayout,R.string.open,R.string.close)\n        drawerLayout.addDrawerListener(toggle)\n\n        toggle.syncState()\n        supportActionBar?.setDisplayHomeAsUpEnabled(true)\n</code></pre>\n"}],"owner":{"account_id":17896590,"reputation":11,"user_id":13001854,"display_name":"Mohammad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658786217,"creation_date":1657038281,"question_id":72872707,"body_markdown":"First I have made a button navigation with three Fragments in Main Activity and I made a Hamburger Icon in Toolbar , when I run the app , hamburger icon work correctly for the first time \r\n[first image][1]\r\nbut when I go to other fragments or comeback to home fragment, there is no hamburger icon.\r\n[second image][2]\r\n\r\nand here is my codes : \r\n\r\n**Main Activity :**\r\n```\r\npackage ir.cuproid.newamouzesh\r\n\r\nimport android.app.Activity\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.view.MenuItem\r\nimport androidx.appcompat.app.ActionBarDrawerToggle\r\nimport androidx.drawerlayout.widget.DrawerLayout\r\nimport androidx.navigation.findNavController\r\nimport androidx.navigation.ui.AppBarConfiguration\r\nimport androidx.navigation.ui.setupActionBarWithNavController\r\nimport androidx.navigation.ui.setupWithNavController\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView\r\nimport com.google.android.material.navigation.NavigationView\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    lateinit var toggle: ActionBarDrawerToggle\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n\r\n         val bottomNavigationView= findViewById&lt;BottomNavigationView&gt;(R.id.bottomNavigationView)\r\n          val navController =findNavController(R.id.fragmentContainerView)\r\n\r\n          val appBarConfiguration = AppBarConfiguration(setOf(R.id.firstFragment,R.id.secondFragment,R.id.thirdFragment))\r\n\r\n            setupActionBarWithNavController(navController,appBarConfiguration)\r\n           bottomNavigationView.setupWithNavController(navController)\r\n\r\n\r\n        val drawerLayout : DrawerLayout=findViewById(R.id.drawerlayout)\r\n\r\n        val nav_view : NavigationView=findViewById(R.id.nav_view)\r\n\r\n        toggle= ActionBarDrawerToggle(this,drawerLayout,R.string.open,R.string.close)\r\n        drawerLayout.addDrawerListener(toggle)\r\n\r\n        toggle.syncState()\r\n        supportActionBar?.setDisplayHomeAsUpEnabled(true)\r\n\r\n\r\n    }\r\n\r\n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\r\n        if(toggle.onOptionsItemSelected(item)){\r\n            return true\r\n        }\r\n        return super.onOptionsItemSelected(item)\r\n    }\r\n}\r\n```\r\n\r\n**Main Activity XML code :**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:id=&quot;@+id/drawerlayout&quot;&gt;\r\n\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        android:id=&quot;@+id/nav_view&quot;\r\n        app:menu=&quot;@menu/nav_menu&quot;\r\n        &gt;\r\n\r\n    &lt;/com.google.android.material.navigation.NavigationView&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/bottomNavigationView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;#fff&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:menu=&quot;@menu/bottom_menu&quot;\r\n            /&gt;\r\n\r\n        &lt;fragment\r\n            android:id=&quot;@+id/fragmentContainerView&quot;\r\n            android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n            android:layout_width=&quot;409dp&quot;\r\n            android:layout_height=&quot;673dp&quot;\r\n            app:defaultNavHost=&quot;true&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/bottomNavigationView&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:navGraph=&quot;@navigation/my_nav&quot;\r\n            /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n```\r\n**Fragment**\r\n\r\n```\r\n// TODO: Rename parameter arguments, choose names that match\r\n// the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\nprivate const val ARG_PARAM1 = &quot;param1&quot;\r\nprivate const val ARG_PARAM2 = &quot;param2&quot;\r\n\r\n/**\r\n * A simple [Fragment] subclass.\r\n * Use the [FirstFragment.newInstance] factory method to\r\n * create an instance of this fragment.\r\n */\r\nclass FirstFragment : Fragment() {\r\n    // TODO: Rename and change types of parameters\r\n    private var param1: String? = null\r\n    private var param2: String? = null\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        arguments?.let {\r\n            param1 = it.getString(ARG_PARAM1)\r\n            param2 = it.getString(ARG_PARAM2)\r\n\r\n\r\n            setMenuVisibility(true)\r\n        }\r\n    }\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n        // Inflate the layout for this fragment\r\n        \r\n        return inflater.inflate(R.layout.fragment_first, container, false)\r\n    }\r\n\r\n    companion object {\r\n        /**\r\n         * Use this factory method to create a new instance of\r\n         * this fragment using the provided parameters.\r\n         *\r\n         * @param param1 Parameter 1.\r\n         * @param param2 Parameter 2.\r\n         * @return A new instance of fragment FirstFragment.\r\n         */\r\n        // TODO: Rename and change types and number of parameters\r\n        @JvmStatic\r\n        fun newInstance(param1: String, param2: String) =\r\n            FirstFragment().apply {\r\n                arguments = Bundle().apply {\r\n                    putString(ARG_PARAM1, param1)\r\n                    putString(ARG_PARAM2, param2)\r\n                }\r\n            }\r\n    }\r\n}\r\n\r\n```\r\n  [1]: https://i.stack.imgur.com/5TjUY.jpg\r\n  [2]: https://i.stack.imgur.com/c8oUP.jpg","title":"Hamburger Icon not showing for second time when I go to other Fragments","body":"<p>First I have made a button navigation with three Fragments in Main Activity and I made a Hamburger Icon in Toolbar , when I run the app , hamburger icon work correctly for the first time\n<a href=\"https://i.stack.imgur.com/5TjUY.jpg\" rel=\"nofollow noreferrer\">first image</a>\nbut when I go to other fragments or comeback to home fragment, there is no hamburger icon.\n<a href=\"https://i.stack.imgur.com/c8oUP.jpg\" rel=\"nofollow noreferrer\">second image</a></p>\n<p>and here is my codes :</p>\n<p><strong>Main Activity :</strong></p>\n<pre><code>package ir.cuproid.newamouzesh\n\nimport android.app.Activity\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.MenuItem\nimport androidx.appcompat.app.ActionBarDrawerToggle\nimport androidx.drawerlayout.widget.DrawerLayout\nimport androidx.navigation.findNavController\nimport androidx.navigation.ui.AppBarConfiguration\nimport androidx.navigation.ui.setupActionBarWithNavController\nimport androidx.navigation.ui.setupWithNavController\nimport com.google.android.material.bottomnavigation.BottomNavigationView\nimport com.google.android.material.navigation.NavigationView\n\nclass MainActivity : AppCompatActivity() {\n\n    lateinit var toggle: ActionBarDrawerToggle\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n\n         val bottomNavigationView= findViewById&lt;BottomNavigationView&gt;(R.id.bottomNavigationView)\n          val navController =findNavController(R.id.fragmentContainerView)\n\n          val appBarConfiguration = AppBarConfiguration(setOf(R.id.firstFragment,R.id.secondFragment,R.id.thirdFragment))\n\n            setupActionBarWithNavController(navController,appBarConfiguration)\n           bottomNavigationView.setupWithNavController(navController)\n\n\n        val drawerLayout : DrawerLayout=findViewById(R.id.drawerlayout)\n\n        val nav_view : NavigationView=findViewById(R.id.nav_view)\n\n        toggle= ActionBarDrawerToggle(this,drawerLayout,R.string.open,R.string.close)\n        drawerLayout.addDrawerListener(toggle)\n\n        toggle.syncState()\n        supportActionBar?.setDisplayHomeAsUpEnabled(true)\n\n\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\n        if(toggle.onOptionsItemSelected(item)){\n            return true\n        }\n        return super.onOptionsItemSelected(item)\n    }\n}\n</code></pre>\n<p><strong>Main Activity XML code :</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/drawerlayout&quot;&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        android:id=&quot;@+id/nav_view&quot;\n        app:menu=&quot;@menu/nav_menu&quot;\n        &gt;\n\n    &lt;/com.google.android.material.navigation.NavigationView&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n            android:id=&quot;@+id/bottomNavigationView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;#fff&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:menu=&quot;@menu/bottom_menu&quot;\n            /&gt;\n\n        &lt;fragment\n            android:id=&quot;@+id/fragmentContainerView&quot;\n            android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n            android:layout_width=&quot;409dp&quot;\n            android:layout_height=&quot;673dp&quot;\n            app:defaultNavHost=&quot;true&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@+id/bottomNavigationView&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:navGraph=&quot;@navigation/my_nav&quot;\n            /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p><strong>Fragment</strong></p>\n<pre><code>// TODO: Rename parameter arguments, choose names that match\n// the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\nprivate const val ARG_PARAM1 = &quot;param1&quot;\nprivate const val ARG_PARAM2 = &quot;param2&quot;\n\n/**\n * A simple [Fragment] subclass.\n * Use the [FirstFragment.newInstance] factory method to\n * create an instance of this fragment.\n */\nclass FirstFragment : Fragment() {\n    // TODO: Rename and change types of parameters\n    private var param1: String? = null\n    private var param2: String? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        arguments?.let {\n            param1 = it.getString(ARG_PARAM1)\n            param2 = it.getString(ARG_PARAM2)\n\n\n            setMenuVisibility(true)\n        }\n    }\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n        \n        return inflater.inflate(R.layout.fragment_first, container, false)\n    }\n\n    companion object {\n        /**\n         * Use this factory method to create a new instance of\n         * this fragment using the provided parameters.\n         *\n         * @param param1 Parameter 1.\n         * @param param2 Parameter 2.\n         * @return A new instance of fragment FirstFragment.\n         */\n        // TODO: Rename and change types and number of parameters\n        @JvmStatic\n        fun newInstance(param1: String, param2: String) =\n            FirstFragment().apply {\n                arguments = Bundle().apply {\n                    putString(ARG_PARAM1, param1)\n                    putString(ARG_PARAM2, param2)\n                }\n            }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","hellosign-api"],"answers":[{"tags":[],"owner":{"account_id":14148561,"reputation":150,"user_id":13052285,"display_name":"James Wagstaff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658343877,"creation_date":1658343877,"answer_id":73056938,"question_id":73056593,"body_markdown":"The TemplateSignatureRequest extends AbstractRequest which has a function for adding a file \r\n\r\n    public void addFile(File file) throws HelloSignException {\r\n        this.addFile(file, (Integer)null);\r\n    }\r\n\r\nThis was taken from the library. So you can simply use\r\n\r\n    request.addFile(file);","title":"Add Image to Document/Template stored on HelloSign using JAVA","body":"<p>The TemplateSignatureRequest extends AbstractRequest which has a function for adding a file</p>\n<pre><code>public void addFile(File file) throws HelloSignException {\n    this.addFile(file, (Integer)null);\n}\n</code></pre>\n<p>This was taken from the library. So you can simply use</p>\n<pre><code>request.addFile(file);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10673746,"reputation":293,"user_id":7858023,"accept_rate":50,"display_name":"FAIZAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658785248,"creation_date":1658785248,"answer_id":73115643,"question_id":73056593,"body_markdown":"I reached out to apisupport@hellosign.com to ask them if there is any way to achieve this, and this is the response I got:\r\n\r\n*&quot;This is currently not available, However, We&#39;re always looking for ways to improve HelloSign API and we regularly release new versions of our products with better performance, additional features, and security enhancements. I&#39;ll reach out to our product team and pass this idea along as a feature enhancement for them to review to see if this is something we can place on our roadmap&quot;*\r\n\r\nSo, I figured out a work around using PDF stamper\r\n\r\n    private byte[] stampImageToDoc() throws Exception {\t\r\n\r\n\t  try {\r\n\t\t\tPdfReader pdfReader = new PdfReader(&lt;&lt;template_pdf_path&gt;&gt;);\r\n\t\t\tByteArrayOutputStream os = new ByteArrayOutputStream();\r\n\t\t\tPdfStamper pdfStamper = new PdfStamper(pdfReader, os);\r\n\t\t\tPdfContentByte cb = pdfStamper.getOverContent(1);\r\n\r\n\t\t\tFile file = new File(&lt;&lt;imagePath&gt;&gt;);\r\n\t\t\tbyte[] imageFile = FileUtils.readFileToByteArray(file);\r\n\r\n\t\t\tif (imageFile != null) {\r\n\t\t\t\tImage image = Image.getInstance(imageFile);\r\n\t\t\t\timage.scaleAbsoluteHeight(150);\r\n\t\t\t\timage.scaleAbsoluteWidth(150);\r\n\t\t\t\timage.setAbsolutePosition(29, 500); //position\r\n\t\t\t\tcb.addImage(image);\r\n\t\t\t}\r\n\t\t\tpdfStamper.close();\r\n\t\t\treturn os.toByteArray();\r\n\t\t} catch (DocumentException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow e;\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow e;\r\n\t\t}\r\n      }\r\n\t\r\n    }\r\n\r\nInstead of using TemplateSignatureRequest we will be using SignatureRequest and add the stamped doc to send request::\r\n\r\n            SignatureRequest request = new SignatureRequest();\r\n\t\t\tList&lt;Signer&gt; signers = new ArrayList&lt;&gt;();\r\n\t\t\tSigner signer = new Signer(req.getStudentEmail(), &quot;DME&quot;);\r\n\t\t\tsigners.add(signer);\r\n\t\t\trequest.setTitle(title);\r\n            request.setSubject(emailSubject);\r\n            request.setMessage(message);\r\n\t\t\trequest.setSigners(signers);\r\n\t\t\trequest.setClientId(CLIENT_ID);\r\n\t\t\trequest.setTestMode(true);\r\n\r\n\t\t\t// Image\r\n\t\t\tbyte[] docBytes = stampImageToDoc();\r\n\t\t\tList&lt;Document&gt; docs = new ArrayList&lt;&gt;();\r\n\t\t\tDocument d = new Document();\r\n\t\t\tFile tempFile = new File(&lt;&lt;temporary_path&gt;&gt;);\r\n\t\t\tFileUtils.writeByteArrayToFile(tempFile, docBytes);\r\n\t\t\td.setFile(tempFile);\r\n\t\t\tdocs.add(d);\r\n\t\t\trequest.setDocuments(docs);\r\n\r\n\t\t\tHelloSignClient client = new HelloSignClient(API_KEY);\r\n\t\t\tclient.sendSignatureRequest(request);\r\n\r\n \r\n**Note: This might not be the best solution, but its just a workaround i could think of**","title":"Add Image to Document/Template stored on HelloSign using JAVA","body":"<p>I reached out to apisupport@hellosign.com to ask them if there is any way to achieve this, and this is the response I got:</p>\n<p><em>&quot;This is currently not available, However, We're always looking for ways to improve HelloSign API and we regularly release new versions of our products with better performance, additional features, and security enhancements. I'll reach out to our product team and pass this idea along as a feature enhancement for them to review to see if this is something we can place on our roadmap&quot;</em></p>\n<p>So, I figured out a work around using PDF stamper</p>\n<pre><code>private byte[] stampImageToDoc() throws Exception { \n\n  try {\n        PdfReader pdfReader = new PdfReader(&lt;&lt;template_pdf_path&gt;&gt;);\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\n        PdfStamper pdfStamper = new PdfStamper(pdfReader, os);\n        PdfContentByte cb = pdfStamper.getOverContent(1);\n\n        File file = new File(&lt;&lt;imagePath&gt;&gt;);\n        byte[] imageFile = FileUtils.readFileToByteArray(file);\n\n        if (imageFile != null) {\n            Image image = Image.getInstance(imageFile);\n            image.scaleAbsoluteHeight(150);\n            image.scaleAbsoluteWidth(150);\n            image.setAbsolutePosition(29, 500); //position\n            cb.addImage(image);\n        }\n        pdfStamper.close();\n        return os.toByteArray();\n    } catch (DocumentException e) {\n        e.printStackTrace();\n        throw e;\n    } catch (IOException e) {\n        e.printStackTrace();\n        throw e;\n    }\n  }\n\n}\n</code></pre>\n<p>Instead of using TemplateSignatureRequest we will be using SignatureRequest and add the stamped doc to send request::</p>\n<pre><code>        SignatureRequest request = new SignatureRequest();\n        List&lt;Signer&gt; signers = new ArrayList&lt;&gt;();\n        Signer signer = new Signer(req.getStudentEmail(), &quot;DME&quot;);\n        signers.add(signer);\n        request.setTitle(title);\n        request.setSubject(emailSubject);\n        request.setMessage(message);\n        request.setSigners(signers);\n        request.setClientId(CLIENT_ID);\n        request.setTestMode(true);\n\n        // Image\n        byte[] docBytes = stampImageToDoc();\n        List&lt;Document&gt; docs = new ArrayList&lt;&gt;();\n        Document d = new Document();\n        File tempFile = new File(&lt;&lt;temporary_path&gt;&gt;);\n        FileUtils.writeByteArrayToFile(tempFile, docBytes);\n        d.setFile(tempFile);\n        docs.add(d);\n        request.setDocuments(docs);\n\n        HelloSignClient client = new HelloSignClient(API_KEY);\n        client.sendSignatureRequest(request);\n</code></pre>\n<p><strong>Note: This might not be the best solution, but its just a workaround i could think of</strong></p>\n"}],"owner":{"account_id":10673746,"reputation":293,"user_id":7858023,"accept_rate":50,"display_name":"FAIZAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73115643,"answer_count":2,"score":2,"last_activity_date":1658785248,"creation_date":1658341886,"question_id":73056593,"body_markdown":"- **USECASE:**\r\nI have a document stored on HELLOSIGN which is supposed to be sent to a signer after prepopulating it with some data. Additionally, I have a field in the document where in I should be able to upload the signer image from my DB.\r\n\r\n - **What I have done:**\r\n```\r\nTemplateSignatureRequest request = new TemplateSignatureRequest();\r\nrequest.setTitle(title);\r\nrequest.setSubject(emailSubject);\r\nrequest.setMessage(message);\r\nrequest.setSigner(&quot;ROLE&quot;, &quot;&lt;&lt;email_id&gt;&gt;&quot;, name);\r\nrequest.setClientId(CLIENT_ID);\r\nrequest.setTemplateId(TEMPLATE_ID);\r\nrequest.setTestMode(true);\r\nrequest.setCustomFields(customFields);\r\nHelloSignClient client = new HelloSignClient(API_KEY);\r\nclient.sendTemplateSignatureRequest(request);\r\n\r\n```\r\n\r\n **QUESTION** : Is there a way I can directly populate the image in the request object by using something like:\r\n \r\n`request.setDocuments(docs);` \r\n\r\nOr is there any other way I can achieve this?\r\n\r\n**Note: I could not mark the image part in the doc as a custom field since I could not find an option to do it on HelloSign**\r\n\r\nI am trying to replace the Picture section in the image below\r\n\r\n![[I am trying to replace the Picture section in the image below][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yPZAv.png","title":"Add Image to Document/Template stored on HelloSign using JAVA","body":"<ul>\n<li><p><strong>USECASE:</strong>\nI have a document stored on HELLOSIGN which is supposed to be sent to a signer after prepopulating it with some data. Additionally, I have a field in the document where in I should be able to upload the signer image from my DB.</p>\n</li>\n<li><p><strong>What I have done:</strong></p>\n</li>\n</ul>\n<pre><code>TemplateSignatureRequest request = new TemplateSignatureRequest();\nrequest.setTitle(title);\nrequest.setSubject(emailSubject);\nrequest.setMessage(message);\nrequest.setSigner(&quot;ROLE&quot;, &quot;&lt;&lt;email_id&gt;&gt;&quot;, name);\nrequest.setClientId(CLIENT_ID);\nrequest.setTemplateId(TEMPLATE_ID);\nrequest.setTestMode(true);\nrequest.setCustomFields(customFields);\nHelloSignClient client = new HelloSignClient(API_KEY);\nclient.sendTemplateSignatureRequest(request);\n\n</code></pre>\n<p><strong>QUESTION</strong> : Is there a way I can directly populate the image in the request object by using something like:</p>\n<p><code>request.setDocuments(docs);</code></p>\n<p>Or is there any other way I can achieve this?</p>\n<p><strong>Note: I could not mark the image part in the doc as a custom field since I could not find an option to do it on HelloSign</strong></p>\n<p>I am trying to replace the Picture section in the image below</p>\n<p><img src=\"https://i.stack.imgur.com/yPZAv.png\" alt=\"I am trying to replace the Picture section in the image below\" /></p>\n"},{"tags":["java","groovy","gremlin"],"comments":[{"owner":{"account_id":3804693,"reputation":2622,"user_id":3157428,"accept_rate":88,"display_name":"Ruli"},"score":0,"creation_date":1658831226,"post_id":73115396,"comment_id":129144020,"body_markdown":"what JDK do you use? You might need to change it, see [this blog](https://community.neo4j.com/t5/neo4j-graph-platform/pregel-unsupported-class-file-major-version-62-error-with-jdk-16/m-p/13993)","body":"what JDK do you use? You might need to change it, see <a href=\"https://community.neo4j.com/t5/neo4j-graph-platform/pregel-unsupported-class-file-major-version-62-error-with-jdk-16/m-p/13993\" rel=\"nofollow noreferrer\">this blog</a>"}],"answers":[{"tags":[],"owner":{"account_id":19892398,"reputation":11,"user_id":14574145,"display_name":"Oluwxtope"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658785174,"creation_date":1658785174,"answer_id":73115634,"question_id":73115396,"body_markdown":"Solved! I had to downgrade my java version to Java 11. I did so using instructions from this website: https://medium.com/@devkosal/switching-java-jdk-versions-on-macos-80bc868e686a","title":"Can&#39;t Run Gremlin Console due to &quot;Exception in thread &quot;main&quot; BUG! exception in phase &#39;semantic analysis&#39;... Unsupported class file major version 62&quot;","body":"<p>Solved! I had to downgrade my java version to Java 11. I did so using instructions from this website: <a href=\"https://medium.com/@devkosal/switching-java-jdk-versions-on-macos-80bc868e686a\" rel=\"nofollow noreferrer\">https://medium.com/@devkosal/switching-java-jdk-versions-on-macos-80bc868e686a</a></p>\n"}],"owner":{"account_id":19892398,"reputation":11,"user_id":14574145,"display_name":"Oluwxtope"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658785174,"creation_date":1658783470,"question_id":73115396,"body_markdown":"I&#39;m trying to learn Gremlin, I&#39;ve installed the console from the website but when I try running the console with &quot;bin/gremlin.sh&quot;, I get these errors:\r\n\r\n```\r\nException in thread &quot;main&quot; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;Script1.groovy&#39; Unsupported class file major version 62\r\n\tat org.codehaus.groovy.control.CompilationUnit.applyToSourceUnits(CompilationUnit.java:969)\r\n\tat org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:642)\r\n\tat org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:591)\r\n\t................ (removed for simplicity)\r\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 62\r\n\tat groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:196\r\n\t................ (removed for simplicity)\r\n\tat org.codehaus.groovy.control.CompilationUnit.applyToSourceUnits(CompilationUnit.java:965)\r\n\t... 47 more\r\n\r\n```","title":"Can&#39;t Run Gremlin Console due to &quot;Exception in thread &quot;main&quot; BUG! exception in phase &#39;semantic analysis&#39;... Unsupported class file major version 62&quot;","body":"<p>I'm trying to learn Gremlin, I've installed the console from the website but when I try running the console with &quot;bin/gremlin.sh&quot;, I get these errors:</p>\n<pre><code>Exception in thread &quot;main&quot; BUG! exception in phase 'semantic analysis' in source unit 'Script1.groovy' Unsupported class file major version 62\n    at org.codehaus.groovy.control.CompilationUnit.applyToSourceUnits(CompilationUnit.java:969)\n    at org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:642)\n    at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:591)\n    ................ (removed for simplicity)\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 62\n    at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:196\n    ................ (removed for simplicity)\n    at org.codehaus.groovy.control.CompilationUnit.applyToSourceUnits(CompilationUnit.java:965)\n    ... 47 more\n\n</code></pre>\n"},{"tags":["java","uml"],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1581667719,"creation_date":1512114111,"answer_id":47588738,"question_id":47588511,"body_markdown":"For an UML representation of a Java project, it should be sufficient to write underlined caps, like‚Ä¶\r\n\r\n[![A constant in a UML class diagram][1]][1]\r\n\r\n**Note** that this representation uses a Java convention (constants written in capitals) to highlight it as `final` instead of a UML annotation, which would be kind of more straight-forward UML, but is too long for my purposes.\r\n\r\n  [1]: https://i.stack.imgur.com/8LEUS.png","title":"UML diagram - how to show FINAL","body":"<p>For an UML representation of a Java project, it should be sufficient to write underlined caps, like‚Ä¶</p>\n\n<p><a href=\"https://i.stack.imgur.com/8LEUS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8LEUS.png\" alt=\"A constant in a UML class diagram\"></a></p>\n\n<p><strong>Note</strong> that this representation uses a Java convention (constants written in capitals) to highlight it as <code>final</code> instead of a UML annotation, which would be kind of more straight-forward UML, but is too long for my purposes.</p>\n"},{"tags":[],"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1512243242,"creation_date":1512115291,"answer_id":47588979,"question_id":47588511,"body_markdown":"You show it like this. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n`Private` is symbolized by a minus. The `static` attribute is shown by an underline. The initial value is shown by `= &lt;value&gt;`. Since I learned that `final` denotes a constant, you will apply the `isConst` property which is shown as `{readOnly}`.\r\n\r\nSee also p. 111 of the UML spec:\r\n\r\n&gt;     &lt;property&gt; ::= [&lt;visibility&gt;] [‚Äò/‚Äô] &lt;name&gt; [‚Äò:‚Äô &lt;prop-type&gt;] [‚Äò[‚Äò &lt;multiplicity-range&gt; ‚Äò]‚Äô] [‚Äò=‚Äô &lt;default&gt;] [‚Äò{‚Äò &lt;prop-modifier &gt; [‚Äò,‚Äô &lt;prop-modifier &gt;]* ‚Äô}‚Äô]\r\n&gt;\r\n&gt; [ details omitted ]\r\n\r\n----\r\n\r\nNo longer relevant in this context, but leaving it anyway:\r\n\r\nRe. @granier&#39;s comment about tagged values: Indeed UML 2.5 does no longer really use tagged values. There are only 3 mentions of it:\r\n\r\n- mainly p. 205\r\n\r\n  &gt; Just like a Class, a Stereotype may have Properties, which have traditionally been referred to as Tag Definitions. When a Stereotype is applied to a model element, the values of the Properties have traditionally been referred to as *tagged values*.\r\n\r\nSo _tagged value_ is an &quot;ancient&quot; term and should further be called _stereotype property_.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Aslqk.png","title":"UML diagram - how to show FINAL","body":"<p>You show it like this. </p>\n\n<p><a href=\"https://i.stack.imgur.com/Aslqk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Aslqk.png\" alt=\"enter image description here\"></a></p>\n\n<p><code>Private</code> is symbolized by a minus. The <code>static</code> attribute is shown by an underline. The initial value is shown by <code>= &lt;value&gt;</code>. Since I learned that <code>final</code> denotes a constant, you will apply the <code>isConst</code> property which is shown as <code>{readOnly}</code>.</p>\n\n<p>See also p. 111 of the UML spec:</p>\n\n<blockquote>\n<pre><code>&lt;property&gt; ::= [&lt;visibility&gt;] [‚Äò/‚Äô] &lt;name&gt; [‚Äò:‚Äô &lt;prop-type&gt;] [‚Äò[‚Äò &lt;multiplicity-range&gt; ‚Äò]‚Äô] [‚Äò=‚Äô &lt;default&gt;] [‚Äò{‚Äò &lt;prop-modifier &gt; [‚Äò,‚Äô &lt;prop-modifier &gt;]* ‚Äô}‚Äô]\n</code></pre>\n  \n  <p>[ details omitted ]</p>\n</blockquote>\n\n<hr>\n\n<p>No longer relevant in this context, but leaving it anyway:</p>\n\n<p>Re. @granier's comment about tagged values: Indeed UML 2.5 does no longer really use tagged values. There are only 3 mentions of it:</p>\n\n<ul>\n<li><p>mainly p. 205</p>\n\n<blockquote>\n  <p>Just like a Class, a Stereotype may have Properties, which have traditionally been referred to as Tag Definitions. When a Stereotype is applied to a model element, the values of the Properties have traditionally been referred to as <em>tagged values</em>.</p>\n</blockquote></li>\n</ul>\n\n<p>So <em>tagged value</em> is an \"ancient\" term and should further be called <em>stereotype property</em>.</p>\n"}],"owner":{"account_id":7065282,"reputation":173,"user_id":5408796,"accept_rate":80,"display_name":"Istiak Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53191,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":47588738,"answer_count":2,"score":14,"last_activity_date":1658784753,"creation_date":1512113130,"question_id":47588511,"body_markdown":"How would I display the field\r\n```\r\nprivate static final int DAMAGE = 3;\r\n```\r\nin the UML Diagram?\r\n\r\nShould it be shown as: `- DAMAGE : 3 : int` ?","title":"UML diagram - how to show FINAL","body":"<p>How would I display the field</p>\n<pre><code>private static final int DAMAGE = 3;\n</code></pre>\n<p>in the UML Diagram?</p>\n<p>Should it be shown as: <code>- DAMAGE : 3 : int</code> ?</p>\n"},{"tags":["java","eclipse","accesscontrolexception"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1658764756,"post_id":73111930,"comment_id":129127291,"body_markdown":"Do you get the same issue when running Eclipse with a different Java VM? If not, did you read the [release notes](https://docs.azul.com/core/zulu-openjdk/release-notes.html) whether it&#39;s a known issue?","body":"Do you get the same issue when running Eclipse with a different Java VM? If not, did you read the <a href=\"https://docs.azul.com/core/zulu-openjdk/release-notes.html\" rel=\"nofollow noreferrer\">release notes</a> whether it&#39;s a known issue?"},{"owner":{"account_id":256242,"reputation":81,"user_id":536828,"display_name":"Thomas Kernstock"},"score":0,"creation_date":1658765573,"post_id":73111930,"comment_id":129127600,"body_markdown":"I had the same problem with JDK 11 - so I guess this is an eclipse related problem.","body":"I had the same problem with JDK 11 - so I guess this is an eclipse related problem."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1658769097,"post_id":73111930,"comment_id":129128815,"body_markdown":"Does your user fully own and have write access to the entire workspace folder and its contents?","body":"Does your user fully own and have write access to the entire workspace folder and its contents?"},{"owner":{"account_id":256242,"reputation":81,"user_id":536828,"display_name":"Thomas Kernstock"},"score":0,"creation_date":1658783790,"post_id":73111930,"comment_id":129133325,"body_markdown":"Yes. I also started eclipse as administrator - same problem. I also moved the complete project folder under my Windows User folder - same problem.","body":"Yes. I also started eclipse as administrator - same problem. I also moved the complete project folder under my Windows User folder - same problem."}],"answers":[{"tags":[],"owner":{"account_id":256242,"reputation":81,"user_id":536828,"display_name":"Thomas Kernstock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658784584,"creation_date":1658784584,"answer_id":73115542,"question_id":73111930,"body_markdown":"I found the solution. I had oXygen 23.1 (to be clear - it&#39;s an older version not recomended for eclipse 2022-06) installed that seems to cause the problem. After uninstalling this version everything works fine. ","title":"Eclipse 2022-06 java.security.AccessControlException state.dat/.markers write","body":"<p>I found the solution. I had oXygen 23.1 (to be clear - it's an older version not recomended for eclipse 2022-06) installed that seems to cause the problem. After uninstalling this version everything works fine.</p>\n"}],"owner":{"account_id":256242,"reputation":81,"user_id":536828,"display_name":"Thomas Kernstock"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658784584,"creation_date":1658763768,"question_id":73111930,"body_markdown":"I have a weird problem after updateing to Eclipse 2022-06. I&#39;m running it on Windows 10 under java.version=17.0.3 java.vendor=Azul Systems, Inc.\r\nWhen I exit my (newly created) workspace after changing some system properties or project content, I get an error message:\r\n\r\n&gt; Problems occurred while trying to save the state of the workbench.\r\n\r\n**java.security.AccessControlException: access denied (&quot;java.io.FilePermission&quot; &quot;D:\\xxxxxx\\.metadata\\.plugins\\org.eclipse.core.resources\\.projects\\MyProject\\org.eclipse.jdt.core\\state.dat&quot; &quot;write&quot;)**\r\n\r\n*or*\r\n\r\n**java.security.AccessControlException: access denied (&quot;java.io.FilePermission&quot; &quot;&quot;D:\\xxxxxx\\.metadata\\.plugins\\org.eclipse.core.resources\\.projects\\MyProject\\.markers&quot; &quot;write&quot;)**\r\n\r\nat java.base/java.security.AccessControlContext.checkPermission(AccessControlContext.java:485)\r\n\tat java.base/java.security.AccessController.checkPermission(AccessController.java:1068)\r\n\tat java.base/java.lang.SecurityManager.checkPermission(SecurityManager.java:416)\r\n\tat java.base/java.lang.SecurityManager.checkWrite(SecurityManager.java:847)\r\n\tat ro.sync.security.manager.SandboxSecurityManager.checkWrite(SandboxSecurityManager.java:188)\r\n\tat java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:223)\r\n\tat java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:184)\r\n\tat org.eclipse.jdt.internal.core.JavaModelManager.createOutputStream(JavaModelManager.java:4387)\r\n\tat org.eclipse.jdt.internal.core.JavaModelManager.saveBuiltState(JavaModelManager.java:4341)\r\n\tat org.eclipse.jdt.internal.core.JavaModelManager.saveState(JavaModelManager.java:4323)\r\n\tat org.eclipse.jdt.internal.core.JavaModelManager.lambda$1(JavaModelManager.java:4699)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.Nodes$CollectorTask.doLeaf(Nodes.java:2183)\r\n\tat java.base/java.util.stream.Nodes$CollectorTask$OfRef.doLeaf(Nodes.java:2193)\r\n\tat java.base/java.util.stream.AbstractTask.compute(AbstractTask.java:327)\r\n\tat java.base/java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:754)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:686)\r\n\tat java.base/java.util.stream.Nodes.collect(Nodes.java:328)\r\n\tat java.base/java.util.stream.ReferencePipeline.evaluateToNode(ReferencePipeline.java:111)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:570)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)\r\n\tat java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)\r\n\tat org.eclipse.jdt.internal.core.JavaModelManager.lambda$0(JavaModelManager.java:4704)\r\n\tat java.base/java.util.concurrent.ForkJoinTask$AdaptedCallable.exec(ForkJoinTask.java:1428)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\r\n\r\nI even tried to add my project path to the java.policy file -&gt;\r\n**permission java.io.FilePermission &quot;D:\\xxxxxx\\-&quot;, &quot;write&quot;**\r\n\r\nbut that didn&#39;t help. \r\n\r\nIs this a known issue? Any suggestions how I can resolve the problem?\r\n\r\nThanx\r\nThomas","title":"Eclipse 2022-06 java.security.AccessControlException state.dat/.markers write","body":"<p>I have a weird problem after updateing to Eclipse 2022-06. I'm running it on Windows 10 under java.version=17.0.3 java.vendor=Azul Systems, Inc.\nWhen I exit my (newly created) workspace after changing some system properties or project content, I get an error message:</p>\n<blockquote>\n<p>Problems occurred while trying to save the state of the workbench.</p>\n</blockquote>\n<p><strong>java.security.AccessControlException: access denied (&quot;java.io.FilePermission&quot; &quot;D:\\xxxxxx.metadata.plugins\\org.eclipse.core.resources.projects\\MyProject\\org.eclipse.jdt.core\\state.dat&quot; &quot;write&quot;)</strong></p>\n<p><em>or</em></p>\n<p><strong>java.security.AccessControlException: access denied (&quot;java.io.FilePermission&quot; &quot;&quot;D:\\xxxxxx.metadata.plugins\\org.eclipse.core.resources.projects\\MyProject.markers&quot; &quot;write&quot;)</strong></p>\n<p>at java.base/java.security.AccessControlContext.checkPermission(AccessControlContext.java:485)\nat java.base/java.security.AccessController.checkPermission(AccessController.java:1068)\nat java.base/java.lang.SecurityManager.checkPermission(SecurityManager.java:416)\nat java.base/java.lang.SecurityManager.checkWrite(SecurityManager.java:847)\nat ro.sync.security.manager.SandboxSecurityManager.checkWrite(SandboxSecurityManager.java:188)\nat java.base/java.io.FileOutputStream.(FileOutputStream.java:223)\nat java.base/java.io.FileOutputStream.(FileOutputStream.java:184)\nat org.eclipse.jdt.internal.core.JavaModelManager.createOutputStream(JavaModelManager.java:4387)\nat org.eclipse.jdt.internal.core.JavaModelManager.saveBuiltState(JavaModelManager.java:4341)\nat org.eclipse.jdt.internal.core.JavaModelManager.saveState(JavaModelManager.java:4323)\nat org.eclipse.jdt.internal.core.JavaModelManager.lambda$1(JavaModelManager.java:4699)\nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\nat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\nat java.base/java.util.stream.Nodes$CollectorTask.doLeaf(Nodes.java:2183)\nat java.base/java.util.stream.Nodes$CollectorTask$OfRef.doLeaf(Nodes.java:2193)\nat java.base/java.util.stream.AbstractTask.compute(AbstractTask.java:327)\nat java.base/java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:754)\nat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\nat java.base/java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:686)\nat java.base/java.util.stream.Nodes.collect(Nodes.java:328)\nat java.base/java.util.stream.ReferencePipeline.evaluateToNode(ReferencePipeline.java:111)\nat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:570)\nat java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)\nat java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)\nat org.eclipse.jdt.internal.core.JavaModelManager.lambda$0(JavaModelManager.java:4704)\nat java.base/java.util.concurrent.ForkJoinTask$AdaptedCallable.exec(ForkJoinTask.java:1428)\nat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\nat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\nat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\nat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\nat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)</p>\n<p>I even tried to add my project path to the java.policy file -&gt;\n<strong>permission java.io.FilePermission &quot;D:\\xxxxxx-&quot;, &quot;write&quot;</strong></p>\n<p>but that didn't help.</p>\n<p>Is this a known issue? Any suggestions how I can resolve the problem?</p>\n<p>Thanx\nThomas</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","spring-data"],"owner":{"account_id":19110651,"reputation":353,"user_id":13956730,"display_name":"pwasoutside"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":684,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1658784417,"creation_date":1658549627,"question_id":73087983,"body_markdown":"This has been asked before, but I haven&#39;t found any answers that work for my use case.\r\nI&#39;ve created a simplified toy example to explain my issue.\r\nImagine we have a `Customer` and `Purchase` entity:\r\n```\r\n@Entity\r\npublic class Customer implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate Long id;\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n\tprotected Customer() {}\r\n\r\n    public Customer(String firstName, String lastName) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n    }\r\n}\r\n```\r\n```\r\n@Entity\r\npublic class Purchase {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate Long id;\r\n    @Column(name = &quot;item_name&quot;)\r\n\tprivate String itemName;\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @ManyToOne\r\n    @JoinColumns({\r\n        @JoinColumn(updatable=false, insertable=false, name=&quot;first_name&quot;, referencedColumnName=&quot;first_name&quot;),\r\n        @JoinColumn(updatable=false, insertable=false, name=&quot;last_name&quot;, referencedColumnName=&quot;last_name&quot;)\r\n    })\r\n    Customer customer;\r\n    public Customer getCustomer() { return customer; }\r\n    public void setCustomer(Customer customer) { this.customer = customer; }\r\n\r\n    public void setID(Long id) { this.id = id; }\r\n    public Long getID() { return this.id; }\r\n\r\n    protected Purchase() { }\r\n\r\n    public Purchase(String itemName, String firstName, String lastName) {\r\n        this.itemName = itemName;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n    }\r\n\r\n}\r\n\r\n```\r\nAs you can see, purchases are joined to customers using two columns: the first name of the customer, and last name (I know this is somewhat contrived since it would be better to join on customer id).\r\nThe issue is when I try to update an existing purchase. If the purchase details change, I create an entirely new purchase, set this new purchases&#39;s ID field, and save the new purchase which overwrites the old one since they have the same ID.\r\n```\r\ncustomerRepository.save(new Customer(&quot;firstName&quot;, &quot;lastName&quot;));\r\npurchaseRepository.save(new Purchase(&quot;itemName&quot;, &quot;firstName&quot;, &quot;lastName&quot;));\r\n\r\nPurchase p1 = purchaseRepository.findAll().get(0);\r\nPurchase p2 = new Purchase(&quot;updatedItemName&quot;, &quot;firstName&quot;, &quot;lastName&quot;);\r\np2.setID(p1.getID());\r\npurchaseRepository.save(p2);\r\n```\r\nBUT, this always produces this warning:\r\n```\r\n2022-07-22 21:04:22.088  WARN 46139 --- [           main] o.h.p.entity.AbstractEntityPersister     : HHH000502: The [customer] property of the [com.example.accessingdatajpa.Purchase] entity was modified, but it won&#39;t be updated because the property is immutable.\r\n```\r\nI need help preventing this warning.\r\n\r\nI know I could just update `p1` with `p2`&#39;s data, but the issue is that in my actual code, purchases have a lot of fields and I want to avoid manually setting each one if possible.\r\nIf someone has a nicer solution where I update an old record based on a new one (without specifying the names of the columns to update), I&#39;d love to see that solution.\r\n\r\n\r\n","title":"The [column] property of the [entity] entity was modified, but it won&#39;t be updated because the property is immutable","body":"<p>This has been asked before, but I haven't found any answers that work for my use case.\nI've created a simplified toy example to explain my issue.\nImagine we have a <code>Customer</code> and <code>Purchase</code> entity:</p>\n<pre><code>@Entity\npublic class Customer implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long id;\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    protected Customer() {}\n\n    public Customer(String firstName, String lastName) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n}\n</code></pre>\n<pre><code>@Entity\npublic class Purchase {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long id;\n    @Column(name = &quot;item_name&quot;)\n    private String itemName;\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @ManyToOne\n    @JoinColumns({\n        @JoinColumn(updatable=false, insertable=false, name=&quot;first_name&quot;, referencedColumnName=&quot;first_name&quot;),\n        @JoinColumn(updatable=false, insertable=false, name=&quot;last_name&quot;, referencedColumnName=&quot;last_name&quot;)\n    })\n    Customer customer;\n    public Customer getCustomer() { return customer; }\n    public void setCustomer(Customer customer) { this.customer = customer; }\n\n    public void setID(Long id) { this.id = id; }\n    public Long getID() { return this.id; }\n\n    protected Purchase() { }\n\n    public Purchase(String itemName, String firstName, String lastName) {\n        this.itemName = itemName;\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n\n}\n\n</code></pre>\n<p>As you can see, purchases are joined to customers using two columns: the first name of the customer, and last name (I know this is somewhat contrived since it would be better to join on customer id).\nThe issue is when I try to update an existing purchase. If the purchase details change, I create an entirely new purchase, set this new purchases's ID field, and save the new purchase which overwrites the old one since they have the same ID.</p>\n<pre><code>customerRepository.save(new Customer(&quot;firstName&quot;, &quot;lastName&quot;));\npurchaseRepository.save(new Purchase(&quot;itemName&quot;, &quot;firstName&quot;, &quot;lastName&quot;));\n\nPurchase p1 = purchaseRepository.findAll().get(0);\nPurchase p2 = new Purchase(&quot;updatedItemName&quot;, &quot;firstName&quot;, &quot;lastName&quot;);\np2.setID(p1.getID());\npurchaseRepository.save(p2);\n</code></pre>\n<p>BUT, this always produces this warning:</p>\n<pre><code>2022-07-22 21:04:22.088  WARN 46139 --- [           main] o.h.p.entity.AbstractEntityPersister     : HHH000502: The [customer] property of the [com.example.accessingdatajpa.Purchase] entity was modified, but it won't be updated because the property is immutable.\n</code></pre>\n<p>I need help preventing this warning.</p>\n<p>I know I could just update <code>p1</code> with <code>p2</code>'s data, but the issue is that in my actual code, purchases have a lot of fields and I want to avoid manually setting each one if possible.\nIf someone has a nicer solution where I update an old record based on a new one (without specifying the names of the columns to update), I'd love to see that solution.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"score":0,"creation_date":1233514840,"post_id":487906,"comment_id":316536,"body_markdown":"I wanted to add a follow-up question to this, but I asked a related question of my own to avoid hijacking your question. http://stackoverflow.com/questions/501368/phone-number-format-and-validaton-library","body":"I wanted to add a follow-up question to this, but I asked a related question of my own to avoid hijacking your question. <a href=\"http://stackoverflow.com/questions/501368/phone-number-format-and-validaton-library\" title=\"phone number format and validaton library\">stackoverflow.com/questions/501368/&hellip;</a>"},{"owner":{"account_id":1285,"reputation":8351,"user_id":1712,"accept_rate":84,"display_name":"Roland Tepp"},"score":1,"creation_date":1288164975,"post_id":487906,"comment_id":4324372,"body_markdown":"Quite trolling Shevrin, first of all - having an api for something formalizes and abstracts the code pattern to something that can be reasoned in more general terms than &quot;loop over these characters, insert space here, ... etc.&quot;.\n\nSecondly applying correct internationalized formatting to phone numbers is not a trivial task.","body":"Quite trolling Shevrin, first of all - having an api for something formalizes and abstracts the code pattern to something that can be reasoned in more general terms than &quot;loop over these characters, insert space here, ... etc.&quot;.  Secondly applying correct internationalized formatting to phone numbers is not a trivial task."}],"answers":[{"tags":[],"owner":{"account_id":9448,"reputation":2342,"user_id":17473,"accept_rate":70,"display_name":"Olvagor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1233154822,"creation_date":1233154822,"answer_id":487918,"question_id":487906,"body_markdown":"I don&#39;t know of such an API but it looks like could be done by using regular expressions. Probably you can&#39;t convert all numbers to a valid format but most of them.","title":"Java phone number format API","body":"<p>I don't know of such an API but it looks like could be done by using regular expressions. Probably you can't convert all numbers to a valid format but most of them.</p>\n"},{"tags":[],"owner":{"account_id":10566,"reputation":29161,"user_id":20029,"display_name":"Zach Scrivena"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1233156052,"creation_date":1233155381,"answer_id":487958,"question_id":487906,"body_markdown":"There are commercial programs that format and validate international telephone numbers, like [this one][1] which even checks for valid area codes in some countries. For North America, the [NANPA][2] provides [some resources][3] for validating area codes.\r\n\r\n\r\n  [1]: http://www.quentinsagerconsulting.com/documents/10025.htm\r\n  [2]: http://www.nanpa.com/\r\n  [3]: http://www.nanpa.com/area_codes/index.html","title":"Java phone number format API","body":"<p>There are commercial programs that format and validate international telephone numbers, like <a href=\"http://www.quentinsagerconsulting.com/documents/10025.htm\" rel=\"nofollow noreferrer\">this one</a> which even checks for valid area codes in some countries. For North America, the <a href=\"http://www.nanpa.com/\" rel=\"nofollow noreferrer\">NANPA</a> provides <a href=\"http://www.nanpa.com/area_codes/index.html\" rel=\"nofollow noreferrer\">some resources</a> for validating area codes.</p>\n"},{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1294235973,"creation_date":1233155438,"answer_id":487963,"question_id":487906,"body_markdown":"You could write your own (for US phone # format):\r\n\r\n* Strip any non-numeric characters from the string\r\n* Check that the remaining string is ten characters long\r\n* Put parentheses around the first three characters and a dash between the sixth and seventh character.\r\n* Prepend &quot;+1 &quot; to the string\r\n\r\n&lt;hr/&gt;\r\n###Update:\r\nGoogle recently released [libphonenumber][1] for parsing, formatting, storing and validating international phone numbers.\r\n\r\n\r\n  [1]: http://code.google.com/p/libphonenumber/","title":"Java phone number format API","body":"<p>You could write your own (for US phone # format):</p>\n\n<ul>\n<li>Strip any non-numeric characters from the string</li>\n<li>Check that the remaining string is ten characters long</li>\n<li>Put parentheses around the first three characters and a dash between the sixth and seventh character.</li>\n<li>Prepend \"+1 \" to the string</li>\n</ul>\n\n<p><hr/></p>\n\n<h3>Update:</h3>\n\n<p>Google recently released <a href=\"http://code.google.com/p/libphonenumber/\" rel=\"noreferrer\">libphonenumber</a> for parsing, formatting, storing and validating international phone numbers.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1233155603,"creation_date":1233155603,"answer_id":487982,"question_id":487906,"body_markdown":"I don&#39;t think there is a way of recognizing the lack of an area code unless your numbers are all from one country (presumably the USA), as each country has its own rules for things like area codes.\r\n\r\nI&#39;d start looking for detailed information [here][1], [here][2], and [here][3] - if there are  APIs to handle it (in Java or otherwise), they might be linked to there as well.\r\n\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Telephone_numbering_plan\r\n  [2]: http://www.wtng.info/\r\n  [3]: http://www.itu.int/oth/T0202.aspx?parent=T0202","title":"Java phone number format API","body":"<p>I don't think there is a way of recognizing the lack of an area code unless your numbers are all from one country (presumably the USA), as each country has its own rules for things like area codes.</p>\n\n<p>I'd start looking for detailed information <a href=\"http://en.wikipedia.org/wiki/Telephone_numbering_plan\" rel=\"nofollow noreferrer\">here</a>, <a href=\"http://www.wtng.info/\" rel=\"nofollow noreferrer\">here</a>, and <a href=\"http://www.itu.int/oth/T0202.aspx?parent=T0202\" rel=\"nofollow noreferrer\">here</a> - if there are  APIs to handle it (in Java or otherwise), they might be linked to there as well.</p>\n"},{"tags":[],"owner":{"account_id":17611,"reputation":32048,"user_id":39590,"accept_rate":80,"display_name":"mafu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1233156278,"creation_date":1233155958,"answer_id":488002,"question_id":487906,"body_markdown":"The best i found was &lt;code&gt;javax.telephony&lt;/code&gt;, to be found here: http://java.sun.com/products/javaphone/\r\n\r\nIt has an Address class, but sadly that class did not solve your problem :(\r\nWell, maybe you can find a solution by digging deeper into it.\r\n\r\nApart of that, my first idea was to use regex. However, that seems to be a kind of bad solution to this specific problem.","title":"Java phone number format API","body":"<p>The best i found was <code>javax.telephony</code>, to be found here: <a href=\"http://java.sun.com/products/javaphone/\" rel=\"nofollow noreferrer\">http://java.sun.com/products/javaphone/</a></p>\n\n<p>It has an Address class, but sadly that class did not solve your problem :(\nWell, maybe you can find a solution by digging deeper into it.</p>\n\n<p>Apart of that, my first idea was to use regex. However, that seems to be a kind of bad solution to this specific problem.</p>\n"},{"tags":[],"owner":{"account_id":662537,"reputation":231,"user_id":487447,"display_name":"g1smd"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1524752612,"creation_date":1288086541,"answer_id":4022497,"question_id":487906,"body_markdown":"You could try this Java phone number formatting library https://github.com/googlei18n/libphonenumber\r\n\r\nIt has data for hundreds of countries and formats.\r\n\r\n","title":"Java phone number format API","body":"<p>You could try this Java phone number formatting library <a href=\"https://github.com/googlei18n/libphonenumber\" rel=\"nofollow noreferrer\">https://github.com/googlei18n/libphonenumber</a></p>\n\n<p>It has data for hundreds of countries and formats.</p>\n"},{"tags":[],"owner":{"account_id":311534,"reputation":221,"user_id":625171,"display_name":"g1smd"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1298200348,"creation_date":1298200348,"answer_id":5056643,"question_id":487906,"body_markdown":"The recent versions of http://code.google.com/p/libphonenumber/ have added metadata for many new countries and added a lot more detail for some of the countries previously listed.\r\n\r\nThe current source code version is r74 and the .jar file is at version 2.6. Previous .jar files were compiled for Java 1.6, but as of libphonenumber version 2.5.1 onwards they are now compiled for Java 1.5 and above.\r\n\r\nDon&#39;t forget there is also a direct port of the code to JavaScript. It can be found in the source code tree at http://code.google.com/p/libphonenumber/source/browse/#svn%2Ftrunk%2Fjavascript\r\n\r\nBug reports are welcome. Updates to metadata are actively encouraged, as even the official government-published area code lists for many countries are either incomplete or out of date. ","title":"Java phone number format API","body":"<p>The recent versions of <a href=\"http://code.google.com/p/libphonenumber/\" rel=\"nofollow\">http://code.google.com/p/libphonenumber/</a> have added metadata for many new countries and added a lot more detail for some of the countries previously listed.</p>\n\n<p>The current source code version is r74 and the .jar file is at version 2.6. Previous .jar files were compiled for Java 1.6, but as of libphonenumber version 2.5.1 onwards they are now compiled for Java 1.5 and above.</p>\n\n<p>Don't forget there is also a direct port of the code to JavaScript. It can be found in the source code tree at <a href=\"http://code.google.com/p/libphonenumber/source/browse/#svn%2Ftrunk%2Fjavascript\" rel=\"nofollow\">http://code.google.com/p/libphonenumber/source/browse/#svn%2Ftrunk%2Fjavascript</a></p>\n\n<p>Bug reports are welcome. Updates to metadata are actively encouraged, as even the official government-published area code lists for many countries are either incomplete or out of date. </p>\n"},{"tags":[],"owner":{"account_id":872540,"reputation":39,"user_id":923062,"display_name":"Masaru Tomimitsu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1314865880,"creation_date":1314865880,"answer_id":7267811,"question_id":487906,"body_markdown":"For French number which look like &quot;01 44 55 66 77&quot;, we can use the following logic.\r\n\r\n    DecimalFormatSymbols dfs = new DecimalFormatSymbols();\r\n    dfs.setGroupingSeparator(&#39; &#39;);  // sometimes &#39;.&#39; is used\r\n    DecimalFormat decfmt = new DecimalFormat(&quot;0,0&quot;, dfs);  // enable grouping\r\n    decfmt.setMinimumIntegerDigits(10);  // we always have 10 digits\r\n    decfmt.setGroupingSize(2);  // necessary in order to group digits by 2 orders\r\n    System.out.println(decfmt.format(144556677));  // outputs &quot;01 44 55 66 77&quot;\r\n\r\nOnce this could be done, with google&#39;s phone number API the others mentioned, we can parse these sequences easily and reformat them into other forms such as &quot;+33 1 44 55 66 77&quot; like the following:\r\n\r\n    Iterable&lt;PhoneNumberMatch&gt; numbers = PhoneNumberUtil.getInstance().findNumbers(textWithPhoneNums, &quot;FR&quot;);\r\n    for(Iterator&lt;PhoneNumberMatch&gt; iterator = numbers.iterator(); iterator.hasNext(); ){\r\n        PhoneNumberMatch pnm = iterator.next();\r\n        PhoneNumber number = pnm.number();\r\n        System.out.println(PhoneNumberUtil.getInstance().formatOutOfCountryCallingNumber(number, null));\r\n    }\r\n","title":"Java phone number format API","body":"<p>For French number which look like \"01 44 55 66 77\", we can use the following logic.</p>\n\n<pre><code>DecimalFormatSymbols dfs = new DecimalFormatSymbols();\ndfs.setGroupingSeparator(' ');  // sometimes '.' is used\nDecimalFormat decfmt = new DecimalFormat(\"0,0\", dfs);  // enable grouping\ndecfmt.setMinimumIntegerDigits(10);  // we always have 10 digits\ndecfmt.setGroupingSize(2);  // necessary in order to group digits by 2 orders\nSystem.out.println(decfmt.format(144556677));  // outputs \"01 44 55 66 77\"\n</code></pre>\n\n<p>Once this could be done, with google's phone number API the others mentioned, we can parse these sequences easily and reformat them into other forms such as \"+33 1 44 55 66 77\" like the following:</p>\n\n<pre><code>Iterable&lt;PhoneNumberMatch&gt; numbers = PhoneNumberUtil.getInstance().findNumbers(textWithPhoneNums, \"FR\");\nfor(Iterator&lt;PhoneNumberMatch&gt; iterator = numbers.iterator(); iterator.hasNext(); ){\n    PhoneNumberMatch pnm = iterator.next();\n    PhoneNumber number = pnm.number();\n    System.out.println(PhoneNumberUtil.getInstance().formatOutOfCountryCallingNumber(number, null));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":406690,"reputation":11992,"user_id":776345,"accept_rate":85,"display_name":"Paschalis"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1470654206,"creation_date":1342617639,"answer_id":11542408,"question_id":487906,"body_markdown":"# Simple regex parser\r\n\r\n\r\n\t/**\r\n\t * @param pPhoneNumber\r\n\t * @return true if the phone number is correct\r\n\t */\r\n\tprivate boolean isPhoneNumberCorrect(String pPhoneNumber) {\r\n\r\n\t\tPattern pattern = Pattern\r\n\t\t\t\t.compile(&quot;((\\\\+[1-9]{3,4}|0[1-9]{4}|00[1-9]{3})\\\\-?)?\\\\d{8,20}&quot;);\r\n\t\tMatcher matcher = pattern.matcher(pPhoneNumber);\r\n\r\n\t\tif (matcher.matches()) return true;\r\n\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n# Format\r\nI made this according to my needs, and it accepts numbers:\r\n\r\n 1. CountryCode-Number\r\n 2. Number\r\n\r\n## Country Codes:\r\nThey may have a: `+`, or either one or two zeros.\r\nThen, it may be followed by a `-`.\r\n\r\nAccepts:\r\n\r\n - `+456`\r\n - `00456`\r\n - `+1234`\r\n - `01234`\r\n\r\nAll above may or may not followed by a `-`\r\n\r\nRejects:\r\n\r\n  - `0456`\r\n     - it should be:\r\n          - `00456` or`+456` or`04444`\r\n\r\n## Number\r\nA simple number with 8-20 digits.\r\n\r\nAccepts:\r\n\r\n  - `00456-12345678`\r\n  - `+457-12345678`\r\n  -  `+45712345678`\r\n  -  `0045712345678`\r\n  -  `99999999`\r\n\r\n# Extend it?\r\nFeel free, so you may include support for `.` or &#39;(&#39; separators. Just make sure you escape them, e.g. for `(` use `\\(`.\r\n","title":"Java phone number format API","body":"<h1>Simple regex parser</h1>\n\n<pre><code>/**\n * @param pPhoneNumber\n * @return true if the phone number is correct\n */\nprivate boolean isPhoneNumberCorrect(String pPhoneNumber) {\n\n    Pattern pattern = Pattern\n            .compile(\"((\\\\+[1-9]{3,4}|0[1-9]{4}|00[1-9]{3})\\\\-?)?\\\\d{8,20}\");\n    Matcher matcher = pattern.matcher(pPhoneNumber);\n\n    if (matcher.matches()) return true;\n\n\n    return false;\n}\n</code></pre>\n\n<h1>Format</h1>\n\n<p>I made this according to my needs, and it accepts numbers:</p>\n\n<ol>\n<li>CountryCode-Number</li>\n<li>Number</li>\n</ol>\n\n<h2>Country Codes:</h2>\n\n<p>They may have a: <code>+</code>, or either one or two zeros.\nThen, it may be followed by a <code>-</code>.</p>\n\n<p>Accepts:</p>\n\n<ul>\n<li><code>+456</code></li>\n<li><code>00456</code></li>\n<li><code>+1234</code></li>\n<li><code>01234</code></li>\n</ul>\n\n<p>All above may or may not followed by a <code>-</code></p>\n\n<p>Rejects:</p>\n\n<ul>\n<li><code>0456</code>\n\n<ul>\n<li>it should be:\n\n<ul>\n<li><code>00456</code> or<code>+456</code> or<code>04444</code></li>\n</ul></li>\n</ul></li>\n</ul>\n\n<h2>Number</h2>\n\n<p>A simple number with 8-20 digits.</p>\n\n<p>Accepts:</p>\n\n<ul>\n<li><code>00456-12345678</code></li>\n<li><code>+457-12345678</code></li>\n<li><code>+45712345678</code></li>\n<li><code>0045712345678</code></li>\n<li><code>99999999</code></li>\n</ul>\n\n<h1>Extend it?</h1>\n\n<p>Feel free, so you may include support for <code>.</code> or '(' separators. Just make sure you escape them, e.g. for <code>(</code> use <code>\\(</code>.</p>\n"},{"tags":[],"owner":{"account_id":874523,"reputation":2017,"user_id":1216686,"accept_rate":11,"display_name":"Matt Campbell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410190677,"creation_date":1409757980,"answer_id":25648190,"question_id":487906,"body_markdown":"My own needs were very simple.  I just needed to take a 7 or 10-digit number and put separators (a dash, period, some string of characters, etc.) between the area code, exchange, and exchange number.  Any value passed into the method that is not all digits or is not a length of 7 or 10 is simply returned.  A null value returns an empty string and a null value for the separator is treated like an empty string.  My code:\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    // ...\r\n    private String formatPhoneNumber(String phnumber, String separator) {\r\n      phnumber = (phnumber == null) ? &quot;&quot; : phnumber;\r\n      if ((phnumber.length() != 7) &amp;&amp; (phnumber.length() != 10)) { return phnumber; }\r\n   \r\n      // If we get here, &#39;phnumber&#39; is for sure either 7 or 10 chars long\r\n\r\n      separator = (separator == null) ? &quot;&quot; : separator;\r\n      Pattern p = Pattern.compile(&quot;([0-9]*)&quot;);\r\n      Matcher m = p.matcher(phnumber);\r\n      if (m.matches()) {\r\n       if (phnumber.length() == 7) {\r\n         return phnumber.substring(0, 3) + separator + phnumber.substring(4);\r\n        } else {\r\n         return phnumber.substring(0, 3) + separator + phnumber.substring(3, 6)  \r\n                + separator + phnumber.substring(6);\r\n        }\r\n      // If we get here, it means 1 or more of the chars in &#39;phnumber&#39;\r\n      // is not a digit and so &#39;phnumber&#39; is returned just as passed in.\r\n      return phnumber;\r\n    }","title":"Java phone number format API","body":"<p>My own needs were very simple.  I just needed to take a 7 or 10-digit number and put separators (a dash, period, some string of characters, etc.) between the area code, exchange, and exchange number.  Any value passed into the method that is not all digits or is not a length of 7 or 10 is simply returned.  A null value returns an empty string and a null value for the separator is treated like an empty string.  My code:</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n// ...\nprivate String formatPhoneNumber(String phnumber, String separator) {\n  phnumber = (phnumber == null) ? \"\" : phnumber;\n  if ((phnumber.length() != 7) &amp;&amp; (phnumber.length() != 10)) { return phnumber; }\n\n  // If we get here, 'phnumber' is for sure either 7 or 10 chars long\n\n  separator = (separator == null) ? \"\" : separator;\n  Pattern p = Pattern.compile(\"([0-9]*)\");\n  Matcher m = p.matcher(phnumber);\n  if (m.matches()) {\n   if (phnumber.length() == 7) {\n     return phnumber.substring(0, 3) + separator + phnumber.substring(4);\n    } else {\n     return phnumber.substring(0, 3) + separator + phnumber.substring(3, 6)  \n            + separator + phnumber.substring(6);\n    }\n  // If we get here, it means 1 or more of the chars in 'phnumber'\n  // is not a digit and so 'phnumber' is returned just as passed in.\n  return phnumber;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3578561,"reputation":2945,"user_id":2987273,"display_name":"Alexander"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1439970060,"creation_date":1420816083,"answer_id":27863506,"question_id":487906,"body_markdown":"Don&#39;t re-invent the wheel; use an API, e.g. http://libphonenumber.googlecode.com/ \r\nThis API gives you nice formatting, too.\r\n**Example**:\r\n\r\n    String number = &quot;(555) 478-1123&quot;;\r\n    PhoneNumberUtil phoneNumberUtil = PhoneNumberUtil.getInstance();\r\n    try {\r\n      Phonenumber.PhoneNumber phoneNumber = phoneNumberUtil.parse(number, Locale.US.getCountry());\r\n    } catch (NumberParseException e) {\r\n      // error handling\r\n    }\r\n\r\nYou could even use the phoneNumber object to nicely format it a valid phone number before saving it to the DB or whatever.","title":"Java phone number format API","body":"<p>Don't re-invent the wheel; use an API, e.g. <a href=\"http://libphonenumber.googlecode.com/\" rel=\"nofollow\">http://libphonenumber.googlecode.com/</a> \nThis API gives you nice formatting, too.\n<strong>Example</strong>:</p>\n\n<pre><code>String number = \"(555) 478-1123\";\nPhoneNumberUtil phoneNumberUtil = PhoneNumberUtil.getInstance();\ntry {\n  Phonenumber.PhoneNumber phoneNumber = phoneNumberUtil.parse(number, Locale.US.getCountry());\n} catch (NumberParseException e) {\n  // error handling\n}\n</code></pre>\n\n<p>You could even use the phoneNumber object to nicely format it a valid phone number before saving it to the DB or whatever.</p>\n"},{"tags":[],"owner":{"account_id":3801583,"reputation":523,"user_id":3155082,"display_name":"Jawad Zeb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582626937,"creation_date":1582626457,"answer_id":60392419,"question_id":487906,"body_markdown":"I have created a Helper class using libphonenumber, But it is still on possibilities i.e (users mostly saves the local numbers in local contacts as local format) I mean without country code since it is local number but will save the International numbers with country code. and this helper works for both of these scenario&#39;s if the number is in global format it will simply keep it as it is while converts the local numbers to internal format. Below is the Code and Usage\r\n\r\n\r\n   \r\n\r\n    class PhoneNumberHelper {\r\n    \r\n        companion object {\r\n            fun correctNumber(number: String, context: Context): String? {\r\n                val code = StorageAdapter.get(context).userCountryCode\r\n                return validateNumber(number, code)\r\n            }\r\n    \r\n            private fun validateNumber(number: String, mUserCountryCode: Int): String? {\r\n                return Utils.formatNumber(Utils.removeDelimetersFromNumber(number), mUserCountryCode)\r\n    \r\n            }\r\n    \r\n            fun formatNumber(destinationNumber: String, countryCode: Int): String? {\r\n                try {\r\n                    val phoneUtil = PhoneNumberUtil.getInstance()\r\n                    val regionCode = phoneUtil.getRegionCodeForCountryCode(countryCode)\r\n    \r\n                    var formattedNumber = formatNumber(destinationNumber, regionCode)\r\n                    if (TextUtils.isEmpty(formattedNumber)) {\r\n                        formattedNumber = destinationNumber\r\n                    }\r\n                    return formattedNumber\r\n                } catch (exp: Exception) {\r\n                    Log.e(&quot;formatNumber&quot;, exp.toString())\r\n                }\r\n    \r\n                return destinationNumber\r\n            }\r\n    \r\n    \r\n            fun formatNumber(destinationNumber: String, regionCode: String): String? {\r\n    \r\n                if (TextUtils.isEmpty(regionCode)) {\r\n                    return null\r\n                }\r\n    \r\n                var number: String? = null\r\n                try {\r\n    \r\n                    val phoneUtil = PhoneNumberUtil.getInstance()\r\n                    val phoneNumber = phoneUtil.parse(destinationNumber, regionCode)\r\n    \r\n                    if (phoneUtil.isValidNumber(phoneNumber)) {\r\n    \r\n                        /*\r\n                     * E164 format is as per international format but no\r\n                     * formatting applied e.g. no spaces in between\r\n                     */\r\n    \r\n                        number = phoneUtil.format(phoneNumber, PhoneNumberUtil.PhoneNumberFormat.E164)\r\n                        number = number!!.replace(&quot;+&quot;, &quot;00&quot;)\r\n                    }\r\n    \r\n    \r\n                } catch (e: Exception) {\r\n                    // number would be returned as null if it catches here\r\n                }\r\n    \r\n                return number\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\nHere Is how You will use it:\r\n\r\n    var globalnumber = PhoneNumberHelper.correctNumber(contact.mobile, context)\r\n\r\nClarification:\r\n\r\n    val code = StorageAdapter.get(context).userCountryCode\r\n\r\nThis is the Country code you should Store at during Signup. e.g. `0044` or `+44`\r\n\r\nDon&#39;t forget to Include Dependency for libphone :   \r\n\r\n    implementation &#39;com.googlecode.libphonenumber:libphonenumber:8.8.0&#39;","title":"Java phone number format API","body":"<p>I have created a Helper class using libphonenumber, But it is still on possibilities i.e (users mostly saves the local numbers in local contacts as local format) I mean without country code since it is local number but will save the International numbers with country code. and this helper works for both of these scenario's if the number is in global format it will simply keep it as it is while converts the local numbers to internal format. Below is the Code and Usage</p>\n\n<pre><code>class PhoneNumberHelper {\n\n    companion object {\n        fun correctNumber(number: String, context: Context): String? {\n            val code = StorageAdapter.get(context).userCountryCode\n            return validateNumber(number, code)\n        }\n\n        private fun validateNumber(number: String, mUserCountryCode: Int): String? {\n            return Utils.formatNumber(Utils.removeDelimetersFromNumber(number), mUserCountryCode)\n\n        }\n\n        fun formatNumber(destinationNumber: String, countryCode: Int): String? {\n            try {\n                val phoneUtil = PhoneNumberUtil.getInstance()\n                val regionCode = phoneUtil.getRegionCodeForCountryCode(countryCode)\n\n                var formattedNumber = formatNumber(destinationNumber, regionCode)\n                if (TextUtils.isEmpty(formattedNumber)) {\n                    formattedNumber = destinationNumber\n                }\n                return formattedNumber\n            } catch (exp: Exception) {\n                Log.e(\"formatNumber\", exp.toString())\n            }\n\n            return destinationNumber\n        }\n\n\n        fun formatNumber(destinationNumber: String, regionCode: String): String? {\n\n            if (TextUtils.isEmpty(regionCode)) {\n                return null\n            }\n\n            var number: String? = null\n            try {\n\n                val phoneUtil = PhoneNumberUtil.getInstance()\n                val phoneNumber = phoneUtil.parse(destinationNumber, regionCode)\n\n                if (phoneUtil.isValidNumber(phoneNumber)) {\n\n                    /*\n                 * E164 format is as per international format but no\n                 * formatting applied e.g. no spaces in between\n                 */\n\n                    number = phoneUtil.format(phoneNumber, PhoneNumberUtil.PhoneNumberFormat.E164)\n                    number = number!!.replace(\"+\", \"00\")\n                }\n\n\n            } catch (e: Exception) {\n                // number would be returned as null if it catches here\n            }\n\n            return number\n        }\n    }\n\n\n}\n</code></pre>\n\n<p>Here Is how You will use it:</p>\n\n<pre><code>var globalnumber = PhoneNumberHelper.correctNumber(contact.mobile, context)\n</code></pre>\n\n<p>Clarification:</p>\n\n<pre><code>val code = StorageAdapter.get(context).userCountryCode\n</code></pre>\n\n<p>This is the Country code you should Store at during Signup. e.g. <code>0044</code> or <code>+44</code></p>\n\n<p>Don't forget to Include Dependency for libphone :   </p>\n\n<pre><code>implementation 'com.googlecode.libphonenumber:libphonenumber:8.8.0'\n</code></pre>\n"}],"owner":{"account_id":4942,"reputation":15741,"user_id":7679,"accept_rate":100,"display_name":"Chase Seibert"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68925,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":487963,"answer_count":12,"score":30,"last_activity_date":1658784315,"creation_date":1233154577,"question_id":487906,"body_markdown":"I have a database with millions of phone numbers with free-for-all formatting. Ie, the UI does not enforce any constraints and the users are typing in whatever they want.\r\n\r\nWhat I&#39;m looking for is a Java API that can make a best-effort to convert these into a consistent format. Ideally, the API would take the free text value and a country code and produce a valid international phone number or throw an exception.\r\n\r\nFor example, a phone number in the system might look like any of the following:\r\n\r\n    (555) 478-1123\r\n    555-478-1123\t\r\n    555.478.1123\r\n    5554781123\r\n\t\r\nGiven the country of US, the API would produce the value &quot;+1 (555) 478-1123&quot; for all these. The exact format does not matter, as long as it&#39;s consistent.\r\n\r\nThere are also numbers in the system without area codes, such as &quot;478-1123&quot;. In that case, I would expect a NoAreaCodeException, or something similar.\r\n\r\nThere could also be data such as &quot;abc&quot;, which should also throw exceptions.\r\n\r\nOf course, there are countless variations of the examples I have posted, as well as the enormous complication of international phone numbers, which have quite complicated validation rules. This is why I would not consider rolling my own.\r\n\r\nHas anyone seen such an API?","title":"Java phone number format API","body":"<p>I have a database with millions of phone numbers with free-for-all formatting. Ie, the UI does not enforce any constraints and the users are typing in whatever they want.</p>\n\n<p>What I'm looking for is a Java API that can make a best-effort to convert these into a consistent format. Ideally, the API would take the free text value and a country code and produce a valid international phone number or throw an exception.</p>\n\n<p>For example, a phone number in the system might look like any of the following:</p>\n\n<pre><code>(555) 478-1123\n555-478-1123    \n555.478.1123\n5554781123\n</code></pre>\n\n<p>Given the country of US, the API would produce the value \"+1 (555) 478-1123\" for all these. The exact format does not matter, as long as it's consistent.</p>\n\n<p>There are also numbers in the system without area codes, such as \"478-1123\". In that case, I would expect a NoAreaCodeException, or something similar.</p>\n\n<p>There could also be data such as \"abc\", which should also throw exceptions.</p>\n\n<p>Of course, there are countless variations of the examples I have posted, as well as the enormous complication of international phone numbers, which have quite complicated validation rules. This is why I would not consider rolling my own.</p>\n\n<p>Has anyone seen such an API?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-sdk","deprecated"],"comments":[{"owner":{"account_id":3612533,"reputation":17880,"user_id":7303447,"display_name":"franklinsijo"},"score":4,"creation_date":1485848409,"post_id":41951978,"comment_id":71083334,"body_markdown":"You have to use `AwsClientBuilder` class as alternative.","body":"You have to use <code>AwsClientBuilder</code> class as alternative."},{"owner":{"account_id":7547739,"reputation":1432,"user_id":5730203,"accept_rate":90,"display_name":"Asif Ali"},"score":0,"creation_date":1485848473,"post_id":41951978,"comment_id":71083362,"body_markdown":"@franklinsijo code sample or source to read from?","body":"@franklinsijo code sample or source to read from?"},{"owner":{"account_id":7547739,"reputation":1432,"user_id":5730203,"accept_rate":90,"display_name":"Asif Ali"},"score":0,"creation_date":1485849490,"post_id":41951978,"comment_id":71083841,"body_markdown":"Can you add it as an answer? I&#39;ll edit your answer with a small snippet of code and accept it.","body":"Can you add it as an answer? I&#39;ll edit your answer with a small snippet of code and accept it."},{"owner":{"account_id":63910,"reputation":568,"user_id":188936,"accept_rate":69,"display_name":"Priyadarshi Kunal"},"score":1,"creation_date":1532545236,"post_id":41951978,"comment_id":90020572,"body_markdown":"https://aws.amazon.com/blogs/developer/client-constructors-now-deprecated/","body":"<a href=\"https://aws.amazon.com/blogs/developer/client-constructors-now-deprecated/\" rel=\"nofollow noreferrer\">aws.amazon.com/blogs/developer/&hellip;</a>"},{"owner":{"account_id":5700393,"reputation":1135,"user_id":9739007,"display_name":"Jessica"},"score":0,"creation_date":1559745054,"post_id":41951978,"comment_id":99516705,"body_markdown":"Is it OK to hard code the key pair in this file? Where would this file be when you deploy your web app publicly? Isn&#39;t this a security issue?","body":"Is it OK to hard code the key pair in this file? Where would this file be when you deploy your web app publicly? Isn&#39;t this a security issue?"}],"answers":[{"tags":[],"owner":{"account_id":3612533,"reputation":17880,"user_id":7303447,"display_name":"franklinsijo"},"down_vote_count":0,"up_vote_count":151,"is_accepted":true,"score":151,"last_activity_date":1658784081,"creation_date":1485850183,"answer_id":41952575,"question_id":41951978,"body_markdown":"You can either use [AmazonS3ClientBuilder][1] or \r\n[AwsClientBuilder][2] as alternatives.\r\n\r\nFor S3, simplest would be with `AmazonS3ClientBuilder`.\r\n```\r\nBasicAWSCredentials creds = new BasicAWSCredentials(&quot;access_key&quot;, &quot;secret_key&quot;); \r\n\r\nAmazonS3 s3Client = AmazonS3ClientBuilder\r\n    .standard()\r\n    .withCredentials(new AWSStaticCredentialsProvider(creds))\r\n    .build();\r\n```\r\n  [1]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3ClientBuilder.html\r\n  [2]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/client/builder/AwsClientBuilder.html","title":"AmazonS3Client(credentials) is deprecated","body":"<p>You can either use <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3ClientBuilder.html\" rel=\"noreferrer\">AmazonS3ClientBuilder</a> or\n<a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/client/builder/AwsClientBuilder.html\" rel=\"noreferrer\">AwsClientBuilder</a> as alternatives.</p>\n<p>For S3, simplest would be with <code>AmazonS3ClientBuilder</code>.</p>\n<pre><code>BasicAWSCredentials creds = new BasicAWSCredentials(&quot;access_key&quot;, &quot;secret_key&quot;); \n\nAmazonS3 s3Client = AmazonS3ClientBuilder\n    .standard()\n    .withCredentials(new AWSStaticCredentialsProvider(creds))\n    .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1033236,"reputation":693,"user_id":1041120,"display_name":"Sid"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1500591065,"creation_date":1494804411,"answer_id":43969735,"question_id":41951978,"body_markdown":"Use the code listed below to create an S3 client without credentials:\r\n\r\n\r\n    AmazonS3 s3Client = AmazonS3ClientBuilder.standard().build();\r\n\r\nAn usage example would be a lambda function calling S3.","title":"AmazonS3Client(credentials) is deprecated","body":"<p>Use the code listed below to create an S3 client without credentials:</p>\n\n<pre><code>AmazonS3 s3Client = AmazonS3ClientBuilder.standard().build();\n</code></pre>\n\n<p>An usage example would be a lambda function calling S3.</p>\n"},{"tags":[],"owner":{"account_id":7908536,"reputation":383,"user_id":5973249,"display_name":"Sach"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511263936,"creation_date":1511263936,"answer_id":47412102,"question_id":41951978,"body_markdown":"You can create S3 default client as follows(with aws-java-sdk-s3-1.11.232):\r\n\r\n    AmazonS3ClientBuilder.defaultClient();","title":"AmazonS3Client(credentials) is deprecated","body":"<p>You can create S3 default client as follows(with aws-java-sdk-s3-1.11.232):</p>\n\n<pre><code>AmazonS3ClientBuilder.defaultClient();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13827153,"reputation":1966,"user_id":9981129,"display_name":"Abhay Pratap"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1568899507,"creation_date":1568899507,"answer_id":58012099,"question_id":41951978,"body_markdown":"You need to pass the region information through the \r\n\r\n    com.amazonaws.regions.Region object.\r\n\r\n    Use AmazonS3Client(credentials, Region.getRegion(Regions.REPLACE_WITH_YOUR_REGION))\r\n\r\n","title":"AmazonS3Client(credentials) is deprecated","body":"<p>You need to pass the region information through the </p>\n\n<pre><code>com.amazonaws.regions.Region object.\n\nUse AmazonS3Client(credentials, Region.getRegion(Regions.REPLACE_WITH_YOUR_REGION))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7354692,"reputation":2388,"user_id":5599807,"accept_rate":97,"display_name":"Siarhei"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587458069,"creation_date":1587458069,"answer_id":61339229,"question_id":41951978,"body_markdown":"Deprecated with only creentials in constructor, you can use something like this:\r\n\r\n     val awsConfiguration = AWSConfiguration(context)\r\n     val awsCreds = CognitoCachingCredentialsProvider(context, awsConfiguration)\r\n     val s3Client = AmazonS3Client(awsCreds, Region.getRegion(Regions.EU_CENTRAL_1))","title":"AmazonS3Client(credentials) is deprecated","body":"<p>Deprecated with only creentials in constructor, you can use something like this:</p>\n\n<pre><code> val awsConfiguration = AWSConfiguration(context)\n val awsCreds = CognitoCachingCredentialsProvider(context, awsConfiguration)\n val s3Client = AmazonS3Client(awsCreds, Region.getRegion(Regions.EU_CENTRAL_1))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6299836,"reputation":467,"user_id":4894821,"display_name":"Santiago Battaglino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590078034,"creation_date":1590078034,"answer_id":61939056,"question_id":41951978,"body_markdown":"    implementation &#39;com.amazonaws:aws-android-sdk-s3:2.16.12&#39;\r\n    \r\n    val key = &quot;XXX&quot;\r\n    val secret = &quot;XXX&quot;\r\n    val credentials = BasicAWSCredentials(key, secret)\r\n    val s3 = AmazonS3Client(\r\n        credentials, com.amazonaws.regions.Region.getRegion(\r\n            Regions.US_EAST_2\r\n        )\r\n    )\r\n    val expires = Date(Date().time + 1000 * 60 * 60)\r\n    \r\n    val keyFile = &quot;13/thumbnail_800x600_13_photo.jpeg&quot;\r\n    val generatePresignedUrlRequest = GeneratePresignedUrlRequest(\r\n        &quot;bucket_name&quot;,\r\n        keyFile\r\n    )\r\n    generatePresignedUrlRequest.expiration = expires\r\n    val url: URL = s3.generatePresignedUrl(generatePresignedUrlRequest)\r\n    \r\n    GlideApp.with(this)\r\n        .load(url.toString())\r\n        .apply(RequestOptions.centerCropTransform())\r\n        .into(image)","title":"AmazonS3Client(credentials) is deprecated","body":"<pre><code>implementation 'com.amazonaws:aws-android-sdk-s3:2.16.12'\n\nval key = \"XXX\"\nval secret = \"XXX\"\nval credentials = BasicAWSCredentials(key, secret)\nval s3 = AmazonS3Client(\n    credentials, com.amazonaws.regions.Region.getRegion(\n        Regions.US_EAST_2\n    )\n)\nval expires = Date(Date().time + 1000 * 60 * 60)\n\nval keyFile = \"13/thumbnail_800x600_13_photo.jpeg\"\nval generatePresignedUrlRequest = GeneratePresignedUrlRequest(\n    \"bucket_name\",\n    keyFile\n)\ngeneratePresignedUrlRequest.expiration = expires\nval url: URL = s3.generatePresignedUrl(generatePresignedUrlRequest)\n\nGlideApp.with(this)\n    .load(url.toString())\n    .apply(RequestOptions.centerCropTransform())\n    .into(image)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18890668,"reputation":2191,"user_id":13781069,"display_name":"exaucae"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639674636,"creation_date":1639674636,"answer_id":70382997,"question_id":41951978,"body_markdown":"Using the AWS SDK for Java 2.x, one can also build its own credentialProvider like so: \r\n\r\n// Credential provider\r\n\r\n```java\r\npackage com.myproxylib.aws;\r\n\r\nimport software.amazon.awssdk.auth.credentials.AwsCredentials;\r\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider;\r\n\r\npublic class CustomCredentialsProvider implements AwsCredentialsProvider {\r\n\r\n    private final String accessKeyId;\r\n    private final String secretAccessKey;\r\n\r\n    public CustomCredentialsProvider(String accessKeyId, String secretAccessKey) {\r\n        this.secretAccessKey = secretAccessKey;\r\n        this.accessKeyId = accessKeyId;\r\n    }\r\n\r\n    @Override\r\n    public AwsCredentials resolveCredentials() {\r\n        return new CustomAwsCredentialsResolver(accessKeyId, secretAccessKey);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n// Crenditals resolver\r\n\r\n```java\r\n\r\npackage com.myproxylib.aws;\r\n\r\nimport software.amazon.awssdk.auth.credentials.AwsCredentials;\r\n\r\npublic class CustomAwsCredentialsResolver implements AwsCredentials {\r\n\r\n    private final String accessKeyId;\r\n    private final String secretAccessKey;\r\n\r\n    CustomAwsCredentialsResolver(String accessKeyId, String secretAccessKey) {\r\n        this.secretAccessKey = secretAccessKey;\r\n        this.accessKeyId = accessKeyId;\r\n    }\r\n\r\n    @Override\r\n    public String accessKeyId() {\r\n        return accessKeyId;\r\n    }\r\n\r\n    @Override\r\n    public String secretAccessKey() {\r\n        return secretAccessKey;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n// Usage of the provider\r\n\r\n```java\r\n\r\npackage com.myproxylib.aws.s3;\r\n\r\npublic class S3Storage implements IS3StorageCapable {\r\n\r\n    private final S3Client s3Client;\r\n\r\n    public S3Storage(String accessKeyId, String secretAccessKey, String region) {\r\n\r\n        this.s3Client = S3Client.builder().credentialsProvider(new CustomCredentialsProvider(accessKeyId, secretAccessKey)).region(of(region)).build();\r\n    }\r\n```\r\n\r\nNOTE: \r\n\r\n1. of course, the library user can get the credentials from wherever he wants, parse it into a java Properties before calling the S3 constructor.\r\n\r\n2. **When possible, favour the other methods mentionned in other answers and doc.** My use case was necessary for this.","title":"AmazonS3Client(credentials) is deprecated","body":"<p>Using the AWS SDK for Java 2.x, one can also build its own credentialProvider like so:</p>\n<p>// Credential provider</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myproxylib.aws;\n\nimport software.amazon.awssdk.auth.credentials.AwsCredentials;\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider;\n\npublic class CustomCredentialsProvider implements AwsCredentialsProvider {\n\n    private final String accessKeyId;\n    private final String secretAccessKey;\n\n    public CustomCredentialsProvider(String accessKeyId, String secretAccessKey) {\n        this.secretAccessKey = secretAccessKey;\n        this.accessKeyId = accessKeyId;\n    }\n\n    @Override\n    public AwsCredentials resolveCredentials() {\n        return new CustomAwsCredentialsResolver(accessKeyId, secretAccessKey);\n    }\n\n}\n\n</code></pre>\n<p>// Crenditals resolver</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage com.myproxylib.aws;\n\nimport software.amazon.awssdk.auth.credentials.AwsCredentials;\n\npublic class CustomAwsCredentialsResolver implements AwsCredentials {\n\n    private final String accessKeyId;\n    private final String secretAccessKey;\n\n    CustomAwsCredentialsResolver(String accessKeyId, String secretAccessKey) {\n        this.secretAccessKey = secretAccessKey;\n        this.accessKeyId = accessKeyId;\n    }\n\n    @Override\n    public String accessKeyId() {\n        return accessKeyId;\n    }\n\n    @Override\n    public String secretAccessKey() {\n        return secretAccessKey;\n    }\n}\n\n</code></pre>\n<p>// Usage of the provider</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage com.myproxylib.aws.s3;\n\npublic class S3Storage implements IS3StorageCapable {\n\n    private final S3Client s3Client;\n\n    public S3Storage(String accessKeyId, String secretAccessKey, String region) {\n\n        this.s3Client = S3Client.builder().credentialsProvider(new CustomCredentialsProvider(accessKeyId, secretAccessKey)).region(of(region)).build();\n    }\n</code></pre>\n<p>NOTE:</p>\n<ol>\n<li><p>of course, the library user can get the credentials from wherever he wants, parse it into a java Properties before calling the S3 constructor.</p>\n</li>\n<li><p><strong>When possible, favour the other methods mentionned in other answers and doc.</strong> My use case was necessary for this.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":7547739,"reputation":1432,"user_id":5730203,"accept_rate":90,"display_name":"Asif Ali"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70167,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"accepted_answer_id":41952575,"answer_count":7,"score":77,"last_activity_date":1658784081,"creation_date":1485847896,"question_id":41951978,"body_markdown":"I&#39;m trying to read the files available on Amazon S3, as the question explains the problem. I couldn&#39;t find an alternative call for the deprecated constructor.\r\n\r\nHere&#39;s the code:\r\n\r\n    private String AccessKeyID = &quot;xxxxxxxxxxxxxxxxxxxx&quot;;\r\n    private String SecretAccessKey = &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;;\r\n    private static String bucketName     = &quot;documentcontainer&quot;;\r\n    private static String keyName     = &quot;test&quot;;\r\n    //private static String uploadFileName    = &quot;/PATH TO FILE WHICH WANT TO UPLOAD/abc.txt&quot;;\r\n\r\n    AWSCredentials credentials = new BasicAWSCredentials(AccessKeyID, SecretAccessKey);\r\n\r\n    void downloadfile() throws IOException\r\n    {\r\n\r\n        // Problem lies here - AmazonS3Client is deprecated\r\n        AmazonS3 s3client = new AmazonS3Client(credentials);\r\n            try {\r\n            System.out.println(&quot;Downloading an object...&quot;);\r\n            S3Object s3object = s3client.getObject(new GetObjectRequest(\r\n                    bucketName, keyName));\r\n            System.out.println(&quot;Content-Type: &quot;  +\r\n                    s3object.getObjectMetadata().getContentType());\r\n            InputStream input = s3object.getObjectContent();\r\n\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(input));\r\n            while (true) {\r\n                String line = reader.readLine();\r\n                if (line == null) break;\r\n\r\n                System.out.println(&quot;    &quot; + line);\r\n            }\r\n            System.out.println();\r\n        } catch (AmazonServiceException ase) {\r\n              //do something\r\n        } catch (AmazonClientException ace) {\r\n            // do something\r\n        }\r\n     }\r\n\r\nAny help? If more explanation is needed please mention it.\r\nI have checked on the sample code provided in .zip file of SDK, and it&#39;s the same.","title":"AmazonS3Client(credentials) is deprecated","body":"<p>I'm trying to read the files available on Amazon S3, as the question explains the problem. I couldn't find an alternative call for the deprecated constructor.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>private String AccessKeyID = \"xxxxxxxxxxxxxxxxxxxx\";\nprivate String SecretAccessKey = \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxx\";\nprivate static String bucketName     = \"documentcontainer\";\nprivate static String keyName     = \"test\";\n//private static String uploadFileName    = \"/PATH TO FILE WHICH WANT TO UPLOAD/abc.txt\";\n\nAWSCredentials credentials = new BasicAWSCredentials(AccessKeyID, SecretAccessKey);\n\nvoid downloadfile() throws IOException\n{\n\n    // Problem lies here - AmazonS3Client is deprecated\n    AmazonS3 s3client = new AmazonS3Client(credentials);\n        try {\n        System.out.println(\"Downloading an object...\");\n        S3Object s3object = s3client.getObject(new GetObjectRequest(\n                bucketName, keyName));\n        System.out.println(\"Content-Type: \"  +\n                s3object.getObjectMetadata().getContentType());\n        InputStream input = s3object.getObjectContent();\n\n        BufferedReader reader = new BufferedReader(new InputStreamReader(input));\n        while (true) {\n            String line = reader.readLine();\n            if (line == null) break;\n\n            System.out.println(\"    \" + line);\n        }\n        System.out.println();\n    } catch (AmazonServiceException ase) {\n          //do something\n    } catch (AmazonClientException ace) {\n        // do something\n    }\n }\n</code></pre>\n\n<p>Any help? If more explanation is needed please mention it.\nI have checked on the sample code provided in .zip file of SDK, and it's the same.</p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1658785384,"post_id":73115416,"comment_id":129133700,"body_markdown":"While this is *interesting*, it isn&#39;t a question.","body":"While this is <i>interesting</i>, it isn&#39;t a question."}],"answers":[{"tags":[],"owner":{"account_id":5646686,"reputation":179,"user_id":4468509,"display_name":"unds"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658783633,"creation_date":1658783633,"answer_id":73115417,"question_id":73115416,"body_markdown":"Tried with different with different versions of gradle and switched back to java 1.8, but didn&#39;t help. \r\n\r\nFinally, updated the Intellij to latest version 2022.1.4 from 2019, then this disappeared.","title":"On update to Java 17, Intellij started with this error : Unable to find method StringGroovyMethods.capitalize(java.lang.String)","body":"<p>Tried with different with different versions of gradle and switched back to java 1.8, but didn't help.</p>\n<p>Finally, updated the Intellij to latest version 2022.1.4 from 2019, then this disappeared.</p>\n"}],"owner":{"account_id":5646686,"reputation":179,"user_id":4468509,"display_name":"unds"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658783633,"creation_date":1658783633,"question_id":73115416,"body_markdown":"My Intellij IDE was good and never had any issue with different gradle version, but the moment have updated the Java version from 1.8 to 17, started seeing this error\r\n\r\nI had spent lot of time on this issue, by going through all the suggestions here and in other threads.\r\n\r\n&gt; Unable to find method &#39;&#39;java.lang.String org.codehaus.groovy.runtime.StringGroovyMethods.capitalize(java.lang.String)&#39;&#39;.\r\nPossible causes for this unexpected error include:\r\nGradle&#39;s dependency cache may be corrupt (this sometimes occurs after a network connection timeout.)\r\nRe-download dependencies and sync project (requires network)\r\n\r\nThe state of a Gradle build process (daemon) may be corrupt. Stopping all Gradle daemons may solve this problem.\r\nStop Gradle build processes (requires restart)\r\n\r\nYour project may be using a third-party plugin which is not compatible with the other plugins in the project or the version of Gradle requested by the project.\r\n\r\nIn the case of corrupt Gradle processes, you can also try closing the IDE and then killing all Java processes.","title":"On update to Java 17, Intellij started with this error : Unable to find method StringGroovyMethods.capitalize(java.lang.String)","body":"<p>My Intellij IDE was good and never had any issue with different gradle version, but the moment have updated the Java version from 1.8 to 17, started seeing this error</p>\n<p>I had spent lot of time on this issue, by going through all the suggestions here and in other threads.</p>\n<blockquote>\n<p>Unable to find method ''java.lang.String org.codehaus.groovy.runtime.StringGroovyMethods.capitalize(java.lang.String)''.\nPossible causes for this unexpected error include:\nGradle's dependency cache may be corrupt (this sometimes occurs after a network connection timeout.)\nRe-download dependencies and sync project (requires network)</p>\n</blockquote>\n<p>The state of a Gradle build process (daemon) may be corrupt. Stopping all Gradle daemons may solve this problem.\nStop Gradle build processes (requires restart)</p>\n<p>Your project may be using a third-party plugin which is not compatible with the other plugins in the project or the version of Gradle requested by the project.</p>\n<p>In the case of corrupt Gradle processes, you can also try closing the IDE and then killing all Java processes.</p>\n"},{"tags":["java","performance","jakarta-ee","arrays","fileinputstream"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1487350313,"creation_date":1383808324,"answer_id":19829979,"question_id":19829955,"body_markdown":"&gt; I have a zip file and after decoding it I get a byte array now I want to create a FileInputStream object with that byte[] object. \r\n\r\nBut you don&#39;t have a file. You have some data in memory. So a `FileInputStream` is inappropriate - there&#39;s no file for it to read from.\r\n\r\nIf possible, use a `ByteArrayInputStream` instead:\r\n\r\n    InputStream input = new ByteArrayInputStream(decodedHeaderFileZip);\r\n\r\nWhere possible, express your API in terms of `InputStream`, `Reader` etc rather than any specific implementation - that allows you to be flexible in which implementation you use. (What I mean is that where possible, make method parameters and return types `InputStream` rather than `FileInputStream` - so that callers don&#39;t need to provide the specific types.)\r\n\r\nIf you absolutely *have* to create a `FileInputStream`, you&#39;ll need to write the data to a file first.","title":"How to build FileInputStream object with byte array as a parameter","body":"<blockquote>\n  <p>I have a zip file and after decoding it I get a byte array now I want to create a FileInputStream object with that byte[] object. </p>\n</blockquote>\n\n<p>But you don't have a file. You have some data in memory. So a <code>FileInputStream</code> is inappropriate - there's no file for it to read from.</p>\n\n<p>If possible, use a <code>ByteArrayInputStream</code> instead:</p>\n\n<pre><code>InputStream input = new ByteArrayInputStream(decodedHeaderFileZip);\n</code></pre>\n\n<p>Where possible, express your API in terms of <code>InputStream</code>, <code>Reader</code> etc rather than any specific implementation - that allows you to be flexible in which implementation you use. (What I mean is that where possible, make method parameters and return types <code>InputStream</code> rather than <code>FileInputStream</code> - so that callers don't need to provide the specific types.)</p>\n\n<p>If you absolutely <em>have</em> to create a <code>FileInputStream</code>, you'll need to write the data to a file first.</p>\n"}],"owner":{"account_id":1779576,"reputation":620,"user_id":1622651,"accept_rate":50,"display_name":"Rauf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43166,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":19829979,"answer_count":1,"score":8,"last_activity_date":1658783424,"creation_date":1383808218,"question_id":19829955,"body_markdown":"I have a zip file and after decoding it I get a byte array now I want to create a FileInputStream object with that byte[] object. I dont want to create a file instead pass data content do FileInputStream.\r\nIs there any way ?\r\n\r\nfollowing is the code:\r\n\r\n    byte[] decodedHeaderFileZip = decodeHeaderZipFile(headerExportFile);\r\n    FileInputStream fileInputStream = new FileInputStream(decodedHeaderZipFileString);\r\n\r\nEDIT:\r\nI wanted to build a ZipInputStream object with a FileInputStream.","title":"How to build FileInputStream object with byte array as a parameter","body":"<p>I have a zip file and after decoding it I get a byte array now I want to create a FileInputStream object with that byte[] object. I dont want to create a file instead pass data content do FileInputStream.\nIs there any way ?</p>\n\n<p>following is the code:</p>\n\n<pre><code>byte[] decodedHeaderFileZip = decodeHeaderZipFile(headerExportFile);\nFileInputStream fileInputStream = new FileInputStream(decodedHeaderZipFileString);\n</code></pre>\n\n<p>EDIT:\nI wanted to build a ZipInputStream object with a FileInputStream.</p>\n"},{"tags":["java","drawing","shapes","geotools"],"comments":[{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":1,"creation_date":1636234414,"post_id":69867689,"comment_id":123503825,"body_markdown":"Does https://gis.stackexchange.com/a/205751/79 help?","body":"Does <a href=\"https://gis.stackexchange.com/a/205751/79\">gis.stackexchange.com/a/205751/79</a> help?"}],"answers":[{"tags":[],"owner":{"account_id":23258902,"reputation":11,"user_id":17345507,"display_name":"LumH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636582844,"creation_date":1636582844,"answer_id":69920901,"question_id":69867689,"body_markdown":"Thanks, Ian!\r\n\r\nI modified the algorithm in your [link][1] to just create an arc (left to right) from a given radius, startAngle, sectorAngle to return an array of Coordinates.\r\n\r\nI would create an arc with the outer radius, then create the 2nd arc with the inner radius. I would combine the 2 two arrays by adding the inner radius arc in reverse, then I would add the first point of outer radius arc to close the polygon.\r\n\r\n\r\n  [1]: https://gis.stackexchange.com/a/205751/79","title":"geotools - creating a fan shape","body":"<p>Thanks, Ian!</p>\n<p>I modified the algorithm in your <a href=\"https://gis.stackexchange.com/a/205751/79\">link</a> to just create an arc (left to right) from a given radius, startAngle, sectorAngle to return an array of Coordinates.</p>\n<p>I would create an arc with the outer radius, then create the 2nd arc with the inner radius. I would combine the 2 two arrays by adding the inner radius arc in reverse, then I would add the first point of outer radius arc to close the polygon.</p>\n"}],"owner":{"account_id":23258902,"reputation":11,"user_id":17345507,"display_name":"LumH"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658782491,"creation_date":1636230676,"question_id":69867689,"body_markdown":"I&#39;m new to using geotools, and I would like to be able to draw fan shape - just the outline of the blue area.\r\n\r\n[![Fan shape example][2]][2]\r\n\r\nThe parameters are:\r\n\r\n 1. Inner radius\r\n 2. Outer radius\r\n 3. Anchor position (centre)\r\n 4. Start sector angle\r\n 5. End sector angle\r\n\r\nAppreciate your help!\r\n\r\n  [1]: https://i.stack.imgur.com/92TIN.png\r\n  [2]: https://i.stack.imgur.com/QokGD.png","title":"geotools - creating a fan shape","body":"<p>I'm new to using geotools, and I would like to be able to draw fan shape - just the outline of the blue area.</p>\n<p><a href=\"https://i.stack.imgur.com/QokGD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QokGD.png\" alt=\"Fan shape example\" /></a></p>\n<p>The parameters are:</p>\n<ol>\n<li>Inner radius</li>\n<li>Outer radius</li>\n<li>Anchor position (centre)</li>\n<li>Start sector angle</li>\n<li>End sector angle</li>\n</ol>\n<p>Appreciate your help!</p>\n"},{"tags":["java","multithreading","concurrency","compare-and-swap"],"comments":[{"owner":{"account_id":3298842,"reputation":14301,"user_id":2775450,"accept_rate":71,"display_name":"Codebender"},"score":2,"creation_date":1465444581,"post_id":37716360,"comment_id":62906180,"body_markdown":"How would you do it if you want to set the value to `100` **if and only if the current value is `300`** for example. You cannot read the value and compare it yourself, because during your comparison some other thread could have updated the value.","body":"How would you do it if you want to set the value to <code>100</code> <b>if and only if the current value is <code>300</code></b> for example. You cannot read the value and compare it yourself, because during your comparison some other thread could have updated the value."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":3,"creation_date":1465486425,"post_id":37716360,"comment_id":62931905,"body_markdown":"Thread-safety is not _composeable_.  I.e., Building something entirely out of thread-safe classes will _not_ guarantee that the thing you built is thread-safe.  If your program naively performs an atomic compare operation followed by an atomic set operation, that _sequence_ of operations is not atomic.","body":"Thread-safety is not <i>composeable</i>.  I.e., Building something entirely out of thread-safe classes will <i>not</i> guarantee that the thing you built is thread-safe.  If your program naively performs an atomic compare operation followed by an atomic set operation, that <i>sequence</i> of operations is not atomic."}],"answers":[{"tags":[],"owner":{"account_id":2414779,"reputation":14072,"user_id":2109070,"accept_rate":62,"display_name":"Trying"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1465449900,"creation_date":1465444091,"answer_id":37716427,"question_id":37716360,"body_markdown":"There are two important concepts in multithreading environment.\r\n\r\n1. atomicity\r\n2. visibility\r\n\r\n`Volatile` solves the visibility problem but it does not deal with atomicity e.g. i++. Here i++ is not a single machine instruction rather it is three machine instructions.\r\n\r\n1. copy the value to register\r\n2. increment it\r\n3. place it back\r\n\r\n`AtomicInteger`, `AtomicReference` are based on the Compare and swap instruction. CAS has three operands a memory location V on which to operate, the expected old value A, and the new value B. CAS atomically updates V to the new value B, but only if the value in V matches the expected old value A; otherwise it does nothing. In either case, it returns the value currently in V. This is used by JVM in `AtomicInteger`, `AtomicReference` and they call the function as `compareAndSet()` if this functionality is not supported by underlying processor then JVM implements it by spin lock. \r\n\r\nSet is atomic (it is not always correct) but compare and then set is not atomic. So when you have a requirement for this ***e.g. when the value is X then only change to Y so to do this atomically you need this kind of primitives*** you can use compareAndSet of `AtomicInteger`, `AtomicReference` e.g. `atomicLong.compareAndSet(long expect, long update) `\r\n\r\nYou can actually use this primitives to develop powerful datastrucutures like Concurrent stack.\r\n\r\n\r\n    import java.util.concurrent.atomic.AtomicReference;\r\n    \r\n    public class MyConcurrentStack&lt;T&gt; {\r\n    \r\n        private AtomicReference&lt;Node&gt; head = new AtomicReference&lt;Node&gt;();\r\n    \r\n        public MyConcurrentStack() {\r\n        }\r\n    \r\n        public void push(T t) {\r\n            if (t == null) {\r\n                return;\r\n            }\r\n            Node&lt;T&gt; n = new Node&lt;T&gt;(t);\r\n            Node&lt;T&gt; current;\r\n    \r\n            do {\r\n                current = head.get();\r\n                n.setNext(current);\r\n            } while (!head.compareAndSet(current, n));\r\n        }\r\n    \r\n        public T pop() {\r\n            Node&lt;T&gt; currentHead = null;\r\n            Node&lt;T&gt; futureHead = null;\r\n            do {\r\n                currentHead = head.get();\r\n                if (currentHead == null) {\r\n                    return null;\r\n                }\r\n                futureHead = currentHead.next;\r\n            } while (!head.compareAndSet(currentHead, futureHead));\r\n    \r\n            return currentHead.data;\r\n        }\r\n    \r\n        /**\r\n         *\r\n         * @return null if no element present else return a element. it does not\r\n         * remove the element from the stack.\r\n         */\r\n        public T peek() {\r\n            Node&lt;T&gt; n = head.get();\r\n            if (n == null) {\r\n                return null;\r\n            } else {\r\n                return n.data;\r\n            }\r\n        }\r\n    \r\n        public boolean isEmpty() {\r\n            if (head.get() == null) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        private static class Node&lt;T&gt; {\r\n    \r\n            private final T data;\r\n            private Node&lt;T&gt; next;\r\n    \r\n            private Node(T data) {\r\n                this.data = data;\r\n            }\r\n    \r\n            private void setNext(Node next) {\r\n                this.next = next;\r\n            }\r\n        }\r\n    }","title":"Why do we need to compareAndSet when set is already atomic in Java?","body":"<p>There are two important concepts in multithreading environment.</p>\n\n<ol>\n<li>atomicity</li>\n<li>visibility</li>\n</ol>\n\n<p><code>Volatile</code> solves the visibility problem but it does not deal with atomicity e.g. i++. Here i++ is not a single machine instruction rather it is three machine instructions.</p>\n\n<ol>\n<li>copy the value to register</li>\n<li>increment it</li>\n<li>place it back</li>\n</ol>\n\n<p><code>AtomicInteger</code>, <code>AtomicReference</code> are based on the Compare and swap instruction. CAS has three operands a memory location V on which to operate, the expected old value A, and the new value B. CAS atomically updates V to the new value B, but only if the value in V matches the expected old value A; otherwise it does nothing. In either case, it returns the value currently in V. This is used by JVM in <code>AtomicInteger</code>, <code>AtomicReference</code> and they call the function as <code>compareAndSet()</code> if this functionality is not supported by underlying processor then JVM implements it by spin lock. </p>\n\n<p>Set is atomic (it is not always correct) but compare and then set is not atomic. So when you have a requirement for this <strong><em>e.g. when the value is X then only change to Y so to do this atomically you need this kind of primitives</em></strong> you can use compareAndSet of <code>AtomicInteger</code>, <code>AtomicReference</code> e.g. <code>atomicLong.compareAndSet(long expect, long update)</code></p>\n\n<p>You can actually use this primitives to develop powerful datastrucutures like Concurrent stack.</p>\n\n<pre><code>import java.util.concurrent.atomic.AtomicReference;\n\npublic class MyConcurrentStack&lt;T&gt; {\n\n    private AtomicReference&lt;Node&gt; head = new AtomicReference&lt;Node&gt;();\n\n    public MyConcurrentStack() {\n    }\n\n    public void push(T t) {\n        if (t == null) {\n            return;\n        }\n        Node&lt;T&gt; n = new Node&lt;T&gt;(t);\n        Node&lt;T&gt; current;\n\n        do {\n            current = head.get();\n            n.setNext(current);\n        } while (!head.compareAndSet(current, n));\n    }\n\n    public T pop() {\n        Node&lt;T&gt; currentHead = null;\n        Node&lt;T&gt; futureHead = null;\n        do {\n            currentHead = head.get();\n            if (currentHead == null) {\n                return null;\n            }\n            futureHead = currentHead.next;\n        } while (!head.compareAndSet(currentHead, futureHead));\n\n        return currentHead.data;\n    }\n\n    /**\n     *\n     * @return null if no element present else return a element. it does not\n     * remove the element from the stack.\n     */\n    public T peek() {\n        Node&lt;T&gt; n = head.get();\n        if (n == null) {\n            return null;\n        } else {\n            return n.data;\n        }\n    }\n\n    public boolean isEmpty() {\n        if (head.get() == null) {\n            return true;\n        }\n        return false;\n    }\n\n    private static class Node&lt;T&gt; {\n\n        private final T data;\n        private Node&lt;T&gt; next;\n\n        private Node(T data) {\n            this.data = data;\n        }\n\n        private void setNext(Node next) {\n            this.next = next;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1465444505,"creation_date":1465444505,"answer_id":37716509,"question_id":37716360,"body_markdown":"A simple write operation is inherently atomic (in most cases). There&#39;s nothing special about `set()`. If you look at the [source code][1] for `AtomicInteger.set()`, you&#39;ll see this:\r\n\r\n    public final void set(int newValue) {\r\n        value = newValue;\r\n    }\r\n\r\nThe magic of atomic classes is that they can *read and modify* atomically. In a multi-threaded environment, if you try to implement compare-and-set logic using a simple `if`, you might read a value, run some calculation and try to update the variable. But between your read and write operations, the value could have been updated by another thread, invalidating your calculation. Atomic classes make sure that nothing gets between your reads and writes. Hence the `compareAndSet()` methods, along with `getAndSet()`, `getAndIncrement()` etc. \r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/concurrent/atomic/AtomicInteger.java#AtomicInteger.set%28int%29","title":"Why do we need to compareAndSet when set is already atomic in Java?","body":"<p>A simple write operation is inherently atomic (in most cases). There's nothing special about <code>set()</code>. If you look at the <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/concurrent/atomic/AtomicInteger.java#AtomicInteger.set%28int%29\" rel=\"nofollow\">source code</a> for <code>AtomicInteger.set()</code>, you'll see this:</p>\n\n<pre><code>public final void set(int newValue) {\n    value = newValue;\n}\n</code></pre>\n\n<p>The magic of atomic classes is that they can <em>read and modify</em> atomically. In a multi-threaded environment, if you try to implement compare-and-set logic using a simple <code>if</code>, you might read a value, run some calculation and try to update the variable. But between your read and write operations, the value could have been updated by another thread, invalidating your calculation. Atomic classes make sure that nothing gets between your reads and writes. Hence the <code>compareAndSet()</code> methods, along with <code>getAndSet()</code>, <code>getAndIncrement()</code> etc. </p>\n"},{"tags":[],"owner":{"account_id":3173126,"reputation":724,"user_id":2894399,"accept_rate":100,"display_name":"Abylay Sabirgaliyev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465444552,"creation_date":1465444552,"answer_id":37716517,"question_id":37716360,"body_markdown":"`Set` is atomic and used to set a new value. `compareAndSet` compares old value and if it equals to current value, sets new value. If we use `set` instead of `compareAndSet`:\r\n\r\n    if(atomic.get().equals(12)) {\r\n        atomic.set(13);\r\n    }\r\n\r\nThis will not be thread-safe, because it causes race condition. Result of execution depends on the timing and order of threads. For example, when thread1 gets the value, thread2 can change it. Compound operations such as check-and-act, read-modify-write must be executed as atomic.","title":"Why do we need to compareAndSet when set is already atomic in Java?","body":"<p><code>Set</code> is atomic and used to set a new value. <code>compareAndSet</code> compares old value and if it equals to current value, sets new value. If we use <code>set</code> instead of <code>compareAndSet</code>:</p>\n\n<pre><code>if(atomic.get().equals(12)) {\n    atomic.set(13);\n}\n</code></pre>\n\n<p>This will not be thread-safe, because it causes race condition. Result of execution depends on the timing and order of threads. For example, when thread1 gets the value, thread2 can change it. Compound operations such as check-and-act, read-modify-write must be executed as atomic.</p>\n"},{"tags":[],"owner":{"account_id":395827,"reputation":5063,"user_id":758991,"accept_rate":55,"display_name":"Ruslan Stelmachenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1658782262,"creation_date":1465445127,"answer_id":37716606,"question_id":37716360,"body_markdown":"You use [compareAndSet](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicReference.html#compareAndSet-V-V-) when you need to *update* some data already existent in AtomicReference and then put it back to this reference.\r\n\r\nFor example: you need to increment a value from several threads (or update it in any other way).\r\n\r\n    Integer n = new Integer(10);\r\n    AtomicReference&lt;Integer&gt; ref = new AtomicReference&lt;&gt;(n);\r\n    \r\n    // later...\r\n    int i = ref.get().intValue(); // i == 10\r\n    \r\n    // some other thread increments the value in ref and now it is 11\r\n    \r\n    ref.set(new Integer(i + 1));\r\n    \r\n    // Oops! Now ref contains 11, but should be 12.\r\n\r\nBut with `compareAndSet` we could increase it atomically.\r\n\r\n    Integer n = new Integer(10);\r\n    AtomicReference&lt;Integer&gt; ref = new AtomicReference&lt;&gt;(n);\r\n    \r\n    // later...\r\n\r\n    boolean success = false;\r\n    do {\r\n        Integer old = ref.get(); // old == 10 on first pass, 11 on second pass\r\n        // On first pass some other thread incrments the value in ref and now it is 11\r\n        Integer updated = new Integer(old + 1);\r\n        success = ref.compareAndSet(old, updated);\r\n        // On first pass success will be false and value in ref will not update\r\n    } while (!success);\r\n    \r\n    // Now ref contains 12 if other thread increments it to 11 between get and set.\r\n","title":"Why do we need to compareAndSet when set is already atomic in Java?","body":"<p>You use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicReference.html#compareAndSet-V-V-\" rel=\"nofollow noreferrer\">compareAndSet</a> when you need to <em>update</em> some data already existent in AtomicReference and then put it back to this reference.</p>\n<p>For example: you need to increment a value from several threads (or update it in any other way).</p>\n<pre><code>Integer n = new Integer(10);\nAtomicReference&lt;Integer&gt; ref = new AtomicReference&lt;&gt;(n);\n\n// later...\nint i = ref.get().intValue(); // i == 10\n\n// some other thread increments the value in ref and now it is 11\n\nref.set(new Integer(i + 1));\n\n// Oops! Now ref contains 11, but should be 12.\n</code></pre>\n<p>But with <code>compareAndSet</code> we could increase it atomically.</p>\n<pre><code>Integer n = new Integer(10);\nAtomicReference&lt;Integer&gt; ref = new AtomicReference&lt;&gt;(n);\n\n// later...\n\nboolean success = false;\ndo {\n    Integer old = ref.get(); // old == 10 on first pass, 11 on second pass\n    // On first pass some other thread incrments the value in ref and now it is 11\n    Integer updated = new Integer(old + 1);\n    success = ref.compareAndSet(old, updated);\n    // On first pass success will be false and value in ref will not update\n} while (!success);\n\n// Now ref contains 12 if other thread increments it to 11 between get and set.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23116260,"reputation":31,"user_id":17223457,"display_name":"user17223457"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634938958,"creation_date":1634938958,"answer_id":69683353,"question_id":37716360,"body_markdown":"`compareAndSet` is an essential primitive for [non-blocking algorithms](https://en.wikipedia.org/wiki/Non-blocking_algorithm).  \r\n\r\nFor example, it&#39;s basically impossible to implement [wait-free](https://en.wikipedia.org/wiki/Non-blocking_algorithm#Wait-freedom) algorithms with `atomic read/write` only ‚Äî there must be `compareAndSet` or something similar.\r\n\r\n`compareAndSet` is much more powerful that `atomic read/write`.  \r\nThe power is expressed in [consensus number](https://en.wikipedia.org/wiki/Consensus_(computer_science)#Consensus_number):\r\n- `compareAndSet` has consensus number infinity\r\n- `atomic read/write` has consensus number 1\r\n\r\nConsensus number is the maximum number of threads for which the concurrent object can solve a [consensus problem](https://en.wikipedia.org/wiki/Consensus_(computer_science)#Problem_description) (threads propose their candidate values and agree on a single consensus value) in a [wait-free](https://en.wikipedia.org/wiki/Non-blocking_algorithm#Wait-freedom) (i.e. without blocking, every thread is guaranteed to complete in no more that some fixed max number of steps) implementation.  \r\nIt was proven that objects with consensus number of `n` can implement any object with a consensus number of `n` or lower, but cannot implement any objects with higher consensus number.\r\n\r\nMore explanations can be found in &quot;The Art of Multiprocessor Programming&quot; by M. Herlihy and N. Shavit.","title":"Why do we need to compareAndSet when set is already atomic in Java?","body":"<p><code>compareAndSet</code> is an essential primitive for <a href=\"https://en.wikipedia.org/wiki/Non-blocking_algorithm\" rel=\"nofollow noreferrer\">non-blocking algorithms</a>.</p>\n<p>For example, it's basically impossible to implement <a href=\"https://en.wikipedia.org/wiki/Non-blocking_algorithm#Wait-freedom\" rel=\"nofollow noreferrer\">wait-free</a> algorithms with <code>atomic read/write</code> only ‚Äî there must be <code>compareAndSet</code> or something similar.</p>\n<p><code>compareAndSet</code> is much more powerful that <code>atomic read/write</code>.<br />\nThe power is expressed in <a href=\"https://en.wikipedia.org/wiki/Consensus_(computer_science)#Consensus_number\" rel=\"nofollow noreferrer\">consensus number</a>:</p>\n<ul>\n<li><code>compareAndSet</code> has consensus number infinity</li>\n<li><code>atomic read/write</code> has consensus number 1</li>\n</ul>\n<p>Consensus number is the maximum number of threads for which the concurrent object can solve a <a href=\"https://en.wikipedia.org/wiki/Consensus_(computer_science)#Problem_description\" rel=\"nofollow noreferrer\">consensus problem</a> (threads propose their candidate values and agree on a single consensus value) in a <a href=\"https://en.wikipedia.org/wiki/Non-blocking_algorithm#Wait-freedom\" rel=\"nofollow noreferrer\">wait-free</a> (i.e. without blocking, every thread is guaranteed to complete in no more that some fixed max number of steps) implementation.<br />\nIt was proven that objects with consensus number of <code>n</code> can implement any object with a consensus number of <code>n</code> or lower, but cannot implement any objects with higher consensus number.</p>\n<p>More explanations can be found in &quot;The Art of Multiprocessor Programming&quot; by M. Herlihy and N. Shavit.</p>\n"}],"owner":{"account_id":2103408,"reputation":6138,"user_id":1870400,"accept_rate":42,"display_name":"user1870400"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7009,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":5,"score":13,"last_activity_date":1658782262,"creation_date":1465443611,"question_id":37716360,"body_markdown":"Since Atomic means thread safe. When do we ever use compareAndSet when .set() itself is Atomic and thread safe in java?\r\n\r\nsay for example I want to set a variable atomically such that every other thread can see it (but I want the variable to be set in a thread safe manner) I could simple declare it as volatile AtomicBoolean or volatile AtomicInteger and that should be good right? what are some of cases where I need to use compareAndSet?","title":"Why do we need to compareAndSet when set is already atomic in Java?","body":"<p>Since Atomic means thread safe. When do we ever use compareAndSet when .set() itself is Atomic and thread safe in java?</p>\n\n<p>say for example I want to set a variable atomically such that every other thread can see it (but I want the variable to be set in a thread safe manner) I could simple declare it as volatile AtomicBoolean or volatile AtomicInteger and that should be good right? what are some of cases where I need to use compareAndSet?</p>\n"},{"tags":["java","android","callback","internet-connection","network-connection"],"comments":[{"owner":{"account_id":4261644,"reputation":91,"user_id":3485876,"display_name":"V.C."},"score":0,"creation_date":1594989604,"post_id":62953726,"comment_id":111327461,"body_markdown":"You register a new default NetworkCallback which goes off and does some work in another thread. In the mean time the value of isNetworkConnected is logged twice: Net_Var_End, and Net_Var_Main. Your main goes off and displays this for you. Later the NetworkCallback finally gets to the onAvailable call and changes isNetworkConnected to true.","body":"You register a new default NetworkCallback which goes off and does some work in another thread. In the mean time the value of isNetworkConnected is logged twice: Net_Var_End, and Net_Var_Main. Your main goes off and displays this for you. Later the NetworkCallback finally gets to the onAvailable call and changes isNetworkConnected to true."},{"owner":{"account_id":18021766,"reputation":53,"user_id":13098788,"display_name":"imim"},"score":0,"creation_date":1594989810,"post_id":62953726,"comment_id":111327567,"body_markdown":"Thanks. But why does it go to onAvailable in the case of when there is no internet connection?","body":"Thanks. But why does it go to onAvailable in the case of when there is no internet connection?"},{"owner":{"account_id":4261644,"reputation":91,"user_id":3485876,"display_name":"V.C."},"score":0,"creation_date":1594990319,"post_id":62953726,"comment_id":111327801,"body_markdown":"Are you sure there is no Network available and not just no Internet available? Is the local WiFi off And/Or is the internal Network device inactive or is your DSL connection off?","body":"Are you sure there is no Network available and not just no Internet available? Is the local WiFi off And/Or is the internal Network device inactive or is your DSL connection off?"},{"owner":{"account_id":18021766,"reputation":53,"user_id":13098788,"display_name":"imim"},"score":0,"creation_date":1594990399,"post_id":62953726,"comment_id":111327857,"body_markdown":"The internet is not available. I manually disconnected the WIFI and have no mobile network. That is the case that I am testing. Sorry for the misinformation.","body":"The internet is not available. I manually disconnected the WIFI and have no mobile network. That is the case that I am testing. Sorry for the misinformation."},{"owner":{"account_id":4261644,"reputation":91,"user_id":3485876,"display_name":"V.C."},"score":0,"creation_date":1594992748,"post_id":62953726,"comment_id":111329081,"body_markdown":"It looks like a cell netowork also counts as a network, so only switching off the WiFi will not count on a device with a Simcard. https://stackoverflow.com/questions/53863034/difference-between-registerdefaultnetworkcallback-and-registernetworkcallback  Also dont forget to call the Super on your callback: `super.onAvailable(network);`","body":"It looks like a cell netowork also counts as a network, so only switching off the WiFi will not count on a device with a Simcard. <a href=\"https://stackoverflow.com/questions/53863034/difference-between-registerdefaultnetworkcallback-and-registernetworkcallback\" title=\"difference between registerdefaultnetworkcallback and registernetworkcallback\">stackoverflow.com/questions/53863034/&hellip;</a>  Also dont forget to call the Super on your callback: <code>super.onAvailable(network);</code>"},{"owner":{"account_id":18021766,"reputation":53,"user_id":13098788,"display_name":"imim"},"score":0,"creation_date":1594992833,"post_id":62953726,"comment_id":111329120,"body_markdown":"Ok thanks. What is the best way to test if an internet connection is available or not, be it WIFI (connected or connected but no internet available) or mobile network?","body":"Ok thanks. What is the best way to test if an internet connection is available or not, be it WIFI (connected or connected but no internet available) or mobile network?"},{"owner":{"account_id":4261644,"reputation":91,"user_id":3485876,"display_name":"V.C."},"score":0,"creation_date":1594993253,"post_id":62953726,"comment_id":111329352,"body_markdown":"That link show how to make a caller that differentiates between them, The default one doesnt. You have to set the NetworkCapabilities:   `val builder = NetworkRequest.Builder()\n    builder.addTransportType(NetworkCapabilities.TRANSPORT_CELLULAR) //or NET_CAPABILITY_INTERNET or TRANSPORT_WIFI`","body":"That link show how to make a caller that differentiates between them, The default one doesnt. You have to set the NetworkCapabilities:   <code>val builder = NetworkRequest.Builder()     builder.addTransportType(NetworkCapabilities.TRANSPORT_CELLU&zwnj;&#8203;LAR) &#47;&#47;or NET_CAPABILITY_INTERNET or TRANSPORT_WIFI</code>"},{"owner":{"account_id":18021766,"reputation":53,"user_id":13098788,"display_name":"imim"},"score":0,"creation_date":1595058004,"post_id":62953726,"comment_id":111348158,"body_markdown":"Thanks I have added this, and now note that when WIFI is lost but Cell is available it will present a lost network (from WIFI) and then found network (from mobile network).","body":"Thanks I have added this, and now note that when WIFI is lost but Cell is available it will present a lost network (from WIFI) and then found network (from mobile network)."},{"owner":{"account_id":4261644,"reputation":91,"user_id":3485876,"display_name":"V.C."},"score":0,"creation_date":1595234351,"post_id":62953726,"comment_id":111392813,"body_markdown":"It sounds like you have an answer for your question. Do you have the ability to post answers yet? or do you need more reputation? Maybe you have to edit your question so that others benefit from what you found out. Also if you found any of my comments helpful feel free to upvote them so they are more visible for others.","body":"It sounds like you have an answer for your question. Do you have the ability to post answers yet? or do you need more reputation? Maybe you have to edit your question so that others benefit from what you found out. Also if you found any of my comments helpful feel free to upvote them so they are more visible for others."}],"answers":[{"tags":[],"owner":{"account_id":12044412,"reputation":11,"user_id":8810034,"display_name":"Vladan Starcevic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618751354,"creation_date":1595455499,"answer_id":63043863,"question_id":62953726,"body_markdown":"You can review this code: https://github.com/vladan29/internet_monitor\r\nThis is a working code that notifies subscribed classes about network changes continually.\r\nYou can use standard android receiver instead EventBus but sticky intent is deprecated and you will have problems with start state. \r\nIf you clone this app you can follow the connection state and some other values at the screen of the phone.\r\n\r\nI must add some explanation. You can&#39;t simply use onLost() to detect when there is no internet connection. This has the correct work only if you have one internet in the area. If you have WIFI and CELLULAR available when one starts to lose signal another trigger onAvailable(), but onLost() is triggered later. At that moment you already have an alive connection and isConnected should be true.\r\n\r\nNow, you can use a library at the link:\r\nhttps://github.com/vladan29/internet_checker/blob/master/README.md#internet_checker ","title":"Java Android Check Internet Connection with NetworkCallBack","body":"<p>You can review this code: <a href=\"https://github.com/vladan29/internet_monitor\" rel=\"nofollow noreferrer\">https://github.com/vladan29/internet_monitor</a>\nThis is a working code that notifies subscribed classes about network changes continually.\nYou can use standard android receiver instead EventBus but sticky intent is deprecated and you will have problems with start state.\nIf you clone this app you can follow the connection state and some other values at the screen of the phone.</p>\n<p>I must add some explanation. You can't simply use onLost() to detect when there is no internet connection. This has the correct work only if you have one internet in the area. If you have WIFI and CELLULAR available when one starts to lose signal another trigger onAvailable(), but onLost() is triggered later. At that moment you already have an alive connection and isConnected should be true.</p>\n<p>Now, you can use a library at the link:\n<a href=\"https://github.com/vladan29/internet_checker/blob/master/README.md#internet_checker\" rel=\"nofollow noreferrer\">https://github.com/vladan29/internet_checker/blob/master/README.md#internet_checker</a></p>\n"},{"tags":[],"owner":{"account_id":25857005,"reputation":1,"user_id":19590087,"display_name":"M Mubashir Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658737994,"creation_date":1658523001,"answer_id":73085920,"question_id":62953726,"body_markdown":"```java\r\nprivate ConnectivityManager.NetworkCallback \r\nnetworkCallback = new ConnectivityManager.NetworkCallback() {\r\n\r\n    @Override\r\n    public void onAvailable(@NonNull Network network) {\r\n        super.onAvailable(network);\r\n    }\r\n\r\n    @Override\r\n    public void onLost(@NonNull Network network) {\r\n        super.onLost(network);\r\n    }\r\n\r\n    @Override\r\n    public void onCapabilitiesChanged(@NonNull Network network, @NonNull NetworkCapabilities networkCapabilities) {\r\n        super.onCapabilitiesChanged(network, networkCapabilities);\r\n        final boolean unmetered = networkCapabilities.hasCapability(NetworkCapabilities.NET_CAPABILITY_NOT_METERED);\r\n    }\r\n};\r\n```","title":"Java Android Check Internet Connection with NetworkCallBack","body":"<pre class=\"lang-java prettyprint-override\"><code>private ConnectivityManager.NetworkCallback \nnetworkCallback = new ConnectivityManager.NetworkCallback() {\n\n    @Override\n    public void onAvailable(@NonNull Network network) {\n        super.onAvailable(network);\n    }\n\n    @Override\n    public void onLost(@NonNull Network network) {\n        super.onLost(network);\n    }\n\n    @Override\n    public void onCapabilitiesChanged(@NonNull Network network, @NonNull NetworkCapabilities networkCapabilities) {\n        super.onCapabilitiesChanged(network, networkCapabilities);\n        final boolean unmetered = networkCapabilities.hasCapability(NetworkCapabilities.NET_CAPABILITY_NOT_METERED);\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2619444,"reputation":2641,"user_id":2267817,"accept_rate":75,"display_name":"Always Learning"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658782259,"creation_date":1658782259,"answer_id":73115228,"question_id":62953726,"body_markdown":"`ConnectivityManager#registerDefaultNetworkCallback` will return the *default network* for the device (or the app itself for Android 12+). Now, the default network doesn&#39;t always have full internet connectivity. \r\n\r\nI&#39;m not going to go too deep into how Android sets the default network but to fix you issue, change your call to `registerDefaultNetworkCallback` to instead use `registerNetworkCallback` with a `NetworkRequest` that includes the `VALIDATED` capability like so:\r\n\r\n```\r\nNetworkRequest nr = \r\n    new NetworkRequest.Builder()\r\n    .addCapability(NetworkCapabilities.NET_CAPABILITY_VALIDATED)\r\n    .build();\r\n\r\nconnectivityManager.registerNetworkCallback(\r\n    nr, \r\n    new ConnectivityManager.NetworkCallback(){\r\n        //REST OF YOUR CODE YOU ALREADY HAVE HERE\r\n```\r\n\r\nThis works because now you will only be notified about networks that are `VALIDATED` ([link][1]) as opposed to the default network which may not be `VALIDATED`.\r\n\r\n&gt; NET_CAPABILITY_VALIDATED\r\n&gt;\r\n&gt; Indicates that connectivity on this network was successfully\r\n&gt; validated. For example, for a network with NET_CAPABILITY_INTERNET, it\r\n&gt; means that Internet connectivity was successfully detected.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/net/NetworkCapabilities#NET_CAPABILITY_VALIDATED","title":"Java Android Check Internet Connection with NetworkCallBack","body":"<p><code>ConnectivityManager#registerDefaultNetworkCallback</code> will return the <em>default network</em> for the device (or the app itself for Android 12+). Now, the default network doesn't always have full internet connectivity.</p>\n<p>I'm not going to go too deep into how Android sets the default network but to fix you issue, change your call to <code>registerDefaultNetworkCallback</code> to instead use <code>registerNetworkCallback</code> with a <code>NetworkRequest</code> that includes the <code>VALIDATED</code> capability like so:</p>\n<pre><code>NetworkRequest nr = \n    new NetworkRequest.Builder()\n    .addCapability(NetworkCapabilities.NET_CAPABILITY_VALIDATED)\n    .build();\n\nconnectivityManager.registerNetworkCallback(\n    nr, \n    new ConnectivityManager.NetworkCallback(){\n        //REST OF YOUR CODE YOU ALREADY HAVE HERE\n</code></pre>\n<p>This works because now you will only be notified about networks that are <code>VALIDATED</code> (<a href=\"https://developer.android.com/reference/android/net/NetworkCapabilities#NET_CAPABILITY_VALIDATED\" rel=\"nofollow noreferrer\">link</a>) as opposed to the default network which may not be <code>VALIDATED</code>.</p>\n<blockquote>\n<p>NET_CAPABILITY_VALIDATED</p>\n<p>Indicates that connectivity on this network was successfully\nvalidated. For example, for a network with NET_CAPABILITY_INTERNET, it\nmeans that Internet connectivity was successfully detected.</p>\n</blockquote>\n"}],"owner":{"account_id":18021766,"reputation":53,"user_id":13098788,"display_name":"imim"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6003,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1658782259,"creation_date":1594987992,"question_id":62953726,"body_markdown":"I am attempting to check for an internet connection with a NetworkCallBack. However, my code returns weird results. Please assist. Any help will be appreciated.\r\n\r\nCheckNetwork.java\r\n\r\n        import android.content.Context;\r\n    import android.net.ConnectivityManager;\r\n    import android.net.Network;\r\n    import android.net.NetworkRequest;\r\n    import android.os.Build;\r\n    import android.util.Log;\r\n    \r\n    import androidx.annotation.RequiresApi;\r\n    \r\n    public class CheckNetwork {\r\n    \r\n        private Context context;\r\n        \r\n        public CheckNetwork(Context context) {\r\n            this.context = context;\r\n        }\r\n        \r\n        @RequiresApi(api = Build.VERSION_CODES.N)\r\n        public void registerNetworkCallback()\r\n        {\r\n            try {\r\n                ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n                NetworkRequest.Builder builder = new NetworkRequest.Builder();\r\n    \r\n                connectivityManager.registerDefaultNetworkCallback( new ConnectivityManager.NetworkCallback(){\r\n                                                                       @Override\r\n                                                                       public void onAvailable(Network network) {\r\n                                                                           Log.d(&quot;available&quot;, &quot;internet&quot;);\r\n                                                                           Variables.isNetworkConnected = true;\r\n                                                                           Log.d(&quot;Net_Var_In&quot;, String.valueOf(Variables.isNetworkConnected));\r\n                                                                       }\r\n                                                                       @Override\r\n                                                                       public void onLost(Network network) {\r\n                                                                           Log.d(&quot;not_av&quot;, &quot;internet&quot;);\r\n                                                                           Variables.isNetworkConnected = false;\r\n                                                                       }\r\n                                                                   }\r\n    \r\n                );\r\n            }catch (Exception e){\r\n                e.printStackTrace();\r\n                Variables.isNetworkConnected = false;\r\n            }\r\n    \r\n            Log.d(&quot;Net_Var_End&quot;, String.valueOf(Variables.isNetworkConnected));\r\n    \r\n        }\r\n    }\r\n\r\nMainActivity.java\r\n\r\n    CheckNetwork checkNetwork = new CheckNetwork(getApplicationContext());\r\n        checkNetwork.registerNetworkCallback();\r\n        Log.d(&quot;Net_Var_Main&quot;, String.valueOf(Variables.isNetworkConnected));\r\n\r\n        if(Variables.isNetworkConnected)\r\n        {\r\n            Log.d(&quot;Internet&quot;, &quot;available&quot;);\r\n        }\r\n        else\r\n        {\r\n            setContentView(R.layout.activity_internet);\r\n            return false;\r\n        }\r\n\r\nLogcat:\r\n\r\n**When internet is connected/available: (Even though it prints that internet is available, it still goes to layout_internet..which is the layout for when internet is NOT available)**\r\n\r\n        2020-07-17 14:07:09.735 3671-3671/com.example.scrollingtext D/Net_Var_End: false\r\n    2020-07-17 14:07:09.735 3671-3671/com.example.scrollingtext D/Net_Var_Main: false\r\n    2020-07-17 14:07:09.794 3671-3671/com.example.scrollingtext W/e.scrollingtex: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (light greylist, reflection)\r\n    2020-07-17 14:07:09.795 3671-3671/com.example.scrollingtext W/e.scrollingtex: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (light greylist, reflection)\r\n    2020-07-17 14:07:09.816 3671-3702/com.example.scrollingtext D/available: internet\r\n    2020-07-17 14:07:09.816 3671-3702/com.example.scrollingtext D/Net_Var_In: true\r\n\r\n**When internet is not connected/available: (Even though it prints that internet is available, it still goes to layout_internet..which is the layout for when internet is NOT available)**\r\n\r\n        2020-07-17 14:09:31.611 3744-3744/com.example.scrollingtext D/Net_Var_End: false\r\n    2020-07-17 14:09:31.611 3744-3744/com.example.scrollingtext D/Net_Var_Main: false\r\n    2020-07-17 14:09:31.663 3744-3744/com.example.scrollingtext W/e.scrollingtex: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (light greylist, reflection)\r\n    2020-07-17 14:09:31.663 3744-3744/com.example.scrollingtext W/e.scrollingtex: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (light greylist, reflection)\r\n    2020-07-17 14:09:31.678 3744-3776/com.example.scrollingtext D/available: internet\r\n    2020-07-17 14:09:31.678 3744-3776/com.example.scrollingtext D/Net_Var_In: true\r\n\r\n**EDIT**\r\n\r\nBased on CheckNetwork.java, which monitors the state of the network using a NetworkCallBack..how would you go about changing layout in front of the users screen when OnAvailable() and OnLost() is run? I would like to open layout_internet when OnLost() is run...and then layout_activity_main when OnAvailable is run. This needs to happen from within CheckNetwork. So, it seems that I am looking for access to setContentView (which is only available in MainActivity) from OnAvailable or OnLost. Or is there another way that I can open layout_internet and layout_activity_main when internet is available/lost?","title":"Java Android Check Internet Connection with NetworkCallBack","body":"<p>I am attempting to check for an internet connection with a NetworkCallBack. However, my code returns weird results. Please assist. Any help will be appreciated.</p>\n<p>CheckNetwork.java</p>\n<pre><code>    import android.content.Context;\nimport android.net.ConnectivityManager;\nimport android.net.Network;\nimport android.net.NetworkRequest;\nimport android.os.Build;\nimport android.util.Log;\n\nimport androidx.annotation.RequiresApi;\n\npublic class CheckNetwork {\n\n    private Context context;\n    \n    public CheckNetwork(Context context) {\n        this.context = context;\n    }\n    \n    @RequiresApi(api = Build.VERSION_CODES.N)\n    public void registerNetworkCallback()\n    {\n        try {\n            ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n            NetworkRequest.Builder builder = new NetworkRequest.Builder();\n\n            connectivityManager.registerDefaultNetworkCallback( new ConnectivityManager.NetworkCallback(){\n                                                                   @Override\n                                                                   public void onAvailable(Network network) {\n                                                                       Log.d(&quot;available&quot;, &quot;internet&quot;);\n                                                                       Variables.isNetworkConnected = true;\n                                                                       Log.d(&quot;Net_Var_In&quot;, String.valueOf(Variables.isNetworkConnected));\n                                                                   }\n                                                                   @Override\n                                                                   public void onLost(Network network) {\n                                                                       Log.d(&quot;not_av&quot;, &quot;internet&quot;);\n                                                                       Variables.isNetworkConnected = false;\n                                                                   }\n                                                               }\n\n            );\n        }catch (Exception e){\n            e.printStackTrace();\n            Variables.isNetworkConnected = false;\n        }\n\n        Log.d(&quot;Net_Var_End&quot;, String.valueOf(Variables.isNetworkConnected));\n\n    }\n}\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>CheckNetwork checkNetwork = new CheckNetwork(getApplicationContext());\n    checkNetwork.registerNetworkCallback();\n    Log.d(&quot;Net_Var_Main&quot;, String.valueOf(Variables.isNetworkConnected));\n\n    if(Variables.isNetworkConnected)\n    {\n        Log.d(&quot;Internet&quot;, &quot;available&quot;);\n    }\n    else\n    {\n        setContentView(R.layout.activity_internet);\n        return false;\n    }\n</code></pre>\n<p>Logcat:</p>\n<p><strong>When internet is connected/available: (Even though it prints that internet is available, it still goes to layout_internet..which is the layout for when internet is NOT available)</strong></p>\n<pre><code>    2020-07-17 14:07:09.735 3671-3671/com.example.scrollingtext D/Net_Var_End: false\n2020-07-17 14:07:09.735 3671-3671/com.example.scrollingtext D/Net_Var_Main: false\n2020-07-17 14:07:09.794 3671-3671/com.example.scrollingtext W/e.scrollingtex: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (light greylist, reflection)\n2020-07-17 14:07:09.795 3671-3671/com.example.scrollingtext W/e.scrollingtex: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (light greylist, reflection)\n2020-07-17 14:07:09.816 3671-3702/com.example.scrollingtext D/available: internet\n2020-07-17 14:07:09.816 3671-3702/com.example.scrollingtext D/Net_Var_In: true\n</code></pre>\n<p><strong>When internet is not connected/available: (Even though it prints that internet is available, it still goes to layout_internet..which is the layout for when internet is NOT available)</strong></p>\n<pre><code>    2020-07-17 14:09:31.611 3744-3744/com.example.scrollingtext D/Net_Var_End: false\n2020-07-17 14:09:31.611 3744-3744/com.example.scrollingtext D/Net_Var_Main: false\n2020-07-17 14:09:31.663 3744-3744/com.example.scrollingtext W/e.scrollingtex: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (light greylist, reflection)\n2020-07-17 14:09:31.663 3744-3744/com.example.scrollingtext W/e.scrollingtex: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (light greylist, reflection)\n2020-07-17 14:09:31.678 3744-3776/com.example.scrollingtext D/available: internet\n2020-07-17 14:09:31.678 3744-3776/com.example.scrollingtext D/Net_Var_In: true\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>Based on CheckNetwork.java, which monitors the state of the network using a NetworkCallBack..how would you go about changing layout in front of the users screen when OnAvailable() and OnLost() is run? I would like to open layout_internet when OnLost() is run...and then layout_activity_main when OnAvailable is run. This needs to happen from within CheckNetwork. So, it seems that I am looking for access to setContentView (which is only available in MainActivity) from OnAvailable or OnLost. Or is there another way that I can open layout_internet and layout_activity_main when internet is available/lost?</p>\n"},{"tags":["java","polymorphism","overloading","method-call"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1658687360,"post_id":73100999,"comment_id":129107441,"body_markdown":"Java performs overload resolution at *compile-time*, so based on the compile-time type of the argument, not on the *execution-time* type - that&#39;s what you&#39;re missing.","body":"Java performs overload resolution at <i>compile-time</i>, so based on the compile-time type of the argument, not on the <i>execution-time</i> type - that&#39;s what you&#39;re missing."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658782042,"creation_date":1658687761,"answer_id":73101040,"question_id":73100999,"body_markdown":"You&#39;ve created an infinite recursion in `multiply(Operand)` implementation.\r\n\r\nWhile line `return other.multiply(this);` is executed, method `multiply(Operand)` repeatedly calls itself because it&#39;s the only method accessible for the type `Operand`. It happens because variable `other` is of type `Operand` and it doesn&#39;t know the method `multiply(Value)`, hence the `multiply` call is mapped by the Compiler to `multiply(Operand)`.\r\n\r\nThat&#39;s how you might fix this problem:\r\n\r\n    @Override\r\n    public Operand multiply(Operand other) {  // type of other not known\r\n        System.out.println(&quot;dispatch of &quot; + getClass().getSimpleName() +\r\n            &quot;.multiply(&quot; + other.getClass().getSimpleName()+&quot;)&quot;);\r\n        \r\n        if (other instanceof Value otherValue) {\r\n            return otherValue.multiply(this);  // note that&#39;s not a polymorphic call\r\n        }\r\n        \r\n        throw new RuntimeException(); // todo\r\n    }\r\n\r\nIn this case, compiler will be sure that `multiply()` call should be mapped to the `multiply(Value)`, since it knows the type of the variable `otherValue` and would resolve the method call to the most specific overloaded version which is `multiply(Value)` because `this` is of type `Value`, hence this method is more specific than `multiply(Operand)` which would require performing *widening conversion*.\r\n\r\nHere&#39;s a link to the part of [*Java Language Specification*](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12.1-100) that describes how method resolution works.\r\n\r\nIn short, the compiler needs to find potentially applicable methods based on the type and method name. Then it analyzes method signatures if there&#39;s a method applicable by so-called *strict invocation* (i.e. provided arguments and signature match exactly) no further action is needed (which is the case in all situations described above). Otherwise, compiler would try to apply *widening reference conversion* (in case if argument is of reference type).\r\n\r\nAlso note `multiply(Operand)` and `multiply(Value)` are **overloaded** methods, i.e. they absolutely *independent* and might have different return types, access modifiers and sets of parameters (which totally unacceptable for **overridden** methods).","title":"Isn&#39;t java suppose to match overloaded functions to most specific type?","body":"<p>You've created an infinite recursion in <code>multiply(Operand)</code> implementation.</p>\n<p>While line <code>return other.multiply(this);</code> is executed, method <code>multiply(Operand)</code> repeatedly calls itself because it's the only method accessible for the type <code>Operand</code>. It happens because variable <code>other</code> is of type <code>Operand</code> and it doesn't know the method <code>multiply(Value)</code>, hence the <code>multiply</code> call is mapped by the Compiler to <code>multiply(Operand)</code>.</p>\n<p>That's how you might fix this problem:</p>\n<pre><code>@Override\npublic Operand multiply(Operand other) {  // type of other not known\n    System.out.println(&quot;dispatch of &quot; + getClass().getSimpleName() +\n        &quot;.multiply(&quot; + other.getClass().getSimpleName()+&quot;)&quot;);\n    \n    if (other instanceof Value otherValue) {\n        return otherValue.multiply(this);  // note that's not a polymorphic call\n    }\n    \n    throw new RuntimeException(); // todo\n}\n</code></pre>\n<p>In this case, compiler will be sure that <code>multiply()</code> call should be mapped to the <code>multiply(Value)</code>, since it knows the type of the variable <code>otherValue</code> and would resolve the method call to the most specific overloaded version which is <code>multiply(Value)</code> because <code>this</code> is of type <code>Value</code>, hence this method is more specific than <code>multiply(Operand)</code> which would require performing <em>widening conversion</em>.</p>\n<p>Here's a link to the part of <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12.1-100\" rel=\"nofollow noreferrer\"><em>Java Language Specification</em></a> that describes how method resolution works.</p>\n<p>In short, the compiler needs to find potentially applicable methods based on the type and method name. Then it analyzes method signatures if there's a method applicable by so-called <em>strict invocation</em> (i.e. provided arguments and signature match exactly) no further action is needed (which is the case in all situations described above). Otherwise, compiler would try to apply <em>widening reference conversion</em> (in case if argument is of reference type).</p>\n<p>Also note <code>multiply(Operand)</code> and <code>multiply(Value)</code> are <strong>overloaded</strong> methods, i.e. they absolutely <em>independent</em> and might have different return types, access modifiers and sets of parameters (which totally unacceptable for <strong>overridden</strong> methods).</p>\n"}],"owner":{"account_id":8917850,"reputation":51,"user_id":6655734,"display_name":"Jeffrey Wiegley"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1658688240,"accepted_answer_id":73101040,"answer_count":1,"score":3,"last_activity_date":1658782042,"creation_date":1658687259,"question_id":73100999,"body_markdown":"I have a set of derived classes (mathematical values, such as Length, Angle, Value) and I&#39;m defining calculation functions for them. The overloaded functions aren&#39;t being called as I expected. Problem boiled down to simple form...\r\n\r\n    public abstract class Operand {\r\n\r\n        public abstract Operand multiply(Operand other);\r\n\r\n        public static void main(String[] args) {\r\n            try {\r\n                Operand x = new Value(5);\r\n                Value y = new Value(6);\r\n                Operand z = x.multiply(y);\r\n                System.out.println(z);\r\n            } catch (Throwable e) {\r\n                e.printStackTrace(System.out);\r\n            }\r\n        }\r\n    }\r\n\r\n    public class Value extends Operand {\r\n        final double value;\r\n\r\n        Value(double arg) { value = arg; }\r\n        @Override\r\n        public Operand multiply(Operand other) {  // type of other not known\r\n            System.out.println(&quot;dispatch of &quot; + getClass().getSimpleName() +\r\n                    &quot;.multiply(&quot; + other.getClass().getSimpleName()+&quot;)&quot;);\r\n            return other.multiply(this);  // dispatch to handler through polymorphism.\r\n        }\r\n\r\n        public Operand multiply(Value other) { // this and other are specific type\r\n            System.out.println(&quot;calculation of &quot; + getClass().getSimpleName() +\r\n                    &quot;.multiply(&quot; + other.getClass().getSimpleName()+&quot;)&quot;);\r\n            return new Value(value*other.value);\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return Double.toString(value);\r\n        }\r\n    }\r\n\r\n\r\nHopefully you can see that I basically want multiple type derived from &quot;Operand&quot; and I want to be able to do:\r\n\r\n    Operand a;\r\n    Operand b;\r\n    Operand a.function(b)\r\n\r\nAnd have the right function eventually called for the underlying specific type.\r\n\r\nHowever, Java is not picking of the type of this in the dispatch and applying it on the subcall. I thought java was supposed to pick the most specific method prototype when the class is know.\r\nInstead I&#39;m getting infinite recursive calls to the dispatch function:\r\n\r\n    dispatch of Value.multiply(Value)\r\n    dispatch of Value.multiply(Value)\r\n    dispatch of Value.multiply(Value)\r\n    dispatch of Value.multiply(Value)\r\n    ...\r\n\r\n`this` is certainly known in this case to be `Class==Value` so why isn&#39;t `other.multiply(this)` resulting in `Value multiply(Value)` being the chosen prototype?\r\n\r\nWhat understanding of Java am I missing here?\r\n","title":"Isn&#39;t java suppose to match overloaded functions to most specific type?","body":"<p>I have a set of derived classes (mathematical values, such as Length, Angle, Value) and I'm defining calculation functions for them. The overloaded functions aren't being called as I expected. Problem boiled down to simple form...</p>\n<pre><code>public abstract class Operand {\n\n    public abstract Operand multiply(Operand other);\n\n    public static void main(String[] args) {\n        try {\n            Operand x = new Value(5);\n            Value y = new Value(6);\n            Operand z = x.multiply(y);\n            System.out.println(z);\n        } catch (Throwable e) {\n            e.printStackTrace(System.out);\n        }\n    }\n}\n\npublic class Value extends Operand {\n    final double value;\n\n    Value(double arg) { value = arg; }\n    @Override\n    public Operand multiply(Operand other) {  // type of other not known\n        System.out.println(&quot;dispatch of &quot; + getClass().getSimpleName() +\n                &quot;.multiply(&quot; + other.getClass().getSimpleName()+&quot;)&quot;);\n        return other.multiply(this);  // dispatch to handler through polymorphism.\n    }\n\n    public Operand multiply(Value other) { // this and other are specific type\n        System.out.println(&quot;calculation of &quot; + getClass().getSimpleName() +\n                &quot;.multiply(&quot; + other.getClass().getSimpleName()+&quot;)&quot;);\n        return new Value(value*other.value);\n    }\n\n    @Override\n    public String toString() {\n        return Double.toString(value);\n    }\n}\n</code></pre>\n<p>Hopefully you can see that I basically want multiple type derived from &quot;Operand&quot; and I want to be able to do:</p>\n<pre><code>Operand a;\nOperand b;\nOperand a.function(b)\n</code></pre>\n<p>And have the right function eventually called for the underlying specific type.</p>\n<p>However, Java is not picking of the type of this in the dispatch and applying it on the subcall. I thought java was supposed to pick the most specific method prototype when the class is know.\nInstead I'm getting infinite recursive calls to the dispatch function:</p>\n<pre><code>dispatch of Value.multiply(Value)\ndispatch of Value.multiply(Value)\ndispatch of Value.multiply(Value)\ndispatch of Value.multiply(Value)\n...\n</code></pre>\n<p><code>this</code> is certainly known in this case to be <code>Class==Value</code> so why isn't <code>other.multiply(this)</code> resulting in <code>Value multiply(Value)</code> being the chosen prototype?</p>\n<p>What understanding of Java am I missing here?</p>\n"},{"tags":["java","jenkins","gradle","jenkins-pipeline","sonarqube"],"comments":[{"owner":{"account_id":294314,"reputation":4599,"user_id":598141,"accept_rate":44,"display_name":"Ian W"},"score":0,"creation_date":1658554227,"post_id":73086284,"comment_id":129085344,"body_markdown":"Hope that&#39;s not your real key. Remove from post and rotate it!","body":"Hope that&#39;s not your real key. Remove from post and rotate it!"},{"owner":{"account_id":1713714,"reputation":781,"user_id":1571268,"accept_rate":78,"display_name":"criztovyl"},"score":0,"creation_date":1658584685,"post_id":73086284,"comment_id":129090365,"body_markdown":"the error message suggest you are running on windows, have you tried the `bat` step instead?","body":"the error message suggest you are running on windows, have you tried the <code>bat</code> step instead?"}],"owner":{"account_id":25873850,"reputation":1,"user_id":19604259,"display_name":"waspolar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658781767,"creation_date":1658525723,"question_id":73086284,"body_markdown":"I need help figuring out why my pipeline won&#39;t work. I already figured out how to get jenkins with my github. All I need to do now is get it where I can see the code to show up on sonarqube for analysis. I am using gradle not maven, and most tutorials show good examples for maven...\r\n\r\nHere is my code:\r\n\r\n    pipeline {\r\n    agent any\r\n    stages{\r\n\r\n        stage(&#39;SonarQube analysis&#39;) {\r\n            steps{\r\n                    withSonarQubeEnv(installationName: &#39;Sonar9.5&#39;, credentialsId: &#39;sonarqube-token&#39;) {\r\n                     sh &#39;./gradlew sonarqube \\\r\n                     -Dsonar.projectKey=${#key} \\\r\n                     -Dsonar.host.url=${&quot;#url&quot;} \\\r\n                     -Dsonar.login=${#auth} \\\r\n                     -Dsonar.projectName=${#name} \\\r\n                     -Dsonar.projectVersion=${&quot;not provided&quot;}&#39;\r\n                    }\r\n       }\r\n      }\r\n     }\r\n    }\r\n\r\n\r\nHere is the error message:\r\n\r\n```\r\njava.io.IOException: CreateProcess error=2, The system cannot find the file specified\r\n```","title":"I am trying to run a jenkins pipeline with gradle+sonarqube, need help due to error message","body":"<p>I need help figuring out why my pipeline won't work. I already figured out how to get jenkins with my github. All I need to do now is get it where I can see the code to show up on sonarqube for analysis. I am using gradle not maven, and most tutorials show good examples for maven...</p>\n<p>Here is my code:</p>\n<pre><code>pipeline {\nagent any\nstages{\n\n    stage('SonarQube analysis') {\n        steps{\n                withSonarQubeEnv(installationName: 'Sonar9.5', credentialsId: 'sonarqube-token') {\n                 sh './gradlew sonarqube \\\n                 -Dsonar.projectKey=${#key} \\\n                 -Dsonar.host.url=${&quot;#url&quot;} \\\n                 -Dsonar.login=${#auth} \\\n                 -Dsonar.projectName=${#name} \\\n                 -Dsonar.projectVersion=${&quot;not provided&quot;}'\n                }\n   }\n  }\n }\n}\n</code></pre>\n<p>Here is the error message:</p>\n<pre><code>java.io.IOException: CreateProcess error=2, The system cannot find the file specified\n</code></pre>\n"},{"tags":["java","annotations","byte-buddy"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658781550,"creation_date":1658781550,"answer_id":73115115,"question_id":73078956,"body_markdown":"You can add a `MethodAttributeAppender.ForInstrumentedMethod` via the `attribute` method:\r\n\r\n    new ByteBuddy()\r\n      .subclass(clazz)\r\n      .method(ElementMatchers.isAnnotatedWith(RPC.class))\r\n      .intercept(MethodDelegation.to(MethodProxy.class))\r\n      .attribute(MethodAttributeAppender.ForInstrumentedMethod.INSTANCE)\r\n      .make()\r\n      .load(clazz.getClassLoader())\r\n      .getLoaded();","title":"Retain annotations","body":"<p>You can add a <code>MethodAttributeAppender.ForInstrumentedMethod</code> via the <code>attribute</code> method:</p>\n<pre><code>new ByteBuddy()\n  .subclass(clazz)\n  .method(ElementMatchers.isAnnotatedWith(RPC.class))\n  .intercept(MethodDelegation.to(MethodProxy.class))\n  .attribute(MethodAttributeAppender.ForInstrumentedMethod.INSTANCE)\n  .make()\n  .load(clazz.getClassLoader())\n  .getLoaded();\n</code></pre>\n"}],"owner":{"account_id":19683445,"reputation":167,"user_id":14410016,"display_name":"weird guy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73115115,"answer_count":1,"score":0,"last_activity_date":1658781550,"creation_date":1658486187,"question_id":73078956,"body_markdown":"I am trying to proxy methods annotated with the `RPC` annotation, which works fine, except that the annotation is removed after changing the method. This is my code: \r\n```java\r\n\tprivate static Class&lt;? extends Actor&gt; wrapClass(Class&lt;? extends Actor&gt; clazz, World world) throws NoSuchMethodException, SecurityException {\r\n\t\treturn new ByteBuddy()\r\n\t\t\t.subclass(clazz)\r\n\t\t\t.method(ElementMatchers.isAnnotatedWith(RPC.class))\r\n\t\t\t\t.intercept(MethodDelegation.to(MethodProxy.class))\r\n\t\t\t.make()\r\n\t\t\t.load(clazz.getClassLoader())\r\n\t\t\t.getLoaded();\r\n\t}\r\n\t\r\n\tpublic static class MethodProxy {\r\n\t\t@RuntimeType\r\n\t\tpublic static void proxy(@This Actor actor, @Origin Method rpcFunc, @AllArguments Object[] allArguments, @SuperCall Callable&lt;?&gt; zuper) throws Exception {\r\n\t\t\tRPC rpcMeta = rpcFunc.getAnnotation(RPC.class);\r\n\r\n\t\t\t// process...\r\n\t\t}\r\n\t}\r\n```\r\nNotice that the call to get the annotation here is successful - That part works perfectly.\r\n\r\nMy problem is trying to find methods annotated with `RPC` outside of the ByteBuddy stuff - Checking the list of methods of the class ByteBuddy generated using Reflection and searching for `@RPC` annotated methods in there returns no results, but if I remove the `.method` and `.intercept` in the `wrapClass` method, it works again.\r\nIs there a way to intercept a method without removing its annotations?","title":"Retain annotations","body":"<p>I am trying to proxy methods annotated with the <code>RPC</code> annotation, which works fine, except that the annotation is removed after changing the method. This is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static Class&lt;? extends Actor&gt; wrapClass(Class&lt;? extends Actor&gt; clazz, World world) throws NoSuchMethodException, SecurityException {\n        return new ByteBuddy()\n            .subclass(clazz)\n            .method(ElementMatchers.isAnnotatedWith(RPC.class))\n                .intercept(MethodDelegation.to(MethodProxy.class))\n            .make()\n            .load(clazz.getClassLoader())\n            .getLoaded();\n    }\n    \n    public static class MethodProxy {\n        @RuntimeType\n        public static void proxy(@This Actor actor, @Origin Method rpcFunc, @AllArguments Object[] allArguments, @SuperCall Callable&lt;?&gt; zuper) throws Exception {\n            RPC rpcMeta = rpcFunc.getAnnotation(RPC.class);\n\n            // process...\n        }\n    }\n</code></pre>\n<p>Notice that the call to get the annotation here is successful - That part works perfectly.</p>\n<p>My problem is trying to find methods annotated with <code>RPC</code> outside of the ByteBuddy stuff - Checking the list of methods of the class ByteBuddy generated using Reflection and searching for <code>@RPC</code> annotated methods in there returns no results, but if I remove the <code>.method</code> and <code>.intercept</code> in the <code>wrapClass</code> method, it works again.\nIs there a way to intercept a method without removing its annotations?</p>\n"},{"tags":["java","maven","jasper-reports"],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658747901,"creation_date":1658747901,"answer_id":73108353,"question_id":73107903,"body_markdown":"`src/main/resources` are resources to be put on the classpath which are copied to the jar file &quot;as-is&quot; (except you may ask for the files to be filtered, which means &quot;expand variables, please&quot;).\r\n\r\nSo if you put your files in `src/main/resources/fonts` you should get what I think you ask for, as part as a normal compilation even if you don&#39;t have any Java files in the project.","title":"How to create jar file without java classes but with a folder using maven","body":"<p><code>src/main/resources</code> are resources to be put on the classpath which are copied to the jar file &quot;as-is&quot; (except you may ask for the files to be filtered, which means &quot;expand variables, please&quot;).</p>\n<p>So if you put your files in <code>src/main/resources/fonts</code> you should get what I think you ask for, as part as a normal compilation even if you don't have any Java files in the project.</p>\n"}],"owner":{"account_id":1374661,"reputation":139,"user_id":18631004,"display_name":"Frankio1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73108353,"answer_count":1,"score":1,"last_activity_date":1658780274,"creation_date":1658745818,"question_id":73107903,"body_markdown":"I created jar file from some reporting designer tool: [![enter image description here][1]][1]\r\nAnd now I want to create same jar file but with maven. So I have the fonts and that properties file and created new maven module and I am wondering what plugin should be used to achieve exactly the structure as in the picture attached. Let&#39;s say that I have those fonts in `/src/main/resources` folder together with `jasperreports_extension.properties` in my new maven module and in second option I have those fonts in some external folder like `/home/user/fonts` also together with `jasperreports_extension.properties` \r\n\r\n\r\nCurrently I am using those fonts to embedd to them to jasper reports and it can be done if this jar is on classpath of running application.\r\n\r\nIt is working with below approach, but for audit reasons I need to remove all system-scope dependencies.\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;my.group.id&lt;/groupId&gt;\r\n                &lt;artifactId&gt;my-fonts&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0&lt;/version&gt;\r\n                &lt;scope&gt;system&lt;/scope&gt;\r\n                &lt;systemPath&gt;${basedir}/src/main/resources/reps/fonts.jar&lt;/systemPath&gt;\r\n            &lt;/dependency&gt;\r\n\r\n\r\nRegards\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FcSo0.png","title":"How to create jar file without java classes but with a folder using maven","body":"<p>I created jar file from some reporting designer tool: <a href=\"https://i.stack.imgur.com/FcSo0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FcSo0.png\" alt=\"enter image description here\" /></a>\nAnd now I want to create same jar file but with maven. So I have the fonts and that properties file and created new maven module and I am wondering what plugin should be used to achieve exactly the structure as in the picture attached. Let's say that I have those fonts in <code>/src/main/resources</code> folder together with <code>jasperreports_extension.properties</code> in my new maven module and in second option I have those fonts in some external folder like <code>/home/user/fonts</code> also together with <code>jasperreports_extension.properties</code></p>\n<p>Currently I am using those fonts to embedd to them to jasper reports and it can be done if this jar is on classpath of running application.</p>\n<p>It is working with below approach, but for audit reasons I need to remove all system-scope dependencies.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;my.group.id&lt;/groupId&gt;\n            &lt;artifactId&gt;my-fonts&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${basedir}/src/main/resources/reps/fonts.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Regards</p>\n"},{"tags":["java","sql-server","stored-procedures"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":1,"creation_date":1576156048,"post_id":59305171,"comment_id":104812885,"body_markdown":"It can be an output, but it&#39;s also an input. Since you don&#39;t specify a default, such as `@Result_Output varchar(100) = null` then it must be supplied a value.","body":"It can be an output, but it&#39;s also an input. Since you don&#39;t specify a default, such as <code>@Result_Output varchar(100) = null</code> then it must be supplied a value."},{"owner":{"account_id":5065230,"reputation":343,"user_id":4065483,"accept_rate":38,"display_name":"Mehaboob Khan"},"score":0,"creation_date":1576156446,"post_id":59305171,"comment_id":104813092,"body_markdown":"@AlwaysLearning Thanks a lot this helped. Now I feel this was a very silly question","body":"@AlwaysLearning Thanks a lot this helped. Now I feel this was a very silly question"}],"answers":[{"tags":[],"owner":{"account_id":2312068,"reputation":90341,"user_id":2029983,"display_name":"Thom A"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1576156327,"creation_date":1576156327,"answer_id":59305426,"question_id":59305171,"body_markdown":"A `OUTPUT` parameter is still an input parameter; there is no such thing as a &quot;non-input&quot; parameter with Stored Procedures.  You still need to pass a variable to the parameter, as the value of the `OUTPUT` parameter will be assigned to that variable once the SP completes.\r\n\r\nIf you were using T-SQL to execute the SP, it would look like this:\r\n\r\n    CREATE PROC dbo.MyProc @MyParam int OUTPUT AS\r\n    BEGIN\r\n    \r\n        SET @MyParam = 1;\r\n    END;\r\n    GO\r\n    \r\n    DECLARE @MyParam int;\r\n    EXEC dbo.MyProc @MyParam OUTPUT;\r\n    \r\n    PRINT @MyParam; --1\r\n\r\n[DB&lt;&gt;Fiddle](https://dbfiddle.uk/?rdbms=sqlserver_2017&amp;fiddle=780c560d92148b0f52e38d0d2bbd6098)\r\n\r\n","title":"Stored procedure in SQL Server expecting output parameter as input","body":"<p>A <code>OUTPUT</code> parameter is still an input parameter; there is no such thing as a \"non-input\" parameter with Stored Procedures.  You still need to pass a variable to the parameter, as the value of the <code>OUTPUT</code> parameter will be assigned to that variable once the SP completes.</p>\n\n<p>If you were using T-SQL to execute the SP, it would look like this:</p>\n\n<pre><code>CREATE PROC dbo.MyProc @MyParam int OUTPUT AS\nBEGIN\n\n    SET @MyParam = 1;\nEND;\nGO\n\nDECLARE @MyParam int;\nEXEC dbo.MyProc @MyParam OUTPUT;\n\nPRINT @MyParam; --1\n</code></pre>\n\n<p><a href=\"https://dbfiddle.uk/?rdbms=sqlserver_2017&amp;fiddle=780c560d92148b0f52e38d0d2bbd6098\" rel=\"nofollow noreferrer\">DB&lt;>Fiddle</a></p>\n"}],"owner":{"account_id":5065230,"reputation":343,"user_id":4065483,"accept_rate":38,"display_name":"Mehaboob Khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1055,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":59305426,"answer_count":1,"score":0,"last_activity_date":1658780140,"creation_date":1576155532,"question_id":59305171,"body_markdown":"I am calling a stored procedure from my Java code. And after some computation in the stored procedure, I am returning the status. \r\n\r\nThis is the stored procedure:\r\n\r\n    ALTER PROCEDURE [dbo].[SAMPLE_ENTRIES]\r\n        (@ID INTEGER, \r\n         @PERIOD_ID INTEGER, \r\n         @RUN_ID INTEGER, \r\n         @TYPE CHAR, \r\n         @RESULT_OUTPUT varchar(100) OUTPUT)\r\n    /**Here goes some computation**/\r\n    IF @RESULT_OUTPUT IS NULL  \r\n    BEGIN   \r\n       set @RESULT_OUTPUT = &#39;SUCCESS&#39;;    \r\n       select @RESULT_OUTPUT as RESULT_OUTPUT;  \r\n    END; \r\n    \r\n    END\r\n\r\nAs you can see here I am passing 4 parameters to the stored procedure and the 5th parameter is the output. But I am getting an error, below is the error:\r\n\r\n&gt; Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Procedure or function &#39;SAMPLE_ENTRIES&#39; expects parameter &#39;@RESULT_OUTPUT&#39;, which was not supplied.\r\n&gt;\r\n&gt; at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:216)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1515)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:404)\r\n\r\nI am new to stored procedures. \r\n\r\nThanks for the help in advance.\r\n","title":"Stored procedure in SQL Server expecting output parameter as input","body":"<p>I am calling a stored procedure from my Java code. And after some computation in the stored procedure, I am returning the status.</p>\n<p>This is the stored procedure:</p>\n<pre><code>ALTER PROCEDURE [dbo].[SAMPLE_ENTRIES]\n    (@ID INTEGER, \n     @PERIOD_ID INTEGER, \n     @RUN_ID INTEGER, \n     @TYPE CHAR, \n     @RESULT_OUTPUT varchar(100) OUTPUT)\n/**Here goes some computation**/\nIF @RESULT_OUTPUT IS NULL  \nBEGIN   \n   set @RESULT_OUTPUT = 'SUCCESS';    \n   select @RESULT_OUTPUT as RESULT_OUTPUT;  \nEND; \n\nEND\n</code></pre>\n<p>As you can see here I am passing 4 parameters to the stored procedure and the 5th parameter is the output. But I am getting an error, below is the error:</p>\n<blockquote>\n<p>Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Procedure or function 'SAMPLE_ENTRIES' expects parameter '@RESULT_OUTPUT', which was not supplied.</p>\n<p>at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:216)\nat com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1515)\nat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:404)</p>\n</blockquote>\n<p>I am new to stored procedures.</p>\n<p>Thanks for the help in advance.</p>\n"},{"tags":["java","rest-assured","rest-assured-jsonpath"],"comments":[{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1657226598,"post_id":72903880,"comment_id":128767485,"body_markdown":"Do you want to make sure the value gets set as a specific type or want to know what type it is while reading it? In Json itself there are no fixed datatypes if this answers your question.","body":"Do you want to make sure the value gets set as a specific type or want to know what type it is while reading it? In Json itself there are no fixed datatypes if this answers your question."},{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":2,"creation_date":1657226654,"post_id":72903880,"comment_id":128767503,"body_markdown":"Dear @Bob, Welcome to Stack Overflow! Please, note that the provided JSON document is not valid. Should `Data` be an array of objects or an object? Could you please correct the JSON document?","body":"Dear @Bob, Welcome to Stack Overflow! Please, note that the provided JSON document is not valid. Should <code>Data</code> be an array of objects or an object? Could you please correct the JSON document?"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1657229998,"post_id":72903880,"comment_id":128768381,"body_markdown":"Try looking at [Validate JSON Schema in Rest Assured](https://www.tutorialspoint.com/validate-json-schema-in-rest-assured).","body":"Try looking at <a href=\"https://www.tutorialspoint.com/validate-json-schema-in-rest-assured\" rel=\"nofollow noreferrer\">Validate JSON Schema in Rest Assured</a>."},{"owner":{"account_id":25753744,"reputation":11,"user_id":19505824,"display_name":"Bob"},"score":0,"creation_date":1657252139,"post_id":72903880,"comment_id":128771679,"body_markdown":"@Japhei I want to validate the type. For example, For Name the value should be in String only.\n\n//This Should Fail as we got Name is not in String. \n{\n  &quot;Data&quot; : [\n     &quot;Id&quot; : 1,\n     &quot;Name&quot; :ABC\n  ]\n}\n\n\n//Valid one, It should pass\n{\n  &quot;Data&quot; : [\n     &quot;Id&quot; : 1,\n     &quot;Name&quot; : &quot;ABC&quot;\n  ]\n}","body":"@Japhei I want to validate the type. For example, For Name the value should be in String only.  //This Should Fail as we got Name is not in String.  {   &quot;Data&quot; : [      &quot;Id&quot; : 1,      &quot;Name&quot; :ABC   ] }   //Valid one, It should pass {   &quot;Data&quot; : [      &quot;Id&quot; : 1,      &quot;Name&quot; : &quot;ABC&quot;   ] }"},{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1657267866,"post_id":72903880,"comment_id":128774946,"body_markdown":"@Bob again, when so you want to validate it? While reading the file or while writing it? There is no way to just  tell Json to only accept specific datatypes.","body":"@Bob again, when so you want to validate it? While reading the file or while writing it? There is no way to just  tell Json to only accept specific datatypes."}],"answers":[{"tags":[],"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657295994,"creation_date":1657295994,"answer_id":72914052,"question_id":72903880,"body_markdown":"# Overview\r\nYou are asking how to check the JSON document structure.  \r\nJSON document validation against a JSON schema (JSON schema validation) is a way to perform such check. \r\n\r\n# Introduction\r\nLet&#39;s consider the following versions as the current versions:\r\n\r\n* REST Assured: `5.1.1`.\r\n* JUnit: `5.8.2`.\r\n\r\n# Solution\r\nREST Assured supports JSON schema validation.\r\n\r\n* [Usage: Examples: JSON Schema validation &#183; rest-assured/rest-assured Wiki](https://github.com/rest-assured/rest-assured/wiki/Usage#json-schema-validation).\r\n* [JsonSchemaValidator (json-schema-validator 5.1.1 API)](https://www.javadoc.io/doc/io.rest-assured/json-schema-validator/5.1.1/io/restassured/module/jsv/JsonSchemaValidator.html).\r\n\r\n## Draft example unit test\r\nThe unit test class contain two tests: successful and failing.\r\n\r\nThe failing test fails with the following message:\r\n\r\n```\r\njava.lang.AssertionError: 1 expectation failed.\r\nResponse body doesn&#39;t match expectation.\r\nExpected: The content to match the given JSON schema.\r\nerror: instance type (object) does not match any allowed primitive type (allowed: [&quot;string&quot;])\r\n    level: &quot;error&quot;\r\n    schema: {&quot;loadingURI&quot;:&quot;file:/&lt;the-project-path&gt;/target/test-classes/schema.json#&quot;,&quot;pointer&quot;:&quot;/properties/Data/items/0/properties/Name&quot;}\r\n    instance: {&quot;pointer&quot;:&quot;/Data/0/Name&quot;}\r\n    domain: &quot;validation&quot;\r\n    keyword: &quot;type&quot;\r\n    found: &quot;object&quot;\r\n    expected: [&quot;string&quot;]\r\n\r\n  Actual: {\r\n  &quot;Data&quot;: [\r\n    {\r\n      &quot;Id&quot;: 1,\r\n      &quot;Name&quot;: {\r\n        &quot;FirstName&quot;: &quot;First&quot;,\r\n        &quot;LastName&quot;: &quot;Last&quot;\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n### Maven project (`pom.xml`)\r\n```\r\n&lt;properties&gt;\r\n    &lt;restassured.version&gt;5.1.1&lt;/restassured.version&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n        &lt;version&gt;5.8.2&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n        &lt;version&gt;${restassured.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\r\n        &lt;version&gt;${restassured.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\r\n        &lt;artifactId&gt;wiremock-jre8&lt;/artifactId&gt;\r\n        &lt;version&gt;2.33.2&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n### JSON schema (`src/test/resources/schema.json`)\r\n```json\r\n{\r\n  &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\r\n  &quot;type&quot;: &quot;object&quot;,\r\n  &quot;properties&quot;: {\r\n    &quot;Data&quot;: {\r\n      &quot;type&quot;: &quot;array&quot;,\r\n      &quot;items&quot;: [\r\n        {\r\n          &quot;type&quot;: &quot;object&quot;,\r\n          &quot;properties&quot;: {\r\n            &quot;Id&quot;: {\r\n              &quot;type&quot;: &quot;integer&quot;\r\n            },\r\n            &quot;Name&quot;: {\r\n              &quot;type&quot;: &quot;string&quot;\r\n            }\r\n          },\r\n          &quot;required&quot;: [\r\n            &quot;Id&quot;,\r\n            &quot;Name&quot;\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  &quot;required&quot;: [\r\n    &quot;Data&quot;\r\n  ]\r\n}\r\n```\r\n\r\n### Test data (`src/test/resources/__files/data.json`)\r\n```json\r\n{\r\n  &quot;Data&quot;: [\r\n    {\r\n      &quot;Id&quot;: 1,\r\n      &quot;Name&quot;: &quot;ABC&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n### Test data (`src/test/resources/__files/data-invalid.json`)\r\n```json\r\n{\r\n  &quot;Data&quot;: [\r\n    {\r\n      &quot;Id&quot;: 1,\r\n      &quot;Name&quot;: {\r\n        &quot;FirstName&quot;: &quot;First&quot;,\r\n        &quot;LastName&quot;: &quot;Last&quot;\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n### Unit test class (`src/test/java/info/brunov/stackoverflow/question72903880/DataServiceTest.java`)\r\n```java\r\npackage info.brunov.stackoverflow.question72903880;\r\n\r\nimport com.github.tomakehurst.wiremock.WireMockServer;\r\nimport com.github.tomakehurst.wiremock.client.WireMock;\r\nimport com.github.tomakehurst.wiremock.core.WireMockConfiguration;\r\nimport io.restassured.RestAssured;\r\nimport io.restassured.builder.RequestSpecBuilder;\r\nimport io.restassured.filter.log.LogDetail;\r\nimport io.restassured.module.jsv.JsonSchemaValidator;\r\nimport io.restassured.specification.RequestSpecification;\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.Test;\r\n\r\npublic final class DataServiceTest {\r\n    private final WireMockServer server;\r\n    private final RequestSpecification requestSpecification;\r\n\r\n    public DataServiceTest() {\r\n        server = new WireMockServer(\r\n            WireMockConfiguration.wireMockConfig().dynamicPort()\r\n        );\r\n        server.stubFor(\r\n            WireMock.get(&quot;/data&quot;)\r\n                .willReturn(\r\n                    WireMock.aResponse().withBodyFile(&quot;data.json&quot;)\r\n                )\r\n        );\r\n        server.stubFor(\r\n            WireMock.get(&quot;/data-invalid&quot;)\r\n                .willReturn(\r\n                    WireMock.aResponse().withBodyFile(&quot;data-invalid.json&quot;)\r\n                )\r\n        );\r\n        server.start();\r\n\r\n        final RequestSpecBuilder requestSpecBuilder = new RequestSpecBuilder();\r\n        requestSpecBuilder.setPort(server.port());\r\n        requestSpecification = requestSpecBuilder.build();\r\n    }\r\n\r\n    @AfterEach\r\n    void tearDown() {\r\n        server.stop();\r\n    }\r\n\r\n    @Test\r\n    public void getData_responseConformsSchema_success() {\r\n        RestAssured.given()\r\n            .spec(requestSpecification)\r\n            .get(&quot;/data&quot;)\r\n            .then()\r\n            .log().ifValidationFails(LogDetail.ALL)\r\n            .assertThat()\r\n            .statusCode(200)\r\n            .body(JsonSchemaValidator.matchesJsonSchemaInClasspath(&quot;schema.json&quot;));\r\n    }\r\n\r\n    // NOTE: Deliberately failing test.\r\n    @Test\r\n    public void getInvalidData_responseConformSchema_fail() {\r\n        RestAssured.given()\r\n            .spec(requestSpecification)\r\n            .get(&quot;/data-invalid&quot;)\r\n            .then()\r\n            .log().ifValidationFails(LogDetail.ALL)\r\n            .assertThat()\r\n            .statusCode(200)\r\n            .body(JsonSchemaValidator.matchesJsonSchemaInClasspath(&quot;schema.json&quot;));\r\n    }\r\n}\r\n```\r\n","title":"How do we assert the JSON response field type (if it&#39;s String or int)?","body":"<h1>Overview</h1>\n<p>You are asking how to check the JSON document structure.<br />\nJSON document validation against a JSON schema (JSON schema validation) is a way to perform such check.</p>\n<h1>Introduction</h1>\n<p>Let's consider the following versions as the current versions:</p>\n<ul>\n<li>REST Assured: <code>5.1.1</code>.</li>\n<li>JUnit: <code>5.8.2</code>.</li>\n</ul>\n<h1>Solution</h1>\n<p>REST Assured supports JSON schema validation.</p>\n<ul>\n<li><a href=\"https://github.com/rest-assured/rest-assured/wiki/Usage#json-schema-validation\" rel=\"nofollow noreferrer\">Usage: Examples: JSON Schema validation ¬∑ rest-assured/rest-assured Wiki</a>.</li>\n<li><a href=\"https://www.javadoc.io/doc/io.rest-assured/json-schema-validator/5.1.1/io/restassured/module/jsv/JsonSchemaValidator.html\" rel=\"nofollow noreferrer\">JsonSchemaValidator (json-schema-validator 5.1.1 API)</a>.</li>\n</ul>\n<h2>Draft example unit test</h2>\n<p>The unit test class contain two tests: successful and failing.</p>\n<p>The failing test fails with the following message:</p>\n<pre><code>java.lang.AssertionError: 1 expectation failed.\nResponse body doesn't match expectation.\nExpected: The content to match the given JSON schema.\nerror: instance type (object) does not match any allowed primitive type (allowed: [&quot;string&quot;])\n    level: &quot;error&quot;\n    schema: {&quot;loadingURI&quot;:&quot;file:/&lt;the-project-path&gt;/target/test-classes/schema.json#&quot;,&quot;pointer&quot;:&quot;/properties/Data/items/0/properties/Name&quot;}\n    instance: {&quot;pointer&quot;:&quot;/Data/0/Name&quot;}\n    domain: &quot;validation&quot;\n    keyword: &quot;type&quot;\n    found: &quot;object&quot;\n    expected: [&quot;string&quot;]\n\n  Actual: {\n  &quot;Data&quot;: [\n    {\n      &quot;Id&quot;: 1,\n      &quot;Name&quot;: {\n        &quot;FirstName&quot;: &quot;First&quot;,\n        &quot;LastName&quot;: &quot;Last&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n<h3>Maven project (<code>pom.xml</code>)</h3>\n<pre><code>&lt;properties&gt;\n    &lt;restassured.version&gt;5.1.1&lt;/restassured.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;5.8.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n        &lt;version&gt;${restassured.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n        &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\n        &lt;version&gt;${restassured.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\n        &lt;artifactId&gt;wiremock-jre8&lt;/artifactId&gt;\n        &lt;version&gt;2.33.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<h3>JSON schema (<code>src/test/resources/schema.json</code>)</h3>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\n  &quot;type&quot;: &quot;object&quot;,\n  &quot;properties&quot;: {\n    &quot;Data&quot;: {\n      &quot;type&quot;: &quot;array&quot;,\n      &quot;items&quot;: [\n        {\n          &quot;type&quot;: &quot;object&quot;,\n          &quot;properties&quot;: {\n            &quot;Id&quot;: {\n              &quot;type&quot;: &quot;integer&quot;\n            },\n            &quot;Name&quot;: {\n              &quot;type&quot;: &quot;string&quot;\n            }\n          },\n          &quot;required&quot;: [\n            &quot;Id&quot;,\n            &quot;Name&quot;\n          ]\n        }\n      ]\n    }\n  },\n  &quot;required&quot;: [\n    &quot;Data&quot;\n  ]\n}\n</code></pre>\n<h3>Test data (<code>src/test/resources/__files/data.json</code>)</h3>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;Data&quot;: [\n    {\n      &quot;Id&quot;: 1,\n      &quot;Name&quot;: &quot;ABC&quot;\n    }\n  ]\n}\n</code></pre>\n<h3>Test data (<code>src/test/resources/__files/data-invalid.json</code>)</h3>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;Data&quot;: [\n    {\n      &quot;Id&quot;: 1,\n      &quot;Name&quot;: {\n        &quot;FirstName&quot;: &quot;First&quot;,\n        &quot;LastName&quot;: &quot;Last&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n<h3>Unit test class (<code>src/test/java/info/brunov/stackoverflow/question72903880/DataServiceTest.java</code>)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>package info.brunov.stackoverflow.question72903880;\n\nimport com.github.tomakehurst.wiremock.WireMockServer;\nimport com.github.tomakehurst.wiremock.client.WireMock;\nimport com.github.tomakehurst.wiremock.core.WireMockConfiguration;\nimport io.restassured.RestAssured;\nimport io.restassured.builder.RequestSpecBuilder;\nimport io.restassured.filter.log.LogDetail;\nimport io.restassured.module.jsv.JsonSchemaValidator;\nimport io.restassured.specification.RequestSpecification;\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.Test;\n\npublic final class DataServiceTest {\n    private final WireMockServer server;\n    private final RequestSpecification requestSpecification;\n\n    public DataServiceTest() {\n        server = new WireMockServer(\n            WireMockConfiguration.wireMockConfig().dynamicPort()\n        );\n        server.stubFor(\n            WireMock.get(&quot;/data&quot;)\n                .willReturn(\n                    WireMock.aResponse().withBodyFile(&quot;data.json&quot;)\n                )\n        );\n        server.stubFor(\n            WireMock.get(&quot;/data-invalid&quot;)\n                .willReturn(\n                    WireMock.aResponse().withBodyFile(&quot;data-invalid.json&quot;)\n                )\n        );\n        server.start();\n\n        final RequestSpecBuilder requestSpecBuilder = new RequestSpecBuilder();\n        requestSpecBuilder.setPort(server.port());\n        requestSpecification = requestSpecBuilder.build();\n    }\n\n    @AfterEach\n    void tearDown() {\n        server.stop();\n    }\n\n    @Test\n    public void getData_responseConformsSchema_success() {\n        RestAssured.given()\n            .spec(requestSpecification)\n            .get(&quot;/data&quot;)\n            .then()\n            .log().ifValidationFails(LogDetail.ALL)\n            .assertThat()\n            .statusCode(200)\n            .body(JsonSchemaValidator.matchesJsonSchemaInClasspath(&quot;schema.json&quot;));\n    }\n\n    // NOTE: Deliberately failing test.\n    @Test\n    public void getInvalidData_responseConformSchema_fail() {\n        RestAssured.given()\n            .spec(requestSpecification)\n            .get(&quot;/data-invalid&quot;)\n            .then()\n            .log().ifValidationFails(LogDetail.ALL)\n            .assertThat()\n            .statusCode(200)\n            .body(JsonSchemaValidator.matchesJsonSchemaInClasspath(&quot;schema.json&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25753744,"reputation":11,"user_id":19505824,"display_name":"Bob"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":877,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658780093,"creation_date":1657225758,"question_id":72903880,"body_markdown":"How do we assert the JSON response field type? \r\n\r\n```json\r\n{\r\n  &quot;Data&quot; : [\r\n     &quot;Id&quot; : 1,\r\n     &quot;Name&quot; : &quot;ABC&quot;\r\n  ]\r\n}\r\n```\r\n\r\nIs there any way to validate that `ID` should contain an `int` and `Name` should be a `String`? I don&#39;t want to validate the values.\r\n\r\n","title":"How do we assert the JSON response field type (if it&#39;s String or int)?","body":"<p>How do we assert the JSON response field type?</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;Data&quot; : [\n     &quot;Id&quot; : 1,\n     &quot;Name&quot; : &quot;ABC&quot;\n  ]\n}\n</code></pre>\n<p>Is there any way to validate that <code>ID</code> should contain an <code>int</code> and <code>Name</code> should be a <code>String</code>? I don't want to validate the values.</p>\n"},{"tags":["java","android","android-studio","flutter"],"comments":[{"owner":{"account_id":10981646,"reputation":1181,"user_id":8068542,"display_name":"Saiful Islam"},"score":0,"creation_date":1604824770,"post_id":63981957,"comment_id":114460270,"body_markdown":"is there any problem while running the application? I had same error in gradle file but its never causes any effect on my application while i am running it.","body":"is there any problem while running the application? I had same error in gradle file but its never causes any effect on my application while i am running it."}],"answers":[{"tags":[],"owner":{"account_id":19809117,"reputation":49,"user_id":14508405,"display_name":"Abdul Agfar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643067466,"creation_date":1604818528,"answer_id":64735574,"question_id":63981957,"body_markdown":"Set Project SDK to Android API Platform version 29 (or the latest version, 30), like so:\r\n\r\n**Step 1:**\r\n```\r\ndefaultConfig {\r\n    ...\r\n    minSdkVersion 16\r\n    targetSdkVersion 30\r\n}\r\n```\r\n**Step 2:**\r\n\r\nupdate `GradleException()` to `FileNotFoundException()`\r\n\r\n\r\n**Step 3:**\r\n\r\nPlease follow this: https://github.com/flutter/flutter/issues/29608#issuecomment-548649907","title":"Cannot Resolve Symbol &#39;Properties&#39; on Android Studio","body":"<p>Set Project SDK to Android API Platform version 29 (or the latest version, 30), like so:</p>\n<p><strong>Step 1:</strong></p>\n<pre><code>defaultConfig {\n    ...\n    minSdkVersion 16\n    targetSdkVersion 30\n}\n</code></pre>\n<p><strong>Step 2:</strong></p>\n<p>update <code>GradleException()</code> to <code>FileNotFoundException()</code></p>\n<p><strong>Step 3:</strong></p>\n<p>Please follow this: <a href=\"https://github.com/flutter/flutter/issues/29608#issuecomment-548649907\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter/issues/29608#issuecomment-548649907</a></p>\n"},{"tags":[],"owner":{"account_id":2006082,"reputation":349,"user_id":5842172,"display_name":"Orange"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636091292,"creation_date":1636091292,"answer_id":69849114,"question_id":63981957,"body_markdown":"In my case, it&#39;s nothing about the Properties, nor the SDK/Gradle versions... etc.\r\nIt&#39;s simply because something is missing in the build.gradle. The error message is just the result but not the cause.\r\nCarefully examine every line in build.gradle.\r\n\r\nIn my case, it took about one day to find out that something should be defined in local.properties but wasn&#39;t there. So the sync for build.gradle failed. And then, the only one line in red is the Properties.... ","title":"Cannot Resolve Symbol &#39;Properties&#39; on Android Studio","body":"<p>In my case, it's nothing about the Properties, nor the SDK/Gradle versions... etc.\nIt's simply because something is missing in the build.gradle. The error message is just the result but not the cause.\nCarefully examine every line in build.gradle.</p>\n<p>In my case, it took about one day to find out that something should be defined in local.properties but wasn't there. So the sync for build.gradle failed. And then, the only one line in red is the Properties....</p>\n"},{"tags":[],"owner":{"account_id":1824013,"reputation":3820,"user_id":1657333,"accept_rate":67,"display_name":"Eslam Sameh Ahmed"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643047630,"creation_date":1643047630,"answer_id":70838443,"question_id":63981957,"body_markdown":"Remove new\r\n\r\n    def localProperties = Properties()","title":"Cannot Resolve Symbol &#39;Properties&#39; on Android Studio","body":"<p>Remove new</p>\n<pre><code>def localProperties = Properties()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18521417,"reputation":11,"user_id":13494339,"display_name":"IdemudiaMonday O."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656320734,"creation_date":1656108282,"answer_id":72749816,"question_id":63981957,"body_markdown":"I had the same problem lately, but I resolved it with the following steps;\r\n1. To resolve Symbol &#39;Properties&#39; issue;\r\n\r\n`def localProperties = new Properties()`   \r\n\r\nRemove/delete the keyword &gt;&gt; new &lt;&lt; from the above instance, the syntax is not needed/depercated.\r\n     \r\n`def localProperties = Properties()`    #&quot;use it like this&quot;\r\n\r\n2. To resolve Symbol GradleException issue;\r\n\r\n    `def flutterRoot = localProperties.getProperty(&#39;flutter.sdk&#39;)\r\n    if (flutterRoot == null) {\r\n    throw new GradleException(&quot;Flutter SDK not found. Define \r\n    location with flutter.sdk in the local.properties file.&quot;)\r\n    }`\r\n\r\nThe solution I used was to import the class; \r\n    \r\n    `import com.GradleException`    \r\n\r\nCopy and paste it to the first line of the file; ...app/build.gradle\r\n\r\nHope this would help.\r\n ","title":"Cannot Resolve Symbol &#39;Properties&#39; on Android Studio","body":"<p>I had the same problem lately, but I resolved it with the following steps;</p>\n<ol>\n<li>To resolve Symbol 'Properties' issue;</li>\n</ol>\n<p><code>def localProperties = new Properties()</code></p>\n<p>Remove/delete the keyword &gt;&gt; new &lt;&lt; from the above instance, the syntax is not needed/depercated.</p>\n<p><code>def localProperties = Properties()</code>    #&quot;use it like this&quot;</p>\n<ol start=\"2\">\n<li><p>To resolve Symbol GradleException issue;</p>\n<p><code>def flutterRoot = localProperties.getProperty('flutter.sdk') if (flutterRoot == null) { throw new GradleException(&quot;Flutter SDK not found. Define  location with flutter.sdk in the local.properties file.&quot;) }</code></p>\n</li>\n</ol>\n<p>The solution I used was to import the class;</p>\n<pre><code>`import com.GradleException`    \n</code></pre>\n<p>Copy and paste it to the first line of the file; ...app/build.gradle</p>\n<p>Hope this would help.</p>\n"},{"tags":[],"owner":{"account_id":20511903,"reputation":1,"user_id":15053479,"display_name":"Srikanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658779501,"creation_date":1658492059,"answer_id":73080185,"question_id":63981957,"body_markdown":"Symbol Properties solution worked fine.\r\n\r\nFor GradleException you need to set the path for Gradle in Settings.\r\nYou need to go to Settings From File Click Settings.  After Clicking Settings\r\nClick Path Variable Add path to Gradle as follows:\r\n\r\n```\r\n\\AndroidStudioProjects\\Project_directory\\wrapper\\dists\\gradle-7.3.3-all\\4295vidhdd9hd3gbjyw1xqxpo\\gradle-7.3.3\\bin\r\n```\r\n\r\nGradleException error got solved for me.\r\nIf you are using Windows set the path similar under Environment Variable\r\n\r\n","title":"Cannot Resolve Symbol &#39;Properties&#39; on Android Studio","body":"<p>Symbol Properties solution worked fine.</p>\n<p>For GradleException you need to set the path for Gradle in Settings.\nYou need to go to Settings From File Click Settings.  After Clicking Settings\nClick Path Variable Add path to Gradle as follows:</p>\n<pre><code>\\AndroidStudioProjects\\Project_directory\\wrapper\\dists\\gradle-7.3.3-all\\4295vidhdd9hd3gbjyw1xqxpo\\gradle-7.3.3\\bin\n</code></pre>\n<p>GradleException error got solved for me.\nIf you are using Windows set the path similar under Environment Variable</p>\n"}],"owner":{"account_id":19537237,"reputation":41,"user_id":14295758,"display_name":"ÍπÄÎèôÍµ¨"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5283,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1658779501,"creation_date":1600624016,"question_id":63981957,"body_markdown":"[][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kDLNE.png\r\n\r\n\r\nThere are two errors in my Android Studio right now. In the app level build.gradle folder, the line\r\n\r\n    def localProperties = new Properties()\r\nshows error Cannot Resolve Symbol &#39;Properties&#39;\r\nand on\r\n\r\n\r\n\r\n    def flutterRoot = localProperties.getProperty(&#39;flutter.sdk&#39;)\r\n    if (flutterRoot == null) {\r\n    throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\r\n    }\r\n\r\nit says Cannot Resolve Symbol GradleException, \r\nWhat should I do to solve these two errors?","title":"Cannot Resolve Symbol &#39;Properties&#39; on Android Studio","body":"<p><a href=\"https://i.stack.imgur.com/kDLNE.png\" rel=\"nofollow noreferrer\"></a></p>\n<p>There are two errors in my Android Studio right now. In the app level build.gradle folder, the line</p>\n<pre><code>def localProperties = new Properties()\n</code></pre>\n<p>shows error Cannot Resolve Symbol 'Properties'\nand on</p>\n<pre><code>def flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\nthrow new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\n}\n</code></pre>\n<p>it says Cannot Resolve Symbol GradleException,\nWhat should I do to solve these two errors?</p>\n"},{"tags":["java","android","kotlin","compiler-errors","runtime-error"],"comments":[{"owner":{"account_id":13802031,"reputation":1105,"user_id":9961828,"display_name":"pratik vekariya"},"score":1,"creation_date":1658560663,"post_id":73088727,"comment_id":129086208,"body_markdown":"In your model you have added ArrayList, but in your response its not starting with array so remove arraylist from starting your response.","body":"In your model you have added ArrayList, but in your response its not starting with array so remove arraylist from starting your response."}],"answers":[{"tags":[],"owner":{"account_id":12891544,"reputation":1283,"user_id":9323369,"display_name":"Rohit Jakhar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658779384,"creation_date":1658560971,"answer_id":73088812,"question_id":73088727,"body_markdown":"The response coming from the API is it not an array. The start of response indicates that it is an object.\r\nThis is a sample output from that API:\r\n```\r\n{\r\n&quot;char&quot;: [\r\n&quot;ReaGU7]37tq&quot;\r\n   ]\r\n}\r\n```\r\n\r\nSolution ‚Äì use this:\r\n```\r\nclass PasswordResponse : PasswordModel()\r\n\r\n```","title":"Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $ ‚Äì&#160;ArrayList","body":"<p>The response coming from the API is it not an array. The start of response indicates that it is an object.\nThis is a sample output from that API:</p>\n<pre><code>{\n&quot;char&quot;: [\n&quot;ReaGU7]37tq&quot;\n   ]\n}\n</code></pre>\n<p>Solution ‚Äì use this:</p>\n<pre><code>class PasswordResponse : PasswordModel()\n\n</code></pre>\n"}],"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658779384,"creation_date":1658560079,"question_id":73088727,"body_markdown":"I am getting this error when clicking the button in my project and trying to print the data as text.\r\n\r\n    Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $\r\n\r\nCan you help me with what I missed?\r\n\r\nMainActivity:\r\n\r\n    @AndroidEntryPoint\r\n    class MainActivity : AppCompatActivity() {\r\n        private lateinit var binding: ActivityMainBinding\r\n        private val viewModel: PasswordGeneratorViewModel by viewModels()\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            binding = ActivityMainBinding.inflate(layoutInflater)\r\n            setContentView(binding.root)\r\n    \r\n            binding.generatePassword.apply {\r\n                setOnClickListener {\r\n                    binding.password.text = viewModel.responsePassword.toString()\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nPasswordGeneratorViewModel:\r\n\r\n    @HiltViewModel\r\n    class PasswordGeneratorViewModel @Inject constructor(private val repository: PasswordGeneratorRepository): ViewModel() {\r\n    \r\n        private val _response = MutableLiveData&lt;List&lt;PasswordModel&gt;&gt;()\r\n        val responsePassword: LiveData&lt;List&lt;PasswordModel&gt;&gt;\r\n            get() = _response\r\n    \r\n        init {\r\n            getPassword()\r\n        }\r\n    \r\n        private fun getPassword() = viewModelScope.launch {\r\n            repository.getPasswordGenerate().let {response -&gt;\r\n                if (response.isSuccessful){\r\n                    _response.postValue(response.body())\r\n                }else{\r\n                    Log.d(&quot;tag&quot;, &quot;getPassword Error: ${response.code()}&quot;)\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nPasswordModel:\r\n\r\n    import com.google.gson.annotations.SerializedName\r\n    \r\n    data class PasswordModel(\r\n        @SerializedName(&quot;char&quot;)\r\n        val char: List&lt;String&gt;\r\n    )\r\n\r\n\r\n","title":"Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $ ‚Äì&#160;ArrayList","body":"<p>I am getting this error when clicking the button in my project and trying to print the data as text.</p>\n<pre><code>Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $\n</code></pre>\n<p>Can you help me with what I missed?</p>\n<p>MainActivity:</p>\n<pre><code>@AndroidEntryPoint\nclass MainActivity : AppCompatActivity() {\n    private lateinit var binding: ActivityMainBinding\n    private val viewModel: PasswordGeneratorViewModel by viewModels()\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ActivityMainBinding.inflate(layoutInflater)\n        setContentView(binding.root)\n\n        binding.generatePassword.apply {\n            setOnClickListener {\n                binding.password.text = viewModel.responsePassword.toString()\n            }\n        }\n\n    }\n\n}\n</code></pre>\n<p>PasswordGeneratorViewModel:</p>\n<pre><code>@HiltViewModel\nclass PasswordGeneratorViewModel @Inject constructor(private val repository: PasswordGeneratorRepository): ViewModel() {\n\n    private val _response = MutableLiveData&lt;List&lt;PasswordModel&gt;&gt;()\n    val responsePassword: LiveData&lt;List&lt;PasswordModel&gt;&gt;\n        get() = _response\n\n    init {\n        getPassword()\n    }\n\n    private fun getPassword() = viewModelScope.launch {\n        repository.getPasswordGenerate().let {response -&gt;\n            if (response.isSuccessful){\n                _response.postValue(response.body())\n            }else{\n                Log.d(&quot;tag&quot;, &quot;getPassword Error: ${response.code()}&quot;)\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>PasswordModel:</p>\n<pre><code>import com.google.gson.annotations.SerializedName\n\ndata class PasswordModel(\n    @SerializedName(&quot;char&quot;)\n    val char: List&lt;String&gt;\n)\n</code></pre>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":1,"creation_date":1419197241,"post_id":27591685,"comment_id":43611564,"body_markdown":"There is a reason for this behavior: if the code aka the business logic expects that operations are journaled, it is a good thing to know that this requirement can&#39;t be met.","body":"There is a reason for this behavior: if the code aka the business logic expects that operations are journaled, it is a good thing to know that this requirement can&#39;t be met."}],"answers":[{"tags":[],"owner":{"account_id":1946858,"reputation":3363,"user_id":1751787,"display_name":"Rob Moore"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1419300125,"creation_date":1419184588,"answer_id":27592133,"question_id":27591685,"body_markdown":"This was a change in 2.6. The MongoDB server now requires that journaling be enabled to use a write concern that has journaling as a requirement. In 2.4 and before the server would silently ignore the journal requirement is journaling was not enabled on the server.\r\n\r\nYou test MongoDB cluster must have journaling disabled. Either enable journaling on the server or remove the default write concern on the client (e.g., remove/change write-concern=&quot;JOURNAL_SAFE&quot;). For production, you almost definitely want journaling enabled.\r\n\r\nIf you are using a replica set (or a shared cluster of replica sets) with at least 3 data holding members then a write concern of &#39;majority&#39; might be a better, more performant, choice. (e.g., write-concern=&quot;MAJORITY&quot; ).\r\n\r\nIf you are running a single Mongod process that is not part of a replica-set then you probably want a journal write concern but need to make sure that the journal is not disabled on the server. If you cannot control the server (and are still using a single mongod process) then you might want to switch to the FSYNC write concern. With FSYNC if the server has journaling enabled then it acts as a Journaled write, for a server without journaling enabled it will force all of the data files to disk (which will cause a lot of latency). Having said that you are better off getting journaling enabled on the server.\r\n\r\nRob.\r\n","title":"MongoDb error: cannot use &#39;j&#39; option when a host does not have journaling enabled","body":"<p>This was a change in 2.6. The MongoDB server now requires that journaling be enabled to use a write concern that has journaling as a requirement. In 2.4 and before the server would silently ignore the journal requirement is journaling was not enabled on the server.</p>\n\n<p>You test MongoDB cluster must have journaling disabled. Either enable journaling on the server or remove the default write concern on the client (e.g., remove/change write-concern=\"JOURNAL_SAFE\"). For production, you almost definitely want journaling enabled.</p>\n\n<p>If you are using a replica set (or a shared cluster of replica sets) with at least 3 data holding members then a write concern of 'majority' might be a better, more performant, choice. (e.g., write-concern=\"MAJORITY\" ).</p>\n\n<p>If you are running a single Mongod process that is not part of a replica-set then you probably want a journal write concern but need to make sure that the journal is not disabled on the server. If you cannot control the server (and are still using a single mongod process) then you might want to switch to the FSYNC write concern. With FSYNC if the server has journaling enabled then it acts as a Journaled write, for a server without journaling enabled it will force all of the data files to disk (which will cause a lot of latency). Having said that you are better off getting journaling enabled on the server.</p>\n\n<p>Rob.</p>\n"},{"tags":[],"owner":{"account_id":12601979,"reputation":85,"user_id":11045984,"display_name":"Nicole"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650896290,"creation_date":1650896290,"answer_id":72001036,"question_id":27591685,"body_markdown":"I am posting this here in hopes someone else will find this helpful since it helped me.\r\n\r\nI wanted to run mongock for production purposes but it kept failing all my unit tests.\r\n\r\nI kept getting the following error:\r\n```\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;connectionDriver&#39; defined in class path resource [io/mongock/driver/mongodb/springdata/v3/config/SpringDataMongoV3Context.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [io.mongock.driver.api.driver.ConnectionDriver]: Factory method &#39;connectionDriver&#39; threw exception; nested exception is com.mongodb.MongoCommandException: Command failed with error 2 (BadValue): &#39;cannot use &#39;j&#39; option when a host does not have journaling enabled&#39; on server localhost:52663. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;cannot use &#39;j&#39; option when a host does not have journaling enabled&quot;, &quot;code&quot;: 2, &quot;codeName&quot;: &quot;BadValue&quot;}\r\n\r\n```\r\n\r\nThe solution was to add this flag in the application-test.properties:\r\n\r\n```\r\nmongock.enabled=false\r\n```","title":"MongoDb error: cannot use &#39;j&#39; option when a host does not have journaling enabled","body":"<p>I am posting this here in hopes someone else will find this helpful since it helped me.</p>\n<p>I wanted to run mongock for production purposes but it kept failing all my unit tests.</p>\n<p>I kept getting the following error:</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'connectionDriver' defined in class path resource [io/mongock/driver/mongodb/springdata/v3/config/SpringDataMongoV3Context.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [io.mongock.driver.api.driver.ConnectionDriver]: Factory method 'connectionDriver' threw exception; nested exception is com.mongodb.MongoCommandException: Command failed with error 2 (BadValue): 'cannot use 'j' option when a host does not have journaling enabled' on server localhost:52663. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;cannot use 'j' option when a host does not have journaling enabled&quot;, &quot;code&quot;: 2, &quot;codeName&quot;: &quot;BadValue&quot;}\n\n</code></pre>\n<p>The solution was to add this flag in the application-test.properties:</p>\n<pre><code>mongock.enabled=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5119511,"reputation":954,"user_id":4103578,"display_name":"Xavier Bouclet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658779216,"creation_date":1658779216,"answer_id":73114741,"question_id":27591685,"body_markdown":"For the one using Spring Boot, I would avoid deactivating mongock because your mongo db is not sync with prod anymore.\r\n\r\nYou can create your own **EmbeddedMongoAutoConfiguration** and add the journal in it.\r\n\r\nPersonally, I used this one with Spring Boot 2.7 :\r\n\r\n    @Configuration\r\n    public class MyEmbeddedMongoConfiguration extends EmbeddedMongoAutoConfiguration {\r\n    \r\n        private final MongoProperties properties;\r\n    \r\n        private static final byte[] IP4_LOOPBACK_ADDRESS = new byte[]{127, 0, 0, 1};\r\n        private static final byte[] IP6_LOOPBACK_ADDRESS = new byte[]{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1};\r\n    \r\n        public MyEmbeddedMongoConfiguration(MongoProperties properties) {\r\n            super(properties);\r\n            this.properties=properties;\r\n        }\r\n    \r\n        @Bean\r\n        public MongodConfig embeddedMongoConfiguration(EmbeddedMongoProperties embeddedProperties) throws IOException {\r\n            ImmutableMongodConfig.Builder builder = MongodConfig.builder()\r\n                    .version(Version.V4_0_12)\r\n                    .cmdOptions(MongoCmdOptions.builder().useNoJournal(false).build());\r\n            EmbeddedMongoProperties.Storage storage = embeddedProperties.getStorage();\r\n            if (storage != null) {\r\n                String databaseDir = storage.getDatabaseDir();\r\n                String replSetName = storage.getReplSetName();\r\n                int oplogSize = storage.getOplogSize() != null ? (int)storage.getOplogSize().toMegabytes() : 0;\r\n                builder.replication(new de.flapdoodle.embed.mongo.config.Storage(databaseDir, replSetName, oplogSize));\r\n            }\r\n    \r\n            Integer configuredPort = this.properties.getPort();\r\n            if (configuredPort != null &amp;&amp; configuredPort &gt; 0) {\r\n                builder.net(new Net(this.getHost().getHostAddress(), configuredPort, Network.localhostIsIPv6()));\r\n            } else {\r\n                builder.net(new Net(this.getHost().getHostAddress(), Network.freeServerPort(this.getHost()), Network.localhostIsIPv6()));\r\n            }\r\n    \r\n            return builder.build();\r\n        }\r\n    \r\n        private InetAddress getHost() throws UnknownHostException {\r\n            return this.properties.getHost() == null ? InetAddress.getByAddress(Network.localhostIsIPv6() ? IP6_LOOPBACK_ADDRESS : IP4_LOOPBACK_ADDRESS) : InetAddress.getByName(this.properties.getHost());\r\n        }\r\n    }\r\n\r\nThe important part :\r\n\r\n      ImmutableMongodConfig.Builder builder = MongodConfig.builder()\r\n                    .version(Version.V4_0_12).cmdOptions(MongoCmdOptions.builder().useNoJournal(false).build());\r\n\r\nThis code is adapted from the Spring Boot Configuration **EmbeddedMongoAutoConfiguration**. Look for the method **embeddedMongoConfiguration** if you need to do it.","title":"MongoDb error: cannot use &#39;j&#39; option when a host does not have journaling enabled","body":"<p>For the one using Spring Boot, I would avoid deactivating mongock because your mongo db is not sync with prod anymore.</p>\n<p>You can create your own <strong>EmbeddedMongoAutoConfiguration</strong> and add the journal in it.</p>\n<p>Personally, I used this one with Spring Boot 2.7 :</p>\n<pre><code>@Configuration\npublic class MyEmbeddedMongoConfiguration extends EmbeddedMongoAutoConfiguration {\n\n    private final MongoProperties properties;\n\n    private static final byte[] IP4_LOOPBACK_ADDRESS = new byte[]{127, 0, 0, 1};\n    private static final byte[] IP6_LOOPBACK_ADDRESS = new byte[]{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1};\n\n    public MyEmbeddedMongoConfiguration(MongoProperties properties) {\n        super(properties);\n        this.properties=properties;\n    }\n\n    @Bean\n    public MongodConfig embeddedMongoConfiguration(EmbeddedMongoProperties embeddedProperties) throws IOException {\n        ImmutableMongodConfig.Builder builder = MongodConfig.builder()\n                .version(Version.V4_0_12)\n                .cmdOptions(MongoCmdOptions.builder().useNoJournal(false).build());\n        EmbeddedMongoProperties.Storage storage = embeddedProperties.getStorage();\n        if (storage != null) {\n            String databaseDir = storage.getDatabaseDir();\n            String replSetName = storage.getReplSetName();\n            int oplogSize = storage.getOplogSize() != null ? (int)storage.getOplogSize().toMegabytes() : 0;\n            builder.replication(new de.flapdoodle.embed.mongo.config.Storage(databaseDir, replSetName, oplogSize));\n        }\n\n        Integer configuredPort = this.properties.getPort();\n        if (configuredPort != null &amp;&amp; configuredPort &gt; 0) {\n            builder.net(new Net(this.getHost().getHostAddress(), configuredPort, Network.localhostIsIPv6()));\n        } else {\n            builder.net(new Net(this.getHost().getHostAddress(), Network.freeServerPort(this.getHost()), Network.localhostIsIPv6()));\n        }\n\n        return builder.build();\n    }\n\n    private InetAddress getHost() throws UnknownHostException {\n        return this.properties.getHost() == null ? InetAddress.getByAddress(Network.localhostIsIPv6() ? IP6_LOOPBACK_ADDRESS : IP4_LOOPBACK_ADDRESS) : InetAddress.getByName(this.properties.getHost());\n    }\n}\n</code></pre>\n<p>The important part :</p>\n<pre><code>  ImmutableMongodConfig.Builder builder = MongodConfig.builder()\n                .version(Version.V4_0_12).cmdOptions(MongoCmdOptions.builder().useNoJournal(false).build());\n</code></pre>\n<p>This code is adapted from the Spring Boot Configuration <strong>EmbeddedMongoAutoConfiguration</strong>. Look for the method <strong>embeddedMongoConfiguration</strong> if you need to do it.</p>\n"}],"owner":{"account_id":326318,"reputation":7188,"user_id":648026,"accept_rate":79,"display_name":"JavaSheriff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4295,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":27592133,"answer_count":3,"score":0,"last_activity_date":1658779216,"creation_date":1419181505,"question_id":27591685,"body_markdown":"I was using mongo in dev just fine, when deploying the app into test env I got this error when objects are saved in the application\r\n\r\n    cannot use &#39;j&#39; option when a host does not have journaling enabled\r\n    \r\n&lt;BR/&gt;Dispatcher servlet is the same for both applications (dev vs test) with JOURNAL_SAFE \r\n&lt;BR/&gt;What did I do wrong?\r\n\r\n        &lt;mongo:mongo host=&quot;127.0.0.1&quot; port=&quot;27017&quot; write-concern=&quot;JOURNAL_SAFE&quot;&gt;\r\n        &lt;mongo:options connections-per-host=&quot;50&quot;\r\n                   threads-allowed-to-block-for-connection-multiplier=&quot;4&quot;\r\n                   connect-timeout=&quot;1000&quot;\r\n                   max-wait-time=&quot;1500&quot;\r\n                   auto-connect-retry=&quot;true&quot;\r\n                   socket-keep-alive=&quot;true&quot;\r\n                   socket-timeout=&quot;1500&quot;\r\n                   slave-ok=&quot;true&quot;\r\n                   write-number=&quot;1&quot;\r\n                   write-timeout=&quot;0&quot;\r\n                   write-fsync=&quot;false&quot;/&gt;\r\n    &lt;/mongo:mongo&gt;\r\n\r\n\r\nFull stack trace: \r\n\r\n\r\n    Caused by: com.mongodb.CommandFailureException: { &quot;serverUsed&quot; : &quot;127.0.0.1:27017&quot; , &quot;ok&quot; : 0 , &quot;code&quot; : 2 , &quot;errmsg&quot; : &quot;cannot use &#39;j&#39; option when a host does not have journaling enabled&quot;} \r\n    \tat com.mongodb.CommandResult.getException(CommandResult.java:76) \r\n    \tat com.mongodb.CommandResult.throwOnError(CommandResult.java:131) \r\n    \tat com.mongodb.DBCollectionImpl$3.execute(DBCollectionImpl.java:498) \r\n    \tat com.mongodb.DBCollectionImpl$3.execute(DBCollectionImpl.java:491) \r\n    \tat com.mongodb.DBTCPConnector.doOperation(DBTCPConnector.java:210) \r\n    \tat com.mongodb.DBCollectionImpl.receiveWriteCommandMessage(DBCollectionImpl.java:491) \r\n    \tat com.mongodb.DBCollectionImpl.writeWithCommandProtocol(DBCollectionImpl.java:430) \r\n    \tat com.mongodb.DBCollectionImpl.updateWithCommandProtocol(DBCollectionImpl.java:417) \r\n    \tat com.mongodb.DBCollectionImpl.update(DBCollectionImpl.java:267) \r\n    \tat com.mongodb.DBCollection.update(DBCollection.java:191) \r\n    \tat com.mongodb.DBCollection.update(DBCollection.java:224) \r\n    \tat com.xerox.dao.MainDaoImpl.saveOrUpdatePrinter(MainDaoImpl.java:246) \r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) \r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \r\n    \tat java.lang.reflect.Method.invoke(Method.java:606) \r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317) \r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) \r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) \r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:155) \r\n    \t... 44 more","title":"MongoDb error: cannot use &#39;j&#39; option when a host does not have journaling enabled","body":"<p>I was using mongo in dev just fine, when deploying the app into test env I got this error when objects are saved in the application</p>\n\n<pre><code>cannot use 'j' option when a host does not have journaling enabled\n</code></pre>\n\n<p><BR/>Dispatcher servlet is the same for both applications (dev vs test) with JOURNAL_SAFE \n<BR/>What did I do wrong?</p>\n\n<pre><code>    &lt;mongo:mongo host=\"127.0.0.1\" port=\"27017\" write-concern=\"JOURNAL_SAFE\"&gt;\n    &lt;mongo:options connections-per-host=\"50\"\n               threads-allowed-to-block-for-connection-multiplier=\"4\"\n               connect-timeout=\"1000\"\n               max-wait-time=\"1500\"\n               auto-connect-retry=\"true\"\n               socket-keep-alive=\"true\"\n               socket-timeout=\"1500\"\n               slave-ok=\"true\"\n               write-number=\"1\"\n               write-timeout=\"0\"\n               write-fsync=\"false\"/&gt;\n&lt;/mongo:mongo&gt;\n</code></pre>\n\n<p>Full stack trace: </p>\n\n<pre><code>Caused by: com.mongodb.CommandFailureException: { \"serverUsed\" : \"127.0.0.1:27017\" , \"ok\" : 0 , \"code\" : 2 , \"errmsg\" : \"cannot use 'j' option when a host does not have journaling enabled\"} \n    at com.mongodb.CommandResult.getException(CommandResult.java:76) \n    at com.mongodb.CommandResult.throwOnError(CommandResult.java:131) \n    at com.mongodb.DBCollectionImpl$3.execute(DBCollectionImpl.java:498) \n    at com.mongodb.DBCollectionImpl$3.execute(DBCollectionImpl.java:491) \n    at com.mongodb.DBTCPConnector.doOperation(DBTCPConnector.java:210) \n    at com.mongodb.DBCollectionImpl.receiveWriteCommandMessage(DBCollectionImpl.java:491) \n    at com.mongodb.DBCollectionImpl.writeWithCommandProtocol(DBCollectionImpl.java:430) \n    at com.mongodb.DBCollectionImpl.updateWithCommandProtocol(DBCollectionImpl.java:417) \n    at com.mongodb.DBCollectionImpl.update(DBCollectionImpl.java:267) \n    at com.mongodb.DBCollection.update(DBCollection.java:191) \n    at com.mongodb.DBCollection.update(DBCollection.java:224) \n    at com.xerox.dao.MainDaoImpl.saveOrUpdatePrinter(MainDaoImpl.java:246) \n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) \n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \n    at java.lang.reflect.Method.invoke(Method.java:606) \n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317) \n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) \n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) \n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:155) \n    ... 44 more\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19203818,"reputation":483,"user_id":14031171,"display_name":"Mike087"},"score":0,"creation_date":1658778084,"post_id":73114429,"comment_id":129131719,"body_markdown":"The line: `public final static String MSG = &quot;ORDER&quot;;` needs to be outside the method  `PlaceOrder`.","body":"The line: <code>public final static String MSG = &quot;ORDER&quot;;</code> needs to be outside the method  <code>PlaceOrder</code>."}],"answers":[{"tags":[],"owner":{"account_id":25893087,"reputation":1,"user_id":19620183,"display_name":"Mahad Bin Naeem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658778533,"creation_date":1658778533,"answer_id":73114630,"question_id":73114429,"body_markdown":"The line: public final static String MSG = &quot;ORDER&quot;; needs to be outside the method\r\n\r\n    package com.example.onlinefoodordermobileapp;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.EditText;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    public final static String MSG = &quot;ORDER&quot;;\r\n\r\n    //public void DisplayMenu(View view){\r\n    //    Intent intent=new Intent(this,Menu.class);\r\n    //    startActivity(intent);\r\n    //}\r\n    public void PlaceOrder(View view){\r\n        \r\n        EditText editText1 = findViewById(R.id.editText1);\r\n        EditText editText2 = findViewById(R.id.editText);\r\n        EditText editText3 = findViewById(R.id.editText2);\r\n        String message = editText1.getText()+&quot;, &quot;\r\n                        +editText2.getText()+&quot; and &quot;\r\n                        + editText3.getText()+&quot; added to Cart&quot;;\r\n        Intent intent=new Intent(this,placeOrder.class);\r\n        intent.putExtra(MSG,message.toString());\r\n        startActivity(intent);\r\n    }\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n  }\r\n\r\n\r\nLike this","title":"Showing error when getting data from first activity using intent.getStringExtra","body":"<p>The line: public final static String MSG = &quot;ORDER&quot;; needs to be outside the method</p>\n<pre><code>package com.example.onlinefoodordermobileapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.EditText;\n\npublic class MainActivity extends AppCompatActivity {\n\npublic final static String MSG = &quot;ORDER&quot;;\n\n//public void DisplayMenu(View view){\n//    Intent intent=new Intent(this,Menu.class);\n//    startActivity(intent);\n//}\npublic void PlaceOrder(View view){\n    \n    EditText editText1 = findViewById(R.id.editText1);\n    EditText editText2 = findViewById(R.id.editText);\n    EditText editText3 = findViewById(R.id.editText2);\n    String message = editText1.getText()+&quot;, &quot;\n                    +editText2.getText()+&quot; and &quot;\n                    + editText3.getText()+&quot; added to Cart&quot;;\n    Intent intent=new Intent(this,placeOrder.class);\n    intent.putExtra(MSG,message.toString());\n    startActivity(intent);\n}\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n}\n</code></pre>\n<p>}</p>\n<p>Like this</p>\n"}],"owner":{"account_id":25893087,"reputation":1,"user_id":19620183,"display_name":"Mahad Bin Naeem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658778533,"creation_date":1658777375,"question_id":73114429,"body_markdown":"    package com.example.onlinefoodordermobileapp;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.EditText;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        //public void DisplayMenu(View view){\r\n        //    Intent intent=new Intent(this,Menu.class);\r\n        //    startActivity(intent);\r\n        //}\r\n        public void PlaceOrder(View view){\r\n            public final static String MSG = &quot;ORDER&quot;;\r\n            EditText editText1 = findViewById(R.id.editText1);\r\n            EditText editText2 = findViewById(R.id.editText);\r\n            EditText editText3 = findViewById(R.id.editText2);\r\n            String message = editText1.getText()+&quot;, &quot;\r\n                            +editText2.getText()+&quot; and &quot;\r\n                            + editText3.getText()+&quot; added to Cart&quot;;\r\n            Intent intent=new Intent(this,placeOrder.class);\r\n            intent.putExtra(MSG,message.toString());\r\n            startActivity(intent);\r\n        }\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nThis is my first activity\r\n\r\n\r\n\r\n\r\n    package com.example.onlinefoodordermobileapp;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.widget.TextView;\r\n    \r\n    public class placeOrder extends AppCompatActivity {\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_place_order);\r\n            Intent intent=getIntent();\r\n            String message=intent.getStringExtra(MainActivity.MSG);\r\n            TextView textView=findViewById(R.id.textView3);\r\n            textView.setText(message);\r\n        }\r\n    }\r\n\r\n  \r\n\r\nThis is my second activity \r\n\r\nIT is giving error on intent.getStringExtra(MainActivity.MSG) on &quot;MSG&quot;. I don&#39;t know why. In first activity it is also giving error on public static final String MSG = &quot;ORDER&quot;; on &quot;public&quot; and &quot;static&quot;\r\nI don&#39;t know why.","title":"Showing error when getting data from first activity using intent.getStringExtra","body":"<pre><code>package com.example.onlinefoodordermobileapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.EditText;\n\npublic class MainActivity extends AppCompatActivity {\n\n    //public void DisplayMenu(View view){\n    //    Intent intent=new Intent(this,Menu.class);\n    //    startActivity(intent);\n    //}\n    public void PlaceOrder(View view){\n        public final static String MSG = &quot;ORDER&quot;;\n        EditText editText1 = findViewById(R.id.editText1);\n        EditText editText2 = findViewById(R.id.editText);\n        EditText editText3 = findViewById(R.id.editText2);\n        String message = editText1.getText()+&quot;, &quot;\n                        +editText2.getText()+&quot; and &quot;\n                        + editText3.getText()+&quot; added to Cart&quot;;\n        Intent intent=new Intent(this,placeOrder.class);\n        intent.putExtra(MSG,message.toString());\n        startActivity(intent);\n    }\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n}\n</code></pre>\n<p>This is my first activity</p>\n<pre><code>package com.example.onlinefoodordermobileapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.widget.TextView;\n\npublic class placeOrder extends AppCompatActivity {\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_place_order);\n        Intent intent=getIntent();\n        String message=intent.getStringExtra(MainActivity.MSG);\n        TextView textView=findViewById(R.id.textView3);\n        textView.setText(message);\n    }\n}\n</code></pre>\n<p>This is my second activity</p>\n<p>IT is giving error on intent.getStringExtra(MainActivity.MSG) on &quot;MSG&quot;. I don't know why. In first activity it is also giving error on public static final String MSG = &quot;ORDER&quot;; on &quot;public&quot; and &quot;static&quot;\nI don't know why.</p>\n"},{"tags":["java","recursion","backtracking"],"comments":[{"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"score":0,"creation_date":1658883595,"post_id":73114544,"comment_id":129160897,"body_markdown":"[Related explanation](https://stackoverflow.com/a/70173332/6243352). I don&#39;t think you need as many copies as you&#39;re making here and I don&#39;t think it&#39;s language-specific. The main reason to copy is because when you find a result and don&#39;t copy, you&#39;ll alias the &quot;working copy&quot; array multiple times in the result list, leaving you with a bunch of empty arrays when the backtracking pops all of the elements off on the way back up the call stack. Making the copy when you find a result ensures it&#39;s a snapshot of exactly the result and won&#39;t be mutated further.","body":"<a href=\"https://stackoverflow.com/a/70173332/6243352\">Related explanation</a>. I don&#39;t think you need as many copies as you&#39;re making here and I don&#39;t think it&#39;s language-specific. The main reason to copy is because when you find a result and don&#39;t copy, you&#39;ll alias the &quot;working copy&quot; array multiple times in the result list, leaving you with a bunch of empty arrays when the backtracking pops all of the elements off on the way back up the call stack. Making the copy when you find a result ensures it&#39;s a snapshot of exactly the result and won&#39;t be mutated further."},{"owner":{"account_id":23594199,"reputation":85,"user_id":17631530,"display_name":"kofi boateng"},"score":0,"creation_date":1659014389,"post_id":73114544,"comment_id":129198674,"body_markdown":"@ggorlen Your explanation makes sense! Thank you for the link as well. It lead to some more reading material after that.","body":"@ggorlen Your explanation makes sense! Thank you for the link as well. It lead to some more reading material after that."}],"owner":{"account_id":23594199,"reputation":85,"user_id":17631530,"display_name":"kofi boateng"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658778046,"creation_date":1658778046,"question_id":73114544,"body_markdown":"I am reviewing Leetcode problem #78 [Subsets](https://leetcode.com/problems/subsets/) and am currently at the point where I have the general understanding backtracking problems. The issue I am having may seem to be language specific but I will explain the general idea. Here is the code first.\r\n\r\n```\r\nclass Solution {\r\n    List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\r\n    public List&lt;List&lt;Integer&gt;&gt; subsets(int[] nums) {\r\n        dfs(new ArrayList&lt;Integer&gt;(), 0, nums);\r\n        return list;\r\n    }\r\n    \r\n    private void dfs(List&lt;Integer&gt; perm, int choice, int[] choices){\r\n        if(choice &gt;= choices.length){\r\n            list.add(new ArrayList&lt;&gt;(perm));\r\n            return;\r\n        }\r\n        \r\n        List&lt;Integer&gt; temp = new ArrayList&lt;&gt;(perm);\r\n        temp.add(choices[choice]);\r\n        dfs(temp,choice+1,choices);\r\n        temp.remove(temp.size()-1);\r\n        dfs(temp,choice+1,choices);\r\n    }\r\n}\r\n```\r\nIn the base case, (choice &gt;= choice.length), in order to get the correct answer I had to add a copy of a previous copy I already passed, however on other backtracking questions (See [Permutations](https://leetcode.com/problems/permutations)) I do not have to make a copy of a copy. I believe the reason could be disguised within the wording of the question, but if anyone knows why this is the case the help will be greatly appreciated. See below for Permutations\r\n\r\n```\r\nclass Solution {\r\n    List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\r\n    public List&lt;List&lt;Integer&gt;&gt; permute(int[] nums) {\r\n        List&lt;Integer&gt; dt = new ArrayList&lt;&gt;();\r\n        for(int n:nums) dt.add(n);\r\n        dfs(new ArrayList&lt;&gt;(), dt);\r\n        return list;\r\n    }\r\n    \r\n    private void dfs(List&lt;Integer&gt; perm, List&lt;Integer&gt; dt){\r\n        if(dt.size() == 0){\r\n            list.add(perm);\r\n            return;\r\n        }\r\n        \r\n        for(Integer n:dt){\r\n            List&lt;Integer&gt; tempP = new ArrayList&lt;&gt;(perm);\r\n            List&lt;Integer&gt; tempD = new ArrayList&lt;&gt;(dt);\r\n            tempP.add(n);\r\n            tempD.remove(n);\r\n            dfs(tempP,tempD);\r\n        }\r\n    }\r\n}\r\n```","title":"Leetcode 78 Subsets: When is copying necessary","body":"<p>I am reviewing Leetcode problem #78 <a href=\"https://leetcode.com/problems/subsets/\" rel=\"nofollow noreferrer\">Subsets</a> and am currently at the point where I have the general understanding backtracking problems. The issue I am having may seem to be language specific but I will explain the general idea. Here is the code first.</p>\n<pre><code>class Solution {\n    List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\n    public List&lt;List&lt;Integer&gt;&gt; subsets(int[] nums) {\n        dfs(new ArrayList&lt;Integer&gt;(), 0, nums);\n        return list;\n    }\n    \n    private void dfs(List&lt;Integer&gt; perm, int choice, int[] choices){\n        if(choice &gt;= choices.length){\n            list.add(new ArrayList&lt;&gt;(perm));\n            return;\n        }\n        \n        List&lt;Integer&gt; temp = new ArrayList&lt;&gt;(perm);\n        temp.add(choices[choice]);\n        dfs(temp,choice+1,choices);\n        temp.remove(temp.size()-1);\n        dfs(temp,choice+1,choices);\n    }\n}\n</code></pre>\n<p>In the base case, (choice &gt;= choice.length), in order to get the correct answer I had to add a copy of a previous copy I already passed, however on other backtracking questions (See <a href=\"https://leetcode.com/problems/permutations\" rel=\"nofollow noreferrer\">Permutations</a>) I do not have to make a copy of a copy. I believe the reason could be disguised within the wording of the question, but if anyone knows why this is the case the help will be greatly appreciated. See below for Permutations</p>\n<pre><code>class Solution {\n    List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\n    public List&lt;List&lt;Integer&gt;&gt; permute(int[] nums) {\n        List&lt;Integer&gt; dt = new ArrayList&lt;&gt;();\n        for(int n:nums) dt.add(n);\n        dfs(new ArrayList&lt;&gt;(), dt);\n        return list;\n    }\n    \n    private void dfs(List&lt;Integer&gt; perm, List&lt;Integer&gt; dt){\n        if(dt.size() == 0){\n            list.add(perm);\n            return;\n        }\n        \n        for(Integer n:dt){\n            List&lt;Integer&gt; tempP = new ArrayList&lt;&gt;(perm);\n            List&lt;Integer&gt; tempD = new ArrayList&lt;&gt;(dt);\n            tempP.add(n);\n            tempD.remove(n);\n            dfs(tempP,tempD);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jscrollpane","jtextarea"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":4,"creation_date":1658430692,"post_id":73071102,"comment_id":129056117,"body_markdown":"1) It will only scroll when you add text and the text exceeds the preferred size of the text area. 2) get rid of the setBounds() statement. You should NOT be using a null layout so that statement is not needed. Post a proper [mre] if you still have problems.","body":"1) It will only scroll when you add text and the text exceeds the preferred size of the text area. 2) get rid of the setBounds() statement. You should NOT be using a null layout so that statement is not needed. Post a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if you still have problems."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1658473071,"post_id":73071102,"comment_id":129064102,"body_markdown":"Refer to [How to Use Text Areas](https://docs.oracle.com/javase/tutorial/uiswing/components/textarea.html) which is part of Oracle&#39;s Java tutorials.","body":"Refer to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/textarea.html\" rel=\"nofollow noreferrer\">How to Use Text Areas</a> which is part of Oracle&#39;s Java tutorials."},{"owner":{"account_id":2289455,"reputation":5106,"user_id":2012715,"accept_rate":66,"display_name":"Dmytro"},"score":0,"creation_date":1658779467,"post_id":73071102,"comment_id":129132178,"body_markdown":"@camickr I am convinced that it is not a good idea to gatekeep beginners out of using null layout as a strictly bad thing. It works fine as long as the window is fixed size. it also develops a &quot;spatial feel&quot; which is lacking for people that miss out from vb6/forms applications/vba not being a popular anymore. It&#39;s not scalable, but it&#39;s significantly simpler. We have no idea what his form looks like(it might take hours to design an equivelent with layouts). A lot of experiments are better off written as null layout than not written at all.","body":"@camickr I am convinced that it is not a good idea to gatekeep beginners out of using null layout as a strictly bad thing. It works fine as long as the window is fixed size. it also develops a &quot;spatial feel&quot; which is lacking for people that miss out from vb6/forms applications/vba not being a popular anymore. It&#39;s not scalable, but it&#39;s significantly simpler. We have no idea what his form looks like(it might take hours to design an equivelent with layouts). A lot of experiments are better off written as null layout than not written at all."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1658789469,"post_id":73071102,"comment_id":129134477,"body_markdown":"@Dmitry using null layout is completely wrong always, independent of the knowledge level of the developer - it never works anywhere near to fine, the slightest change in the ui will break it.  The sooner newbies learn that fact (along with using layout managers) and the fewer incorrect snippets are drifting around the better.","body":"@Dmitry using null layout is completely wrong always, independent of the knowledge level of the developer - it never works anywhere near to fine, the slightest change in the ui will break it.  The sooner newbies learn that fact (along with using layout managers) and the fewer incorrect snippets are drifting around the better."}],"answers":[{"tags":[],"owner":{"display_name":"user19620158"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658778002,"creation_date":1658777627,"answer_id":73114485,"question_id":73071102,"body_markdown":"if you want to have a vertical scroll bar:\r\n\r\n    JPanel panel = new JPanel();\r\n    JScrollPane jsp = new JScrollPane(panel, ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS, ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\r\nif you want to have a horizontal scroll bar:\r\n\r\n    JPanel panel = new JPanel();\r\n    JScrollPane jsp = new JScrollPane(panel, ScrollPaneConstants.HORIZONTOL_SCROLLBAR_ALWAYS, ScrollPaneConstants.VERTICAL_SCROLLBAR_NEVER);","title":"Why is my scrolling textarea in java not scrolling?","body":"<p>if you want to have a vertical scroll bar:</p>\n<pre><code>JPanel panel = new JPanel();\nJScrollPane jsp = new JScrollPane(panel, ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS, ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\n</code></pre>\n<p>if you want to have a horizontal scroll bar:</p>\n<pre><code>JPanel panel = new JPanel();\nJScrollPane jsp = new JScrollPane(panel, ScrollPaneConstants.HORIZONTOL_SCROLLBAR_ALWAYS, ScrollPaneConstants.VERTICAL_SCROLLBAR_NEVER);\n</code></pre>\n"}],"owner":{"account_id":23512141,"reputation":39,"user_id":17560591,"display_name":"abc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1658778002,"creation_date":1658428376,"question_id":73071102,"body_markdown":"I have a frame f, panel Fpanel. and textarea j.\r\n\r\nThis is a part of my code.\r\n\r\nThe scroll does not seem to be working on my text area.\r\n\r\n```\r\n\t\t\t\tJTextArea j=new JTextArea();\r\n\t\t\t\tj.setBounds(60,150, 400,400); \r\n\t\t\t\tj.setMargin(new Insets(3,3,3,3));\r\n\t\t\t\tj.setEditable ( false ); // set textArea non-editable\r\n\t\t\t\t\r\n\t\t\t   JScrollPane scroll = new JScrollPane(j);\r\n\t\t\t   scroll.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);  \r\n\t\t       scroll.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n```\r\n\r\nI have added \r\n\r\nFpanel.add(scroll); \r\n\r\nand  \r\n\r\nf.add(Fpanel);\r\n\r\nto my code as well but it does not seem to be scrolling. \r\n\r\nAm I missing a piece of the code or have I written something incorrectly?","title":"Why is my scrolling textarea in java not scrolling?","body":"<p>I have a frame f, panel Fpanel. and textarea j.</p>\n<p>This is a part of my code.</p>\n<p>The scroll does not seem to be working on my text area.</p>\n<pre><code>                JTextArea j=new JTextArea();\n                j.setBounds(60,150, 400,400); \n                j.setMargin(new Insets(3,3,3,3));\n                j.setEditable ( false ); // set textArea non-editable\n                \n               JScrollPane scroll = new JScrollPane(j);\n               scroll.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);  \n               scroll.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n</code></pre>\n<p>I have added</p>\n<p>Fpanel.add(scroll);</p>\n<p>and</p>\n<p>f.add(Fpanel);</p>\n<p>to my code as well but it does not seem to be scrolling.</p>\n<p>Am I missing a piece of the code or have I written something incorrectly?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":15077620,"reputation":1,"user_id":10881238,"display_name":"aiman alnami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658777760,"creation_date":1658145237,"answer_id":73021912,"question_id":73021844,"body_markdown":"You can make interface hold all the methods and create abstract class implement the interface then make any classes that inherit from the abstract class read about liskov and segregation principles ","title":"How to make a class from that code? In order to not mess the Activity with a ton of code","body":"<p>You can make interface hold all the methods and create abstract class implement the interface then make any classes that inherit from the abstract class read about liskov and segregation principles</p>\n"},{"tags":[],"owner":{"account_id":10743627,"reputation":655,"user_id":7905787,"display_name":"Adnan Bashir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658146874,"creation_date":1658146874,"answer_id":73022240,"question_id":73021844,"body_markdown":"Use TedPermission Library which is very easy to use and easy to handle .\r\nMake a Function in separate   class and use it anywhere you want \r\n\r\n```\r\n    implementation &#39;gun0912.ted:tedpermission:2.2.3&#39;\r\n```\r\n```\r\npublic void checkPermissions(Context context) {\r\n\r\n        PermissionListener permissionlistener = new PermissionListener() {\r\n            @Override\r\n            public void onPermissionGranted() {\r\n                Toast.makeText(context, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onPermissionDenied(List&lt;String&gt; deniedPermissions) {\r\n                Toast.makeText(context, &quot;Permission Denied\\n&quot; + deniedPermissions.toString(), Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n\r\n\r\n        };\r\n        TedPermission.with(context)\r\n                .setPermissionListener(permissionlistener)\r\n                .setDeniedMessage(&quot;If you reject permission,you can not use this service\\n\\nPlease turn on permissions at [Setting] &gt; [Permission]&quot;)\r\n                .setPermissions(Manifest.permission.CAMERA, Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.WRITE_EXTERNAL_STORAGE)\r\n                .check();\r\n    }\r\n\r\n```\r\n\r\nhttps://github.com/ParkSangGwon/TedPermission","title":"How to make a class from that code? In order to not mess the Activity with a ton of code","body":"<p>Use TedPermission Library which is very easy to use and easy to handle .\nMake a Function in separate   class and use it anywhere you want</p>\n<pre><code>    implementation 'gun0912.ted:tedpermission:2.2.3'\n</code></pre>\n<pre><code>public void checkPermissions(Context context) {\n\n        PermissionListener permissionlistener = new PermissionListener() {\n            @Override\n            public void onPermissionGranted() {\n                Toast.makeText(context, &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\n\n            }\n\n            @Override\n            public void onPermissionDenied(List&lt;String&gt; deniedPermissions) {\n                Toast.makeText(context, &quot;Permission Denied\\n&quot; + deniedPermissions.toString(), Toast.LENGTH_SHORT).show();\n\n            }\n\n\n        };\n        TedPermission.with(context)\n                .setPermissionListener(permissionlistener)\n                .setDeniedMessage(&quot;If you reject permission,you can not use this service\\n\\nPlease turn on permissions at [Setting] &gt; [Permission]&quot;)\n                .setPermissions(Manifest.permission.CAMERA, Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.WRITE_EXTERNAL_STORAGE)\n                .check();\n    }\n\n</code></pre>\n<p><a href=\"https://github.com/ParkSangGwon/TedPermission\" rel=\"nofollow noreferrer\">https://github.com/ParkSangGwon/TedPermission</a></p>\n"}],"owner":{"account_id":25835130,"reputation":3,"user_id":19571652,"display_name":"java296642"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73022240,"answer_count":2,"score":0,"last_activity_date":1658777760,"creation_date":1658144860,"question_id":73021844,"body_markdown":"I want create a class called Permissions from below code and then call that in a click of a button. Because there is an @Override method in this activity and I don&#39;t know how to override methods inside a class. If I make a class for it the code would be much cleaner and easier to understand.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    TextView textView;\r\n    Button button;\r\n\r\n    final int REQUEST_CODE_FINE_LOCATION = 1234;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        textView = findViewById(R.id.textView);\r\n        button = findViewById(R.id.button);\r\n\r\n        // we are going to test weather the Location Permission is granted or not\r\n        if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n            textView.setText(&quot;Permission Granted...&quot;);\r\n        } else {\r\n            textView.setText(&quot;Permission is NOT granted&quot;);\r\n        }\r\n    }\r\n\r\n    public void requestPermission(View view) {\r\n\r\n        if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            // Permission is NOT granted\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION)) {\r\n                new AlertDialog.Builder(MainActivity.this)\r\n                        .setMessage(&quot;We need permission for fine location&quot;)\r\n                        .setCancelable(false)\r\n                        .setPositiveButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                ActivityCompat.requestPermissions(MainActivity.this, new String[] {Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_CODE_FINE_LOCATION);\r\n                            }\r\n                        })\r\n                        .show();\r\n            } else {\r\n                ActivityCompat.requestPermissions(MainActivity.this, new String[] {Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_CODE_FINE_LOCATION);\r\n            }\r\n\r\n        } else {\r\n            // Permission is Granted\r\n            textView.setText(&quot;Permission Granted&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n\r\n        if (requestCode == REQUEST_CODE_FINE_LOCATION) {\r\n\r\n            if (grantResults.length &gt;0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                //Permission Granted\r\n                textView.setText(&quot;Permission is Granted&quot;);\r\n            } else {\r\n                //Permission NOT granted\r\n                if (!ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION)) {\r\n                    //This block here means PERMANENTLY DENIED PERMISSION\r\n                    new AlertDialog.Builder(MainActivity.this)\r\n                            .setMessage(&quot;You have permanently denied this permission, go to settings to enable this permission&quot;)\r\n                            .setPositiveButton(&quot;Go to settings&quot;, new DialogInterface.OnClickListener() {\r\n                                @Override\r\n                                public void onClick(DialogInterface dialogInterface, int i) {\r\n                                    gotoApplicationSettings();\r\n                                }\r\n                            })\r\n                            .setNegativeButton(&quot;Cancel&quot;, null)\r\n                            .setCancelable(false)\r\n                            .show();\r\n                } else {\r\n                    //\r\n                    textView.setText(&quot;Permission NOt granted&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private void gotoApplicationSettings() {\r\n\r\n        Intent intent = new Intent();\r\n        intent.setAction(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\r\n        Uri uri = Uri.fromParts(&quot;package&quot;, this.getPackageName(), null);\r\n        intent.setData(uri);\r\n        startActivity(intent);\r\n\r\n    }\r\n    }\r\n\r\nSource: https://github.com/trulymittal/RuntimePermission\r\n","title":"How to make a class from that code? In order to not mess the Activity with a ton of code","body":"<p>I want create a class called Permissions from below code and then call that in a click of a button. Because there is an @Override method in this activity and I don't know how to override methods inside a class. If I make a class for it the code would be much cleaner and easier to understand.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nTextView textView;\nButton button;\n\nfinal int REQUEST_CODE_FINE_LOCATION = 1234;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    textView = findViewById(R.id.textView);\n    button = findViewById(R.id.button);\n\n    // we are going to test weather the Location Permission is granted or not\n    if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n        textView.setText(&quot;Permission Granted...&quot;);\n    } else {\n        textView.setText(&quot;Permission is NOT granted&quot;);\n    }\n}\n\npublic void requestPermission(View view) {\n\n    if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n        // Permission is NOT granted\n        if (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION)) {\n            new AlertDialog.Builder(MainActivity.this)\n                    .setMessage(&quot;We need permission for fine location&quot;)\n                    .setCancelable(false)\n                    .setPositiveButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialogInterface, int i) {\n                            ActivityCompat.requestPermissions(MainActivity.this, new String[] {Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_CODE_FINE_LOCATION);\n                        }\n                    })\n                    .show();\n        } else {\n            ActivityCompat.requestPermissions(MainActivity.this, new String[] {Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_CODE_FINE_LOCATION);\n        }\n\n    } else {\n        // Permission is Granted\n        textView.setText(&quot;Permission Granted&quot;);\n    }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n\n    if (requestCode == REQUEST_CODE_FINE_LOCATION) {\n\n        if (grantResults.length &gt;0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            //Permission Granted\n            textView.setText(&quot;Permission is Granted&quot;);\n        } else {\n            //Permission NOT granted\n            if (!ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION)) {\n                //This block here means PERMANENTLY DENIED PERMISSION\n                new AlertDialog.Builder(MainActivity.this)\n                        .setMessage(&quot;You have permanently denied this permission, go to settings to enable this permission&quot;)\n                        .setPositiveButton(&quot;Go to settings&quot;, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialogInterface, int i) {\n                                gotoApplicationSettings();\n                            }\n                        })\n                        .setNegativeButton(&quot;Cancel&quot;, null)\n                        .setCancelable(false)\n                        .show();\n            } else {\n                //\n                textView.setText(&quot;Permission NOt granted&quot;);\n            }\n        }\n    }\n}\n\nprivate void gotoApplicationSettings() {\n\n    Intent intent = new Intent();\n    intent.setAction(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\n    Uri uri = Uri.fromParts(&quot;package&quot;, this.getPackageName(), null);\n    intent.setData(uri);\n    startActivity(intent);\n\n}\n}\n</code></pre>\n<p>Source: <a href=\"https://github.com/trulymittal/RuntimePermission\" rel=\"nofollow noreferrer\">https://github.com/trulymittal/RuntimePermission</a></p>\n"},{"tags":["java","netbeans","null-check","netbeans-14"],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657808599,"creation_date":1657808599,"answer_id":72982115,"question_id":72972146,"body_markdown":"You can turn off the &quot;*Unnecessary test for null*&quot; warning using the Java annotation `@SuppressWarnings(&quot;null&quot;)`. That annotation is found in **java.lang**, and there is no need for an import.\r\n\r\n[The OpenJDK Javadoc for SuppressWarnings for JDK 17 states][1]:\r\n\r\n&gt; Indicates that the named compiler warnings should be suppressed in the\r\n&gt; annotated element (and in all program elements contained in the\r\n&gt; annotated element) ... As a matter of style, programmers should always\r\n&gt; use this annotation on the most deeply nested element where it is\r\n&gt; effective. If you want to suppress a warning in a particular method,\r\n&gt; you should annotate that method rather than its class.\r\n\r\nFrom [the linked documentation to section 9.6.4.5 of the Java Language Specification][2], `@SuppressWarnings` appears to do exactly what you want, with my emphasis added:\r\n\r\n&gt; 9.6.4.5. @SuppressWarnings\r\n&gt; \r\n&gt; Java compilers are increasingly capable of issuing helpful &quot;lint-like&quot;\r\n&gt; warnings. To encourage the use of such warnings, **there should be some\r\n&gt; way to disable a warning in a part of the program when the programmer\r\n&gt; knows that the warning is inappropriate**.\r\n\r\nHere&#39;s sample code, based on that in the OP:\r\n\r\n    package suppression;\r\n    import javax.validation.constraints.NotNull; // Jakarta EE 8\r\n    //import jakarta.validation.constraints.NotNull; // Jakarta EE 9\r\n    \r\n    public class Suppression {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Suppression supp = new Suppression();\r\n            Object o = supp.getTestValue();\r\n            supp.doSomething(o);\r\n            supp.doSomething2(o);\r\n        }\r\n    \r\n        Object getTestValue() {\r\n            Object o = null;\r\n            return o;\r\n        }\r\n    \r\n        private void doSomething(@NotNull Object o) {\r\n            \r\n            if (o == null) {\r\n                System.out.println(&quot;Object is null!&quot;);\r\n            }\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;null&quot;)\r\n        private void doSomething2(@NotNull Object o) {\r\n            \r\n            if (o == null) {\r\n                System.out.println(&quot;Object is null!&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nHere&#39;s a screenshot of that code in NetBeans 14 which shows:\r\n- The unwanted warning &quot;*Unnecessary test for null*&quot; is shown on line 22 in method `doSomething()`.\r\n- The annotation `@SuppressWarnings(&quot;null&quot;)` on line 27 prevents the unwanted warning &quot;*Unnecessary test for null*&quot; being shown on line 30 in the otherwise identical method `doSomething2()`.\r\n\r\n[![SuppressWarnings][3]][3]\r\n\r\n\r\n  [1]: https://devdocs.io/openjdk~17/java.base/java/lang/suppresswarnings\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se18/html/jls-9.html#jls-9.6.4.5\r\n  [3]: https://i.stack.imgur.com/YE0Nc.png\r\n","title":"How to disable &quot;unnecessary test for null&quot; warning in NetBeans 14?","body":"<p>You can turn off the &quot;<em>Unnecessary test for null</em>&quot; warning using the Java annotation <code>@SuppressWarnings(&quot;null&quot;)</code>. That annotation is found in <strong>java.lang</strong>, and there is no need for an import.</p>\n<p><a href=\"https://devdocs.io/openjdk%7E17/java.base/java/lang/suppresswarnings\" rel=\"nofollow noreferrer\">The OpenJDK Javadoc for SuppressWarnings for JDK 17 states</a>:</p>\n<blockquote>\n<p>Indicates that the named compiler warnings should be suppressed in the\nannotated element (and in all program elements contained in the\nannotated element) ... As a matter of style, programmers should always\nuse this annotation on the most deeply nested element where it is\neffective. If you want to suppress a warning in a particular method,\nyou should annotate that method rather than its class.</p>\n</blockquote>\n<p>From <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-9.html#jls-9.6.4.5\" rel=\"nofollow noreferrer\">the linked documentation to section 9.6.4.5 of the Java Language Specification</a>, <code>@SuppressWarnings</code> appears to do exactly what you want, with my emphasis added:</p>\n<blockquote>\n<p>9.6.4.5. @SuppressWarnings</p>\n<p>Java compilers are increasingly capable of issuing helpful &quot;lint-like&quot;\nwarnings. To encourage the use of such warnings, <strong>there should be some\nway to disable a warning in a part of the program when the programmer\nknows that the warning is inappropriate</strong>.</p>\n</blockquote>\n<p>Here's sample code, based on that in the OP:</p>\n<pre><code>package suppression;\nimport javax.validation.constraints.NotNull; // Jakarta EE 8\n//import jakarta.validation.constraints.NotNull; // Jakarta EE 9\n\npublic class Suppression {\n\n    public static void main(String[] args) {\n\n        Suppression supp = new Suppression();\n        Object o = supp.getTestValue();\n        supp.doSomething(o);\n        supp.doSomething2(o);\n    }\n\n    Object getTestValue() {\n        Object o = null;\n        return o;\n    }\n\n    private void doSomething(@NotNull Object o) {\n        \n        if (o == null) {\n            System.out.println(&quot;Object is null!&quot;);\n        }\n    }\n\n    @SuppressWarnings(&quot;null&quot;)\n    private void doSomething2(@NotNull Object o) {\n        \n        if (o == null) {\n            System.out.println(&quot;Object is null!&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Here's a screenshot of that code in NetBeans 14 which shows:</p>\n<ul>\n<li>The unwanted warning &quot;<em>Unnecessary test for null</em>&quot; is shown on line 22 in method <code>doSomething()</code>.</li>\n<li>The annotation <code>@SuppressWarnings(&quot;null&quot;)</code> on line 27 prevents the unwanted warning &quot;<em>Unnecessary test for null</em>&quot; being shown on line 30 in the otherwise identical method <code>doSomething2()</code>.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/YE0Nc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YE0Nc.png\" alt=\"SuppressWarnings\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658777685,"creation_date":1658777685,"answer_id":73114500,"question_id":72972146,"body_markdown":"The answer is: it cannot be done.\r\n\r\nNetBeans provides no way to disable the **unnecessary test for null** warning.\r\n\r\nWorkaround\r\n-------------\r\n\r\nAs other people in other answers have noted:\r\n\r\n- the value **can** be null\r\n- NetBeans is wrong thinking it cannot be null\r\n\r\nThe correct way to resolve the (incorrect) warning is to *obfuscate* the check for null. \r\n\r\nRather than calling:\r\n\r\n    if (customer == null) { ... }\r\n\r\nInstead call:\r\n\r\n    if (Object.isNull(customer)) { ... }\r\n\r\nIt is the same thing; except this way NetBeans doesn&#39;t realize that you&#39;re testing the variable for `null`, and so doesn&#39;t warn you.\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to disable &quot;unnecessary test for null&quot; warning in NetBeans 14?","body":"<p>The answer is: it cannot be done.</p>\n<p>NetBeans provides no way to disable the <strong>unnecessary test for null</strong> warning.</p>\n<h2>Workaround</h2>\n<p>As other people in other answers have noted:</p>\n<ul>\n<li>the value <strong>can</strong> be null</li>\n<li>NetBeans is wrong thinking it cannot be null</li>\n</ul>\n<p>The correct way to resolve the (incorrect) warning is to <em>obfuscate</em> the check for null.</p>\n<p>Rather than calling:</p>\n<pre><code>if (customer == null) { ... }\n</code></pre>\n<p>Instead call:</p>\n<pre><code>if (Object.isNull(customer)) { ... }\n</code></pre>\n<p>It is the same thing; except this way NetBeans doesn't realize that you're testing the variable for <code>null</code>, and so doesn't warn you.</p>\n"}],"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":605,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":73114500,"answer_count":2,"score":3,"last_activity_date":1658777685,"creation_date":1657743471,"question_id":72972146,"body_markdown":"Short Version\r\n-------------\r\n\r\nHow do i disable the &quot;unnecessary test for null&quot; warning in NetBeans 14 IDE?\r\n\r\n[![enter image description here][1]][1]\r\n\r\nLong Version\r\n------------\r\n\r\nNetBeans as a well-known bug &lt;sup&gt;[1][2] [2][3] [3][4] [4][5]&lt;/sup&gt; where it will erroneously tell you that a test for `null` is unnecessary. For example in the following code:\r\n\r\n```\r\nimport javax.validation.constraints.NotNull;\r\n\r\nprivate void doSomething(@NotNull Object o) {\r\n   \r\n   if (o == null) return;\r\n\r\n   //...do more stuff...\r\n}\r\n```\r\n\r\nThe IDE *thinks* \r\n\r\n- because the `o` parameter was tagged as &lt;kbd&gt;@NotNull&lt;/kbd&gt;`o` \r\n- it must be **impossible** for `o` to be `null`\r\n- so it must be that the `if` statement is unnecessary\r\n\r\nThis is demonstrably false\r\n---------------------------\r\n\r\nThe &lt;kbd&gt;@NotNull&lt;/kbd&gt; annotation is only an IDE hint, not a runtime guarantee. \r\n\r\n- just because an argument to a method is tagged as &lt;kbd&gt;@NotNull&lt;/kbd&gt;able \r\n- does not mean it cannot be `null`\r\n\r\nYou can prove this to yourself by passing `null` to the `doSomething` method. (we can even write the test code so the IDE generates no hints or warnings at all!):\r\n\r\n```\r\nObject o = getTestValue();\r\ndoSomething(o);\r\n\r\nprivate Object getTestValue()\r\n{\r\n\tObject o = null;\r\n\treturn o;\r\n}\r\n\r\nprivate void doSomething(@NotNull Object o) {\r\n\tObjects.requireNonNull(value);\r\n\t//...do more stuff...\r\n}\r\n```\r\n\r\nAnd watch `doSomething` method fail - because `o` is `null` - even though it is tagged &lt;kbd&gt;@NotNull&lt;/kbd&gt;.\r\n\r\nNow, there may be other implementations of `@NotNull`, or other compilers that add runtime checks. I&#39;m not talking about those. The NetBeans IDE 14 warning is wrong, so i need to disable it.\r\n\r\nResearch Effort\r\n---------------\r\n\r\n1. I tried clicking the lightbulb, to hopefully configure the warning:\r\n\r\n[![enter image description here][6]][6]\r\n\r\nbut it only offers to configure *null deference* warnings - **which i definitely want to keep**.\r\n\r\n2. I tried pressing &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt; to bring up more options:\r\n\r\n[![enter image description here][7]][7]\r\n\r\nbut nothing of value appears:\r\n\r\n3. I tried to let it bring me to the area to configure the **Null dereferncing** hint:\r\n\r\n[![enter image description here][8]][8]\r\n\r\nbut it definitely has **nothing** to do with *unnecessary test for null.\r\n\r\n4. I tried searching for a hint or warning named *&quot;null&quot;*:\r\n\r\n[![enter image description here][9]][9]\r\n\r\nbut it&#39;s not there.\r\n\r\n5. I tried searching for a hint or warning named *&quot;unnecessary&quot;*:\r\n\r\n[![enter image description here][10]][10]\r\n\r\nbut it&#39;s not there.\r\n\r\n6. I tried searching for a hint or warning named *&quot;test&quot;*: \r\n\r\n[![enter image description here][11]][11]\r\n\r\nbut it&#39;s not there.\r\n\r\nHow to turn it off\r\n-----------------\r\n\r\nWhich brings me to my question:\r\n\r\n- given that NetBeans IDE 14 has no way to turn off *&quot;unnecessary test for null&quot;* warning\r\n- how do i turn off the *&quot;unnecessary test for null&quot;* warning in NetBeans IDE 14?\r\n\r\nBonus Reading\r\n=============\r\n\r\n- https://stackoverflow.com/q/28404608\r\n- https://stackoverflow.com/q/22750489 *(&quot;First thing to note is: NetBeans is wrong&quot;)*\r\n- BugZilla: [Bug 226923 - Wrong warning &#39;the expression is never null&#39;](https://bz.apache.org/netbeans/show_bug.cgi?id=226923)\r\n- Bugzilla: [Bug 262707 - Add configuration of Nullable/NonNull annotations. Use FQNs or allow to exclude FQNs.](https://bz.apache.org/netbeans/show_bug.cgi?id=262707)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Hw9Tf.png\r\n  [2]: https://stackoverflow.com/a/23086775/12597\r\n  [3]: https://stackoverflow.com/a/29106099/12597\r\n  [4]: https://netbeans.org/bugzilla/show_bug.cgi?id=226923\r\n  [5]: https://netbeans.org/bugzilla/show_bug.cgi?id=262707\r\n  [6]: https://i.stack.imgur.com/GsztX.png\r\n  [7]: https://i.stack.imgur.com/HMP9R.png\r\n  [8]: https://i.stack.imgur.com/bAvdL.png\r\n  [9]: https://i.stack.imgur.com/Ir6Xt.png\r\n  [10]: https://i.stack.imgur.com/gWw8w.png\r\n  [11]: https://i.stack.imgur.com/zpSpp.png","title":"How to disable &quot;unnecessary test for null&quot; warning in NetBeans 14?","body":"<h2>Short Version</h2>\n<p>How do i disable the &quot;unnecessary test for null&quot; warning in NetBeans 14 IDE?</p>\n<p><a href=\"https://i.stack.imgur.com/Hw9Tf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hw9Tf.png\" alt=\"enter image description here\" /></a></p>\n<h2>Long Version</h2>\n<p>NetBeans as a well-known bug <sup><a href=\"https://stackoverflow.com/a/23086775/12597\">1</a> <a href=\"https://stackoverflow.com/a/29106099/12597\">2</a> <a href=\"https://netbeans.org/bugzilla/show_bug.cgi?id=226923\" rel=\"nofollow noreferrer\">3</a> <a href=\"https://netbeans.org/bugzilla/show_bug.cgi?id=262707\" rel=\"nofollow noreferrer\">4</a></sup> where it will erroneously tell you that a test for <code>null</code> is unnecessary. For example in the following code:</p>\n<pre><code>import javax.validation.constraints.NotNull;\n\nprivate void doSomething(@NotNull Object o) {\n   \n   if (o == null) return;\n\n   //...do more stuff...\n}\n</code></pre>\n<p>The IDE <em>thinks</em></p>\n<ul>\n<li>because the <code>o</code> parameter was tagged as <kbd>@NotNull</kbd><code>o</code></li>\n<li>it must be <strong>impossible</strong> for <code>o</code> to be <code>null</code></li>\n<li>so it must be that the <code>if</code> statement is unnecessary</li>\n</ul>\n<h2>This is demonstrably false</h2>\n<p>The <kbd>@NotNull</kbd> annotation is only an IDE hint, not a runtime guarantee.</p>\n<ul>\n<li>just because an argument to a method is tagged as <kbd>@NotNull</kbd>able</li>\n<li>does not mean it cannot be <code>null</code></li>\n</ul>\n<p>You can prove this to yourself by passing <code>null</code> to the <code>doSomething</code> method. (we can even write the test code so the IDE generates no hints or warnings at all!):</p>\n<pre><code>Object o = getTestValue();\ndoSomething(o);\n\nprivate Object getTestValue()\n{\n    Object o = null;\n    return o;\n}\n\nprivate void doSomething(@NotNull Object o) {\n    Objects.requireNonNull(value);\n    //...do more stuff...\n}\n</code></pre>\n<p>And watch <code>doSomething</code> method fail - because <code>o</code> is <code>null</code> - even though it is tagged <kbd>@NotNull</kbd>.</p>\n<p>Now, there may be other implementations of <code>@NotNull</code>, or other compilers that add runtime checks. I'm not talking about those. The NetBeans IDE 14 warning is wrong, so i need to disable it.</p>\n<h2>Research Effort</h2>\n<ol>\n<li>I tried clicking the lightbulb, to hopefully configure the warning:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/GsztX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GsztX.png\" alt=\"enter image description here\" /></a></p>\n<p>but it only offers to configure <em>null deference</em> warnings - <strong>which i definitely want to keep</strong>.</p>\n<ol start=\"2\">\n<li>I tried pressing <kbd>Alt</kbd>+<kbd>Enter</kbd> to bring up more options:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/HMP9R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HMP9R.png\" alt=\"enter image description here\" /></a></p>\n<p>but nothing of value appears:</p>\n<ol start=\"3\">\n<li>I tried to let it bring me to the area to configure the <strong>Null dereferncing</strong> hint:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/bAvdL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bAvdL.png\" alt=\"enter image description here\" /></a></p>\n<p>but it definitely has <strong>nothing</strong> to do with *unnecessary test for null.</p>\n<ol start=\"4\">\n<li>I tried searching for a hint or warning named <em>&quot;null&quot;</em>:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/Ir6Xt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ir6Xt.png\" alt=\"enter image description here\" /></a></p>\n<p>but it's not there.</p>\n<ol start=\"5\">\n<li>I tried searching for a hint or warning named <em>&quot;unnecessary&quot;</em>:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/gWw8w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gWw8w.png\" alt=\"enter image description here\" /></a></p>\n<p>but it's not there.</p>\n<ol start=\"6\">\n<li>I tried searching for a hint or warning named <em>&quot;test&quot;</em>:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/zpSpp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zpSpp.png\" alt=\"enter image description here\" /></a></p>\n<p>but it's not there.</p>\n<h2>How to turn it off</h2>\n<p>Which brings me to my question:</p>\n<ul>\n<li>given that NetBeans IDE 14 has no way to turn off <em>&quot;unnecessary test for null&quot;</em> warning</li>\n<li>how do i turn off the <em>&quot;unnecessary test for null&quot;</em> warning in NetBeans IDE 14?</li>\n</ul>\n<h1>Bonus Reading</h1>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/28404608\">What does unnecessary test for null mean?</a></li>\n<li><a href=\"https://stackoverflow.com/q/22750489\">Netbeans tells me to remove null comparison, but that breaks my code</a> <em>(&quot;First thing to note is: NetBeans is wrong&quot;)</em></li>\n<li>BugZilla: <a href=\"https://bz.apache.org/netbeans/show_bug.cgi?id=226923\" rel=\"nofollow noreferrer\">Bug 226923 - Wrong warning 'the expression is never null'</a></li>\n<li>Bugzilla: <a href=\"https://bz.apache.org/netbeans/show_bug.cgi?id=262707\" rel=\"nofollow noreferrer\">Bug 262707 - Add configuration of Nullable/NonNull annotations. Use FQNs or allow to exclude FQNs.</a></li>\n</ul>\n"},{"tags":["java","parallel-processing","julia","combinations"],"comments":[{"owner":{"account_id":6662728,"reputation":5945,"user_id":5141328,"accept_rate":62,"display_name":"Oscar Smith"},"score":0,"creation_date":1658795615,"post_id":73114127,"comment_id":129135453,"body_markdown":"does `check` vary relatively slowly with the parameters? If so, using optimization techniques will be way better","body":"does <code>check</code> vary relatively slowly with the parameters? If so, using optimization techniques will be way better"}],"answers":[{"tags":[],"owner":{"account_id":13796662,"reputation":40668,"user_id":9957710,"display_name":"Przemyslaw Szufel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658776937,"creation_date":1658776937,"answer_id":73114369,"question_id":73114127,"body_markdown":"```\r\nusing Distributed\r\naddprocs(16) # whatever CPU / vCPU you have\r\n@everywhere function check(a,b, c)\r\n    a^2 - 2b - 45c + c^2\r\nend\r\n\r\nbest = @distributed max for (a,b,c) in vec(collect(Iterators.product(1:30, 1:50, 1:90)))\r\n    (check(a,b,c), a,b,c)\r\nend\r\n```\r\n\r\n```\r\njulia&gt; best\r\n(4948, 30, 1, 90)\r\n```\r\n\r\nAs you can see in Julia this kind of code i short.\r\n`Distributed` is an equivalent of `multiprocessing` in Python but much more powerful. `@everywhere` defines function in all nodes around the cluster. `@distributed` in this scenario uses an aggregator function which is max. We distribute computing of a Cartesian Product of all parameters - in distributed scenario this is usually better than nested loops. Also note that the order of parameter matters when computation times depend on parameter values. The loop yields a tuple that goes to the `max` aggregator function.","title":"How to use parallelism in Julia to speed up combinatorial checking?","body":"<pre><code>using Distributed\naddprocs(16) # whatever CPU / vCPU you have\n@everywhere function check(a,b, c)\n    a^2 - 2b - 45c + c^2\nend\n\nbest = @distributed max for (a,b,c) in vec(collect(Iterators.product(1:30, 1:50, 1:90)))\n    (check(a,b,c), a,b,c)\nend\n</code></pre>\n<pre><code>julia&gt; best\n(4948, 30, 1, 90)\n</code></pre>\n<p>As you can see in Julia this kind of code i short.\n<code>Distributed</code> is an equivalent of <code>multiprocessing</code> in Python but much more powerful. <code>@everywhere</code> defines function in all nodes around the cluster. <code>@distributed</code> in this scenario uses an aggregator function which is max. We distribute computing of a Cartesian Product of all parameters - in distributed scenario this is usually better than nested loops. Also note that the order of parameter matters when computation times depend on parameter values. The loop yields a tuple that goes to the <code>max</code> aggregator function.</p>\n"}],"owner":{"account_id":4835608,"reputation":415,"user_id":11391560,"display_name":"Krish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73114369,"answer_count":1,"score":2,"last_activity_date":1658776937,"creation_date":1658775675,"question_id":73114127,"body_markdown":"Given a bunch of nested for loops, I wish to find the best combination of values according to some metric, and I want to keep track of the best combination and the best result.\r\n\r\nI gave an example (below) of how a very basic version of what I want would look like sequentially. However, I realize that this problem can be easily parallelized, especially if I can generate all combinations and then run the `check` function for each combination at the same time. \r\n\r\nIn my specific use case, the `check` function takes the majority of the time, so it is a clear bottleneck in my algorithm. My intuition is that if I were to create an array of tasks, I could run these tasks all at once and achieve a considerable speedup. \r\n\r\nGiven my requirements, how would I implement this in Julia? In Java, I know I could use something like `ForkJoinPool` and add a slew of tasks that way, but I am unsure of the Julia equivalent. \r\n \r\n```\r\nfunction check(parameters)\r\n    return value(parameters)\r\nend\r\n\r\nbestCheck = 0 \r\nbestParameters = []\r\nfor a in 1:30\r\n   for b in 1:50\r\n       for c in 1:90\r\n           temp = check(a,b,c)\r\n           if temp &gt; bestCheck\r\n               bestCheck = temp\r\n               bestParameters = [a b c]\r\n           end\r\n        end\r\n    end\r\nend\r\n\r\nprintln(bestCheck)\r\nprintln(bestParameters)\r\n\r\n```","title":"How to use parallelism in Julia to speed up combinatorial checking?","body":"<p>Given a bunch of nested for loops, I wish to find the best combination of values according to some metric, and I want to keep track of the best combination and the best result.</p>\n<p>I gave an example (below) of how a very basic version of what I want would look like sequentially. However, I realize that this problem can be easily parallelized, especially if I can generate all combinations and then run the <code>check</code> function for each combination at the same time.</p>\n<p>In my specific use case, the <code>check</code> function takes the majority of the time, so it is a clear bottleneck in my algorithm. My intuition is that if I were to create an array of tasks, I could run these tasks all at once and achieve a considerable speedup.</p>\n<p>Given my requirements, how would I implement this in Julia? In Java, I know I could use something like <code>ForkJoinPool</code> and add a slew of tasks that way, but I am unsure of the Julia equivalent.</p>\n<pre><code>function check(parameters)\n    return value(parameters)\nend\n\nbestCheck = 0 \nbestParameters = []\nfor a in 1:30\n   for b in 1:50\n       for c in 1:90\n           temp = check(a,b,c)\n           if temp &gt; bestCheck\n               bestCheck = temp\n               bestParameters = [a b c]\n           end\n        end\n    end\nend\n\nprintln(bestCheck)\nprintln(bestParameters)\n\n</code></pre>\n"},{"tags":["java","mysql","hadoop","hive"],"comments":[{"owner":{"account_id":17077819,"reputation":3030,"user_id":12357035,"display_name":"Sourav Kannantha B"},"score":0,"creation_date":1658667828,"post_id":73098643,"comment_id":129103098,"body_markdown":"There is a similar [question](https://stackoverflow.com/q/53548401/12357035). But it has no answers!!","body":"There is a similar <a href=\"https://stackoverflow.com/q/53548401/12357035\">question</a>. But it has no answers!!"},{"owner":{"account_id":5270084,"reputation":9870,"user_id":4307136,"display_name":"ggordon"},"score":0,"creation_date":1658674947,"post_id":73098643,"comment_id":129104606,"body_markdown":"Since you are using mysql 8, have you tried 1. adding the mysql-connector for java 8, [here](https://dev.mysql.com/downloads/connector/j/) 2. changing the driver name in `hive-site.xml` to `com.mysql.cj.jdbc.Driver`","body":"Since you are using mysql 8, have you tried 1. adding the mysql-connector for java 8, <a href=\"https://dev.mysql.com/downloads/connector/j/\" rel=\"nofollow noreferrer\">here</a> 2. changing the driver name in <code>hive-site.xml</code> to <code>com.mysql.cj.jdbc.Driver</code>"},{"owner":{"account_id":17077819,"reputation":3030,"user_id":12357035,"display_name":"Sourav Kannantha B"},"score":1,"creation_date":1658675830,"post_id":73098643,"comment_id":129104796,"body_markdown":"@ggordon Now I downloaded  `mysql-connector-java-8.0.29.jar` from  [here](https://repo1.maven.org/maven2/mysql/mysql-connector-java/8.0.29). Also, changed driver name in `hive-site.xml`. But still exact same error persists.","body":"@ggordon Now I downloaded  <code>mysql-connector-java-8.0.29.jar</code> from  <a href=\"https://repo1.maven.org/maven2/mysql/mysql-connector-java/8.0.29\" rel=\"nofollow noreferrer\">here</a>. Also, changed driver name in <code>hive-site.xml</code>. But still exact same error persists."},{"owner":{"account_id":17077819,"reputation":3030,"user_id":12357035,"display_name":"Sourav Kannantha B"},"score":0,"creation_date":1658675871,"post_id":73098643,"comment_id":129104800,"body_markdown":"I am using Ubuntu-20.04 inside WSL Windows-11.","body":"I am using Ubuntu-20.04 inside WSL Windows-11."},{"owner":{"account_id":5270084,"reputation":9870,"user_id":4307136,"display_name":"ggordon"},"score":0,"creation_date":1658676279,"post_id":73098643,"comment_id":129104877,"body_markdown":"Does the suggestion [here](https://stackoverflow.com/a/50131831/4307136) to enable native passwords/auth protocols help?","body":"Does the suggestion <a href=\"https://stackoverflow.com/a/50131831/4307136\">here</a> to enable native passwords/auth protocols help?"},{"owner":{"account_id":17077819,"reputation":3030,"user_id":12357035,"display_name":"Sourav Kannantha B"},"score":0,"creation_date":1658776825,"post_id":73098643,"comment_id":129131326,"body_markdown":"@ggordon Thanks for your suggestions, I was able to track down the mistake. I have posted it in the answer.","body":"@ggordon Thanks for your suggestions, I was able to track down the mistake. I have posted it in the answer."}],"answers":[{"tags":[],"owner":{"account_id":17077819,"reputation":3030,"user_id":12357035,"display_name":"Sourav Kannantha B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658776742,"creation_date":1658776742,"answer_id":73114327,"question_id":73098643,"body_markdown":"Thanks to suggestions by @ggordon in comments under the question. I followed the steps in [this website][1] with some small modifications.\r\n\r\n1. When I executed `mysql -u debian-sys-maint -p`, I was getting `ERROR 2002 (HY000): Can&#39;t connect to local MySQL server through socket &#39;/var/run/mysqld/mysqld.sock&#39; (13)` error. So, I changed it to use loopback address: `mysql -h 127.0.0.1 -u debian-sys-maint -p`.\r\n\r\n2. `CREATE USER &#39;hiveuser&#39;@&#39;%&#39; IDENTIFIED BY &#39;hivepassword&#39;` has to be changed to `CREATE USER &#39;hiveuser&#39;@&#39;127.0.0.1&#39; IDENTIFIED BY &#39;hivepassword&#39;`, since that is what we are using. (I missed this step in question)\r\n\r\n3. `GRANT all on . to hiveuser` was not working for me. So, after some googling, I changed it to `GRANT all on hive_metastore.* to &#39;hiveuser&#39;@&#39;127.0.0.1&#39;`.\r\n\r\n4. `javax.jdo.option.ConnectionURL` property in _$HIVE_HOME/conf/hive-site.xml_ was set to `jdbc:mysql://localhost/hive_metastore?createDatabaseIfNotExist=true`. It has to be changed to `jdbc:mysql://127.0.0.1/hive_metastore?createDatabaseIfNotExist=true`.\r\n\r\nWith these changes, I followed steps in the above linked site, and it is working fine now.\r\n\r\n\r\n  [1]: https://hadooptutorials.info/2021/11/26/configure-apache-hive-metastore-using-mysql-database/","title":"Unable to initiate metastore in Hive with Hodoop","body":"<p>Thanks to suggestions by @ggordon in comments under the question. I followed the steps in <a href=\"https://hadooptutorials.info/2021/11/26/configure-apache-hive-metastore-using-mysql-database/\" rel=\"nofollow noreferrer\">this website</a> with some small modifications.</p>\n<ol>\n<li><p>When I executed <code>mysql -u debian-sys-maint -p</code>, I was getting <code>ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (13)</code> error. So, I changed it to use loopback address: <code>mysql -h 127.0.0.1 -u debian-sys-maint -p</code>.</p>\n</li>\n<li><p><code>CREATE USER 'hiveuser'@'%' IDENTIFIED BY 'hivepassword'</code> has to be changed to <code>CREATE USER 'hiveuser'@'127.0.0.1' IDENTIFIED BY 'hivepassword'</code>, since that is what we are using. (I missed this step in question)</p>\n</li>\n<li><p><code>GRANT all on . to hiveuser</code> was not working for me. So, after some googling, I changed it to <code>GRANT all on hive_metastore.* to 'hiveuser'@'127.0.0.1'</code>.</p>\n</li>\n<li><p><code>javax.jdo.option.ConnectionURL</code> property in <em>$HIVE_HOME/conf/hive-site.xml</em> was set to <code>jdbc:mysql://localhost/hive_metastore?createDatabaseIfNotExist=true</code>. It has to be changed to <code>jdbc:mysql://127.0.0.1/hive_metastore?createDatabaseIfNotExist=true</code>.</p>\n</li>\n</ol>\n<p>With these changes, I followed steps in the above linked site, and it is working fine now.</p>\n"}],"owner":{"account_id":17077819,"reputation":3030,"user_id":12357035,"display_name":"Sourav Kannantha B"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1122,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73114327,"answer_count":1,"score":-1,"last_activity_date":1658776907,"creation_date":1658667756,"question_id":73098643,"body_markdown":"I have _Hadoop 3.3.2_, _Hive 3.1.3_, _MySql 8.0.29_(apt install mysql-server) installed. _MySql_ is running properly with `mysql -h 127.0.0.1 -u debian-sys-maint -p` command. But unable to run any command in _Hive_. I&#39;m getting `FAILED: HiveException java.lang.RuntimeException: Unable to instantiate org.apache.hadoop.hive.ql.metadata.SessionHiveMetaStoreClient` exception.\r\n\r\nThen in SO, I found [this question on SO][1], which says to execute `hive --service metastore`. But, when I execute this command, I get this error:\r\n```\r\n2022-07-24 17:15:57: Starting Hive Metastore Server\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/home/hdoop/apache-hive-3.1.3-bin/lib/log4j-slf4j-impl-2.17.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/home/hdoop/hadoop-3.3.2/share/hadoop/common/lib/slf4j-log4j12-1.7.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\r\nMetaException(message:Error creating transactional connection factory)\r\n        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.&lt;init&gt;(RetryingHMSHandler.java:84)\r\n        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.getProxy(RetryingHMSHandler.java:93)\r\n        at org.apache.hadoop.hive.metastore.HiveMetaStore.newRetryingHMSHandler(HiveMetaStore.java:8672)\r\n        at org.apache.hadoop.hive.metastore.HiveMetaStore.newRetryingHMSHandler(HiveMetaStore.java:8667)\r\n        at org.apache.hadoop.hive.metastore.HiveMetaStore.startMetaStore(HiveMetaStore.java:8937)\r\n        at org.apache.hadoop.hive.metastore.HiveMetaStore.main(HiveMetaStore.java:8854)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.apache.hadoop.util.RunJar.run(RunJar.java:323)\r\n        at org.apache.hadoop.util.RunJar.main(RunJar.java:236)\r\nCaused by: MetaException(message:Error creating transactional connection factory)\r\n        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.invokeInternal(RetryingHMSHandler.java:208)\r\n        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.invoke(RetryingHMSHandler.java:108)\r\n        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.&lt;init&gt;(RetryingHMSHandler.java:80)\r\n        ... 11 more\r\nCaused by: javax.jdo.JDOFatalInternalException: Error creating transactional connection factory\r\nNestedThrowables:\r\njava.lang.reflect.InvocationTargetException\r\n        at org.datanucleus.api.jdo.NucleusJDOHelper.getJDOExceptionForNucleusException(NucleusJDOHelper.java:671)\r\n        at org.datanucleus.api.jdo.JDOPersistenceManagerFactory.freezeConfiguration(JDOPersistenceManagerFactory.java:830)\r\n        at org.datanucleus.api.jdo.JDOPersistenceManagerFactory.createPersistenceManagerFactory(JDOPersistenceManagerFactory.java:334)\r\n        at org.datanucleus.api.jdo.JDOPersistenceManagerFactory.getPersistenceManagerFactory(JDOPersistenceManagerFactory.java:213)\r\n        at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at javax.jdo.JDOHelper$16.run(JDOHelper.java:1965)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at javax.jdo.JDOHelper.invoke(JDOHelper.java:1960)\r\n        at javax.jdo.JDOHelper.invokeGetPersistenceManagerFactoryOnImplementation(JDOHelper.java:1166)\r\n        at javax.jdo.JDOHelper.getPersistenceManagerFactory(JDOHelper.java:808)\r\n        at javax.jdo.JDOHelper.getPersistenceManagerFactory(JDOHelper.java:701)\r\n        at org.apache.hadoop.hive.metastore.ObjectStore.getPMF(ObjectStore.java:651)\r\n        at org.apache.hadoop.hive.metastore.ObjectStore.getPersistenceManager(ObjectStore.java:694)\r\n        at org.apache.hadoop.hive.metastore.ObjectStore.initializeHelper(ObjectStore.java:484)\r\n        at org.apache.hadoop.hive.metastore.ObjectStore.initialize(ObjectStore.java:421)\r\n        at org.apache.hadoop.hive.metastore.ObjectStore.setConf(ObjectStore.java:376)\r\n        at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:79)\r\n        at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:139)\r\n        at org.apache.hadoop.hive.metastore.RawStoreProxy.&lt;init&gt;(RawStoreProxy.java:59)\r\n        at org.apache.hadoop.hive.metastore.RawStoreProxy.getProxy(RawStoreProxy.java:67)\r\n        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.newRawStoreForConf(HiveMetaStore.java:720)\r\n        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.getMSForConf(HiveMetaStore.java:698)\r\n        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.getMS(HiveMetaStore.java:692)\r\n        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.createDefaultDB(HiveMetaStore.java:775)\r\n        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.init(HiveMetaStore.java:540)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.invokeInternal(RetryingHMSHandler.java:147)\r\n        ... 13 more\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n        at sun.reflect.GeneratedConstructorAccessor76.newInstance(Unknown Source)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n        at org.datanucleus.plugin.NonManagedPluginRegistry.createExecutableExtension(NonManagedPluginRegistry.java:606)\r\n        at org.datanucleus.plugin.PluginManager.createExecutableExtension(PluginManager.java:330)\r\n        at org.datanucleus.store.AbstractStoreManager.registerConnectionFactory(AbstractStoreManager.java:203)\r\n        at org.datanucleus.store.AbstractStoreManager.&lt;init&gt;(AbstractStoreManager.java:162)\r\n        at org.datanucleus.store.rdbms.RDBMSStoreManager.&lt;init&gt;(RDBMSStoreManager.java:285)\r\n        at sun.reflect.GeneratedConstructorAccessor75.newInstance(Unknown Source)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n        at org.datanucleus.plugin.NonManagedPluginRegistry.createExecutableExtension(NonManagedPluginRegistry.java:606)\r\n        at org.datanucleus.plugin.PluginManager.createExecutableExtension(PluginManager.java:301)\r\n        at org.datanucleus.NucleusContextHelper.createStoreManagerForProperties(NucleusContextHelper.java:133)\r\n        at org.datanucleus.PersistenceNucleusContextImpl.initialise(PersistenceNucleusContextImpl.java:422)\r\n        at org.datanucleus.api.jdo.JDOPersistenceManagerFactory.freezeConfiguration(JDOPersistenceManagerFactory.java:817)\r\n        ... 43 more\r\nCaused by: org.datanucleus.exceptions.NucleusException: Attempt to invoke the &quot;HikariCP&quot; plugin to create a ConnectionPool gave an error : Failed to initialize pool: Client does not support authentication protocol requested by server; consider upgrading MySQL client\r\n        at org.datanucleus.store.rdbms.ConnectionFactoryImpl.generateDataSources(ConnectionFactoryImpl.java:232)\r\n        at org.datanucleus.store.rdbms.ConnectionFactoryImpl.initialiseDataSources(ConnectionFactoryImpl.java:117)\r\n        at org.datanucleus.store.rdbms.ConnectionFactoryImpl.&lt;init&gt;(ConnectionFactoryImpl.java:82)\r\n        ... 59 more\r\nCaused by: com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: Client does not support authentication protocol requested by server; consider upgrading MySQL client\r\n        at com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:544)\r\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:536)\r\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:112)\r\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:72)\r\n        at org.datanucleus.store.rdbms.connectionpool.HikariCPConnectionPoolFactory.createConnectionPool(HikariCPConnectionPoolFactory.java:176)\r\n        at org.datanucleus.store.rdbms.ConnectionFactoryImpl.generateDataSources(ConnectionFactoryImpl.java:213)\r\n        ... 61 more\r\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Client does not support authentication protocol requested by server; consider upgrading MySQL client\r\n        at sun.reflect.GeneratedConstructorAccessor81.newInstance(Unknown Source)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n        at com.mysql.jdbc.Util.handleNewInstance(Util.java:406)\r\n        at com.mysql.jdbc.Util.getInstance(Util.java:381)\r\n        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:984)\r\n        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:956)\r\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3558)\r\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3490)\r\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:919)\r\n        at com.mysql.jdbc.MysqlIO.secureAuth411(MysqlIO.java:3996)\r\n        at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1284)\r\n        at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2137)\r\n        at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:776)\r\n        at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:46)\r\n        at sun.reflect.GeneratedConstructorAccessor78.newInstance(Unknown Source)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n        at com.mysql.jdbc.Util.handleNewInstance(Util.java:406)\r\n        at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:352)\r\n        at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:284)\r\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:95)\r\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:101)\r\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:356)\r\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:199)\r\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:444)\r\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:515)\r\n        ... 65 more\r\nException in thread &quot;main&quot; MetaException(message:Error creating transactional connection factory)\r\n        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.&lt;init&gt;(RetryingHMSHandler.java:84)\r\n        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.getProxy(RetryingHMSHandler.java:93)\r\n        at org.apache.hadoop.hive.metastore.HiveMetaStore.newRetryingHMSHandler(HiveMetaStore.java:8672)\r\n        at org.apache.hadoop.hive.metastore.HiveMetaStore.newRetryingHMSHandler(HiveMetaStore.java:8667)\r\n        at org.apache.hadoop.hive.metastore.HiveMetaStore.startMetaStore(HiveMetaStore.java:8937)\r\n        at org.apache.hadoop.hive.metastore.HiveMetaStore.main(HiveMetaStore.java:8854)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.apache.hadoop.util.RunJar.run(RunJar.java:323)\r\n        at org.apache.hadoop.util.RunJar.main(RunJar.java:236)\r\nCaused by: MetaException(message:Error creating transactional connection factory)\r\n        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.invokeInternal(RetryingHMSHandler.java:208)\r\n        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.invoke(RetryingHMSHandler.java:108)\r\n        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.&lt;init&gt;(RetryingHMSHandler.java:80)\r\n        ... 11 more\r\nCaused by: javax.jdo.JDOFatalInternalException: Error creating transactional connection factory\r\nNestedThrowables:\r\njava.lang.reflect.InvocationTargetException\r\n        at org.datanucleus.api.jdo.NucleusJDOHelper.getJDOExceptionForNucleusException(NucleusJDOHelper.java:671)\r\n        at org.datanucleus.api.jdo.JDOPersistenceManagerFactory.freezeConfiguration(JDOPersistenceManagerFactory.java:830)\r\n        at org.datanucleus.api.jdo.JDOPersistenceManagerFactory.createPersistenceManagerFactory(JDOPersistenceManagerFactory.java:334)\r\n        at org.datanucleus.api.jdo.JDOPersistenceManagerFactory.getPersistenceManagerFactory(JDOPersistenceManagerFactory.java:213)\r\n        at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at javax.jdo.JDOHelper$16.run(JDOHelper.java:1965)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at javax.jdo.JDOHelper.invoke(JDOHelper.java:1960)\r\n        at javax.jdo.JDOHelper.invokeGetPersistenceManagerFactoryOnImplementation(JDOHelper.java:1166)\r\n        at javax.jdo.JDOHelper.getPersistenceManagerFactory(JDOHelper.java:808)\r\n        at javax.jdo.JDOHelper.getPersistenceManagerFactory(JDOHelper.java:701)\r\n        at org.apache.hadoop.hive.metastore.ObjectStore.getPMF(ObjectStore.java:651)\r\n        at org.apache.hadoop.hive.metastore.ObjectStore.getPersistenceManager(ObjectStore.java:694)\r\n        at org.apache.hadoop.hive.metastore.ObjectStore.initializeHelper(ObjectStore.java:484)\r\n        at org.apache.hadoop.hive.metastore.ObjectStore.initialize(ObjectStore.java:421)\r\n        at org.apache.hadoop.hive.metastore.ObjectStore.setConf(ObjectStore.java:376)\r\n        at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:79)\r\n        at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:139)\r\n        at org.apache.hadoop.hive.metastore.RawStoreProxy.&lt;init&gt;(RawStoreProxy.java:59)\r\n        at org.apache.hadoop.hive.metastore.RawStoreProxy.getProxy(RawStoreProxy.java:67)\r\n        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.newRawStoreForConf(HiveMetaStore.java:720)\r\n        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.getMSForConf(HiveMetaStore.java:698)\r\n        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.getMS(HiveMetaStore.java:692)\r\n        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.createDefaultDB(HiveMetaStore.java:775)\r\n        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.init(HiveMetaStore.java:540)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.invokeInternal(RetryingHMSHandler.java:147)\r\n        ... 13 more\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n        at sun.reflect.GeneratedConstructorAccessor76.newInstance(Unknown Source)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n        at org.datanucleus.plugin.NonManagedPluginRegistry.createExecutableExtension(NonManagedPluginRegistry.java:606)\r\n        at org.datanucleus.plugin.PluginManager.createExecutableExtension(PluginManager.java:330)\r\n        at org.datanucleus.store.AbstractStoreManager.registerConnectionFactory(AbstractStoreManager.java:203)\r\n        at org.datanucleus.store.AbstractStoreManager.&lt;init&gt;(AbstractStoreManager.java:162)\r\n        at org.datanucleus.store.rdbms.RDBMSStoreManager.&lt;init&gt;(RDBMSStoreManager.java:285)\r\n        at sun.reflect.GeneratedConstructorAccessor75.newInstance(Unknown Source)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n        at org.datanucleus.plugin.NonManagedPluginRegistry.createExecutableExtension(NonManagedPluginRegistry.java:606)\r\n        at org.datanucleus.plugin.PluginManager.createExecutableExtension(PluginManager.java:301)\r\n        at org.datanucleus.NucleusContextHelper.createStoreManagerForProperties(NucleusContextHelper.java:133)\r\n        at org.datanucleus.PersistenceNucleusContextImpl.initialise(PersistenceNucleusContextImpl.java:422)\r\n        at org.datanucleus.api.jdo.JDOPersistenceManagerFactory.freezeConfiguration(JDOPersistenceManagerFactory.java:817)\r\n        ... 43 more\r\nCaused by: org.datanucleus.exceptions.NucleusException: Attempt to invoke the &quot;HikariCP&quot; plugin to create a ConnectionPool gave an error : Failed to initialize pool: Client does not support authentication protocol requested by server; consider upgrading MySQL client\r\n        at org.datanucleus.store.rdbms.ConnectionFactoryImpl.generateDataSources(ConnectionFactoryImpl.java:232)\r\n        at org.datanucleus.store.rdbms.ConnectionFactoryImpl.initialiseDataSources(ConnectionFactoryImpl.java:117)\r\n        at org.datanucleus.store.rdbms.ConnectionFactoryImpl.&lt;init&gt;(ConnectionFactoryImpl.java:82)\r\n        ... 59 more\r\nCaused by: com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: Client does not support authentication protocol requested by server; consider upgrading MySQL client\r\n        at com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:544)\r\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:536)\r\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:112)\r\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:72)\r\n        at org.datanucleus.store.rdbms.connectionpool.HikariCPConnectionPoolFactory.createConnectionPool(HikariCPConnectionPoolFactory.java:176)\r\n        at org.datanucleus.store.rdbms.ConnectionFactoryImpl.generateDataSources(ConnectionFactoryImpl.java:213)\r\n        ... 61 more\r\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Client does not support authentication protocol requested by server; consider upgrading MySQL client\r\n        at sun.reflect.GeneratedConstructorAccessor81.newInstance(Unknown Source)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n        at com.mysql.jdbc.Util.handleNewInstance(Util.java:406)\r\n        at com.mysql.jdbc.Util.getInstance(Util.java:381)\r\n        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:984)\r\n        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:956)\r\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3558)\r\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3490)\r\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:919)\r\n        at com.mysql.jdbc.MysqlIO.secureAuth411(MysqlIO.java:3996)\r\n        at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1284)\r\n        at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2137)\r\n        at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:776)\r\n        at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:46)\r\n        at sun.reflect.GeneratedConstructorAccessor78.newInstance(Unknown Source)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n        at com.mysql.jdbc.Util.handleNewInstance(Util.java:406)\r\n        at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:352)\r\n        at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:284)\r\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:95)\r\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:101)\r\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:356)\r\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:199)\r\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:444)\r\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:515)\r\n        ... 65 more\r\n```\r\n\r\nI am unable to resolve this error. _$HIVE_HOME/conf/hive-site.xml_ looks like this:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;configuration.xsl&quot;?&gt;\r\n&lt;configuration&gt;\r\n\r\n&lt;property&gt;\r\n  &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt;\r\n  &lt;value&gt;jdbc:mysql://127.0.0.1/hive_metastore?createDatabaseIfNotExist=true&lt;/value&gt;\r\n&lt;/property&gt;\r\n\r\n\r\n&lt;property&gt;\r\n  &lt;name&gt;javax.jdo.option.ConnectionDriverName&lt;/name&gt;\r\n  &lt;value&gt;com.mysql.jdbc.Driver&lt;/value&gt;\r\n&lt;/property&gt;\r\n\r\n&lt;property&gt;\r\n  &lt;name&gt;javax.jdo.option.ConnectionUserName&lt;/name&gt;\r\n  &lt;value&gt;hiveuser&lt;/value&gt;\r\n&lt;/property&gt;\r\n\r\n&lt;property&gt;\r\n  &lt;name&gt;javax.jdo.option.ConnectionPassword&lt;/name&gt;\r\n  &lt;value&gt;hivepassword&lt;/value&gt;\r\n&lt;/property&gt;\r\n\r\n&lt;property&gt;\r\n  &lt;name&gt;datanucleus.autoCreateSchema&lt;/name&gt;\r\n  &lt;value&gt;true&lt;/value&gt;\r\n&lt;/property&gt;\r\n\r\n&lt;property&gt;\r\n  &lt;name&gt;datanucleus.fixedDatastore&lt;/name&gt;\r\n  &lt;value&gt;true&lt;/value&gt;\r\n&lt;/property&gt;\r\n\r\n&lt;property&gt;\r\n &lt;name&gt;datanucleus.autoCreateTables&lt;/name&gt;\r\n &lt;value&gt;True&lt;/value&gt;\r\n &lt;/property&gt;\r\n\r\n&lt;/configuration&gt;\r\n```\r\n\r\nI also have _mysql-connector-java-5.1.9.jar_ in _$HIVE_HOME/lib_. I am not getting what I am missing. Any help would be appreciated.\r\n\r\n  [1]: https://stackoverflow.com/a/42343420/12357035","title":"Unable to initiate metastore in Hive with Hodoop","body":"<p>I have <em>Hadoop 3.3.2</em>, <em>Hive 3.1.3</em>, <em>MySql 8.0.29</em>(apt install mysql-server) installed. <em>MySql</em> is running properly with <code>mysql -h 127.0.0.1 -u debian-sys-maint -p</code> command. But unable to run any command in <em>Hive</em>. I'm getting <code>FAILED: HiveException java.lang.RuntimeException: Unable to instantiate org.apache.hadoop.hive.ql.metadata.SessionHiveMetaStoreClient</code> exception.</p>\n<p>Then in SO, I found <a href=\"https://stackoverflow.com/a/42343420/12357035\">this question on SO</a>, which says to execute <code>hive --service metastore</code>. But, when I execute this command, I get this error:</p>\n<pre><code>2022-07-24 17:15:57: Starting Hive Metastore Server\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/home/hdoop/apache-hive-3.1.3-bin/lib/log4j-slf4j-impl-2.17.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/home/hdoop/hadoop-3.3.2/share/hadoop/common/lib/slf4j-log4j12-1.7.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\nMetaException(message:Error creating transactional connection factory)\n        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.&lt;init&gt;(RetryingHMSHandler.java:84)\n        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.getProxy(RetryingHMSHandler.java:93)\n        at org.apache.hadoop.hive.metastore.HiveMetaStore.newRetryingHMSHandler(HiveMetaStore.java:8672)\n        at org.apache.hadoop.hive.metastore.HiveMetaStore.newRetryingHMSHandler(HiveMetaStore.java:8667)\n        at org.apache.hadoop.hive.metastore.HiveMetaStore.startMetaStore(HiveMetaStore.java:8937)\n        at org.apache.hadoop.hive.metastore.HiveMetaStore.main(HiveMetaStore.java:8854)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.hadoop.util.RunJar.run(RunJar.java:323)\n        at org.apache.hadoop.util.RunJar.main(RunJar.java:236)\nCaused by: MetaException(message:Error creating transactional connection factory)\n        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.invokeInternal(RetryingHMSHandler.java:208)\n        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.invoke(RetryingHMSHandler.java:108)\n        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.&lt;init&gt;(RetryingHMSHandler.java:80)\n        ... 11 more\nCaused by: javax.jdo.JDOFatalInternalException: Error creating transactional connection factory\nNestedThrowables:\njava.lang.reflect.InvocationTargetException\n        at org.datanucleus.api.jdo.NucleusJDOHelper.getJDOExceptionForNucleusException(NucleusJDOHelper.java:671)\n        at org.datanucleus.api.jdo.JDOPersistenceManagerFactory.freezeConfiguration(JDOPersistenceManagerFactory.java:830)\n        at org.datanucleus.api.jdo.JDOPersistenceManagerFactory.createPersistenceManagerFactory(JDOPersistenceManagerFactory.java:334)\n        at org.datanucleus.api.jdo.JDOPersistenceManagerFactory.getPersistenceManagerFactory(JDOPersistenceManagerFactory.java:213)\n        at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at javax.jdo.JDOHelper$16.run(JDOHelper.java:1965)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.jdo.JDOHelper.invoke(JDOHelper.java:1960)\n        at javax.jdo.JDOHelper.invokeGetPersistenceManagerFactoryOnImplementation(JDOHelper.java:1166)\n        at javax.jdo.JDOHelper.getPersistenceManagerFactory(JDOHelper.java:808)\n        at javax.jdo.JDOHelper.getPersistenceManagerFactory(JDOHelper.java:701)\n        at org.apache.hadoop.hive.metastore.ObjectStore.getPMF(ObjectStore.java:651)\n        at org.apache.hadoop.hive.metastore.ObjectStore.getPersistenceManager(ObjectStore.java:694)\n        at org.apache.hadoop.hive.metastore.ObjectStore.initializeHelper(ObjectStore.java:484)\n        at org.apache.hadoop.hive.metastore.ObjectStore.initialize(ObjectStore.java:421)\n        at org.apache.hadoop.hive.metastore.ObjectStore.setConf(ObjectStore.java:376)\n        at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:79)\n        at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:139)\n        at org.apache.hadoop.hive.metastore.RawStoreProxy.&lt;init&gt;(RawStoreProxy.java:59)\n        at org.apache.hadoop.hive.metastore.RawStoreProxy.getProxy(RawStoreProxy.java:67)\n        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.newRawStoreForConf(HiveMetaStore.java:720)\n        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.getMSForConf(HiveMetaStore.java:698)\n        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.getMS(HiveMetaStore.java:692)\n        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.createDefaultDB(HiveMetaStore.java:775)\n        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.init(HiveMetaStore.java:540)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.invokeInternal(RetryingHMSHandler.java:147)\n        ... 13 more\nCaused by: java.lang.reflect.InvocationTargetException\n        at sun.reflect.GeneratedConstructorAccessor76.newInstance(Unknown Source)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n        at org.datanucleus.plugin.NonManagedPluginRegistry.createExecutableExtension(NonManagedPluginRegistry.java:606)\n        at org.datanucleus.plugin.PluginManager.createExecutableExtension(PluginManager.java:330)\n        at org.datanucleus.store.AbstractStoreManager.registerConnectionFactory(AbstractStoreManager.java:203)\n        at org.datanucleus.store.AbstractStoreManager.&lt;init&gt;(AbstractStoreManager.java:162)\n        at org.datanucleus.store.rdbms.RDBMSStoreManager.&lt;init&gt;(RDBMSStoreManager.java:285)\n        at sun.reflect.GeneratedConstructorAccessor75.newInstance(Unknown Source)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n        at org.datanucleus.plugin.NonManagedPluginRegistry.createExecutableExtension(NonManagedPluginRegistry.java:606)\n        at org.datanucleus.plugin.PluginManager.createExecutableExtension(PluginManager.java:301)\n        at org.datanucleus.NucleusContextHelper.createStoreManagerForProperties(NucleusContextHelper.java:133)\n        at org.datanucleus.PersistenceNucleusContextImpl.initialise(PersistenceNucleusContextImpl.java:422)\n        at org.datanucleus.api.jdo.JDOPersistenceManagerFactory.freezeConfiguration(JDOPersistenceManagerFactory.java:817)\n        ... 43 more\nCaused by: org.datanucleus.exceptions.NucleusException: Attempt to invoke the &quot;HikariCP&quot; plugin to create a ConnectionPool gave an error : Failed to initialize pool: Client does not support authentication protocol requested by server; consider upgrading MySQL client\n        at org.datanucleus.store.rdbms.ConnectionFactoryImpl.generateDataSources(ConnectionFactoryImpl.java:232)\n        at org.datanucleus.store.rdbms.ConnectionFactoryImpl.initialiseDataSources(ConnectionFactoryImpl.java:117)\n        at org.datanucleus.store.rdbms.ConnectionFactoryImpl.&lt;init&gt;(ConnectionFactoryImpl.java:82)\n        ... 59 more\nCaused by: com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: Client does not support authentication protocol requested by server; consider upgrading MySQL client\n        at com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:544)\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:536)\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:112)\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:72)\n        at org.datanucleus.store.rdbms.connectionpool.HikariCPConnectionPoolFactory.createConnectionPool(HikariCPConnectionPoolFactory.java:176)\n        at org.datanucleus.store.rdbms.ConnectionFactoryImpl.generateDataSources(ConnectionFactoryImpl.java:213)\n        ... 61 more\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Client does not support authentication protocol requested by server; consider upgrading MySQL client\n        at sun.reflect.GeneratedConstructorAccessor81.newInstance(Unknown Source)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n        at com.mysql.jdbc.Util.handleNewInstance(Util.java:406)\n        at com.mysql.jdbc.Util.getInstance(Util.java:381)\n        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:984)\n        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:956)\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3558)\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3490)\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:919)\n        at com.mysql.jdbc.MysqlIO.secureAuth411(MysqlIO.java:3996)\n        at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1284)\n        at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2137)\n        at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:776)\n        at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:46)\n        at sun.reflect.GeneratedConstructorAccessor78.newInstance(Unknown Source)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n        at com.mysql.jdbc.Util.handleNewInstance(Util.java:406)\n        at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:352)\n        at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:284)\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:95)\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:101)\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:356)\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:199)\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:444)\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:515)\n        ... 65 more\nException in thread &quot;main&quot; MetaException(message:Error creating transactional connection factory)\n        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.&lt;init&gt;(RetryingHMSHandler.java:84)\n        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.getProxy(RetryingHMSHandler.java:93)\n        at org.apache.hadoop.hive.metastore.HiveMetaStore.newRetryingHMSHandler(HiveMetaStore.java:8672)\n        at org.apache.hadoop.hive.metastore.HiveMetaStore.newRetryingHMSHandler(HiveMetaStore.java:8667)\n        at org.apache.hadoop.hive.metastore.HiveMetaStore.startMetaStore(HiveMetaStore.java:8937)\n        at org.apache.hadoop.hive.metastore.HiveMetaStore.main(HiveMetaStore.java:8854)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.hadoop.util.RunJar.run(RunJar.java:323)\n        at org.apache.hadoop.util.RunJar.main(RunJar.java:236)\nCaused by: MetaException(message:Error creating transactional connection factory)\n        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.invokeInternal(RetryingHMSHandler.java:208)\n        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.invoke(RetryingHMSHandler.java:108)\n        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.&lt;init&gt;(RetryingHMSHandler.java:80)\n        ... 11 more\nCaused by: javax.jdo.JDOFatalInternalException: Error creating transactional connection factory\nNestedThrowables:\njava.lang.reflect.InvocationTargetException\n        at org.datanucleus.api.jdo.NucleusJDOHelper.getJDOExceptionForNucleusException(NucleusJDOHelper.java:671)\n        at org.datanucleus.api.jdo.JDOPersistenceManagerFactory.freezeConfiguration(JDOPersistenceManagerFactory.java:830)\n        at org.datanucleus.api.jdo.JDOPersistenceManagerFactory.createPersistenceManagerFactory(JDOPersistenceManagerFactory.java:334)\n        at org.datanucleus.api.jdo.JDOPersistenceManagerFactory.getPersistenceManagerFactory(JDOPersistenceManagerFactory.java:213)\n        at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at javax.jdo.JDOHelper$16.run(JDOHelper.java:1965)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.jdo.JDOHelper.invoke(JDOHelper.java:1960)\n        at javax.jdo.JDOHelper.invokeGetPersistenceManagerFactoryOnImplementation(JDOHelper.java:1166)\n        at javax.jdo.JDOHelper.getPersistenceManagerFactory(JDOHelper.java:808)\n        at javax.jdo.JDOHelper.getPersistenceManagerFactory(JDOHelper.java:701)\n        at org.apache.hadoop.hive.metastore.ObjectStore.getPMF(ObjectStore.java:651)\n        at org.apache.hadoop.hive.metastore.ObjectStore.getPersistenceManager(ObjectStore.java:694)\n        at org.apache.hadoop.hive.metastore.ObjectStore.initializeHelper(ObjectStore.java:484)\n        at org.apache.hadoop.hive.metastore.ObjectStore.initialize(ObjectStore.java:421)\n        at org.apache.hadoop.hive.metastore.ObjectStore.setConf(ObjectStore.java:376)\n        at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:79)\n        at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:139)\n        at org.apache.hadoop.hive.metastore.RawStoreProxy.&lt;init&gt;(RawStoreProxy.java:59)\n        at org.apache.hadoop.hive.metastore.RawStoreProxy.getProxy(RawStoreProxy.java:67)\n        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.newRawStoreForConf(HiveMetaStore.java:720)\n        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.getMSForConf(HiveMetaStore.java:698)\n        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.getMS(HiveMetaStore.java:692)\n        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.createDefaultDB(HiveMetaStore.java:775)\n        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.init(HiveMetaStore.java:540)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.invokeInternal(RetryingHMSHandler.java:147)\n        ... 13 more\nCaused by: java.lang.reflect.InvocationTargetException\n        at sun.reflect.GeneratedConstructorAccessor76.newInstance(Unknown Source)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n        at org.datanucleus.plugin.NonManagedPluginRegistry.createExecutableExtension(NonManagedPluginRegistry.java:606)\n        at org.datanucleus.plugin.PluginManager.createExecutableExtension(PluginManager.java:330)\n        at org.datanucleus.store.AbstractStoreManager.registerConnectionFactory(AbstractStoreManager.java:203)\n        at org.datanucleus.store.AbstractStoreManager.&lt;init&gt;(AbstractStoreManager.java:162)\n        at org.datanucleus.store.rdbms.RDBMSStoreManager.&lt;init&gt;(RDBMSStoreManager.java:285)\n        at sun.reflect.GeneratedConstructorAccessor75.newInstance(Unknown Source)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n        at org.datanucleus.plugin.NonManagedPluginRegistry.createExecutableExtension(NonManagedPluginRegistry.java:606)\n        at org.datanucleus.plugin.PluginManager.createExecutableExtension(PluginManager.java:301)\n        at org.datanucleus.NucleusContextHelper.createStoreManagerForProperties(NucleusContextHelper.java:133)\n        at org.datanucleus.PersistenceNucleusContextImpl.initialise(PersistenceNucleusContextImpl.java:422)\n        at org.datanucleus.api.jdo.JDOPersistenceManagerFactory.freezeConfiguration(JDOPersistenceManagerFactory.java:817)\n        ... 43 more\nCaused by: org.datanucleus.exceptions.NucleusException: Attempt to invoke the &quot;HikariCP&quot; plugin to create a ConnectionPool gave an error : Failed to initialize pool: Client does not support authentication protocol requested by server; consider upgrading MySQL client\n        at org.datanucleus.store.rdbms.ConnectionFactoryImpl.generateDataSources(ConnectionFactoryImpl.java:232)\n        at org.datanucleus.store.rdbms.ConnectionFactoryImpl.initialiseDataSources(ConnectionFactoryImpl.java:117)\n        at org.datanucleus.store.rdbms.ConnectionFactoryImpl.&lt;init&gt;(ConnectionFactoryImpl.java:82)\n        ... 59 more\nCaused by: com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: Client does not support authentication protocol requested by server; consider upgrading MySQL client\n        at com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:544)\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:536)\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:112)\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:72)\n        at org.datanucleus.store.rdbms.connectionpool.HikariCPConnectionPoolFactory.createConnectionPool(HikariCPConnectionPoolFactory.java:176)\n        at org.datanucleus.store.rdbms.ConnectionFactoryImpl.generateDataSources(ConnectionFactoryImpl.java:213)\n        ... 61 more\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Client does not support authentication protocol requested by server; consider upgrading MySQL client\n        at sun.reflect.GeneratedConstructorAccessor81.newInstance(Unknown Source)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n        at com.mysql.jdbc.Util.handleNewInstance(Util.java:406)\n        at com.mysql.jdbc.Util.getInstance(Util.java:381)\n        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:984)\n        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:956)\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3558)\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3490)\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:919)\n        at com.mysql.jdbc.MysqlIO.secureAuth411(MysqlIO.java:3996)\n        at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1284)\n        at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2137)\n        at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:776)\n        at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:46)\n        at sun.reflect.GeneratedConstructorAccessor78.newInstance(Unknown Source)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n        at com.mysql.jdbc.Util.handleNewInstance(Util.java:406)\n        at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:352)\n        at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:284)\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:95)\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:101)\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:356)\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:199)\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:444)\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:515)\n        ... 65 more\n</code></pre>\n<p>I am unable to resolve this error. <em>$HIVE_HOME/conf/hive-site.xml</em> looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;configuration.xsl&quot;?&gt;\n&lt;configuration&gt;\n\n&lt;property&gt;\n  &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt;\n  &lt;value&gt;jdbc:mysql://127.0.0.1/hive_metastore?createDatabaseIfNotExist=true&lt;/value&gt;\n&lt;/property&gt;\n\n\n&lt;property&gt;\n  &lt;name&gt;javax.jdo.option.ConnectionDriverName&lt;/name&gt;\n  &lt;value&gt;com.mysql.jdbc.Driver&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n  &lt;name&gt;javax.jdo.option.ConnectionUserName&lt;/name&gt;\n  &lt;value&gt;hiveuser&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n  &lt;name&gt;javax.jdo.option.ConnectionPassword&lt;/name&gt;\n  &lt;value&gt;hivepassword&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n  &lt;name&gt;datanucleus.autoCreateSchema&lt;/name&gt;\n  &lt;value&gt;true&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n  &lt;name&gt;datanucleus.fixedDatastore&lt;/name&gt;\n  &lt;value&gt;true&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n &lt;name&gt;datanucleus.autoCreateTables&lt;/name&gt;\n &lt;value&gt;True&lt;/value&gt;\n &lt;/property&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p>I also have <em>mysql-connector-java-5.1.9.jar</em> in <em>$HIVE_HOME/lib</em>. I am not getting what I am missing. Any help would be appreciated.</p>\n"},{"tags":["java","batch-file","jar"],"comments":[{"owner":{"account_id":1516883,"reputation":13788,"user_id":1417694,"display_name":"Squashman"},"score":2,"creation_date":1636464594,"post_id":69898938,"comment_id":123559508,"body_markdown":"Would it not make more sense to have the `-jar` option directly preceding the `jar` file?","body":"Would it not make more sense to have the <code>-jar</code> option directly preceding the <code>jar</code> file?"},{"owner":{"account_id":5331260,"reputation":3,"user_id":4251759,"display_name":"nandita"},"score":0,"creation_date":1636526188,"post_id":69898938,"comment_id":123577408,"body_markdown":"how does this help in getting rid of the black window of the batch file?","body":"how does this help in getting rid of the black window of the batch file?"}],"answers":[{"tags":[],"owner":{"account_id":23284807,"reputation":1,"user_id":17367799,"display_name":"Anupam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658776493,"creation_date":1636464419,"answer_id":69898986,"question_id":69898938,"body_markdown":"If you need to distribute your .jar file and make it runnable at other people&#39;s Windows computers, you can make a simple .bat file like this in the command prompt:\r\n```\r\njava -jar MyJavaTool.jar\r\n```\r\nand place the .bat file in the same directory as your .jar file.","title":"I want to run a jar file from a specific jre from a windows batch file, and want the black window to be closed","body":"<p>If you need to distribute your .jar file and make it runnable at other people's Windows computers, you can make a simple .bat file like this in the command prompt:</p>\n<pre><code>java -jar MyJavaTool.jar\n</code></pre>\n<p>and place the .bat file in the same directory as your .jar file.</p>\n"},{"tags":[],"owner":{"account_id":5331260,"reputation":3,"user_id":4251759,"display_name":"nandita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658757086,"creation_date":1658756309,"answer_id":73110193,"question_id":69898938,"body_markdown":"Replacing the command line with:\r\n\r\n```\r\nstart %JAVA_HOME%\\bin\\java.exe -jar -Xmx128m -Xms64m -XX:MaxPermSize=64m &quot;%~dp0iStartV5\\dist\\Myjar.jar&quot; %*\r\n```\r\n\r\nsolves the problem.\r\n\r\nSee also [the documantation for `start`][1].\r\n\r\n\r\n  [1]: https://ss64.com/nt/start.html","title":"I want to run a jar file from a specific jre from a windows batch file, and want the black window to be closed","body":"<p>Replacing the command line with:</p>\n<pre><code>start %JAVA_HOME%\\bin\\java.exe -jar -Xmx128m -Xms64m -XX:MaxPermSize=64m &quot;%~dp0iStartV5\\dist\\Myjar.jar&quot; %*\n</code></pre>\n<p>solves the problem.</p>\n<p>See also <a href=\"https://ss64.com/nt/start.html\" rel=\"nofollow noreferrer\">the documantation for <code>start</code></a>.</p>\n"}],"owner":{"account_id":5331260,"reputation":3,"user_id":4251759,"display_name":"nandita"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1658776493,"creation_date":1636464261,"question_id":69898938,"body_markdown":"I am trying to run a jar file from a jre in a specific location from a windows .bat file have this as the last line in my batch file\r\n\r\n    &quot;%JAVA_HOME%\\bin\\java.exe&quot; -jar -Xmx128m -Xms64m -XX:MaxPermSize=64m &quot;%~dp0Myfolder\\dist\\Myjar.jar&quot; %*\r\n\r\nI want the black window of the batch file to close after running this jar.\r\nhow can i do it","title":"I want to run a jar file from a specific jre from a windows batch file, and want the black window to be closed","body":"<p>I am trying to run a jar file from a jre in a specific location from a windows .bat file have this as the last line in my batch file</p>\n<pre><code>&quot;%JAVA_HOME%\\bin\\java.exe&quot; -jar -Xmx128m -Xms64m -XX:MaxPermSize=64m &quot;%~dp0Myfolder\\dist\\Myjar.jar&quot; %*\n</code></pre>\n<p>I want the black window of the batch file to close after running this jar.\nhow can i do it</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3507195,"reputation":14509,"user_id":2932476,"display_name":"Bourbia Brahim"},"score":0,"creation_date":1522053834,"post_id":49487134,"comment_id":85977115,"body_markdown":"Have you tried with http://localhost:8080/actuator/mappings","body":"Have you tried with <a href=\"http://localhost:8080/actuator/mappings\" rel=\"nofollow noreferrer\">localhost:8080/actuator/mappings</a>"}],"answers":[{"tags":[],"owner":{"account_id":6759653,"reputation":5203,"user_id":5207023,"accept_rate":100,"display_name":"Mykola Yashchenko"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1522054155,"creation_date":1522054155,"answer_id":49487394,"question_id":49487134,"body_markdown":"As of Spring Boot 2.0.0.RELEASE the default prefix for all endpoints is `/actuator`\r\nSo if you want to check the health of an application, you should go to `/actuator/health`\r\n\r\nTo make an actuator endpoint available via HTTP, it needs to be both enabled and exposed.\r\n\r\nBy default:\r\n\r\n- only the `/health` and `/info` endpoints are exposed.\r\n\r\n- all endpoints but `/shutdown` are enabled (only /health and /info are exposed)\r\n\r\nTo expose all endpoints you have to add the following line into `application.properties`:\r\n\r\n    management.endpoints.web.exposure.include=*","title":"getting &quot;Whitelabel Error Page&quot; running actuator health and mappings urls","body":"<p>As of Spring Boot 2.0.0.RELEASE the default prefix for all endpoints is <code>/actuator</code>\nSo if you want to check the health of an application, you should go to <code>/actuator/health</code></p>\n\n<p>To make an actuator endpoint available via HTTP, it needs to be both enabled and exposed.</p>\n\n<p>By default:</p>\n\n<ul>\n<li><p>only the <code>/health</code> and <code>/info</code> endpoints are exposed.</p></li>\n<li><p>all endpoints but <code>/shutdown</code> are enabled (only /health and /info are exposed)</p></li>\n</ul>\n\n<p>To expose all endpoints you have to add the following line into <code>application.properties</code>:</p>\n\n<pre><code>management.endpoints.web.exposure.include=*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14405345,"reputation":21,"user_id":10405600,"display_name":"kalyan s"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1537749700,"creation_date":1537749700,"answer_id":52471499,"question_id":49487134,"body_markdown":"I had the same problem.  After some trial and error, i got the actuator output when i hit http://localhost:8080 on the browser, it took me to the HAL browser . From the HAL&#39;s explorer, i typed actuator, which took me to http://localhost:8080/browser/index.html#http://localhost:8080/actuator and this is where are all the details I was looking for at http://localhost:8080/application was present.\r\n\r\nNote Spring boot version that I am using is : 2.0.6 SNAPSHOT.\r\n\r\nAnd, in the application.properties, i had added management.security.enabled=false. w/o this i could see very minimal info.","title":"getting &quot;Whitelabel Error Page&quot; running actuator health and mappings urls","body":"<p>I had the same problem.  After some trial and error, i got the actuator output when i hit <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">http://localhost:8080</a> on the browser, it took me to the HAL browser . From the HAL's explorer, i typed actuator, which took me to <a href=\"http://localhost:8080/browser/index.html#http://localhost:8080/actuator\" rel=\"nofollow noreferrer\">http://localhost:8080/browser/index.html#http://localhost:8080/actuator</a> and this is where are all the details I was looking for at <a href=\"http://localhost:8080/application\" rel=\"nofollow noreferrer\">http://localhost:8080/application</a> was present.</p>\n\n<p>Note Spring boot version that I am using is : 2.0.6 SNAPSHOT.</p>\n\n<p>And, in the application.properties, i had added management.security.enabled=false. w/o this i could see very minimal info.</p>\n"},{"tags":[],"owner":{"account_id":16470869,"reputation":8899,"user_id":11899911,"display_name":"Ven Shine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581995773,"creation_date":1581995773,"answer_id":60273265,"question_id":49487134,"body_markdown":"```\r\nspring.mvc.throw-exception-if-no-handler-found=true\r\nspring.resources.add-mappings=false\r\n```","title":"getting &quot;Whitelabel Error Page&quot; running actuator health and mappings urls","body":"<pre><code>spring.mvc.throw-exception-if-no-handler-found=true\nspring.resources.add-mappings=false\n</code></pre>\n"}],"owner":{"account_id":3417936,"reputation":1904,"user_id":2866298,"accept_rate":63,"display_name":"osama yaccoub"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13315,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":49487394,"answer_count":3,"score":8,"last_activity_date":1658776141,"creation_date":1522053267,"question_id":49487134,"body_markdown":"I am starting with spring boot, running a demo spring web starter project, I was checking the spring actuator functionality by calling http://localhost:8080/mappings and http://localhost:8080/health  ... It&#39;s giving me the &quot;Whitelabel Error Page&quot; ... the log is not showing anything \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nthe project is a very simple boot application created in STS with one `@RestController` which is working fine\r\n\r\n**Main class :**\r\n\r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \r\n    \tpublic static HashMap&lt;Long,Student&gt; hmStudent;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t//dummt code\r\n    \t      SpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    }\r\n**Rest Controller :**\r\n\r\n    import java.util.HashMap;\r\n    \r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.example.demo.DemoApplication;\r\n    import com.example.demo.entities.Student;\r\n    \r\n    @RestController\r\n    @RequestMapping(value=&quot;/rest/student&quot;)\r\n    class StudentService{\r\n     \r\n       @RequestMapping(value=&quot;/&quot;,method = RequestMethod.GET)\r\n       public HashMap&lt;Long,Student&gt; getAllStudents(){\r\n          return DemoApplication.hmStudent;\r\n       }\r\n    .\r\n    .\r\n    .\r\n    .\r\n    }\r\n\r\n**application properties :** \r\n\r\n    spring.datasource.url=jdbc:oracle:thin:@localhost:ibmwas\r\n    spring.datasource.username=u\r\n    spring.datasource.password=p\r\n    spring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver\r\n\r\n\r\n**pom.xml**\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t\t&lt;name&gt;demo&lt;/name&gt;\r\n\t\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t\t&lt;parent&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n\t\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t\t&lt;/parent&gt;\r\n\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;/properties&gt;\r\n\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-jta-atomikos&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;12.0.2&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-actuator&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\t&lt;/project&gt;\r\n\r\nWhat is the problem and how can I the logs be more descriptive\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YSFUD.png\r\n","title":"getting &quot;Whitelabel Error Page&quot; running actuator health and mappings urls","body":"<p>I am starting with spring boot, running a demo spring web starter project, I was checking the spring actuator functionality by calling <a href=\"http://localhost:8080/mappings\" rel=\"noreferrer\">http://localhost:8080/mappings</a> and <a href=\"http://localhost:8080/health\" rel=\"noreferrer\">http://localhost:8080/health</a>  ... It's giving me the \"Whitelabel Error Page\" ... the log is not showing anything </p>\n\n<p><a href=\"https://i.stack.imgur.com/YSFUD.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/YSFUD.png\" alt=\"enter image description here\"></a></p>\n\n<p>the project is a very simple boot application created in STS with one <code>@RestController</code> which is working fine</p>\n\n<p><strong>Main class :</strong></p>\n\n<pre><code>@SpringBootApplication\npublic class DemoApplication {\n\n    public static HashMap&lt;Long,Student&gt; hmStudent;\n\n    public static void main(String[] args) {\n        //dummt code\n          SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n\n<p><strong>Rest Controller :</strong></p>\n\n<pre><code>import java.util.HashMap;\n\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.example.demo.DemoApplication;\nimport com.example.demo.entities.Student;\n\n@RestController\n@RequestMapping(value=\"/rest/student\")\nclass StudentService{\n\n   @RequestMapping(value=\"/\",method = RequestMethod.GET)\n   public HashMap&lt;Long,Student&gt; getAllStudents(){\n      return DemoApplication.hmStudent;\n   }\n.\n.\n.\n.\n}\n</code></pre>\n\n<p><strong>application properties :</strong> </p>\n\n<pre><code>spring.datasource.url=jdbc:oracle:thin:@localhost:ibmwas\nspring.datasource.username=u\nspring.datasource.password=p\nspring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver\n</code></pre>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jta-atomikos&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;version&gt;12.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-actuator&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>What is the problem and how can I the logs be more descriptive</p>\n"},{"tags":["java","design-patterns","abstract-class"],"comments":[{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":0,"creation_date":1658824751,"post_id":73114211,"comment_id":129141372,"body_markdown":"It&#39;s always hard to evaluate Codes based on small snippets. Maybe there is a good reason each of theses ExceptionCodes is implemented with it&#39;s own class. But it&#39;s also just as likely that it was something that was implemented without any second thoughts.","body":"It&#39;s always hard to evaluate Codes based on small snippets. Maybe there is a good reason each of theses ExceptionCodes is implemented with it&#39;s own class. But it&#39;s also just as likely that it was something that was implemented without any second thoughts."}],"owner":{"account_id":3540288,"reputation":213,"user_id":2957592,"display_name":"user2957592"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658776069,"creation_date":1658776069,"question_id":73114211,"body_markdown":"Its a very open ended question about a particular design, so hope people dont vote it down.\r\n\r\nIn my team&#39;s codebase, i see a pattern about API Error Codes (that are returned when someone invokes our API). We have an abstract class with bunch of private and public member variables. The abstract class itself have concrete classes inside it. And it also has instances of those concrete classes. \r\n\r\nI am not sure whats the advantage of this design? Couldn&#39;t we just have an enum? Has anyone worked on any use case with similar design pattern (and can shed light on where it is useful and what are the advantages)?\r\n\r\nHere is how the abstract class looks like (I have omitted detailed code for constructors etc to keep it short) -\r\n\r\n    public abstract class ApiErrorCodes{\r\n    \tprivate static final int XMLRPC_UNKNOWN_EXCEPTION = -1;\r\n    \tprivate final int xmlRpcErrorCode;\r\n        private final String statusCode;\r\n        private final String exceptionCode;\r\n        private final AppVersion minExceptionSoapVersion;\r\n        private final ApiErrorCodes fallbackExceptionCode;\r\n        private final AppVersion minStatusSoapVersion;\r\n        private final ApiErrorCodes fallbackStatusCode;\r\n        private final Scope scope;\r\n        private final HttpStatusCode httpStatusCode;\r\n    \tprivate static List&lt;ApiErrorCodes&gt; ALL_CODES = new ArrayList&lt;ApiErrorCodes&gt;();\r\n    \t\r\n    \r\n    \tpublic static List&lt;ApiErrorCodes&gt; getAllCodes(){ return ALL_CODES;}\r\n    \r\n    \t//constructor to populate above variables\r\n    \tprivate ApiErrorCodes(int xmlRpcErrorCode, String statusCode, String exceptionCode,\r\n            AppVersion minExceptionSoapVersion, ApiErrorCodes exceptionFallbackErrorCode, AppVersion minStatusSoapVersion,\r\n            ApiErrorCodes statusFallbackCode, Scope scope, HttpStatusCode httpStatusCode){}\r\n    \r\n    \t//bunch of public getters to retrieve values of variables above. Skipping over them.\r\n    \r\n    \t//classes that extend the abstract class\r\n    \tpublic static class ApiStatusCode extends ApiErrorCodes{ /*bunch of constructors that call super to populate variables*/}\r\n    \tpublic static class ApiExceptionCode extends ApiErrorCodes {}\r\n    \tpublic static class ApiStatusCodeAndExceptionCode extends ApiErrorCodes{}\r\n    \tpublic static class XmlRpcErrorCode extends ApiErrorCodes{}\r\n    \r\n    \t//instances of above classes\r\n    \tpublic static final ApiErrorCodes BAD_XML = new ApiStatusCodeAndExceptionCode(0, null, null HttpStatusCode.BAD_REQUEST);\r\n    \tpublic static final ApiErrorCodes NULL_PARAMETER_LIST = new XmlRpcErrorCode(1000);\r\n    \tpublic static final ApiErrorCodes API_CURRENTLY_DISABLED = new ApiExceptionCode(1007, &quot;API_CURRENTLY_DISABLED&quot;, HttpStatusCode.FORBIDDEN);\r\n    \r\n    }\r\n\r\nand in rest of the code, we access specific error code by referencing them like this -\r\n\r\n    return(ApiErrorCodes.BAD_XML)\r\n\r\n","title":"Design pattern discussion - advantage of abstract class holding concrete classes and their instances","body":"<p>Its a very open ended question about a particular design, so hope people dont vote it down.</p>\n<p>In my team's codebase, i see a pattern about API Error Codes (that are returned when someone invokes our API). We have an abstract class with bunch of private and public member variables. The abstract class itself have concrete classes inside it. And it also has instances of those concrete classes.</p>\n<p>I am not sure whats the advantage of this design? Couldn't we just have an enum? Has anyone worked on any use case with similar design pattern (and can shed light on where it is useful and what are the advantages)?</p>\n<p>Here is how the abstract class looks like (I have omitted detailed code for constructors etc to keep it short) -</p>\n<pre><code>public abstract class ApiErrorCodes{\n    private static final int XMLRPC_UNKNOWN_EXCEPTION = -1;\n    private final int xmlRpcErrorCode;\n    private final String statusCode;\n    private final String exceptionCode;\n    private final AppVersion minExceptionSoapVersion;\n    private final ApiErrorCodes fallbackExceptionCode;\n    private final AppVersion minStatusSoapVersion;\n    private final ApiErrorCodes fallbackStatusCode;\n    private final Scope scope;\n    private final HttpStatusCode httpStatusCode;\n    private static List&lt;ApiErrorCodes&gt; ALL_CODES = new ArrayList&lt;ApiErrorCodes&gt;();\n    \n\n    public static List&lt;ApiErrorCodes&gt; getAllCodes(){ return ALL_CODES;}\n\n    //constructor to populate above variables\n    private ApiErrorCodes(int xmlRpcErrorCode, String statusCode, String exceptionCode,\n        AppVersion minExceptionSoapVersion, ApiErrorCodes exceptionFallbackErrorCode, AppVersion minStatusSoapVersion,\n        ApiErrorCodes statusFallbackCode, Scope scope, HttpStatusCode httpStatusCode){}\n\n    //bunch of public getters to retrieve values of variables above. Skipping over them.\n\n    //classes that extend the abstract class\n    public static class ApiStatusCode extends ApiErrorCodes{ /*bunch of constructors that call super to populate variables*/}\n    public static class ApiExceptionCode extends ApiErrorCodes {}\n    public static class ApiStatusCodeAndExceptionCode extends ApiErrorCodes{}\n    public static class XmlRpcErrorCode extends ApiErrorCodes{}\n\n    //instances of above classes\n    public static final ApiErrorCodes BAD_XML = new ApiStatusCodeAndExceptionCode(0, null, null HttpStatusCode.BAD_REQUEST);\n    public static final ApiErrorCodes NULL_PARAMETER_LIST = new XmlRpcErrorCode(1000);\n    public static final ApiErrorCodes API_CURRENTLY_DISABLED = new ApiExceptionCode(1007, &quot;API_CURRENTLY_DISABLED&quot;, HttpStatusCode.FORBIDDEN);\n\n}\n</code></pre>\n<p>and in rest of the code, we access specific error code by referencing them like this -</p>\n<pre><code>return(ApiErrorCodes.BAD_XML)\n</code></pre>\n"},{"tags":["java","list","arraylist","hashmap"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1658503259,"post_id":73082449,"comment_id":129075257,"body_markdown":"`nonReps.remove(indexInNonreps);` &lt;- this is calling the `boolean java.util.List.remove(Object o)` method because you are using `Integer`. If you want to call the remove method that takes an `int` as index you should do `nonReps.remove(indexInNonreps.intValue());`","body":"<code>nonReps.remove(indexInNonreps);</code> &lt;- this is calling the <code>boolean java.util.List.remove(Object o)</code> method because you are using <code>Integer</code>. If you want to call the remove method that takes an <code>int</code> as index you should do <code>nonReps.remove(indexInNonreps.intValue());</code>"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1658505066,"post_id":73082449,"comment_id":129075913,"body_markdown":"&#39;a&#39;,&#39;a&#39;,&#39;a&#39;, --&gt; logic is written in a way, that for 1st entry, list has `a`, for second `a`, it got removed, for third it again got added  `a`. &amp; that is reason you are getting `[a, b, c, d, e, f]`. Because I think question is asked for that?","body":"&#39;a&#39;,&#39;a&#39;,&#39;a&#39;, --&gt; logic is written in a way, that for 1st entry, list has <code>a</code>, for second <code>a</code>, it got removed, for third it again got added  <code>a</code>. &amp; that is reason you are getting <code>[a, b, c, d, e, f]</code>. Because I think question is asked for that?"},{"owner":{"account_id":15749448,"reputation":77,"user_id":11364479,"display_name":"Arlex"},"score":0,"creation_date":1658506564,"post_id":73082449,"comment_id":129076445,"body_markdown":"@AshishPatil the answer of &quot;OH GOD SPIDERS&quot; was the one I needed. I did not realize the remove() method was overloaded. By the way, after fixing this error I had to change the logic a little bit","body":"@AshishPatil the answer of &quot;OH GOD SPIDERS&quot; was the one I needed. I did not realize the remove() method was overloaded. By the way, after fixing this error I had to change the logic a little bit"}],"answers":[{"tags":[],"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658509863,"creation_date":1658509863,"answer_id":73083855,"question_id":73082449,"body_markdown":"You can use `Set` to check if the character is unique or not, if not delete from `noReps`\r\n\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        Character[] arr = new Character[]{&#39;a&#39;,&#39;a&#39;,&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;c&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;,&#39;e&#39;,&#39;e&#39;,&#39;f&#39;};\r\n\r\n        Set&lt;Character&gt; seen = new HashSet&lt;&gt;();\r\n        List&lt;Character&gt; nonReps = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            if(seen.contains(arr[i])){\r\n                nonReps.remove(arr[i]);\r\n            }else{\r\n                nonReps.add(arr[i]);\r\n                seen.add(arr[i]);\r\n            }\r\n        }\r\n        System.out.println(nonReps);\r\n    }\r\n```\r\n\r\n, `output`\r\n\r\n```\r\n[b, d, f]\r\n```","title":"Creating a List of Non-Repeated characters from the given Array of characters","body":"<p>You can use <code>Set</code> to check if the character is unique or not, if not delete from <code>noReps</code></p>\n<pre><code>    public static void main(String[] args) {\n        Character[] arr = new Character[]{'a','a','a','b','c','c','c','d','e','e','e','f'};\n\n        Set&lt;Character&gt; seen = new HashSet&lt;&gt;();\n        List&lt;Character&gt; nonReps = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt; arr.length; i++) {\n            if(seen.contains(arr[i])){\n                nonReps.remove(arr[i]);\n            }else{\n                nonReps.add(arr[i]);\n                seen.add(arr[i]);\n            }\n        }\n        System.out.println(nonReps);\n    }\n</code></pre>\n<p>, <code>output</code></p>\n<pre><code>[b, d, f]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658547212,"creation_date":1658516506,"answer_id":73084997,"question_id":73082449,"body_markdown":"As *OH GOD SPIDERS* has pointed out in the comments there are two flavors of `remove()` method available in the `List` interface:\r\n\r\n* [`remove(Object o)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#remove(java.lang.Object)) - inherited from the `Collection` interface, which expects an object to remove as parameter.\r\n\r\n* [`remove(int index)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#remove(int)) - defined by the `List` interface, which expects the index of the element to be removed.\r\n\r\nThe compiler maps each method call to the most specific method (if there are some overloaded versions) based on the types of arguments, which in the case of `nonReps.remove(indexInNonreps)` happens to be `remove(Object)` because `indexInNonreps` is of type `Integer`.\r\n\r\nIf you unbox the `indexInNonreps` into primitive `int` you would face another issue - `IndexOutOfBoundsException` because right after the first removal, indices in the List would no longer match the indices in the Map.\r\n\r\nTo avoid this problem and to improve the performance (removal of an arbitrary element by index from a `List` is constful - in case of `ArrayList` all elements to right from the removed one need to be shifted, in the `LinkedList` you first need to find the target element by iterating over the list, it gives a time complexity of **O(n)**, the same applies for removing a particular object from a list) we can firstly generate a `Map` which would indicate whether a particular character is repeated or not. And then construct a `List` of non-repeated characters.\r\n\r\nThat&#39;s how it might be done in **O(n)** time and using as fewer code as possible:\r\n\r\n```\r\nMap&lt;Character, Boolean&gt; isNonRepeatedByChar = new LinkedHashMap&lt;&gt;();\r\n\r\nfor (Character next : arr) {\r\n//  isNonRepeatedByChar.merge(next, true, (v1, v2) -&gt; false); // does the same as to lines below\r\n\r\n    isNonRepeatedByChar.replace(next, true, false); // the key has been already encountered - changing value to false\r\n    isNonRepeatedByChar.putIfAbsent(next, true);    // the key has NEVER been encountered before - adding the entry with value of true\r\n}\r\n\r\nList&lt;Character&gt; nonReps = new ArrayList&lt;&gt;();\r\n\r\nfor (Map.Entry&lt;Character, Boolean&gt; entry : isNonRepeatedByChar.entrySet()) {\r\n    if (entry.getValue()) nonReps.add(entry.getKey());\r\n}\r\n\r\nSystem.out.println(nonReps);\r\n```\r\n*Output:*\r\n```\r\n[b, d, f]\r\n```\r\n\r\n***Note:** I&#39;ve used a* `LinkedHashMap` *assuming that preserving the initial order of elements is important. If it&#39;s not the case - go with a plain* `HashMap`.\r\n\r\nIn case if you&#39;re comfortable with streams you can obtain the result in a single statement:\r\n\r\n```\r\nList&lt;Character&gt; nonReps = Arrays.stream(arr)\r\n    .collect(Collectors.toMap(\r\n        Function.identity(),\r\n        ch -&gt; true,             // the key has NEVER been encountered before - adding the entry with value of true (i.e. non-repeated)\r\n        (v1, v2) -&gt; false,      // the key has been already encountered - changing value to false\r\n        LinkedHashMap::new\r\n    ))\r\n    .entrySet().stream()\r\n    .filter(Map.Entry::getValue)\r\n    .map(Map.Entry::getKey)\r\n    .collect(Collectors.toList());\r\n```","title":"Creating a List of Non-Repeated characters from the given Array of characters","body":"<p>As <em>OH GOD SPIDERS</em> has pointed out in the comments there are two flavors of <code>remove()</code> method available in the <code>List</code> interface:</p>\n<ul>\n<li><p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#remove(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>remove(Object o)</code></a> - inherited from the <code>Collection</code> interface, which expects an object to remove as parameter.</p>\n</li>\n<li><p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#remove(int)\" rel=\"nofollow noreferrer\"><code>remove(int index)</code></a> - defined by the <code>List</code> interface, which expects the index of the element to be removed.</p>\n</li>\n</ul>\n<p>The compiler maps each method call to the most specific method (if there are some overloaded versions) based on the types of arguments, which in the case of <code>nonReps.remove(indexInNonreps)</code> happens to be <code>remove(Object)</code> because <code>indexInNonreps</code> is of type <code>Integer</code>.</p>\n<p>If you unbox the <code>indexInNonreps</code> into primitive <code>int</code> you would face another issue - <code>IndexOutOfBoundsException</code> because right after the first removal, indices in the List would no longer match the indices in the Map.</p>\n<p>To avoid this problem and to improve the performance (removal of an arbitrary element by index from a <code>List</code> is constful - in case of <code>ArrayList</code> all elements to right from the removed one need to be shifted, in the <code>LinkedList</code> you first need to find the target element by iterating over the list, it gives a time complexity of <strong>O(n)</strong>, the same applies for removing a particular object from a list) we can firstly generate a <code>Map</code> which would indicate whether a particular character is repeated or not. And then construct a <code>List</code> of non-repeated characters.</p>\n<p>That's how it might be done in <strong>O(n)</strong> time and using as fewer code as possible:</p>\n<pre><code>Map&lt;Character, Boolean&gt; isNonRepeatedByChar = new LinkedHashMap&lt;&gt;();\n\nfor (Character next : arr) {\n//  isNonRepeatedByChar.merge(next, true, (v1, v2) -&gt; false); // does the same as to lines below\n\n    isNonRepeatedByChar.replace(next, true, false); // the key has been already encountered - changing value to false\n    isNonRepeatedByChar.putIfAbsent(next, true);    // the key has NEVER been encountered before - adding the entry with value of true\n}\n\nList&lt;Character&gt; nonReps = new ArrayList&lt;&gt;();\n\nfor (Map.Entry&lt;Character, Boolean&gt; entry : isNonRepeatedByChar.entrySet()) {\n    if (entry.getValue()) nonReps.add(entry.getKey());\n}\n\nSystem.out.println(nonReps);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[b, d, f]\n</code></pre>\n<p><em><strong>Note:</strong> I've used a</em> <code>LinkedHashMap</code> <em>assuming that preserving the initial order of elements is important. If it's not the case - go with a plain</em> <code>HashMap</code>.</p>\n<p>In case if you're comfortable with streams you can obtain the result in a single statement:</p>\n<pre><code>List&lt;Character&gt; nonReps = Arrays.stream(arr)\n    .collect(Collectors.toMap(\n        Function.identity(),\n        ch -&gt; true,             // the key has NEVER been encountered before - adding the entry with value of true (i.e. non-repeated)\n        (v1, v2) -&gt; false,      // the key has been already encountered - changing value to false\n        LinkedHashMap::new\n    ))\n    .entrySet().stream()\n    .filter(Map.Entry::getValue)\n    .map(Map.Entry::getKey)\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":15749448,"reputation":77,"user_id":11364479,"display_name":"Arlex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1658776017,"creation_date":1658502319,"question_id":73082449,"body_markdown":"I found that on execution line `nonReps.remove(indexInNonreps);` doesn&#39;t removing the object at the specified index.\r\n\r\nWhy does it happen? \r\n\r\n*My code:*\r\n```\r\n // given an array\r\nCharacter[] arr = new Character[]{&#39;a&#39;,&#39;a&#39;,&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;c&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;,&#39;e&#39;,&#39;e&#39;,&#39;f&#39;};\r\n\r\n\r\nMap&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\nList&lt;Character&gt; nonReps = new ArrayList&lt;&gt;();\r\n\r\nfor (int i = 0; i &lt; arr.length; i++) {\r\n    if (map.containsKey(arr[i])) {\r\n        Integer indexInNonreps = map.get(arr[i]);\r\n        Character characterInNonreps = nonReps.get(indexInNonreps);\r\n\r\n        if (arr[i].equals(characterInNonreps))\r\n            nonReps.remove(indexInNonreps);\r\n        } else {\r\n            nonReps.add(arr[i]);\r\n            map.put(arr[i],nonReps.size()-1);\r\n        }\r\n    }\r\n}\r\n\r\nSystem.out.println(nonReps);\r\n```\r\n\r\n*The code prints:*\r\n```\r\n[a, b, c, d, e, f]\r\n```\r\n*Expected:*\r\n```\r\n[b, d, f]\r\n```","title":"Creating a List of Non-Repeated characters from the given Array of characters","body":"<p>I found that on execution line <code>nonReps.remove(indexInNonreps);</code> doesn't removing the object at the specified index.</p>\n<p>Why does it happen?</p>\n<p><em>My code:</em></p>\n<pre><code> // given an array\nCharacter[] arr = new Character[]{'a','a','a','b','c','c','c','d','e','e','e','f'};\n\n\nMap&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\nList&lt;Character&gt; nonReps = new ArrayList&lt;&gt;();\n\nfor (int i = 0; i &lt; arr.length; i++) {\n    if (map.containsKey(arr[i])) {\n        Integer indexInNonreps = map.get(arr[i]);\n        Character characterInNonreps = nonReps.get(indexInNonreps);\n\n        if (arr[i].equals(characterInNonreps))\n            nonReps.remove(indexInNonreps);\n        } else {\n            nonReps.add(arr[i]);\n            map.put(arr[i],nonReps.size()-1);\n        }\n    }\n}\n\nSystem.out.println(nonReps);\n</code></pre>\n<p><em>The code prints:</em></p>\n<pre><code>[a, b, c, d, e, f]\n</code></pre>\n<p><em>Expected:</em></p>\n<pre><code>[b, d, f]\n</code></pre>\n"},{"tags":["java","arrays","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":2301478,"reputation":197,"user_id":2021693,"display_name":"Reeta Wani"},"score":0,"creation_date":1587543652,"post_id":61360371,"comment_id":108549187,"body_markdown":"Check this it might help : https://stackoverflow.com/questions/40058001/error-creating-bean-with-name-entitymanagerfactory-defined-in-class-path-resou","body":"Check this it might help : <a href=\"https://stackoverflow.com/questions/40058001/error-creating-bean-with-name-entitymanagerfactory-defined-in-class-path-resou\" title=\"error creating bean with name entitymanagerfactory defined in class path resou\">stackoverflow.com/questions/40058001/&hellip;</a>"},{"owner":{"account_id":18287895,"reputation":1,"user_id":13378921,"display_name":"user13378921"},"score":0,"creation_date":1587547486,"post_id":61360371,"comment_id":108551220,"body_markdown":"Thanks. I need to annotate the KYCNote, Contact and Address classes as @Embeddable","body":"Thanks. I need to annotate the KYCNote, Contact and Address classes as @Embeddable"}],"answers":[{"tags":[],"owner":{"account_id":22145569,"reputation":51,"user_id":16394877,"display_name":"brian"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658775640,"creation_date":1658775640,"answer_id":73114119,"question_id":61360371,"body_markdown":"Have you tried adding the following to your application.properties file?\r\n\r\n&quot;spring.jpa.hibernate.use-new-id-generator-mappings= false&quot; ... \r\n\r\n","title":"Unable to build Hibernate SessionFactory; org.hibernate.MappingException: Could not determine type","body":"<p>Have you tried adding the following to your application.properties file?</p>\n<p>&quot;spring.jpa.hibernate.use-new-id-generator-mappings= false&quot; ...</p>\n"}],"owner":{"account_id":18287895,"reputation":1,"user_id":13378921,"display_name":"user13378921"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658775640,"creation_date":1587543499,"question_id":61360371,"body_markdown":"I&#39;m getting this error in a SpringBoot project. The query I&#39;m running is working up until the point when I try to save a Consumer entity to the Spring JPA database. \r\nHave you any ideas on how to fix this?? I think it might be to do with the way the classes are set up. \r\n\r\n**ERROR MESSAGE:**\r\n\r\n    \r\n\r\n&gt; ``` \r\norg.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;entityManagerFactory&#39; defined in class path\r\n&gt; resource\r\n&gt; [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]:\r\n&gt; Invocation of init method failed; nested exception is\r\n&gt; javax.persistence.PersistenceException: [PersistenceUnit: default]\r\n&gt; Unable to build Hibernate SessionFactory; nested exception is\r\n&gt; org.hibernate.MappingException: Could not determine type for:\r\n&gt; com.fintechbankapi.Consumer.KYCNote, at table: consumer_kyc_notes, for\r\n&gt; columns: [org.hibernate.mapping.Column(kyc_notes)]\r\n&gt; ```\r\n\r\nCLASSES BELOW - I have included no argument constructor, constructor with arguments and getters and setters in each class. \r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport javax.persistence.ElementCollection;\r\nimport javax.persistence.Embedded;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\n\r\n//Object to store a Consumer&#39;s details.\r\n@Entity\r\npublic class Consumer {\r\n\t//variables\r\n\t@Id\r\n\tprivate String user_id;\r\n\t@ElementCollection\r\n\tprivate List&lt;String&gt; digital_footprint = new ArrayList&lt;String&gt;();\r\n\t@ElementCollection\r\n\tprivate List&lt;String&gt; contact_id = new ArrayList&lt;String&gt;();\r\n\t@ElementCollection\r\n\tprivate List&lt;Contact&gt; contacts = new ArrayList&lt;Contact&gt;();\r\n\t@Embedded\r\n\tprivate KYC kyc;\r\n\t@ElementCollection\r\n\tprivate List&lt;KYCNote&gt; kyc_notes = new ArrayList&lt;KYCNote&gt;();\r\n\tprivate String address_id;\r\n\t@ElementCollection\r\n\tprivate List&lt;Address&gt; addresses = new ArrayList&lt;Address&gt;();\r\n}\r\n```\r\n``` \r\npublic class KYCNote {\r\n\t//variables\r\n\tprivate String code;\r\n\tprivate String detail;\r\n}\r\n```\r\n```\r\n@Embeddable\r\npublic class KYC {\r\n\t//variables\r\n\t@Column(name=&quot;status&quot;)\r\n\tprivate String status;\r\n\t//An array containing information required to be verified. Will only be \r\n\t//present if kyc.status = &quot;review&quot;.\r\n\t@Column(name=&quot;idv_required&quot;)\r\n\t@ElementCollection\r\n\tList&lt;String&gt; idv_required = new ArrayList&lt;String&gt;();\r\n}\r\n```\r\n```\r\npublic class Contact {\r\n\t//variables\r\n\tprivate String id;\r\n}\r\n```\r\n```\r\npublic class Address {\r\n\t//variables\r\n\t\tprivate String id;\r\n}\r\n```\r\nAny help appreciated. Thanks. \r\n\r\n","title":"Unable to build Hibernate SessionFactory; org.hibernate.MappingException: Could not determine type","body":"<p>I'm getting this error in a SpringBoot project. The query I'm running is working up until the point when I try to save a Consumer entity to the Spring JPA database. \nHave you any ideas on how to fix this?? I think it might be to do with the way the classes are set up. </p>\n\n<p><strong>ERROR MESSAGE:</strong></p>\n\n<blockquote>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'entityManagerFactory' defined in class path\nresource\n[org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]:\nInvocation of init method failed; nested exception is\njavax.persistence.PersistenceException: [PersistenceUnit: default]\nUnable to build Hibernate SessionFactory; nested exception is\norg.hibernate.MappingException: Could not determine type for:\ncom.fintechbankapi.Consumer.KYCNote, at table: consumer_kyc_notes, for\ncolumns: [org.hibernate.mapping.Column(kyc_notes)]\n</code></pre>\n</blockquote>\n\n<p>CLASSES BELOW - I have included no argument constructor, constructor with arguments and getters and setters in each class. </p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport javax.persistence.ElementCollection;\nimport javax.persistence.Embedded;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\n//Object to store a Consumer's details.\n@Entity\npublic class Consumer {\n    //variables\n    @Id\n    private String user_id;\n    @ElementCollection\n    private List&lt;String&gt; digital_footprint = new ArrayList&lt;String&gt;();\n    @ElementCollection\n    private List&lt;String&gt; contact_id = new ArrayList&lt;String&gt;();\n    @ElementCollection\n    private List&lt;Contact&gt; contacts = new ArrayList&lt;Contact&gt;();\n    @Embedded\n    private KYC kyc;\n    @ElementCollection\n    private List&lt;KYCNote&gt; kyc_notes = new ArrayList&lt;KYCNote&gt;();\n    private String address_id;\n    @ElementCollection\n    private List&lt;Address&gt; addresses = new ArrayList&lt;Address&gt;();\n}\n</code></pre>\n\n<pre><code>public class KYCNote {\n    //variables\n    private String code;\n    private String detail;\n}\n</code></pre>\n\n<pre><code>@Embeddable\npublic class KYC {\n    //variables\n    @Column(name=\"status\")\n    private String status;\n    //An array containing information required to be verified. Will only be \n    //present if kyc.status = \"review\".\n    @Column(name=\"idv_required\")\n    @ElementCollection\n    List&lt;String&gt; idv_required = new ArrayList&lt;String&gt;();\n}\n</code></pre>\n\n<pre><code>public class Contact {\n    //variables\n    private String id;\n}\n</code></pre>\n\n<pre><code>public class Address {\n    //variables\n        private String id;\n}\n</code></pre>\n\n<p>Any help appreciated. Thanks. </p>\n"},{"tags":["java","spring-boot","spring-mvc","gradle","intellij-idea"],"comments":[{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1658758416,"post_id":73103521,"comment_id":129124530,"body_markdown":"Please attach `/home/pliakhov/Desktop/springstuff/latlong/src/main/java/com/example/latlong/location/Location.java` file.","body":"Please attach <code>&#47;home&#47;pliakhov&#47;Desktop&#47;springstuff&#47;latlong&#47;src&#47;main&#47;java&#47;com&zwnj;&#8203;&#47;example&#47;latlong&#47;loc&zwnj;&#8203;ation&#47;Location.java</code> file."},{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1658758439,"post_id":73103521,"comment_id":129124541,"body_markdown":"Try reimporting the project (refresh button on the top right of build.gradle file)","body":"Try reimporting the project (refresh button on the top right of build.gradle file)"},{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1658758460,"post_id":73103521,"comment_id":129124553,"body_markdown":"Try also File | Repair IDE action","body":"Try also File | Repair IDE action"},{"owner":{"account_id":14730961,"reputation":11,"user_id":10638267,"display_name":"pTurner"},"score":0,"creation_date":1658775605,"post_id":73103521,"comment_id":129130934,"body_markdown":"Hi Konstantin,\nI have added ```/home/pliakhov/Desktop/springstuff/latlong/src/main/java/com/example/latlong/location/Location.java```\nfile","body":"Hi Konstantin, I have added <code>&#47;home&#47;pliakhov&#47;Desktop&#47;springstuff&#47;latlong&#47;src&#47;main&#47;java&#47;com&zwnj;&#8203;&#47;example&#47;latlong&#47;loc&zwnj;&#8203;ation&#47;Location.java</code> file"},{"owner":{"account_id":14730961,"reputation":11,"user_id":10638267,"display_name":"pTurner"},"score":0,"creation_date":1658778335,"post_id":73103521,"comment_id":129131802,"body_markdown":"I have just tried Repair IDE, I am still receiving the same errors, and I have tried reloading the gradle project.","body":"I have just tried Repair IDE, I am still receiving the same errors, and I have tried reloading the gradle project."}],"owner":{"account_id":14730961,"reputation":11,"user_id":10638267,"display_name":"pTurner"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658775576,"creation_date":1658716307,"question_id":73103521,"body_markdown":"My projects imports were previously working, however they are failing and I am receiving such ```error: package com.fasterxml.jackson.core does not exist\r\nimport com.fasterxml.jackson.core.JsonGenerationException;``` error, for all my imports when running \r\n``` \r\n./gradlew build\r\n```\r\n\r\nI have tried the following, but it didn&#39;t work:\r\n\r\n1) Deleting &amp; refreshing cache\r\n\r\nHere is my build.gradle\r\n\r\n```plugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.0&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n\tid &#39;org.unbroken-dome.test-sets&#39; version &#39;4.0.0&#39;\r\n}\r\n\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n//sourceCompatibility = &#39;17&#39;\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\n\r\nsourceSets {\r\n\tintTest {\r\n\t\tjava {\r\n\t\t\tsrcDirs = [&#39;src/integrationTest/java/com/example/latlong/location/LocationTest.java&#39;]\r\n\t\t\tsrcDirs = [&#39;src/main/java&#39;]\r\n\r\n\t\t}\r\n\t\tresources {\r\n\t\t\tsrcDirs = [&#39;src/integrationTest/resources&#39;]\r\n\t\t}\r\n\t\tcompileClasspath += sourceSets.main.output\r\n\t\truntimeClasspath += sourceSets.main.output\r\n\t}\r\n}\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\timplementation &#39;com.fasterxml.jackson.core:jackson-databind:2.13.3&#39;\r\n\timplementation &#39;com.fasterxml.jackson.core:jackson-core:2.13.3&#39;\r\n\timplementation &#39;com.google.code.gson:gson:2.9.0&#39;\r\n \timplementation &#39;org.json:json:20220320&#39;\r\n\truntimeOnly &#39;com.h2database:h2&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\tintTestImplementation &#39;junit:junit:4.13.2&#39;\r\n}\r\n\r\n\r\nconfigurations {\r\n\tintegrationTestImplementation.extendsFrom implementation\r\n\tintegrationTestRuntimeOnly.extendsFrom runtimeOnly\r\n}\r\n\r\n\r\ntasks.register(&#39;integrationTest&#39;, Test) {\r\n\tdescription = &#39;Runs integration tests.&#39;\r\n\tgroup = &#39;verification&#39;\r\n\r\n\ttestClassesDirs = sourceSets.intTest.output.classesDirs\r\n\tclasspath = sourceSets.intTest.runtimeClasspath\r\n\tshouldRunAfter test\r\n}\r\n\r\ncheck.dependsOn integrationTest\r\n```\r\n\r\nHere is a java class in my project with the following issue \r\n\r\n\r\n``` //\r\n// Source code recreated from a .class file by IntelliJ IDEA\r\n// (powered by FernFlower decompiler)\r\n//\r\n\r\npackage com.example.latlong.location;\r\n\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\nimport org.springframework.context.annotation.Profile;\r\nimport org.springframework.format.annotation.DateTimeFormat;\r\nimport org.springframework.format.annotation.DateTimeFormat.ISO;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\n@Profile({&quot;qa&quot;})\r\n@RestController\r\npublic class LocationResourceQA {\r\n    public LocationResourceQA() {\r\n    }\r\n\r\n    @GetMapping(\r\n        path = {&quot;/night-time-temperature&quot;}\r\n    )\r\n    @ResponseBody\r\n    public String tempStatsMOCK(@RequestParam(name = &quot;time&quot;) @DateTimeFormat(iso = ISO.DATE_TIME) String fromDate) {\r\n        String url = &quot;http://localhost:8082/sunriseSunset.json&quot;;\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        String result = (String)restTemplate.getForObject(url, String.class, new Object[0]);\r\n        Location location = new Location(result);\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\n        Date testDate = null;\r\n\r\n        try {\r\n            testDate = sdf.parse(fromDate);\r\n        } catch (ParseException var9) {\r\n            var9.printStackTrace();\r\n        }\r\n\r\n        location.tempGradient(testDate);\r\n        return location.getTempurature();\r\n    }\r\n}\r\n```\r\nAnd here is the series of errors for the following java file:\r\n```\r\n&gt; Task :compileIntTestJava FAILED\r\n/home/pliakhov/Desktop/springstuff/latlong/src/main/java/com/example/latlong/location/Location.java:3: error: package com.fasterxml.jackson.core does not exist\r\nimport com.fasterxml.jackson.core.JsonGenerationException;\r\n                                 ^\r\n/home/pliakhov/Desktop/springstuff/latlong/src/main/java/com/example/latlong/location/Location.java:4: error: package com.fasterxml.jackson.databind does not exist\r\nimport com.fasterxml.jackson.databind.JsonMappingException;\r\n                                     ^\r\n/home/pliakhov/Desktop/springstuff/latlong/src/main/java/com/example/latlong/location/Location.java:5: error: package com.fasterxml.jackson.databind does not exist\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\n                                     ^\r\n/home/pliakhov/Desktop/springstuff/latlong/src/main/java/com/example/latlong/location/Location.java:6: error: package com.fasterxml.jackson.databind does not exist\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n                                     ^\r\n/home/pliakhov/Desktop/springstuff/latlong/src/main/java/com/example/latlong/location/Location.java:7: error: package org.springframework.stereotype does not exist\r\nimport org.springframework.stereotype.Component;\r\n                                     ^\r\n/home/pliakhov/Desktop/springstuff/latlong/src/main/java/com/example/latlong/location/Location.java:19: error: cannot find symbol\r\n@Component\r\n ^\r\n  symbol: class Component\r\n/home/pliakhov/Desktop/springstuff/latlong/src/main/java/com/example/latlong/location/Location.java:25: error: cannot find symbol\r\n    private static final ObjectMapper mapper = new ObjectMapper();\r\n```\r\nEDITED(Added Location.java below)\r\n\r\n```\r\npackage com.example.latlong.location;\r\n\r\nimport com.fasterxml.jackson.core.JsonGenerationException;\r\nimport com.fasterxml.jackson.databind.JsonMappingException;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.io.IOException;\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.time.Instant;\r\nimport java.time.LocalTime;\r\nimport java.util.Date;\r\nimport java.util.Locale;\r\nimport java.util.Map;\r\n//import org.json*;\r\n\r\n@Component\r\npublic class Location {\r\n\r\n    public Location() {\r\n    }\r\n\r\n    private static final ObjectMapper mapper = new ObjectMapper();\r\n\r\n\r\n    private String sunrise;\r\n\r\n    private String sunset;\r\n\r\n    private String noon;\r\n\r\n    private String civilBegin;\r\n    private String civilEnd;\r\n    private String nautBegin;\r\n    private String nautEnd;\r\n    private String astroBegin;\r\n    private String astroEnd;\r\n\r\n    private String tempurature;\r\n\r\n    public String getTempurature() {\r\n        return tempurature;\r\n    }\r\n\r\n    public void setTempurature(String tempurature) {\r\n        this.tempurature = tempurature;\r\n    }\r\n\r\n    public String getCivilBegin() {\r\n        return civilBegin;\r\n    }\r\n\r\n    public void setCivilBegin(String civilBegin) {\r\n        this.civilBegin = civilBegin;\r\n    }\r\n\r\n    public String getCivilEnd() {\r\n        return civilEnd;\r\n    }\r\n\r\n    public void setCivilEnd(String civilEnd) {\r\n        this.civilEnd = civilEnd;\r\n    }\r\n\r\n    public String getNautBegin() {\r\n        return nautBegin;\r\n    }\r\n\r\n    public void setNautBegin(String nautBegin) {\r\n        this.nautBegin = nautBegin;\r\n    }\r\n\r\n    public String getNautEnd() {\r\n        return nautEnd;\r\n    }\r\n\r\n    public void setNautEnd(String nautEnd) {\r\n        this.nautEnd = nautEnd;\r\n    }\r\n\r\n    public String getAstroBegin() {\r\n        return astroBegin;\r\n    }\r\n\r\n    public void setAstroBegin(String astroBegin) {\r\n        this.astroBegin = astroBegin;\r\n    }\r\n\r\n    public String getAstroEnd() {\r\n        return astroEnd;\r\n    }\r\n\r\n    public void setAstroEnd(String astroEnd) {\r\n        this.astroEnd = astroEnd;\r\n    }\r\n\r\n    public String getSunrise() {\r\n        return sunrise;\r\n    }\r\n\r\n    public void setSunrise(String sunrise) {\r\n        this.sunrise = sunrise;\r\n    }\r\n\r\n    public String getSunset() {\r\n        return sunset;\r\n    }\r\n\r\n    public void setSunset(String sunset) {\r\n        this.sunset = sunset;\r\n    }\r\n\r\n    public String getNoon() {\r\n        return noon;\r\n    }\r\n\r\n    public void setNoon(String noon) {\r\n        this.noon = noon;\r\n    }\r\n\r\n    public Location(String sunrise, String sunset, String noon) {\r\n        this.sunrise = sunrise;\r\n        this.sunset = sunset;\r\n        this.noon = noon;\r\n    }\r\n\r\n    public Location(String JSONdata){\r\n        // Deserialize the JSON data to set member variables\r\n\r\n        try {\r\n            JsonNode jsonNode = mapper.readTree(JSONdata);\r\n            this.sunrise = jsonNode.get(&quot;results&quot;).get(&quot;sunrise&quot;).asText();\r\n            this.sunset = jsonNode.get(&quot;results&quot;).get(&quot;sunset&quot;).asText();\r\n            this.noon = jsonNode.get(&quot;results&quot;).get(&quot;solar_noon&quot;).asText();\r\n            this.civilBegin = jsonNode.get(&quot;results&quot;).get(&quot;civil_twilight_begin&quot;).asText();\r\n            this.civilEnd = jsonNode.get(&quot;results&quot;).get(&quot;civil_twilight_end&quot;).asText();\r\n            this.nautBegin = jsonNode.get(&quot;results&quot;).get(&quot;nautical_twilight_begin&quot;).asText();\r\n            this.nautEnd = jsonNode.get(&quot;results&quot;).get(&quot;nautical_twilight_end&quot;).asText();\r\n            this.astroBegin = jsonNode.get(&quot;results&quot;).get(&quot;astronomical_twilight_begin&quot;).asText();\r\n            this.astroEnd = jsonNode.get(&quot;results&quot;).get(&quot;astronomical_twilight_end&quot;).asText();\r\n\r\n        } catch (JsonMappingException e) {\r\n            e.printStackTrace();\r\n        } catch (JsonGenerationException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    public long calcTwilightTemp (Date twiTime,Date twiTime2, Date nowTime, long initialKelvin){\r\n\r\n            int kelvinGradient = 0;\r\n            // Get the difference(minutes), of current &amp; astro. rising twilight\r\n            // time to get exact temp. gradient\r\n\r\n            // Calculate the difference between the current and twilight boundary in mins\r\n            int diffBet = (int) (nowTime.getTime() - twiTime.getTime());\r\n            System.out.println(&quot;NowTime:&quot; + nowTime.getTime()  + &quot;twiTime: &quot; + twiTime.getTime() + &quot;DiffBet: &quot; + diffBet);\r\n            diffBet = (diffBet / 1000) / 60;\r\n            System.out.println(&quot;diffBet: &quot; + diffBet);\r\n\r\n            int totalTwilightTime = (int)( twiTime2.getTime()-twiTime.getTime());\r\n            totalTwilightTime = (totalTwilightTime /1000) / 60;\r\n\r\n            // Calculate kelvin increase per minute\r\n            //double kelvinPerMin = 1650 / (((twiTime2.getTime()-twiTime.getTime() / 10000) % 60));\r\n            int kelvinPerMin = 1650 / totalTwilightTime;\r\n\r\n            System.out.println(&quot;KelvinPermin: &quot; + kelvinPerMin);\r\n            int kelvinToAdd = diffBet * kelvinPerMin;\r\n            System.out.println(&quot;kelvinToAdd: &quot; +kelvinToAdd);\r\n             kelvinGradient = (int) initialKelvin + kelvinToAdd;\r\n            //System.out.println(&quot;kelvinGradient: &quot; + kelvinGradient);\r\n             return (long)kelvinGradient;\r\n\r\n    }\r\n\r\n\r\n    /*\r\n        Function for determining tempurature gradient based off sunrise, noon and sunset respectively\r\n     */\r\n    public String tempGradient(Date timeToUse){\r\n\r\n        // Parser needed for time conversion\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\n\r\n        long tempGradient = 0;\r\n        try {\r\n            Date astroRise = sdf.parse(this.getAstroBegin());\r\n            Date nautRise = sdf.parse(this.getNautBegin());\r\n            Date civilRise = sdf.parse(this.getCivilBegin());\r\n            Date civilEnd = sdf.parse(this.getCivilEnd());\r\n            Date nautEnd = sdf.parse(this.getNautEnd());\r\n            Date astroEnd = sdf.parse(this.getAstroEnd());\r\n\r\n            Date currTime = timeToUse;\r\n            System.out.println(&quot;Current Time: &quot; + currTime);\r\n            System.out.print(this.toString());\r\n            // SUNRISE: Between Astronomical &amp; Nautical twilight begin\r\n            if (currTime.after(astroRise) &amp;&amp; currTime.before(nautRise) ) {\r\n\r\n                // Get the difference(minutes), of current &amp; astro. rising twilight\r\n                // time to get exact temp. gradient\r\n                tempGradient = calcTwilightTemp(astroRise,nautRise,currTime,2700);\r\n\r\n            }\r\n            // SUNRISE: Between Nautical &amp; Civil twilight begin\r\n            else if(currTime.after(nautRise) &amp;&amp; currTime.before(civilRise) ){\r\n                tempGradient = calcTwilightTemp(nautRise,civilRise,currTime,4350);\r\n            }\r\n            //  NOON: Check Noon time (gradient: 6000k)\r\n            else if (currTime.after(civilRise) &amp;&amp; currTime.before(civilEnd)){\r\n                    tempGradient = 6000;\r\n            }\r\n            // SUNSET: Check night time duration(gradient: 2700k)\r\n            else if (currTime.after(civilEnd) &amp;&amp; currTime.before(nautEnd)){\r\n                tempGradient = 6000 - ( calcTwilightTemp(civilEnd,nautEnd,currTime,6000) - 6000);\r\n\r\n            }\r\n            else if (currTime.after(nautEnd) &amp;&amp; currTime.before(astroEnd)){\r\n                tempGradient = 4350 - (calcTwilightTemp(nautEnd,astroEnd,currTime,4350) - 4350);\r\n            }\r\n            // NIGHTTIME: Check between end of astronomical twilight, and beginning of astronomical twilight in AM\r\n            else{\r\n                tempGradient = 2700;\r\n            }\r\n//            System.out.println(&quot;Astronomical Begin: &quot; + astroRise);\r\n//            System.out.println(&quot;Nautical Begin: &quot; + nautRise);\r\n//            System.out.println(&quot;Civil End: &quot; + civilEnd);\r\n//            System.out.println(&quot;Nautical End: &quot;+ nautEnd);\r\n        }\r\n        catch(ParseException e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n        String strGradient = Long.toString(tempGradient);\r\n\r\n        System.out.println(&quot;Calculated Gradient: &quot; + strGradient);\r\n        this.setTempurature(strGradient);\r\n        return strGradient;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Location{&quot; +\r\n                &quot;sunrise=&#39;&quot; + sunrise + &#39;\\&#39;&#39; +\r\n                &quot;, sunset=&#39;&quot; + sunset + &#39;\\&#39;&#39; +\r\n                &quot;, noon=&#39;&quot; + noon + &#39;\\&#39;&#39; +\r\n                &quot;, astroBegin=&#39;&quot; + astroBegin + &#39;\\&#39;&#39; +\r\n                &quot;, nautBegin=&#39;&quot; + nautBegin + &#39;\\&#39;&#39; +\r\n                &quot;, civilBegin=&#39;&quot; + civilBegin + &#39;\\&#39;&#39; +\r\n                &quot;, civilEnd=&#39;&quot; + civilEnd + &#39;\\&#39;&#39; +\r\n                &quot;, nautEnd=&#39;&quot; + nautEnd + &#39;\\&#39;&#39; +\r\n                &quot;, astroEnd=&#39;&quot; + astroEnd + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nAny suggestions on a fix?\r\n","title":"Import Dependencies failing on intellij gradle project with springboot on ./gradlew build","body":"<p>My projects imports were previously working, however they are failing and I am receiving such <code>error: package com.fasterxml.jackson.core does not exist import com.fasterxml.jackson.core.JsonGenerationException;</code> error, for all my imports when running</p>\n<pre><code>./gradlew build\n</code></pre>\n<p>I have tried the following, but it didn't work:</p>\n<ol>\n<li>Deleting &amp; refreshing cache</li>\n</ol>\n<p>Here is my build.gradle</p>\n<pre><code>    id 'org.springframework.boot' version '2.7.0'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n    id 'org.unbroken-dome.test-sets' version '4.0.0'\n}\n\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\n//sourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\n\nsourceSets {\n    intTest {\n        java {\n            srcDirs = ['src/integrationTest/java/com/example/latlong/location/LocationTest.java']\n            srcDirs = ['src/main/java']\n\n        }\n        resources {\n            srcDirs = ['src/integrationTest/resources']\n        }\n        compileClasspath += sourceSets.main.output\n        runtimeClasspath += sourceSets.main.output\n    }\n}\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-test'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.13.3'\n    implementation 'com.fasterxml.jackson.core:jackson-core:2.13.3'\n    implementation 'com.google.code.gson:gson:2.9.0'\n    implementation 'org.json:json:20220320'\n    runtimeOnly 'com.h2database:h2'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    intTestImplementation 'junit:junit:4.13.2'\n}\n\n\nconfigurations {\n    integrationTestImplementation.extendsFrom implementation\n    integrationTestRuntimeOnly.extendsFrom runtimeOnly\n}\n\n\ntasks.register('integrationTest', Test) {\n    description = 'Runs integration tests.'\n    group = 'verification'\n\n    testClassesDirs = sourceSets.intTest.output.classesDirs\n    classpath = sourceSets.intTest.runtimeClasspath\n    shouldRunAfter test\n}\n\ncheck.dependsOn integrationTest\n</code></pre>\n<p>Here is a java class in my project with the following issue</p>\n<pre><code>// Source code recreated from a .class file by IntelliJ IDEA\n// (powered by FernFlower decompiler)\n//\n\npackage com.example.latlong.location;\n\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport org.springframework.context.annotation.Profile;\nimport org.springframework.format.annotation.DateTimeFormat;\nimport org.springframework.format.annotation.DateTimeFormat.ISO;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.client.RestTemplate;\n\n@Profile({&quot;qa&quot;})\n@RestController\npublic class LocationResourceQA {\n    public LocationResourceQA() {\n    }\n\n    @GetMapping(\n        path = {&quot;/night-time-temperature&quot;}\n    )\n    @ResponseBody\n    public String tempStatsMOCK(@RequestParam(name = &quot;time&quot;) @DateTimeFormat(iso = ISO.DATE_TIME) String fromDate) {\n        String url = &quot;http://localhost:8082/sunriseSunset.json&quot;;\n        RestTemplate restTemplate = new RestTemplate();\n        String result = (String)restTemplate.getForObject(url, String.class, new Object[0]);\n        Location location = new Location(result);\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;);\n        Date testDate = null;\n\n        try {\n            testDate = sdf.parse(fromDate);\n        } catch (ParseException var9) {\n            var9.printStackTrace();\n        }\n\n        location.tempGradient(testDate);\n        return location.getTempurature();\n    }\n}\n</code></pre>\n<p>And here is the series of errors for the following java file:</p>\n<pre><code>&gt; Task :compileIntTestJava FAILED\n/home/pliakhov/Desktop/springstuff/latlong/src/main/java/com/example/latlong/location/Location.java:3: error: package com.fasterxml.jackson.core does not exist\nimport com.fasterxml.jackson.core.JsonGenerationException;\n                                 ^\n/home/pliakhov/Desktop/springstuff/latlong/src/main/java/com/example/latlong/location/Location.java:4: error: package com.fasterxml.jackson.databind does not exist\nimport com.fasterxml.jackson.databind.JsonMappingException;\n                                     ^\n/home/pliakhov/Desktop/springstuff/latlong/src/main/java/com/example/latlong/location/Location.java:5: error: package com.fasterxml.jackson.databind does not exist\nimport com.fasterxml.jackson.databind.JsonNode;\n                                     ^\n/home/pliakhov/Desktop/springstuff/latlong/src/main/java/com/example/latlong/location/Location.java:6: error: package com.fasterxml.jackson.databind does not exist\nimport com.fasterxml.jackson.databind.ObjectMapper;\n                                     ^\n/home/pliakhov/Desktop/springstuff/latlong/src/main/java/com/example/latlong/location/Location.java:7: error: package org.springframework.stereotype does not exist\nimport org.springframework.stereotype.Component;\n                                     ^\n/home/pliakhov/Desktop/springstuff/latlong/src/main/java/com/example/latlong/location/Location.java:19: error: cannot find symbol\n@Component\n ^\n  symbol: class Component\n/home/pliakhov/Desktop/springstuff/latlong/src/main/java/com/example/latlong/location/Location.java:25: error: cannot find symbol\n    private static final ObjectMapper mapper = new ObjectMapper();\n</code></pre>\n<p>EDITED(Added Location.java below)</p>\n<pre><code>package com.example.latlong.location;\n\nimport com.fasterxml.jackson.core.JsonGenerationException;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.springframework.stereotype.Component;\n\nimport java.io.IOException;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.time.Instant;\nimport java.time.LocalTime;\nimport java.util.Date;\nimport java.util.Locale;\nimport java.util.Map;\n//import org.json*;\n\n@Component\npublic class Location {\n\n    public Location() {\n    }\n\n    private static final ObjectMapper mapper = new ObjectMapper();\n\n\n    private String sunrise;\n\n    private String sunset;\n\n    private String noon;\n\n    private String civilBegin;\n    private String civilEnd;\n    private String nautBegin;\n    private String nautEnd;\n    private String astroBegin;\n    private String astroEnd;\n\n    private String tempurature;\n\n    public String getTempurature() {\n        return tempurature;\n    }\n\n    public void setTempurature(String tempurature) {\n        this.tempurature = tempurature;\n    }\n\n    public String getCivilBegin() {\n        return civilBegin;\n    }\n\n    public void setCivilBegin(String civilBegin) {\n        this.civilBegin = civilBegin;\n    }\n\n    public String getCivilEnd() {\n        return civilEnd;\n    }\n\n    public void setCivilEnd(String civilEnd) {\n        this.civilEnd = civilEnd;\n    }\n\n    public String getNautBegin() {\n        return nautBegin;\n    }\n\n    public void setNautBegin(String nautBegin) {\n        this.nautBegin = nautBegin;\n    }\n\n    public String getNautEnd() {\n        return nautEnd;\n    }\n\n    public void setNautEnd(String nautEnd) {\n        this.nautEnd = nautEnd;\n    }\n\n    public String getAstroBegin() {\n        return astroBegin;\n    }\n\n    public void setAstroBegin(String astroBegin) {\n        this.astroBegin = astroBegin;\n    }\n\n    public String getAstroEnd() {\n        return astroEnd;\n    }\n\n    public void setAstroEnd(String astroEnd) {\n        this.astroEnd = astroEnd;\n    }\n\n    public String getSunrise() {\n        return sunrise;\n    }\n\n    public void setSunrise(String sunrise) {\n        this.sunrise = sunrise;\n    }\n\n    public String getSunset() {\n        return sunset;\n    }\n\n    public void setSunset(String sunset) {\n        this.sunset = sunset;\n    }\n\n    public String getNoon() {\n        return noon;\n    }\n\n    public void setNoon(String noon) {\n        this.noon = noon;\n    }\n\n    public Location(String sunrise, String sunset, String noon) {\n        this.sunrise = sunrise;\n        this.sunset = sunset;\n        this.noon = noon;\n    }\n\n    public Location(String JSONdata){\n        // Deserialize the JSON data to set member variables\n\n        try {\n            JsonNode jsonNode = mapper.readTree(JSONdata);\n            this.sunrise = jsonNode.get(&quot;results&quot;).get(&quot;sunrise&quot;).asText();\n            this.sunset = jsonNode.get(&quot;results&quot;).get(&quot;sunset&quot;).asText();\n            this.noon = jsonNode.get(&quot;results&quot;).get(&quot;solar_noon&quot;).asText();\n            this.civilBegin = jsonNode.get(&quot;results&quot;).get(&quot;civil_twilight_begin&quot;).asText();\n            this.civilEnd = jsonNode.get(&quot;results&quot;).get(&quot;civil_twilight_end&quot;).asText();\n            this.nautBegin = jsonNode.get(&quot;results&quot;).get(&quot;nautical_twilight_begin&quot;).asText();\n            this.nautEnd = jsonNode.get(&quot;results&quot;).get(&quot;nautical_twilight_end&quot;).asText();\n            this.astroBegin = jsonNode.get(&quot;results&quot;).get(&quot;astronomical_twilight_begin&quot;).asText();\n            this.astroEnd = jsonNode.get(&quot;results&quot;).get(&quot;astronomical_twilight_end&quot;).asText();\n\n        } catch (JsonMappingException e) {\n            e.printStackTrace();\n        } catch (JsonGenerationException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    public long calcTwilightTemp (Date twiTime,Date twiTime2, Date nowTime, long initialKelvin){\n\n            int kelvinGradient = 0;\n            // Get the difference(minutes), of current &amp; astro. rising twilight\n            // time to get exact temp. gradient\n\n            // Calculate the difference between the current and twilight boundary in mins\n            int diffBet = (int) (nowTime.getTime() - twiTime.getTime());\n            System.out.println(&quot;NowTime:&quot; + nowTime.getTime()  + &quot;twiTime: &quot; + twiTime.getTime() + &quot;DiffBet: &quot; + diffBet);\n            diffBet = (diffBet / 1000) / 60;\n            System.out.println(&quot;diffBet: &quot; + diffBet);\n\n            int totalTwilightTime = (int)( twiTime2.getTime()-twiTime.getTime());\n            totalTwilightTime = (totalTwilightTime /1000) / 60;\n\n            // Calculate kelvin increase per minute\n            //double kelvinPerMin = 1650 / (((twiTime2.getTime()-twiTime.getTime() / 10000) % 60));\n            int kelvinPerMin = 1650 / totalTwilightTime;\n\n            System.out.println(&quot;KelvinPermin: &quot; + kelvinPerMin);\n            int kelvinToAdd = diffBet * kelvinPerMin;\n            System.out.println(&quot;kelvinToAdd: &quot; +kelvinToAdd);\n             kelvinGradient = (int) initialKelvin + kelvinToAdd;\n            //System.out.println(&quot;kelvinGradient: &quot; + kelvinGradient);\n             return (long)kelvinGradient;\n\n    }\n\n\n    /*\n        Function for determining tempurature gradient based off sunrise, noon and sunset respectively\n     */\n    public String tempGradient(Date timeToUse){\n\n        // Parser needed for time conversion\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;);\n\n        long tempGradient = 0;\n        try {\n            Date astroRise = sdf.parse(this.getAstroBegin());\n            Date nautRise = sdf.parse(this.getNautBegin());\n            Date civilRise = sdf.parse(this.getCivilBegin());\n            Date civilEnd = sdf.parse(this.getCivilEnd());\n            Date nautEnd = sdf.parse(this.getNautEnd());\n            Date astroEnd = sdf.parse(this.getAstroEnd());\n\n            Date currTime = timeToUse;\n            System.out.println(&quot;Current Time: &quot; + currTime);\n            System.out.print(this.toString());\n            // SUNRISE: Between Astronomical &amp; Nautical twilight begin\n            if (currTime.after(astroRise) &amp;&amp; currTime.before(nautRise) ) {\n\n                // Get the difference(minutes), of current &amp; astro. rising twilight\n                // time to get exact temp. gradient\n                tempGradient = calcTwilightTemp(astroRise,nautRise,currTime,2700);\n\n            }\n            // SUNRISE: Between Nautical &amp; Civil twilight begin\n            else if(currTime.after(nautRise) &amp;&amp; currTime.before(civilRise) ){\n                tempGradient = calcTwilightTemp(nautRise,civilRise,currTime,4350);\n            }\n            //  NOON: Check Noon time (gradient: 6000k)\n            else if (currTime.after(civilRise) &amp;&amp; currTime.before(civilEnd)){\n                    tempGradient = 6000;\n            }\n            // SUNSET: Check night time duration(gradient: 2700k)\n            else if (currTime.after(civilEnd) &amp;&amp; currTime.before(nautEnd)){\n                tempGradient = 6000 - ( calcTwilightTemp(civilEnd,nautEnd,currTime,6000) - 6000);\n\n            }\n            else if (currTime.after(nautEnd) &amp;&amp; currTime.before(astroEnd)){\n                tempGradient = 4350 - (calcTwilightTemp(nautEnd,astroEnd,currTime,4350) - 4350);\n            }\n            // NIGHTTIME: Check between end of astronomical twilight, and beginning of astronomical twilight in AM\n            else{\n                tempGradient = 2700;\n            }\n//            System.out.println(&quot;Astronomical Begin: &quot; + astroRise);\n//            System.out.println(&quot;Nautical Begin: &quot; + nautRise);\n//            System.out.println(&quot;Civil End: &quot; + civilEnd);\n//            System.out.println(&quot;Nautical End: &quot;+ nautEnd);\n        }\n        catch(ParseException e){\n            e.printStackTrace();\n        }\n\n        String strGradient = Long.toString(tempGradient);\n\n        System.out.println(&quot;Calculated Gradient: &quot; + strGradient);\n        this.setTempurature(strGradient);\n        return strGradient;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Location{&quot; +\n                &quot;sunrise='&quot; + sunrise + '\\'' +\n                &quot;, sunset='&quot; + sunset + '\\'' +\n                &quot;, noon='&quot; + noon + '\\'' +\n                &quot;, astroBegin='&quot; + astroBegin + '\\'' +\n                &quot;, nautBegin='&quot; + nautBegin + '\\'' +\n                &quot;, civilBegin='&quot; + civilBegin + '\\'' +\n                &quot;, civilEnd='&quot; + civilEnd + '\\'' +\n                &quot;, nautEnd='&quot; + nautEnd + '\\'' +\n                &quot;, astroEnd='&quot; + astroEnd + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>Any suggestions on a fix?</p>\n"},{"tags":["java","jackson","quarkus","vert.x","quarkus-reactive"],"comments":[{"owner":{"account_id":16662436,"reputation":149,"user_id":12042059,"display_name":"Jaiprasad"},"score":0,"creation_date":1658826972,"post_id":73113232,"comment_id":129142359,"body_markdown":"See even with GET request body can be mapped to pojo class , the problem is it is not able to do it in non-blocking way , whereas it is able to do it for POST","body":"See even with GET request body can be mapped to pojo class , the problem is it is not able to do it in non-blocking way , whereas it is able to do it for POST"},{"owner":{"account_id":16676962,"reputation":1021,"user_id":12176221,"display_name":"Jacouille"},"score":0,"creation_date":1658827128,"post_id":73113232,"comment_id":129142448,"body_markdown":"could you add your dependencies from pom.xml please ?","body":"could you add your dependencies from pom.xml please ?"},{"owner":{"account_id":16662436,"reputation":149,"user_id":12042059,"display_name":"Jaiprasad"},"score":0,"creation_date":1658829877,"post_id":73113232,"comment_id":129143527,"body_markdown":"Quarkus version &lt;version&gt;2.9.0.Final&lt;/version&gt;\n\n\t&lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-reactive-pg-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-resteasy-reactive-jackson&lt;/artifactId&gt;\n    &lt;/dependency&gt;","body":"Quarkus version &lt;version&gt;2.9.0.Final&lt;/version&gt;  \t&lt;dependency&gt;       &lt;groupId&gt;io.quarkus&lt;/groupId&gt;       &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;     &lt;/dependency&gt;      &lt;dependency&gt;       &lt;groupId&gt;io.quarkus&lt;/groupId&gt;       &lt;artifactId&gt;quarkus-reactive-pg-client&lt;/artifactId&gt;     &lt;/dependency&gt;      &lt;dependency&gt;       &lt;groupId&gt;io.quarkus&lt;/groupId&gt;       &lt;artifactId&gt;quarkus-resteasy-reactive-jackson&lt;/artifactId&gt;     &lt;/dependency&gt;"}],"answers":[{"tags":[],"owner":{"account_id":25863692,"reputation":138,"user_id":19595755,"display_name":"pholak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658775249,"creation_date":1658775249,"answer_id":73114049,"question_id":73113232,"body_markdown":"It [looks](https://stackoverflow.com/a/49341305) like resteasy-jaxrs doesn&#39;t allow to invoke the HTTP get method with the body. \r\nSimilar question with an alternative solution:\r\nhttps://stackoverflow.com/questions/8232633/can-resteasy-serialize-a-pojo-for-a-get-method\r\n\r\n\r\n","title":"Quarkus - org.jboss.resteasy.reactive.common.core.BlockingNotAllowedException: Attempting a blocking read on io thread","body":"<p>It <a href=\"https://stackoverflow.com/a/49341305\">looks</a> like resteasy-jaxrs doesn't allow to invoke the HTTP get method with the body.\nSimilar question with an alternative solution:\n<a href=\"https://stackoverflow.com/questions/8232633/can-resteasy-serialize-a-pojo-for-a-get-method\">Can RestEasy serialize a POJO for a @GET method?</a></p>\n"}],"owner":{"account_id":16662436,"reputation":149,"user_id":12042059,"display_name":"Jaiprasad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1658830664,"answer_count":1,"score":0,"last_activity_date":1658775249,"creation_date":1658770474,"question_id":73113232,"body_markdown":"I have a rest endpoint which reads the request body and is mapped to Java POJO.\r\n\r\nThe issue I am facing is I get the below exception when I send the request as a GET.\r\nBut the exception is not thrown when I change the type to POST and request succeed.\r\n```\r\n@Path(&quot;/test&quot;)\r\n@GET\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\npublic Uni&lt;List&lt;String&gt;&gt; getData(ReqeustBody requestBody) {\r\n//app code\r\n}\r\n```\r\n\r\nMy thought is that jackson library that does the mapping of request body to pojo is causing the exception. But why it fails only for GET and not for POST.\r\n\r\nAny leads will be of help.\r\n\r\nBelow is the stack trace.\r\n```\r\n{\r\n    &quot;details&quot;: &quot;Error id c307388f-26ed-4108-bb1c-12032de09243-1, org.jboss.resteasy.reactive.common.core.BlockingNotAllowedException: Attempting a blocking read on io thread&quot;,\r\n    &quot;stack&quot;: &quot;org.jboss.resteasy.reactive.common.core.BlockingNotAllowedException: Attempting a blocking read on io thread\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxInputStream$VertxBlockingInput.readBlocking(VertxInputStream.java:242)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxInputStream.readIntoBuffer(VertxInputStream.java:120)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxInputStream.read(VertxInputStream.java:82)\\r\\n\\tat com.fasterxml.jackson.core.json.ByteSourceJsonBootstrapper.ensureLoaded(ByteSourceJsonBootstrapper.java:539)\\r\\n\\tat com.fasterxml.jackson.core.json.ByteSourceJsonBootstrapper.detectEncoding(ByteSourceJsonBootstrapper.java:133)\\r\\n\\tat com.fasterxml.jackson.core.json.ByteSourceJsonBootstrapper.constructParser(ByteSourceJsonBootstrapper.java:256)\\r\\n\\tat com.fasterxml.jackson.core.JsonFactory._createParser(JsonFactory.java:1655)\\r\\n\\tat com.fasterxml.jackson.core.JsonFactory.createParser(JsonFactory.java:1083)\\r\\n\\tat com.fasterxml.jackson.databind.ObjectReader.createParser(ObjectReader.java:1049)\\r\\n\\tat com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1427)\\r\\n\\tat io.quarkus.resteasy.reactive.jackson.runtime.serialisers.ServerJacksonMessageBodyReader.doReadFrom(ServerJacksonMessageBodyReader.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.jackson.runtime.serialisers.ServerJacksonMessageBodyReader.readFrom(ServerJacksonMessageBodyReader.java:53)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.RequestDeserializeHandler.readFrom(RequestDeserializeHandler.java:108)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.RequestDeserializeHandler.handle(RequestDeserializeHandler.java:68)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.RequestDeserializeHandler.handle(RequestDeserializeHandler.java:25)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.RestInitialHandler.beginProcessing(RestInitialHandler.java:49)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveVertxHandler.handle(ResteasyReactiveVertxHandler.java:17)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveVertxHandler.handle(ResteasyReactiveVertxHandler.java:7)\\r\\n\\tat io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1212)\\r\\n\\tat io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:163)\\r\\n\\tat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:141)\\r\\n\\tat io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:83)\\r\\n\\tat io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:67)\\r\\n\\tat io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1212)\\r\\n\\tat io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:126)\\r\\n\\tat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:141)\\r\\n\\tat io.vertx.ext.web.handler.impl.StaticHandlerImpl.lambda$sendStatic$1(StaticHandlerImpl.java:274)\\r\\n\\tat io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:141)\\r\\n\\tat io.vertx.core.impl.future.FutureBase.lambda$emitSuccess$0(FutureBase.java:54)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:503)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:834)&quot;\r\n}\r\n```\r\n\r\n\r\n","title":"Quarkus - org.jboss.resteasy.reactive.common.core.BlockingNotAllowedException: Attempting a blocking read on io thread","body":"<p>I have a rest endpoint which reads the request body and is mapped to Java POJO.</p>\n<p>The issue I am facing is I get the below exception when I send the request as a GET.\nBut the exception is not thrown when I change the type to POST and request succeed.</p>\n<pre><code>@Path(&quot;/test&quot;)\n@GET\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\npublic Uni&lt;List&lt;String&gt;&gt; getData(ReqeustBody requestBody) {\n//app code\n}\n</code></pre>\n<p>My thought is that jackson library that does the mapping of request body to pojo is causing the exception. But why it fails only for GET and not for POST.</p>\n<p>Any leads will be of help.</p>\n<p>Below is the stack trace.</p>\n<pre><code>{\n    &quot;details&quot;: &quot;Error id c307388f-26ed-4108-bb1c-12032de09243-1, org.jboss.resteasy.reactive.common.core.BlockingNotAllowedException: Attempting a blocking read on io thread&quot;,\n    &quot;stack&quot;: &quot;org.jboss.resteasy.reactive.common.core.BlockingNotAllowedException: Attempting a blocking read on io thread\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxInputStream$VertxBlockingInput.readBlocking(VertxInputStream.java:242)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxInputStream.readIntoBuffer(VertxInputStream.java:120)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.VertxInputStream.read(VertxInputStream.java:82)\\r\\n\\tat com.fasterxml.jackson.core.json.ByteSourceJsonBootstrapper.ensureLoaded(ByteSourceJsonBootstrapper.java:539)\\r\\n\\tat com.fasterxml.jackson.core.json.ByteSourceJsonBootstrapper.detectEncoding(ByteSourceJsonBootstrapper.java:133)\\r\\n\\tat com.fasterxml.jackson.core.json.ByteSourceJsonBootstrapper.constructParser(ByteSourceJsonBootstrapper.java:256)\\r\\n\\tat com.fasterxml.jackson.core.JsonFactory._createParser(JsonFactory.java:1655)\\r\\n\\tat com.fasterxml.jackson.core.JsonFactory.createParser(JsonFactory.java:1083)\\r\\n\\tat com.fasterxml.jackson.databind.ObjectReader.createParser(ObjectReader.java:1049)\\r\\n\\tat com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1427)\\r\\n\\tat io.quarkus.resteasy.reactive.jackson.runtime.serialisers.ServerJacksonMessageBodyReader.doReadFrom(ServerJacksonMessageBodyReader.java:62)\\r\\n\\tat io.quarkus.resteasy.reactive.jackson.runtime.serialisers.ServerJacksonMessageBodyReader.readFrom(ServerJacksonMessageBodyReader.java:53)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.RequestDeserializeHandler.readFrom(RequestDeserializeHandler.java:108)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.RequestDeserializeHandler.handle(RequestDeserializeHandler.java:68)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.RequestDeserializeHandler.handle(RequestDeserializeHandler.java:25)\\r\\n\\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:141)\\r\\n\\tat org.jboss.resteasy.reactive.server.handlers.RestInitialHandler.beginProcessing(RestInitialHandler.java:49)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveVertxHandler.handle(ResteasyReactiveVertxHandler.java:17)\\r\\n\\tat org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveVertxHandler.handle(ResteasyReactiveVertxHandler.java:7)\\r\\n\\tat io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1212)\\r\\n\\tat io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:163)\\r\\n\\tat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:141)\\r\\n\\tat io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:83)\\r\\n\\tat io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:67)\\r\\n\\tat io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1212)\\r\\n\\tat io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:126)\\r\\n\\tat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:141)\\r\\n\\tat io.vertx.ext.web.handler.impl.StaticHandlerImpl.lambda$sendStatic$1(StaticHandlerImpl.java:274)\\r\\n\\tat io.vertx.core.impl.future.FutureImpl$3.onSuccess(FutureImpl.java:141)\\r\\n\\tat io.vertx.core.impl.future.FutureBase.lambda$emitSuccess$0(FutureBase.java:54)\\r\\n\\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469)\\r\\n\\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:503)\\r\\n\\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\\r\\n\\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\\r\\n\\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:834)&quot;\n}\n</code></pre>\n"},{"tags":["java","unit-testing","quarkus-rest-client"],"answers":[{"tags":[],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658774478,"creation_date":1658770853,"answer_id":73113299,"question_id":73109719,"body_markdown":"Found the problem, you should add also this dependency:\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-resteasy-jackson&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n```","title":"Quarkus test rest client java.net.ConnectException: Connection refused: connect","body":"<p>Found the problem, you should add also this dependency:</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-resteasy-jackson&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1645,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73113299,"answer_count":1,"score":2,"last_activity_date":1658774478,"creation_date":1658754248,"question_id":73109719,"body_markdown":"I&#39;m trying to test a rest client on quarkus. I&#39;ve read the [doc](https://quarkus.io/guides/rest-client) and downloaded the [demo project](https://github.com/quarkusio/quarkus-quickstarts/archive/main.zip).\r\nIn the demo project called rest-client-quickstart the tests are working fine see ExtensionsResourceTest. I&#39;ve done the exact same things that are in the doc and in the demo project but I keep getting `java.net.ConnectException: Connection refused: connect`.\r\nThis is my code:\r\n```\r\n@QuarkusTest\r\n@QuarkusTestResource(WireMockExtensions.class)\r\nclass AdminQuestionnaireResourceTest {\r\n\r\n    @Test\r\n    void callProcedureTest() {\r\n        given().when().get(&quot;/api/questionnaires/call-update-rmq-q-questionnaire&quot;)\r\n                .then()\r\n                .statusCode(200);\r\n    }\r\n\r\n}\r\n\r\npublic class WireMockExtensions implements QuarkusTestResourceLifecycleManager {\r\n\r\n    private WireMockServer wireMockServer;\r\n    private static final int WIREMOCK_PORT = 7777;\r\n\r\n    @Override\r\n    public Map&lt;String, String&gt; start() {\r\n        wireMockServer = new WireMockServer(WIREMOCK_PORT);\r\n        wireMockServer.start();\r\n\r\n        wireMockServer.stubFor(get(urlEqualTo(&quot;/api/questionnaires/call-update-rmq-q-questionnaire&quot;))\r\n                .willReturn(aResponse()\r\n                        .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;).withStatus(200)\r\n                ));\r\n\r\n        //wireMockServer.stubFor(get(urlMatching(&quot;.*&quot;)).atPriority(10).willReturn(aResponse()));\r\n\r\n        return Collections.singletonMap(&quot;quarkus.rest-client.admin-questionnaire-api.url&quot;, wireMockServer.baseUrl());\r\n    }\r\n\r\n    @Override\r\n    public void stop() {\r\n        if (null != wireMockServer) {\r\n            wireMockServer.stop();\r\n        }\r\n    }\r\n}\r\n\r\n@Path(&quot;/api/questionnaires&quot;)\r\n@RegisterRestClient(configKey=&quot;admin-questionnaire-api&quot;)\r\n@RegisterClientHeaders(RequestUserInfoHeaderFactory.class)\r\npublic interface AdminQuestionnaireService {\r\n\r\n    @GET\r\n    @Path(&quot;/call-update-rmq-q-questionnaire&quot;)\r\n    void callProcedure();\r\n}\r\n\r\n@Path(&quot;/api/questionnaires&quot;)\r\n@ApplicationScoped\r\npublic class AdminQuestionnaireResource {\r\n\r\n    @Inject\r\n    @RestClient\r\n    AdminQuestionnaireService adminQuestionnaireService;\r\n\r\n    @GET\r\n    @Path(&quot;/call-update-rmq-q-questionnaire&quot;)\r\n    public void callProcedure() {\r\n        adminQuestionnaireService.callProcedure();\r\n    }\r\n}\r\n```\r\n\r\nthose are my properties:\r\n```\r\nquarkus.rest-client.admin-questionnaire-api.url=http://localhost:8080\r\nquarkus.rest-client.admin-questionnaire-api.scope=javax.inject.Singleton\r\n#Autentication\r\nclient_id=UDP-001\r\ntower_id=${JWT_PRE_ENVIRONMENT:QE}\r\n ```\r\nmy dependency:\r\n```\r\n&lt;properties&gt;\r\n    &lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\r\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\r\n    &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\r\n    &lt;quarkus.platform.version&gt;2.10.3.Final&lt;/quarkus.platform.version&gt;\r\n    &lt;skipITs&gt;true&lt;/skipITs&gt;\r\n    &lt;wiremock.version&gt;2.27.2&lt;/wiremock.version&gt;\r\n    &lt;surefire-plugin.version&gt;3.0.0-M7&lt;/surefire-plugin.version&gt;\r\n  &lt;/properties&gt;\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n        &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\r\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-rest-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-rest-client-jackson&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;eu.unicredit.xframe.pre.shlib&lt;/groupId&gt;\r\n      &lt;artifactId&gt;pre-wsextdir&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.34&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n      &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\r\n      &lt;artifactId&gt;wiremock-jre8&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;version&gt;${wiremock.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n ```\r\nthe exception:\r\n```\r\njava.net.ConnectException: Connection refused: connect\r\n\r\n\tat java.base/java.net.PlainSocketImpl.waitForConnect(Native Method)\r\n\tat java.base/java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:107)\r\n\tat java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\r\n\tat java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\r\n\tat java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n\tat java.base/java.net.Socket.connect(Socket.java:609)\r\n\tat org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:121)\r\n\tat org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\r\n\tat org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:326)\r\n\tat org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:605)\r\n\tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:440)\r\n\tat org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:835)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\r\n\tat org.apache.http.client.HttpClient$execute$0.call(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:148)\r\n\tat io.restassured.internal.RequestSpecificationImpl$RestAssuredHttpBuilder.doRequest(RequestSpecificationImpl.groovy:2088)\r\n\tat io.restassured.internal.http.HTTPBuilder.doRequest(HTTPBuilder.java:497)\r\n\tat io.restassured.internal.http.HTTPBuilder.request(HTTPBuilder.java:454)\r\n\tat io.restassured.internal.http.HTTPBuilder$request$2.call(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:166)\r\n\tat io.restassured.internal.RequestSpecificationImpl.sendHttpRequest(RequestSpecificationImpl.groovy:1465)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\r\n\tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1268)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:819)\r\n\tat groovy.lang.GroovyObject.invokeMethod(GroovyObject.java:39)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:45)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.callCurrent(PogoInterceptableSite.java:55)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\r\n\tat io.restassured.internal.RequestSpecificationImpl.sendRequest(RequestSpecificationImpl.groovy:1214)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\r\n\tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1268)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:819)\r\n\tat groovy.lang.GroovyObject.invokeMethod(GroovyObject.java:39)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:45)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:166)\r\n\tat io.restassured.internal.filter.SendRequestFilter.filter(SendRequestFilter.groovy:30)\r\n\tat io.restassured.filter.Filter$filter$0.call(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n\tat io.restassured.filter.Filter$filter.call(Unknown Source)\r\n\tat io.restassured.internal.filter.FilterContextImpl.next(FilterContextImpl.groovy:72)\r\n\tat io.restassured.filter.time.TimingFilter.filter(TimingFilter.java:56)\r\n\tat io.restassured.filter.Filter$filter.call(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:157)\r\n\tat io.restassured.internal.filter.FilterContextImpl.next(FilterContextImpl.groovy:72)\r\n\tat io.restassured.filter.FilterContext$next.call(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:148)\r\n\tat io.restassured.internal.RequestSpecificationImpl.applyPathParamsAndSendRequest(RequestSpecificationImpl.groovy:1686)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\r\n\tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1268)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:819)\r\n\tat groovy.lang.GroovyObject.invokeMethod(GroovyObject.java:39)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:45)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.callCurrent(PogoInterceptableSite.java:55)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:203)\r\n\tat io.restassured.internal.RequestSpecificationImpl.applyPathParamsAndSendRequest(RequestSpecificationImpl.groovy:1692)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\r\n\tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1268)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:819)\r\n\tat groovy.lang.GroovyObject.invokeMethod(GroovyObject.java:39)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:45)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.callCurrent(PogoInterceptableSite.java:55)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:203)\r\n\tat io.restassured.internal.RequestSpecificationImpl.get(RequestSpecificationImpl.groovy:176)\r\n\tat io.restassured.internal.RequestSpecificationImpl.get(RequestSpecificationImpl.groovy)\r\n\tat eu.unicredit.regulatoryTool.rest.client.AdminQuestionnaireResourceTest.callProcedureTest(AdminQuestionnaireResourceTest.java:16)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat io.quarkus.test.junit.QuarkusTestExtension.runExtensionMethod(QuarkusTestExtension.java:1011)\r\n\tat io.quarkus.test.junit.QuarkusTestExtension.interceptTestMethod(QuarkusTestExtension.java:830)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n ```\r\n\r\nsomeone knows what I&#39;m missing?","title":"Quarkus test rest client java.net.ConnectException: Connection refused: connect","body":"<p>I'm trying to test a rest client on quarkus. I've read the <a href=\"https://quarkus.io/guides/rest-client\" rel=\"nofollow noreferrer\">doc</a> and downloaded the <a href=\"https://github.com/quarkusio/quarkus-quickstarts/archive/main.zip\" rel=\"nofollow noreferrer\">demo project</a>.\nIn the demo project called rest-client-quickstart the tests are working fine see ExtensionsResourceTest. I've done the exact same things that are in the doc and in the demo project but I keep getting <code>java.net.ConnectException: Connection refused: connect</code>.\nThis is my code:</p>\n<pre><code>@QuarkusTest\n@QuarkusTestResource(WireMockExtensions.class)\nclass AdminQuestionnaireResourceTest {\n\n    @Test\n    void callProcedureTest() {\n        given().when().get(&quot;/api/questionnaires/call-update-rmq-q-questionnaire&quot;)\n                .then()\n                .statusCode(200);\n    }\n\n}\n\npublic class WireMockExtensions implements QuarkusTestResourceLifecycleManager {\n\n    private WireMockServer wireMockServer;\n    private static final int WIREMOCK_PORT = 7777;\n\n    @Override\n    public Map&lt;String, String&gt; start() {\n        wireMockServer = new WireMockServer(WIREMOCK_PORT);\n        wireMockServer.start();\n\n        wireMockServer.stubFor(get(urlEqualTo(&quot;/api/questionnaires/call-update-rmq-q-questionnaire&quot;))\n                .willReturn(aResponse()\n                        .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;).withStatus(200)\n                ));\n\n        //wireMockServer.stubFor(get(urlMatching(&quot;.*&quot;)).atPriority(10).willReturn(aResponse()));\n\n        return Collections.singletonMap(&quot;quarkus.rest-client.admin-questionnaire-api.url&quot;, wireMockServer.baseUrl());\n    }\n\n    @Override\n    public void stop() {\n        if (null != wireMockServer) {\n            wireMockServer.stop();\n        }\n    }\n}\n\n@Path(&quot;/api/questionnaires&quot;)\n@RegisterRestClient(configKey=&quot;admin-questionnaire-api&quot;)\n@RegisterClientHeaders(RequestUserInfoHeaderFactory.class)\npublic interface AdminQuestionnaireService {\n\n    @GET\n    @Path(&quot;/call-update-rmq-q-questionnaire&quot;)\n    void callProcedure();\n}\n\n@Path(&quot;/api/questionnaires&quot;)\n@ApplicationScoped\npublic class AdminQuestionnaireResource {\n\n    @Inject\n    @RestClient\n    AdminQuestionnaireService adminQuestionnaireService;\n\n    @GET\n    @Path(&quot;/call-update-rmq-q-questionnaire&quot;)\n    public void callProcedure() {\n        adminQuestionnaireService.callProcedure();\n    }\n}\n</code></pre>\n<p>those are my properties:</p>\n<pre><code>quarkus.rest-client.admin-questionnaire-api.url=http://localhost:8080\nquarkus.rest-client.admin-questionnaire-api.scope=javax.inject.Singleton\n#Autentication\nclient_id=UDP-001\ntower_id=${JWT_PRE_ENVIRONMENT:QE}\n</code></pre>\n<p>my dependency:</p>\n<pre><code>&lt;properties&gt;\n    &lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\n    &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\n    &lt;quarkus.platform.version&gt;2.10.3.Final&lt;/quarkus.platform.version&gt;\n    &lt;skipITs&gt;true&lt;/skipITs&gt;\n    &lt;wiremock.version&gt;2.27.2&lt;/wiremock.version&gt;\n    &lt;surefire-plugin.version&gt;3.0.0-M7&lt;/surefire-plugin.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n        &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-rest-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-rest-client-jackson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;eu.unicredit.xframe.pre.shlib&lt;/groupId&gt;\n      &lt;artifactId&gt;pre-wsextdir&lt;/artifactId&gt;\n      &lt;version&gt;2.0.34&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n      &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\n      &lt;artifactId&gt;wiremock-jre8&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;version&gt;${wiremock.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p>the exception:</p>\n<pre><code>java.net.ConnectException: Connection refused: connect\n\n    at java.base/java.net.PlainSocketImpl.waitForConnect(Native Method)\n    at java.base/java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:107)\n    at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\n    at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\n    at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n    at java.base/java.net.Socket.connect(Socket.java:609)\n    at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:121)\n    at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\n    at org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:326)\n    at org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:605)\n    at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:440)\n    at org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:835)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n    at org.apache.http.client.HttpClient$execute$0.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:148)\n    at io.restassured.internal.RequestSpecificationImpl$RestAssuredHttpBuilder.doRequest(RequestSpecificationImpl.groovy:2088)\n    at io.restassured.internal.http.HTTPBuilder.doRequest(HTTPBuilder.java:497)\n    at io.restassured.internal.http.HTTPBuilder.request(HTTPBuilder.java:454)\n    at io.restassured.internal.http.HTTPBuilder$request$2.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:166)\n    at io.restassured.internal.RequestSpecificationImpl.sendHttpRequest(RequestSpecificationImpl.groovy:1465)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\n    at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1268)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:819)\n    at groovy.lang.GroovyObject.invokeMethod(GroovyObject.java:39)\n    at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:45)\n    at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.callCurrent(PogoInterceptableSite.java:55)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\n    at io.restassured.internal.RequestSpecificationImpl.sendRequest(RequestSpecificationImpl.groovy:1214)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\n    at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1268)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:819)\n    at groovy.lang.GroovyObject.invokeMethod(GroovyObject.java:39)\n    at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:45)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:166)\n    at io.restassured.internal.filter.SendRequestFilter.filter(SendRequestFilter.groovy:30)\n    at io.restassured.filter.Filter$filter$0.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at io.restassured.filter.Filter$filter.call(Unknown Source)\n    at io.restassured.internal.filter.FilterContextImpl.next(FilterContextImpl.groovy:72)\n    at io.restassured.filter.time.TimingFilter.filter(TimingFilter.java:56)\n    at io.restassured.filter.Filter$filter.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:157)\n    at io.restassured.internal.filter.FilterContextImpl.next(FilterContextImpl.groovy:72)\n    at io.restassured.filter.FilterContext$next.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:148)\n    at io.restassured.internal.RequestSpecificationImpl.applyPathParamsAndSendRequest(RequestSpecificationImpl.groovy:1686)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\n    at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1268)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:819)\n    at groovy.lang.GroovyObject.invokeMethod(GroovyObject.java:39)\n    at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:45)\n    at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.callCurrent(PogoInterceptableSite.java:55)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:203)\n    at io.restassured.internal.RequestSpecificationImpl.applyPathParamsAndSendRequest(RequestSpecificationImpl.groovy:1692)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\n    at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1268)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:819)\n    at groovy.lang.GroovyObject.invokeMethod(GroovyObject.java:39)\n    at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:45)\n    at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.callCurrent(PogoInterceptableSite.java:55)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:203)\n    at io.restassured.internal.RequestSpecificationImpl.get(RequestSpecificationImpl.groovy:176)\n    at io.restassured.internal.RequestSpecificationImpl.get(RequestSpecificationImpl.groovy)\n    at eu.unicredit.regulatoryTool.rest.client.AdminQuestionnaireResourceTest.callProcedureTest(AdminQuestionnaireResourceTest.java:16)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at io.quarkus.test.junit.QuarkusTestExtension.runExtensionMethod(QuarkusTestExtension.java:1011)\n    at io.quarkus.test.junit.QuarkusTestExtension.interceptTestMethod(QuarkusTestExtension.java:830)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>someone knows what I'm missing?</p>\n"},{"tags":["java","delphi","encryption"],"comments":[{"owner":{"account_id":237126,"reputation":604212,"user_id":505088,"accept_rate":91,"display_name":"David Heffernan"},"score":0,"creation_date":1463939401,"post_id":37377589,"comment_id":62266482,"body_markdown":"We cannot guess what that type is. You have the Delphi code. What is it. Of you want to understand Delphi code read the documentation. Have you searched for it?","body":"We cannot guess what that type is. You have the Delphi code. What is it. Of you want to understand Delphi code read the documentation. Have you searched for it?"},{"owner":{"account_id":237126,"reputation":604212,"user_id":505088,"accept_rate":91,"display_name":"David Heffernan"},"score":0,"creation_date":1463987500,"post_id":37377589,"comment_id":62279518,"body_markdown":"You&#39;ve ignored everything I said in this comment. Why won&#39;t you tell us, in an edit to the question, what this mysterious type is? Have you read the documentation that explains what this Delphi code does?","body":"You&#39;ve ignored everything I said in this comment. Why won&#39;t you tell us, in an edit to the question, what this mysterious type is? Have you read the documentation that explains what this Delphi code does?"},{"owner":{"account_id":7365772,"reputation":113,"user_id":5607550,"display_name":"Usam"},"score":0,"creation_date":1463988638,"post_id":37377589,"comment_id":62280110,"body_markdown":"@DavidHeffernan as Johan said, TBitRange is defined as Byte in my  Delphi encprypt algorithm code. I was a self-defined type for parameter that I hand over to my function.","body":"@DavidHeffernan as Johan said, TBitRange is defined as Byte in my  Delphi encprypt algorithm code. I was a self-defined type for parameter that I hand over to my function."},{"owner":{"account_id":237126,"reputation":604212,"user_id":505088,"accept_rate":91,"display_name":"David Heffernan"},"score":0,"creation_date":1463989883,"post_id":37377589,"comment_id":62280842,"body_markdown":"I am looking at the question which is the source of information. Nowhere in the question is it stated what type `TBitRange` is. I don&#39;t think you are taking any of this seriously. Stack Overflow is not here to be your personal assistant, to do your job for you. We want to build a body of knowledge for future visitors. If we help you along the way, so much the better. If you don&#39;t care about building that body of knowledge, and won&#39;t edit the question, then we&#39;d rather you looked elsewhere. Please read my second comment above and do what I ask in the second sentence of that comment.","body":"I am looking at the question which is the source of information. Nowhere in the question is it stated what type <code>TBitRange</code> is. I don&#39;t think you are taking any of this seriously. Stack Overflow is not here to be your personal assistant, to do your job for you. We want to build a body of knowledge for future visitors. If we help you along the way, so much the better. If you don&#39;t care about building that body of knowledge, and won&#39;t edit the question, then we&#39;d rather you looked elsewhere. Please read my second comment above and do what I ask in the second sentence of that comment."},{"owner":{"account_id":237126,"reputation":604212,"user_id":505088,"accept_rate":91,"display_name":"David Heffernan"},"score":0,"creation_date":1463996321,"post_id":37377589,"comment_id":62284710,"body_markdown":"If that&#39;s your question, surely you should ask it in the question?","body":"If that&#39;s your question, surely you should ask it in the question?"},{"owner":{"account_id":7365772,"reputation":113,"user_id":5607550,"display_name":"Usam"},"score":0,"creation_date":1463996747,"post_id":37377589,"comment_id":62285008,"body_markdown":"@DavidHeffernan Exactly!!","body":"@DavidHeffernan Exactly!!"},{"owner":{"account_id":7365772,"reputation":113,"user_id":5607550,"display_name":"Usam"},"score":0,"creation_date":1464859134,"post_id":37377589,"comment_id":62660534,"body_markdown":"@DavidHeffernan would you help me please? I&#39;ve already  improved my Java decryption algrotihm with using `byte[] array` because of 8 bit Delphi `AnsiString` and `AnsiChar`. I invested quite a lot of time, but it still doesn&#39;t work. My intership supervisor has also no Idea where I have bug in code because he is not familiar with Java. I read 524 byte of `Hex` repsentation of my encrypted password from `Windows Registry`. After decryption there schould be a character `a` as password. But I&#39;m getting another character as result. Maybe you could look at my code and give me a few advices please? :)","body":"@DavidHeffernan would you help me please? I&#39;ve already  improved my Java decryption algrotihm with using <code>byte[] array</code> because of 8 bit Delphi <code>AnsiString</code> and <code>AnsiChar</code>. I invested quite a lot of time, but it still doesn&#39;t work. My intership supervisor has also no Idea where I have bug in code because he is not familiar with Java. I read 524 byte of <code>Hex</code> repsentation of my encrypted password from <code>Windows Registry</code>. After decryption there schould be a character <code>a</code> as password. But I&#39;m getting another character as result. Maybe you could look at my code and give me a few advices please? :)"},{"owner":{"account_id":237126,"reputation":604212,"user_id":505088,"accept_rate":91,"display_name":"David Heffernan"},"score":0,"creation_date":1464859433,"post_id":37377589,"comment_id":62660731,"body_markdown":"Do some debugging. Add logging to the internals of the decrypt code. Log intermediate values and compare the Java and Delphi logged values for identical input. Find out where the two versions of the code diverge. If your supervisor does not know how to do such basic debugging then you are in big trouble.","body":"Do some debugging. Add logging to the internals of the decrypt code. Log intermediate values and compare the Java and Delphi logged values for identical input. Find out where the two versions of the code diverge. If your supervisor does not know how to do such basic debugging then you are in big trouble."},{"owner":{"account_id":7365772,"reputation":113,"user_id":5607550,"display_name":"Usam"},"score":0,"creation_date":1464860662,"post_id":37377589,"comment_id":62661604,"body_markdown":"@DavidHeffernan He is constantly busy with other major tasks. I have already tested the small functions of the Code in Delphi and Java and they deliver the same values. But I can&#39;t test the main Delphi function `strDecrypt`. I get always error message on my computer when I try to start it. The supervisor says I should just set a no encrpyted password in WR and read it and it will be enough, because its just prototype what I&#39;m doing now. I can already do what he said, but I don&#39;t want to stop after spending more than two weeks, that&#39;s why I asking you to help.","body":"@DavidHeffernan He is constantly busy with other major tasks. I have already tested the small functions of the Code in Delphi and Java and they deliver the same values. But I can&#39;t test the main Delphi function <code>strDecrypt</code>. I get always error message on my computer when I try to start it. The supervisor says I should just set a no encrpyted password in WR and read it and it will be enough, because its just prototype what I&#39;m doing now. I can already do what he said, but I don&#39;t want to stop after spending more than two weeks, that&#39;s why I asking you to help."},{"owner":{"account_id":237126,"reputation":604212,"user_id":505088,"accept_rate":91,"display_name":"David Heffernan"},"score":0,"creation_date":1464861022,"post_id":37377589,"comment_id":62661911,"body_markdown":"My advice remains the same as in the previous comment.","body":"My advice remains the same as in the previous comment."},{"owner":{"account_id":7365772,"reputation":113,"user_id":5607550,"display_name":"Usam"},"score":0,"creation_date":1464861758,"post_id":37377589,"comment_id":62662475,"body_markdown":"@DavidHeffernan I would also advise so in your place. But for beginner which is under the pressure of time yet, it is not so easy. Nevertheless many thanks!","body":"@DavidHeffernan I would also advise so in your place. But for beginner which is under the pressure of time yet, it is not so easy. Nevertheless many thanks!"}],"answers":[{"tags":[],"owner":{"account_id":327869,"reputation":74762,"user_id":650492,"accept_rate":77,"display_name":"Johan"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1463947313,"creation_date":1463942490,"answer_id":37378163,"question_id":37377589,"body_markdown":"Ideally `TBitRange` should be a subrange, e.g.:\r\n\r\n    type\r\n      TBitRange = 0..31;\r\n\r\nThe subrange gets enforced at compile time.  \r\nJava does not have subranges, so there is no equivalent. \r\n\r\nYou can declare the function as follows:\r\n\r\n    public static int SetBit(final int Value, final byte Bit)\r\n    {\r\n        assert bit &gt;= 0;\r\n        assert bit &lt;= 31;   \r\n        final int shift = 1 &lt;&lt; Bit;\r\n        return Value | shift;\r\n    }\r\n\r\nUnfortunately the assert is only checked at runtime.  \r\n\r\nHowever in your earlier deleted question you defined TBitRange as:\r\n\r\n    type\r\n      TBitRange = Byte; \r\n\r\nThe `byte` type in Java is signed, whereas the `byte` type in Delphi is unsigned. There is no unsigned 8 bit int in Java. For the purpose of the question though a signed Java byte will work just fine.  \r\n\r\n**About shl**  \r\nDelphi&#39;s `shl`/`shr` follows x86 sematics and is thus wrapped around at 32 for integers. For this reason the `mod BitsPerInteger` part is pointless. The language already performs this operation as per its specification (i.e. `someint shl 32` is a no-op).   \r\n\r\n[Java does the same thing][1] so in Java the mod is also not needed.     \r\n\r\n&gt;**what is this function doing exactly?**  \r\n\r\nJust like it says on the label: it sets a bit.  \r\nAn integer is a 32-bit type.  \r\nThis means that there are 32 bits (on/off switches aka booleans) inside the variable.  \r\nThese are numbered from 0 to 31.  \r\nIf you want to conserve space you can use this fact to store 32 booleans in a single integer, instead of having to use 32 variables. This squeezes 32 bytes into 4 bytes; an 8x reduction.  \r\nIn Delphi we usually utilize a `set of ...` for this. Java does not have sets, so you&#39;ll have to resort to using a bitfield instead.   \r\n\r\nA bitfield is really a compressed `array of boolean`, but because there is no array syntax for bitfields you&#39;ll have to use functions instead.  \r\n\r\n    BoolArray[8]:= true -&gt; BitField:= SetBit(BitField,8);\r\n    if BoolArray[8] then ... -&gt; if GetBit(BitField,8) then ...  \r\n\r\nObviously in Delphi you could emulate this using properties:  \r\n\r\n    TBitField = record\r\n    private\r\n      FStorage: integer;\r\n      function GetBit(Index: TBitRange): boolean;\r\n      procedure SetBit(Index: TBitRange; const Value: boolean);\r\n    public\r\n      property IsTrue[Index: TBitRange]: boolean read GetBit write SetBit;\r\n    end;\r\n\r\n`Properties` is another thing Java does not have, so in Java it is really impossible to do this fake array trick.  \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.19","title":"Delphi SetBit-function and TBitRange- type in Java","body":"<p>Ideally <code>TBitRange</code> should be a subrange, e.g.:</p>\n\n<pre><code>type\n  TBitRange = 0..31;\n</code></pre>\n\n<p>The subrange gets enforced at compile time.<br>\nJava does not have subranges, so there is no equivalent. </p>\n\n<p>You can declare the function as follows:</p>\n\n<pre><code>public static int SetBit(final int Value, final byte Bit)\n{\n    assert bit &gt;= 0;\n    assert bit &lt;= 31;   \n    final int shift = 1 &lt;&lt; Bit;\n    return Value | shift;\n}\n</code></pre>\n\n<p>Unfortunately the assert is only checked at runtime.  </p>\n\n<p>However in your earlier deleted question you defined TBitRange as:</p>\n\n<pre><code>type\n  TBitRange = Byte; \n</code></pre>\n\n<p>The <code>byte</code> type in Java is signed, whereas the <code>byte</code> type in Delphi is unsigned. There is no unsigned 8 bit int in Java. For the purpose of the question though a signed Java byte will work just fine.  </p>\n\n<p><strong>About shl</strong><br>\nDelphi's <code>shl</code>/<code>shr</code> follows x86 sematics and is thus wrapped around at 32 for integers. For this reason the <code>mod BitsPerInteger</code> part is pointless. The language already performs this operation as per its specification (i.e. <code>someint shl 32</code> is a no-op).   </p>\n\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.19\" rel=\"nofollow\">Java does the same thing</a> so in Java the mod is also not needed.     </p>\n\n<blockquote>\n  <p><strong>what is this function doing exactly?</strong>  </p>\n</blockquote>\n\n<p>Just like it says on the label: it sets a bit.<br>\nAn integer is a 32-bit type.<br>\nThis means that there are 32 bits (on/off switches aka booleans) inside the variable.<br>\nThese are numbered from 0 to 31.<br>\nIf you want to conserve space you can use this fact to store 32 booleans in a single integer, instead of having to use 32 variables. This squeezes 32 bytes into 4 bytes; an 8x reduction.<br>\nIn Delphi we usually utilize a <code>set of ...</code> for this. Java does not have sets, so you'll have to resort to using a bitfield instead.   </p>\n\n<p>A bitfield is really a compressed <code>array of boolean</code>, but because there is no array syntax for bitfields you'll have to use functions instead.  </p>\n\n<pre><code>BoolArray[8]:= true -&gt; BitField:= SetBit(BitField,8);\nif BoolArray[8] then ... -&gt; if GetBit(BitField,8) then ...  \n</code></pre>\n\n<p>Obviously in Delphi you could emulate this using properties:  </p>\n\n<pre><code>TBitField = record\nprivate\n  FStorage: integer;\n  function GetBit(Index: TBitRange): boolean;\n  procedure SetBit(Index: TBitRange; const Value: boolean);\npublic\n  property IsTrue[Index: TBitRange]: boolean read GetBit write SetBit;\nend;\n</code></pre>\n\n<p><code>Properties</code> is another thing Java does not have, so in Java it is really impossible to do this fake array trick.  </p>\n"},{"tags":[],"owner":{"account_id":5180052,"reputation":1466,"user_id":9041224,"display_name":"Max Kleiner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658774025,"creation_date":1658774025,"answer_id":73113845,"question_id":37377589,"body_markdown":"As the mod op. is redundant and SHL is x86 semantics:\r\n\r\n    function SetBitSimple(const Value: Integer; i: byte): Integer;\r\n    begin\r\n      Result:= Value OR (1 shl i);\r\n    end;\r\n\r\nwriteln(inttobin(SetBitSimple(152,12)));\r\n&gt; 00000000000000000001000010011000","title":"Delphi SetBit-function and TBitRange- type in Java","body":"<p>As the mod op. is redundant and SHL is x86 semantics:</p>\n<pre><code>function SetBitSimple(const Value: Integer; i: byte): Integer;\nbegin\n  Result:= Value OR (1 shl i);\nend;\n</code></pre>\n<p>writeln(inttobin(SetBitSimple(152,12)));</p>\n<blockquote>\n<p>00000000000000000001000010011000</p>\n</blockquote>\n"}],"owner":{"account_id":7365772,"reputation":113,"user_id":5607550,"display_name":"Usam"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":673,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":37378163,"answer_count":2,"score":0,"last_activity_date":1658774025,"creation_date":1463939128,"question_id":37377589,"body_markdown":"I have to implement the following Delphi function in Java, but anyway the type TBitRange is confusing me. Is there any alternative for this in Java?\r\nMaybe could also anyone explain what this function is doing exactly.\r\n\r\nThanks.\r\n\r\n \r\n\r\n \r\n\r\n    const \r\n         BitsPerByte     = 8;\r\n         BitsPerInteger  = SizeOf(Integer) * BitsPerByte;\r\n        \r\n    type\r\n         TBitRange = Byte;\r\n          \r\n    function SetBit(const Value: Integer; const Bit: TBitRange): Integer;\r\n      begin\r\n         Result := Value or (1 shl (Bit mod BitsPerInteger));\r\n      end;\r\n\r\nIn my Java I implemented this setBit-function as:\r\n   \r\n\r\n     static int bitsPerInteger = Integer.SIZE;\r\n        public int setBit(int value, byte bit)\r\n            {\r\n                int result = value | (1 &lt;&lt; (bit % bitsPerInteger));\r\n                return result;\r\n            }\r\n\r\nIf I understood in correctly, this function returns the copy of value with the bit at position _bit_ set. The _bitsPerInteger_ variable is _Integer.SIZE_ and is equal to 32. For the test I created two variables: byte bits = 0x34; it&#39;s equal 52 as Integer and int value = 4;. The instruction bits % bitsPerInteger; delievers in this case 20 and value | (1 &lt;&lt; (bits % bitsPerInteger)) sets the 20th bit of value to 1 and it&#39;s equal then to 1048576. So I handed over these two variables as parameters and got then 1048576. Is it right so? \r\n\r\nWhy its needed to hand over a variable with type _Byte_ as parameter for bit-position and then through _mod_ -operation get the actually bit-position in bit-String of parameter _value_?. Could we not use an Integer to indicate the bit-position in _value_?\r\n","title":"Delphi SetBit-function and TBitRange- type in Java","body":"<p>I have to implement the following Delphi function in Java, but anyway the type TBitRange is confusing me. Is there any alternative for this in Java?\nMaybe could also anyone explain what this function is doing exactly.</p>\n\n<p>Thanks.</p>\n\n<pre><code>const \n     BitsPerByte     = 8;\n     BitsPerInteger  = SizeOf(Integer) * BitsPerByte;\n\ntype\n     TBitRange = Byte;\n\nfunction SetBit(const Value: Integer; const Bit: TBitRange): Integer;\n  begin\n     Result := Value or (1 shl (Bit mod BitsPerInteger));\n  end;\n</code></pre>\n\n<p>In my Java I implemented this setBit-function as:</p>\n\n<pre><code> static int bitsPerInteger = Integer.SIZE;\n    public int setBit(int value, byte bit)\n        {\n            int result = value | (1 &lt;&lt; (bit % bitsPerInteger));\n            return result;\n        }\n</code></pre>\n\n<p>If I understood in correctly, this function returns the copy of value with the bit at position <em>bit</em> set. The <em>bitsPerInteger</em> variable is <em>Integer.SIZE</em> and is equal to 32. For the test I created two variables: byte bits = 0x34; it's equal 52 as Integer and int value = 4;. The instruction bits % bitsPerInteger; delievers in this case 20 and value | (1 &lt;&lt; (bits % bitsPerInteger)) sets the 20th bit of value to 1 and it's equal then to 1048576. So I handed over these two variables as parameters and got then 1048576. Is it right so? </p>\n\n<p>Why its needed to hand over a variable with type <em>Byte</em> as parameter for bit-position and then through <em>mod</em> -operation get the actually bit-position in bit-String of parameter <em>value</em>?. Could we not use an Integer to indicate the bit-position in <em>value</em>?</p>\n"},{"tags":["java","javafx","combobox"],"comments":[{"owner":{"account_id":25784351,"reputation":162,"user_id":19529459,"display_name":"Volt4"},"score":0,"creation_date":1658516987,"post_id":73084380,"comment_id":129079710,"body_markdown":"You could ```@Override``` the ```toString()``` method in your animal class.","body":"You could <code>@Override</code> the <code>toString()</code> method in your animal class."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":3,"creation_date":1658531987,"post_id":73084380,"comment_id":129082925,"body_markdown":"@Volt4 overriding toString for application reasons is utterly __wrong__ either use a custom cell or a StringConverter","body":"@Volt4 overriding toString for application reasons is utterly <b>wrong</b> either use a custom cell or a StringConverter"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1658773953,"creation_date":1658518139,"answer_id":73085243,"question_id":73084380,"body_markdown":"Two options:\r\n\r\n 1. Use a cell factory.\r\n 2. Use a string converter.\r\n\r\nThe cell factory and string converter examples used in this answer produce the identical output:\r\n\r\n[![screenshot][2]][2]\r\n\r\n**Cell Factory Implementation**\r\n\r\nUse a cell factory, like in this answer:\r\n\r\n * https://stackoverflow.com/questions/36657299/how-can-i-populate-a-listview-in-javafx-using-custom-objects\r\n\r\nThe linked answer is for a ListView, but the ComboBox is similar, as is a TableView or other virtualized controls that rely on cell factories for display.\r\n\r\nTo configure cells for the ComboBox drop-down list and button, make calls to both [`setCellFactory`][3] and [`setButtonCell`][4].\r\n\r\nThis is the most flexible solution and allows for customization beyond just strings of text.  Graphic nodes can be created to completely customize the visual representation of each combo box cell.\r\n\r\n*Example Code*\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.ComboBox;\r\n    import javafx.scene.control.ListCell;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class AnimalComboApp extends Application {\r\n    \r\n        public record Animal(String name, int age, String color) {}\r\n    \r\n        public static class AnimalCell extends ListCell&lt;Animal&gt; {\r\n            @Override\r\n            public void updateItem(Animal animal, boolean empty) {\r\n                super.updateItem(animal, empty);\r\n    \r\n                if (animal == null || empty) {\r\n                    setText(null);\r\n                } else {\r\n                    setText(animal.name());\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            ComboBox&lt;Animal&gt; comboBox = new ComboBox&lt;&gt;();\r\n            comboBox.getItems().setAll(\r\n                    new Animal(&quot;Liam&quot;, 2, &quot;Brown&quot;),\r\n                    new Animal(&quot;Emily&quot;, 5, &quot;Gray&quot;),\r\n                    new Animal(&quot;Kian&quot;, 3, &quot;Green&quot;)\r\n            );\r\n    \r\n            comboBox.setCellFactory(listView -&gt; new AnimalCell());\r\n            comboBox.setButtonCell(new AnimalCell());\r\n            comboBox.getSelectionModel().select(0);\r\n    \r\n            stage.setScene(new Scene(comboBox));\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n**StringConverter Implementation**\r\n\r\nAn alternative to a cell factory definition is to provide the ComboBox with a [StringConverter][5] which can convert to and from a String and an object.\r\n\r\nThe `StringConverter` requires `fromString` and `toString` to be implemented, but the `fromString` implementation can just return `null` unless you also want the user to be able to perform text edits to edit the combo box value.\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.ComboBox;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.StringConverter;\r\n    \r\n    public class AnimalComboApp extends Application {\r\n    \r\n        public record Animal(String name, int age, String color) {}\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            ComboBox&lt;Animal&gt; comboBox = new ComboBox&lt;&gt;();\r\n            comboBox.getItems().setAll(\r\n                    new Animal(&quot;Liam&quot;, 2, &quot;Brown&quot;),\r\n                    new Animal(&quot;Emily&quot;, 5, &quot;Gray&quot;),\r\n                    new Animal(&quot;Kian&quot;, 3, &quot;Green&quot;)\r\n            );\r\n    \r\n            comboBox.setConverter(new StringConverter&lt;&gt;() {\r\n                @Override\r\n                public String toString(Animal animal) {\r\n                    return animal.name();\r\n                }\r\n    \r\n                @Override\r\n                public Animal fromString(String string) {\r\n                    return null;\r\n                }\r\n            });\r\n    \r\n            comboBox.getSelectionModel().select(0);\r\n    \r\n            Scene scene = new Scene(comboBox);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n----\r\n\r\n**Options NOT to use**\r\n\r\n*toString() implementation*\r\n\r\n*Do not override `toString()` to customize the cells, that is an anti-pattern.*\r\n\r\nUse `toString()` for other purposes such as listing and debugging all the elements of the Animal class, and instead, use the appropriate methods, such as cell factories or string converters, for customizing the UI view of the `Animal`.\r\n\r\n*Placing nodes in the combo box list*\r\n\r\nYou might also be tempted to try to put nodes directly in the ComboBox list (for example create Labels with the name of an object in each Label and then create a `ComboBox&lt;Label&gt;`). \r\n\r\nDon&#39;t do this, as advised by the [ComboBox API documentation][1] section: &quot;A warning about inserting Nodes into the ComboBox items list&quot;, it will create bugs in your application.\r\n\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/ComboBox.html#converterProperty\r\n  [2]: https://i.stack.imgur.com/IYIE8.png\r\n  [3]: https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/ComboBox.html#setCellFactory(javafx.util.Callback)\r\n  [4]: https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/ComboBox.html#setButtonCell(javafx.scene.control.ListCell)\r\n  [5]: https://openjfx.io/javadoc/17/javafx.base/javafx/util/StringConverter.html","title":"JavaFX Combobox show attribute of element","body":"<p>Two options:</p>\n<ol>\n<li>Use a cell factory.</li>\n<li>Use a string converter.</li>\n</ol>\n<p>The cell factory and string converter examples used in this answer produce the identical output:</p>\n<p><a href=\"https://i.stack.imgur.com/IYIE8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IYIE8.png\" alt=\"screenshot\" /></a></p>\n<p><strong>Cell Factory Implementation</strong></p>\n<p>Use a cell factory, like in this answer:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/36657299/how-can-i-populate-a-listview-in-javafx-using-custom-objects\">How can I Populate a ListView in JavaFX using Custom Objects?</a></li>\n</ul>\n<p>The linked answer is for a ListView, but the ComboBox is similar, as is a TableView or other virtualized controls that rely on cell factories for display.</p>\n<p>To configure cells for the ComboBox drop-down list and button, make calls to both <a href=\"https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/ComboBox.html#setCellFactory(javafx.util.Callback)\" rel=\"nofollow noreferrer\"><code>setCellFactory</code></a> and <a href=\"https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/ComboBox.html#setButtonCell(javafx.scene.control.ListCell)\" rel=\"nofollow noreferrer\"><code>setButtonCell</code></a>.</p>\n<p>This is the most flexible solution and allows for customization beyond just strings of text.  Graphic nodes can be created to completely customize the visual representation of each combo box cell.</p>\n<p><em>Example Code</em></p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ComboBox;\nimport javafx.scene.control.ListCell;\nimport javafx.stage.Stage;\n\npublic class AnimalComboApp extends Application {\n\n    public record Animal(String name, int age, String color) {}\n\n    public static class AnimalCell extends ListCell&lt;Animal&gt; {\n        @Override\n        public void updateItem(Animal animal, boolean empty) {\n            super.updateItem(animal, empty);\n\n            if (animal == null || empty) {\n                setText(null);\n            } else {\n                setText(animal.name());\n            }\n        }\n    }\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        ComboBox&lt;Animal&gt; comboBox = new ComboBox&lt;&gt;();\n        comboBox.getItems().setAll(\n                new Animal(&quot;Liam&quot;, 2, &quot;Brown&quot;),\n                new Animal(&quot;Emily&quot;, 5, &quot;Gray&quot;),\n                new Animal(&quot;Kian&quot;, 3, &quot;Green&quot;)\n        );\n\n        comboBox.setCellFactory(listView -&gt; new AnimalCell());\n        comboBox.setButtonCell(new AnimalCell());\n        comboBox.getSelectionModel().select(0);\n\n        stage.setScene(new Scene(comboBox));\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p><strong>StringConverter Implementation</strong></p>\n<p>An alternative to a cell factory definition is to provide the ComboBox with a <a href=\"https://openjfx.io/javadoc/17/javafx.base/javafx/util/StringConverter.html\" rel=\"nofollow noreferrer\">StringConverter</a> which can convert to and from a String and an object.</p>\n<p>The <code>StringConverter</code> requires <code>fromString</code> and <code>toString</code> to be implemented, but the <code>fromString</code> implementation can just return <code>null</code> unless you also want the user to be able to perform text edits to edit the combo box value.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ComboBox;\nimport javafx.stage.Stage;\nimport javafx.util.StringConverter;\n\npublic class AnimalComboApp extends Application {\n\n    public record Animal(String name, int age, String color) {}\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        ComboBox&lt;Animal&gt; comboBox = new ComboBox&lt;&gt;();\n        comboBox.getItems().setAll(\n                new Animal(&quot;Liam&quot;, 2, &quot;Brown&quot;),\n                new Animal(&quot;Emily&quot;, 5, &quot;Gray&quot;),\n                new Animal(&quot;Kian&quot;, 3, &quot;Green&quot;)\n        );\n\n        comboBox.setConverter(new StringConverter&lt;&gt;() {\n            @Override\n            public String toString(Animal animal) {\n                return animal.name();\n            }\n\n            @Override\n            public Animal fromString(String string) {\n                return null;\n            }\n        });\n\n        comboBox.getSelectionModel().select(0);\n\n        Scene scene = new Scene(comboBox);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<hr />\n<p><strong>Options NOT to use</strong></p>\n<p><em>toString() implementation</em></p>\n<p><em>Do not override <code>toString()</code> to customize the cells, that is an anti-pattern.</em></p>\n<p>Use <code>toString()</code> for other purposes such as listing and debugging all the elements of the Animal class, and instead, use the appropriate methods, such as cell factories or string converters, for customizing the UI view of the <code>Animal</code>.</p>\n<p><em>Placing nodes in the combo box list</em></p>\n<p>You might also be tempted to try to put nodes directly in the ComboBox list (for example create Labels with the name of an object in each Label and then create a <code>ComboBox&lt;Label&gt;</code>).</p>\n<p>Don't do this, as advised by the <a href=\"https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/ComboBox.html#converterProperty\" rel=\"nofollow noreferrer\">ComboBox API documentation</a> section: &quot;A warning about inserting Nodes into the ComboBox items list&quot;, it will create bugs in your application.</p>\n"}],"owner":{"account_id":19162941,"reputation":23,"user_id":13998337,"display_name":"symondyri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73085243,"answer_count":1,"score":1,"last_activity_date":1658773953,"creation_date":1658512882,"question_id":73084380,"body_markdown":"I am currently working on a game with Java and JavaFX. I am using a JavaFX ComboBox.\r\n\r\nThe following example should explain my problem.\r\n\r\nLet&#39;s say I have a class &quot;Animal&quot; with the attributes &quot;name&quot;, &quot;age&quot; and &quot;color&quot;.\r\n\r\nFirst file:\r\n```\r\npublic class Animal {\r\n    private String name;\r\n    private int age;\r\n    private String color;\r\n\r\n    public Animal(String name, int age, String color) {\r\n        this.name = name;\r\n        this.age = age;\r\n        this.color = color;\r\n    }\r\n}\r\n```\r\nNow I want to create a ComboBox with each animal I create.\r\n\r\nSecond file:\r\n```\r\nComboBox&lt;Animal&gt; comboBoxAnimal = new ComboBox();\r\nObservableList&lt;Animal&gt; comboBoxItems = FXCollections.observableArrayList();\r\n\r\nAnimal dog = new Animal(&quot;Liam&quot;, 2, &quot;Brown&quot;);\r\nAnimal cat = new Animal(&quot;Emily&quot;, 5, &quot;Gray&quot;);\r\nAnimal bird = new Animal(&quot;Kian&quot;, 3, &quot;Green&quot;);\r\n\r\ncomboBoxItems.addAll(dog, cat, bird);\r\n\r\ncomboBoxAnimal.setItems(comboBoxItems);\r\n```\r\n\r\nCurrently I get only &quot;Animal@xxxxxxxx&quot; which is understandable because I have a ComboBox of Animals but want only the names (Strings) to be presented.\r\n\r\nJust simply creating a ```ComboBox&lt;String&gt;``` won&#39;t solve the problem as I need a ```Combobox&lt;Animal&gt;```.\r\n\r\n\r\nHow can I get a ```Combobox&lt;Animal&gt;``` but as elements show only the names of each Animal?\r\n\r\nThanks for your feedback :)","title":"JavaFX Combobox show attribute of element","body":"<p>I am currently working on a game with Java and JavaFX. I am using a JavaFX ComboBox.</p>\n<p>The following example should explain my problem.</p>\n<p>Let's say I have a class &quot;Animal&quot; with the attributes &quot;name&quot;, &quot;age&quot; and &quot;color&quot;.</p>\n<p>First file:</p>\n<pre><code>public class Animal {\n    private String name;\n    private int age;\n    private String color;\n\n    public Animal(String name, int age, String color) {\n        this.name = name;\n        this.age = age;\n        this.color = color;\n    }\n}\n</code></pre>\n<p>Now I want to create a ComboBox with each animal I create.</p>\n<p>Second file:</p>\n<pre><code>ComboBox&lt;Animal&gt; comboBoxAnimal = new ComboBox();\nObservableList&lt;Animal&gt; comboBoxItems = FXCollections.observableArrayList();\n\nAnimal dog = new Animal(&quot;Liam&quot;, 2, &quot;Brown&quot;);\nAnimal cat = new Animal(&quot;Emily&quot;, 5, &quot;Gray&quot;);\nAnimal bird = new Animal(&quot;Kian&quot;, 3, &quot;Green&quot;);\n\ncomboBoxItems.addAll(dog, cat, bird);\n\ncomboBoxAnimal.setItems(comboBoxItems);\n</code></pre>\n<p>Currently I get only &quot;Animal@xxxxxxxx&quot; which is understandable because I have a ComboBox of Animals but want only the names (Strings) to be presented.</p>\n<p>Just simply creating a <code>ComboBox&lt;String&gt;</code> won't solve the problem as I need a <code>Combobox&lt;Animal&gt;</code>.</p>\n<p>How can I get a <code>Combobox&lt;Animal&gt;</code> but as elements show only the names of each Animal?</p>\n<p>Thanks for your feedback :)</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1658833832,"post_id":73113802,"comment_id":129145021,"body_markdown":"You should specify `-Djps.track.ap.dependencies=true` to enable incremental annotation processing. Note that this may lead to incompatible build results. See [these links](https://youtrack.jetbrains.com/issue/IDEA-258659/Vertx-CodeGenProcessor-annotation-processor-is-no-longer-working-after-IDEA-upgrade#focus=Comments-27-4620217.0-0) more info about it.","body":"You should specify <code>-Djps.track.ap.dependencies=true</code> to enable incremental annotation processing. Note that this may lead to incompatible build results. See <a href=\"https://youtrack.jetbrains.com/issue/IDEA-258659/Vertx-CodeGenProcessor-annotation-processor-is-no-longer-working-after-IDEA-upgrade#focus=Comments-27-4620217.0-0\" rel=\"nofollow noreferrer\">these links</a> more info about it."},{"owner":{"account_id":19015,"reputation":16919,"user_id":44124,"accept_rate":84,"display_name":"Kannan Ekanath"},"score":0,"creation_date":1658833990,"post_id":73113802,"comment_id":129145086,"body_markdown":"I have also tried `-Djps.track.ap.dependencies=true` and I get the same warning. It looks like Intellij does not want to honour that thing at all!","body":"I have also tried <code>-Djps.track.ap.dependencies=true</code> and I get the same warning. It looks like Intellij does not want to honour that thing at all!"}],"owner":{"account_id":19015,"reputation":16919,"user_id":44124,"accept_rate":84,"display_name":"Kannan Ekanath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3656,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658773723,"creation_date":1658773723,"question_id":73113802,"body_markdown":"I use `IntelliJ IDEA 2021.2.2 (Ultimate Edition) Build #IU-212.5284.40, built on September 14, 2021` and I make heavy usage of Dagger, Lombok and a variety of other build tools and use Gradle. My build, test all work fine from Gradle (command line). In Intellij when I open my classes I can click through the Lombok builder classes fine. \r\n\r\nBut when I try to run any tests from Intellij (or build/rebuild the project) I get errors like unable to find lombok builder classes and so on. It appears to me that there is also a warning \r\n\r\n```\r\njava: JPS incremental annotation processing is disabled. Compilation results on partial recompilation may be inaccurate. Use build process &quot;jps.track.ap.dependencies&quot; VM flag to enable/disable incremental annotation processing environment.\r\n```\r\n\r\nI have followed the online help and added the `-Djps.track.ap.dependencies=false` but Intellij still does not want to pick this field up (see image below). I have also tried &quot;Invalidate and restart&quot; and also tried increasing the heap size to be 2000MB.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pa6W5.png","title":"Cannot get Intellij to enable JPS incremental annotation processing","body":"<p>I use <code>IntelliJ IDEA 2021.2.2 (Ultimate Edition) Build #IU-212.5284.40, built on September 14, 2021</code> and I make heavy usage of Dagger, Lombok and a variety of other build tools and use Gradle. My build, test all work fine from Gradle (command line). In Intellij when I open my classes I can click through the Lombok builder classes fine.</p>\n<p>But when I try to run any tests from Intellij (or build/rebuild the project) I get errors like unable to find lombok builder classes and so on. It appears to me that there is also a warning</p>\n<pre><code>java: JPS incremental annotation processing is disabled. Compilation results on partial recompilation may be inaccurate. Use build process &quot;jps.track.ap.dependencies&quot; VM flag to enable/disable incremental annotation processing environment.\n</code></pre>\n<p>I have followed the online help and added the <code>-Djps.track.ap.dependencies=false</code> but Intellij still does not want to pick this field up (see image below). I have also tried &quot;Invalidate and restart&quot; and also tried increasing the heap size to be 2000MB.</p>\n<p><a href=\"https://i.stack.imgur.com/pa6W5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pa6W5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","treeview"],"comments":[{"owner":{"account_id":1522130,"reputation":3266,"user_id":1421502,"display_name":"Jaldip Katre"},"score":0,"creation_date":1388997508,"post_id":3271772,"comment_id":31457744,"body_markdown":"See is the link for My project where N-level Tree list view can be achieved.https://github.com/Jaldips/Android-MultilevelTreeListView","body":"See is the link for My project where N-level Tree list view can be achieved.<a href=\"https://github.com/Jaldips/Android-MultilevelTreeListView\" rel=\"nofollow noreferrer\">github.com/Jaldips/Android-MultilevelTreeListView</a>"}],"answers":[{"tags":[],"owner":{"account_id":267956,"reputation":1127,"user_id":556444,"accept_rate":61,"display_name":"Ginger McMurray"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1294163263,"creation_date":1294163263,"answer_id":4596677,"question_id":3271772,"body_markdown":"I&#39;d start by making the data structure more representative of what it&#39;s meant to contain. Since you have an array of items and each child can have it&#39;s own array of items, each with its own array, etc. I&#39;d consider using a class with two members: an object that represents the data for this particular item and an array that holds the item&#39;s children. Each child would itself be an instance of the class so that it, too, could have children.\r\n\r\nprivate class ParentAndKids {\r\n  Object parent;\r\n  Array&lt;ParentAndKids&gt; kids;\r\n}\r\n\r\nYour adapter would then have an array of ParentAndKids objects which represents the top layer. You&#39;d add and remove list items based on which parents were expanded.","title":"Android Treeview","body":"<p>I'd start by making the data structure more representative of what it's meant to contain. Since you have an array of items and each child can have it's own array of items, each with its own array, etc. I'd consider using a class with two members: an object that represents the data for this particular item and an array that holds the item's children. Each child would itself be an instance of the class so that it, too, could have children.</p>\n\n<p>private class ParentAndKids {\n  Object parent;\n  Array kids;\n}</p>\n\n<p>Your adapter would then have an array of ParentAndKids objects which represents the top layer. You'd add and remove list items based on which parents were expanded.</p>\n"},{"tags":[],"owner":{"account_id":290404,"reputation":123,"user_id":591944,"display_name":"Arun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1301922310,"creation_date":1296196877,"answer_id":4825587,"question_id":3271772,"body_markdown":"    package com.expand.search;\r\n\r\n    import android.app.ExpandableListActivity;\r\n    import android.os.Bundle;\r\n    import android.view.ContextMenu;\r\n    import android.view.Gravity;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.view.ContextMenu.ContextMenuInfo;\r\n    import android.widget.AbsListView;\r\n    import android.widget.BaseExpandableListAdapter;\r\n    import android.widget.ExpandableListAdapter;\r\n    import android.widget.ExpandableListView;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    import android.widget.ExpandableListView.ExpandableListContextMenuInfo;\r\n\r\n       /** Demonstrates expandable lists using a custom {@link ExpandableListAdapter}\r\n        * from {@link BaseExpandableListAdapter}.\r\n       */\r\n    public class expands extends ExpandableListActivity {\r\n\r\n    ExpandableListAdapter mAdapter;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        // Set up our adapter\r\n        mAdapter = new MyExpandableListAdapter();\r\n        setListAdapter(mAdapter);\r\n        registerForContextMenu(getExpandableListView());\r\n    }\r\n\r\n    @Override\r\n    public void onCreateContextMenu(ContextMenu menu, View v, ContextMenuInfo menuInfo) {\r\n        menu.setHeaderTitle(&quot;Sample menu&quot;);\r\n        menu.add(0, 0, 0, R.string.expandable_list_sample_action);\r\n    }\r\n\r\n    @Override\r\n    public boolean onContextItemSelected(MenuItem item) {\r\n        ExpandableListContextMenuInfo info = (ExpandableListContextMenuInfo) item.getMenuInfo();\r\n\r\n        String title = ((TextView) info.targetView).getText().toString();\r\n\r\n        int type = ExpandableListView.getPackedPositionType(info.packedPosition);\r\n        if (type == ExpandableListView.PACKED_POSITION_TYPE_CHILD) {\r\n            int groupPos = ExpandableListView.getPackedPositionGroup(info.packedPosition); \r\n            int childPos = ExpandableListView.getPackedPositionChild(info.packedPosition); \r\n            Toast.makeText(this, title + &quot;: Child &quot; + childPos + &quot; clicked in group &quot; + groupPos,   \r\n                    Toast.LENGTH_SHORT).show();\r\n            return true;\r\n        } else if (type == ExpandableListView.PACKED_POSITION_TYPE_GROUP) {\r\n            int groupPos = ExpandableListView.getPackedPositionGroup(info.packedPosition); \r\n            Toast.makeText(this, title + &quot;: Group &quot; + groupPos + &quot; clicked&quot;, Toast.LENGTH_SHORT).show();\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /** A simple adapter which maintains an ArrayList of photo resource Ids. \r\n     * Each photo is displayed as an image. This adapter supports clearing the\r\n     * list of photos and adding a new photo.\r\n     */\r\n    public class MyExpandableListAdapter extends BaseExpandableListAdapter {\r\n        // Sample data set.  children[i] contains the children (String[]) for groups[i].\r\n        private String[] groups = { &quot;Category1&quot;, &quot;Category2&quot;, &quot;Category3&quot;, &quot;Category4&quot; };\r\n        private String[][] children = {\r\n                { &quot;Charity1&quot;, &quot;Charity2&quot;, &quot;Charity3&quot;, &quot;Charity4&quot; },\r\n                { &quot;Charity5&quot;, &quot;Charity6&quot;, &quot;Charity7&quot;, &quot;Charity8&quot; },\r\n                { &quot;Charity9&quot;, &quot;Charity10&quot; },\r\n                { &quot;Charity11&quot;, &quot;Charity12&quot; }\r\n        };\r\n\r\n        public Object getChild(int groupPosition, int childPosition) {\r\n            return children[groupPosition][childPosition];\r\n        }\r\n\r\n        public long getChildId(int groupPosition, int childPosition) {\r\n            return childPosition;\r\n        }\r\n\r\n        public int getChildrenCount(int groupPosition) {\r\n            return children[groupPosition].length;\r\n        }\r\n\r\n        public TextView getGenericView() {\r\n            // Layout parameters for the ExpandableListView\r\n            AbsListView.LayoutParams lp = new AbsListView.LayoutParams(\r\n                    ViewGroup.LayoutParams.MATCH_PARENT, 64);\r\n\r\n            TextView textView = new TextView(expands.this);\r\n            textView.setLayoutParams(lp);\r\n            // Center the text vertically\r\n            textView.setGravity(Gravity.CENTER_VERTICAL | Gravity.LEFT);\r\n            // Set the text starting position\r\n            textView.setPadding(36, 0, 0, 0);\r\n            return textView;\r\n        }\r\n\r\n        public View getChildView(int groupPosition, int childPosition, boolean isLastChild,\r\n                View convertView, ViewGroup parent) {\r\n            TextView textView = getGenericView();\r\n            textView.setText(getChild(groupPosition, childPosition).toString());\r\n            return textView;\r\n        }\r\n\r\n        public Object getGroup(int groupPosition) {\r\n            return groups[groupPosition];\r\n        }\r\n\r\n        public int getGroupCount() {\r\n            return groups.length;\r\n        }\r\n\r\n        public long getGroupId(int groupPosition) {\r\n            return groupPosition;\r\n        }\r\n\r\n        public View getGroupView(int groupPosition, boolean isExpanded, View convertView,\r\n                ViewGroup parent) {\r\n            TextView textView = getGenericView();\r\n            textView.setText(getGroup(groupPosition).toString());\r\n            return textView;\r\n        }\r\n\r\n        public boolean isChildSelectable(int groupPosition, int childPosition) {\r\n            return true;\r\n        }\r\n\r\n        public boolean hasStableIds() {\r\n            return true;\r\n        }\r\n    }\r\n}","title":"Android Treeview","body":"<pre><code>package com.expand.search;\n\nimport android.app.ExpandableListActivity;\nimport android.os.Bundle;\nimport android.view.ContextMenu;\nimport android.view.Gravity;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.view.ContextMenu.ContextMenuInfo;\nimport android.widget.AbsListView;\nimport android.widget.BaseExpandableListAdapter;\nimport android.widget.ExpandableListAdapter;\nimport android.widget.ExpandableListView;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport android.widget.ExpandableListView.ExpandableListContextMenuInfo;\n\n   /** Demonstrates expandable lists using a custom {@link ExpandableListAdapter}\n    * from {@link BaseExpandableListAdapter}.\n   */\npublic class expands extends ExpandableListActivity {\n\nExpandableListAdapter mAdapter;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    // Set up our adapter\n    mAdapter = new MyExpandableListAdapter();\n    setListAdapter(mAdapter);\n    registerForContextMenu(getExpandableListView());\n}\n\n@Override\npublic void onCreateContextMenu(ContextMenu menu, View v, ContextMenuInfo menuInfo) {\n    menu.setHeaderTitle(\"Sample menu\");\n    menu.add(0, 0, 0, R.string.expandable_list_sample_action);\n}\n\n@Override\npublic boolean onContextItemSelected(MenuItem item) {\n    ExpandableListContextMenuInfo info = (ExpandableListContextMenuInfo) item.getMenuInfo();\n\n    String title = ((TextView) info.targetView).getText().toString();\n\n    int type = ExpandableListView.getPackedPositionType(info.packedPosition);\n    if (type == ExpandableListView.PACKED_POSITION_TYPE_CHILD) {\n        int groupPos = ExpandableListView.getPackedPositionGroup(info.packedPosition); \n        int childPos = ExpandableListView.getPackedPositionChild(info.packedPosition); \n        Toast.makeText(this, title + \": Child \" + childPos + \" clicked in group \" + groupPos,   \n                Toast.LENGTH_SHORT).show();\n        return true;\n    } else if (type == ExpandableListView.PACKED_POSITION_TYPE_GROUP) {\n        int groupPos = ExpandableListView.getPackedPositionGroup(info.packedPosition); \n        Toast.makeText(this, title + \": Group \" + groupPos + \" clicked\", Toast.LENGTH_SHORT).show();\n        return true;\n    }\n\n    return false;\n}\n\n/** A simple adapter which maintains an ArrayList of photo resource Ids. \n * Each photo is displayed as an image. This adapter supports clearing the\n * list of photos and adding a new photo.\n */\npublic class MyExpandableListAdapter extends BaseExpandableListAdapter {\n    // Sample data set.  children[i] contains the children (String[]) for groups[i].\n    private String[] groups = { \"Category1\", \"Category2\", \"Category3\", \"Category4\" };\n    private String[][] children = {\n            { \"Charity1\", \"Charity2\", \"Charity3\", \"Charity4\" },\n            { \"Charity5\", \"Charity6\", \"Charity7\", \"Charity8\" },\n            { \"Charity9\", \"Charity10\" },\n            { \"Charity11\", \"Charity12\" }\n    };\n\n    public Object getChild(int groupPosition, int childPosition) {\n        return children[groupPosition][childPosition];\n    }\n\n    public long getChildId(int groupPosition, int childPosition) {\n        return childPosition;\n    }\n\n    public int getChildrenCount(int groupPosition) {\n        return children[groupPosition].length;\n    }\n\n    public TextView getGenericView() {\n        // Layout parameters for the ExpandableListView\n        AbsListView.LayoutParams lp = new AbsListView.LayoutParams(\n                ViewGroup.LayoutParams.MATCH_PARENT, 64);\n\n        TextView textView = new TextView(expands.this);\n        textView.setLayoutParams(lp);\n        // Center the text vertically\n        textView.setGravity(Gravity.CENTER_VERTICAL | Gravity.LEFT);\n        // Set the text starting position\n        textView.setPadding(36, 0, 0, 0);\n        return textView;\n    }\n\n    public View getChildView(int groupPosition, int childPosition, boolean isLastChild,\n            View convertView, ViewGroup parent) {\n        TextView textView = getGenericView();\n        textView.setText(getChild(groupPosition, childPosition).toString());\n        return textView;\n    }\n\n    public Object getGroup(int groupPosition) {\n        return groups[groupPosition];\n    }\n\n    public int getGroupCount() {\n        return groups.length;\n    }\n\n    public long getGroupId(int groupPosition) {\n        return groupPosition;\n    }\n\n    public View getGroupView(int groupPosition, boolean isExpanded, View convertView,\n            ViewGroup parent) {\n        TextView textView = getGenericView();\n        textView.setText(getGroup(groupPosition).toString());\n        return textView;\n    }\n\n    public boolean isChildSelectable(int groupPosition, int childPosition) {\n        return true;\n    }\n\n    public boolean hasStableIds() {\n        return true;\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1296240604,"creation_date":1296240604,"answer_id":4831923,"question_id":3271772,"body_markdown":"I agree with pjv, at least for phone-size devices. It would be better to organize the widget to show one group of siblings at a time in a ListView. This could be done in a single activity that keeps track of its position in the tree. It could show a header with breadcrumbs showing the path to the parent of the items currently on display.\r\n\r\nA multi-level tree view may be appropriate for a tablet device, but a phone does not have enough real estate to support the proposed 5 levels (with everything having to be big enough for fingers).\r\n\r\nNevertheless, if you are set on a tree view, don&#39;t look at subclassing ExpandableListView. It operates internally by packing the parent and child indices (each an int) into a single long. This internal representation makes it virtually impossible to extend beyond 2 levels.","title":"Android Treeview","body":"<p>I agree with pjv, at least for phone-size devices. It would be better to organize the widget to show one group of siblings at a time in a ListView. This could be done in a single activity that keeps track of its position in the tree. It could show a header with breadcrumbs showing the path to the parent of the items currently on display.</p>\n\n<p>A multi-level tree view may be appropriate for a tablet device, but a phone does not have enough real estate to support the proposed 5 levels (with everything having to be big enough for fingers).</p>\n\n<p>Nevertheless, if you are set on a tree view, don't look at subclassing ExpandableListView. It operates internally by packing the parent and child indices (each an int) into a single long. This internal representation makes it virtually impossible to extend beyond 2 levels.</p>\n"},{"tags":[],"owner":{"account_id":276449,"reputation":10406,"user_id":569885,"accept_rate":100,"display_name":"dbm"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1296549472,"creation_date":1296549472,"answer_id":4860435,"question_id":3271772,"body_markdown":"I found the link below very, very useful. It describes alternative ways of storing tree structures in two dimensional data structures (typically a database table).\r\n\r\nI think you&#39;ll find the paradigm easy to understand and implement.\r\n\r\nhttp://mikehillyer.com/articles/managing-hierarchical-data-in-mysql/\r\n\r\nAs of how to visualize this in Android is another question. I would perhaps write my own widget from scratch if the &quot;padded&quot; list items solution isn&#39;t sufficient.","title":"Android Treeview","body":"<p>I found the link below very, very useful. It describes alternative ways of storing tree structures in two dimensional data structures (typically a database table).</p>\n\n<p>I think you'll find the paradigm easy to understand and implement.</p>\n\n<p><a href=\"http://mikehillyer.com/articles/managing-hierarchical-data-in-mysql/\" rel=\"nofollow\">http://mikehillyer.com/articles/managing-hierarchical-data-in-mysql/</a></p>\n\n<p>As of how to visualize this in Android is another question. I would perhaps write my own widget from scratch if the \"padded\" list items solution isn't sufficient.</p>\n"},{"tags":[],"owner":{"account_id":191842,"reputation":11197,"user_id":432657,"accept_rate":71,"display_name":"2red13"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1301670146,"creation_date":1301670146,"answer_id":5515179,"question_id":3271772,"body_markdown":"i solved it for me, posting in a similar thread:\r\n[other thread][1]\r\n\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3159758/suggestions-for-building-a-treeview-control-in-android\r\n  [2]: http://i.stack.imgur.com/oNv10.png","title":"Android Treeview","body":"<p>i solved it for me, posting in a similar thread:\n<a href=\"https://stackoverflow.com/questions/3159758/suggestions-for-building-a-treeview-control-in-android\">other thread</a></p>\n\n<p><img src=\"https://i.stack.imgur.com/oNv10.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":21128,"reputation":12578,"user_id":51133,"accept_rate":98,"display_name":"Daniel Sloof"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1457956598,"creation_date":1306767044,"answer_id":6177756,"question_id":3271772,"body_markdown":"Answering my own question, since we implemented this many months ago.\r\n\r\n&lt;a href=&quot;https://github.com/pi0/mangler/blob/master/android/src/org/mangler/android/ChannelList.java&quot;&gt;Our implementation&lt;/a&gt; in an open-source proejct.","title":"Android Treeview","body":"<p>Answering my own question, since we implemented this many months ago.</p>\n\n<p><a href=\"https://github.com/pi0/mangler/blob/master/android/src/org/mangler/android/ChannelList.java\" rel=\"nofollow\">Our implementation</a> in an open-source proejct.</p>\n"},{"tags":[],"owner":{"account_id":244114,"reputation":19415,"user_id":516701,"accept_rate":40,"display_name":"Jarek Potiuk"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1309707747,"creation_date":1309707747,"answer_id":6563833,"question_id":3271772,"body_markdown":"Our company also open-sourced a solution for this. It is available as library, so very easy to use:  http://code.google.com/p/tree-view-list-android/ \r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/qy74d.png","title":"Android Treeview","body":"<p>Our company also open-sourced a solution for this. It is available as library, so very easy to use:  <a href=\"http://code.google.com/p/tree-view-list-android/\" rel=\"noreferrer\">http://code.google.com/p/tree-view-list-android/</a> </p>\n\n<p><img src=\"https://i.stack.imgur.com/qy74d.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":1110441,"reputation":921,"user_id":1101008,"accept_rate":62,"display_name":"dotsa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1349584942,"creation_date":1349584942,"answer_id":12766186,"question_id":3271772,"body_markdown":"I think if multilevel expandablelist is done properly it actually works and looks great. \r\nHere is another example of http://code.google.com/p/tree-view-list-android/\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/8rCzD.png","title":"Android Treeview","body":"<p>I think if multilevel expandablelist is done properly it actually works and looks great. \nHere is another example of <a href=\"http://code.google.com/p/tree-view-list-android/\" rel=\"nofollow noreferrer\">http://code.google.com/p/tree-view-list-android/</a></p>\n\n<p><img src=\"https://i.stack.imgur.com/8rCzD.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":2003231,"reputation":1100,"user_id":1793766,"display_name":"bmelnychuk"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1423884209,"creation_date":1423884209,"answer_id":28512080,"question_id":3271772,"body_markdown":"I had the same issue. You can check out my implementation [AndroidTreeView][1]. \r\n[1]: https://github.com/bmelnychuk/AndroidTreeView\r\n\r\n&lt;br&gt;\r\n\r\n - Its N-level tree.&lt;br&gt;\r\n  \r\n - Custom style for nodes&lt;br&gt;\r\n - Save state after rotation&lt;br&gt;\r\n\r\n![AndroidTreeView](https://lh5.ggpht.com/Ut6By_iUnkNfzIbaPBsc8hBeQeFj_2UXJh_1tfwDdlTAqGkhiR72A_AwQ0L0GH3OFag=h900-rw)\r\n","title":"Android Treeview","body":"<p>I had the same issue. You can check out my implementation <a href=\"https://github.com/bmelnychuk/AndroidTreeView\" rel=\"noreferrer\">AndroidTreeView</a>. \n<br></p>\n\n<ul>\n<li><p>Its N-level tree.<br></p></li>\n<li><p>Custom style for nodes<br></p></li>\n<li>Save state after rotation<br></li>\n</ul>\n\n<p><img src=\"https://lh5.ggpht.com/Ut6By_iUnkNfzIbaPBsc8hBeQeFj_2UXJh_1tfwDdlTAqGkhiR72A_AwQ0L0GH3OFag=h900-rw\" alt=\"AndroidTreeView\"></p>\n"},{"tags":[],"owner":{"account_id":5974556,"reputation":2225,"user_id":4695901,"display_name":"Aaron Gillion"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1427403838,"creation_date":1427403838,"answer_id":29288830,"question_id":3271772,"body_markdown":"I have found an **easier** solution to this problem, as I myself am somewhat intermediate in my coding skills. In my situation, I needed a *Windows-themed* Tree View, which after brainstorming ideas, I was able to implement with hardly any coding!\r\n\r\nHere&#39;s the trick: use a **WebView** and an embedded HTML page to display a custom Tree View, and use Android&#39;s super handy JavaScript communication interface to receive selections &amp; clicks: [Proof of Concept Example on Android-er Blog][1]\r\n\r\nWith this power we can take advantage of a large collection of JS/CSS control snippets around the web. [Themeable Windows7-Style jQuery TreeView control -- jsTree][2]\r\n\r\nLot&#39;s of possibilities and power with Android out there, happy coding!\r\n\r\n  [1]: http://android-er.blogspot.com/2011/10/call-javascript-inside-webview-from.html\r\n  [2]: http://www.jstree.com/","title":"Android Treeview","body":"<p>I have found an <strong>easier</strong> solution to this problem, as I myself am somewhat intermediate in my coding skills. In my situation, I needed a <em>Windows-themed</em> Tree View, which after brainstorming ideas, I was able to implement with hardly any coding!</p>\n\n<p>Here's the trick: use a <strong>WebView</strong> and an embedded HTML page to display a custom Tree View, and use Android's super handy JavaScript communication interface to receive selections &amp; clicks: <a href=\"http://android-er.blogspot.com/2011/10/call-javascript-inside-webview-from.html\" rel=\"nofollow\">Proof of Concept Example on Android-er Blog</a></p>\n\n<p>With this power we can take advantage of a large collection of JS/CSS control snippets around the web. <a href=\"http://www.jstree.com/\" rel=\"nofollow\">Themeable Windows7-Style jQuery TreeView control -- jsTree</a></p>\n\n<p>Lot's of possibilities and power with Android out there, happy coding!</p>\n"},{"tags":[],"owner":{"account_id":9748857,"reputation":4106,"user_id":7227834,"display_name":"AmrDeveloper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658773597,"creation_date":1658773597,"answer_id":73113781,"question_id":3271772,"body_markdown":"You can check my implementation ([TreeView][1]) it can deal with different views in multi levels without a custom view just a custom adapter and you can customise the implementation easily, you can also receive the nodes as single json\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[1]: https://github.com/AmrDeveloper/treeview\r\n[2]: https://i.stack.imgur.com/7VUnb.gif","title":"Android Treeview","body":"<p>You can check my implementation (<a href=\"https://github.com/AmrDeveloper/treeview\" rel=\"nofollow noreferrer\">TreeView</a>) it can deal with different views in multi levels without a custom view just a custom adapter and you can customise the implementation easily, you can also receive the nodes as single json</p>\n<p><a href=\"https://i.stack.imgur.com/7VUnb.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7VUnb.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":21128,"reputation":12578,"user_id":51133,"accept_rate":98,"display_name":"Daniel Sloof"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66260,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":6177756,"answer_count":11,"score":42,"last_activity_date":1658773597,"creation_date":1279375411,"question_id":3271772,"body_markdown":"I know there is the &lt;a href=&quot;http://developer.android.com/reference/android/widget/ExpandableListView.html&quot;&gt;ExpandableListView&lt;/a&gt; but it only supports up to 2 levels. I need a true treeview vertical list with at least up to ~5 levels (more is better).\r\n\r\nAny suggestions?\r\n\r\nedit:\r\n\r\nI see talk about using a Custom Adapter and setting the padding based on the items level.\r\n\r\nI have an unsorted ArrayList of objects that have an ID and parent ID, and I dynamically add items to this array as well. \r\n\r\nCan anyone give me some examples of how I can go about doing this?","title":"Android Treeview","body":"<p>I know there is the <a href=\"http://developer.android.com/reference/android/widget/ExpandableListView.html\" rel=\"noreferrer\">ExpandableListView</a> but it only supports up to 2 levels. I need a true treeview vertical list with at least up to ~5 levels (more is better).</p>\n\n<p>Any suggestions?</p>\n\n<p>edit:</p>\n\n<p>I see talk about using a Custom Adapter and setting the padding based on the items level.</p>\n\n<p>I have an unsorted ArrayList of objects that have an ID and parent ID, and I dynamically add items to this array as well. </p>\n\n<p>Can anyone give me some examples of how I can go about doing this?</p>\n"},{"tags":["java","spring","annotations","spring-annotations"],"comments":[{"owner":{"account_id":21263717,"reputation":195,"user_id":15644230,"display_name":"Grigorii Riabov"},"score":0,"creation_date":1619674902,"post_id":67305274,"comment_id":118977296,"body_markdown":"Check this answer [link](https://stackoverflow.com/questions/47020795/validating-optional-field)","body":"Check this answer <a href=\"https://stackoverflow.com/questions/47020795/validating-optional-field\">link</a>"}],"answers":[{"tags":[],"owner":{"account_id":10728466,"reputation":150,"user_id":7895273,"display_name":"Roopashree"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620656172,"creation_date":1620656172,"answer_id":67472120,"question_id":67305274,"body_markdown":"Add javax.validation dependency\r\n\r\nBelow are the 3 steps to add validation. \r\n1. Add @NonNull on the data member in the POJO class &lt;br&gt;\r\n```\r\n    class Employee\r\n    {\r\n        @NonNull\r\n        String name;\r\n    }\r\n```\r\n\r\n2. Create following method\r\n```\r\n    private void validate(Employee emp){\r\n\t\tValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n\t\tValidator validator = factory.getValidator();\r\n\t\tSet&lt;ConstraintViolation&lt;Employee&gt;&gt; violations = validator.validate(emp)\r\n\t\tfor(ConstraintViolation&lt;Employee&gt; violation: violations) {\r\n\t\t\t//Your action. May be throw exception\r\n\t\t}\r\n\t}\r\n```\r\n\r\n3. Add @Valid where the object is used and invoke the validate method&lt;br&gt;\r\n```\r\n    void method(@Valid Employee emp){\r\n        validate(emp);\r\n    }\r\n```\r\n","title":"Endpoint Validation(@Valid, @Pattern, etc) with Optional","body":"<p>Add javax.validation dependency</p>\n<p>Below are the 3 steps to add validation.</p>\n<ol>\n<li>Add @NonNull on the data member in the POJO class <br></li>\n</ol>\n<pre><code>    class Employee\n    {\n        @NonNull\n        String name;\n    }\n</code></pre>\n<ol start=\"2\">\n<li>Create following method</li>\n</ol>\n<pre><code>    private void validate(Employee emp){\n        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n        Validator validator = factory.getValidator();\n        Set&lt;ConstraintViolation&lt;Employee&gt;&gt; violations = validator.validate(emp)\n        for(ConstraintViolation&lt;Employee&gt; violation: violations) {\n            //Your action. May be throw exception\n        }\n    }\n</code></pre>\n<ol start=\"3\">\n<li>Add @Valid where the object is used and invoke the validate method<br></li>\n</ol>\n<pre><code>    void method(@Valid Employee emp){\n        validate(emp);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1428986,"reputation":584,"user_id":1351827,"accept_rate":45,"display_name":"Patrick Aquilone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658773507,"creation_date":1658773507,"answer_id":73113764,"question_id":67305274,"body_markdown":"So the best solution that I found was to use Jakarta validations instead of Javax because the Jakarta will look into the optional field and apply the validation annotations.  ","title":"Endpoint Validation(@Valid, @Pattern, etc) with Optional","body":"<p>So the best solution that I found was to use Jakarta validations instead of Javax because the Jakarta will look into the optional field and apply the validation annotations.</p>\n"}],"owner":{"account_id":1428986,"reputation":584,"user_id":1351827,"accept_rate":45,"display_name":"Patrick Aquilone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658773507,"creation_date":1619631588,"question_id":67305274,"body_markdown":"We have a need to have certain objects be wrapped in an optional because we need to know three states:\r\n\r\n - Missing (not present)\r\n - Null (present but null)\r\n - Data (present with data)\r\n\r\nCurrently we are wrapping these fields with Optional because spring rest endpoint will give us these states as null, Optional.empty() and Optional.of(value).  \r\n\r\n**However, it does not appear that the validations are working.  Do I need to do something different than just add @Valid, @Pattern, @NotNull, etc??**\r\n\r\nNote: there is a more detail breakdown of the need in this question (https://stackoverflow.com/questions/67199661/java-spring-jackson-annotation-for-not-present-present-but-null-and-present)","title":"Endpoint Validation(@Valid, @Pattern, etc) with Optional","body":"<p>We have a need to have certain objects be wrapped in an optional because we need to know three states:</p>\n<ul>\n<li>Missing (not present)</li>\n<li>Null (present but null)</li>\n<li>Data (present with data)</li>\n</ul>\n<p>Currently we are wrapping these fields with Optional because spring rest endpoint will give us these states as null, Optional.empty() and Optional.of(value).</p>\n<p><strong>However, it does not appear that the validations are working.  Do I need to do something different than just add @Valid, @Pattern, @NotNull, etc??</strong></p>\n<p>Note: there is a more detail breakdown of the need in this question (<a href=\"https://stackoverflow.com/questions/67199661/java-spring-jackson-annotation-for-not-present-present-but-null-and-present\">Java Spring (Jackson) Annotation for Not Present, Present but Null, and Present with Value</a>)</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1658696269,"post_id":73097592,"comment_id":129109296,"body_markdown":"Do you know in advance if the response is `Login` or `Order`? Otherwise the answers to https://stackoverflow.com/q/15736654 might be helpful.","body":"Do you know in advance if the response is <code>Login</code> or <code>Order</code>? Otherwise the answers to <a href=\"https://stackoverflow.com/q/15736654\">stackoverflow.com/q/15736654</a> might be helpful."},{"owner":{"account_id":1281778,"reputation":63,"user_id":1235738,"accept_rate":0,"display_name":"Pankaj Patel"},"score":0,"creation_date":1658720882,"post_id":73097592,"comment_id":129112570,"body_markdown":"Yes, I know that receiving JSON structure will be the same, even in case of error. {head:{...},body:{..}} . underlying body data will differ.","body":"Yes, I know that receiving JSON structure will be the same, even in case of error. {head:{...},body:{..}} . underlying body data will differ."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1658752277,"post_id":73097592,"comment_id":129121789,"body_markdown":"What I meant was: When receiving a request, do you know before calling Gson (1) &quot;This JSON data is a `Login` request&quot; and &quot;This JSON data is an `Order` request&quot;, or do you just know that (2) &quot;This JSON data is either a `Login` or `Order` request and Gson has to figure out the type&quot;? In the latter case and if you cannot modify the JSON data structure, then maybe [Jackson&#39;s deduction-based polymorphism feature](https://cowtowncoder.medium.com/jackson-2-12-most-wanted-1-5-deduction-based-polymorphism-c7fb51db7818) is better suited for this.","body":"What I meant was: When receiving a request, do you know before calling Gson (1) &quot;This JSON data is a <code>Login</code> request&quot; and &quot;This JSON data is an <code>Order</code> request&quot;, or do you just know that (2) &quot;This JSON data is either a <code>Login</code> or <code>Order</code> request and Gson has to figure out the type&quot;? In the latter case and if you cannot modify the JSON data structure, then maybe <a href=\"https://cowtowncoder.medium.com/jackson-2-12-most-wanted-1-5-deduction-based-polymorphism-c7fb51db7818\" rel=\"nofollow noreferrer\">Jackson&#39;s deduction-based polymorphism feature</a> is better suited for this."},{"owner":{"account_id":1281778,"reputation":63,"user_id":1235738,"accept_rate":0,"display_name":"Pankaj Patel"},"score":0,"creation_date":1658770930,"post_id":73097592,"comment_id":129129439,"body_markdown":"Yes, these are responses from services, different responses for different requests, so yes receiving json is well known during receiving.","body":"Yes, these are responses from services, different responses for different requests, so yes receiving json is well known during receiving."}],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658773399,"creation_date":1658773399,"answer_id":73113742,"question_id":73097592,"body_markdown":"You could either introduce two new subclasses of `Base` which you use for deserialization, for example:\r\n - `class LoginRequest extends Base&lt;Login&gt; { }`\r\n - `class OrderRequest extends Base&lt;Order&gt; { }`\r\n\r\nOr you can use Gson&#39;s [`TypeToken` class](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/reflect/TypeToken.html) to deserialize a parameterized `Base` type. See also the [corresponding section in the user guide](https://github.com/google/gson/blob/master/UserGuide.md#serializing-and-deserializing-generic-types). For example:\r\n```java\r\nType loginType = new TypeToken&lt;Base&lt;Login&gt;&gt;() {}.getType();\r\nBase&lt;Login&gt; loginRequest = gson.fromJson(..., loginType);\r\n```","title":"How to convert similar looking JSON structure into different POJO with Gson?","body":"<p>You could either introduce two new subclasses of <code>Base</code> which you use for deserialization, for example:</p>\n<ul>\n<li><code>class LoginRequest extends Base&lt;Login&gt; { }</code></li>\n<li><code>class OrderRequest extends Base&lt;Order&gt; { }</code></li>\n</ul>\n<p>Or you can use Gson's <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/reflect/TypeToken.html\" rel=\"nofollow noreferrer\"><code>TypeToken</code> class</a> to deserialize a parameterized <code>Base</code> type. See also the <a href=\"https://github.com/google/gson/blob/master/UserGuide.md#serializing-and-deserializing-generic-types\" rel=\"nofollow noreferrer\">corresponding section in the user guide</a>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Type loginType = new TypeToken&lt;Base&lt;Login&gt;&gt;() {}.getType();\nBase&lt;Login&gt; loginRequest = gson.fromJson(..., loginType);\n</code></pre>\n"}],"owner":{"account_id":1281778,"reputation":63,"user_id":1235738,"accept_rate":0,"display_name":"Pankaj Patel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658773399,"creation_date":1658658689,"question_id":73097592,"body_markdown":"I am having below 2 JSON, one for login and another one for order\r\n\r\n    {\r\n\t\t\t  &quot;head&quot;: {\r\n\t\t\t    &quot;requestCode&quot;: &quot;code&quot;\r\n\t\t\t  },\r\n\t\t\t  &quot;body&quot;: {\r\n\t\t\t    &quot;reqId&quot;: &quot;xyz&quot;,\r\n\t\t\t    &quot;userName&quot;: &quot;xyz&quot;,\r\n\t\t\t    &quot;passwd&quot;: &quot;xyz&quot;,\r\n\t\t\t  }\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t{\r\n\t\t\t  &quot;head&quot;: {\r\n\t\t\t    &quot;requestCode&quot;: &quot;code&quot;\r\n\t\t\t  },\r\n\t\t\t  &quot;body&quot;: {\r\n\t\t\t    &quot;reqId&quot;: &quot;xyz&quot;,\r\n\t\t\t    &quot;orderId&quot;: &quot;xyz&quot;\r\n\t\t\t  }\r\n\t\t\t}\r\n\r\nI am trying to write java pojo where the head and refId of body are common for each json but other content of body.\r\n\r\n\r\nsomething like the below pojo. Now problem is GSon cannot parse and build objects based on nested parameterized types. Is there any better way to implement it? Not JSON structure will not change.\r\n\r\nPOJO\r\n\r\n    public class Base&lt;T extends Body&gt; {\r\n\r\n\t@SerializedName(&quot;head&quot;)\r\n\t@Expose\r\n\tpublic Head head;\r\n\t@SerializedName(&quot;body&quot;)\r\n\t@Expose\r\n\tprivate T body;\r\n\t}\r\n\r\n    public class Body {\r\n\t@SerializedName(&quot;clientCode&quot;)\r\n\t@Expose\r\n\tprivate String clientCode;\r\n\t}\r\n\t\r\n\tpublic class Head {\r\n\t@SerializedName(&quot;requestCode&quot;)\r\n\t@Expose\r\n\tpublic String requestCode;\r\n\t}\r\n\r\n    public class Login extends Body {\r\n\t@SerializedName(&quot;userName&quot;)\r\n\t@Expose\r\n\tpublic String userName;\r\n\t@SerializedName(&quot;passwd&quot;)\r\n\t@Expose\r\n\tpublic String passed;\r\n\t}\r\n\r\n    public class Order extends Body {\r\n\t@SerializedName(&quot;orderId&quot;)\r\n\t@Expose\r\n\tString orderId;\r\n\t}","title":"How to convert similar looking JSON structure into different POJO with Gson?","body":"<p>I am having below 2 JSON, one for login and another one for order</p>\n<pre><code>{\n          &quot;head&quot;: {\n            &quot;requestCode&quot;: &quot;code&quot;\n          },\n          &quot;body&quot;: {\n            &quot;reqId&quot;: &quot;xyz&quot;,\n            &quot;userName&quot;: &quot;xyz&quot;,\n            &quot;passwd&quot;: &quot;xyz&quot;,\n          }\n        }\n        \n        {\n          &quot;head&quot;: {\n            &quot;requestCode&quot;: &quot;code&quot;\n          },\n          &quot;body&quot;: {\n            &quot;reqId&quot;: &quot;xyz&quot;,\n            &quot;orderId&quot;: &quot;xyz&quot;\n          }\n        }\n</code></pre>\n<p>I am trying to write java pojo where the head and refId of body are common for each json but other content of body.</p>\n<p>something like the below pojo. Now problem is GSon cannot parse and build objects based on nested parameterized types. Is there any better way to implement it? Not JSON structure will not change.</p>\n<p>POJO</p>\n<pre><code>public class Base&lt;T extends Body&gt; {\n\n@SerializedName(&quot;head&quot;)\n@Expose\npublic Head head;\n@SerializedName(&quot;body&quot;)\n@Expose\nprivate T body;\n}\n\npublic class Body {\n@SerializedName(&quot;clientCode&quot;)\n@Expose\nprivate String clientCode;\n}\n\npublic class Head {\n@SerializedName(&quot;requestCode&quot;)\n@Expose\npublic String requestCode;\n}\n\npublic class Login extends Body {\n@SerializedName(&quot;userName&quot;)\n@Expose\npublic String userName;\n@SerializedName(&quot;passwd&quot;)\n@Expose\npublic String passed;\n}\n\npublic class Order extends Body {\n@SerializedName(&quot;orderId&quot;)\n@Expose\nString orderId;\n}\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":6651776,"reputation":998,"user_id":5133529,"display_name":"dung ta van"},"score":0,"creation_date":1658823861,"post_id":73112564,"comment_id":129141011,"body_markdown":"You can create a custom serializer and just include `age` and `name` property: https://www.baeldung.com/jackson-custom-serialization","body":"You can create a custom serializer and just include <code>age</code> and <code>name</code> property: <a href=\"https://www.baeldung.com/jackson-custom-serialization\" rel=\"nofollow noreferrer\">baeldung.com/jackson-custom-serialization</a>"},{"owner":{"account_id":25891810,"reputation":1,"user_id":19619094,"display_name":"Anastazja"},"score":0,"creation_date":1658864674,"post_id":73112564,"comment_id":129156897,"body_markdown":"Thanks, now I know that it is possible to create shorter JSON based on original class :) Anyway, I decided to use BendaThierry&#39;s approach.","body":"Thanks, now I know that it is possible to create shorter JSON based on original class :) Anyway, I decided to use BendaThierry&#39;s approach."}],"answers":[{"tags":[],"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658772987,"creation_date":1658772987,"answer_id":73113654,"question_id":73112564,"body_markdown":"Yes, you can using Jackson `ObjectMapper`.\r\n\r\nAdd the dependency, with Maven, inside your pom.xml\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n       &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCreate your custom entity without the fields you don&#39;t need on your client side :\r\n\r\n    public class CustomPerson {\r\n        String name;\r\n        Integer age;\r\n\r\n        @JsonProperty(&quot;name&quot;)\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        @JsonProperty(&quot;age&quot;)\r\n            public String getAge() {\r\n                return name;\r\n        }\r\n    }\r\n    \r\n\r\nUse ObjectMapper to save any object or list of objects of `CustomPerson` POJO :\r\n    \r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    // one person object saved in person.json file :\r\n    objectMapper.writeValue(new File(&quot;path/to/person.json&quot;), person);\r\n\r\n    // many person objecs saved in persons.json file :\r\n    objectMapper.writeValue(Paths.get(&quot;persons.json&quot;).toFile(), persons);\r\n\r\nThe rest is trivial, you&#39;ll get it easily.\r\n\r\n","title":"How to create JSON file extracting specific object fields, basing on object with all fields annotated with @JsonProperty - JAVA","body":"<p>Yes, you can using Jackson <code>ObjectMapper</code>.</p>\n<p>Add the dependency, with Maven, inside your pom.xml</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n   &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n   &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Create your custom entity without the fields you don't need on your client side :</p>\n<pre><code>public class CustomPerson {\n    String name;\n    Integer age;\n\n    @JsonProperty(&quot;name&quot;)\n    public String getName() {\n        return name;\n    }\n\n    @JsonProperty(&quot;age&quot;)\n        public String getAge() {\n            return name;\n    }\n}\n</code></pre>\n<p>Use ObjectMapper to save any object or list of objects of <code>CustomPerson</code> POJO :</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\n\n// one person object saved in person.json file :\nobjectMapper.writeValue(new File(&quot;path/to/person.json&quot;), person);\n\n// many person objecs saved in persons.json file :\nobjectMapper.writeValue(Paths.get(&quot;persons.json&quot;).toFile(), persons);\n</code></pre>\n<p>The rest is trivial, you'll get it easily.</p>\n"}],"owner":{"account_id":25891810,"reputation":1,"user_id":19619094,"display_name":"Anastazja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658772987,"creation_date":1658766719,"question_id":73112564,"body_markdown":"I have a class like this in one of the microservices (I cannot change it):\r\n\r\n```\r\npublic class MyClass {\r\n    String name;\r\n    Integer age;\r\n    String gender;\r\n    List&lt;SomeObject&gt; some objects;\r\n\r\n    @JsonProperty(&quot;name&quot;)\r\n        public String getName() {\r\n            return name;\r\n    }\r\n\r\n    @JsonProperty(&quot;age&quot;)\r\n        public String getAge() {\r\n            return name;\r\n    }\r\n\r\n    @JsonProperty(&quot;gender&quot;)\r\n        public String getGender() {\r\n            return name;\r\n    }\r\n\r\n    @JsonProperty(&quot;someObjects&quot;)\r\n        public List&lt;SomeObject&gt; getSomeObjects() {\r\n            return someObjects;\r\n    }\r\n}\r\n```\r\n\r\n\r\nMy task is to create JSON file basing on data from that class, but this file should only contain\r\n&#39;age&#39; and &#39;name&#39; property, and from SomeObject I should also extract part of the data to create a list.\r\n\r\nI don&#39;t know how can I &#39;turn off&#39; the properties, that I don&#39;t needed. Is it possible?","title":"How to create JSON file extracting specific object fields, basing on object with all fields annotated with @JsonProperty - JAVA","body":"<p>I have a class like this in one of the microservices (I cannot change it):</p>\n<pre><code>public class MyClass {\n    String name;\n    Integer age;\n    String gender;\n    List&lt;SomeObject&gt; some objects;\n\n    @JsonProperty(&quot;name&quot;)\n        public String getName() {\n            return name;\n    }\n\n    @JsonProperty(&quot;age&quot;)\n        public String getAge() {\n            return name;\n    }\n\n    @JsonProperty(&quot;gender&quot;)\n        public String getGender() {\n            return name;\n    }\n\n    @JsonProperty(&quot;someObjects&quot;)\n        public List&lt;SomeObject&gt; getSomeObjects() {\n            return someObjects;\n    }\n}\n</code></pre>\n<p>My task is to create JSON file basing on data from that class, but this file should only contain\n'age' and 'name' property, and from SomeObject I should also extract part of the data to create a list.</p>\n<p>I don't know how can I 'turn off' the properties, that I don't needed. Is it possible?</p>\n"},{"tags":["java","spring","docker","jmx","aws-fargate"],"comments":[{"owner":{"account_id":11197077,"reputation":1367,"user_id":8215387,"display_name":"sihaya"},"score":0,"creation_date":1589201186,"post_id":60299557,"comment_id":109190012,"body_markdown":"Which JVM version are you using? If it is 8 then it seems to be impossible to get the JMX server running because of an issue with resolving localhost.\n\nI&#39;ve succesfully setup a remote JMX connection in a Fargate container using JVM 11. Make sure the port is exposed in the task definition and that the security groups allow inbound connection on this port.\n\nAlso in order to connect your container needs to have a public IP and you need to use the public IP to connect to the container (it can be found in the task detail of the container).","body":"Which JVM version are you using? If it is 8 then it seems to be impossible to get the JMX server running because of an issue with resolving localhost.  I&#39;ve succesfully setup a remote JMX connection in a Fargate container using JVM 11. Make sure the port is exposed in the task definition and that the security groups allow inbound connection on this port.  Also in order to connect your container needs to have a public IP and you need to use the public IP to connect to the container (it can be found in the task detail of the container)."},{"owner":{"account_id":9168780,"reputation":101,"user_id":6817233,"display_name":"John"},"score":0,"creation_date":1589274678,"post_id":60299557,"comment_id":109220955,"body_markdown":"I am using Java 11 and the JMX ports are exposed accordingly. However the container only has a private IP due to security reasons, I guess that would be the reason why it is failing.","body":"I am using Java 11 and the JMX ports are exposed accordingly. However the container only has a private IP due to security reasons, I guess that would be the reason why it is failing."}],"answers":[{"tags":[],"owner":{"account_id":2775716,"reputation":829,"user_id":2389335,"display_name":"Snehal Patel"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1602193183,"creation_date":1602193183,"answer_id":64271003,"question_id":60299557,"body_markdown":"Following changes worked for me in connecting Visual VM to Spring Boot Application deployed in AWS Fargate (private VPC)\r\n\r\n- jvm parameters\r\n```\r\n-Dcom.sun.management.jmxremote \\\r\n-Dcom.sun.management.jmxremote.port=1099 \\\r\n-Dcom.sun.management.jmxremote.rmi.port=1099 \\\r\n-Dcom.sun.management.jmxremote.ssl=false \\\r\n-Dcom.sun.management.jmxremote.authenticate=false \\\r\n-Dcom.sun.management.jmxremote.local.only=false \\\r\n-Djava.rmi.server.hostname=127.0.0.1\r\n```\r\n\r\n- export port 1099 (both in dockerfile and cloudformation template - PortMappings-&gt;ContainerPort)\r\n\r\n- Container security group to accept incoming traffic on 1099 (tcp and udp) from one of the existing EC2 in vpc (jump server)\r\n\r\n- ssh port forwarding by using EC2 (jump server) to task running in fargate (use private ip of task running in fargate)\r\n\r\nrun following command on local\r\n\r\n```\r\nssh -l &lt;user&gt; -L 127.0.0.1:1099:&lt;task-private-ip-in-fargate&gt;:1099 &lt;ec2-ip(jump server)&gt;\r\n```\r\n\r\n- Connect VisualVM using JMX Connection on 127.0.0.1:1099 \r\n","title":"Monitor JVM in AWS Fargate","body":"<p>Following changes worked for me in connecting Visual VM to Spring Boot Application deployed in AWS Fargate (private VPC)</p>\n<ul>\n<li>jvm parameters</li>\n</ul>\n<pre><code>-Dcom.sun.management.jmxremote \\\n-Dcom.sun.management.jmxremote.port=1099 \\\n-Dcom.sun.management.jmxremote.rmi.port=1099 \\\n-Dcom.sun.management.jmxremote.ssl=false \\\n-Dcom.sun.management.jmxremote.authenticate=false \\\n-Dcom.sun.management.jmxremote.local.only=false \\\n-Djava.rmi.server.hostname=127.0.0.1\n</code></pre>\n<ul>\n<li><p>export port 1099 (both in dockerfile and cloudformation template - PortMappings-&gt;ContainerPort)</p>\n</li>\n<li><p>Container security group to accept incoming traffic on 1099 (tcp and udp) from one of the existing EC2 in vpc (jump server)</p>\n</li>\n<li><p>ssh port forwarding by using EC2 (jump server) to task running in fargate (use private ip of task running in fargate)</p>\n</li>\n</ul>\n<p>run following command on local</p>\n<pre><code>ssh -l &lt;user&gt; -L 127.0.0.1:1099:&lt;task-private-ip-in-fargate&gt;:1099 &lt;ec2-ip(jump server)&gt;\n</code></pre>\n<ul>\n<li>Connect VisualVM using JMX Connection on 127.0.0.1:1099</li>\n</ul>\n"}],"owner":{"account_id":9168780,"reputation":101,"user_id":6817233,"display_name":"John"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4685,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":1,"score":10,"last_activity_date":1658772490,"creation_date":1582112421,"question_id":60299557,"body_markdown":"I have been currently trying to connect VisualVM (A program which monitors the JVM, heap and memory usage etc) to a Spring Boot Application (Java App) running on AWS Fargate in Docker containers.\r\n\r\nI have been exposing the JMX ports accordingly and I am able to connect through the JMX ports when running the Docker container locally. However, when running the Java App on Fargate, I have not found a way to connect to the Container through JMX. I have tried setting the VM argument \r\n-Djava.rmi.server.hostname to the IP Address of the container, but when I try to connect through JMX it still fails to do so. Has anyone had any experience with this?\r\n\r\nJMX commands for reference:\r\n\r\n```ENTRYPOINT java \\\r\n-Dcom.sun.management.jmxremote \\\r\n-Dcom.sun.management.jmxremote.local.only=false \\\r\n-Dcom.sun.management.jmxremote.authenticate=false \\\r\n-Dcom.sun.management.jmxremote.ssl=false \\\r\n-Djava.rmi.server.hostname=172.17.0.2 \\\r\n-Dcom.sun.management.jmxremote.port=9090\\\r\n-Dcom.sun.management.jmxremote.rmi.port=9090\\\r\n-jar java-api.jar server\r\n","title":"Monitor JVM in AWS Fargate","body":"<p>I have been currently trying to connect VisualVM (A program which monitors the JVM, heap and memory usage etc) to a Spring Boot Application (Java App) running on AWS Fargate in Docker containers.</p>\n<p>I have been exposing the JMX ports accordingly and I am able to connect through the JMX ports when running the Docker container locally. However, when running the Java App on Fargate, I have not found a way to connect to the Container through JMX. I have tried setting the VM argument\n-Djava.rmi.server.hostname to the IP Address of the container, but when I try to connect through JMX it still fails to do so. Has anyone had any experience with this?</p>\n<p>JMX commands for reference:</p>\n<pre><code>-Dcom.sun.management.jmxremote \\\n-Dcom.sun.management.jmxremote.local.only=false \\\n-Dcom.sun.management.jmxremote.authenticate=false \\\n-Dcom.sun.management.jmxremote.ssl=false \\\n-Djava.rmi.server.hostname=172.17.0.2 \\\n-Dcom.sun.management.jmxremote.port=9090\\\n-Dcom.sun.management.jmxremote.rmi.port=9090\\\n-jar java-api.jar server\n</code></pre>\n"},{"tags":["java","jackson","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":25863692,"reputation":138,"user_id":19595755,"display_name":"pholak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658772198,"creation_date":1658771329,"answer_id":73113369,"question_id":73112890,"body_markdown":"ObjectMapper by default will serialize only public fields, but you can change it using ```setVisibility``` [method](https://github.com/FasterXML/jackson-databind/blob/2.14/src/main/java/com/fasterxml/jackson/databind/ObjectMapper.java#L1597).\r\nYou can do it like this:\r\n```\r\nTestClass testClass = new TestClass(&quot;field&quot;);\r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\nobjectMapper.writeValueAsString(testClass);\r\n```","title":"Java serialization using objectMapper: serialize using private getter","body":"<p>ObjectMapper by default will serialize only public fields, but you can change it using <code>setVisibility</code> <a href=\"https://github.com/FasterXML/jackson-databind/blob/2.14/src/main/java/com/fasterxml/jackson/databind/ObjectMapper.java#L1597\" rel=\"nofollow noreferrer\">method</a>.\nYou can do it like this:</p>\n<pre><code>TestClass testClass = new TestClass(&quot;field&quot;);\nObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\nobjectMapper.writeValueAsString(testClass);\n</code></pre>\n"}],"owner":{"account_id":9359986,"reputation":33,"user_id":6946603,"display_name":"Zeyu Huang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658772198,"creation_date":1658768609,"question_id":73112890,"body_markdown":"I have a private field with a private getter method (because I hope to prevent other users from using the getter outside this class, while I have a use case for this getter within this class), but I hope the field to be serialized using objectMapper. What is a good way to do it? Would appreciate any idea!\r\n```\r\n@Data\r\npublic class TestClass{\r\n    @Getter(AccessLevel.PRIVATE)\r\n    private String field\r\n} \r\n```","title":"Java serialization using objectMapper: serialize using private getter","body":"<p>I have a private field with a private getter method (because I hope to prevent other users from using the getter outside this class, while I have a use case for this getter within this class), but I hope the field to be serialized using objectMapper. What is a good way to do it? Would appreciate any idea!</p>\n<pre><code>@Data\npublic class TestClass{\n    @Getter(AccessLevel.PRIVATE)\n    private String field\n} \n</code></pre>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":0,"creation_date":1658772614,"post_id":73113453,"comment_id":129129935,"body_markdown":"How about creating 1 more entity. `Map&lt;Organization , List&lt;Role&gt;&gt;` looks very complicated for simple entity mapping.","body":"How about creating 1 more entity. <code>Map&lt;Organization , List&lt;Role&gt;&gt;</code> looks very complicated for simple entity mapping."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1658772705,"post_id":73113453,"comment_id":129129971,"body_markdown":"Org has a list of roles and a list of users. roles have a list orgs and a list of users, users have a list of orgs and a list of roles. Done","body":"Org has a list of roles and a list of users. roles have a list orgs and a list of users, users have a list of orgs and a list of roles. Done"},{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":1,"creation_date":1658772900,"post_id":73113453,"comment_id":129130030,"body_markdown":"@Toerktumlare `A User can have multiple Roles in a given Organization`, implies that he has different roles for each `Organization`. So it&#39;s not that easy.","body":"@Toerktumlare <code>A User can have multiple Roles in a given Organization</code>, implies that he has different roles for each <code>Organization</code>. So it&#39;s not that easy."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1658773436,"post_id":73113453,"comment_id":129130202,"body_markdown":"according to [that](https://github.com/hibernate/hibernate-orm/blob/5.3/hibernate-core/src/main/java/org/hibernate/collection/internal/PersistentMap.java#L285) HBN does not support such mapping: it assumes that row represents single (k,v) pair. In regard to domain model, why do not make independent entity (it already has id!), say, `OrgAuthority` and map it to user as list (you may write a method which lazily transforms list to transient map) - what benefits do you expect from that mapping?","body":"according to <a href=\"https://github.com/hibernate/hibernate-orm/blob/5.3/hibernate-core/src/main/java/org/hibernate/collection/internal/PersistentMap.java#L285\" rel=\"nofollow noreferrer\">that</a> HBN does not support such mapping: it assumes that row represents single (k,v) pair. In regard to domain model, why do not make independent entity (it already has id!), say, <code>OrgAuthority</code> and map it to user as list (you may write a method which lazily transforms list to transient map) - what benefits do you expect from that mapping?"},{"owner":{"account_id":413092,"reputation":965,"user_id":786532,"display_name":"andreas"},"score":0,"creation_date":1658774641,"post_id":73113453,"comment_id":129130638,"body_markdown":"Using a `Map&lt;Organization, List&lt;Role&gt;&gt;` just seemed &quot;natural&quot; to me, but I wasn&#39;t sure if it is possible. :)\n\n@Toerktumlare Unfortunately that doesn&#39;t fit my needs, but thanks for the comment :)\n\n@AndreyB.Panfilow Thanks for the comment, I&#39;ll try it with an extra Entity, I think I&#39;ll try with a `UserAndOrganizationToRole` Entity and a User has a Set of those linked.","body":"Using a <code>Map&lt;Organization, List&lt;Role&gt;&gt;</code> just seemed &quot;natural&quot; to me, but I wasn&#39;t sure if it is possible. :)  @Toerktumlare Unfortunately that doesn&#39;t fit my needs, but thanks for the comment :)  @AndreyB.Panfilow Thanks for the comment, I&#39;ll try it with an extra Entity, I think I&#39;ll try with a <code>UserAndOrganizationToRole</code> Entity and a User has a Set of those linked."}],"owner":{"account_id":413092,"reputation":965,"user_id":786532,"display_name":"andreas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658771905,"creation_date":1658771905,"question_id":73113453,"body_markdown":"I&#39;m trying to achieve the following with JPA: I have Users, Organizations and Roles. A User can have multiple Roles in a given Organization. He can also belong to multiple Organizations, and of course have different Roles per Organization.\r\n\r\nCurrently I would think that a schema for this should look like this (but also open to alternative aproaches):\r\n\r\n    CREATE TABLE user\r\n    (\r\n        id INT NOT NULL AUTO_INCREMENT\r\n    );\r\n    \r\n    CREATE TABLE role\r\n    (\r\n        id INT NOT NULL AUTO_INCREMENT\r\n    );\r\n    \r\n    CREATE TABLE organization\r\n    (\r\n        id INT NOT NULL AUTO_INCREMENT\r\n    );\r\n    \r\n    CREATE TABLE `user_and_organization_to_role`\r\n    (\r\n        `id`              INT NOT NULL AUTO_INCREMENT,\r\n        `fk_user`         INT NOT NULL REFERENCES user (id),\r\n        `fk_organization` INT NOT NULL REFERENCES organization (id),\r\n        `fk_role`         INT NOT NULL REFERENCES role (id),\r\n        PRIMARY KEY (`id`),\r\n        UNIQUE KEY (`fk_user`, `fk_organization`, `fk_role`)\r\n    );\r\n\r\nI wouldn&#39;t have problems checking roles with native SQL Queries, but I would like to model this in JPA to use the Hibernate Metamodel and Criteria API to implement permission checks.\r\n\r\nI thought that something like this would be achievable, even though I&#39;m not 100% sure if I&#39;ll reach my goal with Criteria API then:\r\n\r\n    @Entity\r\n    public class Organization {\r\n    }\r\n    \r\n    @Entity\r\n    public class Role {\r\n    }\r\n    \r\n    @Entity\r\n    public class User {\r\n        private Map&lt;Organization, List&lt;Role&gt;&gt; organizationToRoles;\r\n    }\r\n\r\nUnfortunately I didn&#39;t manage to find a way for the correct annotation, so organizationToRoles is mapped correctly. And even though I would think that is a common problem I didn&#39;t find a tutorial that explains how to do this.\r\n\r\nCould somebody tell me if such a map is doable with JPA at all, and maybe give an example?\r\n\r\nOr if it is not possible to directly have a `Map&lt;Organization, List&lt;Role&gt;&gt; organizationToRoles` in `User`, how a mapping could be achived, e.g. with an intermediate Entity that forms the relation between User, Organization and Roles?","title":"Model relationship &quot;User has different Roles per Organization&quot;","body":"<p>I'm trying to achieve the following with JPA: I have Users, Organizations and Roles. A User can have multiple Roles in a given Organization. He can also belong to multiple Organizations, and of course have different Roles per Organization.</p>\n<p>Currently I would think that a schema for this should look like this (but also open to alternative aproaches):</p>\n<pre><code>CREATE TABLE user\n(\n    id INT NOT NULL AUTO_INCREMENT\n);\n\nCREATE TABLE role\n(\n    id INT NOT NULL AUTO_INCREMENT\n);\n\nCREATE TABLE organization\n(\n    id INT NOT NULL AUTO_INCREMENT\n);\n\nCREATE TABLE `user_and_organization_to_role`\n(\n    `id`              INT NOT NULL AUTO_INCREMENT,\n    `fk_user`         INT NOT NULL REFERENCES user (id),\n    `fk_organization` INT NOT NULL REFERENCES organization (id),\n    `fk_role`         INT NOT NULL REFERENCES role (id),\n    PRIMARY KEY (`id`),\n    UNIQUE KEY (`fk_user`, `fk_organization`, `fk_role`)\n);\n</code></pre>\n<p>I wouldn't have problems checking roles with native SQL Queries, but I would like to model this in JPA to use the Hibernate Metamodel and Criteria API to implement permission checks.</p>\n<p>I thought that something like this would be achievable, even though I'm not 100% sure if I'll reach my goal with Criteria API then:</p>\n<pre><code>@Entity\npublic class Organization {\n}\n\n@Entity\npublic class Role {\n}\n\n@Entity\npublic class User {\n    private Map&lt;Organization, List&lt;Role&gt;&gt; organizationToRoles;\n}\n</code></pre>\n<p>Unfortunately I didn't manage to find a way for the correct annotation, so organizationToRoles is mapped correctly. And even though I would think that is a common problem I didn't find a tutorial that explains how to do this.</p>\n<p>Could somebody tell me if such a map is doable with JPA at all, and maybe give an example?</p>\n<p>Or if it is not possible to directly have a <code>Map&lt;Organization, List&lt;Role&gt;&gt; organizationToRoles</code> in <code>User</code>, how a mapping could be achived, e.g. with an intermediate Entity that forms the relation between User, Organization and Roles?</p>\n"},{"tags":["java","position","swt","mouse-cursor"],"answers":[{"tags":[],"owner":{"account_id":248455,"reputation":1393,"user_id":2638563,"accept_rate":88,"display_name":"Kaadzia"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1377157746,"creation_date":1377085452,"answer_id":18356517,"question_id":18356516,"body_markdown":"This gets the Cursor position **relative to the current Display**:\r\n\r\n    import org.eclipse.swt.widgets.Display;\r\n    [...]\r\n    Point cursorLocation = Display.getCurrent().getCursorLocation();\r\n\r\n&lt;br /&gt;\r\n\r\nTo get the position **relative to the focused Control** you have to translate it:\r\n\r\n    import org.eclipse.swt.widgets.Display;\r\n    [...]\r\n    Point cursorLocation = Display.getCurrent().getCursorLocation();\r\n    Point relativeCursorLocation = Display.getCurrent().getFocusControl().toControl(cursorLocation);\r\n\r\n","title":"How can I get the relative and absolute cursor position?","body":"<p>This gets the Cursor position <strong>relative to the current Display</strong>:</p>\n\n<pre><code>import org.eclipse.swt.widgets.Display;\n[...]\nPoint cursorLocation = Display.getCurrent().getCursorLocation();\n</code></pre>\n\n<p><br /></p>\n\n<p>To get the position <strong>relative to the focused Control</strong> you have to translate it:</p>\n\n<pre><code>import org.eclipse.swt.widgets.Display;\n[...]\nPoint cursorLocation = Display.getCurrent().getCursorLocation();\nPoint relativeCursorLocation = Display.getCurrent().getFocusControl().toControl(cursorLocation);\n</code></pre>\n"}],"owner":{"account_id":248455,"reputation":1393,"user_id":2638563,"accept_rate":88,"display_name":"Kaadzia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5234,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":18356517,"answer_count":1,"score":4,"last_activity_date":1658771779,"creation_date":1377085452,"question_id":18356516,"body_markdown":"How can I get the current **position of the Cursor** with SWT?\r\n\r\nI need:\r\n\r\n 1. The **absolute** position (only relative to the current `Display`)\r\n 2. The position **relative** to the currently active `Control`","title":"How can I get the relative and absolute cursor position?","body":"<p>How can I get the current <strong>position of the Cursor</strong> with SWT?</p>\n\n<p>I need:</p>\n\n<ol>\n<li>The <strong>absolute</strong> position (only relative to the current <code>Display</code>)</li>\n<li>The position <strong>relative</strong> to the currently active <code>Control</code></li>\n</ol>\n"},{"tags":["java","quarkus","graalvm","jdbi","graalvm-native-image"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1658149838,"post_id":73022125,"comment_id":128972157,"body_markdown":"If this hidden class has been generated for a lambda expression, an existing `loadAll` method must be declared by a functional interface. Then, the first thing to try, is to ensure that the interface and its method are included. What‚Äôs irritating, is that the caller is named `hasLoadAll`, which suggests that it is actually expected that the method could be absent.","body":"If this hidden class has been generated for a lambda expression, an existing <code>loadAll</code> method must be declared by a functional interface. Then, the first thing to try, is to ensure that the interface and its method are included. What‚Äôs irritating, is that the caller is named <code>hasLoadAll</code>, which suggests that it is actually expected that the method could be absent."},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":0,"creation_date":1658156289,"post_id":73022125,"comment_id":128975202,"body_markdown":"@Holger `loadAll` is a default method in the functional interface [`CacheLoader`](https://github.com/ben-manes/caffeine/blob/05a040c2478341bab8a58a02b3dc1fe14d626d72/caffeine/src/main/java/com/github/benmanes/caffeine/cache/CacheLoader.java#L86). Can `Class#getMethod` [in here](https://github.com/ben-manes/caffeine/blob/05a040c2478341bab8a58a02b3dc1fe14d626d72/caffeine/src/main/java/com/github/benmanes/caffeine/cache/LocalLoadingCache.java#L182) throw `NoSuchMethodException` as the lambda expression class did not override `loadAll`?","body":"@Holger <code>loadAll</code> is a default method in the functional interface <a href=\"https://github.com/ben-manes/caffeine/blob/05a040c2478341bab8a58a02b3dc1fe14d626d72/caffeine/src/main/java/com/github/benmanes/caffeine/cache/CacheLoader.java#L86\" rel=\"nofollow noreferrer\"><code>CacheLoader</code></a>. Can <code>Class#getMethod</code> <a href=\"https://github.com/ben-manes/caffeine/blob/05a040c2478341bab8a58a02b3dc1fe14d626d72/caffeine/src/main/java/com/github/benmanes/caffeine/cache/LocalLoadingCache.java#L182\" rel=\"nofollow noreferrer\">in here</a> throw <code>NoSuchMethodException</code> as the lambda expression class did not override <code>loadAll</code>?"},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":0,"creation_date":1658156546,"post_id":73022125,"comment_id":128975329,"body_markdown":"@Holger and [here](https://github.com/jdbi/jdbi/blob/d8b13aaec130d8086b083ef06db8f50ede817766/core/src/main/java/org/jdbi/v3/core/statement/CachingSqlParser.java#L30) is where the lambda expression is created.","body":"@Holger and <a href=\"https://github.com/jdbi/jdbi/blob/d8b13aaec130d8086b083ef06db8f50ede817766/core/src/main/java/org/jdbi/v3/core/statement/CachingSqlParser.java#L30\" rel=\"nofollow noreferrer\">here</a> is where the lambda expression is created."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1658160512,"post_id":73022125,"comment_id":128977029,"body_markdown":"Normally, `getMethod` will find an inherited method if no overriding method exists. But your environment isn‚Äôt the normal one. But note that besides warning, the `hasLoadAll` method does the right thing, i.e. `return false;` after encountering the `NoSuchMethodException`.","body":"Normally, <code>getMethod</code> will find an inherited method if no overriding method exists. But your environment isn‚Äôt the normal one. But note that besides warning, the <code>hasLoadAll</code> method does the right thing, i.e. <code>return false;</code> after encountering the <code>NoSuchMethodException</code>."},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1658165994,"post_id":73022125,"comment_id":128978973,"body_markdown":"It might be a case of the classes being initialized at build time causing the problem. Check out https://www.graalvm.org/22.1/reference-manual/native-image/ClassInitialization/#specifying-class-initialization-explicitly","body":"It might be a case of the classes being initialized at build time causing the problem. Check out <a href=\"https://www.graalvm.org/22.1/reference-manual/native-image/ClassInitialization/#specifying-class-initialization-explicitly\" rel=\"nofollow noreferrer\">graalvm.org/22.1/reference-manual/native-image/&hellip;</a>"},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":0,"creation_date":1658198907,"post_id":73022125,"comment_id":128986088,"body_markdown":"GraalVM team replied to me on Slack: &quot;Currently, that feature is not supported. There is a good chance that it would be implemented in a few months, but it is not available yet.&quot;","body":"GraalVM team replied to me on Slack: &quot;Currently, that feature is not supported. There is a good chance that it would be implemented in a few months, but it is not available yet.&quot;"},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":0,"creation_date":1658198915,"post_id":73022125,"comment_id":128986091,"body_markdown":"&quot;Unfortunately, there is no workaround at the moment. Config files has all the classes that should be reflectively called, but since lambda names are not stable in Java, we cannot have even a clue on which lambda reflection would be called. Native-Image needs to know all the reachable types at build time, and we need stable names or some other approach to make this possible. We are aware of the problem, and there are intentions for it to be solved, I just don&#39;t know when yet.&quot;","body":"&quot;Unfortunately, there is no workaround at the moment. Config files has all the classes that should be reflectively called, but since lambda names are not stable in Java, we cannot have even a clue on which lambda reflection would be called. Native-Image needs to know all the reachable types at build time, and we need stable names or some other approach to make this possible. We are aware of the problem, and there are intentions for it to be solved, I just don&#39;t know when yet.&quot;"},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":0,"creation_date":1658199033,"post_id":73022125,"comment_id":128986114,"body_markdown":"As workaround to omit the warning, I added this line into `application.properties`: `quarkus.log.category.&quot;com.github.benmanes.caffeine.cache.LocalLoadingCache&quot;.level=ERROR`","body":"As workaround to omit the warning, I added this line into <code>application.properties</code>: <code>quarkus.log.category.&quot;com.github.benmanes.caffeine.cache.Loc&zwnj;&#8203;alLoadingCache&quot;.leve&zwnj;&#8203;l=ERROR</code>"},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":0,"creation_date":1658507822,"post_id":73022125,"comment_id":129076868,"body_markdown":"https://github.com/jdbi/jdbi/issues/2071","body":"<a href=\"https://github.com/jdbi/jdbi/issues/2071\" rel=\"nofollow noreferrer\">github.com/jdbi/jdbi/issues/2071</a>"}],"answers":[{"tags":[],"owner":{"account_id":16314765,"reputation":33,"user_id":11782250,"display_name":"NO ONE"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658218254,"creation_date":1658218254,"answer_id":73033351,"question_id":73022125,"body_markdown":"Currently, reflection on lambda classes is not supported on Native Image. Configuration files expect the fully qualified name of the class that should be registered for reflection, serialization, etc. Lambda classes in the JDK don&#39;t have stable names, so we cannot store them in those files. We are aware of the problem, and we have in plan to fix it. I will let you know here as soon as it is done.\r\n\r\nUnfortunately, as far as I know, there is no workaround at the moment for what you need. The main problem is that on Native Image, we have a closed world principle, and all the types used at runtime must be known at build time. Therefore, all the lambdas will be created at build time. But since lambda names are unstable, at build time we don&#39;t have the same name as it would be in the `reflection-config.json` and we cannot write down lambdas in the configuration file.","title":"Lambda expression classes in GraalVM reflection configuration","body":"<p>Currently, reflection on lambda classes is not supported on Native Image. Configuration files expect the fully qualified name of the class that should be registered for reflection, serialization, etc. Lambda classes in the JDK don't have stable names, so we cannot store them in those files. We are aware of the problem, and we have in plan to fix it. I will let you know here as soon as it is done.</p>\n<p>Unfortunately, as far as I know, there is no workaround at the moment for what you need. The main problem is that on Native Image, we have a closed world principle, and all the types used at runtime must be known at build time. Therefore, all the lambdas will be created at build time. But since lambda names are unstable, at build time we don't have the same name as it would be in the <code>reflection-config.json</code> and we cannot write down lambdas in the configuration file.</p>\n"},{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658770954,"creation_date":1658770954,"answer_id":73113310,"question_id":73022125,"body_markdown":"The solution was simple. The default method `CacheLoader.loadAll` has to be included into `reflection-config.json`:\r\n\r\n    {&quot;name&quot;:&quot;com.github.benmanes.caffeine.cache.CacheLoader&quot;,&quot;methods&quot;:[{&quot;name&quot;:&quot;loadAll&quot;,&quot;parameterTypes&quot;:[&quot;java.lang.Iterable&quot;]}]}\r\n","title":"Lambda expression classes in GraalVM reflection configuration","body":"<p>The solution was simple. The default method <code>CacheLoader.loadAll</code> has to be included into <code>reflection-config.json</code>:</p>\n<pre><code>{&quot;name&quot;:&quot;com.github.benmanes.caffeine.cache.CacheLoader&quot;,&quot;methods&quot;:[{&quot;name&quot;:&quot;loadAll&quot;,&quot;parameterTypes&quot;:[&quot;java.lang.Iterable&quot;]}]}\n</code></pre>\n"}],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73113310,"answer_count":2,"score":2,"last_activity_date":1658770954,"creation_date":1658146249,"question_id":73022125,"body_markdown":"I am trying to run [JDBI](https://jdbi.org/) library in Quarkus native mode. By including all classes that are accessed via reflection to [reflection-config.json](https://gist.github.com/Eng-Fouad/7b5925481dd391fcc74487a68484b987), I was able to run it successfully.\r\n\r\nHowever, I still got this exception (as warning) at runtime upon calling:\r\n\r\n    Jdbi jdbi = Jdbi.create(agroalDataSource).installPlugin(new SqlObjectPlugin());\r\n\r\n&lt;!-- --&gt;\r\n\r\n```\r\n2022-07-18 09:33:32,935 [] WARNING [com.git.ben.caf.cac.LocalLoadingCache] (main) Cannot determine if CacheLoader can bulk load: java.lang.NoSuchMethodException: org.jdbi.v3.core.statement.CachingSqlParser$$Lambda$1a0f8d592d890e8f26473320a5cdb05c88cf7099.loadAll(java.lang.Iterable)\r\n        at java.lang.Class.getMethod(DynamicHub.java:2227)\r\n        at com.github.benmanes.caffeine.cache.LocalLoadingCache.hasLoadAll(LocalLoadingCache.java:182)\r\n        at com.github.benmanes.caffeine.cache.LocalLoadingCache.newBulkMappingFunction(LocalLoadingCache.java:160)\r\n        at com.github.benmanes.caffeine.cache.BoundedLocalCache$BoundedLocalLoadingCache.&lt;init&gt;(BoundedLocalCache.java:3761)\r\n        at com.github.benmanes.caffeine.cache.Caffeine.build(Caffeine.java:1104)\r\n        at org.jdbi.v3.core.statement.CachingSqlParser.&lt;init&gt;(CachingSqlParser.java:30)\r\n        at org.jdbi.v3.core.statement.CachingSqlParser.&lt;init&gt;(CachingSqlParser.java:25)\r\n        at org.jdbi.v3.core.statement.ColonPrefixSqlParser.&lt;init&gt;(ColonPrefixSqlParser.java:41)\r\n        at org.jdbi.v3.core.statement.SqlStatements.&lt;init&gt;(SqlStatements.java:53)\r\n        at java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n        at com.oracle.svm.methodhandles.Util_java_lang_invoke_MethodHandle.invokeInternal(Target_java_lang_invoke_MethodHandle.java:205)\r\n        at java.lang.invoke.MethodHandle.invokeBasic(MethodHandle.java:76)\r\n        at java.lang.invoke.MethodHandle.invokeBasic(MethodHandle.java:0)\r\n        at java.lang.invoke.Invokers$Holder.invokeExact_MT(Invokers$Holder)\r\n        at org.jdbi.v3.core.config.ConfigRegistry.lambda$configFactory$3(ConfigRegistry.java:100)\r\n        at org.jdbi.v3.core.internal.exceptions.Unchecked.lambda$function$4(Unchecked.java:76)\r\n        at org.jdbi.v3.core.config.ConfigRegistry.get(ConfigRegistry.java:78)\r\n        at org.jdbi.v3.core.config.ConfigRegistry.&lt;init&gt;(ConfigRegistry.java:47)\r\n        at org.jdbi.v3.core.Jdbi.&lt;init&gt;(Jdbi.java:58)\r\n        at org.jdbi.v3.core.Jdbi.create(Jdbi.java:109)\r\n        at org.jdbi.v3.core.Jdbi.create(Jdbi.java:93)\r\n```\r\n\r\nI tried adding the lambda expression class to `reflection-config.json` but that didn&#39;t solve it:\r\n\r\n```\r\n  {\r\n    &quot;name&quot; : &quot;org.jdbi.v3.core.statement.CachingSqlParser$$Lambda$1a0f8d592d890e8f26473320a5cdb05c88cf7099&quot;,\r\n    &quot;allDeclaredConstructors&quot; : true,\r\n    &quot;allPublicConstructors&quot; : true,\r\n    &quot;allDeclaredMethods&quot; : true,\r\n    &quot;allPublicMethods&quot; : true,\r\n    &quot;allDeclaredFields&quot; : true,\r\n    &quot;allPublicFields&quot; : true,\r\n    &quot;queryAllDeclaredConstructors&quot; : true,\r\n    &quot;queryAllPublicConstructors&quot; : true,\r\n    &quot;queryAllDeclaredMethods&quot; : true,\r\n    &quot;queryAllPublicMethods&quot; : true,\r\n    &quot;allDeclaredClasses&quot; : true,\r\n    &quot;allPublicClasses&quot; : true\r\n  }\r\n```\r\n\r\nI got this warning message at generating native image:\r\n\r\n    Warning: Could not resolve org.jdbi.v3.core.statement.CachingSqlParser$$Lambda$1a0f8d592d890e8f26473320a5cdb05c88cf7099 for reflection configuration. Reason: java.lang.ClassNotFoundException: org.jdbi.v3.core.statement.CachingSqlParser$$Lambda$1a0f8d592d890e8f26473320a5cdb05c88cf7099.\r\n\r\n\r\nHow to include lambda expression classes into [`reflection-config`](https://github.com/oracle/graal/blob/master/docs/reference-manual/native-image/Reflection.md)?","title":"Lambda expression classes in GraalVM reflection configuration","body":"<p>I am trying to run <a href=\"https://jdbi.org/\" rel=\"nofollow noreferrer\">JDBI</a> library in Quarkus native mode. By including all classes that are accessed via reflection to <a href=\"https://gist.github.com/Eng-Fouad/7b5925481dd391fcc74487a68484b987\" rel=\"nofollow noreferrer\">reflection-config.json</a>, I was able to run it successfully.</p>\n<p>However, I still got this exception (as warning) at runtime upon calling:</p>\n<pre><code>Jdbi jdbi = Jdbi.create(agroalDataSource).installPlugin(new SqlObjectPlugin());\n</code></pre>\n\n<pre><code>2022-07-18 09:33:32,935 [] WARNING [com.git.ben.caf.cac.LocalLoadingCache] (main) Cannot determine if CacheLoader can bulk load: java.lang.NoSuchMethodException: org.jdbi.v3.core.statement.CachingSqlParser$$Lambda$1a0f8d592d890e8f26473320a5cdb05c88cf7099.loadAll(java.lang.Iterable)\n        at java.lang.Class.getMethod(DynamicHub.java:2227)\n        at com.github.benmanes.caffeine.cache.LocalLoadingCache.hasLoadAll(LocalLoadingCache.java:182)\n        at com.github.benmanes.caffeine.cache.LocalLoadingCache.newBulkMappingFunction(LocalLoadingCache.java:160)\n        at com.github.benmanes.caffeine.cache.BoundedLocalCache$BoundedLocalLoadingCache.&lt;init&gt;(BoundedLocalCache.java:3761)\n        at com.github.benmanes.caffeine.cache.Caffeine.build(Caffeine.java:1104)\n        at org.jdbi.v3.core.statement.CachingSqlParser.&lt;init&gt;(CachingSqlParser.java:30)\n        at org.jdbi.v3.core.statement.CachingSqlParser.&lt;init&gt;(CachingSqlParser.java:25)\n        at org.jdbi.v3.core.statement.ColonPrefixSqlParser.&lt;init&gt;(ColonPrefixSqlParser.java:41)\n        at org.jdbi.v3.core.statement.SqlStatements.&lt;init&gt;(SqlStatements.java:53)\n        at java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n        at com.oracle.svm.methodhandles.Util_java_lang_invoke_MethodHandle.invokeInternal(Target_java_lang_invoke_MethodHandle.java:205)\n        at java.lang.invoke.MethodHandle.invokeBasic(MethodHandle.java:76)\n        at java.lang.invoke.MethodHandle.invokeBasic(MethodHandle.java:0)\n        at java.lang.invoke.Invokers$Holder.invokeExact_MT(Invokers$Holder)\n        at org.jdbi.v3.core.config.ConfigRegistry.lambda$configFactory$3(ConfigRegistry.java:100)\n        at org.jdbi.v3.core.internal.exceptions.Unchecked.lambda$function$4(Unchecked.java:76)\n        at org.jdbi.v3.core.config.ConfigRegistry.get(ConfigRegistry.java:78)\n        at org.jdbi.v3.core.config.ConfigRegistry.&lt;init&gt;(ConfigRegistry.java:47)\n        at org.jdbi.v3.core.Jdbi.&lt;init&gt;(Jdbi.java:58)\n        at org.jdbi.v3.core.Jdbi.create(Jdbi.java:109)\n        at org.jdbi.v3.core.Jdbi.create(Jdbi.java:93)\n</code></pre>\n<p>I tried adding the lambda expression class to <code>reflection-config.json</code> but that didn't solve it:</p>\n<pre><code>  {\n    &quot;name&quot; : &quot;org.jdbi.v3.core.statement.CachingSqlParser$$Lambda$1a0f8d592d890e8f26473320a5cdb05c88cf7099&quot;,\n    &quot;allDeclaredConstructors&quot; : true,\n    &quot;allPublicConstructors&quot; : true,\n    &quot;allDeclaredMethods&quot; : true,\n    &quot;allPublicMethods&quot; : true,\n    &quot;allDeclaredFields&quot; : true,\n    &quot;allPublicFields&quot; : true,\n    &quot;queryAllDeclaredConstructors&quot; : true,\n    &quot;queryAllPublicConstructors&quot; : true,\n    &quot;queryAllDeclaredMethods&quot; : true,\n    &quot;queryAllPublicMethods&quot; : true,\n    &quot;allDeclaredClasses&quot; : true,\n    &quot;allPublicClasses&quot; : true\n  }\n</code></pre>\n<p>I got this warning message at generating native image:</p>\n<pre><code>Warning: Could not resolve org.jdbi.v3.core.statement.CachingSqlParser$$Lambda$1a0f8d592d890e8f26473320a5cdb05c88cf7099 for reflection configuration. Reason: java.lang.ClassNotFoundException: org.jdbi.v3.core.statement.CachingSqlParser$$Lambda$1a0f8d592d890e8f26473320a5cdb05c88cf7099.\n</code></pre>\n<p>How to include lambda expression classes into <a href=\"https://github.com/oracle/graal/blob/master/docs/reference-manual/native-image/Reflection.md\" rel=\"nofollow noreferrer\"><code>reflection-config</code></a>?</p>\n"},{"tags":["java","pdf","process","itext"],"answers":[{"tags":[],"owner":{"account_id":1779372,"reputation":76344,"user_id":1622493,"display_name":"Bruno Lowagie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1409236774,"creation_date":1409236774,"answer_id":25551595,"question_id":25550000,"body_markdown":"Let&#39;s split this problem into two separate problems. To calculate the DPI, you need two sets of values: a number of pixels and a distance in inch.\r\n\r\n 1. Number of pixels: you obtain the image and the image consists of pixels. You can retrieve the width and height of the image in pixels from the image. Let&#39;s say these values are `wPx` and `wPx`.\r\n 2. Distance in inch: you obtain the matrix which gives you values expressed in points. As 72 points equal 1 inch, you need to divide these values by 72. Let&#39;s say these values are `wInch` and `hInch`.\r\n\r\nNow you can calculate the DPI in the x direction like this: `wPx / wInch` and the DPI in the y direction like this: `hPx / hInch`.","title":"Getting Image DPI in PDF files using iText","body":"<p>Let's split this problem into two separate problems. To calculate the DPI, you need two sets of values: a number of pixels and a distance in inch.</p>\n\n<ol>\n<li>Number of pixels: you obtain the image and the image consists of pixels. You can retrieve the width and height of the image in pixels from the image. Let's say these values are <code>wPx</code> and <code>wPx</code>.</li>\n<li>Distance in inch: you obtain the matrix which gives you values expressed in points. As 72 points equal 1 inch, you need to divide these values by 72. Let's say these values are <code>wInch</code> and <code>hInch</code>.</li>\n</ol>\n\n<p>Now you can calculate the DPI in the x direction like this: <code>wPx / wInch</code> and the DPI in the y direction like this: <code>hPx / hInch</code>.</p>\n"},{"tags":[],"owner":{"account_id":9450746,"reputation":854,"user_id":7027725,"display_name":"PeteH32"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658770907,"creation_date":1658770907,"answer_id":73113305,"question_id":25550000,"body_markdown":"I think original answer (answered Aug 28, 2014) was for iText 5. A newer answer for iText 7 is here:\r\n\r\n - [https://kb.itextpdf.com/home/it7kb/faq/how-to-get-the-image-dpi-in-pdf][1]\r\n\r\nInfo from above link is pasted below:\r\n\r\n&gt; Now you don‚Äôt need to calculate the DPI values yourself. There is an ImageData class in iText 7 with built-in methods to solve your problem:\r\n\r\n    ImageData image = ImageDataFactory.create(IMG);\r\n    int x = image.getDpiX();\r\n    int y = image.getDpiY();\r\n\r\n\r\n  [1]: https://kb.itextpdf.com/home/it7kb/faq/how-to-get-the-image-dpi-in-pdf","title":"Getting Image DPI in PDF files using iText","body":"<p>I think original answer (answered Aug 28, 2014) was for iText 5. A newer answer for iText 7 is here:</p>\n<ul>\n<li><a href=\"https://kb.itextpdf.com/home/it7kb/faq/how-to-get-the-image-dpi-in-pdf\" rel=\"nofollow noreferrer\">https://kb.itextpdf.com/home/it7kb/faq/how-to-get-the-image-dpi-in-pdf</a></li>\n</ul>\n<p>Info from above link is pasted below:</p>\n<blockquote>\n<p>Now you don‚Äôt need to calculate the DPI values yourself. There is an ImageData class in iText 7 with built-in methods to solve your problem:</p>\n</blockquote>\n<pre><code>ImageData image = ImageDataFactory.create(IMG);\nint x = image.getDpiX();\nint y = image.getDpiY();\n</code></pre>\n"}],"owner":{"account_id":1363638,"reputation":35,"user_id":1300529,"display_name":"Finik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2942,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":25551595,"answer_count":2,"score":3,"last_activity_date":1658770907,"creation_date":1409232507,"question_id":25550000,"body_markdown":"I &#39;m trying to get information about scanned images that are saved into PDF files through iText (using Java).\r\n\r\nUsing [the answer and comments][1], I got width and height (either through Matrix, or through BufferedImage). The idea was to use the [answer][2] here to calculate the DPI, but I am a bit lost.\r\n\r\nAre these values (width and height) in pixels or points? Is there any other way to achieve this? There are a lot of answers on how to scale and save an image to a PDF file, but I didn&#39;t find any on how to read the width/height/scale of an image and be confident about the result.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15639593/how-to-find-images-in-a-pdf-and-draw-another-on-top-of-it/\r\n  [2]: https://stackoverflow.com/questions/6981439/browsing-pdf-page-content-problem-with-color-space-and-dpi","title":"Getting Image DPI in PDF files using iText","body":"<p>I 'm trying to get information about scanned images that are saved into PDF files through iText (using Java).</p>\n\n<p>Using <a href=\"https://stackoverflow.com/questions/15639593/how-to-find-images-in-a-pdf-and-draw-another-on-top-of-it/\">the answer and comments</a>, I got width and height (either through Matrix, or through BufferedImage). The idea was to use the <a href=\"https://stackoverflow.com/questions/6981439/browsing-pdf-page-content-problem-with-color-space-and-dpi\">answer</a> here to calculate the DPI, but I am a bit lost.</p>\n\n<p>Are these values (width and height) in pixels or points? Is there any other way to achieve this? There are a lot of answers on how to scale and save an image to a PDF file, but I didn't find any on how to read the width/height/scale of an image and be confident about the result.</p>\n"},{"tags":["java","resilience4j"],"answers":[{"tags":[],"owner":{"account_id":3622573,"reputation":1784,"user_id":5077433,"display_name":"Robert Winkler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1603092221,"creation_date":1603092221,"answer_id":64422804,"question_id":64280768,"body_markdown":"Just use a different fallbackMethod signature:\r\n\r\n```\r\npublic void fallbackMethod(BulkheadFullException ex){\r\n   log.info(&quot;The number of concurrency limit exceeded&quot;);\r\n   return null;\r\n} \r\n```","title":"resilience4j bulkhead skipping fallback method for certain type of exceptions","body":"<p>Just use a different fallbackMethod signature:</p>\n<pre><code>public void fallbackMethod(BulkheadFullException ex){\n   log.info(&quot;The number of concurrency limit exceeded&quot;);\n   return null;\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7340743,"reputation":1,"user_id":5590378,"display_name":"SANTIAGO BARBIERI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658770739,"creation_date":1658769232,"answer_id":73113007,"question_id":64280768,"body_markdown":"I think there is an issue with the latest Spring Boot and Spring Cloud version. I tested the old ones and the Bulkhead pattern worked for me.\r\n\r\nPlease, check my Maven POM.\r\n\r\nAdd the following Spring Boot version\r\n\t\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.3.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt;\r\n\t&lt;/parent&gt;\r\n\r\nAdd the following Spring Cloud and Resilience4j library version\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;Hoxton.SR1&lt;/spring-cloud.version&gt;\r\n\t\t&lt;resilience4j.version&gt;1.5.0&lt;/resilience4j.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t   &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;resilience4j-spring-boot2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${resilience4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nAdd the following dependencies\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;resilience4j-circuitbreaker&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${resilience4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;resilience4j-timelimiter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${resilience4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;resilience4j-bulkhead&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${resilience4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\t","title":"resilience4j bulkhead skipping fallback method for certain type of exceptions","body":"<p>I think there is an issue with the latest Spring Boot and Spring Cloud version. I tested the old ones and the Bulkhead pattern worked for me.</p>\n<p>Please, check my Maven POM.</p>\n<p>Add the following Spring Boot version</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.2.3.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>Add the following Spring Cloud and Resilience4j library version</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;spring-cloud.version&gt;Hoxton.SR1&lt;/spring-cloud.version&gt;\n    &lt;resilience4j.version&gt;1.5.0&lt;/resilience4j.version&gt;\n&lt;/properties&gt;\n\n   &lt;dependency&gt;\n        &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n        &lt;artifactId&gt;resilience4j-spring-boot2&lt;/artifactId&gt;\n        &lt;version&gt;${resilience4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Add the following dependencies</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n        &lt;artifactId&gt;resilience4j-circuitbreaker&lt;/artifactId&gt;\n        &lt;version&gt;${resilience4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n        &lt;artifactId&gt;resilience4j-timelimiter&lt;/artifactId&gt;\n        &lt;version&gt;${resilience4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n        &lt;artifactId&gt;resilience4j-bulkhead&lt;/artifactId&gt;\n        &lt;version&gt;${resilience4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n"}],"owner":{"account_id":2877231,"reputation":109,"user_id":2468944,"display_name":"Robin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":868,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64422804,"answer_count":2,"score":0,"last_activity_date":1658770739,"creation_date":1602248993,"question_id":64280768,"body_markdown":"I use reslience4j bulkhead to limit number of active threads to one of my service method. When the thread limit exceeds the configuration it should go to a fallback method which is happening as expected. \r\n\r\nBut as part of business logic in my method  when the validation fails I throw BadRequestException with a custom message to my consumer. Here the control goes to a fallback method when the checkedException occurs too Ideally it should not be the case.\r\n\r\n So do we have any configuration to skip the control goes to fallback method on certain type of Exceptions similar to how do we have in Hystrix? \r\n\r\n    @Bulkhead(name=&quot;bhName&quot; fallbackMethod=&quot;fallbackMethod&quot;)\r\n    public void doSomething(){\r\n\r\n        //validatiion\r\n        // if validation succeeds\r\n             //do some business logic\r\n        // else if validation fails\r\n            throw BadRequestException(&quot;Error Message&quot;)\r\n    }\r\n\r\n    public void fallbackMethod(Exception ex){\r\n       log.info(&quot;The number of concurrency limit exceeded&quot;);\r\n       return null;\r\n    } ","title":"resilience4j bulkhead skipping fallback method for certain type of exceptions","body":"<p>I use reslience4j bulkhead to limit number of active threads to one of my service method. When the thread limit exceeds the configuration it should go to a fallback method which is happening as expected.</p>\n<p>But as part of business logic in my method  when the validation fails I throw BadRequestException with a custom message to my consumer. Here the control goes to a fallback method when the checkedException occurs too Ideally it should not be the case.</p>\n<p>So do we have any configuration to skip the control goes to fallback method on certain type of Exceptions similar to how do we have in Hystrix?</p>\n<pre><code>@Bulkhead(name=&quot;bhName&quot; fallbackMethod=&quot;fallbackMethod&quot;)\npublic void doSomething(){\n\n    //validatiion\n    // if validation succeeds\n         //do some business logic\n    // else if validation fails\n        throw BadRequestException(&quot;Error Message&quot;)\n}\n\npublic void fallbackMethod(Exception ex){\n   log.info(&quot;The number of concurrency limit exceeded&quot;);\n   return null;\n} \n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8833,"page":1159,"page_size":100}
