{"items":[{"tags":["java","javascript","jsp"],"comments":[{"owner":{"account_id":1266491,"reputation":58077,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"score":0,"creation_date":1367454566,"post_id":16328550,"comment_id":23385018,"body_markdown":"Please post some code. -1","body":"Please post some code. -1"},{"owner":{"account_id":226479,"reputation":2627,"user_id":487554,"accept_rate":92,"display_name":"CodingInCircles"},"score":0,"creation_date":1367455129,"post_id":16328550,"comment_id":23385144,"body_markdown":"Question edited. Please take a look.","body":"Question edited. Please take a look."}],"answers":[{"comments":[{"owner":{"account_id":226479,"reputation":2627,"user_id":487554,"accept_rate":92,"display_name":"CodingInCircles"},"score":1,"creation_date":1367455845,"post_id":16328583,"comment_id":23385299,"body_markdown":"I don&#39;t want it to go to blank. I want it remain in the same page that it is getting clicked from. I tried the code you posted, but to no avail. What could be wrong?","body":"I don&#39;t want it to go to blank. I want it remain in the same page that it is getting clicked from. I tried the code you posted, but to no avail. What could be wrong?"},{"owner":{"account_id":1298020,"reputation":776,"user_id":1248565,"display_name":"fbiagi"},"score":0,"creation_date":1367460782,"post_id":16328583,"comment_id":23386328,"body_markdown":"_blank will open a new tab/window","body":"_blank will open a new tab/window"},{"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"score":0,"creation_date":1676473352,"post_id":16328583,"comment_id":133144024,"body_markdown":"this will redirect wont work as per requirement","body":"this will redirect wont work as per requirement"}],"tags":[],"owner":{"account_id":1529623,"reputation":27083,"user_id":1427161,"accept_rate":86,"display_name":"doublesharp"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1367454708,"creation_date":1367454708,"answer_id":16328583,"question_id":16328550,"body_markdown":"It sounds like you are using an on click event, make sure that it returns false to stay on the same page.\r\n\r\n    &lt;a href=&quot;#&quot; onclick=&quot;window.open(/* http://example.com/file.txt */); return false&quot;&gt;click me&lt;/a&gt;\r\n\r\n\r\nIf you are not using javascript, set the target to a blank page using `_blank`.\r\n\r\n    &lt;a href=&quot;http://example.com/file.txt&quot; target=&quot;_blank&quot;&gt;click me&lt;/a&gt;","title":"How to make a page remain and not redirect when downloading a file?","body":"<p>It sounds like you are using an on click event, make sure that it returns false to stay on the same page.</p>\n\n<pre><code>&lt;a href=\"#\" onclick=\"window.open(/* http://example.com/file.txt */); return false\"&gt;click me&lt;/a&gt;\n</code></pre>\n\n<p>If you are not using javascript, set the target to a blank page using <code>_blank</code>.</p>\n\n<pre><code>&lt;a href=\"http://example.com/file.txt\" target=\"_blank\"&gt;click me&lt;/a&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679034165,"creation_date":1679034165,"answer_id":75764344,"question_id":16328550,"body_markdown":"I have following code that wont redirect and download following is working code\r\n\r\n    function DownloadFileWithoutRedirect() {\r\n    \r\n    \t//url must be hosted else cors issue will come\r\n    \t//url is entire file url - http://doman.com/test.pdf\r\n    \tvar url = window.location.origin+&quot;/docs/test.pdf&quot;;\r\n    \tvar request = new XMLHttpRequest();\r\n    \t\r\n    \trequest.open(&#39;GET&#39;, url, true);\r\n    \trequest.responseType = &#39;blob&#39;;\r\n    \trequest.setRequestHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;)\r\n    \t\r\n    \trequest.onload = function() {\r\n    \t\tvar reader = new FileReader();\r\n    \t\treader.readAsDataURL(request.response);\r\n    \t\treader.onload =  function(e){\r\n    \t\t\tvar link = document.createElement(&quot;a&quot;)\r\n    \t\t\tlink.href = e.target.result;\r\n    \t\t\tlink.download = &quot;download.pdf&quot;;//filename that is kept for dowloading file\r\n    \t\t\tlink.click();\r\n    \t\t\tURL.revokeObjectURL(link.href);\r\n    \t\t};\r\n    \t};\r\n    \trequest.send();\r\n    \t\r\n    }\r\n\r\nThis solution makes a get call and a blob response which will be downloading the file without redirect. Further full code is illustrated in Spring Boot + Thymeleaf \r\n(Solution is not dependent on Java) For avoiding cors its tested in such a way. I hope following will be helpfull\r\n\r\n\r\nStartWebApplication.java\r\n\r\n    package com.mkyong;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class StartWebApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(StartWebApplication.class, args);\r\n        }\r\n    \r\n    }\r\n\r\nWelcomeController.java\r\n\r\n    package com.mkyong.controller;\r\n    \r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    \r\n    @Controller\r\n    public class WelcomeController {\r\n    \t\r\n        @Value(&quot;${welcome.message}&quot;)\r\n        private String message;\r\n        \r\n        @GetMapping(&quot;/&quot;)\r\n        public String main(Model model) {\r\n            model.addAttribute(&quot;message&quot;, message);\r\n            return &quot;welcome&quot;; //view\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nWelcome.html\r\n\r\n    &lt;!DOCTYPE HTML&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;utf-8&quot;&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\r\n        &lt;title&gt;Spring Boot Thymeleaf Hello World Example&lt;/title&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{webjars/bootstrap/4.2.1/css/bootstrap.min.css}&quot;/&gt;\r\n    &lt;/head&gt;\r\n    \r\n    &lt;body&gt;\r\n    \r\n    &lt;main role=&quot;main&quot; class=&quot;container&quot;&gt;\r\n    \r\n        &lt;div class=&quot;starter-template&quot;&gt;\r\n            &lt;button class=&quot;btn&quot; value=&quot;download&quot; onClick=&quot;DownloadFileWithoutRedirect()&quot; &gt;Download&lt;/button&gt;\r\n        &lt;/div&gt;\r\n    \t\r\n    &lt;/main&gt;\r\n    &lt;!-- /.container --&gt;\r\n    \r\n    \r\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{webjars/jquery/3.6.4/jquery.min.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{webjars/bootstrap/4.2.1/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\r\n    \r\n    &lt;script&gt;\r\n    \r\n    function DownloadFileWithoutRedirect() {\r\n    \r\n    \t//url must be hosted else cors issue will come\r\n    \t//url is entire file url - http://localhost:1818/docs/test.pdf\r\n    \tvar url = window.location.origin+&quot;/docs/test.pdf&quot;;\r\n    \tvar request = new XMLHttpRequest();\r\n    \t\r\n    \trequest.open(&#39;GET&#39;, url, true);\r\n    \trequest.responseType = &#39;blob&#39;;\r\n    \trequest.setRequestHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;)\r\n    \t\r\n    \trequest.onload = function() {\r\n    \t\tvar reader = new FileReader();\r\n    \t\treader.readAsDataURL(request.response);\r\n    \t\treader.onload =  function(e){\r\n    \t\t\tvar link = document.createElement(&quot;a&quot;)\r\n    \t\t\tlink.href = e.target.result;\r\n    \t\t\tlink.download = &quot;download.pdf&quot;;//filename that is kept for dowloading file\r\n    \t\t\tlink.click();\r\n    \t\t\tURL.revokeObjectURL(link.href);\r\n    \t\t};\r\n    \t};\r\n    \trequest.send();\r\n    \t\r\n    }\r\n    &lt;/script&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nand pom\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;artifactId&gt;web-thymeleaf&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;name&gt;Spring Boot Web Thymeleaf Example&lt;/name&gt;\r\n    \t&lt;description&gt;Spring Boot Web Thymeleaf Example&lt;/description&gt;\r\n    \t&lt;version&gt;1.0&lt;/version&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;bootstrap.version&gt;4.2.1&lt;/bootstrap.version&gt;\r\n    \t\t&lt;jquery.version&gt;3.6.4&lt;/jquery.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-devtools --&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- web mvc --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- thymeleaf --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- test --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- hot swapping, disable cache for template, enable live reload --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Optional, for bootstrap --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${bootstrap.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.webjars/jquery --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jquery&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jquery.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \r\n    \t\t\t&lt;!-- Package as an executable jar/war --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;addResources&gt;true&lt;/addResources&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.22.0&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t&lt;/plugins&gt;\r\n    \r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThis is a sample project from [mkyong][1] in which onclick file download is incorporated \r\n\r\n\r\n  [1]: https://mkyong.com/spring-boot/spring-boot-hello-world-example-thymeleaf/","title":"How to make a page remain and not redirect when downloading a file?","body":"<p>I have following code that wont redirect and download following is working code</p>\n<pre><code>function DownloadFileWithoutRedirect() {\n\n    //url must be hosted else cors issue will come\n    //url is entire file url - http://doman.com/test.pdf\n    var url = window.location.origin+&quot;/docs/test.pdf&quot;;\n    var request = new XMLHttpRequest();\n    \n    request.open('GET', url, true);\n    request.responseType = 'blob';\n    request.setRequestHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;)\n    \n    request.onload = function() {\n        var reader = new FileReader();\n        reader.readAsDataURL(request.response);\n        reader.onload =  function(e){\n            var link = document.createElement(&quot;a&quot;)\n            link.href = e.target.result;\n            link.download = &quot;download.pdf&quot;;//filename that is kept for dowloading file\n            link.click();\n            URL.revokeObjectURL(link.href);\n        };\n    };\n    request.send();\n    \n}\n</code></pre>\n<p>This solution makes a get call and a blob response which will be downloading the file without redirect. Further full code is illustrated in Spring Boot + Thymeleaf\n(Solution is not dependent on Java) For avoiding cors its tested in such a way. I hope following will be helpfull</p>\n<p>StartWebApplication.java</p>\n<pre><code>package com.mkyong;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class StartWebApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(StartWebApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>WelcomeController.java</p>\n<pre><code>package com.mkyong.controller;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class WelcomeController {\n    \n    @Value(&quot;${welcome.message}&quot;)\n    private String message;\n    \n    @GetMapping(&quot;/&quot;)\n    public String main(Model model) {\n        model.addAttribute(&quot;message&quot;, message);\n        return &quot;welcome&quot;; //view\n    }\n\n\n}\n</code></pre>\n<p>Welcome.html</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\n    &lt;title&gt;Spring Boot Thymeleaf Hello World Example&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{webjars/bootstrap/4.2.1/css/bootstrap.min.css}&quot;/&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;main role=&quot;main&quot; class=&quot;container&quot;&gt;\n\n    &lt;div class=&quot;starter-template&quot;&gt;\n        &lt;button class=&quot;btn&quot; value=&quot;download&quot; onClick=&quot;DownloadFileWithoutRedirect()&quot; &gt;Download&lt;/button&gt;\n    &lt;/div&gt;\n    \n&lt;/main&gt;\n&lt;!-- /.container --&gt;\n\n\n&lt;script type=&quot;text/javascript&quot; th:src=&quot;@{webjars/jquery/3.6.4/jquery.min.js}&quot;&gt;&lt;/script&gt;\n&lt;script type=&quot;text/javascript&quot; th:src=&quot;@{webjars/bootstrap/4.2.1/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\n\n&lt;script&gt;\n\nfunction DownloadFileWithoutRedirect() {\n\n    //url must be hosted else cors issue will come\n    //url is entire file url - http://localhost:1818/docs/test.pdf\n    var url = window.location.origin+&quot;/docs/test.pdf&quot;;\n    var request = new XMLHttpRequest();\n    \n    request.open('GET', url, true);\n    request.responseType = 'blob';\n    request.setRequestHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;)\n    \n    request.onload = function() {\n        var reader = new FileReader();\n        reader.readAsDataURL(request.response);\n        reader.onload =  function(e){\n            var link = document.createElement(&quot;a&quot;)\n            link.href = e.target.result;\n            link.download = &quot;download.pdf&quot;;//filename that is kept for dowloading file\n            link.click();\n            URL.revokeObjectURL(link.href);\n        };\n    };\n    request.send();\n    \n}\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>and pom</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;web-thymeleaf&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;Spring Boot Web Thymeleaf Example&lt;/name&gt;\n    &lt;description&gt;Spring Boot Web Thymeleaf Example&lt;/description&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;bootstrap.version&gt;4.2.1&lt;/bootstrap.version&gt;\n        &lt;jquery.version&gt;3.6.4&lt;/jquery.version&gt;\n    &lt;/properties&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-devtools --&gt;\n\n    &lt;dependencies&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- web mvc --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- thymeleaf --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- hot swapping, disable cache for template, enable live reload --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Optional, for bootstrap --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;${bootstrap.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.webjars/jquery --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;jquery&lt;/artifactId&gt;\n            &lt;version&gt;${jquery.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n\n            &lt;!-- Package as an executable jar/war --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;addResources&gt;true&lt;/addResources&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is a sample project from <a href=\"https://mkyong.com/spring-boot/spring-boot-hello-world-example-thymeleaf/\" rel=\"nofollow noreferrer\">mkyong</a> in which onclick file download is incorporated</p>\n"},{"tags":[],"owner":{"account_id":25629836,"reputation":21,"user_id":19400377,"display_name":"JM."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679091486,"creation_date":1679091486,"answer_id":75772642,"question_id":16328550,"body_markdown":"Is not that hard if the file is already up and you are not generating it on your server side.\r\n\r\nCall an href an set a name to the file:\r\n\r\n    &lt;a class=&quot;badge text-bg-primary&quot; href=&quot;your_file_link.txt&quot; download=&quot;suggested_file_name&quot;&gt;Button text&lt;/a&gt;\r\n\r\nIs this helpful? Let me know.","title":"How to make a page remain and not redirect when downloading a file?","body":"<p>Is not that hard if the file is already up and you are not generating it on your server side.</p>\n<p>Call an href an set a name to the file:</p>\n<pre><code>&lt;a class=&quot;badge text-bg-primary&quot; href=&quot;your_file_link.txt&quot; download=&quot;suggested_file_name&quot;&gt;Button text&lt;/a&gt;\n</code></pre>\n<p>Is this helpful? Let me know.</p>\n"}],"owner":{"account_id":226479,"reputation":2627,"user_id":487554,"accept_rate":92,"display_name":"CodingInCircles"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4551,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":16328583,"answer_count":3,"score":2,"last_activity_date":1679091486,"creation_date":1367454468,"question_id":16328550,"body_markdown":"I have a JSP that has a link, which, when clicked, downloads a file. My problem is that when I click on the link, it goes to blank page and remains there. I would either like for it to return to the page the link was clicked from, or for it download without going to the blank page. Any ideas?\r\n\r\nCurrently, this is what my code looks like:\r\n\r\n    Please &lt;a href=&quot;https://webpath/filename.xls&quot;&gt;click here&lt;/a&gt; to see an example of a valid file.","title":"How to make a page remain and not redirect when downloading a file?","body":"<p>I have a JSP that has a link, which, when clicked, downloads a file. My problem is that when I click on the link, it goes to blank page and remains there. I would either like for it to return to the page the link was clicked from, or for it download without going to the blank page. Any ideas?</p>\n\n<p>Currently, this is what my code looks like:</p>\n\n<pre><code>Please &lt;a href=\"https://webpath/filename.xls\"&gt;click here&lt;/a&gt; to see an example of a valid file.\n</code></pre>\n"},{"tags":["java","android","javadoc"],"comments":[{"owner":{"account_id":17903324,"reputation":136,"user_id":13007101,"display_name":"Jo Bo"},"score":0,"creation_date":1633082736,"post_id":68429687,"comment_id":122671102,"body_markdown":"this isn&#39;t really a solution so I will not answer my own question, but it worked for a buddy of mine after he deinstalled and reinstalled Java completely (all his versions) and I suppose I could have tried that too","body":"this isn&#39;t really a solution so I will not answer my own question, but it worked for a buddy of mine after he deinstalled and reinstalled Java completely (all his versions) and I suppose I could have tried that too"}],"answers":[{"tags":[],"owner":{"account_id":19344277,"reputation":38,"user_id":14143168,"display_name":"TechFence"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679091426,"creation_date":1679091426,"answer_id":75772635,"question_id":68429687,"body_markdown":"Had the same issue. Here is how I solved it:\r\n1. In your build.gradle file, add this line\r\n\r\n    ````implementation files(pathtosdk)````\r\n\r\n2. Go to Tools -&gt; Generate Javadocs. In the command line args, add this line\r\n\r\n    ````-sourcepath pathtosdk````\r\n\r\nTo find the pathtosdk;\r\n\r\n- Change from Android to Project.\r\n- Open up External Libraries\r\n- Open up the directory that&#39;s named like &quot;Android  &lt;API Level&gt;&quot;\r\n- You should see an android.jar file\r\n- Right click and copy the absolute path. That is your pathtosdk.","title":"Android Studio Javadoc Generation error: cannot find symbol R","body":"<p>Had the same issue. Here is how I solved it:</p>\n<ol>\n<li><p>In your build.gradle file, add this line</p>\n<p><code>implementation files(pathtosdk)</code></p>\n</li>\n<li><p>Go to Tools -&gt; Generate Javadocs. In the command line args, add this line</p>\n<p><code>-sourcepath pathtosdk</code></p>\n</li>\n</ol>\n<p>To find the pathtosdk;</p>\n<ul>\n<li>Change from Android to Project.</li>\n<li>Open up External Libraries</li>\n<li>Open up the directory that's named like &quot;Android  &quot;</li>\n<li>You should see an android.jar file</li>\n<li>Right click and copy the absolute path. That is your pathtosdk.</li>\n</ul>\n"}],"owner":{"account_id":17903324,"reputation":136,"user_id":13007101,"display_name":"Jo Bo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":853,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75772635,"answer_count":1,"score":2,"last_activity_date":1679091426,"creation_date":1626615762,"question_id":68429687,"body_markdown":"I am trying to generate javadocs for a larger android project - using android studios built-in &quot;Tools &gt; Generate JavaDoc&quot;. I have tried different scopes (my module, a custom scope containing only the java files I created, Project Files, ...) but everytime there is a class included which uses `import com.my-app.R;` or a generated class such as `SomeFragmentBinding` for ViewBinding, I get an \r\n\r\n`error: cannot find symbol` from javadoc...\r\n\r\nApart from this problem the usual building and executing of the app is completely successful and works like a charm, although I get some some warnings regarding my database layout. Also I am using Hilt for Dependency Injection, but I don&#39;t really think that is related?\r\n\r\nNow I am a complete noob using gradle and my attempts to configure the javadoc task myself have failed - and from what I have found online this should generally work out-of-the-box.","title":"Android Studio Javadoc Generation error: cannot find symbol R","body":"<p>I am trying to generate javadocs for a larger android project - using android studios built-in &quot;Tools &gt; Generate JavaDoc&quot;. I have tried different scopes (my module, a custom scope containing only the java files I created, Project Files, ...) but everytime there is a class included which uses <code>import com.my-app.R;</code> or a generated class such as <code>SomeFragmentBinding</code> for ViewBinding, I get an</p>\n<p><code>error: cannot find symbol</code> from javadoc...</p>\n<p>Apart from this problem the usual building and executing of the app is completely successful and works like a charm, although I get some some warnings regarding my database layout. Also I am using Hilt for Dependency Injection, but I don't really think that is related?</p>\n<p>Now I am a complete noob using gradle and my attempts to configure the javadoc task myself have failed - and from what I have found online this should generally work out-of-the-box.</p>\n"},{"tags":["java","string","escaping","ansi-escape","color-codes"],"answers":[{"comments":[{"owner":{"account_id":16659185,"reputation":73,"user_id":12039606,"display_name":"Slayer Of Whales"},"score":0,"creation_date":1605504141,"post_id":64677848,"comment_id":114660656,"body_markdown":"I stopped needing a solution to this months ago, but thanks for the response to such an old question anyways! You my friend, are dedicated to helping those in need.","body":"I stopped needing a solution to this months ago, but thanks for the response to such an old question anyways! You my friend, are dedicated to helping those in need."},{"owner":{"account_id":6628105,"reputation":556,"user_id":5117772,"display_name":"EricChen1248"},"score":0,"creation_date":1605602703,"post_id":64677848,"comment_id":114693725,"body_markdown":"Yeah, I was looking for a solution to this problem myself. Came across your question, and no other solution, so devised one myself. Posted anyway for future people that have the same problem.","body":"Yeah, I was looking for a solution to this problem myself. Came across your question, and no other solution, so devised one myself. Posted anyway for future people that have the same problem."}],"tags":[],"owner":{"account_id":6628105,"reputation":556,"user_id":5117772,"display_name":"EricChen1248"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604483978,"creation_date":1604483978,"answer_id":64677848,"question_id":62300216,"body_markdown":"This isn&#39;t a very optimal way, but it should work if regex performance isn&#39;t a very big issue.\r\n\r\n```java\r\npublic static int getStringLengthWithoutANSI(String str) {\r\n    return str.replaceAll(&quot;(\\\\x9B|\\\\x1B\\\\[)[0-?]*[ -\\\\/]*[@-~]&quot;, &quot;&quot;).length();\r\n}\r\n```","title":"ANSI color escape sequence chars appearing inside String.length();","body":"<p>This isn't a very optimal way, but it should work if regex performance isn't a very big issue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int getStringLengthWithoutANSI(String str) {\n    return str.replaceAll(&quot;(\\\\x9B|\\\\x1B\\\\[)[0-?]*[ -\\\\/]*[@-~]&quot;, &quot;&quot;).length();\n}\n</code></pre>\n"}],"owner":{"account_id":16659185,"reputation":73,"user_id":12039606,"display_name":"Slayer Of Whales"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":864,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679091421,"creation_date":1591781378,"question_id":62300216,"body_markdown":"When coloring a String with an ANSI escape sequence, then taking the .length() of the String in question, it does not give the length of the visible part of the String, instead including part of the escape sequence. \n\n    import java.util.*;\n    \n    public class ColorTest {\n        public static void main(String[] args){\n            String RED    = &quot;\\u001B[31m&quot;;\n            String test = &quot;Test&quot;;\n    \n            // Prints length with color\n            System.out.println(test);\n            System.out.println(&quot;Length: &quot;+test.length());\n            \n            // Prints length with color\n            test = RED+test;\n            System.out.println(test);\n            System.out.println(&quot;Length: &quot;+test.length());\n    \n            // Prints every char found in the String\n            char[] testCharList = test.toCharArray();\n            for(char x : testCharList){\n                System.out.print(x+&quot; &quot;);\n            }\n            System.out.println(&quot; &quot;);\n    \n        }\n    }\n\noutput:\n[output][1]\n\nDue to the many different colors having different amounts of digits in their escape sequences, (Red being 31, and a bright red background being 101) a total subtraction of a set number from the String.length() number is not feasible. I am seeking a universal solution to this issue that will work for all colors, and combinations of them, where it only shows the displayed String&#39;s length. \n\n  [1]: https://i.stack.imgur.com/RGe25.png","title":"ANSI color escape sequence chars appearing inside String.length();","body":"<p>When coloring a String with an ANSI escape sequence, then taking the .length() of the String in question, it does not give the length of the visible part of the String, instead including part of the escape sequence.</p>\n<pre><code>import java.util.*;\n\npublic class ColorTest {\n    public static void main(String[] args){\n        String RED    = &quot;\\u001B[31m&quot;;\n        String test = &quot;Test&quot;;\n\n        // Prints length with color\n        System.out.println(test);\n        System.out.println(&quot;Length: &quot;+test.length());\n        \n        // Prints length with color\n        test = RED+test;\n        System.out.println(test);\n        System.out.println(&quot;Length: &quot;+test.length());\n\n        // Prints every char found in the String\n        char[] testCharList = test.toCharArray();\n        for(char x : testCharList){\n            System.out.print(x+&quot; &quot;);\n        }\n        System.out.println(&quot; &quot;);\n\n    }\n}\n</code></pre>\n<p>output:\n<a href=\"https://i.stack.imgur.com/RGe25.png\" rel=\"nofollow noreferrer\">output</a></p>\n<p>Due to the many different colors having different amounts of digits in their escape sequences, (Red being 31, and a bright red background being 101) a total subtraction of a set number from the String.length() number is not feasible. I am seeking a universal solution to this issue that will work for all colors, and combinations of them, where it only shows the displayed String's length.</p>\n"},{"tags":["java","terminal","printing","ansi-escape"],"comments":[{"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"score":0,"creation_date":1618213802,"post_id":67054407,"comment_id":118524405,"body_markdown":"You can replace the System.err with your own PrintStream with System.setErr(). In your own PrintStream you can append ANSI_RED and ANSI_RESET at the start and end of every line of output.","body":"You can replace the System.err with your own PrintStream with System.setErr(). In your own PrintStream you can append ANSI_RED and ANSI_RESET at the start and end of every line of output."},{"owner":{"account_id":19941048,"reputation":1475,"user_id":14911094,"display_name":"Jaysmito Mukherjee"},"score":0,"creation_date":1618214041,"post_id":67054407,"comment_id":118524525,"body_markdown":"@Alex yeah i think i would override the print method","body":"@Alex yeah i think i would override the print method"}],"answers":[{"comments":[{"owner":{"account_id":5719288,"reputation":51945,"user_id":4518274,"display_name":"Thomas Dickey"},"score":0,"creation_date":1618254573,"post_id":67054862,"comment_id":118542147,"body_markdown":"That can only work if you can guarantee that the `print` calls are flushed before any `println` (or other, related output method) is called.","body":"That can only work if you can guarantee that the <code>print</code> calls are flushed before any <code>println</code> (or other, related output method) is called."}],"tags":[],"owner":{"account_id":19941048,"reputation":1475,"user_id":14911094,"display_name":"Jaysmito Mukherjee"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1618215483,"creation_date":1618215483,"answer_id":67054862,"question_id":67054407,"body_markdown":"So, as suggested in the comments i made a class extending PrintStream and override `print and `println` methods.\r\n\r\nMy `PrintStream` class:\r\n\r\n    public class ErrorStreamPrinter extends PrintStream {\r\n    \r\n        public ErrorStreamPrinter(OutputStream out) {\r\n            super(out, true);\r\n        }\r\n    \r\n        @Override\r\n        public void print(String s) {\r\n            super.print(Constants.ANSI_RED);\r\n            super.print(s);\r\n            super.print(Constants.ANSI_RESET);\r\n        }\r\n    \r\n        @Override\r\n        public void println(String s) {\r\n            super.print(Constants.ANSI_RED);\r\n            super.print(s);\r\n            super.println(Constants.ANSI_RESET);\r\n        }\r\n    }\r\n\r\n","title":"Change color of output for different stream in terminal","body":"<p>So, as suggested in the comments i made a class extending PrintStream and override <code>print and </code>println` methods.</p>\n<p>My <code>PrintStream</code> class:</p>\n<pre><code>public class ErrorStreamPrinter extends PrintStream {\n\n    public ErrorStreamPrinter(OutputStream out) {\n        super(out, true);\n    }\n\n    @Override\n    public void print(String s) {\n        super.print(Constants.ANSI_RED);\n        super.print(s);\n        super.print(Constants.ANSI_RESET);\n    }\n\n    @Override\n    public void println(String s) {\n        super.print(Constants.ANSI_RED);\n        super.print(s);\n        super.println(Constants.ANSI_RESET);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19941048,"reputation":1475,"user_id":14911094,"display_name":"Jaysmito Mukherjee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67054862,"answer_count":1,"score":0,"last_activity_date":1679091195,"creation_date":1618213540,"question_id":67054407,"body_markdown":"First to clarify i am not talking about changing color in some ide&#39;s attached terminal but the normal terminal.\r\n\r\nSecondly My problem:\r\n\r\nI have 2 outputstreams both printing to system.out and system.err but i want the system.err one to print in red but the code just takes a stream and calls print and it is too big to change individually all the lines so is there a way that all the outputs to System.err will be red and System.out will be normal\r\n\r\nI tried adding ANSI RED escape code before the code segment for System.err but then out also prints red how can i do have only err as red output!\r\n\r\nMy code now:\r\n\r\n    public class Main {\r\n        public static final String ANSI_RED = &quot;\\u001B[31m&quot;;\r\n        public static final String ANSI_RESET = &quot;\\033[0m&quot;;\r\n        public static void main(String[] args) {\r\n            System.err.print(ANSI_RED);        \r\n            doSomePrinting(System.out, System.err); // This is some method which prints both to System.out and System.err\r\n            System.err.print(ANSI_RESET);        \r\n        }\r\n    }\r\n\r\nBut inside the do something method when i print to System.err it is red but System.out also becomes red!\r\n\r\nHow to solve this issue?\r\n\r\nNote : Please do not suggest to print ANSI_RED and ANSI_RESET before and after everything i print to System.err i know thats a solution but there are a lost of prints thus it will be very difficult to do it and it will be my last option if there are no other possible ways!","title":"Change color of output for different stream in terminal","body":"<p>First to clarify i am not talking about changing color in some ide's attached terminal but the normal terminal.</p>\n<p>Secondly My problem:</p>\n<p>I have 2 outputstreams both printing to system.out and system.err but i want the system.err one to print in red but the code just takes a stream and calls print and it is too big to change individually all the lines so is there a way that all the outputs to System.err will be red and System.out will be normal</p>\n<p>I tried adding ANSI RED escape code before the code segment for System.err but then out also prints red how can i do have only err as red output!</p>\n<p>My code now:</p>\n<pre><code>public class Main {\n    public static final String ANSI_RED = &quot;\\u001B[31m&quot;;\n    public static final String ANSI_RESET = &quot;\\033[0m&quot;;\n    public static void main(String[] args) {\n        System.err.print(ANSI_RED);        \n        doSomePrinting(System.out, System.err); // This is some method which prints both to System.out and System.err\n        System.err.print(ANSI_RESET);        \n    }\n}\n</code></pre>\n<p>But inside the do something method when i print to System.err it is red but System.out also becomes red!</p>\n<p>How to solve this issue?</p>\n<p>Note : Please do not suggest to print ANSI_RED and ANSI_RESET before and after everything i print to System.err i know thats a solution but there are a lost of prints thus it will be very difficult to do it and it will be my last option if there are no other possible ways!</p>\n"},{"tags":["java","colors","ansi-escape"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1619787401,"post_id":67334251,"comment_id":119016773,"body_markdown":"https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println","body":"<a href=\"https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println\" title=\"how to print color in console using system out println\">stackoverflow.com/questions/5762491/&hellip;</a>"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1619787544,"post_id":67334251,"comment_id":119016832,"body_markdown":"Does this answer your question? [How to print color in console using System.out.println?](https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println\">How to print color in console using System.out.println?</a>"},{"owner":{"account_id":16873911,"reputation":21,"user_id":13683171,"display_name":"Gabriel"},"score":0,"creation_date":1619967843,"post_id":67334251,"comment_id":119057590,"body_markdown":"Not yet, i also have this ANSI codes in my &quot;Cor&quot; object. The problem is when i print the color in terminal, thw \\  turns into a &lt;-, so the color does not apper.","body":"Not yet, i also have this ANSI codes in my &quot;Cor&quot; object. The problem is when i print the color in terminal, thw \\  turns into a &lt;-, so the color does not apper."}],"owner":{"account_id":16873911,"reputation":21,"user_id":13683171,"display_name":"Gabriel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679091170,"creation_date":1619787064,"question_id":67334251,"body_markdown":"I am working on a project and I figured out that when i try to print the ANSI color code, the application interpretate the code color as a &lt;-, as you can see in the images.\r\n\r\n\r\nTerminal Outut:\r\n\r\n![outPut Image][1]\r\n\r\n\r\nMy color codes:\r\n\r\n```\r\npublic final class BaseCodigoCores {\r\n\r\n    public static final String ANSI_RESET = &quot;\\u001B[0m&quot;;\r\n    public static final String TEXTO_ANSI_BLACK = &quot;\\u001B[30m&quot;;\r\n\r\n    public static final Cor ANSI_RED_BACKGROUND = new Cor(&quot;Vermelho&quot;,&quot;\\u001B[41m&quot;);\r\n    public static final Cor ANSI_GREEN_BACKGROUND =  new Cor(&quot;Verde&quot;,&quot;\\u001B[42m&quot;);\r\n    public static final Cor ANSI_YELLOW_BACKGROUND = new Cor(&quot;Amarelo&quot;, &quot;\\u001B[43m&quot;);\r\n    public static final Cor ANSI_BLUE_BACKGROUND = new Cor(&quot;Azul&quot;,&quot;\\u001B[44m&quot;);\r\n    public static final Cor ANSI_PURPLE_BACKGROUND = new Cor(&quot;Roxo&quot;,&quot;\\u001B[45m&quot;);\r\n    public static final Cor ANSI_CYAN_BACKGROUND = new Cor(&quot;Ciano&quot;, &quot;\\u001B[46m&quot;);\r\n    public static final Cor ANSI_WHITE_BACKGROUND = new Cor(&quot;Branco&quot;,&quot;\\u001B[47m&quot;);\r\n\r\n\r\n}\r\n```\r\n\r\nWould like to know how to change that configuration to able my terminal to print colors.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D5wMr.png","title":"I can&#39;t print colors in terminal with my Java Application","body":"<p>I am working on a project and I figured out that when i try to print the ANSI color code, the application interpretate the code color as a &lt;-, as you can see in the images.</p>\n<p>Terminal Outut:</p>\n<p><img src=\"https://i.stack.imgur.com/D5wMr.png\" alt=\"outPut Image\" /></p>\n<p>My color codes:</p>\n<pre><code>public final class BaseCodigoCores {\n\n    public static final String ANSI_RESET = &quot;\\u001B[0m&quot;;\n    public static final String TEXTO_ANSI_BLACK = &quot;\\u001B[30m&quot;;\n\n    public static final Cor ANSI_RED_BACKGROUND = new Cor(&quot;Vermelho&quot;,&quot;\\u001B[41m&quot;);\n    public static final Cor ANSI_GREEN_BACKGROUND =  new Cor(&quot;Verde&quot;,&quot;\\u001B[42m&quot;);\n    public static final Cor ANSI_YELLOW_BACKGROUND = new Cor(&quot;Amarelo&quot;, &quot;\\u001B[43m&quot;);\n    public static final Cor ANSI_BLUE_BACKGROUND = new Cor(&quot;Azul&quot;,&quot;\\u001B[44m&quot;);\n    public static final Cor ANSI_PURPLE_BACKGROUND = new Cor(&quot;Roxo&quot;,&quot;\\u001B[45m&quot;);\n    public static final Cor ANSI_CYAN_BACKGROUND = new Cor(&quot;Ciano&quot;, &quot;\\u001B[46m&quot;);\n    public static final Cor ANSI_WHITE_BACKGROUND = new Cor(&quot;Branco&quot;,&quot;\\u001B[47m&quot;);\n\n\n}\n</code></pre>\n<p>Would like to know how to change that configuration to able my terminal to print colors.</p>\n"},{"tags":["java","spring","internationalization","string-interpolation","getmessage"],"answers":[{"tags":[],"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676807048,"creation_date":1676794279,"answer_id":75498786,"question_id":75495019,"body_markdown":"\r\nYour code should work, but you have to modify it slightly\r\n\r\n     messageSource.getMessage(&quot;my.key&quot;, new Object[] { 4, 16 }, validLocale);\r\n\r\nAnd change your key to something like \r\n\r\n    my.key=A message specifying min: {0} and max: {1} parameters\r\n\r\nMessageSource doesn&#39;t support  named arguments (e.g. {min}). `min` and `max` in @Length are just attributes -- they have nothing to with the message.properties&#39; placeholders.","title":"How to resolve a message with named parameters from Spring&#39;s MessageSource","body":"<p>Your code should work, but you have to modify it slightly</p>\n<pre><code> messageSource.getMessage(&quot;my.key&quot;, new Object[] { 4, 16 }, validLocale);\n</code></pre>\n<p>And change your key to something like</p>\n<pre><code>my.key=A message specifying min: {0} and max: {1} parameters\n</code></pre>\n<p>MessageSource doesn't support  named arguments (e.g. {min}). <code>min</code> and <code>max</code> in @Length are just attributes -- they have nothing to with the message.properties' placeholders.</p>\n"},{"comments":[{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1676838986,"post_id":75502704,"comment_id":133213538,"body_markdown":"I suggest then that you  ask a different question regarding the Length annotation (or perhaps the Size annotation because that&#39;s what&#39;s usually recommended to use with Spring boot). Your question was about getting `MessageSource.getMessage` to work with named parameters and I addressed that question.","body":"I suggest then that you  ask a different question regarding the Length annotation (or perhaps the Size annotation because that&#39;s what&#39;s usually recommended to use with Spring boot). Your question was about getting <code>MessageSource.getMessage</code> to work with named parameters and I addressed that question."},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1676839628,"post_id":75502704,"comment_id":133213640,"body_markdown":"or you can add separate keys for your annotation and MessageSource. Sure, it&#39;s redunandant but like I said MessageSource doesn&#39;t support named parameters.","body":"or you can add separate keys for your annotation and MessageSource. Sure, it&#39;s redunandant but like I said MessageSource doesn&#39;t support named parameters."},{"owner":{"account_id":5489139,"reputation":183,"user_id":4363025,"display_name":"hicnar"},"score":0,"creation_date":1676840216,"post_id":75502704,"comment_id":133213720,"body_markdown":"Are you suggesting that there must be some external code (external to Spring, but present in SpringBoot or Thymeleaf) that makes it work in combination with named variables? To give more context, yes it is a SpringBoot app and it uses Thymeleaf and the code snippet with annotation I posted 100% works.","body":"Are you suggesting that there must be some external code (external to Spring, but present in SpringBoot or Thymeleaf) that makes it work in combination with named variables? To give more context, yes it is a SpringBoot app and it uses Thymeleaf and the code snippet with annotation I posted 100% works."},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1676840674,"post_id":75502704,"comment_id":133213796,"body_markdown":"the  classes annotated with Entity are normally under control of JPA/Hibernate, not Spring Boot or Thymeleaf. MessageSource, on the other hand, is purely Spring. That&#39;s why I think you&#39;re wrong in thinking there&#39;s a connection between the two.","body":"the  classes annotated with Entity are normally under control of JPA/Hibernate, not Spring Boot or Thymeleaf. MessageSource, on the other hand, is purely Spring. That&#39;s why I think you&#39;re wrong in thinking there&#39;s a connection between the two."},{"owner":{"account_id":5489139,"reputation":183,"user_id":4363025,"display_name":"hicnar"},"score":1,"creation_date":1676841273,"post_id":75502704,"comment_id":133213897,"body_markdown":"That&#39;s correct and it indeed could be that I quietly assumed MessageSource is capable of resolving messages with named parameters, but in fact there could be a different mechanism that implements that. Thanks for your suggestion and I will have another look.","body":"That&#39;s correct and it indeed could be that I quietly assumed MessageSource is capable of resolving messages with named parameters, but in fact there could be a different mechanism that implements that. Thanks for your suggestion and I will have another look."}],"tags":[],"owner":{"account_id":5489139,"reputation":183,"user_id":4363025,"display_name":"hicnar"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676833633,"creation_date":1676833262,"answer_id":75502704,"question_id":75495019,"body_markdown":"@dsp_user\r\n\r\nI know very well that if modified as you proposed it the code would work, but the following code has to work too:\r\n\r\n```\r\n    @Length(max = 4, min = 16, message = &quot;{my.key}&quot;) \r\n    private String username;\r\n```\r\nand it would cease to work if changed to what you suggested.","title":"How to resolve a message with named parameters from Spring&#39;s MessageSource","body":"<p>@dsp_user</p>\n<p>I know very well that if modified as you proposed it the code would work, but the following code has to work too:</p>\n<pre><code>    @Length(max = 4, min = 16, message = &quot;{my.key}&quot;) \n    private String username;\n</code></pre>\n<p>and it would cease to work if changed to what you suggested.</p>\n"},{"tags":[],"owner":{"account_id":1161864,"reputation":2061,"user_id":1141215,"display_name":"PJ_Finnegan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679091082,"creation_date":1679091082,"answer_id":75772605,"question_id":75495019,"body_markdown":"Confirmed that MessageSource doesn&#39;t support named parameters, only numbered ones, at least in the Spring version I&#39;m using (from the `pom.xml`):\r\n\r\n```\r\n&lt;parent&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.3.12.RELEASE&lt;/version&gt;\r\n\t&lt;relativePath /&gt;\r\n&lt;/parent&gt;\r\n```\r\n\r\nI&#39;ve debugged a test using a `ReloadableResourceBundleMessageSource` messageSource and here&#39;s the result.\r\n\r\nJava code line causing the exception:\r\n```\r\nString imsg = messageSource.getMessage(&quot;constraints.Size.message&quot;, new Object[] { 0, 255 }, Locale.getDefault());\r\n```\r\n\r\nContent of `messages_en.properties`:\r\n```\r\nconstraints.Size.message=A message specifying min: {min} and max: {max} parameters\r\n```\r\n\r\nException Stack trace:\r\n\r\n```\r\njava.lang.IllegalArgumentException: can&#39;t parse argument number: min\r\n\tat java.base/java.text.MessageFormat.makeFormat(MessageFormat.java:1451)\r\n\tat java.base/java.text.MessageFormat.applyPattern(MessageFormat.java:491)\r\n\tat java.base/java.text.MessageFormat.&lt;init&gt;(MessageFormat.java:390)\r\n\tat org.springframework.context.support.MessageSourceSupport.createMessageFormat(MessageSourceSupport.java:159)\r\n\tat org.springframework.context.support.ReloadableResourceBundleMessageSource$PropertiesHolder.getMessageFormat(ReloadableResourceBundleMessageSource.java:627)\r\n\tat org.springframework.context.support.ReloadableResourceBundleMessageSource.resolveCode(ReloadableResourceBundleMessageSource.java:206)\r\n\tat org.springframework.context.support.AbstractMessageSource.getMessageInternal(AbstractMessageSource.java:224)\r\n\tat org.springframework.context.support.AbstractMessageSource.getMessage(AbstractMessageSource.java:153)\r\n```\t\r\n\r\nDelving into `org.springframework.context.support.AbstractMessageSource.getMessageInternal()`:\r\n\r\n```\r\n\t/**\r\n\t * Resolve the given code and arguments as message in the given Locale,\r\n\t * returning {@code null} if not found. Does &lt;i&gt;not&lt;/i&gt; fall back to\r\n\t * the code as default message. Invoked by {@code getMessage} methods.\r\n\t * @param code the code to lookup up, such as &#39;calculator.noRateSet&#39;\r\n\t * @param args array of arguments that will be filled in for params\r\n\t * within the message\r\n\t * @param locale the locale in which to do the lookup\r\n\t * @return the resolved message, or {@code null} if not found\r\n\t * @see #getMessage(String, Object[], String, Locale)\r\n\t * @see #getMessage(String, Object[], Locale)\r\n\t * @see #getMessage(MessageSourceResolvable, Locale)\r\n\t * @see #setUseCodeAsDefaultMessage\r\n\t */\r\n\t@Nullable\r\n\tprotected String getMessageInternal(@Nullable String code, @Nullable Object[] args, @Nullable Locale locale) {\r\n\t\tif (code == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (locale == null) {\r\n\t\t\tlocale = Locale.getDefault();\r\n\t\t}\r\n\t\tObject[] argsToUse = args;\r\n\r\n\t\tif (!isAlwaysUseMessageFormat() &amp;&amp; ObjectUtils.isEmpty(args)) {\r\n\t\t\t// Optimized resolution: no arguments to apply,\r\n\t\t\t// therefore no MessageFormat needs to be involved.\r\n\t\t\t// Note that the default implementation still uses MessageFormat;\r\n\t\t\t// this can be overridden in specific subclasses.\r\n\t\t\tString message = resolveCodeWithoutArguments(code, locale);\r\n\t\t\tif (message != null) {\r\n\t\t\t\treturn message;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\telse {\r\n\t\t\t// Resolve arguments eagerly, for the case where the message\r\n\t\t\t// is defined in a parent MessageSource but resolvable arguments\r\n\t\t\t// are defined in the child MessageSource.\r\n\t\t\targsToUse = resolveArguments(args, locale);\r\n\r\n\t\t\tMessageFormat messageFormat = resolveCode(code, locale);\r\n\t\t\tif (messageFormat != null) {\r\n\t\t\t\tsynchronized (messageFormat) {\r\n\t\t\t\t\treturn messageFormat.format(argsToUse);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Check locale-independent common messages for the given message code.\r\n\t\tProperties commonMessages = getCommonMessages();\r\n\t\tif (commonMessages != null) {\r\n\t\t\tString commonMessage = commonMessages.getProperty(code);\r\n\t\t\tif (commonMessage != null) {\r\n\t\t\t\treturn formatMessage(commonMessage, args, locale);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Not found -&gt; check parent, if any.\r\n\t\treturn getMessageFromParent(code, argsToUse, locale);\r\n\t}\r\n```\r\n\r\nyou can see that when the code fails deep into `resolveCode(code, locale)`, the arguments `argsToUse` have not even been passed to it. So there&#39;s no way that by changing them for instance to a map, you can force a different behaviour from the `MessageResource` object.\r\n\r\nI think you might want to use a custom message interpolator, the same one used by whatever library is implementing the `javax.validation`, which is patently able to resolve named parameters.","title":"How to resolve a message with named parameters from Spring&#39;s MessageSource","body":"<p>Confirmed that MessageSource doesn't support named parameters, only numbered ones, at least in the Spring version I'm using (from the <code>pom.xml</code>):</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.3.12.RELEASE&lt;/version&gt;\n    &lt;relativePath /&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>I've debugged a test using a <code>ReloadableResourceBundleMessageSource</code> messageSource and here's the result.</p>\n<p>Java code line causing the exception:</p>\n<pre><code>String imsg = messageSource.getMessage(&quot;constraints.Size.message&quot;, new Object[] { 0, 255 }, Locale.getDefault());\n</code></pre>\n<p>Content of <code>messages_en.properties</code>:</p>\n<pre><code>constraints.Size.message=A message specifying min: {min} and max: {max} parameters\n</code></pre>\n<p>Exception Stack trace:</p>\n<pre><code>java.lang.IllegalArgumentException: can't parse argument number: min\n    at java.base/java.text.MessageFormat.makeFormat(MessageFormat.java:1451)\n    at java.base/java.text.MessageFormat.applyPattern(MessageFormat.java:491)\n    at java.base/java.text.MessageFormat.&lt;init&gt;(MessageFormat.java:390)\n    at org.springframework.context.support.MessageSourceSupport.createMessageFormat(MessageSourceSupport.java:159)\n    at org.springframework.context.support.ReloadableResourceBundleMessageSource$PropertiesHolder.getMessageFormat(ReloadableResourceBundleMessageSource.java:627)\n    at org.springframework.context.support.ReloadableResourceBundleMessageSource.resolveCode(ReloadableResourceBundleMessageSource.java:206)\n    at org.springframework.context.support.AbstractMessageSource.getMessageInternal(AbstractMessageSource.java:224)\n    at org.springframework.context.support.AbstractMessageSource.getMessage(AbstractMessageSource.java:153)\n</code></pre>\n<p>Delving into <code>org.springframework.context.support.AbstractMessageSource.getMessageInternal()</code>:</p>\n<pre><code>    /**\n     * Resolve the given code and arguments as message in the given Locale,\n     * returning {@code null} if not found. Does &lt;i&gt;not&lt;/i&gt; fall back to\n     * the code as default message. Invoked by {@code getMessage} methods.\n     * @param code the code to lookup up, such as 'calculator.noRateSet'\n     * @param args array of arguments that will be filled in for params\n     * within the message\n     * @param locale the locale in which to do the lookup\n     * @return the resolved message, or {@code null} if not found\n     * @see #getMessage(String, Object[], String, Locale)\n     * @see #getMessage(String, Object[], Locale)\n     * @see #getMessage(MessageSourceResolvable, Locale)\n     * @see #setUseCodeAsDefaultMessage\n     */\n    @Nullable\n    protected String getMessageInternal(@Nullable String code, @Nullable Object[] args, @Nullable Locale locale) {\n        if (code == null) {\n            return null;\n        }\n        if (locale == null) {\n            locale = Locale.getDefault();\n        }\n        Object[] argsToUse = args;\n\n        if (!isAlwaysUseMessageFormat() &amp;&amp; ObjectUtils.isEmpty(args)) {\n            // Optimized resolution: no arguments to apply,\n            // therefore no MessageFormat needs to be involved.\n            // Note that the default implementation still uses MessageFormat;\n            // this can be overridden in specific subclasses.\n            String message = resolveCodeWithoutArguments(code, locale);\n            if (message != null) {\n                return message;\n            }\n        }\n\n        else {\n            // Resolve arguments eagerly, for the case where the message\n            // is defined in a parent MessageSource but resolvable arguments\n            // are defined in the child MessageSource.\n            argsToUse = resolveArguments(args, locale);\n\n            MessageFormat messageFormat = resolveCode(code, locale);\n            if (messageFormat != null) {\n                synchronized (messageFormat) {\n                    return messageFormat.format(argsToUse);\n                }\n            }\n        }\n\n        // Check locale-independent common messages for the given message code.\n        Properties commonMessages = getCommonMessages();\n        if (commonMessages != null) {\n            String commonMessage = commonMessages.getProperty(code);\n            if (commonMessage != null) {\n                return formatMessage(commonMessage, args, locale);\n            }\n        }\n\n        // Not found -&gt; check parent, if any.\n        return getMessageFromParent(code, argsToUse, locale);\n    }\n</code></pre>\n<p>you can see that when the code fails deep into <code>resolveCode(code, locale)</code>, the arguments <code>argsToUse</code> have not even been passed to it. So there's no way that by changing them for instance to a map, you can force a different behaviour from the <code>MessageResource</code> object.</p>\n<p>I think you might want to use a custom message interpolator, the same one used by whatever library is implementing the <code>javax.validation</code>, which is patently able to resolve named parameters.</p>\n"}],"owner":{"account_id":5489139,"reputation":183,"user_id":4363025,"display_name":"hicnar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1681,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1679091082,"creation_date":1676740534,"question_id":75495019,"body_markdown":"I have resource bundle with one of the key/value pairs looking like:\r\n\r\n```\r\nmy.key=A message specifying min: {min} and max: {max} parameters\r\n```\r\n\r\nIt all works well when used with @Length annotation, Thymeleaf and validators. If error conditions are met the message gets resolved and displayed, however if I try to resolve the same message using the MessageSource.getMessage(...) method there&#39;s now way I can get this to work.\r\n\r\nI tried the following;\r\n\r\n```\r\nmessageSource.getMessage(&quot;my.key&quot;, new Object[] {Map.of(&quot;min&quot;, 4, &quot;max&quot;, 16)}, validLocale);\r\n\r\nalso \r\n\r\nmessageSource.getMessage(&quot;my.key&quot;, new Object[]{&quot;{min:4}&quot;, &quot;max:16&quot;}, validLocale);\r\n\r\n\r\n```\r\n\r\nAnd a few more things but every time I get IllegalArgumentException caused by NumberFormatException with the message: &quot;can&#39;t parse argument number: min&quot;\r\n\r\nWill appreciate any suggestions","title":"How to resolve a message with named parameters from Spring&#39;s MessageSource","body":"<p>I have resource bundle with one of the key/value pairs looking like:</p>\n<pre><code>my.key=A message specifying min: {min} and max: {max} parameters\n</code></pre>\n<p>It all works well when used with @Length annotation, Thymeleaf and validators. If error conditions are met the message gets resolved and displayed, however if I try to resolve the same message using the MessageSource.getMessage(...) method there's now way I can get this to work.</p>\n<p>I tried the following;</p>\n<pre><code>messageSource.getMessage(&quot;my.key&quot;, new Object[] {Map.of(&quot;min&quot;, 4, &quot;max&quot;, 16)}, validLocale);\n\nalso \n\nmessageSource.getMessage(&quot;my.key&quot;, new Object[]{&quot;{min:4}&quot;, &quot;max:16&quot;}, validLocale);\n\n\n</code></pre>\n<p>And a few more things but every time I get IllegalArgumentException caused by NumberFormatException with the message: &quot;can't parse argument number: min&quot;</p>\n<p>Will appreciate any suggestions</p>\n"},{"tags":["java","cloudflare","http-status-codes"],"owner":{"account_id":26173382,"reputation":1,"user_id":19857990,"display_name":"woomy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679090915,"creation_date":1679090915,"question_id":75772591,"body_markdown":"I would like to check the status code of a website. I was using a simple HEAD request for this purpose until now, but the website now implemented Cloudflare Turnstile so my code broke.\r\n\r\nHere is what I used:\r\n\r\n```\r\nHttpURLConnection huc = (HttpURLConnection) new URL(myURL).openConnection();\r\n        huc.setRequestMethod(&quot;HEAD&quot;);\r\n\r\n        System.out.println(huc.getResponseCode());\r\n```\r\n\r\n\r\nNo matter if myURL exists or not, I get HTTP code 403 (Forbidden). After looking up the cause of the problem, I searched &quot;java check status of cloudflare website&quot;. The result weren&#39;t related.","title":"How to check if a Cloudflare Turnstile protected website exists?","body":"<p>I would like to check the status code of a website. I was using a simple HEAD request for this purpose until now, but the website now implemented Cloudflare Turnstile so my code broke.</p>\n<p>Here is what I used:</p>\n<pre><code>HttpURLConnection huc = (HttpURLConnection) new URL(myURL).openConnection();\n        huc.setRequestMethod(&quot;HEAD&quot;);\n\n        System.out.println(huc.getResponseCode());\n</code></pre>\n<p>No matter if myURL exists or not, I get HTTP code 403 (Forbidden). After looking up the cause of the problem, I searched &quot;java check status of cloudflare website&quot;. The result weren't related.</p>\n"},{"tags":["java","spring-boot","apache-httpclient-4.x","apache-httpclient-5.x"],"answers":[{"tags":[],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1677163940,"creation_date":1677095427,"answer_id":75537517,"question_id":75536902,"body_markdown":"The `org.apache.hc.httpclient5.` imports had to be slightly different, as follows:\r\n\r\n\r\n    import org.apache.hc.client5.http.ssl.SSLConnectionSocketFactory;\r\n    import org.apache.hc.client5.http.ssl.TrustSelfSignedStrategy;\r\n    import org.apache.hc.core5.ssl.SSLContextBuilder;\r\n    import org.apache.hc.client5.http.impl.classic.CloseableHttpClient;\r\n    import org.apache.hc.client5.http.impl.classic.HttpClients;\r\n\r\nrather than\r\n\r\n    import org.apache.hc.httpclient5.conn.ssl.SSLConnectionSocketFactory;\r\n    import org.apache.hc.httpclient5.conn.ssl.TrustSelfSignedStrategy;\r\n    import org.apache.hc.httpclient5.impl.client.CloseableHttpClient;\r\n    import org.apache.hc.httpclient5.impl.client.HttpClients;\r\n    import org.apache.hc.httpclient5.ssl.SSLContextBuilder;","title":"&quot;Package org.apache.hc.httpclient5.conn.ssl does not exist&quot; on Spring Boot upgrade","body":"<p>The <code>org.apache.hc.httpclient5.</code> imports had to be slightly different, as follows:</p>\n<pre><code>import org.apache.hc.client5.http.ssl.SSLConnectionSocketFactory;\nimport org.apache.hc.client5.http.ssl.TrustSelfSignedStrategy;\nimport org.apache.hc.core5.ssl.SSLContextBuilder;\nimport org.apache.hc.client5.http.impl.classic.CloseableHttpClient;\nimport org.apache.hc.client5.http.impl.classic.HttpClients;\n</code></pre>\n<p>rather than</p>\n<pre><code>import org.apache.hc.httpclient5.conn.ssl.SSLConnectionSocketFactory;\nimport org.apache.hc.httpclient5.conn.ssl.TrustSelfSignedStrategy;\nimport org.apache.hc.httpclient5.impl.client.CloseableHttpClient;\nimport org.apache.hc.httpclient5.impl.client.HttpClients;\nimport org.apache.hc.httpclient5.ssl.SSLContextBuilder;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1468369,"reputation":159,"user_id":1392873,"display_name":"mandroid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679089859,"creation_date":1679089859,"answer_id":75772503,"question_id":75536902,"body_markdown":"I had the same problem when I tried to upgrade the spring framework version to `3.0.4` from `2.7.9`, and `spring-cloud-starter-vault-config:3.1.2` to `spring-cloud-starter-vault-config:4.0.0`. \r\n\r\nAfter some digging, I found out that `spring-cloud-starter-vault-config` requires two other vault dependencies: `spring-cloud-vault-config` and `spring-vault-core`. \r\n\r\n    [INFO] +- org.springframework.cloud:spring-cloud-starter-vault-config:jar:4.0.0:compile\r\n    [INFO] |  +- org.apache.httpcomponents.client5:httpclient5:jar:5.1.4:compile\r\n    [INFO] |  |  \\- org.apache.httpcomponents.core5:httpcore5-h2:jar:5.1.5:compile\r\n    [INFO] |  +- org.apache.httpcomponents.core5:httpcore5:jar:5.1.5:compile\r\n    [INFO] |  +- org.springframework.cloud:spring-cloud-starter:jar:3.1.5:compile\r\n    [INFO] |  |  +- org.springframework.cloud:spring-cloud-context:jar:3.1.5:compile\r\n    [INFO] |  |  +- org.springframework.cloud:spring-cloud-commons:jar:3.1.5:compile\r\n    [INFO] |  |  \\- org.springframework.security:spring-security-rsa:jar:1.0.11.RELEASE:compile\r\n    [INFO] |  |     \\- org.bouncycastle:bcpkix-jdk15on:jar:1.69:compile\r\n    [INFO] |  |        +- org.bouncycastle:bcprov-jdk15on:jar:1.69:compile\r\n    [INFO] |  |        \\- org.bouncycastle:bcutil-jdk15on:jar:1.69:compile\r\n    [INFO] |  +- org.springframework.cloud:spring-cloud-vault-config:jar:3.1.1:compile\r\n    [INFO] |  \\- org.springframework.vault:spring-vault-core:jar:2.3.2:compile\r\n\r\nIn the above dependency tree, you can see that two dependencies versions are `spring-cloud-vault-config:3.1.1` and `spring-vault-core:2.3.2`.\r\n\r\nI added these dependencies manually in my application `pom.xml` with their latest versions to **resolve** the issue. \r\n\r\n[spring-cloud-vault-config:4.0.0][1] and [spring-vault-core:3.0.1][1].\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-vault-config&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.vault&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-vault-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nThe dependency tree after manually adding the two dependencies.\r\n\r\n    [INFO] +- org.springframework.cloud:spring-cloud-starter-vault-config:jar:4.0.0:compile\r\n    [INFO] |  +- org.apache.httpcomponents.client5:httpclient5:jar:5.1.4:compile\r\n    [INFO] |  |  \\- org.apache.httpcomponents.core5:httpcore5-h2:jar:5.1.5:compile\r\n    [INFO] |  +- org.apache.httpcomponents.core5:httpcore5:jar:5.1.5:compile\r\n    [INFO] |  \\- org.springframework.cloud:spring-cloud-starter:jar:3.1.5:compile\r\n    [INFO] |     +- org.springframework.cloud:spring-cloud-context:jar:3.1.5:compile\r\n    [INFO] |     +- org.springframework.cloud:spring-cloud-commons:jar:3.1.5:compile\r\n    [INFO] |     \\- org.springframework.security:spring-security-rsa:jar:1.0.11.RELEASE:compile\r\n    [INFO] |        \\- org.bouncycastle:bcpkix-jdk15on:jar:1.69:compile\r\n    [INFO] |           +- org.bouncycastle:bcprov-jdk15on:jar:1.69:compile\r\n    [INFO] |           \\- org.bouncycastle:bcutil-jdk15on:jar:1.69:compile\r\n    [INFO] +- org.springframework.cloud:spring-cloud-vault-config:jar:4.0.0:compile\r\n    [INFO] |  \\- org.springframework:spring-web:jar:6.0.6:compile\r\n    [INFO] +- org.springframework.vault:spring-vault-core:jar:3.0.1:compile\r\n    [INFO] |  +- org.springframework:spring-core:jar:6.0.6:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.6:compile\r\n    [INFO] |  +- org.springframework:spring-context:jar:6.0.6:compile\r\n    [INFO] |  \\- org.springframework:spring-beans:jar:6.0.6:compile\r\n\r\n  [1]: https://central.sonatype.com/artifact/org.springframework.vault/spring-vault-core/3.0.1","title":"&quot;Package org.apache.hc.httpclient5.conn.ssl does not exist&quot; on Spring Boot upgrade","body":"<p>I had the same problem when I tried to upgrade the spring framework version to <code>3.0.4</code> from <code>2.7.9</code>, and <code>spring-cloud-starter-vault-config:3.1.2</code> to <code>spring-cloud-starter-vault-config:4.0.0</code>.</p>\n<p>After some digging, I found out that <code>spring-cloud-starter-vault-config</code> requires two other vault dependencies: <code>spring-cloud-vault-config</code> and <code>spring-vault-core</code>.</p>\n<pre><code>[INFO] +- org.springframework.cloud:spring-cloud-starter-vault-config:jar:4.0.0:compile\n[INFO] |  +- org.apache.httpcomponents.client5:httpclient5:jar:5.1.4:compile\n[INFO] |  |  \\- org.apache.httpcomponents.core5:httpcore5-h2:jar:5.1.5:compile\n[INFO] |  +- org.apache.httpcomponents.core5:httpcore5:jar:5.1.5:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-starter:jar:3.1.5:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-context:jar:3.1.5:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-commons:jar:3.1.5:compile\n[INFO] |  |  \\- org.springframework.security:spring-security-rsa:jar:1.0.11.RELEASE:compile\n[INFO] |  |     \\- org.bouncycastle:bcpkix-jdk15on:jar:1.69:compile\n[INFO] |  |        +- org.bouncycastle:bcprov-jdk15on:jar:1.69:compile\n[INFO] |  |        \\- org.bouncycastle:bcutil-jdk15on:jar:1.69:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-vault-config:jar:3.1.1:compile\n[INFO] |  \\- org.springframework.vault:spring-vault-core:jar:2.3.2:compile\n</code></pre>\n<p>In the above dependency tree, you can see that two dependencies versions are <code>spring-cloud-vault-config:3.1.1</code> and <code>spring-vault-core:2.3.2</code>.</p>\n<p>I added these dependencies manually in my application <code>pom.xml</code> with their latest versions to <strong>resolve</strong> the issue.</p>\n<p><a href=\"https://central.sonatype.com/artifact/org.springframework.vault/spring-vault-core/3.0.1\" rel=\"nofollow noreferrer\">spring-cloud-vault-config:4.0.0</a> and <a href=\"https://central.sonatype.com/artifact/org.springframework.vault/spring-vault-core/3.0.1\" rel=\"nofollow noreferrer\">spring-vault-core:3.0.1</a>.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-vault-config&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.vault&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-vault-core&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The dependency tree after manually adding the two dependencies.</p>\n<pre><code>[INFO] +- org.springframework.cloud:spring-cloud-starter-vault-config:jar:4.0.0:compile\n[INFO] |  +- org.apache.httpcomponents.client5:httpclient5:jar:5.1.4:compile\n[INFO] |  |  \\- org.apache.httpcomponents.core5:httpcore5-h2:jar:5.1.5:compile\n[INFO] |  +- org.apache.httpcomponents.core5:httpcore5:jar:5.1.5:compile\n[INFO] |  \\- org.springframework.cloud:spring-cloud-starter:jar:3.1.5:compile\n[INFO] |     +- org.springframework.cloud:spring-cloud-context:jar:3.1.5:compile\n[INFO] |     +- org.springframework.cloud:spring-cloud-commons:jar:3.1.5:compile\n[INFO] |     \\- org.springframework.security:spring-security-rsa:jar:1.0.11.RELEASE:compile\n[INFO] |        \\- org.bouncycastle:bcpkix-jdk15on:jar:1.69:compile\n[INFO] |           +- org.bouncycastle:bcprov-jdk15on:jar:1.69:compile\n[INFO] |           \\- org.bouncycastle:bcutil-jdk15on:jar:1.69:compile\n[INFO] +- org.springframework.cloud:spring-cloud-vault-config:jar:4.0.0:compile\n[INFO] |  \\- org.springframework:spring-web:jar:6.0.6:compile\n[INFO] +- org.springframework.vault:spring-vault-core:jar:3.0.1:compile\n[INFO] |  +- org.springframework:spring-core:jar:6.0.6:compile\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.6:compile\n[INFO] |  +- org.springframework:spring-context:jar:6.0.6:compile\n[INFO] |  \\- org.springframework:spring-beans:jar:6.0.6:compile\n</code></pre>\n"}],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6090,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1679089859,"creation_date":1677091294,"question_id":75536902,"body_markdown":"I had to upgrade the Spring Boot dependency **2.7.5 --&gt; 3.0.2**:\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\r\nThe `pom.xml` currently references a relatively new version of `HttpClient`, **4.5.3**:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.5.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nThe code uses the `org.apache.http` classes which now produce the following error on Maven Build:\r\n\r\n    import org.apache.http.conn.ssl.SSLConnectionSocketFactory;\r\n    import org.apache.http.conn.ssl.TrustSelfSignedStrategy;\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClients;\r\n    import org.apache.http.ssl.SSLContextBuilder;\r\n\r\n--&gt;\r\n**incompatible types: org.apache.http.impl.client.CloseableHttpClient cannot be converted to org.apache.hc.client5.http.classic.HttpClient**\r\n\r\nTo tackle this error, I replaced all occurrences of `org.apache.http` with `org.apache.hc.httpclient5` per https://hc.apache.org/httpcomponents-client-5.2.x/migration-guide/migration-to-classic.html :\r\n\r\n    import org.apache.hc.httpclient5.conn.ssl.SSLConnectionSocketFactory;\r\n    import org.apache.hc.httpclient5.conn.ssl.TrustSelfSignedStrategy;\r\n    import org.apache.hc.httpclient5.impl.client.CloseableHttpClient;\r\n    import org.apache.hc.httpclient5.impl.client.HttpClients;\r\n    import org.apache.hc.httpclient5.ssl.SSLContextBuilder;\r\n\r\nBut now the error is\r\n**package org.apache.hc.httpclient5.conn.ssl does not exist** . It can&#39;t resolve the HC5 package. Any tips?\r\n[![enter image description here][1]][1]\r\n\r\nNOTE: I also tried replacing the HttpClient dependency with the new **httpclient5** dependency, but it&#39;s the same error:\r\n\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n\t    &lt;version&gt;5.2.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/DOBDs.jpg","title":"&quot;Package org.apache.hc.httpclient5.conn.ssl does not exist&quot; on Spring Boot upgrade","body":"<p>I had to upgrade the Spring Boot dependency <strong>2.7.5 --&gt; 3.0.2</strong>:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;relativePath /&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>The <code>pom.xml</code> currently references a relatively new version of <code>HttpClient</code>, <strong>4.5.3</strong>:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.5.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The code uses the <code>org.apache.http</code> classes which now produce the following error on Maven Build:</p>\n<pre><code>import org.apache.http.conn.ssl.SSLConnectionSocketFactory;\nimport org.apache.http.conn.ssl.TrustSelfSignedStrategy;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.ssl.SSLContextBuilder;\n</code></pre>\n<p>--&gt;\n<strong>incompatible types: org.apache.http.impl.client.CloseableHttpClient cannot be converted to org.apache.hc.client5.http.classic.HttpClient</strong></p>\n<p>To tackle this error, I replaced all occurrences of <code>org.apache.http</code> with <code>org.apache.hc.httpclient5</code> per <a href=\"https://hc.apache.org/httpcomponents-client-5.2.x/migration-guide/migration-to-classic.html\" rel=\"nofollow noreferrer\">https://hc.apache.org/httpcomponents-client-5.2.x/migration-guide/migration-to-classic.html</a> :</p>\n<pre><code>import org.apache.hc.httpclient5.conn.ssl.SSLConnectionSocketFactory;\nimport org.apache.hc.httpclient5.conn.ssl.TrustSelfSignedStrategy;\nimport org.apache.hc.httpclient5.impl.client.CloseableHttpClient;\nimport org.apache.hc.httpclient5.impl.client.HttpClients;\nimport org.apache.hc.httpclient5.ssl.SSLContextBuilder;\n</code></pre>\n<p>But now the error is\n<strong>package org.apache.hc.httpclient5.conn.ssl does not exist</strong> . It can't resolve the HC5 package. Any tips?\n<a href=\"https://i.stack.imgur.com/DOBDs.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DOBDs.jpg\" alt=\"enter image description here\" /></a></p>\n<p>NOTE: I also tried replacing the HttpClient dependency with the new <strong>httpclient5</strong> dependency, but it's the same error:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n    &lt;version&gt;5.2.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android","mp4","exoplayer"],"answers":[{"comments":[{"owner":{"account_id":25673852,"reputation":1,"user_id":19437634,"display_name":"Alejandro Giraudo"},"score":0,"creation_date":1678680298,"post_id":75701094,"comment_id":133574279,"body_markdown":"How can I join the segments and create the mp4?","body":"How can I join the segments and create the mp4?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678974035,"post_id":75701094,"comment_id":133639438,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75701094/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":20504590,"reputation":41,"user_id":15047713,"display_name":"HarryVu176"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678483066,"creation_date":1678483066,"answer_id":75701094,"question_id":75701022,"body_markdown":"DASH files is temporary files created during a MPEG-DASH video stream (Youtube, Crunchyroll etc...) and I believe unless the owner gives you MP4 direct stream, there is no way you can get MP4 unless you can get the whole segments of the video and then convert it to MP4 later? ","title":"Download Dash to mp4 with exoplayer","body":"<p>DASH files is temporary files created during a MPEG-DASH video stream (Youtube, Crunchyroll etc...) and I believe unless the owner gives you MP4 direct stream, there is no way you can get MP4 unless you can get the whole segments of the video and then convert it to MP4 later?</p>\n"},{"tags":[],"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679089005,"creation_date":1679089005,"answer_id":75772434,"question_id":75701022,"body_markdown":"ExoPLayer includes documentation on downloading adaptive streams (DASH. HLS etc) using a download helper. By default it should download the highest quality track available, rather than all the tracks.\r\n\r\nDocumentation is available here: https://exoplayer.dev/downloading-media.html#downloading-and-playing-adaptive-streams\r\n\r\nThis includes the example below, shared here in case the link changes:\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    DownloadHelper downloadHelper =\r\n        DownloadHelper.forMediaItem(\r\n            context,\r\n            MediaItem.fromUri(contentUri),\r\n            new DefaultRenderersFactory(context),\r\n            dataSourceFactory);\r\n    downloadHelper.prepare(myCallback);\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Download Dash to mp4 with exoplayer","body":"<p>ExoPLayer includes documentation on downloading adaptive streams (DASH. HLS etc) using a download helper. By default it should download the highest quality track available, rather than all the tracks.</p>\n<p>Documentation is available here: <a href=\"https://exoplayer.dev/downloading-media.html#downloading-and-playing-adaptive-streams\" rel=\"nofollow noreferrer\">https://exoplayer.dev/downloading-media.html#downloading-and-playing-adaptive-streams</a></p>\n<p>This includes the example below, shared here in case the link changes:</p>\n<pre class=\"lang-js prettyprint-override\"><code>DownloadHelper downloadHelper =\n    DownloadHelper.forMediaItem(\n        context,\n        MediaItem.fromUri(contentUri),\n        new DefaultRenderersFactory(context),\n        dataSourceFactory);\ndownloadHelper.prepare(myCallback);\n</code></pre>\n"}],"owner":{"account_id":25673852,"reputation":1,"user_id":19437634,"display_name":"Alejandro Giraudo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679089237,"creation_date":1678482422,"question_id":75701022,"body_markdown":"I want to download a video that is in Dash format using exoplayer. The following code downloads the video for me but in multiple files.\r\n\r\n\timport android.app.Notification\r\n\timport android.os.Environment\r\n\timport android.util.Log\r\n\timport ar.com.flow.iot.R\r\n\timport com.google.android.exoplayer2.database.StandaloneDatabaseProvider\r\n\timport com.google.android.exoplayer2.offline.Download\r\n\timport com.google.android.exoplayer2.offline.DownloadManager\r\n\timport com.google.android.exoplayer2.offline.DownloadService\r\n\timport com.google.android.exoplayer2.scheduler.Scheduler\r\n\timport com.google.android.exoplayer2.ui.DownloadNotificationHelper\r\n\timport com.google.android.exoplayer2.upstream.DefaultHttpDataSource\r\n\timport com.google.android.exoplayer2.upstream.cache.LeastRecentlyUsedCacheEvictor\r\n\timport com.google.android.exoplayer2.upstream.cache.SimpleCache\r\n\timport java.io.File\r\n\timport java.util.concurrent.Executor\r\n\r\n\r\n\tclass MyDownloadService : DownloadService(\r\n\t\tFOREGROUND_NOTIFICATION_ID,\r\n\t\t1000,\r\n\t\tDOWNLOAD_NOTIFICATION_CHANNEL_ID,\r\n\t\tR.string.exo_download_notification_channel_name,\r\n\t\t0\r\n\t) {\r\n\r\n\t\toverride fun getDownloadManager(): DownloadManager {\r\n\r\n\t\t\tLog.w(&quot;TAGGG_DOWNLOAD&quot;, &quot;getDownloadManager&quot;)\r\n\r\n\t\t\tval databaseProvider = StandaloneDatabaseProvider(this)\r\n\r\n\t\t\tval downloadsDirectory = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)\r\n\r\n\t\t\tval cacheDirectory = File(downloadsDirectory, &quot;media_cache&quot;)\r\n\r\n\t\t\tval cacheEvictionPolicy = LeastRecentlyUsedCacheEvictor(50 * 1024 * 1024) // 50 MB\r\n\r\n\t\t\tval downloadCache = SimpleCache(\r\n\t\t\t\tcacheDirectory,\r\n\t\t\t\tcacheEvictionPolicy,\r\n\t\t\t\tdatabaseProvider\r\n\t\t\t)\r\n\r\n\t\t\tval dataSourceFactory = DefaultHttpDataSource.Factory()\r\n\r\n\t\t\tval downloadExecutor = Executor { obj: Runnable -&gt; obj.run() }\r\n\r\n\t\t\tval downloadManager = DownloadManager(\r\n\t\t\t\tthis,\r\n\t\t\t\tdatabaseProvider,\r\n\t\t\t\tdownloadCache,\r\n\t\t\t\tdataSourceFactory,\r\n\t\t\t\tdownloadExecutor\r\n\t\t\t)\r\n\r\n\t\t\t// Optionally, setters can be called to configure the download manager.\r\n\t\t\t//downloadManager.requirements = requirements;\r\n\t\t\tdownloadManager.maxParallelDownloads = 3;\r\n\r\n\t\t\treturn downloadManager\r\n\r\n\t\t}\r\n\r\n\t\toverride fun getScheduler(): Scheduler? {\r\n\t\t\tLog.e(&quot;TAGGG_DOWNLOAD&quot;, &quot;Falta implementar getScheduler &quot;)\r\n\t\t\treturn null\r\n\t\t}\r\n\r\n\t\toverride fun getForegroundNotification(\r\n\t\t\tdownloads: MutableList&lt;Download&gt;,\r\n\t\t\tnotMetRequirements: Int\r\n\t\t): Notification {\r\n\t\t\tLog.w(&quot;TAGGG_DOWNLOAD&quot;, &quot;getForegroundNotification $downloads $notMetRequirements &quot;)\r\n\r\n\t\t\treturn DownloadNotificationHelper(this, DOWNLOAD_NOTIFICATION_CHANNEL_ID).buildProgressNotification(\r\n\t\t\t\tthis,\r\n\t\t\t\tR.drawable.ic_icon_help,\r\n\t\t\t\tnull,\r\n\t\t\t\tnull,\r\n\t\t\t\tdownloads,\r\n\t\t\t\tnotMetRequirements\r\n\t\t\t)\r\n\r\n\t\t}\r\n\r\n\t\tcompanion object {\r\n\r\n\t\t\tprivate const val FOREGROUND_NOTIFICATION_ID = 1\r\n\r\n\t\t\tconst val DOWNLOAD_NOTIFICATION_CHANNEL_ID = &quot;download channel id&quot;\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tprivate fun downloadVideo(uri:Uri) {\r\n\t\tval downloadRequest = DownloadRequest.Builder(id, uri).build()\r\n\r\n\t\tDownloadService.sendAddDownload(\r\n\t\t\tthis,\r\n\t\t\tMyDownloadService::class.java,\r\n\t\t\tdownloadRequest,\r\n\t\t\tfalse\r\n\t\t)\r\n\t}\r\n\r\n\r\n\r\nHow should the code be so that the saved file has mp4 format?\r\n\r\nThank you so much\r\n\r\n\r\n\r\nI think the problem is due to &quot;dataSourceFactory&quot;, I tried some variants, like DefaultDataSourceFactory but I couldn&#39;t make ir work.\r\n","title":"Download Dash to mp4 with exoplayer","body":"<p>I want to download a video that is in Dash format using exoplayer. The following code downloads the video for me but in multiple files.</p>\n<pre><code>import android.app.Notification\nimport android.os.Environment\nimport android.util.Log\nimport ar.com.flow.iot.R\nimport com.google.android.exoplayer2.database.StandaloneDatabaseProvider\nimport com.google.android.exoplayer2.offline.Download\nimport com.google.android.exoplayer2.offline.DownloadManager\nimport com.google.android.exoplayer2.offline.DownloadService\nimport com.google.android.exoplayer2.scheduler.Scheduler\nimport com.google.android.exoplayer2.ui.DownloadNotificationHelper\nimport com.google.android.exoplayer2.upstream.DefaultHttpDataSource\nimport com.google.android.exoplayer2.upstream.cache.LeastRecentlyUsedCacheEvictor\nimport com.google.android.exoplayer2.upstream.cache.SimpleCache\nimport java.io.File\nimport java.util.concurrent.Executor\n\n\nclass MyDownloadService : DownloadService(\n    FOREGROUND_NOTIFICATION_ID,\n    1000,\n    DOWNLOAD_NOTIFICATION_CHANNEL_ID,\n    R.string.exo_download_notification_channel_name,\n    0\n) {\n\n    override fun getDownloadManager(): DownloadManager {\n\n        Log.w(&quot;TAGGG_DOWNLOAD&quot;, &quot;getDownloadManager&quot;)\n\n        val databaseProvider = StandaloneDatabaseProvider(this)\n\n        val downloadsDirectory = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)\n\n        val cacheDirectory = File(downloadsDirectory, &quot;media_cache&quot;)\n\n        val cacheEvictionPolicy = LeastRecentlyUsedCacheEvictor(50 * 1024 * 1024) // 50 MB\n\n        val downloadCache = SimpleCache(\n            cacheDirectory,\n            cacheEvictionPolicy,\n            databaseProvider\n        )\n\n        val dataSourceFactory = DefaultHttpDataSource.Factory()\n\n        val downloadExecutor = Executor { obj: Runnable -&gt; obj.run() }\n\n        val downloadManager = DownloadManager(\n            this,\n            databaseProvider,\n            downloadCache,\n            dataSourceFactory,\n            downloadExecutor\n        )\n\n        // Optionally, setters can be called to configure the download manager.\n        //downloadManager.requirements = requirements;\n        downloadManager.maxParallelDownloads = 3;\n\n        return downloadManager\n\n    }\n\n    override fun getScheduler(): Scheduler? {\n        Log.e(&quot;TAGGG_DOWNLOAD&quot;, &quot;Falta implementar getScheduler &quot;)\n        return null\n    }\n\n    override fun getForegroundNotification(\n        downloads: MutableList&lt;Download&gt;,\n        notMetRequirements: Int\n    ): Notification {\n        Log.w(&quot;TAGGG_DOWNLOAD&quot;, &quot;getForegroundNotification $downloads $notMetRequirements &quot;)\n\n        return DownloadNotificationHelper(this, DOWNLOAD_NOTIFICATION_CHANNEL_ID).buildProgressNotification(\n            this,\n            R.drawable.ic_icon_help,\n            null,\n            null,\n            downloads,\n            notMetRequirements\n        )\n\n    }\n\n    companion object {\n\n        private const val FOREGROUND_NOTIFICATION_ID = 1\n\n        const val DOWNLOAD_NOTIFICATION_CHANNEL_ID = &quot;download channel id&quot;\n\n    }\n}\n\nprivate fun downloadVideo(uri:Uri) {\n    val downloadRequest = DownloadRequest.Builder(id, uri).build()\n\n    DownloadService.sendAddDownload(\n        this,\n        MyDownloadService::class.java,\n        downloadRequest,\n        false\n    )\n}\n</code></pre>\n<p>How should the code be so that the saved file has mp4 format?</p>\n<p>Thank you so much</p>\n<p>I think the problem is due to &quot;dataSourceFactory&quot;, I tried some variants, like DefaultDataSourceFactory but I couldn't make ir work.</p>\n"},{"tags":["java","spring-boot","orm","many-to-many"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1679105749,"post_id":75772401,"comment_id":133666723,"body_markdown":"[This](https://www.baeldung.com/jpa-many-to-many) might point you in the right direction, but without seeing the schema I’m having a hard time picturing this as a many-to-many.","body":"<a href=\"https://www.baeldung.com/jpa-many-to-many\" rel=\"nofollow noreferrer\">This</a> might point you in the right direction, but without seeing the schema I’m having a hard time picturing this as a many-to-many."}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679088685,"creation_date":1679088685,"question_id":75772401,"body_markdown":"I have a problem to implement a relationship between location and hourlyWeather through EmbeddedId in Spring Boot.\r\n\r\nHere is the Location class shown below\r\n\r\n    @OneToMany(mappedBy = &quot;id.location&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;HourlyWeather&gt; listHourlyWeather = new ArrayList&lt;&gt;();\r\n\r\nHere is the HourlyWeather class shown below\r\n\r\n    @Entity\r\n    @Table(name = &quot;weather_hourly&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class HourlyWeather {\r\n    \r\n        @EmbeddedId\r\n        private HourlyWeatherId id = new HourlyWeatherId();\r\n    \r\n        private int temperature;\r\n        private int precipitation;\r\n    \r\n        @Column(length = 50)\r\n        private String status;\r\n    \r\n        public HourlyWeather temperature(int temp) {\r\n            setTemperature(temp);\r\n            return this;\r\n        }\r\n    \r\n        public HourlyWeather id(Location location, int hour) {\r\n            this.id.setHourOfDay(hour);\r\n            this.id.setLocation(location);\r\n            return this;\r\n        }\r\n    \r\n        public HourlyWeather precipitation(int precipitation) {\r\n            setPrecipitation(precipitation);\r\n            return this;\r\n        }\r\n    \r\n        public HourlyWeather status(String status) {\r\n            setStatus(status);\r\n            return this;\r\n        }\r\n    \r\n        public HourlyWeather location(Location location) {\r\n            this.id.setLocation(location);\r\n            return this;\r\n        }\r\n    \r\n        public HourlyWeather hourOfDay(int hour) {\r\n            this.id.setHourOfDay(hour);\r\n            return this;\r\n        }\r\n    }\r\n\r\nHere is the HourlyWeatherId class shown below\r\n\r\n    @Embeddable\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class HourlyWeatherId implements Serializable {\r\n    \r\n        private int hourOfDay;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;location_code&quot;)\r\n        private Location location;\r\n    \r\n    }\r\n\r\nHere is the HourlyWeatherRepository interface shown below\r\n\r\n    public interface HourlyWeatherRepository extends JpaRepository&lt;HourlyWeather, HourlyWeatherId&gt; \r\n    {\r\n    \r\n    }\r\n\r\n\r\nI get this issue as shown in the screenshot\r\n\r\n[![Image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qDHYk.png\r\n\r\nHow can I fix it?","title":"Many to Many Relationship throws Can&#39;t find inverse attribute in Intellij Idea","body":"<p>I have a problem to implement a relationship between location and hourlyWeather through EmbeddedId in Spring Boot.</p>\n<p>Here is the Location class shown below</p>\n<pre><code>@OneToMany(mappedBy = &quot;id.location&quot;, cascade = CascadeType.ALL)\nprivate List&lt;HourlyWeather&gt; listHourlyWeather = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Here is the HourlyWeather class shown below</p>\n<pre><code>@Entity\n@Table(name = &quot;weather_hourly&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class HourlyWeather {\n\n    @EmbeddedId\n    private HourlyWeatherId id = new HourlyWeatherId();\n\n    private int temperature;\n    private int precipitation;\n\n    @Column(length = 50)\n    private String status;\n\n    public HourlyWeather temperature(int temp) {\n        setTemperature(temp);\n        return this;\n    }\n\n    public HourlyWeather id(Location location, int hour) {\n        this.id.setHourOfDay(hour);\n        this.id.setLocation(location);\n        return this;\n    }\n\n    public HourlyWeather precipitation(int precipitation) {\n        setPrecipitation(precipitation);\n        return this;\n    }\n\n    public HourlyWeather status(String status) {\n        setStatus(status);\n        return this;\n    }\n\n    public HourlyWeather location(Location location) {\n        this.id.setLocation(location);\n        return this;\n    }\n\n    public HourlyWeather hourOfDay(int hour) {\n        this.id.setHourOfDay(hour);\n        return this;\n    }\n}\n</code></pre>\n<p>Here is the HourlyWeatherId class shown below</p>\n<pre><code>@Embeddable\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class HourlyWeatherId implements Serializable {\n\n    private int hourOfDay;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;location_code&quot;)\n    private Location location;\n\n}\n</code></pre>\n<p>Here is the HourlyWeatherRepository interface shown below</p>\n<pre><code>public interface HourlyWeatherRepository extends JpaRepository&lt;HourlyWeather, HourlyWeatherId&gt; \n{\n\n}\n</code></pre>\n<p>I get this issue as shown in the screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/qDHYk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qDHYk.png\" alt=\"Image\" /></a></p>\n<p>How can I fix it?</p>\n"},{"tags":["java","spring","spring-boot","spring-annotations","properties-file"],"comments":[{"owner":{"account_id":272754,"reputation":4027,"user_id":564005,"accept_rate":55,"display_name":"Nicolas Labrot"},"score":0,"creation_date":1491422797,"post_id":43238583,"comment_id":73551447,"body_markdown":"Possible duplicate of [How to correctly specify a default value in the Spring @Value annotation?](http://stackoverflow.com/questions/26916598/how-to-correctly-specify-a-default-value-in-the-spring-value-annotation)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/26916598/how-to-correctly-specify-a-default-value-in-the-spring-value-annotation\">How to correctly specify a default value in the Spring @Value annotation?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1491418547,"creation_date":1491418547,"answer_id":43239438,"question_id":43238583,"body_markdown":"Just use:\r\n\r\n    @Value(&quot;${secret:default-secret-value}&quot;)\r\n    private String ldapSecret;\r\n\r\n","title":"Spring @Value annotated method, use default value when properties not available","body":"<p>Just use:</p>\n\n<pre><code>@Value(\"${secret:default-secret-value}\")\nprivate String ldapSecret;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":952426,"reputation":1868,"user_id":978302,"accept_rate":60,"display_name":"RenatoIvancic"},"score":0,"creation_date":1492588482,"post_id":43240024,"comment_id":74034259,"body_markdown":"You could shed some light that Spring Expression Language can be used for solving this issue. For example the `@Value(&quot;${secret:#{null}}&quot;)`.","body":"You could shed some light that Spring Expression Language can be used for solving this issue. For example the <code>@Value(&quot;${secret:#{null}}&quot;)</code>."},{"owner":{"account_id":167169,"reputation":9206,"user_id":391806,"accept_rate":89,"display_name":"Dale Wilson"},"score":7,"creation_date":1506959156,"post_id":43240024,"comment_id":80012389,"body_markdown":"This is a nice answer, but it doesn&#39;t solve the problem.  It explains how the system is SUPPOSED to work, but as of October 2017, Spring 4.2.4,  it doesn&#39;t actually work that way.  If you specify a default value in the @value annotation the actual value from the properties file doesn&#39;t get used.  If you remove the default value from the annotation, then the value from the properties file IS used -- unless it is missing in which case an exception is thrown trying to instantiate the Bean.","body":"This is a nice answer, but it doesn&#39;t solve the problem.  It explains how the system is SUPPOSED to work, but as of October 2017, Spring 4.2.4,  it doesn&#39;t actually work that way.  If you specify a default value in the @value annotation the actual value from the properties file doesn&#39;t get used.  If you remove the default value from the annotation, then the value from the properties file IS used -- unless it is missing in which case an exception is thrown trying to instantiate the Bean."},{"owner":{"account_id":1753737,"reputation":56,"user_id":1602240,"display_name":"Vinh"},"score":2,"creation_date":1581638653,"post_id":43240024,"comment_id":106514051,"body_markdown":"Spring does not see the value from the property file if there is a default value, as of Feb2020. There is no way to work with both default value and value from property file","body":"Spring does not see the value from the property file if there is a default value, as of Feb2020. There is no way to work with both default value and value from property file"},{"owner":{"account_id":1054429,"reputation":59,"user_id":6397857,"display_name":"Kislay Verma"},"score":2,"creation_date":1598421038,"post_id":43240024,"comment_id":112449435,"body_markdown":"This way of defining defaults works only if we add &#39;value=&#39; in the annotation. e.g. @Value(value=&quot;${secret:secret}&quot;) will use default if property is not found in the config file.","body":"This way of defining defaults works only if we add &#39;value=&#39; in the annotation. e.g. @Value(value=&quot;${secret:secret}&quot;) will use default if property is not found in the config file."},{"owner":{"account_id":25279,"reputation":35965,"user_id":64895,"accept_rate":60,"display_name":"Jack BeNimble"},"score":0,"creation_date":1668204821,"post_id":43240024,"comment_id":131357230,"body_markdown":"@KislayVerma - that doesn&#39;t work.","body":"@KislayVerma - that doesn&#39;t work."},{"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"score":0,"creation_date":1680269429,"post_id":43240024,"comment_id":133874236,"body_markdown":"What should be the behavior of this -&gt; ```@Value(&quot;${secret: }&quot;)``` ?","body":"What should be the behavior of this -&gt; <code>@Value(&quot;${secret: }&quot;)</code> ?"}],"tags":[],"owner":{"account_id":4687364,"reputation":2017,"user_id":3794466,"accept_rate":61,"display_name":"Bernie Lenz"},"comment_count":6,"down_vote_count":1,"up_vote_count":39,"is_accepted":true,"score":38,"last_activity_date":1491420551,"creation_date":1491420551,"answer_id":43240024,"question_id":43238583,"body_markdown":"To answer your question exactly...\r\n\r\n    @Value(&quot;${secret:secret}&quot;)\r\n    private String ldapSecret;\r\n\r\nAnd a few more variations are below for completeness of the examples...\r\n\r\nDefault a String to null:\r\n\r\n    @Value(&quot;${secret:#{null}}&quot;)\r\n    private String secret;\r\n\r\nDefault a number:\r\n\r\n    @Value(&quot;${someNumber:0}&quot;)\r\n    private int someNumber;\r\n\r\n","title":"Spring @Value annotated method, use default value when properties not available","body":"<p>To answer your question exactly...</p>\n\n<pre><code>@Value(\"${secret:secret}\")\nprivate String ldapSecret;\n</code></pre>\n\n<p>And a few more variations are below for completeness of the examples...</p>\n\n<p>Default a String to null:</p>\n\n<pre><code>@Value(\"${secret:#{null}}\")\nprivate String secret;\n</code></pre>\n\n<p>Default a number:</p>\n\n<pre><code>@Value(\"${someNumber:0}\")\nprivate int someNumber;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491420734,"creation_date":1491420734,"answer_id":43240070,"question_id":43238583,"body_markdown":"    @Value and Property Examples\r\n    To set a default value for property placeholder :\r\n    \r\n    ${property:default value}\r\n    Few examples :\r\n    \r\n    //@PropertySource(&quot;classpath:/config.properties}&quot;)\r\n    //@Configuration\r\n    \r\n    @Value(&quot;${mongodb.url:127.0.0.1}&quot;)\r\n    private String mongodbUrl;\r\n    \r\n    @Value(&quot;#{&#39;${mongodb.url:172.0.0.1}&#39;}&quot;)\r\n    private String mongodbUrl;\r\n    \r\n    @Value(&quot;#{config[&#39;mongodb.url&#39;]?:&#39;127.0.0.1&#39;}&quot;)\r\n    private String mongodbUrl;","title":"Spring @Value annotated method, use default value when properties not available","body":"<pre><code>@Value and Property Examples\nTo set a default value for property placeholder :\n\n${property:default value}\nFew examples :\n\n//@PropertySource(\"classpath:/config.properties}\")\n//@Configuration\n\n@Value(\"${mongodb.url:127.0.0.1}\")\nprivate String mongodbUrl;\n\n@Value(\"#{'${mongodb.url:172.0.0.1}'}\")\nprivate String mongodbUrl;\n\n@Value(\"#{config['mongodb.url']?:'127.0.0.1'}\")\nprivate String mongodbUrl;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":1,"creation_date":1581641816,"post_id":60218579,"comment_id":106514660,"body_markdown":"This simply isn&#39;t true.","body":"This simply isn&#39;t true."}],"tags":[],"owner":{"account_id":1753737,"reputation":56,"user_id":1602240,"display_name":"Vinh"},"comment_count":1,"down_vote_count":8,"up_vote_count":1,"is_accepted":false,"score":-7,"last_activity_date":1581641592,"creation_date":1581641592,"answer_id":60218579,"question_id":43238583,"body_markdown":"Actually the default value will be ALWAYS used. To overcome this, I use a String value\r\n\r\n    @Value(&quot;${prop}&quot;)\r\n    String propValue;//if no prop defined, the propValue is set to the literal &quot;${prop}&quot;\r\n    ....\r\n    if(&quot;${prop}&quot;.equals(propValue)) {\r\n         propValue=defaultValue\r\n    }","title":"Spring @Value annotated method, use default value when properties not available","body":"<p>Actually the default value will be ALWAYS used. To overcome this, I use a String value</p>\n\n<pre><code>@Value(\"${prop}\")\nString propValue;//if no prop defined, the propValue is set to the literal \"${prop}\"\n....\nif(\"${prop}\".equals(propValue)) {\n     propValue=defaultValue\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25861791,"reputation":1,"user_id":19594144,"display_name":"ashwins"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658731990,"creation_date":1658404938,"answer_id":73065809,"question_id":43238583,"body_markdown":"    @value(key.name:xyz)\r\n\r\nSpring will give the first priority to read the value from the property file, If that doesn&#39;t exist then it will takes the default value(here &#39;xyz&#39; is the default value).\r\n\r\nThere should not be any space to the key(key.name) before and after.\r\n","title":"Spring @Value annotated method, use default value when properties not available","body":"<pre><code>@value(key.name:xyz)\n</code></pre>\n<p>Spring will give the first priority to read the value from the property file, If that doesn't exist then it will takes the default value(here 'xyz' is the default value).</p>\n<p>There should not be any space to the key(key.name) before and after.</p>\n"}],"owner":{"account_id":952426,"reputation":1868,"user_id":978302,"accept_rate":60,"display_name":"RenatoIvancic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44409,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":43240024,"answer_count":5,"score":25,"last_activity_date":1679088659,"creation_date":1491415651,"question_id":43238583,"body_markdown":"# Situation\r\n\r\nI am injecting properties from **.properties** file into fields annotated with **@Value**. However this properties present sensitive credentials, so I remove them from repository. I still want that in case someone wants to run project and doesnt have .properties file with credentials that default values will be set to fields.\r\n\r\n# Problem\r\n\r\nEven if I set default values to field itself I get exception when .properties file is not present:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;xxx&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;secret&#39; in string value &quot;${secret}&quot;\r\n\r\nHere is the annotated field:\r\n\r\n  \r\n     @Value(&quot;${secret}&quot;)\r\n     private String ldapSecret = &quot;secret&quot;;\r\n\r\nI expected in this case just plain String &quot;secret&quot; would be set.\r\n\r\n","title":"Spring @Value annotated method, use default value when properties not available","body":"<h1>Situation</h1>\n\n<p>I am injecting properties from <strong>.properties</strong> file into fields annotated with <strong>@Value</strong>. However this properties present sensitive credentials, so I remove them from repository. I still want that in case someone wants to run project and doesnt have .properties file with credentials that default values will be set to fields.</p>\n\n<h1>Problem</h1>\n\n<p>Even if I set default values to field itself I get exception when .properties file is not present:</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'xxx': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'secret' in string value \"${secret}\"\n</code></pre>\n\n<p>Here is the annotated field:</p>\n\n<pre><code> @Value(\"${secret}\")\n private String ldapSecret = \"secret\";\n</code></pre>\n\n<p>I expected in this case just plain String \"secret\" would be set.</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":1,"creation_date":1679064252,"post_id":75768437,"comment_id":133658956,"body_markdown":"configuration looks right, you don&#39;t have any other configuration class, right ? and maybe add this and retry `.antMatchers(h2ConsolePath + &quot;/**&quot;).csrf().disable()`","body":"configuration looks right, you don&#39;t have any other configuration class, right ? and maybe add this and retry <code>.antMatchers(h2ConsolePath + &quot;&#47;**&quot;).csrf().disable()</code>"},{"owner":{"account_id":23645579,"reputation":17,"user_id":17675268,"display_name":"sandro"},"score":0,"creation_date":1679064577,"post_id":75768437,"comment_id":133659064,"body_markdown":"I can&#39;t add antMatchers, I think it is deprecated and that requestMatchers does more or less the same thing?","body":"I can&#39;t add antMatchers, I think it is deprecated and that requestMatchers does more or less the same thing?"},{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1681124119,"post_id":75768437,"comment_id":134001792,"body_markdown":"For h2-console, you have to add the servletPath to the matcher, see here https://github.com/spring-projects/spring-security/issues/12310#issuecomment-1328990026","body":"For h2-console, you have to add the servletPath to the matcher, see here <a href=\"https://github.com/spring-projects/spring-security/issues/12310#issuecomment-1328990026\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/issues/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23645579,"reputation":17,"user_id":17675268,"display_name":"sandro"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":true,"score":-3,"last_activity_date":1679088019,"creation_date":1679073853,"answer_id":75770478,"question_id":75768437,"body_markdown":"So after hours of pain and suffering I finally found the solution. I went back to Java version 1.8 and used `antMatchers` instead of `requestMatchers`.\r\n\r\nSo this is my final code:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n      @Bean\r\n      public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .cors()\r\n                .and()\r\n            .csrf().disable()\r\n            .exceptionHandling()\r\n                .authenticationEntryPoint(unauthorizedHandler)\r\n                .and()\r\n            .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n            .authorizeHttpRequests()\r\n                .antMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                .antMatchers(&quot;/api/test/**&quot;).permitAll()\r\n                .antMatchers(h2ConsolePath + &quot;/**&quot;).permitAll()\r\n                .anyRequest().authenticated();\r\n        \r\n        http\r\n            .headers()\r\n                .frameOptions().sameOrigin();\r\n        \r\n        http\r\n            .authenticationProvider(authenticationProvider());\r\n    \r\n        http\r\n            .addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n        \r\n        return http.build();\r\n      }","title":"requestMatchers(&quot;&quot;).permitAll() does not work","body":"<p>So after hours of pain and suffering I finally found the solution. I went back to Java version 1.8 and used <code>antMatchers</code> instead of <code>requestMatchers</code>.</p>\n<p>So this is my final code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n        .cors()\n            .and()\n        .csrf().disable()\n        .exceptionHandling()\n            .authenticationEntryPoint(unauthorizedHandler)\n            .and()\n        .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n        .authorizeHttpRequests()\n            .antMatchers(&quot;/api/auth/**&quot;).permitAll()\n            .antMatchers(&quot;/api/test/**&quot;).permitAll()\n            .antMatchers(h2ConsolePath + &quot;/**&quot;).permitAll()\n            .anyRequest().authenticated();\n    \n    http\n        .headers()\n            .frameOptions().sameOrigin();\n    \n    http\n        .authenticationProvider(authenticationProvider());\n\n    http\n        .addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n    \n    return http.build();\n  }\n</code></pre>\n"}],"owner":{"account_id":23645579,"reputation":17,"user_id":17675268,"display_name":"sandro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1672,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75770478,"answer_count":1,"score":2,"last_activity_date":1679088288,"creation_date":1679061338,"question_id":75768437,"body_markdown":"I&#39;m trying to implement a controller authentication using Spring Boot security.\r\n\r\nWhen customizing my `filterChain` I get 401 Unauthorized for resources I have specifically permitted.\r\n\r\n```java\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http\r\n        .cors()\r\n            .and()\r\n        .csrf().disable()\r\n        .exceptionHandling()\r\n            .authenticationEntryPoint(unauthorizedHandler)\r\n            .and()\r\n        .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and()\r\n        .authorizeHttpRequests()\r\n            .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n            .requestMatchers(&quot;/api/test/**&quot;).permitAll()\r\n            .requestMatchers(h2ConsolePath + &quot;/**&quot;).permitAll()\r\n            .anyRequest().authenticated();\r\n\r\n        http\r\n            .headers()\r\n                .frameOptions().sameOrigin();\r\n\r\n        http\r\n            .authenticationProvider(authenticationProvider());\r\n\r\n        http\r\n            .addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n```\r\n\r\nFor example I want to access my h2-console and I don&#39;t want any authentication to happen when I access the h2-console. But I still get an error message with the status code 403 Forbidden.\r\n\r\nEven when I remove this line `.anyRequest().authenticated();` I get the same error, which makes me think that this whole filter chain doesn&#39;t get applied maybe? But when I debug it and set a breakpoint inside the method the program jumps inside the method, so it should get applied?\r\nAfter many hours of research I&#39;m not sure how to proceed.\r\n\r\n**Edit:**\r\n\r\nI also added a `TestController` with a `TestResource` and without the `@PreAuthorize` annotation and when I test it in Postman I get this error message: \r\n\r\n&gt; Full authentication is required to access this resource\r\n\r\nAs already mention I have the feeling that the filter chain isn&#39;t applied because even when I remove `.anyRequest().authenticated` the same error still occures, so it doesn&#39;t really make sense to me.","title":"requestMatchers(&quot;&quot;).permitAll() does not work","body":"<p>I'm trying to implement a controller authentication using Spring Boot security.</p>\n<p>When customizing my <code>filterChain</code> I get 401 Unauthorized for resources I have specifically permitted.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n        .cors()\n            .and()\n        .csrf().disable()\n        .exceptionHandling()\n            .authenticationEntryPoint(unauthorizedHandler)\n            .and()\n        .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n        .authorizeHttpRequests()\n            .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\n            .requestMatchers(&quot;/api/test/**&quot;).permitAll()\n            .requestMatchers(h2ConsolePath + &quot;/**&quot;).permitAll()\n            .anyRequest().authenticated();\n\n        http\n            .headers()\n                .frameOptions().sameOrigin();\n\n        http\n            .authenticationProvider(authenticationProvider());\n\n        http\n            .addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n</code></pre>\n<p>For example I want to access my h2-console and I don't want any authentication to happen when I access the h2-console. But I still get an error message with the status code 403 Forbidden.</p>\n<p>Even when I remove this line <code>.anyRequest().authenticated();</code> I get the same error, which makes me think that this whole filter chain doesn't get applied maybe? But when I debug it and set a breakpoint inside the method the program jumps inside the method, so it should get applied?\nAfter many hours of research I'm not sure how to proceed.</p>\n<p><strong>Edit:</strong></p>\n<p>I also added a <code>TestController</code> with a <code>TestResource</code> and without the <code>@PreAuthorize</code> annotation and when I test it in Postman I get this error message:</p>\n<blockquote>\n<p>Full authentication is required to access this resource</p>\n</blockquote>\n<p>As already mention I have the feeling that the filter chain isn't applied because even when I remove <code>.anyRequest().authenticated</code> the same error still occures, so it doesn't really make sense to me.</p>\n"},{"tags":["java","android","plugins"],"comments":[{"owner":{"account_id":18364441,"reputation":275,"user_id":13375840,"display_name":"zyngot"},"score":0,"creation_date":1679088377,"post_id":75772307,"comment_id":133664810,"body_markdown":"just download the latest jdk and replace it with the one in `C:\\Program Files (x86)\\Java\\jdk1.8.0_251\\jre*`","body":"just download the latest jdk and replace it with the one in <code>C:\\Program Files (x86)\\Java\\jdk1.8.0_251\\jre*</code>"},{"owner":{"account_id":3821169,"reputation":763,"user_id":3169238,"display_name":"Sergei Kozelko"},"score":0,"creation_date":1679306263,"post_id":75772307,"comment_id":133691548,"body_markdown":"There&#39;s a setting in Android Studio for the JDK it uses, it can be different from the one JAVA_HOME points to. Can you check that?","body":"There&#39;s a setting in Android Studio for the JDK it uses, it can be different from the one JAVA_HOME points to. Can you check that?"}],"owner":{"account_id":931519,"reputation":2174,"user_id":961331,"accept_rate":88,"display_name":"DontPanic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679087868,"creation_date":1679087868,"question_id":75772307,"body_markdown":"I recently upgraded to Android Studio Dolphin 2021.3.1 and when I try to Build an old project I get an error about wrong plugin. In particular:\r\n\r\n    Build file &#39;C:\\dev\\AndroidProjects\\Apps\\Gmap3\\app\\build.gradle&#39; line: 2\r\n    An exception occurred applying plugin request [id: &#39;com.android.application&#39;]\r\n\r\n    *Failed to apply plugin &#39;com.android.internal.application&#39;.\r\n       Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\r\n       Your current JDK is located in C:\\Program Files (x86)\\Java\\jdk1.8.0_251\\jre* \r\n\r\nI checked all the settings in my project but I can&#39;t figure out where the plugin is specified.  \r\n**Can anybody help me understand?** I am not a noob but Dolphin has throw me for a loop. I think I have set JAVA_HOME and JAVAPATH correctly. I also did a &quot;Sync Project with Gradle Files&quot;. I also restarted Android Studio. I have also installed the latest Java version.\r\n","title":"How to set Android Gradle plugin in Android Studion 2021.3.1?","body":"<p>I recently upgraded to Android Studio Dolphin 2021.3.1 and when I try to Build an old project I get an error about wrong plugin. In particular:</p>\n<pre><code>Build file 'C:\\dev\\AndroidProjects\\Apps\\Gmap3\\app\\build.gradle' line: 2\nAn exception occurred applying plugin request [id: 'com.android.application']\n\n*Failed to apply plugin 'com.android.internal.application'.\n   Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\n   Your current JDK is located in C:\\Program Files (x86)\\Java\\jdk1.8.0_251\\jre* \n</code></pre>\n<p>I checked all the settings in my project but I can't figure out where the plugin is specified.<br />\n<strong>Can anybody help me understand?</strong> I am not a noob but Dolphin has throw me for a loop. I think I have set JAVA_HOME and JAVAPATH correctly. I also did a &quot;Sync Project with Gradle Files&quot;. I also restarted Android Studio. I have also installed the latest Java version.</p>\n"},{"tags":["java","netbeans","netbeans-platform"],"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679086563,"creation_date":1679086563,"question_id":75772161,"body_markdown":"In my Netbeans platform app, I have several `TopComponents` opened in editor mode. I&#39;d like to be able to drag an item from the content of TopComponent TC1 to TopComponent TC2. I can make it work (using the Swing DnD framework) if TC1 or TC2 is undocked.\r\n\r\nBut if they are both docked, how to do it ?\r\n\r\nSetting my own `TransferHandler` on the target TopComponent does not work in this case, I assume because the &quot;tab&quot; part does not inherit the handler I set. So how to access the TopComponent &quot;tab&quot; part (which is I hope a `JComponent`) ?\r\n\r\nThanks!","title":"How to programmatically access to the TopComponent &quot;tab&quot; part?","body":"<p>In my Netbeans platform app, I have several <code>TopComponents</code> opened in editor mode. I'd like to be able to drag an item from the content of TopComponent TC1 to TopComponent TC2. I can make it work (using the Swing DnD framework) if TC1 or TC2 is undocked.</p>\n<p>But if they are both docked, how to do it ?</p>\n<p>Setting my own <code>TransferHandler</code> on the target TopComponent does not work in this case, I assume because the &quot;tab&quot; part does not inherit the handler I set. So how to access the TopComponent &quot;tab&quot; part (which is I hope a <code>JComponent</code>) ?</p>\n<p>Thanks!</p>\n"},{"tags":["java","selenium-webdriver","testing","automation","webdriver"],"comments":[{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1678969722,"post_id":75755286,"comment_id":133638028,"body_markdown":"Does this answer your question? [Java.io.IOException: Invalid Status code=403 text=Forbidden](https://stackoverflow.com/questions/75678572/java-io-ioexception-invalid-status-code-403-text-forbidden)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75678572/java-io-ioexception-invalid-status-code-403-text-forbidden\">Java.io.IOException: Invalid Status code=403 text=Forbidden</a>"}],"answers":[{"comments":[{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1678969691,"post_id":75755489,"comment_id":133638019,"body_markdown":"flag it as a duplicate, or write a comment on the main post","body":"flag it as a duplicate, or write a comment on the main post"},{"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"score":0,"creation_date":1679029816,"post_id":75755489,"comment_id":133651106,"body_markdown":"@ \nRolandas Ulevicius\n Hello, I am about to add the comment on the main post only but I do not have the 50 reputation points.","body":"@  Rolandas Ulevicius  Hello, I am about to add the comment on the main post only but I do not have the 50 reputation points."},{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1679037788,"post_id":75755489,"comment_id":133652274,"body_markdown":"you can mark it as a duplicate. this one is already answered a lot of times. and you added your own answer on a different question that was marked as a duplicate with another answer that says the same thing. :)","body":"you can mark it as a duplicate. this one is already answered a lot of times. and you added your own answer on a different question that was marked as a duplicate with another answer that says the same thing. :)"},{"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"score":0,"creation_date":1679056305,"post_id":75755489,"comment_id":133656679,"body_markdown":"Ok @\nRolandas Ulevicius\nI am a beginner on StackOverflow some of the rules I am unaware and from now onwards I will take care of that.","body":"Ok @ Rolandas Ulevicius I am a beginner on StackOverflow some of the rules I am unaware and from now onwards I will take care of that."}],"tags":[],"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678965313,"creation_date":1678965313,"answer_id":75755489,"question_id":75755286,"body_markdown":"It was answered already pls find the below link for the soln.\r\n\r\nhttps://stackoverflow.com/questions/75718696/i-am-getting-error-while-launching-chrome-browser-using-selenium-java-io-ioexcep/75719343#75719343","title":"Why my website not loading even browser is launching in java selenium","body":"<p>It was answered already pls find the below link for the soln.</p>\n<p><a href=\"https://stackoverflow.com/questions/75718696/i-am-getting-error-while-launching-chrome-browser-using-selenium-java-io-ioexcep/75719343#75719343\">I am getting error while launching chrome browser using selenium java-io-ioexception-invalid-status-code-403-text-forbidden</a></p>\n"}],"owner":{"account_id":20345273,"reputation":1,"user_id":14923375,"display_name":"Jaitavya Mishra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679086340,"creation_date":1678964268,"question_id":75755286,"body_markdown":"When I launch my browser, it launches but the website doesn&#39;t load. The URL data text is reflecting but the webpage is not loading.\r\n ![Output image][1]\r\nI called google home page in the browser but hot output specified in image.\r\n\r\n**chrome driver version:** ChromeDriver 111.0.5563.64\r\n\r\nselenium-server-4.8.1.jar\r\n\r\n  [1]: https://i.stack.imgur.com/5fn8d.png","title":"Why my website not loading even browser is launching in java selenium","body":"<p>When I launch my browser, it launches but the website doesn't load. The URL data text is reflecting but the webpage is not loading.\n<img src=\"https://i.stack.imgur.com/5fn8d.png\" alt=\"Output image\" />\nI called google home page in the browser but hot output specified in image.</p>\n<p><strong>chrome driver version:</strong> ChromeDriver 111.0.5563.64</p>\n<p>selenium-server-4.8.1.jar</p>\n"},{"tags":["java","android","android-framelayout"],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679085878,"creation_date":1679085878,"answer_id":75772090,"question_id":75771695,"body_markdown":"Views are rectangular - even if you only draw a triangle inside one, the touch region is the full area of the View itself. You can adjust the actual touch target, but it will still be a rectangular shape.\r\n\r\nYou&#39;d probably be better off creating your own custom view that allows you to display two icons/colours, and calculates which side should be considered &quot;clicked&quot; when a single click event happens at *(x, y)* inside the View.\r\n\r\nMore info [here][1] and [here][2]\r\n\r\n\r\n  [1]: https://developer.android.com/develop/ui/views/layout/custom-views/create-view\r\n  [2]: https://developer.android.com/develop/ui/views/layout/custom-views/making-interactive","title":"Override layout but can still difference space and area","body":"<p>Views are rectangular - even if you only draw a triangle inside one, the touch region is the full area of the View itself. You can adjust the actual touch target, but it will still be a rectangular shape.</p>\n<p>You'd probably be better off creating your own custom view that allows you to display two icons/colours, and calculates which side should be considered &quot;clicked&quot; when a single click event happens at <em>(x, y)</em> inside the View.</p>\n<p>More info <a href=\"https://developer.android.com/develop/ui/views/layout/custom-views/create-view\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://developer.android.com/develop/ui/views/layout/custom-views/making-interactive\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":24926318,"reputation":29,"user_id":18794019,"display_name":"Noob tv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679085878,"creation_date":1679082791,"question_id":75771695,"body_markdown":"For short I wanted to try some new designs in my mind, and one of them was a button that was diagonally divided into two parts. Of course, each side will have a different mission.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iSMBy.png\r\n\r\nAnd I succeeded in separating the button click the way I thought it was with a little bit of vector and pathData.\r\nBut the problem also comes from here, in order for the two buttons to feel like they are tied together, I had to use FrameLayout, also because of that, it was inserted layout of each other, resulting in only 1 task is performed when pressed.\r\n\r\nSo I would like to ask everyone, what should I do in this case, and please point me in the direction of how to solve this problem.\r\n\r\nP/s this button will be used in a viewholder of the recyclerView so using a fixed position of the user pointer won&#39;t be very feasible.\r\n\r\nhere my code in xml\r\n```\r\n    &lt;FrameLayout\r\n                android:layout_width=&quot;100dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_gravity=&quot;end&quot;&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/admin_del&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    app:backgroundTint=&quot;@null&quot;\r\n                    android:src=&quot;@drawable/baseline_delete_forever_24&quot;\r\n                    android:paddingStart=&quot;55dp&quot;\r\n                    android:paddingTop=&quot;35dp&quot;\r\n                    android:background=&quot;@drawable/right_triangle&quot;/&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/admin_edit&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    app:backgroundTint=&quot;@null&quot;\r\n                    android:src=&quot;@drawable/baseline_edit_calendar_24&quot;\r\n                    android:paddingEnd=&quot;55dp&quot;\r\n                    android:paddingBottom=&quot;35dp&quot;\r\n                    android:background=&quot;@drawable/left_triangle&quot;/&gt;\r\n\r\n            &lt;/FrameLayout&gt;\r\n```\r\n\r\nand here are two drawable xml triangle i use as image background\r\n\r\nright_triangle\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:height=&quot;100dp&quot;\r\n    android:width=&quot;100dp&quot;\r\n    android:viewportWidth=&quot;24&quot;\r\n    android:viewportHeight=&quot;24&quot;&gt;\r\n    &lt;path android:fillColor=&quot;#673AB7&quot; android:pathData=&quot;M0,24H24L24,0&quot; /&gt;\r\n    &lt;/vector&gt;\r\n```\r\n\r\nleft_triangle\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:height=&quot;100dp&quot;\r\n    android:width=&quot;100dp&quot;\r\n    android:viewportWidth=&quot;24&quot;\r\n    android:viewportHeight=&quot;24&quot;&gt;\r\n    &lt;path android:fillColor=&quot;#3F51B5&quot; android:pathData=&quot;M0,0H24L0,24&quot; /&gt;\r\n    &lt;/vector&gt;\r\n```","title":"Override layout but can still difference space and area","body":"<p>For short I wanted to try some new designs in my mind, and one of them was a button that was diagonally divided into two parts. Of course, each side will have a different mission.</p>\n<p><a href=\"https://i.stack.imgur.com/iSMBy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iSMBy.png\" alt=\"enter image description here\" /></a></p>\n<p>And I succeeded in separating the button click the way I thought it was with a little bit of vector and pathData.\nBut the problem also comes from here, in order for the two buttons to feel like they are tied together, I had to use FrameLayout, also because of that, it was inserted layout of each other, resulting in only 1 task is performed when pressed.</p>\n<p>So I would like to ask everyone, what should I do in this case, and please point me in the direction of how to solve this problem.</p>\n<p>P/s this button will be used in a viewholder of the recyclerView so using a fixed position of the user pointer won't be very feasible.</p>\n<p>here my code in xml</p>\n<pre><code>    &lt;FrameLayout\n                android:layout_width=&quot;100dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_gravity=&quot;end&quot;&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/admin_del&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    app:backgroundTint=&quot;@null&quot;\n                    android:src=&quot;@drawable/baseline_delete_forever_24&quot;\n                    android:paddingStart=&quot;55dp&quot;\n                    android:paddingTop=&quot;35dp&quot;\n                    android:background=&quot;@drawable/right_triangle&quot;/&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/admin_edit&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    app:backgroundTint=&quot;@null&quot;\n                    android:src=&quot;@drawable/baseline_edit_calendar_24&quot;\n                    android:paddingEnd=&quot;55dp&quot;\n                    android:paddingBottom=&quot;35dp&quot;\n                    android:background=&quot;@drawable/left_triangle&quot;/&gt;\n\n            &lt;/FrameLayout&gt;\n</code></pre>\n<p>and here are two drawable xml triangle i use as image background</p>\n<p>right_triangle</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:height=&quot;100dp&quot;\n    android:width=&quot;100dp&quot;\n    android:viewportWidth=&quot;24&quot;\n    android:viewportHeight=&quot;24&quot;&gt;\n    &lt;path android:fillColor=&quot;#673AB7&quot; android:pathData=&quot;M0,24H24L24,0&quot; /&gt;\n    &lt;/vector&gt;\n</code></pre>\n<p>left_triangle</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:height=&quot;100dp&quot;\n    android:width=&quot;100dp&quot;\n    android:viewportWidth=&quot;24&quot;\n    android:viewportHeight=&quot;24&quot;&gt;\n    &lt;path android:fillColor=&quot;#3F51B5&quot; android:pathData=&quot;M0,0H24L0,24&quot; /&gt;\n    &lt;/vector&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","credential-manager"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1679086167,"post_id":75771692,"comment_id":133664421,"body_markdown":"first sentance in the docs `Spring Cloud Vault Config provides client-side support for externalized configuration in a distributed system. With HashiCorp’s Vault` https://cloud.spring.io/spring-cloud-vault/reference/html/","body":"first sentance in the docs <code>Spring Cloud Vault Config provides client-side support for externalized configuration in a distributed system. With HashiCorp’s Vault</code> <a href=\"https://cloud.spring.io/spring-cloud-vault/reference/html/\" rel=\"nofollow noreferrer\">cloud.spring.io/spring-cloud-vault/reference/html</a>"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679084146,"creation_date":1679084146,"answer_id":75771863,"question_id":75771692,"body_markdown":"Not possible. Windows Credentials Manager has no connection to Hashicorp Vault.","title":"How to get username and password from Credential Manager?","body":"<p>Not possible. Windows Credentials Manager has no connection to Hashicorp Vault.</p>\n"},{"tags":[],"owner":{"account_id":195169,"reputation":2946,"user_id":1128593,"display_name":"David Jones"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679085664,"creation_date":1679085664,"answer_id":75772061,"question_id":75771692,"body_markdown":"Credential Manager is really designed for managing credentials used  by internal  operating system features, such as the [Multiple Provider Router][1].\r\n\r\nWindows does provide a set of Cryptographic APIs, including the [Data Protection API][2], which is designed for the secure storage of arbitrary information using a cryptographic key derived from the user&#39;s logon password.  \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/win32/secauthn/multiple-provider-router\r\n  [2]: https://en.wikipedia.org/wiki/Data_Protection_API","title":"How to get username and password from Credential Manager?","body":"<p>Credential Manager is really designed for managing credentials used  by internal  operating system features, such as the <a href=\"https://learn.microsoft.com/en-us/windows/win32/secauthn/multiple-provider-router\" rel=\"nofollow noreferrer\">Multiple Provider Router</a>.</p>\n<p>Windows does provide a set of Cryptographic APIs, including the <a href=\"https://en.wikipedia.org/wiki/Data_Protection_API\" rel=\"nofollow noreferrer\">Data Protection API</a>, which is designed for the secure storage of arbitrary information using a cryptographic key derived from the user's logon password.</p>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75771863,"answer_count":2,"score":0,"last_activity_date":1679085664,"creation_date":1679082772,"question_id":75771692,"body_markdown":"In `application.properties` I want to store these data:\r\n```yaml\r\nspring.mail.host=smtp.gmail.com\r\nspring.mail.port=587\r\nspring.mail.username=my-email\r\nspring.mail.password=my-email-password\r\nspring.mail.properties.mail.smtp.auth=true\r\nspring.mail.properties.mail.smtp.starttls.enable=true\r\n```\r\n\r\nSince my Git repository is public, I don&#39;t want anybody to see my email and password. \r\n\r\nSince I am on Windows 11, Environment Variables are an option. But once I open this window, everybody sitting next to me can see my password since it is just plain text. \r\n\r\nI want my password to be secure, even if it is stored on my own computer only. \r\n\r\nSo Instead of environment variables, I think it is a better approach to store the details in Credential Manager on Windows. I am using the dependency `spring-cloud-starter-vault-config`, version 4.0.0.\r\n\r\nIn Credential Manager I have added a generic credential and called it _Gmail_. And this is what I have tried in application.yml:\r\n\r\n```yml\r\nspring:\r\n  cloud:\r\n    vault:\r\n      uri: vault://wincred/Gmail\r\n  mail:\r\n    host: smtp.gmail.com\r\n    port: 587\r\n    username: ${vault.generic.Gmail.username}\r\n    password: ${vault.generic.Gmail.password}\r\n    properties:\r\n      mail:\r\n        smtp:\r\n          auth: true\r\n          starttls:\r\n            enabled: true\r\n```\r\nBut I get these exceptions:\r\n\r\n&gt; Caused by: java.lang.IllegalArgumentException: Can&#39;t retrieve default\r\n&gt; port from vault://wincred/Gmail\r\n&gt; \r\n&gt; Caused by: java.net.MalformedURLException: unknown protocol: vault\r\n\r\nIs what I am trying out even possible?","title":"How to get username and password from Credential Manager?","body":"<p>In <code>application.properties</code> I want to store these data:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring.mail.host=smtp.gmail.com\nspring.mail.port=587\nspring.mail.username=my-email\nspring.mail.password=my-email-password\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.starttls.enable=true\n</code></pre>\n<p>Since my Git repository is public, I don't want anybody to see my email and password.</p>\n<p>Since I am on Windows 11, Environment Variables are an option. But once I open this window, everybody sitting next to me can see my password since it is just plain text.</p>\n<p>I want my password to be secure, even if it is stored on my own computer only.</p>\n<p>So Instead of environment variables, I think it is a better approach to store the details in Credential Manager on Windows. I am using the dependency <code>spring-cloud-starter-vault-config</code>, version 4.0.0.</p>\n<p>In Credential Manager I have added a generic credential and called it <em>Gmail</em>. And this is what I have tried in application.yml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    vault:\n      uri: vault://wincred/Gmail\n  mail:\n    host: smtp.gmail.com\n    port: 587\n    username: ${vault.generic.Gmail.username}\n    password: ${vault.generic.Gmail.password}\n    properties:\n      mail:\n        smtp:\n          auth: true\n          starttls:\n            enabled: true\n</code></pre>\n<p>But I get these exceptions:</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalArgumentException: Can't retrieve default\nport from vault://wincred/Gmail</p>\n<p>Caused by: java.net.MalformedURLException: unknown protocol: vault</p>\n</blockquote>\n<p>Is what I am trying out even possible?</p>\n"},{"tags":["java","android","gradle","java-11","gradle-task"],"comments":[{"owner":{"account_id":19896142,"reputation":167,"user_id":14577209,"display_name":"Maleesha97"},"score":0,"creation_date":1678794831,"post_id":75528317,"comment_id":133598900,"body_markdown":"See if answers from [this](https://stackoverflow.com/q/25844546/14577209) will help you.  And the updated answer of [this](https://stackoverflow.com/a/49112492/14577209) as well.","body":"See if answers from <a href=\"https://stackoverflow.com/q/25844546/14577209\">this</a> will help you.  And the updated answer of <a href=\"https://stackoverflow.com/a/49112492/14577209\">this</a> as well."},{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":0,"creation_date":1678996653,"post_id":75528317,"comment_id":133646287,"body_markdown":"The code snippet you included in your question has two open curly braces &#39;{&#39; that do not have corresponding closing braces &#39;}&#39;.  Does the full code have these closing braces?","body":"The code snippet you included in your question has two open curly braces &#39;{&#39; that do not have corresponding closing braces &#39;}&#39;.  Does the full code have these closing braces?"},{"owner":{"account_id":20577048,"reputation":349,"user_id":15103978,"display_name":"M.Mawlawi"},"score":0,"creation_date":1679009225,"post_id":75528317,"comment_id":133648740,"body_markdown":"The line of code you provided looks like a hook for executing code when the Gradle task graph is ready. This feature is available in Gradle 4.3 and later versions. So, if you are using Gradle 7, this line should work without any issues.","body":"The line of code you provided looks like a hook for executing code when the Gradle task graph is ready. This feature is available in Gradle 4.3 and later versions. So, if you are using Gradle 7, this line should work without any issues."}],"owner":{"account_id":2009930,"reputation":705,"user_id":1798649,"display_name":"Faisal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1367,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1679085245,"creation_date":1677040583,"question_id":75528317,"body_markdown":"I&#39;m trying to upgrade an old project. Actually, I had to upgrade targetAPILevel to 33 from 30 which eventually requires JDK upgrade from 1.8 to 11.I could be wrong but JDK 11 requires Gradle version upgrade from 4.2 to 7. So I did upgrade Gradle to 7. Now gradle build was working fine on 4.2 but on version 7 it doesn&#39;t build gradle.build and throws following error.\r\n\r\n```Build file &#39;/Users/builder/Documents/payment/Clients/iOS/build.gradle&#39; line: 117\r\n\r\nCould not compile build file &#39;/Users/builder/Documents/payment/Clients/iOS/build.gradle&#39;.\r\n&gt; startup failed:\r\n  build file &#39;/Users/builder/Documents/payment/Clients/iOS/build.gradle&#39;: 117: Unexpected input: &#39;{&#39; @ line 117, column 28.\r\n     gradle.taskGraph.whenReady { taskGraph -&gt;  \r\n```\r\nIt complains about &quot;{&quot;. I have basic knowledge of gradle tasks and I&#39;m learning as doing all of this. \r\n\r\nfollowing is the Gradle code where this line came from : \r\n\r\n```\r\ngradle.taskGraph.whenReady { taskGraph -&gt;\r\n\r\n    if (taskGraph.hasTask(package) ) {\r\n        if (project.hasProperty(&#39;buildtype&#39;)) {\r\n            buildType = buildtype\r\n            println &quot;### Project has buildType = $buildType&quot;\r\n        }\r\n\r\n```\r\nCan someone please guide me how to handle this?","title":"Gradle Unexpected input: &#39;{&#39; When upgrade gradle from 4.2 to 7.0","body":"<p>I'm trying to upgrade an old project. Actually, I had to upgrade targetAPILevel to 33 from 30 which eventually requires JDK upgrade from 1.8 to 11.I could be wrong but JDK 11 requires Gradle version upgrade from 4.2 to 7. So I did upgrade Gradle to 7. Now gradle build was working fine on 4.2 but on version 7 it doesn't build gradle.build and throws following error.</p>\n<pre><code>\nCould not compile build file '/Users/builder/Documents/payment/Clients/iOS/build.gradle'.\n&gt; startup failed:\n  build file '/Users/builder/Documents/payment/Clients/iOS/build.gradle': 117: Unexpected input: '{' @ line 117, column 28.\n     gradle.taskGraph.whenReady { taskGraph -&gt;  \n</code></pre>\n<p>It complains about &quot;{&quot;. I have basic knowledge of gradle tasks and I'm learning as doing all of this.</p>\n<p>following is the Gradle code where this line came from :</p>\n<pre><code>gradle.taskGraph.whenReady { taskGraph -&gt;\n\n    if (taskGraph.hasTask(package) ) {\n        if (project.hasProperty('buildtype')) {\n            buildType = buildtype\n            println &quot;### Project has buildType = $buildType&quot;\n        }\n\n</code></pre>\n<p>Can someone please guide me how to handle this?</p>\n"},{"tags":["java","recursion","iteration"],"answers":[{"comments":[{"owner":{"account_id":1340191,"reputation":65,"user_id":1282015,"accept_rate":100,"display_name":"Fabio Abreu"},"score":0,"creation_date":1679085914,"post_id":75772008,"comment_id":133664360,"body_markdown":"So just doing &quot;sosa =&quot; on the getGeneration inside the while does solve it as well.","body":"So just doing &quot;sosa =&quot; on the getGeneration inside the while does solve it as well."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1679085985,"post_id":75772008,"comment_id":133664383,"body_markdown":"@FabioAbreu No, that doesn&#39;t give the right output. That returns `3` for input of `8`.","body":"@FabioAbreu No, that doesn&#39;t give the right output. That returns <code>3</code> for input of <code>8</code>."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1679086038,"post_id":75772008,"comment_id":133664397,"body_markdown":"Since you&#39;re essentially calculating the base 2 log, you need to divide `sosa` by `2` each time.","body":"Since you&#39;re essentially calculating the base 2 log, you need to divide <code>sosa</code> by <code>2</code> each time."},{"owner":{"account_id":1340191,"reputation":65,"user_id":1282015,"accept_rate":100,"display_name":"Fabio Abreu"},"score":0,"creation_date":1679086194,"post_id":75772008,"comment_id":133664426,"body_markdown":"@Umitigated alright gotcha, that makes sense.","body":"@Umitigated alright gotcha, that makes sense."}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679085176,"creation_date":1679085176,"answer_id":75772008,"question_id":75771932,"body_markdown":"Once the `while` loop is entered, there is no way to terminate, as you never change `sosa`. Dividing it by 2 each time in the loop will fix this.\r\n\r\nA few other notes:\r\n- You can initialize `toRet` to `0` and check for `sosa` being non-zero rather than `sosa / 2` being non-zero.\r\n- There is no need to cast `sosa / 2` to `int` as the result of the division of two `int`s is guaranteed to be an `int`.\r\n\r\n```java\r\npublic int getGeneration(int sosa) {\r\n    int toRet = 0;\r\n    while (sosa != 0) {\r\n        toRet++;\r\n        sosa /= 2;\r\n    }\r\n    return toRet;\r\n}\r\n```\r\n\r\nThis can also be simplified by looking at the binary representation of the input:\r\n\r\n```java\r\nreturn 32 - Integer.numberOfLeadingZeros(sosa);\r\n```","title":"Recursive Iteration looping forever after first","body":"<p>Once the <code>while</code> loop is entered, there is no way to terminate, as you never change <code>sosa</code>. Dividing it by 2 each time in the loop will fix this.</p>\n<p>A few other notes:</p>\n<ul>\n<li>You can initialize <code>toRet</code> to <code>0</code> and check for <code>sosa</code> being non-zero rather than <code>sosa / 2</code> being non-zero.</li>\n<li>There is no need to cast <code>sosa / 2</code> to <code>int</code> as the result of the division of two <code>int</code>s is guaranteed to be an <code>int</code>.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public int getGeneration(int sosa) {\n    int toRet = 0;\n    while (sosa != 0) {\n        toRet++;\n        sosa /= 2;\n    }\n    return toRet;\n}\n</code></pre>\n<p>This can also be simplified by looking at the binary representation of the input:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return 32 - Integer.numberOfLeadingZeros(sosa);\n</code></pre>\n"}],"owner":{"account_id":1340191,"reputation":65,"user_id":1282015,"accept_rate":100,"display_name":"Fabio Abreu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75772008,"answer_count":1,"score":0,"last_activity_date":1679085176,"creation_date":1679084640,"question_id":75771932,"body_markdown":"I have very simple code, that for a SOSA STRADONITZ number returns the generation of the person: \r\n\r\n1 is 1\r\n\r\n2-3 is 2\r\n\r\n4-7 is 3\r\n\r\n8-15 is 4\r\n\r\n16-13 is 5\r\n\r\n(...)\r\n\r\n\r\nThe code is the follwing, but it does not return ever after the second point, why?\r\n````\r\npublic static void main(String[] args) {\r\n        FamilyTree f = new FamilyTree(null);\r\n        for (int i = 1; i &lt;= 2; i++) {\r\n            f.getGeneration(i);\r\n            System.out.println(&quot;returned!&quot;);\r\n        }\r\n    }\r\n\r\npublic int getGeneration(int sosa) {\r\n        System.out.println(&quot;SOSA: &quot; + sosa);\r\n        int toRet = 1;\r\n        while ((int) sosa / 2 != 0) {\r\n            toRet++;\r\n            getGeneration((int) sosa / 2);\r\n        }\r\n        return toRet;\r\n    }\r\n\r\n````\r\nit prints:\r\n\r\nSOSA: 1\r\n\r\nreturned!\r\n\r\nSOSA: 2\r\n\r\nSOSA: 1\r\n\r\nSOSA: 1\r\n\r\nSOSA: 1\r\n\r\n(SOSA: 1) forever","title":"Recursive Iteration looping forever after first","body":"<p>I have very simple code, that for a SOSA STRADONITZ number returns the generation of the person:</p>\n<p>1 is 1</p>\n<p>2-3 is 2</p>\n<p>4-7 is 3</p>\n<p>8-15 is 4</p>\n<p>16-13 is 5</p>\n<p>(...)</p>\n<p>The code is the follwing, but it does not return ever after the second point, why?</p>\n<pre><code>public static void main(String[] args) {\n        FamilyTree f = new FamilyTree(null);\n        for (int i = 1; i &lt;= 2; i++) {\n            f.getGeneration(i);\n            System.out.println(&quot;returned!&quot;);\n        }\n    }\n\npublic int getGeneration(int sosa) {\n        System.out.println(&quot;SOSA: &quot; + sosa);\n        int toRet = 1;\n        while ((int) sosa / 2 != 0) {\n            toRet++;\n            getGeneration((int) sosa / 2);\n        }\n        return toRet;\n    }\n\n</code></pre>\n<p>it prints:</p>\n<p>SOSA: 1</p>\n<p>returned!</p>\n<p>SOSA: 2</p>\n<p>SOSA: 1</p>\n<p>SOSA: 1</p>\n<p>SOSA: 1</p>\n<p>(SOSA: 1) forever</p>\n"},{"tags":["java","pdf","java-8","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1679065943,"post_id":75767748,"comment_id":133659517,"body_markdown":"I don&#39;t really understand, which two extra space characters are added where? And how do you extract text to start with? You show two methods, but how are they used in your approach?","body":"I don&#39;t really understand, which two extra space characters are added where? And how do you extract text to start with? You show two methods, but how are they used in your approach?"},{"owner":{"account_id":26768635,"reputation":1,"user_id":20365389,"display_name":"vishal bhardwaj"},"score":0,"creation_date":1679084833,"post_id":75767748,"comment_id":133664138,"body_markdown":"@mkl I have made few changes to the question. Please have a look and let me know if you need anything else.","body":"@mkl I have made few changes to the question. Please have a look and let me know if you need anything else."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1679387184,"post_id":75767748,"comment_id":133708054,"body_markdown":"If I understand you correctly, you are surprised about two space characters, one before the &quot;D&quot;, one after the &quot;c&quot;. But at least the space right in front of the &quot;D&quot; clearly is drawn by the `( ) Tj` at the start of your content stream excerpt. To identify the instruction drawing the space after the &quot;c&quot;, though, your excerpt is to small.","body":"If I understand you correctly, you are surprised about two space characters, one before the &quot;D&quot;, one after the &quot;c&quot;. But at least the space right in front of the &quot;D&quot; clearly is drawn by the <code>( ) Tj</code> at the start of your content stream excerpt. To identify the instruction drawing the space after the &quot;c&quot;, though, your excerpt is to small."}],"owner":{"account_id":26768635,"reputation":1,"user_id":20365389,"display_name":"vishal bhardwaj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679084636,"creation_date":1679057129,"question_id":75767748,"body_markdown":"I have extracted text from iText. And created a list of characters along with there location. This is the code for creating textInfoList with line locations.\r\n\r\n    @Override\r\n    void eventOccurred(IEventData data, EventType type) {\r\n        if (type== EventType.RENDER_TEXT) {\r\n            TextRenderInfo renderInfo = (TextRenderInfo) data\r\n            textInfoItems.addAll(TextInfoFactory.createTextInfoList(renderInfo))\r\n        }\r\n    }\r\n\r\n        static List&lt;TextInfo&gt; createTextInfoList(TextRenderInfo renderInfo) {\r\n        List&lt;TextInfo&gt; infoList = new ArrayList&lt;&gt;()\r\n        String text\r\n        PdfFont font = renderInfo.getFont()\r\n        FontProgram fontProgram = font?.getFontProgram()\r\n        FontNames fontNames = fontProgram?.getFontNames()\r\n        String fontName = fontNames?.getFontName()\r\n        PdfString pdfString = renderInfo.getPdfString()\r\n        String rawValue = pdfString?.getValue()\r\n        // Get actual font size for rendered text\r\n        float textFontSize = getFontSize(renderInfo)\r\n\r\n        if (pdfString &amp;&amp; !StringUtils.isEmpty(rawValue)) {\r\n\r\n            if (!fontName) {\r\n                // Work around for bad fonts\r\n                text = rawValue.replaceAll(&#39;\\u009C&#39;, &#39;*&#39;).replaceAll(&#39;\\\\p{C}\\\\s*&#39;, &#39; &#39;)\r\n            } else {\r\n                // Sometimes the symbol font isn&#39;t loaded properly\r\n                if (fontName?.contains(&quot;Symbol&quot;)) {\r\n                    try {\r\n                        font = PdfFontFactory.createFont(&quot;Symbol&quot;)\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace()\r\n                    }\r\n                }\r\n                GlyphLine gl = font.decodeIntoGlyphLine(pdfString)\r\n                // Our custom unicode conversion adjusts for fonts that are missing unicode map.\r\n\r\n                final char REPLACEMENT_CHARACTER = &#39;\\ufffd&#39;\r\n                ActualTextIterator iterator = new ActualTextIterator(gl, gl.start, gl.end)\r\n                StringBuilder str = new StringBuilder()\r\n                while (iterator.hasNext()) {\r\n                    GlyphLine.GlyphLinePart part = iterator?.next()\r\n                    if (part.actualText != null) {\r\n                        str.append(part.actualText)\r\n                    } else {\r\n                        for (int i = part.start; i &lt; part.end; i++) {\r\n                            if (gl.get(i)) {\r\n                                // This is our custom fix for bad characters in font\r\n                                // If we can&#39;t use font value, then just get char value from the raw string.\r\n                                char[] unicodeChars = gl.get(i).getUnicodeChars()\r\n                                for (int j = 0; j &lt; unicodeChars.length; ++j) {\r\n                                    // iText uses arbitrary replacement logic, we  need something better.\r\n                                    // https://en.wikipedia.org/wiki/Bullet_(typography)#In_Unicode\r\n                                    String value = getCharacterForUnicode(fontName, unicodeChars[j])\r\n                                    if (value) {\r\n                                        str.append(value)\r\n                                    } else if (unicodeChars[j].equals(REPLACEMENT_CHARACTER)) {\r\n                                        char charAtIndex = rawValue.charAt(j + i)\r\n                                        str.append((charAtIndex != &#39;\\t&#39;) ? charAtIndex : &#39; &#39;)\r\n                                    } else {\r\n                                        str.append(unicodeChars[j])\r\n                                    }\r\n                                }\r\n                            } else if (rawValue.length() &gt; 0 &amp;&amp; i &lt; rawValue.length()) {\r\n                                // replace funky chars\r\n                                str.append(rawValue.replaceAll(&#39;\\u009C&#39;, &#39;*&#39;).replaceAll(&#39;\\\\p{C}&#39;, &#39; &#39;).charAt(i))\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                text = str.toString().replaceAll(&#39;[^\\\\u0009\\\\u000a\\\\u000d\\\\u0020-\\\\uD7FF\\\\uE000-\\\\uFFFD]|\\t&#39;, &#39;&#39;)\r\n            }\r\n\r\n            if (text.length() == 1) {\r\n                // USE CASE 1\r\n                // This is a very common use case\r\n                infoList.add(\r\n                        new TextInfo(\r\n                                text,\r\n                                new TextInfoLocation(\r\n                                        renderInfo.ascentLine,\r\n                                        renderInfo.baseline,\r\n                                        renderInfo.descentLine,\r\n                                        renderInfo.rise,\r\n                                        renderInfo.singleSpaceWidth),\r\n                                renderInfo.getFont(),\r\n                                textFontSize,\r\n                                renderInfo.getStrokeColor()))\r\n            } else if (text.length() &lt;= renderInfo.characterRenderInfos.size()) {\r\n                // USE CASE 2\r\n                // This is the other normal use case. We have all of the render information for each character in a longer string\r\n                // If there is more than enough character render info, we assume the ones at the end are not needed.\r\n                text.eachWithIndex { String entry, int i -&gt;\r\n                    TextRenderInfo charInfo = renderInfo.characterRenderInfos[i]\r\n                    infoList.add(\r\n                            new TextInfo(\r\n                                    entry,\r\n                                    new TextInfoLocation(\r\n                                            charInfo.ascentLine,\r\n                                            charInfo.baseline,\r\n                                            charInfo.descentLine,\r\n                                            charInfo.rise,\r\n                                            charInfo.singleSpaceWidth),\r\n                                    renderInfo.getFont(),\r\n                                    textFontSize,\r\n                                    renderInfo.getStrokeColor()))\r\n                }\r\n                if (text.length() &lt; renderInfo.characterRenderInfos.size()) {\r\n                    // DEV NOTE: If the characterRenderInfos are actually incorrect or off a bit, consider also using the logic in the else-if below as a potential solution.\r\n                    // Such a condition has not been fully researched.\r\n                    log.trace(&quot;RARE CONDITION (Text USE CASE 2): More character information than actual text. Confirm text positions are correct.&quot;)\r\n                }\r\n            } else if (text.length() &gt; renderInfo.characterRenderInfos.size()) {\r\n                // USE CASE 3\r\n                // We have more text than render information. This situation shouldn&#39;t happen, but it can in poorly created PDFs.\r\n                log.trace(&quot;RARE CONDITION (Text USE CASE 3): More text than actual character info. Confirm text positions are correct.&quot;)\r\n                // Take the full length of the render info and slice it up evenly by the number of characters.\r\n                // This algorithm works regardless of rotation\r\n                float ascentLineStartX = renderInfo.ascentLine.startPoint.get(I1)\r\n                float ascentLineStartY = renderInfo.ascentLine.startPoint.get(I2)\r\n\r\n                float baselineStartX = renderInfo.baseline.startPoint.get(I1)\r\n                float baselineStartY = renderInfo.baseline.startPoint.get(I2)\r\n                float baselineEndX = renderInfo.baseline.endPoint.get(I1)\r\n                float baselineEndY = renderInfo.baseline.endPoint.get(I2)\r\n\r\n                float descentLineStartX = renderInfo.descentLine.startPoint.get(I1)\r\n                float descentLineStartY = renderInfo.descentLine.startPoint.get(I2)\r\n\r\n                // Assume diff is the same for all 3 line segments\r\n                float xDiff = (float) ((baselineEndX - baselineStartX) / text.length())\r\n                float yDiff = (float) ((baselineEndY - baselineStartY) / text.length())\r\n\r\n                text.eachWithIndex { String entry, int i -&gt;\r\n                    Vector startVector = new Vector(ascentLineStartX, ascentLineStartY, 1f)\r\n                    ascentLineStartX += xDiff\r\n                    ascentLineStartY += yDiff\r\n                    Vector endVector = new Vector(ascentLineStartX, ascentLineStartY, 1f)\r\n                    LineSegment ascentLine = new LineSegment(startVector, endVector)\r\n\r\n                    startVector = new Vector(baselineStartX, baselineStartY, 1f)\r\n                    baselineStartX += xDiff\r\n                    baselineStartY += yDiff\r\n                    endVector = new Vector(baselineStartX, baselineStartY, 1f)\r\n                    LineSegment baseline = new LineSegment(startVector, endVector)\r\n\r\n                    startVector = new Vector(descentLineStartX, descentLineStartY, 1f)\r\n                    descentLineStartX += xDiff\r\n                    descentLineStartY += yDiff\r\n                    endVector = new Vector(descentLineStartX, descentLineStartY, 1f)\r\n                    LineSegment descentLine = new LineSegment(startVector, endVector)\r\n\r\n                    infoList.add(\r\n                            new TextInfo(\r\n                                    entry,\r\n                                    new TextInfoLocation(\r\n                                            ascentLine,\r\n                                            baseline,\r\n                                            descentLine,\r\n                                            renderInfo.rise,\r\n                                            renderInfo.singleSpaceWidth),\r\n                                    renderInfo.getFont(),\r\n                                    textFontSize,\r\n                                    renderInfo.getStrokeColor()))\r\n                }\r\n            }\r\n        }\r\n        return infoList\r\n    }\r\n\r\nThis is stream of text from iText.\r\n```\r\n-0.606 -1.121 Td\r\n( ) Tj\r\n0.006 Tc\r\n0.606 0 Td\r\n(Data Set Location: h) Tj\r\n(ome/lillyce/prd/ly2148568/h8o_mc_gwde/final/data/shared/ads                                                     ) Tj\r\n0 Tc\r\n( ) Tj\r\nEMC\r\n/P &lt;&lt;/MCID 41 &gt;&gt; BDC\r\n/F2 1 Tf\r\n12 0 0 12 72 103.44 Tm\r\n&lt;0003&gt; Tj\r\n/F1 1 Tf\r\n7.92 0 0 7.92 216 103.44 Tm\r\n( ) Tj\r\n```\r\n\r\nAfter the line &quot;Data Set Location: home/lillyce/prd/ly2148568/h8o_mc_gwde/final/data/shared/ads      &quot;. There are some weird characters which I don&#39;t understand.\r\nThose weird characters are added to the line something like this.\r\n   &quot;  Data Set Location: home/lillyc e/prd/ly2148568/h8o_mc_gwde/final/data/shared/ads      &quot;\r\nJust before &quot;D&quot; one space is added and after &quot;c&quot; in &quot;lillyce&quot; one space is added.\r\n```\r\nI am sorting them based on there location.\r\nThis is the code for checking each character location for same line or different line.\r\n\r\nboolean isOnTheSameLine(PdfLocation otherLocation) {\r\n        // Angular magnitudes must be the same to be considered on the same line.\r\n        if (angularMagnitude != otherLocation.angularMagnitude) {\r\n            return false\r\n        }\r\n\r\n        // Completely different lines\r\n        if (distPerpendicularEnd &lt; otherLocation.distPerpendicularStart || distPerpendicularStart &gt; otherLocation.distPerpendicularEnd) {\r\n            return false\r\n        }\r\n\r\n        // Start perpendicular edges are VERY close (also handles some sub/superscript)\r\n        float distTopStartDiff = (float) Math.abs(distPerpendicularStart - otherLocation.distPerpendicularStart)\r\n        if (distTopStartDiff &lt; FLOAT_EPSILON) {\r\n            return true\r\n        }\r\n\r\n        // End perpendicular edges are VERY close (also handles some sub/superscript)\r\n        float distTopEndDiff = (float) Math.abs(distPerpendicularEnd - otherLocation.distPerpendicularEnd)\r\n        if (distTopEndDiff &lt; FLOAT_EPSILON) {\r\n            return true\r\n        }\r\n\r\n        // Subscript and superscript detection\r\n        if (isOnTheSameLinePartially(otherLocation)) {\r\n            return true\r\n        }\r\n\r\n        // RARE USE CASE: Some kind of condition inherited from iText -- Serves a purpose in some weird circumstance when no width is present.\r\n        return distTopStartDiff &lt;= DIACRITICAL_MARKS_ALLOWED_VERTICAL_DEVIATION &amp;&amp; (distParallelStart == distParallelEnd || otherLocation.distParallelStart == otherLocation.distParallelEnd)\r\n    }\r\n```\r\nSo while checking each character for same line. \r\n\r\n0 Tc\r\n( ) Tj\r\nEMC\r\n/P &lt;&lt;/MCID 41 &gt;&gt; BDC\r\n/F2 1 Tf\r\n12 0 0 12 72 103.44 Tm\r\n&lt;0003&gt; Tj\r\n/F1 1 Tf\r\n7.92 0 0 7.92 216 103.44 Tm\r\n( ) Tj\r\n\r\nSomehow these two weird characters are considered in same line as \r\n&quot;Data Set Location: home/lillyce/prd/ly2148568/h8o_mc_gwde/final/data/shared/ads      &quot;\r\n\r\n","title":"Text extracted from iText not properly rendered","body":"<p>I have extracted text from iText. And created a list of characters along with there location. This is the code for creating textInfoList with line locations.</p>\n<pre><code>@Override\nvoid eventOccurred(IEventData data, EventType type) {\n    if (type== EventType.RENDER_TEXT) {\n        TextRenderInfo renderInfo = (TextRenderInfo) data\n        textInfoItems.addAll(TextInfoFactory.createTextInfoList(renderInfo))\n    }\n}\n\n    static List&lt;TextInfo&gt; createTextInfoList(TextRenderInfo renderInfo) {\n    List&lt;TextInfo&gt; infoList = new ArrayList&lt;&gt;()\n    String text\n    PdfFont font = renderInfo.getFont()\n    FontProgram fontProgram = font?.getFontProgram()\n    FontNames fontNames = fontProgram?.getFontNames()\n    String fontName = fontNames?.getFontName()\n    PdfString pdfString = renderInfo.getPdfString()\n    String rawValue = pdfString?.getValue()\n    // Get actual font size for rendered text\n    float textFontSize = getFontSize(renderInfo)\n\n    if (pdfString &amp;&amp; !StringUtils.isEmpty(rawValue)) {\n\n        if (!fontName) {\n            // Work around for bad fonts\n            text = rawValue.replaceAll('\\u009C', '*').replaceAll('\\\\p{C}\\\\s*', ' ')\n        } else {\n            // Sometimes the symbol font isn't loaded properly\n            if (fontName?.contains(&quot;Symbol&quot;)) {\n                try {\n                    font = PdfFontFactory.createFont(&quot;Symbol&quot;)\n                } catch (IOException e) {\n                    e.printStackTrace()\n                }\n            }\n            GlyphLine gl = font.decodeIntoGlyphLine(pdfString)\n            // Our custom unicode conversion adjusts for fonts that are missing unicode map.\n\n            final char REPLACEMENT_CHARACTER = '\\ufffd'\n            ActualTextIterator iterator = new ActualTextIterator(gl, gl.start, gl.end)\n            StringBuilder str = new StringBuilder()\n            while (iterator.hasNext()) {\n                GlyphLine.GlyphLinePart part = iterator?.next()\n                if (part.actualText != null) {\n                    str.append(part.actualText)\n                } else {\n                    for (int i = part.start; i &lt; part.end; i++) {\n                        if (gl.get(i)) {\n                            // This is our custom fix for bad characters in font\n                            // If we can't use font value, then just get char value from the raw string.\n                            char[] unicodeChars = gl.get(i).getUnicodeChars()\n                            for (int j = 0; j &lt; unicodeChars.length; ++j) {\n                                // iText uses arbitrary replacement logic, we  need something better.\n                                // https://en.wikipedia.org/wiki/Bullet_(typography)#In_Unicode\n                                String value = getCharacterForUnicode(fontName, unicodeChars[j])\n                                if (value) {\n                                    str.append(value)\n                                } else if (unicodeChars[j].equals(REPLACEMENT_CHARACTER)) {\n                                    char charAtIndex = rawValue.charAt(j + i)\n                                    str.append((charAtIndex != '\\t') ? charAtIndex : ' ')\n                                } else {\n                                    str.append(unicodeChars[j])\n                                }\n                            }\n                        } else if (rawValue.length() &gt; 0 &amp;&amp; i &lt; rawValue.length()) {\n                            // replace funky chars\n                            str.append(rawValue.replaceAll('\\u009C', '*').replaceAll('\\\\p{C}', ' ').charAt(i))\n                        }\n                    }\n                }\n            }\n            text = str.toString().replaceAll('[^\\\\u0009\\\\u000a\\\\u000d\\\\u0020-\\\\uD7FF\\\\uE000-\\\\uFFFD]|\\t', '')\n        }\n\n        if (text.length() == 1) {\n            // USE CASE 1\n            // This is a very common use case\n            infoList.add(\n                    new TextInfo(\n                            text,\n                            new TextInfoLocation(\n                                    renderInfo.ascentLine,\n                                    renderInfo.baseline,\n                                    renderInfo.descentLine,\n                                    renderInfo.rise,\n                                    renderInfo.singleSpaceWidth),\n                            renderInfo.getFont(),\n                            textFontSize,\n                            renderInfo.getStrokeColor()))\n        } else if (text.length() &lt;= renderInfo.characterRenderInfos.size()) {\n            // USE CASE 2\n            // This is the other normal use case. We have all of the render information for each character in a longer string\n            // If there is more than enough character render info, we assume the ones at the end are not needed.\n            text.eachWithIndex { String entry, int i -&gt;\n                TextRenderInfo charInfo = renderInfo.characterRenderInfos[i]\n                infoList.add(\n                        new TextInfo(\n                                entry,\n                                new TextInfoLocation(\n                                        charInfo.ascentLine,\n                                        charInfo.baseline,\n                                        charInfo.descentLine,\n                                        charInfo.rise,\n                                        charInfo.singleSpaceWidth),\n                                renderInfo.getFont(),\n                                textFontSize,\n                                renderInfo.getStrokeColor()))\n            }\n            if (text.length() &lt; renderInfo.characterRenderInfos.size()) {\n                // DEV NOTE: If the characterRenderInfos are actually incorrect or off a bit, consider also using the logic in the else-if below as a potential solution.\n                // Such a condition has not been fully researched.\n                log.trace(&quot;RARE CONDITION (Text USE CASE 2): More character information than actual text. Confirm text positions are correct.&quot;)\n            }\n        } else if (text.length() &gt; renderInfo.characterRenderInfos.size()) {\n            // USE CASE 3\n            // We have more text than render information. This situation shouldn't happen, but it can in poorly created PDFs.\n            log.trace(&quot;RARE CONDITION (Text USE CASE 3): More text than actual character info. Confirm text positions are correct.&quot;)\n            // Take the full length of the render info and slice it up evenly by the number of characters.\n            // This algorithm works regardless of rotation\n            float ascentLineStartX = renderInfo.ascentLine.startPoint.get(I1)\n            float ascentLineStartY = renderInfo.ascentLine.startPoint.get(I2)\n\n            float baselineStartX = renderInfo.baseline.startPoint.get(I1)\n            float baselineStartY = renderInfo.baseline.startPoint.get(I2)\n            float baselineEndX = renderInfo.baseline.endPoint.get(I1)\n            float baselineEndY = renderInfo.baseline.endPoint.get(I2)\n\n            float descentLineStartX = renderInfo.descentLine.startPoint.get(I1)\n            float descentLineStartY = renderInfo.descentLine.startPoint.get(I2)\n\n            // Assume diff is the same for all 3 line segments\n            float xDiff = (float) ((baselineEndX - baselineStartX) / text.length())\n            float yDiff = (float) ((baselineEndY - baselineStartY) / text.length())\n\n            text.eachWithIndex { String entry, int i -&gt;\n                Vector startVector = new Vector(ascentLineStartX, ascentLineStartY, 1f)\n                ascentLineStartX += xDiff\n                ascentLineStartY += yDiff\n                Vector endVector = new Vector(ascentLineStartX, ascentLineStartY, 1f)\n                LineSegment ascentLine = new LineSegment(startVector, endVector)\n\n                startVector = new Vector(baselineStartX, baselineStartY, 1f)\n                baselineStartX += xDiff\n                baselineStartY += yDiff\n                endVector = new Vector(baselineStartX, baselineStartY, 1f)\n                LineSegment baseline = new LineSegment(startVector, endVector)\n\n                startVector = new Vector(descentLineStartX, descentLineStartY, 1f)\n                descentLineStartX += xDiff\n                descentLineStartY += yDiff\n                endVector = new Vector(descentLineStartX, descentLineStartY, 1f)\n                LineSegment descentLine = new LineSegment(startVector, endVector)\n\n                infoList.add(\n                        new TextInfo(\n                                entry,\n                                new TextInfoLocation(\n                                        ascentLine,\n                                        baseline,\n                                        descentLine,\n                                        renderInfo.rise,\n                                        renderInfo.singleSpaceWidth),\n                                renderInfo.getFont(),\n                                textFontSize,\n                                renderInfo.getStrokeColor()))\n            }\n        }\n    }\n    return infoList\n}\n</code></pre>\n<p>This is stream of text from iText.</p>\n<pre><code>-0.606 -1.121 Td\n( ) Tj\n0.006 Tc\n0.606 0 Td\n(Data Set Location: h) Tj\n(ome/lillyce/prd/ly2148568/h8o_mc_gwde/final/data/shared/ads                                                     ) Tj\n0 Tc\n( ) Tj\nEMC\n/P &lt;&lt;/MCID 41 &gt;&gt; BDC\n/F2 1 Tf\n12 0 0 12 72 103.44 Tm\n&lt;0003&gt; Tj\n/F1 1 Tf\n7.92 0 0 7.92 216 103.44 Tm\n( ) Tj\n</code></pre>\n<p>After the line &quot;Data Set Location: home/lillyce/prd/ly2148568/h8o_mc_gwde/final/data/shared/ads      &quot;. There are some weird characters which I don't understand.\nThose weird characters are added to the line something like this.\n&quot;  Data Set Location: home/lillyc e/prd/ly2148568/h8o_mc_gwde/final/data/shared/ads      &quot;\nJust before &quot;D&quot; one space is added and after &quot;c&quot; in &quot;lillyce&quot; one space is added.</p>\n<pre><code>I am sorting them based on there location.\nThis is the code for checking each character location for same line or different line.\n\nboolean isOnTheSameLine(PdfLocation otherLocation) {\n        // Angular magnitudes must be the same to be considered on the same line.\n        if (angularMagnitude != otherLocation.angularMagnitude) {\n            return false\n        }\n\n        // Completely different lines\n        if (distPerpendicularEnd &lt; otherLocation.distPerpendicularStart || distPerpendicularStart &gt; otherLocation.distPerpendicularEnd) {\n            return false\n        }\n\n        // Start perpendicular edges are VERY close (also handles some sub/superscript)\n        float distTopStartDiff = (float) Math.abs(distPerpendicularStart - otherLocation.distPerpendicularStart)\n        if (distTopStartDiff &lt; FLOAT_EPSILON) {\n            return true\n        }\n\n        // End perpendicular edges are VERY close (also handles some sub/superscript)\n        float distTopEndDiff = (float) Math.abs(distPerpendicularEnd - otherLocation.distPerpendicularEnd)\n        if (distTopEndDiff &lt; FLOAT_EPSILON) {\n            return true\n        }\n\n        // Subscript and superscript detection\n        if (isOnTheSameLinePartially(otherLocation)) {\n            return true\n        }\n\n        // RARE USE CASE: Some kind of condition inherited from iText -- Serves a purpose in some weird circumstance when no width is present.\n        return distTopStartDiff &lt;= DIACRITICAL_MARKS_ALLOWED_VERTICAL_DEVIATION &amp;&amp; (distParallelStart == distParallelEnd || otherLocation.distParallelStart == otherLocation.distParallelEnd)\n    }\n</code></pre>\n<p>So while checking each character for same line.</p>\n<p>0 Tc\n( ) Tj\nEMC\n/P &lt;&lt;/MCID 41 &gt;&gt; BDC\n/F2 1 Tf\n12 0 0 12 72 103.44 Tm\n&lt;0003&gt; Tj\n/F1 1 Tf\n7.92 0 0 7.92 216 103.44 Tm\n( ) Tj</p>\n<p>Somehow these two weird characters are considered in same line as\n&quot;Data Set Location: home/lillyce/prd/ly2148568/h8o_mc_gwde/final/data/shared/ads      &quot;</p>\n"},{"tags":["java","option-type"],"answers":[{"comments":[{"owner":{"account_id":372920,"reputation":40426,"user_id":722263,"accept_rate":87,"display_name":"Ray"},"score":0,"creation_date":1678972919,"post_id":70337375,"comment_id":133639071,"body_markdown":"As theres no guarantee in the OP question of not having multiple instances of a role in the `roles` collection with different expiry dates but identical `UserRole`.  It just asks:  &quot;I want to know if a User has a particular UserRole and it is unexpired&quot;.  Your method  would return `false` if the first match for a UserRole found in stream is expired, but theres a later one in the stream is unexpired.","body":"As theres no guarantee in the OP question of not having multiple instances of a role in the <code>roles</code> collection with different expiry dates but identical <code>UserRole</code>.  It just asks:  &quot;I want to know if a User has a particular UserRole and it is unexpired&quot;.  Your method  would return <code>false</code> if the first match for a UserRole found in stream is expired, but theres a later one in the stream is unexpired."}],"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1678980872,"creation_date":1639410724,"answer_id":70337375,"question_id":70337324,"body_markdown":"You should use `Optional::map` to retrieve value of `isUnexpired`, and `orElse` to return `false`:\r\n```java\r\npublic boolean hasRole (UserRole userRole) {\r\n    return roles.stream()\r\n        .filter(r -&gt; r.getRole().equals(userRole))\r\n        .findFirst()\r\n        .map(Role::isUnexpired)\r\n        .orElse(false);\r\n}\r\n```\r\n----\r\nIn case there are _multiple_ identical roles with _different_ expiration dates (a bit weird use case mentioned by @Ray), additional sorting by the expiry date (descending) may be needed to resolve the conflict:\r\n```java\r\npublic boolean hasRole (UserRole userRole) {\r\n    return roles.stream()\r\n        .filter(r -&gt; r.getRole().equals(userRole))\r\n        .sorted(Comparator.comparing(Role::getExpiry).reversed())\r\n        .findFirst()\r\n        .map(Role::isUnexpired)\r\n        .orElse(false);\r\n}\r\n```\r\n","title":"Getting a value from an inside an Optional with isPresent()","body":"<p>You should use <code>Optional::map</code> to retrieve value of <code>isUnexpired</code>, and <code>orElse</code> to return <code>false</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean hasRole (UserRole userRole) {\n    return roles.stream()\n        .filter(r -&gt; r.getRole().equals(userRole))\n        .findFirst()\n        .map(Role::isUnexpired)\n        .orElse(false);\n}\n</code></pre>\n<hr />\n<p>In case there are <em>multiple</em> identical roles with <em>different</em> expiration dates (a bit weird use case mentioned by @Ray), additional sorting by the expiry date (descending) may be needed to resolve the conflict:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean hasRole (UserRole userRole) {\n    return roles.stream()\n        .filter(r -&gt; r.getRole().equals(userRole))\n        .sorted(Comparator.comparing(Role::getExpiry).reversed())\n        .findFirst()\n        .map(Role::isUnexpired)\n        .orElse(false);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639410873,"creation_date":1639410873,"answer_id":70337413,"question_id":70337324,"body_markdown":"&gt; However, I would rather do it with a cleaner, chained function.\r\n\r\nWhy would a chained function be &#39;cleaner&#39;? As you can see, it makes it _much_ more difficult to adapt code to changing requirements, _and_ enforces weird style choices on your other code in order to dance around the fact that you can&#39;t use mutable local variables and don&#39;t get control flow or checked exception transparency. I don&#39;t know what definition of &#39;cleaner&#39; you&#39;re working on, but clearly it&#39;s not &quot;code that leads to easier to modify, easier to test, easier to read, easier to fit inside code with other requirements&quot;, which seems like a much more sensible definition to me. Perhaps your definition is based in aesthetics. Well, as they say, you can&#39;t argue with taste, perhaps.\r\n\r\nAt any rate, you have two options:\r\n\r\n## Map optional.NONE onto a sentinel that then fails the test.\r\n\r\nYou can simply use `.orElse()` here:\r\n\r\n```java\r\n...\r\n.findFirst()\r\n.orElse(dummyRoleThatIsDefinitelyExpired)\r\n.isUnexpired();\r\n```\r\n\r\n## Map the optional.SOME\r\n\r\n```java\r\n...\r\n.findFirst()\r\n.map(r -&gt; r.isUnexpired())\r\n.orElse(false);\r\n```\r\n\r\nThe `map` call will return either an Optional.NONE, or an Optional of `Boolean.TRUE` or an optional of Boolean.FALSE. We then `orElse` the NONE case onto FALSE and we now have a boolean to return.\r\n\r\nI&#39;d say the first snippet is easier to follow, but it requires having a dummy role that is definitely expired.\r\n\r\nNB: If you care about clean functions, sticking negatives in boolean method names is not a good idea for obvious reasons. Instead of `Unexpired`, perhaps `isLive()` or `isValid()` is a better idea.\r\n","title":"Getting a value from an inside an Optional with isPresent()","body":"<blockquote>\n<p>However, I would rather do it with a cleaner, chained function.</p>\n</blockquote>\n<p>Why would a chained function be 'cleaner'? As you can see, it makes it <em>much</em> more difficult to adapt code to changing requirements, <em>and</em> enforces weird style choices on your other code in order to dance around the fact that you can't use mutable local variables and don't get control flow or checked exception transparency. I don't know what definition of 'cleaner' you're working on, but clearly it's not &quot;code that leads to easier to modify, easier to test, easier to read, easier to fit inside code with other requirements&quot;, which seems like a much more sensible definition to me. Perhaps your definition is based in aesthetics. Well, as they say, you can't argue with taste, perhaps.</p>\n<p>At any rate, you have two options:</p>\n<h2>Map optional.NONE onto a sentinel that then fails the test.</h2>\n<p>You can simply use <code>.orElse()</code> here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n.findFirst()\n.orElse(dummyRoleThatIsDefinitelyExpired)\n.isUnexpired();\n</code></pre>\n<h2>Map the optional.SOME</h2>\n<pre class=\"lang-java prettyprint-override\"><code>...\n.findFirst()\n.map(r -&gt; r.isUnexpired())\n.orElse(false);\n</code></pre>\n<p>The <code>map</code> call will return either an Optional.NONE, or an Optional of <code>Boolean.TRUE</code> or an optional of Boolean.FALSE. We then <code>orElse</code> the NONE case onto FALSE and we now have a boolean to return.</p>\n<p>I'd say the first snippet is easier to follow, but it requires having a dummy role that is definitely expired.</p>\n<p>NB: If you care about clean functions, sticking negatives in boolean method names is not a good idea for obvious reasons. Instead of <code>Unexpired</code>, perhaps <code>isLive()</code> or <code>isValid()</code> is a better idea.</p>\n"},{"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1679067361,"post_id":75756768,"comment_id":133659934,"body_markdown":"It&#39;s a good answer but it is a kind of shortcut which has nothing to do with handling `Optional` returned by `Stream::findFirst` as stated in the question :)","body":"It&#39;s a good answer but it is a kind of shortcut which has nothing to do with handling <code>Optional</code> returned by <code>Stream::findFirst</code> as stated in the question :)"}],"tags":[],"owner":{"account_id":372920,"reputation":40426,"user_id":722263,"accept_rate":87,"display_name":"Ray"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679084386,"creation_date":1678972450,"answer_id":75756768,"question_id":70337324,"body_markdown":"If you only care if a user has ANY unexpired entry of a `UserRole` in `Collection&lt;Role&gt; roles`, matching with a predicate using `anyMatch()` is a clearer and more concise approach:\r\n\r\n```java\r\npublic boolean hasRole (UserRole userRole) {\r\n   return roles.stream()\r\n       .anyMatch(r -&gt; r.role.equals(userRole) &amp;&amp; r.isUnexpired());\r\n}\r\n\r\n```\r\n\r\nThis approach using `anyMatch()` will be clear to future readers of your code without any ambiguity.\r\n\r\n\r\nWhy not use the stream/filter/findFirst approach?  At minimum, it&#39;s possible based on just the info in the OP to have multiple entries in the `private Collection&lt;Role&gt; roles` with same UseRole and different  expiry dates.  `findFirst()` will be produce indeterminate results unless you do something to ensure ordering of the collection (Collection itself has no guarantees on order) or do the expiration check in the filter.  Even with check in filter, I argue  `anyMatch()` is less open for question on your intent.","title":"Getting a value from an inside an Optional with isPresent()","body":"<p>If you only care if a user has ANY unexpired entry of a <code>UserRole</code> in <code>Collection&lt;Role&gt; roles</code>, matching with a predicate using <code>anyMatch()</code> is a clearer and more concise approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean hasRole (UserRole userRole) {\n   return roles.stream()\n       .anyMatch(r -&gt; r.role.equals(userRole) &amp;&amp; r.isUnexpired());\n}\n\n</code></pre>\n<p>This approach using <code>anyMatch()</code> will be clear to future readers of your code without any ambiguity.</p>\n<p>Why not use the stream/filter/findFirst approach?  At minimum, it's possible based on just the info in the OP to have multiple entries in the <code>private Collection&lt;Role&gt; roles</code> with same UseRole and different  expiry dates.  <code>findFirst()</code> will be produce indeterminate results unless you do something to ensure ordering of the collection (Collection itself has no guarantees on order) or do the expiration check in the filter.  Even with check in filter, I argue  <code>anyMatch()</code> is less open for question on your intent.</p>\n"}],"owner":{"account_id":4368701,"reputation":397,"user_id":3563655,"accept_rate":62,"display_name":"Rick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":959,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":75756768,"answer_count":3,"score":2,"last_activity_date":1679084386,"creation_date":1639410505,"question_id":70337324,"body_markdown":"I have a `User` and associated time-limited `Role`s. I want to know if a `User` has a particular `UserRole` *and* it is unexpired. I can turn the user&#39;s roles into a stream, `filter()` it and `findFirst()`, giving me an `Optional`. \r\n\r\n**Role**\r\n```\r\npublic class Role {\r\n\tprivate UserRole role;\r\n\tprivate Date expiry;\r\n\t\r\n\tpublic boolean isUnexpired () {\r\n\t\treturn (expiry == null) ? true : expiry.after(new Date());\r\n\t}\r\n}\r\n```\r\n\r\n**User**\r\n```\r\npublic class User {\r\n  //...\r\n  private Collection&lt;Role&gt; roles\r\n\r\n  public boolean hasRole (UserRole userRole) {\r\n    return roles.stream()\r\n      .filter(r -&gt; r.getRole().equals(userRole))\r\n      .findFirst()\r\n      .ifPresent(ur -&gt; {  /* ... herein the problem ... */ ur.isUnexpired(); } );\r\n  }\r\n}\r\n```\r\n\r\nThe problem in that last line is that `ifPresent()` has a void signature; as such, I can&#39;t return `ur.isUnexpired()` from it. Whatever I put in the lambda expression or anonymous inner class at that point can&#39;t do anything meaningfully with the value it finds.\r\n\r\nI tried declaring a boolean before filtering the stream, and assigning it, but get the (code validation) error: `local variables referenced from a lambda expression must be final or effectively final`.\r\n\r\n(I know, there&#39;s a bit more to handle when it&#39;s not present; if I can sort this, I can swap to `ifPresentOrElse()`.)\r\n\r\nI could do the following:\r\n```\r\n  public boolean hasRole (UserRole userRole) {\r\n    Optional&lt;Role&gt; o = roles.stream()\r\n      .filter(r -&gt; r.getRole().equals(userRole))\r\n      .findFirst();\r\n    return o.isPresent() ? o.get().isUnexpired() : false;\r\n  }\r\n```\r\nHowever, I would rather do it with a cleaner, chained function.\r\n\r\nIs there some way to extract and use my `isUnexpired()` boolean with a chained function? Or must I assign the `Optional` then operate on it separately?","title":"Getting a value from an inside an Optional with isPresent()","body":"<p>I have a <code>User</code> and associated time-limited <code>Role</code>s. I want to know if a <code>User</code> has a particular <code>UserRole</code> <em>and</em> it is unexpired. I can turn the user's roles into a stream, <code>filter()</code> it and <code>findFirst()</code>, giving me an <code>Optional</code>.</p>\n<p><strong>Role</strong></p>\n<pre><code>public class Role {\n    private UserRole role;\n    private Date expiry;\n    \n    public boolean isUnexpired () {\n        return (expiry == null) ? true : expiry.after(new Date());\n    }\n}\n</code></pre>\n<p><strong>User</strong></p>\n<pre><code>public class User {\n  //...\n  private Collection&lt;Role&gt; roles\n\n  public boolean hasRole (UserRole userRole) {\n    return roles.stream()\n      .filter(r -&gt; r.getRole().equals(userRole))\n      .findFirst()\n      .ifPresent(ur -&gt; {  /* ... herein the problem ... */ ur.isUnexpired(); } );\n  }\n}\n</code></pre>\n<p>The problem in that last line is that <code>ifPresent()</code> has a void signature; as such, I can't return <code>ur.isUnexpired()</code> from it. Whatever I put in the lambda expression or anonymous inner class at that point can't do anything meaningfully with the value it finds.</p>\n<p>I tried declaring a boolean before filtering the stream, and assigning it, but get the (code validation) error: <code>local variables referenced from a lambda expression must be final or effectively final</code>.</p>\n<p>(I know, there's a bit more to handle when it's not present; if I can sort this, I can swap to <code>ifPresentOrElse()</code>.)</p>\n<p>I could do the following:</p>\n<pre><code>  public boolean hasRole (UserRole userRole) {\n    Optional&lt;Role&gt; o = roles.stream()\n      .filter(r -&gt; r.getRole().equals(userRole))\n      .findFirst();\n    return o.isPresent() ? o.get().isUnexpired() : false;\n  }\n</code></pre>\n<p>However, I would rather do it with a cleaner, chained function.</p>\n<p>Is there some way to extract and use my <code>isUnexpired()</code> boolean with a chained function? Or must I assign the <code>Optional</code> then operate on it separately?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":12865482,"reputation":133,"user_id":9305919,"display_name":"Ramsey"},"score":1,"creation_date":1519149255,"post_id":48891376,"comment_id":84788138,"body_markdown":"I know it but why do we need it?","body":"I know it but why do we need it?"},{"owner":{"account_id":1135386,"reputation":622,"user_id":1120534,"accept_rate":40,"display_name":"inquizitive"},"score":1,"creation_date":1519149408,"post_id":48891376,"comment_id":84788227,"body_markdown":"You need it because you are storing the letter counts in an array. the value of any element in the array contains the count and the index acts as a key for the letter used. For example - the counts of letter A is stored in `&#39;A&#39; -&#39;A&#39; = 0`","body":"You need it because you are storing the letter counts in an array. the value of any element in the array contains the count and the index acts as a key for the letter used. For example - the counts of letter A is stored in <code>&#39;A&#39; -&#39;A&#39; = 0</code>"},{"owner":{"account_id":11653359,"reputation":5339,"user_id":8533940,"display_name":"Lothar"},"score":2,"creation_date":1519149624,"post_id":48891376,"comment_id":84788329,"body_markdown":"Just a sidenote: This implementation will happily break with an exception with 99% of all input where `Character.isLetter(ch)`returns `true`","body":"Just a sidenote: This implementation will happily break with an exception with 99% of all input where <code>Character.isLetter(ch)</code>returns <code>true</code>"}],"answers":[{"comments":[{"owner":{"account_id":12865482,"reputation":133,"user_id":9305919,"display_name":"Ramsey"},"score":0,"creation_date":1519150635,"post_id":48891477,"comment_id":84788894,"body_markdown":"I can&#39;t. My reputation is too low for that","body":"I can&#39;t. My reputation is too low for that"},{"owner":{"account_id":2567288,"reputation":20415,"user_id":2226988,"display_name":"Tom Blodget"},"score":0,"creation_date":1519155254,"post_id":48891477,"comment_id":84791301,"body_markdown":"Um, actually, it does UTF-16 code unit subtraction. This algorithm is designed for the Latin capital letters in the [C0 Controls and Basic Latin](http://www.unicode.org/charts/nameslist/index.html) block of the Unicode character set. Any other characters wouldn&#39;t work well (besides the Latin small letters in the same block).","body":"Um, actually, it does UTF-16 code unit subtraction. This algorithm is designed for the Latin capital letters in the <a href=\"http://www.unicode.org/charts/nameslist/index.html\" rel=\"nofollow noreferrer\">C0 Controls and Basic Latin</a> block of the Unicode character set. Any other characters wouldn&#39;t work well (besides the Latin small letters in the same block)."}],"tags":[],"owner":{"account_id":12641775,"reputation":393,"user_id":9189009,"accept_rate":100,"display_name":"Alexia Desouza"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679083283,"creation_date":1519149505,"answer_id":48891477,"question_id":48891376,"body_markdown":"     int index = Character.toUpperCase(ch) - &#39;A&#39;; \r\n\r\n`index` gives you the position in the array where the count for that particular is stored. \r\n\r\n    letters[index]++;\r\n\r\nAnd then it increments the count of that particular character.\r\n\r\nUnderstand this\r\n   \r\n     index = Character.toUpperCase(ch) - &#39;A&#39;;\r\n\r\n* &#39;A&#39; - &#39;A&#39;    this will give array position 0\r\n* &#39;B&#39; - &#39;A&#39; this will give array position 1 which is B count position and so on, till\r\n* &#39;Z&#39; - &#39;A&#39; this will give position 25 of the array where the count of &#39;Z&#39; will be stored\r\n\r\n\r\nIt does ASCII value subtraction\r\n\r\nFor \r\n     \r\n     &#39;A&#39; - &#39;A&#39; it will do 65-65 =0    65 is ascii value of &#39;A&#39;\r\n\r\n     &#39;B&#39; - &#39;A&#39; it will do 66-65 =1\r\n\r\n     &#39;Z&#39; - &#39;A&#39; it will do 90-65 = 25","title":"Count Letter Frequencies","body":"<pre><code> int index = Character.toUpperCase(ch) - 'A'; \n</code></pre>\n<p><code>index</code> gives you the position in the array where the count for that particular is stored.</p>\n<pre><code>letters[index]++;\n</code></pre>\n<p>And then it increments the count of that particular character.</p>\n<p>Understand this</p>\n<pre><code> index = Character.toUpperCase(ch) - 'A';\n</code></pre>\n<ul>\n<li>'A' - 'A'    this will give array position 0</li>\n<li>'B' - 'A' this will give array position 1 which is B count position and so on, till</li>\n<li>'Z' - 'A' this will give position 25 of the array where the count of 'Z' will be stored</li>\n</ul>\n<p>It does ASCII value subtraction</p>\n<p>For</p>\n<pre><code> 'A' - 'A' it will do 65-65 =0    65 is ascii value of 'A'\n\n 'B' - 'A' it will do 66-65 =1\n\n 'Z' - 'A' it will do 90-65 = 25\n</code></pre>\n"}],"owner":{"account_id":12865482,"reputation":133,"user_id":9305919,"display_name":"Ramsey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":48891477,"answer_count":1,"score":2,"last_activity_date":1679083283,"creation_date":1519149092,"question_id":48891376,"body_markdown":" The below code is from my old lecture notes and I have forgotten why do we need\r\n        `letters[index]++` here? Can someone explain why do we need it?\r\n    \r\n    public class CountLetterFrequencies {\r\n    \r\n    \t/* Private instance variables */\r\n    \tprivate static int[] letters = new int[26];\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;This program counts letter frequencies. Enter text:&quot;);\r\n    \r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \r\n    \t\tString line = sc.nextLine(); \r\n    \r\n    \t\tcountLetterFrequencies(line);\r\n    \r\n    \t\tprintFrequencyTable();\r\n    \r\n    \t\tsc.close();\r\n    \t}\r\n    \r\n    \t/* Counts the letter frequencies in a line of text */\r\n    \tprivate static void countLetterFrequencies(String line) {\r\n    \t\tfor (int i = 0; i &lt; line.length(); i++) {\r\n    \t\t\tchar ch = line.charAt(i);\r\n    \t\t\tif (Character.isLetter(ch)) { // Character.isLetter(ch)\r\n    \t\t\t\tint index = Character.toUpperCase(ch) - &#39;A&#39;; // index = C - A = 2\r\n    \t\t\t\tletters[index]++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    private static void printFrequencyTable() {\r\n    \t\tfor (char ch = &#39;A&#39;; ch &lt;= &#39;Z&#39;; ch++) {\r\n    \t\t\tint index = ch - &#39;A&#39;; // So, if ch is B, then index =&gt; B-A =&gt; 1\r\n    \t\t\tif(letters[index] != 0) // if we wanna print only existing letters\r\n    \t\t\t\tSystem.out.println(ch + &quot;: &quot; + letters[index]);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Count Letter Frequencies","body":"<p>The below code is from my old lecture notes and I have forgotten why do we need\n        <code>letters[index]++</code> here? Can someone explain why do we need it?</p>\n\n<pre><code>public class CountLetterFrequencies {\n\n    /* Private instance variables */\n    private static int[] letters = new int[26];\n\n    public static void main(String[] args) {\n        System.out.println(\"This program counts letter frequencies. Enter text:\");\n\n        Scanner sc = new Scanner(System.in);\n\n        String line = sc.nextLine(); \n\n        countLetterFrequencies(line);\n\n        printFrequencyTable();\n\n        sc.close();\n    }\n\n    /* Counts the letter frequencies in a line of text */\n    private static void countLetterFrequencies(String line) {\n        for (int i = 0; i &lt; line.length(); i++) {\n            char ch = line.charAt(i);\n            if (Character.isLetter(ch)) { // Character.isLetter(ch)\n                int index = Character.toUpperCase(ch) - 'A'; // index = C - A = 2\n                letters[index]++;\n            }\n        }\n    }\n\nprivate static void printFrequencyTable() {\n        for (char ch = 'A'; ch &lt;= 'Z'; ch++) {\n            int index = ch - 'A'; // So, if ch is B, then index =&gt; B-A =&gt; 1\n            if(letters[index] != 0) // if we wanna print only existing letters\n                System.out.println(ch + \": \" + letters[index]);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","while-loop"],"owner":{"account_id":27999399,"reputation":1,"user_id":21383978,"display_name":"Gog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679083228,"creation_date":1678636942,"question_id":75714410,"body_markdown":"I&#39;m making this bingo program and as you can see, my objective to have the user win if the numbers they&#39;ve generated are present in the bingo card and if they are present in the winning pattern they have chosen, however my output looks like this:\r\n\r\nBingo:\r\n\r\n[![](https://i.stack.imgur.com/c8IP4l.png)](https://i.stack.imgur.com/c8IP4.png)\r\n\r\n```java\r\npackage Bingo;\r\n\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class Trying {\r\n    public static void main(String[] args) {\r\n\r\n        Random random = new Random();\r\n        Scanner inp = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;\\n************** BINGO **************&quot;);\r\n        System.out.println(&quot;\\nCreate your card!&quot;);\r\n        System.out.println(&quot;\\nPlease input numbers from 1 - 15 in column B&quot;);\r\n        System.out.println(&quot;Please input numbers from 16 - 30 in column I&quot;);\r\n        System.out.println(&quot;Please input numbers from 31 - 45 in column N&quot;);\r\n        System.out.println(&quot;Please input numbers from 46 - 60 in column G&quot;);\r\n        System.out.println(&quot;Please input numbers from 61 - 75 in column O&quot;);\r\n        System.out.println(&quot;==============================================&quot;);\r\n        System.out.println(&quot;Lets begin!&quot;);\r\n\r\n        int[][] card = new int[5][5];\r\n\r\n        System.out.println(&quot;Enter 5 numbers from 1-15 for column B:&quot;);\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            int num = 0;\r\n            boolean validInput = false;\r\n            while (!validInput) {\r\n                if (inp.hasNextInt()) {\r\n                    num = inp.nextInt();\r\n                    if (num &gt;= 1 &amp;&amp; num &lt;= 15) {\r\n                        validInput = true;\r\n                    } else {\r\n                        System.out.println(&quot;Invalid input. Please enter a number between 1-15.&quot;);\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;Invalid input. Please enter a number between 1-15.&quot;);\r\n                    inp.next();\r\n                }\r\n            }\r\n            card[i][0] = num;\r\n        }\r\n        System.out.println(&quot;Enter 5 numbers from 16-30 for column I:&quot;);\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            int num = 0;\r\n            boolean validInput = false;\r\n            while (!validInput) {\r\n                if (inp.hasNextInt()) {\r\n                    num = inp.nextInt();\r\n                    if (num &gt;= 16 &amp;&amp; num &lt;= 30) {\r\n                        validInput = true;\r\n                    } else {\r\n                        System.out.println(&quot;Invalid input. Please enter a number between 16-30.&quot;);\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;Invalid input. Please enter a number between 16-30.&quot;);\r\n                    inp.next();\r\n                }\r\n            }\r\n            card[i][1] = num;\r\n        }\r\n        System.out.println(&quot;Enter 5 numbers from 31-45 for column N:&quot;);\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            int num = 0;\r\n            boolean validInput = false;\r\n            while (!validInput) {\r\n                if (inp.hasNextInt()) {\r\n                    num = inp.nextInt();\r\n                    if (num &gt;= 31 &amp;&amp; num &lt;= 45) {\r\n                        validInput = true;\r\n                    } else {\r\n                        System.out.println(&quot;Invalid input. Please enter a number between 31-45.&quot;);\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;Invalid input. Please enter a number between 31-45.&quot;);\r\n                    inp.next();\r\n                }\r\n            }\r\n            card[i][2] = num;\r\n        }\r\n        System.out.println(&quot;Enter 5 numbers from 46-60 for column G:&quot;);\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            int num = 0;\r\n            boolean validInput = false;\r\n            while (!validInput) {\r\n                if (inp.hasNextInt()) {\r\n                    num = inp.nextInt();\r\n                    if (num &gt;= 46 &amp;&amp; num &lt;= 60) {\r\n                        validInput = true;\r\n                    } else {\r\n                        System.out.println(&quot;Invalid input. Please enter a number between 46-60.&quot;);\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;Invalid input. Please enter a number between 46-60.&quot;);\r\n                    inp.next();\r\n                }\r\n            }\r\n\r\n            card[i][3] = num;\r\n        }\r\n        System.out.println(&quot;Enter 5 numbers from 61-75 for column O:&quot;);\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            int num = 0;\r\n            boolean validInput = false;\r\n            while (!validInput) {\r\n                if (inp.hasNextInt()) {\r\n                    num = inp.nextInt();\r\n                    if (num &gt;= 61 &amp;&amp; num &lt;= 75) {\r\n                        validInput = true;\r\n                    } else {\r\n                        System.out.println(&quot;Invalid input. Please enter a number between 61-75.&quot;);\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;Invalid input. Please enter a number 1between 61-75.&quot;);\r\n                    inp.next();\r\n                }\r\n            }\r\n            card[i][4] = num;\r\n        }\r\n\r\n        System.out.println(&quot;Here is your card&quot;);\r\n        // Display the Bingo card\r\n        System.out.println(&quot;B   I   N   G   O&quot;);\r\n        for (int i = 0; i &lt; card.length; i++) {\r\n            for (int j = 0; j &lt; card[i].length; j++) {\r\n                System.out.print(card[i][j] + &quot;\\t&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n\r\n        System.out.println(&quot; \\n&quot;);\r\n        int bingo;\r\n\r\n        System.out.println(&quot;Select your winning pattern!&quot;);\r\n        System.out.println(&quot;1 - BLACKOUT BINGO&quot;);\r\n        System.out.println(&quot;2 - LINES BINGO&quot;);\r\n        System.out.println(&quot;3 - T&#39;s BINGO&quot;);\r\n        System.out.println(&quot;4 - U&#39;s BINGO&quot;);\r\n        System.out.println(&quot;5 - SQUARES BINGO&quot;);\r\n\r\n        bingo = inp.nextInt();\r\n\r\n        if (bingo == 1) {\r\n            System.out.println(&quot;YOU&#39;VE CHOSEN BLACKOUT BINGO!&quot;);\r\n\r\n        } else if (bingo == 2) {\r\n            System.out.println(&quot;YOU&#39;VE CHOSEN LINES BINGO!&quot;);\r\n        } else if (bingo == 3) {\r\n            System.out.println(&quot;YOU&#39;VE CHOSEN T&#39;s BINGO!&quot;);\r\n        } else if (bingo == 4) {\r\n            System.out.println(&quot;YOU&#39;VE CHOSEN U&#39;s BINGO!&quot;);\r\n        } else if (bingo == 5) {\r\n            System.out.println(&quot;YOU&#39;VE CHOSEN SQUARES BINGO!&quot;);\r\n        }\r\n\r\n        while (true) {\r\n            System.out.println(&quot;\\nPress 1 to generate 5 number or press 2 if you wish to quit&quot;);\r\n            int choice = inp.nextInt();\r\n\r\n            switch (choice) {\r\n                case 1:\r\n                    System.out.println(&quot;Generating 5 random numbers...&quot;);\r\n                    int[] selectedNumbers = new int[5];\r\n                    for (int i = 0; i &lt; 5; i++) {\r\n                        int randomNumber = random.nextInt(75) + 1;\r\n                        selectedNumbers[i] = randomNumber;\r\n                        System.out.print(selectedNumbers[i] + &quot; &quot;);\r\n\r\n                        for (int row = 0; row &lt; 5; row++) {\r\n                            for (int col = 0; col &lt; 5; col++) {\r\n                                if (card[row][col] == randomNumber) {\r\n                                    card[row][col] = -1;\r\n                                    break;\r\n                                }\r\n                            }\r\n\r\n                            if (bingo == 1 &amp;&amp; (card[row][0] == -1 || card[row][1] == -1 || card[row][2] == -1 || card[row][3] == -1 || card[row][4] == -1)) {\r\n                                System.out.println(&quot;\\nYOU&#39;VE WON WITH BLACKOUT&quot;);\r\n                                break;\r\n\r\n                            } else if (bingo == 5 &amp;&amp; (card[0][0] == -1 || card[0][1] == -1 || card[0][2] == -1 || card[0][3] == -1 || card[0][4] == -1 || card[1][0] == -1 || card[2][0] == -1 || card[3][0] == -1 || card[4][0] == -1 || card[4][1] == -1 || card[4][2] == -1 || card[4][3] == -1 || card[4][4] == -1 || card[1][4] == -1 || card[2][4] == -1 || card[3][4] == -1)) {\r\n\r\n                                System.out.println(&quot;\\nYOU&#39;VE WON WITH SQUARES BINGO&quot;);\r\n                                break;\r\n\r\n                            } else {\r\n\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n                case 2:\r\n                    System.out.println(&quot;You have quit, goodbye&quot;);\r\n                    break;\r\n            }\r\n            break;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAn output similar to this is what I want to achieve\r\n\r\n![not my code](https://i.stack.imgur.com/82gAI.png)","title":"Why does my output print multiple times in a while loop?","body":"<p>I'm making this bingo program and as you can see, my objective to have the user win if the numbers they've generated are present in the bingo card and if they are present in the winning pattern they have chosen, however my output looks like this:</p>\n<p>Bingo:</p>\n<p><a href=\"https://i.stack.imgur.com/c8IP4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c8IP4l.png\" alt=\"\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>package Bingo;\n\nimport java.util.Random;\nimport java.util.Scanner;\n\npublic class Trying {\n    public static void main(String[] args) {\n\n        Random random = new Random();\n        Scanner inp = new Scanner(System.in);\n\n        System.out.println(&quot;\\n************** BINGO **************&quot;);\n        System.out.println(&quot;\\nCreate your card!&quot;);\n        System.out.println(&quot;\\nPlease input numbers from 1 - 15 in column B&quot;);\n        System.out.println(&quot;Please input numbers from 16 - 30 in column I&quot;);\n        System.out.println(&quot;Please input numbers from 31 - 45 in column N&quot;);\n        System.out.println(&quot;Please input numbers from 46 - 60 in column G&quot;);\n        System.out.println(&quot;Please input numbers from 61 - 75 in column O&quot;);\n        System.out.println(&quot;==============================================&quot;);\n        System.out.println(&quot;Lets begin!&quot;);\n\n        int[][] card = new int[5][5];\n\n        System.out.println(&quot;Enter 5 numbers from 1-15 for column B:&quot;);\n        for (int i = 0; i &lt; 5; i++) {\n            int num = 0;\n            boolean validInput = false;\n            while (!validInput) {\n                if (inp.hasNextInt()) {\n                    num = inp.nextInt();\n                    if (num &gt;= 1 &amp;&amp; num &lt;= 15) {\n                        validInput = true;\n                    } else {\n                        System.out.println(&quot;Invalid input. Please enter a number between 1-15.&quot;);\n                    }\n                } else {\n                    System.out.println(&quot;Invalid input. Please enter a number between 1-15.&quot;);\n                    inp.next();\n                }\n            }\n            card[i][0] = num;\n        }\n        System.out.println(&quot;Enter 5 numbers from 16-30 for column I:&quot;);\n        for (int i = 0; i &lt; 5; i++) {\n            int num = 0;\n            boolean validInput = false;\n            while (!validInput) {\n                if (inp.hasNextInt()) {\n                    num = inp.nextInt();\n                    if (num &gt;= 16 &amp;&amp; num &lt;= 30) {\n                        validInput = true;\n                    } else {\n                        System.out.println(&quot;Invalid input. Please enter a number between 16-30.&quot;);\n                    }\n                } else {\n                    System.out.println(&quot;Invalid input. Please enter a number between 16-30.&quot;);\n                    inp.next();\n                }\n            }\n            card[i][1] = num;\n        }\n        System.out.println(&quot;Enter 5 numbers from 31-45 for column N:&quot;);\n        for (int i = 0; i &lt; 5; i++) {\n            int num = 0;\n            boolean validInput = false;\n            while (!validInput) {\n                if (inp.hasNextInt()) {\n                    num = inp.nextInt();\n                    if (num &gt;= 31 &amp;&amp; num &lt;= 45) {\n                        validInput = true;\n                    } else {\n                        System.out.println(&quot;Invalid input. Please enter a number between 31-45.&quot;);\n                    }\n                } else {\n                    System.out.println(&quot;Invalid input. Please enter a number between 31-45.&quot;);\n                    inp.next();\n                }\n            }\n            card[i][2] = num;\n        }\n        System.out.println(&quot;Enter 5 numbers from 46-60 for column G:&quot;);\n        for (int i = 0; i &lt; 5; i++) {\n            int num = 0;\n            boolean validInput = false;\n            while (!validInput) {\n                if (inp.hasNextInt()) {\n                    num = inp.nextInt();\n                    if (num &gt;= 46 &amp;&amp; num &lt;= 60) {\n                        validInput = true;\n                    } else {\n                        System.out.println(&quot;Invalid input. Please enter a number between 46-60.&quot;);\n                    }\n                } else {\n                    System.out.println(&quot;Invalid input. Please enter a number between 46-60.&quot;);\n                    inp.next();\n                }\n            }\n\n            card[i][3] = num;\n        }\n        System.out.println(&quot;Enter 5 numbers from 61-75 for column O:&quot;);\n        for (int i = 0; i &lt; 5; i++) {\n            int num = 0;\n            boolean validInput = false;\n            while (!validInput) {\n                if (inp.hasNextInt()) {\n                    num = inp.nextInt();\n                    if (num &gt;= 61 &amp;&amp; num &lt;= 75) {\n                        validInput = true;\n                    } else {\n                        System.out.println(&quot;Invalid input. Please enter a number between 61-75.&quot;);\n                    }\n                } else {\n                    System.out.println(&quot;Invalid input. Please enter a number 1between 61-75.&quot;);\n                    inp.next();\n                }\n            }\n            card[i][4] = num;\n        }\n\n        System.out.println(&quot;Here is your card&quot;);\n        // Display the Bingo card\n        System.out.println(&quot;B   I   N   G   O&quot;);\n        for (int i = 0; i &lt; card.length; i++) {\n            for (int j = 0; j &lt; card[i].length; j++) {\n                System.out.print(card[i][j] + &quot;\\t&quot;);\n            }\n            System.out.println();\n        }\n\n        System.out.println(&quot; \\n&quot;);\n        int bingo;\n\n        System.out.println(&quot;Select your winning pattern!&quot;);\n        System.out.println(&quot;1 - BLACKOUT BINGO&quot;);\n        System.out.println(&quot;2 - LINES BINGO&quot;);\n        System.out.println(&quot;3 - T's BINGO&quot;);\n        System.out.println(&quot;4 - U's BINGO&quot;);\n        System.out.println(&quot;5 - SQUARES BINGO&quot;);\n\n        bingo = inp.nextInt();\n\n        if (bingo == 1) {\n            System.out.println(&quot;YOU'VE CHOSEN BLACKOUT BINGO!&quot;);\n\n        } else if (bingo == 2) {\n            System.out.println(&quot;YOU'VE CHOSEN LINES BINGO!&quot;);\n        } else if (bingo == 3) {\n            System.out.println(&quot;YOU'VE CHOSEN T's BINGO!&quot;);\n        } else if (bingo == 4) {\n            System.out.println(&quot;YOU'VE CHOSEN U's BINGO!&quot;);\n        } else if (bingo == 5) {\n            System.out.println(&quot;YOU'VE CHOSEN SQUARES BINGO!&quot;);\n        }\n\n        while (true) {\n            System.out.println(&quot;\\nPress 1 to generate 5 number or press 2 if you wish to quit&quot;);\n            int choice = inp.nextInt();\n\n            switch (choice) {\n                case 1:\n                    System.out.println(&quot;Generating 5 random numbers...&quot;);\n                    int[] selectedNumbers = new int[5];\n                    for (int i = 0; i &lt; 5; i++) {\n                        int randomNumber = random.nextInt(75) + 1;\n                        selectedNumbers[i] = randomNumber;\n                        System.out.print(selectedNumbers[i] + &quot; &quot;);\n\n                        for (int row = 0; row &lt; 5; row++) {\n                            for (int col = 0; col &lt; 5; col++) {\n                                if (card[row][col] == randomNumber) {\n                                    card[row][col] = -1;\n                                    break;\n                                }\n                            }\n\n                            if (bingo == 1 &amp;&amp; (card[row][0] == -1 || card[row][1] == -1 || card[row][2] == -1 || card[row][3] == -1 || card[row][4] == -1)) {\n                                System.out.println(&quot;\\nYOU'VE WON WITH BLACKOUT&quot;);\n                                break;\n\n                            } else if (bingo == 5 &amp;&amp; (card[0][0] == -1 || card[0][1] == -1 || card[0][2] == -1 || card[0][3] == -1 || card[0][4] == -1 || card[1][0] == -1 || card[2][0] == -1 || card[3][0] == -1 || card[4][0] == -1 || card[4][1] == -1 || card[4][2] == -1 || card[4][3] == -1 || card[4][4] == -1 || card[1][4] == -1 || card[2][4] == -1 || card[3][4] == -1)) {\n\n                                System.out.println(&quot;\\nYOU'VE WON WITH SQUARES BINGO&quot;);\n                                break;\n\n                            } else {\n\n                            }\n                        }\n                    }\n                    break;\n                case 2:\n                    System.out.println(&quot;You have quit, goodbye&quot;);\n                    break;\n            }\n            break;\n        }\n    }\n}\n</code></pre>\n<p>An output similar to this is what I want to achieve</p>\n<p><img src=\"https://i.stack.imgur.com/82gAI.png\" alt=\"not my code\" /></p>\n"},{"tags":["java","hibernate","hibernate-envers","javers"],"comments":[{"owner":{"account_id":1714975,"reputation":20238,"user_id":1572269,"accept_rate":43,"display_name":"Naros"},"score":0,"creation_date":1520635609,"post_id":49198202,"comment_id":85412004,"body_markdown":"Wouldn&#39;t your solution imply that you&#39;d need to read all audit rows for a given `Employee` with an id up to a specific revision number in order to merge the diffs to know all the audit state about that employee?  That seems like far more overhead than simply storing a snapshot like Envers does, allowing the querying side to be straight forward, efficient, and simple.","body":"Wouldn&#39;t your solution imply that you&#39;d need to read all audit rows for a given <code>Employee</code> with an id up to a specific revision number in order to merge the diffs to know all the audit state about that employee?  That seems like far more overhead than simply storing a snapshot like Envers does, allowing the querying side to be straight forward, efficient, and simple."},{"owner":{"account_id":5338007,"reputation":3416,"user_id":4256260,"display_name":"Bartek Walacik"},"score":0,"creation_date":1520677125,"post_id":49198202,"comment_id":85420580,"body_markdown":"If you consider Javers or Envers, this article could help https://javers.org/blog/2017/12/javers-vs-envers-comparision.html","body":"If you consider Javers or Envers, this article could help <a href=\"https://javers.org/blog/2017/12/javers-vs-envers-comparision.html\" rel=\"nofollow noreferrer\">javers.org/blog/2017/12/javers-vs-envers-comparision.html</a>"},{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":0,"creation_date":1520843694,"post_id":49198202,"comment_id":85465260,"body_markdown":"@Naros you&#39;re right, but we are interested only in diffs.","body":"@Naros you&#39;re right, but we are interested only in diffs."},{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":0,"creation_date":1520843866,"post_id":49198202,"comment_id":85465356,"body_markdown":"@BartekWalacik thanks for the linke (I already read it) and well done for the awesome work :)","body":"@BartekWalacik thanks for the linke (I already read it) and well done for the awesome work :)"}],"answers":[{"tags":[],"owner":{"account_id":1714975,"reputation":20238,"user_id":1572269,"accept_rate":43,"display_name":"Naros"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1520952390,"creation_date":1520952390,"answer_id":49259159,"question_id":49198202,"body_markdown":"Envers cannot be _extended_ in the way which you describe.  \r\n\r\nWhat you describe would require a complete replacement of the metadata processing for the entity models and how the XML schema gets generated for ORM along with how the mappers are used for both reading and writing entities during the ORM transaction and `AuditReader` queries.  In short, it ends up being a shift in design paradigm which influences a considerable amount of internal functionality.\r\n\r\nThe storage of a JSON string is not ideal, particularly on relational databases and even more so in environments that do not yet truly support that data-type.  You&#39;ll incur a performance hit both at write and read times for converting between JSON and a Character Blob and then incur an additional seek and read/write at the database to store that blob in a separate area away from the other column data by virtue of its unknown/varying size.\r\n\r\nWhile there are database platforms out there which can help with the above concerns, it&#39;s still worth being mindful about particularly in an audit tool where you can potentially be dealing with considerable volumes of rows as data changes.\r\n\r\nI believe the closest Envers could come here would be that a configuration option could be realized that would allow us to still maintain a column-based audit table but only stash the modified columns per snapshot rather than all columns.  \r\n\r\nWhat we&#39;d have to see is how much of an impact this has on the `AuditReader` API.  If that&#39;s something you&#39;d like to see, feel free to open a JIRA and submit a PR for my review.\r\n","title":"How to customize Hibernate EnVers","body":"<p>Envers cannot be <em>extended</em> in the way which you describe.  </p>\n\n<p>What you describe would require a complete replacement of the metadata processing for the entity models and how the XML schema gets generated for ORM along with how the mappers are used for both reading and writing entities during the ORM transaction and <code>AuditReader</code> queries.  In short, it ends up being a shift in design paradigm which influences a considerable amount of internal functionality.</p>\n\n<p>The storage of a JSON string is not ideal, particularly on relational databases and even more so in environments that do not yet truly support that data-type.  You'll incur a performance hit both at write and read times for converting between JSON and a Character Blob and then incur an additional seek and read/write at the database to store that blob in a separate area away from the other column data by virtue of its unknown/varying size.</p>\n\n<p>While there are database platforms out there which can help with the above concerns, it's still worth being mindful about particularly in an audit tool where you can potentially be dealing with considerable volumes of rows as data changes.</p>\n\n<p>I believe the closest Envers could come here would be that a configuration option could be realized that would allow us to still maintain a column-based audit table but only stash the modified columns per snapshot rather than all columns.  </p>\n\n<p>What we'd have to see is how much of an impact this has on the <code>AuditReader</code> API.  If that's something you'd like to see, feel free to open a JIRA and submit a PR for my review.</p>\n"}],"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1633,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49259159,"answer_count":1,"score":0,"last_activity_date":1679083114,"creation_date":1520613191,"question_id":49198202,"body_markdown":"We&#39;re designing our entity audit library with two specific requirements: one table per entity and incremental logs (JSON diff) not (full snapshots).\r\n\r\nI know only about Hibernate EnVers and JaVers for entity auditing (if there&#39;s anything else please let me know) and none of them satisfies our requirements.\r\n\r\nWe already know what audit records look like, and we&#39;d like to re-use as much as possible while implementing the library. I&#39;m thinking of adding Hibernate EnVers as dependency and customizing/extending it to support our needs.\r\n\r\nFirst question is, considering our needs and our platform (we use Spring+JPA+Hibernate), is there any strong argument to go with JaVers rather than Hibernate EnVers?\r\n\r\nAssuming that the answer to the first question is no and we&#39;re going to use Hibernate EnVers, to what extend Hibernate EnVers is extensible? And also, apart from some super simple examples, I couldn&#39;t find any resources on how to exactly do it. Is there any? Where can I start?\r\n\r\nOur design would be more or less as follow:\r\n\r\n    Entity Table\r\n    Employees (EmployeeId, FirstName, LastName, DepartmentId, ...)\r\n\r\n    Audit Table\r\n    Employees_AUD (EmployeeId, Diff, REV, REVTYPE)\r\n    -- EmployeeId: employee ID\r\n    -- Diff: diff of the two states of entity\r\n    -- REV: revision id (Hinbernate EnVers)\r\n    -- REVTYPE: revision type (Hinbernate EnVers)\r\n\r\n    REVINFO Table:\r\n    -- Original table created by Hibernate EnVers\r\n\r\nThanks.","title":"How to customize Hibernate EnVers","body":"<p>We're designing our entity audit library with two specific requirements: one table per entity and incremental logs (JSON diff) not (full snapshots).</p>\n<p>I know only about Hibernate EnVers and JaVers for entity auditing (if there's anything else please let me know) and none of them satisfies our requirements.</p>\n<p>We already know what audit records look like, and we'd like to re-use as much as possible while implementing the library. I'm thinking of adding Hibernate EnVers as dependency and customizing/extending it to support our needs.</p>\n<p>First question is, considering our needs and our platform (we use Spring+JPA+Hibernate), is there any strong argument to go with JaVers rather than Hibernate EnVers?</p>\n<p>Assuming that the answer to the first question is no and we're going to use Hibernate EnVers, to what extend Hibernate EnVers is extensible? And also, apart from some super simple examples, I couldn't find any resources on how to exactly do it. Is there any? Where can I start?</p>\n<p>Our design would be more or less as follow:</p>\n<pre><code>Entity Table\nEmployees (EmployeeId, FirstName, LastName, DepartmentId, ...)\n\nAudit Table\nEmployees_AUD (EmployeeId, Diff, REV, REVTYPE)\n-- EmployeeId: employee ID\n-- Diff: diff of the two states of entity\n-- REV: revision id (Hinbernate EnVers)\n-- REVTYPE: revision type (Hinbernate EnVers)\n\nREVINFO Table:\n-- Original table created by Hibernate EnVers\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java","file","filereader","java-io","filewriter"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1522799542,"post_id":49640667,"comment_id":86289061,"body_markdown":"Short answer, no. Long answer, you&#39;re going to have to do this manually, reading in each line and writing to a temp file in the order you want","body":"Short answer, no. Long answer, you&#39;re going to have to do this manually, reading in each line and writing to a temp file in the order you want"},{"owner":{"account_id":10135792,"reputation":61,"user_id":8693385,"display_name":"Meowminator"},"score":0,"creation_date":1522818057,"post_id":49640667,"comment_id":86293782,"body_markdown":"Eventually I found this answer https://stackoverflow.com/questions/1377279/find-a-line-in-a-file-and-remove-it","body":"Eventually I found this answer <a href=\"https://stackoverflow.com/questions/1377279/find-a-line-in-a-file-and-remove-it\" title=\"find a line in a file and remove it\">stackoverflow.com/questions/1377279/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":10135792,"reputation":61,"user_id":8693385,"display_name":"Meowminator"},"score":0,"creation_date":1522876115,"post_id":49645307,"comment_id":86330488,"body_markdown":"Thank you I will look into it the next time I do a similar thing, and see which one feels better!","body":"Thank you I will look into it the next time I do a similar thing, and see which one feels better!"}],"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679082797,"creation_date":1522827412,"answer_id":49645307,"question_id":49640667,"body_markdown":"Glad you found a solution but just in case you want another solution you can try this method code. The method allows you to move any literal file line to any literal line location within the file. \r\n\r\nThe code is well commented. Read the doc&#39;s above the method:\r\n\r\n    /**\r\n     * Moves a text file line supplied as a literal file line number to another literal \r\n     * file line location.&lt;br&gt;&lt;br&gt;\r\n     * \r\n     * A temporary file is created with the modifications done. The original file is then \r\n     * deleted and the modified temporary file is renamed to the same name that the original \r\n     * file held.&lt;pre&gt;\r\n     * \r\n     * &lt;b&gt;Example Usage:&lt;/b&gt;\r\n     * \r\n     *    {@code \r\n     *      try {\r\n     *          moveFileLine(&quot;list.txt&quot;, 3, 1);\r\n     *      }\r\n     *      catch (IOException ex) {\r\n     *            Logger.getLogger(getName()).log(Level.SEVERE, null, ex);\r\n     *      }\r\n     *      }&lt;/pre&gt;\r\n     * \r\n     * @param filePath (String) The full path and file name of the text file to process.&lt;br&gt;\r\n     * \r\n     * @param lineToMove (Integer - int) A literal file line number of the text you want \r\n     * to move. By literal we mean line 1 is considered the first line of the file (not 0).&lt;br&gt;\r\n     * \r\n     * @param moveToLine (Optional - Integer - int - Default is 0) A literal file line \r\n     * number of where you want to move the file line text to. If 0 or nothing is is \r\n     * supplied then the line to move is placed at the end of the file otherwise the \r\n     * text is placed at the literal file line specified. By literal we mean line 1 is \r\n     * considered the first line of the file (not 0).&lt;br&gt;&lt;br&gt;\r\n     * \r\n     * If a value is supplied which is greater than the actual number of lines in file \r\n     * then that value is automatically changed to the number of lines in file which \r\n     * will therefore place the line-to-move to the end of file.&lt;br&gt;\r\n     * \r\n     * @throws FileNotFoundException\r\n     * @throws IOException\r\n     */\r\n    @SuppressWarnings(&quot;null&quot;)\r\n    public void moveFileLine (String filePath, int lineToMove, int... moveToLine) \r\n            throws FileNotFoundException, IOException {\r\n        int moveTo = 0; // Default move to\r\n        // Acquire the optional move-to line number if supplied.\r\n        if (moveToLine.length &gt; 0) {\r\n            moveTo = moveToLine[0];\r\n        }\r\n            \r\n        // open a stream reader and writer.\r\n        BufferedReader reader = new BufferedReader(new FileReader(filePath));\r\n        FileWriter writer = new FileWriter(&quot;tmpMoveLineFile.txt&quot;);\r\n    \r\n        String line;  // The current file line text bing processed.\r\n        String newLine = System.lineSeparator(); // System Line Separator.\r\n        String moveLineString = &quot;&quot;; // Will hold the file line text to move.\r\n        int lineCounter = 0; // Keeps track of the current file line.\r\n            \r\n        // Get and hold the file line contents we want to move.\r\n        while ((line = reader.readLine()) != null) {\r\n            lineCounter++;\r\n            if (lineCounter == lineToMove) {\r\n                moveLineString = line;\r\n                if (moveTo &gt; 0) { break; }\r\n            }\r\n        }\r\n        // Close the reader (if it&#39;s open)\r\n        if (reader != null) { reader.close(); }\r\n           \r\n        // If no Move-To line number was supplied then move the\r\n        // desired line to end of file so as to be the last line.\r\n        if (moveTo &lt;= 0 || moveTo &gt; lineCounter) {\r\n            moveTo = lineCounter;\r\n        }\r\n            \r\n            \r\n        // Set up to start reading our file from the beginning again.\r\n        reader = new BufferedReader(new FileReader(filePath));\r\n        lineCounter = 0;  // Reset the line counter\r\n            \r\n        // Start reading in file data one line at a time\r\n        while ((line = reader.readLine()) != null) {\r\n            lineCounter++;// increment to keep track of the current line number\r\n                \r\n            // If the line counter equals the supplied line to move to then...\r\n            if (lineCounter == moveTo) {\r\n                // Ternary Operator is used here. If the current line counter\r\n                // value is greater than 1 and the current line counter is\r\n                // greater than the line to move then write the current line\r\n                // the first then the line-to-move text otherwise write the\r\n                // line-to-move first then write the current line.\r\n                writer.write((lineCounter &gt; 1 &amp;&amp; lineCounter &gt; lineToMove ? \r\n                        line + newLine + moveLineString + newLine : \r\n                        moveLineString + newLine + line + newLine));\r\n            }\r\n            // otherwise just write the encountered line.\r\n            else if (lineCounter != lineToMove) {\r\n                writer.write(line + newLine);\r\n            }\r\n        }\r\n        // Close the reader and Writer.\r\n        writer.close();\r\n        reader.close();\r\n            \r\n        // delete the original file then Rename the newly created tmp \r\n        // file to the Original File name supplied.\r\n        File origFile = new File(filePath);\r\n        if (origFile.delete()) {\r\n            File srcFile = new File(&quot;tmpMoveLineFile.txt&quot;);\r\n            srcFile.renameTo(origFile);\r\n        }\r\n    }\r\n    ","title":"Is there a way with FileWriter to move the first line in a text file to the bottom?","body":"<p>Glad you found a solution but just in case you want another solution you can try this method code. The method allows you to move any literal file line to any literal line location within the file.</p>\n<p>The code is well commented. Read the doc's above the method:</p>\n<pre><code>/**\n * Moves a text file line supplied as a literal file line number to another literal \n * file line location.&lt;br&gt;&lt;br&gt;\n * \n * A temporary file is created with the modifications done. The original file is then \n * deleted and the modified temporary file is renamed to the same name that the original \n * file held.&lt;pre&gt;\n * \n * &lt;b&gt;Example Usage:&lt;/b&gt;\n * \n *    {@code \n *      try {\n *          moveFileLine(&quot;list.txt&quot;, 3, 1);\n *      }\n *      catch (IOException ex) {\n *            Logger.getLogger(getName()).log(Level.SEVERE, null, ex);\n *      }\n *      }&lt;/pre&gt;\n * \n * @param filePath (String) The full path and file name of the text file to process.&lt;br&gt;\n * \n * @param lineToMove (Integer - int) A literal file line number of the text you want \n * to move. By literal we mean line 1 is considered the first line of the file (not 0).&lt;br&gt;\n * \n * @param moveToLine (Optional - Integer - int - Default is 0) A literal file line \n * number of where you want to move the file line text to. If 0 or nothing is is \n * supplied then the line to move is placed at the end of the file otherwise the \n * text is placed at the literal file line specified. By literal we mean line 1 is \n * considered the first line of the file (not 0).&lt;br&gt;&lt;br&gt;\n * \n * If a value is supplied which is greater than the actual number of lines in file \n * then that value is automatically changed to the number of lines in file which \n * will therefore place the line-to-move to the end of file.&lt;br&gt;\n * \n * @throws FileNotFoundException\n * @throws IOException\n */\n@SuppressWarnings(&quot;null&quot;)\npublic void moveFileLine (String filePath, int lineToMove, int... moveToLine) \n        throws FileNotFoundException, IOException {\n    int moveTo = 0; // Default move to\n    // Acquire the optional move-to line number if supplied.\n    if (moveToLine.length &gt; 0) {\n        moveTo = moveToLine[0];\n    }\n        \n    // open a stream reader and writer.\n    BufferedReader reader = new BufferedReader(new FileReader(filePath));\n    FileWriter writer = new FileWriter(&quot;tmpMoveLineFile.txt&quot;);\n\n    String line;  // The current file line text bing processed.\n    String newLine = System.lineSeparator(); // System Line Separator.\n    String moveLineString = &quot;&quot;; // Will hold the file line text to move.\n    int lineCounter = 0; // Keeps track of the current file line.\n        \n    // Get and hold the file line contents we want to move.\n    while ((line = reader.readLine()) != null) {\n        lineCounter++;\n        if (lineCounter == lineToMove) {\n            moveLineString = line;\n            if (moveTo &gt; 0) { break; }\n        }\n    }\n    // Close the reader (if it's open)\n    if (reader != null) { reader.close(); }\n       \n    // If no Move-To line number was supplied then move the\n    // desired line to end of file so as to be the last line.\n    if (moveTo &lt;= 0 || moveTo &gt; lineCounter) {\n        moveTo = lineCounter;\n    }\n        \n        \n    // Set up to start reading our file from the beginning again.\n    reader = new BufferedReader(new FileReader(filePath));\n    lineCounter = 0;  // Reset the line counter\n        \n    // Start reading in file data one line at a time\n    while ((line = reader.readLine()) != null) {\n        lineCounter++;// increment to keep track of the current line number\n            \n        // If the line counter equals the supplied line to move to then...\n        if (lineCounter == moveTo) {\n            // Ternary Operator is used here. If the current line counter\n            // value is greater than 1 and the current line counter is\n            // greater than the line to move then write the current line\n            // the first then the line-to-move text otherwise write the\n            // line-to-move first then write the current line.\n            writer.write((lineCounter &gt; 1 &amp;&amp; lineCounter &gt; lineToMove ? \n                    line + newLine + moveLineString + newLine : \n                    moveLineString + newLine + line + newLine));\n        }\n        // otherwise just write the encountered line.\n        else if (lineCounter != lineToMove) {\n            writer.write(line + newLine);\n        }\n    }\n    // Close the reader and Writer.\n    writer.close();\n    reader.close();\n        \n    // delete the original file then Rename the newly created tmp \n    // file to the Original File name supplied.\n    File origFile = new File(filePath);\n    if (origFile.delete()) {\n        File srcFile = new File(&quot;tmpMoveLineFile.txt&quot;);\n        srcFile.renameTo(origFile);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10135792,"reputation":61,"user_id":8693385,"display_name":"Meowminator"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":981,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49645307,"answer_count":1,"score":0,"last_activity_date":1679082797,"creation_date":1522799405,"question_id":49640667,"body_markdown":"I have a text file that needs editing every time a jar runs. Here is what it initially looks like.\r\n\r\n    1.png\r\n    2.png\r\n    3.png\r\n    4.png\r\n\r\nWhat I&#39;ve been trying to do is use FileWriter to move the top line to the bottom, so the next line will be on top, so the result would be.\r\n\r\n    2.png\r\n    3.png\r\n    4.png\r\n    1.png\r\n\r\nHere is the code I wrote so far:\r\n\r\n        BufferedReader reader = new BufferedReader(new FileReader(&quot;list.txt&quot;));\r\n        FileWriter writer = new FileWriter(&quot;list.txt&quot;);\r\n\r\n        String newName = scan.nextLine();\r\n        writer.write(newName);\r\n\r\n        reader.close();\r\n        writer.close();\r\n\r\nThis won&#39;t work because the only thing present in the text will be `png.2`. So I was wondering... is there a way to tell FileWriter or something else to simply move the first line to the bottom?","title":"Is there a way with FileWriter to move the first line in a text file to the bottom?","body":"<p>I have a text file that needs editing every time a jar runs. Here is what it initially looks like.</p>\n\n<pre><code>1.png\n2.png\n3.png\n4.png\n</code></pre>\n\n<p>What I've been trying to do is use FileWriter to move the top line to the bottom, so the next line will be on top, so the result would be.</p>\n\n<pre><code>2.png\n3.png\n4.png\n1.png\n</code></pre>\n\n<p>Here is the code I wrote so far:</p>\n\n<pre><code>    BufferedReader reader = new BufferedReader(new FileReader(\"list.txt\"));\n    FileWriter writer = new FileWriter(\"list.txt\");\n\n    String newName = scan.nextLine();\n    writer.write(newName);\n\n    reader.close();\n    writer.close();\n</code></pre>\n\n<p>This won't work because the only thing present in the text will be <code>png.2</code>. So I was wondering... is there a way to tell FileWriter or something else to simply move the first line to the bottom?</p>\n"},{"tags":["java","user-interface"],"comments":[{"owner":{"account_id":2700704,"reputation":1111,"user_id":2331491,"accept_rate":75,"display_name":"balsick"},"score":1,"creation_date":1523011819,"post_id":49691049,"comment_id":86393882,"body_markdown":"maybe the problem might be in the ```webData.setup(url);``` method. Can you post its source?","body":"maybe the problem might be in the <code>webData.setup(url);</code> method. Can you post its source?"},{"owner":{"account_id":9436096,"reputation":960,"user_id":7018054,"display_name":"Naeem Khan"},"score":0,"creation_date":1523016215,"post_id":49691049,"comment_id":86396693,"body_markdown":"Hello. I have added that method in the edited main post since I ran out of characters posting it here. But that&#39;s not the problem. I have tested it before using a main method in it&#39;s own class and it didn&#39;t produce any repetations. The problem only occurs when I run multiple URLs from the GUI.","body":"Hello. I have added that method in the edited main post since I ran out of characters posting it here. But that&#39;s not the problem. I have tested it before using a main method in it&#39;s own class and it didn&#39;t produce any repetations. The problem only occurs when I run multiple URLs from the GUI."}],"answers":[{"comments":[{"owner":{"account_id":2700704,"reputation":1111,"user_id":2331491,"accept_rate":75,"display_name":"balsick"},"score":0,"creation_date":1523025349,"post_id":49692826,"comment_id":86402996,"body_markdown":"@CharmingPotato if it worked, you should upvote and accept my answer :) thank you, glad I helped","body":"@CharmingPotato if it worked, you should upvote and accept my answer :) thank you, glad I helped"},{"owner":{"account_id":9436096,"reputation":960,"user_id":7018054,"display_name":"Naeem Khan"},"score":0,"creation_date":1523048277,"post_id":49692826,"comment_id":86415244,"body_markdown":"I did, but it won&#39;t let me vote since I don&#39;t have 15 reputation :(","body":"I did, but it won&#39;t let me vote since I don&#39;t have 15 reputation :("}],"tags":[],"owner":{"account_id":2700704,"reputation":1111,"user_id":2331491,"accept_rate":75,"display_name":"balsick"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1523017670,"creation_date":1523017670,"answer_id":49692826,"question_id":49691049,"body_markdown":"The problem is right here\r\n\r\n    for(Element results : dateData) {\r\n        dates.add(results.text());\r\n    }\r\n\r\nYou&#39;re adding new ```Element``` instances to ```dates``` but never removing them.\r\nJust add\r\n\r\n    dates.clear();\r\n\r\nbefore ```webData.setup(url);```\r\n\r\nso\r\n\r\n    public void displayResults(String url, JTextArea area) {\r\n\r\n        //number of episode\r\n        int num = 1;\r\n        dates.clear();\r\n\r\n        //Get the URL from JTextField that will be passed as a parameter of this method\r\n        webData.setup(url);\r\n\r\n        String result = &quot;&quot;;\r\n\r\n        for (int i = 0; i &lt; webData.getDates().size(); i++) {\r\n            result += &quot;Episode &quot; + num++ + &quot;: &quot; + webData.getEpisodeTitle().get(i) + &quot;\\n&quot; + &quot;Air date: &quot;\r\n                    + webData.getDates().get(i) + &quot;\\n\\n&quot;;\r\n        }\r\n        //Set the text of JTextArea with the values produced in loop above\r\n        area.setText(result);\r\n    }\r\n\r\n","title":"Java JTextArea not resetting values","body":"<p>The problem is right here</p>\n\n<pre><code>for(Element results : dateData) {\n    dates.add(results.text());\n}\n</code></pre>\n\n<p>You're adding new <code>Element</code> instances to <code>dates</code> but never removing them.\nJust add</p>\n\n<pre><code>dates.clear();\n</code></pre>\n\n<p>before <code>webData.setup(url);</code></p>\n\n<p>so</p>\n\n<pre><code>public void displayResults(String url, JTextArea area) {\n\n    //number of episode\n    int num = 1;\n    dates.clear();\n\n    //Get the URL from JTextField that will be passed as a parameter of this method\n    webData.setup(url);\n\n    String result = \"\";\n\n    for (int i = 0; i &lt; webData.getDates().size(); i++) {\n        result += \"Episode \" + num++ + \": \" + webData.getEpisodeTitle().get(i) + \"\\n\" + \"Air date: \"\n                + webData.getDates().get(i) + \"\\n\\n\";\n    }\n    //Set the text of JTextArea with the values produced in loop above\n    area.setText(result);\n}\n</code></pre>\n"}],"owner":{"account_id":9436096,"reputation":960,"user_id":7018054,"display_name":"Naeem Khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49692826,"answer_count":1,"score":1,"last_activity_date":1679082781,"creation_date":1523011589,"question_id":49691049,"body_markdown":"I&#39;m not sure if it&#39;s actually a JTextArea problem or ActionListener or something else.\r\n\r\nWhat my program does is it gets details from a given URL, and shows it in a JTextArea when the button is pressed. Here&#39;s the code I have problems with:\r\n\r\n\tpublic void displayResults(String url, JTextArea area) {\r\n\t\t\r\n\t\t//number of episode\r\n\t\tint num = 1;\r\n\t\t\r\n\t\t//Get the URL from JTextField that will be passed as a parameter of this method\r\n\t\twebData.setup(url);\r\n\t\t\r\n\t\tString result = &quot;&quot;;\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; webData.getDates().size(); i++) {\r\n\t\t\tresult += &quot;Episode &quot; + num++ + &quot;: &quot; + webData.getEpisodeTitle().get(i) + &quot;\\n&quot; + &quot;Air date: &quot;\r\n\t\t\t\t\t+ webData.getDates().get(i) + &quot;\\n\\n&quot;;\r\n\t\t}\r\n\t\t//Set the text of JTextArea with the values produced in loop above\r\n\t\tarea.setText(result);\r\n\t}\r\n\r\nAnd ActionListener:\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tif (e.getSource() == submitButton &amp;&amp; !urlField.getText().equals(&quot;&quot;)) {\r\n\t\t\tdisplayResults(urlField.getText(), resultsTextArea);\r\n\t\t}\r\n\r\nThe problem is that every time a new URL is provided, it displays the results of the previous URL as well. For example, if I run the program and give it URL #1, it will display 20 results (let&#39;s assume it has 20 results), and when the next URL is provided, it will still display the previous 20 results from URL #1 and then display the results of URL #2 from 21. Like This:\r\n\r\n\tEpisode 22: Not aired yet!\r\n\tAir date: 18 May 2018\r\n\t\r\n\tEpisode 23: The Flash Reborn\r\n\tAir date: 10 Oct. 2017\r\n\r\n^These are results of two different URLS. I want the URL #2 results to start from num=1, rather than increment where the URL #1 left off. Is there a way to RESET the JTextArea values every time the button is pressed? I&#39;m really new to this so any help will be greatly appreciated!\r\n\r\nEDIT: here&#39;s the method for webData.setup()\r\n\r\n\tpublic void setup(String url) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\tsite = Jsoup.connect(url).get();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tdateData = site.select(&quot;div.airdate&quot;);\r\n\t\ttitleData = site.select(&quot;a[itemprop=&#39;name&#39;]&quot;);\r\n\t\tshowTitle = site.select(&quot;a.subnav_heading&quot;).first();\r\n\t\t\r\n\t\tfor(Element results : dateData) {\r\n\t\t\tdates.add(results.text());\r\n\t\t}\r\n\t\t\r\n\t\tfor(Element results : titleData) {\r\n\t\t\tif(results.text().contains(&quot;Episode #&quot;)) {\r\n\t\t\t\tepisodeTitles.add(&quot;Not aired yet!&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tepisodeTitles.add(results.text());\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}","title":"Java JTextArea not resetting values","body":"<p>I'm not sure if it's actually a JTextArea problem or ActionListener or something else.</p>\n<p>What my program does is it gets details from a given URL, and shows it in a JTextArea when the button is pressed. Here's the code I have problems with:</p>\n<pre><code>public void displayResults(String url, JTextArea area) {\n    \n    //number of episode\n    int num = 1;\n    \n    //Get the URL from JTextField that will be passed as a parameter of this method\n    webData.setup(url);\n    \n    String result = &quot;&quot;;\n    \n    for (int i = 0; i &lt; webData.getDates().size(); i++) {\n        result += &quot;Episode &quot; + num++ + &quot;: &quot; + webData.getEpisodeTitle().get(i) + &quot;\\n&quot; + &quot;Air date: &quot;\n                + webData.getDates().get(i) + &quot;\\n\\n&quot;;\n    }\n    //Set the text of JTextArea with the values produced in loop above\n    area.setText(result);\n}\n</code></pre>\n<p>And ActionListener:</p>\n<pre><code>@Override\npublic void actionPerformed(ActionEvent e) {\n    if (e.getSource() == submitButton &amp;&amp; !urlField.getText().equals(&quot;&quot;)) {\n        displayResults(urlField.getText(), resultsTextArea);\n    }\n</code></pre>\n<p>The problem is that every time a new URL is provided, it displays the results of the previous URL as well. For example, if I run the program and give it URL #1, it will display 20 results (let's assume it has 20 results), and when the next URL is provided, it will still display the previous 20 results from URL #1 and then display the results of URL #2 from 21. Like This:</p>\n<pre><code>Episode 22: Not aired yet!\nAir date: 18 May 2018\n\nEpisode 23: The Flash Reborn\nAir date: 10 Oct. 2017\n</code></pre>\n<p>^These are results of two different URLS. I want the URL #2 results to start from num=1, rather than increment where the URL #1 left off. Is there a way to RESET the JTextArea values every time the button is pressed? I'm really new to this so any help will be greatly appreciated!</p>\n<p>EDIT: here's the method for webData.setup()</p>\n<pre><code>public void setup(String url) {\n    \n    try {\n        site = Jsoup.connect(url).get();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    dateData = site.select(&quot;div.airdate&quot;);\n    titleData = site.select(&quot;a[itemprop='name']&quot;);\n    showTitle = site.select(&quot;a.subnav_heading&quot;).first();\n    \n    for(Element results : dateData) {\n        dates.add(results.text());\n    }\n    \n    for(Element results : titleData) {\n        if(results.text().contains(&quot;Episode #&quot;)) {\n            episodeTitles.add(&quot;Not aired yet!&quot;);\n        } else {\n            episodeTitles.add(results.text());\n        }\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","mockito","junit5"],"comments":[{"owner":{"account_id":17629753,"reputation":89,"user_id":12794090,"display_name":"Martin Kršek"},"score":0,"creation_date":1679076769,"post_id":75770258,"comment_id":133662347,"body_markdown":"Your provided code works! The problem you have shown is that response body is empty string. Problem will be in mocked service. Are you sure, your controller calls StudentService with addStudent method?","body":"Your provided code works! The problem you have shown is that response body is empty string. Problem will be in mocked service. Are you sure, your controller calls StudentService with addStudent method?"},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":1,"creation_date":1679079697,"post_id":75770258,"comment_id":133662945,"body_markdown":"You need to debug your mock and make sure that it really returns expected student. Probably adding `equals` method to Student class will be sufficient.","body":"You need to debug your mock and make sure that it really returns expected student. Probably adding <code>equals</code> method to Student class will be sufficient."},{"owner":{"account_id":15549353,"reputation":147,"user_id":15204797,"display_name":"Pushpak"},"score":0,"creation_date":1679116574,"post_id":75770258,"comment_id":133667536,"body_markdown":"I have override the equals method in my Student class and it worked! However, my test is calling the mocked service. If I want to call the actual service implementation of my service class, then how can I achieve it?","body":"I have override the equals method in my Student class and it worked! However, my test is calling the mocked service. If I want to call the actual service implementation of my service class, then how can I achieve it?"}],"answers":[{"tags":[],"owner":{"account_id":3593904,"reputation":129,"user_id":2999226,"display_name":"user2999226"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679082688,"creation_date":1679082688,"answer_id":75771683,"question_id":75770258,"body_markdown":"Mockito uses `equals` to find out if a call matches. That means `studentService.addStudent(student)` will only return a `student`, if the passed student is equal to the student the mock was set up with, so the student that is used in this line `Mockito.when(studentService.addStudent(student)).thenReturn(student);`.\r\nBut these two students, the one in the test and the one that is passed in the actual implementation, are different instances. They are different instances because the student from the test is serialized into JSON and then deserialized into a new instance when the controller is called.\r\nSince the `Student` class does not have an `equals` method, `equals` of `Object` is called, that only returns true if an instance is compared to itself.\r\nIf you add `equals` and `hashCode` to your `Student` class it should work.","title":"How to get response body from MockMvc post request test","body":"<p>Mockito uses <code>equals</code> to find out if a call matches. That means <code>studentService.addStudent(student)</code> will only return a <code>student</code>, if the passed student is equal to the student the mock was set up with, so the student that is used in this line <code>Mockito.when(studentService.addStudent(student)).thenReturn(student);</code>.\nBut these two students, the one in the test and the one that is passed in the actual implementation, are different instances. They are different instances because the student from the test is serialized into JSON and then deserialized into a new instance when the controller is called.\nSince the <code>Student</code> class does not have an <code>equals</code> method, <code>equals</code> of <code>Object</code> is called, that only returns true if an instance is compared to itself.\nIf you add <code>equals</code> and <code>hashCode</code> to your <code>Student</code> class it should work.</p>\n"}],"owner":{"account_id":15549353,"reputation":147,"user_id":15204797,"display_name":"Pushpak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":586,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75771683,"answer_count":1,"score":0,"last_activity_date":1679082688,"creation_date":1679072263,"question_id":75770258,"body_markdown":"While integration testing of my controller, I am not able to verify the response from a MockMvc post request.\r\nBelow are my controller, service and test classes.\r\n\r\nStudentController\r\n```\r\n@RestController\r\npublic class StudentController {\r\n\r\n    @Autowired\r\n    StudentService studentService;\r\n\r\n    @PostMapping(&quot;/add-student&quot;)\r\n    public ResponseEntity&lt;Student&gt; addStudent(@RequestBody Student student) {\r\n        return new ResponseEntity&lt;&gt;(studentService.addStudent(student), HttpStatus.CREATED);\r\n    }\r\n}\r\n```\r\n\r\nStudentService\r\n```\r\n@Service\r\npublic class StudentService {\r\n    public Student addStudent(Student student) {\r\n        return student;\r\n    }\r\n}\r\n```\r\n\r\n\r\nStudent\r\n```\r\npublic class Student {\r\n    String name;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Student{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nStudentControllerTest\r\n```\r\n@WebMvcTest\r\nclass StudentControllerTest {\r\n\r\n    @Autowired\r\n    MockMvc mockMvc;\r\n\r\n    @InjectMocks\r\n    StudentController studentController;\r\n\r\n    @Autowired\r\n    ObjectMapper objectMapper;\r\n\r\n    @MockBean\r\n    private StudentService studentService;\r\n\r\n    @Test\r\n    void addStudent() throws Exception {\r\n\r\n        Student student = new Student();\r\n        student.setName(&quot;pushpak&quot;);\r\n\r\n        Mockito.when(studentService.addStudent(student)).thenReturn(student);\r\n\r\n        MockHttpServletResponse response = mockMvc\r\n                .perform(post(&quot;/add-student&quot;)\r\n                        .content(objectMapper.writeValueAsString(student))\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .accept(MediaType.APPLICATION_JSON)\r\n                ).andReturn().getResponse();\r\n        Assertions.assertEquals(student.getName(), objectMapper.readValue(response.getContentAsString(), Student.class).getName());\r\n    }\r\n}\r\n```\r\nI want to get Student object from the test and then compare it with my desired object. But I am not getting any body in the MockHttpServletResponse.\r\n\r\n```\r\nMockHttpServletRequest:\r\n      HTTP Method = POST\r\n      Request URI = /add-student\r\n       Parameters = {}\r\n          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Accept:&quot;application/json&quot;, Content-Length:&quot;18&quot;]\r\n             Body = {&quot;name&quot;:&quot;pushpak&quot;}\r\n    Session Attrs = {}\r\n\r\nHandler:\r\n             Type = com.myapp.spring_boot_test.controller.StudentController\r\n           Method = com.myapp.spring_boot_test.controller.StudentController#addStudent(Student)\r\n\r\nAsync:\r\n    Async started = false\r\n     Async result = null\r\n\r\nResolved Exception:\r\n             Type = null\r\n\r\nModelAndView:\r\n        View name = null\r\n             View = null\r\n            Model = null\r\n\r\nFlashMap:\r\n       Attributes = null\r\n\r\nMockHttpServletResponse:\r\n           Status = 201\r\n    Error message = null\r\n          Headers = []\r\n     Content type = null\r\n             Body = \r\n    Forwarded URL = null\r\n   Redirected URL = null\r\n          Cookies = []\r\n\r\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: No content to map due to end-of-input\r\n at [Source: (String)&quot;&quot;; line: 1, column: 0]\r\n\r\n\tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:4821)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4723)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3677)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3645)\r\n\tat com.myapp.spring_boot_test.controller.StudentControllerTest.addStudent(StudentControllerTest.java:48)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\r\n\r\n\r\nProcess finished with exit code -1\r\n```","title":"How to get response body from MockMvc post request test","body":"<p>While integration testing of my controller, I am not able to verify the response from a MockMvc post request.\nBelow are my controller, service and test classes.</p>\n<p>StudentController</p>\n<pre><code>@RestController\npublic class StudentController {\n\n    @Autowired\n    StudentService studentService;\n\n    @PostMapping(&quot;/add-student&quot;)\n    public ResponseEntity&lt;Student&gt; addStudent(@RequestBody Student student) {\n        return new ResponseEntity&lt;&gt;(studentService.addStudent(student), HttpStatus.CREATED);\n    }\n}\n</code></pre>\n<p>StudentService</p>\n<pre><code>@Service\npublic class StudentService {\n    public Student addStudent(Student student) {\n        return student;\n    }\n}\n</code></pre>\n<p>Student</p>\n<pre><code>public class Student {\n    String name;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Student{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>StudentControllerTest</p>\n<pre><code>@WebMvcTest\nclass StudentControllerTest {\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @InjectMocks\n    StudentController studentController;\n\n    @Autowired\n    ObjectMapper objectMapper;\n\n    @MockBean\n    private StudentService studentService;\n\n    @Test\n    void addStudent() throws Exception {\n\n        Student student = new Student();\n        student.setName(&quot;pushpak&quot;);\n\n        Mockito.when(studentService.addStudent(student)).thenReturn(student);\n\n        MockHttpServletResponse response = mockMvc\n                .perform(post(&quot;/add-student&quot;)\n                        .content(objectMapper.writeValueAsString(student))\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .accept(MediaType.APPLICATION_JSON)\n                ).andReturn().getResponse();\n        Assertions.assertEquals(student.getName(), objectMapper.readValue(response.getContentAsString(), Student.class).getName());\n    }\n}\n</code></pre>\n<p>I want to get Student object from the test and then compare it with my desired object. But I am not getting any body in the MockHttpServletResponse.</p>\n<pre><code>MockHttpServletRequest:\n      HTTP Method = POST\n      Request URI = /add-student\n       Parameters = {}\n          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Accept:&quot;application/json&quot;, Content-Length:&quot;18&quot;]\n             Body = {&quot;name&quot;:&quot;pushpak&quot;}\n    Session Attrs = {}\n\nHandler:\n             Type = com.myapp.spring_boot_test.controller.StudentController\n           Method = com.myapp.spring_boot_test.controller.StudentController#addStudent(Student)\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = null\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 201\n    Error message = null\n          Headers = []\n     Content type = null\n             Body = \n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: No content to map due to end-of-input\n at [Source: (String)&quot;&quot;; line: 1, column: 0]\n\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\n    at com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:4821)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4723)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3677)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3645)\n    at com.myapp.spring_boot_test.controller.StudentControllerTest.addStudent(StudentControllerTest.java:48)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\n\n\nProcess finished with exit code -1\n</code></pre>\n"},{"tags":["java","hibernate","parent-child","hibernate-mapping","resteasy"],"comments":[{"owner":{"account_id":2236584,"reputation":576,"user_id":1972803,"display_name":"Badaro"},"score":0,"creation_date":1525140658,"post_id":50110127,"comment_id":87238416,"body_markdown":"Try debug the method &quot;updateChapter&quot; to see if chapter was correct fulfilled.","body":"Try debug the method &quot;updateChapter&quot; to see if chapter was correct fulfilled."},{"owner":{"account_id":9446144,"reputation":3019,"user_id":7024836,"accept_rate":42,"display_name":"Extreme "},"score":0,"creation_date":1525182311,"post_id":50110127,"comment_id":87252453,"body_markdown":"yeah.. `chapter` in `updateChapter` is looks good as expected from JSON. What else can I try?","body":"yeah.. <code>chapter</code> in <code>updateChapter</code> is looks good as expected from JSON. What else can I try?"},{"owner":{"account_id":4454424,"reputation":7384,"user_id":3625215,"accept_rate":47,"display_name":"MyTwoCents"},"score":0,"creation_date":1525235542,"post_id":50110127,"comment_id":87272147,"body_markdown":"Can you add code where you are converting JSON to Entity...","body":"Can you add code where you are converting JSON to Entity..."},{"owner":{"account_id":9446144,"reputation":3019,"user_id":7024836,"accept_rate":42,"display_name":"Extreme "},"score":0,"creation_date":1525276883,"post_id":50110127,"comment_id":87296109,"body_markdown":"I have added rest `resource`, and `service` impl where its automatically converts `json` to `Chapter` Entity","body":"I have added rest <code>resource</code>, and <code>service</code> impl where its automatically converts <code>json</code> to <code>Chapter</code> Entity"}],"answers":[{"comments":[{"owner":{"account_id":9446144,"reputation":3019,"user_id":7024836,"accept_rate":42,"display_name":"Extreme "},"score":0,"creation_date":1525216923,"post_id":50119255,"comment_id":87268331,"body_markdown":"tried both of them, it&#39;s still same. new changes are not reflecting in DB.","body":"tried both of them, it&#39;s still same. new changes are not reflecting in DB."}],"tags":[],"owner":{"account_id":4454424,"reputation":7384,"user_id":3625215,"accept_rate":47,"display_name":"MyTwoCents"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525188539,"creation_date":1525188539,"answer_id":50119255,"question_id":50110127,"body_markdown":"Hibernate update should be used where we know that we are only updating the entity information.\r\n\r\ntry using \r\n\r\n**merge()**  =&gt; preferred\r\n\r\nor\r\n\r\n**saveOrUpdate()**\r\n\r\nMore info [here][1] \r\n\r\n\r\n  [1]: https://www.journaldev.com/3481/hibernate-session-merge-vs-update-save-saveorupdate-persist-example","title":"Hibernate add new child(s) and update existings","body":"<p>Hibernate update should be used where we know that we are only updating the entity information.</p>\n\n<p>try using </p>\n\n<p><strong>merge()</strong>  => preferred</p>\n\n<p>or</p>\n\n<p><strong>saveOrUpdate()</strong></p>\n\n<p>More info <a href=\"https://www.journaldev.com/3481/hibernate-session-merge-vs-update-save-saveorupdate-persist-example\" rel=\"nofollow noreferrer\">here</a> </p>\n"}],"owner":{"account_id":9446144,"reputation":3019,"user_id":7024836,"accept_rate":42,"display_name":"Extreme "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679082435,"creation_date":1525136341,"question_id":50110127,"body_markdown":"I have multiple entities as `Chapter` to `Section` `OneToMany`(without join table).\r\n\r\n`Section` to `Attachment` `OneToMany`(with join table).\r\n\r\nI can add/update/delete `Sections` but can not delete attachments since attachments are exists in another table. I just need to manage join table. \r\n\r\nHere are my entities:\r\n\r\nChapter.java\r\n\r\n    @Id\r\n    @Column(name = &quot;CHAPTER_ID&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer chapterId;\r\n    \r\n    @OneToMany(cascade=CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;chapter&quot;)\r\n    private List&lt;Section&gt; sections;\r\n    \r\n\r\nSection.java\r\n\r\n    @Id\r\n    @Column(name=&quot;SECTION_ID&quot;)\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private Integer sectionId;\r\n\r\n    @Column(name=&quot;SECTION_DESC&quot;)\r\n    private String sectionDesc;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JsonBackReference\r\n    @JoinColumn(name = &quot;CHAPTER_ID&quot;, updatable = false)\r\n    private Chapter chapter;\r\n\r\n    @OneToMany(cascade=CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JoinTable(name=&quot;SECTION_ATTACHMENT&quot;, \r\n    \tjoinColumns={@JoinColumn(name=&quot;SECTION_ID&quot;)}, \r\n    \tinverseJoinColumns={@JoinColumn(name=&quot;ATTACHMENT_ID&quot;)})\r\n    private List&lt;Attachment&gt; attachments;\r\n    \r\nAttachment.java\r\n\r\n    @Id\r\n    @Column(name=&quot;ATTACHMENT_ID&quot;)\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private Integer attachmentId;\r\n\r\n    @Column(name=&quot;ATTACHMENT_NAME&quot;)\r\n    private String attachmentName;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinTable(name=&quot;SECTION_ATTACHMENT&quot;, \r\n    joinColumns={@JoinColumn(name=&quot;ATTACHMENT_ID&quot;)}, \r\n    inverseJoinColumns={@JoinColumn(name=&quot;SECTION_ID&quot;)})\r\n    @JsonBackReference\r\n    private Section section;\r\n    \r\nChapterResource.class\r\n\r\n    @PUT\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Path(&quot;/chapter/{chapterId}&quot;)\r\n    public Response updateChapter(@PathParam(&quot;chapterId&quot;) int chapterId, Chapter chapter) {\r\n    \treturn chapterService.updateChapter(chapterId, chapter);\r\n    }\r\n\r\nChapterServiceImpl.class\r\n\r\n    @Override\r\n    public Response updateChapter(int chapterId, Chapter chapter) {\r\n    \tSession session = null;\r\n    \ttry {\r\n    \t\tsession = HibernateUtil.getSession();\r\n    \t\tdao.updateChapter(session, chapter);\r\n    \t\tHibernateUtil.closeSession(session);\r\n    \t} finally {\r\n    \t\tHibernateUtil.closeSession(session);\r\n    \t}\r\n    \treturn Response.ok().build();\r\n    }\r\n\r\nDao.java\r\n\r\n    public void updateChapter(Session session, Chapter chapter) {\r\n        session.update(chapter);\r\n    }\r\n\r\n\r\nI am creating new Chapter using a post call as \r\n   \r\n\r\n     {\r\n        \t&quot;sections&quot;:[\r\n        \t{\r\n        \t\t&quot;sectionDesc&quot;:&quot;first sectionDesc&quot;,\r\n        \t\t&quot;attachments&quot;:[{\r\n        \t\t\t&quot;attachmentId&quot;:1,\r\n        \t\t\t&quot;attachmentName&quot;:&quot;attachment1.docx&quot;\r\n        \t\t}]\r\n        \t}]\r\n        }\r\n\r\n\r\nwhen call GET chapter\r\n\r\n    {\r\n    \t&quot;chapterId&quot;:1,\r\n    \t&quot;sections&quot;:[\r\n    \t{\r\n    \t\t&quot;sectionDesc&quot;:&quot;first sectionDesc&quot;,\r\n    \t\t&quot;sectionId&quot;:1,\r\n    \t\t&quot;attachments&quot;:[{\r\n    \t\t\t&quot;attachmentId&quot;:1,\r\n    \t\t\t&quot;attachmentName&quot;:&quot;attachment1.docx&quot;\r\n    \t\t}]\r\n    \t}]\r\n    }\r\n\r\n\r\nnow I have to update using PUT as below\r\n\r\n    {\r\n    \t&quot;chapterId&quot;:1,\r\n    \t&quot;sections&quot;:[\r\n    \t{ //updating the existing attachment name\r\n    \t\t&quot;sectionDesc&quot;:&quot;first sectionDesc&quot;,\r\n    \t\t&quot;sectionId&quot;:1, // this indicates existing section\r\n    \t\t&quot;attachments&quot;:[{\r\n    \t\t\t&quot;attachmentId&quot;:1,\r\n    \t\t\t&quot;attachmentName&quot;:&quot;test.pdf&quot; // change of attachmentName should not delete the section, but has to update the \r\n    \t\t}]\r\n    \t},{ //adding new section here\r\n    \t\t&quot;sectionDesc&quot;:&quot;new sectionDesc&quot;,\r\n    \t\t// &quot;sectionId&quot;:2, it should be auto increment during the insert\r\n    \t\t&quot;attachments&quot;:[{\r\n    \t\t\t&quot;attachmentId&quot;:10,\r\n    \t\t\t&quot;attachmentName&quot;:&quot;sampleDoc.ppt&quot;\r\n    \t\t}]\r\n    \t}]\r\n    }\r\n\r\nwhen I make PUT call to my API, i am not getting any errors or warnings but the records are not getting changed in db as in put body. \r\nTried lot of trail and error but I could not figure out where i am going wrong.\r\ncan anyone help me if this achievable using `hibernate(5)`?","title":"Hibernate add new child(s) and update existings","body":"<p>I have multiple entities as <code>Chapter</code> to <code>Section</code> <code>OneToMany</code>(without join table).</p>\n<p><code>Section</code> to <code>Attachment</code> <code>OneToMany</code>(with join table).</p>\n<p>I can add/update/delete <code>Sections</code> but can not delete attachments since attachments are exists in another table. I just need to manage join table.</p>\n<p>Here are my entities:</p>\n<p>Chapter.java</p>\n<pre><code>@Id\n@Column(name = &quot;CHAPTER_ID&quot;)\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Integer chapterId;\n\n@OneToMany(cascade=CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;chapter&quot;)\nprivate List&lt;Section&gt; sections;\n</code></pre>\n<p>Section.java</p>\n<pre><code>@Id\n@Column(name=&quot;SECTION_ID&quot;)\n@GeneratedValue(strategy=GenerationType.IDENTITY)\nprivate Integer sectionId;\n\n@Column(name=&quot;SECTION_DESC&quot;)\nprivate String sectionDesc;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JsonBackReference\n@JoinColumn(name = &quot;CHAPTER_ID&quot;, updatable = false)\nprivate Chapter chapter;\n\n@OneToMany(cascade=CascadeType.ALL, fetch = FetchType.LAZY)\n@JoinTable(name=&quot;SECTION_ATTACHMENT&quot;, \n    joinColumns={@JoinColumn(name=&quot;SECTION_ID&quot;)}, \n    inverseJoinColumns={@JoinColumn(name=&quot;ATTACHMENT_ID&quot;)})\nprivate List&lt;Attachment&gt; attachments;\n</code></pre>\n<p>Attachment.java</p>\n<pre><code>@Id\n@Column(name=&quot;ATTACHMENT_ID&quot;)\n@GeneratedValue(strategy=GenerationType.IDENTITY)\nprivate Integer attachmentId;\n\n@Column(name=&quot;ATTACHMENT_NAME&quot;)\nprivate String attachmentName;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinTable(name=&quot;SECTION_ATTACHMENT&quot;, \njoinColumns={@JoinColumn(name=&quot;ATTACHMENT_ID&quot;)}, \ninverseJoinColumns={@JoinColumn(name=&quot;SECTION_ID&quot;)})\n@JsonBackReference\nprivate Section section;\n</code></pre>\n<p>ChapterResource.class</p>\n<pre><code>@PUT\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\n@Path(&quot;/chapter/{chapterId}&quot;)\npublic Response updateChapter(@PathParam(&quot;chapterId&quot;) int chapterId, Chapter chapter) {\n    return chapterService.updateChapter(chapterId, chapter);\n}\n</code></pre>\n<p>ChapterServiceImpl.class</p>\n<pre><code>@Override\npublic Response updateChapter(int chapterId, Chapter chapter) {\n    Session session = null;\n    try {\n        session = HibernateUtil.getSession();\n        dao.updateChapter(session, chapter);\n        HibernateUtil.closeSession(session);\n    } finally {\n        HibernateUtil.closeSession(session);\n    }\n    return Response.ok().build();\n}\n</code></pre>\n<p>Dao.java</p>\n<pre><code>public void updateChapter(Session session, Chapter chapter) {\n    session.update(chapter);\n}\n</code></pre>\n<p>I am creating new Chapter using a post call as</p>\n<pre><code> {\n        &quot;sections&quot;:[\n        {\n            &quot;sectionDesc&quot;:&quot;first sectionDesc&quot;,\n            &quot;attachments&quot;:[{\n                &quot;attachmentId&quot;:1,\n                &quot;attachmentName&quot;:&quot;attachment1.docx&quot;\n            }]\n        }]\n    }\n</code></pre>\n<p>when call GET chapter</p>\n<pre><code>{\n    &quot;chapterId&quot;:1,\n    &quot;sections&quot;:[\n    {\n        &quot;sectionDesc&quot;:&quot;first sectionDesc&quot;,\n        &quot;sectionId&quot;:1,\n        &quot;attachments&quot;:[{\n            &quot;attachmentId&quot;:1,\n            &quot;attachmentName&quot;:&quot;attachment1.docx&quot;\n        }]\n    }]\n}\n</code></pre>\n<p>now I have to update using PUT as below</p>\n<pre><code>{\n    &quot;chapterId&quot;:1,\n    &quot;sections&quot;:[\n    { //updating the existing attachment name\n        &quot;sectionDesc&quot;:&quot;first sectionDesc&quot;,\n        &quot;sectionId&quot;:1, // this indicates existing section\n        &quot;attachments&quot;:[{\n            &quot;attachmentId&quot;:1,\n            &quot;attachmentName&quot;:&quot;test.pdf&quot; // change of attachmentName should not delete the section, but has to update the \n        }]\n    },{ //adding new section here\n        &quot;sectionDesc&quot;:&quot;new sectionDesc&quot;,\n        // &quot;sectionId&quot;:2, it should be auto increment during the insert\n        &quot;attachments&quot;:[{\n            &quot;attachmentId&quot;:10,\n            &quot;attachmentName&quot;:&quot;sampleDoc.ppt&quot;\n        }]\n    }]\n}\n</code></pre>\n<p>when I make PUT call to my API, i am not getting any errors or warnings but the records are not getting changed in db as in put body.\nTried lot of trail and error but I could not figure out where i am going wrong.\ncan anyone help me if this achievable using <code>hibernate(5)</code>?</p>\n"},{"tags":["java","maven","maven-versions-plugin"],"comments":[{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1678781561,"post_id":75729166,"comment_id":133595381,"body_markdown":"what do you mean by &quot;update the dedendencies&quot; ?","body":"what do you mean by &quot;update the dedendencies&quot; ?"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678785113,"creation_date":1678785113,"answer_id":75731081,"question_id":75729166,"body_markdown":"Something like\r\n\r\n`versions:use-latest-versions -Dincludes=com.myCompany.myProject:*:*:*:*`\r\n\r\n?","title":"Maven update dependency versions by groupId","body":"<p>Something like</p>\n<p><code>versions:use-latest-versions -Dincludes=com.myCompany.myProject:*:*:*:*</code></p>\n<p>?</p>\n"},{"tags":[],"owner":{"account_id":1604214,"reputation":4524,"user_id":1484621,"accept_rate":70,"display_name":"Yu Jiaao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679082330,"creation_date":1678790837,"answer_id":75732156,"question_id":75729166,"body_markdown":"You increment the minor version like this:\r\n\r\n```\r\nmvn build-helper:parse-version versions:set -DnewVersion=\\${parsedVersion.majorVersion}.\\${parsedVersion.nextMinorVersion}.0 versions:commit\r\n```\r\n\r\nor with fixed number of version: \r\n```\r\nmvn  build-helper:parse-version versions:set -DnewVersion=1.13.7.15 versions:commit\r\n```\r\n","title":"Maven update dependency versions by groupId","body":"<p>You increment the minor version like this:</p>\n<pre><code>mvn build-helper:parse-version versions:set -DnewVersion=\\${parsedVersion.majorVersion}.\\${parsedVersion.nextMinorVersion}.0 versions:commit\n</code></pre>\n<p>or with fixed number of version:</p>\n<pre><code>mvn  build-helper:parse-version versions:set -DnewVersion=1.13.7.15 versions:commit\n</code></pre>\n"}],"owner":{"account_id":7100878,"reputation":1517,"user_id":5432470,"display_name":"Thilina Ashen Gamage"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679082330,"creation_date":1678769192,"question_id":75729166,"body_markdown":"I have a multi-module maven project.\r\n\r\n```\r\nMyProject\r\n├── ModuleA\r\n│   ├── ...\r\n│   └── pom.xml\r\n├── ModuleB\r\n│   ├── ...\r\n│   └── pom.xml\r\n├── ...\r\n└── pom.xml\r\n```\r\n\r\nI want to specify a groupId (`com.myCompany.myProject`), and find and update the dependencies that fall into that groupId in all modules (something similar to `npm outdated` and `npm update` by `scope` in JS/NPM world).  \r\n\r\nAlso, I prefer to run these commands using CLI (instead of hardcoding in pom.xml) because the groupId will be determined by a script dynamically.\r\n\r\nHow can I achieve this with maven?  \r\n\r\n","title":"Maven update dependency versions by groupId","body":"<p>I have a multi-module maven project.</p>\n<pre><code>MyProject\n├── ModuleA\n│   ├── ...\n│   └── pom.xml\n├── ModuleB\n│   ├── ...\n│   └── pom.xml\n├── ...\n└── pom.xml\n</code></pre>\n<p>I want to specify a groupId (<code>com.myCompany.myProject</code>), and find and update the dependencies that fall into that groupId in all modules (something similar to <code>npm outdated</code> and <code>npm update</code> by <code>scope</code> in JS/NPM world).</p>\n<p>Also, I prefer to run these commands using CLI (instead of hardcoding in pom.xml) because the groupId will be determined by a script dynamically.</p>\n<p>How can I achieve this with maven?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4245893,"reputation":540,"user_id":3474594,"display_name":"szymon_prz"},"score":0,"creation_date":1679085825,"post_id":75771617,"comment_id":133664338,"body_markdown":"Here you will find detailed explanation why this env variables should be named this way [Binding from env variables](https://docs.spring.io/spring-boot/docs/2.7.x/reference/html/features.html#features.external-config.typesafe-configuration-properties.relaxed-binding.environment-variables)","body":"Here you will find detailed explanation why this env variables should be named this way <a href=\"https://docs.spring.io/spring-boot/docs/2.7.x/reference/html/features.html#features.external-config.typesafe-configuration-properties.relaxed-binding.environment-variables\" rel=\"nofollow noreferrer\">Binding from env variables</a>"}],"owner":{"account_id":1620291,"reputation":1,"user_id":1497030,"display_name":"fred"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679082210,"creation_date":1679082210,"question_id":75771617,"body_markdown":"Spring Boot configuration property seems to maps differently from environment variable depends on whether it&#39;s configured as application property.\r\n\r\nHave a configuration property like: app.options.**serverUrl**\r\n\r\nBefore specifying it as an application property (in my case using profile specific yaml), it maps from environment variable:\r\n\r\nAPP_OPTIONS_**SERVER_URL** \r\n(i.e. [relaxed binding doesn&#39;t work](https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-relaxed-binding))\r\n\r\nIf I do configure it as an application property, it now maps from environment variable:\r\n\r\nAPP_OPTIONS_**SERVERURL**\r\n\r\nHow come?","title":"Spring Boot configuration property inconsistent mapping from environment variable","body":"<p>Spring Boot configuration property seems to maps differently from environment variable depends on whether it's configured as application property.</p>\n<p>Have a configuration property like: app.options.<strong>serverUrl</strong></p>\n<p>Before specifying it as an application property (in my case using profile specific yaml), it maps from environment variable:</p>\n<p>APP_OPTIONS_<strong>SERVER_URL</strong>\n(i.e. <a href=\"https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-relaxed-binding\" rel=\"nofollow noreferrer\">relaxed binding doesn't work</a>)</p>\n<p>If I do configure it as an application property, it now maps from environment variable:</p>\n<p>APP_OPTIONS_<strong>SERVERURL</strong></p>\n<p>How come?</p>\n"},{"tags":["java","eclipse","maven","access-denied"],"comments":[{"owner":{"account_id":2491788,"reputation":3274,"user_id":2169091,"display_name":"Tome"},"score":1,"creation_date":1401701605,"post_id":23986331,"comment_id":36970147,"body_markdown":"Maybe the target directory created with admin rights or is locked by another process. Using the -e switch to get the complete stacktrace will also help.","body":"Maybe the target directory created with admin rights or is locked by another process. Using the -e switch to get the complete stacktrace will also help."},{"owner":{"account_id":1840741,"reputation":2048,"user_id":1670183,"accept_rate":93,"display_name":"PaulBGD"},"score":0,"creation_date":1401719743,"post_id":23986331,"comment_id":36981382,"body_markdown":"I&#39;ll check the full stacktrace, however it does not have admin rights (I am the only admin + I checked). I&#39;ve restarted in safe mode to the same result, so I doubt it is a process.","body":"I&#39;ll check the full stacktrace, however it does not have admin rights (I am the only admin + I checked). I&#39;ve restarted in safe mode to the same result, so I doubt it is a process."}],"answers":[{"comments":[{"owner":{"account_id":1840741,"reputation":2048,"user_id":1670183,"accept_rate":93,"display_name":"PaulBGD"},"score":0,"creation_date":1433295558,"post_id":30604255,"comment_id":49286113,"body_markdown":"More than likely you had a program using a file in the directory, or you had a terminal inside that directory.","body":"More than likely you had a program using a file in the directory, or you had a terminal inside that directory."}],"tags":[],"owner":{"account_id":4641343,"reputation":349,"user_id":3761102,"accept_rate":83,"display_name":"dfritch"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433271125,"creation_date":1433271125,"answer_id":30604255,"question_id":23986331,"body_markdown":"I am using Eclipse Spring with the maven plugin.  I was seeing a similar error in the logs:\r\n\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:2.3:shade (default) on project lds_ws_framework: Error creating shaded jar: C:\\Users\\fritchd\\Documents\\autoaction_archivetkitproject\\target\\classes (Access is denied) -&gt; [Help 1]\r\n\r\nI had recently updated my projects to use the maven-shade-plugin 2.3 from a different maven build process. I noticed I had a lot of artifacts from the previous process in the \\target folder.  So I tried just deleting all files under the \\target directory for that project.  When I reran the build, I didn&#39;t see the error.","title":"Maven Shading Error: Access is Denied","body":"<p>I am using Eclipse Spring with the maven plugin.  I was seeing a similar error in the logs:</p>\n\n<p>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:2.3:shade (default) on project lds_ws_framework: Error creating shaded jar: C:\\Users\\fritchd\\Documents\\autoaction_archivetkitproject\\target\\classes (Access is denied) -> [Help 1]</p>\n\n<p>I had recently updated my projects to use the maven-shade-plugin 2.3 from a different maven build process. I noticed I had a lot of artifacts from the previous process in the \\target folder.  So I tried just deleting all files under the \\target directory for that project.  When I reran the build, I didn't see the error.</p>\n"},{"comments":[{"owner":{"account_id":975534,"reputation":1862,"user_id":996895,"accept_rate":68,"display_name":"svobol13"},"score":2,"creation_date":1447759171,"post_id":31330682,"comment_id":55278695,"body_markdown":"This solves previous problem but now I have problem that workspace artifact is not resolved... How can I have resolution turned on and get m2e plugin working?","body":"This solves previous problem but now I have problem that workspace artifact is not resolved... How can I have resolution turned on and get m2e plugin working?"},{"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":0,"creation_date":1454368996,"post_id":31330682,"comment_id":58004953,"body_markdown":"@svobol13 The workspace artifact is not resolved because it can&#39;t be found in your local repository. Right click on that workspace artifact then click `Run As` an click on `Maven install`. Your project should compile fine now.","body":"@svobol13 The workspace artifact is not resolved because it can&#39;t be found in your local repository. Right click on that workspace artifact then click <code>Run As</code> an click on <code>Maven install</code>. Your project should compile fine now."},{"owner":{"account_id":1485594,"reputation":162,"user_id":1393953,"display_name":"JavaDeveloper"},"score":0,"creation_date":1454942785,"post_id":31330682,"comment_id":58256224,"body_markdown":"Thanks Stephan, I wasted my whole day looking for why it was not creating war.","body":"Thanks Stephan, I wasted my whole day looking for why it was not creating war."},{"owner":{"account_id":100393,"reputation":6688,"user_id":270662,"accept_rate":67,"display_name":"mxro"},"score":0,"creation_date":1466495834,"post_id":31330682,"comment_id":63326435,"body_markdown":"Thanks this helped me with an error `... target/classes (Is a Directory)`. Is there any way to solve this in a different way than disabling &#39;Resolve Workspace artifacts&#39;?","body":"Thanks this helped me with an error <code>... target&#47;classes (Is a Directory)</code>. Is there any way to solve this in a different way than disabling &#39;Resolve Workspace artifacts&#39;?"},{"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":0,"creation_date":1466496720,"post_id":31330682,"comment_id":63326949,"body_markdown":"@mxro Can you post a new question with all the details of your particular case? Feel free to leave the link to the new question in a comment here.","body":"@mxro Can you post a new question with all the details of your particular case? Feel free to leave the link to the new question in a comment here."},{"owner":{"account_id":100393,"reputation":6688,"user_id":270662,"accept_rate":67,"display_name":"mxro"},"score":0,"creation_date":1466507044,"post_id":31330682,"comment_id":63333968,"body_markdown":"Here you go: [Question #37942689](http://stackoverflow.com/questions/37942689/maven-shade-plugin-reports-error-creating-shaded-jar-target-classes-is-a-d). Thanks!","body":"Here you go: <a href=\"http://stackoverflow.com/questions/37942689/maven-shade-plugin-reports-error-creating-shaded-jar-target-classes-is-a-d\">Question #37942689</a>. Thanks!"}],"tags":[],"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"comment_count":6,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1436489068,"creation_date":1436489068,"answer_id":31330682,"question_id":23986331,"body_markdown":"You can face this error, if you&#39;re compiling from Eclipse with m2e plugin.\r\n\r\nThe workaround is to uncheck `Resolve Workspace artifacts` in the Maven Run Configuration.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/XvQJc.png","title":"Maven Shading Error: Access is Denied","body":"<p>You can face this error, if you're compiling from Eclipse with m2e plugin.</p>\n\n<p>The workaround is to uncheck <code>Resolve Workspace artifacts</code> in the Maven Run Configuration.</p>\n\n<p><img src=\"https://i.stack.imgur.com/XvQJc.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":2146477,"reputation":35,"user_id":1903994,"display_name":"upperlimit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475426153,"creation_date":1475426153,"answer_id":39819191,"question_id":23986331,"body_markdown":"Use the artifactSet option of maven-shade-plugin\r\n\r\nFor whatever reason this way Eclipse does not produce the &quot;Access Denied&quot; error\r\n","title":"Maven Shading Error: Access is Denied","body":"<p>Use the artifactSet option of maven-shade-plugin</p>\n\n<p>For whatever reason this way Eclipse does not produce the \"Access Denied\" error</p>\n"},{"tags":[],"owner":{"account_id":3838250,"reputation":9521,"user_id":3182091,"accept_rate":91,"display_name":"Robert P"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572438306,"creation_date":1572438306,"answer_id":58625332,"question_id":23986331,"body_markdown":"I had a similar issue and as this is the first question that shows up on google, I add my solution as an answer here.  \r\nIn my case, the problem was related to the `dependencyReducedPomLocation` I&#39;ve set.  \r\nI wanted to move the `dependency-reduced-pom` to the `target` folder and so I&#39;ve set the property to `${project.build.directory}`.  \r\nHowever, this property does not expect a folder, but a file and the correct value for it would be `${project.build.directory}${file.separator}dependency-reduced-pom.xml`.  \r\nAfter this change everything worked as expected.","title":"Maven Shading Error: Access is Denied","body":"<p>I had a similar issue and as this is the first question that shows up on google, I add my solution as an answer here.<br>\nIn my case, the problem was related to the <code>dependencyReducedPomLocation</code> I've set.<br>\nI wanted to move the <code>dependency-reduced-pom</code> to the <code>target</code> folder and so I've set the property to <code>${project.build.directory}</code>.<br>\nHowever, this property does not expect a folder, but a file and the correct value for it would be <code>${project.build.directory}${file.separator}dependency-reduced-pom.xml</code>.<br>\nAfter this change everything worked as expected.</p>\n"},{"tags":[],"owner":{"account_id":14921587,"reputation":277,"user_id":10773697,"display_name":"San4musa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679082109,"creation_date":1679082109,"answer_id":75771607,"question_id":23986331,"body_markdown":"Upgrading maven-shade-plugin to 3.4.1 version resolved the issue.","title":"Maven Shading Error: Access is Denied","body":"<p>Upgrading maven-shade-plugin to 3.4.1 version resolved the issue.</p>\n"}],"owner":{"account_id":1840741,"reputation":2048,"user_id":1670183,"accept_rate":93,"display_name":"PaulBGD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15751,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":31330682,"answer_count":5,"score":6,"last_activity_date":1679082109,"creation_date":1401673657,"question_id":23986331,"body_markdown":"Now, I have already seen [this question][1], however it doesn&#39;t appear anything is using my target folder. \r\n\r\nWhat&#39;s going on, is when I compile it fails and shows me this error:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:2.3:shade (default) on project FooProject: Error creating shaded jar: Failed to analyze class dependencies: C:\\Users\\paul_000\\Documents\\FooCore\\target\\classes (Access is denied) -&gt; [Help 1]\r\n\r\nI&#39;m not quite sure exactly why this happens, as it doesn&#39;t happen on my normal computer.\r\n\r\nEDIT: I forgot to mention, the jar I am shading does not exist on a repository. I just compile it locally (clean install).\r\nAs well, here&#39;s what I use to shade:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.3&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t&lt;/configuration&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n  [1]: https://stackoverflow.com/questions/17914955/maven-build-error-error-creating-shaded-jar-access-denied","title":"Maven Shading Error: Access is Denied","body":"<p>Now, I have already seen <a href=\"https://stackoverflow.com/questions/17914955/maven-build-error-error-creating-shaded-jar-access-denied\">this question</a>, however it doesn't appear anything is using my target folder. </p>\n\n<p>What's going on, is when I compile it fails and shows me this error:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:2.3:shade (default) on project FooProject: Error creating shaded jar: Failed to analyze class dependencies: C:\\Users\\paul_000\\Documents\\FooCore\\target\\classes (Access is denied) -&gt; [Help 1]\n</code></pre>\n\n<p>I'm not quite sure exactly why this happens, as it doesn't happen on my normal computer.</p>\n\n<p>EDIT: I forgot to mention, the jar I am shading does not exist on a repository. I just compile it locally (clean install).\nAs well, here's what I use to shade:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3&lt;/version&gt;\n    &lt;configuration&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","amqp","deprecated"],"answers":[{"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679082100,"creation_date":1679082100,"answer_id":75771606,"question_id":75722583,"body_markdown":"&gt;Spring Remoting with AMQP\r\n\r\n&gt;Spring remoting is no longer supported because the functionality has been removed from Spring Framework.\r\n\r\n&gt;Use sendAndReceive operations using the RabbitTemplate (client side ) and @RabbitListener instead.\r\n\r\nThey say in the [current document](https://docs.spring.io/spring-amqp/reference/html/amqp.html#remoting). that is all I can find without seeing any code.","title":"What&#39;s the alternative for AMQP remoting?","body":"<blockquote>\n<p>Spring Remoting with AMQP</p>\n</blockquote>\n<blockquote>\n<p>Spring remoting is no longer supported because the functionality has been removed from Spring Framework.</p>\n</blockquote>\n<blockquote>\n<p>Use sendAndReceive operations using the RabbitTemplate (client side ) and @RabbitListener instead.</p>\n</blockquote>\n<p>They say in the <a href=\"https://docs.spring.io/spring-amqp/reference/html/amqp.html#remoting\" rel=\"nofollow noreferrer\">current document</a>. that is all I can find without seeing any code.</p>\n"}],"owner":{"account_id":3129415,"reputation":37,"user_id":2647593,"display_name":"behizz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679082100,"creation_date":1678714425,"question_id":75722583,"body_markdown":"We&#39;re using Spring AMQP in order to make RPC calls using Rabbitmq but AMQP remoting is removed in spring 6. What&#39;s the alternative for it?\r\n\r\nThanks","title":"What&#39;s the alternative for AMQP remoting?","body":"<p>We're using Spring AMQP in order to make RPC calls using Rabbitmq but AMQP remoting is removed in spring 6. What's the alternative for it?</p>\n<p>Thanks</p>\n"},{"tags":["java","junit","reactive","springmockito"],"answers":[{"comments":[{"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"score":0,"creation_date":1679054152,"post_id":75767292,"comment_id":133656170,"body_markdown":"the tests work, but warnings will be visible: &#39;The value is never used as a publisher&#39; ,  after calling the when() method, you call the method of the service from which the Mock is made","body":"the tests work, but warnings will be visible: &#39;The value is never used as a publisher&#39; ,  after calling the when() method, you call the method of the service from which the Mock is made"}],"tags":[],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679081886,"creation_date":1679053885,"answer_id":75767292,"question_id":75731555,"body_markdown":"I have used so:\r\n\r\n```java\r\n@ExtendWith(value = SpringExtension.class)\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\npublic abstract class BaseAbstractTest {\r\n\r\n    @MockBean\r\n    protected TokenService tokenService;\r\n\r\n    @MockBean\r\n    protected UserService userService;\r\n\r\n    protected AccessService accessService;\r\n\r\n}\r\n\r\n    @BeforeEach\r\n    protected void init() {\r\n\r\n Mono&lt;Token&gt; tokenExpected = Mono.just(new Token());\r\n\r\n      given(\r\n                this.tokenService.createToken(\r\n                        any(Auth.class),\r\n                        any(String.class),\r\n                        any(UUID.class),\r\n                        any(String.class),\r\n                        any(Duration.class)\r\n                )\r\n        )\r\n                .willReturn(tokenExpected);\r\n\r\n        doReturn(this.tokenExpected)\r\n                .when(this.tokenService)\r\n                .createToken(\r\n                        any(UserAuthentication.class),\r\n                        any(String.class),\r\n                        any(UUID.class),\r\n                        any(String.class),\r\n                        any(Duration.class)\r\n                );\r\n\r\n  this.accessService =\r\n                new AccessService(\r\n                        this.tokenService,             \r\n                        this.userService);\r\n\r\n}\r\n\r\n```\r\n\r\nand than:\r\n\r\n```java\r\n@Test\r\nvoid test(){\r\n\r\nRequestDto requestDto = new RequestDto();\r\n\r\n StepVerifier.create(\r\n                    accessService.getAccess(requestDto)\r\n                )\r\n                .assertNext(responseDto -&gt; {\r\n\r\n               Assertions.assertEquals(expectedValue, responseDto.getValueActual);\r\n\r\n                )\r\n                .verifyComplete();\r\n}\r\n\r\n```\r\n\r\nIt&#39;s important: use an annotation @BeforeEach (when you will creating shared mock beans). Otherwise, you may encounter an error :\r\n\r\n&gt; expectation &quot;assertNext&quot; failed (expected: onNext(); actual: onError(java.lang.NullPointerException: The mapper returned a null Mono))\r\njava.lang.AssertionError: expectation &quot;assertNext&quot; failed (expected: onNext(); actual: onError(java.lang.NullPointerException: The mapper returned a null Mono))\r\n\r\n","title":"MonoJust cannot be returned by toString() toString() should return String (Reactive streams and Mockito)","body":"<p>I have used so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(value = SpringExtension.class)\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\npublic abstract class BaseAbstractTest {\n\n    @MockBean\n    protected TokenService tokenService;\n\n    @MockBean\n    protected UserService userService;\n\n    protected AccessService accessService;\n\n}\n\n    @BeforeEach\n    protected void init() {\n\n Mono&lt;Token&gt; tokenExpected = Mono.just(new Token());\n\n      given(\n                this.tokenService.createToken(\n                        any(Auth.class),\n                        any(String.class),\n                        any(UUID.class),\n                        any(String.class),\n                        any(Duration.class)\n                )\n        )\n                .willReturn(tokenExpected);\n\n        doReturn(this.tokenExpected)\n                .when(this.tokenService)\n                .createToken(\n                        any(UserAuthentication.class),\n                        any(String.class),\n                        any(UUID.class),\n                        any(String.class),\n                        any(Duration.class)\n                );\n\n  this.accessService =\n                new AccessService(\n                        this.tokenService,             \n                        this.userService);\n\n}\n\n</code></pre>\n<p>and than:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid test(){\n\nRequestDto requestDto = new RequestDto();\n\n StepVerifier.create(\n                    accessService.getAccess(requestDto)\n                )\n                .assertNext(responseDto -&gt; {\n\n               Assertions.assertEquals(expectedValue, responseDto.getValueActual);\n\n                )\n                .verifyComplete();\n}\n\n</code></pre>\n<p>It's important: use an annotation @BeforeEach (when you will creating shared mock beans). Otherwise, you may encounter an error :</p>\n<blockquote>\n<p>expectation &quot;assertNext&quot; failed (expected: onNext(); actual: onError(java.lang.NullPointerException: The mapper returned a null Mono))\njava.lang.AssertionError: expectation &quot;assertNext&quot; failed (expected: onNext(); actual: onError(java.lang.NullPointerException: The mapper returned a null Mono))</p>\n</blockquote>\n"}],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1708,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679081886,"creation_date":1678787775,"question_id":75731555,"body_markdown":"\r\n```java\r\n@ExtendWith(value = SpringExtension.class)\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\npublic abstract class BaseAbstractTest {\r\n\r\n    @MockBean\r\n    protected TokenService tokenService;\r\n\r\n    @MockBean\r\n    protected UserService userService;\r\n\r\n    protected AccessService accessService;\r\n\r\n}\r\n\r\n    @BeforeAll\r\n    protected void init() {\r\n\r\n Mono&lt;Token&gt; tokenExpected = Mono.just(new Token());\r\n\r\n      given(\r\n                this.tokenService.createToken(\r\n                        any(Auth.class),\r\n                        any(String.class),\r\n                        any(UUID.class),\r\n                        any(String.class),\r\n                        any(Duration.class)\r\n                )\r\n        )\r\n                .willReturn(tokenExpected);\r\n\r\n  this.accessService =\r\n                new AccessService(\r\n                        this.tokenService,             \r\n                        this.userService);\r\n\r\n}\r\n\r\n```\r\n\r\n```java\r\npublic interface MfaTokenService {\r\n\r\n  Mono&lt;MfaToken&gt; createNewToken(Auth authentication,\r\n                                     String sessionId,\r\n                                     UUID sessionId,\r\n                                     String phone,\r\n                                     Duration ttl);\r\n}\r\n```\r\n\r\nWhen initialization occurs and mock behaviors are created, then I get an error ( .willReturn(tokenExpected) ):\r\n\r\n\r\n&gt; &gt; MonoJust cannot be returned by toString() toString() should return String\r\n&gt; *** If you&#39;re unsure why you&#39;re getting above error read on. Due to the nature of the syntax above problem might occur because:\r\n&gt; 1. This exception *might* occur in wrongly written multi-threaded tests.    Please refer to Mockito FAQ on limitations of concurrency\r\n&gt; testing.\r\n&gt; 2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \r\n&gt;    - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.\r\n&gt; \r\n&gt; org.mockito.exceptions.misusing.WrongTypeOfReturnValue:  MonoJust\r\n&gt; cannot be returned by toString() toString() should return String\r\n&gt; *** If you&#39;re unsure why you&#39;re getting above error read on. Due to the nature of the syntax above problem might occur because:\r\n&gt; 1. This exception *might* occur in wrongly written multi-threaded tests.    Please refer to Mockito FAQ on limitations of concurrency\r\n&gt; testing.\r\n&gt; 2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \r\n&gt;    - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.\r\n\r\nWho has any idea why the error is happening and how it can be fixed ?","title":"MonoJust cannot be returned by toString() toString() should return String (Reactive streams and Mockito)","body":"<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(value = SpringExtension.class)\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\npublic abstract class BaseAbstractTest {\n\n    @MockBean\n    protected TokenService tokenService;\n\n    @MockBean\n    protected UserService userService;\n\n    protected AccessService accessService;\n\n}\n\n    @BeforeAll\n    protected void init() {\n\n Mono&lt;Token&gt; tokenExpected = Mono.just(new Token());\n\n      given(\n                this.tokenService.createToken(\n                        any(Auth.class),\n                        any(String.class),\n                        any(UUID.class),\n                        any(String.class),\n                        any(Duration.class)\n                )\n        )\n                .willReturn(tokenExpected);\n\n  this.accessService =\n                new AccessService(\n                        this.tokenService,             \n                        this.userService);\n\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MfaTokenService {\n\n  Mono&lt;MfaToken&gt; createNewToken(Auth authentication,\n                                     String sessionId,\n                                     UUID sessionId,\n                                     String phone,\n                                     Duration ttl);\n}\n</code></pre>\n<p>When initialization occurs and mock behaviors are created, then I get an error ( .willReturn(tokenExpected) ):</p>\n<blockquote>\n<blockquote>\n<p>MonoJust cannot be returned by toString() toString() should return String\n*** If you're unsure why you're getting above error read on. Due to the nature of the syntax above problem might occur because:</p>\n</blockquote>\n<ol>\n<li>This exception <em>might</em> occur in wrongly written multi-threaded tests.    Please refer to Mockito FAQ on limitations of concurrency\ntesting.</li>\n<li>A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies -\n<ul>\n<li>with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.</li>\n</ul>\n</li>\n</ol>\n<p>org.mockito.exceptions.misusing.WrongTypeOfReturnValue:  MonoJust\ncannot be returned by toString() toString() should return String\n*** If you're unsure why you're getting above error read on. Due to the nature of the syntax above problem might occur because:</p>\n<ol>\n<li>This exception <em>might</em> occur in wrongly written multi-threaded tests.    Please refer to Mockito FAQ on limitations of concurrency\ntesting.</li>\n<li>A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies -\n<ul>\n<li>with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.</li>\n</ul>\n</li>\n</ol>\n</blockquote>\n<p>Who has any idea why the error is happening and how it can be fixed ?</p>\n"},{"tags":["python","java","enums"],"answers":[{"tags":[],"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679081669,"creation_date":1679081669,"answer_id":75771550,"question_id":75771456,"body_markdown":"There is no such thing in Java, but all enumerations derive from the class [Enum][1]. This class has a property `ordinal` which is a integer automatically assigned at creation:\r\n\r\nFor instance:\r\n\r\n      public enum Language {\r\n        JAVA,\r\n        PYTHON\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        for (var value : Language.values()) {\r\n          System.out.printf(&quot;%s : %d%n&quot;, value.name(), value.ordinal());\r\n        }\r\n      }\r\n\r\n\r\nWill print: \r\n\r\n    JAVA : 0\r\n    PYTHON : 1\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html\r\n","title":"Is there a similar function to auto() of python in java","body":"<p>There is no such thing in Java, but all enumerations derive from the class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html\" rel=\"nofollow noreferrer\">Enum</a>. This class has a property <code>ordinal</code> which is a integer automatically assigned at creation:</p>\n<p>For instance:</p>\n<pre><code>  public enum Language {\n    JAVA,\n    PYTHON\n  }\n\n  public static void main(String[] args) {\n    for (var value : Language.values()) {\n      System.out.printf(&quot;%s : %d%n&quot;, value.name(), value.ordinal());\n    }\n  }\n</code></pre>\n<p>Will print:</p>\n<pre><code>JAVA : 0\nPYTHON : 1\n</code></pre>\n"}],"owner":{"account_id":28045407,"reputation":11,"user_id":21422286,"display_name":"Antiferg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679081669,"creation_date":1679081014,"question_id":75771456,"body_markdown":"```\r\nfrom enum import Enum, auto\r\nclass language(Enum):\r\n    Java = auto()\r\n    Python = auto() \r\nprint(list(language.Java.value))\r\n```\r\nit automaticly assigns a value to Java and Python\r\n\r\nis there a similar method or a  way to do this in java","title":"Is there a similar function to auto() of python in java","body":"<pre><code>from enum import Enum, auto\nclass language(Enum):\n    Java = auto()\n    Python = auto() \nprint(list(language.Java.value))\n</code></pre>\n<p>it automaticly assigns a value to Java and Python</p>\n<p>is there a similar method or a  way to do this in java</p>\n"},{"tags":["java","azure","docker","azure-devops","jackson"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1658414917,"post_id":73067471,"comment_id":129050651,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":25671365,"reputation":9,"user_id":19435553,"display_name":"heuristic123"},"score":0,"creation_date":1658440796,"post_id":73067471,"comment_id":129058866,"body_markdown":"There is no problem with the code because the same code works if I test it with a real Azure system.","body":"There is no problem with the code because the same code works if I test it with a real Azure system."}],"answers":[{"tags":[],"owner":{"account_id":8625831,"reputation":720,"user_id":6459098,"display_name":"U_R_Naveen UR_Naveen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679081225,"creation_date":1679081225,"answer_id":75771481,"question_id":73067471,"body_markdown":"i had faced this issue. it was due to version mismatch with dependencies. so add azure sdk as pom type.\r\n \r\n\r\n    &lt;dependencyManagement&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n          &lt;artifactId&gt;azure-sdk-bom&lt;/artifactId&gt;\r\n          &lt;version&gt;1.2.10&lt;/version&gt;\r\n          &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n[link][1]\r\n\r\n\r\n  [1]: https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/boms/azure-sdk-bom/README.md#adding-the-bom-to-your-project","title":"com.azure.core.exception.HttpResponseException: Deserialization Failed error in azurite docker image","body":"<p>i had faced this issue. it was due to version mismatch with dependencies. so add azure sdk as pom type.</p>\n<pre><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.azure&lt;/groupId&gt;\n      &lt;artifactId&gt;azure-sdk-bom&lt;/artifactId&gt;\n      &lt;version&gt;1.2.10&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n      &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p><a href=\"https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/boms/azure-sdk-bom/README.md#adding-the-bom-to-your-project\" rel=\"nofollow noreferrer\">link</a></p>\n"}],"owner":{"account_id":25671365,"reputation":9,"user_id":19435553,"display_name":"heuristic123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679081225,"creation_date":1658411481,"question_id":73067471,"body_markdown":"I have been able to run the azurite docker container provided by Microsoft to run a local container of Azure Blob storage. Most of the time it works(when I upload images) but it fails when I provide other types of data. I get exactly the following error:\r\n\r\n\r\n        Blob operation error on blob: &#39;reports/08191407-a4d4-4c86-9f3c-45a02b8c93ec&#39;\r\n    com.azure.core.exception.HttpResponseException: Deserialization Failed.\r\n    \tat com.azure.core.implementation.serializer.HttpResponseBodyDecoder.decodeByteArray(HttpResponseBodyDecoder.java:92)\r\n    \tat com.azure.core.implementation.serializer.HttpResponseDecoder$HttpDecodedResponse.getDecodedBody(HttpResponseDecoder.java:93)\r\n    \tat reactor.core.publisher.Mono.lambda$mapNotNull$28(Mono.java:3429)\r\n    \tat reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:176)\r\n    \tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2398)\r\n    \tat reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.request(FluxHandleFuseable.java:257)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171)\r\n    \tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2194)\r\n    \tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2068)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:96)\r\n    \tat reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onSubscribe(FluxHandleFuseable.java:161)\r\n    \tat reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)\r\n    \tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157)\r\n    \tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\r\n    \tat reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onNext(FluxDoOnEach.java:173)\r\n    \tat reactor.core.publisher.FluxDoOnEach$DoOnEachFuseableSubscriber.onNext(FluxDoOnEach.java:281)\r\n    \tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n    \tat reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onNext(FluxHide.java:137)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n    \tat reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onNext(FluxHide.java:137)\r\n    \tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\r\n    \tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\r\n    \tat reactor.core.publisher.FluxDelaySubscription$DelaySubscriptionMainSubscriber.onNext(FluxDelaySubscription.java:189)\r\n    \tat reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)\r\n    \tat reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)\r\n    \tat reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onNext(FluxTimeout.java:180)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n    \tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\r\n    \tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\r\n    \tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:292)\r\n    \tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:187)\r\n    \tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\r\n    \tat reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)\r\n    \tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onNext(FluxRetryWhen.java:174)\r\n    \tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\r\n    \tat reactor.core.publisher.Operators$MonoInnerProducerBase.complete(Operators.java:2664)\r\n    \tat reactor.core.publisher.MonoSingle$SingleSubscriber.onComplete(MonoSingle.java:180)\r\n    \tat reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onComplete(MonoFlatMapMany.java:260)\r\n    \tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)\r\n    \tat reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onComplete(FluxDoFinally.java:128)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152)\r\n    \tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1817)\r\n    \tat reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:160)\r\n    \tat reactor.core.publisher.FluxHandle$HandleSubscriber.onComplete(FluxHandle.java:220)\r\n    \tat reactor.core.publisher.FluxMap$MapConditionalSubscriber.onComplete(FluxMap.java:275)\r\n    \tat reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400)\r\n    \tat reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419)\r\n    \tat reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473)\r\n    \tat reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:703)\r\n    \tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: com.fasterxml.jackson.core.JsonParseException: Unrecognized token &#39;PK o&#39;: was expecting (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\r\n    ?u???\\u0019+??a\\u007Fi]??\\u0012?d?F?_???6P?\\u0002v??i?q?a?\\u001C\\u0013\\u0017\\u0006x\\u0015???\\u007F??\\u00010?\\u001E\\u0000?\\u001BJ\\u0006??,?t??\\u0019l?\\u0013???/?~??Dj8I?\r\n    ?\\u007F?I?PJ?T?G?mkHr+???R&amp;v\\u001E?^Hk?\\q?b;W????\\u0015&#39;-?s???)~???&gt;?o?\\u0014\\u007FO)n? h?.?\\u0012???&#39;??\\u001BC\\u0003? I#\\u0002?&amp;i\\u0007?#\\u0013?\\u0000\\u001E???nxg?/??H???&gt;??f?Y!\\u000Er&quot;[truncated 920346 bytes]; line: 1, column: 13]\r\n    \tat com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:2391)\r\n    \tat com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:745)\r\n    \tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser._reportInvalidToken(UTF8StreamJsonParser.java:3635)\r\n    \tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser._handleUnexpectedValue(UTF8StreamJsonParser.java:2734)\r\n    \tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser._nextTokenNotInObject(UTF8StreamJsonParser.java:902)\r\n    \tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:794)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:4761)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4667)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3723)\r\n    \tat com.azure.core.implementation.jackson.ObjectMapperShim.readValue(ObjectMapperShim.java:224)\r\n    \tat com.azure.core.util.serializer.JacksonAdapter.lambda$deserialize$8(JacksonAdapter.java:225)\r\n    \tat com.azure.core.util.serializer.JacksonAdapter.useAccessHelper(JacksonAdapter.java:271)\r\n    \tat com.azure.core.util.serializer.JacksonAdapter.deserialize(JacksonAdapter.java:223)\r\n    \tat com.azure.core.implementation.serializer.HttpResponseBodyDecoder.deserializeBody(HttpResponseBodyDecoder.java:145)\r\n    \tat com.azure.core.implementation.serializer.HttpResponseBodyDecoder.decodeByteArray(HttpResponseBodyDecoder.java:86)\r\n    \t... 81 common frames omitted\r\n\r\nI think this has to do with how the serialization is done for binary data but it is strange that such an error would happen.","title":"com.azure.core.exception.HttpResponseException: Deserialization Failed error in azurite docker image","body":"<p>I have been able to run the azurite docker container provided by Microsoft to run a local container of Azure Blob storage. Most of the time it works(when I upload images) but it fails when I provide other types of data. I get exactly the following error:</p>\n<pre><code>    Blob operation error on blob: 'reports/08191407-a4d4-4c86-9f3c-45a02b8c93ec'\ncom.azure.core.exception.HttpResponseException: Deserialization Failed.\n    at com.azure.core.implementation.serializer.HttpResponseBodyDecoder.decodeByteArray(HttpResponseBodyDecoder.java:92)\n    at com.azure.core.implementation.serializer.HttpResponseDecoder$HttpDecodedResponse.getDecodedBody(HttpResponseDecoder.java:93)\n    at reactor.core.publisher.Mono.lambda$mapNotNull$28(Mono.java:3429)\n    at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:176)\n    at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2398)\n    at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.request(FluxHandleFuseable.java:257)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171)\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2194)\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2068)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:96)\n    at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onSubscribe(FluxHandleFuseable.java:161)\n    at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157)\n    at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\n    at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onNext(FluxDoOnEach.java:173)\n    at reactor.core.publisher.FluxDoOnEach$DoOnEachFuseableSubscriber.onNext(FluxDoOnEach.java:281)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n    at reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onNext(FluxHide.java:137)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n    at reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onNext(FluxHide.java:137)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\n    at reactor.core.publisher.FluxDelaySubscription$DelaySubscriptionMainSubscriber.onNext(FluxDelaySubscription.java:189)\n    at reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)\n    at reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)\n    at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onNext(FluxTimeout.java:180)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:292)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:187)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\n    at reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)\n    at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onNext(FluxRetryWhen.java:174)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\n    at reactor.core.publisher.Operators$MonoInnerProducerBase.complete(Operators.java:2664)\n    at reactor.core.publisher.MonoSingle$SingleSubscriber.onComplete(MonoSingle.java:180)\n    at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onComplete(MonoFlatMapMany.java:260)\n    at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)\n    at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onComplete(FluxDoFinally.java:128)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1817)\n    at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:160)\n    at reactor.core.publisher.FluxHandle$HandleSubscriber.onComplete(FluxHandle.java:220)\n    at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onComplete(FluxMap.java:275)\n    at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400)\n    at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419)\n    at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473)\n    at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:703)\n    at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: com.fasterxml.jackson.core.JsonParseException: Unrecognized token 'PK o': was expecting (JSON String, Number, Array, Object or token 'null', 'true' or 'false')\n?u???\\u0019+??a\\u007Fi]??\\u0012?d?F?_???6P?\\u0002v??i?q?a?\\u001C\\u0013\\u0017\\u0006x\\u0015???\\u007F??\\u00010?\\u001E\\u0000?\\u001BJ\\u0006??,?t??\\u0019l?\\u0013???/?~??Dj8I?\n?\\u007F?I?PJ?T?G?mkHr+???R&amp;v\\u001E?^Hk?\\q?b;W????\\u0015'-?s???)~???&gt;?o?\\u0014\\u007FO)n? h?.?\\u0012???'??\\u001BC\\u0003? I#\\u0002?&amp;i\\u0007?#\\u0013?\\u0000\\u001E???nxg?/??H???&gt;??f?Y!\\u000Er&quot;[truncated 920346 bytes]; line: 1, column: 13]\n    at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:2391)\n    at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:745)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._reportInvalidToken(UTF8StreamJsonParser.java:3635)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._handleUnexpectedValue(UTF8StreamJsonParser.java:2734)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._nextTokenNotInObject(UTF8StreamJsonParser.java:902)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:794)\n    at com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:4761)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4667)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3723)\n    at com.azure.core.implementation.jackson.ObjectMapperShim.readValue(ObjectMapperShim.java:224)\n    at com.azure.core.util.serializer.JacksonAdapter.lambda$deserialize$8(JacksonAdapter.java:225)\n    at com.azure.core.util.serializer.JacksonAdapter.useAccessHelper(JacksonAdapter.java:271)\n    at com.azure.core.util.serializer.JacksonAdapter.deserialize(JacksonAdapter.java:223)\n    at com.azure.core.implementation.serializer.HttpResponseBodyDecoder.deserializeBody(HttpResponseBodyDecoder.java:145)\n    at com.azure.core.implementation.serializer.HttpResponseBodyDecoder.decodeByteArray(HttpResponseBodyDecoder.java:86)\n    ... 81 common frames omitted\n</code></pre>\n<p>I think this has to do with how the serialization is done for binary data but it is strange that such an error would happen.</p>\n"},{"tags":["java","junit","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1354996657,"post_id":13779537,"comment_id":18950037,"body_markdown":"Works for me. Please share a sample project to reproduce.","body":"Works for me. Please share a sample project to reproduce."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1355000458,"post_id":13779537,"comment_id":18950971,"body_markdown":"Working for me as well. Check your module&#39;s settings and make sure it&#39;s a Java project, it&#39;s using the correct JDK, etc; while I didn&#39;t have any issues with the upgrade, a friend had to muck with a few of his projects.","body":"Working for me as well. Check your module&#39;s settings and make sure it&#39;s a Java project, it&#39;s using the correct JDK, etc; while I didn&#39;t have any issues with the upgrade, a friend had to muck with a few of his projects."},{"owner":{"account_id":17640,"reputation":261516,"user_id":39677,"accept_rate":57,"display_name":"Blankman"},"score":0,"creation_date":1355020857,"post_id":13779537,"comment_id":18954736,"body_markdown":"looks like somehow the project settings changed and my folder was not marked as a test folder any longer.","body":"looks like somehow the project settings changed and my folder was not marked as a test folder any longer."},{"owner":{"account_id":478864,"reputation":1349,"user_id":891203,"accept_rate":80,"display_name":"devdanke"},"score":0,"creation_date":1355295872,"post_id":13779537,"comment_id":19040705,"body_markdown":"I have the same problem.  Since switching to IntelliJ 12, for JUnit annotated classes under src/test/java, the context menu does not show any of the run or debug options that are usually available.  I checked project structure and my src/test/java path is correctly designated as &quot;Test Sources&quot;.  My workaround was to create a JUnit run configuration. Details: IntelliJ project is based on Maven multi-module project. The module is a Jersey REST service. (Maybe I upgraded to IntelliJ 12 a little too soon;-)","body":"I have the same problem.  Since switching to IntelliJ 12, for JUnit annotated classes under src/test/java, the context menu does not show any of the run or debug options that are usually available.  I checked project structure and my src/test/java path is correctly designated as &quot;Test Sources&quot;.  My workaround was to create a JUnit run configuration. Details: IntelliJ project is based on Maven multi-module project. The module is a Jersey REST service. (Maybe I upgraded to IntelliJ 12 a little too soon;-)"},{"owner":{"account_id":9379,"reputation":4132,"user_id":17304,"accept_rate":0,"display_name":"Piko"},"score":0,"creation_date":1383159115,"post_id":13779537,"comment_id":29248063,"body_markdown":"I have the same problem. I&#39;m running on Mac OS 10.9 with JDK 1.6. I used to be able to do this in IDEA 11 but not 12 :( I&#39;ve tried the suggestions below but it still doesn&#39;t work. While I can still set up unit tests from the Edit Configurations dialog, I really miss being able to quickly configure all my unit tests from the context menu... :(","body":"I have the same problem. I&#39;m running on Mac OS 10.9 with JDK 1.6. I used to be able to do this in IDEA 11 but not 12 :( I&#39;ve tried the suggestions below but it still doesn&#39;t work. While I can still set up unit tests from the Edit Configurations dialog, I really miss being able to quickly configure all my unit tests from the context menu... :("}],"answers":[{"tags":[],"owner":{"account_id":17640,"reputation":261516,"user_id":39677,"accept_rate":57,"display_name":"Blankman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1355060993,"creation_date":1355060993,"answer_id":13787980,"question_id":13779537,"body_markdown":"For some reason my project settings seemed to have not been picked up correctly with IntelliJ 12, I had to reset the /test folder as a test source and it works fine now.","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>For some reason my project settings seemed to have not been picked up correctly with IntelliJ 12, I had to reset the /test folder as a test source and it works fine now.</p>\n"},{"tags":[],"owner":{"account_id":2429293,"reputation":518,"user_id":2120578,"accept_rate":0,"display_name":"Kermit_ice_tea"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1374165610,"creation_date":1374165610,"answer_id":17729319,"question_id":13779537,"body_markdown":"The solution which worked for me, is as follows...\r\n\r\nRight click on the test folder------&gt;Mark Directory AS------&gt;select Test Source","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>The solution which worked for me, is as follows...</p>\n\n<p>Right click on the test folder------>Mark Directory AS------>select Test Source</p>\n"},{"comments":[{"owner":{"account_id":6197039,"reputation":6332,"user_id":4828060,"accept_rate":21,"display_name":"Jo&#227;o Matos"},"score":1,"creation_date":1493284415,"post_id":19741436,"comment_id":74354355,"body_markdown":"+1 because your scenario is actually quite easy to occur:\n\nAlt+enter in the class -&gt; create test: IJ (2017.1.1) proposes Arquillian Junit as first option of testing library and by going with it the test class and methods are created without the &#39;public&#39; identifier. Then if one decides to change the testing library to JUnit, it is easy to forget about the absence of the &#39;public&#39; identifier, which causes the tests not to be recognised by IJ.","body":"+1 because your scenario is actually quite easy to occur:  Alt+enter in the class -&gt; create test: IJ (2017.1.1) proposes Arquillian Junit as first option of testing library and by going with it the test class and methods are created without the &#39;public&#39; identifier. Then if one decides to change the testing library to JUnit, it is easy to forget about the absence of the &#39;public&#39; identifier, which causes the tests not to be recognised by IJ."}],"tags":[],"owner":{"account_id":314670,"reputation":121,"user_id":629969,"display_name":"MattCurtis"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1383391846,"creation_date":1383391846,"answer_id":19741436,"question_id":13779537,"body_markdown":"Just had the same issue in a maven project - I had forgotten to mark the test class as public which resolved it immediately.","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>Just had the same issue in a maven project - I had forgotten to mark the test class as public which resolved it immediately.</p>\n"},{"tags":[],"owner":{"account_id":103956,"reputation":4401,"user_id":278174,"accept_rate":85,"display_name":"powder366"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402742554,"creation_date":1402742554,"answer_id":24219094,"question_id":13779537,"body_markdown":"I reinstalled IntelliJ on mac and it worked again.","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>I reinstalled IntelliJ on mac and it worked again.</p>\n"},{"tags":[],"owner":{"account_id":265903,"reputation":5352,"user_id":2092870,"accept_rate":80,"display_name":"Krešimir Nesek"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1403085748,"creation_date":1403085748,"answer_id":24282656,"question_id":13779537,"body_markdown":"Test sources were marked correctly in my case.\r\nFile -&gt; Invalidate Caches -&gt; Restart did it for me.","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>Test sources were marked correctly in my case.\nFile -> Invalidate Caches -> Restart did it for me.</p>\n"},{"tags":[],"owner":{"account_id":45002,"reputation":13531,"user_id":132374,"accept_rate":87,"display_name":"Jon Onstott"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436893639,"creation_date":1436893639,"answer_id":31413037,"question_id":13779537,"body_markdown":"I had this issue in IDEA 14.1.4.  Somehow, my JUnit plugin became disabled in Settings --&gt; Plugins.  I re-enabled it and am back in business.","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>I had this issue in IDEA 14.1.4.  Somehow, my JUnit plugin became disabled in Settings --> Plugins.  I re-enabled it and am back in business.</p>\n"},{"comments":[{"owner":{"account_id":889207,"reputation":495,"user_id":1481055,"display_name":"Gabe"},"score":1,"creation_date":1439582874,"post_id":31831636,"comment_id":51938264,"body_markdown":"Hejwo is my HERO!  I&#39;ve been banging my head on this intermittently for a year. Disabling the Ant Debugger 1.2.0 plugin and restarting intellij worked for me. I&#39;m gonna report it to Jetbrains.","body":"Hejwo is my HERO!  I&#39;ve been banging my head on this intermittently for a year. Disabling the Ant Debugger 1.2.0 plugin and restarting intellij worked for me. I&#39;m gonna report it to Jetbrains."},{"owner":{"account_id":1912589,"reputation":3588,"user_id":1725975,"display_name":"Sym-Sym"},"score":0,"creation_date":1449080838,"post_id":31831636,"comment_id":55854979,"body_markdown":"Perfect Perfect answer.","body":"Perfect Perfect answer."}],"tags":[],"owner":{"account_id":4039834,"reputation":390,"user_id":3323033,"accept_rate":17,"display_name":"Hejwo"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1438775221,"creation_date":1438775221,"answer_id":31831636,"question_id":13779537,"body_markdown":"I also had this problem under IDEA 14.1.4 but JUnit plugin was on. \r\nAfter some time spent on comparing my old **{HOME}/.IdeaIC14** folder and newly created one, I&#39;ve discovered that problem lies in AntDebugger v1.2.0 plugin. Uninstalling it helped.\r\n\r\nSo if anyone still have problems with run item in context menu maybe it&#39;s because of some underdeveloped plugin. ","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>I also had this problem under IDEA 14.1.4 but JUnit plugin was on. \nAfter some time spent on comparing my old <strong>{HOME}/.IdeaIC14</strong> folder and newly created one, I've discovered that problem lies in AntDebugger v1.2.0 plugin. Uninstalling it helped.</p>\n\n<p>So if anyone still have problems with run item in context menu maybe it's because of some underdeveloped plugin. </p>\n"},{"tags":[],"owner":{"account_id":7738376,"reputation":2013,"user_id":5859173,"accept_rate":56,"display_name":"Vishal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464206821,"creation_date":1464206821,"answer_id":37446669,"question_id":13779537,"body_markdown":"That means IntelliJ was not able to configure your workspace as python workspace. It generally shows a message when it detects python scripts and provide an auto configure option like &quot;configure python&quot;. This message was not appearing when I was opening python workspace and hence no tests were getting identified.\r\n\r\nI faced this issue when working simultaneously between Java and Python unit tests. The caching might have prevented identification of unit tests in python workspace. \r\n\r\nI just restarted cache using the option available in File menu (IntelliJ IDEA) and it reconfigured python as soon as I opened my python workspace after cache restarted.","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>That means IntelliJ was not able to configure your workspace as python workspace. It generally shows a message when it detects python scripts and provide an auto configure option like \"configure python\". This message was not appearing when I was opening python workspace and hence no tests were getting identified.</p>\n\n<p>I faced this issue when working simultaneously between Java and Python unit tests. The caching might have prevented identification of unit tests in python workspace. </p>\n\n<p>I just restarted cache using the option available in File menu (IntelliJ IDEA) and it reconfigured python as soon as I opened my python workspace after cache restarted.</p>\n"},{"comments":[{"owner":{"account_id":2861738,"reputation":1000,"user_id":2456862,"display_name":"Big Al"},"score":1,"creation_date":1541537293,"post_id":39327459,"comment_id":93249682,"body_markdown":"Thank you!  My class was not public!  I had translated from Groovy and didn&#39;t even notice that the class was not public.  Now my context menu contains Run and Debug as it should.","body":"Thank you!  My class was not public!  I had translated from Groovy and didn&#39;t even notice that the class was not public.  Now my context menu contains Run and Debug as it should."}],"tags":[],"owner":{"account_id":252322,"reputation":279,"user_id":530281,"display_name":"Hamed"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473067323,"creation_date":1473067323,"answer_id":39327459,"question_id":13779537,"body_markdown":"What solved it for me was to put the test files inside a separate directory. Moreover, the test directory should be located OUTSIDE the src directory. Then, I had the right click menu item to mark the directory as test. Finally, I had to make both the test method and class containing it &#39;public&#39; and also the method had to be &#39;public void&#39;.\r\n\r\nI have no idea where are all these restrictions documented. I am new to Java and JUnit, anyway.","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>What solved it for me was to put the test files inside a separate directory. Moreover, the test directory should be located OUTSIDE the src directory. Then, I had the right click menu item to mark the directory as test. Finally, I had to make both the test method and class containing it 'public' and also the method had to be 'public void'.</p>\n\n<p>I have no idea where are all these restrictions documented. I am new to Java and JUnit, anyway.</p>\n"},{"tags":[],"owner":{"account_id":3731306,"reputation":689,"user_id":3103593,"display_name":"Joshua"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1477280573,"creation_date":1477280573,"answer_id":40210375,"question_id":13779537,"body_markdown":"Try to add junit plugin.\r\nPreferences -&gt; plugins -&gt; junit.[![add junit plugin][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pqVeH.png","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>Try to add junit plugin.\nPreferences -> plugins -> junit.<a href=\"https://i.stack.imgur.com/pqVeH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pqVeH.png\" alt=\"add junit plugin\"></a></p>\n"},{"tags":[],"owner":{"account_id":80063,"reputation":1983,"user_id":226630,"accept_rate":60,"display_name":"dSebastien"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563975250,"creation_date":1563975250,"answer_id":57184222,"question_id":13779537,"body_markdown":"In my case, the issue occurred because of the Node plugin; disabling it fixed the issue; after a restart of IntelliJ, my Run options were back.\r\n\r\nI could identify the issue by looking at IntelliJ&#39;s logs, where there were NoSuchMethod errors when I right clicked on a test class/method name.","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>In my case, the issue occurred because of the Node plugin; disabling it fixed the issue; after a restart of IntelliJ, my Run options were back.</p>\n\n<p>I could identify the issue by looking at IntelliJ's logs, where there were NoSuchMethod errors when I right clicked on a test class/method name.</p>\n"},{"tags":[],"owner":{"account_id":28045424,"reputation":1,"user_id":21422301,"display_name":"MintAmphetamine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679081219,"creation_date":1679081219,"answer_id":75771478,"question_id":13779537,"body_markdown":"For those new to IntelliJ, you&#39;ll also get this issue if you accidentally create your Java file outside of the src folder. Moving it back in will fix it. ","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>For those new to IntelliJ, you'll also get this issue if you accidentally create your Java file outside of the src folder. Moving it back in will fix it.</p>\n"}],"owner":{"account_id":17640,"reputation":261516,"user_id":39677,"accept_rate":57,"display_name":"Blankman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19189,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":13787980,"answer_count":12,"score":13,"last_activity_date":1679081219,"creation_date":1354985193,"question_id":13779537,"body_markdown":"I downloaded the latest intellij 12 release, and now I don&#39;t see that right click context menu item to run my unit test for the current file.\r\n\r\nWhere is that option now?","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>I downloaded the latest intellij 12 release, and now I don't see that right click context menu item to run my unit test for the current file.</p>\n\n<p>Where is that option now?</p>\n"},{"tags":["java","arrays","binary-search"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1679080115,"post_id":75771235,"comment_id":133663045,"body_markdown":"Compare `arr[mid] == target` vs. `mid &lt; target`. Those can&#39;t both be right.","body":"Compare <code>arr[mid] == target</code> vs. <code>mid &lt; target</code>. Those can&#39;t both be right."},{"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"score":0,"creation_date":1679080523,"post_id":75771235,"comment_id":133663155,"body_markdown":"@Idle_Mind I think the idea is to assume the array is sorted in some direction, but check dynamically if it&#39;s increasing or decreasing.","body":"@Idle_Mind I think the idea is to assume the array is sorted in some direction, but check dynamically if it&#39;s increasing or decreasing."}],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679081163,"creation_date":1679081163,"answer_id":75771473,"question_id":75771235,"body_markdown":"The problem in the code is when you compare the value is `&lt;` target. But currently, you are comparing the index with the target which will not match and it behaves differently.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    int[] arr = {-14, -5, 0, 3, 23, 49, 74, 106};\r\n    // int[] arr = {106, 74, 49, 23, 3, 0, -5, -14};\r\n    int target = 0;\r\n    int ans = answer(arr, target);\r\n    System.out.println(ans);\r\n}\r\n\r\nstatic int answer(int[] arr, int target) {\r\n    int start = 0;\r\n    int end = arr.length - 1;\r\n    boolean isAsc = arr[start] &lt; arr[end];\r\n    while (start &lt;= end) {\r\n        int mid = (start + end) / 2;\r\n        if (arr[mid] == target) {\r\n            return mid;\r\n        }\r\n        if (isAsc) {\r\n            if (arr[mid] &lt; target) { // the fix\r\n                start = mid + 1;\r\n            } else {\r\n                end = mid - 1;\r\n            }\r\n        } else if (arr[mid] &lt; target) { // the fix\r\n            end = mid - 1;\r\n        } else {\r\n            start = mid + 1;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n```","title":"Binary Search array in Java","body":"<p>The problem in the code is when you compare the value is <code>&lt;</code> target. But currently, you are comparing the index with the target which will not match and it behaves differently.</p>\n<pre><code>public static void main(String[] args) {\n    int[] arr = {-14, -5, 0, 3, 23, 49, 74, 106};\n    // int[] arr = {106, 74, 49, 23, 3, 0, -5, -14};\n    int target = 0;\n    int ans = answer(arr, target);\n    System.out.println(ans);\n}\n\nstatic int answer(int[] arr, int target) {\n    int start = 0;\n    int end = arr.length - 1;\n    boolean isAsc = arr[start] &lt; arr[end];\n    while (start &lt;= end) {\n        int mid = (start + end) / 2;\n        if (arr[mid] == target) {\n            return mid;\n        }\n        if (isAsc) {\n            if (arr[mid] &lt; target) { // the fix\n                start = mid + 1;\n            } else {\n                end = mid - 1;\n            }\n        } else if (arr[mid] &lt; target) { // the fix\n            end = mid - 1;\n        } else {\n            start = mid + 1;\n        }\n    }\n    return -1;\n}\n</code></pre>\n"}],"owner":{"display_name":"user21113485"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75771473,"answer_count":1,"score":0,"last_activity_date":1679081163,"creation_date":1679079379,"question_id":75771235,"body_markdown":"In this code, index of 0 (target) is not coming out to be -1, whereas of other numbers index ii coming out correctly. This is happening only with 0. What is the bug in this code?\r\n\r\n        public class binarySearch {\r\n            public static void main(String[] args) {\r\n                int[] arr = {-14, -5, 0, 3, 23, 49, 74, 106};\r\n                int target = 0;\r\n                int ans = answer(arr, target);\r\n                System.out.println(ans);\r\n            }\r\n        \r\n        static int answer(int[] arr, int target) {\r\n        \r\n            int start = 0;\r\n            int end = arr.length - 1;\r\n        \r\n            boolean isAsc = arr[start] &lt; arr[end];\r\n        \r\n            while(start &lt;= end) {\r\n                int mid = start + (end - start) / 2;\r\n        \r\n                if(arr[mid] == target) {\r\n                    return mid;\r\n                }\r\n        \r\n                if(isAsc) {\r\n                    if(mid &lt; target) {\r\n                        start = mid + 1;\r\n                    }\r\n                    else {\r\n                        end = mid - 1;\r\n                    }\r\n                }\r\n                else {\r\n                    if(mid &lt; target) {\r\n                        end = mid - 1;\r\n                    }\r\n                    else {\r\n                        start = mid + 1;\r\n                    }\r\n                }\r\n            }\r\n            return -1;\r\n        }\r\n    }","title":"Binary Search array in Java","body":"<p>In this code, index of 0 (target) is not coming out to be -1, whereas of other numbers index ii coming out correctly. This is happening only with 0. What is the bug in this code?</p>\n<pre><code>    public class binarySearch {\n        public static void main(String[] args) {\n            int[] arr = {-14, -5, 0, 3, 23, 49, 74, 106};\n            int target = 0;\n            int ans = answer(arr, target);\n            System.out.println(ans);\n        }\n    \n    static int answer(int[] arr, int target) {\n    \n        int start = 0;\n        int end = arr.length - 1;\n    \n        boolean isAsc = arr[start] &lt; arr[end];\n    \n        while(start &lt;= end) {\n            int mid = start + (end - start) / 2;\n    \n            if(arr[mid] == target) {\n                return mid;\n            }\n    \n            if(isAsc) {\n                if(mid &lt; target) {\n                    start = mid + 1;\n                }\n                else {\n                    end = mid - 1;\n                }\n            }\n            else {\n                if(mid &lt; target) {\n                    end = mid - 1;\n                }\n                else {\n                    start = mid + 1;\n                }\n            }\n        }\n        return -1;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","security","soap","java-security"],"owner":{"account_id":10526511,"reputation":91,"user_id":7757373,"display_name":"shimaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679080741,"creation_date":1679080741,"question_id":75771417,"body_markdown":"I am currently trying to add the missing &lt;xenc: ReferenceList&gt;\r\n in the header but I am not able to add it inside wss4jSecurityInterceptor so if anyone can help me please, I tried to add the security part in the header by using the below code but there&#39;s a missing tag called Reference list, I want to add it\r\n\r\n```\r\nWss4jSecurityInterceptor wss4jSecurityInterceptor = new Wss4jSecurityInterceptor() ;\r\n        wss4jSecurityInterceptor.setSecurementActions(&quot;Encrypt Timestamp &quot;);\r\n        wss4jSecurityInterceptor.setSecurementEncryptionCrypto(cryptoFactoryBean.getObject());\r\n        wss4jSecurityInterceptor.setSecurementEncryptionUser(config.publicKeyAlias);\r\n        wss4jSecurityInterceptor.setSecurementEncryptionSymAlgorithm(WSS4JConstants.TRIPLE_DES);\r\n        wss4jSecurityInterceptor.setAllowRSA15KeyTransportAlgorithm(true);\r\n          wss4jSecurityInterceptor.setSecurementEncryptionKeyTransportAlgorithm(KEYTRANSPORT_RSA15);\r\n\r\n```\r\n","title":"Missing ReferenceList Tag inside the security part in the Soap Request Header","body":"<p>I am currently trying to add the missing &lt;xenc: ReferenceList&gt;\nin the header but I am not able to add it inside wss4jSecurityInterceptor so if anyone can help me please, I tried to add the security part in the header by using the below code but there's a missing tag called Reference list, I want to add it</p>\n<pre><code>Wss4jSecurityInterceptor wss4jSecurityInterceptor = new Wss4jSecurityInterceptor() ;\n        wss4jSecurityInterceptor.setSecurementActions(&quot;Encrypt Timestamp &quot;);\n        wss4jSecurityInterceptor.setSecurementEncryptionCrypto(cryptoFactoryBean.getObject());\n        wss4jSecurityInterceptor.setSecurementEncryptionUser(config.publicKeyAlias);\n        wss4jSecurityInterceptor.setSecurementEncryptionSymAlgorithm(WSS4JConstants.TRIPLE_DES);\n        wss4jSecurityInterceptor.setAllowRSA15KeyTransportAlgorithm(true);\n          wss4jSecurityInterceptor.setSecurementEncryptionKeyTransportAlgorithm(KEYTRANSPORT_RSA15);\n\n</code></pre>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1311879426,"post_id":6862972,"comment_id":8164913,"body_markdown":"When you set the maximum, it allocates that amount of virtual memory on start up. However, the amount of memory used grows slowly as the heap is used. Even when you specify a minimum size, it doesn&#39;t use this space immediately instead it allows the heap to grow to this size quickly.","body":"When you set the maximum, it allocates that amount of virtual memory on start up. However, the amount of memory used grows slowly as the heap is used. Even when you specify a minimum size, it doesn&#39;t use this space immediately instead it allows the heap to grow to this size quickly."}],"answers":[{"comments":[{"owner":{"account_id":64324,"reputation":76490,"user_id":189950,"accept_rate":79,"display_name":"Kirk Woll"},"score":0,"creation_date":1311874575,"post_id":6863035,"comment_id":8163401,"body_markdown":"Heap resizing is not the same thing as GC invocations.  Whenever you create an object, it must (eventually) be collected.  So unless your app never instantiates a new object after you&#39;ve reached your max heap size, you will definitely still be having periodic garbage collections.","body":"Heap resizing is not the same thing as GC invocations.  Whenever you create an object, it must (eventually) be collected.  So unless your app never instantiates a new object after you&#39;ve reached your max heap size, you will definitely still be having periodic garbage collections."},{"owner":{"account_id":66010,"reputation":22927,"user_id":193906,"display_name":"Sanjay T. Sharma"},"score":0,"creation_date":1311874807,"post_id":6863035,"comment_id":8163450,"body_markdown":"Yes, I know that and that&#39;s why I mention them separately.","body":"Yes, I know that and that&#39;s why I mention them separately."}],"tags":[],"owner":{"account_id":66010,"reputation":22927,"user_id":193906,"display_name":"Sanjay T. Sharma"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1372755387,"creation_date":1311873766,"answer_id":6863035,"question_id":6862972,"body_markdown":"AFAIK, setting both to the same size does away with the additional step of heap resizing which might be in your favour if you pretty much know how much heap you are going to use. Also, having a large heap size reduces GC invocations to the point that it happens very few times. In my current project (risk analysis of trades), our risk engines have both `Xmx` and `Xms` to the same value which pretty large (around 8Gib). This ensures that even after an entire day of invoking the engines, almost no GC takes place.\r\n\r\nAlso, I found an interesting discussion [here][1].\r\n\r\n\r\n  [1]: http://community.jboss.org/message/532524","title":"Is it good to set the max and min JVM heap size the same?","body":"<p>AFAIK, setting both to the same size does away with the additional step of heap resizing which might be in your favour if you pretty much know how much heap you are going to use. Also, having a large heap size reduces GC invocations to the point that it happens very few times. In my current project (risk analysis of trades), our risk engines have both <code>Xmx</code> and <code>Xms</code> to the same value which pretty large (around 8Gib). This ensures that even after an entire day of invoking the engines, almost no GC takes place.</p>\n\n<p>Also, I found an interesting discussion <a href=\"http://community.jboss.org/message/532524\" rel=\"nofollow\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":552254,"reputation":6004,"user_id":917336,"display_name":"noctarius"},"score":0,"creation_date":1398400747,"post_id":6863174,"comment_id":35639964,"body_markdown":"The test is using a client JVM, server JVM do not deallocate memory once acquired.","body":"The test is using a client JVM, server JVM do not deallocate memory once acquired."}],"tags":[],"owner":{"account_id":462437,"reputation":46,"user_id":864744,"display_name":"Shock"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1311874454,"creation_date":1311874454,"answer_id":6863174,"question_id":6862972,"body_markdown":"From what I see here at http://java-monitor.com/forum/showthread.php?t=427\r\nthe JVM under test begins with the Xms setting, but WILL deallocate memory it doesn&#39;t need and it will take it upto the Xmx mark when it needs it.\r\n\r\nUnless you need a chunk of memory dedicated for a big memory consumer initially, there&#39;s not much of a point in putting in a high Xms=Xmx. Looks like deallocation and allocation occur even with Xms=Xmx","title":"Is it good to set the max and min JVM heap size the same?","body":"<p>From what I see here at <a href=\"http://java-monitor.com/forum/showthread.php?t=427\" rel=\"nofollow\">http://java-monitor.com/forum/showthread.php?t=427</a>\nthe JVM under test begins with the Xms setting, but WILL deallocate memory it doesn't need and it will take it upto the Xmx mark when it needs it.</p>\n\n<p>Unless you need a chunk of memory dedicated for a big memory consumer initially, there's not much of a point in putting in a high Xms=Xmx. Looks like deallocation and allocation occur even with Xms=Xmx</p>\n"},{"comments":[{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":0,"creation_date":1311900463,"post_id":6863874,"comment_id":8169547,"body_markdown":"Can you really avoid OOMEs without adjusting the max heap size? I thought the heap would grow up to the maximum size before an OOME, even at startup.  I always thought it was there to prevent unnecessary GC cycles and heap resizes if you knew that the program would require some minimum amount of memory anyway.","body":"Can you really avoid OOMEs without adjusting the max heap size? I thought the heap would grow up to the maximum size before an OOME, even at startup.  I always thought it was there to prevent unnecessary GC cycles and heap resizes if you knew that the program would require some minimum amount of memory anyway."},{"owner":{"account_id":51752,"reputation":1912,"user_id":154640,"accept_rate":100,"display_name":"Chris Aldrich"},"score":0,"creation_date":1311944727,"post_id":6863874,"comment_id":8177554,"body_markdown":"All I can say is that I&#39;ve had OOME&#39;s happen if the min heap size is too low. End up with too many objects on the heap too fast with not enough time to reallocate memory and get a bigger heap, or garbage collect objects. So the main reason for setting Min heap is to assure you have the right space to grow in on JVM/application start up. After that you hopefully have controlled growth that lets you reach the max heap size and/or have good GC.","body":"All I can say is that I&#39;ve had OOME&#39;s happen if the min heap size is too low. End up with too many objects on the heap too fast with not enough time to reallocate memory and get a bigger heap, or garbage collect objects. So the main reason for setting Min heap is to assure you have the right space to grow in on JVM/application start up. After that you hopefully have controlled growth that lets you reach the max heap size and/or have good GC."},{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":0,"creation_date":1311945595,"post_id":6863874,"comment_id":8177874,"body_markdown":"You say &quot;with not enough time to reallocate memory and get a bigger heap, or garbage collect&quot;.  The trouble is, GC can be a blocking operation.  The time it takes should be irrelevant.  The only thing I can think of is cases where there isn&#39;t enough memory available for the OS to give to your process.  In that case, starting with a small `Xms` would initialize and then throw an `OOME` whereas starting with a big `Xms` would just fail to initialize the VM, which is hardly better.","body":"You say &quot;with not enough time to reallocate memory and get a bigger heap, or garbage collect&quot;.  The trouble is, GC can be a blocking operation.  The time it takes should be irrelevant.  The only thing I can think of is cases where there isn&#39;t enough memory available for the OS to give to your process.  In that case, starting with a small <code>Xms</code> would initialize and then throw an <code>OOME</code> whereas starting with a big <code>Xms</code> would just fail to initialize the VM, which is hardly better."},{"owner":{"account_id":51752,"reputation":1912,"user_id":154640,"accept_rate":100,"display_name":"Chris Aldrich"},"score":0,"creation_date":1311948979,"post_id":6863874,"comment_id":8179109,"body_markdown":"Probably. I tend to speak from my experience. I learn alot as I go along. So anything I can learn to increase my knowledge is awesome. (part of it is being in a small shop: jack of all trades, master of none).","body":"Probably. I tend to speak from my experience. I learn alot as I go along. So anything I can learn to increase my knowledge is awesome. (part of it is being in a small shop: jack of all trades, master of none)."}],"tags":[],"owner":{"account_id":51752,"reputation":1912,"user_id":154640,"accept_rate":100,"display_name":"Chris Aldrich"},"comment_count":4,"down_vote_count":4,"up_vote_count":14,"is_accepted":true,"score":10,"last_activity_date":1312375840,"creation_date":1311877787,"answer_id":6863874,"question_id":6862972,"body_markdown":"Main reason to set the -Xms is for if you need a certain heap on start up. (Prevents OutOfMemoryErrors from happening on start up.) As mentioned above, if you need the startup heap to match the max heap is when you would match it. Otherwise you don&#39;t really need it. Just asks the application to take up more memory that it may ultimately need. Watching your memory use over time (profiling) while load testing and using your application should give you a good feel for what to need to set them to. But it isn&#39;t the worse thing to set them to the same on start up. For a lot of our apps, I actually start out with something like 128, 256, or 512 for min (startup) and one gigabyte for max (this is for non application server applications).\r\n\r\nJust found this question on stack overflow which may also be helpful [side-effect-for-increasing-maxpermsize-and-max-heap-size][1]. Worth the look.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6902135/side-effect-for-increasing-maxpermsize-and-max-heap-size","title":"Is it good to set the max and min JVM heap size the same?","body":"<p>Main reason to set the -Xms is for if you need a certain heap on start up. (Prevents OutOfMemoryErrors from happening on start up.) As mentioned above, if you need the startup heap to match the max heap is when you would match it. Otherwise you don't really need it. Just asks the application to take up more memory that it may ultimately need. Watching your memory use over time (profiling) while load testing and using your application should give you a good feel for what to need to set them to. But it isn't the worse thing to set them to the same on start up. For a lot of our apps, I actually start out with something like 128, 256, or 512 for min (startup) and one gigabyte for max (this is for non application server applications).</p>\n\n<p>Just found this question on stack overflow which may also be helpful <a href=\"https://stackoverflow.com/questions/6902135/side-effect-for-increasing-maxpermsize-and-max-heap-size\">side-effect-for-increasing-maxpermsize-and-max-heap-size</a>. Worth the look.</p>\n"},{"comments":[{"owner":{"account_id":365224,"reputation":3121,"user_id":710040,"accept_rate":87,"display_name":"derekv"},"score":4,"creation_date":1436897745,"post_id":6867453,"comment_id":50801475,"body_markdown":"How much GC is performed has nothing to do with how much heap size there is, it has to do with how many objects are created and freed.  Larger heap size will cause less frequent, but bigger and more disruptive garbage collection if using the traditional oracle garbage collection algorithm. So bigger is not better. The exact behavior will depend on the JVM implementation.  Further, as discussed in the other answers, ```Xms``` is not a limitation on how much the JVM has at launch. As an aside, language like &quot;brain dead&quot; isn&#39;t helpful.","body":"How much GC is performed has nothing to do with how much heap size there is, it has to do with how many objects are created and freed.  Larger heap size will cause less frequent, but bigger and more disruptive garbage collection if using the traditional oracle garbage collection algorithm. So bigger is not better. The exact behavior will depend on the JVM implementation.  Further, as discussed in the other answers, <code>Xms</code> is not a limitation on how much the JVM has at launch. As an aside, language like &quot;brain dead&quot; isn&#39;t helpful."},{"owner":{"account_id":5881189,"reputation":2046,"user_id":4630491,"accept_rate":69,"display_name":"Max"},"score":0,"creation_date":1532093141,"post_id":6867453,"comment_id":89857045,"body_markdown":"In support of this answer there is [this article](https://docs.oracle.com/cd/E21764_01/web.1111/e13814/jvm_tuning.htm) about fine tuning the Weblogic Server, which does say, &quot;Oracle recommends setting the minimum heap size (-Xms) equal to the maximum heap size (-Xmx) to minimize garbage collections.&quot;","body":"In support of this answer there is <a href=\"https://docs.oracle.com/cd/E21764_01/web.1111/e13814/jvm_tuning.htm\" rel=\"nofollow noreferrer\">this article</a> about fine tuning the Weblogic Server, which does say, &quot;Oracle recommends setting the minimum heap size (-Xms) equal to the maximum heap size (-Xmx) to minimize garbage collections.&quot;"},{"owner":{"account_id":997188,"reputation":94,"user_id":1012847,"display_name":"Bart de Kort"},"score":0,"creation_date":1618994628,"post_id":6867453,"comment_id":118768078,"body_markdown":"@Max: [this article](https://docs.oracle.com/cd/E21764_01/web.1111/e13814/jvm_tuning.htm) mentions &quot;Improving Java Application Performance and Scalability by Reducing Garbage Collection Times and Sizing Memory Using JDK 1.4.1&quot; which must have been outdated in 2018. I am trying to find an updated document as well.","body":"@Max: <a href=\"https://docs.oracle.com/cd/E21764_01/web.1111/e13814/jvm_tuning.htm\" rel=\"nofollow noreferrer\">this article</a> mentions &quot;Improving Java Application Performance and Scalability by Reducing Garbage Collection Times and Sizing Memory Using JDK 1.4.1&quot; which must have been outdated in 2018. I am trying to find an updated document as well."}],"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"comment_count":3,"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1311900197,"creation_date":1311900197,"answer_id":6867453,"question_id":6862972,"body_markdown":"Definitely `yes` for a server app. What&#39;s the point of having so much memory but not using it?\r\n(No it doesn&#39;t save electricity if you don&#39;t use a memory cell)\r\n\r\nJVM loves memory. For a given app, the more memory JVM has, the less GC it performs. The best part is more objects will die young and less will tenure.\r\n\r\nEspecially during a server startup, the load is even higher than normal. It&#39;s brain dead to give server a small memory to work with at this stage.","title":"Is it good to set the max and min JVM heap size the same?","body":"<p>Definitely <code>yes</code> for a server app. What's the point of having so much memory but not using it?\n(No it doesn't save electricity if you don't use a memory cell)</p>\n\n<p>JVM loves memory. For a given app, the more memory JVM has, the less GC it performs. The best part is more objects will die young and less will tenure.</p>\n\n<p>Especially during a server startup, the load is even higher than normal. It's brain dead to give server a small memory to work with at this stage.</p>\n"},{"tags":[],"owner":{"account_id":425164,"reputation":749,"user_id":805608,"display_name":"Kirk"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1679071720,"creation_date":1398404127,"answer_id":23284897,"question_id":6862972,"body_markdown":"Update: This answer was originally written in 2014 and is obsolete.\r\n\r\nPeter &#39;s answer is correct in that `-Xms` is allocated at startup and it will grow up to `-Xmx` (max heap size) but it&#39;s a little misleading in how he has worded his answer. (*Sorry Peter I know you know this stuff cold*).\r\n\r\nSetting *ms == mx* effectively turns off this behavior. While this used to be a good idea **in older JVMs**, it is no longer the case. Growing and shrinking the heap allows the JVM to adapt to increases in pressure on memory yet reduce pause time by shrinking the heap when memory pressure is reduced. Sometimes this behavior doesn&#39;t give you the performance benefits you&#39;d expect and in those cases it&#39;s best to set *mx == ms*.\r\n**OOME** is thrown when heap is more than `98%` of time is spent collecting and the collections cannot recover more than `2%` of that. If you are not at max heaps size then the JVM will simply grow so that you&#39;re beyond that boundaries. You cannot have an `OutOfMemoryError` on startup unless your heap hits the max heap size and meets the other conditions that define an `OutOfMemoryError`.\r\n\r\nFor the comments that have come in since I posted. I don&#39;t know what the *JMonitor blog* entry is showing but this is from the `PSYoung` collector.\r\n\r\n    size_t desired_size = MAX2(MIN2(eden_plus_survivors, gen_size_limit()),\r\n                               min_gen_size());\r\n\r\nI could do more digging about but I&#39;d bet I&#39;d find code that serves the same purpose in the `ParNew` and `PSOldGen` and `CMS Tenured` implementations. In fact it&#39;s unlikely that CMS would be able to return memory unless there has been a `Concurrent Mode Failure`. In the case of a `CMF` the serial collector will run and that should include a compaction after which top of heap would most likely be clean and therefore eligible to be deallocated.","title":"Is it good to set the max and min JVM heap size the same?","body":"<p>Update: This answer was originally written in 2014 and is obsolete.</p>\n<p>Peter 's answer is correct in that <code>-Xms</code> is allocated at startup and it will grow up to <code>-Xmx</code> (max heap size) but it's a little misleading in how he has worded his answer. (<em>Sorry Peter I know you know this stuff cold</em>).</p>\n<p>Setting <em>ms == mx</em> effectively turns off this behavior. While this used to be a good idea <strong>in older JVMs</strong>, it is no longer the case. Growing and shrinking the heap allows the JVM to adapt to increases in pressure on memory yet reduce pause time by shrinking the heap when memory pressure is reduced. Sometimes this behavior doesn't give you the performance benefits you'd expect and in those cases it's best to set <em>mx == ms</em>.\n<strong>OOME</strong> is thrown when heap is more than <code>98%</code> of time is spent collecting and the collections cannot recover more than <code>2%</code> of that. If you are not at max heaps size then the JVM will simply grow so that you're beyond that boundaries. You cannot have an <code>OutOfMemoryError</code> on startup unless your heap hits the max heap size and meets the other conditions that define an <code>OutOfMemoryError</code>.</p>\n<p>For the comments that have come in since I posted. I don't know what the <em>JMonitor blog</em> entry is showing but this is from the <code>PSYoung</code> collector.</p>\n<pre><code>size_t desired_size = MAX2(MIN2(eden_plus_survivors, gen_size_limit()),\n                           min_gen_size());\n</code></pre>\n<p>I could do more digging about but I'd bet I'd find code that serves the same purpose in the <code>ParNew</code> and <code>PSOldGen</code> and <code>CMS Tenured</code> implementations. In fact it's unlikely that CMS would be able to return memory unless there has been a <code>Concurrent Mode Failure</code>. In the case of a <code>CMF</code> the serial collector will run and that should include a compaction after which top of heap would most likely be clean and therefore eligible to be deallocated.</p>\n"},{"comments":[{"owner":{"account_id":11935386,"reputation":1283,"user_id":8734046,"display_name":"jwpol"},"score":0,"creation_date":1682245096,"post_id":75771410,"comment_id":134181925,"body_markdown":"Thank you for the answer with the newest updates. One question about what you wrote in the 2nd part. What decides if the heap is resized or GC takes action?","body":"Thank you for the answer with the newest updates. One question about what you wrote in the 2nd part. What decides if the heap is resized or GC takes action?"},{"owner":{"account_id":7444343,"reputation":5727,"user_id":5994461,"display_name":"user5994461"},"score":0,"creation_date":1682331860,"post_id":75771410,"comment_id":134192898,"body_markdown":"it&#39;s up to the JVM, that would be undocumented internals heuristics","body":"it&#39;s up to the JVM, that would be undocumented internals heuristics"},{"owner":{"account_id":7444343,"reputation":5727,"user_id":5994461,"display_name":"user5994461"},"score":0,"creation_date":1682332344,"post_id":75771410,"comment_id":134192983,"body_markdown":"I think there&#39;s only one scenario that can guarantee a resize, when the heap is full and the JVM does a full garbage collection to free space but there are no unused objects, the only course of action left is to grow the heap (or crash OutOfMemory)","body":"I think there&#39;s only one scenario that can guarantee a resize, when the heap is full and the JVM does a full garbage collection to free space but there are no unused objects, the only course of action left is to grow the heap (or crash OutOfMemory)"}],"tags":[],"owner":{"account_id":7444343,"reputation":5727,"user_id":5994461,"display_name":"user5994461"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679080690,"creation_date":1679080690,"answer_id":75771410,"question_id":6862972,"body_markdown":"Updated answer as of 2023, valid from JVM 7- to JVM 20+.\r\n\r\nYou should always set Xms=Xmx for server applications that use multiple GB of memory.\r\n\r\n**1) It&#39;s necessary to avoid heap resize. Resizing is a very slow and very intensive operation that should be avoided.** \r\n\r\nA resize requires to reallocate large amount of memory and move all existing java objects. It can take a while and the application is frozen during that time. Having a small Xms and large Xmx will lead to multiple heap resize. Some JVM versions and garbage collectors may not move all objects or pause all threads at once, but the principle remains. \r\n\r\nConsider a typical ElasticSearch database with 30 GB heap. Starting the heap at 1GB and reaching the full size will require a dozen of resize operations. The larger resizes will take entire seconds (freeze) to shuffle millions of objects across GB of memory. Bonus points, the ElasticSearch cluster is monitoring when a node is unresponsive for N seconds and dropping it.\r\n\r\nIt&#39;s critical to set Xms=Xms. Most server software have relatively large heap and are sensitive to pauses (latency). \r\n\r\n\r\n**2) The JVM might never grow the heap.**\r\n\r\nThe JVM will decide to do a full GC or to resize the heap when there is memory pressure. It&#39;s going to free objects if possible and not have to grow the heap. In my experience the JVM is trying to limit heap size (this might vary with the JVM).\r\n\r\nIt makes sense to minimize heap size in a system where the memory is limited and there are other applications to run (e.g. typical desktop). \r\nIt doesn&#39;t make sense to minimize heap size in a system with dedicated resources (e.g. typical server).\r\n\r\nConsider a web server, each incoming request will churn through some kB or MB of heap, the web server will run a GC every now and then to reclaim memory:\r\n* The web server could run with  128 MB of heap (let&#39;s say 50 MB baseline constantly used) and run a slow GC every 78 small requests\r\n* Or the web server could run with 1024 MB of heap and process a thousand requests between GC. HINT: this is more stable and responsive\r\n\r\nYou might expect the JVM to grow the heap in the first scenario, but it doesn&#39;t have to. The application can run with little memory. The JVM simply needs to collect unused objects more frequently because there is less room.\r\n\r\n**3) Variable heap size is in opposition with caching and buffering.**\r\n\r\nServer software can do heavy caching and buffering and queuing to optimize performance and reduce latency. \r\nAll these patterns expect to have memory available upfront. \r\n\r\nUsually they need to be configured with a fixed size or a percentage of the heap.\r\n\r\nConsider a logstash relay configured to use 20% of memory for buffering incoming log messages by default. \r\n\r\nWhat happens when the heap size is variable? Maybe logstash has 10 MB of buffer, maybe logstash has 1 GB? Is the buffer adjusted when the heap is resized? \r\n\r\nIt doesn&#39;t make any sense to use a variable heap size here, Xms should be the same as Xmx. \r\n\r\n\r\n","title":"Is it good to set the max and min JVM heap size the same?","body":"<p>Updated answer as of 2023, valid from JVM 7- to JVM 20+.</p>\n<p>You should always set Xms=Xmx for server applications that use multiple GB of memory.</p>\n<p><strong>1) It's necessary to avoid heap resize. Resizing is a very slow and very intensive operation that should be avoided.</strong></p>\n<p>A resize requires to reallocate large amount of memory and move all existing java objects. It can take a while and the application is frozen during that time. Having a small Xms and large Xmx will lead to multiple heap resize. Some JVM versions and garbage collectors may not move all objects or pause all threads at once, but the principle remains.</p>\n<p>Consider a typical ElasticSearch database with 30 GB heap. Starting the heap at 1GB and reaching the full size will require a dozen of resize operations. The larger resizes will take entire seconds (freeze) to shuffle millions of objects across GB of memory. Bonus points, the ElasticSearch cluster is monitoring when a node is unresponsive for N seconds and dropping it.</p>\n<p>It's critical to set Xms=Xms. Most server software have relatively large heap and are sensitive to pauses (latency).</p>\n<p><strong>2) The JVM might never grow the heap.</strong></p>\n<p>The JVM will decide to do a full GC or to resize the heap when there is memory pressure. It's going to free objects if possible and not have to grow the heap. In my experience the JVM is trying to limit heap size (this might vary with the JVM).</p>\n<p>It makes sense to minimize heap size in a system where the memory is limited and there are other applications to run (e.g. typical desktop).\nIt doesn't make sense to minimize heap size in a system with dedicated resources (e.g. typical server).</p>\n<p>Consider a web server, each incoming request will churn through some kB or MB of heap, the web server will run a GC every now and then to reclaim memory:</p>\n<ul>\n<li>The web server could run with  128 MB of heap (let's say 50 MB baseline constantly used) and run a slow GC every 78 small requests</li>\n<li>Or the web server could run with 1024 MB of heap and process a thousand requests between GC. HINT: this is more stable and responsive</li>\n</ul>\n<p>You might expect the JVM to grow the heap in the first scenario, but it doesn't have to. The application can run with little memory. The JVM simply needs to collect unused objects more frequently because there is less room.</p>\n<p><strong>3) Variable heap size is in opposition with caching and buffering.</strong></p>\n<p>Server software can do heavy caching and buffering and queuing to optimize performance and reduce latency.\nAll these patterns expect to have memory available upfront.</p>\n<p>Usually they need to be configured with a fixed size or a percentage of the heap.</p>\n<p>Consider a logstash relay configured to use 20% of memory for buffering incoming log messages by default.</p>\n<p>What happens when the heap size is variable? Maybe logstash has 10 MB of buffer, maybe logstash has 1 GB? Is the buffer adjusted when the heap is resized?</p>\n<p>It doesn't make any sense to use a variable heap size here, Xms should be the same as Xmx.</p>\n"}],"owner":{"account_id":79293,"reputation":704,"user_id":224967,"accept_rate":100,"display_name":"Clay3981"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52607,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":6863874,"answer_count":6,"score":40,"last_activity_date":1679080690,"creation_date":1311873495,"question_id":6862972,"body_markdown":"Currently in our testing environment the max and min JVM heap size are set to the same value, basically as much as the dedicated server machine will allow for our application.  Is this the best configuration for performance or would giving the JVM a range be better?","title":"Is it good to set the max and min JVM heap size the same?","body":"<p>Currently in our testing environment the max and min JVM heap size are set to the same value, basically as much as the dedicated server machine will allow for our application.  Is this the best configuration for performance or would giving the JVM a range be better?</p>\n"},{"tags":["java","url","mocking"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":2,"creation_date":1235058849,"post_id":565535,"comment_id":377213,"body_markdown":"(java.net.URI is preferred over URL.)","body":"(java.net.URI is preferred over URL.)"},{"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"score":0,"creation_date":1235059746,"post_id":565535,"comment_id":377275,"body_markdown":"Tom Hawtin: agreed, I got marked down for assuming the URL instance was some custom implementation. Please be more explicit next time - java.net.URL is easy enough to write.","body":"Tom Hawtin: agreed, I got marked down for assuming the URL instance was some custom implementation. Please be more explicit next time - java.net.URL is easy enough to write."}],"answers":[{"comments":[{"owner":{"account_id":20743,"reputation":1275,"user_id":49854,"accept_rate":67,"display_name":"bowsie"},"score":4,"creation_date":1235054758,"post_id":565555,"comment_id":376836,"body_markdown":"Yes but then I need to unit test the wrapper, with the URL class inside, and the problem persists.","body":"Yes but then I need to unit test the wrapper, with the URL class inside, and the problem persists."},{"owner":{"account_id":7448,"reputation":526484,"user_id":12950,"accept_rate":94,"display_name":"tvanfosson"},"score":0,"creation_date":1235055677,"post_id":565555,"comment_id":376900,"body_markdown":"No.  The wrapper is really thin and just reflects the methods on URL.  You shouldn&#39;t need to unit test it, you should be able to verify it by inspection.","body":"No.  The wrapper is really thin and just reflects the methods on URL.  You shouldn&#39;t need to unit test it, you should be able to verify it by inspection."},{"owner":{"account_id":20743,"reputation":1275,"user_id":49854,"accept_rate":67,"display_name":"bowsie"},"score":0,"creation_date":1235055983,"post_id":565555,"comment_id":376925,"body_markdown":"Hmm, yes this is true. As I said above, it&#39;s that we have quite draconian coverage standards, and I would need to except the wrapper from our coverage. But this is the initial solution we came up with and I guess it makes sense. Thanks!","body":"Hmm, yes this is true. As I said above, it&#39;s that we have quite draconian coverage standards, and I would need to except the wrapper from our coverage. But this is the initial solution we came up with and I guess it makes sense. Thanks!"},{"owner":{"account_id":9396,"reputation":14580,"user_id":17335,"display_name":"Chii"},"score":13,"creation_date":1244984420,"post_id":565555,"comment_id":801642,"body_markdown":"&quot;quite draconian coverage standards&quot; - code coverage is a negative metric, meaning that it only tells useful info when you *dont* have coverage. once you got coverage, it doesnt really tell you anything about the quality of the code. I.e., having coverage does not indicate well tested code. i suggest you try to change the draconian standards if you can.","body":"&quot;quite draconian coverage standards&quot; - code coverage is a negative metric, meaning that it only tells useful info when you <i>dont</i> have coverage. once you got coverage, it doesnt really tell you anything about the quality of the code. I.e., having coverage does not indicate well tested code. i suggest you try to change the draconian standards if you can."},{"owner":{"account_id":1834364,"reputation":2700,"user_id":1665029,"display_name":"AMagic"},"score":1,"creation_date":1589168033,"post_id":565555,"comment_id":109175971,"body_markdown":"This is marked as an accepted answer, is there an example of how you were able to write a wrapper and test the wrapper instead of `new URL`?","body":"This is marked as an accepted answer, is there an example of how you were able to write a wrapper and test the wrapper instead of <code>new URL</code>?"}],"tags":[],"owner":{"account_id":7448,"reputation":526484,"user_id":12950,"accept_rate":94,"display_name":"tvanfosson"},"comment_count":5,"down_vote_count":2,"up_vote_count":23,"is_accepted":true,"score":21,"last_activity_date":1235053821,"creation_date":1235053821,"answer_id":565555,"question_id":565535,"body_markdown":"When I have a class that can&#39;t be easily mocked because it is final (or sealed in C#), my usual route is to write a wrapper around the class and use the wrapper wherever I would use the actual class.  Then I would mock out the wrapper class as necessary.","title":"Mocking a URL in Java","body":"<p>When I have a class that can't be easily mocked because it is final (or sealed in C#), my usual route is to write a wrapper around the class and use the wrapper wherever I would use the actual class.  Then I would mock out the wrapper class as necessary.</p>\n"},{"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1235058881,"post_id":565594,"comment_id":377215,"body_markdown":"IMO, it&#39;s much better to use the URL constructor rather than mess with statics in the URL class.","body":"IMO, it&#39;s much better to use the URL constructor rather than mess with statics in the URL class."}],"tags":[],"owner":{"account_id":12324,"reputation":43314,"user_id":24195,"display_name":"Rob Di Marco"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1235054404,"creation_date":1235054404,"answer_id":565594,"question_id":565535,"body_markdown":"I have used a URLHandler that allows me to load a URL from the classpath.  So the following\r\n\r\n    new URL(&quot;resource:///foo&quot;).openStream()\r\n\r\nwould open a file named foo from within the class path.  To do this, I use a [common utility library][1] and register a handler.  To use this handler, you just need to call:\r\n    \r\n    com.healthmarketscience.common.util.resource.Handler.init();\r\n\r\nand the resource URL is now available.\r\n\r\n\r\n  [1]: http://openhms.sourceforge.net/common-util/","title":"Mocking a URL in Java","body":"<p>I have used a URLHandler that allows me to load a URL from the classpath.  So the following</p>\n\n<pre><code>new URL(\"resource:///foo\").openStream()\n</code></pre>\n\n<p>would open a file named foo from within the class path.  To do this, I use a <a href=\"http://openhms.sourceforge.net/common-util/\" rel=\"noreferrer\">common utility library</a> and register a handler.  To use this handler, you just need to call:</p>\n\n<pre><code>com.healthmarketscience.common.util.resource.Handler.init();\n</code></pre>\n\n<p>and the resource URL is now available.</p>\n"},{"comments":[{"owner":{"account_id":20743,"reputation":1275,"user_id":49854,"accept_rate":67,"display_name":"bowsie"},"score":0,"creation_date":1235054867,"post_id":565602,"comment_id":376839,"body_markdown":"Sure, it&#39;s the desire to decouple the tests from a real url of any kind, and when we call openConnection we open a new dependency.","body":"Sure, it&#39;s the desire to decouple the tests from a real url of any kind, and when we call openConnection we open a new dependency."},{"owner":{"account_id":23695,"reputation":4225,"user_id":59561,"accept_rate":69,"display_name":"cwash"},"score":1,"creation_date":1245792165,"post_id":565602,"comment_id":845853,"body_markdown":"I think this is a legit problem.  Mocking frameworks shouldn&#39;t hide from these kinds of things...","body":"I think this is a legit problem.  Mocking frameworks shouldn&#39;t hide from these kinds of things..."}],"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1235054510,"creation_date":1235054510,"answer_id":565602,"question_id":565535,"body_markdown":"I would look again at why you *want* to mock a final data object.  Since by definition you aren&#39;t subclassing the object in your actual code, and it&#39;s not going to be the object under test, you shouldn&#39;t need to white-box test this code; just pass in whatever (real) URL objects are appropriate, and check the output.\r\n\r\nMock objects are useful when it&#39;s difficult to create a real object appropriate, or the real object&#39;s method are either time-consuming or depend on some stateful external resource (like a database).  Neither of these apply in this case so I can&#39;t see why you can&#39;t just construct a real URL object representing the appropriate resource location.","title":"Mocking a URL in Java","body":"<p>I would look again at why you <em>want</em> to mock a final data object.  Since by definition you aren't subclassing the object in your actual code, and it's not going to be the object under test, you shouldn't need to white-box test this code; just pass in whatever (real) URL objects are appropriate, and check the output.</p>\n\n<p>Mock objects are useful when it's difficult to create a real object appropriate, or the real object's method are either time-consuming or depend on some stateful external resource (like a database).  Neither of these apply in this case so I can't see why you can't just construct a real URL object representing the appropriate resource location.</p>\n"},{"comments":[{"owner":{"account_id":20743,"reputation":1275,"user_id":49854,"accept_rate":67,"display_name":"bowsie"},"score":1,"creation_date":1235056016,"post_id":565656,"comment_id":376927,"body_markdown":"No as I said above URL is a final class, it&#39;s from the JDK.","body":"No as I said above URL is a final class, it&#39;s from the JDK."},{"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"score":0,"creation_date":1235059687,"post_id":565656,"comment_id":377271,"body_markdown":"OK, i read the questions  as &quot;we have a URL object implemented by some final class (say MyURL, which for all I know could have an interface) rather than we have an instance of the java.net.URL class itself. I think the question could have been slightly more explicit.","body":"OK, i read the questions  as &quot;we have a URL object implemented by some final class (say MyURL, which for all I know could have an interface) rather than we have an instance of the java.net.URL class itself. I think the question could have been slightly more explicit."},{"owner":{"account_id":20743,"reputation":1275,"user_id":49854,"accept_rate":67,"display_name":"bowsie"},"score":0,"creation_date":1235060692,"post_id":565656,"comment_id":377355,"body_markdown":"Sure it could have been more explicit, it&#39;s a bit ambiguous as to whether it&#39;s a custom URL, apologies - but it still says it&#39;s final so...","body":"Sure it could have been more explicit, it&#39;s a bit ambiguous as to whether it&#39;s a custom URL, apologies - but it still says it&#39;s final so..."},{"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"score":0,"creation_date":1235060968,"post_id":565656,"comment_id":377368,"body_markdown":"something can be final and still implement an interface, lending itself to factory or injection construction.","body":"something can be final and still implement an interface, lending itself to factory or injection construction."},{"owner":{"account_id":23695,"reputation":4225,"user_id":59561,"accept_rate":69,"display_name":"cwash"},"score":1,"creation_date":1245791980,"post_id":565656,"comment_id":845828,"body_markdown":"I&#39;m +1&#39;ing this back - it shouldn&#39;t be -1 because you *could* create a factory to do the exact same thing your wrapper class (in the accepted answer) does.  Functionally equivalent, and what I would probably do if I had to take a first stab.","body":"I&#39;m +1&#39;ing this back - it shouldn&#39;t be -1 because you <i>could</i> create a factory to do the exact same thing your wrapper class (in the accepted answer) does.  Functionally equivalent, and what I would probably do if I had to take a first stab."}],"tags":[],"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1235055168,"creation_date":1235055168,"answer_id":565656,"question_id":565535,"body_markdown":"Does the URL class implement an interface? If so then you could instantiate it using inversion of control or a configurable factory, rather than by direct construction, this would allow you to inject/construct a test instance at test runtime rather than the final instance you currently have.","title":"Mocking a URL in Java","body":"<p>Does the URL class implement an interface? If so then you could instantiate it using inversion of control or a configurable factory, rather than by direct construction, this would allow you to inject/construct a test instance at test runtime rather than the final instance you currently have.</p>\n"},{"tags":[],"owner":{"account_id":42147,"reputation":16251,"user_id":2326914,"accept_rate":33,"display_name":"Rog&#233;rio"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1244984027,"creation_date":1244984027,"answer_id":992781,"question_id":565535,"body_markdown":"JMockit does indeed allow you to mock a final JRE class like java.net.URL.\r\n\r\nIt seems the Attach API in jdkDir/lib/tools.jar available in implementations of JDK 1.6 other than Sun&#39;s does not work as well. I guess this stuff is still too new/advanced, or simply didn&#39;t get the necessary attention from the other JDK vendors (Apple, IBM with the J9 JDK, Oracle with the JRockit JDK).\r\n\r\nSo, if you run into problems by having tools.jar in the classpath, try using the &quot;-javaagent:jmockit.jar&quot; JVM argument. It tells the JVM to directly load the java agent at startup, without using the Attach API. That should work in the Apple JDK 1.5/1.6.\r\n\r\n","title":"Mocking a URL in Java","body":"<p>JMockit does indeed allow you to mock a final JRE class like java.net.URL.</p>\n\n<p>It seems the Attach API in jdkDir/lib/tools.jar available in implementations of JDK 1.6 other than Sun's does not work as well. I guess this stuff is still too new/advanced, or simply didn't get the necessary attention from the other JDK vendors (Apple, IBM with the J9 JDK, Oracle with the JRockit JDK).</p>\n\n<p>So, if you run into problems by having tools.jar in the classpath, try using the \"-javaagent:jmockit.jar\" JVM argument. It tells the JVM to directly load the java agent at startup, without using the Attach API. That should work in the Apple JDK 1.5/1.6.</p>\n"},{"tags":[],"owner":{"account_id":43656,"reputation":96754,"user_id":127724,"accept_rate":94,"display_name":"Artefacto"},"comment_count":0,"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1306855461,"creation_date":1306855461,"answer_id":6189871,"question_id":565535,"body_markdown":"Like Rob said, if what you want is to mock the connection returned from the URL, you can extend `URLStreamHandler`. For instance, with mockito:\r\n\r\n    final URLConnection mockUrlCon = mock(URLConnection.class);\r\n        \r\n    ByteArrayInputStream is = new ByteArrayInputStream(\r\n            &quot;&lt;myList&gt;&lt;/myList&gt;&quot;.getBytes(&quot;UTF-8&quot;));\r\n    doReturn(is).when(mockUrlCon).getInputStream();\r\n\r\n    //make getLastModified() return first 10, then 11\r\n    when(mockUrlCon.getLastModified()).thenReturn((Long)10L, (Long)11L);\r\n    \r\n    URLStreamHandler stubUrlHandler = new URLStreamHandler() {\r\n        @Override\r\n         protected URLConnection openConnection(URL u) throws IOException {\r\n            return mockUrlCon;\r\n         }            \r\n    };\r\n    URL url = new URL(&quot;foo&quot;, &quot;bar&quot;, 99, &quot;/foobar&quot;, stubUrlHandler);\r\n    doReturn(url).when(mockClassloader).getResource(&quot;pseudo-xml-path&quot;);","title":"Mocking a URL in Java","body":"<p>Like Rob said, if what you want is to mock the connection returned from the URL, you can extend <code>URLStreamHandler</code>. For instance, with mockito:</p>\n\n<pre><code>final URLConnection mockUrlCon = mock(URLConnection.class);\n\nByteArrayInputStream is = new ByteArrayInputStream(\n        \"&lt;myList&gt;&lt;/myList&gt;\".getBytes(\"UTF-8\"));\ndoReturn(is).when(mockUrlCon).getInputStream();\n\n//make getLastModified() return first 10, then 11\nwhen(mockUrlCon.getLastModified()).thenReturn((Long)10L, (Long)11L);\n\nURLStreamHandler stubUrlHandler = new URLStreamHandler() {\n    @Override\n     protected URLConnection openConnection(URL u) throws IOException {\n        return mockUrlCon;\n     }            \n};\nURL url = new URL(\"foo\", \"bar\", 99, \"/foobar\", stubUrlHandler);\ndoReturn(url).when(mockClassloader).getResource(\"pseudo-xml-path\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":183607,"reputation":33842,"user_id":419075,"accept_rate":96,"display_name":"Amir Raminfar"},"score":0,"creation_date":1380052178,"post_id":14388215,"comment_id":28053821,"body_markdown":"Good answer! I did this too after trying with Powermock for 15 minutes","body":"Good answer! I did this too after trying with Powermock for 15 minutes"},{"owner":{"account_id":7628831,"reputation":832,"user_id":5784541,"display_name":"Stefano"},"score":1,"creation_date":1542731417,"post_id":14388215,"comment_id":93670040,"body_markdown":"This is the only solution that actually worked for me!","body":"This is the only solution that actually worked for me!"}],"tags":[],"owner":{"account_id":1700435,"reputation":10104,"user_id":1560673,"display_name":"koljaTM"},"comment_count":2,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1358457099,"creation_date":1358457099,"answer_id":14388215,"question_id":565535,"body_markdown":"I went with the following:\r\n\r\n\tpublic static URL getMockUrl(final String filename) throws IOException {\r\n\t\tfinal File file = new File(&quot;testdata/&quot; + filename);\r\n\t\tassertTrue(&quot;Mock HTML File &quot; + filename + &quot; not found&quot;, file.exists());\r\n\t\tfinal URLConnection mockConnection = Mockito.mock(URLConnection.class);\r\n\t\tgiven(mockConnection.getInputStream()).willReturn(\r\n\t\t\t\tnew FileInputStream(file));\r\n\r\n\t\tfinal URLStreamHandler handler = new URLStreamHandler() {\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected URLConnection openConnection(final URL arg0)\r\n\t\t\t\t\tthrows IOException {\r\n\t\t\t\treturn mockConnection;\r\n\t\t\t}\r\n\t\t};\r\n\t\tfinal URL url = new URL(&quot;http://foo.bar&quot;, &quot;foo.bar&quot;, 80, &quot;&quot;, handler);\r\n\t\treturn url;\r\n\t}\r\nThis gives me a real URL object that contains my mock data.","title":"Mocking a URL in Java","body":"<p>I went with the following:</p>\n\n<pre><code>public static URL getMockUrl(final String filename) throws IOException {\n    final File file = new File(\"testdata/\" + filename);\n    assertTrue(\"Mock HTML File \" + filename + \" not found\", file.exists());\n    final URLConnection mockConnection = Mockito.mock(URLConnection.class);\n    given(mockConnection.getInputStream()).willReturn(\n            new FileInputStream(file));\n\n    final URLStreamHandler handler = new URLStreamHandler() {\n\n        @Override\n        protected URLConnection openConnection(final URL arg0)\n                throws IOException {\n            return mockConnection;\n        }\n    };\n    final URL url = new URL(\"http://foo.bar\", \"foo.bar\", 80, \"\", handler);\n    return url;\n}\n</code></pre>\n\n<p>This gives me a real URL object that contains my mock data.</p>\n"},{"comments":[{"owner":{"account_id":3178187,"reputation":1221,"user_id":2685547,"accept_rate":38,"display_name":"RK3"},"score":0,"creation_date":1471928628,"post_id":14997027,"comment_id":65532657,"body_markdown":"Peter can you help me here. [link](http://stackoverflow.com/questions/39031175/testing-powermock-simulate-http-server-time-out-for-client-call)","body":"Peter can you help me here. <a href=\"http://stackoverflow.com/questions/39031175/testing-powermock-simulate-http-server-time-out-for-client-call\">link</a>"},{"owner":{"account_id":146653,"reputation":888,"user_id":357226,"accept_rate":75,"display_name":"Lawrence Tierney"},"score":0,"creation_date":1494405166,"post_id":14997027,"comment_id":74808768,"body_markdown":"Its important, as you did mention, to use PowerMockito.mock and not Mockito.mock","body":"Its important, as you did mention, to use PowerMockito.mock and not Mockito.mock"}],"tags":[],"owner":{"account_id":2395634,"reputation":71,"user_id":2094484,"display_name":"Richards Peter."},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1361432785,"creation_date":1361432785,"answer_id":14997027,"question_id":565535,"body_markdown":"I think you can use Powermock to do this. I was able to mock URL class using PowerMock lately. Hope this helps.\r\n\r\n/* Actual class */\r\n\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    \r\n    public class TestClass {\r\n    \r\n    \tpublic URL getUrl()\r\n    \t\tthrows MalformedURLException {\r\n    \r\n    \t\tURL url = new URL(&quot;http://localhost/&quot;);\r\n    \t\treturn url;\r\n    \t}\r\n    }\r\n\r\n\r\n/* Test class */\r\n\r\n    import java.net.URL;\r\n    \r\n    import junit.framework.Assert;\r\n    \r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.Mockito;\r\n    import org.powermock.api.mockito.PowerMockito;\r\n    import org.powermock.core.classloader.annotations.PrepareForTest;\r\n    import org.powermock.modules.junit4.PowerMockRunner;\r\n    \r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(value = { TestClass.class })\r\n    public class TestClassTest {\r\n    \r\n    \tprivate TestClass testClass = new TestClass();\r\n    \r\n    \t@Test\r\n    \tpublic void shouldReturnUrl()\r\n    \t\tthrows Exception {\r\n    \r\n    \t\tURL url = PowerMockito.mock(URL.class);\r\n    \t\tPowerMockito.whenNew(URL.class).withParameterTypes(String.class)\r\n    \t\t\t\t.withArguments(Mockito.anyString()).thenReturn(url);\r\n    \t\tURL url1 = testClass.getUrl();\r\n    \t\tAssert.assertNotNull(url1);\r\n    \t}\r\n    }\r\n\r\n","title":"Mocking a URL in Java","body":"<p>I think you can use Powermock to do this. I was able to mock URL class using PowerMock lately. Hope this helps.</p>\n\n<p>/* Actual class */</p>\n\n<pre><code>import java.net.MalformedURLException;\nimport java.net.URL;\n\npublic class TestClass {\n\n    public URL getUrl()\n        throws MalformedURLException {\n\n        URL url = new URL(\"http://localhost/\");\n        return url;\n    }\n}\n</code></pre>\n\n<p>/* Test class */</p>\n\n<pre><code>import java.net.URL;\n\nimport junit.framework.Assert;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mockito;\nimport org.powermock.api.mockito.PowerMockito;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest(value = { TestClass.class })\npublic class TestClassTest {\n\n    private TestClass testClass = new TestClass();\n\n    @Test\n    public void shouldReturnUrl()\n        throws Exception {\n\n        URL url = PowerMockito.mock(URL.class);\n        PowerMockito.whenNew(URL.class).withParameterTypes(String.class)\n                .withArguments(Mockito.anyString()).thenReturn(url);\n        URL url1 = testClass.getUrl();\n        Assert.assertNotNull(url1);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1465141,"reputation":3488,"user_id":1378228,"accept_rate":74,"display_name":"Nathan Russell"},"score":3,"creation_date":1489150279,"post_id":40073597,"comment_id":72557412,"body_markdown":"Based on your answer I wrote the following blog post: https://claritysoftware.co.uk/mocking-javas-url-with-mockito/","body":"Based on your answer I wrote the following blog post: <a href=\"https://claritysoftware.co.uk/mocking-javas-url-with-mockito/\" rel=\"nofollow noreferrer\">claritysoftware.co.uk/mocking-javas-url-with-mockito</a>"},{"owner":{"account_id":21253,"reputation":10580,"user_id":51500,"accept_rate":92,"display_name":"Felipe Lima"},"score":0,"creation_date":1593891426,"post_id":40073597,"comment_id":110937660,"body_markdown":"@NathanRussell great article! I&#39;ve simplified it a bit and rewrote it in Kotlin https://gist.github.com/felipecsl/de84eae52172a4fdccef403f6810366c","body":"@NathanRussell great article! I&#39;ve simplified it a bit and rewrote it in Kotlin <a href=\"https://gist.github.com/felipecsl/de84eae52172a4fdccef403f6810366c\" rel=\"nofollow noreferrer\">gist.github.com/felipecsl/de84eae52172a4fdccef403f6810366c</a>"}],"tags":[],"owner":{"account_id":9450089,"reputation":119,"user_id":7027310,"display_name":"api"},"comment_count":2,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1476640942,"creation_date":1476640942,"answer_id":40073597,"question_id":565535,"body_markdown":"If you don&#39;t want to create a wrapper :\r\n\r\nRegister a URLStreamHandlerFactory\r\n\r\nMake the method you want public\r\n\r\nMock the chain\r\n\r\n    abstract public class AbstractPublicStreamHandler extends URLStreamHandler {\r\n        @Override\r\n        public URLConnection openConnection(URL url) throws IOException {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public class UrlTest {\r\n        private URLStreamHandlerFactory urlStreamHandlerFactory;\r\n    \r\n        @Before\r\n        public void setUp() throws Exception {\r\n            urlStreamHandlerFactory = Mockito.mock(URLStreamHandlerFactory.class);\r\n            URL.setURLStreamHandlerFactory(urlStreamHandlerFactory);\r\n        }\r\n    \r\n        @Test\r\n        public void should_return_mocked_url() throws Exception {\r\n            // GIVEN\r\n            AbstractPublicStreamHandler publicStreamHandler = Mockito.mock(AbstractPublicStreamHandler.class);\r\n            Mockito.doReturn(publicStreamHandler).when(urlStreamHandlerFactory).createURLStreamHandler(Matchers.eq(&quot;http&quot;));\r\n    \r\n            URLConnection mockedConnection = Mockito.mock(URLConnection.class);\r\n            Mockito.doReturn(mockedConnection).when(publicStreamHandler).openConnection(Matchers.any(URL.class));\r\n    \r\n            Mockito.doReturn(new ByteArrayInputStream(&quot;hello&quot;.getBytes(&quot;UTF-8&quot;))).when(mockedConnection).getInputStream();\r\n    \r\n            // WHEN\r\n            URLConnection connection = new URL(&quot;http://localhost/&quot;).openConnection();\r\n    \r\n            // THEN\r\n            Assertions.assertThat(new MockUtil().isMock(connection)).isTrue();\r\n            Assertions.assertThat(IOUtils.toString(connection.getInputStream(), &quot;UTF-8&quot;)).isEqualTo(&quot;hello&quot;);\r\n        }\r\n    }\r\n\r\nPS : I don&#39;t know how to cancel the numbered list auto-spacing after last line","title":"Mocking a URL in Java","body":"<p>If you don't want to create a wrapper :</p>\n\n<p>Register a URLStreamHandlerFactory</p>\n\n<p>Make the method you want public</p>\n\n<p>Mock the chain</p>\n\n<pre><code>abstract public class AbstractPublicStreamHandler extends URLStreamHandler {\n    @Override\n    public URLConnection openConnection(URL url) throws IOException {\n        return null;\n    }\n}\n\npublic class UrlTest {\n    private URLStreamHandlerFactory urlStreamHandlerFactory;\n\n    @Before\n    public void setUp() throws Exception {\n        urlStreamHandlerFactory = Mockito.mock(URLStreamHandlerFactory.class);\n        URL.setURLStreamHandlerFactory(urlStreamHandlerFactory);\n    }\n\n    @Test\n    public void should_return_mocked_url() throws Exception {\n        // GIVEN\n        AbstractPublicStreamHandler publicStreamHandler = Mockito.mock(AbstractPublicStreamHandler.class);\n        Mockito.doReturn(publicStreamHandler).when(urlStreamHandlerFactory).createURLStreamHandler(Matchers.eq(\"http\"));\n\n        URLConnection mockedConnection = Mockito.mock(URLConnection.class);\n        Mockito.doReturn(mockedConnection).when(publicStreamHandler).openConnection(Matchers.any(URL.class));\n\n        Mockito.doReturn(new ByteArrayInputStream(\"hello\".getBytes(\"UTF-8\"))).when(mockedConnection).getInputStream();\n\n        // WHEN\n        URLConnection connection = new URL(\"http://localhost/\").openConnection();\n\n        // THEN\n        Assertions.assertThat(new MockUtil().isMock(connection)).isTrue();\n        Assertions.assertThat(IOUtils.toString(connection.getInputStream(), \"UTF-8\")).isEqualTo(\"hello\");\n    }\n}\n</code></pre>\n\n<p>PS : I don't know how to cancel the numbered list auto-spacing after last line</p>\n"},{"tags":[],"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1479804318,"creation_date":1479804318,"answer_id":40737274,"question_id":565535,"body_markdown":"Create a URL-object pointing to the test class itself.\r\n\r\n\r\n    final URL url = \r\n        new URL(&quot;file://&quot; + getClass().getProtectionDomain().getCodeSource().getLocation().getPath());","title":"Mocking a URL in Java","body":"<p>Create a URL-object pointing to the test class itself.</p>\n\n<pre><code>final URL url = \n    new URL(\"file://\" + getClass().getProtectionDomain().getCodeSource().getLocation().getPath());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22952429,"reputation":1,"user_id":17083513,"display_name":"David Smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633465341,"creation_date":1633465341,"answer_id":69456830,"question_id":565535,"body_markdown":"You can mock the constructor this way:\r\n\r\n\t\tnew MockUp&lt;URL&gt;() {\r\n\t\t\t@Mock\r\n\t\t\tpublic void $init(Invocation invocation, String string) {\r\n\t\t\t}\r\n\t\t};","title":"Mocking a URL in Java","body":"<p>You can mock the constructor this way:</p>\n<pre><code>    new MockUp&lt;URL&gt;() {\n        @Mock\n        public void $init(Invocation invocation, String string) {\n        }\n    };\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1665220305,"post_id":73954908,"comment_id":130652256,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73954908/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":11811944,"reputation":1,"user_id":8643175,"display_name":"Shradha Baranwal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664930397,"creation_date":1664930397,"answer_id":73954908,"question_id":565535,"body_markdown":"Using PowerMockito for my case was the easiest solution. PowerMockito allows mocking static, final classes. ","title":"Mocking a URL in Java","body":"<p>Using PowerMockito for my case was the easiest solution. PowerMockito allows mocking static, final classes.</p>\n"},{"tags":[],"owner":{"account_id":40761,"reputation":4502,"user_id":118191,"display_name":"theJerm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679079714,"creation_date":1679079714,"answer_id":75771288,"question_id":565535,"body_markdown":"Create a wrapper URL class in your test project:\r\n\r\n    import java.net.URL;\r\n    import java.io.IOException;\r\n\r\n    public class UrlWrapper {\r\n    private URL url;\r\n\r\n    public UrlWrapper(String urlString) throws IOException {\r\n        this.url = new URL(urlString);\r\n    }\r\n\r\n    public String getProtocol() {\r\n        return url.getProtocol();\r\n    }\r\n\r\n    public String getHost() {\r\n        return url.getHost();\r\n    }\r\n\r\n    public int getPort() {\r\n        return url.getPort();\r\n    }\r\n}\r\n\r\nThen, use the wrapper like this:\r\n\r\n    import org.junit.Test;\r\n    import static org.mockito.Mockito.*;\r\n\r\n    public class MyTest {\r\n\r\n    @Test\r\n    public void testMyMethod() {\r\n        UrlWrapper mockUrl = mock(UrlWrapper.class);\r\n        when(mockUrl.getProtocol()).thenReturn(&quot;http&quot;);\r\n        when(mockUrl.getHost()).thenReturn(&quot;www.example.com&quot;);\r\n        when(mockUrl.getPort()).thenReturn(80);\r\n\r\n        // Pass the mockUrl object to your method that uses a URL object\r\n        // Assert the expected results\r\n    }\r\n}","title":"Mocking a URL in Java","body":"<p>Create a wrapper URL class in your test project:</p>\n<pre><code>import java.net.URL;\nimport java.io.IOException;\n\npublic class UrlWrapper {\nprivate URL url;\n\npublic UrlWrapper(String urlString) throws IOException {\n    this.url = new URL(urlString);\n}\n\npublic String getProtocol() {\n    return url.getProtocol();\n}\n\npublic String getHost() {\n    return url.getHost();\n}\n\npublic int getPort() {\n    return url.getPort();\n}\n</code></pre>\n<p>}</p>\n<p>Then, use the wrapper like this:</p>\n<pre><code>import org.junit.Test;\nimport static org.mockito.Mockito.*;\n\npublic class MyTest {\n\n@Test\npublic void testMyMethod() {\n    UrlWrapper mockUrl = mock(UrlWrapper.class);\n    when(mockUrl.getProtocol()).thenReturn(&quot;http&quot;);\n    when(mockUrl.getHost()).thenReturn(&quot;www.example.com&quot;);\n    when(mockUrl.getPort()).thenReturn(80);\n\n    // Pass the mockUrl object to your method that uses a URL object\n    // Assert the expected results\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":20743,"reputation":1275,"user_id":49854,"accept_rate":67,"display_name":"bowsie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60056,"favorite_count":0,"down_vote_count":1,"up_vote_count":31,"accepted_answer_id":565555,"answer_count":13,"score":30,"last_activity_date":1679079714,"creation_date":1235053560,"question_id":565535,"body_markdown":"We have a URL object in one of our Java classes that we want to mock, but it&#39;s a final class so we cannot. We do not want to go a level above, and mock the InputStream because that will still leave us with untested code (we have draconian test coverage standards).\r\n\r\nI&#39;ve tried jMockIt&#39;s reflective powers but we work on Macs and there are problems with the Java agent handler that I haven&#39;t been able to resolve.\r\n\r\nSo are there any solutions that do not involve using real URLs in the junit test?","title":"Mocking a URL in Java","body":"<p>We have a URL object in one of our Java classes that we want to mock, but it's a final class so we cannot. We do not want to go a level above, and mock the InputStream because that will still leave us with untested code (we have draconian test coverage standards).</p>\n\n<p>I've tried jMockIt's reflective powers but we work on Macs and there are problems with the Java agent handler that I haven't been able to resolve.</p>\n\n<p>So are there any solutions that do not involve using real URLs in the junit test?</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":15560654,"reputation":463,"user_id":11225863,"display_name":"Scripta14"},"score":0,"creation_date":1596028168,"post_id":63154253,"comment_id":111677506,"body_markdown":"I&#39;ve tryied that solution, but I&#39;ve got another error message Server side:&quot;Connection reset by peer: socket write error&quot;","body":"I&#39;ve tryied that solution, but I&#39;ve got another error message Server side:&quot;Connection reset by peer: socket write error&quot;"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1596032603,"post_id":63154253,"comment_id":111680334,"body_markdown":"*Never* use InputStream.available() for that.  [The documentation](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/io/InputStream.html#available()) clearly states that available() does not indicate EOF, it only indicates whether you can read without blocking.","body":"<i>Never</i> use InputStream.available() for that.  <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/io/InputStream.html#available()\" rel=\"nofollow noreferrer\">The documentation</a> clearly states that available() does not indicate EOF, it only indicates whether you can read without blocking."}],"tags":[],"owner":{"account_id":7850980,"reputation":179,"user_id":5934449,"display_name":"Richard Kotal"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1596027795,"creation_date":1596027795,"answer_id":63154253,"question_id":63153275,"body_markdown":"You can use \r\n\r\n     while(inFromServer.available()&gt;0) {  \r\n          String line = inFromServer.readUTF();\r\n          System.out.println(line);\r\n          out.write(line);\r\n          out.println(&quot;\\n&quot;);\r\n     }  \r\n\r\ninstead of\r\n\r\n\r\n            while (true) {\r\n                String line = inFromServer.readUTF();\r\n                System.out.println(line);\r\n                out.write(line);\r\n                out.println(&quot;\\n&quot;);\r\n            }","title":"java.io.EOFException: at java.io.DataInputStream.readUTF(Unknown Source) - write file line by line","body":"<p>You can use</p>\n<pre><code> while(inFromServer.available()&gt;0) {  \n      String line = inFromServer.readUTF();\n      System.out.println(line);\n      out.write(line);\n      out.println(&quot;\\n&quot;);\n }  \n</code></pre>\n<p>instead of</p>\n<pre><code>        while (true) {\n            String line = inFromServer.readUTF();\n            System.out.println(line);\n            out.write(line);\n            out.println(&quot;\\n&quot;);\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15560654,"reputation":463,"user_id":11225863,"display_name":"Scripta14"},"score":0,"creation_date":1596035243,"post_id":63155911,"comment_id":111681897,"body_markdown":"Thanks a lot ...It works fine and in this way I can close Datainputstream and the Socket.","body":"Thanks a lot ...It works fine and in this way I can close Datainputstream and the Socket."}],"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1596032864,"creation_date":1596032864,"answer_id":63155911,"question_id":63153275,"body_markdown":"readUTF() will never return null.  You need to send a “sentinel value” before closing—a special value that indicates the end of the stream.\r\n\r\nObviously you want it to be something that is very unlikely to be sent in a normal use case.  I suggest `&quot;\\uffff&quot;` (a String with length 1), since U+FFFF is guaranteed not to be a defined character.\r\n","title":"java.io.EOFException: at java.io.DataInputStream.readUTF(Unknown Source) - write file line by line","body":"<p>readUTF() will never return null.  You need to send a “sentinel value” before closing—a special value that indicates the end of the stream.</p>\n<p>Obviously you want it to be something that is very unlikely to be sent in a normal use case.  I suggest <code>&quot;\\uffff&quot;</code> (a String with length 1), since U+FFFF is guaranteed not to be a defined character.</p>\n"}],"owner":{"account_id":15560654,"reputation":463,"user_id":11225863,"display_name":"Scripta14"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":959,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63155911,"answer_count":2,"score":0,"last_activity_date":1679079564,"creation_date":1596024563,"question_id":63153275,"body_markdown":"I made a simple Server-Client application to read line by line file from Server and write line by line in a new file in the client side. The application writes corretcly the lines in the file , but when the file reaches  the end, I catch this error:\r\n```\r\njava.io.EOFException\r\n\tat java.io.DataInputStream.readUnsignedShort(Unknown Source)\r\n\tat java.io.DataInputStream.readUTF(Unknown Source)\r\n\tat java.io.DataInputStream.readUTF(Unknown Source)\r\n\tat it.sendfile.socket.FileClient1.main(FileClient1.java:19)\r\n``` \r\n\r\nmy code:\r\n```java\r\npublic class FileServer1 {\r\n    public static void main(String[] args) {\r\n        int port = 3000;\r\n        // open server socket\r\n        ServerSocket ss = null;\r\n        try {\r\n            ss = new ServerSocket(port);\r\n            Socket s = ss.accept();\r\n            DataOutputStream outToClient = new DataOutputStream(s.getOutputStream());\r\n\r\n            File testFile = new File(&quot;C:\\\\temp\\\\tmpbgoutcoge&quot;);\r\n            BufferedReader input = new BufferedReader(new FileReader(testFile));\r\n            String line;\r\n            while ((line = input.readLine()) != null) {\r\n                outToClient.writeUTF(line);\r\n                outToClient.writeUTF(&quot;-----------------------------&quot;);\r\n                outToClient.flush();\r\n                Thread.currentThread().sleep(1000);\r\n            }\r\n            input.close();\r\n            outToClient.close();\r\n            s.close();\r\n        } catch (Exception e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n}\r\n\r\npublic class FileClient1 {\r\n    public static void main(String[] args) {\r\n        try (PrintWriter out = new PrintWriter(new FileWriter(&quot;C:\\\\temp\\\\tmpbgoutcoge1.txt&quot;, true));) {\r\n            Socket s = new Socket(&quot;localhost&quot;, 3000);\r\n            DataInputStream inFromServer = new DataInputStream(new BufferedInputStream(s.getInputStream()));\r\n\r\n            while (true) {\r\n                String line = inFromServer.readUTF();\r\n                System.out.println(line);\r\n                out.write(line);\r\n                out.println(&quot;\\n&quot;);\r\n            }\r\n        } catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nI have to find a While stop condition when I reach the end of file, but I&#39;ve tryied with (line = inFromServer.readUTF())!= null  but it&#39;s not worked.\r\nIn the FileClient1 class, I can&#39;t close the socket and the DataInputStream. A message says:&quot;Unreachable code&quot;.","title":"java.io.EOFException: at java.io.DataInputStream.readUTF(Unknown Source) - write file line by line","body":"<p>I made a simple Server-Client application to read line by line file from Server and write line by line in a new file in the client side. The application writes corretcly the lines in the file , but when the file reaches  the end, I catch this error:</p>\n<pre><code>java.io.EOFException\n    at java.io.DataInputStream.readUnsignedShort(Unknown Source)\n    at java.io.DataInputStream.readUTF(Unknown Source)\n    at java.io.DataInputStream.readUTF(Unknown Source)\n    at it.sendfile.socket.FileClient1.main(FileClient1.java:19)\n</code></pre>\n<p>my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FileServer1 {\n    public static void main(String[] args) {\n        int port = 3000;\n        // open server socket\n        ServerSocket ss = null;\n        try {\n            ss = new ServerSocket(port);\n            Socket s = ss.accept();\n            DataOutputStream outToClient = new DataOutputStream(s.getOutputStream());\n\n            File testFile = new File(&quot;C:\\\\temp\\\\tmpbgoutcoge&quot;);\n            BufferedReader input = new BufferedReader(new FileReader(testFile));\n            String line;\n            while ((line = input.readLine()) != null) {\n                outToClient.writeUTF(line);\n                outToClient.writeUTF(&quot;-----------------------------&quot;);\n                outToClient.flush();\n                Thread.currentThread().sleep(1000);\n            }\n            input.close();\n            outToClient.close();\n            s.close();\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n    }\n}\n\npublic class FileClient1 {\n    public static void main(String[] args) {\n        try (PrintWriter out = new PrintWriter(new FileWriter(&quot;C:\\\\temp\\\\tmpbgoutcoge1.txt&quot;, true));) {\n            Socket s = new Socket(&quot;localhost&quot;, 3000);\n            DataInputStream inFromServer = new DataInputStream(new BufferedInputStream(s.getInputStream()));\n\n            while (true) {\n                String line = inFromServer.readUTF();\n                System.out.println(line);\n                out.write(line);\n                out.println(&quot;\\n&quot;);\n            }\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I have to find a While stop condition when I reach the end of file, but I've tryied with (line = inFromServer.readUTF())!= null  but it's not worked.\nIn the FileClient1 class, I can't close the socket and the DataInputStream. A message says:&quot;Unreachable code&quot;.</p>\n"},{"tags":["java","apache-kafka","confluent-schema-registry"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679060602,"creation_date":1679060602,"answer_id":75768318,"question_id":75759787,"body_markdown":"You still need to define a mocked function response when ID 1 is requested, otherwise your mock is just a stub and has no schemas registered to lookup by a consumer, in this case\r\n\r\nYou may instead want to try this library - https://github.com/bakdata/fluent-kafka-streams-tests/tree/master/schema-registry-mock ","title":"kakfa mock registry for testing","body":"<p>You still need to define a mocked function response when ID 1 is requested, otherwise your mock is just a stub and has no schemas registered to lookup by a consumer, in this case</p>\n<p>You may instead want to try this library - <a href=\"https://github.com/bakdata/fluent-kafka-streams-tests/tree/master/schema-registry-mock\" rel=\"nofollow noreferrer\">https://github.com/bakdata/fluent-kafka-streams-tests/tree/master/schema-registry-mock</a></p>\n"},{"tags":[],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679079547,"creation_date":1679079547,"answer_id":75771261,"question_id":75759787,"body_markdown":"used which worked:\r\n\r\n    private MockSchemaRegistryClient mockSchemaRegistryClient = new MockSchemaRegistryClient();","title":"kakfa mock registry for testing","body":"<p>used which worked:</p>\n<pre><code>private MockSchemaRegistryClient mockSchemaRegistryClient = new MockSchemaRegistryClient();\n</code></pre>\n"}],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679079547,"creation_date":1678988303,"question_id":75759787,"body_markdown":"so i have set up in my spring properties file:\r\n\r\n    spring.kafka.properties.schema.registry.url=mock://localhost\r\n\r\nBut when i run the test i get the following\r\n\r\n    Caused by: org.apache.kafka.common.errors.SerializationException: Error retrieving Avro unknown schema for id 1\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaSchemaSerDe.toKafkaException(AbstractKafkaSchemaSerDe.java:259)\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$DeserializationContext.schemaFromRegistry(AbstractKafkaAvroDeserializer.java:341)\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.deserialize(AbstractKafkaAvroDeserializer.java:113)\r\n    \tat io.confluent.kafka.serializers.KafkaAvroDeserializer.deserialize(KafkaAvroDeserializer.java:55)\r\n    \tat org.apache.kafka.common.serialization.Deserializer.deserialize(Deserializer.java:60)\r\n    \tat org.springframework.kafka.support.serializer.ErrorHandlingDeserializer.deserialize(ErrorHandlingDeserializer.java:201)\r\n    \t... 16 common frames omitted\r\n    Caused by: io.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException: Subject Not Found; error code: 40401\r\n    \tat io.confluent.kafka.schemaregistry.client.MockSchemaRegistryClient.getSchemaBySubjectAndIdFromRegistry(MockSchemaRegistryClient.java:177)\r\n    \tat io.confluent.kafka.schemaregistry.client.MockSchemaRegistryClient.getSchemaBySubjectAndId(MockSchemaRegistryClient.java:262)\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$DeserializationContext.schemaFromRegistry(AbstractKafkaAvroDeserializer.java:330)\r\n    \t... 20 common frames omitted","title":"kakfa mock registry for testing","body":"<p>so i have set up in my spring properties file:</p>\n<pre><code>spring.kafka.properties.schema.registry.url=mock://localhost\n</code></pre>\n<p>But when i run the test i get the following</p>\n<pre><code>Caused by: org.apache.kafka.common.errors.SerializationException: Error retrieving Avro unknown schema for id 1\n    at io.confluent.kafka.serializers.AbstractKafkaSchemaSerDe.toKafkaException(AbstractKafkaSchemaSerDe.java:259)\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$DeserializationContext.schemaFromRegistry(AbstractKafkaAvroDeserializer.java:341)\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.deserialize(AbstractKafkaAvroDeserializer.java:113)\n    at io.confluent.kafka.serializers.KafkaAvroDeserializer.deserialize(KafkaAvroDeserializer.java:55)\n    at org.apache.kafka.common.serialization.Deserializer.deserialize(Deserializer.java:60)\n    at org.springframework.kafka.support.serializer.ErrorHandlingDeserializer.deserialize(ErrorHandlingDeserializer.java:201)\n    ... 16 common frames omitted\nCaused by: io.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException: Subject Not Found; error code: 40401\n    at io.confluent.kafka.schemaregistry.client.MockSchemaRegistryClient.getSchemaBySubjectAndIdFromRegistry(MockSchemaRegistryClient.java:177)\n    at io.confluent.kafka.schemaregistry.client.MockSchemaRegistryClient.getSchemaBySubjectAndId(MockSchemaRegistryClient.java:262)\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$DeserializationContext.schemaFromRegistry(AbstractKafkaAvroDeserializer.java:330)\n    ... 20 common frames omitted\n</code></pre>\n"},{"tags":["java","spring","amazon-web-services","spring-boot","amazon-ecs"],"answers":[{"comments":[{"owner":{"account_id":154071,"reputation":13182,"user_id":369759,"accept_rate":63,"display_name":"ses"},"score":0,"creation_date":1679078614,"post_id":75771111,"comment_id":133662732,"body_markdown":"that what I thought. but there is also DockerImageAsset in ECS that seems has to do with mapping multi module application to ECS. whether it is spring or not.  For example &quot;app&quot; and &quot;lib&quot;: `const appAsset = new DockerImageAsset(stack, &#39;AppAsset&#39;, {\n  directory: path.join(__dirname, &#39;../app&#39;),\n});\n\nconst libAsset = new DockerImageAsset(stack, &#39;LibAsset&#39;, {\n  directory: path.join(__dirname, &#39;../lib&#39;),\n});`","body":"that what I thought. but there is also DockerImageAsset in ECS that seems has to do with mapping multi module application to ECS. whether it is spring or not.  For example &quot;app&quot; and &quot;lib&quot;: <code>const appAsset = new DockerImageAsset(stack, &#39;AppAsset&#39;, {   directory: path.join(__dirname, &#39;..&#47;app&#39;), });  const libAsset = new DockerImageAsset(stack, &#39;LibAsset&#39;, {   directory: path.join(__dirname, &#39;..&#47;lib&#39;), });</code>"},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1679079039,"post_id":75771111,"comment_id":133662820,"body_markdown":"Is that from the AWS CDK? It&#39;s really difficult to read or understand that code in a comment. Each of your spring modules has to be a separate docker image. Each docker image will have to be deployed as a separate ECS service. It is only at the ECS service level that ECS can auto-scale, so you have to have a separate service for each module if you want to scale them separately.","body":"Is that from the AWS CDK? It&#39;s really difficult to read or understand that code in a comment. Each of your spring modules has to be a separate docker image. Each docker image will have to be deployed as a separate ECS service. It is only at the ECS service level that ECS can auto-scale, so you have to have a separate service for each module if you want to scale them separately."}],"tags":[],"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679078506,"creation_date":1679078506,"answer_id":75771111,"question_id":75771047,"body_markdown":"Spring&#39;s @Service has NOTHING to do with ECS&#39;s services, other they use the same word. They are completely different things. And AWS ECS has absolutely no idea that you are even running Java, much less Spring. ECS just runs the docker containers you tell it to run.\r\n\r\nIf you want ECS to scale each module separately, you will have to deploy each module as a separate ECS service. ","title":"Spring boot multi-module project and aws ECS services","body":"<p>Spring's @Service has NOTHING to do with ECS's services, other they use the same word. They are completely different things. And AWS ECS has absolutely no idea that you are even running Java, much less Spring. ECS just runs the docker containers you tell it to run.</p>\n<p>If you want ECS to scale each module separately, you will have to deploy each module as a separate ECS service.</p>\n"}],"owner":{"account_id":154071,"reputation":13182,"user_id":369759,"accept_rate":63,"display_name":"ses"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679079516,"creation_date":1679078137,"question_id":75771047,"body_markdown":"If I have a multi module project. Spring Boot, using gradle.\r\n\r\nBecause it has multi modules it has several jars when build it.\r\n\r\nI wonder how multi module project could be mapped to the concept of ECS service &amp; tasks?\r\n\r\nI guess there is no magic of ECS to know that that module belongs to the app and it will be separately scaled in out? Even though there is spring @Service classes live in each module they can not be independently mapped to ECS service?\r\n\r\n(I guess I had to research a bit more before asking, but still)","title":"Spring boot multi-module project and aws ECS services","body":"<p>If I have a multi module project. Spring Boot, using gradle.</p>\n<p>Because it has multi modules it has several jars when build it.</p>\n<p>I wonder how multi module project could be mapped to the concept of ECS service &amp; tasks?</p>\n<p>I guess there is no magic of ECS to know that that module belongs to the app and it will be separately scaled in out? Even though there is spring @Service classes live in each module they can not be independently mapped to ECS service?</p>\n<p>(I guess I had to research a bit more before asking, but still)</p>\n"},{"tags":["java","performance"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1679076061,"post_id":75770736,"comment_id":133662174,"body_markdown":"Have you measured it? If the difference is measurable, you&#39;ll be able to see it... if it&#39;s not (which is what I strongly suspect) then you&#39;ll see no difference. It&#39;s almost *always* worth optimising for readability first, and only move away from readability when you can *measure* the performance benefit.","body":"Have you measured it? If the difference is measurable, you&#39;ll be able to see it... if it&#39;s not (which is what I strongly suspect) then you&#39;ll see no difference. It&#39;s almost <i>always</i> worth optimising for readability first, and only move away from readability when you can <i>measure</i> the performance benefit."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1679076413,"post_id":75770736,"comment_id":133662266,"body_markdown":"There could be a &quot;boost&quot; if x is reused later in the code. Your example only adds an extra assignment to the code. Anyway, don&#39;t worry about Java/JVM performance until you hit a real problem. The JVM makes performance enhancement, probably you never heard about.","body":"There could be a &quot;boost&quot; if x is reused later in the code. Your example only adds an extra assignment to the code. Anyway, don&#39;t worry about Java/JVM performance until you hit a real problem. The JVM makes performance enhancement, probably you never heard about."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679079491,"creation_date":1679079185,"answer_id":75771201,"question_id":75770736,"body_markdown":"There will be no difference at runtime. The local final variable (or effectively final - the compiler can very easily tell) will be [optimised by inlining it][1].\r\n\r\nMore interestingly, a decent logging framework (eg log4j) will lazily evaluate messages dependent on the logging level - this does provide material performance improvements.\r\n\r\nFor example, with\r\n\r\n    logger.debug(&quot;Amount: {}&quot;, objectClass.getMyDouble());\r\n\r\nLog4j can check the Log-Level first and then decide if its necessary to construct the message string. This saves resources needed for string concatenation. It will only call `toString()` on the objects supplied if the message is actually being created, saving further computation costs.\r\n\r\n\r\n  [1]: https://www.ibm.com/docs/en/sdk-java-technology/8?topic=compiler-how-jit-optimizes-code","title":"Java get the variable on the fly vs storing it","body":"<p>There will be no difference at runtime. The local final variable (or effectively final - the compiler can very easily tell) will be <a href=\"https://www.ibm.com/docs/en/sdk-java-technology/8?topic=compiler-how-jit-optimizes-code\" rel=\"nofollow noreferrer\">optimised by inlining it</a>.</p>\n<p>More interestingly, a decent logging framework (eg log4j) will lazily evaluate messages dependent on the logging level - this does provide material performance improvements.</p>\n<p>For example, with</p>\n<pre><code>logger.debug(&quot;Amount: {}&quot;, objectClass.getMyDouble());\n</code></pre>\n<p>Log4j can check the Log-Level first and then decide if its necessary to construct the message string. This saves resources needed for string concatenation. It will only call <code>toString()</code> on the objects supplied if the message is actually being created, saving further computation costs.</p>\n"}],"owner":{"account_id":15619920,"reputation":880,"user_id":11269090,"display_name":"Chen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679079491,"creation_date":1679075735,"question_id":75770736,"body_markdown":"Are there any performance boost by writing:\r\n```\r\nfinal double x = objectClass.getMyDouble();\r\nmyLogger.log(x);\r\n```\r\nto\r\n```\r\nmyLogger.log(objectClass.getMyDouble());\r\n```\r\n\r\nI think it improves the runtime a little bit by writing the second way. If it does, how is it able to improve the runtime?","title":"Java get the variable on the fly vs storing it","body":"<p>Are there any performance boost by writing:</p>\n<pre><code>final double x = objectClass.getMyDouble();\nmyLogger.log(x);\n</code></pre>\n<p>to</p>\n<pre><code>myLogger.log(objectClass.getMyDouble());\n</code></pre>\n<p>I think it improves the runtime a little bit by writing the second way. If it does, how is it able to improve the runtime?</p>\n"},{"tags":["java","json","abstract-class","gson"],"comments":[{"owner":{"account_id":4028938,"reputation":4478,"user_id":3315914,"display_name":"rpax"},"score":0,"creation_date":1393574157,"post_id":3629596,"comment_id":33502894,"body_markdown":"Take a look to [http://stackoverflow.com/a/22081826/3315914](http://stackoverflow.com/a/22081826/3315914)","body":"Take a look to <a href=\"http://stackoverflow.com/a/22081826/3315914\">http://stackoverflow.com/a/22081826/3315914</a>"}],"answers":[{"comments":[{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":1,"creation_date":1283455599,"post_id":3629771,"comment_id":3814263,"body_markdown":"@eng-carlin It&#39;s customary to upvote and accept an answer if it works for you, so if you could do that I&#39;d appreciate it.","body":"@eng-carlin It&#39;s customary to upvote and accept an answer if it works for you, so if you could do that I&#39;d appreciate it."},{"owner":{"account_id":194894,"reputation":463,"user_id":437480,"display_name":"user437480"},"score":1,"creation_date":1283457772,"post_id":3629771,"comment_id":3814644,"body_markdown":"The green check mark has been clicked.  I&#39;d upvote you, but my reputation isn&#39;t high enough :(","body":"The green check mark has been clicked.  I&#39;d upvote you, but my reputation isn&#39;t high enough :("},{"owner":{"account_id":2207538,"reputation":4868,"user_id":1950349,"accept_rate":82,"display_name":"user1950349"},"score":0,"creation_date":1456864541,"post_id":3629771,"comment_id":59140386,"body_markdown":"@ColinD I have a GSON related question [here](http://stackoverflow.com/questions/35732503/how-to-make-json-string-using-gson). If possible can help me out.","body":"@ColinD I have a GSON related question <a href=\"http://stackoverflow.com/questions/35732503/how-to-make-json-string-using-gson\">here</a>. If possible can help me out."},{"owner":{"account_id":117072,"reputation":11619,"user_id":306739,"accept_rate":100,"display_name":"stan0"},"score":0,"creation_date":1495882354,"post_id":3629771,"comment_id":75442810,"body_markdown":"The link is dead. It&#39;s usually better to add a short description than a link :)","body":"The link is dead. It&#39;s usually better to add a short description than a link :)"},{"owner":{"account_id":7993301,"reputation":407,"user_id":6030520,"display_name":"Jamie"},"score":0,"creation_date":1599259071,"post_id":3629771,"comment_id":112729442,"body_markdown":"The JsonDeserializer documentation states: &quot;New applications should prefer [TypeAdapter](https://www.javadoc.io/static/com.google.code.gson/gson/2.6.2/com/google/gson/TypeAdapter.html), whose streaming API is more efficient than this interface&#39;s tree API.&quot; Just fyi to anyone for whom efficiency matters.","body":"The JsonDeserializer documentation states: &quot;New applications should prefer <a href=\"https://www.javadoc.io/static/com.google.code.gson/gson/2.6.2/com/google/gson/TypeAdapter.html\" rel=\"nofollow noreferrer\">TypeAdapter</a>, whose streaming API is more efficient than this interface&#39;s tree API.&quot; Just fyi to anyone for whom efficiency matters."}],"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"comment_count":5,"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1507899501,"creation_date":1283449963,"answer_id":3629771,"question_id":3629596,"body_markdown":"I&#39;d suggest adding a custom [JsonDeserializer][1] for `Node`s:\r\n\r\n    Gson gson = new GsonBuilder()\r\n        .registerTypeAdapter(Node.class, new NodeDeserializer())\r\n        .create();\r\n\r\nYou will be able to access the `JsonElement` representing the node in the deserializer&#39;s method, convert that to a `JsonObject`, and retrieve the field that specifies the type. You can then create an instance of the correct type of `Node` based on that.\r\n\r\n  [1]: https://static.javadoc.io/com.google.code.gson/gson/2.6.2/com/google/gson/JsonDeserializer.html","title":"Deserializing an abstract class in Gson","body":"<p>I'd suggest adding a custom <a href=\"https://static.javadoc.io/com.google.code.gson/gson/2.6.2/com/google/gson/JsonDeserializer.html\" rel=\"noreferrer\">JsonDeserializer</a> for <code>Node</code>s:</p>\n\n<pre><code>Gson gson = new GsonBuilder()\n    .registerTypeAdapter(Node.class, new NodeDeserializer())\n    .create();\n</code></pre>\n\n<p>You will be able to access the <code>JsonElement</code> representing the node in the deserializer's method, convert that to a <code>JsonObject</code>, and retrieve the field that specifies the type. You can then create an instance of the correct type of <code>Node</code> based on that.</p>\n"},{"comments":[{"owner":{"account_id":3371370,"reputation":580,"user_id":2830501,"accept_rate":44,"display_name":"Menna-Allah Sami"},"score":1,"creation_date":1411464249,"post_id":9106351,"comment_id":40702034,"body_markdown":"what do u mean by IInterfaceOne.class and IInterfaceTwo.class","body":"what do u mean by IInterfaceOne.class and IInterfaceTwo.class"},{"owner":{"account_id":238135,"reputation":3952,"user_id":506813,"display_name":"bekce"},"score":1,"creation_date":1441018066,"post_id":9106351,"comment_id":52493905,"body_markdown":"Thank you for providing the most elegant/reusable solution to this problem. I use `_class` as `CLASS_META_KEY` like mongodb does.","body":"Thank you for providing the most elegant/reusable solution to this problem. I use <code>_class</code> as <code>CLASS_META_KEY</code> like mongodb does."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1664911382,"post_id":9106351,"comment_id":130576936,"body_markdown":"**Please do not use `Class.forName`**. This allows an attacker to load arbitrary classes, create instances of them and set arbitrary field values. Instead maintain a mapping of type names to the corresponding `Class` (this also makes it easier to integrate with non-Java services). You can use gson-extras `RuntimeTypeAdapterFactory` for that, see answers on https://stackoverflow.com/q/15736654","body":"<b>Please do not use <code>Class.forName</code></b>. This allows an attacker to load arbitrary classes, create instances of them and set arbitrary field values. Instead maintain a mapping of type names to the corresponding <code>Class</code> (this also makes it easier to integrate with non-Java services). You can use gson-extras <code>RuntimeTypeAdapterFactory</code> for that, see answers on <a href=\"https://stackoverflow.com/q/15736654\">stackoverflow.com/q/15736654</a>"}],"tags":[],"owner":{"account_id":260746,"reputation":936,"user_id":544499,"accept_rate":57,"display_name":"Guruprasad GV"},"comment_count":3,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1371692722,"creation_date":1328149745,"answer_id":9106351,"question_id":3629596,"body_markdown":"You will need to register both JSONSerializer and JSONDeserializer. Also you can implement a generic adapter for all your interfaces in the following way:\r\n\r\n - During Serialization : Add a META-info of the actual impl class type.\r\n - During DeSerialization : Retrieve that meta info and call the JSONDeserailize of that class\r\n\r\nHere is the implementation that I have used for myself and works fine.\r\n\r\n\tpublic class PropertyBasedInterfaceMarshal implements\r\n\t\t\tJsonSerializer&lt;Object&gt;, JsonDeserializer&lt;Object&gt; {\r\n\r\n\t\tprivate static final String CLASS_META_KEY = &quot;CLASS_META_KEY&quot;;\r\n\r\n\t\t@Override\r\n\t\tpublic Object deserialize(JsonElement jsonElement, Type type,\r\n\t\t\t\tJsonDeserializationContext jsonDeserializationContext)\r\n\t\t\t\tthrows JsonParseException {\r\n\t\t\tJsonObject jsonObj = jsonElement.getAsJsonObject();\r\n\t\t\tString className = jsonObj.get(CLASS_META_KEY).getAsString();\r\n\t\t\ttry {\r\n\t\t\t\tClass&lt;?&gt; clz = Class.forName(className);\r\n\t\t\t\treturn jsonDeserializationContext.deserialize(jsonElement, clz);\r\n\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\tthrow new JsonParseException(e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic JsonElement serialize(Object object, Type type,\r\n\t\t\t\tJsonSerializationContext jsonSerializationContext) {\r\n\t\t\tJsonElement jsonEle = jsonSerializationContext.serialize(object, object.getClass());\r\n\t\t\tjsonEle.getAsJsonObject().addProperty(CLASS_META_KEY,\r\n\t\t\t\t\tobject.getClass().getCanonicalName());\r\n\t\t\treturn jsonEle;\r\n\t\t}\r\n\r\n\t}\r\n\r\nThen you could register this adapter for all your interfaces as follows\r\n\r\n    \r\n\tGson gson = new GsonBuilder()\r\n\t\t\t.registerTypeAdapter(IInterfaceOne.class,\r\n\t\t\t\t\tnew PropertyBasedInterfaceMarshal())\r\n\t\t\t.registerTypeAdapter(IInterfaceTwo.class,\r\n\t\t\t\t\tnew PropertyBasedInterfaceMarshal()).create();","title":"Deserializing an abstract class in Gson","body":"<p>You will need to register both JSONSerializer and JSONDeserializer. Also you can implement a generic adapter for all your interfaces in the following way:</p>\n\n<ul>\n<li>During Serialization : Add a META-info of the actual impl class type.</li>\n<li>During DeSerialization : Retrieve that meta info and call the JSONDeserailize of that class</li>\n</ul>\n\n<p>Here is the implementation that I have used for myself and works fine.</p>\n\n<pre><code>public class PropertyBasedInterfaceMarshal implements\n        JsonSerializer&lt;Object&gt;, JsonDeserializer&lt;Object&gt; {\n\n    private static final String CLASS_META_KEY = \"CLASS_META_KEY\";\n\n    @Override\n    public Object deserialize(JsonElement jsonElement, Type type,\n            JsonDeserializationContext jsonDeserializationContext)\n            throws JsonParseException {\n        JsonObject jsonObj = jsonElement.getAsJsonObject();\n        String className = jsonObj.get(CLASS_META_KEY).getAsString();\n        try {\n            Class&lt;?&gt; clz = Class.forName(className);\n            return jsonDeserializationContext.deserialize(jsonElement, clz);\n        } catch (ClassNotFoundException e) {\n            throw new JsonParseException(e);\n        }\n    }\n\n    @Override\n    public JsonElement serialize(Object object, Type type,\n            JsonSerializationContext jsonSerializationContext) {\n        JsonElement jsonEle = jsonSerializationContext.serialize(object, object.getClass());\n        jsonEle.getAsJsonObject().addProperty(CLASS_META_KEY,\n                object.getClass().getCanonicalName());\n        return jsonEle;\n    }\n\n}\n</code></pre>\n\n<p>Then you could register this adapter for all your interfaces as follows</p>\n\n<pre><code>Gson gson = new GsonBuilder()\n        .registerTypeAdapter(IInterfaceOne.class,\n                new PropertyBasedInterfaceMarshal())\n        .registerTypeAdapter(IInterfaceTwo.class,\n                new PropertyBasedInterfaceMarshal()).create();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1085370,"reputation":5656,"user_id":1081199,"accept_rate":83,"display_name":"Jason Polites"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1329792591,"creation_date":1329792591,"answer_id":9371456,"question_id":3629596,"body_markdown":"As far as I can tell this doesn&#39;t work for non-collection types, or more specifically, situations where the concrete type is used to serialize, and the interface type is used to deserialize.  That is, if you have a simple class implementing an interface and you serialize the concrete class, then specify the interface to deserialize, you&#39;ll end up in an unrecoverable situation.\r\n\r\nIn the above example the type adapter is registered against the interface, but when you serialize using the concrete class it will not be used, meaning the CLASS_META_KEY data will never be set.\r\n\r\nIf you specify the adapter as a hierarchical adapter (thereby telling gson to use it for all types in the hierarchy), you&#39;ll end up in an infinite loop as the serializer will just keep calling itself.\r\n\r\nAnyone know how to serialize from a concrete implementation of an interface, then deserialize using only the interface and an InstanceCreator?\r\n\r\nBy default it seems that gson will create the concrete instance, but does not set it&#39;s fields. \r\n\r\nIssue is logged here:\r\n\r\nhttp://code.google.com/p/google-gson/issues/detail?id=411&amp;q=interface","title":"Deserializing an abstract class in Gson","body":"<p>As far as I can tell this doesn't work for non-collection types, or more specifically, situations where the concrete type is used to serialize, and the interface type is used to deserialize.  That is, if you have a simple class implementing an interface and you serialize the concrete class, then specify the interface to deserialize, you'll end up in an unrecoverable situation.</p>\n\n<p>In the above example the type adapter is registered against the interface, but when you serialize using the concrete class it will not be used, meaning the CLASS_META_KEY data will never be set.</p>\n\n<p>If you specify the adapter as a hierarchical adapter (thereby telling gson to use it for all types in the hierarchy), you'll end up in an infinite loop as the serializer will just keep calling itself.</p>\n\n<p>Anyone know how to serialize from a concrete implementation of an interface, then deserialize using only the interface and an InstanceCreator?</p>\n\n<p>By default it seems that gson will create the concrete instance, but does not set it's fields. </p>\n\n<p>Issue is logged here:</p>\n\n<p><a href=\"http://code.google.com/p/google-gson/issues/detail?id=411&amp;q=interface\" rel=\"nofollow\">http://code.google.com/p/google-gson/issues/detail?id=411&amp;q=interface</a></p>\n"},{"comments":[{"owner":{"account_id":9769637,"reputation":344,"user_id":7241983,"display_name":"mathieux51"},"score":0,"creation_date":1623137227,"post_id":15020585,"comment_id":119986041,"body_markdown":"I tried what you suggested and I got `java.lang.UnsupportedOperationException: Abstract class can&#39;t be  instantiated!`","body":"I tried what you suggested and I got <code>java.lang.UnsupportedOperationException: Abstract class can&#39;t be  instantiated!</code>"},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1623137342,"post_id":15020585,"comment_id":119986089,"body_markdown":"ConnectRecord is abstract, you cannot use it for deserialize the Json","body":"ConnectRecord is abstract, you cannot use it for deserialize the Json"}],"tags":[],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491912689,"creation_date":1361524619,"answer_id":15020585,"question_id":3629596,"body_markdown":"You have to use `TypeToken` class from Google Gson. \r\nYou will need of course has a generic class T to make it works\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    Type fooType = new TypeToken&lt;Foo&lt;Bar&gt;&gt;() {}.getType();\r\ngson.toJson(foo, fooType);\r\n\r\n    gson.fromJson(json, fooType);","title":"Deserializing an abstract class in Gson","body":"<p>You have to use <code>TypeToken</code> class from Google Gson. \nYou will need of course has a generic class T to make it works</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Type fooType = new TypeToken&lt;Foo&lt;Bar&gt;&gt;() {}.getType();\n</code></pre>\n\n<p>gson.toJson(foo, fooType);</p>\n\n<pre><code>gson.fromJson(json, fooType);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24856910,"reputation":31,"user_id":18733140,"display_name":"Ezh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649315454,"creation_date":1649315454,"answer_id":71777764,"question_id":3629596,"body_markdown":"I want to correct the above a little\r\n\r\n    public class PropertyMarshallerAbstractTask implements JsonSerializer&lt;Object&gt;, JsonDeserializer&lt;Object&gt; {\r\n\r\n        private static final String CLASS_TYPE = &quot;CLASS_TYPE&quot;;\r\n\r\n        @Override\r\n        public Object deserialize(JsonElement jsonElement, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\r\n\r\n            JsonObject jsonObj = jsonElement.getAsJsonObject();\r\n           String className = jsonObj.get(CLASS_TYPE).getAsString();\r\n\r\n            try {\r\n                Class&lt;?&gt; clz = Class.forName(className);\r\n                return jsonDeserializationContext.deserialize(jsonElement, clz);\r\n            } catch (ClassNotFoundException e) {\r\n                throw new JsonParseException(e);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public JsonElement serialize(Object object, Type type, JsonSerializationContext jsonSerializationContext) {\r\n        \r\n            Gson gson = new Gson(); //without this line it will not work\r\n            gson.toJson(object, object.getClass()); //and this one\r\n            JsonElement jsonElement = gson.toJsonTree(object); //it needs to replace to another method...toJsonTree\r\n            jsonElement.getAsJsonObject().addProperty(CLASS_TYPE, object.getClass().getCanonicalName());\r\n            return jsonElement;\r\n        }\r\n    }\r\n\r\nAnd then I use it:\r\n\r\n    Gson gson = new GsonBuilder()\r\n                    .registerTypeAdapter(AbstractTask.class, new PropertyMarshallerOfAbstractTask())\r\n                    .create();\r\n\r\nAnd then I can parse List&lt;AbstractTask&gt; (where I keep some non-abstract classes, which inherited from Abstract Task) to Json;\r\n\r\nAnd it works in the opposite direction\r\n\r\n    List&lt;AbstractTask&gt; abstractTasks = gson.fromJson(json, new TypeToken&lt;List&lt;AbstractTask&gt;&gt;(){}.getType());","title":"Deserializing an abstract class in Gson","body":"<p>I want to correct the above a little</p>\n<pre><code>public class PropertyMarshallerAbstractTask implements JsonSerializer&lt;Object&gt;, JsonDeserializer&lt;Object&gt; {\n\n    private static final String CLASS_TYPE = &quot;CLASS_TYPE&quot;;\n\n    @Override\n    public Object deserialize(JsonElement jsonElement, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\n\n        JsonObject jsonObj = jsonElement.getAsJsonObject();\n       String className = jsonObj.get(CLASS_TYPE).getAsString();\n\n        try {\n            Class&lt;?&gt; clz = Class.forName(className);\n            return jsonDeserializationContext.deserialize(jsonElement, clz);\n        } catch (ClassNotFoundException e) {\n            throw new JsonParseException(e);\n        }\n    }\n\n    @Override\n    public JsonElement serialize(Object object, Type type, JsonSerializationContext jsonSerializationContext) {\n    \n        Gson gson = new Gson(); //without this line it will not work\n        gson.toJson(object, object.getClass()); //and this one\n        JsonElement jsonElement = gson.toJsonTree(object); //it needs to replace to another method...toJsonTree\n        jsonElement.getAsJsonObject().addProperty(CLASS_TYPE, object.getClass().getCanonicalName());\n        return jsonElement;\n    }\n}\n</code></pre>\n<p>And then I use it:</p>\n<pre><code>Gson gson = new GsonBuilder()\n                .registerTypeAdapter(AbstractTask.class, new PropertyMarshallerOfAbstractTask())\n                .create();\n</code></pre>\n<p>And then I can parse List (where I keep some non-abstract classes, which inherited from Abstract Task) to Json;</p>\n<p>And it works in the opposite direction</p>\n<pre><code>List&lt;AbstractTask&gt; abstractTasks = gson.fromJson(json, new TypeToken&lt;List&lt;AbstractTask&gt;&gt;(){}.getType());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1146964,"reputation":360,"user_id":1129493,"display_name":"Robin Dowling"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679079366,"creation_date":1679078783,"answer_id":75771143,"question_id":3629596,"body_markdown":"I was unable to use the `TypeAdapter` solutions above, and had almost given up on serializing. In the end I found a solution in an intermediary step between the class object and Gson. I serialized the object itself into a byte array, and then Gson serialized the byte array + deserializing back in similar fashion.\r\n\r\n```java\r\npublic class GenericSerializer {\r\n  public static byte[] serializeForClass(final Object obj) {\r\n    try {\r\n      final var byteArrayOutputStream = new ByteArrayOutputStream();\r\n      final var objectOutputStream = new ObjectOutputStream(byteArrayOutputStream);\r\n      objectOutputStream.writeObject(obj);\r\n      objectOutputStream.flush();\r\n      objectOutputStream.close();\r\n      return byteArrayOutputStream.toByteArray();\r\n    } catch (IOException e) {\r\n      LOG.warn(&quot;Unable to serialize for class &#39;%s&#39;&quot;.formatted(obj.getClass().getName()), e);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public static &lt;T&gt; T deserializeForClass(final byte[] serializedObj, final Class&lt;T&gt; cls) {\r\n    if (serializedObj == null) {\r\n      return null;\r\n    }\r\n    try {\r\n      final var inputStream = new ByteArrayInputStream(serializedObj);\r\n      final var objectInputStream = new ObjectInputStream(inputStream);\r\n      return cls.cast(objectInputStream.readObject());\r\n    } catch (ClassNotFoundException | IOException | NullPointerException e) {\r\n      LOG.warn(&quot;Unable to deserialize for class &#39;%s&#39;&quot;.formatted(cls), e);\r\n      return null;\r\n    }\r\n  }\r\n```\r\n\r\nUsed like this\r\n```java\r\n\r\nfinal var yourObject = new YourClass();\r\nfinal var serialized = GenericSerializer.serializeForClass(yourObject);\r\nfinal var gson = new Gson();\r\nfinal var gsonSerialized = gson.toJson(serialized);\r\nfinal var gsonDeserialized = gson.fromJson(gsonSerialized, byte[].class)\r\nfinal var deserialized =  GenericSerializer.deserializeForClass(gsonDeserialized, YourClass.class);\r\nassert(yourObject == deserialized);\r\n\r\n```\r\n\r\nI&#39;m hoping this might help someone else the way it helped me.","title":"Deserializing an abstract class in Gson","body":"<p>I was unable to use the <code>TypeAdapter</code> solutions above, and had almost given up on serializing. In the end I found a solution in an intermediary step between the class object and Gson. I serialized the object itself into a byte array, and then Gson serialized the byte array + deserializing back in similar fashion.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GenericSerializer {\n  public static byte[] serializeForClass(final Object obj) {\n    try {\n      final var byteArrayOutputStream = new ByteArrayOutputStream();\n      final var objectOutputStream = new ObjectOutputStream(byteArrayOutputStream);\n      objectOutputStream.writeObject(obj);\n      objectOutputStream.flush();\n      objectOutputStream.close();\n      return byteArrayOutputStream.toByteArray();\n    } catch (IOException e) {\n      LOG.warn(&quot;Unable to serialize for class '%s'&quot;.formatted(obj.getClass().getName()), e);\n      return null;\n    }\n  }\n\n  public static &lt;T&gt; T deserializeForClass(final byte[] serializedObj, final Class&lt;T&gt; cls) {\n    if (serializedObj == null) {\n      return null;\n    }\n    try {\n      final var inputStream = new ByteArrayInputStream(serializedObj);\n      final var objectInputStream = new ObjectInputStream(inputStream);\n      return cls.cast(objectInputStream.readObject());\n    } catch (ClassNotFoundException | IOException | NullPointerException e) {\n      LOG.warn(&quot;Unable to deserialize for class '%s'&quot;.formatted(cls), e);\n      return null;\n    }\n  }\n</code></pre>\n<p>Used like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nfinal var yourObject = new YourClass();\nfinal var serialized = GenericSerializer.serializeForClass(yourObject);\nfinal var gson = new Gson();\nfinal var gsonSerialized = gson.toJson(serialized);\nfinal var gsonDeserialized = gson.fromJson(gsonSerialized, byte[].class)\nfinal var deserialized =  GenericSerializer.deserializeForClass(gsonDeserialized, YourClass.class);\nassert(yourObject == deserialized);\n\n</code></pre>\n<p>I'm hoping this might help someone else the way it helped me.</p>\n"}],"owner":{"account_id":194894,"reputation":463,"user_id":437480,"display_name":"user437480"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37866,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":3629771,"answer_count":6,"score":46,"last_activity_date":1679079366,"creation_date":1283448512,"question_id":3629596,"body_markdown":"I have a tree object in JSON format I&#39;m trying to deserialize with Gson.  Each node contains its child nodes as fields of object type Node.  Node is an interface, which has several concrete class implementations.  During the deserialization process, how can I communicate to Gson which concrete class to implement when deserializing the node, if I do not know a priori which type the node belongs to?  Each Node has a member field specifying the type.  Is there a way to access the field when the object is in serialized form, and somehow communicate the type to Gson?\r\n\r\nThanks!","title":"Deserializing an abstract class in Gson","body":"<p>I have a tree object in JSON format I'm trying to deserialize with Gson.  Each node contains its child nodes as fields of object type Node.  Node is an interface, which has several concrete class implementations.  During the deserialization process, how can I communicate to Gson which concrete class to implement when deserializing the node, if I do not know a priori which type the node belongs to?  Each Node has a member field specifying the type.  Is there a way to access the field when the object is in serialized form, and somehow communicate the type to Gson?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","eclipse","debugging"],"answers":[{"tags":[],"owner":{"account_id":1676310,"reputation":93,"user_id":1541796,"display_name":"Victor Lindberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679078469,"creation_date":1679078469,"answer_id":75771103,"question_id":75770808,"body_markdown":"Solution for me.\r\n\r\nMake sure the warsaw application is installed. If so, uninstall it. Any other security application for internet banking access could be causing this. Uninstall. Here I had the same problem after installing my bank&#39;s security application.\r\n\r\nFor those who are Brazilian like me, uninstall the security program from Caixa Econ&#244;mica (Warsaw). Here this was the cause.\r\n\r\n","title":"Cannot connect to VM Socket closed","body":"<p>Solution for me.</p>\n<p>Make sure the warsaw application is installed. If so, uninstall it. Any other security application for internet banking access could be causing this. Uninstall. Here I had the same problem after installing my bank's security application.</p>\n<p>For those who are Brazilian like me, uninstall the security program from Caixa Econômica (Warsaw). Here this was the cause.</p>\n"}],"owner":{"account_id":1676310,"reputation":93,"user_id":1541796,"display_name":"Victor Lindberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679078469,"creation_date":1679076375,"question_id":75770808,"body_markdown":"Error message when starting application in eclipse.\r\n\r\nWhen trying to upload the application in eclipse, a popup appears with the message &quot;Cannot connect to VM Socket closed&quot; and it cannot start.","title":"Cannot connect to VM Socket closed","body":"<p>Error message when starting application in eclipse.</p>\n<p>When trying to upload the application in eclipse, a popup appears with the message &quot;Cannot connect to VM Socket closed&quot; and it cannot start.</p>\n"},{"tags":["java","jpa","spring-data","spring-transactions"],"answers":[{"comments":[{"owner":{"account_id":287515,"reputation":15504,"user_id":587365,"display_name":"Andrew Spencer"},"score":4,"creation_date":1539356438,"post_id":39829964,"comment_id":92485824,"body_markdown":"In spring-data-jpa:2.0.9, there is no `@Transactional` annotation in the source code of `JpaRepository` or its ancestors - the default transactionality seems to be applied at runtime. Also note that if you put `@Transactional( ... custom properties ... )` on your repository interface, it will apply to all methods declared in your interface, and in child interfaces -- but not to any methods declared in the parent interface (`JpaRepository`) unless you redeclare them.","body":"In spring-data-jpa:2.0.9, there is no <code>@Transactional</code> annotation in the source code of <code>JpaRepository</code> or its ancestors - the default transactionality seems to be applied at runtime. Also note that if you put <code>@Transactional( ... custom properties ... )</code> on your repository interface, it will apply to all methods declared in your interface, and in child interfaces -- but not to any methods declared in the parent interface (<code>JpaRepository</code>) unless you redeclare them."},{"owner":{"account_id":1681659,"reputation":3633,"user_id":1545775,"display_name":"Maciej Marczuk"},"score":5,"creation_date":1552402330,"post_id":39829964,"comment_id":96990283,"body_markdown":"@AndrewSpencer `@Transactional` annotations are applied in default `JpaRepository` / `CrudRepository` implementation: `SimpleJpaRepository`\nTake a look here:\nhttps://github.com/spring-projects/spring-data-jpa/blob/master/src/main/java/org/springframework/data/jpa/repository/support/SimpleJpaRepository.java \nI think you will find there all the answers :)","body":"@AndrewSpencer <code>@Transactional</code> annotations are applied in default <code>JpaRepository</code> / <code>CrudRepository</code> implementation: <code>SimpleJpaRepository</code> Take a look here: <a href=\"https://github.com/spring-projects/spring-data-jpa/blob/master/src/main/java/org/springframework/data/jpa/repository/support/SimpleJpaRepository.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-data-jpa/blob/master/src/m&zwnj;&#8203;ain/&hellip;</a>  I think you will find there all the answers :)"},{"owner":{"account_id":287515,"reputation":15504,"user_id":587365,"display_name":"Andrew Spencer"},"score":0,"creation_date":1552483964,"post_id":39829964,"comment_id":97026517,"body_markdown":"thanks for the correction - it&#39;s not runtime magic, simply the implementation class that&#39;s annotated. My remark about overriding is still accurate, though.","body":"thanks for the correction - it&#39;s not runtime magic, simply the implementation class that&#39;s annotated. My remark about overriding is still accurate, though."}],"tags":[],"owner":{"account_id":1681659,"reputation":3633,"user_id":1545775,"display_name":"Maciej Marczuk"},"comment_count":3,"down_vote_count":0,"up_vote_count":70,"is_accepted":true,"score":70,"last_activity_date":1679077799,"creation_date":1475492210,"answer_id":39829964,"question_id":39827054,"body_markdown":"You are right. Only CRUD methods (`CrudRepository` methods) are by default marked as transactional. \r\nIf you are using custom query methods you should explicitly mark it with `@Transactional` annotation. \r\n\r\n    @Repository\r\n    public interface UserRegistrationRepository extends JpaRepository&lt;UserRegistration, Long&gt; {\r\n    \r\n        UserRegistration findByEmail(String email);\r\n\r\n        @Transactional\r\n        void deleteByEmail(String email);\r\n    \r\n    }\r\n\r\nYou should also be aware about consequences of marking repository interface methods instead of service methods. If you are using default transaction propagation configuration (`Propagation.REQUIRED`) then: \r\n\r\n&gt;  The transaction configuration at the repositories will be neglected\r\n&gt; then as the outer transaction configuration determines the actual one\r\n&gt; used.\r\n\r\nhttp://docs.spring.io/spring-data/jpa/docs/current/reference/html/#transactions\r\n\r\nIf you want more information about how it is implemented, take a look at default `CrudRepository` / `JpaRepository` implementation - `SimpleJpaRepository` (which you are probably using):\r\n\r\nhttps://github.com/spring-projects/spring-data-jpa/blob/main/spring-data-jpa/src/main/java/org/springframework/data/jpa/repository/support/SimpleJpaRepository.java \r\n\r\nThe interesting lines are here:\r\n```java\r\n@Transactional(readOnly = true)\r\npublic class SimpleJpaRepository&lt;T, ID&gt; implements JpaRepositoryImplementation&lt;T, ID&gt; {\r\n```\r\n\r\nand some of transactional methods here:\r\n```java\r\n@Transactional\r\npublic void deleteById(ID id) {\r\n```\r\n\r\n```\r\n@Transactional\r\npublic &lt;S extends T&gt; S save(S entity) {\r\n```","title":"Spring JPA repository transactionality","body":"<p>You are right. Only CRUD methods (<code>CrudRepository</code> methods) are by default marked as transactional.\nIf you are using custom query methods you should explicitly mark it with <code>@Transactional</code> annotation.</p>\n<pre><code>@Repository\npublic interface UserRegistrationRepository extends JpaRepository&lt;UserRegistration, Long&gt; {\n\n    UserRegistration findByEmail(String email);\n\n    @Transactional\n    void deleteByEmail(String email);\n\n}\n</code></pre>\n<p>You should also be aware about consequences of marking repository interface methods instead of service methods. If you are using default transaction propagation configuration (<code>Propagation.REQUIRED</code>) then:</p>\n<blockquote>\n<p>The transaction configuration at the repositories will be neglected\nthen as the outer transaction configuration determines the actual one\nused.</p>\n</blockquote>\n<p><a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#transactions\" rel=\"noreferrer\">http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#transactions</a></p>\n<p>If you want more information about how it is implemented, take a look at default <code>CrudRepository</code> / <code>JpaRepository</code> implementation - <code>SimpleJpaRepository</code> (which you are probably using):</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-jpa/blob/main/spring-data-jpa/src/main/java/org/springframework/data/jpa/repository/support/SimpleJpaRepository.java\" rel=\"noreferrer\">https://github.com/spring-projects/spring-data-jpa/blob/main/spring-data-jpa/src/main/java/org/springframework/data/jpa/repository/support/SimpleJpaRepository.java</a></p>\n<p>The interesting lines are here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(readOnly = true)\npublic class SimpleJpaRepository&lt;T, ID&gt; implements JpaRepositoryImplementation&lt;T, ID&gt; {\n</code></pre>\n<p>and some of transactional methods here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\npublic void deleteById(ID id) {\n</code></pre>\n<pre><code>@Transactional\npublic &lt;S extends T&gt; S save(S entity) {\n</code></pre>\n"}],"owner":{"account_id":3856986,"reputation":1185,"user_id":3195653,"accept_rate":100,"display_name":"FlasH from Ru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39913,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":39829964,"answer_count":1,"score":42,"last_activity_date":1679077799,"creation_date":1475482073,"question_id":39827054,"body_markdown":"1 quick question on Spring JPA repositories transactionality.\r\nI have a service that is not marked as transactional and calls Spring JPA repository method\r\n\r\n    userRegistrationRepository.deleteByEmail(email);\r\n\r\nAnd it is defined as\r\n\r\n    @Repository\r\n    public interface UserRegistrationRepository extends JpaRepository&lt;UserRegistration, Long&gt; {\r\n    \r\n        UserRegistration findByEmail(String email);\r\n    \r\n        void deleteByEmail(String email);\r\n    \r\n    }\r\n\r\nThe problem is that it fails with &quot;*No EntityManager with actual transaction available for current thread - cannot reliably process &#39;remove&#39; call; nested exception is javax.persistence.TransactionRequiredException*&quot; exception.\r\n\r\nOk, I can solve it by marking the service **or** *deleteByEmail(..)* method as transactional, but I just can&#39;t understand why it crashes now. Spring documentation explicitly states that &quot;*CRUD methods on repository instances are transactional by default.*&quot; (http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#transactions), but apparently this one is not... So Is this statement related to only members of `CrudRepository`?\r\n\r\nps: that&#39;s for Spring Data JPA 1.9.4\r\n","title":"Spring JPA repository transactionality","body":"<p>1 quick question on Spring JPA repositories transactionality.\nI have a service that is not marked as transactional and calls Spring JPA repository method</p>\n\n<pre><code>userRegistrationRepository.deleteByEmail(email);\n</code></pre>\n\n<p>And it is defined as</p>\n\n<pre><code>@Repository\npublic interface UserRegistrationRepository extends JpaRepository&lt;UserRegistration, Long&gt; {\n\n    UserRegistration findByEmail(String email);\n\n    void deleteByEmail(String email);\n\n}\n</code></pre>\n\n<p>The problem is that it fails with \"<em>No EntityManager with actual transaction available for current thread - cannot reliably process 'remove' call; nested exception is javax.persistence.TransactionRequiredException</em>\" exception.</p>\n\n<p>Ok, I can solve it by marking the service <strong>or</strong> <em>deleteByEmail(..)</em> method as transactional, but I just can't understand why it crashes now. Spring documentation explicitly states that \"<em>CRUD methods on repository instances are transactional by default.</em>\" (<a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#transactions\" rel=\"noreferrer\">http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#transactions</a>), but apparently this one is not... So Is this statement related to only members of <code>CrudRepository</code>?</p>\n\n<p>ps: that's for Spring Data JPA 1.9.4</p>\n"},{"tags":["java","spring","aws-lambda"],"comments":[{"owner":{"account_id":1779790,"reputation":1186,"user_id":1622825,"accept_rate":43,"display_name":"Ertai87"},"score":0,"creation_date":1582213126,"post_id":60309632,"comment_id":106707373,"body_markdown":"According to that tutorial and the associated sample code (which is linked in the question), I don&#39;t need a handler class.  I did find yet a 3rd tutorial ( https://dzone.com/articles/run-code-with-spring-cloud-function-on-aws-lambda ) which said I did, however, although when I tried it it still failed, with the same error IIRC.","body":"According to that tutorial and the associated sample code (which is linked in the question), I don&#39;t need a handler class.  I did find yet a 3rd tutorial ( <a href=\"https://dzone.com/articles/run-code-with-spring-cloud-function-on-aws-lambda\" rel=\"nofollow noreferrer\">dzone.com/articles/&hellip;</a> ) which said I did, however, although when I tried it it still failed, with the same error IIRC."},{"owner":{"account_id":12146145,"reputation":2332,"user_id":8868419,"display_name":"Matteo"},"score":1,"creation_date":1618318739,"post_id":60309632,"comment_id":118561149,"body_markdown":"have you ever solved this issue?","body":"have you ever solved this issue?"}],"answers":[{"tags":[],"owner":{"account_id":75551,"reputation":323,"user_id":216661,"accept_rate":86,"display_name":"user216661"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582571943,"creation_date":1582571943,"answer_id":60382585,"question_id":60309632,"body_markdown":"I&#39;m experiencing the same issue. According to this link, https://github.com/spring-cloud/spring-cloud-function/issues/439, Spring Cloud Function version 3.0.2 may address your issue.","title":"AWS Lambda with Java Spring","body":"<p>I'm experiencing the same issue. According to this link, <a href=\"https://github.com/spring-cloud/spring-cloud-function/issues/439\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-function/issues/439</a>, Spring Cloud Function version 3.0.2 may address your issue.</p>\n"},{"tags":[],"owner":{"account_id":14425260,"reputation":182,"user_id":10420227,"display_name":"Amir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656927362,"creation_date":1656927362,"answer_id":72854619,"question_id":60309632,"body_markdown":"aws lambda update-function-configuration --function-name testFunction--environment &quot;Variables={MAIN_CLASS=path.to.mainClass}&quot; ","title":"AWS Lambda with Java Spring","body":"<p>aws lambda update-function-configuration --function-name testFunction--environment &quot;Variables={MAIN_CLASS=path.to.mainClass}&quot;</p>\n"},{"tags":[],"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679077613,"creation_date":1679077613,"answer_id":75770978,"question_id":60309632,"body_markdown":"you have to add the Main-Class inside of the ```MANIFEST.MF``` file.\r\nif you have no this folder and file in your project, you can create by yourself.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yRW5L.png","title":"AWS Lambda with Java Spring","body":"<p>you have to add the Main-Class inside of the <code>MANIFEST.MF</code> file.\nif you have no this folder and file in your project, you can create by yourself.</p>\n<p><a href=\"https://i.stack.imgur.com/yRW5L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yRW5L.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1779790,"reputation":1186,"user_id":1622825,"accept_rate":43,"display_name":"Ertai87"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3352,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1679077613,"creation_date":1582148244,"question_id":60309632,"body_markdown":"I&#39;m trying to implement an AWS Lambda service using Java Spring.  I&#39;ve gone through a whole bunch of tutorials which have told me a whole bunch of ways to do it, but I can&#39;t get it to work.\r\n\r\nThe main problem I&#39;m having is that the AWS Lambda library requires classes to have zero-arg constructors, which makes it difficult to use the Spring IOC container.  I found [a tutorial][1] which has a workaround for that and is able to inject my Spring beans into the class after creation, but that approach doesn&#39;t seem to work for bean instantiations of anonymous classes created from defined interfaces (e.g. Spring Data Repositories), which is something my application uses.\r\n\r\nI found [a tutorial][2] on the Spring wrapper for the AWS lambda library, but that also doesn&#39;t seem to work; I think I&#39;ve copied their code more or less properly from [their sample code][3], but when I run it on Lambda I get the following error:\r\n\r\n```\r\nSTART RequestId: d9e62756-e72b-45f0-8df4-2164f3979dd7 Version: $LATEST\r\nFailed to discover main class. An attempt was made to discover main class as &#39;MAIN_CLASS&#39; environment variable, system property as well as entry in META-INF/MANIFEST.MF (in that order).: java.lang.IllegalStateException\r\njava.lang.IllegalStateException: Failed to discover main class. An attempt was made to discover main class as &#39;MAIN_CLASS&#39; environment variable, system property as well as entry in META-INF/MANIFEST.MF (in that order).\r\n\tat org.springframework.cloud.function.utils.FunctionClassUtils.getStartClass(FunctionClassUtils.java:83)\r\n\tat org.springframework.cloud.function.utils.FunctionClassUtils.getStartClass(FunctionClassUtils.java:60)\r\n\tat org.springframework.cloud.function.adapter.aws.FunctionInvoker.start(FunctionInvoker.java:104)\r\n\tat org.springframework.cloud.function.adapter.aws.FunctionInvoker.&lt;init&gt;(FunctionInvoker.java:70)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n```\r\n\r\nHere&#39;s my code:\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;JobsTest&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-function-adapter-aws&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-lambda-java-events&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skip&gt;true&lt;/skip&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n                    &lt;shadedClassifierName&gt;aws&lt;/shadedClassifierName&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nJobTestApplication.java (a sample PoC application I&#39;m using to try to get this dang thing working, then I&#39;m going to add more advanced features to it one by one):\r\n```\r\npackage jobtest;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\nimport java.util.function.Function;\r\n\r\n@SpringBootApplication\r\npublic class JobTestApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(JobTestApplication.class, args);\r\n    }\r\n\r\n    @Bean\r\n    public Function&lt;Object, String&gt; uppercase() {\r\n        return input -&gt; &quot;Hello World!&quot;;\r\n    }\r\n}\r\n```\r\n\r\nCan someone explain to me what I&#39;m doing wrong?  I&#39;ve spent 2 and a half days on this and I can&#39;t figure it out.  Thanks.\r\n\r\n  [1]: https://www.profit4cloud.nl/blog/just-spring-enabled-aws-lambdas/\r\n  [2]: https://cloud.spring.io/spring-cloud-function/reference/html/spring-cloud-function.html#_serverless_platform_adapters\r\n  [3]: https://github.com/spring-cloud/spring-cloud-function/tree/master/spring-cloud-function-samples/function-sample-aws","title":"AWS Lambda with Java Spring","body":"<p>I'm trying to implement an AWS Lambda service using Java Spring.  I've gone through a whole bunch of tutorials which have told me a whole bunch of ways to do it, but I can't get it to work.</p>\n\n<p>The main problem I'm having is that the AWS Lambda library requires classes to have zero-arg constructors, which makes it difficult to use the Spring IOC container.  I found <a href=\"https://www.profit4cloud.nl/blog/just-spring-enabled-aws-lambdas/\" rel=\"nofollow noreferrer\">a tutorial</a> which has a workaround for that and is able to inject my Spring beans into the class after creation, but that approach doesn't seem to work for bean instantiations of anonymous classes created from defined interfaces (e.g. Spring Data Repositories), which is something my application uses.</p>\n\n<p>I found <a href=\"https://cloud.spring.io/spring-cloud-function/reference/html/spring-cloud-function.html#_serverless_platform_adapters\" rel=\"nofollow noreferrer\">a tutorial</a> on the Spring wrapper for the AWS lambda library, but that also doesn't seem to work; I think I've copied their code more or less properly from <a href=\"https://github.com/spring-cloud/spring-cloud-function/tree/master/spring-cloud-function-samples/function-sample-aws\" rel=\"nofollow noreferrer\">their sample code</a>, but when I run it on Lambda I get the following error:</p>\n\n<pre><code>START RequestId: d9e62756-e72b-45f0-8df4-2164f3979dd7 Version: $LATEST\nFailed to discover main class. An attempt was made to discover main class as 'MAIN_CLASS' environment variable, system property as well as entry in META-INF/MANIFEST.MF (in that order).: java.lang.IllegalStateException\njava.lang.IllegalStateException: Failed to discover main class. An attempt was made to discover main class as 'MAIN_CLASS' environment variable, system property as well as entry in META-INF/MANIFEST.MF (in that order).\n    at org.springframework.cloud.function.utils.FunctionClassUtils.getStartClass(FunctionClassUtils.java:83)\n    at org.springframework.cloud.function.utils.FunctionClassUtils.getStartClass(FunctionClassUtils.java:60)\n    at org.springframework.cloud.function.adapter.aws.FunctionInvoker.start(FunctionInvoker.java:104)\n    at org.springframework.cloud.function.adapter.aws.FunctionInvoker.&lt;init&gt;(FunctionInvoker.java:70)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n</code></pre>\n\n<p>Here's my code:</p>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;JobsTest&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-function-adapter-aws&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-lambda-java-events&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;true&lt;/skip&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                    &lt;shadedClassifierName&gt;aws&lt;/shadedClassifierName&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>JobTestApplication.java (a sample PoC application I'm using to try to get this dang thing working, then I'm going to add more advanced features to it one by one):</p>\n\n<pre><code>package jobtest;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\n\nimport java.util.function.Function;\n\n@SpringBootApplication\npublic class JobTestApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(JobTestApplication.class, args);\n    }\n\n    @Bean\n    public Function&lt;Object, String&gt; uppercase() {\n        return input -&gt; \"Hello World!\";\n    }\n}\n</code></pre>\n\n<p>Can someone explain to me what I'm doing wrong?  I've spent 2 and a half days on this and I can't figure it out.  Thanks.</p>\n"},{"tags":["java","angularjs","json","spring","rest"],"comments":[{"owner":{"account_id":2102773,"reputation":19013,"user_id":1869933,"accept_rate":88,"display_name":"Koitoer"},"score":0,"creation_date":1457025281,"post_id":35778628,"comment_id":59229016,"body_markdown":"What is the error getting from the server, I meant the stacktrace is something like MessageConverter issue ?","body":"What is the error getting from the server, I meant the stacktrace is something like MessageConverter issue ?"}],"answers":[{"comments":[{"owner":{"account_id":6099691,"reputation":529,"user_id":4759123,"accept_rate":80,"display_name":"Carloshf"},"score":0,"creation_date":1457026205,"post_id":35778835,"comment_id":59229641,"body_markdown":"how can I enable the DEBUG on wildfly? had never done it before... But seeing the error probably would be helpful.","body":"how can I enable the DEBUG on wildfly? had never done it before... But seeing the error probably would be helpful."},{"owner":{"account_id":2451143,"reputation":4408,"user_id":2137417,"accept_rate":75,"display_name":"jstuartmilne"},"score":0,"creation_date":1457026336,"post_id":35778835,"comment_id":59229721,"body_markdown":"are you using spring-boot?","body":"are you using spring-boot?"},{"owner":{"account_id":6099691,"reputation":529,"user_id":4759123,"accept_rate":80,"display_name":"Carloshf"},"score":0,"creation_date":1457026551,"post_id":35778835,"comment_id":59229834,"body_markdown":"I dont know what is that, I am only using eclipse with a wildfly server.","body":"I dont know what is that, I am only using eclipse with a wildfly server."},{"owner":{"account_id":2451143,"reputation":4408,"user_id":2137417,"accept_rate":75,"display_name":"jstuartmilne"},"score":0,"creation_date":1457026796,"post_id":35778835,"comment_id":59229987,"body_markdown":"Take a look at this http://www.mkyong.com/spring-mvc/spring-mvc-log4j-integration-example/. However to resolve your above problem you can try manually Serializing/Deserializing your object. Just to check that works as expected","body":"Take a look at this <a href=\"http://www.mkyong.com/spring-mvc/spring-mvc-log4j-integration-example/\" rel=\"nofollow noreferrer\">mkyong.com/spring-mvc/spring-mvc-log4j-integration-example</a>. However to resolve your above problem you can try manually Serializing/Deserializing your object. Just to check that works as expected"},{"owner":{"account_id":6099691,"reputation":529,"user_id":4759123,"accept_rate":80,"display_name":"Carloshf"},"score":0,"creation_date":1457026985,"post_id":35778835,"comment_id":59230104,"body_markdown":"But the thing is that our services are working perfectly for every class, I don&#39;t want to put another layer to deserialize the object... The error must be something silly for sure... We have complex classes with tons of references and on this very simple class with 6 attributes, just does not work :(","body":"But the thing is that our services are working perfectly for every class, I don&#39;t want to put another layer to deserialize the object... The error must be something silly for sure... We have complex classes with tons of references and on this very simple class with 6 attributes, just does not work :("},{"owner":{"account_id":2451143,"reputation":4408,"user_id":2137417,"accept_rate":75,"display_name":"jstuartmilne"},"score":0,"creation_date":1457027673,"post_id":35778835,"comment_id":59230535,"body_markdown":"No layer, Just for testing purpeses. I mean like JUnit. a class just to test if everything is working as expected. You can even errase it afterwords :P. Or even a TEST main method with a sysout. I just want to know if its a jackson problem","body":"No layer, Just for testing purpeses. I mean like JUnit. a class just to test if everything is working as expected. You can even errase it afterwords :P. Or even a TEST main method with a sysout. I just want to know if its a jackson problem"}],"tags":[],"owner":{"account_id":2451143,"reputation":4408,"user_id":2137417,"accept_rate":75,"display_name":"jstuartmilne"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457025794,"creation_date":1457025794,"answer_id":35778835,"question_id":35778628,"body_markdown":"If I were to guess, jackson is failing in deserializing/serializing your object. Here is an util I made:\r\n\r\n\r\n    import java.io.IOException;\r\n    import java.nio.charset.Charset;\r\n    \r\n    import org.springframework.http.MediaType;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonInclude.Include;\r\n    import com.fasterxml.jackson.core.JsonParseException;\r\n    import com.fasterxml.jackson.databind.JsonMappingException;\r\n    import com.fasterxml.jackson.databind.JsonSerializer;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.module.SimpleModule;\r\n    \r\n    public class SerializeDeserializeUtil {\r\n    \r\n    \tpublic static final MediaType APPLICATION_JSON_UTF8 = new MediaType(\r\n    \t\t\tMediaType.APPLICATION_JSON.getType(),\r\n    \t\t\tMediaType.APPLICATION_JSON.getSubtype(), Charset.forName(&quot;utf8&quot;));\r\n    \r\n    \tpublic static byte[] convertObjectToJsonBytes(Object object)\r\n    \t\t\tthrows IOException {\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\tmapper.setSerializationInclusion(Include.NON_NULL);\r\n    \r\n    \t\treturn mapper.writeValueAsBytes(object);\r\n    \r\n    \t}\r\n    \r\n    \tpublic static &lt;T&gt; T deserializeObject(String jsonRepresentation,\r\n    \t\t\tClass&lt;T&gt; clazz) throws JsonParseException, JsonMappingException,\r\n    \t\t\tIOException {\r\n    \r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \r\n    \t\tObject obj = mapper.readValue(jsonRepresentation.getBytes(), clazz);\r\n    \r\n    \t\treturn clazz.cast(obj);\r\n    \t}\r\n    \r\n    \t\r\n    \t@SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\r\n    \tpublic static byte[] convertObjectToJsonBytesWithCustomSerializer(\r\n    \t\t\tObject object, JsonSerializer serializer, Class clazz)\r\n    \t\t\tthrows IOException {\r\n    \r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \r\n    \t\tSimpleModule sm = new SimpleModule();\r\n    \t\tsm.addSerializer(clazz, serializer);\r\n    \r\n    \t\tmapper.registerModule(sm);\r\n    \t\tmapper.setSerializationInclusion(Include.NON_NULL);\r\n    \r\n    \t\treturn mapper.writeValueAsBytes(object);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nTry creating a test just to serialize and deserialize the objec. create a  KeyProfileUserSummary object and try deserializing/serializing too see if jackson complains.\r\n\r\n\r\nA more easier way is to enable DEBUG logging and checking the log file, by default you don&#39;t get to see this kind of errors\r\n\r\nHope it helps.","title":"@RequestBody not working on Rest service","body":"<p>If I were to guess, jackson is failing in deserializing/serializing your object. Here is an util I made:</p>\n\n<pre><code>import java.io.IOException;\nimport java.nio.charset.Charset;\n\nimport org.springframework.http.MediaType;\n\nimport com.fasterxml.jackson.annotation.JsonInclude.Include;\nimport com.fasterxml.jackson.core.JsonParseException;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\n\npublic class SerializeDeserializeUtil {\n\n    public static final MediaType APPLICATION_JSON_UTF8 = new MediaType(\n            MediaType.APPLICATION_JSON.getType(),\n            MediaType.APPLICATION_JSON.getSubtype(), Charset.forName(\"utf8\"));\n\n    public static byte[] convertObjectToJsonBytes(Object object)\n            throws IOException {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.setSerializationInclusion(Include.NON_NULL);\n\n        return mapper.writeValueAsBytes(object);\n\n    }\n\n    public static &lt;T&gt; T deserializeObject(String jsonRepresentation,\n            Class&lt;T&gt; clazz) throws JsonParseException, JsonMappingException,\n            IOException {\n\n        ObjectMapper mapper = new ObjectMapper();\n\n        Object obj = mapper.readValue(jsonRepresentation.getBytes(), clazz);\n\n        return clazz.cast(obj);\n    }\n\n\n    @SuppressWarnings({ \"unchecked\", \"rawtypes\" })\n    public static byte[] convertObjectToJsonBytesWithCustomSerializer(\n            Object object, JsonSerializer serializer, Class clazz)\n            throws IOException {\n\n        ObjectMapper mapper = new ObjectMapper();\n\n        SimpleModule sm = new SimpleModule();\n        sm.addSerializer(clazz, serializer);\n\n        mapper.registerModule(sm);\n        mapper.setSerializationInclusion(Include.NON_NULL);\n\n        return mapper.writeValueAsBytes(object);\n\n    }\n\n}\n</code></pre>\n\n<p>Try creating a test just to serialize and deserialize the objec. create a  KeyProfileUserSummary object and try deserializing/serializing too see if jackson complains.</p>\n\n<p>A more easier way is to enable DEBUG logging and checking the log file, by default you don't get to see this kind of errors</p>\n\n<p>Hope it helps.</p>\n"},{"comments":[{"owner":{"account_id":6099691,"reputation":529,"user_id":4759123,"accept_rate":80,"display_name":"Carloshf"},"score":0,"creation_date":1457029628,"post_id":35779494,"comment_id":59231692,"body_markdown":"Thanks for the tip, but apparently it does the same. I have the same problem when trying to delete an user with the method DELETE instead of POST, actually I have something very similar to your solution, but I just get the same error 400... And the console does not log anything useful, just the html with the error 400... I guess I will just send the values I want to update as parameters, because this is taking such a lot of time...","body":"Thanks for the tip, but apparently it does the same. I have the same problem when trying to delete an user with the method DELETE instead of POST, actually I have something very similar to your solution, but I just get the same error 400... And the console does not log anything useful, just the html with the error 400... I guess I will just send the values I want to update as parameters, because this is taking such a lot of time..."}],"tags":[],"owner":{"account_id":5694623,"reputation":6528,"user_id":4501480,"accept_rate":55,"display_name":"Vikrant Kashyap"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457027726,"creation_date":1457027726,"answer_id":35779494,"question_id":35778628,"body_markdown":"Try this out.. might be useful for you..\r\n\r\n\r\n    $http({\r\n        method: &#39;POST&#39;,\r\n        url: &#39;http://localhost:8080/keyuser&#39;,\r\n        data: user,\r\n        headers: {\r\n            &#39;Content-Type&#39;: &#39;application/json&#39;,\r\n            &#39;Accept&#39;: &#39;application/json&#39;\r\n        }}).then(function(result) {\r\n               console.log(result);\r\n           }, function(error) {\r\n               console.log(error);\r\n           });","title":"@RequestBody not working on Rest service","body":"<p>Try this out.. might be useful for you..</p>\n\n<pre><code>$http({\n    method: 'POST',\n    url: 'http://localhost:8080/keyuser',\n    data: user,\n    headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n    }}).then(function(result) {\n           console.log(result);\n       }, function(error) {\n           console.log(error);\n       });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6099691,"reputation":529,"user_id":4759123,"accept_rate":80,"display_name":"Carloshf"},"score":0,"creation_date":1457031280,"post_id":35779600,"comment_id":59232639,"body_markdown":"Sorry for my ignorance but I am not so experience on Spring to add Debug, I read some documentation but I have no clue, no application.properties, no log4j file or anything like that. \nAnd about the thing with the enum, that is not the problem, because with KeyProfileUser it works and the enum is sent the same way. I will keep searching for a solution tomorrow, but thanks for the tip, it would be very useful to see something else on the log.","body":"Sorry for my ignorance but I am not so experience on Spring to add Debug, I read some documentation but I have no clue, no application.properties, no log4j file or anything like that.  And about the thing with the enum, that is not the problem, because with KeyProfileUser it works and the enum is sent the same way. I will keep searching for a solution tomorrow, but thanks for the tip, it would be very useful to see something else on the log."},{"owner":{"account_id":3412885,"reputation":21,"user_id":5533547,"display_name":"Nesta"},"score":0,"creation_date":1457032900,"post_id":35779600,"comment_id":59233609,"body_markdown":"what helped me getting my controller to working after having the same problem, was simply adding a get method and see what the controller &quot;thinks&quot; is a valid object. This way i found by missing &quot;s&quot; for the property question**s** ;)","body":"what helped me getting my controller to working after having the same problem, was simply adding a get method and see what the controller &quot;thinks&quot; is a valid object. This way i found by missing &quot;s&quot; for the property question<b>s</b> ;)"},{"owner":{"account_id":3412885,"reputation":21,"user_id":5533547,"display_name":"Nesta"},"score":0,"creation_date":1457084103,"post_id":35779600,"comment_id":59254883,"body_markdown":"You can get the exception inside without setting log level to DEBUG if you are able to set a breakpoint inside the DispatcherServlet. For me (spring 3.2.9) it&#39;s DispatcherServlet ``private void processDispatchResult`` line number 993.\nJust search for a &quot;logger.isDebugEnabled()&quot; inside the dispatcher servlet.","body":"You can get the exception inside without setting log level to DEBUG if you are able to set a breakpoint inside the DispatcherServlet. For me (spring 3.2.9) it&#39;s DispatcherServlet <code>private void processDispatchResult</code> line number 993. Just search for a &quot;logger.isDebugEnabled()&quot; inside the dispatcher servlet."},{"owner":{"account_id":6099691,"reputation":529,"user_id":4759123,"accept_rate":80,"display_name":"Carloshf"},"score":0,"creation_date":1457086790,"post_id":35779600,"comment_id":59256733,"body_markdown":"I found the solution!! Setting debugger to DEBUG did not show anything different (maybe I did something wrong) but setting there a breakpoint let me see the problem! Thanks a lot, I really spent lot of time to find this out!","body":"I found the solution!! Setting debugger to DEBUG did not show anything different (maybe I did something wrong) but setting there a breakpoint let me see the problem! Thanks a lot, I really spent lot of time to find this out!"}],"tags":[],"owner":{"account_id":3412885,"reputation":21,"user_id":5533547,"display_name":"Nesta"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457028017,"creation_date":1457028017,"answer_id":35779600,"question_id":35778628,"body_markdown":"\r\nIf you add DEBUG logging for &quot;org.springframework.web&quot; org.springframework.web.servlet.DispatcherServlet should give you detailed information what causes the &quot;400 Bad Request&quot; error.\r\n\r\nDetails about Wildfly logging configuration can be found [here][1]\r\n\r\nBased on your KeyProfileUserSummary class i guess the problem is the UserRole object which ist just ``userRole=ROLE_USER`` in the example above. As it is an object it should be enclosd by curly braces and the property name must be set. e.g. something like\r\n\r\n    userRole = { name = &quot;ROLE_USER&quot;}\r\n\r\nIf it is an enum,  [this][2] answer might be helpful\r\n\r\n  [1]: https://docs.jboss.org/author/display/WFLY8/Logging+Configuration\r\n  [2]: https://stackoverflow.com/questions/12468764/jackson-enum-serializing-and-deserializer","title":"@RequestBody not working on Rest service","body":"<p>If you add DEBUG logging for \"org.springframework.web\" org.springframework.web.servlet.DispatcherServlet should give you detailed information what causes the \"400 Bad Request\" error.</p>\n\n<p>Details about Wildfly logging configuration can be found <a href=\"https://docs.jboss.org/author/display/WFLY8/Logging+Configuration\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Based on your KeyProfileUserSummary class i guess the problem is the UserRole object which ist just <code>userRole=ROLE_USER</code> in the example above. As it is an object it should be enclosd by curly braces and the property name must be set. e.g. something like</p>\n\n<pre><code>userRole = { name = \"ROLE_USER\"}\n</code></pre>\n\n<p>If it is an enum,  <a href=\"https://stackoverflow.com/questions/12468764/jackson-enum-serializing-and-deserializer\">this</a> answer might be helpful</p>\n"},{"comments":[{"owner":{"account_id":1656808,"reputation":2475,"user_id":1526139,"accept_rate":25,"display_name":"Yauhen"},"score":0,"creation_date":1537196963,"post_id":35793573,"comment_id":91686181,"body_markdown":"Thank you very much! Helped me by adding default constructor for a field class inside exposed dto","body":"Thank you very much! Helped me by adding default constructor for a field class inside exposed dto"}],"tags":[],"owner":{"account_id":6099691,"reputation":529,"user_id":4759123,"accept_rate":80,"display_name":"Carloshf"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1457087069,"creation_date":1457087069,"answer_id":35793573,"question_id":35778628,"body_markdown":"Ok so finally I found the solution.\r\n\r\nIn my KeyProfileUserSummary I only had one constructor that was taking a KeyProfileUser and set the attributes to the summary version:\r\n\r\n    public KeyProfileUserSummary(KeyProfileUser keyProfileUser) {\r\n      this.id = keyProfileUser.getId();\r\n      this.login = keyProfileUser.getLogin();\r\n      this.password = keyProfileUser.getPassword();\r\n      this.firstname = keyProfileUser.getPerson().getFirstname();\r\n      this.lastname = keyProfileUser.getPerson().getLastname();\r\n      this.userRole = keyProfileUser.getUserRole();\r\n    }\r\nAnd apparently, setting a **breakpoint in line 993 of the dispatchler servlet** (thanks to @Clemens Eberwein for the tip) I realised that when parsing from a JSON object, the Jackson parser **needs an empty constructor**! So adding it solved it and works perfectly.\r\n\r\nNote: for KeyProfileUser, it was working perfectly as we had the annotation @Entity for hibernate, and therefore the empty constructor was automatically created.","title":"@RequestBody not working on Rest service","body":"<p>Ok so finally I found the solution.</p>\n\n<p>In my KeyProfileUserSummary I only had one constructor that was taking a KeyProfileUser and set the attributes to the summary version:</p>\n\n<pre><code>public KeyProfileUserSummary(KeyProfileUser keyProfileUser) {\n  this.id = keyProfileUser.getId();\n  this.login = keyProfileUser.getLogin();\n  this.password = keyProfileUser.getPassword();\n  this.firstname = keyProfileUser.getPerson().getFirstname();\n  this.lastname = keyProfileUser.getPerson().getLastname();\n  this.userRole = keyProfileUser.getUserRole();\n}\n</code></pre>\n\n<p>And apparently, setting a <strong>breakpoint in line 993 of the dispatchler servlet</strong> (thanks to @Clemens Eberwein for the tip) I realised that when parsing from a JSON object, the Jackson parser <strong>needs an empty constructor</strong>! So adding it solved it and works perfectly.</p>\n\n<p>Note: for KeyProfileUser, it was working perfectly as we had the annotation @Entity for hibernate, and therefore the empty constructor was automatically created.</p>\n"},{"tags":[],"owner":{"account_id":15845590,"reputation":331,"user_id":11432986,"display_name":"brando f"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679077268,"creation_date":1679077268,"answer_id":75770932,"question_id":35778628,"body_markdown":"I had a similar problem since our project was set up to read json in snake case instead of camel case","title":"@RequestBody not working on Rest service","body":"<p>I had a similar problem since our project was set up to read json in snake case instead of camel case</p>\n"}],"owner":{"account_id":6099691,"reputation":529,"user_id":4759123,"accept_rate":80,"display_name":"Carloshf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15030,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":35793573,"answer_count":5,"score":7,"last_activity_date":1679077268,"creation_date":1457025155,"question_id":35778628,"body_markdown":"I am developing a web application with AngularJS and WildFly using Spring also.\r\n\r\nMy problem is that I am going nuts because the annotation @requestBody appears to work wrong.\r\n\r\nThis is my service:\r\n\r\n    @ResponseBody\r\n    @RequestMapping(value = &quot;/keyuser&quot;, method = RequestMethod.POST,\r\n      consumes = &quot;application/json&quot;)\r\n    public KeyProfileUserSummary updateEmployee(@RequestBody KeyProfileUserSummary keyUser) {\r\n    return null;\r\n    }\r\n\r\nAnd this is are the members of my object KeyProfileUserSummary:\r\n\r\n    private Integer id;\r\n    private String login;\r\n    private String password;\r\n    private String firstname;\r\n    private String lastname;\r\n    private UserRole userRole;\r\n\r\nI don&#39;t know what is going on but I have tested this service with other types of objects and it works perfectly, but when defining KeyProfileUserSummary it is not working, I get ERROR 400 BAD REQUEST. I have tested to set the @RequestBody to &quot;Object&quot; so at least I can see what is coming, and from my front end, I am getting the following:\r\n\r\n    {id=3, login=aa, password=a, firstname=Martin, lastname=M&#252;ller, userRole=ROLE_USER} \r\n\r\nUserRole is an Enum. Important to clearify that KeyProfileUserSummary is just a summary version of KeyProfileUser, but due to all the linked elements I get on the response, I decided to send this lighter class. Testing with KeyProfileUser worked perfectly, I get the JSON object on the Angular side and can send it back.\r\n\r\nOn the Angular side, I am not doing anything with the object. Just receive it on a list, and when pressing an edit button just send the element on the list back. This is the way I am sending it:\r\n\r\n    res = $http.post(&quot;url.../keyuser&quot;, user);\r\n\r\nThe thing is that I had everything working perfectly with KeyProfileUser, but as the database can get really huge and the reference are quite a lot, I decided to switch to this lighter class, but now I only get this ERROR 400 BAD REQUEST... And I am about to hang myself :P\r\n\r\nThanks for your help!","title":"@RequestBody not working on Rest service","body":"<p>I am developing a web application with AngularJS and WildFly using Spring also.</p>\n\n<p>My problem is that I am going nuts because the annotation @requestBody appears to work wrong.</p>\n\n<p>This is my service:</p>\n\n<pre><code>@ResponseBody\n@RequestMapping(value = \"/keyuser\", method = RequestMethod.POST,\n  consumes = \"application/json\")\npublic KeyProfileUserSummary updateEmployee(@RequestBody KeyProfileUserSummary keyUser) {\nreturn null;\n}\n</code></pre>\n\n<p>And this is are the members of my object KeyProfileUserSummary:</p>\n\n<pre><code>private Integer id;\nprivate String login;\nprivate String password;\nprivate String firstname;\nprivate String lastname;\nprivate UserRole userRole;\n</code></pre>\n\n<p>I don't know what is going on but I have tested this service with other types of objects and it works perfectly, but when defining KeyProfileUserSummary it is not working, I get ERROR 400 BAD REQUEST. I have tested to set the @RequestBody to \"Object\" so at least I can see what is coming, and from my front end, I am getting the following:</p>\n\n<pre><code>{id=3, login=aa, password=a, firstname=Martin, lastname=Müller, userRole=ROLE_USER} \n</code></pre>\n\n<p>UserRole is an Enum. Important to clearify that KeyProfileUserSummary is just a summary version of KeyProfileUser, but due to all the linked elements I get on the response, I decided to send this lighter class. Testing with KeyProfileUser worked perfectly, I get the JSON object on the Angular side and can send it back.</p>\n\n<p>On the Angular side, I am not doing anything with the object. Just receive it on a list, and when pressing an edit button just send the element on the list back. This is the way I am sending it:</p>\n\n<pre><code>res = $http.post(\"url.../keyuser\", user);\n</code></pre>\n\n<p>The thing is that I had everything working perfectly with KeyProfileUser, but as the database can get really huge and the reference are quite a lot, I decided to switch to this lighter class, but now I only get this ERROR 400 BAD REQUEST... And I am about to hang myself :P</p>\n\n<p>Thanks for your help!</p>\n"},{"tags":["java","apache-drill"],"answers":[{"tags":[],"owner":{"account_id":990819,"reputation":1234,"user_id":1153953,"accept_rate":75,"display_name":"Dzamo Norton"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1678902459,"creation_date":1678902459,"answer_id":75748385,"question_id":75687332,"body_markdown":"You can configure [the ports that Drillbits bind to][1] to avoid the port conflicts you encountered, but [not yet the IP addresses][2]. Another way to run a Drill cluster on a single machine is to use [the Docker Compose scripts in the Drill source repo][3].\r\n\r\n\r\n  [1]: https://drill.apache.org/docs/ports-used-by-drill/\r\n  [2]: https://issues.apache.org/jira/browse/DRILL-8409\r\n  [3]: https://github.com/apache/drill/tree/master/distribution/docker-cluster-mode","title":"Apache Drill: Multiple Drillbits on same server","body":"<p>You can configure <a href=\"https://drill.apache.org/docs/ports-used-by-drill/\" rel=\"nofollow noreferrer\">the ports that Drillbits bind to</a> to avoid the port conflicts you encountered, but <a href=\"https://issues.apache.org/jira/browse/DRILL-8409\" rel=\"nofollow noreferrer\">not yet the IP addresses</a>. Another way to run a Drill cluster on a single machine is to use <a href=\"https://github.com/apache/drill/tree/master/distribution/docker-cluster-mode\" rel=\"nofollow noreferrer\">the Docker Compose scripts in the Drill source repo</a>.</p>\n"}],"owner":{"account_id":9363679,"reputation":134,"user_id":6949270,"accept_rate":62,"display_name":"ztv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679077110,"creation_date":1678378805,"question_id":75687332,"body_markdown":"I am trying to setup a Drill cluster with multiple Drillbits locally on my computer.\r\n\r\nI have Zookeeper running with three nodes (`192.168.1.2:2181`, `192.168.1.3:2181`, `192.168.1.4:2181`).   \r\n\r\nI have 3 separate config directories containing each different `drill-env.sh` and `drill-override.conf`.   \r\nHere are the main contents of `dril-env.sh`: \r\n```shell\r\nexport DRILL_HOST_NAME=node1\r\nexport DRILL_IDENT_STRING=&quot;node1&quot;\r\nexport DRILL_PID_DIR=${DRILL_PID_DIR:-&quot;&lt;path_to_pid_dir&gt;/pid_dir1/&quot;}\r\n```\r\n```shell\r\nexport DRILL_HOST_NAME=node2\r\nexport DRILL_IDENT_STRING=&quot;node2&quot;\r\nexport DRILL_PID_DIR=${DRILL_PID_DIR:-&quot;&lt;path_to_pid_dir&gt;/pid_dir2/&quot;}\r\n```\r\n```shell\r\nexport DRILL_HOST_NAME=node3\r\nexport DRILL_IDENT_STRING=&quot;node3&quot;\r\nexport DRILL_PID_DIR=${DRILL_PID_DIR:-&quot;&lt;path_to_pid_dir&gt;/pid_dir3/&quot;}\r\n```\r\nand `drill-override.conf`:\r\n```\r\ndrill.exec: {\r\n  cluster-id: &quot;mycluster&quot;,\r\n  zk.connect: &quot;192.168.1.2:2181,192.168.1.3:2181,192.168.1.4:2181&quot;,\r\n}\r\n```\r\n\r\nAlso, I have added in `etc/hosts`:\r\n```\r\n192.168.1.2 node1\r\n192.168.1.3 node2\r\n192.168.1.4 node3\r\n```\r\n\r\nI start the Drillbits using \r\n```shell\r\n/bin/drillbit.sh --config &lt;path_to_conf&gt;/conf1/ start\r\n/bin/drillbit.sh --config &lt;path_to_conf&gt;/conf2/ start\r\n/bin/drillbit.sh --config &lt;path_to_conf&gt;/conf3/ start\r\n```\r\n\r\nHowever, only the first Drillbit starts normally, the other ones fail with following exception:\r\n```\r\nException in thread &quot;main&quot; org.apache.drill.exec.exception.DrillbitStartupException: Failure during initial startup of Drillbit.\r\n\tat org.apache.drill.exec.server.Drillbit.start(Drillbit.java:590)\r\n\tat org.apache.drill.exec.server.Drillbit.start(Drillbit.java:556)\r\n\tat org.apache.drill.exec.server.Drillbit.main(Drillbit.java:552)\r\nCaused by: org.apache.drill.common.exceptions.UserException: RESOURCE ERROR: Drillbit could not bind to port 31010.\r\n\r\nServer type: UserServer\r\n\r\n[Error Id: bb497859-bf3e-43b7-bad7-dfa295122068 ]\r\n\tat org.apache.drill.common.exceptions.UserException$Builder.build(UserException.java:688)\r\n\tat org.apache.drill.exec.rpc.BasicServer.bind(BasicServer.java:211)\r\n\tat org.apache.drill.exec.service.ServiceEngine.start(ServiceEngine.java:100)\r\n\tat org.apache.drill.exec.server.Drillbit.run(Drillbit.java:227)\r\n\tat org.apache.drill.exec.server.Drillbit.start(Drillbit.java:586)\r\n\t... 2 more\r\nCaused by: java.net.BindException: Address already in use\r\n\tat java.base/sun.nio.ch.Net.bind0(Native Method)\r\n\tat java.base/sun.nio.ch.Net.bind(Net.java:555)\r\n```\r\n\r\nAnyone know how I can fix this?\r\n\r\nIs it not pssible to bind a specific IP address to each Drillbit? \r\n\r\nI know that Zookeeper is not a problem since I can use it for my Spark cluster without problems and `zkServer.sh status` shows it&#39;s running.   \r\nI also tried `allow_loopback_address_binding: true`, but same result.   \r\nAlso, I know I could probably just use different ports for each Drillbit, but I&#39;d prefer a solution using the same ports.   \r\n\r\nUpdate:   \r\nApparently they are working on this issue and in the upcoming Drill version 1.21.1, it should be possible to bind the address to Drillbits (https://issues.apache.org/jira/browse/DRILL-8409)","title":"Apache Drill: Multiple Drillbits on same server","body":"<p>I am trying to setup a Drill cluster with multiple Drillbits locally on my computer.</p>\n<p>I have Zookeeper running with three nodes (<code>192.168.1.2:2181</code>, <code>192.168.1.3:2181</code>, <code>192.168.1.4:2181</code>).</p>\n<p>I have 3 separate config directories containing each different <code>drill-env.sh</code> and <code>drill-override.conf</code>.<br />\nHere are the main contents of <code>dril-env.sh</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>export DRILL_HOST_NAME=node1\nexport DRILL_IDENT_STRING=&quot;node1&quot;\nexport DRILL_PID_DIR=${DRILL_PID_DIR:-&quot;&lt;path_to_pid_dir&gt;/pid_dir1/&quot;}\n</code></pre>\n<pre class=\"lang-bash prettyprint-override\"><code>export DRILL_HOST_NAME=node2\nexport DRILL_IDENT_STRING=&quot;node2&quot;\nexport DRILL_PID_DIR=${DRILL_PID_DIR:-&quot;&lt;path_to_pid_dir&gt;/pid_dir2/&quot;}\n</code></pre>\n<pre class=\"lang-bash prettyprint-override\"><code>export DRILL_HOST_NAME=node3\nexport DRILL_IDENT_STRING=&quot;node3&quot;\nexport DRILL_PID_DIR=${DRILL_PID_DIR:-&quot;&lt;path_to_pid_dir&gt;/pid_dir3/&quot;}\n</code></pre>\n<p>and <code>drill-override.conf</code>:</p>\n<pre><code>drill.exec: {\n  cluster-id: &quot;mycluster&quot;,\n  zk.connect: &quot;192.168.1.2:2181,192.168.1.3:2181,192.168.1.4:2181&quot;,\n}\n</code></pre>\n<p>Also, I have added in <code>etc/hosts</code>:</p>\n<pre><code>192.168.1.2 node1\n192.168.1.3 node2\n192.168.1.4 node3\n</code></pre>\n<p>I start the Drillbits using</p>\n<pre class=\"lang-bash prettyprint-override\"><code>/bin/drillbit.sh --config &lt;path_to_conf&gt;/conf1/ start\n/bin/drillbit.sh --config &lt;path_to_conf&gt;/conf2/ start\n/bin/drillbit.sh --config &lt;path_to_conf&gt;/conf3/ start\n</code></pre>\n<p>However, only the first Drillbit starts normally, the other ones fail with following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.drill.exec.exception.DrillbitStartupException: Failure during initial startup of Drillbit.\n    at org.apache.drill.exec.server.Drillbit.start(Drillbit.java:590)\n    at org.apache.drill.exec.server.Drillbit.start(Drillbit.java:556)\n    at org.apache.drill.exec.server.Drillbit.main(Drillbit.java:552)\nCaused by: org.apache.drill.common.exceptions.UserException: RESOURCE ERROR: Drillbit could not bind to port 31010.\n\nServer type: UserServer\n\n[Error Id: bb497859-bf3e-43b7-bad7-dfa295122068 ]\n    at org.apache.drill.common.exceptions.UserException$Builder.build(UserException.java:688)\n    at org.apache.drill.exec.rpc.BasicServer.bind(BasicServer.java:211)\n    at org.apache.drill.exec.service.ServiceEngine.start(ServiceEngine.java:100)\n    at org.apache.drill.exec.server.Drillbit.run(Drillbit.java:227)\n    at org.apache.drill.exec.server.Drillbit.start(Drillbit.java:586)\n    ... 2 more\nCaused by: java.net.BindException: Address already in use\n    at java.base/sun.nio.ch.Net.bind0(Native Method)\n    at java.base/sun.nio.ch.Net.bind(Net.java:555)\n</code></pre>\n<p>Anyone know how I can fix this?</p>\n<p>Is it not pssible to bind a specific IP address to each Drillbit?</p>\n<p>I know that Zookeeper is not a problem since I can use it for my Spark cluster without problems and <code>zkServer.sh status</code> shows it's running.<br />\nI also tried <code>allow_loopback_address_binding: true</code>, but same result.<br />\nAlso, I know I could probably just use different ports for each Drillbit, but I'd prefer a solution using the same ports.</p>\n<p>Update:<br />\nApparently they are working on this issue and in the upcoming Drill version 1.21.1, it should be possible to bind the address to Drillbits (<a href=\"https://issues.apache.org/jira/browse/DRILL-8409\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/DRILL-8409</a>)</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1676492461,"post_id":75463457,"comment_id":133150056,"body_markdown":"For Chrome you check for the existence of .crdownload extension files which would indicate a partial download.  Maybe check this thread: https://stackoverflow.com/questions/48263317/selenium-python-waiting-for-a-download-process-to-complete-using-chrome-web/51575537#51575537","body":"For Chrome you check for the existence of .crdownload extension files which would indicate a partial download.  Maybe check this thread: <a href=\"https://stackoverflow.com/questions/48263317/selenium-python-waiting-for-a-download-process-to-complete-using-chrome-web/51575537#51575537\" title=\"selenium python waiting for a download process to complete using chrome web\">stackoverflow.com/questions/48263317/&hellip;</a>"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1676535693,"post_id":75463457,"comment_id":133157308,"body_markdown":"Check this one https://stackoverflow.com/questions/61707601/how-to-verify-whether-file-downloading-is-completed-before-closing-the-web-drive/61725884#61725884","body":"Check this one <a href=\"https://stackoverflow.com/questions/61707601/how-to-verify-whether-file-downloading-is-completed-before-closing-the-web-drive/61725884#61725884\" title=\"how to verify whether file downloading is completed before closing the web drive\">stackoverflow.com/questions/61707601/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":20723810,"reputation":35,"user_id":15217522,"display_name":"mps"},"score":0,"creation_date":1679715311,"post_id":75768024,"comment_id":133775137,"body_markdown":"File downloaded has dynamic name (random name with each download) hence &quot;PrefixofFilename&quot; cannot be ascertained.","body":"File downloaded has dynamic name (random name with each download) hence &quot;PrefixofFilename&quot; cannot be ascertained."},{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":0,"creation_date":1679749007,"post_id":75768024,"comment_id":133778457,"body_markdown":"@mps if you don&#39;t know  the name then you can delete All the files in download location first and then modify above code to wait until Files count is 1 in the download folder","body":"@mps if you don&#39;t know  the name then you can delete All the files in download location first and then modify above code to wait until Files count is 1 in the download folder"}],"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679076976,"creation_date":1679058919,"answer_id":75768024,"question_id":75463457,"body_markdown":" \r\nYou can do so using a FluentWait ,just change downloadFolderPath value to your downloads folder and Replace PrefixofFilename value\r\n\r\n  \r\n\r\n     String downloadFolderPath = &quot;/Users/user/Downloads/&quot;;\r\n            FluentWait&lt;String&gt; wait = new FluentWait&lt;&gt;(downloadFolderPath)\r\n                    .withTimeout(Duration.ofSeconds(60))\r\n                    .pollingEvery(Duration.ofMillis(500));\r\n            wait.until(path -&gt; {\r\n                File[] listFiles = new File(path).listFiles();\r\n    \r\n                for (int i = 0; i &lt; Objects.requireNonNull(listFiles).length; i++) {\r\n    \r\n                    if (listFiles[i].isFile()) {\r\n                        String fileName = listFiles[i].getName();\r\n                        if (fileName.startsWith(&quot;PrefixofFilename&quot;)\r\n                                &amp;&amp; fileName.endsWith(&quot;.xls&quot;)) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n                return false;\r\n            });","title":"How to verify whether file downloading is completed before closing the web driver in java selenium?","body":"<p>You can do so using a FluentWait ,just change downloadFolderPath value to your downloads folder and Replace PrefixofFilename value</p>\n<pre><code> String downloadFolderPath = &quot;/Users/user/Downloads/&quot;;\n        FluentWait&lt;String&gt; wait = new FluentWait&lt;&gt;(downloadFolderPath)\n                .withTimeout(Duration.ofSeconds(60))\n                .pollingEvery(Duration.ofMillis(500));\n        wait.until(path -&gt; {\n            File[] listFiles = new File(path).listFiles();\n\n            for (int i = 0; i &lt; Objects.requireNonNull(listFiles).length; i++) {\n\n                if (listFiles[i].isFile()) {\n                    String fileName = listFiles[i].getName();\n                    if (fileName.startsWith(&quot;PrefixofFilename&quot;)\n                            &amp;&amp; fileName.endsWith(&quot;.xls&quot;)) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        });\n</code></pre>\n"}],"owner":{"account_id":20723810,"reputation":35,"user_id":15217522,"display_name":"mps"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679076976,"creation_date":1676482231,"question_id":75463457,"body_markdown":"I am trying to download a file using java selenium. The download button is clicked and it takes time to initiate and complete the download from the website (time of download depends on size of file and speed of net).\r\n\r\nHowever, the next code is executed immediately after the code `driver.findElement(By.xpath(&quot;//*[@id=&#39;downloadReport&#39;]/div&quot;)).click();` without waiting for download to complete.\r\n\r\nThe file name is dynamic (different file name based on search data extracted from excel sheet SearchData.xls\r\n\r\nAny help is highly appreciated.\r\n\r\nThe code is as under:-\r\n\r\n    package Basic;\r\n    \r\n    import java.awt.AWTException;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.time.Duration;\r\n    import java.util.Calendar;\r\n    \r\n    import org.apache.commons.io.FileUtils;\r\n    import org.apache.poi.hssf.usermodel.HSSFSheet;\r\n    import org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.OutputType;\r\n    import org.openqa.selenium.TakesScreenshot;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.edge.EdgeDriver;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    \r\n    public class sftest2 {\r\n    \r\n    public static void main(String[] args) throws IOException, InterruptedException, AWTException {\r\n    System.setProperty(&quot;webdriver.edge.driver&quot;, &quot;D:\\\\Installer\\\\msedgedriver.exe&quot;);\r\n    File file =    new File(&quot;D:\\\\SearchData\\\\SearchData.xls&quot;);\r\n    FileInputStream inputStream = new FileInputStream(file);\r\n    HSSFWorkbook wb=new HSSFWorkbook(inputStream);\r\n    HSSFSheet sheet=wb.getSheet(&quot;SF_NSF&quot;);\r\n    int rowCount=sheet.getLastRowNum()-sheet.getFirstRowNum();\r\n    WebDriver driver = new EdgeDriver();\r\n    driver.manage().window().maximize();\r\n    driver.get(&quot;https://******************&quot;);\r\n    driver.navigate().to(&quot;https://******************************&quot;);\r\n    for(int i=1;i&lt;=rowCount;i++) {\r\n    driver.findElement(By.name(&quot;cAccount&quot;)).sendKeys(&quot;Search&quot;);\r\n    driver.findElement(By.xpath(&quot;//*[@id=&#39;abcSearchAction&#39;]/div[1]/div[3]/div[4]/img&quot;)).click();\r\n    WebElement bName=driver.findElement(By.id(&quot;bName&quot;));\r\n    borrowerName.sendKeys(sheet.getRow(i).getCell(0).getStringCellValue());\r\n    driver.findElement(By.xpath(&quot;//*[@id=&#39;search-button&#39;]/ul/li[1]/div/input&quot;)).click();\r\n    Thread.sleep(2000);\r\n    driver.navigate().refresh();\r\n    WebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(20));\r\n    wait.until(ExpectedConditions.invisibilityOfElementLocated(By.xpath(&quot;//*[@id=\\&#39;load_projectTable\\&#39;]&quot;)));\r\n    if(driver.getPageSource().contains(&quot;View 1 -&quot;))\r\n    {\r\n    driver.findElement(By.xpath(&quot;//*[@id=&#39;downloadReport&#39;]/div&quot;)).click();\r\n    Thread.sleep(50000); // Doesnot want to wait for specified time, the next code should execute immediately after complete download of file called through above code\r\n    driver.findElement(By.xpath(&quot;//*[@id=&#39;footer-container&#39;]/div[3]/a&quot;)).click();\r\n    }\r\n    \r\n    else\r\n    {\r\n    //driver.findElement(By.xpath(&quot;//*[@id=&#39;three-icons&#39;]/ul/li[3]/a/div&quot;)).click();\r\n    Calendar cal = Calendar.getInstance();\r\n    java.util.Date time = cal.getTime();\r\n    String timestamp = time.toString().replace(&quot;:&quot;, &quot;&quot;).replace(&quot; &quot;, &quot;&quot;);\r\n    System.out.println(time);\r\n    System.out.println(timestamp);\r\n    TakesScreenshot ts = (TakesScreenshot)driver;\r\n    File src=ts.getScreenshotAs(OutputType.FILE);\r\n    File trg=new File(&quot;.\\\\screenshots\\\\SF_1Cr_B_Search_&quot;+timestamp+&quot;.png&quot;);\r\n    FileUtils.copyFile(src,trg);\r\n    //Thread.sleep(1000);\r\n    driver.findElement(By.xpath(&quot;//*[@id=&#39;footer-container&#39;]/div[3]/a&quot;)).click();\r\n    }\r\n    }\r\n    //Close the workbook\r\n    wb.close();\r\n    //Quit the driver\r\n    driver.quit();        \r\n    }\r\n    }","title":"How to verify whether file downloading is completed before closing the web driver in java selenium?","body":"<p>I am trying to download a file using java selenium. The download button is clicked and it takes time to initiate and complete the download from the website (time of download depends on size of file and speed of net).</p>\n<p>However, the next code is executed immediately after the code <code>driver.findElement(By.xpath(&quot;//*[@id='downloadReport']/div&quot;)).click();</code> without waiting for download to complete.</p>\n<p>The file name is dynamic (different file name based on search data extracted from excel sheet SearchData.xls</p>\n<p>Any help is highly appreciated.</p>\n<p>The code is as under:-</p>\n<pre><code>package Basic;\n\nimport java.awt.AWTException;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.time.Duration;\nimport java.util.Calendar;\n\nimport org.apache.commons.io.FileUtils;\nimport org.apache.poi.hssf.usermodel.HSSFSheet;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.edge.EdgeDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\npublic class sftest2 {\n\npublic static void main(String[] args) throws IOException, InterruptedException, AWTException {\nSystem.setProperty(&quot;webdriver.edge.driver&quot;, &quot;D:\\\\Installer\\\\msedgedriver.exe&quot;);\nFile file =    new File(&quot;D:\\\\SearchData\\\\SearchData.xls&quot;);\nFileInputStream inputStream = new FileInputStream(file);\nHSSFWorkbook wb=new HSSFWorkbook(inputStream);\nHSSFSheet sheet=wb.getSheet(&quot;SF_NSF&quot;);\nint rowCount=sheet.getLastRowNum()-sheet.getFirstRowNum();\nWebDriver driver = new EdgeDriver();\ndriver.manage().window().maximize();\ndriver.get(&quot;https://******************&quot;);\ndriver.navigate().to(&quot;https://******************************&quot;);\nfor(int i=1;i&lt;=rowCount;i++) {\ndriver.findElement(By.name(&quot;cAccount&quot;)).sendKeys(&quot;Search&quot;);\ndriver.findElement(By.xpath(&quot;//*[@id='abcSearchAction']/div[1]/div[3]/div[4]/img&quot;)).click();\nWebElement bName=driver.findElement(By.id(&quot;bName&quot;));\nborrowerName.sendKeys(sheet.getRow(i).getCell(0).getStringCellValue());\ndriver.findElement(By.xpath(&quot;//*[@id='search-button']/ul/li[1]/div/input&quot;)).click();\nThread.sleep(2000);\ndriver.navigate().refresh();\nWebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(20));\nwait.until(ExpectedConditions.invisibilityOfElementLocated(By.xpath(&quot;//*[@id=\\'load_projectTable\\']&quot;)));\nif(driver.getPageSource().contains(&quot;View 1 -&quot;))\n{\ndriver.findElement(By.xpath(&quot;//*[@id='downloadReport']/div&quot;)).click();\nThread.sleep(50000); // Doesnot want to wait for specified time, the next code should execute immediately after complete download of file called through above code\ndriver.findElement(By.xpath(&quot;//*[@id='footer-container']/div[3]/a&quot;)).click();\n}\n\nelse\n{\n//driver.findElement(By.xpath(&quot;//*[@id='three-icons']/ul/li[3]/a/div&quot;)).click();\nCalendar cal = Calendar.getInstance();\njava.util.Date time = cal.getTime();\nString timestamp = time.toString().replace(&quot;:&quot;, &quot;&quot;).replace(&quot; &quot;, &quot;&quot;);\nSystem.out.println(time);\nSystem.out.println(timestamp);\nTakesScreenshot ts = (TakesScreenshot)driver;\nFile src=ts.getScreenshotAs(OutputType.FILE);\nFile trg=new File(&quot;.\\\\screenshots\\\\SF_1Cr_B_Search_&quot;+timestamp+&quot;.png&quot;);\nFileUtils.copyFile(src,trg);\n//Thread.sleep(1000);\ndriver.findElement(By.xpath(&quot;//*[@id='footer-container']/div[3]/a&quot;)).click();\n}\n}\n//Close the workbook\nwb.close();\n//Quit the driver\ndriver.quit();        \n}\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1678855592,"post_id":75740619,"comment_id":133612444,"body_markdown":"I&#39;d start with `mvn dependency:tree`","body":"I&#39;d start with <code>mvn dependency:tree</code>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1678855765,"post_id":75740619,"comment_id":133612461,"body_markdown":"You have two different .jar versions configured into whatever it is that requires one of them, it&#39;s being told to load both when only one is required.! Remove one of those jars.","body":"You have two different .jar versions configured into whatever it is that requires one of them, it&#39;s being told to load both when only one is required.! Remove one of those jars."},{"owner":{"account_id":200169,"reputation":6151,"user_id":445884,"accept_rate":83,"display_name":"coder"},"score":0,"creation_date":1679027154,"post_id":75740619,"comment_id":133650809,"body_markdown":"Thanks tgdavies but I don&#39;t have maven installed.","body":"Thanks tgdavies but I don&#39;t have maven installed."},{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1679044297,"post_id":75740619,"comment_id":133653783,"body_markdown":"Could you please try to remove this line and see if it helps? implementation(&quot;org.jetbrains.kotlinx:kotlinx-serialization-json:1.5.0&quot;)","body":"Could you please try to remove this line and see if it helps? implementation(&quot;org.jetbrains.kotlinx:kotlinx-serialization-&zwnj;&#8203;json:1.5.0&quot;)"},{"owner":{"account_id":200169,"reputation":6151,"user_id":445884,"accept_rate":83,"display_name":"coder"},"score":0,"creation_date":1679064741,"post_id":75740619,"comment_id":133659112,"body_markdown":"Thanks @zomega, I removed that but still have the same exception.","body":"Thanks @zomega, I removed that but still have the same exception."}],"answers":[{"comments":[{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":1,"creation_date":1679055868,"post_id":75766421,"comment_id":133656560,"body_markdown":"In his gradle there is no kotlin-stdlib-jdk*","body":"In his gradle there is no kotlin-stdlib-jdk*"},{"owner":{"account_id":200169,"reputation":6151,"user_id":445884,"accept_rate":83,"display_name":"coder"},"score":0,"creation_date":1679065334,"post_id":75766421,"comment_id":133659303,"body_markdown":"Thanks @VonC!  Excluding kotlin-stdlib-jdk8 resolved my issue...but why was that necessary?","body":"Thanks @VonC!  Excluding kotlin-stdlib-jdk8 resolved my issue...but why was that necessary?"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":1,"creation_date":1679076283,"post_id":75766421,"comment_id":133662225,"body_markdown":"@coder As noted by zomega, there is no  `kotlin-stdlib-jdk*` in your declared direct dependencies. I suspect `kotlin-stdlib-jdk*` was imported indirectly, and excluding its indirect import helped, since `kotlin-stdlib-1.8.10` has already defined the same classes.","body":"@coder As noted by zomega, there is no  <code>kotlin-stdlib-jdk*</code> in your declared direct dependencies. I suspect <code>kotlin-stdlib-jdk*</code> was imported indirectly, and excluding its indirect import helped, since <code>kotlin-stdlib-1.8.10</code> has already defined the same classes."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1679048372,"creation_date":1679048372,"answer_id":75766421,"question_id":75740619,"body_markdown":"The reported conflict is between two versions of Kotlin standard library: `kotlin-stdlib-1.8.10` and `kotlin-stdlib-jdk8-1.7.201`.\r\n\r\nAs [suggested here][1], try and replace the oldest one with:\r\n\r\n``` java\r\n// Align versions of all Kotlin components\r\nimplementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\r\nimplementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;\r\n```\r\n\r\nBut: if you did not even include explicitly these dependencies, then *excluding* `kotlin-stdlib-jdk8` might be enough.  \r\n\r\nAs in this answer, add the following in `build.gradle` (`:app`)\r\n\r\n``` java\r\nconfigurations.implementation {\r\n  exclude group: &#39;org.jetbrains.kotlin&#39;, module: &#39;kotlin-stdlib-jdk8&#39;\r\n}\r\n```\r\n  [1]: https://stackoverflow.com/a/75664860/6309","title":"How do I track down the cause of this duplicate class Exception?","body":"<p>The reported conflict is between two versions of Kotlin standard library: <code>kotlin-stdlib-1.8.10</code> and <code>kotlin-stdlib-jdk8-1.7.201</code>.</p>\n<p>As <a href=\"https://stackoverflow.com/a/75664860/6309\">suggested here</a>, try and replace the oldest one with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Align versions of all Kotlin components\nimplementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\nimplementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;\n</code></pre>\n<p>But: if you did not even include explicitly these dependencies, then <em>excluding</em> <code>kotlin-stdlib-jdk8</code> might be enough.</p>\n<p>As in this answer, add the following in <code>build.gradle</code> (<code>:app</code>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>configurations.implementation {\n  exclude group: 'org.jetbrains.kotlin', module: 'kotlin-stdlib-jdk8'\n}\n</code></pre>\n"}],"owner":{"account_id":200169,"reputation":6151,"user_id":445884,"accept_rate":83,"display_name":"coder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75766421,"answer_count":1,"score":3,"last_activity_date":1679076210,"creation_date":1678855158,"question_id":75740619,"body_markdown":"I&#39;m building my first Android app in Android Studio and a little lost with this issue.\r\n\r\nHere&#39;s my Module build.gradle:\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n    id &#39;com.google.devtools.ksp&#39; version &quot;1.7.21-1.0.8&quot;\r\n    id &#39;org.jetbrains.kotlin.plugin.serialization&#39; version &#39;1.7.20&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.myApp&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.myApp&quot;\r\n        minSdk 24\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        vectorDrawables {\r\n            useSupportLibrary true\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n    buildFeatures {\r\n        compose true\r\n    }\r\n    composeOptions {\r\n        kotlinCompilerExtensionVersion &#39;1.3.2&#39;\r\n    }\r\n    packagingOptions {\r\n        resources {\r\n            excludes += &#39;/META-INF/{AL2.0,LGPL2.1}&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.activity:activity-compose:1.6.1&#39;\r\n    implementation &quot;androidx.compose.material:material:$compose_material_version&quot;\r\n    implementation &quot;androidx.compose.ui:ui:$compose_ui_version&quot;\r\n    implementation &quot;androidx.compose.ui:ui-tooling:$compose_ui_version&quot;\r\n    implementation &quot;androidx.compose.ui:ui-tooling-preview:$compose_ui_version&quot;\r\n    implementation &#39;androidx.compose.material3:material3:1.0.1&#39;\r\n    implementation &#39;androidx.core:core-ktx:1.9.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-runtime-ktx:2.6.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel-compose:2.6.0&#39;\r\n    implementation &quot;androidx.navigation:navigation-compose:2.5.3&quot;\r\n    // Room\r\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    ksp &quot;androidx.room:room-compiler:$room_version&quot;\r\n    implementation &quot;androidx.room:room-ktx:$room_version&quot;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    // Retrofit\r\n    implementation &quot;com.squareup.retrofit2:retrofit:2.9.0&quot;\r\n    // Retrofit with Scalar Converter\r\n    implementation &quot;com.squareup.retrofit2:converter-scalars:2.9.0&quot;\r\n    // Retrofit with Kotlin serialization Converter\r\n    implementation &quot;com.jakewharton.retrofit:retrofit2-kotlinx-serialization-converter:0.8.0&quot;\r\n    implementation &#39;com.squareup.okhttp3:okhttp:5.0.0-alpha.11&#39;\r\n\r\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-serialization-json:1.5.0&quot;)\r\n}\r\n```\r\n\r\n\r\n\r\nHere&#39;s the stack:\r\n\r\n    Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    Duplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    Duplicate class kotlin.io.path.DirectoryEntriesReader found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.ExperimentalPathApi found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.FileVisitorBuilder found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.FileVisitorBuilderImpl found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.FileVisitorImpl found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.LinkFollowing found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.PathNode found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.PathRelativizer found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.PathTreeWalk found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.PathTreeWalk$bfsIterator$1 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.PathTreeWalk$dfsIterator$1 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.PathTreeWalkKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.PathWalkOption found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.PathsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.jdk7.AutoCloseableKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\r\n    Duplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    Duplicate class kotlin.jvm.optionals.OptionalsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    Duplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    Duplicate class kotlin.streams.jdk8.StreamsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    Duplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\r\n    Duplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)","title":"How do I track down the cause of this duplicate class Exception?","body":"<p>I'm building my first Android app in Android Studio and a little lost with this issue.</p>\n<p>Here's my Module build.gradle:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n    id 'com.google.devtools.ksp' version &quot;1.7.21-1.0.8&quot;\n    id 'org.jetbrains.kotlin.plugin.serialization' version '1.7.20'\n}\n\nandroid {\n    namespace 'com.myApp'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.myApp&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        vectorDrawables {\n            useSupportLibrary true\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n    buildFeatures {\n        compose true\n    }\n    composeOptions {\n        kotlinCompilerExtensionVersion '1.3.2'\n    }\n    packagingOptions {\n        resources {\n            excludes += '/META-INF/{AL2.0,LGPL2.1}'\n        }\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.activity:activity-compose:1.6.1'\n    implementation &quot;androidx.compose.material:material:$compose_material_version&quot;\n    implementation &quot;androidx.compose.ui:ui:$compose_ui_version&quot;\n    implementation &quot;androidx.compose.ui:ui-tooling:$compose_ui_version&quot;\n    implementation &quot;androidx.compose.ui:ui-tooling-preview:$compose_ui_version&quot;\n    implementation 'androidx.compose.material3:material3:1.0.1'\n    implementation 'androidx.core:core-ktx:1.9.0'\n    implementation 'androidx.lifecycle:lifecycle-runtime-ktx:2.6.0'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-compose:2.6.0'\n    implementation &quot;androidx.navigation:navigation-compose:2.5.3&quot;\n    // Room\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\n    testImplementation 'junit:junit:4.13.2'\n    ksp &quot;androidx.room:room-compiler:$room_version&quot;\n    implementation &quot;androidx.room:room-ktx:$room_version&quot;\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    // Retrofit\n    implementation &quot;com.squareup.retrofit2:retrofit:2.9.0&quot;\n    // Retrofit with Scalar Converter\n    implementation &quot;com.squareup.retrofit2:converter-scalars:2.9.0&quot;\n    // Retrofit with Kotlin serialization Converter\n    implementation &quot;com.jakewharton.retrofit:retrofit2-kotlinx-serialization-converter:0.8.0&quot;\n    implementation 'com.squareup.okhttp3:okhttp:5.0.0-alpha.11'\n\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-serialization-json:1.5.0&quot;)\n}\n</code></pre>\n<p>Here's the stack:</p>\n<pre><code>Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.io.path.DirectoryEntriesReader found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.ExperimentalPathApi found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.FileVisitorBuilder found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.FileVisitorBuilderImpl found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.FileVisitorImpl found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.LinkFollowing found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathNode found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathRelativizer found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathTreeWalk found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathTreeWalk$bfsIterator$1 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathTreeWalk$dfsIterator$1 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathTreeWalkKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathWalkOption found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.jdk7.AutoCloseableKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.20)\nDuplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.jvm.optionals.OptionalsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\nDuplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.7.20 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.20)\n</code></pre>\n"},{"tags":["java","batch-file"],"answers":[{"comments":[{"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"score":0,"creation_date":1679076144,"post_id":75770689,"comment_id":133662192,"body_markdown":"I forgot about surrounding each parameter with quotes and removing pipe or redirection.","body":"I forgot about surrounding each parameter with quotes and removing pipe or redirection."},{"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"score":0,"creation_date":1679511633,"post_id":75770689,"comment_id":133737021,"body_markdown":"can we use regex to validate against a pipe or input redirection?","body":"can we use regex to validate against a pipe or input redirection?"},{"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"score":0,"creation_date":1679675757,"post_id":75770689,"comment_id":133769448,"body_markdown":"Yes.  The example code I posted above does exactly that with the replaceAll.  That&#39;s a regex as the first param.","body":"Yes.  The example code I posted above does exactly that with the replaceAll.  That&#39;s a regex as the first param."}],"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679076107,"creation_date":1679075431,"answer_id":75770689,"question_id":75770488,"body_markdown":"Well the short answer is to clean the input being sent to the batch script.  Effectively this means the command line parameters.  For example,\r\n\r\n    Process p = Runtime.getRuntime().exec(&quot;runBatch.bat&quot;)\r\n\r\nIf you don&#39;t pass anything to the batch file that is entirely safe because there is nothing the user could manipulate that would make you do something you didn&#39;t intend.  This is assuming the hacker can&#39;t swap out the batch script you run, but that&#39;s attacking something else in your environment  other than your Java software (ie OS, file shares, file permissions, etc).\r\n\r\nThis all depends on what command line parameters you are sending to the batch script.  \r\n\r\n    Process p = Runtime.getRuntime().exec(new String[] { &quot;runBatch.bat&quot;, arg1, arg2 });\r\n\r\nIf arg1 and arg2 could be populated from user input then you&#39;ll need to clean them.  Mostly, I&#39;d be keen to focus of any file paths they could try and mess with.  For example, if you wanted to have them provide information about certain file paths, but that file path shouldn&#39;t escape a root directory then you need to contain the resulting path to that directory.\r\n\r\n```\r\n   File rootDir = new File(&quot;...&quot;)\r\n   File arg1 = new File( userInput )\r\n   File arg2 = new File( userInput )\r\n   \r\n   if( isWithin( rootDir, arg1 ) &amp;&amp; isWithin( rootDir, arg2 ) ) {\r\n      Runtime.getRuntime().exec( new String[] { &quot;runBatch.bat&quot;, arg1, arg2 } )\r\n   }\r\n\r\npublic boolean isWithn( File rootDir, File file ) {\r\n   return arg1. getCanonicalPath().startsWith( rootDir. getCanonicalPath() );\r\n}\r\n```\r\n\r\nI would also make sure you didn&#39;t receive anything like a pipe or input redirection from the input as well.  And I&#39;d surround each argument in double quotes.  Anything that could trigger another executable you weren&#39;t expecting to run.\r\n\r\n```\r\npublic String escapingParameter(String arg) {\r\n    return &#39;&quot;&#39; + arg.replaceAll( &quot;[|&lt;&gt;]&quot;, &quot;&quot; ) + &#39;&quot;&#39;;\r\n}\r\n...\r\n\r\nProcess p = Runtime.getRuntime().exec(new String[] { &quot;runBatch.bat&quot;, \r\n              escapingParameter( arg1 ), \r\n              escapingParameter( arg2 ) \r\n            });\r\n\r\n```\r\n\r\nBeyond that you just need to sanity check other parameters to make sure they are what you expect.","title":"Run a batch file from Java application","body":"<p>Well the short answer is to clean the input being sent to the batch script.  Effectively this means the command line parameters.  For example,</p>\n<pre><code>Process p = Runtime.getRuntime().exec(&quot;runBatch.bat&quot;)\n</code></pre>\n<p>If you don't pass anything to the batch file that is entirely safe because there is nothing the user could manipulate that would make you do something you didn't intend.  This is assuming the hacker can't swap out the batch script you run, but that's attacking something else in your environment  other than your Java software (ie OS, file shares, file permissions, etc).</p>\n<p>This all depends on what command line parameters you are sending to the batch script.</p>\n<pre><code>Process p = Runtime.getRuntime().exec(new String[] { &quot;runBatch.bat&quot;, arg1, arg2 });\n</code></pre>\n<p>If arg1 and arg2 could be populated from user input then you'll need to clean them.  Mostly, I'd be keen to focus of any file paths they could try and mess with.  For example, if you wanted to have them provide information about certain file paths, but that file path shouldn't escape a root directory then you need to contain the resulting path to that directory.</p>\n<pre><code>   File rootDir = new File(&quot;...&quot;)\n   File arg1 = new File( userInput )\n   File arg2 = new File( userInput )\n   \n   if( isWithin( rootDir, arg1 ) &amp;&amp; isWithin( rootDir, arg2 ) ) {\n      Runtime.getRuntime().exec( new String[] { &quot;runBatch.bat&quot;, arg1, arg2 } )\n   }\n\npublic boolean isWithn( File rootDir, File file ) {\n   return arg1. getCanonicalPath().startsWith( rootDir. getCanonicalPath() );\n}\n</code></pre>\n<p>I would also make sure you didn't receive anything like a pipe or input redirection from the input as well.  And I'd surround each argument in double quotes.  Anything that could trigger another executable you weren't expecting to run.</p>\n<pre><code>public String escapingParameter(String arg) {\n    return '&quot;' + arg.replaceAll( &quot;[|&lt;&gt;]&quot;, &quot;&quot; ) + '&quot;';\n}\n...\n\nProcess p = Runtime.getRuntime().exec(new String[] { &quot;runBatch.bat&quot;, \n              escapingParameter( arg1 ), \n              escapingParameter( arg2 ) \n            });\n\n</code></pre>\n<p>Beyond that you just need to sanity check other parameters to make sure they are what you expect.</p>\n"}],"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"closed_date":1679082028,"accepted_answer_id":75770689,"answer_count":1,"score":0,"last_activity_date":1679076107,"creation_date":1679073933,"question_id":75770488,"body_markdown":"I am trying to run a .bat file from my Java application, but I am worried about the command line injection or any other possible attacks that might arise if I run a .bat using a Java application. Is there a secure way that to run a .bat file using a Java application?","title":"Run a batch file from Java application","body":"<p>I am trying to run a .bat file from my Java application, but I am worried about the command line injection or any other possible attacks that might arise if I run a .bat using a Java application. Is there a secure way that to run a .bat file using a Java application?</p>\n"},{"tags":["java","treemap"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679002250,"post_id":75761737,"comment_id":133647494,"body_markdown":"What have you tried, and where are you stuck?","body":"What have you tried, and where are you stuck?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":4,"creation_date":1679002475,"post_id":75761737,"comment_id":133647549,"body_markdown":"`firstMap.keySet().retainAll(secondMap.keySet());` removes from `firstMap` keys not present in `secondMap` (assuming your map can be modified).","body":"<code>firstMap.keySet().retainAll(secondMap.keySet());</code> removes from <code>firstMap</code> keys not present in <code>secondMap</code> (assuming your map can be modified)."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679075897,"creation_date":1679006964,"answer_id":75762300,"question_id":75761737,"body_markdown":"# Use a special `Set` of keys from both `Map` objects\r\n\r\nThe solution applies to any modifiable `Map` class, not just the [`TreeMap`][1] class you mention.\r\n\r\nAs [commented by Pshemo][2], your can do this by way of &#128073; **a set of keys of each map**.\r\n\r\nFirst set up some sample data. We make a modifiable map `x` by using `Map.of` literals syntax for convenience. \r\n\r\n```java\r\nMap &lt; String, String &gt; x =\r\n        new HashMap &lt;&gt;(\r\n                Map.of(\r\n                        &quot;2022&quot; , &quot;11&quot; ,\r\n                        &quot;2023&quot; , &quot;22&quot;\r\n                )\r\n        );\r\n\r\nMap &lt; String, String &gt; y =\r\n        Map.of(\r\n                &quot;2022&quot; , &quot;33&quot;\r\n        );\r\n```\r\n\r\nGet a view on the keys of map `x` as a set. Then remove any entries in that map where the key is not present in a second set, a set of keys from the second map.\r\n\r\n    x.keySet().retainAll( y.keySet() );\r\n\r\nThat call to [`Map::keySet`][3] returns a [`Set`][4] view of the keys contained in the map. **That set is special**, in that it is connected to the map from which it came. To quote the Javadoc:\r\n\r\n&gt;The set supports element removal, which removes the corresponding mapping from the map\r\n\r\nDump to console the before and after state of our map `x`. \r\n\r\n```java\r\nSystem.out.println( &quot;x = &quot; + x );\r\nx.keySet().retainAll( y.keySet() );\r\nSystem.out.println( &quot;x = &quot; + x );\r\n```\r\n\r\nSee this [code run live at Ideone.com][5].\r\n\r\n```none\r\nx = {2023=22, 2022=11}\r\nx = {2022=11}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nBy the way, if that first part of your data is meant to be a calendar year, you could make use of the `java.time.Year` class. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeMap.html\r\n  [2]: https://stackoverflow.com/questions/75761737/how-to-make-two-treemap-with-same-keys-java#comment133647549_75761737\r\n  [3]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#keySet()\r\n  [4]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Set.html\r\n  [5]: https://ideone.com/7fR8gc","title":"How to make two Java maps with same keys, removing entries from the first for keys not present in the second","body":"<h1>Use a special <code>Set</code> of keys from both <code>Map</code> objects</h1>\n<p>The solution applies to any modifiable <code>Map</code> class, not just the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeMap.html\" rel=\"nofollow noreferrer\"><code>TreeMap</code></a> class you mention.</p>\n<p>As <a href=\"https://stackoverflow.com/questions/75761737/how-to-make-two-treemap-with-same-keys-java#comment133647549_75761737\">commented by Pshemo</a>, your can do this by way of 👉 <strong>a set of keys of each map</strong>.</p>\n<p>First set up some sample data. We make a modifiable map <code>x</code> by using <code>Map.of</code> literals syntax for convenience.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map &lt; String, String &gt; x =\n        new HashMap &lt;&gt;(\n                Map.of(\n                        &quot;2022&quot; , &quot;11&quot; ,\n                        &quot;2023&quot; , &quot;22&quot;\n                )\n        );\n\nMap &lt; String, String &gt; y =\n        Map.of(\n                &quot;2022&quot; , &quot;33&quot;\n        );\n</code></pre>\n<p>Get a view on the keys of map <code>x</code> as a set. Then remove any entries in that map where the key is not present in a second set, a set of keys from the second map.</p>\n<pre><code>x.keySet().retainAll( y.keySet() );\n</code></pre>\n<p>That call to <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#keySet()\" rel=\"nofollow noreferrer\"><code>Map::keySet</code></a> returns a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a> view of the keys contained in the map. <strong>That set is special</strong>, in that it is connected to the map from which it came. To quote the Javadoc:</p>\n<blockquote>\n<p>The set supports element removal, which removes the corresponding mapping from the map</p>\n</blockquote>\n<p>Dump to console the before and after state of our map <code>x</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( &quot;x = &quot; + x );\nx.keySet().retainAll( y.keySet() );\nSystem.out.println( &quot;x = &quot; + x );\n</code></pre>\n<p>See this <a href=\"https://ideone.com/7fR8gc\" rel=\"nofollow noreferrer\">code run live at Ideone.com</a>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>x = {2023=22, 2022=11}\nx = {2022=11}\n</code></pre>\n<hr />\n<p>By the way, if that first part of your data is meant to be a calendar year, you could make use of the <code>java.time.Year</code> class.</p>\n"}],"owner":{"account_id":22071120,"reputation":45,"user_id":16332082,"display_name":"Nocturnal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75762300,"answer_count":1,"score":1,"last_activity_date":1679075897,"creation_date":1679001644,"question_id":75761737,"body_markdown":"I have two `TreeMap` like,\r\n\r\n    fisrtMap{\r\n    &quot;2022&quot;: &quot;11&quot;,\r\n    &quot;2023&quot;: &quot;22&quot;\r\n    }\r\n\r\n    secondMap{\r\n    &quot;2022&quot;: &quot;33&quot;\r\n    }\r\n\r\nI want to make the `firstMap` like, \r\n\r\n    fisrtMap{\r\n    &quot;2022&quot;: &quot;11&quot;\r\n    }\r\n\r\nI mean, I need to remove uncommon keys from maps.\r\n","title":"How to make two Java maps with same keys, removing entries from the first for keys not present in the second","body":"<p>I have two <code>TreeMap</code> like,</p>\n<pre><code>fisrtMap{\n&quot;2022&quot;: &quot;11&quot;,\n&quot;2023&quot;: &quot;22&quot;\n}\n\nsecondMap{\n&quot;2022&quot;: &quot;33&quot;\n}\n</code></pre>\n<p>I want to make the <code>firstMap</code> like,</p>\n<pre><code>fisrtMap{\n&quot;2022&quot;: &quot;11&quot;\n}\n</code></pre>\n<p>I mean, I need to remove uncommon keys from maps.</p>\n"},{"tags":["java","javafx","netbeans","java-17","netbeans-13"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1650396270,"post_id":71928637,"comment_id":127104149,"body_markdown":"Edit the question to describe what you did or at least link to a resource that describes it.  Provide full details of your environment (version info for: IDE, JavaFX, JDK, OS).  Provide a [mcve] so the error can be replicated by copy and paste without change or addition.  Provide context on why you are trying to do this and what you expect the output to be.","body":"Edit the question to describe what you did or at least link to a resource that describes it.  Provide full details of your environment (version info for: IDE, JavaFX, JDK, OS).  Provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so the error can be replicated by copy and paste without change or addition.  Provide context on why you are trying to do this and what you expect the output to be."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1650397483,"post_id":71928637,"comment_id":127104517,"body_markdown":"Please don&#39;t post duplicates of your own question.","body":"Please don&#39;t post duplicates of your own question."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1650404283,"post_id":71928637,"comment_id":127106539,"body_markdown":"I reopened your question, but there is no need for personal attacks.","body":"I reopened your question, but there is no need for personal attacks."},{"owner":{"account_id":23880937,"reputation":166,"user_id":17881650,"display_name":"helloworld"},"score":0,"creation_date":1650407596,"post_id":71928637,"comment_id":127107330,"body_markdown":"@jewelsea Absoloutely not personal attack/s. Just stating my opinion about your actions. \nUpdated my question with more information that you&#39;ve required.","body":"@jewelsea Absoloutely not personal attack/s. Just stating my opinion about your actions.  Updated my question with more information that you&#39;ve required."}],"answers":[{"comments":[{"owner":{"account_id":23880937,"reputation":166,"user_id":17881650,"display_name":"helloworld"},"score":0,"creation_date":1650409149,"post_id":71932205,"comment_id":127107628,"body_markdown":"So, I might be wrong, but as I can notice it&#39;s better to start new project and code everything again?","body":"So, I might be wrong, but as I can notice it&#39;s better to start new project and code everything again?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1650409585,"post_id":71932205,"comment_id":127107704,"body_markdown":"It is only your build and packaging which is broken, not all your code, what you choose to do is up to you.","body":"It is only your build and packaging which is broken, not all your code, what you choose to do is up to you."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1650409588,"post_id":71932205,"comment_id":127107705,"body_markdown":"Personally, I would [create a new project in Idea](https://www.jetbrains.com/help/idea/javafx.html), then copy the code into the new project, ensure it works, then learn how to package it either as a [runnable exe](https://stackoverflow.com/questions/69811401/how-to-create-a-standalone-exe-in-java-that-runs-without-an-installer-and-a-jr), or [jlink zip](https://github.com/openjfx/javafx-maven-plugin#javafxjlink-options) or as an [installed app](https://github.com/dlemmermann/JPackageScriptFX).","body":"Personally, I would <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">create a new project in Idea</a>, then copy the code into the new project, ensure it works, then learn how to package it either as a <a href=\"https://stackoverflow.com/questions/69811401/how-to-create-a-standalone-exe-in-java-that-runs-without-an-installer-and-a-jr\">runnable exe</a>, or <a href=\"https://github.com/openjfx/javafx-maven-plugin#javafxjlink-options\" rel=\"nofollow noreferrer\">jlink zip</a> or as an <a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">installed app</a>."},{"owner":{"account_id":23880937,"reputation":166,"user_id":17881650,"display_name":"helloworld"},"score":0,"creation_date":1650409672,"post_id":71932205,"comment_id":127107719,"body_markdown":"Thanks for your help and answer. I appreciate it.","body":"Thanks for your help and answer. I appreciate it."},{"owner":{"account_id":202717,"reputation":830,"user_id":449946,"accept_rate":100,"display_name":"firephil"},"score":2,"creation_date":1671816829,"post_id":71932205,"comment_id":132183511,"body_markdown":"unfortunatelly this method doesnt work anymore, i have a java8 project with many dependencies and it is a pain to convert it to java19.\n\nThe decisions of the java team made javafx a problematic technology to deploy...","body":"unfortunatelly this method doesnt work anymore, i have a java8 project with many dependencies and it is a pain to convert it to java19.  The decisions of the java team made javafx a problematic technology to deploy..."}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":5,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1650410497,"creation_date":1650408932,"answer_id":71932205,"question_id":71928637,"body_markdown":"What you are trying to do is simply not going to work in the way you are trying to do it:\r\n\r\n 1. The NetBeans Package as EXE facility is (currently) obsolete.  \r\n\r\n 2. It will not work with modern Java and JavaFX versions.  \r\n\r\n 3. It uses JavaScript from the JDK which was removed from the JDK in [JDK 15](https://openjdk.java.net/jeps/372).  \r\n\r\n 4. It uses the [javafxpackager tool and ant javafx tasks](https://openjdk.java.net/jeps/311) which no longer exist in the JDK and were replaced by [jpackage](https://openjdk.java.net/jeps/392) in JDK 16.\r\n\r\n 5. It relies on JavaFX being packaged in one large jar on the classpath, which is an unsupported execution configuration since [Java 11](https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdate2018mar-4414431.pdf) when JavaFX was removed from the Oracle JDK distribution and distributed as a set of modules.\r\n\r\n 6. It relies on versions of 3rd party Wix and InnoSetup software that are now obsolete.\r\n\r\nThe [documentation for the NetBeans export to EXE feature][1] states:\r\n\r\n&gt; This tutorial needs a review. You can open a JIRA issue, or edit it in GitHub following these contribution guidelines.\r\n\r\nThe reason it needs a review is that the feature will not work as currently implemented in NetBeans for recent Java and JavaFX versions.  It may work for obsolete Java 8 versions from Oracle, if you can get a hold of the compatible 3rd party software to support its usage.  You would likely need both your app to be written to use Oracle Java 8 and the IDE and application build process to run under Oracle Java 8 (which might not be possible for recent NetBeans versions).\r\n\r\nFor alternatives, study the [packaging resources in the JavaFX tag][2].\r\n\r\n  [1]: https://netbeans.apache.org/kb/docs/java/native_pkg.html\r\n  [2]: https://stackoverflow.com/tags/javafx/info","title":"&quot;Unable to create javax script engine for javascript&quot; error when trying to create EXE file","body":"<p>What you are trying to do is simply not going to work in the way you are trying to do it:</p>\n<ol>\n<li><p>The NetBeans Package as EXE facility is (currently) obsolete.</p>\n</li>\n<li><p>It will not work with modern Java and JavaFX versions.</p>\n</li>\n<li><p>It uses JavaScript from the JDK which was removed from the JDK in <a href=\"https://openjdk.java.net/jeps/372\" rel=\"noreferrer\">JDK 15</a>.</p>\n</li>\n<li><p>It uses the <a href=\"https://openjdk.java.net/jeps/311\" rel=\"noreferrer\">javafxpackager tool and ant javafx tasks</a> which no longer exist in the JDK and were replaced by <a href=\"https://openjdk.java.net/jeps/392\" rel=\"noreferrer\">jpackage</a> in JDK 16.</p>\n</li>\n<li><p>It relies on JavaFX being packaged in one large jar on the classpath, which is an unsupported execution configuration since <a href=\"https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdate2018mar-4414431.pdf\" rel=\"noreferrer\">Java 11</a> when JavaFX was removed from the Oracle JDK distribution and distributed as a set of modules.</p>\n</li>\n<li><p>It relies on versions of 3rd party Wix and InnoSetup software that are now obsolete.</p>\n</li>\n</ol>\n<p>The <a href=\"https://netbeans.apache.org/kb/docs/java/native_pkg.html\" rel=\"noreferrer\">documentation for the NetBeans export to EXE feature</a> states:</p>\n<blockquote>\n<p>This tutorial needs a review. You can open a JIRA issue, or edit it in GitHub following these contribution guidelines.</p>\n</blockquote>\n<p>The reason it needs a review is that the feature will not work as currently implemented in NetBeans for recent Java and JavaFX versions.  It may work for obsolete Java 8 versions from Oracle, if you can get a hold of the compatible 3rd party software to support its usage.  You would likely need both your app to be written to use Oracle Java 8 and the IDE and application build process to run under Oracle Java 8 (which might not be possible for recent NetBeans versions).</p>\n<p>For alternatives, study the <a href=\"https://stackoverflow.com/tags/javafx/info\">packaging resources in the JavaFX tag</a>.</p>\n"},{"tags":[],"owner":{"account_id":17697214,"reputation":59,"user_id":12847681,"display_name":"Hassan A"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679074774,"creation_date":1679074774,"answer_id":75770608,"question_id":71928637,"body_markdown":"I faced the same problem when trying to run a project I built using Java 8 with Java 19 . \r\n\r\nWhat you can do is **download Java 8** and add it to your Netbeans as a new Java Platform, it will have JavaFX packages present and you wont need to set up JavaFX libs separately. \r\n\r\nYou can Download the Java 8 JDK from https://www.azul.com/downloads/ \\\r\nin the Java package selection chose **JDK FX**\r\n\r\n\r\n  ","title":"&quot;Unable to create javax script engine for javascript&quot; error when trying to create EXE file","body":"<p>I faced the same problem when trying to run a project I built using Java 8 with Java 19 .</p>\n<p>What you can do is <strong>download Java 8</strong> and add it to your Netbeans as a new Java Platform, it will have JavaFX packages present and you wont need to set up JavaFX libs separately.</p>\n<p>You can Download the Java 8 JDK from <a href=\"https://www.azul.com/downloads/\" rel=\"nofollow noreferrer\">https://www.azul.com/downloads/</a> <br />\nin the Java package selection chose <strong>JDK FX</strong></p>\n"}],"owner":{"account_id":23880937,"reputation":166,"user_id":17881650,"display_name":"helloworld"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13778,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":71932205,"answer_count":2,"score":5,"last_activity_date":1679074774,"creation_date":1650387654,"question_id":71928637,"body_markdown":"I&#39;ve came across this problem while trying to generate .exe file by using Netbeans 13.\r\n(Package as -&gt; exe installer) \r\n\r\nFull error:\r\n\r\n    C:\\Users\\*\\Documents\\NetBeansProjects\\*\\nbproject\\build-native.xml:428: The following error occurred while executing this line:\r\n    C:\\Users\\*\\Documents\\NetBeansProjects\\*\\nbproject\\build-native.xml:436: Unable to create javax script engine for javascript\r\n    BUILD FAILED (total time: 4 seconds)\r\n\r\nDoes anyone know what seems to be problem here and how to fix it?\r\n\r\nUPDATE: \r\n\r\nOS: Windows 10\r\n\r\nJavaFX: javafx-sdk-17.0.2\r\n\r\nJDK: jdk-17.0.2\r\n\r\nWhat am I expecting? \r\n\r\n - I am expecting .exe file \r\n\r\nThere&#39;s no need really for posting code because building project and running project itself goes smoothly (without the errors). The problem occurs after trying to generate .exe installer file by using Package As -&gt; EXE Installer (as shown in image):[![Actions taken][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N5KLZ.png\r\n\r\n\r\nYou can go back to see Full error and when I open build-native.xml file it points me to these lines of code:\r\n\r\n      &lt;target name=&quot;-jfx-copylibs&quot; depends=&quot;init,compile,-pre-pre-jar,-pre-jar,-jfx-copylibs-warning&quot; unless=&quot;fallback.no.javascript&quot;&gt;\r\n            &lt;jfx-copylibs-js-impl/&gt;\r\n        &lt;/target&gt;\r\n        &lt;target name=&quot;-jfx-copylibs-warning&quot; if=&quot;fallback.no.javascript&quot;&gt;\r\n            &lt;echo message=&quot;Warning: Dependent Libraries copy (-jfx-copylibs) skipped in fallback build mode due to JDK missing JavaScript support.&quot;/&gt;\r\n        &lt;/target&gt;\r\n        &lt;macrodef name=&quot;jfx-copylibs-js-impl&quot;&gt;\r\n            &lt;sequential&gt;\r\n                &lt;local name=&quot;run.classpath.without.build.classes.and.dist.dir&quot;/&gt;\r\n                &lt;pathconvert property=&quot;run.classpath.without.build.classes.and.dist.dir&quot;&gt;\r\n                    &lt;path path=&quot;${run.classpath}&quot;/&gt;\r\n                    &lt;map from=&quot;${basedir}${file.separator}${build.classes.dir}&quot; to=&quot;&quot;/&gt;\r\n                    &lt;map from=&quot;${basedir}${file.separator}${dist.jar}&quot; to=&quot;&quot;/&gt;\r\n                    &lt;scriptmapper language=&quot;javascript&quot;&gt;\r\n\r\n\r\nWhere line 428 is:\r\n\r\n    &lt;target name=&quot;-jfx-copylibs&quot; depends=&quot;init,compile,-pre-pre-jar,-pre-jar,-jfx-copylibs-warning&quot; unless=&quot;fallback.no.javascript&quot;&gt;\r\n            &lt;jfx-copylibs-js-impl/&gt;\r\n\r\nAnd where line 436 is:\r\n\r\n        &lt;pathconvert property=&quot;run.classpath.without.build.classes.and.dist.dir&quot;&gt;","title":"&quot;Unable to create javax script engine for javascript&quot; error when trying to create EXE file","body":"<p>I've came across this problem while trying to generate .exe file by using Netbeans 13.\n(Package as -&gt; exe installer)</p>\n<p>Full error:</p>\n<pre><code>C:\\Users\\*\\Documents\\NetBeansProjects\\*\\nbproject\\build-native.xml:428: The following error occurred while executing this line:\nC:\\Users\\*\\Documents\\NetBeansProjects\\*\\nbproject\\build-native.xml:436: Unable to create javax script engine for javascript\nBUILD FAILED (total time: 4 seconds)\n</code></pre>\n<p>Does anyone know what seems to be problem here and how to fix it?</p>\n<p>UPDATE:</p>\n<p>OS: Windows 10</p>\n<p>JavaFX: javafx-sdk-17.0.2</p>\n<p>JDK: jdk-17.0.2</p>\n<p>What am I expecting?</p>\n<ul>\n<li>I am expecting .exe file</li>\n</ul>\n<p>There's no need really for posting code because building project and running project itself goes smoothly (without the errors). The problem occurs after trying to generate .exe installer file by using Package As -&gt; EXE Installer (as shown in image):<a href=\"https://i.stack.imgur.com/N5KLZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/N5KLZ.png\" alt=\"Actions taken\" /></a></p>\n<p>You can go back to see Full error and when I open build-native.xml file it points me to these lines of code:</p>\n<pre><code>  &lt;target name=&quot;-jfx-copylibs&quot; depends=&quot;init,compile,-pre-pre-jar,-pre-jar,-jfx-copylibs-warning&quot; unless=&quot;fallback.no.javascript&quot;&gt;\n        &lt;jfx-copylibs-js-impl/&gt;\n    &lt;/target&gt;\n    &lt;target name=&quot;-jfx-copylibs-warning&quot; if=&quot;fallback.no.javascript&quot;&gt;\n        &lt;echo message=&quot;Warning: Dependent Libraries copy (-jfx-copylibs) skipped in fallback build mode due to JDK missing JavaScript support.&quot;/&gt;\n    &lt;/target&gt;\n    &lt;macrodef name=&quot;jfx-copylibs-js-impl&quot;&gt;\n        &lt;sequential&gt;\n            &lt;local name=&quot;run.classpath.without.build.classes.and.dist.dir&quot;/&gt;\n            &lt;pathconvert property=&quot;run.classpath.without.build.classes.and.dist.dir&quot;&gt;\n                &lt;path path=&quot;${run.classpath}&quot;/&gt;\n                &lt;map from=&quot;${basedir}${file.separator}${build.classes.dir}&quot; to=&quot;&quot;/&gt;\n                &lt;map from=&quot;${basedir}${file.separator}${dist.jar}&quot; to=&quot;&quot;/&gt;\n                &lt;scriptmapper language=&quot;javascript&quot;&gt;\n</code></pre>\n<p>Where line 428 is:</p>\n<pre><code>&lt;target name=&quot;-jfx-copylibs&quot; depends=&quot;init,compile,-pre-pre-jar,-pre-jar,-jfx-copylibs-warning&quot; unless=&quot;fallback.no.javascript&quot;&gt;\n        &lt;jfx-copylibs-js-impl/&gt;\n</code></pre>\n<p>And where line 436 is:</p>\n<pre><code>    &lt;pathconvert property=&quot;run.classpath.without.build.classes.and.dist.dir&quot;&gt;\n</code></pre>\n"},{"tags":["java","selenium-webdriver","testng"],"answers":[{"comments":[{"owner":{"account_id":28044503,"reputation":1,"user_id":21421522,"display_name":"Subha"},"score":0,"creation_date":1679423858,"post_id":75770604,"comment_id":133718951,"body_markdown":"Thank you. I am using PageFactory for intializing the web elements. So should I call PageFactory.initElements() function after button click??","body":"Thank you. I am using PageFactory for intializing the web elements. So should I call PageFactory.initElements() function after button click??"},{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":0,"creation_date":1679425416,"post_id":75770604,"comment_id":133719413,"body_markdown":"@Subha This is a known problem with the PageFactory implementation, I would suggest defining a By Object for the element locator and to Find the locator again using driver.findElement(by), probably you can write a try catch block to do that","body":"@Subha This is a known problem with the PageFactory implementation, I would suggest defining a By Object for the element locator and to Find the locator again using driver.findElement(by), probably you can write a try catch block to do that"}],"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679074696,"creation_date":1679074696,"answer_id":75770604,"question_id":75770483,"body_markdown":"Thats because once You have clicked on the button , it becomes stale i.e. means an old element or no longer available element\r\n\r\nYou should do a driver.findElement(locator) again to get the fresh Element and then do a getText()\r\n\r\n    When an element is no longer attached to the DOM, i.e. it has been removed from the document or the document has changed, it is said to be stale. Staleness occurs for example when you have a web element reference and the document it was retrieved from navigates.\r\n\r\nYou can read more below\r\n[StaleElementReference][1]\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/WebDriver/Errors/StaleElementReference","title":"How to check the button&#39;s text is changed after a click operation on the button","body":"<p>Thats because once You have clicked on the button , it becomes stale i.e. means an old element or no longer available element</p>\n<p>You should do a driver.findElement(locator) again to get the fresh Element and then do a getText()</p>\n<pre><code>When an element is no longer attached to the DOM, i.e. it has been removed from the document or the document has changed, it is said to be stale. Staleness occurs for example when you have a web element reference and the document it was retrieved from navigates.\n</code></pre>\n<p>You can read more below\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/WebDriver/Errors/StaleElementReference\" rel=\"nofollow noreferrer\">StaleElementReference</a></p>\n"}],"owner":{"account_id":28044503,"reputation":1,"user_id":21421522,"display_name":"Subha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679074696,"creation_date":1679073871,"question_id":75770483,"body_markdown":"Scenario: Check whether the text is changed to &quot;Remove&quot; from &quot;Add to Cart&quot; on the button after the click operation.\r\n\r\nI am unable to get the text of the button after click operation is performed. I am getting Stale Element Exception when I try to retrieve the text of the button.\r\n\r\n\r\n\r\n```\r\nbtnCart.click();\r\nboolean bNameChange=btnCart.getText().equals(&quot;Remove&quot;);\r\nif(bNameChnage==true)\r\n{\r\nperform other operations\r\n}\r\n\r\n```\r\nb\r\nBut Stale Reference Exception is thrown.\r\nI tried WebDriverWait before checking the text value.This throws TimeOutException.\r\n\r\nWebDriverWait wait=new WebDriverWait(driver,Duration.ofSeconds(10));\r\n\t\twait.until(ExpectedConditions.textToBePresentInElement(btnCart, &quot;Remove&quot;)));\r\n\r\nHow to handle this scenario?\r\n","title":"How to check the button&#39;s text is changed after a click operation on the button","body":"<p>Scenario: Check whether the text is changed to &quot;Remove&quot; from &quot;Add to Cart&quot; on the button after the click operation.</p>\n<p>I am unable to get the text of the button after click operation is performed. I am getting Stale Element Exception when I try to retrieve the text of the button.</p>\n<pre><code>btnCart.click();\nboolean bNameChange=btnCart.getText().equals(&quot;Remove&quot;);\nif(bNameChnage==true)\n{\nperform other operations\n}\n\n</code></pre>\n<p>b\nBut Stale Reference Exception is thrown.\nI tried WebDriverWait before checking the text value.This throws TimeOutException.</p>\n<p>WebDriverWait wait=new WebDriverWait(driver,Duration.ofSeconds(10));\nwait.until(ExpectedConditions.textToBePresentInElement(btnCart, &quot;Remove&quot;)));</p>\n<p>How to handle this scenario?</p>\n"},{"tags":["java","android","cordova","mediastore"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1679070848,"post_id":75768986,"comment_id":133660895,"body_markdown":"The write operation fails? I would think the insert() operation fails.","body":"The write operation fails? I would think the insert() operation fails."},{"owner":{"account_id":6607198,"reputation":1,"user_id":5103675,"display_name":"Michau"},"score":0,"creation_date":1679074598,"post_id":75768986,"comment_id":133661847,"body_markdown":"Yes, you are right of course, I meant the insert operation.","body":"Yes, you are right of course, I meant the insert operation."}],"owner":{"account_id":6607198,"reputation":1,"user_id":5103675,"display_name":"Michau"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679074583,"creation_date":1679064469,"question_id":75768986,"body_markdown":"I am trying to write an Android audio recorder application. I will be using the MediaStore to store the recordings. I would presume that I should store them in the folder pointed to by the Environment.DIRECTORY_RECORDINGS constant... but the folder (whose name should be &quot;Recordings&quot;) does not exist on any of the Android devices I tried, and the MediaStore insert operation fails. What is the proper way to create it?\r\n\r\nPrior to Android 10, I could request the WRITE_EXTERNAL_STORAGE permission and simply create the folder. But what should I do on Android 10 and above?","title":"Environment.DIRECTORY_RECORDINGS pointing to a non-existing folder","body":"<p>I am trying to write an Android audio recorder application. I will be using the MediaStore to store the recordings. I would presume that I should store them in the folder pointed to by the Environment.DIRECTORY_RECORDINGS constant... but the folder (whose name should be &quot;Recordings&quot;) does not exist on any of the Android devices I tried, and the MediaStore insert operation fails. What is the proper way to create it?</p>\n<p>Prior to Android 10, I could request the WRITE_EXTERNAL_STORAGE permission and simply create the folder. But what should I do on Android 10 and above?</p>\n"},{"tags":["java","database","jpa","micronaut","micronaut-data"],"answers":[{"comments":[{"owner":{"account_id":5413747,"reputation":373,"user_id":4309568,"accept_rate":40,"display_name":"Aarij Siddiqui"},"score":0,"creation_date":1679297896,"post_id":75770580,"comment_id":133689487,"body_markdown":"Is overriding delete method with a native query, the best option here? Is there a length limit for the query string?","body":"Is overriding delete method with a native query, the best option here? Is there a length limit for the query string?"},{"owner":{"account_id":1200295,"reputation":603,"user_id":1171094,"display_name":"Denis"},"score":1,"creation_date":1679353305,"post_id":75770580,"comment_id":133703820,"body_markdown":"You can have multiple custom query methods to delete the children and one default method ‘deleteByIdAndChildren’ where you would call those extra methods delete the children first and then the parent.","body":"You can have multiple custom query methods to delete the children and one default method ‘deleteByIdAndChildren’ where you would call those extra methods delete the children first and then the parent."}],"tags":[],"owner":{"account_id":1200295,"reputation":603,"user_id":1171094,"display_name":"Denis"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679074494,"creation_date":1679074494,"answer_id":75770580,"question_id":75767483,"body_markdown":"Micronaut Data JDBC doesn’t support cascading delete.","title":"DeleteById not working for Cascade deletes in Micronaut","body":"<p>Micronaut Data JDBC doesn’t support cascading delete.</p>\n"}],"owner":{"account_id":5413747,"reputation":373,"user_id":4309568,"accept_rate":40,"display_name":"Aarij Siddiqui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679074494,"creation_date":1679055366,"question_id":75767483,"body_markdown":"I have following Database structure:\r\n\r\nMultiple columns in MainType table can refer to entries in Type1 and Type2. E.g. column2 and column3 refer to different entries in Type2 table.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nand implementation is as follows:\r\n\r\n\r\n**Entities:**\r\n    \r\n    @MappedEntity\r\n    //Lombok Annotations\r\n    public record MainType(\r\n    \r\n    @Id UUID id,\r\n    @Nullable @Relation(value = KIND.ONE_TO_ONE, cascade = Cascade.ALL) Type1 column1, \r\n    @Nullable @Relation(value = KIND.ONE_TO_ONE, cascade = Cascade.ALL) Type2 column2, \r\n    @Nullable @Relation(value = KIND.ONE_TO_ONE, cascade = Cascade.ALL) Type2 column3) {}\r\n\r\n    @MappedEntity\r\n    //Lombok Annotations\r\n    public class Type1 {\r\n      @Id @Autopopulated UUID id,\r\n      @Nullable String value, \r\n    }\r\n    \r\n    @MappedEntity\r\n    //Lombok Annotations\r\n    public class Type2 {\r\n      @Id @Autopopulated UUID id,\r\n      @Nullable int value, \r\n    }\r\n\r\n**Repositories:**\r\n\r\n**MainTypeRepository**\r\n\r\n    @JdbcRepository(dialect = Dialect.Oracle)\r\n    public interface MainTypeRepository extends PageableRepository&lt;MainType, UUID&gt; {\r\n    \r\n     @Override\r\n     @Join(value= type1, type = Type.LEFT_FETCH)\r\n     @Join(value= type2, type = Type.LEFT_FETCH)\r\n     Optional&lt;MainType&gt; findById(UUID id);\r\n    \r\n     @Override\r\n     @Join(value= type1, type = Type.LEFT_FETCH)\r\n     @Join(value= type2, type = Type.LEFT_FETCH)\r\n     void deleteById(UUID id);\r\n    }\r\n\r\n**Type1Repository**\r\n\r\n    @JdbcRepository(dialect = Dialect.Oracle)\r\n    public interface Type1Repository extends CrudRepository&lt;Type1, UUID&gt; {}\r\n\r\n**Type2Repository**\r\n\r\n    @JdbcRepository(dialect = Dialect.Oracle)\r\n    public interface Type2Repository extends CrudRepository&lt;Type2, UUID&gt; {}\r\n\r\n\r\nMy problem is that when I execute mainTypeRepository.deleteById(id) it does not delete the entries in Type1 and Type2 Tables. Am I missing anything?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GdyUo.png","title":"DeleteById not working for Cascade deletes in Micronaut","body":"<p>I have following Database structure:</p>\n<p>Multiple columns in MainType table can refer to entries in Type1 and Type2. E.g. column2 and column3 refer to different entries in Type2 table.</p>\n<p><a href=\"https://i.stack.imgur.com/GdyUo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GdyUo.png\" alt=\"enter image description here\" /></a></p>\n<p>and implementation is as follows:</p>\n<p><strong>Entities:</strong></p>\n<pre><code>@MappedEntity\n//Lombok Annotations\npublic record MainType(\n\n@Id UUID id,\n@Nullable @Relation(value = KIND.ONE_TO_ONE, cascade = Cascade.ALL) Type1 column1, \n@Nullable @Relation(value = KIND.ONE_TO_ONE, cascade = Cascade.ALL) Type2 column2, \n@Nullable @Relation(value = KIND.ONE_TO_ONE, cascade = Cascade.ALL) Type2 column3) {}\n\n@MappedEntity\n//Lombok Annotations\npublic class Type1 {\n  @Id @Autopopulated UUID id,\n  @Nullable String value, \n}\n\n@MappedEntity\n//Lombok Annotations\npublic class Type2 {\n  @Id @Autopopulated UUID id,\n  @Nullable int value, \n}\n</code></pre>\n<p><strong>Repositories:</strong></p>\n<p><strong>MainTypeRepository</strong></p>\n<pre><code>@JdbcRepository(dialect = Dialect.Oracle)\npublic interface MainTypeRepository extends PageableRepository&lt;MainType, UUID&gt; {\n\n @Override\n @Join(value= type1, type = Type.LEFT_FETCH)\n @Join(value= type2, type = Type.LEFT_FETCH)\n Optional&lt;MainType&gt; findById(UUID id);\n\n @Override\n @Join(value= type1, type = Type.LEFT_FETCH)\n @Join(value= type2, type = Type.LEFT_FETCH)\n void deleteById(UUID id);\n}\n</code></pre>\n<p><strong>Type1Repository</strong></p>\n<pre><code>@JdbcRepository(dialect = Dialect.Oracle)\npublic interface Type1Repository extends CrudRepository&lt;Type1, UUID&gt; {}\n</code></pre>\n<p><strong>Type2Repository</strong></p>\n<pre><code>@JdbcRepository(dialect = Dialect.Oracle)\npublic interface Type2Repository extends CrudRepository&lt;Type2, UUID&gt; {}\n</code></pre>\n<p>My problem is that when I execute mainTypeRepository.deleteById(id) it does not delete the entries in Type1 and Type2 Tables. Am I missing anything?</p>\n"},{"tags":["java","xml","bottomnavigationview"],"owner":{"account_id":25284009,"reputation":43,"user_id":19111394,"display_name":"jasagregoric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679073993,"creation_date":1679073993,"question_id":75770495,"body_markdown":"I&#39;ve been following this tutorial to create the bottom navigation view. [Tutorial](https://youtu.be/iEXh1-KVeVc). I&#39;ve done everything in the video, but it doesn&#39;t show what code to write to take me to intended activities when I click on the buttons.\r\n\r\nI am also new to Android Studio and XML. \r\n\r\nI&#39;ve watched some other videos but none works because they use fragments and I want to use Activities.\r\n\r\nI&#39;ve come up with this code:\r\n\r\n(java)\r\n```\r\npackage com.example.tracker;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.view.MenuItem;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\n\r\npublic class BottomNav implements BottomNavigationView.OnNavigationItemSelectedListener {\r\n\r\n    private Context context;\r\n\r\n    public BottomNav(Context context, BottomNavigationView bottomNavigationView) {\r\n        this.context = context;\r\n        bottomNavigationView.setOnNavigationItemSelectedListener(this);\r\n    }\r\n\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.home:\r\n                Intent intentHome = new Intent(context, MapsActivity.class);\r\n                context.startActivity(intentHome);\r\n                break;\r\n            case R.id.chat:\r\n                Intent intentChat = new Intent(context, ChatActivity.class);\r\n                context.startActivity(intentChat);\r\n                break;\r\n            case R.id.person:\r\n                Intent intentProfile = new Intent(context, ProfileActivity.class);\r\n                context.startActivity(intentProfile);\r\n                break;\r\n            case R.id.settings:\r\n                Intent intentSettings = new Intent(context, SettingsActivity.class);\r\n                context.startActivity(intentSettings);\r\n                break;\r\n        }\r\n        return true;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI also don&#39;t know where to put it.\r\n\r\nbottom_nav_menu.xml:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/home&quot;\r\n        android:icon=&quot;@drawable/baseline_home_24&quot;\r\n        android:title=&quot;Home&quot;/&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/chat&quot;\r\n        android:icon=&quot;@drawable/baseline_chat_24&quot;\r\n        android:title=&quot;Chat&quot;/&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/placeholder&quot;\r\n        android:title=&quot;&quot;/&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/person&quot;\r\n        android:icon=&quot;@drawable/baseline_person_24&quot;\r\n        android:title=&quot;Profile&quot;/&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/settings&quot;\r\n        android:icon=&quot;@drawable/baseline_settings_24&quot;\r\n        android:title=&quot;Settings&quot;/&gt;\r\n\r\n&lt;/menu&gt;\r\n```\r\n\r\nAnd activity_main.xml\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MapsActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.bottomappbar.BottomAppBar\r\n        android:id=&quot;@+id/bottomAppBar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:fabCradleMargin=&quot;20dp&quot;\r\n        app:fabCradleVerticalOffset=&quot;10dp&quot;\r\n        app:fabCradleRoundedCornerRadius=&quot;20dp&quot;\r\n        android:layout_gravity=&quot;bottom&quot;&gt;\r\n\r\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/bottomNavigationView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginEnd=&quot;16dp&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.bottomappbar.BottomAppBar&gt;\r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/fab&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:src=&quot;@drawable/baseline_add_24&quot;\r\n        app:layout_anchor=&quot;@id/bottomAppBar&quot;\r\n        android:contentDescription=&quot;TODO&quot; /&gt;\r\n\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n```\r\n\r\nI would really apriciate all your help.\r\n\r\n\r\n \r\n ","title":"Clicking on the bottom navigation icons in me Android app is not taking me to the intended activities","body":"<p>I've been following this tutorial to create the bottom navigation view. <a href=\"https://youtu.be/iEXh1-KVeVc\" rel=\"nofollow noreferrer\">Tutorial</a>. I've done everything in the video, but it doesn't show what code to write to take me to intended activities when I click on the buttons.</p>\n<p>I am also new to Android Studio and XML.</p>\n<p>I've watched some other videos but none works because they use fragments and I want to use Activities.</p>\n<p>I've come up with this code:</p>\n<p>(java)</p>\n<pre><code>package com.example.tracker;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.view.MenuItem;\n\nimport androidx.annotation.NonNull;\n\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\n\npublic class BottomNav implements BottomNavigationView.OnNavigationItemSelectedListener {\n\n    private Context context;\n\n    public BottomNav(Context context, BottomNavigationView bottomNavigationView) {\n        this.context = context;\n        bottomNavigationView.setOnNavigationItemSelectedListener(this);\n    }\n\n    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n        switch (item.getItemId()) {\n            case R.id.home:\n                Intent intentHome = new Intent(context, MapsActivity.class);\n                context.startActivity(intentHome);\n                break;\n            case R.id.chat:\n                Intent intentChat = new Intent(context, ChatActivity.class);\n                context.startActivity(intentChat);\n                break;\n            case R.id.person:\n                Intent intentProfile = new Intent(context, ProfileActivity.class);\n                context.startActivity(intentProfile);\n                break;\n            case R.id.settings:\n                Intent intentSettings = new Intent(context, SettingsActivity.class);\n                context.startActivity(intentSettings);\n                break;\n        }\n        return true;\n    }\n}\n\n</code></pre>\n<p>I also don't know where to put it.</p>\n<p>bottom_nav_menu.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;item\n        android:id=&quot;@+id/home&quot;\n        android:icon=&quot;@drawable/baseline_home_24&quot;\n        android:title=&quot;Home&quot;/&gt;\n\n    &lt;item\n        android:id=&quot;@+id/chat&quot;\n        android:icon=&quot;@drawable/baseline_chat_24&quot;\n        android:title=&quot;Chat&quot;/&gt;\n\n    &lt;item\n        android:id=&quot;@+id/placeholder&quot;\n        android:title=&quot;&quot;/&gt;\n\n    &lt;item\n        android:id=&quot;@+id/person&quot;\n        android:icon=&quot;@drawable/baseline_person_24&quot;\n        android:title=&quot;Profile&quot;/&gt;\n\n    &lt;item\n        android:id=&quot;@+id/settings&quot;\n        android:icon=&quot;@drawable/baseline_settings_24&quot;\n        android:title=&quot;Settings&quot;/&gt;\n\n&lt;/menu&gt;\n</code></pre>\n<p>And activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MapsActivity&quot;&gt;\n\n    &lt;com.google.android.material.bottomappbar.BottomAppBar\n        android:id=&quot;@+id/bottomAppBar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:fabCradleMargin=&quot;20dp&quot;\n        app:fabCradleVerticalOffset=&quot;10dp&quot;\n        app:fabCradleRoundedCornerRadius=&quot;20dp&quot;\n        android:layout_gravity=&quot;bottom&quot;&gt;\n\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n            android:id=&quot;@+id/bottomNavigationView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginEnd=&quot;16dp&quot;\n            android:background=&quot;@android:color/transparent&quot;\n            app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\n\n    &lt;/com.google.android.material.bottomappbar.BottomAppBar&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/fab&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:src=&quot;@drawable/baseline_add_24&quot;\n        app:layout_anchor=&quot;@id/bottomAppBar&quot;\n        android:contentDescription=&quot;TODO&quot; /&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>I would really apriciate all your help.</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678970355,"post_id":75756342,"comment_id":133638240,"body_markdown":"And you&#39;re surprised when you set the value of an attribute as a control character (the escape character)? Why are you doing that?","body":"And you&#39;re surprised when you set the value of an attribute as a control character (the escape character)? Why are you doing that?"},{"owner":{"account_id":6734,"reputation":3954,"user_id":11451,"accept_rate":82,"display_name":"Kristof Neirynck"},"score":0,"creation_date":1678970856,"post_id":75756342,"comment_id":133638408,"body_markdown":"I can see how you&#39;d think this is wierd in this contrived example where I create a document with some hardcoded data. The real documents are created with input from users and other systems. I&#39;m suprised java would serialize a document without throwing an exception knowing that it will never be able to deserialize it later. If the solution is &quot;strip control characters&quot; from your input then it is a hassle, but I&#39;ll deal with it. But what do I do with previously created documents?","body":"I can see how you&#39;d think this is wierd in this contrived example where I create a document with some hardcoded data. The real documents are created with input from users and other systems. I&#39;m suprised java would serialize a document without throwing an exception knowing that it will never be able to deserialize it later. If the solution is &quot;strip control characters&quot; from your input then it is a hassle, but I&#39;ll deal with it. But what do I do with previously created documents?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678986581,"post_id":75756342,"comment_id":133643557,"body_markdown":"*But what do I do with previously created documents?* You&#39;ll have to &#39;clean&#39; them. Xml files are *text* files and are not intended to contain binary data. When they do, they are usually in CDATA sections and even then Base64 encoded","body":"<i>But what do I do with previously created documents?</i> You&#39;ll have to &#39;clean&#39; them. Xml files are <i>text</i> files and are not intended to contain binary data. When they do, they are usually in CDATA sections and even then Base64 encoded"}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678982882,"creation_date":1678982882,"answer_id":75758787,"question_id":75756342,"body_markdown":"&gt;How do I read the previously generated files which contain invalid characters?\r\n\r\nYou have to repair them using some non-XML-aware process. You can&#39;t use XML tools to read them.\r\n\r\n&gt;How do I prevent newly generated files from containing invalid characters?\r\n\r\nYou either use an API that checks the content, or you check it yourself before passing to the API.\r\n\r\nThe Xalan serializer, which is what you&#39;re using, was designed as the back end for an XSLT transformer, and it&#39;s very likely to be assuming that the XSLT processor is handing it valid content. The Saxon serializer, which is the same architecturally, makes the same assumption.","title":"Java doesn&#39;t filter invalid characters when serializing xml documents","body":"<blockquote>\n<p>How do I read the previously generated files which contain invalid characters?</p>\n</blockquote>\n<p>You have to repair them using some non-XML-aware process. You can't use XML tools to read them.</p>\n<blockquote>\n<p>How do I prevent newly generated files from containing invalid characters?</p>\n</blockquote>\n<p>You either use an API that checks the content, or you check it yourself before passing to the API.</p>\n<p>The Xalan serializer, which is what you're using, was designed as the back end for an XSLT transformer, and it's very likely to be assuming that the XSLT processor is handing it valid content. The Saxon serializer, which is the same architecturally, makes the same assumption.</p>\n"}],"owner":{"account_id":6734,"reputation":3954,"user_id":11451,"accept_rate":82,"display_name":"Kristof Neirynck"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75758787,"answer_count":1,"score":1,"last_activity_date":1679073404,"creation_date":1678969961,"question_id":75756342,"body_markdown":"I&#39;m serializing an xml document in java 17.\r\nI store this document in a file assuming I&#39;ll be able to deserialize it later.\r\nUnfortunately, once I try to read it, I get a SAXParseException.\r\nOne of the characters is not a [valid character in XML][1].\r\nI would expect a document serialised by java to be deserializable by java.\r\n\r\nI&#39;m left with two questions:\r\n1. How do I read the previously generated files which contain invalid characters?\r\n2. How do I prevent newly generated files from containing invalid characters?\r\n\r\nMinimum reproducible example:\r\n```\r\npackage example;\r\n\r\nimport static java.nio.charset.StandardCharsets.US_ASCII;\r\n\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\n\r\nimport javax.xml.parsers.DocumentBuilder;\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\nimport javax.xml.transform.TransformerFactory;\r\nimport javax.xml.transform.dom.DOMSource;\r\nimport javax.xml.transform.stream.StreamResult;\r\n\r\nimport org.w3c.dom.Document;\r\nimport org.w3c.dom.Element;\r\n\r\npublic class Scratch {\r\n    public static void main(String[] args) throws Exception {\r\n        // u001b = escape and is not allowed in xml 1.0\r\n        Document document = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();\r\n        Element element = document.createElement(&quot;tag&quot;);\r\n        element.setAttribute(&quot;attribute&quot;, &quot;\\u001b&quot;);\r\n        document.appendChild(element);\r\n\r\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n        TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n        System.out.println(&quot;transformerFactory.getClass() = &quot; + transformerFactory.getClass());\r\n        // transformerFactory.getClass() = class org.apache.xalan.processor.TransformerFactoryImpl\r\n        Transformer transformer = transformerFactory.newTransformer();\r\n        transformer.setOutputProperty(OutputKeys.ENCODING, US_ASCII.name());\r\n        transformer.transform(new DOMSource(document), new StreamResult(bos));\r\n        String xmlString = bos.toString(US_ASCII);\r\n\r\n        System.out.println(&quot;xmlString = &quot; + xmlString);\r\n        // xmlString = &lt;?xml version=&quot;1.0&quot; encoding=&quot;US-ASCII&quot;?&gt;&lt;tag attribute=&quot;&amp;#27;&quot;/&gt;\r\n\r\n        DocumentBuilder domDocumentBuilder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n        domDocumentBuilder.parse(new ByteArrayInputStream(xmlString.getBytes(US_ASCII)));\r\n        // [Fatal Error] :1:63: Character reference &quot;&amp;#27&quot; is an invalid XML character.\r\n        //     Exception in thread &quot;main&quot; org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 63; Character reference &quot;&amp;#27&quot; is an invalid XML character.\r\n        //     at java.xml/com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:262)\r\n        // at java.xml/com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:342)\r\n        // at java.xml/javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:122)\r\n        // at be.mips.cyberlab.business.Scratch.main(Scratch.java:40)\r\n    }\r\n}\r\n```\r\n\r\nMicheal Key suggests &quot;use an API that checks the content, or you check it yourself before passing to the API&quot;, so I&#39;m going to try that. It works, but I don&#39;t like walking the entire tree just to serialize it.\r\n\r\n```\r\npackage example;\r\n\r\nimport static java.nio.charset.StandardCharsets.US_ASCII;\r\nimport static org.w3c.dom.Node.CDATA_SECTION_NODE;\r\nimport static org.w3c.dom.Node.COMMENT_NODE;\r\nimport static org.w3c.dom.Node.ELEMENT_NODE;\r\nimport static org.w3c.dom.Node.TEXT_NODE;\r\n\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\nimport javax.xml.parsers.DocumentBuilder;\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\nimport javax.xml.transform.OutputKeys;\r\nimport javax.xml.transform.Transformer;\r\nimport javax.xml.transform.TransformerFactory;\r\nimport javax.xml.transform.dom.DOMSource;\r\nimport javax.xml.transform.stream.StreamResult;\r\n\r\nimport org.w3c.dom.Document;\r\nimport org.w3c.dom.Element;\r\nimport org.w3c.dom.NamedNodeMap;\r\nimport org.w3c.dom.Node;\r\n\r\nclass Scratch {\r\n\r\n    private static final Pattern VALID_CHARACTERS = Pattern.compile(\r\n            &quot;[\\\\u0009\\\\u000a\\\\u000d\\\\u0020-\\\\uD7FF\\\\uE000-\\\\uFFFD]+&quot;);\r\n    private static final Pattern INVALID_XML_CHARACTERS = Pattern.compile(\r\n            &quot;(?&lt;![\\\\uD800-\\\\uDBFF])[\\\\uDC00-\\\\uDFFF]|[\\\\uD800-\\\\uDBFF](?![\\\\uDC00-\\\\uDFFF])|[\\\\x00-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F-\\\\x9F\\\\uFEFF\\\\uFFFE\\\\uFFFF]&quot;);\r\n    private static final String REPLACEMENT_CHARACTER = &quot;\\uFFFD&quot;;\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        // u001b = escape and is not allowed in xml 1.0\r\n        Document document = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();\r\n        Element element = document.createElement(&quot;tag&quot;);\r\n        element.setAttribute(&quot;attribute&quot;, &quot;\\u001b&quot;);\r\n        document.appendChild(element);\r\n\r\n        stripInvalidXmlCharacters(document);\r\n\r\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n        TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n        System.out.println(&quot;transformerFactory.getClass() = &quot; + transformerFactory.getClass());\r\n        // transformerFactory.getClass() = class org.apache.xalan.processor.TransformerFactoryImpl\r\n        final Transformer transformer = transformerFactory.newTransformer();\r\n        transformer.setOutputProperty(OutputKeys.ENCODING, US_ASCII.name());\r\n        transformer.transform(new DOMSource(document), new StreamResult(bos));\r\n        String xmlString = bos.toString(US_ASCII);\r\n\r\n        System.out.println(&quot;xmlString = &quot; + xmlString);\r\n        // xmlString = &lt;?xml version=&quot;1.0&quot; encoding=&quot;US-ASCII&quot;?&gt;&lt;tag attribute=&quot;&amp;#65533;&quot;/&gt;\r\n\r\n        DocumentBuilder domDocumentBuilder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n        domDocumentBuilder.parse(new ByteArrayInputStream(xmlString.getBytes(US_ASCII)));\r\n    }\r\n\r\n    private static void stripInvalidXmlCharacters(Node node) {\r\n        NamedNodeMap attributes = node.getAttributes();\r\n        if (attributes != null) {\r\n            int length = attributes.getLength();\r\n            for (int i = 0; i &lt; length; i++) {\r\n                Node attribute = attributes.item(i);\r\n                attribute.setNodeValue(stripInvalidXmlCharacters(attribute.getNodeValue()));\r\n            }\r\n        }\r\n        for (Node child = node.getFirstChild(); child != null; child = child.getNextSibling()) {\r\n            switch (child.getNodeType()) {\r\n                case ELEMENT_NODE -&gt; stripInvalidXmlCharacters(child);\r\n                case TEXT_NODE, CDATA_SECTION_NODE, COMMENT_NODE -&gt;\r\n                        child.setNodeValue(stripInvalidXmlCharacters(child.getNodeValue()));\r\n            }\r\n        }\r\n    }\r\n\r\n    private static String stripInvalidXmlCharacters(String input) {\r\n        if (input == null || input.isEmpty() || VALID_CHARACTERS.matcher(input).matches()) {\r\n            return input;\r\n        }\r\n        Matcher m = INVALID_XML_CHARACTERS.matcher(input);\r\n        StringBuilder sb = new StringBuilder();\r\n        while (m.find()) {\r\n            m.appendReplacement(sb, REPLACEMENT_CHARACTER);\r\n        }\r\n        m.appendTail(sb);\r\n        return sb.toString();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Valid_characters_in_XML","title":"Java doesn&#39;t filter invalid characters when serializing xml documents","body":"<p>I'm serializing an xml document in java 17.\nI store this document in a file assuming I'll be able to deserialize it later.\nUnfortunately, once I try to read it, I get a SAXParseException.\nOne of the characters is not a <a href=\"https://en.wikipedia.org/wiki/Valid_characters_in_XML\" rel=\"nofollow noreferrer\">valid character in XML</a>.\nI would expect a document serialised by java to be deserializable by java.</p>\n<p>I'm left with two questions:</p>\n<ol>\n<li>How do I read the previously generated files which contain invalid characters?</li>\n<li>How do I prevent newly generated files from containing invalid characters?</li>\n</ol>\n<p>Minimum reproducible example:</p>\n<pre><code>package example;\n\nimport static java.nio.charset.StandardCharsets.US_ASCII;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\n\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\n\npublic class Scratch {\n    public static void main(String[] args) throws Exception {\n        // u001b = escape and is not allowed in xml 1.0\n        Document document = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();\n        Element element = document.createElement(&quot;tag&quot;);\n        element.setAttribute(&quot;attribute&quot;, &quot;\\u001b&quot;);\n        document.appendChild(element);\n\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        TransformerFactory transformerFactory = TransformerFactory.newInstance();\n        System.out.println(&quot;transformerFactory.getClass() = &quot; + transformerFactory.getClass());\n        // transformerFactory.getClass() = class org.apache.xalan.processor.TransformerFactoryImpl\n        Transformer transformer = transformerFactory.newTransformer();\n        transformer.setOutputProperty(OutputKeys.ENCODING, US_ASCII.name());\n        transformer.transform(new DOMSource(document), new StreamResult(bos));\n        String xmlString = bos.toString(US_ASCII);\n\n        System.out.println(&quot;xmlString = &quot; + xmlString);\n        // xmlString = &lt;?xml version=&quot;1.0&quot; encoding=&quot;US-ASCII&quot;?&gt;&lt;tag attribute=&quot;&amp;#27;&quot;/&gt;\n\n        DocumentBuilder domDocumentBuilder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n        domDocumentBuilder.parse(new ByteArrayInputStream(xmlString.getBytes(US_ASCII)));\n        // [Fatal Error] :1:63: Character reference &quot;&amp;#27&quot; is an invalid XML character.\n        //     Exception in thread &quot;main&quot; org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 63; Character reference &quot;&amp;#27&quot; is an invalid XML character.\n        //     at java.xml/com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:262)\n        // at java.xml/com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:342)\n        // at java.xml/javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:122)\n        // at be.mips.cyberlab.business.Scratch.main(Scratch.java:40)\n    }\n}\n</code></pre>\n<p>Micheal Key suggests &quot;use an API that checks the content, or you check it yourself before passing to the API&quot;, so I'm going to try that. It works, but I don't like walking the entire tree just to serialize it.</p>\n<pre><code>package example;\n\nimport static java.nio.charset.StandardCharsets.US_ASCII;\nimport static org.w3c.dom.Node.CDATA_SECTION_NODE;\nimport static org.w3c.dom.Node.COMMENT_NODE;\nimport static org.w3c.dom.Node.ELEMENT_NODE;\nimport static org.w3c.dom.Node.TEXT_NODE;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.transform.OutputKeys;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\n\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.NamedNodeMap;\nimport org.w3c.dom.Node;\n\nclass Scratch {\n\n    private static final Pattern VALID_CHARACTERS = Pattern.compile(\n            &quot;[\\\\u0009\\\\u000a\\\\u000d\\\\u0020-\\\\uD7FF\\\\uE000-\\\\uFFFD]+&quot;);\n    private static final Pattern INVALID_XML_CHARACTERS = Pattern.compile(\n            &quot;(?&lt;![\\\\uD800-\\\\uDBFF])[\\\\uDC00-\\\\uDFFF]|[\\\\uD800-\\\\uDBFF](?![\\\\uDC00-\\\\uDFFF])|[\\\\x00-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F-\\\\x9F\\\\uFEFF\\\\uFFFE\\\\uFFFF]&quot;);\n    private static final String REPLACEMENT_CHARACTER = &quot;\\uFFFD&quot;;\n\n    public static void main(String[] args) throws Exception {\n        // u001b = escape and is not allowed in xml 1.0\n        Document document = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();\n        Element element = document.createElement(&quot;tag&quot;);\n        element.setAttribute(&quot;attribute&quot;, &quot;\\u001b&quot;);\n        document.appendChild(element);\n\n        stripInvalidXmlCharacters(document);\n\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        TransformerFactory transformerFactory = TransformerFactory.newInstance();\n        System.out.println(&quot;transformerFactory.getClass() = &quot; + transformerFactory.getClass());\n        // transformerFactory.getClass() = class org.apache.xalan.processor.TransformerFactoryImpl\n        final Transformer transformer = transformerFactory.newTransformer();\n        transformer.setOutputProperty(OutputKeys.ENCODING, US_ASCII.name());\n        transformer.transform(new DOMSource(document), new StreamResult(bos));\n        String xmlString = bos.toString(US_ASCII);\n\n        System.out.println(&quot;xmlString = &quot; + xmlString);\n        // xmlString = &lt;?xml version=&quot;1.0&quot; encoding=&quot;US-ASCII&quot;?&gt;&lt;tag attribute=&quot;&amp;#65533;&quot;/&gt;\n\n        DocumentBuilder domDocumentBuilder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n        domDocumentBuilder.parse(new ByteArrayInputStream(xmlString.getBytes(US_ASCII)));\n    }\n\n    private static void stripInvalidXmlCharacters(Node node) {\n        NamedNodeMap attributes = node.getAttributes();\n        if (attributes != null) {\n            int length = attributes.getLength();\n            for (int i = 0; i &lt; length; i++) {\n                Node attribute = attributes.item(i);\n                attribute.setNodeValue(stripInvalidXmlCharacters(attribute.getNodeValue()));\n            }\n        }\n        for (Node child = node.getFirstChild(); child != null; child = child.getNextSibling()) {\n            switch (child.getNodeType()) {\n                case ELEMENT_NODE -&gt; stripInvalidXmlCharacters(child);\n                case TEXT_NODE, CDATA_SECTION_NODE, COMMENT_NODE -&gt;\n                        child.setNodeValue(stripInvalidXmlCharacters(child.getNodeValue()));\n            }\n        }\n    }\n\n    private static String stripInvalidXmlCharacters(String input) {\n        if (input == null || input.isEmpty() || VALID_CHARACTERS.matcher(input).matches()) {\n            return input;\n        }\n        Matcher m = INVALID_XML_CHARACTERS.matcher(input);\n        StringBuilder sb = new StringBuilder();\n        while (m.find()) {\n            m.appendReplacement(sb, REPLACEMENT_CHARACTER);\n        }\n        m.appendTail(sb);\n        return sb.toString();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":5253566,"reputation":297,"user_id":4197031,"accept_rate":67,"display_name":"martin kimani"},"score":0,"creation_date":1678867077,"post_id":75681355,"comment_id":133614290,"body_markdown":"And what edge cases might these be atleast I be in the know?","body":"And what edge cases might these be atleast I be in the know?"}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678345233,"creation_date":1678345233,"answer_id":75681355,"question_id":75664011,"body_markdown":"I would suggest to stay clear of the idea to perform DB routing via determining whether tx is readonly or not - it looks attractive in someone&#39;s blogpost, however there are to many edge cases when it might not work as expected.\r\n\r\n\r\nBy the way, I do believe you may overcome your issue via implementing your own `PlatformTransactionManager`, something like:\r\n\r\n```java\r\npublic class JpaTransactionManagerExposingReadOnlyStatus extends JpaTransactionManager {\r\n\r\n    @Override\r\n    protected Object doSuspend(Object transaction) {\r\n        TxReadOnlyStatus.begin(null);\r\n        boolean success = false;\r\n        try {\r\n            Object result = super.doSuspend(transaction);\r\n            success = true;\r\n            return result;\r\n        } finally {\r\n            if (!success) {\r\n                TxReadOnlyStatus.complete();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void doResume(Object transaction, Object suspendedResources) {\r\n        try {\r\n            super.doResume(transaction, suspendedResources);\r\n        } finally {\r\n            TxReadOnlyStatus.complete();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void doBegin(Object transaction, TransactionDefinition definition) {\r\n        TxReadOnlyStatus.begin(definition.isReadOnly());\r\n        boolean success = false;\r\n        try {\r\n            super.doBegin(transaction, definition);\r\n            success = true;\r\n        } finally {\r\n            if (!success) {\r\n                TxReadOnlyStatus.complete();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void doCleanupAfterCompletion(Object transaction) {\r\n        try {\r\n            super.doCleanupAfterCompletion(transaction);\r\n        } finally {\r\n            TxReadOnlyStatus.complete();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\npublic class TxReadOnlyStatus {\r\n\r\n    private static final ThreadLocal&lt;Deque&lt;Boolean&gt;&gt; txStack = ThreadLocal.withInitial(LinkedList::new);\r\n\r\n    public static boolean isReadOnly() {\r\n        Boolean readOnly = getTxStack().peekLast();\r\n        if (readOnly != null) {\r\n            return readOnly;\r\n        }\r\n        if (isSynchronizationActive()) {\r\n            // active synchronization\r\n            return isCurrentTransactionReadOnly();\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private static Deque&lt;Boolean&gt; getTxStack() {\r\n        return txStack.get();\r\n    }\r\n\r\n    static void begin(Boolean readOnly) {\r\n        getTxStack().addLast(readOnly);\r\n    }\r\n\r\n    static void complete() {\r\n        getTxStack().removeLast();\r\n    }\r\n\r\n}\r\n```\r\n\r\n[demo on GitHub](https://github.com/andreybpanfilov/gs-accessing-data-jpa/commit/c70cf58143b3f360eb1a62f672a47278fd7fe490)","title":"InvalidIsolationLevelException: HibernateJpaDialect Error encountered for read write datasource routing Hibernate","body":"<p>I would suggest to stay clear of the idea to perform DB routing via determining whether tx is readonly or not - it looks attractive in someone's blogpost, however there are to many edge cases when it might not work as expected.</p>\n<p>By the way, I do believe you may overcome your issue via implementing your own <code>PlatformTransactionManager</code>, something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JpaTransactionManagerExposingReadOnlyStatus extends JpaTransactionManager {\n\n    @Override\n    protected Object doSuspend(Object transaction) {\n        TxReadOnlyStatus.begin(null);\n        boolean success = false;\n        try {\n            Object result = super.doSuspend(transaction);\n            success = true;\n            return result;\n        } finally {\n            if (!success) {\n                TxReadOnlyStatus.complete();\n            }\n        }\n    }\n\n    @Override\n    protected void doResume(Object transaction, Object suspendedResources) {\n        try {\n            super.doResume(transaction, suspendedResources);\n        } finally {\n            TxReadOnlyStatus.complete();\n        }\n    }\n\n    @Override\n    protected void doBegin(Object transaction, TransactionDefinition definition) {\n        TxReadOnlyStatus.begin(definition.isReadOnly());\n        boolean success = false;\n        try {\n            super.doBegin(transaction, definition);\n            success = true;\n        } finally {\n            if (!success) {\n                TxReadOnlyStatus.complete();\n            }\n        }\n    }\n\n    @Override\n    protected void doCleanupAfterCompletion(Object transaction) {\n        try {\n            super.doCleanupAfterCompletion(transaction);\n        } finally {\n            TxReadOnlyStatus.complete();\n        }\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class TxReadOnlyStatus {\n\n    private static final ThreadLocal&lt;Deque&lt;Boolean&gt;&gt; txStack = ThreadLocal.withInitial(LinkedList::new);\n\n    public static boolean isReadOnly() {\n        Boolean readOnly = getTxStack().peekLast();\n        if (readOnly != null) {\n            return readOnly;\n        }\n        if (isSynchronizationActive()) {\n            // active synchronization\n            return isCurrentTransactionReadOnly();\n        }\n        return true;\n    }\n\n    private static Deque&lt;Boolean&gt; getTxStack() {\n        return txStack.get();\n    }\n\n    static void begin(Boolean readOnly) {\n        getTxStack().addLast(readOnly);\n    }\n\n    static void complete() {\n        getTxStack().removeLast();\n    }\n\n}\n</code></pre>\n<p><a href=\"https://github.com/andreybpanfilov/gs-accessing-data-jpa/commit/c70cf58143b3f360eb1a62f672a47278fd7fe490\" rel=\"nofollow noreferrer\">demo on GitHub</a></p>\n"},{"tags":[],"owner":{"account_id":5253566,"reputation":297,"user_id":4197031,"accept_rate":67,"display_name":"martin kimani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679073355,"creation_date":1679073355,"answer_id":75770411,"question_id":75664011,"body_markdown":"After a bit of research and also taking into consideration Andrey&#39;s answer I have sorted my issue by routing my traffic using PGPool2. However it is advisable to disable connection pooling ins spring boot and use the connection pool in PGPool.\r\n\r\nThis solution is also good since even other applications done in other languages can also take advantage of the routing.","title":"InvalidIsolationLevelException: HibernateJpaDialect Error encountered for read write datasource routing Hibernate","body":"<p>After a bit of research and also taking into consideration Andrey's answer I have sorted my issue by routing my traffic using PGPool2. However it is advisable to disable connection pooling ins spring boot and use the connection pool in PGPool.</p>\n<p>This solution is also good since even other applications done in other languages can also take advantage of the routing.</p>\n"}],"owner":{"account_id":5253566,"reputation":297,"user_id":4197031,"accept_rate":67,"display_name":"martin kimani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75770411,"answer_count":2,"score":1,"last_activity_date":1679073355,"creation_date":1678203188,"question_id":75664011,"body_markdown":"I am implementing a read write datasource routing using [Vlad Mihlceas&#39;s post][1]\r\n\r\nBelow is my config class\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableAspectJAutoProxy\r\n    @EnableJpaRepositories(\r\n            value = &quot;com.api.repositories&quot;,repositoryBaseClass = BaseJpaRepositoryImpl.class\r\n    )\r\n    public class DBConfig {\r\n    \r\n        @Autowired\r\n        private DbProps dbProps;\r\n    \r\n        @Bean\r\n        public DataSource readWriteDataSource() {\r\n            LOGGER.info(&quot;DB Props: {}&quot;, dbProps.toString());\r\n            PGSimpleDataSource dataSource = new PGSimpleDataSource();\r\n            dataSource.setUrl(dbProps.getDbUrl());\r\n            dataSource.setUser(dbProps.getDbUser());\r\n            dataSource.setPassword(dbProps.getDbPassword());\r\n            dataSource.setLogUnclosedConnections(true);\r\n            return connectionPoolDataSource(dataSource);\r\n        }\r\n    \r\n        @Bean\r\n        public DataSource readOnlyDataSource() {\r\n            PGSimpleDataSource dataSource = new PGSimpleDataSource();\r\n            dataSource.setUrl(dbProps.getReplicaDbUrl());\r\n            dataSource.setUser(dbProps.getDbUser());\r\n            dataSource.setPassword(dbProps.getDbPassword());\r\n            dataSource.setLogUnclosedConnections(true);\r\n            return connectionPoolDataSource(dataSource);\r\n        }\r\n    \r\n        @Bean\r\n        @Primary\r\n        public TransactionRoutingDataSource actualDataSource() {\r\n            TransactionRoutingDataSource routingDataSource = new TransactionRoutingDataSource();\r\n    \r\n            Map&lt;Object, Object&gt; dataSourceMap = new HashMap&lt;&gt;();\r\n            dataSourceMap.put(DataSourceType.READ_WRITE, readWriteDataSource());\r\n            dataSourceMap.put(DataSourceType.READ_ONLY, readOnlyDataSource());\r\n    \r\n            routingDataSource.setTargetDataSources(dataSourceMap);\r\n            routingDataSource.setDefaultTargetDataSource(readOnlyDataSource());\r\n            return routingDataSource;\r\n        }\r\n    \r\n        protected HikariConfig hikariConfig(DataSource dataSource) {\r\n            HikariConfig hikariConfig = new HikariConfig();\r\n            int cpuCores = Runtime.getRuntime().availableProcessors();\r\n            hikariConfig.setMaximumPoolSize(cpuCores * 4);\r\n            hikariConfig.setDataSource(dataSource);\r\n            hikariConfig.setIdleTimeout(600000);\r\n            hikariConfig.setLeakDetectionThreshold(30000);\r\n            hikariConfig.setConnectionTimeout(30000);\r\n            hikariConfig.setMaxLifetime(1800000);\r\n            hikariConfig.setAutoCommit(false);\r\n            return hikariConfig;\r\n        }\r\n    \r\n        protected HikariDataSource connectionPoolDataSource(DataSource actualDataSource) {\r\n            return new HikariDataSource(hikariConfig(actualDataSource));\r\n        }\r\n    \r\n        private DataSource dataSource() {\r\n            return ProxyDataSourceBuilder\r\n                    .create(actualDataSource())\r\n                    .name(&quot;Proxy-datasource&quot;)\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n            LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\r\n            entityManagerFactoryBean.setPersistenceUnitName(getClass().getSimpleName());\r\n            entityManagerFactoryBean.setPersistenceProvider(new HibernatePersistenceProvider());\r\n            entityManagerFactoryBean.setDataSource(dataSource());\r\n    \r\n            HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n            HibernateJpaDialect jpaDialect = vendorAdapter.getJpaDialect();\r\n            jpaDialect.setPrepareConnection(false);\r\n            entityManagerFactoryBean.setJpaVendorAdapter(vendorAdapter);\r\n            entityManagerFactoryBean.setJpaProperties(additionalProperties());\r\n            entityManagerFactoryBean.setPackagesToScan(&quot;com.api.models&quot;);\r\n            return entityManagerFactoryBean;\r\n        }\r\n    \r\n        @Bean\r\n        public JpaTransactionManager transactionManager(EntityManagerFactory entityManagerFactory) {\r\n            JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(entityManagerFactory);\r\n            return transactionManager;\r\n        }\r\n    \r\n        @Bean\r\n        public TransactionTemplate transactionTemplate(EntityManagerFactory entityManagerFactory) {\r\n            return new TransactionTemplate(transactionManager(entityManagerFactory));\r\n        }\r\n    \r\n        protected Properties additionalProperties() {\r\n            Properties properties = new Properties();\r\n            properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.PostgreSQLDialect&quot;);\r\n            //properties.setProperty(&quot;hibernate.connection.release_mode&quot;, &quot;after_transaction&quot;);\r\n            properties.setProperty(&quot;hibernate.connection.provider_disables_autocommit&quot;,Boolean.TRUE.toString());\r\n            return properties;\r\n        }\r\n    \r\n    }\r\n\r\nI&#39;m having issues doing writes where I  manually change Isolation level e.g \r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW, isolation = Isolation.REPEATABLE_READ, rollbackFor = Exception.class)\r\n\r\nI get the following exception \r\n\r\n    org.springframework.transaction.InvalidIsolationLevelException: HibernateJpaDialect is not allowed to support custom isolation levels: make sure that its &#39;prepareConnection&#39; flag is on (the default) and that the Hibernate connection release mode is set to ON_CLOSE\r\n\r\nwhen I leave the jpaDialect.setPrepareConnection property as default as advised in the error message it works but I lose the routing functionality and all queries both reads and writes are sent to the primary instance. How do enable change of isolation level while still being able to route the the queries?\r\n\r\n  [1]: https://vladmihalcea.com/read-write-read-only-transaction-routing-spring/\r\n\r\n","title":"InvalidIsolationLevelException: HibernateJpaDialect Error encountered for read write datasource routing Hibernate","body":"<p>I am implementing a read write datasource routing using <a href=\"https://vladmihalcea.com/read-write-read-only-transaction-routing-spring/\" rel=\"nofollow noreferrer\">Vlad Mihlceas's post</a></p>\n<p>Below is my config class</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableAspectJAutoProxy\n@EnableJpaRepositories(\n        value = &quot;com.api.repositories&quot;,repositoryBaseClass = BaseJpaRepositoryImpl.class\n)\npublic class DBConfig {\n\n    @Autowired\n    private DbProps dbProps;\n\n    @Bean\n    public DataSource readWriteDataSource() {\n        LOGGER.info(&quot;DB Props: {}&quot;, dbProps.toString());\n        PGSimpleDataSource dataSource = new PGSimpleDataSource();\n        dataSource.setUrl(dbProps.getDbUrl());\n        dataSource.setUser(dbProps.getDbUser());\n        dataSource.setPassword(dbProps.getDbPassword());\n        dataSource.setLogUnclosedConnections(true);\n        return connectionPoolDataSource(dataSource);\n    }\n\n    @Bean\n    public DataSource readOnlyDataSource() {\n        PGSimpleDataSource dataSource = new PGSimpleDataSource();\n        dataSource.setUrl(dbProps.getReplicaDbUrl());\n        dataSource.setUser(dbProps.getDbUser());\n        dataSource.setPassword(dbProps.getDbPassword());\n        dataSource.setLogUnclosedConnections(true);\n        return connectionPoolDataSource(dataSource);\n    }\n\n    @Bean\n    @Primary\n    public TransactionRoutingDataSource actualDataSource() {\n        TransactionRoutingDataSource routingDataSource = new TransactionRoutingDataSource();\n\n        Map&lt;Object, Object&gt; dataSourceMap = new HashMap&lt;&gt;();\n        dataSourceMap.put(DataSourceType.READ_WRITE, readWriteDataSource());\n        dataSourceMap.put(DataSourceType.READ_ONLY, readOnlyDataSource());\n\n        routingDataSource.setTargetDataSources(dataSourceMap);\n        routingDataSource.setDefaultTargetDataSource(readOnlyDataSource());\n        return routingDataSource;\n    }\n\n    protected HikariConfig hikariConfig(DataSource dataSource) {\n        HikariConfig hikariConfig = new HikariConfig();\n        int cpuCores = Runtime.getRuntime().availableProcessors();\n        hikariConfig.setMaximumPoolSize(cpuCores * 4);\n        hikariConfig.setDataSource(dataSource);\n        hikariConfig.setIdleTimeout(600000);\n        hikariConfig.setLeakDetectionThreshold(30000);\n        hikariConfig.setConnectionTimeout(30000);\n        hikariConfig.setMaxLifetime(1800000);\n        hikariConfig.setAutoCommit(false);\n        return hikariConfig;\n    }\n\n    protected HikariDataSource connectionPoolDataSource(DataSource actualDataSource) {\n        return new HikariDataSource(hikariConfig(actualDataSource));\n    }\n\n    private DataSource dataSource() {\n        return ProxyDataSourceBuilder\n                .create(actualDataSource())\n                .name(&quot;Proxy-datasource&quot;)\n                .build();\n    }\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n        LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\n        entityManagerFactoryBean.setPersistenceUnitName(getClass().getSimpleName());\n        entityManagerFactoryBean.setPersistenceProvider(new HibernatePersistenceProvider());\n        entityManagerFactoryBean.setDataSource(dataSource());\n\n        HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        HibernateJpaDialect jpaDialect = vendorAdapter.getJpaDialect();\n        jpaDialect.setPrepareConnection(false);\n        entityManagerFactoryBean.setJpaVendorAdapter(vendorAdapter);\n        entityManagerFactoryBean.setJpaProperties(additionalProperties());\n        entityManagerFactoryBean.setPackagesToScan(&quot;com.api.models&quot;);\n        return entityManagerFactoryBean;\n    }\n\n    @Bean\n    public JpaTransactionManager transactionManager(EntityManagerFactory entityManagerFactory) {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(entityManagerFactory);\n        return transactionManager;\n    }\n\n    @Bean\n    public TransactionTemplate transactionTemplate(EntityManagerFactory entityManagerFactory) {\n        return new TransactionTemplate(transactionManager(entityManagerFactory));\n    }\n\n    protected Properties additionalProperties() {\n        Properties properties = new Properties();\n        properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.PostgreSQLDialect&quot;);\n        //properties.setProperty(&quot;hibernate.connection.release_mode&quot;, &quot;after_transaction&quot;);\n        properties.setProperty(&quot;hibernate.connection.provider_disables_autocommit&quot;,Boolean.TRUE.toString());\n        return properties;\n    }\n\n}\n</code></pre>\n<p>I'm having issues doing writes where I  manually change Isolation level e.g</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRES_NEW, isolation = Isolation.REPEATABLE_READ, rollbackFor = Exception.class)\n</code></pre>\n<p>I get the following exception</p>\n<pre><code>org.springframework.transaction.InvalidIsolationLevelException: HibernateJpaDialect is not allowed to support custom isolation levels: make sure that its 'prepareConnection' flag is on (the default) and that the Hibernate connection release mode is set to ON_CLOSE\n</code></pre>\n<p>when I leave the jpaDialect.setPrepareConnection property as default as advised in the error message it works but I lose the routing functionality and all queries both reads and writes are sent to the primary instance. How do enable change of isolation level while still being able to route the the queries?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1679065958,"post_id":75768814,"comment_id":133659523,"body_markdown":"I presume by inclination, you mean slope.  Why would you need that since the points themselves would be at the slope created by going from `point a` to `point b`?","body":"I presume by inclination, you mean slope.  Why would you need that since the points themselves would be at the slope created by going from <code>point a</code> to <code>point b</code>?"},{"owner":{"account_id":28043240,"reputation":11,"user_id":21420453,"display_name":"PhoenixTCD"},"score":0,"creation_date":1679075077,"post_id":75768814,"comment_id":133661951,"body_markdown":"Like a cartesian plane","body":"Like a cartesian plane"}],"answers":[{"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1679070851,"post_id":75769065,"comment_id":133660897,"body_markdown":"That sounds so much like ChatGP response, even if it’s not, you should avoid overriding paint of top level containers, like JFrame as it will allow you to paint under the frame decorations, which is never pleasant. JFrame is also a compound component, and because of the way painting works in Swing, it can paint child components with having to paint the patent, which can cause it to paint over it","body":"That sounds so much like ChatGP response, even if it’s not, you should avoid overriding paint of top level containers, like JFrame as it will allow you to paint under the frame decorations, which is never pleasant. JFrame is also a compound component, and because of the way painting works in Swing, it can paint child components with having to paint the patent, which can cause it to paint over it"},{"owner":{"account_id":8412094,"reputation":131,"user_id":6313636,"display_name":"wolfenblut"},"score":0,"creation_date":1679297183,"post_id":75769065,"comment_id":133689322,"body_markdown":"@MadProgrammer it may not be the best solution, however it is a solution. Also, it is not a solution from an Artificial intelligence. I tried to explain starting from the basics. Yes, we may think to avoid painting on the JFrame directly but it answers the question of the author.","body":"@MadProgrammer it may not be the best solution, however it is a solution. Also, it is not a solution from an Artificial intelligence. I tried to explain starting from the basics. Yes, we may think to avoid painting on the JFrame directly but it answers the question of the author."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1679298167,"post_id":75769065,"comment_id":133689542,"body_markdown":"While I appreciate you think it &quot;answers&quot; the OP&#39;s question, it clearly demonstrates an incorrect approach which is going to lead the OP to more issues (and posting more questions, leading us to further highlight the low quality of the answer you&#39;ve posted) - For [example](https://stackoverflow.com/questions/13457237/how-to-get-the-exact-middle-of-a-screen-even-when-re-sized/13460914#13460914); [example](https://stackoverflow.com/questions/17499375/java-awt-drawstring-does-not-display-on-window/17499425#17499425);","body":"While I appreciate you think it &quot;answers&quot; the OP&#39;s question, it clearly demonstrates an incorrect approach which is going to lead the OP to more issues (and posting more questions, leading us to further highlight the low quality of the answer you&#39;ve posted) - For <a href=\"https://stackoverflow.com/questions/13457237/how-to-get-the-exact-middle-of-a-screen-even-when-re-sized/13460914#13460914\">example</a>; <a href=\"https://stackoverflow.com/questions/17499375/java-awt-drawstring-does-not-display-on-window/17499425#17499425\">example</a>;"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1679298305,"post_id":75769065,"comment_id":133689580,"body_markdown":"And  [example](https://stackoverflow.com/questions/13734069/how-can-i-set-in-the-midst/13734319#13734319) - which demonstrates the &quot;core&quot; reasons why you shouldn&#39;t do what you&#39;re proposing the user should do. So instead, we should all be aiming to provide the &quot;best&quot; answers","body":"And  <a href=\"https://stackoverflow.com/questions/13734069/how-can-i-set-in-the-midst/13734319#13734319\">example</a> - which demonstrates the &quot;core&quot; reasons why you shouldn&#39;t do what you&#39;re proposing the user should do. So instead, we should all be aiming to provide the &quot;best&quot; answers"},{"owner":{"account_id":8412094,"reputation":131,"user_id":6313636,"display_name":"wolfenblut"},"score":0,"creation_date":1679302282,"post_id":75769065,"comment_id":133690414,"body_markdown":"Ok, I&#39;ll edit my answer soon.","body":"Ok, I&#39;ll edit my answer soon."}],"tags":[],"owner":{"account_id":8412094,"reputation":131,"user_id":6313636,"display_name":"wolfenblut"},"comment_count":5,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1679064996,"creation_date":1679064996,"answer_id":75769065,"question_id":75768814,"body_markdown":"In Java 2D, an object should generally be an instance of Component class to be drawn on the screen.\r\n\r\nJFrame is an indirect subclass of Component class. See [here][1] for the complete hierarchy.\r\n\r\nThe paint method of the component describes how does that object appear on the screen.\r\n\r\nTherefore, let&#39;s have a Template Class that has a constructor that takes these parameters, and overrides the paint method.:\r\n\r\n    import java.awt.Graphics;\r\n    import javax.swing.JFrame;\r\n    class Template extends JFrame{\r\n    \r\n        int p0x;\r\n        int p0y;\r\n        int p1x;\r\n        int p1y;\r\n    \r\n        public Template (int p0x,int p0y, int p1x ,int p1y){\r\n            super(&quot;Demo&quot;);\r\n            this.p0x = p0x;\r\n            this.p1x = p1x;\r\n            this.p0y = p0y;\r\n            this.p1y = p1y;\r\n            setSize(500, 500);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setLocationRelativeTo(null);\r\n        }\r\n        @Override\r\n        public void paint(Graphics g) {\r\n            super.paint(g); //to draw a JFrame!\r\n            g2d.drawLine(p0x, p0y, p1x, p1y);\r\n        }\r\n     \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    new Template(120, 50, 360, 50).setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    \r\n    \r\n    }\r\nOne last note: You don&#39;t need to use BufferedImage to draw lines.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/swing/JFrame.html","title":"how to draw a line at different inclinations using java","body":"<p>In Java 2D, an object should generally be an instance of Component class to be drawn on the screen.</p>\n<p>JFrame is an indirect subclass of Component class. See <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JFrame.html\" rel=\"nofollow noreferrer\">here</a> for the complete hierarchy.</p>\n<p>The paint method of the component describes how does that object appear on the screen.</p>\n<p>Therefore, let's have a Template Class that has a constructor that takes these parameters, and overrides the paint method.:</p>\n<pre><code>import java.awt.Graphics;\nimport javax.swing.JFrame;\nclass Template extends JFrame{\n\n    int p0x;\n    int p0y;\n    int p1x;\n    int p1y;\n\n    public Template (int p0x,int p0y, int p1x ,int p1y){\n        super(&quot;Demo&quot;);\n        this.p0x = p0x;\n        this.p1x = p1x;\n        this.p0y = p0y;\n        this.p1y = p1y;\n        setSize(500, 500);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setLocationRelativeTo(null);\n    }\n    @Override\n    public void paint(Graphics g) {\n        super.paint(g); //to draw a JFrame!\n        g2d.drawLine(p0x, p0y, p1x, p1y);\n    }\n \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new Template(120, 50, 360, 50).setVisible(true);\n            }\n        });\n    }\n\n\n}\n</code></pre>\n<p>One last note: You don't need to use BufferedImage to draw lines.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679067925,"creation_date":1679067925,"answer_id":75769600,"question_id":75768814,"body_markdown":"You should not be painting directly into a `JFrame`.  Standard technique is to paint into a `JPanel` that is in the frame.\r\n\r\n- I reduced the size of the image for demonstration purposes.\r\n- The constructor is pretty standard to set up the frame, add the panel, and center it on the screen.\r\n- drawLine is called which draws the line over the image and calls repaint.\r\n  - Here I changed the color of the line to red\r\n  - and set its width to 3 pixels\r\n- overriding `paintComponent` is how you paint in `JPanel`\r\n```\r\nimport java.awt.BasicStroke;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.RenderingHints;\r\nimport java.awt.image.BufferedImage;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingUtilities;\r\n\r\npublic class Template extends JPanel {\r\n\r\n    private BufferedImage img;\r\n    private static int WIDTH = 500;\r\n    private static int HEIGHT = 400;\r\n    JFrame frame = new JFrame(&quot;TempLate&quot;);\r\n    private int p0x, p0y, p1x, p1y;\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; new Template().start());\r\n    }\r\n\r\n    public Template() {\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(this);\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null); // center\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public void start() {\r\n        p0x = 50;\r\n        p0y = 50;\r\n        p1x = 200;\r\n        p1y = 200;\r\n        drawLine();\r\n        frame.repaint();\r\n    }\r\n    public void drawLine() {\r\n        img = new BufferedImage(WIDTH, HEIGHT, BufferedImage.TYPE_INT_RGB);\r\n        Graphics2D imgG2D = (Graphics2D)img.getGraphics();\r\n        // ensure a smooth line\r\n        imgG2D.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n                RenderingHints.VALUE_ANTIALIAS_ON);\r\n        imgG2D.setColor(Color.RED);\r\n        imgG2D.setStroke(new BasicStroke(3));\r\n        imgG2D.drawLine(p0x, p0y, p1x, p1y);\r\n    }\r\n\r\n    @Override\r\n    public Dimension getPreferredSize() {\r\n        return new Dimension(WIDTH, HEIGHT);\r\n    }\r\n\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        if (img == null) {\r\n             return;\r\n        }\r\n       \r\n        g.drawImage(img, 0, 0, this);\r\n    }\r\n\r\n}\r\n```\r\nFor more in painting check out [The Java Tutorials](http://docs.oracle.com/javase/tutorial/index.html)\r\n","title":"how to draw a line at different inclinations using java","body":"<p>You should not be painting directly into a <code>JFrame</code>.  Standard technique is to paint into a <code>JPanel</code> that is in the frame.</p>\n<ul>\n<li>I reduced the size of the image for demonstration purposes.</li>\n<li>The constructor is pretty standard to set up the frame, add the panel, and center it on the screen.</li>\n<li>drawLine is called which draws the line over the image and calls repaint.\n<ul>\n<li>Here I changed the color of the line to red</li>\n<li>and set its width to 3 pixels</li>\n</ul>\n</li>\n<li>overriding <code>paintComponent</code> is how you paint in <code>JPanel</code></li>\n</ul>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.image.BufferedImage;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class Template extends JPanel {\n\n    private BufferedImage img;\n    private static int WIDTH = 500;\n    private static int HEIGHT = 400;\n    JFrame frame = new JFrame(&quot;TempLate&quot;);\n    private int p0x, p0y, p1x, p1y;\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; new Template().start());\n    }\n\n    public Template() {\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(this);\n        frame.pack();\n        frame.setLocationRelativeTo(null); // center\n        frame.setVisible(true);\n    }\n\n    public void start() {\n        p0x = 50;\n        p0y = 50;\n        p1x = 200;\n        p1y = 200;\n        drawLine();\n        frame.repaint();\n    }\n    public void drawLine() {\n        img = new BufferedImage(WIDTH, HEIGHT, BufferedImage.TYPE_INT_RGB);\n        Graphics2D imgG2D = (Graphics2D)img.getGraphics();\n        // ensure a smooth line\n        imgG2D.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n        imgG2D.setColor(Color.RED);\n        imgG2D.setStroke(new BasicStroke(3));\n        imgG2D.drawLine(p0x, p0y, p1x, p1y);\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(WIDTH, HEIGHT);\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        if (img == null) {\n             return;\n        }\n       \n        g.drawImage(img, 0, 0, this);\n    }\n\n}\n</code></pre>\n<p>For more in painting check out <a href=\"http://docs.oracle.com/javase/tutorial/index.html\" rel=\"nofollow noreferrer\">The Java Tutorials</a></p>\n"}],"owner":{"account_id":28043240,"reputation":11,"user_id":21420453,"display_name":"PhoenixTCD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1679072678,"creation_date":1679063366,"question_id":75768814,"body_markdown":"Considering the points p0x, p0y, p1x and p1y, in addition to their relationships,\r\n```none\r\ndeltaX = (p1x-p0x)\r\n```\r\nand\r\n```none\r\ndeltaY = (p1y - p0y).\r\n```\r\nDevise a way to draw a line on an image, at any possible inclination. I want make this using `JFrame` but I don&#39;t now how to make this: \r\n```java\r\nimport java.awt.Graphics;\r\nimport java.awt.image.BufferedImage;\r\n\r\nimport javax.swing.JFrame;\r\n\r\npublic class Template extends JFrame {\r\n\tprivate BufferedImage img;\r\n\r\n\tpublic Template() {\r\n\t\timg = new BufferedImage(1600, 1200, BufferedImage.TYPE_INT_RGB);\r\n\t\tsetBounds(10,10,1600,1200);\r\n\t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\t\tsetTitle(&quot;Template&quot;);\r\n\t\tdrawLine();\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tprivate void drawLine(int p0x,int p0y, int p1x ,int p1y) {\r\n\t\tp0x = 50;\r\n\t\tp0y = 50;\r\n\t\tp1x = 200;\r\n\t\tp1y = 200;\r\n\t\tint deltaX = (p1x-p0x);\r\n\t\tint deltaY = (p1y - p0y);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void paint(Graphics g) {\r\n\t\tg.drawImage(img, 0, 0, this);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tTemplate t = new Template();\r\n\t}\r\n}\r\n```\r\nAn algorithm to make a line in any possible inclination.","title":"how to draw a line at different inclinations using java","body":"<p>Considering the points p0x, p0y, p1x and p1y, in addition to their relationships,</p>\n<pre class=\"lang-none prettyprint-override\"><code>deltaX = (p1x-p0x)\n</code></pre>\n<p>and</p>\n<pre class=\"lang-none prettyprint-override\"><code>deltaY = (p1y - p0y).\n</code></pre>\n<p>Devise a way to draw a line on an image, at any possible inclination. I want make this using <code>JFrame</code> but I don't now how to make this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Graphics;\nimport java.awt.image.BufferedImage;\n\nimport javax.swing.JFrame;\n\npublic class Template extends JFrame {\n    private BufferedImage img;\n\n    public Template() {\n        img = new BufferedImage(1600, 1200, BufferedImage.TYPE_INT_RGB);\n        setBounds(10,10,1600,1200);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setTitle(&quot;Template&quot;);\n        drawLine();\n        setVisible(true);\n    }\n\n    private void drawLine(int p0x,int p0y, int p1x ,int p1y) {\n        p0x = 50;\n        p0y = 50;\n        p1x = 200;\n        p1y = 200;\n        int deltaX = (p1x-p0x);\n        int deltaY = (p1y - p0y);\n    }\n\n    @Override\n    public void paint(Graphics g) {\n        g.drawImage(img, 0, 0, this);\n    }\n    \n    public static void main(String[] args) {\n        Template t = new Template();\n    }\n}\n</code></pre>\n<p>An algorithm to make a line in any possible inclination.</p>\n"},{"tags":["java","spring-boot","spring-webflux","reactive-programming","project-reactor"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1678901143,"post_id":75746542,"comment_id":133624486,"body_markdown":"Does this answer your question?  https://stackoverflow.com/a/72779662/9068895","body":"Does this answer your question?  <a href=\"https://stackoverflow.com/a/72779662/9068895\">stackoverflow.com/a/72779662/9068895</a>"},{"owner":{"account_id":6137477,"reputation":830,"user_id":4785824,"accept_rate":27,"display_name":"quintin"},"score":0,"creation_date":1678955987,"post_id":75746542,"comment_id":133634045,"body_markdown":"@Alex everywhere its using predefined delay and retries. In my case I&#39;ll get the delay in handleResponse() response and there is no way to pass it to retryBackoff spec.","body":"@Alex everywhere its using predefined delay and retries. In my case I&#39;ll get the delay in handleResponse() response and there is no way to pass it to retryBackoff spec."},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1679009597,"post_id":75746542,"comment_id":133648798,"body_markdown":"not sure I&#39;m following, but delay is initialized `delay = ...;`.  you can still do `delay = calculateDelay();`","body":"not sure I&#39;m following, but delay is initialized <code>delay = ...;</code>.  you can still do <code>delay = calculateDelay();</code>"},{"owner":{"account_id":6137477,"reputation":830,"user_id":4785824,"accept_rate":27,"display_name":"quintin"},"score":0,"creation_date":1679035875,"post_id":75746542,"comment_id":133651916,"body_markdown":"Let&#39;s assime handleResponse returns an int value representing the amout of delay for next retry. How can I use the return value in RetryBackoffSpec?","body":"Let&#39;s assime handleResponse returns an int value representing the amout of delay for next retry. How can I use the return value in RetryBackoffSpec?"}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679072536,"creation_date":1679072536,"answer_id":75770306,"question_id":75746542,"body_markdown":"You can create custom `RetrySpec` based on criteria from the `RetrySignal` (e.g. http headers from the response).\r\n\r\nThe following example uses `Retry-After` header to define custom backoff logic.\r\n\r\n```\r\nprivate static class DynamicRetrySpec extends Retry {\r\n    private final int maxRetries;\r\n    private final Duration defaultBackoff;\r\n\r\n    public DynamicRetrySpec(int maxRetries, Duration defaultBackoff) {\r\n        this.maxRetries = maxRetries;\r\n        this.defaultBackoff = defaultBackoff;\r\n    }\r\n\r\n    @Override\r\n    public Publisher&lt;?&gt; generateCompanion(Flux&lt;RetrySignal&gt; retrySignals) {\r\n        return retrySignals.flatMap(this::getRetry);\r\n    }\r\n\r\n    private Mono&lt;Long&gt; getRetry(Retry.RetrySignal rs) {\r\n        if (rs.failure() instanceof WebClientResponseException.TooManyRequests) {\r\n            if (rs.totalRetries() &lt; maxRetries) {\r\n                Duration delay = getBackOffDelayFromHeaders((WebClientResponseException.TooManyRequests) rs.failure());\r\n\r\n                log.info(&quot;retry {} with backoff {}sec&quot;, rs.totalRetries(), delay.toSeconds());\r\n                return Mono.delay(delay)\r\n                        .thenReturn(rs.totalRetries());\r\n            } else {\r\n                log.info(&quot;retries exhausted with error: {}&quot;, rs.failure().getMessage());\r\n                throw Exceptions.propagate(rs.failure());\r\n            }\r\n        } else {\r\n            throw Exceptions.propagate(rs.failure());\r\n        }\r\n    }\r\n\r\n    private Duration getBackOffDelayFromHeaders(WebClientResponseException.TooManyRequests exceptionResponse) {\r\n        String retryAfter = exceptionResponse.getHeaders().getFirst(&quot;Retry-After&quot;);\r\n        if (retryAfter != null) {\r\n            return Duration.ofSeconds(Integer.parseInt(retryAfter));\r\n        }\r\n        return defaultBackoff;\r\n    }\r\n}\r\n```\r\n\r\nand then uses it to the `WebClient`\r\n```\r\nwebClient.get()\r\n    .uri(&quot;/api&quot;)\r\n    .retrieve()\r\n    .toBodilessEntity()\r\n    .retryWhen(new DynamicRetrySpec(3, Duration.ofSeconds(1)));\r\n```","title":"Dynamic Backoff duration in RetryBackoffSpec in spring webflux","body":"<p>You can create custom <code>RetrySpec</code> based on criteria from the <code>RetrySignal</code> (e.g. http headers from the response).</p>\n<p>The following example uses <code>Retry-After</code> header to define custom backoff logic.</p>\n<pre><code>private static class DynamicRetrySpec extends Retry {\n    private final int maxRetries;\n    private final Duration defaultBackoff;\n\n    public DynamicRetrySpec(int maxRetries, Duration defaultBackoff) {\n        this.maxRetries = maxRetries;\n        this.defaultBackoff = defaultBackoff;\n    }\n\n    @Override\n    public Publisher&lt;?&gt; generateCompanion(Flux&lt;RetrySignal&gt; retrySignals) {\n        return retrySignals.flatMap(this::getRetry);\n    }\n\n    private Mono&lt;Long&gt; getRetry(Retry.RetrySignal rs) {\n        if (rs.failure() instanceof WebClientResponseException.TooManyRequests) {\n            if (rs.totalRetries() &lt; maxRetries) {\n                Duration delay = getBackOffDelayFromHeaders((WebClientResponseException.TooManyRequests) rs.failure());\n\n                log.info(&quot;retry {} with backoff {}sec&quot;, rs.totalRetries(), delay.toSeconds());\n                return Mono.delay(delay)\n                        .thenReturn(rs.totalRetries());\n            } else {\n                log.info(&quot;retries exhausted with error: {}&quot;, rs.failure().getMessage());\n                throw Exceptions.propagate(rs.failure());\n            }\n        } else {\n            throw Exceptions.propagate(rs.failure());\n        }\n    }\n\n    private Duration getBackOffDelayFromHeaders(WebClientResponseException.TooManyRequests exceptionResponse) {\n        String retryAfter = exceptionResponse.getHeaders().getFirst(&quot;Retry-After&quot;);\n        if (retryAfter != null) {\n            return Duration.ofSeconds(Integer.parseInt(retryAfter));\n        }\n        return defaultBackoff;\n    }\n}\n</code></pre>\n<p>and then uses it to the <code>WebClient</code></p>\n<pre><code>webClient.get()\n    .uri(&quot;/api&quot;)\n    .retrieve()\n    .toBodilessEntity()\n    .retryWhen(new DynamicRetrySpec(3, Duration.ofSeconds(1)));\n</code></pre>\n"}],"owner":{"account_id":6137477,"reputation":830,"user_id":4785824,"accept_rate":27,"display_name":"quintin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75770306,"answer_count":1,"score":1,"last_activity_date":1679072536,"creation_date":1678892635,"question_id":75746542,"body_markdown":"```\r\nMono.fromCallable(() -&gt; sendRequestToServer(params))\r\n        .doOnSuccess(result -&gt; handleResponse(result, grantMapEntry, deviceInfo))\r\n        .retryWhen(RetryBackoffSpec\r\n            .backoff(5, ofSeconds(10))\r\n            .doAfterRetry(retryInfo -&gt; {\r\n                  log.warn(&quot;retrying&quot;);\r\n             })\r\n            .scheduler(hbRetryScheduler)\r\n            .jitter(0.5);)\r\n        .subscribe();\r\n```\r\nAbove spec. works fine, but the problem is sometimes server is not able to process the request and returns 106 response code with retryTime in seconds (seconds after which the request should be retried with backoff and jitter). How can I use the returned retryTime in RetryBackoffSpec? ","title":"Dynamic Backoff duration in RetryBackoffSpec in spring webflux","body":"<pre><code>Mono.fromCallable(() -&gt; sendRequestToServer(params))\n        .doOnSuccess(result -&gt; handleResponse(result, grantMapEntry, deviceInfo))\n        .retryWhen(RetryBackoffSpec\n            .backoff(5, ofSeconds(10))\n            .doAfterRetry(retryInfo -&gt; {\n                  log.warn(&quot;retrying&quot;);\n             })\n            .scheduler(hbRetryScheduler)\n            .jitter(0.5);)\n        .subscribe();\n</code></pre>\n<p>Above spec. works fine, but the problem is sometimes server is not able to process the request and returns 106 response code with retryTime in seconds (seconds after which the request should be retried with backoff and jitter). How can I use the returned retryTime in RetryBackoffSpec?</p>\n"},{"tags":["java","arrays","stack-overflow","quicksort"],"comments":[{"owner":{"account_id":20595037,"reputation":210,"user_id":15117694,"display_name":"Alphaharrius"},"score":0,"creation_date":1678820850,"post_id":75737144,"comment_id":133606802,"body_markdown":"Just from your description, you might be running into this error because of too many recursive calls on the ```quickSort``` method due to a &#39;bad&#39; partitioning of your dataset during the sorting runs.\n\nCheck out [this post](https://stackoverflow.com/questions/18368406/java-lang-stackoverflowerror-due-to-recursion) for more information.","body":"Just from your description, you might be running into this error because of too many recursive calls on the <code>quickSort</code> method due to a &#39;bad&#39; partitioning of your dataset during the sorting runs.  Check out <a href=\"https://stackoverflow.com/questions/18368406/java-lang-stackoverflowerror-due-to-recursion\">this post</a> for more information."},{"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"score":0,"creation_date":1678824402,"post_id":75737144,"comment_id":133607750,"body_markdown":"thanks, with that logic I found a way to avoid so many recursive calls during execution. I fixed it!","body":"thanks, with that logic I found a way to avoid so many recursive calls during execution. I fixed it!"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1679060507,"post_id":75737144,"comment_id":133657848,"body_markdown":"Can you tell which line is concerned by the stackoverflow ?","body":"Can you tell which line is concerned by the stackoverflow ?"},{"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"score":0,"creation_date":1679064736,"post_id":75737144,"comment_id":133659109,"body_markdown":"this one: `int pivot = partition(arr, start, end);`. I think the program gave me that as the problem for stack-overflow because after quick sort called itself a last time, there was no more space available in the stack, and since calling the partition method puts one more method call in the stack, and we don&#39;t have more available space, it just collapses","body":"this one: <code>int pivot = partition(arr, start, end);</code>. I think the program gave me that as the problem for stack-overflow because after quick sort called itself a last time, there was no more space available in the stack, and since calling the partition method puts one more method call in the stack, and we don&#39;t have more available space, it just collapses"}],"answers":[{"tags":[],"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678827767,"creation_date":1678825156,"answer_id":75737997,"question_id":75737144,"body_markdown":"So having elements already sorted and choosing always as a pivot the last element would mean that every time you recurse and partition the elements, all of the elements of the array are absolutely going to be less than the pivot and no element would be greater than it.\r\nThis would cause unbalanced partitions, and so the line of code of the low partition `quickSort(arr, start, pivot - 1);` would have to make a lot more recursive calls than the normal causing a stack-overflow. This is the worst case scenario in Quick Sort (O(n^2)).\r\n\r\nTo fix it, what I did was making the algorithm choose random pivots instead of choosing always the last element as the pivot in the following fashion:\r\n\r\n```java\r\nprivate static int partition(String[] arr, int start, int end) {\r\n        int randomIndex = new Random().nextInt(end - start + 1) + start; // random pivot to avoid worst case scenario more often during recursion (when array is already sorted)\r\n        String pivot = arr[randomIndex];\r\n        int i = start - 1;\r\n\r\n        String temp = arr[randomIndex];\r\n        arr[randomIndex] = arr[end];\r\n        arr[end] = temp;\r\n\r\n        for (int j = start; j &lt; end; ++j)\r\n        {\r\n            if (arr[j].compareTo(pivot) &lt; 0)\r\n            {\r\n                ++i;\r\n                temp = arr[i];\r\n                arr[i] = arr[j];\r\n                arr[j] = temp;\r\n            }\r\n        }\r\n        ++i;\r\n        temp = arr[i];\r\n        arr[i] = pivot;\r\n        arr[end] = temp;\r\n\r\n        return i;\r\n    }\r\n```\r\n\r\nMore explanation:\r\n\r\n- Why `nextInt(end - start + 1) + start;`? \r\n\r\nWe need to choose the element at a random index within that specific partition of the array. This parameter will generate a number between 0 to the last index `end - start` of the partition (not inclusive). To include the last index as a possible pivot. We must add one.\r\nWe then add to the result the smallest index because we do not want indexes of the low partition being included. When the method is doing the high partition, the lowest index is not going to be 0 but a higher number. When we add the lowest index to the result, we exclude all the numbers lower than that number to being possible pivots.\r\n\r\n- Why do we swap before entering the for loop?\r\n\r\nBecause we are still following the same logic as before; that of incrementing i every time we find a greater element than the pivot without moving the pivot from the last index and changing it accidentally. Then, at the very end, we swap the last element where the pivot remained safely from any swaps with the subsequent index of the last smallest element than the pivot.\r\n\r\nTo perform the previous, we must make sure than our pivot element is indeed in the last index before any swaps. That is why before entering the for loop, we swap.","title":"Quick Sort going stack-overflow with a large array (more than 600000 elements) when testing it with the array already sorted","body":"<p>So having elements already sorted and choosing always as a pivot the last element would mean that every time you recurse and partition the elements, all of the elements of the array are absolutely going to be less than the pivot and no element would be greater than it.\nThis would cause unbalanced partitions, and so the line of code of the low partition <code>quickSort(arr, start, pivot - 1);</code> would have to make a lot more recursive calls than the normal causing a stack-overflow. This is the worst case scenario in Quick Sort (O(n^2)).</p>\n<p>To fix it, what I did was making the algorithm choose random pivots instead of choosing always the last element as the pivot in the following fashion:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static int partition(String[] arr, int start, int end) {\n        int randomIndex = new Random().nextInt(end - start + 1) + start; // random pivot to avoid worst case scenario more often during recursion (when array is already sorted)\n        String pivot = arr[randomIndex];\n        int i = start - 1;\n\n        String temp = arr[randomIndex];\n        arr[randomIndex] = arr[end];\n        arr[end] = temp;\n\n        for (int j = start; j &lt; end; ++j)\n        {\n            if (arr[j].compareTo(pivot) &lt; 0)\n            {\n                ++i;\n                temp = arr[i];\n                arr[i] = arr[j];\n                arr[j] = temp;\n            }\n        }\n        ++i;\n        temp = arr[i];\n        arr[i] = pivot;\n        arr[end] = temp;\n\n        return i;\n    }\n</code></pre>\n<p>More explanation:</p>\n<ul>\n<li>Why <code>nextInt(end - start + 1) + start;</code>?</li>\n</ul>\n<p>We need to choose the element at a random index within that specific partition of the array. This parameter will generate a number between 0 to the last index <code>end - start</code> of the partition (not inclusive). To include the last index as a possible pivot. We must add one.\nWe then add to the result the smallest index because we do not want indexes of the low partition being included. When the method is doing the high partition, the lowest index is not going to be 0 but a higher number. When we add the lowest index to the result, we exclude all the numbers lower than that number to being possible pivots.</p>\n<ul>\n<li>Why do we swap before entering the for loop?</li>\n</ul>\n<p>Because we are still following the same logic as before; that of incrementing i every time we find a greater element than the pivot without moving the pivot from the last index and changing it accidentally. Then, at the very end, we swap the last element where the pivot remained safely from any swaps with the subsequent index of the last smallest element than the pivot.</p>\n<p>To perform the previous, we must make sure than our pivot element is indeed in the last index before any swaps. That is why before entering the for loop, we swap.</p>\n"},{"comments":[{"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"score":0,"creation_date":1678973131,"post_id":75739001,"comment_id":133639144,"body_markdown":"Thanks, that&#39;s what I tried to do after reading other stackoverflow posts, but I couldn&#39;t really understand; especially the part where you add the lowest/largest index the pivot +/- 1.... Now seeing that solution in my code with my variables and all, everything clicks better haha.","body":"Thanks, that&#39;s what I tried to do after reading other stackoverflow posts, but I couldn&#39;t really understand; especially the part where you add the lowest/largest index the pivot +/- 1.... Now seeing that solution in my code with my variables and all, everything clicks better haha."}],"tags":[],"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678833451,"creation_date":1678833451,"answer_id":75739001,"question_id":75737144,"body_markdown":"The stack overflow can be prevented by only using recursion on the smaller partition, and looping back for the larger partition, with stack space complexity O(log2(n)), but the worst case time complexity remains the same at O(n^2), and 600000 elements may take too long:\r\n\r\n    private static void quickSort(String[] arr, int start, int end) {\r\n        while(end &gt; start){\r\n            int pivot = partition(arr, start, end);\r\n            if((pivot - start) &lt;= (end - pivot)){\r\n                quickSort(arr, start, pivot - 1);\r\n                start = pivot+1;\r\n            } else {\r\n                quickSort(arr, pivot + 1, end);\r\n                end = pivot-1;\r\n            }\r\n        }\r\n    }\r\n\r\nA better choice for pivot would be to use the middle value, median of three, or random pivot as shown in Sheep_Walker&#39;s answer.\r\n","title":"Quick Sort going stack-overflow with a large array (more than 600000 elements) when testing it with the array already sorted","body":"<p>The stack overflow can be prevented by only using recursion on the smaller partition, and looping back for the larger partition, with stack space complexity O(log2(n)), but the worst case time complexity remains the same at O(n^2), and 600000 elements may take too long:</p>\n<pre><code>private static void quickSort(String[] arr, int start, int end) {\n    while(end &gt; start){\n        int pivot = partition(arr, start, end);\n        if((pivot - start) &lt;= (end - pivot)){\n            quickSort(arr, start, pivot - 1);\n            start = pivot+1;\n        } else {\n            quickSort(arr, pivot + 1, end);\n            end = pivot-1;\n        }\n    }\n}\n</code></pre>\n<p>A better choice for pivot would be to use the middle value, median of three, or random pivot as shown in Sheep_Walker's answer.</p>\n"}],"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75739001,"answer_count":2,"score":1,"last_activity_date":1679072450,"creation_date":1678819111,"question_id":75737144,"body_markdown":"So when I test the algorithm with that huge array, it works fine; sorts everything perfectly. But when I test it with the same array already sorted, I get stackOverFlow. I read similar questions on this, but I couldn&#39;t really get a grasp of people&#39;s explanations in those questions. How can I fix it?\r\n\r\nThis is the quick sort implementation:\r\n```java\r\nprivate static void quickSort(String[] arr, int start, int end) {\r\n    \r\n    if (end &lt;= start) return;\r\n\r\n    int pivot = partition(arr, start, end);\r\n    quickSort(arr, start, pivot - 1);\r\n    quickSort(arr, pivot + 1, end);\r\n\r\n}\r\n\r\nprivate static int partition(String[] arr, int start, int end) {\r\n    \r\n    String pivot = arr[end];\r\n    int i = start - 1;\r\n\r\n    for (int j = start; j &lt; end; ++j)\r\n    {\r\n        if (arr[j].compareTo(pivot) &lt; 0)\r\n        {\r\n            ++i;\r\n            String temp = arr[i];\r\n            arr[i] = arr[j];\r\n            arr[j] = temp;\r\n        }\r\n    }\r\n    ++i;\r\n    String temp = arr[i];\r\n    arr[i] = pivot;\r\n    arr[end] = temp;\r\n\r\n    return i;\r\n}\r\n```\r\nPart where code is tested:\r\n```java\r\nList&lt;String&gt; arr = Files.readAllLines(Paths.get(&quot;dictionary.txt&quot;), StandardCharsets.UTF_8);\r\n\r\nString[] arr2 = arr.toArray(new String[arr.size()]);\r\nString[] arr3 = arr2.clone();\r\n\r\nlong startTime41 = System.nanoTime();\r\nSorting.quickSort(arr3);\r\nlong endTime41 = System.nanoTime();\r\nlong timeLapsed41 = endTime41 - startTime41;\r\n\r\nSorting.quickSort(arr3); // StackOverFlow when sorting here\r\n```","title":"Quick Sort going stack-overflow with a large array (more than 600000 elements) when testing it with the array already sorted","body":"<p>So when I test the algorithm with that huge array, it works fine; sorts everything perfectly. But when I test it with the same array already sorted, I get stackOverFlow. I read similar questions on this, but I couldn't really get a grasp of people's explanations in those questions. How can I fix it?</p>\n<p>This is the quick sort implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void quickSort(String[] arr, int start, int end) {\n    \n    if (end &lt;= start) return;\n\n    int pivot = partition(arr, start, end);\n    quickSort(arr, start, pivot - 1);\n    quickSort(arr, pivot + 1, end);\n\n}\n\nprivate static int partition(String[] arr, int start, int end) {\n    \n    String pivot = arr[end];\n    int i = start - 1;\n\n    for (int j = start; j &lt; end; ++j)\n    {\n        if (arr[j].compareTo(pivot) &lt; 0)\n        {\n            ++i;\n            String temp = arr[i];\n            arr[i] = arr[j];\n            arr[j] = temp;\n        }\n    }\n    ++i;\n    String temp = arr[i];\n    arr[i] = pivot;\n    arr[end] = temp;\n\n    return i;\n}\n</code></pre>\n<p>Part where code is tested:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; arr = Files.readAllLines(Paths.get(&quot;dictionary.txt&quot;), StandardCharsets.UTF_8);\n\nString[] arr2 = arr.toArray(new String[arr.size()]);\nString[] arr3 = arr2.clone();\n\nlong startTime41 = System.nanoTime();\nSorting.quickSort(arr3);\nlong endTime41 = System.nanoTime();\nlong timeLapsed41 = endTime41 - startTime41;\n\nSorting.quickSort(arr3); // StackOverFlow when sorting here\n</code></pre>\n"},{"tags":["java","sorting","comparator"],"answers":[{"comments":[{"owner":{"account_id":14362570,"reputation":164,"user_id":10374509,"display_name":"Shraddha"},"score":0,"creation_date":1561018922,"post_id":56667362,"comment_id":99929550,"body_markdown":"Thanks Eran !! one more question, what if I want to store it as Map&lt;string, Integer&gt; as in Map&lt;name, score&gt; ...(I am very new to java )","body":"Thanks Eran !! one more question, what if I want to store it as Map&lt;string, Integer&gt; as in Map&lt;name, score&gt; ...(I am very new to java )"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1561019328,"post_id":56667362,"comment_id":99929755,"body_markdown":"@Shraddha The easiest way is to stream over the entrySet of the `Map&lt;String,Record&gt;`  and use `.collect(Collectors.toMap(Map.Entry::getKey,e-&gt;e.getValue().getScore()))`. There might be a way to do it all in a single stream pipeline, but I can&#39;t think of it right now.","body":"@Shraddha The easiest way is to stream over the entrySet of the <code>Map&lt;String,Record&gt;</code>  and use <code>.collect(Collectors.toMap(Map.Entry::getKey,e-&gt;e.getValue().&zwnj;&#8203;getScore()))</code>. There might be a way to do it all in a single stream pipeline, but I can&#39;t think of it right now."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1561019501,"post_id":56667362,"comment_id":99929845,"body_markdown":"@Shraddha perhaps you can use `collectingAndThen`. Try the pipeline in my answer, but with `.collect(Collectors.collectingAndThen(Collectors.groupingBy(...),Record::getScore)`. I&#39;m not sure of the syntax, but something similar should work.","body":"@Shraddha perhaps you can use <code>collectingAndThen</code>. Try the pipeline in my answer, but with <code>.collect(Collectors.collectingAndThen(Collectors.groupingBy(&zwnj;&#8203;...),Record::getScor&zwnj;&#8203;e)</code>. I&#39;m not sure of the syntax, but something similar should work."},{"owner":{"account_id":14362570,"reputation":164,"user_id":10374509,"display_name":"Shraddha"},"score":0,"creation_date":1561020385,"post_id":56667362,"comment_id":99930279,"body_markdown":"yes, I tried that already but its saying collectingAndThen method not applicable here.. May be I am also using wrong syntax.","body":"yes, I tried that already but its saying collectingAndThen method not applicable here.. May be I am also using wrong syntax."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1561020793,"post_id":56667362,"comment_id":99930513,"body_markdown":"@Shraddha I think I chained it in the wrong place. Try to replace `Collectors.maxBy(Comparator.comparing(Record::getScore))` (of my original answer) with `Collectors.collectingAndThen(Collectors.maxBy(...),Record::getScore)`.","body":"@Shraddha I think I chained it in the wrong place. Try to replace <code>Collectors.maxBy(Comparator.comparing(Record::getScore))</code> (of my original answer) with <code>Collectors.collectingAndThen(Collectors.maxBy(...),Record::g&zwnj;&#8203;etScore)</code>."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1561027160,"post_id":56667362,"comment_id":99934018,"body_markdown":"@Shraddha sorry about that, I can&#39;t test this without having the code of your Record class.","body":"@Shraddha sorry about that, I can&#39;t test this without having the code of your Record class."},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1653747210,"post_id":56667362,"comment_id":127928809,"body_markdown":"`Map&lt;String,Record&gt;` should be `Map&lt;String,Optional&lt;Record&gt;&gt;`? According to https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/stream/Collectors.html#maxBy(java.util.Comparator)","body":"<code>Map&lt;String,Record&gt;</code> should be <code>Map&lt;String,Optional&lt;Record&gt;&gt;</code>? According to <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/stream/Collectors.html#maxBy(java.util.Comparator)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/16/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a>"},{"owner":{"account_id":5546480,"reputation":348,"user_id":4400978,"accept_rate":0,"display_name":"Tukaram Bhosale"},"score":0,"creation_date":1680867212,"post_id":56667362,"comment_id":133972338,"body_markdown":"First sorted operation is not required for my case. Can anyone please explain the use of that?","body":"First sorted operation is not required for my case. Can anyone please explain the use of that?"}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":8,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1560946359,"creation_date":1560946359,"answer_id":56667362,"question_id":56667274,"body_markdown":"You need to chain `maxBy` to the `groupinhBy` collectior:\r\n\r\n\r\n    Map&lt;String,Record&gt; result = \r\n        list.stream()\r\n            .sorted(Comparator.comparing(Record::score))\r\n            .collect(Collectors.groupingBy(Record::name, \r\n                                           LinkedHashMap::new,\r\n                                           Collectors.maxBy(Comparator.comparing(Record::getScore))));\r\n\r\nAnd if you only care about the `Record` instances, you can obtain the `values()` of that `Map`.","title":"Sort and group by and find max of each group in Java 8","body":"<p>You need to chain <code>maxBy</code> to the <code>groupinhBy</code> collectior:</p>\n\n<pre><code>Map&lt;String,Record&gt; result = \n    list.stream()\n        .sorted(Comparator.comparing(Record::score))\n        .collect(Collectors.groupingBy(Record::name, \n                                       LinkedHashMap::new,\n                                       Collectors.maxBy(Comparator.comparing(Record::getScore))));\n</code></pre>\n\n<p>And if you only care about the <code>Record</code> instances, you can obtain the <code>values()</code> of that <code>Map</code>.</p>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1594992052,"creation_date":1560950659,"answer_id":56668728,"question_id":56667274,"body_markdown":"@Eran&#39;s answer is very good. Nevertheless, I would proceed the other way round by first grouping and then reducing:\r\n\r\n    List&lt;Record&gt; result = list.stream()\r\n                                  .collect(Collectors.groupingBy(Record::getName, \r\n                                          Collectors.maxBy(Comparator.comparing(Record::getScore))))\r\n                                  .values().stream()\r\n                                  .map(Optional::get)\r\n                                  .collect(Collectors.toList());\r\nA disadvantage here is that you have to call optional#get. But since a group resulting from groupingBy will never be empty you can call Optional#get without geting an exception.","title":"Sort and group by and find max of each group in Java 8","body":"<p>@Eran's answer is very good. Nevertheless, I would proceed the other way round by first grouping and then reducing:</p>\n<pre><code>List&lt;Record&gt; result = list.stream()\n                              .collect(Collectors.groupingBy(Record::getName, \n                                      Collectors.maxBy(Comparator.comparing(Record::getScore))))\n                              .values().stream()\n                              .map(Optional::get)\n                              .collect(Collectors.toList());\n</code></pre>\n<p>A disadvantage here is that you have to call optional#get. But since a group resulting from groupingBy will never be empty you can call Optional#get without geting an exception.</p>\n"},{"tags":[],"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679071770,"creation_date":1679071770,"answer_id":75770180,"question_id":56667274,"body_markdown":"There&#39;s no need for grouping if only one value (score) is collected per key (name). We can directly use `Collectors.toMap()` with its three-argument overload and provide a `mergeFunction`.\r\n\r\n        Map&lt;String, Integer&gt; hiScoreByName = list.stream().collect(Collectors.toMap(\r\n                Record::getName,\r\n                Record::getScore,\r\n                BinaryOperator.maxBy(Integer::compareTo)\r\n        ));\r\n        // {a=9, b=10, c=8}","title":"Sort and group by and find max of each group in Java 8","body":"<p>There's no need for grouping if only one value (score) is collected per key (name). We can directly use <code>Collectors.toMap()</code> with its three-argument overload and provide a <code>mergeFunction</code>.</p>\n<pre><code>    Map&lt;String, Integer&gt; hiScoreByName = list.stream().collect(Collectors.toMap(\n            Record::getName,\n            Record::getScore,\n            BinaryOperator.maxBy(Integer::compareTo)\n    ));\n    // {a=9, b=10, c=8}\n</code></pre>\n"}],"owner":{"account_id":14362570,"reputation":164,"user_id":10374509,"display_name":"Shraddha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6467,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":56667362,"answer_count":3,"score":6,"last_activity_date":1679071770,"creation_date":1560945989,"question_id":56667274,"body_markdown":"I have an object which has a name and a score. I want to sort the elements by name and find the max score for that name.\r\n\r\nFor example below are the objects (*name*, *score*):\r\n``` \r\n(a, 3)\r\n(a, 9)\r\n(b, 7)\r\n(b, 10)\r\n(c, 8)\r\n(c, 3)\r\n``` \r\n\r\nThe output should be:\r\n\r\n```\r\n(a, 9)\r\n(b, 10)\r\n(c, 8)\r\n```\r\n\r\nI am able to sort using the below code, but I am not able to find out *max*\r\n\r\n\r\n```\r\nList&lt;Record&gt; result = list.stream()\r\n        .sorted(Comparator.comparing(Record::score))\r\n\t\t.collect(Collectors.groupingBy(Record::name, LinkedHashMap::new, Collectors.toList()))\r\n\t\t.values().stream()\r\n\t\t.flatMap(Collection::stream)\r\n\t\t.collect(Collectors.toList());\r\n```","title":"Sort and group by and find max of each group in Java 8","body":"<p>I have an object which has a name and a score. I want to sort the elements by name and find the max score for that name.</p>\n\n<p>For example below are the objects (<em>name</em>, <em>score</em>):</p>\n\n<pre><code>(a, 3)\n(a, 9)\n(b, 7)\n(b, 10)\n(c, 8)\n(c, 3)\n</code></pre>\n\n<p>The output should be:</p>\n\n<pre><code>(a, 9)\n(b, 10)\n(c, 8)\n</code></pre>\n\n<p>I am able to sort using the below code, but I am not able to find out <em>max</em></p>\n\n<pre><code>List&lt;Record&gt; result = list.stream()\n        .sorted(Comparator.comparing(Record::score))\n        .collect(Collectors.groupingBy(Record::name, LinkedHashMap::new, Collectors.toList()))\n        .values().stream()\n        .flatMap(Collection::stream)\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1484741670,"creation_date":1484741670,"answer_id":41719150,"question_id":41719097,"body_markdown":"The `map` call in\r\n\r\n    movies.stream().map(Movie::getMovieTranses)\r\n\r\nconverts a `Stream&lt;Movie&gt;` to a `Stream&lt;List&lt;MovieTrans&gt;&gt;`, which you can collect into a `List&lt;List&lt;MovieTrans&gt;&gt;`, not a `List&lt;MovieTrans&gt;`.\r\n\r\nTo get a single `List&lt;MovieTrans&gt;`, use `flatMap` :\r\n\r\n    List&lt;MovieTrans&gt; movieTransList1 = \r\n        movies.stream()\r\n              .flatMap(m -&gt; m.getMovieTranses().stream())\r\n              .collect(Collectors.toList());","title":"java: incompatible types: inference variable T has incompatible bounds equality constraints: lower bounds: java.util.List&lt;&gt;","body":"<p>The <code>map</code> call in</p>\n\n<pre><code>movies.stream().map(Movie::getMovieTranses)\n</code></pre>\n\n<p>converts a <code>Stream&lt;Movie&gt;</code> to a <code>Stream&lt;List&lt;MovieTrans&gt;&gt;</code>, which you can collect into a <code>List&lt;List&lt;MovieTrans&gt;&gt;</code>, not a <code>List&lt;MovieTrans&gt;</code>.</p>\n\n<p>To get a single <code>List&lt;MovieTrans&gt;</code>, use <code>flatMap</code> :</p>\n\n<pre><code>List&lt;MovieTrans&gt; movieTransList1 = \n    movies.stream()\n          .flatMap(m -&gt; m.getMovieTranses().stream())\n          .collect(Collectors.toList());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1484742704,"post_id":41719156,"comment_id":70633566,"body_markdown":"it isn&#39;t possible to call the method reference as parameter in flatMap. i do it with m -&gt; m.getMovieTranses().stream()","body":"it isn&#39;t possible to call the method reference as parameter in flatMap. i do it with m -&gt; m.getMovieTranses().stream()"}],"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1484742921,"creation_date":1484741675,"answer_id":41719156,"question_id":41719097,"body_markdown":"The type of your expression is `List&lt;List&lt;MovieTrans&gt;&gt;`: it&#39;s the concatenation of the results of the `getMovieTranses` method.\r\n\r\nUse `flatMap` instead:\r\n\r\n    List&lt;MovieTrans&gt; movieTransList1 = movies.stream()\r\n        .flatMap(m -&gt; m.getMovieTranses().stream())\r\n        .collect(Collectors.toList());","title":"java: incompatible types: inference variable T has incompatible bounds equality constraints: lower bounds: java.util.List&lt;&gt;","body":"<p>The type of your expression is <code>List&lt;List&lt;MovieTrans&gt;&gt;</code>: it's the concatenation of the results of the <code>getMovieTranses</code> method.</p>\n\n<p>Use <code>flatMap</code> instead:</p>\n\n<pre><code>List&lt;MovieTrans&gt; movieTransList1 = movies.stream()\n    .flatMap(m -&gt; m.getMovieTranses().stream())\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44561,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":41719150,"answer_count":2,"score":7,"last_activity_date":1679071609,"creation_date":1484741489,"question_id":41719097,"body_markdown":"i try to get a list from a stream but i have an exception.\r\n\r\nHere is the Movie object with a list of an object.\r\n\r\n    public class Movie {\r\n    \r\n        private String example;\r\n        private List&lt;MovieTrans&gt; movieTranses;\r\n    \r\n        public Movie(String example, List&lt;MovieTrans&gt; movieTranses){\r\n            this.example = example;\r\n            this.movieTranses = movieTranses;\r\n        }\r\n        getter and setter\r\n\r\nHere is the MovieTrans:\r\n\r\n    public class MovieTrans {\r\n    \r\n        public String text;\r\n    \r\n        public MovieTrans(String text){\r\n            this.text = text;\r\n        }\r\n        getter and setter\r\n\r\n\r\ni add the element in the lists:\r\n\r\n    List&lt;MovieTrans&gt; movieTransList = Arrays.asList(new MovieTrans(&quot;Appel me&quot;), new MovieTrans(&quot;je t&#39;appel&quot;));\r\n    List&lt;Movie&gt; movies = Arrays.asList(new Movie(&quot;movie played&quot;, movieTransList));\r\n    //return a list of MovieTrans\r\n    List&lt;MovieTrans&gt; movieTransList1 = movies.stream().map(Movie::getMovieTranses).collect(Collectors.toList());\r\n\r\n\r\ni have this compiler error:\r\n\r\n    Error:(44, 95) java: incompatible types: inference variable T has incompatible bounds\r\n        equality constraints: MovieTrans\r\n        lower bounds: java.util.List&lt;MovieTrans&gt;","title":"java: incompatible types: inference variable T has incompatible bounds equality constraints: lower bounds: java.util.List&lt;&gt;","body":"<p>i try to get a list from a stream but i have an exception.</p>\n\n<p>Here is the Movie object with a list of an object.</p>\n\n<pre><code>public class Movie {\n\n    private String example;\n    private List&lt;MovieTrans&gt; movieTranses;\n\n    public Movie(String example, List&lt;MovieTrans&gt; movieTranses){\n        this.example = example;\n        this.movieTranses = movieTranses;\n    }\n    getter and setter\n</code></pre>\n\n<p>Here is the MovieTrans:</p>\n\n<pre><code>public class MovieTrans {\n\n    public String text;\n\n    public MovieTrans(String text){\n        this.text = text;\n    }\n    getter and setter\n</code></pre>\n\n<p>i add the element in the lists:</p>\n\n<pre><code>List&lt;MovieTrans&gt; movieTransList = Arrays.asList(new MovieTrans(\"Appel me\"), new MovieTrans(\"je t'appel\"));\nList&lt;Movie&gt; movies = Arrays.asList(new Movie(\"movie played\", movieTransList));\n//return a list of MovieTrans\nList&lt;MovieTrans&gt; movieTransList1 = movies.stream().map(Movie::getMovieTranses).collect(Collectors.toList());\n</code></pre>\n\n<p>i have this compiler error:</p>\n\n<pre><code>Error:(44, 95) java: incompatible types: inference variable T has incompatible bounds\n    equality constraints: MovieTrans\n    lower bounds: java.util.List&lt;MovieTrans&gt;\n</code></pre>\n"},{"tags":["java","spring","maven","email"],"comments":[{"owner":{"account_id":18544976,"reputation":241,"user_id":13512579,"display_name":"Navneet Singh"},"score":0,"creation_date":1679048468,"post_id":75766219,"comment_id":133654902,"body_markdown":"try updating your @Bean method name to getJavaMailSender() or javaMailSender()","body":"try updating your @Bean method name to getJavaMailSender() or javaMailSender()"},{"owner":{"account_id":26889406,"reputation":35,"user_id":20468426,"display_name":"Bhorah"},"score":0,"creation_date":1679048779,"post_id":75766219,"comment_id":133654976,"body_markdown":"@NavneetSingh just tried both names but I get the same error when running the app","body":"@NavneetSingh just tried both names but I get the same error when running the app"},{"owner":{"account_id":18544976,"reputation":241,"user_id":13512579,"display_name":"Navneet Singh"},"score":0,"creation_date":1679049244,"post_id":75766219,"comment_id":133655070,"body_markdown":"need to see more code then","body":"need to see more code then"},{"owner":{"account_id":26889406,"reputation":35,"user_id":20468426,"display_name":"Bhorah"},"score":0,"creation_date":1679052637,"post_id":75766219,"comment_id":133655846,"body_markdown":"All right I understand. What code do you want me to add ?","body":"All right I understand. What code do you want me to add ?"},{"owner":{"account_id":371244,"reputation":443,"user_id":17825391,"display_name":"user213769"},"score":0,"creation_date":1695334713,"post_id":75766219,"comment_id":136014468,"body_markdown":"nowadays, this problem is usually not caused by _lacking_ the library, but by having _conflicting versions_ of it in the classpath. Try doing `gradle dependencies` and look for one library forcing a bump to other&#39;s transitive deps - that&#39;s the most usual case here.","body":"nowadays, this problem is usually not caused by <i>lacking</i> the library, but by having <i>conflicting versions</i> of it in the classpath. Try doing <code>gradle dependencies</code> and look for one library forcing a bump to other&#39;s transitive deps - that&#39;s the most usual case here."}],"answers":[{"comments":[{"owner":{"account_id":7684429,"reputation":298,"user_id":5822716,"display_name":"navis1692"},"score":0,"creation_date":1692862361,"post_id":75770153,"comment_id":135682175,"body_markdown":"which dependency you added?","body":"which dependency you added?"}],"tags":[],"owner":{"account_id":26889406,"reputation":35,"user_id":20468426,"display_name":"Bhorah"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679071554,"creation_date":1679071554,"answer_id":75770153,"question_id":75766219,"body_markdown":"I got around the problem by using the jakarta.mail dependency which worked perfectly. \r\nThis solution implies not to use Spring Components but I didnt know how to work my way around with them.","title":"ClassNotFoundException: javax.activation.FileTypeMap when building java springboot mail sender","body":"<p>I got around the problem by using the jakarta.mail dependency which worked perfectly.\nThis solution implies not to use Spring Components but I didnt know how to work my way around with them.</p>\n"}],"owner":{"account_id":26889406,"reputation":35,"user_id":20468426,"display_name":"Bhorah"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75770153,"answer_count":1,"score":0,"last_activity_date":1679071554,"creation_date":1679047368,"question_id":75766219,"body_markdown":"I am trying to learn how to send email in a Java SpringBoot application. I have two classes : EmailSenderService and EmailConfig, respectively in the Service and Configuration packages. When I try to run the project, I am facing the following error : `java.lang.ClassNotFoundException: javax.activation.FileTypeMap`\r\n\r\nI have tried including several dependencies (including javax.activation, jakarta.activation, etc...) but it does not solve the problem.\r\n\r\nThe full error trace is : \r\n\r\n       org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;emailSenderService&#39;: Unsatisfied dependency expressed through field &#39;javaMailSender&#39;: Error creating bean with name &#39;mailSender&#39; defined in class path resource [com/aventix/api/configuration/EmailConfig.class]: Failed to instantiate [org.springframework.mail.javamail.JavaMailSender]: Factory method &#39;mailSender&#39; threw exception with message: javax/activation/FileTypeMap\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.4.jar:6.0.4]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at com.aventix.api.AventixApplication.main(AventixApplication.java:43) ~[classes/:na]\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mailSender&#39; defined in class path resource [com/aventix/api/configuration/EmailConfig.class]: Failed to instantiate [org.springframework.mail.javamail.JavaMailSender]: Factory method &#39;mailSender&#39; threw exception with message: javax/activation/FileTypeMap\r\n            at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:491) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            ... 20 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.mail.javamail.JavaMailSender]: Factory method &#39;mailSender&#39; threw exception with message: javax/activation/FileTypeMap\r\n            at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            ... 33 common frames omitted\r\n    Caused by: java.lang.NoClassDefFoundError: javax/activation/FileTypeMap\r\n            at com.aventix.api.configuration.EmailConfig.mailSender(EmailConfig.java:16) ~[classes/:na]\r\n            at com.aventix.api.configuration.EmailConfig$$SpringCGLIB$$0.CGLIB$mailSender$0(&lt;generated&gt;) ~[classes/:na]\r\n            at com.aventix.api.configuration.EmailConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\r\n            at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.4.jar:6.0.4]\r\n            at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.4.jar:6.0.4]\r\n            at com.aventix.api.configuration.EmailConfig$$SpringCGLIB$$0.mailSender(&lt;generated&gt;) ~[classes/:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n            at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            ... 34 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: javax.activation.FileTypeMap\r\n            at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n            at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n            ... 45 common frames omitted\r\n\r\nThe classes are as shown below : \r\n\r\nEmailSenderService :\r\n\r\n    package com.aventix.api.service;\r\n    \r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.mail.MailException;\r\n    import org.springframework.mail.SimpleMailMessage;\r\n    import org.springframework.mail.javamail.JavaMailSender;\r\n    \r\n    @Service\r\n    public class EmailSenderService {\r\n    \r\n        @Autowired\r\n        private JavaMailSender javaMailSender;\r\n    \r\n        public void sendSimpleMessage(String to, String subject, String text) {\r\n            try {\r\n                SimpleMailMessage message = new SimpleMailMessage();\r\n                message.setFrom(&quot;bastinus1er@gmail.com&quot;);\r\n                message.setTo(to);\r\n                message.setSubject(subject);\r\n                message.setText(text);\r\n    \r\n                javaMailSender.send(message);\r\n            } catch (MailException exception) {\r\n                exception.printStackTrace();\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\nEmailConfig : \r\n\r\n    package com.aventix.api.configuration;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.mail.SimpleMailMessage;\r\n    import org.springframework.mail.javamail.JavaMailSender;\r\n    import org.springframework.mail.javamail.JavaMailSenderImpl;\r\n    \r\n    @Configuration\r\n    public class EmailConfig {\r\n    \t\r\n    \t@Bean\r\n        public JavaMailSender mailSender(){\r\n            JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n    \r\n            mailSender.setHost(&quot;smtp.gmail.com&quot;);\r\n            mailSender.setPort(587);\r\n            mailSender.setUsername(&quot;******&quot;);\r\n            mailSender.setPassword(&quot;******&quot;);\r\n    \r\n            return mailSender;\r\n        }\r\n    \r\n    }","title":"ClassNotFoundException: javax.activation.FileTypeMap when building java springboot mail sender","body":"<p>I am trying to learn how to send email in a Java SpringBoot application. I have two classes : EmailSenderService and EmailConfig, respectively in the Service and Configuration packages. When I try to run the project, I am facing the following error : <code>java.lang.ClassNotFoundException: javax.activation.FileTypeMap</code></p>\n<p>I have tried including several dependencies (including javax.activation, jakarta.activation, etc...) but it does not solve the problem.</p>\n<p>The full error trace is :</p>\n<pre><code>   org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'emailSenderService': Unsatisfied dependency expressed through field 'javaMailSender': Error creating bean with name 'mailSender' defined in class path resource [com/aventix/api/configuration/EmailConfig.class]: Failed to instantiate [org.springframework.mail.javamail.JavaMailSender]: Factory method 'mailSender' threw exception with message: javax/activation/FileTypeMap\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.4.jar:6.0.4]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\n        at com.aventix.api.AventixApplication.main(AventixApplication.java:43) ~[classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mailSender' defined in class path resource [com/aventix/api/configuration/EmailConfig.class]: Failed to instantiate [org.springframework.mail.javamail.JavaMailSender]: Factory method 'mailSender' threw exception with message: javax/activation/FileTypeMap\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:491) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.4.jar:6.0.4]\n        ... 20 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.mail.javamail.JavaMailSender]: Factory method 'mailSender' threw exception with message: javax/activation/FileTypeMap\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.0.4.jar:6.0.4]\n        ... 33 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: javax/activation/FileTypeMap\n        at com.aventix.api.configuration.EmailConfig.mailSender(EmailConfig.java:16) ~[classes/:na]\n        at com.aventix.api.configuration.EmailConfig$$SpringCGLIB$$0.CGLIB$mailSender$0(&lt;generated&gt;) ~[classes/:na]\n        at com.aventix.api.configuration.EmailConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.4.jar:6.0.4]\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.4.jar:6.0.4]\n        at com.aventix.api.configuration.EmailConfig$$SpringCGLIB$$0.mailSender(&lt;generated&gt;) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.4.jar:6.0.4]\n        ... 34 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javax.activation.FileTypeMap\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n        ... 45 common frames omitted\n</code></pre>\n<p>The classes are as shown below :</p>\n<p>EmailSenderService :</p>\n<pre><code>package com.aventix.api.service;\n\nimport org.springframework.stereotype.Service;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.mail.MailException;\nimport org.springframework.mail.SimpleMailMessage;\nimport org.springframework.mail.javamail.JavaMailSender;\n\n@Service\npublic class EmailSenderService {\n\n    @Autowired\n    private JavaMailSender javaMailSender;\n\n    public void sendSimpleMessage(String to, String subject, String text) {\n        try {\n            SimpleMailMessage message = new SimpleMailMessage();\n            message.setFrom(&quot;bastinus1er@gmail.com&quot;);\n            message.setTo(to);\n            message.setSubject(subject);\n            message.setText(text);\n\n            javaMailSender.send(message);\n        } catch (MailException exception) {\n            exception.printStackTrace();\n        }\n    }\n    \n}\n</code></pre>\n<p>EmailConfig :</p>\n<pre><code>package com.aventix.api.configuration;\n\nimport java.util.Properties;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.mail.SimpleMailMessage;\nimport org.springframework.mail.javamail.JavaMailSender;\nimport org.springframework.mail.javamail.JavaMailSenderImpl;\n\n@Configuration\npublic class EmailConfig {\n    \n    @Bean\n    public JavaMailSender mailSender(){\n        JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\n\n        mailSender.setHost(&quot;smtp.gmail.com&quot;);\n        mailSender.setPort(587);\n        mailSender.setUsername(&quot;******&quot;);\n        mailSender.setPassword(&quot;******&quot;);\n\n        return mailSender;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","postgresql","jpa"],"owner":{"account_id":28043937,"reputation":1,"user_id":21421041,"display_name":"Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679071306,"creation_date":1679068779,"question_id":75769738,"body_markdown":"How can I join these 4 methods into one that returns `List&lt;UserDO&gt;`? \r\n```java\r\nJPAQuery&lt;DivisionAssignedProjectDO&gt; q = new JPAQuery&lt;&gt;(em)\r\n        .select(Q_DIV_AS_PR)\r\n        .from(Q_DIV_AS_PR, Q_USER, Q_PROJ, Q_DIVISION, Q_TEAM, Q_DEPARTMENT)\r\n        .where(Q_DIV_AS_PR.project.id.eq(Q_PROJ.id))\r\n        .where(Q_DIV_AS_PR.division.id.eq(Q_DIVISION.id))\r\n        .where(Q_USER.defTeam.id.eq(Q_TEAM.id))\r\n        .where(Q_TEAM.department.id.eq(Q_DEPARTMENT.id))\r\n        .where(Q_DEPARTMENT.division.id.eq(Q_DIVISION.id));\r\n```\r\n```java\r\nJPAQuery&lt;DepartmentAssignedProjectDO&gt; q = new JPAQuery&lt;&gt;(em)\r\n        .select(Q_DEP_AS_PR)\r\n        .from(Q_DEP_AS_PR, Q_USER, Q_PROJ, Q_TEAM, Q_DIVISION, Q_DEPARTMENT)\r\n        .where(Q_DEP_AS_PR.project.id.eq(Q_PROJ.id))\r\n        .where(Q_DEP_AS_PR.department.id.eq(Q_DEPARTMENT.id))\r\n        .where(Q_USER.defTeam.id.eq(Q_TEAM.id))\r\n        .where(Q_TEAM.department.id.eq(Q_DEP_AS_PR.department.id))\r\n        .where(Q_DIVISION.id.eq(Q_DEPARTMENT.division.id));\r\n```\r\n```java\r\nJPAQuery&lt;TeamAssignedProjectDO&gt; q = new JPAQuery&lt;&gt;(em)\r\n        .select(Q_TEAM_AS_PR)\r\n        .from(Q_TEAM_AS_PR, Q_USER, Q_PROJ, Q_DIVISION, Q_TEAM, Q_DEPARTMENT)\r\n        .where(Q_TEAM_AS_PR.project.id.eq(Q_PROJ.id))\r\n        .where(Q_TEAM_AS_PR.team.id.eq(Q_TEAM.id))\r\n        .where(Q_USER.defTeam.id.eq(Q_TEAM.id))\r\n        .where(Q_TEAM.department.id.eq(Q_DEPARTMENT.id))\r\n        .where(Q_DEPARTMENT.division.id.eq(Q_DIVISION.id));\r\n```\r\n\r\n```java\r\n JPAQuery&lt;DivisionAssignedProjectDO&gt; q = new JPAQuery&lt;&gt;(em)\r\n        .select(Q_DIV_AS_PR)\r\n        .from(Q_DIV_AS_PR, Q_USER, Q_PROJ, Q_DIVISION, Q_TEAM, Q_DEPARTMENT)\r\n        .where(Q_DIV_AS_PR.project.id.eq(Q_PROJ.id))\r\n        .where(Q_DIV_AS_PR.division.id.eq(Q_DIVISION.id))\r\n        .where(Q_USER.defTeam.id.eq(Q_TEAM.id))\r\n        .where(Q_TEAM.department.id.eq(Q_DEPARTMENT.id))\r\n        .where(Q_DEPARTMENT.division.id.eq(Q_DIVISION.id));\r\n```\r\n\r\n\r\n\r\nI have tried to build my own query, but it always returns less users than what I expect, about 5% less. The logic is built so that each user assigned to a project has a team. Each team has a department and each department has a division. \r\n```java\r\nJPAQuery&lt;UserDO&gt; q = new JPAQuery&lt;&gt;(em)\r\n  .select(Q_USER)\r\n  .from(Q_USER)\r\n\r\n  .leftJoin(Q_USER.defProject, Q_PROJ)\r\n  .leftJoin(Q_PROJ.divisionAssignedProjects, Q_DIV_AS_PR)\r\n  .leftJoin(Q_PROJ.departmentAssignedProjects, Q_DEP_AS_PR)\r\n  .leftJoin(Q_PROJ.teamAssignedProjects, Q_TEAM_AS_PR)\r\n  .leftJoin(Q_PROJ.assignedProjects, Q_USER_AS_PR)\r\n\r\n  .leftJoin(Q_USER.defTeam, Q_TEAM)\r\n  .leftJoin(Q_TEAM.department, Q_DEPARTMENT)\r\n  .leftJoin(Q_DEPARTMENT.division, Q_DIVISION)\r\n  .leftJoin(Q_DIV_AS_PR.project, Q_PROJ)\r\n  .leftJoin(Q_DIV_AS_PR.division, Q_DIVISION)\r\n  .leftJoin(Q_DEP_AS_PR.project, Q_PROJ)\r\n  .leftJoin(Q_DEP_AS_PR.department, Q_DEPARTMENT)\r\n  .leftJoin(Q_TEAM_AS_PR.project, Q_PROJ)\r\n  .leftJoin(Q_TEAM_AS_PR.team, Q_TEAM)\r\n  .leftJoin(Q_USER_AS_PR.project, Q_PROJ)\r\n  .leftJoin(Q_USER_AS_PR.user, Q_USER);\r\n```","title":"Joining 4 JPAQuery methods to only one","body":"<p>How can I join these 4 methods into one that returns <code>List&lt;UserDO&gt;</code>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>JPAQuery&lt;DivisionAssignedProjectDO&gt; q = new JPAQuery&lt;&gt;(em)\n        .select(Q_DIV_AS_PR)\n        .from(Q_DIV_AS_PR, Q_USER, Q_PROJ, Q_DIVISION, Q_TEAM, Q_DEPARTMENT)\n        .where(Q_DIV_AS_PR.project.id.eq(Q_PROJ.id))\n        .where(Q_DIV_AS_PR.division.id.eq(Q_DIVISION.id))\n        .where(Q_USER.defTeam.id.eq(Q_TEAM.id))\n        .where(Q_TEAM.department.id.eq(Q_DEPARTMENT.id))\n        .where(Q_DEPARTMENT.division.id.eq(Q_DIVISION.id));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>JPAQuery&lt;DepartmentAssignedProjectDO&gt; q = new JPAQuery&lt;&gt;(em)\n        .select(Q_DEP_AS_PR)\n        .from(Q_DEP_AS_PR, Q_USER, Q_PROJ, Q_TEAM, Q_DIVISION, Q_DEPARTMENT)\n        .where(Q_DEP_AS_PR.project.id.eq(Q_PROJ.id))\n        .where(Q_DEP_AS_PR.department.id.eq(Q_DEPARTMENT.id))\n        .where(Q_USER.defTeam.id.eq(Q_TEAM.id))\n        .where(Q_TEAM.department.id.eq(Q_DEP_AS_PR.department.id))\n        .where(Q_DIVISION.id.eq(Q_DEPARTMENT.division.id));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>JPAQuery&lt;TeamAssignedProjectDO&gt; q = new JPAQuery&lt;&gt;(em)\n        .select(Q_TEAM_AS_PR)\n        .from(Q_TEAM_AS_PR, Q_USER, Q_PROJ, Q_DIVISION, Q_TEAM, Q_DEPARTMENT)\n        .where(Q_TEAM_AS_PR.project.id.eq(Q_PROJ.id))\n        .where(Q_TEAM_AS_PR.team.id.eq(Q_TEAM.id))\n        .where(Q_USER.defTeam.id.eq(Q_TEAM.id))\n        .where(Q_TEAM.department.id.eq(Q_DEPARTMENT.id))\n        .where(Q_DEPARTMENT.division.id.eq(Q_DIVISION.id));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code> JPAQuery&lt;DivisionAssignedProjectDO&gt; q = new JPAQuery&lt;&gt;(em)\n        .select(Q_DIV_AS_PR)\n        .from(Q_DIV_AS_PR, Q_USER, Q_PROJ, Q_DIVISION, Q_TEAM, Q_DEPARTMENT)\n        .where(Q_DIV_AS_PR.project.id.eq(Q_PROJ.id))\n        .where(Q_DIV_AS_PR.division.id.eq(Q_DIVISION.id))\n        .where(Q_USER.defTeam.id.eq(Q_TEAM.id))\n        .where(Q_TEAM.department.id.eq(Q_DEPARTMENT.id))\n        .where(Q_DEPARTMENT.division.id.eq(Q_DIVISION.id));\n</code></pre>\n<p>I have tried to build my own query, but it always returns less users than what I expect, about 5% less. The logic is built so that each user assigned to a project has a team. Each team has a department and each department has a division.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JPAQuery&lt;UserDO&gt; q = new JPAQuery&lt;&gt;(em)\n  .select(Q_USER)\n  .from(Q_USER)\n\n  .leftJoin(Q_USER.defProject, Q_PROJ)\n  .leftJoin(Q_PROJ.divisionAssignedProjects, Q_DIV_AS_PR)\n  .leftJoin(Q_PROJ.departmentAssignedProjects, Q_DEP_AS_PR)\n  .leftJoin(Q_PROJ.teamAssignedProjects, Q_TEAM_AS_PR)\n  .leftJoin(Q_PROJ.assignedProjects, Q_USER_AS_PR)\n\n  .leftJoin(Q_USER.defTeam, Q_TEAM)\n  .leftJoin(Q_TEAM.department, Q_DEPARTMENT)\n  .leftJoin(Q_DEPARTMENT.division, Q_DIVISION)\n  .leftJoin(Q_DIV_AS_PR.project, Q_PROJ)\n  .leftJoin(Q_DIV_AS_PR.division, Q_DIVISION)\n  .leftJoin(Q_DEP_AS_PR.project, Q_PROJ)\n  .leftJoin(Q_DEP_AS_PR.department, Q_DEPARTMENT)\n  .leftJoin(Q_TEAM_AS_PR.project, Q_PROJ)\n  .leftJoin(Q_TEAM_AS_PR.team, Q_TEAM)\n  .leftJoin(Q_USER_AS_PR.project, Q_PROJ)\n  .leftJoin(Q_USER_AS_PR.user, Q_USER);\n</code></pre>\n"},{"tags":["java","rest","integration-testing","quarkus","quarkus-rest-client"],"answers":[{"tags":[],"owner":{"account_id":4951801,"reputation":10812,"user_id":3985482,"accept_rate":86,"display_name":"Gerald M&#252;cke"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659523378,"creation_date":1659523378,"answer_id":73220360,"question_id":71022998,"body_markdown":"If you set the System property &quot;quarkus.http.test-host&quot;, the QuarkusIntegrationTest won&#39;t start the application but uses the application running on a remote host defined by this property (and optionally the test-port)\r\n\r\n\tSystem.setProperty(&quot;quarkus.http.test-host&quot;, &quot;localhost&quot;);\r\n\tSystem.setProperty(&quot;quarkus.http.test-port&quot;, &quot;8080&quot;);\r\n\r\nSee here https://quarkus.io/guides/getting-started-testing#executing-against-a-running-application","title":"Quarkus integration testing against running application","body":"<p>If you set the System property &quot;quarkus.http.test-host&quot;, the QuarkusIntegrationTest won't start the application but uses the application running on a remote host defined by this property (and optionally the test-port)</p>\n<pre><code>System.setProperty(&quot;quarkus.http.test-host&quot;, &quot;localhost&quot;);\nSystem.setProperty(&quot;quarkus.http.test-port&quot;, &quot;8080&quot;);\n</code></pre>\n<p>See here <a href=\"https://quarkus.io/guides/getting-started-testing#executing-against-a-running-application\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/getting-started-testing#executing-against-a-running-application</a></p>\n"},{"tags":[],"owner":{"account_id":20550573,"reputation":11,"user_id":15259036,"display_name":"Francesco Trotta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679071107,"creation_date":1679071074,"answer_id":75770080,"question_id":71022998,"body_markdown":"In order for `quarkus.http.test-host` to be recognized as valid configuration key, integration tests need to be run.\r\n\r\nIn order for integration tests to be run, the Failsafe Maven plugin needs to be correctly configured.\r\n\r\nIf you create your Quarkus application starting from the [Getting Started example](https://quarkus.io/guides/getting-started), please consider that, in such example, the Failsafe plugin is only configured for the native profile of Maven (refer to POM.xml).\r\n\r\nAs such, in the Getting Started example Failsafe won&#39;t be used (and integration tests not run), unless you issue `mvn verify -Pnative -Dquarkus.http.test-host=...`\r\n_____________\r\n\r\nYou can move the Failsafe plugin configuration in POM.xml out of the native profile, to let it always be run.\r\n___________\r\n\r\nWhen integration tests are run, the output of `mnt verify` shows two different test phases: the first for the unit tests (those tests whose names end by &quot;Test&quot;); the second for the integration tests (those tests whose names end by &quot;IT&quot;).\r\n\r\nIn the first phase (unit tests) the `quarkus.http.test-host` won&#39;t be recognized as valid configuration key. Indeed the output says: &quot;Unrecognized configuration key &quot;quarkus.http.test-host&quot; was provided; it will be ignored; ...&quot;.\r\n\r\nIn the second phase (integration tests), `quarkus.http.test-host` will be recognized as valid configuration key.","title":"Quarkus integration testing against running application","body":"<p>In order for <code>quarkus.http.test-host</code> to be recognized as valid configuration key, integration tests need to be run.</p>\n<p>In order for integration tests to be run, the Failsafe Maven plugin needs to be correctly configured.</p>\n<p>If you create your Quarkus application starting from the <a href=\"https://quarkus.io/guides/getting-started\" rel=\"nofollow noreferrer\">Getting Started example</a>, please consider that, in such example, the Failsafe plugin is only configured for the native profile of Maven (refer to POM.xml).</p>\n<p>As such, in the Getting Started example Failsafe won't be used (and integration tests not run), unless you issue <code>mvn verify -Pnative -Dquarkus.http.test-host=...</code></p>\n<hr />\n<p>You can move the Failsafe plugin configuration in POM.xml out of the native profile, to let it always be run.</p>\n<hr />\n<p>When integration tests are run, the output of <code>mnt verify</code> shows two different test phases: the first for the unit tests (those tests whose names end by &quot;Test&quot;); the second for the integration tests (those tests whose names end by &quot;IT&quot;).</p>\n<p>In the first phase (unit tests) the <code>quarkus.http.test-host</code> won't be recognized as valid configuration key. Indeed the output says: &quot;Unrecognized configuration key &quot;quarkus.http.test-host&quot; was provided; it will be ignored; ...&quot;.</p>\n<p>In the second phase (integration tests), <code>quarkus.http.test-host</code> will be recognized as valid configuration key.</p>\n"}],"owner":{"account_id":12663900,"reputation":415,"user_id":9203876,"display_name":"Federico Bellini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":903,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1679071107,"creation_date":1644255773,"question_id":71022998,"body_markdown":"As described in the official [documentation][1], it should be possible to run the  *@QuarkusIntegrationTest* against a running application.\r\nThis feature looks incredibly useful, especially if I can run these integration test against a Quarkus service running on a test server, where it is integrated with all my other micro-services.\r\n\r\nUnfortunately I never managed to make it work. I&#39;m following step-by-step what&#39;s written in the documentation, but to me it looks it&#39;s not working at all.\r\n\r\nIs there anyone who is using this feature and knows if it is actually working/supported by Quarkus v2.7?\r\n\r\n\r\n  [1]: https://quarkus.io/guides/getting-started-testing#executing-against-a-running-application","title":"Quarkus integration testing against running application","body":"<p>As described in the official <a href=\"https://quarkus.io/guides/getting-started-testing#executing-against-a-running-application\" rel=\"nofollow noreferrer\">documentation</a>, it should be possible to run the  <em>@QuarkusIntegrationTest</em> against a running application.\nThis feature looks incredibly useful, especially if I can run these integration test against a Quarkus service running on a test server, where it is integrated with all my other micro-services.</p>\n<p>Unfortunately I never managed to make it work. I'm following step-by-step what's written in the documentation, but to me it looks it's not working at all.</p>\n<p>Is there anyone who is using this feature and knows if it is actually working/supported by Quarkus v2.7?</p>\n"},{"tags":["java","swing","jframe","jbutton"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1679049110,"post_id":75765955,"comment_id":133655046,"body_markdown":"Why override paint and then call super.paintComponents and not super.paint?","body":"Why override paint and then call super.paintComponents and not super.paint?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679063085,"post_id":75765955,"comment_id":133658616,"body_markdown":"docs.oracle.com/javase/tutorial/uiswing/painting/index.html","body":"docs.oracle.com/javase/tutorial/uiswing/painting/index.html"}],"answers":[{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679072534,"post_id":75770031,"comment_id":133661320,"body_markdown":"updateUI is __wrong__! please read the api doc to understand what it is meant for (in short: it&#39;s for updated when the component&#39;s ui delegate is changed) Instead of random method invoking, learn how to do custom painting correctly","body":"updateUI is <b>wrong</b>! please read the api doc to understand what it is meant for (in short: it&#39;s for updated when the component&#39;s ui delegate is changed) Instead of random method invoking, learn how to do custom painting correctly"},{"owner":{"account_id":28040885,"reputation":1,"user_id":21418468,"display_name":"Golden King "},"score":0,"creation_date":1679256530,"post_id":75770031,"comment_id":133684660,"body_markdown":"What woud be the right way to go if updateUi is wrong?\nCoud you give me some hints or videos which help me lern?","body":"What woud be the right way to go if updateUi is wrong? Coud you give me some hints or videos which help me lern?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679269616,"post_id":75770031,"comment_id":133686286,"body_markdown":"do the custom painting correctly - see the referenced tutorial","body":"do the custom painting correctly - see the referenced tutorial"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1679312744,"post_id":75770031,"comment_id":133693253,"body_markdown":"One of the comments gave you a good hint. You&#39;re overriding `paint` then you&#39;re calling `super.paintComponent` Override paintComponent. instead of paint. When you override paint, you&#39;re removing a lot of paint code. https://docs.oracle.com/javase/tutorial/uiswing/painting/closer.html","body":"One of the comments gave you a good hint. You&#39;re overriding <code>paint</code> then you&#39;re calling <code>super.paintComponent</code> Override paintComponent. instead of paint. When you override paint, you&#39;re removing a lot of paint code. <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/closer.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/painting/closer.html</a>"}],"tags":[],"owner":{"account_id":28040885,"reputation":1,"user_id":21418468,"display_name":"Golden King "},"comment_count":4,"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1679070740,"creation_date":1679070740,"answer_id":75770031,"question_id":75765955,"body_markdown":"I found a solution.\r\nThere is a methode `UpdateUI` which I can call after drawing the image.\r\nThis makes the JPannel drawn them after the Image.\r\n\r\nTHX alot for your help with you coments I found out a lot more then I needed which will help me on my journy!\r\n","title":"Bakckground gets drawn over Buttons","body":"<p>I found a solution.\nThere is a methode <code>UpdateUI</code> which I can call after drawing the image.\nThis makes the JPannel drawn them after the Image.</p>\n<p>THX alot for your help with you coments I found out a lot more then I needed which will help me on my journy!</p>\n"}],"owner":{"account_id":28040885,"reputation":1,"user_id":21418468,"display_name":"Golden King "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75770031,"answer_count":1,"score":-2,"last_activity_date":1679070740,"creation_date":1679045959,"question_id":75765955,"body_markdown":"I have GUI(JFrame) with some Buttons. I also juse the paint(Graphics G) methode to draw a shape (for the game I am woarking on).\r\n\r\nI want to draw a background so I put that first in the paint methode:\r\n\r\n```\r\n public void paint(Graphics g){\r\n    super.paintComponents(g);\r\n    Graphics2D g2 = (Graphics2D) g;\r\n    g2.drawImage(img,0,20,null);\r\n    \r\n    //167,230      288,409\r\n    g2.dispose();\r\n    }\r\n```\r\n\r\nBut the Image gets drawn over the Buttons but not over the first(the on with the lower X coordinate) and when I hover over the place where the other Buttons are placed then they get Drawn too but till then they are &quot;Invisibil&quot;.\r\n\r\nHow can I draw the Image really as Bakckground so it dosend get Painted over other Objeckts?\r\n\r\n\r\nFirst I tryed put the Buttons on `FocusPainted = true` but that doesend worked.\r\n\r\n\r\nThen I tryed to draw the Image only the first Time the paint Component gets Called so it only overlays the Buttons at first loading but then stays behind them.\r\n\r\n```\r\npublic void paint(Graphics g){\r\n    super.paintComponents(g);\r\n    Graphics2D g2 = (Graphics2D) g;\r\n    \r\n    tower1.draw(g2);\r\n    tower2.draw(g2);\r\n    tower3.draw(g2);\r\n    \r\n    if (firstPaint == false) {\r\n      g2.drawImage(img,0,0,null);\r\n      firstPaint = true;\r\n    } // end of if\r\n    \r\n    \r\n    g2.dispose();\r\n    }\r\n```\r\nBut when the it gets repainted the Image disappers....\r\n\r\nThen I tryed use the JFrame own Graphis :\r\n`this.getContentPane().getGraphics().drawImage(img,0,0,null);`\r\nthen the the GUI dosend even load.\r\n\r\n","title":"Bakckground gets drawn over Buttons","body":"<p>I have GUI(JFrame) with some Buttons. I also juse the paint(Graphics G) methode to draw a shape (for the game I am woarking on).</p>\n<p>I want to draw a background so I put that first in the paint methode:</p>\n<pre><code> public void paint(Graphics g){\n    super.paintComponents(g);\n    Graphics2D g2 = (Graphics2D) g;\n    g2.drawImage(img,0,20,null);\n    \n    //167,230      288,409\n    g2.dispose();\n    }\n</code></pre>\n<p>But the Image gets drawn over the Buttons but not over the first(the on with the lower X coordinate) and when I hover over the place where the other Buttons are placed then they get Drawn too but till then they are &quot;Invisibil&quot;.</p>\n<p>How can I draw the Image really as Bakckground so it dosend get Painted over other Objeckts?</p>\n<p>First I tryed put the Buttons on <code>FocusPainted = true</code> but that doesend worked.</p>\n<p>Then I tryed to draw the Image only the first Time the paint Component gets Called so it only overlays the Buttons at first loading but then stays behind them.</p>\n<pre><code>public void paint(Graphics g){\n    super.paintComponents(g);\n    Graphics2D g2 = (Graphics2D) g;\n    \n    tower1.draw(g2);\n    tower2.draw(g2);\n    tower3.draw(g2);\n    \n    if (firstPaint == false) {\n      g2.drawImage(img,0,0,null);\n      firstPaint = true;\n    } // end of if\n    \n    \n    g2.dispose();\n    }\n</code></pre>\n<p>But when the it gets repainted the Image disappers....</p>\n<p>Then I tryed use the JFrame own Graphis :\n<code>this.getContentPane().getGraphics().drawImage(img,0,0,null);</code>\nthen the the GUI dosend even load.</p>\n"},{"tags":["java","azure","dns","azure-ad-msal"],"comments":[{"owner":{"account_id":14544430,"reputation":22020,"user_id":10505040,"display_name":"Jim Xu"},"score":0,"creation_date":1586489784,"post_id":61118265,"comment_id":108152262,"body_markdown":"You can use `msal` to get access token then directly call Azure rest API(https://learn.microsoft.com/en-us/rest/api/dns/) with the token to manage dns","body":"You can use <code>msal</code> to get access token then directly call Azure rest API(<a href=\"https://learn.microsoft.com/en-us/rest/api/dns/\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/rest/api/dns</a>) with the token to manage dns"},{"owner":{"account_id":14544430,"reputation":22020,"user_id":10505040,"display_name":"Jim Xu"},"score":0,"creation_date":1586825790,"post_id":61118265,"comment_id":108265222,"body_markdown":"Do you have any other concerns? If you have no other concerns, could you please accept it? It may help more people who have similar issue.","body":"Do you have any other concerns? If you have no other concerns, could you please accept it? It may help more people who have similar issue."}],"answers":[{"tags":[],"owner":{"account_id":14544430,"reputation":22020,"user_id":10505040,"display_name":"Jim Xu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1586502136,"creation_date":1586502136,"answer_id":61135465,"question_id":61118265,"body_markdown":"If you want to use Azure java management SDK to manage Azure DNS with AD access token, please refer to the following code\r\n\r\n\r\na. create a service principal  (I use Azure CLI to do that)\r\n```\r\naz login\r\naz account set --subscription &quot;&lt;your subscription id&gt;&quot;\r\n# the sp will have Azure Contributor role\r\naz ad sp create-for-rbac -n &quot;readMetric&quot; \r\n``` \r\n[![enter image description here][1]][1]\r\n\r\n2. Code\r\n```\r\n public void test() throws MalformedURLException, ExecutionException, InterruptedException {\r\n\r\n\r\n\r\n        AzureTokenCredentials tokenCredentials = new AzureTokenCredentials(AzureEnvironment.AZURE,ADProperty.tenantId) {\r\n            @Override\r\n            public String getToken(String resource) throws IOException {\r\n                String token =null;\r\n                // use msal to get Azure AD access token\r\n                ConfidentialClientApplication app = ConfidentialClientApplication.builder(\r\n                        ADProperty.clientId,  // sp appid\r\n                        ClientCredentialFactory.createFromSecret(ADProperty.clientKey)) // sp password\r\n                        .authority(ADProperty.authority) // &quot;https://login.microsoftonline.com/&quot; + sp tenant id\r\n                        .build();\r\n                ClientCredentialParameters clientCredentialParam = ClientCredentialParameters.builder(\r\n                        Collections.singleton(&quot;https://management.azure.com/.default&quot;))\r\n                        .build();\r\n                CompletableFuture&lt;IAuthenticationResult&gt; future = app.acquireToken(clientCredentialParam);\r\n                try {\r\n                    token =future.get().accessToken();\r\n\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                } catch (ExecutionException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return  token;\r\n            }\r\n        };\r\n\r\n\r\n        Azure azure = Azure.authenticate(tokenCredentials)\r\n                .withSubscription(ADProperty.subscriptionId); // sp subscription id\r\n        DnsZone rootDnsZone = azure.dnsZones().define(&quot;mydevchat.com&quot;)\r\n                .withExistingResourceGroup(&quot;jimtest&quot;)\r\n                .create();\r\n        System.out.println(&quot;create DNSZone &quot; + rootDnsZone.name() + &quot; successfully&quot;);\r\n}\r\n```\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1kOsX.png\r\n  [2]: https://i.stack.imgur.com/EhtdV.png","title":"MSAL Java web API for DNS and records","body":"<p>If you want to use Azure java management SDK to manage Azure DNS with AD access token, please refer to the following code</p>\n\n<p>a. create a service principal  (I use Azure CLI to do that)</p>\n\n<pre><code>az login\naz account set --subscription \"&lt;your subscription id&gt;\"\n# the sp will have Azure Contributor role\naz ad sp create-for-rbac -n \"readMetric\" \n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/1kOsX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1kOsX.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"2\">\n<li>Code</li>\n</ol>\n\n<pre><code> public void test() throws MalformedURLException, ExecutionException, InterruptedException {\n\n\n\n        AzureTokenCredentials tokenCredentials = new AzureTokenCredentials(AzureEnvironment.AZURE,ADProperty.tenantId) {\n            @Override\n            public String getToken(String resource) throws IOException {\n                String token =null;\n                // use msal to get Azure AD access token\n                ConfidentialClientApplication app = ConfidentialClientApplication.builder(\n                        ADProperty.clientId,  // sp appid\n                        ClientCredentialFactory.createFromSecret(ADProperty.clientKey)) // sp password\n                        .authority(ADProperty.authority) // \"https://login.microsoftonline.com/\" + sp tenant id\n                        .build();\n                ClientCredentialParameters clientCredentialParam = ClientCredentialParameters.builder(\n                        Collections.singleton(\"https://management.azure.com/.default\"))\n                        .build();\n                CompletableFuture&lt;IAuthenticationResult&gt; future = app.acquireToken(clientCredentialParam);\n                try {\n                    token =future.get().accessToken();\n\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                } catch (ExecutionException e) {\n                    e.printStackTrace();\n                }\n                return  token;\n            }\n        };\n\n\n        Azure azure = Azure.authenticate(tokenCredentials)\n                .withSubscription(ADProperty.subscriptionId); // sp subscription id\n        DnsZone rootDnsZone = azure.dnsZones().define(\"mydevchat.com\")\n                .withExistingResourceGroup(\"jimtest\")\n                .create();\n        System.out.println(\"create DNSZone \" + rootDnsZone.name() + \" successfully\");\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/EhtdV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EhtdV.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":3957278,"reputation":878,"user_id":3265367,"accept_rate":0,"display_name":"Atif Hussain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61135465,"answer_count":1,"score":1,"last_activity_date":1679070635,"creation_date":1586425491,"question_id":61118265,"body_markdown":"How can we create zone DNS and records on Azure server using Azure web services API with latest &quot;MSAL&quot; library not ADAL based? However DNS library support https://github.com/Azure-Samples/dns-java-host-and-manage-your-domains does not mentioned any way to utilized using MSAL access token. For example\r\n\r\n   \tApplicationTokenCredentials credentials = new ApplicationTokenCredentials(client, tenant, key, AzureEnvironment.AZURE);\r\n\tazure = Azure.authenticate(credentials).withSubscription(subscriptionId);\r\n\tResourceGroup resourceGroup = azure.resourceGroups().define(rgName)\r\n\t\t\t.withRegion(Region.US_EAST2)\r\n\t\t\t.create();\r\n\r\n\tSystem.out.println(&quot;Creating root DNS zone &quot; + customDomainName + &quot;...&quot;);\r\n\tDnsZone rootDnsZone = azure.dnsZones().define(customDomainName)\r\n\t\t\t.withExistingResourceGroup(resourceGroup)\r\n\t\t\t.create();\r\n\r\n\r\nBut it is using with keys instead of access tokens provided by MSAL. This can be already achieved in old ways which is using ADAL internally by Azure.\r\n\r\n","title":"MSAL Java web API for DNS and records","body":"<p>How can we create zone DNS and records on Azure server using Azure web services API with latest &quot;MSAL&quot; library not ADAL based? However DNS library support <a href=\"https://github.com/Azure-Samples/dns-java-host-and-manage-your-domains\" rel=\"nofollow noreferrer\">https://github.com/Azure-Samples/dns-java-host-and-manage-your-domains</a> does not mentioned any way to utilized using MSAL access token. For example</p>\n<pre><code>ApplicationTokenCredentials credentials = new ApplicationTokenCredentials(client, tenant, key, AzureEnvironment.AZURE);\nazure = Azure.authenticate(credentials).withSubscription(subscriptionId);\nResourceGroup resourceGroup = azure.resourceGroups().define(rgName)\n        .withRegion(Region.US_EAST2)\n        .create();\n\nSystem.out.println(&quot;Creating root DNS zone &quot; + customDomainName + &quot;...&quot;);\nDnsZone rootDnsZone = azure.dnsZones().define(customDomainName)\n        .withExistingResourceGroup(resourceGroup)\n        .create();\n</code></pre>\n<p>But it is using with keys instead of access tokens provided by MSAL. This can be already achieved in old ways which is using ADAL internally by Azure.</p>\n"},{"tags":["java","exception","throws"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1679069378,"post_id":75769601,"comment_id":133660470,"body_markdown":"this idea kinda defeats the point of context-sensitive exception handling. then again, some exceptions are generic enough to share the same handling everywhere.","body":"this idea kinda defeats the point of context-sensitive exception handling. then again, some exceptions are generic enough to share the same handling everywhere."}],"answers":[{"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679068797,"creation_date":1679068797,"answer_id":75769743,"question_id":75769601,"body_markdown":"You&#39;re trying to throw a `Class` of type `Exception` instead of throwing an `Exception`. And what&#39;s the point of `T`? That&#39;s never used. Maybe you mean something like this:\r\n\r\n    public &lt;T extends Exception&gt; T generic(String input, T exception) throws Exception { \r\n        call(input).orElseThrow(() -&gt; exception); \r\n    }","title":"How to pass differents Exceptions to a Java method?","body":"<p>You're trying to throw a <code>Class</code> of type <code>Exception</code> instead of throwing an <code>Exception</code>. And what's the point of <code>T</code>? That's never used. Maybe you mean something like this:</p>\n<pre><code>public &lt;T extends Exception&gt; T generic(String input, T exception) throws Exception { \n    call(input).orElseThrow(() -&gt; exception); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679069584,"creation_date":1679069584,"answer_id":75769870,"question_id":75769601,"body_markdown":"If you work with `Class&lt;? extends Exception&gt; exception`, you would need to instantiate exception using [Reflection][1]. The `Supplier` may be something like this for example:\r\n```\r\nSupplier&lt;Exception&gt; supplier = () -&gt; {\r\n      try {\r\n        return clazz.getDeclaredConstructor().newInstance();\r\n      } catch (InstantiationException | InvocationTargetException | IllegalAccessException | NoSuchMethodException e) {\r\n        throw new RuntimeException(e);\r\n      }\r\n    };\r\ncall(input).orElseThrow(supplier); \r\n```\r\nThat&#39;s error prone and cumbersome.\r\n\r\nI suggest changing your method to work with `Supplier`, instead of `Class`.\r\n```\r\npublic &lt;T&gt; T generic(String input, Supplier&lt;? extends Exception&gt; exceptionSupplier) throws Exception {\r\n    call(input).orElseThrow(exceptionSupplier);\r\n}\r\n```\r\nAnd provide the supplier when calling the method:\r\n```\r\ngeneric(&quot;some input&quot;, () -&gt; new CustomException(&quot;message&quot;));\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/package-summary.html","title":"How to pass differents Exceptions to a Java method?","body":"<p>If you work with <code>Class&lt;? extends Exception&gt; exception</code>, you would need to instantiate exception using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/package-summary.html\" rel=\"nofollow noreferrer\">Reflection</a>. The <code>Supplier</code> may be something like this for example:</p>\n<pre><code>Supplier&lt;Exception&gt; supplier = () -&gt; {\n      try {\n        return clazz.getDeclaredConstructor().newInstance();\n      } catch (InstantiationException | InvocationTargetException | IllegalAccessException | NoSuchMethodException e) {\n        throw new RuntimeException(e);\n      }\n    };\ncall(input).orElseThrow(supplier); \n</code></pre>\n<p>That's error prone and cumbersome.</p>\n<p>I suggest changing your method to work with <code>Supplier</code>, instead of <code>Class</code>.</p>\n<pre><code>public &lt;T&gt; T generic(String input, Supplier&lt;? extends Exception&gt; exceptionSupplier) throws Exception {\n    call(input).orElseThrow(exceptionSupplier);\n}\n</code></pre>\n<p>And provide the supplier when calling the method:</p>\n<pre><code>generic(&quot;some input&quot;, () -&gt; new CustomException(&quot;message&quot;));\n</code></pre>\n"}],"owner":{"account_id":11039137,"reputation":15,"user_id":8619111,"display_name":"Sr. X"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75769870,"answer_count":2,"score":0,"last_activity_date":1679069584,"creation_date":1679067929,"question_id":75769601,"body_markdown":"So the idea is I have a bunch of methods separated in different &#39;repo&#39; classes, each one of these can arise a personalized exception (all of them created by me, extending generic Java Exception). All these methods make a call to the same class, the controller.\r\n\r\nAs it is right now, each &#39;repo&#39; class is in charge of arising the exception, but I want to delegate that task to the controller, so I created a method in the controller like:\r\n\r\n    public &lt;T&gt; T generic(String input, Class&lt;? extends Exception&gt; exception) throws Exception { ... }\r\n\r\n, my idea is, taking whatever exception class comes to the controller and then elevate the corresponding error from here like:\r\n\r\n    public &lt;T&gt; T generic(String input, Class&lt;? extends Exception&gt; exception) throws Exception { \r\n\t    call(input).orElseThrow(() -&gt; exception); \r\n\t}\r\n\r\n, but i cannot make this work since my IDE is telling me: *Cannot resolve symbol &#39;exception&#39;*","title":"How to pass differents Exceptions to a Java method?","body":"<p>So the idea is I have a bunch of methods separated in different 'repo' classes, each one of these can arise a personalized exception (all of them created by me, extending generic Java Exception). All these methods make a call to the same class, the controller.</p>\n<p>As it is right now, each 'repo' class is in charge of arising the exception, but I want to delegate that task to the controller, so I created a method in the controller like:</p>\n<pre><code>public &lt;T&gt; T generic(String input, Class&lt;? extends Exception&gt; exception) throws Exception { ... }\n</code></pre>\n<p>, my idea is, taking whatever exception class comes to the controller and then elevate the corresponding error from here like:</p>\n<pre><code>public &lt;T&gt; T generic(String input, Class&lt;? extends Exception&gt; exception) throws Exception { \n    call(input).orElseThrow(() -&gt; exception); \n}\n</code></pre>\n<p>, but i cannot make this work since my IDE is telling me: <em>Cannot resolve symbol 'exception'</em></p>\n"},{"tags":["java","spring-boot","junit","completable-future"],"owner":{"account_id":4245913,"reputation":644,"user_id":3474610,"accept_rate":39,"display_name":"Lui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679069536,"creation_date":1679069536,"question_id":75769858,"body_markdown":"I&#39;m struggling to write a JUnit test for my kafka producer with `KafkaTemplate` and `CompletableFuture`. Similar test for method which doesn&#39;t invoke `get()` works fine.\r\n\r\nHere is my kafka producer class (`MyProducer`):\r\n```\r\n@Service\r\npublic class MyProducer {\r\n\r\n    private final Logger logger = LoggerFactory.getLogger(MyProducer.class);\r\n    private KafkaTemplate&lt;String, MyObject&gt; kafkaTemplate;\r\n    public MyProducer() {}\r\n\r\n    @Autowired(required = false)\r\n    public void setKafkaTemplate(KafkaTemplate&lt;String, MyObject&gt; kafkaTemplate) {\r\n        this.kafkaTemplate = kafkaTemplate;\r\n    }\r\n\r\n    public void sendEvent(MyObject message) {\r\n        ListenableFuture&lt;SendResult&lt;String, MyObject&gt;&gt; future = kafkaTemplate.send(&quot;my-topic&quot;, message);\r\n        future.addCallback(\r\n                result -&gt; logger.info(&quot;Everything is fine!&quot;),\r\n                exception -&gt; logger.info(&quot;Ups!&quot;)\r\n        );\r\n    }\r\n\r\n    public SendResult&lt;String, MyObject&gt; sendSpecialEvent(MyObject message) throws ExecutionException, InterruptedException,\r\n            TimeoutException {\r\n        return kafkaTemplate.send(&quot;my-topic&quot;, message).get(100, TimeUnit.MILLISECONDS);\r\n    }\r\n}\r\n```\r\n\r\nAnd test class:\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class MyProducerTest {\r\n\r\n    private final String topic = &quot;dummyString&quot;;\r\n    @Mock\r\n    private KafkaTemplate&lt;String, MyObject&gt; kafkaTemplate;\r\n    @Mock\r\n    private Logger logger;\r\n    private CompletableFuture&lt;SendResult&lt;String, MyObject&gt;&gt; completableFuture;\r\n    private MyObject myObject;\r\n    private MyProducer myProducer;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        myProducer = new MyProducer();\r\n        ReflectionTestUtils.setField(myProducer, &quot;logger&quot;, logger);\r\n        myProducer.setKafkaTemplate(kafkaTemplate);\r\n\r\n        myObject = mock(MyObject.class);\r\n        completableFuture = new CompletableFuture&lt;&gt;();\r\n        var futureAdapter = new CompletableToListenableFutureAdapter&lt;&gt;(completableFuture);\r\n        when(kafkaTemplate.send(any(), any())).thenReturn(futureAdapter);\r\n    }\r\n\r\n    @Test\r\n    void testSuccessCallback() {\r\n        var successMessage = &quot;OK Message&quot;;\r\n        var offset = 1L;\r\n\r\n        myProducer.sendEvent(myObject);\r\n        completableFuture.complete(new SendResult&lt;&gt;(\r\n                new ProducerRecord&lt;&gt;(topic, myObject),\r\n                new RecordMetadata(new TopicPartition(topic, 1), offset, 0, 0, 0, 0)\r\n        ));\r\n\r\n        assertTrue(completableFuture.isDone());\r\n        verify(logger).info(successMessage);\r\n    }\r\n\r\n    @Test\r\n    void testFailureCallback() {\r\n        var failureMessage = &quot;KO Message&quot;;\r\n        var exceptionMessage = &quot;fakeException&quot;;\r\n\r\n        myProducer.sendEvent(myObject);\r\n        completableFuture.completeExceptionally(new RuntimeException(exceptionMessage));\r\n\r\n        assertTrue(completableFuture.isCompletedExceptionally());\r\n        verify(logger).info(failureMessage);\r\n    }\r\n\r\n    @Test\r\n    void testSpecialSuccessCallback() throws ExecutionException, InterruptedException, TimeoutException {\r\n        var offset = 1L;\r\n\r\n        SendResult&lt;String, MyObject&gt; result = myProducer.sendSpecialEvent(myObject);\r\n        completableFuture.complete(new SendResult&lt;&gt;(\r\n                new ProducerRecord&lt;&gt;(topic, myObject),\r\n                new RecordMetadata(new TopicPartition(topic, 1), offset, 0, 0, 0, 0)\r\n        ));\r\n\r\n        assertTrue(completableFuture.isDone());\r\n        assertTrue(Objects.nonNull(result));\r\n        assertTrue(Objects.equals(result.getProducerRecord().value(), myObject));\r\n    }\r\n\r\n    @Test\r\n    void testSpecialFailureCallback() {\r\n        // TODO: implement negative scenario\r\n    }\r\n}\r\n```\r\n\r\nFirst two tests are passing. Third one is throwing exception `java.util.concurrent.TimeoutException\r\n\tat java.base/java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1886)\r\n\tat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2021)\r\n\tat org.springframework.util.concurrent.CompletableToListenableFutureAdapter.get(CompletableToListenableFutureAdapter.java:104)`.\r\n\r\nAnd for now I have no idea how to approach in the last test case...","title":"CompletableFuture.get() throws java.util.concurrent.TimeoutException in JUnit","body":"<p>I'm struggling to write a JUnit test for my kafka producer with <code>KafkaTemplate</code> and <code>CompletableFuture</code>. Similar test for method which doesn't invoke <code>get()</code> works fine.</p>\n<p>Here is my kafka producer class (<code>MyProducer</code>):</p>\n<pre><code>@Service\npublic class MyProducer {\n\n    private final Logger logger = LoggerFactory.getLogger(MyProducer.class);\n    private KafkaTemplate&lt;String, MyObject&gt; kafkaTemplate;\n    public MyProducer() {}\n\n    @Autowired(required = false)\n    public void setKafkaTemplate(KafkaTemplate&lt;String, MyObject&gt; kafkaTemplate) {\n        this.kafkaTemplate = kafkaTemplate;\n    }\n\n    public void sendEvent(MyObject message) {\n        ListenableFuture&lt;SendResult&lt;String, MyObject&gt;&gt; future = kafkaTemplate.send(&quot;my-topic&quot;, message);\n        future.addCallback(\n                result -&gt; logger.info(&quot;Everything is fine!&quot;),\n                exception -&gt; logger.info(&quot;Ups!&quot;)\n        );\n    }\n\n    public SendResult&lt;String, MyObject&gt; sendSpecialEvent(MyObject message) throws ExecutionException, InterruptedException,\n            TimeoutException {\n        return kafkaTemplate.send(&quot;my-topic&quot;, message).get(100, TimeUnit.MILLISECONDS);\n    }\n}\n</code></pre>\n<p>And test class:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class MyProducerTest {\n\n    private final String topic = &quot;dummyString&quot;;\n    @Mock\n    private KafkaTemplate&lt;String, MyObject&gt; kafkaTemplate;\n    @Mock\n    private Logger logger;\n    private CompletableFuture&lt;SendResult&lt;String, MyObject&gt;&gt; completableFuture;\n    private MyObject myObject;\n    private MyProducer myProducer;\n\n    @BeforeEach\n    void setUp() {\n        myProducer = new MyProducer();\n        ReflectionTestUtils.setField(myProducer, &quot;logger&quot;, logger);\n        myProducer.setKafkaTemplate(kafkaTemplate);\n\n        myObject = mock(MyObject.class);\n        completableFuture = new CompletableFuture&lt;&gt;();\n        var futureAdapter = new CompletableToListenableFutureAdapter&lt;&gt;(completableFuture);\n        when(kafkaTemplate.send(any(), any())).thenReturn(futureAdapter);\n    }\n\n    @Test\n    void testSuccessCallback() {\n        var successMessage = &quot;OK Message&quot;;\n        var offset = 1L;\n\n        myProducer.sendEvent(myObject);\n        completableFuture.complete(new SendResult&lt;&gt;(\n                new ProducerRecord&lt;&gt;(topic, myObject),\n                new RecordMetadata(new TopicPartition(topic, 1), offset, 0, 0, 0, 0)\n        ));\n\n        assertTrue(completableFuture.isDone());\n        verify(logger).info(successMessage);\n    }\n\n    @Test\n    void testFailureCallback() {\n        var failureMessage = &quot;KO Message&quot;;\n        var exceptionMessage = &quot;fakeException&quot;;\n\n        myProducer.sendEvent(myObject);\n        completableFuture.completeExceptionally(new RuntimeException(exceptionMessage));\n\n        assertTrue(completableFuture.isCompletedExceptionally());\n        verify(logger).info(failureMessage);\n    }\n\n    @Test\n    void testSpecialSuccessCallback() throws ExecutionException, InterruptedException, TimeoutException {\n        var offset = 1L;\n\n        SendResult&lt;String, MyObject&gt; result = myProducer.sendSpecialEvent(myObject);\n        completableFuture.complete(new SendResult&lt;&gt;(\n                new ProducerRecord&lt;&gt;(topic, myObject),\n                new RecordMetadata(new TopicPartition(topic, 1), offset, 0, 0, 0, 0)\n        ));\n\n        assertTrue(completableFuture.isDone());\n        assertTrue(Objects.nonNull(result));\n        assertTrue(Objects.equals(result.getProducerRecord().value(), myObject));\n    }\n\n    @Test\n    void testSpecialFailureCallback() {\n        // TODO: implement negative scenario\n    }\n}\n</code></pre>\n<p>First two tests are passing. Third one is throwing exception <code>java.util.concurrent.TimeoutException at java.base/java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1886) at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2021) at org.springframework.util.concurrent.CompletableToListenableFutureAdapter.get(CompletableToListenableFutureAdapter.java:104)</code>.</p>\n<p>And for now I have no idea how to approach in the last test case...</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":1,"creation_date":1678969976,"post_id":75755151,"comment_id":133638129,"body_markdown":"5 different questions with the same issue in the last few days, would be better to flag it as a duplicate.","body":"5 different questions with the same issue in the last few days, would be better to flag it as a duplicate."}],"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1678963558,"creation_date":1678963558,"answer_id":75755151,"question_id":75754986,"body_markdown":"Change the below code:\r\n\r\n````\r\nWebDriver driver = new ChromeDriver();\r\n````\r\nTo:\r\n\r\n````\r\nChromeOptions options = new ChromeOptions();\r\noptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\nWebDriver driver = new ChromeDriver(options);\r\n````","title":"Showing runtime error in WebDriver dri = new ChromeDriver();","body":"<p>Change the below code:</p>\n<pre><code>WebDriver driver = new ChromeDriver();\n</code></pre>\n<p>To:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--remote-allow-origins=*&quot;);\nWebDriver driver = new ChromeDriver(options);\n</code></pre>\n"}],"owner":{"account_id":28031632,"reputation":1,"user_id":21410722,"display_name":"ShaikFaheem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678963806,"answer_count":1,"score":0,"last_activity_date":1679068997,"creation_date":1678962800,"question_id":75754986,"body_markdown":"Showing runtime error in WebDriver driver = new ChromeDriver();\r\n\r\nI have written the code as\r\n````\r\npublic class a1_Google {\r\npublic static void main(String[] args) throws InterruptedException{ \r\n         System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\nuzee\\\\IdeaProjects\\\\Selenium\\\\drivers\\\\chromedriver.exe&quot;);         \r\n WebDriver driver = new ChromeDriver();\r\n````\r\nIt is showing as this in console\r\n````\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nStarting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 56069\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\nMar 16, 2023 3:44:26 PM org.openqa.selenium.remote.ProtocolHandshake createSession\r\nINFO: Detected dialect: W3C\r\nMar 16, 2023 3:44:26 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\nWARNING: Invalid Status code=403 text=Forbidden\r\njava.io.IOException: Invalid Status code=403 text=Forbidden\r\n\tat org.asynchttpclient.netty.handler.WebSocketHandler.abort(WebSocketHandler.java:92)\r\n\tat org.asynchttpclient.netty.handler.WebSocketHandler.handleRead(WebSocketHandler.java:118)\r\n\tat org.asynchttpclient.netty.handler.AsyncHttpClientHandler.channelRead(AsyncHttpClientHandler.java:78)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:311)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:432)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nException in thread &quot;main&quot; org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:57471/devtools/browser/43a48509-4ce9-4f3f-80c6-4ec40faba4d5\r\nBuild info: version: &#39;4.1.1&#39;, revision: &#39;e8fcc2cecf&#39;\r\nSystem info: host: &#39;LAPTOP-NMB8SION&#39;, ip: &#39;192.168.0.107&#39;, os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;18.0.1.1&#39;\r\nDriver info: driver.version: ChromeDriver\r\n\tat org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:104)\r\n\tat org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:137)\r\n\tat org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:118)\r\n\tat org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:77)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:124)\r\n\tat java.base/java.util.Optional.map(Optional.java:260)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:122)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:104)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:91)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:46)\r\n\tat PracticePrograms.a1_Google.main(a1_Google.java:12)\r\n\r\nProcess finished with exit code 1\r\n````\r\n\r\nTried to initialize chrome driver but it is showing error and not getting initialized\r\n","title":"Showing runtime error in WebDriver dri = new ChromeDriver();","body":"<p>Showing runtime error in WebDriver driver = new ChromeDriver();</p>\n<p>I have written the code as</p>\n<pre><code>public class a1_Google {\npublic static void main(String[] args) throws InterruptedException{ \n         System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\nuzee\\\\IdeaProjects\\\\Selenium\\\\drivers\\\\chromedriver.exe&quot;);         \n WebDriver driver = new ChromeDriver();\n</code></pre>\n<p>It is showing as this in console</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nStarting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 56069\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nMar 16, 2023 3:44:26 PM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\nMar 16, 2023 3:44:26 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\nWARNING: Invalid Status code=403 text=Forbidden\njava.io.IOException: Invalid Status code=403 text=Forbidden\n    at org.asynchttpclient.netty.handler.WebSocketHandler.abort(WebSocketHandler.java:92)\n    at org.asynchttpclient.netty.handler.WebSocketHandler.handleRead(WebSocketHandler.java:118)\n    at org.asynchttpclient.netty.handler.AsyncHttpClientHandler.channelRead(AsyncHttpClientHandler.java:78)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:311)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:432)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\nException in thread &quot;main&quot; org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:57471/devtools/browser/43a48509-4ce9-4f3f-80c6-4ec40faba4d5\nBuild info: version: '4.1.1', revision: 'e8fcc2cecf'\nSystem info: host: 'LAPTOP-NMB8SION', ip: '192.168.0.107', os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '18.0.1.1'\nDriver info: driver.version: ChromeDriver\n    at org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:104)\n    at org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:137)\n    at org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:118)\n    at org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:77)\n    at org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:124)\n    at java.base/java.util.Optional.map(Optional.java:260)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:122)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:104)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:91)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:46)\n    at PracticePrograms.a1_Google.main(a1_Google.java:12)\n\nProcess finished with exit code 1\n</code></pre>\n<p>Tried to initialize chrome driver but it is showing error and not getting initialized</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1497188169,"post_id":44484378,"comment_id":75962892,"body_markdown":"Indenting code will be part in the next programming course?","body":"Indenting code will be part in the next programming course?"},{"owner":{"account_id":11093664,"reputation":7,"user_id":8144639,"display_name":"Brent Cloete"},"score":0,"creation_date":1497188734,"post_id":44484378,"comment_id":75963065,"body_markdown":"my apologies tom","body":"my apologies tom"}],"answers":[{"tags":[],"owner":{"account_id":215715,"reputation":3329,"user_id":470517,"accept_rate":86,"display_name":"Aydin K."},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1497188016,"creation_date":1497188016,"answer_id":44484436,"question_id":44484378,"body_markdown":"One possibility: \r\n\r\na.setBoosterShot(true);","title":"Dog Class Java Assignment","body":"<p>One possibility: </p>\n\n<p>a.setBoosterShot(true);</p>\n"},{"comments":[{"owner":{"account_id":11093664,"reputation":7,"user_id":8144639,"display_name":"Brent Cloete"},"score":0,"creation_date":1497191027,"post_id":44484523,"comment_id":75963744,"body_markdown":"Thank you Shane, works well. Only issue is that if you type yes it request Yes or No and if I type Yes then it gets a error","body":"Thank you Shane, works well. Only issue is that if you type yes it request Yes or No and if I type Yes then it gets a error"},{"owner":{"account_id":11093664,"reputation":7,"user_id":8144639,"display_name":"Brent Cloete"},"score":0,"creation_date":1497191184,"post_id":44484523,"comment_id":75963778,"body_markdown":"Ok I see the error is not from your code, after a wrong answer it goes to the next question.","body":"Ok I see the error is not from your code, after a wrong answer it goes to the next question."},{"owner":{"account_id":11093664,"reputation":7,"user_id":8144639,"display_name":"Brent Cloete"},"score":0,"creation_date":1497200620,"post_id":44484523,"comment_id":75966895,"body_markdown":"How would I implement something like this:a program that reads in five pets of type\nDog and displays the name and breed of all dogs that are over two years old\nand have not had their booster shots","body":"How would I implement something like this:a program that reads in five pets of type Dog and displays the name and breed of all dogs that are over two years old and have not had their booster shots"},{"owner":{"account_id":11092955,"reputation":80,"user_id":8144148,"accept_rate":50,"display_name":"Shaine"},"score":0,"creation_date":1497200793,"post_id":44484523,"comment_id":75966949,"body_markdown":"after you input the five pets thats the time you display the dog info that are over two years?","body":"after you input the five pets thats the time you display the dog info that are over two years?"},{"owner":{"account_id":11093664,"reputation":7,"user_id":8144639,"display_name":"Brent Cloete"},"score":0,"creation_date":1497207116,"post_id":44484523,"comment_id":75969112,"body_markdown":"yes once 5 pets are read into the program, the program must then return all the pets along with name and breed over 2 years who have not had a booster shot. I have the 5 pets read in but struggle to write code to display only the pets over 2 years who dont have a booster shot.","body":"yes once 5 pets are read into the program, the program must then return all the pets along with name and breed over 2 years who have not had a booster shot. I have the 5 pets read in but struggle to write code to display only the pets over 2 years who dont have a booster shot."}],"tags":[],"owner":{"account_id":11092955,"reputation":80,"user_id":8144148,"accept_rate":50,"display_name":"Shaine"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497189083,"creation_date":1497188593,"answer_id":44484523,"question_id":44484378,"body_markdown":"You can use this. Try to ask if dog is Boostershot or not\r\n    \r\n    System.out.println(&quot;Is this Boostershot? Yes or No&quot;);\r\n\r\n    String ans = keyboard.nextLine();\r\n    \r\n    if (ans.equals(&quot;Yes&quot;)) {\r\n        a.setBoosterShot(true);\r\n    } else if (ans.equals(&quot;No&quot;)) {\r\n        a.setBoosterShot(false);\r\n    } else {\r\n        System.out.print(&quot;Please Input Yes or No&quot;);\r\n    }","title":"Dog Class Java Assignment","body":"<p>You can use this. Try to ask if dog is Boostershot or not</p>\n\n<pre><code>System.out.println(\"Is this Boostershot? Yes or No\");\n\nString ans = keyboard.nextLine();\n\nif (ans.equals(\"Yes\")) {\n    a.setBoosterShot(true);\n} else if (ans.equals(\"No\")) {\n    a.setBoosterShot(false);\n} else {\n    System.out.print(\"Please Input Yes or No\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11092955,"reputation":80,"user_id":8144148,"accept_rate":50,"display_name":"Shaine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497201617,"creation_date":1497201617,"answer_id":44486612,"question_id":44484378,"body_markdown":"&gt; Try to put For loop. looping five time then put all dogs that is 2 years above and booster= false in a Dog List\r\n\r\nimport java.util.LinkedList;\r\n\r\nimport java.util.List;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Sample{\r\n\r\n     static List&lt;Dog&gt; dogList=new LinkedList&lt;&gt;();\r\n\r\n     public static void main(String[] args) {\r\n\r\n         for(int i=0;i&lt;5;i++){\r\n\r\n        Dog a = new Dog();\r\n\r\n        System.out.println(&quot;My records on your dog are inaccurate.&quot;);\r\n\r\n        System.out.println(&quot;Here is what they currently say:&quot;);\r\n\r\n        a.writeOutput();\r\n\r\n        Scanner keyboard = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Please enter the correct dog name:&quot;);\r\n\r\n        String correctName = keyboard.nextLine();\r\n\r\n        a.setName(correctName);\r\n\r\n        System.out.println(&quot;Please enter correct dog breed:&quot;);\r\n\r\n        String correctBreed = keyboard.nextLine();\r\n\r\n        a.setBreed(correctBreed);\r\n\r\n        System.out.println(&quot;Please enter the correct dog age:&quot;);\r\n\r\n        int correctAge = keyboard.nextInt();\r\n\r\n        a.setAge(correctAge);\r\n\r\n        System.out.println(&quot;Please enter the correct dog weight:&quot;);\r\n\r\n        double correctWeight = keyboard.nextDouble();\r\n\r\n        a.setWeight(correctWeight);\r\n\r\n        System.out.println(&quot;My updated records now say:&quot;);\r\n\r\n        a.writeOutput();\r\n\r\n        if(a.getAge()&gt;2&amp;&amp;!a.getBoosterShot()){\r\n\r\n        dogList.add(a);\r\n\r\n        }\r\n\r\n         }\r\n\r\n         System.out.println(&quot;\\n&quot;);\r\n\r\n         System.out.println(&quot;List of all dogs that are over two years old and have not had their booster shots&quot;);\r\n         \r\n         for(Dog d:dogList)\r\n\r\n         {\r\n         \r\n         System.out.println(&quot;.................\\n&quot;);\r\n\r\n          System.out.println(&quot;Dog Name: &quot;+d.getName());\r\n\r\n          System.out.println(&quot;Dog Breed: &quot;+d.getBreed());\r\n\r\n          System.out.println(&quot;Dog Age: &quot;+d.getAge());\r\n\r\n         }\r\n\r\n     }\r\n\r\n  }","title":"Dog Class Java Assignment","body":"<blockquote>\n  <p>Try to put For loop. looping five time then put all dogs that is 2 years above and booster= false in a Dog List</p>\n</blockquote>\n\n<p>import java.util.LinkedList;</p>\n\n<p>import java.util.List;</p>\n\n<p>import java.util.Scanner;</p>\n\n<p>public class Sample{</p>\n\n<pre><code> static List&lt;Dog&gt; dogList=new LinkedList&lt;&gt;();\n\n public static void main(String[] args) {\n\n     for(int i=0;i&lt;5;i++){\n\n    Dog a = new Dog();\n\n    System.out.println(\"My records on your dog are inaccurate.\");\n\n    System.out.println(\"Here is what they currently say:\");\n\n    a.writeOutput();\n\n    Scanner keyboard = new Scanner(System.in);\n\n    System.out.println(\"Please enter the correct dog name:\");\n\n    String correctName = keyboard.nextLine();\n\n    a.setName(correctName);\n\n    System.out.println(\"Please enter correct dog breed:\");\n\n    String correctBreed = keyboard.nextLine();\n\n    a.setBreed(correctBreed);\n\n    System.out.println(\"Please enter the correct dog age:\");\n\n    int correctAge = keyboard.nextInt();\n\n    a.setAge(correctAge);\n\n    System.out.println(\"Please enter the correct dog weight:\");\n\n    double correctWeight = keyboard.nextDouble();\n\n    a.setWeight(correctWeight);\n\n    System.out.println(\"My updated records now say:\");\n\n    a.writeOutput();\n\n    if(a.getAge()&gt;2&amp;&amp;!a.getBoosterShot()){\n\n    dogList.add(a);\n\n    }\n\n     }\n\n     System.out.println(\"\\n\");\n\n     System.out.println(\"List of all dogs that are over two years old and have not had their booster shots\");\n\n     for(Dog d:dogList)\n\n     {\n\n     System.out.println(\".................\\n\");\n\n      System.out.println(\"Dog Name: \"+d.getName());\n\n      System.out.println(\"Dog Breed: \"+d.getBreed());\n\n      System.out.println(\"Dog Age: \"+d.getAge());\n\n     }\n\n }\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":27351939,"reputation":1,"user_id":20860973,"display_name":"Robert Heavner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679068561,"creation_date":1679068561,"answer_id":75769706,"question_id":44484378,"body_markdown":"    import java.util.Scanner;\r\n\r\n    public class Pet {\r\n    private int dogSpaces = 30;\r\n    private int catSpaces = 12;\r\n    private int petAge;\r\n\r\n    public Pet(int dogSpaces, int catSpaces) {\r\n        this.dogSpaces = dogSpaces;\r\n        this.catSpaces = catSpaces;\r\n    }\r\n\r\n    public int getDogSpaces() {\r\n        return dogSpaces;\r\n    }\r\n\r\n    public int getCatSpaces() {\r\n        return catSpaces;\r\n    }\r\n\r\n    public String checkInPet(String petType, int petWeight, int petAge, int lengthOfStay, boolean groomingRequested, boolean hasBeenHereBefore) {\r\n        if (!hasBeenHereBefore) {\r\n            return &quot;Welcome! Please update your client information.&quot;;\r\n        }\r\n\r\n        if (petType.equals(&quot;dog&quot;)) {\r\n            if (petWeight &gt;= 30 &amp;&amp; dogSpaces &gt; 0) {\r\n                dogSpaces--;\r\n            } else if (petWeight &gt;= 20 &amp;&amp; dogSpaces &gt; 0) {\r\n                dogSpaces--;\r\n            } else if (dogSpaces &gt; 0) {\r\n                dogSpaces--;\r\n            } else {\r\n                return &quot;Sorry, there is no available space for your dog.&quot;;\r\n            }\r\n        } else if (petType.equals(&quot;cat&quot;)) {\r\n            if (catSpaces &gt; 0) {\r\n                catSpaces--;\r\n            } else {\r\n                return &quot;Sorry, there is no available space for your cat.&quot;;\r\n            }\r\n        } else {\r\n            return &quot;Invalid pet type.&quot;;\r\n        }\r\n\r\n        double groomingFee = 0.0;\r\n        double boardingFee = 0.0;\r\n        if (petType.equals(&quot;dog&quot;)) {\r\n            if (lengthOfStay &gt;= 2 &amp;&amp; groomingRequested) {\r\n                groomingFee = 29.95;\r\n            }\r\n            if (petWeight &gt;= 30) {\r\n                boardingFee = 34.00;\r\n            } else if (petWeight &gt;= 20) {\r\n                boardingFee = 29.00;\r\n            } else {\r\n                boardingFee = 24.00;\r\n            }\r\n        } else if (petType.equals(&quot;cat&quot;)) {\r\n            boardingFee = 18.00;\r\n        }\r\n\r\n        return String.format(&quot;Pet checked in successfully. Boarding fee: $%.2f/day. Grooming fee: $%.2f.&quot;, boardingFee, groomingFee);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Pet pet = new Pet(30, 12);\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.print(&quot;Is the pet a dog or a cat? &quot;);\r\n        String petType = scanner.nextLine();\r\n        System.out.print(&quot;What is the weight of the pet? &quot;);\r\n        int petWeight = scanner.nextInt();\r\n        scanner.nextLine();\r\n        System.out.print(&quot;What is the age of the pet? &quot;);\r\n        int petAge = scanner.nextInt();\r\n        scanner.nextLine();\r\n        System.out.print(&quot;Has the pet been here before? (yes/no) &quot;);\r\n        String hasBeenHereBefore = scanner.nextLine();\r\n\r\n        boolean hasBeenHereBeforeBool = false;\r\n        if (hasBeenHereBefore.equalsIgnoreCase(&quot;yes&quot;)) {\r\n            hasBeenHereBeforeBool = true;\r\n        }\r\n\r\n        String result = pet.checkInPet(petType, petWeight, petAge, 3, true, hasBeenHereBeforeBool);\r\n        System.out.println(result);\r\n\r\n        System.out.printf(&quot;Available dog spaces: %d\\n&quot;, pet.getDogSpaces());\r\n        System.out.printf(&quot;Available cat spaces: %d\\n&quot;, pet.getCatSpaces());\r\n    }\r\n}\r\n","title":"Dog Class Java Assignment","body":"<pre><code>import java.util.Scanner;\n\npublic class Pet {\nprivate int dogSpaces = 30;\nprivate int catSpaces = 12;\nprivate int petAge;\n\npublic Pet(int dogSpaces, int catSpaces) {\n    this.dogSpaces = dogSpaces;\n    this.catSpaces = catSpaces;\n}\n\npublic int getDogSpaces() {\n    return dogSpaces;\n}\n\npublic int getCatSpaces() {\n    return catSpaces;\n}\n\npublic String checkInPet(String petType, int petWeight, int petAge, int lengthOfStay, boolean groomingRequested, boolean hasBeenHereBefore) {\n    if (!hasBeenHereBefore) {\n        return &quot;Welcome! Please update your client information.&quot;;\n    }\n\n    if (petType.equals(&quot;dog&quot;)) {\n        if (petWeight &gt;= 30 &amp;&amp; dogSpaces &gt; 0) {\n            dogSpaces--;\n        } else if (petWeight &gt;= 20 &amp;&amp; dogSpaces &gt; 0) {\n            dogSpaces--;\n        } else if (dogSpaces &gt; 0) {\n            dogSpaces--;\n        } else {\n            return &quot;Sorry, there is no available space for your dog.&quot;;\n        }\n    } else if (petType.equals(&quot;cat&quot;)) {\n        if (catSpaces &gt; 0) {\n            catSpaces--;\n        } else {\n            return &quot;Sorry, there is no available space for your cat.&quot;;\n        }\n    } else {\n        return &quot;Invalid pet type.&quot;;\n    }\n\n    double groomingFee = 0.0;\n    double boardingFee = 0.0;\n    if (petType.equals(&quot;dog&quot;)) {\n        if (lengthOfStay &gt;= 2 &amp;&amp; groomingRequested) {\n            groomingFee = 29.95;\n        }\n        if (petWeight &gt;= 30) {\n            boardingFee = 34.00;\n        } else if (petWeight &gt;= 20) {\n            boardingFee = 29.00;\n        } else {\n            boardingFee = 24.00;\n        }\n    } else if (petType.equals(&quot;cat&quot;)) {\n        boardingFee = 18.00;\n    }\n\n    return String.format(&quot;Pet checked in successfully. Boarding fee: $%.2f/day. Grooming fee: $%.2f.&quot;, boardingFee, groomingFee);\n}\n\npublic static void main(String[] args) {\n    Pet pet = new Pet(30, 12);\n    Scanner scanner = new Scanner(System.in);\n    System.out.print(&quot;Is the pet a dog or a cat? &quot;);\n    String petType = scanner.nextLine();\n    System.out.print(&quot;What is the weight of the pet? &quot;);\n    int petWeight = scanner.nextInt();\n    scanner.nextLine();\n    System.out.print(&quot;What is the age of the pet? &quot;);\n    int petAge = scanner.nextInt();\n    scanner.nextLine();\n    System.out.print(&quot;Has the pet been here before? (yes/no) &quot;);\n    String hasBeenHereBefore = scanner.nextLine();\n\n    boolean hasBeenHereBeforeBool = false;\n    if (hasBeenHereBefore.equalsIgnoreCase(&quot;yes&quot;)) {\n        hasBeenHereBeforeBool = true;\n    }\n\n    String result = pet.checkInPet(petType, petWeight, petAge, 3, true, hasBeenHereBeforeBool);\n    System.out.println(result);\n\n    System.out.printf(&quot;Available dog spaces: %d\\n&quot;, pet.getDogSpaces());\n    System.out.printf(&quot;Available cat spaces: %d\\n&quot;, pet.getCatSpaces());\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":11093664,"reputation":7,"user_id":8144639,"display_name":"Brent Cloete"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15704,"favorite_count":0,"down_vote_count":7,"up_vote_count":1,"answer_count":4,"score":-6,"last_activity_date":1679068561,"creation_date":1497187716,"question_id":44484378,"body_markdown":"I am a Java programming student and busy with an assignment. I would really appreciate some help. \r\n\r\nBelow is the class I had to create:\r\n\r\n    /**\r\n     * Class for basic dog data: name, age, weight, breed and booster shot info.\r\n     */\r\n    public class Dog {\r\n        private String name; //name of dog\r\n        private int age; //in years\r\n        private double weight;  //in pounds\r\n        private String breed; //breed of dog\r\n        private boolean boosterShot; //Status of booster shot\r\n    \r\n        public Dog() {\r\n            name = &quot;No name yet.&quot;;\r\n            age = 0;\r\n            weight = 0;\r\n            breed = &quot;No breed yet.&quot;;\r\n            this.boosterShot = false;\r\n        }\r\n    \r\n        public Dog(String initialName, int initialAge,\r\n                   double initialWeight, String initialBreed, boolean boosterShot) {\r\n            name = initialName;\r\n            if ((initialAge &lt; 0) || (initialWeight &lt; 0)) {\r\n                System.out.println(&quot;Error: Negative age or weight.&quot;);\r\n                System.exit(0);\r\n            } else {\r\n                age = initialAge;\r\n                weight = initialWeight;\r\n                breed = initialBreed;\r\n                this.boosterShot = boosterShot;\r\n            }\r\n        }\r\n    \r\n        public Dog(String initialName, String initialBreed, boolean boosterShot) {\r\n            name = initialName;\r\n            age = 0;\r\n            weight = 0;\r\n            breed = initialBreed;\r\n            this.boosterShot = boosterShot;\r\n        }\r\n    \r\n        public Dog(int initialAge) {\r\n            name = &quot;No name yet.&quot;;\r\n            weight = 0;\r\n            breed = &quot;No breed yet.&quot;;\r\n            boosterShot = false;\r\n            if (initialAge &lt; 0) {\r\n                System.out.println(&quot;Error: Negative age.&quot;);\r\n                System.exit(0);\r\n            } else\r\n                age = initialAge;\r\n        }\r\n    \r\n    \r\n        public Dog(double initialWeight) {\r\n            name = &quot;No name yet.&quot;;\r\n            age = 0;\r\n            breed = &quot;No breed yet.&quot;;\r\n            boosterShot = false;\r\n            if (initialWeight &lt; 0) {\r\n                System.out.println(&quot;Error: Negative weight.&quot;);\r\n                System.exit(0);\r\n            } else\r\n                weight = initialWeight;\r\n        }\r\n    \r\n        public void setDog(String newName, int newAge,\r\n                           double newWeight, String newBreed, boolean boosterShot) {\r\n            name = newName;\r\n            if ((newAge &lt; 0) || (newWeight &lt; 0)) {\r\n                System.out.println(&quot;Error: Negative age or weight.&quot;);\r\n                System.exit(0);\r\n            } else {\r\n                age = newAge;\r\n                weight = newWeight;\r\n                breed = newBreed;\r\n                this.boosterShot = boosterShot;\r\n            }\r\n        }\r\n    \r\n        public boolean hadBoosterShot() {\r\n            return this.boosterShot;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String newName) {\r\n            name = newName; //age and weight are unchanged.\r\n        }\r\n    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setAge(int newAge) {\r\n            if (newAge &lt; 0) {\r\n                System.out.println(&quot;Error: Negative age.&quot;);\r\n                System.exit(0);\r\n            } else\r\n                age = newAge; //name and weight are unchanged.\r\n        }\r\n    \r\n        public double getWeight() {\r\n            return weight;\r\n        }\r\n    \r\n        public void setWeight(double newWeight) {\r\n            if (newWeight &lt; 0) {\r\n                System.out.println(&quot;Error: Negative weight.&quot;);\r\n                System.exit(0);\r\n            } else\r\n                weight = newWeight; //name and age are unchanged.\r\n        }\r\n    \r\n        public String getBreed() {\r\n            return breed;\r\n        }\r\n    \r\n        public void setBreed(String newBreed) {\r\n            breed = newBreed;\r\n        }\r\n    \r\n        public boolean getBoosterShot() {\r\n            return boosterShot;\r\n        }\r\n    \r\n        public void setBoosterShot(boolean boosterShot) {\r\n            this.boosterShot = boosterShot;\r\n        }\r\n    \r\n        public void writeOutput() {\r\n            System.out.println(&quot;Name: &quot; + name);\r\n            System.out.println(&quot;Age: &quot; + age + &quot; years&quot;);\r\n            System.out.println(&quot;Weight: &quot; + weight + &quot; pounds&quot;);\r\n            System.out.println(&quot;Breed: &quot; + breed);\r\n            System.out.println(&quot;Booster shot status: &quot; + boosterShot);\r\n        }\r\n    }\r\n\r\nBelow is the tester program I created: \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class DogDemo {\r\n        public static void main(String[] args) {\r\n            Dog a = new Dog();\r\n            System.out.println(&quot;My records on your dog are inaccurate.&quot;);\r\n            System.out.println(&quot;Here is what they currently say:&quot;);\r\n            a.writeOutput();\r\n    \r\n            Scanner keyboard = new Scanner(System.in);\r\n    \r\n            System.out.println(&quot;Please enter the correct dog name:&quot;);\r\n            String correctName = keyboard.nextLine();\r\n            a.setName(correctName);\r\n    \r\n            System.out.println(&quot;Please enter correct dog breed:&quot;);\r\n            String correctBreed = keyboard.nextLine();\r\n            a.setBreed(correctBreed);\r\n    \r\n            System.out.println(&quot;Please enter the correct dog age:&quot;);\r\n            int correctAge = keyboard.nextInt();\r\n            a.setAge(correctAge);\r\n    \r\n            System.out.println(&quot;Please enter the correct dog weight:&quot;);\r\n            double correctWeight = keyboard.nextDouble();\r\n            a.setWeight(correctWeight);\r\n    \r\n            System.out.println(&quot;My updated records now say:&quot;);\r\n            a.writeOutput();\r\n        }\r\n    }\r\n\r\nAll works fine but I am really stuck on how to set the `boosterShot` to `true` or `false` in the tester program.\r\n\r\nAny help will be greatly appreciated.\r\n\r\n","title":"Dog Class Java Assignment","body":"<p>I am a Java programming student and busy with an assignment. I would really appreciate some help. </p>\n\n<p>Below is the class I had to create:</p>\n\n<pre><code>/**\n * Class for basic dog data: name, age, weight, breed and booster shot info.\n */\npublic class Dog {\n    private String name; //name of dog\n    private int age; //in years\n    private double weight;  //in pounds\n    private String breed; //breed of dog\n    private boolean boosterShot; //Status of booster shot\n\n    public Dog() {\n        name = \"No name yet.\";\n        age = 0;\n        weight = 0;\n        breed = \"No breed yet.\";\n        this.boosterShot = false;\n    }\n\n    public Dog(String initialName, int initialAge,\n               double initialWeight, String initialBreed, boolean boosterShot) {\n        name = initialName;\n        if ((initialAge &lt; 0) || (initialWeight &lt; 0)) {\n            System.out.println(\"Error: Negative age or weight.\");\n            System.exit(0);\n        } else {\n            age = initialAge;\n            weight = initialWeight;\n            breed = initialBreed;\n            this.boosterShot = boosterShot;\n        }\n    }\n\n    public Dog(String initialName, String initialBreed, boolean boosterShot) {\n        name = initialName;\n        age = 0;\n        weight = 0;\n        breed = initialBreed;\n        this.boosterShot = boosterShot;\n    }\n\n    public Dog(int initialAge) {\n        name = \"No name yet.\";\n        weight = 0;\n        breed = \"No breed yet.\";\n        boosterShot = false;\n        if (initialAge &lt; 0) {\n            System.out.println(\"Error: Negative age.\");\n            System.exit(0);\n        } else\n            age = initialAge;\n    }\n\n\n    public Dog(double initialWeight) {\n        name = \"No name yet.\";\n        age = 0;\n        breed = \"No breed yet.\";\n        boosterShot = false;\n        if (initialWeight &lt; 0) {\n            System.out.println(\"Error: Negative weight.\");\n            System.exit(0);\n        } else\n            weight = initialWeight;\n    }\n\n    public void setDog(String newName, int newAge,\n                       double newWeight, String newBreed, boolean boosterShot) {\n        name = newName;\n        if ((newAge &lt; 0) || (newWeight &lt; 0)) {\n            System.out.println(\"Error: Negative age or weight.\");\n            System.exit(0);\n        } else {\n            age = newAge;\n            weight = newWeight;\n            breed = newBreed;\n            this.boosterShot = boosterShot;\n        }\n    }\n\n    public boolean hadBoosterShot() {\n        return this.boosterShot;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String newName) {\n        name = newName; //age and weight are unchanged.\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int newAge) {\n        if (newAge &lt; 0) {\n            System.out.println(\"Error: Negative age.\");\n            System.exit(0);\n        } else\n            age = newAge; //name and weight are unchanged.\n    }\n\n    public double getWeight() {\n        return weight;\n    }\n\n    public void setWeight(double newWeight) {\n        if (newWeight &lt; 0) {\n            System.out.println(\"Error: Negative weight.\");\n            System.exit(0);\n        } else\n            weight = newWeight; //name and age are unchanged.\n    }\n\n    public String getBreed() {\n        return breed;\n    }\n\n    public void setBreed(String newBreed) {\n        breed = newBreed;\n    }\n\n    public boolean getBoosterShot() {\n        return boosterShot;\n    }\n\n    public void setBoosterShot(boolean boosterShot) {\n        this.boosterShot = boosterShot;\n    }\n\n    public void writeOutput() {\n        System.out.println(\"Name: \" + name);\n        System.out.println(\"Age: \" + age + \" years\");\n        System.out.println(\"Weight: \" + weight + \" pounds\");\n        System.out.println(\"Breed: \" + breed);\n        System.out.println(\"Booster shot status: \" + boosterShot);\n    }\n}\n</code></pre>\n\n<p>Below is the tester program I created: </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class DogDemo {\n    public static void main(String[] args) {\n        Dog a = new Dog();\n        System.out.println(\"My records on your dog are inaccurate.\");\n        System.out.println(\"Here is what they currently say:\");\n        a.writeOutput();\n\n        Scanner keyboard = new Scanner(System.in);\n\n        System.out.println(\"Please enter the correct dog name:\");\n        String correctName = keyboard.nextLine();\n        a.setName(correctName);\n\n        System.out.println(\"Please enter correct dog breed:\");\n        String correctBreed = keyboard.nextLine();\n        a.setBreed(correctBreed);\n\n        System.out.println(\"Please enter the correct dog age:\");\n        int correctAge = keyboard.nextInt();\n        a.setAge(correctAge);\n\n        System.out.println(\"Please enter the correct dog weight:\");\n        double correctWeight = keyboard.nextDouble();\n        a.setWeight(correctWeight);\n\n        System.out.println(\"My updated records now say:\");\n        a.writeOutput();\n    }\n}\n</code></pre>\n\n<p>All works fine but I am really stuck on how to set the <code>boosterShot</code> to <code>true</code> or <code>false</code> in the tester program.</p>\n\n<p>Any help will be greatly appreciated.</p>\n"},{"tags":["java","java-time","date-parsing"],"comments":[{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":2,"creation_date":1678992428,"post_id":75760452,"comment_id":133645268,"body_markdown":"Your `String date` is in `yyyy-MM-dd` format but the pattern you have specified is `dd-MMM-yyyy`. Your `date` would have to be like &quot;16-Apr-2018&quot; for this parse to work.","body":"Your <code>String date</code> is in <code>yyyy-MM-dd</code> format but the pattern you have specified is <code>dd-MMM-yyyy</code>. Your <code>date</code> would have to be like &quot;16-Apr-2018&quot; for this parse to work."},{"owner":{"account_id":5283587,"reputation":811,"user_id":4218216,"display_name":"Arnav Bose"},"score":0,"creation_date":1678992605,"post_id":75760452,"comment_id":133645333,"body_markdown":"Ok got the problem now. Actually, my concern is to convert the date to the 16-Apr-2018 format. I have 2018-04-16 as my input data.","body":"Ok got the problem now. Actually, my concern is to convert the date to the 16-Apr-2018 format. I have 2018-04-16 as my input data."},{"owner":{"account_id":5283587,"reputation":811,"user_id":4218216,"display_name":"Arnav Bose"},"score":0,"creation_date":1678992674,"post_id":75760452,"comment_id":133645342,"body_markdown":"how do I convert 2018-04-16 to 16-Apr-2018 ?","body":"how do I convert 2018-04-16 to 16-Apr-2018 ?"},{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":1,"creation_date":1678992727,"post_id":75760452,"comment_id":133645356,"body_markdown":"If your input is `yyyy-MM-dd` then your DateTimeFormatter needs to use that same pattern to parse it. _**Then**_ you can output (convert) the resulting `LocalDate localDate` into any format you want.","body":"If your input is <code>yyyy-MM-dd</code> then your DateTimeFormatter needs to use that same pattern to parse it. <i><b>Then</b></i> you can output (convert) the resulting <code>LocalDate localDate</code> into any format you want."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679067452,"post_id":75760452,"comment_id":133659965,"body_markdown":"*Is there a way I can handle this date conversion using LocalDate …* Yes, certainly, *… or should I use SimpleDateFormat?* No way! That will only risk adding several layers of trouble to your situation. And `SimpleDateFormat` cannot parse into a `LocalDate` (which is what you should want),","body":"<i>Is there a way I can handle this date conversion using LocalDate …</i> Yes, certainly, <i>… or should I use SimpleDateFormat?</i> No way! That will only risk adding several layers of trouble to your situation. And <code>SimpleDateFormat</code> cannot parse into a <code>LocalDate</code> (which is what you should want),"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679068013,"post_id":75760452,"comment_id":133660134,"body_markdown":"You need no formatter for parsing. `LocalDate.parse(date)` parses your string and gives you the `LocalDate` that you want. After that use your formatter for formatting to obtain the desired format: `localDate.format(formatter)` yields `16-Apr-2018`.","body":"You need no formatter for parsing. <code>LocalDate.parse(date)</code> parses your string and gives you the <code>LocalDate</code> that you want. After that use your formatter for formatting to obtain the desired format: <code>localDate.format(formatter)</code> yields <code>16-Apr-2018</code>."},{"owner":{"account_id":5283587,"reputation":811,"user_id":4218216,"display_name":"Arnav Bose"},"score":1,"creation_date":1679068352,"post_id":75760452,"comment_id":133660201,"body_markdown":"Yes, got it to work now. The problem was I directly tried convert the format to the desired format instead of first converting it to LocalDate and then convert. Now I have updated it and it works as you explained.","body":"Yes, got it to work now. The problem was I directly tried convert the format to the desired format instead of first converting it to LocalDate and then convert. Now I have updated it and it works as you explained."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1679070334,"post_id":75760452,"comment_id":133660732,"body_markdown":"There were two votes to close this question as not reproducible or caused by a typo. It is perfectly reproducible and not caused by any typo. Instead I have closed it as a duplicate, which I consider both more correct and more helpful.","body":"There were two votes to close this question as not reproducible or caused by a typo. It is perfectly reproducible and not caused by any typo. Instead I have closed it as a duplicate, which I consider both more correct and more helpful."}],"answers":[{"tags":[],"owner":{"account_id":3517130,"reputation":5214,"user_id":2940265,"accept_rate":91,"display_name":"Menuka Ishan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678992690,"creation_date":1678992690,"answer_id":75760525,"question_id":75760452,"body_markdown":"In your code `DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy&quot;, Locale.US);` pattern `dd-MMM-yyyy` is for three letter months like Jun. If you want to parse strings like `2018-04-16`, the pattern should be yyyy-MM-dd.\r\n\r\nPlease refer to the sample code\r\n\r\n    String date = &quot;2018-04-16&quot;;\r\n    DateTimeFormatter inputFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n    LocalDate localDate = LocalDate.parse(date, inputFormatter);\r\n\r\n**Update - For your question in the comment**\r\n\r\nAfter you convert String to Local date, the code below should do the trick.\r\n\r\n    DateTimeFormatter outputFormatter = DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy&quot;, Locale.US);\r\n    String outputDate = localDate.format(outputFormatter);","title":"Issue With Converting String to LocalDate","body":"<p>In your code <code>DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy&quot;, Locale.US);</code> pattern <code>dd-MMM-yyyy</code> is for three letter months like Jun. If you want to parse strings like <code>2018-04-16</code>, the pattern should be yyyy-MM-dd.</p>\n<p>Please refer to the sample code</p>\n<pre><code>String date = &quot;2018-04-16&quot;;\nDateTimeFormatter inputFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\nLocalDate localDate = LocalDate.parse(date, inputFormatter);\n</code></pre>\n<p><strong>Update - For your question in the comment</strong></p>\n<p>After you convert String to Local date, the code below should do the trick.</p>\n<pre><code>DateTimeFormatter outputFormatter = DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy&quot;, Locale.US);\nString outputDate = localDate.format(outputFormatter);\n</code></pre>\n"}],"owner":{"account_id":5283587,"reputation":811,"user_id":4218216,"display_name":"Arnav Bose"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1679070242,"accepted_answer_id":75760525,"answer_count":1,"score":0,"last_activity_date":1679067736,"creation_date":1678992223,"question_id":75760452,"body_markdown":"I am trying to convert a string date format to another date format(dd-MMM-yyyy) using LocalDate. \r\n\r\n```\r\nString date = &quot;2018-04-16&quot;;\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy&quot;, Locale.US);\r\nLocalDate localDate = LocalDate.parse(date, formatter);\r\n```\r\n\r\nI tried this code with and without the Locale.US in the DateTimeFormatter object. Either way it is returning this exception instead:\r\n\r\n```\r\njava.time.format.DateTimeParseException: Text &#39;2018-04-16&#39; could not be parsed at index 2\r\n```\r\n\r\nIs there a way I can handle this date conversion using LocalDate or should I use SimpleDateFormat? ","title":"Issue With Converting String to LocalDate","body":"<p>I am trying to convert a string date format to another date format(dd-MMM-yyyy) using LocalDate.</p>\n<pre><code>String date = &quot;2018-04-16&quot;;\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy&quot;, Locale.US);\nLocalDate localDate = LocalDate.parse(date, formatter);\n</code></pre>\n<p>I tried this code with and without the Locale.US in the DateTimeFormatter object. Either way it is returning this exception instead:</p>\n<pre><code>java.time.format.DateTimeParseException: Text '2018-04-16' could not be parsed at index 2\n</code></pre>\n<p>Is there a way I can handle this date conversion using LocalDate or should I use SimpleDateFormat?</p>\n"},{"tags":["java","validation","methods","user-input"],"comments":[{"owner":{"account_id":2406105,"reputation":15821,"user_id":2102532,"accept_rate":67,"display_name":"meskobalazs"},"score":0,"creation_date":1679066108,"post_id":75769230,"comment_id":133659565,"body_markdown":"&quot;the problem is in Line 49&quot; and what that problem is?","body":"&quot;the problem is in Line 49&quot; and what that problem is?"}],"answers":[{"comments":[{"owner":{"account_id":28043598,"reputation":3,"user_id":21420766,"display_name":"Deison Suarez"},"score":0,"creation_date":1679250549,"post_id":75769537,"comment_id":133683670,"body_markdown":"I have it already fixed that part, but now the outcome of my results are not as expected D: public static void showPercent(double inputCalories, double inputFat){\n       // local varibale\n       double fatPercentage, finalPercentage;\n       \n       // Calculate and display final percentage\n          fatPercentage = inputFat * 9;\n          finalPercentage = (fatPercentage / inputCalories);\n       System.out.println(&quot;The percentage of calories from fat is &quot; + finalPercentage);  // so now if I insert fat grams : 10 and calories number : 350, the outcome should be 25.7, however it says 315","body":"I have it already fixed that part, but now the outcome of my results are not as expected D: public static void showPercent(double inputCalories, double inputFat){        // local varibale        double fatPercentage, finalPercentage;                // Calculate and display final percentage           fatPercentage = inputFat * 9;           finalPercentage = (fatPercentage / inputCalories);        System.out.println(&quot;The percentage of calories from fat is &quot; + finalPercentage);  // so now if I insert fat grams : 10 and calories number : 350, the outcome should be 25.7, however it says 315"},{"owner":{"account_id":4292723,"reputation":16,"user_id":3508630,"display_name":"Sakuragi"},"score":0,"creation_date":1679408795,"post_id":75769537,"comment_id":133714244,"body_markdown":"The inputFat and inputCalories parameters in your showPercent() method were swapped. Swap them back like this: \npublic static void showPercent(double inputFat, double inputCalories) { ...  Result now gives &quot;The percentage of calories from fat is 0.2571428571428571&quot;","body":"The inputFat and inputCalories parameters in your showPercent() method were swapped. Swap them back like this:  public static void showPercent(double inputFat, double inputCalories) { ...  Result now gives &quot;The percentage of calories from fat is 0.2571428571428571&quot;"}],"tags":[],"owner":{"account_id":4292723,"reputation":16,"user_id":3508630,"display_name":"Sakuragi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679067579,"creation_date":1679067579,"answer_id":75769537,"question_id":75769230,"body_markdown":"You need to pass the fatGrams variable as an argument to the getCalories() method, like this:\r\n\r\n\r\n        // Calls getFat\r\n        fatGrams = getFat();\r\n        // Calls getCalories\r\n        calories = getCalories(fatGrams);\r\n        // Calls showPercent\r\n        showPercent(fatGrams, calories);\r\n    }\r\n\r\nAnd change the signature of your getCalories() method like this:\r\n\r\n    public static double getCalories(double fatGrams) {\r\n        Scanner keyboard = new Scanner(System.in);\r\n\r\nNow the class can compile and the following line doesn&#39;t have any problem anymore:\r\n\r\n        // Validate\r\n        while (input &lt; 0.0 || input &lt; (fatGrams * 9)) { // &lt;&lt;&lt;&lt;&lt;&lt; NO MORE PROBLEM !\r\n\r\nHope it helps.\r\n","title":"I need input from my main module into another module created after","body":"<p>You need to pass the fatGrams variable as an argument to the getCalories() method, like this:</p>\n<pre><code>    // Calls getFat\n    fatGrams = getFat();\n    // Calls getCalories\n    calories = getCalories(fatGrams);\n    // Calls showPercent\n    showPercent(fatGrams, calories);\n}\n</code></pre>\n<p>And change the signature of your getCalories() method like this:</p>\n<pre><code>public static double getCalories(double fatGrams) {\n    Scanner keyboard = new Scanner(System.in);\n</code></pre>\n<p>Now the class can compile and the following line doesn't have any problem anymore:</p>\n<pre><code>    // Validate\n    while (input &lt; 0.0 || input &lt; (fatGrams * 9)) { // &lt;&lt;&lt;&lt;&lt;&lt; NO MORE PROBLEM !\n</code></pre>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":28043598,"reputation":3,"user_id":21420766,"display_name":"Deison Suarez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75769537,"answer_count":1,"score":0,"last_activity_date":1679067579,"creation_date":1679065816,"question_id":75769230,"body_markdown":"Java &quot;Fat Gram Calculator&quot; programming I&#39;m attempting needs to validate input, I get to a point where I need to validate the input from user, taking into consideration a previous input from another module, with a given formula. I am trying this and I don&#39;t know how to do that without asking the user to input the same thing again, please help the problem is on this line:\r\n\r\n```java\r\nwhile(input &lt; 0.0 || input &lt; (fatGrams * 9)){\r\n```\r\n\r\nin the code below\r\n\r\n```java\r\nimport java.util.Scanner;\r\nclass fatCalculator {\r\n\r\n    public static void main(String[] args) {\r\n        // Local variables\r\n        double fatGrams, calories;\r\n\r\n        // Calls getFat\r\n        fatGrams = getFat();\r\n        // Calls getCalories\r\n        calories = getCalories();\r\n        // Calls showPercent\r\n        showPercent(fatGrams, calories);\r\n    }\r\n    public static double getFat() {\r\n        Scanner keyboard = new Scanner(System.in);\r\n\r\n        // Local variable\r\n        double input;\r\n\r\n        // Get the fat grams  \r\n        System.out.println(&quot;Please enter the number of fat grams: &quot;);\r\n        input = keyboard.nextDouble();\r\n\r\n        // Valitdate\r\n        while (input &lt; 0.0) {\r\n            System.out.println(&quot;The number of fat grams cannot be less than 0.&quot;);\r\n            System.out.println(&quot;Please enter the number of fat grams.&quot;);\r\n            input = keyboard.nextDouble();\r\n        }\r\n        return input;\r\n    }\r\n    public static double getCalories() {\r\n        Scanner keyboard = new Scanner(System.in);\r\n\r\n        // Local variable\r\n        double input;\r\n        // call fatGrams\r\n\r\n\r\n        // Get the calories\r\n        System.out.println(&quot;Please enter the number of calories: &quot;);\r\n        input = keyboard.nextDouble();\r\n\r\n        // Validate\r\n        while (input &lt; 0.0 || input &lt; (fatGrams * 9)) { // &lt;&lt;&lt;&lt;&lt;&lt; PROBLEM IS HERE\r\n            System.out.println(&quot;The number of calories cannot be less than the number of fat grams * 9.&quot;);\r\n            System.out.println(&quot;Please enter the number of calories.&quot;);\r\n            input = keyboard.nextDouble();\r\n        }\r\n        return input;\r\n    }\r\n    public static void showPercent(double fatGrams, double calories) {\r\n        // local varibale\r\n        double finalPercentage;\r\n\r\n        // Calculate and display final percentage\r\n        finalPercentage = (fatGrams * 9) / calories;\r\n        System.out.println(&quot;The percentage of calories from fat is &quot; + finalPercentage);\r\n        // Banner\r\n        while (finalPercentage &lt; 0.3) {\r\n            System.out.println(&quot;That food item is considered&quot; + &quot;low fat.&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"I need input from my main module into another module created after","body":"<p>Java &quot;Fat Gram Calculator&quot; programming I'm attempting needs to validate input, I get to a point where I need to validate the input from user, taking into consideration a previous input from another module, with a given formula. I am trying this and I don't know how to do that without asking the user to input the same thing again, please help the problem is on this line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while(input &lt; 0.0 || input &lt; (fatGrams * 9)){\n</code></pre>\n<p>in the code below</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nclass fatCalculator {\n\n    public static void main(String[] args) {\n        // Local variables\n        double fatGrams, calories;\n\n        // Calls getFat\n        fatGrams = getFat();\n        // Calls getCalories\n        calories = getCalories();\n        // Calls showPercent\n        showPercent(fatGrams, calories);\n    }\n    public static double getFat() {\n        Scanner keyboard = new Scanner(System.in);\n\n        // Local variable\n        double input;\n\n        // Get the fat grams  \n        System.out.println(&quot;Please enter the number of fat grams: &quot;);\n        input = keyboard.nextDouble();\n\n        // Valitdate\n        while (input &lt; 0.0) {\n            System.out.println(&quot;The number of fat grams cannot be less than 0.&quot;);\n            System.out.println(&quot;Please enter the number of fat grams.&quot;);\n            input = keyboard.nextDouble();\n        }\n        return input;\n    }\n    public static double getCalories() {\n        Scanner keyboard = new Scanner(System.in);\n\n        // Local variable\n        double input;\n        // call fatGrams\n\n\n        // Get the calories\n        System.out.println(&quot;Please enter the number of calories: &quot;);\n        input = keyboard.nextDouble();\n\n        // Validate\n        while (input &lt; 0.0 || input &lt; (fatGrams * 9)) { // &lt;&lt;&lt;&lt;&lt;&lt; PROBLEM IS HERE\n            System.out.println(&quot;The number of calories cannot be less than the number of fat grams * 9.&quot;);\n            System.out.println(&quot;Please enter the number of calories.&quot;);\n            input = keyboard.nextDouble();\n        }\n        return input;\n    }\n    public static void showPercent(double fatGrams, double calories) {\n        // local varibale\n        double finalPercentage;\n\n        // Calculate and display final percentage\n        finalPercentage = (fatGrams * 9) / calories;\n        System.out.println(&quot;The percentage of calories from fat is &quot; + finalPercentage);\n        // Banner\n        while (finalPercentage &lt; 0.3) {\n            System.out.println(&quot;That food item is considered&quot; + &quot;low fat.&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","maven-plugin","aspectj","java-11"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1595136632,"post_id":62976155,"comment_id":111366675,"body_markdown":"The issue is pretty much the same, right? Did the solutions suggest there not work for you?","body":"The issue is pretty much the same, right? Did the solutions suggest there not work for you?"},{"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"score":0,"creation_date":1595137071,"post_id":62976155,"comment_id":111366730,"body_markdown":"It didn&#39;t  work.","body":"It didn&#39;t  work."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1595138982,"post_id":62976155,"comment_id":111367026,"body_markdown":"You have tried both [this](https://stackoverflow.com/a/52277056/1746118) and [this](https://stackoverflow.com/a/49474325/1746118)? Since the version that you are using is itself 2 years old.","body":"You have tried both <a href=\"https://stackoverflow.com/a/52277056/1746118\">this</a> and <a href=\"https://stackoverflow.com/a/49474325/1746118\">this</a>? Since the version that you are using is itself 2 years old."}],"answers":[{"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":2,"creation_date":1595210849,"post_id":62978208,"comment_id":111385957,"body_markdown":"Yes, this is kind of the &quot;official unofficial&quot; version. Nick is trying to become the maintainer of the Mojohaus plugin, but everything is super slow there. His fork is even supported by IntelliJ IDEA now and automatically recognised in the latest few 2020.x versions. In Eclipse the situation is not so nice yet. See also my answer [here](https://stackoverflow.com/a/62213003/1082681).","body":"Yes, this is kind of the &quot;official unofficial&quot; version. Nick is trying to become the maintainer of the Mojohaus plugin, but everything is super slow there. His fork is even supported by IntelliJ IDEA now and automatically recognised in the latest few 2020.x versions. In Eclipse the situation is not so nice yet. See also my answer <a href=\"https://stackoverflow.com/a/62213003/1082681\">here</a>."},{"owner":{"account_id":2580726,"reputation":1066,"user_id":2237474,"display_name":"Mariano LEANCE"},"score":0,"creation_date":1631651307,"post_id":62978208,"comment_id":122279386,"body_markdown":"Issues are closed since may 30 2021 : https://github.com/mojohaus/aspectj-maven-plugin/issues/41#issuecomment-851062721","body":"Issues are closed since may 30 2021 : <a href=\"https://github.com/mojohaus/aspectj-maven-plugin/issues/41#issuecomment-851062721\" rel=\"nofollow noreferrer\">github.com/mojohaus/aspectj-maven-plugin/issues/&hellip;</a>"}],"tags":[],"owner":{"account_id":6349534,"reputation":2813,"user_id":4929038,"display_name":"kidney"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1679067055,"creation_date":1595149144,"answer_id":62978208,"question_id":62976155,"body_markdown":"**Update II (2023-03):**\r\nThe MojoHaus `aspectj-maven-plugin`&#39;s development seems to have stalled again. Instead, the AspectJ developers recommend switching to a [different fork](https://github.com/dev-aspectj/aspectj-maven-plugin) of the AspectJ Maven plugin, which is kept up to date with AspectJ itself. The fork&#39;s coordinates are:\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;dev.aspectj&lt;/groupId&gt;\r\n  &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;1.13.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**Update I:**\r\n\r\nThe official `aspectj-maven-plugin` has been resurrected, version 1.14.0 supports JDK up to 16.\r\n\r\n**Original answer:**\r\n\r\nUnfortunately, (as of July 2020) the currect version of the &quot;official&quot; `aspectj-maven-plugin` runs only on Java 8. There are two outstanding issues for it [here](https://github.com/mojohaus/aspectj-maven-plugin/issues/41) and [here](https://github.com/mojohaus/aspectj-maven-plugin/issues/24) and several PRs fixing them, but the maintainers haven&#39;t responded to any of them.\r\n\r\nYou can try switching to a different fork of the plugin, for example, [Nick Wong&#39;s version](https://github.com/nickwongdev/aspectj-maven-plugin):\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.nickwongdev&lt;/groupId&gt;\r\n  &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;1.12.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"aspectj-maven-plugin 1.11 : missing tools.jar issue with jdk 11","body":"<p><strong>Update II (2023-03):</strong>\nThe MojoHaus <code>aspectj-maven-plugin</code>'s development seems to have stalled again. Instead, the AspectJ developers recommend switching to a <a href=\"https://github.com/dev-aspectj/aspectj-maven-plugin\" rel=\"nofollow noreferrer\">different fork</a> of the AspectJ Maven plugin, which is kept up to date with AspectJ itself. The fork's coordinates are:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;dev.aspectj&lt;/groupId&gt;\n  &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;1.13.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Update I:</strong></p>\n<p>The official <code>aspectj-maven-plugin</code> has been resurrected, version 1.14.0 supports JDK up to 16.</p>\n<p><strong>Original answer:</strong></p>\n<p>Unfortunately, (as of July 2020) the currect version of the &quot;official&quot; <code>aspectj-maven-plugin</code> runs only on Java 8. There are two outstanding issues for it <a href=\"https://github.com/mojohaus/aspectj-maven-plugin/issues/41\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/mojohaus/aspectj-maven-plugin/issues/24\" rel=\"nofollow noreferrer\">here</a> and several PRs fixing them, but the maintainers haven't responded to any of them.</p>\n<p>You can try switching to a different fork of the plugin, for example, <a href=\"https://github.com/nickwongdev/aspectj-maven-plugin\" rel=\"nofollow noreferrer\">Nick Wong's version</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.nickwongdev&lt;/groupId&gt;\n  &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;1.12.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7635,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":62978208,"answer_count":1,"score":6,"last_activity_date":1679067055,"creation_date":1595131533,"question_id":62976155,"body_markdown":"I have aspectj-maven-plugin:1.11 in my pom and jdk 11 installed on my system. Jdk 11 doesn&#39;t have tools.jar in lib directory. This is causing maven build to fail with error:\r\n\r\n&gt; [ERROR] Failed to execute goal\r\n&gt; org.codehaus.mojo:aspectj-maven-plugin:1.11:compile (default) on\r\n&gt; project groundtruth-storage-writer: Execution default of goal\r\n&gt; org.codehaus.mojo:aspectj- maven-plugin:1.11:compile failed: Plugin\r\n&gt; org.codehaus.mojo:aspectj-maven-plugin:1.11 or one of its dependencies\r\n&gt; could not be resolved: Could not find artifact\r\n&gt; com.sun:tools:jar:11.0.7 at specified path ...\\Java\\jdk-11.0.7/../lib/tools.jar\r\n\r\n\r\nHow to solve this issue?\r\n\r\nThere is an answer [here][1], but that is more than 2 years old.\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48173963/maven-aspectj-plugin-fails-to-build-with-java-9-due-to-missing-tools-jar","title":"aspectj-maven-plugin 1.11 : missing tools.jar issue with jdk 11","body":"<p>I have aspectj-maven-plugin:1.11 in my pom and jdk 11 installed on my system. Jdk 11 doesn't have tools.jar in lib directory. This is causing maven build to fail with error:</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal\norg.codehaus.mojo:aspectj-maven-plugin:1.11:compile (default) on\nproject groundtruth-storage-writer: Execution default of goal\norg.codehaus.mojo:aspectj- maven-plugin:1.11:compile failed: Plugin\norg.codehaus.mojo:aspectj-maven-plugin:1.11 or one of its dependencies\ncould not be resolved: Could not find artifact\ncom.sun:tools:jar:11.0.7 at specified path ...\\Java\\jdk-11.0.7/../lib/tools.jar</p>\n</blockquote>\n<p>How to solve this issue?</p>\n<p>There is an answer <a href=\"https://stackoverflow.com/questions/48173963/maven-aspectj-plugin-fails-to-build-with-java-9-due-to-missing-tools-jar\">here</a>, but that is more than 2 years old.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1679013344,"post_id":75762791,"comment_id":133649252,"body_markdown":"Consider adding a screen shot of the bad behavior and using it to explain the desired behavior.  But in general flow layout only makes sense if the widgets it&#39;s managing have a fixed size.  You may need to switch to a different layout type.","body":"Consider adding a screen shot of the bad behavior and using it to explain the desired behavior.  But in general flow layout only makes sense if the widgets it&#39;s managing have a fixed size.  You may need to switch to a different layout type."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1679013400,"post_id":75762791,"comment_id":133649267,"body_markdown":"You probably need to define the minimum size - having said that, that&#39;s no easy task","body":"You probably need to define the minimum size - having said that, that&#39;s no easy task"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1679019450,"post_id":75762791,"comment_id":133649994,"body_markdown":"*How do I make it so that the JTextArea resizes in response to the extension of the FlowLayout?* - Actually you do it the other way around. When the components wrap you need to reset the preferred size of the panel, not the text area. Then the `BorderLayout` will respect the height of the top panel and reset the size of the scroll pane. See: [Wrap Layout](https://tips4java.wordpress.com/2008/11/06/wrap-layout/) which does this for you.","body":"<i>How do I make it so that the JTextArea resizes in response to the extension of the FlowLayout?</i> - Actually you do it the other way around. When the components wrap you need to reset the preferred size of the panel, not the text area. Then the <code>BorderLayout</code> will respect the height of the top panel and reset the size of the scroll pane. See: <a href=\"https://tips4java.wordpress.com/2008/11/06/wrap-layout/\" rel=\"nofollow noreferrer\">Wrap Layout</a> which does this for you."}],"answers":[{"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1679018500,"post_id":75762904,"comment_id":133649886,"body_markdown":"(1-) The preferred size is the relevant size when using a scroll panel. The scrollbars will appear when the preferred size of the component added is greater than the size of the scroll pane. Also, you should NOT be using setPreferredSize. It is the job of each component to determine its preferred size.","body":"(1-) The preferred size is the relevant size when using a scroll panel. The scrollbars will appear when the preferred size of the component added is greater than the size of the scroll pane. Also, you should NOT be using setPreferredSize. It is the job of each component to determine its preferred size."}],"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679014710,"creation_date":1679014710,"answer_id":75762904,"question_id":75762791,"body_markdown":"Please make variables look like variables and not like classes:\r\n\r\n        JTextArea TextArea = new JTextArea();\r\n        TextArea.setBorder(BorderFactory.createEmptyBorder(5, 5, 10, 10));\r\n        TextArea.setName(&quot;TextArea&quot;);\r\n        JScrollPane ScrollPane = new JScrollPane(TextArea);\r\n\r\nThis:\r\n\r\n        JTextArea textArea = new JTextArea();\r\n        textArea.setBorder(BorderFactory.createEmptyBorder(5, 5, 10, 10));\r\n        textArea.setName(&quot;TextArea&quot;);\r\n        JScrollPane scrollPane = new JScrollPane(textArea);\r\n\r\nSo, to your question . .\r\n\r\nWhen adding a `JScrollPane`, it has to know the size of your `JTextArea`, i.e. `setMinimumSize` as opposed to `setPreferredSize`.\r\n\r\nThe it can then position your `JTextArea` correctly.\r\n\r\nYou also have to understand the differences between the Java layout managers.","title":"FlowLayout extending behind component in BorderLayout","body":"<p>Please make variables look like variables and not like classes:</p>\n<pre><code>    JTextArea TextArea = new JTextArea();\n    TextArea.setBorder(BorderFactory.createEmptyBorder(5, 5, 10, 10));\n    TextArea.setName(&quot;TextArea&quot;);\n    JScrollPane ScrollPane = new JScrollPane(TextArea);\n</code></pre>\n<p>This:</p>\n<pre><code>    JTextArea textArea = new JTextArea();\n    textArea.setBorder(BorderFactory.createEmptyBorder(5, 5, 10, 10));\n    textArea.setName(&quot;TextArea&quot;);\n    JScrollPane scrollPane = new JScrollPane(textArea);\n</code></pre>\n<p>So, to your question . .</p>\n<p>When adding a <code>JScrollPane</code>, it has to know the size of your <code>JTextArea</code>, i.e. <code>setMinimumSize</code> as opposed to <code>setPreferredSize</code>.</p>\n<p>The it can then position your <code>JTextArea</code> correctly.</p>\n<p>You also have to understand the differences between the Java layout managers.</p>\n"},{"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1679018718,"post_id":75763162,"comment_id":133649922,"body_markdown":"*I fixed your GUI code.* - but it doesn&#39;t solve the stated problem.","body":"<i>I fixed your GUI code.</i> - but it doesn&#39;t solve the stated problem."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1679067749,"post_id":75763162,"comment_id":133660067,"body_markdown":"@camickr: It does now.","body":"@camickr: It does now."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1679072255,"post_id":75763162,"comment_id":133661238,"body_markdown":"Still doesn&#39;t work if you decrease the width so that the components are on 3 lines. Hardcoding the height is not a good idea. Just use your original code and replaces the FlowLayout with the `WrapLayout` (I suggested in my comment to the question) and let the layout manager do the job.","body":"Still doesn&#39;t work if you decrease the width so that the components are on 3 lines. Hardcoding the height is not a good idea. Just use your original code and replaces the FlowLayout with the <code>WrapLayout</code> (I suggested in my comment to the question) and let the layout manager do the job."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1679096251,"post_id":75763162,"comment_id":133665919,"body_markdown":"Check out this question, https://stackoverflow.com/questions/75772847/jpanel-flicking-when-component-resized, which also tries to use a ComponentListener to manipulate the preferred size of a component: .  A different problem but the solution in both cases is to not use a ComponentListener to try to implement layout management logic.","body":"Check out this question, <a href=\"https://stackoverflow.com/questions/75772847/jpanel-flicking-when-component-resized\" title=\"jpanel flicking when component resized\">stackoverflow.com/questions/75772847/&hellip;</a>, which also tries to use a ComponentListener to manipulate the preferred size of a component: .  A different problem but the solution in both cases is to not use a ComponentListener to try to implement layout management logic."}],"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679066924,"creation_date":1679018603,"answer_id":75763162,"question_id":75762791,"body_markdown":"# Original Answer\r\n\r\nYou have to get the basics correct before you can tackle the advanced problems.  I fixed your GUI code.\r\n\r\n[![Text Editor][1]][1]\r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  \r\n\r\nWhen creating a `JFrame`, you pack the `JFrame` and set the `JFrame` visible last.  You do not set the size of the `JFrame`.  The `JFrame` will size based on the components you&#39;re displaying.\r\n\r\nI added row and column counts to your `JTextArea`.  This allows the BorderLayout to size itself properly. \r\n\r\nIf you want the `JButtons` to display under the `JTextArea`, you have to use a different Swing layout.\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.FlowLayout;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class TextEditorExample extends JFrame {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tnew TextEditorExample();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tpublic TextEditorExample() {\r\n    \t\tsuper(&quot;Text Editor&quot;);\r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tJTextArea textArea = new JTextArea(10, 30);\r\n    \t\ttextArea.setBorder(BorderFactory.createEmptyBorder(5, 5, 10, 10));\r\n    \t\ttextArea.setName(&quot;TextArea&quot;);\r\n    \t\tJScrollPane ScrollPane = new JScrollPane(textArea);\r\n    \t\tScrollPane.setBorder(BorderFactory.createEmptyBorder(0, 10, 5, 10));\r\n    \t\tadd(ScrollPane, BorderLayout.CENTER);\r\n    \r\n    \t\tJPanel jPanel = new JPanel(new FlowLayout());\r\n    \t\tjPanel.add(new JTextField(18));\r\n    \t\tjPanel.add(new JButton(&quot;Save&quot;));\r\n    \t\tjPanel.add(new JButton(&quot;Load&quot;));\r\n    \t\tadd(jPanel, BorderLayout.PAGE_START);\r\n    \r\n    \t\tpack();\r\n    \t\tsetLocationByPlatform(true);\r\n    \t\tsetVisible(true);\r\n    \t}\r\n    \r\n    }\r\n\r\n# Extended Answer\r\n\r\nIn order to resize the control panel properly, you have to use a [ComponentListener][2] (`ComponentAdapter`).\r\n\r\nHere&#39;s the original GUI:\r\n\r\n[![Original GUI][3]][3]\r\n\r\nHere&#39;s the shrunk GUI:\r\n\r\n[![Shrunk GUI][4]][4]\r\n\r\nHere&#39;s the expanded GUI:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nIn the `ComponentListener`, I save the original size of the control `JPanel`.  When the control `JPanel` width is less than the original width, I double the height.  When the control `JPanel` width is greater than or equal to the original width, I use the original height.  \r\n\r\nI invalidate the `JFrame` to get it to recalculate the GUI.\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.event.ComponentAdapter;\r\n    import java.awt.event.ComponentEvent;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class TextEditorExample implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new TextEditorExample());\t\t\r\n    \t}\r\n    \t\r\n    \tprivate Dimension controlPanelDimension;\r\n    \t\r\n    \tprivate JFrame frame;\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tframe = new JFrame(&quot;Text Editor&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tframe.add(createControlPanel(), BorderLayout.PAGE_START);\r\n    \t\tframe.add(createTextArea(), BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createControlPanel() {\r\n    \t\tJPanel jPanel = new JPanel(new FlowLayout());\r\n    \t\tjPanel.addComponentListener(new ComponentAdapter() {\r\n    \t\t\tboolean firstTimeSwitch = true;\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void componentResized(ComponentEvent event) {\r\n    \t\t\t\tif (firstTimeSwitch) {\r\n    \t\t\t\t\tcontrolPanelDimension = jPanel.getPreferredSize();\r\n    \t\t\t\t\tfirstTimeSwitch = false;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tDimension d = jPanel.getSize();\r\n    \t\t\t\tif (d.width &lt; controlPanelDimension.width) {\r\n    \t\t\t\t\tint height = 2 * controlPanelDimension.height;\r\n    \t\t\t\t\tjPanel.setPreferredSize(new Dimension(d.width, height));\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tint height = controlPanelDimension.height;\r\n    \t\t\t\t\tjPanel.setPreferredSize(new Dimension(d.width, height));\t\r\n    \t\t\t\t}\r\n    \t\t\t\tframe.invalidate();\r\n    \t\t\t}\t\r\n    \t\t});\r\n    \t\t\r\n    \t\tjPanel.add(new JTextField(18));\r\n    \t\tjPanel.add(new JButton(&quot;Save&quot;));\r\n    \t\tjPanel.add(new JButton(&quot;Load&quot;));\r\n    \t\t\r\n    \t\treturn jPanel;\r\n    \t}\r\n    \t\r\n    \tprivate JScrollPane createTextArea() {\r\n    \t\tJTextArea textArea = new JTextArea(10, 30);\r\n    \t\ttextArea.setBorder(BorderFactory.createEmptyBorder(5, 5, 10, 10));\r\n    \r\n    \t\tJScrollPane scrollPane = new JScrollPane(textArea);\r\n    \t\tscrollPane.setBorder(BorderFactory.createEmptyBorder(0, 10, 5, 10));\r\n    \t\t\r\n    \t\treturn scrollPane;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/H3OL1.png\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/events/componentlistener.html\r\n  [3]: https://i.stack.imgur.com/l2Uzs.png\r\n  [4]: https://i.stack.imgur.com/h59x6.png\r\n  [5]: https://i.stack.imgur.com/kbyEk.png\r\n","title":"FlowLayout extending behind component in BorderLayout","body":"<h1>Original Answer</h1>\n<p>You have to get the basics correct before you can tackle the advanced problems.  I fixed your GUI code.</p>\n<p><a href=\"https://i.stack.imgur.com/H3OL1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H3OL1.png\" alt=\"Text Editor\" /></a></p>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.</p>\n<p>When creating a <code>JFrame</code>, you pack the <code>JFrame</code> and set the <code>JFrame</code> visible last.  You do not set the size of the <code>JFrame</code>.  The <code>JFrame</code> will size based on the components you're displaying.</p>\n<p>I added row and column counts to your <code>JTextArea</code>.  This allows the BorderLayout to size itself properly.</p>\n<p>If you want the <code>JButtons</code> to display under the <code>JTextArea</code>, you have to use a different Swing layout.</p>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.FlowLayout;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\n\npublic class TextEditorExample extends JFrame {\n\n    private static final long serialVersionUID = 1L;\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new TextEditorExample();\n            }\n        });\n    }\n\n    public TextEditorExample() {\n        super(&quot;Text Editor&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JTextArea textArea = new JTextArea(10, 30);\n        textArea.setBorder(BorderFactory.createEmptyBorder(5, 5, 10, 10));\n        textArea.setName(&quot;TextArea&quot;);\n        JScrollPane ScrollPane = new JScrollPane(textArea);\n        ScrollPane.setBorder(BorderFactory.createEmptyBorder(0, 10, 5, 10));\n        add(ScrollPane, BorderLayout.CENTER);\n\n        JPanel jPanel = new JPanel(new FlowLayout());\n        jPanel.add(new JTextField(18));\n        jPanel.add(new JButton(&quot;Save&quot;));\n        jPanel.add(new JButton(&quot;Load&quot;));\n        add(jPanel, BorderLayout.PAGE_START);\n\n        pack();\n        setLocationByPlatform(true);\n        setVisible(true);\n    }\n\n}\n</code></pre>\n<h1>Extended Answer</h1>\n<p>In order to resize the control panel properly, you have to use a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/componentlistener.html\" rel=\"nofollow noreferrer\">ComponentListener</a> (<code>ComponentAdapter</code>).</p>\n<p>Here's the original GUI:</p>\n<p><a href=\"https://i.stack.imgur.com/l2Uzs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l2Uzs.png\" alt=\"Original GUI\" /></a></p>\n<p>Here's the shrunk GUI:</p>\n<p><a href=\"https://i.stack.imgur.com/h59x6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h59x6.png\" alt=\"Shrunk GUI\" /></a></p>\n<p>Here's the expanded GUI:</p>\n<p><a href=\"https://i.stack.imgur.com/kbyEk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kbyEk.png\" alt=\"enter image description here\" /></a></p>\n<p>In the <code>ComponentListener</code>, I save the original size of the control <code>JPanel</code>.  When the control <code>JPanel</code> width is less than the original width, I double the height.  When the control <code>JPanel</code> width is greater than or equal to the original width, I use the original height.</p>\n<p>I invalidate the <code>JFrame</code> to get it to recalculate the GUI.</p>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\n\npublic class TextEditorExample implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new TextEditorExample());        \n    }\n    \n    private Dimension controlPanelDimension;\n    \n    private JFrame frame;\n\n    @Override\n    public void run() {\n        frame = new JFrame(&quot;Text Editor&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.add(createControlPanel(), BorderLayout.PAGE_START);\n        frame.add(createTextArea(), BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n    \n    private JPanel createControlPanel() {\n        JPanel jPanel = new JPanel(new FlowLayout());\n        jPanel.addComponentListener(new ComponentAdapter() {\n            boolean firstTimeSwitch = true;\n            \n            @Override\n            public void componentResized(ComponentEvent event) {\n                if (firstTimeSwitch) {\n                    controlPanelDimension = jPanel.getPreferredSize();\n                    firstTimeSwitch = false;\n                }\n                \n                Dimension d = jPanel.getSize();\n                if (d.width &lt; controlPanelDimension.width) {\n                    int height = 2 * controlPanelDimension.height;\n                    jPanel.setPreferredSize(new Dimension(d.width, height));\n                } else {\n                    int height = controlPanelDimension.height;\n                    jPanel.setPreferredSize(new Dimension(d.width, height));    \n                }\n                frame.invalidate();\n            }   \n        });\n        \n        jPanel.add(new JTextField(18));\n        jPanel.add(new JButton(&quot;Save&quot;));\n        jPanel.add(new JButton(&quot;Load&quot;));\n        \n        return jPanel;\n    }\n    \n    private JScrollPane createTextArea() {\n        JTextArea textArea = new JTextArea(10, 30);\n        textArea.setBorder(BorderFactory.createEmptyBorder(5, 5, 10, 10));\n\n        JScrollPane scrollPane = new JScrollPane(textArea);\n        scrollPane.setBorder(BorderFactory.createEmptyBorder(0, 10, 5, 10));\n        \n        return scrollPane;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":27846321,"reputation":21,"user_id":21261693,"display_name":"nobody"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75763162,"answer_count":2,"score":0,"last_activity_date":1679066924,"creation_date":1679013155,"question_id":75762791,"body_markdown":"when my program resizes to a smaller window size and the FlowLayout creates new rows, the FlowLayout extends behind the JTextArea. How do I make it so that the JTextArea resizes in response to the extension of the FlowLayout?\r\n\r\n```java\r\npackage editor;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class TextEditor extends JFrame {\r\n    public TextEditor() {\r\n        super(&quot;Text Editor&quot;);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setSize(300, 300);\r\n        setVisible(true);\r\n        setLayout(new BorderLayout());\r\n\r\n        JTextArea TextArea = new JTextArea();\r\n        TextArea.setBorder(BorderFactory.createEmptyBorder(5, 5, 10, 10));\r\n        TextArea.setName(&quot;TextArea&quot;);\r\n        JScrollPane ScrollPane = new JScrollPane(TextArea);\r\n        ScrollPane.setBorder(BorderFactory.createEmptyBorder(0, 10, 5, 10));\r\n        add(ScrollPane, BorderLayout.CENTER);\r\n\r\n        JPanel jPanel = new JPanel(new FlowLayout());\r\n        jPanel.add(new JTextField(18));\r\n        jPanel.add(new JButton(&quot;Save&quot;));\r\n        jPanel.add(new JButton(&quot;Load&quot;));\r\n        add(jPanel, BorderLayout.PAGE_START);\r\n    }\r\n}\r\n```","title":"FlowLayout extending behind component in BorderLayout","body":"<p>when my program resizes to a smaller window size and the FlowLayout creates new rows, the FlowLayout extends behind the JTextArea. How do I make it so that the JTextArea resizes in response to the extension of the FlowLayout?</p>\n<pre class=\"lang-java prettyprint-override\"><code>package editor;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class TextEditor extends JFrame {\n    public TextEditor() {\n        super(&quot;Text Editor&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(300, 300);\n        setVisible(true);\n        setLayout(new BorderLayout());\n\n        JTextArea TextArea = new JTextArea();\n        TextArea.setBorder(BorderFactory.createEmptyBorder(5, 5, 10, 10));\n        TextArea.setName(&quot;TextArea&quot;);\n        JScrollPane ScrollPane = new JScrollPane(TextArea);\n        ScrollPane.setBorder(BorderFactory.createEmptyBorder(0, 10, 5, 10));\n        add(ScrollPane, BorderLayout.CENTER);\n\n        JPanel jPanel = new JPanel(new FlowLayout());\n        jPanel.add(new JTextField(18));\n        jPanel.add(new JButton(&quot;Save&quot;));\n        jPanel.add(new JButton(&quot;Load&quot;));\n        add(jPanel, BorderLayout.PAGE_START);\n    }\n}\n</code></pre>\n"},{"tags":["java","unit-testing","mockito","junit4","junit5"],"answers":[{"comments":[{"owner":{"account_id":27265341,"reputation":13,"user_id":20787477,"display_name":"Ujjal Modak"},"score":0,"creation_date":1679065546,"post_id":75769161,"comment_id":133659380,"body_markdown":"How to do the same without returning the result. I want the return value based on y parameter","body":"How to do the same without returning the result. I want the return value based on y parameter"},{"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"score":0,"creation_date":1679066857,"post_id":75769161,"comment_id":133659789,"body_markdown":"Check my updated answer for parameter reading","body":"Check my updated answer for parameter reading"},{"owner":{"account_id":27265341,"reputation":13,"user_id":20787477,"display_name":"Ujjal Modak"},"score":0,"creation_date":1679463369,"post_id":75769161,"comment_id":133724891,"body_markdown":"Can I mock method1 but wanted to get the return value from method2 with different parameter like method2(a,b4,5)","body":"Can I mock method1 but wanted to get the return value from method2 with different parameter like method2(a,b4,5)"}],"tags":[],"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679066838,"creation_date":1679065478,"answer_id":75769161,"question_id":75768827,"body_markdown":"Looks like you need to use *partial mocking* approach. \r\n\r\nFor example, you have class with 2 methods. *MethodB* is called from *MethodA*.\r\n```java\r\npublic class Example {\r\n\r\n    public int methodA(int a) {\r\n        return methodB(a);\r\n    }\r\n\r\n    public int methodB(int a) {\r\n        return a + a;\r\n    }\r\n}\r\n```\r\n\r\nTest with mocking methodB will look like this. Use thenAnswer method to get arguments from invocation and return result based on it\r\n```java\r\n@Test\r\nvoid sampleTest() {\r\n    Example classUnderTest = Mockito.spy(new Example());\r\n\r\n    Mockito.when(classUnderTest.methodA(10)).thenAnswer(invocation -&gt; {\r\n        Integer firstArgument = invocation.getArgument(0);\r\n        return firstArgument * firstArgument;\r\n    });\r\n\r\n    assertEquals(100, classUnderTest.methodA(10));\r\n}\r\n```\r\n\r\nKeep in mind that it will not work with private and static methods, for these ones use special library powermock etc.","title":"How to mock a method which return a value from another method with some parameter. I want to pass my own parameter when Its calling another method","body":"<p>Looks like you need to use <em>partial mocking</em> approach.</p>\n<p>For example, you have class with 2 methods. <em>MethodB</em> is called from <em>MethodA</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example {\n\n    public int methodA(int a) {\n        return methodB(a);\n    }\n\n    public int methodB(int a) {\n        return a + a;\n    }\n}\n</code></pre>\n<p>Test with mocking methodB will look like this. Use thenAnswer method to get arguments from invocation and return result based on it</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid sampleTest() {\n    Example classUnderTest = Mockito.spy(new Example());\n\n    Mockito.when(classUnderTest.methodA(10)).thenAnswer(invocation -&gt; {\n        Integer firstArgument = invocation.getArgument(0);\n        return firstArgument * firstArgument;\n    });\n\n    assertEquals(100, classUnderTest.methodA(10));\n}\n</code></pre>\n<p>Keep in mind that it will not work with private and static methods, for these ones use special library powermock etc.</p>\n"}],"owner":{"account_id":27265341,"reputation":13,"user_id":20787477,"display_name":"Ujjal Modak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":634,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679066838,"creation_date":1679063459,"question_id":75768827,"body_markdown":"```\r\npublic int method1(a,b,c){\r\n      //some operation for c\r\n       return method2(a,b,1,3);\r\n\r\n\r\n//method from another class\r\npublic int method2(a,b,g,h){\r\n        return a+b+g+h;\r\n}\r\n```\r\n\r\nI want to write test cases for method1. But I want to pass my own parameter to method2 when its calling the same as return","title":"How to mock a method which return a value from another method with some parameter. I want to pass my own parameter when Its calling another method","body":"<pre><code>public int method1(a,b,c){\n      //some operation for c\n       return method2(a,b,1,3);\n\n\n//method from another class\npublic int method2(a,b,g,h){\n        return a+b+g+h;\n}\n</code></pre>\n<p>I want to write test cases for method1. But I want to pass my own parameter to method2 when its calling the same as return</p>\n"},{"tags":["java","docusignapi","docusign-sdk"],"answers":[{"comments":[{"owner":{"account_id":17948444,"reputation":3,"user_id":13042140,"display_name":"Sam"},"score":0,"creation_date":1679039845,"post_id":75760555,"comment_id":133652756,"body_markdown":"Can you please elaborate more ? I could not find documentation related to this.  Are you suggesting to add anchor string on each document ? If so, then it won&#39;t work for me because I cannot edit the document","body":"Can you please elaborate more ? I could not find documentation related to this.  Are you suggesting to add anchor string on each document ? If so, then it won&#39;t work for me because I cannot edit the document"},{"owner":{"account_id":3941825,"reputation":12917,"user_id":3255871,"display_name":"Inbar Gazit"},"score":0,"creation_date":1679066292,"post_id":75760555,"comment_id":133659624,"body_markdown":"if you cannot find a text differentiating the documents, you cannot use anchor strings","body":"if you cannot find a text differentiating the documents, you cannot use anchor strings"},{"owner":{"account_id":3941825,"reputation":12917,"user_id":3255871,"display_name":"Inbar Gazit"},"score":0,"creation_date":1679066307,"post_id":75760555,"comment_id":133659628,"body_markdown":"You can just used fixed positioning with X/Y coordinates in that case.","body":"You can just used fixed positioning with X/Y coordinates in that case."},{"owner":{"account_id":17948444,"reputation":3,"user_id":13042140,"display_name":"Sam"},"score":0,"creation_date":1679313814,"post_id":75760555,"comment_id":133693530,"body_markdown":"Thanks but that will be too much because there are 50 pdf files. Do you know if there is any property which allows user to add signature tabs themselves while signing","body":"Thanks but that will be too much because there are 50 pdf files. Do you know if there is any property which allows user to add signature tabs themselves while signing"},{"owner":{"account_id":3941825,"reputation":12917,"user_id":3255871,"display_name":"Inbar Gazit"},"score":0,"creation_date":1679327821,"post_id":75760555,"comment_id":133697917,"body_markdown":"If you don&#39;t add any tabs to the envelopes, the users will get a drag/drop menu and can add all the tabs they want","body":"If you don&#39;t add any tabs to the envelopes, the users will get a drag/drop menu and can add all the tabs they want"}],"tags":[],"owner":{"account_id":3941825,"reputation":12917,"user_id":3255871,"display_name":"Inbar Gazit"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679066227,"creation_date":1678992856,"answer_id":75760555,"question_id":75755998,"body_markdown":"There&#39;s a setting in your account called &quot;Anchor Population Scope&quot; for anchor tags (AutoPlace)\r\n\r\nIt can be the document, or the envelope.\r\n\r\nThis setting is controlled by DocuSign, so you need to contact customer support to change it.\r\n\r\nIf you change it to &quot;per-document&quot; then you can have different anchor strings for different documents so that should solve your issue.\r\n\r\n","title":"How to add signature tabs on documents in DocuSign embedded esignature?","body":"<p>There's a setting in your account called &quot;Anchor Population Scope&quot; for anchor tags (AutoPlace)</p>\n<p>It can be the document, or the envelope.</p>\n<p>This setting is controlled by DocuSign, so you need to contact customer support to change it.</p>\n<p>If you change it to &quot;per-document&quot; then you can have different anchor strings for different documents so that should solve your issue.</p>\n"}],"owner":{"account_id":17948444,"reputation":3,"user_id":13042140,"display_name":"Sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679066227,"creation_date":1678968217,"question_id":75755998,"body_markdown":"I am using DocuSign embedded esignature API to sign documents. It works fine when I know where to place the signature tab. However, in case of documents with different positioning of signature field this does not work (https://developers.docusign.com/docs/esign-rest-api/esign101/concepts/tabs/).\r\n\r\nPlease take a look at below examples:\r\nIn all these documents, the signature position is different. The user can sign any of the form. How can I add the signature tabs dynamically in this scenario. \r\n\r\n[enter image description here](https://i.stack.imgur.com/ULOyK.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/MK6eN.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/9CxxF.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/g5wrM.png)\r\n\r\nI have tried Fixed, AutoPlace explained [here](https://developers.docusign.com/docs/esign-rest-api/esign101/concepts/tabs/). But it does not work because each document has different positioning of signature field. \r\n\r\nNote: I am not using DocuSign SDK because my application runs on older version of java.","title":"How to add signature tabs on documents in DocuSign embedded esignature?","body":"<p>I am using DocuSign embedded esignature API to sign documents. It works fine when I know where to place the signature tab. However, in case of documents with different positioning of signature field this does not work (<a href=\"https://developers.docusign.com/docs/esign-rest-api/esign101/concepts/tabs/\" rel=\"nofollow noreferrer\">https://developers.docusign.com/docs/esign-rest-api/esign101/concepts/tabs/</a>).</p>\n<p>Please take a look at below examples:\nIn all these documents, the signature position is different. The user can sign any of the form. How can I add the signature tabs dynamically in this scenario.</p>\n<p><a href=\"https://i.stack.imgur.com/ULOyK.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/MK6eN.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/9CxxF.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/g5wrM.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have tried Fixed, AutoPlace explained <a href=\"https://developers.docusign.com/docs/esign-rest-api/esign101/concepts/tabs/\" rel=\"nofollow noreferrer\">here</a>. But it does not work because each document has different positioning of signature field.</p>\n<p>Note: I am not using DocuSign SDK because my application runs on older version of java.</p>\n"},{"tags":["java","generics","kotlin"],"answers":[{"tags":[],"owner":{"account_id":49385,"reputation":93769,"user_id":147024,"display_name":"yole"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1521654906,"creation_date":1521654906,"answer_id":49413477,"question_id":49413383,"body_markdown":"This is not possible. When calling an inline function with a reified type parameter, you need to provide a class which is known at compile time, and references to that class will be substituted directly into the body of the function where the inline function is invoked. Classes which are only known at runtime cannot be handled in that way.","title":"Pass class to Kotlin reified method","body":"<p>This is not possible. When calling an inline function with a reified type parameter, you need to provide a class which is known at compile time, and references to that class will be substituted directly into the body of the function where the inline function is invoked. Classes which are only known at runtime cannot be handled in that way.</p>\n"},{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679066194,"creation_date":1679066194,"answer_id":75769291,"question_id":49413383,"body_markdown":"It&#39;s possible if you can modify the source of the Kotlin class. You have to delegate the implementation of the inline/reified function to a non-inline one:\r\n\r\n```\r\nclass Foo {\r\n    inline fun &lt;reified T&gt; myMethod() = myMethod(T::class.java)\r\n\r\n    fun &lt;T&gt; myMethod(type: Class&lt;T&gt;) {\r\n        // implementation here\r\n    }\r\n}\r\n```\r\n\r\nThis is always good practice if you expect your code to be called from Java projects. And even if it&#39;s Kotlin-only, this is a good way to go from `inline` to not `inline`, allowing you to actually call private implementation methods from your exposed `inline` method.","title":"Pass class to Kotlin reified method","body":"<p>It's possible if you can modify the source of the Kotlin class. You have to delegate the implementation of the inline/reified function to a non-inline one:</p>\n<pre><code>class Foo {\n    inline fun &lt;reified T&gt; myMethod() = myMethod(T::class.java)\n\n    fun &lt;T&gt; myMethod(type: Class&lt;T&gt;) {\n        // implementation here\n    }\n}\n</code></pre>\n<p>This is always good practice if you expect your code to be called from Java projects. And even if it's Kotlin-only, this is a good way to go from <code>inline</code> to not <code>inline</code>, allowing you to actually call private implementation methods from your exposed <code>inline</code> method.</p>\n"}],"owner":{"account_id":1118919,"reputation":15215,"user_id":1107651,"accept_rate":64,"display_name":"Guilherme Torres Castro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":909,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1679066194,"creation_date":1521654630,"question_id":49413383,"body_markdown":"I have an java api which give me as parameter as type: `modelClass: Class&lt;T&gt;` with this parameter I want to call a kotlin reified method : `intance&lt;reified : T&gt;()`.\r\n\r\nIt&#39;s possible to pass my modelClass as parameter? I have no access to the source code of the reified method.\r\n\r\n","title":"Pass class to Kotlin reified method","body":"<p>I have an java api which give me as parameter as type: <code>modelClass: Class&lt;T&gt;</code> with this parameter I want to call a kotlin reified method : <code>intance&lt;reified : T&gt;()</code>.</p>\n\n<p>It's possible to pass my modelClass as parameter? I have no access to the source code of the reified method.</p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1679065024,"post_id":75768950,"comment_id":133659206,"body_markdown":"Does this answer your question? [How to add local jar files to a Maven project?](https://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-to-a-maven-project)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-to-a-maven-project\">How to add local jar files to a Maven project?</a>"},{"owner":{"account_id":26633402,"reputation":47,"user_id":21166611,"display_name":"santi254"},"score":0,"creation_date":1679065844,"post_id":75768950,"comment_id":133659484,"body_markdown":"No the issue is not finding the .jar file the issue is with VSC","body":"No the issue is not finding the .jar file the issue is with VSC"}],"owner":{"account_id":26633402,"reputation":47,"user_id":21166611,"display_name":"santi254"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679065882,"creation_date":1679064253,"question_id":75768950,"body_markdown":"When trying to use my own library I get the following error message\r\n\r\n&quot;The import xxx can not be resolved&quot;\r\n\r\nThe code works since running `mvn clean package` runs the tests and successfully creates the .jar file but VSC does not seem to recgonize any imports.\r\n\r\nIn my main project i have the library in my pom as follows\r\n\r\n```xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;username.lastname&lt;/groupId&gt;\r\n      &lt;artifactId&gt;test-lib&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nand i looked in my local m2 repository there i can find the file `test-lib.jar`\r\n\r\nFrom the library project i run `mvn clean install` to create the jar file\r\n\r\nso it does exist but VSC does not seem to be able to use it.\r\n\r\nI&#39;ve tried to clean the java language space but the same issue still exist  \r\nI&#39;ve tried to reload the project but the same issue still exist.\r\n\r\nUPDATE: the issue seems to have to do with workspaces. If i open the project and only that project it works just fine. If I open the same project in a workspace java seem to be unable to detect my library.\r\n\r\n","title":"Java VSC does not recognise my own library","body":"<p>When trying to use my own library I get the following error message</p>\n<p>&quot;The import xxx can not be resolved&quot;</p>\n<p>The code works since running <code>mvn clean package</code> runs the tests and successfully creates the .jar file but VSC does not seem to recgonize any imports.</p>\n<p>In my main project i have the library in my pom as follows</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n      &lt;groupId&gt;username.lastname&lt;/groupId&gt;\n      &lt;artifactId&gt;test-lib&lt;/artifactId&gt;\n      &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and i looked in my local m2 repository there i can find the file <code>test-lib.jar</code></p>\n<p>From the library project i run <code>mvn clean install</code> to create the jar file</p>\n<p>so it does exist but VSC does not seem to be able to use it.</p>\n<p>I've tried to clean the java language space but the same issue still exist<br />\nI've tried to reload the project but the same issue still exist.</p>\n<p>UPDATE: the issue seems to have to do with workspaces. If i open the project and only that project it works just fine. If I open the same project in a workspace java seem to be unable to detect my library.</p>\n"},{"tags":["java","spring-boot","exception","tomcat"],"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679065680,"creation_date":1679065680,"question_id":75769203,"body_markdown":"I&#39;ve a very simple spring boot application with only 1 controller and 1 endpoint.\r\nThis application is not available on internet and it should only be accessed through intranet by few known systems.\r\n\r\nBut somehow i&#39;m getting an error message in the logs that show that someone is misusing it.\r\n\r\nAs this system is heavly used I dont want to log every single request arriving, I would like to catch only the misplaced requests and try to debug from there who is misusing it.\r\n\r\nThe error i get is very simple:\r\n\r\n    java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x000x850x010x000x000x810x030x03M0xf4C0xf00x140xfb0xf00xfb0xda0x110xff0xb70xce0x97.0xe80xf580xee0xe10xff0xa3V:0x880x8030x8f0xe50x1c0x1390x000x00 ]. HTTP method names must be tokens\r\n            at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar!/:na]\r\n            at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n\r\naccording to this thread:\r\nhttps://stackoverflow.com/questions/42218237/tomcat-java-lang-illegalargumentexception-invalid-character-found-in-method-na\r\n\r\nthis error happens because some client is calling the endpoint through https when it is only read to deal http requests. i made a simulation and this exact error happened, so some client was misconfigured and is sending https requests to this system when it shouldn&#39;t.\r\n\r\nAgain, I would like to catch this exception, so i could extract more information from the request as the ip address or anything else that help me to track down who is the misplaced consumer\r\n\r\nhow can i capture these internal tomcat exceptions in an spring boot application","title":"How to catch Tomcat exceptions on spring boot application","body":"<p>I've a very simple spring boot application with only 1 controller and 1 endpoint.\nThis application is not available on internet and it should only be accessed through intranet by few known systems.</p>\n<p>But somehow i'm getting an error message in the logs that show that someone is misusing it.</p>\n<p>As this system is heavly used I dont want to log every single request arriving, I would like to catch only the misplaced requests and try to debug from there who is misusing it.</p>\n<p>The error i get is very simple:</p>\n<pre><code>java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x000x850x010x000x000x810x030x03M0xf4C0xf00x140xfb0xf00xfb0xda0x110xff0xb70xce0x97.0xe80xf580xee0xe10xff0xa3V:0x880x8030x8f0xe50x1c0x1390x000x00 ]. HTTP method names must be tokens\n        at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar!/:na]\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>according to this thread:\n<a href=\"https://stackoverflow.com/questions/42218237/tomcat-java-lang-illegalargumentexception-invalid-character-found-in-method-na\">Tomcat: java.lang.IllegalArgumentException: Invalid character found in method name. HTTP method names must be tokens</a></p>\n<p>this error happens because some client is calling the endpoint through https when it is only read to deal http requests. i made a simulation and this exact error happened, so some client was misconfigured and is sending https requests to this system when it shouldn't.</p>\n<p>Again, I would like to catch this exception, so i could extract more information from the request as the ip address or anything else that help me to track down who is the misplaced consumer</p>\n<p>how can i capture these internal tomcat exceptions in an spring boot application</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":13342760,"reputation":1334,"user_id":9630486,"display_name":"Egor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538473722,"creation_date":1538473722,"answer_id":52605914,"question_id":52605846,"body_markdown":"You could use any number as CAMERA_REQUEST. Android hasn&#39;t this property, it&#39;s just your identifier for next working with responses.","title":"Camera Request Permission is bringing error","body":"<p>You could use any number as CAMERA_REQUEST. Android hasn't this property, it's just your identifier for next working with responses.</p>\n"},{"tags":[],"owner":{"account_id":5531025,"reputation":1318,"user_id":4390987,"display_name":"ॐ Rakesh Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538473931,"creation_date":1538473931,"answer_id":52605959,"question_id":52605846,"body_markdown":"Following, I have written code for granting a runtime permissions for Camera, There is a String of Array in which you can give multiple requests granting as which is needed at runtime.\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private static final int PERMISSION_REQUEST_CODE = 200;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        if (checkPermission()) {\r\n        //main logic or main code\r\n\r\n       // . write your main code to execute, It will execute if the permission is already given.\r\n\r\n        } else {\r\n            requestPermission();\r\n        }\r\n    }\r\n\r\n    private boolean checkPermission() {\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n            // Permission is not granted\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private void requestPermission() {\r\n\r\n        ActivityCompat.requestPermissions(this,\r\n                new String[]{Manifest.permission.CAMERA},\r\n                PERMISSION_REQUEST_CODE);\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\r\n        switch (requestCode) {\r\n            case PERMISSION_REQUEST_CODE:\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    Toast.makeText(getApplicationContext(), &quot;Permission Granted&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    // main logic\r\n                } else {\r\n                    Toast.makeText(getApplicationContext(), &quot;Permission Denied&quot;, Toast.LENGTH_SHORT).show();\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA)\r\n                                != PackageManager.PERMISSION_GRANTED) {\r\n                            showMessageOKCancel(&quot;You need to allow access permissions&quot;,\r\n                                    new DialogInterface.OnClickListener() {\r\n                                        @Override\r\n                                        public void onClick(DialogInterface dialog, int which) {\r\n                                            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                                                requestPermission();\r\n                                            }\r\n                                        }\r\n                                    });\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    private void showMessageOKCancel(String message, DialogInterface.OnClickListener okListener) {\r\n        new AlertDialog.Builder(MainActivity.this)\r\n                .setMessage(message)\r\n                .setPositiveButton(&quot;OK&quot;, okListener)\r\n                .setNegativeButton(&quot;Cancel&quot;, null)\r\n                .create()\r\n                .show();\r\n    }\r\n}\r\n\r\nHope It&#39;ll help for you","title":"Camera Request Permission is bringing error","body":"<p>Following, I have written code for granting a runtime permissions for Camera, There is a String of Array in which you can give multiple requests granting as which is needed at runtime.</p>\n\n<p>public class MainActivity extends AppCompatActivity {\n    private static final int PERMISSION_REQUEST_CODE = 200;</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    if (checkPermission()) {\n    //main logic or main code\n\n   // . write your main code to execute, It will execute if the permission is already given.\n\n    } else {\n        requestPermission();\n    }\n}\n\nprivate boolean checkPermission() {\n    if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA)\n            != PackageManager.PERMISSION_GRANTED) {\n        // Permission is not granted\n        return false;\n    }\n    return true;\n}\n\nprivate void requestPermission() {\n\n    ActivityCompat.requestPermissions(this,\n            new String[]{Manifest.permission.CAMERA},\n            PERMISSION_REQUEST_CODE);\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\n    switch (requestCode) {\n        case PERMISSION_REQUEST_CODE:\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                Toast.makeText(getApplicationContext(), \"Permission Granted\", Toast.LENGTH_SHORT).show();\n\n                // main logic\n            } else {\n                Toast.makeText(getApplicationContext(), \"Permission Denied\", Toast.LENGTH_SHORT).show();\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                    if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA)\n                            != PackageManager.PERMISSION_GRANTED) {\n                        showMessageOKCancel(\"You need to allow access permissions\",\n                                new DialogInterface.OnClickListener() {\n                                    @Override\n                                    public void onClick(DialogInterface dialog, int which) {\n                                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                                            requestPermission();\n                                        }\n                                    }\n                                });\n                    }\n                }\n            }\n            break;\n    }\n}\n\nprivate void showMessageOKCancel(String message, DialogInterface.OnClickListener okListener) {\n    new AlertDialog.Builder(MainActivity.this)\n            .setMessage(message)\n            .setPositiveButton(\"OK\", okListener)\n            .setNegativeButton(\"Cancel\", null)\n            .create()\n            .show();\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Hope It'll help for you</p>\n"},{"comments":[{"owner":{"account_id":13886728,"reputation":21,"user_id":10025700,"display_name":"Alao Emmanuel"},"score":0,"creation_date":1539332408,"post_id":52609098,"comment_id":92472243,"body_markdown":"Thanks richard, It works. It seemed i didnt declare CAMERA_request","body":"Thanks richard, It works. It seemed i didnt declare CAMERA_request"}],"tags":[],"owner":{"account_id":990824,"reputation":395,"user_id":1008197,"display_name":"Richard Stokes"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1538485998,"creation_date":1538485998,"answer_id":52609098,"question_id":52605846,"body_markdown":"I&#39;m assuming that the error you are getting is a compiler error as there is no declaration of CAMERA_REQUEST. This is just a number that you define as an id for the request you are making. Ideally, you should be defining this as an instance variable.\r\n\r\nThis id will be passed back to you via the method call as the requestCode to help you identify which request the response is for. It will also give the permissions granted respectively as you can request more than one at once:\r\n\r\n    private final int REQUEST_CAMERA_ID = 123456;\r\n\r\n    public void setupUI() {\r\n\r\n        mButtonEnabled = findViewById(R.id.buttonEnable);\r\n        mButtonEnabled.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                ActivityCompat.requestPermissions(MainActivity.this,\r\n                        new String[] {Manifest.permission.CAMERA}, REQUEST_CAMERA_ID);\r\n            }\r\n        });\r\n    }\r\n\r\n    public void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\r\n\r\n        switch (requestCode) {\r\n            case REQUEST_CAMERA_ID:\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    // Permission was granted\r\n                } else {\r\n                        // Permission was denied\r\n                }\r\n            break;\r\n        }\r\n    }","title":"Camera Request Permission is bringing error","body":"<p>I'm assuming that the error you are getting is a compiler error as there is no declaration of CAMERA_REQUEST. This is just a number that you define as an id for the request you are making. Ideally, you should be defining this as an instance variable.</p>\n\n<p>This id will be passed back to you via the method call as the requestCode to help you identify which request the response is for. It will also give the permissions granted respectively as you can request more than one at once:</p>\n\n<pre><code>private final int REQUEST_CAMERA_ID = 123456;\n\npublic void setupUI() {\n\n    mButtonEnabled = findViewById(R.id.buttonEnable);\n    mButtonEnabled.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            ActivityCompat.requestPermissions(MainActivity.this,\n                    new String[] {Manifest.permission.CAMERA}, REQUEST_CAMERA_ID);\n        }\n    });\n}\n\npublic void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\n\n    switch (requestCode) {\n        case REQUEST_CAMERA_ID:\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                // Permission was granted\n            } else {\n                    // Permission was denied\n            }\n        break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22936216,"reputation":129,"user_id":17069669,"display_name":"Hakan Bayazıt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679065661,"creation_date":1679065661,"answer_id":75769199,"question_id":52605846,"body_markdown":" App / manifest /\r\n    AndroidManifest.xml\r\n\r\nWrite the following code inside the file\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n\r\nadd the following code in mainActivity.java\r\n\r\n    import android.Manifest;\r\n\r\nHope It&#39;ll help for you","title":"Camera Request Permission is bringing error","body":"<p>App / manifest /\nAndroidManifest.xml</p>\n<p>Write the following code inside the file</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n</code></pre>\n<p>add the following code in mainActivity.java</p>\n<pre><code>import android.Manifest;\n</code></pre>\n<p>Hope It'll help for you</p>\n"}],"owner":{"account_id":13886728,"reputation":21,"user_id":10025700,"display_name":"Alao Emmanuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":691,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":52609098,"answer_count":4,"score":-1,"last_activity_date":1679065661,"creation_date":1538473382,"question_id":52605846,"body_markdown":"I am new to android and i am trying to build a flashlight app. I tried to request permission to use the camera but it is bringing cannot resolve CAMERA_REQUEST. Any explanation and solution. Find the code below.\r\n\r\n    mButtonEnabled = findViewById(R.id.buttonEnable);\r\n        mButtonEnabled.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                ActivityCompat.requestPermissions(MainActivity.this,\r\n                        new String[] {Manifest.permission.CAMERA}, CAMERA_REQUEST);\r\n            }\r\n        });\r\n    }","title":"Camera Request Permission is bringing error","body":"<p>I am new to android and i am trying to build a flashlight app. I tried to request permission to use the camera but it is bringing cannot resolve CAMERA_REQUEST. Any explanation and solution. Find the code below.</p>\n\n<pre><code>mButtonEnabled = findViewById(R.id.buttonEnable);\n    mButtonEnabled.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            ActivityCompat.requestPermissions(MainActivity.this,\n                    new String[] {Manifest.permission.CAMERA}, CAMERA_REQUEST);\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","tomcat","httprequest","javaagents","jolokia"],"answers":[{"tags":[],"owner":{"account_id":11588561,"reputation":83,"user_id":8489777,"display_name":"Ara"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1621390586,"creation_date":1621390586,"answer_id":67596058,"question_id":58610243,"body_markdown":"Jolokia default setting is set to block all CORS, in **apache-activemq/webapps/api/WEB-INF/classes/jolokia-access.xml** file.\r\n\r\n    &lt;cors&gt;\r\n     &lt;strict-checking/&gt;\r\n    &lt;/cors&gt;\r\n\r\nYou can disable it by removing above config or adding allowed origins before ** strict-checking**.\r\n\r\n    &lt;cors&gt;\r\n     &lt;!-- Allow cross origin access from www.jolokia.org ... --&gt;\r\n     &lt;allow-origin&gt;http://www.jolokia.org&lt;/allow-origin&gt;\r\n\r\n     &lt;!-- ... and all servers from jmx4perl.org with any protocol -&gt;\r\n     &lt;allow-origin&gt;*://*.jmx4perl.org&lt;/allow-origin&gt;\r\n\r\n     &lt;!-- Check for the proper origin on the server side, too --&gt;\r\n     &lt;strict-checking/&gt;\r\n    &lt;/cors&gt;\r\n\r\nFor more details please refer [4.1.5. Cross-Origin Resource Sharing (CORS) restrictions][1]\r\n\r\n\r\n  [1]: https://jolokia.org/reference/html/security.html","title":"Jolokia - Origin null is not allowed to call this agent","body":"<p>Jolokia default setting is set to block all CORS, in <strong>apache-activemq/webapps/api/WEB-INF/classes/jolokia-access.xml</strong> file.</p>\n<pre><code>&lt;cors&gt;\n &lt;strict-checking/&gt;\n&lt;/cors&gt;\n</code></pre>\n<p>You can disable it by removing above config or adding allowed origins before ** strict-checking**.</p>\n<pre><code>&lt;cors&gt;\n &lt;!-- Allow cross origin access from www.jolokia.org ... --&gt;\n &lt;allow-origin&gt;http://www.jolokia.org&lt;/allow-origin&gt;\n\n &lt;!-- ... and all servers from jmx4perl.org with any protocol -&gt;\n &lt;allow-origin&gt;*://*.jmx4perl.org&lt;/allow-origin&gt;\n\n &lt;!-- Check for the proper origin on the server side, too --&gt;\n &lt;strict-checking/&gt;\n&lt;/cors&gt;\n</code></pre>\n<p>For more details please refer <a href=\"https://jolokia.org/reference/html/security.html\" rel=\"nofollow noreferrer\">4.1.5. Cross-Origin Resource Sharing (CORS) restrictions</a></p>\n"},{"tags":[],"owner":{"account_id":5053608,"reputation":134,"user_id":4057456,"accept_rate":25,"display_name":"greja"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629354665,"creation_date":1629354665,"answer_id":68843034,"question_id":58610243,"body_markdown":"Depending on your current configuration need to be changed.\r\nBased on your exact error line, you need to add &quot;Origin&quot; header in your http request.\r\n\r\n&gt; For example - `curl  http://localhost:8778/jolokia/list -H\r\n&gt; &quot;Origin:http://localhost&quot;`\r\n\r\nRemember, if you have default CORS is enabled, add exception with `&lt;allow-origin&gt;` under `&lt;cors&gt;` tag.","title":"Jolokia - Origin null is not allowed to call this agent","body":"<p>Depending on your current configuration need to be changed.\nBased on your exact error line, you need to add &quot;Origin&quot; header in your http request.</p>\n<blockquote>\n<p>For example - <code>curl  http://localhost:8778/jolokia/list -H &quot;Origin:http://localhost&quot;</code></p>\n</blockquote>\n<p>Remember, if you have default CORS is enabled, add exception with <code>&lt;allow-origin&gt;</code> under <code>&lt;cors&gt;</code> tag.</p>\n"},{"tags":[],"owner":{"account_id":4777913,"reputation":2557,"user_id":3860531,"display_name":"Sumesh TG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679065312,"creation_date":1679065312,"answer_id":75769126,"question_id":58610243,"body_markdown":" Jolokia&#39;s  default setting will block all CORS\r\n   &lt;restrict&gt;\r\n    \r\n        &lt;cors&gt;\r\n            &lt;!-- Allow cross origin access from localhost ... --&gt;\r\n            &lt;allow-origin&gt;*://localhost*&lt;/allow-origin&gt;\r\n    \r\n    \r\n            &lt;!-- Options from this point on are auto-generated by Create.java from the Artemis CLI --&gt;\r\n            &lt;!-- Check for the proper origin on the server side, too --&gt;\r\n            &lt;strict-checking/&gt;\r\n        &lt;/cors&gt;\r\n    \r\n    &lt;/restrict&gt;\r\n\r\nJust remove the  `&lt;strict-checking/&gt;` tag from the above default configuration in `jolokia-access.xml`","title":"Jolokia - Origin null is not allowed to call this agent","body":"<p>Jolokia's  default setting will block all CORS\n</p>\n<pre><code>    &lt;cors&gt;\n        &lt;!-- Allow cross origin access from localhost ... --&gt;\n        &lt;allow-origin&gt;*://localhost*&lt;/allow-origin&gt;\n\n\n        &lt;!-- Options from this point on are auto-generated by Create.java from the Artemis CLI --&gt;\n        &lt;!-- Check for the proper origin on the server side, too --&gt;\n        &lt;strict-checking/&gt;\n    &lt;/cors&gt;\n\n&lt;/restrict&gt;\n</code></pre>\n<p>Just remove the  <code>&lt;strict-checking/&gt;</code> tag from the above default configuration in <code>jolokia-access.xml</code></p>\n"}],"owner":{"account_id":1924321,"reputation":121,"user_id":1735133,"accept_rate":40,"display_name":"dandan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5101,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1679065312,"creation_date":1572361889,"question_id":58610243,"body_markdown":"&gt; {&quot;stacktrace&quot;:&quot;java.lang.Exception: Origin null is not allowed to call\r\n&gt; this agent\\n\\tat\r\n&gt; org.jolokia.http.HttpRequestHandler.handleThrowable(HttpRequestHandler.java:242)\\n\\tat\r\n&gt; org.jolokia.jvmagent.handler.JolokiaHttpHandler.doHandle(JolokiaHttpHandler.java:243)\\n\\tat\r\n&gt; org.jolokia.jvmagent.handler.JolokiaHttpHandler.handle(JolokiaHttpHandler.java:178)\\n\\tat\r\n&gt; com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)\\n\\tat\r\n&gt; sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)\\n\\tat\r\n&gt; com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)\\n\\tat\r\n&gt; sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)\\n\\tat\r\n&gt; com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)\\n\\tat\r\n&gt; sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)\\n\\tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat\r\n&gt; java.lang.Thread.run(Thread.java:748)\\n&quot;,&quot;error_type&quot;:&quot;java.lang.Exception&quot;,&quot;error&quot;:&quot;java.lang.Exception\r\n&gt; : Origin null is not allowed to call this agent&quot;,&quot;status&quot;:403}\r\n\r\n\r\nI get this error when I try to query my &quot;jolokia&quot; agent.\r\n\r\n    \r\n    curl  http://localhost:8778/jolokia/list\r\n\r\nI&#39;ve launched my java application (kibana) with the jolokia agent, as explained in the Manual https://jolokia.org/reference/html/agents.html#agents-jvm.\r\n\r\n    \r\n    java -javaagent:agent.jar=port=8778,host=localhost\r\n\r\nI can see (ps -aux) that the process launched with the jolokia agent in between the Java Arguments.\r\n\r\nI have also tried to deploy the jolokia war in my Tomcat /webapps. I&#39;ve edited the user.xml file to add the User Jolokia, but I get the same result\r\n\r\nThe only result I get by googling the error seems to be the Jolokia code, at line 287, which seems to imply the host or address are wrong, but i&#39;m doing everything from localhost, which should be allowed.\r\nhttps://github.com/rhuss/jolokia/blob/master/agent/core/src/main/java/org/jolokia/http/HttpRequestHandler.java\r\n\r\nAm I missing some settings? which is the best way to test it? I have zero experience with Java applications and Jolokia.\r\n\r\n\r\n","title":"Jolokia - Origin null is not allowed to call this agent","body":"<blockquote>\n  <p>{\"stacktrace\":\"java.lang.Exception: Origin null is not allowed to call\n  this agent\\n\\tat\n  org.jolokia.http.HttpRequestHandler.handleThrowable(HttpRequestHandler.java:242)\\n\\tat\n  org.jolokia.jvmagent.handler.JolokiaHttpHandler.doHandle(JolokiaHttpHandler.java:243)\\n\\tat\n  org.jolokia.jvmagent.handler.JolokiaHttpHandler.handle(JolokiaHttpHandler.java:178)\\n\\tat\n  com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)\\n\\tat\n  sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)\\n\\tat\n  com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)\\n\\tat\n  sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)\\n\\tat\n  com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)\\n\\tat\n  sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)\\n\\tat\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat\n  java.lang.Thread.run(Thread.java:748)\\n\",\"error_type\":\"java.lang.Exception\",\"error\":\"java.lang.Exception\n  : Origin null is not allowed to call this agent\",\"status\":403}</p>\n</blockquote>\n\n<p>I get this error when I try to query my \"jolokia\" agent.</p>\n\n<pre><code>curl  http://localhost:8778/jolokia/list\n</code></pre>\n\n<p>I've launched my java application (kibana) with the jolokia agent, as explained in the Manual <a href=\"https://jolokia.org/reference/html/agents.html#agents-jvm\" rel=\"noreferrer\">https://jolokia.org/reference/html/agents.html#agents-jvm</a>.</p>\n\n<pre><code>java -javaagent:agent.jar=port=8778,host=localhost\n</code></pre>\n\n<p>I can see (ps -aux) that the process launched with the jolokia agent in between the Java Arguments.</p>\n\n<p>I have also tried to deploy the jolokia war in my Tomcat /webapps. I've edited the user.xml file to add the User Jolokia, but I get the same result</p>\n\n<p>The only result I get by googling the error seems to be the Jolokia code, at line 287, which seems to imply the host or address are wrong, but i'm doing everything from localhost, which should be allowed.\n<a href=\"https://github.com/rhuss/jolokia/blob/master/agent/core/src/main/java/org/jolokia/http/HttpRequestHandler.java\" rel=\"noreferrer\">https://github.com/rhuss/jolokia/blob/master/agent/core/src/main/java/org/jolokia/http/HttpRequestHandler.java</a></p>\n\n<p>Am I missing some settings? which is the best way to test it? I have zero experience with Java applications and Jolokia.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1679066481,"post_id":75769068,"comment_id":133659690,"body_markdown":"There may be compatibility issue with gradle and Java version, from log I can deduce that you are using Java version &gt; 8 and gradlew wrapper version 4.9. check compatibility here: https://docs.gradle.org/current/userguide/compatibility.html#java","body":"There may be compatibility issue with gradle and Java version, from log I can deduce that you are using Java version &gt; 8 and gradlew wrapper version 4.9. check compatibility here: <a href=\"https://docs.gradle.org/current/userguide/compatibility.html#java\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/compatibility.html#java</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1679067508,"post_id":75769068,"comment_id":133659982,"body_markdown":"Nowadays, `gradlew eclipse` should not needed at all.","body":"Nowadays, <code>gradlew eclipse</code> should not needed at all."}],"owner":{"account_id":28042945,"reputation":1,"user_id":21420213,"display_name":"Thorns"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679065024,"creation_date":1679065024,"question_id":75769068,"body_markdown":"I cant install gradlew eclipse.Here is log error message:\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\njava.lang.ExceptionInInitializerError (no error message)\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug\r\noption to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug\r\noption to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\nSomeone know how to fix this?\r\n\r\nI many times tried to reinstall JDK, used official JDK and eclipse adoptium, tried every gradlew version before 7.0 (because MDK 1.12.2 don&#39;t use above), but it always crashes with message above.\r\nAlso Eclipse has this error:\r\nDescription\tResource\tPath\tLocation\tType\r\nCould not create an instance of Tooling API implementation using the specified Gradle distribution &#39;https://services.gradle.org/distributions/gradle-4.9-bin.zip&#39;.\r\nUnable to make protected java.lang.Package[] java.lang.ClassLoader.getPackages() accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @6267890e\tMyMod\t\tline 0\tGradle Error Marker\r\n","title":"i can&#39;t install gradlew","body":"<p>I cant install gradlew eclipse.Here is log error message:</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li><p>What went wrong:\njava.lang.ExceptionInInitializerError (no error message)</p>\n</li>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug\noption to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></p>\n</li>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug\noption to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a>\nSomeone know how to fix this?</p>\n</li>\n</ul>\n<p>I many times tried to reinstall JDK, used official JDK and eclipse adoptium, tried every gradlew version before 7.0 (because MDK 1.12.2 don't use above), but it always crashes with message above.\nAlso Eclipse has this error:\nDescription Resource    Path    Location    Type\nCould not create an instance of Tooling API implementation using the specified Gradle distribution 'https://services.gradle.org/distributions/gradle-4.9-bin.zip'.\nUnable to make protected java.lang.Package[] java.lang.ClassLoader.getPackages() accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @6267890e    MyMod       line 0  Gradle Error Marker</p>\n"},{"tags":["java","android","android-studio","process","stockfish"],"comments":[{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1679069162,"post_id":75769047,"comment_id":133660425,"body_markdown":"Seems you have to put the file into jniLibs/armeabi-v7a see this post https://stackoverflow.com/questions/64786837/what-path-to-put-executable-to-run-on-android-29","body":"Seems you have to put the file into jniLibs/armeabi-v7a see this post <a href=\"https://stackoverflow.com/questions/64786837/what-path-to-put-executable-to-run-on-android-29\" title=\"what path to put executable to run on android 29\">stackoverflow.com/questions/64786837/&hellip;</a>"},{"owner":{"account_id":27620441,"reputation":1,"user_id":21081622,"display_name":"CXKX"},"score":0,"creation_date":1679079034,"post_id":75769047,"comment_id":133662818,"body_markdown":"Thank you :) I&#39;ll try it and see if that helps although they say in that post that it related more to permission error while in my case the file could not be found error.","body":"Thank you :) I&#39;ll try it and see if that helps although they say in that post that it related more to permission error while in my case the file could not be found error."},{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1679080459,"post_id":75769047,"comment_id":133663141,"body_markdown":"The error message reported by Android can be wrong. It can be a permission issue even if Android says the file was not found.","body":"The error message reported by Android can be wrong. It can be a permission issue even if Android says the file was not found."}],"owner":{"account_id":27620441,"reputation":1,"user_id":21081622,"display_name":"CXKX"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679064941,"creation_date":1679064874,"question_id":75769047,"body_markdown":"I have been trying to use stockfish in my android studio project and the only problem that I seem to face is that I can&#39;t run it.\r\n\r\n`String filePath = context.getFilesDir() + File.pathSeparator + &quot;StockfishEngine/stockfish_15.1_android_armv7/stockfish.android.armv7&quot;;\r\n            \r\n// String filePath = &quot;StockfishEngine/stockfish_15.1_android_armv7/stockfish.android.armv7&quot;;\r\n\r\nbuilder = new ProcessBuilder(filePath);\r\n\r\nbuilder.redirectErrorStream(true);\r\nstockfishProcess = builder.start();`\r\n\r\nMy armv7 stockfish file is found in Assets folder.\r\n\r\nNo matter what I tried, it kept saying it cannot find the file and I can&#39;t just use getAssets().open(...) because then I&#39;ll get the input stream, not a process running stockfish actually.\r\nIn the end, it keeps raising an error stating that it cannot find the file.","title":"How can I run a armv7 file on a process in android studio","body":"<p>I have been trying to use stockfish in my android studio project and the only problem that I seem to face is that I can't run it.</p>\n<p>`String filePath = context.getFilesDir() + File.pathSeparator + &quot;StockfishEngine/stockfish_15.1_android_armv7/stockfish.android.armv7&quot;;</p>\n<p>// String filePath = &quot;StockfishEngine/stockfish_15.1_android_armv7/stockfish.android.armv7&quot;;</p>\n<p>builder = new ProcessBuilder(filePath);</p>\n<p>builder.redirectErrorStream(true);\nstockfishProcess = builder.start();`</p>\n<p>My armv7 stockfish file is found in Assets folder.</p>\n<p>No matter what I tried, it kept saying it cannot find the file and I can't just use getAssets().open(...) because then I'll get the input stream, not a process running stockfish actually.\nIn the end, it keeps raising an error stating that it cannot find the file.</p>\n"},{"tags":["java","package","javaimports"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1678992473,"post_id":75760398,"comment_id":133645289,"body_markdown":"Are you trying to use code from compiled java code?  A bin folder should have .class files and not .java files","body":"Are you trying to use code from compiled java code?  A bin folder should have .class files and not .java files"},{"owner":{"account_id":19734231,"reputation":39,"user_id":14449082,"display_name":"Samuel W"},"score":0,"creation_date":1678996757,"post_id":75760398,"comment_id":133646309,"body_markdown":"@Nexevis yes sorry forgot to specify file types, updated the post now","body":"@Nexevis yes sorry forgot to specify file types, updated the post now"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679058235,"post_id":75760398,"comment_id":133657231,"body_markdown":"Where is file1.java, file2.java? If the answer is that they are in another project then you need to make a jar from that project, add the jar to this project (usually in lib) and add the jar to the classpath. Or you could use maven/gradle dependencies.","body":"Where is file1.java, file2.java? If the answer is that they are in another project then you need to make a jar from that project, add the jar to this project (usually in lib) and add the jar to the classpath. Or you could use maven/gradle dependencies."},{"owner":{"account_id":19734231,"reputation":39,"user_id":14449082,"display_name":"Samuel W"},"score":0,"creation_date":1679063514,"post_id":75760398,"comment_id":133658731,"body_markdown":"@JohnWilliams file1.java etc. don&#39;t exist, that&#39;s just how I named the files. So how can I access the class files from within file6.java in the socialmedia package","body":"@JohnWilliams file1.java etc. don&#39;t exist, that&#39;s just how I named the files. So how can I access the class files from within file6.java in the socialmedia package"}],"answers":[{"comments":[{"owner":{"account_id":19734231,"reputation":39,"user_id":14449082,"display_name":"Samuel W"},"score":0,"creation_date":1679077733,"post_id":75768997,"comment_id":133662549,"body_markdown":"Genuinely just how the coursework structured the directories and not allowed to change that","body":"Genuinely just how the coursework structured the directories and not allowed to change that"}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679064838,"creation_date":1679064527,"answer_id":75768997,"question_id":75760398,"body_markdown":"Any files on the classpath, which /bin certainly is, can be accessed like this:\r\n\r\n    InputStream in = this.getClass().getClassLoader()\r\n                                    .getResourceAsStream(&quot;file1.class&quot;);\r\n\r\nI have to ask - what problem are you solving that includes this very unusual requirement?","title":"How to access package from bin folder from src folder","body":"<p>Any files on the classpath, which /bin certainly is, can be accessed like this:</p>\n<pre><code>InputStream in = this.getClass().getClassLoader()\n                                .getResourceAsStream(&quot;file1.class&quot;);\n</code></pre>\n<p>I have to ask - what problem are you solving that includes this very unusual requirement?</p>\n"}],"owner":{"account_id":19734231,"reputation":39,"user_id":14449082,"display_name":"Samuel W"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679064838,"creation_date":1678991901,"question_id":75760398,"body_markdown":"So I have a folder structure as below\r\n\r\n```\r\nmainFolder\\\r\n    bin\\\r\n        file1.class,file2.class,file3.class,file4.class //under package named classes\r\n    src\\\r\n        socialmedia\\\r\n            file5.java,file6.java,file7.java //under package named socialmedia\r\n        PlatformTestApp\r\n```\r\n\r\n\r\nHow can I import the package inside the bin folder from the socialmedia subfolder inside the src folder\r\n\r\nI&#39;m aware a question like this has almost certainly been answered before but I can&#39;t for the life for me find what I need","title":"How to access package from bin folder from src folder","body":"<p>So I have a folder structure as below</p>\n<pre><code>mainFolder\\\n    bin\\\n        file1.class,file2.class,file3.class,file4.class //under package named classes\n    src\\\n        socialmedia\\\n            file5.java,file6.java,file7.java //under package named socialmedia\n        PlatformTestApp\n</code></pre>\n<p>How can I import the package inside the bin folder from the socialmedia subfolder inside the src folder</p>\n<p>I'm aware a question like this has almost certainly been answered before but I can't for the life for me find what I need</p>\n"},{"tags":["java","validation"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1679056351,"post_id":75767576,"comment_id":133656692,"body_markdown":"You can create your custom validation class. And in your object&#39;s setter method validate the values by calling the validation class&#39;s method.","body":"You can create your custom validation class. And in your object&#39;s setter method validate the values by calling the validation class&#39;s method."}],"owner":{"account_id":27840241,"reputation":13,"user_id":21256847,"display_name":"CodePirate"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1679155822,"answer_count":0,"score":1,"last_activity_date":1679064555,"creation_date":1679055935,"question_id":75767576,"body_markdown":"How can I validate a **java** object inside the application context? I know about the annotation method if I use the **jakarta** library, but how to do that without any external libraries? \r\nAre validation classes ok, where I take an object and validate it before storing it in the database, or just creating a class inside the model entities that validates the fields?","title":"Validating java object that is going to be stored in the database","body":"<p>How can I validate a <strong>java</strong> object inside the application context? I know about the annotation method if I use the <strong>jakarta</strong> library, but how to do that without any external libraries?\nAre validation classes ok, where I take an object and validate it before storing it in the database, or just creating a class inside the model entities that validates the fields?</p>\n"},{"tags":["java","tomcat","build"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1679064332,"post_id":75768376,"comment_id":133658985,"body_markdown":"Have you taken a look at the build notes in [BUILDING.txt](https://github.com/apache/tomcat/blob/main/BUILDING.txt)? See &quot;(5.3) Building the embedded packages&quot;: use the command `ant embed`. (Not sure about the annotations JAR. I would have assumed it&#39;s part of the core build - but maybe not.)","body":"Have you taken a look at the build notes in <a href=\"https://github.com/apache/tomcat/blob/main/BUILDING.txt\" rel=\"nofollow noreferrer\">BUILDING.txt</a>? See &quot;(5.3) Building the embedded packages&quot;: use the command <code>ant embed</code>. (Not sure about the annotations JAR. I would have assumed it&#39;s part of the core build - but maybe not.)"},{"owner":{"account_id":2514723,"reputation":23,"user_id":2186414,"display_name":"atira"},"score":0,"creation_date":1679310511,"post_id":75768376,"comment_id":133692722,"body_markdown":"@andrewJames I missed that part. It does seem to do the task. Thanks for pointing it out!","body":"@andrewJames I missed that part. It does seem to do the task. Thanks for pointing it out!"},{"owner":{"account_id":2514723,"reputation":23,"user_id":2186414,"display_name":"atira"},"score":1,"creation_date":1679310873,"post_id":75768376,"comment_id":133692806,"body_markdown":"Btw. the annotations-api is in the same output, just the generated filename is without the &quot;tomcat-&quot; part.","body":"Btw. the annotations-api is in the same output, just the generated filename is without the &quot;tomcat-&quot; part."}],"owner":{"account_id":2514723,"reputation":23,"user_id":2186414,"display_name":"atira"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679064411,"creation_date":1679060964,"question_id":75768376,"body_markdown":"My workplace requires us to build all the 3rd party dependencies and their transitive dependencies from source code.\r\nI am trying to build following dependencies:\r\n - tomcat-embed-core\r\n    * tomcat-annotations-api\r\n - tomcat-embed-el\r\n - tomcat-embed-websocket\r\n\r\nI assume its somewhere in the [apache/tomcat](https://github.com/apache/tomcat) project. I was expecting a maven/gradle/ant project. I did build the root ant project, but it did not produce jars for the mentioned artifacts.\r\n\r\nHow do I build the jar artifacts for these from source code?","title":"How to build tomcat-embed jars?","body":"<p>My workplace requires us to build all the 3rd party dependencies and their transitive dependencies from source code.\nI am trying to build following dependencies:</p>\n<ul>\n<li>tomcat-embed-core\n<ul>\n<li>tomcat-annotations-api</li>\n</ul>\n</li>\n<li>tomcat-embed-el</li>\n<li>tomcat-embed-websocket</li>\n</ul>\n<p>I assume its somewhere in the <a href=\"https://github.com/apache/tomcat\" rel=\"nofollow noreferrer\">apache/tomcat</a> project. I was expecting a maven/gradle/ant project. I did build the root ant project, but it did not produce jars for the mentioned artifacts.</p>\n<p>How do I build the jar artifacts for these from source code?</p>\n"},{"tags":["java","spring-boot","javaagents","open-telemetry","jaeger"],"comments":[{"owner":{"account_id":4979746,"reputation":106,"user_id":4005091,"display_name":"Gaurang"},"score":0,"creation_date":1663921741,"post_id":73809803,"comment_id":130357560,"body_markdown":"You can use this sampler to filter span based on rule .[here](https://github.com/open-telemetry/opentelemetry-java-contrib/blob/main/samplers/src/main/java/io/opentelemetry/contrib/samplers/RuleBasedRoutingSampler.java)\n\nIf you are using OpenTelemetry collector you can also apply filtering at collector level","body":"You can use this sampler to filter span based on rule .<a href=\"https://github.com/open-telemetry/opentelemetry-java-contrib/blob/main/samplers/src/main/java/io/opentelemetry/contrib/samplers/RuleBasedRoutingSampler.java\" rel=\"nofollow noreferrer\">here</a>  If you are using OpenTelemetry collector you can also apply filtering at collector level"},{"owner":{"account_id":111923,"reputation":649,"user_id":295416,"display_name":"trask"},"score":0,"creation_date":1681416093,"post_id":73809803,"comment_id":134057122,"body_markdown":"check out https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues/1060","body":"check out <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues/1060\" rel=\"nofollow noreferrer\">github.com/open-telemetry/opentelemetry-java-instrumentation&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":27073366,"reputation":31,"user_id":20623698,"display_name":"user20623698"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669640362,"creation_date":1669640362,"answer_id":74600948,"question_id":73809803,"body_markdown":"```\r\n/**\r\n * This demo sampler filters out all internal spans whose name contains string &quot;greeting&quot;.\r\n *\r\n * &lt;p&gt;See &lt;a\r\n * href=&quot;https://github.com/open-telemetry/opentelemetry-specification/blob/master/specification/trace/sdk.md#sampling&quot;&gt;\r\n * OpenTelemetry Specification&lt;/a&gt; for more information about span sampling.\r\n *\r\n */\r\npublic class MySampler implements Sampler {\r\n  @Override\r\n  public SamplingResult shouldSample(\r\n      Context parentContext,\r\n      String traceId,\r\n      String name,\r\n      SpanKind spanKind,\r\n      Attributes attributes,\r\n      List&lt;LinkData&gt; parentLinks) {\r\n      String attr =  attributes.get(InternalAttributeKeyImpl.create(&quot;http.target&quot;, AttributeType.STRING));\r\n\r\n    if(name.contains(&quot;health&quot;))\r\n    {\r\n      return SamplingResult.create(SamplingDecision.DROP);\r\n    } else if(spanKind == SpanKind.INTERNAL &amp;&amp; name.contains(&quot;OperationHandler.handle&quot;))\r\n    {\r\n      return SamplingResult.create(SamplingDecision.DROP);\r\n    } else if (spanKind == SpanKind.SERVER &amp;&amp;\r\n            (attr != null &amp;&amp; attr.contains(&quot;actuator&quot;))) {\r\n      return SamplingResult.create(SamplingDecision.DROP);\r\n    } else {\r\n      return SamplingResult.create(SamplingDecision.RECORD_AND_SAMPLE);\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public String getDescription() {\r\n    return &quot;MySampler&quot;;\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n/**\r\n * This is one of the main entry points for Instrumentation Agent&#39;s customizations. It allows\r\n * configuring the {@link AutoConfigurationCustomizer}. See the {@link\r\n * #customize(AutoConfigurationCustomizer)} method below.\r\n *\r\n * &lt;p&gt;Also see https://github.com/open-telemetry/opentelemetry-java/issues/2022\r\n *\r\n * @see AutoConfigurationCustomizerProvider\r\n */\r\n@AutoService(AutoConfigurationCustomizerProvider.class)\r\npublic class MyAutoConfigurationCustomizerProvider\r\n        implements AutoConfigurationCustomizerProvider {\r\n\r\n    @Override\r\n    public void customize(AutoConfigurationCustomizer autoConfiguration) {\r\n        Resource resourceNew = Resource.getDefault()\r\n                .merge(Resource.create(Attributes.of(ResourceAttributes.SERVICE_INSTANCE_ID, System.getenv(&quot;MY_POD_NAME&quot;))))\r\n                .merge(Resource.create(Attributes.of(ResourceAttributes.SERVICE_NAME, System.getenv(&quot;DT_RELEASE_PRODUCT&quot;))));\r\n\r\n        autoConfiguration.addSamplerCustomizer((sampler, configProperties) -&gt; new MySampler());\r\n        autoConfiguration.addResourceCustomizer((resource, configProperties) -&gt; resourceNew);\r\n    }\r\n}\r\n```","title":"How to exclude urls(health check traces) in opentelemetry","body":"<pre><code>/**\n * This demo sampler filters out all internal spans whose name contains string &quot;greeting&quot;.\n *\n * &lt;p&gt;See &lt;a\n * href=&quot;https://github.com/open-telemetry/opentelemetry-specification/blob/master/specification/trace/sdk.md#sampling&quot;&gt;\n * OpenTelemetry Specification&lt;/a&gt; for more information about span sampling.\n *\n */\npublic class MySampler implements Sampler {\n  @Override\n  public SamplingResult shouldSample(\n      Context parentContext,\n      String traceId,\n      String name,\n      SpanKind spanKind,\n      Attributes attributes,\n      List&lt;LinkData&gt; parentLinks) {\n      String attr =  attributes.get(InternalAttributeKeyImpl.create(&quot;http.target&quot;, AttributeType.STRING));\n\n    if(name.contains(&quot;health&quot;))\n    {\n      return SamplingResult.create(SamplingDecision.DROP);\n    } else if(spanKind == SpanKind.INTERNAL &amp;&amp; name.contains(&quot;OperationHandler.handle&quot;))\n    {\n      return SamplingResult.create(SamplingDecision.DROP);\n    } else if (spanKind == SpanKind.SERVER &amp;&amp;\n            (attr != null &amp;&amp; attr.contains(&quot;actuator&quot;))) {\n      return SamplingResult.create(SamplingDecision.DROP);\n    } else {\n      return SamplingResult.create(SamplingDecision.RECORD_AND_SAMPLE);\n    }\n  }\n\n  @Override\n  public String getDescription() {\n    return &quot;MySampler&quot;;\n  }\n}\n\n\n\n\n/**\n * This is one of the main entry points for Instrumentation Agent's customizations. It allows\n * configuring the {@link AutoConfigurationCustomizer}. See the {@link\n * #customize(AutoConfigurationCustomizer)} method below.\n *\n * &lt;p&gt;Also see https://github.com/open-telemetry/opentelemetry-java/issues/2022\n *\n * @see AutoConfigurationCustomizerProvider\n */\n@AutoService(AutoConfigurationCustomizerProvider.class)\npublic class MyAutoConfigurationCustomizerProvider\n        implements AutoConfigurationCustomizerProvider {\n\n    @Override\n    public void customize(AutoConfigurationCustomizer autoConfiguration) {\n        Resource resourceNew = Resource.getDefault()\n                .merge(Resource.create(Attributes.of(ResourceAttributes.SERVICE_INSTANCE_ID, System.getenv(&quot;MY_POD_NAME&quot;))))\n                .merge(Resource.create(Attributes.of(ResourceAttributes.SERVICE_NAME, System.getenv(&quot;DT_RELEASE_PRODUCT&quot;))));\n\n        autoConfiguration.addSamplerCustomizer((sampler, configProperties) -&gt; new MySampler());\n        autoConfiguration.addResourceCustomizer((resource, configProperties) -&gt; resourceNew);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2343888,"reputation":56,"user_id":2054634,"display_name":"ptanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679064053,"creation_date":1679064053,"answer_id":75768916,"question_id":73809803,"body_markdown":"Opentelemetry Samplers are used to filter spans.\r\nThey can be registered globally using environment variable `OTEL_TRACES_SAMPLER` as mentioned here: &lt;https://opentelemetry.io/docs/concepts/sdk-configuration/general-sdk-configuration/#otel_traces_sampler&gt;\r\n\r\nYou can check this link for an example of a custom sampler (called `DemoSampler\r\n`: &lt;https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/examples/extension#extensions-examples&gt; (these two files: [DemoSampler](https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/examples/extension/src/main/java/com/example/javaagent/DemoSampler.java) and [DemoConfigurableSamplerProvider](https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/examples/extension/src/main/java/com/example/javaagent/DemoConfigurableSamplerProvider.java)). To try it you have to clone the repository, enter examples/extension folder and run `./gradlew build`. Then you should use environment variable `OTEL_JAVAAGENT_EXTENSIONS` (or system property `otel.javaagent.extensions`) to reference created jar `opentelemetry-java-instrumentation/examples/extension/build/libs/opentelemetry-java-instrumentation-extension-demo-1.0-all.jar` as mentioned here: &lt;https://opentelemetry.io/docs/instrumentation/java/automatic/agent-config/&gt;. Then set environment variable `OTEL_TRACES_SAMPLER` to `demo` (this name is defined by the sampler provider &lt;https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/65251c4e8a4bdc60ee8b3dbe9fc4d2ccd36f6bda/examples/extension/src/main/java/com/example/javaagent/DemoConfigurableSamplerProvider.java#L23&gt;).\r\n\r\nYour custom sampler should check every sample&#39;s name, spanKind and attributes in the method `Sampler.shouldSample(Context parentContext, String traceId, String name, SpanKind spanKind, Attributes attributes, List&lt;LinkData&gt; parentLinks)` and decide whether it is a healtcheck or something other and return either `SamplingResult.create(SamplingDecision.DROP);` or `SamplingResult.create(SamplingDecision.RECORD_AND_SAMPLE);` respectively.","title":"How to exclude urls(health check traces) in opentelemetry","body":"<p>Opentelemetry Samplers are used to filter spans.\nThey can be registered globally using environment variable <code>OTEL_TRACES_SAMPLER</code> as mentioned here: <a href=\"https://opentelemetry.io/docs/concepts/sdk-configuration/general-sdk-configuration/#otel_traces_sampler\" rel=\"nofollow noreferrer\">https://opentelemetry.io/docs/concepts/sdk-configuration/general-sdk-configuration/#otel_traces_sampler</a></p>\n<p>You can check this link for an example of a custom sampler (called <code>DemoSampler </code>: <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/examples/extension#extensions-examples\" rel=\"nofollow noreferrer\">https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/examples/extension#extensions-examples</a> (these two files: <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/examples/extension/src/main/java/com/example/javaagent/DemoSampler.java\" rel=\"nofollow noreferrer\">DemoSampler</a> and <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/examples/extension/src/main/java/com/example/javaagent/DemoConfigurableSamplerProvider.java\" rel=\"nofollow noreferrer\">DemoConfigurableSamplerProvider</a>). To try it you have to clone the repository, enter examples/extension folder and run <code>./gradlew build</code>. Then you should use environment variable <code>OTEL_JAVAAGENT_EXTENSIONS</code> (or system property <code>otel.javaagent.extensions</code>) to reference created jar <code>opentelemetry-java-instrumentation/examples/extension/build/libs/opentelemetry-java-instrumentation-extension-demo-1.0-all.jar</code> as mentioned here: <a href=\"https://opentelemetry.io/docs/instrumentation/java/automatic/agent-config/\" rel=\"nofollow noreferrer\">https://opentelemetry.io/docs/instrumentation/java/automatic/agent-config/</a>. Then set environment variable <code>OTEL_TRACES_SAMPLER</code> to <code>demo</code> (this name is defined by the sampler provider <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/65251c4e8a4bdc60ee8b3dbe9fc4d2ccd36f6bda/examples/extension/src/main/java/com/example/javaagent/DemoConfigurableSamplerProvider.java#L23\" rel=\"nofollow noreferrer\">https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/65251c4e8a4bdc60ee8b3dbe9fc4d2ccd36f6bda/examples/extension/src/main/java/com/example/javaagent/DemoConfigurableSamplerProvider.java#L23</a>).</p>\n<p>Your custom sampler should check every sample's name, spanKind and attributes in the method <code>Sampler.shouldSample(Context parentContext, String traceId, String name, SpanKind spanKind, Attributes attributes, List&lt;LinkData&gt; parentLinks)</code> and decide whether it is a healtcheck or something other and return either <code>SamplingResult.create(SamplingDecision.DROP);</code> or <code>SamplingResult.create(SamplingDecision.RECORD_AND_SAMPLE);</code> respectively.</p>\n"}],"owner":{"account_id":25183153,"reputation":41,"user_id":19024402,"display_name":"suraj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3872,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1679064053,"creation_date":1663825219,"question_id":73809803,"body_markdown":"I am trying to integrate opentelemetry in spring boot with Automatic instrumentation, it&#39;s generating health check urls. How to exclude specific urls in opentelemetry","title":"How to exclude urls(health check traces) in opentelemetry","body":"<p>I am trying to integrate opentelemetry in spring boot with Automatic instrumentation, it's generating health check urls. How to exclude specific urls in opentelemetry</p>\n"},{"tags":["java","ubuntu","intellij-idea"],"comments":[{"owner":{"account_id":1987554,"reputation":8119,"user_id":1782379,"accept_rate":84,"display_name":"bsiamionau"},"score":0,"creation_date":1412324103,"post_id":26175371,"comment_id":41039429,"body_markdown":"Is there any output in Idea log (you can find it at `~/.IdeaIC13/system/log/idea.log`)?","body":"Is there any output in Idea log (you can find it at <code>~&#47;.IdeaIC13&#47;system&#47;log&#47;idea.log</code>)?"},{"owner":{"account_id":3508570,"reputation":135,"user_id":2933510,"display_name":"ChronoExp"},"score":0,"creation_date":1412324684,"post_id":26175371,"comment_id":41039667,"body_markdown":"@zvdh there is no &quot;log&quot; folder in ~/.IdeaIC13/system","body":"@zvdh there is no &quot;log&quot; folder in ~/.IdeaIC13/system"},{"owner":{"account_id":1987554,"reputation":8119,"user_id":1782379,"accept_rate":84,"display_name":"bsiamionau"},"score":0,"creation_date":1412325562,"post_id":26175371,"comment_id":41040007,"body_markdown":"According to [this article](https://intellij-support.jetbrains.com/entries/23358108) log should be exactly there, otherwise check **idea.log.path** property in `IDEA_home/bin/idea.properties` file to find out if the default log location path is changed.","body":"According to <a href=\"https://intellij-support.jetbrains.com/entries/23358108\" rel=\"nofollow noreferrer\">this article</a> log should be exactly there, otherwise check <b>idea.log.path</b> property in <code>IDEA_home&#47;bin&#47;idea.properties</code> file to find out if the default log location path is changed."},{"owner":{"account_id":3508570,"reputation":135,"user_id":2933510,"display_name":"ChronoExp"},"score":0,"creation_date":1412333672,"post_id":26175371,"comment_id":41043154,"body_markdown":"@zvdh path in properties is just like yours. Anyway, rebooting the system solved the problem. Thanks for your attention :)","body":"@zvdh path in properties is just like yours. Anyway, rebooting the system solved the problem. Thanks for your attention :)"}],"answers":[{"tags":[],"owner":{"account_id":4465323,"reputation":426,"user_id":3633128,"display_name":"Snorky35"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1412325391,"creation_date":1412325391,"answer_id":26175777,"question_id":26175371,"body_markdown":"Check that even if it is installed in a subfolder of your home directory, the owner of **idea-IC-135.1289** is you (recursively).","title":"IntelliJ IDEA doesn&#39;t start on Ubuntu","body":"<p>Check that even if it is installed in a subfolder of your home directory, the owner of <strong>idea-IC-135.1289</strong> is you (recursively).</p>\n"},{"tags":[],"owner":{"account_id":3508570,"reputation":135,"user_id":2933510,"display_name":"ChronoExp"},"comment_count":0,"down_vote_count":3,"up_vote_count":7,"is_accepted":true,"score":4,"last_activity_date":1412333555,"creation_date":1412333555,"answer_id":26177654,"question_id":26175371,"body_markdown":"So, restarting Ubuntu solved the problem. So easy!\r\n\r\np.s. It&#39;s a shame that I just did not try to reboot the system before asking question...","title":"IntelliJ IDEA doesn&#39;t start on Ubuntu","body":"<p>So, restarting Ubuntu solved the problem. So easy!</p>\n\n<p>p.s. It's a shame that I just did not try to reboot the system before asking question...</p>\n"},{"comments":[{"owner":{"account_id":3000070,"reputation":2420,"user_id":2545722,"accept_rate":69,"display_name":"AFP_555"},"score":7,"creation_date":1593571322,"post_id":28638511,"comment_id":110825368,"body_markdown":"This one didn&#39;t work for me. What worked was `sudo killall java`. Then reopen idea.","body":"This one didn&#39;t work for me. What worked was <code>sudo killall java</code>. Then reopen idea."},{"owner":{"account_id":8507257,"reputation":404,"user_id":6378402,"display_name":"xSuperMu"},"score":0,"creation_date":1594293498,"post_id":28638511,"comment_id":111078659,"body_markdown":"@AFP_555 but this solution could probably cause other issues to the system if there exist any other software depending on the JAVA. so this is not the optimal solution.\nMaybe there other solutions to this IntelliJ IDEA software specifically out there.","body":"@AFP_555 but this solution could probably cause other issues to the system if there exist any other software depending on the JAVA. so this is not the optimal solution. Maybe there other solutions to this IntelliJ IDEA software specifically out there."}],"tags":[],"owner":{"account_id":1292103,"reputation":9146,"user_id":1243996,"accept_rate":97,"display_name":"Adam Sznajder"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1424467585,"creation_date":1424467585,"answer_id":28638511,"question_id":26175371,"body_markdown":"IntelliJ (and few other Java programs) sometimes has a problem with window not appearing or being frozen. It took me some time to find this simple solution that might be useful for someone in the future:\r\n\r\n`wmname LG3D`\r\n\r\nIt solved the problem for me.\r\n","title":"IntelliJ IDEA doesn&#39;t start on Ubuntu","body":"<p>IntelliJ (and few other Java programs) sometimes has a problem with window not appearing or being frozen. It took me some time to find this simple solution that might be useful for someone in the future:</p>\n\n<p><code>wmname LG3D</code></p>\n\n<p>It solved the problem for me.</p>\n"},{"comments":[{"owner":{"account_id":10625273,"reputation":69,"user_id":7825085,"display_name":"alexandre marillesse"},"score":0,"creation_date":1686731580,"post_id":44007139,"comment_id":134838043,"body_markdown":"in /snap/intellij-idea-ultimate/430/bin precisely, or /snap/intellij-idea-ultimate/current/bin","body":"in /snap/intellij-idea-ultimate/430/bin precisely, or /snap/intellij-idea-ultimate/current/bin"}],"tags":[],"owner":{"account_id":5179460,"reputation":79,"user_id":4145575,"display_name":"Grigore Chis"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494952942,"creation_date":1494952942,"answer_id":44007139,"question_id":26175371,"body_markdown":"Go to the &lt;idea installation directory&gt;/bin and run ./idea.sh. This should solve your issue, without restarting Ubuntu.\r\n\r\n","title":"IntelliJ IDEA doesn&#39;t start on Ubuntu","body":"<p>Go to the /bin and run ./idea.sh. This should solve your issue, without restarting Ubuntu.</p>\n"},{"comments":[{"owner":{"account_id":74542,"reputation":3561,"user_id":214143,"display_name":"Jason Aller"},"score":0,"creation_date":1597950360,"post_id":63511315,"comment_id":112307626,"body_markdown":"Welcome to Stack Overflow. When adding an answer to a five year old question with an accepted answer it is useful to point out what new aspect of the question your answer addresses. Also formatting commands by surrounding them with backticks makes them more readable than putting them in parentheses.","body":"Welcome to Stack Overflow. When adding an answer to a five year old question with an accepted answer it is useful to point out what new aspect of the question your answer addresses. Also formatting commands by surrounding them with backticks makes them more readable than putting them in parentheses."}],"tags":[],"owner":{"account_id":18620393,"reputation":31,"user_id":13570732,"display_name":"leo"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597961511,"creation_date":1597948681,"answer_id":63511315,"question_id":26175371,"body_markdown":"Find the `pid` by `grep` like \r\n\r\n``` bash\r\nps -aux | grep idea\r\n```\r\n\r\nand kill all the open instances like `sudo kill 12233(pid)` and boom, you are all set to go.","title":"IntelliJ IDEA doesn&#39;t start on Ubuntu","body":"<p>Find the <code>pid</code> by <code>grep</code> like</p>\n<pre class=\"lang-sh prettyprint-override\"><code>ps -aux | grep idea\n</code></pre>\n<p>and kill all the open instances like <code>sudo kill 12233(pid)</code> and boom, you are all set to go.</p>\n"},{"comments":[{"owner":{"account_id":16034321,"reputation":1146,"user_id":11682469,"display_name":"Jeanne Dark"},"score":0,"creation_date":1607327791,"post_id":65177573,"comment_id":115227277,"body_markdown":"Hi! Please take the [tour](https://stackoverflow.com/tour). Thanks for providing an answer but can you also add an explanation on how the command solves the issue?","body":"Hi! Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>. Thanks for providing an answer but can you also add an explanation on how the command solves the issue?"},{"owner":{"account_id":1870746,"reputation":1131,"user_id":1693021,"display_name":"Vadim"},"score":0,"creation_date":1614595609,"post_id":65177573,"comment_id":117423729,"body_markdown":"I&#39;ve got the experiMENTAL version from snap. This is working like a charm. Thanks.","body":"I&#39;ve got the experiMENTAL version from snap. This is working like a charm. Thanks."}],"tags":[],"owner":{"account_id":17390973,"reputation":99,"user_id":12790009,"display_name":"Jaya Sundeep"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1607325993,"creation_date":1607325993,"answer_id":65177573,"question_id":26175371,"body_markdown":"    sudo killall java\r\n\r\nSnap! This worked for me","title":"IntelliJ IDEA doesn&#39;t start on Ubuntu","body":"<pre><code>sudo killall java\n</code></pre>\n<p>Snap! This worked for me</p>\n"},{"comments":[{"owner":{"account_id":16064177,"reputation":139,"user_id":11594312,"display_name":"smootherbug"},"score":0,"creation_date":1686230086,"post_id":75768825,"comment_id":134772650,"body_markdown":"How did you do that?","body":"How did you do that?"}],"tags":[],"owner":{"account_id":28043343,"reputation":11,"user_id":21420544,"display_name":"Bruno Gago"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679063418,"creation_date":1679063418,"answer_id":75768825,"question_id":26175371,"body_markdown":"In my case, I changed the JDK in IntelliJ (By Choose Boot Java Runtime) as JDK 11, however my IntelliJ was setup as JDK 17, thus, I had to access my .config file and JetBrains, where you can find idea.jdk (I just changed from 1.11 to 1.17) and it&#39;s working again. ","title":"IntelliJ IDEA doesn&#39;t start on Ubuntu","body":"<p>In my case, I changed the JDK in IntelliJ (By Choose Boot Java Runtime) as JDK 11, however my IntelliJ was setup as JDK 17, thus, I had to access my .config file and JetBrains, where you can find idea.jdk (I just changed from 1.11 to 1.17) and it's working again.</p>\n"}],"owner":{"account_id":3508570,"reputation":135,"user_id":2933510,"display_name":"ChronoExp"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19871,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":26177654,"answer_count":7,"score":7,"last_activity_date":1679063418,"creation_date":1412323427,"question_id":26175371,"body_markdown":"I have used IDEA for several months, and it was ok until now.\r\n\r\nNow launching IDEA from shortcut has no effect.\r\nI suppose that happened after some updates.\r\n\r\nI tried to reinstall IDEA, but problem is still there.\r\nLaunching idea.sh from Terminal gives similar effect:\r\n\r\n    chronoexp@ChronoExp-PC:~/Programs/idea-IC-135.1289/bin$ ./idea.sh\r\n    Java HotSpot(TM) Server VM warning: ignoring option MaxPermSize=250m; support was removed in 8.0\r\n    chronoexp@ChronoExp-PC:~/Programs/idea-IC-135.1289/bin$ \r\n\r\nNote that message about HotSpot Server is ok. Previously after printing that, IDEA was launched. Now it simply kicks out with no error message.\r\n\r\nMaybe there are some log files, where I can see possible error?\r\n\r\n&gt;Ubuntu 14.04 LTS  \r\nIDEA Version: 13.1.5 Build: 135.1289  \r\njava version &quot;1.8.0_20&quot;  \r\nJava(TM) SE Runtime Environment (build 1.8.0_20-b26)  \r\nJava HotSpot(TM) Server VM (build 25.20-b23, mixed mode)\r\n","title":"IntelliJ IDEA doesn&#39;t start on Ubuntu","body":"<p>I have used IDEA for several months, and it was ok until now.</p>\n\n<p>Now launching IDEA from shortcut has no effect.\nI suppose that happened after some updates.</p>\n\n<p>I tried to reinstall IDEA, but problem is still there.\nLaunching idea.sh from Terminal gives similar effect:</p>\n\n<pre><code>chronoexp@ChronoExp-PC:~/Programs/idea-IC-135.1289/bin$ ./idea.sh\nJava HotSpot(TM) Server VM warning: ignoring option MaxPermSize=250m; support was removed in 8.0\nchronoexp@ChronoExp-PC:~/Programs/idea-IC-135.1289/bin$ \n</code></pre>\n\n<p>Note that message about HotSpot Server is ok. Previously after printing that, IDEA was launched. Now it simply kicks out with no error message.</p>\n\n<p>Maybe there are some log files, where I can see possible error?</p>\n\n<blockquote>\n  <p>Ubuntu 14.04 LTS<br>\n  IDEA Version: 13.1.5 Build: 135.1289<br>\n  java version \"1.8.0_20\"<br>\n  Java(TM) SE Runtime Environment (build 1.8.0_20-b26)<br>\n  Java HotSpot(TM) Server VM (build 25.20-b23, mixed mode)</p>\n</blockquote>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":1841847,"reputation":86,"user_id":1671095,"display_name":"user1671095"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1618568564,"creation_date":1618568564,"answer_id":67123473,"question_id":61453798,"body_markdown":"Invalidating the caches did the trick for me when I could not find usages of methods and variables outside of the currently opened class after upgrading to IntelliJ IDEA 2021.1.\r\n\r\nDepending on which usages can&#39;t be found, you will probably need to check the **Clear file system cache and Local History** option in the **Invalidate Caches** dialogue. After restarting IntelliJ and reopening projects, IntelliJ will rebuild those caches.\r\n\r\nSee the official documentation for information on invalidating caches: https://www.jetbrains.com/help/idea/invalidate-caches.html","title":"IntelliJ IDEA &quot;no usages found in all places&quot; for methods that are used","body":"<p>Invalidating the caches did the trick for me when I could not find usages of methods and variables outside of the currently opened class after upgrading to IntelliJ IDEA 2021.1.</p>\n<p>Depending on which usages can't be found, you will probably need to check the <strong>Clear file system cache and Local History</strong> option in the <strong>Invalidate Caches</strong> dialogue. After restarting IntelliJ and reopening projects, IntelliJ will rebuild those caches.</p>\n<p>See the official documentation for information on invalidating caches: <a href=\"https://www.jetbrains.com/help/idea/invalidate-caches.html\" rel=\"noreferrer\">https://www.jetbrains.com/help/idea/invalidate-caches.html</a></p>\n"},{"tags":[],"owner":{"account_id":16209146,"reputation":29,"user_id":11703638,"display_name":"Andres Carrasquilla"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668801224,"creation_date":1668546229,"answer_id":74452131,"question_id":61453798,"body_markdown":"I wasn&#39;t able to solve the problem with the option **Invalidate Caches**. Instead, it was necessary to uninstall IntelliJ with all files and re-install it.","title":"IntelliJ IDEA &quot;no usages found in all places&quot; for methods that are used","body":"<p>I wasn't able to solve the problem with the option <strong>Invalidate Caches</strong>. Instead, it was necessary to uninstall IntelliJ with all files and re-install it.</p>\n"},{"tags":[],"owner":{"account_id":1180136,"reputation":971,"user_id":1155228,"accept_rate":93,"display_name":"q99"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673891912,"creation_date":1673891912,"answer_id":75137972,"question_id":61453798,"body_markdown":"I had this problem today, deleting the caches did not work. \r\n\r\nThen I deleted the `.idea` folder within the project (it&#39;s hidden) and opened the project again and its working.\r\n\r\nBear in mind that this will delete some of your local project configs (run configurations, selected SDK,...)\r\n\r\nThere is probably no need to delete the whole folder, just a subset...","title":"IntelliJ IDEA &quot;no usages found in all places&quot; for methods that are used","body":"<p>I had this problem today, deleting the caches did not work.</p>\n<p>Then I deleted the <code>.idea</code> folder within the project (it's hidden) and opened the project again and its working.</p>\n<p>Bear in mind that this will delete some of your local project configs (run configurations, selected SDK,...)</p>\n<p>There is probably no need to delete the whole folder, just a subset...</p>\n"},{"tags":[],"owner":{"account_id":5671041,"reputation":365,"user_id":4485646,"accept_rate":40,"display_name":"ufuk"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1679063327,"creation_date":1679063327,"answer_id":75768803,"question_id":61453798,"body_markdown":"This expression is output when you define the variable and do not use it. This statement will be removed if you use the variable with a method.","title":"IntelliJ IDEA &quot;no usages found in all places&quot; for methods that are used","body":"<p>This expression is output when you define the variable and do not use it. This statement will be removed if you use the variable with a method.</p>\n"}],"owner":{"account_id":8070360,"reputation":55,"user_id":6083332,"display_name":"Darko Cvetković"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12845,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":67123473,"answer_count":4,"score":4,"last_activity_date":1679063327,"creation_date":1587973001,"question_id":61453798,"body_markdown":"After IntelliJ IDEA update 2020.1 I cant find usage for some (not all) of the methods that im using. Some are highlighted and I can navigate to the place where I use those, other are not. Suggestions how to fix this ? ","title":"IntelliJ IDEA &quot;no usages found in all places&quot; for methods that are used","body":"<p>After IntelliJ IDEA update 2020.1 I cant find usage for some (not all) of the methods that im using. Some are highlighted and I can navigate to the place where I use those, other are not. Suggestions how to fix this ? </p>\n"},{"tags":["java","android","flutter","android-studio","throttling"],"owner":{"account_id":7838032,"reputation":2366,"user_id":5925291,"accept_rate":84,"display_name":"ArrchanaMohan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679063260,"creation_date":1678952327,"question_id":75753278,"body_markdown":"I have a requirement to perform network shaping on android physical device and I&#39;m building some in-house .apk app to achieve this. The .apk file will be installed on the device and using that .apk file the user can perform network shaping (Download, and upload bandwidth) based on their need.\r\n\r\nI don&#39;t have any source in the google to proceed or experiment this requirement. I can&#39;t use any third part tool (Playstore) to perform this in the corporate network because of the security reason. \r\n\r\nCan someone give me some idea on this?\r\n\r\nTried with chatGPT but its returning class which is not exist in the android.net package:\r\n\r\n    \r\n    import android.net.TrafficStats;\r\n    import android.net.TrafficStatsUid;\r\n    import android.os.Build;\r\n    import android.os.Process;\r\n    import android.net.TrafficShaper;\r\n    import java.io.IOException;\r\n    \r\n    // Define the network parameters\r\n    int networkSpeed = 1024; // in kilobits per second\r\n    int latency = 100; // in milliseconds\r\n    int packetLoss = 10; // percentage of packets to drop\r\n    \r\n    // Set the network parameters using the TrafficShaper API\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n        try {\r\n            TrafficStats.setThreadStatsTag(Process.myTid());\r\n            TrafficStats.setThreadStatsUid(Process.myUid());\r\n            TrafficStatsUid.setApplicationOnUid(Process.myUid(), &quot;com.example.myapp&quot;, true);\r\n            TrafficStats.setGlobalProxy(null); // disable any global proxy\r\n            TrafficShaper shaper = TrafficShaper.create();\r\n            shaper.setInterface(&quot;wlan0&quot;); // set the network interface\r\n            shaper.setDownstreamKbps(networkSpeed);\r\n            shaper.setUpstreamKbps(networkSpeed);\r\n            shaper.setLatency(latency);\r\n            shaper.setPacketLossRate(packetLoss);\r\n            shaper.start();\r\n        } catch (IOException e) {\r\n            // handle the error\r\n        }\r\n    }\r\n\r\nThe above code TrafficShaper class is not available in the android.net package.","title":"How to perform network shaping/throttle on android physical device","body":"<p>I have a requirement to perform network shaping on android physical device and I'm building some in-house .apk app to achieve this. The .apk file will be installed on the device and using that .apk file the user can perform network shaping (Download, and upload bandwidth) based on their need.</p>\n<p>I don't have any source in the google to proceed or experiment this requirement. I can't use any third part tool (Playstore) to perform this in the corporate network because of the security reason.</p>\n<p>Can someone give me some idea on this?</p>\n<p>Tried with chatGPT but its returning class which is not exist in the android.net package:</p>\n<pre><code>import android.net.TrafficStats;\nimport android.net.TrafficStatsUid;\nimport android.os.Build;\nimport android.os.Process;\nimport android.net.TrafficShaper;\nimport java.io.IOException;\n\n// Define the network parameters\nint networkSpeed = 1024; // in kilobits per second\nint latency = 100; // in milliseconds\nint packetLoss = 10; // percentage of packets to drop\n\n// Set the network parameters using the TrafficShaper API\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n    try {\n        TrafficStats.setThreadStatsTag(Process.myTid());\n        TrafficStats.setThreadStatsUid(Process.myUid());\n        TrafficStatsUid.setApplicationOnUid(Process.myUid(), &quot;com.example.myapp&quot;, true);\n        TrafficStats.setGlobalProxy(null); // disable any global proxy\n        TrafficShaper shaper = TrafficShaper.create();\n        shaper.setInterface(&quot;wlan0&quot;); // set the network interface\n        shaper.setDownstreamKbps(networkSpeed);\n        shaper.setUpstreamKbps(networkSpeed);\n        shaper.setLatency(latency);\n        shaper.setPacketLossRate(packetLoss);\n        shaper.start();\n    } catch (IOException e) {\n        // handle the error\n    }\n}\n</code></pre>\n<p>The above code TrafficShaper class is not available in the android.net package.</p>\n"},{"tags":["java","eclipse","birt","rcp"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1679068012,"post_id":75768782,"comment_id":133660133,"body_markdown":"may be you need to use java version 8. But if you are on java version &gt; 8 and &lt; 17 then you can add `--illegal-access=permit` command line option while running the app and for java 17 `&quot;--add-opens=java.base/java.lang=ALL-UNNAMED` ref: https://openjdk.org/jeps/403","body":"may be you need to use java version 8. But if you are on java version &gt; 8 and &lt; 17 then you can add <code>--illegal-access=permit</code> command line option while running the app and for java 17 <code>&quot;--add-opens=java.base&#47;java.lang=ALL-UNNAMED</code> ref: <a href=\"https://openjdk.org/jeps/403\" rel=\"nofollow noreferrer\">openjdk.org/jeps/403</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1679068587,"post_id":75768782,"comment_id":133660269,"body_markdown":"I guess your RCP application needs `--add-exports jdk.unsupported/sun.misc=ALL-UNNAMED`, but better get rid of the use of `sun.misc` at all.","body":"I guess your RCP application needs <code>--add-exports jdk.unsupported&#47;sun.misc=ALL-UNNAMED</code>, but better get rid of the use of <code>sun.misc</code> at all."}],"owner":{"account_id":6642,"reputation":13384,"user_id":11249,"accept_rate":51,"display_name":"paul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679063221,"creation_date":1679063221,"question_id":75768782,"body_markdown":"I am trying to upgrade my RCP app from Java8 to Java11.\r\n\r\nThe app contains BIRT which in turn depends on `com.github.librepdf.openpdf` and imports the package `sun.misc`. This results in `Missing constraint: Import-Package: sun.misc`.\r\n\r\nAs far as I can determine looking at their manifests, each of these bundles (as well as all my bundles) target Java 11 so I cannot understand why the `sun.misc` is imported in the first place.\r\n\r\nI found this fairly recent issue [https://issueantenna.com/repo/LibrePDF/OpenPDF/issues/704](https://issueantenna.com/repo/LibrePDF/OpenPDF/issues/704) but there doesn&#39;t appear to be a solution.\r\n\r\nCan I supply `sun.misc` from elsewhere or is there another solution?\r\n","title":"How to resolve &#39;Missing constraint: Import-Package: sun.misc &#39; on JavaSE-11","body":"<p>I am trying to upgrade my RCP app from Java8 to Java11.</p>\n<p>The app contains BIRT which in turn depends on <code>com.github.librepdf.openpdf</code> and imports the package <code>sun.misc</code>. This results in <code>Missing constraint: Import-Package: sun.misc</code>.</p>\n<p>As far as I can determine looking at their manifests, each of these bundles (as well as all my bundles) target Java 11 so I cannot understand why the <code>sun.misc</code> is imported in the first place.</p>\n<p>I found this fairly recent issue <a href=\"https://issueantenna.com/repo/LibrePDF/OpenPDF/issues/704\" rel=\"nofollow noreferrer\">https://issueantenna.com/repo/LibrePDF/OpenPDF/issues/704</a> but there doesn't appear to be a solution.</p>\n<p>Can I supply <code>sun.misc</code> from elsewhere or is there another solution?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1679061722,"post_id":75768477,"comment_id":133658181,"body_markdown":"Oracle purchased Sun in 2010; why would you expect anything from Sun in the modern JVM?","body":"Oracle purchased Sun in 2010; why would you expect anything from Sun in the modern JVM?"},{"owner":{"account_id":28043021,"reputation":13,"user_id":21420279,"display_name":"Chris1337"},"score":0,"creation_date":1679062054,"post_id":75768477,"comment_id":133658285,"body_markdown":"Sorry, I think I&#39;ve wrote this horribly, JNA is not showing the packages. So from the github what I understand is you import it like this: import com.sun.jna","body":"Sorry, I think I&#39;ve wrote this horribly, JNA is not showing the packages. So from the github what I understand is you import it like this: import com.sun.jna"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1679063685,"post_id":75768477,"comment_id":133658777,"body_markdown":"[**Moved** / **Renamed**](https://mvnrepository.com/artifact/net.java.dev.jna/jna)","body":"<a href=\"https://mvnrepository.com/artifact/net.java.dev.jna/jna\" rel=\"nofollow noreferrer\"><b>Moved</b> / <b>Renamed</b></a>"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679123287,"post_id":75768477,"comment_id":133668014,"body_markdown":"Find it on `https://mvnrepository.com/artifact/net.java.dev.jna/jna/5.13.0`, you can download the jar file (https://repo1.maven.org/maven2/net/java/dev/jna/jna/5.13.0/jna-5.13.0.jar) , `import com.sun.jna.Library;\nimport com.sun.jna.Native;\nimport com.sun.jna.Platform;\n\npublic class Main {`. It can work with JDK 17.","body":"Find it on <code>https:&#47;&#47;mvnrepository.com&#47;artifact&#47;net.java.dev.jna&#47;jna&#47;5.13&zwnj;&#8203;.0</code>, you can download the jar file (<a href=\"https://repo1.maven.org/maven2/net/java/dev/jna/jna/5.13.0/jna-5.13.0.jar\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/net/java/dev/jna/jna/5.13.0/&hellip;</a>) , <code>import com.sun.jna.Library; import com.sun.jna.Native; import com.sun.jna.Platform;  public class Main {</code>. It can work with JDK 17."},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1679295003,"post_id":75768477,"comment_id":133688905,"body_markdown":"&quot;Sorry if I&#39;m being stupid but I am new to relatively to java and eclipse.&quot; - please don&#39;t write such a thing, it&#39;s not relevant to the question and will be considered noise","body":"&quot;Sorry if I&#39;m being stupid but I am new to relatively to java and eclipse.&quot; - please don&#39;t write such a thing, it&#39;s not relevant to the question and will be considered noise"}],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679063218,"creation_date":1679063218,"answer_id":75768781,"question_id":75768477,"body_markdown":"Check your [Type Filters][1]. You usually don&#39;t want to directly reference com.sun packages, so they&#39;re likely in the default set of packages not offered through Content Assist and in other functionality.\r\n\r\n\r\n  [1]: https://help.eclipse.org/latest/topic/org.eclipse.jdt.doc.user/reference/preferences/java/appearance/ref-preferences-type-filters.htm","title":"Eclipse Doesn&#39;t show JNA User Libs","body":"<p>Check your <a href=\"https://help.eclipse.org/latest/topic/org.eclipse.jdt.doc.user/reference/preferences/java/appearance/ref-preferences-type-filters.htm\" rel=\"nofollow noreferrer\">Type Filters</a>. You usually don't want to directly reference com.sun packages, so they're likely in the default set of packages not offered through Content Assist and in other functionality.</p>\n"}],"owner":{"account_id":28043021,"reputation":13,"user_id":21420279,"display_name":"Chris1337"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75768781,"answer_count":1,"score":1,"last_activity_date":1679063218,"creation_date":1679061577,"question_id":75768477,"body_markdown":"JNA is not showing the library paths when importing\r\n\r\nHere is my problem in pictures:[com.sun](https://i.stack.imgur.com/uEiTZ.png)\r\n[com.sun.](https://i.stack.imgur.com/ivZA6.png)\r\n\r\nEssentially when I write com.sun. does it not show a list of classes/packages etc.\r\n\r\nSorry if I&#39;m being stupid but I am new to relatively to java and eclipse.\r\n\r\nEditing .classpath directly.\r\nReadding Libraries.\r\nLooked through project properties but can&#39;t find anything related.","title":"Eclipse Doesn&#39;t show JNA User Libs","body":"<p>JNA is not showing the library paths when importing</p>\n<p>Here is my problem in pictures:<a href=\"https://i.stack.imgur.com/uEiTZ.png\" rel=\"nofollow noreferrer\">com.sun</a>\n<a href=\"https://i.stack.imgur.com/ivZA6.png\" rel=\"nofollow noreferrer\">com.sun.</a></p>\n<p>Essentially when I write com.sun. does it not show a list of classes/packages etc.</p>\n<p>Sorry if I'm being stupid but I am new to relatively to java and eclipse.</p>\n<p>Editing .classpath directly.\nReadding Libraries.\nLooked through project properties but can't find anything related.</p>\n"},{"tags":["java","generics","reflection"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1679063384,"post_id":75768780,"comment_id":133658692,"body_markdown":"You may want to read about [type erasure](https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens)","body":"You may want to read about <a href=\"https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens\">type erasure</a>"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1679063820,"post_id":75768780,"comment_id":133658807,"body_markdown":"See the duplicate. To summarise, you don&#39;t need `Class.forName` or the stream. Just access the array returned by `getActualTypeArgument` directly with `[0]`, and cast that to `Class&lt;?&gt;`.","body":"See the duplicate. To summarise, you don&#39;t need <code>Class.forName</code> or the stream. Just access the array returned by <code>getActualTypeArgument</code> directly with <code>[0]</code>, and cast that to <code>Class&lt;?&gt;</code>."}],"owner":{"account_id":19183815,"reputation":50,"user_id":14015008,"display_name":"GeoMldr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679063677,"answer_count":0,"score":0,"last_activity_date":1679063217,"creation_date":1679063217,"question_id":75768780,"body_markdown":"I am trying to develop an http-library, mainly for getting a clue about how they work. \r\n\r\nI am currently trying to automatically implement interfaces in which the methods look like this: \r\n\r\n    public Response&lt;ExampleObject&gt; getInformationAsExampleObject();\r\n\r\nThe interface is implemented and an InvocationHandler is created for each method. \r\n\r\nHere is the problem: I haven&#39;t found a straightforward way to get the Class&lt;?&gt; for the T of the generic. \r\nIn the example above it would be  ExampleObject.class\r\n\r\nIt would be pretty simple if I was given an initialized object, but instead I am dealing with an unimplemented interface.\r\n\r\nI have resorted to this: \r\n\r\n```\r\nClass.forName(Arrays.stream(((ParameterizedType) method.getGenericReturnType()).getActualTypeArguments()).toList().get(0).getTypeName());\r\n```\r\n\r\nand it feels like there has to be a more straightforward way to achieve the same result. \r\nThe question is how.","title":"Getting the classtype of a generic in an interface","body":"<p>I am trying to develop an http-library, mainly for getting a clue about how they work.</p>\n<p>I am currently trying to automatically implement interfaces in which the methods look like this:</p>\n<pre><code>public Response&lt;ExampleObject&gt; getInformationAsExampleObject();\n</code></pre>\n<p>The interface is implemented and an InvocationHandler is created for each method.</p>\n<p>Here is the problem: I haven't found a straightforward way to get the Class&lt;?&gt; for the T of the generic.\nIn the example above it would be  ExampleObject.class</p>\n<p>It would be pretty simple if I was given an initialized object, but instead I am dealing with an unimplemented interface.</p>\n<p>I have resorted to this:</p>\n<pre><code>Class.forName(Arrays.stream(((ParameterizedType) method.getGenericReturnType()).getActualTypeArguments()).toList().get(0).getTypeName());\n</code></pre>\n<p>and it feels like there has to be a more straightforward way to achieve the same result.\nThe question is how.</p>\n"},{"tags":["java","spring-boot","cart"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1679062631,"post_id":75768641,"comment_id":133658469,"body_markdown":"Edit question to share `Fiction`. Did you override `equals()` and `hashCode()` properly?","body":"Edit question to share <code>Fiction</code>. Did you override <code>equals()</code> and <code>hashCode()</code> properly?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1679062743,"post_id":75768641,"comment_id":133658496,"body_markdown":"What does `items are still there` mean? Does the item not get removed from the `private List &lt;Fiction&gt; fictions` or are you talking about some frontend displaying the items?","body":"What does <code>items are still there</code> mean? Does the item not get removed from the <code>private List &lt;Fiction&gt; fictions</code> or are you talking about some frontend displaying the items?"},{"owner":{"account_id":25749258,"reputation":11,"user_id":20477827,"display_name":"Claudio Nugnes"},"score":0,"creation_date":1679063021,"post_id":75768641,"comment_id":133658594,"body_markdown":"the item not get removed from the list","body":"the item not get removed from the list"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1679063064,"post_id":75768641,"comment_id":133658604,"body_markdown":"BTW your `remove(Fiction fiction)` in a loop removes *all* items equal to `fiction`, but later after the loop you are executing `this.totale = totale - fiction.getPrezzo();` which reduces total price by only *one* `fiction` (even if more would be removed, or even if none was removed). You should update the price each time you remove item in a loop, not after it.","body":"BTW your <code>remove(Fiction fiction)</code> in a loop removes <i>all</i> items equal to <code>fiction</code>, but later after the loop you are executing <code>this.totale = totale - fiction.getPrezzo();</code> which reduces total price by only <i>one</i> <code>fiction</code> (even if more would be removed, or even if none was removed). You should update the price each time you remove item in a loop, not after it."}],"answers":[{"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1679063226,"post_id":75768758,"comment_id":133658651,"body_markdown":"where&#39;s the hashCode? Also, it &#39;s probably better to compare the actual properties of the object, rather than the id","body":"where&#39;s the hashCode? Also, it &#39;s probably better to compare the actual properties of the object, rather than the id"}],"tags":[],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679063100,"creation_date":1679063100,"answer_id":75768758,"question_id":75768641,"body_markdown":"Override the `equals` to get your code working. Refer the following example:\r\n```java\r\n  // Overriding equals() to compare two Fiction objects\r\n  @Override\r\n  public boolean equals(Object o) {\r\n\r\n    // If the object is compared with itself then return true\r\n    if (o == this) {\r\n      return true;\r\n    }\r\n\r\n        /* Check if o is an instance of Fiction or not\r\n          &quot;null instanceof [type]&quot; also returns false */\r\n    if (!(o instanceof Fiction)) {\r\n      return false;\r\n    }\r\n\r\n    // typecast o to Fiction so that we can compare data members\r\n    Fiction c = (Fiction) o;\r\n\r\n    // Compare the data members and return accordingly\r\n    return this.id.equals(c.getId());\r\n  }\r\n```","title":"I can&#39;t remove item from the cart","body":"<p>Override the <code>equals</code> to get your code working. Refer the following example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  // Overriding equals() to compare two Fiction objects\n  @Override\n  public boolean equals(Object o) {\n\n    // If the object is compared with itself then return true\n    if (o == this) {\n      return true;\n    }\n\n        /* Check if o is an instance of Fiction or not\n          &quot;null instanceof [type]&quot; also returns false */\n    if (!(o instanceof Fiction)) {\n      return false;\n    }\n\n    // typecast o to Fiction so that we can compare data members\n    Fiction c = (Fiction) o;\n\n    // Compare the data members and return accordingly\n    return this.id.equals(c.getId());\n  }\n</code></pre>\n"}],"owner":{"account_id":25749258,"reputation":11,"user_id":20477827,"display_name":"Claudio Nugnes"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75768758,"answer_count":1,"score":0,"last_activity_date":1679063100,"creation_date":1679062422,"question_id":75768641,"body_markdown":"Does not remove items from cart.\r\nWhen I hit &quot;delete&quot; the items are still there.\r\nOnly performs the total price calculation. Cart isn&#39;t repository , instead Fiction item is a repositry entity , saved in the database\r\nThanks for your help\r\nThis is my code :\r\n\r\n```\r\n@Component\r\npublic class Cart {\r\n\r\n    private List &lt;Fiction&gt; fictions = new ArrayList&lt;Fiction&gt; ();\r\n    \r\n    private float totale = 0.0f;\r\n        \r\n        public Cart() {\r\n    \tsuper();\r\n    }\r\n    \r\n    \r\n    public void add(Fiction fiction) {\r\n    \t\r\n    \tfictions.add(fiction);\r\n    \tthis.totale = totale + fiction.getPrezzo();\r\n    }\r\n    \r\n    public void remove(Fiction fiction) {\r\n        Iterator&lt;Fiction&gt; iterator = fictions.iterator();\r\n        while(iterator.hasNext()) {\r\n            Fiction item = iterator.next();\r\n            if(item.equals(fiction)) {\r\n                iterator.remove();\r\n                }\r\n        } this.totale = totale - fiction.getPrezzo();\r\n    } \r\n```\r\n\r\ncontroller\r\n\r\n```\r\nDoes not remove items from cart.\r\nWhen I hit &quot;delete&quot; the items are still there.\r\nOnly performs the total price calculation.\r\nThanks for your help\r\nThis is my code :  \r\n\r\n@Controller\r\npublic class CartController {\r\n\r\n    @Autowired\r\n    Cart carrello;\r\n    \r\n    @Autowired\r\n    private FictionRepo fictionRepo;\r\n    \r\n  \r\n    \r\n    @RequestMapping(&quot;/deleteToCart/{id}&quot;)\r\n    public String deleteToCart(@PathVariable(&quot;id&quot;) Long id ) {\r\n    \tFiction fictions = fictionRepo.findById(id).orElseThrow(() -&gt; new IllegalArgumentException(&quot;Fiction non trovata&quot;));\r\n    \tSystem.out.println(&quot; sto per cancellare&quot;);\r\n    \tcarrello.remove(fictions);\r\n    \tSystem.out.println(&quot; ho cancellato&quot;);\r\n    \treturn &quot;redirect:/indexCart&quot;;\r\n    }\r\n\r\n}\r\n```","title":"I can&#39;t remove item from the cart","body":"<p>Does not remove items from cart.\nWhen I hit &quot;delete&quot; the items are still there.\nOnly performs the total price calculation. Cart isn't repository , instead Fiction item is a repositry entity , saved in the database\nThanks for your help\nThis is my code :</p>\n<pre><code>@Component\npublic class Cart {\n\n    private List &lt;Fiction&gt; fictions = new ArrayList&lt;Fiction&gt; ();\n    \n    private float totale = 0.0f;\n        \n        public Cart() {\n        super();\n    }\n    \n    \n    public void add(Fiction fiction) {\n        \n        fictions.add(fiction);\n        this.totale = totale + fiction.getPrezzo();\n    }\n    \n    public void remove(Fiction fiction) {\n        Iterator&lt;Fiction&gt; iterator = fictions.iterator();\n        while(iterator.hasNext()) {\n            Fiction item = iterator.next();\n            if(item.equals(fiction)) {\n                iterator.remove();\n                }\n        } this.totale = totale - fiction.getPrezzo();\n    } \n</code></pre>\n<p>controller</p>\n<pre><code>Does not remove items from cart.\nWhen I hit &quot;delete&quot; the items are still there.\nOnly performs the total price calculation.\nThanks for your help\nThis is my code :  \n\n@Controller\npublic class CartController {\n\n    @Autowired\n    Cart carrello;\n    \n    @Autowired\n    private FictionRepo fictionRepo;\n    \n  \n    \n    @RequestMapping(&quot;/deleteToCart/{id}&quot;)\n    public String deleteToCart(@PathVariable(&quot;id&quot;) Long id ) {\n        Fiction fictions = fictionRepo.findById(id).orElseThrow(() -&gt; new IllegalArgumentException(&quot;Fiction non trovata&quot;));\n        System.out.println(&quot; sto per cancellare&quot;);\n        carrello.remove(fictions);\n        System.out.println(&quot; ho cancellato&quot;);\n        return &quot;redirect:/indexCart&quot;;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","sonarqube","try-with-resources"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1679063248,"post_id":75754097,"comment_id":133658659,"body_markdown":"*&quot;...since the version of java i use doesn&#39;t support try-with-resource&quot;* — Try-with-resources was introduced in Java 7. Are you saying that you are using a Java version lower than 7?","body":"<i>&quot;...since the version of java i use doesn&#39;t support try-with-resource&quot;</i> — Try-with-resources was introduced in Java 7. Are you saying that you are using a Java version lower than 7?"}],"answers":[{"tags":[],"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678958354,"creation_date":1678958354,"answer_id":75754143,"question_id":75754097,"body_markdown":"The `finally` is _in_ the `try` when in reality it has to be outside.\r\n\r\n```java\r\ntry {\r\n  fileInputStream = new FileInputStream(value);\r\n  objIn = new ObjectInputStream(fileInputStream)\r\n} finally {\r\n  try {\r\n    if (fileInputStream != null){\r\n      fileInputStream.close();\r\n    }\r\n    if (objIn != null){\r\n      objIn.close();\r\n    }\r\n  } catch (IOException ignored) {}\r\n}\r\n```\r\nAlthough I&#39;m not sure if SonarQube will understand that you closed it.","title":"sonarqube: Is try-with-resources or close this &quot;ObjectInputStream&quot; in a &quot;finally&quot; clause for this code false positive?","body":"<p>The <code>finally</code> is <em>in</em> the <code>try</code> when in reality it has to be outside.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n  fileInputStream = new FileInputStream(value);\n  objIn = new ObjectInputStream(fileInputStream)\n} finally {\n  try {\n    if (fileInputStream != null){\n      fileInputStream.close();\n    }\n    if (objIn != null){\n      objIn.close();\n    }\n  } catch (IOException ignored) {}\n}\n</code></pre>\n<p>Although I'm not sure if SonarQube will understand that you closed it.</p>\n"},{"comments":[{"owner":{"account_id":28030883,"reputation":3,"user_id":21410079,"display_name":"Billi "},"score":0,"creation_date":1678960227,"post_id":75754277,"comment_id":133635210,"body_markdown":"what&#39;s confusing is the sonar sometimes concludes that resources are closed even though they are implemented in the same fashion as in the question","body":"what&#39;s confusing is the sonar sometimes concludes that resources are closed even though they are implemented in the same fashion as in the question"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678962383,"post_id":75754277,"comment_id":133635856,"body_markdown":"@Billi: it&#39;s definitely possible that sonar is just wrong about it for some reason, but I would very closely inspect the differences between the cases  where it does and it doesn&#39;t complain. I very much doubt that it&#39;s **exactly** the same code (checked by the same sonar configuration).","body":"@Billi: it&#39;s definitely possible that sonar is just wrong about it for some reason, but I would very closely inspect the differences between the cases  where it does and it doesn&#39;t complain. I very much doubt that it&#39;s <b>exactly</b> the same code (checked by the same sonar configuration)."},{"owner":{"account_id":2195430,"reputation":10993,"user_id":1941241,"display_name":"rickdenhaan"},"score":0,"creation_date":1678966040,"post_id":75754277,"comment_id":133636969,"body_markdown":"@Billi By the way, I just thought of something. Since `objIn` uses `fileInputStream`, you should probably close `objIn` _first_.","body":"@Billi By the way, I just thought of something. Since <code>objIn</code> uses <code>fileInputStream</code>, you should probably close <code>objIn</code> <i>first</i>."},{"owner":{"account_id":28030883,"reputation":3,"user_id":21410079,"display_name":"Billi "},"score":0,"creation_date":1679063012,"post_id":75754277,"comment_id":133658587,"body_markdown":"@rickdenhaan would the order matter since the finally block will be executed only after try is executed","body":"@rickdenhaan would the order matter since the finally block will be executed only after try is executed"},{"owner":{"account_id":2195430,"reputation":10993,"user_id":1941241,"display_name":"rickdenhaan"},"score":0,"creation_date":1679064640,"post_id":75754277,"comment_id":133659083,"body_markdown":"@Billi *Hypothetically*, depending on the exact implementations in the InputStreams, there could *theoretically* be a case of: `fileInputStream.close()` -&gt; `IOException` because the stream is in use by `objIn` but that exception is ignored -&gt; `objIn.close()` -&gt; no exception, `fileInputStream` is now no longer in use but it will also not be closed since `fileInputStream.close()` will not be executed again. It is more likely that the *actual* process will be the other way around: `fileInputStream.close()` -&gt; fine -&gt; `objIn.close()` -&gt; `IOException` because `fileInputStream` is already closed.","body":"@Billi <i>Hypothetically</i>, depending on the exact implementations in the InputStreams, there could <i>theoretically</i> be a case of: <code>fileInputStream.close()</code> -&gt; <code>IOException</code> because the stream is in use by <code>objIn</code> but that exception is ignored -&gt; <code>objIn.close()</code> -&gt; no exception, <code>fileInputStream</code> is now no longer in use but it will also not be closed since <code>fileInputStream.close()</code> will not be executed again. It is more likely that the <i>actual</i> process will be the other way around: <code>fileInputStream.close()</code> -&gt; fine -&gt; <code>objIn.close()</code> -&gt; <code>IOException</code> because <code>fileInputStream</code> is already closed."}],"tags":[],"owner":{"account_id":2195430,"reputation":10993,"user_id":1941241,"display_name":"rickdenhaan"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678959066,"creation_date":1678959066,"answer_id":75754277,"question_id":75754097,"body_markdown":"It is not a false positive.\r\n\r\nIf `fileInputStream.close()` throws an exception, `objIn.close()` will not be called and the `ObjectInputStream` will not be closed.\r\n\r\nYou should separate the two `close` calls to make sure both streams are closed:\r\n\r\n```\r\nfinally {\r\n    try {\r\n        if (fileInputStream != null) {\r\n            fileInputStream.close();\r\n        }\r\n    } catch (IOException ignored) {}\r\n\r\n    try {\r\n        if (objIn != null) {\r\n            objIn.close();\r\n        }\r\n    } catch (IOException ignored) {}\r\n}\r\n```","title":"sonarqube: Is try-with-resources or close this &quot;ObjectInputStream&quot; in a &quot;finally&quot; clause for this code false positive?","body":"<p>It is not a false positive.</p>\n<p>If <code>fileInputStream.close()</code> throws an exception, <code>objIn.close()</code> will not be called and the <code>ObjectInputStream</code> will not be closed.</p>\n<p>You should separate the two <code>close</code> calls to make sure both streams are closed:</p>\n<pre><code>finally {\n    try {\n        if (fileInputStream != null) {\n            fileInputStream.close();\n        }\n    } catch (IOException ignored) {}\n\n    try {\n        if (objIn != null) {\n            objIn.close();\n        }\n    } catch (IOException ignored) {}\n}\n</code></pre>\n"}],"owner":{"account_id":28030883,"reputation":3,"user_id":21410079,"display_name":"Billi "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75754277,"answer_count":2,"score":0,"last_activity_date":1679062832,"creation_date":1678958143,"question_id":75754097,"body_markdown":"For the below java code though resource is closed in a finally block sonar is reporting:Use try-with-resources or close this “ObjectInputStream” in a “finally” clause.\r\n```java\r\nFileInputStream fileInputStream = null;\r\nObjectInputStream objIn = null;\r\ntry {\r\n    fileInputStream = new FileInputStream(value);\r\n    objIn = new ObjectInputStream(fileInputStream)\r\n}\r\nfinally {\r\n        try \r\n            {\r\n            if (fileInputStream != null) {\r\n                fileInputStream.close();\r\n            }\r\n            if (objIn != null) {\r\n                objIn.close();\r\n            }\r\n        } catch (IOException e) {}\r\n    }\r\n\r\n```\r\n\r\n\r\nSonar doesn&#39;t report above issue   when  try-with-resources is used , since the version of java i use doesn&#39;t support  try-with-resource i had to go with closing resource in a finally block.","title":"sonarqube: Is try-with-resources or close this &quot;ObjectInputStream&quot; in a &quot;finally&quot; clause for this code false positive?","body":"<p>For the below java code though resource is closed in a finally block sonar is reporting:Use try-with-resources or close this “ObjectInputStream” in a “finally” clause.</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileInputStream fileInputStream = null;\nObjectInputStream objIn = null;\ntry {\n    fileInputStream = new FileInputStream(value);\n    objIn = new ObjectInputStream(fileInputStream)\n}\nfinally {\n        try \n            {\n            if (fileInputStream != null) {\n                fileInputStream.close();\n            }\n            if (objIn != null) {\n                objIn.close();\n            }\n        } catch (IOException e) {}\n    }\n\n</code></pre>\n<p>Sonar doesn't report above issue   when  try-with-resources is used , since the version of java i use doesn't support  try-with-resource i had to go with closing resource in a finally block.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9658,"page":567,"page_size":100}
