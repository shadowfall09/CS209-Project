{"items":[{"tags":["java","apache-commons","apache-stringutils"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679063481,"post_id":75768021,"comment_id":133658719,"body_markdown":"Of course, you don&#39;t need a third party library to do that: `String s = stringList.stream().collect(Collectors.joining(&quot;@&quot;));`","body":"Of course, you don&#39;t need a third party library to do that: <code>String s = stringList.stream().collect(Collectors.joining(&quot;@&quot;));</code>"}],"answers":[{"tags":[],"owner":{"account_id":2075471,"reputation":145,"user_id":1848952,"accept_rate":0,"display_name":"Ankit Wasankar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679060844,"creation_date":1679060844,"answer_id":75768361,"question_id":75768021,"body_markdown":"You are using wrong order of arguments. \r\nYou will need to pass the array as a first argument and delimiter as the second argument.\r\n\r\nSome sample examples outputs are like this:\r\n``` #java\r\nStringUtils.join(null, *)                = null\r\nStringUtils.join([], *)                  = &quot;&quot;\r\nStringUtils.join([null], *)              = &quot;&quot;\r\nStringUtils.join([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], &quot;--&quot;)  = &quot;a--b--c&quot;\r\nStringUtils.join([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], null)  = &quot;abc&quot;\r\nStringUtils.join([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], &quot;&quot;)    = &quot;abc&quot;\r\nStringUtils.join([null, &quot;&quot;, &quot;a&quot;], &#39;,&#39;)   = &quot;,,a&quot;\r\n```\r\n\r\nThe definition of join method is:\r\n\r\n``` #java\r\npublic static String join(final Object[] array, final String delimiter) {\r\n\tif (array == null) {\r\n\t\treturn null;\r\n\t}\r\n\treturn join(array, delimiter, 0, array.length);\r\n}\r\n```","title":"Apache Commons StringUtils.join creating strange square brackets, commas and whitespacing in output","body":"<p>You are using wrong order of arguments.\nYou will need to pass the array as a first argument and delimiter as the second argument.</p>\n<p>Some sample examples outputs are like this:</p>\n<pre><code>StringUtils.join(null, *)                = null\nStringUtils.join([], *)                  = &quot;&quot;\nStringUtils.join([null], *)              = &quot;&quot;\nStringUtils.join([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], &quot;--&quot;)  = &quot;a--b--c&quot;\nStringUtils.join([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], null)  = &quot;abc&quot;\nStringUtils.join([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], &quot;&quot;)    = &quot;abc&quot;\nStringUtils.join([null, &quot;&quot;, &quot;a&quot;], ',')   = &quot;,,a&quot;\n</code></pre>\n<p>The definition of join method is:</p>\n<pre><code>public static String join(final Object[] array, final String delimiter) {\n    if (array == null) {\n        return null;\n    }\n    return join(array, delimiter, 0, array.length);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14866488,"reputation":26,"user_id":10735435,"display_name":"Raph"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679061610,"creation_date":1679061520,"answer_id":75768465,"question_id":75768021,"body_markdown":"The method itself works, you just need to put in the array first, then the delimiter. In the [documentation][1] there is an example, and when I just tried it it worked.\r\n\r\nThe following code outputs `Hello@World`, I just switched the parameters.\r\n```java\r\n    String[] inputList = new String[] { &quot;Hello&quot;, &quot;World&quot; };\r\n    String joined = StringUtils.join(inputList, &quot;@&quot;);\r\n    System.out.println(joined);\r\n```\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#join-java.lang.Object:A-char-","title":"Apache Commons StringUtils.join creating strange square brackets, commas and whitespacing in output","body":"<p>The method itself works, you just need to put in the array first, then the delimiter. In the <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#join-java.lang.Object:A-char-\" rel=\"nofollow noreferrer\">documentation</a> there is an example, and when I just tried it it worked.</p>\n<p>The following code outputs <code>Hello@World</code>, I just switched the parameters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String[] inputList = new String[] { &quot;Hello&quot;, &quot;World&quot; };\n    String joined = StringUtils.join(inputList, &quot;@&quot;);\n    System.out.println(joined);\n</code></pre>\n"}],"owner":{"account_id":21956436,"reputation":178,"user_id":16234929,"display_name":"simplezarg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":709,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75768465,"answer_count":2,"score":0,"last_activity_date":1679061610,"creation_date":1679058889,"question_id":75768021,"body_markdown":"Java 11 here. I am trying to use `org.apache.commons.lang3.StringUtils.join` to take a list of strings and join/concatenate them into a single string, separated by an `@` sign. If there is only one (1) string in the list, then the joins/concatenated output should be that same string, no delimiter. Hence:\r\n\r\n- If inputList string is `[ &quot;Hello&quot;, &quot;World&quot; ]`, output should be `&quot;Hello@World&quot;`\r\n- If inputList string is `[ &quot;Hello&quot; ]`, output should be `&quot;Hello&quot;`\r\n\r\nMy best attempt thus far is:\r\n```\r\nString output = StringUtils.join(&quot;@&quot;, inputList);\r\n```\r\n\r\nBut for an `inputList` of `[ &quot;Hello&quot;, &quot;World&quot; ]` this gives me output of:\r\n```\r\n@[Hello, World]\r\n```\r\n\r\nAnd for an `inputList` of `[ &quot;Hello&quot; ]`, this gives me output of:\r\n```\r\n@[Hello]\r\n```\r\n\r\nCan anyone spot where I&#39;m going awry?","title":"Apache Commons StringUtils.join creating strange square brackets, commas and whitespacing in output","body":"<p>Java 11 here. I am trying to use <code>org.apache.commons.lang3.StringUtils.join</code> to take a list of strings and join/concatenate them into a single string, separated by an <code>@</code> sign. If there is only one (1) string in the list, then the joins/concatenated output should be that same string, no delimiter. Hence:</p>\n<ul>\n<li>If inputList string is <code>[ &quot;Hello&quot;, &quot;World&quot; ]</code>, output should be <code>&quot;Hello@World&quot;</code></li>\n<li>If inputList string is <code>[ &quot;Hello&quot; ]</code>, output should be <code>&quot;Hello&quot;</code></li>\n</ul>\n<p>My best attempt thus far is:</p>\n<pre><code>String output = StringUtils.join(&quot;@&quot;, inputList);\n</code></pre>\n<p>But for an <code>inputList</code> of <code>[ &quot;Hello&quot;, &quot;World&quot; ]</code> this gives me output of:</p>\n<pre><code>@[Hello, World]\n</code></pre>\n<p>And for an <code>inputList</code> of <code>[ &quot;Hello&quot; ]</code>, this gives me output of:</p>\n<pre><code>@[Hello]\n</code></pre>\n<p>Can anyone spot where I'm going awry?</p>\n"},{"tags":["java","export-to-csv","printwriter"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679050251,"post_id":75766576,"comment_id":133655324,"body_markdown":"*String escapedData = data.replaceAll(&quot;\\\\R&quot;, &quot; &quot;);* Why are you collapsing all the lines into *one* line?","body":"<i>String escapedData = data.replaceAll(&quot;\\\\R&quot;, &quot; &quot;);</i> Why are you collapsing all the lines into <i>one</i> line?"},{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1679050891,"post_id":75766576,"comment_id":133655472,"body_markdown":"what does the file  look like when opened in a text editor like vim or possibly notepad?","body":"what does the file  look like when opened in a text editor like vim or possibly notepad?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679051011,"post_id":75766576,"comment_id":133655494,"body_markdown":"I don&#39;t use Excel proper, but you might need to tell it that it&#39;s UTF-8","body":"I don&#39;t use Excel proper, but you might need to tell it that it&#39;s UTF-8"},{"owner":{"account_id":10286890,"reputation":3,"user_id":7589869,"display_name":"Alex "},"score":0,"creation_date":1679051690,"post_id":75766576,"comment_id":133655643,"body_markdown":"@SIMULATAN I added links to some screenshots","body":"@SIMULATAN I added links to some screenshots"},{"owner":{"account_id":10286890,"reputation":3,"user_id":7589869,"display_name":"Alex "},"score":0,"creation_date":1679052088,"post_id":75766576,"comment_id":133655728,"body_markdown":"@g00se oops, I was supposed to delete that","body":"@g00se oops, I was supposed to delete that"}],"answers":[{"tags":[],"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679052385,"creation_date":1679052385,"answer_id":75767053,"question_id":75766576,"body_markdown":"In the notepad++ screenshot you attached, the lines look completely fine and, in fact, have a comma separating the fields. Also, google sheets seems to work just fine as well. Therefore, it&#39;s most likely an issue with excel.\r\n\r\nAs pointed out by g00se in the comments, it looks like you have to specify the encoding.","title":"Words not separeted by commas when writing to CSV","body":"<p>In the notepad++ screenshot you attached, the lines look completely fine and, in fact, have a comma separating the fields. Also, google sheets seems to work just fine as well. Therefore, it's most likely an issue with excel.</p>\n<p>As pointed out by g00se in the comments, it looks like you have to specify the encoding.</p>\n"}],"owner":{"account_id":10286890,"reputation":3,"user_id":7589869,"display_name":"Alex "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679061062,"creation_date":1679049299,"question_id":75766576,"body_markdown":"Code successfully writes to CSV but writes every line in one cell.\r\n\r\nFor example: \r\n```csv\r\nhămăit, hămăit, SUBST, 98226, 98226, null, ron, n\r\nhămăit, hămăit, SUBST, 2, 98226, nom-sg, ron, n\r\n```\r\nThe example above is divided correctly into lines, but each line is just one cell, not separated by commas.\r\n\r\nThis is how the text looks before being written to the csv: \r\n\r\n```csv\r\n[hămăit, hămăit, SUBST, 98226, 98226, null, ron, {{n}}, hămăit, hămăit, SUBST, 2, 98226, nom-sg, ron, {{n}}, ...\r\n```\r\n\r\nBelow is my code.\r\n```\r\npublic String escapeSpecialCharacters(String data) {\r\n   String escapedData = data.replaceAll(&quot;\\\\R&quot;, &quot; &quot;);\r\n   escapedData = escapedData.replaceAll(&quot;\\\\{&quot;, &quot;&quot;);\r\n   escapedData = escapedData.replaceAll(&quot;}&quot;, &quot;&quot;);\r\n   return escapedData;\r\n}\r\n\r\npublic String convertToCSV(WordDictObj data) {\r\n   String[] strings = data.returnStringArray();\r\n   return Stream.of(strings)\r\n      .map(this::escapeSpecialCharacters)\r\n      .collect(Collectors.joining(&quot;,&quot;));\r\n}\r\n\r\npublic void givenDataArray_whenConvertToCSV_thenOutputCreated() throws IOException {\r\n   OutputStream csvOutputFile = new FileOutputStream(&quot;parseOutPut.csv&quot;);\r\n   try (PrintWriter pw = (new PrintWriter(csvOutputFile, true, StandardCharsets.UTF_8))) {\r\n      dataLines.stream()\r\n         .map(this::convertToCSV)\r\n         .forEach(pw::println);\r\n\r\n   }\r\n}\r\n\r\n```\r\n\r\nI checked and it works fine both in google sheets and when viewed inside my IDE as a CSV (and I select comma as value separator). Apparently it&#39;s just in excel that it&#39;s not working. Also in excel it doesn&#39;t display special characters.\r\n\r\nHow it looks in google sheet:\r\n![google sheet](https://i.stack.imgur.com/b5x5P.png)\r\n\r\nHow it looks in notepad++:\r\n![notepad](https://i.stack.imgur.com/5J8Kc.png)\r\n\r\nHow it looks in excel:\r\n![excel](https://i.stack.imgur.com/9mVS6.jpg)\r\n\r\n","title":"Words not separeted by commas when writing to CSV","body":"<p>Code successfully writes to CSV but writes every line in one cell.</p>\n<p>For example:</p>\n<pre><code>hămăit, hămăit, SUBST, 98226, 98226, null, ron, n\nhămăit, hămăit, SUBST, 2, 98226, nom-sg, ron, n\n</code></pre>\n<p>The example above is divided correctly into lines, but each line is just one cell, not separated by commas.</p>\n<p>This is how the text looks before being written to the csv:</p>\n<pre><code>[hămăit, hămăit, SUBST, 98226, 98226, null, ron, {{n}}, hămăit, hămăit, SUBST, 2, 98226, nom-sg, ron, {{n}}, ...\n</code></pre>\n<p>Below is my code.</p>\n<pre><code>public String escapeSpecialCharacters(String data) {\n   String escapedData = data.replaceAll(&quot;\\\\R&quot;, &quot; &quot;);\n   escapedData = escapedData.replaceAll(&quot;\\\\{&quot;, &quot;&quot;);\n   escapedData = escapedData.replaceAll(&quot;}&quot;, &quot;&quot;);\n   return escapedData;\n}\n\npublic String convertToCSV(WordDictObj data) {\n   String[] strings = data.returnStringArray();\n   return Stream.of(strings)\n      .map(this::escapeSpecialCharacters)\n      .collect(Collectors.joining(&quot;,&quot;));\n}\n\npublic void givenDataArray_whenConvertToCSV_thenOutputCreated() throws IOException {\n   OutputStream csvOutputFile = new FileOutputStream(&quot;parseOutPut.csv&quot;);\n   try (PrintWriter pw = (new PrintWriter(csvOutputFile, true, StandardCharsets.UTF_8))) {\n      dataLines.stream()\n         .map(this::convertToCSV)\n         .forEach(pw::println);\n\n   }\n}\n\n</code></pre>\n<p>I checked and it works fine both in google sheets and when viewed inside my IDE as a CSV (and I select comma as value separator). Apparently it's just in excel that it's not working. Also in excel it doesn't display special characters.</p>\n<p>How it looks in google sheet:\n<img src=\"https://i.stack.imgur.com/b5x5P.png\" alt=\"google sheet\" /></p>\n<p>How it looks in notepad++:\n<img src=\"https://i.stack.imgur.com/5J8Kc.png\" alt=\"notepad\" /></p>\n<p>How it looks in excel:\n<img src=\"https://i.stack.imgur.com/9mVS6.jpg\" alt=\"excel\" /></p>\n"},{"tags":["java","apache-camel","integration-patterns"],"comments":[{"owner":{"account_id":1504315,"reputation":4786,"user_id":1408085,"accept_rate":73,"display_name":"techuser soma"},"score":1,"creation_date":1364351163,"post_id":15650037,"comment_id":22209827,"body_markdown":"There is no need to implement the Bean endpoint to define a pipe with beans. There are examples [here](http://camel.apache.org/bean.html). Let me know if you are looking for something else.","body":"There is no need to implement the Bean endpoint to define a pipe with beans. There are examples <a href=\"http://camel.apache.org/bean.html\" rel=\"nofollow noreferrer\">here</a>. Let me know if you are looking for something else."}],"answers":[{"tags":[],"owner":{"account_id":2440518,"reputation":381,"user_id":2129185,"display_name":"U2one"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364361156,"creation_date":1364361156,"answer_id":15652325,"question_id":15650037,"body_markdown":"First of all, although I get where you&#39;re coming from when you say &quot;camel implements filters as endpoints&quot;, I wouldn&#39;t strictly classify them as endpoints. More like message transformer/translators in my opinion.\r\n\r\nSo, in case you need to implement a custom filter as per your requirement, use the [processor interface][1].\r\n\r\nBasically, write a class(say, CustomProcessor) that implements Camel&#39;s Processor and write your custom filter strategy. Then, call it in your route as to(&quot;CustomProcessor&quot;).\r\n\r\nThe Processor page will surely clear all your concerns, so please have a look.\r\n\r\nAlso I assume you&#39;re aware of the [camel message-filter pattern][2].\r\n\r\nThank you.\r\n\r\n  [1]: http://camel.apache.org/processor.html\r\n  [2]: http://camel.apache.org/message-filter.html","title":"How to build pipes-and-filters eip pattern with apache-camel","body":"<p>First of all, although I get where you're coming from when you say \"camel implements filters as endpoints\", I wouldn't strictly classify them as endpoints. More like message transformer/translators in my opinion.</p>\n\n<p>So, in case you need to implement a custom filter as per your requirement, use the <a href=\"http://camel.apache.org/processor.html\" rel=\"nofollow\">processor interface</a>.</p>\n\n<p>Basically, write a class(say, CustomProcessor) that implements Camel's Processor and write your custom filter strategy. Then, call it in your route as to(\"CustomProcessor\").</p>\n\n<p>The Processor page will surely clear all your concerns, so please have a look.</p>\n\n<p>Also I assume you're aware of the <a href=\"http://camel.apache.org/message-filter.html\" rel=\"nofollow\">camel message-filter pattern</a>.</p>\n\n<p>Thank you.</p>\n"},{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679061046,"creation_date":1364384893,"answer_id":15658056,"question_id":15650037,"body_markdown":"The Camel EIPs is listed here, and they all have examples and whatnot\r\nhttp://camel.apache.org/eip\r\n\r\nSo for the pipes and filters you can find it on that link and see some examples\r\nhttps://camel.apache.org/components/3.20.x/eips/pipeline-eip.html\r\n\r\nAnd it seems you are new to Camel. Then I suggest to read this intro article to get your heads around Camel: http://java.dzone.com/articles/open-source-integration-apache","title":"How to build pipes-and-filters eip pattern with apache-camel","body":"<p>The Camel EIPs is listed here, and they all have examples and whatnot\n<a href=\"http://camel.apache.org/eip\" rel=\"nofollow noreferrer\">http://camel.apache.org/eip</a></p>\n<p>So for the pipes and filters you can find it on that link and see some examples\n<a href=\"https://camel.apache.org/components/3.20.x/eips/pipeline-eip.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.20.x/eips/pipeline-eip.html</a></p>\n<p>And it seems you are new to Camel. Then I suggest to read this intro article to get your heads around Camel: <a href=\"http://java.dzone.com/articles/open-source-integration-apache\" rel=\"nofollow noreferrer\">http://java.dzone.com/articles/open-source-integration-apache</a></p>\n"}],"owner":{"account_id":21332,"reputation":5311,"user_id":51754,"accept_rate":76,"display_name":"Bob Rivers"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679061046,"creation_date":1364344800,"question_id":15650037,"body_markdown":"I&#39;m trying to do a PoC in order to implement the [pipes and filters eip pattern][1] with [Apache Camel][2].\r\n\r\nFrom [Camel documentation][3], I&#39;m assuming that each filter must be implemented as an [Endpoint][4] (&quot;With Camel you can split your processing across multiple independent Endpoint instances which can then be chained together.&quot;)\r\n\r\nSo, if I understood correctly, the Authenticate filter (from the example) must implement the [Endpoint interface][5].\r\n\r\nThe &quot;problem&quot; is that I don&#39;t want to &quot;re-invent the wheel&quot;. So instead of implementing the interface from the scratch, I&#39;m almost sure that I can use an already implemented one. And the one is the [BeanEndpoint][6].\r\n\r\nIs that right?\r\n\r\nI found a few examples of pipes and filters patterns ([like this one][7]) but none of then show how to implement the beans.\r\n\r\nCan someone provide a bean implementation example?\r\n\r\nTIA,\r\n\r\nBob\r\n\r\n\r\n  [1]: http://www.eaipatterns.com/PipesAndFilters.html\r\n  [2]: http://camel.apache.org/\r\n  [3]: http://camel.apache.org/pipes-and-filters.html\r\n  [4]: http://camel.apache.org/endpoint.html\r\n  [5]: http://camel.apache.org/maven/current/camel-core/apidocs/org/apache/camel/Endpoint.html\r\n  [6]: http://camel.apache.org/maven/current/camel-core/apidocs/org/apache/camel/component/bean/BeanEndpoint.html\r\n  [7]: http://camel.apache.org/walk-through-another-example.html","title":"How to build pipes-and-filters eip pattern with apache-camel","body":"<p>I'm trying to do a PoC in order to implement the <a href=\"http://www.eaipatterns.com/PipesAndFilters.html\" rel=\"nofollow\">pipes and filters eip pattern</a> with <a href=\"http://camel.apache.org/\" rel=\"nofollow\">Apache Camel</a>.</p>\n\n<p>From <a href=\"http://camel.apache.org/pipes-and-filters.html\" rel=\"nofollow\">Camel documentation</a>, I'm assuming that each filter must be implemented as an <a href=\"http://camel.apache.org/endpoint.html\" rel=\"nofollow\">Endpoint</a> (\"With Camel you can split your processing across multiple independent Endpoint instances which can then be chained together.\")</p>\n\n<p>So, if I understood correctly, the Authenticate filter (from the example) must implement the <a href=\"http://camel.apache.org/maven/current/camel-core/apidocs/org/apache/camel/Endpoint.html\" rel=\"nofollow\">Endpoint interface</a>.</p>\n\n<p>The \"problem\" is that I don't want to \"re-invent the wheel\". So instead of implementing the interface from the scratch, I'm almost sure that I can use an already implemented one. And the one is the <a href=\"http://camel.apache.org/maven/current/camel-core/apidocs/org/apache/camel/component/bean/BeanEndpoint.html\" rel=\"nofollow\">BeanEndpoint</a>.</p>\n\n<p>Is that right?</p>\n\n<p>I found a few examples of pipes and filters patterns (<a href=\"http://camel.apache.org/walk-through-another-example.html\" rel=\"nofollow\">like this one</a>) but none of then show how to implement the beans.</p>\n\n<p>Can someone provide a bean implementation example?</p>\n\n<p>TIA,</p>\n\n<p>Bob</p>\n"},{"tags":["java","selenium-webdriver","events"],"comments":[{"owner":{"account_id":6141378,"reputation":351,"user_id":4788703,"accept_rate":67,"display_name":"cwittah"},"score":1,"creation_date":1677595575,"post_id":75593356,"comment_id":133366499,"body_markdown":"Are you closing the window manually? Try to add a close() to the end (and sleep for a bit instead of lock).","body":"Are you closing the window manually? Try to add a close() to the end (and sleep for a bit instead of lock)."},{"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":1,"creation_date":1677596080,"post_id":75593356,"comment_id":133366684,"body_markdown":"@cwittah yes, I am closing it manually. Using `WebDriver#close` *does* notify the event listener, but I&#39;m looking to be notified when the browser is manually closed. I will update my question to be more clear.","body":"@cwittah yes, I am closing it manually. Using <code>WebDriver#close</code> <i>does</i> notify the event listener, but I&#39;m looking to be notified when the browser is manually closed. I will update my question to be more clear."},{"owner":{"account_id":6141378,"reputation":351,"user_id":4788703,"accept_rate":67,"display_name":"cwittah"},"score":1,"creation_date":1677596203,"post_id":75593356,"comment_id":133366734,"body_markdown":"Have you tried catching the exception? An exception should be thrown when closing the window manually. See: https://stackoverflow.com/questions/31048777/get-browser-closing-event-in-selenium-web-browser","body":"Have you tried catching the exception? An exception should be thrown when closing the window manually. See: <a href=\"https://stackoverflow.com/questions/31048777/get-browser-closing-event-in-selenium-web-browser\" title=\"get browser closing event in selenium web browser\">stackoverflow.com/questions/31048777/&hellip;</a>"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1677606539,"post_id":75593356,"comment_id":133369976,"body_markdown":"@cwittah That answer really isn&#39;t very good. It&#39;s catching ALL exceptions, not just the one caused when a window is closed. ElementNotFoundException? Fire up a new browser. TimeoutException? Fire up a new browser. You get the idea...","body":"@cwittah That answer really isn&#39;t very good. It&#39;s catching ALL exceptions, not just the one caused when a window is closed. ElementNotFoundException? Fire up a new browser. TimeoutException? Fire up a new browser. You get the idea..."}],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677602094,"creation_date":1677602094,"answer_id":75594852,"question_id":75593356,"body_markdown":"Using try-catch, something like below:\r\n\r\n````\r\ndriver.get(&quot;https://www.google.com&quot;);\r\n\t\t\r\ntry {\r\n\t   System.out.println(&quot;Browser is open : &quot; + driver.getWindowHandle());\r\n    }  catch(Exception e) {\r\n\t   System.out.println(&quot;Browser is closed&quot;);\r\n\t}\r\nThread.sleep(5000);\r\n// closed the browser manually at this stage\r\n\r\ntry {\r\n\t   System.out.println(&quot;Browser is open :&quot; + driver.getWindowHandle());\r\n\t}  catch(Exception e) {\r\n       System.out.println(&quot;Browser is closed&quot;);\r\n\t}\r\n````\r\n\r\nConsole output:\r\n\r\n````\r\nBrowser is open : CDwindow-540829C626B281B2E3F66CA5F7E169D4\r\nBrowser is closed\r\n````","title":"Can I detect when the browser is manually closed in Selenium WebDriver?","body":"<p>Using try-catch, something like below:</p>\n<pre><code>driver.get(&quot;https://www.google.com&quot;);\n        \ntry {\n       System.out.println(&quot;Browser is open : &quot; + driver.getWindowHandle());\n    }  catch(Exception e) {\n       System.out.println(&quot;Browser is closed&quot;);\n    }\nThread.sleep(5000);\n// closed the browser manually at this stage\n\ntry {\n       System.out.println(&quot;Browser is open :&quot; + driver.getWindowHandle());\n    }  catch(Exception e) {\n       System.out.println(&quot;Browser is closed&quot;);\n    }\n</code></pre>\n<p>Console output:</p>\n<pre><code>Browser is open : CDwindow-540829C626B281B2E3F66CA5F7E169D4\nBrowser is closed\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679056405,"creation_date":1679056405,"answer_id":75767639,"question_id":75593356,"body_markdown":"You can use a method like below , when a browser is killed unexpectedly then UnreachableBrowserException exception is thrown\r\n\r\n    public boolean isBrowserClosed(WebDriver driver)\r\n    {\r\n        boolean isClosed = false;\r\n        try {\r\n            driver.getTitle();\r\n        } catch(UnreachableBrowserException e) {\r\n            isClosed = true;\r\n        }\r\n    \r\n        return isClosed;\r\n    }","title":"Can I detect when the browser is manually closed in Selenium WebDriver?","body":"<p>You can use a method like below , when a browser is killed unexpectedly then UnreachableBrowserException exception is thrown</p>\n<pre><code>public boolean isBrowserClosed(WebDriver driver)\n{\n    boolean isClosed = false;\n    try {\n        driver.getTitle();\n    } catch(UnreachableBrowserException e) {\n        isClosed = true;\n    }\n\n    return isClosed;\n}\n</code></pre>\n"}],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679060503,"creation_date":1677594379,"question_id":75593356,"body_markdown":"The title says it all. I want to listen for a window closed event on my browser in WebDriver 4.8.1. I tried looking into [`WebDriverListener`][1], but I am not having any luck. Here is my MCVE:\r\n\r\n    public class Test implements WebDriverListener {\r\n    \r\n    \tprivate Object lock = new Object();\r\n    \r\n    \tpublic Test() throws InterruptedException, MalformedURLException {\r\n    \t\tWebDriver chrome = new ChromeDriver();\r\n    \t\tEventFiringDecorator&lt;WebDriver&gt; decorator = new EventFiringDecorator&lt;WebDriver&gt;(this);\r\n    \t\tWebDriver driver = decorator.decorate(chrome);\r\n    \r\n    \t\tdriver.navigate().to(new URL(&quot;https://www.google.com/&quot;));\r\n    \t\tdriver.manage().window().maximize();\r\n    \r\n    \t\tsynchronized (lock) {\r\n    \t\t\tlock.wait();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void beforeAnyWindowCall(Window window, Method method, Object[] args) {\r\n    \t\t// Prints: maximize null\r\n    \t\tSystem.out.println(method.getName() + &quot; &quot; + Arrays.toString(args));\r\n    \t}\r\n    \r\n    \tpublic void beforeClose(WebDriver driver) {\r\n    \t\t// Never is called\r\n    \t\tSystem.out.println(&quot;Closing&quot;);\r\n    \t\tsynchronized (lock) {\r\n    \t\t\tlock.notifyAll();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws InterruptedException, MalformedURLException {\r\n    \t\tnew Test();\r\n            // Never is called\r\n    \t\tSystem.out.println(&quot;Closed&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\nIn Swing, we have [`WindowListener#windowClosed(WindowEvent)`][2], which is fired when a window is closed. Can a similar thing be accomplished in Selenium WebDriver? To clarify, I am not looking to know when the `WebDriver` is closed, but rather when the *window* is (manually) closed. Also, I am not looking for a method which I call to determine *if* the window is closed. I want an event to fire *when* the is closed.\r\n\r\nI looked at the following questions but could not find a working answer:\r\n\r\n 1. https://stackoverflow.com/questions/47735044/how-can-i-have-selenium-chromedriver-exit-properly-upon-manually-closing-the-win\r\n 2. https://stackoverflow.com/questions/31048777/get-browser-closing-event-in-selenium-web-browser\r\n 3. https://stackoverflow.com/questions/29491334/how-to-determine-when-the-browser-is-closed\r\n\r\n  [1]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/events/WebDriverListener.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/awt/event/WindowListener.html#windowClosed-java.awt.event.WindowEvent-","title":"Can I detect when the browser is manually closed in Selenium WebDriver?","body":"<p>The title says it all. I want to listen for a window closed event on my browser in WebDriver 4.8.1. I tried looking into <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/events/WebDriverListener.html\" rel=\"nofollow noreferrer\"><code>WebDriverListener</code></a>, but I am not having any luck. Here is my MCVE:</p>\n<pre><code>public class Test implements WebDriverListener {\n\n    private Object lock = new Object();\n\n    public Test() throws InterruptedException, MalformedURLException {\n        WebDriver chrome = new ChromeDriver();\n        EventFiringDecorator&lt;WebDriver&gt; decorator = new EventFiringDecorator&lt;WebDriver&gt;(this);\n        WebDriver driver = decorator.decorate(chrome);\n\n        driver.navigate().to(new URL(&quot;https://www.google.com/&quot;));\n        driver.manage().window().maximize();\n\n        synchronized (lock) {\n            lock.wait();\n        }\n    }\n\n    public void beforeAnyWindowCall(Window window, Method method, Object[] args) {\n        // Prints: maximize null\n        System.out.println(method.getName() + &quot; &quot; + Arrays.toString(args));\n    }\n\n    public void beforeClose(WebDriver driver) {\n        // Never is called\n        System.out.println(&quot;Closing&quot;);\n        synchronized (lock) {\n            lock.notifyAll();\n        }\n    }\n\n    public static void main(String[] args) throws InterruptedException, MalformedURLException {\n        new Test();\n        // Never is called\n        System.out.println(&quot;Closed&quot;);\n    }\n\n}\n</code></pre>\n<p>In Swing, we have <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/event/WindowListener.html#windowClosed-java.awt.event.WindowEvent-\" rel=\"nofollow noreferrer\"><code>WindowListener#windowClosed(WindowEvent)</code></a>, which is fired when a window is closed. Can a similar thing be accomplished in Selenium WebDriver? To clarify, I am not looking to know when the <code>WebDriver</code> is closed, but rather when the <em>window</em> is (manually) closed. Also, I am not looking for a method which I call to determine <em>if</em> the window is closed. I want an event to fire <em>when</em> the is closed.</p>\n<p>I looked at the following questions but could not find a working answer:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/47735044/how-can-i-have-selenium-chromedriver-exit-properly-upon-manually-closing-the-win\">How can I have Selenium ChromeDriver exit properly upon manually closing the window?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/31048777/get-browser-closing-event-in-selenium-web-browser\">Get browser closing event in selenium web browser</a></li>\n<li><a href=\"https://stackoverflow.com/questions/29491334/how-to-determine-when-the-browser-is-closed\">How to determine when the browser is closed?</a></li>\n</ol>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460080381,"creation_date":1460080381,"answer_id":36490202,"question_id":36490166,"body_markdown":"Your two loops almost were correct.  Try using this code:\r\n\r\n    for (int i=0; i &lt; NUM_VALS; i++) {\r\n        // this if statement avoids printing a trailing space at the end.\r\n        if (i &gt; 0) {\r\n            System.out.print(&quot; &quot;);\r\n        }\r\n        System.out.print(courseGrades[i]);\r\n    }\r\n\r\n    for (int i=NUM_VALS-1; i &gt;= 0; i--) {\r\n        if (i &gt; 0) {\r\n            System.out.print(&quot; &quot;);\r\n        }\r\n        System.out.print(courseGrades[i] + &quot; &quot;);\r\n    }\r\n","title":"Printing array elements with a for loop","body":"<p>Your two loops almost were correct.  Try using this code:</p>\n\n<pre><code>for (int i=0; i &lt; NUM_VALS; i++) {\n    // this if statement avoids printing a trailing space at the end.\n    if (i &gt; 0) {\n        System.out.print(\" \");\n    }\n    System.out.print(courseGrades[i]);\n}\n\nfor (int i=NUM_VALS-1; i &gt;= 0; i--) {\n    if (i &gt; 0) {\n        System.out.print(\" \");\n    }\n    System.out.print(courseGrades[i] + \" \");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1289173,"reputation":734,"user_id":1241610,"display_name":"Joels Elf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460080478,"creation_date":1460080478,"answer_id":36490217,"question_id":36490166,"body_markdown":"To print backwards you want:\r\n\r\n    for(i = NUM_VALS - 1; i &gt;= 0; i--) {\r\n        System.out.print(courseGrades[i] + &quot; &quot;);\r\n    }\r\n    // To end with a newline\r\n    System.out.println(&quot;&quot;);","title":"Printing array elements with a for loop","body":"<p>To print backwards you want:</p>\n\n<pre><code>for(i = NUM_VALS - 1; i &gt;= 0; i--) {\n    System.out.print(courseGrades[i] + \" \");\n}\n// To end with a newline\nSystem.out.println(\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9562727,"reputation":41,"user_id":7102941,"display_name":"A. Nony Mous"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1478065833,"creation_date":1478065471,"answer_id":40373212,"question_id":36490166,"body_markdown":" This is the code to answer the question from zyBooks, 6.2.3: Printing array        elements with a for loop.\r\n\r\n     for (i = 0; i &lt; NUM_VALS; i++) {\r\n         System.out.print(courseGrades[i] + &quot; &quot;);\r\n     }\r\n     System.out.println(&quot;&quot;);\r\n\r\n     for (i = NUM_VALS - 1; i &gt;= 0; i--) {\r\n        System.out.print(courseGrades[i] + &quot; &quot;);\r\n     }\r\n\r\n     System.out.println(&quot;&quot;); ","title":"Printing array elements with a for loop","body":"<p>This is the code to answer the question from zyBooks, 6.2.3: Printing array        elements with a for loop.</p>\n\n<pre><code> for (i = 0; i &lt; NUM_VALS; i++) {\n     System.out.print(courseGrades[i] + \" \");\n }\n System.out.println(\"\");\n\n for (i = NUM_VALS - 1; i &gt;= 0; i--) {\n    System.out.print(courseGrades[i] + \" \");\n }\n\n System.out.println(\"\"); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":27221767,"reputation":1,"user_id":20750899,"display_name":"Nora Southeast"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670786619,"creation_date":1670786619,"answer_id":74763796,"question_id":36490166,"body_markdown":"I also have been working on the this textbook question. The issue with the above code is that i has already been assigned, so trying using int in the for loop will cause an error. Below is the code I used to successfully achieve the desired outcome.\r\n\r\n    for ( i = 0 ; i &lt;NUM_VALS; ++i) {\r\n         if (i &gt; 0) {\r\n            System.out.print(&quot;&quot;); \r\n         }\r\n         System.out.print(courseGrades[i] + &quot; &quot;);\r\n      }\r\n      System.out.println(&quot;&quot;);\r\n      \r\n      for ( i = NUM_VALS -1; i &gt;=0; --i) {\r\n         if (i &gt; 0) {\r\n            System.out.print(&quot;&quot;); \r\n         }\r\n         System.out.print( courseGrades[i] + &quot; &quot;);\r\n      }\r\n         System.out.println();\r\n\r\n","title":"Printing array elements with a for loop","body":"<p>I also have been working on the this textbook question. The issue with the above code is that i has already been assigned, so trying using int in the for loop will cause an error. Below is the code I used to successfully achieve the desired outcome.</p>\n<pre><code>for ( i = 0 ; i &lt;NUM_VALS; ++i) {\n     if (i &gt; 0) {\n        System.out.print(&quot;&quot;); \n     }\n     System.out.print(courseGrades[i] + &quot; &quot;);\n  }\n  System.out.println(&quot;&quot;);\n  \n  for ( i = NUM_VALS -1; i &gt;=0; --i) {\n     if (i &gt; 0) {\n        System.out.print(&quot;&quot;); \n     }\n     System.out.print( courseGrades[i] + &quot; &quot;);\n  }\n     System.out.println();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27351939,"reputation":1,"user_id":20860973,"display_name":"Robert Heavner"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679060311,"creation_date":1679060311,"answer_id":75768268,"question_id":36490166,"body_markdown":"      for (i = 0; i &lt; courseGrades.length; ++i) {\r\n         System.out.print(courseGrades[i] + &quot; &quot;);\r\n      }\r\n      System.out.println();\r\n\r\n      for (i = courseGrades.length - 1; i &gt;= 0; --i) {\r\n         System.out.print(courseGrades[i] + &quot; &quot;);\r\n      }\r\n      System.out.println();","title":"Printing array elements with a for loop","body":"<pre><code>  for (i = 0; i &lt; courseGrades.length; ++i) {\n     System.out.print(courseGrades[i] + &quot; &quot;);\n  }\n  System.out.println();\n\n  for (i = courseGrades.length - 1; i &gt;= 0; --i) {\n     System.out.print(courseGrades[i] + &quot; &quot;);\n  }\n  System.out.println();\n</code></pre>\n"}],"owner":{"account_id":8162394,"reputation":31,"user_id":6145985,"display_name":"Anne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1679060311,"creation_date":1460080185,"question_id":36490166,"body_markdown":"This is a challenge question from my online textbook I can only get the numbers to prin forward... :(\r\n\r\nWrite a for loop to print all elements in courseGrades, following each element with a space (including the last). Print forwards, then backwards. End each loop with a newline. \r\nEx: If courseGrades = {7, 9, 11, 10}, print:\r\n7 9 11 10 \r\n10 11 9 7 \r\n\r\nHint: Use two for loops. Second loop starts with i = NUM_VALS - 1. \r\n\r\n\r\nNote: These activities may test code with different test values. This activity will perform two tests, the first with a 4-element array (int courseGrades[4]), the second with a 2-element array (int courseGrades[2]). \r\n\r\n    import java.util.Scanner;\r\n\r\n     public class CourseGradePrinter {\r\n     public static void main (String [] args) {\r\n      final int NUM_VALS = 4;\r\n      int[] courseGrades = new int[NUM_VALS];\r\n      int i = 0;\r\n\r\n      courseGrades[0] = 7;\r\n      courseGrades[1] = 9;\r\n      courseGrades[2] = 11;\r\n      courseGrades[3] = 10;\r\n\r\n      /* Your solution goes here  */\r\n      \r\n      for(i=0; i&lt;NUM_VALS; i++){\r\n         System.out.print(courseGrades[i] + &quot; &quot;);\r\n      }\r\n      \r\n      for(i=NUM_VALS -1; i&gt;3; i++){\r\n         System.out.print(courseGrades[i]+ &quot; &quot;);\r\n         }\r\n\r\n      return;\r\n    }\r\n    }","title":"Printing array elements with a for loop","body":"<p>This is a challenge question from my online textbook I can only get the numbers to prin forward... :(</p>\n\n<p>Write a for loop to print all elements in courseGrades, following each element with a space (including the last). Print forwards, then backwards. End each loop with a newline. \nEx: If courseGrades = {7, 9, 11, 10}, print:\n7 9 11 10 \n10 11 9 7 </p>\n\n<p>Hint: Use two for loops. Second loop starts with i = NUM_VALS - 1. </p>\n\n<p>Note: These activities may test code with different test values. This activity will perform two tests, the first with a 4-element array (int courseGrades[4]), the second with a 2-element array (int courseGrades[2]). </p>\n\n<pre><code>import java.util.Scanner;\n\n public class CourseGradePrinter {\n public static void main (String [] args) {\n  final int NUM_VALS = 4;\n  int[] courseGrades = new int[NUM_VALS];\n  int i = 0;\n\n  courseGrades[0] = 7;\n  courseGrades[1] = 9;\n  courseGrades[2] = 11;\n  courseGrades[3] = 10;\n\n  /* Your solution goes here  */\n\n  for(i=0; i&lt;NUM_VALS; i++){\n     System.out.print(courseGrades[i] + \" \");\n  }\n\n  for(i=NUM_VALS -1; i&gt;3; i++){\n     System.out.print(courseGrades[i]+ \" \");\n     }\n\n  return;\n}\n}\n</code></pre>\n"},{"tags":["java","android","android-widget"],"answers":[{"tags":[],"owner":{"account_id":261640,"reputation":35838,"user_id":545951,"accept_rate":87,"display_name":"Parag Chauhan"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1375992970,"creation_date":1375992970,"answer_id":18135323,"question_id":14635013,"body_markdown":"for that you have to implement to activity\r\n\r\n    OnBufferingUpdateListener, OnCompletionListener, OnPreparedListener,\r\n    OnVideoSizeChangedListener, SurfaceHolder.Callback, MediaPlayerControl\r\n\r\ncheck below working code\r\n\r\n    package com.example.demo;\r\n    import android.app.Activity;\r\n    import android.media.AudioManager;\r\n    import android.media.MediaPlayer;\r\n    import android.media.MediaPlayer.OnBufferingUpdateListener;\r\n    import android.media.MediaPlayer.OnCompletionListener;\r\n    import android.media.MediaPlayer.OnPreparedListener;\r\n    import android.media.MediaPlayer.OnVideoSizeChangedListener;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    import android.view.MotionEvent;\r\n    import android.view.SurfaceHolder;\r\n    import android.view.SurfaceView;\r\n    import android.view.View;\r\n    import android.widget.MediaController;\r\n    import android.widget.MediaController.MediaPlayerControl;\r\n    import android.widget.ProgressBar;\r\n    \r\n    public class MainActivity extends Activity implements  OnBufferingUpdateListener, OnCompletionListener, OnPreparedListener,\r\n    OnVideoSizeChangedListener, SurfaceHolder.Callback, MediaPlayerControl{\r\n    \tString url = &quot;your video url&quot;;\r\n    \tMediaPlayer mMediaPlayer ;\r\n    \tSurfaceView mSurfaceView ;\r\n    \tSurfaceHolder holder ;\r\n    \tprivate ConstantAnchorMediaController controller = null;\r\n    \tProgressBar progressBar1 ;\r\n    \tMediaController mcontroller ;\r\n    \tHandler handler ;\r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.activity_main);\r\n    \t\tprogressBar1 = (ProgressBar)findViewById(R.id.progressBar1);\r\n    \t\tSurfaceView v = (SurfaceView) findViewById(R.id.surface); \r\n    \t\thandler = new Handler();\r\n    \t\tholder = v.getHolder(); \r\n    \t\tholder.addCallback(this);\r\n    \t\tplayVideo();\r\n    \r\n    \t}\r\n    \tprivate void playVideo() {\r\n    \t\ttry {\r\n    \t\t\tmcontroller = new MediaController(this);\r\n    \t\t\tmMediaPlayer = MediaPlayer.create(this, Uri.parse(url));\r\n    \t\t\tmMediaPlayer.setOnBufferingUpdateListener(this);\r\n    \t\t\tmMediaPlayer.setOnCompletionListener(this);\r\n    \t\t\tmMediaPlayer.setOnPreparedListener(this);\r\n    \t\t\tmMediaPlayer.setScreenOnWhilePlaying(true);\r\n    \t\t\tmMediaPlayer.setOnVideoSizeChangedListener(this);\r\n    \t\t\tmMediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t@Override\r\n    \tpublic boolean onTouchEvent(MotionEvent event) {\r\n    \t\t mcontroller.show();\r\n    \t\t return false;\r\n    \t}\r\n    \t@Override\r\n    \tpublic void surfaceChanged(SurfaceHolder arg0, int arg1, int arg2, int arg3) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t}\r\n    \t@Override\r\n    \tpublic void surfaceCreated(SurfaceHolder arg0) {\r\n    \t\tmMediaPlayer.setDisplay(holder); \r\n    \t\ttry {\r\n    \t\t\tmMediaPlayer.start();\r\n    \t\t} catch (IllegalStateException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t@Override\r\n    \tpublic void surfaceDestroyed(SurfaceHolder arg0) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t}\r\n    \t@Override\r\n    \tpublic void onVideoSizeChanged(MediaPlayer mp, int width, int height) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onPrepared(MediaPlayer mp) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tprogressBar1.setVisibility(View.GONE);\r\n    \t\tmcontroller.setMediaPlayer(this);\r\n    \t\tmcontroller.setAnchorView(findViewById(R.id.surface));\r\n    \t\tmcontroller.setEnabled(true);\r\n    \t\t\r\n    \t\thandler.post(new Runnable() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tmcontroller.show();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onCompletion(MediaPlayer mp) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t}\r\n    \t@Override\r\n    \tpublic void onBufferingUpdate(MediaPlayer mp, int percent) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t}\r\n    \tpublic void start() {\r\n    \t\tmMediaPlayer.start();\r\n    \t}\r\n    \r\n    \tpublic void pause() {\r\n    \t\tmMediaPlayer.pause();\r\n    \t}\r\n    \r\n    \tpublic int getDuration() {\r\n    \t\treturn mMediaPlayer.getDuration();\r\n    \t}\r\n    \r\n    \tpublic int getCurrentPosition() {\r\n    \t\treturn mMediaPlayer.getCurrentPosition();\r\n    \t}\r\n    \r\n    \tpublic void seekTo(int i) {\r\n    \t\tmMediaPlayer.seekTo(i);\r\n    \t}\r\n    \r\n    \tpublic boolean isPlaying() {\r\n    \t\treturn mMediaPlayer.isPlaying(); \r\n    \t}\r\n    \r\n    \tpublic int getBufferPercentage() {\r\n    \t\treturn 0;\r\n    \t}\r\n    \r\n    \tpublic boolean canPause() {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tpublic boolean canSeekBackward() {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tpublic boolean canSeekForward() {\r\n    \t\treturn true;\r\n    \t}\r\n    }\r\n\r\n","title":"Android how to use/show MediaController with SurfaceView and MediaPlayer for video?","body":"<p>for that you have to implement to activity</p>\n\n<pre><code>OnBufferingUpdateListener, OnCompletionListener, OnPreparedListener,\nOnVideoSizeChangedListener, SurfaceHolder.Callback, MediaPlayerControl\n</code></pre>\n\n<p>check below working code</p>\n\n<pre><code>package com.example.demo;\nimport android.app.Activity;\nimport android.media.AudioManager;\nimport android.media.MediaPlayer;\nimport android.media.MediaPlayer.OnBufferingUpdateListener;\nimport android.media.MediaPlayer.OnCompletionListener;\nimport android.media.MediaPlayer.OnPreparedListener;\nimport android.media.MediaPlayer.OnVideoSizeChangedListener;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.view.MotionEvent;\nimport android.view.SurfaceHolder;\nimport android.view.SurfaceView;\nimport android.view.View;\nimport android.widget.MediaController;\nimport android.widget.MediaController.MediaPlayerControl;\nimport android.widget.ProgressBar;\n\npublic class MainActivity extends Activity implements  OnBufferingUpdateListener, OnCompletionListener, OnPreparedListener,\nOnVideoSizeChangedListener, SurfaceHolder.Callback, MediaPlayerControl{\n    String url = \"your video url\";\n    MediaPlayer mMediaPlayer ;\n    SurfaceView mSurfaceView ;\n    SurfaceHolder holder ;\n    private ConstantAnchorMediaController controller = null;\n    ProgressBar progressBar1 ;\n    MediaController mcontroller ;\n    Handler handler ;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        progressBar1 = (ProgressBar)findViewById(R.id.progressBar1);\n        SurfaceView v = (SurfaceView) findViewById(R.id.surface); \n        handler = new Handler();\n        holder = v.getHolder(); \n        holder.addCallback(this);\n        playVideo();\n\n    }\n    private void playVideo() {\n        try {\n            mcontroller = new MediaController(this);\n            mMediaPlayer = MediaPlayer.create(this, Uri.parse(url));\n            mMediaPlayer.setOnBufferingUpdateListener(this);\n            mMediaPlayer.setOnCompletionListener(this);\n            mMediaPlayer.setOnPreparedListener(this);\n            mMediaPlayer.setScreenOnWhilePlaying(true);\n            mMediaPlayer.setOnVideoSizeChangedListener(this);\n            mMediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n         mcontroller.show();\n         return false;\n    }\n    @Override\n    public void surfaceChanged(SurfaceHolder arg0, int arg1, int arg2, int arg3) {\n        // TODO Auto-generated method stub\n    }\n    @Override\n    public void surfaceCreated(SurfaceHolder arg0) {\n        mMediaPlayer.setDisplay(holder); \n        try {\n            mMediaPlayer.start();\n        } catch (IllegalStateException e) {\n            e.printStackTrace();\n        }\n    }\n    @Override\n    public void surfaceDestroyed(SurfaceHolder arg0) {\n        // TODO Auto-generated method stub\n    }\n    @Override\n    public void onVideoSizeChanged(MediaPlayer mp, int width, int height) {\n        // TODO Auto-generated method stub\n    }\n\n    @Override\n    public void onPrepared(MediaPlayer mp) {\n        // TODO Auto-generated method stub\n        progressBar1.setVisibility(View.GONE);\n        mcontroller.setMediaPlayer(this);\n        mcontroller.setAnchorView(findViewById(R.id.surface));\n        mcontroller.setEnabled(true);\n\n        handler.post(new Runnable() {\n            public void run() {\n                mcontroller.show();\n            }\n        });\n    }\n\n    @Override\n    public void onCompletion(MediaPlayer mp) {\n        // TODO Auto-generated method stub\n    }\n    @Override\n    public void onBufferingUpdate(MediaPlayer mp, int percent) {\n        // TODO Auto-generated method stub\n    }\n    public void start() {\n        mMediaPlayer.start();\n    }\n\n    public void pause() {\n        mMediaPlayer.pause();\n    }\n\n    public int getDuration() {\n        return mMediaPlayer.getDuration();\n    }\n\n    public int getCurrentPosition() {\n        return mMediaPlayer.getCurrentPosition();\n    }\n\n    public void seekTo(int i) {\n        mMediaPlayer.seekTo(i);\n    }\n\n    public boolean isPlaying() {\n        return mMediaPlayer.isPlaying(); \n    }\n\n    public int getBufferPercentage() {\n        return 0;\n    }\n\n    public boolean canPause() {\n        return true;\n    }\n\n    public boolean canSeekBackward() {\n        return true;\n    }\n\n    public boolean canSeekForward() {\n        return true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21325,"reputation":6415,"user_id":51734,"accept_rate":71,"display_name":"Barbaros Alp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15052,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":18135323,"answer_count":1,"score":8,"last_activity_date":1679060028,"creation_date":1359665877,"question_id":14635013,"body_markdown":"I have to use MediaPlayer to play a video, NOT a VideoView.\r\nI have a SurfaceView in Xml Layout and on the Activity side a MediaPlayer and a MediaController.\r\n\r\nI coudldn&#39;t find a way to use MediaController with SurfaceView and MediaPlayer. It is so easy with VideoView but cant figure out how to use with MediaPlayer.\r\n\r\nI have found examples online but they are all about playing audio, not video.\r\n\r\nThis is surfaceCreated method where i create the MediaPlayer\r\n\r\n    @Override\r\n    \tpublic void surfaceCreated(SurfaceHolder holder) {\r\n    \t\ttry {\r\n    \t\t\tmMediaPlayer = new MediaPlayer();\r\n    \t\t\tmMediaPlayer.setDisplay(mSurfaceHolder);\r\n    \t\t\tmMediaPlayer.setDataSource(this, Uri.parse(mUrl));\r\n    \t\t\tmMediaPlayer.setOnPreparedListener(this);\r\n    \t\t\tmMediaPlayer.prepare();\r\n    \t\t\tmMediaController = new MediaController(this);\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\tLog.e(TAG, &quot;MediaPlayer Prepare: &quot; + e.getMessage());\r\n    \t\t}\r\n    \t}\r\n\r\nand this MediaPlayer onPrepared method \r\n\r\n    @Override\r\n    \tpublic void onPrepared(MediaPlayer mp) {\r\n    \r\n    \t\tmVideoWidth = mp.getVideoWidth();\r\n    \t\tmVideoHeight = mp.getVideoHeight();\r\n    \t\tmSurfaceHolder.setFixedSize(mVideoWidth, mVideoHeight);\r\n    \t\tstartVideoPlayback();\r\n    \r\n    \t\tmMediaController.setMediaPlayer(this);\t    \t\t\r\n    \t\t\r\n    \t\thandler.post(new Runnable() {\r\n    \r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tmMediaController.setEnabled(true);\r\n    \t\t\t\tmMediaController.show();\r\n    \t\t\t}\r\n    \t\t});    \r\n    \t}\r\n\r\nThe code above doesn&#39;t show the MediaController on SurfaceView.&lt;br /&gt;\r\nHow can i achieve this?\r\n\r\nThanks in advance.","title":"Android how to use/show MediaController with SurfaceView and MediaPlayer for video?","body":"<p>I have to use MediaPlayer to play a video, NOT a VideoView.\nI have a SurfaceView in Xml Layout and on the Activity side a MediaPlayer and a MediaController.</p>\n\n<p>I coudldn't find a way to use MediaController with SurfaceView and MediaPlayer. It is so easy with VideoView but cant figure out how to use with MediaPlayer.</p>\n\n<p>I have found examples online but they are all about playing audio, not video.</p>\n\n<p>This is surfaceCreated method where i create the MediaPlayer</p>\n\n<pre><code>@Override\n    public void surfaceCreated(SurfaceHolder holder) {\n        try {\n            mMediaPlayer = new MediaPlayer();\n            mMediaPlayer.setDisplay(mSurfaceHolder);\n            mMediaPlayer.setDataSource(this, Uri.parse(mUrl));\n            mMediaPlayer.setOnPreparedListener(this);\n            mMediaPlayer.prepare();\n            mMediaController = new MediaController(this);\n\n        } catch (Exception e) {\n            Log.e(TAG, \"MediaPlayer Prepare: \" + e.getMessage());\n        }\n    }\n</code></pre>\n\n<p>and this MediaPlayer onPrepared method </p>\n\n<pre><code>@Override\n    public void onPrepared(MediaPlayer mp) {\n\n        mVideoWidth = mp.getVideoWidth();\n        mVideoHeight = mp.getVideoHeight();\n        mSurfaceHolder.setFixedSize(mVideoWidth, mVideoHeight);\n        startVideoPlayback();\n\n        mMediaController.setMediaPlayer(this);              \n\n        handler.post(new Runnable() {\n\n            public void run() {\n                mMediaController.setEnabled(true);\n                mMediaController.show();\n            }\n        });    \n    }\n</code></pre>\n\n<p>The code above doesn't show the MediaController on SurfaceView.<br />\nHow can i achieve this?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","polymorphism"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":1,"creation_date":1679046041,"post_id":75765812,"comment_id":133654210,"body_markdown":"Take a look here: https://www.baeldung.com/java-factory-pattern or https://www.digitalocean.com/community/tutorials/java-dependency-injection-design-pattern-example-tutorial or https://www.baeldung.com/java-replace-if-statements","body":"Take a look here: <a href=\"https://www.baeldung.com/java-factory-pattern\" rel=\"nofollow noreferrer\">baeldung.com/java-factory-pattern</a> or <a href=\"https://www.digitalocean.com/community/tutorials/java-dependency-injection-design-pattern-example-tutorial\" rel=\"nofollow noreferrer\">digitalocean.com/community/tutorials/&hellip;</a> or <a href=\"https://www.baeldung.com/java-replace-if-statements\" rel=\"nofollow noreferrer\">baeldung.com/java-replace-if-statements</a>"},{"owner":{"account_id":17396102,"reputation":73,"user_id":12605786,"display_name":"Devi"},"score":0,"creation_date":1679053224,"post_id":75765812,"comment_id":133655980,"body_markdown":"Is there any other alternative using java reflections to create mapper implementations dynamically by request type?","body":"Is there any other alternative using java reflections to create mapper implementations dynamically by request type?"},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1679056957,"post_id":75765812,"comment_id":133656862,"body_markdown":"You can do it with reflection. When using Spring or another DI framework you can do it without implementing reflection yourself.","body":"You can do it with reflection. When using Spring or another DI framework you can do it without implementing reflection yourself."}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679047582,"creation_date":1679047582,"answer_id":75766258,"question_id":75765812,"body_markdown":"Here&#39;s one way.\r\n\r\nHave a map of type `Map&lt;String, Function&lt;InputPayLoad, Mapper&gt;&gt;` where `InputPayLoad` is the *type* passed into *createTypeRequest* methods.\r\n\r\n\r\nYou can pre-populate it for each request type with a `Function` which calls `createTypeRequest` on the appropriate RequestMapper and returns a `Mapper`.\r\n\r\n```\r\nMap&lt;String, Function&lt;InputPayload, Mapper&gt;&gt; requestTypeToMapperCreatorFunction = new HashMap&lt;&gt;();\r\nrequestTypeToMapperCreatorFunction.put(&quot;AAA&quot;, RequestMapperAAA::createTypeRequest);\r\nrequestTypeToMapperCreatorFunction.put(&quot;BBB&quot;, RequestMapperBBB::createTypeRequest);\r\nrequestTypeToMapperCreatorFunction.put(&quot;CCC&quot;, RequestMapperCCC::createTypeRequest);\r\n//...\r\n```\r\n\r\nTo build a mapper for a given requestType,\r\n```\r\nMapper mapper = requestTypeToMapperCreatorFunction.get(requestType)\r\n        .apply(inputPayload);\r\n```\r\n","title":"How to create a request mapping dynamically","body":"<p>Here's one way.</p>\n<p>Have a map of type <code>Map&lt;String, Function&lt;InputPayLoad, Mapper&gt;&gt;</code> where <code>InputPayLoad</code> is the <em>type</em> passed into <em>createTypeRequest</em> methods.</p>\n<p>You can pre-populate it for each request type with a <code>Function</code> which calls <code>createTypeRequest</code> on the appropriate RequestMapper and returns a <code>Mapper</code>.</p>\n<pre><code>Map&lt;String, Function&lt;InputPayload, Mapper&gt;&gt; requestTypeToMapperCreatorFunction = new HashMap&lt;&gt;();\nrequestTypeToMapperCreatorFunction.put(&quot;AAA&quot;, RequestMapperAAA::createTypeRequest);\nrequestTypeToMapperCreatorFunction.put(&quot;BBB&quot;, RequestMapperBBB::createTypeRequest);\nrequestTypeToMapperCreatorFunction.put(&quot;CCC&quot;, RequestMapperCCC::createTypeRequest);\n//...\n</code></pre>\n<p>To build a mapper for a given requestType,</p>\n<pre><code>Mapper mapper = requestTypeToMapperCreatorFunction.get(requestType)\n        .apply(inputPayload);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679059901,"creation_date":1679058504,"answer_id":75767970,"question_id":75765812,"body_markdown":"I will give a more detailed answer here, by responding to you question about using **reflection**. There is a good example [here][1] if you want to use **reflection**.\r\n\r\nYou don&#39;t have to implement reflection to do this. The response of @Thiyadu is good also. Instead if you want to use factory pattern with reflection, I will suggest you to use a **Dependency Injection** framework such as **Spring**. The reflection phase is already made for you by **Spring**.\r\n\r\nAn example with **Spring** will be the following:\r\n\r\n    public interface Mapper {\r\n        \r\n    }\r\n\r\n`RequestMapperAAA.java`\r\n\r\n    @Component(&quot;AAA&quot;)\r\n    public class RequestMapperAAA implements Mapper {\r\n    \r\n    }\r\n\r\n`RequestMapperBBB.java`\r\n\r\n    @Component(&quot;BBB&quot;)\r\n    public class RequestMapperBBB implements Mapper {\r\n    \r\n    }\r\n\r\n`RequestMapperCCC.java`\r\n\r\n    @Component(&quot;CCC&quot;)\r\n    public class RequestMapperCCC implements Mapper {\r\n    \r\n    }\r\n\r\nUsage:\r\n\r\n    @Autowired\r\n    private Map&lt;String, Mapper&gt; requestMapper;\r\n    \r\n    public void userRequestMapper() {\r\n        Mapper requestAAA = requestMapper.get(&quot;AAA&quot;);\r\n    }\r\n\r\nThe good thing about **Spring** is that, it will automatically populate the Map for you.\r\n\r\n  [1]: https://stackoverflow.com/questions/18432127/using-reflection-in-factory-pattern","title":"How to create a request mapping dynamically","body":"<p>I will give a more detailed answer here, by responding to you question about using <strong>reflection</strong>. There is a good example <a href=\"https://stackoverflow.com/questions/18432127/using-reflection-in-factory-pattern\">here</a> if you want to use <strong>reflection</strong>.</p>\n<p>You don't have to implement reflection to do this. The response of @Thiyadu is good also. Instead if you want to use factory pattern with reflection, I will suggest you to use a <strong>Dependency Injection</strong> framework such as <strong>Spring</strong>. The reflection phase is already made for you by <strong>Spring</strong>.</p>\n<p>An example with <strong>Spring</strong> will be the following:</p>\n<pre><code>public interface Mapper {\n    \n}\n</code></pre>\n<p><code>RequestMapperAAA.java</code></p>\n<pre><code>@Component(&quot;AAA&quot;)\npublic class RequestMapperAAA implements Mapper {\n\n}\n</code></pre>\n<p><code>RequestMapperBBB.java</code></p>\n<pre><code>@Component(&quot;BBB&quot;)\npublic class RequestMapperBBB implements Mapper {\n\n}\n</code></pre>\n<p><code>RequestMapperCCC.java</code></p>\n<pre><code>@Component(&quot;CCC&quot;)\npublic class RequestMapperCCC implements Mapper {\n\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>@Autowired\nprivate Map&lt;String, Mapper&gt; requestMapper;\n\npublic void userRequestMapper() {\n    Mapper requestAAA = requestMapper.get(&quot;AAA&quot;);\n}\n</code></pre>\n<p>The good thing about <strong>Spring</strong> is that, it will automatically populate the Map for you.</p>\n"}],"owner":{"account_id":17396102,"reputation":73,"user_id":12605786,"display_name":"Devi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75767970,"answer_count":2,"score":0,"last_activity_date":1679059901,"creation_date":1679045238,"question_id":75765812,"body_markdown":"I need to create a mapper object based on the input type, is there a simple solution without switch case or if else conditions? Below is an example. Can you please help me to provide a simple working example for this?\r\n\r\n    Mapper mapper = null;\r\n    if(requestType==&quot;AAA&quot;){\r\n    \tmapper = RequestMapperAAA.createTypeRequest(inputpayload);\r\n    } else if(requestType==&quot;BBB&quot;){\r\n    \tmapper = RequestMapperBBB.createTypeRequest(inputpayload);\r\n    } else if(requestType==&quot;CCC&quot;){\r\n    \tmapper = RequestMapperCCC.createTypeRequest(inputpayload);\r\n    } else if(requestType==&quot;DDD&quot;){\r\n    \tmapper = RequestMapperDDD.createTypeRequest(inputpayload);\r\n    }  so on.. upto 20 input types","title":"How to create a request mapping dynamically","body":"<p>I need to create a mapper object based on the input type, is there a simple solution without switch case or if else conditions? Below is an example. Can you please help me to provide a simple working example for this?</p>\n<pre><code>Mapper mapper = null;\nif(requestType==&quot;AAA&quot;){\n    mapper = RequestMapperAAA.createTypeRequest(inputpayload);\n} else if(requestType==&quot;BBB&quot;){\n    mapper = RequestMapperBBB.createTypeRequest(inputpayload);\n} else if(requestType==&quot;CCC&quot;){\n    mapper = RequestMapperCCC.createTypeRequest(inputpayload);\n} else if(requestType==&quot;DDD&quot;){\n    mapper = RequestMapperDDD.createTypeRequest(inputpayload);\n}  so on.. upto 20 input types\n</code></pre>\n"},{"tags":["java","postgresql","apache-flink"],"answers":[{"tags":[],"owner":{"account_id":268602,"reputation":75188,"user_id":557445,"accept_rate":100,"display_name":"Rion Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679059558,"creation_date":1679059558,"answer_id":75768125,"question_id":75765694,"body_markdown":"I believe there&#39;s likely two ways to achieve this, both with varying levels of introduced latency, one being a filtering function prior to the sink, and the other being handled on the Postgres side as an upsert operation.\r\n\r\n#### Filtering Approach (introduces latency)\r\nThe filtering function would add considerable latency as it&#39;d have to explicitly hit the database for each record to check for its existence:\r\n\r\n```\r\nyourStream\r\n   .filter(CustomFunctionToQueryPostgres())\r\n   .sinkTo(yourPostgresSink)\r\n```\r\n\r\nWhere the `CustomFunctionToQueryPostgres()` function would contain a client that could issue the statement to Postgres, read the result, and continue to the sink (or in the cases where it exists - drop it on the floor).\r\n\r\n#### Upsert Approach (more Postgres overhead)\r\n\r\nAnother possibly more elegant approach would be to introduce an upsert procedure that could wrap your logic:\r\n\r\n```\r\nCREATE OR REPLACE FUNCTION upsert_record(...)\r\n\r\nBEGIN        \r\n    // Handle new records\r\n    INSERT INTO records \r\n    SELECT ...\r\n    ON CONFLICT ON CONSTRAINT some_unique_constraint DO\r\n        UPDATE\r\n           // Handle existing records\r\nEND;\r\n```\r\n\r\nAnd then calling that function from your sink that handles writing to Postgres:\r\n\r\n```\r\nobject UpsertPostgresSink {\r\n    private val logger = LoggerFactory.getLogger(this::class.java)\r\n\r\n    fun build(): SinkFunction&lt;YourRecord&gt; {\r\n        val sql = &quot;SELECT upsert_record(?, ?)&quot;\r\n        val statement = { statement: PreparedStatement, record: YourRecord -&gt;\r\n            ...\r\n            statement.setObject(1, ...)\r\n            statement.setString(2, ...)\r\n        }\r\n\r\n\r\n        return JdbcSink\r\n            .sink(\r\n                sql,\r\n                statement,\r\n                JdbcExecutionOptions.builder().build(),\r\n                JdbcConnectionOptions.JdbcConnectionOptionsBuilder()\r\n                    .withDriverName(&quot;org.postgresql.Driver&quot;)\r\n                    .withUrl(yourConnectionString)\r\n                    .build(),\r\n            )\r\n    }\r\n}\r\n```\r\n\r\nAnd then just call that from your pipeline:\r\n\r\n```\r\nyourStream\r\n   .sinkTo(UpsertPostgresSink.build())\r\n```","title":"Flink Datastream check if message exists in postgresDB before sinking","body":"<p>I believe there's likely two ways to achieve this, both with varying levels of introduced latency, one being a filtering function prior to the sink, and the other being handled on the Postgres side as an upsert operation.</p>\n<h4>Filtering Approach (introduces latency)</h4>\n<p>The filtering function would add considerable latency as it'd have to explicitly hit the database for each record to check for its existence:</p>\n<pre><code>yourStream\n   .filter(CustomFunctionToQueryPostgres())\n   .sinkTo(yourPostgresSink)\n</code></pre>\n<p>Where the <code>CustomFunctionToQueryPostgres()</code> function would contain a client that could issue the statement to Postgres, read the result, and continue to the sink (or in the cases where it exists - drop it on the floor).</p>\n<h4>Upsert Approach (more Postgres overhead)</h4>\n<p>Another possibly more elegant approach would be to introduce an upsert procedure that could wrap your logic:</p>\n<pre><code>CREATE OR REPLACE FUNCTION upsert_record(...)\n\nBEGIN        \n    // Handle new records\n    INSERT INTO records \n    SELECT ...\n    ON CONFLICT ON CONSTRAINT some_unique_constraint DO\n        UPDATE\n           // Handle existing records\nEND;\n</code></pre>\n<p>And then calling that function from your sink that handles writing to Postgres:</p>\n<pre><code>object UpsertPostgresSink {\n    private val logger = LoggerFactory.getLogger(this::class.java)\n\n    fun build(): SinkFunction&lt;YourRecord&gt; {\n        val sql = &quot;SELECT upsert_record(?, ?)&quot;\n        val statement = { statement: PreparedStatement, record: YourRecord -&gt;\n            ...\n            statement.setObject(1, ...)\n            statement.setString(2, ...)\n        }\n\n\n        return JdbcSink\n            .sink(\n                sql,\n                statement,\n                JdbcExecutionOptions.builder().build(),\n                JdbcConnectionOptions.JdbcConnectionOptionsBuilder()\n                    .withDriverName(&quot;org.postgresql.Driver&quot;)\n                    .withUrl(yourConnectionString)\n                    .build(),\n            )\n    }\n}\n</code></pre>\n<p>And then just call that from your pipeline:</p>\n<pre><code>yourStream\n   .sinkTo(UpsertPostgresSink.build())\n</code></pre>\n"}],"owner":{"account_id":7935210,"reputation":21,"user_id":5991506,"display_name":"Abhinav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679059558,"creation_date":1679044419,"question_id":75765694,"body_markdown":"\r\nI have a flink code which uses flink datastream API to read messages from kafka and sink those to a PostgresDB.\r\n\r\nI want to sink the kafka messages to the database only if that message does not exist in the db. If the message exists, I need to update only the database column which has changed for the incoming message.\r\n\r\nAs per the documentation, the jdbc sink takes in a DML Statement.\r\n\r\nHow can I achieve the above?","title":"Flink Datastream check if message exists in postgresDB before sinking","body":"<p>I have a flink code which uses flink datastream API to read messages from kafka and sink those to a PostgresDB.</p>\n<p>I want to sink the kafka messages to the database only if that message does not exist in the db. If the message exists, I need to update only the database column which has changed for the incoming message.</p>\n<p>As per the documentation, the jdbc sink takes in a DML Statement.</p>\n<p>How can I achieve the above?</p>\n"},{"tags":["java","spring","spring-boot","maven","log4j"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1674831106,"creation_date":1674829395,"answer_id":75259389,"question_id":75258289,"body_markdown":"&gt; Does anyone know which versions of the dependencies are compatible with each other?\r\n\r\nSpring-boot does. Stop forcing versions of dependencies managed by boot and you&#39;ll stop having incompatibility issues.\r\n\r\nAlso, you are changing a major version =&gt; expect breaking changes and modifications in your code.\r\n\r\nMaybe should you refer to [migration guide][1]? \r\n\r\n\r\n  [1]: https://www.google.com/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide&amp;ved=2ahUKEwim75Tq_ef8AhWTL0QIHaT7AqgQFnoECBoQAQ&amp;usg=AOvVaw31FAaSCnKA_im-CPI3v-NY","title":"Correct the classpath of your application so that it contains compatible versions of the classes Log4J2LoggingSystem and PropertiesUtil","body":"<blockquote>\n<p>Does anyone know which versions of the dependencies are compatible with each other?</p>\n</blockquote>\n<p>Spring-boot does. Stop forcing versions of dependencies managed by boot and you'll stop having incompatibility issues.</p>\n<p>Also, you are changing a major version =&gt; expect breaking changes and modifications in your code.</p>\n<p>Maybe should you refer to <a href=\"https://www.google.com/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide&amp;ved=2ahUKEwim75Tq_ef8AhWTL0QIHaT7AqgQFnoECBoQAQ&amp;usg=AOvVaw31FAaSCnKA_im-CPI3v-NY\" rel=\"nofollow noreferrer\">migration guide</a>?</p>\n"},{"tags":[],"owner":{"account_id":10250466,"reputation":575,"user_id":7576519,"display_name":"Pablo Aragon&#233;s"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1675854453,"creation_date":1675854453,"answer_id":75384887,"question_id":75258289,"body_markdown":"Apparently, there is some kind of incompatibility with the log4j version so I had to force it to use version 2.19.0. With that, it worked.\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-jul&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j-jul&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Correct the classpath of your application so that it contains compatible versions of the classes Log4J2LoggingSystem and PropertiesUtil","body":"<p>Apparently, there is some kind of incompatibility with the log4j version so I had to force it to use version 2.19.0. With that, it worked.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-jul&lt;/artifactId&gt;\n            &lt;version&gt;2.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-jul&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1675903416,"creation_date":1675903416,"answer_id":75393123,"question_id":75258289,"body_markdown":"I would hazard a guess this is because you have a property defined like so in your original project:\r\n\r\n`&lt;log4j2.version&gt;2.18.0&lt;/log4j2.version&gt;`\r\n\r\nThis is a very normal (and important!) thing to see with Spring Boot 2.x projects because of [log4shell][1] - by default [Spring Boot 2.6.1 depends on a vulnerable version][2], so there must be some kind of property like this in the original pom that&#39;s bringing it up to 2.18.\r\n\r\n[Spring Boot 3.0.2 depends on log4j 2.19][3] which isn&#39;t vulnerable, so once again, you must have a property explicitly setting it to 2.18 for this to be an issue. Such a property isn&#39;t needed (and as you&#39;ve found, is a regression that makes it incompatible anyway.)\r\n\r\nDelete that explicit `log4j2.version` property, clean and rebuild, and you should be fine.\r\n\r\n\r\n  [1]: https://www.ncsc.gov.uk/information/log4j-vulnerability-what-everyone-needs-to-know\r\n  [2]: https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-log4j2/2.6.1\r\n  [3]: https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-log4j2/3.0.2","title":"Correct the classpath of your application so that it contains compatible versions of the classes Log4J2LoggingSystem and PropertiesUtil","body":"<p>I would hazard a guess this is because you have a property defined like so in your original project:</p>\n<p><code>&lt;log4j2.version&gt;2.18.0&lt;/log4j2.version&gt;</code></p>\n<p>This is a very normal (and important!) thing to see with Spring Boot 2.x projects because of <a href=\"https://www.ncsc.gov.uk/information/log4j-vulnerability-what-everyone-needs-to-know\" rel=\"noreferrer\">log4shell</a> - by default <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-log4j2/2.6.1\" rel=\"noreferrer\">Spring Boot 2.6.1 depends on a vulnerable version</a>, so there must be some kind of property like this in the original pom that's bringing it up to 2.18.</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-log4j2/3.0.2\" rel=\"noreferrer\">Spring Boot 3.0.2 depends on log4j 2.19</a> which isn't vulnerable, so once again, you must have a property explicitly setting it to 2.18 for this to be an issue. Such a property isn't needed (and as you've found, is a regression that makes it incompatible anyway.)</p>\n<p>Delete that explicit <code>log4j2.version</code> property, clean and rebuild, and you should be fine.</p>\n"},{"tags":[],"owner":{"account_id":14860080,"reputation":934,"user_id":10731216,"display_name":"HereAndBeyond"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679059515,"creation_date":1679059515,"answer_id":75768123,"question_id":75258289,"body_markdown":"### During migration to Spring Boot 3\r\n\r\nIf someone is experiencing this issue after upgrading to spring boot 3, I suggest checking whether there is an explicit log4j2 version declaration.\r\n\r\nIf there is the declaration, either remove it or check which version is compatible with your target spring boot version and use it in the declaration.\r\n\r\n*Note: You can check the compatible version in this way: remove the declaration and check which version is pulled by the target spring boot version. Then use it.*","title":"Correct the classpath of your application so that it contains compatible versions of the classes Log4J2LoggingSystem and PropertiesUtil","body":"<h3>During migration to Spring Boot 3</h3>\n<p>If someone is experiencing this issue after upgrading to spring boot 3, I suggest checking whether there is an explicit log4j2 version declaration.</p>\n<p>If there is the declaration, either remove it or check which version is compatible with your target spring boot version and use it in the declaration.</p>\n<p><em>Note: You can check the compatible version in this way: remove the declaration and check which version is pulled by the target spring boot version. Then use it.</em></p>\n"}],"owner":{"account_id":10250466,"reputation":575,"user_id":7576519,"display_name":"Pablo Aragon&#233;s"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5272,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75393123,"answer_count":4,"score":4,"last_activity_date":1679059515,"creation_date":1674823507,"question_id":75258289,"body_markdown":"I&#39;m migrating a project from Spring Boot 2.6.1 to Spring Boot 3.0.2 and I&#39;m having problems with log4j dependencies versions. I have modified all the dependencies that were giving me problems but I still couldn&#39;t solve the problem. The error is as follows:\r\n\r\n``` \r\nJava HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\r\nSLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\nSLF4J: Class path contains SLF4J bindings targeting slf4j-api versions 1.7.x or earlier.\r\nSLF4J: Ignoring binding found at [jar:file:/C:/Users/Pablo/.m2/repository/org/apache/logging/log4j/log4j-slf4j-impl/2.18.0/log4j-slf4j-impl-2.18.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See https://www.slf4j.org/codes.html#ignoredBindings for an explanation.\r\nERROR [2023-01-27 11:54:41] [ org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter report 40]  \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    org.springframework.boot.logging.log4j2.Log4J2LoggingSystem.initialize(Log4J2LoggingSystem.java:242)\r\n\r\nThe following method did not exist:\r\n\r\n    &#39;void org.apache.logging.log4j.util.PropertiesUtil.addPropertySource(org.apache.logging.log4j.util.PropertySource)&#39;\r\n\r\nThe calling method&#39;s class, org.springframework.boot.logging.log4j2.Log4J2LoggingSystem, was loaded from the following location:\r\n\r\n    jar:file:/C:/Users/Pablo/.m2/repository/org/springframework/boot/spring-boot/3.0.2/spring-boot-3.0.2.jar!/org/springframework/boot/logging/log4j2/Log4J2LoggingSystem.class\r\n\r\nThe called method&#39;s class, org.apache.logging.log4j.util.PropertiesUtil, is available from the following locations:\r\n\r\n    jar:file:/C:/Users/Pablo/.m2/repository/org/apache/logging/log4j/log4j-api/2.18.0/log4j-api-2.18.0.jar!/org/apache/logging/log4j/util/PropertiesUtil.class\r\n\r\nThe called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n    org.apache.logging.log4j.util.PropertiesUtil: file:/C:/Users/Pablo/.m2/repository/org/apache/logging/log4j/log4j-api/2.18.0/log4j-api-2.18.0.jar\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains compatible versions of the classes org.springframework.boot.logging.log4j2.Log4J2LoggingSystem and org.apache.logging.log4j.util.PropertiesUtil\r\n\r\n\r\nProcess finished with exit code 0\r\n\r\n```\r\nAnd the service dependencies are:\r\n\r\n```\r\n --- maven-dependency-plugin:2.8:tree (default-cli) @ core ---\r\n[INFO] es._3xs.adp:core:jar:1.0-SNAPSHOT                                                   \r\n[INFO] +- es._3xs.adp:library:jar:1.0-SNAPSHOT:compile                                     \r\n[INFO] |  +- org.springframework.boot:spring-boot-configuration-processor:jar:3.0.2:compile\r\n[INFO] |  +- org.springframework:spring-websocket:jar:6.0.4:compile                        \r\n[INFO] |  |  \\- org.springframework:spring-context:jar:6.0.4:compile                       \r\n[INFO] |  +- org.springframework.retry:spring-retry:jar:2.0.0:compile\r\n[INFO] |  +- com.opencsv:opencsv:jar:5.5.2:compile\r\n[INFO] |  |  +- org.apache.commons:commons-lang3:jar:3.12.0:compile\r\n[INFO] |  |  +- org.apache.commons:commons-text:jar:1.9:compile\r\n[INFO] |  |  +- commons-beanutils:commons-beanutils:jar:1.9.4:compile\r\n[INFO] |  |  |  +- commons-logging:commons-logging:jar:1.2:compile\r\n[INFO] |  |  |  \\- commons-collections:commons-collections:jar:3.2.2:compile\r\n[INFO] |  |  \\- org.apache.commons:commons-collections4:jar:4.4:compile\r\n[INFO] |  \\- org.apache.httpcomponents:httpclient:jar:4.5.14:compile\r\n[INFO] |     \\- commons-codec:commons-codec:jar:1.15:compile\r\n[INFO] +- org.springframework.data:spring-data-redis:jar:3.0.1:compile\r\n[INFO] |  +- org.springframework.data:spring-data-keyvalue:jar:3.0.1:compile\r\n[INFO] |  |  \\- org.springframework.data:spring-data-commons:jar:3.0.1:compile\r\n[INFO] |  +- org.springframework:spring-tx:jar:6.0.4:compile\r\n[INFO] |  +- org.springframework:spring-oxm:jar:6.0.4:compile\r\n[INFO] |  +- org.springframework:spring-aop:jar:6.0.4:compile\r\n[INFO] |  +- org.springframework:spring-context-support:jar:6.0.4:compile\r\n[INFO] |  \\- org.slf4j:slf4j-api:jar:2.0.6:compile\r\n[INFO] +- redis.clients:jedis:jar:3.7.0:compile\r\n[INFO] |  \\- org.apache.commons:commons-pool2:jar:2.11.1:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-websocket:jar:3.0.2:compile\r\n[INFO] |  \\- org.springframework:spring-messaging:jar:6.0.4:compile\r\n[INFO] +- commons-io:commons-io:jar:2.6:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-mail:jar:3.0.2:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.0.2:compile\r\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\r\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\r\n[INFO] |  \\- org.eclipse.angus:jakarta.mail:jar:1.0.0:compile\r\n[INFO] |     \\- org.eclipse.angus:angus-activation:jar:1.0.0:runtime\r\n[INFO] +- uk.org.webcompere:system-stubs-junit4:jar:1.2.0:test\r\n[INFO] |  \\- uk.org.webcompere:system-stubs-core:jar:1.2.0:test\r\n[INFO] +- com.h2database:h2:jar:1.4.200:compile\r\n[INFO] +- org.apache.httpcomponents.client5:httpclient5:jar:5.2.1:compile\r\n[INFO] |  +- org.apache.httpcomponents.core5:httpcore5:jar:5.1.5:compile\r\n[INFO] |  \\- org.apache.httpcomponents.core5:httpcore5-h2:jar:5.1.5:compile\r\n[INFO] +- org.apache.httpcomponents:httpcore:jar:4.4.13:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-thymeleaf:jar:3.0.2:compile\r\n[INFO] |  \\- org.thymeleaf:thymeleaf-spring6:jar:3.1.1.RELEASE:compile\r\n[INFO] |     \\- org.thymeleaf:thymeleaf:jar:3.1.1.RELEASE:compile\r\n[INFO] |        +- org.attoparser:attoparser:jar:2.0.6.RELEASE:compile\r\n[INFO] |        \\- org.unbescape:unbescape:jar:1.1.6.RELEASE:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-data-rest:jar:3.0.2:compile\r\n[INFO] |  \\- org.springframework.data:spring-data-rest-webmvc:jar:4.0.1:compile\r\n[INFO] |     \\- org.springframework.data:spring-data-rest-core:jar:4.0.1:compile\r\n[INFO] |        +- org.springframework.hateoas:spring-hateoas:jar:2.0.1:compile\r\n[INFO] |        +- org.springframework.plugin:spring-plugin-core:jar:3.0.0:compile\r\n[INFO] |        \\- org.atteo:evo-inflector:jar:1.3:compile\r\n[INFO] +- org.thymeleaf.extras:thymeleaf-extras-springsecurity5:jar:3.0.4.RELEASE:compile\r\n[INFO] +- org.springframework.boot:spring-boot-devtools:jar:3.0.2:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot:jar:3.0.2:compile\r\n[INFO] |  \\- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.2:compile\r\n[INFO] +- org.springframework.ldap:spring-ldap-core:jar:2.3.6.RELEASE:compile\r\n[INFO] |  +- org.springframework:spring-beans:jar:6.0.4:compile\r\n[INFO] |  \\- org.springframework:spring-core:jar:6.0.4:compile\r\n[INFO] |     \\- org.springframework:spring-jcl:jar:6.0.4:compile\r\n[INFO] +- com.github.wvengen:proguard-maven-plugin:jar:2.6.0:compile\r\n[INFO] |  +- org.apache.ant:ant:jar:1.10.12:compile\r\n[INFO] |  |  \\- org.apache.ant:ant-launcher:jar:1.10.12:compile\r\n[INFO] |  +- org.apache.maven:maven-archiver:jar:2.4:compile\r\n[INFO] |  |  +- org.apache.maven:maven-artifact:jar:2.0:compile\r\n[INFO] |  |  +- org.apache.maven:maven-model:jar:2.0:compile\r\n[INFO] |  |  +- org.apache.maven:maven-project:jar:2.0:compile\r\n[INFO] |  |  |  +- org.apache.maven:maven-profile:jar:2.0:compile\r\n[INFO] |  |  |  +- org.apache.maven:maven-artifact-manager:jar:2.0:compile\r\n[INFO] |  |  |  |  +- org.apache.maven:maven-repository-metadata:jar:2.0:compile\r\n[INFO] |  |  |  |  \\- org.apache.maven.wagon:wagon-provider-api:jar:1.0-alpha-5:compile\r\n[INFO] |  |  |  \\- org.codehaus.plexus:plexus-container-default:jar:1.0-alpha-8:compile\r\n[INFO] |  |  |     \\- classworlds:classworlds:jar:1.1-alpha-2:compile\r\n[INFO] |  |  +- org.codehaus.plexus:plexus-archiver:jar:1.0-alpha-11:compile\r\n[INFO] |  |  |  +- org.codehaus.plexus:plexus-component-api:jar:1.0-alpha-15:compile\r\n[INFO] |  |  |  \\- org.codehaus.plexus:plexus-io:jar:1.0-alpha-3:compile\r\n[INFO] |  |  +- org.codehaus.plexus:plexus-utils:jar:1.4.9:compile\r\n[INFO] |  |  \\- org.codehaus.plexus:plexus-interpolation:jar:1.6:compile\r\n[INFO] |  \\- org.apache.maven:maven-plugin-api:jar:3.8.6:compile\r\n[INFO] |     +- org.eclipse.sisu:org.eclipse.sisu.plexus:jar:0.3.5:compile\r\n[INFO] |     |  +- javax.annotation:javax.annotation-api:jar:1.2:compile\r\n[INFO] |     |  +- org.eclipse.sisu:org.eclipse.sisu.inject:jar:0.3.5:compile\r\n[INFO] |     |  \\- org.codehaus.plexus:plexus-component-annotations:jar:1.5.5:compile\r\n[INFO] |     \\- org.codehaus.plexus:plexus-classworlds:jar:2.6.0:compile\r\n[INFO] +- org.projectlombok:lombok:jar:1.18.22:compile\r\n[INFO] +- javax.validation:validation-api:jar:2.0.1.Final:compile\r\n[INFO] +- org.springframework.cloud:spring-cloud-starter-oauth2:jar:2.2.5.RELEASE:compile\r\n[INFO] |  +- org.springframework.cloud:spring-cloud-starter-security:jar:2.2.5.RELEASE:compile\r\n[INFO] |  |  \\- org.springframework.cloud:spring-cloud-security:jar:2.2.5.RELEASE:compile\r\n[INFO] |  |     \\- org.springframework.boot:spring-boot-starter-security:jar:3.0.2:compile\r\n[INFO] |  +- org.springframework.security.oauth.boot:spring-security-oauth2-autoconfigure:jar:2.1.2.RELEASE:compile\r\n[INFO] |  |  +- org.springframework.security.oauth:spring-security-oauth2:jar:2.3.4.RELEASE:compile\r\n[INFO] |  |  |  +- org.springframework.security:spring-security-core:jar:6.0.1:compile\r\n[INFO] |  |  |  +- org.springframework.security:spring-security-config:jar:6.0.1:compile\r\n[INFO] |  |  |  +- org.springframework.security:spring-security-web:jar:6.0.1:compile\r\n[INFO] |  |  |  \\- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13:compile\r\n[INFO] |  |  |     \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.13:compile\r\n[INFO] |  |  \\- org.springframework.security:spring-security-jwt:jar:1.0.9.RELEASE:compile\r\n[INFO] |  |     \\- org.bouncycastle:bcpkix-jdk15on:jar:1.56:compile\r\n[INFO] |  |        \\- org.bouncycastle:bcprov-jdk15on:jar:1.56:compile\r\n[INFO] |  \\- javax.activation:javax.activation-api:jar:1.2.0:compile\r\n[INFO] +- org.glassfish.jaxb:jaxb-runtime:jar:2.3.2:compile\r\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\r\n[INFO] |  +- org.glassfish.jaxb:txw2:jar:4.0.1:compile\r\n[INFO] |  +- com.sun.istack:istack-commons-runtime:jar:4.1.1:compile\r\n[INFO] |  +- org.jvnet.staxex:stax-ex:jar:2.1.0:compile\r\n[INFO] |  +- com.sun.xml.fastinfoset:FastInfoset:jar:2.1.0:compile\r\n[INFO] |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.1:compile\r\n[INFO] +- com.sun.xml.bind:jaxb-core:jar:3.0.2:compile\r\n[INFO] |  \\- com.sun.activation:jakarta.activation:jar:2.0.1:compile\r\n[INFO] +- com.sun.xml.bind:jaxb-impl:jar:2.3.0:compile\r\n[INFO] +- javax.xml.bind:jaxb-api:jar:2.4.0-b180830.0359:compile\r\n[INFO] +- com.fasterxml.jackson.dataformat:jackson-dataformat-xml:jar:2.13.0:compile\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-core:jar:2.14.1:compile\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.1:compile\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.1:compile\r\n[INFO] |  +- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\r\n[INFO] |  \\- com.fasterxml.woodstox:woodstox-core:jar:6.2.6:compile\r\n[INFO] +- net.sourceforge.jtds:jtds:jar:1.3.1:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:3.0.2:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:3.0.2:compile\r\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.19:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:3.0.2:compile\r\n[INFO] |  |  +- com.zaxxer:HikariCP:jar:5.0.1:compile\r\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:6.0.4:compile\r\n[INFO] |  +- org.hibernate.orm:hibernate-core:jar:6.1.6.Final:compile\r\n[INFO] |  |  +- jakarta.persistence:jakarta.persistence-api:jar:3.1.0:compile\r\n[INFO] |  |  +- jakarta.transaction:jakarta.transaction-api:jar:2.0.1:compile\r\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.5.0.Final:runtime\r\n[INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:6.0.2.Final:runtime\r\n[INFO] |  |  +- org.jboss:jandex:jar:2.4.2.Final:runtime\r\n[INFO] |  |  +- com.fasterxml:classmate:jar:1.5.1:runtime\r\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.12.22:runtime\r\n[INFO] |  |  +- jakarta.inject:jakarta.inject-api:jar:2.0.0:runtime\r\n[INFO] |  |  \\- org.antlr:antlr4-runtime:jar:4.10.1:runtime\r\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:3.0.1:compile\r\n[INFO] |  |  \\- org.springframework:spring-orm:jar:6.0.4:compile\r\n[INFO] |  \\- org.springframework:spring-aspects:jar:6.0.4:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.0.2:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.0.2:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.1:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.1:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.1:compile\r\n[INFO] |  +- org.springframework:spring-web:jar:6.0.4:compile\r\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.4:compile\r\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.4:compile\r\n[INFO] +- org.apache.logging.log4j:log4j-core:jar:2.18.0:compile\r\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.18.0:compile\r\n[INFO] +- org.apache.logging.log4j:log4j-jul:jar:2.18.0:compile\r\n[INFO] +- org.apache.logging.log4j:log4j-slf4j-impl:jar:2.18.0:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-log4j2:jar:2.6.3:compile\r\n[INFO] |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-jetty:jar:3.0.2:compile\r\n[INFO] |  +- jakarta.servlet:jakarta.servlet-api:jar:6.0.0:compile\r\n[INFO] |  +- jakarta.websocket:jakarta.websocket-api:jar:2.1.0:compile\r\n[INFO] |  +- jakarta.websocket:jakarta.websocket-client-api:jar:2.1.0:compile\r\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.5:compile\r\n[INFO] |  +- org.eclipse.jetty:jetty-servlets:jar:11.0.13:compile\r\n[INFO] |  |  +- org.eclipse.jetty:jetty-http:jar:11.0.13:compile\r\n[INFO] |  |  +- org.eclipse.jetty:jetty-util:jar:11.0.13:compile\r\n[INFO] |  |  \\- org.eclipse.jetty:jetty-io:jar:11.0.13:compile\r\n[INFO] |  +- org.eclipse.jetty:jetty-webapp:jar:11.0.13:compile\r\n[INFO] |  |  +- org.eclipse.jetty:jetty-servlet:jar:11.0.13:compile\r\n[INFO] |  |  |  \\- org.eclipse.jetty:jetty-security:jar:11.0.13:compile\r\n[INFO] |  |  |     \\- org.eclipse.jetty:jetty-server:jar:11.0.13:compile\r\n[INFO] |  |  \\- org.eclipse.jetty:jetty-xml:jar:11.0.13:compile\r\n[INFO] |  +- org.eclipse.jetty.websocket:websocket-jakarta-server:jar:11.0.13:compile\r\n[INFO] |  |  +- org.eclipse.jetty.websocket:websocket-jakarta-client:jar:11.0.13:compile\r\n[INFO] |  |  |  +- org.eclipse.jetty.websocket:websocket-jakarta-common:jar:11.0.13:compile\r\n[INFO] |  |  |  +- org.eclipse.jetty.websocket:websocket-core-client:jar:11.0.13:compile\r\n[INFO] |  |  |  \\- org.eclipse.jetty:jetty-client:jar:11.0.13:compile\r\n[INFO] |  |  |     \\- org.eclipse.jetty:jetty-alpn-client:jar:11.0.13:compile\r\n[INFO] |  |  +- org.eclipse.jetty.websocket:websocket-servlet:jar:11.0.13:compile\r\n[INFO] |  |  |  \\- org.eclipse.jetty.websocket:websocket-core-server:jar:11.0.13:compile\r\n[INFO] |  |  \\- org.eclipse.jetty:jetty-annotations:jar:11.0.13:compile\r\n[INFO] |  |     +- org.eclipse.jetty:jetty-plus:jar:11.0.13:compile\r\n[INFO] |  |     |  \\- org.eclipse.jetty:jetty-jndi:jar:11.0.13:compile\r\n[INFO] |  |     +- org.ow2.asm:asm:jar:9.4:compile\r\n[INFO] |  |     \\- org.ow2.asm:asm-commons:jar:9.4:compile\r\n[INFO] |  |        \\- org.ow2.asm:asm-tree:jar:9.4:compile\r\n[INFO] |  \\- org.eclipse.jetty.websocket:websocket-jetty-server:jar:11.0.13:compile\r\n[INFO] |     +- org.eclipse.jetty.websocket:websocket-jetty-api:jar:11.0.13:compile\r\n[INFO] |     \\- org.eclipse.jetty.websocket:websocket-jetty-common:jar:11.0.13:compile\r\n[INFO] |        \\- org.eclipse.jetty.websocket:websocket-core-common:jar:11.0.13:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-actuator:jar:3.0.2:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-actuator-autoconfigure:jar:3.0.2:compile\r\n[INFO] |  |  \\- org.springframework.boot:spring-boot-actuator:jar:3.0.2:compile\r\n[INFO] |  \\- io.micrometer:micrometer-observation:jar:1.10.3:compile\r\n[INFO] |     \\- io.micrometer:micrometer-commons:jar:1.10.3:compile\r\n[INFO] +- org.springframework.cloud:spring-cloud-starter-netflix-eureka-client:jar:3.1.0:compile\r\n[INFO] |  +- org.springframework.cloud:spring-cloud-starter:jar:3.1.0:compile\r\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-context:jar:3.1.0:compile\r\n[INFO] |  |  |  \\- org.springframework.security:spring-security-crypto:jar:6.0.1:compile\r\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-commons:jar:3.1.0:compile\r\n[INFO] |  |  \\- org.springframework.security:spring-security-rsa:jar:1.0.10.RELEASE:compile\r\n[INFO] |  +- org.springframework.cloud:spring-cloud-netflix-eureka-client:jar:3.1.0:compile\r\n[INFO] |  +- com.netflix.eureka:eureka-client:jar:1.10.17:compile\r\n[INFO] |  |  +- com.netflix.netflix-commons:netflix-eventbus:jar:0.3.0:compile\r\n[INFO] |  |  |  +- com.netflix.netflix-commons:netflix-infix:jar:0.3.0:runtime\r\n[INFO] |  |  |  |  +- commons-jxpath:commons-jxpath:jar:1.3:runtime\r\n[INFO] |  |  |  |  +- joda-time:joda-time:jar:2.3:runtime\r\n[INFO] |  |  |  |  +- org.antlr:antlr-runtime:jar:3.4:runtime\r\n[INFO] |  |  |  |  |  +- org.antlr:stringtemplate:jar:3.2.1:runtime\r\n[INFO] |  |  |  |  |  \\- antlr:antlr:jar:2.7.7:runtime\r\n[INFO] |  |  |  |  \\- com.google.code.gson:gson:jar:2.9.1:runtime\r\n[INFO] |  |  |  \\- org.apache.commons:commons-math:jar:2.2:runtime\r\n[INFO] |  |  +- com.thoughtworks.xstream:xstream:jar:1.4.18:compile\r\n[INFO] |  |  |  \\- io.github.x-stream:mxparser:jar:1.2.2:compile\r\n[INFO] |  |  |     \\- xmlpull:xmlpull:jar:1.1.3.1:compile\r\n[INFO] |  |  +- javax.ws.rs:jsr311-api:jar:1.1.1:compile\r\n[INFO] |  |  +- com.netflix.servo:servo-core:jar:0.12.21:compile\r\n[INFO] |  |  |  \\- com.google.guava:guava:jar:19.0:compile\r\n[INFO] |  |  +- commons-configuration:commons-configuration:jar:1.10:compile\r\n[INFO] |  |  |  \\- commons-lang:commons-lang:jar:2.6:compile\r\n[INFO] |  |  +- com.google.inject:guice:jar:4.1.0:compile\r\n[INFO] |  |  |  \\- javax.inject:javax.inject:jar:1:compile\r\n[INFO] |  |  \\- org.codehaus.jettison:jettison:jar:1.4.0:runtime\r\n[INFO] |  +- com.netflix.eureka:eureka-core:jar:1.10.17:compile\r\n[INFO] |  \\- org.springframework.cloud:spring-cloud-starter-loadbalancer:jar:3.1.0:compile\r\n[INFO] |     +- org.springframework.cloud:spring-cloud-loadbalancer:jar:3.1.0:compile\r\n[INFO] |     |  +- io.projectreactor:reactor-core:jar:3.5.2:compile\r\n[INFO] |     |  |  \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\r\n[INFO] |     |  \\- io.projectreactor.addons:reactor-extra:jar:3.5.0:compile\r\n[INFO] |     +- org.springframework.boot:spring-boot-starter-cache:jar:3.0.2:compile\r\n[INFO] |     \\- com.stoyanr:evictor:jar:1.0.0:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:3.0.2:test\r\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.2:test\r\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:compile\r\n[INFO] |  |  \\- net.minidev:json-smart:jar:2.4.8:compile\r\n[INFO] |  |     \\- net.minidev:accessors-smart:jar:2.4.8:compile\r\n[INFO] |  +- org.assertj:assertj-core:jar:3.23.1:test\r\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\r\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.2:test\r\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:test\r\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:test\r\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:test\r\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:test\r\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:test\r\n[INFO] |  +- org.mockito:mockito-core:jar:4.8.1:test\r\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.22:test\r\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:test\r\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.8.1:test\r\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:test\r\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n[INFO] |  +- org.springframework:spring-test:jar:6.0.4:test\r\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\r\n[INFO] +- org.springframework.boot:spring-boot-test:jar:3.0.2:compile\r\n[INFO] +- junit:junit:jar:4.13.1:test\r\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:2.2:test\r\n[INFO] +- io.micrometer:micrometer-core:jar:1.8.1:compile\r\n[INFO] |  +- org.hdrhistogram:HdrHistogram:jar:2.1.12:compile\r\n[INFO] |  \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\r\n[INFO] \\- io.micrometer:micrometer-registry-prometheus:jar:1.8.0:compile\r\n[INFO]    \\- io.prometheus:simpleclient_common:jar:0.16.0:compile\r\n[INFO]       \\- io.prometheus:simpleclient:jar:0.16.0:compile\r\n[INFO]          +- io.prometheus:simpleclient_tracer_otel:jar:0.16.0:compile\r\n[INFO]          |  \\- io.prometheus:simpleclient_tracer_common:jar:0.16.0:compile\r\n[INFO]          \\- io.prometheus:simpleclient_tracer_otel_agent:jar:0.16.0:compile\r\n[INFO]\r\n```\r\n\r\nDoes anyone know which versions of the dependencies are compatible with each other?","title":"Correct the classpath of your application so that it contains compatible versions of the classes Log4J2LoggingSystem and PropertiesUtil","body":"<p>I'm migrating a project from Spring Boot 2.6.1 to Spring Boot 3.0.2 and I'm having problems with log4j dependencies versions. I have modified all the dependencies that were giving me problems but I still couldn't solve the problem. The error is as follows:</p>\n<pre><code>Java HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\nSLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nSLF4J: Class path contains SLF4J bindings targeting slf4j-api versions 1.7.x or earlier.\nSLF4J: Ignoring binding found at [jar:file:/C:/Users/Pablo/.m2/repository/org/apache/logging/log4j/log4j-slf4j-impl/2.18.0/log4j-slf4j-impl-2.18.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See https://www.slf4j.org/codes.html#ignoredBindings for an explanation.\nERROR [2023-01-27 11:54:41] [ org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter report 40]  \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    org.springframework.boot.logging.log4j2.Log4J2LoggingSystem.initialize(Log4J2LoggingSystem.java:242)\n\nThe following method did not exist:\n\n    'void org.apache.logging.log4j.util.PropertiesUtil.addPropertySource(org.apache.logging.log4j.util.PropertySource)'\n\nThe calling method's class, org.springframework.boot.logging.log4j2.Log4J2LoggingSystem, was loaded from the following location:\n\n    jar:file:/C:/Users/Pablo/.m2/repository/org/springframework/boot/spring-boot/3.0.2/spring-boot-3.0.2.jar!/org/springframework/boot/logging/log4j2/Log4J2LoggingSystem.class\n\nThe called method's class, org.apache.logging.log4j.util.PropertiesUtil, is available from the following locations:\n\n    jar:file:/C:/Users/Pablo/.m2/repository/org/apache/logging/log4j/log4j-api/2.18.0/log4j-api-2.18.0.jar!/org/apache/logging/log4j/util/PropertiesUtil.class\n\nThe called method's class hierarchy was loaded from the following locations:\n\n    org.apache.logging.log4j.util.PropertiesUtil: file:/C:/Users/Pablo/.m2/repository/org/apache/logging/log4j/log4j-api/2.18.0/log4j-api-2.18.0.jar\n\n\nAction:\n\nCorrect the classpath of your application so that it contains compatible versions of the classes org.springframework.boot.logging.log4j2.Log4J2LoggingSystem and org.apache.logging.log4j.util.PropertiesUtil\n\n\nProcess finished with exit code 0\n\n</code></pre>\n<p>And the service dependencies are:</p>\n<pre><code> --- maven-dependency-plugin:2.8:tree (default-cli) @ core ---\n[INFO] es._3xs.adp:core:jar:1.0-SNAPSHOT                                                   \n[INFO] +- es._3xs.adp:library:jar:1.0-SNAPSHOT:compile                                     \n[INFO] |  +- org.springframework.boot:spring-boot-configuration-processor:jar:3.0.2:compile\n[INFO] |  +- org.springframework:spring-websocket:jar:6.0.4:compile                        \n[INFO] |  |  \\- org.springframework:spring-context:jar:6.0.4:compile                       \n[INFO] |  +- org.springframework.retry:spring-retry:jar:2.0.0:compile\n[INFO] |  +- com.opencsv:opencsv:jar:5.5.2:compile\n[INFO] |  |  +- org.apache.commons:commons-lang3:jar:3.12.0:compile\n[INFO] |  |  +- org.apache.commons:commons-text:jar:1.9:compile\n[INFO] |  |  +- commons-beanutils:commons-beanutils:jar:1.9.4:compile\n[INFO] |  |  |  +- commons-logging:commons-logging:jar:1.2:compile\n[INFO] |  |  |  \\- commons-collections:commons-collections:jar:3.2.2:compile\n[INFO] |  |  \\- org.apache.commons:commons-collections4:jar:4.4:compile\n[INFO] |  \\- org.apache.httpcomponents:httpclient:jar:4.5.14:compile\n[INFO] |     \\- commons-codec:commons-codec:jar:1.15:compile\n[INFO] +- org.springframework.data:spring-data-redis:jar:3.0.1:compile\n[INFO] |  +- org.springframework.data:spring-data-keyvalue:jar:3.0.1:compile\n[INFO] |  |  \\- org.springframework.data:spring-data-commons:jar:3.0.1:compile\n[INFO] |  +- org.springframework:spring-tx:jar:6.0.4:compile\n[INFO] |  +- org.springframework:spring-oxm:jar:6.0.4:compile\n[INFO] |  +- org.springframework:spring-aop:jar:6.0.4:compile\n[INFO] |  +- org.springframework:spring-context-support:jar:6.0.4:compile\n[INFO] |  \\- org.slf4j:slf4j-api:jar:2.0.6:compile\n[INFO] +- redis.clients:jedis:jar:3.7.0:compile\n[INFO] |  \\- org.apache.commons:commons-pool2:jar:2.11.1:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-websocket:jar:3.0.2:compile\n[INFO] |  \\- org.springframework:spring-messaging:jar:6.0.4:compile\n[INFO] +- commons-io:commons-io:jar:2.6:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-mail:jar:3.0.2:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.0.2:compile\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\n[INFO] |  \\- org.eclipse.angus:jakarta.mail:jar:1.0.0:compile\n[INFO] |     \\- org.eclipse.angus:angus-activation:jar:1.0.0:runtime\n[INFO] +- uk.org.webcompere:system-stubs-junit4:jar:1.2.0:test\n[INFO] |  \\- uk.org.webcompere:system-stubs-core:jar:1.2.0:test\n[INFO] +- com.h2database:h2:jar:1.4.200:compile\n[INFO] +- org.apache.httpcomponents.client5:httpclient5:jar:5.2.1:compile\n[INFO] |  +- org.apache.httpcomponents.core5:httpcore5:jar:5.1.5:compile\n[INFO] |  \\- org.apache.httpcomponents.core5:httpcore5-h2:jar:5.1.5:compile\n[INFO] +- org.apache.httpcomponents:httpcore:jar:4.4.13:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-thymeleaf:jar:3.0.2:compile\n[INFO] |  \\- org.thymeleaf:thymeleaf-spring6:jar:3.1.1.RELEASE:compile\n[INFO] |     \\- org.thymeleaf:thymeleaf:jar:3.1.1.RELEASE:compile\n[INFO] |        +- org.attoparser:attoparser:jar:2.0.6.RELEASE:compile\n[INFO] |        \\- org.unbescape:unbescape:jar:1.1.6.RELEASE:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-data-rest:jar:3.0.2:compile\n[INFO] |  \\- org.springframework.data:spring-data-rest-webmvc:jar:4.0.1:compile\n[INFO] |     \\- org.springframework.data:spring-data-rest-core:jar:4.0.1:compile\n[INFO] |        +- org.springframework.hateoas:spring-hateoas:jar:2.0.1:compile\n[INFO] |        +- org.springframework.plugin:spring-plugin-core:jar:3.0.0:compile\n[INFO] |        \\- org.atteo:evo-inflector:jar:1.3:compile\n[INFO] +- org.thymeleaf.extras:thymeleaf-extras-springsecurity5:jar:3.0.4.RELEASE:compile\n[INFO] +- org.springframework.boot:spring-boot-devtools:jar:3.0.2:compile\n[INFO] |  +- org.springframework.boot:spring-boot:jar:3.0.2:compile\n[INFO] |  \\- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.2:compile\n[INFO] +- org.springframework.ldap:spring-ldap-core:jar:2.3.6.RELEASE:compile\n[INFO] |  +- org.springframework:spring-beans:jar:6.0.4:compile\n[INFO] |  \\- org.springframework:spring-core:jar:6.0.4:compile\n[INFO] |     \\- org.springframework:spring-jcl:jar:6.0.4:compile\n[INFO] +- com.github.wvengen:proguard-maven-plugin:jar:2.6.0:compile\n[INFO] |  +- org.apache.ant:ant:jar:1.10.12:compile\n[INFO] |  |  \\- org.apache.ant:ant-launcher:jar:1.10.12:compile\n[INFO] |  +- org.apache.maven:maven-archiver:jar:2.4:compile\n[INFO] |  |  +- org.apache.maven:maven-artifact:jar:2.0:compile\n[INFO] |  |  +- org.apache.maven:maven-model:jar:2.0:compile\n[INFO] |  |  +- org.apache.maven:maven-project:jar:2.0:compile\n[INFO] |  |  |  +- org.apache.maven:maven-profile:jar:2.0:compile\n[INFO] |  |  |  +- org.apache.maven:maven-artifact-manager:jar:2.0:compile\n[INFO] |  |  |  |  +- org.apache.maven:maven-repository-metadata:jar:2.0:compile\n[INFO] |  |  |  |  \\- org.apache.maven.wagon:wagon-provider-api:jar:1.0-alpha-5:compile\n[INFO] |  |  |  \\- org.codehaus.plexus:plexus-container-default:jar:1.0-alpha-8:compile\n[INFO] |  |  |     \\- classworlds:classworlds:jar:1.1-alpha-2:compile\n[INFO] |  |  +- org.codehaus.plexus:plexus-archiver:jar:1.0-alpha-11:compile\n[INFO] |  |  |  +- org.codehaus.plexus:plexus-component-api:jar:1.0-alpha-15:compile\n[INFO] |  |  |  \\- org.codehaus.plexus:plexus-io:jar:1.0-alpha-3:compile\n[INFO] |  |  +- org.codehaus.plexus:plexus-utils:jar:1.4.9:compile\n[INFO] |  |  \\- org.codehaus.plexus:plexus-interpolation:jar:1.6:compile\n[INFO] |  \\- org.apache.maven:maven-plugin-api:jar:3.8.6:compile\n[INFO] |     +- org.eclipse.sisu:org.eclipse.sisu.plexus:jar:0.3.5:compile\n[INFO] |     |  +- javax.annotation:javax.annotation-api:jar:1.2:compile\n[INFO] |     |  +- org.eclipse.sisu:org.eclipse.sisu.inject:jar:0.3.5:compile\n[INFO] |     |  \\- org.codehaus.plexus:plexus-component-annotations:jar:1.5.5:compile\n[INFO] |     \\- org.codehaus.plexus:plexus-classworlds:jar:2.6.0:compile\n[INFO] +- org.projectlombok:lombok:jar:1.18.22:compile\n[INFO] +- javax.validation:validation-api:jar:2.0.1.Final:compile\n[INFO] +- org.springframework.cloud:spring-cloud-starter-oauth2:jar:2.2.5.RELEASE:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-starter-security:jar:2.2.5.RELEASE:compile\n[INFO] |  |  \\- org.springframework.cloud:spring-cloud-security:jar:2.2.5.RELEASE:compile\n[INFO] |  |     \\- org.springframework.boot:spring-boot-starter-security:jar:3.0.2:compile\n[INFO] |  +- org.springframework.security.oauth.boot:spring-security-oauth2-autoconfigure:jar:2.1.2.RELEASE:compile\n[INFO] |  |  +- org.springframework.security.oauth:spring-security-oauth2:jar:2.3.4.RELEASE:compile\n[INFO] |  |  |  +- org.springframework.security:spring-security-core:jar:6.0.1:compile\n[INFO] |  |  |  +- org.springframework.security:spring-security-config:jar:6.0.1:compile\n[INFO] |  |  |  +- org.springframework.security:spring-security-web:jar:6.0.1:compile\n[INFO] |  |  |  \\- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13:compile\n[INFO] |  |  |     \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.13:compile\n[INFO] |  |  \\- org.springframework.security:spring-security-jwt:jar:1.0.9.RELEASE:compile\n[INFO] |  |     \\- org.bouncycastle:bcpkix-jdk15on:jar:1.56:compile\n[INFO] |  |        \\- org.bouncycastle:bcprov-jdk15on:jar:1.56:compile\n[INFO] |  \\- javax.activation:javax.activation-api:jar:1.2.0:compile\n[INFO] +- org.glassfish.jaxb:jaxb-runtime:jar:2.3.2:compile\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\n[INFO] |  +- org.glassfish.jaxb:txw2:jar:4.0.1:compile\n[INFO] |  +- com.sun.istack:istack-commons-runtime:jar:4.1.1:compile\n[INFO] |  +- org.jvnet.staxex:stax-ex:jar:2.1.0:compile\n[INFO] |  +- com.sun.xml.fastinfoset:FastInfoset:jar:2.1.0:compile\n[INFO] |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.1:compile\n[INFO] +- com.sun.xml.bind:jaxb-core:jar:3.0.2:compile\n[INFO] |  \\- com.sun.activation:jakarta.activation:jar:2.0.1:compile\n[INFO] +- com.sun.xml.bind:jaxb-impl:jar:2.3.0:compile\n[INFO] +- javax.xml.bind:jaxb-api:jar:2.4.0-b180830.0359:compile\n[INFO] +- com.fasterxml.jackson.dataformat:jackson-dataformat-xml:jar:2.13.0:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-core:jar:2.14.1:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.1:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.1:compile\n[INFO] |  +- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\n[INFO] |  \\- com.fasterxml.woodstox:woodstox-core:jar:6.2.6:compile\n[INFO] +- net.sourceforge.jtds:jtds:jar:1.3.1:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:3.0.2:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:3.0.2:compile\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.19:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:3.0.2:compile\n[INFO] |  |  +- com.zaxxer:HikariCP:jar:5.0.1:compile\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:6.0.4:compile\n[INFO] |  +- org.hibernate.orm:hibernate-core:jar:6.1.6.Final:compile\n[INFO] |  |  +- jakarta.persistence:jakarta.persistence-api:jar:3.1.0:compile\n[INFO] |  |  +- jakarta.transaction:jakarta.transaction-api:jar:2.0.1:compile\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.5.0.Final:runtime\n[INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:6.0.2.Final:runtime\n[INFO] |  |  +- org.jboss:jandex:jar:2.4.2.Final:runtime\n[INFO] |  |  +- com.fasterxml:classmate:jar:1.5.1:runtime\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.12.22:runtime\n[INFO] |  |  +- jakarta.inject:jakarta.inject-api:jar:2.0.0:runtime\n[INFO] |  |  \\- org.antlr:antlr4-runtime:jar:4.10.1:runtime\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:3.0.1:compile\n[INFO] |  |  \\- org.springframework:spring-orm:jar:6.0.4:compile\n[INFO] |  \\- org.springframework:spring-aspects:jar:6.0.4:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.0.2:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.0.2:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.1:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.1:compile\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.1:compile\n[INFO] |  +- org.springframework:spring-web:jar:6.0.4:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.4:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.4:compile\n[INFO] +- org.apache.logging.log4j:log4j-core:jar:2.18.0:compile\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.18.0:compile\n[INFO] +- org.apache.logging.log4j:log4j-jul:jar:2.18.0:compile\n[INFO] +- org.apache.logging.log4j:log4j-slf4j-impl:jar:2.18.0:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-log4j2:jar:2.6.3:compile\n[INFO] |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-jetty:jar:3.0.2:compile\n[INFO] |  +- jakarta.servlet:jakarta.servlet-api:jar:6.0.0:compile\n[INFO] |  +- jakarta.websocket:jakarta.websocket-api:jar:2.1.0:compile\n[INFO] |  +- jakarta.websocket:jakarta.websocket-client-api:jar:2.1.0:compile\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.5:compile\n[INFO] |  +- org.eclipse.jetty:jetty-servlets:jar:11.0.13:compile\n[INFO] |  |  +- org.eclipse.jetty:jetty-http:jar:11.0.13:compile\n[INFO] |  |  +- org.eclipse.jetty:jetty-util:jar:11.0.13:compile\n[INFO] |  |  \\- org.eclipse.jetty:jetty-io:jar:11.0.13:compile\n[INFO] |  +- org.eclipse.jetty:jetty-webapp:jar:11.0.13:compile\n[INFO] |  |  +- org.eclipse.jetty:jetty-servlet:jar:11.0.13:compile\n[INFO] |  |  |  \\- org.eclipse.jetty:jetty-security:jar:11.0.13:compile\n[INFO] |  |  |     \\- org.eclipse.jetty:jetty-server:jar:11.0.13:compile\n[INFO] |  |  \\- org.eclipse.jetty:jetty-xml:jar:11.0.13:compile\n[INFO] |  +- org.eclipse.jetty.websocket:websocket-jakarta-server:jar:11.0.13:compile\n[INFO] |  |  +- org.eclipse.jetty.websocket:websocket-jakarta-client:jar:11.0.13:compile\n[INFO] |  |  |  +- org.eclipse.jetty.websocket:websocket-jakarta-common:jar:11.0.13:compile\n[INFO] |  |  |  +- org.eclipse.jetty.websocket:websocket-core-client:jar:11.0.13:compile\n[INFO] |  |  |  \\- org.eclipse.jetty:jetty-client:jar:11.0.13:compile\n[INFO] |  |  |     \\- org.eclipse.jetty:jetty-alpn-client:jar:11.0.13:compile\n[INFO] |  |  +- org.eclipse.jetty.websocket:websocket-servlet:jar:11.0.13:compile\n[INFO] |  |  |  \\- org.eclipse.jetty.websocket:websocket-core-server:jar:11.0.13:compile\n[INFO] |  |  \\- org.eclipse.jetty:jetty-annotations:jar:11.0.13:compile\n[INFO] |  |     +- org.eclipse.jetty:jetty-plus:jar:11.0.13:compile\n[INFO] |  |     |  \\- org.eclipse.jetty:jetty-jndi:jar:11.0.13:compile\n[INFO] |  |     +- org.ow2.asm:asm:jar:9.4:compile\n[INFO] |  |     \\- org.ow2.asm:asm-commons:jar:9.4:compile\n[INFO] |  |        \\- org.ow2.asm:asm-tree:jar:9.4:compile\n[INFO] |  \\- org.eclipse.jetty.websocket:websocket-jetty-server:jar:11.0.13:compile\n[INFO] |     +- org.eclipse.jetty.websocket:websocket-jetty-api:jar:11.0.13:compile\n[INFO] |     \\- org.eclipse.jetty.websocket:websocket-jetty-common:jar:11.0.13:compile\n[INFO] |        \\- org.eclipse.jetty.websocket:websocket-core-common:jar:11.0.13:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-actuator:jar:3.0.2:compile\n[INFO] |  +- org.springframework.boot:spring-boot-actuator-autoconfigure:jar:3.0.2:compile\n[INFO] |  |  \\- org.springframework.boot:spring-boot-actuator:jar:3.0.2:compile\n[INFO] |  \\- io.micrometer:micrometer-observation:jar:1.10.3:compile\n[INFO] |     \\- io.micrometer:micrometer-commons:jar:1.10.3:compile\n[INFO] +- org.springframework.cloud:spring-cloud-starter-netflix-eureka-client:jar:3.1.0:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-starter:jar:3.1.0:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-context:jar:3.1.0:compile\n[INFO] |  |  |  \\- org.springframework.security:spring-security-crypto:jar:6.0.1:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-commons:jar:3.1.0:compile\n[INFO] |  |  \\- org.springframework.security:spring-security-rsa:jar:1.0.10.RELEASE:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-netflix-eureka-client:jar:3.1.0:compile\n[INFO] |  +- com.netflix.eureka:eureka-client:jar:1.10.17:compile\n[INFO] |  |  +- com.netflix.netflix-commons:netflix-eventbus:jar:0.3.0:compile\n[INFO] |  |  |  +- com.netflix.netflix-commons:netflix-infix:jar:0.3.0:runtime\n[INFO] |  |  |  |  +- commons-jxpath:commons-jxpath:jar:1.3:runtime\n[INFO] |  |  |  |  +- joda-time:joda-time:jar:2.3:runtime\n[INFO] |  |  |  |  +- org.antlr:antlr-runtime:jar:3.4:runtime\n[INFO] |  |  |  |  |  +- org.antlr:stringtemplate:jar:3.2.1:runtime\n[INFO] |  |  |  |  |  \\- antlr:antlr:jar:2.7.7:runtime\n[INFO] |  |  |  |  \\- com.google.code.gson:gson:jar:2.9.1:runtime\n[INFO] |  |  |  \\- org.apache.commons:commons-math:jar:2.2:runtime\n[INFO] |  |  +- com.thoughtworks.xstream:xstream:jar:1.4.18:compile\n[INFO] |  |  |  \\- io.github.x-stream:mxparser:jar:1.2.2:compile\n[INFO] |  |  |     \\- xmlpull:xmlpull:jar:1.1.3.1:compile\n[INFO] |  |  +- javax.ws.rs:jsr311-api:jar:1.1.1:compile\n[INFO] |  |  +- com.netflix.servo:servo-core:jar:0.12.21:compile\n[INFO] |  |  |  \\- com.google.guava:guava:jar:19.0:compile\n[INFO] |  |  +- commons-configuration:commons-configuration:jar:1.10:compile\n[INFO] |  |  |  \\- commons-lang:commons-lang:jar:2.6:compile\n[INFO] |  |  +- com.google.inject:guice:jar:4.1.0:compile\n[INFO] |  |  |  \\- javax.inject:javax.inject:jar:1:compile\n[INFO] |  |  \\- org.codehaus.jettison:jettison:jar:1.4.0:runtime\n[INFO] |  +- com.netflix.eureka:eureka-core:jar:1.10.17:compile\n[INFO] |  \\- org.springframework.cloud:spring-cloud-starter-loadbalancer:jar:3.1.0:compile\n[INFO] |     +- org.springframework.cloud:spring-cloud-loadbalancer:jar:3.1.0:compile\n[INFO] |     |  +- io.projectreactor:reactor-core:jar:3.5.2:compile\n[INFO] |     |  |  \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\n[INFO] |     |  \\- io.projectreactor.addons:reactor-extra:jar:3.5.0:compile\n[INFO] |     +- org.springframework.boot:spring-boot-starter-cache:jar:3.0.2:compile\n[INFO] |     \\- com.stoyanr:evictor:jar:1.0.0:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:3.0.2:test\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.2:test\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:compile\n[INFO] |  |  \\- net.minidev:json-smart:jar:2.4.8:compile\n[INFO] |  |     \\- net.minidev:accessors-smart:jar:2.4.8:compile\n[INFO] |  +- org.assertj:assertj-core:jar:3.23.1:test\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.2:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:test\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:test\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:test\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:test\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:test\n[INFO] |  +- org.mockito:mockito-core:jar:4.8.1:test\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.22:test\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:test\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.8.1:test\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:test\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n[INFO] |  +- org.springframework:spring-test:jar:6.0.4:test\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\n[INFO] +- org.springframework.boot:spring-boot-test:jar:3.0.2:compile\n[INFO] +- junit:junit:jar:4.13.1:test\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:2.2:test\n[INFO] +- io.micrometer:micrometer-core:jar:1.8.1:compile\n[INFO] |  +- org.hdrhistogram:HdrHistogram:jar:2.1.12:compile\n[INFO] |  \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\n[INFO] \\- io.micrometer:micrometer-registry-prometheus:jar:1.8.0:compile\n[INFO]    \\- io.prometheus:simpleclient_common:jar:0.16.0:compile\n[INFO]       \\- io.prometheus:simpleclient:jar:0.16.0:compile\n[INFO]          +- io.prometheus:simpleclient_tracer_otel:jar:0.16.0:compile\n[INFO]          |  \\- io.prometheus:simpleclient_tracer_common:jar:0.16.0:compile\n[INFO]          \\- io.prometheus:simpleclient_tracer_otel_agent:jar:0.16.0:compile\n[INFO]\n</code></pre>\n<p>Does anyone know which versions of the dependencies are compatible with each other?</p>\n"},{"tags":["java","encryption","rsa"],"answers":[{"tags":[],"owner":{"account_id":28986,"reputation":13677,"user_id":77939,"accept_rate":89,"display_name":"mpontillo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386622121,"creation_date":1386622121,"answer_id":20480468,"question_id":20480219,"body_markdown":"There isn&#39;t anything to &quot;generate&quot;.\r\n\r\nThe `(modulus, exponent)` tuple *is* is the public key.\r\n\r\nFor example, I have a certificate for one of Google&#39;s web servers, and if I run `openssl x509 -in certfile.pem -text`, this is part of the output:\r\n\r\n        Subject Public Key Info:\r\n            Public Key Algorithm: rsaEncryption\r\n            RSA Public Key: (1024 bit)\r\n                Modulus (1024 bit):\r\n                    00:a7:4b:85:b2:80:e5:94:03:6f:ca:4a:e5:6c:a9:\r\n                    71:80:a1:67:f7:b9:46:e8:26:b5:e9:bd:59:4f:7b:\r\n                    dd:1a:50:68:c7:3a:df:73:15:ce:a8:69:00:d4:27:\r\n                    09:a9:cd:e1:d1:6e:2d:c6:a3:e9:3b:d6:aa:94:63:\r\n                    83:1a:64:27:bf:fe:87:90:d4:e6:b8:e4:89:a8:76:\r\n                    23:15:13:e0:27:6b:38:0a:fa:1f:b1:ec:71:0a:ec:\r\n                    34:ff:0d:9c:1c:a7:d6:47:0f:ec:70:6c:2a:6b:89:\r\n                    90:f5:de:58:e9:4e:ae:4d:6f:f0:f1:ca:7d:72:c0:\r\n                    7a:79:94:28:fe:85:01:58:c9\r\n                Exponent: 65537 (0x10001)\r\n\r\nThat&#39;s it. The RSA public key is the modulus and the exponent. I think you have what you need.","title":"Error: RSA Keys must be at least 512 bits long?","body":"<p>There isn't anything to \"generate\".</p>\n\n<p>The <code>(modulus, exponent)</code> tuple <em>is</em> is the public key.</p>\n\n<p>For example, I have a certificate for one of Google's web servers, and if I run <code>openssl x509 -in certfile.pem -text</code>, this is part of the output:</p>\n\n<pre><code>    Subject Public Key Info:\n        Public Key Algorithm: rsaEncryption\n        RSA Public Key: (1024 bit)\n            Modulus (1024 bit):\n                00:a7:4b:85:b2:80:e5:94:03:6f:ca:4a:e5:6c:a9:\n                71:80:a1:67:f7:b9:46:e8:26:b5:e9:bd:59:4f:7b:\n                dd:1a:50:68:c7:3a:df:73:15:ce:a8:69:00:d4:27:\n                09:a9:cd:e1:d1:6e:2d:c6:a3:e9:3b:d6:aa:94:63:\n                83:1a:64:27:bf:fe:87:90:d4:e6:b8:e4:89:a8:76:\n                23:15:13:e0:27:6b:38:0a:fa:1f:b1:ec:71:0a:ec:\n                34:ff:0d:9c:1c:a7:d6:47:0f:ec:70:6c:2a:6b:89:\n                90:f5:de:58:e9:4e:ae:4d:6f:f0:f1:ca:7d:72:c0:\n                7a:79:94:28:fe:85:01:58:c9\n            Exponent: 65537 (0x10001)\n</code></pre>\n\n<p>That's it. The RSA public key is the modulus and the exponent. I think you have what you need.</p>\n"},{"tags":[],"owner":{"account_id":1960408,"reputation":799,"user_id":1762194,"display_name":"svckr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1386622212,"creation_date":1386622212,"answer_id":20480499,"question_id":20480219,"body_markdown":"According to http://docs.oracle.com/javase/7/docs/api/java/security/spec/RSAPublicKeySpec.html you swapped the arguments to the `RSAPublicKeySpec` constructor: The modulus goes first, the exponent second.\r\n\r\nAlso, don&#39;t implement the Hex -&gt; `BigInteger` conversion yourself. Use `new BigInteger( hexString, 16 )` (See [this](https://stackoverflow.com/questions/4316645/java-convert-a-hex-string-to-a-bigint) answer)","title":"Error: RSA Keys must be at least 512 bits long?","body":"<p>According to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/security/spec/RSAPublicKeySpec.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/security/spec/RSAPublicKeySpec.html</a> you swapped the arguments to the <code>RSAPublicKeySpec</code> constructor: The modulus goes first, the exponent second.</p>\n\n<p>Also, don't implement the Hex -> <code>BigInteger</code> conversion yourself. Use <code>new BigInteger( hexString, 16 )</code> (See <a href=\"https://stackoverflow.com/questions/4316645/java-convert-a-hex-string-to-a-bigint\">this</a> answer)</p>\n"},{"tags":[],"owner":{"account_id":10660484,"reputation":746,"user_id":7848579,"display_name":"Jirayu Kaewprateep"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679059473,"creation_date":1661401240,"answer_id":73481802,"question_id":20480219,"body_markdown":"May I help? I found the example and you answers told it is about the Interface RSAPublicKey. [RSAPublicKey][1]\r\n\r\n**Codes:**\r\n\r\n    public static void main(String[] args) throws NoSuchAlgorithmException, NoSuchProviderException, NoSuchPaddingException, InvalidKeySpecException\r\n    {\r\n        byte[]           input = new byte[] { (byte)0xbe, (byte)0xef };\r\n        Cipher\t         cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n        KeyFactory       keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\r\n\r\n        SecureRandom random_1 = new SecureRandom();\r\n        KeyGenerator local_generator = KeyGenerator.getInstance(&quot;AES&quot;);\r\n        local_generator.init(256, random_1);\r\n        SecretKey local_secretekey = local_generator.generateKey();\r\n        byte[] local_secrete_byte = local_secretekey.getEncoded();\r\n\r\n        StringBuilder local_target = new StringBuilder();\r\n        for ( Integer i = 0; i &lt; local_secrete_byte.length; i = i + 1)\r\n        {\r\n            local_target.append( String.valueOf( String.valueOf( local_secrete_byte[i] ) ) );\r\n            \r\n        }\r\n\r\n        String local_target_key = Byte_to_Hex(local_secrete_byte);\r\n        System.out.println(&quot;1. &quot; + local_target_key);\r\n\r\n        SecureRandom random_2 = new SecureRandom();\r\n        KeyGenerator generator = KeyGenerator.getInstance(&quot;AES&quot;);\r\n        generator.init(256, random_2);\r\n        SecretKey secrete = generator.generateKey();\r\n        byte[] secrete_byte = secrete.getEncoded();\r\n\r\n        StringBuilder target = new StringBuilder();\r\n        for ( Integer i = 0; i &lt; secrete_byte.length; i = i + 1)\r\n        {\r\n            target.append( String.valueOf( String.valueOf( secrete_byte[i] ) ) );\r\n            \r\n        }\r\n\r\n        String target_key = Byte_to_Hex(secrete_byte);\r\n        System.out.println(&quot;2. &quot; + target_key);\r\n\r\n        // create the keys\r\n        RSAPublicKeySpec thispubKeySpec = new RSAPublicKeySpec(\r\n                new BigInteger(local_target_key, 16),\r\n                new BigInteger(&quot;11&quot;, 16));\r\n\r\n        RSAPrivateKeySpec thisprivKeySpec = new RSAPrivateKeySpec(\r\n                new BigInteger(local_target_key, 16),  \r\n                new BigInteger(target_key, 16));\r\n\r\n        System.out.println( &quot;3. PubKeySpec Modulus: &quot; + String.valueOf(thispubKeySpec.getModulus() ) );\r\n        System.out.println( &quot;4. PubKeySpec PublicExponent: &quot; + String.valueOf(thispubKeySpec.getPublicExponent() ) );\r\n\r\n        System.out.println( &quot;5. PrivKeySpec Modulus: &quot; + String.valueOf(thisprivKeySpec.getModulus() ) );\r\n        System.out.println( &quot;6. PrivKeySpec PrivateExponent: &quot; + String.valueOf(thisprivKeySpec.getPrivateExponent() ) );\r\n\r\n        RSAPublicKey pubKey = (RSAPublicKey)keyFactory.generatePublic(thispubKeySpec);\r\n        RSAPrivateKey privKey = (RSAPrivateKey)keyFactory.generatePrivate(thisprivKeySpec);\r\n    }\r\n\r\n**Sample:**\r\n\r\n    1. 29ffffff88ffffffc5ffffffab532b78ffffffae2c7e655cffffffc827ffffff98ffffffa2fffffff3affffff93ffffffb6fffffff215affffffe8ffffff8dffffffe6fffffff9ffffff93ffffff84ffffff832e12\r\n    2. ffffffdf5a6fffffffb039ffffff90ffffffcd57568fffffff66efffffff8ffffffbb215c13615e29fffffff64b2ffffffbfffffffe83bffffffdd5bffffffe8ffffffde1a7f\r\n    3. PubKeySpec Modulus: 823012395647503095848585629229488318125967956976077303153367268008550106317041442963571737703173703074958557361211053894437266913428830158109326184433594384517646730543359896256927103502344702260527967762\r\n    4. PubKeySpec PublicExponent: 17\r\n    5. PrivKeySpec Modulus: 823012395647503095848585629229488318125967956976077303153367268008550106317041442963571737703173703074958557361211053894437266913428830158109326184433594384517646730543359896256927103502344702260527967762\r\n    6. PrivKeySpec PrivateExponent: 3773962396135053605043641120341188078791329268791861200186343972537554558744515494911672553538182853867677334755781969985158396166815578794979135230532051607332765702783\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/security/interfaces/RSAPublicKey.html","title":"Error: RSA Keys must be at least 512 bits long?","body":"<p>May I help? I found the example and you answers told it is about the Interface RSAPublicKey. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/security/interfaces/RSAPublicKey.html\" rel=\"nofollow noreferrer\">RSAPublicKey</a></p>\n<p><strong>Codes:</strong></p>\n<pre><code>public static void main(String[] args) throws NoSuchAlgorithmException, NoSuchProviderException, NoSuchPaddingException, InvalidKeySpecException\n{\n    byte[]           input = new byte[] { (byte)0xbe, (byte)0xef };\n    Cipher           cipher = Cipher.getInstance(&quot;RSA&quot;);\n    KeyFactory       keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n\n\n    SecureRandom random_1 = new SecureRandom();\n    KeyGenerator local_generator = KeyGenerator.getInstance(&quot;AES&quot;);\n    local_generator.init(256, random_1);\n    SecretKey local_secretekey = local_generator.generateKey();\n    byte[] local_secrete_byte = local_secretekey.getEncoded();\n\n    StringBuilder local_target = new StringBuilder();\n    for ( Integer i = 0; i &lt; local_secrete_byte.length; i = i + 1)\n    {\n        local_target.append( String.valueOf( String.valueOf( local_secrete_byte[i] ) ) );\n        \n    }\n\n    String local_target_key = Byte_to_Hex(local_secrete_byte);\n    System.out.println(&quot;1. &quot; + local_target_key);\n\n    SecureRandom random_2 = new SecureRandom();\n    KeyGenerator generator = KeyGenerator.getInstance(&quot;AES&quot;);\n    generator.init(256, random_2);\n    SecretKey secrete = generator.generateKey();\n    byte[] secrete_byte = secrete.getEncoded();\n\n    StringBuilder target = new StringBuilder();\n    for ( Integer i = 0; i &lt; secrete_byte.length; i = i + 1)\n    {\n        target.append( String.valueOf( String.valueOf( secrete_byte[i] ) ) );\n        \n    }\n\n    String target_key = Byte_to_Hex(secrete_byte);\n    System.out.println(&quot;2. &quot; + target_key);\n\n    // create the keys\n    RSAPublicKeySpec thispubKeySpec = new RSAPublicKeySpec(\n            new BigInteger(local_target_key, 16),\n            new BigInteger(&quot;11&quot;, 16));\n\n    RSAPrivateKeySpec thisprivKeySpec = new RSAPrivateKeySpec(\n            new BigInteger(local_target_key, 16),  \n            new BigInteger(target_key, 16));\n\n    System.out.println( &quot;3. PubKeySpec Modulus: &quot; + String.valueOf(thispubKeySpec.getModulus() ) );\n    System.out.println( &quot;4. PubKeySpec PublicExponent: &quot; + String.valueOf(thispubKeySpec.getPublicExponent() ) );\n\n    System.out.println( &quot;5. PrivKeySpec Modulus: &quot; + String.valueOf(thisprivKeySpec.getModulus() ) );\n    System.out.println( &quot;6. PrivKeySpec PrivateExponent: &quot; + String.valueOf(thisprivKeySpec.getPrivateExponent() ) );\n\n    RSAPublicKey pubKey = (RSAPublicKey)keyFactory.generatePublic(thispubKeySpec);\n    RSAPrivateKey privKey = (RSAPrivateKey)keyFactory.generatePrivate(thisprivKeySpec);\n}\n</code></pre>\n<p><strong>Sample:</strong></p>\n<pre><code>1. 29ffffff88ffffffc5ffffffab532b78ffffffae2c7e655cffffffc827ffffff98ffffffa2fffffff3affffff93ffffffb6fffffff215affffffe8ffffff8dffffffe6fffffff9ffffff93ffffff84ffffff832e12\n2. ffffffdf5a6fffffffb039ffffff90ffffffcd57568fffffff66efffffff8ffffffbb215c13615e29fffffff64b2ffffffbfffffffe83bffffffdd5bffffffe8ffffffde1a7f\n3. PubKeySpec Modulus: 823012395647503095848585629229488318125967956976077303153367268008550106317041442963571737703173703074958557361211053894437266913428830158109326184433594384517646730543359896256927103502344702260527967762\n4. PubKeySpec PublicExponent: 17\n5. PrivKeySpec Modulus: 823012395647503095848585629229488318125967956976077303153367268008550106317041442963571737703173703074958557361211053894437266913428830158109326184433594384517646730543359896256927103502344702260527967762\n6. PrivKeySpec PrivateExponent: 3773962396135053605043641120341188078791329268791861200186343972537554558744515494911672553538182853867677334755781969985158396166815578794979135230532051607332765702783\n</code></pre>\n"}],"owner":{"account_id":1849228,"reputation":75,"user_id":1676151,"accept_rate":25,"display_name":"VoidWhisperer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6598,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":20480499,"answer_count":3,"score":2,"last_activity_date":1679059473,"creation_date":1386621322,"question_id":20480219,"body_markdown":"I&#39;m attempting to make an application that uses a modulus and exponent to generate a public key for RSA. However, there is the issue that the modulus and exponent are both possibly hex values. This is the code that I have for generating the key, the line marked with the -&lt;--- is where the error is occuring.\r\n\r\n    RSAPublicKeySpec spec = new RSAPublicKeySpec(new BigInteger(1,hexToByte(rsaJSON.publickey_exp)),new BigInteger(1,hexToByte(rsaJSON.publickey_mod)));\r\n\tKeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\tPublicKey pub = factory.generatePublic(spec); &lt;---\r\n\tCipher cipher = cipher = Cipher.getInstance(&quot;RSA/None/OAEPWithSHA1AndMGF1Padding&quot;, &quot;BC&quot;);\r\n\tcipher.init(Cipher.ENCRYPT_MODE, pub);\r\n    .....\r\n    String HEXES = &quot;0123456789ABCDEF&quot;;\r\n\tpublic static String byteToHex( byte [] raw ) {\r\n\t    if ( raw == null ) {\r\n\t      return null;\r\n\t    }\r\n\t    final StringBuilder hex = new StringBuilder( 2 * raw.length );\r\n\t    for ( final byte b : raw ) {\r\n\t      hex.append(HEXES.charAt((b &amp; 0xF0) &gt;&gt; 4))\r\n\t         .append(HEXES.charAt((b &amp; 0x0F)));\r\n\t    }\r\n\t    return hex.toString();\r\n\t}\r\n\r\n\tpublic static byte[] hexToByte( String hexString){\r\n\t    int len = hexString.length();\r\n\t    byte[] ba = new byte[len / 2];\r\n\t    for (int i = 0; i &lt; len; i += 2) {\r\n\t        ba[i/2] = (byte) ((Character.digit(hexString.charAt(i), 16) &lt;&lt; 4) + Character.digit(hexString.charAt(i+1), 16));\r\n\t    }\r\n\t    return ba;\r\n\t}\r\n\r\nAn example modulus and exponent that would be put into this are as follows:\r\n\r\n    modulus:&quot;B31F9097CA38B4548D7300A0768F262C58D92B190355E382DACA4B79DA52226758FD8EB23CE29F404433411AC90308BEEED093BA157E03982E587496A15BB47A371C32C6B665FF75D6E900CF28CF679E871FB06FF0E90431E829DBE8EBDF7D5024A2D32F8B0D50C0D592E5D31046DE275F81B106088EBECA434493458DBF2B804BC46EC973E8F47408CC454F03F24933A5B100001B47239B44A52CF6A40670CED35060EB84BD6D0829DF8EC84EC49D784CA8583F353086071604DB2F43FA243A05F031033FFB179D8CB281A814B01F8CCC2EC29196BB136905104E23832FA923185743E18924C4E9772ED094D98643C677DE99EF1E598452728A7AC3DF5A1AB9&quot;\r\n`exponent:&quot;010001&quot;`\r\n\r\nThe stack trace, for the most part:\r\n\r\n    java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: RSA keys must be at least 512 bits long\r\n\tat sun.security.rsa.RSAKeyFactory.engineGeneratePublic(Unknown Source)\r\n\tat java.security.KeyFactory.generatePublic(Unknown Source)\r\n        .....\r\n\r\nI&#39;m not going to pretend that I know why this error is happening because my knowledge with RSA encryption is somewhat limited. If anyone could help me figure out why this error keeps cropping up, it would be extremely helpful :)","title":"Error: RSA Keys must be at least 512 bits long?","body":"<p>I'm attempting to make an application that uses a modulus and exponent to generate a public key for RSA. However, there is the issue that the modulus and exponent are both possibly hex values. This is the code that I have for generating the key, the line marked with the -&lt;--- is where the error is occuring.</p>\n\n<pre><code>RSAPublicKeySpec spec = new RSAPublicKeySpec(new BigInteger(1,hexToByte(rsaJSON.publickey_exp)),new BigInteger(1,hexToByte(rsaJSON.publickey_mod)));\nKeyFactory factory = KeyFactory.getInstance(\"RSA\");\nPublicKey pub = factory.generatePublic(spec); &lt;---\nCipher cipher = cipher = Cipher.getInstance(\"RSA/None/OAEPWithSHA1AndMGF1Padding\", \"BC\");\ncipher.init(Cipher.ENCRYPT_MODE, pub);\n.....\nString HEXES = \"0123456789ABCDEF\";\npublic static String byteToHex( byte [] raw ) {\n    if ( raw == null ) {\n      return null;\n    }\n    final StringBuilder hex = new StringBuilder( 2 * raw.length );\n    for ( final byte b : raw ) {\n      hex.append(HEXES.charAt((b &amp; 0xF0) &gt;&gt; 4))\n         .append(HEXES.charAt((b &amp; 0x0F)));\n    }\n    return hex.toString();\n}\n\npublic static byte[] hexToByte( String hexString){\n    int len = hexString.length();\n    byte[] ba = new byte[len / 2];\n    for (int i = 0; i &lt; len; i += 2) {\n        ba[i/2] = (byte) ((Character.digit(hexString.charAt(i), 16) &lt;&lt; 4) + Character.digit(hexString.charAt(i+1), 16));\n    }\n    return ba;\n}\n</code></pre>\n\n<p>An example modulus and exponent that would be put into this are as follows:</p>\n\n<pre><code>modulus:\"B31F9097CA38B4548D7300A0768F262C58D92B190355E382DACA4B79DA52226758FD8EB23CE29F404433411AC90308BEEED093BA157E03982E587496A15BB47A371C32C6B665FF75D6E900CF28CF679E871FB06FF0E90431E829DBE8EBDF7D5024A2D32F8B0D50C0D592E5D31046DE275F81B106088EBECA434493458DBF2B804BC46EC973E8F47408CC454F03F24933A5B100001B47239B44A52CF6A40670CED35060EB84BD6D0829DF8EC84EC49D784CA8583F353086071604DB2F43FA243A05F031033FFB179D8CB281A814B01F8CCC2EC29196BB136905104E23832FA923185743E18924C4E9772ED094D98643C677DE99EF1E598452728A7AC3DF5A1AB9\"\n</code></pre>\n\n<p><code>exponent:\"010001\"</code></p>\n\n<p>The stack trace, for the most part:</p>\n\n<pre><code>java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: RSA keys must be at least 512 bits long\nat sun.security.rsa.RSAKeyFactory.engineGeneratePublic(Unknown Source)\nat java.security.KeyFactory.generatePublic(Unknown Source)\n    .....\n</code></pre>\n\n<p>I'm not going to pretend that I know why this error is happening because my knowledge with RSA encryption is somewhat limited. If anyone could help me figure out why this error keeps cropping up, it would be extremely helpful :)</p>\n"},{"tags":["python","java","android","tensorflow","dataset"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1653721695,"post_id":72413615,"comment_id":127924153,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":10660484,"reputation":746,"user_id":7848579,"display_name":"Jirayu Kaewprateep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679059333,"creation_date":1653725850,"answer_id":72414039,"question_id":72413615,"body_markdown":"There are many ways, to predict with trainable weight, feedback, update weights or load model is possible. You may transfer learning from the current to another model.\r\n\r\nThere are many libraries including C++, C# wrapper, TFLite, TF and etc.\r\n\r\n**[ Sample ]:**\r\n\r\n    import pyaudio as pyaudio\r\n    import tensorflow as tf\r\n    \r\n    import os\r\n    from os.path import exists\r\n    \r\n    import matplotlib.pyplot as plt\r\n    import matplotlib.animation as animation\r\n    \r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    [PhysicalDevice(name=&#39;/physical_device:GPU:0&#39;, device_type=&#39;GPU&#39;)]\r\n    None\r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    physical_devices = tf.config.experimental.list_physical_devices(&#39;GPU&#39;)\r\n    assert len(physical_devices) &gt; 0, &quot;Not enough GPU hardware devices available&quot;\r\n    config = tf.config.experimental.set_memory_growth(physical_devices[0], True)\r\n    print(physical_devices)\r\n    print(config)\r\n    \r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    Variables\r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    b_training = True\r\n    n_steps = 0\r\n    \r\n    image = [ ]\r\n    list_image = [ ]\r\n    list_label = [ ]\r\n    \r\n    for i in range(80):\r\n    \tlist_image.append(tf.zeros([ 5, 80 ]).numpy())\r\n    \tlist_label.append(0)\r\n    \r\n    FORMAT = pyaudio.paInt16\r\n    CHANNELS = 1\r\n    RATE = 8000\r\n    CHUNK = 1024\r\n    RECORD_SECONDS = 1\r\n    LONG_STEPS = 100000000000\r\n    \r\n    data_1 = tf.zeros([512, 1]).numpy()\r\n    data_2 = tf.zeros([512, 1]).numpy()\r\n    data_3 = tf.zeros([512, 1]).numpy()\r\n    data_4 = tf.zeros([512, 1]).numpy()\r\n    data_frames = [ data_1, data_2, data_3, data_4 ]\r\n    \r\n    checkpoint_path = &quot;F:\\\\models\\\\checkpoint\\\\&quot; + os.path.basename(__file__).split(&#39;.&#39;)[0] + &quot;\\\\TF_DataSets_01.h5&quot;\r\n    checkpoint_dir = os.path.dirname(checkpoint_path)\r\n    loggings = &quot;F:\\\\models\\\\checkpoint\\\\&quot; + os.path.basename(__file__).split(&#39;.&#39;)[0] + &quot;\\\\loggings.log&quot;\r\n    \r\n    checkpoint_clusters_path = &quot;F:\\\\models\\\\checkpoint\\\\&quot; + os.path.basename(__file__).split(&#39;.&#39;)[0] + &quot;\\\\TF_Cluster_DataSets_01.h5&quot;\r\n    checkpoint_clusters_dir = os.path.dirname(checkpoint_clusters_path)\r\n    \r\n    if not exists(checkpoint_dir) : \r\n    \tos.mkdir(checkpoint_dir)\r\n    \tprint(&quot;Create directory: &quot; + checkpoint_dir)\r\n    \t\r\n    if not exists(checkpoint_clusters_dir) : \r\n    \tos.mkdir(checkpoint_clusters_dir)\r\n    \tprint(&quot;Create directory: &quot; + checkpoint_clusters_dir)\r\n    \t\r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    Functions\r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    def animate( i ):\r\n    \tglobal CHUNK\r\n    \tglobal RATE\r\n    \tglobal n_steps\r\n    \tglobal data_frames\r\n    \t\r\n    \tdata = stream.read( CHUNK )\r\n    \taudio_data = tf.io.decode_raw(tf.constant( data ), tf.int32)\r\n    \taudio_data = tf.round( audio_data )\r\n    \taudio_data = tf.cast( audio_data, dtype=tf.float32 )\r\n    \t\r\n    \tdata_frames = append_data_frames( audio_data, data_frames )\r\n    \ttemp = extract_data_frames( data_frames )\r\n    \tstfts = tf.signal.stft(temp, frame_length=256, frame_step=64, fft_length=256)\r\n    \tspectrograms = tf.abs(stfts)\r\n    \t\r\n    \tnum_spectrogram_bins = stfts.shape[-1]\r\n    \tlower_edge_hertz, upper_edge_hertz, num_mel_bins = 80.0, 7600.0, 80\r\n    \tlinear_to_mel_weight_matrix = tf.signal.linear_to_mel_weight_matrix( num_mel_bins, num_spectrogram_bins, int( RATE * 2 ), lower_edge_hertz, upper_edge_hertz)\r\n    \tmel_spectrograms = tf.tensordot( spectrograms, linear_to_mel_weight_matrix, 1)\r\n    \tmel_spectrograms.set_shape(spectrograms.shape[:-1].concatenate( linear_to_mel_weight_matrix.shape[-1:]) )\r\n    \tmel_spectrograms = tf.expand_dims(mel_spectrograms, 2)\r\n    \t\r\n    \timage = tf.keras.preprocessing.image.array_to_img(\r\n    \t\tmel_spectrograms,\r\n    \t\tdata_format=None,\r\n    \t\tscale=True\r\n    \t)\r\n    \t\r\n    \tresult = predict_action( mel_spectrograms )\r\n    \tcluster = predict_cluster( mel_spectrograms )\r\n    \tim.set_array( image )\r\n    \r\n    \tplt.xlabel( str( result + 1 ) + &quot; : &quot; + str( cluster + 1 ), fontsize=22 )\r\n    \tplt.show()\r\n    \t\r\n    \tif n_steps % 8 == 0 :\r\n    \t\r\n    \t\tdataset = tf.data.Dataset.from_tensor_slices((tf.constant([mel_spectrograms.numpy()], shape=(1, 1, 5, 80, 1), dtype=tf.float32),tf.constant([result], shape=(1, 1, 1, 1), dtype=tf.int64)))\r\n    \t\thistory = model.fit(dataset, epochs=5 ,validation_data=(dataset), callbacks=[custom_callback])\r\n    \t\tmodel.save_weights(checkpoint_path)\r\n    \t\r\n    \tif n_steps % 24 == 0 :\r\n    \t\r\n    \t\tdataset = tf.data.Dataset.from_tensor_slices((tf.constant([mel_spectrograms.numpy()], shape=(1, 1, 5, 80, 1), dtype=tf.float32),tf.constant([cluster], shape=(1, 1, 1, 1), dtype=tf.int64)))\r\n    \t\thistory = model_clusters.fit(dataset, epochs=5 ,validation_data=(dataset), callbacks=[custom_callback])\r\n    \t\tmodel_clusters.save_weights(checkpoint_clusters_path)\r\n    \t\t\r\n    \t\t\r\n    \tn_steps = n_steps + 1\r\n    \t\r\n    \treturn im,\r\n    \r\n    def predict_action( image ) :\r\n    \tpredictions = model.predict(tf.constant(image, shape=(1, 5, 80, 1) , dtype=tf.float32))\r\n    \tresult = tf.math.argmax(predictions[0]).numpy()\r\n    \r\n    \treturn result\r\n    \r\n    def predict_cluster( image ) :\r\n    \r\n    \tpredictions = model_clusters.predict(tf.constant(image, shape=(1, 5, 80, 1) , dtype=tf.float32))\r\n    \tresult = tf.math.argmax(predictions[0]).numpy()\r\n    \treturn result\r\n    \r\n    def append_data_frames( data, data_frames ) :\t\r\n    \r\n    \tdata_1 = data_frames[0]\r\n    \tdata_2 = data_frames[1]\r\n    \tdata_3 = data_frames[2]\r\n    \tdata_4 = tf.constant( data, shape=( 512, 1 ) ).numpy()\r\n    \tdata_frames = [ data_1, data_2, data_3, data_4 ]\r\n    \r\n    \treturn data_frames\r\n    \r\n    def extract_data_frames( data_frames ) :\r\n    \r\n    \ttemp = tf.stack([data_frames[0], data_frames[1], data_frames[2], data_frames[3]])\r\n    \ttemp = tf.constant( temp, shape=(1, 4 * 512, 1 ))\r\n    \tpredictions = model_frames_extract.predict(temp)\r\n    \tmodel_frames_extract.reset_metrics()\r\n    \ttemp = tf.constant( predictions[0], shape=( 512, ))\r\n    \r\n    \treturn temp\r\n    \r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    : Model Initialize\r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    model = tf.keras.models.Sequential([\r\n    \ttf.keras.layers.InputLayer(input_shape=( 5, 80, 1 )),\r\n    \ttf.keras.layers.Reshape((5, 80)),\r\n    \ttf.keras.layers.Bidirectional(tf.keras.layers.LSTM(128, return_sequences=True, return_state=False)),\r\n    \ttf.keras.layers.Bidirectional(tf.keras.layers.LSTM(128)),\r\n    ])\r\n    \t\t\r\n    model.add(tf.keras.layers.Flatten())\r\n    model.add(tf.keras.layers.Dense(64))\r\n    model.add(tf.keras.layers.Dense(7 * 4))\r\n    model.summary()\r\n    \r\n    model_clusters = tf.keras.models.Sequential([\r\n    \ttf.keras.layers.InputLayer(input_shape=( 5, 80, 1 )),\r\n    \ttf.keras.layers.Reshape((5, 80)),\r\n    \ttf.keras.layers.Bidirectional(tf.keras.layers.LSTM(32, return_sequences=True, return_state=False)),\r\n    \ttf.keras.layers.Bidirectional(tf.keras.layers.LSTM(32)),\r\n    ])\r\n    \r\n    model_clusters.add(tf.keras.layers.Flatten())\r\n    model_clusters.add(tf.keras.layers.Dense(64))\r\n    model_clusters.add(tf.keras.layers.Dense(4))\r\n    model_clusters.summary()\r\n    \r\n    model_frames_extract = tf.keras.models.Sequential([\r\n    \ttf.keras.layers.InputLayer(input_shape=( 512 * 4, 1 )),\r\n    \ttf.keras.layers.Flatten( ),\r\n    \ttf.keras.layers.Dense(512, activation=tf.nn.softmax),\r\n    \t])\r\n    \r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    DataSet\r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    audio = pyaudio.PyAudio()\r\n    stream = audio.open(format=FORMAT, channels=CHANNELS, rate=RATE, input=True, frames_per_buffer=CHUNK)\r\n    \r\n    fig = plt.figure()\r\n    image = plt.imread( &quot;F:\\\\datasets\\\\downloads\\\\cats_name\\\\train\\\\Symbols\\\\01.jpg&quot; )\r\n    im = plt.imshow(image)\r\n    im.set_cmap(&#39;jet&#39;)\r\n    \r\n    lable = 0\r\n    if im.get_array().shape[0] &gt; 5 :\r\n    \tdataset = tf.data.Dataset.from_tensor_slices((tf.zeros([1, 1, 5, 80, 1]),tf.constant([lable], shape=(1, 1, 1, 1), dtype=tf.int64)))\r\n    else :\r\n    \tdataset = tf.data.Dataset.from_tensor_slices((tf.constant([im.get_array()], shape=(1, 1, 5, 80, 1), dtype=tf.float32),tf.constant([lable], shape=(1, 1, 1, 1), dtype=tf.int64)))\r\n    \r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    : Callback\r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    class custom_callback(tf.keras.callbacks.Callback):\r\n    \r\n    \tdef __init__(self, patience=0):\r\n    \t\tself.best_weights = None\r\n    \t\tself.best = 999999999999999\r\n    \t\tself.patience = patience\r\n    \t\r\n    \tdef on_train_begin(self, logs={}):\r\n    \t\tself.best = 999999999999999\r\n    \t\tself.wait = 0\r\n    \t\tself.stopped_epoch = 0\r\n    \r\n    \tdef on_epoch_end(self, epoch, logs={}):\r\n    \t\tif(logs[&#39;accuracy&#39;] == None) : \r\n    \t\t\tpass\r\n    \t\t\r\n    \t\tif logs[&#39;loss&#39;] &lt; self.best :\r\n    \t\t\tself.best = logs[&#39;loss&#39;]\r\n    \t\t\tself.wait = 0\r\n    \t\t\tself.best_weights = self.model.get_weights()\r\n    \t\telse :\r\n    \t\t\tself.wait += 1\r\n    \t\t\tif self.wait &gt;= self.patience:\r\n    \t\t\t\tself.stopped_epoch = epoch\r\n    \t\t\t\tself.model.stop_training = True\r\n    \t\t\t\tprint(&quot;Restoring model weights from the end of the best epoch.&quot;)\r\n    \t\t\t\tself.model.set_weights(self.best_weights)\r\n    \t\t\r\n    \t\tif logs[&#39;loss&#39;] &lt;= 0.2 :\r\n    \t\t\tself.model.stop_training = True\r\n    \r\n    custom_callback = custom_callback(patience=6)\r\n    \r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    : Optimizer\r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    optimizer = tf.keras.optimizers.Nadam( learning_rate=0.0001, beta_1=0.9, beta_2=0.999, epsilon=1e-07, name=&#39;Nadam&#39; )\r\n    \r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    : Loss Fn\r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\t\t\t\t\t\t\t\t\r\n    lossfn = tf.keras.losses.MeanSquaredLogarithmicError(reduction=tf.keras.losses.Reduction.AUTO, name=&#39;mean_squared_logarithmic_error&#39;)\r\n    \r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    : Model Summary\r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    model.compile(optimizer=optimizer, loss=lossfn, metrics=[&#39;accuracy&#39;])\r\n    model_frames_extract.compile(optimizer=optimizer, loss=lossfn, metrics=[&#39;accuracy&#39;])\r\n    model_clusters.compile(optimizer=optimizer, loss=lossfn, metrics=[&#39;accuracy&#39;])\r\n    \r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    : FileWriter\r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    if exists(checkpoint_path) :\r\n    \tmodel.load_weights(checkpoint_path)\r\n    \tprint(&quot;model load: &quot; + checkpoint_path)\r\n    \tinput(&quot;Press Any Key!&quot;)\r\n    \r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    : Training\r\n    &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\r\n    history = model.fit(dataset, epochs=1 ,validation_data=(dataset))\r\n    \r\n    model.save_weights(checkpoint_path)\r\n    \t\r\n    while LONG_STEPS &gt; 0:\r\n    \tani = animation.FuncAnimation(fig, animate, interval=50, blit=True)\r\n    \tplt.show()\r\n    \t\r\n    audio.terminate()\r\n    \r\n    print(  &quot;finished recording&quot; )\r\n","title":"On Device Training Tensorflow","body":"<p>There are many ways, to predict with trainable weight, feedback, update weights or load model is possible. You may transfer learning from the current to another model.</p>\n<p>There are many libraries including C++, C# wrapper, TFLite, TF and etc.</p>\n<p><strong>[ Sample ]:</strong></p>\n<pre><code>import pyaudio as pyaudio\nimport tensorflow as tf\n\nimport os\nfrom os.path import exists\n\nimport matplotlib.pyplot as plt\nimport matplotlib.animation as animation\n\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\n[PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')]\nNone\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\nphysical_devices = tf.config.experimental.list_physical_devices('GPU')\nassert len(physical_devices) &gt; 0, &quot;Not enough GPU hardware devices available&quot;\nconfig = tf.config.experimental.set_memory_growth(physical_devices[0], True)\nprint(physical_devices)\nprint(config)\n\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\nVariables\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\nb_training = True\nn_steps = 0\n\nimage = [ ]\nlist_image = [ ]\nlist_label = [ ]\n\nfor i in range(80):\n    list_image.append(tf.zeros([ 5, 80 ]).numpy())\n    list_label.append(0)\n\nFORMAT = pyaudio.paInt16\nCHANNELS = 1\nRATE = 8000\nCHUNK = 1024\nRECORD_SECONDS = 1\nLONG_STEPS = 100000000000\n\ndata_1 = tf.zeros([512, 1]).numpy()\ndata_2 = tf.zeros([512, 1]).numpy()\ndata_3 = tf.zeros([512, 1]).numpy()\ndata_4 = tf.zeros([512, 1]).numpy()\ndata_frames = [ data_1, data_2, data_3, data_4 ]\n\ncheckpoint_path = &quot;F:\\\\models\\\\checkpoint\\\\&quot; + os.path.basename(__file__).split('.')[0] + &quot;\\\\TF_DataSets_01.h5&quot;\ncheckpoint_dir = os.path.dirname(checkpoint_path)\nloggings = &quot;F:\\\\models\\\\checkpoint\\\\&quot; + os.path.basename(__file__).split('.')[0] + &quot;\\\\loggings.log&quot;\n\ncheckpoint_clusters_path = &quot;F:\\\\models\\\\checkpoint\\\\&quot; + os.path.basename(__file__).split('.')[0] + &quot;\\\\TF_Cluster_DataSets_01.h5&quot;\ncheckpoint_clusters_dir = os.path.dirname(checkpoint_clusters_path)\n\nif not exists(checkpoint_dir) : \n    os.mkdir(checkpoint_dir)\n    print(&quot;Create directory: &quot; + checkpoint_dir)\n    \nif not exists(checkpoint_clusters_dir) : \n    os.mkdir(checkpoint_clusters_dir)\n    print(&quot;Create directory: &quot; + checkpoint_clusters_dir)\n    \n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\nFunctions\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\ndef animate( i ):\n    global CHUNK\n    global RATE\n    global n_steps\n    global data_frames\n    \n    data = stream.read( CHUNK )\n    audio_data = tf.io.decode_raw(tf.constant( data ), tf.int32)\n    audio_data = tf.round( audio_data )\n    audio_data = tf.cast( audio_data, dtype=tf.float32 )\n    \n    data_frames = append_data_frames( audio_data, data_frames )\n    temp = extract_data_frames( data_frames )\n    stfts = tf.signal.stft(temp, frame_length=256, frame_step=64, fft_length=256)\n    spectrograms = tf.abs(stfts)\n    \n    num_spectrogram_bins = stfts.shape[-1]\n    lower_edge_hertz, upper_edge_hertz, num_mel_bins = 80.0, 7600.0, 80\n    linear_to_mel_weight_matrix = tf.signal.linear_to_mel_weight_matrix( num_mel_bins, num_spectrogram_bins, int( RATE * 2 ), lower_edge_hertz, upper_edge_hertz)\n    mel_spectrograms = tf.tensordot( spectrograms, linear_to_mel_weight_matrix, 1)\n    mel_spectrograms.set_shape(spectrograms.shape[:-1].concatenate( linear_to_mel_weight_matrix.shape[-1:]) )\n    mel_spectrograms = tf.expand_dims(mel_spectrograms, 2)\n    \n    image = tf.keras.preprocessing.image.array_to_img(\n        mel_spectrograms,\n        data_format=None,\n        scale=True\n    )\n    \n    result = predict_action( mel_spectrograms )\n    cluster = predict_cluster( mel_spectrograms )\n    im.set_array( image )\n\n    plt.xlabel( str( result + 1 ) + &quot; : &quot; + str( cluster + 1 ), fontsize=22 )\n    plt.show()\n    \n    if n_steps % 8 == 0 :\n    \n        dataset = tf.data.Dataset.from_tensor_slices((tf.constant([mel_spectrograms.numpy()], shape=(1, 1, 5, 80, 1), dtype=tf.float32),tf.constant([result], shape=(1, 1, 1, 1), dtype=tf.int64)))\n        history = model.fit(dataset, epochs=5 ,validation_data=(dataset), callbacks=[custom_callback])\n        model.save_weights(checkpoint_path)\n    \n    if n_steps % 24 == 0 :\n    \n        dataset = tf.data.Dataset.from_tensor_slices((tf.constant([mel_spectrograms.numpy()], shape=(1, 1, 5, 80, 1), dtype=tf.float32),tf.constant([cluster], shape=(1, 1, 1, 1), dtype=tf.int64)))\n        history = model_clusters.fit(dataset, epochs=5 ,validation_data=(dataset), callbacks=[custom_callback])\n        model_clusters.save_weights(checkpoint_clusters_path)\n        \n        \n    n_steps = n_steps + 1\n    \n    return im,\n\ndef predict_action( image ) :\n    predictions = model.predict(tf.constant(image, shape=(1, 5, 80, 1) , dtype=tf.float32))\n    result = tf.math.argmax(predictions[0]).numpy()\n\n    return result\n\ndef predict_cluster( image ) :\n\n    predictions = model_clusters.predict(tf.constant(image, shape=(1, 5, 80, 1) , dtype=tf.float32))\n    result = tf.math.argmax(predictions[0]).numpy()\n    return result\n\ndef append_data_frames( data, data_frames ) :   \n\n    data_1 = data_frames[0]\n    data_2 = data_frames[1]\n    data_3 = data_frames[2]\n    data_4 = tf.constant( data, shape=( 512, 1 ) ).numpy()\n    data_frames = [ data_1, data_2, data_3, data_4 ]\n\n    return data_frames\n\ndef extract_data_frames( data_frames ) :\n\n    temp = tf.stack([data_frames[0], data_frames[1], data_frames[2], data_frames[3]])\n    temp = tf.constant( temp, shape=(1, 4 * 512, 1 ))\n    predictions = model_frames_extract.predict(temp)\n    model_frames_extract.reset_metrics()\n    temp = tf.constant( predictions[0], shape=( 512, ))\n\n    return temp\n\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\n: Model Initialize\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\nmodel = tf.keras.models.Sequential([\n    tf.keras.layers.InputLayer(input_shape=( 5, 80, 1 )),\n    tf.keras.layers.Reshape((5, 80)),\n    tf.keras.layers.Bidirectional(tf.keras.layers.LSTM(128, return_sequences=True, return_state=False)),\n    tf.keras.layers.Bidirectional(tf.keras.layers.LSTM(128)),\n])\n        \nmodel.add(tf.keras.layers.Flatten())\nmodel.add(tf.keras.layers.Dense(64))\nmodel.add(tf.keras.layers.Dense(7 * 4))\nmodel.summary()\n\nmodel_clusters = tf.keras.models.Sequential([\n    tf.keras.layers.InputLayer(input_shape=( 5, 80, 1 )),\n    tf.keras.layers.Reshape((5, 80)),\n    tf.keras.layers.Bidirectional(tf.keras.layers.LSTM(32, return_sequences=True, return_state=False)),\n    tf.keras.layers.Bidirectional(tf.keras.layers.LSTM(32)),\n])\n\nmodel_clusters.add(tf.keras.layers.Flatten())\nmodel_clusters.add(tf.keras.layers.Dense(64))\nmodel_clusters.add(tf.keras.layers.Dense(4))\nmodel_clusters.summary()\n\nmodel_frames_extract = tf.keras.models.Sequential([\n    tf.keras.layers.InputLayer(input_shape=( 512 * 4, 1 )),\n    tf.keras.layers.Flatten( ),\n    tf.keras.layers.Dense(512, activation=tf.nn.softmax),\n    ])\n\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\nDataSet\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\naudio = pyaudio.PyAudio()\nstream = audio.open(format=FORMAT, channels=CHANNELS, rate=RATE, input=True, frames_per_buffer=CHUNK)\n\nfig = plt.figure()\nimage = plt.imread( &quot;F:\\\\datasets\\\\downloads\\\\cats_name\\\\train\\\\Symbols\\\\01.jpg&quot; )\nim = plt.imshow(image)\nim.set_cmap('jet')\n\nlable = 0\nif im.get_array().shape[0] &gt; 5 :\n    dataset = tf.data.Dataset.from_tensor_slices((tf.zeros([1, 1, 5, 80, 1]),tf.constant([lable], shape=(1, 1, 1, 1), dtype=tf.int64)))\nelse :\n    dataset = tf.data.Dataset.from_tensor_slices((tf.constant([im.get_array()], shape=(1, 1, 5, 80, 1), dtype=tf.float32),tf.constant([lable], shape=(1, 1, 1, 1), dtype=tf.int64)))\n\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\n: Callback\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\nclass custom_callback(tf.keras.callbacks.Callback):\n\n    def __init__(self, patience=0):\n        self.best_weights = None\n        self.best = 999999999999999\n        self.patience = patience\n    \n    def on_train_begin(self, logs={}):\n        self.best = 999999999999999\n        self.wait = 0\n        self.stopped_epoch = 0\n\n    def on_epoch_end(self, epoch, logs={}):\n        if(logs['accuracy'] == None) : \n            pass\n        \n        if logs['loss'] &lt; self.best :\n            self.best = logs['loss']\n            self.wait = 0\n            self.best_weights = self.model.get_weights()\n        else :\n            self.wait += 1\n            if self.wait &gt;= self.patience:\n                self.stopped_epoch = epoch\n                self.model.stop_training = True\n                print(&quot;Restoring model weights from the end of the best epoch.&quot;)\n                self.model.set_weights(self.best_weights)\n        \n        if logs['loss'] &lt;= 0.2 :\n            self.model.stop_training = True\n\ncustom_callback = custom_callback(patience=6)\n\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\n: Optimizer\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\noptimizer = tf.keras.optimizers.Nadam( learning_rate=0.0001, beta_1=0.9, beta_2=0.999, epsilon=1e-07, name='Nadam' )\n\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\n: Loss Fn\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;                               \nlossfn = tf.keras.losses.MeanSquaredLogarithmicError(reduction=tf.keras.losses.Reduction.AUTO, name='mean_squared_logarithmic_error')\n\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\n: Model Summary\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\nmodel.compile(optimizer=optimizer, loss=lossfn, metrics=['accuracy'])\nmodel_frames_extract.compile(optimizer=optimizer, loss=lossfn, metrics=['accuracy'])\nmodel_clusters.compile(optimizer=optimizer, loss=lossfn, metrics=['accuracy'])\n\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\n: FileWriter\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\nif exists(checkpoint_path) :\n    model.load_weights(checkpoint_path)\n    print(&quot;model load: &quot; + checkpoint_path)\n    input(&quot;Press Any Key!&quot;)\n\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\n: Training\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;\nhistory = model.fit(dataset, epochs=1 ,validation_data=(dataset))\n\nmodel.save_weights(checkpoint_path)\n    \nwhile LONG_STEPS &gt; 0:\n    ani = animation.FuncAnimation(fig, animate, interval=50, blit=True)\n    plt.show()\n    \naudio.terminate()\n\nprint(  &quot;finished recording&quot; )\n</code></pre>\n"}],"owner":{"account_id":19101690,"reputation":1,"user_id":19218825,"display_name":"hanim sofia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679059333,"creation_date":1653721649,"question_id":72413615,"body_markdown":"Is there a way to trained dataset taken from user image while running the apps? Dataset are collected based on images from user(take photo or select from gallery) on apps.\r\n\r\np/s: I found on-device training Tensorflow but based on documentation we have to trained the model in Python first and export to tensorflow. Is there a way to do directly on the apps in Android Studio without going through these?","title":"On Device Training Tensorflow","body":"<p>Is there a way to trained dataset taken from user image while running the apps? Dataset are collected based on images from user(take photo or select from gallery) on apps.</p>\n<p>p/s: I found on-device training Tensorflow but based on documentation we have to trained the model in Python first and export to tensorflow. Is there a way to do directly on the apps in Android Studio without going through these?</p>\n"},{"tags":["java","caching","hazelcast"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678963885,"creation_date":1678963885,"answer_id":75755216,"question_id":75754907,"body_markdown":"What you see in the logs is the consequence of the fact that a minimum number of members in a Hazelcast cluster is 3. As you have configured only 2 members, Hazelcast adds 1 dummy member for you. But as it is obviously not alive - will be removed immediately. Hazelcast will try every minute if it&#39;s back...\r\n\r\nSolution: configure at least 3 members or stop using a cluster.","title":"Hazelcast automatically adds member then removes it","body":"<p>What you see in the logs is the consequence of the fact that a minimum number of members in a Hazelcast cluster is 3. As you have configured only 2 members, Hazelcast adds 1 dummy member for you. But as it is obviously not alive - will be removed immediately. Hazelcast will try every minute if it's back...</p>\n<p>Solution: configure at least 3 members or stop using a cluster.</p>\n"},{"tags":[],"owner":{"account_id":15134557,"reputation":1,"user_id":10921425,"display_name":"Adrian Scarlatescu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679059265,"creation_date":1679059229,"answer_id":75768067,"question_id":75754907,"body_markdown":"Actually it was my group config of which password was an empty String. Added some characters for the password and no other instance tries to join the cluster now.\r\n`config.getGroupConfig().setName(name).setPassword(password);`","title":"Hazelcast automatically adds member then removes it","body":"<p>Actually it was my group config of which password was an empty String. Added some characters for the password and no other instance tries to join the cluster now.\n<code>config.getGroupConfig().setName(name).setPassword(password);</code></p>\n"}],"owner":{"account_id":15134557,"reputation":1,"user_id":10921425,"display_name":"Adrian Scarlatescu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75768067,"answer_count":2,"score":0,"last_activity_date":1679059304,"creation_date":1678962442,"question_id":75754907,"body_markdown":"In my app I am using Hazelcast version 3.7.8 and I have 2 machines set as members.\r\nOnce deployed, the 2 members are joining the cluster, but also a 3rd member is automatically added which after a few seconds it&#39;s removed.\r\n\r\nMy conf:\r\n```\r\n@Bean(&quot;hazelcastInstanceTest&quot;)\r\npublic HazelcastInstance hazelcastInstance() {\r\n\tConfig config = new Config();\r\n\tconfig.getNetworkConfig().addOutboundPort(0);\r\n    config.getGroupConfig().setName(name).setPassword(password);\r\n\r\n\tJoinConfig joinConfig = config.getNetworkConfig().getJoin();\r\n\r\n\tjoinConfig.getMulticastConfig()\r\n\t\t\t.setEnabled(false);\r\n\r\n\tList&lt;String&gt; members = Arrays.asList(&quot;MEMBER1:5701&quot;,&quot;MEMBER2:5701&quot;);\r\n\tjoinConfig.getTcpIpConfig()\r\n\t\t\t.setMembers(members)\r\n\t\t\t.setEnabled(true);\r\n\r\n\treturn Hazelcast.newHazelcastInstance(config);\r\n}\r\n```\r\n\r\nLog from the 1st vm (on the 2nd vm it&#39;s the same output):\r\n```\r\nSocketAcceptorThread: [MEMBER1]:5701 [test] [3.7.8] Accepting socket connection from /MEMBER3:45566\r\nTcpIpConnectionManager: [MEMBER1]:5701 [test] [3.7.8] Established socket connection between /MEMBER1:5701 and /MEMBER3:45566\r\nClusterService: [MEMBER1]:5701 [test] [3.7.8]\r\n\r\nMembers [3] {\r\n        Member [MEMBER2]:5701 - member2_uuid\r\n        Member [MEMBER1]:5701 - member1_uuid this\r\n        Member [MEMBER3]:5701 - member3_uuid\r\n}\r\n\r\nTcpIpConnection: [MEMBER1]:5701 [test] [3.7.8] Connection[id=3, /MEMBER1:5701-&gt;/MEMBER3:45566, endpoint=[MEMBER3]:5701, alive=false, type=MEMBER] closed. Reason: Removing member [MEMBER3]:5701, uuid: member3_uuid, requested by: [MEMBER3]:5701\r\nClusterService: [MEMBER1]:5701 [test] [3.7.8] Removing Member [MEMBER3]:5701 - member3_uuid\r\nClusterService: [MEMBER1]:5701 [test] [3.7.8]\r\n\r\nMembers [2] {\r\n        Member [MEMBER2]:5701 - member2_uuid\r\n        Member [MEMBER1]:5701 - member1_uuid this\r\n}\r\n\r\nTransactionManagerService: [MEMBER1]:5701 [test] [3.7.8] Committing/rolling-back alive transactions of Member [MEMBER3]:5701 - member3_uuid, UUID: member3_uuid\r\n```\r\n\r\nThis sequence of log is repeating each minute.\r\nI don&#39;t understand how *MEMBER3* ends up being added to the members list?\r\nHow can I block it from joining?\r\n\r\nI tried to change the ports, but it&#39;s the same.\r\nUnfortunatelly I cannot change the version - it&#39;s a complicated process in this company.\r\nThank you for your help!","title":"Hazelcast automatically adds member then removes it","body":"<p>In my app I am using Hazelcast version 3.7.8 and I have 2 machines set as members.\nOnce deployed, the 2 members are joining the cluster, but also a 3rd member is automatically added which after a few seconds it's removed.</p>\n<p>My conf:</p>\n<pre><code>@Bean(&quot;hazelcastInstanceTest&quot;)\npublic HazelcastInstance hazelcastInstance() {\n    Config config = new Config();\n    config.getNetworkConfig().addOutboundPort(0);\n    config.getGroupConfig().setName(name).setPassword(password);\n\n    JoinConfig joinConfig = config.getNetworkConfig().getJoin();\n\n    joinConfig.getMulticastConfig()\n            .setEnabled(false);\n\n    List&lt;String&gt; members = Arrays.asList(&quot;MEMBER1:5701&quot;,&quot;MEMBER2:5701&quot;);\n    joinConfig.getTcpIpConfig()\n            .setMembers(members)\n            .setEnabled(true);\n\n    return Hazelcast.newHazelcastInstance(config);\n}\n</code></pre>\n<p>Log from the 1st vm (on the 2nd vm it's the same output):</p>\n<pre><code>SocketAcceptorThread: [MEMBER1]:5701 [test] [3.7.8] Accepting socket connection from /MEMBER3:45566\nTcpIpConnectionManager: [MEMBER1]:5701 [test] [3.7.8] Established socket connection between /MEMBER1:5701 and /MEMBER3:45566\nClusterService: [MEMBER1]:5701 [test] [3.7.8]\n\nMembers [3] {\n        Member [MEMBER2]:5701 - member2_uuid\n        Member [MEMBER1]:5701 - member1_uuid this\n        Member [MEMBER3]:5701 - member3_uuid\n}\n\nTcpIpConnection: [MEMBER1]:5701 [test] [3.7.8] Connection[id=3, /MEMBER1:5701-&gt;/MEMBER3:45566, endpoint=[MEMBER3]:5701, alive=false, type=MEMBER] closed. Reason: Removing member [MEMBER3]:5701, uuid: member3_uuid, requested by: [MEMBER3]:5701\nClusterService: [MEMBER1]:5701 [test] [3.7.8] Removing Member [MEMBER3]:5701 - member3_uuid\nClusterService: [MEMBER1]:5701 [test] [3.7.8]\n\nMembers [2] {\n        Member [MEMBER2]:5701 - member2_uuid\n        Member [MEMBER1]:5701 - member1_uuid this\n}\n\nTransactionManagerService: [MEMBER1]:5701 [test] [3.7.8] Committing/rolling-back alive transactions of Member [MEMBER3]:5701 - member3_uuid, UUID: member3_uuid\n</code></pre>\n<p>This sequence of log is repeating each minute.\nI don't understand how <em>MEMBER3</em> ends up being added to the members list?\nHow can I block it from joining?</p>\n<p>I tried to change the ports, but it's the same.\nUnfortunatelly I cannot change the version - it's a complicated process in this company.\nThank you for your help!</p>\n"},{"tags":["java","hadoop","windows-subsystem-for-linux"],"answers":[{"tags":[],"owner":{"account_id":25172804,"reputation":11,"user_id":19015414,"display_name":"liuuuuuu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679058958,"creation_date":1679038639,"answer_id":75764848,"question_id":75758915,"body_markdown":"use maven to build this from very begining,then the problem will be sovled","title":"How can I sovle &quot;java.lang.NoClassDefFoundError：com/ctc/wstx/io/InputBootstrapper&quot;","body":"<p>use maven to build this from very begining,then the problem will be sovled</p>\n"}],"owner":{"account_id":25172804,"reputation":11,"user_id":19015414,"display_name":"liuuuuuu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1679059025,"answer_count":1,"score":1,"last_activity_date":1679058958,"creation_date":1678983553,"question_id":75758915,"body_markdown":"I&#39;m a pure newbie to hadoop and java.I would be very grateful if you could help me.\r\n\r\nI now have **VSCODE** started in **WSL**, I have configured pseudo-distributed **Hadoop** in WSL, and now I want to run a sample program for Java in VSCODE under WSL, I have included the reference libraries I need into this project, and I have put several related configuration files of Hadoop into the project, but I have been experiencing this problem.\r\n\r\nThis problem seems to have been present with statements **Configuration conf = new Configuration()**;\r\n\r\nthe wrong information are as followed:\r\n\r\n```\r\nliu@liu:~/bigdata/proj1$  cd /home/liu/bigdata/proj1 ; /usr/bin/env /usr/local/jdk8/bin/java -cp /tmp/cp_9uebk944mttbxgu829j50i3s5.jar CopyFromLocalFile \r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/ctc/wstx/io/InputBootstrapper\r\n        at CopyFromLocalFile.main(CopyFromLocalFile.java:61)\r\nCaused by: java.lang.ClassNotFoundException: com.ctc.wstx.io.InputBootstrapper\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n        ... 1 more\r\n```\r\n\r\nis it a question that related to WSL？Why do I get this error after I have included all the library files I should have?\r\n\r\nHow do I fix this?please help,thanks\\~\r\n\r\n1. I set up the .vscode file\r\n   [enter image description here](https://i.stack.imgur.com/9upKe.png)\r\n\r\ntask.json\r\n\r\n```\r\n{\r\n// See https://go.microsoft.com/fwlink/?LinkId=733558\r\n// for the documentation about the tasks.json format\r\n&quot;version&quot;: &quot;2.0.0&quot;,\r\n&quot;tasks&quot;: [\r\n    {\r\n        &quot;label&quot;: &quot;hadoop - start service&quot;,\r\n        &quot;type&quot;: &quot;shell&quot;,\r\n        &quot;command&quot;: &quot;start-all.sh&quot;,\r\n        &quot;options&quot;: {\r\n            &quot;cwd&quot;: &quot;${workspaceFolder}&quot;\r\n        },\r\n        &quot;group&quot;: &quot;build&quot;\r\n    },\r\n    {\r\n        &quot;label&quot;: &quot;hadoop - build &amp; run&quot;,\r\n        &quot;type&quot;: &quot;shell&quot;,\r\n        &quot;command&quot;: &quot;mkdir /tmp/a2f2ed || : &amp;&amp; javac -cp $(hadoop classpath) -d /tmp/a2f2ed ${file} &amp;&amp; jar -cvf bin/test.jar -C /tmp/a2f2ed . &amp;&amp; rm -rf /tmp/a2f2ed || :&amp;&amp; hdfs dfs -rm -r /input || : &amp;&amp; hdfs dfs -put input / &amp;&amp; hdfs dfs -rm -r /output || :&amp;&amp; hadoop jar bin/test.jar ${fileBasenameNoExtension} /input /output &amp;&amp; hdfs dfs -cat /output/*&quot;,\r\n        &quot;options&quot;: {\r\n            &quot;cwd&quot;: &quot;${workspaceFolder}&quot;\r\n        },\r\n        &quot;group&quot;: &quot;build&quot;\r\n    },\r\n    {\r\n        &quot;label&quot;: &quot;hadoop - stop service&quot;,\r\n        &quot;type&quot;: &quot;shell&quot;,\r\n        &quot;command&quot;: &quot;stop-all.sh&quot;,\r\n        &quot;options&quot;: {\r\n            &quot;cwd&quot;: &quot;${workspaceFolder}&quot;\r\n        },\r\n        &quot;group&quot;: &quot;build&quot;\r\n    },\r\n]\r\n}\r\n```\r\n\r\nsetting.json\r\n\r\n```\r\n{\r\n    &quot;java.project.sourcePaths&quot;: [&quot;src&quot;],\r\n    &quot;java.project.outputPath&quot;: &quot;bin&quot;,\r\n    &quot;java.project.referencedLibraries&quot;: [\r\n        &quot;lib/**/*.jar&quot;,\r\n        &quot;/usr/local/hadoop/share/hadoop/common/hadoop-common-3.3.0.jar&quot;,\r\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-common-3.3.0.jar&quot;,\r\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-core-3.3.0.jar&quot;,\r\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.3.0.jar&quot;,\r\n        &quot;/usr/local/hadoop/share/hadoop/common/hadoop-common-3.2.4.jar&quot;,\r\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-common-3.2.4.jar&quot;,\r\n        &quot;/usr/local/hadoop/share/hadoop/common/lib/commons-cli-1.2.jar&quot;,\r\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-core-3.2.4.jar&quot;,\r\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.2.4.jar&quot;,\r\n        &quot;/usr/local/hadoop/share/hadoop/common/hadoop-kms-3.2.4.jar&quot;,\r\n        &quot;/usr/local/hadoop/share/hadoop/common/hadoop-nfs-3.2.4.jar&quot;,\r\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-uploader-3.2.4.jar&quot;\r\n    ]\r\n}\r\n```\r\n\r\n2\\.the reference libraries I used\r\n\r\n[enter image description here](https://i.stack.imgur.com/AcSJQ.png)\r\n\r\n3\\.I Write the src files\r\n[enter image description here](https://i.stack.imgur.com/j3Gwg.png)\r\n\r\nthe source java code are as followed:\r\n\r\n```\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport org.apache.hadoop.conf.Configuration;\r\nimport org.apache.hadoop.fs.FSDataOutputStream;\r\nimport org.apache.hadoop.fs.FileSystem;\r\nimport org.apache.hadoop.fs.Path;\r\npublic class CopyFromLocalFile {\r\n\t/**\r\n\t    * 判断路径是否存在\r\n\t */\r\n\tpublic static boolean test(Configuration conf, String path) {\r\n\t       try (FileSystem fs = FileSystem.get(conf)) {\r\n\t           return fs.exists(new Path(path));  \r\n\t       } catch (IOException e) {\r\n\t           e.printStackTrace();\r\n\t           return false;\r\n\t       }\r\n\t   }\r\n\t \r\n\t   /**\r\n\t    * 复制文件到指定路径 若路径已存在，则进行覆盖\r\n\t    */\r\n\t   public static void copyFromLocalFile(Configuration conf,\r\n\t           String localFilePath, String remoteFilePath) {\r\n\t       Path localPath = new Path(localFilePath);\r\n\t       Path remotePath = new Path(remoteFilePath);\r\n\t       try (FileSystem fs = FileSystem.get(conf)) {\r\n\t           /* fs.copyFromLocalFile 第一个参数表示是否删除源文件，第二个参数表示是否覆盖 */\r\n\t           fs.copyFromLocalFile(false, true, localPath, remotePath);\r\n\t       } catch (IOException e) {\r\n\t           e.printStackTrace();\r\n\t       }\r\n\t \r\n\t   }\r\n\t \r\n\t   /**\r\n\t    * 追加文件内容\r\n\t    */\r\n\t   public static void appendToFile(Configuration conf, String localFilePath,\r\n\t           String remoteFilePath) {\r\n\t       Path remotePath = new Path(remoteFilePath);\r\n\t       try (FileSystem fs = FileSystem.get(conf);\r\n\t               FileInputStream in = new FileInputStream(localFilePath);) {\r\n\t           FSDataOutputStream out = fs.append(remotePath);\r\n\t           byte[] data = new byte[1024];\r\n\t           int read = -1;\r\n\t           while ((read = in.read(data)) &gt; 0) {\r\n\t               out.write(data, 0, read);\r\n\t           }\r\n\t           out.close();\r\n\t       } catch (IOException e) {\r\n\t           e.printStackTrace();\r\n\t       }\r\n\t   }\r\n\t \r\n\t   /**\r\n\t    * 主函数\r\n\t    */\r\n\t   public static void main(String[] args) {\r\n\t       Configuration conf = new Configuration();\r\n\t       conf.set(&quot;fs.defaultFS&quot;, &quot;hdfs://localhost:9000&quot;);\r\n\t       String localFilePath = &quot;/usr/local/hadoop/text.txt&quot;; // 本地路径\r\n\t       String remoteFilePath = &quot;/user/hadoop/file/text.txt&quot;; // HDFS路径\r\n\t       // String choice = &quot;append&quot;; // 若文件存在则追加到文件末尾\r\n\t       String choice = &quot;overwrite&quot;; // 若文件存在则覆盖\r\n\t \r\n\t       try {\r\n\t           /* 判断文件是否存在 */\r\n\t           boolean fileExists = false;\r\n\t           if (CopyFromLocalFile.test(conf, remoteFilePath)) {\r\n\t               fileExists = true;\r\n\t               System.out.println(remoteFilePath + &quot; 已存在.&quot;);\r\n\t           } else {\r\n\t               System.out.println(remoteFilePath + &quot; 不存在.&quot;);\r\n\t           }\r\n\t           /* 进行处理 */\r\n\t           if (!fileExists) { // 文件不存在，则上传\r\n\t               CopyFromLocalFile.copyFromLocalFile(conf, localFilePath,\r\n\t                       remoteFilePath);\r\n\t               System.out.println(localFilePath + &quot; 已上传至 &quot; + remoteFilePath);\r\n\t           } else if (choice.equals(&quot;overwrite&quot;)) { // 选择覆盖\r\n\t               CopyFromLocalFile.copyFromLocalFile(conf, localFilePath,\r\n\t                       remoteFilePath);\r\n\t               System.out.println(localFilePath + &quot; 已覆盖 &quot; + remoteFilePath);\r\n\t           } else if (choice.equals(&quot;append&quot;)) { // 选择追加\r\n\t               CopyFromLocalFile.appendToFile(conf, localFilePath,\r\n\t                       remoteFilePath);\r\n\t               System.out.println(localFilePath + &quot; 已追加至 &quot; + remoteFilePath);\r\n\t           }\r\n\t       } catch (Exception e) {\r\n\t           e.printStackTrace();\r\n\t       }\r\n\t   }\r\n\r\n}\r\n\r\n\r\n\r\n```","title":"How can I sovle &quot;java.lang.NoClassDefFoundError：com/ctc/wstx/io/InputBootstrapper&quot;","body":"<p>I'm a pure newbie to hadoop and java.I would be very grateful if you could help me.</p>\n<p>I now have <strong>VSCODE</strong> started in <strong>WSL</strong>, I have configured pseudo-distributed <strong>Hadoop</strong> in WSL, and now I want to run a sample program for Java in VSCODE under WSL, I have included the reference libraries I need into this project, and I have put several related configuration files of Hadoop into the project, but I have been experiencing this problem.</p>\n<p>This problem seems to have been present with statements <strong>Configuration conf = new Configuration()</strong>;</p>\n<p>the wrong information are as followed:</p>\n<pre><code>liu@liu:~/bigdata/proj1$  cd /home/liu/bigdata/proj1 ; /usr/bin/env /usr/local/jdk8/bin/java -cp /tmp/cp_9uebk944mttbxgu829j50i3s5.jar CopyFromLocalFile \nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/ctc/wstx/io/InputBootstrapper\n        at CopyFromLocalFile.main(CopyFromLocalFile.java:61)\nCaused by: java.lang.ClassNotFoundException: com.ctc.wstx.io.InputBootstrapper\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n        ... 1 more\n</code></pre>\n<p>is it a question that related to WSL？Why do I get this error after I have included all the library files I should have?</p>\n<p>How do I fix this?please help,thanks~</p>\n<ol>\n<li>I set up the .vscode file\n<a href=\"https://i.stack.imgur.com/9upKe.png\" rel=\"nofollow noreferrer\">enter image description here</a></li>\n</ol>\n<p>task.json</p>\n<pre><code>{\n// See https://go.microsoft.com/fwlink/?LinkId=733558\n// for the documentation about the tasks.json format\n&quot;version&quot;: &quot;2.0.0&quot;,\n&quot;tasks&quot;: [\n    {\n        &quot;label&quot;: &quot;hadoop - start service&quot;,\n        &quot;type&quot;: &quot;shell&quot;,\n        &quot;command&quot;: &quot;start-all.sh&quot;,\n        &quot;options&quot;: {\n            &quot;cwd&quot;: &quot;${workspaceFolder}&quot;\n        },\n        &quot;group&quot;: &quot;build&quot;\n    },\n    {\n        &quot;label&quot;: &quot;hadoop - build &amp; run&quot;,\n        &quot;type&quot;: &quot;shell&quot;,\n        &quot;command&quot;: &quot;mkdir /tmp/a2f2ed || : &amp;&amp; javac -cp $(hadoop classpath) -d /tmp/a2f2ed ${file} &amp;&amp; jar -cvf bin/test.jar -C /tmp/a2f2ed . &amp;&amp; rm -rf /tmp/a2f2ed || :&amp;&amp; hdfs dfs -rm -r /input || : &amp;&amp; hdfs dfs -put input / &amp;&amp; hdfs dfs -rm -r /output || :&amp;&amp; hadoop jar bin/test.jar ${fileBasenameNoExtension} /input /output &amp;&amp; hdfs dfs -cat /output/*&quot;,\n        &quot;options&quot;: {\n            &quot;cwd&quot;: &quot;${workspaceFolder}&quot;\n        },\n        &quot;group&quot;: &quot;build&quot;\n    },\n    {\n        &quot;label&quot;: &quot;hadoop - stop service&quot;,\n        &quot;type&quot;: &quot;shell&quot;,\n        &quot;command&quot;: &quot;stop-all.sh&quot;,\n        &quot;options&quot;: {\n            &quot;cwd&quot;: &quot;${workspaceFolder}&quot;\n        },\n        &quot;group&quot;: &quot;build&quot;\n    },\n]\n}\n</code></pre>\n<p>setting.json</p>\n<pre><code>{\n    &quot;java.project.sourcePaths&quot;: [&quot;src&quot;],\n    &quot;java.project.outputPath&quot;: &quot;bin&quot;,\n    &quot;java.project.referencedLibraries&quot;: [\n        &quot;lib/**/*.jar&quot;,\n        &quot;/usr/local/hadoop/share/hadoop/common/hadoop-common-3.3.0.jar&quot;,\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-common-3.3.0.jar&quot;,\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-core-3.3.0.jar&quot;,\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.3.0.jar&quot;,\n        &quot;/usr/local/hadoop/share/hadoop/common/hadoop-common-3.2.4.jar&quot;,\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-common-3.2.4.jar&quot;,\n        &quot;/usr/local/hadoop/share/hadoop/common/lib/commons-cli-1.2.jar&quot;,\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-core-3.2.4.jar&quot;,\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.2.4.jar&quot;,\n        &quot;/usr/local/hadoop/share/hadoop/common/hadoop-kms-3.2.4.jar&quot;,\n        &quot;/usr/local/hadoop/share/hadoop/common/hadoop-nfs-3.2.4.jar&quot;,\n        &quot;/usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-client-uploader-3.2.4.jar&quot;\n    ]\n}\n</code></pre>\n<p>2.the reference libraries I used</p>\n<p><a href=\"https://i.stack.imgur.com/AcSJQ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>3.I Write the src files\n<a href=\"https://i.stack.imgur.com/j3Gwg.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>the source java code are as followed:</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.IOException;\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.FSDataOutputStream;\nimport org.apache.hadoop.fs.FileSystem;\nimport org.apache.hadoop.fs.Path;\npublic class CopyFromLocalFile {\n    /**\n        * 判断路径是否存在\n     */\n    public static boolean test(Configuration conf, String path) {\n           try (FileSystem fs = FileSystem.get(conf)) {\n               return fs.exists(new Path(path));  \n           } catch (IOException e) {\n               e.printStackTrace();\n               return false;\n           }\n       }\n     \n       /**\n        * 复制文件到指定路径 若路径已存在，则进行覆盖\n        */\n       public static void copyFromLocalFile(Configuration conf,\n               String localFilePath, String remoteFilePath) {\n           Path localPath = new Path(localFilePath);\n           Path remotePath = new Path(remoteFilePath);\n           try (FileSystem fs = FileSystem.get(conf)) {\n               /* fs.copyFromLocalFile 第一个参数表示是否删除源文件，第二个参数表示是否覆盖 */\n               fs.copyFromLocalFile(false, true, localPath, remotePath);\n           } catch (IOException e) {\n               e.printStackTrace();\n           }\n     \n       }\n     \n       /**\n        * 追加文件内容\n        */\n       public static void appendToFile(Configuration conf, String localFilePath,\n               String remoteFilePath) {\n           Path remotePath = new Path(remoteFilePath);\n           try (FileSystem fs = FileSystem.get(conf);\n                   FileInputStream in = new FileInputStream(localFilePath);) {\n               FSDataOutputStream out = fs.append(remotePath);\n               byte[] data = new byte[1024];\n               int read = -1;\n               while ((read = in.read(data)) &gt; 0) {\n                   out.write(data, 0, read);\n               }\n               out.close();\n           } catch (IOException e) {\n               e.printStackTrace();\n           }\n       }\n     \n       /**\n        * 主函数\n        */\n       public static void main(String[] args) {\n           Configuration conf = new Configuration();\n           conf.set(&quot;fs.defaultFS&quot;, &quot;hdfs://localhost:9000&quot;);\n           String localFilePath = &quot;/usr/local/hadoop/text.txt&quot;; // 本地路径\n           String remoteFilePath = &quot;/user/hadoop/file/text.txt&quot;; // HDFS路径\n           // String choice = &quot;append&quot;; // 若文件存在则追加到文件末尾\n           String choice = &quot;overwrite&quot;; // 若文件存在则覆盖\n     \n           try {\n               /* 判断文件是否存在 */\n               boolean fileExists = false;\n               if (CopyFromLocalFile.test(conf, remoteFilePath)) {\n                   fileExists = true;\n                   System.out.println(remoteFilePath + &quot; 已存在.&quot;);\n               } else {\n                   System.out.println(remoteFilePath + &quot; 不存在.&quot;);\n               }\n               /* 进行处理 */\n               if (!fileExists) { // 文件不存在，则上传\n                   CopyFromLocalFile.copyFromLocalFile(conf, localFilePath,\n                           remoteFilePath);\n                   System.out.println(localFilePath + &quot; 已上传至 &quot; + remoteFilePath);\n               } else if (choice.equals(&quot;overwrite&quot;)) { // 选择覆盖\n                   CopyFromLocalFile.copyFromLocalFile(conf, localFilePath,\n                           remoteFilePath);\n                   System.out.println(localFilePath + &quot; 已覆盖 &quot; + remoteFilePath);\n               } else if (choice.equals(&quot;append&quot;)) { // 选择追加\n                   CopyFromLocalFile.appendToFile(conf, localFilePath,\n                           remoteFilePath);\n                   System.out.println(localFilePath + &quot; 已追加至 &quot; + remoteFilePath);\n               }\n           } catch (Exception e) {\n               e.printStackTrace();\n           }\n       }\n\n}\n\n\n\n</code></pre>\n"},{"tags":["java","android","gradle","jitsi","jitsi-meet"],"answers":[{"tags":[],"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666166385,"creation_date":1666166385,"answer_id":74121817,"question_id":74121094,"body_markdown":"Try this implementation for SDK and reference [link][1] \r\n\r\n    dependencies {\r\n       // Jitsi Meet\r\n        implementation (&#39;org.jitsi.react:jitsi-meet-sdk:5.1.0&#39;) { transitive = true }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/jitsi/jitsi-meet-sdk-samples/blob/master/android/kotlin/JitsiSDKTest/app/build.gradle","title":"Jitsi Android SDK crashes (version 6.1.0) after joining call","body":"<p>Try this implementation for SDK and reference <a href=\"https://github.com/jitsi/jitsi-meet-sdk-samples/blob/master/android/kotlin/JitsiSDKTest/app/build.gradle\" rel=\"nofollow noreferrer\">link</a></p>\n<pre><code>dependencies {\n   // Jitsi Meet\n    implementation ('org.jitsi.react:jitsi-meet-sdk:5.1.0') { transitive = true }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20548064,"reputation":31,"user_id":15081383,"display_name":"Nilabh Nayan Borthakur"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666781472,"creation_date":1666781400,"answer_id":74206547,"question_id":74121094,"body_markdown":"I myself found a solution for this.\r\n\r\n 1. Right click on res folder in android project and choose image asset\r\n    from new section.\r\n 2. Create icon with following config\r\n\r\n    **Name: ic_notification**\r\n\r\n    **Icon Type: Notification Icons**\r\n","title":"Jitsi Android SDK crashes (version 6.1.0) after joining call","body":"<p>I myself found a solution for this.</p>\n<ol>\n<li><p>Right click on res folder in android project and choose image asset\nfrom new section.</p>\n</li>\n<li><p>Create icon with following config</p>\n<p><strong>Name: ic_notification</strong></p>\n<p><strong>Icon Type: Notification Icons</strong></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":21351587,"reputation":735,"user_id":15721032,"display_name":"Joshua Simon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669236355,"creation_date":1669236355,"answer_id":74552795,"question_id":74121094,"body_markdown":"I had same problem, i tried to use older version **sdk:5.1.0** and enable Jetfier . It fixed my issue.\r\n\r\n1. Go to **Gradle.properties** add this\r\n\r\n    repositories {\r\n\r\n        maven {\r\n\r\n            url &quot;https://github.com/jitsi/jitsi-maven repository/raw/master/releases&quot;\r\n\r\n        }\r\n        google()\r\n        mavenCentral()\r\n        maven { url &#39;https://www.jitpack.io&#39; }\r\n    }\r\n\r\n\r\n\r\n2. Add this in **Build.gradle**\r\n\r\ndependencies {\r\n\r\n    implementation (&#39;org.jitsi.react:jitsi-meet-sdk:5.1.0&#39;) { transitive = true }\r\n\r\n}\r\n\r\n\r\n\r\n3. Go to **gradle.properties** add enableJetfier and set value to true\r\n   \r\n \r\n\r\nandroid.enableJetifier=true\r\n\r\n","title":"Jitsi Android SDK crashes (version 6.1.0) after joining call","body":"<p>I had same problem, i tried to use older version <strong>sdk:5.1.0</strong> and enable Jetfier . It fixed my issue.</p>\n<ol>\n<li><p>Go to <strong>Gradle.properties</strong> add this</p>\n<p>repositories {</p>\n<pre><code> maven {\n\n     url &quot;https://github.com/jitsi/jitsi-maven repository/raw/master/releases&quot;\n\n }\n google()\n mavenCentral()\n maven { url 'https://www.jitpack.io' }\n</code></pre>\n<p>}</p>\n</li>\n<li><p>Add this in <strong>Build.gradle</strong></p>\n</li>\n</ol>\n<p>dependencies {</p>\n<pre><code>implementation ('org.jitsi.react:jitsi-meet-sdk:5.1.0') { transitive = true }\n</code></pre>\n<p>}</p>\n<ol start=\"3\">\n<li>Go to <strong>gradle.properties</strong> add enableJetfier and set value to true</li>\n</ol>\n<p>android.enableJetifier=true</p>\n"}],"owner":{"account_id":20548064,"reputation":31,"user_id":15081383,"display_name":"Nilabh Nayan Borthakur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1460,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1679058888,"creation_date":1666162750,"question_id":74121094,"body_markdown":"I am trying to integrate **Jitsi Android SDK** for video Conferences on my app but it crashes as soon as I join/create a meeting. I am using Android Version -\r\n\r\n    Android Studio Dolphin | 2021.3.1 Patch 1\r\n    Build #AI-213.7172.25.2113.9123335, built on September 30, 2022\r\n    Runtime version: 11.0.13+0-b1751.21-8125866 amd64\r\n    VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\n    Windows 11 10.0\r\n\r\n Here&#39;s the java code below for my DashboardActivity. \r\n\r\n    package com.skymeet.videoConference;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import org.jitsi.meet.sdk.JitsiMeet;\r\n    import org.jitsi.meet.sdk.JitsiMeetActivity;\r\n    import org.jitsi.meet.sdk.JitsiMeetConferenceOptions;\r\n    \r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    \r\n    public class DashboardActivity extends AppCompatActivity {\r\n    \r\n        EditText codeBox;\r\n        Button joinBtn, shareBtn;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_dashboard);\r\n    \r\n            codeBox = findViewById(R.id.codeBox);\r\n            joinBtn = findViewById(R.id.joinBtn);\r\n            shareBtn = findViewById(R.id.shareBtn); // not implemented yet\r\n    \r\n            URL serverURL = null;\r\n            try {\r\n                serverURL = new URL(&quot;https://meet.jit.si&quot;);\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            JitsiMeetConferenceOptions defaultOptions\r\n                    = new JitsiMeetConferenceOptions.Builder()\r\n                    .setServerURL(serverURL)\r\n                    .setFeatureFlag(&quot;welcomepage.enabled&quot;, false)\r\n                    .build();\r\n    \r\n            JitsiMeet.setDefaultConferenceOptions(defaultOptions);\r\n    \r\n    \r\n    \r\n    \r\n            joinBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n                    JitsiMeetConferenceOptions options\r\n                            = new JitsiMeetConferenceOptions.Builder()\r\n                            .setRoom(codeBox.getText().toString()).setFeatureFlag(&quot;welcomepage.enabled&quot;, false)\r\n                            .build();\r\n                    JitsiMeetActivity.launch(DashboardActivity.this, options);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\nI have implemented this code with help from https://jitsi.github.io/handbook/docs/dev-guide/dev-guide-android-sdk/\r\n\r\nOn the Jitsi Android docs they have mentioned this way **but this does not imports Jitsi Android SDK to our project.**\r\n\r\n*The repository typically goes into the `build.gradle` file in the root of your project:\r\nbuild.gradle*\r\n\r\n    allprojects {\r\n        repositories {\r\n            maven {\r\n                url &quot;https://github.com/jitsi/jitsi-maven-repository/raw/master/releases&quot;\r\n            }\r\n            google()\r\n            mavenCentral()\r\n            maven { url &#39;https://www.jitpack.io&#39; }\r\n        }\r\n    }\r\n\r\n*Dependency definitions belong in the individual module `build.gradle` files:*\r\n\r\n    dependencies {\r\n        // (other dependencies)\r\n        implementation (&#39;org.jitsi.react:jitsi-meet-sdk:+&#39;) { transitive = true }\r\n    }\r\n\r\nInstead, we used to get a warning like this below while syncing the Gradle files.\r\n`Failed to resolve: org.jitsi.react:jitsi-meet-sdk:6.1.0` ~~  \r\n[Check Gradle Warning Screenshot][1]\r\n\r\n\r\nThis can be fixed by placing the repository on `settings.gradle` as below\r\n\r\n    dependencyResolutionManagement {\r\n        repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            maven {\r\n                url &quot;https://github.com/jitsi/jitsi-maven-repository/raw/master/releases&quot;\r\n            }\r\n            maven {\r\n                url &quot;https://maven.google.com&quot;\r\n            }\r\n        }\r\n    }\r\n\r\nAfter everything is successfully built &amp; installed on devices, my app crashes as soon as I create or join the meeting. Not able to figure out what is causing my application to crash. \r\n\r\nAfter crashing the error comes this way on my mobile phone.\r\n [Check Error Screenshot on mobile][2] \r\n\r\n    java.lang.RuntimeException: Unable to start service org.jitsi.meet.sdk\r\n    \r\n    Jits MeetOngoingConferenceService@dc6a12a with Intent(cmp=com.skymeet.videoConference/org.jits i.meet.sdk.JitsiMeetOngoingConferenceService (has extras)}: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(chann el-JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate-null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\r\n    \r\n    at\r\n    \r\n    android.app.ActivityThread.handleServiceArgs(Activit yThread.java:4802)\r\n    \r\n    at\r\n    \r\n    android.app.ActivityThread.access$2100(ActivityThr\r\n    \r\n    ead.java:276)\r\n    \r\n    at\r\n    \r\n    android.app.ActivityThread$H.handleMessage(Activi\r\n    \r\n    tyThread.java:2156)\r\n    \r\n    at android.os.Handler.dispatchMessage(Handler.java:1 06)\r\n    \r\n    at android.os.Looper.loopOnce (Looper.java:210) at android.os.Looper.loop(Looper.java:299)\r\n    \r\n    at android.app.ActivityThread.main(ActivityThread.java: 8213)\r\n    \r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    \r\n    at com.android.internal.os.RuntimeInit$MethodAndArg sCaller.run(RuntimeInit.java:556)\r\n    \r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.ja\r\n    \r\n    va:1045) Caused by: java.lang.IllegalArgumentException:\r\n    \r\n    Invalid notification (no valid small icon): Notification(channel-JitsiOngoingConfere\r\n    \r\n    nceChannel shortcut-null contentView=null vibrate-null sound-null defaults=0x0 flags=0xa\r\n    \r\n    color=0x00000000 category=call actions=2\r\n    \r\n    vis PUBLIC)\r\n    \r\n    at\r\n    \r\n    android.app.NotificationManager.fixNotification(Noti ficationManager.java:699) at\r\n    \r\n    android.app.NotificationManager.notifyAsUser(Notifi cationManager.java:678) at\r\n    \r\n    android.app.NotificationManager.notify(Notification Manager.java:627)\r\n    \r\n    at\r\n    \r\n    android.app.NotificationManager.notify(Notification Manager.java:603) at\r\n    \r\n    org.jitsi.meet.sdk.JitsiMeetOngoingConferenceServi ce.onStartCommand(JitsiMeetOngoingConferenceS ervice.java:135)\r\n    \r\n    at\r\n    \r\n    android.app.ActivityThread.handleServiceArgs(Activit yThread.java:4784)\r\n    \r\n    ...&#160;9&#160;more\r\n\r\n\r\nCheck video for further error references - https://drive.google.com/file/d/1tXZOtMYQ_Oi1w4UtJ5olyupR13E2HrpV/view?usp=sharing\r\n\r\nCan someone please help me with this? I will be grateful enough.\r\nThank you!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G7ihW.jpg\r\n  [2]: https://i.stack.imgur.com/5RGGn.jpg","title":"Jitsi Android SDK crashes (version 6.1.0) after joining call","body":"<p>I am trying to integrate <strong>Jitsi Android SDK</strong> for video Conferences on my app but it crashes as soon as I join/create a meeting. I am using Android Version -</p>\n<pre><code>Android Studio Dolphin | 2021.3.1 Patch 1\nBuild #AI-213.7172.25.2113.9123335, built on September 30, 2022\nRuntime version: 11.0.13+0-b1751.21-8125866 amd64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nWindows 11 10.0\n</code></pre>\n<p>Here's the java code below for my DashboardActivity.</p>\n<pre><code>package com.skymeet.videoConference;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport org.jitsi.meet.sdk.JitsiMeet;\nimport org.jitsi.meet.sdk.JitsiMeetActivity;\nimport org.jitsi.meet.sdk.JitsiMeetConferenceOptions;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\npublic class DashboardActivity extends AppCompatActivity {\n\n    EditText codeBox;\n    Button joinBtn, shareBtn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_dashboard);\n\n        codeBox = findViewById(R.id.codeBox);\n        joinBtn = findViewById(R.id.joinBtn);\n        shareBtn = findViewById(R.id.shareBtn); // not implemented yet\n\n        URL serverURL = null;\n        try {\n            serverURL = new URL(&quot;https://meet.jit.si&quot;);\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        }\n\n        JitsiMeetConferenceOptions defaultOptions\n                = new JitsiMeetConferenceOptions.Builder()\n                .setServerURL(serverURL)\n                .setFeatureFlag(&quot;welcomepage.enabled&quot;, false)\n                .build();\n\n        JitsiMeet.setDefaultConferenceOptions(defaultOptions);\n\n\n\n\n        joinBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                JitsiMeetConferenceOptions options\n                        = new JitsiMeetConferenceOptions.Builder()\n                        .setRoom(codeBox.getText().toString()).setFeatureFlag(&quot;welcomepage.enabled&quot;, false)\n                        .build();\n                JitsiMeetActivity.launch(DashboardActivity.this, options);\n            }\n        });\n    }\n}\n</code></pre>\n<p>I have implemented this code with help from <a href=\"https://jitsi.github.io/handbook/docs/dev-guide/dev-guide-android-sdk/\" rel=\"nofollow noreferrer\">https://jitsi.github.io/handbook/docs/dev-guide/dev-guide-android-sdk/</a></p>\n<p>On the Jitsi Android docs they have mentioned this way <strong>but this does not imports Jitsi Android SDK to our project.</strong></p>\n<p><em>The repository typically goes into the <code>build.gradle</code> file in the root of your project:\nbuild.gradle</em></p>\n<pre><code>allprojects {\n    repositories {\n        maven {\n            url &quot;https://github.com/jitsi/jitsi-maven-repository/raw/master/releases&quot;\n        }\n        google()\n        mavenCentral()\n        maven { url 'https://www.jitpack.io' }\n    }\n}\n</code></pre>\n<p><em>Dependency definitions belong in the individual module <code>build.gradle</code> files:</em></p>\n<pre><code>dependencies {\n    // (other dependencies)\n    implementation ('org.jitsi.react:jitsi-meet-sdk:+') { transitive = true }\n}\n</code></pre>\n<p>Instead, we used to get a warning like this below while syncing the Gradle files.\n<code>Failed to resolve: org.jitsi.react:jitsi-meet-sdk:6.1.0</code> ~~<br />\n<a href=\"https://i.stack.imgur.com/G7ihW.jpg\" rel=\"nofollow noreferrer\">Check Gradle Warning Screenshot</a></p>\n<p>This can be fixed by placing the repository on <code>settings.gradle</code> as below</p>\n<pre><code>dependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n        maven {\n            url &quot;https://github.com/jitsi/jitsi-maven-repository/raw/master/releases&quot;\n        }\n        maven {\n            url &quot;https://maven.google.com&quot;\n        }\n    }\n}\n</code></pre>\n<p>After everything is successfully built &amp; installed on devices, my app crashes as soon as I create or join the meeting. Not able to figure out what is causing my application to crash.</p>\n<p>After crashing the error comes this way on my mobile phone.\n<a href=\"https://i.stack.imgur.com/5RGGn.jpg\" rel=\"nofollow noreferrer\">Check Error Screenshot on mobile</a></p>\n<pre><code>java.lang.RuntimeException: Unable to start service org.jitsi.meet.sdk\n\nJits MeetOngoingConferenceService@dc6a12a with Intent(cmp=com.skymeet.videoConference/org.jits i.meet.sdk.JitsiMeetOngoingConferenceService (has extras)}: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(chann el-JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate-null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\n\nat\n\nandroid.app.ActivityThread.handleServiceArgs(Activit yThread.java:4802)\n\nat\n\nandroid.app.ActivityThread.access$2100(ActivityThr\n\nead.java:276)\n\nat\n\nandroid.app.ActivityThread$H.handleMessage(Activi\n\ntyThread.java:2156)\n\nat android.os.Handler.dispatchMessage(Handler.java:1 06)\n\nat android.os.Looper.loopOnce (Looper.java:210) at android.os.Looper.loop(Looper.java:299)\n\nat android.app.ActivityThread.main(ActivityThread.java: 8213)\n\nat java.lang.reflect.Method.invoke(Native Method)\n\nat com.android.internal.os.RuntimeInit$MethodAndArg sCaller.run(RuntimeInit.java:556)\n\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.ja\n\nva:1045) Caused by: java.lang.IllegalArgumentException:\n\nInvalid notification (no valid small icon): Notification(channel-JitsiOngoingConfere\n\nnceChannel shortcut-null contentView=null vibrate-null sound-null defaults=0x0 flags=0xa\n\ncolor=0x00000000 category=call actions=2\n\nvis PUBLIC)\n\nat\n\nandroid.app.NotificationManager.fixNotification(Noti ficationManager.java:699) at\n\nandroid.app.NotificationManager.notifyAsUser(Notifi cationManager.java:678) at\n\nandroid.app.NotificationManager.notify(Notification Manager.java:627)\n\nat\n\nandroid.app.NotificationManager.notify(Notification Manager.java:603) at\n\norg.jitsi.meet.sdk.JitsiMeetOngoingConferenceServi ce.onStartCommand(JitsiMeetOngoingConferenceS ervice.java:135)\n\nat\n\nandroid.app.ActivityThread.handleServiceArgs(Activit yThread.java:4784)\n\n... 9 more\n</code></pre>\n<p>Check video for further error references - <a href=\"https://drive.google.com/file/d/1tXZOtMYQ_Oi1w4UtJ5olyupR13E2HrpV/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1tXZOtMYQ_Oi1w4UtJ5olyupR13E2HrpV/view?usp=sharing</a></p>\n<p>Can someone please help me with this? I will be grateful enough.\nThank you!</p>\n"},{"tags":["java","vaadin14"],"answers":[{"tags":[],"owner":{"account_id":21059585,"reputation":51,"user_id":15478231,"display_name":"Mikael Sukoinen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679056429,"creation_date":1679056429,"answer_id":75767641,"question_id":75766918,"body_markdown":"Sounds like the server may be restarting from time to time. Where is your application deployed? ","title":"vaadin uix response slow after idle time","body":"<p>Sounds like the server may be restarting from time to time. Where is your application deployed?</p>\n"}],"owner":{"account_id":5163201,"reputation":1,"user_id":4134150,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679058370,"creation_date":1679051616,"question_id":75766918,"body_markdown":"perhaps a very simple question, but I did not find any  answer so far. We are using vaadin14, but I guess, that it is independent of the version. \r\nWhen opening vaadin in the browser and let the browser open for a longer time (half an hour/one hour or more) without interaction, then it lasts very long when trying to open a popup or reading data into a grid for the first time. Repeated reads or actions then work as fast as expected afterwards. After a periode of time, the behaviour is the same again. \r\nIt seems, that the frontend and backend looses there connection or something like that and have to synchronize with each other after a long idle time. \r\n\r\n\r\nPerhaps there are some settings to let the ui and the backend talk to each other in the background to avoid this situation. Thanks in advance for every idea.","title":"vaadin uix response slow after idle time","body":"<p>perhaps a very simple question, but I did not find any  answer so far. We are using vaadin14, but I guess, that it is independent of the version.\nWhen opening vaadin in the browser and let the browser open for a longer time (half an hour/one hour or more) without interaction, then it lasts very long when trying to open a popup or reading data into a grid for the first time. Repeated reads or actions then work as fast as expected afterwards. After a periode of time, the behaviour is the same again.\nIt seems, that the frontend and backend looses there connection or something like that and have to synchronize with each other after a long idle time.</p>\n<p>Perhaps there are some settings to let the ui and the backend talk to each other in the background to avoid this situation. Thanks in advance for every idea.</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":21752129,"reputation":111,"user_id":16057905,"display_name":"Byte Code"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679058281,"creation_date":1679058281,"answer_id":75767930,"question_id":75767194,"body_markdown":"It is not clear where your are calling buttonClickDialog() function.\r\nMy thoughts are if you are showing the AlertDialog inside AssistantActivity or in a fragment that belongs to AssistantActivity, the &quot;activity&quot; keyword will return the context of AssistantActivity. You can also cast it as (activity as? AssistantActivity)?.\r\n\r\nOr, Maybe you can pass it as parameter \r\nfun buttonClickDialog(context: Context) {\r\n...\r\n ","title":"How access context from another file","body":"<p>It is not clear where your are calling buttonClickDialog() function.\nMy thoughts are if you are showing the AlertDialog inside AssistantActivity or in a fragment that belongs to AssistantActivity, the &quot;activity&quot; keyword will return the context of AssistantActivity. You can also cast it as (activity as? AssistantActivity)?.</p>\n<p>Or, Maybe you can pass it as parameter\nfun buttonClickDialog(context: Context) {\n...</p>\n"}],"owner":{"account_id":18353473,"reputation":1,"user_id":13367113,"display_name":"muhammetbalikci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679367216,"answer_count":1,"score":0,"last_activity_date":1679058281,"creation_date":1679053275,"question_id":75767194,"body_markdown":"I have Assistant activity and an alertDialog function in another kotlin file. I want to create alertdialog box. But I don&#39;t know how I can call context of Assistant. Can you help me? I couldn&#39;t understand contexts.\r\n\r\nMy assistant class: \r\n```\r\nclass AssistantActivity : GenericActivity(), SnackBarActivity {\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.assistant_activity)\r\n    }\r\n```\r\n\r\nMy alertDialog function:\r\n```\r\nfun buttonClickDialog() {\r\n\r\n            val domainArray: Array&lt;String&gt; = tenantNames.toTypedArray()\r\n\r\n            val builder = AlertDialog.Builder()\r\n            with(builder) {\r\n\r\n                setTitle(&quot;Choose 1&quot;)\r\n                setItems(domainArray) { dialog, which -&gt;\r\n                }\r\n            }\r\n            val alertDialog = builder.create()\r\n            alertDialog.show()\r\n        }```\r\n","title":"How access context from another file","body":"<p>I have Assistant activity and an alertDialog function in another kotlin file. I want to create alertdialog box. But I don't know how I can call context of Assistant. Can you help me? I couldn't understand contexts.</p>\n<p>My assistant class:</p>\n<pre><code>class AssistantActivity : GenericActivity(), SnackBarActivity {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.assistant_activity)\n    }\n</code></pre>\n<p>My alertDialog function:</p>\n<pre><code>fun buttonClickDialog() {\n\n            val domainArray: Array&lt;String&gt; = tenantNames.toTypedArray()\n\n            val builder = AlertDialog.Builder()\n            with(builder) {\n\n                setTitle(&quot;Choose 1&quot;)\n                setItems(domainArray) { dialog, which -&gt;\n                }\n            }\n            val alertDialog = builder.create()\n            alertDialog.show()\n        }```\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1679059054,"post_id":75767906,"comment_id":133657434,"body_markdown":"I believe that is known issue: https://hibernate.atlassian.net/jira/software/c/projects/HHH/issues/HHH-16081 https://hibernate.atlassian.net/jira/software/c/projects/HHH/issues/HHH-16147","body":"I believe that is known issue: <a href=\"https://hibernate.atlassian.net/jira/software/c/projects/HHH/issues/HHH-16081\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/jira/software/c/projects/HHH/issues/&zwnj;&#8203;&hellip;</a> <a href=\"https://hibernate.atlassian.net/jira/software/c/projects/HHH/issues/HHH-16147\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/jira/software/c/projects/HHH/issues/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":3053490,"reputation":1048,"user_id":2587611,"display_name":"Bram"},"score":0,"creation_date":1679065388,"post_id":75767906,"comment_id":133659326,"body_markdown":"@AndreyB.Panfilov Indeed seems like the same issue, so should be fixed in Hibernate 6.2. Thanks.","body":"@AndreyB.Panfilov Indeed seems like the same issue, so should be fixed in Hibernate 6.2. Thanks."}],"owner":{"account_id":3053490,"reputation":1048,"user_id":2587611,"display_name":"Bram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679058122,"creation_date":1679058122,"question_id":75767906,"body_markdown":"I have an Entity called User:\r\n```\r\nimport jakarta.persistence.*\r\n\r\nimport java.util.List;\r\n\r\n@Entity(name = &quot;USERS&quot;)\r\npublic class User {\r\n\r\n    private String username;\r\n    private List&lt;String&gt; roles;\r\n\r\n    @Id\r\n    @Column(name = &quot;USERNAME&quot;)\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(final String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    @Convert(converter = StringListConverter.class)\r\n    @Column(name = &quot;GROUPS&quot;)\r\n    public List&lt;String&gt; getRoles() {\r\n        return roles;\r\n    }\r\n\r\n    public void setRoles(final List&lt;String&gt; roles) {\r\n        this.roles = roles;\r\n    }\r\n}\r\n```\r\n\r\nBefore, when using Spring Boot 2.7.9, I could update this entity as follows:\r\n```\r\npublic User updateUser(String username, User updatedUser) {\r\n    User user = this.userRepository.findById(username).orElseThrow();\r\n    user.getRoles().removeAll(List.of(&quot;user&quot;, &quot;admin&quot;));\r\n    user.getRoles().addAll(updatedUser.getRoles());\r\n    return userRepository.save(user);\r\n}\r\n```\r\n\r\nBut after upgrading to Spring Boot 3, this does not work anymore. I have to create a new ArrayList and call `setRoles()` in order for the entity to be persisted when calling `save()`. So this code *does* work:\r\n```\r\npublic User updateUser(String username, User updatedUser) {\r\n    User user = this.userRepository.findById(username).orElseThrow();\r\n    List&lt;String&gt; newRoles = new ArrayList&lt;&gt;(user.getRoles());\r\n    newRoles.removeAll(List.of(&quot;user&quot;, &quot;admin&quot;));\r\n    newRoles.addAll(updatedUser.getRoles());\r\n    user.setRoles(newRoles);\r\n    return userRepository.save(user);\r\n}\r\n```\r\n\r\n\r\nThere&#39;s no exception whatsoever and the `save()` method returns the updated User object (with the updated roles) as expected. But there is no query being executed (according to hibernate logs) and the database is not modified.\r\n\r\nAny idea what might cause this?\r\n\r\n\r\nFor completeness, this is the StringListConverter:\r\n```\r\nimport jakarta.persistence.AttributeConverter;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class StringListConverter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\r\n    @Override\r\n    public String convertToDatabaseColumn(final List&lt;String&gt; strings) {\r\n        return String.join(&quot;,&quot;, strings);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;String&gt; convertToEntityAttribute(final String s) {\r\n        return Arrays.asList(s.split(&quot;,&quot;)).stream()\r\n                .map(String::trim)\r\n                .collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\nAnd this is the UserRepository:\r\n```\r\n@Repository\r\ninterface UserRepository extends JpaRepository&lt;User, String&gt; {\r\n}\r\n```","title":"JPA Entity not persisted in Spring Boot 3 when only changing List items","body":"<p>I have an Entity called User:</p>\n<pre><code>import jakarta.persistence.*\n\nimport java.util.List;\n\n@Entity(name = &quot;USERS&quot;)\npublic class User {\n\n    private String username;\n    private List&lt;String&gt; roles;\n\n    @Id\n    @Column(name = &quot;USERNAME&quot;)\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(final String username) {\n        this.username = username;\n    }\n\n    @Convert(converter = StringListConverter.class)\n    @Column(name = &quot;GROUPS&quot;)\n    public List&lt;String&gt; getRoles() {\n        return roles;\n    }\n\n    public void setRoles(final List&lt;String&gt; roles) {\n        this.roles = roles;\n    }\n}\n</code></pre>\n<p>Before, when using Spring Boot 2.7.9, I could update this entity as follows:</p>\n<pre><code>public User updateUser(String username, User updatedUser) {\n    User user = this.userRepository.findById(username).orElseThrow();\n    user.getRoles().removeAll(List.of(&quot;user&quot;, &quot;admin&quot;));\n    user.getRoles().addAll(updatedUser.getRoles());\n    return userRepository.save(user);\n}\n</code></pre>\n<p>But after upgrading to Spring Boot 3, this does not work anymore. I have to create a new ArrayList and call <code>setRoles()</code> in order for the entity to be persisted when calling <code>save()</code>. So this code <em>does</em> work:</p>\n<pre><code>public User updateUser(String username, User updatedUser) {\n    User user = this.userRepository.findById(username).orElseThrow();\n    List&lt;String&gt; newRoles = new ArrayList&lt;&gt;(user.getRoles());\n    newRoles.removeAll(List.of(&quot;user&quot;, &quot;admin&quot;));\n    newRoles.addAll(updatedUser.getRoles());\n    user.setRoles(newRoles);\n    return userRepository.save(user);\n}\n</code></pre>\n<p>There's no exception whatsoever and the <code>save()</code> method returns the updated User object (with the updated roles) as expected. But there is no query being executed (according to hibernate logs) and the database is not modified.</p>\n<p>Any idea what might cause this?</p>\n<p>For completeness, this is the StringListConverter:</p>\n<pre><code>import jakarta.persistence.AttributeConverter;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class StringListConverter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\n    @Override\n    public String convertToDatabaseColumn(final List&lt;String&gt; strings) {\n        return String.join(&quot;,&quot;, strings);\n    }\n\n    @Override\n    public List&lt;String&gt; convertToEntityAttribute(final String s) {\n        return Arrays.asList(s.split(&quot;,&quot;)).stream()\n                .map(String::trim)\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p>And this is the UserRepository:</p>\n<pre><code>@Repository\ninterface UserRepository extends JpaRepository&lt;User, String&gt; {\n}\n</code></pre>\n"},{"tags":["java","caching","thread-local","virtual-threads"],"answers":[{"tags":[],"owner":{"account_id":8354342,"reputation":76,"user_id":6275236,"display_name":"Roland J."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673181178,"creation_date":1673181178,"answer_id":75047772,"question_id":75047540,"body_markdown":"Honestly, I am not sure if I understand your question right.\r\n[JEP 429][1] states the following:\r\n - &quot;Every thread-local variable is mutable&quot; and &quot;The thread-local variable serves as a kind of hidden method argument&quot; but it is quite clear that &quot; this can lead to spaghetti-like data flow&quot; and much discipline and some engineering effort are recommended. Some best practices or more restrictions might be helpful ...\r\n - &quot;... if each of a million virtual threads has mutable thread-local variables, the memory footprint may be significant.&quot; This raises the question of how an implementation of an algorithm should be designed, taking advantage of the parallelization with virtual threads.\r\n - &quot;The Java Platform should provide a way to maintain immutable and inheritable per-thread data for thousands or millions of virtual threads.&quot; This is a comprehensible demand, but it seems that the authors are not sure and some more conceptual work is needed.\r\n\r\nNow getting back to your question concerning the &quot;allocation of thread locals on a carrier thread from the virtual thread&quot;. Why would you need that?\r\nAnd caching objects in a thread-local makes sense in some scenarios (like caching the principal for the DB access in the example).\r\nSince virtual threads are relatively new (Java 19), it might be a bit early to declare thread-locals dead.\r\n\r\n  [1]: https://openjdk.org/jeps/429","title":"Is it possible to create a ThreadLocal for the carrier thread of a Java virtual thread?","body":"<p>Honestly, I am not sure if I understand your question right.\n<a href=\"https://openjdk.org/jeps/429\" rel=\"nofollow noreferrer\">JEP 429</a> states the following:</p>\n<ul>\n<li>&quot;Every thread-local variable is mutable&quot; and &quot;The thread-local variable serves as a kind of hidden method argument&quot; but it is quite clear that &quot; this can lead to spaghetti-like data flow&quot; and much discipline and some engineering effort are recommended. Some best practices or more restrictions might be helpful ...</li>\n<li>&quot;... if each of a million virtual threads has mutable thread-local variables, the memory footprint may be significant.&quot; This raises the question of how an implementation of an algorithm should be designed, taking advantage of the parallelization with virtual threads.</li>\n<li>&quot;The Java Platform should provide a way to maintain immutable and inheritable per-thread data for thousands or millions of virtual threads.&quot; This is a comprehensible demand, but it seems that the authors are not sure and some more conceptual work is needed.</li>\n</ul>\n<p>Now getting back to your question concerning the &quot;allocation of thread locals on a carrier thread from the virtual thread&quot;. Why would you need that?\nAnd caching objects in a thread-local makes sense in some scenarios (like caching the principal for the DB access in the example).\nSince virtual threads are relatively new (Java 19), it might be a bit early to declare thread-locals dead.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1679057882,"creation_date":1679057327,"answer_id":75767787,"question_id":75047540,"body_markdown":"You wrote\r\n\r\n&gt; So I am assuming - please correct me if I am wrong - that\r\n&gt; 1) the virtual thread will never be interleaved by another virtual thread on the same carrier thread or rescheduled on another carrier thread _unless the code would have blocked otherwise_ and therefore, if\r\n&gt; 2) the operation we invoke on the cached object never blocks, then the task/virtual thread will simply run from start to finish on the same carrier and so yes, it would be safe to cache the object on a platform thread-local.\r\n\r\nBut the [State of Loom][1] document states:\r\n\r\n&gt; You must not make any assumptions about where the scheduling points are any more than you would for today’s threads. Even without forced preemption, any JDK or library method you call could introduce blocking, and so a task-switching point.\r\n\r\n[and further]:\r\n\r\n&gt; To that end, we plan for the VM to support an operation that tries to forcefully preempt execution at any safepoint. How that capability will be exposed to the schedulers is TBD, and will likely not make it to the first Preview.\r\n\r\nSo\r\n\r\n 1. The assumption that a virtual thread only releases the carrier thread when it is about to be blocked, only applies to the current preview. Preemptive switching between virtual threads is allowed and even planned for the future.\r\n\r\n 2. Even if we assume that a virtual thread can only release the carrier thread when performing blocking operations, we can’t predict when a blocking operation may occur.\r\n\r\n    - One example of operations outside our control, is *class loading*. Loading class data is a blocking operation and class loading is implemented lazily for common JVMs. It’s even possible that a method that has been invoked multiple times suddenly executes an uncommon path that uses a class that has not been used before.\r\n\r\n    - Another example is *resource loading*. Even an example as simple as your `DateFormat` already involves resources organized in an unspecified way, time zone data or localized month and weekday names, for example.\r\n\r\nSo, there’s no way of having a safely working carrier-local cache and your assumption that using thread locals (or alike) for caching is dead, is indeed right. You may use an object pool instead, but since this implies some sort of synchronization, you might as well consider just using a single `DateFormat`&#185; and synchronize on it. This would implement your initial idea of not releasing the carrier thread during the use of the object.\r\n\r\nOf course, in this specific example, the better option is to use a `DateTimeFormatter` from the `java.time` API which is thread safe and hence, allows a single instance to be shared by all threads.\r\n\r\n&#185; or one of multiple, selected in a way that does not involve synchronization\r\n\r\n[1]: https://cr.openjdk.org/~rpressler/loom/loom/sol1_part1.html#scheduling:~:text=You%20must%20not,task%2Dswitching%20point.\r\n[and further]: https://cr.openjdk.org/~rpressler/loom/loom/sol1_part2.html#forced-preemption","title":"Is it possible to create a ThreadLocal for the carrier thread of a Java virtual thread?","body":"<p>You wrote</p>\n<blockquote>\n<p>So I am assuming - please correct me if I am wrong - that</p>\n<ol>\n<li>the virtual thread will never be interleaved by another virtual thread on the same carrier thread or rescheduled on another carrier thread <em>unless the code would have blocked otherwise</em> and therefore, if</li>\n<li>the operation we invoke on the cached object never blocks, then the task/virtual thread will simply run from start to finish on the same carrier and so yes, it would be safe to cache the object on a platform thread-local.</li>\n</ol>\n</blockquote>\n<p>But the <a href=\"https://cr.openjdk.org/%7Erpressler/loom/loom/sol1_part1.html#scheduling:%7E:text=You%20must%20not,task%2Dswitching%20point.\" rel=\"noreferrer\">State of Loom</a> document states:</p>\n<blockquote>\n<p>You must not make any assumptions about where the scheduling points are any more than you would for today’s threads. Even without forced preemption, any JDK or library method you call could introduce blocking, and so a task-switching point.</p>\n</blockquote>\n<p><a href=\"https://cr.openjdk.org/%7Erpressler/loom/loom/sol1_part2.html#forced-preemption\" rel=\"noreferrer\">and further</a>:</p>\n<blockquote>\n<p>To that end, we plan for the VM to support an operation that tries to forcefully preempt execution at any safepoint. How that capability will be exposed to the schedulers is TBD, and will likely not make it to the first Preview.</p>\n</blockquote>\n<p>So</p>\n<ol>\n<li><p>The assumption that a virtual thread only releases the carrier thread when it is about to be blocked, only applies to the current preview. Preemptive switching between virtual threads is allowed and even planned for the future.</p>\n</li>\n<li><p>Even if we assume that a virtual thread can only release the carrier thread when performing blocking operations, we can’t predict when a blocking operation may occur.</p>\n<ul>\n<li><p>One example of operations outside our control, is <em>class loading</em>. Loading class data is a blocking operation and class loading is implemented lazily for common JVMs. It’s even possible that a method that has been invoked multiple times suddenly executes an uncommon path that uses a class that has not been used before.</p>\n</li>\n<li><p>Another example is <em>resource loading</em>. Even an example as simple as your <code>DateFormat</code> already involves resources organized in an unspecified way, time zone data or localized month and weekday names, for example.</p>\n</li>\n</ul>\n</li>\n</ol>\n<p>So, there’s no way of having a safely working carrier-local cache and your assumption that using thread locals (or alike) for caching is dead, is indeed right. You may use an object pool instead, but since this implies some sort of synchronization, you might as well consider just using a single <code>DateFormat</code>¹ and synchronize on it. This would implement your initial idea of not releasing the carrier thread during the use of the object.</p>\n<p>Of course, in this specific example, the better option is to use a <code>DateTimeFormatter</code> from the <code>java.time</code> API which is thread safe and hence, allows a single instance to be shared by all threads.</p>\n<p>¹ or one of multiple, selected in a way that does not involve synchronization</p>\n"}],"owner":{"account_id":1322512,"reputation":18457,"user_id":1268003,"accept_rate":82,"display_name":"Martin Andersson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1609,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":75767787,"answer_count":2,"score":12,"last_activity_date":1679057882,"creation_date":1673178976,"question_id":75047540,"body_markdown":"[JEP-425: Virtual Threads][1] states that a new virtual thread &quot;should be created for every application task&quot; and makes twice a reference to the possibility of having &quot;millions&quot; of virtual threads running in the JVM.\r\n\r\nThe same JEP implies that each virtual thread will have access to its own thread-local value:\r\n\r\n&gt; Virtual threads support thread-local variables [...] just like platform threads, so they can run existing code that uses thread locals.\r\n\r\nThread locals are many times used for the purpose of caching an object that is not thread-safe and expensive to create. The JEP warns:\r\n\r\n&gt; However, because virtual threads can be very numerous, use thread locals after careful consideration.\r\n\r\nNumerous indeed! Especially given how virtual threads are not pooled (or at least [shouldn&#39;t be][2]). As representative of a short-lived task, using thread locals in a virtual thread for the purpose of caching an expensive object seems to be borderline void of meaning. Unless! We can from a virtual thread create and access thread locals bound to its carrier thread &#129300;\r\n\r\nFor clarification, I would like to go from something like this (which would have been perfectly acceptable when using only native threads capped to the size of a pool, but this is clearly no longer a very effective caching mechanism when running millions of virtual threads continuously re-created:\r\n\r\n    static final ThreadLocal&lt;DateFormat&gt; CACHED = ThreadLocal.withInitial(DateFormat::getInstance);\r\n\r\nTo this (alas this class is not part of the public API):\r\n\r\n    static final ThreadLocal&lt;DateFormat&gt; CACHED = new jdk.internal.misc.CarrierThreadLocal();\r\n    // CACHED.set(...)\r\n\r\nBefore we even get there. One must ask, is this a safe practice?\r\n\r\nWell, as far as I have understood virtual threads correctly, they are merely logical stages executed on a platform thread (aka. the &quot;carrier thread&quot;) with the ability to unmount instead of being blocked waiting. So I am assuming - please correct me if I am wrong - that 1) the virtual thread will never be interleaved by another virtual thread on the same carrier thread or rescheduled on another carrier thread _unless the code would have blocked otherwise_ and therefore, if 2) the operation we invoke on the cached object never blocks, then the task/virtual thread will simply run from start to finish on the same carrier and so yes, it would be safe to cache the object on a platform thread-local.\r\n\r\nWith the risk of answering my own question, JEP-425 indicates this is not possible:\r\n\r\n&gt; Thread-local variables of the carrier are unavailable to the virtual thread, and vice-versa.\r\n\r\nI could not find a public API to get the carrier thread or allocate thread locals explicitly on a platform thread [from a virtual thread], but that&#39;s not to say my humble research is definitive. Maybe there is a way?\r\n\r\nThen I read [JEP-429: Scoped Values][3] which at first glance seems to be a stab by the Java Gods to get rid of the `ThreadLocal` altogether, or at least provide an alternative for virtual threads. In fact, the JEP uses verbiage such as &quot;migration to scoped values&quot; and says they are &quot;preferred to thread-local variables, especially when using large numbers of virtual threads&quot;. \r\n\r\nFor all the use cases discussed in the JEP, I can only agree. But towards the bottom of this document, we also find this:\r\n\r\n&gt; There are a few scenarios that favor thread-local variables. An example is caching objects that are expensive to create and use, such as instances of java.text.DateFormat. Notoriously, a DateFormat object is mutable, so it cannot be shared between threads without synchronization. Giving each thread its own DateFormat object, via a thread-local variable that persists for the lifetime of the thread, is often a practical approach.\r\n\r\nIn light of what was discussed earlier, using a thread-local may be &quot;practical&quot; but not very ideal. In fact, JEP-429 itself actually started off with a very telling remark: &quot;if each of a million virtual threads has mutable thread-local variables, the memory footprint may be significant&quot;.\r\n\r\nTo summarize:\r\n\r\nHave you found a way to allocate thread locals on a carrier thread from the virtual thread?\r\n\r\nIf not, is it safe to say that for applications using virtual threads, the practice of caching objects in a thread-local is dead and one will have to implement/use a different approach such as a concurrent cache/map/pool/whatever?\r\n\r\n[1]: https://openjdk.org/jeps/425\r\n[2]: https://openjdk.org/jeps/425#Do-not-pool-virtual-threads\r\n[3]: https://openjdk.org/jeps/429","title":"Is it possible to create a ThreadLocal for the carrier thread of a Java virtual thread?","body":"<p><a href=\"https://openjdk.org/jeps/425\" rel=\"noreferrer\">JEP-425: Virtual Threads</a> states that a new virtual thread &quot;should be created for every application task&quot; and makes twice a reference to the possibility of having &quot;millions&quot; of virtual threads running in the JVM.</p>\n<p>The same JEP implies that each virtual thread will have access to its own thread-local value:</p>\n<blockquote>\n<p>Virtual threads support thread-local variables [...] just like platform threads, so they can run existing code that uses thread locals.</p>\n</blockquote>\n<p>Thread locals are many times used for the purpose of caching an object that is not thread-safe and expensive to create. The JEP warns:</p>\n<blockquote>\n<p>However, because virtual threads can be very numerous, use thread locals after careful consideration.</p>\n</blockquote>\n<p>Numerous indeed! Especially given how virtual threads are not pooled (or at least <a href=\"https://openjdk.org/jeps/425#Do-not-pool-virtual-threads\" rel=\"noreferrer\">shouldn't be</a>). As representative of a short-lived task, using thread locals in a virtual thread for the purpose of caching an expensive object seems to be borderline void of meaning. Unless! We can from a virtual thread create and access thread locals bound to its carrier thread 🤔</p>\n<p>For clarification, I would like to go from something like this (which would have been perfectly acceptable when using only native threads capped to the size of a pool, but this is clearly no longer a very effective caching mechanism when running millions of virtual threads continuously re-created:</p>\n<pre><code>static final ThreadLocal&lt;DateFormat&gt; CACHED = ThreadLocal.withInitial(DateFormat::getInstance);\n</code></pre>\n<p>To this (alas this class is not part of the public API):</p>\n<pre><code>static final ThreadLocal&lt;DateFormat&gt; CACHED = new jdk.internal.misc.CarrierThreadLocal();\n// CACHED.set(...)\n</code></pre>\n<p>Before we even get there. One must ask, is this a safe practice?</p>\n<p>Well, as far as I have understood virtual threads correctly, they are merely logical stages executed on a platform thread (aka. the &quot;carrier thread&quot;) with the ability to unmount instead of being blocked waiting. So I am assuming - please correct me if I am wrong - that 1) the virtual thread will never be interleaved by another virtual thread on the same carrier thread or rescheduled on another carrier thread <em>unless the code would have blocked otherwise</em> and therefore, if 2) the operation we invoke on the cached object never blocks, then the task/virtual thread will simply run from start to finish on the same carrier and so yes, it would be safe to cache the object on a platform thread-local.</p>\n<p>With the risk of answering my own question, JEP-425 indicates this is not possible:</p>\n<blockquote>\n<p>Thread-local variables of the carrier are unavailable to the virtual thread, and vice-versa.</p>\n</blockquote>\n<p>I could not find a public API to get the carrier thread or allocate thread locals explicitly on a platform thread [from a virtual thread], but that's not to say my humble research is definitive. Maybe there is a way?</p>\n<p>Then I read <a href=\"https://openjdk.org/jeps/429\" rel=\"noreferrer\">JEP-429: Scoped Values</a> which at first glance seems to be a stab by the Java Gods to get rid of the <code>ThreadLocal</code> altogether, or at least provide an alternative for virtual threads. In fact, the JEP uses verbiage such as &quot;migration to scoped values&quot; and says they are &quot;preferred to thread-local variables, especially when using large numbers of virtual threads&quot;.</p>\n<p>For all the use cases discussed in the JEP, I can only agree. But towards the bottom of this document, we also find this:</p>\n<blockquote>\n<p>There are a few scenarios that favor thread-local variables. An example is caching objects that are expensive to create and use, such as instances of java.text.DateFormat. Notoriously, a DateFormat object is mutable, so it cannot be shared between threads without synchronization. Giving each thread its own DateFormat object, via a thread-local variable that persists for the lifetime of the thread, is often a practical approach.</p>\n</blockquote>\n<p>In light of what was discussed earlier, using a thread-local may be &quot;practical&quot; but not very ideal. In fact, JEP-429 itself actually started off with a very telling remark: &quot;if each of a million virtual threads has mutable thread-local variables, the memory footprint may be significant&quot;.</p>\n<p>To summarize:</p>\n<p>Have you found a way to allocate thread locals on a carrier thread from the virtual thread?</p>\n<p>If not, is it safe to say that for applications using virtual threads, the practice of caching objects in a thread-local is dead and one will have to implement/use a different approach such as a concurrent cache/map/pool/whatever?</p>\n"},{"tags":["java","cxf"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":1,"creation_date":1679060604,"post_id":75767858,"comment_id":133657866,"body_markdown":"Since CXF 4.0.0 they have changed based library and java `Jakarta EE 9.1 support and JDK-11 baseline`. [Release Note](https://cxf.apache.org/cxf-400-release-notes.html) and [Migration Guide](https://cxf.apache.org/docs/40-migration-guide.html). Check your command has `jakarta.xml.ws-api-3.0.1.jar` on classpath? Its missing in classpath.","body":"Since CXF 4.0.0 they have changed based library and java <code>Jakarta EE 9.1 support and JDK-11 baseline</code>. <a href=\"https://cxf.apache.org/cxf-400-release-notes.html\" rel=\"nofollow noreferrer\">Release Note</a> and <a href=\"https://cxf.apache.org/docs/40-migration-guide.html\" rel=\"nofollow noreferrer\">Migration Guide</a>. Check your command has <code>jakarta.xml.ws-api-3.0.1.jar</code> on classpath? Its missing in classpath."}],"owner":{"account_id":2860791,"reputation":1601,"user_id":2456113,"accept_rate":96,"display_name":"kulatamicuda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679057803,"creation_date":1679057803,"question_id":75767858,"body_markdown":"When I am running CXF 4.0 on Java 17 Amazon corretto:\r\n\r\n&gt; wsdlvalidator my.wsdl\r\n\r\nThe following error appears:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:\r\n&gt; jakarta/xml/ws/WebServiceContext\r\n&gt;         at org.apache.cxf.jaxws.context.WebServiceContextResourceResolver.resolve(WebServiceContextResourceResolver.java:59)\r\n&gt;         at org.apache.cxf.resource.DefaultResourceManager.findResource(DefaultResourceManager.java:118)\r\n&gt;         at org.apache.cxf.resource.DefaultResourceManager.resolveResource(DefaultResourceManager.java:62)\r\n&gt;         at org.apache.cxf.common.injection.ResourceInjector.resolveResource(ResourceInjector.java:436)\r\n&gt;         at org.apache.cxf.common.injection.ResourceInjector.visitMethod(ResourceInjector.java:230)\r\n&gt;         at org.apache.cxf.common.annotation.AnnotationProcessor.processMethods(AnnotationProcessor.java:89)\r\n&gt;         at org.apache.cxf.common.annotation.AnnotationProcessor.accept(AnnotationProcessor.java:72)\r\n&gt;         at org.apache.cxf.common.injection.ResourceInjector.inject(ResourceInjector.java:121)\r\n&gt;         at org.apache.cxf.common.injection.ResourceInjector.inject(ResourceInjector.java:115)\r\n&gt;         at org.apache.cxf.bus.extension.ExtensionManagerImpl.loadAndRegister(ExtensionManagerImpl.java:227)\r\n&gt;         at org.apache.cxf.bus.extension.ExtensionManagerImpl.getBeanOfType(ExtensionManagerImpl.java:305)\r\n&gt;         at org.apache.cxf.bus.extension.ExtensionManagerBus.getExtension(ExtensionManagerBus.java:181)\r\n&gt;         at org.apache.cxf.tools.validator.internal.WSDL11Validator.isValid(WSDL11Validator.java:114)\r\n&gt;         at org.apache.cxf.tools.validator.WSDLValidator.execute(WSDLValidator.java:75)\r\n&gt;         at org.apache.cxf.tools.common.toolspec.ToolRunner.runTool(ToolRunner.java:105)\r\n&gt;         at org.apache.cxf.tools.common.toolspec.ToolRunner.runTool(ToolRunner.java:58)\r\n&gt;         at org.apache.cxf.tools.common.toolspec.ToolRunner.runTool(ToolRunner.java:40)\r\n&gt;         at org.apache.cxf.tools.validator.WSDLValidator.main(WSDLValidator.java:104)\r\n&gt; Caused by: java.lang.ClassNotFoundException:\r\n&gt; jakarta.xml.ws.WebServiceContext\r\n&gt;         at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n&gt;         at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n&gt;         at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n&gt;         ... 18 more\r\n\r\nWhat is wrong? The previous version 3.5.5 works well.","title":"Apache wsdlvalidator 4.0.0 returns error when running on Java 17","body":"<p>When I am running CXF 4.0 on Java 17 Amazon corretto:</p>\n<blockquote>\n<p>wsdlvalidator my.wsdl</p>\n</blockquote>\n<p>The following error appears:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:\njakarta/xml/ws/WebServiceContext\nat org.apache.cxf.jaxws.context.WebServiceContextResourceResolver.resolve(WebServiceContextResourceResolver.java:59)\nat org.apache.cxf.resource.DefaultResourceManager.findResource(DefaultResourceManager.java:118)\nat org.apache.cxf.resource.DefaultResourceManager.resolveResource(DefaultResourceManager.java:62)\nat org.apache.cxf.common.injection.ResourceInjector.resolveResource(ResourceInjector.java:436)\nat org.apache.cxf.common.injection.ResourceInjector.visitMethod(ResourceInjector.java:230)\nat org.apache.cxf.common.annotation.AnnotationProcessor.processMethods(AnnotationProcessor.java:89)\nat org.apache.cxf.common.annotation.AnnotationProcessor.accept(AnnotationProcessor.java:72)\nat org.apache.cxf.common.injection.ResourceInjector.inject(ResourceInjector.java:121)\nat org.apache.cxf.common.injection.ResourceInjector.inject(ResourceInjector.java:115)\nat org.apache.cxf.bus.extension.ExtensionManagerImpl.loadAndRegister(ExtensionManagerImpl.java:227)\nat org.apache.cxf.bus.extension.ExtensionManagerImpl.getBeanOfType(ExtensionManagerImpl.java:305)\nat org.apache.cxf.bus.extension.ExtensionManagerBus.getExtension(ExtensionManagerBus.java:181)\nat org.apache.cxf.tools.validator.internal.WSDL11Validator.isValid(WSDL11Validator.java:114)\nat org.apache.cxf.tools.validator.WSDLValidator.execute(WSDLValidator.java:75)\nat org.apache.cxf.tools.common.toolspec.ToolRunner.runTool(ToolRunner.java:105)\nat org.apache.cxf.tools.common.toolspec.ToolRunner.runTool(ToolRunner.java:58)\nat org.apache.cxf.tools.common.toolspec.ToolRunner.runTool(ToolRunner.java:40)\nat org.apache.cxf.tools.validator.WSDLValidator.main(WSDLValidator.java:104)\nCaused by: java.lang.ClassNotFoundException:\njakarta.xml.ws.WebServiceContext\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n... 18 more</p>\n</blockquote>\n<p>What is wrong? The previous version 3.5.5 works well.</p>\n"},{"tags":["java","spring-boot","jira-rest-api"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679057596,"creation_date":1679057596,"answer_id":75767828,"question_id":75726362,"body_markdown":"Having both `jakarta` and `javax` in the classpath will not cause any material issues, besides the IDE prompting both imports when a &#39;duplicated&#39; class name is used.\r\n\r\nThe decision on whether to migrate to Spring Boot 3.0.x now or later (and use dependencies with pre jdk17 package naming) depends on what is driving this, eg spring-boot dependency vulnerabilities, functionality, etc. It may be unavoidable.\r\n\r\nMy preference is to wait for 3.1.x so that issues caused by the jump to jdk17 are bedded down and SO has more questions and useful answers.","title":"How to migrate to Spring boot 3 when relying on a third-party library that still uses javax instead of jakarta api?","body":"<p>Having both <code>jakarta</code> and <code>javax</code> in the classpath will not cause any material issues, besides the IDE prompting both imports when a 'duplicated' class name is used.</p>\n<p>The decision on whether to migrate to Spring Boot 3.0.x now or later (and use dependencies with pre jdk17 package naming) depends on what is driving this, eg spring-boot dependency vulnerabilities, functionality, etc. It may be unavoidable.</p>\n<p>My preference is to wait for 3.1.x so that issues caused by the jump to jdk17 are bedded down and SO has more questions and useful answers.</p>\n"}],"owner":{"account_id":135718,"reputation":935,"user_id":338780,"accept_rate":67,"display_name":"theo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1419,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679057596,"creation_date":1678737325,"question_id":75726362,"body_markdown":"We are in the process of migrating our project to Spring Boot 3 and while we refactored our code to use the new `jakarta` api (instead of `javax`) there is one third-party library that still uses `javax` and unfortunately there is no available `jakarta` version published yet.\r\n\r\nThe dependency is `jira-rest-java-client-core` and can be found [here][1]. They seem to be using `javax.ws.rs.core.UriBuilder`.\r\n\r\nWhat happens in such cases? \r\n\r\nDelay the migration until there is a new Spring Boot 3-compatible version of the library or include the `javax` api via some other legacy dependency e.g. [jersey-client][2] ?  Will it cause any issues down the line having both `jakarta` and `javax` in the classpath ?\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.atlassian.jira/jira-rest-java-client-core/5.2.4\r\n  [2]: https://mvnrepository.com/artifact/com.sun.jersey/jersey-client","title":"How to migrate to Spring boot 3 when relying on a third-party library that still uses javax instead of jakarta api?","body":"<p>We are in the process of migrating our project to Spring Boot 3 and while we refactored our code to use the new <code>jakarta</code> api (instead of <code>javax</code>) there is one third-party library that still uses <code>javax</code> and unfortunately there is no available <code>jakarta</code> version published yet.</p>\n<p>The dependency is <code>jira-rest-java-client-core</code> and can be found <a href=\"https://mvnrepository.com/artifact/com.atlassian.jira/jira-rest-java-client-core/5.2.4\" rel=\"nofollow noreferrer\">here</a>. They seem to be using <code>javax.ws.rs.core.UriBuilder</code>.</p>\n<p>What happens in such cases?</p>\n<p>Delay the migration until there is a new Spring Boot 3-compatible version of the library or include the <code>javax</code> api via some other legacy dependency e.g. <a href=\"https://mvnrepository.com/artifact/com.sun.jersey/jersey-client\" rel=\"nofollow noreferrer\">jersey-client</a> ?  Will it cause any issues down the line having both <code>jakarta</code> and <code>javax</code> in the classpath ?</p>\n"},{"tags":["java","automation","rest-assured","rest-assured-jsonpath"],"comments":[{"owner":{"account_id":8581825,"reputation":106,"user_id":6429189,"display_name":"jay"},"score":0,"creation_date":1679056904,"post_id":75767658,"comment_id":133656850,"body_markdown":"I might be missing the point, why don&#39;t you get userId from one of the above mentioned JSONObjects? Why do you have to get it from qciResponse, which currently is a String?","body":"I might be missing the point, why don&#39;t you get userId from one of the above mentioned JSONObjects? Why do you have to get it from qciResponse, which currently is a String?"},{"owner":{"account_id":27808710,"reputation":21,"user_id":21231501,"display_name":"Deepali Sinha"},"score":0,"creation_date":1679057411,"post_id":75767658,"comment_id":133656953,"body_markdown":"qciResponse stores the response of queryCombinedInfo method \nand i want userId which coming in response of queryCombinedInfo method","body":"qciResponse stores the response of queryCombinedInfo method  and i want userId which coming in response of queryCombinedInfo method"},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1679107605,"post_id":75767658,"comment_id":133666882,"body_markdown":"@DeepaliSinha there is nothing called `JSONString` in rest-assured. It&#39;s just String. Instead of converting from `Response` to `String` then get value, you can get value directly from `Response`.","body":"@DeepaliSinha there is nothing called <code>JSONString</code> in rest-assured. It&#39;s just String. Instead of converting from <code>Response</code> to <code>String</code> then get value, you can get value directly from <code>Response</code>."}],"owner":{"account_id":27808710,"reputation":21,"user_id":21231501,"display_name":"Deepali Sinha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679057589,"creation_date":1679056542,"question_id":75767658,"body_markdown":"question-&gt;\r\nhere I want to convert the qciResponse variable into Json and fetch userId from qciResponse, how can we do that..?\r\n\r\n    public String setRemoveLoginIdRequestBody (String awsEndPoint, String loginId) throws Exception {\r\n        JSONObject joi = new JSONObject();\r\n        JSONObject requestbody = new JSONObject();\r\n        String qciResponse;\r\n        if(loginId.contains(&quot;@&quot;)) {\r\n            qciResponse = queryCombinedInfo(awsEndPoint,loginId,&quot;email&quot;);\r\n        } else {\r\n           qciResponse = queryCombinedInfo(awsEndPoint,loginId,&quot;mobile&quot;);\r\n        }\r\n        if (qciResponse==null || qciResponse.isEmpty()){\r\n            throw new Exception();\r\n        }\r\n\r\nthis is my code i want to convert qciResponse into json \r\nhere, qciResponse stores the response of queryCombinedInfo method\r\ni am writing code like this but this is giving error\r\n\r\n    String h = qciResponse.toJSONString; \r\n\r\n","title":"How can we convert a String variable into JsonString in restAssured","body":"<p>question-&gt;\nhere I want to convert the qciResponse variable into Json and fetch userId from qciResponse, how can we do that..?</p>\n<pre><code>public String setRemoveLoginIdRequestBody (String awsEndPoint, String loginId) throws Exception {\n    JSONObject joi = new JSONObject();\n    JSONObject requestbody = new JSONObject();\n    String qciResponse;\n    if(loginId.contains(&quot;@&quot;)) {\n        qciResponse = queryCombinedInfo(awsEndPoint,loginId,&quot;email&quot;);\n    } else {\n       qciResponse = queryCombinedInfo(awsEndPoint,loginId,&quot;mobile&quot;);\n    }\n    if (qciResponse==null || qciResponse.isEmpty()){\n        throw new Exception();\n    }\n</code></pre>\n<p>this is my code i want to convert qciResponse into json\nhere, qciResponse stores the response of queryCombinedInfo method\ni am writing code like this but this is giving error</p>\n<pre><code>String h = qciResponse.toJSONString; \n</code></pre>\n"},{"tags":["java","flutter","gradle"],"comments":[{"owner":{"account_id":22101947,"reputation":397,"user_id":16358266,"display_name":"user16358266"},"score":0,"creation_date":1679063595,"post_id":75767808,"comment_id":133658754,"body_markdown":"Have you tried running the build itself with Java 17?","body":"Have you tried running the build itself with Java 17?"},{"owner":{"account_id":22770415,"reputation":524,"user_id":16927940,"display_name":"GentleAutumnRain"},"score":0,"creation_date":1679067473,"post_id":75767808,"comment_id":133659972,"body_markdown":"Does this answer your question? [Could not open settings generic class cache for settings file &#39;](https://stackoverflow.com/questions/67240279/could-not-open-settings-generic-class-cache-for-settings-file)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/67240279/could-not-open-settings-generic-class-cache-for-settings-file\">Could not open settings generic class cache for settings file &#39;</a>"}],"owner":{"account_id":22948264,"reputation":11,"user_id":17079941,"display_name":"Mahmoud N. Al-Shhyby"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679057467,"creation_date":1679057467,"question_id":75767808,"body_markdown":"I had finished dart course and starting a Flutter course i downlouded android studio and the flutter app worked very will on chrom , but when i run it on the virtual device of th emulator it does not work , I have done almost evry sloution(about Java &amp;&amp; Gradle) but nothing worke and this is the error :\r\n FAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not open settings generic class cache for settings file &#39;C:\\Users\\hp\\StudioProjects\\flutter_1\\android\\settings.gradle&#39; (C:\\Users\\hp\\.gradle\\caches\\7.4\\scripts\\ea4ydi90mwjg9g63m7r6nimmx).\r\n&gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63\r\n\r\n\r\n\r\n\r\ngradle version : Gradle 8.0.2\r\njava version &quot;19.0.2&quot; 2023-01-17\r\n\r\nI think the error because java &amp;&amp; gradle version ","title":"exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63","body":"<p>I had finished dart course and starting a Flutter course i downlouded android studio and the flutter app worked very will on chrom , but when i run it on the virtual device of th emulator it does not work , I have done almost evry sloution(about Java &amp;&amp; Gradle) but nothing worke and this is the error :\nFAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nCould not open settings generic class cache for settings file 'C:\\Users\\hp\\StudioProjects\\flutter_1\\android\\settings.gradle' (C:\\Users\\hp.gradle\\caches\\7.4\\scripts\\ea4ydi90mwjg9g63m7r6nimmx).</li>\n</ul>\n<blockquote>\n<p>BUG! exception in phase 'semantic analysis' in source unit '<em>BuildScript</em>' Unsupported class file major version 63</p>\n</blockquote>\n<p>gradle version : Gradle 8.0.2\njava version &quot;19.0.2&quot; 2023-01-17</p>\n<p>I think the error because java &amp;&amp; gradle version</p>\n"},{"tags":["java","quartz-scheduler"],"answers":[{"tags":[],"owner":{"account_id":243539,"reputation":739,"user_id":515797,"display_name":"mmounirou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313148904,"creation_date":1313148904,"answer_id":7039502,"question_id":7039303,"body_markdown":"You can try to add a trigger filter in your scheduler \r\n\r\n    this.scheduler.addGlobalTriggerListener(new DebugExecutionFilter());\r\n\r\nThe debug execution filter will add a veto when the execution is not volatile (not scheduled to run  immediately) and you are in debug mode .\r\n\r\nHere is an implementation example : \r\n\r\n\tprivate static class DebugExecutionFilter implements TriggerListener\r\n\t{\r\n\r\n\t\tpublic DebugExecutionFilter()\r\n\t\t{\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String getName()\r\n\t\t{\r\n\t\t\treturn &quot;Task execution filter&quot;;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void triggerFired(Trigger trigger, JobExecutionContext context)\r\n\t\t{\r\n\t\t\t// Do nothing\r\n\t\t}\r\n\r\n\t\t/* (non-Javadoc)\r\n\t\t * \r\n\t\t * @see org.quartz.TriggerListener#vetoJobExecution(org.quartz.Trigger, org.quartz.JobExecutionContext) */\r\n\t\t@Override\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\t/**\r\n\t\t * A veto is added if :\r\n\t\t *\t- For non volatile trigger if we are in debug mode\r\n\t\t */\r\n\t\tpublic boolean vetoJobExecution(Trigger trigger, JobExecutionContext context)\r\n\t\t{\r\n\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\t// \r\n\t\t\t\tif ( !trigger.isVolatile() &amp;&amp; isDebugMode() )\r\n\t\t\t\t{\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t//task is run by scheduler.triggerJobWithVolatileTrigger() for immediate schedule\r\n\t\t\t\t//or task is schedule and we are not in debugMode\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic void triggerMisfired(Trigger trigger)\r\n\t\t{\r\n\t\t\t// do nothing\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void triggerComplete(Trigger trigger, JobExecutionContext context, int triggerInstructionCode)\r\n\t\t{\r\n\t\t\t// do nothing\r\n\t\t}\r\n\r\n\t}","title":"Firing Quartz jobs manually","body":"<p>You can try to add a trigger filter in your scheduler </p>\n\n<pre><code>this.scheduler.addGlobalTriggerListener(new DebugExecutionFilter());\n</code></pre>\n\n<p>The debug execution filter will add a veto when the execution is not volatile (not scheduled to run  immediately) and you are in debug mode .</p>\n\n<p>Here is an implementation example : </p>\n\n<pre><code>private static class DebugExecutionFilter implements TriggerListener\n{\n\n    public DebugExecutionFilter()\n    {\n    }\n\n    @Override\n    public String getName()\n    {\n        return \"Task execution filter\";\n    }\n\n    @Override\n    public void triggerFired(Trigger trigger, JobExecutionContext context)\n    {\n        // Do nothing\n    }\n\n    /* (non-Javadoc)\n     * \n     * @see org.quartz.TriggerListener#vetoJobExecution(org.quartz.Trigger, org.quartz.JobExecutionContext) */\n    @Override\n    @SuppressWarnings(\"unchecked\")\n    /**\n     * A veto is added if :\n     *  - For non volatile trigger if we are in debug mode\n     */\n    public boolean vetoJobExecution(Trigger trigger, JobExecutionContext context)\n    {\n\n        try\n        {\n            // \n            if ( !trigger.isVolatile() &amp;&amp; isDebugMode() )\n            {\n                return true;\n            }\n\n            //task is run by scheduler.triggerJobWithVolatileTrigger() for immediate schedule\n            //or task is schedule and we are not in debugMode\n            return false;\n    }\n\n\n    @Override\n    public void triggerMisfired(Trigger trigger)\n    {\n        // do nothing\n    }\n\n    @Override\n    public void triggerComplete(Trigger trigger, JobExecutionContext context, int triggerInstructionCode)\n    {\n        // do nothing\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1505911,"reputation":406,"user_id":1409274,"display_name":"Gaurav Tailor"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1619783934,"creation_date":1346764940,"answer_id":12264408,"question_id":7039303,"body_markdown":"this is the loop you will require to fire the job manually:\r\n \r\n\r\n    SchedulerFactory stdSchedulerFactory = new StdSchedulerFactory();\r\n    Scheduler scheduler = stdSchedulerFactory.getScheduler();\r\n\r\n    // loop jobs by group\r\n    for (String groupName : scheduler.getJobGroupNames()) {\r\n        // get jobkey\r\n        for (JobKey jobKey : scheduler.getJobKeys(GroupMatcher.jobGroupEquals(groupName))) {\r\n            String jobName = jobKey.getName();\r\n            String jobGroup = jobKey.getGroup();\r\n            scheduler.triggerJob(jobName, jobGroup);\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Firing Quartz jobs manually","body":"<p>this is the loop you will require to fire the job manually:</p>\n<pre><code>SchedulerFactory stdSchedulerFactory = new StdSchedulerFactory();\nScheduler scheduler = stdSchedulerFactory.getScheduler();\n\n// loop jobs by group\nfor (String groupName : scheduler.getJobGroupNames()) {\n    // get jobkey\n    for (JobKey jobKey : scheduler.getJobKeys(GroupMatcher.jobGroupEquals(groupName))) {\n        String jobName = jobKey.getName();\n        String jobGroup = jobKey.getGroup();\n        scheduler.triggerJob(jobName, jobGroup);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5990533,"reputation":11,"user_id":4706742,"display_name":"user4706742"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679056850,"creation_date":1427189631,"answer_id":29229102,"question_id":7039303,"body_markdown":"No need for `start-time` and `end-time`.\r\n```xml\r\n&lt;trigger&gt;\r\n    &lt;cron&gt;\r\n        &lt;name&gt;TestTrigger&lt;/name&gt;\r\n        &lt;group&gt;CronSampleTrigger&lt;/group&gt;\r\n        &lt;description&gt;CronSampleTrigger&lt;/description&gt;\r\n        &lt;job-name&gt;TestJob&lt;/job-name&gt;\r\n        &lt;job-group&gt;jobGroup1&lt;/job-group&gt;\r\n\r\n        &lt;!--&lt;start-time&gt;1982-06-28T18:15:00.0Z&lt;/start-time&gt;\r\n        &lt;end-time&gt;2020-05-04T18:13:51.0Z&lt;/end-time&gt;--&gt;\r\n\r\n        &lt;cron-expression&gt;0 0/1 * * * ?&lt;/cron-expression&gt;\r\n    &lt;/cron&gt;\r\n&lt;/trigger&gt;\r\n```","title":"Firing Quartz jobs manually","body":"<p>No need for <code>start-time</code> and <code>end-time</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;trigger&gt;\n    &lt;cron&gt;\n        &lt;name&gt;TestTrigger&lt;/name&gt;\n        &lt;group&gt;CronSampleTrigger&lt;/group&gt;\n        &lt;description&gt;CronSampleTrigger&lt;/description&gt;\n        &lt;job-name&gt;TestJob&lt;/job-name&gt;\n        &lt;job-group&gt;jobGroup1&lt;/job-group&gt;\n\n        &lt;!--&lt;start-time&gt;1982-06-28T18:15:00.0Z&lt;/start-time&gt;\n        &lt;end-time&gt;2020-05-04T18:13:51.0Z&lt;/end-time&gt;--&gt;\n\n        &lt;cron-expression&gt;0 0/1 * * * ?&lt;/cron-expression&gt;\n    &lt;/cron&gt;\n&lt;/trigger&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2184036,"reputation":81,"user_id":1932873,"display_name":"Minarul Haque"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1619783997,"creation_date":1512564073,"answer_id":47674546,"question_id":7039303,"body_markdown":"All the Jobs registered in the Quartz Scheduler are uniquely identified by the JobKey which is composed of a name and group . You can fire the job which has a given JobKey immediately by calling `triggerJob(JobKey jobKey)` of your Scheduler instance.\r\n\r\n    // Create a new Job \r\n    JobKey jobKey = JobKey.jobKey(&quot;myNewJob&quot;, &quot;myJobGroup&quot;);\r\n    JobDetail job = JobBuilder.newJob(MyJob.class).withIdentity(jobKey).storeDurably().build();\r\n\r\n    // Register this job to the scheduler\r\n    scheduler.addJob(job, true);\r\n\r\n    // Immediately fire the Job MyJob.class\r\n    scheduler.triggerJob(jobKey);\r\n\r\n**Note:**\r\n\r\n&lt;ui&gt;&lt;li&gt;scheduler is the Scheduler instance used throughout your application . Its start() method should be already called after it is created.&lt;/li&gt;\r\n&lt;li&gt;The job is the durable job which cannot attach any triggers or cron to it .It can only be fired programmatically by calling `triggerJob(JobKey jobKey)`.&lt;/li&gt;&lt;ui&gt;","title":"Firing Quartz jobs manually","body":"<p>All the Jobs registered in the Quartz Scheduler are uniquely identified by the JobKey which is composed of a name and group . You can fire the job which has a given JobKey immediately by calling <code>triggerJob(JobKey jobKey)</code> of your Scheduler instance.</p>\n<pre><code>// Create a new Job \nJobKey jobKey = JobKey.jobKey(&quot;myNewJob&quot;, &quot;myJobGroup&quot;);\nJobDetail job = JobBuilder.newJob(MyJob.class).withIdentity(jobKey).storeDurably().build();\n\n// Register this job to the scheduler\nscheduler.addJob(job, true);\n\n// Immediately fire the Job MyJob.class\nscheduler.triggerJob(jobKey);\n</code></pre>\n<p><strong>Note:</strong></p>\n<p><li>scheduler is the Scheduler instance used throughout your application . Its start() method should be already called after it is created.</li></p>\n<li>The job is the durable job which cannot attach any triggers or cron to it .It can only be fired programmatically by calling `triggerJob(JobKey jobKey)`.</li>\n"}],"owner":{"account_id":178543,"reputation":253,"user_id":410583,"display_name":"roger armstrong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47691,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":4,"score":19,"last_activity_date":1679056850,"creation_date":1313147792,"question_id":7039303,"body_markdown":"We have several Quartz jobs configured in our application. During development, we leave the quartz scheduler in standby - however, we sometimes want to start a job manually (for development purposes). If I call fireTrigger, it tells me I need to start the scheduler. However, if I start the scheduler, it will also immediately schedule all the other jobs, which is not what I want (since they may trigger while I&#39;m debugging the manually fired job).\r\n\r\nI could pause all triggers when I start the scheduler, but then I have to deal with misfire instructions etc.\r\n\r\nIs there a simple way to fire off a job manually without having to deal with pausing and misfires (i.e. a fireTrigger which works even if the scheduler is in standby)?","title":"Firing Quartz jobs manually","body":"<p>We have several Quartz jobs configured in our application. During development, we leave the quartz scheduler in standby - however, we sometimes want to start a job manually (for development purposes). If I call fireTrigger, it tells me I need to start the scheduler. However, if I start the scheduler, it will also immediately schedule all the other jobs, which is not what I want (since they may trigger while I'm debugging the manually fired job).</p>\n\n<p>I could pause all triggers when I start the scheduler, but then I have to deal with misfire instructions etc.</p>\n\n<p>Is there a simple way to fire off a job manually without having to deal with pausing and misfires (i.e. a fireTrigger which works even if the scheduler is in standby)?</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1676211877,"post_id":75427444,"comment_id":133087834,"body_markdown":"what I see is &quot;null&quot; is mapped to 0 by default, or you need value other than 0?","body":"what I see is &quot;null&quot; is mapped to 0 by default, or you need value other than 0?"},{"owner":{"account_id":25190184,"reputation":163,"user_id":19030462,"display_name":"Sebastian"},"score":0,"creation_date":1676211952,"post_id":75427444,"comment_id":133087846,"body_markdown":"I&#39;m not a 100% sure, as I only used basic Jackson until now, but i guess adding an extra deserializer for Integer.class could work?","body":"I&#39;m not a 100% sure, as I only used basic Jackson until now, but i guess adding an extra deserializer for Integer.class could work?"},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1676214208,"post_id":75427444,"comment_id":133088237,"body_markdown":"@samabcde, from experience, string &quot;null&quot; is not mapped to 0. value causes exception","body":"@samabcde, from experience, string &quot;null&quot; is not mapped to 0. value causes exception"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1676216392,"post_id":75427444,"comment_id":133088597,"body_markdown":"I tried this in springboot application and it prints `null 0`. `Person p = objectMapper.readValue(new StringReader(&quot;&quot;&quot;\n                {\n                  &quot;name&quot;: &quot;null&quot;,\n                  &quot;age&quot;: &quot;null&quot;\n                }\n                &quot;&quot;&quot;), Person.class);\n        System.out.println(p.name + &quot; &quot; + p.age);`","body":"I tried this in springboot application and it prints <code>null 0</code>. <code>Person p = objectMapper.readValue(new StringReader(&quot;&quot;&quot;                 {                   &quot;name&quot;: &quot;null&quot;,                   &quot;age&quot;: &quot;null&quot;                 }                 &quot;&quot;&quot;), Person.class);         System.out.println(p.name + &quot; &quot; + p.age);</code>"}],"answers":[{"tags":[],"owner":{"account_id":28042313,"reputation":1,"user_id":21419665,"display_name":"Nenad Jovanovic"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679056645,"creation_date":1679056645,"answer_id":75767679,"question_id":75427444,"body_markdown":"To register a Jackson Converter globally, you can either embed it into a deserializer, or into an annotation introspector. For more details and examples, see \r\n\r\nhttps://enji.systems/2023/03/16/jsonb-adapter-jackson-converter.html","title":"How to configure Jackson&#39;s Object Mapper to use type converter globally for all deserializations?","body":"<p>To register a Jackson Converter globally, you can either embed it into a deserializer, or into an annotation introspector. For more details and examples, see</p>\n<p><a href=\"https://enji.systems/2023/03/16/jsonb-adapter-jackson-converter.html\" rel=\"nofollow noreferrer\">https://enji.systems/2023/03/16/jsonb-adapter-jackson-converter.html</a></p>\n"}],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":651,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679056645,"creation_date":1676209796,"question_id":75427444,"body_markdown":"I need to convert certain values in json body of all my http requests.\r\nSpecifically, the client will send string `&quot;null&quot;` instead of null reference for `String` properties and `0` for `int` properties.\r\n\r\nexample json body of request\r\n\r\n\t{\r\n\t  &quot;name&quot;: &quot;null&quot;,\r\n\t  &quot;age&quot;: &quot;null&quot;\r\n\t}\r\n\r\nneeds to be deserialized into \r\n\r\n\tpublic class Person {\r\n\t\tpublic String name;  // name == null\r\n\t\tpublic int age;      // age == 0\r\n\t}\r\n\r\nInitially I added custom String Deserializer to ObjectMapper:\r\n\r\n\t@Bean\r\n\tpublic Module convertNullValueToNullReference() {\r\n\t\tSimpleModule module = new SimpleModule();\r\n\t\tmodule.addDeserializer(String.class, new StdDeserializer&lt;&gt;(String.class) {\r\n\t\t\t@Override\r\n\t\t\tpublic String deserialize(JsonParser p, DeserializationContext context) throws IOException {\r\n\t\t\t\tString value = StringDeserializer.instance.deserialize(p, context);\r\n\t\t\t\tif (&quot;null&quot;.equalsIgnoreCase(value)) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn module;\r\n\t}\r\n\r\nbut this obviously does not work for the case of int fields. I need to add type converter to `ObjectMapper` but there is no `addConverter()` method in `SimpleModule`.\r\n\r\nI know about `@JsonDeserialize(converter = ...)` but I need to register the converter globally for all classes.\r\n\r\nI searched SO and could only find [this related question][1] but the answer is tailored to the specific conversion of dates and is not suitable for my case\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/51287906/how-to-configure-jackson-to-convert-all-fields-of-a-type-to-another-type","title":"How to configure Jackson&#39;s Object Mapper to use type converter globally for all deserializations?","body":"<p>I need to convert certain values in json body of all my http requests.\nSpecifically, the client will send string <code>&quot;null&quot;</code> instead of null reference for <code>String</code> properties and <code>0</code> for <code>int</code> properties.</p>\n<p>example json body of request</p>\n<pre><code>{\n  &quot;name&quot;: &quot;null&quot;,\n  &quot;age&quot;: &quot;null&quot;\n}\n</code></pre>\n<p>needs to be deserialized into</p>\n<pre><code>public class Person {\n    public String name;  // name == null\n    public int age;      // age == 0\n}\n</code></pre>\n<p>Initially I added custom String Deserializer to ObjectMapper:</p>\n<pre><code>@Bean\npublic Module convertNullValueToNullReference() {\n    SimpleModule module = new SimpleModule();\n    module.addDeserializer(String.class, new StdDeserializer&lt;&gt;(String.class) {\n        @Override\n        public String deserialize(JsonParser p, DeserializationContext context) throws IOException {\n            String value = StringDeserializer.instance.deserialize(p, context);\n            if (&quot;null&quot;.equalsIgnoreCase(value)) {\n                return null;\n            }\n            return value;\n        }\n    });\n    return module;\n}\n</code></pre>\n<p>but this obviously does not work for the case of int fields. I need to add type converter to <code>ObjectMapper</code> but there is no <code>addConverter()</code> method in <code>SimpleModule</code>.</p>\n<p>I know about <code>@JsonDeserialize(converter = ...)</code> but I need to register the converter globally for all classes.</p>\n<p>I searched SO and could only find <a href=\"https://stackoverflow.com/questions/51287906/how-to-configure-jackson-to-convert-all-fields-of-a-type-to-another-type\">this related question</a> but the answer is tailored to the specific conversion of dates and is not suitable for my case</p>\n"},{"tags":["java","itext","pdf-generation"],"owner":{"account_id":28042201,"reputation":1,"user_id":21419572,"display_name":"Anonymous Cookie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679056514,"creation_date":1679056514,"question_id":75767655,"body_markdown":"I have been facing an issue with exporting multiple languages text in PDF export using itext in java(itext version 2.1.7, jre version - 1.8.0_282), Current implementation of code had only set a single font based on locale as below\r\n\r\n```\r\nFont font = new Font(Font.HELVETICA);\r\nString pdfFont = i18nText(KEY_PDF_FONT);\r\nBaseFont baseFont = BaseFont.createFont(pdfFont, pdfEncoding, BaseFont.NOT_EMBEDDED);\r\n```\r\n\r\nwhich produces an output as below\r\n[Korean text used in this case, any text other than English(based on locale) was displayed with ??](https://i.stack.imgur.com/oJ663.png)\r\n\r\nI had changed the current implementation to using FontSelector of itext to support multi language export in the same pdf and have included the missing itext-asian-2.1.7.jar file to the lib path of the application and implemented as below to suppport English, Chinese, Japanese, Korean and Greek Languages\r\n\r\n```\r\nFontSelector selector=new FontSelector();\r\nFont enFont = new Font(Font.HELVETICA);\r\nBaseFont jpBaseFont = BaseFont.createFont(&quot;KozMinPro-Regular&quot;,&quot;UniJIS-UCS2-H&quot;, BaseFont.EMBEDDED);\r\nBaseFont cBaseFont = BaseFont.createFont(&quot;STSong-Light&quot;,&quot;UniGB-UCS2-H&quot;, BaseFont.EMBEDDED);\r\nBaseFont kBaseFont = BaseFont.createFont(&quot;HYSMyeongJo-Medium&quot;,&quot;UniKS-UCS2-H&quot;, BaseFont.EMBEDDED);\r\nFont jpFont = new Font(jpBaseFont);\r\nFont cFont = new Font(cBaseFont);\r\nFont kFont = new Font(kBaseFont);\r\nselector.addFont(enFont);\r\nselector.addFont(jpFont);\r\nselector.addFont(cFont);\r\nselector.addFont(kFont);\r\n\r\n\r\nselector.process(text);\r\n```\r\n//outputted the phrase to the document.\r\n\r\nThe fonts are being added to the selector and being processed as expected except in the case of Chinese characters some of them are printing blank.\r\n\r\nText - 您的帐户已成功登录。\r\n\r\nOutput\r\n[Selected Text in line 3 and 4 after &quot;Processed Text&quot;](https://i.stack.imgur.com/xv2Jp.png)\r\n\r\n\r\n\r\nIf I tried downloading the same font embedded in the jar - STSONG-Light from the web and add it like below\r\n```\r\nBaseFont cbf = BaseFont.createFont(&quot;STSong-light.ttf&quot;, &quot;Identity-H&quot;, true);\r\n```\r\nRendering takes place as expected\r\n[enter image description here](https://i.stack.imgur.com/9m1Sv.png)\r\nAre the characters in bold being rendered from a different included font other than the Chinese font?\r\nAny idea on how to fix this?\r\n\r\nChecking PDF using Microsoft edge , Since I am not allowed access to adobe acrobat.","title":"Missing chinese characters in itext pdf export","body":"<p>I have been facing an issue with exporting multiple languages text in PDF export using itext in java(itext version 2.1.7, jre version - 1.8.0_282), Current implementation of code had only set a single font based on locale as below</p>\n<pre><code>Font font = new Font(Font.HELVETICA);\nString pdfFont = i18nText(KEY_PDF_FONT);\nBaseFont baseFont = BaseFont.createFont(pdfFont, pdfEncoding, BaseFont.NOT_EMBEDDED);\n</code></pre>\n<p>which produces an output as below\n<a href=\"https://i.stack.imgur.com/oJ663.png\" rel=\"nofollow noreferrer\">Korean text used in this case, any text other than English(based on locale) was displayed with ??</a></p>\n<p>I had changed the current implementation to using FontSelector of itext to support multi language export in the same pdf and have included the missing itext-asian-2.1.7.jar file to the lib path of the application and implemented as below to suppport English, Chinese, Japanese, Korean and Greek Languages</p>\n<pre><code>FontSelector selector=new FontSelector();\nFont enFont = new Font(Font.HELVETICA);\nBaseFont jpBaseFont = BaseFont.createFont(&quot;KozMinPro-Regular&quot;,&quot;UniJIS-UCS2-H&quot;, BaseFont.EMBEDDED);\nBaseFont cBaseFont = BaseFont.createFont(&quot;STSong-Light&quot;,&quot;UniGB-UCS2-H&quot;, BaseFont.EMBEDDED);\nBaseFont kBaseFont = BaseFont.createFont(&quot;HYSMyeongJo-Medium&quot;,&quot;UniKS-UCS2-H&quot;, BaseFont.EMBEDDED);\nFont jpFont = new Font(jpBaseFont);\nFont cFont = new Font(cBaseFont);\nFont kFont = new Font(kBaseFont);\nselector.addFont(enFont);\nselector.addFont(jpFont);\nselector.addFont(cFont);\nselector.addFont(kFont);\n\n\nselector.process(text);\n</code></pre>\n<p>//outputted the phrase to the document.</p>\n<p>The fonts are being added to the selector and being processed as expected except in the case of Chinese characters some of them are printing blank.</p>\n<p>Text - 您的帐户已成功登录。</p>\n<p>Output\n<a href=\"https://i.stack.imgur.com/xv2Jp.png\" rel=\"nofollow noreferrer\">Selected Text in line 3 and 4 after &quot;Processed Text&quot;</a></p>\n<p>If I tried downloading the same font embedded in the jar - STSONG-Light from the web and add it like below</p>\n<pre><code>BaseFont cbf = BaseFont.createFont(&quot;STSong-light.ttf&quot;, &quot;Identity-H&quot;, true);\n</code></pre>\n<p>Rendering takes place as expected\n<a href=\"https://i.stack.imgur.com/9m1Sv.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nAre the characters in bold being rendered from a different included font other than the Chinese font?\nAny idea on how to fix this?</p>\n<p>Checking PDF using Microsoft edge , Since I am not allowed access to adobe acrobat.</p>\n"},{"tags":["java","android","kotlin","gradle"],"comments":[{"owner":{"account_id":3821169,"reputation":763,"user_id":3169238,"display_name":"Sergei Kozelko"},"score":0,"creation_date":1679282505,"post_id":75767540,"comment_id":133687548,"body_markdown":"What version of AGP and build-tools are you using? Signing with all four schemes works fine for me with the latest version","body":"What version of AGP and build-tools are you using? Signing with all four schemes works fine for me with the latest version"}],"owner":{"account_id":23939646,"reputation":27,"user_id":17973266,"display_name":"Славик Колисниченкo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679055715,"creation_date":1679055715,"question_id":75767540,"body_markdown":"I have signingConfigs config which should enable v1 v2 v3 v4 signature in gradle but it doesn&#39;t apply.\r\n\r\n   \r\n\r\n        signingConfigs {\r\n        release {\r\n            v1SigningEnabled true\r\n            v2SigningEnabled true\r\n            enableV3Signing = true\r\n            enableV4Signing = true\r\n            keyAlias &#39;*********&#39;\r\n            keyPassword &#39;*********&#39;\r\n            storeFile file(&#39;*********&#39;)\r\n            storePassword &#39;*********&#39;\r\n        }\r\n    }\r\n\r\n        flavorDimensions &quot;test&quot;\r\n    productFlavors {\r\n        staging {\r\n            dimension &quot;test&quot;\r\n            signingConfig signingConfigs.release\r\n        }\r\n        dev {\r\n            dimension &quot;test&quot;\r\n            signingConfig signingConfigs.release\r\n        }\r\n    }\r\n\r\n\r\nwhen I build apk file and run \r\n\r\n       apksigner verify --verbose .apk\r\n\r\n\r\ni get this message :\r\n\r\n        Verifies\r\n    Verified using v1 scheme (JAR signing): false\r\n    Verified using v2 scheme (APK Signature Scheme v2): true\r\n    Verified using v3 scheme (APK Signature Scheme v3): false\r\n    Verified using v4 scheme (APK Signature Scheme v4): false\r\n    Verified for SourceStamp: false\r\n    Number of signers: 1\r\n\r\nwhy can this happen? Thanks ","title":"Signing Configs are not applied","body":"<p>I have signingConfigs config which should enable v1 v2 v3 v4 signature in gradle but it doesn't apply.</p>\n<pre><code>    signingConfigs {\n    release {\n        v1SigningEnabled true\n        v2SigningEnabled true\n        enableV3Signing = true\n        enableV4Signing = true\n        keyAlias '*********'\n        keyPassword '*********'\n        storeFile file('*********')\n        storePassword '*********'\n    }\n}\n\n    flavorDimensions &quot;test&quot;\nproductFlavors {\n    staging {\n        dimension &quot;test&quot;\n        signingConfig signingConfigs.release\n    }\n    dev {\n        dimension &quot;test&quot;\n        signingConfig signingConfigs.release\n    }\n}\n</code></pre>\n<p>when I build apk file and run</p>\n<pre><code>   apksigner verify --verbose .apk\n</code></pre>\n<p>i get this message :</p>\n<pre><code>    Verifies\nVerified using v1 scheme (JAR signing): false\nVerified using v2 scheme (APK Signature Scheme v2): true\nVerified using v3 scheme (APK Signature Scheme v3): false\nVerified using v4 scheme (APK Signature Scheme v4): false\nVerified for SourceStamp: false\nNumber of signers: 1\n</code></pre>\n<p>why can this happen? Thanks</p>\n"},{"tags":["java","spring-boot","spring-batch","datasource"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679055304,"post_id":75767192,"comment_id":133656422,"body_markdown":"Please add Autowired annotation to the method gorItemReader parameter dataSource.","body":"Please add Autowired annotation to the method gorItemReader parameter dataSource."},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1679055483,"post_id":75767192,"comment_id":133656468,"body_markdown":"same exception @Mar-Z","body":"same exception @Mar-Z"},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":1,"creation_date":1679055698,"post_id":75767192,"comment_id":133656526,"body_markdown":"Set `DataSource` to `SqlPagingQueryProviderFactoryBean` as well. `provider.setDataSource(dataSource)`.","body":"Set <code>DataSource</code> to <code>SqlPagingQueryProviderFactoryBean</code> as well. <code>provider.setDataSource(dataSource)</code>."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679055682,"creation_date":1679055682,"answer_id":75767534,"question_id":75767192,"body_markdown":"You need the following added to your Configuration class\r\n\r\n    @Autowired\r\n\tprivate DataSource dataSource;\r\n\r\nand set the data source on SqlPagingQueryProviderFactoryBean.\r\n\r\n    SqlPagingQueryProviderFactoryBean provider = new SqlPagingQueryProviderFactoryBean();\r\n    provider.setDataSource(dataSource);\r\n\r\nTerrible, I know!","title":"spring boot batch No DataSource specified","body":"<p>You need the following added to your Configuration class</p>\n<pre><code>@Autowired\nprivate DataSource dataSource;\n</code></pre>\n<p>and set the data source on SqlPagingQueryProviderFactoryBean.</p>\n<pre><code>SqlPagingQueryProviderFactoryBean provider = new SqlPagingQueryProviderFactoryBean();\nprovider.setDataSource(dataSource);\n</code></pre>\n<p>Terrible, I know!</p>\n"}],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":645,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75767534,"answer_count":1,"score":1,"last_activity_date":1679055682,"creation_date":1679053261,"question_id":75767192,"body_markdown":"I&#39;m trying to configure spring batch but I keep getting `No DataSource specified`.\r\nMy Configuration Class:\r\n```\r\npackage com.example.demo;\r\n\r\nimport eu.unicredit.generated.avro.CustomerGorModel;\r\nimport org.springframework.batch.core.Job;\r\nimport org.springframework.batch.core.Step;\r\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\r\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\r\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\r\nimport org.springframework.batch.item.ItemProcessor;\r\nimport org.springframework.batch.item.ItemReader;\r\nimport org.springframework.batch.item.database.PagingQueryProvider;\r\nimport org.springframework.batch.item.database.builder.JdbcPagingItemReaderBuilder;\r\nimport org.springframework.batch.item.database.support.SqlPagingQueryProviderFactoryBean;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.jdbc.core.JdbcTemplate;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@org.springframework.context.annotation.Configuration\r\n@EnableBatchProcessing\r\npublic class Configuration {\r\n\r\n    @Autowired\r\n    private JobBuilderFactory jobBuilderFactory;\r\n    @Autowired\r\n    private StepBuilderFactory stepBuilderFactory;\r\n\r\n    @Bean(&quot;gorItemReader&quot;)\r\n    public ItemReader&lt;String&gt; gorItemReader(DataSource dataSource, @Qualifier(&quot;gorQueryProvider&quot;) PagingQueryProvider queryProvider) {\r\n        Map&lt;String, Object&gt; parameterValues = new HashMap&lt;&gt;();\r\n\r\n        return new JdbcPagingItemReaderBuilder&lt;String&gt;()\r\n                .name(&quot;gorItemReader&quot;)\r\n                .dataSource(dataSource)\r\n                .queryProvider(queryProvider)\r\n                .parameterValues(parameterValues)\r\n                .rowMapper((rs, rowNumber) -&gt; rs.getString(&quot;gor_id&quot;))\r\n                .pageSize(1000)\r\n                .build();\r\n    }\r\n\r\n    @Bean(&quot;gorQueryProvider&quot;)\r\n    public SqlPagingQueryProviderFactoryBean gorQueryProvider() {\r\n        SqlPagingQueryProviderFactoryBean provider = new SqlPagingQueryProviderFactoryBean();\r\n\r\n        provider.setSelectClause(&quot;select gor_id&quot;);\r\n        provider.setFromClause(&quot;from ur1_bom_customer&quot;);\r\n        provider.setWhereClause(&quot;where gor_id is not null&quot;);\r\n        provider.setSortKey(&quot;gor_id&quot;);\r\n\r\n        return provider;\r\n    }\r\n}\r\n```\r\npom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.9&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;eu.unicredit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ur1-kafka-avro-lib-be&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\napplication.properties:\r\n```\r\nspring.datasource.url=jdbc:oracle:thin:@hsomeHost:port/schema\r\nspring.datasource.username=username\r\nspring.datasource.password=passowrd\r\nspring.datasource.driver-class-name=oracle.jdbc.OracleDriver\r\n```\r\n\r\nException:\r\n```\r\nCaused by: java.lang.IllegalArgumentException: No DataSource specified\r\n\tat org.springframework.util.Assert.notNull(Assert.java:201) ~[spring-core-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:103) ~[spring-jdbc-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:337) ~[spring-jdbc-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:395) ~[spring-jdbc-5.3.13.jar:5.3.13]\r\n\tat org.springframework.batch.support.DatabaseType.fromMetaData(DatabaseType.java:102) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\r\n\tat org.springframework.batch.item.database.support.SqlPagingQueryProviderFactoryBean.getObject(SqlPagingQueryProviderFactoryBean.java:159) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\r\n\tat org.springframework.batch.item.database.support.SqlPagingQueryProviderFactoryBean.getObject(SqlPagingQueryProviderFactoryBean.java:54) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\r\n\tat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:169) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1884) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1284) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:345) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.13.jar:5.3.13]\r\n\t... 19 more\r\n\r\nProcess finished with exit code 1\r\n```\r\nIf I define the data source spring complains for circular dependencies. I&#39;ve checked in the context and the data source bean is there. Also if I put only this in my configuration class the DataSource is correctly injected:\r\n```\r\n    @Bean\r\n    public JdbcTemplate jdbcTemplate(DataSource dataSource) {\r\n        return new JdbcTemplate(dataSource);\r\n    }\r\n```\r\nSomeone knows whats going on here?","title":"spring boot batch No DataSource specified","body":"<p>I'm trying to configure spring batch but I keep getting <code>No DataSource specified</code>.\nMy Configuration Class:</p>\n<pre><code>package com.example.demo;\n\nimport eu.unicredit.generated.avro.CustomerGorModel;\nimport org.springframework.batch.core.Job;\nimport org.springframework.batch.core.Step;\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\nimport org.springframework.batch.item.ItemProcessor;\nimport org.springframework.batch.item.ItemReader;\nimport org.springframework.batch.item.database.PagingQueryProvider;\nimport org.springframework.batch.item.database.builder.JdbcPagingItemReaderBuilder;\nimport org.springframework.batch.item.database.support.SqlPagingQueryProviderFactoryBean;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.jdbc.core.JdbcTemplate;\n\nimport javax.sql.DataSource;\nimport java.util.HashMap;\nimport java.util.Map;\n\n@org.springframework.context.annotation.Configuration\n@EnableBatchProcessing\npublic class Configuration {\n\n    @Autowired\n    private JobBuilderFactory jobBuilderFactory;\n    @Autowired\n    private StepBuilderFactory stepBuilderFactory;\n\n    @Bean(&quot;gorItemReader&quot;)\n    public ItemReader&lt;String&gt; gorItemReader(DataSource dataSource, @Qualifier(&quot;gorQueryProvider&quot;) PagingQueryProvider queryProvider) {\n        Map&lt;String, Object&gt; parameterValues = new HashMap&lt;&gt;();\n\n        return new JdbcPagingItemReaderBuilder&lt;String&gt;()\n                .name(&quot;gorItemReader&quot;)\n                .dataSource(dataSource)\n                .queryProvider(queryProvider)\n                .parameterValues(parameterValues)\n                .rowMapper((rs, rowNumber) -&gt; rs.getString(&quot;gor_id&quot;))\n                .pageSize(1000)\n                .build();\n    }\n\n    @Bean(&quot;gorQueryProvider&quot;)\n    public SqlPagingQueryProviderFactoryBean gorQueryProvider() {\n        SqlPagingQueryProviderFactoryBean provider = new SqlPagingQueryProviderFactoryBean();\n\n        provider.setSelectClause(&quot;select gor_id&quot;);\n        provider.setFromClause(&quot;from ur1_bom_customer&quot;);\n        provider.setWhereClause(&quot;where gor_id is not null&quot;);\n        provider.setSortKey(&quot;gor_id&quot;);\n\n        return provider;\n    }\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.9&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;eu.unicredit&lt;/groupId&gt;\n            &lt;artifactId&gt;ur1-kafka-avro-lib-be&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:oracle:thin:@hsomeHost:port/schema\nspring.datasource.username=username\nspring.datasource.password=passowrd\nspring.datasource.driver-class-name=oracle.jdbc.OracleDriver\n</code></pre>\n<p>Exception:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: No DataSource specified\n    at org.springframework.util.Assert.notNull(Assert.java:201) ~[spring-core-5.3.13.jar:5.3.13]\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:103) ~[spring-jdbc-5.3.13.jar:5.3.13]\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-5.3.13.jar:5.3.13]\n    at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:337) ~[spring-jdbc-5.3.13.jar:5.3.13]\n    at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:395) ~[spring-jdbc-5.3.13.jar:5.3.13]\n    at org.springframework.batch.support.DatabaseType.fromMetaData(DatabaseType.java:102) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\n    at org.springframework.batch.item.database.support.SqlPagingQueryProviderFactoryBean.getObject(SqlPagingQueryProviderFactoryBean.java:159) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\n    at org.springframework.batch.item.database.support.SqlPagingQueryProviderFactoryBean.getObject(SqlPagingQueryProviderFactoryBean.java:54) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\n    at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:169) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1884) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1284) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:345) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.13.jar:5.3.13]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.13.jar:5.3.13]\n    ... 19 more\n\nProcess finished with exit code 1\n</code></pre>\n<p>If I define the data source spring complains for circular dependencies. I've checked in the context and the data source bean is there. Also if I put only this in my configuration class the DataSource is correctly injected:</p>\n<pre><code>    @Bean\n    public JdbcTemplate jdbcTemplate(DataSource dataSource) {\n        return new JdbcTemplate(dataSource);\n    }\n</code></pre>\n<p>Someone knows whats going on here?</p>\n"},{"tags":["java","file","testing","junit","system"],"comments":[{"owner":{"account_id":4140209,"reputation":549,"user_id":3395778,"accept_rate":100,"display_name":"AndreaTaroni86"},"score":0,"creation_date":1679047374,"post_id":75766019,"comment_id":133654600,"body_markdown":"Why don&#39;t you use try clause for your test case and put setproperty (old value) in a finally clause? It will definitively corect your path if you get an error during your tests.","body":"Why don&#39;t you use try clause for your test case and put setproperty (old value) in a finally clause? It will definitively corect your path if you get an error during your tests."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679055613,"creation_date":1679055613,"answer_id":75767521,"question_id":75766019,"body_markdown":"The problem lies not in the setting of the property, but in the fact that the JDK initializes the directory used for `File.createTempFile` only once, and uses that single initialized directory. The same goes when using the methods from `Files` to create temporary files or directories.\r\n\r\nIf you can change the original code, use the overloaded variants that allow you to set the directory yourself. For instance:\r\n```\r\n// File tempFile = File.createTempFile(&quot;prefix&quot;, &quot;suffix&quot;);\r\nFile tempFile = File.createTempFile(&quot;prefix&quot;, &quot;suffix&quot;, new File(System.getProperty(&quot;java.io.tmpdir&quot;)));\r\n```\r\n\r\n----------\r\n\r\nThere&#39;s also an issue with how you set and, more importantly, reset the system property. If the test fails the reset will not occur. You can use a try-finally block, or even simpler, use [JUnit Pioneer][1]:\r\n\r\n```\r\nclass TestClass {\r\n    @Test\r\n    testCase1() {\r\n         // do something\r\n    }\r\n\r\n    @Test\r\n    @SetSystemProperty(key = &quot;java.io.tmpdir&quot;, value = &quot;/no/such/dir&quot;)\r\n    testCase2() {\r\n        // invoke test case\r\n    }\r\n```\r\n\r\n  [1]: https://junit-pioneer.org/docs/system-properties/","title":"System.setProperty in JUnit testing","body":"<p>The problem lies not in the setting of the property, but in the fact that the JDK initializes the directory used for <code>File.createTempFile</code> only once, and uses that single initialized directory. The same goes when using the methods from <code>Files</code> to create temporary files or directories.</p>\n<p>If you can change the original code, use the overloaded variants that allow you to set the directory yourself. For instance:</p>\n<pre><code>// File tempFile = File.createTempFile(&quot;prefix&quot;, &quot;suffix&quot;);\nFile tempFile = File.createTempFile(&quot;prefix&quot;, &quot;suffix&quot;, new File(System.getProperty(&quot;java.io.tmpdir&quot;)));\n</code></pre>\n<hr />\n<p>There's also an issue with how you set and, more importantly, reset the system property. If the test fails the reset will not occur. You can use a try-finally block, or even simpler, use <a href=\"https://junit-pioneer.org/docs/system-properties/\" rel=\"nofollow noreferrer\">JUnit Pioneer</a>:</p>\n<pre><code>class TestClass {\n    @Test\n    testCase1() {\n         // do something\n    }\n\n    @Test\n    @SetSystemProperty(key = &quot;java.io.tmpdir&quot;, value = &quot;/no/such/dir&quot;)\n    testCase2() {\n        // invoke test case\n    }\n</code></pre>\n"}],"owner":{"account_id":21080017,"reputation":11,"user_id":19141365,"display_name":"Ong wei yuan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679055613,"creation_date":1679046307,"question_id":75766019,"body_markdown":"I am trying to invoke a IO Exception for the `createTempFile` method of the `java.io.File` class for one of my test cases.\r\n\r\nI have figured that one way to do so is to set the Property value for a single test case as follows:\r\n\r\n```\r\nclass TestClass {\r\n    @Test\r\n    testCase1() {\r\n         // do something\r\n    }\r\n\r\n    @Test\r\n    testCase2() {\r\n        String oldValue = System.getProperty(&quot;java.io.tmpdir&quot;);\r\n        System.setProperty(&quot;java.io.tmpdir&quot;, &quot;/no/such/dir&quot;);\r\n        // invoke test case\r\n        System.setProperty(&quot;java.io.tmpdir&quot;, oldValue);\r\n    }\r\n    \r\n```\r\n\r\nHowever, the issue I encounter is that although I am setting the system property in a single test case (`testCase2`) only, it affects ALL OTHER test cases in the entire class such as `testCase` (and test folder).\r\n\r\nDoes anyone know what I am doing wrong?\r\n\r\n\r\nI tried to print the value of `System.setProperty(&quot;java.io.tmpdir&quot;, oldValue)` for test cases where I did not change the property and it appears to be correct.","title":"System.setProperty in JUnit testing","body":"<p>I am trying to invoke a IO Exception for the <code>createTempFile</code> method of the <code>java.io.File</code> class for one of my test cases.</p>\n<p>I have figured that one way to do so is to set the Property value for a single test case as follows:</p>\n<pre><code>class TestClass {\n    @Test\n    testCase1() {\n         // do something\n    }\n\n    @Test\n    testCase2() {\n        String oldValue = System.getProperty(&quot;java.io.tmpdir&quot;);\n        System.setProperty(&quot;java.io.tmpdir&quot;, &quot;/no/such/dir&quot;);\n        // invoke test case\n        System.setProperty(&quot;java.io.tmpdir&quot;, oldValue);\n    }\n    \n</code></pre>\n<p>However, the issue I encounter is that although I am setting the system property in a single test case (<code>testCase2</code>) only, it affects ALL OTHER test cases in the entire class such as <code>testCase</code> (and test folder).</p>\n<p>Does anyone know what I am doing wrong?</p>\n<p>I tried to print the value of <code>System.setProperty(&quot;java.io.tmpdir&quot;, oldValue)</code> for test cases where I did not change the property and it appears to be correct.</p>\n"},{"tags":["java","amazon-web-services","web-services","cxf"],"answers":[{"tags":[],"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380863934,"creation_date":1380857869,"answer_id":19172793,"question_id":19168791,"body_markdown":"In the package where your ItemLookup.java file resides, verify if there exists package-info.java, if not create one. And in the package-info class your code would look like\r\n\r\n    @javax.xml.bind.annotation.XmlSchema(namespace = &quot;hhttp://_2011_08_01.awsecommerceservice.webservices.amazon.com/&quot;, elementFormDefault = javax.xml.bind.annotation.XmlNsForm.QUALIFIED, xmlns = {\r\n        @javax.xml.bind.annotation.XmlNs(namespaceURI = &quot;http://_2011_08_01.awsecommerceservice.webservices.amazon.com/&quot;, prefix = &quot;ns1&quot;)\r\n    })\r\n    package your.package;\r\n\r\n\r\nSo try to remove the namespace uri\r\n\r\nOpps wrongly interpreted your question. Here is the solution\r\n\r\nAdd Annotation\r\n \r\n\r\n    @SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)\r\n\r\nTo your class","title":"Invalid SOAP message when connecting Amazon AWSECommerceService","body":"<p>In the package where your ItemLookup.java file resides, verify if there exists package-info.java, if not create one. And in the package-info class your code would look like</p>\n\n<pre><code>@javax.xml.bind.annotation.XmlSchema(namespace = \"hhttp://_2011_08_01.awsecommerceservice.webservices.amazon.com/\", elementFormDefault = javax.xml.bind.annotation.XmlNsForm.QUALIFIED, xmlns = {\n    @javax.xml.bind.annotation.XmlNs(namespaceURI = \"http://_2011_08_01.awsecommerceservice.webservices.amazon.com/\", prefix = \"ns1\")\n})\npackage your.package;\n</code></pre>\n\n<p>So try to remove the namespace uri</p>\n\n<p>Opps wrongly interpreted your question. Here is the solution</p>\n\n<p>Add Annotation</p>\n\n<pre><code>@SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)\n</code></pre>\n\n<p>To your class</p>\n"},{"tags":[],"owner":{"account_id":302067,"reputation":1563,"user_id":610215,"accept_rate":47,"display_name":"Patryk Dobrowolski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1380908990,"creation_date":1380908990,"answer_id":19187643,"question_id":19168791,"body_markdown":"Ok, I found the solution. I don&#39;t know why it acted like this, but the problem was in the way I created the service:\r\n\r\n    ClientProxyFactoryBean factory = new ClientProxyFactoryBean();\r\n    factory.setServiceClass(AWSECommerceServicePortType.class);\r\n    factory.setAddress(&quot;https://soap.amazon.com/onca/soap?Service=AWSECommerceService&quot;);\r\n    factory.getInInterceptors().add(new LoggingInInterceptor());\r\n    factory.getOutInterceptors().add(new LoggingOutInterceptor());\r\n    AWSECommerceServicePortType ss = (AWSECommerceServicePortType) factory.create();\r\n\r\nBut when I changed this to:\r\n\r\n    AWSECommerceServicePortType ss = new AWSECommerceService().getAWSECommerceServicePort();\t\t\r\n    Client client = ClientProxy.getClient(ss);\r\n    client.getInInterceptors().add(new LoggingInInterceptor());\r\n    client.getOutInterceptors().add(new LoggingOutInterceptor());\r\n\r\nit worked. Thanks @SRT_KP for your willingness to help.","title":"Invalid SOAP message when connecting Amazon AWSECommerceService","body":"<p>Ok, I found the solution. I don't know why it acted like this, but the problem was in the way I created the service:</p>\n\n<pre><code>ClientProxyFactoryBean factory = new ClientProxyFactoryBean();\nfactory.setServiceClass(AWSECommerceServicePortType.class);\nfactory.setAddress(\"https://soap.amazon.com/onca/soap?Service=AWSECommerceService\");\nfactory.getInInterceptors().add(new LoggingInInterceptor());\nfactory.getOutInterceptors().add(new LoggingOutInterceptor());\nAWSECommerceServicePortType ss = (AWSECommerceServicePortType) factory.create();\n</code></pre>\n\n<p>But when I changed this to:</p>\n\n<pre><code>AWSECommerceServicePortType ss = new AWSECommerceService().getAWSECommerceServicePort();        \nClient client = ClientProxy.getClient(ss);\nclient.getInInterceptors().add(new LoggingInInterceptor());\nclient.getOutInterceptors().add(new LoggingOutInterceptor());\n</code></pre>\n\n<p>it worked. Thanks @SRT_KP for your willingness to help.</p>\n"}],"owner":{"account_id":302067,"reputation":1563,"user_id":610215,"accept_rate":47,"display_name":"Patryk Dobrowolski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19187643,"answer_count":2,"score":0,"last_activity_date":1679055500,"creation_date":1380832569,"question_id":19168791,"body_markdown":"I try to connect to Amazon AWSECommerceService. I generated client classes using CXF and provided WSDL, but I get an error &quot;The action itemLookup is not valid for this endpoint&quot;.\r\n\r\nSome investigation brought me to this point:\r\nGenerated SOAP message is like:\r\n\r\n    &lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n    \t&lt;soap:Body&gt;\r\n    \t\t&lt;ns1:itemLookup\r\n    \t\t\txmlns:ns1=&quot;http://_2011_08_01.awsecommerceservice.webservices.amazon.com/&quot;&gt;\r\n    \t\t\t&lt;ItemLookup\r\n    \t\t\t\txmlns=&quot;http://webservices.amazon.com/AWSECommerceService/2011-08-01&quot;&gt;\r\n    \t\t\t\t&lt;AssociateTag&gt;pkd&lt;/AssociateTag&gt;\r\n    \t\t\t\t&lt;Request&gt;\r\n    \t\t\t\t\t&lt;IdType&gt;ISBN&lt;/IdType&gt;\r\n    \t\t\t\t\t&lt;ItemId&gt;0321534468&lt;/ItemId&gt;\r\n    \t\t\t\t\t&lt;SearchIndex&gt;Books&lt;/SearchIndex&gt;\r\n    \t\t\t\t&lt;/Request&gt;\r\n    \t\t\t&lt;/ItemLookup&gt;\r\n    \t\t&lt;/ns1:itemLookup&gt;\r\n    \t&lt;/soap:Body&gt;\r\n    &lt;/soap:Envelope&gt;\r\n\r\nbut it is supposed to be:\r\n\r\n    &lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n    \t&lt;soap:Body&gt;\r\n    \t\t\t&lt;ItemLookup\r\n    \t\t\t\txmlns=&quot;http://webservices.amazon.com/AWSECommerceService/2011-08-01&quot;&gt;\r\n    \t\t\t\t&lt;AssociateTag&gt;pkd&lt;/AssociateTag&gt;\r\n    \t\t\t\t&lt;Request&gt;\r\n    \t\t\t\t\t&lt;IdType&gt;ISBN&lt;/IdType&gt;\r\n    \t\t\t\t\t&lt;ItemId&gt;0321534468&lt;/ItemId&gt;\r\n    \t\t\t\t\t&lt;SearchIndex&gt;Books&lt;/SearchIndex&gt;\r\n    \t\t\t\t&lt;/Request&gt;\r\n    \t\t\t&lt;/ItemLookup&gt;\r\n    \t&lt;/soap:Body&gt;\r\n    &lt;/soap:Envelope&gt;\r\n\r\nIt looks that there is one unexpected tag \r\n\r\n    &lt;ns1:itemLookup\r\n        \t\t\txmlns:ns1=&quot;http://_2011_08_01.awsecommerceservice.webservices.amazon.com/&quot;&gt;\r\n\r\nThe second example works well when using SoapUI.\r\nWhat did go wrong? What am I missing running wsdl2java maven plugin?\r\n\r\nPlease forgive me if question is stupid. I&#39;m really new to webservices and SOAP.\r\n\r\nWhen I added annotation:\r\n\r\n    @SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)\r\n\r\nI got the message:\r\n\r\n    &lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n    \t&lt;soap:Body&gt;\r\n    \t\t&lt;ns1:itemLookup\r\n    \t\t\txmlns:ns1=&quot;http://_2011_08_01.awsecommerceservice.webservices.amazon.com/&quot;&gt;\r\n    \t\t\t&lt;ns2:ItemLookup\r\n    \t\t\t\txmlns:ns2=&quot;http://_2011_08_01.awsecommerceservice.webservices.amazon.com/&quot;\r\n    \t\t\t\txmlns:ns3=&quot;http://webservices.amazon.com/AWSECommerceService/2011-08-01&quot;&gt;\r\n    \t\t\t\t&lt;AssociateTag&gt;pkd&lt;/AssociateTag&gt;\r\n    \t\t\t\t&lt;Shared&gt;\r\n    \t\t\t\t\t&lt;IdType&gt;ISBN&lt;/IdType&gt;\r\n    \t\t\t\t\t&lt;ItemId&gt;0321534468&lt;/ItemId&gt;\r\n    \t\t\t\t\t&lt;SearchIndex&gt;Books&lt;/SearchIndex&gt;\r\n    \t\t\t\t&lt;/Shared&gt;\r\n    \t\t\t&lt;/ns2:ItemLookup&gt;\r\n    \t\t&lt;/ns1:itemLookup&gt;\r\n    \t&lt;/soap:Body&gt;\r\n    &lt;/soap:Envelope&gt;\r\n\r\nThose namespaces are weird for me.","title":"Invalid SOAP message when connecting Amazon AWSECommerceService","body":"<p>I try to connect to Amazon AWSECommerceService. I generated client classes using CXF and provided WSDL, but I get an error \"The action itemLookup is not valid for this endpoint\".</p>\n\n<p>Some investigation brought me to this point:\nGenerated SOAP message is like:</p>\n\n<pre><code>&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n    &lt;soap:Body&gt;\n        &lt;ns1:itemLookup\n            xmlns:ns1=\"http://_2011_08_01.awsecommerceservice.webservices.amazon.com/\"&gt;\n            &lt;ItemLookup\n                xmlns=\"http://webservices.amazon.com/AWSECommerceService/2011-08-01\"&gt;\n                &lt;AssociateTag&gt;pkd&lt;/AssociateTag&gt;\n                &lt;Request&gt;\n                    &lt;IdType&gt;ISBN&lt;/IdType&gt;\n                    &lt;ItemId&gt;0321534468&lt;/ItemId&gt;\n                    &lt;SearchIndex&gt;Books&lt;/SearchIndex&gt;\n                &lt;/Request&gt;\n            &lt;/ItemLookup&gt;\n        &lt;/ns1:itemLookup&gt;\n    &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n\n<p>but it is supposed to be:</p>\n\n<pre><code>&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n    &lt;soap:Body&gt;\n            &lt;ItemLookup\n                xmlns=\"http://webservices.amazon.com/AWSECommerceService/2011-08-01\"&gt;\n                &lt;AssociateTag&gt;pkd&lt;/AssociateTag&gt;\n                &lt;Request&gt;\n                    &lt;IdType&gt;ISBN&lt;/IdType&gt;\n                    &lt;ItemId&gt;0321534468&lt;/ItemId&gt;\n                    &lt;SearchIndex&gt;Books&lt;/SearchIndex&gt;\n                &lt;/Request&gt;\n            &lt;/ItemLookup&gt;\n    &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n\n<p>It looks that there is one unexpected tag </p>\n\n<pre><code>&lt;ns1:itemLookup\n                xmlns:ns1=\"http://_2011_08_01.awsecommerceservice.webservices.amazon.com/\"&gt;\n</code></pre>\n\n<p>The second example works well when using SoapUI.\nWhat did go wrong? What am I missing running wsdl2java maven plugin?</p>\n\n<p>Please forgive me if question is stupid. I'm really new to webservices and SOAP.</p>\n\n<p>When I added annotation:</p>\n\n<pre><code>@SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)\n</code></pre>\n\n<p>I got the message:</p>\n\n<pre><code>&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n    &lt;soap:Body&gt;\n        &lt;ns1:itemLookup\n            xmlns:ns1=\"http://_2011_08_01.awsecommerceservice.webservices.amazon.com/\"&gt;\n            &lt;ns2:ItemLookup\n                xmlns:ns2=\"http://_2011_08_01.awsecommerceservice.webservices.amazon.com/\"\n                xmlns:ns3=\"http://webservices.amazon.com/AWSECommerceService/2011-08-01\"&gt;\n                &lt;AssociateTag&gt;pkd&lt;/AssociateTag&gt;\n                &lt;Shared&gt;\n                    &lt;IdType&gt;ISBN&lt;/IdType&gt;\n                    &lt;ItemId&gt;0321534468&lt;/ItemId&gt;\n                    &lt;SearchIndex&gt;Books&lt;/SearchIndex&gt;\n                &lt;/Shared&gt;\n            &lt;/ns2:ItemLookup&gt;\n        &lt;/ns1:itemLookup&gt;\n    &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n\n<p>Those namespaces are weird for me.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679055072,"post_id":75767267,"comment_id":133656374,"body_markdown":"Are you calling the url with a browser? It won&#39;t work for DELETE request. Browsers support only GET. To test DELETE request use Postman o curl. The later on Unix only.","body":"Are you calling the url with a browser? It won&#39;t work for DELETE request. Browsers support only GET. To test DELETE request use Postman o curl. The later on Unix only."}],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679055392,"creation_date":1679055392,"answer_id":75767488,"question_id":75767267,"body_markdown":"You are using the wrong URL as per the code you defined. You are using `PathVariable` and you passing as query string parameters. Change your js code as follows.\r\n\r\n```\r\nconst deleteCategory = (ids) =&gt; {\r\n  return $axios({\r\n    url: &#39;/category/&#39; + ids,\r\n    method: &#39;delete&#39;\r\n  })\r\n}\r\n```\r\n\r\nYour URL must be URL: http://localhost:8000/category/1397844263642378242","title":"org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;DELETE&#39; not supported","body":"<p>You are using the wrong URL as per the code you defined. You are using <code>PathVariable</code> and you passing as query string parameters. Change your js code as follows.</p>\n<pre><code>const deleteCategory = (ids) =&gt; {\n  return $axios({\n    url: '/category/' + ids,\n    method: 'delete'\n  })\n}\n</code></pre>\n<p>Your URL must be URL: http://localhost:8000/category/1397844263642378242</p>\n"}],"owner":{"account_id":26269184,"reputation":49,"user_id":19939324,"display_name":"xiaowei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1679436178,"answer_count":1,"score":0,"last_activity_date":1679055392,"creation_date":1679053731,"question_id":75767267,"body_markdown":"```\r\n@RequestMapping(&quot;/category&quot;)\r\npublic class CategoryController {\r\n\r\n    @DeleteMapping(&quot;{ids}&quot;)\r\n    public R&lt;String&gt; delete(@PathVariable(&quot;ids&quot;) Long ids){\r\n        categoryService.remove(ids);\r\n        return R.success(&quot;删除成功&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\nconst deleteCategory = (ids) =&gt; {\r\n  return $axios({\r\n    url: &#39;/category&#39;,\r\n    method: &#39;delete&#39;,\r\n    params: { ids }\r\n  })\r\n}\r\n```\r\n\r\n\r\nURL: http://localhost:8000/category?ids=1397844263642378242","title":"org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;DELETE&#39; not supported","body":"<pre><code>@RequestMapping(&quot;/category&quot;)\npublic class CategoryController {\n\n    @DeleteMapping(&quot;{ids}&quot;)\n    public R&lt;String&gt; delete(@PathVariable(&quot;ids&quot;) Long ids){\n        categoryService.remove(ids);\n        return R.success(&quot;删除成功&quot;);\n    }\n}\n</code></pre>\n<pre><code>const deleteCategory = (ids) =&gt; {\n  return $axios({\n    url: '/category',\n    method: 'delete',\n    params: { ids }\n  })\n}\n</code></pre>\n<p>URL: http://localhost:8000/category?ids=1397844263642378242</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679055099,"creation_date":1679054467,"answer_id":75767366,"question_id":75735006,"body_markdown":"The basic idea is to create utility method which extracts list of ids and take advantage of SpEL, something like:\r\n\r\n```java\r\npackage tld;\r\n\r\n...\r\n\r\npublic interface SocialEventRepository extends JpaRepository&lt;SocialEvent, Long&gt; {\r\n\r\n    @Query(value = &quot;SELECT DISTINCT e from SocialEvent e &quot;\r\n            + &quot;join e.multiPropsValuesSet m &quot;\r\n            + &quot;WHERE ( &quot;\r\n            + &quot;((&quot;\r\n            + &quot;(m in ?1   OR COALESCE(?1, NULL) is null )&quot;\r\n            + &quot; OR &quot;\r\n            + &quot;(m.id in (:#{T(tld.SocialEventRepository).extractIds(#eventTypes)})) &quot;   //---&gt;new condition.\r\n            + &quot;)&quot;\r\n            + &quot; AND  (COALESCE(?2, NULL) is null  OR m in ?2 ) &quot;\r\n            + &quot;AND  (COALESCE(?3, NULL) is null  OR m in ?3 ) &quot;\r\n            + &quot;) &quot;\r\n            + &quot;AND &quot;\r\n            + &quot;((e.fromAge BETWEEN ?4 AND ?5) &quot;\r\n            + &quot;OR (e.toAge BETWEEN ?4 AND ?5)&quot;\r\n            + &quot;OR (?4 BETWEEN e.fromAge AND e.toAge )) &quot;\r\n            + &quot;AND (e.date BETWEEN ?6 AND ?7) &quot;\r\n            + &quot;ORDER BY e.date ASC&quot;)\r\n    List&lt;SocialEvent&gt; filter16Main(\r\n            List&lt;MultiPropValue&gt; eventTypes,\r\n            List&lt;MultiPropValue&gt; areas, List&lt;MultiPropValue&gt; jewLvlKeep,\r\n            int fromAge, int toAge,\r\n            Date from, Date to);\r\n\r\n    static List&lt;Long&gt; extractIds(List&lt;MultiPropValue&gt; values) {\r\n        return values.stream().map(MultiPropValue::getConnectedValuesIds)\r\n                .flatMap(Collection::stream)\r\n                .collect(Collectors.toList());\r\n    }\r\n}\r\n\r\n```\r\n\r\nHowever, I would recommend to [move to Criteria API](https://stackoverflow.com/a/75572804/3426309)","title":"JPA HQL Query - how to check some value of inner elements of the array","body":"<p>The basic idea is to create utility method which extracts list of ids and take advantage of SpEL, something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package tld;\n\n...\n\npublic interface SocialEventRepository extends JpaRepository&lt;SocialEvent, Long&gt; {\n\n    @Query(value = &quot;SELECT DISTINCT e from SocialEvent e &quot;\n            + &quot;join e.multiPropsValuesSet m &quot;\n            + &quot;WHERE ( &quot;\n            + &quot;((&quot;\n            + &quot;(m in ?1   OR COALESCE(?1, NULL) is null )&quot;\n            + &quot; OR &quot;\n            + &quot;(m.id in (:#{T(tld.SocialEventRepository).extractIds(#eventTypes)})) &quot;   //---&gt;new condition.\n            + &quot;)&quot;\n            + &quot; AND  (COALESCE(?2, NULL) is null  OR m in ?2 ) &quot;\n            + &quot;AND  (COALESCE(?3, NULL) is null  OR m in ?3 ) &quot;\n            + &quot;) &quot;\n            + &quot;AND &quot;\n            + &quot;((e.fromAge BETWEEN ?4 AND ?5) &quot;\n            + &quot;OR (e.toAge BETWEEN ?4 AND ?5)&quot;\n            + &quot;OR (?4 BETWEEN e.fromAge AND e.toAge )) &quot;\n            + &quot;AND (e.date BETWEEN ?6 AND ?7) &quot;\n            + &quot;ORDER BY e.date ASC&quot;)\n    List&lt;SocialEvent&gt; filter16Main(\n            List&lt;MultiPropValue&gt; eventTypes,\n            List&lt;MultiPropValue&gt; areas, List&lt;MultiPropValue&gt; jewLvlKeep,\n            int fromAge, int toAge,\n            Date from, Date to);\n\n    static List&lt;Long&gt; extractIds(List&lt;MultiPropValue&gt; values) {\n        return values.stream().map(MultiPropValue::getConnectedValuesIds)\n                .flatMap(Collection::stream)\n                .collect(Collectors.toList());\n    }\n}\n\n</code></pre>\n<p>However, I would recommend to <a href=\"https://stackoverflow.com/a/75572804/3426309\">move to Criteria API</a></p>\n"}],"owner":{"account_id":13483389,"reputation":497,"user_id":9727918,"display_name":"lingar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679055099,"creation_date":1678806736,"question_id":75735006,"body_markdown":"\r\nToday I Have this filter. It&#39;s working. \r\n\r\n    @Query(value =  &quot;SELECT DISTINCT e from SocialEvent e &quot;\r\n\t\t\t+ &quot;join e.multiPropsValuesSet m &quot;\r\n\t\t\t+ &quot;WHERE ( &quot;\r\n\t\t\t+ &quot;((m in ?1   OR COALESCE(?1, NULL) is null )&quot;\t\t\r\n\t\t\t+&quot;)&quot;\r\n\t\t\t+&quot; AND  (COALESCE(?2, NULL) is null  OR m in ?2 ) &quot;\r\n\t\t\t+ &quot;AND  (COALESCE(?3, NULL) is null  OR m in ?3 ) &quot;\r\n\t\t\t+ &quot;) &quot;\r\n\t\t\t+ &quot;AND &quot;\r\n\t\t\t+ &quot;((e.fromAge BETWEEN ?4 AND ?5) &quot;\r\n\t\t\t+ &quot;OR (e.toAge BETWEEN ?4 AND ?5)&quot;\r\n\t\t\t+ &quot;OR (?4 BETWEEN e.fromAge AND e.toAge )) &quot;\r\n\t\t\t+ &quot;AND (e.date BETWEEN ?6 AND ?7) &quot;\r\n\t\t\t+ &quot;ORDER BY e.date ASC&quot;   /*, nativeQuery=true - cause errror*/)\r\n\tList&lt;SocialEvent&gt; filter16Main(\r\n\t\t\tList &lt;MultiPropValue&gt; eventTypes,\r\n\t\t\tList &lt;MultiPropValue&gt; areas, List &lt;MultiPropValue&gt; jewLvlKeep,\r\n\t\t\tint fromAge, int toAge,\r\n\t\t\tDate from , Date to);\r\n\t\r\n\r\n\r\nThe List &lt;MultiPropValue&gt; eventTypes, Represent a set (list) of some objects. \r\n\r\nEach MultiPropValue have a connectedValuesIds that is List&lt;Long&gt;. \r\n\r\n**I want to add to the query a condition that will search inside of each item of connected values.**\r\n\r\n**For example I want to add this:** \r\n\r\n\r\n    @Query(value =  &quot;SELECT DISTINCT e from SocialEvent e &quot;\r\n    \t\t\t+ &quot;join e.multiPropsValuesSet m &quot;\r\n    \t\t\t+ &quot;WHERE ( &quot;\r\n    \t\t\t+ &quot;((&quot;\r\n    \t\t\t+ &quot;(m in ?1   OR COALESCE(?1, NULL) is null )&quot;\r\n    \t\t\t+ &quot; OR &quot;\r\n    \t\t\t+ &quot;(m.id in ?1.connectedValuesIds ) &quot;\t//---&gt;new condition. \t\r\n    \t\t\t+&quot;)&quot;\r\n    \t\t\t+&quot; AND  (COALESCE(?2, NULL) is null  OR m in ?2 ) &quot;\r\n    \t\t\t+ &quot;AND  (COALESCE(?3, NULL) is null  OR m in ?3 ) &quot;\r\n    \t\t\t+ &quot;) &quot;\r\n    \t\t\t+ &quot;AND &quot;\r\n    \t\t\t+ &quot;((e.fromAge BETWEEN ?4 AND ?5) &quot;\r\n    \t\t\t+ &quot;OR (e.toAge BETWEEN ?4 AND ?5)&quot;\r\n    \t\t\t+ &quot;OR (?4 BETWEEN e.fromAge AND e.toAge )) &quot;\r\n    \t\t\t+ &quot;AND (e.date BETWEEN ?6 AND ?7) &quot;\r\n    \t\t\t+ &quot;ORDER BY e.date ASC&quot;   /*, nativeQuery=true - cause errror*/)\r\n    \tList&lt;SocialEvent&gt; filter16Main(\r\n    \t\t\tList &lt;MultiPropValue&gt; eventTypes,\r\n    \t\t\tList &lt;MultiPropValue&gt; areas, List &lt;MultiPropValue&gt; jewLvlKeep,\r\n    \t\t\tint fromAge, int toAge,\r\n    \t\t\tDate from , Date to);\r\n\t\r\nI know that the steps that I need is: \r\n\r\n 1. Get all the connectedValuesIds from the set items. \r\n 2. Check if m.id is found there. \r\n\r\n**In other words - I want to check some props of the inner elements of the set**\r\n\r\nThe above code generates this error, when starting up the app: \r\n\r\n\r\n    Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: 1. near line 1, column 178 [SELECT DISTINCT e from com.lingar.SocialEvents.socialEvent.entities.SocialEvent e join e.multiPropsValuesSet m WHERE ( (((m in ?1   OR COALESCE(?1, NULL) is null ) OR (m.id in ?1.connectedValuesIds ) ) AND  (COALESCE(?2, NULL) is null  OR m in ?2 ) AND  (COALESCE(?3, NULL) is null  OR m in ?3 ) ) AND ((e.fromAge BETWEEN ?4 AND ?5) OR (e.toAge BETWEEN ?4 AND ?5)OR (?4 BETWEEN e.fromAge AND e.toAge )) AND (e.date BETWEEN ?6 AND ?7) ORDER BY e.date ASC]\r\n\r\nI have tried many things and have googled it a lot. \r\n\r\nI prefer not to make a major changes in the exist query. \r\n\r\n\r\n**What is the correct way to achieve it in simple way?** \r\n\r\nOther related code: \r\n\r\n**The entity:**\r\n\r\n\r\n    public class SocialEvent {\r\n    \t\r\n    \t\r\n    \t//...\r\n    \t@ManyToMany\r\n    \t@CollectionTable(name=&quot;social_events_multi_values&quot;)\r\n    \tprivate Set&lt;MultiPropValue&gt; multiPropsValuesSet = new HashSet&lt;MultiPropValue&gt;();\r\n\r\n**Parent of MultiPropValue:**\r\n\r\n    @Data\r\n    @MappedSuperclass\r\n        public abstract class TextPiece {\r\n        //...\r\n        @ElementCollection\r\n        \t@CollectionTable\t\r\n        \tprivate List&lt;Long&gt; connectedValuesIds = new ArrayList&lt;&gt;();\r\n     }\r\n\r\n    \t\r\n**MultiPropValue:**\r\n\r\n    public class MultiPropValue extends TextPiece{\r\n    \tprivate @Id \r\n    //...\r\n    }\r\n\r\n","title":"JPA HQL Query - how to check some value of inner elements of the array","body":"<p>Today I Have this filter. It's working.</p>\n<pre><code>@Query(value =  &quot;SELECT DISTINCT e from SocialEvent e &quot;\n        + &quot;join e.multiPropsValuesSet m &quot;\n        + &quot;WHERE ( &quot;\n        + &quot;((m in ?1   OR COALESCE(?1, NULL) is null )&quot;     \n        +&quot;)&quot;\n        +&quot; AND  (COALESCE(?2, NULL) is null  OR m in ?2 ) &quot;\n        + &quot;AND  (COALESCE(?3, NULL) is null  OR m in ?3 ) &quot;\n        + &quot;) &quot;\n        + &quot;AND &quot;\n        + &quot;((e.fromAge BETWEEN ?4 AND ?5) &quot;\n        + &quot;OR (e.toAge BETWEEN ?4 AND ?5)&quot;\n        + &quot;OR (?4 BETWEEN e.fromAge AND e.toAge )) &quot;\n        + &quot;AND (e.date BETWEEN ?6 AND ?7) &quot;\n        + &quot;ORDER BY e.date ASC&quot;   /*, nativeQuery=true - cause errror*/)\nList&lt;SocialEvent&gt; filter16Main(\n        List &lt;MultiPropValue&gt; eventTypes,\n        List &lt;MultiPropValue&gt; areas, List &lt;MultiPropValue&gt; jewLvlKeep,\n        int fromAge, int toAge,\n        Date from , Date to);\n</code></pre>\n<p>The List  eventTypes, Represent a set (list) of some objects.</p>\n<p>Each MultiPropValue have a connectedValuesIds that is List.</p>\n<p><strong>I want to add to the query a condition that will search inside of each item of connected values.</strong></p>\n<p><strong>For example I want to add this:</strong></p>\n<pre><code>@Query(value =  &quot;SELECT DISTINCT e from SocialEvent e &quot;\n            + &quot;join e.multiPropsValuesSet m &quot;\n            + &quot;WHERE ( &quot;\n            + &quot;((&quot;\n            + &quot;(m in ?1   OR COALESCE(?1, NULL) is null )&quot;\n            + &quot; OR &quot;\n            + &quot;(m.id in ?1.connectedValuesIds ) &quot;   //---&gt;new condition.    \n            +&quot;)&quot;\n            +&quot; AND  (COALESCE(?2, NULL) is null  OR m in ?2 ) &quot;\n            + &quot;AND  (COALESCE(?3, NULL) is null  OR m in ?3 ) &quot;\n            + &quot;) &quot;\n            + &quot;AND &quot;\n            + &quot;((e.fromAge BETWEEN ?4 AND ?5) &quot;\n            + &quot;OR (e.toAge BETWEEN ?4 AND ?5)&quot;\n            + &quot;OR (?4 BETWEEN e.fromAge AND e.toAge )) &quot;\n            + &quot;AND (e.date BETWEEN ?6 AND ?7) &quot;\n            + &quot;ORDER BY e.date ASC&quot;   /*, nativeQuery=true - cause errror*/)\n    List&lt;SocialEvent&gt; filter16Main(\n            List &lt;MultiPropValue&gt; eventTypes,\n            List &lt;MultiPropValue&gt; areas, List &lt;MultiPropValue&gt; jewLvlKeep,\n            int fromAge, int toAge,\n            Date from , Date to);\n</code></pre>\n<p>I know that the steps that I need is:</p>\n<ol>\n<li>Get all the connectedValuesIds from the set items.</li>\n<li>Check if m.id is found there.</li>\n</ol>\n<p><strong>In other words - I want to check some props of the inner elements of the set</strong></p>\n<p>The above code generates this error, when starting up the app:</p>\n<pre><code>Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: 1. near line 1, column 178 [SELECT DISTINCT e from com.lingar.SocialEvents.socialEvent.entities.SocialEvent e join e.multiPropsValuesSet m WHERE ( (((m in ?1   OR COALESCE(?1, NULL) is null ) OR (m.id in ?1.connectedValuesIds ) ) AND  (COALESCE(?2, NULL) is null  OR m in ?2 ) AND  (COALESCE(?3, NULL) is null  OR m in ?3 ) ) AND ((e.fromAge BETWEEN ?4 AND ?5) OR (e.toAge BETWEEN ?4 AND ?5)OR (?4 BETWEEN e.fromAge AND e.toAge )) AND (e.date BETWEEN ?6 AND ?7) ORDER BY e.date ASC]\n</code></pre>\n<p>I have tried many things and have googled it a lot.</p>\n<p>I prefer not to make a major changes in the exist query.</p>\n<p><strong>What is the correct way to achieve it in simple way?</strong></p>\n<p>Other related code:</p>\n<p><strong>The entity:</strong></p>\n<pre><code>public class SocialEvent {\n    \n    \n    //...\n    @ManyToMany\n    @CollectionTable(name=&quot;social_events_multi_values&quot;)\n    private Set&lt;MultiPropValue&gt; multiPropsValuesSet = new HashSet&lt;MultiPropValue&gt;();\n</code></pre>\n<p><strong>Parent of MultiPropValue:</strong></p>\n<pre><code>@Data\n@MappedSuperclass\n    public abstract class TextPiece {\n    //...\n    @ElementCollection\n        @CollectionTable    \n        private List&lt;Long&gt; connectedValuesIds = new ArrayList&lt;&gt;();\n }\n\n    \n</code></pre>\n<p><strong>MultiPropValue:</strong></p>\n<pre><code>public class MultiPropValue extends TextPiece{\n    private @Id \n//...\n}\n</code></pre>\n"},{"tags":["java","android","datetime"],"comments":[{"owner":{"account_id":56124,"reputation":7256,"user_id":2506382,"accept_rate":67,"display_name":"dcsohl"},"score":1,"creation_date":1479310057,"post_id":40635252,"comment_id":68504114,"body_markdown":"Your second number isn&#39;t *just* three digits shorter; it&#39;s a different point in time. Specifically, it is midnight (`GMT: Wed, 23 Nov 2016 00:00:00 GMT`) of the date in which your first timestamp fell. Is this intentional? Are you asking how to get the timestamp for midnight, or are you just asking how to divide by 1000?","body":"Your second number isn&#39;t <i>just</i> three digits shorter; it&#39;s a different point in time. Specifically, it is midnight (<code>GMT: Wed, 23 Nov 2016 00:00:00 GMT</code>) of the date in which your first timestamp fell. Is this intentional? Are you asking how to get the timestamp for midnight, or are you just asking how to divide by 1000?"}],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679055044,"creation_date":1479308391,"answer_id":40635335,"question_id":40635252,"body_markdown":"divide by 1000 to get secs? linked site is recognizing &quot;long&quot; (milisecs) timestamps and shows: **Assuming that this timestamp is in milliseconds**, then calculates after /1000 division, so both 1479859200 and 1479859200000 are same date on this site\r\n\r\nnote that your examples are 1479912701805 and 1479859200 - same date only, but not hour/min/secs. if you divide &quot;long&quot; one /1000 you won&#39;t get second one\r\n\r\nthere is also method:\r\n\r\n    long timeMillis = 1479859200000;\r\n    long timeSecs = TimeUnit.MILLISECONDS.toSeconds(timeMillis);\r\n\r\nwhich is of course dividing by 1000, but you may find other `TimeUnit` methods useful","title":"Convert long Timestamp to shorter Timestamp","body":"<p>divide by 1000 to get secs? linked site is recognizing &quot;long&quot; (milisecs) timestamps and shows: <strong>Assuming that this timestamp is in milliseconds</strong>, then calculates after /1000 division, so both 1479859200 and 1479859200000 are same date on this site</p>\n<p>note that your examples are 1479912701805 and 1479859200 - same date only, but not hour/min/secs. if you divide &quot;long&quot; one /1000 you won't get second one</p>\n<p>there is also method:</p>\n<pre><code>long timeMillis = 1479859200000;\nlong timeSecs = TimeUnit.MILLISECONDS.toSeconds(timeMillis);\n</code></pre>\n<p>which is of course dividing by 1000, but you may find other <code>TimeUnit</code> methods useful</p>\n"},{"tags":[],"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1479373145,"creation_date":1479372669,"answer_id":40650321,"question_id":40635252,"body_markdown":"From your data in example, you need to remove hours, minute and seconds from \r\nthe value first. Using the `%` will be enough.\r\n\r\nRemove the remainder of the number of milliseconds of a day from this value.\r\n\r\n        l -= l% (1000*60*60*24);\r\n\r\n\r\nA small example :\r\n\r\n        long l = 1479912701805l;\r\n        Calendar c = Calendar.getInstance();\r\n        c.setTimeInMillis(l);\r\n        System.out.println(c.getTime());\r\n        l -= l% (1000*60*60*24);\r\n        c.setTimeInMillis(l);\r\n        System.out.println(c.getTime());\r\n&gt; Wed Nov 23 15:51:41 CET 2016\r\n&gt;\r\nWed Nov 23 01:00:00 CET 2016\r\n\r\nPS : The remaining hours is the time zone ;)\r\n\r\n&gt; 1479912701805\r\n&gt; \r\n1479859200000\r\n\r\nThen, just divide this by 1000 to remove the 3 first digit","title":"Convert long Timestamp to shorter Timestamp","body":"<p>From your data in example, you need to remove hours, minute and seconds from \nthe value first. Using the <code>%</code> will be enough.</p>\n\n<p>Remove the remainder of the number of milliseconds of a day from this value.</p>\n\n<pre><code>    l -= l% (1000*60*60*24);\n</code></pre>\n\n<p>A small example :</p>\n\n<pre><code>    long l = 1479912701805l;\n    Calendar c = Calendar.getInstance();\n    c.setTimeInMillis(l);\n    System.out.println(c.getTime());\n    l -= l% (1000*60*60*24);\n    c.setTimeInMillis(l);\n    System.out.println(c.getTime());\n</code></pre>\n\n<blockquote>\n  <p>Wed Nov 23 15:51:41 CET 2016</p>\n  \n  <p>Wed Nov 23 01:00:00 CET 2016</p>\n</blockquote>\n\n<p>PS : The remaining hours is the time zone ;)</p>\n\n<blockquote>\n  <p>1479912701805</p>\n  \n  <p>1479859200000</p>\n</blockquote>\n\n<p>Then, just divide this by 1000 to remove the 3 first digit</p>\n"}],"owner":{"display_name":"user6038288"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3462,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40650321,"answer_count":2,"score":0,"last_activity_date":1679055044,"creation_date":1479308176,"question_id":40635252,"body_markdown":"I have a Timestamp in this format: 1479912701805\r\n\r\nIf you check on \r\nhttp://www.epochconverter.com/ you can see that date is \r\n\r\n    GMT: Wed, 23 Nov 2016 14:51:41.805 GMT\r\n\r\n\r\nNow I need to shorten that long to \r\n1479859200 which is 3 number shorter, I guess milisecs","title":"Convert long Timestamp to shorter Timestamp","body":"<p>I have a Timestamp in this format: 1479912701805</p>\n\n<p>If you check on \n<a href=\"http://www.epochconverter.com/\" rel=\"nofollow noreferrer\">http://www.epochconverter.com/</a> you can see that date is </p>\n\n<pre><code>GMT: Wed, 23 Nov 2016 14:51:41.805 GMT\n</code></pre>\n\n<p>Now I need to shorten that long to \n1479859200 which is 3 number shorter, I guess milisecs</p>\n"},{"tags":["java","arrays","java-stream","elementwise-operations"],"answers":[{"tags":[],"owner":{"account_id":1595031,"reputation":1442,"user_id":1477418,"display_name":"Islam Elbanna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679054762,"creation_date":1679052919,"answer_id":75767128,"question_id":75724474,"body_markdown":"Given that all arrays are of the same size, then you can use `IntStream`\r\n\r\n```java\r\nint[] result = IntStream\r\n        .range(0, listOfObjects.get(0).ArrayOfInts.length) // All are of the same size\r\n        .map(index -&gt; listOfObjects.stream().mapToInt(a -&gt; a.ArrayOfInts[index]).sum())\r\n        .toArray();\r\n```\r\n\r\n```\r\n[3, 3, 3]\r\n```","title":"How can I do an element-wise sum of several arrays in Java inside a stream?","body":"<p>Given that all arrays are of the same size, then you can use <code>IntStream</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] result = IntStream\n        .range(0, listOfObjects.get(0).ArrayOfInts.length) // All are of the same size\n        .map(index -&gt; listOfObjects.stream().mapToInt(a -&gt; a.ArrayOfInts[index]).sum())\n        .toArray();\n</code></pre>\n<pre><code>[3, 3, 3]\n</code></pre>\n"}],"owner":{"account_id":10171836,"reputation":314,"user_id":7511889,"display_name":"Rayamon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75767128,"answer_count":1,"score":0,"last_activity_date":1679054762,"creation_date":1678724624,"question_id":75724474,"body_markdown":"I want to stream a list of objects, each of which contain a series of integers of the same size. Then I want to do an element-wise sum of all the lists, reulting into a single list of the same size. It should be something like this...\r\n\r\nExample:\r\n\r\n    Object object1;\r\n    ArrayList&lt;int&gt; array1 = Arrays.asList(1, 1, 1);\r\n    object1.ArrayOfInts = array1;\r\n\r\n    Object object2;\r\n    ArrayList&lt;int&gt; array2 = Arrays.asList(2, 2, 2);\r\n    object2.ArrayOfInts = array2; \r\n\r\n\r\n    ArrayList&lt;Object&gt; listOfObjects = Arrays.asList(object1, object2);\r\n\r\n\r\n    ArrayList&lt;Integer&gt; result = listOfObjects.stream().map(object -&gt; object.ArrayOfInts).sum(...\r\n\r\n&quot;result&quot; would be [3, 3, 3].\r\n\r\nAny ideas?\r\n\r\n    \r\n\r\n","title":"How can I do an element-wise sum of several arrays in Java inside a stream?","body":"<p>I want to stream a list of objects, each of which contain a series of integers of the same size. Then I want to do an element-wise sum of all the lists, reulting into a single list of the same size. It should be something like this...</p>\n<p>Example:</p>\n<pre><code>Object object1;\nArrayList&lt;int&gt; array1 = Arrays.asList(1, 1, 1);\nobject1.ArrayOfInts = array1;\n\nObject object2;\nArrayList&lt;int&gt; array2 = Arrays.asList(2, 2, 2);\nobject2.ArrayOfInts = array2; \n\n\nArrayList&lt;Object&gt; listOfObjects = Arrays.asList(object1, object2);\n\n\nArrayList&lt;Integer&gt; result = listOfObjects.stream().map(object -&gt; object.ArrayOfInts).sum(...\n</code></pre>\n<p>&quot;result&quot; would be [3, 3, 3].</p>\n<p>Any ideas?</p>\n"},{"tags":["java","selenium-webdriver","cucumber","pom.xml","extentreports"],"comments":[{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":0,"creation_date":1679054271,"post_id":75601786,"comment_id":133656203,"body_markdown":"can you provide more code as to how you are assigning Category to the test","body":"can you provide more code as to how you are assigning Category to the test"}],"answers":[{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679054391,"creation_date":1679054391,"answer_id":75767359,"question_id":75601786,"body_markdown":"You should provide more code example as to how you are assigning Category to the test\r\nExtentTest Class has a assignCategory() which accepts a String array in which you would be passing your categories which are then shown in the report, can you check this in your code and then only pass the Category that you need","title":"How to remove cucumber tags from extent report","body":"<p>You should provide more code example as to how you are assigning Category to the test\nExtentTest Class has a assignCategory() which accepts a String array in which you would be passing your categories which are then shown in the report, can you check this in your code and then only pass the Category that you need</p>\n"}],"owner":{"account_id":23440156,"reputation":21,"user_id":17497769,"display_name":"shrusns49"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679054391,"creation_date":1677663039,"question_id":75601786,"body_markdown":"Few of my tcs in cucumber feature file are having multiple tags like @smoke, @regression, @homePage, @e2e.What Im trying to achieve is when I trigger tcs based on smoke tag and after extent report is generated, all the above tags are present in extent report. How to achieve only one tag.\r\n\r\nOnly one tag in which we have triggered the tc like in here smoke tag\r\nInstead of all 4 tags","title":"How to remove cucumber tags from extent report","body":"<p>Few of my tcs in cucumber feature file are having multiple tags like @smoke, @regression, @homePage, @e2e.What Im trying to achieve is when I trigger tcs based on smoke tag and after extent report is generated, all the above tags are present in extent report. How to achieve only one tag.</p>\n<p>Only one tag in which we have triggered the tc like in here smoke tag\nInstead of all 4 tags</p>\n"},{"tags":["java","image","android-studio","menu","google-signin"],"owner":{"account_id":23395252,"reputation":5,"user_id":17459382,"display_name":"Francesco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679054036,"creation_date":1679054036,"question_id":75767312,"body_markdown":"After the user logs in I want to load his photo in a menu item for a menu i created in an action bar above. I can&#39;t seem to get this right.\r\n\r\nI tried\r\n```\r\n@Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n\r\n        // Inflate the main_menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.main_menu, menu);\r\n        \r\n        MenuItem googleItem = menu.findItem(R.id.googleimg);\r\n\r\n        Uri personPhotoUrl = currUser.getPhotoUrl();\r\n\r\n        Glide.with((this).getApplicationContext())\r\n                .load(personPhotoUrl)\r\n                .thumbnail(0.5f)\r\n                .crossFade()\r\n                .diskCacheStrategy(DiskCacheStrategy.ALL)\r\n                .into((ImageView)googleItem.getActionView());\r\n\r\n        return super.onCreateOptionsMenu(menu);\r\n    }\r\n```\r\nbut it doesnt work and crashes the app.\r\nOr I tried\r\n```\r\n@Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n\r\n\r\n        // Inflate the main_menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.main_menu, menu);\r\n        \r\n        MenuItem googleItem = menu.findItem(R.id.googleimg);\r\n        ImageView imageView = new ImageView(this);\r\n        imageView.setMaxHeight(10);\r\n        imageView.setMaxWidth(10);\r\n\r\n        Uri personPhotoUrl = currUser.getPhotoUrl();\r\n\r\n        Glide.with((this).getApplicationContext())\r\n                .load(personPhotoUrl)\r\n                .thumbnail(0.5f)\r\n                .crossFade()\r\n                .diskCacheStrategy(DiskCacheStrategy.ALL)\r\n                .into(imageView);\r\n\r\n        googleItem.setActionView(imageView);\r\n\r\n        return super.onCreateOptionsMenu(menu);\r\n    }\r\n```\r\nbut it&#39;s not what i want to do.\r\nHow can I show google photo in the menu item?\r\n","title":"Load google photo url in menu item, android studio","body":"<p>After the user logs in I want to load his photo in a menu item for a menu i created in an action bar above. I can't seem to get this right.</p>\n<p>I tried</p>\n<pre><code>@Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n\n        // Inflate the main_menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.main_menu, menu);\n        \n        MenuItem googleItem = menu.findItem(R.id.googleimg);\n\n        Uri personPhotoUrl = currUser.getPhotoUrl();\n\n        Glide.with((this).getApplicationContext())\n                .load(personPhotoUrl)\n                .thumbnail(0.5f)\n                .crossFade()\n                .diskCacheStrategy(DiskCacheStrategy.ALL)\n                .into((ImageView)googleItem.getActionView());\n\n        return super.onCreateOptionsMenu(menu);\n    }\n</code></pre>\n<p>but it doesnt work and crashes the app.\nOr I tried</p>\n<pre><code>@Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n\n\n        // Inflate the main_menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.main_menu, menu);\n        \n        MenuItem googleItem = menu.findItem(R.id.googleimg);\n        ImageView imageView = new ImageView(this);\n        imageView.setMaxHeight(10);\n        imageView.setMaxWidth(10);\n\n        Uri personPhotoUrl = currUser.getPhotoUrl();\n\n        Glide.with((this).getApplicationContext())\n                .load(personPhotoUrl)\n                .thumbnail(0.5f)\n                .crossFade()\n                .diskCacheStrategy(DiskCacheStrategy.ALL)\n                .into(imageView);\n\n        googleItem.setActionView(imageView);\n\n        return super.onCreateOptionsMenu(menu);\n    }\n</code></pre>\n<p>but it's not what i want to do.\nHow can I show google photo in the menu item?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1679043764,"post_id":75765318,"comment_id":133653647,"body_markdown":"Does this help? https://stackoverflow.com/questions/29431697/java-i-o-simulate-input-for-system-console","body":"Does this help? <a href=\"https://stackoverflow.com/questions/29431697/java-i-o-simulate-input-for-system-console\" title=\"java i o simulate input for system console\">stackoverflow.com/questions/29431697/&hellip;</a>"},{"owner":{"account_id":6128339,"reputation":4087,"user_id":4779472,"accept_rate":89,"display_name":"Rohit Gupta"},"score":0,"creation_date":1679514213,"post_id":75765318,"comment_id":133737623,"body_markdown":"Why not compile it differently for unit testing?  Perhaps read from the environment or a file, in this situation.","body":"Why not compile it differently for unit testing?  Perhaps read from the environment or a file, in this situation."}],"answers":[{"tags":[],"owner":{"account_id":28041624,"reputation":106,"user_id":21419095,"display_name":"Petra Minaler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679053446,"creation_date":1679053446,"answer_id":75767225,"question_id":75765318,"body_markdown":"If you don&#39;t care if the password is visible when you run your code in the IDE or during unit tests, then the [Console with Fallback][1] library may be a sufficient solution for you. If the environment provides a console (in the command line), this is used. If the environment does not provide a console (unit tests), a fallback based on `System.out` and `System.in` is used.\r\n\r\n  [1]: https://codeberg.org/marc.nause/console-with-fallback","title":"system.console readPassword throws null pointer exception during junit test","body":"<p>If you don't care if the password is visible when you run your code in the IDE or during unit tests, then the <a href=\"https://codeberg.org/marc.nause/console-with-fallback\" rel=\"nofollow noreferrer\">Console with Fallback</a> library may be a sufficient solution for you. If the environment provides a console (in the command line), this is used. If the environment does not provide a console (unit tests), a fallback based on <code>System.out</code> and <code>System.in</code> is used.</p>\n"}],"owner":{"account_id":16438960,"reputation":21,"user_id":11875847,"display_name":"kmat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679053446,"creation_date":1679042078,"question_id":75765318,"body_markdown":"I am using `System.console` and `readPassword()` method to read password from the user. The problem is that I cannot really initialize `System.console` object when running from IntelliJ (in my case it throws `NullPointerException` during JUnit tests). How should I approach that problem? I&#39;ve seen that people are using `Scanner` or `BufferedReader` to overcome that problem, but neither of these two can not nicely hide entered password like `readPassword()`. Generally speaking my program is intended to run from command line (JAR) and it does nicely but these unit tests are failing from IntelliJ.","title":"system.console readPassword throws null pointer exception during junit test","body":"<p>I am using <code>System.console</code> and <code>readPassword()</code> method to read password from the user. The problem is that I cannot really initialize <code>System.console</code> object when running from IntelliJ (in my case it throws <code>NullPointerException</code> during JUnit tests). How should I approach that problem? I've seen that people are using <code>Scanner</code> or <code>BufferedReader</code> to overcome that problem, but neither of these two can not nicely hide entered password like <code>readPassword()</code>. Generally speaking my program is intended to run from command line (JAR) and it does nicely but these unit tests are failing from IntelliJ.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1621664605,"post_id":67643441,"comment_id":119568495,"body_markdown":"What errors do you get with `java -jar`?","body":"What errors do you get with <code>java -jar</code>?"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1621718506,"post_id":67643441,"comment_id":119581949,"body_markdown":"Also, aren&#39;t you getting the final cmdline string in the console? Post your `build.gradle`, we&#39;ll try to help","body":"Also, aren&#39;t you getting the final cmdline string in the console? Post your <code>build.gradle</code>, we&#39;ll try to help"}],"answers":[{"tags":[],"owner":{"account_id":371244,"reputation":443,"user_id":17825391,"display_name":"user213769"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679053408,"creation_date":1679053408,"answer_id":75767221,"question_id":67643441,"body_markdown":"This usually happens when you have a mismatch of versions of kotlinx-serialization (and also possibly main kotlin) in your project vs your dependencies. Verify with `gradle depencencies` etc., and bump the versions to the newest whenever possible. It fixed the problem for me.","title":"gradlew bootRun vs java -jar","body":"<p>This usually happens when you have a mismatch of versions of kotlinx-serialization (and also possibly main kotlin) in your project vs your dependencies. Verify with <code>gradle depencencies</code> etc., and bump the versions to the newest whenever possible. It fixed the problem for me.</p>\n"}],"owner":{"account_id":2363632,"reputation":26969,"user_id":2069812,"accept_rate":64,"display_name":"Jeef"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679053408,"creation_date":1621628534,"question_id":67643441,"body_markdown":"I&#39;ve got into a situation where running\r\n\r\n`./gradlew bootRun`\r\n\r\ngives me a successful run but if I try:\r\n\r\n`./gradlew bootJar &amp;&amp; java -jar ./build/libs/xxxx.jar` I get errors\r\n\r\nIt launches the jar each time but I&#39;m assuming `bootRun` is adding some set of extra params/env/properties etc.\r\n\r\nIs there a way to figure out what ever the &quot;extra stuff&quot; bootRun is doing in order to make it so that I can call `java -jar` with the same env?\r\n\r\nThanks\r\n\r\n\r\n## Actual Errors\r\n\r\nI&#39;m getting some wacky errors (see below) that I was only getting under the `java -jar` condition in some cases .. sometimes it was both - so I was trying to figure out the differences\r\n\r\n\r\n```\r\n2021-05-23 11:37:23.725  INFO 21111 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2021-05-23 11:37:23.735  INFO 21111 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2021-05-23 11:37:23.735  INFO 21111 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.45]\r\n2021-05-23 11:37:23.798  INFO 21111 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2021-05-23 11:37:23.799  INFO 21111 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1713 ms\r\n2021-05-23 11:37:24.184  INFO 21111 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService\r\n2021-05-23 11:37:24.185  INFO 21111 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;taskExecutor&#39;\r\n2021-05-23 11:37:24.349  WARN 21111 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;requestMappingHandlerAdapter&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Factory method &#39;requestMappingHandlerAdapter&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;messageConverters&#39; defined in class path resource [org/springframework/boot/autoconfigure/http/HttpMessageConvertersAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.http.HttpMessageConverters]: Factory method &#39;messageConverters&#39; threw exception; nested exception is java.lang.VerifyError: Bad type on operand stack\r\nException Details:\r\n  Location:\r\n    org/springframework/http/converter/json/KotlinSerializationJsonHttpMessageConverter.&lt;init&gt;()V @4: invokespecial\r\n  Reason:\r\n    Type &#39;kotlinx/serialization/json/Json$Default&#39; (current frame, stack[1]) is not assignable to &#39;kotlinx/serialization/json/Json&#39;\r\n  Current Frame:\r\n    bci: @4\r\n    flags: { flagThisUninit }\r\n    locals: { uninitializedThis }\r\n    stack: { uninitializedThis, &#39;kotlinx/serialization/json/Json$Default&#39; }\r\n  Bytecode:\r\n    0000000: 2ab2 0001 b700 02b1\r\n\r\n2021-05-23 11:37:24.350  INFO 21111 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService &#39;taskExecutor&#39;\r\n2021-05-23 11:37:24.353  INFO 21111 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2021-05-23 11:37:24.369  INFO 21111 --- [           main] ConditionEvaluationReportLoggingListener :\r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2021-05-23 11:37:24.386 ERROR 21111 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;requestMappingHandlerAdapter&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Factory method &#39;requestMappingHandlerAdapter&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;messageConverters&#39; defined in class path resource [org/springframework/boot/autoconfigure/http/HttpMessageConvertersAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.http.HttpMessageConverters]: Factory method &#39;messageConverters&#39; threw exception; nested exception is java.lang.VerifyError: Bad type on operand stack\r\nException Details:\r\n  Location:\r\n    org/springframework/http/converter/json/KotlinSerializationJsonHttpMessageConverter.&lt;init&gt;()V @4: invokespecial\r\n  Reason:\r\n    Type &#39;kotlinx/serialization/json/Json$Default&#39; (current frame, stack[1]) is not assignable to &#39;kotlinx/serialization/json/Json&#39;\r\n  Current Frame:\r\n    bci: @4\r\n    flags: { flagThisUninit }\r\n    locals: { uninitializedThis }\r\n    stack: { uninitializedThis, &#39;kotlinx/serialization/json/Json$Default&#39; }\r\n  Bytecode:\r\n    0000000: 2ab2 0001 b700 02b1\r\n\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.6.jar:5.3.6]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.6.jar:5.3.6]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.5.jar:2.4.5]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:782) ~[spring-boot-2.4.5.jar:2.4.5]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:774) ~[spring-boot-2.4.5.jar:2.4.5]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-2.4.5.jar:2.4.5]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:339) ~[spring-boot-2.4.5.jar:2.4.5]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1340) ~[spring-boot-2.4.5.jar:2.4.5]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1329) ~[spring-boot-2.4.5.jar:2.4.5]\r\n        at org.mitre.abcd.tmi.translator.TmiTranslatorApplication$Companion.main(TmiTranslatorApplication.kt:36) ~[main/:na]\r\n        at org.mitre.abcd.tmi.translator.TmiTranslatorApplication.main(TmiTranslatorApplication.kt) ~[main/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Factory method &#39;requestMappingHandlerAdapter&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;messageConverters&#39; defined in class path resource [org/springframework/boot/autoconfigure/http/HttpMessageConvertersAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.http.HttpMessageConverters]: Factory method &#39;messageConverters&#39; threw exception; nested exception is java.lang.VerifyError: Bad type on operand stack\r\nException Details:\r\n  Location:\r\n    org/springframework/http/converter/json/KotlinSerializationJsonHttpMessageConverter.&lt;init&gt;()V @4: invokespecial\r\n  Reason:\r\n    Type &#39;kotlinx/serialization/json/Json$Default&#39; (current frame, stack[1]) is not assignable to &#39;kotlinx/serialization/json/Json&#39;\r\n  Current Frame:\r\n    bci: @4\r\n    flags: { flagThisUninit }\r\n    locals: { uninitializedThis }\r\n    stack: { uninitializedThis, &#39;kotlinx/serialization/json/Json$Default&#39; }\r\n  Bytecode:\r\n    0000000: 2ab2 0001 b700 02b1\r\n\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        ... 21 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;messageConverters&#39; defined in class path resource [org/springframework/boot/autoconfigure/http/HttpMessageConvertersAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.http.HttpMessageConverters]: Factory method &#39;messageConverters&#39; threw exception; nested exception is java.lang.VerifyError: Bad type on operand stack\r\nException Details:\r\n  Location:\r\n    org/springframework/http/converter/json/KotlinSerializationJsonHttpMessageConverter.&lt;init&gt;()V @4: invokespecial\r\n  Reason:\r\n    Type &#39;kotlinx/serialization/json/Json$Default&#39; (current frame, stack[1]) is not assignable to &#39;kotlinx/serialization/json/Json&#39;\r\n  Current Frame:\r\n    bci: @4\r\n    flags: { flagThisUninit }\r\n    locals: { uninitializedThis }\r\n    stack: { uninitializedThis, &#39;kotlinx/serialization/json/Json$Default&#39; }\r\n  Bytecode:\r\n    0000000: 2ab2 0001 b700 02b1\r\n\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfAvailable(DefaultListableBeanFactory.java:2021) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.ifAvailable(DefaultListableBeanFactory.java:2032) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.configureMessageConverters(WebMvcAutoConfiguration.java:216) ~[spring-boot-autoconfigure-2.4.5.jar:2.4.5]\r\n        at org.springframework.web.servlet.config.annotation.WebMvcConfigurerComposite.configureMessageConverters(WebMvcConfigurerComposite.java:137) ~[spring-webmvc-5.3.6.jar:5.3.6]\r\n        at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration.configureMessageConverters(DelegatingWebMvcConfiguration.java:118) ~[spring-webmvc-5.3.6.jar:5.3.6]\r\n        at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.getMessageConverters(WebMvcConfigurationSupport.java:863) ~[spring-webmvc-5.3.6.jar:5.3.6]\r\n        at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerAdapter(WebMvcConfigurationSupport.java:671) ~[spring-webmvc-5.3.6.jar:5.3.6]\r\n        at org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration.requestMappingHandlerAdapter(WebMvcAutoConfiguration.java:369) ~[spring-boot-autoconfigure-2.4.5.jar:2.4.5]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        ... 22 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.http.HttpMessageConverters]: Factory method &#39;messageConverters&#39; threw exception; nested exception is java.lang.VerifyError: Bad type on operand stack\r\nException Details:\r\n  Location:\r\n    org/springframework/http/converter/json/KotlinSerializationJsonHttpMessageConverter.&lt;init&gt;()V @4: invokespecial\r\n  Reason:\r\n    Type &#39;kotlinx/serialization/json/Json$Default&#39; (current frame, stack[1]) is not assignable to &#39;kotlinx/serialization/json/Json&#39;\r\n  Current Frame:\r\n    bci: @4\r\n    flags: { flagThisUninit }\r\n    locals: { uninitializedThis }\r\n    stack: { uninitializedThis, &#39;kotlinx/serialization/json/Json$Default&#39; }\r\n  Bytecode:\r\n    0000000: 2ab2 0001 b700 02b1\r\n\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        ... 46 common frames omitted\r\nCaused by: java.lang.VerifyError: Bad type on operand stack\r\nException Details:\r\n  Location:\r\n    org/springframework/http/converter/json/KotlinSerializationJsonHttpMessageConverter.&lt;init&gt;()V @4: invokespecial\r\n  Reason:\r\n    Type &#39;kotlinx/serialization/json/Json$Default&#39; (current frame, stack[1]) is not assignable to &#39;kotlinx/serialization/json/Json&#39;\r\n  Current Frame:\r\n    bci: @4\r\n    flags: { flagThisUninit }\r\n    locals: { uninitializedThis }\r\n    stack: { uninitializedThis, &#39;kotlinx/serialization/json/Json$Default&#39; }\r\n  Bytecode:\r\n    0000000: 2ab2 0001 b700 02b1\r\n\r\n        at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.addDefaultHttpMessageConverters(WebMvcConfigurationSupport.java:933) ~[spring-webmvc-5.3.6.jar:5.3.6]\r\n        at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.getMessageConverters(WebMvcConfigurationSupport.java:865) ~[spring-webmvc-5.3.6.jar:5.3.6]\r\n        at org.springframework.boot.autoconfigure.http.HttpMessageConverters$1.defaultMessageConverters(HttpMessageConverters.java:175) ~[spring-boot-autoconfigure-2.4.5.jar:2.4.5]\r\n        at org.springframework.boot.autoconfigure.http.HttpMessageConverters.getDefaultConverters(HttpMessageConverters.java:178) ~[spring-boot-autoconfigure-2.4.5.jar:2.4.5]\r\n        at org.springframework.boot.autoconfigure.http.HttpMessageConverters.&lt;init&gt;(HttpMessageConverters.java:102) ~[spring-boot-autoconfigure-2.4.5.jar:2.4.5]\r\n        at org.springframework.boot.autoconfigure.http.HttpMessageConverters.&lt;init&gt;(HttpMessageConverters.java:89) ~[spring-boot-autoconfigure-2.4.5.jar:2.4.5]\r\n        at org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration.messageConverters(HttpMessageConvertersAutoConfiguration.java:70) ~[spring-boot-autoconfigure-2.4.5.jar:2.4.5]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.6.jar:5.3.6]\r\n        ... 47 common frames omitted\r\n```","title":"gradlew bootRun vs java -jar","body":"<p>I've got into a situation where running</p>\n<p><code>./gradlew bootRun</code></p>\n<p>gives me a successful run but if I try:</p>\n<p><code>./gradlew bootJar &amp;&amp; java -jar ./build/libs/xxxx.jar</code> I get errors</p>\n<p>It launches the jar each time but I'm assuming <code>bootRun</code> is adding some set of extra params/env/properties etc.</p>\n<p>Is there a way to figure out what ever the &quot;extra stuff&quot; bootRun is doing in order to make it so that I can call <code>java -jar</code> with the same env?</p>\n<p>Thanks</p>\n<h2>Actual Errors</h2>\n<p>I'm getting some wacky errors (see below) that I was only getting under the <code>java -jar</code> condition in some cases .. sometimes it was both - so I was trying to figure out the differences</p>\n<pre><code>2021-05-23 11:37:23.725  INFO 21111 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2021-05-23 11:37:23.735  INFO 21111 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2021-05-23 11:37:23.735  INFO 21111 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.45]\n2021-05-23 11:37:23.798  INFO 21111 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2021-05-23 11:37:23.799  INFO 21111 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1713 ms\n2021-05-23 11:37:24.184  INFO 21111 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService\n2021-05-23 11:37:24.185  INFO 21111 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'taskExecutor'\n2021-05-23 11:37:24.349  WARN 21111 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerAdapter' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Factory method 'requestMappingHandlerAdapter' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'messageConverters' defined in class path resource [org/springframework/boot/autoconfigure/http/HttpMessageConvertersAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.http.HttpMessageConverters]: Factory method 'messageConverters' threw exception; nested exception is java.lang.VerifyError: Bad type on operand stack\nException Details:\n  Location:\n    org/springframework/http/converter/json/KotlinSerializationJsonHttpMessageConverter.&lt;init&gt;()V @4: invokespecial\n  Reason:\n    Type 'kotlinx/serialization/json/Json$Default' (current frame, stack[1]) is not assignable to 'kotlinx/serialization/json/Json'\n  Current Frame:\n    bci: @4\n    flags: { flagThisUninit }\n    locals: { uninitializedThis }\n    stack: { uninitializedThis, 'kotlinx/serialization/json/Json$Default' }\n  Bytecode:\n    0000000: 2ab2 0001 b700 02b1\n\n2021-05-23 11:37:24.350  INFO 21111 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'taskExecutor'\n2021-05-23 11:37:24.353  INFO 21111 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2021-05-23 11:37:24.369  INFO 21111 --- [           main] ConditionEvaluationReportLoggingListener :\n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2021-05-23 11:37:24.386 ERROR 21111 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerAdapter' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Factory method 'requestMappingHandlerAdapter' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'messageConverters' defined in class path resource [org/springframework/boot/autoconfigure/http/HttpMessageConvertersAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.http.HttpMessageConverters]: Factory method 'messageConverters' threw exception; nested exception is java.lang.VerifyError: Bad type on operand stack\nException Details:\n  Location:\n    org/springframework/http/converter/json/KotlinSerializationJsonHttpMessageConverter.&lt;init&gt;()V @4: invokespecial\n  Reason:\n    Type 'kotlinx/serialization/json/Json$Default' (current frame, stack[1]) is not assignable to 'kotlinx/serialization/json/Json'\n  Current Frame:\n    bci: @4\n    flags: { flagThisUninit }\n    locals: { uninitializedThis }\n    stack: { uninitializedThis, 'kotlinx/serialization/json/Json$Default' }\n  Bytecode:\n    0000000: 2ab2 0001 b700 02b1\n\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.6.jar:5.3.6]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.6.jar:5.3.6]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.5.jar:2.4.5]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:782) ~[spring-boot-2.4.5.jar:2.4.5]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:774) ~[spring-boot-2.4.5.jar:2.4.5]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-2.4.5.jar:2.4.5]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:339) ~[spring-boot-2.4.5.jar:2.4.5]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1340) ~[spring-boot-2.4.5.jar:2.4.5]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1329) ~[spring-boot-2.4.5.jar:2.4.5]\n        at org.mitre.abcd.tmi.translator.TmiTranslatorApplication$Companion.main(TmiTranslatorApplication.kt:36) ~[main/:na]\n        at org.mitre.abcd.tmi.translator.TmiTranslatorApplication.main(TmiTranslatorApplication.kt) ~[main/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Factory method 'requestMappingHandlerAdapter' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'messageConverters' defined in class path resource [org/springframework/boot/autoconfigure/http/HttpMessageConvertersAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.http.HttpMessageConverters]: Factory method 'messageConverters' threw exception; nested exception is java.lang.VerifyError: Bad type on operand stack\nException Details:\n  Location:\n    org/springframework/http/converter/json/KotlinSerializationJsonHttpMessageConverter.&lt;init&gt;()V @4: invokespecial\n  Reason:\n    Type 'kotlinx/serialization/json/Json$Default' (current frame, stack[1]) is not assignable to 'kotlinx/serialization/json/Json'\n  Current Frame:\n    bci: @4\n    flags: { flagThisUninit }\n    locals: { uninitializedThis }\n    stack: { uninitializedThis, 'kotlinx/serialization/json/Json$Default' }\n  Bytecode:\n    0000000: 2ab2 0001 b700 02b1\n\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.6.jar:5.3.6]\n        ... 21 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'messageConverters' defined in class path resource [org/springframework/boot/autoconfigure/http/HttpMessageConvertersAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.http.HttpMessageConverters]: Factory method 'messageConverters' threw exception; nested exception is java.lang.VerifyError: Bad type on operand stack\nException Details:\n  Location:\n    org/springframework/http/converter/json/KotlinSerializationJsonHttpMessageConverter.&lt;init&gt;()V @4: invokespecial\n  Reason:\n    Type 'kotlinx/serialization/json/Json$Default' (current frame, stack[1]) is not assignable to 'kotlinx/serialization/json/Json'\n  Current Frame:\n    bci: @4\n    flags: { flagThisUninit }\n    locals: { uninitializedThis }\n    stack: { uninitializedThis, 'kotlinx/serialization/json/Json$Default' }\n  Bytecode:\n    0000000: 2ab2 0001 b700 02b1\n\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfAvailable(DefaultListableBeanFactory.java:2021) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.ifAvailable(DefaultListableBeanFactory.java:2032) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.configureMessageConverters(WebMvcAutoConfiguration.java:216) ~[spring-boot-autoconfigure-2.4.5.jar:2.4.5]\n        at org.springframework.web.servlet.config.annotation.WebMvcConfigurerComposite.configureMessageConverters(WebMvcConfigurerComposite.java:137) ~[spring-webmvc-5.3.6.jar:5.3.6]\n        at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration.configureMessageConverters(DelegatingWebMvcConfiguration.java:118) ~[spring-webmvc-5.3.6.jar:5.3.6]\n        at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.getMessageConverters(WebMvcConfigurationSupport.java:863) ~[spring-webmvc-5.3.6.jar:5.3.6]\n        at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerAdapter(WebMvcConfigurationSupport.java:671) ~[spring-webmvc-5.3.6.jar:5.3.6]\n        at org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration.requestMappingHandlerAdapter(WebMvcAutoConfiguration.java:369) ~[spring-boot-autoconfigure-2.4.5.jar:2.4.5]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.6.jar:5.3.6]\n        ... 22 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.http.HttpMessageConverters]: Factory method 'messageConverters' threw exception; nested exception is java.lang.VerifyError: Bad type on operand stack\nException Details:\n  Location:\n    org/springframework/http/converter/json/KotlinSerializationJsonHttpMessageConverter.&lt;init&gt;()V @4: invokespecial\n  Reason:\n    Type 'kotlinx/serialization/json/Json$Default' (current frame, stack[1]) is not assignable to 'kotlinx/serialization/json/Json'\n  Current Frame:\n    bci: @4\n    flags: { flagThisUninit }\n    locals: { uninitializedThis }\n    stack: { uninitializedThis, 'kotlinx/serialization/json/Json$Default' }\n  Bytecode:\n    0000000: 2ab2 0001 b700 02b1\n\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.6.jar:5.3.6]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.6.jar:5.3.6]\n        ... 46 common frames omitted\nCaused by: java.lang.VerifyError: Bad type on operand stack\nException Details:\n  Location:\n    org/springframework/http/converter/json/KotlinSerializationJsonHttpMessageConverter.&lt;init&gt;()V @4: invokespecial\n  Reason:\n    Type 'kotlinx/serialization/json/Json$Default' (current frame, stack[1]) is not assignable to 'kotlinx/serialization/json/Json'\n  Current Frame:\n    bci: @4\n    flags: { flagThisUninit }\n    locals: { uninitializedThis }\n    stack: { uninitializedThis, 'kotlinx/serialization/json/Json$Default' }\n  Bytecode:\n    0000000: 2ab2 0001 b700 02b1\n\n        at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.addDefaultHttpMessageConverters(WebMvcConfigurationSupport.java:933) ~[spring-webmvc-5.3.6.jar:5.3.6]\n        at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.getMessageConverters(WebMvcConfigurationSupport.java:865) ~[spring-webmvc-5.3.6.jar:5.3.6]\n        at org.springframework.boot.autoconfigure.http.HttpMessageConverters$1.defaultMessageConverters(HttpMessageConverters.java:175) ~[spring-boot-autoconfigure-2.4.5.jar:2.4.5]\n        at org.springframework.boot.autoconfigure.http.HttpMessageConverters.getDefaultConverters(HttpMessageConverters.java:178) ~[spring-boot-autoconfigure-2.4.5.jar:2.4.5]\n        at org.springframework.boot.autoconfigure.http.HttpMessageConverters.&lt;init&gt;(HttpMessageConverters.java:102) ~[spring-boot-autoconfigure-2.4.5.jar:2.4.5]\n        at org.springframework.boot.autoconfigure.http.HttpMessageConverters.&lt;init&gt;(HttpMessageConverters.java:89) ~[spring-boot-autoconfigure-2.4.5.jar:2.4.5]\n        at org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration.messageConverters(HttpMessageConvertersAutoConfiguration.java:70) ~[spring-boot-autoconfigure-2.4.5.jar:2.4.5]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.6.jar:5.3.6]\n        ... 47 common frames omitted\n</code></pre>\n"},{"tags":["java","amazon-web-services","networking","aws-cdk","vpc"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1679053464,"post_id":75767168,"comment_id":133656037,"body_markdown":"IAM Identity Center **is not** IAM. https://docs.aws.amazon.com/singlesignon/latest/userguide/what-is.html And afaik IAM does not offer VPC endpoints.","body":"IAM Identity Center <b>is not</b> IAM. <a href=\"https://docs.aws.amazon.com/singlesignon/latest/userguide/what-is.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/singlesignon/latest/userguide/what-is.ht&zwnj;&#8203;ml</a> And afaik IAM does not offer VPC endpoints."},{"owner":{"account_id":14402741,"reputation":161,"user_id":10403839,"display_name":"Dominique M"},"score":0,"creation_date":1679053600,"post_id":75767168,"comment_id":133656072,"body_markdown":"@luk2302 I see, I think I confused myself by the IAM Management Center SDK that offers the methods that I need. Thanks!","body":"@luk2302 I see, I think I confused myself by the IAM Management Center SDK that offers the methods that I need. Thanks!"}],"owner":{"account_id":14402741,"reputation":161,"user_id":10403839,"display_name":"Dominique M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679053175,"creation_date":1679053175,"question_id":75767168,"body_markdown":"For my personal project, I want to create an AWS Lambda Function that rotates my access keys once every three months. I challenged myself to deploy the function in an isolated subnet in my default VPC, and use a VPC endpoint to perform SDK requests to the IAM service.\r\n\r\nTo create the VPC endpoint, I specify the IAM Identity Center as the service and build the VPC endpoint as following:\r\n\r\n        vpc.addInterfaceEndpoint(&quot;some-id&quot;, InterfaceVpcEndpointOptions.builder()\r\n                .service(InterfaceVpcEndpointAwsService.IAM_IDENTITY_CENTER)\r\n                .securityGroups(List.of(iamVpcEndpointSg))\r\n                .subnets(SubnetSelection.builder()\r\n                        .subnets(List.of(isolatedSubnet))\r\n                        .build())\r\n                .privateDnsEnabled(true)\r\n                .build());\r\n\r\nWhen I test my lambda, a simple test request (`ListUsersResult users = iamClient.listUsers();`) times out after 60 seconds. Strangly, other VPC endpoints that I have created in the exact same way do work. \r\n\r\nI have enabled VPC flow logs for debugging purposes, but I cannot trace back any traffic related to SDKs request in there (while requests to other services, via other VPC endpoints, are logged). \r\n\r\nMy questions:\r\n\r\n 1. **Is IAM_IDENTITY_CENTER the right service?** There is not much choice when it comes to IAM services, but the SDK corresponding to this service (`AmazonIdentityManagement`) does offer the desired methods.\r\n2. **What are my options for further debugging?** VPC flow logs are not a success, but perhaps I can dig deeper into the issue with other tools / services.\r\n3. Are there networking-related steps that I could make to inspect the connection?\r\n4. Any other flaws that I overlooked?\r\n\r\n\r\n","title":"AWS Lambda: automating access key rotation - how to enable in a VPC?","body":"<p>For my personal project, I want to create an AWS Lambda Function that rotates my access keys once every three months. I challenged myself to deploy the function in an isolated subnet in my default VPC, and use a VPC endpoint to perform SDK requests to the IAM service.</p>\n<p>To create the VPC endpoint, I specify the IAM Identity Center as the service and build the VPC endpoint as following:</p>\n<pre><code>    vpc.addInterfaceEndpoint(&quot;some-id&quot;, InterfaceVpcEndpointOptions.builder()\n            .service(InterfaceVpcEndpointAwsService.IAM_IDENTITY_CENTER)\n            .securityGroups(List.of(iamVpcEndpointSg))\n            .subnets(SubnetSelection.builder()\n                    .subnets(List.of(isolatedSubnet))\n                    .build())\n            .privateDnsEnabled(true)\n            .build());\n</code></pre>\n<p>When I test my lambda, a simple test request (<code>ListUsersResult users = iamClient.listUsers();</code>) times out after 60 seconds. Strangly, other VPC endpoints that I have created in the exact same way do work.</p>\n<p>I have enabled VPC flow logs for debugging purposes, but I cannot trace back any traffic related to SDKs request in there (while requests to other services, via other VPC endpoints, are logged).</p>\n<p>My questions:</p>\n<ol>\n<li><strong>Is IAM_IDENTITY_CENTER the right service?</strong> There is not much choice when it comes to IAM services, but the SDK corresponding to this service (<code>AmazonIdentityManagement</code>) does offer the desired methods.</li>\n<li><strong>What are my options for further debugging?</strong> VPC flow logs are not a success, but perhaps I can dig deeper into the issue with other tools / services.</li>\n<li>Are there networking-related steps that I could make to inspect the connection?</li>\n<li>Any other flaws that I overlooked?</li>\n</ol>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679055465,"post_id":75767108,"comment_id":133656462,"body_markdown":"see https://stackoverflow.com/questions/53237287/module-error-when-running-javafx-media-application","body":"see <a href=\"https://stackoverflow.com/questions/53237287/module-error-when-running-javafx-media-application\" title=\"module error when running javafx media application\">stackoverflow.com/questions/53237287/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679066566,"post_id":75767108,"comment_id":133659715,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1679166449,"post_id":75767108,"comment_id":133674306,"body_markdown":"https://openjfx.io/openjfx-docs/","body":"<a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a>"}],"owner":{"account_id":27803627,"reputation":1,"user_id":21227591,"display_name":"Aegi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679053166,"creation_date":1679052774,"question_id":75767108,"body_markdown":"I have installed everything for JavaFX but there is a problem I can&#39;t fix. Can someone help me?\r\n\r\n&gt; Error occurred during initialization of boot layer\r\n&gt; java.lang.module.FindException: Module javafx.fxml not found\r\n\r\nI installed everything for a JavaFX project. I added the library and did the VM arguments, yet I can&#39;t fix the boot layer.\r\n\r\nCan someone help me out?","title":"I have a problem with an error about JavaFX","body":"<p>I have installed everything for JavaFX but there is a problem I can't fix. Can someone help me?</p>\n<blockquote>\n<p>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module javafx.fxml not found</p>\n</blockquote>\n<p>I installed everything for a JavaFX project. I added the library and did the VM arguments, yet I can't fix the boot layer.</p>\n<p>Can someone help me out?</p>\n"},{"tags":["java","azure","azure-functions","azure-java-sdk","azure-java-tools"],"owner":{"account_id":28041834,"reputation":1,"user_id":21419270,"display_name":"moritz.ad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679053075,"creation_date":1679052894,"question_id":75767125,"body_markdown":"I&#39;ve tried to update my Azure cloud functions to the newest versions and received following error on startup:\r\n\r\n```none\r\n[2023-03-16T07:43:24.025Z] Executed &#39;Functions.legendDataHubUpdated&#39; (Failed, Id=b932d0c6-5f2d-4bb8-aabc-15fs6697f2ba, Duration=82ms)\r\n[2023-03-16T07:43:24.025Z] System.Private.CoreLib: Exception while executing function: Functions.legendDataHubUpdated. Microsoft.Azure.WebJobs.Extensions.CosmosDB: The CosmosDB connection string must be set either via the &#39;CosmosDB&#39; IConfiguration connection string, via the CosmosDBAttribute.ConnectionStringSetting property or via CosmosDBOptions.ConnectionString.\r\n```\r\n\r\nThese are my dependencies:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n    &lt;artifactId&gt;azure-cosmos&lt;/artifactId&gt;\r\n    &lt;version&gt;4.41.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.microsoft.azure.functions&lt;/groupId&gt;\r\n    &lt;artifactId&gt;azure-functions-java-library&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n    &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\r\n    &lt;version&gt;1.3.0-beta.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.azure.resourcemanager&lt;/groupId&gt;\r\n    &lt;artifactId&gt;azure-resourcemanager&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n    &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\r\n    &lt;version&gt;12.21.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAnd this is my function with the annotations:\r\n```java\r\n@FunctionName(&quot;legendDataHubUpdated&quot;)\r\n@StorageAccount(&quot;CUSTOM_BLOB_CONNECTION_STRING&quot;)\r\npublic void legendDataHubUpdated(\r\n    @BlobTrigger(name = &quot;xmlFileContent&quot;, path = AppConstants.COSMOS_CONFIG_CUSTOM_BLOB_CONTAINER_NAME +\r\n        &quot;/{folderName}/{fileName}.xml&quot;, dataType = &quot;string&quot;) String xmlFileContent,\r\n    @BindingName(&quot;fileName&quot;) String fileName,\r\n    @BindingName(&quot;folderName&quot;) String folderName,\r\n    @CosmosDBOutput(name = &quot;junctionObject&quot;,\r\n        databaseName = AppConstants.COSMOS_CONFIG_DB_NAME_1,\r\n        containerName = AppConstants.COSMOS_CONFIG_CONTAINER_NAME_CUSTOM_JUNCTION,\r\n        connection = AppConstants.COSMOS_CONFIG_WRITE_CONN_STRING) OutputBinding&lt;QuestionnaireJunctionObject&gt; result,\r\n    final ExecutionContext context\r\n) {\r\n    // Doing stuf here with the result\r\n}\r\n```\r\n\r\nDo you have any ideas how to fix this?\r\n\r\n\r\n\r\nThe Cosmos DB input changes the following variables in the newer version, I don&#39;t know whether this affects the functionality:\r\ncollectionName -&gt; containerName\r\nconnectionStringSetting -&gt; connection\r\n","title":"Problems with Java Azure cloud functions","body":"<p>I've tried to update my Azure cloud functions to the newest versions and received following error on startup:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[2023-03-16T07:43:24.025Z] Executed 'Functions.legendDataHubUpdated' (Failed, Id=b932d0c6-5f2d-4bb8-aabc-15fs6697f2ba, Duration=82ms)\n[2023-03-16T07:43:24.025Z] System.Private.CoreLib: Exception while executing function: Functions.legendDataHubUpdated. Microsoft.Azure.WebJobs.Extensions.CosmosDB: The CosmosDB connection string must be set either via the 'CosmosDB' IConfiguration connection string, via the CosmosDBAttribute.ConnectionStringSetting property or via CosmosDBOptions.ConnectionString.\n</code></pre>\n<p>These are my dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-cosmos&lt;/artifactId&gt;\n    &lt;version&gt;4.41.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.azure.functions&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-functions-java-library&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\n    &lt;version&gt;1.3.0-beta.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.azure.resourcemanager&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-resourcemanager&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\n    &lt;version&gt;12.21.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And this is my function with the annotations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionName(&quot;legendDataHubUpdated&quot;)\n@StorageAccount(&quot;CUSTOM_BLOB_CONNECTION_STRING&quot;)\npublic void legendDataHubUpdated(\n    @BlobTrigger(name = &quot;xmlFileContent&quot;, path = AppConstants.COSMOS_CONFIG_CUSTOM_BLOB_CONTAINER_NAME +\n        &quot;/{folderName}/{fileName}.xml&quot;, dataType = &quot;string&quot;) String xmlFileContent,\n    @BindingName(&quot;fileName&quot;) String fileName,\n    @BindingName(&quot;folderName&quot;) String folderName,\n    @CosmosDBOutput(name = &quot;junctionObject&quot;,\n        databaseName = AppConstants.COSMOS_CONFIG_DB_NAME_1,\n        containerName = AppConstants.COSMOS_CONFIG_CONTAINER_NAME_CUSTOM_JUNCTION,\n        connection = AppConstants.COSMOS_CONFIG_WRITE_CONN_STRING) OutputBinding&lt;QuestionnaireJunctionObject&gt; result,\n    final ExecutionContext context\n) {\n    // Doing stuf here with the result\n}\n</code></pre>\n<p>Do you have any ideas how to fix this?</p>\n<p>The Cosmos DB input changes the following variables in the newer version, I don't know whether this affects the functionality:\ncollectionName -&gt; containerName\nconnectionStringSetting -&gt; connection</p>\n"},{"tags":["java","java.util.scanner","delimiter"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1671460517,"post_id":74851588,"comment_id":132097762,"body_markdown":"Personally, I wouldn&#39;t be using a scanner at all.  I&#39;d read a line containing an expression, and then parse the expression. The algorithms are [well-known](https://en.wikipedia.org/wiki/Shunting_yard_algorithm), but maybe this is not beginner-level.","body":"Personally, I wouldn&#39;t be using a scanner at all.  I&#39;d read a line containing an expression, and then parse the expression. The algorithms are <a href=\"https://en.wikipedia.org/wiki/Shunting_yard_algorithm\" rel=\"nofollow noreferrer\">well-known</a>, but maybe this is not beginner-level."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671465435,"creation_date":1671465435,"answer_id":74852920,"question_id":74851588,"body_markdown":"Assuming you&#39;re using scanner, yes, it could. The scanner operates on the notion that a regexp serves as delimiter: Each match of the regex delimits, and whatever the regexp matches is tossed out (because nobody &#39;cares&#39; about reading the spaces or the commas or whatever). The scanner then gives you stuff in between the delimiters.\r\n\r\nThus, for you to end up with scanner stream &#39;5&#39;, &#39;+&#39;, and &#39;3&#39;, you want a delimiter that delimits on the space between &#39;5&#39; / &#39;+&#39; and &#39;+&#39; / &#39;3&#39;, whilst matching 0 characters otherwise those would be thrown out.\r\n\r\nYou can do that, using regexp lookahead/lookbehind. You want a digit to the left and an operator to the right, or vice versa:\r\n\r\n```\r\nString test = &quot;53 + 2*35- 8&quot;;\r\nScanner s = new Scanner(test);\r\ns.useDelimiter(&quot;\\\\s+|(?:(?&lt;=\\\\d)(?=[-+/*]))|(?:(?=\\\\d)(?&lt;=[-+/*]))&quot;);\r\nwhile (s.hasNext()) {\r\n  System.out.println(&quot;NEXT: &#39;&quot; + s.next() + &quot;&#39;&quot;);\r\n}\r\n```\r\n\r\nTo break that convoluted regex open:\r\n\r\n* `A|B|C` means: A or B or C. That&#39;s the &#39;outermost&#39; part of this regexp, we&#39;re looking for one of 3 distinct things to split on.\r\n* `\\\\s+` means: 1 or more whitespace characters. Thus, input `&quot;5 20&quot;` would be split into `5` and `20`. The whitespace is consumed (i.e. tossed out and not part of your tokens).\r\n* OR, positive lookbehind (`(?&lt;=X)` means: Match if, looking backwards, you would see X), and X is `\\\\d` here - a digit. We then _also_ have a positive lookahead: `(?=X)` means: Check for X being here, but don&#39;t consume it (or it would be thrown out, remember, the regex describes the delimiter, and the delimiter is thrown out). We look ahead for one of the symbols.\r\n* OR, that, but flipped about (first an operator, then a digit).\r\n\r\nNB: If you want to avoid the complexity of a regexp, you _could_ just loop through each character, but you&#39;d be building a little state machine, and have to take care of consecutive, non-space separated digits: You need to combine those (`10 + 20` is not `1`, `0`, `+`, `2`, `0` - it&#39;s `10` `+` `20`).\r\n\r\nNB2: If you also want to support `(` and `)` you can edit the regex appropriately (They are, essentially, &#39;operators&#39; and go in the list of operators), however, at some point you&#39;re essentially descriving a grammar for a formal language and should start looking into a parser generator. But that&#39;s all vastly more complicated than any of this.\r\n","title":"Can Java &quot;delimit input itself&quot;, without explicit delimiters?","body":"<p>Assuming you're using scanner, yes, it could. The scanner operates on the notion that a regexp serves as delimiter: Each match of the regex delimits, and whatever the regexp matches is tossed out (because nobody 'cares' about reading the spaces or the commas or whatever). The scanner then gives you stuff in between the delimiters.</p>\n<p>Thus, for you to end up with scanner stream '5', '+', and '3', you want a delimiter that delimits on the space between '5' / '+' and '+' / '3', whilst matching 0 characters otherwise those would be thrown out.</p>\n<p>You can do that, using regexp lookahead/lookbehind. You want a digit to the left and an operator to the right, or vice versa:</p>\n<pre><code>String test = &quot;53 + 2*35- 8&quot;;\nScanner s = new Scanner(test);\ns.useDelimiter(&quot;\\\\s+|(?:(?&lt;=\\\\d)(?=[-+/*]))|(?:(?=\\\\d)(?&lt;=[-+/*]))&quot;);\nwhile (s.hasNext()) {\n  System.out.println(&quot;NEXT: '&quot; + s.next() + &quot;'&quot;);\n}\n</code></pre>\n<p>To break that convoluted regex open:</p>\n<ul>\n<li><code>A|B|C</code> means: A or B or C. That's the 'outermost' part of this regexp, we're looking for one of 3 distinct things to split on.</li>\n<li><code>\\\\s+</code> means: 1 or more whitespace characters. Thus, input <code>&quot;5 20&quot;</code> would be split into <code>5</code> and <code>20</code>. The whitespace is consumed (i.e. tossed out and not part of your tokens).</li>\n<li>OR, positive lookbehind (<code>(?&lt;=X)</code> means: Match if, looking backwards, you would see X), and X is <code>\\\\d</code> here - a digit. We then <em>also</em> have a positive lookahead: <code>(?=X)</code> means: Check for X being here, but don't consume it (or it would be thrown out, remember, the regex describes the delimiter, and the delimiter is thrown out). We look ahead for one of the symbols.</li>\n<li>OR, that, but flipped about (first an operator, then a digit).</li>\n</ul>\n<p>NB: If you want to avoid the complexity of a regexp, you <em>could</em> just loop through each character, but you'd be building a little state machine, and have to take care of consecutive, non-space separated digits: You need to combine those (<code>10 + 20</code> is not <code>1</code>, <code>0</code>, <code>+</code>, <code>2</code>, <code>0</code> - it's <code>10</code> <code>+</code> <code>20</code>).</p>\n<p>NB2: If you also want to support <code>(</code> and <code>)</code> you can edit the regex appropriately (They are, essentially, 'operators' and go in the list of operators), however, at some point you're essentially descriving a grammar for a formal language and should start looking into a parser generator. But that's all vastly more complicated than any of this.</p>\n"}],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":7,"up_vote_count":1,"accepted_answer_id":74852920,"answer_count":1,"score":-6,"last_activity_date":1679052720,"creation_date":1671458752,"question_id":74851588,"body_markdown":"My calculator, that I needed to make for my test task to apply for a Java course, is working great. But there&#39;s an issue I would like to resolve. If you type in, for example, &quot;5+3&quot; as opposed to &quot;5 + 3&quot;, it doesn&#39;t work. Can my calculator be smart enough to delimit input without explicit delimiters (like spaces)?\r\n\r\nIn other words, how do I make my scanner split, for example, an input of `5+32 *2` into five tokens: `5`, `+`, `32`, `*`, and `2`? If I don&#39;t have to overhaul my entire code, that would be even better!\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.io.IOException;\r\nimport java.text.DecimalFormat;\r\n\r\npublic class Introduction {\r\n  private static double firstNum;\r\n  private static double secondNum;\r\n  private static double result;\r\n  private static boolean dontKnow;\r\n  private static String firstNumS;\r\n  private static String secondNumS;\r\n  private static String operationS;\r\n  private static final DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\r\n\r\n  public static void main(String[] args) {\r\n    Scanner scanner = new Scanner(System.in);\r\n    firstNumS = scanner.next();\r\n    operationS = scanner.next();\r\n    secondNumS = scanner.next();\r\n\r\n    if(firstNumS.compareTo(operationS) &gt; 15){\r\n      switch(firstNumS){\r\n      case &quot;I&quot;:\r\n      firstNum = 1;\r\n      break;\r\n      case &quot;II&quot;:\r\n      firstNum = 2;\r\n      break;\r\n      case &quot;III&quot;:\r\n      firstNum = 3;\r\n      break;\r\n      case &quot;IV&quot;:\r\n      firstNum = 4;\r\n      break;\r\n      case &quot;V&quot;:\r\n      firstNum = 5;\r\n      break;\r\n      case &quot;VI&quot;:\r\n      firstNum = 6;\r\n      break;\r\n      case &quot;VII&quot;:\r\n      firstNum = 7;\r\n      break;\r\n      case &quot;VIII&quot;:\r\n      firstNum = 8;\r\n      break;\r\n      case &quot;IX&quot;:\r\n      firstNum = 9;\r\n      break;\r\n      case &quot;X&quot;:\r\n      firstNum = 10;\r\n      break;\r\n      default:\r\n      System.out.println(&quot;I don&#39;t know the first number!&quot;);\r\n      dontKnow = true; }}\r\n    else {\r\n    firstNum = Integer.decode(firstNumS);\r\n      if(firstNum &gt; 10){\r\n      System.out.println(&quot;It appears, the first number is too big for me!&quot;);\r\n      dontKnow = true;\r\n      }\r\n      }\r\n\r\n    if(secondNumS.compareTo(operationS) &gt; 15) {\r\n      switch(secondNumS){\r\n      case &quot;I&quot;:\r\n      secondNum = 1;\r\n      break;\r\n      case &quot;II&quot;:\r\n      secondNum = 2;\r\n      break;\r\n      case &quot;III&quot;:\r\n      secondNum = 3;\r\n      break;\r\n      case &quot;IV&quot;:\r\n      secondNum = 4;\r\n      break;\r\n      case &quot;V&quot;:\r\n      secondNum = 5;\r\n      break;\r\n      case &quot;VI&quot;:\r\n      secondNum = 6;\r\n      break;\r\n      case &quot;VII&quot;:\r\n      secondNum = 7;\r\n      break;\r\n      case &quot;VIII&quot;:\r\n      secondNum = 8;\r\n      break;\r\n      case &quot;IX&quot;:\r\n      secondNum = 9;\r\n      break;\r\n      case &quot;X&quot;:\r\n      secondNum = 10;\r\n      break;\r\n      default:\r\n      System.out.println(&quot;I don&#39;t know the second number!&quot;);\r\n      dontKnow = true; }}\r\n    else {\r\n    secondNum = Integer.decode(secondNumS);\r\n      if(secondNum &gt; 10) {\r\n      System.out.println(&quot;It appears, the second number is too big for me!&quot;);\r\n      dontKnow = true; }}\r\n  \r\n    if(operationS.equals(&quot;+&quot;)) {\r\n      result = firstNum + secondNum; }\r\n    else if(operationS.equals(&quot;-&quot;)) {\r\n      result = firstNum - secondNum; }\r\n    else if(operationS.equals(&quot;*&quot;)){\r\n      result = firstNum * secondNum; }\r\n    else if(operationS.equals(&quot;/&quot;)){\r\n      result = firstNum / secondNum; }\r\n    else {\r\n      System.out.println(&quot;I don&#39;t know such an operation!&quot;);\r\n      dontKnow = true; }\r\n\r\n    if(!(operationS.equals(&quot;/&quot;) &amp;&amp; secondNum == 0)) {\r\n      if(!dontKnow) {\r\n        if(result / (int)result != 1) {\r\n          if(String.valueOf(result).equals(df.format(result))) {\r\n          System.out.println(&quot;It&#39;s &quot; + result + &quot;!&quot;); }\r\n          else {\r\n          System.out.println(&quot;It&#39;s approximately &quot; + df.format(result) + &quot;!&quot;); }}\r\n        else {\r\n        System.out.println(&quot;It&#39;s &quot; + (int)result + &quot;!&quot;); }}}\r\n    else {\r\n      if(!dontKnow) {\r\n      System.out.println(&quot;Gosh! I tried to divide it by zero, as you requested, but my virtual head nearly exploded! I need to recover...&quot;); }\r\n      else {\r\n      System.out.println(&quot;Besides, you can&#39;t even divide by zero, I&#39;m so told!&quot;); }}\r\n  }\r\n}\r\n```","title":"Can Java &quot;delimit input itself&quot;, without explicit delimiters?","body":"<p>My calculator, that I needed to make for my test task to apply for a Java course, is working great. But there's an issue I would like to resolve. If you type in, for example, &quot;5+3&quot; as opposed to &quot;5 + 3&quot;, it doesn't work. Can my calculator be smart enough to delimit input without explicit delimiters (like spaces)?</p>\n<p>In other words, how do I make my scanner split, for example, an input of <code>5+32 *2</code> into five tokens: <code>5</code>, <code>+</code>, <code>32</code>, <code>*</code>, and <code>2</code>? If I don't have to overhaul my entire code, that would be even better!</p>\n<pre><code>import java.util.Scanner;\nimport java.io.IOException;\nimport java.text.DecimalFormat;\n\npublic class Introduction {\n  private static double firstNum;\n  private static double secondNum;\n  private static double result;\n  private static boolean dontKnow;\n  private static String firstNumS;\n  private static String secondNumS;\n  private static String operationS;\n  private static final DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\n\n  public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    firstNumS = scanner.next();\n    operationS = scanner.next();\n    secondNumS = scanner.next();\n\n    if(firstNumS.compareTo(operationS) &gt; 15){\n      switch(firstNumS){\n      case &quot;I&quot;:\n      firstNum = 1;\n      break;\n      case &quot;II&quot;:\n      firstNum = 2;\n      break;\n      case &quot;III&quot;:\n      firstNum = 3;\n      break;\n      case &quot;IV&quot;:\n      firstNum = 4;\n      break;\n      case &quot;V&quot;:\n      firstNum = 5;\n      break;\n      case &quot;VI&quot;:\n      firstNum = 6;\n      break;\n      case &quot;VII&quot;:\n      firstNum = 7;\n      break;\n      case &quot;VIII&quot;:\n      firstNum = 8;\n      break;\n      case &quot;IX&quot;:\n      firstNum = 9;\n      break;\n      case &quot;X&quot;:\n      firstNum = 10;\n      break;\n      default:\n      System.out.println(&quot;I don't know the first number!&quot;);\n      dontKnow = true; }}\n    else {\n    firstNum = Integer.decode(firstNumS);\n      if(firstNum &gt; 10){\n      System.out.println(&quot;It appears, the first number is too big for me!&quot;);\n      dontKnow = true;\n      }\n      }\n\n    if(secondNumS.compareTo(operationS) &gt; 15) {\n      switch(secondNumS){\n      case &quot;I&quot;:\n      secondNum = 1;\n      break;\n      case &quot;II&quot;:\n      secondNum = 2;\n      break;\n      case &quot;III&quot;:\n      secondNum = 3;\n      break;\n      case &quot;IV&quot;:\n      secondNum = 4;\n      break;\n      case &quot;V&quot;:\n      secondNum = 5;\n      break;\n      case &quot;VI&quot;:\n      secondNum = 6;\n      break;\n      case &quot;VII&quot;:\n      secondNum = 7;\n      break;\n      case &quot;VIII&quot;:\n      secondNum = 8;\n      break;\n      case &quot;IX&quot;:\n      secondNum = 9;\n      break;\n      case &quot;X&quot;:\n      secondNum = 10;\n      break;\n      default:\n      System.out.println(&quot;I don't know the second number!&quot;);\n      dontKnow = true; }}\n    else {\n    secondNum = Integer.decode(secondNumS);\n      if(secondNum &gt; 10) {\n      System.out.println(&quot;It appears, the second number is too big for me!&quot;);\n      dontKnow = true; }}\n  \n    if(operationS.equals(&quot;+&quot;)) {\n      result = firstNum + secondNum; }\n    else if(operationS.equals(&quot;-&quot;)) {\n      result = firstNum - secondNum; }\n    else if(operationS.equals(&quot;*&quot;)){\n      result = firstNum * secondNum; }\n    else if(operationS.equals(&quot;/&quot;)){\n      result = firstNum / secondNum; }\n    else {\n      System.out.println(&quot;I don't know such an operation!&quot;);\n      dontKnow = true; }\n\n    if(!(operationS.equals(&quot;/&quot;) &amp;&amp; secondNum == 0)) {\n      if(!dontKnow) {\n        if(result / (int)result != 1) {\n          if(String.valueOf(result).equals(df.format(result))) {\n          System.out.println(&quot;It's &quot; + result + &quot;!&quot;); }\n          else {\n          System.out.println(&quot;It's approximately &quot; + df.format(result) + &quot;!&quot;); }}\n        else {\n        System.out.println(&quot;It's &quot; + (int)result + &quot;!&quot;); }}}\n    else {\n      if(!dontKnow) {\n      System.out.println(&quot;Gosh! I tried to divide it by zero, as you requested, but my virtual head nearly exploded! I need to recover...&quot;); }\n      else {\n      System.out.println(&quot;Besides, you can't even divide by zero, I'm so told!&quot;); }}\n  }\n}\n</code></pre>\n"},{"tags":["java","type-conversion","command-line-arguments","numberformatexception"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1679025891,"post_id":75763641,"comment_id":133650681,"body_markdown":"You are providing three command line arguments. The second is `volume`. The expression `args[1]` refers to the second command line argument, and you try to convert it to an integer in `int num1 = Integer.parseInt(args[1])`.","body":"You are providing three command line arguments. The second is <code>volume</code>. The expression <code>args[1]</code> refers to the second command line argument, and you try to convert it to an integer in <code>int num1 = Integer.parseInt(args[1])</code>."},{"owner":{"account_id":28038669,"reputation":1,"user_id":21416582,"display_name":"konjac"},"score":0,"creation_date":1679026301,"post_id":75763641,"comment_id":133650710,"body_markdown":"But if I assign the integer value of args[1] to num1, shouldn&#39;t the actual value of args[1] still be a string? (thanks for the reply btw!)","body":"But if I assign the integer value of args[1] to num1, shouldn&#39;t the actual value of args[1] still be a string? (thanks for the reply btw!)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1679026751,"post_id":75763641,"comment_id":133650763,"body_markdown":"The string &quot;volume&quot;  -- which is the value of `args[1]` -- has no &quot;integer value&quot;.","body":"The string &quot;volume&quot;  -- which is the value of <code>args[1]</code> -- has no &quot;integer value&quot;."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679026785,"post_id":75763641,"comment_id":133650770,"body_markdown":"What do you expect `Integer.parseInt(&quot;volume&quot;)` to return?","body":"What do you expect <code>Integer.parseInt(&quot;volume&quot;)</code> to return?"}],"answers":[{"tags":[],"owner":{"account_id":1267594,"reputation":47,"user_id":1224563,"accept_rate":60,"display_name":"Althaen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679052364,"creation_date":1679052364,"answer_id":75767049,"question_id":75763641,"body_markdown":"If your inputs are &quot;sphere&quot; &quot;volume&quot; and &quot;5&quot; then since the first index of an array is 0 your args array will be like:\r\n\r\n    args[0] = &quot;sphere&quot;;\r\n    args[1] = &quot;volume&quot;;\r\n    args[2] = &quot;5&quot;;\r\n\r\nThe problem is that when you parse args[1] into an integer you are trying to turn the string &quot;volume&quot; into a number when &quot;volume&quot; is not a number. As the exception you are getting is telling you.","title":"Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;volume&quot; Error","body":"<p>If your inputs are &quot;sphere&quot; &quot;volume&quot; and &quot;5&quot; then since the first index of an array is 0 your args array will be like:</p>\n<pre><code>args[0] = &quot;sphere&quot;;\nargs[1] = &quot;volume&quot;;\nargs[2] = &quot;5&quot;;\n</code></pre>\n<p>The problem is that when you parse args[1] into an integer you are trying to turn the string &quot;volume&quot; into a number when &quot;volume&quot; is not a number. As the exception you are getting is telling you.</p>\n"}],"owner":{"account_id":28038669,"reputation":1,"user_id":21416582,"display_name":"konjac"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679052364,"creation_date":1679025480,"question_id":75763641,"body_markdown":"I am working on a calculator which will calculate the volume or surface area of a sphere depending on what the input arguments are. \r\n\r\nWhen I input &quot;sphere volume 5&quot; it throws a Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;volume&quot; Error. Can someone help point out what is causing this error?\r\n\r\nThanks\r\n\r\n```\r\npublic class SimpleCalculator {\r\n    public static void main(String[] args) {\r\n        String operator = args[0];\r\n        int num1 = Integer.parseInt(args[1]);\r\n        int num2 = Integer.parseInt(args[2]);\r\n        double result;\r\n\r\n        switch (operator) {\r\n            case &quot;+&quot; :\r\n                result = num1 + num2;\r\n                System.out.println(result);\r\n                break;\r\n            \r\n            case &quot;-&quot; :\r\n                result = num1 - num2;\r\n                System.out.println(result);\r\n                break;\r\n\r\n            case &quot;*&quot; :\r\n                result = num1 * num2;\r\n                System.out.println(result);\r\n                break;\r\n            \r\n            case &quot;/&quot; :\r\n                double dnum1 = num1;\r\n                result = dnum1 / num2;\r\n                System.out.println(result);\r\n                break;\r\n            \r\n            case &quot;sphere&quot; :\r\n            \r\n            if (args[1] == &quot;volume&quot;) {\r\n                result = (4.0/3)* Math.PI * Math.pow(num2, 3);\r\n                System.out.println(result);\r\n                break;\r\n            } else if (args[1] == &quot;surface&quot;){\r\n                result = 4.0 * Math.PI * Math.pow(num2, 2);\r\n                System.out.println(result);\r\n                break;\r\n            }\r\n            break;\r\n        }\r\n        \r\n    }\r\n\r\n}\r\n```\r\n\r\nI initially had a String variable calcType to differentiate between &quot;volume&quot; and &quot;surface&quot; but I assumed doing that would be redundant as the args are Strings to begin with. This was my initial code:\r\n```\r\n            case &quot;sphere&quot; :\r\n            String calcType = args[1];\r\n            if (calcType.equals(&quot;volume&quot;)) {\r\n                result = (4.0/3)* Math.PI * Math.pow(num2, 3);\r\n                System.out.println(result);\r\n                break;\r\n            } else if (calcType.equals(&quot;surface&quot;)){\r\n                result = 4.0 * Math.PI * Math.pow(num2, 2);\r\n                System.out.println(result);\r\n                break;\r\n            }\r\n            break;\r\n```","title":"Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;volume&quot; Error","body":"<p>I am working on a calculator which will calculate the volume or surface area of a sphere depending on what the input arguments are.</p>\n<p>When I input &quot;sphere volume 5&quot; it throws a Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;volume&quot; Error. Can someone help point out what is causing this error?</p>\n<p>Thanks</p>\n<pre><code>public class SimpleCalculator {\n    public static void main(String[] args) {\n        String operator = args[0];\n        int num1 = Integer.parseInt(args[1]);\n        int num2 = Integer.parseInt(args[2]);\n        double result;\n\n        switch (operator) {\n            case &quot;+&quot; :\n                result = num1 + num2;\n                System.out.println(result);\n                break;\n            \n            case &quot;-&quot; :\n                result = num1 - num2;\n                System.out.println(result);\n                break;\n\n            case &quot;*&quot; :\n                result = num1 * num2;\n                System.out.println(result);\n                break;\n            \n            case &quot;/&quot; :\n                double dnum1 = num1;\n                result = dnum1 / num2;\n                System.out.println(result);\n                break;\n            \n            case &quot;sphere&quot; :\n            \n            if (args[1] == &quot;volume&quot;) {\n                result = (4.0/3)* Math.PI * Math.pow(num2, 3);\n                System.out.println(result);\n                break;\n            } else if (args[1] == &quot;surface&quot;){\n                result = 4.0 * Math.PI * Math.pow(num2, 2);\n                System.out.println(result);\n                break;\n            }\n            break;\n        }\n        \n    }\n\n}\n</code></pre>\n<p>I initially had a String variable calcType to differentiate between &quot;volume&quot; and &quot;surface&quot; but I assumed doing that would be redundant as the args are Strings to begin with. This was my initial code:</p>\n<pre><code>            case &quot;sphere&quot; :\n            String calcType = args[1];\n            if (calcType.equals(&quot;volume&quot;)) {\n                result = (4.0/3)* Math.PI * Math.pow(num2, 3);\n                System.out.println(result);\n                break;\n            } else if (calcType.equals(&quot;surface&quot;)){\n                result = 4.0 * Math.PI * Math.pow(num2, 2);\n                System.out.println(result);\n                break;\n            }\n            break;\n</code></pre>\n"},{"tags":["java","linux","port","testcontainers"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679052225,"post_id":75764168,"comment_id":133655762,"body_markdown":"Most likely the previous container wasn&#39;t (yet) cleanly shut down before the next was started, so the only output you&#39;d get would be that Docker has the port open.","body":"Most likely the previous container wasn&#39;t (yet) cleanly shut down before the next was started, so the only output you&#39;d get would be that Docker has the port open."}],"owner":{"account_id":15182352,"reputation":511,"user_id":10955333,"display_name":"Kunal gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679052183,"creation_date":1679032433,"question_id":75764168,"body_markdown":"I have a test suite running and it uses [Couchbase test container](https://www.testcontainers.org/modules/databases/couchbase/). I have exposed 11210 KV port and bound it to the machine&#39;s 11210 port. The tests intermittently fail saying 11210 is already allocated and the container fails to start. I can bind it to a different port and my tests would work, but I am curious to know what process is using the same port. Is there a way I can log the process running on that port in Java? The machine where the tests run, runs on top of Linux.","title":"Programatically find the process running on a port using Java","body":"<p>I have a test suite running and it uses <a href=\"https://www.testcontainers.org/modules/databases/couchbase/\" rel=\"nofollow noreferrer\">Couchbase test container</a>. I have exposed 11210 KV port and bound it to the machine's 11210 port. The tests intermittently fail saying 11210 is already allocated and the container fails to start. I can bind it to a different port and my tests would work, but I am curious to know what process is using the same port. Is there a way I can log the process running on that port in Java? The machine where the tests run, runs on top of Linux.</p>\n"},{"tags":["java","copy","hashmap","clone"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1334002943,"post_id":10079266,"comment_id":12904834,"body_markdown":"Can you post a [SSCCE](http://sscce.org) to give a better understanding of what you done so far?","body":"Can you post a <a href=\"http://sscce.org\" rel=\"nofollow noreferrer\">SSCCE</a> to give a better understanding of what you done so far?"},{"owner":{"account_id":1074234,"reputation":7436,"user_id":1072724,"accept_rate":100,"display_name":"Mike McMahon"},"score":2,"creation_date":1334003449,"post_id":10079266,"comment_id":12905033,"body_markdown":"Your objects should implement the Cloneable interface, otherwise assignments such as MyObjectB = MyObjectA simply tell the JVM that both variables point to the same location in memory.  Not two distinct objects.","body":"Your objects should implement the Cloneable interface, otherwise assignments such as MyObjectB = MyObjectA simply tell the JVM that both variables point to the same location in memory.  Not two distinct objects."},{"owner":{"account_id":192292,"reputation":7779,"user_id":433348,"accept_rate":88,"display_name":"Kevin Welker"},"score":0,"creation_date":1334003898,"post_id":10079266,"comment_id":12905200,"body_markdown":"Btw, the overwhelming idiom (practically a law) is to capitalize class names. It will make your examples much more readable to those of us who use those things as quick cues while scanning example code.","body":"Btw, the overwhelming idiom (practically a law) is to capitalize class names. It will make your examples much more readable to those of us who use those things as quick cues while scanning example code."},{"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"score":1,"creation_date":1334004850,"post_id":10079266,"comment_id":12905594,"body_markdown":"to add on @KevinWelker it also helps the syntax highlighter highlight the class names","body":"to add on @KevinWelker it also helps the syntax highlighter highlight the class names"},{"owner":{"account_id":353541,"reputation":1580,"user_id":691305,"display_name":"user691305"},"score":0,"creation_date":1334061323,"post_id":10079266,"comment_id":12920104,"body_markdown":"@Mike - Thanks but tried to do cloneable, it made them both grow when one grew. I don&#39;t want that.","body":"@Mike - Thanks but tried to do cloneable, it made them both grow when one grew. I don&#39;t want that."},{"owner":{"account_id":1074234,"reputation":7436,"user_id":1072724,"accept_rate":100,"display_name":"Mike McMahon"},"score":0,"creation_date":1334074961,"post_id":10079266,"comment_id":12926007,"body_markdown":"@user691305 please share your cloneable code.  You&#39;re going to have to write the imple for it yourself.  By creating news and assigning values...etc  Do you need a deep vs. shallow copy?  ...etc  :)","body":"@user691305 please share your cloneable code.  You&#39;re going to have to write the imple for it yourself.  By creating news and assigning values...etc  Do you need a deep vs. shallow copy?  ...etc  :)"}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1334003067,"creation_date":1334003067,"answer_id":10079353,"question_id":10079266,"body_markdown":"In Java, when you write:\r\n\r\n    Object objectA = new Object();\r\n    Object objectB = objectA;\r\n\r\n`objectA` and `objectB` are the same and point to the same reference. Changing one will change the other. So if you change the state of `objectA` (not its reference) `objectB` will reflect that change too.\r\n\r\nHowever, if you write:\r\n\r\n    objectA = new Object()\r\n\r\nThen `objectB` is still pointing to the first object you created (original `objectA`) while `objectA` is now pointing to a new Object.","title":"Copying a HashMap in Java","body":"<p>In Java, when you write:</p>\n\n<pre><code>Object objectA = new Object();\nObject objectB = objectA;\n</code></pre>\n\n<p><code>objectA</code> and <code>objectB</code> are the same and point to the same reference. Changing one will change the other. So if you change the state of <code>objectA</code> (not its reference) <code>objectB</code> will reflect that change too.</p>\n\n<p>However, if you write:</p>\n\n<pre><code>objectA = new Object()\n</code></pre>\n\n<p>Then <code>objectB</code> is still pointing to the first object you created (original <code>objectA</code>) while <code>objectA</code> is now pointing to a new Object.</p>\n"},{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1555046519,"creation_date":1334003105,"answer_id":10079365,"question_id":10079266,"body_markdown":"The difference is that in C++ your object is on the stack, whereas in Java, your object is in the heap. If A and B are Objects, any time in Java you do:\r\n```none\r\nB = A\r\n```\r\nA and B point to the same object, so anything you do to A you do to B and vice versa.\r\n\r\nUse new `HashMap()` if you want two different objects.\r\n\r\nAnd you can use `Map.putAll(...)` to copy data between two Maps.","title":"Copying a HashMap in Java","body":"<p>The difference is that in C++ your object is on the stack, whereas in Java, your object is in the heap. If A and B are Objects, any time in Java you do:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>B = A\n</code></pre>\n\n<p>A and B point to the same object, so anything you do to A you do to B and vice versa.</p>\n\n<p>Use new <code>HashMap()</code> if you want two different objects.</p>\n\n<p>And you can use <code>Map.putAll(...)</code> to copy data between two Maps.</p>\n"},{"tags":[],"owner":{"account_id":3405,"reputation":14683,"user_id":4913,"accept_rate":82,"display_name":"zigdon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1334003407,"creation_date":1334003407,"answer_id":10079429,"question_id":10079266,"body_markdown":"What you assign one object to another, all you&#39;re doing is copying the *reference* to the object, not the contents of it. What you need to do is take your object B and manually copy the contents of object A into it. \r\n\r\nIf you do this often, you might consider implementing a `clone()` method on the class that will create a new object of the same type, and copy all of it&#39;s contents into the new object.","title":"Copying a HashMap in Java","body":"<p>What you assign one object to another, all you're doing is copying the <em>reference</em> to the object, not the contents of it. What you need to do is take your object B and manually copy the contents of object A into it. </p>\n\n<p>If you do this often, you might consider implementing a <code>clone()</code> method on the class that will create a new object of the same type, and copy all of it's contents into the new object.</p>\n"},{"tags":[],"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"down_vote_count":0,"up_vote_count":272,"is_accepted":false,"score":272,"last_activity_date":1533310740,"creation_date":1334003502,"answer_id":10079457,"question_id":10079266,"body_markdown":"If you want a copy of the HashMap you need to construct a new one with.\r\n\r\n    myobjectListB = new HashMap&lt;Integer,myObject&gt;(myobjectListA);\r\n\r\nThis will create a (shallow) copy of the map.","title":"Copying a HashMap in Java","body":"<p>If you want a copy of the HashMap you need to construct a new one with.</p>\n\n<pre><code>myobjectListB = new HashMap&lt;Integer,myObject&gt;(myobjectListA);\n</code></pre>\n\n<p>This will create a (shallow) copy of the map.</p>\n"},{"tags":[],"owner":{"account_id":2579252,"reputation":245,"user_id":2236292,"display_name":"user2236292"},"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1364910641,"creation_date":1364910641,"answer_id":15765885,"question_id":10079266,"body_markdown":"You can also use\r\n\r\n    clone()\r\nMethod to copy all elements from one hashmap to another hashmap \r\n\r\nProgram for copy all elements from one hashmap to another\r\n\r\n    import java.util.HashMap;\r\n    \r\n    public class CloneHashMap {    \r\n         public static void main(String a[]) {    \r\n            HashMap hashMap = new HashMap();    \r\n            HashMap hashMap1 = new HashMap();    \r\n            hashMap.put(1, &quot;One&quot;);\r\n            hashMap.put(2, &quot;Two&quot;);\r\n            hashMap.put(3, &quot;Three&quot;);\r\n            System.out.println(&quot;Original HashMap : &quot; + hashMap);\r\n            hashMap1 = (HashMap) hashMap.clone();\r\n            System.out.println(&quot;Copied HashMap : &quot; + hashMap1);    \r\n        }    \r\n    }\r\n\r\nsource :  [http://www.tutorialdata.com/examples/java/collection-framework/hashmap/copy-all-elements-from-one-hashmap-to-another][1]\r\n\r\n\r\n  [1]: http://www.tutorialdata.com/examples/java/collection-framework/hashmap/copy-all-elements-from-one-hashmap-to-another","title":"Copying a HashMap in Java","body":"<p>You can also use</p>\n\n<pre><code>clone()\n</code></pre>\n\n<p>Method to copy all elements from one hashmap to another hashmap </p>\n\n<p>Program for copy all elements from one hashmap to another</p>\n\n<pre><code>import java.util.HashMap;\n\npublic class CloneHashMap {    \n     public static void main(String a[]) {    \n        HashMap hashMap = new HashMap();    \n        HashMap hashMap1 = new HashMap();    \n        hashMap.put(1, \"One\");\n        hashMap.put(2, \"Two\");\n        hashMap.put(3, \"Three\");\n        System.out.println(\"Original HashMap : \" + hashMap);\n        hashMap1 = (HashMap) hashMap.clone();\n        System.out.println(\"Copied HashMap : \" + hashMap1);    \n    }    \n}\n</code></pre>\n\n<p>source :  <a href=\"http://www.tutorialdata.com/examples/java/collection-framework/hashmap/copy-all-elements-from-one-hashmap-to-another\">http://www.tutorialdata.com/examples/java/collection-framework/hashmap/copy-all-elements-from-one-hashmap-to-another</a></p>\n"},{"tags":[],"owner":{"account_id":1361091,"reputation":5961,"user_id":1298461,"accept_rate":89,"display_name":"KIC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421411002,"creation_date":1416213987,"answer_id":26968680,"question_id":10079266,"body_markdown":"Since this question is still unanswered and I had a similar problem, I will try to answer this. The problem (as others already mentioned) is that you just copy references to the same object and thus a modify on the copy will also modify the origin object. So what you have to to is to copy the object (your map value) itself. The far easiest way to do so is to make all your objects implementing the serializeable interface. Then serialize and deserialize your map to get a real copy. You can do this by yourself or use the apache commons SerializationUtils#clone() which you can find here:  https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/SerializationUtils.html But be aware this is the simplest approach but it is an expensive task to serialize and deserialize a lot of objects.","title":"Copying a HashMap in Java","body":"<p>Since this question is still unanswered and I had a similar problem, I will try to answer this. The problem (as others already mentioned) is that you just copy references to the same object and thus a modify on the copy will also modify the origin object. So what you have to to is to copy the object (your map value) itself. The far easiest way to do so is to make all your objects implementing the serializeable interface. Then serialize and deserialize your map to get a real copy. You can do this by yourself or use the apache commons SerializationUtils#clone() which you can find here:  <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/SerializationUtils.html\" rel=\"nofollow\">https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/SerializationUtils.html</a> But be aware this is the simplest approach but it is an expensive task to serialize and deserialize a lot of objects.</p>\n"},{"tags":[],"owner":{"account_id":2484267,"reputation":3870,"user_id":2163045,"accept_rate":53,"display_name":"murt"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1526504673,"creation_date":1454923466,"answer_id":35266085,"question_id":10079266,"body_markdown":"There is a small (HUGE) understatement here. If you want to copy a `HashMap` with nested structures, `HashMap.putAll()` will copy by reference, because it doesn&#39;t know how to exactly copy your object. [For example:](https://code.sololearn.com/c6Eq9jB2WTfs)\r\n\r\n    import java.util.*;\r\n    class Playground {\r\n        public static void main(String[ ] args) {\r\n            Map&lt;Integer, Map&lt;Integer,List&lt;Float&gt;&gt;&gt; dataA = new HashMap&lt;&gt;();\r\n            Map&lt;Integer, Map&lt;Integer,List&lt;Float&gt;&gt;&gt; dataB = new HashMap&lt;&gt;();\r\n    \r\n            dataA.put(1, new HashMap&lt;&gt;());\r\n            dataB.putAll(dataA);\r\n            \r\n            assert(dataB.get(1).size() == 0);\r\n    \r\n            dataA.get(1).put(2, new ArrayList&lt;&gt;());\r\n            \r\n            if (dataB.get(1).size() == 1) { // true\r\n                System.out.println(\r\n                    &quot;Sorry object reference was copied - not the values&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nSo basically you will need to copy the fields yourself like here\r\n\r\n    List &lt;Float&gt; aX = new ArrayList&lt;&gt;(accelerometerReadingsX);\r\n    List &lt;Float&gt; aY = new ArrayList&lt;&gt;(accelerometerReadingsY);\r\n            \r\n    List &lt;Float&gt; gX = new ArrayList&lt;&gt;(gyroscopeReadingsX);\r\n    List &lt;Float&gt; gY = new ArrayList&lt;&gt;(gyroscopeReadingsY);\r\n    \r\n    Map&lt;Integer, Map&lt;Integer, Float&gt;&gt; readings = new HashMap&lt;&gt;();\r\n\r\n    Map&lt;Integer,List&lt;Float&gt;&gt; accelerometerReadings = new HashMap&lt;&gt;();\r\n    accelerometerReadings.put(X_axis, aX);\r\n    accelerometerReadings.put(Y_axis, aY);\r\n    readings.put(Sensor.TYPE_ACCELEROMETER, accelerometerReadings);\r\n    \r\n    Map&lt;Integer,List&lt;Float&gt;&gt; gyroscopeReadings = new HashMap&lt;&gt;();\r\n    gyroscopeReadings.put(X_axis, gX);\r\n    gyroscopeReadings.put(Y_axis, gY);\r\n    readings.put(Sensor.TYPE_GYROSCOPE, gyroscopeReadings);\r\n\r\n\r\n","title":"Copying a HashMap in Java","body":"<p>There is a small (HUGE) understatement here. If you want to copy a <code>HashMap</code> with nested structures, <code>HashMap.putAll()</code> will copy by reference, because it doesn't know how to exactly copy your object. <a href=\"https://code.sololearn.com/c6Eq9jB2WTfs\" rel=\"nofollow noreferrer\">For example:</a></p>\n\n<pre><code>import java.util.*;\nclass Playground {\n    public static void main(String[ ] args) {\n        Map&lt;Integer, Map&lt;Integer,List&lt;Float&gt;&gt;&gt; dataA = new HashMap&lt;&gt;();\n        Map&lt;Integer, Map&lt;Integer,List&lt;Float&gt;&gt;&gt; dataB = new HashMap&lt;&gt;();\n\n        dataA.put(1, new HashMap&lt;&gt;());\n        dataB.putAll(dataA);\n\n        assert(dataB.get(1).size() == 0);\n\n        dataA.get(1).put(2, new ArrayList&lt;&gt;());\n\n        if (dataB.get(1).size() == 1) { // true\n            System.out.println(\n                \"Sorry object reference was copied - not the values\");\n        }\n    }\n}\n</code></pre>\n\n<p>So basically you will need to copy the fields yourself like here</p>\n\n<pre><code>List &lt;Float&gt; aX = new ArrayList&lt;&gt;(accelerometerReadingsX);\nList &lt;Float&gt; aY = new ArrayList&lt;&gt;(accelerometerReadingsY);\n\nList &lt;Float&gt; gX = new ArrayList&lt;&gt;(gyroscopeReadingsX);\nList &lt;Float&gt; gY = new ArrayList&lt;&gt;(gyroscopeReadingsY);\n\nMap&lt;Integer, Map&lt;Integer, Float&gt;&gt; readings = new HashMap&lt;&gt;();\n\nMap&lt;Integer,List&lt;Float&gt;&gt; accelerometerReadings = new HashMap&lt;&gt;();\naccelerometerReadings.put(X_axis, aX);\naccelerometerReadings.put(Y_axis, aY);\nreadings.put(Sensor.TYPE_ACCELEROMETER, accelerometerReadings);\n\nMap&lt;Integer,List&lt;Float&gt;&gt; gyroscopeReadings = new HashMap&lt;&gt;();\ngyroscopeReadings.put(X_axis, gX);\ngyroscopeReadings.put(Y_axis, gY);\nreadings.put(Sensor.TYPE_GYROSCOPE, gyroscopeReadings);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6664344,"reputation":53,"user_id":5142410,"display_name":"Felteh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551717597,"creation_date":1551717597,"answer_id":54987704,"question_id":10079266,"body_markdown":"Since the OP has mentioned he does not have access to the base class inside of which exists a HashMap - I am afraid there are very few options available.\r\n\r\nOne (painfully slow and resource intensive) way of performing a deep copy of an object in Java is to abuse the &#39;Serializable&#39; interface which many classes either intentionally - or unintentionally extend - and then utilise this to serialise your class to ByteStream. Upon de-serialisation you will have a deep copy of the object in question.\r\n\r\nA guide for this can be found here: https://www.avajava.com/tutorials/lessons/how-do-i-perform-a-deep-clone-using-serializable.html","title":"Copying a HashMap in Java","body":"<p>Since the OP has mentioned he does not have access to the base class inside of which exists a HashMap - I am afraid there are very few options available.</p>\n\n<p>One (painfully slow and resource intensive) way of performing a deep copy of an object in Java is to abuse the 'Serializable' interface which many classes either intentionally - or unintentionally extend - and then utilise this to serialise your class to ByteStream. Upon de-serialisation you will have a deep copy of the object in question.</p>\n\n<p>A guide for this can be found here: <a href=\"https://www.avajava.com/tutorials/lessons/how-do-i-perform-a-deep-clone-using-serializable.html\" rel=\"nofollow noreferrer\">https://www.avajava.com/tutorials/lessons/how-do-i-perform-a-deep-clone-using-serializable.html</a></p>\n"},{"tags":[],"owner":{"account_id":7008272,"reputation":7615,"user_id":5372008,"display_name":"Teocci"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1559344444,"creation_date":1558605132,"answer_id":56272565,"question_id":10079266,"body_markdown":"If we want to copy an object in Java, there are two possibilities that we need to consider: a **shallow copy** and a **deep copy**. \r\n\r\nThe **shallow copy** is the approach when we only copy field values. Therefore, the copy might be dependent on the original object. In the **deep copy** approach, we make sure that all the objects in the tree are deeply copied, so the copy is not dependent on any earlier existing object that might ever change.\r\n\r\nThis question is the perfect definition for the application of the **deep copy** approach. \r\n\r\nFirst, if you have a simple `HashMap&lt;Integer, List&lt;T&gt;&gt;` map then we just create a workaround like this. Creating a new instance of the `List&lt;T&gt;`.\r\n\r\n\r\n```java\r\npublic static &lt;T&gt; HashMap&lt;Integer, List&lt;T&gt;&gt; deepCopyWorkAround(HashMap&lt;Integer, List&lt;T&gt;&gt; original)\r\n{\r\n    HashMap&lt;Integer, List&lt;T&gt;&gt; copy = new HashMap&lt;&gt;();\r\n    for (Map.Entry&lt;Integer, List&lt;T&gt;&gt; entry : original.entrySet()) {\r\n        copy.put(entry.getKey(), new ArrayList&lt;&gt;(entry.getValue()));\r\n    }\r\n    return copy;\r\n}\r\n```\r\nThis one uses `Stream.collect()` method to create the clone map, but uses the same idea as the previous method.\r\n\r\n```java\r\npublic static &lt;T&gt; Map&lt;Integer, List&lt;T&gt;&gt; deepCopyStreamWorkAround(Map&lt;Integer, List&lt;T&gt;&gt; original)\r\n{\r\n    return original\r\n            .entrySet()\r\n            .stream()\r\n            .collect(Collectors.toMap(Map.Entry::getKey, valueMapper -&gt; new ArrayList&lt;&gt;(valueMapper.getValue())));\r\n}   \r\n```\r\n\r\nBut, if the instances inside `T` are also **mutable objects** we have a big problem. In this case a real  deep copy is an alternative that solves this problem. Its advantage is that at least each **mutable object** in the object graph is recursively copied. Since the copy is not dependent on any **mutable object** that was created earlier, it won’t get modified by accident like we saw with the shallow copy.\r\n\r\nTo solve that this deep copy implementations will do the work.\r\n\r\n```java\r\npublic class DeepClone\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        Map&lt;Long, Item&gt; itemMap = Stream.of(\r\n                entry(0L, new Item(2558584)),\r\n                entry(1L, new Item(254243232)),\r\n                entry(2L, new Item(986786)),\r\n                entry(3L, new Item(672542)),\r\n                entry(4L, new Item(4846)),\r\n                entry(5L, new Item(76867467)),\r\n                entry(6L, new Item(986786)),\r\n                entry(7L, new Item(7969768)),\r\n                entry(8L, new Item(68868486)),\r\n                entry(9L, new Item(923)),\r\n                entry(10L, new Item(986786)),\r\n                entry(11L, new Item(549768)),\r\n                entry(12L, new Item(796168)),\r\n                entry(13L, new Item(868421)),\r\n                entry(14L, new Item(923)),\r\n                entry(15L, new Item(986786)),\r\n                entry(16L, new Item(549768)),\r\n                entry(17L, new Item(4846)),\r\n                entry(18L, new Item(4846)),\r\n                entry(19L, new Item(76867467)),\r\n                entry(20L, new Item(986786)),\r\n                entry(21L, new Item(7969768)),\r\n                entry(22L, new Item(923)),\r\n                entry(23L, new Item(4846)),\r\n                entry(24L, new Item(986786)),\r\n                entry(25L, new Item(549768))\r\n        ).collect(entriesToMap());\r\n\r\n\r\n        Map&lt;Long, Item&gt; clone = DeepClone.deepClone(itemMap);\r\n        clone.remove(1L);\r\n        clone.remove(2L);\r\n\r\n        System.out.println(itemMap);\r\n        System.out.println(clone);\r\n    }\r\n\r\n    private DeepClone() {}\r\n\r\n    public static &lt;T&gt; T deepClone(final T input)\r\n    {\r\n        if (input == null) return null;\r\n\r\n        if (input instanceof Map&lt;?, ?&gt;) {\r\n            return (T) deepCloneMap((Map&lt;?, ?&gt;) input);\r\n        } else if (input instanceof Collection&lt;?&gt;) {\r\n            return (T) deepCloneCollection((Collection&lt;?&gt;) input);\r\n        } else if (input instanceof Object[]) {\r\n            return (T) deepCloneObjectArray((Object[]) input);\r\n        } else if (input.getClass().isArray()) {\r\n            return (T) clonePrimitiveArray((Object) input);\r\n        }\r\n\r\n        return input;\r\n    }\r\n\r\n    private static Object clonePrimitiveArray(final Object input)\r\n    {\r\n        final int length = Array.getLength(input);\r\n        final Object output = Array.newInstance(input.getClass().getComponentType(), length);\r\n        System.arraycopy(input, 0, output, 0, length);\r\n        return output;\r\n    }\r\n\r\n    private static &lt;E&gt; E[] deepCloneObjectArray(final E[] input)\r\n    {\r\n        final E[] clone = (E[]) Array.newInstance(input.getClass().getComponentType(), input.length);\r\n        for (int i = 0; i &lt; input.length; i++) {\r\n            clone[i] = deepClone(input[i]);\r\n        }\r\n\r\n        return clone;\r\n    }\r\n\r\n    private static &lt;E&gt; Collection&lt;E&gt; deepCloneCollection(final Collection&lt;E&gt; input)\r\n    {\r\n        Collection&lt;E&gt; clone;\r\n        if (input instanceof LinkedList&lt;?&gt;) {\r\n            clone = new LinkedList&lt;&gt;();\r\n        } else if (input instanceof SortedSet&lt;?&gt;) {\r\n            clone = new TreeSet&lt;&gt;();\r\n        } else if (input instanceof Set) {\r\n            clone = new HashSet&lt;&gt;();\r\n        } else {\r\n            clone = new ArrayList&lt;&gt;();\r\n        }\r\n\r\n        for (E item : input) {\r\n            clone.add(deepClone(item));\r\n        }\r\n\r\n        return clone;\r\n    }\r\n\r\n    private static &lt;K, V&gt; Map&lt;K, V&gt; deepCloneMap(final Map&lt;K, V&gt; map)\r\n    {\r\n        Map&lt;K, V&gt; clone;\r\n        if (map instanceof LinkedHashMap&lt;?, ?&gt;) {\r\n            clone = new LinkedHashMap&lt;&gt;();\r\n        } else if (map instanceof TreeMap&lt;?, ?&gt;) {\r\n            clone = new TreeMap&lt;&gt;();\r\n        } else {\r\n            clone = new HashMap&lt;&gt;();\r\n        }\r\n\r\n        for (Map.Entry&lt;K, V&gt; entry : map.entrySet()) {\r\n            clone.put(deepClone(entry.getKey()), deepClone(entry.getValue()));\r\n        }\r\n\r\n        return clone;\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"Copying a HashMap in Java","body":"<p>If we want to copy an object in Java, there are two possibilities that we need to consider: a <strong>shallow copy</strong> and a <strong>deep copy</strong>. </p>\n\n<p>The <strong>shallow copy</strong> is the approach when we only copy field values. Therefore, the copy might be dependent on the original object. In the <strong>deep copy</strong> approach, we make sure that all the objects in the tree are deeply copied, so the copy is not dependent on any earlier existing object that might ever change.</p>\n\n<p>This question is the perfect definition for the application of the <strong>deep copy</strong> approach. </p>\n\n<p>First, if you have a simple <code>HashMap&lt;Integer, List&lt;T&gt;&gt;</code> map then we just create a workaround like this. Creating a new instance of the <code>List&lt;T&gt;</code>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; HashMap&lt;Integer, List&lt;T&gt;&gt; deepCopyWorkAround(HashMap&lt;Integer, List&lt;T&gt;&gt; original)\n{\n    HashMap&lt;Integer, List&lt;T&gt;&gt; copy = new HashMap&lt;&gt;();\n    for (Map.Entry&lt;Integer, List&lt;T&gt;&gt; entry : original.entrySet()) {\n        copy.put(entry.getKey(), new ArrayList&lt;&gt;(entry.getValue()));\n    }\n    return copy;\n}\n</code></pre>\n\n<p>This one uses <code>Stream.collect()</code> method to create the clone map, but uses the same idea as the previous method.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; Map&lt;Integer, List&lt;T&gt;&gt; deepCopyStreamWorkAround(Map&lt;Integer, List&lt;T&gt;&gt; original)\n{\n    return original\n            .entrySet()\n            .stream()\n            .collect(Collectors.toMap(Map.Entry::getKey, valueMapper -&gt; new ArrayList&lt;&gt;(valueMapper.getValue())));\n}   \n</code></pre>\n\n<p>But, if the instances inside <code>T</code> are also <strong>mutable objects</strong> we have a big problem. In this case a real  deep copy is an alternative that solves this problem. Its advantage is that at least each <strong>mutable object</strong> in the object graph is recursively copied. Since the copy is not dependent on any <strong>mutable object</strong> that was created earlier, it won’t get modified by accident like we saw with the shallow copy.</p>\n\n<p>To solve that this deep copy implementations will do the work.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class DeepClone\n{\n    public static void main(String[] args)\n    {\n        Map&lt;Long, Item&gt; itemMap = Stream.of(\n                entry(0L, new Item(2558584)),\n                entry(1L, new Item(254243232)),\n                entry(2L, new Item(986786)),\n                entry(3L, new Item(672542)),\n                entry(4L, new Item(4846)),\n                entry(5L, new Item(76867467)),\n                entry(6L, new Item(986786)),\n                entry(7L, new Item(7969768)),\n                entry(8L, new Item(68868486)),\n                entry(9L, new Item(923)),\n                entry(10L, new Item(986786)),\n                entry(11L, new Item(549768)),\n                entry(12L, new Item(796168)),\n                entry(13L, new Item(868421)),\n                entry(14L, new Item(923)),\n                entry(15L, new Item(986786)),\n                entry(16L, new Item(549768)),\n                entry(17L, new Item(4846)),\n                entry(18L, new Item(4846)),\n                entry(19L, new Item(76867467)),\n                entry(20L, new Item(986786)),\n                entry(21L, new Item(7969768)),\n                entry(22L, new Item(923)),\n                entry(23L, new Item(4846)),\n                entry(24L, new Item(986786)),\n                entry(25L, new Item(549768))\n        ).collect(entriesToMap());\n\n\n        Map&lt;Long, Item&gt; clone = DeepClone.deepClone(itemMap);\n        clone.remove(1L);\n        clone.remove(2L);\n\n        System.out.println(itemMap);\n        System.out.println(clone);\n    }\n\n    private DeepClone() {}\n\n    public static &lt;T&gt; T deepClone(final T input)\n    {\n        if (input == null) return null;\n\n        if (input instanceof Map&lt;?, ?&gt;) {\n            return (T) deepCloneMap((Map&lt;?, ?&gt;) input);\n        } else if (input instanceof Collection&lt;?&gt;) {\n            return (T) deepCloneCollection((Collection&lt;?&gt;) input);\n        } else if (input instanceof Object[]) {\n            return (T) deepCloneObjectArray((Object[]) input);\n        } else if (input.getClass().isArray()) {\n            return (T) clonePrimitiveArray((Object) input);\n        }\n\n        return input;\n    }\n\n    private static Object clonePrimitiveArray(final Object input)\n    {\n        final int length = Array.getLength(input);\n        final Object output = Array.newInstance(input.getClass().getComponentType(), length);\n        System.arraycopy(input, 0, output, 0, length);\n        return output;\n    }\n\n    private static &lt;E&gt; E[] deepCloneObjectArray(final E[] input)\n    {\n        final E[] clone = (E[]) Array.newInstance(input.getClass().getComponentType(), input.length);\n        for (int i = 0; i &lt; input.length; i++) {\n            clone[i] = deepClone(input[i]);\n        }\n\n        return clone;\n    }\n\n    private static &lt;E&gt; Collection&lt;E&gt; deepCloneCollection(final Collection&lt;E&gt; input)\n    {\n        Collection&lt;E&gt; clone;\n        if (input instanceof LinkedList&lt;?&gt;) {\n            clone = new LinkedList&lt;&gt;();\n        } else if (input instanceof SortedSet&lt;?&gt;) {\n            clone = new TreeSet&lt;&gt;();\n        } else if (input instanceof Set) {\n            clone = new HashSet&lt;&gt;();\n        } else {\n            clone = new ArrayList&lt;&gt;();\n        }\n\n        for (E item : input) {\n            clone.add(deepClone(item));\n        }\n\n        return clone;\n    }\n\n    private static &lt;K, V&gt; Map&lt;K, V&gt; deepCloneMap(final Map&lt;K, V&gt; map)\n    {\n        Map&lt;K, V&gt; clone;\n        if (map instanceof LinkedHashMap&lt;?, ?&gt;) {\n            clone = new LinkedHashMap&lt;&gt;();\n        } else if (map instanceof TreeMap&lt;?, ?&gt;) {\n            clone = new TreeMap&lt;&gt;();\n        } else {\n            clone = new HashMap&lt;&gt;();\n        }\n\n        for (Map.Entry&lt;K, V&gt; entry : map.entrySet()) {\n            clone.put(deepClone(entry.getKey()), deepClone(entry.getValue()));\n        }\n\n        return clone;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2765300,"reputation":3426,"user_id":2381172,"display_name":"xuesheng"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1679052153,"creation_date":1561626316,"answer_id":56787594,"question_id":10079266,"body_markdown":"Since Java 10 it is possible to use \r\n\r\n    Map.copyOf\r\n\r\nfor creating a **shallow copy**, which is also immutable. (Here is its [Javadoc][1]). For a **deep copy**, as mentioned in this [answer][2], you need some kind of value mapper to make a safe copy of values. You don&#39;t need to copy *keys* though, since they must be *immutable*.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Map.html#copyOf(java.util.Map)\r\n  [2]: https://stackoverflow.com/a/56272565/2381172","title":"Copying a HashMap in Java","body":"<p>Since Java 10 it is possible to use</p>\n<pre><code>Map.copyOf\n</code></pre>\n<p>for creating a <strong>shallow copy</strong>, which is also immutable. (Here is its <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Map.html#copyOf(java.util.Map)\" rel=\"nofollow noreferrer\">Javadoc</a>). For a <strong>deep copy</strong>, as mentioned in this <a href=\"https://stackoverflow.com/a/56272565/2381172\">answer</a>, you need some kind of value mapper to make a safe copy of values. You don't need to copy <em>keys</em> though, since they must be <em>immutable</em>.</p>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678963803,"creation_date":1596466420,"answer_id":63231779,"question_id":10079266,"body_markdown":"**Java Copying a HashMap**\r\n\r\nJava supports **shallow**(not deep) copy concept\r\n\r\nYou can archive it using:\r\n \r\n- constructor \r\n- `clone()`\r\n- `putAll()`\r\n","title":"Copying a HashMap in Java","body":"<p><strong>Java Copying a HashMap</strong></p>\n<p>Java supports <strong>shallow</strong>(not deep) copy concept</p>\n<p>You can archive it using:</p>\n<ul>\n<li>constructor</li>\n<li><code>clone()</code></li>\n<li><code>putAll()</code></li>\n</ul>\n"}],"owner":{"account_id":353541,"reputation":1580,"user_id":691305,"display_name":"user691305"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267127,"favorite_count":0,"down_vote_count":1,"up_vote_count":145,"answer_count":11,"score":144,"last_activity_date":1679052153,"creation_date":1334002680,"question_id":10079266,"body_markdown":"I am trying to keep a temporary container of a class that contains member :\r\n\r\n    HashMap&lt;Integer,myObject&gt; myobjectHashMap\r\n\r\nA class called myobjectsList\r\n\r\nThen I do \r\n\r\n    myobjectsListA = new myobjectsList();\r\n    myobjectsListB = new myobjectsList();\r\n\r\nthen: Add some hashmap items to A (like 2)\r\n\r\nthen:\r\n \r\n    myobjectListB = myobjectListA; //B has 2\r\n\r\nthen: Add hashmap items to A (like 4 more)\r\n\r\nthen: return A to the items stored in B\r\n\r\n    myobjectListA = myobjectListb;\r\n\r\n\r\nBut when I do this, B grows with A while I am adding hashmap items to A.\r\nA now has 6 items in it because B had 6.\r\n\r\nI want A to still have the original 2 at the end after last assignment.\r\nIn C++ I would use copy with objects, what is the java equivalent?\r\n\r\nAdded: OK I left something out explaining this. `MyObjectsList` does not contain the HashMap, it is derived from a class `MyBaseOjbectsList` which has the HashMap member and `MyObjectsList` extends `MyBaseOjbectsList`. Does this make a difference?\r\n","title":"Copying a HashMap in Java","body":"<p>I am trying to keep a temporary container of a class that contains member :</p>\n<pre><code>HashMap&lt;Integer,myObject&gt; myobjectHashMap\n</code></pre>\n<p>A class called myobjectsList</p>\n<p>Then I do</p>\n<pre><code>myobjectsListA = new myobjectsList();\nmyobjectsListB = new myobjectsList();\n</code></pre>\n<p>then: Add some hashmap items to A (like 2)</p>\n<p>then:</p>\n<pre><code>myobjectListB = myobjectListA; //B has 2\n</code></pre>\n<p>then: Add hashmap items to A (like 4 more)</p>\n<p>then: return A to the items stored in B</p>\n<pre><code>myobjectListA = myobjectListb;\n</code></pre>\n<p>But when I do this, B grows with A while I am adding hashmap items to A.\nA now has 6 items in it because B had 6.</p>\n<p>I want A to still have the original 2 at the end after last assignment.\nIn C++ I would use copy with objects, what is the java equivalent?</p>\n<p>Added: OK I left something out explaining this. <code>MyObjectsList</code> does not contain the HashMap, it is derived from a class <code>MyBaseOjbectsList</code> which has the HashMap member and <code>MyObjectsList</code> extends <code>MyBaseOjbectsList</code>. Does this make a difference?</p>\n"},{"tags":["java","android","live-streaming"],"comments":[{"owner":{"display_name":"user19309143"},"score":0,"creation_date":1656542879,"post_id":72752612,"comment_id":128601814,"body_markdown":"I don&#39;t have time to write an example project but the concept is simple, especially if the &quot;server&quot; and &quot;client&quot; are on the same wifi network. Have the server create a video stream and send it through a UDP socket. Have the client create a UDP socket and listen to the server. Things only get complicated when you need more than ~10-15fps.","body":"I don&#39;t have time to write an example project but the concept is simple, especially if the &quot;server&quot; and &quot;client&quot; are on the same wifi network. Have the server create a video stream and send it through a UDP socket. Have the client create a UDP socket and listen to the server. Things only get complicated when you need more than ~10-15fps."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1656615532,"post_id":72752612,"comment_id":128622581,"body_markdown":"@Thanks free_coupons_for_sale_1023. Actually 15 fps would be enough but 10 fps is too less. You mentioned &quot;Have the server create a video stream and send it through a UDP socket&quot; --&gt; Which Android Java class would you recommend me to use for creating a video stream and which Android Java class for the UDP socket?","body":"@Thanks free_coupons_for_sale_1023. Actually 15 fps would be enough but 10 fps is too less. You mentioned &quot;Have the server create a video stream and send it through a UDP socket&quot; --&gt; Which Android Java class would you recommend me to use for creating a video stream and which Android Java class for the UDP socket?"},{"owner":{"display_name":"user19309143"},"score":0,"creation_date":1656616066,"post_id":72752612,"comment_id":128622740,"body_markdown":"The ~10-15 fps is an estimate; the actual rate will depend on the hardware used. In terms of the classes, `java.net.Socket` and the [Android Camera API](https://developer.android.com/guide/topics/media/camera). I&#39;m sure there exist libraries that simplify the process, but I don&#39;t know of any at hand.","body":"The ~10-15 fps is an estimate; the actual rate will depend on the hardware used. In terms of the classes, <code>java.net.Socket</code> and the <a href=\"https://developer.android.com/guide/topics/media/camera\" rel=\"nofollow noreferrer\">Android Camera API</a>. I&#39;m sure there exist libraries that simplify the process, but I don&#39;t know of any at hand."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1656689661,"post_id":72752612,"comment_id":128641194,"body_markdown":"@free_coupons_for_sale_1023: Thanks Free Coupons for your answer. Actually one of the purposes of this question is to get to know libraries for this task. I searched in the Internet but I could only find really complex solutions as the ones I posted in my question. So  I am not really sure whether there are really good libraries for that as you assume.","body":"@free_coupons_for_sale_1023: Thanks Free Coupons for your answer. Actually one of the purposes of this question is to get to know libraries for this task. I searched in the Internet but I could only find really complex solutions as the ones I posted in my question. So  I am not really sure whether there are really good libraries for that as you assume."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1657352499,"post_id":72752612,"comment_id":128794275,"body_markdown":"@free_coupons_for_sale_1023: Any comments on my last comment? I&#39;ll highly appreciate every further comment from you.","body":"@free_coupons_for_sale_1023: Any comments on my last comment? I&#39;ll highly appreciate every further comment from you."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1658252313,"post_id":72752612,"comment_id":129003950,"body_markdown":"@free_coupons_for_sale_1023: Any free coupons from you for my question?","body":"@free_coupons_for_sale_1023: Any free coupons from you for my question?"},{"owner":{"display_name":"user19309143"},"score":0,"creation_date":1658252480,"post_id":72752612,"comment_id":129004007,"body_markdown":"No. Everything that I know of is in the above comments.","body":"No. Everything that I know of is in the above comments."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1658252737,"post_id":72752612,"comment_id":129004085,"body_markdown":"Thanks for your comments  free_coupons_for_sale_1023. Your wrote &quot;I&#39;m sure there exist libraries that simplify the process, but I don&#39;t know of any at hand.&quot; --&gt;\nAs written in my comments, I searched for quite long in the Internet to find some libraries and I could not find any. So I am questioning your assumption. Still I appreciate your input.","body":"Thanks for your comments  free_coupons_for_sale_1023. Your wrote &quot;I&#39;m sure there exist libraries that simplify the process, but I don&#39;t know of any at hand.&quot; --&gt; As written in my comments, I searched for quite long in the Internet to find some libraries and I could not find any. So I am questioning your assumption. Still I appreciate your input."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1658507927,"post_id":72752612,"comment_id":129076903,"body_markdown":"Seeking recommendations for books, tools, software libraries, and more is considered to be off-topic for this site. That being said, you may want to look into WebRTC.","body":"Seeking recommendations for books, tools, software libraries, and more is considered to be off-topic for this site. That being said, you may want to look into WebRTC."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1658561562,"post_id":72752612,"comment_id":129086343,"body_markdown":"@CommonsWare: Thanks for your comment &quot;CommonsWare&quot;. Actually my question is whether it is possible to send a live stream from one app to another in Android via WiFi. Others also had this question as you can see in the links above. Unforunately, they are very old (more than 10 years) and the answers point to solutions that are extremely complex. Thus, I just want to know if - after 10 years - there are easiert solutions for this purpose. So I think that the question is quite relevant (because the linked questions received many upvotes) and after 10 years it&#39;s appripiate to ask for an update","body":"@CommonsWare: Thanks for your comment &quot;CommonsWare&quot;. Actually my question is whether it is possible to send a live stream from one app to another in Android via WiFi. Others also had this question as you can see in the links above. Unforunately, they are very old (more than 10 years) and the answers point to solutions that are extremely complex. Thus, I just want to know if - after 10 years - there are easiert solutions for this purpose. So I think that the question is quite relevant (because the linked questions received many upvotes) and after 10 years it&#39;s appripiate to ask for an update"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1658563473,"post_id":72752612,"comment_id":129086685,"body_markdown":"@CommonsWare: I had a look at WebRTC but this seems extremely complex to use as you need also many other libraries and tools for it and you need to implement steps that tend to be quite difficult and error prone (according to many comments from tutorials). Further, I don&#39;t want to create a video chat function but just to send one livestream from one Android app to another (so only one side sends a video). Do you have any idea, how I can do that in an easy way? &quot;free_coupons_for_sale1023&quot; suggested a UDP socket approach. Do you know any libraries that simplify this approach?","body":"@CommonsWare: I had a look at WebRTC but this seems extremely complex to use as you need also many other libraries and tools for it and you need to implement steps that tend to be quite difficult and error prone (according to many comments from tutorials). Further, I don&#39;t want to create a video chat function but just to send one livestream from one Android app to another (so only one side sends a video). Do you have any idea, how I can do that in an easy way? &quot;free_coupons_for_sale1023&quot; suggested a UDP socket approach. Do you know any libraries that simplify this approach?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1658573134,"post_id":72752612,"comment_id":129088287,"body_markdown":"&quot;So I think that the question is quite relevant&quot; -- the subject matter is relevant for the site. Asking for libraries and other off-site resources is what makes it off-topic. See [the site documentation](https://stackoverflow.com/help/on-topic), &quot;Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.&quot;.","body":"&quot;So I think that the question is quite relevant&quot; -- the subject matter is relevant for the site. Asking for libraries and other off-site resources is what makes it off-topic. See <a href=\"https://stackoverflow.com/help/on-topic\">the site documentation</a>, &quot;Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.&quot;."},{"owner":{"account_id":2558875,"reputation":1292,"user_id":2220318,"accept_rate":83,"display_name":"Rahul Shukla"},"score":0,"creation_date":1658894711,"post_id":72752612,"comment_id":129162618,"body_markdown":"What&#39;s wrong with a 10-year-old approach, if it solves your problem. The libraries you are looking for will be doing just that. You can write one for the community.\nYou can also search of Android based IP Cam server and Client which are doing similar task. https://github.com/niqdev/ipcam-view","body":"What&#39;s wrong with a 10-year-old approach, if it solves your problem. The libraries you are looking for will be doing just that. You can write one for the community. You can also search of Android based IP Cam server and Client which are doing similar task. <a href=\"https://github.com/niqdev/ipcam-view\" rel=\"nofollow noreferrer\">github.com/niqdev/ipcam-view</a>"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1658942525,"post_id":72752612,"comment_id":129179798,"body_markdown":"@RahulShukla: Thanks for your comments. Well the old approaches are not only quite old but also extremely complex and I am just wondering whether after 10 year a more convenient way exists to stream a video from one app to another using WiFi","body":"@RahulShukla: Thanks for your comments. Well the old approaches are not only quite old but also extremely complex and I am just wondering whether after 10 year a more convenient way exists to stream a video from one app to another using WiFi"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1658943607,"post_id":72752612,"comment_id":129180218,"body_markdown":"@RahulShukla: I seached in the Internet for many hours but I could not find any suitable library unfortunately. This is the reason for my question. Maybe if you know a good library you can tell me (the one you posted is not suitable because it only works for IP cams). I think the approach suggested by user19309143 sound not bad &quot;Have the server create a video stream and send it through a UDP socket. Have the client create a UDP socket and listen to the server.&quot; But it would be good if there are some libraries that simplify this complex process. Do you have any advice?","body":"@RahulShukla: I seached in the Internet for many hours but I could not find any suitable library unfortunately. This is the reason for my question. Maybe if you know a good library you can tell me (the one you posted is not suitable because it only works for IP cams). I think the approach suggested by user19309143 sound not bad &quot;Have the server create a video stream and send it through a UDP socket. Have the client create a UDP socket and listen to the server.&quot; But it would be good if there are some libraries that simplify this complex process. Do you have any advice?"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1659192282,"post_id":72752612,"comment_id":129237716,"body_markdown":"@RahulShukla: Any further comments?","body":"@RahulShukla: Any further comments?"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1662800496,"post_id":72752612,"comment_id":130093419,"body_markdown":"@RahulShukla: Any further comments? I&#39;ll appreciate it.","body":"@RahulShukla: Any further comments? I&#39;ll appreciate it."}],"answers":[{"tags":[],"owner":{"account_id":453392,"reputation":3421,"user_id":850347,"accept_rate":86,"display_name":"Stanley Ko"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658967782,"creation_date":1658967782,"answer_id":73145924,"question_id":72752612,"body_markdown":"&gt; Seeking recommendations for books, tools, software libraries, and more is considered to be off-topic for this site.\r\n\r\nAs @CommonsWare said, it is off-topic. But learning how to do it from a good example will be fine. So......\r\n\r\nhttps://github.com/hypeapps/Endoscope (626 stars)\r\nLicense: GNU GENERAL PUBLIC LICENSE Version 3, 29 June 2007\r\n\r\nThese are brief points you want to know in this open-source app.\r\nBut since it is GNU licensed, if you want to fully use this, you need to make your source code GNU open-source also.\r\n\r\n**Host**\r\n\r\nVideoStream.java\r\n\r\n\t/**\r\n\t * Starts the stream.\r\n\t * This will also open the camera and display the preview \r\n\t * if {@link #startPreview()} has not already been called.\r\n\t */\r\n\tpublic synchronized void start() throws IllegalStateException, IOException {\r\n\t\tif (!mPreviewStarted) mCameraOpenedManually = false;\r\n\t\tsuper.start();\r\n\t\tLog.d(TAG,&quot;Stream configuration: FPS: &quot;+mQuality.framerate+&quot; Width: &quot;+mQuality.resX+&quot; Height: &quot;+mQuality.resY);\r\n\t}\r\n\r\n\r\nRtspServer.java \r\n\r\n    /* Method PLAY */           \r\n    else if (request.method.equalsIgnoreCase(&quot;PLAY&quot;)) {\r\n    ...         \r\n    requestAttributes += &quot;url=rtsp://&quot; + mClient.getLocalAddress().getHostAddress() + &quot;:&quot; + mClient.getLocalPort() + &quot;/trackID=&quot; + 0 + &quot;;seq=0,&quot;;\r\n    ...\r\n    // If no exception has been thrown, we reply with OK\r\n    response.status = Response.STATUS_OK;\r\n    }\r\n\r\n\r\n**Client**\r\nPlay: It uses a media player.\r\n\r\n    @Override\r\n    public void configureMediaPlayer(Uri videoUri) {\r\n        ...\r\n        ...\r\n        try {\r\n            mediaPlayer.setDataSource(this, videoUri);\r\n            mediaPlayer.prepareAsync();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n","title":"Is it possible to send a live stream from one app to another in Android via WiFi","body":"<blockquote>\n<p>Seeking recommendations for books, tools, software libraries, and more is considered to be off-topic for this site.</p>\n</blockquote>\n<p>As @CommonsWare said, it is off-topic. But learning how to do it from a good example will be fine. So......</p>\n<p><a href=\"https://github.com/hypeapps/Endoscope\" rel=\"nofollow noreferrer\">https://github.com/hypeapps/Endoscope</a> (626 stars)\nLicense: GNU GENERAL PUBLIC LICENSE Version 3, 29 June 2007</p>\n<p>These are brief points you want to know in this open-source app.\nBut since it is GNU licensed, if you want to fully use this, you need to make your source code GNU open-source also.</p>\n<p><strong>Host</strong></p>\n<p>VideoStream.java</p>\n<pre><code>/**\n * Starts the stream.\n * This will also open the camera and display the preview \n * if {@link #startPreview()} has not already been called.\n */\npublic synchronized void start() throws IllegalStateException, IOException {\n    if (!mPreviewStarted) mCameraOpenedManually = false;\n    super.start();\n    Log.d(TAG,&quot;Stream configuration: FPS: &quot;+mQuality.framerate+&quot; Width: &quot;+mQuality.resX+&quot; Height: &quot;+mQuality.resY);\n}\n</code></pre>\n<p>RtspServer.java</p>\n<pre><code>/* Method PLAY */           \nelse if (request.method.equalsIgnoreCase(&quot;PLAY&quot;)) {\n...         \nrequestAttributes += &quot;url=rtsp://&quot; + mClient.getLocalAddress().getHostAddress() + &quot;:&quot; + mClient.getLocalPort() + &quot;/trackID=&quot; + 0 + &quot;;seq=0,&quot;;\n...\n// If no exception has been thrown, we reply with OK\nresponse.status = Response.STATUS_OK;\n}\n</code></pre>\n<p><strong>Client</strong>\nPlay: It uses a media player.</p>\n<pre><code>@Override\npublic void configureMediaPlayer(Uri videoUri) {\n    ...\n    ...\n    try {\n        mediaPlayer.setDataSource(this, videoUri);\n        mediaPlayer.prepareAsync();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":757,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1679052120,"creation_date":1656148115,"question_id":72752612,"body_markdown":"I have 2 similar apps. One servers as the server and the other one can be seen as a client. Now I would to use the camera of the server app and stream this video within the app to the client via WiFi. I would like to know if there is a more or less convenient way of doing this in Android with Java. I found some posts on Stackoverflow regarding this issue like https://stackoverflow.com/questions/14401340/live-stream-video-from-one-android-phone-to-another-over-wifi, https://stackoverflow.com/questions/6116880/stream-live-video-from-phone-to-phone-using-socket-fd/ or https://stackoverflow.com/questions/5339330/live-video-streaming-application-on-android. But they are all about 10 years old and I would like to know if there is now a more convenient way of doing this?\r\n\r\n\r\n**Reminder**: Does nobody have any good solution for this?","title":"Is it possible to send a live stream from one app to another in Android via WiFi","body":"<p>I have 2 similar apps. One servers as the server and the other one can be seen as a client. Now I would to use the camera of the server app and stream this video within the app to the client via WiFi. I would like to know if there is a more or less convenient way of doing this in Android with Java. I found some posts on Stackoverflow regarding this issue like <a href=\"https://stackoverflow.com/questions/14401340/live-stream-video-from-one-android-phone-to-another-over-wifi\">Live-stream video from one android phone to another over WiFi</a>, <a href=\"https://stackoverflow.com/questions/6116880/stream-live-video-from-phone-to-phone-using-socket-fd/\">Stream live video from phone to phone using socket fd</a> or <a href=\"https://stackoverflow.com/questions/5339330/live-video-streaming-application-on-android\">Live video streaming application on Android</a>. But they are all about 10 years old and I would like to know if there is now a more convenient way of doing this?</p>\n<p><strong>Reminder</strong>: Does nobody have any good solution for this?</p>\n"},{"tags":["java","parsing","floating-point"],"comments":[{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":3,"creation_date":1678891036,"post_id":75746161,"comment_id":133621187,"body_markdown":"&quot;But I get 1.0651565E7&quot; - there&#39;s nothing wrong with that. Note that a `float` is just a number, it does not know anything about how you want it to be formatted when you print it. So there&#39;s no reason why it should print exactly as `10651565.29`, as you seem to expect. Also, the precision of `float` is limited to approximately 6 or 7 decimal digits, and your input number has 10 digits, so it will be impossible to store this number with 10 digits of precision in a `float`.","body":"&quot;But I get 1.0651565E7&quot; - there&#39;s nothing wrong with that. Note that a <code>float</code> is just a number, it does not know anything about how you want it to be formatted when you print it. So there&#39;s no reason why it should print exactly as <code>10651565.29</code>, as you seem to expect. Also, the precision of <code>float</code> is limited to approximately 6 or 7 decimal digits, and your input number has 10 digits, so it will be impossible to store this number with 10 digits of precision in a <code>float</code>."},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1678891080,"post_id":75746161,"comment_id":133621206,"body_markdown":"Use `BigDecimal` instead of `float` if you need to store decimal numbers with arbitrary precision.","body":"Use <code>BigDecimal</code> instead of <code>float</code> if you need to store decimal numbers with arbitrary precision."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1678891169,"post_id":75746161,"comment_id":133621239,"body_markdown":"What you are actually complaining of is that `1.0651565E7` is not precisely equal to `10651565.29`.  Welcome to the wold of computer floating point.  `float` and `long` have limited **precision**.","body":"What you are actually complaining of is that <code>1.0651565E7</code> is not precisely equal to <code>10651565.29</code>.  Welcome to the wold of computer floating point.  <code>float</code> and <code>long</code> have limited <b>precision</b>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1678891416,"post_id":75746161,"comment_id":133621346,"body_markdown":"maybe try [What Every Computer Scientist Should Know About Floating-Point Arithmetic](https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html) -- or use the [`BigDecimal`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/math/BigDecimal.html) class, as already suggested","body":"maybe try <a href=\"https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a> -- or use the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\"><code>BigDecimal</code></a> class, as already suggested"},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":2,"creation_date":1678894458,"post_id":75746161,"comment_id":133622350,"body_markdown":"The number 10651565.29 does not exist in IEEE-754 single-precision floating point.  The closest you can get is 10651565.00.  (Single precision has 24 bits of precision, and for the number 10651565, you use up all 24 bits on the integer part, with no bits left over for the fraction.)","body":"The number 10651565.29 does not exist in IEEE-754 single-precision floating point.  The closest you can get is 10651565.00.  (Single precision has 24 bits of precision, and for the number 10651565, you use up all 24 bits on the integer part, with no bits left over for the fraction.)"}],"owner":{"account_id":16527989,"reputation":39,"user_id":11942117,"display_name":"UdiRahav"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679051853,"creation_date":1678890741,"question_id":75746161,"body_markdown":"I&#39;m trying parse  string 10651565.29  to float using `Float.parseFloat(&quot;10651565.29&quot;)`.\r\nBut I get 1.0651565E7.\r\n\r\nI tried to look for documentation for this but not luck.\r\nI&#39;m using Java 8, any one know where I can find documentation for `Float.parseFloat` \r\n\r\nWhat is the largest number `Float.parseFloat` can parse as is? Is it about the number of digits?\r\n\r\n     float f = Float.parseFloat(&quot;10651565.29&quot;);\r\n     System.out.println(&quot; 10651565.29 = &quot; +  f);","title":"Float.parseFloat return value for big number","body":"<p>I'm trying parse  string 10651565.29  to float using <code>Float.parseFloat(&quot;10651565.29&quot;)</code>.\nBut I get 1.0651565E7.</p>\n<p>I tried to look for documentation for this but not luck.\nI'm using Java 8, any one know where I can find documentation for <code>Float.parseFloat</code></p>\n<p>What is the largest number <code>Float.parseFloat</code> can parse as is? Is it about the number of digits?</p>\n<pre><code> float f = Float.parseFloat(&quot;10651565.29&quot;);\n System.out.println(&quot; 10651565.29 = &quot; +  f);\n</code></pre>\n"},{"tags":["java","servlets","jakarta-ee"],"owner":{"account_id":2178904,"reputation":3532,"user_id":1928863,"accept_rate":38,"display_name":"Rui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679051425,"answer_count":0,"score":0,"last_activity_date":1679051371,"creation_date":1679049368,"question_id":75766593,"body_markdown":"There is an instance variable, `int tickets` in this simple Servlet class:\r\n\r\n    import jakarta.servlet.ServletException;\r\n    import jakarta.servlet.annotation.WebServlet;\r\n    import jakarta.servlet.http.HttpServlet;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n\r\n    @WebServlet(urlPatterns=&quot;/test&quot;)\r\n    public class HelloServlet extends HttpServlet {\r\n        private int tickets;\r\n        @Override\r\n        public void init(ServletConfig config) {\r\n            tickets = 10;\r\n        }\r\n        @Override\r\n        public void doGet(HttpServletRequest req, HttpServletResponse resp)\r\n                throws ServletException, IOException {\r\n            PrintWriter writer = resp.getWriter();\r\n            writer.println(&quot;Hello World, first servlet welcome u in light of Head First Servlet :)&quot;);\r\n            writer.println(&quot;My current Servlet instance hash is &quot; + this.hashCode());\r\n        }\r\n    }\r\n\r\nIf this servlet instance is destroyed at some point after the web container startup, the `tickets` would be lost.\r\n\r\nIs a servlet instance instantiated only once after web container startup? If not, how the tickets above could be kept track of always ever since the web contain startup?","title":"Is a servlet instance instantiated only once after Web Container startup?","body":"<p>There is an instance variable, <code>int tickets</code> in this simple Servlet class:</p>\n<pre><code>import jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\n@WebServlet(urlPatterns=&quot;/test&quot;)\npublic class HelloServlet extends HttpServlet {\n    private int tickets;\n    @Override\n    public void init(ServletConfig config) {\n        tickets = 10;\n    }\n    @Override\n    public void doGet(HttpServletRequest req, HttpServletResponse resp)\n            throws ServletException, IOException {\n        PrintWriter writer = resp.getWriter();\n        writer.println(&quot;Hello World, first servlet welcome u in light of Head First Servlet :)&quot;);\n        writer.println(&quot;My current Servlet instance hash is &quot; + this.hashCode());\n    }\n}\n</code></pre>\n<p>If this servlet instance is destroyed at some point after the web container startup, the <code>tickets</code> would be lost.</p>\n<p>Is a servlet instance instantiated only once after web container startup? If not, how the tickets above could be kept track of always ever since the web contain startup?</p>\n"},{"tags":["java","swagger-codegen"],"comments":[{"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"score":1,"creation_date":1642419749,"post_id":70740728,"comment_id":125057790,"body_markdown":"Update to 3.1.x and you [should be fine](https://github.com/OpenAPITools/openapi-generator/blob/master/docs/migration-guide.adoc#from-30x-to-310)","body":"Update to 3.1.x and you <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/docs/migration-guide.adoc#from-30x-to-310\" rel=\"nofollow noreferrer\">should be fine</a>"}],"answers":[{"tags":[],"owner":{"account_id":23938771,"reputation":60,"user_id":17932189,"display_name":"Andre"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642421294,"creation_date":1642420079,"answer_id":70740866,"question_id":70740728,"body_markdown":"According to their github issues, that enhancement is available on 3.1.x of OpenAPI-generator and that will have to be implemented on swagger-codegen-maven which currently seems to be not implemented.\r\n\r\n&gt; Version 3.1.0 is the first minor version of OpenAPI-Generator, in comparison to 3.0.3 it contains some breaking changes, but with the possibility to fallback to the old behavior. The default value of some options might change. Projects relying on generated code might need to be adapted.\r\n\r\nPlease, check out the issues.\r\n1. https://github.com/swagger-api/swagger-codegen/issues/7764\r\n2. https://github.com/OpenAPITools/openapi-generator/pull/432\r\n3. https://github.com/jmini/openapi-generator/blob/6fca5f5aa0d863fbe9ec013448c5f4f24206397d/docs/migration-guide.adoc","title":"how to generate getter on boolean using swagger-codegen-maven plugin","body":"<p>According to their github issues, that enhancement is available on 3.1.x of OpenAPI-generator and that will have to be implemented on swagger-codegen-maven which currently seems to be not implemented.</p>\n<blockquote>\n<p>Version 3.1.0 is the first minor version of OpenAPI-Generator, in comparison to 3.0.3 it contains some breaking changes, but with the possibility to fallback to the old behavior. The default value of some options might change. Projects relying on generated code might need to be adapted.</p>\n</blockquote>\n<p>Please, check out the issues.</p>\n<ol>\n<li><a href=\"https://github.com/swagger-api/swagger-codegen/issues/7764\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-codegen/issues/7764</a></li>\n<li><a href=\"https://github.com/OpenAPITools/openapi-generator/pull/432\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/pull/432</a></li>\n<li><a href=\"https://github.com/jmini/openapi-generator/blob/6fca5f5aa0d863fbe9ec013448c5f4f24206397d/docs/migration-guide.adoc\" rel=\"nofollow noreferrer\">https://github.com/jmini/openapi-generator/blob/6fca5f5aa0d863fbe9ec013448c5f4f24206397d/docs/migration-guide.adoc</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7545358,"reputation":41,"user_id":10094594,"display_name":"padisah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679051235,"creation_date":1679051235,"answer_id":75766869,"question_id":70740728,"body_markdown":"The author of the question asked a solution for &quot;swagger-codegen-maven&quot; which is not the openAPI generator. Actually, the openAPI variation for code generation fixed this specific issue, while swagger codegen still did not:\r\n\r\n[https://github.com/swagger-api/swagger-codegen-generators/pull/599][1]\r\n\r\n\r\n  [1]: https://github.com/swagger-api/swagger-codegen-generators/pull/599\r\n\r\nI used a shell script command on the generated files:\r\n\r\nsed -i&#39;&#39; -e &#39;s/Boolean is/Boolean get/g&#39; $(find generated-sources/src/main/java/com/company//module/openapi/ -type f)\r\n","title":"how to generate getter on boolean using swagger-codegen-maven plugin","body":"<p>The author of the question asked a solution for &quot;swagger-codegen-maven&quot; which is not the openAPI generator. Actually, the openAPI variation for code generation fixed this specific issue, while swagger codegen still did not:</p>\n<p><a href=\"https://github.com/swagger-api/swagger-codegen-generators/pull/599\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-codegen-generators/pull/599</a></p>\n<p>I used a shell script command on the generated files:</p>\n<p>sed -i'' -e 's/Boolean is/Boolean get/g' $(find generated-sources/src/main/java/com/company//module/openapi/ -type f)</p>\n"}],"owner":{"account_id":4019090,"reputation":1412,"user_id":3310115,"accept_rate":35,"display_name":"user3310115"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2607,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70740866,"answer_count":2,"score":1,"last_activity_date":1679051235,"creation_date":1642419458,"question_id":70740728,"body_markdown":"I&#39;m using `swagger-codegen-maven`(`3.0.29`) plugin to generate code. However, I see that `boolean` is generated with `isXXX` instead of `getXXX`. Is there a way to generate `getXXX`.\r\n\r\nswagger code \r\n\r\n     Data:\r\n        required:\r\n          - id\r\n        properties:\r\n          verified:\r\n            description: &gt;-\r\n              Id\r\n            example: true\r\n            pattern: ^true|false$\r\n            type: boolean\r\n\r\ngenerated code \r\n\r\n      @NotNull\r\n      @Schema(example = &quot;true&quot;, required = true)\r\n      public Boolean isVerified() {\r\n        return verified;\r\n      }\r\n    \r\n      public void setVerified(Boolean verified) {\r\n        this.verified = verified;\r\n      }\r\n    \r\n    }\r\n\r\n","title":"how to generate getter on boolean using swagger-codegen-maven plugin","body":"<p>I'm using <code>swagger-codegen-maven</code>(<code>3.0.29</code>) plugin to generate code. However, I see that <code>boolean</code> is generated with <code>isXXX</code> instead of <code>getXXX</code>. Is there a way to generate <code>getXXX</code>.</p>\n<p>swagger code</p>\n<pre><code> Data:\n    required:\n      - id\n    properties:\n      verified:\n        description: &gt;-\n          Id\n        example: true\n        pattern: ^true|false$\n        type: boolean\n</code></pre>\n<p>generated code</p>\n<pre><code>  @NotNull\n  @Schema(example = &quot;true&quot;, required = true)\n  public Boolean isVerified() {\n    return verified;\n  }\n\n  public void setVerified(Boolean verified) {\n    this.verified = verified;\n  }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":27896125,"reputation":138,"user_id":21301377,"display_name":"Anonymus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679051168,"creation_date":1679051168,"answer_id":75766855,"question_id":75765417,"body_markdown":"I&#39;m not sure if the problem is coming from @SqlResultSetMapping\r\n\r\nBut I have resolve this problem as\r\n\r\nRepository return **Position** alternative **PositionDTO**\r\n\r\n    @Query(value = &quot;SELECT child.position_id as positionId, child.title as title, &quot;  +\r\n            &quot; child.level as level, parent.title as parentPositionTitle FROM position child JOIN position parent ON child.parent_position_id = parent.position_id&quot;, nativeQuery = true)\r\n    Page&lt;Position&gt; findAllMapping(Pageable pageable);\r\n\r\nAfter on **Controller**\r\n\r\n    Page&lt;Position&gt; pagePosition = repository.findAllMapping(pageable);\r\n        // map Position -&gt; PositionDTO","title":"Hibernate Hql table is not mapped if page index = 0 spring boot pageable","body":"<p>I'm not sure if the problem is coming from @SqlResultSetMapping</p>\n<p>But I have resolve this problem as</p>\n<p>Repository return <strong>Position</strong> alternative <strong>PositionDTO</strong></p>\n<pre><code>@Query(value = &quot;SELECT child.position_id as positionId, child.title as title, &quot;  +\n        &quot; child.level as level, parent.title as parentPositionTitle FROM position child JOIN position parent ON child.parent_position_id = parent.position_id&quot;, nativeQuery = true)\nPage&lt;Position&gt; findAllMapping(Pageable pageable);\n</code></pre>\n<p>After on <strong>Controller</strong></p>\n<pre><code>Page&lt;Position&gt; pagePosition = repository.findAllMapping(pageable);\n    // map Position -&gt; PositionDTO\n</code></pre>\n"}],"owner":{"account_id":20082570,"reputation":3,"user_id":14724885,"display_name":"Ikhsan Abdurachman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679051168,"creation_date":1679042682,"question_id":75765417,"body_markdown":"so i have an api build with spring boot to get all my table data with pageable\r\n\r\nthis is my get method in my controller \r\n```\r\n@GetMapping(&quot;&quot;)\r\n    public Iterable&lt;PositionDto&gt; getPosition(@RequestParam(defaultValue = &quot;0&quot;) Integer page,\r\n                                            @RequestParam(defaultValue = &quot;10&quot;) Integer size){\r\n        Pageable pageable = PageRequest.of(page, size);\r\n        return repository.findAllMapping(pageable);\r\n    }\r\n```\r\n\r\nPositionDto.java\r\n```\r\n@Data\r\npublic class PositionDto implements Serializable{\r\n\r\n\tprivate static final long serialVersionUID = -2895197668336416172L;\r\n\tprivate Long positionId;\r\n\tprivate String title;\r\n\tprivate String level;\r\n\tprivate String parentPositionTitle;\r\n\t\r\n\tpublic PositionDto(Long positionId, String title, String level, String parentPositionTitle) {\r\n\t\tthis.positionId = positionId;\r\n\t\tthis.title = title;\r\n\t\tthis.level = level;\r\n\t\tthis.parentPositionTitle = parentPositionTitle;\r\n\t}\r\n}\r\n```\r\n\r\nPosition.java\r\n```\r\n@Entity\r\n@Data\r\n@NamedNativeQuery(\r\n\t    name = &quot;find_all_position&quot;,\r\n\t    query = &quot;SELECT &quot;\r\n\t    \t\t\t+ &quot;child.position_id as positionId, &quot;\r\n\t    \t\t\t+ &quot;child.title as title, &quot;\r\n\t    \t\t\t+ &quot;child.level as level, &quot;\r\n\t    \t\t\t+ &quot;parent.title as parentPositionTitle &quot;\r\n\t    \t\t\t+ &quot;FROM position child &quot;\r\n\t    \t\t\t+ &quot;JOIN position parent &quot;\r\n\t    \t\t\t+ &quot;ON child.parent_position_id = parent.position_id&quot;,\r\n\t    resultSetMapping = &quot;position_dto&quot;\r\n\t)\r\n\t@SqlResultSetMapping(\r\n\t    name = &quot;position_dto&quot;,\r\n\t    classes = @ConstructorResult(\r\n\t        targetClass = PositionDto.class,\r\n\t        columns = {\r\n\t            @ColumnResult(name = &quot;positionId&quot;, type = Long.class),\r\n\t            @ColumnResult(name = &quot;title&quot;, type = String.class),\r\n\t            @ColumnResult(name = &quot;level&quot;, type = String.class),\r\n\t            @ColumnResult(name = &quot;parentPositionTitle&quot;, type = String.class),\r\n\t        }\r\n\t    )\r\n\t)\r\npublic class Position extends BaseAudit{\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long positionId;\r\n    private String title;\r\n    private String level;\r\n    private Long parentPositionId;\r\n    \r\n}\r\n```\r\n\r\nand my PositionRepository\r\n```\r\npublic interface PositionRepository extends PagingAndSortingRepository&lt;Position, Long&gt; {\r\n\r\n    @Query(name = &quot;find_all_position&quot;, nativeQuery = true)\r\n\tPage&lt;PositionDto&gt; findAllMapping(Pageable pageable);\r\n    \r\n    Optional&lt;Position&gt; findById(Long positionId);\r\n    \r\n    List&lt;Position&gt; findByLevel(String level);\r\n\r\n    Position save(Position position);\r\n    \r\n    void deleteById(Long positionId);   \r\n}\r\n```\r\n\r\nthis code is works if the page 1\r\n[page 1 json response][1]\r\n\r\nbut in page 0 it shows error caled hibernate hql, table is not mapped....\r\n[page 0 json response][2]\r\n\r\nwhat should i do ?\r\n\r\nThanks....\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sRz3i.png\r\n  [2]: https://i.stack.imgur.com/sGxup.png","title":"Hibernate Hql table is not mapped if page index = 0 spring boot pageable","body":"<p>so i have an api build with spring boot to get all my table data with pageable</p>\n<p>this is my get method in my controller</p>\n<pre><code>@GetMapping(&quot;&quot;)\n    public Iterable&lt;PositionDto&gt; getPosition(@RequestParam(defaultValue = &quot;0&quot;) Integer page,\n                                            @RequestParam(defaultValue = &quot;10&quot;) Integer size){\n        Pageable pageable = PageRequest.of(page, size);\n        return repository.findAllMapping(pageable);\n    }\n</code></pre>\n<p>PositionDto.java</p>\n<pre><code>@Data\npublic class PositionDto implements Serializable{\n\n    private static final long serialVersionUID = -2895197668336416172L;\n    private Long positionId;\n    private String title;\n    private String level;\n    private String parentPositionTitle;\n    \n    public PositionDto(Long positionId, String title, String level, String parentPositionTitle) {\n        this.positionId = positionId;\n        this.title = title;\n        this.level = level;\n        this.parentPositionTitle = parentPositionTitle;\n    }\n}\n</code></pre>\n<p>Position.java</p>\n<pre><code>@Entity\n@Data\n@NamedNativeQuery(\n        name = &quot;find_all_position&quot;,\n        query = &quot;SELECT &quot;\n                    + &quot;child.position_id as positionId, &quot;\n                    + &quot;child.title as title, &quot;\n                    + &quot;child.level as level, &quot;\n                    + &quot;parent.title as parentPositionTitle &quot;\n                    + &quot;FROM position child &quot;\n                    + &quot;JOIN position parent &quot;\n                    + &quot;ON child.parent_position_id = parent.position_id&quot;,\n        resultSetMapping = &quot;position_dto&quot;\n    )\n    @SqlResultSetMapping(\n        name = &quot;position_dto&quot;,\n        classes = @ConstructorResult(\n            targetClass = PositionDto.class,\n            columns = {\n                @ColumnResult(name = &quot;positionId&quot;, type = Long.class),\n                @ColumnResult(name = &quot;title&quot;, type = String.class),\n                @ColumnResult(name = &quot;level&quot;, type = String.class),\n                @ColumnResult(name = &quot;parentPositionTitle&quot;, type = String.class),\n            }\n        )\n    )\npublic class Position extends BaseAudit{\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long positionId;\n    private String title;\n    private String level;\n    private Long parentPositionId;\n    \n}\n</code></pre>\n<p>and my PositionRepository</p>\n<pre><code>public interface PositionRepository extends PagingAndSortingRepository&lt;Position, Long&gt; {\n\n    @Query(name = &quot;find_all_position&quot;, nativeQuery = true)\n    Page&lt;PositionDto&gt; findAllMapping(Pageable pageable);\n    \n    Optional&lt;Position&gt; findById(Long positionId);\n    \n    List&lt;Position&gt; findByLevel(String level);\n\n    Position save(Position position);\n    \n    void deleteById(Long positionId);   \n}\n</code></pre>\n<p>this code is works if the page 1\n<a href=\"https://i.stack.imgur.com/sRz3i.png\" rel=\"nofollow noreferrer\">page 1 json response</a></p>\n<p>but in page 0 it shows error caled hibernate hql, table is not mapped....\n<a href=\"https://i.stack.imgur.com/sGxup.png\" rel=\"nofollow noreferrer\">page 0 json response</a></p>\n<p>what should i do ?</p>\n<p>Thanks....</p>\n"},{"tags":["java","load-testing","gatling"],"owner":{"account_id":28041524,"reputation":13,"user_id":21419018,"display_name":"Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679051032,"creation_date":1679050469,"question_id":75766747,"body_markdown":"I have multiple scenarios executed in &#39;setUp()&#39; method. What I want to achieve is to get 4000 requests per minute for each scenario then repeat all. I want to run the test at night for several hours.\r\n\r\nHow can I do this?\r\n\r\nThis is my actual code:\r\n\r\n```\r\n{\r\n    List&lt;PopulationBuilder&gt; scenarioList = new ArrayList&lt;&gt;();\r\n    scenarioList.add(get.injectOpen(constantUsersPerSec(4000).during(Duration.ofSeconds(10))));\r\n    scenarioList.add(search.injectOpen(constantUsersPerSec(4000).during(Duration.ofSeconds(10))));\r\n    scenarioList.add(download.injectOpen(constantUsersPerSec(4000).during(Duration.ofSeconds(10))));\r\n    /* Shuffle list */\r\n    Collections.shuffle(scenarioList);\r\n\r\n    setUp(create.injectOpen(nothingFor(5), constantUsersPerSec(4000).during(Duration.ofSeconds(10)))\r\n            .andThen(scenarioList)\r\n            .andThen(delete.injectOpen(constantUsersPerSec(4000).during(Duration.ofSeconds(10)))))\r\n            .throttle(\r\n                    reachRps(4000).in(10),\r\n                    holdFor(Duration.ofMinutes(1))\r\n            )\r\n            .protocols(httpProtocol);\r\n}\r\n```","title":"How to get constant number of requests per scenario","body":"<p>I have multiple scenarios executed in 'setUp()' method. What I want to achieve is to get 4000 requests per minute for each scenario then repeat all. I want to run the test at night for several hours.</p>\n<p>How can I do this?</p>\n<p>This is my actual code:</p>\n<pre><code>{\n    List&lt;PopulationBuilder&gt; scenarioList = new ArrayList&lt;&gt;();\n    scenarioList.add(get.injectOpen(constantUsersPerSec(4000).during(Duration.ofSeconds(10))));\n    scenarioList.add(search.injectOpen(constantUsersPerSec(4000).during(Duration.ofSeconds(10))));\n    scenarioList.add(download.injectOpen(constantUsersPerSec(4000).during(Duration.ofSeconds(10))));\n    /* Shuffle list */\n    Collections.shuffle(scenarioList);\n\n    setUp(create.injectOpen(nothingFor(5), constantUsersPerSec(4000).during(Duration.ofSeconds(10)))\n            .andThen(scenarioList)\n            .andThen(delete.injectOpen(constantUsersPerSec(4000).during(Duration.ofSeconds(10)))))\n            .throttle(\n                    reachRps(4000).in(10),\n                    holdFor(Duration.ofMinutes(1))\n            )\n            .protocols(httpProtocol);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","sqlite","maven"],"answers":[{"tags":[],"owner":{"account_id":22740867,"reputation":3,"user_id":16902387,"display_name":"mdc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631561597,"creation_date":1631561597,"answer_id":69168163,"question_id":69167987,"body_markdown":"solved:\r\nI changed my application in \r\n```\r\n---\r\nspring:\r\n  profiles: dev\r\n  datasource:\r\n    url: jdbc:sqlite:/home/user/projects/products-service/sqlite.db\r\n    driver-class-name: org.sqlite.JDBC\r\n    initialization-mode: never\r\n    username: sa\r\n    password: sa\r\n    hikari:\r\n      maximum-pool-size: 1\r\n\r\n```","title":"Cannot load driver class: org.sqlite.JDBC","body":"<p>solved:\nI changed my application in</p>\n<pre><code>---\nspring:\n  profiles: dev\n  datasource:\n    url: jdbc:sqlite:/home/user/projects/products-service/sqlite.db\n    driver-class-name: org.sqlite.JDBC\n    initialization-mode: never\n    username: sa\n    password: sa\n    hikari:\n      maximum-pool-size: 1\n\n</code></pre>\n"}],"owner":{"account_id":22740867,"reputation":3,"user_id":16902387,"display_name":"mdc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":933,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679050703,"creation_date":1631560461,"question_id":69167987,"body_markdown":"I,m using BTP I have this configuration pom.xml, I attached also application.yaml \r\nwhen I try to run I have this error.\r\nI also add maven dependency for sqlite, but nothing\r\n\r\n\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.sap.cap&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;products-service-parent&lt;/artifactId&gt;\r\n\t&lt;version&gt;${revision}&lt;/version&gt;\r\n\t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n\t&lt;name&gt;products-service parent&lt;/name&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;!-- OUR VERSION --&gt;\r\n\t\t&lt;revision&gt;1.0.0-SNAPSHOT&lt;/revision&gt;\r\n\t\t&lt;!-- DEPENDENCIES VERSION --&gt;\r\n\t\t&lt;jdk.version&gt;1.8&lt;/jdk.version&gt;\r\n\t\t&lt;cds.services.version&gt;1.18.3&lt;/cds.services.version&gt;\r\n\t\t&lt;spring.boot.version&gt;2.5.2&lt;/spring.boot.version&gt;\r\n\t\t&lt;node.url&gt;https://nodejs.org/dist/&lt;/node.url&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;modules&gt;\r\n\t\t&lt;module&gt;srv&lt;/module&gt;\r\n\t&lt;/modules&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;!-- CDS SERVICES --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.sap.cds&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;cds-services-bom&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${cds.services.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;!-- SPRING BOOT --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;!-- JAVA VERSION --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;${jdk.version}&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;${jdk.version}&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;!-- MAKE SPRING BOOT PLUGIN RUNNABLE FROM ROOT --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;skip&gt;true&lt;/skip&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```\r\n\r\napplication.yaml\r\n```\r\n---\r\nspring:\r\n  profiles: default\r\n  datasource:\r\n    url: &quot;jdbc:sqlite:/home/user/projects/products-service/sqlite.db&quot;\r\n    driver-class-name: org.sqlite.JDBC\r\n    initialization-mode: never\r\n    hikari:\r\n      maximum-pool-size: \r\n```\r\n\r\n\r\nerror\r\n```\r\n2021-09-13 19:02:37.061 ERROR 2611 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: org.sqlite.JDBC\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.8.jar:5.3.8]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.8.jar:5.3.8]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.8.jar:5.3.8]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.3.8.jar:5.3.8]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.8.jar:5.3.8]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.8.jar:5.3.8]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.8.jar:5.3.8]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.8.jar:5.3.8]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.8.jar:5.3.8]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.8.jar:5.3.8]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.8.jar:5.3.8]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.8.jar:5.3.8]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.8.jar:5.3.8]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.2.jar:2.5.2]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.2.jar:2.5.2]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.2.jar:2.5.2]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.2.jar:2.5.2]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.2.jar:2.5.2]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.2.jar:2.5.2]\r\n        at com.sap.cap.productsservice.Application.main(Application.java:10) ~[classes/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: org.sqlite.JDBC\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.8.jar:5.3.8]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.8.jar:5.3.8]\r\n        ... 19 common frames omitted\r\nCaused by: java.lang.IllegalStateException: Cannot load driver class: org.sqlite.JDBC\r\n        at org.springframework.util.Assert.state(Assert.java:97) ~[spring-core-5.3.8.jar:5.3.8]\r\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:242) ~[spring-boot-autoconfigure-2.5.2.jar:2.5.2]\r\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.initializeDataSourceBuilder(DataSourceProperties.java:194) ~[spring-boot-autoconfigure-2.5.2.jar:2.5.2]\r\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48) ~[spring-boot-autoconfigure-2.5.2.jar:2.5.2]\r\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90) ~[spring-boot-autoconfigure-2.5.2.jar:2.5.2]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.8.jar:5.3.8]\r\n        ... 20 common frames omitted\r\n```","title":"Cannot load driver class: org.sqlite.JDBC","body":"<p>I,m using BTP I have this configuration pom.xml, I attached also application.yaml\nwhen I try to run I have this error.\nI also add maven dependency for sqlite, but nothing</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.sap.cap&lt;/groupId&gt;\n    &lt;artifactId&gt;products-service-parent&lt;/artifactId&gt;\n    &lt;version&gt;${revision}&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;products-service parent&lt;/name&gt;\n    &lt;properties&gt;\n        &lt;!-- OUR VERSION --&gt;\n        &lt;revision&gt;1.0.0-SNAPSHOT&lt;/revision&gt;\n        &lt;!-- DEPENDENCIES VERSION --&gt;\n        &lt;jdk.version&gt;1.8&lt;/jdk.version&gt;\n        &lt;cds.services.version&gt;1.18.3&lt;/cds.services.version&gt;\n        &lt;spring.boot.version&gt;2.5.2&lt;/spring.boot.version&gt;\n        &lt;node.url&gt;https://nodejs.org/dist/&lt;/node.url&gt;\n    &lt;/properties&gt;\n    &lt;modules&gt;\n        &lt;module&gt;srv&lt;/module&gt;\n    &lt;/modules&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;!-- CDS SERVICES --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.sap.cds&lt;/groupId&gt;\n                &lt;artifactId&gt;cds-services-bom&lt;/artifactId&gt;\n                &lt;version&gt;${cds.services.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;!-- SPRING BOOT --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!-- JAVA VERSION --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${jdk.version}&lt;/source&gt;\n                    &lt;target&gt;${jdk.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!-- MAKE SPRING BOOT PLUGIN RUNNABLE FROM ROOT --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;true&lt;/skip&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>application.yaml</p>\n<pre><code>---\nspring:\n  profiles: default\n  datasource:\n    url: &quot;jdbc:sqlite:/home/user/projects/products-service/sqlite.db&quot;\n    driver-class-name: org.sqlite.JDBC\n    initialization-mode: never\n    hikari:\n      maximum-pool-size: \n</code></pre>\n<p>error</p>\n<pre><code>2021-09-13 19:02:37.061 ERROR 2611 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: org.sqlite.JDBC\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.8.jar:5.3.8]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.8.jar:5.3.8]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.8.jar:5.3.8]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.3.8.jar:5.3.8]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.8.jar:5.3.8]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.8.jar:5.3.8]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.8.jar:5.3.8]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.8.jar:5.3.8]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.8.jar:5.3.8]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.8.jar:5.3.8]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.8.jar:5.3.8]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.8.jar:5.3.8]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.8.jar:5.3.8]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.2.jar:2.5.2]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.2.jar:2.5.2]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.2.jar:2.5.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.2.jar:2.5.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.2.jar:2.5.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.2.jar:2.5.2]\n        at com.sap.cap.productsservice.Application.main(Application.java:10) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: org.sqlite.JDBC\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.8.jar:5.3.8]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.8.jar:5.3.8]\n        ... 19 common frames omitted\nCaused by: java.lang.IllegalStateException: Cannot load driver class: org.sqlite.JDBC\n        at org.springframework.util.Assert.state(Assert.java:97) ~[spring-core-5.3.8.jar:5.3.8]\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:242) ~[spring-boot-autoconfigure-2.5.2.jar:2.5.2]\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.initializeDataSourceBuilder(DataSourceProperties.java:194) ~[spring-boot-autoconfigure-2.5.2.jar:2.5.2]\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48) ~[spring-boot-autoconfigure-2.5.2.jar:2.5.2]\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90) ~[spring-boot-autoconfigure-2.5.2.jar:2.5.2]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.8.jar:5.3.8]\n        ... 20 common frames omitted\n</code></pre>\n"},{"tags":["java","io"],"comments":[{"owner":{"account_id":2028868,"reputation":5918,"user_id":1813169,"accept_rate":70,"display_name":"MTCoster"},"score":0,"creation_date":1358773576,"post_id":14439226,"comment_id":20103944,"body_markdown":"Is the error thrown at compile time or run time?","body":"Is the error thrown at compile time or run time?"},{"owner":{"account_id":2118418,"reputation":549,"user_id":1882209,"accept_rate":79,"display_name":"Enthusiastic"},"score":0,"creation_date":1358773669,"post_id":14439226,"comment_id":20103979,"body_markdown":"@MatthewCoster, run time!","body":"@MatthewCoster, run time!"},{"owner":{"account_id":2028868,"reputation":5918,"user_id":1813169,"accept_rate":70,"display_name":"MTCoster"},"score":0,"creation_date":1358773941,"post_id":14439226,"comment_id":20104112,"body_markdown":"Maybe [this](http://stackoverflow.com/questions/104254/java-io-console-support-in-eclipse-ide) question will help then.","body":"Maybe <a href=\"http://stackoverflow.com/questions/104254/java-io-console-support-in-eclipse-ide\">this</a> question will help then."},{"owner":{"account_id":39037,"reputation":12517,"user_id":112500,"accept_rate":94,"display_name":"Batakj"},"score":1,"creation_date":1358776606,"post_id":14439226,"comment_id":20105496,"body_markdown":"possible duplicate of http://stackoverflow.com/questions/4203646/system-console-returns-null http://stackoverflow.com/questions/4203646/system-console-returns-null","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/4203646/system-console-returns-null\" title=\"system console returns null\">stackoverflow.com/questions/4203646/system-console-returns-n&zwnj;&#8203;ull</a> <a href=\"http://stackoverflow.com/questions/4203646/system-console-returns-null\" title=\"system console returns null\">stackoverflow.com/questions/4203646/system-console-returns-n&zwnj;&#8203;ull</a>"},{"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"score":0,"creation_date":1439823185,"post_id":14439226,"comment_id":52005895,"body_markdown":"possible duplicate of [Masking password input from the console : Java](http://stackoverflow.com/questions/8138411/masking-password-input-from-the-console-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/8138411/masking-password-input-from-the-console-java\">Masking password input from the console : Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":1088718,"reputation":4568,"user_id":1083843,"accept_rate":79,"display_name":"Renato Lochetti"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1358773408,"creation_date":1358773408,"answer_id":14439283,"question_id":14439226,"body_markdown":"`System.console()` returns null if there is no console.\r\n\r\nYou can work round this either by [adding a layer of indirection to your code][1] or by running the code in an external console and [attaching a remote debugger][2].\r\n\r\n\r\n  [1]: http://illegalargumentexception.blogspot.com/2010/09/java-systemconsole-ides-and-testing.html\r\n  [2]: https://stackoverflow.com/questions/104254/java-io-console-support-in-eclipse-ide","title":"Console Input error java.lang.NullPointerException","body":"<p><code>System.console()</code> returns null if there is no console.</p>\n\n<p>You can work round this either by <a href=\"http://illegalargumentexception.blogspot.com/2010/09/java-systemconsole-ides-and-testing.html\" rel=\"nofollow noreferrer\">adding a layer of indirection to your code</a> or by running the code in an external console and <a href=\"https://stackoverflow.com/questions/104254/java-io-console-support-in-eclipse-ide\">attaching a remote debugger</a>.</p>\n"},{"tags":[],"owner":{"account_id":74991,"reputation":12042,"user_id":215234,"accept_rate":96,"display_name":"Rookie Programmer Aravind"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1358773579,"creation_date":1358773579,"answer_id":14439323,"question_id":14439226,"body_markdown":"That is because, IDE is not using console ! \r\n\r\nGo to cmd.exe\r\n\r\ntype `cd &lt;bin path&gt;` hit enter..\r\n\r\nnow type `java &lt;classname&gt;` hit enter\r\n\r\nIt works!","title":"Console Input error java.lang.NullPointerException","body":"<p>That is because, IDE is not using console ! </p>\n\n<p>Go to cmd.exe</p>\n\n<p>type <code>cd &lt;bin path&gt;</code> hit enter..</p>\n\n<p>now type <code>java &lt;classname&gt;</code> hit enter</p>\n\n<p>It works!</p>\n"},{"tags":[],"owner":{"account_id":2259458,"reputation":844,"user_id":1989884,"display_name":"Alankar Srivastava"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1358773606,"creation_date":1358773606,"answer_id":14439333,"question_id":14439226,"body_markdown":"Are you running your program from an ide as `    console.readLine` returns `    null` when used from an IDE.\r\n\r\n[For more details refer to this][1]\r\n\r\n\r\n  [1]: http://illegalargumentexception.blogspot.in/2010/09/java-systemconsole-ides-and-testing.html\r\n\r\nIf you run it from command line you will not get this error.","title":"Console Input error java.lang.NullPointerException","body":"<p>Are you running your program from an ide as <code>console.readLine</code> returns <code>null</code> when used from an IDE.</p>\n\n<p><a href=\"http://illegalargumentexception.blogspot.in/2010/09/java-systemconsole-ides-and-testing.html\" rel=\"noreferrer\">For more details refer to this</a></p>\n\n<p>If you run it from command line you will not get this error.</p>\n"},{"tags":[],"owner":{"account_id":14994930,"reputation":1,"user_id":10824637,"display_name":"chenna chennakesava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561350078,"creation_date":1561342416,"answer_id":56729125,"question_id":14439226,"body_markdown":"    import java.io.*;\r\n\r\n    public class ConsoleExTest {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tConsole c = System.console();\r\n    \t\tString uname = c.readLine(&quot;User Name:&quot;);\r\n    \t\tchar[] pwd = c.readPassword(&quot;Password:&quot;);\r\n    \t\tString upwd = new String(pwd);\r\n    \t\tif (uname.equals(&quot;chenna&quot;) &amp;&amp; upwd.equals(&quot;chenna&quot;)) {\r\n    \t\t\tSystem.out.println(&quot;User is valid&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;User is not valid&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nNote:\r\n\r\n`System.console();` return null so we will get\r\n","title":"Console Input error java.lang.NullPointerException","body":"<pre><code>import java.io.*;\n\npublic class ConsoleExTest {\n\n    public static void main(String[] args) throws Exception {\n        Console c = System.console();\n        String uname = c.readLine(\"User Name:\");\n        char[] pwd = c.readPassword(\"Password:\");\n        String upwd = new String(pwd);\n        if (uname.equals(\"chenna\") &amp;&amp; upwd.equals(\"chenna\")) {\n            System.out.println(\"User is valid\");\n        } else {\n            System.out.println(\"User is not valid\");\n        }\n    }\n\n}\n</code></pre>\n\n<p>Note:</p>\n\n<p><code>System.console();</code> return null so we will get</p>\n"},{"tags":[],"owner":{"account_id":28041624,"reputation":106,"user_id":21419095,"display_name":"Petra Minaler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679050453,"creation_date":1679050453,"answer_id":75766744,"question_id":14439226,"body_markdown":"The cause of this problem has already been mentioned in other answers, but I would like to add one possible solution.\r\n\r\nThere is a library that can be used as a replacement for `java.io.Console` that mitigates the problem: https://codeberg.org/marc.nause/console-with-fallback","title":"Console Input error java.lang.NullPointerException","body":"<p>The cause of this problem has already been mentioned in other answers, but I would like to add one possible solution.</p>\n<p>There is a library that can be used as a replacement for <code>java.io.Console</code> that mitigates the problem: <a href=\"https://codeberg.org/marc.nause/console-with-fallback\" rel=\"nofollow noreferrer\">https://codeberg.org/marc.nause/console-with-fallback</a></p>\n"}],"owner":{"account_id":2118418,"reputation":549,"user_id":1882209,"accept_rate":79,"display_name":"Enthusiastic"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11932,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":14439333,"answer_count":5,"score":8,"last_activity_date":1679050453,"creation_date":1358773247,"question_id":14439226,"body_markdown":"I have tried code:\r\n\r\n    import java.io.Console;\r\n    public class Default\r\n    {\r\n    \tpublic static void main(String args[]) throws IOException\r\n    \t{\r\n    \t\tConsole console = System.console();\r\n    \t\tString testing = console.readLine(&quot;Enter Name: &quot;);\r\n    \t\tSystem.out.println(&quot;Entered Name: &quot;+ testing);\r\n    \t}\r\n    }\r\n\r\ngoes to exception with following error: \r\n&lt;br/&gt;`Source not found. NullPointerException`\r\n\r\nI am using Eclipse Juno EE for debugging .. !\r\n\r\nAnd the reference link for above written code is [here][1]\r\n\r\n\r\n  [1]: http://www.javapractices.com/topic/TopicAction.do?Id=79","title":"Console Input error java.lang.NullPointerException","body":"<p>I have tried code:</p>\n\n<pre><code>import java.io.Console;\npublic class Default\n{\n    public static void main(String args[]) throws IOException\n    {\n        Console console = System.console();\n        String testing = console.readLine(\"Enter Name: \");\n        System.out.println(\"Entered Name: \"+ testing);\n    }\n}\n</code></pre>\n\n<p>goes to exception with following error: \n<br/><code>Source not found. NullPointerException</code></p>\n\n<p>I am using Eclipse Juno EE for debugging .. !</p>\n\n<p>And the reference link for above written code is <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=79\" rel=\"noreferrer\">here</a></p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679050157,"creation_date":1679049752,"answer_id":75766645,"question_id":75691849,"body_markdown":"This is because you&#39;re transforming the body within multicast block when you should be transforming the body before multicast block.\r\n\r\nIn below example the same message received by direct:example route gets sent **simultaneously** to endpoint 1, endpoint 2 and endpoint 3. \r\n\r\n```java\r\nfrom(&quot;direct:example&quot;)\r\n    .routeId(&quot;example&quot;)\r\n    .multicast().parallelProcessing()\r\n        .bean(HelloBean.class, &quot;greet&quot; ) // endpoint 1\r\n        .log(&quot;Final :- ${body}&quot;) // endpoint 2\r\n        .to(&quot;direct:printBody&quot;) // endpoint 3\r\n    .end();\r\n```\r\n\r\nHere&#39;s how you should use multicast instead. This transforms the message using bean and sends the transformed message to endpoints `direct:multicastA`, `direct:multicastB` and `direct:multicastC` simultaneously. \r\n\r\n```java\r\nfrom(&quot;direct:example3&quot;)\r\n    .routeId(&quot;example3&quot;)\r\n    .bean(HelloBean.class, &quot;greet&quot; ) \r\n    .log(&quot;Final :- ${body}&quot;) \r\n    .multicast().parallelProcessing()\r\n        .to(&quot;direct:multicastA&quot;) \r\n        .to(&quot;direct:multicastB&quot;) \r\n        .to(&quot;direct:multicastC&quot;) \r\n    .end();\r\n\r\nfrom(&quot;direct:multicastA&quot;)\r\n    .delay(1000)\r\n    .log(&quot;A: ${body}&quot;)\r\n;\r\n\r\nfrom(&quot;direct:multicastB&quot;)\r\n    .delay(1000)\r\n    .log(&quot;A: ${body}&quot;)\r\n;\r\n\r\nfrom(&quot;direct:multicastC&quot;)\r\n    .delay(1000)\r\n    .log(&quot;A: ${body}&quot;)\r\n;\r\n```\r\n\r\n[Multicast](https://camel.apache.org/components/latest/eips/multicast-eip.html) is alternative to the default [pipeline](https://camel.apache.org/components/latest/eips/pipeline-eip.html) behavior. The difference being that pipeline calls endpoints in a sequence and multicast sends the same message to all listed endpoints (`.Bean` and `.log` are both endpoints just like direct, seda and timer). ","title":"Apache camel route, want to forward value","body":"<p>This is because you're transforming the body within multicast block when you should be transforming the body before multicast block.</p>\n<p>In below example the same message received by direct:example route gets sent <strong>simultaneously</strong> to endpoint 1, endpoint 2 and endpoint 3.</p>\n<pre class=\"lang-java prettyprint-override\"><code>from(&quot;direct:example&quot;)\n    .routeId(&quot;example&quot;)\n    .multicast().parallelProcessing()\n        .bean(HelloBean.class, &quot;greet&quot; ) // endpoint 1\n        .log(&quot;Final :- ${body}&quot;) // endpoint 2\n        .to(&quot;direct:printBody&quot;) // endpoint 3\n    .end();\n</code></pre>\n<p>Here's how you should use multicast instead. This transforms the message using bean and sends the transformed message to endpoints <code>direct:multicastA</code>, <code>direct:multicastB</code> and <code>direct:multicastC</code> simultaneously.</p>\n<pre class=\"lang-java prettyprint-override\"><code>from(&quot;direct:example3&quot;)\n    .routeId(&quot;example3&quot;)\n    .bean(HelloBean.class, &quot;greet&quot; ) \n    .log(&quot;Final :- ${body}&quot;) \n    .multicast().parallelProcessing()\n        .to(&quot;direct:multicastA&quot;) \n        .to(&quot;direct:multicastB&quot;) \n        .to(&quot;direct:multicastC&quot;) \n    .end();\n\nfrom(&quot;direct:multicastA&quot;)\n    .delay(1000)\n    .log(&quot;A: ${body}&quot;)\n;\n\nfrom(&quot;direct:multicastB&quot;)\n    .delay(1000)\n    .log(&quot;A: ${body}&quot;)\n;\n\nfrom(&quot;direct:multicastC&quot;)\n    .delay(1000)\n    .log(&quot;A: ${body}&quot;)\n;\n</code></pre>\n<p><a href=\"https://camel.apache.org/components/latest/eips/multicast-eip.html\" rel=\"nofollow noreferrer\">Multicast</a> is alternative to the default <a href=\"https://camel.apache.org/components/latest/eips/pipeline-eip.html\" rel=\"nofollow noreferrer\">pipeline</a> behavior. The difference being that pipeline calls endpoints in a sequence and multicast sends the same message to all listed endpoints (<code>.Bean</code> and <code>.log</code> are both endpoints just like direct, seda and timer).</p>\n"}],"owner":{"account_id":26014900,"reputation":23,"user_id":20825594,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75766645,"answer_count":1,"score":0,"last_activity_date":1679050157,"creation_date":1678416459,"question_id":75691849,"body_markdown":"I have this apache camel route, I instantiate a bean and do some transformation on the incoming string but when i send it to the             .to(Endpoints.SEDA_SEND_PRICING_LIFE_CYCLE_MESSAGE) it doesn&#39;t take the transformed value. It sends the original one received at the beginning of the route. in my .bean class I am returning an object value. ( have tried returning a string value as well )\r\n\r\n\r\n \r\n\r\n     from(azureServicebus(AZvalue)\r\n                           .connectionString(connectionString)\r\n                           .receiverAsyncClient(serviceBusReceiverAsyncClient)\r\n                           .serviceBusReceiveMode(ServiceBusReceiveMode.RECEIVE_AND_DELETE)\r\n                           .serviceBusType( ServiceBusType.topic)\r\n                           .prefetchCount(100)\r\n                           .consumerOperation ( ServiceBusConsumerOperationDefinition.receiveMessages )\r\n    \r\n                           //.maxAutoLockRenewDuration(Duration.ofMinutes(10))\r\n                             )\r\n                           .messageHistory()\r\n                           // Route Name\r\n                           .routeId(Endpoints.SEDA_PROCESS_SB_MESSAGE_ENDPOINT )\r\n                           // multicast may not need\r\n                           .multicast()\r\n                           .parallelProcessing() // create parallel threads\r\n                          .bean(PricingLifeCyclebService.class, &quot;paraMap&quot; ) \r\n                          .log(&quot;Final :- ${body}&quot;)\r\n    \r\n                          .to(Endpoints.SEDA_SEND_PRICING_LIFE_CYCLE_MESSAGE)\r\n    \r\n                           .end();\r\n     }\r\n\r\n\r\n\r\nfor reference below is my bean class \r\n\r\n\r\n    package com.sams.pricing.lifecycle.processor.services;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.sams.pricing.lifecycle.processor.dtos.LifecycleDTO;\r\n    import com.sams.pricing.lifecycle.processor.mapper.LifecycleDtoMapper;\r\n    import com.sams.pricing.lifecycle.processor.model.LifeCycleTopicC;\r\n    import com.sams.pricing.lifecycle.processor.queueDtos.ParaDTO;\r\n    import com.sams.pricing.lifecycle.processor.util.LifeCycleMapper;\r\n    import com.sams.pricing.lifecycle.processor.util.LifeCycleUtility;\r\n    \r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    @Slf4j \r\n    @Component\r\n    public class PricingLifeCyclebService {\r\n    \r\n    \t@Autowired private LifecycleDtoMapper paraToLifecleDTOMapper;\r\n    \t\r\n    \t@Autowired private LifeCycleMapper lifecycleTopicmapper ;\r\n    \t\r\n    \tpublic LifeCycleTopicC paraMap(String object) throws  JsonProcessingException  \r\n    \t{ \r\n    \t\tfinal var paraMapper =   LifeCycleUtility.getObjectMapper();\r\n    \t\tfinal var paraDTO = paraMapper.readValue(object, ParaDTO.class);\r\n    \t\t\r\n    \t\tLifecycleDTO lifecycleDTO =\tparaToLifecleDTOMapper.mapToLifecycleDTO(paraDTO);\r\n    \t\t\r\n    \t\tLifeCycleTopicC obj = lifecycleTopicmapper.toLifeCycleTopicC(lifecycleDTO);\r\n    \t\t\r\n    \t\t\r\n    \t\tlog.info(&quot;Event={}, Body={}&quot;, &quot;ConvertParatoTopic&quot;, obj);\r\n    \t\treturn obj;\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Apache camel route, want to forward value","body":"<p>I have this apache camel route, I instantiate a bean and do some transformation on the incoming string but when i send it to the             .to(Endpoints.SEDA_SEND_PRICING_LIFE_CYCLE_MESSAGE) it doesn't take the transformed value. It sends the original one received at the beginning of the route. in my .bean class I am returning an object value. ( have tried returning a string value as well )</p>\n<pre><code> from(azureServicebus(AZvalue)\n                       .connectionString(connectionString)\n                       .receiverAsyncClient(serviceBusReceiverAsyncClient)\n                       .serviceBusReceiveMode(ServiceBusReceiveMode.RECEIVE_AND_DELETE)\n                       .serviceBusType( ServiceBusType.topic)\n                       .prefetchCount(100)\n                       .consumerOperation ( ServiceBusConsumerOperationDefinition.receiveMessages )\n\n                       //.maxAutoLockRenewDuration(Duration.ofMinutes(10))\n                         )\n                       .messageHistory()\n                       // Route Name\n                       .routeId(Endpoints.SEDA_PROCESS_SB_MESSAGE_ENDPOINT )\n                       // multicast may not need\n                       .multicast()\n                       .parallelProcessing() // create parallel threads\n                      .bean(PricingLifeCyclebService.class, &quot;paraMap&quot; ) \n                      .log(&quot;Final :- ${body}&quot;)\n\n                      .to(Endpoints.SEDA_SEND_PRICING_LIFE_CYCLE_MESSAGE)\n\n                       .end();\n }\n</code></pre>\n<p>for reference below is my bean class</p>\n<pre><code>package com.sams.pricing.lifecycle.processor.services;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.sams.pricing.lifecycle.processor.dtos.LifecycleDTO;\nimport com.sams.pricing.lifecycle.processor.mapper.LifecycleDtoMapper;\nimport com.sams.pricing.lifecycle.processor.model.LifeCycleTopicC;\nimport com.sams.pricing.lifecycle.processor.queueDtos.ParaDTO;\nimport com.sams.pricing.lifecycle.processor.util.LifeCycleMapper;\nimport com.sams.pricing.lifecycle.processor.util.LifeCycleUtility;\n\nimport lombok.extern.slf4j.Slf4j;\n\n@Slf4j \n@Component\npublic class PricingLifeCyclebService {\n\n    @Autowired private LifecycleDtoMapper paraToLifecleDTOMapper;\n    \n    @Autowired private LifeCycleMapper lifecycleTopicmapper ;\n    \n    public LifeCycleTopicC paraMap(String object) throws  JsonProcessingException  \n    { \n        final var paraMapper =   LifeCycleUtility.getObjectMapper();\n        final var paraDTO = paraMapper.readValue(object, ParaDTO.class);\n        \n        LifecycleDTO lifecycleDTO = paraToLifecleDTOMapper.mapToLifecycleDTO(paraDTO);\n        \n        LifeCycleTopicC obj = lifecycleTopicmapper.toLifeCycleTopicC(lifecycleDTO);\n        \n        \n        log.info(&quot;Event={}, Body={}&quot;, &quot;ConvertParatoTopic&quot;, obj);\n        return obj;\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","automated-tests","testng","dataprovider","testng-dataprovider"],"answers":[{"tags":[],"owner":{"account_id":471893,"reputation":8441,"user_id":879977,"display_name":"niharika_neo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679034517,"creation_date":1679034517,"answer_id":75764377,"question_id":75759203,"body_markdown":"The initial state should be maintained.  This seems to have broken with 7.5 release.  You can [raise a bug][1] or submit a PR.  As a workaround you can shift to something lower if it is holding you.\r\n\r\n\r\n  [1]: https://github.com/cbeust/testng/issues","title":"New data is not passed from TestNG DataProvider to test on test retry","body":"<p>The initial state should be maintained.  This seems to have broken with 7.5 release.  You can <a href=\"https://github.com/cbeust/testng/issues\" rel=\"nofollow noreferrer\">raise a bug</a> or submit a PR.  As a workaround you can shift to something lower if it is holding you.</p>\n"},{"tags":[],"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679049696,"creation_date":1679049696,"answer_id":75766630,"question_id":75759203,"body_markdown":"There is no issue here. \r\n\r\n - The test method is actually getting the same object as a parameter, when a retry happens. \r\n - But what is causing the confusions is the fact that the data provider\r\n   is being called even when a test method is being retried. \r\n - TestNG is\r\n   doing this, even though it never uses the object instantiated by the\r\n   duplicate calls to the data provider. I have filed a issue that\r\n   tracks this discrepancy of data provider getting called multiple\r\n   times. Please track it here :\r\n   https://github.com/cbeust/testng/issues/2884\r\n\r\nHere&#39;s a sample that re-iterates all these aspects. For the sake of completeness I have added the same details to [your post on the TestNG google users group][1] as well.\r\n\r\nTest class sample (I am using `7.7.1` which is the latest released version for running this test)\r\n\r\n    import com.rationaleemotions.DemoTest.Commentary;\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    import org.testng.Assert;\r\n    import org.testng.IExecutionListener;\r\n    import org.testng.IRetryAnalyzer;\r\n    import org.testng.ITestResult;\r\n    import org.testng.annotations.DataProvider;\r\n    import org.testng.annotations.Listeners;\r\n    import org.testng.annotations.Test;\r\n    \r\n    @Listeners(Commentary.class)\r\n    public class DemoTest {\r\n    \r\n      public static final AtomicInteger dataProviderInvocationCount = new AtomicInteger(0);\r\n    \r\n      @Test(dataProvider = &quot;dp&quot;, retryAnalyzer = TryAgain.class)\r\n      public void testMethod(Pojo user) {\r\n        System.out.println(&quot;Test is started for data &quot; + user.toString() + &quot; with name &quot; + user.getName());\r\n        user.setName(&quot;Dragon-Warrior&quot;);\r\n        Assert.fail();\r\n      }\r\n    \r\n      @DataProvider(name = &quot;dp&quot;)\r\n      public static Object[][] getTestData() {\r\n        System.err.println(\r\n            &quot;Data Provider invocation count #&quot; + dataProviderInvocationCount.incrementAndGet());\r\n        return new Object[][]{\r\n            {new Pojo().setName(&quot;John&quot;)}\r\n        };\r\n      }\r\n    \r\n      public static class TryAgain implements IRetryAnalyzer {\r\n    \r\n        private int counter = 1;\r\n    \r\n        @Override\r\n        public boolean retry(ITestResult result) {\r\n          return counter++ != 3;\r\n        }\r\n      }\r\n    \r\n      public static class Pojo {\r\n    \r\n        private String name;\r\n    \r\n        public Pojo() {\r\n          System.err.println(&quot;Instantiated &quot; + this);\r\n        }\r\n    \r\n        public String getName() {\r\n          return name;\r\n        }\r\n    \r\n        public Pojo setName(String name) {\r\n          this.name = name;\r\n          return this;\r\n        }\r\n      }\r\n    \r\n      public static class Commentary implements IExecutionListener {\r\n    \r\n        @Override\r\n        public void onExecutionStart() {}\r\n    \r\n        @Override\r\n        public void onExecutionFinish() {\r\n          System.err.println(\r\n              &quot;Data Provider was invoked &quot; + dataProviderInvocationCount.get() + &quot; time(s).&quot;);\r\n        }\r\n      }\r\n    }\r\n\r\nHere&#39;s the complete execution output, along with some inline comments that I have added for elaboration:\r\n\r\n    Data Provider invocation count #1\r\n    Instantiated com.rationaleemotions.DemoTest$Pojo@2bfc268b\r\n    Test is started for data com.rationaleemotions.DemoTest$Pojo@2bfc268b with name John\r\n    \r\n    Test ignored.\r\n    Data Provider invocation count #2\r\n    Instantiated com.rationaleemotions.DemoTest$Pojo@2b91004a\r\n    Test is started for data com.rationaleemotions.DemoTest$Pojo@2bfc268b with name Dragon-Warrior\r\n    \r\n    Test ignored.\r\n    Data Provider invocation count #3\r\n    Instantiated com.rationaleemotions.DemoTest$Pojo@169e6180\r\n    Test is started for data com.rationaleemotions.DemoTest$Pojo@2bfc268b with name Dragon-Warrior\r\n    \r\n    java.lang.AssertionError: null\r\n    \r\n    \tat org.testng.Assert.fail(Assert.java:110)\r\n    \tat org.testng.Assert.fail(Assert.java:115)\r\n    \tat com.rationaleemotions.DemoTest.testMethod(DemoTest.java:22)\r\n    \r\n    \r\n    ===============================================\r\n    Default Suite\r\n    Total tests run: 3, Passes: 0, Failures: 1, Skips: 0, Retries: 2\r\n    ===============================================\r\n    \r\n    Data Provider was invoked 3 time(s).\r\n    \r\n    Process finished with exit code 0\r\n\r\nPoints to note:\r\n\r\n - The print statement in the data provider is getting invoked multiple times, re-iterating the point that the data provider is being called multiple times (whereas it should not have been the case).\r\n - The instance `Pojo@2bfc268b` that was created the first time the data provider was called, is what is being passed to the test method when a retry is happening and so the name that was changed by me in the test method is what is coming back when the test is getting retried (which is why `John` became `Dragon-Warrior`)\r\n - TestNG is ending up calling the data provider multiple times, which is causing the duplicate objects `Pojo@2b91004a`, `Pojo@169e6180` to be created, but if you look at the execution output, you would notice that its not being used by the test method. This is a bug which is now being tracked by the above mentioned github issue.\r\n\r\n\r\n  [1]: https://groups.google.com/g/testng-users/c/2pj_2joJ_UQ/m/88m3PJN-AAAJ?utm_medium=email&amp;utm_source=footer","title":"New data is not passed from TestNG DataProvider to test on test retry","body":"<p>There is no issue here.</p>\n<ul>\n<li>The test method is actually getting the same object as a parameter, when a retry happens.</li>\n<li>But what is causing the confusions is the fact that the data provider\nis being called even when a test method is being retried.</li>\n<li>TestNG is\ndoing this, even though it never uses the object instantiated by the\nduplicate calls to the data provider. I have filed a issue that\ntracks this discrepancy of data provider getting called multiple\ntimes. Please track it here :\n<a href=\"https://github.com/cbeust/testng/issues/2884\" rel=\"nofollow noreferrer\">https://github.com/cbeust/testng/issues/2884</a></li>\n</ul>\n<p>Here's a sample that re-iterates all these aspects. For the sake of completeness I have added the same details to <a href=\"https://groups.google.com/g/testng-users/c/2pj_2joJ_UQ/m/88m3PJN-AAAJ?utm_medium=email&amp;utm_source=footer\" rel=\"nofollow noreferrer\">your post on the TestNG google users group</a> as well.</p>\n<p>Test class sample (I am using <code>7.7.1</code> which is the latest released version for running this test)</p>\n<pre><code>import com.rationaleemotions.DemoTest.Commentary;\nimport java.util.concurrent.atomic.AtomicInteger;\nimport org.testng.Assert;\nimport org.testng.IExecutionListener;\nimport org.testng.IRetryAnalyzer;\nimport org.testng.ITestResult;\nimport org.testng.annotations.DataProvider;\nimport org.testng.annotations.Listeners;\nimport org.testng.annotations.Test;\n\n@Listeners(Commentary.class)\npublic class DemoTest {\n\n  public static final AtomicInteger dataProviderInvocationCount = new AtomicInteger(0);\n\n  @Test(dataProvider = &quot;dp&quot;, retryAnalyzer = TryAgain.class)\n  public void testMethod(Pojo user) {\n    System.out.println(&quot;Test is started for data &quot; + user.toString() + &quot; with name &quot; + user.getName());\n    user.setName(&quot;Dragon-Warrior&quot;);\n    Assert.fail();\n  }\n\n  @DataProvider(name = &quot;dp&quot;)\n  public static Object[][] getTestData() {\n    System.err.println(\n        &quot;Data Provider invocation count #&quot; + dataProviderInvocationCount.incrementAndGet());\n    return new Object[][]{\n        {new Pojo().setName(&quot;John&quot;)}\n    };\n  }\n\n  public static class TryAgain implements IRetryAnalyzer {\n\n    private int counter = 1;\n\n    @Override\n    public boolean retry(ITestResult result) {\n      return counter++ != 3;\n    }\n  }\n\n  public static class Pojo {\n\n    private String name;\n\n    public Pojo() {\n      System.err.println(&quot;Instantiated &quot; + this);\n    }\n\n    public String getName() {\n      return name;\n    }\n\n    public Pojo setName(String name) {\n      this.name = name;\n      return this;\n    }\n  }\n\n  public static class Commentary implements IExecutionListener {\n\n    @Override\n    public void onExecutionStart() {}\n\n    @Override\n    public void onExecutionFinish() {\n      System.err.println(\n          &quot;Data Provider was invoked &quot; + dataProviderInvocationCount.get() + &quot; time(s).&quot;);\n    }\n  }\n}\n</code></pre>\n<p>Here's the complete execution output, along with some inline comments that I have added for elaboration:</p>\n<pre><code>Data Provider invocation count #1\nInstantiated com.rationaleemotions.DemoTest$Pojo@2bfc268b\nTest is started for data com.rationaleemotions.DemoTest$Pojo@2bfc268b with name John\n\nTest ignored.\nData Provider invocation count #2\nInstantiated com.rationaleemotions.DemoTest$Pojo@2b91004a\nTest is started for data com.rationaleemotions.DemoTest$Pojo@2bfc268b with name Dragon-Warrior\n\nTest ignored.\nData Provider invocation count #3\nInstantiated com.rationaleemotions.DemoTest$Pojo@169e6180\nTest is started for data com.rationaleemotions.DemoTest$Pojo@2bfc268b with name Dragon-Warrior\n\njava.lang.AssertionError: null\n\n    at org.testng.Assert.fail(Assert.java:110)\n    at org.testng.Assert.fail(Assert.java:115)\n    at com.rationaleemotions.DemoTest.testMethod(DemoTest.java:22)\n\n\n===============================================\nDefault Suite\nTotal tests run: 3, Passes: 0, Failures: 1, Skips: 0, Retries: 2\n===============================================\n\nData Provider was invoked 3 time(s).\n\nProcess finished with exit code 0\n</code></pre>\n<p>Points to note:</p>\n<ul>\n<li>The print statement in the data provider is getting invoked multiple times, re-iterating the point that the data provider is being called multiple times (whereas it should not have been the case).</li>\n<li>The instance <code>Pojo@2bfc268b</code> that was created the first time the data provider was called, is what is being passed to the test method when a retry is happening and so the name that was changed by me in the test method is what is coming back when the test is getting retried (which is why <code>John</code> became <code>Dragon-Warrior</code>)</li>\n<li>TestNG is ending up calling the data provider multiple times, which is causing the duplicate objects <code>Pojo@2b91004a</code>, <code>Pojo@169e6180</code> to be created, but if you look at the execution output, you would notice that its not being used by the test method. This is a bug which is now being tracked by the above mentioned github issue.</li>\n</ul>\n"}],"owner":{"account_id":24783262,"reputation":13,"user_id":18666631,"display_name":"FinitaLaComedia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75766630,"answer_count":2,"score":1,"last_activity_date":1679049696,"creation_date":1678985171,"question_id":75759203,"body_markdown":"I am using TestNG @DataProvider for passing objects as test parameters and Retry class (that extends RetryAnalyzerCount) to retry failed tests.\r\n\r\nAll is working fine except: if some of object properties were changed during test before it fails, dataProvider method is running on retry but don&#39;t pass new object to test, so in test we have old set data from 1st run.\r\n\r\nExample:\r\n\r\n```\r\n    @DataProvider(name = &quot;userData&quot;)\r\n    public static Object[] getUserData() {\r\n        System.out.println(&quot;DataProvider is started...&quot;);\r\n        TestUser testUser = new TestUser(&quot;John&quot;);\r\n        System.out.println(&quot;Username from dataprovider: &quot; + testUser.getName());\r\n        return new Object[]{testUser};\r\n    }\r\n\r\n    @Test(retryAnalyzer = Retry.class, dataProvider = &quot;userData&quot;)\r\n    public void testRetry(TestUser user) {\r\n        System.out.println(&quot;Test is started...&quot;);\r\n        System.out.println(&quot;Username from test: &quot; + user.getName());\r\n        user.setName(&quot;New Name&quot;);\r\n        Assert.fail();\r\n    }\r\n```\r\n\r\n**Output:**\r\n\r\n```\r\nDataProvider is started...\r\nUsername from dataprovider: John\r\nTest is started...\r\nUsername from test: John\r\n\r\nRetry test...\r\n\r\nDataProvider is started...\r\nUsername from dataprovider: John\r\nTest is started...\r\nUsername from test: New Name\r\n```\r\n\r\nTestNG version: 7.6.0, 7.7.1\r\n\r\nFacing such issue and don&#39;t know how to get around it.","title":"New data is not passed from TestNG DataProvider to test on test retry","body":"<p>I am using TestNG @DataProvider for passing objects as test parameters and Retry class (that extends RetryAnalyzerCount) to retry failed tests.</p>\n<p>All is working fine except: if some of object properties were changed during test before it fails, dataProvider method is running on retry but don't pass new object to test, so in test we have old set data from 1st run.</p>\n<p>Example:</p>\n<pre><code>    @DataProvider(name = &quot;userData&quot;)\n    public static Object[] getUserData() {\n        System.out.println(&quot;DataProvider is started...&quot;);\n        TestUser testUser = new TestUser(&quot;John&quot;);\n        System.out.println(&quot;Username from dataprovider: &quot; + testUser.getName());\n        return new Object[]{testUser};\n    }\n\n    @Test(retryAnalyzer = Retry.class, dataProvider = &quot;userData&quot;)\n    public void testRetry(TestUser user) {\n        System.out.println(&quot;Test is started...&quot;);\n        System.out.println(&quot;Username from test: &quot; + user.getName());\n        user.setName(&quot;New Name&quot;);\n        Assert.fail();\n    }\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>DataProvider is started...\nUsername from dataprovider: John\nTest is started...\nUsername from test: John\n\nRetry test...\n\nDataProvider is started...\nUsername from dataprovider: John\nTest is started...\nUsername from test: New Name\n</code></pre>\n<p>TestNG version: 7.6.0, 7.7.1</p>\n<p>Facing such issue and don't know how to get around it.</p>\n"},{"tags":["java","spring","validation","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":4781734,"reputation":280,"user_id":3863254,"display_name":"vikas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1503931077,"creation_date":1503931077,"answer_id":45921573,"question_id":45921026,"body_markdown":"You have to implement custom validation like below.\r\n\r\n**First Change your EmailValid.java file.**\r\n\r\n    @Target({METHOD, FIELD, ANNOTATION_TYPE})\r\n    @Retention(RUNTIME)\r\n    @Constraint(validatedBy = { EmailValidCheck.class })\r\n    @Documented\r\n    public @interface EmailValid {\r\n        String message() default &quot;Please provide a valid email address&quot;;\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\n**Now Implement This ConstraintValidator like Below.**\r\n\r\n    public class EmailValidCheck extends ABaseController implements\r\n    \t\tConstraintValidator&lt;EmailValid, Map&lt;String,String&gt;&gt; {\r\n    \t@Override\r\n    \tpublic void initialize(EmailValid constraintAnnotation) {\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isValid(Map&lt;String,String&gt; mapOfEmail,\r\n    \t\t\tConstraintValidatorContext cvc) {\r\n    \t\t\t//Implement Email Validation Login Here.\r\n    \t}\t\t\r\n    }\r\n\r\n**Change Your Controller Like Below.**\r\n\r\n    @ResponseStatus(value = HttpStatus.OK)\r\n    @RequestMapping(value = &quot;/sendEmails&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public ResponseEntity&lt;ResponseVO&gt; sendEmails(@EmailValid Map&lt;String, String&gt; users) {\r\n            // some code for sending email\r\n        }","title":"Spring validation of Map as request parameter with annotations","body":"<p>You have to implement custom validation like below.</p>\n\n<p><strong>First Change your EmailValid.java file.</strong></p>\n\n<pre><code>@Target({METHOD, FIELD, ANNOTATION_TYPE})\n@Retention(RUNTIME)\n@Constraint(validatedBy = { EmailValidCheck.class })\n@Documented\npublic @interface EmailValid {\n    String message() default \"Please provide a valid email address\";\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n\n<p><strong>Now Implement This ConstraintValidator like Below.</strong></p>\n\n<pre><code>public class EmailValidCheck extends ABaseController implements\n        ConstraintValidator&lt;EmailValid, Map&lt;String,String&gt;&gt; {\n    @Override\n    public void initialize(EmailValid constraintAnnotation) {\n    }\n\n    @Override\n    public boolean isValid(Map&lt;String,String&gt; mapOfEmail,\n            ConstraintValidatorContext cvc) {\n            //Implement Email Validation Login Here.\n    }       \n}\n</code></pre>\n\n<p><strong>Change Your Controller Like Below.</strong></p>\n\n<pre><code>@ResponseStatus(value = HttpStatus.OK)\n@RequestMapping(value = \"/sendEmails\", produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;ResponseVO&gt; sendEmails(@EmailValid Map&lt;String, String&gt; users) {\n        // some code for sending email\n    }\n</code></pre>\n"}],"owner":{"account_id":4794081,"reputation":321,"user_id":3872496,"accept_rate":60,"display_name":"vikki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6389,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":45921573,"answer_count":1,"score":3,"last_activity_date":1679049587,"creation_date":1503929382,"question_id":45921026,"body_markdown":"I use `javax.validation.constraints` annotations to validate the request parameters. I need to validate emails so I&#39;ve created an annotation `@EmailValid`, snippet provided below:\r\n\r\n    @Email(message = &quot;Please provide a valid email address&quot;)\r\n    @Pattern(regexp = &quot;.+@.+\\\\..+&quot;, message = &quot;Please provide a valid email address&quot;)\r\n    @Target({METHOD, FIELD, ANNOTATION_TYPE})\r\n    @Retention(RUNTIME)\r\n    @Constraint(validatedBy = {})\r\n    @Documented\r\n    public @interface EmailValid {\r\n    \tString message() default &quot;Please provide a valid email address&quot;;\r\n    \r\n    \tClass&lt;?&gt;[] groups() default {};\r\n    \r\n    \tClass&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\nBut it works only for single String field e.g. :\r\n\r\n    @ResponseStatus(value = HttpStatus.OK)\r\n    @RequestMapping(value = &quot;/sendEmail&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic ResponseEntity&lt;ResponseVO&gt; sendEmail(@EmailValid String email) {\r\n    \t\t// some code for sending email\r\n    \t}\r\n\r\nWhat I need is to validate Map of emails. I have a map `Map&lt;String, String&gt; users` where key is userId and value is an email. So I have a method like this in my controller:\r\n\r\n    @ResponseStatus(value = HttpStatus.OK)\r\n    @RequestMapping(value = &quot;/sendEmails&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic ResponseEntity&lt;ResponseVO&gt; sendEmails(Map&lt;String, String&gt; users) {\r\n    \t\t// some code for sending email\r\n    \t}\r\nQuestion is how can I validate map values here using my annotation `@EmailValid` and other `javax.validation.constraints` annotations?\r\n","title":"Spring validation of Map as request parameter with annotations","body":"<p>I use <code>javax.validation.constraints</code> annotations to validate the request parameters. I need to validate emails so I've created an annotation <code>@EmailValid</code>, snippet provided below:</p>\n\n<pre><code>@Email(message = \"Please provide a valid email address\")\n@Pattern(regexp = \".+@.+\\\\..+\", message = \"Please provide a valid email address\")\n@Target({METHOD, FIELD, ANNOTATION_TYPE})\n@Retention(RUNTIME)\n@Constraint(validatedBy = {})\n@Documented\npublic @interface EmailValid {\n    String message() default \"Please provide a valid email address\";\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n\n<p>But it works only for single String field e.g. :</p>\n\n<pre><code>@ResponseStatus(value = HttpStatus.OK)\n@RequestMapping(value = \"/sendEmail\", produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;ResponseVO&gt; sendEmail(@EmailValid String email) {\n        // some code for sending email\n    }\n</code></pre>\n\n<p>What I need is to validate Map of emails. I have a map <code>Map&lt;String, String&gt; users</code> where key is userId and value is an email. So I have a method like this in my controller:</p>\n\n<pre><code>@ResponseStatus(value = HttpStatus.OK)\n@RequestMapping(value = \"/sendEmails\", produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;ResponseVO&gt; sendEmails(Map&lt;String, String&gt; users) {\n        // some code for sending email\n    }\n</code></pre>\n\n<p>Question is how can I validate map values here using my annotation <code>@EmailValid</code> and other <code>javax.validation.constraints</code> annotations?</p>\n"},{"tags":["java","amazon-web-services","amazon-ec2","ssh"],"answers":[{"tags":[],"owner":{"account_id":6653255,"reputation":483,"user_id":5134621,"display_name":"Lee David Painter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1550661486,"creation_date":1550661486,"answer_id":54785065,"question_id":54778037,"body_markdown":"Reading the exception output it would suggest that one the key exchange algorithms supported on the server do not match any of those supported by the client. \r\n\r\n&gt; Caused by: java.io.IOException: Cannot negotiate, proposals do not match.\r\n\r\nYou can easily see what the server supports by executing the command line\r\n\r\n&gt; ssh -vv user@host\r\n\r\nMost likely cause is either a cipher, HMAC or key exchange algorithm. I would take a guess at key exchange as there has been a lot of movement in those over the years and so modern servers may be configured for stronger key exchange after the discovery of vulnerabilities like [Logjam][1]\r\n\r\nTo actually fix the problem would require an upgrade in the client library to something that supports the algorithm that is missing. \r\n\r\n  [1]: https://weakdh.org/","title":"Why does programmatic SSH to server using ganymed-ssh-2 results in Key Exchange error?","body":"<p>Reading the exception output it would suggest that one the key exchange algorithms supported on the server do not match any of those supported by the client. </p>\n\n<blockquote>\n  <p>Caused by: java.io.IOException: Cannot negotiate, proposals do not match.</p>\n</blockquote>\n\n<p>You can easily see what the server supports by executing the command line</p>\n\n<blockquote>\n  <p>ssh -vv user@host</p>\n</blockquote>\n\n<p>Most likely cause is either a cipher, HMAC or key exchange algorithm. I would take a guess at key exchange as there has been a lot of movement in those over the years and so modern servers may be configured for stronger key exchange after the discovery of vulnerabilities like <a href=\"https://weakdh.org/\" rel=\"nofollow noreferrer\">Logjam</a></p>\n\n<p>To actually fix the problem would require an upgrade in the client library to something that supports the algorithm that is missing. </p>\n"},{"tags":[],"owner":{"account_id":9848183,"reputation":21,"user_id":7295026,"display_name":"Sathyendra Prabhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614930293,"creation_date":1614930293,"answer_id":66488614,"question_id":54778037,"body_markdown":"If your setup is in a secure &amp; controlled environment and if you want to get away from this error then, Comment following 2 entries in /etc/ssh/sshd_config\r\n\r\n    PermitEmptyPasswords no\r\n    MACs &lt;some entry&gt;\r\n\r\nand restart the sshd (service sshd restart)\r\nThis should work","title":"Why does programmatic SSH to server using ganymed-ssh-2 results in Key Exchange error?","body":"<p>If your setup is in a secure &amp; controlled environment and if you want to get away from this error then, Comment following 2 entries in /etc/ssh/sshd_config</p>\n<pre><code>PermitEmptyPasswords no\nMACs &lt;some entry&gt;\n</code></pre>\n<p>and restart the sshd (service sshd restart)\nThis should work</p>\n"},{"tags":[],"owner":{"account_id":22415792,"reputation":56,"user_id":16623891,"display_name":"Hassan Raza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679049376,"creation_date":1679049376,"answer_id":75766594,"question_id":54778037,"body_markdown":"I ran into same issue using ganymed-ssh2 the error was on Ubuntu 20, the ganymed-ssh2 library uses diffie-hellman-group-exchange-sha1, diffie-hellman-group14-sha1, diffie-hellman-group1-sha1 Kex Algos, and Ubuntu have these algos enabled by default:\r\n\r\n`curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256`\r\n\r\nAs mentioned here https://manpages.ubuntu.com/manpages/impish/en/man5/sshd_config.5.html, I enabled the `diffie-hellman-group14-sha1` using sshd_config and adding a line `KexAlgorithm +diffie-hellman-group14-sha1`","title":"Why does programmatic SSH to server using ganymed-ssh-2 results in Key Exchange error?","body":"<p>I ran into same issue using ganymed-ssh2 the error was on Ubuntu 20, the ganymed-ssh2 library uses diffie-hellman-group-exchange-sha1, diffie-hellman-group14-sha1, diffie-hellman-group1-sha1 Kex Algos, and Ubuntu have these algos enabled by default:</p>\n<p><code>curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256</code></p>\n<p>As mentioned here <a href=\"https://manpages.ubuntu.com/manpages/impish/en/man5/sshd_config.5.html\" rel=\"nofollow noreferrer\">https://manpages.ubuntu.com/manpages/impish/en/man5/sshd_config.5.html</a>, I enabled the <code>diffie-hellman-group14-sha1</code> using sshd_config and adding a line <code>KexAlgorithm +diffie-hellman-group14-sha1</code></p>\n"}],"owner":{"account_id":6136948,"reputation":217,"user_id":4785467,"accept_rate":71,"display_name":"GlorianChris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54785065,"answer_count":3,"score":0,"last_activity_date":1679049376,"creation_date":1550630432,"question_id":54778037,"body_markdown":"I&#39;m using the ganymed-ssh-2 Java library to create a connection from one AWS EC2 to another (in the same VPC) and the &#39;connect()&#39; command gives the following error:\r\n\r\n    java.io.IOException: Key exchange was not finished, connection is closed.\r\n        at ch.ethz.ssh2.transport.KexManager.getOrWaitForConnectionInfo(KexManager.java:75)\r\n        at ch.ethz.ssh2.transport.TransportManager.getConnectionInfo(TransportManager.java:169)\r\n        at ch.ethz.ssh2.Connection.connect(Connection.java:759)\r\n        at ch.ethz.ssh2.Connection.connect(Connection.java:628)\r\n        at bravura.autoperf.executor.SSHExecutor.connectTo(SSHExecutor.java:156)\r\n        at bravura.autoperf.executor.SSHExecutor.runRemoteSSHCommand(SSHExecutor.java:57)\r\n        at bravura.autoperf.executor.SSHExecutor.runRemoteSSHCommand(SSHExecutor.java:141)\r\n        at bravura.autoperf.util.Utilities.runCommandRepeatedly(Utilities.java:614)\r\n        at bravura.autoperf.test.Server.getServerDetails(Server.java:233)\r\n        at bravura.autoperf.test.Server.&lt;init&gt;(Server.java:127)\r\n        at bravura.autoperf.test.Server.&lt;init&gt;(Server.java:65)\r\n        at bravura.autoperf.util.Utilities.getClientServer(Utilities.java:499)\r\n        at bravura.autoperf.manager.RunSetupManager.&lt;init&gt;(RunSetupManager.java:69)\r\n        at bravura.autoperf.manager.ExecutionManager.runTests(ExecutionManager.java:171)\r\n        at bravura.autoperf.manager.ExecutionManager.main(ExecutionManager.java:64)\r\n    Caused by: java.io.IOException: Cannot negotiate, proposals do not match.\r\n        at ch.ethz.ssh2.transport.ClientKexManager.handleMessage(ClientKexManager.java:123)\r\n        at ch.ethz.ssh2.transport.TransportManager.receiveLoop(TransportManager.java:572)\r\n        at ch.ethz.ssh2.transport.TransportManager$1.run(TransportManager.java:261)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\nCalling code:\r\n\r\n    \tConnection connection = new Connection(host);\r\n\t\tconnection.connect();\r\n\r\nThis is before the &#39;authenticateWithPublicKey()&#39; method has had a chance to be called.\r\n\r\nThe NACL and relevant security group have been opened up for port 22 traffic for the VPC CIDR range (which both instances are in).\r\nThe Route Table routes all VPC CIDR traffic locally.\r\n\r\nI can manually ssh with no issues.\r\n\r\n(OS is Amazon Linux 2 fwiw)\r\n\r\nThanks for any help.","title":"Why does programmatic SSH to server using ganymed-ssh-2 results in Key Exchange error?","body":"<p>I'm using the ganymed-ssh-2 Java library to create a connection from one AWS EC2 to another (in the same VPC) and the 'connect()' command gives the following error:</p>\n\n<pre><code>java.io.IOException: Key exchange was not finished, connection is closed.\n    at ch.ethz.ssh2.transport.KexManager.getOrWaitForConnectionInfo(KexManager.java:75)\n    at ch.ethz.ssh2.transport.TransportManager.getConnectionInfo(TransportManager.java:169)\n    at ch.ethz.ssh2.Connection.connect(Connection.java:759)\n    at ch.ethz.ssh2.Connection.connect(Connection.java:628)\n    at bravura.autoperf.executor.SSHExecutor.connectTo(SSHExecutor.java:156)\n    at bravura.autoperf.executor.SSHExecutor.runRemoteSSHCommand(SSHExecutor.java:57)\n    at bravura.autoperf.executor.SSHExecutor.runRemoteSSHCommand(SSHExecutor.java:141)\n    at bravura.autoperf.util.Utilities.runCommandRepeatedly(Utilities.java:614)\n    at bravura.autoperf.test.Server.getServerDetails(Server.java:233)\n    at bravura.autoperf.test.Server.&lt;init&gt;(Server.java:127)\n    at bravura.autoperf.test.Server.&lt;init&gt;(Server.java:65)\n    at bravura.autoperf.util.Utilities.getClientServer(Utilities.java:499)\n    at bravura.autoperf.manager.RunSetupManager.&lt;init&gt;(RunSetupManager.java:69)\n    at bravura.autoperf.manager.ExecutionManager.runTests(ExecutionManager.java:171)\n    at bravura.autoperf.manager.ExecutionManager.main(ExecutionManager.java:64)\nCaused by: java.io.IOException: Cannot negotiate, proposals do not match.\n    at ch.ethz.ssh2.transport.ClientKexManager.handleMessage(ClientKexManager.java:123)\n    at ch.ethz.ssh2.transport.TransportManager.receiveLoop(TransportManager.java:572)\n    at ch.ethz.ssh2.transport.TransportManager$1.run(TransportManager.java:261)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n\n<p>Calling code:</p>\n\n<pre><code>    Connection connection = new Connection(host);\n    connection.connect();\n</code></pre>\n\n<p>This is before the 'authenticateWithPublicKey()' method has had a chance to be called.</p>\n\n<p>The NACL and relevant security group have been opened up for port 22 traffic for the VPC CIDR range (which both instances are in).\nThe Route Table routes all VPC CIDR traffic locally.</p>\n\n<p>I can manually ssh with no issues.</p>\n\n<p>(OS is Amazon Linux 2 fwiw)</p>\n\n<p>Thanks for any help.</p>\n"},{"tags":["java","redis","quarkus","vert.x","mutiny"],"answers":[{"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679049133,"creation_date":1679049133,"answer_id":75766544,"question_id":75748854,"body_markdown":"`io.vertx.mutiny.redis.client.Response` wraps an object implementing the `io.vertx.redis.client.Response` interface.\r\n\r\nSo you need to mock the response and then wrap it:\r\n\r\n```\r\nio.vertx.redis.client.Response bareResponse = mockResponse();\r\nio.vertx.mutiny.redis.client.Response wrapped = io.vertx.mutiny.redis.client.Response.newInstance​(bareResponse);\r\n```","title":"How to create io.vertx.mutiny.redis.client.Response in tests","body":"<p><code>io.vertx.mutiny.redis.client.Response</code> wraps an object implementing the <code>io.vertx.redis.client.Response</code> interface.</p>\n<p>So you need to mock the response and then wrap it:</p>\n<pre><code>io.vertx.redis.client.Response bareResponse = mockResponse();\nio.vertx.mutiny.redis.client.Response wrapped = io.vertx.mutiny.redis.client.Response.newInstance​(bareResponse);\n</code></pre>\n"}],"owner":{"account_id":15676985,"reputation":73,"user_id":11312013,"display_name":"Konstantin Rezchikov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679049133,"creation_date":1678905582,"question_id":75748854,"body_markdown":"I am trying to mock out the `ReactiveRedisClient redisClient` \r\nThe signature for the get method is ` io.smallrye.mutiny.Uni&lt;io.vertx.mutiny.redis.client.Response&gt; get(java.lang.String arg0);\r\n`\r\n\r\nHowever, it doesn&#39;t seem like there is any easy way to create an `io.vertx.mutiny.redis.client.Response` directly.\r\n\r\nI ended up with mocking it and creating this solution, but if possible, I&#39;d like to create the Response directly and not have to mock it. \r\n```java\r\nEvent event = new Event();\r\n\t\tString eventStr = event.toString();\r\n\t\tResponse response = mock(Response.class);\r\n\t\twhen(response.toString()).thenReturn(eventStr);\r\n\t\twhen(redisClient.get(any())).thenReturn(Uni.createFrom().item(response));\r\n```\r\n\r\nWould it be possible to do the above code without mocking the Response\r\n\r\nDocs:\r\nhttps://javadoc.io/static/io.quarkus/quarkus-redis-client/1.10.1.Final/io/quarkus/redis/client/reactive/ReactiveRedisClient.html \r\nhttps://smallrye.io/smallrye-mutiny-vertx-bindings/2.8.0/apidocs/io/vertx/mutiny/redis/client/Response.html\r\nhttps://vertx.io/docs/apidocs/io/vertx/redis/client/Response.html","title":"How to create io.vertx.mutiny.redis.client.Response in tests","body":"<p>I am trying to mock out the <code>ReactiveRedisClient redisClient</code>\nThe signature for the get method is <code>io.smallrye.mutiny.Uni&lt;io.vertx.mutiny.redis.client.Response&gt; get(java.lang.String arg0);</code></p>\n<p>However, it doesn't seem like there is any easy way to create an <code>io.vertx.mutiny.redis.client.Response</code> directly.</p>\n<p>I ended up with mocking it and creating this solution, but if possible, I'd like to create the Response directly and not have to mock it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Event event = new Event();\n        String eventStr = event.toString();\n        Response response = mock(Response.class);\n        when(response.toString()).thenReturn(eventStr);\n        when(redisClient.get(any())).thenReturn(Uni.createFrom().item(response));\n</code></pre>\n<p>Would it be possible to do the above code without mocking the Response</p>\n<p>Docs:\n<a href=\"https://javadoc.io/static/io.quarkus/quarkus-redis-client/1.10.1.Final/io/quarkus/redis/client/reactive/ReactiveRedisClient.html\" rel=\"nofollow noreferrer\">https://javadoc.io/static/io.quarkus/quarkus-redis-client/1.10.1.Final/io/quarkus/redis/client/reactive/ReactiveRedisClient.html</a>\n<a href=\"https://smallrye.io/smallrye-mutiny-vertx-bindings/2.8.0/apidocs/io/vertx/mutiny/redis/client/Response.html\" rel=\"nofollow noreferrer\">https://smallrye.io/smallrye-mutiny-vertx-bindings/2.8.0/apidocs/io/vertx/mutiny/redis/client/Response.html</a>\n<a href=\"https://vertx.io/docs/apidocs/io/vertx/redis/client/Response.html\" rel=\"nofollow noreferrer\">https://vertx.io/docs/apidocs/io/vertx/redis/client/Response.html</a></p>\n"},{"tags":["java","spring-boot","jwt","oauth2resourceserver","oauth-2.1"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679031319,"creation_date":1679031319,"answer_id":75764081,"question_id":75763382,"body_markdown":"You provide with an Authentication converter when configuring the resource-server in your `SecurityFilterChain`:\r\n`http.oauth2ResourceServer().jwtAuthenticationConverter(...)`\r\n\r\nMany samples on in the tutorials I wrote: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials","title":"How to get scope and roles in Oauth2/2.1 spring boot resource server?","body":"<p>You provide with an Authentication converter when configuring the resource-server in your <code>SecurityFilterChain</code>:\n<code>http.oauth2ResourceServer().jwtAuthenticationConverter(...)</code></p>\n<p>Many samples on in the tutorials I wrote: <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials</a></p>\n"},{"tags":[],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679049081,"creation_date":1679047599,"answer_id":75766264,"question_id":75763382,"body_markdown":"Created `CustomAuthenticationConverter` to replace `scope` with `roles`\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class OAuth2ResourceServerSecurityConfiguration {\r\n    \t\r\n    \t@Value(&quot;${spring.security.oauth2.resourceserver.jwt.issuer-uri}&quot;)\r\n    \tprivate String authServerBaseUrl;\r\n    \t\r\n    \tinterface Jwt2AuthoritiesConverter extends Converter&lt;Jwt, Collection&lt;? extends GrantedAuthority&gt;&gt; {\r\n    \t}\r\n    \r\n    \tList&lt;String&gt; publicApis = List.of(&quot;/login&quot;, &quot;/rest/**&quot;, &quot;/token&quot;, \r\n    \t\t\t &quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;, &quot;/vendor/**&quot;, &quot;/favicon.ico&quot;);\r\n    \t \r\n    \t@Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {    \r\n            http.anonymous().disable();       \r\n    \t\thttp.cors().and().authorizeHttpRequests(authorize -&gt; authorize\r\n    \t\t\t\t.requestMatchers(publicApis.stream()\r\n                            .map(AntPathRequestMatcher::new)\r\n                            .toArray(RequestMatcher[]::new)).permitAll()\r\n    \t\t\t\r\n    \t            .anyRequest().authenticated()).csrf().disable();\r\n    \t\t\t\r\n    \t\thttp.oauth2ResourceServer(oauth2 -&gt; oauth2\r\n                    .jwt(jwt -&gt; jwt\r\n                            .jwtAuthenticationConverter(new CustomAuthenticationConverter())\r\n                        )\r\n                    );\r\n    \t\r\n    \t\t      \r\n            return http.build();\r\n        }\r\n      \r\n    \tstatic class CustomAuthenticationConverter implements Converter&lt;Jwt, AbstractAuthenticationToken&gt; {\r\n    \t    public AbstractAuthenticationToken convert(Jwt jwt) {\r\n    \t    \tCollection&lt;String&gt; authorities = jwt.getClaimAsStringList(&quot;roles&quot;);\r\n    \t    \tCollection&lt;GrantedAuthority&gt; grantedAuthorities = authorities.stream()\r\n    \t                .map(SimpleGrantedAuthority::new)\r\n    \t                .collect(Collectors.toList());\r\n    \t    \treturn new JwtAuthenticationToken(jwt, grantedAuthorities);\r\n    \t    }\r\n    \t}\r\n    }\r\n\r\nTo Get roles:\r\n\r\n    Authentication authentication = getAuthentication();\r\n    authentication.getAuthorities()\r\n\r\nRefer :-\r\n \r\nAuthorization server -&gt; https://github.com/m-thirumal/oauth-authorization-server/\r\n\r\nResource server -&gt; https://github.com/m-thirumal/oauth-resource-server\r\nhttps://github.com/m-thirumal/oauth-resource-server\r\n","title":"How to get scope and roles in Oauth2/2.1 spring boot resource server?","body":"<p>Created <code>CustomAuthenticationConverter</code> to replace <code>scope</code> with <code>roles</code></p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class OAuth2ResourceServerSecurityConfiguration {\n    \n    @Value(&quot;${spring.security.oauth2.resourceserver.jwt.issuer-uri}&quot;)\n    private String authServerBaseUrl;\n    \n    interface Jwt2AuthoritiesConverter extends Converter&lt;Jwt, Collection&lt;? extends GrantedAuthority&gt;&gt; {\n    }\n\n    List&lt;String&gt; publicApis = List.of(&quot;/login&quot;, &quot;/rest/**&quot;, &quot;/token&quot;, \n             &quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;, &quot;/vendor/**&quot;, &quot;/favicon.ico&quot;);\n     \n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {    \n        http.anonymous().disable();       \n        http.cors().and().authorizeHttpRequests(authorize -&gt; authorize\n                .requestMatchers(publicApis.stream()\n                        .map(AntPathRequestMatcher::new)\n                        .toArray(RequestMatcher[]::new)).permitAll()\n            \n                .anyRequest().authenticated()).csrf().disable();\n            \n        http.oauth2ResourceServer(oauth2 -&gt; oauth2\n                .jwt(jwt -&gt; jwt\n                        .jwtAuthenticationConverter(new CustomAuthenticationConverter())\n                    )\n                );\n    \n              \n        return http.build();\n    }\n  \n    static class CustomAuthenticationConverter implements Converter&lt;Jwt, AbstractAuthenticationToken&gt; {\n        public AbstractAuthenticationToken convert(Jwt jwt) {\n            Collection&lt;String&gt; authorities = jwt.getClaimAsStringList(&quot;roles&quot;);\n            Collection&lt;GrantedAuthority&gt; grantedAuthorities = authorities.stream()\n                    .map(SimpleGrantedAuthority::new)\n                    .collect(Collectors.toList());\n            return new JwtAuthenticationToken(jwt, grantedAuthorities);\n        }\n    }\n}\n</code></pre>\n<p>To Get roles:</p>\n<pre><code>Authentication authentication = getAuthentication();\nauthentication.getAuthorities()\n</code></pre>\n<p>Refer :-</p>\n<p>Authorization server -&gt; <a href=\"https://github.com/m-thirumal/oauth-authorization-server/\" rel=\"nofollow noreferrer\">https://github.com/m-thirumal/oauth-authorization-server/</a></p>\n<p>Resource server -&gt; <a href=\"https://github.com/m-thirumal/oauth-resource-server\" rel=\"nofollow noreferrer\">https://github.com/m-thirumal/oauth-resource-server</a>\n<a href=\"https://github.com/m-thirumal/oauth-resource-server\" rel=\"nofollow noreferrer\">https://github.com/m-thirumal/oauth-resource-server</a></p>\n"}],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75766264,"answer_count":2,"score":0,"last_activity_date":1679049081,"creation_date":1679021759,"question_id":75763382,"body_markdown":"How to get scope and roles in Oauth2/2.1 spring boot resource server? \r\n\r\n```\r\nAuthentication authentication = getAuthentication();\r\nSystem.out.println(authentication.getAuthorities());\r\n```\r\n\r\n`Authorities` returns only scope.\r\n\r\nHere is my token `introspect`\r\n\r\n```\r\n{\r\n    &quot;active&quot;: true,\r\n    &quot;sub&quot;: &quot;0f370b1e-e3a9-4ee3-a8a3-21bbb3437c16&quot;,\r\n    &quot;aud&quot;: [\r\n        &quot;1&quot;\r\n    ],\r\n    &quot;nbf&quot;: 1679019352,\r\n    &quot;scope&quot;: &quot;read&quot;,\r\n    &quot;roles&quot;: [\r\n        &quot;user&quot;\r\n    ],\r\n    &quot;iss&quot;: &quot;http://3.6.239.198:9000&quot;,\r\n    &quot;exp&quot;: 1679022352,\r\n    &quot;iat&quot;: 1679019352,\r\n    &quot;client_id&quot;: &quot;1&quot;,\r\n    &quot;token_type&quot;: &quot;Bearer&quot;\r\n}\r\n```\r\n\r\nHow to retrieve `role` in the resource server?","title":"How to get scope and roles in Oauth2/2.1 spring boot resource server?","body":"<p>How to get scope and roles in Oauth2/2.1 spring boot resource server?</p>\n<pre><code>Authentication authentication = getAuthentication();\nSystem.out.println(authentication.getAuthorities());\n</code></pre>\n<p><code>Authorities</code> returns only scope.</p>\n<p>Here is my token <code>introspect</code></p>\n<pre><code>{\n    &quot;active&quot;: true,\n    &quot;sub&quot;: &quot;0f370b1e-e3a9-4ee3-a8a3-21bbb3437c16&quot;,\n    &quot;aud&quot;: [\n        &quot;1&quot;\n    ],\n    &quot;nbf&quot;: 1679019352,\n    &quot;scope&quot;: &quot;read&quot;,\n    &quot;roles&quot;: [\n        &quot;user&quot;\n    ],\n    &quot;iss&quot;: &quot;http://3.6.239.198:9000&quot;,\n    &quot;exp&quot;: 1679022352,\n    &quot;iat&quot;: 1679019352,\n    &quot;client_id&quot;: &quot;1&quot;,\n    &quot;token_type&quot;: &quot;Bearer&quot;\n}\n</code></pre>\n<p>How to retrieve <code>role</code> in the resource server?</p>\n"},{"tags":["java","postgresql","vert.x"],"answers":[{"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679048332,"creation_date":1679048332,"answer_id":75766406,"question_id":75765890,"body_markdown":"To increase throughput, you should increase the connection pool size beyond the default (5). Check with your DBA how many concurrent connections you can create.\r\n\r\nAlso, depending on your workload, you might benefit from [pipelining][1]. It&#39;s not silver bullet, so try it in a testing environment and make measurements.\r\n\r\nBut at the end of the day, if you flood your database with updates, then yes, pending requests will sit in a queue somewhere. It&#39;s your responsibility to make sure you don&#39;t submit more concurrent requests to the client than the system is able to handle.\r\n\r\n\r\n  [1]: https://vertx.io/docs/vertx-pg-client/java/#_command_pipelining","title":"Memory leak with vertx SqlClient","body":"<p>To increase throughput, you should increase the connection pool size beyond the default (5). Check with your DBA how many concurrent connections you can create.</p>\n<p>Also, depending on your workload, you might benefit from <a href=\"https://vertx.io/docs/vertx-pg-client/java/#_command_pipelining\" rel=\"nofollow noreferrer\">pipelining</a>. It's not silver bullet, so try it in a testing environment and make measurements.</p>\n<p>But at the end of the day, if you flood your database with updates, then yes, pending requests will sit in a queue somewhere. It's your responsibility to make sure you don't submit more concurrent requests to the client than the system is able to handle.</p>\n"}],"owner":{"account_id":18051240,"reputation":1,"user_id":13120854,"display_name":"Crospone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75766406,"answer_count":1,"score":0,"last_activity_date":1679048332,"creation_date":1679045630,"question_id":75765890,"body_markdown":"I have an application that - in the end - grab independent sql queries from a non-blocking queue and execute them in a postgres database.\r\n\r\nI had a memory issue due to the insert process bottlenecking and making the queries queue grows too big.\r\n\r\nI tried the VertX postgressql client, to see if it could dequeue faster. As a matter of fact, it does greatly, but it seems I just moved the memory problem from one queue to another... \r\n\r\n\r\n\r\n[MAT Suspect](https://i.stack.imgur.com/K8XhU.png)\r\n\r\nMy code seems quite simple :\r\n\r\n```\r\n\t@Override\r\n\tpublic void initialize() {\r\n\t\tconOptions = new PgConnectOptions().setHost(conf.getDbHost()).setDatabase(conf.getDbName())\r\n\t\t\t\t.setUser(conf.getDbUser()).setPassword(conf.getDbPassword());\r\n\r\n\t\tpoolOptions = new PoolOptions().setMaxSize(5);\r\n\t\tclient = PgPool.client(conOptions, poolOptions);\r\n\t}\r\n\t\r\n        @Override\r\n\tpublic void executeUpdate(String sql) throws SQLException {\r\n\t\tcountIn.accumulate(1L);\r\n\t\tclient.query(sql).execute().onComplete(ar -&gt; {\r\n\t\t\tcountOut.accumulate(1L);\r\n\t\t\tif (!ar.succeeded()) {\r\n\t\t\t\tLogManager.getLogger(this.getClass()).error(ar.cause().getMessage());\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\r\n```\r\n\r\nIs there something I&#39;m doing wrong, something missing with vertx or jdbc driver ? or did I have unrealistic expectations ?\r\n\r\n\r\n","title":"Memory leak with vertx SqlClient","body":"<p>I have an application that - in the end - grab independent sql queries from a non-blocking queue and execute them in a postgres database.</p>\n<p>I had a memory issue due to the insert process bottlenecking and making the queries queue grows too big.</p>\n<p>I tried the VertX postgressql client, to see if it could dequeue faster. As a matter of fact, it does greatly, but it seems I just moved the memory problem from one queue to another...</p>\n<p><a href=\"https://i.stack.imgur.com/K8XhU.png\" rel=\"nofollow noreferrer\">MAT Suspect</a></p>\n<p>My code seems quite simple :</p>\n<pre><code>    @Override\n    public void initialize() {\n        conOptions = new PgConnectOptions().setHost(conf.getDbHost()).setDatabase(conf.getDbName())\n                .setUser(conf.getDbUser()).setPassword(conf.getDbPassword());\n\n        poolOptions = new PoolOptions().setMaxSize(5);\n        client = PgPool.client(conOptions, poolOptions);\n    }\n    \n        @Override\n    public void executeUpdate(String sql) throws SQLException {\n        countIn.accumulate(1L);\n        client.query(sql).execute().onComplete(ar -&gt; {\n            countOut.accumulate(1L);\n            if (!ar.succeeded()) {\n                LogManager.getLogger(this.getClass()).error(ar.cause().getMessage());\n            }\n        });\n    }\n\n\n</code></pre>\n<p>Is there something I'm doing wrong, something missing with vertx or jdbc driver ? or did I have unrealistic expectations ?</p>\n"},{"tags":["java","swing","ubuntu","x11"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":2,"creation_date":1679046742,"post_id":75765738,"comment_id":133654412,"body_markdown":"If you have a [openjdk-19-jdk-headless](https://packages.ubuntu.com/search?suite=default&amp;section=all&amp;arch=any&amp;keywords=openjdk-19&amp;searchon=names), then the fix would be `sudo apt install openjdk-19-jdk` I guess.","body":"If you have a <a href=\"https://packages.ubuntu.com/search?suite=default&amp;section=all&amp;arch=any&amp;keywords=openjdk-19&amp;searchon=names\" rel=\"nofollow noreferrer\">openjdk-19-jdk-headless</a>, then the fix would be <code>sudo apt install openjdk-19-jdk</code> I guess."},{"owner":{"account_id":2433388,"reputation":137,"user_id":2123838,"display_name":"Viviane"},"score":0,"creation_date":1679048178,"post_id":75765738,"comment_id":133654831,"body_markdown":"Thanks! It was the problem indeed. I have no idea why the headless version was installed but now it works","body":"Thanks! It was the problem indeed. I have no idea why the headless version was installed but now it works"}],"answers":[{"tags":[],"owner":{"account_id":2433388,"reputation":137,"user_id":2123838,"display_name":"Viviane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679048332,"creation_date":1679048332,"answer_id":75766405,"question_id":75765738,"body_markdown":"I am posting the fix because it was posted in the comments section: indeed the problem was that the jdk install was &quot;headless&quot;. I have no idea how this happened as it is actually not my own machine.\r\n\r\nIf ever someone has the same problem, the solution for us was to install the non headless version\r\n\r\n    sudo apt install openjdk-19-jdk","title":"Problem with Java and X11 DISPLAY on Ubuntu","body":"<p>I am posting the fix because it was posted in the comments section: indeed the problem was that the jdk install was &quot;headless&quot;. I have no idea how this happened as it is actually not my own machine.</p>\n<p>If ever someone has the same problem, the solution for us was to install the non headless version</p>\n<pre><code>sudo apt install openjdk-19-jdk\n</code></pre>\n"}],"owner":{"account_id":2433388,"reputation":137,"user_id":2123838,"display_name":"Viviane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679048332,"creation_date":1679044705,"question_id":75765738,"body_markdown":"I am running on a machine with Ubuntu 22.04 (with a dual boot with Windows) and whenever I try to run a graphical Java application, I run into the following error: &quot;No X11 DISPLAY variable was set&quot;\r\n\r\nI looked for this error and I understand that Java cannot access the display variable to run graphical application. What I don&#39;t understand is why it does not access it. Indeed if I open a terminal and echo display, it works\r\n\r\n    $ echo $DISPLAY\r\n    :0.0\r\n\r\nIf I run xeyes, it also works. But if I run my java application, I get\r\n\r\n```\r\nException in thread &quot;main&quot; java.awt.HeadlessException:\r\nNo X11 DISPLAY variable was set,\r\nor no headful library support was found,\r\nbut this program performed an operation which requires it,\r\n\r\n      at java.desktop/java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:166)\r\n      at java.desktop/java.awt.Window.&lt;init&gt;(Window.java:553)\r\n      at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:428)\r\n      at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:393)\r\n      at java.desktop/javax.swing.JFrame.&lt;init&gt;(JFrame.java:180)\r\n      at Main.main(Main.java:9)\r\n```\r\n\r\nMaybe, my java version is &quot;headless&quot;, how do I know that? And If so how can I fix it? I get this error, whether I run from the terminal or from Eclipse, all the same. In the terminal, it says my java version is:\r\n\r\n    $ java --version\r\n    openjdk 19.0.2 2023-01-17\r\n    OpenJDK Runtime Environment (build 19.0.2+7-Ubuntu-0ubuntu322.04)\r\n    OpenJDK 64-Bit Server VM (build 19.0.2+7-Ubuntu-0ubuntu322.04, mixed mode, sharing) \r\n\r\nBy the way, the code I am trying to run is:\r\n\r\n```\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\n\r\npublic class Main {\r\n\r\n      public static void main(String[] args) {\r\n            JFrame fenetre = new JFrame();\r\n            fenetre.setTitle(&quot;Premi&#232;re fen&#234;tre en java&quot;);\r\n            fenetre.setBounds(0,0,300,100);\r\n        fenetre.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        JPanel panel = new JPanel();\r\n        JLabel helloWorld = new JLabel(&quot;Hello World !&quot;);\r\n        JButton bouton = new JButton(&quot;Je suis un bouton&quot;);\r\n        panel.add(helloWorld);\r\n        panel.add(bouton);\r\n        fenetre.add(panel);\r\n        fenetre.setVisible(true);\r\n\r\n      }\r\n\r\n}\r\n```\r\n\r\nI just do\r\n\r\n    $ javac Main.java\r\n    $ java Main\r\n\r\nAnd I get the error. I get the same error when trying on Eclipse","title":"Problem with Java and X11 DISPLAY on Ubuntu","body":"<p>I am running on a machine with Ubuntu 22.04 (with a dual boot with Windows) and whenever I try to run a graphical Java application, I run into the following error: &quot;No X11 DISPLAY variable was set&quot;</p>\n<p>I looked for this error and I understand that Java cannot access the display variable to run graphical application. What I don't understand is why it does not access it. Indeed if I open a terminal and echo display, it works</p>\n<pre><code>$ echo $DISPLAY\n:0.0\n</code></pre>\n<p>If I run xeyes, it also works. But if I run my java application, I get</p>\n<pre><code>Exception in thread &quot;main&quot; java.awt.HeadlessException:\nNo X11 DISPLAY variable was set,\nor no headful library support was found,\nbut this program performed an operation which requires it,\n\n      at java.desktop/java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:166)\n      at java.desktop/java.awt.Window.&lt;init&gt;(Window.java:553)\n      at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:428)\n      at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:393)\n      at java.desktop/javax.swing.JFrame.&lt;init&gt;(JFrame.java:180)\n      at Main.main(Main.java:9)\n</code></pre>\n<p>Maybe, my java version is &quot;headless&quot;, how do I know that? And If so how can I fix it? I get this error, whether I run from the terminal or from Eclipse, all the same. In the terminal, it says my java version is:</p>\n<pre><code>$ java --version\nopenjdk 19.0.2 2023-01-17\nOpenJDK Runtime Environment (build 19.0.2+7-Ubuntu-0ubuntu322.04)\nOpenJDK 64-Bit Server VM (build 19.0.2+7-Ubuntu-0ubuntu322.04, mixed mode, sharing) \n</code></pre>\n<p>By the way, the code I am trying to run is:</p>\n<pre><code>import javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\npublic class Main {\n\n      public static void main(String[] args) {\n            JFrame fenetre = new JFrame();\n            fenetre.setTitle(&quot;Première fenêtre en java&quot;);\n            fenetre.setBounds(0,0,300,100);\n        fenetre.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        JPanel panel = new JPanel();\n        JLabel helloWorld = new JLabel(&quot;Hello World !&quot;);\n        JButton bouton = new JButton(&quot;Je suis un bouton&quot;);\n        panel.add(helloWorld);\n        panel.add(bouton);\n        fenetre.add(panel);\n        fenetre.setVisible(true);\n\n      }\n\n}\n</code></pre>\n<p>I just do</p>\n<pre><code>$ javac Main.java\n$ java Main\n</code></pre>\n<p>And I get the error. I get the same error when trying on Eclipse</p>\n"},{"tags":["java","api","rest","versionone","agile-project-management"],"answers":[{"tags":[],"owner":{"account_id":27851096,"reputation":1,"user_id":21265587,"display_name":"Daryl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679048122,"creation_date":1679048122,"answer_id":75766378,"question_id":75623511,"body_markdown":"Use the PrimaryWorkitem asset instead of story.  Below is a JSON query using the /query.v1 endpoint that can get a team&#39;s planned points for a sprint in case that helps.  \r\n\r\n    {\r\n      &quot;from&quot;: &quot;PrimaryWorkitem&quot;,\r\n      &quot;where&quot;: {\r\n        &quot;Team.Name&quot;: &quot;Example Team Name&quot;,\r\n        &quot;Timebox.Name&quot;: &quot;Example Timebox for sprint&quot;\r\n      },\r\n      &quot;asof&quot;: &quot;Example date of day after sprint started&quot;,\r\n      &quot;select&quot;: [\r\n        &quot;Estimate&quot;\r\n      ]\r\n    }","title":"Is there any way to use Version One API to fetch team room scorecard details?","body":"<p>Use the PrimaryWorkitem asset instead of story.  Below is a JSON query using the /query.v1 endpoint that can get a team's planned points for a sprint in case that helps.</p>\n<pre><code>{\n  &quot;from&quot;: &quot;PrimaryWorkitem&quot;,\n  &quot;where&quot;: {\n    &quot;Team.Name&quot;: &quot;Example Team Name&quot;,\n    &quot;Timebox.Name&quot;: &quot;Example Timebox for sprint&quot;\n  },\n  &quot;asof&quot;: &quot;Example date of day after sprint started&quot;,\n  &quot;select&quot;: [\n    &quot;Estimate&quot;\n  ]\n}\n</code></pre>\n"}],"owner":{"account_id":27924229,"reputation":1,"user_id":21323660,"display_name":"Knmh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679048122,"creation_date":1677821866,"question_id":75623511,"body_markdown":"How can I fetch the details given in the image like total story points, detail estimate, capacity hours, done hours by using version one API.\r\n\r\n[Version one scoreboard](https://i.stack.imgur.com/uV2ct.png)\r\n\r\nI have tried using many assets type like &quot;Story&quot;, &quot;Timebox&quot; but can&#39;t find the solution.","title":"Is there any way to use Version One API to fetch team room scorecard details?","body":"<p>How can I fetch the details given in the image like total story points, detail estimate, capacity hours, done hours by using version one API.</p>\n<p><a href=\"https://i.stack.imgur.com/uV2ct.png\" rel=\"nofollow noreferrer\">Version one scoreboard</a></p>\n<p>I have tried using many assets type like &quot;Story&quot;, &quot;Timebox&quot; but can't find the solution.</p>\n"},{"tags":["java","spring-data-jpa","spring-data","spring-data-elasticsearch"],"owner":{"account_id":26579158,"reputation":7,"user_id":20204076,"display_name":"Java2Avaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679048112,"creation_date":1679043936,"question_id":75765615,"body_markdown":"I have the following class:\r\n\r\n    public class Person {\r\n     private String name;\r\n     private Map&lt;String, String&gt; metadata;\r\n    }\r\n\r\nAs you can see, there&#39;s a field metadata that is in map class. How can I query the metadata by its keys? The following does not work:\r\n\r\n    List&lt;Person&gt; findByMetadata_nicknameIn(List&lt;String&gt; nicknames);","title":"Java Spring Data Elasticsearch - Query for Map&lt;String, String&gt; field","body":"<p>I have the following class:</p>\n<pre><code>public class Person {\n private String name;\n private Map&lt;String, String&gt; metadata;\n}\n</code></pre>\n<p>As you can see, there's a field metadata that is in map class. How can I query the metadata by its keys? The following does not work:</p>\n<pre><code>List&lt;Person&gt; findByMetadata_nicknameIn(List&lt;String&gt; nicknames);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":15033979,"reputation":1,"user_id":10851033,"display_name":"Guruprasad A N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679048088,"creation_date":1679048088,"answer_id":75766371,"question_id":75766120,"body_markdown":"Please add &quot;JSON&quot; maven dependency as library in your pom.xml, it will work.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n        &lt;version&gt;20220924&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How to fix ClassNotFoundException: org.springframework.boot.configurationprocessor.json.JSONException error when deploying Spring Boot application","body":"<p>Please add &quot;JSON&quot; maven dependency as library in your pom.xml, it will work.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20220924&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":25810883,"reputation":85,"user_id":19551694,"display_name":"Aryan Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679048088,"creation_date":1679046825,"question_id":75766120,"body_markdown":"I am deploying my Spring boot application on railway.app but the following error occurs during deployment.\r\n       \r\n\r\n    2023-03-17T09:12:45.991Z  INFO 1 --- [           main] c.a.b.b.BloggingApisApplication          : Starting BloggingApisApplication v0.0.1-SNAPSHOT using Java 17.0.5 with PID 1 (/app/target/blogging-apis-0.0.1-SNAPSHOT.jar started by root in /app)\r\n    2023-03-17T09:12:45.996Z  INFO 1 --- [           main] c.a.b.b.BloggingApisApplication          : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-03-17T09:12:48.212Z ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer\r\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-3.0.2.jar!/:3.0.2]\r\n    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-6.0.4.jar!/:6.0.4]\r\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:183) ~[spring-context-6.0.4.jar!/:6.0.4]\r\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:144) ~[spring-context-6.0.4.jar!/:6.0.4]\r\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-6.0.4.jar!/:6.0.4]\r\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:410) ~[spring-context-6.0.4.jar!/:6.0.4]\r\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:283) ~[spring-context-6.0.4.jar!/:6.0.4]\r\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.4.jar!/:6.0.4]\r\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[blogging-apis-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[blogging-apis-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[blogging-apis-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n    Caused by: java.lang.IllegalStateException: Failed to introspect Class [com.aryan.blogging.bloggingapis.config.SecurityConfig] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@5c29bfd]\r\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.0.4.jar!/:6.0.4]\r\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360) ~[spring-core-6.0.4.jar!/:6.0.4]\r\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417) ~[spring-core-6.0.4.jar!/:6.0.4]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:749) ~[spring-beans-6.0.4.jar!/:6.0.4]\r\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1740) ~[na:na]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:748) ~[spring-beans-6.0.4.jar!/:6.0.4]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:681) ~[spring-beans-6.0.4.jar!/:6.0.4]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:652) ~[spring-beans-6.0.4.jar!/:6.0.4]\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1632) ~[spring-beans-6.0.4.jar!/:6.0.4]\r\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:559) ~[spring-beans-6.0.4.jar!/:6.0.4]\r\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:531) ~[spring-beans-6.0.4.jar!/:6.0.4]\r\n    \r\n    ... 25 common frames omitted\r\n    Caused by: java.lang.NoClassDefFoundError: org/springframework/boot/configurationprocessor/json/JSONException\r\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402) ~[na:na]\r\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2504) ~[na:na]\r\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.0.4.jar!/:6.0.4]\r\n    ... 41 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.boot.configurationprocessor.json.JSONException\r\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445) ~[na:na]\r\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[na:na]\r\n    at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:149) ~[blogging-apis-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n    ... 45 common frames omitted\r\n\r\nBut it works fine on the development machine when running on ide. I am using Springboot 3.0.2 and Java 17.\r\n","title":"How to fix ClassNotFoundException: org.springframework.boot.configurationprocessor.json.JSONException error when deploying Spring Boot application","body":"<p>I am deploying my Spring boot application on railway.app but the following error occurs during deployment.</p>\n<pre><code>2023-03-17T09:12:45.991Z  INFO 1 --- [           main] c.a.b.b.BloggingApisApplication          : Starting BloggingApisApplication v0.0.1-SNAPSHOT using Java 17.0.5 with PID 1 (/app/target/blogging-apis-0.0.1-SNAPSHOT.jar started by root in /app)\n2023-03-17T09:12:45.996Z  INFO 1 --- [           main] c.a.b.b.BloggingApisApplication          : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-03-17T09:12:48.212Z ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\njava.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer\nat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-3.0.2.jar!/:3.0.2]\nat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-6.0.4.jar!/:6.0.4]\nat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:183) ~[spring-context-6.0.4.jar!/:6.0.4]\nat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:144) ~[spring-context-6.0.4.jar!/:6.0.4]\nat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-6.0.4.jar!/:6.0.4]\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:410) ~[spring-context-6.0.4.jar!/:6.0.4]\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:283) ~[spring-context-6.0.4.jar!/:6.0.4]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.4.jar!/:6.0.4]\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[blogging-apis-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[blogging-apis-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\nat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[blogging-apis-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [com.aryan.blogging.bloggingapis.config.SecurityConfig] from ClassLoader [org.springframework.boot.loader.LaunchedURLClassLoader@5c29bfd]\nat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.0.4.jar!/:6.0.4]\nat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360) ~[spring-core-6.0.4.jar!/:6.0.4]\nat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417) ~[spring-core-6.0.4.jar!/:6.0.4]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:749) ~[spring-beans-6.0.4.jar!/:6.0.4]\nat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1740) ~[na:na]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:748) ~[spring-beans-6.0.4.jar!/:6.0.4]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:681) ~[spring-beans-6.0.4.jar!/:6.0.4]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:652) ~[spring-beans-6.0.4.jar!/:6.0.4]\nat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1632) ~[spring-beans-6.0.4.jar!/:6.0.4]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:559) ~[spring-beans-6.0.4.jar!/:6.0.4]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:531) ~[spring-beans-6.0.4.jar!/:6.0.4]\n\n... 25 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/boot/configurationprocessor/json/JSONException\nat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\nat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402) ~[na:na]\nat java.base/java.lang.Class.getDeclaredMethods(Class.java:2504) ~[na:na]\nat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.0.4.jar!/:6.0.4]\n... 41 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.configurationprocessor.json.JSONException\nat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445) ~[na:na]\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[na:na]\nat org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:149) ~[blogging-apis-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n... 45 common frames omitted\n</code></pre>\n<p>But it works fine on the development machine when running on ide. I am using Springboot 3.0.2 and Java 17.</p>\n"},{"tags":["java","spring","spring-webclient"],"owner":{"account_id":15738788,"reputation":294,"user_id":11356914,"display_name":"Manu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679047931,"creation_date":1679047931,"question_id":75766338,"body_markdown":"I&#39;m starting to work with Spring&#39;s `WebClient` and I just can&#39;t find out how to deserialize the response body depending on the received HTTP Status.\r\n\r\nAs far as I know, if there is no response body, Spring&#39;s `WebClient` will just return an empty `Mono` so that case is handled by Spring itself.\r\n\r\nSo, what I would like to do now is:\r\n\r\n - Map the response to `MyResultDto` if HTTP Status is 200 or 400\r\n - Don&#39;t map the response body at all if there is any other HTTP Status\r\n\r\nThe code that I have right now looks as follows:\r\n\r\n```java\r\n client.delete()\r\n                     .uri(requestUri)\r\n                     .accept(MediaType.APPLICATION_XML)\r\n                     .retrieve()\r\n                     .onStatus(HttpStatus::isError, this::handleErrorResponse)\r\n                     .toEntity(MyResultDto.class)\r\n                     .mapNotNull(ResponseEntity::getBody)\r\n                     .block(Duration.ofSeconds(TIMEOUT));\r\n```\r\n\r\nCan you please guide me on how to adjust the code in order to achieve the desired behavior?\r\n","title":"Spring WebClient: Only deserialize response body when HTTP Status is 2xx or 400","body":"<p>I'm starting to work with Spring's <code>WebClient</code> and I just can't find out how to deserialize the response body depending on the received HTTP Status.</p>\n<p>As far as I know, if there is no response body, Spring's <code>WebClient</code> will just return an empty <code>Mono</code> so that case is handled by Spring itself.</p>\n<p>So, what I would like to do now is:</p>\n<ul>\n<li>Map the response to <code>MyResultDto</code> if HTTP Status is 200 or 400</li>\n<li>Don't map the response body at all if there is any other HTTP Status</li>\n</ul>\n<p>The code that I have right now looks as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code> client.delete()\n                     .uri(requestUri)\n                     .accept(MediaType.APPLICATION_XML)\n                     .retrieve()\n                     .onStatus(HttpStatus::isError, this::handleErrorResponse)\n                     .toEntity(MyResultDto.class)\n                     .mapNotNull(ResponseEntity::getBody)\n                     .block(Duration.ofSeconds(TIMEOUT));\n</code></pre>\n<p>Can you please guide me on how to adjust the code in order to achieve the desired behavior?</p>\n"},{"tags":["java","string","itext","openpdf"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1679047900,"post_id":75766307,"comment_id":133654746,"body_markdown":"a String won&#39;t pass an IS-A check for Element, so you can&#39;t directly cast it, as the error is telling you. Likely, somewhere where you&#39;re casting, you need to map the value instead","body":"a String won&#39;t pass an IS-A check for Element, so you can&#39;t directly cast it, as the error is telling you. Likely, somewhere where you&#39;re casting, you need to map the value instead"},{"owner":{"account_id":19725538,"reputation":3,"user_id":14442226,"display_name":"Harshita Joshi"},"score":0,"creation_date":1679048057,"post_id":75766307,"comment_id":133654794,"body_markdown":"this issue is coming in openpdf library i think not in my code","body":"this issue is coming in openpdf library i think not in my code"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1679048103,"post_id":75766307,"comment_id":133654810,"body_markdown":"Please share the stack trace of the exception.","body":"Please share the stack trace of the exception."},{"owner":{"account_id":19725538,"reputation":3,"user_id":14442226,"display_name":"Harshita Joshi"},"score":0,"creation_date":1679048376,"post_id":75766307,"comment_id":133654882,"body_markdown":"im only getting this error,no stack trace is there","body":"im only getting this error,no stack trace is there"},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1679296870,"post_id":75766307,"comment_id":133689258,"body_markdown":"There is usually always a stacktrace. Execute your code in an IDE and you&#39;ll see it.","body":"There is usually always a stacktrace. Execute your code in an IDE and you&#39;ll see it."}],"owner":{"account_id":19725538,"reputation":3,"user_id":14442226,"display_name":"Harshita Joshi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679047805,"creation_date":1679047805,"question_id":75766307,"body_markdown":"I have replaced itext-2.1.0.jar with openpdf-1.3.30.jar because of the securities risks present in itext. I&#39;m getting the below error when pdf is getting generated:\r\n\r\njava.lang.ClassCastException: java.lang.String cannot be cast to com.lowagie.text.Element\r\n\r\nBelow is my code which I think is causing this issue:\r\n\r\n\r\n            float[] columnWidths = { 2, 2, 8 };\r\n            PdfPTable table = new PdfPTable(columnWidths);\r\n            \r\n            table.setSpacingBefore(40);\r\n            table.setWidthPercentage(100);\r\n            \r\n            PdfPCell c1 = new PdfPCell(new Phrase(logtime, font));\r\n            c1.setFixedHeight(17);\r\n            c1.setHorizontalAlignment(Element.ALIGN_CENTER);\r\n            table.addCell(c1);\r\n            \r\n            c1 = new PdfPCell(new Phrase(event, font));\r\n            c1.setHorizontalAlignment(Element.ALIGN_CENTER);\r\n            table.addCell(c1);\r\n            \r\n            c1 = new PdfPCell(new Phrase(description, font));\r\n            c1.setHorizontalAlignment(Element.ALIGN_CENTER);\r\n            table.addCell(c1);\r\n            table.setHeaderRows(1);\r\n\r\n\r\nwhen i searched the internet i got this (https://github.com/LibrePDF/OpenPDF/issues/274)\r\nnot sure if this is my case.\r\n\r\nCan anyone please tell me how to fix this issue?\r\n\r\nMy pdf looks like this :\r\n\r\n----Sample Output --------\r\n\r\n-x-x-x-x Some info present here -x-x-x-x-x-\r\n\r\n----\r\n| Column A | Column B |\r\n| -------- | -------- |\r\n| Cell 1   | Cell 2   |\r\n| Cell 3   | Cell 4   |\r\n\r\n-x-x-x-x End of Pdf -x-x-x-x-x\r\n\r\nNote :- Number of columns are fixed and rows are dynamic \r\n\r\n\r\n\r\n\r\nI tried hard coding the Element.ALIGN_CENTER but it did not work then i got to know the issue is in Phrase class of openpdf jar","title":"Gettin Exception java.lang.ClassCastException: java.lang.String cannot be cast to com.lowagie.text.Element when generated pdf using openpdf-1.3.30.jar","body":"<p>I have replaced itext-2.1.0.jar with openpdf-1.3.30.jar because of the securities risks present in itext. I'm getting the below error when pdf is getting generated:</p>\n<p>java.lang.ClassCastException: java.lang.String cannot be cast to com.lowagie.text.Element</p>\n<p>Below is my code which I think is causing this issue:</p>\n<pre><code>        float[] columnWidths = { 2, 2, 8 };\n        PdfPTable table = new PdfPTable(columnWidths);\n        \n        table.setSpacingBefore(40);\n        table.setWidthPercentage(100);\n        \n        PdfPCell c1 = new PdfPCell(new Phrase(logtime, font));\n        c1.setFixedHeight(17);\n        c1.setHorizontalAlignment(Element.ALIGN_CENTER);\n        table.addCell(c1);\n        \n        c1 = new PdfPCell(new Phrase(event, font));\n        c1.setHorizontalAlignment(Element.ALIGN_CENTER);\n        table.addCell(c1);\n        \n        c1 = new PdfPCell(new Phrase(description, font));\n        c1.setHorizontalAlignment(Element.ALIGN_CENTER);\n        table.addCell(c1);\n        table.setHeaderRows(1);\n</code></pre>\n<p>when i searched the internet i got this (<a href=\"https://github.com/LibrePDF/OpenPDF/issues/274\" rel=\"nofollow noreferrer\">https://github.com/LibrePDF/OpenPDF/issues/274</a>)\nnot sure if this is my case.</p>\n<p>Can anyone please tell me how to fix this issue?</p>\n<p>My pdf looks like this :</p>\n<p>----Sample Output --------</p>\n<p>-x-x-x-x Some info present here -x-x-x-x-x-</p>\n<hr />\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Column A</th>\n<th>Column B</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Cell 1</td>\n<td>Cell 2</td>\n</tr>\n<tr>\n<td>Cell 3</td>\n<td>Cell 4</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>-x-x-x-x End of Pdf -x-x-x-x-x</p>\n<p>Note :- Number of columns are fixed and rows are dynamic</p>\n<p>I tried hard coding the Element.ALIGN_CENTER but it did not work then i got to know the issue is in Phrase class of openpdf jar</p>\n"},{"tags":["java","pdfbox","digital-signature","bouncycastle"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1678978437,"post_id":75757770,"comment_id":133640948,"body_markdown":"Why do not put everything on same server, that will help your signature to be fine","body":"Why do not put everything on same server, that will help your signature to be fine"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1678984290,"post_id":75757770,"comment_id":133642863,"body_markdown":"*&quot;Is my approach wrong?&quot;* - Yes. If I understand you correctly, you take the original PDF as-is and calculate its hash for signing. This is wrong, you have to prepare the original PDF for signing, a signature field must be set with a signature dictionary containing among other entries a dummy signature value, then this prepared PDF (except the dummy value) must be hashed, see [this answer](https://security.stackexchange.com/a/35131/16096) for details. Thus, PDFBox (which does this preparation) must be used from the start.","body":"<i>&quot;Is my approach wrong?&quot;</i> - Yes. If I understand you correctly, you take the original PDF as-is and calculate its hash for signing. This is wrong, you have to prepare the original PDF for signing, a signature field must be set with a signature dictionary containing among other entries a dummy signature value, then this prepared PDF (except the dummy value) must be hashed, see <a href=\"https://security.stackexchange.com/a/35131/16096\">this answer</a> for details. Thus, PDFBox (which does this preparation) must be used from the start."},{"owner":{"account_id":28033614,"reputation":13,"user_id":21412395,"display_name":"Kim"},"score":0,"creation_date":1678984686,"post_id":75757770,"comment_id":133642992,"body_markdown":"@mkl Thank you for your response. As far as I understand pdfbox already does this and passes it as content in overriden sign() method. I&#39;m hashing the content bytes and not the pdf directly.  This is what i had mentioned under &quot;more details&quot; in my problem statement. This is the code snippet with just the hashing.","body":"@mkl Thank you for your response. As far as I understand pdfbox already does this and passes it as content in overriden sign() method. I&#39;m hashing the content bytes and not the pdf directly.  This is what i had mentioned under &quot;more details&quot; in my problem statement. This is the code snippet with just the hashing."},{"owner":{"account_id":28033614,"reputation":13,"user_id":21412395,"display_name":"Kim"},"score":0,"creation_date":1678988337,"post_id":75757770,"comment_id":133644089,"body_markdown":"@Elikill58 Well its more of a business usecase","body":"@Elikill58 Well its more of a business usecase"},{"owner":{"account_id":28033614,"reputation":13,"user_id":21412395,"display_name":"Kim"},"score":0,"creation_date":1678989732,"post_id":75757770,"comment_id":133644499,"body_markdown":"@mkl This is the code for the sign() method in the custom SIgnatureInterface of pdfbox (which gets invoked when document.saveIncremental() is executed). In this I perform hashing of the content using SHA-256. But I have also included the code snippet of the digital signature generation that happens on server B to give you more understanding on the algorithm that is being used.   https://github.com/johnskim9414/signPdf/blob/6d8cebe57e9b5fed2e3cc62649ecf4cd3a9e8049/src/main/java/com/sign/pdf/CustomSignature.java","body":"@mkl This is the code for the sign() method in the custom SIgnatureInterface of pdfbox (which gets invoked when document.saveIncremental() is executed). In this I perform hashing of the content using SHA-256. But I have also included the code snippet of the digital signature generation that happens on server B to give you more understanding on the algorithm that is being used.   <a href=\"https://github.com/johnskim9414/signPdf/blob/6d8cebe57e9b5fed2e3cc62649ecf4cd3a9e8049/src/main/java/com/sign/pdf/CustomSignature.java\" rel=\"nofollow noreferrer\">github.com/johnskim9414/signPdf/blob/&hellip;</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1679011353,"post_id":75757770,"comment_id":133649015,"body_markdown":"Considering your update and your code you really appear to hash to often... maybe once less on server B would help.","body":"Considering your update and your code you really appear to hash to often... maybe once less on server B would help."},{"owner":{"account_id":28033614,"reputation":13,"user_id":21412395,"display_name":"Kim"},"score":0,"creation_date":1679023895,"post_id":75757770,"comment_id":133650465,"body_markdown":"@mkl yes, hashing cannot be removed at server A, so I was trying to remove it at server B but they aren&#39;t effective. can you please help me with a reference for separating hashing from encryption on server B? because all algorithms supported by bouncyCastle come with a combination of hashing and signing (ex: SHA256WithRSA).                                         \nAlso is it safe to just perform encryption on server B for generating digital signature? as through my research many people suggest that encryption depends on hashing algorithm properties to avoid collision attacks.","body":"@mkl yes, hashing cannot be removed at server A, so I was trying to remove it at server B but they aren&#39;t effective. can you please help me with a reference for separating hashing from encryption on server B? because all algorithms supported by bouncyCastle come with a combination of hashing and signing (ex: SHA256WithRSA).                                          Also is it safe to just perform encryption on server B for generating digital signature? as through my research many people suggest that encryption depends on hashing algorithm properties to avoid collision attacks."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679047708,"creation_date":1679047708,"answer_id":75766291,"question_id":75757770,"body_markdown":"According to your [linked sources][1], your current hash signing on server B looks like this:\r\n\r\n```lang-java\r\n/* Start : This is code snippet of the digital signature logic residing on server B */\r\nSecurity.addProvider(new BouncyCastleFipsProvider());\r\nX509Certificate cert = getCertificate();\r\nCertificate[] certificateChain = new Certificate[1];\r\ncertificateChain[0] = cert;\r\nStore certs = new JcaCertStore(Arrays.asList(certificateChain));\r\nCMSSignedDataGenerator gen = new CMSSignedDataGenerator();\r\nContentSigner sha256Signer = new JcaContentSignerBuilder(&quot;SHA256WithRSA&quot;).build(getPrivateKey());\r\ngen.addSignerInfoGenerator(new JcaSignerInfoGeneratorBuilder(\r\n    new JcaDigestCalculatorProviderBuilder().build()).build(sha256Signer, cert));\r\ngen.addCertificates(certs);\r\nCMSTypedData cmsData = new CMSProcessableByteArray(hash);\r\nCMSSignedData cms = gen.generate(cmsData, false);\r\nbyte[] signedHash = cms.getEncoded(); \r\n/* End : This is code snippet of the digital signature logic residing on server B */\r\n```\r\nBut this considers your `hash` to be the data to sign, not a pre-calculated hash thereof, and calculates the digest of it internally. Thus, the resulting signature container does not sign your PDF but your `hash` bytes.\r\n\r\nTo make this code _not_ calculate the digest itself but instead use your `hash` as pre-calculated digest, you have to replace the `DigestCalculatorProvider` returned by `new JcaDigestCalculatorProviderBuilder().build()` with a custom implementation that provides `DigestCalculator` objects that constantly return `hash`.\r\n\r\nFor the normal BouncyCastle library such an implementation might look like this:\r\n```lang-java\r\npublic class PrecomputedDigestCalculatorProvider implements DigestCalculatorProvider {\r\n\tprivate final byte[] digest;\r\n\r\n\tpublic PrecomputedDigestCalculatorProvider(byte[] digest) {\r\n\t\tthis.digest = digest;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic DigestCalculator get(final AlgorithmIdentifier digestAlgorithmIdentifier) throws OperatorCreationException {\r\n\r\n\t\treturn new DigestCalculator() {\r\n\t\t\t@Override\r\n\t\t\tpublic OutputStream getOutputStream() {\r\n\t\t\t\treturn new ByteArrayOutputStream();\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic byte[] getDigest() {\r\n\t\t\t\treturn digest;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic AlgorithmIdentifier getAlgorithmIdentifier() {\r\n\t\t\t\treturn digestAlgorithmIdentifier;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n```\r\n\r\nYou say you&#39;re using the FIPS variant of BouncyCastle. Thus, you may have to adapt the code somewhat.\r\n\r\n\r\n  [1]: https://github.com/johnskim9414/signPdf/blob/6d8cebe57e9b5fed2e3cc62649ecf4cd3a9e8049/src/main/java/com/sign/pdf/CustomSignature.java\r\n","title":"I have a pre-computed hash of a pdf document, how to generate digital signature using the hash and stamping it on the document using pdfbox?","body":"<p>According to your <a href=\"https://github.com/johnskim9414/signPdf/blob/6d8cebe57e9b5fed2e3cc62649ecf4cd3a9e8049/src/main/java/com/sign/pdf/CustomSignature.java\" rel=\"nofollow noreferrer\">linked sources</a>, your current hash signing on server B looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/* Start : This is code snippet of the digital signature logic residing on server B */\nSecurity.addProvider(new BouncyCastleFipsProvider());\nX509Certificate cert = getCertificate();\nCertificate[] certificateChain = new Certificate[1];\ncertificateChain[0] = cert;\nStore certs = new JcaCertStore(Arrays.asList(certificateChain));\nCMSSignedDataGenerator gen = new CMSSignedDataGenerator();\nContentSigner sha256Signer = new JcaContentSignerBuilder(&quot;SHA256WithRSA&quot;).build(getPrivateKey());\ngen.addSignerInfoGenerator(new JcaSignerInfoGeneratorBuilder(\n    new JcaDigestCalculatorProviderBuilder().build()).build(sha256Signer, cert));\ngen.addCertificates(certs);\nCMSTypedData cmsData = new CMSProcessableByteArray(hash);\nCMSSignedData cms = gen.generate(cmsData, false);\nbyte[] signedHash = cms.getEncoded(); \n/* End : This is code snippet of the digital signature logic residing on server B */\n</code></pre>\n<p>But this considers your <code>hash</code> to be the data to sign, not a pre-calculated hash thereof, and calculates the digest of it internally. Thus, the resulting signature container does not sign your PDF but your <code>hash</code> bytes.</p>\n<p>To make this code <em>not</em> calculate the digest itself but instead use your <code>hash</code> as pre-calculated digest, you have to replace the <code>DigestCalculatorProvider</code> returned by <code>new JcaDigestCalculatorProviderBuilder().build()</code> with a custom implementation that provides <code>DigestCalculator</code> objects that constantly return <code>hash</code>.</p>\n<p>For the normal BouncyCastle library such an implementation might look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PrecomputedDigestCalculatorProvider implements DigestCalculatorProvider {\n    private final byte[] digest;\n\n    public PrecomputedDigestCalculatorProvider(byte[] digest) {\n        this.digest = digest;\n    }\n\n    @Override\n    public DigestCalculator get(final AlgorithmIdentifier digestAlgorithmIdentifier) throws OperatorCreationException {\n\n        return new DigestCalculator() {\n            @Override\n            public OutputStream getOutputStream() {\n                return new ByteArrayOutputStream();\n            }\n\n            @Override\n            public byte[] getDigest() {\n                return digest;\n            }\n\n            @Override\n            public AlgorithmIdentifier getAlgorithmIdentifier() {\n                return digestAlgorithmIdentifier;\n            }\n        };\n    }\n}\n</code></pre>\n<p>You say you're using the FIPS variant of BouncyCastle. Thus, you may have to adapt the code somewhat.</p>\n"}],"owner":{"account_id":28033614,"reputation":13,"user_id":21412395,"display_name":"Kim"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75766291,"answer_count":1,"score":1,"last_activity_date":1679047708,"creation_date":1678977569,"question_id":75757770,"body_markdown":"I&#39;m pretty new to the concept of digital signatures, signing etc.\r\nCurrently in a pickle, my problem description is as follows:\r\n\r\nI have 2 different servers.\r\nServer A : The pdf document is uploaded, a hash for this document is created using SHA-256 Algorithm with the MessageDigest interface. The hash is passed on to server B for generating the digital signature or signed hash. This signature from server B is then stamped on to the pdf document using pdfBox.\r\n\r\nmore details =&gt; The uploaded document is passed to pdfbox code (on server A) to attach a PDSignature to the document, the SignatureInterface is overwritten and the contents obtained as parameter from the sign() method (overriden method) is hashed using SHA-256, passed to server B to generate digital signature and then returned as byte\\[\\] in the sign() method. Pdfbox then goes ahead and stamps this signature to the document.\r\n\r\nServer B : generates the digital signature using SHA256WithRSA algorithm with BouncyCastleFipsProvider.\r\n\r\nI was expecting the signature to be certified as valid in Adobe. But, On opening the resulting document from Adobe, I get the following error\r\n&quot;The document is altered or modified&quot;\r\n\r\nIs my approach wrong? is there a different approach that could solve my problem ?\r\nThe required flow is =\\&gt; server A will generate a hash, server B will then generate the signature and server A will stamp this on the pdf document.\r\n\r\n\r\n\r\n**An update** Just to add, I tried by simply passing the content bytes from pdfBox (without hashing) to server B and stamped the resulting signature on the pdf document, the signature is valid. But however the requirement strictly wants only the document hash to be passed from server A to  B and not the contents.","title":"I have a pre-computed hash of a pdf document, how to generate digital signature using the hash and stamping it on the document using pdfbox?","body":"<p>I'm pretty new to the concept of digital signatures, signing etc.\nCurrently in a pickle, my problem description is as follows:</p>\n<p>I have 2 different servers.\nServer A : The pdf document is uploaded, a hash for this document is created using SHA-256 Algorithm with the MessageDigest interface. The hash is passed on to server B for generating the digital signature or signed hash. This signature from server B is then stamped on to the pdf document using pdfBox.</p>\n<p>more details =&gt; The uploaded document is passed to pdfbox code (on server A) to attach a PDSignature to the document, the SignatureInterface is overwritten and the contents obtained as parameter from the sign() method (overriden method) is hashed using SHA-256, passed to server B to generate digital signature and then returned as byte[] in the sign() method. Pdfbox then goes ahead and stamps this signature to the document.</p>\n<p>Server B : generates the digital signature using SHA256WithRSA algorithm with BouncyCastleFipsProvider.</p>\n<p>I was expecting the signature to be certified as valid in Adobe. But, On opening the resulting document from Adobe, I get the following error\n&quot;The document is altered or modified&quot;</p>\n<p>Is my approach wrong? is there a different approach that could solve my problem ?\nThe required flow is =&gt; server A will generate a hash, server B will then generate the signature and server A will stamp this on the pdf document.</p>\n<p><strong>An update</strong> Just to add, I tried by simply passing the content bytes from pdfBox (without hashing) to server B and stamped the resulting signature on the pdf document, the signature is valid. But however the requirement strictly wants only the document hash to be passed from server A to  B and not the contents.</p>\n"},{"tags":["java","swing","user-interface","jframe"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1679017462,"post_id":75762990,"comment_id":133649745,"body_markdown":"`frame.setLayout(null);` &lt;-- Bad idea, which is probably why you&#39;re trying to make the frame non-resizable.  As a user, I&#39;ll be very grumpy (really hate non-resizable windows)","body":"<code>frame.setLayout(null);</code> &lt;-- Bad idea, which is probably why you&#39;re trying to make the frame non-resizable.  As a user, I&#39;ll be very grumpy (really hate non-resizable windows)"},{"owner":{"account_id":19131367,"reputation":2040,"user_id":13992057,"display_name":"8c6b5df0d16ade6c"},"score":0,"creation_date":1679069843,"post_id":75762990,"comment_id":133660590,"body_markdown":"@MadProgrammer This is not production stuff, just learning and trying out the framework. But thanks for the tip, I&#39;ll keep that in mind.","body":"@MadProgrammer This is not production stuff, just learning and trying out the framework. But thanks for the tip, I&#39;ll keep that in mind."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1679079455,"post_id":75762990,"comment_id":133662913,"body_markdown":"“Learning” and “production” code should be the same goal &#128521;","body":"“Learning” and “production” code should be the same goal 😉"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1679016544,"creation_date":1679016544,"answer_id":75763027,"question_id":75762990,"body_markdown":"Don&#39;t make the `frame` visible **before** adding `label`.\r\n\r\n    // NOT HERE\r\n    // frame.setResizable(false);\r\n    // frame.setVisible(true);\r\n\r\n    JLabel label = new JLabel();\r\n    label.setText(&quot;Hello world!&quot;);\r\n    label.setIcon(new ImageIcon(&quot;assets/logo-50x50.png&quot;));\r\n    label.setBackground(Color.red);\r\n    label.setBounds(0, 0, 250, 250);\r\n    frame.add(label);\r\n    // HERE\r\n    frame.setResizable(false);\r\n    frame.setVisible(true);","title":"Bug - can&#39;t have resizable frame and a label icon","body":"<p>Don't make the <code>frame</code> visible <strong>before</strong> adding <code>label</code>.</p>\n<pre><code>// NOT HERE\n// frame.setResizable(false);\n// frame.setVisible(true);\n\nJLabel label = new JLabel();\nlabel.setText(&quot;Hello world!&quot;);\nlabel.setIcon(new ImageIcon(&quot;assets/logo-50x50.png&quot;));\nlabel.setBackground(Color.red);\nlabel.setBounds(0, 0, 250, 250);\nframe.add(label);\n// HERE\nframe.setResizable(false);\nframe.setVisible(true);\n</code></pre>\n"}],"owner":{"account_id":19131367,"reputation":2040,"user_id":13992057,"display_name":"8c6b5df0d16ade6c"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75763027,"answer_count":1,"score":-1,"last_activity_date":1679047582,"creation_date":1679016141,"question_id":75762990,"body_markdown":"Does anyone know how to fix this? if line `A` AND line `B `are included at the same time, then things stop being displayed, but if exclusively one is included, or both are not, then everything works fine. I’m terribly confused. Here’s some reproducible code.\r\n\r\n```java\r\npackage ui;\r\n\r\nimport java.awt.*;\r\nimport java.io.IOException;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException {\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(1600, 900);\r\n        frame.setLayout(null);\r\n        frame.setBackground(new Color(0xFAFAFA));\r\n        frame.setTitle(&quot;App !&quot;);\r\n        frame.setResizable(false); // &lt;------ LINE A\r\n        frame.setVisible(true);\r\n\r\n        JLabel label = new JLabel();\r\n        label.setText(&quot;Hello world!&quot;);\r\n        label.setIcon(new ImageIcon(&quot;assets/logo-50x50.png&quot;)); // &lt;----- LINE B\r\n        label.setBackground(Color.red);\r\n        label.setBounds(0, 0, 250, 250);\r\n\r\n        frame.add(label);\r\n    }\r\n}\r\n```","title":"Bug - can&#39;t have resizable frame and a label icon","body":"<p>Does anyone know how to fix this? if line <code>A</code> AND line <code>B </code>are included at the same time, then things stop being displayed, but if exclusively one is included, or both are not, then everything works fine. I’m terribly confused. Here’s some reproducible code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package ui;\n\nimport java.awt.*;\nimport java.io.IOException;\n\nimport javax.swing.*;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(1600, 900);\n        frame.setLayout(null);\n        frame.setBackground(new Color(0xFAFAFA));\n        frame.setTitle(&quot;App !&quot;);\n        frame.setResizable(false); // &lt;------ LINE A\n        frame.setVisible(true);\n\n        JLabel label = new JLabel();\n        label.setText(&quot;Hello world!&quot;);\n        label.setIcon(new ImageIcon(&quot;assets/logo-50x50.png&quot;)); // &lt;----- LINE B\n        label.setBackground(Color.red);\n        label.setBounds(0, 0, 250, 250);\n\n        frame.add(label);\n    }\n}\n</code></pre>\n"},{"tags":["java","performance","logging"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1679043494,"post_id":75764679,"comment_id":133653589,"body_markdown":"&quot;performance friendly?&quot; -&gt; the `if` statement will always be executed, no matter where it is, so that is no concern. If it is put before calling the method, the method will only be called if needed, so that is probably better for performance (ignoring eventual optimization potentials)","body":"&quot;performance friendly?&quot; -&gt; the <code>if</code> statement will always be executed, no matter where it is, so that is no concern. If it is put before calling the method, the method will only be called if needed, so that is probably better for performance (ignoring eventual optimization potentials)"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1679049247,"post_id":75764679,"comment_id":133655074,"body_markdown":"Use `if` first if any of the arguments to `logPacket` might have high evaluation cost - such as memory, file or db access, otherwise you&#39;re unlikely to see a difference if they are all simple get/member calls. For example what if typeByValue.toString was a huge memory size.","body":"Use <code>if</code> first if any of the arguments to <code>logPacket</code> might have high evaluation cost - such as memory, file or db access, otherwise you&#39;re unlikely to see a difference if they are all simple get/member calls. For example what if typeByValue.toString was a huge memory size."}],"answers":[{"tags":[],"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679047273,"creation_date":1679047273,"answer_id":75766195,"question_id":75764679,"body_markdown":"Always measure different alternatives with realistic input, when you are worried about performance. Otherwise you cannot know if your change makes a noticable difference. Most of the time the performance impact negligible and you choose the best option for readability anyway.\r\n\r\nA method call in Java is very cheap. It almost adds no overhead to call an additional method. Putting the `log.isInfoEnabled()` inside the `logPacket` method, makes the call cleaner and easier to read (one instead of 3 lines of code when calling and reducing an if-nesting every time it is called). Maybe rename the method to `infoLogPacket` to make the condition also clear from the method name.\r\n\r\nHowever you should avoid to evaluate any values for the logging before checking the log level, as these would be wasted calls, if the log level is not active. `Packet.Type.getTypeByValue(code).toString()` should be called after `log.isInfoEnabled()` when you move the check into your method. So you have to change the method signature to pass the `code` instead of the `String` and do the convertion after the log level check.\r\n\r\nSo my solution would be:\r\n\r\n    private void infoLogPacket(String msg, ConnectPoint sessionInfo, Ethernet packet, Code code) {\r\n        if(log.isInfoEnabled()) {\r\n            String packetType = Packet.Type.getTypeByValue(code).toString();\r\n            log.info(msg + &quot; type: {} to: {} client: {} stageCode: {} vlan: {} vlanPcp: {} srcMac: {} dstMac: {}&quot;, \r\n                packetType, sessionInfo, sessionInfo.port().name(), packet.getPriorityCode(), packet.getVlanID(), packet.getQinQVID(), packet.getSourceMAC(), packet.getDestinationMAC());\r\n        }\r\n    }","title":"Which is more performance friendly? If check inside function or before calling the function in Java","body":"<p>Always measure different alternatives with realistic input, when you are worried about performance. Otherwise you cannot know if your change makes a noticable difference. Most of the time the performance impact negligible and you choose the best option for readability anyway.</p>\n<p>A method call in Java is very cheap. It almost adds no overhead to call an additional method. Putting the <code>log.isInfoEnabled()</code> inside the <code>logPacket</code> method, makes the call cleaner and easier to read (one instead of 3 lines of code when calling and reducing an if-nesting every time it is called). Maybe rename the method to <code>infoLogPacket</code> to make the condition also clear from the method name.</p>\n<p>However you should avoid to evaluate any values for the logging before checking the log level, as these would be wasted calls, if the log level is not active. <code>Packet.Type.getTypeByValue(code).toString()</code> should be called after <code>log.isInfoEnabled()</code> when you move the check into your method. So you have to change the method signature to pass the <code>code</code> instead of the <code>String</code> and do the convertion after the log level check.</p>\n<p>So my solution would be:</p>\n<pre><code>private void infoLogPacket(String msg, ConnectPoint sessionInfo, Ethernet packet, Code code) {\n    if(log.isInfoEnabled()) {\n        String packetType = Packet.Type.getTypeByValue(code).toString();\n        log.info(msg + &quot; type: {} to: {} client: {} stageCode: {} vlan: {} vlanPcp: {} srcMac: {} dstMac: {}&quot;, \n            packetType, sessionInfo, sessionInfo.port().name(), packet.getPriorityCode(), packet.getVlanID(), packet.getQinQVID(), packet.getSourceMAC(), packet.getDestinationMAC());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20656191,"reputation":187,"user_id":17563251,"display_name":"baris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1679079320,"answer_count":1,"score":1,"last_activity_date":1679047273,"creation_date":1679037252,"question_id":75764679,"body_markdown":"I want to use a if check before printing the log by checking the log level. \r\n`logPacket` function is used couple of times. I&#39;m confused whether should I check the log level before or after calling the `logPacket` function. Following code segments is what make me think about performance. Is it overengineering?\r\n```\r\nif (log.isInfoEnabled()) {\r\n    logPacket(&quot;Received Packet. &quot;, packetCp, packet, Packet.Type.getTypeByValue(code).toString());\r\n}\r\n```\r\n\r\n```\r\nprivate void logPacket(String msg, ConnectPoint sessionInfo, Ethernet packet, String packetType) {\r\n    if(log.isInfoEnabled()) {\r\n        log.info(msg + &quot; type: {} to: {} client: {} stageCode: {} vlan: {} vlanPcp: {} srcMac: {} dstMac: {}&quot;, \r\n            packetType, sessionInfo, sessionInfo.port().name(), packet.getPriorityCode(), packet.getVlanID(), packet.getQinQVID(), packet.getSourceMAC(), packet.getDestinationMAC());\r\n    }\r\n}\r\n```\r\n\r\nShould I put the statement `log.isInfoEnabled()` inside the function before printing the log or should I use the if statement before calling the function as I indicated in the first place. \r\n\r\nIf log level is not info, then making extra call for the `logPacket` function degrades the performance I guess (not sure how much). But if I use the if check before the function call, code may get dirtier. \r\n\r\nWhich one looks more clean? I&#39;m not sure.\r\n\r\nCan&#39;t make a reasonable comparison.","title":"Which is more performance friendly? If check inside function or before calling the function in Java","body":"<p>I want to use a if check before printing the log by checking the log level.\n<code>logPacket</code> function is used couple of times. I'm confused whether should I check the log level before or after calling the <code>logPacket</code> function. Following code segments is what make me think about performance. Is it overengineering?</p>\n<pre><code>if (log.isInfoEnabled()) {\n    logPacket(&quot;Received Packet. &quot;, packetCp, packet, Packet.Type.getTypeByValue(code).toString());\n}\n</code></pre>\n<pre><code>private void logPacket(String msg, ConnectPoint sessionInfo, Ethernet packet, String packetType) {\n    if(log.isInfoEnabled()) {\n        log.info(msg + &quot; type: {} to: {} client: {} stageCode: {} vlan: {} vlanPcp: {} srcMac: {} dstMac: {}&quot;, \n            packetType, sessionInfo, sessionInfo.port().name(), packet.getPriorityCode(), packet.getVlanID(), packet.getQinQVID(), packet.getSourceMAC(), packet.getDestinationMAC());\n    }\n}\n</code></pre>\n<p>Should I put the statement <code>log.isInfoEnabled()</code> inside the function before printing the log or should I use the if statement before calling the function as I indicated in the first place.</p>\n<p>If log level is not info, then making extra call for the <code>logPacket</code> function degrades the performance I guess (not sure how much). But if I use the if check before the function call, code may get dirtier.</p>\n<p>Which one looks more clean? I'm not sure.</p>\n<p>Can't make a reasonable comparison.</p>\n"},{"tags":["java","spring-boot","spring-webflux","springdoc"],"comments":[{"owner":{"account_id":12810928,"reputation":2458,"user_id":9269177,"display_name":"Debargha Roy"},"score":0,"creation_date":1664528741,"post_id":73773907,"comment_id":130497271,"body_markdown":"Don&#39;t think there&#39;s a cleaner way of doing. You can raise a feature request for the same but I&#39;m not sure if that&#39;ll be prioritized as this is a rare situation.","body":"Don&#39;t think there&#39;s a cleaner way of doing. You can raise a feature request for the same but I&#39;m not sure if that&#39;ll be prioritized as this is a rare situation."}],"answers":[{"tags":[],"owner":{"account_id":873349,"reputation":3374,"user_id":923712,"accept_rate":67,"display_name":"Xavier Portebois"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679047082,"creation_date":1679047082,"answer_id":75766164,"question_id":73773907,"body_markdown":"**My answer is not a solution**, but a summary of all the problems you could encounter why trying to implement a solution. I met them all and decided, after all, to give up and use an &quot;explicit @NotNull&quot; strategy instead of an &quot;explicit @Nullable&quot; one.\r\n\r\nI thought all these caveats could be of some interest if anybody would like to try their way.\r\n\r\n----------\r\n\r\nFirst, don&#39;t rely on a SpringDoc `PropertyCustomizer`, as it&#39;s not called on each property but on each &quot;type of property&quot;, sort of, as said [in this comment][1]: \r\n\r\n&gt;  your properties are assumed to be equal from swagger-core library.\r\nIn order to tell swagger the properties are not the same, you can add the Schema annotation on each property, so they can have different annotations\r\n\r\nIt means that if you have multiple `private String myField...` in a class, some won&#39;t be seen here.\r\n\r\nIt&#39;s a shame, because `PropertyCustomizer` is the only way I know where you can write the OpenApi schema while still accessing the Java class, its fields, methods and annotations.\r\n\r\n----------\r\n\r\nThen, you could try to provide an `OpenApiCustomizer`: there, you have access to all the components schemas.\r\n\r\nIt means you&#39;d have to find all classes with `@Nullable` fields by your own way, using reflections. But be careful, there are a lot of edge cases.\r\n\r\nBy example, you could use Spring `ClassPathScanningCandidateComponentProvider` and `AssignableTypeFilter` to find all classes inheriting a precise class (like a parent `Dto` class), but then you will miss all abstract classes, unless you rewrite your own scanner.\r\n\r\nThen, with a map of all the nullable fields, you could walk the `OpenApi.getComponents().getSchemas()`, and apply to `Schema.required()` all properties except the nullable ones. But then, when using inheritance, some properties are not directy in the schema but in the `allOf` part, which you&#39;d have to handle.\r\n\r\nThat&#39;s where we stopped trying.\r\n\r\n----------\r\n\r\nIn summary, there are a lot of caveats, handling abstractness, inheritance, $refs, and so forth.\r\n\r\nAll of that made me think that this solution is kind of brittle, and that I could be missing other potential failure causes. At this point, in my opinion, it&#39;s not worth it.\r\n\r\n\r\n  [1]: https://github.com/springdoc/springdoc-openapi/issues/1000#issuecomment-752029660","title":"Make all fields required by default, in springDoc-generated openapi specification","body":"<p><strong>My answer is not a solution</strong>, but a summary of all the problems you could encounter why trying to implement a solution. I met them all and decided, after all, to give up and use an &quot;explicit @NotNull&quot; strategy instead of an &quot;explicit @Nullable&quot; one.</p>\n<p>I thought all these caveats could be of some interest if anybody would like to try their way.</p>\n<hr />\n<p>First, don't rely on a SpringDoc <code>PropertyCustomizer</code>, as it's not called on each property but on each &quot;type of property&quot;, sort of, as said <a href=\"https://github.com/springdoc/springdoc-openapi/issues/1000#issuecomment-752029660\" rel=\"nofollow noreferrer\">in this comment</a>:</p>\n<blockquote>\n<p>your properties are assumed to be equal from swagger-core library.\nIn order to tell swagger the properties are not the same, you can add the Schema annotation on each property, so they can have different annotations</p>\n</blockquote>\n<p>It means that if you have multiple <code>private String myField...</code> in a class, some won't be seen here.</p>\n<p>It's a shame, because <code>PropertyCustomizer</code> is the only way I know where you can write the OpenApi schema while still accessing the Java class, its fields, methods and annotations.</p>\n<hr />\n<p>Then, you could try to provide an <code>OpenApiCustomizer</code>: there, you have access to all the components schemas.</p>\n<p>It means you'd have to find all classes with <code>@Nullable</code> fields by your own way, using reflections. But be careful, there are a lot of edge cases.</p>\n<p>By example, you could use Spring <code>ClassPathScanningCandidateComponentProvider</code> and <code>AssignableTypeFilter</code> to find all classes inheriting a precise class (like a parent <code>Dto</code> class), but then you will miss all abstract classes, unless you rewrite your own scanner.</p>\n<p>Then, with a map of all the nullable fields, you could walk the <code>OpenApi.getComponents().getSchemas()</code>, and apply to <code>Schema.required()</code> all properties except the nullable ones. But then, when using inheritance, some properties are not directy in the schema but in the <code>allOf</code> part, which you'd have to handle.</p>\n<p>That's where we stopped trying.</p>\n<hr />\n<p>In summary, there are a lot of caveats, handling abstractness, inheritance, $refs, and so forth.</p>\n<p>All of that made me think that this solution is kind of brittle, and that I could be missing other potential failure causes. At this point, in my opinion, it's not worth it.</p>\n"}],"owner":{"account_id":5814053,"reputation":2527,"user_id":7759514,"accept_rate":61,"display_name":"Tobiq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":913,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1679047082,"creation_date":1663593171,"question_id":73773907,"body_markdown":"It seems like the spring-doc generator sets all fields as optional, by default, and makes them required - when you explicitly annotate them with `@NotNull`\r\n\r\nThis is the opposite of how I work - my fields are all required until annotated with `@Nullable`.\r\n\r\nIs is possible to fix this behaviour for my code?","title":"Make all fields required by default, in springDoc-generated openapi specification","body":"<p>It seems like the spring-doc generator sets all fields as optional, by default, and makes them required - when you explicitly annotate them with <code>@NotNull</code></p>\n<p>This is the opposite of how I work - my fields are all required until annotated with <code>@Nullable</code>.</p>\n<p>Is is possible to fix this behaviour for my code?</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":14974347,"reputation":563,"user_id":10810188,"display_name":"Ybri"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1588407449,"creation_date":1588404334,"answer_id":61555836,"question_id":59125188,"body_markdown":"The library Spring Hibernate Query Utils (https://github.com/yannbriancon/spring-hibernate-query-utils) provides a query counter that you can use to check the number of queries generated.\r\n\r\nIf you prefer to do it yourself, Hibernate provides a class `EmptyInterceptor` that contains a hook named `onPrepareStatement`.\r\nYou can extend this class and add logic in the `onPrepareStatement` hook to count the queries.\r\n\r\nTake a look at the library code to see how to configure the iterator.\r\n","title":"Hibernate / Spring Data - get executed sql queries count","body":"<p>The library Spring Hibernate Query Utils (<a href=\"https://github.com/yannbriancon/spring-hibernate-query-utils\" rel=\"nofollow noreferrer\">https://github.com/yannbriancon/spring-hibernate-query-utils</a>) provides a query counter that you can use to check the number of queries generated.</p>\n\n<p>If you prefer to do it yourself, Hibernate provides a class <code>EmptyInterceptor</code> that contains a hook named <code>onPrepareStatement</code>.\nYou can extend this class and add logic in the <code>onPrepareStatement</code> hook to count the queries.</p>\n\n<p>Take a look at the library code to see how to configure the iterator.</p>\n"},{"tags":[],"owner":{"account_id":5665214,"reputation":325,"user_id":4481550,"accept_rate":88,"display_name":"Micka&#235;l B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650959914,"creation_date":1650959914,"answer_id":72010320,"question_id":59125188,"body_markdown":"The method ```onPrepareStatement``` is now **deprecated** and is removed in the new Hibernate 6 version. The new way to inspect SQL is to implement a ```StatementInspector ```.\r\n\r\n\r\n\r\nI&#39;ve written a little library (https://github.com/Lemick/hibernate-query-asserts) that can assert the count of SQL queries by type (SELECT, INSERT, ..) generated by Hibernate in your Spring tests, this way, you can be warned whenever the SQL statements change in your tests, and prevent N+1 selects. You can take a look here at the project if you want to know how this is implemented.\r\n\r\nA test example that demonstrates the purpose:\r\n\r\n    @Test\r\n    @Transactional\r\n    @AssertHibernateSQLCount(inserts = 3)\r\n    void create_two_blog_posts() {\r\n        BlogPost post_1 = new BlogPost(&quot;Blog post 1&quot;);\r\n        post_1.addComment(new PostComment(&quot;Good article&quot;));\r\n        post_1.addComment(new PostComment(&quot;Very interesting&quot;));\r\n        blogPostRepository.save(post_1);\r\n    }\r\n","title":"Hibernate / Spring Data - get executed sql queries count","body":"<p>The method <code>onPrepareStatement</code> is now <strong>deprecated</strong> and is removed in the new Hibernate 6 version. The new way to inspect SQL is to implement a <code>StatementInspector </code>.</p>\n<p>I've written a little library (<a href=\"https://github.com/Lemick/hibernate-query-asserts\" rel=\"nofollow noreferrer\">https://github.com/Lemick/hibernate-query-asserts</a>) that can assert the count of SQL queries by type (SELECT, INSERT, ..) generated by Hibernate in your Spring tests, this way, you can be warned whenever the SQL statements change in your tests, and prevent N+1 selects. You can take a look here at the project if you want to know how this is implemented.</p>\n<p>A test example that demonstrates the purpose:</p>\n<pre><code>@Test\n@Transactional\n@AssertHibernateSQLCount(inserts = 3)\nvoid create_two_blog_posts() {\n    BlogPost post_1 = new BlogPost(&quot;Blog post 1&quot;);\n    post_1.addComment(new PostComment(&quot;Good article&quot;));\n    post_1.addComment(new PostComment(&quot;Very interesting&quot;));\n    blogPostRepository.save(post_1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4458324,"reputation":922,"user_id":4875767,"accept_rate":86,"display_name":"Jeppz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679046779,"creation_date":1679046779,"answer_id":75766108,"question_id":59125188,"body_markdown":"I found a solution that doesn&#39;t require libraries:\r\n\r\n    @PersistenceContext\r\n    public EntityManager entityManager;\r\n    \r\n    Statistics statistics;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        Session session = entityManager.unwrap(Session.class);\r\n        statistics = session.getSessionFactory().getStatistics();\r\n        statistics.clear();\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    @Commit\r\n    void insertEmployees() {\r\n        int inserts = 10;\r\n        TransactionSynchronizationManager.registerSynchronization(new TransactionSynchronization() {\r\n            @Override\r\n            public void afterCommit() {\r\n                assertEquals(inserts, statistics.getEntityInsertCount());\r\n            }\r\n        });\r\n\r\n        List&lt;Employee&gt; employees = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; inserts; i++) {\r\n            Employee entity = Employee.builder()\r\n                    .employeeId(i + 500000)\r\n                    .firstName(&quot;John&quot;)\r\n                    .lastName(&quot;Doe&quot;)\r\n                    .birthDate(LocalDate.now().minusYears(25))\r\n                    .hireDate(LocalDate.now().minusYears(2))\r\n                    .gender(Gender.M)\r\n                    .build();\r\n            employees.add(entity);\r\n        }\r\n        employeeRepository.saveAll(employees);\r\n    }\r\n\r\nBy exploring the methods in Statistics you should be able to assert most things.","title":"Hibernate / Spring Data - get executed sql queries count","body":"<p>I found a solution that doesn't require libraries:</p>\n<pre><code>@PersistenceContext\npublic EntityManager entityManager;\n\nStatistics statistics;\n\n@BeforeEach\nvoid setUp() {\n    Session session = entityManager.unwrap(Session.class);\n    statistics = session.getSessionFactory().getStatistics();\n    statistics.clear();\n}\n\n@Test\n@Transactional\n@Commit\nvoid insertEmployees() {\n    int inserts = 10;\n    TransactionSynchronizationManager.registerSynchronization(new TransactionSynchronization() {\n        @Override\n        public void afterCommit() {\n            assertEquals(inserts, statistics.getEntityInsertCount());\n        }\n    });\n\n    List&lt;Employee&gt; employees = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; inserts; i++) {\n        Employee entity = Employee.builder()\n                .employeeId(i + 500000)\n                .firstName(&quot;John&quot;)\n                .lastName(&quot;Doe&quot;)\n                .birthDate(LocalDate.now().minusYears(25))\n                .hireDate(LocalDate.now().minusYears(2))\n                .gender(Gender.M)\n                .build();\n        employees.add(entity);\n    }\n    employeeRepository.saveAll(employees);\n}\n</code></pre>\n<p>By exploring the methods in Statistics you should be able to assert most things.</p>\n"}],"owner":{"account_id":2151720,"reputation":3816,"user_id":1907924,"accept_rate":75,"display_name":"Dcortez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3328,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":61555836,"answer_count":3,"score":4,"last_activity_date":1679046779,"creation_date":1575200765,"question_id":59125188,"body_markdown":"I&#39;m working on presentation in which I would like to show difference in number of executed sql queries between `deleteByPost()` method with and without custom query. I&#39;m expecting method without custom query to execute 10001 delete queries and with it just 2.\r\n\r\nI&#39;m aware of Hibernate [Statistics][1] object and it&#39;s methods. I was expecting one of them, named `getQueryExecutionCount()`, to return the number of sql queries executed against db, but what I&#39;m getting is always a 0. \r\n\r\nIf anyone wonders hibernate statistics are enabled for sure because I&#39;m getting correct numbers on other properties like the count of deleted entities.\r\n\r\nBelow there is a complete example showing what I am trying to accomplish.\r\n\r\nIs there a way to get the number of generated and executed queries using `Statistics` or any other mechanism? Currently I&#39;m looking at logs (`hibernate.show_sql`) and counting printed queries but it just seems wrong to me.\r\n\r\n    package example5\r\n    \r\n    import org.hibernate.SessionFactory\r\n    import org.junit.jupiter.api.AfterEach\r\n    import org.junit.jupiter.api.Assertions.assertEquals\r\n    import org.junit.jupiter.api.BeforeEach\r\n    import org.junit.jupiter.api.Test\r\n    import org.junit.jupiter.api.assertAll\r\n    import org.springframework.beans.factory.annotation.Autowired\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication\r\n    import org.springframework.data.jpa.repository.Modifying\r\n    import org.springframework.data.jpa.repository.Query\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories\r\n    import org.springframework.data.repository.PagingAndSortingRepository\r\n    import org.springframework.data.repository.query.Param\r\n    import org.springframework.stereotype.Repository\r\n    import org.springframework.stereotype.Service\r\n    import org.springframework.test.context.junit.jupiter.SpringJUnitJupiterConfig\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement\r\n    import org.springframework.transaction.annotation.Transactional\r\n    import javax.persistence.*\r\n    \r\n    // ENTITIES\r\n    \r\n    @Entity\r\n    @Table(name = &quot;posts&quot;)\r\n    class Post(\r\n            @Id\r\n            @Column(name = &quot;id&quot;)\r\n            @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n            var id: Long? = null,\r\n    \r\n            @Version\r\n            @Column(name = &quot;version&quot;)\r\n            var version: Long? = null\r\n    )\r\n\r\n    @Entity\r\n    @Table(name = &quot;comments&quot;)\r\n    class Comment(\r\n            @Id\r\n            @Column(name = &quot;id&quot;)\r\n            @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n            var id: Long? = null,\r\n    \r\n            @Version\r\n            @Column(name = &quot;version&quot;)\r\n            var version: Long? = null,\r\n    \r\n            @JoinColumn(name = &quot;post_id&quot;)\r\n            @ManyToOne(fetch = FetchType.LAZY)\r\n            var post: Post? = null\r\n    )\r\n    \r\n    \r\n    // REPOSITORIES\r\n    \r\n    @Repository\r\n    interface PostRepository : PagingAndSortingRepository&lt;Post, Long&gt;\r\n    \r\n    @Repository\r\n    interface CommentRepository : PagingAndSortingRepository&lt;Comment, Long&gt; {\r\n    \r\n        @Modifying\r\n        @Query(&quot;delete from Comment c where c.post = :post&quot;)\r\n        fun deleteByPost(@Param(&quot;post&quot;) post: Post)\r\n    }\r\n    \r\n    \r\n    // SERVICES\r\n    \r\n    interface PostService {\r\n    \r\n        fun delete(post: Post)\r\n    }\r\n    \r\n    @Service\r\n    open class PostServiceImpl(\r\n            @Autowired\r\n            val postRepository: PostRepository,\r\n    \r\n            @Autowired\r\n            val commentRepository: CommentRepository\r\n    ) : PostService {\r\n        @Transactional\r\n        override fun delete(post: Post) {\r\n            commentRepository.deleteByPost(post)\r\n            postRepository.delete(post)\r\n        }\r\n    \r\n    }\r\n    \r\n    // CONFIGURATION\r\n    \r\n    @EnableJpaRepositories(basePackages = [&quot;example5&quot;])\r\n    @EnableTransactionManagement\r\n    @SpringBootApplication(scanBasePackages = [&quot;example5&quot;])\r\n    open class FrameworkApplication\r\n    \r\n    \r\n    // TESTS\r\n    \r\n    @SpringJUnitJupiterConfig(classes = [FrameworkApplication::class])\r\n    class Example5(\r\n            @Autowired\r\n            val postService: PostService,\r\n    \r\n            @Autowired\r\n            val postRepository: PostRepository,\r\n    \r\n            @Autowired\r\n            val commentRepository: CommentRepository,\r\n    \r\n            @Autowired\r\n            val emFactory: EntityManagerFactory\r\n    ) {\r\n    \r\n        @AfterEach\r\n        fun cleanUp() {\r\n            commentRepository.deleteAll()\r\n            postRepository.deleteAll()\r\n        }\r\n    \r\n        @Test\r\n        fun testDelete() {\r\n            //given\r\n            var post = Post()\r\n            post = postRepository.save(post)\r\n            val comments = mutableListOf&lt;Comment&gt;()\r\n            for (i in 1..10000) {\r\n                val comment = Comment()\r\n                comment.post = post\r\n                comments.add(comment)\r\n            }\r\n            commentRepository.save(comments)\r\n    \r\n            val sessionFactory = emFactory.unwrap(SessionFactory::class.java)\r\n            val statistics = sessionFactory.statistics\r\n    \r\n            //then\r\n            statistics.clear()\r\n            postService.delete(post)\r\n    \r\n            val executedQueryCount = statistics.queryExecutionCount\r\n    \r\n    \r\n            //then\r\n            assertAll(\r\n                    { assertEquals(0, postRepository.count()) },\r\n                    { assertEquals(0, commentRepository.count()) },\r\n                    { assertEquals(2, executedQueryCount) }\r\n            )\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/stat/Statistics.html","title":"Hibernate / Spring Data - get executed sql queries count","body":"<p>I'm working on presentation in which I would like to show difference in number of executed sql queries between <code>deleteByPost()</code> method with and without custom query. I'm expecting method without custom query to execute 10001 delete queries and with it just 2.</p>\n\n<p>I'm aware of Hibernate <a href=\"https://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/stat/Statistics.html\" rel=\"nofollow noreferrer\">Statistics</a> object and it's methods. I was expecting one of them, named <code>getQueryExecutionCount()</code>, to return the number of sql queries executed against db, but what I'm getting is always a 0. </p>\n\n<p>If anyone wonders hibernate statistics are enabled for sure because I'm getting correct numbers on other properties like the count of deleted entities.</p>\n\n<p>Below there is a complete example showing what I am trying to accomplish.</p>\n\n<p>Is there a way to get the number of generated and executed queries using <code>Statistics</code> or any other mechanism? Currently I'm looking at logs (<code>hibernate.show_sql</code>) and counting printed queries but it just seems wrong to me.</p>\n\n<pre><code>package example5\n\nimport org.hibernate.SessionFactory\nimport org.junit.jupiter.api.AfterEach\nimport org.junit.jupiter.api.Assertions.assertEquals\nimport org.junit.jupiter.api.BeforeEach\nimport org.junit.jupiter.api.Test\nimport org.junit.jupiter.api.assertAll\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.data.jpa.repository.Modifying\nimport org.springframework.data.jpa.repository.Query\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories\nimport org.springframework.data.repository.PagingAndSortingRepository\nimport org.springframework.data.repository.query.Param\nimport org.springframework.stereotype.Repository\nimport org.springframework.stereotype.Service\nimport org.springframework.test.context.junit.jupiter.SpringJUnitJupiterConfig\nimport org.springframework.transaction.annotation.EnableTransactionManagement\nimport org.springframework.transaction.annotation.Transactional\nimport javax.persistence.*\n\n// ENTITIES\n\n@Entity\n@Table(name = \"posts\")\nclass Post(\n        @Id\n        @Column(name = \"id\")\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\n        var id: Long? = null,\n\n        @Version\n        @Column(name = \"version\")\n        var version: Long? = null\n)\n\n@Entity\n@Table(name = \"comments\")\nclass Comment(\n        @Id\n        @Column(name = \"id\")\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\n        var id: Long? = null,\n\n        @Version\n        @Column(name = \"version\")\n        var version: Long? = null,\n\n        @JoinColumn(name = \"post_id\")\n        @ManyToOne(fetch = FetchType.LAZY)\n        var post: Post? = null\n)\n\n\n// REPOSITORIES\n\n@Repository\ninterface PostRepository : PagingAndSortingRepository&lt;Post, Long&gt;\n\n@Repository\ninterface CommentRepository : PagingAndSortingRepository&lt;Comment, Long&gt; {\n\n    @Modifying\n    @Query(\"delete from Comment c where c.post = :post\")\n    fun deleteByPost(@Param(\"post\") post: Post)\n}\n\n\n// SERVICES\n\ninterface PostService {\n\n    fun delete(post: Post)\n}\n\n@Service\nopen class PostServiceImpl(\n        @Autowired\n        val postRepository: PostRepository,\n\n        @Autowired\n        val commentRepository: CommentRepository\n) : PostService {\n    @Transactional\n    override fun delete(post: Post) {\n        commentRepository.deleteByPost(post)\n        postRepository.delete(post)\n    }\n\n}\n\n// CONFIGURATION\n\n@EnableJpaRepositories(basePackages = [\"example5\"])\n@EnableTransactionManagement\n@SpringBootApplication(scanBasePackages = [\"example5\"])\nopen class FrameworkApplication\n\n\n// TESTS\n\n@SpringJUnitJupiterConfig(classes = [FrameworkApplication::class])\nclass Example5(\n        @Autowired\n        val postService: PostService,\n\n        @Autowired\n        val postRepository: PostRepository,\n\n        @Autowired\n        val commentRepository: CommentRepository,\n\n        @Autowired\n        val emFactory: EntityManagerFactory\n) {\n\n    @AfterEach\n    fun cleanUp() {\n        commentRepository.deleteAll()\n        postRepository.deleteAll()\n    }\n\n    @Test\n    fun testDelete() {\n        //given\n        var post = Post()\n        post = postRepository.save(post)\n        val comments = mutableListOf&lt;Comment&gt;()\n        for (i in 1..10000) {\n            val comment = Comment()\n            comment.post = post\n            comments.add(comment)\n        }\n        commentRepository.save(comments)\n\n        val sessionFactory = emFactory.unwrap(SessionFactory::class.java)\n        val statistics = sessionFactory.statistics\n\n        //then\n        statistics.clear()\n        postService.delete(post)\n\n        val executedQueryCount = statistics.queryExecutionCount\n\n\n        //then\n        assertAll(\n                { assertEquals(0, postRepository.count()) },\n                { assertEquals(0, commentRepository.count()) },\n                { assertEquals(2, executedQueryCount) }\n        )\n    }\n\n}\n</code></pre>\n"},{"tags":["java","character-encoding","utf-16","grapheme","grapheme-cluster"],"answers":[{"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679046714,"creation_date":1679046714,"answer_id":75766095,"question_id":75766003,"body_markdown":"Well, the obvious starting point is unicode itself: https://unicode.org\r\n\r\nIt does not provide a single, comprehensive list, as far as I know, but several lists for groups of symbols, e.g.\r\n\r\nEmojis without modifiers:\r\nhttps://unicode.org/emoji/charts/full-emoji-list.html \r\n\r\nEmojis with modifiers:\r\nhttps://unicode.org/emoji/charts/full-emoji-modifiers.html","title":"Is there a list of all (or most of the) possible combinations of (extended) grapheme clusters?","body":"<p>Well, the obvious starting point is unicode itself: <a href=\"https://unicode.org\" rel=\"nofollow noreferrer\">https://unicode.org</a></p>\n<p>It does not provide a single, comprehensive list, as far as I know, but several lists for groups of symbols, e.g.</p>\n<p>Emojis without modifiers:\n<a href=\"https://unicode.org/emoji/charts/full-emoji-list.html\" rel=\"nofollow noreferrer\">https://unicode.org/emoji/charts/full-emoji-list.html</a></p>\n<p>Emojis with modifiers:\n<a href=\"https://unicode.org/emoji/charts/full-emoji-modifiers.html\" rel=\"nofollow noreferrer\">https://unicode.org/emoji/charts/full-emoji-modifiers.html</a></p>\n"}],"owner":{"account_id":1041836,"reputation":6885,"user_id":1047713,"accept_rate":81,"display_name":"elect"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75766095,"answer_count":1,"score":1,"last_activity_date":1679046714,"creation_date":1679046233,"question_id":75766003,"body_markdown":"So, I&#39;m looking into coding some binary data as text, using single graphical units, after using already all the available ones for Java and UTF16, I&#39;d like to expand my &quot;pool&quot;.\r\n\r\nI recently discovered grapheme clusters, where you can combine different elements/chars in order to create a single graphical unit, or, as they are properly called, a grapheme cluster.\r\n\r\nFor example: &quot;&#129318;&#127996;‍♂️&quot;, which holds:\r\n - base character\r\n - skintone modifier\r\n - ligature character (zero width joiner)\r\n - male sign\r\n - variation selector\r\n\r\n(more [here](https://hsivonen.fi/string-length/) or [here](https://ardislu.dev/biggest-unicode-grapheme-cluster))\r\n\r\nI wonder if there is a comprensive list of all the possibile combinations, or at least some specifications which state clearly which emoticons can be combined how and how long they can be at maximum","title":"Is there a list of all (or most of the) possible combinations of (extended) grapheme clusters?","body":"<p>So, I'm looking into coding some binary data as text, using single graphical units, after using already all the available ones for Java and UTF16, I'd like to expand my &quot;pool&quot;.</p>\n<p>I recently discovered grapheme clusters, where you can combine different elements/chars in order to create a single graphical unit, or, as they are properly called, a grapheme cluster.</p>\n<p>For example: &quot;🤦🏼‍♂️&quot;, which holds:</p>\n<ul>\n<li>base character</li>\n<li>skintone modifier</li>\n<li>ligature character (zero width joiner)</li>\n<li>male sign</li>\n<li>variation selector</li>\n</ul>\n<p>(more <a href=\"https://hsivonen.fi/string-length/\" rel=\"nofollow noreferrer\">here</a> or <a href=\"https://ardislu.dev/biggest-unicode-grapheme-cluster\" rel=\"nofollow noreferrer\">here</a>)</p>\n<p>I wonder if there is a comprensive list of all the possibile combinations, or at least some specifications which state clearly which emoticons can be combined how and how long they can be at maximum</p>\n"},{"tags":["java","spring","transactions","jdbctemplate","spring-transactions"],"comments":[{"owner":{"account_id":10662643,"reputation":689,"user_id":7899567,"display_name":"Anton Tokmakov"},"score":0,"creation_date":1679035929,"post_id":75764451,"comment_id":133651925,"body_markdown":"Looks like you need to have separate transaction for each part of batch. then they will commit independently","body":"Looks like you need to have separate transaction for each part of batch. then they will commit independently"},{"owner":{"account_id":28011282,"reputation":11,"user_id":21393759,"display_name":"Dharmin Patel"},"score":0,"creation_date":1679038656,"post_id":75764451,"comment_id":133652488,"body_markdown":"@Anton Tokmakov, I am already having seperate transacfion using @Transactional(propagation = Propagation.REQUIRES_NEW) for every batch.","body":"@Anton Tokmakov, I am already having seperate transacfion using @Transactional(propagation = Propagation.REQUIRES_NEW) for every batch."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679042264,"post_id":75764451,"comment_id":133653305,"body_markdown":"Hi, Please share the relevant code. It is impossible to guess what&#39;s going on from the description only.","body":"Hi, Please share the relevant code. It is impossible to guess what&#39;s going on from the description only."},{"owner":{"account_id":28011282,"reputation":11,"user_id":21393759,"display_name":"Dharmin Patel"},"score":0,"creation_date":1679045044,"post_id":75764451,"comment_id":133653973,"body_markdown":"Hi, @Mar-Z please check above code","body":"Hi, @Mar-Z please check above code"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679045952,"post_id":75764451,"comment_id":133654178,"body_markdown":"Please check again if correct code added. I can see the method called in service is saveSuccessBatch but the repository shows another method saveWithBatchUpdate.","body":"Please check again if correct code added. I can see the method called in service is saveSuccessBatch but the repository shows another method saveWithBatchUpdate."},{"owner":{"account_id":28011282,"reputation":11,"user_id":21393759,"display_name":"Dharmin Patel"},"score":0,"creation_date":1679046656,"post_id":75764451,"comment_id":133654375,"body_markdown":"@Mar-Z Code Corrected","body":"@Mar-Z Code Corrected"},{"owner":{"account_id":10662643,"reputation":689,"user_id":7899567,"display_name":"Anton Tokmakov"},"score":0,"creation_date":1679048452,"post_id":75764451,"comment_id":133654900,"body_markdown":"You can try to use TransactionTemplate instead of annotations","body":"You can try to use TransactionTemplate instead of annotations"},{"owner":{"account_id":28011282,"reputation":11,"user_id":21393759,"display_name":"Dharmin Patel"},"score":0,"creation_date":1679049146,"post_id":75764451,"comment_id":133655056,"body_markdown":"@Anton Tokmakov, can we handle batch update with Transaction Template?","body":"@Anton Tokmakov, can we handle batch update with Transaction Template?"},{"owner":{"account_id":10662643,"reputation":689,"user_id":7899567,"display_name":"Anton Tokmakov"},"score":0,"creation_date":1679049581,"post_id":75764451,"comment_id":133655155,"body_markdown":"You can wrap ```addressRepository.saveWithBatchUpdate(mainAddressList.get(index)``` by transactionTemplate","body":"You can wrap <code>addressRepository.saveWithBatchUpdate(mainAddressList.get(in&zwnj;&#8203;dex)</code> by transactionTemplate"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679049663,"post_id":75764451,"comment_id":133655177,"body_markdown":"Please remove the Transactional annotation from the service method saveDataInBatch. You should have only the method in repository annotated. Even with default propagation which is requires new.","body":"Please remove the Transactional annotation from the service method saveDataInBatch. You should have only the method in repository annotated. Even with default propagation which is requires new."},{"owner":{"account_id":28011282,"reputation":11,"user_id":21393759,"display_name":"Dharmin Patel"},"score":0,"creation_date":1679051046,"post_id":75764451,"comment_id":133655498,"body_markdown":"@Anton Tokmakov, still getting same issue. you have any reference for this?","body":"@Anton Tokmakov, still getting same issue. you have any reference for this?"},{"owner":{"account_id":28011282,"reputation":11,"user_id":21393759,"display_name":"Dharmin Patel"},"score":0,"creation_date":1679051778,"post_id":75764451,"comment_id":133655656,"body_markdown":"@Mar-Z but if i remove it then its working fine for error case but for success case it is not storing data into DB","body":"@Mar-Z but if i remove it then its working fine for error case but for success case it is not storing data into DB"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679054800,"post_id":75764451,"comment_id":133656315,"body_markdown":"Then it looks like you have turned the auto-commit off somewhere in the configuration. Either turn it on or you will need to commit manually at the (successful) end of the saveWithBatchUpdate method.","body":"Then it looks like you have turned the auto-commit off somewhere in the configuration. Either turn it on or you will need to commit manually at the (successful) end of the saveWithBatchUpdate method."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679063274,"post_id":75764451,"comment_id":133658669,"body_markdown":"Is the issue solved now?","body":"Is the issue solved now?"},{"owner":{"account_id":28011282,"reputation":11,"user_id":21393759,"display_name":"Dharmin Patel"},"score":0,"creation_date":1679392239,"post_id":75764451,"comment_id":133709329,"body_markdown":"@Mar-Z No not yet","body":"@Mar-Z No not yet"}],"owner":{"account_id":28011282,"reputation":11,"user_id":21393759,"display_name":"Dharmin Patel"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679046624,"creation_date":1679035199,"question_id":75764451,"body_markdown":"I am having one issue where all successful transaction also gets rollback after successful commit using batchupdate in jdbc template.\r\n\r\nLet&#39;s take an example : I want to commit first 3 batch after getting error in 4th batch. Currently its rollbacking all the transaction.\r\n\r\n\r\n\r\nMy expecting result is to commit successful 3 batches before got error in 4th batch.\r\n\r\nService.java\r\n\r\n    @Transactional(propagation = Propagation.REQUIRED)\r\n    \tpublic void saveDataInBatch() {\r\n    \tList&lt;List&lt;Address&gt;&gt; mainAddressList = getMainAddressList();\r\n        for (int index = 0; index &lt; 3; index++) {\t\t\taddressRepository.saveWithBatchUpdate(mainAddressList.get(index));\r\n    \t\t}\r\n    \t}\r\n\r\nAddressRepository.java\r\n\r\n   \r\n\r\n     @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n        \tpublic int[] saveWithBatchUpdate(List&lt;Address&gt; addressList) {\r\n        \t\treturn jdbcTemplate.batchUpdate(&quot;insert into address (city,street, zipCode) values(?,?,?)&quot;,\r\n        \t\t\t\tnew BatchPreparedStatementSetter() {\r\n        \t\t\t\t@Override\r\n        \t\t\t\tpublic void setValues(PreparedStatement ps, int i){\r\n        \t\t\t\t\t\tAddress address = addressList.get(i);\r\n        \t\t\t\t\t\tps.setString(1, address.getCity());\r\n        \t\t\t\t\t\tps.setString(2, address.getStreet());\r\n        \t\t\t\t\t\tps.setInt(3, address.getZipCode());\r\n        \t\t\t\t\t}\r\n        \r\n        \t\t\t\t\t@Override\r\n        \t\t\t\t\tpublic int getBatchSize() {\r\n        \t\t\t\t\t\treturn addressList.size();\r\n        \t\t\t\t\t}\r\n        \t\t\t\t});\r\n        \t}\r\n\r\n","title":"Do not want to rollback all the successful transaction using batchupdate into jdbc template when got error in one batchupdate","body":"<p>I am having one issue where all successful transaction also gets rollback after successful commit using batchupdate in jdbc template.</p>\n<p>Let's take an example : I want to commit first 3 batch after getting error in 4th batch. Currently its rollbacking all the transaction.</p>\n<p>My expecting result is to commit successful 3 batches before got error in 4th batch.</p>\n<p>Service.java</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRED)\n    public void saveDataInBatch() {\n    List&lt;List&lt;Address&gt;&gt; mainAddressList = getMainAddressList();\n    for (int index = 0; index &lt; 3; index++) {           addressRepository.saveWithBatchUpdate(mainAddressList.get(index));\n        }\n    }\n</code></pre>\n<p>AddressRepository.java</p>\n<pre><code> @Transactional(propagation = Propagation.REQUIRES_NEW)\n        public int[] saveWithBatchUpdate(List&lt;Address&gt; addressList) {\n            return jdbcTemplate.batchUpdate(&quot;insert into address (city,street, zipCode) values(?,?,?)&quot;,\n                    new BatchPreparedStatementSetter() {\n                    @Override\n                    public void setValues(PreparedStatement ps, int i){\n                            Address address = addressList.get(i);\n                            ps.setString(1, address.getCity());\n                            ps.setString(2, address.getStreet());\n                            ps.setInt(3, address.getZipCode());\n                        }\n    \n                        @Override\n                        public int getBatchSize() {\n                            return addressList.size();\n                        }\n                    });\n        }\n</code></pre>\n"},{"tags":["java","word-frequency"],"comments":[{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":0,"creation_date":1590336003,"post_id":61988535,"comment_id":109636196,"body_markdown":"`String[] tokens = text.split(&quot;[\\\\s\\\\d]+&quot;);`?","body":"<code>String[] tokens = text.split(&quot;[\\\\s\\\\d]+&quot;);</code>?"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590337025,"creation_date":1590336460,"answer_id":61988679,"question_id":61988535,"body_markdown":"&gt; And how can I separate &quot;Hopefully245this---is&quot; and store 3 useful\r\n&gt; words &quot;hopefully&quot;, &quot;this&quot;, &quot;is&quot;?\r\n\r\nUse regex API for such a requirement.\r\n\r\n**Demo:**\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString str = &quot;Hopefully245this---is&quot;;\r\n    \t\tPattern pattern = Pattern.compile(&quot;[A-Za-z]+&quot;);\r\n    \t\tMatcher matcher = pattern.matcher(str);\r\n    \t\twhile (matcher.find()) {\r\n    \t\t\tSystem.out.println(matcher.group());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    Hopefully\r\n    this\r\n    is\r\n\r\nCheck the following links to learn more about Java regex:\r\n\r\n 1. https://docs.oracle.com/javase/tutorial/essential/regex/index.html\r\n 2. https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Pattern.html\r\n 3. https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Matcher.html","title":"How to find word frequency in a text file?","body":"<blockquote>\n  <p>And how can I separate \"Hopefully245this---is\" and store 3 useful\n  words \"hopefully\", \"this\", \"is\"?</p>\n</blockquote>\n\n<p>Use regex API for such a requirement.</p>\n\n<p><strong>Demo:</strong></p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Main {\n    public static void main(String[] args) {\n        String str = \"Hopefully245this---is\";\n        Pattern pattern = Pattern.compile(\"[A-Za-z]+\");\n        Matcher matcher = pattern.matcher(str);\n        while (matcher.find()) {\n            System.out.println(matcher.group());\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Hopefully\nthis\nis\n</code></pre>\n\n<p>Check the following links to learn more about Java regex:</p>\n\n<ol>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/regex/index.html</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Pattern.html</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Matcher.html</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590344734,"creation_date":1590344734,"answer_id":61990473,"question_id":61988535,"body_markdown":"First the code. The explanation appears after the below code.\r\n```java\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.TreeMap;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class WordFreq2 {\r\n\r\n    public static void main(String[] args) {\r\n        Path path = Paths.get(&quot;C:\\\\Users\\\\Jason\\\\Downloads\\\\test_words_file-1.txt&quot;);\r\n        try {\r\n            String text = Files.readString(path); // throws java.io.IOException\r\n            text = text.toLowerCase();\r\n            Pattern pttrn = Pattern.compile(&quot;[a-z]+&quot;);\r\n            Matcher mtchr = pttrn.matcher(text);\r\n            TreeMap&lt;String, Integer&gt; freq = new TreeMap&lt;&gt;();\r\n            int longest = 0;\r\n            while (mtchr.find()) {\r\n                String word = mtchr.group();\r\n                int letters = word.length();\r\n                if (letters &gt; longest) {\r\n                    longest = letters;\r\n                }\r\n                if (freq.containsKey(word)) { \r\n                    freq.computeIfPresent(word, (w, c) -&gt; Integer.valueOf(c.intValue() + 1));\r\n                }\r\n                else {\r\n                    freq.computeIfAbsent(word, (w) -&gt; Integer.valueOf(1));\r\n                }\r\n            }\r\n            String format = &quot;%-&quot; + longest + &quot;s = %2d%n&quot;;\r\n            freq.forEach((k, v) -&gt; System.out.printf(format, k, v));\r\n            System.out.println(&quot;Longest = &quot; + longest);\r\n        }\r\n        catch (IOException xIo) {\r\n            xIo.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nSince your sample file is small, I load the entire file contents into a `String`.  \r\n\r\nThen I convert the entire `String` to lower-case since your definition of a word is a series of consecutive alphabetic, case-insensitive characters.  \r\n\r\nThe regular expression &amp;ndash; `[a-z]+` &amp;ndash; searches for one or more consecutive, lower-case, alphabetic characters. (Remember the entire `String` is now all lower-case.)\r\n\r\nEach successive call to method `find()` will find the next word in the `String` (according to the above definition of a word, i.e. a consecutive series of lower-case letters of the alphabet).\r\n\r\nTo count the letter frequencies, I use a `TreeMap` where the map key is the word and the map value is the number of times that word appears in the `String`. Note that map keys and values cannot be primitives, hence the value is `Integer` and not `int`.\r\n\r\nIf the last word found already appears in the map, I increment the count.\r\n\r\nIf the last word found does not appear in the map, it is added to the map and its count is set to 1 (one).\r\n\r\nAlong with adding the words to the map, I count the letters of each word found in order to find the longest word.\r\n\r\nAfter the entire `String` is processed, I print the contents of the map, one entry per line, and finally print the number of letters in the longest word found. Note that `TreeMap` sorts its keys, hence the list of words appears in alphabetical order.\r\n\r\nHere is the output:\r\n```\r\na         =  1\r\nbe        =  1\r\nbrown     =  1\r\nbut       =  1\r\ncomplete  =  1\r\nfor       =  1\r\nfox       =  1\r\nhopefully =  1\r\nis        =  1\r\nless      =  1\r\nmaybe     =  1\r\nquick     =  3\r\ntask      =  2\r\nthe       = 12\r\nthis      =  1\r\nto        =  1\r\nwill      =  1\r\nyou       =  1\r\nLongest = 9\r\n```\r\n","title":"How to find word frequency in a text file?","body":"<p>First the code. The explanation appears after the below code.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.TreeMap;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class WordFreq2 {\n\n    public static void main(String[] args) {\n        Path path = Paths.get(\"C:\\\\Users\\\\Jason\\\\Downloads\\\\test_words_file-1.txt\");\n        try {\n            String text = Files.readString(path); // throws java.io.IOException\n            text = text.toLowerCase();\n            Pattern pttrn = Pattern.compile(\"[a-z]+\");\n            Matcher mtchr = pttrn.matcher(text);\n            TreeMap&lt;String, Integer&gt; freq = new TreeMap&lt;&gt;();\n            int longest = 0;\n            while (mtchr.find()) {\n                String word = mtchr.group();\n                int letters = word.length();\n                if (letters &gt; longest) {\n                    longest = letters;\n                }\n                if (freq.containsKey(word)) { \n                    freq.computeIfPresent(word, (w, c) -&gt; Integer.valueOf(c.intValue() + 1));\n                }\n                else {\n                    freq.computeIfAbsent(word, (w) -&gt; Integer.valueOf(1));\n                }\n            }\n            String format = \"%-\" + longest + \"s = %2d%n\";\n            freq.forEach((k, v) -&gt; System.out.printf(format, k, v));\n            System.out.println(\"Longest = \" + longest);\n        }\n        catch (IOException xIo) {\n            xIo.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Since your sample file is small, I load the entire file contents into a <code>String</code>.  </p>\n\n<p>Then I convert the entire <code>String</code> to lower-case since your definition of a word is a series of consecutive alphabetic, case-insensitive characters.  </p>\n\n<p>The regular expression &ndash; <code>[a-z]+</code> &ndash; searches for one or more consecutive, lower-case, alphabetic characters. (Remember the entire <code>String</code> is now all lower-case.)</p>\n\n<p>Each successive call to method <code>find()</code> will find the next word in the <code>String</code> (according to the above definition of a word, i.e. a consecutive series of lower-case letters of the alphabet).</p>\n\n<p>To count the letter frequencies, I use a <code>TreeMap</code> where the map key is the word and the map value is the number of times that word appears in the <code>String</code>. Note that map keys and values cannot be primitives, hence the value is <code>Integer</code> and not <code>int</code>.</p>\n\n<p>If the last word found already appears in the map, I increment the count.</p>\n\n<p>If the last word found does not appear in the map, it is added to the map and its count is set to 1 (one).</p>\n\n<p>Along with adding the words to the map, I count the letters of each word found in order to find the longest word.</p>\n\n<p>After the entire <code>String</code> is processed, I print the contents of the map, one entry per line, and finally print the number of letters in the longest word found. Note that <code>TreeMap</code> sorts its keys, hence the list of words appears in alphabetical order.</p>\n\n<p>Here is the output:</p>\n\n<pre><code>a         =  1\nbe        =  1\nbrown     =  1\nbut       =  1\ncomplete  =  1\nfor       =  1\nfox       =  1\nhopefully =  1\nis        =  1\nless      =  1\nmaybe     =  1\nquick     =  3\ntask      =  2\nthe       = 12\nthis      =  1\nto        =  1\nwill      =  1\nyou       =  1\nLongest = 9\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10299803,"reputation":1540,"user_id":7598851,"display_name":"MartinBG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590344988,"creation_date":1590344988,"answer_id":61990523,"question_id":61988535,"body_markdown":"On Java 9 or newer [Matcher#results][1] could be used in a stream solution like this:\r\n\r\n        Pattern pattern = Pattern.compile(&quot;[a-zA-Z]+&quot;);\r\n        try (BufferedReader br = Files.newBufferedReader(Paths.get(&quot;C:\\\\Users\\\\Jason\\\\Downloads\\\\test_words_file-1.txt&quot;))) {\r\n            br.lines()\r\n                    .map(pattern::matcher)\r\n                    .flatMap(Matcher::results)\r\n                    .map(matchResult -&gt; matchResult.group(0))\r\n                    .collect(Collectors.groupingBy(String::toLowerCase, TreeMap::new, Collectors.counting()))\r\n                    .forEach((word, count) -&gt; System.out.printf(&quot;%s=%s%n&quot;, word, count));\r\n        } catch (IOException e) {\r\n            System.err.format(&quot;IOException: %s%n&quot;, e);\r\n        }\r\n\r\n\r\nOutput:\r\n\r\n    a=1\r\n    be=1\r\n    brown=1\r\n    but=1\r\n    complete=1\r\n    for=1\r\n    fox=1\r\n    hopefully=1\r\n    is=1\r\n    less=1\r\n    maybe=1\r\n    quick=3\r\n    task=2\r\n    the=12\r\n    this=1\r\n    to=1\r\n    will=1\r\n    you=1\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#results--","title":"How to find word frequency in a text file?","body":"<p>On Java 9 or newer <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#results--\" rel=\"nofollow noreferrer\">Matcher#results</a> could be used in a stream solution like this:</p>\n\n<pre><code>    Pattern pattern = Pattern.compile(\"[a-zA-Z]+\");\n    try (BufferedReader br = Files.newBufferedReader(Paths.get(\"C:\\\\Users\\\\Jason\\\\Downloads\\\\test_words_file-1.txt\"))) {\n        br.lines()\n                .map(pattern::matcher)\n                .flatMap(Matcher::results)\n                .map(matchResult -&gt; matchResult.group(0))\n                .collect(Collectors.groupingBy(String::toLowerCase, TreeMap::new, Collectors.counting()))\n                .forEach((word, count) -&gt; System.out.printf(\"%s=%s%n\", word, count));\n    } catch (IOException e) {\n        System.err.format(\"IOException: %s%n\", e);\n    }\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>a=1\nbe=1\nbrown=1\nbut=1\ncomplete=1\nfor=1\nfox=1\nhopefully=1\nis=1\nless=1\nmaybe=1\nquick=3\ntask=2\nthe=12\nthis=1\nto=1\nwill=1\nyou=1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12177497,"reputation":11,"user_id":8890116,"display_name":"Durgesh Nandini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679046508,"creation_date":1679046508,"answer_id":75766054,"question_id":61988535,"body_markdown":"    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Scanner;\r\n     \r\n    public class test\r\n    {\r\n      public static void main(String[] args) throws FileNotFoundException\r\n      {\r\n        File f = new File(&quot;C:\\\\Users\\\\Nandini\\\\Downloads\\\\CountFreq.txt&quot;);\r\n        Scanner s = new Scanner(f);\r\n        Map&lt;String, Integer&gt; counts = new HashMap&lt;String, Integer&gt;(); \r\n        while( s.hasNext() )\r\n        {\r\n        \t\t String word = s.next();\r\n        \t\t word = word.toLowerCase();\r\n        \t\tif( !counts.containsKey( word ) )\r\n        \t\t counts.put( word, 1 );\r\n        \t\telse\r\n        \t\t counts.put( word, counts.get(word) + 1 );\r\n        }\r\n        System.out.println(counts);\r\n      }\r\n      \r\n    }\r\n\r\n**Output:**\r\n{the=1, this=3, have=1, is=2, word=1}","title":"How to find word frequency in a text file?","body":"<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Scanner;\n \npublic class test\n{\n  public static void main(String[] args) throws FileNotFoundException\n  {\n    File f = new File(&quot;C:\\\\Users\\\\Nandini\\\\Downloads\\\\CountFreq.txt&quot;);\n    Scanner s = new Scanner(f);\n    Map&lt;String, Integer&gt; counts = new HashMap&lt;String, Integer&gt;(); \n    while( s.hasNext() )\n    {\n             String word = s.next();\n             word = word.toLowerCase();\n            if( !counts.containsKey( word ) )\n             counts.put( word, 1 );\n            else\n             counts.put( word, counts.get(word) + 1 );\n    }\n    System.out.println(counts);\n  }\n  \n}\n</code></pre>\n<p><strong>Output:</strong>\n{the=1, this=3, have=1, is=2, word=1}</p>\n"}],"owner":{"account_id":15870151,"reputation":1,"user_id":11451052,"display_name":"denali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1679046508,"creation_date":1590335877,"question_id":61988535,"body_markdown":"My task is to get the word frequency of this file:\r\n\r\n**test_words_file-1.txt**:\r\n```\r\nThe quick brown fox\r\nHopefully245this---is   a quick13947\r\ntask&amp;&amp;#%*for you to complete.\r\nBut maybe the tASk 098234 will be less\r\n..quicK.\r\nthe the the the the the the the the the\r\n```\r\nI&#39;ve been trying to remove symbols and digits from this file and get each word&#39;s frequency in alphabetical order, and the result is:\r\n\r\n[![word list][2]][2]\r\n\r\nI can see that even digits have been removed but are still being counted. Can you explain why and how can I fix this?\r\n\r\nAlso, how can I separate *&quot;Hopefully245this---is&quot;* and store 3 useful words *&quot;hopefully&quot;, &quot;this&quot;, &quot;is&quot;*?\r\n\r\n```java\r\npublic class WordFreq2 {\r\n\tpublic static void main(String[] args) throws FileNotFoundException {\r\n\t\t\r\n\t\tFile file = new File(&quot;C:\\\\Users\\\\Jason\\\\Downloads\\\\test_words_file-1.txt&quot;);\r\n\t\tScanner scanner = new Scanner(file); \r\n\t\tint maxWordLen = 0; \r\n\t\tString maxWord = null;\r\n\t\t\r\n\t\tHashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n\t\twhile(scanner.hasNext()) {\r\n\t\t\tString word = scanner.next();\r\n\t\t\tword = word.toLowerCase();\r\n\t\t\t// text cleaning \r\n\t\t\tword = word.replaceAll(&quot;[^a-zA-Z]+&quot;, &quot;&quot;);\r\n\t\t\t\r\n\t\t\tif(map.containsKey(word)) {\r\n\t\t\t\t//if the word already exists\r\n\t\t\t\tint count = map.get(word)+1;\r\n\t\t\t\tmap.put(word,count);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// The word is new \r\n\t\t\t\tint count = 1;\r\n\t\t\t\tmap.put(word, count);\r\n\t\t\t\t\r\n\t\t\t\t// Find the max length of Word\r\n\t\t\t\tif (word.length() &gt; maxWordLen) {\r\n\t\t\t\t\tmaxWordLen = word.length();\r\n\t\t\t\t\tmaxWord = word;\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}\r\n\t\t\r\n\t\tscanner.close();\r\n\t\t\r\n\t\t//HashMap unsorted, sort \r\n\t\tTreeMap&lt;String, Integer&gt; sorted = new TreeMap&lt;&gt;();\r\n\t\tsorted.putAll(map);\r\n\t\t\r\n\t\t\r\n\t\tfor (Map.Entry&lt;String, Integer&gt; entry: sorted.entrySet()) {\r\n\t\t\tSystem.out.println(entry);\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(maxWordLen+&quot; (&quot;+maxWord+&quot;)&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n  [1]: https://github.com/denalist/Java/blob/master/test_words_file-1.txt\r\n  [2]: https://i.stack.imgur.com/VHIhT.png\r\n\r\n","title":"How to find word frequency in a text file?","body":"<p>My task is to get the word frequency of this file:</p>\n\n<p><strong>test_words_file-1.txt</strong>:</p>\n\n<pre><code>The quick brown fox\nHopefully245this---is   a quick13947\ntask&amp;&amp;#%*for you to complete.\nBut maybe the tASk 098234 will be less\n..quicK.\nthe the the the the the the the the the\n</code></pre>\n\n<p>I've been trying to remove symbols and digits from this file and get each word's frequency in alphabetical order, and the result is:</p>\n\n<p><a href=\"https://i.stack.imgur.com/VHIhT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VHIhT.png\" alt=\"word list\"></a></p>\n\n<p>I can see that even digits have been removed but are still being counted. Can you explain why and how can I fix this?</p>\n\n<p>Also, how can I separate <em>\"Hopefully245this---is\"</em> and store 3 useful words <em>\"hopefully\", \"this\", \"is\"</em>?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class WordFreq2 {\n    public static void main(String[] args) throws FileNotFoundException {\n\n        File file = new File(\"C:\\\\Users\\\\Jason\\\\Downloads\\\\test_words_file-1.txt\");\n        Scanner scanner = new Scanner(file); \n        int maxWordLen = 0; \n        String maxWord = null;\n\n        HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n        while(scanner.hasNext()) {\n            String word = scanner.next();\n            word = word.toLowerCase();\n            // text cleaning \n            word = word.replaceAll(\"[^a-zA-Z]+\", \"\");\n\n            if(map.containsKey(word)) {\n                //if the word already exists\n                int count = map.get(word)+1;\n                map.put(word,count);\n            }\n            else {\n                // The word is new \n                int count = 1;\n                map.put(word, count);\n\n                // Find the max length of Word\n                if (word.length() &gt; maxWordLen) {\n                    maxWordLen = word.length();\n                    maxWord = word;\n                }\n            }   \n        }\n\n        scanner.close();\n\n        //HashMap unsorted, sort \n        TreeMap&lt;String, Integer&gt; sorted = new TreeMap&lt;&gt;();\n        sorted.putAll(map);\n\n\n        for (Map.Entry&lt;String, Integer&gt; entry: sorted.entrySet()) {\n            System.out.println(entry);\n        }\n\n        System.out.println(maxWordLen+\" (\"+maxWord+\")\");\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jackson","lombok"],"answers":[{"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679046190,"creation_date":1679045712,"answer_id":75765907,"question_id":75764989,"body_markdown":"Before pointing you to a technical solution, let me first explain why I think your design is flawed.\r\n\r\nIn general, you should design your classes with the &quot;separation of concerns&quot; principle in mind. The main concern of your `ItemProduct` and `Reservation` classes is deserialization. However, the concern of `Something` seems to be something completely different, although it&#39;s unclear what that is (storing some state of the reservation? holding internal data?).\r\n\r\nMy advice is to separate these concerns also in your code. You can achieve this in several ways. One way could be to map the input classes to a different set of classes; you can do that manually or with helper tools like [MapStruct][1].\r\n\r\nIf you still want a technical solution, you can implement an all-args constructor for `ItemProduct` manually. Jackson will construct the instance using `ItemProductBuilder.build()`, and that calls this constructor. So if you want to populate `something`, that&#39;s a way to do that.\r\n\r\nAnother solution is to create a manual getter for `something` and create the instance in there lazily upon the first call to that method.\r\n\r\nPS: You should aim for immutable classes. So if possible, use `@Value` instead of `@Data`. If you have a builder, you also don&#39;t need more than a (private) all-args constructor, because you would always use the builder to create instances.\r\n\r\n  [1]: https://mapstruct.org/","title":"Lombok, Jacksonized; How to create custom class objects when constructing core class from json","body":"<p>Before pointing you to a technical solution, let me first explain why I think your design is flawed.</p>\n<p>In general, you should design your classes with the &quot;separation of concerns&quot; principle in mind. The main concern of your <code>ItemProduct</code> and <code>Reservation</code> classes is deserialization. However, the concern of <code>Something</code> seems to be something completely different, although it's unclear what that is (storing some state of the reservation? holding internal data?).</p>\n<p>My advice is to separate these concerns also in your code. You can achieve this in several ways. One way could be to map the input classes to a different set of classes; you can do that manually or with helper tools like <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">MapStruct</a>.</p>\n<p>If you still want a technical solution, you can implement an all-args constructor for <code>ItemProduct</code> manually. Jackson will construct the instance using <code>ItemProductBuilder.build()</code>, and that calls this constructor. So if you want to populate <code>something</code>, that's a way to do that.</p>\n<p>Another solution is to create a manual getter for <code>something</code> and create the instance in there lazily upon the first call to that method.</p>\n<p>PS: You should aim for immutable classes. So if possible, use <code>@Value</code> instead of <code>@Data</code>. If you have a builder, you also don't need more than a (private) all-args constructor, because you would always use the builder to create instances.</p>\n"}],"owner":{"account_id":24755582,"reputation":25,"user_id":18640548,"display_name":"GenericUserName"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75765907,"answer_count":1,"score":1,"last_activity_date":1679046190,"creation_date":1679039677,"question_id":75764989,"body_markdown":"I have three classes, first: &quot;ItemProduct&quot; has, among other properties, two fields that are class-based. Class &quot;Reservation&quot; and class &quot;Something&quot;. &quot;ItemProduct&quot; and &quot;Reservation&quot; are model classes based on json response from API. Class &quot;Something&quot; is generated using data from ItemProduct and Reservation and is used later for other operations.\r\n\r\nCode:\r\n\r\n```\r\n@Data\r\n@Builder\r\n@Jacksonized\r\npublic class ItemProduct {\r\n    @NotNull\r\n    Integer id;\r\n    @NotNull\r\n    String status;\r\n    @NotNull\r\n    String productType;\r\n    String productNo;\r\n    @NotNull\r\n    Reservation reservation;\r\n    @JsonIgnore\r\n    Something something;\r\n\r\n}\r\n\r\n@Data\r\n@Builder\r\n@Jacksonized\r\npublic class Reservation {\r\n    @NotNull\r\n    Integer reservationLine;\r\n    String reservationDescription;\r\n}\r\n\r\n@Data\r\n@Jacksonized\r\n@Builder\r\npublic class Something{\r\n    @NotNull\r\n    Integer reservationLineNo;\r\n    @NotNull\r\n    String reservationType;\r\n    String serialNumber;\r\n\r\n    public static final List&lt;Something&gt; stuff = new ArrayList&lt;&gt;();\r\n\r\n    public Something(@NotNull Integer reservationLineNo, @NotNull String reservationType) {\r\n        this.reservationLineNo = reservationLineNo;\r\n        this.reservationType = reservationType;\r\n        something.add(this);\r\n    }\r\n\r\n    public Something(@NotNull Integer reservationLineNo, @NotNull String reservationType, String serialNumber) {\r\n        this.reservationLineNo = reservationLineNo;\r\n        this.reservationType = reservationType;\r\n        this.serialNumber = serialNumber;\r\n        something.add(this);\r\n    }\r\n```\r\n\r\nI create objects of class ItemProduct as follow:\r\n\r\n```\r\nItemProduct itemProduct = objectMapper.readValue(input_real, ItemProduct.class);\r\n```\r\n\r\nInput:\r\n\r\n    {\r\n\t&quot;id&quot;: 4011821,\r\n\t&quot;reservation&quot;: {\r\n\t\t&quot;reservationLine&quot;: &quot;3&quot;,\r\n\t\t&quot;reservationDescription&quot;: &quot;xxx&quot;\r\n\t},\r\n\t&quot;status&quot;: &quot;PROCESSING&quot;,\r\n\t&quot;productType&quot;: &quot;TOOL&quot;\r\n    }\r\n\r\nProblem:\r\nHow can I, during construction of objects ItemProduct, construct objects of class Something? With code mentioned above I don&#39;t create objects of class Something. I would like to make a call: Something(this.reservation.reservationLine, this.productType) in ItemProduct class constructor.\r\n\r\nI tried tinkering with writing my own Contractor for class ItemProduct, but it only partialy worked - got NPE from using Builder annotation during deserialisation. Also, it generated a lot of additional boilerplate code (there will be more optional class properties in ItemProduct).\r\n\r\n---\r\nEdit:\r\n\r\nDirty &quot;solution&quot; is adding constructor to ItemProduct:\r\n\r\n        ItemProduct(@NotNull Integer id, @NotNull String status, @NotNull String productType, String productNo, @NotNull Reservation reservation, Something something){\r\n        this.id = id;\r\n        this.status = status;\r\n        this.productType = productType;\r\n        this.reservation = reservation;\r\n        this.productNo = productNo;\r\n        this.something = new Something(reservation.reservationLine, productType);\r\n    }\r\n\r\nSo, please correct me, I need to make constructor that uses all possible properties? Do I need to make other constructor variants including unused &quot;Something something&quot; arguments?","title":"Lombok, Jacksonized; How to create custom class objects when constructing core class from json","body":"<p>I have three classes, first: &quot;ItemProduct&quot; has, among other properties, two fields that are class-based. Class &quot;Reservation&quot; and class &quot;Something&quot;. &quot;ItemProduct&quot; and &quot;Reservation&quot; are model classes based on json response from API. Class &quot;Something&quot; is generated using data from ItemProduct and Reservation and is used later for other operations.</p>\n<p>Code:</p>\n<pre><code>@Data\n@Builder\n@Jacksonized\npublic class ItemProduct {\n    @NotNull\n    Integer id;\n    @NotNull\n    String status;\n    @NotNull\n    String productType;\n    String productNo;\n    @NotNull\n    Reservation reservation;\n    @JsonIgnore\n    Something something;\n\n}\n\n@Data\n@Builder\n@Jacksonized\npublic class Reservation {\n    @NotNull\n    Integer reservationLine;\n    String reservationDescription;\n}\n\n@Data\n@Jacksonized\n@Builder\npublic class Something{\n    @NotNull\n    Integer reservationLineNo;\n    @NotNull\n    String reservationType;\n    String serialNumber;\n\n    public static final List&lt;Something&gt; stuff = new ArrayList&lt;&gt;();\n\n    public Something(@NotNull Integer reservationLineNo, @NotNull String reservationType) {\n        this.reservationLineNo = reservationLineNo;\n        this.reservationType = reservationType;\n        something.add(this);\n    }\n\n    public Something(@NotNull Integer reservationLineNo, @NotNull String reservationType, String serialNumber) {\n        this.reservationLineNo = reservationLineNo;\n        this.reservationType = reservationType;\n        this.serialNumber = serialNumber;\n        something.add(this);\n    }\n</code></pre>\n<p>I create objects of class ItemProduct as follow:</p>\n<pre><code>ItemProduct itemProduct = objectMapper.readValue(input_real, ItemProduct.class);\n</code></pre>\n<p>Input:</p>\n<pre><code>{\n&quot;id&quot;: 4011821,\n&quot;reservation&quot;: {\n    &quot;reservationLine&quot;: &quot;3&quot;,\n    &quot;reservationDescription&quot;: &quot;xxx&quot;\n},\n&quot;status&quot;: &quot;PROCESSING&quot;,\n&quot;productType&quot;: &quot;TOOL&quot;\n}\n</code></pre>\n<p>Problem:\nHow can I, during construction of objects ItemProduct, construct objects of class Something? With code mentioned above I don't create objects of class Something. I would like to make a call: Something(this.reservation.reservationLine, this.productType) in ItemProduct class constructor.</p>\n<p>I tried tinkering with writing my own Contractor for class ItemProduct, but it only partialy worked - got NPE from using Builder annotation during deserialisation. Also, it generated a lot of additional boilerplate code (there will be more optional class properties in ItemProduct).</p>\n<hr />\n<p>Edit:</p>\n<p>Dirty &quot;solution&quot; is adding constructor to ItemProduct:</p>\n<pre><code>    ItemProduct(@NotNull Integer id, @NotNull String status, @NotNull String productType, String productNo, @NotNull Reservation reservation, Something something){\n    this.id = id;\n    this.status = status;\n    this.productType = productType;\n    this.reservation = reservation;\n    this.productNo = productNo;\n    this.something = new Something(reservation.reservationLine, productType);\n}\n</code></pre>\n<p>So, please correct me, I need to make constructor that uses all possible properties? Do I need to make other constructor variants including unused &quot;Something something&quot; arguments?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1679044871,"post_id":75765635,"comment_id":133653943,"body_markdown":"Well, the first experiment would be to comment out the line `xorValue = mixer.nextInt() &amp; 0x7F; ` - without this line, the decryption succeeds. This narrows it down - now you can look into why this way of updating the `xorValue` leads to your observed behavior.","body":"Well, the first experiment would be to comment out the line <code>xorValue = mixer.nextInt() &amp; 0x7F; </code> - without this line, the decryption succeeds. This narrows it down - now you can look into why this way of updating the <code>xorValue</code> leads to your observed behavior."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1679045304,"post_id":75765635,"comment_id":133654027,"body_markdown":"When you keep using the same `transmogrifier`, it keeps generating new random numbers. So not the same random numbers for decryption as it used for encryption.","body":"When you keep using the same <code>transmogrifier</code>, it keeps generating new random numbers. So not the same random numbers for decryption as it used for encryption."}],"answers":[{"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679045259,"creation_date":1679045259,"answer_id":75765823,"question_id":75765635,"body_markdown":"You need to reinitialize your `mixer` to produce the same sequence used during encryption. One easy way to do this without changing the `TransmogrifierChained` class is to just create a new instance for decryption:\r\n\r\n\tpublic static void main(String[] args) {\r\n        long key = 123456;\r\n        TransmogrifierChained transmogrifier = new TransmogrifierChained(key);\r\n\r\n        String message = &quot;Hello World!&quot;;\r\n        System.out.println(&quot;Original message: &quot; + message);\r\n\r\n        String encrypted = transmogrifier.encrypt(message);\r\n        System.out.println(&quot;Encrypted message: &quot; + encrypted);\r\n\r\n        transmogrifier = new TransmogrifierChained(key); // new instance!\r\n        String decrypted = transmogrifier.decrypt(encrypted);\r\n        System.out.println(&quot;Decrypted message: &quot; + decrypted);\r\n\t}\r\n\r\nYields something like\r\n\r\n    Original message: Hello World!\r\n    Encrypted message: o\u000B:&amp;b_D.JRS\\\r\n    Decrypted message: Hello World!","title":"Won&#39;t decrypt to the same string","body":"<p>You need to reinitialize your <code>mixer</code> to produce the same sequence used during encryption. One easy way to do this without changing the <code>TransmogrifierChained</code> class is to just create a new instance for decryption:</p>\n<pre><code>public static void main(String[] args) {\n    long key = 123456;\n    TransmogrifierChained transmogrifier = new TransmogrifierChained(key);\n\n    String message = &quot;Hello World!&quot;;\n    System.out.println(&quot;Original message: &quot; + message);\n\n    String encrypted = transmogrifier.encrypt(message);\n    System.out.println(&quot;Encrypted message: &quot; + encrypted);\n\n    transmogrifier = new TransmogrifierChained(key); // new instance!\n    String decrypted = transmogrifier.decrypt(encrypted);\n    System.out.println(&quot;Decrypted message: &quot; + decrypted);\n}\n</code></pre>\n<p>Yields something like</p>\n<pre><code>Original message: Hello World!\nEncrypted message: o\u000B:&amp;b_D.JRS\\\nDecrypted message: Hello World!\n</code></pre>\n"}],"owner":{"account_id":23924614,"reputation":1,"user_id":17919871,"display_name":"astroprab"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679045259,"creation_date":1679044033,"question_id":75765635,"body_markdown":"```\r\nimport java.util.Random;\r\n\r\npublic class TransmogrifierChained {\r\n    private Random mixer;\r\n    private int xorValue;\r\n\r\n    public TransmogrifierChained(long key) {\r\n        mixer = new Random(key);\r\n        xorValue = mixer.nextInt() &amp; 0x7F;\r\n    }\r\n\r\n    public char mutate(char c) {\r\n        int asciiValue = (int) c;\r\n        int mutatedValue = asciiValue ^ xorValue;\r\n        xorValue = mixer.nextInt() &amp; 0x7F; // generate new xor value\r\n        return (char) mutatedValue;\r\n    }\r\n\r\n    public String mutate(String message) {\r\n        StringBuilder encrypted = new StringBuilder();\r\n        for (char c : message.toCharArray()) {\r\n            encrypted.append(mutate(c));\r\n        }\r\n        return encrypted.toString();\r\n    }\r\n\r\n    public String encrypt(String message) {\r\n        return mutate(message);\r\n    }\r\n\r\n    public String decrypt(String message) {\r\n        StringBuilder decrypted = new StringBuilder();\r\n        for (char c : message.toCharArray()) {\r\n            decrypted.append(mutate(c));\r\n        }\r\n        return decrypted.toString();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        long key = 123456;\r\n        TransmogrifierChained transmogrifier = new TransmogrifierChained(key);\r\n\r\n        String message = &quot;Hello World!&quot;;\r\n        System.out.println(&quot;Original message: &quot; + message);\r\n\r\n        String encrypted = transmogrifier.encrypt(message);\r\n        System.out.println(&quot;Encrypted message: &quot; + encrypted);\r\n\r\n        String decrypted = transmogrifier.decrypt(encrypted);\r\n        System.out.println(&quot;Decrypted message: &quot; + decrypted);\r\n    }\r\n}\r\n\r\n```\r\n\r\nHi guys my code outputs this:\r\n\r\n    Original message: Hello World!\r\n    Encrypted message: o:&amp;b_D.JRS\\\r\n    Decrypted message: *S=N&amp;QP39\r\n\r\n\r\n\r\n\r\nIt should output:\r\n\r\n    Original message: Hello World!\r\n    Encrypted message: -the correct encryption-\r\n    Decrypted message: Hello World!","title":"Won&#39;t decrypt to the same string","body":"<pre><code>import java.util.Random;\n\npublic class TransmogrifierChained {\n    private Random mixer;\n    private int xorValue;\n\n    public TransmogrifierChained(long key) {\n        mixer = new Random(key);\n        xorValue = mixer.nextInt() &amp; 0x7F;\n    }\n\n    public char mutate(char c) {\n        int asciiValue = (int) c;\n        int mutatedValue = asciiValue ^ xorValue;\n        xorValue = mixer.nextInt() &amp; 0x7F; // generate new xor value\n        return (char) mutatedValue;\n    }\n\n    public String mutate(String message) {\n        StringBuilder encrypted = new StringBuilder();\n        for (char c : message.toCharArray()) {\n            encrypted.append(mutate(c));\n        }\n        return encrypted.toString();\n    }\n\n    public String encrypt(String message) {\n        return mutate(message);\n    }\n\n    public String decrypt(String message) {\n        StringBuilder decrypted = new StringBuilder();\n        for (char c : message.toCharArray()) {\n            decrypted.append(mutate(c));\n        }\n        return decrypted.toString();\n    }\n\n    public static void main(String[] args) {\n        long key = 123456;\n        TransmogrifierChained transmogrifier = new TransmogrifierChained(key);\n\n        String message = &quot;Hello World!&quot;;\n        System.out.println(&quot;Original message: &quot; + message);\n\n        String encrypted = transmogrifier.encrypt(message);\n        System.out.println(&quot;Encrypted message: &quot; + encrypted);\n\n        String decrypted = transmogrifier.decrypt(encrypted);\n        System.out.println(&quot;Decrypted message: &quot; + decrypted);\n    }\n}\n\n</code></pre>\n<p>Hi guys my code outputs this:</p>\n<pre><code>Original message: Hello World!\nEncrypted message: o:&amp;b_D.JRS\\\nDecrypted message: *S=N&amp;QP39\n</code></pre>\n<p>It should output:</p>\n<pre><code>Original message: Hello World!\nEncrypted message: -the correct encryption-\nDecrypted message: Hello World!\n</code></pre>\n"},{"tags":["java","spring","spring-boot","annotations"],"comments":[{"owner":{"account_id":28040555,"reputation":1,"user_id":21418177,"display_name":"zuohx"},"score":0,"creation_date":1679106229,"post_id":75765752,"comment_id":133666763,"body_markdown":"clz.getClass().getAnnotation(A.class).annotationType().getAnnotation(B.class) works","body":"clz.getClass().getAnnotation(A.class).annotationType().getAn&zwnj;&#8203;notation(B.class) works"}],"owner":{"account_id":28040555,"reputation":1,"user_id":21418177,"display_name":"zuohx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679044912,"creation_date":1679044817,"question_id":75765752,"body_markdown":"I define a annotion A and its meta-annoation has B, then i write a class Clz, Clz add annotation A.\r\n\r\n```\r\n@B(value=&quot;sth&quot;)\r\npublic @interface A {\r\n}\r\n\r\n@A\r\npublic class Clz {\r\n}\r\n```\r\n\r\nis there any way to modify meta-annotation B value when bean Clz is created on spring\r\n\r\n\r\n1.I have tried using clz.getClass().getDeclaredAnnotation(A.class).getClass().getDeclaredAnnotation(B.class) \r\nto get meta-annotaion but result is null;\r\n\r\n2.then i use clz.getClass().getDeclaredAnnotation(B.class) to get B annotion but also fail\r\n","title":"How to modify meta-annotaion value","body":"<p>I define a annotion A and its meta-annoation has B, then i write a class Clz, Clz add annotation A.</p>\n<pre><code>@B(value=&quot;sth&quot;)\npublic @interface A {\n}\n\n@A\npublic class Clz {\n}\n</code></pre>\n<p>is there any way to modify meta-annotation B value when bean Clz is created on spring</p>\n<p>1.I have tried using clz.getClass().getDeclaredAnnotation(A.class).getClass().getDeclaredAnnotation(B.class)\nto get meta-annotaion but result is null;</p>\n<p>2.then i use clz.getClass().getDeclaredAnnotation(B.class) to get B annotion but also fail</p>\n"},{"tags":["java","postgresql","spring-boot","java-8"],"comments":[{"owner":{"account_id":300715,"reputation":1715,"user_id":608011,"display_name":"zulqarnain"},"score":0,"creation_date":1672302508,"post_id":74948712,"comment_id":132261786,"body_markdown":"Check the console/terminal to get the full error and post it if you are unable to resolve it. Also you don&#39;t need `CLOB` for first and last names.","body":"Check the console/terminal to get the full error and post it if you are unable to resolve it. Also you don&#39;t need <code>CLOB</code> for first and last names."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1672303119,"post_id":74948712,"comment_id":132261917,"body_markdown":"Also please remove `ComponentScan(&quot;personal&quot;)` it should not be there","body":"Also please remove <code>ComponentScan(&quot;personal&quot;)</code> it should not be there"},{"owner":{"account_id":22866981,"reputation":131,"user_id":17010647,"display_name":"Ksu"},"score":0,"creation_date":1672304616,"post_id":74948712,"comment_id":132262316,"body_markdown":"For CLOB data try add @Lob.","body":"For CLOB data try add @Lob."},{"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"score":0,"creation_date":1672305478,"post_id":74948712,"comment_id":132262513,"body_markdown":"@zulqarnain Hi! Thank you so much for this comment that alerts me of the problem. Basically the issue was my entity under column image. It says that column &quot;image&quot; is of type bytea but expression is of type smallint Hint: You will need to rewrite or cast the expression. To ask, what data type exactly should I declare in my entity to address this issue?","body":"@zulqarnain Hi! Thank you so much for this comment that alerts me of the problem. Basically the issue was my entity under column image. It says that column &quot;image&quot; is of type bytea but expression is of type smallint Hint: You will need to rewrite or cast the expression. To ask, what data type exactly should I declare in my entity to address this issue?"}],"answers":[{"tags":[],"owner":{"account_id":16078173,"reputation":139,"user_id":11604871,"display_name":"Tonykay"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1672313253,"creation_date":1672313253,"answer_id":74950543,"question_id":74948712,"body_markdown":"Idealy, you should save only path to your image in your database, after you have uploaded the file to a separate image storage.\r\n\r\nMake the image type String.","title":"How to fixed error 500 in postman from a post request?","body":"<p>Idealy, you should save only path to your image in your database, after you have uploaded the file to a separate image storage.</p>\n<p>Make the image type String.</p>\n"},{"tags":[],"owner":{"account_id":300715,"reputation":1715,"user_id":608011,"display_name":"zulqarnain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672322048,"creation_date":1672322048,"answer_id":74951993,"question_id":74948712,"body_markdown":"I normally save images as files and save the details in the DB. However if you still want to save it in the DB then you can change as follows:\r\n\r\n    @Lob\r\n    @Column(name = &quot;image&quot;)\r\n    private byte[] image;","title":"How to fixed error 500 in postman from a post request?","body":"<p>I normally save images as files and save the details in the DB. However if you still want to save it in the DB then you can change as follows:</p>\n<pre><code>@Lob\n@Column(name = &quot;image&quot;)\nprivate byte[] image;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10495831,"reputation":116,"user_id":7736119,"display_name":"Abdullateef Muibudeen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679044893,"creation_date":1679044893,"answer_id":75765768,"question_id":74948712,"body_markdown":"Adding to @Tonykay&#39;s answer, you can save your images/media files to resources like Google cloud storage or S3, you can then persist the URL into your database.","title":"How to fixed error 500 in postman from a post request?","body":"<p>Adding to @Tonykay's answer, you can save your images/media files to resources like Google cloud storage or S3, you can then persist the URL into your database.</p>\n"}],"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1679044893,"creation_date":1672301744,"question_id":74948712,"body_markdown":"I wonder if anyone got an insights regarding this error I got from postman below:\r\n\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-12-29T07:59:00.313+0000&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;message&quot;: &quot;could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement&quot;,\r\n    &quot;path&quot;: &quot;/v1/personal/add&quot;\r\n}\r\n```\r\n\r\nHere is My Controller Class:\r\n\r\nPersonalController.java\r\n\r\n```\r\n@PostMapping(&quot;/add&quot;)\r\npublic ResponseEntity &lt;PersonalResponseDto&gt; addPersonalInfo (@RequestBody final PersonalRequestDetailsDto personalRequestDetailsDto){\r\n    PersonalResponseDto dto = personalService.addPersonalInformation(personalRequestDetailsDto);\r\n    return ResponseEntity.ok(dto);\r\n}\r\n```\r\n\r\nHere is My Service Class:\r\n\r\nPersonalService.java\r\n\r\n```\r\npublic PersonalResponseDto addPersonalInformation(PersonalRequestDetailsDto personalRequestDetailsDto){\r\n\r\n       PersonalEntity personalEntity = personalMapper.toEntity(personalRequestDetailsDto);\r\n\r\n       PersonalEntity saveInfo = personalRepository.save(personalEntity);\r\n\r\n       return personalMapper.toDto(saveInfo);\r\n\r\n}\r\n```\r\n\r\nand here is my Entity class:\r\n\r\n```\r\n@Data\r\n@ComponentScan(&quot;personal&quot;)\r\n@NoArgsConstructor\r\n@Table(name = &quot;student_personal_information&quot;)\r\n@Entity\r\npublic class PersonalEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;lastname&quot;, columnDefinition = &quot;CLOB&quot;)\r\n    private String lastname;\r\n\r\n    @Column(name = &quot;firstname&quot;, columnDefinition = &quot;CLOB&quot;)\r\n    private String firstname;\r\n\r\n    @Column(name = &quot;middleinitial&quot;)\r\n    private String middleinitial;\r\n\r\n    @Column(name = &quot;age&quot;)\r\n    private Integer age;\r\n\r\n    @Column(name = &quot;image&quot;)\r\n    private Byte image;\r\n\r\n}\r\n```\r\n\r\nI&#39;d appreciate any help as to why I&#39;m getting the above error in postman.\r\n\r\nThank you.\r\n\r\nI wanted to add an information that would store to DB but i&#39;m getting an error.\r\n\r\nHere is my Request DTO:\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class PersonalRequestDetailsDto implements Serializable {\r\n\r\n\r\n    private static final long serialVersionUID = -7175623352146349491L;\r\n\r\n\r\n    @NotEmpty\r\n    private String lastname;\r\n\r\n    @NotNull\r\n    private String firstname;\r\n\r\n    @NotEmpty\r\n    private String middleinitial;\r\n\r\n    @NotNull\r\n    private Integer age;\r\n\r\n}\r\n```\r\n\r\n\r\nAddendum:\r\nUpon the advice of one commenter here, I learned that the main issue herein is my entity under column image. \r\n\r\nHere is the error I got:\r\n\r\n    column &quot;image&quot; is of type bytea but expression is of type smallint Hint: You will need to rewrite or cast the expression.\r\n\r\nTo ask, what data type exactly should I declare in my entity to address this issue?\r\n","title":"How to fixed error 500 in postman from a post request?","body":"<p>I wonder if anyone got an insights regarding this error I got from postman below:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-12-29T07:59:00.313+0000&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;message&quot;: &quot;could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement&quot;,\n    &quot;path&quot;: &quot;/v1/personal/add&quot;\n}\n</code></pre>\n<p>Here is My Controller Class:</p>\n<p>PersonalController.java</p>\n<pre><code>@PostMapping(&quot;/add&quot;)\npublic ResponseEntity &lt;PersonalResponseDto&gt; addPersonalInfo (@RequestBody final PersonalRequestDetailsDto personalRequestDetailsDto){\n    PersonalResponseDto dto = personalService.addPersonalInformation(personalRequestDetailsDto);\n    return ResponseEntity.ok(dto);\n}\n</code></pre>\n<p>Here is My Service Class:</p>\n<p>PersonalService.java</p>\n<pre><code>public PersonalResponseDto addPersonalInformation(PersonalRequestDetailsDto personalRequestDetailsDto){\n\n       PersonalEntity personalEntity = personalMapper.toEntity(personalRequestDetailsDto);\n\n       PersonalEntity saveInfo = personalRepository.save(personalEntity);\n\n       return personalMapper.toDto(saveInfo);\n\n}\n</code></pre>\n<p>and here is my Entity class:</p>\n<pre><code>@Data\n@ComponentScan(&quot;personal&quot;)\n@NoArgsConstructor\n@Table(name = &quot;student_personal_information&quot;)\n@Entity\npublic class PersonalEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @Column(name = &quot;lastname&quot;, columnDefinition = &quot;CLOB&quot;)\n    private String lastname;\n\n    @Column(name = &quot;firstname&quot;, columnDefinition = &quot;CLOB&quot;)\n    private String firstname;\n\n    @Column(name = &quot;middleinitial&quot;)\n    private String middleinitial;\n\n    @Column(name = &quot;age&quot;)\n    private Integer age;\n\n    @Column(name = &quot;image&quot;)\n    private Byte image;\n\n}\n</code></pre>\n<p>I'd appreciate any help as to why I'm getting the above error in postman.</p>\n<p>Thank you.</p>\n<p>I wanted to add an information that would store to DB but i'm getting an error.</p>\n<p>Here is my Request DTO:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class PersonalRequestDetailsDto implements Serializable {\n\n\n    private static final long serialVersionUID = -7175623352146349491L;\n\n\n    @NotEmpty\n    private String lastname;\n\n    @NotNull\n    private String firstname;\n\n    @NotEmpty\n    private String middleinitial;\n\n    @NotNull\n    private Integer age;\n\n}\n</code></pre>\n<p>Addendum:\nUpon the advice of one commenter here, I learned that the main issue herein is my entity under column image.</p>\n<p>Here is the error I got:</p>\n<pre><code>column &quot;image&quot; is of type bytea but expression is of type smallint Hint: You will need to rewrite or cast the expression.\n</code></pre>\n<p>To ask, what data type exactly should I declare in my entity to address this issue?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":405591,"reputation":6670,"user_id":774575,"accept_rate":78,"display_name":"mins"},"score":8,"creation_date":1414611570,"post_id":1097366,"comment_id":41885288,"body_markdown":"[This tutorial from Oracle](http://docs.oracle.com/javase/tutorial/uiswing/components/jcomponent.html#custompaintingapi) states: &quot;Always invoke repaint after revalidate&quot;. No explanation is provided though.","body":"<a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/jcomponent.html#custompaintingapi\" rel=\"nofollow noreferrer\">This tutorial from Oracle</a> states: &quot;Always invoke repaint after revalidate&quot;. No explanation is provided though."}],"answers":[{"tags":[],"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"down_vote_count":1,"up_vote_count":177,"is_accepted":true,"score":176,"last_activity_date":1679044764,"creation_date":1247053436,"answer_id":1097544,"question_id":1097366,"body_markdown":"You need to call `repaint()` and `revalidate()`. The first one tells Swing that an area of the window is dirty (which is necessary to erase the image of the old children removed by `removeAll()`); the second one tells the layout manager to recalculate the layout (which is necessary when adding components). This should cause *children* of the panel to repaint, but may not cause the panel itself to do so (see [this][1] for the list of repaint triggers).\r\n\r\nOn a more general note: rather than reusing the original panel, I&#39;d recommend building a new panel and swapping them at the parent.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/painting-140037.html#triggers","title":"Java Swing revalidate() vs repaint()","body":"<p>You need to call <code>repaint()</code> and <code>revalidate()</code>. The first one tells Swing that an area of the window is dirty (which is necessary to erase the image of the old children removed by <code>removeAll()</code>); the second one tells the layout manager to recalculate the layout (which is necessary when adding components). This should cause <em>children</em> of the panel to repaint, but may not cause the panel itself to do so (see <a href=\"http://www.oracle.com/technetwork/java/painting-140037.html#triggers\" rel=\"nofollow noreferrer\">this</a> for the list of repaint triggers).</p>\n<p>On a more general note: rather than reusing the original panel, I'd recommend building a new panel and swapping them at the parent.</p>\n"},{"tags":[],"owner":{"account_id":36166,"reputation":38839,"user_id":103043,"display_name":"akf"},"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1247053491,"creation_date":1247053491,"answer_id":1097549,"question_id":1097366,"body_markdown":"`revalidate` is called on a container once new components are added or old ones removed.  this call is an instruction to tell the layout manager to reset based on the new component list.  `revalidate` will trigger a call to repaint what the component thinks are &#39;dirty regions.&#39;  Obviously not all of the regions on your `JPanel` are considered dirty by the `RepaintManager`.\r\n\r\n `repaint` is used to tell a component to repaint itself.  It is often the case that you need to call this in order to cleanup conditions such as yours.","title":"Java Swing revalidate() vs repaint()","body":"<p><code>revalidate</code> is called on a container once new components are added or old ones removed.  this call is an instruction to tell the layout manager to reset based on the new component list.  <code>revalidate</code> will trigger a call to repaint what the component thinks are 'dirty regions.'  Obviously not all of the regions on your <code>JPanel</code> are considered dirty by the <code>RepaintManager</code>.</p>\n\n<p><code>repaint</code> is used to tell a component to repaint itself.  It is often the case that you need to call this in order to cleanup conditions such as yours.</p>\n"},{"tags":[],"owner":{"account_id":4402,"reputation":3143,"user_id":6591,"display_name":"Noel Grandin"},"down_vote_count":4,"up_vote_count":95,"is_accepted":false,"score":91,"last_activity_date":1265805987,"creation_date":1265805987,"answer_id":2236813,"question_id":1097366,"body_markdown":"Any time you do a remove() or a removeAll(), you should call\r\n\r\n      validate();\r\n      repaint();\r\n\r\nafter you have completed add()&#39;ing the new components.\r\n\r\nCalling validate() or revalidate() is mandatory when you do a remove() - see the relevant javadocs.\r\n\r\nMy own testing indicates that repaint() is also necessary. I&#39;m not sure exactly why.\r\n","title":"Java Swing revalidate() vs repaint()","body":"<p>Any time you do a remove() or a removeAll(), you should call</p>\n\n<pre><code>  validate();\n  repaint();\n</code></pre>\n\n<p>after you have completed add()'ing the new components.</p>\n\n<p>Calling validate() or revalidate() is mandatory when you do a remove() - see the relevant javadocs.</p>\n\n<p>My own testing indicates that repaint() is also necessary. I'm not sure exactly why.</p>\n"},{"tags":[],"owner":{"account_id":8340689,"reputation":75,"user_id":6266094,"accept_rate":100,"display_name":"Som Adhikari"},"down_vote_count":6,"up_vote_count":2,"is_accepted":false,"score":-4,"last_activity_date":1467714915,"creation_date":1467714915,"answer_id":38201232,"question_id":1097366,"body_markdown":"yes you need to call \r\n    repaint();\r\n    revalidate();\r\nwhen you call removeAll() then you have to call repaint() and revalidate()","title":"Java Swing revalidate() vs repaint()","body":"<p>yes you need to call \n    repaint();\n    revalidate();\nwhen you call removeAll() then you have to call repaint() and revalidate()</p>\n"},{"tags":[],"owner":{"account_id":7108780,"reputation":767,"user_id":5437524,"accept_rate":50,"display_name":"Antony Ng"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1520537113,"creation_date":1502897468,"answer_id":45717640,"question_id":1097366,"body_markdown":"`revalidate()` just request to layout the container, when you experienced simply call `revalidate()` works, it could be caused by the updating of child components bounds triggers the `repaint()` when their bounds are changed during the re-layout. In the case you mentioned, only component removed and no component bounds are changed, this case no `repaint()` is **&quot;accidentally&quot;** triggered.","title":"Java Swing revalidate() vs repaint()","body":"<p><code>revalidate()</code> just request to layout the container, when you experienced simply call <code>revalidate()</code> works, it could be caused by the updating of child components bounds triggers the <code>repaint()</code> when their bounds are changed during the re-layout. In the case you mentioned, only component removed and no component bounds are changed, this case no <code>repaint()</code> is <strong>\"accidentally\"</strong> triggered.</p>\n"}],"owner":{"account_id":41550,"reputation":13392,"user_id":120820,"accept_rate":100,"display_name":"William"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253240,"favorite_count":0,"down_vote_count":0,"up_vote_count":231,"accepted_answer_id":1097544,"answer_count":5,"score":231,"last_activity_date":1679044764,"creation_date":1247050711,"question_id":1097366,"body_markdown":"I&#39;m putting together a Swing application where I often want to replace the contents of a JPanel. To do this, I&#39;m calling `removeAll()`, then adding my new content, then calling `revalidate()`.\r\n\r\nHowever I&#39;m finding that the old content is still actually visible (though obscured by the the new content). If I add a call to `repaint()` in addition to `revalidate()`, it works as expected.\r\n\r\nI&#39;m sure on other occasions I&#39;ve experienced that just calling `revalidate()` is enough.\r\n\r\nSo basically my question is - should I need to call both functions and if not, when should I call each of them?","title":"Java Swing revalidate() vs repaint()","body":"<p>I'm putting together a Swing application where I often want to replace the contents of a JPanel. To do this, I'm calling <code>removeAll()</code>, then adding my new content, then calling <code>revalidate()</code>.</p>\n\n<p>However I'm finding that the old content is still actually visible (though obscured by the the new content). If I add a call to <code>repaint()</code> in addition to <code>revalidate()</code>, it works as expected.</p>\n\n<p>I'm sure on other occasions I've experienced that just calling <code>revalidate()</code> is enough.</p>\n\n<p>So basically my question is - should I need to call both functions and if not, when should I call each of them?</p>\n"},{"tags":["java","maven","git-bash","rpm"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1580821495,"post_id":60057976,"comment_id":106217270,"body_markdown":"Without more details on what you&#39;re building, we can&#39;t really help you. It sounds like the Maven build you&#39;re running contains Linux-specific parts (RPM is a Linux package manager), so it won&#39;t run on MacOS.","body":"Without more details on what you&#39;re building, we can&#39;t really help you. It sounds like the Maven build you&#39;re running contains Linux-specific parts (RPM is a Linux package manager), so it won&#39;t run on MacOS."},{"owner":{"account_id":12900360,"reputation":5,"user_id":9329414,"display_name":"TZR"},"score":0,"creation_date":1580821734,"post_id":60057976,"comment_id":106217393,"body_markdown":"@mark Yes, there is som Linux specific parts. So there is not any options to fix this?","body":"@mark Yes, there is som Linux specific parts. So there is not any options to fix this?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1580822187,"post_id":60057976,"comment_id":106217647,"body_markdown":"That depends, show us the POM and explain to us what the build is supposed to do, maybe a solution is available.","body":"That depends, show us the POM and explain to us what the build is supposed to do, maybe a solution is available."}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580821835,"creation_date":1580821835,"answer_id":60058170,"question_id":60057976,"body_markdown":"`rpmbuild` is a Red Hat Linux family specific tool for building RPMs - packages of applications.\r\n\r\nIt looks like during the build process you have maven plugin that calls thos `rpmbuild` tool that is obviously is not present on Mac.\r\n\r\nNow, you can use maven profiles by os so that this plugin won&#39;t be invoked at all on macos.\r\n\r\n~~~\r\n&lt;profiles&gt;\r\n  &lt;profile&gt;\r\n    &lt;activation&gt;\r\n      &lt;os&gt;\r\n        &lt;family&gt;linux&lt;/family&gt;\r\n      &lt;/os&gt;\r\n    &lt;/activation&gt;\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          ...  &lt;!-- here comes your rpm plugin --&gt; \r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    ...\r\n  &lt;/profile&gt;\r\n&lt;/profiles&gt;\r\n~~~\r\n\r\nYou might also be required to enclose some other plugins that maybe use the RPM generated during this step... It really depends on your project, hopefully it won&#39;t be an obstacle to development process of the project (I assume that you&#39;re trying to compile stuff, run test, and do some development tasks)","title":"RPM build executable &#39;/usr/bin/rpmbuild&#39; not found on this system (mac)","body":"<p><code>rpmbuild</code> is a Red Hat Linux family specific tool for building RPMs - packages of applications.</p>\n\n<p>It looks like during the build process you have maven plugin that calls thos <code>rpmbuild</code> tool that is obviously is not present on Mac.</p>\n\n<p>Now, you can use maven profiles by os so that this plugin won't be invoked at all on macos.</p>\n\n<pre><code>&lt;profiles&gt;\n  &lt;profile&gt;\n    &lt;activation&gt;\n      &lt;os&gt;\n        &lt;family&gt;linux&lt;/family&gt;\n      &lt;/os&gt;\n    &lt;/activation&gt;\n    &lt;build&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          ...  &lt;!-- here comes your rpm plugin --&gt; \n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/build&gt;\n    ...\n  &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n\n<p>You might also be required to enclose some other plugins that maybe use the RPM generated during this step... It really depends on your project, hopefully it won't be an obstacle to development process of the project (I assume that you're trying to compile stuff, run test, and do some development tasks)</p>\n"},{"tags":[],"owner":{"account_id":13542903,"reputation":61,"user_id":9770111,"display_name":"Neha Tripathi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679044713,"creation_date":1679044713,"answer_id":75765740,"question_id":60057976,"body_markdown":"You need to install rpm on your Mac system for this to work. \r\n\r\nRun the below command in the terminal:\r\n\r\n     brew install rpm \r\n\r\nThis will install the rpmbuild for your MacOS. \r\nAlthough the build will still fail when running from IntelliJ [It is for me as this will install rpmbuild in /usr/local/bin and not in /usr/local].\r\n\r\nHowever, you can then proceed to run the maven command from the terminal [IntelliJ, gitbash or otherwise]\r\n","title":"RPM build executable &#39;/usr/bin/rpmbuild&#39; not found on this system (mac)","body":"<p>You need to install rpm on your Mac system for this to work.</p>\n<p>Run the below command in the terminal:</p>\n<pre><code> brew install rpm \n</code></pre>\n<p>This will install the rpmbuild for your MacOS.\nAlthough the build will still fail when running from IntelliJ [It is for me as this will install rpmbuild in /usr/local/bin and not in /usr/local].</p>\n<p>However, you can then proceed to run the maven command from the terminal [IntelliJ, gitbash or otherwise]</p>\n"}],"owner":{"account_id":12900360,"reputation":5,"user_id":9329414,"display_name":"TZR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679044713,"creation_date":1580821085,"question_id":60057976,"body_markdown":"Im trying to install maven dependencies through the command &#39;mvn clean install&#39; in gitbash. I get this error:\r\n\r\n[Error message][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pmpyd.png\r\n\r\nIs anyone familiar with rpm on mac? I have tried to install rpm through homebrew, but it doesn&#39;t seem to fix the problem. ","title":"RPM build executable &#39;/usr/bin/rpmbuild&#39; not found on this system (mac)","body":"<p>Im trying to install maven dependencies through the command 'mvn clean install' in gitbash. I get this error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/pmpyd.png\" rel=\"nofollow noreferrer\">Error message</a></p>\n\n<p>Is anyone familiar with rpm on mac? I have tried to install rpm through homebrew, but it doesn't seem to fix the problem. </p>\n"},{"tags":["java","wildfly","derby","jcr","jackrabbit"],"comments":[{"owner":{"account_id":65826,"reputation":16198,"user_id":193453,"display_name":"Bryan Pendleton"},"score":0,"creation_date":1679183294,"post_id":75765606,"comment_id":133676286,"body_markdown":"When it says &quot;see the next exception for details&quot;, do this: https://cwiki.apache.org/confluence/display/DERBY/UnwindExceptionChain","body":"When it says &quot;see the next exception for details&quot;, do this: <a href=\"https://cwiki.apache.org/confluence/display/DERBY/UnwindExceptionChain\" rel=\"nofollow noreferrer\">cwiki.apache.org/confluence/display/DERBY/UnwindExceptionCha&zwnj;&#8203;in</a>"}],"owner":{"account_id":10422812,"reputation":1,"user_id":12123710,"display_name":"Elias"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679043914,"creation_date":1679043914,"question_id":75765606,"body_markdown":"I want to upgrade an old Jackrabbit repo (2.2.5 version on jBoss 5.1.0).\r\nA few years ago (2018) I had done a test and was able to run this repo directly on the standalone version at the time.\r\nBut here, with Wildly it seems that Derby is the problem.\r\nHe is used as a PersistenceManager.\r\n\r\nLogs:\r\n\r\n\r\n```\r\n2023-03-16 09:30:01,749 ERROR [stderr] (MSC service thread 1-2) Thu Mar 16 09:30:01 CET 2023:\r\n2023-03-16 09:30:01,749 ERROR [stderr] (MSC service thread 1-2) Shutting down instance a816c00e-0186-e98a-3096-000004cb4670 on database directory /var/jcr/JCR/version/db with class loader ModuleClassLoader for Module &quot;deployment.jackrabbit-jca-2.21.14.rar&quot; from Service Module Loader \r\n2023-03-16 09:30:01,774 ERROR [stderr] (MSC service thread 1-2) Thu Mar 16 09:30:01 CET 2023 Thread[MSC service thread 1-2,5,main] Cleanup action starting\r\n2023-03-16 09:30:01,774 ERROR [stderr] (MSC service thread 1-2) java.sql.SQLException: Failed to start database &#39;/var/jcr/JCR/version/db&#39; with class loader ModuleClassLoader for Module &quot;deployment.jackrabbit-jca-2.21.14.rar&quot; from Service Module Loader, see the next exception for details.\r\n2023-03-16 09:30:01,775 ERROR [stderr] (MSC service thread 1-2)         at deployment.jackrabbit-jca-2.21.14.rar//org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)\r\n2023-03-16 09:30:01,775 ERROR [stderr] (MSC service thread 1-2)         at deployment.jackrabbit-jca-2.21.14.rar//org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)\r\n2023-03-16 09:30:01,775 ERROR [stderr] (MSC service thread 1-2)         at deployment.jackrabbit-jca-2.21.14.rar//org.apache.derby.impl.jdbc.Util.seeNextException(Unknown Source)\r\n2023-03-16 09:30:01,775 ERROR [stderr] (MSC service thread 1-2)         at deployment.jackrabbit-jca-2.21.14.rar//org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(Unknown Source)\r\n2023-03-16 09:30:01,775 ERROR [stderr] (MSC service thread 1-2)         at deployment.jackrabbit-jca-2.21.14.rar//org.apache.derby.impl.jdbc.EmbedConnection.&lt;init&gt;(Unknown Source)\r\n2023-03-16 09:30:01,775 ERROR [stderr] (MSC service thread 1-2)         at deployment.jackrabbit-jca-2.21.14.rar//org.apache.derby.jdbc.InternalDriver$1.run(Unknown Source)\r\n2023-03-16 09:30:01,775 ERROR [stderr] (MSC service thread 1-2)         at deployment.jackrabbit-jca-2.21.14.rar//org.apache.derby.jdbc.InternalDriver$1.run(Unknown Source)\r\n2023-03-16 09:30:01,775 ERROR [stderr] (MSC service thread 1-2)         at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n2023-03-16 09:30:01,776 ERROR [stderr] (MSC service thread 1-2)         at deployment.jackrabbit-jca-2.21.14.rar//org.apache.derby.jdbc.InternalDriver.getNewEmbedConnection(Unknown Source)\r\n2023-03-16 09:30:01,776 ERROR [stderr] (MSC service thread 1-2)         at deployment.jackrabbit-jca-2.21.14.rar//org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)\r\n2023-03-16 09:30:01,776 ERROR [stderr] (MSC service thread 1-2)         at deployment.jackrabbit-jca-2.21.14.rar//org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)\r\n2023-03-16 09:30:01,776 ERROR [stderr] (MSC service thread 1-2)         at deployment.jackrabbit-jca-2.21.14.rar//org.apache.derby.jdbc.AutoloadedDriver.connect(Unknown Source)\r\n```\r\n\r\nVersionning section of my repository.xml\r\n\r\n    &lt;Versioning rootPath=&quot;${rep.home}/version&quot;&gt;\r\n\r\n        &lt;FileSystem class=&quot;org.apache.jackrabbit.core.fs.local.LocalFileSystem&quot;&gt;\r\n            &lt;param name=&quot;path&quot; value=&quot;${rep.home}/version&quot; /&gt;\r\n        &lt;/FileSystem&gt;\r\n\r\n\r\n        &lt;PersistenceManager class=&quot;org.apache.jackrabbit.core.persistence.pool.DerbyPersistenceManager&quot;&gt;\r\n          &lt;param name=&quot;url&quot; value=&quot;jdbc:derby:${rep.home}/version/db;create=true&quot;/&gt;\r\n          &lt;param name=&quot;schemaObjectPrefix&quot; value=&quot;version_&quot;/&gt;\r\n        &lt;/PersistenceManager&gt;\r\n    &lt;/Versioning&gt;\r\n\r\nConcerning the Derby log file I have an error:\r\njava.io.FileNotFoundException: derby.log (Permission denied)\r\nI couldn&#39;t find the path in the documentation or in the configuration and I couldn&#39;t intercept the log file with lsof.\r\n\r\nI thought it was a JDBC driver problem but it&#39;s the built-in drivers.\r\nI also thought about the version of the DB but in soft upgrade there is nothing special to do and it should be able to open it and preserve the compatibility with old versions of Derby.\r\n\r\n(At first I had a permission error on the files in &quot;/var/jcr/JCR/version/db&quot; but it is fixed.\r\nI tried several versions of Jackrabbit but without success.)\r\n\r\nThanks a lot for your help","title":"Apache Derby (10.14.2.0) Exception with Jackrabbit_JCA 2.21.14 and Wildfly 26.1.2","body":"<p>I want to upgrade an old Jackrabbit repo (2.2.5 version on jBoss 5.1.0).\nA few years ago (2018) I had done a test and was able to run this repo directly on the standalone version at the time.\nBut here, with Wildly it seems that Derby is the problem.\nHe is used as a PersistenceManager.</p>\n<p>Logs:</p>\n<pre><code>2023-03-16 09:30:01,749 ERROR [stderr] (MSC service thread 1-2) Thu Mar 16 09:30:01 CET 2023:\n2023-03-16 09:30:01,749 ERROR [stderr] (MSC service thread 1-2) Shutting down instance a816c00e-0186-e98a-3096-000004cb4670 on database directory /var/jcr/JCR/version/db with class loader ModuleClassLoader for Module &quot;deployment.jackrabbit-jca-2.21.14.rar&quot; from Service Module Loader \n2023-03-16 09:30:01,774 ERROR [stderr] (MSC service thread 1-2) Thu Mar 16 09:30:01 CET 2023 Thread[MSC service thread 1-2,5,main] Cleanup action starting\n2023-03-16 09:30:01,774 ERROR [stderr] (MSC service thread 1-2) java.sql.SQLException: Failed to start database '/var/jcr/JCR/version/db' with class loader ModuleClassLoader for Module &quot;deployment.jackrabbit-jca-2.21.14.rar&quot; from Service Module Loader, see the next exception for details.\n2023-03-16 09:30:01,775 ERROR [stderr] (MSC service thread 1-2)         at deployment.jackrabbit-jca-2.21.14.rar//org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)\n2023-03-16 09:30:01,775 ERROR [stderr] (MSC service thread 1-2)         at deployment.jackrabbit-jca-2.21.14.rar//org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)\n2023-03-16 09:30:01,775 ERROR [stderr] (MSC service thread 1-2)         at deployment.jackrabbit-jca-2.21.14.rar//org.apache.derby.impl.jdbc.Util.seeNextException(Unknown Source)\n2023-03-16 09:30:01,775 ERROR [stderr] (MSC service thread 1-2)         at deployment.jackrabbit-jca-2.21.14.rar//org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(Unknown Source)\n2023-03-16 09:30:01,775 ERROR [stderr] (MSC service thread 1-2)         at deployment.jackrabbit-jca-2.21.14.rar//org.apache.derby.impl.jdbc.EmbedConnection.&lt;init&gt;(Unknown Source)\n2023-03-16 09:30:01,775 ERROR [stderr] (MSC service thread 1-2)         at deployment.jackrabbit-jca-2.21.14.rar//org.apache.derby.jdbc.InternalDriver$1.run(Unknown Source)\n2023-03-16 09:30:01,775 ERROR [stderr] (MSC service thread 1-2)         at deployment.jackrabbit-jca-2.21.14.rar//org.apache.derby.jdbc.InternalDriver$1.run(Unknown Source)\n2023-03-16 09:30:01,775 ERROR [stderr] (MSC service thread 1-2)         at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n2023-03-16 09:30:01,776 ERROR [stderr] (MSC service thread 1-2)         at deployment.jackrabbit-jca-2.21.14.rar//org.apache.derby.jdbc.InternalDriver.getNewEmbedConnection(Unknown Source)\n2023-03-16 09:30:01,776 ERROR [stderr] (MSC service thread 1-2)         at deployment.jackrabbit-jca-2.21.14.rar//org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)\n2023-03-16 09:30:01,776 ERROR [stderr] (MSC service thread 1-2)         at deployment.jackrabbit-jca-2.21.14.rar//org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)\n2023-03-16 09:30:01,776 ERROR [stderr] (MSC service thread 1-2)         at deployment.jackrabbit-jca-2.21.14.rar//org.apache.derby.jdbc.AutoloadedDriver.connect(Unknown Source)\n</code></pre>\n<p>Versionning section of my repository.xml</p>\n<pre><code>&lt;Versioning rootPath=&quot;${rep.home}/version&quot;&gt;\n\n    &lt;FileSystem class=&quot;org.apache.jackrabbit.core.fs.local.LocalFileSystem&quot;&gt;\n        &lt;param name=&quot;path&quot; value=&quot;${rep.home}/version&quot; /&gt;\n    &lt;/FileSystem&gt;\n\n\n    &lt;PersistenceManager class=&quot;org.apache.jackrabbit.core.persistence.pool.DerbyPersistenceManager&quot;&gt;\n      &lt;param name=&quot;url&quot; value=&quot;jdbc:derby:${rep.home}/version/db;create=true&quot;/&gt;\n      &lt;param name=&quot;schemaObjectPrefix&quot; value=&quot;version_&quot;/&gt;\n    &lt;/PersistenceManager&gt;\n&lt;/Versioning&gt;\n</code></pre>\n<p>Concerning the Derby log file I have an error:\njava.io.FileNotFoundException: derby.log (Permission denied)\nI couldn't find the path in the documentation or in the configuration and I couldn't intercept the log file with lsof.</p>\n<p>I thought it was a JDBC driver problem but it's the built-in drivers.\nI also thought about the version of the DB but in soft upgrade there is nothing special to do and it should be able to open it and preserve the compatibility with old versions of Derby.</p>\n<p>(At first I had a permission error on the files in &quot;/var/jcr/JCR/version/db&quot; but it is fixed.\nI tried several versions of Jackrabbit but without success.)</p>\n<p>Thanks a lot for your help</p>\n"},{"tags":["java","spring-boot","tomcat","grails","keycloak"],"answers":[{"tags":[],"owner":{"account_id":2630770,"reputation":550,"user_id":2276776,"display_name":"Hardik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679043888,"creation_date":1679043888,"answer_id":75765600,"question_id":75720184,"body_markdown":"After searching couple solutions found the fixes for this issue. If anyone facing same as above issue with keylcoak or spring security you can use below code at tomcat level.\r\n\r\n1. Add below code into your Contact.xml file. (Tomcat-&gt;Conf-&gt;Contact.xml)\r\n&lt;!-- REWRITE VALVE --&gt;\r\n    &lt;Valve className=&quot;org.apache.catalina.valves.rewrite.RewriteValve&quot; /&gt;\r\n2. Add rewrite.config file in your WEB-INF folder. Add below code in this config file.\r\n&lt;!-- redirect to the /web/index --&gt;\r\n\r\n&gt; RewriteCond %{REQUEST_URI} ^/$&lt;br&gt;\r\nRewriteRule ^/(.*)$ /web/index\r\n\r\nThis way you can redirect the URL like http://localhost:9090 to HTTP://localhost:9090/web/index\r\n\r\nThanks","title":"Keycloak 19 Not loading client url like &quot;http://localhost:9090/&quot; --&gt; Index.jsp file 404 (ON ROOT Dir of Tomcat)","body":"<p>After searching couple solutions found the fixes for this issue. If anyone facing same as above issue with keylcoak or spring security you can use below code at tomcat level.</p>\n<ol>\n<li>Add below code into your Contact.xml file. (Tomcat-&gt;Conf-&gt;Contact.xml)</li>\n</ol>\n\n<pre><code>&lt;Valve className=&quot;org.apache.catalina.valves.rewrite.RewriteValve&quot; /&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Add rewrite.config file in your WEB-INF folder. Add below code in this config file.</li>\n</ol>\n\n<blockquote>\n<p>RewriteCond %{REQUEST_URI} ^/$<br>\nRewriteRule ^/(.*)$ /web/index</p>\n</blockquote>\n<p>This way you can redirect the URL like http://localhost:9090 to HTTP://localhost:9090/web/index</p>\n<p>Thanks</p>\n"}],"owner":{"account_id":2630770,"reputation":550,"user_id":2276776,"display_name":"Hardik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679043888,"creation_date":1678700612,"question_id":75720184,"body_markdown":"I am facing one issue with Keycloak Security. I have developed one Grails application and Integrated Keycloak for Authentication. I am facing one problem when I deployed the war file as ROOT dir of Tomcat like ROOT.war. It should open when I enter the URL &quot;HTTP://localhost:9090/&quot; in the browser.\r\n\r\nConfiguration did as below:\r\nKeycloak admin URL: HTTP://localhost:8080/\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xdF8d.png\r\n\r\n\r\n\r\nWhen I entered in browser like HTTP://localhost:9090/\r\nIt is throwing 404 and showing a blank white page in Browser. But when I entered HTTP://localhost:9090/web --&gt; It is loading the page. I have already set index.gsp in root directory. but it is not loading. \r\n\r\nNote: If I remove the keycloak dependency and load the application then It is working fine.\r\n\r\nPlease help if anyone has fixed this type of issue.\r\n\r\nThanks,\r\nHardik","title":"Keycloak 19 Not loading client url like &quot;http://localhost:9090/&quot; --&gt; Index.jsp file 404 (ON ROOT Dir of Tomcat)","body":"<p>I am facing one issue with Keycloak Security. I have developed one Grails application and Integrated Keycloak for Authentication. I am facing one problem when I deployed the war file as ROOT dir of Tomcat like ROOT.war. It should open when I enter the URL &quot;HTTP://localhost:9090/&quot; in the browser.</p>\n<p>Configuration did as below:\nKeycloak admin URL: HTTP://localhost:8080/\n<a href=\"https://i.stack.imgur.com/xdF8d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xdF8d.png\" alt=\"enter image description here\" /></a></p>\n<p>When I entered in browser like HTTP://localhost:9090/\nIt is throwing 404 and showing a blank white page in Browser. But when I entered HTTP://localhost:9090/web --&gt; It is loading the page. I have already set index.gsp in root directory. but it is not loading.</p>\n<p>Note: If I remove the keycloak dependency and load the application then It is working fine.</p>\n<p>Please help if anyone has fixed this type of issue.</p>\n<p>Thanks,\nHardik</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1678437058,"post_id":75693746,"comment_id":133535627,"body_markdown":"How would you expect all those to fit on the screen, next to each other? I suspect there wouldn&#39;t even be room for &quot;Sun Mon Tue Wed Thu Fri Sat&quot; without it being really squashed on most devices.","body":"How would you expect all those to fit on the screen, next to each other? I suspect there wouldn&#39;t even be room for &quot;Sun Mon Tue Wed Thu Fri Sat&quot; without it being really squashed on most devices."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1678451501,"post_id":75693746,"comment_id":133539560,"body_markdown":"You may be happier with [another date picker library](https://android-arsenal.com/tag/27?sort=created).","body":"You may be happier with <a href=\"https://android-arsenal.com/tag/27?sort=created\" rel=\"nofollow noreferrer\">another date picker library</a>."}],"answers":[{"tags":[],"owner":{"account_id":4885279,"reputation":51,"user_id":3937935,"display_name":"Ali.M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679043546,"creation_date":1678967731,"answer_id":75755925,"question_id":75693746,"body_markdown":"Update 17 March\r\n-\r\nWell, as one of the users gave negative vote for the answer, I did some research and checked documentation, I found the following solution. \r\nFirst you make an instance of *DatePickerDialog*\r\n\r\n    DatePickerDialog datePickerDialog = new DatePickerDialog(\r\n        this,\r\n        new DatePickerDialog.OnDateSetListener() {\r\n            @Override\r\n            public void onDateSet(DatePicker datePicker, int year, int month, int dayOfMonth) {\r\n                // Handle the selected date\r\n            }\r\n        },\r\n        year, month, dayOfMonth\r\n    );\r\n\r\nThen get the *DatePicker* instance.\r\n\r\n    DatePicker datePicker = datePickerDialog.getDatePicker();\r\n\r\nNow in this part you have to create your date format \r\n\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;EEEE, MMMM dd, yyyy&quot;, Locale.getDefault());\r\n\r\nNote that EEEE stands for the week full name. Check the documentation [here][1].\r\n\r\nNow apply the pattern to the *DatePicker* and show the dialog.\r\n\r\ndatePicker.setDateFormatString(dateFormat.toPattern());\r\ndatePickerDialog.show();\r\n\r\n-----------------------------\r\nOld Answer\r\n\r\nI&#39;m not sure about the solution. I&#39;m writing from mind. Try to set *Locale* it may work.\r\nAfter creation of your datepicker, create a new *Locale* and then apply it to your datepicker.\r\nLooks like:\r\n\r\n    Locale locale = new Locale(&quot;en&quot;, &quot;US&quot;);\r\n    datePicker.setLocale(locale);\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/icu/text/SimpleDateFormat\r\n","title":"Android DatePicker show full day names instead of short names","body":"<h2>Update 17 March</h2>\n<p>Well, as one of the users gave negative vote for the answer, I did some research and checked documentation, I found the following solution.\nFirst you make an instance of <em>DatePickerDialog</em></p>\n<pre><code>DatePickerDialog datePickerDialog = new DatePickerDialog(\n    this,\n    new DatePickerDialog.OnDateSetListener() {\n        @Override\n        public void onDateSet(DatePicker datePicker, int year, int month, int dayOfMonth) {\n            // Handle the selected date\n        }\n    },\n    year, month, dayOfMonth\n);\n</code></pre>\n<p>Then get the <em>DatePicker</em> instance.</p>\n<pre><code>DatePicker datePicker = datePickerDialog.getDatePicker();\n</code></pre>\n<p>Now in this part you have to create your date format</p>\n<pre><code>SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;EEEE, MMMM dd, yyyy&quot;, Locale.getDefault());\n</code></pre>\n<p>Note that EEEE stands for the week full name. Check the documentation <a href=\"https://developer.android.com/reference/android/icu/text/SimpleDateFormat\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Now apply the pattern to the <em>DatePicker</em> and show the dialog.</p>\n<p>datePicker.setDateFormatString(dateFormat.toPattern());\ndatePickerDialog.show();</p>\n<hr />\n<p>Old Answer</p>\n<p>I'm not sure about the solution. I'm writing from mind. Try to set <em>Locale</em> it may work.\nAfter creation of your datepicker, create a new <em>Locale</em> and then apply it to your datepicker.\nLooks like:</p>\n<pre><code>Locale locale = new Locale(&quot;en&quot;, &quot;US&quot;);\ndatePicker.setLocale(locale);\n</code></pre>\n"}],"owner":{"account_id":12725337,"reputation":351,"user_id":9244109,"display_name":"Nikunj Ramani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679043546,"creation_date":1678436803,"question_id":75693746,"body_markdown":"Is it possible to show full week day names, instead of the short ones? When showing the calendar.\r\n\r\nI mean instead of:\r\n\r\nS  M  T  W  T  F  S\r\n\r\nShow these:\r\n\r\nSunday  Monday  Tuesday  Wednesday  Thursday  Friday  Santurday\r\n\r\n[![enter image description here][1]][1]\r\n\r\ni have look into documentation but not able to find any suitable methods to update week name\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3qhyx.png","title":"Android DatePicker show full day names instead of short names","body":"<p>Is it possible to show full week day names, instead of the short ones? When showing the calendar.</p>\n<p>I mean instead of:</p>\n<p>S  M  T  W  T  F  S</p>\n<p>Show these:</p>\n<p>Sunday  Monday  Tuesday  Wednesday  Thursday  Friday  Santurday</p>\n<p><a href=\"https://i.stack.imgur.com/3qhyx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3qhyx.png\" alt=\"enter image description here\" /></a></p>\n<p>i have look into documentation but not able to find any suitable methods to update week name</p>\n"},{"tags":["java","functional-programming","java-8"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1414778969,"post_id":26679628,"comment_id":41960560,"body_markdown":"I don&#39;t see how you can chain bifunctions to start with; the result of a bifunction is a single argument, how do you intend to chain it into another one?","body":"I don&#39;t see how you can chain bifunctions to start with; the result of a bifunction is a single argument, how do you intend to chain it into another one?"}],"answers":[{"tags":[],"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414784250,"creation_date":1414784250,"answer_id":26682203,"question_id":26679628,"body_markdown":"Where should the WfParams come from for the invocation of `wait`?  If you mean to reuse the same WfParams for all the functions calls, just put WfParams as a class member variable instead of passing it to each function.  \r\n\r\n\tclass Wf {\r\n\t\tprivate final WfParams params;\r\n\r\n\t\tpublic Wf(WfParams params) {\r\n\t\t\tthis.params = params;\r\n\t\t}\r\n\t\t\r\n\t\tUnaryOperator&lt;RemoteWebDriver&gt; init = this::init;\r\n\t\tUnaryOperator&lt;RemoteWebDriver&gt; wait = this::wait;\r\n\t\t\r\n\t\tFunction&lt;RemoteWebDriver,RemoteWebDriver&gt; chain = init.andThen(wait);\r\n\t\t\r\n\t\tRemoteWebDriver init(RemoteWebDriver d) {\r\n\t\t\t// can use WfParams here\r\n\t\t\treturn d;\r\n\t\t}\r\n\t\t\r\n\t\tRemoteWebDriver wait(RemoteWebDriver d) {\r\n\t\t\t// can use WfParams here\t\t\t\r\n\t\t\treturn d;\r\n\t\t}\r\n\t\t\r\n\t\tprivate void start() {\r\n\t\t\tchain.apply(null);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew Wf(new WfParams()).start();\r\n\t\t}\t\r\n\t}\r\n\r\nIs there a particular reason you want to use function chaining like that?  Why not simply call `init(...); wait(...);` from `start()`?","title":"How to chain BiFunctions?","body":"<p>Where should the WfParams come from for the invocation of <code>wait</code>?  If you mean to reuse the same WfParams for all the functions calls, just put WfParams as a class member variable instead of passing it to each function.  </p>\n\n<pre><code>class Wf {\n    private final WfParams params;\n\n    public Wf(WfParams params) {\n        this.params = params;\n    }\n\n    UnaryOperator&lt;RemoteWebDriver&gt; init = this::init;\n    UnaryOperator&lt;RemoteWebDriver&gt; wait = this::wait;\n\n    Function&lt;RemoteWebDriver,RemoteWebDriver&gt; chain = init.andThen(wait);\n\n    RemoteWebDriver init(RemoteWebDriver d) {\n        // can use WfParams here\n        return d;\n    }\n\n    RemoteWebDriver wait(RemoteWebDriver d) {\n        // can use WfParams here            \n        return d;\n    }\n\n    private void start() {\n        chain.apply(null);\n    }\n\n    public static void main(String[] args) {\n        new Wf(new WfParams()).start();\n    }   \n}\n</code></pre>\n\n<p>Is there a particular reason you want to use function chaining like that?  Why not simply call <code>init(...); wait(...);</code> from <code>start()</code>?</p>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1414790345,"creation_date":1414790345,"answer_id":26683555,"question_id":26679628,"body_markdown":"Chaining of one `Function` to another works naturally because the return value of the first function is passed as the argument to the next function, and that function&#39;s return value is passed as the argument to the subsequent function, and so forth. This doesn&#39;t work naturally with `BiFunction` because they take two arguments. The first argument would be the return value from the previous function, but what would the second argument be? It also explains why `BiFunction` allows chaining with `andThen` to a `Function` instead of to another `BiFunction`.\r\n\r\nThis suggests, however, that it would be possible to chain one `BiFunction` to another if there were some way of providing the value for second argument. This can be done by creating a helper function that stores the value for the second argument in a local variable. Then, a `BiFunction` can be converted into a `Function` by capturing that local variable from the environment and using it as the second argument.\r\n\r\nHere&#39;s what that would look like.\r\n\r\n    BiFunction&lt;RemoteWebDriver, WfParams, RemoteWebDriver&gt; chainWanted = this::chainHelper;\r\n    \r\n    RemoteWebDriver chainHelper(RemoteWebDriver driver, WfParams params) {\r\n        return\r\n            init.andThen(rwd -&gt; wait.apply(rwd, params))\r\n                .apply(driver, params);\r\n    }\r\n\r\n    // ...\r\n\r\n    chainWanted.apply(driver, params);\r\n\r\nThe `chainHelper` method holds the `params` argument for later capture. We call `init.andThen()` in order to do the chaining. But this requires a `Function` whereas `wait` is a `BiFunction`. Instead of using a method reference `this::wait` we use the lambda expression\r\n\r\n    rwd -&gt; wait.apply(rwd, params)\r\n\r\nwhich captures `params` from the lexical environment. This gives a lambda expression that takes a single argument and returns a single value, so it&#39;s now a `Function` that wraps the `wait` which is a `BiFunction`. This is an example of *partial application* or *currying*. Finally, we call the resulting `BiFunction` using `apply()`, passing the original arguments.\r\n","title":"How to chain BiFunctions?","body":"<p>Chaining of one <code>Function</code> to another works naturally because the return value of the first function is passed as the argument to the next function, and that function's return value is passed as the argument to the subsequent function, and so forth. This doesn't work naturally with <code>BiFunction</code> because they take two arguments. The first argument would be the return value from the previous function, but what would the second argument be? It also explains why <code>BiFunction</code> allows chaining with <code>andThen</code> to a <code>Function</code> instead of to another <code>BiFunction</code>.</p>\n\n<p>This suggests, however, that it would be possible to chain one <code>BiFunction</code> to another if there were some way of providing the value for second argument. This can be done by creating a helper function that stores the value for the second argument in a local variable. Then, a <code>BiFunction</code> can be converted into a <code>Function</code> by capturing that local variable from the environment and using it as the second argument.</p>\n\n<p>Here's what that would look like.</p>\n\n<pre><code>BiFunction&lt;RemoteWebDriver, WfParams, RemoteWebDriver&gt; chainWanted = this::chainHelper;\n\nRemoteWebDriver chainHelper(RemoteWebDriver driver, WfParams params) {\n    return\n        init.andThen(rwd -&gt; wait.apply(rwd, params))\n            .apply(driver, params);\n}\n\n// ...\n\nchainWanted.apply(driver, params);\n</code></pre>\n\n<p>The <code>chainHelper</code> method holds the <code>params</code> argument for later capture. We call <code>init.andThen()</code> in order to do the chaining. But this requires a <code>Function</code> whereas <code>wait</code> is a <code>BiFunction</code>. Instead of using a method reference <code>this::wait</code> we use the lambda expression</p>\n\n<pre><code>rwd -&gt; wait.apply(rwd, params)\n</code></pre>\n\n<p>which captures <code>params</code> from the lexical environment. This gives a lambda expression that takes a single argument and returns a single value, so it's now a <code>Function</code> that wraps the <code>wait</code> which is a <code>BiFunction</code>. This is an example of <em>partial application</em> or <em>currying</em>. Finally, we call the resulting <code>BiFunction</code> using <code>apply()</code>, passing the original arguments.</p>\n"},{"tags":[],"owner":{"account_id":4132184,"reputation":1939,"user_id":3409387,"accept_rate":100,"display_name":"anandbibek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602384270,"creation_date":1602361487,"answer_id":64297939,"question_id":26679628,"body_markdown":"I did something like this - created my custom BiFunction.\r\nThe idea being:\r\n\r\n 1. Return type is same as the second argument \r\n 2. First argument is passed internally to chained biFunction\r\n\r\n\r\n    \r\n\r\n        public interface BiFunctionCustom&lt;T, U&gt; extends BiFunction&lt;T,U,U&gt; {\r\n     \r\n          default BiFunctionCustom&lt;T, U&gt; andThen(BiFunctionCustom&lt;T, U&gt; after) {\r\n              Objects.requireNonNull(after);\r\n              return (T t, U u) -&gt; after.apply(t, apply(t, u));\r\n          }\r\n        }\r\n\r\n","title":"How to chain BiFunctions?","body":"<p>I did something like this - created my custom BiFunction.\nThe idea being:</p>\n<ol>\n<li><p>Return type is same as the second argument</p>\n</li>\n<li><p>First argument is passed internally to chained biFunction</p>\n<pre><code>public interface BiFunctionCustom&lt;T, U&gt; extends BiFunction&lt;T,U,U&gt; {\n\n  default BiFunctionCustom&lt;T, U&gt; andThen(BiFunctionCustom&lt;T, U&gt; after) {\n      Objects.requireNonNull(after);\n      return (T t, U u) -&gt; after.apply(t, apply(t, u));\n  }\n}\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8020064,"reputation":91,"user_id":6048968,"display_name":"Sergey  Ch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679043405,"creation_date":1679043405,"answer_id":75765515,"question_id":26679628,"body_markdown":"Event though it doesn&#39;t seems like a usual chaining but I came to the following approach, conceptually similar with the one proposed by Stuart Marks :\r\n\r\n    BiFunction&lt;Param1, Param2, Param1&gt; firstBiFunc = (p1, p2) -&gt; {\r\n        // DO SOME STUFF\r\n        return secondBiFunc.apply(p1, p2);\r\n    };\r\n    BiFunction&lt;Param1, Param2, Param1&gt; secondBiFunc = (p1, p2) -&gt; {\r\n        // DO SOME STUFF\r\n        return p1\r\n    };\r\n\r\n","title":"How to chain BiFunctions?","body":"<p>Event though it doesn't seems like a usual chaining but I came to the following approach, conceptually similar with the one proposed by Stuart Marks :</p>\n<pre><code>BiFunction&lt;Param1, Param2, Param1&gt; firstBiFunc = (p1, p2) -&gt; {\n    // DO SOME STUFF\n    return secondBiFunc.apply(p1, p2);\n};\nBiFunction&lt;Param1, Param2, Param1&gt; secondBiFunc = (p1, p2) -&gt; {\n    // DO SOME STUFF\n    return p1\n};\n</code></pre>\n"}],"owner":{"account_id":141302,"reputation":567,"user_id":348225,"accept_rate":38,"display_name":"Pan Bydlak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3671,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1679043405,"creation_date":1414774162,"question_id":26679628,"body_markdown":"I would like to chain BiFunctions, like in the method `chainWanted` in the code sample below.\r\n\r\nBiFunction takes Function as a parameter of AndThen. is it possible to somehow chain BiFunctions ?\r\n\r\nThe code here doesn&#39;t compile because of this and I cannot cast BiFunction to Function.\r\n\r\n\r\n    import java.util.function.BiFunction;\r\n    import java.util.function.Function;\r\n    \r\n    import org.openqa.selenium.remote.RemoteWebDriver;\r\n    \r\n    public class Wf {\r\n    \r\n    \tBiFunction&lt;RemoteWebDriver, WfParams, RemoteWebDriver&gt; init = this::init;\r\n    \tBiFunction&lt;RemoteWebDriver, WfParams, RemoteWebDriver&gt; wait = this::wait;\r\n    \r\n    \tBiFunction&lt;RemoteWebDriver, WfParams, RemoteWebDriver&gt; chainNow = init\r\n    \t\t\t.andThen(d -&gt; {\r\n    \t\t\t\tSystem.out.println(&quot;--------------&quot;);\r\n    \t\t\t\treturn null;\r\n    \t\t\t});\r\n    \r\n    \tBiFunction&lt;RemoteWebDriver, WfParams, RemoteWebDriver&gt; chainWanted = init\r\n    \t\t\t.andThen((BiFunction) wait);\r\n    \r\n    \tpublic RemoteWebDriver init(RemoteWebDriver d, WfParams params) {\r\n    \t\tSystem.out.println(&quot;init(d, params)&quot;);\r\n    \t\treturn d;\r\n    \t}\r\n    \r\n    \tpublic RemoteWebDriver wait(RemoteWebDriver d, WfParams params) {\r\n    \t\tSystem.out.println(&quot;Wf.wait(d, params)&quot;);\r\n    \t\treturn d;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tnew Wf().start();\r\n    \t}\r\n    \r\n    \tprivate void start() {\r\n    \t\tchainNow.apply(null, null);\r\n    \t}\r\n    }","title":"How to chain BiFunctions?","body":"<p>I would like to chain BiFunctions, like in the method <code>chainWanted</code> in the code sample below.</p>\n\n<p>BiFunction takes Function as a parameter of AndThen. is it possible to somehow chain BiFunctions ?</p>\n\n<p>The code here doesn't compile because of this and I cannot cast BiFunction to Function.</p>\n\n<pre><code>import java.util.function.BiFunction;\nimport java.util.function.Function;\n\nimport org.openqa.selenium.remote.RemoteWebDriver;\n\npublic class Wf {\n\n    BiFunction&lt;RemoteWebDriver, WfParams, RemoteWebDriver&gt; init = this::init;\n    BiFunction&lt;RemoteWebDriver, WfParams, RemoteWebDriver&gt; wait = this::wait;\n\n    BiFunction&lt;RemoteWebDriver, WfParams, RemoteWebDriver&gt; chainNow = init\n            .andThen(d -&gt; {\n                System.out.println(\"--------------\");\n                return null;\n            });\n\n    BiFunction&lt;RemoteWebDriver, WfParams, RemoteWebDriver&gt; chainWanted = init\n            .andThen((BiFunction) wait);\n\n    public RemoteWebDriver init(RemoteWebDriver d, WfParams params) {\n        System.out.println(\"init(d, params)\");\n        return d;\n    }\n\n    public RemoteWebDriver wait(RemoteWebDriver d, WfParams params) {\n        System.out.println(\"Wf.wait(d, params)\");\n        return d;\n    }\n\n    public static void main(String[] args) throws Exception {\n        new Wf().start();\n    }\n\n    private void start() {\n        chainNow.apply(null, null);\n    }\n}\n</code></pre>\n"},{"tags":["java","swift"],"comments":[{"owner":{"account_id":1220712,"reputation":532333,"user_id":1187415,"accept_rate":88,"display_name":"Martin R"},"score":3,"creation_date":1527184033,"post_id":50515175,"comment_id":88043077,"body_markdown":"From the reference https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/TheBasics.html#//apple_ref/doc/uid/TP40014097-CH5-ID317: *&quot;Swift provides signed and unsigned integers in 8, 16, 32, and 64 bit forms.&quot;*","body":"From the reference <a href=\"https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/TheBasics.html#//apple_ref/doc/uid/TP40014097-CH5-ID317\" rel=\"nofollow noreferrer\">developer.apple.com/library/content/documentation/Swift/&hellip;</a>: <i>&quot;Swift provides signed and unsigned integers in 8, 16, 32, and 64 bit forms.&quot;</i>"},{"owner":{"account_id":10465788,"reputation":12036,"user_id":7715250,"accept_rate":74,"display_name":"J. Doe"},"score":2,"creation_date":1527184256,"post_id":50515175,"comment_id":88043191,"body_markdown":"Google ‘byte type swift’ answer are all over the place","body":"Google ‘byte type swift’ answer are all over the place"}],"answers":[{"tags":[],"owner":{"account_id":5631967,"reputation":1119,"user_id":4458654,"accept_rate":33,"display_name":"Daniel K"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1527184061,"creation_date":1527184061,"answer_id":50515321,"question_id":50515175,"body_markdown":"The data type is Unsigned Int 8 (UInt8).  \r\n\r\n    var byte:UInt8 = 0xAF\r\n\r\n\r\nFor a string of bytes: \r\n\r\n    var bytes:[UInt8] = [0xAF,0xAB]\r\n\r\nFor the bytes from data:\r\n   \r\n    var data = Data()\r\n    var bytes = data.bytes //[UInt8]\r\n\r\n   ","title":"What is the equivalent data type for byte in iOS swift?","body":"<p>The data type is Unsigned Int 8 (UInt8).  </p>\n\n<pre><code>var byte:UInt8 = 0xAF\n</code></pre>\n\n<p>For a string of bytes: </p>\n\n<pre><code>var bytes:[UInt8] = [0xAF,0xAB]\n</code></pre>\n\n<p>For the bytes from data:</p>\n\n<pre><code>var data = Data()\nvar bytes = data.bytes //[UInt8]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6755392,"reputation":287,"user_id":5204025,"accept_rate":60,"display_name":"Yan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1594178325,"creation_date":1594178325,"answer_id":62787028,"question_id":50515175,"body_markdown":"Swift bytes is [UInt8], UInt8 is 0 ... 255, Int8 is -128 ~ 127, you can get the Int8 value which like java byte with follow code.\r\n\r\n```\r\nextension UInt8 {\r\n    var int8: Int8 {\r\n        return Int8(self &gt; 127 ? Int(self) - 256 : Int(self))\r\n    }\r\n}\r\n```","title":"What is the equivalent data type for byte in iOS swift?","body":"<p>Swift bytes is [UInt8], UInt8 is 0 ... 255, Int8 is -128 ~ 127, you can get the Int8 value which like java byte with follow code.</p>\n<pre><code>extension UInt8 {\n    var int8: Int8 {\n        return Int8(self &gt; 127 ? Int(self) - 256 : Int(self))\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4116693,"reputation":1661,"user_id":3378076,"display_name":"Lahiru Pinto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679043367,"creation_date":1679043367,"answer_id":75765513,"question_id":50515175,"body_markdown":"In kotlin use **byteArray.toUByteArray()** to convert to UInt8","title":"What is the equivalent data type for byte in iOS swift?","body":"<p>In kotlin use <strong>byteArray.toUByteArray()</strong> to convert to UInt8</p>\n"}],"owner":{"account_id":5202546,"reputation":1124,"user_id":4183359,"accept_rate":75,"display_name":"Mahendran Candy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9504,"favorite_count":0,"down_vote_count":3,"up_vote_count":6,"accepted_answer_id":50515321,"answer_count":3,"score":3,"last_activity_date":1679043367,"creation_date":1527183467,"question_id":50515175,"body_markdown":"In Java we have data type called `byte` but in Swift there is no `byte` data type available.\r\n\r\nIn the example below I typecasted the ASCII (0xAF = 175) value by using `byte` data type.\r\n\r\n    byte abyte = (byte) 0xAF;\r\n\r\nAnd the result is `abyte= -89`\r\n \r\nHow do I acheive this in Swift?","title":"What is the equivalent data type for byte in iOS swift?","body":"<p>In Java we have data type called <code>byte</code> but in Swift there is no <code>byte</code> data type available.</p>\n\n<p>In the example below I typecasted the ASCII (0xAF = 175) value by using <code>byte</code> data type.</p>\n\n<pre><code>byte abyte = (byte) 0xAF;\n</code></pre>\n\n<p>And the result is <code>abyte= -89</code></p>\n\n<p>How do I acheive this in Swift?</p>\n"},{"tags":["java","spring","swagger","swagger-ui"],"answers":[{"tags":[],"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679043222,"creation_date":1679043222,"answer_id":75765494,"question_id":75765201,"body_markdown":"In Swagger Core 2.x, `readOnly` has been replaced by [`accessMode`](https://docs.swagger.io/swagger-core/v2.2.8/apidocs/io/swagger/v3/oas/annotations/media/Schema.html#accessMode--):\r\n\r\n```java\r\n@Schema(accessMode = AccessMode.READ_ONLY)\r\npublic String someField;\r\n```","title":"Swagger doesn&#39;t hide readOnly fields in request docs","body":"<p>In Swagger Core 2.x, <code>readOnly</code> has been replaced by <a href=\"https://docs.swagger.io/swagger-core/v2.2.8/apidocs/io/swagger/v3/oas/annotations/media/Schema.html#accessMode--\" rel=\"nofollow noreferrer\"><code>accessMode</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Schema(accessMode = AccessMode.READ_ONLY)\npublic String someField;\n</code></pre>\n"}],"owner":{"account_id":1309929,"reputation":4821,"user_id":1258130,"accept_rate":60,"display_name":"eja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75765494,"answer_count":1,"score":0,"last_activity_date":1679043222,"creation_date":1679041232,"question_id":75765201,"body_markdown":"Previously, given a field in an object, in order to hide it from the swagger doc i.e. make it readonly, you could use the following:\r\n\r\n```\r\n@ApiModelProperty(readOnly = true)\r\npublic String someField;\r\n```\r\n\r\nThis would make the field readonly, thus hidden in create/edit docs, but it would still be visible in the response body docs.\r\n\r\nNow moving from `@ApiModelProperty` to `@Schema` I was expecting that it would work in the same way\r\n\r\n```\r\n@Schema(readOnly = true)\r\npublic String someField;\r\n```\r\n\r\nbut for some reason it doesn&#39;t. Functionally, it works, meaning that this field cannot be set when sending requests to a given endpoint, but the field isn&#39;t hidden in the POST request docs.\r\n\r\nIs this working as intended? Is there a different property to be used?\r\n\r\nThere are alternative approaches how to hide params e.g. `JsonIgnore`, or the `hidden` param - but the goal is to make a field specifically readonly with `@Schema`, in addition to making it hidden in the POST request docs and visible in the GET/response body docs.","title":"Swagger doesn&#39;t hide readOnly fields in request docs","body":"<p>Previously, given a field in an object, in order to hide it from the swagger doc i.e. make it readonly, you could use the following:</p>\n<pre><code>@ApiModelProperty(readOnly = true)\npublic String someField;\n</code></pre>\n<p>This would make the field readonly, thus hidden in create/edit docs, but it would still be visible in the response body docs.</p>\n<p>Now moving from <code>@ApiModelProperty</code> to <code>@Schema</code> I was expecting that it would work in the same way</p>\n<pre><code>@Schema(readOnly = true)\npublic String someField;\n</code></pre>\n<p>but for some reason it doesn't. Functionally, it works, meaning that this field cannot be set when sending requests to a given endpoint, but the field isn't hidden in the POST request docs.</p>\n<p>Is this working as intended? Is there a different property to be used?</p>\n<p>There are alternative approaches how to hide params e.g. <code>JsonIgnore</code>, or the <code>hidden</code> param - but the goal is to make a field specifically readonly with <code>@Schema</code>, in addition to making it hidden in the POST request docs and visible in the GET/response body docs.</p>\n"},{"tags":["java","android","eclipse"],"comments":[{"owner":{"account_id":69592,"reputation":53841,"user_id":202375,"accept_rate":62,"display_name":"Saurabh Gokhale"},"score":0,"creation_date":1307762997,"post_id":6313858,"comment_id":14567692,"body_markdown":"Check this link : [Multiple Projects Automatically Into Your Eclipse Workspace With Team Project Sets](http://java.dzone.com/articles/checkout-multiple-projects) and [Importing Multiple Projects into eclipse](http://www.mail-archive.com/users@maven.apache.org/msg15378.html)","body":"Check this link : <a href=\"http://java.dzone.com/articles/checkout-multiple-projects\" rel=\"nofollow noreferrer\">Multiple Projects Automatically Into Your Eclipse Workspace With Team Project Sets</a> and <a href=\"http://www.mail-archive.com/users@maven.apache.org/msg15378.html\" rel=\"nofollow noreferrer\">Importing Multiple Projects into eclipse</a>"}],"answers":[{"tags":[],"owner":{"account_id":57542,"reputation":28477,"user_id":172363,"accept_rate":83,"display_name":"Andrew Eisenberg"},"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1350546043,"creation_date":1307763763,"answer_id":6313909,"question_id":6313858,"body_markdown":"If all of your old projects exist in a single directory or in a single parent directory, you can do **File -&gt; Import... -&gt; Existing Projects into workspace**.  Choose a root directory that is a parent all of the projects you want to import.  You will then be able to import all of the projects at once.","title":"Importing multiple projects into eclipse","body":"<p>If all of your old projects exist in a single directory or in a single parent directory, you can do <strong>File -> Import... -> Existing Projects into workspace</strong>.  Choose a root directory that is a parent all of the projects you want to import.  You will then be able to import all of the projects at once.</p>\n"},{"tags":[],"owner":{"account_id":2824905,"reputation":3525,"user_id":2427750,"display_name":"Mickael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433836950,"creation_date":1425278767,"answer_id":28804059,"question_id":6313858,"body_markdown":"There is an ongoing experiment of an easier and smarter import mechanism for Eclipse IDE. See https://wiki.eclipse.org/E4/UI/Smart_Import for details. Then you&#39;ll see new UI entries in File menu or Import wizard that will allow you to import projects recursively.\r\n\r\nIn case you notice any issue, please report bugs!","title":"Importing multiple projects into eclipse","body":"<p>There is an ongoing experiment of an easier and smarter import mechanism for Eclipse IDE. See <a href=\"https://wiki.eclipse.org/E4/UI/Smart_Import\" rel=\"nofollow\">https://wiki.eclipse.org/E4/UI/Smart_Import</a> for details. Then you'll see new UI entries in File menu or Import wizard that will allow you to import projects recursively.</p>\n\n<p>In case you notice any issue, please report bugs!</p>\n"},{"tags":[],"owner":{"account_id":19155202,"reputation":1,"user_id":13992169,"display_name":"Morpheus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679043152,"creation_date":1679043152,"answer_id":75765482,"question_id":6313858,"body_markdown":"Go to ***windows-&gt;showView-&gt; Project Explorer-&gt; Browse-&gt; select workspace -&gt; select all files.***\r\n\r\nalternatively you can go to ***file-&gt; import -&gt; general -&gt; file system -&gt; workspace***","title":"Importing multiple projects into eclipse","body":"<p>Go to <em><strong>windows-&gt;showView-&gt; Project Explorer-&gt; Browse-&gt; select workspace -&gt; select all files.</strong></em></p>\n<p>alternatively you can go to <em><strong>file-&gt; import -&gt; general -&gt; file system -&gt; workspace</strong></em></p>\n"}],"owner":{"account_id":297964,"reputation":54062,"user_id":603744,"accept_rate":91,"display_name":"Andro Selva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31485,"favorite_count":0,"down_vote_count":1,"up_vote_count":34,"accepted_answer_id":6313909,"answer_count":3,"score":33,"last_activity_date":1679043152,"creation_date":1307762571,"question_id":6313858,"body_markdown":"I am just curious to know, whether there are possibilities to import more than one project at the same time into Eclipse. Because whenever I create my new workspace I had to import the needed projects from my old workspace to my newly created workspace. \r\n\r\nSo it would be nice to know, if there are options to import multiple projects at the same time?\r\n\r\nThanks.","title":"Importing multiple projects into eclipse","body":"<p>I am just curious to know, whether there are possibilities to import more than one project at the same time into Eclipse. Because whenever I create my new workspace I had to import the needed projects from my old workspace to my newly created workspace. </p>\n\n<p>So it would be nice to know, if there are options to import multiple projects at the same time?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","file","sockets"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1679041336,"post_id":75765148,"comment_id":133653096,"body_markdown":"Hello and welcome. Please post your code as text directly in the question, not as pictures.","body":"Hello and welcome. Please post your code as text directly in the question, not as pictures."},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1679041771,"post_id":75765148,"comment_id":133653189,"body_markdown":"[Please do not upload images of code/data/errors when asking a question.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors when asking a question.</a>"},{"owner":{"account_id":20101147,"reputation":15,"user_id":14739581,"display_name":"Krlin Homon"},"score":0,"creation_date":1679042230,"post_id":75765148,"comment_id":133653294,"body_markdown":"thanks and i will delete this one and post a new one","body":"thanks and i will delete this one and post a new one"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1679042800,"post_id":75765148,"comment_id":133653428,"body_markdown":"please edit the question instead of deleting and posting a new one","body":"please edit the question instead of deleting and posting a new one"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1679043168,"post_id":75765148,"comment_id":133653511,"body_markdown":"The server needs to know where the file stops and the MD5 starts. One way to do this is to send the length first, and then when the server has read that many bytes, it knows the file has finished and the MD5 is next.","body":"The server needs to know where the file stops and the MD5 starts. One way to do this is to send the length first, and then when the server has read that many bytes, it knows the file has finished and the MD5 is next."}],"owner":{"account_id":20101147,"reputation":15,"user_id":14739581,"display_name":"Krlin Homon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679042915,"creation_date":1679040833,"question_id":75765148,"body_markdown":"I&#39;m sending files through java socket by codes below: \r\nclient: \r\n\r\n```java\r\nFile file = new File(filePath);\r\nif (file.exists()) {\r\n    this.rafin = new RandomAccessFile(filePath, &quot;r&quot;);\r\n    this.dos = new DataOutputStream(super.getOutputStream());\r\n    rafin.seek(start); // 找到位置\r\n    // 写入文件名\r\n    dos.writeUTF(file.getName()+&quot;.&quot;+order);\r\n    // 写入文件切片个数\r\n    dos.writeInt(fileSplitNum);\r\n    // 写入sendIp\r\n    dos.writeUTF(localIp);\r\n    // 写入文件落盘时间\r\n    dos.writeUTF(lastModifiedDate);\r\n    dos.flush();\r\n    log.info(&quot;文件名为：&quot;+file.getName()+&quot;.&quot;+order);\r\n    long fileLength = end - start + 1;\r\n    byte[] bytes = new byte[1024 * 8];\r\n    \r\n    // 计算循环\r\n    long times = fileLength / bytes.length;\r\n    \r\n    int length;\r\n    long start = System.currentTimeMillis();\r\n    // ======================核心传输逻辑==========================\r\n    MessageDigest md5 = MessageDigest.getInstance(&quot;MD5&quot;);\r\n    for (int i = 0;i &lt; times; i++) {\r\n        length = rafin.read(bytes, 0, bytes.length);\r\n        md5.update(bytes, 0, length); // md5计算\r\n        dos.write(bytes, 0, length);\r\n    }\r\n    long last = fileLength % bytes.length;\r\n    if (last != 0) {\r\n        length = rafin.read(bytes, 0, (int) last);\r\n        md5.update(bytes, 0, (int) last); // md5\r\n        dos.write(bytes, 0, length);\r\n    }\r\n    // ========================核心传输逻辑结束==============================\r\n    String fileMd5 = DigestUtil.toHexString(md5.digest());\r\n    // 将文件的md5编码传入server\r\n     dos.writeUTF(fileMd5); // ******* I want to send md5 to server at here\r\n     dos.flush();\r\n    log.info(&quot;第{}切片的md5加密密钥为：{}&quot;, order, fileMd5);\r\n    long end = System.currentTimeMillis();\r\n    \r\n    String file_trans_stat = dis.readUTF();\r\n    log.info(&quot;文件传输状态：{}&quot;, file_trans_stat);\r\n    latch.countDown(); // latch锁减一\r\n    log.info(String.format(&quot;%s 传输完毕，用时：%.2f秒%n&quot;,Thread.currentThread().getName(),(double)(end-start)/1000));\r\n}\r\n```\r\n\r\nserver: \r\n\r\n```java\r\ndis = new DataInputStream(socket.getInputStream());\r\n// 文件名\r\nString fileName = dis.readUTF();\r\n// 文件切片个数\r\nint fileSplitNum = dis.readInt();\r\n// sendIp\r\nString sendIp = dis.readUTF();\r\n// 文件落盘时间\r\nString lastModifiedDate = dis.readUTF();\r\n// 计时表\r\nThreadLocal&lt;StopWatch&gt; threadLocal = new ThreadLocal&lt;&gt;();\r\nthreadLocal.set(new StopWatch());\r\nthreadLocal.get().start();\r\nString fileNameTmp = fileName+&quot;.tmp&quot;;\r\nlog.info(&quot;接收文件夹为：{}&quot;, fileDir);\r\nFile directory = new File(fileDir);\r\nif (!directory.exists()) {\r\n    directory.mkdir();\r\n}\r\nFile file = new File(directory.getAbsolutePath() + File.separatorChar + fileNameTmp);\r\nFileOutputStream fos = new FileOutputStream(file);\r\n\r\nbyte[] bytes = new byte[1024 * 8];\r\nint length;\r\nMessageDigest md5 = MessageDigest.getInstance(&quot;MD5&quot;);\r\nwhile ( (length = dis.read(bytes, 0, bytes.length)) != -1 ) {\r\n    fos.write(bytes, 0, length);\r\n    md5.update(bytes, 0, length);\r\n    fos.flush();\r\n}\r\nfos.close();\r\nString clientFileMd5 = dis.readUTF();   //*********** I want to receive md5 at here, but it seems doesn&#39;t work\r\nlog.info(&quot;client传来的{}的加密密钥为:{}&quot;, fileNameTmp, clientFileMd5);\r\nString fileMd5 = DigestUtil.toHexString(md5.digest());\r\nlog.info(&quot;切片{}的md5加密密钥为: {}&quot;, fileNameTmp, fileMd5);\r\n```\r\n\r\nI want to send the file&#39;s md5 to server after sending the file to verify whether the file is ok, but the code seems doesn&#39;t work, how can i adjust the code\r\n\r\nthe code of sending md5 I have tried is in the exegesis which is purple color\r\n\r\nwhat I have tried is in the code","title":"After sending files through socket, how can i send other data by Java","body":"<p>I'm sending files through java socket by codes below:\nclient:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(filePath);\nif (file.exists()) {\n    this.rafin = new RandomAccessFile(filePath, &quot;r&quot;);\n    this.dos = new DataOutputStream(super.getOutputStream());\n    rafin.seek(start); // 找到位置\n    // 写入文件名\n    dos.writeUTF(file.getName()+&quot;.&quot;+order);\n    // 写入文件切片个数\n    dos.writeInt(fileSplitNum);\n    // 写入sendIp\n    dos.writeUTF(localIp);\n    // 写入文件落盘时间\n    dos.writeUTF(lastModifiedDate);\n    dos.flush();\n    log.info(&quot;文件名为：&quot;+file.getName()+&quot;.&quot;+order);\n    long fileLength = end - start + 1;\n    byte[] bytes = new byte[1024 * 8];\n    \n    // 计算循环\n    long times = fileLength / bytes.length;\n    \n    int length;\n    long start = System.currentTimeMillis();\n    // ======================核心传输逻辑==========================\n    MessageDigest md5 = MessageDigest.getInstance(&quot;MD5&quot;);\n    for (int i = 0;i &lt; times; i++) {\n        length = rafin.read(bytes, 0, bytes.length);\n        md5.update(bytes, 0, length); // md5计算\n        dos.write(bytes, 0, length);\n    }\n    long last = fileLength % bytes.length;\n    if (last != 0) {\n        length = rafin.read(bytes, 0, (int) last);\n        md5.update(bytes, 0, (int) last); // md5\n        dos.write(bytes, 0, length);\n    }\n    // ========================核心传输逻辑结束==============================\n    String fileMd5 = DigestUtil.toHexString(md5.digest());\n    // 将文件的md5编码传入server\n     dos.writeUTF(fileMd5); // ******* I want to send md5 to server at here\n     dos.flush();\n    log.info(&quot;第{}切片的md5加密密钥为：{}&quot;, order, fileMd5);\n    long end = System.currentTimeMillis();\n    \n    String file_trans_stat = dis.readUTF();\n    log.info(&quot;文件传输状态：{}&quot;, file_trans_stat);\n    latch.countDown(); // latch锁减一\n    log.info(String.format(&quot;%s 传输完毕，用时：%.2f秒%n&quot;,Thread.currentThread().getName(),(double)(end-start)/1000));\n}\n</code></pre>\n<p>server:</p>\n<pre class=\"lang-java prettyprint-override\"><code>dis = new DataInputStream(socket.getInputStream());\n// 文件名\nString fileName = dis.readUTF();\n// 文件切片个数\nint fileSplitNum = dis.readInt();\n// sendIp\nString sendIp = dis.readUTF();\n// 文件落盘时间\nString lastModifiedDate = dis.readUTF();\n// 计时表\nThreadLocal&lt;StopWatch&gt; threadLocal = new ThreadLocal&lt;&gt;();\nthreadLocal.set(new StopWatch());\nthreadLocal.get().start();\nString fileNameTmp = fileName+&quot;.tmp&quot;;\nlog.info(&quot;接收文件夹为：{}&quot;, fileDir);\nFile directory = new File(fileDir);\nif (!directory.exists()) {\n    directory.mkdir();\n}\nFile file = new File(directory.getAbsolutePath() + File.separatorChar + fileNameTmp);\nFileOutputStream fos = new FileOutputStream(file);\n\nbyte[] bytes = new byte[1024 * 8];\nint length;\nMessageDigest md5 = MessageDigest.getInstance(&quot;MD5&quot;);\nwhile ( (length = dis.read(bytes, 0, bytes.length)) != -1 ) {\n    fos.write(bytes, 0, length);\n    md5.update(bytes, 0, length);\n    fos.flush();\n}\nfos.close();\nString clientFileMd5 = dis.readUTF();   //*********** I want to receive md5 at here, but it seems doesn't work\nlog.info(&quot;client传来的{}的加密密钥为:{}&quot;, fileNameTmp, clientFileMd5);\nString fileMd5 = DigestUtil.toHexString(md5.digest());\nlog.info(&quot;切片{}的md5加密密钥为: {}&quot;, fileNameTmp, fileMd5);\n</code></pre>\n<p>I want to send the file's md5 to server after sending the file to verify whether the file is ok, but the code seems doesn't work, how can i adjust the code</p>\n<p>the code of sending md5 I have tried is in the exegesis which is purple color</p>\n<p>what I have tried is in the code</p>\n"},{"tags":["java","json","spring","junit"],"owner":{"account_id":6651987,"reputation":493,"user_id":5133664,"display_name":"Marcelino Lucero III"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679042706,"creation_date":1679042706,"question_id":75765420,"body_markdown":"These pl.pojo.tester.api.assertion.Assertions.assertPojoMethodsFor() methods are really nice when they work, but what do I do to make it work when I need to manually set the type of object it instantiates the Pojo class with?\r\n\r\n\r\nIn another similar class I tried to test it says there is a mismatch between the JSONArray and java.util.ArrayList, so it seems it is trying to use an ArrayList as the JSONArray argument. How do I tell it to use a `new JSONArray`? Seems like this should be a simple thing but I can&#39;t find anything on this. Any help is much appreciated!\r\n\r\n\r\n**Pojo class**\r\n```\r\npackage model;\r\n\r\nimport org.json.JSONArray;\r\n\r\npublic class PojoClass{\r\n  private JSONArray docArray;\r\n// Constructors (no-args, all-args), getter, setter, toString(), equals() &amp; hashCode() methods\r\n}\r\n```\r\n\r\n\r\n**Tester class**\r\n```\r\npackage model;\r\n\r\nimport static pl.pojo.tester.api.assertion.Assertions.assertPojoMethodsFor;\r\n\r\nimport org.junit.Test;\r\nimport pl.pojo.tester.api.assertion.Method;\r\n\r\npublic class PojoClassTest {\r\n  @Test\r\n  public void test() {\r\n    Class clazz = PojoClass.class;\r\n    assertPojoMethodsFor(clazz)\r\n        .testing(Method.GETTER, Method.SETTER)\r\n        .quickly()\r\n        .areWellImplemented();\r\n    assertPojoMethodsFor(clazz)\r\n        .testing(Method.EQUALS, Method.HASH_CODE)\r\n        .quickly()\r\n        .areWellImplemented();\r\n    assertPojoMethodsFor(clazz).testing(Method.TO_STRING).areWellImplemented();\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\n**Error**\r\n```\r\n\r\njava.lang.IllegalArgumentException: argument type mismatch\r\n\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat pl.pojo.tester.internal.assertion.setter.SetterAssertions.willSetValueOnField(SetterAssertions.java:25)\r\n\tat pl.pojo.tester.internal.tester.SetterTester.testSetterAndGetter(SetterTester.java:42)\r\n\tat pl.pojo.tester.internal.tester.SetterTester.lambda$test$0(SetterTester.java:33)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n\tat pl.pojo.tester.internal.tester.SetterTester.test(SetterTester.java:33)\r\n\tat pl.pojo.tester.api.assertion.SingleClassAssertion.lambda$runAssertions$0(SingleClassAssertion.java:28)\r\n\tat java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat pl.pojo.tester.api.assertion.SingleClassAssertion.runAssertions(SingleClassAssertion.java:28)\r\n\tat pl.pojo.tester.api.assertion.AbstractAssertion.areWellImplemented(AbstractAssertion.java:129)\r\n\tat com.americanexpress.paymentnetwork.batchprocessor.model.PojoClassTest.test(PojoClassTest.java:15)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\r\n\r\nProcess finished with exit code 255\r\n\r\n```\r\n\r\n\r\n","title":"assertPojoMethodsFor() - how to set the argument type","body":"<p>These pl.pojo.tester.api.assertion.Assertions.assertPojoMethodsFor() methods are really nice when they work, but what do I do to make it work when I need to manually set the type of object it instantiates the Pojo class with?</p>\n<p>In another similar class I tried to test it says there is a mismatch between the JSONArray and java.util.ArrayList, so it seems it is trying to use an ArrayList as the JSONArray argument. How do I tell it to use a <code>new JSONArray</code>? Seems like this should be a simple thing but I can't find anything on this. Any help is much appreciated!</p>\n<p><strong>Pojo class</strong></p>\n<pre><code>package model;\n\nimport org.json.JSONArray;\n\npublic class PojoClass{\n  private JSONArray docArray;\n// Constructors (no-args, all-args), getter, setter, toString(), equals() &amp; hashCode() methods\n}\n</code></pre>\n<p><strong>Tester class</strong></p>\n<pre><code>package model;\n\nimport static pl.pojo.tester.api.assertion.Assertions.assertPojoMethodsFor;\n\nimport org.junit.Test;\nimport pl.pojo.tester.api.assertion.Method;\n\npublic class PojoClassTest {\n  @Test\n  public void test() {\n    Class clazz = PojoClass.class;\n    assertPojoMethodsFor(clazz)\n        .testing(Method.GETTER, Method.SETTER)\n        .quickly()\n        .areWellImplemented();\n    assertPojoMethodsFor(clazz)\n        .testing(Method.EQUALS, Method.HASH_CODE)\n        .quickly()\n        .areWellImplemented();\n    assertPojoMethodsFor(clazz).testing(Method.TO_STRING).areWellImplemented();\n\n  }\n\n}\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>\njava.lang.IllegalArgumentException: argument type mismatch\n\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at pl.pojo.tester.internal.assertion.setter.SetterAssertions.willSetValueOnField(SetterAssertions.java:25)\n    at pl.pojo.tester.internal.tester.SetterTester.testSetterAndGetter(SetterTester.java:42)\n    at pl.pojo.tester.internal.tester.SetterTester.lambda$test$0(SetterTester.java:33)\n    at java.util.ArrayList.forEach(ArrayList.java:1257)\n    at pl.pojo.tester.internal.tester.SetterTester.test(SetterTester.java:33)\n    at pl.pojo.tester.api.assertion.SingleClassAssertion.lambda$runAssertions$0(SingleClassAssertion.java:28)\n    at java.lang.Iterable.forEach(Iterable.java:75)\n    at pl.pojo.tester.api.assertion.SingleClassAssertion.runAssertions(SingleClassAssertion.java:28)\n    at pl.pojo.tester.api.assertion.AbstractAssertion.areWellImplemented(AbstractAssertion.java:129)\n    at com.americanexpress.paymentnetwork.batchprocessor.model.PojoClassTest.test(PojoClassTest.java:15)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n\n\nProcess finished with exit code 255\n\n</code></pre>\n"},{"tags":["java","api","post","get"],"owner":{"account_id":28034124,"reputation":1,"user_id":21412832,"display_name":"andresvds"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679042655,"creation_date":1679042655,"question_id":75765410,"body_markdown":"I am trying to do a GET API call using a Bearer token. The GET I am trying to do works perfectly in PostMan. If I do the exact same thing with Java I get a 412 error. The Bearer token works fine on POST calls. But if I change my POST to a GET and change my API url, the error occurs. Anyone has any idea why my authentication wont work? The Bearer token and the Content-Type cant be the problem because it works in other calls. Thanks in advance!!\r\n\r\n**The code**\r\n```\r\n`public static void main(String[] args) throws Exception {\r\n      StringBuilder result = new StringBuilder();\r\n      URL url = new URL(&quot;https://api_url_link/ECM/api/v5/fetchControlDetailsES&quot;);\r\n      HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n      conn.setRequestMethod(&quot;GET&quot;);\r\n      conn.setRequestProperty(&quot;Content-Type&quot;,&quot;application/json&quot;);\r\n      conn.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer myaccestokenisplacedhere&quot;);\r\n      try (BufferedReader reader = new BufferedReader(\r\n                  new InputStreamReader(conn.getInputStream()))) {\r\n          for (String line; (line = reader.readLine()) != null; ) {\r\n              result.append(line);\r\n          }\r\n      }\r\n      System.out.println(result);\r\n}`\r\n```\r\n\r\n**The error:**\r\n`Exception in thread &quot;main&quot; java.io.IOException: Server returned HTTP response code: 412 for URL: https://api_url_link/ECM/api/v5/fetchControlDetailsES\r\n at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1993)\r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1585)\r\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\r\n        at Department_Testing.main(Department_Testing.java:17)`\r\n\r\n\r\nSome people suggested it had something to do with spaces where the Bearer token is but I tried almost all options and still the same result. If I do play around with spaces, I sometimes get a 401 instead of a 412. I also compared my raw Java call with my PostMan call and the only difference is that PostMan also uses a cookie header, but this shouldn&#39;t be necessary. ","title":"Java GET API Call with Bearer token 412 error","body":"<p>I am trying to do a GET API call using a Bearer token. The GET I am trying to do works perfectly in PostMan. If I do the exact same thing with Java I get a 412 error. The Bearer token works fine on POST calls. But if I change my POST to a GET and change my API url, the error occurs. Anyone has any idea why my authentication wont work? The Bearer token and the Content-Type cant be the problem because it works in other calls. Thanks in advance!!</p>\n<p><strong>The code</strong></p>\n<pre><code>`public static void main(String[] args) throws Exception {\n      StringBuilder result = new StringBuilder();\n      URL url = new URL(&quot;https://api_url_link/ECM/api/v5/fetchControlDetailsES&quot;);\n      HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n      conn.setRequestMethod(&quot;GET&quot;);\n      conn.setRequestProperty(&quot;Content-Type&quot;,&quot;application/json&quot;);\n      conn.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer myaccestokenisplacedhere&quot;);\n      try (BufferedReader reader = new BufferedReader(\n                  new InputStreamReader(conn.getInputStream()))) {\n          for (String line; (line = reader.readLine()) != null; ) {\n              result.append(line);\n          }\n      }\n      System.out.println(result);\n}`\n</code></pre>\n<p><strong>The error:</strong>\n<code>Exception in thread &quot;main&quot; java.io.IOException: Server returned HTTP response code: 412 for URL: https://api_url_link/ECM/api/v5/fetchControlDetailsES at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1993) at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1585) at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224) at Department_Testing.main(Department_Testing.java:17)</code></p>\n<p>Some people suggested it had something to do with spaces where the Bearer token is but I tried almost all options and still the same result. If I do play around with spaces, I sometimes get a 401 instead of a 412. I also compared my raw Java call with my PostMan call and the only difference is that PostMan also uses a cookie header, but this shouldn't be necessary.</p>\n"},{"tags":["java","multithreading","locking"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678982053,"post_id":75758465,"comment_id":133642142,"body_markdown":"It seems, you already know the answer to the first (“is it possible”) question, as otherwise, you wouldn’t ask the second (“how” to do a different approach) question at the same time. Recommend read: [ask]","body":"It seems, you already know the answer to the first (“is it possible”) question, as otherwise, you wouldn’t ask the second (“how” to do a different approach) question at the same time. Recommend read: <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":393604,"reputation":27,"user_id":755557,"display_name":"Dmytro"},"score":0,"creation_date":1678982257,"post_id":75758465,"comment_id":133642200,"body_markdown":"I had an interview question about this. When I tried to explore using Atomics, interviewer steered away from using atomics and suggested that it is possible to implement it using only volatile variables. I can&#39;t come up with a way how to implement it with volatiles only, hence posted this to get a firm confirmation or suggestion. Thank you","body":"I had an interview question about this. When I tried to explore using Atomics, interviewer steered away from using atomics and suggested that it is possible to implement it using only volatile variables. I can&#39;t come up with a way how to implement it with volatiles only, hence posted this to get a firm confirmation or suggestion. Thank you"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1678982269,"post_id":75758465,"comment_id":133642204,"body_markdown":"A Lock is a tool for a specific problem, blocking other threads from entering the same part of your code. The Atomic classes and behaviour of `volatile` serves an entirely different purpose.","body":"A Lock is a tool for a specific problem, blocking other threads from entering the same part of your code. The Atomic classes and behaviour of <code>volatile</code> serves an entirely different purpose."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1678982599,"post_id":75758465,"comment_id":133642311,"body_markdown":"From what I can deduce from interview questions posted on Stackoverflow, it seems it isn’t worth thinking about interview questions at all. Most of them seem to exist only because the interviewer wanted to show off with their half-knowledge, rather than finding a good programmer.","body":"From what I can deduce from interview questions posted on Stackoverflow, it seems it isn’t worth thinking about interview questions at all. Most of them seem to exist only because the interviewer wanted to show off with their half-knowledge, rather than finding a good programmer."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678982847,"post_id":75758465,"comment_id":133642384,"body_markdown":"If we talk about a lock complying to the [`ReadWriteLock`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReadWriteLock.html) interface, it must support waiting queues and even if you manage to implement it with volatile variables only, which implies using polling loops, no one would use such a thing in practice. So what would be the purpose of showing that you can implement an unusable replacement to a built-in feature? That’s nothing I would hire a programmer for…","body":"If we talk about a lock complying to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReadWriteLock.html\" rel=\"nofollow noreferrer\"><code>ReadWriteLock</code></a> interface, it must support waiting queues and even if you manage to implement it with volatile variables only, which implies using polling loops, no one would use such a thing in practice. So what would be the purpose of showing that you can implement an unusable replacement to a built-in feature? That’s nothing I would hire a programmer for…"},{"owner":{"account_id":393604,"reputation":27,"user_id":755557,"display_name":"Dmytro"},"score":0,"creation_date":1678983277,"post_id":75758465,"comment_id":133642521,"body_markdown":"thank you for analysing my interviewer&#39;s motives :) - that might be the case.\nYet I can imagine in a low latency environment having a busy spin rather than a lock could work faster. Still I&#39;m interested if using volatiles only and loops would do the job as my concern is that incrementing a volatile will not happen atomically, so would require atomics. Im still curious about this?","body":"thank you for analysing my interviewer&#39;s motives :) - that might be the case. Yet I can imagine in a low latency environment having a busy spin rather than a lock could work faster. Still I&#39;m interested if using volatiles only and loops would do the job as my concern is that incrementing a volatile will not happen atomically, so would require atomics. Im still curious about this?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678989187,"post_id":75758465,"comment_id":133644343,"body_markdown":"Right, you can not use increments, as increments are not atomic. You have to work with only reads and writes, e.g. of zero and one resp. false and true. See [Dekker&#39;s algorithm](https://en.wikipedia.org/wiki/Dekker%27s_algorithm) (and the “See also” section at the bottom of the page), for example(s). Keep in mind that an algorithm for mutual exclusive access without reentrance support is still enough, as you can implement a read/write lock with reentrance atop it, by using the former to protect the internal data structure of the latter.","body":"Right, you can not use increments, as increments are not atomic. You have to work with only reads and writes, e.g. of zero and one resp. false and true. See <a href=\"https://en.wikipedia.org/wiki/Dekker%27s_algorithm\" rel=\"nofollow noreferrer\">Dekker&#39;s algorithm</a> (and the “See also” section at the bottom of the page), for example(s). Keep in mind that an algorithm for mutual exclusive access without reentrance support is still enough, as you can implement a read/write lock with reentrance atop it, by using the former to protect the internal data structure of the latter."},{"owner":{"account_id":393604,"reputation":27,"user_id":755557,"display_name":"Dmytro"},"score":0,"creation_date":1679006290,"post_id":75758465,"comment_id":133648302,"body_markdown":"this algorithm is a good answer - thank you.","body":"this algorithm is a good answer - thank you."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1679046506,"post_id":75758465,"comment_id":133654333,"body_markdown":"Turn it around.  Ask the interviewer:  &quot;You hire someone to build your house.  Instead of laying a foundation and starting building your house, he starts to build a steel mill and a finishing plant to turn raw iron ore into nails and screws.  You&#39;re paying him by the hour to do this, and he&#39;s not building your house. What do you do?&quot;","body":"Turn it around.  Ask the interviewer:  &quot;You hire someone to build your house.  Instead of laying a foundation and starting building your house, he starts to build a steel mill and a finishing plant to turn raw iron ore into nails and screws.  You&#39;re paying him by the hour to do this, and he&#39;s not building your house. What do you do?&quot;"},{"owner":{"account_id":393604,"reputation":27,"user_id":755557,"display_name":"Dmytro"},"score":0,"creation_date":1679056631,"post_id":75758465,"comment_id":133656769,"body_markdown":"While you are right and that could be an indication of the hiring manager attitude, I learned never to push back hard against the interviewer if I want a job. \n\nAlso, my question here yielded some good references to areas that I didn&#39;t know. Which was my goal - to learn more about the question I asked.","body":"While you are right and that could be an indication of the hiring manager attitude, I learned never to push back hard against the interviewer if I want a job.   Also, my question here yielded some good references to areas that I didn&#39;t know. Which was my goal - to learn more about the question I asked."}],"answers":[{"tags":[],"owner":{"account_id":28040566,"reputation":11,"user_id":21418185,"display_name":"Лёха"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679042478,"creation_date":1679042279,"answer_id":75765352,"question_id":75758465,"body_markdown":"[Peterson&#39;s algorithm](https://en.wikipedia.org/wiki/Peterson%27s_algorithm) is one of the simplest algorithms for mutual exclusion that uses only volatile variables. I suppose it can be transformed to `ReadWriteLock`.\r\n\r\nAlso I can recommend [The Art of Multiprocessor Programming by Herlihy and Shavit](https://dl.acm.org/doi/book/10.5555/2385452): specifically chapters 2 (it has nice explanations for the Peterson Lock), 7 (about spin-locks), 8 (about readers–writers lock), and 5 (about the consensus number, which explains principal difference between `volatile` and `Atomic*`).\r\n\r\n","title":"Is it possible to implement a ReadWriteLock by using volatile variables only? By using Atomics and volatile?","body":"<p><a href=\"https://en.wikipedia.org/wiki/Peterson%27s_algorithm\" rel=\"nofollow noreferrer\">Peterson's algorithm</a> is one of the simplest algorithms for mutual exclusion that uses only volatile variables. I suppose it can be transformed to <code>ReadWriteLock</code>.</p>\n<p>Also I can recommend <a href=\"https://dl.acm.org/doi/book/10.5555/2385452\" rel=\"nofollow noreferrer\">The Art of Multiprocessor Programming by Herlihy and Shavit</a>: specifically chapters 2 (it has nice explanations for the Peterson Lock), 7 (about spin-locks), 8 (about readers–writers lock), and 5 (about the consensus number, which explains principal difference between <code>volatile</code> and <code>Atomic*</code>).</p>\n"}],"owner":{"account_id":393604,"reputation":27,"user_id":755557,"display_name":"Dmytro"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679042478,"creation_date":1678981340,"question_id":75758465,"body_markdown":"In java, is it possible to implement a ReadWriteLock by using volatile variables only? \r\n\r\nOtherwise, how one would implement it by using Atomics and volatile variables? \r\n\r\nI had an interview question how to implement ReadWriteLock without using locks. \r\n\r\n When I tried to explore using Atomics, interviewer steered away from using atomics and suggested that it is possible to implement it using only volatile variables. \r\n\r\nI can&#39;t come up with a way how to implement it with volatiles only.","title":"Is it possible to implement a ReadWriteLock by using volatile variables only? By using Atomics and volatile?","body":"<p>In java, is it possible to implement a ReadWriteLock by using volatile variables only?</p>\n<p>Otherwise, how one would implement it by using Atomics and volatile variables?</p>\n<p>I had an interview question how to implement ReadWriteLock without using locks.</p>\n<p>When I tried to explore using Atomics, interviewer steered away from using atomics and suggested that it is possible to implement it using only volatile variables.</p>\n<p>I can't come up with a way how to implement it with volatiles only.</p>\n"},{"tags":["java","selenium-webdriver","automation","selenium-ide"],"comments":[{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":0,"creation_date":1679038395,"post_id":75764496,"comment_id":133652427,"body_markdown":"Can you explain more ? Do you want to locate the `xpath` with increment ?","body":"Can you explain more ? Do you want to locate the <code>xpath</code> with increment ?"},{"owner":{"account_id":14522278,"reputation":433,"user_id":10489626,"display_name":"Success Shrestha"},"score":0,"creation_date":1679041048,"post_id":75764496,"comment_id":133653037,"body_markdown":"So you have hundred text fields and you want to enter text in all of them?","body":"So you have hundred text fields and you want to enter text in all of them?"}],"answers":[{"tags":[],"owner":{"account_id":14522278,"reputation":433,"user_id":10489626,"display_name":"Success Shrestha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679042230,"creation_date":1679042230,"answer_id":75765343,"question_id":75764496,"body_markdown":"You can do it by making a list of textbox elements like this.\r\n\r\n    List&lt;WebElement&gt; elms = driver.findElements(By.xpath(&quot;//textarea[@placeholder=&#39;text&#39;]&quot;));\r\n        for (WebElement elm:elms) {\r\n            elm.sendKeys(&quot;Text&quot;);\r\n        }","title":"Selenium How can I select when element increases by one?","body":"<p>You can do it by making a list of textbox elements like this.</p>\n<pre><code>List&lt;WebElement&gt; elms = driver.findElements(By.xpath(&quot;//textarea[@placeholder='text']&quot;));\n    for (WebElement elm:elms) {\n        elm.sendKeys(&quot;Text&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":26541310,"reputation":1,"user_id":20172008,"display_name":"M i"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679042230,"creation_date":1679035542,"question_id":75764496,"body_markdown":"For example I have an xpath like below.\r\n \r\n```\r\n(//textarea[@placeholder=&#39;text&#39;])[1]\r\n```\r\n\r\nThis xpath [1] is generated from 1 to 100 Sequentially.\r\n\r\n```\r\n(//textarea[@placeholder=&#39;text&#39;])[1]\r\n(//textarea[@placeholder=&#39;text&#39;])[2]\r\n(//textarea[@placeholder=&#39;text&#39;])[3]\r\n(//textarea[@placeholder=&#39;text&#39;])[4]\r\n(//textarea[@placeholder=&#39;text&#39;])[5]\r\n```\r\n\r\nI need to enter text after selecting these.  \r\nHow can I choose [1],[2],[3],[4] these at this time?\r\n\r\nI am using java and I know I have to use the for statement, but I don&#39;t know how to do it.\r\nCan you check by increasing only part of the xpath?\r\n","title":"Selenium How can I select when element increases by one?","body":"<p>For example I have an xpath like below.</p>\n<pre><code>(//textarea[@placeholder='text'])[1]\n</code></pre>\n<p>This xpath [1] is generated from 1 to 100 Sequentially.</p>\n<pre><code>(//textarea[@placeholder='text'])[1]\n(//textarea[@placeholder='text'])[2]\n(//textarea[@placeholder='text'])[3]\n(//textarea[@placeholder='text'])[4]\n(//textarea[@placeholder='text'])[5]\n</code></pre>\n<p>I need to enter text after selecting these.<br />\nHow can I choose [1],[2],[3],[4] these at this time?</p>\n<p>I am using java and I know I have to use the for statement, but I don't know how to do it.\nCan you check by increasing only part of the xpath?</p>\n"},{"tags":["java","mongodb","spring-boot","spring-data-mongodb","mongodb-atlas"],"answers":[{"tags":[],"owner":{"account_id":7653269,"reputation":392,"user_id":5801146,"accept_rate":40,"display_name":"IggyBlob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679042101,"creation_date":1679042101,"answer_id":75765322,"question_id":75557223,"body_markdown":"I [cross-posted][1] this question to the MongoDB Developer Community Forum and got [the following reply][2] from a MongoDB employee:\r\n\r\n&gt; The key line in the logs is “Exception in monitor thread while\r\n&gt; connecting to server …”.\r\n&gt; \r\n&gt; It’s normal to see these sorts of messages during planned maintenance\r\n&gt; of MongoDB servers (e.g. restarts for upgrades). The automatic retry\r\n&gt; features of the driver should hide most of these from your application\r\n&gt; and avoid exceptions being thrown to application threads via the\r\n&gt; drivers’s CRUD API.\r\n\r\nSo my take from this is that those logs are expected (note the INFO log level) and the result of an Atlas node becoming (temporarily) unavailable, which is a perfectly normal scenario that won’t affect my service thanks to the MongoDB driver’s retry features.\r\n\r\nIf you want to dig deeper into &quot;monitor threads&quot; and MongoDB&#39;s Server Discovery and Monitoring, you can have a look at the general description [here][3] and the gory details [here][4].\r\n\r\n\r\n  [1]: https://www.mongodb.com/community/forums/t/mongodb-atlas-connections-reset-refused/215946\r\n  [2]: https://www.mongodb.com/community/forums/t/mongodb-atlas-connections-reset-refused/215946/2\r\n  [3]: https://github.com/mongodb/specifications/blob/master/source/server-discovery-and-monitoring/server-discovery-and-monitoring-summary.rst#abstract\r\n  [4]: https://github.com/mongodb/specifications/blob/master/source/server-discovery-and-monitoring/server-monitoring.rst","title":"MongoDB Atlas connections time out","body":"<p>I <a href=\"https://www.mongodb.com/community/forums/t/mongodb-atlas-connections-reset-refused/215946\" rel=\"nofollow noreferrer\">cross-posted</a> this question to the MongoDB Developer Community Forum and got <a href=\"https://www.mongodb.com/community/forums/t/mongodb-atlas-connections-reset-refused/215946/2\" rel=\"nofollow noreferrer\">the following reply</a> from a MongoDB employee:</p>\n<blockquote>\n<p>The key line in the logs is “Exception in monitor thread while\nconnecting to server …”.</p>\n<p>It’s normal to see these sorts of messages during planned maintenance\nof MongoDB servers (e.g. restarts for upgrades). The automatic retry\nfeatures of the driver should hide most of these from your application\nand avoid exceptions being thrown to application threads via the\ndrivers’s CRUD API.</p>\n</blockquote>\n<p>So my take from this is that those logs are expected (note the INFO log level) and the result of an Atlas node becoming (temporarily) unavailable, which is a perfectly normal scenario that won’t affect my service thanks to the MongoDB driver’s retry features.</p>\n<p>If you want to dig deeper into &quot;monitor threads&quot; and MongoDB's Server Discovery and Monitoring, you can have a look at the general description <a href=\"https://github.com/mongodb/specifications/blob/master/source/server-discovery-and-monitoring/server-discovery-and-monitoring-summary.rst#abstract\" rel=\"nofollow noreferrer\">here</a> and the gory details <a href=\"https://github.com/mongodb/specifications/blob/master/source/server-discovery-and-monitoring/server-monitoring.rst\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":7653269,"reputation":392,"user_id":5801146,"accept_rate":40,"display_name":"IggyBlob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75765322,"answer_count":1,"score":0,"last_activity_date":1679042101,"creation_date":1677245827,"question_id":75557223,"body_markdown":"I have a **Spring Boot** service deployed on **AWS ECS**. The service offers a REST API for clients and stores its data on a **MongoDB Atlas M2** cluster (Replica Set - 3 nodes).\r\n\r\nRecently, I noticed some strange logs popping up:\r\n\r\n**MongoSocketReadException**\r\n\r\n```\r\n2023-02-17 15:09:46.998  INFO 1 --- [ngodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server &lt;server-id&gt;.mongodb.net:27017\r\ncom.mongodb.MongoSocketReadException: Prematurely reached end of stream\r\n\tat com.mongodb.internal.connection.SocketStream.read(SocketStream.java:112) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.SocketStream.read(SocketStream.java:135) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:713) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:571) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:410) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:369) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:221) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\r\n\r\n```\r\n\r\n**MongoSocketWriteException**\r\n\r\n```\r\n2023-02-17 15:09:47.015  INFO 1 --- [ngodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server &lt;server-id&gt;.mongodb.net:27017\r\ncom.mongodb.MongoSocketWriteException: Exception sending message\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:684) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:555) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:381) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:329) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:101) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:45) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:131) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:73) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:182) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\r\nCaused by: java.net.SocketException: Connection reset\r\n\tat java.base/java.net.SocketInputStream.read(Unknown Source) ~[na:na]\r\n\tat java.base/java.net.SocketInputStream.read(Unknown Source) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketInputRecord.read(Unknown Source) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(Unknown Source) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketInputRecord.decode(Unknown Source) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(Unknown Source) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(Unknown Source) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(Unknown Source) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl$AppOutputStream.write(Unknown Source) ~[na:na]\r\n\tat com.mongodb.internal.connection.SocketStream.write(SocketStream.java:99) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:552) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\t... 10 common frames omitted\r\n```\r\n\r\n**MongoSocketOpenException**\r\n```\r\n2023-02-17 15:09:57.018  INFO 1 --- [ngodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server &lt;server-id&gt;.mongodb.net:27017\r\ncom.mongodb.MongoSocketOpenException: Exception opening socket\r\n\tat com.mongodb.internal.connection.SocketStream.open(SocketStream.java:70) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:180) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\r\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\r\n\tat java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\r\n\tat java.base/java.net.AbstractPlainSocketImpl.doConnect(Unknown Source) ~[na:na]\r\n\tat java.base/java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source) ~[na:na]\r\n\tat java.base/java.net.AbstractPlainSocketImpl.connect(Unknown Source) ~[na:na]\r\n\tat java.base/java.net.SocksSocketImpl.connect(Unknown Source) ~[na:na]\r\n\tat java.base/java.net.Socket.connect(Unknown Source) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.connect(Unknown Source) ~[na:na]\r\n\tat com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:107) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:79) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.SocketStream.open(SocketStream.java:65) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\t... 4 common frames omitted\r\n```\r\n\r\nAs this seems to consistently happen after idle periods, I figured this may be a timeout issue. Various sources on the internet suggest setting `maxIdleTimeMS`, but to no avail. Please note that my service is working nonetheless and I can retrieve data via its REST API w/o any issues. It seems to be able to recover from the above-mentioned connection exceptions...\r\n\r\nMy connection string looks as follows:\r\n```\r\nmongodb+srv://&lt;user&gt;:&lt;password&gt;@&lt;server&gt;.mongodb.net/&lt;db&gt;?retryWrites=true&amp;w=majority&amp;maxIdleTimeMS=60000\r\n```\r\n\r\nWhat am I missing?\r\n","title":"MongoDB Atlas connections time out","body":"<p>I have a <strong>Spring Boot</strong> service deployed on <strong>AWS ECS</strong>. The service offers a REST API for clients and stores its data on a <strong>MongoDB Atlas M2</strong> cluster (Replica Set - 3 nodes).</p>\n<p>Recently, I noticed some strange logs popping up:</p>\n<p><strong>MongoSocketReadException</strong></p>\n<pre><code>2023-02-17 15:09:46.998  INFO 1 --- [ngodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server &lt;server-id&gt;.mongodb.net:27017\ncom.mongodb.MongoSocketReadException: Prematurely reached end of stream\n    at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:112) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:135) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:713) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:571) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:410) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:369) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:221) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157) ~[mongodb-driver-core-4.6.1.jar:na]\n    at java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\n\n</code></pre>\n<p><strong>MongoSocketWriteException</strong></p>\n<pre><code>2023-02-17 15:09:47.015  INFO 1 --- [ngodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server &lt;server-id&gt;.mongodb.net:27017\ncom.mongodb.MongoSocketWriteException: Exception sending message\n    at com.mongodb.internal.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:684) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:555) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:381) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:329) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:101) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:45) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:131) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:73) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:182) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157) ~[mongodb-driver-core-4.6.1.jar:na]\n    at java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\nCaused by: java.net.SocketException: Connection reset\n    at java.base/java.net.SocketInputStream.read(Unknown Source) ~[na:na]\n    at java.base/java.net.SocketInputStream.read(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketInputRecord.read(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketInputRecord.decode(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLTransport.decode(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl$AppOutputStream.write(Unknown Source) ~[na:na]\n    at com.mongodb.internal.connection.SocketStream.write(SocketStream.java:99) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:552) ~[mongodb-driver-core-4.6.1.jar:na]\n    ... 10 common frames omitted\n</code></pre>\n<p><strong>MongoSocketOpenException</strong></p>\n<pre><code>2023-02-17 15:09:57.018  INFO 1 --- [ngodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server &lt;server-id&gt;.mongodb.net:27017\ncom.mongodb.MongoSocketOpenException: Exception opening socket\n    at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:70) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:180) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157) ~[mongodb-driver-core-4.6.1.jar:na]\n    at java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n    at java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\n    at java.base/java.net.AbstractPlainSocketImpl.doConnect(Unknown Source) ~[na:na]\n    at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source) ~[na:na]\n    at java.base/java.net.AbstractPlainSocketImpl.connect(Unknown Source) ~[na:na]\n    at java.base/java.net.SocksSocketImpl.connect(Unknown Source) ~[na:na]\n    at java.base/java.net.Socket.connect(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.connect(Unknown Source) ~[na:na]\n    at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:107) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:79) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:65) ~[mongodb-driver-core-4.6.1.jar:na]\n    ... 4 common frames omitted\n</code></pre>\n<p>As this seems to consistently happen after idle periods, I figured this may be a timeout issue. Various sources on the internet suggest setting <code>maxIdleTimeMS</code>, but to no avail. Please note that my service is working nonetheless and I can retrieve data via its REST API w/o any issues. It seems to be able to recover from the above-mentioned connection exceptions...</p>\n<p>My connection string looks as follows:</p>\n<pre><code>mongodb+srv://&lt;user&gt;:&lt;password&gt;@&lt;server&gt;.mongodb.net/&lt;db&gt;?retryWrites=true&amp;w=majority&amp;maxIdleTimeMS=60000\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","hibernate","curl"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1679029790,"post_id":75763937,"comment_id":133651103,"body_markdown":"Have you tried logging the ID _before_ you call `updateCustomer()`? Because from that debugging screenshot, there&#39;s no way of telling when `customerDetails` was evaluated.","body":"Have you tried logging the ID <i>before</i> you call <code>updateCustomer()</code>? Because from that debugging screenshot, there&#39;s no way of telling when <code>customerDetails</code> was evaluated."},{"owner":{"account_id":11741622,"reputation":302,"user_id":8593764,"display_name":"jennifer ruurs"},"score":0,"creation_date":1679030134,"post_id":75763937,"comment_id":133651150,"body_markdown":"Yes I did, I added another picture and edited my code to show the problem better.","body":"Yes I did, I added another picture and edited my code to show the problem better."},{"owner":{"account_id":10662643,"reputation":689,"user_id":7899567,"display_name":"Anton Tokmakov"},"score":0,"creation_date":1679035756,"post_id":75763937,"comment_id":133651898,"body_markdown":"try to put Column annotation for CustomerId property too. It&#39;s only difference between other properties","body":"try to put Column annotation for CustomerId property too. It&#39;s only difference between other properties"},{"owner":{"account_id":11741622,"reputation":302,"user_id":8593764,"display_name":"jennifer ruurs"},"score":0,"creation_date":1679036496,"post_id":75763937,"comment_id":133652004,"body_markdown":"@AntonTokmakov you mean adding `@Column(name=&quot;CustomerId&quot;)\n  private long CustomerId;` that did not help unfortunately","body":"@AntonTokmakov you mean adding <code>@Column(name=&quot;CustomerId&quot;)   private long CustomerId;</code> that did not help unfortunately"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1679039490,"post_id":75763937,"comment_id":133652683,"body_markdown":"I believe @RobbyCornelissen meant you should debug and check what is the payload before updating (not the result). Additionally, you can log the generated SQL with this: \n`logging.level.org.hibernate.SQL=DEBUG \nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE` \ncan you update the question with this information? Also, maybe share what is happening in financeService - is it a straight-forward call to the repo?","body":"I believe @RobbyCornelissen meant you should debug and check what is the payload before updating (not the result). Additionally, you can log the generated SQL with this:  <code>logging.level.org.hibernate.SQL=DEBUG  logging.level.org.hibernate.type.descriptor.sql.BasicBinder=&zwnj;&#8203;TRACE</code>  can you update the question with this information? Also, maybe share what is happening in financeService - is it a straight-forward call to the repo?"},{"owner":{"account_id":11741622,"reputation":302,"user_id":8593764,"display_name":"jennifer ruurs"},"score":0,"creation_date":1679039775,"post_id":75763937,"comment_id":133652738,"body_markdown":"@EmanuelTrandafir the hibernate part is not relevant because the object `Customer c1 = customerDetails;` does not with the hibernate yet or am I wrong? because customerDetails is the object that i pass with my curl post","body":"@EmanuelTrandafir the hibernate part is not relevant because the object <code>Customer c1 = customerDetails;</code> does not with the hibernate yet or am I wrong? because customerDetails is the object that i pass with my curl post"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1679040180,"post_id":75763937,"comment_id":133652842,"body_markdown":"oh, so you have this problem only when deserializing this json (before reaching hibernate). what else is in the `Customer` class? do you have getters and setters? What constructors do you have? `0` will be the default value for a long primitive and default constructor with no args. maybe jackson is missing a setter for that field?","body":"oh, so you have this problem only when deserializing this json (before reaching hibernate). what else is in the <code>Customer</code> class? do you have getters and setters? What constructors do you have? <code>0</code> will be the default value for a long primitive and default constructor with no args. maybe jackson is missing a setter for that field?"},{"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"score":0,"creation_date":1679041453,"post_id":75763937,"comment_id":133653121,"body_markdown":"@jenniferruurs would you mind sharing the getters and setters of the `Customer` class? As I saw your curl body `{&quot;CustomerId&quot;:1,&quot;name&quot;:&quot;Jen&quot;,&quot;street&quot;:&quot;Spanker&quot;,&quot;houseNumber&quot;:&quot;20&quot;,&quot;zipcode&quot;:&quot;3077ZD&quot;,&quot;email&quot;:&quot;nakzo&quot;,&quot;place&quot;:&quot;Amsterveen&quot;, &quot;phonenumber&quot;:&quot;06234234&quot;}`, when I change `CustomerId` to `customerId`, it can respond with your input value `1`.","body":"@jenniferruurs would you mind sharing the getters and setters of the <code>Customer</code> class? As I saw your curl body <code>{&quot;CustomerId&quot;:1,&quot;name&quot;:&quot;Jen&quot;,&quot;street&quot;:&quot;Spanker&quot;,&quot;houseNumber&zwnj;&#8203;&quot;:&quot;20&quot;,&quot;zipcode&quot;:&quot;30&zwnj;&#8203;77ZD&quot;,&quot;email&quot;:&quot;nakzo&zwnj;&#8203;&quot;,&quot;place&quot;:&quot;Amstervee&zwnj;&#8203;n&quot;, &quot;phonenumber&quot;:&quot;06234234&quot;}</code>, when I change <code>CustomerId</code> to <code>customerId</code>, it can respond with your input value <code>1</code>."},{"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"score":2,"creation_date":1679041536,"post_id":75763937,"comment_id":133653138,"body_markdown":"can you try changing your body to `{&quot;customerId&quot;:1,&quot;name&quot;:&quot;Jen&quot;,&quot;street&quot;:&quot;Spanker&quot;,&quot;houseNumber&quot;:&quot;20&quot;,&quot;zipcode&quot;:&quot;3077ZD&quot;,&quot;email&quot;:&quot;nakzo&quot;,&quot;place&quot;:&quot;Amsterveen&quot;, &quot;phonenumber&quot;:&quot;06234234&quot;}` and see if it changes the output?","body":"can you try changing your body to <code>{&quot;customerId&quot;:1,&quot;name&quot;:&quot;Jen&quot;,&quot;street&quot;:&quot;Spanker&quot;,&quot;houseNumber&zwnj;&#8203;&quot;:&quot;20&quot;,&quot;zipcode&quot;:&quot;30&zwnj;&#8203;77ZD&quot;,&quot;email&quot;:&quot;nakzo&zwnj;&#8203;&quot;,&quot;place&quot;:&quot;Amstervee&zwnj;&#8203;n&quot;, &quot;phonenumber&quot;:&quot;06234234&quot;}</code> and see if it changes the output?"},{"owner":{"account_id":11741622,"reputation":302,"user_id":8593764,"display_name":"jennifer ruurs"},"score":0,"creation_date":1679041903,"post_id":75763937,"comment_id":133653216,"body_markdown":"@PhilKu changing the capital letter was the issue indeed!","body":"@PhilKu changing the capital letter was the issue indeed!"}],"owner":{"account_id":11741622,"reputation":302,"user_id":8593764,"display_name":"jennifer ruurs"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679041564,"creation_date":1679029551,"question_id":75763937,"body_markdown":"I have model customer\r\n```\r\n\r\n@Entity\r\n@Table(name=&quot;t_customer&quot;)\r\n@XmlRootElement\r\npublic class Customer {\r\n\r\n\r\n  @Id\r\n  @GeneratedValue(strategy=GenerationType.SEQUENCE,generator=&quot;financeSeqGen&quot;)\r\n  @SequenceGenerator(name=&quot;financeSeqGen&quot;,sequenceName=&quot;finance_sequence&quot;)\r\n  @Column(name=&quot;CustomerId&quot;)\r\n  private long CustomerId;\r\n  @Column(name=&quot;name&quot;)\r\n  private String name;\r\n  @Column(name=&quot;street&quot;)\r\n  private String street;\r\n  @Column(name=&quot;houseNumber&quot;)\r\n  private String houseNumber;\r\n  @Column(name=&quot;zipcode&quot;)\r\n  private String zipcode;\r\n  @Column(name=&quot;place&quot;)\r\n  private String place;\r\n  @Column(name=&quot;email&quot;)\r\n  private String email;\r\n  @Column(name=&quot;phonenumber&quot;)\r\n  private String phonenumber;\r\n  @OneToMany(mappedBy=&quot;customer&quot;)\r\n  private Set&lt;Contract&gt; contracts = new HashSet&lt;&gt;();\r\n\r\n  public long getCustomerId() {\r\n    return CustomerId;\r\n  }\r\n\r\n  public void setCustomerId(long customerId) {\r\n    CustomerId = customerId;\r\n  }\r\n\r\n  public String getName() {\r\n    return name;\r\n  }\r\n\r\n  public void setName(String name) {\r\n    this.name = name;\r\n  }\r\n\r\n  public String getStreet() {\r\n    return street;\r\n  }\r\n\r\n  public void setStreet(String street) {\r\n    this.street = street;\r\n  }\r\n\r\n  public String getHouseNumber() {\r\n    return houseNumber;\r\n  }\r\n\r\n  public void setHouseNumber(String houseNumber) {\r\n    this.houseNumber = houseNumber;\r\n  }\r\n\r\n  public String getZipcode() {\r\n    return zipcode;\r\n  }\r\n\r\n  public void setZipcode(String zipcode) {\r\n    this.zipcode = zipcode;\r\n  }\r\n\r\n  public String getPlace() {\r\n    return place;\r\n  }\r\n\r\n  public void setPlace(String place) {\r\n    this.place = place;\r\n  }\r\n\r\n  public String getEmail() {\r\n    return email;\r\n  }\r\n\r\n  public void setEmail(String email) {\r\n    this.email = email;\r\n  }\r\n\r\n  public String getPhonenumber() {\r\n    return phonenumber;\r\n  }\r\n\r\n  public void setPhonenumber(String phonenumber) {\r\n    this.phonenumber = phonenumber;\r\n  }\r\n\r\n  @XmlTransient\r\n  @JsonIgnore\r\n  public Set&lt;Contract&gt; getContracts() {\r\n    return contracts;\r\n  }\r\n\r\n  public void setContracts(Set&lt;Contract&gt; contracts) {\r\n    this.contracts = contracts;\r\n  }\r\n\r\n\r\n  @Override\r\n  public String toString() {\r\n    return &quot;Customer[&quot; +\r\n        &quot;CustomerId=&quot; + CustomerId +\r\n        &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n        &quot;, street=&#39;&quot; + street + &#39;\\&#39;&#39; +\r\n        &quot;, houseNumber=&#39;&quot; + houseNumber + &#39;\\&#39;&#39; +\r\n        &quot;, zipcode=&#39;&quot; + zipcode + &#39;\\&#39;&#39; +\r\n        &quot;, place=&#39;&quot; + place + &#39;\\&#39;&#39; +\r\n        &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n        &quot;, phonenumber=&#39;&quot; + phonenumber + &#39;\\&#39;&#39; +\r\n        &#39;]&#39;;\r\n  }\r\n}\r\n```\r\n\r\nAnd I try to update the exciting Customer with ID 1(The update part works):\r\n```\r\n  @PostMapping(&quot;/custer&quot;)\r\n  public ResponseEntity&lt;Customer&gt; updateCustomer(@RequestBody Customer customerDetails){\r\n    Customer c1 = customerDetails;\r\n    //Customer customer = financeService.updateCustomer(c1);\r\n    return ResponseEntity.ok(c1);\r\n  }\r\n```\r\n\r\nThis is the result of Debugging:\r\n[![enter image description here][1]][1]\r\n\r\nAs you see the customerId is changing from 1 to zero (this also occurs if I change 1 to 2 or something else)\r\n\r\n\r\n\r\n\r\nMy Curl request is like:\r\n`curl --request POST --header &quot;Content-Type: application/json&quot; --data &#39;{&quot;CustomerId&quot;:1,&quot;name&quot;:&quot;Jen&quot;,&quot;street&quot;:&quot;Spanker&quot;,&quot;houseNumber&quot;:&quot;20&quot;,&quot;zipcode&quot;:&quot;3077ZD&quot;,&quot;email&quot;:&quot;nakzo&quot;,&quot;place&quot;:&quot;Amsterveen&quot;, &quot;phonenumber&quot;:&quot;06234234&quot;}&#39; localhost:5050/finance/update/custer`\r\n\r\nWhy is the customerId with 1 changing to 0?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W4ppl.png\r\n\r\n","title":"I am not able to receive the correct ID with from my Spring restApi","body":"<p>I have model customer</p>\n<pre><code>\n@Entity\n@Table(name=&quot;t_customer&quot;)\n@XmlRootElement\npublic class Customer {\n\n\n  @Id\n  @GeneratedValue(strategy=GenerationType.SEQUENCE,generator=&quot;financeSeqGen&quot;)\n  @SequenceGenerator(name=&quot;financeSeqGen&quot;,sequenceName=&quot;finance_sequence&quot;)\n  @Column(name=&quot;CustomerId&quot;)\n  private long CustomerId;\n  @Column(name=&quot;name&quot;)\n  private String name;\n  @Column(name=&quot;street&quot;)\n  private String street;\n  @Column(name=&quot;houseNumber&quot;)\n  private String houseNumber;\n  @Column(name=&quot;zipcode&quot;)\n  private String zipcode;\n  @Column(name=&quot;place&quot;)\n  private String place;\n  @Column(name=&quot;email&quot;)\n  private String email;\n  @Column(name=&quot;phonenumber&quot;)\n  private String phonenumber;\n  @OneToMany(mappedBy=&quot;customer&quot;)\n  private Set&lt;Contract&gt; contracts = new HashSet&lt;&gt;();\n\n  public long getCustomerId() {\n    return CustomerId;\n  }\n\n  public void setCustomerId(long customerId) {\n    CustomerId = customerId;\n  }\n\n  public String getName() {\n    return name;\n  }\n\n  public void setName(String name) {\n    this.name = name;\n  }\n\n  public String getStreet() {\n    return street;\n  }\n\n  public void setStreet(String street) {\n    this.street = street;\n  }\n\n  public String getHouseNumber() {\n    return houseNumber;\n  }\n\n  public void setHouseNumber(String houseNumber) {\n    this.houseNumber = houseNumber;\n  }\n\n  public String getZipcode() {\n    return zipcode;\n  }\n\n  public void setZipcode(String zipcode) {\n    this.zipcode = zipcode;\n  }\n\n  public String getPlace() {\n    return place;\n  }\n\n  public void setPlace(String place) {\n    this.place = place;\n  }\n\n  public String getEmail() {\n    return email;\n  }\n\n  public void setEmail(String email) {\n    this.email = email;\n  }\n\n  public String getPhonenumber() {\n    return phonenumber;\n  }\n\n  public void setPhonenumber(String phonenumber) {\n    this.phonenumber = phonenumber;\n  }\n\n  @XmlTransient\n  @JsonIgnore\n  public Set&lt;Contract&gt; getContracts() {\n    return contracts;\n  }\n\n  public void setContracts(Set&lt;Contract&gt; contracts) {\n    this.contracts = contracts;\n  }\n\n\n  @Override\n  public String toString() {\n    return &quot;Customer[&quot; +\n        &quot;CustomerId=&quot; + CustomerId +\n        &quot;, name='&quot; + name + '\\'' +\n        &quot;, street='&quot; + street + '\\'' +\n        &quot;, houseNumber='&quot; + houseNumber + '\\'' +\n        &quot;, zipcode='&quot; + zipcode + '\\'' +\n        &quot;, place='&quot; + place + '\\'' +\n        &quot;, email='&quot; + email + '\\'' +\n        &quot;, phonenumber='&quot; + phonenumber + '\\'' +\n        ']';\n  }\n}\n</code></pre>\n<p>And I try to update the exciting Customer with ID 1(The update part works):</p>\n<pre><code>  @PostMapping(&quot;/custer&quot;)\n  public ResponseEntity&lt;Customer&gt; updateCustomer(@RequestBody Customer customerDetails){\n    Customer c1 = customerDetails;\n    //Customer customer = financeService.updateCustomer(c1);\n    return ResponseEntity.ok(c1);\n  }\n</code></pre>\n<p>This is the result of Debugging:\n<a href=\"https://i.stack.imgur.com/W4ppl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W4ppl.png\" alt=\"enter image description here\" /></a></p>\n<p>As you see the customerId is changing from 1 to zero (this also occurs if I change 1 to 2 or something else)</p>\n<p>My Curl request is like:\n<code>curl --request POST --header &quot;Content-Type: application/json&quot; --data '{&quot;CustomerId&quot;:1,&quot;name&quot;:&quot;Jen&quot;,&quot;street&quot;:&quot;Spanker&quot;,&quot;houseNumber&quot;:&quot;20&quot;,&quot;zipcode&quot;:&quot;3077ZD&quot;,&quot;email&quot;:&quot;nakzo&quot;,&quot;place&quot;:&quot;Amsterveen&quot;, &quot;phonenumber&quot;:&quot;06234234&quot;}' localhost:5050/finance/update/custer</code></p>\n<p>Why is the customerId with 1 changing to 0?</p>\n"},{"tags":["java","android","c++","java-native-interface","buffer"],"owner":{"account_id":907717,"reputation":417,"user_id":942263,"accept_rate":29,"display_name":"Arun AC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679041550,"creation_date":1679037851,"question_id":75764754,"body_markdown":"I am rendering camera frame data over the graphics buffer created using &quot;::android::GraphicBuffer()&quot; in native C++ layer. \r\nI need to pass this buffer to upper Java layer to display it on a view.\r\n\r\nHow can I access the native buffer through JNI in java layer?\r\n","title":"How to access graphicsbuffer from Native C++ to Java Layer using JNI","body":"<p>I am rendering camera frame data over the graphics buffer created using &quot;::android::GraphicBuffer()&quot; in native C++ layer.\nI need to pass this buffer to upper Java layer to display it on a view.</p>\n<p>How can I access the native buffer through JNI in java layer?</p>\n"},{"tags":["java","spring","neo4j","spring-data-neo4j"],"answers":[{"tags":[],"owner":{"account_id":3133300,"reputation":7957,"user_id":2650436,"accept_rate":80,"display_name":"meistermeier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679041390,"creation_date":1679041390,"answer_id":75765221,"question_id":75758455,"body_markdown":"Spring Data Neo4j repositories, like all Spring Data repositories, operate entity-centric. This means it will happily map anything that will result in a proper instance of your domain classes (the ones annotated with `NodeEntity`). For this it needs for example the id and labels.\r\nYou are returning a map with loose values and SDN does not really know what to do with this.\r\n\r\nThere are a few options:\r\n1. You could use the `Neo4jClient` for this use-case. \r\nIt has a fluent API to execute the query, bind parameters and map the result with a custom mapper. https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#neo4j-client\r\nAlso, it participates in the Spring transactions as the repository does.\r\n2. You could write your own repository extension to encapsulate (1) within the repository. This might be the way to go if you are using more functionality of the `ChildrenRepository`. https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#repositories.custom-implementations\r\n3. You could define DTOs for the data collection. But they are a little bit limited and won&#39;t support the map structure. You would have to return the values flatten. Here is a repository that should give you an impression: https://github.com/spring-projects/spring-data-neo4j/blob/a41fbad5ab2976db3b5bc2e2d0018afab6920678/src/test/java/org/springframework/data/neo4j/integration/lite/SomeDomainRepository.java#L28","title":"Spring Data Neo4j - Null Response","body":"<p>Spring Data Neo4j repositories, like all Spring Data repositories, operate entity-centric. This means it will happily map anything that will result in a proper instance of your domain classes (the ones annotated with <code>NodeEntity</code>). For this it needs for example the id and labels.\nYou are returning a map with loose values and SDN does not really know what to do with this.</p>\n<p>There are a few options:</p>\n<ol>\n<li>You could use the <code>Neo4jClient</code> for this use-case.\nIt has a fluent API to execute the query, bind parameters and map the result with a custom mapper. <a href=\"https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#neo4j-client\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#neo4j-client</a>\nAlso, it participates in the Spring transactions as the repository does.</li>\n<li>You could write your own repository extension to encapsulate (1) within the repository. This might be the way to go if you are using more functionality of the <code>ChildrenRepository</code>. <a href=\"https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#repositories.custom-implementations\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#repositories.custom-implementations</a></li>\n<li>You could define DTOs for the data collection. But they are a little bit limited and won't support the map structure. You would have to return the values flatten. Here is a repository that should give you an impression: <a href=\"https://github.com/spring-projects/spring-data-neo4j/blob/a41fbad5ab2976db3b5bc2e2d0018afab6920678/src/test/java/org/springframework/data/neo4j/integration/lite/SomeDomainRepository.java#L28\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-neo4j/blob/a41fbad5ab2976db3b5bc2e2d0018afab6920678/src/test/java/org/springframework/data/neo4j/integration/lite/SomeDomainRepository.java#L28</a></li>\n</ol>\n"}],"owner":{"account_id":4054391,"reputation":929,"user_id":3332879,"accept_rate":38,"display_name":"Cugomastik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679041390,"creation_date":1678981300,"question_id":75758455,"body_markdown":"I am trying to run a custom CQL using Spring Data Neo4j. I believe I have most of the code working but I am getting a **null** value. Below is the code I have so far;\r\n\r\n**.properties:**\r\n\r\n    spring.neo4j.uri=bolt://localhost:9486\r\n    spring.neo4j.authentication.username=neo4j\r\n    spring.neo4j.authentication.password=password\r\n    logging.level.org.springframework.data.neo4j=DEBUG\r\n\r\n**pom.xml**\r\n \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-neo4j&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;!--        &lt;dependency&gt;--&gt;\r\n    &lt;!--            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;--&gt;\r\n    &lt;!--            &lt;artifactId&gt;spring-data-neo4j&lt;/artifactId&gt;--&gt;\r\n    &lt;!--        &lt;/dependency&gt;--&gt;\r\n\r\n**Entity class**\r\n\r\n    @Node(&quot;Job&quot;)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Data\r\n    public class Children {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private long id;\r\n        private ArrayList&lt;Children&gt; children;\r\n        private Text text;\r\n    \r\n    \r\n        @Getter\r\n        @Setter\r\n        public static class Text {\r\n            public String name;\r\n        }\r\n    }\r\n\r\n**Repository**\r\n\r\n    import com.horsefly.analyticsapi.model.node4j.Children;\r\n    import org.springframework.data.neo4j.repository.Neo4jRepository;\r\n    import org.springframework.data.neo4j.repository.query.Query;\r\n    import org.springframework.data.repository.query.Param;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface ChildrenRepository extends Neo4jRepository&lt;Children, Long&gt; {\r\n    \r\n        @Query(&quot;MATCH (j0:Job {Position: &#39;supervisor&#39;, jobCountryCode:&#39;uk&#39;}) WHERE j0.id=1 RETURN {text:{name: j0.Position}, children: []} AS Tree&quot;)\r\n        Children cqlTest();\r\n    \r\n    }\r\n\r\n**Component**\r\n\r\n    @Component\r\n    public class Neo4jBuilder {\r\n    \r\n        @Autowired\r\n        private ChildrenRepository childrenRepository;\r\n    \r\n        public String getChildren() {\r\n    \r\n            return childrenRepository.cqlTest();\r\n    \r\n        }\r\n    }\r\n\r\nI am trying to log the query that I am sending via the property in .properties but I am not seeing anything interesting. \r\n\r\n    2023-03-16 15:29:51.980 DEBUG 17480 --- [           main] o.s.d.n.r.c.StartupLogger                : Bootstrapping reactive Neo4j repositories based on SDN v6.1.6 with Spring Data Commons v2.5.6 and Neo4j Driver v4.2.7-b09866e7932eff1844519ce1a75c0cfdc3c782b3.\r\n    2023-03-16 15:29:52.005 DEBUG 17480 --- [           main] o.s.d.n.r.c.StartupLogger                : Bootstrapping imperative Neo4j repositories based on SDN v6.1.6 with Spring Data Commons v2.5.6 and Neo4j Driver v4.2.7-b09866e7932eff1844519ce1a75c0cfdc3c782b3.\r\n\r\n\r\nAlso, I used both dependencies individually and did not see any difference. \r\n\r\nThe &quot;*cqlTest*&quot; function returns null. However, when I run the same query on the browser, I am seeing the below result. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J1UwK.png\r\n\r\nI have a matching node (Job) and fields in the Children object but not sure why I am getting a null. Any help would be great. I tried **String** as the return type on the cqlTest() but no luck there as well\r\nThanks","title":"Spring Data Neo4j - Null Response","body":"<p>I am trying to run a custom CQL using Spring Data Neo4j. I believe I have most of the code working but I am getting a <strong>null</strong> value. Below is the code I have so far;</p>\n<p><strong>.properties:</strong></p>\n<pre><code>spring.neo4j.uri=bolt://localhost:9486\nspring.neo4j.authentication.username=neo4j\nspring.neo4j.authentication.password=password\nlogging.level.org.springframework.data.neo4j=DEBUG\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-neo4j&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-data-neo4j&lt;/artifactId&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n</code></pre>\n<p><strong>Entity class</strong></p>\n<pre><code>@Node(&quot;Job&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class Children {\n\n    @Id\n    @GeneratedValue\n    private long id;\n    private ArrayList&lt;Children&gt; children;\n    private Text text;\n\n\n    @Getter\n    @Setter\n    public static class Text {\n        public String name;\n    }\n}\n</code></pre>\n<p><strong>Repository</strong></p>\n<pre><code>import com.horsefly.analyticsapi.model.node4j.Children;\nimport org.springframework.data.neo4j.repository.Neo4jRepository;\nimport org.springframework.data.neo4j.repository.query.Query;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface ChildrenRepository extends Neo4jRepository&lt;Children, Long&gt; {\n\n    @Query(&quot;MATCH (j0:Job {Position: 'supervisor', jobCountryCode:'uk'}) WHERE j0.id=1 RETURN {text:{name: j0.Position}, children: []} AS Tree&quot;)\n    Children cqlTest();\n\n}\n</code></pre>\n<p><strong>Component</strong></p>\n<pre><code>@Component\npublic class Neo4jBuilder {\n\n    @Autowired\n    private ChildrenRepository childrenRepository;\n\n    public String getChildren() {\n\n        return childrenRepository.cqlTest();\n\n    }\n}\n</code></pre>\n<p>I am trying to log the query that I am sending via the property in .properties but I am not seeing anything interesting.</p>\n<pre><code>2023-03-16 15:29:51.980 DEBUG 17480 --- [           main] o.s.d.n.r.c.StartupLogger                : Bootstrapping reactive Neo4j repositories based on SDN v6.1.6 with Spring Data Commons v2.5.6 and Neo4j Driver v4.2.7-b09866e7932eff1844519ce1a75c0cfdc3c782b3.\n2023-03-16 15:29:52.005 DEBUG 17480 --- [           main] o.s.d.n.r.c.StartupLogger                : Bootstrapping imperative Neo4j repositories based on SDN v6.1.6 with Spring Data Commons v2.5.6 and Neo4j Driver v4.2.7-b09866e7932eff1844519ce1a75c0cfdc3c782b3.\n</code></pre>\n<p>Also, I used both dependencies individually and did not see any difference.</p>\n<p>The &quot;<em>cqlTest</em>&quot; function returns null. However, when I run the same query on the browser, I am seeing the below result.</p>\n<p><a href=\"https://i.stack.imgur.com/J1UwK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J1UwK.png\" alt=\"enter image description here\" /></a></p>\n<p>I have a matching node (Job) and fields in the Children object but not sure why I am getting a null. Any help would be great. I tried <strong>String</strong> as the return type on the cqlTest() but no luck there as well\nThanks</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679041025,"creation_date":1679041025,"answer_id":75765175,"question_id":75759269,"body_markdown":"What you are describing is polling, and Spring Batch provides the [Poller](https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/poller/Poller.html) API for that:\r\n\r\n```\r\nPoller&lt;Result&gt; poller = new DirectPoller(3000); 3s polling interval\r\n\r\n final long id = remoteService.execute(); // do something remotely\r\n\r\n Future&lt;Result&gt; future = poller.poll(new Callable&lt;Result&gt; {\r\n     public Object call() {\r\n           // Look for the result (null if not ready)\r\n           return remoteService.get(id);\r\n     }\r\n });\r\n\r\n Result result = future.get(1000L, TimeUnit.MILLISECONDS);\r\n```\r\n\r\nThe `DirectPoller` implementation provides a parameter to specify the polling interval which should solve your issue.","title":"Spring Batch - Delay between Tasklet execution","body":"<p>What you are describing is polling, and Spring Batch provides the <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/poller/Poller.html\" rel=\"nofollow noreferrer\">Poller</a> API for that:</p>\n<pre><code>Poller&lt;Result&gt; poller = new DirectPoller(3000); 3s polling interval\n\n final long id = remoteService.execute(); // do something remotely\n\n Future&lt;Result&gt; future = poller.poll(new Callable&lt;Result&gt; {\n     public Object call() {\n           // Look for the result (null if not ready)\n           return remoteService.get(id);\n     }\n });\n\n Result result = future.get(1000L, TimeUnit.MILLISECONDS);\n</code></pre>\n<p>The <code>DirectPoller</code> implementation provides a parameter to specify the polling interval which should solve your issue.</p>\n"}],"owner":{"account_id":1078432,"reputation":69,"user_id":1076078,"display_name":"IdealOutage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75765175,"answer_count":1,"score":0,"last_activity_date":1679041025,"creation_date":1678985505,"question_id":75759269,"body_markdown":"I&#39;m currently looking into Spring Batch to create persistable tasks. My tasks are, most of the time, quite simple, e.g.:\r\n\r\n 1. Submit something to an API\r\n 2. Wait until the task is finished (by repeatedly calling an API to check the status)\r\n 3. Retrieve the results\r\n\r\nThis looks like something I could achieve using a [Tasklet](https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#taskletStep). \r\n\r\n```java\r\npublic class WaitingForAPITask implements Tasklet {\r\n\r\n    @Override\r\n    public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext)  {\r\n        if(checkExternalAPIIfReady()){\r\n            return RepeatStatus.FINISHED;\r\n        }\r\n        \r\n\r\n        return RepeatStatus.CONTINUABLE;\r\n    }\r\n\r\n}\r\n```\r\n\r\nHowever, using this implementation would bombard the API with hundreds or thousands of calls per second. Hence my question, is there any way to control the delay between successive `execute(...)` calls? An easy solution would be to include a Thread.sleep() call in the `execute(...)` method. However this feels kind of like a bad coding style. Are there any other possibilities? Or is there a better solution I&#39;m missing? I&#39;m currently looking at Spring Batch due to the fact that jobs are persisted and the possibility to chain tasks.\r\n","title":"Spring Batch - Delay between Tasklet execution","body":"<p>I'm currently looking into Spring Batch to create persistable tasks. My tasks are, most of the time, quite simple, e.g.:</p>\n<ol>\n<li>Submit something to an API</li>\n<li>Wait until the task is finished (by repeatedly calling an API to check the status)</li>\n<li>Retrieve the results</li>\n</ol>\n<p>This looks like something I could achieve using a <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#taskletStep\" rel=\"nofollow noreferrer\">Tasklet</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WaitingForAPITask implements Tasklet {\n\n    @Override\n    public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext)  {\n        if(checkExternalAPIIfReady()){\n            return RepeatStatus.FINISHED;\n        }\n        \n\n        return RepeatStatus.CONTINUABLE;\n    }\n\n}\n</code></pre>\n<p>However, using this implementation would bombard the API with hundreds or thousands of calls per second. Hence my question, is there any way to control the delay between successive <code>execute(...)</code> calls? An easy solution would be to include a Thread.sleep() call in the <code>execute(...)</code> method. However this feels kind of like a bad coding style. Are there any other possibilities? Or is there a better solution I'm missing? I'm currently looking at Spring Batch due to the fact that jobs are persisted and the possibility to chain tasks.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":3540948,"reputation":5877,"user_id":2958086,"display_name":"Compass"},"score":0,"creation_date":1491859288,"post_id":43333050,"comment_id":73730437,"body_markdown":"Find Array2 how? By index, or by reference?","body":"Find Array2 how? By index, or by reference?"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1491859326,"post_id":43333050,"comment_id":73730454,"body_markdown":"`str.equals` or `inner.equals` ?","body":"<code>str.equals</code> or <code>inner.equals</code> ?"},{"owner":{"account_id":3449301,"reputation":2732,"user_id":2889297,"display_name":"Devendra Lattu"},"score":0,"creation_date":1491860965,"post_id":43333050,"comment_id":73731139,"body_markdown":"@brazjul, kindly find an alternative approach of constructing ArrayLists in my code solution.","body":"@brazjul, kindly find an alternative approach of constructing ArrayLists in my code solution."}],"answers":[{"tags":[],"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1491859293,"creation_date":1491859293,"answer_id":43333082,"question_id":43333050,"body_markdown":"You can use the following:\r\n\r\n    for (ArrayList&lt;String&gt; Outer : Array3) {\r\n        for (int i = 0; i &lt; Outer.size(); i++) {\r\n            if (Outer == Array2 &amp;&amp; Outer.get(i).equals(&quot;1&quot;)) {\r\n                // The index is stored in &#39;i&#39;\r\n            }\r\n        }\r\n    }\r\n\r\nAlthough I don&#39;t understand why you want to iterate through both `ArrayList`s when you&#39;re only looking for the indices in the latter.\r\n\r\nIt would be easier to just iterate through `Array2`:\r\n\r\n    for (int i = 0; i &lt; Array2.size(); i++) {\r\n        if (Array2.get(i).equals(&quot;1&quot;)) {\r\n            // The index is stored in &#39;i&#39;\r\n        }\r\n    }","title":"How to Access Indices of ArrayList Inside Another ArrayList?","body":"<p>You can use the following:</p>\n\n<pre><code>for (ArrayList&lt;String&gt; Outer : Array3) {\n    for (int i = 0; i &lt; Outer.size(); i++) {\n        if (Outer == Array2 &amp;&amp; Outer.get(i).equals(\"1\")) {\n            // The index is stored in 'i'\n        }\n    }\n}\n</code></pre>\n\n<p>Although I don't understand why you want to iterate through both <code>ArrayList</code>s when you're only looking for the indices in the latter.</p>\n\n<p>It would be easier to just iterate through <code>Array2</code>:</p>\n\n<pre><code>for (int i = 0; i &lt; Array2.size(); i++) {\n    if (Array2.get(i).equals(\"1\")) {\n        // The index is stored in 'i'\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6467922,"reputation":143,"user_id":5009116,"display_name":"Akshat Bansal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1491860032,"creation_date":1491860032,"answer_id":43333227,"question_id":43333050,"body_markdown":"This is what your main should look like\r\n\r\n    public static void main(String[] args) {\r\n\r\n\t    ArrayList&lt;String&gt; Array1 = new ArrayList&lt;String&gt;();\r\n\r\n\t    // Array 1: [0][1][0][0][1]\r\n\r\n\t    Array1.add(&quot;0&quot;);\r\n\t    Array1.add(&quot;1&quot;);\r\n\t    Array1.add(&quot;0&quot;);\r\n\t    Array1.add(&quot;0&quot;);\r\n\t    Array1.add(&quot;1&quot;);\r\n\r\n\t    ArrayList&lt;String&gt; Array2 = new ArrayList&lt;String&gt;();\r\n\r\n\t    // Array 2: [1][0][0][1][0]\r\n\r\n\t    Array2.add(&quot;1&quot;);\r\n\t    Array2.add(&quot;0&quot;);\r\n\t    Array2.add(&quot;0&quot;);\r\n\t    Array2.add(&quot;1&quot;);\r\n\t    Array2.add(&quot;0&quot;);\r\n\r\n\t    ArrayList&lt;ArrayList&lt;String&gt;&gt; Array3 = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\r\n\r\n\t    // Array 3: [Array1][Array2]\r\n\r\n\t    Array3.add(Array1);\r\n\t    Array3.add(Array2);\r\n\r\n\t// Now Find every indices or occurrences in Array2 where value is &quot;1&quot;\r\n\t    int i = 0;\r\n\t    for (String  s: Array3.get(1)) {\r\n\t        \t\r\n\t            if (s.equals(&quot;1&quot;)) {\r\n\t                // Get all indices where &quot;1&quot; is found inside Array2 ?\r\n\r\n\t            \t\tSystem.out.println(i);\r\n\t         }\r\n\t            i++;\r\n\t      }\r\n\t   }\r\nIf you only want to find in the 2nd ArrayList loop only thorough it. Get if from Array3 via get function","title":"How to Access Indices of ArrayList Inside Another ArrayList?","body":"<p>This is what your main should look like</p>\n\n<pre><code>public static void main(String[] args) {\n\n    ArrayList&lt;String&gt; Array1 = new ArrayList&lt;String&gt;();\n\n    // Array 1: [0][1][0][0][1]\n\n    Array1.add(\"0\");\n    Array1.add(\"1\");\n    Array1.add(\"0\");\n    Array1.add(\"0\");\n    Array1.add(\"1\");\n\n    ArrayList&lt;String&gt; Array2 = new ArrayList&lt;String&gt;();\n\n    // Array 2: [1][0][0][1][0]\n\n    Array2.add(\"1\");\n    Array2.add(\"0\");\n    Array2.add(\"0\");\n    Array2.add(\"1\");\n    Array2.add(\"0\");\n\n    ArrayList&lt;ArrayList&lt;String&gt;&gt; Array3 = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n\n    // Array 3: [Array1][Array2]\n\n    Array3.add(Array1);\n    Array3.add(Array2);\n\n// Now Find every indices or occurrences in Array2 where value is \"1\"\n    int i = 0;\n    for (String  s: Array3.get(1)) {\n\n            if (s.equals(\"1\")) {\n                // Get all indices where \"1\" is found inside Array2 ?\n\n                    System.out.println(i);\n         }\n            i++;\n      }\n   }\n</code></pre>\n\n<p>If you only want to find in the 2nd ArrayList loop only thorough it. Get if from Array3 via get function</p>\n"},{"tags":[],"owner":{"account_id":3449301,"reputation":2732,"user_id":2889297,"display_name":"Devendra Lattu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1491860362,"creation_date":1491860362,"answer_id":43333296,"question_id":43333050,"body_markdown":"I would recommend changing `ArrayList&lt;String&gt;` to `ArrayList&lt;Integer&gt;` as a good coding approach.\r\n\r\n\t\tArrayList&lt;Integer&gt; Array1 = new ArrayList&lt;Integer&gt;(Arrays.asList(0,1,0,0,1));\r\n\t\tArrayList&lt;Integer&gt; Array2 = new ArrayList&lt;Integer&gt;(Arrays.asList(1,0,0,1,0));\r\n        // Quick way to clear ArrayList\r\n\r\n\t\tList&lt;ArrayList&lt;Integer&gt;&gt; Array3 = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\r\n\t\tArray3.add(Array1);\r\n\t\tArray3.add(Array2);\r\n\r\n\t\tfor (ArrayList&lt;Integer&gt; al : Array3) {\r\n\t\t\tif (al != Array2) { // check only for ArrayList2\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tfor (Integer I : al) { // Iterate ArrayList2\r\n\t\t\t\tif (I.equals(1)) {\r\n\t\t\t\t\t// 1 is stored in ArrayList2\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"How to Access Indices of ArrayList Inside Another ArrayList?","body":"<p>I would recommend changing <code>ArrayList&lt;String&gt;</code> to <code>ArrayList&lt;Integer&gt;</code> as a good coding approach.</p>\n\n<pre><code>    ArrayList&lt;Integer&gt; Array1 = new ArrayList&lt;Integer&gt;(Arrays.asList(0,1,0,0,1));\n    ArrayList&lt;Integer&gt; Array2 = new ArrayList&lt;Integer&gt;(Arrays.asList(1,0,0,1,0));\n    // Quick way to clear ArrayList\n\n    List&lt;ArrayList&lt;Integer&gt;&gt; Array3 = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\n    Array3.add(Array1);\n    Array3.add(Array2);\n\n    for (ArrayList&lt;Integer&gt; al : Array3) {\n        if (al != Array2) { // check only for ArrayList2\n            continue;\n        }\n        for (Integer I : al) { // Iterate ArrayList2\n            if (I.equals(1)) {\n                // 1 is stored in ArrayList2\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5523724,"reputation":22000,"user_id":4385895,"accept_rate":58,"display_name":"Vasu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491862409,"creation_date":1491862228,"answer_id":43333683,"question_id":43333050,"body_markdown":"If you are interested in finding the count (occurances) of &quot;1&quot; from `Array2`, it is a simple solution from Java8 as shown below with inline comments:\r\n\r\n    Array3.stream().\r\n        skip(1). //skip the first array\r\n        flatMap(List::stream). //get the stream of elements from second array\r\n        filter(value -&gt;  value.equals(&quot;1&quot;)).//check which elements are equal to 1\r\n        count();//count how many\r\n\r\nAlso, I strongly suggest you **follow Java naming standards strictly** (refer [here][1]) like variable names must be starting with lowercase (like `array3`, not `Array3`) so that it will be easier to read and follow your code.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/codeconventions-135099.html","title":"How to Access Indices of ArrayList Inside Another ArrayList?","body":"<p>If you are interested in finding the count (occurances) of \"1\" from <code>Array2</code>, it is a simple solution from Java8 as shown below with inline comments:</p>\n\n<pre><code>Array3.stream().\n    skip(1). //skip the first array\n    flatMap(List::stream). //get the stream of elements from second array\n    filter(value -&gt;  value.equals(\"1\")).//check which elements are equal to 1\n    count();//count how many\n</code></pre>\n\n<p>Also, I strongly suggest you <strong>follow Java naming standards strictly</strong> (refer <a href=\"http://www.oracle.com/technetwork/java/codeconventions-135099.html\" rel=\"nofollow noreferrer\">here</a>) like variable names must be starting with lowercase (like <code>array3</code>, not <code>Array3</code>) so that it will be easier to read and follow your code.</p>\n"},{"tags":[],"owner":{"account_id":27295375,"reputation":1,"user_id":20813086,"display_name":"Shivam Siddharth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679040570,"creation_date":1679040570,"answer_id":75765116,"question_id":43333050,"body_markdown":"    for (List&lt;Long&gt; range : queries) {\r\n\r\n            long l = range.get(0);\r\n            long r = range.get(1);\r\n\r\n","title":"How to Access Indices of ArrayList Inside Another ArrayList?","body":"<pre><code>for (List&lt;Long&gt; range : queries) {\n\n        long l = range.get(0);\n        long r = range.get(1);\n</code></pre>\n"}],"owner":{"account_id":7915338,"reputation":339,"user_id":5977953,"accept_rate":65,"display_name":"brazjul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1384,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43333082,"answer_count":5,"score":1,"last_activity_date":1679040570,"creation_date":1491859130,"question_id":43333050,"body_markdown":"I&#39;m working on an recursive programming assignment, and I&#39;m trying to find out how to loop and get values of an ArrayList inside of a bigger ArrayList. I found that others have asked this question before, but it is still not very clear how this can be done precisely. \r\n\r\nHere is an example of what I&#39;m trying to do: \r\n\r\n    import java.util.*;\r\n\r\n    public class Test{\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tArrayList&lt;String&gt; Array1 = new ArrayList&lt;String&gt;();\r\n\r\n\t\t// Array 1: [0][1][0][0][1]\r\n\r\n\t\tArray1.add(&quot;0&quot;);\r\n\t\tArray1.add(&quot;1&quot;);\r\n\t\tArray1.add(&quot;0&quot;);\r\n\t\tArray1.add(&quot;0&quot;);\r\n\t\tArray1.add(&quot;1&quot;);\r\n\r\n\t\tArrayList&lt;String&gt; Array2 = new ArrayList&lt;String&gt;();\r\n\r\n\t\t// Array 2: [1][0][0][1][0]\r\n\r\n\t\tArray2.add(&quot;1&quot;);\r\n\t\tArray2.add(&quot;0&quot;);\r\n\t\tArray2.add(&quot;0&quot;);\r\n\t\tArray2.add(&quot;1&quot;);\r\n\t\tArray2.add(&quot;0&quot;);\r\n\r\n\t\tArrayList&lt;ArrayList&lt;String&gt;&gt; Array3 = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\r\n\r\n\t\t// Array 3: [Array1][Array2]\r\n\r\n\t\tArray3.add(Array1);\r\n\t\tArray3.add(Array2);\r\n\r\n\t// Now Find every indices or occurrences in Array2 where value is &quot;1&quot;\r\n\r\n\t\tfor (ArrayList&lt;String&gt; Outer : Array3) {\r\n\t\t\tfor (String inner : Outer) {\r\n\t\t\t\tif (str.equals(&quot;1&quot;)) {\r\n\t\t\t\t\t// Get all indices where &quot;1&quot; is found inside Array2 ?\r\n\r\n\t\t\t\t}\r\n\t\t\t }\r\n\t\t  }\r\n\t   }\r\n    }\r\n\r\n\r\nSo I have Array3 that stores **Array1** and **Array2**, and what I want to do is loop through Array3, find Array2 and indices in Array2 where value is &quot;1&quot;.\r\n\r\nThe problem with the loop in in this code is that it loops through all values in Array1 and Array2 whereas I&#39;m just trying to find the values inside Array2. ","title":"How to Access Indices of ArrayList Inside Another ArrayList?","body":"<p>I'm working on an recursive programming assignment, and I'm trying to find out how to loop and get values of an ArrayList inside of a bigger ArrayList. I found that others have asked this question before, but it is still not very clear how this can be done precisely. </p>\n\n<p>Here is an example of what I'm trying to do: </p>\n\n<pre><code>import java.util.*;\n\npublic class Test{\n\npublic static void main(String[] args) {\n\n    ArrayList&lt;String&gt; Array1 = new ArrayList&lt;String&gt;();\n\n    // Array 1: [0][1][0][0][1]\n\n    Array1.add(\"0\");\n    Array1.add(\"1\");\n    Array1.add(\"0\");\n    Array1.add(\"0\");\n    Array1.add(\"1\");\n\n    ArrayList&lt;String&gt; Array2 = new ArrayList&lt;String&gt;();\n\n    // Array 2: [1][0][0][1][0]\n\n    Array2.add(\"1\");\n    Array2.add(\"0\");\n    Array2.add(\"0\");\n    Array2.add(\"1\");\n    Array2.add(\"0\");\n\n    ArrayList&lt;ArrayList&lt;String&gt;&gt; Array3 = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n\n    // Array 3: [Array1][Array2]\n\n    Array3.add(Array1);\n    Array3.add(Array2);\n\n// Now Find every indices or occurrences in Array2 where value is \"1\"\n\n    for (ArrayList&lt;String&gt; Outer : Array3) {\n        for (String inner : Outer) {\n            if (str.equals(\"1\")) {\n                // Get all indices where \"1\" is found inside Array2 ?\n\n            }\n         }\n      }\n   }\n}\n</code></pre>\n\n<p>So I have Array3 that stores <strong>Array1</strong> and <strong>Array2</strong>, and what I want to do is loop through Array3, find Array2 and indices in Array2 where value is \"1\".</p>\n\n<p>The problem with the loop in in this code is that it loops through all values in Array1 and Array2 whereas I'm just trying to find the values inside Array2. </p>\n"},{"tags":["java","spring-boot","junit","mockito","spring-transactions"],"comments":[{"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"score":0,"creation_date":1678877106,"post_id":75743175,"comment_id":133616895,"body_markdown":"The right anotation to use is:\n\n@ Mock\nprivate DataSourceTransactionManager dataSourceTransactionManager;\n\nBut you need to take into consideration that this will only work if the is declared in the class you want to test as @ Autowired. And in the test the class you want to test is annotated with @ InjectMocks.","body":"The right anotation to use is:  @ Mock private DataSourceTransactionManager dataSourceTransactionManager;  But you need to take into consideration that this will only work if the is declared in the class you want to test as @ Autowired. And in the test the class you want to test is annotated with @ InjectMocks."},{"owner":{"account_id":28022059,"reputation":1,"user_id":21402689,"display_name":"zoe610"},"score":0,"creation_date":1678938230,"post_id":75743175,"comment_id":133631166,"body_markdown":"@Joan when I change annotation to @Mock, it crash eariler.\njava.lang.NullPointerException\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:348)\n\tat com.jidu.vehicle.user.ares.backend.server.module.equity.application.MockTxTest.setUp(MockTxTest.java:87)\n\n\n\n```\n    @Before\n    public void setUp() {\n        MockitoAnnotations.initMocks(this);\n        status = dataSourceTransactionManager.getTransaction(def);\n    }\n```","body":"@Joan when I change annotation to @Mock, it crash eariler. java.lang.NullPointerException \tat org.springframework.transaction.support.AbstractPlatformTran&zwnj;&#8203;sactionManager.getTr&zwnj;&#8203;ansaction(AbstractPl&zwnj;&#8203;atformTransactionMan&zwnj;&#8203;ager.java:348) \tat com.jidu.vehicle.user.ares.backend.server.module.equity.appl&zwnj;&#8203;ication.MockTxTest.s&zwnj;&#8203;etUp(MockTxTest.java&zwnj;&#8203;:87)    ```     @Before     public void setUp() {         MockitoAnnotations.initMocks(this);         status = dataSourceTransactionManager.getTransaction(def);     } ```"},{"owner":{"account_id":28022059,"reputation":1,"user_id":21402689,"display_name":"zoe610"},"score":0,"creation_date":1678938655,"post_id":75743175,"comment_id":133631214,"body_markdown":"@Joan \n```\n@Mock is similar to @MockBean and the latter can inject into spring container, and @SpyBean can mock spring-definition beans.","body":"@Joan  ``` @Mock is similar to @MockBean and the latter can inject into spring container, and @SpyBean can mock spring-definition beans."},{"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"score":0,"creation_date":1679038849,"post_id":75743175,"comment_id":133652517,"body_markdown":"Can you provide the code of the class you want to test?","body":"Can you provide the code of the class you want to test?"},{"owner":{"account_id":28022059,"reputation":1,"user_id":21402689,"display_name":"zoe610"},"score":0,"creation_date":1679040552,"post_id":75743175,"comment_id":133652933,"body_markdown":"@Joan commit it.","body":"@Joan commit it."}],"owner":{"account_id":28022059,"reputation":1,"user_id":21402689,"display_name":"zoe610"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679040533,"creation_date":1678874644,"question_id":75743175,"body_markdown":"```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(classes = SpringBootServerApplication.class)\r\npublic class MockTxTest {\r\n\r\n    @Resource\r\n    private Service service;\r\n\r\n\r\n    @SpyBean\r\n    private DataSourceTransactionManager dataSourceTransactionManager;\r\n\r\n    private static DefaultTransactionDefinition def;\r\n    private static TransactionStatus status;\r\n\r\n    static {\r\n        def = new DefaultTransactionDefinition();\r\n        def.setPropagationBehavior(TransactionDefinition.PROPAGATION_REQUIRES_NEW);\r\n    }\r\n\r\n    @Before\r\n    public void setUp() {\r\n        MockitoAnnotations.initMocks(this);\r\n        status = dataSourceTransactionManager.getTransaction(def);\r\n    }\r\n\r\n    @Test\r\n    public void test_tx() {\r\n        doReturn(status).when(dataSourceTransactionManager).getTransaction(def);\r\n//        doNothing().when(dataSourceTransactionManager).commit(any());\r\n \r\n        Assert.assertTrue(service.method() != 0);\r\n        verify(dataSourceTransactionManager, times(1)).getTransaction(def);\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhen I debug the code, this sentence throws NullpointException\r\n```\r\n        doReturn(status).when(dataSourceTransactionManager).getTransaction(def);\r\n\r\n```\r\n\r\nI know little about spring bean, how can I mock transaction manager?\r\n\r\nI used @MockBean on DataSourceTransactionManager, but it also a NPE;I don&#39;t understand why the transactionManager could be null after spring loading\r\n\r\n\r\n\r\nservice code:\r\n```\r\npublic class Service service{\r\n    @Resource\r\n    private DataSourceTransactionManager dataSourceTransactionManager;\r\n\r\n        TransactionDefinition definition = new DefaultTransactionDefinition();\r\n        TransactionStatus status = dataSourceTransactionManager.getTransaction(definition);\r\n\r\ntry{\r\n            doThing();\r\n            dataSourceTransactionManager.commit(status);\r\n}catch (Exception ex) {\r\n            log.error(&quot;exception,bo:{} ,ex&quot;, bo, ex);\r\n            dataSourceTransactionManager.rollback(status);\r\n            throw new Exception();\r\n        }\r\n\r\n}\r\n```","title":"How can I mock DataSourceTransactionManager with SpringBoot and Mockito?","body":"<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = SpringBootServerApplication.class)\npublic class MockTxTest {\n\n    @Resource\n    private Service service;\n\n\n    @SpyBean\n    private DataSourceTransactionManager dataSourceTransactionManager;\n\n    private static DefaultTransactionDefinition def;\n    private static TransactionStatus status;\n\n    static {\n        def = new DefaultTransactionDefinition();\n        def.setPropagationBehavior(TransactionDefinition.PROPAGATION_REQUIRES_NEW);\n    }\n\n    @Before\n    public void setUp() {\n        MockitoAnnotations.initMocks(this);\n        status = dataSourceTransactionManager.getTransaction(def);\n    }\n\n    @Test\n    public void test_tx() {\n        doReturn(status).when(dataSourceTransactionManager).getTransaction(def);\n//        doNothing().when(dataSourceTransactionManager).commit(any());\n \n        Assert.assertTrue(service.method() != 0);\n        verify(dataSourceTransactionManager, times(1)).getTransaction(def);\n\n    }\n}\n\n</code></pre>\n<p>When I debug the code, this sentence throws NullpointException</p>\n<pre><code>        doReturn(status).when(dataSourceTransactionManager).getTransaction(def);\n\n</code></pre>\n<p>I know little about spring bean, how can I mock transaction manager?</p>\n<p>I used @MockBean on DataSourceTransactionManager, but it also a NPE;I don't understand why the transactionManager could be null after spring loading</p>\n<p>service code:</p>\n<pre><code>public class Service service{\n    @Resource\n    private DataSourceTransactionManager dataSourceTransactionManager;\n\n        TransactionDefinition definition = new DefaultTransactionDefinition();\n        TransactionStatus status = dataSourceTransactionManager.getTransaction(definition);\n\ntry{\n            doThing();\n            dataSourceTransactionManager.commit(status);\n}catch (Exception ex) {\n            log.error(&quot;exception,bo:{} ,ex&quot;, bo, ex);\n            dataSourceTransactionManager.rollback(status);\n            throw new Exception();\n        }\n\n}\n</code></pre>\n"},{"tags":["java","logging","microservices","kibana","log4j2"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1679042016,"post_id":75765095,"comment_id":133653245,"body_markdown":"or you can keep one copy of log4j2.xml in a shared folder accessible by all, then create a symbolic link that points to this log4j2.xml and use that for each of your applications?","body":"or you can keep one copy of log4j2.xml in a shared folder accessible by all, then create a symbolic link that points to this log4j2.xml and use that for each of your applications?"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1679042432,"post_id":75765095,"comment_id":133653341,"body_markdown":"The `log4j2.configurationFile` parameter can be an URL.","body":"The <code>log4j2.configurationFile</code> parameter can be an URL."},{"owner":{"account_id":1041005,"reputation":11,"user_id":1047032,"display_name":"HenriR"},"score":0,"creation_date":1679042640,"post_id":75765095,"comment_id":133653394,"body_markdown":"@piotrP.Karwasz Have you experience of that in a multi service environment?","body":"@piotrP.Karwasz Have you experience of that in a multi service environment?"},{"owner":{"account_id":1041005,"reputation":11,"user_id":1047032,"display_name":"HenriR"},"score":0,"creation_date":1679042790,"post_id":75765095,"comment_id":133653424,"body_markdown":"@experimentunit1998X I guess what Piotr suggested could be seen as &quot;externalized log configuration&quot;.","body":"@experimentunit1998X I guess what Piotr suggested could be seen as &quot;externalized log configuration&quot;."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1679046312,"post_id":75765095,"comment_id":133654280,"body_markdown":"Check [Ralph&#39;s answer to this question](https://stackoverflow.com/a/74931985/11748454).","body":"Check <a href=\"https://stackoverflow.com/a/74931985/11748454\">Ralph&#39;s answer to this question</a>."}],"owner":{"account_id":1041005,"reputation":11,"user_id":1047032,"display_name":"HenriR"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679040467,"creation_date":1679040467,"question_id":75765095,"body_markdown":"Assume I know how to setup and use Log4j2 for gathering logs from one service.\r\n\r\nNow let&#39;s consider a case where **logging** is wanted on a **multiple services**, let&#39;s say 50 just to have a number. Company also want&#39;s to use a **central logging** approach where all logs will be available in a tool, e.g. Kibana.\r\n\r\nTo make it easier (or even possible) to find relevant data in Kibana, it is necessary to have the same type of information and formatting (**standards**) of the log entries. \r\n\r\n**What alternatives are there** to make sure that all (50) services and any new services are configured in the same way?\r\n\r\nProbably, the most common way is to have a copy of the log4j2.xml in each service. But I see some cons with this approach. \r\n1. If a change is needed, it needs to be applied to 50 services in 50 different code repositories.\r\n2. For new services, copying often happens from an existing service. If that service already diverged, then you have another service not following the &quot;standards&quot;.\r\n3. A copy of log4j2.xml might actually mean more than one, if you have environment specific configurations...\r\n\r\n&quot;Externalized log configuration&quot; is there such a thing?\r\nHow have you tackled this problem?\r\nOr is it not a real problem? :) ","title":"Sharing Log4j2 configuration between services to ensure same formatting etc.?","body":"<p>Assume I know how to setup and use Log4j2 for gathering logs from one service.</p>\n<p>Now let's consider a case where <strong>logging</strong> is wanted on a <strong>multiple services</strong>, let's say 50 just to have a number. Company also want's to use a <strong>central logging</strong> approach where all logs will be available in a tool, e.g. Kibana.</p>\n<p>To make it easier (or even possible) to find relevant data in Kibana, it is necessary to have the same type of information and formatting (<strong>standards</strong>) of the log entries.</p>\n<p><strong>What alternatives are there</strong> to make sure that all (50) services and any new services are configured in the same way?</p>\n<p>Probably, the most common way is to have a copy of the log4j2.xml in each service. But I see some cons with this approach.</p>\n<ol>\n<li>If a change is needed, it needs to be applied to 50 services in 50 different code repositories.</li>\n<li>For new services, copying often happens from an existing service. If that service already diverged, then you have another service not following the &quot;standards&quot;.</li>\n<li>A copy of log4j2.xml might actually mean more than one, if you have environment specific configurations...</li>\n</ol>\n<p>&quot;Externalized log configuration&quot; is there such a thing?\nHow have you tackled this problem?\nOr is it not a real problem? :)</p>\n"},{"tags":["java","spring","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":12015704,"reputation":714,"user_id":8790942,"display_name":"Danil Kuznetsov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679040420,"creation_date":1677057142,"answer_id":75530428,"question_id":75507955,"body_markdown":"Each entity should have `@Document` annotation on class level,\r\nand for activating index auto-creation during bootstrapping \r\nthere is argument `createIndex` for this annotation.\r\nWhen this argument is set to `true` - an index will be automatically created.\r\n\r\nFor improving index settings during creation, there is a separate annotation `@Setting`\r\n\r\nMore details can be found [here][1]\r\n\r\nActual index mapping is created based on entity’s field annotations (like `@Field`, `@Id` etc).\r\n\r\n[Here][2] is more info about available entity annotations\r\n\r\n  [1]: https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.repositories.autocreation\r\n  [2]: https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.mapping.meta-model.annotations \r\n","title":"Elastic Search mapping on Java Spring startup","body":"<p>Each entity should have <code>@Document</code> annotation on class level,\nand for activating index auto-creation during bootstrapping\nthere is argument <code>createIndex</code> for this annotation.\nWhen this argument is set to <code>true</code> - an index will be automatically created.</p>\n<p>For improving index settings during creation, there is a separate annotation <code>@Setting</code></p>\n<p>More details can be found <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.repositories.autocreation\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Actual index mapping is created based on entity’s field annotations (like <code>@Field</code>, <code>@Id</code> etc).</p>\n<p><a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.mapping.meta-model.annotations\" rel=\"nofollow noreferrer\">Here</a> is more info about available entity annotations</p>\n"}],"owner":{"account_id":24911703,"reputation":71,"user_id":18781174,"display_name":"loredon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75530428,"answer_count":1,"score":0,"last_activity_date":1679040420,"creation_date":1676888248,"question_id":75507955,"body_markdown":"I&#39;m using spring data elastic search and i&#39;m having a document that i want to store. I&#39;m wondering, is there a way on the microservice starts to automatically send to elastic search the mapping for this document? I have the repository defined and currently when i start the service, there is no mapping added to the elastic search.","title":"Elastic Search mapping on Java Spring startup","body":"<p>I'm using spring data elastic search and i'm having a document that i want to store. I'm wondering, is there a way on the microservice starts to automatically send to elastic search the mapping for this document? I have the repository defined and currently when i start the service, there is no mapping added to the elastic search.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9425,"page":567,"page_size":100}
