{"items":[{"tags":["java","sql","mysql","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695915291,"creation_date":1695915291,"answer_id":77196361,"question_id":77176491,"body_markdown":"Here in your case your are not executing the query with `Interface Projection` in a correct way:\r\n\r\nThe Interface Projection:\r\n\r\n\r\n    public interface UserCreatedByDate {\r\n    \r\n      String getCreated();\r\n    \r\n      String getCounter();\r\n    \r\n    }\r\n\r\nThe query in Repository(in my case I tried to check it with Postgresql where function `FROM_UNIXTIME` is not present by the way it is not a problem):\r\n\r\n      @Query(value = &quot;SELECT to_char(date(to_timestamp(created_at/1000)), &#39;YYYY-MM-DD&#39;) as created, count(*) as counter from &quot; +\r\n          &quot; profile_entity where title like :title and created_at &gt;= :from and created_at &lt; :to &quot; +\r\n          &quot;group by profile_entity.created_at&quot;,\r\n          nativeQuery = true)\r\n      List&lt;UserCreatedByDate&gt; findCountAllCreatedBetweenGroupByDate(@Param(&quot;from&quot;) Long from,\r\n          @Param(&quot;to&quot;) Long to, @Param(&quot;title&quot;) String title);\r\n\r\nAfter it i got the next one result, that meet 100% your requirements:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nP.S. The problem was in the repository query(you are using interface projection as DTO projection)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gcOVu.png","title":"JPA custom objects with aliases for native query","body":"<p>Here in your case your are not executing the query with <code>Interface Projection</code> in a correct way:</p>\n<p>The Interface Projection:</p>\n<pre><code>public interface UserCreatedByDate {\n\n  String getCreated();\n\n  String getCounter();\n\n}\n</code></pre>\n<p>The query in Repository(in my case I tried to check it with Postgresql where function <code>FROM_UNIXTIME</code> is not present by the way it is not a problem):</p>\n<pre><code>  @Query(value = &quot;SELECT to_char(date(to_timestamp(created_at/1000)), 'YYYY-MM-DD') as created, count(*) as counter from &quot; +\n      &quot; profile_entity where title like :title and created_at &gt;= :from and created_at &lt; :to &quot; +\n      &quot;group by profile_entity.created_at&quot;,\n      nativeQuery = true)\n  List&lt;UserCreatedByDate&gt; findCountAllCreatedBetweenGroupByDate(@Param(&quot;from&quot;) Long from,\n      @Param(&quot;to&quot;) Long to, @Param(&quot;title&quot;) String title);\n</code></pre>\n<p>After it i got the next one result, that meet 100% your requirements:</p>\n<p><a href=\"https://i.stack.imgur.com/gcOVu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gcOVu.png\" alt=\"enter image description here\" /></a></p>\n<p>P.S. The problem was in the repository query(you are using interface projection as DTO projection)</p>\n"}],"owner":{"account_id":16431699,"reputation":1,"user_id":11870370,"display_name":"Ashish Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695915291,"creation_date":1695690733,"question_id":77176491,"body_markdown":"I have an entity profiles for which i am trying to find the count of all the profile with a specific titile in a date range and group by each date. \r\n\r\nThe profile entity looks like this-\r\n```\r\n@Entity\r\n@Table(name = &quot;profile&quot;)\r\npublic class Profile {\r\n    @Column(\r\n        name = &quot;created_at&quot;,\r\n        columnDefinition = &quot;bigint&quot;,\r\n        nullable = false\r\n    )\r\n    @CreatedDate\r\n    private Long createdAt;\r\n\r\n    @Column(name = &quot;title&quot;, columnDefinition = &quot;varchar(255)&quot;)\r\n    private String title;\r\n}\r\n```\r\n\r\nA DTO for the result-\r\n```\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class UserCreatedByDate {    \r\n    private String created;\r\n    private Long counter;\r\n}\r\n```\r\n\r\nI have created a JPA repository for it -\r\n\r\n```\r\n@Repository\r\npublic interface ProfileRepository extends CrudRepository&lt;Profile, Long&gt; {\r\n@Query(value = &quot;select FROM_UNIXTIME(created_at/1000,&#39;%m-%d-%Y&#39;) as created, count(*) as counter from &quot; +\r\n            &quot;profile where title like :title% and created_at &gt;= :from and created_at &lt; :to &quot; +\r\n            &quot;group by created&quot;,\r\n            nativeQuery = true)\r\n    List&lt;UserCreatedByDate&gt; findCountAllCreatedBetweenGroupByDate(@Param(&quot;from&quot;) Long from, @Param(&quot;to&quot;) Long to, @Param(&quot;title&quot;) String title);\r\n}\r\n\r\n```\r\nThis gives me these exception-\r\n\r\n```\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\nCaused by: org.springframework.dao.DataAccessResourceFailureException: could not extract ResultSet;\r\nCaused by: org.hibernate.exception.JDBCConnectionException: could not extract ResultSet\r\nCaused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n```\r\n\r\n\r\nApart from the above I tried using this-\r\n\r\n```\r\n@Query(value = &quot;select new com.example.project.domain.UserCreatedByDate(FROM_UNIXTIME(created_at/1000,&#39;%m-%d-%Y&#39;), count(1)) from &quot; +\r\n            &quot;profile where title like :title% and created_at &gt;= :from and created_at &lt; :to &quot; +\r\n            &quot;group by created&quot;,\r\n            nativeQuery = true)\r\n    List&lt;UserCreatedByDate&gt; findCountAllCreatedBetweenGroupByDateCustom(@Param(&quot;from&quot;) Long from, @Param(&quot;to&quot;) Long to, @Param(&quot;title&quot;) String title);\r\n```\r\n\r\nand turned UserCreatedByDate to an interface-\r\n\r\n```\r\npublic interface UserCreatedByDate {\r\n    String getCreated();\r\n    Long getCounter();\r\n}\r\n```\r\n\r\nThis gives me error in mysql statement which i am not able to identify. The same query works fine when run on db.\r\n\r\nThe query should return results like this-\r\n\r\n    created        counter\r\n    01-20-2023\t1\r\n    01-27-2023\t4\r\n    01-30-2023\t3\r\n\r\nAny help would be appreciated.\r\n\r\n","title":"JPA custom objects with aliases for native query","body":"<p>I have an entity profiles for which i am trying to find the count of all the profile with a specific titile in a date range and group by each date.</p>\n<p>The profile entity looks like this-</p>\n<pre><code>@Entity\n@Table(name = &quot;profile&quot;)\npublic class Profile {\n    @Column(\n        name = &quot;created_at&quot;,\n        columnDefinition = &quot;bigint&quot;,\n        nullable = false\n    )\n    @CreatedDate\n    private Long createdAt;\n\n    @Column(name = &quot;title&quot;, columnDefinition = &quot;varchar(255)&quot;)\n    private String title;\n}\n</code></pre>\n<p>A DTO for the result-</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class UserCreatedByDate {    \n    private String created;\n    private Long counter;\n}\n</code></pre>\n<p>I have created a JPA repository for it -</p>\n<pre><code>@Repository\npublic interface ProfileRepository extends CrudRepository&lt;Profile, Long&gt; {\n@Query(value = &quot;select FROM_UNIXTIME(created_at/1000,'%m-%d-%Y') as created, count(*) as counter from &quot; +\n            &quot;profile where title like :title% and created_at &gt;= :from and created_at &lt; :to &quot; +\n            &quot;group by created&quot;,\n            nativeQuery = true)\n    List&lt;UserCreatedByDate&gt; findCountAllCreatedBetweenGroupByDate(@Param(&quot;from&quot;) Long from, @Param(&quot;to&quot;) Long to, @Param(&quot;title&quot;) String title);\n}\n\n</code></pre>\n<p>This gives me these exception-</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\nCaused by: org.springframework.dao.DataAccessResourceFailureException: could not extract ResultSet;\nCaused by: org.hibernate.exception.JDBCConnectionException: could not extract ResultSet\nCaused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n</code></pre>\n<p>Apart from the above I tried using this-</p>\n<pre><code>@Query(value = &quot;select new com.example.project.domain.UserCreatedByDate(FROM_UNIXTIME(created_at/1000,'%m-%d-%Y'), count(1)) from &quot; +\n            &quot;profile where title like :title% and created_at &gt;= :from and created_at &lt; :to &quot; +\n            &quot;group by created&quot;,\n            nativeQuery = true)\n    List&lt;UserCreatedByDate&gt; findCountAllCreatedBetweenGroupByDateCustom(@Param(&quot;from&quot;) Long from, @Param(&quot;to&quot;) Long to, @Param(&quot;title&quot;) String title);\n</code></pre>\n<p>and turned UserCreatedByDate to an interface-</p>\n<pre><code>public interface UserCreatedByDate {\n    String getCreated();\n    Long getCounter();\n}\n</code></pre>\n<p>This gives me error in mysql statement which i am not able to identify. The same query works fine when run on db.</p>\n<p>The query should return results like this-</p>\n<pre><code>created        counter\n01-20-2023  1\n01-27-2023  4\n01-30-2023  3\n</code></pre>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","cucumber","cucumber-jvm"],"owner":{"account_id":4657237,"reputation":109,"user_id":3772496,"display_name":"Hiruthere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695915011,"creation_date":1695914360,"question_id":77196258,"body_markdown":"I am using [damianszczepanik/cucumber-reporting][1] in my automation for report generation.\r\n\r\nI would like to make a few customizations to my project. \r\n\r\n 1. I want to modify the column headers of the summary table. Specifically, I would like to change &#39;Feature&#39; to &#39;Scenario&#39;, &#39;Scenarios&#39; to &#39;Scenario Status&#39;, and &#39;Features&#39; to &#39;Duration&#39;. \r\n 2. There are six tabs present in the top right corner of the screen such as Jenkins, Latest Results, Features, Tags, etc. However, I only require the &#39;Features&#39; tab i.e. the summary screen.\r\n 3. In the graph, want only Scenario and Steps\r\n\r\nRefer screenshot.\r\n\r\nPlease note I am not using TestNG or BDD framework.\r\n\r\nI am using the below code for report generation\r\n\r\n    import java.io.File;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n\r\n    import net.masterthought.cucumber.Configuration;\r\n    import net.masterthought.cucumber.ReportBuilder;\r\n    import net.masterthought.cucumber.Reportable;\r\n    import net.masterthought.cucumber.json.support.Status;\r\n    import net.masterthought.cucumber.presentation.PresentationMode;\r\n    \r\n    public class CucumberReportGeneration {\r\n\r\n\t  public static void generateCucumberReport() {\r\n\t\r\n\t\tFile reportOutputDirectory = new File(&quot;./target/cucumber-reports&quot;);\r\n\t    List&lt;String&gt; jsonFiles = new ArrayList&lt;&gt;();\r\n\t    \r\n\t    // Read all JSON files from the &quot;json_folder&quot; directory\r\n\t    File jsonFolder = new File(&quot;./target/cucumber-reports/json_files&quot;);\r\n\t    File[] fileList = jsonFolder.listFiles((dir, name) -&gt; name.toLowerCase().endsWith(&quot;.json&quot;));\r\n\t    \r\n\t    for (File file : fileList) {\r\n\t        jsonFiles.add(file.getAbsolutePath());\r\n\t    }\r\n\t    \r\n\t    String buildNumber = &quot;1&quot;;\r\n\t    String projectName = &quot;Project&quot;;\r\n\t    Configuration configuration = new Configuration(reportOutputDirectory, projectName);\r\n\t    \r\n\t    // optional configuration - check javadoc for details\r\n\t    configuration.addPresentationModes(PresentationMode.RUN_WITH_JENKINS);\r\n\t    \r\n\t    // do not make scenario failed when step has status SKIPPED\r\n\t    configuration.setNotFailingStatuses(Collections.singleton(Status.SKIPPED));\r\n\t    configuration.setBuildNumber(buildNumber);\r\n\t    \r\n\t    // additional metadata presented on main page\r\n\t    configuration.addClassifications(&quot;Platform&quot;, &quot;Windows&quot;);\r\n\t    configuration.addClassifications(&quot;Browser&quot;, &quot;Firefox&quot;);\r\n\t    configuration.addClassifications(&quot;Branch&quot;, &quot;release/1.0&quot;);\r\n\t    configuration.addClassifications(&quot;Executed on Machine&quot;, &quot;DUMMY&quot;);// optionally add metadata presented on main page via properties file\r\n\t    List&lt;String&gt; classificationFiles = new ArrayList&lt;&gt;();\r\n\t    configuration.addClassificationFiles(classificationFiles); // optionally specify qualifiers for each of the report json files\r\n\t    configuration.addPresentationModes(PresentationMode.PARALLEL_TESTING);\r\n\t    configuration.setQualifier(&quot;cucumber-report-1&quot;, &quot;First report&quot;);\r\n\t    \r\n\t    ReportBuilder reportBuilder = new ReportBuilder(jsonFiles, configuration);\r\n\r\n\t    Reportable result = reportBuilder.generateReports();\r\n    }\r\n\t}\r\n\r\n\r\n [![Sample Cucumber Report][2]][2]\r\n\r\n\r\n  [1]: https://github.com/damianszczepanik/cucumber-reporting/issues?page=2&amp;q=is%3Aissue%20is%3Aopen\r\n  [2]: https://i.stack.imgur.com/EmxAA.png","title":"Cucumber JVM HTML [masterthought] report customization","body":"<p>I am using <a href=\"https://github.com/damianszczepanik/cucumber-reporting/issues?page=2&amp;q=is%3Aissue%20is%3Aopen\" rel=\"nofollow noreferrer\">damianszczepanik/cucumber-reporting</a> in my automation for report generation.</p>\n<p>I would like to make a few customizations to my project.</p>\n<ol>\n<li>I want to modify the column headers of the summary table. Specifically, I would like to change 'Feature' to 'Scenario', 'Scenarios' to 'Scenario Status', and 'Features' to 'Duration'.</li>\n<li>There are six tabs present in the top right corner of the screen such as Jenkins, Latest Results, Features, Tags, etc. However, I only require the 'Features' tab i.e. the summary screen.</li>\n<li>In the graph, want only Scenario and Steps</li>\n</ol>\n<p>Refer screenshot.</p>\n<p>Please note I am not using TestNG or BDD framework.</p>\n<p>I am using the below code for report generation</p>\n<pre><code>import java.io.File;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\nimport net.masterthought.cucumber.Configuration;\nimport net.masterthought.cucumber.ReportBuilder;\nimport net.masterthought.cucumber.Reportable;\nimport net.masterthought.cucumber.json.support.Status;\nimport net.masterthought.cucumber.presentation.PresentationMode;\n\npublic class CucumberReportGeneration {\n\n  public static void generateCucumberReport() {\n\n    File reportOutputDirectory = new File(&quot;./target/cucumber-reports&quot;);\n    List&lt;String&gt; jsonFiles = new ArrayList&lt;&gt;();\n    \n    // Read all JSON files from the &quot;json_folder&quot; directory\n    File jsonFolder = new File(&quot;./target/cucumber-reports/json_files&quot;);\n    File[] fileList = jsonFolder.listFiles((dir, name) -&gt; name.toLowerCase().endsWith(&quot;.json&quot;));\n    \n    for (File file : fileList) {\n        jsonFiles.add(file.getAbsolutePath());\n    }\n    \n    String buildNumber = &quot;1&quot;;\n    String projectName = &quot;Project&quot;;\n    Configuration configuration = new Configuration(reportOutputDirectory, projectName);\n    \n    // optional configuration - check javadoc for details\n    configuration.addPresentationModes(PresentationMode.RUN_WITH_JENKINS);\n    \n    // do not make scenario failed when step has status SKIPPED\n    configuration.setNotFailingStatuses(Collections.singleton(Status.SKIPPED));\n    configuration.setBuildNumber(buildNumber);\n    \n    // additional metadata presented on main page\n    configuration.addClassifications(&quot;Platform&quot;, &quot;Windows&quot;);\n    configuration.addClassifications(&quot;Browser&quot;, &quot;Firefox&quot;);\n    configuration.addClassifications(&quot;Branch&quot;, &quot;release/1.0&quot;);\n    configuration.addClassifications(&quot;Executed on Machine&quot;, &quot;DUMMY&quot;);// optionally add metadata presented on main page via properties file\n    List&lt;String&gt; classificationFiles = new ArrayList&lt;&gt;();\n    configuration.addClassificationFiles(classificationFiles); // optionally specify qualifiers for each of the report json files\n    configuration.addPresentationModes(PresentationMode.PARALLEL_TESTING);\n    configuration.setQualifier(&quot;cucumber-report-1&quot;, &quot;First report&quot;);\n    \n    ReportBuilder reportBuilder = new ReportBuilder(jsonFiles, configuration);\n\n    Reportable result = reportBuilder.generateReports();\n}\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/EmxAA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EmxAA.png\" alt=\"Sample Cucumber Report\" /></a></p>\n"},{"tags":["java","spring-webflux","open-telemetry","spring-mono"],"comments":[{"owner":{"account_id":5745621,"reputation":699,"user_id":4536931,"display_name":"Vincent C."},"score":0,"creation_date":1695806456,"post_id":77179894,"comment_id":136072221,"body_markdown":"If I understand correctly, you&#39;d actually need the error to be emitted as a next signal instead, correct?\nIf so, I think what you want is to handle errors gracefully using methods such as `onErrorResume`.","body":"If I understand correctly, you&#39;d actually need the error to be emitted as a next signal instead, correct? If so, I think what you want is to handle errors gracefully using methods such as <code>onErrorResume</code>."},{"owner":{"account_id":365108,"reputation":5371,"user_id":709863,"accept_rate":81,"display_name":"St&#233;phane Piette"},"score":0,"creation_date":1695913959,"post_id":77179894,"comment_id":136090068,"body_markdown":"thanks @VincentC, but I found a solution (see next answer)","body":"thanks @VincentC, but I found a solution (see next answer)"}],"answers":[{"tags":[],"owner":{"account_id":365108,"reputation":5371,"user_id":709863,"accept_rate":81,"display_name":"St&#233;phane Piette"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695913925,"creation_date":1695913925,"answer_id":77196200,"question_id":77179894,"body_markdown":"I found the solution:\r\n\r\n```java\r\n...\r\n .doOnError(throwable -&gt; observationRegistry.getCurrentObservation().event(Observation.Event.of(&quot;Error&quot;, &quot;Whatever&quot;));\r\n .map(result -&gt; observationRegistry.getCurrentObservation().event(Observation.Event.of(&quot;Success&quot;, &quot;Whatever&quot;) \r\n...\r\n\r\n```","title":"OpenTelemetry &amp; Reactive Java: how to Tag a Mono with return value","body":"<p>I found the solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n .doOnError(throwable -&gt; observationRegistry.getCurrentObservation().event(Observation.Event.of(&quot;Error&quot;, &quot;Whatever&quot;));\n .map(result -&gt; observationRegistry.getCurrentObservation().event(Observation.Event.of(&quot;Success&quot;, &quot;Whatever&quot;) \n...\n\n</code></pre>\n"}],"owner":{"account_id":365108,"reputation":5371,"user_id":709863,"accept_rate":81,"display_name":"St&#233;phane Piette"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77196200,"answer_count":1,"score":0,"last_activity_date":1695913925,"creation_date":1695730266,"question_id":77179894,"body_markdown":"I am trying to add Observability info to a method:\r\n\r\n```java\r\n@GetMapping(value = &quot;/getClient&quot;)\r\npublic Mono&lt;ResponseEntity&lt;String&gt;&gt; getClient(HttpServletRequest request, final ClientRequest body) {\r\n return myService\r\n            .getClient(body.getClient_id(), body.getProvider())\r\n            .doOnError(throwable -&gt; log.error(&quot;Failed to get client&quot;, throwable))\r\n            .name(&quot;get_client&quot;)\r\n            .tag(&quot;client_id&quot;, body.getClient_id())\r\n            .tag(&quot;provider&quot;, body.getProvider())\r\n            .tap(Micrometer.observation(observationRegistry));\r\n}\r\n\r\n```\r\n\r\nThis gives me some extra info in my traces and also the metrics; all work fine.\r\n\r\nBut now I also want to know if this call was successful or if it contains an error. For that I would need a mix of `.tag(...)` and `.doOnError(...)`, but I can&#39;t find a solution.\r\nI would have the same problem if I wanted to add info about the result of `myService.getClient`.\r\n\r\nI this actually possible ?\r\n","title":"OpenTelemetry &amp; Reactive Java: how to Tag a Mono with return value","body":"<p>I am trying to add Observability info to a method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(value = &quot;/getClient&quot;)\npublic Mono&lt;ResponseEntity&lt;String&gt;&gt; getClient(HttpServletRequest request, final ClientRequest body) {\n return myService\n            .getClient(body.getClient_id(), body.getProvider())\n            .doOnError(throwable -&gt; log.error(&quot;Failed to get client&quot;, throwable))\n            .name(&quot;get_client&quot;)\n            .tag(&quot;client_id&quot;, body.getClient_id())\n            .tag(&quot;provider&quot;, body.getProvider())\n            .tap(Micrometer.observation(observationRegistry));\n}\n\n</code></pre>\n<p>This gives me some extra info in my traces and also the metrics; all work fine.</p>\n<p>But now I also want to know if this call was successful or if it contains an error. For that I would need a mix of <code>.tag(...)</code> and <code>.doOnError(...)</code>, but I can't find a solution.\nI would have the same problem if I wanted to add info about the result of <code>myService.getClient</code>.</p>\n<p>I this actually possible ?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1192733,"reputation":1507,"user_id":1165160,"accept_rate":92,"display_name":"King Midas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695913891,"creation_date":1695913891,"answer_id":77196195,"question_id":77188689,"body_markdown":"Difficult to know as the code for updating the `Set&lt;Genre&gt;` is not visible. From the message, is telling that the entity already is on database. I can guess that probably you are removing the set, and not removing the elements and adding the new ones.\r\n\r\nCheck if in your code, when you update the set, you are assigning a new hashset with the elements from your frontend. I am guessing that you are assigning the entity set to the data received from the angular.\r\n\r\nIf it is the case, try:\r\n\r\n```\r\ngenres.clear();\r\ngenres.addAll(genres_from_angular_set);\r\n```\r\n\r\nand avoid:\r\n\r\n```\r\ngenres = genres_from_angular_set;\r\n```\r\n\r\nOn the second case, you are generating the relations again, and as some relations `genre` already has been stored, you have the unique key restriction. ","title":"&quot;The value of a duplicate key rompt the unique constraint &#171; livre_genre_pkey &#187;&quot; Exception","body":"<p>Difficult to know as the code for updating the <code>Set&lt;Genre&gt;</code> is not visible. From the message, is telling that the entity already is on database. I can guess that probably you are removing the set, and not removing the elements and adding the new ones.</p>\n<p>Check if in your code, when you update the set, you are assigning a new hashset with the elements from your frontend. I am guessing that you are assigning the entity set to the data received from the angular.</p>\n<p>If it is the case, try:</p>\n<pre><code>genres.clear();\ngenres.addAll(genres_from_angular_set);\n</code></pre>\n<p>and avoid:</p>\n<pre><code>genres = genres_from_angular_set;\n</code></pre>\n<p>On the second case, you are generating the relations again, and as some relations <code>genre</code> already has been stored, you have the unique key restriction.</p>\n"}],"owner":{"account_id":27597009,"reputation":15,"user_id":21063021,"display_name":"devMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77196195,"answer_count":1,"score":1,"last_activity_date":1695913891,"creation_date":1695826936,"question_id":77188689,"body_markdown":"I want to update the Set &quot;genres&quot; in the &quot;Livre&quot; Entity from a web client ( Angular )\r\n```\r\n@Data\r\n@Table(name=&quot;livres&quot;)\r\n@Entity\r\npublic class Livre {\r\n\t\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Id\r\n\tprivate Long id;\r\n\t\r\n\tprivate String titre;\r\n\t\r\n\tprivate String description;\r\n\t\r\n\t@ManyToMany\r\n\t@JoinTable(\r\n\t\tname = &quot;livre_genre&quot;,\r\n\t\tjoinColumns = @JoinColumn(name = &quot;livre_id&quot;),\r\n\t\tinverseJoinColumns = @JoinColumn(name = &quot;genre_id&quot;)\r\n\t)\r\n\tprivate Set&lt;Genre&gt; genres = new HashSet&lt;&gt;();\r\n\t\r\n\t/* Many books have one Author */\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;auteur_id&quot;)\r\n\tprivate Auteur auteur;\r\n\t\r\n\t\r\n}\r\n```\r\nthis is the http request sent from client :\r\n\r\n**http://localhost:2000/livres/update/7**\r\n\r\n**And here the error i get : **\r\n\r\n```\r\nERREUR: the value of a duplicate key rompt the unique constraint &#171; livre_genre_pkey &#187;   D&#233;tail&#160;: the key &#171; (livre_id, genre_id)=(7, 1) &#187; existe d&#233;j&#224;.\r\n```\r\n\r\nPlease someone tell me how can i solve this problem ?","title":"&quot;The value of a duplicate key rompt the unique constraint &#171; livre_genre_pkey &#187;&quot; Exception","body":"<p>I want to update the Set &quot;genres&quot; in the &quot;Livre&quot; Entity from a web client ( Angular )</p>\n<pre><code>@Data\n@Table(name=&quot;livres&quot;)\n@Entity\npublic class Livre {\n    \n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    private Long id;\n    \n    private String titre;\n    \n    private String description;\n    \n    @ManyToMany\n    @JoinTable(\n        name = &quot;livre_genre&quot;,\n        joinColumns = @JoinColumn(name = &quot;livre_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;genre_id&quot;)\n    )\n    private Set&lt;Genre&gt; genres = new HashSet&lt;&gt;();\n    \n    /* Many books have one Author */\n    @ManyToOne\n    @JoinColumn(name = &quot;auteur_id&quot;)\n    private Auteur auteur;\n    \n    \n}\n</code></pre>\n<p>this is the http request sent from client :</p>\n<p><strong>http://localhost:2000/livres/update/7</strong></p>\n<p>**And here the error i get : **</p>\n<pre><code>ERREUR: the value of a duplicate key rompt the unique constraint « livre_genre_pkey »   Détail : the key « (livre_id, genre_id)=(7, 1) » existe déjà.\n</code></pre>\n<p>Please someone tell me how can i solve this problem ?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"score":1,"creation_date":1695916003,"post_id":77196186,"comment_id":136090523,"body_markdown":"Violation of activity lifecycle is enough issue to not consider this. Turn on &quot;don&#39;t keep activities&quot; in developer settings (which simulates a device running out of memory) and see your solution crumble.","body":"Violation of activity lifecycle is enough issue to not consider this. Turn on &quot;don&#39;t keep activities&quot; in developer settings (which simulates a device running out of memory) and see your solution crumble."},{"owner":{"account_id":1397488,"reputation":642,"user_id":1326985,"accept_rate":75,"display_name":"johnnyb"},"score":0,"creation_date":1695917994,"post_id":77196186,"comment_id":136090970,"body_markdown":"@Pawel - any thoughts for a better solution?","body":"@Pawel - any thoughts for a better solution?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1695920130,"post_id":77196186,"comment_id":136091411,"body_markdown":"FWIW, modern Android app development leans away from having multiple activities, preferring multiple fragments or composables in one (or a few) activities.","body":"FWIW, modern Android app development leans away from having multiple activities, preferring multiple fragments or composables in one (or a few) activities."}],"owner":{"account_id":1397488,"reputation":642,"user_id":1326985,"accept_rate":75,"display_name":"johnnyb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695913816,"creation_date":1695913816,"question_id":77196186,"body_markdown":"I have an implementation for making calling out to other activities easier, and I just wanted to get some input on it for potential pitfalls.  It kind of goes against the way that Android is designed, but it makes building linkages between activities SO much nicer.  Essentially, Android wants all linkages between activities to be dealt with statically, so that Android can restart activities whenever it wants, and the savedInstanceState stuff will make sure everything picks up where it left off.  However, this prevents some dynamicism that would make activity-activity interactions much easier, and localize the code for a specific function (personally, I hate having code for one thing have to live in multiple places).  \r\n\r\nAnyway, here is my code.  This lives in the base class for all of the application&#39;s activities.\r\n\r\n```\r\npublic class AppActivity extends Activity {\r\n    // keeping track of unique request codes \r\n    int lastRequestCode = 10000;\r\n\r\n    // List of callbacks\r\n    private Map&lt;Integer, ActivityResultCallback&lt;ActivityResult&gt;&gt; registeredActivityResultCallbacks = new HashMap&lt;&gt;();\r\n\r\n    // Helper function to allow starting activities and registering\r\n    // callbacks dynamically\r\n    public void startActivityForDynamicResult(Intent i, ActivityResultCallback&lt;ActivityResult&gt; cb) {\r\n        int requestCode = lastRequestCode++;\r\n        registeredActivityResultCallbacks.put(requestCode, cb);\r\n        startActivityForResult(i, requestCode);\r\n    }\r\n\r\n    // When an app returns to this activity, look for the relevant callback to call\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data)\r\n    {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        // Dynamically-registered callbacks\r\n        ActivityResultCallback&lt;ActivityResult&gt; cb = registeredActivityResultCallbacks.get(requestCode);\r\n        if(cb != null) {\r\n            ActivityResult result = new ActivityResult(resultCode, data);\r\n            cb.onActivityResult(result);\r\n            return;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis allows subclasses to do things like this:\r\n\r\n```\r\npublic class SomeActivity extends AppActivity {\r\n    public void someAction() {\r\n        startActivityForDynamicResult(new Intent(this, SomeOtherActivity.class), result -&gt; {\r\n            if(result.getResultCode() == RESULT_OK) {\r\n                String value = result.getData().getStringExtra(&quot;Something&quot;);\r\n                // do something\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nThe advantage is that this completely localizes what you are trying to accomplish, which makes code easier to read, write, and maintain long-term.  The problem is that it at least somewhat goes against Android dev principles because if Android kills the app, it is no longer possible to restore this dynamically-created linkage.  \r\n\r\nHow much of a problem is this paradigm?  Is there a way to get around Android&#39;s limitations in this manner?  Or other manner of mitigation?\r\n\r\nFor my present app, it is pretty much guaranteed to be running foreground on the device (so Android won&#39;t be killing any of its activities), but I&#39;m more curious as to the wider applicability of this pattern.","title":"Simplifying Activities with Results","body":"<p>I have an implementation for making calling out to other activities easier, and I just wanted to get some input on it for potential pitfalls.  It kind of goes against the way that Android is designed, but it makes building linkages between activities SO much nicer.  Essentially, Android wants all linkages between activities to be dealt with statically, so that Android can restart activities whenever it wants, and the savedInstanceState stuff will make sure everything picks up where it left off.  However, this prevents some dynamicism that would make activity-activity interactions much easier, and localize the code for a specific function (personally, I hate having code for one thing have to live in multiple places).</p>\n<p>Anyway, here is my code.  This lives in the base class for all of the application's activities.</p>\n<pre><code>public class AppActivity extends Activity {\n    // keeping track of unique request codes \n    int lastRequestCode = 10000;\n\n    // List of callbacks\n    private Map&lt;Integer, ActivityResultCallback&lt;ActivityResult&gt;&gt; registeredActivityResultCallbacks = new HashMap&lt;&gt;();\n\n    // Helper function to allow starting activities and registering\n    // callbacks dynamically\n    public void startActivityForDynamicResult(Intent i, ActivityResultCallback&lt;ActivityResult&gt; cb) {\n        int requestCode = lastRequestCode++;\n        registeredActivityResultCallbacks.put(requestCode, cb);\n        startActivityForResult(i, requestCode);\n    }\n\n    // When an app returns to this activity, look for the relevant callback to call\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data)\n    {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        // Dynamically-registered callbacks\n        ActivityResultCallback&lt;ActivityResult&gt; cb = registeredActivityResultCallbacks.get(requestCode);\n        if(cb != null) {\n            ActivityResult result = new ActivityResult(resultCode, data);\n            cb.onActivityResult(result);\n            return;\n        }\n    }\n}\n\n</code></pre>\n<p>This allows subclasses to do things like this:</p>\n<pre><code>public class SomeActivity extends AppActivity {\n    public void someAction() {\n        startActivityForDynamicResult(new Intent(this, SomeOtherActivity.class), result -&gt; {\n            if(result.getResultCode() == RESULT_OK) {\n                String value = result.getData().getStringExtra(&quot;Something&quot;);\n                // do something\n            }\n        });\n    }\n}\n</code></pre>\n<p>The advantage is that this completely localizes what you are trying to accomplish, which makes code easier to read, write, and maintain long-term.  The problem is that it at least somewhat goes against Android dev principles because if Android kills the app, it is no longer possible to restore this dynamically-created linkage.</p>\n<p>How much of a problem is this paradigm?  Is there a way to get around Android's limitations in this manner?  Or other manner of mitigation?</p>\n<p>For my present app, it is pretty much guaranteed to be running foreground on the device (so Android won't be killing any of its activities), but I'm more curious as to the wider applicability of this pattern.</p>\n"},{"tags":["java","sockets","inputstream","outputstream"],"answers":[{"comments":[{"owner":{"account_id":3721582,"reputation":119,"user_id":3096526,"accept_rate":57,"display_name":"Jiazzy user"},"score":0,"creation_date":1400163897,"post_id":8637442,"comment_id":36382706,"body_markdown":"use flush() before send data and receive data?","body":"use flush() before send data and receive data?"}],"tags":[],"owner":{"account_id":107519,"reputation":6139,"user_id":285850,"display_name":"Olivier Croisier"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1324916838,"creation_date":1324916838,"answer_id":8637442,"question_id":8637405,"body_markdown":"You must call flush() on the stream on the client side to actually send the data (if the socket&#39;s buffer is not full).\r\nYou see your program hanging because the client does not send the data, and the server is blocking, waiting for the data that will never come.","title":"Using ObjectInputStream and ObjectOutputStream between client and server process","body":"<p>You must call flush() on the stream on the client side to actually send the data (if the socket's buffer is not full).\nYou see your program hanging because the client does not send the data, and the server is blocking, waiting for the data that will never come.</p>\n"},{"tags":[],"owner":{"account_id":15577143,"reputation":3,"user_id":11237968,"display_name":"Reil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695913587,"creation_date":1695734999,"answer_id":77180488,"question_id":8637405,"body_markdown":"You can use `input.writeObject(&quot;test);` to send an object immediately to the server without flushing the stream.","title":"Using ObjectInputStream and ObjectOutputStream between client and server process","body":"<p>You can use <code>input.writeObject(&quot;test);</code> to send an object immediately to the server without flushing the stream.</p>\n"}],"owner":{"account_id":228998,"reputation":569,"user_id":491667,"accept_rate":74,"display_name":"sahar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10947,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":8637442,"answer_count":2,"score":3,"last_activity_date":1695913587,"creation_date":1324916588,"question_id":8637405,"body_markdown":"I develop a client-server java application and I used ObjectOutputStream  and ObjectInputStream to send and receive data between client and server process. I need to send Array or object or primitive data\r\nbut the problem appears when I use ObjectOutputStream  and ObjectInputStream to send and receive primitive values ( writeDouble(), readDouble(), writeUTF(), readUTF() ) . the program suspended and stopped working. why, what is the problem?\r\n\r\nthese are a fragments of my program \r\n\r\n    // client program\r\n    \r\n        ObjectOutputStream toServer;\r\n        ObjectInputStream fromServer;\r\n    \r\n    // Establish connection with the server\r\n                Socket socket = new Socket(host, 7000);\r\n    \r\n                // Create an output stream to the server\r\n                toServer = new ObjectOutputStream(socket.getOutputStream());\r\n                fromServer = new ObjectInputStream(socket.getInputStream());\r\n    \r\n    double num1 = Double.parseDouble(jtf1.getText().trim());\r\n                        double num2 = Double.parseDouble(jtf2.getText().trim());\r\n                        try {\r\n                            toServer.writeUTF(&quot;multiply&quot;);\r\n                            toServer.writeDouble(num1);\r\n                            toServer.writeDouble(num2);\r\n                            double result = fromServer.readDouble();\r\n                            res.setText(String.valueOf(result));\r\n                        } catch (IOException ex) {\r\n                            System.err.println(ex);\r\n                        }\r\n    \r\n    // server program\r\n    \r\n    private ObjectOutputStream outputToClient;\r\n        private ObjectInputStream inputFromClient;\r\n    \r\n    // Create a server socket\r\n                ServerSocket serverSocket = new ServerSocket(7000);\r\n    \r\n    while (true) {\r\n                    // Listen for a new connection request\r\n                    Socket socket = serverSocket.accept();\r\n                    System.out.println(&quot;connect &quot;);\r\n                    outputToClient = new ObjectOutputStream(socket.getOutputStream());\r\n                    // Create an input stream from the socket\r\n                    inputFromClient =\r\n                            new ObjectInputStream(socket.getInputStream());\r\n                    while(true)  {\r\n                    // Read from input\r\n                    String command = inputFromClient.readUTF();\r\n                    System.out.println(&quot;receive command&quot;);\r\n                    checkRequest(command);\r\n                    }\r\n                    // Write to the file\r\n                    //outputToFile.writeObject(object);\r\n                    \r\n                }\r\n    \r\n    public void checkRequest(String cmd){\r\n            //Object o = null;\r\n            try{\r\n            if(cmd.equals(MULTIBLY)){\r\n                double x = inputFromClient.readDouble();\r\n                double y = inputFromClient.readDouble();\r\n                double result = x*y;\r\n                outputToClient.writeDouble(result);\r\n                System.out.println(&quot;send result&quot;);\r\n            }else if (cmd.equals(DIVIDE)){\r\n                int x = inputFromClient.readInt();\r\n                int result = 1000/x;\r\n                outputToClient.writeDouble(result);\r\n            }\r\n            } catch(IOException io){\r\n                \r\n            }\r\n        }\r\n\r\nwhen I change ObjectOutputstream and ObjectInputStream to DataOutputStream\r\nand DataInputStream every thing goes correctly !\r\n","title":"Using ObjectInputStream and ObjectOutputStream between client and server process","body":"<p>I develop a client-server java application and I used ObjectOutputStream  and ObjectInputStream to send and receive data between client and server process. I need to send Array or object or primitive data\nbut the problem appears when I use ObjectOutputStream  and ObjectInputStream to send and receive primitive values ( writeDouble(), readDouble(), writeUTF(), readUTF() ) . the program suspended and stopped working. why, what is the problem?</p>\n\n<p>these are a fragments of my program </p>\n\n<pre><code>// client program\n\n    ObjectOutputStream toServer;\n    ObjectInputStream fromServer;\n\n// Establish connection with the server\n            Socket socket = new Socket(host, 7000);\n\n            // Create an output stream to the server\n            toServer = new ObjectOutputStream(socket.getOutputStream());\n            fromServer = new ObjectInputStream(socket.getInputStream());\n\ndouble num1 = Double.parseDouble(jtf1.getText().trim());\n                    double num2 = Double.parseDouble(jtf2.getText().trim());\n                    try {\n                        toServer.writeUTF(\"multiply\");\n                        toServer.writeDouble(num1);\n                        toServer.writeDouble(num2);\n                        double result = fromServer.readDouble();\n                        res.setText(String.valueOf(result));\n                    } catch (IOException ex) {\n                        System.err.println(ex);\n                    }\n\n// server program\n\nprivate ObjectOutputStream outputToClient;\n    private ObjectInputStream inputFromClient;\n\n// Create a server socket\n            ServerSocket serverSocket = new ServerSocket(7000);\n\nwhile (true) {\n                // Listen for a new connection request\n                Socket socket = serverSocket.accept();\n                System.out.println(\"connect \");\n                outputToClient = new ObjectOutputStream(socket.getOutputStream());\n                // Create an input stream from the socket\n                inputFromClient =\n                        new ObjectInputStream(socket.getInputStream());\n                while(true)  {\n                // Read from input\n                String command = inputFromClient.readUTF();\n                System.out.println(\"receive command\");\n                checkRequest(command);\n                }\n                // Write to the file\n                //outputToFile.writeObject(object);\n\n            }\n\npublic void checkRequest(String cmd){\n        //Object o = null;\n        try{\n        if(cmd.equals(MULTIBLY)){\n            double x = inputFromClient.readDouble();\n            double y = inputFromClient.readDouble();\n            double result = x*y;\n            outputToClient.writeDouble(result);\n            System.out.println(\"send result\");\n        }else if (cmd.equals(DIVIDE)){\n            int x = inputFromClient.readInt();\n            int result = 1000/x;\n            outputToClient.writeDouble(result);\n        }\n        } catch(IOException io){\n\n        }\n    }\n</code></pre>\n\n<p>when I change ObjectOutputstream and ObjectInputStream to DataOutputStream\nand DataInputStream every thing goes correctly !</p>\n"},{"tags":["java","spring-boot","validation","spring-validator"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695879829,"post_id":77191162,"comment_id":136083285,"body_markdown":"Did you use the proper `@NotNull`?","body":"Did you use the proper <code>@NotNull</code>?"},{"owner":{"account_id":12731196,"reputation":49,"user_id":9247778,"display_name":"har123"},"score":0,"creation_date":1695913056,"post_id":77191162,"comment_id":136089858,"body_markdown":"yes I am using javax.validation.constraints.NotNull;","body":"yes I am using javax.validation.constraints.NotNull;"},{"owner":{"account_id":15632756,"reputation":79,"user_id":11278616,"display_name":"Wikimmax"},"score":0,"creation_date":1695918471,"post_id":77191162,"comment_id":136091064,"body_markdown":"Try to use also @Valid annotation","body":"Try to use also @Valid annotation"},{"owner":{"account_id":12731196,"reputation":49,"user_id":9247778,"display_name":"har123"},"score":0,"creation_date":1695944975,"post_id":77191162,"comment_id":136094730,"body_markdown":"@Wikimmax Yeah even tried that adding before requestparam but it didn&#39;t work.","body":"@Wikimmax Yeah even tried that adding before requestparam but it didn&#39;t work."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695973678,"post_id":77191162,"comment_id":136097230,"body_markdown":"I would suggest to simply create a wrapper class which would bind the parameters instead of using query parameters. That way you can annotate the fields in that class and just use `@Valid` on the method argument (and don&#39; tneed the `@Validated` on the class.","body":"I would suggest to simply create a wrapper class which would bind the parameters instead of using query parameters. That way you can annotate the fields in that class and just use <code>@Valid</code> on the method argument (and don&#39; tneed the <code>@Validated</code> on the class."},{"owner":{"account_id":12731196,"reputation":49,"user_id":9247778,"display_name":"har123"},"score":0,"creation_date":1696024388,"post_id":77191162,"comment_id":136105982,"body_markdown":"@M.Deinum I even tried that but that didn&#39;t work either. when I don&#39;t send notNull fields in request it says BadRequest but not throwing ConstraintViolationException which I am expecting in this case so that I can handle it and send custom message to client.","body":"@M.Deinum I even tried that but that didn&#39;t work either. when I don&#39;t send notNull fields in request it says BadRequest but not throwing ConstraintViolationException which I am expecting in this case so that I can handle it and send custom message to client."},{"owner":{"account_id":12731196,"reputation":49,"user_id":9247778,"display_name":"har123"},"score":0,"creation_date":1696024482,"post_id":77191162,"comment_id":136105994,"body_markdown":"but I see org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver  - Resolved [org.springframework.validation.BindException: org.springframework.validation.BeanPropertyBindingResult: 1 errors&lt;EOL&gt;Field error in object &#39;resourceRequest&#39; on field &#39;clientId&#39;: rejected value [null]; codes [NotNull.resourceRequest.clientId,NotNull.clientId,NotNull.java.lang.Integer,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resourceRequest.clientId,clientId]; arguments []; default message [clientId]]; default message [clientId is required]]","body":"but I see org.springframework.web.servlet.mvc.support.DefaultHandlerEx&zwnj;&#8203;ceptionResolver  - Resolved [org.springframework.validation.BindException: org.springframework.validation.BeanPropertyBindingResult: 1 errors&lt;EOL&gt;Field error in object &#39;resourceRequest&#39; on field &#39;clientId&#39;: rejected value [null]; codes [NotNull.resourceRequest.clientId,NotNull.clientId,NotNull.j&zwnj;&#8203;ava.lang.Integer,Not&zwnj;&#8203;Null]; arguments [org.springframework.context.support.DefaultMessageSourceRes&zwnj;&#8203;olvable: codes [resourceRequest.clientId,clientId]; arguments []; default message [clientId]]; default message [clientId is required]]"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696223866,"post_id":77191162,"comment_id":136121044,"body_markdown":"It won&#39;t throw constraint exceptions and when doing validation like you are doing now it will result in http 500 errors. Also don&#39;t add additional information as comments as that is unreadable, edit your question instead. Using an object (which you really should) using `@NotNull` and `@NotBlank` should do exactly what you expect it to do, unless there is something you aren&#39;t showing us (or that this isn&#39;t the actual code that you are using but some dumbed down modified version)&gt;","body":"It won&#39;t throw constraint exceptions and when doing validation like you are doing now it will result in http 500 errors. Also don&#39;t add additional information as comments as that is unreadable, edit your question instead. Using an object (which you really should) using <code>@NotNull</code> and <code>@NotBlank</code> should do exactly what you expect it to do, unless there is something you aren&#39;t showing us (or that this isn&#39;t the actual code that you are using but some dumbed down modified version)&gt;"}],"owner":{"account_id":12731196,"reputation":49,"user_id":9247778,"display_name":"har123"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695913164,"creation_date":1695852484,"question_id":77191162,"body_markdown":"I am trying to add Validation for my request parameters of my rest endpoint. I see that @NotBlank is working as expected and throwing Constraint violation exception while @NotNull is not.  \r\n\r\n    import javax.validation.constraints.NotBlank;\r\n    import javax.validation.constraints.NotNull;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.validation.annotation.Validated;\r\n    import org.springframework.web.bind.annotation.*;\r\n        @RestController\r\n        @RequestMapping(&quot;/test&quot;)\r\n        @Validated\r\n        class MyController{\r\n        \r\n        \r\n            @GetMapping(value = &quot;/data&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n            public ResponseEntity&lt;Data&gt; getData(\r\n                 @RequestParam @NotNull(message = &quot;age is required&quot;) Integer age,\r\n                 @RequestParam @NotBlank(message = &quot;name is required&quot;) String name){\r\n                  \r\n                 //do something  \r\n             }\r\n        }\r\n\r\nDependency Used :  implementation **&#39;org.springframework.boot:spring-boot-starter-validation&#39;**\r\n\r\n\r\nwhen I try to hit following endpoints from my postman to test this,\r\n\r\nhttp://localhost:8080/myApp/test/data?age=&amp;name=&#39;myname&#39; - doesn&#39;t throw constraintviolationexception\r\n\r\nhttp://localhost:8080/myApp/test/data?age=null&amp;name=&#39;myname&#39; - doesn&#39;t throw constraintviolationexception\r\n\r\nhttp://localhost:8080/myApp/test/data?name=&#39;myname&#39; - doesn&#39;t throw constraintviolationexception\r\n\r\n\r\nhttp://localhost:8080/myApp/test/data?age=22&amp;name=&#39;&#39; - throws constraintviolationexception\r\n\r\njava version used : Java 17\r\nspring boot version : 2.7.7\r\n\r\nAny Idea what I might be missing ?\r\n\r\n","title":"spring boot validation of request parameters - @NotNull is not working","body":"<p>I am trying to add Validation for my request parameters of my rest endpoint. I see that @NotBlank is working as expected and throwing Constraint violation exception while @NotNull is not.</p>\n<pre><code>import javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotNull;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.*;\n    @RestController\n    @RequestMapping(&quot;/test&quot;)\n    @Validated\n    class MyController{\n    \n    \n        @GetMapping(value = &quot;/data&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n        public ResponseEntity&lt;Data&gt; getData(\n             @RequestParam @NotNull(message = &quot;age is required&quot;) Integer age,\n             @RequestParam @NotBlank(message = &quot;name is required&quot;) String name){\n              \n             //do something  \n         }\n    }\n</code></pre>\n<p>Dependency Used :  implementation <strong>'org.springframework.boot:spring-boot-starter-validation'</strong></p>\n<p>when I try to hit following endpoints from my postman to test this,</p>\n<p>http://localhost:8080/myApp/test/data?age=&amp;name='myname' - doesn't throw constraintviolationexception</p>\n<p>http://localhost:8080/myApp/test/data?age=null&amp;name='myname' - doesn't throw constraintviolationexception</p>\n<p>http://localhost:8080/myApp/test/data?name='myname' - doesn't throw constraintviolationexception</p>\n<p>http://localhost:8080/myApp/test/data?age=22&amp;name='' - throws constraintviolationexception</p>\n<p>java version used : Java 17\nspring boot version : 2.7.7</p>\n<p>Any Idea what I might be missing ?</p>\n"},{"tags":["java","quartz-scheduler"],"answers":[{"tags":[],"owner":{"account_id":2035968,"reputation":400,"user_id":1818311,"display_name":"Matthias"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1546639524,"creation_date":1546639524,"answer_id":54046768,"question_id":45232287,"body_markdown":"I stumble across this question and needed a solution as well,\r\nafter reading thru the [javadocs][1] here&#39;s how you can read the defined interval. \r\nIt&#39;s important to note that there are different types of triggers, assuming you&#39;re using the *SimpleScheduleBuilder* for creating triggers you can do the following:\r\n\r\n    for(Trigger trigger : getAllTrigersFromSchduler()) {\r\n\t\tSystem.out.println(trigger.getDescription());\t// for description\r\n\t\t// assuming a SimpleTrigger\r\n\t\tSystem.out.println(((SimpleTrigger)trigger).getRepeatInterval()));\t// for interval in ms as long\r\n\t}\r\n\r\nregards\r\n\r\n  [1]: https://www.quartz-scheduler.org/api/2.2.1/org/quartz/SimpleTrigger.html","title":"How to get Quartz Trigger interval?","body":"<p>I stumble across this question and needed a solution as well,\nafter reading thru the <a href=\"https://www.quartz-scheduler.org/api/2.2.1/org/quartz/SimpleTrigger.html\" rel=\"nofollow noreferrer\">javadocs</a> here's how you can read the defined interval. \nIt's important to note that there are different types of triggers, assuming you're using the <em>SimpleScheduleBuilder</em> for creating triggers you can do the following:</p>\n\n<pre><code>for(Trigger trigger : getAllTrigersFromSchduler()) {\n    System.out.println(trigger.getDescription());   // for description\n    // assuming a SimpleTrigger\n    System.out.println(((SimpleTrigger)trigger).getRepeatInterval()));  // for interval in ms as long\n}\n</code></pre>\n\n<p>regards</p>\n"}],"owner":{"account_id":7759591,"reputation":3166,"user_id":5872782,"display_name":"Jinu P C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54046768,"answer_count":1,"score":1,"last_activity_date":1695913149,"creation_date":1500624242,"question_id":45232287,"body_markdown":"I am using Quartz for scheduling the java tasks. How to get the interval time for a specific trigger\r\n\r\n    for(Trigger trigger : getAllTrigersFromSchduler()) {\r\n        trigger.getDescription(); // for description\r\n        // Need trigger interval time\r\n    }","title":"How to get Quartz Trigger interval?","body":"<p>I am using Quartz for scheduling the java tasks. How to get the interval time for a specific trigger</p>\n\n<pre><code>for(Trigger trigger : getAllTrigersFromSchduler()) {\n    trigger.getDescription(); // for description\n    // Need trigger interval time\n}\n</code></pre>\n"},{"tags":["java","lombok","getter-setter","jackson-databind","objectmapper"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695910768,"post_id":77194946,"comment_id":136089307,"body_markdown":"What is your question?  Are you asking whether you have encountered a bug in Jackson?","body":"What is your question?  Are you asking whether you have encountered a bug in Jackson?"},{"owner":{"account_id":28039134,"reputation":11,"user_id":21416979,"display_name":"Amit Kumar"},"score":0,"creation_date":1695913091,"post_id":77194946,"comment_id":136089869,"body_markdown":"My question is that why initially after server restart mapper throws error and after some time doesn&#39;t throw error even if I pass &quot;safe&quot; field.","body":"My question is that why initially after server restart mapper throws error and after some time doesn&#39;t throw error even if I pass &quot;safe&quot; field."},{"owner":{"account_id":13177851,"reputation":557,"user_id":9518232,"display_name":"Euklios"},"score":0,"creation_date":1696051591,"post_id":77194946,"comment_id":136107621,"body_markdown":"Please clarify your specific problem and what kind of solution you are looking for.\nAre you looking for a way to prevent this from happening? Are you asking if this is a library issue?","body":"Please clarify your specific problem and what kind of solution you are looking for. Are you looking for a way to prevent this from happening? Are you asking if this is a library issue?"},{"owner":{"account_id":28039134,"reputation":11,"user_id":21416979,"display_name":"Amit Kumar"},"score":0,"creation_date":1696151418,"post_id":77194946,"comment_id":136114664,"body_markdown":"I know how to prevent this behaviour (By adding @JsonProperty)  but I need t0 understand why this is happening.\nWhy &quot;safe&quot; is throwing error just after server restart, but starts getting mapped to &quot;isSafe&quot; after sometime.","body":"I know how to prevent this behaviour (By adding @JsonProperty)  but I need t0 understand why this is happening. Why &quot;safe&quot; is throwing error just after server restart, but starts getting mapped to &quot;isSafe&quot; after sometime."}],"owner":{"account_id":28039134,"reputation":11,"user_id":21416979,"display_name":"Amit Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695913142,"creation_date":1695904036,"question_id":77194946,"body_markdown":"I have a Boolean field in the request body of an API, named &quot;isSafe&quot;. This field is mapped to my Pojo class using ObjectMapper. \r\n\r\nIf I send &quot;safe&quot; in the request then it fails and I get this error `Unrecognized field \\&quot;safe\\&quot;`.\r\nBut this same request starts getting passed after sometime.\r\n\r\nMy application is deployed on cloud and I have multiple pods running. \r\nAfter any deployment/restarts of the application, this request fails (which is expected), but after 1-2 hour, one-by-one pods starts giving success response. Eventually, all the requests start getting successful. \r\n\r\nNote: I am aware of the conflicts created by Jackson with &quot;is&quot; prefix name field. But in my case, request starts getting successful after a period of time. This is weird.\r\n\r\nMy question is that why initially after server restart mapper throws error and after some time doesn&#39;t throw error even if I pass &quot;safe&quot; field.\r\n\r\nPojo Class field ( I am using @Data for getter and setter):\r\n\r\n\r\n```\r\nprivate Boolean isSafe;\r\n```\r\n\r\n\r\nObjectMapper bean: \r\n\r\n```\r\nnew ObjectMapper()\r\n        .setSerializationInclusion(JsonInclude.Include.NON_NULL)\r\n        .enable(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES)\r\n        .registerModules(new JavaTimeModule(), new Jdk8Module());\r\n```\r\n\r\n\r\n\r\nInitial Analysis: If I add @JsonIgnoreProperties in my Pojo class where this field is defined then it works as expected (&quot;safe&quot; field is ignored). But without this, it behaves in a weird way.","title":"ObjectMapper maps Boolean field with &quot;is&quot; prefix to same name field without &quot;is&quot; prefix after some time","body":"<p>I have a Boolean field in the request body of an API, named &quot;isSafe&quot;. This field is mapped to my Pojo class using ObjectMapper.</p>\n<p>If I send &quot;safe&quot; in the request then it fails and I get this error <code>Unrecognized field \\&quot;safe\\&quot;</code>.\nBut this same request starts getting passed after sometime.</p>\n<p>My application is deployed on cloud and I have multiple pods running.\nAfter any deployment/restarts of the application, this request fails (which is expected), but after 1-2 hour, one-by-one pods starts giving success response. Eventually, all the requests start getting successful.</p>\n<p>Note: I am aware of the conflicts created by Jackson with &quot;is&quot; prefix name field. But in my case, request starts getting successful after a period of time. This is weird.</p>\n<p>My question is that why initially after server restart mapper throws error and after some time doesn't throw error even if I pass &quot;safe&quot; field.</p>\n<p>Pojo Class field ( I am using @Data for getter and setter):</p>\n<pre><code>private Boolean isSafe;\n</code></pre>\n<p>ObjectMapper bean:</p>\n<pre><code>new ObjectMapper()\n        .setSerializationInclusion(JsonInclude.Include.NON_NULL)\n        .enable(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES)\n        .registerModules(new JavaTimeModule(), new Jdk8Module());\n</code></pre>\n<p>Initial Analysis: If I add @JsonIgnoreProperties in my Pojo class where this field is defined then it works as expected (&quot;safe&quot; field is ignored). But without this, it behaves in a weird way.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":15674950,"reputation":75,"user_id":11310433,"display_name":"localhost"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678083975,"creation_date":1678083975,"answer_id":75647656,"question_id":75647321,"body_markdown":"**This solved the issue:**\r\n\r\nIssue with using schedular in Spring cloud. It has different configuration:\r\nreference: https://www.baeldung.com/spring-cloud-sleuth-single-application\r\n\r\n```\r\n@Configuration\r\n@EnableAsync\r\n@EnableScheduling\r\npublic class ThreadConfig extends AsyncConfigurerSupport\r\n  implements SchedulingConfigurer {\r\n \r\n    //...\r\n    \r\n    @Override\r\n    public void configureTasks(ScheduledTaskRegistrar scheduledTaskRegistrar) {\r\n        scheduledTaskRegistrar.setScheduler(schedulingExecutor());\r\n    }\r\n\r\n    @Bean(destroyMethod = &quot;shutdown&quot;) // I had to remove this line. because it gives error\r\n    public Executor schedulingExecutor() {\r\n        return Executors.newScheduledThreadPool(1);\r\n    }\r\n}\r\n```\r\n\r\nSo, in my case proper dependency was not taken and during autoconfiguration it was giving an error.","title":"Exception while using @EnableScheduling in springboot: Unable to make protected java.util.concurrent.RunnableScheduledFuture","body":"<p><strong>This solved the issue:</strong></p>\n<p>Issue with using schedular in Spring cloud. It has different configuration:\nreference: <a href=\"https://www.baeldung.com/spring-cloud-sleuth-single-application\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-cloud-sleuth-single-application</a></p>\n<pre><code>@Configuration\n@EnableAsync\n@EnableScheduling\npublic class ThreadConfig extends AsyncConfigurerSupport\n  implements SchedulingConfigurer {\n \n    //...\n    \n    @Override\n    public void configureTasks(ScheduledTaskRegistrar scheduledTaskRegistrar) {\n        scheduledTaskRegistrar.setScheduler(schedulingExecutor());\n    }\n\n    @Bean(destroyMethod = &quot;shutdown&quot;) // I had to remove this line. because it gives error\n    public Executor schedulingExecutor() {\n        return Executors.newScheduledThreadPool(1);\n    }\n}\n</code></pre>\n<p>So, in my case proper dependency was not taken and during autoconfiguration it was giving an error.</p>\n"},{"tags":[],"owner":{"account_id":5698955,"reputation":1,"user_id":4504610,"display_name":"sanjay mohanty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695913097,"creation_date":1695731590,"answer_id":77180069,"question_id":75647321,"body_markdown":"Found the solution when you are running the application locally, put the below java options under Run as --&gt;run configurations-&gt;arguments--&gt;VM arguments.\r\n\r\n    --add-opens java.base/java.util.concurrent=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED\r\n\r\n\r\nFor remote `/server` running in my case, as we are using Kubernetes, in values.yaml file I have added below\r\n\r\n    name: JAVA_OPTS\r\n    value: &quot; --add-opens java.base/java.util.concurrent=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED&quot;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/diV4s.png","title":"Exception while using @EnableScheduling in springboot: Unable to make protected java.util.concurrent.RunnableScheduledFuture","body":"<p>Found the solution when you are running the application locally, put the below java options under Run as --&gt;run configurations-&gt;arguments--&gt;VM arguments.</p>\n<pre><code>--add-opens java.base/java.util.concurrent=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED\n</code></pre>\n<p>For remote <code>/server</code> running in my case, as we are using Kubernetes, in values.yaml file I have added below</p>\n<pre><code>name: JAVA_OPTS\nvalue: &quot; --add-opens java.base/java.util.concurrent=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED&quot;\n</code></pre>\n"}],"owner":{"account_id":15674950,"reputation":75,"user_id":11310433,"display_name":"localhost"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":914,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75647656,"answer_count":2,"score":3,"last_activity_date":1695913097,"creation_date":1678080417,"question_id":75647321,"body_markdown":"I am getting an error regarding accessibility issue while running the application.\r\n\r\nThe `decorateTask()` method is a protected method of the ScheduledThreadPoolExecutor class, which means it can only be accessed by subclasses of `ScheduledThreadPoolExecutor`, or by other classes in the same package as `ScheduledThreadPoolExecutor`. If you are not accessing the method from a subclass or from the same package, you will need to modify your code to either extend `ScheduledThreadPoolExecutor` or move your code into the same package as `ScheduledThreadPoolExecutor`.\r\n\r\nHere is my springboot version:\r\n```\r\n&lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n```\r\n\r\nThis is my java version and the spring cloud version:\r\n```\r\n&lt;java.version&gt;17&lt;/java.version&gt;\r\n&lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\r\n```\r\n\r\nI am getting this exception while executing it.\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.boot.actuate.autoconfigure.metrics.task.TaskExecutorMetricsAutoConfiguration&#39;: Injection of autowired dependencies failed; nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make protected java.util.concurrent.RunnableScheduledFuture java.util.concurrent.ScheduledThreadPoolExecutor.decorateTask(java.lang.Runnable,java.util.concurrent.RunnableScheduledFuture) accessible: module java.base does not &quot;opens java.util.concurrent&quot; to unnamed module @525b461a\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n\tat io.armadillo.aftfileuploads.AftFileUploadsApplication.main(AftFileUploadsApplication.java:23)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected java.util.concurrent.RunnableScheduledFuture java.util.concurrent.ScheduledThreadPoolExecutor.decorateTask(java.lang.Runnable,java.util.concurrent.RunnableScheduledFuture) accessible: module java.base does not &quot;opens java.util.concurrent&quot; to unnamed module @525b461a\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n\tat org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:577)\r\n\tat org.springframework.cloud.sleuth.instrument.async.LazyTraceScheduledThreadPoolExecutor.makeAccessibleIfNotNull(LazyTraceScheduledThreadPoolExecutor.java:121)\r\n\tat org.springframework.cloud.sleuth.instrument.async.LazyTraceScheduledThreadPoolExecutor.&lt;init&gt;(LazyTraceScheduledThreadPoolExecutor.java:205)\r\n\tat org.springframework.cloud.sleuth.instrument.async.LazyTraceThreadPoolTaskScheduler.getScheduledThreadPoolExecutor(LazyTraceThreadPoolTaskScheduler.java:181)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.cloud.sleuth.instrument.async.ExecutorMethodInterceptor.invoke(ExecutorBeanPostProcessor.java:356)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\r\n\tat org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler$$EnhancerBySpringCGLIB$$19449eea.getScheduledThreadPoolExecutor(&lt;generated&gt;)\r\n\tat org.springframework.boot.actuate.autoconfigure.metrics.task.TaskExecutorMetricsAutoConfiguration.safeGetThreadPoolExecutor(TaskExecutorMetricsAutoConfiguration.java:83)\r\n\tat org.springframework.boot.actuate.autoconfigure.metrics.task.TaskExecutorMetricsAutoConfiguration.lambda$bindTaskExecutorsToRegistry$0(TaskExecutorMetricsAutoConfiguration.java:61)\r\n\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\r\n\tat org.springframework.boot.actuate.autoconfigure.metrics.task.TaskExecutorMetricsAutoConfiguration.bindTaskExecutorsToRegistry(TaskExecutorMetricsAutoConfiguration.java:56)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:724)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n\t... 17 common frames omitted\r\n```","title":"Exception while using @EnableScheduling in springboot: Unable to make protected java.util.concurrent.RunnableScheduledFuture","body":"<p>I am getting an error regarding accessibility issue while running the application.</p>\n<p>The <code>decorateTask()</code> method is a protected method of the ScheduledThreadPoolExecutor class, which means it can only be accessed by subclasses of <code>ScheduledThreadPoolExecutor</code>, or by other classes in the same package as <code>ScheduledThreadPoolExecutor</code>. If you are not accessing the method from a subclass or from the same package, you will need to modify your code to either extend <code>ScheduledThreadPoolExecutor</code> or move your code into the same package as <code>ScheduledThreadPoolExecutor</code>.</p>\n<p>Here is my springboot version:</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n</code></pre>\n<p>This is my java version and the spring cloud version:</p>\n<pre><code>&lt;java.version&gt;17&lt;/java.version&gt;\n&lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\n</code></pre>\n<p>I am getting this exception while executing it.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.actuate.autoconfigure.metrics.task.TaskExecutorMetricsAutoConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make protected java.util.concurrent.RunnableScheduledFuture java.util.concurrent.ScheduledThreadPoolExecutor.decorateTask(java.lang.Runnable,java.util.concurrent.RunnableScheduledFuture) accessible: module java.base does not &quot;opens java.util.concurrent&quot; to unnamed module @525b461a\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at io.armadillo.aftfileuploads.AftFileUploadsApplication.main(AftFileUploadsApplication.java:23)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected java.util.concurrent.RunnableScheduledFuture java.util.concurrent.ScheduledThreadPoolExecutor.decorateTask(java.lang.Runnable,java.util.concurrent.RunnableScheduledFuture) accessible: module java.base does not &quot;opens java.util.concurrent&quot; to unnamed module @525b461a\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n    at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:577)\n    at org.springframework.cloud.sleuth.instrument.async.LazyTraceScheduledThreadPoolExecutor.makeAccessibleIfNotNull(LazyTraceScheduledThreadPoolExecutor.java:121)\n    at org.springframework.cloud.sleuth.instrument.async.LazyTraceScheduledThreadPoolExecutor.&lt;init&gt;(LazyTraceScheduledThreadPoolExecutor.java:205)\n    at org.springframework.cloud.sleuth.instrument.async.LazyTraceThreadPoolTaskScheduler.getScheduledThreadPoolExecutor(LazyTraceThreadPoolTaskScheduler.java:181)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.cloud.sleuth.instrument.async.ExecutorMethodInterceptor.invoke(ExecutorBeanPostProcessor.java:356)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\n    at org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler$$EnhancerBySpringCGLIB$$19449eea.getScheduledThreadPoolExecutor(&lt;generated&gt;)\n    at org.springframework.boot.actuate.autoconfigure.metrics.task.TaskExecutorMetricsAutoConfiguration.safeGetThreadPoolExecutor(TaskExecutorMetricsAutoConfiguration.java:83)\n    at org.springframework.boot.actuate.autoconfigure.metrics.task.TaskExecutorMetricsAutoConfiguration.lambda$bindTaskExecutorsToRegistry$0(TaskExecutorMetricsAutoConfiguration.java:61)\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\n    at org.springframework.boot.actuate.autoconfigure.metrics.task.TaskExecutorMetricsAutoConfiguration.bindTaskExecutorsToRegistry(TaskExecutorMetricsAutoConfiguration.java:56)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:724)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    ... 17 common frames omitted\n</code></pre>\n"},{"tags":["java","windows","cmd","utf-8","gbk"],"owner":{"account_id":29556261,"reputation":11,"user_id":22651875,"display_name":"HWinZnieJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1695917670,"answer_count":0,"score":1,"last_activity_date":1695911990,"creation_date":1695911990,"question_id":77195997,"body_markdown":"&gt; Notice\r\n&gt;\r\n&gt; My main users of this programme are from China.\r\n&gt;\r\n&gt; Since my program involves English, numbers, Chinese, Japanese, Korean, and even other characters, I need to use UTF-8 encoding.\r\n\r\n### How do I get the following program to run properly in a Windows terminal (e.g. CMD, PowerShell)?\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Please copy the contents of the following line and paste it into the console and press enter to end it.&quot;);\r\n        System.out.println(&quot;aaa你好123桜色舞うころbbb보여줄게456&quot;);\r\n        System.out.print(&quot;Please input: &quot;);\r\n        String line = scanner.nextLine();\r\n        System.out.println(&quot;You have entered: &quot; + line);\r\n        System.out.println(&quot;Whether what you have entered is consistent with what is expected: &quot; + line.equals(&quot;aaa你好123桜色舞うころbbb보여줄게456&quot;));\r\n    }\r\n}\r\n```\r\n\r\nIt works fine in IntelliJ IDEA, and the result is: \r\n\r\n```text\r\nPlease copy the contents of the following line and paste it into the console and press enter to end it.\r\naaa你好123桜色舞うころbbb보여줄게456\r\nPlease input: aaa你好123桜色舞うころbbb보여줄게456\r\nYou have entered: aaa你好123桜色舞うころbbb보여줄게456\r\nWhether what you have entered is consistent with what is expected: true\r\n```\r\n\r\nRun the command `java Main.java` in CMD and the results are respectively: \r\n\r\n- Code page: 936 (GBK)\r\n  \r\n  ```text\r\n  Please copy the contents of the following line and paste it into the console and press enter to end it.\r\n  aaa你好123桜色舞うころbbb????456\r\n  Please input: aaa你好123桜色舞うころbbb????456\r\n  You have entered: aaa???123?@??褦????bbb????456\r\n  Whether what you have entered is consistent with what is expected: false\r\n  ```\r\n  \r\n  The second line of Korean cannot be output properly, and the subsequent Chinese and Japanese texts obtained are incorrect.\r\n\r\n- Code page: 65001 (UTF-8)\r\n  \r\n  ```text\r\n  Please copy the contents of the following line and paste it into the console and press enter to end it.\r\n  aaa你好123桜色舞うころbbb보여줄게456\r\n  Please input: aaa你好123桜色舞うころbbb보여줄게456\r\n  You have entered: aaa&amp;&amp;123&amp;&amp;&amp;&amp;&amp;&amp;bbb&amp;&amp;&amp;&amp;456\r\n  Whether what you have entered is consistent with what is expected: false\r\n  ```\r\n  \r\n  The output of the second line is normal, but the subsequent Chinese, Japanese and Korean are not correct.\r\n\r\n### Try changing the code as follows: \r\n\r\n```java\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in, &quot;UTF_8&quot;);\r\n        System.out.println(&quot;Please copy the contents of the following line and paste it into the console and press enter to end it.&quot;);\r\n        System.out.println(&quot;aaa你好123桜色舞うころbbb보여줄게456&quot;);\r\n        System.out.print(&quot;Please input: &quot;);\r\n        String line = scanner.nextLine();\r\n        System.out.println(&quot;You have entered: &quot; + line);\r\n        System.out.println(&quot;Whether what you have entered is consistent with what is expected: &quot; + line.equals(&quot;aaa你好123桜色舞うころbbb보여줄게456&quot;));\r\n    }\r\n}\r\n```\r\n\r\nThe output in IntelliJ IDEA, CMD the output is consistent with the above, the result is not correct.\r\n\r\n### Try again to change the code as follows: \r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in, &quot;GBK&quot;);\r\n        System.out.println(&quot;Please copy the contents of the following line and paste it into the console and press enter to end it.&quot;);\r\n        System.out.println(&quot;aaa你好123桜色舞うころbbb보여줄게456&quot;);\r\n        System.out.print(&quot;Please input: &quot;);\r\n        String line = scanner.nextLine();\r\n        System.out.println(&quot;You have entered: &quot; + line);\r\n        System.out.println(&quot;Whether what you have entered is consistent with what is expected: &quot; + line.equals(&quot;aaa你好123桜色舞うころbbb보여줄게456&quot;));\r\n    }\r\n}\r\n```\r\n\r\nThe result of the run in IDEA becomes: \r\n\r\n```text\r\nPlease copy the contents of the following line and paste it into the console and press enter to end it.\r\naaa你好123桜色舞うころbbb보여줄게456\r\nPlease input: aaa你好123桜色舞うころbbb보여줄게456\r\nYou have entered: aaa浣犲ソ123妗滆壊鑸炪亞銇撱倣bbb氤挫棳欷勱矊456\r\nWhether what you have entered is consistent with what is expected: false\r\n```\r\n\r\nRun the command `java Main.java` in CMD and the results are respectively: \r\n\r\n- Code page: 936 (GBK)\r\n  \r\n  ```text\r\n    Please copy the contents of the following line and paste it into the console and press enter to end it.\r\n    aaa你好123桜色舞うころbbb????456\r\n    Please input: aaa你好123桜色舞うころbbb????456\r\n    You have entered: aaa你好123桜色舞うころbbb????456\r\n    Whether what you have entered is consistent with what is expected: false\r\n  ```\r\n  \r\n  Although it seems that the output of the second and fourth lines are the same, the Korean text in the output of the second line cannot be output properly, and the result of the subsequent judgement is not true.\r\n\r\n  If the input is correct, it is as follows. \r\n  \r\n  ```text\r\n  Please copy the contents of the following line and paste it into the console and press enter to end it.\r\n  aaa你好123桜色舞うころbbb????456\r\n  Please input: aaa你好123桜色舞うころbbb보여줄게456\r\n  You have entered: aaa你好123桜色舞うころbbb????456\r\n  Whether what you have entered is consistent with what is expected: false\r\n  ```\r\n  \r\n  The results are still incorrect.\r\n\r\n- Code page: 65001 (UTF-8)\r\n  \r\n  ```text\r\n    Please copy the contents of the following line and paste it into the console and press enter to end it.\r\n    aaa你好123桜色舞うころbbb보여줄게456\r\n    Please input: aaa你好123桜色舞うころbbb보여줄게456\r\n    You have entered: aaa&amp;&amp;123&amp;&amp;&amp;&amp;&amp;&amp;bbb&amp;&amp;&amp;&amp;456\r\n    Whether what you have entered is consistent with what is expected: false\r\n  ```\r\n  \r\n  The results are also still incorrect.\r\n\r\n### Besides\r\n\r\nAlso tried adding parameters to run, e.g:\r\n\r\n`java -Dfile.encoding=UTF-8 Main.java`\r\n\r\nOR\r\n\r\n`java -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8  Main.java`\r\n\r\nBut none of the results were correct.\r\n","title":"About Java&#39;s character encoding for System.in in Windows CMD?","body":"<blockquote>\n<p>Notice</p>\n<p>My main users of this programme are from China.</p>\n<p>Since my program involves English, numbers, Chinese, Japanese, Korean, and even other characters, I need to use UTF-8 encoding.</p>\n</blockquote>\n<h3>How do I get the following program to run properly in a Windows terminal (e.g. CMD, PowerShell)?</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Please copy the contents of the following line and paste it into the console and press enter to end it.&quot;);\n        System.out.println(&quot;aaa你好123桜色舞うころbbb보여줄게456&quot;);\n        System.out.print(&quot;Please input: &quot;);\n        String line = scanner.nextLine();\n        System.out.println(&quot;You have entered: &quot; + line);\n        System.out.println(&quot;Whether what you have entered is consistent with what is expected: &quot; + line.equals(&quot;aaa你好123桜色舞うころbbb보여줄게456&quot;));\n    }\n}\n</code></pre>\n<p>It works fine in IntelliJ IDEA, and the result is:</p>\n<pre><code>Please copy the contents of the following line and paste it into the console and press enter to end it.\naaa你好123桜色舞うころbbb보여줄게456\nPlease input: aaa你好123桜色舞うころbbb보여줄게456\nYou have entered: aaa你好123桜色舞うころbbb보여줄게456\nWhether what you have entered is consistent with what is expected: true\n</code></pre>\n<p>Run the command <code>java Main.java</code> in CMD and the results are respectively:</p>\n<ul>\n<li><p>Code page: 936 (GBK)</p>\n<pre><code>Please copy the contents of the following line and paste it into the console and press enter to end it.\naaa你好123桜色舞うころbbb????456\nPlease input: aaa你好123桜色舞うころbbb????456\nYou have entered: aaa???123?@??褦????bbb????456\nWhether what you have entered is consistent with what is expected: false\n</code></pre>\n<p>The second line of Korean cannot be output properly, and the subsequent Chinese and Japanese texts obtained are incorrect.</p>\n</li>\n<li><p>Code page: 65001 (UTF-8)</p>\n<pre><code>Please copy the contents of the following line and paste it into the console and press enter to end it.\naaa你好123桜色舞うころbbb보여줄게456\nPlease input: aaa你好123桜色舞うころbbb보여줄게456\nYou have entered: aaa&amp;&amp;123&amp;&amp;&amp;&amp;&amp;&amp;bbb&amp;&amp;&amp;&amp;456\nWhether what you have entered is consistent with what is expected: false\n</code></pre>\n<p>The output of the second line is normal, but the subsequent Chinese, Japanese and Korean are not correct.</p>\n</li>\n</ul>\n<h3>Try changing the code as follows:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import java.nio.charset.StandardCharsets;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in, &quot;UTF_8&quot;);\n        System.out.println(&quot;Please copy the contents of the following line and paste it into the console and press enter to end it.&quot;);\n        System.out.println(&quot;aaa你好123桜色舞うころbbb보여줄게456&quot;);\n        System.out.print(&quot;Please input: &quot;);\n        String line = scanner.nextLine();\n        System.out.println(&quot;You have entered: &quot; + line);\n        System.out.println(&quot;Whether what you have entered is consistent with what is expected: &quot; + line.equals(&quot;aaa你好123桜色舞うころbbb보여줄게456&quot;));\n    }\n}\n</code></pre>\n<p>The output in IntelliJ IDEA, CMD the output is consistent with the above, the result is not correct.</p>\n<h3>Try again to change the code as follows:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in, &quot;GBK&quot;);\n        System.out.println(&quot;Please copy the contents of the following line and paste it into the console and press enter to end it.&quot;);\n        System.out.println(&quot;aaa你好123桜色舞うころbbb보여줄게456&quot;);\n        System.out.print(&quot;Please input: &quot;);\n        String line = scanner.nextLine();\n        System.out.println(&quot;You have entered: &quot; + line);\n        System.out.println(&quot;Whether what you have entered is consistent with what is expected: &quot; + line.equals(&quot;aaa你好123桜色舞うころbbb보여줄게456&quot;));\n    }\n}\n</code></pre>\n<p>The result of the run in IDEA becomes:</p>\n<pre><code>Please copy the contents of the following line and paste it into the console and press enter to end it.\naaa你好123桜色舞うころbbb보여줄게456\nPlease input: aaa你好123桜色舞うころbbb보여줄게456\nYou have entered: aaa浣犲ソ123妗滆壊鑸炪亞銇撱倣bbb氤挫棳欷勱矊456\nWhether what you have entered is consistent with what is expected: false\n</code></pre>\n<p>Run the command <code>java Main.java</code> in CMD and the results are respectively:</p>\n<ul>\n<li><p>Code page: 936 (GBK)</p>\n<pre><code>  Please copy the contents of the following line and paste it into the console and press enter to end it.\n  aaa你好123桜色舞うころbbb????456\n  Please input: aaa你好123桜色舞うころbbb????456\n  You have entered: aaa你好123桜色舞うころbbb????456\n  Whether what you have entered is consistent with what is expected: false\n</code></pre>\n<p>Although it seems that the output of the second and fourth lines are the same, the Korean text in the output of the second line cannot be output properly, and the result of the subsequent judgement is not true.</p>\n<p>If the input is correct, it is as follows.</p>\n<pre><code>Please copy the contents of the following line and paste it into the console and press enter to end it.\naaa你好123桜色舞うころbbb????456\nPlease input: aaa你好123桜色舞うころbbb보여줄게456\nYou have entered: aaa你好123桜色舞うころbbb????456\nWhether what you have entered is consistent with what is expected: false\n</code></pre>\n<p>The results are still incorrect.</p>\n</li>\n<li><p>Code page: 65001 (UTF-8)</p>\n<pre><code>  Please copy the contents of the following line and paste it into the console and press enter to end it.\n  aaa你好123桜色舞うころbbb보여줄게456\n  Please input: aaa你好123桜色舞うころbbb보여줄게456\n  You have entered: aaa&amp;&amp;123&amp;&amp;&amp;&amp;&amp;&amp;bbb&amp;&amp;&amp;&amp;456\n  Whether what you have entered is consistent with what is expected: false\n</code></pre>\n<p>The results are also still incorrect.</p>\n</li>\n</ul>\n<h3>Besides</h3>\n<p>Also tried adding parameters to run, e.g:</p>\n<p><code>java -Dfile.encoding=UTF-8 Main.java</code></p>\n<p>OR</p>\n<p><code>java -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8  Main.java</code></p>\n<p>But none of the results were correct.</p>\n"},{"tags":["java","android","android-studio","kotlin","gradle"],"comments":[{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":1,"creation_date":1661779889,"post_id":73529595,"comment_id":129846096,"body_markdown":"what do you mean by not working?","body":"what do you mean by not working?"},{"owner":{"account_id":24098615,"reputation":11,"user_id":18070753,"display_name":"MDF"},"score":0,"creation_date":1661779981,"post_id":73529595,"comment_id":129846129,"body_markdown":"it shows this error -&gt; Unresolved reference: ActivityMainBinding","body":"it shows this error -&gt; Unresolved reference: ActivityMainBinding"},{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1661780036,"post_id":73529595,"comment_id":129846159,"body_markdown":"Have you treid to `invalidate cache`?","body":"Have you treid to <code>invalidate cache</code>?"},{"owner":{"account_id":24098615,"reputation":11,"user_id":18070753,"display_name":"MDF"},"score":0,"creation_date":1661780184,"post_id":73529595,"comment_id":129846199,"body_markdown":"i tried to clean project and rebuild project but it also didn&#39;t work","body":"i tried to clean project and rebuild project but it also didn&#39;t work"},{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1661780348,"post_id":73529595,"comment_id":129846262,"body_markdown":"drop me your AnyDesk.","body":"drop me your AnyDesk."},{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":1,"creation_date":1661780554,"post_id":73529595,"comment_id":129846339,"body_markdown":"Do you actually have an `activity_main.xml`? The Binding is always named after the activity xml files. if you have a `activity_blabla.xml` it will be `ActivityBlablaBinding`","body":"Do you actually have an <code>activity_main.xml</code>? The Binding is always named after the activity xml files. if you have a <code>activity_blabla.xml</code> it will be <code>ActivityBlablaBinding</code>"},{"owner":{"account_id":24098615,"reputation":11,"user_id":18070753,"display_name":"MDF"},"score":0,"creation_date":1661780742,"post_id":73529595,"comment_id":129846425,"body_markdown":"yes i have activity_main.xml,which is renamed as mainactivity.xml","body":"yes i have activity_main.xml,which is renamed as mainactivity.xml"},{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":1,"creation_date":1661780792,"post_id":73529595,"comment_id":129846436,"body_markdown":"@Fiaz that&#39;s the problem. It will be `MainactivityBinding` then","body":"@Fiaz that&#39;s the problem. It will be <code>MainactivityBinding</code> then"}],"answers":[{"comments":[{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":1,"creation_date":1661780930,"post_id":73529849,"comment_id":129846489,"body_markdown":"Actually `MainactivityBinding`. Because of no underscore. `main_activity.xml` would be `MainActivityBinding`","body":"Actually <code>MainactivityBinding</code>. Because of no underscore. <code>main_activity.xml</code> would be <code>MainActivityBinding</code>"},{"owner":{"account_id":24098615,"reputation":11,"user_id":18070753,"display_name":"MDF"},"score":0,"creation_date":1661781045,"post_id":73529849,"comment_id":129846529,"body_markdown":"But that also didn&#39;t work?! it shows -&gt; Unresolved reference: MainactivityBinding","body":"But that also didn&#39;t work?! it shows -&gt; Unresolved reference: MainactivityBinding"},{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":1,"creation_date":1661781078,"post_id":73529849,"comment_id":129846543,"body_markdown":"@Fiaz small `a` like `MainactivityBinding`","body":"@Fiaz small <code>a</code> like <code>MainactivityBinding</code>"}],"tags":[],"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661780969,"creation_date":1661780868,"answer_id":73529849,"question_id":73529595,"body_markdown":"Refer to your comment, since you renamed your `xml` to `mainactivity.xml`. You can call it by using \r\n\r\n    MainactivityBinding\r\n\r\ninstead\r\n\r\n    ActivityMainBinding\r\n\r\n\r\n","title":"private lateinit var binding: ActivityMainBinding Not Working?","body":"<p>Refer to your comment, since you renamed your <code>xml</code> to <code>mainactivity.xml</code>. You can call it by using</p>\n<pre><code>MainactivityBinding\n</code></pre>\n<p>instead</p>\n<pre><code>ActivityMainBinding\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14474123,"reputation":1147,"user_id":12469165,"display_name":"Amit pandey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662022357,"creation_date":1661795902,"answer_id":73532864,"question_id":73529595,"body_markdown":" Remove these line and add below one for activity \r\n\r\n     binding = ActivityMainBinding.inflate(layoutInflater)\r\n     setContentView(binding.root)\r\n    \r\n     private lateinit var binding :  ActivityMainBinding\r\n     binding = DataBindingUtil.setContentView(this,R.layout.your_layout)","title":"private lateinit var binding: ActivityMainBinding Not Working?","body":"<p>Remove these line and add below one for activity</p>\n<pre><code> binding = ActivityMainBinding.inflate(layoutInflater)\n setContentView(binding.root)\n\n private lateinit var binding :  ActivityMainBinding\n binding = DataBindingUtil.setContentView(this,R.layout.your_layout)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29548269,"reputation":1,"user_id":22645521,"display_name":"Coko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695911618,"creation_date":1695825950,"answer_id":77188577,"question_id":73529595,"body_markdown":"In my case it was necessary to import this:\r\n\r\n```java\r\nimport com.example.yourproject.databinding.ActivityMainBinding\r\n```","title":"private lateinit var binding: ActivityMainBinding Not Working?","body":"<p>In my case it was necessary to import this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.example.yourproject.databinding.ActivityMainBinding\n</code></pre>\n"}],"owner":{"account_id":24098615,"reputation":11,"user_id":18070753,"display_name":"MDF"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1882,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1695911618,"creation_date":1661779804,"question_id":73529595,"body_markdown":"    class MainActivity : AppCompatActivity() {\r\n        private lateinit var binding: ActivityMainBinding\r\n    \r\n        private lateinit var navController: NavController\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            binding = ActivityMainBinding.inflate(layoutInflater)\r\n            setContentView(binding.root)\r\n    \r\n            navController = Navigation.findNavController(this, R.id.bottom_nav_control)\r\n            setupWithNavController(binding.bottomNavigationView, navController)\r\n        } \r\n    } \r\n\r\n\r\n\r\nHere,private lateinit var binding: ActivityMainBinding not working?!\r\ni tried adding \r\n\r\n\r\n\r\nbuild Features {view Binding true} \r\n\r\nthese code to enable binding on my build.but it didn&#39;t work \r\n\r\nif you know any other answer comment here\r\n","title":"private lateinit var binding: ActivityMainBinding Not Working?","body":"<pre><code>class MainActivity : AppCompatActivity() {\n    private lateinit var binding: ActivityMainBinding\n\n    private lateinit var navController: NavController\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ActivityMainBinding.inflate(layoutInflater)\n        setContentView(binding.root)\n\n        navController = Navigation.findNavController(this, R.id.bottom_nav_control)\n        setupWithNavController(binding.bottomNavigationView, navController)\n    } \n} \n</code></pre>\n<p>Here,private lateinit var binding: ActivityMainBinding not working?!\ni tried adding</p>\n<p>build Features {view Binding true}</p>\n<p>these code to enable binding on my build.but it didn't work</p>\n<p>if you know any other answer comment here</p>\n"},{"tags":["java","postgresql","jcr","jackrabbit","magnolia"],"owner":{"account_id":15754992,"reputation":53,"user_id":11368422,"display_name":"roivasot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695910773,"creation_date":1695723302,"question_id":77179051,"body_markdown":"I am trying to upload large files via a rest api to Magnolia. The project I&#39;m working on is using Jackrabbit jcr and postgres as the db.\r\n\r\nNo issues occur for files that are less than 1GB in size. However the moment I upload larger files an error is thrown.\r\nThis is the code. The error is thrown on the ```Binary dataBinary = vf.createBinary(dataStream); ``` line.\r\n```\r\nInputStream dataStream = new ByteArrayInputStream(byteArrayOutputStream.toByteArray());\r\nValueFactory vf = damSession.getValueFactory();\r\nBinary dataBinary = vf.createBinary(dataStream);\r\n```\r\nThis brings me to a couple of questions: \r\n - Does the error occur because of some limit from postgres (bytea - 1GB limit?)?\r\n - Does the error occur because of some magnolia filter (timeout?) ?\r\n - Is there some way of increasing the max size of files in Magnolia in this specific usecase ([not this one right?][1])/ increasing the max size in postgres?\r\n\r\nError stacktrace:\r\n```\r\norg.postgresql.util.PSQLException: Unable to bind parameter values for statement.\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:390) ~[postgresql-42.6.0.jar:42.6.0]\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar:42.6.0]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar:42.6.0]\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.6.0.jar:42.6.0]\r\n\tat org.postgresql.jdbc.PgPreparedStatement.execute(PgPreparedStatement.java:177) ~[postgresql-42.6.0.jar:42.6.0]\r\n\tat org.apache.commons.dbcp.DelegatingPreparedStatement.execute(DelegatingPreparedStatement.java:172) ~[commons-dbcp-1.4.jar:1.4]\r\n\tat org.apache.commons.dbcp.DelegatingPreparedStatement.execute(DelegatingPreparedStatement.java:172) ~[commons-dbcp-1.4.jar:1.4]\r\n\tat org.apache.commons.dbcp.DelegatingPreparedStatement.execute(DelegatingPreparedStatement.java:172) ~[commons-dbcp-1.4.jar:1.4]\r\n\tat org.apache.jackrabbit.core.util.db.ConnectionHelper.execute(ConnectionHelper.java:524) ~[jackrabbit-data-2.20.9.jar:2.20.9]\r\n\tat org.apache.jackrabbit.core.util.db.ConnectionHelper.reallyExec(ConnectionHelper.java:313) ~[jackrabbit-data-2.20.9.jar:2.20.9]\r\n\tat org.apache.jackrabbit.core.util.db.ConnectionHelper$1.call(ConnectionHelper.java:293) ~[jackrabbit-data-2.20.9.jar:2.20.9]\r\n\tat org.apache.jackrabbit.core.util.db.ConnectionHelper$1.call(ConnectionHelper.java:289) ~[jackrabbit-data-2.20.9.jar:2.20.9]\r\n\tat org.apache.jackrabbit.core.util.db.ConnectionHelper$RetryManager.doTry(ConnectionHelper.java:552) ~[jackrabbit-data-2.20.9.jar:2.20.9]\r\n\tat org.apache.jackrabbit.core.util.db.ConnectionHelper.exec(ConnectionHelper.java:297) ~[jackrabbit-data-2.20.9.jar:2.20.9]\r\n\tat org.apache.jackrabbit.core.data.db.DbDataStore.addRecord(DbDataStore.java:360) ~[jackrabbit-data-2.20.9.jar:2.20.9]\r\n\tat org.apache.jackrabbit.core.value.BLOBInDataStore.getInstance(BLOBInDataStore.java:132) ~[jackrabbit-core-2.20.9.jar:2.20.9]\r\n\tat org.apache.jackrabbit.core.value.InternalValue.getBLOBFileValue(InternalValue.java:623) ~[jackrabbit-core-2.20.9.jar:2.20.9]\r\n\tat org.apache.jackrabbit.core.value.InternalValue.create(InternalValue.java:379) ~[jackrabbit-core-2.20.9.jar:2.20.9]\r\n\tat org.apache.jackrabbit.core.value.InternalValueFactory.create(InternalValueFactory.java:108) ~[jackrabbit-core-2.20.9.jar:2.20.9]\r\n\tat org.apache.jackrabbit.core.value.ValueFactoryImpl.createBinary(ValueFactoryImpl.java:79) ~[jackrabbit-core-2.20.9.jar:2.20.9]\r\n```\r\n\r\n**Magnolia version: 6.2.33**\r\n\r\n**Java version: 11**\r\n\r\n**EDIT 1**\r\n\r\nCompletely missed this part of the error log\r\n\r\n```\r\nCaused by: java.io.IOException: Bind message length 1&#160;073&#160;741&#160;889 too long.  This can be caused by very large or incorrect length specifications on InputStream parameters.\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.sendBind(QueryExecutorImpl.java:1724) ~[postgresql-42.6.0.jar:42.6.0]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.sendOneQuery(QueryExecutorImpl.java:2003) ~[postgresql-42.6.0.jar:42.6.0]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.sendQuery(QueryExecutorImpl.java:1523) ~[postgresql-42.6.0.jar:42.6.0]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:360) ~[postgresql-42.6.0.jar:42.6.0]\r\n```\r\n \r\n  [1]: https://docs.magnolia-cms.com/product-docs/6.2/Apps/List-of-apps/Magnolia-Assets-subapp/DAM-upload-field.html","title":"Magnolia/Jackrabbit JCR - uploading files larger than 1gb","body":"<p>I am trying to upload large files via a rest api to Magnolia. The project I'm working on is using Jackrabbit jcr and postgres as the db.</p>\n<p>No issues occur for files that are less than 1GB in size. However the moment I upload larger files an error is thrown.\nThis is the code. The error is thrown on the <code>Binary dataBinary = vf.createBinary(dataStream); </code> line.</p>\n<pre><code>InputStream dataStream = new ByteArrayInputStream(byteArrayOutputStream.toByteArray());\nValueFactory vf = damSession.getValueFactory();\nBinary dataBinary = vf.createBinary(dataStream);\n</code></pre>\n<p>This brings me to a couple of questions:</p>\n<ul>\n<li>Does the error occur because of some limit from postgres (bytea - 1GB limit?)?</li>\n<li>Does the error occur because of some magnolia filter (timeout?) ?</li>\n<li>Is there some way of increasing the max size of files in Magnolia in this specific usecase (<a href=\"https://docs.magnolia-cms.com/product-docs/6.2/Apps/List-of-apps/Magnolia-Assets-subapp/DAM-upload-field.html\" rel=\"nofollow noreferrer\">not this one right?</a>)/ increasing the max size in postgres?</li>\n</ul>\n<p>Error stacktrace:</p>\n<pre><code>org.postgresql.util.PSQLException: Unable to bind parameter values for statement.\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:390) ~[postgresql-42.6.0.jar:42.6.0]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar:42.6.0]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar:42.6.0]\n    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.6.0.jar:42.6.0]\n    at org.postgresql.jdbc.PgPreparedStatement.execute(PgPreparedStatement.java:177) ~[postgresql-42.6.0.jar:42.6.0]\n    at org.apache.commons.dbcp.DelegatingPreparedStatement.execute(DelegatingPreparedStatement.java:172) ~[commons-dbcp-1.4.jar:1.4]\n    at org.apache.commons.dbcp.DelegatingPreparedStatement.execute(DelegatingPreparedStatement.java:172) ~[commons-dbcp-1.4.jar:1.4]\n    at org.apache.commons.dbcp.DelegatingPreparedStatement.execute(DelegatingPreparedStatement.java:172) ~[commons-dbcp-1.4.jar:1.4]\n    at org.apache.jackrabbit.core.util.db.ConnectionHelper.execute(ConnectionHelper.java:524) ~[jackrabbit-data-2.20.9.jar:2.20.9]\n    at org.apache.jackrabbit.core.util.db.ConnectionHelper.reallyExec(ConnectionHelper.java:313) ~[jackrabbit-data-2.20.9.jar:2.20.9]\n    at org.apache.jackrabbit.core.util.db.ConnectionHelper$1.call(ConnectionHelper.java:293) ~[jackrabbit-data-2.20.9.jar:2.20.9]\n    at org.apache.jackrabbit.core.util.db.ConnectionHelper$1.call(ConnectionHelper.java:289) ~[jackrabbit-data-2.20.9.jar:2.20.9]\n    at org.apache.jackrabbit.core.util.db.ConnectionHelper$RetryManager.doTry(ConnectionHelper.java:552) ~[jackrabbit-data-2.20.9.jar:2.20.9]\n    at org.apache.jackrabbit.core.util.db.ConnectionHelper.exec(ConnectionHelper.java:297) ~[jackrabbit-data-2.20.9.jar:2.20.9]\n    at org.apache.jackrabbit.core.data.db.DbDataStore.addRecord(DbDataStore.java:360) ~[jackrabbit-data-2.20.9.jar:2.20.9]\n    at org.apache.jackrabbit.core.value.BLOBInDataStore.getInstance(BLOBInDataStore.java:132) ~[jackrabbit-core-2.20.9.jar:2.20.9]\n    at org.apache.jackrabbit.core.value.InternalValue.getBLOBFileValue(InternalValue.java:623) ~[jackrabbit-core-2.20.9.jar:2.20.9]\n    at org.apache.jackrabbit.core.value.InternalValue.create(InternalValue.java:379) ~[jackrabbit-core-2.20.9.jar:2.20.9]\n    at org.apache.jackrabbit.core.value.InternalValueFactory.create(InternalValueFactory.java:108) ~[jackrabbit-core-2.20.9.jar:2.20.9]\n    at org.apache.jackrabbit.core.value.ValueFactoryImpl.createBinary(ValueFactoryImpl.java:79) ~[jackrabbit-core-2.20.9.jar:2.20.9]\n</code></pre>\n<p><strong>Magnolia version: 6.2.33</strong></p>\n<p><strong>Java version: 11</strong></p>\n<p><strong>EDIT 1</strong></p>\n<p>Completely missed this part of the error log</p>\n<pre><code>Caused by: java.io.IOException: Bind message length 1 073 741 889 too long.  This can be caused by very large or incorrect length specifications on InputStream parameters.\n    at org.postgresql.core.v3.QueryExecutorImpl.sendBind(QueryExecutorImpl.java:1724) ~[postgresql-42.6.0.jar:42.6.0]\n    at org.postgresql.core.v3.QueryExecutorImpl.sendOneQuery(QueryExecutorImpl.java:2003) ~[postgresql-42.6.0.jar:42.6.0]\n    at org.postgresql.core.v3.QueryExecutorImpl.sendQuery(QueryExecutorImpl.java:1523) ~[postgresql-42.6.0.jar:42.6.0]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:360) ~[postgresql-42.6.0.jar:42.6.0]\n</code></pre>\n"},{"tags":["java","intellij-idea","code-coverage"],"answers":[{"tags":[],"owner":{"account_id":253678,"reputation":3243,"user_id":532548,"accept_rate":57,"display_name":"Pranav Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393639023,"creation_date":1393639023,"answer_id":22109117,"question_id":22054242,"body_markdown":"Received a response from JetBrains.  It seems that this is not possible as of this posting, but there is an open ticket.\r\n\r\n[http://devnet.jetbrains.com/message/5510539#5510539][1]\r\n\r\n\r\n  [1]: http://devnet.jetbrains.com/message/5510539#5510539","title":"Configure code-coverage to ignore or accept private constructors","body":"<p>Received a response from JetBrains.  It seems that this is not possible as of this posting, but there is an open ticket.</p>\n\n<p><a href=\"http://devnet.jetbrains.com/message/5510539#5510539\" rel=\"nofollow\">http://devnet.jetbrains.com/message/5510539#5510539</a></p>\n"},{"tags":[],"owner":{"account_id":1342249,"reputation":7921,"user_id":1283715,"accept_rate":74,"display_name":"Khaled Lela"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393639357,"creation_date":1393639357,"answer_id":22109149,"question_id":22054242,"body_markdown":"You may have to search for static code analysis (assistance).\r\n[Intelligent Code Assistance][1]\r\n\r\n\r\n  [1]: http://www.jetbrains.com/idea/features/code_analysis.html","title":"Configure code-coverage to ignore or accept private constructors","body":"<p>You may have to search for static code analysis (assistance).\n<a href=\"http://www.jetbrains.com/idea/features/code_analysis.html\" rel=\"nofollow\">Intelligent Code Assistance</a></p>\n"},{"tags":[],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695910694,"creation_date":1695910694,"answer_id":77195833,"question_id":22054242,"body_markdown":"I failed to find already existing solution with IntelliJ.\r\n\r\nI created annotations by myself.\r\n\r\n```java\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.CONSTRUCTOR})\r\npublic @interface ExcludeFromCoverage_PrivateConstructor_Obviously {\r\n\r\n}\r\n```\r\n\r\nAnd added the `@ExcludeFromCoverage_PrivateConstructor_Obviously` to\r\n* Settings\r\n  * Coverage\r\n    * Java Coverage\r\n      * Exclude annotations\r\n\r\nNow my private constructors are free from the coverage.\r\n\r\n```java\r\n    @ExcludeFromCoverage_PrivateConstructor_Obviously\r\n    private Some() {\r\n        throw new AssertionError(&quot;instantiation is not allowed&quot;);\r\n    }\r\n```","title":"Configure code-coverage to ignore or accept private constructors","body":"<p>I failed to find already existing solution with IntelliJ.</p>\n<p>I created annotations by myself.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.CONSTRUCTOR})\npublic @interface ExcludeFromCoverage_PrivateConstructor_Obviously {\n\n}\n</code></pre>\n<p>And added the <code>@ExcludeFromCoverage_PrivateConstructor_Obviously</code> to</p>\n<ul>\n<li>Settings\n<ul>\n<li>Coverage\n<ul>\n<li>Java Coverage\n<ul>\n<li>Exclude annotations</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Now my private constructors are free from the coverage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @ExcludeFromCoverage_PrivateConstructor_Obviously\n    private Some() {\n        throw new AssertionError(&quot;instantiation is not allowed&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":253678,"reputation":3243,"user_id":532548,"accept_rate":57,"display_name":"Pranav Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1575,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1695910694,"creation_date":1393451779,"question_id":22054242,"body_markdown":"Is there a way in intellij-idea (version 11.1.5) to ignore or accept certain parts of code?\r\n\r\n  In my configuration I am using IDEA as the coverage runner.\r\n\r\n  I currently have a static class with a private constructor.\r\n\r\n  This constructor is never supposed to be call.\r\n\r\n  Is there anything I can do such that code-coverage understands this?\r\n\r\n  I just want to make it easier for myself to know that indeed I have complete coverage rather than looking at each class and making sure that I didn&#39;t miss anything.\r\n\r\nThanks\r\n\r\n\r\n ","title":"Configure code-coverage to ignore or accept private constructors","body":"<p>Is there a way in intellij-idea (version 11.1.5) to ignore or accept certain parts of code?</p>\n\n<p>In my configuration I am using IDEA as the coverage runner.</p>\n\n<p>I currently have a static class with a private constructor.</p>\n\n<p>This constructor is never supposed to be call.</p>\n\n<p>Is there anything I can do such that code-coverage understands this?</p>\n\n<p>I just want to make it easier for myself to know that indeed I have complete coverage rather than looking at each class and making sure that I didn't miss anything.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","apache-poi","docx","docx4j"],"comments":[{"owner":{"account_id":407825,"reputation":22412,"user_id":778118,"accept_rate":67,"display_name":"jahroy"},"score":1,"creation_date":1369193060,"post_id":16682942,"comment_id":24007742,"body_markdown":"[Apache POI](http://poi.apache.org/) seems to be the most common library used to read Microsoft file formats.","body":"<a href=\"http://poi.apache.org/\" rel=\"nofollow noreferrer\">Apache POI</a> seems to be the most common library used to read Microsoft file formats."},{"owner":{"account_id":30580,"reputation":15487,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1417201646,"post_id":16682942,"comment_id":42874584,"body_markdown":"That is certainly true for Excel (.xls and .xlsx)","body":"That is certainly true for Excel (.xls and .xlsx)"},{"owner":{"account_id":342588,"reputation":1620,"user_id":673826,"accept_rate":69,"display_name":"mlt"},"score":0,"creation_date":1444171565,"post_id":16682942,"comment_id":53787487,"body_markdown":"Possible duplicate of [How read Doc or Docx file in java?](http://stackoverflow.com/questions/7102511/how-read-doc-or-docx-file-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/7102511/how-read-doc-or-docx-file-in-java\">How read Doc or Docx file in java?</a>"},{"owner":{"account_id":19504722,"reputation":383,"user_id":14270627,"display_name":"Tech Expert Wizard"},"score":0,"creation_date":1605099538,"post_id":16682942,"comment_id":114547462,"body_markdown":"`.docx` files are not plain text files, which have a file extension of `.txt`; and they are encoded differently. You would need an API to read it, as suggested by @jahroy above.","body":"<code>.docx</code> files are not plain text files, which have a file extension of <code>.txt</code>; and they are encoded differently. You would need an API to read it, as suggested by @jahroy above."}],"answers":[{"tags":[],"owner":{"account_id":376199,"reputation":7329,"user_id":727495,"accept_rate":87,"display_name":"vkrams"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1369193066,"creation_date":1369193066,"answer_id":16682974,"question_id":16682942,"body_markdown":"You cannot read the docx file or doc file directly. You need to have an API to read word files. Use Apache POI http://poi.apache.org/. If you get any doubts, please refer this thread on stackoverflow.com\r\nhttps://stackoverflow.com/questions/7102511/how-read-doc-or-docx-file-in-java","title":"Reading .docx file in java","body":"<p>You cannot read the docx file or doc file directly. You need to have an API to read word files. Use Apache POI <a href=\"http://poi.apache.org/\" rel=\"nofollow noreferrer\">http://poi.apache.org/</a>. If you get any doubts, please refer this thread on stackoverflow.com\n<a href=\"https://stackoverflow.com/questions/7102511/how-read-doc-or-docx-file-in-java\">How read Doc or Docx file in java?</a></p>\n"},{"tags":[],"owner":{"display_name":"user2405098"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1451576636,"creation_date":1369198550,"answer_id":16683737,"question_id":16682942,"body_markdown":"Internally **.docx** files are organized as zipped **XML**-files, whereas **.doc** is a **binary** file format. So you can not read either one directly. Have a look at **docx4j** or **Apache POI**. \r\n\r\n\r\nIf you are trying to create or manipulate a .docx file, try **docx4j**\r\n[Here is the source][1]\r\n\r\n\r\n  [1]: http://www.docx4java.org/trac/docx4j\r\n \r\nor go for apachePOI\r\n","title":"Reading .docx file in java","body":"<p>Internally <strong>.docx</strong> files are organized as zipped <strong>XML</strong>-files, whereas <strong>.doc</strong> is a <strong>binary</strong> file format. So you can not read either one directly. Have a look at <strong>docx4j</strong> or <strong>Apache POI</strong>. </p>\n\n<p>If you are trying to create or manipulate a .docx file, try <strong>docx4j</strong>\n<a href=\"http://www.docx4java.org/trac/docx4j\" rel=\"noreferrer\">Here is the source</a></p>\n\n<p>or go for apachePOI</p>\n"},{"comments":[{"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"score":0,"creation_date":1449573102,"post_id":27190282,"comment_id":56055499,"body_markdown":"Your code will not compile. paragraphs is not defined","body":"Your code will not compile. paragraphs is not defined"}],"tags":[],"owner":{"account_id":3707942,"reputation":541,"user_id":3085960,"display_name":"Swati Pisal"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1637235367,"creation_date":1417183198,"answer_id":27190282,"question_id":16682942,"body_markdown":"you must have following 6 jar:\r\n\r\n1. xmlbeans-2.3.0.jar\r\n2. dom4j-1.6.1.jar\r\n3. poi-ooxml-3.8-20120326.jar\r\n4. poi-ooxml-schemas-3.8-20120326.jar\r\n5. poi-scratchpad-3.2-FINAL.jar\r\n6. poi-3.5-FINAL.jar\r\n\r\nCode:\r\n    \r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import org.apache.poi.hwpf.HWPFDocument;\r\n    import org.apache.poi.hwpf.extractor.WordExtractor;\r\n    import org.apache.poi.xwpf.usermodel.XWPFDocument;\r\n    import org.apache.poi.xwpf.usermodel.XWPFParagraph;\r\n     \r\n    public class test {\r\n     public static void readDocxFile(String fileName) {\r\n    try {\r\n    File file = new File(fileName);\r\n    FileInputStream fis = new FileInputStream(file.getAbsolutePath());\r\n    XWPFDocument document = new XWPFDocument(fis);\r\n    List&lt;XWPFParagraph&gt; paragraphs = document.getParagraphs();\r\n\r\n    for(int i=0;i&lt;paragraphs.size();i++){\r\n        System.out.println(paragraphs.get(i).getParagraphText());\r\n    }\r\n    fis.close();\r\n    } catch (Exception e) {\r\n    e.printStackTrace();\r\n    }\r\n    }\r\n    public static void main(String[] args) {\r\n     readDocxFile(&quot;C:\\\\Users\\\\sp0c43734\\\\Desktop\\\\SwatiPisal.docx&quot;);\r\n     }\r\n    } \r\n","title":"Reading .docx file in java","body":"<p>you must have following 6 jar:</p>\n<ol>\n<li>xmlbeans-2.3.0.jar</li>\n<li>dom4j-1.6.1.jar</li>\n<li>poi-ooxml-3.8-20120326.jar</li>\n<li>poi-ooxml-schemas-3.8-20120326.jar</li>\n<li>poi-scratchpad-3.2-FINAL.jar</li>\n<li>poi-3.5-FINAL.jar</li>\n</ol>\n<p>Code:</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.util.Iterator;\nimport java.util.List;\nimport org.apache.poi.hwpf.HWPFDocument;\nimport org.apache.poi.hwpf.extractor.WordExtractor;\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\nimport org.apache.poi.xwpf.usermodel.XWPFParagraph;\n \npublic class test {\n public static void readDocxFile(String fileName) {\ntry {\nFile file = new File(fileName);\nFileInputStream fis = new FileInputStream(file.getAbsolutePath());\nXWPFDocument document = new XWPFDocument(fis);\nList&lt;XWPFParagraph&gt; paragraphs = document.getParagraphs();\n\nfor(int i=0;i&lt;paragraphs.size();i++){\n    System.out.println(paragraphs.get(i).getParagraphText());\n}\nfis.close();\n} catch (Exception e) {\ne.printStackTrace();\n}\n}\npublic static void main(String[] args) {\n readDocxFile(&quot;C:\\\\Users\\\\sp0c43734\\\\Desktop\\\\SwatiPisal.docx&quot;);\n }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5875274,"reputation":155,"user_id":4626279,"display_name":"Raju Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1451551281,"creation_date":1451551281,"answer_id":34543577,"question_id":16682942,"body_markdown":"    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.util.List;\r\n    import org.apache.poi.xwpf.usermodel.XWPFDocument;\r\n    import org.apache.poi.xwpf.usermodel.XWPFParagraph;\r\n        public void readDocxFile() {\r\n                try {\r\n                    File file = new File(&quot;C:/NetBeans Output/documentx.docx&quot;);\r\n                    FileInputStream fis = new FileInputStream(file.getAbsolutePath());\r\n        \r\n                    XWPFDocument document = new XWPFDocument(fis);\r\n        \r\n                    List&lt;XWPFParagraph&gt; paragraphs = document.getParagraphs();\r\n        \r\n                    \r\n                    for (XWPFParagraph para : paragraphs) {\r\n                        System.out.println(para.getText());\r\n                    }\r\n                    fis.close();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }","title":"Reading .docx file in java","body":"<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.util.List;\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\nimport org.apache.poi.xwpf.usermodel.XWPFParagraph;\n    public void readDocxFile() {\n            try {\n                File file = new File(\"C:/NetBeans Output/documentx.docx\");\n                FileInputStream fis = new FileInputStream(file.getAbsolutePath());\n\n                XWPFDocument document = new XWPFDocument(fis);\n\n                List&lt;XWPFParagraph&gt; paragraphs = document.getParagraphs();\n\n\n                for (XWPFParagraph para : paragraphs) {\n                    System.out.println(para.getText());\n                }\n                fis.close();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15582895,"reputation":31,"user_id":11242206,"display_name":"PetKap"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695910552,"creation_date":1695910552,"answer_id":77195812,"question_id":16682942,"body_markdown":"I had more complicated docx file and these solutions with `document.getParagraphs()` wasn&#39;t working. What works in my case was:\r\n\r\n```\r\nimport org.apache.poi.xwpf.extractor.XWPFWordExtractor;\r\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\r\n...\r\nprotected List&lt;String&gt; readDocxFile(String fileName, Path path) {\r\n    XWPFWordExtractor xwpfWordExtractor = null;\r\n    try (var doc = new XWPFDocument(Files.newInputStream(path.resolve(fileName)))) {\r\n        xwpfWordExtractor = new XWPFWordExtractor(doc);\r\n        var docText = xwpfWordExtractor.getText().split(&quot;\\n&quot;);\r\n\r\n        return Arrays.asList(docText).stream().collect(Collectors.toList());\r\n    } catch (IOException e) {\r\n        log.error(String.format(&quot;Can not read file %s.&quot;, fileName));\r\n        return Collections.emptyList();\r\n    } finally {\r\n        if (xwpfWordExtractor != null) {\r\n            try {\r\n                xwpfWordExtractor.close();\r\n            } catch (IOException e) {\r\n                log.info(&quot;Not able to close xwpfWordExtractor.&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nAnd I used these maven dependencies:\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.2.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.2.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.9&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Reading .docx file in java","body":"<p>I had more complicated docx file and these solutions with <code>document.getParagraphs()</code> wasn't working. What works in my case was:</p>\n<pre><code>import org.apache.poi.xwpf.extractor.XWPFWordExtractor;\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\n...\nprotected List&lt;String&gt; readDocxFile(String fileName, Path path) {\n    XWPFWordExtractor xwpfWordExtractor = null;\n    try (var doc = new XWPFDocument(Files.newInputStream(path.resolve(fileName)))) {\n        xwpfWordExtractor = new XWPFWordExtractor(doc);\n        var docText = xwpfWordExtractor.getText().split(&quot;\\n&quot;);\n\n        return Arrays.asList(docText).stream().collect(Collectors.toList());\n    } catch (IOException e) {\n        log.error(String.format(&quot;Can not read file %s.&quot;, fileName));\n        return Collections.emptyList();\n    } finally {\n        if (xwpfWordExtractor != null) {\n            try {\n                xwpfWordExtractor.close();\n            } catch (IOException e) {\n                log.info(&quot;Not able to close xwpfWordExtractor.&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>And I used these maven dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n    &lt;version&gt;5.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;5.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;\n    &lt;version&gt;3.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2043682,"reputation":813,"user_id":1824286,"accept_rate":38,"display_name":"Addict"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56020,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"answer_count":5,"score":5,"last_activity_date":1695910552,"creation_date":1369192818,"question_id":16682942,"body_markdown":"I am trying to read one file in java, following is the code : \r\n\r\n\r\n    public void readFile(String fileName){\r\n    \t\ttry {\r\n    \t\tBufferedReader reader= new BufferedReader(new FileReader(fileName)); \r\n    \t\tString line=null;\r\n    \t\twhile((line=reader.readLine()) != null ){\r\n    \t\t\tSystem.out.println(line);\r\n    \t\t}\r\n    \t\t}catch (Exception ex){}\r\n                }\r\n\r\nIt is working fine in case of txt file. However in case of docx file, it is printing weird characters. How can i read .docx file in Java.\r\n\t","title":"Reading .docx file in java","body":"<p>I am trying to read one file in java, following is the code : </p>\n\n<pre><code>public void readFile(String fileName){\n        try {\n        BufferedReader reader= new BufferedReader(new FileReader(fileName)); \n        String line=null;\n        while((line=reader.readLine()) != null ){\n            System.out.println(line);\n        }\n        }catch (Exception ex){}\n            }\n</code></pre>\n\n<p>It is working fine in case of txt file. However in case of docx file, it is printing weird characters. How can i read .docx file in Java.</p>\n"},{"tags":["java","variables","scope","initialization","declaration"],"comments":[{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":2,"creation_date":1695908926,"post_id":77195521,"comment_id":136088874,"body_markdown":"Welcome to Stack Overflow!  Relevant code and error messages need to be included in your question *as text*, [not as pictures of text](https://meta.stackoverflow.com/q/285551/328193).  Just linking to screen shots makes it more difficult for people to help you.  To learn more about this community and how we can help you, please start with the [tour] and read [ask] and its linked resources.","body":"Welcome to Stack Overflow!  Relevant code and error messages need to be included in your question <i>as text</i>, <a href=\"https://meta.stackoverflow.com/q/285551/328193\">not as pictures of text</a>.  Just linking to screen shots makes it more difficult for people to help you.  To learn more about this community and how we can help you, please start with the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1695908942,"post_id":77195521,"comment_id":136088880,"body_markdown":"Please edit your question to include the code and error message as text, not an image.","body":"Please edit your question to include the code and error message as text, not an image."},{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":2,"creation_date":1695909076,"post_id":77195521,"comment_id":136088920,"body_markdown":"As for the question... This has exactly *nothing* to do with scope.  The compiler is not going to examine your logic and determine if any given variable *will be* initialized.  Whether or not a condition is logically guaranteed to be true doesn&#39;t matter.  The compiler sees it as a condition and tells you that the operation within that condition *might not* happen.  The takeaway here is that, if you have a logical condition that you know will always be true under all circumstances, then refactor the code to remove the unnecessary condition.","body":"As for the question... This has exactly <i>nothing</i> to do with scope.  The compiler is not going to examine your logic and determine if any given variable <i>will be</i> initialized.  Whether or not a condition is logically guaranteed to be true doesn&#39;t matter.  The compiler sees it as a condition and tells you that the operation within that condition <i>might not</i> happen.  The takeaway here is that, if you have a logical condition that you know will always be true under all circumstances, then refactor the code to remove the unnecessary condition."},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1695909135,"post_id":77195521,"comment_id":136088935,"body_markdown":"Variable scope doesn&#39;t change depending on how you initialize your variable and has nothing to do with your error. Your error is simply that the compiler cannot guarantee that any possible path your code can take will lead to the variable being initialized because you only initialize it in conditional blocks that might not be reached at all.","body":"Variable scope doesn&#39;t change depending on how you initialize your variable and has nothing to do with your error. Your error is simply that the compiler cannot guarantee that any possible path your code can take will lead to the variable being initialized because you only initialize it in conditional blocks that might not be reached at all."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1695915083,"post_id":77195521,"comment_id":136090337,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1695913681,"post_id":77195756,"comment_id":136090012,"body_markdown":"That article is too simplistic. Local variables must be initialized before use. This means that if they are not used, they don&#39;t have to be initialized. For example, if they are only used in an inner block, they only have to be initialized in that inner block. Also, they don&#39;t have to be initialized in the same statement as their declaration. They can be initialized, for example, after declaration, e.g. `int n; if (cond) n = 1; else n = 2;` The linked article doesn&#39;t seem to make this very clear.","body":"That article is too simplistic. Local variables must be initialized before use. This means that if they are not used, they don&#39;t have to be initialized. For example, if they are only used in an inner block, they only have to be initialized in that inner block. Also, they don&#39;t have to be initialized in the same statement as their declaration. They can be initialized, for example, after declaration, e.g. <code>int n; if (cond) n = 1; else n = 2;</code> The linked article doesn&#39;t seem to make this very clear."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696268136,"post_id":77195756,"comment_id":136128416,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77195756/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29538445,"reputation":1,"user_id":22637625,"display_name":"Diego Moran"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695910206,"creation_date":1695910206,"answer_id":77195756,"question_id":77195521,"body_markdown":"I am going to recommend the following article to you here you can find examples as well:\r\n\r\nhttps://www.baeldung.com/java-error-variable-initialized#:~:text=This%20error%20occurs%20only%20for,the%20use%20of%20uninitialized%20variables.\r\n\r\nSummary of the article:\r\nIf we declare a local variable without an initial value, we’ll get an error. This error occurs only for local variables, since Java automatically initializes the instance variables at compile time (it sets 0 for integers, false for boolean, etc.). However, local variables need a default value because the Java compiler doesn’t allow the use of uninitialized variables.\r\n\r\nI hope it helps","title":"Scope of a variable in java","body":"<p>I am going to recommend the following article to you here you can find examples as well:</p>\n<p><a href=\"https://www.baeldung.com/java-error-variable-initialized#:%7E:text=This%20error%20occurs%20only%20for,the%20use%20of%20uninitialized%20variables\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-error-variable-initialized#:~:text=This%20error%20occurs%20only%20for,the%20use%20of%20uninitialized%20variables</a>.</p>\n<p>Summary of the article:\nIf we declare a local variable without an initial value, we’ll get an error. This error occurs only for local variables, since Java automatically initializes the instance variables at compile time (it sets 0 for integers, false for boolean, etc.). However, local variables need a default value because the Java compiler doesn’t allow the use of uninitialized variables.</p>\n<p>I hope it helps</p>\n"}],"owner":{"account_id":29555990,"reputation":9,"user_id":22651656,"display_name":"Amritesh Yadav"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1695910206,"creation_date":1695908695,"question_id":77195521,"body_markdown":"[the code and the error](https://i.stack.imgur.com/c7R6a.jpg)\r\nAs per variable scope m (not initialized) shouldn&#39;t be having a value in it, and that&#39;s correct, im getting an error for it but when you initialize a variable and then use it in the conditional construct inside the iterative construct, it can get any value you provide it with.\r\n\r\nwhy is that? shouldn&#39;t the variable scope remain the same regardless of its initialization?\r\n\r\nbasically if i declare int a; and give it a value inside an if condition which is inside a for loop it doesn&#39;t get the value and remains un-initialized, but if initialize it, int a=0; and then give it any value inside an if condition which is inside a for loop, it does get the value i give it.","title":"Scope of a variable in java","body":"<p><a href=\"https://i.stack.imgur.com/c7R6a.jpg\" rel=\"nofollow noreferrer\">the code and the error</a>\nAs per variable scope m (not initialized) shouldn't be having a value in it, and that's correct, im getting an error for it but when you initialize a variable and then use it in the conditional construct inside the iterative construct, it can get any value you provide it with.</p>\n<p>why is that? shouldn't the variable scope remain the same regardless of its initialization?</p>\n<p>basically if i declare int a; and give it a value inside an if condition which is inside a for loop it doesn't get the value and remains un-initialized, but if initialize it, int a=0; and then give it any value inside an if condition which is inside a for loop, it does get the value i give it.</p>\n"},{"tags":["java","apache","weblogic"],"comments":[{"owner":{"account_id":945709,"reputation":1040,"user_id":973006,"accept_rate":48,"display_name":"af_khan"},"score":0,"creation_date":1324108079,"post_id":8540035,"comment_id":10584042,"body_markdown":"can anyone comment here please... ? Its an urgetn issue for me.","body":"can anyone comment here please... ? Its an urgetn issue for me."},{"owner":{"account_id":945709,"reputation":1040,"user_id":973006,"accept_rate":48,"display_name":"af_khan"},"score":0,"creation_date":1324241708,"post_id":8540035,"comment_id":10601776,"body_markdown":"Any takers for this question. Any help is highly appreciated.","body":"Any takers for this question. Any help is highly appreciated."}],"answers":[{"tags":[],"owner":{"account_id":338925,"reputation":509,"user_id":668075,"accept_rate":50,"display_name":"Anupam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1326115382,"creation_date":1326115382,"answer_id":8789079,"question_id":8540035,"body_markdown":"AFroz: I am getting the same error but in Weblogic10.3 and IIS plugin. Below are my finding and resolutions\r\n\r\nPost my application was sending to IIS server\r\n\r\n`POST &lt;hostname/pagedetails&gt; HTTP/1.0&#39;\r\n`Accept: image/jpeg, application/x-ms-application, image/gif, application/xaml+xml, image/pjpeg, application/x-ms-xbap, application/x-shockwave-flash, application/vnd.ms-powerpoint, application/vnd.ms-excel, application/msword, */*`\r\n`Referer: &lt;hostname/pagedetails&gt;\r\n`User-Agent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.1; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; `.NET CLR 3.0.30729; Media Center PC 6.0; .NET CLR 1.1.4322; .NET4.0C)\r\n`Content-Type: application/x-www-form-urlencoded\r\n`Host: &lt;hostname&gt;\r\n`&lt;b&gt;Content-Length: 38579&lt;/b&gt;\r\n`Proxy-Connection: Keep-Alive\r\n`Pragma: no-cache\r\n`Cookie: `SMSESSION=&lt;Session details&gt;\r\n\r\n`JSESSIONID=0JppPKFpLXk8HMynBLDbBJPltLL70GvQ8Cyl56hhnXbjT7JbrgmR!847042037\r\n\r\nError recived \r\n\r\n&lt;PRE&gt;HTTP/1.1 500 Internal Server Error\r\nServer: Microsoft-IIS/5.0\r\nDate: Mon, 09 Jan 2012 10:56:31 GMT\r\nSet-Cookie: SMSESSION=85psVrPSuTRavlFjc8+YLNNKjH82me4KdX8t57d3RMn/6DDYk37CarBHHbT1Z0cCJTPSH48jAhgvrlLcFgNzwwLYoTkQRaKTZljCz4wCyiuj5gsx8yPBZL4h/HkaCVZMNQam5+En3UO2G8sQJ33DviYiMiX5i/azf8m06s2MyTCk6ngT/5u5rMm2SpWBlDfW/JLUEkcRD4RjQCeMP4P0Vzt8mw3oD0O/owscfaUx/nfWCAzDFEiIPkPqkEo2pUzHbfKHoQzm3AnI9cfGMjXJ8yns7dmpOOuGI0uMQzWgsv9S1+zr2VBewY7qnAyVX1MhUP203HlHjUO9rtqnDmOIqbHLMR3PRnY60VL8qpnYcrdkpLHEQEvZLxbHFoh+BL3xVqaRZnz13Cs11BsgXWztnpMYfpl3W2qLBGJ8Cd1zuN/zzJxPY0NYdz0iSd5gOtvk+KcQvxNb1a/1VXIj60H5bsjVJIK9k2lqTN3B3qEdDZ4YpG/fKgFL4a2eLtTcUYatQhZxDGQvjWY+Yla+qu7tt0JihzIOGkqgJINPEBQLfC52ADD1tvzIW4LuFwVaPp4lojGj5ykfX1v63Xo5WbhBGoH3wo2vQlUy1eKDec3SVqygk5d1y7V178oDJfbxwMRNJnPbaVRyIVUmCcEiV3IE+MrJ+Nwy+NUD4k6CGVQ+3us0G7E5AU4tiTBPPPJuKduJfH4IkiLUx6GL+ug5JIrTQVlrQQtV4Y7bdgJ2UavRbuEnUPqTr5zNJKDElr1oXtp9emah2e7goL55Gjb/p5mFi0UvmtMOmN0ffgjyYWRVqq8p5hJ0HWi6jxQinfCrQvBPAltWPeWWT9vX/apTBVdBrbMcOIFwbBcdVeTYe6Ubb+T+uxXbEthleU25bAppP60pz5wsCh/jLLf/gXk72hg55yzDG8arfZavwOLUtFEes666tvf+L65IX6lYvjNcKei4bXz7PRHzg0tvQBGM9ymFdZA0nJ3X0IzeLzukuWLd6Wo=; path=/; domain=&lt;domainname&gt;\r\nContent-Type: text/html&lt;/PRE&gt;\r\n&lt;PRE&gt;&lt;TITLE&gt;ISAPI plug-in Error Message&lt;/TITLE&gt;&lt;H2&gt;Message from the ISAPI plugin:&lt;/H2&gt;&lt;P&gt;\r\nInternal Server failure, ISAPI plugin. Cannot continue.\r\n&lt;HR&gt;&lt;I&gt;Build date/time: Jan 31 2003&lt;I&gt;\r\n&lt;P&gt;&lt;HR&gt;&lt;B&gt;Change Number:&lt;/B&gt; &lt;I&gt;235118&lt;BR&gt;&lt;/PRE&gt;\r\n\r\nWhen I have removed the below line from the post it gave us the correct response.\r\n&lt;b&gt;Content-Length: 38579&lt;/b&gt;\r\nThe server was able to process\r\n\r\nIssue:\r\nThe error is due to the browser not sending the correct character count to the IIS server. \r\nActual Size of the request header is 38597\r\n\r\nResolution:\r\nAs in Javascript we can&#39;t remove the Content-Length from the header\r\nWe need to do the changes in IIS side\r\nie\r\nIn InetMgr you need to Server Node -&gt; Application Request Routing Cache -&gt; Server Proxy Settings&#160;and increase Buffer Setting. \r\n\r\nOther Uri :\r\n&lt;br&gt;\r\nhttp://www.iis.net/download/ApplicationRequestRouting\r\n&lt;br&gt;\r\nhttp://forums.iis.net/t/1174461.aspx\r\n\r\nTools used to find the post :\r\ntcp_reflector\r\n&lt;br&gt;\r\nwww.vulcanware.com/java_tcp_reflector/index.html\r\n\r\n","title":"WRITE_ERROR_TO_CLIENT Error in apache","body":"<p>AFroz: I am getting the same error but in Weblogic10.3 and IIS plugin. Below are my finding and resolutions</p>\n\n<p>Post my application was sending to IIS server</p>\n\n<p><code>POST &lt;hostname/pagedetails&gt; HTTP/1.0'\n</code>Accept: image/jpeg, application/x-ms-application, image/gif, application/xaml+xml, image/pjpeg, application/x-ms-xbap, application/x-shockwave-flash, application/vnd.ms-powerpoint, application/vnd.ms-excel, application/msword, <em>/</em><code>\n</code>Referer: \n<code>User-Agent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.1; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729;</code>.NET CLR 3.0.30729; Media Center PC 6.0; .NET CLR 1.1.4322; .NET4.0C)\n<code>Content-Type: application/x-www-form-urlencoded\n</code>Host: \n<code>&lt;b&gt;Content-Length: 38579&lt;/b&gt;\n</code>Proxy-Connection: Keep-Alive\n<code>Pragma: no-cache\n</code>Cookie: `SMSESSION=</p>\n\n<p>`JSESSIONID=0JppPKFpLXk8HMynBLDbBJPltLL70GvQ8Cyl56hhnXbjT7JbrgmR!847042037</p>\n\n<p>Error recived </p>\n\n<p><PRE>HTTP/1.1 500 Internal Server Error\nServer: Microsoft-IIS/5.0\nDate: Mon, 09 Jan 2012 10:56:31 GMT\nSet-Cookie: SMSESSION=85psVrPSuTRavlFjc8+YLNNKjH82me4KdX8t57d3RMn/6DDYk37CarBHHbT1Z0cCJTPSH48jAhgvrlLcFgNzwwLYoTkQRaKTZljCz4wCyiuj5gsx8yPBZL4h/HkaCVZMNQam5+En3UO2G8sQJ33DviYiMiX5i/azf8m06s2MyTCk6ngT/5u5rMm2SpWBlDfW/JLUEkcRD4RjQCeMP4P0Vzt8mw3oD0O/owscfaUx/nfWCAzDFEiIPkPqkEo2pUzHbfKHoQzm3AnI9cfGMjXJ8yns7dmpOOuGI0uMQzWgsv9S1+zr2VBewY7qnAyVX1MhUP203HlHjUO9rtqnDmOIqbHLMR3PRnY60VL8qpnYcrdkpLHEQEvZLxbHFoh+BL3xVqaRZnz13Cs11BsgXWztnpMYfpl3W2qLBGJ8Cd1zuN/zzJxPY0NYdz0iSd5gOtvk+KcQvxNb1a/1VXIj60H5bsjVJIK9k2lqTN3B3qEdDZ4YpG/fKgFL4a2eLtTcUYatQhZxDGQvjWY+Yla+qu7tt0JihzIOGkqgJINPEBQLfC52ADD1tvzIW4LuFwVaPp4lojGj5ykfX1v63Xo5WbhBGoH3wo2vQlUy1eKDec3SVqygk5d1y7V178oDJfbxwMRNJnPbaVRyIVUmCcEiV3IE+MrJ+Nwy+NUD4k6CGVQ+3us0G7E5AU4tiTBPPPJuKduJfH4IkiLUx6GL+ug5JIrTQVlrQQtV4Y7bdgJ2UavRbuEnUPqTr5zNJKDElr1oXtp9emah2e7goL55Gjb/p5mFi0UvmtMOmN0ffgjyYWRVqq8p5hJ0HWi6jxQinfCrQvBPAltWPeWWT9vX/apTBVdBrbMcOIFwbBcdVeTYe6Ubb+T+uxXbEthleU25bAppP60pz5wsCh/jLLf/gXk72hg55yzDG8arfZavwOLUtFEes666tvf+L65IX6lYvjNcKei4bXz7PRHzg0tvQBGM9ymFdZA0nJ3X0IzeLzukuWLd6Wo=; path=/; domain=\nContent-Type: text/html</PRE>\n<PRE>ISAPI plug-in Error Message<H2>Message from the ISAPI plugin:</H2><P>\nInternal Server failure, ISAPI plugin. Cannot continue.\n<HR>Build date/time: Jan 31 2003\n<P><HR><B>Change Number:</B> 235118<BR></PRE></p>\n\n<p>When I have removed the below line from the post it gave us the correct response.\n<b>Content-Length: 38579</b>\nThe server was able to process</p>\n\n<p>Issue:\nThe error is due to the browser not sending the correct character count to the IIS server. \nActual Size of the request header is 38597</p>\n\n<p>Resolution:\nAs in Javascript we can't remove the Content-Length from the header\nWe need to do the changes in IIS side\nie\nIn InetMgr you need to Server Node -> Application Request Routing Cache -> Server Proxy Settings and increase Buffer Setting. </p>\n\n<p>Other Uri :\n<br>\n<a href=\"http://www.iis.net/download/ApplicationRequestRouting\" rel=\"nofollow\">http://www.iis.net/download/ApplicationRequestRouting</a>\n<br>\n<a href=\"http://forums.iis.net/t/1174461.aspx\" rel=\"nofollow\">http://forums.iis.net/t/1174461.aspx</a></p>\n\n<p>Tools used to find the post :\ntcp_reflector\n<br>\nwww.vulcanware.com/java_tcp_reflector/index.html</p>\n"}],"owner":{"account_id":945709,"reputation":1040,"user_id":973006,"accept_rate":48,"display_name":"af_khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12343,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1695910045,"creation_date":1324069018,"question_id":8540035,"body_markdown":"I am getting the below error. Env is Apache and WEblogic. \r\n\r\n    Write to the client failed: calling URL::close at line 847 of ap_proxy.cpp\r\n    Exception type [WRITE_ERROR_TO_CLIENT] raised at line 848 of ap_proxy.cpp\r\n     request [/mywebservice?WSDL] did NOT process successfully","title":"WRITE_ERROR_TO_CLIENT Error in apache","body":"<p>I am getting the below error. Env is Apache and WEblogic. </p>\n\n<pre><code>Write to the client failed: calling URL::close at line 847 of ap_proxy.cpp\nException type [WRITE_ERROR_TO_CLIENT] raised at line 848 of ap_proxy.cpp\n request [/mywebservice?WSDL] did NOT process successfully\n</code></pre>\n"},{"tags":["java","spring-boot","rabbitmq","amqp","spring-amqp"],"answers":[{"tags":[],"owner":{"account_id":10941792,"reputation":1059,"user_id":8041414,"display_name":"Jesferman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1502711638,"creation_date":1502711638,"answer_id":45673963,"question_id":45673613,"body_markdown":"RabbitMQ is a way of exchanging data between processes, applications, and servers. As you say, you can choose one of the several protocols it support.\r\n\r\nYour election will depend on which applications or systems you want to interconnect. For example:\r\n\r\n - **MQTT**: is a lightweight protocol with a low footprint ideal for communication between resource-constrained devices with low bandwidth, like embedded systems.\r\n - **STOMP**: is text-based, making it more analogous to HTTP and useful in messaging with web servers.\r\n\r\nAs you can see, each protocol has its advantages and drawbacks and your election will depend on which one adapts better to the application you want to build.\r\n\r\nFor a more detailed description of each protocol see this [link](https://blogs.vmware.com/vfabric/2013/02/choosing-your-messaging-protocol-amqp-mqtt-or-stomp.html)\r\n","title":"What should I be guided when I choose the protocol for RabbitMq","body":"<p>RabbitMQ is a way of exchanging data between processes, applications, and servers. As you say, you can choose one of the several protocols it support.</p>\n\n<p>Your election will depend on which applications or systems you want to interconnect. For example:</p>\n\n<ul>\n<li><strong>MQTT</strong>: is a lightweight protocol with a low footprint ideal for communication between resource-constrained devices with low bandwidth, like embedded systems.</li>\n<li><strong>STOMP</strong>: is text-based, making it more analogous to HTTP and useful in messaging with web servers.</li>\n</ul>\n\n<p>As you can see, each protocol has its advantages and drawbacks and your election will depend on which one adapts better to the application you want to build.</p>\n\n<p>For a more detailed description of each protocol see this <a href=\"https://blogs.vmware.com/vfabric/2013/02/choosing-your-messaging-protocol-amqp-mqtt-or-stomp.html\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":2121240,"reputation":9779,"user_id":1884431,"display_name":"Lovisa Johansson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502782647,"creation_date":1502782647,"answer_id":45688387,"question_id":45673613,"body_markdown":"The protocol only defines the communication between the client and the server and has no impact on a message itself. One protocol can be used when publishing and you can consume using another protocol. \n\n**AMQP** (Advanced Message Queuing Protocol): RabbitMQ was originally developed to support AMQP which is the &quot;core&quot; protocol supported by the RabbitMQ broker. AMQP was designed to efficiently support a wide variety of messaging applications and communication patterns. Routing is a feature in AMQP, the process by which an exchange decides which queues to place your message on. Messages in RabbitMQ are routed from the exchange to the queue depending on exchange types and keys. (You  got more complex routing options in AMQP compared to MQTT). RabbitMQ implements version 0-9-1 of the specification today - with  legacy support for other versions.  AMQP 1.0 is a radically different protocol from AMQP 0-9-1 / 0-9 / 0-8.\n\n**MQTT** (Message Queue Telemetry Transport) with its minimal design makes it perfect for built-in systems, mobile phones and other memory and bandwidth sensitive applications. A specific task may as well be achieved using AMQP, but MQTT might be a more appropriate choice of protocol for this specific type of scenarios.\n\n**HTTP** (Hypertext Transfer Protocol) is an application-level protocol for distributed, collaborative, hypermedia information systems. HTTP is not a messaging protocol. However, RabbitMQ can transmit messages over HTTP. \n\n**STOMP** (Simple or Streaming Text Oriented Message Protocol), is a simple text-based protocol used for transmitting data across applications. It is much simpler and less complex protocol than AMQP, it is more similar to HTTP. STOMP clients can communicate with almost every available STOMP message broker, this provides easy and widespread messaging interoperability among many languages, platforms and brokers. It is, for example, possible to connect to a STOMP broker using a telnet client. \n\n  Source: https://www.rabbitmq.com/protocols.html and https://www.cloudamqp.com/docs/protocols.html","title":"What should I be guided when I choose the protocol for RabbitMq","body":"<p>The protocol only defines the communication between the client and the server and has no impact on a message itself. One protocol can be used when publishing and you can consume using another protocol.</p>\n<p><strong>AMQP</strong> (Advanced Message Queuing Protocol): RabbitMQ was originally developed to support AMQP which is the &quot;core&quot; protocol supported by the RabbitMQ broker. AMQP was designed to efficiently support a wide variety of messaging applications and communication patterns. Routing is a feature in AMQP, the process by which an exchange decides which queues to place your message on. Messages in RabbitMQ are routed from the exchange to the queue depending on exchange types and keys. (You  got more complex routing options in AMQP compared to MQTT). RabbitMQ implements version 0-9-1 of the specification today - with  legacy support for other versions.  AMQP 1.0 is a radically different protocol from AMQP 0-9-1 / 0-9 / 0-8.</p>\n<p><strong>MQTT</strong> (Message Queue Telemetry Transport) with its minimal design makes it perfect for built-in systems, mobile phones and other memory and bandwidth sensitive applications. A specific task may as well be achieved using AMQP, but MQTT might be a more appropriate choice of protocol for this specific type of scenarios.</p>\n<p><strong>HTTP</strong> (Hypertext Transfer Protocol) is an application-level protocol for distributed, collaborative, hypermedia information systems. HTTP is not a messaging protocol. However, RabbitMQ can transmit messages over HTTP.</p>\n<p><strong>STOMP</strong> (Simple or Streaming Text Oriented Message Protocol), is a simple text-based protocol used for transmitting data across applications. It is much simpler and less complex protocol than AMQP, it is more similar to HTTP. STOMP clients can communicate with almost every available STOMP message broker, this provides easy and widespread messaging interoperability among many languages, platforms and brokers. It is, for example, possible to connect to a STOMP broker using a telnet client.</p>\n<p>Source: <a href=\"https://www.rabbitmq.com/protocols.html\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/protocols.html</a> and <a href=\"https://www.cloudamqp.com/docs/protocols.html\" rel=\"nofollow noreferrer\">https://www.cloudamqp.com/docs/protocols.html</a></p>\n"},{"tags":[],"owner":{"account_id":8490,"reputation":13823,"user_id":15349,"accept_rate":89,"display_name":"Peter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695909871,"creation_date":1695909871,"answer_id":77195707,"question_id":45673613,"body_markdown":"This is an opinionated answer, but if you don&#39;t have a special use case (ie you&#39;re just going to let general services interact, like in a microservices architecture), just use AMQP 0-9-1. It&#39;s decent, and has good client library support in just about any programming language.\r\n\r\nIf you&#39;re working with IoT devices or otherwise constrained devices, use MQTT.\r\n\r\nI see little need for STOMP and wouldn&#39;t recommend HTTP because it isn&#39;t considered reliable. Although they are text-based so could be useful to inspect messages. I believe RabbitMQ can translate messages so a publisher could send an AMQP message and a consumer could receive it in STOMP.\r\n\r\nBut again, my opinion.","title":"What should I be guided when I choose the protocol for RabbitMq","body":"<p>This is an opinionated answer, but if you don't have a special use case (ie you're just going to let general services interact, like in a microservices architecture), just use AMQP 0-9-1. It's decent, and has good client library support in just about any programming language.</p>\n<p>If you're working with IoT devices or otherwise constrained devices, use MQTT.</p>\n<p>I see little need for STOMP and wouldn't recommend HTTP because it isn't considered reliable. Although they are text-based so could be useful to inspect messages. I believe RabbitMQ can translate messages so a publisher could send an AMQP message and a consumer could receive it in STOMP.</p>\n<p>But again, my opinion.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1695909871,"creation_date":1502710428,"question_id":45673613,"body_markdown":"I try to dive into messaging in java. I am investigating RabbitMq and AMQP protocol. First of all I repeated several examples from https://spring.io/guides/gs/messaging-rabbitmq/ and examples from https://www.rabbitmq.com/  \r\n\r\nNow I want to learn it more detailed.\r\n\r\nOfficial site [feature section][1] looks like advertisement. It says that RabbitMQ supports several protocols:\r\n\r\n&gt; AMQP 0-9-1, 0-9 and 0-8, and extensions   \r\n&gt; STOMP   \r\n&gt; MQTT  \r\n&gt; AMQP 1.0   \r\n&gt; HTTP  \r\n\r\nBut I can&#39;t understand why should I choose one of them.\r\n\r\nCan you share your thoughts?\r\n\r\n\r\n  [1]: https://www.rabbitmq.com/protocols.html","title":"What should I be guided when I choose the protocol for RabbitMq","body":"<p>I try to dive into messaging in java. I am investigating RabbitMq and AMQP protocol. First of all I repeated several examples from <a href=\"https://spring.io/guides/gs/messaging-rabbitmq/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/messaging-rabbitmq/</a> and examples from <a href=\"https://www.rabbitmq.com/\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/</a>  </p>\n\n<p>Now I want to learn it more detailed.</p>\n\n<p>Official site <a href=\"https://www.rabbitmq.com/protocols.html\" rel=\"nofollow noreferrer\">feature section</a> looks like advertisement. It says that RabbitMQ supports several protocols:</p>\n\n<blockquote>\n  <p>AMQP 0-9-1, 0-9 and 0-8, and extensions<br>\n  STOMP<br>\n  MQTT<br>\n  AMQP 1.0<br>\n  HTTP  </p>\n</blockquote>\n\n<p>But I can't understand why should I choose one of them.</p>\n\n<p>Can you share your thoughts?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695888666,"post_id":77193204,"comment_id":136084714,"body_markdown":"Let me guess Spring Boot 3?","body":"Let me guess Spring Boot 3?"},{"owner":{"account_id":25995981,"reputation":7,"user_id":19707351,"display_name":"MrDoufy"},"score":0,"creation_date":1695888729,"post_id":77193204,"comment_id":136084725,"body_markdown":"Appologies, the version is 3.1.2","body":"Appologies, the version is 3.1.2"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695888812,"post_id":77193204,"comment_id":136084734,"body_markdown":"Then why are yuo using `javax.persistece` instead of `jakarta.persistence`? Replace `javax.persistence` with `jakarta.persistece` remove the `@EnableJpaRepositories` and `@EntityScan` after wards (as well as the `scanBasePackages`).","body":"Then why are yuo using <code>javax.persistece</code> instead of <code>jakarta.persistence</code>? Replace <code>javax.persistence</code> with <code>jakarta.persistece</code> remove the <code>@EnableJpaRepositories</code> and <code>@EntityScan</code> after wards (as well as the <code>scanBasePackages</code>)."},{"owner":{"account_id":25995981,"reputation":7,"user_id":19707351,"display_name":"MrDoufy"},"score":0,"creation_date":1695889357,"post_id":77193204,"comment_id":136084854,"body_markdown":"oh my god, thank you so much, the last version I used is quite old, and for this new project, I just decided to use the newer version, but didn&#39;t notice on the javax.persistece is being replaced by jakarta.persistence. Anyway, thank you sir.","body":"oh my god, thank you so much, the last version I used is quite old, and for this new project, I just decided to use the newer version, but didn&#39;t notice on the javax.persistece is being replaced by jakarta.persistence. Anyway, thank you sir."}],"answers":[{"tags":[],"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695909831,"creation_date":1695909831,"answer_id":77195703,"question_id":77193204,"body_markdown":"In general I wouldn&#39;t recommend to use `user` as table name. `user` is often a keyword in database technologies. I recreated your code using a Postgresql database and it fails on the use of `user`. If you change the tablename to `userentity` for example the problem is resolved.\r\n\r\nHere&#39;s the recreated example: https://github.com/Lefeverw/stackoverflow-injecting-jpa-repository","title":"Injecting JpaRepository: Error creating bean with name - Not a managed type:","body":"<p>In general I wouldn't recommend to use <code>user</code> as table name. <code>user</code> is often a keyword in database technologies. I recreated your code using a Postgresql database and it fails on the use of <code>user</code>. If you change the tablename to <code>userentity</code> for example the problem is resolved.</p>\n<p>Here's the recreated example: <a href=\"https://github.com/Lefeverw/stackoverflow-injecting-jpa-repository\" rel=\"nofollow noreferrer\">https://github.com/Lefeverw/stackoverflow-injecting-jpa-repository</a></p>\n"}],"owner":{"account_id":25995981,"reputation":7,"user_id":19707351,"display_name":"MrDoufy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695909831,"creation_date":1695888362,"question_id":77193204,"body_markdown":"I have problem with properly injecting JpaRepository to data provider. Try to add @EntityScan and @EnableJpaRepositories but still cannot inject the JpaRepository\r\n\r\n```\r\npackage com.tablehop.tablehop_restaurant_app;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\nimport javax.persistence.Entity;\r\n\r\n@SpringBootApplication(scanBasePackages = { &quot;com.tablehop.tablehop_restaurant_app&quot; })\r\n@EntityScan(&quot;com.tablehop.tablehop_restaurant_app.entity&quot;)\r\n@EnableJpaRepositories(&quot;com.tablehop.tablehop_restaurant_app.repository&quot;)\r\npublic class TablehopRestaurantAppApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(TablehopRestaurantAppApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nBelow is the entity file\r\n```\r\npackage com.tablehop.tablehop_restaurant_app.entity;\r\n\r\nimport org.hibernate.annotations.DynamicInsert;\r\nimport org.hibernate.annotations.DynamicUpdate;\r\n\r\nimport java.util.Date;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\n@DynamicInsert\r\n@DynamicUpdate\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int userID;\r\n\r\n    @Column(name = &quot;username&quot;)\r\n    private String userName;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;phone_no&quot;)\r\n    private String phone_no;\r\n\r\n    @Column(name = &quot;address&quot;)\r\n    private String address;\r\n```\r\n\r\nAlso the repository file\r\n```\r\npackage com.tablehop.tablehop_restaurant_app.repository;\r\n\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.tablehop.tablehop_restaurant_app.entity.User;\r\n\r\n@Repository\r\npublic interface userRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\r\n//    @Modifying(clearAutomatically = true)\r\n//    @Transactional\r\n//    @Query(value=&quot;update user set address = ?2 WHERE user_id = ?1&quot;, nativeQuery=true)\r\n//    public void updateAddress(String userID, String address);\r\n}\r\n\r\n```\r\n\r\nWhen I try to build the spring-boot, it return this error:\r\n```\r\norg.springframework.beans.factory.BeanCreationException: \r\nError creating bean with name &#39;userRepository&#39; defined in com.tablehop.tablehop_restaurant_app.repository.userRepository defined in @EnableJpaRepositories declared on TablehopRestaurantAppApplication: \r\nNot a managed type: class com.tablehop.tablehop_restaurant_app.entity.User\r\n```\r\nIs there any reference that I can refer to in order to solve this problem. Have been struggling for this for a long time.\r\n","title":"Injecting JpaRepository: Error creating bean with name - Not a managed type:","body":"<p>I have problem with properly injecting JpaRepository to data provider. Try to add @EntityScan and @EnableJpaRepositories but still cannot inject the JpaRepository</p>\n<pre><code>package com.tablehop.tablehop_restaurant_app;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\nimport javax.persistence.Entity;\n\n@SpringBootApplication(scanBasePackages = { &quot;com.tablehop.tablehop_restaurant_app&quot; })\n@EntityScan(&quot;com.tablehop.tablehop_restaurant_app.entity&quot;)\n@EnableJpaRepositories(&quot;com.tablehop.tablehop_restaurant_app.repository&quot;)\npublic class TablehopRestaurantAppApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TablehopRestaurantAppApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Below is the entity file</p>\n<pre><code>package com.tablehop.tablehop_restaurant_app.entity;\n\nimport org.hibernate.annotations.DynamicInsert;\nimport org.hibernate.annotations.DynamicUpdate;\n\nimport java.util.Date;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;user&quot;)\n@DynamicInsert\n@DynamicUpdate\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int userID;\n\n    @Column(name = &quot;username&quot;)\n    private String userName;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Column(name = &quot;phone_no&quot;)\n    private String phone_no;\n\n    @Column(name = &quot;address&quot;)\n    private String address;\n</code></pre>\n<p>Also the repository file</p>\n<pre><code>package com.tablehop.tablehop_restaurant_app.repository;\n\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.tablehop.tablehop_restaurant_app.entity.User;\n\n@Repository\npublic interface userRepository extends JpaRepository&lt;User, Integer&gt; {\n\n//    @Modifying(clearAutomatically = true)\n//    @Transactional\n//    @Query(value=&quot;update user set address = ?2 WHERE user_id = ?1&quot;, nativeQuery=true)\n//    public void updateAddress(String userID, String address);\n}\n\n</code></pre>\n<p>When I try to build the spring-boot, it return this error:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: \nError creating bean with name 'userRepository' defined in com.tablehop.tablehop_restaurant_app.repository.userRepository defined in @EnableJpaRepositories declared on TablehopRestaurantAppApplication: \nNot a managed type: class com.tablehop.tablehop_restaurant_app.entity.User\n</code></pre>\n<p>Is there any reference that I can refer to in order to solve this problem. Have been struggling for this for a long time.</p>\n"},{"tags":["java","file","spring-mvc","amazon-s3","transfer"],"owner":{"account_id":16228733,"reputation":26,"user_id":11718232,"display_name":"tabool"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695909347,"creation_date":1695905808,"question_id":77195167,"body_markdown":"I need to upload multiple files to S3, but don&#39;t need to store this files because over time, a lot of files will accumulate. I need to convert this files from MultipartFiles I&#39;m trying to use temp files for safe. \r\nI have such methods\r\n```\r\n    public void uploadFilesToS3(Map&lt;FileS3, MultipartFile&gt; myFileMap) {\r\n        TransferManager transferManager = TransferManagerBuilder.standard()\r\n            .withS3Client(s3Client)\r\n            .build();\r\n\r\n        try {\r\n            List&lt;File&gt; fileList = createTempFilesFromInputStreams(myFileMap);\r\n\r\n            MultipleFileUpload multipleFileUpload = transferManager.uploadFileList(awsProperties.getBucket(), S3Package.MY_PACKEGE.getValue(), new File(&quot;.&quot;), fileList);\r\n            multipleFileUpload.waitForCompletion();\r\n        } catch (Exception e) {\r\n            log.error(&quot;Couldn&#39;t upload list of files to AWS S3&quot;);\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\n\r\nConvert Multipart files to Files\r\n\r\n\r\n```\r\n    private List&lt;File&gt; createTempFilesFromInputStreams(Map&lt;FileS3, MultipartFile&gt; resumeFileMap) {\r\n        List&lt;File&gt; tempFiles = new ArrayList&lt;&gt;();\r\n\r\n        resumeFileMap.forEach((fileS3, multipartFile) -&gt; {\r\n            try (InputStream inputStream = multipartFile.getInputStream()) {\r\n\r\n                File tempFile = File.createTempFile(fileS3.getName(), &quot;.&quot; + fileS3.getExtension());\r\n\r\n                File renamedFile = new File(tempFile.getParent(), fileS3.getFullName());\r\n\r\n                if (tempFile.renameTo(renamedFile)) {\r\n                    tempFiles.add(renamedFile);\r\n                } else {\r\n                    throw new IOException(&quot;Failed to rename temp file to desired name&quot;);\r\n                }\r\n//                tempFiles.add(tempFile);\r\n\r\n                try (OutputStream outputStream = new FileOutputStream(tempFile)) {\r\n                    byte[] buffer = new byte[4096];\r\n                    int bytesRead;\r\n                    while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n                        outputStream.write(buffer, 0, bytesRead);\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        });\r\n\r\n        return tempFiles;\r\n    }\r\n```\r\nAll file names i want to set to UUID.pdf (example - 3527a982-cead-4a33-9c3f-8ge8492e2add.pdf)\r\n\r\nFile.createTempFile(...) gives me my UUID with random number suffix (example - 3527a982-cead-4a33-9c3f-8ge8492e2add1234567890.pdf), that is why i rename files with tempFile.renameTo(renamedFile)\r\n\r\nIn debug mode on breakpoint i can see new correct file name (example - 3527a982-cead-4a33-9c3f-8ge8492e2add.pdf) but when i upload files to S3, they appear there with their names truncated; only the last part after the dash remains from UUID (example - 8ge8492e2add.pdf). \r\n\r\n\r\nPlease help me solve this problem. I want to use temporary files so that the conversion can remain in a separate method and any other programmer using this method does not have to remember that after conversion they need to delete all created Files.\r\n\r\nIf this cannot be done using Files, tell me a way to send the files but so that the TransferManager does not use the names of the files themselves, and I will somehow specify the names to him in the parameters.","title":"Amazon S3 TransferManager upload temp files","body":"<p>I need to upload multiple files to S3, but don't need to store this files because over time, a lot of files will accumulate. I need to convert this files from MultipartFiles I'm trying to use temp files for safe.\nI have such methods</p>\n<pre><code>    public void uploadFilesToS3(Map&lt;FileS3, MultipartFile&gt; myFileMap) {\n        TransferManager transferManager = TransferManagerBuilder.standard()\n            .withS3Client(s3Client)\n            .build();\n\n        try {\n            List&lt;File&gt; fileList = createTempFilesFromInputStreams(myFileMap);\n\n            MultipleFileUpload multipleFileUpload = transferManager.uploadFileList(awsProperties.getBucket(), S3Package.MY_PACKEGE.getValue(), new File(&quot;.&quot;), fileList);\n            multipleFileUpload.waitForCompletion();\n        } catch (Exception e) {\n            log.error(&quot;Couldn't upload list of files to AWS S3&quot;);\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>Convert Multipart files to Files</p>\n<pre><code>    private List&lt;File&gt; createTempFilesFromInputStreams(Map&lt;FileS3, MultipartFile&gt; resumeFileMap) {\n        List&lt;File&gt; tempFiles = new ArrayList&lt;&gt;();\n\n        resumeFileMap.forEach((fileS3, multipartFile) -&gt; {\n            try (InputStream inputStream = multipartFile.getInputStream()) {\n\n                File tempFile = File.createTempFile(fileS3.getName(), &quot;.&quot; + fileS3.getExtension());\n\n                File renamedFile = new File(tempFile.getParent(), fileS3.getFullName());\n\n                if (tempFile.renameTo(renamedFile)) {\n                    tempFiles.add(renamedFile);\n                } else {\n                    throw new IOException(&quot;Failed to rename temp file to desired name&quot;);\n                }\n//                tempFiles.add(tempFile);\n\n                try (OutputStream outputStream = new FileOutputStream(tempFile)) {\n                    byte[] buffer = new byte[4096];\n                    int bytesRead;\n                    while ((bytesRead = inputStream.read(buffer)) != -1) {\n                        outputStream.write(buffer, 0, bytesRead);\n                    }\n                }\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        });\n\n        return tempFiles;\n    }\n</code></pre>\n<p>All file names i want to set to UUID.pdf (example - 3527a982-cead-4a33-9c3f-8ge8492e2add.pdf)</p>\n<p>File.createTempFile(...) gives me my UUID with random number suffix (example - 3527a982-cead-4a33-9c3f-8ge8492e2add1234567890.pdf), that is why i rename files with tempFile.renameTo(renamedFile)</p>\n<p>In debug mode on breakpoint i can see new correct file name (example - 3527a982-cead-4a33-9c3f-8ge8492e2add.pdf) but when i upload files to S3, they appear there with their names truncated; only the last part after the dash remains from UUID (example - 8ge8492e2add.pdf).</p>\n<p>Please help me solve this problem. I want to use temporary files so that the conversion can remain in a separate method and any other programmer using this method does not have to remember that after conversion they need to delete all created Files.</p>\n<p>If this cannot be done using Files, tell me a way to send the files but so that the TransferManager does not use the names of the files themselves, and I will somehow specify the names to him in the parameters.</p>\n"},{"tags":["java","duosecurity"],"answers":[{"tags":[],"owner":{"account_id":376857,"reputation":1599,"user_id":1309503,"display_name":"divyang4481"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695909132,"creation_date":1695909132,"answer_id":77195583,"question_id":77126604,"body_markdown":"Your sign Payload is wrongly formatted\r\n\r\n  \r\n\r\n&gt;           String sigPayload = timestamp + &quot;\\n&quot; + createUserUrl + &quot;\\n&quot; + createUserRequestBody;\r\n\r\nrefer below  link\r\n   \r\nhttps://github.com/duosecurity/duo_client_java/blob/ec8d0e8070e64e8f015e54a38e555818136e0bc6/duo-client/src/main/java/com/duosecurity/client/Http.java\r\n\r\nwhere you can find below method\r\n\r\n    String canonRequest(String date, int sigVersion)\r\n\r\nthis method will help you to construct right signPayload /CanonRequest","title":"Invalid signature in request credentials in duosecurity","body":"<p>Your sign Payload is wrongly formatted</p>\n<blockquote>\n<pre><code>      String sigPayload = timestamp + &quot;\\n&quot; + createUserUrl + &quot;\\n&quot; + createUserRequestBody;\n</code></pre>\n</blockquote>\n<p>refer below  link</p>\n<p><a href=\"https://github.com/duosecurity/duo_client_java/blob/ec8d0e8070e64e8f015e54a38e555818136e0bc6/duo-client/src/main/java/com/duosecurity/client/Http.java\" rel=\"nofollow noreferrer\">https://github.com/duosecurity/duo_client_java/blob/ec8d0e8070e64e8f015e54a38e555818136e0bc6/duo-client/src/main/java/com/duosecurity/client/Http.java</a></p>\n<p>where you can find below method</p>\n<pre><code>String canonRequest(String date, int sigVersion)\n</code></pre>\n<p>this method will help you to construct right signPayload /CanonRequest</p>\n"}],"owner":{"account_id":4933250,"reputation":4859,"user_id":3972291,"accept_rate":100,"display_name":"Enamul Haque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1695909132,"creation_date":1695034417,"question_id":77126604,"body_markdown":"I am using duo security. But When I want to call using duo api, it shows Invalid signature in request credentials. Here is the error: \r\n\r\n    {&quot;code&quot;: 40103, &quot;message&quot;: &quot;Invalid signature in request credentials&quot;, &quot;stat&quot;: &quot;FAIL&quot;}\r\n\r\nHere is my code..\r\n\r\n \r\n\r\n    public class DuoAdminAPIClient {\r\n        public static void main(String[] args) {\r\n            // Replace with your Duo Admin API credentials\r\n            String integrationKey = &quot;DI7ABPU9TUJQO14RET9Q&quot;;\r\n            String secretKey = &quot;YzDs7ZeQGMllravxDQxcn4jNAwyqF42P1XBDdGd2&quot;;\r\n            String apiHostname = &quot;api-d221a358.duosecurity.com&quot;;\r\n    \r\n            // Create an HttpClient instance\r\n            HttpClient httpClient = HttpClients.createDefault();\r\n    \r\n            try {\r\n                // Define the user&#39;s attributes\r\n                String username = &quot;enamul_haque001&quot;;\r\n                String userFirstName = &quot;Enamul&quot;;\r\n                String userLastName = &quot;Haque&quot;;\r\n    \r\n                // Construct the request body JSON\r\n                String createUserRequestBody = String.format(\r\n                        &quot;{\\&quot;username\\&quot;: \\&quot;%s\\&quot;, \\&quot;first_name\\&quot;: \\&quot;%s\\&quot;, \\&quot;last_name\\&quot;: \\&quot;%s\\&quot;}&quot;,\r\n                        username, userFirstName, userLastName\r\n                );\r\n    \r\n                // Define the API endpoint\r\n                String createUserUrl = &quot;https://&quot; + apiHostname + &quot;/admin/v1/users&quot;;\r\n    \r\n                // Generate the API signature\r\n             //   String timestamp = Long.toString(System.currentTimeMillis() / 1000);\r\n                String timestamp = OffsetDateTime.now().format(DateTimeFormatter.RFC_1123_DATE_TIME);\r\n                String sigPayload = timestamp + &quot;\\n&quot; + createUserUrl + &quot;\\n&quot; + createUserRequestBody;\r\n                String signature = generateHmacSha1Signature(sigPayload, secretKey);\r\n    \r\n                // Create the HTTP POST request\r\n                HttpPost createUserRequest = new HttpPost(createUserUrl);\r\n                createUserRequest.addHeader(&quot;Authorization&quot;, &quot;Basic &quot; + Base64.encodeBase64String((integrationKey + &quot;:&quot; + signature).getBytes()));\r\n                createUserRequest.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n                createUserRequest.addHeader(&quot;Date&quot;, timestamp);\r\n                createUserRequest.setEntity(new StringEntity(createUserRequestBody));\r\n    \r\n                // Send the request and get the response\r\n                HttpResponse createUserResponse = httpClient.execute(createUserRequest);\r\n                HttpEntity createUserEntity = createUserResponse.getEntity();\r\n                String createUserResponseString = EntityUtils.toString(createUserEntity);\r\n    \r\n                // Print the response (you can parse it to extract relevant information)\r\n                System.out.println(&quot;Create User Response: &quot; + createUserResponseString);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        private static String generateHmacSha1Signature(String payload, String secretKey) throws NoSuchAlgorithmException, InvalidKeyException {\r\n            SecretKeySpec keySpec = new SecretKeySpec(secretKey.getBytes(), &quot;HmacSHA1&quot;);\r\n            Mac mac = Mac.getInstance(&quot;HmacSHA1&quot;);\r\n            mac.init(keySpec);\r\n            byte[] result = mac.doFinal(payload.getBytes());\r\n            return Base64.encodeBase64String(result);\r\n        }\r\n    }\r\n\r\nWhat is the wrong of the code?\r\nPlease help me","title":"Invalid signature in request credentials in duosecurity","body":"<p>I am using duo security. But When I want to call using duo api, it shows Invalid signature in request credentials. Here is the error:</p>\n<pre><code>{&quot;code&quot;: 40103, &quot;message&quot;: &quot;Invalid signature in request credentials&quot;, &quot;stat&quot;: &quot;FAIL&quot;}\n</code></pre>\n<p>Here is my code..</p>\n<pre><code>public class DuoAdminAPIClient {\n    public static void main(String[] args) {\n        // Replace with your Duo Admin API credentials\n        String integrationKey = &quot;DI7ABPU9TUJQO14RET9Q&quot;;\n        String secretKey = &quot;YzDs7ZeQGMllravxDQxcn4jNAwyqF42P1XBDdGd2&quot;;\n        String apiHostname = &quot;api-d221a358.duosecurity.com&quot;;\n\n        // Create an HttpClient instance\n        HttpClient httpClient = HttpClients.createDefault();\n\n        try {\n            // Define the user's attributes\n            String username = &quot;enamul_haque001&quot;;\n            String userFirstName = &quot;Enamul&quot;;\n            String userLastName = &quot;Haque&quot;;\n\n            // Construct the request body JSON\n            String createUserRequestBody = String.format(\n                    &quot;{\\&quot;username\\&quot;: \\&quot;%s\\&quot;, \\&quot;first_name\\&quot;: \\&quot;%s\\&quot;, \\&quot;last_name\\&quot;: \\&quot;%s\\&quot;}&quot;,\n                    username, userFirstName, userLastName\n            );\n\n            // Define the API endpoint\n            String createUserUrl = &quot;https://&quot; + apiHostname + &quot;/admin/v1/users&quot;;\n\n            // Generate the API signature\n         //   String timestamp = Long.toString(System.currentTimeMillis() / 1000);\n            String timestamp = OffsetDateTime.now().format(DateTimeFormatter.RFC_1123_DATE_TIME);\n            String sigPayload = timestamp + &quot;\\n&quot; + createUserUrl + &quot;\\n&quot; + createUserRequestBody;\n            String signature = generateHmacSha1Signature(sigPayload, secretKey);\n\n            // Create the HTTP POST request\n            HttpPost createUserRequest = new HttpPost(createUserUrl);\n            createUserRequest.addHeader(&quot;Authorization&quot;, &quot;Basic &quot; + Base64.encodeBase64String((integrationKey + &quot;:&quot; + signature).getBytes()));\n            createUserRequest.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n            createUserRequest.addHeader(&quot;Date&quot;, timestamp);\n            createUserRequest.setEntity(new StringEntity(createUserRequestBody));\n\n            // Send the request and get the response\n            HttpResponse createUserResponse = httpClient.execute(createUserRequest);\n            HttpEntity createUserEntity = createUserResponse.getEntity();\n            String createUserResponseString = EntityUtils.toString(createUserEntity);\n\n            // Print the response (you can parse it to extract relevant information)\n            System.out.println(&quot;Create User Response: &quot; + createUserResponseString);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static String generateHmacSha1Signature(String payload, String secretKey) throws NoSuchAlgorithmException, InvalidKeyException {\n        SecretKeySpec keySpec = new SecretKeySpec(secretKey.getBytes(), &quot;HmacSHA1&quot;);\n        Mac mac = Mac.getInstance(&quot;HmacSHA1&quot;);\n        mac.init(keySpec);\n        byte[] result = mac.doFinal(payload.getBytes());\n        return Base64.encodeBase64String(result);\n    }\n}\n</code></pre>\n<p>What is the wrong of the code?\nPlease help me</p>\n"},{"tags":["java","regex","csv","jmeter"],"comments":[{"owner":{"account_id":209652,"reputation":34028,"user_id":460802,"display_name":"UBIK LOAD PACK"},"score":0,"creation_date":1439125157,"post_id":31869095,"comment_id":51723136,"body_markdown":"any feedback on my answer ?","body":"any feedback on my answer ?"}],"answers":[{"tags":[],"owner":{"account_id":209652,"reputation":34028,"user_id":460802,"display_name":"UBIK LOAD PACK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438922556,"creation_date":1438922556,"answer_id":31869810,"question_id":31869095,"body_markdown":"Use this library which will handle this for you:\r\n\r\n- https://commons.apache.org/proper/commons-csv/user-guide.html\r\n\r\nRead javadoc to understand how to specify format:\r\n\r\n- https://commons.apache.org/proper/commons-csv/archives/1.1/apidocs/index.html","title":"jmeter .jtl log file to csv conversion","body":"<p>Use this library which will handle this for you:</p>\n\n<ul>\n<li><a href=\"https://commons.apache.org/proper/commons-csv/user-guide.html\" rel=\"nofollow\">https://commons.apache.org/proper/commons-csv/user-guide.html</a></li>\n</ul>\n\n<p>Read javadoc to understand how to specify format:</p>\n\n<ul>\n<li><a href=\"https://commons.apache.org/proper/commons-csv/archives/1.1/apidocs/index.html\" rel=\"nofollow\">https://commons.apache.org/proper/commons-csv/archives/1.1/apidocs/index.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6344365,"reputation":2516,"user_id":4925383,"accept_rate":35,"display_name":"automatictester"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438941441,"creation_date":1438941441,"answer_id":31874911,"question_id":31869095,"body_markdown":"For me what you are looking for is an existing CSV processing library that you can make use of. I use OpenCSV with success to process JMeter output, but this is obviously just one of many possible options.","title":"jmeter .jtl log file to csv conversion","body":"<p>For me what you are looking for is an existing CSV processing library that you can make use of. I use OpenCSV with success to process JMeter output, but this is obviously just one of many possible options.</p>\n"},{"tags":[],"owner":{"account_id":4865932,"reputation":6159,"user_id":3924178,"display_name":"Jeronimo Backes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449724916,"creation_date":1439013006,"answer_id":31890112,"question_id":31869095,"body_markdown":"Use [uniVocity-parsers](http://www.univocity.com/pages/parsers-tutorial) to read this:\r\n\r\n    CsvParserSettings settings = new CsvParserSettings(); //many options to configure the format and the parser here. Check the tutorial\r\n    CsvParser parser = new CsvParser(settings);\r\n    List&lt;String[]&gt; allRows = parser.parseAll(\r\n        new FileReader(new File(&quot;D:/apache-jmeter-2.11/apache-jmeter-2.11/bin/&quot;)));\r\n\r\nDisclosure: I am the author of this library. It&#39;s open-source and free (Apache V2.0 license).","title":"jmeter .jtl log file to csv conversion","body":"<p>Use <a href=\"http://www.univocity.com/pages/parsers-tutorial\" rel=\"nofollow\">uniVocity-parsers</a> to read this:</p>\n\n<pre><code>CsvParserSettings settings = new CsvParserSettings(); //many options to configure the format and the parser here. Check the tutorial\nCsvParser parser = new CsvParser(settings);\nList&lt;String[]&gt; allRows = parser.parseAll(\n    new FileReader(new File(\"D:/apache-jmeter-2.11/apache-jmeter-2.11/bin/\")));\n</code></pre>\n\n<p>Disclosure: I am the author of this library. It's open-source and free (Apache V2.0 license).</p>\n"},{"tags":[],"owner":{"account_id":7748845,"reputation":1684,"user_id":5865492,"accept_rate":75,"display_name":"Lemonseed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695909023,"creation_date":1695909023,"answer_id":77195566,"question_id":31869095,"body_markdown":"[JTL files][1] can take the form of two different formats, *CSV* or *XML*.  The vast majority of use cases utilize the CSV format, which you are describing.\r\n\r\nTo convert a JTL file to a CSV file is as simple as changing the file extension to `*.csv`.  Editing and analysis of JTL files can therefore be performed using an ordinary spreadsheet application (*e.g.*, Excel) as described in [this article][2].\r\n\r\nIf you want to programmatically analyze a JTL file and treat it as a CSV file, this can be accomplished with any CSV processing library.  There are several examples given in other answers to this question.  One additional method using C#/.Net would be referencing the `Microsoft.VisualBasic` namespace and employing the `TextFieldParser`:\r\n\r\n```\r\nusing Microsoft.VisualBasic.FileIO;\r\n...\r\nusing (var textFieldParser = new TextFieldParser(path)\r\n{\r\n\tTextFieldType = FieldType.Delimited\t\r\n})\r\n{\r\n    textFieldParser.SetDelimiters(&quot;,&quot;);\r\n    while (!textFieldParser.EndOfData) \r\n    {\r\n\t\tforeach (string field in parser.ReadFields())\r\n\t\t{\r\n\t\t\t...\r\n\t\t}\r\n    }\r\n}\r\n```\r\n\r\nMore detailed information about usage of the `TextFieldParser` can be found on the [official Microsoft documentation page][3].\r\n\r\n\r\n  [1]: https://cwiki.apache.org/confluence/display/jmeter/JtlFiles\r\n  [2]: https://www.redline13.com/blog/2022/03/compare-load-tests-results-using-csv-data/\r\n  [3]: https://learn.microsoft.com/en-us/dotnet/api/microsoft.visualbasic.fileio.textfieldparser?view=net-7.0","title":"jmeter .jtl log file to csv conversion","body":"<p><a href=\"https://cwiki.apache.org/confluence/display/jmeter/JtlFiles\" rel=\"nofollow noreferrer\">JTL files</a> can take the form of two different formats, <em>CSV</em> or <em>XML</em>.  The vast majority of use cases utilize the CSV format, which you are describing.</p>\n<p>To convert a JTL file to a CSV file is as simple as changing the file extension to <code>*.csv</code>.  Editing and analysis of JTL files can therefore be performed using an ordinary spreadsheet application (<em>e.g.</em>, Excel) as described in <a href=\"https://www.redline13.com/blog/2022/03/compare-load-tests-results-using-csv-data/\" rel=\"nofollow noreferrer\">this article</a>.</p>\n<p>If you want to programmatically analyze a JTL file and treat it as a CSV file, this can be accomplished with any CSV processing library.  There are several examples given in other answers to this question.  One additional method using C#/.Net would be referencing the <code>Microsoft.VisualBasic</code> namespace and employing the <code>TextFieldParser</code>:</p>\n<pre><code>using Microsoft.VisualBasic.FileIO;\n...\nusing (var textFieldParser = new TextFieldParser(path)\n{\n    TextFieldType = FieldType.Delimited \n})\n{\n    textFieldParser.SetDelimiters(&quot;,&quot;);\n    while (!textFieldParser.EndOfData) \n    {\n        foreach (string field in parser.ReadFields())\n        {\n            ...\n        }\n    }\n}\n</code></pre>\n<p>More detailed information about usage of the <code>TextFieldParser</code> can be found on the <a href=\"https://learn.microsoft.com/en-us/dotnet/api/microsoft.visualbasic.fileio.textfieldparser?view=net-7.0\" rel=\"nofollow noreferrer\">official Microsoft documentation page</a>.</p>\n"}],"owner":{"account_id":3141989,"reputation":854,"user_id":2657277,"accept_rate":38,"display_name":"nzy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1695909023,"creation_date":1438917042,"question_id":31869095,"body_markdown":"I tried to convert the jmeter .jtl file to csv file.\r\n Each line of jtl file contains the variables separated by commas as in normal csv file.\r\nFor example: a,b,c,d,e,f\r\n However, in some of the lines there are multiple delimiter like comma(,) and comma inside quotation(&quot;,&quot;).\r\nFor example : a,b,&quot;c,d&quot;,e,f\r\nI could parse the comma separated value easily by reading the jtl file . But when I encounter comma inside quotation delimiter, by code fails to generate the useful result.\r\nI tried to use java multi split , but still the problem persists.\r\n\r\nMy java code is as follows :\r\n\r\n    try{\r\n     BufferedReader reader = new BufferedReader(new InputStreamReader(new BufferedInputStream(new FileInputStream(new File(&quot;D:/apache-jmeter-2.11/apache-jmeter-2.11/bin/&quot;)))));\r\n    while((line = reader.readLine()) !=null){\t\r\n    \tString[] datas = line.split(&quot;[,\\&quot;,\\&quot;]&quot;);\r\n         p.println(datas[0] + &quot;,&quot; + datas[5] + &quot;,&quot; + datas[2] + &quot;,&quot; + datas[1] + &quot;,&quot; + datas[3] + &quot;,&quot; + datas[8] + &quot;,&quot; + datas[9]);\t\r\n    }\r\nI have used split to split using (,)and (&quot;,&quot;). How shoud i rewrite the code so that the problem could be solved.","title":"jmeter .jtl log file to csv conversion","body":"<p>I tried to convert the jmeter .jtl file to csv file.\n Each line of jtl file contains the variables separated by commas as in normal csv file.\nFor example: a,b,c,d,e,f\n However, in some of the lines there are multiple delimiter like comma(,) and comma inside quotation(\",\").\nFor example : a,b,\"c,d\",e,f\nI could parse the comma separated value easily by reading the jtl file . But when I encounter comma inside quotation delimiter, by code fails to generate the useful result.\nI tried to use java multi split , but still the problem persists.</p>\n\n<p>My java code is as follows :</p>\n\n<pre><code>try{\n BufferedReader reader = new BufferedReader(new InputStreamReader(new BufferedInputStream(new FileInputStream(new File(\"D:/apache-jmeter-2.11/apache-jmeter-2.11/bin/\")))));\nwhile((line = reader.readLine()) !=null){   \n    String[] datas = line.split(\"[,\\\",\\\"]\");\n     p.println(datas[0] + \",\" + datas[5] + \",\" + datas[2] + \",\" + datas[1] + \",\" + datas[3] + \",\" + datas[8] + \",\" + datas[9]); \n}\n</code></pre>\n\n<p>I have used split to split using (,)and (\",\"). How shoud i rewrite the code so that the problem could be solved.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1695839185,"post_id":77189708,"comment_id":136078947,"body_markdown":"you might want to revisit your statement that you cannot use a OneToOne, as you certainly can. Check out JPA derived IDs, specifically the mapsId annotation. For a query though, your example request is only returning A instances and doesn&#39;t show a join. Did you try something like &quot;SELECT a, b.fieldB3 FROM TableA a JOIN TableB b ON b.id.fieldB1 a.id.fieldA1 AND b.id.fieldB2 = a.fieldA3&quot; with your current model?","body":"you might want to revisit your statement that you cannot use a OneToOne, as you certainly can. Check out JPA derived IDs, specifically the mapsId annotation. For a query though, your example request is only returning A instances and doesn&#39;t show a join. Did you try something like &quot;SELECT a, b.fieldB3 FROM TableA a JOIN TableB b ON b.id.fieldB1 a.id.fieldA1 AND b.id.fieldB2 = a.fieldA3&quot; with your current model?"},{"owner":{"account_id":17122673,"reputation":137,"user_id":12390562,"display_name":"Broshet"},"score":0,"creation_date":1695841387,"post_id":77189708,"comment_id":136079329,"body_markdown":"Thx, With your resquest (INNER JOIN) it&#39;s OK but I can&#39;t get tableB.fieldb3 value in my entity. How can I map it ?","body":"Thx, With your resquest (INNER JOIN) it&#39;s OK but I can&#39;t get tableB.fieldb3 value in my entity. How can I map it ?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1695843544,"post_id":77189708,"comment_id":136079656,"body_markdown":"Not sure what you mean by &#39;in my entity&#39;. Which entity, and why would you do that? Are you looking at having one entity that spans both table_an and table_b, or just An instance of TableA that has a reference to TableB (if the later, see my comment regarding using a OneToOne and give details on exactly what you think isn&#39;t possible, as there are a number of ways to do it depending on how you want to use it in the application). Otherwise, the query I gave will give you TableA instances with the fieldB3 data that you can put in any java object you want.","body":"Not sure what you mean by &#39;in my entity&#39;. Which entity, and why would you do that? Are you looking at having one entity that spans both table_an and table_b, or just An instance of TableA that has a reference to TableB (if the later, see my comment regarding using a OneToOne and give details on exactly what you think isn&#39;t possible, as there are a number of ways to do it depending on how you want to use it in the application). Otherwise, the query I gave will give you TableA instances with the fieldB3 data that you can put in any java object you want."},{"owner":{"account_id":17122673,"reputation":137,"user_id":12390562,"display_name":"Broshet"},"score":0,"creation_date":1695845607,"post_id":77189708,"comment_id":136079964,"body_markdown":"I try to use @MapsId but I can&#39;t because my relation OneToOne links TableA and TableB with 2 FK which one is on the PK of TableA (FieldA1 as Date)\nI can&#39;t define multiple MapsId on my OneToOne Relation (I have update my post)","body":"I try to use @MapsId but I can&#39;t because my relation OneToOne links TableA and TableB with 2 FK which one is on the PK of TableA (FieldA1 as Date) I can&#39;t define multiple MapsId on my OneToOne Relation (I have update my post)"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1695908598,"post_id":77189708,"comment_id":136088794,"body_markdown":"MapsId is meant to let JPA control setting the FK values from the relationship, but you don&#39;t need MapsId to make it work. Just mark the join column fields as read-only and continue to control the fk values through your basic properties.","body":"MapsId is meant to let JPA control setting the FK values from the relationship, but you don&#39;t need MapsId to make it work. Just mark the join column fields as read-only and continue to control the fk values through your basic properties."}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695908983,"creation_date":1695908983,"answer_id":77195557,"question_id":77189708,"body_markdown":"A can be mapped a number of ways. One with the least amount of changes:\r\n\r\n    @Entity\r\n    @Table(name = &quot;table_a&quot;)\r\n    public class TableA implements Serializable {\r\n    \r\n       @EmbeddedId private TableAId id;\r\n    \r\n       @Column(name = &quot;field_a3&quot;)\r\n       private String fieldA3;\r\n    \r\n       @OneToOne\r\n       @JoinColumns({\r\n         @JoinColumn(name = &quot;FieldA1&quot;, referencedColumnName = &quot;FieldB1&quot;, insertable=false, updatable=false),\r\n         @JoinColumn(name = &quot;FieldA3&quot;, referencedColumnName = &quot;FieldB2&quot;, insertable=false, updatable=false)\r\n       })\r\n       private TableB b;\r\n    }\r\n\r\nYou will still need to set TableA&#39;s fieldA3 and id.fieldA1 properties for the fk columns to be set. \r\n","title":"How to implement foreign composite key between two table when part of FK key are already in primary key in hibernate JPA","body":"<p>A can be mapped a number of ways. One with the least amount of changes:</p>\n<pre><code>@Entity\n@Table(name = &quot;table_a&quot;)\npublic class TableA implements Serializable {\n\n   @EmbeddedId private TableAId id;\n\n   @Column(name = &quot;field_a3&quot;)\n   private String fieldA3;\n\n   @OneToOne\n   @JoinColumns({\n     @JoinColumn(name = &quot;FieldA1&quot;, referencedColumnName = &quot;FieldB1&quot;, insertable=false, updatable=false),\n     @JoinColumn(name = &quot;FieldA3&quot;, referencedColumnName = &quot;FieldB2&quot;, insertable=false, updatable=false)\n   })\n   private TableB b;\n}\n</code></pre>\n<p>You will still need to set TableA's fieldA3 and id.fieldA1 properties for the fk columns to be set.</p>\n"}],"owner":{"account_id":17122673,"reputation":137,"user_id":12390562,"display_name":"Broshet"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77195557,"answer_count":1,"score":0,"last_activity_date":1695908983,"creation_date":1695836084,"question_id":77189708,"body_markdown":"I have a problem implementing my tables in my Java code with Hibernate / JPA.\r\n\r\nI have two dependent tables:\r\n\r\n    Table A\r\n    -------\r\n    FieldA1 (PK) Date\r\n    FieldA2 (PK) String\r\n    FieldA3      String\r\n    ...\r\n\r\n    Table B\r\n    -------\r\n    FieldB1 (PK) Date\r\n    FieldB2 (PK) String\r\n    FieldB3      String\r\n    ...\r\n\r\n\r\nMy two tables are linked by two foreign keys:\r\n\r\n&gt; FieldA1 / FieldB1 \r\n\r\n&gt; FieldA3 / FieldB2\r\n\r\nI am looking to do a query on the two tables (starting from table A) to obtain all the fields from table A and field B3 from table B.\r\n\r\nI created the Entities Below:\r\n\r\n    @Entity\r\n    @Table(name = &quot;table_a&quot;)\r\n    public class TableA implements Serializable {\r\n    \r\n       @EmbeddedId private TableAId id;\r\n    \r\n       @Column(name = &quot;field_a3&quot;)\r\n       private String fieldA3;\r\n    \r\n    \r\n    @Embeddable\r\n    public class TableAId implements Serializable {\r\n    \r\n       @Column(name = &quot;field_a1&quot;, nullable = false)\r\n       private String fieldA1\r\n    \r\n       @Column(name = &quot;field_a2&quot;, nullable = false)\r\n       private Date fieldA2\r\n    }\r\n    \r\n    \r\n    @Entity\r\n    @Table(name = &quot;table_b&quot;)\r\n    public class TableB implements Serializable {\r\n    \r\n       @EmbeddedId private TableBId id;\r\n    \r\n       @Column(name = &quot;field_b3&quot;)\r\n       private String fieldB3;\r\n    \r\n    \r\n    @Embeddable\r\n    public class TableBId implements Serializable {\r\n    \r\n       @Column(name = &quot;field_b1&quot;, nullable = false)\r\n       private String fieldB1\r\n    \r\n       @Column(name = &quot;field_b2&quot;, nullable = false)\r\n       private Date fieldB2\r\n    }\r\n\r\nI can&#39;t implement ForeignKeys between the two tables with @OneToOne because part of the join key is already in @Embeddable Key\r\n\r\nThe request I want to execute :\r\n\r\n    @Query(&quot;SELECT a FROM TableA a, Table b WHERE b.field3 = :mycode &quot;)\r\n\r\nDo you know how I can do it?\r\n\r\n**UPDATE 1 - Adding OneToOne test** \r\n\r\n  \r\n\r\n            @MapsId(&quot;FieldA1&quot;) &lt;- KO\r\n          @JoinColumns({\r\n            @JoinColumn(name = &quot;FieldA1&quot;, referencedColumnName = &quot;FieldB1&quot;),\r\n            @JoinColumn(name = &quot;FieldA3&quot;, referencedColumnName = &quot;FieldB2&quot;)\r\n          })\r\n    @OneToOne\r\n\r\nWhen I build, I have this message\r\n\r\n&gt;  Could not locate field name [FieldB2] on class [java.util.Date]","title":"How to implement foreign composite key between two table when part of FK key are already in primary key in hibernate JPA","body":"<p>I have a problem implementing my tables in my Java code with Hibernate / JPA.</p>\n<p>I have two dependent tables:</p>\n<pre><code>Table A\n-------\nFieldA1 (PK) Date\nFieldA2 (PK) String\nFieldA3      String\n...\n\nTable B\n-------\nFieldB1 (PK) Date\nFieldB2 (PK) String\nFieldB3      String\n...\n</code></pre>\n<p>My two tables are linked by two foreign keys:</p>\n<blockquote>\n<p>FieldA1 / FieldB1</p>\n</blockquote>\n<blockquote>\n<p>FieldA3 / FieldB2</p>\n</blockquote>\n<p>I am looking to do a query on the two tables (starting from table A) to obtain all the fields from table A and field B3 from table B.</p>\n<p>I created the Entities Below:</p>\n<pre><code>@Entity\n@Table(name = &quot;table_a&quot;)\npublic class TableA implements Serializable {\n\n   @EmbeddedId private TableAId id;\n\n   @Column(name = &quot;field_a3&quot;)\n   private String fieldA3;\n\n\n@Embeddable\npublic class TableAId implements Serializable {\n\n   @Column(name = &quot;field_a1&quot;, nullable = false)\n   private String fieldA1\n\n   @Column(name = &quot;field_a2&quot;, nullable = false)\n   private Date fieldA2\n}\n\n\n@Entity\n@Table(name = &quot;table_b&quot;)\npublic class TableB implements Serializable {\n\n   @EmbeddedId private TableBId id;\n\n   @Column(name = &quot;field_b3&quot;)\n   private String fieldB3;\n\n\n@Embeddable\npublic class TableBId implements Serializable {\n\n   @Column(name = &quot;field_b1&quot;, nullable = false)\n   private String fieldB1\n\n   @Column(name = &quot;field_b2&quot;, nullable = false)\n   private Date fieldB2\n}\n</code></pre>\n<p>I can't implement ForeignKeys between the two tables with @OneToOne because part of the join key is already in @Embeddable Key</p>\n<p>The request I want to execute :</p>\n<pre><code>@Query(&quot;SELECT a FROM TableA a, Table b WHERE b.field3 = :mycode &quot;)\n</code></pre>\n<p>Do you know how I can do it?</p>\n<p><strong>UPDATE 1 - Adding OneToOne test</strong></p>\n<pre><code>        @MapsId(&quot;FieldA1&quot;) &lt;- KO\n      @JoinColumns({\n        @JoinColumn(name = &quot;FieldA1&quot;, referencedColumnName = &quot;FieldB1&quot;),\n        @JoinColumn(name = &quot;FieldA3&quot;, referencedColumnName = &quot;FieldB2&quot;)\n      })\n@OneToOne\n</code></pre>\n<p>When I build, I have this message</p>\n<blockquote>\n<p>Could not locate field name [FieldB2] on class [java.util.Date]</p>\n</blockquote>\n"},{"tags":["java","android","android-gradle-plugin","build.gradle"],"comments":[{"owner":{"account_id":3822526,"reputation":310,"user_id":3170251,"accept_rate":75,"display_name":"user3170251"},"score":0,"creation_date":1556025754,"post_id":55810694,"comment_id":98291262,"body_markdown":"can we see your `dependencies` in your `build.gradle` file. you probably have both `androidx` libraries and `com.android.support` libraries in conflict with each other","body":"can we see your <code>dependencies</code> in your <code>build.gradle</code> file. you probably have both <code>androidx</code> libraries and <code>com.android.support</code> libraries in conflict with each other"},{"owner":{"account_id":8239497,"reputation":305,"user_id":6197554,"display_name":"Anuj Vaish"},"score":0,"creation_date":1556193189,"post_id":55810694,"comment_id":98359121,"body_markdown":"sure @user3170251,","body":"sure @user3170251,"},{"owner":{"account_id":8239497,"reputation":305,"user_id":6197554,"display_name":"Anuj Vaish"},"score":0,"creation_date":1556254604,"post_id":55810694,"comment_id":98382506,"body_markdown":"i update dependencies here now you can see my project dependency","body":"i update dependencies here now you can see my project dependency"}],"answers":[{"comments":[{"owner":{"account_id":7440271,"reputation":1211,"user_id":5658251,"display_name":"Eswar"},"score":0,"creation_date":1562062210,"post_id":56514489,"comment_id":100250513,"body_markdown":"this didn&#39;t solve my problem. Any other alternative?","body":"this didn&#39;t solve my problem. Any other alternative?"},{"owner":{"account_id":6539257,"reputation":229,"user_id":5057493,"accept_rate":50,"display_name":"chirag patel"},"score":0,"creation_date":1563009248,"post_id":56514489,"comment_id":100566534,"body_markdown":"did you find any solution ?","body":"did you find any solution ?"},{"owner":{"account_id":13121582,"reputation":324,"user_id":9478814,"display_name":"civani mahida"},"score":0,"creation_date":1565157193,"post_id":56514489,"comment_id":101258511,"body_markdown":"i too have this problem .I have just upgrading gradle version from 2.3 to 3.4.1 .I don&#39;t have use or integrate androidx in my application.any one have another solution?","body":"i too have this problem .I have just upgrading gradle version from 2.3 to 3.4.1 .I don&#39;t have use or integrate androidx in my application.any one have another solution?"},{"owner":{"account_id":8801944,"reputation":121,"user_id":6577752,"display_name":"nullvoid"},"score":1,"creation_date":1566980762,"post_id":56514489,"comment_id":101820950,"body_markdown":"@civanimahida Are you sure, you are not using any third party library like firebase which is using androidx?","body":"@civanimahida Are you sure, you are not using any third party library like firebase which is using androidx?"},{"owner":{"account_id":2790308,"reputation":1025,"user_id":2400664,"accept_rate":67,"display_name":"fasadat"},"score":0,"creation_date":1575296521,"post_id":56514489,"comment_id":104508341,"body_markdown":"thank you I used firebase and when I delete it, I didn&#39;t get duplicate error anymore","body":"thank you I used firebase and when I delete it, I didn&#39;t get duplicate error anymore"},{"owner":{"account_id":6666544,"reputation":519,"user_id":5144038,"display_name":"nilesh"},"score":0,"creation_date":1602492916,"post_id":56514489,"comment_id":113727326,"body_markdown":"For me issue was solved after adding both lines, previously I was added only one line as useAndroidX I think that was causing issue.","body":"For me issue was solved after adding both lines, previously I was added only one line as useAndroidX I think that was causing issue."}],"tags":[],"owner":{"account_id":14072776,"reputation":421,"user_id":10165875,"display_name":"mohammad zarei matin"},"comment_count":6,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1560082355,"creation_date":1560082355,"answer_id":56514489,"question_id":55810694,"body_markdown":"You have `androidx` libraries (probably in one of the used libraries) conflicting with the `support` libraries.\r\n\r\nAdd these lines into your `gradle.properties` file: (It&#39;s in the root directory of your project)\r\n\r\n```\r\nandroid.useAndroidX=true\r\nandroid.enableJetifier=true\r\n```\r\nThe Jetifier tool migrates support-library-dependent libraries to rely on the equivalent AndroidX packages instead.","title":"After upgrade android version getting &quot;Duplicate class android.support.v4.app.INotificationSideChannel&quot;","body":"<p>You have <code>androidx</code> libraries (probably in one of the used libraries) conflicting with the <code>support</code> libraries.</p>\n\n<p>Add these lines into your <code>gradle.properties</code> file: (It's in the root directory of your project)</p>\n\n<pre><code>android.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n\n<p>The Jetifier tool migrates support-library-dependent libraries to rely on the equivalent AndroidX packages instead.</p>\n"},{"tags":[],"owner":{"account_id":19719802,"reputation":11,"user_id":14438417,"display_name":"Aman Mistry"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602537050,"creation_date":1602537050,"answer_id":64325394,"question_id":55810694,"body_markdown":"First Select **Refractor** from top bar then from that select **refract** **to** **androidx** so it will create a **zip file** for you as a back up.\r\n\r\nAfter that it will automatically be fine and fixes all kind of bugs and errors that are stopping the phone app from running\r\n\r\n*That&#39;s it!! You did it*","title":"After upgrade android version getting &quot;Duplicate class android.support.v4.app.INotificationSideChannel&quot;","body":"<p>First Select <strong>Refractor</strong> from top bar then from that select <strong>refract</strong> <strong>to</strong> <strong>androidx</strong> so it will create a <strong>zip file</strong> for you as a back up.</p>\n<p>After that it will automatically be fine and fixes all kind of bugs and errors that are stopping the phone app from running</p>\n<p><em>That's it!! You did it</em></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1650444545,"post_id":71936261,"comment_id":127114984,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/71936261/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":20005408,"reputation":11,"user_id":14663576,"display_name":"Shakeel Anjum"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650442480,"creation_date":1650442480,"answer_id":71936261,"question_id":55810694,"body_markdown":"Just add these two lines in your gradle.Proparties\r\n\r\nandroid.useAndroidX=true \r\n\r\nandroid.enableJetifier=true","title":"After upgrade android version getting &quot;Duplicate class android.support.v4.app.INotificationSideChannel&quot;","body":"<p>Just add these two lines in your gradle.Proparties</p>\n<p>android.useAndroidX=true</p>\n<p>android.enableJetifier=true</p>\n"}],"owner":{"account_id":8239497,"reputation":305,"user_id":6197554,"display_name":"Anuj Vaish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36823,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":3,"score":19,"last_activity_date":1695908824,"creation_date":1556020583,"question_id":55810694,"body_markdown":"before android update 3.4 my application run perfectly but after upgrade android my application getting merging error: \r\n    \r\n    &quot;Duplicate class android.support.v4.app.INotificationSideChannel&quot;\r\n\r\n    android update 3.4\r\n    upgrade gradle 5.1.1 \r\n    upgrade sdk\r\n\r\n    Error:\r\n        Duplicate class android.support.v4.app.INotificationSideChannel found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\r\n        Duplicate class android.support.v4.app.INotificationSideChannel$Stub found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\r\n        Duplicate class android.support.v4.app.INotificationSideChannel$Stub$Proxy found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\r\n        Duplicate class android.support.v4.graphics.drawable.IconCompatParcelizer found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\r\n        Duplicate class android.support.v4.os.IResultReceiver found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\r\n        Duplicate class android.support.v4.os.IResultReceiver$Stub found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\r\n        Duplicate class android.support.v4.os.IResultReceiver$Stub$Proxy found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\r\n        Duplicate class android.support.v4.os.ResultReceiver found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\r\n        Duplicate class android.support.v4.os.ResultReceiver$1 found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\r\n        Duplicate class android.support.v4.os.ResultReceiver$MyResultReceiver found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\r\n        Duplicate class android.support.v4.os.ResultReceiver$MyRunnable found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\r\n        Duplicate class androidx.core.graphics.drawable.IconCompatParcelizer found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\r\n        Duplicate class androidx.core.internal.package-info found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\r\n        Duplicate class androidx.versionedparcelable.CustomVersionedParcelable found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\r\n        Duplicate class androidx.versionedparcelable.NonParcelField found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\r\n        Duplicate class androidx.versionedparcelable.ParcelField found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\r\n        Duplicate class androidx.versionedparcelable.ParcelImpl found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\r\n        Duplicate class androidx.versionedparcelable.ParcelImpl$1 found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\r\n        Duplicate class androidx.versionedparcelable.ParcelUtils found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\r\n        Duplicate class androidx.versionedparcelable.VersionedParcel found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\r\n        Duplicate class androidx.versionedparcelable.VersionedParcel$1 found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\r\n        Duplicate class androidx.versionedparcelable.VersionedParcel$ParcelException found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\r\n        Duplicate class androidx.versionedparcelable.VersionedParcelParcel found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\r\n        Duplicate class androidx.versionedparcelable.VersionedParcelStream found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\r\n        Duplicate class androidx.versionedparcelable.VersionedParcelStream$FieldBuffer found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\r\n        Duplicate class androidx.versionedparcelable.VersionedParcelStream$InputBuffer found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\r\n        Duplicate class androidx.versionedparcelable.VersionedParcelable found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\r\n        Duplicate class androidx.versionedparcelable.VersionedParcelize found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\r\n    \r\n    Go to the documentation to learn how to Fix dependency resolution errors.\r\n\r\n------------------DEPENDENCY------------\r\n\r\n    dependencies {\r\n        implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        //noinspection GradleCompatible\r\n        implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n        implementation &#39;com.android.support:design:28.0.0&#39;\r\n        //noinspection GradleCompatible\r\n    //    implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n        implementation &#39;com.android.support:support-compat:28.0.0&#39;\r\n        implementation &#39;com.android.support.constraint:constraint-layout:2.0.0-alpha4&#39;\r\n    //    implementation &#39;com.android.support:design:28.0.0&#39;\r\n        testImplementation &#39;junit:junit:4.13-beta-2&#39;\r\n        androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n        androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n        //volley\r\n        implementation &#39;com.android.volley:volley:1.1.0&#39;\r\n        //crop image library...\r\n        implementation &#39;com.theartofdev.edmodo:android-image-cropper:2.8.0&#39;\r\n        //ButterKnife\r\n        implementation &#39;com.jakewharton:butterknife:8.8.1&#39;\r\n        annotationProcessor &#39;com.jakewharton:butterknife-compiler:8.8.1&#39;\r\n        //retrofit\r\n        implementation &#39;com.squareup.retrofit2:retrofit:2.5.0&#39;\r\n        implementation &#39;com.squareup.retrofit2:converter-gson:2.5.0&#39;\r\n        implementation &#39;com.squareup.retrofit2:adapter-rxjava:2.5.0&#39;\r\n        implementation &#39;io.reactivex:rxandroid:1.2.1&#39;\r\n        implementation &#39;com.github.traex.rippleeffect:library:1.3&#39;\r\n        //Google play services\r\n        implementation &#39;com.google.android.gms:play-services-location:16.0.0&#39;\r\n        implementation &#39;com.google.android.gms:play-services-maps:16.1.0&#39;\r\n        //gson\r\n        implementation &#39;com.google.code.gson:gson:2.8.5&#39;\r\n        // Room\r\n        implementation &#39;android.arch.persistence.room:runtime:1.1.1&#39;\r\n        implementation &#39;com.android.support:support-v4:28.0.0&#39;\r\n        annotationProcessor &quot;android.arch.persistence.room:compiler:1.1.1&quot;\r\n        implementation &#39;org.jsoup:jsoup:1.11.3&#39;\r\n        //cardview &amp; recyclerview\r\n        implementation &#39;com.android.support:cardview-v7:28.0.0&#39;\r\n        implementation &#39;com.android.support:recyclerview-v7:28.0.0&#39;\r\n        //picasoo\r\n        implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n        implementation &#39;com.android.support:support-annotations:28.0.0&#39;\r\n        implementation &#39;de.hdodenhof:circleimageview:3.0.0&#39;\r\n        implementation &#39;com.karumi:dexter:5.0.0&#39;\r\n        implementation &#39;com.journeyapps:zxing-android-embedded:3.4.0&#39;\r\n        //firebase\r\n        implementation &#39;com.google.firebase:firebase-core:16.0.8&#39;\r\n        implementation &#39;com.google.firebase:firebase-ml-vision:19.0.3&#39;\r\n        //firebase-cloud massaging..\r\n        implementation &#39;com.google.firebase:firebase-messaging:17.6.0&#39;\r\n        implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n    }\r\n\r\n","title":"After upgrade android version getting &quot;Duplicate class android.support.v4.app.INotificationSideChannel&quot;","body":"<p>before android update 3.4 my application run perfectly but after upgrade android my application getting merging error: </p>\n\n<pre><code>\"Duplicate class android.support.v4.app.INotificationSideChannel\"\n\nandroid update 3.4\nupgrade gradle 5.1.1 \nupgrade sdk\n\nError:\n    Duplicate class android.support.v4.app.INotificationSideChannel found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\n    Duplicate class android.support.v4.app.INotificationSideChannel$Stub found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\n    Duplicate class android.support.v4.app.INotificationSideChannel$Stub$Proxy found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\n    Duplicate class android.support.v4.graphics.drawable.IconCompatParcelizer found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\n    Duplicate class android.support.v4.os.IResultReceiver found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\n    Duplicate class android.support.v4.os.IResultReceiver$Stub found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\n    Duplicate class android.support.v4.os.IResultReceiver$Stub$Proxy found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\n    Duplicate class android.support.v4.os.ResultReceiver found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\n    Duplicate class android.support.v4.os.ResultReceiver$1 found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\n    Duplicate class android.support.v4.os.ResultReceiver$MyResultReceiver found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\n    Duplicate class android.support.v4.os.ResultReceiver$MyRunnable found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\n    Duplicate class androidx.core.graphics.drawable.IconCompatParcelizer found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\n    Duplicate class androidx.core.internal.package-info found in modules classes.jar (androidx.core:core:1.0.0) and classes.jar (com.android.support:support-compat:28.0.0)\n    Duplicate class androidx.versionedparcelable.CustomVersionedParcelable found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\n    Duplicate class androidx.versionedparcelable.NonParcelField found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\n    Duplicate class androidx.versionedparcelable.ParcelField found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\n    Duplicate class androidx.versionedparcelable.ParcelImpl found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\n    Duplicate class androidx.versionedparcelable.ParcelImpl$1 found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\n    Duplicate class androidx.versionedparcelable.ParcelUtils found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\n    Duplicate class androidx.versionedparcelable.VersionedParcel found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\n    Duplicate class androidx.versionedparcelable.VersionedParcel$1 found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\n    Duplicate class androidx.versionedparcelable.VersionedParcel$ParcelException found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\n    Duplicate class androidx.versionedparcelable.VersionedParcelParcel found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\n    Duplicate class androidx.versionedparcelable.VersionedParcelStream found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\n    Duplicate class androidx.versionedparcelable.VersionedParcelStream$FieldBuffer found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\n    Duplicate class androidx.versionedparcelable.VersionedParcelStream$InputBuffer found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\n    Duplicate class androidx.versionedparcelable.VersionedParcelable found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\n    Duplicate class androidx.versionedparcelable.VersionedParcelize found in modules classes.jar (androidx.versionedparcelable:versionedparcelable:1.0.0) and classes.jar (com.android.support:versionedparcelable:28.0.0)\n\nGo to the documentation to learn how to Fix dependency resolution errors.\n</code></pre>\n\n<p>------------------DEPENDENCY------------</p>\n\n<pre><code>dependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    //noinspection GradleCompatible\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support:design:28.0.0'\n    //noinspection GradleCompatible\n//    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support:support-compat:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:2.0.0-alpha4'\n//    implementation 'com.android.support:design:28.0.0'\n    testImplementation 'junit:junit:4.13-beta-2'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n    //volley\n    implementation 'com.android.volley:volley:1.1.0'\n    //crop image library...\n    implementation 'com.theartofdev.edmodo:android-image-cropper:2.8.0'\n    //ButterKnife\n    implementation 'com.jakewharton:butterknife:8.8.1'\n    annotationProcessor 'com.jakewharton:butterknife-compiler:8.8.1'\n    //retrofit\n    implementation 'com.squareup.retrofit2:retrofit:2.5.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.5.0'\n    implementation 'com.squareup.retrofit2:adapter-rxjava:2.5.0'\n    implementation 'io.reactivex:rxandroid:1.2.1'\n    implementation 'com.github.traex.rippleeffect:library:1.3'\n    //Google play services\n    implementation 'com.google.android.gms:play-services-location:16.0.0'\n    implementation 'com.google.android.gms:play-services-maps:16.1.0'\n    //gson\n    implementation 'com.google.code.gson:gson:2.8.5'\n    // Room\n    implementation 'android.arch.persistence.room:runtime:1.1.1'\n    implementation 'com.android.support:support-v4:28.0.0'\n    annotationProcessor \"android.arch.persistence.room:compiler:1.1.1\"\n    implementation 'org.jsoup:jsoup:1.11.3'\n    //cardview &amp; recyclerview\n    implementation 'com.android.support:cardview-v7:28.0.0'\n    implementation 'com.android.support:recyclerview-v7:28.0.0'\n    //picasoo\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'com.android.support:support-annotations:28.0.0'\n    implementation 'de.hdodenhof:circleimageview:3.0.0'\n    implementation 'com.karumi:dexter:5.0.0'\n    implementation 'com.journeyapps:zxing-android-embedded:3.4.0'\n    //firebase\n    implementation 'com.google.firebase:firebase-core:16.0.8'\n    implementation 'com.google.firebase:firebase-ml-vision:19.0.3'\n    //firebase-cloud massaging..\n    implementation 'com.google.firebase:firebase-messaging:17.6.0'\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n}\n</code></pre>\n"},{"tags":["java","spring-boot","marshalling","unmarshalling","application-xml"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1695653561,"post_id":77172822,"comment_id":136049833,"body_markdown":"What does `&quot;my Spring application lost MEDIA_TYPE support for application/xml&quot;` mean?  In Spring Boot 3.X you still can consumes `application/xml` in your controllers. Can you provide [mre]?","body":"What does <code>&quot;my Spring application lost MEDIA_TYPE support for application&#47;xml&quot;</code> mean?  In Spring Boot 3.X you still can consumes <code>application&#47;xml</code> in your controllers. Can you provide <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1695667985,"post_id":77172822,"comment_id":136052534,"body_markdown":"Without seing a related http client/endpoint the only guess is that you have not set a media type in those methods/classes. There for keep in mind json is default until you tell something else.","body":"Without seing a related http client/endpoint the only guess is that you have not set a media type in those methods/classes. There for keep in mind json is default until you tell something else."},{"owner":{"account_id":19135332,"reputation":87,"user_id":13976420,"display_name":"Luker asd"},"score":0,"creation_date":1695669599,"post_id":77172822,"comment_id":136052780,"body_markdown":"I have not pasted a snippet of the web client code cause it&#39;s not the problem. Media type is set correctly. Only supported media types for conversion is application/json and that&#39;s the problem. I will post more tommorow.","body":"I have not pasted a snippet of the web client code cause it&#39;s not the problem. Media type is set correctly. Only supported media types for conversion is application/json and that&#39;s the problem. I will post more tommorow."},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1695710768,"post_id":77172822,"comment_id":136056989,"body_markdown":"Debug the `WebMvcConfigurationSupport` class where the `Jaxb2RootElementHttpMessageConverter` is added to the converters if you have `jakarta.xml.bind.Binder` on the classpath. If this is added then something else is wrong","body":"Debug the <code>WebMvcConfigurationSupport</code> class where the <code>Jaxb2RootElementHttpMessageConverter</code> is added to the converters if you have <code>jakarta.xml.bind.Binder</code> on the classpath. If this is added then something else is wrong"},{"owner":{"account_id":19135332,"reputation":87,"user_id":13976420,"display_name":"Luker asd"},"score":0,"creation_date":1695718429,"post_id":77172822,"comment_id":136058509,"body_markdown":"Thanks. I added more details in the problem description. Generally test cases started to fail.  When I debug WebMvcConfigurationSupport.addDefaultHttpMessageConverters() is not even called when I fire tests. But the same is with the app at S. boot version 2.7.0 but it works. When I deploy the app normally the MappingJackson2XmlHttpMessageConverter is added for XML not Jaxb2RootElementHttpMessageConverter.","body":"Thanks. I added more details in the problem description. Generally test cases started to fail.  When I debug WebMvcConfigurationSupport.addDefaultHttpMessageConverters() is not even called when I fire tests. But the same is with the app at S. boot version 2.7.0 but it works. When I deploy the app normally the MappingJackson2XmlHttpMessageConverter is added for XML not Jaxb2RootElementHttpMessageConverter."},{"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"score":0,"creation_date":1695719726,"post_id":77172822,"comment_id":136058813,"body_markdown":"Try to read this topic https://stackoverflow.com/questions/57033268/org-springframework-web-reactive-function-unsupportedmediatypeexception-content","body":"Try to read this topic <a href=\"https://stackoverflow.com/questions/57033268/org-springframework-web-reactive-function-unsupportedmediatypeexception-content\" title=\"org springframework web reactive function unsupportedmediatypeexception content\">stackoverflow.com/questions/57033268/&hellip;</a>"},{"owner":{"account_id":19135332,"reputation":87,"user_id":13976420,"display_name":"Luker asd"},"score":0,"creation_date":1695908512,"post_id":77172822,"comment_id":136088772,"body_markdown":"I edited the description to see how the problem can be reproduced in local environment.","body":"I edited the description to see how the problem can be reproduced in local environment."}],"owner":{"account_id":19135332,"reputation":87,"user_id":13976420,"display_name":"Luker asd"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695908451,"creation_date":1695646367,"question_id":77172822,"body_markdown":"After migrating from Spring Boot 2.7.0 to version &gt; 3 Spring application looses support for accepting application/xml content. It now throws the exception below. I also build new demo apps in Spring boot 3 and the problem remains.\r\n\r\n```\r\norg.springframework.web.reactive.function.UnsupportedMediaTypeException: Content type &#39;application/xml&#39; not supported for bodyType=pl.com.company.FunnyDto\r\n\r\nat org.springframework.web.reactive.function.BodyExtractors.lambda$readWithMessageReaders$12(BodyExtractors.java:206)\r\n\t\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\t\tat org.springframework.web.reactive.function.BodyExtractors.readWithMessageReaders(BodyExtractors.java:202)\r\n\t\tat org.springframework.web.reactive.function.BodyExtractors.lambda$toMono$2(BodyExtractors.java:84)\r\n\t\tat org.springframework.web.reactive.function.client.DefaultClientResponse.body(DefaultClientResponse.java:134)\r\n\t\tat org.springframework.web.reactive.function.client.DefaultClientResponse.bodyToMono(DefaultClientResponse.java:149)\r\n```\r\nTo reproduce this case I have build first app with an endpoint that returns a dto:\r\n```\r\n@XmlRootElement(name = &quot;transaction&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class PaymentRegistrationResponseDTO {\r\n\r\n    @XmlElement(name = &quot;orderID&quot;)\r\n    private String orderId;\r\n\r\nconstructors, getters etc...\r\n```\r\nAnd the endpoint looks like this\r\n```\r\n@RestController\r\npublic class Controller {\r\n\r\n    @GetMapping(value = &quot;/xml&quot;, produces = MediaType.APPLICATION_XML_VALUE)\r\n    public PaymentRegistrationResponseDTO getDTO() {\r\n        return new PaymentRegistrationResponseDTO(&quot;id&quot;);\r\n    }\r\n```\r\nI also added here jackson-dataformat-xml dependency to marshall this dto to xml and send it by Rest:\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nOn the other side I built second app with a webclient that sends a get request to fetch it:\r\n\r\n```\r\npublic PaymentRegistrationResponseDTO getXml() {\r\n         WebClient webClient = WebClient.builder()\r\n                .baseUrl(&quot;http://localhost:8090/xml&quot;)\r\n                .exchangeStrategies(ExchangeStrategies.builder().codecs((configurer) -&gt; {\r\n                    configurer.defaultCodecs().jaxb2Encoder(new Jaxb2XmlEncoder());\r\n                    configurer.defaultCodecs().jaxb2Decoder(new Jaxb2XmlDecoder());\r\n                }).build()).build();\r\n\r\n        return webClient.get()\r\n                .accept(MediaType.APPLICATION_XML)\r\n                .retrieve()\r\n                .bodyToMono(PaymentRegistrationResponseDTO.class)\r\n                .block();\r\n    }\r\n```\r\nI also added jakarta bind dependency:\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nProblem 1 - Second app after receveing the xml data can not unmarshal it and I get the exception above.\r\n\r\nProblem 2 - First app sends the xml content after adding the jackson-dataformat dependency but it ignores the dto xml annotations and it builds a tag with dto&#39;s name instead of the name &#39;transaction&#39; and inner tag is set to orderID but it sends orderId.\r\n\r\nps. In Spring class WebMvcConfigurationSupport.addDefaultHttpMessageConverters() jackson2XmlPresent is true and Spring context add the MappingJackson2XmlHttpMessageConverter with application/xml support.\r\n\r\nI also don&#39;t have any javax dependencies in both projects.\r\n","title":"Spring Boot 3 support for application/xml content in http calls","body":"<p>After migrating from Spring Boot 2.7.0 to version &gt; 3 Spring application looses support for accepting application/xml content. It now throws the exception below. I also build new demo apps in Spring boot 3 and the problem remains.</p>\n<pre><code>org.springframework.web.reactive.function.UnsupportedMediaTypeException: Content type 'application/xml' not supported for bodyType=pl.com.company.FunnyDto\n\nat org.springframework.web.reactive.function.BodyExtractors.lambda$readWithMessageReaders$12(BodyExtractors.java:206)\n        at java.base/java.util.Optional.orElseGet(Optional.java:364)\n        at org.springframework.web.reactive.function.BodyExtractors.readWithMessageReaders(BodyExtractors.java:202)\n        at org.springframework.web.reactive.function.BodyExtractors.lambda$toMono$2(BodyExtractors.java:84)\n        at org.springframework.web.reactive.function.client.DefaultClientResponse.body(DefaultClientResponse.java:134)\n        at org.springframework.web.reactive.function.client.DefaultClientResponse.bodyToMono(DefaultClientResponse.java:149)\n</code></pre>\n<p>To reproduce this case I have build first app with an endpoint that returns a dto:</p>\n<pre><code>@XmlRootElement(name = &quot;transaction&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class PaymentRegistrationResponseDTO {\n\n    @XmlElement(name = &quot;orderID&quot;)\n    private String orderId;\n\nconstructors, getters etc...\n</code></pre>\n<p>And the endpoint looks like this</p>\n<pre><code>@RestController\npublic class Controller {\n\n    @GetMapping(value = &quot;/xml&quot;, produces = MediaType.APPLICATION_XML_VALUE)\n    public PaymentRegistrationResponseDTO getDTO() {\n        return new PaymentRegistrationResponseDTO(&quot;id&quot;);\n    }\n</code></pre>\n<p>I also added here jackson-dataformat-xml dependency to marshall this dto to xml and send it by Rest:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>On the other side I built second app with a webclient that sends a get request to fetch it:</p>\n<pre><code>public PaymentRegistrationResponseDTO getXml() {\n         WebClient webClient = WebClient.builder()\n                .baseUrl(&quot;http://localhost:8090/xml&quot;)\n                .exchangeStrategies(ExchangeStrategies.builder().codecs((configurer) -&gt; {\n                    configurer.defaultCodecs().jaxb2Encoder(new Jaxb2XmlEncoder());\n                    configurer.defaultCodecs().jaxb2Decoder(new Jaxb2XmlDecoder());\n                }).build()).build();\n\n        return webClient.get()\n                .accept(MediaType.APPLICATION_XML)\n                .retrieve()\n                .bodyToMono(PaymentRegistrationResponseDTO.class)\n                .block();\n    }\n</code></pre>\n<p>I also added jakarta bind dependency:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Problem 1 - Second app after receveing the xml data can not unmarshal it and I get the exception above.</p>\n<p>Problem 2 - First app sends the xml content after adding the jackson-dataformat dependency but it ignores the dto xml annotations and it builds a tag with dto's name instead of the name 'transaction' and inner tag is set to orderID but it sends orderId.</p>\n<p>ps. In Spring class WebMvcConfigurationSupport.addDefaultHttpMessageConverters() jackson2XmlPresent is true and Spring context add the MappingJackson2XmlHttpMessageConverter with application/xml support.</p>\n<p>I also don't have any javax dependencies in both projects.</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":1860365,"reputation":3145,"user_id":1685051,"display_name":"Mudassar"},"score":1,"creation_date":1435311325,"post_id":31069635,"comment_id":50158668,"body_markdown":"Can you provide the error log and show where exactly does the exception arise","body":"Can you provide the error log and show where exactly does the exception arise"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1435311345,"post_id":31069635,"comment_id":50158679,"body_markdown":"Please show the full stack trace - and fix up the formatting of your code. (Do you really need that many static variables? That&#39;s a big code smell...)","body":"Please show the full stack trace - and fix up the formatting of your code. (Do you really need that many static variables? That&#39;s a big code smell...)"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1435473942,"post_id":31069635,"comment_id":50209848,"body_markdown":"There is missing code. At &quot;GamePlay.t.start();&quot; there is no method.","body":"There is missing code. At &quot;GamePlay.t.start();&quot; there is no method."}],"owner":{"account_id":6313567,"reputation":9,"user_id":4904348,"display_name":"forsaken mystery"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1015,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1695907589,"creation_date":1435310992,"question_id":31069635,"body_markdown":"I am writing a game and am now in the last phrase. I am going to write the load class but when I press the load button, I get an exception, which is caused by a null pointer. \r\n\r\nHowever, I allocated every object and arrays with `new`. Moreover, I have points that are non-`static` but are `volatile`. \r\n\r\nThis is my code: \r\n\r\n \r\n     \r\n\r\n    class LOADSTATE \r\n    {\r\n        private char[] mapx;\r\n        int x=0, y=0;\r\n\r\n        public LOADSTATE()throws FileNotFoundException, IOException \r\n        {\r\n            String line;\r\n            for (int i=0;i&lt;10;i++)\r\n            {\r\n                GamePlay.tm[i].start();\r\n            }\r\n        }\r\n        GamePlay.t.start();\r\n        int flag=0;\r\n        int m=0;\r\n        BufferedReader fr=new BufferedReader(new FileReader(&quot;save.txt&quot;));\r\n        while((line=fr.readLine())!=null){\r\n            if(flag==0){\r\n                GamePlay.me.name=line;\r\n            }\r\n            if (flag==1){\r\n                GamePlay.tt.time=Integer.parseInt(line);\r\n            }\r\n            else if(flag==2){\r\n                GamePlay.lvl=Integer.parseInt(line);\r\n            }\r\n            else if(flag==3){\r\n                GamePlay.win=Boolean.parseBoolean(line);\r\n            }\r\n            else if(flag==4){\r\n                GamePlay.mainlvl=Boolean.parseBoolean(line);\r\n            }\r\n            else if(flag==5){\r\n                GamePlay.lvl1=Boolean.parseBoolean(line);\r\n            }\r\n            else if(flag==6){\r\n                GamePlay.lvl2=Boolean.parseBoolean(line);\r\n            }\r\n            else if(flag==7){\r\n                                                \r\n                GamePlay.lvl3=Boolean.parseBoolean(line);\r\n            }\r\n            else if(flag&gt;7&amp;&amp;flag&lt;37){\r\n                if(flag%3==2){\r\n                    x=Integer.parseInt(line);\r\n                }\r\n                if(flag%3==0){\r\n                    y=Integer.parseInt(line);\r\n                    GamePlay.monster[m].oldPos.setLocation(x, y);\r\n                }\r\n                if(flag%3==1){\r\n                   GamePlay.monster[m].existance=Boolean.parseBoolean(line);\r\n                    m++;\r\n                }\r\n            }\r\n            else if(flag==37){\r\n                x=Integer.parseInt(line);\r\n            }\r\n            else if(flag==38){\r\n                y=Integer.parseInt(line);\r\n                GamePlay.me.oldPos.setLocation(x, y);\r\n            }\r\n            else if(flag==39){\r\n                GamePlay.me.killed=Integer.parseInt(line);\r\n            }\r\n            else if(flag==40){\r\n                GamePlay.me.health=Integer.parseInt(line);\r\n            }\r\n            else if(flag&gt;40){\r\n                mapx=line.toCharArray();\r\n                for(int i=0;i&lt;map.length;i++){\r\n                    map[flag-41][i]=Integer.parseInt(&quot;&quot;+mapx[i]);\r\n                }\r\n            }\r\n            flag++;\r\n        }\r\n        fr.close();\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    \r\n    class GamePlay extends JPanel implements ActionListener{\r\n    static boolean lvl1=true;\r\n    static boolean lvl2=false;\r\n    static boolean lvl3=false;\r\n    static boolean mainlvl=false;\r\n    static Me me=new Me();\r\n    static Portal portal=new Portal();\r\n    static Shot shot=new Shot();\r\n    static Thread s;\r\n    static KeyBoard keyBoard=new KeyBoard();\r\n    static Monster monster[]=new Monster[10];\r\n    static boolean win;\r\n    static Thread tm[]=new Thread[10];\r\n    static int score=1000;\r\n    static timeThread tt=new timeThread();\r\n    static Thread t=new Thread(tt);\r\n    static int time=0;\r\n    JButton btn=new JButton(&quot;start&quot;);\r\n    JButton btn1=new JButton(&quot;stop&quot;);\r\n    JButton btn2=new JButton(&quot;fixer&quot;);\r\n    JLabel lbl=new JLabel(&quot;time :&quot;);\r\n    JLabel lbl1=new JLabel(&quot;score :&quot;);\r\n    JLabel lbl2=new JLabel(&quot;health :&quot;);\r\n    JLabel lbl3=new JLabel(&quot;assasins :&quot;);\r\n    /**/}\r\n\r\n\r\n\r\nI call game play before load state.","title":"How can I fix java.lang.ExceptionInInitializerError?","body":"<p>I am writing a game and am now in the last phrase. I am going to write the load class but when I press the load button, I get an exception, which is caused by a null pointer. </p>\n\n<p>However, I allocated every object and arrays with <code>new</code>. Moreover, I have points that are non-<code>static</code> but are <code>volatile</code>. </p>\n\n<p>This is my code: </p>\n\n<pre><code>class LOADSTATE \n{\n    private char[] mapx;\n    int x=0, y=0;\n\n    public LOADSTATE()throws FileNotFoundException, IOException \n    {\n        String line;\n        for (int i=0;i&lt;10;i++)\n        {\n            GamePlay.tm[i].start();\n        }\n    }\n    GamePlay.t.start();\n    int flag=0;\n    int m=0;\n    BufferedReader fr=new BufferedReader(new FileReader(\"save.txt\"));\n    while((line=fr.readLine())!=null){\n        if(flag==0){\n            GamePlay.me.name=line;\n        }\n        if (flag==1){\n            GamePlay.tt.time=Integer.parseInt(line);\n        }\n        else if(flag==2){\n            GamePlay.lvl=Integer.parseInt(line);\n        }\n        else if(flag==3){\n            GamePlay.win=Boolean.parseBoolean(line);\n        }\n        else if(flag==4){\n            GamePlay.mainlvl=Boolean.parseBoolean(line);\n        }\n        else if(flag==5){\n            GamePlay.lvl1=Boolean.parseBoolean(line);\n        }\n        else if(flag==6){\n            GamePlay.lvl2=Boolean.parseBoolean(line);\n        }\n        else if(flag==7){\n\n            GamePlay.lvl3=Boolean.parseBoolean(line);\n        }\n        else if(flag&gt;7&amp;&amp;flag&lt;37){\n            if(flag%3==2){\n                x=Integer.parseInt(line);\n            }\n            if(flag%3==0){\n                y=Integer.parseInt(line);\n                GamePlay.monster[m].oldPos.setLocation(x, y);\n            }\n            if(flag%3==1){\n               GamePlay.monster[m].existance=Boolean.parseBoolean(line);\n                m++;\n            }\n        }\n        else if(flag==37){\n            x=Integer.parseInt(line);\n        }\n        else if(flag==38){\n            y=Integer.parseInt(line);\n            GamePlay.me.oldPos.setLocation(x, y);\n        }\n        else if(flag==39){\n            GamePlay.me.killed=Integer.parseInt(line);\n        }\n        else if(flag==40){\n            GamePlay.me.health=Integer.parseInt(line);\n        }\n        else if(flag&gt;40){\n            mapx=line.toCharArray();\n            for(int i=0;i&lt;map.length;i++){\n                map[flag-41][i]=Integer.parseInt(\"\"+mapx[i]);\n            }\n        }\n        flag++;\n    }\n    fr.close();\n  }\n}\n\n\n\n\n\n\nclass GamePlay extends JPanel implements ActionListener{\nstatic boolean lvl1=true;\nstatic boolean lvl2=false;\nstatic boolean lvl3=false;\nstatic boolean mainlvl=false;\nstatic Me me=new Me();\nstatic Portal portal=new Portal();\nstatic Shot shot=new Shot();\nstatic Thread s;\nstatic KeyBoard keyBoard=new KeyBoard();\nstatic Monster monster[]=new Monster[10];\nstatic boolean win;\nstatic Thread tm[]=new Thread[10];\nstatic int score=1000;\nstatic timeThread tt=new timeThread();\nstatic Thread t=new Thread(tt);\nstatic int time=0;\nJButton btn=new JButton(\"start\");\nJButton btn1=new JButton(\"stop\");\nJButton btn2=new JButton(\"fixer\");\nJLabel lbl=new JLabel(\"time :\");\nJLabel lbl1=new JLabel(\"score :\");\nJLabel lbl2=new JLabel(\"health :\");\nJLabel lbl3=new JLabel(\"assasins :\");\n/**/}\n</code></pre>\n\n<p>I call game play before load state.</p>\n"},{"tags":["java","list","ldap"],"answers":[{"comments":[{"owner":{"account_id":184519,"reputation":22782,"user_id":420613,"accept_rate":87,"display_name":"Muhammad Imran Tariq"},"score":0,"creation_date":1323866914,"post_id":8487728,"comment_id":10526630,"body_markdown":"I was asking that; &quot;How can I get multiple values out of it.&quot;. That means How can I know vector contain one or more elements. With counter?","body":"I was asking that; &quot;How can I get multiple values out of it.&quot;. That means How can I know vector contain one or more elements. With counter?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1324000751,"post_id":8487728,"comment_id":10562815,"body_markdown":"@imrantariq: Are you examining a `java.util.List` of [`javax.naming.NamingEnumeration&lt;java.util.Vector&gt;`](http://docs.oracle.com/javase/7/docs/api/javax/naming/NamingEnumeration.html)?","body":"@imrantariq: Are you examining a <code>java.util.List</code> of <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/naming/NamingEnumeration.html\" rel=\"nofollow noreferrer\"><code>javax.naming.NamingEnumeration&lt;java.util.Vector&gt;</code></a>?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1324036018,"post_id":8487728,"comment_id":10569394,"body_markdown":"IIUC, you can combine @stacker&#39;s helpful suggestions, as shown [here](http://stackoverflow.com/a/8533697/230513),","body":"IIUC, you can combine @stacker&#39;s helpful suggestions, as shown <a href=\"http://stackoverflow.com/a/8533697/230513\">here</a>,"}],"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1323773085,"creation_date":1323772591,"answer_id":8487728,"question_id":8487544,"body_markdown":"While iterating a list using the `for`syntax introduced with Java5\r\n\r\nYou shouldn&#39;t call `hasMore()`\r\n\r\n    for(NamingEnumeration ne : list){   \r\n        System.out.println(&quot;name is : &quot; + ne.toString());     \r\n    }\r\n\r\nIn case your list does not support the Iterator interface you need to use the old form:\r\n\r\n    for ( Enumeration e = v.elements() ; e.hasMoreElements() ; ) {\r\n        String a = (String) e.nextElement();\r\n        System.out.println( a );\r\n    }\r\n\r\n","title":"Extract data from NamingEnumeration","body":"<p>While iterating a list using the <code>for</code>syntax introduced with Java5</p>\n\n<p>You shouldn't call <code>hasMore()</code></p>\n\n<pre><code>for(NamingEnumeration ne : list){   \n    System.out.println(\"name is : \" + ne.toString());     \n}\n</code></pre>\n\n<p>In case your list does not support the Iterator interface you need to use the old form:</p>\n\n<pre><code>for ( Enumeration e = v.elements() ; e.hasMoreElements() ; ) {\n    String a = (String) e.nextElement();\n    System.out.println( a );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1324035886,"creation_date":1324035886,"answer_id":8533697,"question_id":8487544,"body_markdown":"As you are using a `java.util.List` of `javax.naming.NamingEnumeration&lt;java.util.Vector&gt;` such as this,\r\n\r\n    List&lt;NamingEnumeration&lt;Vector&gt;&gt; list\r\n\r\nYou should be able to iterate over the `Vector` in each `NamingEnumeration`:\r\n\r\n    for (NamingEnumeration&lt;Vector&gt; ne : list) {\r\n        while (ne.hasMore()) {\r\n            Vector vector = ne.next();\r\n            for (Object object : vector) {\r\n                System.out.println(object);\r\n            }\r\n        }\r\n    }\r\n\r\nNote that [`Vector`][1] is considered by many to be obsolescent, although not deprecated. Also, the enclosed collection could use a type parameter. If you have a choice, consider one of these alternatives:\r\n\r\n    List&lt;NamingEnumeration&lt;Vector&lt;T&gt;&gt;&gt;\r\n    List&lt;NamingEnumeration&lt;List&lt;T&gt;&gt;&gt;\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Vector.html","title":"Extract data from NamingEnumeration","body":"<p>As you are using a <code>java.util.List</code> of <code>javax.naming.NamingEnumeration&lt;java.util.Vector&gt;</code> such as this,</p>\n\n<pre><code>List&lt;NamingEnumeration&lt;Vector&gt;&gt; list\n</code></pre>\n\n<p>You should be able to iterate over the <code>Vector</code> in each <code>NamingEnumeration</code>:</p>\n\n<pre><code>for (NamingEnumeration&lt;Vector&gt; ne : list) {\n    while (ne.hasMore()) {\n        Vector vector = ne.next();\n        for (Object object : vector) {\n            System.out.println(object);\n        }\n    }\n}\n</code></pre>\n\n<p>Note that <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Vector.html\" rel=\"nofollow\"><code>Vector</code></a> is considered by many to be obsolescent, although not deprecated. Also, the enclosed collection could use a type parameter. If you have a choice, consider one of these alternatives:</p>\n\n<pre><code>List&lt;NamingEnumeration&lt;Vector&lt;T&gt;&gt;&gt;\nList&lt;NamingEnumeration&lt;List&lt;T&gt;&gt;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9130923,"reputation":2029,"user_id":6792588,"display_name":"Naor Bar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504795287,"creation_date":1504795287,"answer_id":46099207,"question_id":8487544,"body_markdown":"**This code snippet will do the work for unknown attribute names and single or multiple values (such as multiple object classes):**\r\n\r\nUsing **spring-ldap 2.3.1** and **AttributesMapper** implementation:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.ldap/spring-ldap-core --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.ldap&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-ldap-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nIn this sample code the searchResultList contains all entries, each one is represented as a map of attributes (with one or more values):\r\n\r\n    List&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; searchResultList = sourceLdapTemplate.search(searchBase, filter.encode(), SearchControls.ONELEVEL_SCOPE, new AttributesMapper&lt;Map&lt;String, List&lt;String&gt;&gt;&gt;() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic Map&lt;String, List&lt;String&gt;&gt; mapFromAttributes(Attributes attributes) throws NamingException {\r\n\t\t\t\t\tMap&lt;String, List&lt;String&gt;&gt; attrsMap = new HashMap&lt;&gt;();\r\n\t\t\t\t\tNamingEnumeration&lt;String&gt; attrIdEnum = attributes.getIDs();\r\n                    while (attrIdEnum.hasMoreElements()) {\r\n                        // Get attribute id:\r\n                    \tString attrId = attrIdEnum.next();\r\n                        // Get all attribute values:\r\n                        Attribute attr = attributes.get(attrId);\r\n                        NamingEnumeration&lt;?&gt; attrValuesEnum = attr.getAll();\r\n                        while (attrValuesEnum.hasMore()) {\r\n                        \tif (!attrsMap.containsKey(attrId))\r\n                        \t\tattrsMap.put(attrId, new ArrayList&lt;String&gt;()); \r\n                        \tattrsMap.get(attrId).add(attrValuesEnum.next().toString());\r\n                        }\r\n                    }\r\n                    return attrsMap;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\nNow, working with the searchResultList looks like this:\r\n\r\n    for (Map&lt;String, List&lt;String&gt;&gt; attrsMap : searchResultList) {\r\n\t    for (String objectClass : m.get(&quot;objectClass&quot;)) {\r\n\t\t\t// do something with this objectClass...\r\n        }\r\n    }\r\n","title":"Extract data from NamingEnumeration","body":"<p><strong>This code snippet will do the work for unknown attribute names and single or multiple values (such as multiple object classes):</strong></p>\n\n<p>Using <strong>spring-ldap 2.3.1</strong> and <strong>AttributesMapper</strong> implementation:</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.springframework.ldap/spring-ldap-core --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.ldap&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-ldap-core&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>In this sample code the searchResultList contains all entries, each one is represented as a map of attributes (with one or more values):</p>\n\n<pre><code>List&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; searchResultList = sourceLdapTemplate.search(searchBase, filter.encode(), SearchControls.ONELEVEL_SCOPE, new AttributesMapper&lt;Map&lt;String, List&lt;String&gt;&gt;&gt;() {\n            @Override\n            public Map&lt;String, List&lt;String&gt;&gt; mapFromAttributes(Attributes attributes) throws NamingException {\n                Map&lt;String, List&lt;String&gt;&gt; attrsMap = new HashMap&lt;&gt;();\n                NamingEnumeration&lt;String&gt; attrIdEnum = attributes.getIDs();\n                while (attrIdEnum.hasMoreElements()) {\n                    // Get attribute id:\n                    String attrId = attrIdEnum.next();\n                    // Get all attribute values:\n                    Attribute attr = attributes.get(attrId);\n                    NamingEnumeration&lt;?&gt; attrValuesEnum = attr.getAll();\n                    while (attrValuesEnum.hasMore()) {\n                        if (!attrsMap.containsKey(attrId))\n                            attrsMap.put(attrId, new ArrayList&lt;String&gt;()); \n                        attrsMap.get(attrId).add(attrValuesEnum.next().toString());\n                    }\n                }\n                return attrsMap;\n            }\n        });\n</code></pre>\n\n<p>Now, working with the searchResultList looks like this:</p>\n\n<pre><code>for (Map&lt;String, List&lt;String&gt;&gt; attrsMap : searchResultList) {\n    for (String objectClass : m.get(\"objectClass\")) {\n        // do something with this objectClass...\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1695901689,"post_id":77191960,"comment_id":136087289,"body_markdown":"While this code may answer the question, providing additional context regarding *why* and/or *how* this code answers the question improves its long-term value.","body":"While this code may answer the question, providing additional context regarding <i>why</i> and/or <i>how</i> this code answers the question improves its long-term value."},{"owner":{"account_id":1483051,"reputation":150,"user_id":1391935,"display_name":"Reuse3733"},"score":0,"creation_date":1695907487,"post_id":77191960,"comment_id":136088537,"body_markdown":"Hope that clarifies","body":"Hope that clarifies"}],"tags":[],"owner":{"account_id":1483051,"reputation":150,"user_id":1391935,"display_name":"Reuse3733"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695907460,"creation_date":1695870475,"answer_id":77191960,"question_id":8487544,"body_markdown":"NamingEnumeration extends Enumeration therefore you can \r\nsimply use Collections::list to convert an Enumeration&lt;T&gt; into\r\na List&lt;T&gt;:\r\n\r\n\r\n    interface NamingEnumeration&lt;T&gt; extends Enumeration&lt;T&gt;\r\n    static &lt;T&gt; ArrayList&lt;T&gt;\tCollections::list(Enumeration&lt;T&gt; e)\r\n\r\n\r\n    NamingEnumeration nameEnum = attributes.get(&quot;attributeName&quot;).getAll()\r\n    list = Collections.list(nameEnum)\r\n\r\n","title":"Extract data from NamingEnumeration","body":"<p>NamingEnumeration extends Enumeration therefore you can\nsimply use Collections::list to convert an Enumeration into\na List:</p>\n<pre><code>interface NamingEnumeration&lt;T&gt; extends Enumeration&lt;T&gt;\nstatic &lt;T&gt; ArrayList&lt;T&gt; Collections::list(Enumeration&lt;T&gt; e)\n\n\nNamingEnumeration nameEnum = attributes.get(&quot;attributeName&quot;).getAll()\nlist = Collections.list(nameEnum)\n</code></pre>\n"}],"owner":{"account_id":184519,"reputation":22782,"user_id":420613,"accept_rate":87,"display_name":"Muhammad Imran Tariq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19036,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":8533697,"answer_count":4,"score":6,"last_activity_date":1695907460,"creation_date":1323771803,"question_id":8487544,"body_markdown":"My application searches an LDAP server for people.\r\n\r\n    return ldapTemplate.search(&quot;&quot;, &quot;(objectclass=person)&quot;, new AttributesMapper() {\r\n          public Object mapFromAttributes(Attributes attrs) \r\n                                                         throws NamingException {\r\n            \r\n            return attrs.get(&quot;cn&quot;).getAll();\r\n          }\r\n        });\r\n\r\nIt returns list of `NamingEnumeration` object, which contains vectors in it. Each vector may contain one or more values.\r\nI can print person names by this code\r\n\r\n    for(NamingEnumeration ne : list){\r\n      while (ne.hasMore()) {\r\n          System.out.println(&quot;name is : &quot; + ne.next().toString());\r\n        }\r\n      }\r\nAs my ldap search can contain mutiple values so that comes in vector inside `NamingEnumeration` object. How can I get multiple values out of it.\r\n","title":"Extract data from NamingEnumeration","body":"<p>My application searches an LDAP server for people.</p>\n\n<pre><code>return ldapTemplate.search(\"\", \"(objectclass=person)\", new AttributesMapper() {\n      public Object mapFromAttributes(Attributes attrs) \n                                                     throws NamingException {\n\n        return attrs.get(\"cn\").getAll();\n      }\n    });\n</code></pre>\n\n<p>It returns list of <code>NamingEnumeration</code> object, which contains vectors in it. Each vector may contain one or more values.\nI can print person names by this code</p>\n\n<pre><code>for(NamingEnumeration ne : list){\n  while (ne.hasMore()) {\n      System.out.println(\"name is : \" + ne.next().toString());\n    }\n  }\n</code></pre>\n\n<p>As my ldap search can contain mutiple values so that comes in vector inside <code>NamingEnumeration</code> object. How can I get multiple values out of it.</p>\n"},{"tags":["java","spring","spring-boot","spring-test"],"answers":[{"comments":[{"owner":{"account_id":10604878,"reputation":555,"user_id":7810667,"accept_rate":33,"display_name":"Damien Gallagher"},"score":1,"creation_date":1491643867,"post_id":43292220,"comment_id":73651935,"body_markdown":"Tried those with no joy - the documentation suggests its to prevent your application loading test configuration. If your application uses component scanning, for example if you use @ SpringBootApplication or @ ComponentScan, you may find components or configurations created only for specific tests accidentally get picked up everywhere.\n\nTo help prevent this, Spring Boot provides @ TestComponent and @ TestConfiguration annotations that can be used on classes in src/test/java to indicate that they should not be picked up by scanning.","body":"Tried those with no joy - the documentation suggests its to prevent your application loading test configuration. If your application uses component scanning, for example if you use @ SpringBootApplication or @ ComponentScan, you may find components or configurations created only for specific tests accidentally get picked up everywhere.  To help prevent this, Spring Boot provides @ TestComponent and @ TestConfiguration annotations that can be used on classes in src/test/java to indicate that they should not be picked up by scanning."}],"tags":[],"owner":{"account_id":5523724,"reputation":22000,"user_id":4385895,"accept_rate":58,"display_name":"Vasu"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491642752,"creation_date":1491642752,"answer_id":43292220,"question_id":43292148,"body_markdown":"You need to use `@TestComponent` and `@TestConfiguration` for this as explained in Spring doc [here][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-excluding-config","title":"Spring Boot - Test Cases - Dont Load All Components","body":"<p>You need to use <code>@TestComponent</code> and <code>@TestConfiguration</code> for this as explained in Spring doc <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-excluding-config\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"comments":[{"owner":{"account_id":10604878,"reputation":555,"user_id":7810667,"accept_rate":33,"display_name":"Damien Gallagher"},"score":0,"creation_date":1491748739,"post_id":43300940,"comment_id":73680455,"body_markdown":"Many thanks @ninj - that worked a treat and really sped up the execution of my test cases","body":"Many thanks @ninj - that worked a treat and really sped up the execution of my test cases"}],"tags":[],"owner":{"account_id":20266,"reputation":1539,"user_id":48229,"display_name":"ninj"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1491690192,"creation_date":1491690192,"answer_id":43300940,"question_id":43292148,"body_markdown":"Instead of not creating other classes in your application, you could only create the classes you are interested in, see [15.6.1 Server-Side Tests - Setup Options](http://docs.spring.io/spring/docs/current/spring-framework-reference/html/integration-testing.html#spring-mvc-test-server-setup-options)\r\n\r\n&gt; The second is to simply create a controller instance manually without\r\n&gt; loading Spring configuration. Instead basic default configuration,\r\n&gt; roughly comparable to that of the MVC JavaConfig or the MVC namespace,\r\n&gt; is automatically created and can be customized to a degree:\r\n\r\n    public class MyWebTests {\r\n    \r\n        private MockMvc mockMvc;\r\n    \r\n        @Before\r\n        public void setup() {\r\n            this.mockMvc = MockMvcBuilders.standaloneSetup(new AccountController()).build();\r\n        }\r\n    \r\n        // ...\r\n    \r\n    }\r\n\r\n","title":"Spring Boot - Test Cases - Dont Load All Components","body":"<p>Instead of not creating other classes in your application, you could only create the classes you are interested in, see <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/integration-testing.html#spring-mvc-test-server-setup-options\" rel=\"noreferrer\">15.6.1 Server-Side Tests - Setup Options</a></p>\n\n<blockquote>\n  <p>The second is to simply create a controller instance manually without\n  loading Spring configuration. Instead basic default configuration,\n  roughly comparable to that of the MVC JavaConfig or the MVC namespace,\n  is automatically created and can be customized to a degree:</p>\n</blockquote>\n\n<pre><code>public class MyWebTests {\n\n    private MockMvc mockMvc;\n\n    @Before\n    public void setup() {\n        this.mockMvc = MockMvcBuilders.standaloneSetup(new AccountController()).build();\n    }\n\n    // ...\n\n}\n</code></pre>\n"}],"owner":{"account_id":10604878,"reputation":555,"user_id":7810667,"accept_rate":33,"display_name":"Damien Gallagher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8253,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":43300940,"answer_count":2,"score":9,"last_activity_date":1695907315,"creation_date":1491642323,"question_id":43292148,"body_markdown":"I am trying to test my rest classes in Spring MVC\r\n\r\nIf I run the following code (ran fine when the project was small but now fails) it tries to load all the different components in my application.\r\nThis includes beans which interact with external systems and need credentials in order to connect\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    public class TestDummyRest extends BaseRestTestCase{\r\n    \r\n    \t@Autowired\r\n    \tprivate MockMvc mockMvc;\r\n    \r\n    \t@MockBean\r\n    \tprivate IDummyServices mockDummyServices;\r\n    \t\r\n    \r\n    \t@Test\r\n    \tpublic void getSendGoodMessage() throws Exception {\r\n    \r\n    \t\tgiven(mockDummyServices.sendGoodMessage(Mockito.anyString())).willReturn(true);\r\n    \t\t\r\n    \t\tmockMvc.perform(get(&quot;/dummy&quot;))\r\n    \t                .andExpect(status().isOk())\r\n    \t                .andExpect(content().contentType(TEXT_PLAIN_CONTENT_TYPE));\r\n    \r\n    \t\tverify(mockDummyServices, times(1)).sendGoodMessage(Mockito.anyString());\r\n    \t}\r\n    }\r\n\r\nHow do I tell my test classes not to load the @Configuration or @Component classes of my application?\r\n","title":"Spring Boot - Test Cases - Dont Load All Components","body":"<p>I am trying to test my rest classes in Spring MVC</p>\n<p>If I run the following code (ran fine when the project was small but now fails) it tries to load all the different components in my application.\nThis includes beans which interact with external systems and need credentials in order to connect</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@AutoConfigureMockMvc\npublic class TestDummyRest extends BaseRestTestCase{\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private IDummyServices mockDummyServices;\n    \n\n    @Test\n    public void getSendGoodMessage() throws Exception {\n\n        given(mockDummyServices.sendGoodMessage(Mockito.anyString())).willReturn(true);\n        \n        mockMvc.perform(get(&quot;/dummy&quot;))\n                    .andExpect(status().isOk())\n                    .andExpect(content().contentType(TEXT_PLAIN_CONTENT_TYPE));\n\n        verify(mockDummyServices, times(1)).sendGoodMessage(Mockito.anyString());\n    }\n}\n</code></pre>\n<p>How do I tell my test classes not to load the @Configuration or @Component classes of my application?</p>\n"},{"tags":["java","android","android-intent","ringtonemanager","oppo"],"owner":{"account_id":11264145,"reputation":1,"user_id":22651420,"display_name":"Semurak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695907201,"creation_date":1695907158,"question_id":77195331,"body_markdown":"ColorOS (Oppo) offers the ability to select a custom ringtone from a file with its ringtone picker, but it does not work with my app.\r\n\r\nYou can see that feature [here](https://youtu.be/8BIdeC1LBn0?si=XKV-wJH6Ky-C7m1G&amp;t=23).\r\n\r\nThis is the code I&#39;m using:\r\n\r\n```java\r\n    Intent intent = new Intent(RingtoneManager.ACTION_RINGTONE_PICKER);\r\n    intent.putExtra(RingtoneManager.EXTRA_RINGTONE_TYPE, RingtoneManager.TYPE_NOTIFICATION);\r\n    intent.putExtra(RingtoneManager.EXTRA_RINGTONE_TITLE, &quot;Select Ringtone&quot;);\r\n\r\n    activity.startActivityForResult(intent, 1);\r\n```\r\n\r\nI think, I have to set a specific flag, which displays that option.\r\n\r\nI&#39;ve tried all the input options shown on [Android Developers](https://developer.android.com/reference/kotlin/android/media/RingtoneManager#ACTION_RINGTONE_PICKER:kotlin.String), but non of them worked.\r\n\r\n","title":"Add custom ringtone option to ColorOS RingtoneManagers ringtone picker","body":"<p>ColorOS (Oppo) offers the ability to select a custom ringtone from a file with its ringtone picker, but it does not work with my app.</p>\n<p>You can see that feature <a href=\"https://youtu.be/8BIdeC1LBn0?si=XKV-wJH6Ky-C7m1G&amp;t=23\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>This is the code I'm using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Intent intent = new Intent(RingtoneManager.ACTION_RINGTONE_PICKER);\n    intent.putExtra(RingtoneManager.EXTRA_RINGTONE_TYPE, RingtoneManager.TYPE_NOTIFICATION);\n    intent.putExtra(RingtoneManager.EXTRA_RINGTONE_TITLE, &quot;Select Ringtone&quot;);\n\n    activity.startActivityForResult(intent, 1);\n</code></pre>\n<p>I think, I have to set a specific flag, which displays that option.</p>\n<p>I've tried all the input options shown on <a href=\"https://developer.android.com/reference/kotlin/android/media/RingtoneManager#ACTION_RINGTONE_PICKER:kotlin.String\" rel=\"nofollow noreferrer\">Android Developers</a>, but non of them worked.</p>\n"},{"tags":["java","spring-boot","junit","wiremock","spring-cloud-contract"],"answers":[{"tags":[],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695906917,"creation_date":1695814515,"answer_id":77187140,"question_id":77178743,"body_markdown":" 1. Solution with spring-cloud-contract-wiremock:\r\n \r\n```\r\nimport static com.github.tomakehurst.wiremock.client.WireMock.*;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.cloud.contract.wiremock.AutoConfigureWireMock;\r\n\r\n@SpringBootTest\r\n@AutoConfigureWireMock(port = 0)\r\nclass SomeTest {\r\n\r\n    @Autowired\r\n    private WireMockServer wireMockServer;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        wireMockServer.resetAll();\r\n    }\r\n\r\n    @Test\r\n    void test1() {\r\n        String json = &lt;json with mappings for 200 and others&gt;;\r\n\r\n        Json.read(json, new TypeReference&lt;List&lt;StubMapping&gt;&gt;(){})\r\n                .forEach(wireMockServer::addStubMapping);\r\n\r\n        //  start test\r\n        //  assertThat response is 200\r\n    }\r\n\r\n    @Test\r\n    void test2() {\r\n        String json = &lt;json with mappings for 401 and others&gt;;\r\n\r\n        Json.read(json, new TypeReference&lt;List&lt;StubMapping&gt;&gt;(){})\r\n                .forEach(wireMockServer::addStubMapping);\r\n\r\n        // start test\r\n        // assertThat response is 401\r\n    }\r\n}\r\n```\r\n 2. Solution with manual creating of WireMockServer:\r\n\r\n```\r\nimport com.fasterxml.jackson.core.type.TypeReference;\r\nimport com.github.tomakehurst.wiremock.WireMockServer;\r\nimport com.github.tomakehurst.wiremock.common.Json;\r\nimport com.github.tomakehurst.wiremock.stubbing.StubMapping;\r\nimport org.junit.jupiter.api.AfterAll;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.test.context.DynamicPropertyRegistry;\r\nimport org.springframework.test.context.DynamicPropertySource;\r\n\r\nimport java.util.List;\r\n\r\nimport static com.github.tomakehurst.wiremock.client.WireMock.configureFor;\r\nimport static com.github.tomakehurst.wiremock.core.WireMockConfiguration.wireMockConfig;\r\n\r\npublic class WiremockTest {\r\n\r\n    private static final WireMockServer WIRE_MOCK_SERVER = new WireMockServer(wireMockConfig().dynamicPort());\r\n\r\n    @DynamicPropertySource\r\n    static void dynamicPropertySource(DynamicPropertyRegistry dynamicPropertyRegistry) {\r\n        dynamicPropertyRegistry.add(&quot;wiremock.server.base-url&quot;, WIRE_MOCK_SERVER::baseUrl);\r\n\r\n     //  with it we can change url in our application.yml\r\n     //  like so: {wiremock.server.base-url}/endpoint\r\n    }\r\n\r\n    @BeforeAll\r\n    static void startWireMock() {\r\n        WIRE_MOCK_SERVER.start();\r\n    }\r\n\r\n    @AfterAll\r\n    static void stopWireMock() {\r\n        WIRE_MOCK_SERVER.stop();\r\n\r\n    }\r\n\r\n    @BeforeEach\r\n    void clearWireMock() {\r\n        WIRE_MOCK_SERVER.resetAll();\r\n    }\r\n\r\n    @Test\r\n    void test1() {\r\n        String json = &lt;json with mappings for 200 and others&gt;;\r\n        \r\n        Json.read(json, new TypeReference&lt;List&lt;StubMapping&gt;&gt;(){})\r\n                .forEach(WIRE_MOCK_SERVER::addStubMapping);\r\n\r\n        //  start test\r\n        //  assertThat response is 200\r\n    }\r\n\r\n    @Test\r\n    void test2() {\r\n        String json = &lt;json with mappings for 401 and others&gt;;\r\n\r\n        Json.read(json, new TypeReference&lt;List&lt;StubMapping&gt;&gt;(){})\r\n                .forEach(WIRE_MOCK_SERVER::addStubMapping);\r\n        \r\n        // start test\r\n        // assertThat response is 401\r\n    }\r\n}\r\n```\r\n\r\n\r\nFormat of json must be following:\r\n\r\n    [\r\n      {\r\n        &quot;request&quot;: {\r\n          &quot;urlPath&quot;: &quot;/endpoint&quot;,\r\n          &quot;method&quot;: &quot;GET&quot;\r\n        },\r\n        &quot;response&quot;: {\r\n          &quot;status&quot;: 200,\r\n          &quot;jsonBody&quot;: {\r\n            &quot;foo&quot;: &quot;bar&quot;\r\n          },\r\n          &quot;headers&quot;: {\r\n            &quot;Content-Type&quot;: &quot;application/json&quot;\r\n          }\r\n        }\r\n      },\r\n      {\r\n        &quot;request&quot;: {\r\n          &quot;urlPath&quot;: &quot;/endpoint&quot;,\r\n          &quot;method&quot;: &quot;PATCH&quot;\r\n        },\r\n        &quot;response&quot;: {\r\n          &quot;status&quot;: 202,\r\n          &quot;headers&quot;: {\r\n            &quot;Content-Type&quot;: &quot;application/json&quot;\r\n          }\r\n        }\r\n      }\r\n    ]","title":"How to use different mapping files for different test methods?","body":"<ol>\n<li>Solution with spring-cloud-contract-wiremock:</li>\n</ol>\n<pre><code>import static com.github.tomakehurst.wiremock.client.WireMock.*;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.cloud.contract.wiremock.AutoConfigureWireMock;\n\n@SpringBootTest\n@AutoConfigureWireMock(port = 0)\nclass SomeTest {\n\n    @Autowired\n    private WireMockServer wireMockServer;\n\n    @BeforeEach\n    void setUp() {\n        wireMockServer.resetAll();\n    }\n\n    @Test\n    void test1() {\n        String json = &lt;json with mappings for 200 and others&gt;;\n\n        Json.read(json, new TypeReference&lt;List&lt;StubMapping&gt;&gt;(){})\n                .forEach(wireMockServer::addStubMapping);\n\n        //  start test\n        //  assertThat response is 200\n    }\n\n    @Test\n    void test2() {\n        String json = &lt;json with mappings for 401 and others&gt;;\n\n        Json.read(json, new TypeReference&lt;List&lt;StubMapping&gt;&gt;(){})\n                .forEach(wireMockServer::addStubMapping);\n\n        // start test\n        // assertThat response is 401\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Solution with manual creating of WireMockServer:</li>\n</ol>\n<pre><code>import com.fasterxml.jackson.core.type.TypeReference;\nimport com.github.tomakehurst.wiremock.WireMockServer;\nimport com.github.tomakehurst.wiremock.common.Json;\nimport com.github.tomakehurst.wiremock.stubbing.StubMapping;\nimport org.junit.jupiter.api.AfterAll;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.test.context.DynamicPropertyRegistry;\nimport org.springframework.test.context.DynamicPropertySource;\n\nimport java.util.List;\n\nimport static com.github.tomakehurst.wiremock.client.WireMock.configureFor;\nimport static com.github.tomakehurst.wiremock.core.WireMockConfiguration.wireMockConfig;\n\npublic class WiremockTest {\n\n    private static final WireMockServer WIRE_MOCK_SERVER = new WireMockServer(wireMockConfig().dynamicPort());\n\n    @DynamicPropertySource\n    static void dynamicPropertySource(DynamicPropertyRegistry dynamicPropertyRegistry) {\n        dynamicPropertyRegistry.add(&quot;wiremock.server.base-url&quot;, WIRE_MOCK_SERVER::baseUrl);\n\n     //  with it we can change url in our application.yml\n     //  like so: {wiremock.server.base-url}/endpoint\n    }\n\n    @BeforeAll\n    static void startWireMock() {\n        WIRE_MOCK_SERVER.start();\n    }\n\n    @AfterAll\n    static void stopWireMock() {\n        WIRE_MOCK_SERVER.stop();\n\n    }\n\n    @BeforeEach\n    void clearWireMock() {\n        WIRE_MOCK_SERVER.resetAll();\n    }\n\n    @Test\n    void test1() {\n        String json = &lt;json with mappings for 200 and others&gt;;\n        \n        Json.read(json, new TypeReference&lt;List&lt;StubMapping&gt;&gt;(){})\n                .forEach(WIRE_MOCK_SERVER::addStubMapping);\n\n        //  start test\n        //  assertThat response is 200\n    }\n\n    @Test\n    void test2() {\n        String json = &lt;json with mappings for 401 and others&gt;;\n\n        Json.read(json, new TypeReference&lt;List&lt;StubMapping&gt;&gt;(){})\n                .forEach(WIRE_MOCK_SERVER::addStubMapping);\n        \n        // start test\n        // assertThat response is 401\n    }\n}\n</code></pre>\n<p>Format of json must be following:</p>\n<pre><code>[\n  {\n    &quot;request&quot;: {\n      &quot;urlPath&quot;: &quot;/endpoint&quot;,\n      &quot;method&quot;: &quot;GET&quot;\n    },\n    &quot;response&quot;: {\n      &quot;status&quot;: 200,\n      &quot;jsonBody&quot;: {\n        &quot;foo&quot;: &quot;bar&quot;\n      },\n      &quot;headers&quot;: {\n        &quot;Content-Type&quot;: &quot;application/json&quot;\n      }\n    }\n  },\n  {\n    &quot;request&quot;: {\n      &quot;urlPath&quot;: &quot;/endpoint&quot;,\n      &quot;method&quot;: &quot;PATCH&quot;\n    },\n    &quot;response&quot;: {\n      &quot;status&quot;: 202,\n      &quot;headers&quot;: {\n        &quot;Content-Type&quot;: &quot;application/json&quot;\n      }\n    }\n  }\n]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"score":0,"creation_date":1695819479,"post_id":77187633,"comment_id":136074837,"body_markdown":"I need to create the entire stub in json, not just the response body","body":"I need to create the entire stub in json, not just the response body"}],"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695818673,"creation_date":1695818673,"answer_id":77187633,"question_id":77178743,"body_markdown":"You could use [ResponseDefinitionBuilder.withBodyFile(fileName)](https://www.javadoc.io/doc/com.github.tomakehurst/wiremock-jre8/2.25.1/com/github/tomakehurst/wiremock/client/ResponseDefinitionBuilder.html#withBodyFile-java.lang.String-) which will source files, by default, from `src/test/resources`\r\n\r\n```java\r\n@Test\r\nvoid test1() {\r\n   Wiremock.stubFor(\r\n      get(urlPathEqualTo(&quot;/endpoint&quot;)).willReturn(\r\n         aResponse()\r\n            .withStatus(200)\r\n            .withBodyFile(&quot;SomeTest/test1.json&quot;)\r\n   );\r\n   ...\r\n}\r\n```","title":"How to use different mapping files for different test methods?","body":"<p>You could use <a href=\"https://www.javadoc.io/doc/com.github.tomakehurst/wiremock-jre8/2.25.1/com/github/tomakehurst/wiremock/client/ResponseDefinitionBuilder.html#withBodyFile-java.lang.String-\" rel=\"nofollow noreferrer\">ResponseDefinitionBuilder.withBodyFile(fileName)</a> which will source files, by default, from <code>src/test/resources</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid test1() {\n   Wiremock.stubFor(\n      get(urlPathEqualTo(&quot;/endpoint&quot;)).willReturn(\n         aResponse()\n            .withStatus(200)\n            .withBodyFile(&quot;SomeTest/test1.json&quot;)\n   );\n   ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695822308,"creation_date":1695821857,"answer_id":77188024,"question_id":77178743,"body_markdown":"You could do\r\n\r\n```java\r\n@SpringBootTest\r\nclass SomeTest {\r\n   private WireMockServer wireMockServer;\r\n\r\n   @Before\r\n   public void before() {\r\n      wireMockServer = new WireMockServer(&lt;port&gt;);\r\n   }\r\n\r\n   @After\r\n   public void after() {\r\n      wireMockServer.resetAll();\r\n      wireMockServer.stop();\r\n   }\r\n\r\n   @Test\r\n   public void test1() {\r\n      wireMockServer.addStubMapping(buildStubMapping(&quot;SomeTest/test1.json&quot;));\r\n      // test 1 specific assertions\r\n   }\r\n\r\n   @Test \r\n   public void test2() {\r\n      wireMockServer.addStubMapping(buildStubMapping(&quot;SomeTest/test2.json&quot;));\r\n      // test 2 specific assertions\r\n   }\r\n\r\n   private StubMapping buildStubMapping(String path) {\r\n      Resource resource = new ClassPathResource(path);\r\n      String json = IOUtils.toString(resource.getInputStream());\r\n      return StubMapping.buildFrom(json);\r\n   }\r\n}\r\n```","title":"How to use different mapping files for different test methods?","body":"<p>You could do</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\nclass SomeTest {\n   private WireMockServer wireMockServer;\n\n   @Before\n   public void before() {\n      wireMockServer = new WireMockServer(&lt;port&gt;);\n   }\n\n   @After\n   public void after() {\n      wireMockServer.resetAll();\n      wireMockServer.stop();\n   }\n\n   @Test\n   public void test1() {\n      wireMockServer.addStubMapping(buildStubMapping(&quot;SomeTest/test1.json&quot;));\n      // test 1 specific assertions\n   }\n\n   @Test \n   public void test2() {\n      wireMockServer.addStubMapping(buildStubMapping(&quot;SomeTest/test2.json&quot;));\n      // test 2 specific assertions\n   }\n\n   private StubMapping buildStubMapping(String path) {\n      Resource resource = new ClassPathResource(path);\n      String json = IOUtils.toString(resource.getInputStream());\n      return StubMapping.buildFrom(json);\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77187140,"answer_count":3,"score":-1,"last_activity_date":1695906917,"creation_date":1695720804,"question_id":77178743,"body_markdown":"I am using Wiremock (`spring-cloud-contract-wiremock`) in my `@SpringBootTest` so:\r\n```\r\nimport static com.github.tomakehurst.wiremock.client.WireMock.*;\r\n\r\n@SpringBootTest\r\n@AutoConfigureWireMock(port = 0)\r\nclass SomeTest {\r\n\r\n    @Test\r\n    void test1() {\r\n        Wiremock.stubFor(get(urlPathEqualTo(&quot;/endpoint&quot;))\r\n                .willReturn(aResponse().withStatus(200))\r\n        );\r\n\r\n        //  start test\r\n        //  assertThat response is 200\r\n    }\r\n\r\n    @Test\r\n    void test2() {\r\n        stubFor(get(urlPathEqualTo(&quot;/endpoint&quot;))\r\n                .willReturn(aResponse().withStatus(401))\r\n        );\r\n\r\n        // start test\r\n        // assertThat response is 401\r\n    }\r\n}\r\n```\r\nThus, for two test methods I make different stubs for the same request and it works well.\r\n\r\nAlso, when using Wiremock, you can store stubs in JSON format in the `src/test/resources/mappings` package, but so far I can only achieve such a result that I can only have one JSON file in which I store the stubs.\r\n\r\nHow can I have two separate JSON for two test methods and how can I tell my test method to use a specific JSON file to load Wiremock-stubs?\r\n\r\nI am using `spring-boot-parent 3.1.0` and this maven dependency for WireMock:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-contract-wiremock&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.2&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"How to use different mapping files for different test methods?","body":"<p>I am using Wiremock (<code>spring-cloud-contract-wiremock</code>) in my <code>@SpringBootTest</code> so:</p>\n<pre><code>import static com.github.tomakehurst.wiremock.client.WireMock.*;\n\n@SpringBootTest\n@AutoConfigureWireMock(port = 0)\nclass SomeTest {\n\n    @Test\n    void test1() {\n        Wiremock.stubFor(get(urlPathEqualTo(&quot;/endpoint&quot;))\n                .willReturn(aResponse().withStatus(200))\n        );\n\n        //  start test\n        //  assertThat response is 200\n    }\n\n    @Test\n    void test2() {\n        stubFor(get(urlPathEqualTo(&quot;/endpoint&quot;))\n                .willReturn(aResponse().withStatus(401))\n        );\n\n        // start test\n        // assertThat response is 401\n    }\n}\n</code></pre>\n<p>Thus, for two test methods I make different stubs for the same request and it works well.</p>\n<p>Also, when using Wiremock, you can store stubs in JSON format in the <code>src/test/resources/mappings</code> package, but so far I can only achieve such a result that I can only have one JSON file in which I store the stubs.</p>\n<p>How can I have two separate JSON for two test methods and how can I tell my test method to use a specific JSON file to load Wiremock-stubs?</p>\n<p>I am using <code>spring-boot-parent 3.1.0</code> and this maven dependency for WireMock:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-contract-wiremock&lt;/artifactId&gt;\n    &lt;version&gt;4.0.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1478259539,"post_id":40421579,"comment_id":68091856,"body_markdown":"hmm, is this a use-case for... _PhantomReference_?!","body":"hmm, is this a use-case for... <i>PhantomReference</i>?!"}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478259382,"creation_date":1478259382,"answer_id":40421692,"question_id":40421579,"body_markdown":"The runtime system (garbage collector) is allowed to &quot;collect&quot; garbage at any given point in time. And to my knowledge, there is no mechanism that you could rely on here.\r\n\r\nIn other words: your **polling** approach is the one and only option here.\r\n\r\nYou could try some more hackish (or lets call it *pragmatic*) thing like:\r\n\r\n 1. A distinct call to System.gc()\r\n 2. Maybe some short sleeping\r\n 3. Inspection of that list\r\n\r\nto increase the chance of finding items that require to be removed from your list. But maybe the real point is: why do you care: are your lists so huge that you keep running into issues because of your current implementation? \r\n\r\nFinally, one other thought: if you are worried about having some &quot;external&quot; piece of code that is required to poll your list all the time; you might as well create your own List implementation ... that does exactly that: it uses WeakReferences for the objects you give to it; and it does all that periodic scanning under the cover - so that your application logic does **not** need to explicitly do that itself.","title":"Java - Observe WeakReference for when the referent is garbage collected?","body":"<p>The runtime system (garbage collector) is allowed to \"collect\" garbage at any given point in time. And to my knowledge, there is no mechanism that you could rely on here.</p>\n\n<p>In other words: your <strong>polling</strong> approach is the one and only option here.</p>\n\n<p>You could try some more hackish (or lets call it <em>pragmatic</em>) thing like:</p>\n\n<ol>\n<li>A distinct call to System.gc()</li>\n<li>Maybe some short sleeping</li>\n<li>Inspection of that list</li>\n</ol>\n\n<p>to increase the chance of finding items that require to be removed from your list. But maybe the real point is: why do you care: are your lists so huge that you keep running into issues because of your current implementation? </p>\n\n<p>Finally, one other thought: if you are worried about having some \"external\" piece of code that is required to poll your list all the time; you might as well create your own List implementation ... that does exactly that: it uses WeakReferences for the objects you give to it; and it does all that periodic scanning under the cover - so that your application logic does <strong>not</strong> need to explicitly do that itself.</p>\n"},{"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1478260112,"post_id":40421782,"comment_id":68092174,"body_markdown":"I always get a little giddy when PhantomReference is relevant. Because it never is","body":"I always get a little giddy when PhantomReference is relevant. Because it never is"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1478260559,"post_id":40421782,"comment_id":68092422,"body_markdown":"@Rogue Can&#39;t say I&#39;ve ever needed it, but if I do, I&#39;ll know exactly why.","body":"@Rogue Can&#39;t say I&#39;ve ever needed it, but if I do, I&#39;ll know exactly why."},{"owner":{"account_id":4014757,"reputation":706,"user_id":3307261,"accept_rate":79,"display_name":"C_Neth"},"score":0,"creation_date":1478260691,"post_id":40421782,"comment_id":68092488,"body_markdown":"It turns out that I&#39;m not going to need this- as I&#39;ve decided to redo the data structure so that my WeakReferences are no longer nested within an object which would be placed in a list. But thank you for your answer","body":"It turns out that I&#39;m not going to need this- as I&#39;ve decided to redo the data structure so that my WeakReferences are no longer nested within an object which would be placed in a list. But thank you for your answer"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1478262284,"post_id":40421782,"comment_id":68093486,"body_markdown":"And now we see why it&#39;s never relevant","body":"And now we see why it&#39;s never relevant"}],"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478259643,"creation_date":1478259643,"answer_id":40421782,"question_id":40421579,"body_markdown":"That&#39;s what [PhantomReference](https://docs.oracle.com/javase/8/docs/api/java/lang/ref/PhantomReference.html) is for. It doesn&#39;t prevent the object from being reclaimed, but when it is, it&#39;s put to a `ReferenceQueue` where you can perform any necessary actions (or just ignore it).","title":"Java - Observe WeakReference for when the referent is garbage collected?","body":"<p>That's what <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ref/PhantomReference.html\" rel=\"nofollow noreferrer\">PhantomReference</a> is for. It doesn't prevent the object from being reclaimed, but when it is, it's put to a <code>ReferenceQueue</code> where you can perform any necessary actions (or just ignore it).</p>\n"},{"comments":[{"owner":{"account_id":4014757,"reputation":706,"user_id":3307261,"accept_rate":79,"display_name":"C_Neth"},"score":1,"creation_date":1478259837,"post_id":40421785,"comment_id":68092024,"body_markdown":"The list I was speaking of is not of WeakReferences, but of objects which contain a WeakReference. Therefore, I don&#39;t think a Queue would be suitable for this situtation, but thanks for your answer","body":"The list I was speaking of is not of WeakReferences, but of objects which contain a WeakReference. Therefore, I don&#39;t think a Queue would be suitable for this situtation, but thanks for your answer"},{"owner":{"account_id":2076676,"reputation":12739,"user_id":1849837,"accept_rate":88,"display_name":"Bartosz Bilicki"},"score":1,"creation_date":1478260033,"post_id":40421785,"comment_id":68092131,"body_markdown":"&#39;list objects which contain a WeakReference&#39;. That looks strange too me. Do you really need such data structure? What problem it solves? I think if you use it in more standard way (list of *References) then there are tools that will do the internal plumbing for you. It is quite hard to test code that uses those Weak/Soft references. If you do it wrong, it will *almost* work, but fail precisely when it is needed (when you are low on memory)...","body":"&#39;list objects which contain a WeakReference&#39;. That looks strange too me. Do you really need such data structure? What problem it solves? I think if you use it in more standard way (list of <i>References) then there are tools that will do the internal plumbing for you. It is quite hard to test code that uses those Weak/Soft references. If you do it wrong, it will *almost</i> work, but fail precisely when it is needed (when you are low on memory)..."},{"owner":{"account_id":4014757,"reputation":706,"user_id":3307261,"accept_rate":79,"display_name":"C_Neth"},"score":1,"creation_date":1478260334,"post_id":40421785,"comment_id":68092288,"body_markdown":"Well, the project I&#39;m working on is a &quot;bukkit plugin&quot; for a Minecraft server. Therefore, there are &quot;Entities&quot; throughout the game world which can be removed at any moment. There is no way for me to be notified of the entity&#39;s removal, so storing the entity object in a weak reference is my solution to the issue of not having any notification of the entity&#39;s removal. I am storing the weak reference of the entity in a object because I need to accompany said entity with some other data. But coming to think about it I could probably use a map with weakly referenced keys of the entity and store the-","body":"Well, the project I&#39;m working on is a &quot;bukkit plugin&quot; for a Minecraft server. Therefore, there are &quot;Entities&quot; throughout the game world which can be removed at any moment. There is no way for me to be notified of the entity&#39;s removal, so storing the entity object in a weak reference is my solution to the issue of not having any notification of the entity&#39;s removal. I am storing the weak reference of the entity in a object because I need to accompany said entity with some other data. But coming to think about it I could probably use a map with weakly referenced keys of the entity and store the-"},{"owner":{"account_id":4014757,"reputation":706,"user_id":3307261,"accept_rate":79,"display_name":"C_Neth"},"score":0,"creation_date":1478260368,"post_id":40421785,"comment_id":68092308,"body_markdown":"-excess data as a value.","body":"-excess data as a value."},{"owner":{"account_id":2076676,"reputation":12739,"user_id":1849837,"accept_rate":88,"display_name":"Bartosz Bilicki"},"score":1,"creation_date":1478263794,"post_id":40421785,"comment_id":68094468,"body_markdown":"Thanks for clarification. In that usecase it seems that ReferenceQueue would do you no good, but java.util.WeakHashMap looks just fine.","body":"Thanks for clarification. In that usecase it seems that ReferenceQueue would do you no good, but java.util.WeakHashMap looks just fine."}],"tags":[],"owner":{"account_id":2076676,"reputation":12739,"user_id":1849837,"accept_rate":88,"display_name":"Bartosz Bilicki"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1478263836,"creation_date":1478259653,"answer_id":40421785,"question_id":40421579,"body_markdown":"https://docs.oracle.com/javase/7/docs/api/java/lang/ref/ReferenceQueue.html should be used to meet your requirement.\r\n\r\nSee http://www2.sys-con.com/itsg/virtualcd/java/archives/0507/shields/index.html how to write cache using ReferenceQueue and SoftReference.\r\n\r\n`com.google.common.cache.CacheBuilder` from guava is able to crate cache that uses soft or weak references. With `CacheBuilder`  you will not need to handle implementation details on your own- you will just get cache that can be used.\r\n\r\nAnother option is to use `java.util.WeakHashMap`.","title":"Java - Observe WeakReference for when the referent is garbage collected?","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ref/ReferenceQueue.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/ref/ReferenceQueue.html</a> should be used to meet your requirement.</p>\n\n<p>See <a href=\"http://www2.sys-con.com/itsg/virtualcd/java/archives/0507/shields/index.html\" rel=\"nofollow noreferrer\">http://www2.sys-con.com/itsg/virtualcd/java/archives/0507/shields/index.html</a> how to write cache using ReferenceQueue and SoftReference.</p>\n\n<p><code>com.google.common.cache.CacheBuilder</code> from guava is able to crate cache that uses soft or weak references. With <code>CacheBuilder</code>  you will not need to handle implementation details on your own- you will just get cache that can be used.</p>\n\n<p>Another option is to use <code>java.util.WeakHashMap</code>.</p>\n"},{"tags":[],"owner":{"account_id":3514088,"reputation":1177,"user_id":2937955,"accept_rate":75,"display_name":"FlorianT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695906556,"creation_date":1695906556,"answer_id":77195261,"question_id":40421579,"body_markdown":"Just needed something very similar, and in fact I did that using `java.lang.ref.Cleaner`: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/ref/Cleaner.html.\r\n\r\nHere&#39;s the logic:\r\n\r\n```\r\nclass A {\r\n  private static final Cleaner CLEANER = Cleaner.create();\r\n\r\n  private final WeakReference&lt;Object&gt; x;\r\n  private final B y;\r\n}\r\n\r\nclass B {\r\n  void clean();\r\n}\r\n\r\n```\r\n\r\nAnd then\r\n\r\n```\r\nB b = new B();\r\nA a = new A(new WeakReference&lt;&gt;(object), b);\r\nA.CLEANER.register(a, b::clean);\r\n```","title":"Java - Observe WeakReference for when the referent is garbage collected?","body":"<p>Just needed something very similar, and in fact I did that using <code>java.lang.ref.Cleaner</code>: <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/ref/Cleaner.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/ref/Cleaner.html</a>.</p>\n<p>Here's the logic:</p>\n<pre><code>class A {\n  private static final Cleaner CLEANER = Cleaner.create();\n\n  private final WeakReference&lt;Object&gt; x;\n  private final B y;\n}\n\nclass B {\n  void clean();\n}\n\n</code></pre>\n<p>And then</p>\n<pre><code>B b = new B();\nA a = new A(new WeakReference&lt;&gt;(object), b);\nA.CLEANER.register(a, b::clean);\n</code></pre>\n"}],"owner":{"account_id":4014757,"reputation":706,"user_id":3307261,"accept_rate":79,"display_name":"C_Neth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1695906556,"creation_date":1478259077,"question_id":40421579,"body_markdown":"I am wondering if there is a way to &quot;observe&quot; or &quot;listen&quot; to a `WeakReference` for when the referent object is removed from the `WeakReference` due to being garbage collected.\r\n\r\nI simply need an efficient way to remove an object (which contains a `WeakReference`) from a `List` when the object&#39;s WeakReference&#39;s referent is disposed of. \r\n\r\nI currently have a task iterating over the `List` checking the status of the `WeakReference` of each object in the list, but I&#39;d like to ditch that system if its possible.\r\n\r\nThanks!","title":"Java - Observe WeakReference for when the referent is garbage collected?","body":"<p>I am wondering if there is a way to \"observe\" or \"listen\" to a <code>WeakReference</code> for when the referent object is removed from the <code>WeakReference</code> due to being garbage collected.</p>\n\n<p>I simply need an efficient way to remove an object (which contains a <code>WeakReference</code>) from a <code>List</code> when the object's WeakReference's referent is disposed of. </p>\n\n<p>I currently have a task iterating over the <code>List</code> checking the status of the <code>WeakReference</code> of each object in the list, but I'd like to ditch that system if its possible.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","activemq"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695905680,"creation_date":1695905680,"answer_id":77195152,"question_id":77193067,"body_markdown":"The problem here is that you&#39;re using the [`browseSelected`][1] method from  `org.springframework.jms.core.JmsTemplate`. The JavaDoc for this method states:\r\n\r\n&gt; **Browse** selected messages in a JMS queue. The callback gives access to the JMS Session and **QueueBrowser** in order to browse the queue and react to the contents. [emphasis mine]\r\n\r\nWhen you inspect messages with a [`QueueBrowser`][2] you _can&#39;t_ remove them from the queue. The JavaDoc for `QueueBrowser` states:\r\n\r\n&gt; A client uses a QueueBrowser object to look at messages on a queue without removing them.\r\n\r\nTry receiving the messages in a different way (e.g. using [`doReceive`][3]).\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/core/JmsTemplate.html#browseSelected(jakarta.jms.Queue,java.lang.String,org.springframework.jms.core.BrowserCallback)\r\n  [2]: https://jakarta.ee/specifications/messaging/3.0/apidocs/jakarta/jms/queuebrowser\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/core/JmsTemplate.html#doReceive(jakarta.jms.Session,jakarta.jms.Destination,java.lang.String)","title":"message.acknowledge() doesn&#39;t dequeue the messages after they have been read in ActiveMQ with Spring Boot","body":"<p>The problem here is that you're using the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/core/JmsTemplate.html#browseSelected(jakarta.jms.Queue,java.lang.String,org.springframework.jms.core.BrowserCallback)\" rel=\"nofollow noreferrer\"><code>browseSelected</code></a> method from  <code>org.springframework.jms.core.JmsTemplate</code>. The JavaDoc for this method states:</p>\n<blockquote>\n<p><strong>Browse</strong> selected messages in a JMS queue. The callback gives access to the JMS Session and <strong>QueueBrowser</strong> in order to browse the queue and react to the contents. [emphasis mine]</p>\n</blockquote>\n<p>When you inspect messages with a <a href=\"https://jakarta.ee/specifications/messaging/3.0/apidocs/jakarta/jms/queuebrowser\" rel=\"nofollow noreferrer\"><code>QueueBrowser</code></a> you <em>can't</em> remove them from the queue. The JavaDoc for <code>QueueBrowser</code> states:</p>\n<blockquote>\n<p>A client uses a QueueBrowser object to look at messages on a queue without removing them.</p>\n</blockquote>\n<p>Try receiving the messages in a different way (e.g. using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/core/JmsTemplate.html#doReceive(jakarta.jms.Session,jakarta.jms.Destination,java.lang.String)\" rel=\"nofollow noreferrer\"><code>doReceive</code></a>).</p>\n"}],"owner":{"account_id":29420847,"reputation":11,"user_id":22542607,"display_name":"bro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77195152,"answer_count":1,"score":1,"last_activity_date":1695905845,"creation_date":1695887099,"question_id":77193067,"body_markdown":"I&#39;m trying to read queues by their id in their content and then dequeue them, using Spring Boot and ActiveMQ Classic.\r\n\r\nFor this cause, I create the code below. Code pulls the a queue from responses according to requestId, does some operations then returns. Code grabs the queue without any issue. But it doesn&#39;t `dequeue` it from ActiveMQ.\r\n\r\n```java\r\nObject obj = jmsTemplate.browseSelected(&quot;responses&quot;, &quot;requestId=&#39;&quot;+id+&quot;&#39;&quot;, new BrowserCallback() {\r\n    @Override\r\n    public ResponseEntity&lt;OperationResultResponse&gt; doInJms(Session session, QueueBrowser browser) throws JMSException {\r\n        Enumeration&lt;?&gt; enumeration = browser.getEnumeration();\r\n        if (enumeration.hasMoreElements()) {\r\n            Message message = (Message) enumeration.nextElement();\r\n            \r\n            // process the message\r\n            if (message instanceof ActiveMQObjectMessage objectMessage){\r\n                try{\r\n                    // extract the requestId and put in QueueResponse object\r\n                    QueueResponse queueResponse = (QueueResponse) objectMessage.getObject();\r\n                    String requestId = queueResponse.getRequestId();\r\n                    // some other operations..\r\n                    \r\n\r\n                    return something...;\r\n                }catch (Exception exception){\r\n                    // handle error\r\n                    return new ResponseEntity&lt;&gt;( HttpStatus.INTERNAL_SERVER_ERROR);\r\n                }\r\n            }\r\n        }\r\n        // Handle the case where queue not exist\r\n        return new ResponseEntity&lt;&gt;( HttpStatus.NOT_FOUND);\r\n    }\r\n```\r\n\r\n\r\n\r\nTo solve this, I add `message.acknowledge()` in to the `try` block and I change the `acknowledge-mode` to `client` but it didn&#39;t have any effect. I also tried to add `session.close()` but still no effect.\r\n\r\nI traced the `acknowledge` with debugger and I noticed that in the function, `acknowledgeCallback` is `null`. Which makes the code not execute the `acknowledge` I think. I don&#39;t know how to make it non-null. \r\n\r\n```java\r\npublic void acknowledge() throws JMSException {\r\n    if (this.acknowledgeCallback != null) {\r\n        try {\r\n            this.acknowledgeCallback.execute();\r\n        } catch (JMSException var2) {\r\n            throw var2;\r\n        } catch (Throwable var3) {\r\n            throw JMSExceptionSupport.create(var3);\r\n        }\r\n    }\r\n}\r\n```","title":"message.acknowledge() doesn&#39;t dequeue the messages after they have been read in ActiveMQ with Spring Boot","body":"<p>I'm trying to read queues by their id in their content and then dequeue them, using Spring Boot and ActiveMQ Classic.</p>\n<p>For this cause, I create the code below. Code pulls the a queue from responses according to requestId, does some operations then returns. Code grabs the queue without any issue. But it doesn't <code>dequeue</code> it from ActiveMQ.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object obj = jmsTemplate.browseSelected(&quot;responses&quot;, &quot;requestId='&quot;+id+&quot;'&quot;, new BrowserCallback() {\n    @Override\n    public ResponseEntity&lt;OperationResultResponse&gt; doInJms(Session session, QueueBrowser browser) throws JMSException {\n        Enumeration&lt;?&gt; enumeration = browser.getEnumeration();\n        if (enumeration.hasMoreElements()) {\n            Message message = (Message) enumeration.nextElement();\n            \n            // process the message\n            if (message instanceof ActiveMQObjectMessage objectMessage){\n                try{\n                    // extract the requestId and put in QueueResponse object\n                    QueueResponse queueResponse = (QueueResponse) objectMessage.getObject();\n                    String requestId = queueResponse.getRequestId();\n                    // some other operations..\n                    \n\n                    return something...;\n                }catch (Exception exception){\n                    // handle error\n                    return new ResponseEntity&lt;&gt;( HttpStatus.INTERNAL_SERVER_ERROR);\n                }\n            }\n        }\n        // Handle the case where queue not exist\n        return new ResponseEntity&lt;&gt;( HttpStatus.NOT_FOUND);\n    }\n</code></pre>\n<p>To solve this, I add <code>message.acknowledge()</code> in to the <code>try</code> block and I change the <code>acknowledge-mode</code> to <code>client</code> but it didn't have any effect. I also tried to add <code>session.close()</code> but still no effect.</p>\n<p>I traced the <code>acknowledge</code> with debugger and I noticed that in the function, <code>acknowledgeCallback</code> is <code>null</code>. Which makes the code not execute the <code>acknowledge</code> I think. I don't know how to make it non-null.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void acknowledge() throws JMSException {\n    if (this.acknowledgeCallback != null) {\n        try {\n            this.acknowledgeCallback.execute();\n        } catch (JMSException var2) {\n            throw var2;\n        } catch (Throwable var3) {\n            throw JMSExceptionSupport.create(var3);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","lambda","java-stream"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":5,"creation_date":1695839106,"post_id":77189991,"comment_id":136078930,"body_markdown":"If it takes two values, it isn&#39;t a `supplier`...","body":"If it takes two values, it isn&#39;t a <code>supplier</code>..."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1695839042,"creation_date":1695839042,"answer_id":77190004,"question_id":77189991,"body_markdown":"You can&#39;t do this.  You must use the lambda you have shown.\r\n\r\nYou could write a function that modifies binary functions to fix their first argument, but its body is just going to be the same lambda.\r\n","title":"Two objects supplier","body":"<p>You can't do this.  You must use the lambda you have shown.</p>\n<p>You could write a function that modifies binary functions to fix their first argument, but its body is just going to be the same lambda.</p>\n"},{"tags":[],"owner":{"account_id":1090437,"reputation":6796,"user_id":1085186,"accept_rate":100,"display_name":"StackFlowed"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695840338,"creation_date":1695840338,"answer_id":77190126,"question_id":77189991,"body_markdown":"The only way you can do this if you have fixedValue as a class level variable and you dont need to supply it in the function. In other words\r\n\r\n    public class Foo {\r\n        private Integer fixedValue;\r\n    \r\n    \r\n        public Integer binaryFunction(Integer a) {\r\n            //use fixedValue (as it is class variable)\r\n            //some stuff\r\n        }\r\n\r\n        public void doSomeThing() {\r\n            this.fixedValue = ...//setting fixed value here\r\n            List&lt;Integer&gt; otherValues = ...\r\n            otherValues.map(this::binaryFunction)...\r\n        }\r\n    }","title":"Two objects supplier","body":"<p>The only way you can do this if you have fixedValue as a class level variable and you dont need to supply it in the function. In other words</p>\n<pre><code>public class Foo {\n    private Integer fixedValue;\n\n\n    public Integer binaryFunction(Integer a) {\n        //use fixedValue (as it is class variable)\n        //some stuff\n    }\n\n    public void doSomeThing() {\n        this.fixedValue = ...//setting fixed value here\n        List&lt;Integer&gt; otherValues = ...\n        otherValues.map(this::binaryFunction)...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695905596,"creation_date":1695842153,"answer_id":77190307,"question_id":77189991,"body_markdown":"You could do something like this.\r\n```\r\nInteger fixedValue = 8;\r\n\r\n List&lt;Integer&gt; otherValues = List.of(10, 20, 30, 40);\r\n Function&lt;Integer, Integer&gt; fnc = k -&gt; binaryFunction(\r\n         k, fixedValue);\r\n List&lt;Integer&gt; list = otherValues.stream().map(fnc).toList();\r\n System.out.println(list);\r\n```\r\nprints\r\n```\r\n[18, 28, 38, 48]\r\n```\r\n```\r\n\r\npublic Integer binaryFunction(Integer a, Integer b) {\r\n     return a + b;\r\n}\r\n\r\n```\r\nBut I would opt for what you had originally considered which does the same thing. \r\n```\r\nList&lt;Integer&gt; list = otherValues.stream()\r\n            .map(val-&gt;binaryFunction(fixedValue, val)).toList();\r\n```\r\nThere is nothing gained by using a method reference over a lambda. Check out [this](https://stackoverflow.com/a/24493905/1552534_) answer by Brian Goetz.","title":"Two objects supplier","body":"<p>You could do something like this.</p>\n<pre><code>Integer fixedValue = 8;\n\n List&lt;Integer&gt; otherValues = List.of(10, 20, 30, 40);\n Function&lt;Integer, Integer&gt; fnc = k -&gt; binaryFunction(\n         k, fixedValue);\n List&lt;Integer&gt; list = otherValues.stream().map(fnc).toList();\n System.out.println(list);\n</code></pre>\n<p>prints</p>\n<pre><code>[18, 28, 38, 48]\n</code></pre>\n<pre><code>\npublic Integer binaryFunction(Integer a, Integer b) {\n     return a + b;\n}\n\n</code></pre>\n<p>But I would opt for what you had originally considered which does the same thing.</p>\n<pre><code>List&lt;Integer&gt; list = otherValues.stream()\n            .map(val-&gt;binaryFunction(fixedValue, val)).toList();\n</code></pre>\n<p>There is nothing gained by using a method reference over a lambda. Check out <a href=\"https://stackoverflow.com/a/24493905/1552534_\">this</a> answer by Brian Goetz.</p>\n"}],"owner":{"account_id":21378336,"reputation":72,"user_id":15759269,"display_name":"Victoria Antolucci"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77190004,"answer_count":3,"score":2,"last_activity_date":1695905596,"creation_date":1695838937,"question_id":77189991,"body_markdown":"I have a binary function:\r\n\r\n```java\r\npublic Integer binaryFunction(Integer a, Integer b){\r\n    //some stuff\r\n}\r\n```\r\n\r\nAnd I have this stream:\r\n\r\n```java\r\nInteger fixedValue = ...\r\nList&lt;Integer&gt; otherValues = ...\r\notherValues.map(value -&gt; binaryFunction(value, fixedValue)).collect(...);\r\n```\r\n\r\nI would like to know how can I use `map(this::binaryFunction)` in my stream. I tried something like this but it won&#39;t work:\r\n\r\n```java\r\nvalues.map(value -&gt; (value, fixedValue)).map(this::binaryFunction).collect(...);\r\n```\r\n\r\nBut it does not work. I&#39;m looking for a supplier that can take two values.\r\n\r\nNote: I don&#39;t want to change `binaryFunction` declaration.\r\n\r\n","title":"Two objects supplier","body":"<p>I have a binary function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Integer binaryFunction(Integer a, Integer b){\n    //some stuff\n}\n</code></pre>\n<p>And I have this stream:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer fixedValue = ...\nList&lt;Integer&gt; otherValues = ...\notherValues.map(value -&gt; binaryFunction(value, fixedValue)).collect(...);\n</code></pre>\n<p>I would like to know how can I use <code>map(this::binaryFunction)</code> in my stream. I tried something like this but it won't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>values.map(value -&gt; (value, fixedValue)).map(this::binaryFunction).collect(...);\n</code></pre>\n<p>But it does not work. I'm looking for a supplier that can take two values.</p>\n<p>Note: I don't want to change <code>binaryFunction</code> declaration.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1695898437,"post_id":77194323,"comment_id":136086631,"body_markdown":"You said you used `@Valid` but didn&#39;t show it. Are you sure it&#39;s in the right place (on the DTO parameter of the resource method)?","body":"You said you used <code>@Valid</code> but didn&#39;t show it. Are you sure it&#39;s in the right place (on the DTO parameter of the resource method)?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1695900309,"post_id":77194323,"comment_id":136087010,"body_markdown":"If you&#39;re using Spring Boot 3, you need to use the `jakarta.validation` annotations, not `javax.validation`. Also, you should **not** explicitly specify a version for dependencies like `hibernate-validator`, you should use the version specified and managed by Spring Boot","body":"If you&#39;re using Spring Boot 3, you need to use the <code>jakarta.validation</code> annotations, not <code>javax.validation</code>. Also, you should <b>not</b> explicitly specify a version for dependencies like <code>hibernate-validator</code>, you should use the version specified and managed by Spring Boot"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695903274,"post_id":77194323,"comment_id":136087617,"body_markdown":"Remove `hibernate-validator`, remove the `version` from `spring-boot-starter-validation`. If you have any `validation-api` dependency (which I suspect you do) dithc it as well and fix the compilation issues by using the proper `jakarta.validation` imports instead of `javax.validation` imports. (This is all assuming Spring Boot 3.x).","body":"Remove <code>hibernate-validator</code>, remove the <code>version</code> from <code>spring-boot-starter-validation</code>. If you have any <code>validation-api</code> dependency (which I suspect you do) dithc it as well and fix the compilation issues by using the proper <code>jakarta.validation</code> imports instead of <code>javax.validation</code> imports. (This is all assuming Spring Boot 3.x)."}],"answers":[{"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695904179,"creation_date":1695903436,"answer_id":77194875,"question_id":77194323,"body_markdown":"jakarta validation is available in the following dependency\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nReplace \r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt; \r\n       &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt; \r\n       &lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nwith `spring-boot-starter-validation` and make sure that you keep it the same version as your Spring boot, reload your project so that it can pull the new dependencies and drop the hibernate, and after that you can use jakarta imports such as\r\n\r\n    import jakarta.validation.constraints.Max;\r\n    import jakarta.validation.constraints.Min;\r\n    import jakarta.validation.constraints.NotNull;\r\n    import jakarta.validation.constraints.NotBlank;\r\n    import jakarta.validation.constraints.Size;\r\n    import jakarta.validation.Valid;\r\n\r\nKeep in mind that javax packages worked in Spring boot 2 / Spring 5, after that packages were moved from javax to jakarta in a newer version of the Spring boot / Spring.\r\n\r\nAlso it would be wise that you define your spring version in your parent tag instead of defining it in every dependency tag individually, it should look something like\r\n\r\n    &lt;parent&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.0.4&lt;/version&gt;\r\n    \t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\nAll your spring dependencies will inherit this version, it is easier to maintain and safer to not mix up some versions which can cause issues.","title":"Annotations @NotBlank and @NotNull doesn&#39;t work","body":"<p>jakarta validation is available in the following dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Replace</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt; \n   &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt; \n   &lt;version&gt;8.0.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>with <code>spring-boot-starter-validation</code> and make sure that you keep it the same version as your Spring boot, reload your project so that it can pull the new dependencies and drop the hibernate, and after that you can use jakarta imports such as</p>\n<pre><code>import jakarta.validation.constraints.Max;\nimport jakarta.validation.constraints.Min;\nimport jakarta.validation.constraints.NotNull;\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.Size;\nimport jakarta.validation.Valid;\n</code></pre>\n<p>Keep in mind that javax packages worked in Spring boot 2 / Spring 5, after that packages were moved from javax to jakarta in a newer version of the Spring boot / Spring.</p>\n<p>Also it would be wise that you define your spring version in your parent tag instead of defining it in every dependency tag individually, it should look something like</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.4&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>All your spring dependencies will inherit this version, it is easier to maintain and safer to not mix up some versions which can cause issues.</p>\n"},{"tags":[],"owner":{"account_id":29554877,"reputation":1,"user_id":22650722,"display_name":"BertDR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695905401,"creation_date":1695905401,"answer_id":77195112,"question_id":77194323,"body_markdown":"It works! Thanks everyone for the help. For all those who have had the same problem as me, in the post I was advised to:\r\n- Remove hibernate-validator\r\n- Delete the conflicting spring-boot-starter-validation version\r\n- Use import jakarta.validation.constraints and not javax","title":"Annotations @NotBlank and @NotNull doesn&#39;t work","body":"<p>It works! Thanks everyone for the help. For all those who have had the same problem as me, in the post I was advised to:</p>\n<ul>\n<li>Remove hibernate-validator</li>\n<li>Delete the conflicting spring-boot-starter-validation version</li>\n<li>Use import jakarta.validation.constraints and not javax</li>\n</ul>\n"}],"owner":{"account_id":29554877,"reputation":1,"user_id":22650722,"display_name":"BertDR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695905401,"creation_date":1695898372,"question_id":77194323,"body_markdown":"I&#39;ve followed several guides to get @NotNull and @NotBlank annotations working but I can&#39;t get them to work at all. This is a Spring-Boot project. I inserted these dependencies:\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n   &lt;version&gt;3.0.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt; \r\n   &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt; \r\n   &lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nI entered @Valid inside the controller, importando:\r\n\r\n```\r\nimport javax.validation.Valid;\r\n```\r\n\r\nAnd I used annotations like this:\r\n\r\n```\r\nimport javax.validation.constraints.NotBlank;\r\nimport javax.validation.constraints.NotNull;\r\n\t@NotNull(message = &quot;name can&#39;t be null&quot;)\r\n\t@NotBlank(message = &quot;name can&#39;t be empty&quot;)\r\n```\r\n\r\n\r\n\r\n\r\nI tried many solutions but none of them could help me","title":"Annotations @NotBlank and @NotNull doesn&#39;t work","body":"<p>I've followed several guides to get @NotNull and @NotBlank annotations working but I can't get them to work at all. This is a Spring-Boot project. I inserted these dependencies:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n   &lt;version&gt;3.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt; \n   &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt; \n   &lt;version&gt;8.0.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>I entered @Valid inside the controller, importando:</p>\n<pre><code>import javax.validation.Valid;\n</code></pre>\n<p>And I used annotations like this:</p>\n<pre><code>import javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotNull;\n    @NotNull(message = &quot;name can't be null&quot;)\n    @NotBlank(message = &quot;name can't be empty&quot;)\n</code></pre>\n<p>I tried many solutions but none of them could help me</p>\n"},{"tags":["java","linux","javafx","window","modality"],"comments":[{"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"score":0,"creation_date":1404283382,"post_id":24519668,"comment_id":37972835,"body_markdown":"What do you mean by `owner window moves in case it is maximized` ? I am not sure if its the case because of Linux, but I am sure in windows and Mac, `Modality.WINDOW_MODAL` will block the parent window. Please refer [here for more information](http://docs.oracle.com/javafx/2/api/javafx/stage/Stage.html)","body":"What do you mean by <code>owner window moves in case it is maximized</code> ? I am not sure if its the case because of Linux, but I am sure in windows and Mac, <code>Modality.WINDOW_MODAL</code> will block the parent window. Please refer <a href=\"http://docs.oracle.com/javafx/2/api/javafx/stage/Stage.html\" rel=\"nofollow noreferrer\">here for more information</a>"},{"owner":{"account_id":1897282,"reputation":93,"user_id":1713946,"display_name":"user1713946"},"score":0,"creation_date":1404285599,"post_id":24519668,"comment_id":37973943,"body_markdown":"As shown in the first listing I use Modality.WINDOW_MODAL and it blocks the parent window as expected. There is no problem if the parent window doesn&#39;t use the whole screen size (not fullsize) but if it uses the whole screen size the parent window moves a bit on the screen (to the right and down) before showing the dialog. As the parent window stays the same size, part of the parent window moves out of the screen.","body":"As shown in the first listing I use Modality.WINDOW_MODAL and it blocks the parent window as expected. There is no problem if the parent window doesn&#39;t use the whole screen size (not fullsize) but if it uses the whole screen size the parent window moves a bit on the screen (to the right and down) before showing the dialog. As the parent window stays the same size, part of the parent window moves out of the screen."},{"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"score":0,"creation_date":1404292853,"post_id":24519668,"comment_id":37978095,"body_markdown":"Well, I can&#39;t replicate the situation in my MAC. How are you resizing the parent window to use the whole screen ? If you are resizing it by setting the size, you may try `stage.setMaximized(true);` in your parentStage !","body":"Well, I can&#39;t replicate the situation in my MAC. How are you resizing the parent window to use the whole screen ? If you are resizing it by setting the size, you may try <code>stage.setMaximized(true);</code> in your parentStage !"},{"owner":{"account_id":1897282,"reputation":93,"user_id":1713946,"display_name":"user1713946"},"score":0,"creation_date":1404293564,"post_id":24519668,"comment_id":37978555,"body_markdown":"thanks for your efforts! The user sets the size of the window and even if I set maximized in the code it doesn&#39;t help. I&#39;ll try on windows OS later. It&#39;s probably a linux specific thing.","body":"thanks for your efforts! The user sets the size of the window and even if I set maximized in the code it doesn&#39;t help. I&#39;ll try on windows OS later. It&#39;s probably a linux specific thing."},{"owner":{"account_id":1897282,"reputation":93,"user_id":1713946,"display_name":"user1713946"},"score":2,"creation_date":1404294053,"post_id":24519668,"comment_id":37978896,"body_markdown":"It definitly seems to be a linux specific problem because I can observe the same problem using the javafxSceneBuiler 2.0 under linux. Some dialogs causing the same behavior there.","body":"It definitly seems to be a linux specific problem because I can observe the same problem using the javafxSceneBuiler 2.0 under linux. Some dialogs causing the same behavior there."},{"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"score":0,"creation_date":1404295795,"post_id":24519668,"comment_id":37980122,"body_markdown":"If you find this as an issue in javafx, please file an issue in [javafx jira](https://javafx-jira.kenai.com/)","body":"If you find this as an issue in javafx, please file an issue in <a href=\"https://javafx-jira.kenai.com/\" rel=\"nofollow noreferrer\">javafx jira</a>"},{"owner":{"account_id":7555436,"reputation":1397,"user_id":5953720,"accept_rate":63,"display_name":"Allexj"},"score":0,"creation_date":1661426169,"post_id":24519668,"comment_id":129772321,"body_markdown":"issue still present","body":"issue still present"},{"owner":{"account_id":7555436,"reputation":1397,"user_id":5953720,"accept_rate":63,"display_name":"Allexj"},"score":0,"creation_date":1661435629,"post_id":24519668,"comment_id":129776079,"body_markdown":"here is the bug report: https://bugs.openjdk.org/browse/JDK-8255347 still not fixed","body":"here is the bug report: <a href=\"https://bugs.openjdk.org/browse/JDK-8255347\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8255347</a> still not fixed"},{"owner":{"account_id":7555436,"reputation":1397,"user_id":5953720,"accept_rate":63,"display_name":"Allexj"},"score":0,"creation_date":1662219914,"post_id":24519668,"comment_id":129958069,"body_markdown":"my friend with Ubuntu 20.04 doesn&#39;t have this bug: https://stackoverflow.com/questions/73593523/why-doesnt-my-friend-have-this-bug-while-i-am","body":"my friend with Ubuntu 20.04 doesn&#39;t have this bug: <a href=\"https://stackoverflow.com/questions/73593523/why-doesnt-my-friend-have-this-bug-while-i-am\" title=\"why doesnt my friend have this bug while i am\">stackoverflow.com/questions/73593523/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9783242,"reputation":688,"user_id":7250390,"display_name":"Dmitry Ovchinnikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695251011,"creation_date":1695250199,"answer_id":77146282,"question_id":24519668,"body_markdown":"As a workaround for Linux it&#39;s possible to use this trick:\r\n\r\n      stage.setMaximized(true);\r\n      if (PlatformUtil.isLinux()) {\r\n        stage.addEventHandler(WindowEvent.WINDOW_SHOWN, new EventHandler&lt;&gt;() {\r\n          @Override\r\n          public void handle(WindowEvent windowEvent) {\r\n            stage.removeEventHandler(WindowEvent.WINDOW_SHOWN, this);\r\n            Platform.runLater(() -&gt; {\r\n              var bounds = new Rectangle2D(stage.getX(), stage.getY(), stage.getWidth(), stage.getHeight());\r\n              stage.setMaximized(false);\r\n              stage.setX(bounds.getMinX());\r\n              stage.setY(bounds.getMinY());\r\n              stage.setWidth(bounds.getWidth());\r\n              stage.setHeight(bounds.getHeight());\r\n              stage.setMaximized(true);\r\n            });\r\n          }\r\n        });\r\n      }\r\n","title":"javafx maximized window moves if dialog shows up","body":"<p>As a workaround for Linux it's possible to use this trick:</p>\n<pre><code>  stage.setMaximized(true);\n  if (PlatformUtil.isLinux()) {\n    stage.addEventHandler(WindowEvent.WINDOW_SHOWN, new EventHandler&lt;&gt;() {\n      @Override\n      public void handle(WindowEvent windowEvent) {\n        stage.removeEventHandler(WindowEvent.WINDOW_SHOWN, this);\n        Platform.runLater(() -&gt; {\n          var bounds = new Rectangle2D(stage.getX(), stage.getY(), stage.getWidth(), stage.getHeight());\n          stage.setMaximized(false);\n          stage.setX(bounds.getMinX());\n          stage.setY(bounds.getMinY());\n          stage.setWidth(bounds.getWidth());\n          stage.setHeight(bounds.getHeight());\n          stage.setMaximized(true);\n        });\n      }\n    });\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9783242,"reputation":688,"user_id":7250390,"display_name":"Dmitry Ovchinnikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695905286,"creation_date":1695905286,"answer_id":77195090,"question_id":24519668,"body_markdown":"Finally I found another solution that works pretty fine on Linux. It uses a trick: if the user restores the window from the maximized state manually by double clicking on the title, and then maximizes it again by double clicking on the title, this bug is not reproduced anymore.\r\nTo emulate double clicking I use the Robot:\r\n\r\n```\r\nstage.setMaximized(true);                                                                             \r\nif (PlatformUtil.isLinux()) { // a workaround of a bug of modal dialogs shown on top of the stage     \r\n  stage.setAlwaysOnTop(true);                                                                         \r\n  stage.addEventHandler(WindowEvent.WINDOW_SHOWN, new EventHandler&lt;&gt;() {                              \r\n    @Override                                                                                         \r\n    public void handle(WindowEvent windowEvent) {                                                     \r\n      stage.removeEventHandler(WindowEvent.WINDOW_SHOWN, this);                                       \r\n      new Thread(() -&gt; {                                                                              \r\n        doubleClick();                                                                                \r\n        LockSupport.parkNanos(10_000_000L);                                                           \r\n        doubleClick();                                                                                \r\n        Platform.runLater(() -&gt; stage.setAlwaysOnTop(false));                                         \r\n      }).start();                                                                                     \r\n    }                                                                                                 \r\n                                                                                                      \r\n    private void doubleClick() {                                                                      \r\n      robotAction(stage, r -&gt; r.mouseClick(MouseButton.PRIMARY));                                     \r\n      LockSupport.parkNanos(1_000_000L);                                                              \r\n      robotAction(stage, r -&gt; r.mouseClick(MouseButton.PRIMARY));                                     \r\n    }                                                                                                 \r\n                                                                                                      \r\n    private void robotAction(Stage stage, Consumer&lt;Robot&gt; action) {                                   \r\n      var latch = new CountDownLatch(1);                                                              \r\n      Platform.runLater(() -&gt; {                                                                       \r\n        try {                                                                                         \r\n          var robot = new Robot();                                                                    \r\n          var centerX = stage.getX() + stage.getWidth() / 2d;                                         \r\n          robot.mouseMove(centerX, stage.getY() + 3d);                                                \r\n          action.accept(robot);                                                                       \r\n        } finally {                                                                                   \r\n          latch.countDown();                                                                          \r\n        }                                                                                             \r\n      });                                                                                             \r\n      try {                                                                                           \r\n        latch.await();                                                                                \r\n      } catch (InterruptedException e) {                                                              \r\n        throw new IllegalStateException(e);                                                           \r\n      }                                                                                               \r\n    }                                                                                                 \r\n  });                                                                                                 \r\n}                                                                                                     \r\nstage.show();                                                                                         \r\n```","title":"javafx maximized window moves if dialog shows up","body":"<p>Finally I found another solution that works pretty fine on Linux. It uses a trick: if the user restores the window from the maximized state manually by double clicking on the title, and then maximizes it again by double clicking on the title, this bug is not reproduced anymore.\nTo emulate double clicking I use the Robot:</p>\n<pre><code>stage.setMaximized(true);                                                                             \nif (PlatformUtil.isLinux()) { // a workaround of a bug of modal dialogs shown on top of the stage     \n  stage.setAlwaysOnTop(true);                                                                         \n  stage.addEventHandler(WindowEvent.WINDOW_SHOWN, new EventHandler&lt;&gt;() {                              \n    @Override                                                                                         \n    public void handle(WindowEvent windowEvent) {                                                     \n      stage.removeEventHandler(WindowEvent.WINDOW_SHOWN, this);                                       \n      new Thread(() -&gt; {                                                                              \n        doubleClick();                                                                                \n        LockSupport.parkNanos(10_000_000L);                                                           \n        doubleClick();                                                                                \n        Platform.runLater(() -&gt; stage.setAlwaysOnTop(false));                                         \n      }).start();                                                                                     \n    }                                                                                                 \n                                                                                                      \n    private void doubleClick() {                                                                      \n      robotAction(stage, r -&gt; r.mouseClick(MouseButton.PRIMARY));                                     \n      LockSupport.parkNanos(1_000_000L);                                                              \n      robotAction(stage, r -&gt; r.mouseClick(MouseButton.PRIMARY));                                     \n    }                                                                                                 \n                                                                                                      \n    private void robotAction(Stage stage, Consumer&lt;Robot&gt; action) {                                   \n      var latch = new CountDownLatch(1);                                                              \n      Platform.runLater(() -&gt; {                                                                       \n        try {                                                                                         \n          var robot = new Robot();                                                                    \n          var centerX = stage.getX() + stage.getWidth() / 2d;                                         \n          robot.mouseMove(centerX, stage.getY() + 3d);                                                \n          action.accept(robot);                                                                       \n        } finally {                                                                                   \n          latch.countDown();                                                                          \n        }                                                                                             \n      });                                                                                             \n      try {                                                                                           \n        latch.await();                                                                                \n      } catch (InterruptedException e) {                                                              \n        throw new IllegalStateException(e);                                                           \n      }                                                                                               \n    }                                                                                                 \n  });                                                                                                 \n}                                                                                                     \nstage.show();                                                                                         \n</code></pre>\n"}],"owner":{"account_id":1897282,"reputation":93,"user_id":1713946,"display_name":"user1713946"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":734,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1695905286,"creation_date":1404250679,"question_id":24519668,"body_markdown":"If I create a javafx dialog using the following method:\r\n\r\n    public static void showDialog(Event event) throws IOException {\r\n\t\tdialogStage = new Stage();\r\n\t\tGridPane grid = (GridPane) Start.createLoader().load(Start.class.getResource(&quot;file.fxml&quot;).openStream());\r\n\t\tdialogStage.setScene(new Scene(grid));\r\n\t\tdialogStage.setTitle(&quot;Title&quot;);\r\n\t\tdialogStage.initModality(Modality.WINDOW_MODAL);\r\n\t\tdialogStage.initOwner(((Node) event.getSource()).getScene().getWindow());\r\n\t\tdialogStage.showAndWait();\r\n\t}\r\n\r\nthe ower window moves in case it is maximized. This also happens if I use:\r\n\r\n    Modality.APPLICATION_MODAL\r\n\r\nIt works if I combine:\r\n\r\n    dialogStage.initModality(Modality.WINDOW_MODAL);\r\n    dialogStage.initOwner(primaryStage.getOwner());\r\n\r\nbut in this case the owner window is not blocked.\r\nI want my dialog showing up on a maximized window without moving it. The maximized window should be blocked while the dialog is open. How can I do this?\r\n\r\nBtw. I am using java 8 and javafx on linux.\r\n\r\nTanks!\r\n\r\n","title":"javafx maximized window moves if dialog shows up","body":"<p>If I create a javafx dialog using the following method:</p>\n\n<pre><code>public static void showDialog(Event event) throws IOException {\n    dialogStage = new Stage();\n    GridPane grid = (GridPane) Start.createLoader().load(Start.class.getResource(\"file.fxml\").openStream());\n    dialogStage.setScene(new Scene(grid));\n    dialogStage.setTitle(\"Title\");\n    dialogStage.initModality(Modality.WINDOW_MODAL);\n    dialogStage.initOwner(((Node) event.getSource()).getScene().getWindow());\n    dialogStage.showAndWait();\n}\n</code></pre>\n\n<p>the ower window moves in case it is maximized. This also happens if I use:</p>\n\n<pre><code>Modality.APPLICATION_MODAL\n</code></pre>\n\n<p>It works if I combine:</p>\n\n<pre><code>dialogStage.initModality(Modality.WINDOW_MODAL);\ndialogStage.initOwner(primaryStage.getOwner());\n</code></pre>\n\n<p>but in this case the owner window is not blocked.\nI want my dialog showing up on a maximized window without moving it. The maximized window should be blocked while the dialog is open. How can I do this?</p>\n\n<p>Btw. I am using java 8 and javafx on linux.</p>\n\n<p>Tanks!</p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":2,"creation_date":1505232973,"post_id":46181026,"comment_id":79325068,"body_markdown":"You might have to write your custom runner which acts on the attributes of both `@Test` and [`@RepeatedTest`](http://junit.org/junit5/docs/current/user-guide/#writing-tests-repeated-tests) attributes like `currentRepetition`, `totalRepetitions` and `success`","body":"You might have to write your custom runner which acts on the attributes of both <code>@Test</code> and <a href=\"http://junit.org/junit5/docs/current/user-guide/#writing-tests-repeated-tests\" rel=\"nofollow noreferrer\"><code>@RepeatedTest</code></a> attributes like <code>currentRepetition</code>, <code>totalRepetitions</code> and <code>success</code>"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1505233800,"post_id":46181026,"comment_id":79325607,"body_markdown":"Or just use testNG.","body":"Or just use testNG."},{"owner":{"account_id":48063,"reputation":4171,"user_id":142605,"accept_rate":55,"display_name":"dzieciou"},"score":1,"creation_date":1505236022,"post_id":46181026,"comment_id":79326797,"body_markdown":"@nullpointer. Runner is a concept from JUnit4. Junit5 does not have custom runners.","body":"@nullpointer. Runner is a concept from JUnit4. Junit5 does not have custom runners."},{"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"score":1,"creation_date":1505244279,"post_id":46181026,"comment_id":79330676,"body_markdown":"Do you expect it to always execute 5 times, or do you expect it to run until there are at least `40%` successful executions?","body":"Do you expect it to always execute 5 times, or do you expect it to run until there are at least <code>40%</code> successful executions?"},{"owner":{"account_id":48063,"reputation":4171,"user_id":142605,"accept_rate":55,"display_name":"dzieciou"},"score":0,"creation_date":1505244521,"post_id":46181026,"comment_id":79330787,"body_markdown":"@mkobit. Ultimately I would prefer the latter. But having first strategy would br a good starting point.","body":"@mkobit. Ultimately I would prefer the latter. But having first strategy would br a good starting point."}],"answers":[{"comments":[{"owner":{"account_id":8097,"reputation":6544,"user_id":14379,"display_name":"seanf"},"score":0,"creation_date":1535951196,"post_id":46207476,"comment_id":91236618,"body_markdown":"Thanks @mkobit. FWIW, I put the seven separate Kotlin files into a Gist: https://gist.github.com/seanf/c6d16b00713ef3fdcd7f3371b4c5798a Have you got a licence in mind?","body":"Thanks @mkobit. FWIW, I put the seven separate Kotlin files into a Gist: <a href=\"https://gist.github.com/seanf/c6d16b00713ef3fdcd7f3371b4c5798a\" rel=\"nofollow noreferrer\">gist.github.com/seanf/c6d16b00713ef3fdcd7f3371b4c5798a</a> Have you got a licence in mind?"},{"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"score":0,"creation_date":1542034305,"post_id":46207476,"comment_id":93413416,"body_markdown":"@seanf I&#39;m not sure if Stack Overflow itself has a license for answers, so I would defer to that. If not, consider it to be released under the [Unlicense](https://choosealicense.com/licenses/unlicense/).","body":"@seanf I&#39;m not sure if Stack Overflow itself has a license for answers, so I would defer to that. If not, consider it to be released under the <a href=\"https://choosealicense.com/licenses/unlicense/\" rel=\"nofollow noreferrer\">Unlicense</a>."},{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":0,"creation_date":1623200954,"post_id":46207476,"comment_id":120009196,"body_markdown":"This solution very nearly works for us but we wanted to try and get it working without it being a TestTemplate, because TestTemplate is Testable, and if one of the tests you want to mark flaky like this is also a ParameterizedTest, all hell breaks loose.","body":"This solution very nearly works for us but we wanted to try and get it working without it being a TestTemplate, because TestTemplate is Testable, and if one of the tests you want to mark flaky like this is also a ParameterizedTest, all hell breaks loose."}],"tags":[],"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1505391287,"creation_date":1505340075,"answer_id":46207476,"question_id":46181026,"body_markdown":"Ok, I took a little bit of time to whip together a little example of how to do this using the [`TestTemplateInvocationContextProvider`][1], [`ExecutionCondition`][2], and [`TestExecutionExceptionHandler`][3] extension points.\r\n\r\nThe way I was able to handle failing tests was to mark them as &quot;aborted&quot; rather than let them flat out fail (so that the entire test execution does not consider it a failure) and only fail tests when we can&#39;t get the minimum amount of successful runs. If the minimum amount of tests has already succeeded, then we also mark the remaining tests as &quot;disabled&quot;. The test failures are tracked in a [`ExtensionContext.Store`][4] so that the state can be looked up at each place.\r\n\r\nThis is a very rough example that definitely has a few problems but can hopefully serve as an example of how to compose different annotations. I ended up writing it in Kotlin:\r\n\r\n&lt;!-- language-all: lang-kotlin --&gt;\r\n\r\n`@Retry`-esque annotation loosely based on the TestNG example:\r\n\r\n    import org.junit.jupiter.api.TestTemplate\r\n    import org.junit.jupiter.api.extension.ExtendWith\r\n    \r\n    @TestTemplate\r\n    @Target(AnnotationTarget.FUNCTION)\r\n    @ExtendWith(RetryTestExtension::class)\r\n    annotation class Retry(val invocationCount: Int, val minSuccess: Int)\r\n\r\n[`TestTemplateInvocationContext`][5] used by templatized tests:\r\n\r\n    import org.junit.jupiter.api.extension.Extension\r\n    import org.junit.jupiter.api.extension.TestTemplateInvocationContext\r\n    \r\n    class RetryTemplateContext(\r\n      private val invocation: Int,\r\n      private val maxInvocations: Int,\r\n      private val minSuccess: Int\r\n    ) : TestTemplateInvocationContext {\r\n      override fun getDisplayName(invocationIndex: Int): String {\r\n        return &quot;Invocation number $invocationIndex (requires $minSuccess success)&quot;\r\n      }\r\n    \r\n      override fun getAdditionalExtensions(): MutableList&lt;Extension&gt; {\r\n        return mutableListOf(\r\n          RetryingTestExecutionExtension(invocation, maxInvocations, minSuccess)\r\n        )\r\n      }\r\n    }\r\n\r\n\r\n`TestTemplateInvocationContextProvider` extension for the `@Retry` annotation:\r\n\r\n    import org.junit.jupiter.api.extension.ExtensionContext\r\n    import org.junit.jupiter.api.extension.ExtensionContextException\r\n    import org.junit.jupiter.api.extension.TestTemplateInvocationContext\r\n    import org.junit.jupiter.api.extension.TestTemplateInvocationContextProvider\r\n    import org.junit.platform.commons.support.AnnotationSupport\r\n    import java.util.stream.IntStream\r\n    import java.util.stream.Stream\r\n    \r\n    class RetryTestExtension : TestTemplateInvocationContextProvider {\r\n      override fun supportsTestTemplate(context: ExtensionContext): Boolean {\r\n        return context.testMethod.map { it.isAnnotationPresent(Retry::class.java) }.orElse(false)\r\n      }\r\n    \r\n      override fun provideTestTemplateInvocationContexts(context: ExtensionContext): Stream&lt;TestTemplateInvocationContext&gt; {\r\n        val annotation = AnnotationSupport.findAnnotation(\r\n            context.testMethod.orElseThrow { ExtensionContextException(&quot;Must be annotated on method&quot;) },\r\n            Retry::class.java\r\n        ).orElseThrow { ExtensionContextException(&quot;${Retry::class.java} not found on method&quot;) }\r\n    \r\n        checkValidRetry(annotation)\r\n    \r\n        return IntStream.rangeClosed(1, annotation.invocationCount)\r\n            .mapToObj { RetryTemplateContext(it, annotation.invocationCount, annotation.minSuccess) }\r\n      }\r\n    \r\n      private fun checkValidRetry(annotation: Retry) {\r\n        if (annotation.invocationCount &lt; 1) {\r\n          throw ExtensionContextException(&quot;${annotation.invocationCount} must be greater than or equal to 1&quot;)\r\n        }\r\n        if (annotation.minSuccess &lt; 1 || annotation.minSuccess &gt; annotation.invocationCount) {\r\n          throw ExtensionContextException(&quot;Invalid ${annotation.minSuccess}&quot;)\r\n        }\r\n      }\r\n    }\r\n\r\nSimple `data class` representing the retry (injected into test cases in this example using [`ParameterResolver`][6]).\r\n\r\n    data class RetryInfo(val invocation: Int, val maxInvocations: Int)\r\n\r\n`Exception` used for representing failed retries:\r\n\r\n    import java.lang.Exception\r\n\r\n    internal class RetryingTestFailure(invocation: Int, cause: Throwable) : Exception(&quot;Failed test execution at invocation #$invocation&quot;, cause)\r\n\r\n\r\nMain extension implementing `ExecutionCondition`, `ParameterResolver`, and `TestExecutionExceptionHandler`.\r\n\r\n    import org.junit.jupiter.api.extension.ConditionEvaluationResult\r\n    import org.junit.jupiter.api.extension.ExecutionCondition\r\n    import org.junit.jupiter.api.extension.ExtensionContext\r\n    import org.junit.jupiter.api.extension.ParameterContext\r\n    import org.junit.jupiter.api.extension.ParameterResolver\r\n    import org.junit.jupiter.api.extension.TestExecutionExceptionHandler\r\n    import org.opentest4j.TestAbortedException\r\n    \r\n    internal class RetryingTestExecutionExtension(\r\n      private val invocation: Int,\r\n      private val maxInvocations: Int,\r\n      private val minSuccess: Int\r\n    ) : ExecutionCondition, ParameterResolver, TestExecutionExceptionHandler {\r\n      override fun evaluateExecutionCondition(\r\n        context: ExtensionContext\r\n      ): ConditionEvaluationResult {\r\n        val failureCount = getFailures(context).size\r\n        // Shift -1 because this happens before test\r\n        val successCount = (invocation - 1) - failureCount\r\n        when {\r\n          (maxInvocations - failureCount) &lt; minSuccess -&gt; // Case when we cannot hit our minimum success\r\n            return ConditionEvaluationResult.disabled(&quot;Cannot hit minimum success rate of $minSuccess/$maxInvocations - $failureCount failures already&quot;)\r\n          successCount &lt; minSuccess -&gt; // Case when we haven&#39;t hit success threshold yet\r\n            return ConditionEvaluationResult.enabled(&quot;Have not ran $minSuccess/$maxInvocations successful executions&quot;)\r\n          else -&gt; return ConditionEvaluationResult.disabled(&quot;$minSuccess/$maxInvocations successful runs have already ran. Skipping run $invocation&quot;)\r\n        }\r\n      }\r\n    \r\n      override fun supportsParameter(\r\n        parameterContext: ParameterContext,\r\n        extensionContext: ExtensionContext\r\n      ): Boolean = parameterContext.parameter.type == RetryInfo::class.java\r\n    \r\n      override fun resolveParameter(\r\n        parameterContext: ParameterContext,\r\n        extensionContext: ExtensionContext\r\n      ): Any = RetryInfo(invocation, maxInvocations)\r\n    \r\n      override fun handleTestExecutionException(\r\n        context: ExtensionContext,\r\n        throwable: Throwable\r\n      ) {\r\n    \r\n        val testFailure = RetryingTestFailure(invocation, throwable)\r\n        val failures: MutableList&lt;RetryingTestFailure&gt; = getFailures(context)\r\n        failures.add(testFailure)\r\n        val failureCount = failures.size\r\n        val successCount = invocation - failureCount\r\n        if ((maxInvocations - failureCount) &lt; minSuccess) {\r\n          throw testFailure\r\n        } else if (successCount &lt; minSuccess) {\r\n          // Case when we have still have retries left\r\n          throw TestAbortedException(&quot;Aborting test #$invocation/$maxInvocations- still have retries left&quot;,\r\n            testFailure)\r\n        }\r\n      }\r\n    \r\n      private fun getFailures(context: ExtensionContext): MutableList&lt;RetryingTestFailure&gt; {\r\n        val namespace = ExtensionContext.Namespace.create(\r\n          RetryingTestExecutionExtension::class.java)\r\n        val store = context.parent.get().getStore(namespace)\r\n        @Suppress(&quot;UNCHECKED_CAST&quot;)\r\n        return store.getOrComputeIfAbsent(context.requiredTestMethod.name, { mutableListOf&lt;RetryingTestFailure&gt;() }, MutableList::class.java) as MutableList&lt;RetryingTestFailure&gt;\r\n      }\r\n    }\r\n\r\nAnd then, the test consumer:\r\n\r\n    import org.junit.jupiter.api.DisplayName\r\n    \r\n    internal class MyRetryableTest {\r\n      @DisplayName(&quot;Fail all retries&quot;)\r\n      @Retry(invocationCount = 5, minSuccess = 3)\r\n      internal fun failAllRetries(retryInfo: RetryInfo) {\r\n        println(retryInfo)\r\n        throw Exception(&quot;Failed at $retryInfo&quot;)\r\n      }\r\n    \r\n      @DisplayName(&quot;Only fail once&quot;)\r\n      @Retry(invocationCount = 5, minSuccess = 4)\r\n      internal fun succeedOnRetry(retryInfo: RetryInfo) {\r\n        if (retryInfo.invocation == 1) {\r\n          throw Exception(&quot;Failed at ${retryInfo.invocation}&quot;)\r\n        }\r\n      }\r\n    \r\n      @DisplayName(&quot;Only requires single success and is first execution&quot;)\r\n      @Retry(invocationCount = 5, minSuccess = 1)\r\n      internal fun firstSuccess(retryInfo: RetryInfo) {\r\n        println(&quot;Running: $retryInfo&quot;)\r\n      }\r\n    \r\n      @DisplayName(&quot;Only requires single success and is last execution&quot;)\r\n      @Retry(invocationCount = 5, minSuccess = 1)\r\n      internal fun lastSuccess(retryInfo: RetryInfo) {\r\n        if (retryInfo.invocation &lt; 5) {\r\n          throw Exception(&quot;Failed at ${retryInfo.invocation}&quot;)\r\n        }\r\n      }\r\n    \r\n      @DisplayName(&quot;All required all succeed&quot;)\r\n      @Retry(invocationCount = 5, minSuccess = 5)\r\n      internal fun allRequiredAllSucceed(retryInfo: RetryInfo) {\r\n        println(&quot;Running: $retryInfo&quot;)\r\n      }\r\n    \r\n      @DisplayName(&quot;Fail early and disable&quot;)\r\n      @Retry(invocationCount = 5, minSuccess = 4)\r\n      internal fun failEarly(retryInfo: RetryInfo) {\r\n        throw Exception(&quot;Failed at ${retryInfo.invocation}&quot;)\r\n      }\r\n    }\r\n\r\nAnd the test output in IntelliJ looks like:\r\n\r\n[![IntelliJ test output][7]][7]\r\n\r\nI don&#39;t know if throwing a `TestAbortedException` from the `TestExecutionExceptionHandler.handleTestExecutionException` is supposed to abort the test, but I am using it here.\r\n\r\n\r\n  [1]: http://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/extension/TestTemplateInvocationContextProvider.html\r\n  [2]: http://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/extension/ExecutionCondition.html\r\n  [3]: http://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/extension/TestExecutionExceptionHandler.html\r\n  [4]: http://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/extension/ExtensionContext.Store.html\r\n  [5]: http://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/extension/TestTemplateInvocationContext.html\r\n  [6]: http://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/extension/ParameterResolver.html\r\n  [7]: https://i.stack.imgur.com/0oeQN.png","title":"JUnit5: How to repeat failed test?","body":"<p>Ok, I took a little bit of time to whip together a little example of how to do this using the <a href=\"http://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/extension/TestTemplateInvocationContextProvider.html\" rel=\"noreferrer\"><code>TestTemplateInvocationContextProvider</code></a>, <a href=\"http://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/extension/ExecutionCondition.html\" rel=\"noreferrer\"><code>ExecutionCondition</code></a>, and <a href=\"http://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/extension/TestExecutionExceptionHandler.html\" rel=\"noreferrer\"><code>TestExecutionExceptionHandler</code></a> extension points.</p>\n\n<p>The way I was able to handle failing tests was to mark them as \"aborted\" rather than let them flat out fail (so that the entire test execution does not consider it a failure) and only fail tests when we can't get the minimum amount of successful runs. If the minimum amount of tests has already succeeded, then we also mark the remaining tests as \"disabled\". The test failures are tracked in a <a href=\"http://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/extension/ExtensionContext.Store.html\" rel=\"noreferrer\"><code>ExtensionContext.Store</code></a> so that the state can be looked up at each place.</p>\n\n<p>This is a very rough example that definitely has a few problems but can hopefully serve as an example of how to compose different annotations. I ended up writing it in Kotlin:</p>\n\n\n\n<p><code>@Retry</code>-esque annotation loosely based on the TestNG example:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.junit.jupiter.api.TestTemplate\nimport org.junit.jupiter.api.extension.ExtendWith\n\n@TestTemplate\n@Target(AnnotationTarget.FUNCTION)\n@ExtendWith(RetryTestExtension::class)\nannotation class Retry(val invocationCount: Int, val minSuccess: Int)\n</code></pre>\n\n<p><a href=\"http://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/extension/TestTemplateInvocationContext.html\" rel=\"noreferrer\"><code>TestTemplateInvocationContext</code></a> used by templatized tests:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.junit.jupiter.api.extension.Extension\nimport org.junit.jupiter.api.extension.TestTemplateInvocationContext\n\nclass RetryTemplateContext(\n  private val invocation: Int,\n  private val maxInvocations: Int,\n  private val minSuccess: Int\n) : TestTemplateInvocationContext {\n  override fun getDisplayName(invocationIndex: Int): String {\n    return \"Invocation number $invocationIndex (requires $minSuccess success)\"\n  }\n\n  override fun getAdditionalExtensions(): MutableList&lt;Extension&gt; {\n    return mutableListOf(\n      RetryingTestExecutionExtension(invocation, maxInvocations, minSuccess)\n    )\n  }\n}\n</code></pre>\n\n<p><code>TestTemplateInvocationContextProvider</code> extension for the <code>@Retry</code> annotation:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.junit.jupiter.api.extension.ExtensionContext\nimport org.junit.jupiter.api.extension.ExtensionContextException\nimport org.junit.jupiter.api.extension.TestTemplateInvocationContext\nimport org.junit.jupiter.api.extension.TestTemplateInvocationContextProvider\nimport org.junit.platform.commons.support.AnnotationSupport\nimport java.util.stream.IntStream\nimport java.util.stream.Stream\n\nclass RetryTestExtension : TestTemplateInvocationContextProvider {\n  override fun supportsTestTemplate(context: ExtensionContext): Boolean {\n    return context.testMethod.map { it.isAnnotationPresent(Retry::class.java) }.orElse(false)\n  }\n\n  override fun provideTestTemplateInvocationContexts(context: ExtensionContext): Stream&lt;TestTemplateInvocationContext&gt; {\n    val annotation = AnnotationSupport.findAnnotation(\n        context.testMethod.orElseThrow { ExtensionContextException(\"Must be annotated on method\") },\n        Retry::class.java\n    ).orElseThrow { ExtensionContextException(\"${Retry::class.java} not found on method\") }\n\n    checkValidRetry(annotation)\n\n    return IntStream.rangeClosed(1, annotation.invocationCount)\n        .mapToObj { RetryTemplateContext(it, annotation.invocationCount, annotation.minSuccess) }\n  }\n\n  private fun checkValidRetry(annotation: Retry) {\n    if (annotation.invocationCount &lt; 1) {\n      throw ExtensionContextException(\"${annotation.invocationCount} must be greater than or equal to 1\")\n    }\n    if (annotation.minSuccess &lt; 1 || annotation.minSuccess &gt; annotation.invocationCount) {\n      throw ExtensionContextException(\"Invalid ${annotation.minSuccess}\")\n    }\n  }\n}\n</code></pre>\n\n<p>Simple <code>data class</code> representing the retry (injected into test cases in this example using <a href=\"http://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/extension/ParameterResolver.html\" rel=\"noreferrer\"><code>ParameterResolver</code></a>).</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class RetryInfo(val invocation: Int, val maxInvocations: Int)\n</code></pre>\n\n<p><code>Exception</code> used for representing failed retries:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>import java.lang.Exception\n\ninternal class RetryingTestFailure(invocation: Int, cause: Throwable) : Exception(\"Failed test execution at invocation #$invocation\", cause)\n</code></pre>\n\n<p>Main extension implementing <code>ExecutionCondition</code>, <code>ParameterResolver</code>, and <code>TestExecutionExceptionHandler</code>.</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.junit.jupiter.api.extension.ConditionEvaluationResult\nimport org.junit.jupiter.api.extension.ExecutionCondition\nimport org.junit.jupiter.api.extension.ExtensionContext\nimport org.junit.jupiter.api.extension.ParameterContext\nimport org.junit.jupiter.api.extension.ParameterResolver\nimport org.junit.jupiter.api.extension.TestExecutionExceptionHandler\nimport org.opentest4j.TestAbortedException\n\ninternal class RetryingTestExecutionExtension(\n  private val invocation: Int,\n  private val maxInvocations: Int,\n  private val minSuccess: Int\n) : ExecutionCondition, ParameterResolver, TestExecutionExceptionHandler {\n  override fun evaluateExecutionCondition(\n    context: ExtensionContext\n  ): ConditionEvaluationResult {\n    val failureCount = getFailures(context).size\n    // Shift -1 because this happens before test\n    val successCount = (invocation - 1) - failureCount\n    when {\n      (maxInvocations - failureCount) &lt; minSuccess -&gt; // Case when we cannot hit our minimum success\n        return ConditionEvaluationResult.disabled(\"Cannot hit minimum success rate of $minSuccess/$maxInvocations - $failureCount failures already\")\n      successCount &lt; minSuccess -&gt; // Case when we haven't hit success threshold yet\n        return ConditionEvaluationResult.enabled(\"Have not ran $minSuccess/$maxInvocations successful executions\")\n      else -&gt; return ConditionEvaluationResult.disabled(\"$minSuccess/$maxInvocations successful runs have already ran. Skipping run $invocation\")\n    }\n  }\n\n  override fun supportsParameter(\n    parameterContext: ParameterContext,\n    extensionContext: ExtensionContext\n  ): Boolean = parameterContext.parameter.type == RetryInfo::class.java\n\n  override fun resolveParameter(\n    parameterContext: ParameterContext,\n    extensionContext: ExtensionContext\n  ): Any = RetryInfo(invocation, maxInvocations)\n\n  override fun handleTestExecutionException(\n    context: ExtensionContext,\n    throwable: Throwable\n  ) {\n\n    val testFailure = RetryingTestFailure(invocation, throwable)\n    val failures: MutableList&lt;RetryingTestFailure&gt; = getFailures(context)\n    failures.add(testFailure)\n    val failureCount = failures.size\n    val successCount = invocation - failureCount\n    if ((maxInvocations - failureCount) &lt; minSuccess) {\n      throw testFailure\n    } else if (successCount &lt; minSuccess) {\n      // Case when we have still have retries left\n      throw TestAbortedException(\"Aborting test #$invocation/$maxInvocations- still have retries left\",\n        testFailure)\n    }\n  }\n\n  private fun getFailures(context: ExtensionContext): MutableList&lt;RetryingTestFailure&gt; {\n    val namespace = ExtensionContext.Namespace.create(\n      RetryingTestExecutionExtension::class.java)\n    val store = context.parent.get().getStore(namespace)\n    @Suppress(\"UNCHECKED_CAST\")\n    return store.getOrComputeIfAbsent(context.requiredTestMethod.name, { mutableListOf&lt;RetryingTestFailure&gt;() }, MutableList::class.java) as MutableList&lt;RetryingTestFailure&gt;\n  }\n}\n</code></pre>\n\n<p>And then, the test consumer:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.junit.jupiter.api.DisplayName\n\ninternal class MyRetryableTest {\n  @DisplayName(\"Fail all retries\")\n  @Retry(invocationCount = 5, minSuccess = 3)\n  internal fun failAllRetries(retryInfo: RetryInfo) {\n    println(retryInfo)\n    throw Exception(\"Failed at $retryInfo\")\n  }\n\n  @DisplayName(\"Only fail once\")\n  @Retry(invocationCount = 5, minSuccess = 4)\n  internal fun succeedOnRetry(retryInfo: RetryInfo) {\n    if (retryInfo.invocation == 1) {\n      throw Exception(\"Failed at ${retryInfo.invocation}\")\n    }\n  }\n\n  @DisplayName(\"Only requires single success and is first execution\")\n  @Retry(invocationCount = 5, minSuccess = 1)\n  internal fun firstSuccess(retryInfo: RetryInfo) {\n    println(\"Running: $retryInfo\")\n  }\n\n  @DisplayName(\"Only requires single success and is last execution\")\n  @Retry(invocationCount = 5, minSuccess = 1)\n  internal fun lastSuccess(retryInfo: RetryInfo) {\n    if (retryInfo.invocation &lt; 5) {\n      throw Exception(\"Failed at ${retryInfo.invocation}\")\n    }\n  }\n\n  @DisplayName(\"All required all succeed\")\n  @Retry(invocationCount = 5, minSuccess = 5)\n  internal fun allRequiredAllSucceed(retryInfo: RetryInfo) {\n    println(\"Running: $retryInfo\")\n  }\n\n  @DisplayName(\"Fail early and disable\")\n  @Retry(invocationCount = 5, minSuccess = 4)\n  internal fun failEarly(retryInfo: RetryInfo) {\n    throw Exception(\"Failed at ${retryInfo.invocation}\")\n  }\n}\n</code></pre>\n\n<p>And the test output in IntelliJ looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0oeQN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0oeQN.png\" alt=\"IntelliJ test output\"></a></p>\n\n<p>I don't know if throwing a <code>TestAbortedException</code> from the <code>TestExecutionExceptionHandler.handleTestExecutionException</code> is supposed to abort the test, but I am using it here.</p>\n"},{"comments":[{"owner":{"account_id":4841186,"reputation":180,"user_id":3906175,"accept_rate":100,"display_name":"Buzz"},"score":0,"creation_date":1554904456,"post_id":46553644,"comment_id":97922465,"body_markdown":"Can your extension work with parallel executed tests? And does it work with ParameterizedTests?","body":"Can your extension work with parallel executed tests? And does it work with ParameterizedTests?"},{"owner":{"account_id":372886,"reputation":581,"user_id":1168319,"accept_rate":83,"display_name":"InfernalRapture"},"score":0,"creation_date":1565719716,"post_id":46553644,"comment_id":101437679,"body_markdown":"Thanks for this, I have an unstable test suit and this is exactly what I need.","body":"Thanks for this, I have an unstable test suit and this is exactly what I need."},{"owner":{"account_id":1245793,"reputation":3093,"user_id":1207289,"accept_rate":84,"display_name":"user1207289"},"score":0,"creation_date":1615334265,"post_id":46553644,"comment_id":117658157,"body_markdown":"When I am including this dependency `rerunner-jupiter`, I am receiving this error on running the tests, without even using  `@RepeatedIfExceptionsTest` in tests `java.lang.NoClassDefFoundError: org/junit/jupiter/api/extension/ScriptEvaluationException` .  Any idea , how to resolve this?","body":"When I am including this dependency <code>rerunner-jupiter</code>, I am receiving this error on running the tests, without even using  <code>@RepeatedIfExceptionsTest</code> in tests <code>java.lang.NoClassDefFoundError: org&#47;junit&#47;jupiter&#47;api&#47;extension&#47;ScriptEvaluationException</code> .  Any idea , how to resolve this?"},{"owner":{"account_id":7370883,"reputation":151,"user_id":5611068,"accept_rate":25,"display_name":"Abhilash Mandaliya"},"score":1,"creation_date":1648536636,"post_id":46553644,"comment_id":126641939,"body_markdown":"@Buzz the answer is no as per this blog: https://www.swtestacademy.com/junit-5-how-to-repeat-failed-test/","body":"@Buzz the answer is no as per this blog: <a href=\"https://www.swtestacademy.com/junit-5-how-to-repeat-failed-test/\" rel=\"nofollow noreferrer\">swtestacademy.com/junit-5-how-to-repeat-failed-test</a>"}],"tags":[],"owner":{"account_id":11911424,"reputation":139,"user_id":8716548,"display_name":"artsok"},"comment_count":4,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1507403264,"creation_date":1507065713,"answer_id":46553644,"question_id":46181026,"body_markdown":"U can try this extension for junit 5.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.github.artsok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;rerunner-jupiter&lt;/artifactId&gt;\r\n        &lt;version&gt;LATEST&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n\r\nExamples:\r\n\r\n         /** \r\n            * Repeated three times if test failed.\r\n            * By default Exception.class will be handled in test\r\n            */\r\n           @RepeatedIfExceptionsTest(repeats = 3)\r\n           void reRunTest() throws IOException {\r\n               throw new IOException(&quot;Error in Test&quot;);\r\n           }\r\n       \r\n       \r\n           /**\r\n            * Repeated two times if test failed. Set IOException.class that will be handled in test\r\n            * @throws IOException - error occurred\r\n            */\r\n           @RepeatedIfExceptionsTest(repeats = 2, exceptions = IOException.class)\r\n           void reRunTest2() throws IOException {\r\n               throw new IOException(&quot;Exception in I/O operation&quot;);\r\n           }\r\n       \r\n       \r\n           /**\r\n            * Repeated ten times if test failed. Set IOException.class that will be handled in test\r\n            * Set formatter for test. Like behavior as at {@link org.junit.jupiter.api.RepeatedTest}\r\n            * @throws IOException - error occurred\r\n            */\r\n           @RepeatedIfExceptionsTest(repeats = 10, exceptions = IOException.class, \r\n           name = &quot;Rerun failed test. Attempt {currentRepetition} of {totalRepetitions}&quot;)\r\n           void reRunTest3() throws IOException {\r\n               throw new IOException(&quot;Exception in I/O operation&quot;);\r\n           }\r\n           \r\n           /**\r\n           * Repeated 100 times with minimum success four times, then disabled all remaining repeats.\r\n           * See image below how it works. Default exception is Exception.class\r\n           */\r\n           @DisplayName(&quot;Test Case Name&quot;)\r\n           @RepeatedIfExceptionsTest(repeats = 100, minSuccess = 4)\r\n           void reRunTest4() {\r\n                if(random.nextInt() % 2 == 0) {\r\n                    throw new RuntimeException(&quot;Error in Test&quot;);\r\n                }\r\n           }\r\n\r\n\r\nView at IDEA: \r\n\r\n![IDEA looks like][1]\r\n\r\nWith minimum success four times then disables all other:\r\n![With minimum success four times then disables all other][2]\r\n\r\n\r\nYou can also mix @RepeatedIfExceptionsTest with @DisplayName\r\n\r\n[source -&gt; github][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G6Qih.png\r\n  [2]: https://i.stack.imgur.com/di5S8.png\r\n  [3]: https://github.com/artsok/rerunner-jupiter","title":"JUnit5: How to repeat failed test?","body":"<p>U can try this extension for junit 5.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.artsok&lt;/groupId&gt;\n    &lt;artifactId&gt;rerunner-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;LATEST&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n\n<p>Examples:</p>\n\n<pre><code>     /** \n        * Repeated three times if test failed.\n        * By default Exception.class will be handled in test\n        */\n       @RepeatedIfExceptionsTest(repeats = 3)\n       void reRunTest() throws IOException {\n           throw new IOException(\"Error in Test\");\n       }\n\n\n       /**\n        * Repeated two times if test failed. Set IOException.class that will be handled in test\n        * @throws IOException - error occurred\n        */\n       @RepeatedIfExceptionsTest(repeats = 2, exceptions = IOException.class)\n       void reRunTest2() throws IOException {\n           throw new IOException(\"Exception in I/O operation\");\n       }\n\n\n       /**\n        * Repeated ten times if test failed. Set IOException.class that will be handled in test\n        * Set formatter for test. Like behavior as at {@link org.junit.jupiter.api.RepeatedTest}\n        * @throws IOException - error occurred\n        */\n       @RepeatedIfExceptionsTest(repeats = 10, exceptions = IOException.class, \n       name = \"Rerun failed test. Attempt {currentRepetition} of {totalRepetitions}\")\n       void reRunTest3() throws IOException {\n           throw new IOException(\"Exception in I/O operation\");\n       }\n\n       /**\n       * Repeated 100 times with minimum success four times, then disabled all remaining repeats.\n       * See image below how it works. Default exception is Exception.class\n       */\n       @DisplayName(\"Test Case Name\")\n       @RepeatedIfExceptionsTest(repeats = 100, minSuccess = 4)\n       void reRunTest4() {\n            if(random.nextInt() % 2 == 0) {\n                throw new RuntimeException(\"Error in Test\");\n            }\n       }\n</code></pre>\n\n<p>View at IDEA: </p>\n\n<p><img src=\"https://i.stack.imgur.com/G6Qih.png\" alt=\"IDEA looks like\"></p>\n\n<p>With minimum success four times then disables all other:\n<img src=\"https://i.stack.imgur.com/di5S8.png\" alt=\"With minimum success four times then disables all other\"></p>\n\n<p>You can also mix @RepeatedIfExceptionsTest with @DisplayName</p>\n\n<p><a href=\"https://github.com/artsok/rerunner-jupiter\" rel=\"noreferrer\">source -> github</a></p>\n"},{"comments":[{"owner":{"account_id":1473688,"reputation":164,"user_id":1384628,"display_name":"vanangelov"},"score":0,"creation_date":1547111019,"post_id":50199111,"comment_id":95081558,"body_markdown":"There is a feature request for that - https://issues.apache.org/jira/browse/SUREFIRE-1584","body":"There is a feature request for that - <a href=\"https://issues.apache.org/jira/browse/SUREFIRE-1584\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/SUREFIRE-1584</a>"}],"tags":[],"owner":{"account_id":3579333,"reputation":885,"user_id":2987910,"display_name":"arcuri82"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1525605734,"creation_date":1525605734,"answer_id":50199111,"question_id":46181026,"body_markdown":"if you are running tests via Maven, with Surefire you care re-run failing tests automatically by using [`rerunFailingTestsCount`][1].\r\n\r\nHowever, as of 2.21.0, that does not work for JUnit 5 (only 4.x). But hopefully it will be supported in the next releases. \r\n\r\n\r\n  [1]: http://maven.apache.org/surefire/maven-surefire-plugin/examples/rerun-failing-tests.html","title":"JUnit5: How to repeat failed test?","body":"<p>if you are running tests via Maven, with Surefire you care re-run failing tests automatically by using <a href=\"http://maven.apache.org/surefire/maven-surefire-plugin/examples/rerun-failing-tests.html\" rel=\"nofollow noreferrer\"><code>rerunFailingTestsCount</code></a>.</p>\n\n<p>However, as of 2.21.0, that does not work for JUnit 5 (only 4.x). But hopefully it will be supported in the next releases. </p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613015733,"creation_date":1613015733,"answer_id":66148549,"question_id":46181026,"body_markdown":"If you happen to be running your tests using the [Gradle](https://gradle.org) build tool, you can use the [Test Retry](https://github.com/gradle/test-retry-gradle-plugin) Gradle plugin.  This will rerun each failed test a certain number of times, with the option of failing the build if too many failures have occurred overall.\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;org.gradle.test-retry&#39; version &#39;1.2.0&#39;\r\n}\r\n\r\ntest {\r\n    retry {\r\n        maxRetries = 3\r\n        maxFailures = 20 // Optional attribute\r\n    }\r\n}\r\n```","title":"JUnit5: How to repeat failed test?","body":"<p>If you happen to be running your tests using the <a href=\"https://gradle.org\" rel=\"nofollow noreferrer\">Gradle</a> build tool, you can use the <a href=\"https://github.com/gradle/test-retry-gradle-plugin\" rel=\"nofollow noreferrer\">Test Retry</a> Gradle plugin.  This will rerun each failed test a certain number of times, with the option of failing the build if too many failures have occurred overall.</p>\n<pre><code>plugins {\n    id 'org.gradle.test-retry' version '1.2.0'\n}\n\ntest {\n    retry {\n        maxRetries = 3\n        maxFailures = 20 // Optional attribute\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28865354,"reputation":11,"user_id":22108252,"display_name":"Robert"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695905257,"creation_date":1695905257,"answer_id":77195085,"question_id":46181026,"body_markdown":"You [junit-pioneer][1] has implemented a [@RetryingTest(3)][2] which can be used instead of the @Test annotation together with JUnit5.\r\n\r\n    @RetryingTest(3)\r\n    void flakyTest() {\r\n      // this works most of the time\r\n    }\r\n\r\n\r\n\r\n  [1]: https://github.com/junit-pioneer/junit-pioneer\r\n  [2]: https://junit-pioneer.org/docs/retrying-test/","title":"JUnit5: How to repeat failed test?","body":"<p>You <a href=\"https://github.com/junit-pioneer/junit-pioneer\" rel=\"nofollow noreferrer\">junit-pioneer</a> has implemented a <a href=\"https://junit-pioneer.org/docs/retrying-test/\" rel=\"nofollow noreferrer\">@RetryingTest(3)</a> which can be used instead of the @Test annotation together with JUnit5.</p>\n<pre><code>@RetryingTest(3)\nvoid flakyTest() {\n  // this works most of the time\n}\n</code></pre>\n"}],"owner":{"account_id":48063,"reputation":4171,"user_id":142605,"accept_rate":55,"display_name":"dzieciou"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18041,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":46207476,"answer_count":5,"score":19,"last_activity_date":1695905257,"creation_date":1505232323,"question_id":46181026,"body_markdown":"One of the practice many companies follow is to repeat unstable test until is  passes *x* times (in a row or in total). If it is executed *n* times and fail to pass at least *x* times it is marked as failed.\r\n\r\nTestNG supports that with the following annotation:\r\n\r\n    @Test(invocationCount = 5, successPercentage = 40)\r\n\r\nHow do I realize similar functionality with JUnit5?\r\n\r\n\r\nThere&#39;s similar annotation in JUnit5, called `@RepeatedTest(5)` but it is not executed conditionally. \r\n","title":"JUnit5: How to repeat failed test?","body":"<p>One of the practice many companies follow is to repeat unstable test until is  passes <em>x</em> times (in a row or in total). If it is executed <em>n</em> times and fail to pass at least <em>x</em> times it is marked as failed.</p>\n\n<p>TestNG supports that with the following annotation:</p>\n\n<pre><code>@Test(invocationCount = 5, successPercentage = 40)\n</code></pre>\n\n<p>How do I realize similar functionality with JUnit5?</p>\n\n<p>There's similar annotation in JUnit5, called <code>@RepeatedTest(5)</code> but it is not executed conditionally. </p>\n"},{"tags":["java","spring","spring-boot","graphql"],"comments":[{"owner":{"account_id":16101320,"reputation":121,"user_id":11622006,"display_name":"Slongtong"},"score":0,"creation_date":1657285805,"post_id":72910695,"comment_id":128780739,"body_markdown":"From extended logs:\n\n \n**GraphQlAutoConfiguration:\n      Did not match:\n         - @ ConditionalOnGraphQlSchema** did not find schema files in locations &#39;classpath:graphql/**/&#39;; @ ConditionalOnGraphQlSchema did not find GraphQlSourceBuilderCustomizer (DefaultGraphQlSchemaCondition)\n\n**and as the result**\n\n GraphQlTesterAutoConfiguration#graphQlTester:\n      Did not match:\n         - @ ConditionalOnBean (types: org.springframework.graphql.ExecutionGraphQlService; SearchStrategy: all) did not find any beans of type org.springframework.graphql.ExecutionGraphQlService (OnBeanCondition)","body":"From extended logs:    <b>GraphQlAutoConfiguration:       Did not match:          - @ ConditionalOnGraphQlSchema</b> did not find schema files in locations &#39;classpath:graphql/**/&#39;; @ ConditionalOnGraphQlSchema did not find GraphQlSourceBuilderCustomizer (DefaultGraphQlSchemaCondition)  <b>and as the result</b>   GraphQlTesterAutoConfiguration#graphQlTester:       Did not match:          - @ ConditionalOnBean (types: org.springframework.graphql.ExecutionGraphQlService; SearchStrategy: all) did not find any beans of type org.springframework.graphql.ExecutionGraphQlService (OnBeanCondition)"}],"answers":[{"tags":[],"owner":{"account_id":15273415,"reputation":11,"user_id":11019911,"display_name":"DroidZed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695905004,"creation_date":1695905004,"answer_id":77195056,"question_id":72910695,"body_markdown":"here&#39;s how I fixed it:\r\n\r\nYou have to use Java 11 with your spring project, and select the 1.0.0 version of graphql-test. Else, you need at least java 17 for your project and the latest version of graphql-test.\r\n\r\n* For Java 11:\r\n\r\n```xml\r\n&lt;properties&gt;\r\n  &lt;java.version&gt;11&lt;/java.version&gt;\r\n  &lt;graphql.test.version&gt;1.0.0&lt;/graphql.test.version&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;!-- Dependencies --&gt;\r\n&lt;!-- GraphQL --&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-graphql-test&lt;/artifactId&gt;\r\n  &lt;version&gt;${graphql.test.version}&lt;/version&gt;\r\n  &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n* For Java 17+:\r\n```xml\r\n&lt;properties&gt;\r\n  &lt;java.version&gt;17&lt;/java.version&gt;\r\n  &lt;graphql.test.version&gt;1.2.3&lt;/graphql.test.version&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;!-- Dependencies --&gt;\r\n&lt;!-- GraphQL --&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-graphql-test&lt;/artifactId&gt;\r\n  &lt;version&gt;${graphql.test.version}&lt;/version&gt;\r\n  &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Can&#39;t autowire GraphQlTester","body":"<p>here's how I fixed it:</p>\n<p>You have to use Java 11 with your spring project, and select the 1.0.0 version of graphql-test. Else, you need at least java 17 for your project and the latest version of graphql-test.</p>\n<ul>\n<li>For Java 11:</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n  &lt;java.version&gt;11&lt;/java.version&gt;\n  &lt;graphql.test.version&gt;1.0.0&lt;/graphql.test.version&gt;\n&lt;/properties&gt;\n\n&lt;!-- Dependencies --&gt;\n&lt;!-- GraphQL --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-graphql-test&lt;/artifactId&gt;\n  &lt;version&gt;${graphql.test.version}&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ul>\n<li>For Java 17+:</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n  &lt;java.version&gt;17&lt;/java.version&gt;\n  &lt;graphql.test.version&gt;1.2.3&lt;/graphql.test.version&gt;\n&lt;/properties&gt;\n\n&lt;!-- Dependencies --&gt;\n&lt;!-- GraphQL --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-graphql-test&lt;/artifactId&gt;\n  &lt;version&gt;${graphql.test.version}&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":6043568,"reputation":169,"user_id":8642891,"display_name":"Miklosh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":624,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695905004,"creation_date":1657279546,"question_id":72910695,"body_markdown":"My current dependency set-up for demo api:\r\n\r\n\r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-graphql:2.7.2-SNAPSHOT&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test:2.7.2-SNAPSHOT&#39;\r\n    \ttestImplementation &#39;org.springframework:spring-webflux&#39;\r\n    \ttestImplementation &#39;org.springframework.graphql:spring-graphql-test:1.0.0&#39;\r\n    \r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    }\r\n\r\nTest class:\r\n\r\n    import com.example.demo.dao.ProfileDao;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.graphql.GraphQlTest;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.boot.test.mock.mockito.MockBean;\r\n    import org.springframework.graphql.test.tester.GraphQlTester;\r\n    \r\n    import static org.springframework.test.util.AssertionErrors.assertNotNull;\r\n    \r\n    @GraphQlTest\r\n    //@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    class DemoApplicationTests {\r\n    \r\n        @Autowired\r\n        GraphQlTester graphQlTester;\r\n        @MockBean\r\n        ProfileDao dao;\r\n    \r\n        @Test\r\n        void contextLoads() {\r\n            assertNotNull(&quot;graphQlTester null&quot;, graphQlTester);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nI&#39;ve tried few approaches from varios advices from internet like using SpringBootTest instead of GraphQlTest but nothing worked.","title":"Can&#39;t autowire GraphQlTester","body":"<p>My current dependency set-up for demo api:</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-graphql:2.7.2-SNAPSHOT'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n\n    testImplementation 'org.springframework.boot:spring-boot-starter-test:2.7.2-SNAPSHOT'\n    testImplementation 'org.springframework:spring-webflux'\n    testImplementation 'org.springframework.graphql:spring-graphql-test:1.0.0'\n\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n}\n</code></pre>\n<p>Test class:</p>\n<pre><code>import com.example.demo.dao.ProfileDao;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.graphql.GraphQlTest;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.graphql.test.tester.GraphQlTester;\n\nimport static org.springframework.test.util.AssertionErrors.assertNotNull;\n\n@GraphQlTest\n//@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\nclass DemoApplicationTests {\n\n    @Autowired\n    GraphQlTester graphQlTester;\n    @MockBean\n    ProfileDao dao;\n\n    @Test\n    void contextLoads() {\n        assertNotNull(&quot;graphQlTester null&quot;, graphQlTester);\n    }\n\n}\n</code></pre>\n<p>I've tried few approaches from varios advices from internet like using SpringBootTest instead of GraphQlTest but nothing worked.</p>\n"},{"tags":["java","spring-boot","tomcat","filter","spring-security"],"answers":[{"tags":[],"owner":{"account_id":28326980,"reputation":1,"user_id":21661835,"display_name":"Thom.Fri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695904842,"creation_date":1695904584,"answer_id":77195009,"question_id":76900776,"body_markdown":"I had more or less the same problem as you today and played around a lot, but unfortunately could not find the cause of the problem.\r\nWhat I did find, however, is that the error does not occur when using a Spring boot version &lt;=3.0.11 (i.e. any version &gt;= 3.1.0 failed), at least in my case.\r\n\r\nSo if downgrading is a possible workaround for you, just add `&lt;version&gt;3.0.11&lt;/version&gt;` to `pom.xml` under `&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;`, `&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;` and `&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;`.","title":"How to fix &quot;failed to register &#39;filter errorpagefilterregistration&#39; on the servlet context. possibly already registered?&quot;?","body":"<p>I had more or less the same problem as you today and played around a lot, but unfortunately could not find the cause of the problem.\nWhat I did find, however, is that the error does not occur when using a Spring boot version &lt;=3.0.11 (i.e. any version &gt;= 3.1.0 failed), at least in my case.</p>\n<p>So if downgrading is a possible workaround for you, just add <code>&lt;version&gt;3.0.11&lt;/version&gt;</code> to <code>pom.xml</code> under <code>&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;</code>, <code>&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;</code> and <code>&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;</code>.</p>\n"}],"owner":{"account_id":29222087,"reputation":21,"user_id":22387635,"display_name":"Cloudy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695904842,"creation_date":1692031938,"question_id":76900776,"body_markdown":"I run my app on tomcat 10.1.12 by war file and get\r\n\r\n[error message from log](https://i.stack.imgur.com/B7C80.png)\r\n\r\nbut if I run on Eclipse (Spring boot 3.1.2), it does not have problem.\r\n\r\nHelp me please! I try in every way that I can find.\r\n\r\ndependencies:\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\nSecurityConfig.java:\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\nimport backend.service.UsersService;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n\tprivate final UsersService usersService;\r\n\tprivate final JwtAuthorizationFilter jwtAuthorizationFilter;\r\n\r\n\tpublic SecurityConfig(UsersService usersService, JwtAuthorizationFilter jwtAuthorizationFilter) {\r\n\t\tthis.usersService = usersService;\r\n\t\tthis.jwtAuthorizationFilter = jwtAuthorizationFilter;\r\n\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManager(HttpSecurity http, BCryptPasswordEncoder bCryptPasswordEncoder)\r\n\t\t\tthrows Exception {\r\n\t\tAuthenticationManagerBuilder authenticationManagerBuilder = http\r\n\t\t\t\t.getSharedObject(AuthenticationManagerBuilder.class);\r\n\t\tauthenticationManagerBuilder.userDetailsService(usersService).passwordEncoder(bCryptPasswordEncoder);\r\n\t\treturn authenticationManagerBuilder.build();\r\n\t}\r\n\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\t\r\n\t\thttp.csrf(AbstractHttpConfigurer::disable).authorizeHttpRequests((requests) -&gt; requests\r\n\t            .requestMatchers(&quot;/api/authtoken/**&quot;).permitAll()\r\n\t            .anyRequest()\r\n\t            .authenticated())\r\n\t\t.addFilterBefore(jwtAuthorizationFilter, UsernamePasswordAuthenticationFilter.class)\r\n\t\t.sessionManagement((session) -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n\r\n\t\treturn http.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic BCryptPasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nJwtAuthorizationFilter.java:\r\n```\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport io.jsonwebtoken.Claims;\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@Component\r\npublic class JwtAuthorizationFilter extends OncePerRequestFilter {\r\n\r\n    private final JwtUtil jwtUtil;\r\n    private final ObjectMapper mapper;\r\n\r\n    public JwtAuthorizationFilter(JwtUtil jwtUtil, ObjectMapper mapper) {\r\n        this.jwtUtil = jwtUtil;\r\n        this.mapper = mapper;\r\n    }\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n    \t\r\n        Map&lt;String, Object&gt; errorDetails = new HashMap&lt;&gt;();\r\n\r\n        try {\r\n            String accessToken = jwtUtil.resolveToken(request);\r\n            if (accessToken == null ) {\r\n                filterChain.doFilter(request, response);\r\n                return;\r\n            }\r\n            Claims claims = jwtUtil.resolveClaims(request);\r\n\r\n            if(claims != null &amp; jwtUtil.validateClaims(claims)){\r\n                String email = claims.getSubject();\r\n                Authentication authentication =\r\n                        new UsernamePasswordAuthenticationToken(email,&quot;&quot;,new ArrayList&lt;&gt;());\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n            }\r\n\r\n        }catch (Exception e){\r\n            errorDetails.put(&quot;message&quot;, &quot;Authentication Error&quot;);\r\n            errorDetails.put(&quot;details&quot;,e.getMessage());\r\n            response.setStatus(HttpStatus.FORBIDDEN.value());\r\n            response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n\r\n            mapper.writeValue(response.getWriter(), errorDetails);\r\n\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\nJwtUtil.java:\r\n```\r\nimport io.jsonwebtoken.*;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport org.springframework.security.core.AuthenticationException;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport backend.model.Users;\r\n\r\nimport java.util.Date;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\n@Component\r\npublic class JwtUtil {\r\n\r\n    private final String secret_key = &quot;testSecretKeyForAPIProjectNumber1AndTestSecretKeyForTestProjectNumber1&quot;;\r\n    private long accessTokenValidity = 10;\r\n\r\n    private final JwtParser jwtParser;\r\n\r\n    private final String TOKEN_HEADER = &quot;Authorization&quot;;\r\n    private final String TOKEN_PREFIX = &quot;Bearer &quot;;\r\n\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n\tpublic JwtUtil(){\r\n        this.jwtParser = Jwts.parser().setSigningKey(secret_key);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n\tpublic String createToken(Users user) {\r\n        Claims claims = Jwts.claims().setSubject(user.getUsername());\r\n        claims.put(&quot;firstName&quot;,user.getFirstName());\r\n        claims.put(&quot;lastName&quot;,user.getLastName());\r\n        Date tokenCreateTime = new Date();\r\n        Date tokenValidity = new Date(tokenCreateTime.getTime() + TimeUnit.MINUTES.toMillis(accessTokenValidity));\r\n        return Jwts.builder()\r\n                .setClaims(claims)\r\n                .setExpiration(tokenValidity)\r\n                .signWith(SignatureAlgorithm.HS256, secret_key)\r\n                .compact();\r\n    }\r\n\r\n    private Claims parseJwtClaims(String token) {\r\n        return jwtParser.parseClaimsJws(token).getBody();\r\n    }\r\n\r\n    public Claims resolveClaims(HttpServletRequest req) {\r\n        try {\r\n            String token = resolveToken(req);\r\n            if (token != null) {\r\n                return parseJwtClaims(token);\r\n            }\r\n            return null;\r\n        } catch (ExpiredJwtException ex) {\r\n            req.setAttribute(&quot;expired&quot;, ex.getMessage());\r\n            throw ex;\r\n        } catch (Exception ex) {\r\n            req.setAttribute(&quot;invalid&quot;, ex.getMessage());\r\n            throw ex;\r\n        }\r\n    }\r\n\r\n    public String resolveToken(HttpServletRequest request) {\r\n\r\n        String bearerToken = request.getHeader(TOKEN_HEADER);\r\n        \r\n        if (bearerToken != null &amp;&amp; bearerToken.startsWith(TOKEN_PREFIX)) {\r\n            return bearerToken.substring(TOKEN_PREFIX.length());\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public boolean validateClaims(Claims claims) throws AuthenticationException {\r\n        try {\r\n            return claims.getExpiration().after(new Date());\r\n        } catch (Exception e) {\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    public String getEmail(Claims claims) {\r\n        return claims.getSubject();\r\n    }\r\n\r\n}\r\n```\r\n\r\nUsersService:\r\n```\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport backend.model.Users;\r\nimport backend.repository.UsersRepository;\r\n\r\n@Service\r\npublic class UsersService implements UserDetailsService {\r\n\t\r\n\tprivate UsersRepository userRepository;\r\n    public UsersService(UsersRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n    \r\n    public Users getByUsername (String username) {\r\n        return userRepository.getByUsername(username);\r\n    }\r\n    \r\n    public Users getByEmail (String email) {\r\n        return userRepository.getByEmail(email);\r\n    }\r\n    \r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n    \tUsers user = userRepository.getByUsername(username);\r\n        UserDetails userDetails =\r\n                org.springframework.security.core.userdetails.User.builder()\r\n                        .username(user.getUsername())\r\n                        .password(user.getPassword())\r\n                        .build();\r\n        return userDetails;\r\n    }\r\n}\r\n```\r\n\r\napplication.properties:\r\n```\r\nspringdoc.api-docs.path=/api-docs\r\n\r\nspringdoc.swagger-ui.path=/swagger-ui-custom.html\r\n\r\nspring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\nspring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=testProjectDB;encrypt=false\r\nspring.datasource.username=sa\r\nspring.datasource.password=1234\r\n\r\nspring.jpa.database-platform=org.hibernate.dialect.SQLServerDialect\r\nspring.jpa.mapping-resources=Users.hbm.xml,MeterProfileDetail.hbm.xml,TblMeter.hbm.xml,TblEnergy.hbm.xml,TblElectrical.hbm.xml\r\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\nspring.resources.static-locations classpath:/resources/\r\n\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect\r\n\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type=TRACE\r\nspring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\r\n```\r\n","title":"How to fix &quot;failed to register &#39;filter errorpagefilterregistration&#39; on the servlet context. possibly already registered?&quot;?","body":"<p>I run my app on tomcat 10.1.12 by war file and get</p>\n<p><a href=\"https://i.stack.imgur.com/B7C80.png\" rel=\"nofollow noreferrer\">error message from log</a></p>\n<p>but if I run on Eclipse (Spring boot 3.1.2), it does not have problem.</p>\n<p>Help me please! I try in every way that I can find.</p>\n<p>dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.1&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>SecurityConfig.java:</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\nimport backend.service.UsersService;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    private final UsersService usersService;\n    private final JwtAuthorizationFilter jwtAuthorizationFilter;\n\n    public SecurityConfig(UsersService usersService, JwtAuthorizationFilter jwtAuthorizationFilter) {\n        this.usersService = usersService;\n        this.jwtAuthorizationFilter = jwtAuthorizationFilter;\n\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(HttpSecurity http, BCryptPasswordEncoder bCryptPasswordEncoder)\n            throws Exception {\n        AuthenticationManagerBuilder authenticationManagerBuilder = http\n                .getSharedObject(AuthenticationManagerBuilder.class);\n        authenticationManagerBuilder.userDetailsService(usersService).passwordEncoder(bCryptPasswordEncoder);\n        return authenticationManagerBuilder.build();\n    }\n\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        \n        http.csrf(AbstractHttpConfigurer::disable).authorizeHttpRequests((requests) -&gt; requests\n                .requestMatchers(&quot;/api/authtoken/**&quot;).permitAll()\n                .anyRequest()\n                .authenticated())\n        .addFilterBefore(jwtAuthorizationFilter, UsernamePasswordAuthenticationFilter.class)\n        .sessionManagement((session) -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n\n        return http.build();\n    }\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n}\n</code></pre>\n<p>JwtAuthorizationFilter.java:</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport io.jsonwebtoken.Claims;\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Map;\n\n@Component\npublic class JwtAuthorizationFilter extends OncePerRequestFilter {\n\n    private final JwtUtil jwtUtil;\n    private final ObjectMapper mapper;\n\n    public JwtAuthorizationFilter(JwtUtil jwtUtil, ObjectMapper mapper) {\n        this.jwtUtil = jwtUtil;\n        this.mapper = mapper;\n    }\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        \n        Map&lt;String, Object&gt; errorDetails = new HashMap&lt;&gt;();\n\n        try {\n            String accessToken = jwtUtil.resolveToken(request);\n            if (accessToken == null ) {\n                filterChain.doFilter(request, response);\n                return;\n            }\n            Claims claims = jwtUtil.resolveClaims(request);\n\n            if(claims != null &amp; jwtUtil.validateClaims(claims)){\n                String email = claims.getSubject();\n                Authentication authentication =\n                        new UsernamePasswordAuthenticationToken(email,&quot;&quot;,new ArrayList&lt;&gt;());\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n\n            }\n\n        }catch (Exception e){\n            errorDetails.put(&quot;message&quot;, &quot;Authentication Error&quot;);\n            errorDetails.put(&quot;details&quot;,e.getMessage());\n            response.setStatus(HttpStatus.FORBIDDEN.value());\n            response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n\n            mapper.writeValue(response.getWriter(), errorDetails);\n\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>JwtUtil.java:</p>\n<pre><code>import io.jsonwebtoken.*;\nimport jakarta.servlet.http.HttpServletRequest;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.stereotype.Component;\n\nimport backend.model.Users;\n\nimport java.util.Date;\nimport java.util.concurrent.TimeUnit;\n\n@Component\npublic class JwtUtil {\n\n    private final String secret_key = &quot;testSecretKeyForAPIProjectNumber1AndTestSecretKeyForTestProjectNumber1&quot;;\n    private long accessTokenValidity = 10;\n\n    private final JwtParser jwtParser;\n\n    private final String TOKEN_HEADER = &quot;Authorization&quot;;\n    private final String TOKEN_PREFIX = &quot;Bearer &quot;;\n\n    @SuppressWarnings(&quot;deprecation&quot;)\n    public JwtUtil(){\n        this.jwtParser = Jwts.parser().setSigningKey(secret_key);\n    }\n\n    @SuppressWarnings(&quot;deprecation&quot;)\n    public String createToken(Users user) {\n        Claims claims = Jwts.claims().setSubject(user.getUsername());\n        claims.put(&quot;firstName&quot;,user.getFirstName());\n        claims.put(&quot;lastName&quot;,user.getLastName());\n        Date tokenCreateTime = new Date();\n        Date tokenValidity = new Date(tokenCreateTime.getTime() + TimeUnit.MINUTES.toMillis(accessTokenValidity));\n        return Jwts.builder()\n                .setClaims(claims)\n                .setExpiration(tokenValidity)\n                .signWith(SignatureAlgorithm.HS256, secret_key)\n                .compact();\n    }\n\n    private Claims parseJwtClaims(String token) {\n        return jwtParser.parseClaimsJws(token).getBody();\n    }\n\n    public Claims resolveClaims(HttpServletRequest req) {\n        try {\n            String token = resolveToken(req);\n            if (token != null) {\n                return parseJwtClaims(token);\n            }\n            return null;\n        } catch (ExpiredJwtException ex) {\n            req.setAttribute(&quot;expired&quot;, ex.getMessage());\n            throw ex;\n        } catch (Exception ex) {\n            req.setAttribute(&quot;invalid&quot;, ex.getMessage());\n            throw ex;\n        }\n    }\n\n    public String resolveToken(HttpServletRequest request) {\n\n        String bearerToken = request.getHeader(TOKEN_HEADER);\n        \n        if (bearerToken != null &amp;&amp; bearerToken.startsWith(TOKEN_PREFIX)) {\n            return bearerToken.substring(TOKEN_PREFIX.length());\n        }\n        return null;\n    }\n\n    public boolean validateClaims(Claims claims) throws AuthenticationException {\n        try {\n            return claims.getExpiration().after(new Date());\n        } catch (Exception e) {\n            throw e;\n        }\n    }\n\n    public String getEmail(Claims claims) {\n        return claims.getSubject();\n    }\n\n}\n</code></pre>\n<p>UsersService:</p>\n<pre><code>import org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport backend.model.Users;\nimport backend.repository.UsersRepository;\n\n@Service\npublic class UsersService implements UserDetailsService {\n    \n    private UsersRepository userRepository;\n    public UsersService(UsersRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n    \n    public Users getByUsername (String username) {\n        return userRepository.getByUsername(username);\n    }\n    \n    public Users getByEmail (String email) {\n        return userRepository.getByEmail(email);\n    }\n    \n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        Users user = userRepository.getByUsername(username);\n        UserDetails userDetails =\n                org.springframework.security.core.userdetails.User.builder()\n                        .username(user.getUsername())\n                        .password(user.getPassword())\n                        .build();\n        return userDetails;\n    }\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>springdoc.api-docs.path=/api-docs\n\nspringdoc.swagger-ui.path=/swagger-ui-custom.html\n\nspring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=testProjectDB;encrypt=false\nspring.datasource.username=sa\nspring.datasource.password=1234\n\nspring.jpa.database-platform=org.hibernate.dialect.SQLServerDialect\nspring.jpa.mapping-resources=Users.hbm.xml,MeterProfileDetail.hbm.xml,TblMeter.hbm.xml,TblEnergy.hbm.xml,TblElectrical.hbm.xml\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\nspring.resources.static-locations classpath:/resources/\n\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect\n\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type=TRACE\nspring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\n</code></pre>\n"},{"tags":["java","android","xml","marquee"],"answers":[{"comments":[{"owner":{"account_id":28614835,"reputation":1,"user_id":21909073,"display_name":"Aymeric Goes"},"score":0,"creation_date":1695992909,"post_id":77195014,"comment_id":136100496,"body_markdown":"I&#39;ll try that thanks","body":"I&#39;ll try that thanks"},{"owner":{"account_id":28614835,"reputation":1,"user_id":21909073,"display_name":"Aymeric Goes"},"score":0,"creation_date":1696275650,"post_id":77195014,"comment_id":136129799,"body_markdown":"It works! But only for the first 5 elements or so that&#39;s weird","body":"It works! But only for the first 5 elements or so that&#39;s weird"}],"tags":[],"owner":{"account_id":7313335,"reputation":4794,"user_id":5571795,"display_name":"Hezy Ziv"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695904648,"creation_date":1695904648,"answer_id":77195014,"question_id":77194634,"body_markdown":"you can disable the specific view in the recycleView \r\n\r\n    @Override\r\n    public void onViewRecycled(@NonNull RecyclerView.ViewHolder holder) {\r\n        if (holder instanceof YourViewHolderType) {\r\n            holder.setIsRecyclable(false);\r\n        }\r\n        super.onViewRecycled(holder);\r\n    }\r\n\r\n","title":"Marquee text not moving inside RecyclerView","body":"<p>you can disable the specific view in the recycleView</p>\n<pre><code>@Override\npublic void onViewRecycled(@NonNull RecyclerView.ViewHolder holder) {\n    if (holder instanceof YourViewHolderType) {\n        holder.setIsRecyclable(false);\n    }\n    super.onViewRecycled(holder);\n}\n</code></pre>\n"}],"owner":{"account_id":28614835,"reputation":1,"user_id":21909073,"display_name":"Aymeric Goes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695904648,"creation_date":1695901299,"question_id":77194634,"body_markdown":"Here&#39;s my textview :\r\n\r\n```\r\n&lt;TextView\r\n            android:id=&quot;@+id/event_cell_title&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;17.5dp&quot;\r\n            android:textSize=&quot;13sp&quot;\r\n            android:fontFamily=&quot;@font/poppins_regular&quot;\r\n            android:text=&quot;Single-line text view that scrolls automatically if the text is too long to fit in the widget&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            android:layout_toRightOf=&quot;@+id/event_cell_cardview&quot;\r\n            android:ellipsize=&quot;marquee&quot;\r\n            android:focusable=&quot;true&quot;\r\n            android:focusableInTouchMode=&quot;true&quot;\r\n            android:marqueeRepeatLimit=&quot;marquee_forever&quot;\r\n            android:singleLine=&quot;true&quot;\r\n            android:scrollHorizontally=&quot;true&quot;/&gt;\r\n```\r\n\r\nthen in the recycler adapter, in this function :\r\n\r\n    \r\n```\r\n@Override\r\n    public void onBindViewHolder(EventsItemView holder, int position) {\r\n        holder.title.setSelected(true);\r\n        events.get(position).fillEvent(holder, context);\r\n    }\r\n```\r\n\r\nbut the text is not moving :(\r\n\r\nI want my Textview with marquee to move horizontally when the text is too long","title":"Marquee text not moving inside RecyclerView","body":"<p>Here's my textview :</p>\n<pre><code>&lt;TextView\n            android:id=&quot;@+id/event_cell_title&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;17.5dp&quot;\n            android:textSize=&quot;13sp&quot;\n            android:fontFamily=&quot;@font/poppins_regular&quot;\n            android:text=&quot;Single-line text view that scrolls automatically if the text is too long to fit in the widget&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_marginLeft=&quot;10dp&quot;\n            android:layout_toRightOf=&quot;@+id/event_cell_cardview&quot;\n            android:ellipsize=&quot;marquee&quot;\n            android:focusable=&quot;true&quot;\n            android:focusableInTouchMode=&quot;true&quot;\n            android:marqueeRepeatLimit=&quot;marquee_forever&quot;\n            android:singleLine=&quot;true&quot;\n            android:scrollHorizontally=&quot;true&quot;/&gt;\n</code></pre>\n<p>then in the recycler adapter, in this function :</p>\n<pre><code>@Override\n    public void onBindViewHolder(EventsItemView holder, int position) {\n        holder.title.setSelected(true);\n        events.get(position).fillEvent(holder, context);\n    }\n</code></pre>\n<p>but the text is not moving :(</p>\n<p>I want my Textview with marquee to move horizontally when the text is too long</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":13425584,"reputation":94,"user_id":9687067,"display_name":"Singgih Suryo P"},"score":1,"creation_date":1616397093,"post_id":66741540,"comment_id":117978860,"body_markdown":"Is there any specifiy needs of using inMemoryAuthentication()? Or is it okay to use another type of authentication?","body":"Is there any specifiy needs of using inMemoryAuthentication()? Or is it okay to use another type of authentication?"},{"owner":{"account_id":12527141,"reputation":747,"user_id":9390343,"display_name":"jms"},"score":2,"creation_date":1616399807,"post_id":66741540,"comment_id":117979701,"body_markdown":"InMemoryAuthentication is basically used to provide a static set of users (probably only for testing purposes).  You need to provide a proper signup flow if you need to provide dynamic user creation support","body":"InMemoryAuthentication is basically used to provide a static set of users (probably only for testing purposes).  You need to provide a proper signup flow if you need to provide dynamic user creation support"},{"owner":{"account_id":20531987,"reputation":21,"user_id":15068980,"display_name":"jason kai"},"score":0,"creation_date":1616465796,"post_id":66741540,"comment_id":118005384,"body_markdown":"no, Just want to use simple way to handle dynamic user creation or update user detail","body":"no, Just want to use simple way to handle dynamic user creation or update user detail"},{"owner":{"account_id":20531987,"reputation":21,"user_id":15068980,"display_name":"jason kai"},"score":0,"creation_date":1616489985,"post_id":66741540,"comment_id":118011327,"body_markdown":"inMemoryAuthentication is for fixed user. could I use UserDetailsService dynamic  Authentication ?","body":"inMemoryAuthentication is for fixed user. could I use UserDetailsService dynamic  Authentication ?"}],"answers":[{"comments":[{"owner":{"account_id":20531987,"reputation":21,"user_id":15068980,"display_name":"jason kai"},"score":0,"creation_date":1616466114,"post_id":66751933,"comment_id":118005441,"body_markdown":"thx. I use the method provided by you to solve new log in problem, but it can not handle problem when user change password then log in.","body":"thx. I use the method provided by you to solve new log in problem, but it can not handle problem when user change password then log in."},{"owner":{"account_id":3021841,"reputation":129,"user_id":2562675,"display_name":"thiagotrss"},"score":0,"creation_date":1616524255,"post_id":66751933,"comment_id":118028056,"body_markdown":"I am not understanding your problem. If you changed the password in database and change de user in Spring-security, your user is already updated and logged. You don&#39;t have to do nothing else","body":"I am not understanding your problem. If you changed the password in database and change de user in Spring-security, your user is already updated and logged. You don&#39;t have to do nothing else"},{"owner":{"account_id":20531987,"reputation":21,"user_id":15068980,"display_name":"jason kai"},"score":0,"creation_date":1616571653,"post_id":66751933,"comment_id":118040944,"body_markdown":"yes , that situation can work,but the user will not be authenticated by spring security when first log out and then log in.","body":"yes , that situation can work,but the user will not be authenticated by spring security when first log out and then log in."}],"tags":[],"owner":{"account_id":3021841,"reputation":129,"user_id":2562675,"display_name":"thiagotrss"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616437970,"creation_date":1616437970,"answer_id":66751933,"question_id":66741540,"body_markdown":"When you do the login process, spring boots saves the user profile in memory.\r\nIf you add a new ROLE for a logged user for example and save in database, the user profile in memory didn&#39;t change and thats why you have to update this data.\r\n\r\nYou can make it with:\r\n\r\n    User user = userService.findById(idUser);\r\n\t\tSecurityContextHolder.getContext().setAuthentication(new UsernamePasswordAuthenticationToken(user, user.getPassword(), user.getRoles()));\r\n\r\n\r\nWith this command, you update the user profile in spring-security memory.\r\n\r\n\r\n\r\n","title":"How to add a new User with Spring Security without restart spring boot","body":"<p>When you do the login process, spring boots saves the user profile in memory.\nIf you add a new ROLE for a logged user for example and save in database, the user profile in memory didn't change and thats why you have to update this data.</p>\n<p>You can make it with:</p>\n<pre><code>User user = userService.findById(idUser);\n    SecurityContextHolder.getContext().setAuthentication(new UsernamePasswordAuthenticationToken(user, user.getPassword(), user.getRoles()));\n</code></pre>\n<p>With this command, you update the user profile in spring-security memory.</p>\n"},{"tags":[],"owner":{"account_id":20531987,"reputation":21,"user_id":15068980,"display_name":"jason kai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695904105,"creation_date":1616513818,"answer_id":66766402,"question_id":66741540,"body_markdown":"thanks all,\r\nI found the solution.\r\n\r\n```\r\n\r\n@EnableWebSecurity\r\n\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\r\n    @Autowired\r\n    MyUserDetailsService myUserDetailsService;\r\n\r\n    Logger logger = Logger.getLogger(this.getClass());\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n     \r\n        http.csrf().disable();\r\n        \r\n        http.addFilterBefore(new loginFilter(), AnonymousAuthenticationFilter.class).\r\n                authorizeRequests().antMatchers(&quot;/&quot;,&quot;/register/**&quot;,&quot;/log/**&quot;).permitAll();\r\n\r\n        \r\n        http.formLogin().loginPage(&quot;/log/toLogin&quot;)\r\n                        .loginProcessingUrl(&quot;/log/login&quot;) \r\n                        .usernameParameter(&quot;memacc&quot;)\r\n                        .passwordParameter(&quot;mempwd&quot;);\r\n        http.logout().logoutSuccessUrl(&quot;/&quot;);\r\n    }\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(myUserDetailsService);\r\n    }\r\n}\r\n```\r\n\r\nuse the class implement UserDetailsService inteface. when user log in then authentate that user.\r\n\r\n```\r\n@Service\r\npublic class MyUserDetailsService implements UserDetailsService {\r\n\r\n    @Autowired\r\n    MemberMapper memberMapper;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n\r\n        Members member = memberMapper.getOneMemberByMemacc(username);\r\n        if(member == null)\r\n            throw new UsernameNotFoundException(username + &quot; not found&quot;);\r\n        UserDetails userDetails = User.builder()\r\n                .username(member.getMemacc())\r\n                .password(&quot;{noop}&quot; + member.getMempwd())\r\n                .roles(member.getRoleList()).build();\r\n        return userDetails;\r\n    }\r\n}\r\n```","title":"How to add a new User with Spring Security without restart spring boot","body":"<p>thanks all,\nI found the solution.</p>\n<pre><code>\n@EnableWebSecurity\n\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n\n    @Autowired\n    MyUserDetailsService myUserDetailsService;\n\n    Logger logger = Logger.getLogger(this.getClass());\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n     \n        http.csrf().disable();\n        \n        http.addFilterBefore(new loginFilter(), AnonymousAuthenticationFilter.class).\n                authorizeRequests().antMatchers(&quot;/&quot;,&quot;/register/**&quot;,&quot;/log/**&quot;).permitAll();\n\n        \n        http.formLogin().loginPage(&quot;/log/toLogin&quot;)\n                        .loginProcessingUrl(&quot;/log/login&quot;) \n                        .usernameParameter(&quot;memacc&quot;)\n                        .passwordParameter(&quot;mempwd&quot;);\n        http.logout().logoutSuccessUrl(&quot;/&quot;);\n    }\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(myUserDetailsService);\n    }\n}\n</code></pre>\n<p>use the class implement UserDetailsService inteface. when user log in then authentate that user.</p>\n<pre><code>@Service\npublic class MyUserDetailsService implements UserDetailsService {\n\n    @Autowired\n    MemberMapper memberMapper;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n\n        Members member = memberMapper.getOneMemberByMemacc(username);\n        if(member == null)\n            throw new UsernameNotFoundException(username + &quot; not found&quot;);\n        UserDetails userDetails = User.builder()\n                .username(member.getMemacc())\n                .password(&quot;{noop}&quot; + member.getMempwd())\n                .roles(member.getRoleList()).build();\n        return userDetails;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20531987,"reputation":21,"user_id":15068980,"display_name":"jason kai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1113,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":66766402,"answer_count":2,"score":-3,"last_activity_date":1695904105,"creation_date":1616396423,"question_id":66741540,"body_markdown":"After finishing startup spring boot, Spring Security&#39;s configuration can not update . how to add new user or update user password or user role without restart spring boot? Because the page was redirected to the /login?error page, when I use new password to login. \r\n\r\n\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        MemberMapper memberMapper;\r\n    \r\n        Logger logger = Logger.getLogger(this.getClass());\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n    \r\n            http.csrf().disable();\r\n            http.addFilterBefore(new loginFilter(), AnonymousAuthenticationFilter.class).\r\n                    authorizeRequests().antMatchers(&quot;/&quot;,&quot;/register/**&quot;,&quot;/log/**&quot;).permitAll();\r\n    \r\n    \r\n    \r\n            http.formLogin().loginPage(&quot;/log/toLogin&quot;) \r\n                            .loginProcessingUrl(&quot;/log/login&quot;) \r\n                            .usernameParameter(&quot;memacc&quot;)\r\n                            .passwordParameter(&quot;mempwd&quot;)\r\n                            .failureHandler(new AppsAuthenticationFailureHandler());;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n            http.logout().logoutSuccessUrl(&quot;/&quot;);\r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    \r\n            List&lt;Members&gt; allMembers = memberMapper.getAllMembers();\r\n    \r\n            for (Members members : allMembers){\r\n                String[] roleList = members.getRoleList().split(&quot;,&quot;);\r\n                auth.inMemoryAuthentication().passwordEncoder(new BCryptPasswordEncoder())\r\n                    .withUser(members.getMemacc()).password(new BCryptPasswordEncoder().encode(members.getMempwd())).roles(roleList);\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"How to add a new User with Spring Security without restart spring boot","body":"<p>After finishing startup spring boot, Spring Security's configuration can not update . how to add new user or update user password or user role without restart spring boot? Because the page was redirected to the /login?error page, when I use new password to login.</p>\n<pre><code>@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    MemberMapper memberMapper;\n\n    Logger logger = Logger.getLogger(this.getClass());\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http.csrf().disable();\n        http.addFilterBefore(new loginFilter(), AnonymousAuthenticationFilter.class).\n                authorizeRequests().antMatchers(&quot;/&quot;,&quot;/register/**&quot;,&quot;/log/**&quot;).permitAll();\n\n\n\n        http.formLogin().loginPage(&quot;/log/toLogin&quot;) \n                        .loginProcessingUrl(&quot;/log/login&quot;) \n                        .usernameParameter(&quot;memacc&quot;)\n                        .passwordParameter(&quot;mempwd&quot;)\n                        .failureHandler(new AppsAuthenticationFailureHandler());;\n\n\n\n\n\n        http.logout().logoutSuccessUrl(&quot;/&quot;);\n\n\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n\n        List&lt;Members&gt; allMembers = memberMapper.getAllMembers();\n\n        for (Members members : allMembers){\n            String[] roleList = members.getRoleList().split(&quot;,&quot;);\n            auth.inMemoryAuthentication().passwordEncoder(new BCryptPasswordEncoder())\n                .withUser(members.getMemacc()).password(new BCryptPasswordEncoder().encode(members.getMempwd())).roles(roleList);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","variables","command-line","java-time"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":3,"creation_date":1695904241,"post_id":77194932,"comment_id":136087771,"body_markdown":"It&#39;s a lot of code to read, but at first sight you&#39;re just reading the first timestamp you find in the file and not the last one.","body":"It&#39;s a lot of code to read, but at first sight you&#39;re just reading the first timestamp you find in the file and not the last one."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1695904403,"post_id":77194932,"comment_id":136087803,"body_markdown":"The `else if (hoursBetween &lt; 24)` in your `canPlayGame()` is most likely the issue. Since this will return `false` after one round, even if there are still games to play for this day. You&#39;ll probably have to think about if you want to only allow the amount of games for this day in one session, or you have to also store the number of games played today like you do the timestamp.","body":"The <code>else if (hoursBetween &lt; 24)</code> in your <code>canPlayGame()</code> is most likely the issue. Since this will return <code>false</code> after one round, even if there are still games to play for this day. You&#39;ll probably have to think about if you want to only allow the amount of games for this day in one session, or you have to also store the number of games played today like you do the timestamp."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1695911172,"post_id":77194932,"comment_id":136089407,"body_markdown":"_&quot;... it only let me play 1 game instead of 10. ...&quot;_, if I run the code it just _recursively_ calls _getNextValidGuess_.","body":"<i>&quot;... it only let me play 1 game instead of 10. ...&quot;</i>, if I run the code it just <i>recursively</i> calls <i>getNextValidGuess</i>."}],"owner":{"account_id":21938284,"reputation":1,"user_id":16219171,"display_name":"Rory Steuart"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695903936,"creation_date":1695903936,"question_id":77194932,"body_markdown":"I&#39;m creating a basic java program that is a Wordle clone in the command line. My main issue is with teh lgoci of being able to allow the player a max of 10 games played per day with a 24 horus reset. For some reason with my current code it doesn&#39;t see the maxGamesPlayed with the gamesPlayedToday variables, making it only let me play 1 game instead of 10. Any help would be hugely appreciated.\r\n\r\nThe main Commandle class:\r\n\r\n\r\n```\r\n\r\nimport java.io.*;\r\nimport java.time.Duration;\r\nimport java.time.LocalDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.temporal.ChronoUnit;\r\nimport java.util.*;\r\n\r\npublic class Commandle {\r\n    public static final int MAX_TRIES = 6;\r\n    public static final int MAX_DAILY_GAMES = 10;\r\n    public static final Duration DAY_DURATION = Duration.ofDays(1); // 24 hours duration\r\n    private static final String TIMESTAMP_FILE = &quot;lastGameTimestamp.txt&quot;;\r\n\r\n    private static int gamesPlayedToday = 0;\r\n    private static LocalDateTime lastGameTimestamp = LocalDateTime.MIN;\r\n\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        initializeLastGameTimestamp();\r\n        start(System.in, System.out, args);\r\n    }\r\n\r\n    // Initialize last game timestamp from the file or set to current time if the file doesn&#39;t exist\r\n    private static void initializeLastGameTimestamp() {\r\n        try {\r\n            File file = new File(TIMESTAMP_FILE);\r\n            if (file.exists()) {\r\n                BufferedReader reader = new BufferedReader(new FileReader(file));\r\n                String timestampString = reader.readLine();\r\n                if (timestampString != null) {\r\n                    lastGameTimestamp = LocalDateTime.parse(timestampString, DateTimeFormatter.ISO_LOCAL_DATE_TIME);\r\n                    reader.close();\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static void saveLastGameTimestamp() {\r\n        try {\r\n            File file = new File(TIMESTAMP_FILE);\r\n            BufferedWriter writer = new BufferedWriter(new FileWriter(file));\r\n            writer.write(lastGameTimestamp.format(DateTimeFormatter.ISO_LOCAL_DATE_TIME));\r\n            writer.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static void start(InputStream in, PrintStream out, String[] args) throws IOException {\r\n        initializeLastGameTimestamp();\r\n        String dictionaryFileName = &quot;testdictionary.txt&quot;;\r\n        if (null != args &amp;&amp; args.length &gt; 0) {\r\n            dictionaryFileName = args[0];\r\n        }\r\n\r\n        List&lt;String&gt; wordList = getWordList(dictionaryFileName);\r\n        start(in, out, wordList);\r\n    }\r\n\r\n    public static void start(InputStream in, PrintStream out, List&lt;String&gt; wordList) throws IOException {\r\n        Scanner scanner = new Scanner(in);\r\n\r\n        while (true) {\r\n            if (!canPlayGame()) {\r\n                break;\r\n            }\r\n\r\n            if (gamesPlayedToday &gt;= MAX_DAILY_GAMES) {\r\n                out.println(&quot;You have reached the maximum number of games for today.&quot;);\r\n                break;\r\n            }\r\n\r\n            GameBoard gameBoard = new GameBoard(wordList);\r\n            gameBoard.startGame();\r\n\r\n            out.println(&quot;Games played today: &quot; + gamesPlayedToday); // Moved inside the game loop\r\n\r\n            boolean result = playOneGame(out, MAX_TRIES, gameBoard, scanner);\r\n            if (result) {\r\n                out.println(&quot;Congratulations, you won!&quot;);\r\n            } else {\r\n                out.println(&quot;Sorry, you lost!&quot;);\r\n            }\r\n\r\n            out.println(&quot;Play again? (Y/N)&quot;);\r\n\r\n            if (!&quot;Y&quot;.equalsIgnoreCase(scanner.nextLine().trim())) {\r\n                break;\r\n            }\r\n\r\n            gamesPlayedToday++;\r\n        }\r\n\r\n        out.println(&quot;See you next time!&quot;);\r\n\r\n        scanner.close();\r\n    }\r\n\r\n    private static boolean canPlayGame() {\r\n        LocalDateTime currentTime = LocalDateTime.now();\r\n        long hoursBetween = ChronoUnit.HOURS.between(lastGameTimestamp, currentTime);\r\n\r\n        if (hoursBetween &gt;= 24) {\r\n            lastGameTimestamp = currentTime;\r\n            saveLastGameTimestamp();\r\n            gamesPlayedToday = 0; // Reset games played for a new day\r\n        } else if (gamesPlayedToday &gt;= MAX_DAILY_GAMES) {\r\n            System.out.println(&quot;You have reached the maximum number of games for today.&quot;);\r\n            return false;\r\n        } else if (hoursBetween &lt; 24) {\r\n            System.out.println(&quot;You must wait for 24 hours before starting a new game.&quot;);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n\r\n    private static List&lt;String&gt; getWordList(String dictionaryFileName) throws IOException {\r\n        List&lt;String&gt; wordList = new ArrayList&lt;&gt;();\r\n        try (InputStream inputStream = Commandle.class.getClassLoader().getResourceAsStream(dictionaryFileName);\r\n             InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\r\n             BufferedReader br = new BufferedReader(inputStreamReader)) {\r\n\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                wordList.add(line.trim().toLowerCase());\r\n            }\r\n        }\r\n        return wordList;\r\n    }\r\n\r\n\r\n    private static String getNextValidGuess(Scanner scanner, Set&lt;String&gt; guesses, GameBoard gameBoard) {\r\n        String guess = scanner.nextLine().trim().toLowerCase();\r\n\r\n        if (guess.length() != 5) {\r\n            System.err.print(&quot;Please enter a word of 5 letters: &quot;);\r\n        } else if (guesses.contains(guess)) {\r\n            System.err.print(&quot;Please enter a new word: &quot;);\r\n        } else if (!gameBoard.containsWord(guess)) {\r\n            System.err.print(&quot;Please enter a valid word: &quot;);\r\n        } else {\r\n            guesses.add(guess);\r\n            return guess;\r\n        }\r\n        return getNextValidGuess(scanner, guesses, gameBoard);\r\n    }\r\n\r\n    private static boolean playOneGame(PrintStream out, int rounds, GameBoard gameBoard, Scanner scanner) {\r\n        if (gamesPlayedToday &gt;= MAX_DAILY_GAMES) {\r\n            out.println(&quot;You have reached the maximum number of games for today.&quot;);\r\n            return false;\r\n        }\r\n\r\n        Set&lt;String&gt; guesses = new HashSet&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; rounds; i++) {\r\n            out.print(&quot;Please enter your guess: &quot;);\r\n            String guess = getNextValidGuess(scanner, guesses, gameBoard);\r\n\r\n            GameBoard.Status[] result = gameBoard.isInTarget(guess.toLowerCase().toCharArray());\r\n            String hint = &quot;&quot;;\r\n            for (int j = 0; j &lt; result.length; j++) {\r\n                switch (result[j]) {\r\n                    case correct -&gt; hint += guess.charAt(j);\r\n                    case wrong -&gt; hint += &quot;#&quot;;\r\n                    case partial -&gt; hint += &quot;?&quot;;\r\n                }\r\n            }\r\n            int round = i + 1;\r\n            out.println(round + &quot;: &quot; + guess + &quot;  &quot; + round + &quot;: &quot; + hint);\r\n            if (gameBoard.hasWon(result)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI think the issue is in the canPlayGame logic and it&#39;s not seeing referencing this properly once a game has been played. Java isn&#39;t my main language so I&#39;m struggling a bit to understand why this isn&#39;t working. \r\n\r\n\r\n```\r\n private static boolean canPlayGame() {\r\n        LocalDateTime currentTime = LocalDateTime.now();\r\n        long hoursBetween = ChronoUnit.HOURS.between(lastGameTimestamp, currentTime);\r\n\r\n        if (hoursBetween &gt;= 24) {\r\n            lastGameTimestamp = currentTime;\r\n            saveLastGameTimestamp();\r\n            gamesPlayedToday = 0; // Reset games played for a new day\r\n        } else if (gamesPlayedToday &gt;= MAX_DAILY_GAMES) {\r\n            System.out.println(&quot;You have reached the maximum number of games for today.&quot;);\r\n            return false;\r\n        } else if (hoursBetween &lt; 24) {\r\n            System.out.println(&quot;You must wait for 24 hours before starting a new game.&quot;);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n```\r\n","title":"Java Program issue with 24 hour time reset based logic and variables","body":"<p>I'm creating a basic java program that is a Wordle clone in the command line. My main issue is with teh lgoci of being able to allow the player a max of 10 games played per day with a 24 horus reset. For some reason with my current code it doesn't see the maxGamesPlayed with the gamesPlayedToday variables, making it only let me play 1 game instead of 10. Any help would be hugely appreciated.</p>\n<p>The main Commandle class:</p>\n<pre><code>\nimport java.io.*;\nimport java.time.Duration;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.time.temporal.ChronoUnit;\nimport java.util.*;\n\npublic class Commandle {\n    public static final int MAX_TRIES = 6;\n    public static final int MAX_DAILY_GAMES = 10;\n    public static final Duration DAY_DURATION = Duration.ofDays(1); // 24 hours duration\n    private static final String TIMESTAMP_FILE = &quot;lastGameTimestamp.txt&quot;;\n\n    private static int gamesPlayedToday = 0;\n    private static LocalDateTime lastGameTimestamp = LocalDateTime.MIN;\n\n\n    public static void main(String[] args) throws IOException {\n        initializeLastGameTimestamp();\n        start(System.in, System.out, args);\n    }\n\n    // Initialize last game timestamp from the file or set to current time if the file doesn't exist\n    private static void initializeLastGameTimestamp() {\n        try {\n            File file = new File(TIMESTAMP_FILE);\n            if (file.exists()) {\n                BufferedReader reader = new BufferedReader(new FileReader(file));\n                String timestampString = reader.readLine();\n                if (timestampString != null) {\n                    lastGameTimestamp = LocalDateTime.parse(timestampString, DateTimeFormatter.ISO_LOCAL_DATE_TIME);\n                    reader.close();\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void saveLastGameTimestamp() {\n        try {\n            File file = new File(TIMESTAMP_FILE);\n            BufferedWriter writer = new BufferedWriter(new FileWriter(file));\n            writer.write(lastGameTimestamp.format(DateTimeFormatter.ISO_LOCAL_DATE_TIME));\n            writer.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void start(InputStream in, PrintStream out, String[] args) throws IOException {\n        initializeLastGameTimestamp();\n        String dictionaryFileName = &quot;testdictionary.txt&quot;;\n        if (null != args &amp;&amp; args.length &gt; 0) {\n            dictionaryFileName = args[0];\n        }\n\n        List&lt;String&gt; wordList = getWordList(dictionaryFileName);\n        start(in, out, wordList);\n    }\n\n    public static void start(InputStream in, PrintStream out, List&lt;String&gt; wordList) throws IOException {\n        Scanner scanner = new Scanner(in);\n\n        while (true) {\n            if (!canPlayGame()) {\n                break;\n            }\n\n            if (gamesPlayedToday &gt;= MAX_DAILY_GAMES) {\n                out.println(&quot;You have reached the maximum number of games for today.&quot;);\n                break;\n            }\n\n            GameBoard gameBoard = new GameBoard(wordList);\n            gameBoard.startGame();\n\n            out.println(&quot;Games played today: &quot; + gamesPlayedToday); // Moved inside the game loop\n\n            boolean result = playOneGame(out, MAX_TRIES, gameBoard, scanner);\n            if (result) {\n                out.println(&quot;Congratulations, you won!&quot;);\n            } else {\n                out.println(&quot;Sorry, you lost!&quot;);\n            }\n\n            out.println(&quot;Play again? (Y/N)&quot;);\n\n            if (!&quot;Y&quot;.equalsIgnoreCase(scanner.nextLine().trim())) {\n                break;\n            }\n\n            gamesPlayedToday++;\n        }\n\n        out.println(&quot;See you next time!&quot;);\n\n        scanner.close();\n    }\n\n    private static boolean canPlayGame() {\n        LocalDateTime currentTime = LocalDateTime.now();\n        long hoursBetween = ChronoUnit.HOURS.between(lastGameTimestamp, currentTime);\n\n        if (hoursBetween &gt;= 24) {\n            lastGameTimestamp = currentTime;\n            saveLastGameTimestamp();\n            gamesPlayedToday = 0; // Reset games played for a new day\n        } else if (gamesPlayedToday &gt;= MAX_DAILY_GAMES) {\n            System.out.println(&quot;You have reached the maximum number of games for today.&quot;);\n            return false;\n        } else if (hoursBetween &lt; 24) {\n            System.out.println(&quot;You must wait for 24 hours before starting a new game.&quot;);\n            return false;\n        }\n\n        return true;\n    }\n\n\n    private static List&lt;String&gt; getWordList(String dictionaryFileName) throws IOException {\n        List&lt;String&gt; wordList = new ArrayList&lt;&gt;();\n        try (InputStream inputStream = Commandle.class.getClassLoader().getResourceAsStream(dictionaryFileName);\n             InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\n             BufferedReader br = new BufferedReader(inputStreamReader)) {\n\n            String line;\n            while ((line = br.readLine()) != null) {\n                wordList.add(line.trim().toLowerCase());\n            }\n        }\n        return wordList;\n    }\n\n\n    private static String getNextValidGuess(Scanner scanner, Set&lt;String&gt; guesses, GameBoard gameBoard) {\n        String guess = scanner.nextLine().trim().toLowerCase();\n\n        if (guess.length() != 5) {\n            System.err.print(&quot;Please enter a word of 5 letters: &quot;);\n        } else if (guesses.contains(guess)) {\n            System.err.print(&quot;Please enter a new word: &quot;);\n        } else if (!gameBoard.containsWord(guess)) {\n            System.err.print(&quot;Please enter a valid word: &quot;);\n        } else {\n            guesses.add(guess);\n            return guess;\n        }\n        return getNextValidGuess(scanner, guesses, gameBoard);\n    }\n\n    private static boolean playOneGame(PrintStream out, int rounds, GameBoard gameBoard, Scanner scanner) {\n        if (gamesPlayedToday &gt;= MAX_DAILY_GAMES) {\n            out.println(&quot;You have reached the maximum number of games for today.&quot;);\n            return false;\n        }\n\n        Set&lt;String&gt; guesses = new HashSet&lt;&gt;();\n\n        for (int i = 0; i &lt; rounds; i++) {\n            out.print(&quot;Please enter your guess: &quot;);\n            String guess = getNextValidGuess(scanner, guesses, gameBoard);\n\n            GameBoard.Status[] result = gameBoard.isInTarget(guess.toLowerCase().toCharArray());\n            String hint = &quot;&quot;;\n            for (int j = 0; j &lt; result.length; j++) {\n                switch (result[j]) {\n                    case correct -&gt; hint += guess.charAt(j);\n                    case wrong -&gt; hint += &quot;#&quot;;\n                    case partial -&gt; hint += &quot;?&quot;;\n                }\n            }\n            int round = i + 1;\n            out.println(round + &quot;: &quot; + guess + &quot;  &quot; + round + &quot;: &quot; + hint);\n            if (gameBoard.hasWon(result)) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>I think the issue is in the canPlayGame logic and it's not seeing referencing this properly once a game has been played. Java isn't my main language so I'm struggling a bit to understand why this isn't working.</p>\n<pre><code> private static boolean canPlayGame() {\n        LocalDateTime currentTime = LocalDateTime.now();\n        long hoursBetween = ChronoUnit.HOURS.between(lastGameTimestamp, currentTime);\n\n        if (hoursBetween &gt;= 24) {\n            lastGameTimestamp = currentTime;\n            saveLastGameTimestamp();\n            gamesPlayedToday = 0; // Reset games played for a new day\n        } else if (gamesPlayedToday &gt;= MAX_DAILY_GAMES) {\n            System.out.println(&quot;You have reached the maximum number of games for today.&quot;);\n            return false;\n        } else if (hoursBetween &lt; 24) {\n            System.out.println(&quot;You must wait for 24 hours before starting a new game.&quot;);\n            return false;\n        }\n\n        return true;\n    }\n</code></pre>\n"},{"tags":["java","java-8","stream"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695903870,"creation_date":1695901606,"answer_id":77194668,"question_id":77194497,"body_markdown":"You can use [Stream.anyMatch()][1] on the inner stream to find if any of the maps matches your condition:\r\n\r\n&gt; Returns whether any elements of this stream match the provided predicate. May not evaluate the predicate on all elements if not necessary for determining the result.\r\n\r\nThen you can use [Stream.findFist()][2] to get the first match:\r\n\r\n&gt; Returns an Optional describing the first element of this stream, or an empty Optional if the stream is empty.\r\n\r\n```\r\nList&lt;List&lt;LinkedHashMap&lt;String,String&gt;&gt;&gt; productsMasterMap = ...;\r\n\r\nOptional&lt;List&lt;LinkedHashMap&lt;String, Object&gt;&gt;&gt; listOfMaps = productsMasterMap.stream()\r\n            .filter(listOfHashMaps -&gt; listOfHashMaps.stream()\r\n                    .anyMatch(map -&gt; map.get(&quot;ID&quot;).equals(&quot;PdmarticleID&quot;) &amp;&amp; map.get(&quot;Value&quot;).equals(99944)))\r\n            .findFirst();\r\n//handle the Optional\r\n```\r\nIf there can be more than 1 match and you care about those matches, instead of `findFirst` collect to a list.\r\n\r\nAs a side note, i would use a custom class, instead of `Map`, the elements have the same properties. It will make the code much more readable.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#anyMatch-java.util.function.Predicate-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findFirst--","title":"Parsing a List with streams where every element itself is a list of Linked Hashmaps","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#anyMatch-java.util.function.Predicate-\" rel=\"nofollow noreferrer\">Stream.anyMatch()</a> on the inner stream to find if any of the maps matches your condition:</p>\n<blockquote>\n<p>Returns whether any elements of this stream match the provided predicate. May not evaluate the predicate on all elements if not necessary for determining the result.</p>\n</blockquote>\n<p>Then you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findFirst--\" rel=\"nofollow noreferrer\">Stream.findFist()</a> to get the first match:</p>\n<blockquote>\n<p>Returns an Optional describing the first element of this stream, or an empty Optional if the stream is empty.</p>\n</blockquote>\n<pre><code>List&lt;List&lt;LinkedHashMap&lt;String,String&gt;&gt;&gt; productsMasterMap = ...;\n\nOptional&lt;List&lt;LinkedHashMap&lt;String, Object&gt;&gt;&gt; listOfMaps = productsMasterMap.stream()\n            .filter(listOfHashMaps -&gt; listOfHashMaps.stream()\n                    .anyMatch(map -&gt; map.get(&quot;ID&quot;).equals(&quot;PdmarticleID&quot;) &amp;&amp; map.get(&quot;Value&quot;).equals(99944)))\n            .findFirst();\n//handle the Optional\n</code></pre>\n<p>If there can be more than 1 match and you care about those matches, instead of <code>findFirst</code> collect to a list.</p>\n<p>As a side note, i would use a custom class, instead of <code>Map</code>, the elements have the same properties. It will make the code much more readable.</p>\n"},{"tags":[],"owner":{"account_id":6476250,"reputation":98,"user_id":5014770,"display_name":"AmirHossein Najmi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695903221,"creation_date":1695902069,"answer_id":77194724,"question_id":77194497,"body_markdown":"As @Chaosfire mentioned you need the flatmap. \r\nFor your case it would be like this if you need the inner list element as the filter result: \r\n\r\n        String searchId = &quot;PdmarticleID&quot;;\r\n        String searchValue = &quot;99924&quot;;\r\n        Optional&lt;Map&lt;String, Object&gt;&gt; result = productsMasterMap.stream()\r\n                .flatMap(List::stream) // Flatten the nested lists\r\n                .filter(map -&gt; searchId.equals(map.get(&quot;ID&quot;)) &amp;&amp; searchValue.equals(map.get(&quot;Value&quot;)))\r\n                .findFirst();","title":"Parsing a List with streams where every element itself is a list of Linked Hashmaps","body":"<p>As @Chaosfire mentioned you need the flatmap.\nFor your case it would be like this if you need the inner list element as the filter result:</p>\n<pre><code>    String searchId = &quot;PdmarticleID&quot;;\n    String searchValue = &quot;99924&quot;;\n    Optional&lt;Map&lt;String, Object&gt;&gt; result = productsMasterMap.stream()\n            .flatMap(List::stream) // Flatten the nested lists\n            .filter(map -&gt; searchId.equals(map.get(&quot;ID&quot;)) &amp;&amp; searchValue.equals(map.get(&quot;Value&quot;)))\n            .findFirst();\n</code></pre>\n"}],"owner":{"account_id":1119193,"reputation":1505,"user_id":1107888,"accept_rate":53,"display_name":"user1107888"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77194668,"answer_count":2,"score":0,"last_activity_date":1695903870,"creation_date":1695900260,"question_id":77194497,"body_markdown":"I have parsed the following JSON String using JSON Path: \r\n\r\n      {\r\n       [\r\n\t\t [\r\n\t\t\t{\r\n\t\t\t\t&quot;ID&quot;: &quot;ExternalKey&quot;,\r\n\t\t\t\t&quot;Name&quot;: &quot;ExternalKey&quot;,\r\n\t\t\t\t&quot;Label&quot;: &quot;ExternalKey&quot;,\r\n\t\t\t\t&quot;ExternalKey&quot;: &quot;&quot;,\r\n\t\t\t&quot;TranslatedName&quot;: &quot;ExternalKey&quot;,\r\n\t\t\t&quot;Type&quot;: &quot;caption&quot;,\r\n\t\t\t&quot;Self&quot;: &quot;https://aqb629.saas.contentserv.com/admin/rest/product/Attribute/ExternalKey&quot;,\r\n\t\t\t&quot;Value&quot;: &quot;VSCHL01&quot;,\r\n\t\t\t&quot;FormattedValue&quot;: &quot;VSCHL01&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t&quot;ID&quot;: &quot;PdmarticleID&quot;,\r\n\t\t\t&quot;Name&quot;: &quot;PdmarticleID&quot;,\r\n\t\t\t&quot;Label&quot;: &quot;PdmarticleID&quot;,\r\n\t\t\t&quot;ExternalKey&quot;: &quot;&quot;,\r\n\t\t\t&quot;TranslatedName&quot;: &quot;PdmarticleID&quot;,\r\n\t\t\t&quot;Type&quot;: &quot;_id&quot;,\r\n\t\t\t&quot;Self&quot;: &quot;&quot;,\r\n\t\t\t&quot;Value&quot;: 99942,\r\n\t\t\t&quot;FormattedValue&quot;: 99942\r\n\t\t\t}\r\n\t\t],\r\n\t\t[\r\n\t\t\t{\r\n\t\t\t\t&quot;ID&quot;: &quot;ExternalKey&quot;,\r\n\t\t\t\t&quot;Name&quot;: &quot;ExternalKey&quot;,\r\n\t\t\t\t&quot;Label&quot;: &quot;ExternalKey&quot;,\r\n\t\t\t\t&quot;ExternalKey&quot;: &quot;&quot;,\r\n\t\t\t\t&quot;TranslatedName&quot;: &quot;ExternalKey&quot;,\r\n\t\t\t\t&quot;Type&quot;: &quot;caption&quot;,\r\n\t\t\t\t&quot;Self&quot;: &quot;&quot;,\r\n\t\t\t\t&quot;Value&quot;: &quot;VSCHL02&quot;,\r\n\t\t\t\t&quot;FormattedValue&quot;: &quot;VSCHL02&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;ID&quot;: &quot;PdmarticleID&quot;,\r\n\t\t\t\t&quot;Name&quot;: &quot;PdmarticleID&quot;,\r\n\t\t\t\t&quot;Label&quot;: &quot;PdmarticleID&quot;,\r\n\t\t\t\t&quot;ExternalKey&quot;: &quot;&quot;,\r\n\t\t\t\t&quot;TranslatedName&quot;: &quot;PdmarticleID&quot;,\r\n\t\t\t\t&quot;Type&quot;: &quot;_id&quot;,\r\n\t\t\t\t&quot;Self&quot;: &quot;&quot;,\r\n\t\t\t\t&quot;Value&quot;: 99944,\r\n\t\t\t\t&quot;FormattedValue&quot;: 99944\r\n\t\t\t}\r\n\t\t]\r\n     ] \r\n    }\r\n\r\nI get the following List of lists in Java: \r\n\r\n     List&lt;List&lt;LinkedHashMap&lt;String,String&gt;&gt;&gt; productsMasterMap = jsonContext.read(jsonPath);\r\n\r\nI would like to do a search via streams where for ID = PdmArticleID and Value=99924 I can get the following structure \r\n\r\n         [\r\n\t\t\t{\r\n\t\t\t\t&quot;ID&quot;: &quot;ExternalKey&quot;,\r\n\t\t\t\t&quot;Name&quot;: &quot;ExternalKey&quot;,\r\n\t\t\t\t&quot;Label&quot;: &quot;ExternalKey&quot;,\r\n\t\t\t\t&quot;ExternalKey&quot;: &quot;&quot;,\r\n\t\t\t&quot;TranslatedName&quot;: &quot;ExternalKey&quot;,\r\n\t\t\t&quot;Type&quot;: &quot;caption&quot;,\r\n\t\t\t&quot;Self&quot;: &quot;https://aqb629.saas.contentserv.com/admin/rest/product/Attribute/ExternalKey&quot;,\r\n\t\t\t&quot;Value&quot;: &quot;VSCHL01&quot;,\r\n\t\t\t&quot;FormattedValue&quot;: &quot;VSCHL01&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t&quot;ID&quot;: &quot;PdmarticleID&quot;,\r\n\t\t\t&quot;Name&quot;: &quot;PdmarticleID&quot;,\r\n\t\t\t&quot;Label&quot;: &quot;PdmarticleID&quot;,\r\n\t\t\t&quot;ExternalKey&quot;: &quot;&quot;,\r\n\t\t\t&quot;TranslatedName&quot;: &quot;PdmarticleID&quot;,\r\n\t\t\t&quot;Type&quot;: &quot;_id&quot;,\r\n\t\t\t&quot;Self&quot;: &quot;&quot;,\r\n\t\t\t&quot;Value&quot;: 99942,\r\n\t\t\t&quot;FormattedValue&quot;: 99942\r\n\t\t\t}\r\n\t\t],\r\n\r\nWhich is a List&lt;LinkedHashMap&lt;String,String&gt;&gt; object. How can I achieve that? I have tried the following: \r\n\r\n  \r\n\r\n      List&lt;LinkedHashMap&gt; listOfMaps =    \r\n\r\n      productsMasterMap.stream().filter(listOfHashMaps-&gt;\r\n                      \r\n      listOfHashMaps.stream().filter(m-&gt;m.get(&quot;ID&quot;).equals(&quot;PdmarticleID&quot;) &amp;&amp;   \r\n\r\n      m.get(&quot;Value&quot;).equals(&quot;99945&quot;))\r\n                           \r\n     .map(m-&gt;m).collect(Collectors.toList());\r\n\r\nI would like to get the inner list Element where the condition is true.\r\n\r\n\r\n          \r\n\r\n","title":"Parsing a List with streams where every element itself is a list of Linked Hashmaps","body":"<p>I have parsed the following JSON String using JSON Path:</p>\n<pre><code>  {\n   [\n     [\n        {\n            &quot;ID&quot;: &quot;ExternalKey&quot;,\n            &quot;Name&quot;: &quot;ExternalKey&quot;,\n            &quot;Label&quot;: &quot;ExternalKey&quot;,\n            &quot;ExternalKey&quot;: &quot;&quot;,\n        &quot;TranslatedName&quot;: &quot;ExternalKey&quot;,\n        &quot;Type&quot;: &quot;caption&quot;,\n        &quot;Self&quot;: &quot;https://aqb629.saas.contentserv.com/admin/rest/product/Attribute/ExternalKey&quot;,\n        &quot;Value&quot;: &quot;VSCHL01&quot;,\n        &quot;FormattedValue&quot;: &quot;VSCHL01&quot;\n        },\n        {\n        &quot;ID&quot;: &quot;PdmarticleID&quot;,\n        &quot;Name&quot;: &quot;PdmarticleID&quot;,\n        &quot;Label&quot;: &quot;PdmarticleID&quot;,\n        &quot;ExternalKey&quot;: &quot;&quot;,\n        &quot;TranslatedName&quot;: &quot;PdmarticleID&quot;,\n        &quot;Type&quot;: &quot;_id&quot;,\n        &quot;Self&quot;: &quot;&quot;,\n        &quot;Value&quot;: 99942,\n        &quot;FormattedValue&quot;: 99942\n        }\n    ],\n    [\n        {\n            &quot;ID&quot;: &quot;ExternalKey&quot;,\n            &quot;Name&quot;: &quot;ExternalKey&quot;,\n            &quot;Label&quot;: &quot;ExternalKey&quot;,\n            &quot;ExternalKey&quot;: &quot;&quot;,\n            &quot;TranslatedName&quot;: &quot;ExternalKey&quot;,\n            &quot;Type&quot;: &quot;caption&quot;,\n            &quot;Self&quot;: &quot;&quot;,\n            &quot;Value&quot;: &quot;VSCHL02&quot;,\n            &quot;FormattedValue&quot;: &quot;VSCHL02&quot;\n        },\n        {\n            &quot;ID&quot;: &quot;PdmarticleID&quot;,\n            &quot;Name&quot;: &quot;PdmarticleID&quot;,\n            &quot;Label&quot;: &quot;PdmarticleID&quot;,\n            &quot;ExternalKey&quot;: &quot;&quot;,\n            &quot;TranslatedName&quot;: &quot;PdmarticleID&quot;,\n            &quot;Type&quot;: &quot;_id&quot;,\n            &quot;Self&quot;: &quot;&quot;,\n            &quot;Value&quot;: 99944,\n            &quot;FormattedValue&quot;: 99944\n        }\n    ]\n ] \n}\n</code></pre>\n<p>I get the following List of lists in Java:</p>\n<pre><code> List&lt;List&lt;LinkedHashMap&lt;String,String&gt;&gt;&gt; productsMasterMap = jsonContext.read(jsonPath);\n</code></pre>\n<p>I would like to do a search via streams where for ID = PdmArticleID and Value=99924 I can get the following structure</p>\n<pre><code>     [\n        {\n            &quot;ID&quot;: &quot;ExternalKey&quot;,\n            &quot;Name&quot;: &quot;ExternalKey&quot;,\n            &quot;Label&quot;: &quot;ExternalKey&quot;,\n            &quot;ExternalKey&quot;: &quot;&quot;,\n        &quot;TranslatedName&quot;: &quot;ExternalKey&quot;,\n        &quot;Type&quot;: &quot;caption&quot;,\n        &quot;Self&quot;: &quot;https://aqb629.saas.contentserv.com/admin/rest/product/Attribute/ExternalKey&quot;,\n        &quot;Value&quot;: &quot;VSCHL01&quot;,\n        &quot;FormattedValue&quot;: &quot;VSCHL01&quot;\n        },\n        {\n        &quot;ID&quot;: &quot;PdmarticleID&quot;,\n        &quot;Name&quot;: &quot;PdmarticleID&quot;,\n        &quot;Label&quot;: &quot;PdmarticleID&quot;,\n        &quot;ExternalKey&quot;: &quot;&quot;,\n        &quot;TranslatedName&quot;: &quot;PdmarticleID&quot;,\n        &quot;Type&quot;: &quot;_id&quot;,\n        &quot;Self&quot;: &quot;&quot;,\n        &quot;Value&quot;: 99942,\n        &quot;FormattedValue&quot;: 99942\n        }\n    ],\n</code></pre>\n<p>Which is a List&lt;LinkedHashMap&lt;String,String&gt;&gt; object. How can I achieve that? I have tried the following:</p>\n<pre><code>  List&lt;LinkedHashMap&gt; listOfMaps =    \n\n  productsMasterMap.stream().filter(listOfHashMaps-&gt;\n                  \n  listOfHashMaps.stream().filter(m-&gt;m.get(&quot;ID&quot;).equals(&quot;PdmarticleID&quot;) &amp;&amp;   \n\n  m.get(&quot;Value&quot;).equals(&quot;99945&quot;))\n                       \n .map(m-&gt;m).collect(Collectors.toList());\n</code></pre>\n<p>I would like to get the inner list Element where the condition is true.</p>\n"},{"tags":["java","json","spring","spring-boot","jackson"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668072394,"post_id":74386375,"comment_id":131319948,"body_markdown":"What do you mean by &quot;stop&quot; ? Ignore/big decimal/String/...? (...`@JsonIgnore`/`DeserializationFeature.USE_BIG_DECIMAL_FOR_FLOATS`/https://www.baeldung.com/jackson-deserialization)","body":"What do you mean by &quot;stop&quot; ? Ignore/big decimal/String/...? (...<code>@JsonIgnore</code>/<code>DeserializationFeature.USE_BIG_DECIMAL_FOR_F&zwnj;&#8203;LOATS</code>/<a href=\"https://www.baeldung.com/jackson-deserialization\" rel=\"nofollow noreferrer\">baeldung.com/j&zwnj;&#8203;ackson-deserializati&zwnj;&#8203;on</a>)"},{"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"score":0,"creation_date":1668073140,"post_id":74386375,"comment_id":131320200,"body_markdown":"@xerx593 I mean I want it to leave it as is (`String`).","body":"@xerx593 I mean I want it to leave it as is (<code>String</code>)."},{"owner":{"account_id":21266913,"reputation":240,"user_id":15647017,"display_name":"Gergo"},"score":0,"creation_date":1668074300,"post_id":74386375,"comment_id":131320623,"body_markdown":"Maybe this can help. https://stackoverflow.com/questions/67695180/is-it-possible-to-customize-objectmapper-for-single-spring-rest-endpoint","body":"Maybe this can help. <a href=\"https://stackoverflow.com/questions/67695180/is-it-possible-to-customize-objectmapper-for-single-spring-rest-endpoint\" title=\"is it possible to customize objectmapper for single spring rest endpoint\">stackoverflow.com/questions/67695180/&hellip;</a>"},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1695540972,"post_id":74386375,"comment_id":136036234,"body_markdown":"Can you provide the code of your POST endpoint? Which version of Spring/Boot are you using?","body":"Can you provide the code of your POST endpoint? Which version of Spring/Boot are you using?"},{"owner":{"account_id":10770525,"reputation":526,"user_id":7924110,"display_name":"Kenany"},"score":0,"creation_date":1695681540,"post_id":74386375,"comment_id":136054264,"body_markdown":"why didn&#39;t you create a DTO instead of Map&lt;String, Object&gt; for request body.  Like that the attribute that will contain the value &quot;123.456&quot; could be a String.","body":"why didn&#39;t you create a DTO instead of Map&lt;String, Object&gt; for request body.  Like that the attribute that will contain the value &quot;123.456&quot; could be a String."}],"answers":[{"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":2,"creation_date":1695541629,"post_id":77163982,"comment_id":136036285,"body_markdown":"This is a not good way to override the default `ObjectMapper` bean, since Spring can customize it with a lot of things. It&#39;s better to use `Jackson2ObjectMapperBuilderCustomizer` instead. [Spring Docs](https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.spring-mvc.customize-jackson-objectmapper) explain this very clearly","body":"This is a not good way to override the default <code>ObjectMapper</code> bean, since Spring can customize it with a lot of things. It&#39;s better to use <code>Jackson2ObjectMapperBuilderCustomizer</code> instead. <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.spring-mvc.customize-jackson-objectmapper\" rel=\"nofollow noreferrer\">Spring Docs</a> explain this very clearly"}],"tags":[],"owner":{"account_id":20679683,"reputation":31,"user_id":15183550,"display_name":"Satya Raj Awasthi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695584324,"creation_date":1695486909,"answer_id":77163982,"question_id":74386375,"body_markdown":"I won&#39;t suggest the below particulary for your case. As you just need to disable the auto conversion of &quot;123.56&quot; or something like that but keep as like it is for others. Since the following property disables for all.\r\n\r\n&gt; spring.jackson.mapper.allow-coercion-of-scalars=false\r\n\r\nI don&#39;t think their is a specific config in properties file for that. If there is please let me know too. What I can suggest is either create a custom configuraion and create a bean for ObjectMapper and create a custom module for serialization which can do that don&#39;t overwrite other configs.\r\n\r\nIt may look something like: \r\n```\r\n@Configuration public class JacksonConfiguration {\r\n\r\n    @Bean\r\n    public ObjectMapper objectMapper() {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n        // Create a module for custom serialization\r\n        SimpleModule module = new SimpleModule();\r\n        module.addSerializer(Double.class, ToStringSerializer.instance);\r\n        objectMapper.registerModule(module);\r\n\r\n        return objectMapper;\r\n    }\r\n}\r\n```\r\nOr else you can do an easy idea. Just take everthing as String and manually convert by parsing later. If you have just few fields you can use this idea.&#128516;\r\n\r\n ","title":"Prevent Spring from auto converting number string within json to Double","body":"<p>I won't suggest the below particulary for your case. As you just need to disable the auto conversion of &quot;123.56&quot; or something like that but keep as like it is for others. Since the following property disables for all.</p>\n<blockquote>\n<p>spring.jackson.mapper.allow-coercion-of-scalars=false</p>\n</blockquote>\n<p>I don't think their is a specific config in properties file for that. If there is please let me know too. What I can suggest is either create a custom configuraion and create a bean for ObjectMapper and create a custom module for serialization which can do that don't overwrite other configs.</p>\n<p>It may look something like:</p>\n<pre><code>@Configuration public class JacksonConfiguration {\n\n    @Bean\n    public ObjectMapper objectMapper() {\n        ObjectMapper objectMapper = new ObjectMapper();\n\n        // Create a module for custom serialization\n        SimpleModule module = new SimpleModule();\n        module.addSerializer(Double.class, ToStringSerializer.instance);\n        objectMapper.registerModule(module);\n\n        return objectMapper;\n    }\n}\n</code></pre>\n<p>Or else you can do an easy idea. Just take everthing as String and manually convert by parsing later. If you have just few fields you can use this idea.😄</p>\n"},{"tags":[],"owner":{"account_id":28614784,"reputation":86,"user_id":21909039,"display_name":"user21909039"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695586052,"creation_date":1695586052,"answer_id":77168760,"question_id":74386375,"body_markdown":"The easiest solution would probably be to change it to a Map&lt;String, String&gt; and do you own conversions where you want it. I know you are okay with Boolean, but it is probably better here to go back to the ground state for all options, and re-introduce the wanted ones than to exclude a single option.","title":"Prevent Spring from auto converting number string within json to Double","body":"<p>The easiest solution would probably be to change it to a Map&lt;String, String&gt; and do you own conversions where you want it. I know you are okay with Boolean, but it is probably better here to go back to the ground state for all options, and re-introduce the wanted ones than to exclude a single option.</p>\n"},{"tags":[],"owner":{"account_id":6859276,"reputation":145,"user_id":5273876,"display_name":"Ricardo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695903591,"creation_date":1695903208,"answer_id":77194842,"question_id":74386375,"body_markdown":"You can use the annotation @JsonDeserialize for Jackson.\r\n\r\nHere follows an example model class that wraps the payload Map&lt;String,Object&gt; field and a controller class and the JSON deserialization class with the logic to accomplish what you want:\r\n\r\n    import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\n    import za.co.twentysevenfour.excel.model.converter.ObjectMapDeserializer;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    \r\n    public class TestPayloadWrapper implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @JsonDeserialize(using = ObjectMapDeserializer.class)\r\n        private Map&lt;String, Object&gt; payload = new HashMap&lt;&gt;();\r\n    \r\n        public TestPayloadWrapper() {}\r\n    \r\n        public Map&lt;String, Object&gt; getPayload() {\r\n            return payload;\r\n        }\r\n    \r\n        public void setPayload(Map&lt;String, Object&gt; payload) {\r\n            this.payload = payload;\r\n        }\r\n    }\r\n\r\nController Class:\r\n\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import za.co.twentysevenfour.excel.model.jpa.TestPayloadWrapper;\r\n        \r\n    import java.util.Map;\r\n            \r\n            \r\n    @RestController\r\n    public class PayloadController {\r\n        @RequestMapping(value = &quot;/postEndpoint&quot;, method = RequestMethod.POST)\r\n        public Map&lt;String, Object&gt; postEndpoint(@RequestBody TestPayloadWrapper payload) \r\n        {\r\n            return payload.getPayload();\r\n        }\r\n    }\r\n\r\n\r\nJsonDeserializer class:\r\n\r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.JsonDeserializer;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.node.ObjectNode;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class ObjectMapDeserializer extends JsonDeserializer&lt;Map&lt;String,Object&gt;&gt; {\r\n    \r\n        @Override\r\n        public Map&lt;String,Object&gt; deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n            Map&lt;String,Object&gt; result = new HashMap&lt;&gt;();\r\n            ObjectNode objectNode = jsonParser.readValueAsTree();\r\n            objectNode.fieldNames().forEachRemaining(field -&gt; {\r\n                JsonNode fieldValue = objectNode.get(field);\r\n                if(fieldValue.isBoolean()) {\r\n                    result.put(field,fieldValue.asBoolean());\r\n                } else if(fieldValue.isInt()) {\r\n                    result.put(field,fieldValue.asInt());\r\n                } else if(fieldValue.isLong()) {\r\n                    result.put(field,fieldValue.asLong());\r\n                } else if(fieldValue.isDouble()) {\r\n                    // Here you set the double as a string\r\n                    result.put(field,fieldValue.asText());\r\n                } else {\r\n                    result.put(field,fieldValue.asText());\r\n                }\r\n            });\r\n            return result;\r\n        }\r\n    }\r\n\r\nThis is not the prettiest of solutions, this is the only one I know, I guess you will need to extend and modify the deserializer class somewhat to cater for all value types but at least this gives you a solid example of how to do it for a specific field, I tested this and it works.\r\n\r\nI however would suggest you always know the type of the values you will receive but I fully understand there will be certain scenarios where this might not be so.\r\n\r\nThe test json payload I used is as follow:\r\n\r\n    {\r\n        &quot;payload&quot; : { &quot;testDouble&quot; : 1.40 }\r\n    }","title":"Prevent Spring from auto converting number string within json to Double","body":"<p>You can use the annotation @JsonDeserialize for Jackson.</p>\n<p>Here follows an example model class that wraps the payload Map&lt;String,Object&gt; field and a controller class and the JSON deserialization class with the logic to accomplish what you want:</p>\n<pre><code>import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nimport za.co.twentysevenfour.excel.model.converter.ObjectMapDeserializer;\n\nimport java.io.Serializable;\nimport java.util.HashMap;\nimport java.util.Map;\n\n\npublic class TestPayloadWrapper implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @JsonDeserialize(using = ObjectMapDeserializer.class)\n    private Map&lt;String, Object&gt; payload = new HashMap&lt;&gt;();\n\n    public TestPayloadWrapper() {}\n\n    public Map&lt;String, Object&gt; getPayload() {\n        return payload;\n    }\n\n    public void setPayload(Map&lt;String, Object&gt; payload) {\n        this.payload = payload;\n    }\n}\n</code></pre>\n<p>Controller Class:</p>\n<pre><code>import org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\nimport za.co.twentysevenfour.excel.model.jpa.TestPayloadWrapper;\n    \nimport java.util.Map;\n        \n        \n@RestController\npublic class PayloadController {\n    @RequestMapping(value = &quot;/postEndpoint&quot;, method = RequestMethod.POST)\n    public Map&lt;String, Object&gt; postEndpoint(@RequestBody TestPayloadWrapper payload) \n    {\n        return payload.getPayload();\n    }\n}\n</code></pre>\n<p>JsonDeserializer class:</p>\n<pre><code>import com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\n\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class ObjectMapDeserializer extends JsonDeserializer&lt;Map&lt;String,Object&gt;&gt; {\n\n    @Override\n    public Map&lt;String,Object&gt; deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n        Map&lt;String,Object&gt; result = new HashMap&lt;&gt;();\n        ObjectNode objectNode = jsonParser.readValueAsTree();\n        objectNode.fieldNames().forEachRemaining(field -&gt; {\n            JsonNode fieldValue = objectNode.get(field);\n            if(fieldValue.isBoolean()) {\n                result.put(field,fieldValue.asBoolean());\n            } else if(fieldValue.isInt()) {\n                result.put(field,fieldValue.asInt());\n            } else if(fieldValue.isLong()) {\n                result.put(field,fieldValue.asLong());\n            } else if(fieldValue.isDouble()) {\n                // Here you set the double as a string\n                result.put(field,fieldValue.asText());\n            } else {\n                result.put(field,fieldValue.asText());\n            }\n        });\n        return result;\n    }\n}\n</code></pre>\n<p>This is not the prettiest of solutions, this is the only one I know, I guess you will need to extend and modify the deserializer class somewhat to cater for all value types but at least this gives you a solid example of how to do it for a specific field, I tested this and it works.</p>\n<p>I however would suggest you always know the type of the values you will receive but I fully understand there will be certain scenarios where this might not be so.</p>\n<p>The test json payload I used is as follow:</p>\n<pre><code>{\n    &quot;payload&quot; : { &quot;testDouble&quot; : 1.40 }\n}\n</code></pre>\n"}],"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":781,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":77194842,"answer_count":3,"score":4,"last_activity_date":1695903591,"creation_date":1668070581,"question_id":74386375,"body_markdown":"I have a POST endpoint receiving json in the request body and is mapped to `Map&lt;String, Object&gt;`.\r\n\r\nThe value can be of any string format, I am OK for Spring to auto convert `&quot;true&quot;` or `&quot;false&quot;` to `Boolean`, `&quot;123&quot;` to `Integer`. But I do not like it to convert `&quot;123.456&quot;` to `Double`, I want it to leave it as is (`String`).\r\n\r\nIs there any way (preferably config in application.yml) to selectively stop Spring from auto converting number string in json to `Double` only?","title":"Prevent Spring from auto converting number string within json to Double","body":"<p>I have a POST endpoint receiving json in the request body and is mapped to <code>Map&lt;String, Object&gt;</code>.</p>\n<p>The value can be of any string format, I am OK for Spring to auto convert <code>&quot;true&quot;</code> or <code>&quot;false&quot;</code> to <code>Boolean</code>, <code>&quot;123&quot;</code> to <code>Integer</code>. But I do not like it to convert <code>&quot;123.456&quot;</code> to <code>Double</code>, I want it to leave it as is (<code>String</code>).</p>\n<p>Is there any way (preferably config in application.yml) to selectively stop Spring from auto converting number string in json to <code>Double</code> only?</p>\n"},{"tags":["java","keycloak","saml","saml-2.0"],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695903044,"creation_date":1695895235,"question_id":77193977,"body_markdown":"I am trying to secure my java application using Keycloak security for the I have added all the kecycloak saml dependency. In web.xml I have added below config:\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;APP&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;org.keycloak.adapters.saml.servlet.SamlFilter&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;APP&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt; \r\n\r\nAlso added keycloal-saml.xml file in WEB-INF folder as below:\r\n\r\n    &lt;keycloak-saml-adapter&gt;\r\n    &lt;SP entityID=&quot;http://localhost:9222/APP/&quot;\r\n        sslPolicy=&quot;EXTERNAL&quot;\r\n        logoutPage=&quot;logout&quot;&gt;\r\n        &lt;Keys&gt;\r\n            &lt;Key signing=&quot;true&quot;&gt;\r\n                &lt;PrivateKeyPem&gt;\r\n                    &lt;!-- Private Key --&gt;\r\n                &lt;/PrivateKeyPem&gt;\r\n                &lt;CertificatePem&gt;\r\n                  &lt;!-- Certi Key --&gt;\r\n                &lt;/CertificatePem&gt;\r\n            &lt;/Key&gt;\r\n        &lt;/Keys&gt;\r\n        &lt;IDP entityID=&quot;idp&quot;\r\n             signatureAlgorithm=&quot;RSA_SHA256&quot;\r\n             signatureCanonicalizationMethod=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\r\n             metadataUrl=&quot;http://localhost:8280/realms/IDP_REALM/protocol/saml/descriptor&quot;&gt;\r\n            &lt;SingleSignOnService signRequest=&quot;true&quot;\r\n                                 validateResponseSignature=&quot;true&quot;\r\n                                 validateAssertionSignature=&quot;false&quot;\r\n                                 requestBinding=&quot;POST&quot;\r\n                                 bindingUrl=&quot;http://localhost:8280/realms/IDP_REALM/protocol/saml&quot;/&gt;\r\n            &lt;SingleLogoutService signRequest=&quot;true&quot;\r\n                                 signResponse=&quot;true&quot;\r\n                                 validateRequestSignature=&quot;true&quot;\r\n                                 validateResponseSignature=&quot;true&quot;\r\n                                 requestBinding=&quot;POST&quot;\r\n                                 responseBinding=&quot;POST&quot;\r\n                                 postBindingUrl=&quot;http://localhost:8280/realms/IDP_REALM/protocol/saml&quot;\r\n                                 redirectBindingUrl=&quot;http://localhost:8280/realms/IDP_REALM/protocol/saml&quot;/&gt;\r\n             &lt;Keys&gt;\r\n                &lt;Key signing=&quot;true&quot;&gt;\r\n                    &lt;KeyStore resource=&quot;/WEB-INF/keystore.jks&quot; password=&quot;store123&quot;&gt;\r\n                        &lt;Certificate alias=&quot;Test&quot;/&gt;\r\n                    &lt;/KeyStore&gt;\r\n                &lt;/Key&gt;\r\n            &lt;/Keys&gt;\r\n        &lt;/IDP&gt;\r\n    &lt;/SP&gt;\r\n&lt;/keycloak-saml-adapter&gt;\r\n\r\nand also added keycloak.jsk file and my application is getting up properly but the when I try to access my application it is redirecting to keycloak to validate that is right but keycloak is showing below error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAlso keycloak config is as follow:\r\n[![enter image description here][2]][2]\r\nCould you please help what am I missing in configuration so that it should show proper keycloak login page?\r\n\r\nAnd keycloak shows error:\r\n\r\n    type=LOGIN_ERROR, realmId=IDP_REALM, clientId=null, userId=null, ipAddress=172.22.0.1, error=client_not_found, reason=Cannot_match_source_hash\r\n\r\n  [1]: https://i.stack.imgur.com/CWipO.png\r\n  [2]: https://i.stack.imgur.com/jwrTH.png","title":"Secure Java application using Keycloak saml","body":"<p>I am trying to secure my java application using Keycloak security for the I have added all the kecycloak saml dependency. In web.xml I have added below config:</p>\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;APP&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.keycloak.adapters.saml.servlet.SamlFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;APP&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt; \n</code></pre>\n<p>Also added keycloal-saml.xml file in WEB-INF folder as below:</p>\n<pre><code>&lt;keycloak-saml-adapter&gt;\n&lt;SP entityID=&quot;http://localhost:9222/APP/&quot;\n    sslPolicy=&quot;EXTERNAL&quot;\n    logoutPage=&quot;logout&quot;&gt;\n    &lt;Keys&gt;\n        &lt;Key signing=&quot;true&quot;&gt;\n            &lt;PrivateKeyPem&gt;\n                &lt;!-- Private Key --&gt;\n            &lt;/PrivateKeyPem&gt;\n            &lt;CertificatePem&gt;\n              &lt;!-- Certi Key --&gt;\n            &lt;/CertificatePem&gt;\n        &lt;/Key&gt;\n    &lt;/Keys&gt;\n    &lt;IDP entityID=&quot;idp&quot;\n         signatureAlgorithm=&quot;RSA_SHA256&quot;\n         signatureCanonicalizationMethod=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;\n         metadataUrl=&quot;http://localhost:8280/realms/IDP_REALM/protocol/saml/descriptor&quot;&gt;\n        &lt;SingleSignOnService signRequest=&quot;true&quot;\n                             validateResponseSignature=&quot;true&quot;\n                             validateAssertionSignature=&quot;false&quot;\n                             requestBinding=&quot;POST&quot;\n                             bindingUrl=&quot;http://localhost:8280/realms/IDP_REALM/protocol/saml&quot;/&gt;\n        &lt;SingleLogoutService signRequest=&quot;true&quot;\n                             signResponse=&quot;true&quot;\n                             validateRequestSignature=&quot;true&quot;\n                             validateResponseSignature=&quot;true&quot;\n                             requestBinding=&quot;POST&quot;\n                             responseBinding=&quot;POST&quot;\n                             postBindingUrl=&quot;http://localhost:8280/realms/IDP_REALM/protocol/saml&quot;\n                             redirectBindingUrl=&quot;http://localhost:8280/realms/IDP_REALM/protocol/saml&quot;/&gt;\n         &lt;Keys&gt;\n            &lt;Key signing=&quot;true&quot;&gt;\n                &lt;KeyStore resource=&quot;/WEB-INF/keystore.jks&quot; password=&quot;store123&quot;&gt;\n                    &lt;Certificate alias=&quot;Test&quot;/&gt;\n                &lt;/KeyStore&gt;\n            &lt;/Key&gt;\n        &lt;/Keys&gt;\n    &lt;/IDP&gt;\n&lt;/SP&gt;\n</code></pre>\n\n<p>and also added keycloak.jsk file and my application is getting up properly but the when I try to access my application it is redirecting to keycloak to validate that is right but keycloak is showing below error:</p>\n<p><a href=\"https://i.stack.imgur.com/CWipO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CWipO.png\" alt=\"enter image description here\" /></a></p>\n<p>Also keycloak config is as follow:\n<a href=\"https://i.stack.imgur.com/jwrTH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jwrTH.png\" alt=\"enter image description here\" /></a>\nCould you please help what am I missing in configuration so that it should show proper keycloak login page?</p>\n<p>And keycloak shows error:</p>\n<pre><code>type=LOGIN_ERROR, realmId=IDP_REALM, clientId=null, userId=null, ipAddress=172.22.0.1, error=client_not_found, reason=Cannot_match_source_hash\n</code></pre>\n"},{"tags":["java","hibernate","orm","lazy-loading","cascade"],"owner":{"account_id":29555024,"reputation":1,"user_id":22650848,"display_name":"Sankeerthan Joshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695902787,"creation_date":1695902627,"question_id":77194780,"body_markdown":"I am using hibernate.enhancer.enableLazyInitialization = true in my Spring boot application.\r\n\r\nhibernate version - 5.6.15\r\n\r\nI have an entity Sample.java \r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;sample&quot;)\r\npublic class Sample {\r\n\r\n    @Id\r\n    private Long id;\r\n    \r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;sample_config_id&quot;)\r\n    private SampleConfig sampleConfig;\r\n\r\n    @Column(name = &quot;satus&quot;, length = 10)\r\n    private String status;\r\n\r\n}\r\n```\r\nAnd I am trying to do\r\n\r\n```\r\nSample sample = sampleRepository.findById(1L);\r\n\r\nsample.setStatus(&quot;ACTIVE&quot;);\r\n\r\nsampleRepository.save(sample) ;\r\n```\r\n\r\n\r\nbut this is throwing error\r\n\r\n`object references an unsaved transient instance - save the transient instance before flushing: com.xxx.xxx.xxx.Sample.sampleConfig`\r\n\r\n\r\n\r\n\r\nIt is working as expected if I remove fetch type Lazy in @ManyToOne. But my requirement is that I want to fetch the entity lazily but while saving, I don&#39;t want to Cascade on any operation.\r\n\r\nIf I do CascadeType.ALL it is updating the sample_config table also with null fields.\r\n\r\nIf I do enableLazyInitialization = false and CascadeType.ALL it is not updating the sample_config but saving the sample ( This is my expected behaviour but I require lazy fetch )","title":"With enableLazyInitialization = true, I am not able to save the Entity Object with CascadeType None","body":"<p>I am using hibernate.enhancer.enableLazyInitialization = true in my Spring boot application.</p>\n<p>hibernate version - 5.6.15</p>\n<p>I have an entity Sample.java</p>\n<pre><code>@Entity\n@Table(name = &quot;sample&quot;)\npublic class Sample {\n\n    @Id\n    private Long id;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;sample_config_id&quot;)\n    private SampleConfig sampleConfig;\n\n    @Column(name = &quot;satus&quot;, length = 10)\n    private String status;\n\n}\n</code></pre>\n<p>And I am trying to do</p>\n<pre><code>Sample sample = sampleRepository.findById(1L);\n\nsample.setStatus(&quot;ACTIVE&quot;);\n\nsampleRepository.save(sample) ;\n</code></pre>\n<p>but this is throwing error</p>\n<p><code>object references an unsaved transient instance - save the transient instance before flushing: com.xxx.xxx.xxx.Sample.sampleConfig</code></p>\n<p>It is working as expected if I remove fetch type Lazy in @ManyToOne. But my requirement is that I want to fetch the entity lazily but while saving, I don't want to Cascade on any operation.</p>\n<p>If I do CascadeType.ALL it is updating the sample_config table also with null fields.</p>\n<p>If I do enableLazyInitialization = false and CascadeType.ALL it is not updating the sample_config but saving the sample ( This is my expected behaviour but I require lazy fetch )</p>\n"},{"tags":["c#","java","frameworks","uml"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1297873986,"post_id":5018739,"comment_id":5611992,"body_markdown":"I&#39;m starting to suspect that this more of an attempt to start a debate than a real question.","body":"I&#39;m starting to suspect that this more of an attempt to start a debate than a real question."}],"answers":[{"comments":[{"owner":{"account_id":118921,"reputation":37314,"user_id":310291,"accept_rate":74,"display_name":"user310291"},"score":0,"creation_date":1297872742,"post_id":5018871,"comment_id":5611647,"body_markdown":"ORM is not full application. Above tool is meant to generate a full blown app and make it evolve.","body":"ORM is not full application. Above tool is meant to generate a full blown app and make it evolve."}],"tags":[],"owner":{"account_id":51330,"reputation":10190,"user_id":551899,"accept_rate":89,"display_name":"jmq"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1297872606,"creation_date":1297872606,"answer_id":5018871,"question_id":5018739,"body_markdown":"I use Sybase Powerdesigner and custom Ruby code (to access the data model) to generate my ORM model from UML.  It can be tough to generate code against UML because there are many ways you can customize the model.  I have stereotypes that are not really classes, but are being used for other code generation purposes that are custom to the problem I&#39;m solving.  How would a generic code generator understand my custom uses of the model?","title":"Full Java/C# Code Generation tools from Model?","body":"<p>I use Sybase Powerdesigner and custom Ruby code (to access the data model) to generate my ORM model from UML.  It can be tough to generate code against UML because there are many ways you can customize the model.  I have stereotypes that are not really classes, but are being used for other code generation purposes that are custom to the problem I'm solving.  How would a generic code generator understand my custom uses of the model?</p>\n"},{"comments":[{"owner":{"account_id":118921,"reputation":37314,"user_id":310291,"accept_rate":74,"display_name":"user310291"},"score":0,"creation_date":1297873053,"post_id":5018925,"comment_id":5611740,"body_markdown":"Have you ever seen somebody using EMF to generate a full blown app with GUI etc? ?","body":"Have you ever seen somebody using EMF to generate a full blown app with GUI etc? ?"},{"owner":{"account_id":118921,"reputation":37314,"user_id":310291,"accept_rate":74,"display_name":"user310291"},"score":0,"creation_date":1297873148,"post_id":5018925,"comment_id":5611767,"body_markdown":"EMF is a framework for building UML Tool as far as I can see not a tool by itself which facilitates the building and maintenance of an application.","body":"EMF is a framework for building UML Tool as far as I can see not a tool by itself which facilitates the building and maintenance of an application."},{"owner":{"account_id":118921,"reputation":37314,"user_id":310291,"accept_rate":74,"display_name":"user310291"},"score":0,"creation_date":1297892043,"post_id":5018925,"comment_id":5616380,"body_markdown":"That&#39;s my point there&#39;s nothing general as far as I can see except the one above.","body":"That&#39;s my point there&#39;s nothing general as far as I can see except the one above."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1297873564,"creation_date":1297872820,"answer_id":5018925,"question_id":5018739,"body_markdown":"[Eclipse EMF][1] generates complete Java code from EMF models (ECore).  EMF generates classes to represent instances of the model in-memory with support for XML or XMI serialization / deserialization, hooks for validation, an optional editor, and more.\r\n\r\n-----------------------\r\n\r\n&gt; What I mean by real: EMF is not such a tool it&#39;s only a framework for building UML Tool as far as I can see not a tool by itself which facilitates the building and maintenance of an application.\r\n\r\nYou need to do more research before you make statements like that.  EMF is a real tool for building real software based on real models.  I&#39;ve used it successfully for building and maintaining production software over a number of years.\r\n\r\n&gt; Have you ever seen somebody using EMF to generate a full blown app with GUI etc?\r\n\r\nOh yes.  Done it myself.  Admittedly, I&#39;m talking about specific kinds of applications, and specific kinds of GUIs.\r\n\r\n  [1]: http://www.eclipse.org/modeling/emf/docs/","title":"Full Java/C# Code Generation tools from Model?","body":"<p><a href=\"http://www.eclipse.org/modeling/emf/docs/\" rel=\"nofollow\">Eclipse EMF</a> generates complete Java code from EMF models (ECore).  EMF generates classes to represent instances of the model in-memory with support for XML or XMI serialization / deserialization, hooks for validation, an optional editor, and more.</p>\n\n<hr>\n\n<blockquote>\n  <p>What I mean by real: EMF is not such a tool it's only a framework for building UML Tool as far as I can see not a tool by itself which facilitates the building and maintenance of an application.</p>\n</blockquote>\n\n<p>You need to do more research before you make statements like that.  EMF is a real tool for building real software based on real models.  I've used it successfully for building and maintaining production software over a number of years.</p>\n\n<blockquote>\n  <p>Have you ever seen somebody using EMF to generate a full blown app with GUI etc?</p>\n</blockquote>\n\n<p>Oh yes.  Done it myself.  Admittedly, I'm talking about specific kinds of applications, and specific kinds of GUIs.</p>\n"},{"comments":[{"owner":{"account_id":118921,"reputation":37314,"user_id":310291,"accept_rate":74,"display_name":"user310291"},"score":0,"creation_date":1297892138,"post_id":5019143,"comment_id":5616409,"body_markdown":"The problem I see is that I cannot make it work reading your documentation. For example doc doesn&#39;t explain how to import package to create the IRun interface. There are many details that seem missing.","body":"The problem I see is that I cannot make it work reading your documentation. For example doc doesn&#39;t explain how to import package to create the IRun interface. There are many details that seem missing."},{"owner":{"account_id":200128,"reputation":555,"user_id":445819,"display_name":"Andrew McVeigh"},"score":0,"creation_date":1297896788,"post_id":5019143,"comment_id":5617429,"body_markdown":"Yes, apologies for the current documentation. I&#39;ve been working with some people over the last week or so and realised that the docs are too broad and not easy to follow.  The IRun interface is in the com.intrinsarc.backbone.runtime.api package in the backbone.jar file. Please feel free to email me at info@intrinsarc.com or post to the support forum if you have issues.","body":"Yes, apologies for the current documentation. I&#39;ve been working with some people over the last week or so and realised that the docs are too broad and not easy to follow.  The IRun interface is in the com.intrinsarc.backbone.runtime.api package in the backbone.jar file. Please feel free to email me at info@intrinsarc.com or post to the support forum if you have issues."},{"owner":{"account_id":200128,"reputation":555,"user_id":445819,"display_name":"Andrew McVeigh"},"score":0,"creation_date":1297931228,"post_id":5019143,"comment_id":5621863,"body_markdown":"By the way, we are always interested in comments, criticisms and suggestions for improvement. The Evolve tool has compressed almost a decade of research into a toolset, so although it is extremely powerful, we are having teething problems getting people over the learning curve. We hope to improve the docs etc in the near future. Feel free to send any comments to info@intrinsarc.com","body":"By the way, we are always interested in comments, criticisms and suggestions for improvement. The Evolve tool has compressed almost a decade of research into a toolset, so although it is extremely powerful, we are having teething problems getting people over the learning curve. We hope to improve the docs etc in the near future. Feel free to send any comments to info@intrinsarc.com"}],"tags":[],"owner":{"account_id":200128,"reputation":555,"user_id":445819,"display_name":"Andrew McVeigh"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1297874307,"creation_date":1297873791,"answer_id":5019143,"question_id":5018739,"body_markdown":"I wrote the Evolve system which the question is about.\r\n\r\nEvolve generates code to connect up classes from UML component models. It can also generate full code for state diagrams, which is incredibly handy. You can easily import and connect up your own classes. It effectively allows you to create software in a way like how you might plug together chips into an electronics circuit board.\r\n\r\nThe real advantage though is that it aligns software creation, reuse and evolution. In other words, you can create a system, pass it to a colleague, and they can evolve or extend it in any way, even without the source code, and without you having to pre-plan the extension points. You can extend and reuse state charts also.\r\n\r\nIt does sound magic, but it has a very strong foundation - it was the outcome of recent phd research, and it is actually one of the more sophisticated design tools on the market. The professors who supervised the research also influenced Microsoft&#39;s COM work. \r\n\r\nHere is a small video of it in action: [http://intrinsarc.com/movies/evolve.html][1]\r\n\r\nTry it and let us know how you go! The manual has a tutorial which shows you how to build up to a GWT/Hibernate working example.\r\n(BTW Evolve uses EMF under the covers for storing the UML models)\r\n\r\n\r\n  [1]: http://intrinsarc.com/movies/evolve.html","title":"Full Java/C# Code Generation tools from Model?","body":"<p>I wrote the Evolve system which the question is about.</p>\n\n<p>Evolve generates code to connect up classes from UML component models. It can also generate full code for state diagrams, which is incredibly handy. You can easily import and connect up your own classes. It effectively allows you to create software in a way like how you might plug together chips into an electronics circuit board.</p>\n\n<p>The real advantage though is that it aligns software creation, reuse and evolution. In other words, you can create a system, pass it to a colleague, and they can evolve or extend it in any way, even without the source code, and without you having to pre-plan the extension points. You can extend and reuse state charts also.</p>\n\n<p>It does sound magic, but it has a very strong foundation - it was the outcome of recent phd research, and it is actually one of the more sophisticated design tools on the market. The professors who supervised the research also influenced Microsoft's COM work. </p>\n\n<p>Here is a small video of it in action: <a href=\"http://intrinsarc.com/movies/evolve.html\" rel=\"nofollow\">http://intrinsarc.com/movies/evolve.html</a></p>\n\n<p>Try it and let us know how you go! The manual has a tutorial which shows you how to build up to a GWT/Hibernate working example.\n(BTW Evolve uses EMF under the covers for storing the UML models)</p>\n"}],"owner":{"account_id":118921,"reputation":37314,"user_id":310291,"accept_rate":74,"display_name":"user310291"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1063,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":5019143,"answer_count":3,"score":1,"last_activity_date":1695902722,"creation_date":1297872088,"question_id":5018739,"body_markdown":"It&#39;s very surprising that there are no real tools to fully generate code from a model. All UML tools I&#39;ve seen are not really practical except this one:\r\n\r\nhttp://www.intrinsarc.com/\r\n\r\n    A hierarchical component model with full connectors\r\n    At the heart of Evolve is a hierarchical component model with full connectors. Connectors act like\r\n    wires between components, making it simple and intuitive to express detailed structures that are\r\n    diﬃcult or impossible in other approaches such as dependency injection.\r\n    Resemblance and evolution\r\n    These two constructs provide unprecedented levels of support for component reuse. \r\n\r\n    Resemblance\r\n        is a form of component inheritance. Evolution builds on this to allow the structure of an existing\r\n        system to be remodeled, without destroying the original deﬁnition. These facilities can be used to\r\n        create variants of a system, or to switch in test components.\r\n\r\nDid someone try it : what do you think ? It seems like based on UML but not on UML class but other types of diagrams. \r\n\r\nAny other tool which can do real code generation UML or not ?\r\n\r\nWhat I mean by real: EMF is not such a tool it&#39;s only a framework for building UML Tool as far as I can see not a tool by itself which facilitates the building and maintenance of an application.\r\n\r\nSame for Visual Studio Ultimate. Though the UML tool inside is quite good it&#39;s just yet another UML tool that doesn&#39;t really help ypu model but just do graphically what you can do by typing code.\r\n","title":"Full Java/C# Code Generation tools from Model?","body":"<p>It's very surprising that there are no real tools to fully generate code from a model. All UML tools I've seen are not really practical except this one:</p>\n\n<p><a href=\"http://www.intrinsarc.com/\" rel=\"nofollow\">http://www.intrinsarc.com/</a></p>\n\n<pre><code>A hierarchical component model with full connectors\nAt the heart of Evolve is a hierarchical component model with full connectors. Connectors act like\nwires between components, making it simple and intuitive to express detailed structures that are\ndiﬃcult or impossible in other approaches such as dependency injection.\nResemblance and evolution\nThese two constructs provide unprecedented levels of support for component reuse. \n\nResemblance\n    is a form of component inheritance. Evolution builds on this to allow the structure of an existing\n    system to be remodeled, without destroying the original deﬁnition. These facilities can be used to\n    create variants of a system, or to switch in test components.\n</code></pre>\n\n<p>Did someone try it : what do you think ? It seems like based on UML but not on UML class but other types of diagrams. </p>\n\n<p>Any other tool which can do real code generation UML or not ?</p>\n\n<p>What I mean by real: EMF is not such a tool it's only a framework for building UML Tool as far as I can see not a tool by itself which facilitates the building and maintenance of an application.</p>\n\n<p>Same for Visual Studio Ultimate. Though the UML tool inside is quite good it's just yet another UML tool that doesn't really help ypu model but just do graphically what you can do by typing code.</p>\n"},{"tags":["java","android","flutter","kotlin","native"],"answers":[{"tags":[],"owner":{"account_id":20499059,"reputation":444,"user_id":15043368,"display_name":"Mostafa Mahmoud"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682727733,"creation_date":1682727733,"answer_id":76133977,"question_id":75946850,"body_markdown":"solved\r\nyou can use the data binding method to access the fragment ","title":"How to host an Android Fragment in a Flutter app as a native view, when the context is a MutableContextWrapper and needs to be added to the View class","body":"<p>solved\nyou can use the data binding method to access the fragment</p>\n"}],"owner":{"account_id":20499059,"reputation":444,"user_id":15043368,"display_name":"Mostafa Mahmoud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1037,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695902596,"creation_date":1680765851,"question_id":75946850,"body_markdown":"I need to host an embedded native view into my Flutter app,   \r\nI have an Android Fragment and me trying to add it to the `View` class that registered in `FlutterEngine`  \r\nbut Fragments need to be added:\r\n\r\n```\r\n(context as FragmentActivity).supportFragmentManager\r\n```\r\n\r\n And that does not work due to the existing context is `MutableContextWrapper`\r\n\r\nAny help, please?\r\n\r\n**MainActivity:**\r\n\r\n```\r\nclass MainActivity: FlutterActivity() {\r\n    override fun configureFlutterEngine(flutterEngine: FlutterEngine) {\r\n        flutterEngine\r\n            .platformViewsController\r\n            .registry\r\n            .registerViewFactory(&quot;EmbeddedNavigationView.kt&quot;, EmbeddedNavigationFactory(mapOf(&quot;text&quot; to &quot;hello!&quot;)))\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n**EmbeddedNavigationView:**\r\n\r\n```\r\nclass EmbeddedNavigationView(context: Context, val viewParams: Map&lt;String, Any&gt;) : View(context), PlatformView {\r\n\r\n    private lateinit var fragmentMap: Fragment\r\n    private val fragment: Fragment = FlutterFragment.createDefault()\r\n    init {\r\n        initObjects()\r\n        initSubView()\r\n    }\r\n    private fun initObjects() {\r\n        fragmentMap = MapFragment()\r\n    }\r\n    private fun initSubView() {\r\n        addFragment(fragmentMap)\r\n    }\r\n    private fun addFragment(fragment: Fragment) {\r\n\r\n        // thow error due to MutableContextWrapper is not a FragmentActivity\r\n\r\n        val fragmentManager = (context as FragmentActivity).supportFragmentManager\r\n\r\n        val transaction = fragmentManager.beginTransaction()\r\n        transaction.add(R.id.fragment_map, fragment)\r\n        transaction.commit()\r\n    }\r\n\r\n    private fun removeFragment(fragment: Fragment) {\r\n        val fragmentManager = (context as FragmentActivity).supportFragmentManager\r\n\r\n        val transaction = fragmentManager.beginTransaction()\r\n        transaction.remove(fragment)\r\n        transaction.commit()\r\n    }\r\n\r\n\r\n    override fun onDraw(canvas: Canvas) {\r\n        // Draw the view&#39;s content\r\n        super.onDraw(canvas)\r\n    }\r\n\r\n    override fun onDetachedFromWindow() {\r\n        // Remove the fragment when the view is detached\r\n        fragmentMap?.let {\r\n            (context as AppCompatActivity).supportFragmentManager.beginTransaction().remove(it).commit()\r\n        }\r\n        super.onDetachedFromWindow()\r\n    }\r\n\r\n    class MyFragment : Fragment() {\r\n        // Fragment code here\r\n    }\r\n\r\n    override fun getView(): View? {\r\n        return this\r\n\r\n        TODO(&quot;Not yet implemented&quot;)\r\n\r\n    }\r\n\r\n    override fun dispose() {\r\n        // impl dispose\r\n\r\n\r\n\r\n        TODO(&quot;Not yet implemented&quot;)\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n**EmbeddedNavigationFactory:**\r\n\r\n```\r\nclass EmbeddedNavigationFactory(private val createParams: Map&lt;String, Any&gt;?) : PlatformViewFactory(StandardMessageCodec.INSTANCE) {\r\n\r\n    override fun create(context: Context, viewId: Int, args: Any?): PlatformView {\r\n        val viewParams = createParams ?: args as? Map&lt;String, Any&gt; ?: mapOf()\r\n\r\n        return EmbeddedNavigationView(context, viewParams)\r\n    }\r\n\r\n}\r\n```\r\n\r\n**MapFragment:**\r\n\r\n```\r\nclass MapFragment : androidx.fragment.app.Fragment() { ... }\r\n```\r\n\r\n**Logs:**\r\n\r\n```\r\nLaunching lib/main.dart on 2201117TG in debug mode...\r\nRunning Gradle task &#39;assembleDebug&#39;...\r\n✓  Built build/app/outputs/flutter-apk/app-debug.apk.\r\nInstalling build/app/outputs/flutter-apk/app-debug.apk...\r\nDebug service listening on ws://127.0.0.1:50805/JtPxjixFiC4=/ws\r\nSyncing files to device 2201117TG...\r\nE/MethodChannel#flutter/platform_views(15059): Failed to handle method call\r\nE/MethodChannel#flutter/platform_views(15059): java.lang.ClassCastException: android.content.MutableContextWrapper cannot be cast to androidx.fragment.app.FragmentActivity\r\nE/MethodChannel#flutter/platform_views(15059): \tat com.example.mapbox_android_update.EmbeddedNavigationView.addFragment(EmbeddedNavigationView.kt:29)\r\nE/MethodChannel#flutter/platform_views(15059): \tat com.example.mapbox_android_update.EmbeddedNavigationView.initSubView(EmbeddedNavigationView.kt:26)\r\nE/MethodChannel#flutter/platform_views(15059): \tat com.example.mapbox_android_update.EmbeddedNavigationView.&lt;init&gt;(EmbeddedNavigationView.kt:20)\r\nE/MethodChannel#flutter/platform_views(15059): \tat com.example.mapbox_android_update.EmbeddedNavigationFactory.create(EmbeddedNavigationFactory.kt:19)\r\nE/MethodChannel#flutter/platform_views(15059): \tat io.flutter.plugin.platform.PlatformViewsController$1.createPlatformView(PlatformViewsController.java:503)\r\nE/MethodChannel#flutter/platform_views(15059): \tat io.flutter.plugin.platform.PlatformViewsController$1.createForTextureLayer(PlatformViewsController.java:191)\r\nE/MethodChannel#flutter/platform_views(15059): \tat io.flutter.embedding.engine.systemchannels.PlatformViewsChannel$1.create(PlatformViewsChannel.java:128)\r\nE/MethodChannel#flutter/platform_views(15059): \tat io.flutter.embedding.engine.systemchannels.PlatformViewsChannel$1.onMethodCall(PlatformViewsChannel.java:55)\r\nE/MethodChannel#flutter/platform_views(15059): \tat io.flutter.plugin.common.MethodChannel$IncomingMethodCallHandler.onMessage(MethodChannel.java:258)\r\nE/MethodChannel#flutter/platform_views(15059): \tat io.flutter.embedding.engine.dart.DartMessenger.invokeHandler(DartMessenger.java:295)\r\nE/MethodChannel#flutter/platform_views(15059): \tat io.flutter.embedding.engine.dart.DartMessenger.lambda$dispatchMessageToQueue$0$io-flutter-embedding-engine-dart-DartMessenger(DartMessenger.java:322)\r\nE/MethodChannel#flutter/platform_views(15059): \tat io.flutter.embedding.engine.dart.DartMessenger$$ExternalSyntheticLambda0.run(Unknown Source:12)\r\nE/MethodChannel#flutter/platform_views(15059): \tat android.os.Handler.handleCallback(Handler.java:938)\r\nE/MethodChannel#flutter/platform_views(15059): \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\nE/MethodChannel#flutter/platform_views(15059): \tat android.os.Looper.loopOnce(Looper.java:210)\r\nE/MethodChannel#flutter/platform_views(15059): \tat android.os.Looper.loop(Looper.java:299)\r\nE/MethodChannel#flutter/platform_views(15059): \tat android.app.ActivityThread.main(ActivityThread.java:8309)\r\nE/MethodChannel#flutter/platform_views(15059): \tat java.lang.reflect.Method.invoke(Native Method)\r\nE/MethodChannel#flutter/platform_views(15059): \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\r\nE/MethodChannel#flutter/platform_views(15059): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1038)\r\nE/flutter (15059): [ERROR:flutter/runtime/dart_vm_initializer.cc(41)] Unhandled Exception: PlatformException(error, android.content.MutableContextWrapper cannot be cast to androidx.fragment.app.FragmentActivity, null, java.lang.ClassCastException: android.content.MutableContextWrapper cannot be cast to androidx.fragment.app.FragmentActivity\r\nE/flutter (15059): \tat com.example.mapbox_android_update.EmbeddedNavigationView.addFragment(EmbeddedNavigationView.kt:29)\r\nE/flutter (15059): \tat com.example.mapbox_android_update.EmbeddedNavigationView.initSubView(EmbeddedNavigationView.kt:26)\r\nE/flutter (15059): \tat com.example.mapbox_android_update.EmbeddedNavigationView.&lt;init&gt;(EmbeddedNavigationView.kt:20)\r\nE/flutter (15059): \tat com.example.mapbox_android_update.EmbeddedNavigationFactory.create(EmbeddedNavigationFactory.kt:19)\r\nE/flutter (15059): \tat io.flutter.plugin.platform.PlatformViewsController$1.createPlatformView(PlatformViewsController.java:503)\r\nE/flutter (15059): \tat io.flutter.plugin.platform.PlatformViewsController$1.createForTextureLayer(PlatformViewsController.java:191)\r\nE/flutter (15059): \tat io.flutter.embedding.engine.systemchannels.PlatformViewsChannel$1.create(PlatformViewsChannel.java:128)\r\nE/flutter (15059): \tat io.flutter.embedding.engine.systemchannels.PlatformViewsChannel$1.onMethodCall(PlatformViewsChannel.java:55)\r\nE/flutter (15059): \tat io.flutter.plugin.common.MethodChannel$IncomingMethodCallHandler.onMessage(MethodChannel.java:258)\r\nE/flutter (15059): \tat io.flutter.embedding.engine.dart.DartMessenger.invokeHandler(DartMessenger.java:295)\r\nE/flutter (15059): \tat io.flutter.embedding.engine.dart.DartMessenger.lambda$dispatchMessageToQueue$0$io-flutter-embedding-engine-dart-DartMessenger(DartMessenger.java:322)\r\nE/flutter (15059): \tat io.flutter.embedding.engine.dart.DartMessenger$$ExternalSyntheticLambda0.run(Unknown Source:12)\r\nE/flutter (15059): \tat android.os.Handler.handleCallback(Handler.java:938)\r\nE/flutter (15059): \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\nE/flutter (15059): \tat android.os.Looper.loopOnce(Looper.java:210)\r\nE/flutter (15059): \tat android.os.Looper.loop(Looper.java:299)\r\nE/flutter (15059): \tat android.app.ActivityThread.main(ActivityThread.java:8309)\r\nE/flutter (15059): \tat java.lang.reflect.Method.invoke(Native Method)\r\nE/flutter (15059): \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\r\nE/flutter (15059): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1038)\r\nE/flutter (15059): )\r\nE/flutter (15059): #0      StandardMethodCodec.decodeEnvelope (package:flutter/src/services/message_codecs.dart:653:7)\r\nE/flutter (15059): #1      MethodChannel._invokeMethod (package:flutter/src/services/platform_channel.dart:315:18)\r\nE/flutter (15059): &lt;asynchronous suspension&gt;\r\nE/flutter (15059): #2      TextureAndroidViewController._sendCreateMessage (package:flutter/src/services/platform_views.dart:1141:28)\r\nE/flutter (15059): &lt;asynchronous suspension&gt;\r\nE/flutter (15059): #3      AndroidViewController.create (package:flutter/src/services/platform_views.dart:801:5)\r\nE/flutter (15059): &lt;asynchronous suspension&gt;\r\nE/flutter (15059): #4      AndroidViewController.setSize (package:flutter/src/services/platform_views.dart:828:7)\r\nE/flutter (15059): &lt;asynchronous suspension&gt;\r\nE/flutter (15059): #5      RenderAndroidView._sizePlatformView (package:flutter/src/rendering/platform_view.dart:182:29)\r\nE/flutter (15059): &lt;asynchronous suspension&gt;\r\nE/flutter (15059): \r\nE/_android_updat(15059): open libmigui.so failed! dlopen - dlopen failed: library &quot;libmigui.so&quot; not found\r\nD/DecorView[](15059): onWindowFocusChanged hasWindowFocus true\r\n```\r\n\r\nadding this android native fragment to flutter app","title":"How to host an Android Fragment in a Flutter app as a native view, when the context is a MutableContextWrapper and needs to be added to the View class","body":"<p>I need to host an embedded native view into my Flutter app,<br />\nI have an Android Fragment and me trying to add it to the <code>View</code> class that registered in <code>FlutterEngine</code><br />\nbut Fragments need to be added:</p>\n<pre><code>(context as FragmentActivity).supportFragmentManager\n</code></pre>\n<p>And that does not work due to the existing context is <code>MutableContextWrapper</code></p>\n<p>Any help, please?</p>\n<p><strong>MainActivity:</strong></p>\n<pre><code>class MainActivity: FlutterActivity() {\n    override fun configureFlutterEngine(flutterEngine: FlutterEngine) {\n        flutterEngine\n            .platformViewsController\n            .registry\n            .registerViewFactory(&quot;EmbeddedNavigationView.kt&quot;, EmbeddedNavigationFactory(mapOf(&quot;text&quot; to &quot;hello!&quot;)))\n    }\n\n\n}\n</code></pre>\n<p><strong>EmbeddedNavigationView:</strong></p>\n<pre><code>class EmbeddedNavigationView(context: Context, val viewParams: Map&lt;String, Any&gt;) : View(context), PlatformView {\n\n    private lateinit var fragmentMap: Fragment\n    private val fragment: Fragment = FlutterFragment.createDefault()\n    init {\n        initObjects()\n        initSubView()\n    }\n    private fun initObjects() {\n        fragmentMap = MapFragment()\n    }\n    private fun initSubView() {\n        addFragment(fragmentMap)\n    }\n    private fun addFragment(fragment: Fragment) {\n\n        // thow error due to MutableContextWrapper is not a FragmentActivity\n\n        val fragmentManager = (context as FragmentActivity).supportFragmentManager\n\n        val transaction = fragmentManager.beginTransaction()\n        transaction.add(R.id.fragment_map, fragment)\n        transaction.commit()\n    }\n\n    private fun removeFragment(fragment: Fragment) {\n        val fragmentManager = (context as FragmentActivity).supportFragmentManager\n\n        val transaction = fragmentManager.beginTransaction()\n        transaction.remove(fragment)\n        transaction.commit()\n    }\n\n\n    override fun onDraw(canvas: Canvas) {\n        // Draw the view's content\n        super.onDraw(canvas)\n    }\n\n    override fun onDetachedFromWindow() {\n        // Remove the fragment when the view is detached\n        fragmentMap?.let {\n            (context as AppCompatActivity).supportFragmentManager.beginTransaction().remove(it).commit()\n        }\n        super.onDetachedFromWindow()\n    }\n\n    class MyFragment : Fragment() {\n        // Fragment code here\n    }\n\n    override fun getView(): View? {\n        return this\n\n        TODO(&quot;Not yet implemented&quot;)\n\n    }\n\n    override fun dispose() {\n        // impl dispose\n\n\n\n        TODO(&quot;Not yet implemented&quot;)\n    }\n\n\n}\n</code></pre>\n<p><strong>EmbeddedNavigationFactory:</strong></p>\n<pre><code>class EmbeddedNavigationFactory(private val createParams: Map&lt;String, Any&gt;?) : PlatformViewFactory(StandardMessageCodec.INSTANCE) {\n\n    override fun create(context: Context, viewId: Int, args: Any?): PlatformView {\n        val viewParams = createParams ?: args as? Map&lt;String, Any&gt; ?: mapOf()\n\n        return EmbeddedNavigationView(context, viewParams)\n    }\n\n}\n</code></pre>\n<p><strong>MapFragment:</strong></p>\n<pre><code>class MapFragment : androidx.fragment.app.Fragment() { ... }\n</code></pre>\n<p><strong>Logs:</strong></p>\n<pre><code>Launching lib/main.dart on 2201117TG in debug mode...\nRunning Gradle task 'assembleDebug'...\n✓  Built build/app/outputs/flutter-apk/app-debug.apk.\nInstalling build/app/outputs/flutter-apk/app-debug.apk...\nDebug service listening on ws://127.0.0.1:50805/JtPxjixFiC4=/ws\nSyncing files to device 2201117TG...\nE/MethodChannel#flutter/platform_views(15059): Failed to handle method call\nE/MethodChannel#flutter/platform_views(15059): java.lang.ClassCastException: android.content.MutableContextWrapper cannot be cast to androidx.fragment.app.FragmentActivity\nE/MethodChannel#flutter/platform_views(15059):  at com.example.mapbox_android_update.EmbeddedNavigationView.addFragment(EmbeddedNavigationView.kt:29)\nE/MethodChannel#flutter/platform_views(15059):  at com.example.mapbox_android_update.EmbeddedNavigationView.initSubView(EmbeddedNavigationView.kt:26)\nE/MethodChannel#flutter/platform_views(15059):  at com.example.mapbox_android_update.EmbeddedNavigationView.&lt;init&gt;(EmbeddedNavigationView.kt:20)\nE/MethodChannel#flutter/platform_views(15059):  at com.example.mapbox_android_update.EmbeddedNavigationFactory.create(EmbeddedNavigationFactory.kt:19)\nE/MethodChannel#flutter/platform_views(15059):  at io.flutter.plugin.platform.PlatformViewsController$1.createPlatformView(PlatformViewsController.java:503)\nE/MethodChannel#flutter/platform_views(15059):  at io.flutter.plugin.platform.PlatformViewsController$1.createForTextureLayer(PlatformViewsController.java:191)\nE/MethodChannel#flutter/platform_views(15059):  at io.flutter.embedding.engine.systemchannels.PlatformViewsChannel$1.create(PlatformViewsChannel.java:128)\nE/MethodChannel#flutter/platform_views(15059):  at io.flutter.embedding.engine.systemchannels.PlatformViewsChannel$1.onMethodCall(PlatformViewsChannel.java:55)\nE/MethodChannel#flutter/platform_views(15059):  at io.flutter.plugin.common.MethodChannel$IncomingMethodCallHandler.onMessage(MethodChannel.java:258)\nE/MethodChannel#flutter/platform_views(15059):  at io.flutter.embedding.engine.dart.DartMessenger.invokeHandler(DartMessenger.java:295)\nE/MethodChannel#flutter/platform_views(15059):  at io.flutter.embedding.engine.dart.DartMessenger.lambda$dispatchMessageToQueue$0$io-flutter-embedding-engine-dart-DartMessenger(DartMessenger.java:322)\nE/MethodChannel#flutter/platform_views(15059):  at io.flutter.embedding.engine.dart.DartMessenger$$ExternalSyntheticLambda0.run(Unknown Source:12)\nE/MethodChannel#flutter/platform_views(15059):  at android.os.Handler.handleCallback(Handler.java:938)\nE/MethodChannel#flutter/platform_views(15059):  at android.os.Handler.dispatchMessage(Handler.java:99)\nE/MethodChannel#flutter/platform_views(15059):  at android.os.Looper.loopOnce(Looper.java:210)\nE/MethodChannel#flutter/platform_views(15059):  at android.os.Looper.loop(Looper.java:299)\nE/MethodChannel#flutter/platform_views(15059):  at android.app.ActivityThread.main(ActivityThread.java:8309)\nE/MethodChannel#flutter/platform_views(15059):  at java.lang.reflect.Method.invoke(Native Method)\nE/MethodChannel#flutter/platform_views(15059):  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\nE/MethodChannel#flutter/platform_views(15059):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1038)\nE/flutter (15059): [ERROR:flutter/runtime/dart_vm_initializer.cc(41)] Unhandled Exception: PlatformException(error, android.content.MutableContextWrapper cannot be cast to androidx.fragment.app.FragmentActivity, null, java.lang.ClassCastException: android.content.MutableContextWrapper cannot be cast to androidx.fragment.app.FragmentActivity\nE/flutter (15059):  at com.example.mapbox_android_update.EmbeddedNavigationView.addFragment(EmbeddedNavigationView.kt:29)\nE/flutter (15059):  at com.example.mapbox_android_update.EmbeddedNavigationView.initSubView(EmbeddedNavigationView.kt:26)\nE/flutter (15059):  at com.example.mapbox_android_update.EmbeddedNavigationView.&lt;init&gt;(EmbeddedNavigationView.kt:20)\nE/flutter (15059):  at com.example.mapbox_android_update.EmbeddedNavigationFactory.create(EmbeddedNavigationFactory.kt:19)\nE/flutter (15059):  at io.flutter.plugin.platform.PlatformViewsController$1.createPlatformView(PlatformViewsController.java:503)\nE/flutter (15059):  at io.flutter.plugin.platform.PlatformViewsController$1.createForTextureLayer(PlatformViewsController.java:191)\nE/flutter (15059):  at io.flutter.embedding.engine.systemchannels.PlatformViewsChannel$1.create(PlatformViewsChannel.java:128)\nE/flutter (15059):  at io.flutter.embedding.engine.systemchannels.PlatformViewsChannel$1.onMethodCall(PlatformViewsChannel.java:55)\nE/flutter (15059):  at io.flutter.plugin.common.MethodChannel$IncomingMethodCallHandler.onMessage(MethodChannel.java:258)\nE/flutter (15059):  at io.flutter.embedding.engine.dart.DartMessenger.invokeHandler(DartMessenger.java:295)\nE/flutter (15059):  at io.flutter.embedding.engine.dart.DartMessenger.lambda$dispatchMessageToQueue$0$io-flutter-embedding-engine-dart-DartMessenger(DartMessenger.java:322)\nE/flutter (15059):  at io.flutter.embedding.engine.dart.DartMessenger$$ExternalSyntheticLambda0.run(Unknown Source:12)\nE/flutter (15059):  at android.os.Handler.handleCallback(Handler.java:938)\nE/flutter (15059):  at android.os.Handler.dispatchMessage(Handler.java:99)\nE/flutter (15059):  at android.os.Looper.loopOnce(Looper.java:210)\nE/flutter (15059):  at android.os.Looper.loop(Looper.java:299)\nE/flutter (15059):  at android.app.ActivityThread.main(ActivityThread.java:8309)\nE/flutter (15059):  at java.lang.reflect.Method.invoke(Native Method)\nE/flutter (15059):  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\nE/flutter (15059):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1038)\nE/flutter (15059): )\nE/flutter (15059): #0      StandardMethodCodec.decodeEnvelope (package:flutter/src/services/message_codecs.dart:653:7)\nE/flutter (15059): #1      MethodChannel._invokeMethod (package:flutter/src/services/platform_channel.dart:315:18)\nE/flutter (15059): &lt;asynchronous suspension&gt;\nE/flutter (15059): #2      TextureAndroidViewController._sendCreateMessage (package:flutter/src/services/platform_views.dart:1141:28)\nE/flutter (15059): &lt;asynchronous suspension&gt;\nE/flutter (15059): #3      AndroidViewController.create (package:flutter/src/services/platform_views.dart:801:5)\nE/flutter (15059): &lt;asynchronous suspension&gt;\nE/flutter (15059): #4      AndroidViewController.setSize (package:flutter/src/services/platform_views.dart:828:7)\nE/flutter (15059): &lt;asynchronous suspension&gt;\nE/flutter (15059): #5      RenderAndroidView._sizePlatformView (package:flutter/src/rendering/platform_view.dart:182:29)\nE/flutter (15059): &lt;asynchronous suspension&gt;\nE/flutter (15059): \nE/_android_updat(15059): open libmigui.so failed! dlopen - dlopen failed: library &quot;libmigui.so&quot; not found\nD/DecorView[](15059): onWindowFocusChanged hasWindowFocus true\n</code></pre>\n<p>adding this android native fragment to flutter app</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1695896832,"post_id":77194049,"comment_id":136086316,"body_markdown":"And what&#39;s the problem with the current approach? Are looking for a generic solution to measure execution time for anything?","body":"And what&#39;s the problem with the current approach? Are looking for a generic solution to measure execution time for anything?"},{"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1695899515,"post_id":77194049,"comment_id":136086855,"body_markdown":"@Chaosfire feels more verbose, some kind of wrapper which will help us what we want to measure","body":"@Chaosfire feels more verbose, some kind of wrapper which will help us what we want to measure"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1695906706,"post_id":77194049,"comment_id":136088339,"body_markdown":"Why not just a _class_?","body":"Why not just a <i>class</i>?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695896316,"creation_date":1695896316,"answer_id":77194094,"question_id":77194049,"body_markdown":"```\r\nfor (Foo foo : foos) {\r\n    long start = System.currentTimeMillis();\r\n    someService.processFoo(foo);\r\n    long delta = System.currentTimeMillis() - start);\r\n    log.trace(&quot;saved foo in {} msecs&quot;, delta);\r\n}\r\n```\r\n\r\nNote that if you&#39;re primarily trying to measure how fast your java code is running, it&#39;s not that simple. You&#39;ll get wildly misleading numbers, especially for relatively fast tasks. If that&#39;s what you want to do, [read this tutorial on how to use JMH](https://www.baeldung.com/java-microbenchmark-harness).","title":"How to wrap timing method around a method call","body":"<pre><code>for (Foo foo : foos) {\n    long start = System.currentTimeMillis();\n    someService.processFoo(foo);\n    long delta = System.currentTimeMillis() - start);\n    log.trace(&quot;saved foo in {} msecs&quot;, delta);\n}\n</code></pre>\n<p>Note that if you're primarily trying to measure how fast your java code is running, it's not that simple. You'll get wildly misleading numbers, especially for relatively fast tasks. If that's what you want to do, <a href=\"https://www.baeldung.com/java-microbenchmark-harness\" rel=\"nofollow noreferrer\">read this tutorial on how to use JMH</a>.</p>\n"},{"comments":[{"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1695899529,"post_id":77194429,"comment_id":136086858,"body_markdown":"can&#39;t use Runnable","body":"can&#39;t use Runnable"},{"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"score":3,"creation_date":1695899731,"post_id":77194429,"comment_id":136086893,"body_markdown":"Why not? As a note,here runnable is being used as lambda which does not need any input and does not return any output.We are not using it for multithreading if that is the concern","body":"Why not? As a note,here runnable is being used as lambda which does not need any input and does not return any output.We are not using it for multithreading if that is the concern"}],"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695899510,"creation_date":1695899510,"answer_id":77194429,"question_id":77194049,"body_markdown":"Wrap your method call in runnable and create a utility like `logTaskTime` as methodWrapper for each task you wish to log\r\n```\r\n    public static void main(String[] args) {\r\n        Foo[] foos = new Foo[0];\r\n        for (Foo foo : foos) {\r\n            Runnable runnable = () -&gt; {/*someService.processFoo(foo);*/};\r\n            logTaskTime(runnable);\r\n        }\r\n    }\r\n\r\n    private static void logTaskTime(Runnable runnable) {\r\n        StopWatch sw = new StopWatch();\r\n        sw.start();\r\n        runnable.run();\r\n        sw.stop();\r\n        System.out.println(sw.getTime());\r\n       // log.trace(&quot;saved foo in {} msecs&quot;, sw.getTotalTimeMillis());\r\n    }\r\n```\r\nI hope as mentioned in other answers, this is not being used to measure performance for java code.","title":"How to wrap timing method around a method call","body":"<p>Wrap your method call in runnable and create a utility like <code>logTaskTime</code> as methodWrapper for each task you wish to log</p>\n<pre><code>    public static void main(String[] args) {\n        Foo[] foos = new Foo[0];\n        for (Foo foo : foos) {\n            Runnable runnable = () -&gt; {/*someService.processFoo(foo);*/};\n            logTaskTime(runnable);\n        }\n    }\n\n    private static void logTaskTime(Runnable runnable) {\n        StopWatch sw = new StopWatch();\n        sw.start();\n        runnable.run();\n        sw.stop();\n        System.out.println(sw.getTime());\n       // log.trace(&quot;saved foo in {} msecs&quot;, sw.getTotalTimeMillis());\n    }\n</code></pre>\n<p>I hope as mentioned in other answers, this is not being used to measure performance for java code.</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695900816,"creation_date":1695900816,"answer_id":77194569,"question_id":77194049,"body_markdown":"You can write a wrapper that executes the task and measure execution time\r\n```\r\npublic class TaskTimer {\r\n\r\n  private static final Logger LOGGER = LoggerFactory.getLogger(TaskTimer.class);\r\n\r\n  private final Runnable taskToMeasure;\r\n\r\n  public TaskTimer(Runnable taskToMeasure) {\r\n    this.taskToMeasure = taskToMeasure;\r\n  }\r\n\r\n  public void doTask() {\r\n    long start = System.nanoTime();\r\n    this.taskToMeasure.run();\r\n    long end = System.nanoTime();\r\n    long millis = TimeUnit.NANOSECONDS.toMillis(end - start);\r\n    LOGGER.trace(&quot;Task finished in {} millis&quot;, millis);\r\n  }\r\n}\r\n```\r\nThen wrap any task in it:\r\n```\r\nTaskTimer task1 = new TaskTimer(() -&gt; someService.processFoo(foo));\r\ntask1.doTask();\r\nTaskTimer task2 = new TaskTimer(() -&gt; otherServide.processBar(bar));\r\ntask2.doTask();\r\nTaskTimer task3 = new TaskTimer(() -&gt; thirdService.processFooBar(fooBar));\r\ntask3.doTask();\r\n//etc.\r\n```\r\nKeep in mind this is quite simple and naive way to measure execution time, so it won&#39;t be absolutely accurate.","title":"How to wrap timing method around a method call","body":"<p>You can write a wrapper that executes the task and measure execution time</p>\n<pre><code>public class TaskTimer {\n\n  private static final Logger LOGGER = LoggerFactory.getLogger(TaskTimer.class);\n\n  private final Runnable taskToMeasure;\n\n  public TaskTimer(Runnable taskToMeasure) {\n    this.taskToMeasure = taskToMeasure;\n  }\n\n  public void doTask() {\n    long start = System.nanoTime();\n    this.taskToMeasure.run();\n    long end = System.nanoTime();\n    long millis = TimeUnit.NANOSECONDS.toMillis(end - start);\n    LOGGER.trace(&quot;Task finished in {} millis&quot;, millis);\n  }\n}\n</code></pre>\n<p>Then wrap any task in it:</p>\n<pre><code>TaskTimer task1 = new TaskTimer(() -&gt; someService.processFoo(foo));\ntask1.doTask();\nTaskTimer task2 = new TaskTimer(() -&gt; otherServide.processBar(bar));\ntask2.doTask();\nTaskTimer task3 = new TaskTimer(() -&gt; thirdService.processFooBar(fooBar));\ntask3.doTask();\n//etc.\n</code></pre>\n<p>Keep in mind this is quite simple and naive way to measure execution time, so it won't be absolutely accurate.</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695902356,"creation_date":1695902356,"answer_id":77194747,"question_id":77194049,"body_markdown":"If your service implements an interface, you can use a proxy implementing this interface:\r\n\r\n    public class TimerProxy {\r\n        private final Object delegate;\r\n        \r\n        public TimerProxy(Object delegate) {\r\n            this.delegate = delegate;\r\n        }\r\n    \r\n        public &lt;T&gt; T getInterface(Class&lt;T&gt; intf) {\r\n            ClassLoader loader = Thread.currentThread().getContextClassLoader();\r\n            Object proxy = Proxy.newProxyInstance(loader, new Class&lt;?&gt;[] {intf},\r\n                    (pxy, method, args) -&gt; {\r\n                return execute(method, args);\r\n            });\r\n            return intf.cast(proxy);\r\n        }\r\n    \r\n        private Object execute(Method method, Object[] args) {\r\n            StopWatch sw = new StopWatch();\r\n            sw.start();\r\n            try {\r\n                return method.invoke(delegate, args);\r\n            } finally {\r\n                sw.stop();\r\n                log.trace(&quot;Method call {} in {} msecs&quot;,\r\n                        method.getName(), sw.getTotalTimeMillis());\r\n            }\r\n        }\r\n    }\r\n\r\nIf you have a service that implements interface `Service` you would do:\r\n\r\n    Service service = ...;\r\n    Service proxy = new TimerProxy(service).getInterface(Service.class);\r\n\r\nThen you can use `proxy` instead of `service` to have the duration of the method calls loggged.\r\n","title":"How to wrap timing method around a method call","body":"<p>If your service implements an interface, you can use a proxy implementing this interface:</p>\n<pre><code>public class TimerProxy {\n    private final Object delegate;\n    \n    public TimerProxy(Object delegate) {\n        this.delegate = delegate;\n    }\n\n    public &lt;T&gt; T getInterface(Class&lt;T&gt; intf) {\n        ClassLoader loader = Thread.currentThread().getContextClassLoader();\n        Object proxy = Proxy.newProxyInstance(loader, new Class&lt;?&gt;[] {intf},\n                (pxy, method, args) -&gt; {\n            return execute(method, args);\n        });\n        return intf.cast(proxy);\n    }\n\n    private Object execute(Method method, Object[] args) {\n        StopWatch sw = new StopWatch();\n        sw.start();\n        try {\n            return method.invoke(delegate, args);\n        } finally {\n            sw.stop();\n            log.trace(&quot;Method call {} in {} msecs&quot;,\n                    method.getName(), sw.getTotalTimeMillis());\n        }\n    }\n}\n</code></pre>\n<p>If you have a service that implements interface <code>Service</code> you would do:</p>\n<pre><code>Service service = ...;\nService proxy = new TimerProxy(service).getInterface(Service.class);\n</code></pre>\n<p>Then you can use <code>proxy</code> instead of <code>service</code> to have the duration of the method calls loggged.</p>\n"}],"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1695902356,"creation_date":1695895892,"question_id":77194049,"body_markdown":"How to wrap timing method around a method call, is there a simple way to wrap StopWatch\r\n\r\n    for (Foo foo : foos) {\r\n        StopWatch sw = new StopWatch();\r\n        sw.start();\r\n        someService.processFoo(foo);\r\n        sw.stop();\r\n        log.trace(&quot;saved foo in {} msecs&quot;, sw.getTotalTimeMillis());\r\n    }   ","title":"How to wrap timing method around a method call","body":"<p>How to wrap timing method around a method call, is there a simple way to wrap StopWatch</p>\n<pre><code>for (Foo foo : foos) {\n    StopWatch sw = new StopWatch();\n    sw.start();\n    someService.processFoo(foo);\n    sw.stop();\n    log.trace(&quot;saved foo in {} msecs&quot;, sw.getTotalTimeMillis());\n}   \n</code></pre>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1695752737,"post_id":77182392,"comment_id":136065666,"body_markdown":"Try looking at [Embedding Fonts](https://carbonrider.github.io/pdfbox_tutorial/pdf_embed_font.html).","body":"Try looking at <a href=\"https://carbonrider.github.io/pdfbox_tutorial/pdf_embed_font.html\" rel=\"nofollow noreferrer\">Embedding Fonts</a>."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1695753575,"post_id":77182392,"comment_id":136065800,"body_markdown":"This doesn&#39;t work in a jar file. You need to do resource loading.","body":"This doesn&#39;t work in a jar file. You need to do resource loading."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1695762322,"post_id":77182392,"comment_id":136067280,"body_markdown":"Please consider telling us at which line you get that error. @Tilman already mentioned the issue that your way of accessing resources won&#39;t work after packaging your app as a jar. Additionally i don&#39;t see you adding the custom font to the appearance resources or default resources. If you don&#39;t tell us more, it is unclear which of the errors is the one causing the error you observe.","body":"Please consider telling us at which line you get that error. @Tilman already mentioned the issue that your way of accessing resources won&#39;t work after packaging your app as a jar. Additionally i don&#39;t see you adding the custom font to the appearance resources or default resources. If you don&#39;t tell us more, it is unclear which of the errors is the one causing the error you observe."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1695786884,"post_id":77182392,"comment_id":136069434,"body_markdown":"See the `CreateSimpleFormWithEmbeddedFont.java` example on how this is done.","body":"See the <code>CreateSimpleFormWithEmbeddedFont.java</code> example on how this is done."},{"owner":{"account_id":29211777,"reputation":31,"user_id":22379586,"display_name":"Vishal Kumar"},"score":0,"creation_date":1695786913,"post_id":77182392,"comment_id":136069438,"body_markdown":"I tried resource loading it also did not work \n`PDType0Font customFont = PDType0Font.load(pdDocument, ClassLoader.getSystemResourceAsStream(&quot;static/font/Roboto-Bold.ttf&quot;));`\nIt fails at this line `field.setValue(&quot;Signature&quot;);`","body":"I tried resource loading it also did not work  <code>PDType0Font customFont = PDType0Font.load(pdDocument, ClassLoader.getSystemResourceAsStream(&quot;static&#47;font&#47;Roboto-Bo&zwnj;&#8203;ld.ttf&quot;));</code> It fails at this line <code>field.setValue(&quot;Signature&quot;);</code>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1695801012,"post_id":77182392,"comment_id":136071188,"body_markdown":"&quot;it fails&quot; is not a useful error description. Btw make sure that if you use resources, that you don&#39;t have resource filtering on for ttf files (common newbie error).","body":"&quot;it fails&quot; is not a useful error description. Btw make sure that if you use resources, that you don&#39;t have resource filtering on for ttf files (common newbie error)."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1695804053,"post_id":77182392,"comment_id":136071736,"body_markdown":"@Vishal, please add the `customFont` to the default resources of `acroForm` and use the name you added it by for constructing the default appearance of the fields.","body":"@Vishal, please add the <code>customFont</code> to the default resources of <code>acroForm</code> and use the name you added it by for constructing the default appearance of the fields."},{"owner":{"account_id":29211777,"reputation":31,"user_id":22379586,"display_name":"Vishal Kumar"},"score":0,"creation_date":1695815805,"post_id":77182392,"comment_id":136074067,"body_markdown":"@TilmanHausherr I have added error in the original post. \n@mkl Can you give me an example. I believe you want me to do something like this\n`pdAcroForm.setDefaultAppearance(&quot;/&quot; + customFont.getName() +&quot; 12 Tf 0 g&quot;);`\nI am still getting same error.","body":"@TilmanHausherr I have added error in the original post.  @mkl Can you give me an example. I believe you want me to do something like this <code>pdAcroForm.setDefaultAppearance(&quot;&#47;&quot; + customFont.getName() +&quot; 12 Tf 0 g&quot;);</code> I am still getting same error."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1695821218,"post_id":77182392,"comment_id":136075235,"body_markdown":"1) Here&#39;s the example: https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/interactive/form/CreateSimpleFormWithEmbeddedFont.java?view=markup  2) you need to include a stack trace instead of &quot;it fails&quot; (how does it fail? What happens or doesn&#39;t happen?) 3) &quot;resources&quot; and &quot;default resources&quot; are different things, sorry for the possible confusion. The first is a java thing for files in a .jar (see also https://stackoverflow.com/a/60912231/535646), the second means the acroform default resources, see the example. You need to add the font there.","body":"1) Here&#39;s the example: <a href=\"https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/interactive/form/CreateSimpleFormWithEmbeddedFont.java?view=markup\" rel=\"nofollow noreferrer\">svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/&zwnj;&#8203;&hellip;</a>  2) you need to include a stack trace instead of &quot;it fails&quot; (how does it fail? What happens or doesn&#39;t happen?) 3) &quot;resources&quot; and &quot;default resources&quot; are different things, sorry for the possible confusion. The first is a java thing for files in a .jar (see also <a href=\"https://stackoverflow.com/a/60912231/535646\">stackoverflow.com/a/60912231/535646</a>), the second means the acroform default resources, see the example. You need to add the font there."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1695829057,"post_id":77182392,"comment_id":136077072,"body_markdown":"@Vishal Beware when using the example in Tilman&#39;s item 1: There the document is created from scratch while your document is an existing one. Thus, You don&#39;t want to unconditionally set the default resources to a clean `PDResources` but instead first try to retrieve the current one. Only if there is no current one, you&#39;ll want to create and set a new one.","body":"@Vishal Beware when using the example in Tilman&#39;s item 1: There the document is created from scratch while your document is an existing one. Thus, You don&#39;t want to unconditionally set the default resources to a clean <code>PDResources</code> but instead first try to retrieve the current one. Only if there is no current one, you&#39;ll want to create and set a new one."},{"owner":{"account_id":29211777,"reputation":31,"user_id":22379586,"display_name":"Vishal Kumar"},"score":0,"creation_date":1695890918,"post_id":77182392,"comment_id":136085220,"body_markdown":"Guys it worked. I was not doing resource loading properly that is why I was getting that error. Thanks for the help and sorry for the inconvenience. I should have known better.  I will update the question","body":"Guys it worked. I was not doing resource loading properly that is why I was getting that error. Thanks for the help and sorry for the inconvenience. I should have known better.  I will update the question"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1695895935,"post_id":77182392,"comment_id":136086173,"body_markdown":"Don&#39;t update the question, rather answer it yourself.","body":"Don&#39;t update the question, rather answer it yourself."}],"answers":[{"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1695794283,"post_id":77184950,"comment_id":136070122,"body_markdown":"How exactly does this relate to what the op wants? They want to set the font of a form field and fill that field, not create page content.","body":"How exactly does this relate to what the op wants? They want to set the font of a form field and fill that field, not create page content."},{"owner":{"account_id":17683470,"reputation":158,"user_id":12836822,"display_name":"Ashrik Ahamed"},"score":0,"creation_date":1695795275,"post_id":77184950,"comment_id":136070228,"body_markdown":"I have just suggested him and the followers who are searching a solution for this, After  seeing those comments i understand those does not work, This would do it in the best way possible.","body":"I have just suggested him and the followers who are searching a solution for this, After  seeing those comments i understand those does not work, This would do it in the best way possible."}],"tags":[],"owner":{"account_id":17683470,"reputation":158,"user_id":12836822,"display_name":"Ashrik Ahamed"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1695794063,"creation_date":1695794063,"answer_id":77184950,"question_id":77182392,"body_markdown":"You can use PDPageContentStream class \r\n\r\n    public PDPageContentStream(PDDocument document, PDPage sourcePage, AppendMode appendContent,\r\n                               boolean compress, boolean resetContext) throws IOException\r\n\r\nIn this code there will be multiple arguments you needs to pass: \r\nExplaination from **JetBrains**\r\n\r\nParams:\r\ndocument – The document the page is part of. \r\n\r\nsourcePage – The page to write the contents to. \r\n\r\nappendContent – Indicates whether content will be overwritten, appended or prepended. compress – Tell if the content stream should compress the page \r\ncontents. \r\n\r\nresetContext – Tell if the graphic context should be reset. This is only relevant when the appendContent parameter is set to PDPageContentStream.AppendMode.APPEND. You should use this when appending to an existing stream, because the existing stream may have changed graphic properties (e.g. scaling, rotation).\r\n\r\nThrows:\r\nIOException – If there is an error writing to the page contents.\r\n\r\nAnd this following way you can set font size and extra properties you wish to style :\r\n\r\n    PDPageContentStream contentStreamMRZ = new PDPageContentStream( test, test, test, test, test );\r\n    contentStreamMRZ.setFont( PDType1Font.COURIER_BOLD, 11 );\r\n\r\n**There are a lot more things you can play with, while doing pdf generations with this class would be more efficient.**\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to use custom font with PDFBox","body":"<p>You can use PDPageContentStream class</p>\n<pre><code>public PDPageContentStream(PDDocument document, PDPage sourcePage, AppendMode appendContent,\n                           boolean compress, boolean resetContext) throws IOException\n</code></pre>\n<p>In this code there will be multiple arguments you needs to pass:\nExplaination from <strong>JetBrains</strong></p>\n<p>Params:\ndocument – The document the page is part of.</p>\n<p>sourcePage – The page to write the contents to.</p>\n<p>appendContent – Indicates whether content will be overwritten, appended or prepended. compress – Tell if the content stream should compress the page\ncontents.</p>\n<p>resetContext – Tell if the graphic context should be reset. This is only relevant when the appendContent parameter is set to PDPageContentStream.AppendMode.APPEND. You should use this when appending to an existing stream, because the existing stream may have changed graphic properties (e.g. scaling, rotation).</p>\n<p>Throws:\nIOException – If there is an error writing to the page contents.</p>\n<p>And this following way you can set font size and extra properties you wish to style :</p>\n<pre><code>PDPageContentStream contentStreamMRZ = new PDPageContentStream( test, test, test, test, test );\ncontentStreamMRZ.setFont( PDType1Font.COURIER_BOLD, 11 );\n</code></pre>\n<p><strong>There are a lot more things you can play with, while doing pdf generations with this class would be more efficient.</strong></p>\n"},{"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1695906196,"post_id":77194721,"comment_id":136088227,"body_markdown":"Consider the comment of mkl. Existing documents usually have DefaultResources, so it&#39;s better to retrieve it and add your extra font. Unless you really want to replace the font in every field.","body":"Consider the comment of mkl. Existing documents usually have DefaultResources, so it&#39;s better to retrieve it and add your extra font. Unless you really want to replace the font in every field."}],"tags":[],"owner":{"account_id":29211777,"reputation":31,"user_id":22379586,"display_name":"Vishal Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695902046,"creation_date":1695902046,"answer_id":77194721,"question_id":77182392,"body_markdown":"Thanks everyone for the help. Below code worked for me\r\n```java\r\nPDDocument document = PDDocument.load(new File(&quot;src/main/resources/static/forms/form.pdf&quot;));\r\nPDAcroForm pdAcroForm = pdDocument.getDocumentCatalog().getAcroForm();\r\nfinal PDResources resources = new PDResources();\r\npdAcroForm.setDefaultResources(resources);\r\n\r\nPDFont formFont = PDType0Font.load(pdDocument,FillPdf.class.getResourceAsStream(&quot;static/font/AlexBrush-Regular.ttf&quot;), false);\r\nString fontName = resources.add(formFont).getName();\r\n\r\nfor (PDField field : acroForm.getFields()) {\r\n     if (field instanceof PDField) {\r\n         String fieldName = field.getPartialName();\r\n         if(fieldName.equals(&quot;required field&quot;)){\r\n            field.setDefaultAppearance(&quot;/&quot; + fontName + &quot; 12 Tf 0 g&quot;);\r\n         }else{\r\n            field.setDefaultAppearance(&quot;/Helv 12 Tf 0 g&quot;);\r\n         }\r\n         field.setValue(&quot;Signature&quot;);\r\n     }\r\n}\r\npdAcroForm.flatten();\r\ndocument.save(&quot;filled_form.pdf&quot;);\r\ndocument.close();\r\n```","title":"How to use custom font with PDFBox","body":"<p>Thanks everyone for the help. Below code worked for me</p>\n<pre class=\"lang-java prettyprint-override\"><code>PDDocument document = PDDocument.load(new File(&quot;src/main/resources/static/forms/form.pdf&quot;));\nPDAcroForm pdAcroForm = pdDocument.getDocumentCatalog().getAcroForm();\nfinal PDResources resources = new PDResources();\npdAcroForm.setDefaultResources(resources);\n\nPDFont formFont = PDType0Font.load(pdDocument,FillPdf.class.getResourceAsStream(&quot;static/font/AlexBrush-Regular.ttf&quot;), false);\nString fontName = resources.add(formFont).getName();\n\nfor (PDField field : acroForm.getFields()) {\n     if (field instanceof PDField) {\n         String fieldName = field.getPartialName();\n         if(fieldName.equals(&quot;required field&quot;)){\n            field.setDefaultAppearance(&quot;/&quot; + fontName + &quot; 12 Tf 0 g&quot;);\n         }else{\n            field.setDefaultAppearance(&quot;/Helv 12 Tf 0 g&quot;);\n         }\n         field.setValue(&quot;Signature&quot;);\n     }\n}\npdAcroForm.flatten();\ndocument.save(&quot;filled_form.pdf&quot;);\ndocument.close();\n</code></pre>\n"}],"owner":{"account_id":29211777,"reputation":31,"user_id":22379586,"display_name":"Vishal Kumar"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695902046,"creation_date":1695750895,"question_id":77182392,"body_markdown":"I am using PDFBox to fill a pdf which contains text form. At one form I have to use a custom font.\r\n\r\nI used below code to load a custom font. Even though path is correct It it is failing with the error\r\n`Could not find font: /AlexBrush-Regular`. It fails when it tries to set value at line `f.setValue(&quot;Signature&quot;)`\r\n\r\n```java\r\nPDDocument document = PDDocument.load(new File(&quot;src/main/resources/static/forms/form.pdf&quot;));\r\nPDType0Font customFont = PDType0Font.load(document, new File(&quot;src/main/resources/static/font/AlexBrush-Regular.ttf&quot;));\r\n\r\nPDDocumentCatalog docCatalog = document.getDocumentCatalog();\r\nPDAcroForm acroForm = docCatalog.getAcroForm();\r\n\r\nfor (PDField field : acroForm.getFields()) {\r\n     if (field instanceof PDField) {\r\n         String fieldName = field.getPartialName();\r\n         if(fieldName.equals(&quot;required field&quot;)){\r\n            field.setDefaultAppearance(&quot;/&quot; + customFont.getName() + &quot; 12 Tf 0 g&quot;);\r\n         }else{\r\n            field.setDefaultAppearance(&quot;/Helv 12 Tf 0 g&quot;);\r\n         }\r\n         field.setValue(&quot;Signature&quot;);\r\n     }\r\n}\r\npdAcroForm.flatten();\r\ndocument.save(&quot;filled_form.pdf&quot;);\r\ndocument.close();\r\n```\r\n","title":"How to use custom font with PDFBox","body":"<p>I am using PDFBox to fill a pdf which contains text form. At one form I have to use a custom font.</p>\n<p>I used below code to load a custom font. Even though path is correct It it is failing with the error\n<code>Could not find font: /AlexBrush-Regular</code>. It fails when it tries to set value at line <code>f.setValue(&quot;Signature&quot;)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>PDDocument document = PDDocument.load(new File(&quot;src/main/resources/static/forms/form.pdf&quot;));\nPDType0Font customFont = PDType0Font.load(document, new File(&quot;src/main/resources/static/font/AlexBrush-Regular.ttf&quot;));\n\nPDDocumentCatalog docCatalog = document.getDocumentCatalog();\nPDAcroForm acroForm = docCatalog.getAcroForm();\n\nfor (PDField field : acroForm.getFields()) {\n     if (field instanceof PDField) {\n         String fieldName = field.getPartialName();\n         if(fieldName.equals(&quot;required field&quot;)){\n            field.setDefaultAppearance(&quot;/&quot; + customFont.getName() + &quot; 12 Tf 0 g&quot;);\n         }else{\n            field.setDefaultAppearance(&quot;/Helv 12 Tf 0 g&quot;);\n         }\n         field.setValue(&quot;Signature&quot;);\n     }\n}\npdAcroForm.flatten();\ndocument.save(&quot;filled_form.pdf&quot;);\ndocument.close();\n</code></pre>\n"},{"tags":["java","anylogic"],"answers":[{"tags":[],"owner":{"account_id":24207014,"reputation":295,"user_id":18164056,"display_name":"Ryan Marizza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688656848,"creation_date":1688656848,"answer_id":76630356,"question_id":76629426,"body_markdown":"You sure can! Here&#39;s a link to a model that includes a few example calls to external APIs. \r\n\r\n[Example API Calls from AnyLogic (downloadable model)][1]\r\n\r\n\r\nYou may also be interested in Pypeline, it&#39;s a custom AnyLogic library created by Tyler Wolfeadam that includes a block which can be used to run Python code from within Anylogic. Here&#39;s a link to the github repository: [Pypeline Github][2] \r\n\r\n**Note:** Extra effort is sometimes required to make API calls and Pypeline work from AnyLogic cloud. \r\n\r\n\r\n  [1]: https://cloud.anylogic.com/model/a303dbaf-bee1-45b5-8a2e-13f0f7134ca4?mode=SETTINGS\r\n  [2]: https://github.com/t-wolfeadam/AnyLogic-Pypeline","title":"Call an external API in Anylogic","body":"<p>You sure can! Here's a link to a model that includes a few example calls to external APIs.</p>\n<p><a href=\"https://cloud.anylogic.com/model/a303dbaf-bee1-45b5-8a2e-13f0f7134ca4?mode=SETTINGS\" rel=\"nofollow noreferrer\">Example API Calls from AnyLogic (downloadable model)</a></p>\n<p>You may also be interested in Pypeline, it's a custom AnyLogic library created by Tyler Wolfeadam that includes a block which can be used to run Python code from within Anylogic. Here's a link to the github repository: <a href=\"https://github.com/t-wolfeadam/AnyLogic-Pypeline\" rel=\"nofollow noreferrer\">Pypeline Github</a></p>\n<p><strong>Note:</strong> Extra effort is sometimes required to make API calls and Pypeline work from AnyLogic cloud.</p>\n"},{"tags":[],"owner":{"account_id":16847196,"reputation":36,"user_id":12181114,"display_name":"r1cly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695901763,"creation_date":1695901763,"answer_id":77194691,"question_id":76629426,"body_markdown":"You shouldn&#39;t have any problem to make an HTTP request from Anylogic, the first thing you have to do to make an HTTP request is importing all the right libraries that offers native Java on the model properties:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n\r\nNext, create this function, if you want to make an HTTP request that gives a response in JSON format this is the way to go.\r\n\r\n     try {\r\n            \r\n            String url = &quot;https://www.example.com&quot;;\r\n    \r\n            // Open the connection\r\n            HttpURLConnection connection = (HttpURLConnection) new URL(url).openConnection();\r\n            \r\n            // Method\r\n            connection.setRequestMethod(&quot;GET&quot;);\r\n    \r\n            // Response\r\n            int responseCode = connection.getResponseCode();\r\n            System.out.println(&quot;C&#243;digo de respuesta: &quot; + responseCode);\r\n    \r\n            // Read the response\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n            String line;\r\n            StringBuilder response = new StringBuilder();\r\n    \r\n            while ((line = reader.readLine()) != null) {\r\n                response.append(line);\r\n            }\r\n            reader.close();\r\n    \r\n            \r\n            System.out.println(&quot;Response:&quot;);\r\n            System.out.println(response.toString());\r\n    \r\n            // Close the connection\r\n            connection.disconnect();\r\n    \r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }","title":"Call an external API in Anylogic","body":"<p>You shouldn't have any problem to make an HTTP request from Anylogic, the first thing you have to do to make an HTTP request is importing all the right libraries that offers native Java on the model properties:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n</code></pre>\n<p>Next, create this function, if you want to make an HTTP request that gives a response in JSON format this is the way to go.</p>\n<pre><code> try {\n        \n        String url = &quot;https://www.example.com&quot;;\n\n        // Open the connection\n        HttpURLConnection connection = (HttpURLConnection) new URL(url).openConnection();\n        \n        // Method\n        connection.setRequestMethod(&quot;GET&quot;);\n\n        // Response\n        int responseCode = connection.getResponseCode();\n        System.out.println(&quot;Código de respuesta: &quot; + responseCode);\n\n        // Read the response\n        BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n        String line;\n        StringBuilder response = new StringBuilder();\n\n        while ((line = reader.readLine()) != null) {\n            response.append(line);\n        }\n        reader.close();\n\n        \n        System.out.println(&quot;Response:&quot;);\n        System.out.println(response.toString());\n\n        // Close the connection\n        connection.disconnect();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"}],"owner":{"account_id":28963316,"reputation":11,"user_id":22185366,"display_name":"Chilli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695901763,"creation_date":1688650551,"question_id":76629426,"body_markdown":"Is it possible to create an API in Anylogic, which calls a weather API to get data like temperature, sunrise etc.? \r\n\r\nI have an existing API call in Python which saves my needed data in an Excel file. Can Anylogic start my external Python .exe or .py to refresh the values and update them to Anylogic at specific model time?\r\n\r\nOr in other way: Is it possible to generate a Java Class or Java Interface which an API call? How I can call Java classes/ interfaces in Anylogic to run? \r\n\r\n","title":"Call an external API in Anylogic","body":"<p>Is it possible to create an API in Anylogic, which calls a weather API to get data like temperature, sunrise etc.?</p>\n<p>I have an existing API call in Python which saves my needed data in an Excel file. Can Anylogic start my external Python .exe or .py to refresh the values and update them to Anylogic at specific model time?</p>\n<p>Or in other way: Is it possible to generate a Java Class or Java Interface which an API call? How I can call Java classes/ interfaces in Anylogic to run?</p>\n"},{"tags":["java","amazon-web-services","keystore","credentials","truststore"],"answers":[{"comments":[{"owner":{"account_id":761868,"reputation":890,"user_id":784587,"accept_rate":54,"display_name":"Rougher"},"score":0,"creation_date":1602666245,"post_id":64349180,"comment_id":113789969,"body_markdown":"I checked. The same exception happens. I get temporary credentials successfully, but put object to S3 is failed.","body":"I checked. The same exception happens. I get temporary credentials successfully, but put object to S3 is failed."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1602670293,"post_id":64349180,"comment_id":113791937,"body_markdown":"I see Rougher. Please, just for digging in the problem, can you unset the ```System``` properties you established, ```System.clearProperty(&quot;javax.net.ssl.trustStore&quot;);\n        System.clearProperty(&quot;javax.net.ssl.trustStorePassword&quot;);\n        System.clearProperty(&quot;javax.net.ssl.trustStoreType&quot;);``` before ```S3Client``` invocation and create the ```S3Client``` without passing the HTTP client in the ```httpClient``` method? Sorry, if I did not explain myself very well.","body":"I see Rougher. Please, just for digging in the problem, can you unset the <code>System</code> properties you established, <code>System.clearProperty(&quot;javax.net.ssl.trustStore&quot;);         System.clearProperty(&quot;javax.net.ssl.trustStorePassword&quot;);         System.clearProperty(&quot;javax.net.ssl.trustStoreType&quot;);</code> before <code>S3Client</code> invocation and create the <code>S3Client</code> without passing the HTTP client in the <code>httpClient</code> method? Sorry, if I did not explain myself very well."},{"owner":{"account_id":761868,"reputation":890,"user_id":784587,"accept_rate":54,"display_name":"Rougher"},"score":0,"creation_date":1602670626,"post_id":64349180,"comment_id":113792080,"body_markdown":"It works! I don&#39;t understand. So for getting security token we need this trustStore and for other aws command we want to use for default one (jdk1.8.0_111\\jre\\lib\\security\\cacerts)? It&#39;s very strange","body":"It works! I don&#39;t understand. So for getting security token we need this trustStore and for other aws command we want to use for default one (jdk1.8.0_111\\jre\\lib\\security\\cacerts)? It&#39;s very strange"},{"owner":{"account_id":761868,"reputation":890,"user_id":784587,"accept_rate":54,"display_name":"Rougher"},"score":0,"creation_date":1602672297,"post_id":64349180,"comment_id":113792861,"body_markdown":"I tried to add AmazonRootCA1.pem to jdk1.8.0_111\\jre\\lib\\security\\cacerts, but it didn&#39;t help.","body":"I tried to add AmazonRootCA1.pem to jdk1.8.0_111\\jre\\lib\\security\\cacerts, but it didn&#39;t help."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1602674073,"post_id":64349180,"comment_id":113793646,"body_markdown":"Sorry for the late reply. Yes, I think the problem consists in that your trust store does not contain the actual SSL certificate. You have the root CA certificate of AWS, but not the corresponding to the actual service. Maybe you can try to download that specific certificate and include in your trust store. You can obtain the certificate with something like this: ```openssl s_client -connect s3.us-west-1.amazonaws.com:443```. Change the command according to your region. You need to extract the pem content from the response. Please, can you try?","body":"Sorry for the late reply. Yes, I think the problem consists in that your trust store does not contain the actual SSL certificate. You have the root CA certificate of AWS, but not the corresponding to the actual service. Maybe you can try to download that specific certificate and include in your trust store. You can obtain the certificate with something like this: <code>openssl s_client -connect s3.us-west-1.amazonaws.com:443</code>. Change the command according to your region. You need to extract the pem content from the response. Please, can you try?"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1602677805,"post_id":64349180,"comment_id":113795322,"body_markdown":"Great Rougher! And, a pleasure!","body":"Great Rougher! And, a pleasure!"},{"owner":{"account_id":761868,"reputation":890,"user_id":784587,"accept_rate":54,"display_name":"Rougher"},"score":0,"creation_date":1602678456,"post_id":64349180,"comment_id":113795628,"body_markdown":"I think I&#39;ll take the solution with System.clearProperty, because s3 certificate is valid for year only. I install my software on client&#39;s device, so I can&#39;t access to this device to change a certificate after year.","body":"I think I&#39;ll take the solution with System.clearProperty, because s3 certificate is valid for year only. I install my software on client&#39;s device, so I can&#39;t access to this device to change a certificate after year."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1602678996,"post_id":64349180,"comment_id":113795902,"body_markdown":"It is fine. Please, be aware that you can also setup the TrustManagers as I told you in your [previous question](https://stackoverflow.com/questions/64257498/get-security-token-from-aws-credentials-provider/64295637#64295637) providing a properly configured ```TlsTrustManagersProvider```. This would allow you to get the credentials properly without the need to set and then clean the system properties afterwards.","body":"It is fine. Please, be aware that you can also setup the TrustManagers as I told you in your <a href=\"https://stackoverflow.com/questions/64257498/get-security-token-from-aws-credentials-provider/64295637#64295637\">previous question</a> providing a properly configured <code>TlsTrustManagersProvider</code>. This would allow you to get the credentials properly without the need to set and then clean the system properties afterwards."}],"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":8,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1602711008,"creation_date":1602663096,"answer_id":64349180,"question_id":64347224,"body_markdown":"The problem could be related with many things.\r\n\r\nMost likely, your Java program will not be able to establish a trust relationship with the remote peer, probably because the AWS CA is not one of the preconfigured JVM trusted CAs.\r\n\r\nI think the best approach you can take to solve the problem is to pass the ```SdkHttpClient``` that you already have to the S3 client as well.\r\n\r\nPlease, be aware that in your sample code you are using ```AmazonS3ClientBuilder```, a AWS Java SDK version 1 class, meanwhile the rest of the code is using AWS SDK v2.\r\n\r\nMaybe you can update your code to the [latest version of the S3Client](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html) and try something like this:\r\n\r\n```\r\nSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, Configuration.KEYSTOREPATH_CA.toAbsolutePath().toString());\r\nSystem.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;jks&quot;);\r\n\r\ntry {\r\n    System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, new String(Files.readAllBytes(Configuration.KEYSTOREPATH_CA_PASS)));\r\n} catch (IOException e) {\r\n    throw new IOException(&quot;Read password of trust store is failed&quot;, e);\r\n}\r\n\r\n\r\nSystem.setProperty(&quot;javax.net.ssl.keyStore&quot;, Configuration.KEYSTOREPATH.toAbsolutePath().toString());\r\nSystem.setProperty(&quot;javax.net.ssl.keyStoreType&quot;, &quot;jks&quot;);\r\n\r\ntry {\r\n    System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, new String(Files.readAllBytes(Configuration.KEYSTOREPATH_PASS)));\r\n} catch (IOException e) {\r\n    throw new IOException(&quot;Read password of key store is failed&quot;, e);\r\n}\r\n\r\nSdkHttpClient client = ApacheHttpClient.builder().build();\r\n\r\n// The idea is reuse the configured HTTP client, modify it as per your needs\r\nAWSSessionCredentialsProviderImpl credentialsProvider = new AWSSessionCredentialsProviderImpl(client);\r\ncredentialsProvider.init(&quot;someid&quot;);\r\n\r\nS3Client s3 = S3Client.builder()\r\n  .httpClient(client)\r\n  .region(region)\r\n  .credentialsProvider(credentialsProvider)\r\n  .build();\r\n```\r\n\r\nPlease, be sure that your trust store contains the actual SSL certificate. You have the root CA certificate of AWS, but maybe not the corresponding to the actual service.\r\n\r\nIf necessary, you can obtain the service SSL certificate with something like this:\r\n\r\n```shell\r\nopenssl s_client -connect s3.us-west-1.amazonaws.com:443\r\n```\r\n\r\nPlease, change the command according to your region. You need to extract the PEM content from the response.\r\n\r\nAs indicated in the comments to the answer, another alternative could be unset the ```System``` properties established when you obtain your credentials before the invocation of the ```S3Client```:\r\n\r\n```java\r\nSystem.clearProperty(&quot;javax.net.ssl.trustStore&quot;);\r\nSystem.clearProperty(&quot;javax.net.ssl.trustStorePassword&quot;);\r\nSystem.clearProperty(&quot;javax.net.ssl.trustStoreType&quot;);\r\n```\r\n\r\nIt will provide the AWS SDK with a fresh environment for invoking S3.","title":"Unable to find valid certification path to requested target with AWS security token","body":"<p>The problem could be related with many things.</p>\n<p>Most likely, your Java program will not be able to establish a trust relationship with the remote peer, probably because the AWS CA is not one of the preconfigured JVM trusted CAs.</p>\n<p>I think the best approach you can take to solve the problem is to pass the <code>SdkHttpClient</code> that you already have to the S3 client as well.</p>\n<p>Please, be aware that in your sample code you are using <code>AmazonS3ClientBuilder</code>, a AWS Java SDK version 1 class, meanwhile the rest of the code is using AWS SDK v2.</p>\n<p>Maybe you can update your code to the <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html\" rel=\"nofollow noreferrer\">latest version of the S3Client</a> and try something like this:</p>\n<pre><code>System.setProperty(&quot;javax.net.ssl.trustStore&quot;, Configuration.KEYSTOREPATH_CA.toAbsolutePath().toString());\nSystem.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;jks&quot;);\n\ntry {\n    System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, new String(Files.readAllBytes(Configuration.KEYSTOREPATH_CA_PASS)));\n} catch (IOException e) {\n    throw new IOException(&quot;Read password of trust store is failed&quot;, e);\n}\n\n\nSystem.setProperty(&quot;javax.net.ssl.keyStore&quot;, Configuration.KEYSTOREPATH.toAbsolutePath().toString());\nSystem.setProperty(&quot;javax.net.ssl.keyStoreType&quot;, &quot;jks&quot;);\n\ntry {\n    System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, new String(Files.readAllBytes(Configuration.KEYSTOREPATH_PASS)));\n} catch (IOException e) {\n    throw new IOException(&quot;Read password of key store is failed&quot;, e);\n}\n\nSdkHttpClient client = ApacheHttpClient.builder().build();\n\n// The idea is reuse the configured HTTP client, modify it as per your needs\nAWSSessionCredentialsProviderImpl credentialsProvider = new AWSSessionCredentialsProviderImpl(client);\ncredentialsProvider.init(&quot;someid&quot;);\n\nS3Client s3 = S3Client.builder()\n  .httpClient(client)\n  .region(region)\n  .credentialsProvider(credentialsProvider)\n  .build();\n</code></pre>\n<p>Please, be sure that your trust store contains the actual SSL certificate. You have the root CA certificate of AWS, but maybe not the corresponding to the actual service.</p>\n<p>If necessary, you can obtain the service SSL certificate with something like this:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>openssl s_client -connect s3.us-west-1.amazonaws.com:443\n</code></pre>\n<p>Please, change the command according to your region. You need to extract the PEM content from the response.</p>\n<p>As indicated in the comments to the answer, another alternative could be unset the <code>System</code> properties established when you obtain your credentials before the invocation of the <code>S3Client</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.clearProperty(&quot;javax.net.ssl.trustStore&quot;);\nSystem.clearProperty(&quot;javax.net.ssl.trustStorePassword&quot;);\nSystem.clearProperty(&quot;javax.net.ssl.trustStoreType&quot;);\n</code></pre>\n<p>It will provide the AWS SDK with a fresh environment for invoking S3.</p>\n"}],"owner":{"account_id":761868,"reputation":890,"user_id":784587,"accept_rate":54,"display_name":"Rougher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12499,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64349180,"answer_count":1,"score":2,"last_activity_date":1695901754,"creation_date":1602653745,"question_id":64347224,"body_markdown":"I&#39;m trying to implement the solution presented in the following AWS article:  \r\n\r\n - [How to Eliminate the Need for Hardcoded AWS Credentials in Devices\r\n   by Using the AWS IoT Credentials Provider][1]\r\n\r\n---\r\nSo I did next steps:\r\n\r\n1. Create local keystore:\r\n\r\n    `keystore winpty openssl pkcs12 -export -in eeb81a0eb6-certificate.pem.crt -inkey eeb81a0eb6-private.pem.key -name myname -out my.p12 -password pass:mypass`\r\n    \r\n    `keytool -importkeystore -destkeystore mykeystore.jks -srckeystore my.p12 -srcstoretype PKCS12 -deststorepass mypass -srcstorepass mypass`\r\n\r\n2. Create local truststore:\r\n\r\n    `keytool -keystore my_ca.jks -alias myalias -import -file AmazonRootCA1.pem`\r\n\r\n3. My code:\r\n\r\n```java\r\npublic class AWSSessionCredentialsProviderImpl implements AWSSessionCredentialsProvider  {\r\n\t\r\n    private static final Logger LOGGER = LogManager.getLogger(AWSSessionCredentialsProviderImpl.class.getName());\r\n\t\r\n\tprivate final Gson gson = new Gson();\r\n\t\r\n\tprivate SdkHttpClient client;\r\n\tprivate HttpExecuteRequest request;\t\r\n\tprivate String awsAccessKeyId;\r\n\tprivate String awsSecretAccessKeyId;\r\n\tprivate String awsSessionToken;\r\n\t\r\n\tpublic void init(String clientId) throws IOException, URISyntaxException {\r\n\t\tSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, Configuration.KEYSTOREPATH_CA.toAbsolutePath().toString());\r\n\t\tSystem.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;jks&quot;);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, new String(Files.readAllBytes(Configuration.KEYSTOREPATH_CA_PASS)));\r\n\t\t} catch (IOException e) {\r\n\t\t\tthrow new IOException(&quot;Read password of trust store is failed&quot;, e);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tSystem.setProperty(&quot;javax.net.ssl.keyStore&quot;, Configuration.KEYSTOREPATH.toAbsolutePath().toString());\r\n\t\tSystem.setProperty(&quot;javax.net.ssl.keyStoreType&quot;, &quot;jks&quot;);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tSystem.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, new String(Files.readAllBytes(Configuration.KEYSTOREPATH_PASS)));\r\n\t\t} catch (IOException e) {\r\n\t\t\tthrow new IOException(&quot;Read password of key store is failed&quot;, e);\r\n\t\t}\r\n\r\n\t\tclient = ApacheHttpClient.builder().build();\r\n\r\n\t\tSdkHttpRequest httpRequest;\r\n\t\ttry {\r\n\t\t\thttpRequest = SdkHttpFullRequest.builder()\r\n\t\t\t        .method(SdkHttpMethod.GET)\r\n\t\t\t        .uri(new URI(Configuration.CLIENT_ENDPOINT))\r\n\t\t\t        .putHeader(&quot;x-amzn-iot-thingname&quot;, clientId)\r\n\t\t\t        .build();\r\n\t\t} catch (URISyntaxException e) {\r\n\t\t\tthrow new URISyntaxException(Configuration.CLIENT_ENDPOINT, &quot;Building URI from client endpoint is failed&quot;);\r\n\t\t}\r\n\r\n\t\trequest = HttpExecuteRequest.builder()\r\n\t\t        .request(httpRequest)\r\n\t\t        .build();\r\n\t\ttry {\r\n\t\t\tsetCredentials();\r\n\t\t} catch (IOException e) {\r\n\t\t\tthrow new IOException(&quot;Set temporary credentials is failed&quot;, e);\r\n\t\t}\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void refresh() {\r\n\t\ttry {\r\n\t\t\tsetCredentials();\r\n\t\t} catch (IOException e) {\r\n\t\t\tLOGGER.error(&quot;Refresh session credentials is failed&quot;, e);\r\n\t\t}\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic AWSSessionCredentials getCredentials() {\r\n\t\treturn new BasicSessionCredentials(awsAccessKeyId, awsSecretAccessKeyId, awsSessionToken);\r\n\t}\r\n\t\r\n\tprivate void setCredentials() throws IOException {\r\n\t\tHttpExecuteResponse response = client.prepareRequest(request).call();\r\n\t\tString credStr = IoUtils.toUtf8String(response.responseBody().get());\r\n\t\t\r\n\t\tCredentialsJson credJson = gson.fromJson(credStr, CredentialsJson.class);\r\n\t\tawsAccessKeyId = credJson.credentials.accessKeyId;\r\n\t\tawsSecretAccessKeyId = credJson.credentials.secretAccessKey;\r\n\t\tawsSessionToken = credJson.credentials.sessionToken;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n4. So, I get temporary credentials successfully, but when I use them:\r\n```\r\nAWSSessionCredentialsProviderImpl credentialsProvider = new AWSSessionCredentialsProviderImpl();\r\ncredentialsProvider.init(&quot;someid&quot;);\r\n\r\ns3Client = AmazonS3ClientBuilder.standard()\r\n                .withRegion(region)\r\n                .withCredentials(credentialsProvider)\r\n                .build();\r\n\r\ns3Client.putObject(request); \r\n```\r\n\r\nI get the following exception:\r\n\r\n&gt; Caused by:  \r\n&gt; sun.security.provider.certpath.SunCertPathBuilderException:\r\n&gt; unable to find valid certification path to requested target\r\n\r\n\r\nI don&#39;t understand why I get this exception if I can get temporary credentials successfully.\r\n\r\n\r\n  [1]: https://aws.amazon.com/blogs/security/how-to-eliminate-the-need-for-hardcoded-aws-credentials-in-devices-by-using-the-aws-iot-credentials-provider/","title":"Unable to find valid certification path to requested target with AWS security token","body":"<p>I'm trying to implement the solution presented in the following AWS article:</p>\n<ul>\n<li><a href=\"https://aws.amazon.com/blogs/security/how-to-eliminate-the-need-for-hardcoded-aws-credentials-in-devices-by-using-the-aws-iot-credentials-provider/\" rel=\"nofollow noreferrer\">How to Eliminate the Need for Hardcoded AWS Credentials in Devices\nby Using the AWS IoT Credentials Provider</a></li>\n</ul>\n<hr />\n<p>So I did next steps:</p>\n<ol>\n<li><p>Create local keystore:</p>\n<p><code>keystore winpty openssl pkcs12 -export -in eeb81a0eb6-certificate.pem.crt -inkey eeb81a0eb6-private.pem.key -name myname -out my.p12 -password pass:mypass</code></p>\n<p><code>keytool -importkeystore -destkeystore mykeystore.jks -srckeystore my.p12 -srcstoretype PKCS12 -deststorepass mypass -srcstorepass mypass</code></p>\n</li>\n<li><p>Create local truststore:</p>\n<p><code>keytool -keystore my_ca.jks -alias myalias -import -file AmazonRootCA1.pem</code></p>\n</li>\n<li><p>My code:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class AWSSessionCredentialsProviderImpl implements AWSSessionCredentialsProvider  {\n    \n    private static final Logger LOGGER = LogManager.getLogger(AWSSessionCredentialsProviderImpl.class.getName());\n    \n    private final Gson gson = new Gson();\n    \n    private SdkHttpClient client;\n    private HttpExecuteRequest request; \n    private String awsAccessKeyId;\n    private String awsSecretAccessKeyId;\n    private String awsSessionToken;\n    \n    public void init(String clientId) throws IOException, URISyntaxException {\n        System.setProperty(&quot;javax.net.ssl.trustStore&quot;, Configuration.KEYSTOREPATH_CA.toAbsolutePath().toString());\n        System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;jks&quot;);\n        \n        try {\n            System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, new String(Files.readAllBytes(Configuration.KEYSTOREPATH_CA_PASS)));\n        } catch (IOException e) {\n            throw new IOException(&quot;Read password of trust store is failed&quot;, e);\n        }\n        \n        \n        System.setProperty(&quot;javax.net.ssl.keyStore&quot;, Configuration.KEYSTOREPATH.toAbsolutePath().toString());\n        System.setProperty(&quot;javax.net.ssl.keyStoreType&quot;, &quot;jks&quot;);\n        \n        try {\n            System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, new String(Files.readAllBytes(Configuration.KEYSTOREPATH_PASS)));\n        } catch (IOException e) {\n            throw new IOException(&quot;Read password of key store is failed&quot;, e);\n        }\n\n        client = ApacheHttpClient.builder().build();\n\n        SdkHttpRequest httpRequest;\n        try {\n            httpRequest = SdkHttpFullRequest.builder()\n                    .method(SdkHttpMethod.GET)\n                    .uri(new URI(Configuration.CLIENT_ENDPOINT))\n                    .putHeader(&quot;x-amzn-iot-thingname&quot;, clientId)\n                    .build();\n        } catch (URISyntaxException e) {\n            throw new URISyntaxException(Configuration.CLIENT_ENDPOINT, &quot;Building URI from client endpoint is failed&quot;);\n        }\n\n        request = HttpExecuteRequest.builder()\n                .request(httpRequest)\n                .build();\n        try {\n            setCredentials();\n        } catch (IOException e) {\n            throw new IOException(&quot;Set temporary credentials is failed&quot;, e);\n        }\n    }\n    \n    @Override\n    public void refresh() {\n        try {\n            setCredentials();\n        } catch (IOException e) {\n            LOGGER.error(&quot;Refresh session credentials is failed&quot;, e);\n        }\n    }\n    \n    @Override\n    public AWSSessionCredentials getCredentials() {\n        return new BasicSessionCredentials(awsAccessKeyId, awsSecretAccessKeyId, awsSessionToken);\n    }\n    \n    private void setCredentials() throws IOException {\n        HttpExecuteResponse response = client.prepareRequest(request).call();\n        String credStr = IoUtils.toUtf8String(response.responseBody().get());\n        \n        CredentialsJson credJson = gson.fromJson(credStr, CredentialsJson.class);\n        awsAccessKeyId = credJson.credentials.accessKeyId;\n        awsSecretAccessKeyId = credJson.credentials.secretAccessKey;\n        awsSessionToken = credJson.credentials.sessionToken;\n    }\n}\n\n</code></pre>\n<ol start=\"4\">\n<li>So, I get temporary credentials successfully, but when I use them:</li>\n</ol>\n<pre><code>AWSSessionCredentialsProviderImpl credentialsProvider = new AWSSessionCredentialsProviderImpl();\ncredentialsProvider.init(&quot;someid&quot;);\n\ns3Client = AmazonS3ClientBuilder.standard()\n                .withRegion(region)\n                .withCredentials(credentialsProvider)\n                .build();\n\ns3Client.putObject(request); \n</code></pre>\n<p>I get the following exception:</p>\n<blockquote>\n<p>Caused by:<br />\nsun.security.provider.certpath.SunCertPathBuilderException:\nunable to find valid certification path to requested target</p>\n</blockquote>\n<p>I don't understand why I get this exception if I can get temporary credentials successfully.</p>\n"},{"tags":["java","validation","testng","bean-validation","custom-validators"],"comments":[{"owner":{"account_id":4719079,"reputation":1173,"user_id":3817503,"accept_rate":50,"display_name":"goe"},"score":0,"creation_date":1425053278,"post_id":28768577,"comment_id":45817271,"body_markdown":"Actually I I created myself a small mock class within the testing class and validating the properties in that class seems to be easy enough so this will work for me fine.","body":"Actually I I created myself a small mock class within the testing class and validating the properties in that class seems to be easy enough so this will work for me fine."},{"owner":{"account_id":2120898,"reputation":3666,"user_id":1884155,"accept_rate":54,"display_name":"user1884155"},"score":0,"creation_date":1583772276,"post_id":28768577,"comment_id":107220471,"body_markdown":"According to the official docs (https://docs.oracle.com/javaee/7/api/javax/validation/ConstraintValidator.html), the isValid() method requires to be threadSafe. When setting this class&#39;s attributes using initialize; is it thread safe? Is a new instance of this validator class created for every single field that is being validated?","body":"According to the official docs (<a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/ConstraintValidator.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/7/api/javax/validation/&hellip;</a>), the isValid() method requires to be threadSafe. When setting this class&#39;s attributes using initialize; is it thread safe? Is a new instance of this validator class created for every single field that is being validated?"}],"answers":[{"tags":[],"owner":{"account_id":40043,"reputation":18749,"user_id":115835,"display_name":"Hardy"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1425379204,"creation_date":1425379204,"answer_id":28829676,"question_id":28768577,"body_markdown":"You can test the validator standalone. The rub is of course the initialize method, since it needs an instance of the annotation. You basically have three options:\r\n\r\n 1. Add a second initialize method which takes the required parameters directly. You can then use this method to initialize the validator. You can also make this method just package visible, provided your test resides in the same package\r\n 2. Place the test annotation somewhere into your test class and retrieve it via reflection in order to pass it to the initialize method.\r\n 3. Use annotation proxies. This is also what Hibernate Validator itself uses internally for in case constraints are configured via XML or needed for tests. There are two classes in Hibernate Validator which you could use `AnnotationDescriptor` and `AnnotationFactory`. The code would somewhat like this:\r\n\r\n\r\n--\r\n\r\n    private AllowedValues createAnnotation(String[]values, String defaultValue) {\r\n      AnnotationDescriptor&lt;AllowedValues&gt; descriptor = new AnnotationDescriptor&lt;AllowedValues&gt;( AllowedValues.class );\r\n      descriptor.setValue( &quot;values&quot;, values );\r\n      descriptor.setValue( &quot;defaultValue&quot;, defaultValue );\r\n              \r\n      return AnnotationFactory.create( descriptor );\r\n    }\r\n\r\nYou would need to depend on Hibernate Validator internal classes, but for testing purposes this should be fine. Of course you could also just create your own proxy framework.","title":"How to test a Validator which implements ConstraintValidator in java?","body":"<p>You can test the validator standalone. The rub is of course the initialize method, since it needs an instance of the annotation. You basically have three options:</p>\n\n<ol>\n<li>Add a second initialize method which takes the required parameters directly. You can then use this method to initialize the validator. You can also make this method just package visible, provided your test resides in the same package</li>\n<li>Place the test annotation somewhere into your test class and retrieve it via reflection in order to pass it to the initialize method.</li>\n<li>Use annotation proxies. This is also what Hibernate Validator itself uses internally for in case constraints are configured via XML or needed for tests. There are two classes in Hibernate Validator which you could use <code>AnnotationDescriptor</code> and <code>AnnotationFactory</code>. The code would somewhat like this:</li>\n</ol>\n\n<p>--</p>\n\n<pre><code>private AllowedValues createAnnotation(String[]values, String defaultValue) {\n  AnnotationDescriptor&lt;AllowedValues&gt; descriptor = new AnnotationDescriptor&lt;AllowedValues&gt;( AllowedValues.class );\n  descriptor.setValue( \"values\", values );\n  descriptor.setValue( \"defaultValue\", defaultValue );\n\n  return AnnotationFactory.create( descriptor );\n}\n</code></pre>\n\n<p>You would need to depend on Hibernate Validator internal classes, but for testing purposes this should be fine. Of course you could also just create your own proxy framework.</p>\n"},{"comments":[{"owner":{"account_id":239746,"reputation":6175,"user_id":509565,"accept_rate":69,"display_name":"lrkwz"},"score":0,"creation_date":1611868683,"post_id":55511023,"comment_id":116596724,"body_markdown":"If you remove mock from the validator you can also remove `doCallRealMethod()`","body":"If you remove mock from the validator you can also remove <code>doCallRealMethod()</code>"}],"tags":[],"owner":{"account_id":6061587,"reputation":3227,"user_id":4733169,"display_name":"JCollerton"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1554365827,"creation_date":1554365827,"answer_id":55511023,"question_id":28768577,"body_markdown":"I used the below pattern:\r\n\r\n```\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class AllowedValuesValidatorTest {\r\n\r\n    @Mock\r\n    AllowedValuesValidator allowedValuesValidator;\r\n\r\n    @Mock\r\n    ConstraintValidatorContext constraintValidatorContext;\r\n\r\n    @Before\r\n    public void setUp() {\r\n\r\n        doCallRealMethod().when(allowedValuesValidator).initialize(any());\r\n        when(allowedValuesValidator.isValid(any(), any())).thenCallRealMethod();\r\n\r\n        AllowedValuesValidatorTestClass testClass = new AllowedValuesValidatorTestClass();\r\n\r\n        allowedValuesValidator.initialize(testClass);\r\n\r\n    }\r\n\r\n    @Test\r\n    public void testIsValidWithValidValues() {\r\n        assertTrue(allowedValuesValidator.isValid(&quot;Value&quot;, constraintValidatorContext));\r\n    }\r\n\r\n    private class AllowedValuesValidatorTestClass implements AllowedValues {\r\n\r\n        @Override\r\n        public String message() {\r\n            return &quot;Test Message&quot;;\r\n        }\r\n\r\n        @Override\r\n        public Class&lt;?&gt;[] groups() {\r\n            return new Class[]{};\r\n        }\r\n\r\n        @Override\r\n        public Class&lt;? extends Payload&gt;[] payload() {\r\n            return new Class[]{};\r\n        }\r\n\r\n        @Override\r\n        public Class&lt;? extends Annotation&gt; annotationType() {\r\n            return AllowedValues.class;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nWe can mock the class we are testing. As an annotation is just an interface we can pass in a concrete implementation as the parameter to initialise (which you can make behave any way you need in order to initialise your test correctly). You can then pass in a mock `ConstraintValidatorContext` to your `isValid` method. However, you may need to do some extra work depending on what that method does, if it interacts with the context you may need to do some further mocking. ","title":"How to test a Validator which implements ConstraintValidator in java?","body":"<p>I used the below pattern:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class AllowedValuesValidatorTest {\n\n    @Mock\n    AllowedValuesValidator allowedValuesValidator;\n\n    @Mock\n    ConstraintValidatorContext constraintValidatorContext;\n\n    @Before\n    public void setUp() {\n\n        doCallRealMethod().when(allowedValuesValidator).initialize(any());\n        when(allowedValuesValidator.isValid(any(), any())).thenCallRealMethod();\n\n        AllowedValuesValidatorTestClass testClass = new AllowedValuesValidatorTestClass();\n\n        allowedValuesValidator.initialize(testClass);\n\n    }\n\n    @Test\n    public void testIsValidWithValidValues() {\n        assertTrue(allowedValuesValidator.isValid(\"Value\", constraintValidatorContext));\n    }\n\n    private class AllowedValuesValidatorTestClass implements AllowedValues {\n\n        @Override\n        public String message() {\n            return \"Test Message\";\n        }\n\n        @Override\n        public Class&lt;?&gt;[] groups() {\n            return new Class[]{};\n        }\n\n        @Override\n        public Class&lt;? extends Payload&gt;[] payload() {\n            return new Class[]{};\n        }\n\n        @Override\n        public Class&lt;? extends Annotation&gt; annotationType() {\n            return AllowedValues.class;\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>We can mock the class we are testing. As an annotation is just an interface we can pass in a concrete implementation as the parameter to initialise (which you can make behave any way you need in order to initialise your test correctly). You can then pass in a mock <code>ConstraintValidatorContext</code> to your <code>isValid</code> method. However, you may need to do some extra work depending on what that method does, if it interacts with the context you may need to do some further mocking. </p>\n"},{"comments":[{"owner":{"account_id":239746,"reputation":6175,"user_id":509565,"accept_rate":69,"display_name":"lrkwz"},"score":1,"creation_date":1611854162,"post_id":58269788,"comment_id":116590686,"body_markdown":"I wonder how this can compile since your `isValid()` method requires a ConstraintValidationContext","body":"I wonder how this can compile since your <code>isValid()</code> method requires a ConstraintValidationContext"}],"tags":[],"owner":{"account_id":5183632,"reputation":1527,"user_id":4148568,"display_name":"Rammgarot"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1570452131,"creation_date":1570452131,"answer_id":58269788,"question_id":28768577,"body_markdown":"Annotation:\r\n    \r\n    @Documented\r\n    @Constraint(validatedBy = NoWhitespacesValidator.class)\r\n    @Target({ FIELD })\r\n    @Retention(RUNTIME)\r\n    public @interface NoWhitespaces {\r\n        String message() default &quot;Not valid&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\n\r\nValidator:\r\n\r\n    public class NoWhitespacesValidator implements ConstraintValidator&lt;NoWhitespaces, String&gt; {\r\n        @Override public boolean isValid(String value, ConstraintValidatorContext context) {\r\n            return !value.contains(&quot; &quot;);\r\n        }\r\n    }\r\n\r\nTestCase:\r\n\r\n    class NoWhitespacesTest {\r\n    \r\n        private NoWhitespacesValidator validator = new NoWhitespacesValidator();\r\n    \r\n        @Nested\r\n        class NoWhitespaceValidFlow {\r\n            @Test\r\n            void isValid_shouldReturnTrue_whenNoWhitespaces() {\r\n                assertTrue(isValid(&quot;&quot;));\r\n                assertTrue(isValid(&quot;foo.bar&quot;));\r\n            }\r\n        }\r\n    \r\n        @Nested\r\n        class NoWhitespacesInvalidFlow {\r\n            @Test\r\n            void isValid_shouldReturnFalse_whenAtLeastOneWhitespace() {\r\n                assertFalse(isValid(&quot; &quot;));\r\n                assertFalse(isValid(&quot;foo bar&quot;));\r\n                assertFalse(isValid(&quot;  foo&quot;));\r\n                assertFalse(isValid(&quot;foo  &quot;));\r\n            }\r\n        }\r\n    \r\n        private boolean isValid(String value) {\r\n            return validator.isValid(value, null);\r\n        }\r\n    }\r\n\r\n","title":"How to test a Validator which implements ConstraintValidator in java?","body":"<p>Annotation:</p>\n\n<pre><code>@Documented\n@Constraint(validatedBy = NoWhitespacesValidator.class)\n@Target({ FIELD })\n@Retention(RUNTIME)\npublic @interface NoWhitespaces {\n    String message() default \"Not valid\";\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n\n<p>Validator:</p>\n\n<pre><code>public class NoWhitespacesValidator implements ConstraintValidator&lt;NoWhitespaces, String&gt; {\n    @Override public boolean isValid(String value, ConstraintValidatorContext context) {\n        return !value.contains(\" \");\n    }\n}\n</code></pre>\n\n<p>TestCase:</p>\n\n<pre><code>class NoWhitespacesTest {\n\n    private NoWhitespacesValidator validator = new NoWhitespacesValidator();\n\n    @Nested\n    class NoWhitespaceValidFlow {\n        @Test\n        void isValid_shouldReturnTrue_whenNoWhitespaces() {\n            assertTrue(isValid(\"\"));\n            assertTrue(isValid(\"foo.bar\"));\n        }\n    }\n\n    @Nested\n    class NoWhitespacesInvalidFlow {\n        @Test\n        void isValid_shouldReturnFalse_whenAtLeastOneWhitespace() {\n            assertFalse(isValid(\" \"));\n            assertFalse(isValid(\"foo bar\"));\n            assertFalse(isValid(\"  foo\"));\n            assertFalse(isValid(\"foo  \"));\n        }\n    }\n\n    private boolean isValid(String value) {\n        return validator.isValid(value, null);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8763927,"reputation":1512,"user_id":6553042,"display_name":"fuat"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596992425,"creation_date":1596992425,"answer_id":63329094,"question_id":28768577,"body_markdown":"@Hardy&#39;s answer is pretty good but if you use **hibernate-validator-6.5.1.Final** the constructor that @Hardy&#39;s used **AnnotationDescriptor** has another parameter and also it is private. You can check  AnnotationDescriptor constructors  [here][1] . So what i did so far, just combine @Rammgarot and @JCollerton answers. Here is the another way to test validator.\r\n\r\n    public class AllowedValuesValidatorTest {\r\n\r\n        private AllowedValuesValidator validator;\r\n        String[] allowedValues = {&quot;Y&quot;, &quot;N&quot;};\r\n        String defaultValue = &quot;&quot;;\r\n\r\n        @BeforeEach\r\n        void setUp() {\r\n            validator = new AllowedValuesValidator();\r\n            validator.initialize(createAnnotation(allowedValues, defaultValue));\r\n        }\r\n\r\n        @Test\r\n        void isValid() {\r\n            // your test here\r\n        }\r\n\r\n        private boolean isValid(String value) {\r\n            return validator.isValid(value, null);\r\n        }\r\n\r\n        private AllowedValues createAnnotation(String[] allowedValues, String defaultValue) {\r\n            return new AllowedValues() {\r\n                @Override\r\n                public Class&lt;? extends Annotation&gt; annotationType() {\r\n                    return null;\r\n                }\r\n\r\n                @Override\r\n                public String message() {\r\n                    return &quot;Please provide a valid id&quot;;\r\n                }\r\n\r\n                @Override\r\n                public Class&lt;?&gt;[] groups() {\r\n                    return new Class[0];\r\n                }\r\n\r\n                @Override\r\n                public Class&lt;? extends Payload&gt;[] payload() {\r\n                    return new Class[0];\r\n                }\r\n\r\n                @Override\r\n                public String[] allowedValues() {\r\n                    return allowedValues;\r\n                }\r\n\r\n                 @Override\r\n                 public String defaultValue() {\r\n                    return defaultValue;\r\n                 }\r\n            };\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/stable/validator/api/org/hibernate/validator/internal/util/annotation/AnnotationDescriptor.html","title":"How to test a Validator which implements ConstraintValidator in java?","body":"<p>@Hardy's answer is pretty good but if you use <strong>hibernate-validator-6.5.1.Final</strong> the constructor that @Hardy's used <strong>AnnotationDescriptor</strong> has another parameter and also it is private. You can check  AnnotationDescriptor constructors  <a href=\"https://docs.jboss.org/hibernate/stable/validator/api/org/hibernate/validator/internal/util/annotation/AnnotationDescriptor.html\" rel=\"nofollow noreferrer\">here</a> . So what i did so far, just combine @Rammgarot and @JCollerton answers. Here is the another way to test validator.</p>\n<pre><code>public class AllowedValuesValidatorTest {\n\n    private AllowedValuesValidator validator;\n    String[] allowedValues = {&quot;Y&quot;, &quot;N&quot;};\n    String defaultValue = &quot;&quot;;\n\n    @BeforeEach\n    void setUp() {\n        validator = new AllowedValuesValidator();\n        validator.initialize(createAnnotation(allowedValues, defaultValue));\n    }\n\n    @Test\n    void isValid() {\n        // your test here\n    }\n\n    private boolean isValid(String value) {\n        return validator.isValid(value, null);\n    }\n\n    private AllowedValues createAnnotation(String[] allowedValues, String defaultValue) {\n        return new AllowedValues() {\n            @Override\n            public Class&lt;? extends Annotation&gt; annotationType() {\n                return null;\n            }\n\n            @Override\n            public String message() {\n                return &quot;Please provide a valid id&quot;;\n            }\n\n            @Override\n            public Class&lt;?&gt;[] groups() {\n                return new Class[0];\n            }\n\n            @Override\n            public Class&lt;? extends Payload&gt;[] payload() {\n                return new Class[0];\n            }\n\n            @Override\n            public String[] allowedValues() {\n                return allowedValues;\n            }\n\n             @Override\n             public String defaultValue() {\n                return defaultValue;\n             }\n        };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17285700,"reputation":121,"user_id":12518452,"display_name":"Mami Alexandre"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1618848836,"creation_date":1618848836,"answer_id":67165586,"question_id":28768577,"body_markdown":"As @Rammgarot suggest , it works fine but if we change his code , for example the validations rules must be  next : &quot;no white spaces&quot; and must begin with the word &quot;stack&quot; &lt;br&gt;NoWhitesSpace.java\r\n\r\n   \r\n \r\n    @Documented\r\n    @Constraint(validatedBy = NoWhitespacesValidator.class)\r\n    @Target({ FIELD })\r\n    @Retention(RUNTIME)\r\n    public @interface NoWhitesSpace {\r\n      \r\n        String value() default &quot;stack&quot;; \r\n        String message() default &quot;Not valid&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\n\r\n&lt;br&gt;&lt;br&gt;NoWhitespacesValidator.java\r\n\r\n    public class NoWhitespacesValidator implements ConstraintValidator&lt;NoWhitesSpace, String&gt; {\r\n    \r\n    \r\n       String prefix;\r\n    \r\n       public void initialize(NoWhitesSpace constraint) {\r\n         prefix =  constraint.value();\r\n       }\r\n    \r\n       public boolean isValid(String value, ConstraintValidatorContext context) {\r\n    \r\n          boolean result = !value.contains(&quot; &quot;) &amp;&amp; value.startsWith(prefix);\r\n    \r\n          return result;\r\n    \r\n       }\r\n    }\r\n\r\nThe test will not pass and the code will generate NullPointerException.\r\n\r\nFor me, i find the  solution with mock. &lt;br&gt; -&gt; Customer is a simple class entity with fields , setters and getters. &lt;br&gt;&lt;br&gt; \r\nNoWhitespacesValidatorTest.java &lt;br&gt;\r\n\r\n    class NoWhitespacesValidatorTest {\r\n    \r\n        private NoWhitesSpace noWhitesSpace = mock(NoWhitesSpace.class);\r\n    \r\n        private ConstraintValidatorContext constraintValidatorContext = mock(ConstraintValidatorContext.class);\r\n    \r\n        @Test\r\n        public void itShouldBeValidWhenItStartsWithPrefixAndWithoutWhiteSpace(){\r\n    \r\n            when(noWhitesSpace.value()).thenReturn(&quot;stack&quot;);\r\n    \r\n            NoWhitespacesValidator noWhitespacesValidator=new NoWhitespacesValidator();\r\n            noWhitespacesValidator.initialize(noWhitesSpace);\r\n    \r\n            Customer customer = new Customer();\r\n            customer.setCourseCode(&quot;stack&quot;);\r\n    \r\n            boolean result = noWhitespacesValidator.isValid(customer.getCourseCode(),constraintValidatorContext);\r\n    \r\n            assertTrue(result);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n","title":"How to test a Validator which implements ConstraintValidator in java?","body":"<p>As @Rammgarot suggest , it works fine but if we change his code , for example the validations rules must be  next : &quot;no white spaces&quot; and must begin with the word &quot;stack&quot; <br>NoWhitesSpace.java</p>\n<pre><code>@Documented\n@Constraint(validatedBy = NoWhitespacesValidator.class)\n@Target({ FIELD })\n@Retention(RUNTIME)\npublic @interface NoWhitesSpace {\n  \n    String value() default &quot;stack&quot;; \n    String message() default &quot;Not valid&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p><br><br>NoWhitespacesValidator.java</p>\n<pre><code>public class NoWhitespacesValidator implements ConstraintValidator&lt;NoWhitesSpace, String&gt; {\n\n\n   String prefix;\n\n   public void initialize(NoWhitesSpace constraint) {\n     prefix =  constraint.value();\n   }\n\n   public boolean isValid(String value, ConstraintValidatorContext context) {\n\n      boolean result = !value.contains(&quot; &quot;) &amp;&amp; value.startsWith(prefix);\n\n      return result;\n\n   }\n}\n</code></pre>\n<p>The test will not pass and the code will generate NullPointerException.</p>\n<p>For me, i find the  solution with mock. <br> -&gt; Customer is a simple class entity with fields , setters and getters. <br><br>\nNoWhitespacesValidatorTest.java <br></p>\n<pre><code>class NoWhitespacesValidatorTest {\n\n    private NoWhitesSpace noWhitesSpace = mock(NoWhitesSpace.class);\n\n    private ConstraintValidatorContext constraintValidatorContext = mock(ConstraintValidatorContext.class);\n\n    @Test\n    public void itShouldBeValidWhenItStartsWithPrefixAndWithoutWhiteSpace(){\n\n        when(noWhitesSpace.value()).thenReturn(&quot;stack&quot;);\n\n        NoWhitespacesValidator noWhitespacesValidator=new NoWhitespacesValidator();\n        noWhitespacesValidator.initialize(noWhitesSpace);\n\n        Customer customer = new Customer();\n        customer.setCourseCode(&quot;stack&quot;);\n\n        boolean result = noWhitespacesValidator.isValid(customer.getCourseCode(),constraintValidatorContext);\n\n        assertTrue(result);\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":923249,"reputation":1570,"user_id":954517,"accept_rate":86,"display_name":"Ville Myrskyneva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695901368,"creation_date":1695900990,"answer_id":77194592,"question_id":28768577,"body_markdown":"*This is an old question, but I happened to look for tips to do this same thing (no good ones found). I carved out the following test which feels a proper/decent way to do this.*\r\n\r\nI don&#39;t see it very handy to mock stuff. Instead the constraints should be testable by using the framework itself.\r\nThis is how I managed to make constraint validation to work with a Spring Boot project.\r\n\r\nI&#39;m not providing code for the constraint itself (does not differ from examples around), but only a clean way to actually test it.\r\n\r\n1. Create a simple service at **src/test**. (Don&#39;t create a dummy-service to the  src/main just for testing purposes)\r\n\r\n\r\n        import org.springframework.stereotype.Service;\r\n        import org.springframework.validation.annotation.Validated;\r\n        import annotation.NewUserConstraint;\r\n        import entity.UserInfo;\r\n\r\n        @Service\r\n        @Validated // Important: The constraint won&#39;t work without this\r\n        public class ConstraintTestingService {\r\n    \r\n            /**\r\n             * The parameter is validated according to constraint rules specified with {@link NewUserConstraint}.\r\n             * @param user The object target for constraint validation.\r\n             * @return &lt;code&gt;True&lt;/code&gt; when the validation passes. \r\n             */\r\n            public boolean testConstraint(@NewUserConstraint UserInfo user) {\r\n                return true;\r\n            }\r\n         }\r\n\r\n2. Create a SpringBoot test.\r\n\r\n        import java.util.Set;\r\n        import javax.validation.ConstraintViolation;\r\n        import javax.validation.ConstraintViolationException;\r\n\r\n        import org.junit.jupiter.api.Assertions;\r\n        import org.junit.jupiter.api.Test;\r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.boot.test.context.SpringBootTest;\r\n        import org.springframework.test.context.ActiveProfiles;\r\n\r\n        import ConstraintTestingService;\r\n        import entity.UserInfo;\r\n\r\n        @SpringBootTest\r\n        @ActiveProfiles(&quot;test&quot;)\r\n        public class ConstraintTest extends Assertions {\r\n        @Autowired\r\n        private ConstraintTestingService constraintTest;\r\n\r\n        @Test\r\n        public void testNewUserConstraint() {\r\n            var user = new UserInfo(&quot;12345&quot;);\r\n            var exception = assertThrows(ConstraintViolationException.class, () -&gt; this.constraintTest.testConstraint(user));\r\n            var violations = exception.getConstraintViolations();\r\n            assertNotNull(violations);\r\n            assertEquals(2, violations.size());\r\n            // Do what rest is needed to check the validation messages from violations\r\n        }\r\n}","title":"How to test a Validator which implements ConstraintValidator in java?","body":"<p><em>This is an old question, but I happened to look for tips to do this same thing (no good ones found). I carved out the following test which feels a proper/decent way to do this.</em></p>\n<p>I don't see it very handy to mock stuff. Instead the constraints should be testable by using the framework itself.\nThis is how I managed to make constraint validation to work with a Spring Boot project.</p>\n<p>I'm not providing code for the constraint itself (does not differ from examples around), but only a clean way to actually test it.</p>\n<ol>\n<li><p>Create a simple service at <strong>src/test</strong>. (Don't create a dummy-service to the  src/main just for testing purposes)</p>\n<pre><code> import org.springframework.stereotype.Service;\n import org.springframework.validation.annotation.Validated;\n import annotation.NewUserConstraint;\n import entity.UserInfo;\n\n @Service\n @Validated // Important: The constraint won't work without this\n public class ConstraintTestingService {\n\n     /**\n      * The parameter is validated according to constraint rules specified with {@link NewUserConstraint}.\n      * @param user The object target for constraint validation.\n      * @return &lt;code&gt;True&lt;/code&gt; when the validation passes. \n      */\n     public boolean testConstraint(@NewUserConstraint UserInfo user) {\n         return true;\n     }\n  }\n</code></pre>\n</li>\n<li><p>Create a SpringBoot test.</p>\n<pre><code> import java.util.Set;\n import javax.validation.ConstraintViolation;\n import javax.validation.ConstraintViolationException;\n\n import org.junit.jupiter.api.Assertions;\n import org.junit.jupiter.api.Test;\n import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.boot.test.context.SpringBootTest;\n import org.springframework.test.context.ActiveProfiles;\n\n import ConstraintTestingService;\n import entity.UserInfo;\n\n @SpringBootTest\n @ActiveProfiles(&quot;test&quot;)\n public class ConstraintTest extends Assertions {\n @Autowired\n private ConstraintTestingService constraintTest;\n\n @Test\n public void testNewUserConstraint() {\n     var user = new UserInfo(&quot;12345&quot;);\n     var exception = assertThrows(ConstraintViolationException.class, () -&gt; this.constraintTest.testConstraint(user));\n     var violations = exception.getConstraintViolations();\n     assertNotNull(violations);\n     assertEquals(2, violations.size());\n     // Do what rest is needed to check the validation messages from violations\n }\n</code></pre>\n</li>\n</ol>\n<p>}</p>\n"}],"owner":{"account_id":4719079,"reputation":1173,"user_id":3817503,"accept_rate":50,"display_name":"goe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40371,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"answer_count":6,"score":26,"last_activity_date":1695901368,"creation_date":1425050847,"question_id":28768577,"body_markdown":"I have an &quot;AllowedValuesValidator.java&quot; class:\r\n\r\n    public class AllowedValuesValidator implements ConstraintValidator&lt;AllowedValues, String&gt; {\r\n    \r\n    \tString[] values;\r\n    \tString defaultValue;\r\n    \r\n    \t@Override\r\n    \tpublic void initialize(AllowedValues constraintAnnotation) {\r\n    \t\tvalues = constraintAnnotation.allowedValues();\r\n    \t\tdefaultValue = constraintAnnotation.defaultValue();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isValid(String value, ConstraintValidatorContext context) {\r\n    \t\tif (!StringUtils.isEmpty(defaultValue) &amp;&amp; StringUtils.isEmpty(value)) {\r\n    \t\t\tvalue = defaultValue;\r\n    \t\t}\r\n    \r\n    \t\tif (!StringUtils.isEmpty(value) &amp;&amp; !Arrays.asList(values).contains(value)) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    }\r\n\r\nAnd the corresponding interface class:\r\n\r\n    @Target(ElementType.FIELD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Constraint(validatedBy = AllowedValuesValidator.class)\r\n    public @interface AllowedValues {\r\n    \r\n    \tString message();\r\n    \r\n    \tString fieldName();\r\n    \r\n    \tint fieldNumber();\r\n    \r\n    \tString[] allowedValues() default {&quot;Y&quot;, &quot;N&quot;};\r\n    \r\n    \tString defaultValue() default &quot;&quot;;\r\n    }\r\n\r\nI want to be able to write a unit test class to test the direct logic in that validator. But it seems that most places I googled give examples of test classes where we basically test all validators for a given Model class, for example:\r\n\r\n        @BeforeClass\r\n        public static void setup() {\r\n            ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n            validator = factory.getValidator();\r\n        }\r\n     \r\n        @Test\r\n        public void testEmailExistsIncorrect() {\r\n    \r\n            Set&lt;constraintviolation&lt;usercredentialsdto&gt;&gt; violations = validator\r\n                    .validate(credentials, UserCredentialsDto.class);\r\n            Assert.assertEquals(1, violations.size());\r\n        }\r\n\r\nI don&#39;t want to build mock models to test all validators.\r\nIs there a way to create a separate test class for just testing the logic in one single validator directly without using any other model classes etc?\r\n\r\n","title":"How to test a Validator which implements ConstraintValidator in java?","body":"<p>I have an \"AllowedValuesValidator.java\" class:</p>\n\n<pre><code>public class AllowedValuesValidator implements ConstraintValidator&lt;AllowedValues, String&gt; {\n\n    String[] values;\n    String defaultValue;\n\n    @Override\n    public void initialize(AllowedValues constraintAnnotation) {\n        values = constraintAnnotation.allowedValues();\n        defaultValue = constraintAnnotation.defaultValue();\n    }\n\n    @Override\n    public boolean isValid(String value, ConstraintValidatorContext context) {\n        if (!StringUtils.isEmpty(defaultValue) &amp;&amp; StringUtils.isEmpty(value)) {\n            value = defaultValue;\n        }\n\n        if (!StringUtils.isEmpty(value) &amp;&amp; !Arrays.asList(values).contains(value)) {\n            return false;\n        }\n        return true;\n    }\n}\n</code></pre>\n\n<p>And the corresponding interface class:</p>\n\n<pre><code>@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = AllowedValuesValidator.class)\npublic @interface AllowedValues {\n\n    String message();\n\n    String fieldName();\n\n    int fieldNumber();\n\n    String[] allowedValues() default {\"Y\", \"N\"};\n\n    String defaultValue() default \"\";\n}\n</code></pre>\n\n<p>I want to be able to write a unit test class to test the direct logic in that validator. But it seems that most places I googled give examples of test classes where we basically test all validators for a given Model class, for example:</p>\n\n<pre><code>    @BeforeClass\n    public static void setup() {\n        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n        validator = factory.getValidator();\n    }\n\n    @Test\n    public void testEmailExistsIncorrect() {\n\n        Set&lt;constraintviolation&lt;usercredentialsdto&gt;&gt; violations = validator\n                .validate(credentials, UserCredentialsDto.class);\n        Assert.assertEquals(1, violations.size());\n    }\n</code></pre>\n\n<p>I don't want to build mock models to test all validators.\nIs there a way to create a separate test class for just testing the logic in one single validator directly without using any other model classes etc?</p>\n"},{"tags":["java","json","xsd","jersey","jackson"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1494186750,"post_id":43835881,"comment_id":74708580,"body_markdown":"You could always try adding JSON annotations too, e.g. `@JsonProperty(&quot;TrackRequest&quot;)`. If it doesn&#39;t work on the field, try on the getter method instead.","body":"You could always try adding JSON annotations too, e.g. <code>@JsonProperty(&quot;TrackRequest&quot;)</code>. If it doesn&#39;t work on the field, try on the getter method instead."},{"owner":{"account_id":973518,"reputation":5174,"user_id":995514,"accept_rate":54,"display_name":"Half_Duplex"},"score":0,"creation_date":1494195872,"post_id":43835881,"comment_id":74711146,"body_markdown":"I gave that a try previously, it did create the desired property but the other undesired property was still created.","body":"I gave that a try previously, it did create the desired property but the other undesired property was still created."}],"answers":[{"comments":[{"owner":{"account_id":973518,"reputation":5174,"user_id":995514,"accept_rate":54,"display_name":"Half_Duplex"},"score":0,"creation_date":1494253475,"post_id":43838246,"comment_id":74736174,"body_markdown":"This works and I did get the desired output with this annotation, however I prefer to stick with the JAXB annotations I&#39;m familiar with.","body":"This works and I did get the desired output with this annotation, however I prefer to stick with the JAXB annotations I&#39;m familiar with."}],"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1494204466,"creation_date":1494204466,"answer_id":43838246,"question_id":43835881,"body_markdown":"As mentioned in a comment, add [`@JsonProperty`][1] to the fields.\r\n\r\nIt works fine for me, using Jackson 2.7.0:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\t@XmlAccessorType(XmlAccessType.FIELD)\r\n\t@XmlType(name = &quot;&quot;, propOrder = { &quot;trackRequest&quot; })\r\n\t@XmlRootElement(name = &quot;Request&quot;)\r\n\tclass Request {\r\n\t\t\r\n\t\t@XmlElement(name = &quot;TrackRequest&quot;)\r\n\t\t@JsonProperty(&quot;TrackRequest&quot;)\r\n\t\tprivate TrackRequest trackRequest;\r\n\t\t\r\n\t\tpublic Request() {\r\n\t\t}\r\n\t\tpublic Request(TrackRequest trackRequest) {\r\n\t\t\tthis.trackRequest = trackRequest;\r\n\t\t}\r\n\t}\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\t@XmlAccessorType(XmlAccessType.FIELD)\r\n\t@XmlType(name = &quot;&quot;, propOrder = { &quot;inquiryNumber&quot; })\r\n\tclass TrackRequest {\r\n\t\t\r\n\t\t@XmlElement(name = &quot;InquiryNumber&quot;)\r\n\t\t@JsonProperty(&quot;InquiryNumber&quot;)\r\n\t\tprivate String inquiryNumber;\r\n\t\t\r\n\t\tpublic TrackRequest() {\r\n\t\t}\r\n\t\tpublic TrackRequest(String inquiryNumber) {\r\n\t\t\tthis.inquiryNumber = inquiryNumber;\r\n\t\t}\r\n\t}\r\n\r\n*Test*\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tRequest upsRequest = new Request(new TrackRequest(&quot;1Z12345E6205277936&quot;));\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tMarshaller marshaller = JAXBContext.newInstance(Request.class).createMarshaller();\r\n\tmarshaller.setProperty(&quot;jaxb.formatted.output&quot;, Boolean.TRUE);\r\n\tmarshaller.marshal(upsRequest, System.out);\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tObjectMapper mapper = new ObjectMapper();\r\n\tmapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n\tmapper.writeValue(System.out, upsRequest);\r\n\r\n*Output*\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n\t&lt;Request&gt;\r\n\t    &lt;TrackRequest&gt;\r\n\t        &lt;InquiryNumber&gt;1Z12345E6205277936&lt;/InquiryNumber&gt;\r\n\t    &lt;/TrackRequest&gt;\r\n\t&lt;/Request&gt;\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n\t{\r\n\t  &quot;TrackRequest&quot; : {\r\n\t    &quot;InquiryNumber&quot; : &quot;1Z12345E6205277936&quot;\r\n\t  }\r\n\t}\r\n\r\nBoth XML and JSON output is using [PascalCase][2].\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonProperty.html\r\n  [2]: https://en.wikipedia.org/wiki/PascalCase","title":"Jackson ignoring XmlElement name/case when marshalling JSON","body":"<p>As mentioned in a comment, add <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonProperty.html\" rel=\"nofollow noreferrer\"><code>@JsonProperty</code></a> to the fields.</p>\n\n<p>It works fine for me, using Jackson 2.7.0:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"\", propOrder = { \"trackRequest\" })\n@XmlRootElement(name = \"Request\")\nclass Request {\n\n    @XmlElement(name = \"TrackRequest\")\n    @JsonProperty(\"TrackRequest\")\n    private TrackRequest trackRequest;\n\n    public Request() {\n    }\n    public Request(TrackRequest trackRequest) {\n        this.trackRequest = trackRequest;\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"\", propOrder = { \"inquiryNumber\" })\nclass TrackRequest {\n\n    @XmlElement(name = \"InquiryNumber\")\n    @JsonProperty(\"InquiryNumber\")\n    private String inquiryNumber;\n\n    public TrackRequest() {\n    }\n    public TrackRequest(String inquiryNumber) {\n        this.inquiryNumber = inquiryNumber;\n    }\n}\n</code></pre>\n\n<p><em>Test</em></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Request upsRequest = new Request(new TrackRequest(\"1Z12345E6205277936\"));\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>Marshaller marshaller = JAXBContext.newInstance(Request.class).createMarshaller();\nmarshaller.setProperty(\"jaxb.formatted.output\", Boolean.TRUE);\nmarshaller.marshal(upsRequest, System.out);\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper mapper = new ObjectMapper();\nmapper.enable(SerializationFeature.INDENT_OUTPUT);\nmapper.writeValue(System.out, upsRequest);\n</code></pre>\n\n<p><em>Output</em></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;Request&gt;\n    &lt;TrackRequest&gt;\n        &lt;InquiryNumber&gt;1Z12345E6205277936&lt;/InquiryNumber&gt;\n    &lt;/TrackRequest&gt;\n&lt;/Request&gt;\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>{\n  \"TrackRequest\" : {\n    \"InquiryNumber\" : \"1Z12345E6205277936\"\n  }\n}\n</code></pre>\n\n<p>Both XML and JSON output is using <a href=\"https://en.wikipedia.org/wiki/PascalCase\" rel=\"nofollow noreferrer\">PascalCase</a>.</p>\n"},{"comments":[{"owner":{"account_id":973518,"reputation":5174,"user_id":995514,"accept_rate":54,"display_name":"Half_Duplex"},"score":0,"creation_date":1494253422,"post_id":43838298,"comment_id":74736144,"body_markdown":"This worked. ObjectMapper now names properties exactly how specified in the annotation with no other features configured.","body":"This worked. ObjectMapper now names properties exactly how specified in the annotation with no other features configured."},{"owner":{"account_id":973518,"reputation":5174,"user_id":995514,"accept_rate":54,"display_name":"Half_Duplex"},"score":0,"creation_date":1494267659,"post_id":43838298,"comment_id":74745016,"body_markdown":"Follow up: In the response XSD I have a complex type defined, but in the JSON response that property comes in as an empty string. Is there a config feature to handle that or should I modify my XSD?","body":"Follow up: In the response XSD I have a complex type defined, but in the JSON response that property comes in as an empty string. Is there a config feature to handle that or should I modify my XSD?"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1494268639,"post_id":43838298,"comment_id":74745546,"body_markdown":"Its&#39; been a while since I&#39;ve worked with XSDs, so I&#39;m not quite sure what you&#39;re talking about. One thing to note though is that Jackson doesn&#39;t support all JAXB annotations. See [this](http://fasterxml.github.io/jackson-module-jaxb-annotations/javadoc/2.2.0/com/fasterxml/jackson/module/jaxb/JaxbAnnotationIntrospector.html)","body":"Its&#39; been a while since I&#39;ve worked with XSDs, so I&#39;m not quite sure what you&#39;re talking about. One thing to note though is that Jackson doesn&#39;t support all JAXB annotations. See <a href=\"http://fasterxml.github.io/jackson-module-jaxb-annotations/javadoc/2.2.0/com/fasterxml/jackson/module/jaxb/JaxbAnnotationIntrospector.html\" rel=\"nofollow noreferrer\">this</a>"}],"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"comment_count":3,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1494205093,"creation_date":1494205093,"answer_id":43838298,"question_id":43835881,"body_markdown":"JAXB annotations are not by default supported. You need to add the [`jackson-module-jaxb-annotations`][1] module and then register that with the `ObjectMapper`.\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.registerModule(new JaxbAnnotationModule());\r\n\r\n\r\n[1]: https://github.com/FasterXML/jackson-module-jaxb-annotations","title":"Jackson ignoring XmlElement name/case when marshalling JSON","body":"<p>JAXB annotations are not by default supported. You need to add the <a href=\"https://github.com/FasterXML/jackson-module-jaxb-annotations\" rel=\"noreferrer\"><code>jackson-module-jaxb-annotations</code></a> module and then register that with the <code>ObjectMapper</code>.</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.registerModule(new JaxbAnnotationModule());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6469560,"reputation":486,"user_id":5010153,"accept_rate":43,"display_name":"AnnetteC"},"score":0,"creation_date":1699451239,"post_id":56988560,"comment_id":136532755,"body_markdown":"It is not worth it to a include a spring dependency just for one purpose when other solutions are around...","body":"It is not worth it to a include a spring dependency just for one purpose when other solutions are around..."}],"tags":[],"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562845976,"creation_date":1562845976,"answer_id":56988560,"question_id":43835881,"body_markdown":"To use this functionality to read the `@JsonProperty` and the `XmlElement` in `spring-boot` and its `Jackson2ObjectMapperBuilder`, you easily create a Bean to get the Builder everytime you need.\r\n\r\n    @Bean\r\n\tpublic Jackson2ObjectMapperBuilder jacksonBuilder() {\r\n\t\tJackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\r\n        //configure features for serialization and deserialization\r\n\t\treturn builder;\r\n\t}\r\n\r\nYou can now autowire the builder and configure the ObjectMapper directly there where you need it:\r\n\r\n    @Component\r\n    public class MyClass {\r\n    \r\n    \tprivate ObjectMapper objectMapper;\r\n    \r\n    \tpublic MyClass(Jackson2ObjectMapperBuilder jacksonBuilder) {\r\n    \t\tsuper();\r\n    \t\tobjectMapper = jacksonBuilder.build().registerModule(new JaxbAnnotationModule());\r\n    \t}\r\n    \r\n        public String serialize(){\r\n            AnyObject ao = new AnyObject();\r\n            String json = objectMapper.writeValueAsString(ao);\r\n            return json;\r\n        }\r\n    }","title":"Jackson ignoring XmlElement name/case when marshalling JSON","body":"<p>To use this functionality to read the <code>@JsonProperty</code> and the <code>XmlElement</code> in <code>spring-boot</code> and its <code>Jackson2ObjectMapperBuilder</code>, you easily create a Bean to get the Builder everytime you need.</p>\n\n<pre><code>@Bean\npublic Jackson2ObjectMapperBuilder jacksonBuilder() {\n    Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\n    //configure features for serialization and deserialization\n    return builder;\n}\n</code></pre>\n\n<p>You can now autowire the builder and configure the ObjectMapper directly there where you need it:</p>\n\n<pre><code>@Component\npublic class MyClass {\n\n    private ObjectMapper objectMapper;\n\n    public MyClass(Jackson2ObjectMapperBuilder jacksonBuilder) {\n        super();\n        objectMapper = jacksonBuilder.build().registerModule(new JaxbAnnotationModule());\n    }\n\n    public String serialize(){\n        AnyObject ao = new AnyObject();\n        String json = objectMapper.writeValueAsString(ao);\n        return json;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7938311,"reputation":537,"user_id":6164682,"display_name":"sub"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695900923,"creation_date":1695900923,"answer_id":77194585,"question_id":43835881,"body_markdown":"If we migrating from Javax to Jakarta in Jaxbclasses, then below should help\r\n\r\n     XmlMapper xmlMapper = new XmlMapper();\r\n          xmlMapper.registerModule(new JakartaXmlBindAnnotationModule());","title":"Jackson ignoring XmlElement name/case when marshalling JSON","body":"<p>If we migrating from Javax to Jakarta in Jaxbclasses, then below should help</p>\n<pre><code> XmlMapper xmlMapper = new XmlMapper();\n      xmlMapper.registerModule(new JakartaXmlBindAnnotationModule());\n</code></pre>\n"}],"owner":{"account_id":973518,"reputation":5174,"user_id":995514,"accept_rate":54,"display_name":"Half_Duplex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9820,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":43838298,"answer_count":4,"score":7,"last_activity_date":1695900923,"creation_date":1494186207,"question_id":43835881,"body_markdown":"I am trying to go from XSD-&gt;POJO-&gt;JSON for use with UPS tracking API which is case sensitive. I&#39;m using Jackson 2.6.7 In the generated JSON. I am seeing camel case names when I should see below: \r\n\r\n`&quot;TrackRequest&quot;: {\r\n\t\t&quot;InquiryNumber&quot;: &quot;1Z12345E6205277936&quot;\r\n}`\r\n\r\nThe generated Java bean is annotated like so: \r\n\r\n    @XmlElement(name = &quot;TrackRequest&quot;)\r\n    protected TrackRequest trackRequest;\r\n\r\nI&#39;ve tried a few mapping feature settings such as USE_WRAPPER_NAME_AS_PROPERTY_NAME and USE_STD_BEAN_NAMING which don&#39;t appear to have the desired result. \r\n\r\nI&#39;m generating the JSON like so:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    String jsonRequest = mapper.writeValueAsString(upsRequest);\r\n\r\nThe upsRequest bean looks like this:\r\n\r\n\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;&quot;, propOrder = {\r\n        &quot;upsSecurity&quot;,\r\n        &quot;trackRequest&quot;\r\n    })\r\n    @XmlRootElement(name = &quot;Request&quot;)\r\n    public class Request {\r\n    \r\n        @XmlElement(name = &quot;UPSSecurity&quot;)\r\n        protected UPSSecurity upsSecurity;\r\n        @XmlElement(name = &quot;TrackRequest&quot;)\r\n        protected TrackRequest trackRequest;\r\n    \r\n        /**\r\n         * Gets the value of the upsSecurity property.\r\n         * \r\n         * @return\r\n         *     possible object is\r\n         *     {@link UPSSecurity }\r\n         *     \r\n         */\r\n        public UPSSecurity getUPSSecurity() {\r\n            return upsSecurity;\r\n        }\r\n    \r\n        /**\r\n         * Sets the value of the upsSecurity property.\r\n         * \r\n         * @param value\r\n         *     allowed object is\r\n         *     {@link UPSSecurity }\r\n         *     \r\n         */\r\n        public void setUPSSecurity(UPSSecurity value) {\r\n            this.upsSecurity = value;\r\n        }\r\n    \r\n        /**\r\n         * Gets the value of the trackRequest property.\r\n         * \r\n         * @return\r\n         *     possible object is\r\n         *     {@link TrackRequest }\r\n         *     \r\n         */\r\n        public TrackRequest getTrackRequest() {\r\n            return trackRequest;\r\n        }\r\n    \r\n        /**\r\n         * Sets the value of the trackRequest property.\r\n         * \r\n         * @param value\r\n         *     allowed object is\r\n         *     {@link TrackRequest }\r\n         *     \r\n         */\r\n        public void setTrackRequest(TrackRequest value) {\r\n            this.trackRequest = value;\r\n        }\r\n    \r\n    }\r\n\r\nAccording to the docs, I should be getting the desired output unless I&#39;m missing something ","title":"Jackson ignoring XmlElement name/case when marshalling JSON","body":"<p>I am trying to go from XSD->POJO->JSON for use with UPS tracking API which is case sensitive. I'm using Jackson 2.6.7 In the generated JSON. I am seeing camel case names when I should see below: </p>\n\n<p><code>\"TrackRequest\": {\n        \"InquiryNumber\": \"1Z12345E6205277936\"\n}</code></p>\n\n<p>The generated Java bean is annotated like so: </p>\n\n<pre><code>@XmlElement(name = \"TrackRequest\")\nprotected TrackRequest trackRequest;\n</code></pre>\n\n<p>I've tried a few mapping feature settings such as USE_WRAPPER_NAME_AS_PROPERTY_NAME and USE_STD_BEAN_NAMING which don't appear to have the desired result. </p>\n\n<p>I'm generating the JSON like so:</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nString jsonRequest = mapper.writeValueAsString(upsRequest);\n</code></pre>\n\n<p>The upsRequest bean looks like this:</p>\n\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"\", propOrder = {\n    \"upsSecurity\",\n    \"trackRequest\"\n})\n@XmlRootElement(name = \"Request\")\npublic class Request {\n\n    @XmlElement(name = \"UPSSecurity\")\n    protected UPSSecurity upsSecurity;\n    @XmlElement(name = \"TrackRequest\")\n    protected TrackRequest trackRequest;\n\n    /**\n     * Gets the value of the upsSecurity property.\n     * \n     * @return\n     *     possible object is\n     *     {@link UPSSecurity }\n     *     \n     */\n    public UPSSecurity getUPSSecurity() {\n        return upsSecurity;\n    }\n\n    /**\n     * Sets the value of the upsSecurity property.\n     * \n     * @param value\n     *     allowed object is\n     *     {@link UPSSecurity }\n     *     \n     */\n    public void setUPSSecurity(UPSSecurity value) {\n        this.upsSecurity = value;\n    }\n\n    /**\n     * Gets the value of the trackRequest property.\n     * \n     * @return\n     *     possible object is\n     *     {@link TrackRequest }\n     *     \n     */\n    public TrackRequest getTrackRequest() {\n        return trackRequest;\n    }\n\n    /**\n     * Sets the value of the trackRequest property.\n     * \n     * @param value\n     *     allowed object is\n     *     {@link TrackRequest }\n     *     \n     */\n    public void setTrackRequest(TrackRequest value) {\n        this.trackRequest = value;\n    }\n\n}\n</code></pre>\n\n<p>According to the docs, I should be getting the desired output unless I'm missing something </p>\n"},{"tags":["java","jsp","jquery-plugins","struts2","struts2-jquery"],"comments":[{"owner":{"account_id":274077,"reputation":13556,"user_id":566092,"accept_rate":72,"display_name":"coding_idiot"},"score":0,"creation_date":1383967106,"post_id":19853434,"comment_id":29559495,"body_markdown":"show your action code &amp; struts result configuration (xml/annotation)","body":"show your action code &amp; struts result configuration (xml/annotation)"}],"answers":[{"comments":[{"owner":{"account_id":3018937,"reputation":161,"user_id":2560417,"accept_rate":17,"display_name":"Uday"},"score":0,"creation_date":1383908742,"post_id":19855744,"comment_id":29533768,"body_markdown":"Okay but i am not able to get @Actions annotaion, don&#39;t know why.  The thing is i am using JSON-plugin 2.3.1 jar file with Sturts2-core 2.3.14 .","body":"Okay but i am not able to get @Actions annotaion, don&#39;t know why.  The thing is i am using JSON-plugin 2.3.1 jar file with Sturts2-core 2.3.14 ."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1383909187,"post_id":19855744,"comment_id":29534019,"body_markdown":"You should not use different versions of framework libraries.","body":"You should not use different versions of framework libraries."},{"owner":{"account_id":3018937,"reputation":161,"user_id":2560417,"accept_rate":17,"display_name":"Uday"},"score":0,"creation_date":1383909324,"post_id":19855744,"comment_id":29534097,"body_markdown":"Then Which version of plugin should i use with Struts2-core-2.3.14 jar??","body":"Then Which version of plugin should i use with Struts2-core-2.3.14 jar??"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1383910188,"post_id":19855744,"comment_id":29534565,"body_markdown":"struts2-json-plugin-2.3.14.jar","body":"struts2-json-plugin-2.3.14.jar"},{"owner":{"account_id":3018937,"reputation":161,"user_id":2560417,"accept_rate":17,"display_name":"Uday"},"score":0,"creation_date":1383910885,"post_id":19855744,"comment_id":29534928,"body_markdown":"Struts2-json-plugin-2.3.13 jar version also used but in @Action annotation there is only INPUT,OUTPUT and fault attributes are there.","body":"Struts2-json-plugin-2.3.13 jar version also used but in @Action annotation there is only INPUT,OUTPUT and fault attributes are there."},{"owner":{"account_id":3018937,"reputation":161,"user_id":2560417,"accept_rate":17,"display_name":"Uday"},"score":0,"creation_date":1383910931,"post_id":19855744,"comment_id":29534948,"body_markdown":"I have seen example  in this link https://code.google.com/p/struts2-jquery/wiki/SelectTag they are using Value and result attribut.","body":"I have seen example  in this link <a href=\"https://code.google.com/p/struts2-jquery/wiki/SelectTag\" rel=\"nofollow noreferrer\">code.google.com/p/struts2-jquery/wiki/SelectTag</a> they are using Value and result attribut."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1383912613,"post_id":19855744,"comment_id":29535755,"body_markdown":"Ok, if you want to use them then you should return JSON result.","body":"Ok, if you want to use them then you should return JSON result."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695900794,"creation_date":1383903498,"answer_id":19855744,"question_id":19853434,"body_markdown":"When you used [`&lt;sj:autocompleter&gt;`][1], and you say that it works fine, you have used `href` attribute. `&lt;sj:select&gt;`&#39;s `href` attribute also could be used to populate HTML `&lt;select&gt;` tag which is rendered by the `&lt;sj:select&gt;`. The set of attributes is slightly different for each tag, and a `href` attribute is also different than in HTML `&lt;select&gt;` tag. \r\n\r\nThe `href` attribute is available and used by both tags and you should supply JSON result returned by the action which populate the `&lt;sj:select&gt;` tag. But if you use `autocomplete=true` attribute then `&lt;sj:select&gt;` behave like `&lt;sj:autocompleter&gt;` and generate `input` tag  instead of `&lt;select&gt;` tag. You should define which HTML tag you need for the output. \r\n\r\nPlaying with attributes could cardinal change the rendered HTML. If you use `list` attribute with the `&lt;sj:select&gt;` tag and don&#39;t use `autocomplete` attribute then simple `&lt;select&gt;` with `options` will be rendered when the result is executed. It&#39;s the same like ordinal `&lt;s:select&gt;` is used. Thus you should provide the getter for the `list` attribute value like\r\n\r\n    public List&lt;Country&gt; getCountryList() {\r\n      return countryList;\r\n    } \r\n\r\nThe `Country` bean should contain `id` and `name` properties, so it also accessible to OGNL.\r\n\r\n  [1]: https://github.com/struts-community-plugins/struts2-jquery/wiki/AutocompleterTag","title":"Ajax jQuery plugin with Struts 2","body":"<p>When you used <a href=\"https://github.com/struts-community-plugins/struts2-jquery/wiki/AutocompleterTag\" rel=\"nofollow noreferrer\"><code>&lt;sj:autocompleter&gt;</code></a>, and you say that it works fine, you have used <code>href</code> attribute. <code>&lt;sj:select&gt;</code>'s <code>href</code> attribute also could be used to populate HTML <code>&lt;select&gt;</code> tag which is rendered by the <code>&lt;sj:select&gt;</code>. The set of attributes is slightly different for each tag, and a <code>href</code> attribute is also different than in HTML <code>&lt;select&gt;</code> tag.</p>\n<p>The <code>href</code> attribute is available and used by both tags and you should supply JSON result returned by the action which populate the <code>&lt;sj:select&gt;</code> tag. But if you use <code>autocomplete=true</code> attribute then <code>&lt;sj:select&gt;</code> behave like <code>&lt;sj:autocompleter&gt;</code> and generate <code>input</code> tag  instead of <code>&lt;select&gt;</code> tag. You should define which HTML tag you need for the output.</p>\n<p>Playing with attributes could cardinal change the rendered HTML. If you use <code>list</code> attribute with the <code>&lt;sj:select&gt;</code> tag and don't use <code>autocomplete</code> attribute then simple <code>&lt;select&gt;</code> with <code>options</code> will be rendered when the result is executed. It's the same like ordinal <code>&lt;s:select&gt;</code> is used. Thus you should provide the getter for the <code>list</code> attribute value like</p>\n<pre><code>public List&lt;Country&gt; getCountryList() {\n  return countryList;\n} \n</code></pre>\n<p>The <code>Country</code> bean should contain <code>id</code> and <code>name</code> properties, so it also accessible to OGNL.</p>\n"}],"owner":{"account_id":3018937,"reputation":161,"user_id":2560417,"accept_rate":17,"display_name":"Uday"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695900794,"creation_date":1383894691,"question_id":19853434,"body_markdown":"I am using Ajax jQuery plugin jars with Struts 2. I have used Ajax select tag populate the list but list is not populating. if I used `&lt;sj:autocompleter&gt;` tag it works fine. \r\n\r\n**This is my code:**\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;sj:select name=&quot;countryId&quot; list=&quot;countryList&quot; listKey=&quot;id&quot; listValue=&quot;name&quot; \r\n \t\t\t\t\theaderKey=&quot;&quot; headerValue=&quot;--Select Country--&quot; \r\n \t\t\t\t\tonchange=&quot;document.forms[0].action=&#39;city_countryChange&#39;; document.forms[0].submit(); return true;&quot; \r\n \t\t\t\t\trequired=&quot;required&quot;&gt;&lt;/sj:select&gt;\r\n\r\n\r\nwhat&#39;s wrong with `&lt;sj:select&gt;` tag? ","title":"Ajax jQuery plugin with Struts 2","body":"<p>I am using Ajax jQuery plugin jars with Struts 2. I have used Ajax select tag populate the list but list is not populating. if I used <code>&lt;sj:autocompleter&gt;</code> tag it works fine.</p>\n<p><strong>This is my code:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;sj:select name=&quot;countryId&quot; list=&quot;countryList&quot; listKey=&quot;id&quot; listValue=&quot;name&quot; \n                headerKey=&quot;&quot; headerValue=&quot;--Select Country--&quot; \n                onchange=&quot;document.forms[0].action='city_countryChange'; document.forms[0].submit(); return true;&quot; \n                required=&quot;required&quot;&gt;&lt;/sj:select&gt;\n</code></pre>\n<p>what's wrong with <code>&lt;sj:select&gt;</code> tag?</p>\n"},{"tags":["java","certificate","exchangewebservices","ewsjavaapi"],"comments":[{"owner":{"account_id":165546,"reputation":18964,"user_id":389099,"accept_rate":88,"display_name":"guido"},"score":1,"creation_date":1357734347,"post_id":14235133,"comment_id":19749080,"body_markdown":"The server certificate has expired on December 28 2012, so verification fails.","body":"The server certificate has expired on December 28 2012, so verification fails."},{"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"score":0,"creation_date":1357734749,"post_id":14235133,"comment_id":19749319,"body_markdown":"@guido, can i edit the certificate or ignore this verification, since i am using the server for testing","body":"@guido, can i edit the certificate or ignore this verification, since i am using the server for testing"},{"owner":{"account_id":165546,"reputation":18964,"user_id":389099,"accept_rate":88,"display_name":"guido"},"score":0,"creation_date":1357736263,"post_id":14235133,"comment_id":19750108,"body_markdown":"If you generated the certificate yourself, you can just generate another one and install on the server. Or, you can try to bypass verification. I did that for hostname verification a couple of times, or for non-trusted certificates, i dont know if a NotValidAfter can be bypassed. This helped me, see if it can help you as well: http://www.mkyong.com/webservices/jax-ws/how-to-bypass-certificate-checking-in-a-java-web-service-client/","body":"If you generated the certificate yourself, you can just generate another one and install on the server. Or, you can try to bypass verification. I did that for hostname verification a couple of times, or for non-trusted certificates, i dont know if a NotValidAfter can be bypassed. This helped me, see if it can help you as well: <a href=\"http://www.mkyong.com/webservices/jax-ws/how-to-bypass-certificate-checking-in-a-java-web-service-client/\" rel=\"nofollow noreferrer\">mkyong.com/webservices/jax-ws/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1220006,"reputation":1472,"user_id":1186817,"accept_rate":79,"display_name":"Ravi Jain"},"score":20,"creation_date":1489322829,"post_id":14236662,"comment_id":72611840,"body_markdown":"Can you please provide info/link on removal of expired certificate and creation of new one. I am facing similar issue.","body":"Can you please provide info/link on removal of expired certificate and creation of new one. I am facing similar issue."}],"tags":[],"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"comment_count":1,"down_vote_count":2,"up_vote_count":6,"is_accepted":true,"score":4,"last_activity_date":1357739300,"creation_date":1357739300,"answer_id":14236662,"question_id":14235133,"body_markdown":"The Exchange server certificate was expired so i removed it and created a new one.","title":"java.security.cert.CertificateExpiredException: NotAfter","body":"<p>The Exchange server certificate was expired so i removed it and created a new one.</p>\n"},{"tags":[],"owner":{"account_id":16830690,"reputation":145,"user_id":12168742,"display_name":"Matus Babinsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695900687,"creation_date":1695900687,"answer_id":77194552,"question_id":14235133,"body_markdown":"Easiest solution is to reinstall java that worked for me.\r\n\r\nI recomend https://sdkman.io/ app to install java or maven.","title":"java.security.cert.CertificateExpiredException: NotAfter","body":"<p>Easiest solution is to reinstall java that worked for me.</p>\n<p>I recomend <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">https://sdkman.io/</a> app to install java or maven.</p>\n"}],"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44469,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":14236662,"answer_count":2,"score":9,"last_activity_date":1695900687,"creation_date":1357734210,"question_id":14235133,"body_markdown":"I am using EWSJavaAPI 1.1.5 to connect to Exchange Server 2010.\r\n\r\nEverything was working fine until today while trying to connect to the server, I am getting the following exception:\r\n\r\n    microsoft.exchange.webservices.data.ServiceRequestException: The request failed. java.security.cert.CertificateExpiredException: NotAfter: Fri Dec 28 01:26:27 GMT+02:00 2012\r\n    \tat microsoft.exchange.webservices.data.ServiceRequestBase.validateAndEmitRequest(Unknown Source)\r\n    \tat microsoft.exchange.webservices.data.SimpleServiceRequestBase.internalExecute(Unknown Source)\r\n    \tat microsoft.exchange.webservices.data.MultiResponseServiceRequest.execute(Unknown Source)\r\n    \tat microsoft.exchange.webservices.data.ExchangeService.bindToFolder(Unknown Source)\r\n    \tat microsoft.exchange.webservices.data.ExchangeService.bindToFolder(Unknown Source)\r\n    \tat microsoft.exchange.webservices.data.Folder.bind(Unknown Source)\r\n    \tat microsoft.exchange.webservices.data.Folder.bind(Unknown Source)\r\n    \tat com.xeno.phonesuite.web.Mail.Mail.authenticate(Mail.java:100)\r\n    \tat org.apache.jsp.mailandcalendar.dologin_jsp._jspService(dologin_jsp.java:121)\r\n    \tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\r\n    \tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:432)\r\n    \tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)\r\n    \tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1002)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:585)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n    \tat java.lang.Thread.run(Thread.java:662)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateExpiredException: NotAfter: Fri Dec 28 01:26:27 GMT+02:00 2012\r\n    \tat com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174)\r\n    \tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1649)\r\n    \tat com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:241)\r\n    \tat com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:235)\r\n    \tat com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1206)\r\n    \tat com.sun.net.ssl.internal.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:136)\r\n    \tat com.sun.net.ssl.internal.ssl.Handshaker.processLoop(Handshaker.java:593)\r\n    \tat com.sun.net.ssl.internal.ssl.Handshaker.process_record(Handshaker.java:529)\r\n    \tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:893)\r\n    \tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1138)\r\n    \tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.writeRecord(SSLSocketImpl.java:632)\r\n    \tat com.sun.net.ssl.internal.ssl.AppOutputStream.write(AppOutputStream.java:59)\r\n    \tat java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:65)\r\n    \tat java.io.BufferedOutputStream.flush(BufferedOutputStream.java:123)\r\n    \tat org.apache.commons.httpclient.methods.EntityEnclosingMethod.writeRequestBody(EntityEnclosingMethod.java:506)\r\n    \tat org.apache.commons.httpclient.HttpMethodBase.writeRequest(HttpMethodBase.java:2114)\r\n    \tat org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java:1096)\r\n    \tat org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:398)\r\n    \tat org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)\r\n    \tat org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)\r\n    \tat org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)\r\n    \tat microsoft.exchange.webservices.data.HttpClientWebRequest.executeRequest(Unknown Source)\r\n    \tat microsoft.exchange.webservices.data.ServiceRequestBase.emit(Unknown Source)\r\n    \t... 31 more\r\n    Caused by: java.security.cert.CertificateExpiredException: NotAfter: Fri Dec 28 01:26:27 GMT+02:00 2012\r\n    \tat sun.security.x509.CertificateValidity.valid(CertificateValidity.java:256)\r\n    \tat sun.security.x509.X509CertImpl.checkValidity(X509CertImpl.java:570)\r\n    \tat sun.security.x509.X509CertImpl.checkValidity(X509CertImpl.java:543)\r\n    \tat microsoft.exchange.webservices.data.EwsX509TrustManager.checkServerTrusted(Unknown Source)\r\n    \tat com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1198)\r\n    \t... 49 more\r\n\r\nPlease advise why I am getting this exception and how to solve it, thanks.","title":"java.security.cert.CertificateExpiredException: NotAfter","body":"<p>I am using EWSJavaAPI 1.1.5 to connect to Exchange Server 2010.</p>\n\n<p>Everything was working fine until today while trying to connect to the server, I am getting the following exception:</p>\n\n<pre><code>microsoft.exchange.webservices.data.ServiceRequestException: The request failed. java.security.cert.CertificateExpiredException: NotAfter: Fri Dec 28 01:26:27 GMT+02:00 2012\n    at microsoft.exchange.webservices.data.ServiceRequestBase.validateAndEmitRequest(Unknown Source)\n    at microsoft.exchange.webservices.data.SimpleServiceRequestBase.internalExecute(Unknown Source)\n    at microsoft.exchange.webservices.data.MultiResponseServiceRequest.execute(Unknown Source)\n    at microsoft.exchange.webservices.data.ExchangeService.bindToFolder(Unknown Source)\n    at microsoft.exchange.webservices.data.ExchangeService.bindToFolder(Unknown Source)\n    at microsoft.exchange.webservices.data.Folder.bind(Unknown Source)\n    at microsoft.exchange.webservices.data.Folder.bind(Unknown Source)\n    at com.xeno.phonesuite.web.Mail.Mail.authenticate(Mail.java:100)\n    at org.apache.jsp.mailandcalendar.dologin_jsp._jspService(dologin_jsp.java:121)\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:432)\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1002)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:585)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:662)\nCaused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateExpiredException: NotAfter: Fri Dec 28 01:26:27 GMT+02:00 2012\n    at com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1649)\n    at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:241)\n    at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:235)\n    at com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1206)\n    at com.sun.net.ssl.internal.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:136)\n    at com.sun.net.ssl.internal.ssl.Handshaker.processLoop(Handshaker.java:593)\n    at com.sun.net.ssl.internal.ssl.Handshaker.process_record(Handshaker.java:529)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:893)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1138)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.writeRecord(SSLSocketImpl.java:632)\n    at com.sun.net.ssl.internal.ssl.AppOutputStream.write(AppOutputStream.java:59)\n    at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:65)\n    at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:123)\n    at org.apache.commons.httpclient.methods.EntityEnclosingMethod.writeRequestBody(EntityEnclosingMethod.java:506)\n    at org.apache.commons.httpclient.HttpMethodBase.writeRequest(HttpMethodBase.java:2114)\n    at org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java:1096)\n    at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:398)\n    at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)\n    at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)\n    at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:323)\n    at microsoft.exchange.webservices.data.HttpClientWebRequest.executeRequest(Unknown Source)\n    at microsoft.exchange.webservices.data.ServiceRequestBase.emit(Unknown Source)\n    ... 31 more\nCaused by: java.security.cert.CertificateExpiredException: NotAfter: Fri Dec 28 01:26:27 GMT+02:00 2012\n    at sun.security.x509.CertificateValidity.valid(CertificateValidity.java:256)\n    at sun.security.x509.X509CertImpl.checkValidity(X509CertImpl.java:570)\n    at sun.security.x509.X509CertImpl.checkValidity(X509CertImpl.java:543)\n    at microsoft.exchange.webservices.data.EwsX509TrustManager.checkServerTrusted(Unknown Source)\n    at com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1198)\n    ... 49 more\n</code></pre>\n\n<p>Please advise why I am getting this exception and how to solve it, thanks.</p>\n"},{"tags":["java","spring-boot","configuration","yaml"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1695893200,"post_id":77193735,"comment_id":136085654,"body_markdown":"Did you try specifying a relative path? What happens if you do?","body":"Did you try specifying a relative path? What happens if you do?"},{"owner":{"account_id":24186806,"reputation":192,"user_id":18146547,"display_name":"Игорь Мешалкин"},"score":0,"creation_date":1695893451,"post_id":77193735,"comment_id":136085697,"body_markdown":"I tryed &#39;classpath:&#39; and &#39;..&#39; and &#39;.&#39; but app don&#39;t started because outer yaml is not found.","body":"I tryed &#39;classpath:&#39; and &#39;..&#39; and &#39;.&#39; but app don&#39;t started because outer yaml is not found."}],"answers":[{"comments":[{"owner":{"account_id":24186806,"reputation":192,"user_id":18146547,"display_name":"Игорь Мешалкин"},"score":0,"creation_date":1695909768,"post_id":77194005,"comment_id":136089096,"body_markdown":"Unfortunately thats wrong. Application can&#39;t start if it haven&#39;t yalm file in resourses. Of course I looked all ways from docs before writing here, but there are not answer my quetion in docs.","body":"Unfortunately thats wrong. Application can&#39;t start if it haven&#39;t yalm file in resourses. Of course I looked all ways from docs before writing here, but there are not answer my quetion in docs."},{"owner":{"account_id":17377678,"reputation":20,"user_id":16888582,"display_name":"Yustas"},"score":0,"creation_date":1695912371,"post_id":77194005,"comment_id":136089698,"body_markdown":"Is your Spring application packed in a jar file working now?  If yes, just delete the configuration file from the jar file, put * .yaml to the same folder where the jar file is located, and run the jar. Everything will work.","body":"Is your Spring application packed in a jar file working now?  If yes, just delete the configuration file from the jar file, put * .yaml to the same folder where the jar file is located, and run the jar. Everything will work."},{"owner":{"account_id":24186806,"reputation":192,"user_id":18146547,"display_name":"Игорь Мешалкин"},"score":0,"creation_date":1695912781,"post_id":77194005,"comment_id":136089796,"body_markdown":"I can&#39;t to remove config file when jar is ready, &amp; I can&#39;t make jar without config file.","body":"I can&#39;t to remove config file when jar is ready, &amp; I can&#39;t make jar without config file."},{"owner":{"account_id":17377678,"reputation":20,"user_id":16888582,"display_name":"Yustas"},"score":0,"creation_date":1695913685,"post_id":77194005,"comment_id":136090014,"body_markdown":"I didn&#39;t understand...   what is the problem with deleting any file from jar? A jar file is an ordinary archive.\nИгорь, можешь написать / позвонить мне на https://t.me/YustasGo","body":"I didn&#39;t understand...   what is the problem with deleting any file from jar? A jar file is an ordinary archive. Игорь, можешь написать / позвонить мне на <a href=\"https://t.me/YustasGo\" rel=\"nofollow noreferrer\">t.me/YustasGo</a>"},{"owner":{"account_id":24186806,"reputation":192,"user_id":18146547,"display_name":"Игорь Мешалкин"},"score":2,"creation_date":1695957500,"post_id":77194005,"comment_id":136095589,"body_markdown":"Oh, you are was right. But I was starting my app from another directory. If I starting app from directory where app is located, your way works very well.","body":"Oh, you are was right. But I was starting my app from another directory. If I starting app from directory where app is located, your way works very well."}],"tags":[],"owner":{"account_id":17377678,"reputation":20,"user_id":16888582,"display_name":"Yustas"},"comment_count":5,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1695900678,"creation_date":1695895502,"answer_id":77194005,"question_id":77193735,"body_markdown":"There are many ways to set the location of the yaml file, look in the documentation ==&gt; [here][1]   \r\n\r\nBut in the usual case, you don&#39;t need to specify the location/path to the yaml file at all. It is enough that it is nearby (in the same folder as the jar file), Spring will find it itself\r\n\r\nAnd delete the internal yaml file from the jar file, since you don&#39;t need it - Spring will use the external one\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config","title":"Java yaml path to current directory","body":"<p>There are many ways to set the location of the yaml file, look in the documentation ==&gt; <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">here</a></p>\n<p>But in the usual case, you don't need to specify the location/path to the yaml file at all. It is enough that it is nearby (in the same folder as the jar file), Spring will find it itself</p>\n<p>And delete the internal yaml file from the jar file, since you don't need it - Spring will use the external one</p>\n"}],"owner":{"account_id":24186806,"reputation":192,"user_id":18146547,"display_name":"Игорь Мешалкин"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77194005,"answer_count":1,"score":1,"last_activity_date":1695900678,"creation_date":1695893022,"question_id":77193735,"body_markdown":"I&#39;d like to start my Spring boot app with outer config files. I want to put new config file to directory where my jar file before start jar file.\r\nI created an outer yaml:\r\n\r\n    myapp:\r\n      src:\r\n        ip: 111.22.333.444\r\n\r\nand an inner yaml:\r\n\r\n    Spring:\r\n      config:\r\n         import: C:/Users/Igor/Desktop/application.yaml\r\n\r\nIf I khow my outer yaml path that works very well, but really I don&#39;t know path. I want to use path where my jar file started. What can I do for it?","title":"Java yaml path to current directory","body":"<p>I'd like to start my Spring boot app with outer config files. I want to put new config file to directory where my jar file before start jar file.\nI created an outer yaml:</p>\n<pre><code>myapp:\n  src:\n    ip: 111.22.333.444\n</code></pre>\n<p>and an inner yaml:</p>\n<pre><code>Spring:\n  config:\n     import: C:/Users/Igor/Desktop/application.yaml\n</code></pre>\n<p>If I khow my outer yaml path that works very well, but really I don't know path. I want to use path where my jar file started. What can I do for it?</p>\n"},{"tags":["java","ejb"],"owner":{"account_id":6253882,"reputation":73,"user_id":9325913,"display_name":"Eiten"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695900190,"creation_date":1695900190,"question_id":77194491,"body_markdown":"I made some task, and try to rui it each 20 minutes.\r\n\r\n\r\n    @Singleton\r\n    @ManagedBean\r\n    @ApplicationScoped\r\n    public class ScheduleControler {   \r\n        \r\n        @Schedule(hour = &quot;*&quot;, minute = &quot;*/20&quot;, persistent = false)\r\n        \r\n        public void dailyJob() throws IOException, MessagingException {\r\n         \r\n    \r\n        }\r\n    }\r\n\r\nGenerally schedule i working correct each 20 minutes. But after it after first run get error:\r\n\r\nEJB5123:Rolling back timed out transaction [JavaEETransactionImpl: txId=8 nonXAResource=null jtsTx=null localTxStatus=1 syncs=[com.sun.ejb.containers.SimpleEjbResourceHandlerImpl@7a9c33ad, com.sun.ejb.containers.ContainerSynchronization@3e4ede6e]] for [ScheduleControler]\r\n\r\n\r\nGlassFish is set up for 0: `Configurations -&gt; server-config -&gt; Transaction Service -&gt; 0`\r\n\r\nQuestion is why is: why does it rollback, there are no errors in the code.\r\n\r\n- Change GlassFish setting.\r\n- Turn off Commit after each read in Hibernate.\r\n","title":"What is the reason of EJB5123 error, rollback?","body":"<p>I made some task, and try to rui it each 20 minutes.</p>\n<pre><code>@Singleton\n@ManagedBean\n@ApplicationScoped\npublic class ScheduleControler {   \n    \n    @Schedule(hour = &quot;*&quot;, minute = &quot;*/20&quot;, persistent = false)\n    \n    public void dailyJob() throws IOException, MessagingException {\n     \n\n    }\n}\n</code></pre>\n<p>Generally schedule i working correct each 20 minutes. But after it after first run get error:</p>\n<p>EJB5123:Rolling back timed out transaction [JavaEETransactionImpl: txId=8 nonXAResource=null jtsTx=null localTxStatus=1 syncs=[com.sun.ejb.containers.SimpleEjbResourceHandlerImpl@7a9c33ad, com.sun.ejb.containers.ContainerSynchronization@3e4ede6e]] for [ScheduleControler]</p>\n<p>GlassFish is set up for 0: <code>Configurations -&gt; server-config -&gt; Transaction Service -&gt; 0</code></p>\n<p>Question is why is: why does it rollback, there are no errors in the code.</p>\n<ul>\n<li>Change GlassFish setting.</li>\n<li>Turn off Commit after each read in Hibernate.</li>\n</ul>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":4,"creation_date":1695894348,"post_id":77193859,"comment_id":136085859,"body_markdown":"IMHO, each of these scenarios should be a separate test case -- this would give you a &quot;clean&quot; state for the mock for each of the tests.","body":"IMHO, each of these scenarios should be a separate test case -- this would give you a &quot;clean&quot; state for the mock for each of the tests."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1695894727,"post_id":77193859,"comment_id":136085939,"body_markdown":"Exactly what @lealceldeiro said, those are different test cases, split them in different tests. Problem solved and as a bonus you get cleaner unit tests.","body":"Exactly what @lealceldeiro said, those are different test cases, split them in different tests. Problem solved and as a bonus you get cleaner unit tests."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1695895640,"post_id":77193859,"comment_id":136086133,"body_markdown":"You can stub consecutive calls: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#stubbing_consecutive_calls, but my vote also goes for splitting your code into separate test methods.","body":"You can stub consecutive calls: <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#stubbing_consecutive_calls\" rel=\"nofollow noreferrer\">javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/&hellip;</a>&zwnj;&#8203;, but my vote also goes for splitting your code into separate test methods."},{"owner":{"account_id":28909653,"reputation":3,"user_id":22142946,"display_name":"Buecherregale"},"score":0,"creation_date":1695895647,"post_id":77193859,"comment_id":136086135,"body_markdown":"Yeah for these test cases multiple methods are way better. But in reality the test also require a static mock, filling a bean and more. And having this in 10 seperate methods seems a bit too much.\nThere is also still the question why, because this is almost copy pasted from another test that does the same thing. But there it works like this.","body":"Yeah for these test cases multiple methods are way better. But in reality the test also require a static mock, filling a bean and more. And having this in 10 seperate methods seems a bit too much. There is also still the question why, because this is almost copy pasted from another test that does the same thing. But there it works like this."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1695896592,"post_id":77193859,"comment_id":136086274,"body_markdown":"Since it is `almost copy pasted`, you can&#39;t really expect the same behaviour. And you should do the setup in `@BeforeEach`, if it&#39;s the same (you are doing it once in the beginning of the test, so it should be the same).","body":"Since it is <code>almost copy pasted</code>, you can&#39;t really expect the same behaviour. And you should do the setup in <code>@BeforeEach</code>, if it&#39;s the same (you are doing it once in the beginning of the test, so it should be the same)."},{"owner":{"account_id":28909653,"reputation":3,"user_id":22142946,"display_name":"Buecherregale"},"score":0,"creation_date":1695898041,"post_id":77193859,"comment_id":136086541,"body_markdown":"I can&#39;t expect the same behaviour for everything i&#39;m doing. But since it&#39;s the same setup just with different arguments in the api call i still expected this to work because it doesn&#39;t occur to me why it shouldn&#39;t. \nI only setup things in `@BeforeEach` if they are needed in every test in that class. Is it better to stuff everything in there?","body":"I can&#39;t expect the same behaviour for everything i&#39;m doing. But since it&#39;s the same setup just with different arguments in the api call i still expected this to work because it doesn&#39;t occur to me why it shouldn&#39;t.  I only setup things in <code>@BeforeEach</code> if they are needed in every test in that class. Is it better to stuff everything in there?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1695899150,"post_id":77193859,"comment_id":136086772,"body_markdown":"Everything? Of course no, only the common setup. But since you are doing this setup once in the beginning of the big test case, it appears that it is a common setup for everything. If it&#39;s specific for one (or a few) test cases only, you can always extract it in a method and call it where necessary.","body":"Everything? Of course no, only the common setup. But since you are doing this setup once in the beginning of the big test case, it appears that it is a common setup for everything. If it&#39;s specific for one (or a few) test cases only, you can always extract it in a method and call it where necessary."}],"answers":[{"comments":[{"owner":{"account_id":28909653,"reputation":3,"user_id":22142946,"display_name":"Buecherregale"},"score":0,"creation_date":1695900739,"post_id":77194476,"comment_id":136087098,"body_markdown":"Thank you. This answers it. Just want to write all my findings here:\nthe `any()` workaround does work for just one test case because `any()` returns null which isn&#39;t matched by `any(Class&lt;?&gt; type)` but does not work for consecutive calls as &#39;any()&#39; matches null.\nIn the other test i mentioned it worked because i was using a custom class so `any(MyClass.class)` always called with the not matched null, but in case of primitives and their wrappers like Integer, `any(Class&lt;?&gt; type)` will return a default value != null.","body":"Thank you. This answers it. Just want to write all my findings here: the <code>any()</code> workaround does work for just one test case because <code>any()</code> returns null which isn&#39;t matched by <code>any(Class&lt;?&gt; type)</code> but does not work for consecutive calls as &#39;any()&#39; matches null. In the other test i mentioned it worked because i was using a custom class so <code>any(MyClass.class)</code> always called with the not matched null, but in case of primitives and their wrappers like Integer, <code>any(Class&lt;?&gt; type)</code> will return a default value != null."},{"owner":{"account_id":28909653,"reputation":3,"user_id":22142946,"display_name":"Buecherregale"},"score":0,"creation_date":1695902436,"post_id":77194476,"comment_id":136087444,"body_markdown":"Mockitos Java Doc indiciates that `any(Class&lt;?&gt; type)` always returns null though.","body":"Mockitos Java Doc indiciates that <code>any(Class&lt;?&gt; type)</code> always returns null though."}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695900040,"creation_date":1695900040,"answer_id":77194476,"question_id":77193859,"body_markdown":"Note that it is always preferable to have distinct test cases for distinct tests - and testing the different reactions to different API results are different test cases.\r\n\r\nThe problem is that when you write\r\n\r\n    when(api.doApiCall(any(Long.class), any(Integer.class)))\r\n\r\nyou are actually calling `api.doApiCall()` on the `api` mock and this exercises the previously registered behaviour.\r\n\r\n* On the first call there is no previously registered behaviour and `api.doApiCall(any(Long.class), any(Integer.class))` returns null and later mockito registers a return value of &quot;200&quot; for succeeding calls.\r\n* On the second call there is a previosuly registered behaviour and \r\n`api.doApiCall(any(Long.class), any(Integer.class))` returns &quot;200&quot; and later mockito registers to throw an exception for succeeding calls.\r\n* On the third call there is another previously registered behaviour and `api.doApiCall(any(Long.class), any(Integer.class))` throws `new RuntimeException(&quot;400&quot;)`\r\n\r\nYou can avoid this problem if you write\r\n\r\n    doThrow(new RuntimeException(&quot;401&quot;))\r\n        .when(api).doApiCall(any(Long.class), any(Integer.class));\r\n\r\nBut this has still the potential to create unwanted coupling between your distinct tests.","title":"Mockito.when() throws Exception when called for the second time","body":"<p>Note that it is always preferable to have distinct test cases for distinct tests - and testing the different reactions to different API results are different test cases.</p>\n<p>The problem is that when you write</p>\n<pre><code>when(api.doApiCall(any(Long.class), any(Integer.class)))\n</code></pre>\n<p>you are actually calling <code>api.doApiCall()</code> on the <code>api</code> mock and this exercises the previously registered behaviour.</p>\n<ul>\n<li>On the first call there is no previously registered behaviour and <code>api.doApiCall(any(Long.class), any(Integer.class))</code> returns null and later mockito registers a return value of &quot;200&quot; for succeeding calls.</li>\n<li>On the second call there is a previosuly registered behaviour and\n<code>api.doApiCall(any(Long.class), any(Integer.class))</code> returns &quot;200&quot; and later mockito registers to throw an exception for succeeding calls.</li>\n<li>On the third call there is another previously registered behaviour and <code>api.doApiCall(any(Long.class), any(Integer.class))</code> throws <code>new RuntimeException(&quot;400&quot;)</code></li>\n</ul>\n<p>You can avoid this problem if you write</p>\n<pre><code>doThrow(new RuntimeException(&quot;401&quot;))\n    .when(api).doApiCall(any(Long.class), any(Integer.class));\n</code></pre>\n<p>But this has still the potential to create unwanted coupling between your distinct tests.</p>\n"}],"owner":{"account_id":28909653,"reputation":3,"user_id":22142946,"display_name":"Buecherregale"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77194476,"answer_count":1,"score":0,"last_activity_date":1695900040,"creation_date":1695894111,"question_id":77193859,"body_markdown":"I have an Api class that can make an api call. It just takes a Long and an Integer as Arguments. I call this api in a controller class, which handles the potential errors when calling the api. Essentially it&#39;s just this:\r\n\r\n```\r\npublic String save() {\r\n\ttry {\r\n\t\tString rc = api.doApiCall(l, i);\r\n\t\tif(rc.equals(&quot;200&quot;))\r\n\t\t\treturn &quot;nextpage.html&quot;;\r\n\t} catch (RuntimeException ignored) {\r\n\r\n\t}\r\n\treturn &quot;error.html&quot;;\r\n}\r\n```\r\nI want to test this controller. I&#39;m mocking the api like this:\r\n\r\n```\r\n@BeforeEach\r\nvoid setUp() {\r\n\tcontroller = new Controller();\r\n\tapi = mock(Api.class);\r\n\tcontroller.api = api;\r\n}\r\n\t\r\n@Test\r\nvoid testApiCall() {\r\n\twhen(api.doApiCall(any(Long.class), any(Integer.class)))\r\n\t\t.thenReturn(&quot;200&quot;);\r\n\t\r\n\tassertEquals(&quot;nextpage.html&quot;, controller.save());\r\n\t\t\r\n\twhen(api.doApiCall(any(Long.class), any(Integer.class)))\r\n\t\t.thenThrow(new RuntimeException(&quot;400&quot;));\r\n\t\t\r\n\tassertEquals(&quot;error.html&quot;, controller.save());\r\n\t\t\r\n\twhen(api.doApiCall(any(Long.class), any(Integer.class)))\r\n\t\t.thenThrow(new RuntimeException(&quot;401&quot;));\r\n\tassertEquals(&quot;error.html&quot;, controller.save());\r\n}\r\n```\r\nHowever executing this test fails at the third when() call because the exception specified in the second when() call is thrown. How can i fix this and why does it happen?\r\n\r\n\r\nI already experimented a bit and found out that, if you replace the `any(Integer.class)` in the third when() call with just `any()` the test works as expected but now adding a third test case like \r\n\r\n```\r\nwhen(api.doApiCall(any(Long.class), any()))\r\n\t.thenThrow(new RuntimeException(&quot;402&quot;));\r\nassertEquals(&quot;error.html&quot;, controller.save());\r\n```\r\nfails with the exact same problem as above.","title":"Mockito.when() throws Exception when called for the second time","body":"<p>I have an Api class that can make an api call. It just takes a Long and an Integer as Arguments. I call this api in a controller class, which handles the potential errors when calling the api. Essentially it's just this:</p>\n<pre><code>public String save() {\n    try {\n        String rc = api.doApiCall(l, i);\n        if(rc.equals(&quot;200&quot;))\n            return &quot;nextpage.html&quot;;\n    } catch (RuntimeException ignored) {\n\n    }\n    return &quot;error.html&quot;;\n}\n</code></pre>\n<p>I want to test this controller. I'm mocking the api like this:</p>\n<pre><code>@BeforeEach\nvoid setUp() {\n    controller = new Controller();\n    api = mock(Api.class);\n    controller.api = api;\n}\n    \n@Test\nvoid testApiCall() {\n    when(api.doApiCall(any(Long.class), any(Integer.class)))\n        .thenReturn(&quot;200&quot;);\n    \n    assertEquals(&quot;nextpage.html&quot;, controller.save());\n        \n    when(api.doApiCall(any(Long.class), any(Integer.class)))\n        .thenThrow(new RuntimeException(&quot;400&quot;));\n        \n    assertEquals(&quot;error.html&quot;, controller.save());\n        \n    when(api.doApiCall(any(Long.class), any(Integer.class)))\n        .thenThrow(new RuntimeException(&quot;401&quot;));\n    assertEquals(&quot;error.html&quot;, controller.save());\n}\n</code></pre>\n<p>However executing this test fails at the third when() call because the exception specified in the second when() call is thrown. How can i fix this and why does it happen?</p>\n<p>I already experimented a bit and found out that, if you replace the <code>any(Integer.class)</code> in the third when() call with just <code>any()</code> the test works as expected but now adding a third test case like</p>\n<pre><code>when(api.doApiCall(any(Long.class), any()))\n    .thenThrow(new RuntimeException(&quot;402&quot;));\nassertEquals(&quot;error.html&quot;, controller.save());\n</code></pre>\n<p>fails with the exact same problem as above.</p>\n"},{"tags":["java","ajax","jsp","struts2","struts2-jquery"],"comments":[{"owner":{"account_id":1890219,"reputation":2182,"user_id":1708520,"accept_rate":83,"display_name":"C R"},"score":0,"creation_date":1437246276,"post_id":31494368,"comment_id":50952530,"body_markdown":"What is the error that you are seeing?","body":"What is the error that you are seeing?"},{"owner":{"account_id":6526152,"reputation":7,"user_id":5048850,"display_name":"SKY"},"score":0,"creation_date":1437247310,"post_id":31494368,"comment_id":50952824,"body_markdown":"i am not seeing any error.Its just that when i am typing something in the text box it is not giving me the drop-down kinda options(like the one you see when you type something in google)","body":"i am not seeing any error.Its just that when i am typing something in the text box it is not giving me the drop-down kinda options(like the one you see when you type something in google)"},{"owner":{"account_id":5995725,"reputation":4137,"user_id":4710425,"accept_rate":59,"display_name":"SatyaTNV"},"score":0,"creation_date":1437282578,"post_id":31494368,"comment_id":50959903,"body_markdown":"where is your `struts` configuration file. Is the data available in DB. Did you add `struts jquery` jar to your lib.","body":"where is your <code>struts</code> configuration file. Is the data available in DB. Did you add <code>struts jquery</code> jar to your lib."},{"owner":{"account_id":6526152,"reputation":7,"user_id":5048850,"display_name":"SKY"},"score":0,"creation_date":1437297867,"post_id":31494368,"comment_id":50962655,"body_markdown":"There is no problem.with my struts config file and even the data is available in the db and also I added jquery plugin jar to my library","body":"There is no problem.with my struts config file and even the data is available in the db and also I added jquery plugin jar to my library"},{"owner":{"account_id":6526152,"reputation":7,"user_id":5048850,"display_name":"SKY"},"score":0,"creation_date":1437306293,"post_id":31494368,"comment_id":50964673,"body_markdown":"Thank u guys for your help.The mistake was in my jsp\nIt is &lt;jq:head/&gt; and not &lt;s:head/&gt;","body":"Thank u guys for your help.The mistake was in my jsp It is &lt;jq:head/&gt; and not &lt;s:head/&gt;"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695899829,"creation_date":1437306453,"answer_id":31500857,"question_id":31494368,"body_markdown":"&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;%@taglib prefix=&quot;sj&quot; uri=&quot;/struts-jquery-tags&quot;%&gt;\r\n\r\n    &lt;head&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n        &lt;title&gt;Ajax Page&lt;/title&gt;\r\n        &lt;sj:head/&gt;\r\n    &lt;/head&gt;\r\n\r\nThe `sj:head` tag loads jquery library.","title":"Autocomplete textbox using Ajax and Oracle database in Struts 2","body":"<pre class=\"lang-xml prettyprint-override\"><code>&lt;%@taglib prefix=&quot;sj&quot; uri=&quot;/struts-jquery-tags&quot;%&gt;\n\n&lt;head&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n    &lt;title&gt;Ajax Page&lt;/title&gt;\n    &lt;sj:head/&gt;\n&lt;/head&gt;\n</code></pre>\n<p>The <code>sj:head</code> tag loads jquery library.</p>\n"}],"owner":{"account_id":6526152,"reputation":7,"user_id":5048850,"display_name":"SKY"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1422,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":31500857,"answer_count":1,"score":1,"last_activity_date":1695899829,"creation_date":1437244975,"question_id":31494368,"body_markdown":"I am trying to populate my textbox with values coming from the jobs table in Oracle database, but I am not able to do it so, and not able to understand where I am making a mistake. Below is my code.   \r\n\r\n**`Jobs.java`:**\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package action;\r\n    \r\n    public class Jobs {\r\n    private String title;\r\n    \r\n        public Jobs(String title) {\r\n            this.title = title;\r\n        }\r\n    \r\n       \r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    \r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    \r\n       \r\n    \r\n       \r\n              \r\n**`AjaxAction.java`:**\r\n   \r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\r\n    package action;\r\n    \r\n    import com.opensymphony.xwork2.ActionSupport;\r\n    import java.util.ArrayList;\r\n    import oracle.jdbc.rowset.OracleCachedRowSet;\r\n    \r\n    public class AjaxAction extends ActionSupport{\r\n     //ArrayList&lt;Jobs&gt; jobs=new ArrayList&lt;Jobs&gt;();\r\n        ArrayList&lt;String&gt; jobs=new ArrayList&lt;String&gt;();\r\n    \r\n        public ArrayList&lt;String&gt; getJobs() {\r\n            return jobs;\r\n        }\r\n    \r\n        public void setJobs(ArrayList&lt;String&gt; jobs) {\r\n            this.jobs = jobs;\r\n        }\r\n       \r\n    \r\n        private String country;\r\n     \r\n        public String getCountry() {\r\n            return country;\r\n        }\r\n    \r\n        public void setCountry(String country) {\r\n            this.country = country;\r\n        }\r\n       \r\n        public String execute() throws Exception\r\n        {\r\n             OracleCachedRowSet crs=new OracleCachedRowSet();\r\n                   crs.setUrl(&quot;jdbc:oracle:thin:@localhost:1521:XE&quot;);\r\n           \r\n            crs.setUsername(&quot;**&quot;);\r\n            crs.setPassword(&quot;***&quot;);\r\n            crs.setCommand(&quot;select job_title from jobs&quot;);\r\n           \r\n            crs.execute();\r\n           while(crs.next())\r\n           {\r\n               jobs.add(crs.getString(&quot;job_title&quot;));\r\n              \r\n           }\r\n          System.out.println(jobs);\r\n           return &quot;success&quot;;\r\n        }\r\n      \r\n    \r\n       \r\n    }\r\n\r\n**`AjaxDemo.jsp`:**\r\n   \r\n\r\n&lt;!-- language: lang-jsp --&gt;\r\n\r\n    &lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;%@taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot;%&gt;\r\n    &lt;%@taglib prefix=&quot;jq&quot; uri=&quot;/struts-jquery-tags&quot;%&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n            &lt;title&gt;Ajax Page&lt;/title&gt;\r\n            &lt;s:head/&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n           JOB TITLE &lt;jq:autocompleter size=&quot;1&quot; list=&quot;jobs&quot; name=&quot;country&quot;&gt;\r\n                \r\n            &lt;/jq:autocompleter&gt;\r\n          \r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n","title":"Autocomplete textbox using Ajax and Oracle database in Struts 2","body":"<p>I am trying to populate my textbox with values coming from the jobs table in Oracle database, but I am not able to do it so, and not able to understand where I am making a mistake. Below is my code.</p>\n<p><strong><code>Jobs.java</code>:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package action;\n\npublic class Jobs {\nprivate String title;\n\n    public Jobs(String title) {\n        this.title = title;\n    }\n\n   \n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n   \n\n   \n          \n</code></pre>\n<p><strong><code>AjaxAction.java</code>:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package action;\n\nimport com.opensymphony.xwork2.ActionSupport;\nimport java.util.ArrayList;\nimport oracle.jdbc.rowset.OracleCachedRowSet;\n\npublic class AjaxAction extends ActionSupport{\n //ArrayList&lt;Jobs&gt; jobs=new ArrayList&lt;Jobs&gt;();\n    ArrayList&lt;String&gt; jobs=new ArrayList&lt;String&gt;();\n\n    public ArrayList&lt;String&gt; getJobs() {\n        return jobs;\n    }\n\n    public void setJobs(ArrayList&lt;String&gt; jobs) {\n        this.jobs = jobs;\n    }\n   \n\n    private String country;\n \n    public String getCountry() {\n        return country;\n    }\n\n    public void setCountry(String country) {\n        this.country = country;\n    }\n   \n    public String execute() throws Exception\n    {\n         OracleCachedRowSet crs=new OracleCachedRowSet();\n               crs.setUrl(&quot;jdbc:oracle:thin:@localhost:1521:XE&quot;);\n       \n        crs.setUsername(&quot;**&quot;);\n        crs.setPassword(&quot;***&quot;);\n        crs.setCommand(&quot;select job_title from jobs&quot;);\n       \n        crs.execute();\n       while(crs.next())\n       {\n           jobs.add(crs.getString(&quot;job_title&quot;));\n          \n       }\n      System.out.println(jobs);\n       return &quot;success&quot;;\n    }\n  \n\n   \n}\n</code></pre>\n<p><strong><code>AjaxDemo.jsp</code>:</strong></p>\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot;%&gt;\n&lt;%@taglib prefix=&quot;jq&quot; uri=&quot;/struts-jquery-tags&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n        &lt;title&gt;Ajax Page&lt;/title&gt;\n        &lt;s:head/&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n       JOB TITLE &lt;jq:autocompleter size=&quot;1&quot; list=&quot;jobs&quot; name=&quot;country&quot;&gt;\n            \n        &lt;/jq:autocompleter&gt;\n      \n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","spring","rest","spring-security","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":2172112,"reputation":421,"user_id":1923812,"accept_rate":27,"display_name":"Mehul Dudhat"},"score":0,"creation_date":1455714028,"post_id":35457399,"comment_id":58611153,"body_markdown":"I am new in Spring, here i am generating new token for each users. so we need to validate that in every api. is the client side application provided token is valid or not?","body":"I am new in Spring, here i am generating new token for each users. so we need to validate that in every api. is the client side application provided token is valid or not?"},{"owner":{"account_id":6851943,"reputation":1557,"user_id":5268867,"accept_rate":21,"display_name":"Musaddique S"},"score":0,"creation_date":1455714180,"post_id":35457399,"comment_id":58611260,"body_markdown":"token should be validated in server side only. you can not share your validation code to client side.","body":"token should be validated in server side only. you can not share your validation code to client side."},{"owner":{"account_id":2172112,"reputation":421,"user_id":1923812,"accept_rate":27,"display_name":"Mehul Dudhat"},"score":0,"creation_date":1455714504,"post_id":35457399,"comment_id":58611504,"body_markdown":"i am doing same validating in every api, but i need create separate method for that and use in every api. that method automatically check token status and if valid then execute api code otherwise return message from common method directly.","body":"i am doing same validating in every api, but i need create separate method for that and use in every api. that method automatically check token status and if valid then execute api code otherwise return message from common method directly."},{"owner":{"account_id":6851943,"reputation":1557,"user_id":5268867,"accept_rate":21,"display_name":"Musaddique S"},"score":0,"creation_date":1455714685,"post_id":35457399,"comment_id":58611628,"body_markdown":"so want to write another method for all user and apis right?","body":"so want to write another method for all user and apis right?"},{"owner":{"account_id":2172112,"reputation":421,"user_id":1923812,"accept_rate":27,"display_name":"Mehul Dudhat"},"score":0,"creation_date":1455714904,"post_id":35457399,"comment_id":58611808,"body_markdown":"yes, i need to crate one common method/service/annotation that can check first before api code execution.","body":"yes, i need to crate one common method/service/annotation that can check first before api code execution."},{"owner":{"account_id":6851943,"reputation":1557,"user_id":5268867,"accept_rate":21,"display_name":"Musaddique S"},"score":0,"creation_date":1455715110,"post_id":35457399,"comment_id":58611952,"body_markdown":"ohhh okay..you can use Interceptor, filter or @ModelAttribute","body":"ohhh okay..you can use Interceptor, filter or @ModelAttribute"},{"owner":{"account_id":2172112,"reputation":421,"user_id":1923812,"accept_rate":27,"display_name":"Mehul Dudhat"},"score":0,"creation_date":1455716490,"post_id":35457399,"comment_id":58612888,"body_markdown":"I am new in spring can you please guide me, how can I used interceptor or filters in my provided code?","body":"I am new in spring can you please guide me, how can I used interceptor or filters in my provided code?"},{"owner":{"account_id":6851943,"reputation":1557,"user_id":5268867,"accept_rate":21,"display_name":"Musaddique S"},"score":0,"creation_date":1455717381,"post_id":35457399,"comment_id":58613567,"body_markdown":"look into this. you will get the idea. http://www.journaldev.com/2676/spring-mvc-interceptors-example-handlerinterceptor-and-handlerinterceptoradapter","body":"look into this. you will get the idea. <a href=\"http://www.journaldev.com/2676/spring-mvc-interceptors-example-handlerinterceptor-and-handlerinterceptoradapter\" rel=\"nofollow noreferrer\">journaldev.com/2676/&hellip;</a>"}],"tags":[],"owner":{"account_id":6851943,"reputation":1557,"user_id":5268867,"accept_rate":21,"display_name":"Musaddique S"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455713822,"creation_date":1455713822,"answer_id":35457399,"question_id":35457187,"body_markdown":"Instead of getting token from database and matching with current token you can use **cache**. create your own cache object like `Map` or a static `string`, which will have the latest token. and you can direct compare incoming token with this token from cache. no need to hit database for every time.\r\n\r\n","title":"Is there any way to validate token before execution of rest api using spring","body":"<p>Instead of getting token from database and matching with current token you can use <strong>cache</strong>. create your own cache object like <code>Map</code> or a static <code>string</code>, which will have the latest token. and you can direct compare incoming token with this token from cache. no need to hit database for every time.</p>\n"},{"comments":[{"owner":{"account_id":2172112,"reputation":421,"user_id":1923812,"accept_rate":27,"display_name":"Mehul Dudhat"},"score":0,"creation_date":1455716693,"post_id":35457824,"comment_id":58613032,"body_markdown":"Can I extend or used as a annotation your proveded class?","body":"Can I extend or used as a annotation your proveded class?"}],"tags":[],"owner":{"account_id":6851943,"reputation":1557,"user_id":5268867,"accept_rate":21,"display_name":"Musaddique S"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455715027,"creation_date":1455715027,"answer_id":35457824,"question_id":35457187,"body_markdown":"    public class TokenVallidation\r\n     {        \r\n        public static boolean tokenValidation(user id, String token){    \r\n    \t\tToken token= tokenDao.getByTokenCode(id,jsonData.getString(&quot;token&quot;));\r\n    \t\tif(token==null){\r\n    \t\t\tm1.put(&quot;status&quot;, &quot;error&quot;);\r\n    \t\t\tm1.put(&quot;message&quot;, &quot;Sorry, your provided token information expired or not exists.&quot;);\r\n    \t\t\treturn false;\r\n    \t\t}     \r\n    \t\telse{\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nfor controller pass user id and token and check the token. you need to update `dao` method as per `user id` parameter.\r\n\r\n","title":"Is there any way to validate token before execution of rest api using spring","body":"<pre><code>public class TokenVallidation\n {        \n    public static boolean tokenValidation(user id, String token){    \n        Token token= tokenDao.getByTokenCode(id,jsonData.getString(\"token\"));\n        if(token==null){\n            m1.put(\"status\", \"error\");\n            m1.put(\"message\", \"Sorry, your provided token information expired or not exists.\");\n            return false;\n        }     \n        else{\n            return true;\n        }\n    }\n}\n</code></pre>\n\n<p>for controller pass user id and token and check the token. you need to update <code>dao</code> method as per <code>user id</code> parameter.</p>\n"},{"comments":[{"owner":{"account_id":2172112,"reputation":421,"user_id":1923812,"accept_rate":27,"display_name":"Mehul Dudhat"},"score":0,"creation_date":1455791309,"post_id":35458670,"comment_id":58651557,"body_markdown":"Great man it;s worked for me, but is there any way to  check for selected api,  because some of the api have access without token.","body":"Great man it;s worked for me, but is there any way to  check for selected api,  because some of the api have access without token."},{"owner":{"account_id":6060770,"reputation":601,"user_id":4732553,"display_name":"wcong"},"score":2,"creation_date":1455798686,"post_id":35458670,"comment_id":58656460,"body_markdown":"you can set includePatterns and excludePatterns for MappedInterceptor.those patterns will filter request mapping for you.","body":"you can set includePatterns and excludePatterns for MappedInterceptor.those patterns will filter request mapping for you."}],"tags":[],"owner":{"account_id":6060770,"reputation":601,"user_id":4732553,"display_name":"wcong"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1455760710,"creation_date":1455717397,"answer_id":35458670,"question_id":35457187,"body_markdown":"you can use **HandlerInterceptor** to handle you token.\r\n\r\n**HandlerInterceptor.preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)** will execute before any RequestMapping.\r\n\r\nvalidate you token in **preHandle**.if token is valid continue,else throw exception,controller advice will handler the rest.\r\n\r\nexpose bean class of MappedInterceptor,spring will auto load HandlerInterceptor bean contains.\r\n\r\n**ControllerAdvice** and **ExceptionHandler** can catch exception and return error message\r\n\r\n\r\n**full example** \r\n\r\n    @RestController\r\n    @EnableAutoConfiguration\r\n    public class App {\r\n    \r\n    \t@RequestMapping(&quot;/&quot;)\r\n    \tpublic String index() {\r\n    \t\treturn &quot;hello world&quot;;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(App.class, args);\r\n    \t}\r\n    \r\n    \tpublic static class MyException extends RuntimeException {\r\n    \r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Autowired\r\n    \tpublic MappedInterceptor getMappedInterceptor(MyHandlerInterceptor myHandlerInterceptor) {\r\n    \t\treturn new MappedInterceptor(new String[] { &quot;/&quot; }, myHandlerInterceptor);\r\n    \t}\r\n    \r\n    \t@Component\r\n    \tpublic static class TestBean {\r\n    \t\tpublic boolean judgeToken(HttpServletRequest request) {\r\n    \t\t\tString token = request.getParameter(&quot;token&quot;);\r\n    \t\t\tif (token == null) {\r\n    \t\t\t\tthrow new MyException();\r\n    \t\t\t}\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Component\r\n    \tpublic static class MyHandlerInterceptor implements HandlerInterceptor {\r\n    \r\n    \t\t@Autowired\r\n    \t\tTestBean testBean;\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\r\n    \t\t\t\tthrows Exception {\r\n    \t\t\treturn testBean.judgeToken(request);\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler,\r\n    \t\t\t\tModelAndView modelAndView) throws Exception {\r\n    \r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler,\r\n    \t\t\t\tException ex) throws Exception {\r\n    \r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@ControllerAdvice\r\n    \tpublic static class MyExceptionHandler {\r\n    \t\t@ExceptionHandler(MyException.class)\r\n    \t\t@ResponseBody\r\n    \t\tpublic Map&lt;String, Object&gt; handelr() {\r\n    \t\t\tMap&lt;String, Object&gt; m1 = new HashMap&lt;String, Object&gt;();\r\n    \t\t\tm1.put(&quot;status&quot;, &quot;error&quot;);\r\n    \t\t\tm1.put(&quot;message&quot;, &quot;Sorry, your provided token information expired or not exists.&quot;);\r\n    \t\t\treturn m1;\r\n    \t\t}\r\n    \t}\r\n    \r\n    }","title":"Is there any way to validate token before execution of rest api using spring","body":"<p>you can use <strong>HandlerInterceptor</strong> to handle you token.</p>\n\n<p><strong>HandlerInterceptor.preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)</strong> will execute before any RequestMapping.</p>\n\n<p>validate you token in <strong>preHandle</strong>.if token is valid continue,else throw exception,controller advice will handler the rest.</p>\n\n<p>expose bean class of MappedInterceptor,spring will auto load HandlerInterceptor bean contains.</p>\n\n<p><strong>ControllerAdvice</strong> and <strong>ExceptionHandler</strong> can catch exception and return error message</p>\n\n<p><strong>full example</strong> </p>\n\n<pre><code>@RestController\n@EnableAutoConfiguration\npublic class App {\n\n    @RequestMapping(\"/\")\n    public String index() {\n        return \"hello world\";\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(App.class, args);\n    }\n\n    public static class MyException extends RuntimeException {\n\n    }\n\n    @Bean\n    @Autowired\n    public MappedInterceptor getMappedInterceptor(MyHandlerInterceptor myHandlerInterceptor) {\n        return new MappedInterceptor(new String[] { \"/\" }, myHandlerInterceptor);\n    }\n\n    @Component\n    public static class TestBean {\n        public boolean judgeToken(HttpServletRequest request) {\n            String token = request.getParameter(\"token\");\n            if (token == null) {\n                throw new MyException();\n            }\n            return true;\n        }\n    }\n\n    @Component\n    public static class MyHandlerInterceptor implements HandlerInterceptor {\n\n        @Autowired\n        TestBean testBean;\n\n        @Override\n        public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\n                throws Exception {\n            return testBean.judgeToken(request);\n        }\n\n        @Override\n        public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler,\n                ModelAndView modelAndView) throws Exception {\n\n        }\n\n        @Override\n        public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler,\n                Exception ex) throws Exception {\n\n        }\n    }\n\n    @ControllerAdvice\n    public static class MyExceptionHandler {\n        @ExceptionHandler(MyException.class)\n        @ResponseBody\n        public Map&lt;String, Object&gt; handelr() {\n            Map&lt;String, Object&gt; m1 = new HashMap&lt;String, Object&gt;();\n            m1.put(\"status\", \"error\");\n            m1.put(\"message\", \"Sorry, your provided token information expired or not exists.\");\n            return m1;\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2172112,"reputation":421,"user_id":1923812,"accept_rate":27,"display_name":"Mehul Dudhat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11598,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":35458670,"answer_count":3,"score":5,"last_activity_date":1695899813,"creation_date":1455713263,"question_id":35457187,"body_markdown":"I have configured spring boot for rest controller.\r\nI created many api but i need to validate my token information in every api at begging, Is user is authorized or not base on provided token.\r\n\r\nDuring the signin i am generating token that token required in every api for accessing information. if token is not valid then i need to return message `Sorry, your provided token information has been expired or not exists.`\r\n\r\nbelow is the my api.\r\n\r\n    @RequestMapping(value=&quot;/delete&quot;, method= RequestMethod.DELETE)\r\n    public Map&lt;String, Object&gt; delete(@RequestBody String reqData,HttpServletRequest request) {\r\n    \tMap&lt;String, Object&gt; m1 = new HashMap&lt;String,Object&gt;();\r\n    \tJSONObject jsonData = new JSONObject(reqData);\r\n    \tToken token= tokenDao.getByTokenCode(jsonData.getString(&quot;token&quot;));\r\n    \tif(token==null){\r\n    \t\tm1.put(&quot;status&quot;, &quot;error&quot;);\r\n    \t\tm1.put(&quot;message&quot;, &quot;Sorry, your provided token information expired or not exists.&quot;);\r\n    \t\treturn m1;\r\n    \t}\r\n    \t//here my logic to remove user from database.\r\n    }\r\n\r\nIs there any way to check token functionality in service method or using annotation, so i need to remove that same code in every api and need to use one common functionality.\r\n\r\n \r\n","title":"Is there any way to validate token before execution of rest api using spring","body":"<p>I have configured spring boot for rest controller.\nI created many api but i need to validate my token information in every api at begging, Is user is authorized or not base on provided token.</p>\n\n<p>During the signin i am generating token that token required in every api for accessing information. if token is not valid then i need to return message <code>Sorry, your provided token information has been expired or not exists.</code></p>\n\n<p>below is the my api.</p>\n\n<pre><code>@RequestMapping(value=\"/delete\", method= RequestMethod.DELETE)\npublic Map&lt;String, Object&gt; delete(@RequestBody String reqData,HttpServletRequest request) {\n    Map&lt;String, Object&gt; m1 = new HashMap&lt;String,Object&gt;();\n    JSONObject jsonData = new JSONObject(reqData);\n    Token token= tokenDao.getByTokenCode(jsonData.getString(\"token\"));\n    if(token==null){\n        m1.put(\"status\", \"error\");\n        m1.put(\"message\", \"Sorry, your provided token information expired or not exists.\");\n        return m1;\n    }\n    //here my logic to remove user from database.\n}\n</code></pre>\n\n<p>Is there any way to check token functionality in service method or using annotation, so i need to remove that same code in every api and need to use one common functionality.</p>\n"},{"tags":["java","sonarqube","java-17","sonarcloud"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1695909641,"post_id":77193392,"comment_id":136089060,"body_markdown":"I am assuming that they were not raised in the PR for the merge because you didn&#39;t run the analysis on the branch before the merge.","body":"I am assuming that they were not raised in the PR for the merge because you didn&#39;t run the analysis on the branch before the merge."}],"answers":[{"comments":[{"owner":{"account_id":4238751,"reputation":336,"user_id":3469246,"display_name":"Saucistophe"},"score":1,"creation_date":1695926240,"post_id":77194173,"comment_id":136092330,"body_markdown":"I just got confirmation for this from the community forum.\nFor reference, it&#39;s called Issue Backdating and it fires when a new rule is activated, new rules are added to the parser, etc.","body":"I just got confirmation for this from the community forum. For reference, it&#39;s called Issue Backdating and it fires when a new rule is activated, new rules are added to the parser, etc."}],"tags":[],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695899311,"creation_date":1695897112,"answer_id":77194173,"question_id":77193392,"body_markdown":"A change in one line of code could generate a bug elsewhere, similarly for code smells, security hotsposts and so on; so, generally speaking,  Sonarqube always evaluates all the code base.  What changed in this case is the number of code patterns, or &quot;rules&quot;, used in the evaluation: if you examine the  [Sonar Rules catalog for Java][1] you can see that some rules are labeled with the Java version (from &quot;java7&quot; to &quot;java17&quot;), this means that the upgrade to Java 17 has triggered new rules that were not used before.\r\n\r\nThe &quot;New Code&quot; tab does not refer strictly to &quot;new lines of code&quot; but to issues that were not present X days ago, as explained by the last phrase in the description of the config parameter in your snapshot.\r\n\r\n\r\n  [1]: https://rules.sonarsource.com/java/","title":"SonarQube raises error on old code after merging upgrade to java 17","body":"<p>A change in one line of code could generate a bug elsewhere, similarly for code smells, security hotsposts and so on; so, generally speaking,  Sonarqube always evaluates all the code base.  What changed in this case is the number of code patterns, or &quot;rules&quot;, used in the evaluation: if you examine the  <a href=\"https://rules.sonarsource.com/java/\" rel=\"nofollow noreferrer\">Sonar Rules catalog for Java</a> you can see that some rules are labeled with the Java version (from &quot;java7&quot; to &quot;java17&quot;), this means that the upgrade to Java 17 has triggered new rules that were not used before.</p>\n<p>The &quot;New Code&quot; tab does not refer strictly to &quot;new lines of code&quot; but to issues that were not present X days ago, as explained by the last phrase in the description of the config parameter in your snapshot.</p>\n"}],"owner":{"account_id":4238751,"reputation":336,"user_id":3469246,"display_name":"Saucistophe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77194173,"answer_count":1,"score":2,"last_activity_date":1695899311,"creation_date":1695890109,"question_id":77193392,"body_markdown":"This one is a bit specific.\r\n\r\nWe use SonarCloud, and the &quot;New Code&quot; settings for the relevant project is as following:\r\n[![New code definition](https://i.stack.imgur.com/XtT2S.png)](https://i.stack.imgur.com/XtT2S.png)\r\n\r\nI.e, on the main branch, only code newer than 2 days is considered.\r\n\r\nWe had a merge request that made some changes, including switching from Java 11 to Java 17. It had a passing pipeline, so we merged, and bam! the analysis fails on the main branch:\r\n[![analysis results](https://i.stack.imgur.com/zChE4.png)](https://i.stack.imgur.com/zChE4.png)\r\n\r\nAs you can see, the new code is correctly detected (it says &quot;New code: Since 2 days ago&quot;, and only 9 lines are considered as new. However, I get 10 code smells, and they are raised on totally different and much older code. Those smells are typically related to Java 17 (Replace this usage of &#39;Stream.collect(Collectors.toList())&#39; with &#39;Stream.toList()&#39;).\r\n\r\nSo my question is: Does SonarQube ignore the new code definition when it&#39;s detecting a java version change? Is it because those issues are on old code but are considered new? And why was it not raised in the passing merge request analysis?","title":"SonarQube raises error on old code after merging upgrade to java 17","body":"<p>This one is a bit specific.</p>\n<p>We use SonarCloud, and the &quot;New Code&quot; settings for the relevant project is as following:\n<a href=\"https://i.stack.imgur.com/XtT2S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XtT2S.png\" alt=\"New code definition\" /></a></p>\n<p>I.e, on the main branch, only code newer than 2 days is considered.</p>\n<p>We had a merge request that made some changes, including switching from Java 11 to Java 17. It had a passing pipeline, so we merged, and bam! the analysis fails on the main branch:\n<a href=\"https://i.stack.imgur.com/zChE4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zChE4.png\" alt=\"analysis results\" /></a></p>\n<p>As you can see, the new code is correctly detected (it says &quot;New code: Since 2 days ago&quot;, and only 9 lines are considered as new. However, I get 10 code smells, and they are raised on totally different and much older code. Those smells are typically related to Java 17 (Replace this usage of 'Stream.collect(Collectors.toList())' with 'Stream.toList()').</p>\n<p>So my question is: Does SonarQube ignore the new code definition when it's detecting a java version change? Is it because those issues are on old code but are considered new? And why was it not raised in the passing merge request analysis?</p>\n"},{"tags":["java","android","mp3","converters"],"comments":[{"owner":{"account_id":2009443,"reputation":3774,"user_id":1798304,"accept_rate":92,"display_name":"MalaKa"},"score":0,"creation_date":1365508256,"post_id":15900934,"comment_id":22643629,"body_markdown":"there is a question answered that should meet your requirements: http://stackoverflow.com/questions/3641920/how-to-encode-a-wav-to-a-mp3-on-a-android-device/","body":"there is a question answered that should meet your requirements: <a href=\"http://stackoverflow.com/questions/3641920/how-to-encode-a-wav-to-a-mp3-on-a-android-device/\" title=\"how to encode a wav to a mp3 on a android device\">stackoverflow.com/questions/3641920/&hellip;</a>"},{"owner":{"account_id":288229,"reputation":1205,"user_id":588519,"accept_rate":63,"display_name":"Daler"},"score":0,"creation_date":1365508466,"post_id":15900934,"comment_id":22643760,"body_markdown":"@MalaKa, I read that answer, I was expecting that something has been changed since 2010.. and that seems a little bit complicated for my level of knowledge..","body":"@MalaKa, I read that answer, I was expecting that something has been changed since 2010.. and that seems a little bit complicated for my level of knowledge.."}],"answers":[{"comments":[{"owner":{"account_id":288229,"reputation":1205,"user_id":588519,"accept_rate":63,"display_name":"Daler"},"score":0,"creation_date":1365508700,"post_id":15901166,"comment_id":22643891,"body_markdown":"so you suppose if I will convert some music to MP3, i will have a problem with law?","body":"so you suppose if I will convert some music to MP3, i will have a problem with law?"},{"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"score":0,"creation_date":1365510228,"post_id":15901166,"comment_id":22644875,"body_markdown":"So probably it is easier to have a Linux host converting mp3 to ogg for your application users...","body":"So probably it is easier to have a Linux host converting mp3 to ogg for your application users..."}],"tags":[],"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365510609,"creation_date":1365508491,"answer_id":15901166,"question_id":15900934,"body_markdown":"I think, you must check the licensing issues first. AFAIK mp3 software has never been free. Linux did support mp3, but had to build the code on the local machine instead of downloading a ready-to-use package. (Not sure if this has changed in recent years.)\r\n\r\n[Re: EDITED] Other formats are easier, e.g.:\r\n\r\nhttps://stackoverflow.com/questions/7314816/how-to-encode-recorded-voice-to-ogg-vorbis\r\n\r\nhttps://stackoverflow.com/questions/9733064/how-to-convert-the-wav-ogg-file-to-flac-file-in-android\r\n","title":"How to convert PCM raw data to mp3 file?","body":"<p>I think, you must check the licensing issues first. AFAIK mp3 software has never been free. Linux did support mp3, but had to build the code on the local machine instead of downloading a ready-to-use package. (Not sure if this has changed in recent years.)</p>\n\n<p>[Re: EDITED] Other formats are easier, e.g.:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/7314816/how-to-encode-recorded-voice-to-ogg-vorbis\">How to encode Recorded voice to ogg vorbis?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/9733064/how-to-convert-the-wav-ogg-file-to-flac-file-in-android\">How to convert the WAV/OGG file to FLAC file in Android?</a></p>\n"},{"tags":[],"owner":{"account_id":1827218,"reputation":8097,"user_id":1659588,"accept_rate":89,"display_name":"Dodge"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365509470,"creation_date":1365509470,"answer_id":15901543,"question_id":15900934,"body_markdown":"there is a github project that provides lame encoder for android&lt;br&gt;\r\nhttps://github.com/intervigilium/liblame&lt;br&gt;\r\n\r\nthere is also an sample app that uses the library&lt;br&gt;\r\nhttps://github.com/intervigilium/Lame4Android&lt;br&gt;\r\n\r\nbut as allready stated, if you want to encode/decode a mp3 file you may have to pay license/patent fees.&lt;br&gt;\r\n\r\nhere you can find the mp3 license prices\r\n&lt;br&gt;http://mp3licensing.com/royalty \r\n\r\n\r\n","title":"How to convert PCM raw data to mp3 file?","body":"<p>there is a github project that provides lame encoder for android<br>\n<a href=\"https://github.com/intervigilium/liblame\" rel=\"nofollow\">https://github.com/intervigilium/liblame</a><br></p>\n\n<p>there is also an sample app that uses the library<br>\n<a href=\"https://github.com/intervigilium/Lame4Android\" rel=\"nofollow\">https://github.com/intervigilium/Lame4Android</a><br></p>\n\n<p>but as allready stated, if you want to encode/decode a mp3 file you may have to pay license/patent fees.<br></p>\n\n<p>here you can find the mp3 license prices\n<br><a href=\"http://mp3licensing.com/royalty\" rel=\"nofollow\">http://mp3licensing.com/royalty</a> </p>\n"}],"owner":{"account_id":288229,"reputation":1205,"user_id":588519,"accept_rate":63,"display_name":"Daler"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9255,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1695899260,"creation_date":1365507836,"question_id":15900934,"body_markdown":"EDITED my question: Is there any encoders from PCM raw data to any audio file? mp3,ogg... but not WAV, as it will be too big\r\n\r\nI do have a text file which has raw PCM array, and I want to convert it to mp3,ogg file. After long search I couldnt find some library which does provide this encoding (PCM to MP3). Im looking forward to have some suggestions or maybe links to such libraries. \r\n\r\nIt should be done programmatically in android phone, so I dont want to have some desktop solutions. ","title":"How to convert PCM raw data to mp3 file?","body":"<p>EDITED my question: Is there any encoders from PCM raw data to any audio file? mp3,ogg... but not WAV, as it will be too big</p>\n\n<p>I do have a text file which has raw PCM array, and I want to convert it to mp3,ogg file. After long search I couldnt find some library which does provide this encoding (PCM to MP3). Im looking forward to have some suggestions or maybe links to such libraries. </p>\n\n<p>It should be done programmatically in android phone, so I dont want to have some desktop solutions. </p>\n"},{"tags":["java","kotlin","trigonometry"],"answers":[{"tags":[],"owner":{"account_id":23369220,"reputation":164,"user_id":17440365,"display_name":"mohammad.hasan.mahdavi81"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1695881426,"creation_date":1695881426,"answer_id":77192507,"question_id":77192379,"body_markdown":"In mathematics and programming, trigonometric functions like cos typically expect angles to be in radians, not degrees. In your case, when you used Math.cos(579.894), you were providing an angle in radians, which resulted in the incorrect answer.\r\n\r\nTo fix this, you should convert your angle from degrees to radians before passing it to the Math.cos function. Here&#39;s how you can do it in Kotlin:\r\n\r\n    import kotlin.math.cos\r\n    import kotlin.math.toRadians\r\n\r\n    fun main(){\r\n        val degrees = 579.894\r\n        val radians = Math.toRadians(degrees)\r\n        val result = cos(radians)\r\n        println(result)\r\n    }\r\nJava : \r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            double degrees = 579.894;\r\n            double radians = Math.toRadians(degrees);\r\n            double result = Math.cos(radians);\r\n            System.out.println(result);\r\n        }\r\n    }","title":"Math.toDegree() in kotlin gives unexpected results","body":"<p>In mathematics and programming, trigonometric functions like cos typically expect angles to be in radians, not degrees. In your case, when you used Math.cos(579.894), you were providing an angle in radians, which resulted in the incorrect answer.</p>\n<p>To fix this, you should convert your angle from degrees to radians before passing it to the Math.cos function. Here's how you can do it in Kotlin:</p>\n<pre><code>import kotlin.math.cos\nimport kotlin.math.toRadians\n\nfun main(){\n    val degrees = 579.894\n    val radians = Math.toRadians(degrees)\n    val result = cos(radians)\n    println(result)\n}\n</code></pre>\n<p>Java :</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        double degrees = 579.894;\n        double radians = Math.toRadians(degrees);\n        double result = Math.cos(radians);\n        System.out.println(result);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8790688,"reputation":1,"user_id":6570619,"display_name":"Prasad Manjula"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695899233,"creation_date":1695879594,"question_id":77192379,"body_markdown":"When I calculate cos 579.894 (in degrees) in google calculator it gives -0.76723232005 (the answer I want).\r\n\r\nWhen I do this in Kotlin, `Math.toDegrees(Math.cos(579.894))`, it gives the answer: `-15.291167290241946`\r\n\r\nWhat am I doing wrong?","title":"Math.toDegree() in kotlin gives unexpected results","body":"<p>When I calculate cos 579.894 (in degrees) in google calculator it gives -0.76723232005 (the answer I want).</p>\n<p>When I do this in Kotlin, <code>Math.toDegrees(Math.cos(579.894))</code>, it gives the answer: <code>-15.291167290241946</code></p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":26506655,"reputation":110,"user_id":20142712,"display_name":"not_a_nerd"},"score":0,"creation_date":1695838911,"post_id":77180751,"comment_id":136078901,"body_markdown":"Please provide some code which makes it easier to answer your question","body":"Please provide some code which makes it easier to answer your question"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695838649,"creation_date":1695838649,"answer_id":77189965,"question_id":77180751,"body_markdown":"JDK8 and JavaFX are obsolete. You can find info on modern JDK and JavaFX distributions (currently 21), at [openjfx.io][1]. BellSoft and Azul also provide JDKs that include JavaFX.\r\n\r\nBellSoft offer [JDK 8 distributions][2] (select &quot;JDK 8 LTS&quot; + &quot;Full JDK&quot;) that include JavaFX, you could try one of those if you wish. The JavaFX Media and Webkit components in BellSoft Liberica JDK 8 do not work.\r\n\r\nRegarding jfxrt.jar. It does not exist in recent versions of JavaFX. It also does not exist in most OpenJDK distributions. It does exist in archived Oracle JDK 8 versions. You can&#39;t just copy the jfxrt.jar that you may find somewhere into an Open JDK distribution and expect it to work. JavaFX requires native components matching the Java runtime versions in order for it to work and those native components (e.g. DLLs or .so libraries) are not included in jfxrt.jar. \r\n\r\nJavaFX also may not function within a kubernetes pod as you are trying to run it.\r\n\r\n\r\n  [1]: https://openjfx.io/\r\n  [2]: https://bell-sw.com/pages/downloads/","title":"how to add jfxrt.jar in openjdk8","body":"<p>JDK8 and JavaFX are obsolete. You can find info on modern JDK and JavaFX distributions (currently 21), at <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">openjfx.io</a>. BellSoft and Azul also provide JDKs that include JavaFX.</p>\n<p>BellSoft offer <a href=\"https://bell-sw.com/pages/downloads/\" rel=\"nofollow noreferrer\">JDK 8 distributions</a> (select &quot;JDK 8 LTS&quot; + &quot;Full JDK&quot;) that include JavaFX, you could try one of those if you wish. The JavaFX Media and Webkit components in BellSoft Liberica JDK 8 do not work.</p>\n<p>Regarding jfxrt.jar. It does not exist in recent versions of JavaFX. It also does not exist in most OpenJDK distributions. It does exist in archived Oracle JDK 8 versions. You can't just copy the jfxrt.jar that you may find somewhere into an Open JDK distribution and expect it to work. JavaFX requires native components matching the Java runtime versions in order for it to work and those native components (e.g. DLLs or .so libraries) are not included in jfxrt.jar.</p>\n<p>JavaFX also may not function within a kubernetes pod as you are trying to run it.</p>\n"}],"owner":{"account_id":29539167,"reputation":1,"user_id":22638208,"display_name":"GaneshP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695899095,"creation_date":1695736924,"question_id":77180751,"body_markdown":"I am using OpenJDK 8 and want to add jfxrt.jar in my MS project. I am getting NoClassDefFoundError for FXCollection.class. My MS project is deployed on a Kubernetes pod. Is there any way to add jfxrt.jar there and to resolve given error.\r\n\r\nI tried to add a `COPY` command in the Docker file, but it is giving error like file not found.\r\n\r\nI didn&#39;t got any compatible dependency version of it from Maven Central.","title":"how to add jfxrt.jar in openjdk8","body":"<p>I am using OpenJDK 8 and want to add jfxrt.jar in my MS project. I am getting NoClassDefFoundError for FXCollection.class. My MS project is deployed on a Kubernetes pod. Is there any way to add jfxrt.jar there and to resolve given error.</p>\n<p>I tried to add a <code>COPY</code> command in the Docker file, but it is giving error like file not found.</p>\n<p>I didn't got any compatible dependency version of it from Maven Central.</p>\n"},{"tags":["java","java-native-interface","native","keyword"],"comments":[{"owner":{"account_id":42117,"reputation":30319,"user_id":122607,"accept_rate":92,"display_name":"Pops"},"score":13,"creation_date":1306176797,"post_id":6101311,"comment_id":7074013,"body_markdown":"See also [What is native implementation in Java](http://stackoverflow.com/q/557574/122607), [Usage of native in Java](http://stackoverflow.com/q/2902618/122607) and [What does the native keyword do ?](http://stackoverflow.com/q/3598315/122607).","body":"See also <a href=\"http://stackoverflow.com/q/557574/122607\">What is native implementation in Java</a>, <a href=\"http://stackoverflow.com/q/2902618/122607\">Usage of native in Java</a> and <a href=\"http://stackoverflow.com/q/3598315/122607\">What does the native keyword do ?</a>."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":11,"creation_date":1557485872,"post_id":6101324,"comment_id":98790590,"body_markdown":"The actual implementation doesn’t have to use JNI. Certain JRE methods are handled intrinsically by the JVM. In fact, it’s not even mandatory that the implementation is actually *native* code. It’s just [“implemented in a language other than the Java programming language”](https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-4.html#jvms-4.6-200-A.1).","body":"The actual implementation doesn’t have to use JNI. Certain JRE methods are handled intrinsically by the JVM. In fact, it’s not even mandatory that the implementation is actually <i>native</i> code. It’s just <a href=\"https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-4.html#jvms-4.6-200-A.1\" rel=\"nofollow noreferrer\">“implemented in a language other than the Java programming language”</a>."},{"owner":{"account_id":19387534,"reputation":449,"user_id":14176948,"display_name":"Alex Mandelias"},"score":0,"creation_date":1615285421,"post_id":6101324,"comment_id":117637932,"body_markdown":"How can you go about implementing a method in native code using JNI? How to you tell the JVM to use this code? How do you write your java code to include this code?","body":"How can you go about implementing a method in native code using JNI? How to you tell the JVM to use this code? How do you write your java code to include this code?"}],"tags":[],"owner":{"account_id":15988,"reputation":872908,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"comment_count":2,"down_vote_count":15,"up_vote_count":382,"is_accepted":true,"score":367,"last_activity_date":1499234707,"creation_date":1306175436,"answer_id":6101324,"question_id":6101311,"body_markdown":"The `native` keyword is applied to a method to indicate that the method is implemented in native code using JNI (Java Native Interface).","title":"What is the native keyword in Java for?","body":"<p>The <code>native</code> keyword is applied to a method to indicate that the method is implemented in native code using JNI (Java Native Interface).</p>\n"},{"tags":[],"owner":{"account_id":55671,"reputation":983,"user_id":166771,"display_name":"Melv"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1306176015,"creation_date":1306176015,"answer_id":6101420,"question_id":6101311,"body_markdown":"As SLaks answered, the `native` keyword is for calling native code.\r\n\r\nIt also used by [GWT][1] for implementing javascript methods.\r\n\r\n\r\n  [1]: http://code.google.com/webtoolkit/","title":"What is the native keyword in Java for?","body":"<p>As SLaks answered, the <code>native</code> keyword is for calling native code.</p>\n\n<p>It also used by <a href=\"http://code.google.com/webtoolkit/\" rel=\"noreferrer\">GWT</a> for implementing javascript methods.</p>\n"},{"comments":[{"owner":{"account_id":1462765,"reputation":803,"user_id":1376581,"accept_rate":50,"display_name":"MKod"},"score":3,"creation_date":1419496087,"post_id":6101439,"comment_id":43709158,"body_markdown":"This is my understanding I write  System.currentTimeMillis() (which is native) in java file and then this to work, JNI will call libraries or some functions written in C or C++ or assembly language and then return some value back to my java code. ex: here currentTimeMillis method invokes a native code with the help of JNI and that native code talks to system resource ex: a timer sitting on motherboard and thus getting return value (system time). correct me, please?","body":"This is my understanding I write  System.currentTimeMillis() (which is native) in java file and then this to work, JNI will call libraries or some functions written in C or C++ or assembly language and then return some value back to my java code. ex: here currentTimeMillis method invokes a native code with the help of JNI and that native code talks to system resource ex: a timer sitting on motherboard and thus getting return value (system time). correct me, please?"},{"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"score":4,"creation_date":1444833351,"post_id":6101439,"comment_id":54068561,"body_markdown":"@MKod methods like `currentTimeMillis` are part of the JDK and they are annotated with `native` because the implementation is in the JDK source code itself. It&#39;s very unlikely that the implementation uses assembly language; it probably calls an API method of the operating system which the JVM is running on top of. For example on Windows it may call a DLL method `GetSystemTime` in kernel32.dll. On another OS it will have a different implementation. However when you use `native` for a method you are writing (as opposed to a JDK method) you have to provide the implementation using JNI.","body":"@MKod methods like <code>currentTimeMillis</code> are part of the JDK and they are annotated with <code>native</code> because the implementation is in the JDK source code itself. It&#39;s very unlikely that the implementation uses assembly language; it probably calls an API method of the operating system which the JVM is running on top of. For example on Windows it may call a DLL method <code>GetSystemTime</code> in kernel32.dll. On another OS it will have a different implementation. However when you use <code>native</code> for a method you are writing (as opposed to a JDK method) you have to provide the implementation using JNI."},{"owner":{"account_id":3011599,"reputation":386,"user_id":3357830,"display_name":"atiqkhaled"},"score":0,"creation_date":1488124525,"post_id":6101439,"comment_id":72081934,"body_markdown":"This statement is the important one for Native keyword... &#39; You need to access system or hardware resources that are only reachable from the other language (typically C) &#39; .","body":"This statement is the important one for Native keyword... &#39; You need to access system or hardware resources that are only reachable from the other language (typically C) &#39; ."},{"owner":{"account_id":9640511,"reputation":4079,"user_id":7154924,"accept_rate":86,"display_name":"flow2k"},"score":0,"creation_date":1513562280,"post_id":6101439,"comment_id":82687292,"body_markdown":"@Kidburla May I ask what you mean by the &quot;implementation is in the JDK source code itself&quot;? `currentTimeMillis` is marked as native in `java.lang.System` so it uses JNI, isn&#39;t that right?","body":"@Kidburla May I ask what you mean by the &quot;implementation is in the JDK source code itself&quot;? <code>currentTimeMillis</code> is marked as native in <code>java.lang.System</code> so it uses JNI, isn&#39;t that right?"},{"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"score":1,"creation_date":1513631502,"post_id":6101439,"comment_id":82718436,"body_markdown":"@flow2k yes, what you have said is probably true, I&#39;m not sure why I said that in my comment (more than 2 years ago)","body":"@flow2k yes, what you have said is probably true, I&#39;m not sure why I said that in my comment (more than 2 years ago)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1557486454,"post_id":6101439,"comment_id":98790862,"body_markdown":"@flow2k not every `native` method uses JNI. In case of JRE methods, known to the JVM, there can be other mechanisms. E.g. `Object.getClass()` will not use JNI. But for native application methods that ought to run on different compatible JVMs, JNI is the standard interface.","body":"@flow2k not every <code>native</code> method uses JNI. In case of JRE methods, known to the JVM, there can be other mechanisms. E.g. <code>Object.getClass()</code> will not use JNI. But for native application methods that ought to run on different compatible JVMs, JNI is the standard interface."},{"owner":{"account_id":9640511,"reputation":4079,"user_id":7154924,"accept_rate":86,"display_name":"flow2k"},"score":0,"creation_date":1557514293,"post_id":6101439,"comment_id":98804919,"body_markdown":"@Holger Thanks for the note. In this case, I suppose `currentTimeMillis` is an application method so would fall under JNI. About the &quot;JRE methods&quot; you mention - what are some good examples? I don&#39;t think I&#39;ve ever called one myself - presumably they&#39;re low-level.","body":"@Holger Thanks for the note. In this case, I suppose <code>currentTimeMillis</code> is an application method so would fall under JNI. About the &quot;JRE methods&quot; you mention - what are some good examples? I don&#39;t think I&#39;ve ever called one myself - presumably they&#39;re low-level."},{"owner":{"account_id":535477,"reputation":1551,"user_id":904963,"accept_rate":80,"display_name":"user904963"},"score":0,"creation_date":1644081848,"post_id":6101439,"comment_id":125513158,"body_markdown":"@flow2k There was an example already given: `Object::getClass`.","body":"@flow2k There was an example already given: <code>Object::getClass</code>."}],"tags":[],"owner":{"account_id":62216,"reputation":8413,"user_id":184977,"accept_rate":100,"display_name":"Orhan Cinar"},"comment_count":8,"down_vote_count":1,"up_vote_count":436,"is_accepted":false,"score":435,"last_activity_date":1364463250,"creation_date":1306176104,"answer_id":6101439,"question_id":6101311,"body_markdown":"It marks a method, that it will be implemented in other languages, not in Java. It works together with JNI (Java Native Interface).\r\n\r\nNative methods were used in the past to write performance critical sections but with Java getting faster this is now less common. Native methods are currently needed when\r\n\r\n - You need to call a library from Java that is written in other language.\r\n   \r\n - You need to access system or hardware resources that are only reachable from the other language (typically C). Actually, many system functions that interact with real computer (disk and network IO, for instance) can only do this because they call native code.\r\n\r\nSee Also\r\n[Java Native Interface Specification][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/technotes/guides/jni/spec/jniTOC.html","title":"What is the native keyword in Java for?","body":"<p>It marks a method, that it will be implemented in other languages, not in Java. It works together with JNI (Java Native Interface).</p>\n\n<p>Native methods were used in the past to write performance critical sections but with Java getting faster this is now less common. Native methods are currently needed when</p>\n\n<ul>\n<li><p>You need to call a library from Java that is written in other language.</p></li>\n<li><p>You need to access system or hardware resources that are only reachable from the other language (typically C). Actually, many system functions that interact with real computer (disk and network IO, for instance) can only do this because they call native code.</p></li>\n</ul>\n\n<p>See Also\n<a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/jni/spec/jniTOC.html\" rel=\"noreferrer\">Java Native Interface Specification</a></p>\n"},{"tags":[],"owner":{"account_id":42117,"reputation":30319,"user_id":122607,"accept_rate":92,"display_name":"Pops"},"comment_count":0,"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1306176660,"creation_date":1306176660,"answer_id":6101528,"question_id":6101311,"body_markdown":"Straight from [the _Java Language Specification_](http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.4.3.4):\r\n\r\n&gt; A method that is `native` is implemented in platform-dependent code, typically written in another programming language such as C, C++, FORTRAN,or assembly language. The body of a `native` method is given as a semicolon only, indicating that the implementation is omitted, instead of a block.","title":"What is the native keyword in Java for?","body":"<p>Straight from <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.4.3.4\" rel=\"noreferrer\">the <em>Java Language Specification</em></a>:</p>\n\n<blockquote>\n  <p>A method that is <code>native</code> is implemented in platform-dependent code, typically written in another programming language such as C, C++, FORTRAN,or assembly language. The body of a <code>native</code> method is given as a semicolon only, indicating that the implementation is omitted, instead of a block.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1199784,"reputation":18304,"user_id":1170677,"accept_rate":54,"display_name":"Adelin"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1333696375,"creation_date":1333694742,"answer_id":10040105,"question_id":6101311,"body_markdown":"functions that implement native code are declared native.\r\n\r\n&gt;The Java Native Interface (JNI) is a programming framework that enables Java code running in a Java Virtual Machine (JVM) to call, and to be called by, native applications (programs specific to a hardware and operating system platform) and libraries written in other languages such as C, C++ and assembly.\r\n\r\nhttp://en.wikipedia.org/wiki/Java_Native_Interface","title":"What is the native keyword in Java for?","body":"<p>functions that implement native code are declared native.</p>\n\n<blockquote>\n  <p>The Java Native Interface (JNI) is a programming framework that enables Java code running in a Java Virtual Machine (JVM) to call, and to be called by, native applications (programs specific to a hardware and operating system platform) and libraries written in other languages such as C, C++ and assembly.</p>\n</blockquote>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Java_Native_Interface\">http://en.wikipedia.org/wiki/Java_Native_Interface</a></p>\n"},{"tags":[],"owner":{"account_id":2279026,"reputation":87,"user_id":2004622,"display_name":"Sarfaraz Ahamad Shaikh"},"comment_count":0,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1358957819,"creation_date":1358957819,"answer_id":14484237,"question_id":6101311,"body_markdown":"native is a keyword in java , which is used to make unimplemented structure(method) like as abstract but it would be a platform dependent such as native code and execute from native stack not java stack.","title":"What is the native keyword in Java for?","body":"<p>native is a keyword in java , which is used to make unimplemented structure(method) like as abstract but it would be a platform dependent such as native code and execute from native stack not java stack.</p>\n"},{"tags":[],"owner":{"account_id":3154315,"reputation":1227,"user_id":2667029,"accept_rate":25,"display_name":"Reetika"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1558423750,"creation_date":1385725255,"answer_id":20284948,"question_id":6101311,"body_markdown":"NATIVE is Non access modifier.it can be applied only to METHOD.\r\nIt indicates the PLATFORM-DEPENDENT implementation of method or code.","title":"What is the native keyword in Java for?","body":"<p>NATIVE is Non access modifier.it can be applied only to METHOD.\nIt indicates the PLATFORM-DEPENDENT implementation of method or code.</p>\n"},{"comments":[{"owner":{"account_id":5990694,"reputation":875,"user_id":4706859,"accept_rate":36,"display_name":"SR_"},"score":1,"creation_date":1521411390,"post_id":30635871,"comment_id":85706978,"body_markdown":"Excellent answer. Just a footnote :&#160;for a `static` `native` Java method, the second parameter of the C++ function is of type `jclass` and not `jobject`.","body":"Excellent answer. Just a footnote : for a <code>static</code> <code>native</code> Java method, the second parameter of the C++ function is of type <code>jclass</code> and not <code>jobject</code>."},{"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":0,"creation_date":1521448944,"post_id":30635871,"comment_id":85717408,"body_markdown":"@SR_ thanks for the info. Was there a mistake on my answer, or is it just some extra info?","body":"@SR_ thanks for the info. Was there a mistake on my answer, or is it just some extra info?"},{"owner":{"account_id":5990694,"reputation":875,"user_id":4706859,"accept_rate":36,"display_name":"SR_"},"score":3,"creation_date":1521464653,"post_id":30635871,"comment_id":85727529,"body_markdown":"@Ciro it&#39;s some extra info for those who begin with your example (an answer with about 300 on SO may serve as reference). I&#39;ve had a function with an incorrect signature called with a mess on the stack, with no error reported (at any of compile, link or run times). Thus I&#160;find it important to mention to be careful on this step.","body":"@Ciro it&#39;s some extra info for those who begin with your example (an answer with about 300 on SO may serve as reference). I&#39;ve had a function with an incorrect signature called with a mess on the stack, with no error reported (at any of compile, link or run times). Thus I find it important to mention to be careful on this step."},{"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":1,"creation_date":1605291396,"post_id":30635871,"comment_id":114614882,"body_markdown":"@HuazheYin Sun Zi once said: &quot;the superior non-accepted answer gets more votes than the superior accepted answer, because of upvoters who seek justice&quot;. True story. Some related points: https://cirosantilli.com/#the-machiavellian-stack-overflow-contributor","body":"@HuazheYin Sun Zi once said: &quot;the superior non-accepted answer gets more votes than the superior accepted answer, because of upvoters who seek justice&quot;. True story. Some related points: <a href=\"https://cirosantilli.com/#the-machiavellian-stack-overflow-contributor\" rel=\"nofollow noreferrer\">cirosantilli.com/#the-machiavellian-stack-overflow-contribut&zwnj;&#8203;or</a>"}],"tags":[],"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"comment_count":4,"down_vote_count":0,"up_vote_count":533,"is_accepted":false,"score":533,"last_activity_date":1591788286,"creation_date":1433396902,"answer_id":30635871,"question_id":6101311,"body_markdown":"**Minimal runnable example**\r\n\r\nMain.java\r\n\r\n    public class Main {\r\n        public native int square(int i);\r\n        public static void main(String[] args) {\r\n            System.loadLibrary(&quot;Main&quot;);\r\n            System.out.println(new Main().square(2));\r\n        }\r\n    }\r\n\r\nMain.c\r\n\r\n    #include &lt;jni.h&gt;\r\n    #include &quot;Main.h&quot;\r\n    \r\n    JNIEXPORT jint JNICALL Java_Main_square(\r\n        JNIEnv *env, jobject obj, jint i) {\r\n      return i * i;\r\n    }\r\n\r\nCompile and run:\r\n\r\n    sudo apt-get install build-essential openjdk-7-jdk\r\n    export JAVA_HOME=&#39;/usr/lib/jvm/java-7-openjdk-amd64&#39;\r\n\tjavac Main.java\r\n\tjavah -jni Main\r\n\tgcc -shared -fpic -o libMain.so -I${JAVA_HOME}/include \\\r\n      -I${JAVA_HOME}/include/linux Main.c\r\n\tjava -Djava.library.path=. Main\r\n\r\nOutput:\r\n\r\n    4\r\n\r\nTested on Ubuntu 14.04 AMD64. Also worked with Oracle JDK 1.8.0_45.\r\n\r\n[Example on GitHub](https://github.com/cirosantilli/java-cheat/tree/77437774e632ba6ecb483f6e69726431a23b5808/jni) for you to play with.\r\n\r\nUnderscores in Java package / file names must be escaped with `_1` in the C function name as mentioned at: https://stackoverflow.com/questions/16069209/invoking-jni-functions-in-android-package-name-containing-underscore/35015592#35015592 \r\n\r\n**Interpretation**\r\n\r\n`native` allows you to:\r\n\r\n- call a compiled dynamically loaded library (here written in C) with arbitrary assembly code from Java\r\n- and get results back into Java\r\n\r\nThis could be used to:\r\n\r\n- write faster code on a critical section with better CPU assembly instructions (not CPU portable)\r\n- make direct system calls (not OS portable)\r\n\r\nwith the tradeoff of lower portability.\r\n\r\nIt is also possible for you to call Java from C, but you must first create a JVM in C: https://stackoverflow.com/questions/819536/how-to-call-java-function-from-c\r\n\r\nAnalogous native extension APIs are also present in many other &quot;VM languages&quot; for the same reasons, e.g. [Python](https://docs.python.org/3/c-api/index.html), [Node.js](https://nodejs.org/api/addons.html), [Ruby](https://docs.ruby-lang.org/en/2.4.0/extension_rdoc.html).\r\n\r\n**Android NDK**\r\n\r\nThe concept is exact the same in this context, except that you have to use Android boilerplate to set it up.\r\n\r\nThe official NDK repository contains &quot;canonical&quot; examples such as the hello-jni app:\r\n\r\n- https://github.com/googlesamples/android-ndk/blob/4df5a2705e471a0818c6b2dbc26b8e315d89d307/hello-jni/app/src/main/java/com/example/hellojni/HelloJni.java#L39\r\n- https://github.com/googlesamples/android-ndk/blob/4df5a2705e471a0818c6b2dbc26b8e315d89d307/hello-jni/app/src/main/cpp/hello-jni.c#L27\r\n\r\nIn you `unzip` an `.apk` with NDK on Android O, you can see the pre-compiled `.so` that corresponds to the native code under `lib/arm64-v8a/libnative-lib.so`.\r\n\r\nTODO confirm: furthermore, `file /data/app/com.android.appname-*/oat/arm64/base.odex`, says it is a shared library, which I think is the AOT precompiled .dex corresponding to the Java files in ART, see also: https://stackoverflow.com/questions/9593527/what-are-odex-files-in-android So maybe the Java is actually also run via a `native` interface?\r\n\r\n**Example in the OpenJDK 8**\r\n\r\nLet&#39;s find find where `Object#clone` is defined in jdk8u60-b27.\r\n\r\nWe will conclude that it is implemented with a `native` call.\r\n\r\nFirst we find:\r\n\r\n    find . -name Object.java\r\n\r\nwhich leads us to [jdk/src/share/classes/java/lang/Object.java#l212](http://hg.openjdk.java.net/jdk8u/jdk8u60/jdk/file/afbc08ea922b/src/share/classes/java/lang/Object.java#l212):\r\n\r\n    protected native Object clone() throws CloneNotSupportedException;\r\n\r\nNow comes the hard part, finding where clone is amidst all the indirection. The query that helped me was:\r\n\r\n    find . -iname object.c\r\n\r\nwhich would find either C or C++ files that might implement Object&#39;s native methods. It leads us to [jdk/share/native/java/lang/Object.c#l47](http://hg.openjdk.java.net/jdk8u/jdk8u60/jdk/file/afbc08ea922b/src/share/native/java/lang/Object.c#l47):\r\n\r\n    static JNINativeMethod methods[] = {\r\n        ...\r\n        {&quot;clone&quot;,       &quot;()Ljava/lang/Object;&quot;,   (void *)&amp;JVM_Clone},\r\n    };\r\n    \r\n    JNIEXPORT void JNICALL\r\n    Java_java_lang_Object_registerNatives(JNIEnv *env, jclass cls)\r\n    {\r\n        (*env)-&gt;RegisterNatives(env, cls,\r\n                                methods, sizeof(methods)/sizeof(methods[0]));\r\n    }\r\n\r\nwhich leads us to the `JVM_Clone` symbol:\r\n\r\n    grep -R JVM_Clone\r\n\r\nwhich leads us to [hotspot/src/share/vm/prims/jvm.cpp#l580](http://hg.openjdk.java.net/jdk8u/jdk8u60/hotspot/file/10ad4b9d79f9/src/share/vm/prims/jvm.cpp#l580):\r\n\r\n    JVM_ENTRY(jobject, JVM_Clone(JNIEnv* env, jobject handle))\r\n        JVMWrapper(&quot;JVM_Clone&quot;);\r\n\r\nAfter expanding a bunch of macros, we come to the conclusion that this is the definition point.\r\n","title":"What is the native keyword in Java for?","body":"<p><strong>Minimal runnable example</strong></p>\n\n<p>Main.java</p>\n\n<pre><code>public class Main {\n    public native int square(int i);\n    public static void main(String[] args) {\n        System.loadLibrary(\"Main\");\n        System.out.println(new Main().square(2));\n    }\n}\n</code></pre>\n\n<p>Main.c</p>\n\n<pre><code>#include &lt;jni.h&gt;\n#include \"Main.h\"\n\nJNIEXPORT jint JNICALL Java_Main_square(\n    JNIEnv *env, jobject obj, jint i) {\n  return i * i;\n}\n</code></pre>\n\n<p>Compile and run:</p>\n\n<pre><code>sudo apt-get install build-essential openjdk-7-jdk\nexport JAVA_HOME='/usr/lib/jvm/java-7-openjdk-amd64'\njavac Main.java\njavah -jni Main\ngcc -shared -fpic -o libMain.so -I${JAVA_HOME}/include \\\n  -I${JAVA_HOME}/include/linux Main.c\njava -Djava.library.path=. Main\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>4\n</code></pre>\n\n<p>Tested on Ubuntu 14.04 AMD64. Also worked with Oracle JDK 1.8.0_45.</p>\n\n<p><a href=\"https://github.com/cirosantilli/java-cheat/tree/77437774e632ba6ecb483f6e69726431a23b5808/jni\" rel=\"noreferrer\">Example on GitHub</a> for you to play with.</p>\n\n<p>Underscores in Java package / file names must be escaped with <code>_1</code> in the C function name as mentioned at: <a href=\"https://stackoverflow.com/questions/16069209/invoking-jni-functions-in-android-package-name-containing-underscore/35015592#35015592\">Invoking JNI functions in Android package name containing underscore</a> </p>\n\n<p><strong>Interpretation</strong></p>\n\n<p><code>native</code> allows you to:</p>\n\n<ul>\n<li>call a compiled dynamically loaded library (here written in C) with arbitrary assembly code from Java</li>\n<li>and get results back into Java</li>\n</ul>\n\n<p>This could be used to:</p>\n\n<ul>\n<li>write faster code on a critical section with better CPU assembly instructions (not CPU portable)</li>\n<li>make direct system calls (not OS portable)</li>\n</ul>\n\n<p>with the tradeoff of lower portability.</p>\n\n<p>It is also possible for you to call Java from C, but you must first create a JVM in C: <a href=\"https://stackoverflow.com/questions/819536/how-to-call-java-function-from-c\">How to call Java functions from C++?</a></p>\n\n<p>Analogous native extension APIs are also present in many other \"VM languages\" for the same reasons, e.g. <a href=\"https://docs.python.org/3/c-api/index.html\" rel=\"noreferrer\">Python</a>, <a href=\"https://nodejs.org/api/addons.html\" rel=\"noreferrer\">Node.js</a>, <a href=\"https://docs.ruby-lang.org/en/2.4.0/extension_rdoc.html\" rel=\"noreferrer\">Ruby</a>.</p>\n\n<p><strong>Android NDK</strong></p>\n\n<p>The concept is exact the same in this context, except that you have to use Android boilerplate to set it up.</p>\n\n<p>The official NDK repository contains \"canonical\" examples such as the hello-jni app:</p>\n\n<ul>\n<li><a href=\"https://github.com/googlesamples/android-ndk/blob/4df5a2705e471a0818c6b2dbc26b8e315d89d307/hello-jni/app/src/main/java/com/example/hellojni/HelloJni.java#L39\" rel=\"noreferrer\">https://github.com/googlesamples/android-ndk/blob/4df5a2705e471a0818c6b2dbc26b8e315d89d307/hello-jni/app/src/main/java/com/example/hellojni/HelloJni.java#L39</a></li>\n<li><a href=\"https://github.com/googlesamples/android-ndk/blob/4df5a2705e471a0818c6b2dbc26b8e315d89d307/hello-jni/app/src/main/cpp/hello-jni.c#L27\" rel=\"noreferrer\">https://github.com/googlesamples/android-ndk/blob/4df5a2705e471a0818c6b2dbc26b8e315d89d307/hello-jni/app/src/main/cpp/hello-jni.c#L27</a></li>\n</ul>\n\n<p>In you <code>unzip</code> an <code>.apk</code> with NDK on Android O, you can see the pre-compiled <code>.so</code> that corresponds to the native code under <code>lib/arm64-v8a/libnative-lib.so</code>.</p>\n\n<p>TODO confirm: furthermore, <code>file /data/app/com.android.appname-*/oat/arm64/base.odex</code>, says it is a shared library, which I think is the AOT precompiled .dex corresponding to the Java files in ART, see also: <a href=\"https://stackoverflow.com/questions/9593527/what-are-odex-files-in-android\">What are ODEX files in Android?</a> So maybe the Java is actually also run via a <code>native</code> interface?</p>\n\n<p><strong>Example in the OpenJDK 8</strong></p>\n\n<p>Let's find find where <code>Object#clone</code> is defined in jdk8u60-b27.</p>\n\n<p>We will conclude that it is implemented with a <code>native</code> call.</p>\n\n<p>First we find:</p>\n\n<pre><code>find . -name Object.java\n</code></pre>\n\n<p>which leads us to <a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u60/jdk/file/afbc08ea922b/src/share/classes/java/lang/Object.java#l212\" rel=\"noreferrer\">jdk/src/share/classes/java/lang/Object.java#l212</a>:</p>\n\n<pre><code>protected native Object clone() throws CloneNotSupportedException;\n</code></pre>\n\n<p>Now comes the hard part, finding where clone is amidst all the indirection. The query that helped me was:</p>\n\n<pre><code>find . -iname object.c\n</code></pre>\n\n<p>which would find either C or C++ files that might implement Object's native methods. It leads us to <a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u60/jdk/file/afbc08ea922b/src/share/native/java/lang/Object.c#l47\" rel=\"noreferrer\">jdk/share/native/java/lang/Object.c#l47</a>:</p>\n\n<pre><code>static JNINativeMethod methods[] = {\n    ...\n    {\"clone\",       \"()Ljava/lang/Object;\",   (void *)&amp;JVM_Clone},\n};\n\nJNIEXPORT void JNICALL\nJava_java_lang_Object_registerNatives(JNIEnv *env, jclass cls)\n{\n    (*env)-&gt;RegisterNatives(env, cls,\n                            methods, sizeof(methods)/sizeof(methods[0]));\n}\n</code></pre>\n\n<p>which leads us to the <code>JVM_Clone</code> symbol:</p>\n\n<pre><code>grep -R JVM_Clone\n</code></pre>\n\n<p>which leads us to <a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u60/hotspot/file/10ad4b9d79f9/src/share/vm/prims/jvm.cpp#l580\" rel=\"noreferrer\">hotspot/src/share/vm/prims/jvm.cpp#l580</a>:</p>\n\n<pre><code>JVM_ENTRY(jobject, JVM_Clone(JNIEnv* env, jobject handle))\n    JVMWrapper(\"JVM_Clone\");\n</code></pre>\n\n<p>After expanding a bunch of macros, we come to the conclusion that this is the definition point.</p>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71921,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1695898963,"creation_date":1450479342,"answer_id":34365169,"question_id":6101311,"body_markdown":"- `native` is a keyword in Java, it indicates platform dependent.\r\n- `native` methods act as an interface between Java (JNI) and other programming languages. \r\n\r\n\r\n \r\n","title":"What is the native keyword in Java for?","body":"<ul>\n<li><code>native</code> is a keyword in Java, it indicates platform dependent.</li>\n<li><code>native</code> methods act as an interface between Java (JNI) and other programming languages.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2805226,"reputation":777,"user_id":2412606,"display_name":"Happy"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1586156364,"creation_date":1586025492,"answer_id":61033016,"question_id":6101311,"body_markdown":"Java `native` method provides a mechanism for Java code to call OS native code, either due to functional or performance reasons.\r\n\r\nExample:\r\n\r\n - [java.lang.Rutime][1] ([source code on github][2]) contains the following native method definition\r\n\r\n```\r\n606  public native int availableProcessors();\r\n617  public native long freeMemory();\r\n630  public native long totalMemory();\r\n641  public native long maxMemory();\r\n664  public native void gc();\r\n```\r\n\r\nIn the corresponding `Runtime.class` file in OpenJDK, located in `JAVA_HOME/jmods/java.base.jmod/classes/java/lang/Runtime.class`, contains these methods and tagged them with `ACC_NATIVE` (`0x0100`), and these methods do not contain the [Code attribute][3], which means these method do not have any actual coding logic in the `Runtime.class` file:\r\n\r\n - Method 13 `availableProcessors`: tagged as native and no Code attribute\r\n - Method 14 `freeMemory`: tagged as native and no Code attribute\r\n - Method 15 `totalMemory`: tagged as native and no Code attribute \r\n - Method 16 `maxMemory`: tagged as native and no Code attribute \r\n - Method 17 `gc`: tagged as native and no Code attribute\r\n\r\n[![enter image description here][4]][4]\r\n\r\nThe in fact coding logic is in the corresponding [Runtime.c][5] file:\r\n\r\n```\r\n42  #include &quot;java_lang_Runtime.h&quot;\r\n43\r\n44  JNIEXPORT jlong JNICALL\r\n45  Java_java_lang_Runtime_freeMemory(JNIEnv *env, jobject this)\r\n46  {\r\n47      return JVM_FreeMemory();\r\n48  }\r\n49\r\n50  JNIEXPORT jlong JNICALL\r\n51  Java_java_lang_Runtime_totalMemory(JNIEnv *env, jobject this)\r\n52  {\r\n53      return JVM_TotalMemory();\r\n54  }\r\n55\r\n56  JNIEXPORT jlong JNICALL\r\n57  Java_java_lang_Runtime_maxMemory(JNIEnv *env, jobject this)\r\n58  {\r\n59      return JVM_MaxMemory();\r\n60  }\r\n61\r\n62  JNIEXPORT void JNICALL\r\n63  Java_java_lang_Runtime_gc(JNIEnv *env, jobject this)\r\n64  {\r\n65      JVM_GC();\r\n66  }\r\n67  \r\n68  JNIEXPORT jint JNICALL\r\n69  Java_java_lang_Runtime_availableProcessors(JNIEnv *env, jobject this)\r\n70  {\r\n71      return JVM_ActiveProcessorCount();\r\n72  }\r\n```\r\n\r\nAnd these `C` coding is compiled into the `libjava.so` (Linux) or `libjava.dll` (Windows) file, located at `JAVA_HOME/jmods/java.base.jmod/lib/libjava.so`:\r\n\r\n[![enter image description here][6]][6]\r\n\r\n[![enter image description here][7]][7]\r\n\r\n\r\nReference\r\n\r\n- [Java Native Methods Essentials][8]\r\n\r\n\r\n  [1]: https://openjdk.binarydoc.org/net.java/openjdk/current/classfile?classfilelocation=java.lang.runtime\r\n  [2]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Runtime.java\r\n  [3]: https://docs.oracle.com/javase/specs/jvms/se14/html/jvms-4.html#jvms-4.7.3\r\n  [4]: https://i.stack.imgur.com/ieG5F.png\r\n  [5]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/native/libjava/Runtime.c\r\n  [6]: https://i.stack.imgur.com/rOFsC.png\r\n  [7]: https://i.stack.imgur.com/HjkZT.png\r\n  [8]: https://binarydoc.blogspot.com/2020/04/java-native-methods-essentials-from.html","title":"What is the native keyword in Java for?","body":"<p>Java <code>native</code> method provides a mechanism for Java code to call OS native code, either due to functional or performance reasons.</p>\n\n<p>Example:</p>\n\n<ul>\n<li><a href=\"https://openjdk.binarydoc.org/net.java/openjdk/current/classfile?classfilelocation=java.lang.runtime\" rel=\"noreferrer\">java.lang.Rutime</a> (<a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Runtime.java\" rel=\"noreferrer\">source code on github</a>) contains the following native method definition</li>\n</ul>\n\n<pre><code>606  public native int availableProcessors();\n617  public native long freeMemory();\n630  public native long totalMemory();\n641  public native long maxMemory();\n664  public native void gc();\n</code></pre>\n\n<p>In the corresponding <code>Runtime.class</code> file in OpenJDK, located in <code>JAVA_HOME/jmods/java.base.jmod/classes/java/lang/Runtime.class</code>, contains these methods and tagged them with <code>ACC_NATIVE</code> (<code>0x0100</code>), and these methods do not contain the <a href=\"https://docs.oracle.com/javase/specs/jvms/se14/html/jvms-4.html#jvms-4.7.3\" rel=\"noreferrer\">Code attribute</a>, which means these method do not have any actual coding logic in the <code>Runtime.class</code> file:</p>\n\n<ul>\n<li>Method 13 <code>availableProcessors</code>: tagged as native and no Code attribute</li>\n<li>Method 14 <code>freeMemory</code>: tagged as native and no Code attribute</li>\n<li>Method 15 <code>totalMemory</code>: tagged as native and no Code attribute </li>\n<li>Method 16 <code>maxMemory</code>: tagged as native and no Code attribute </li>\n<li>Method 17 <code>gc</code>: tagged as native and no Code attribute</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/ieG5F.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ieG5F.png\" alt=\"enter image description here\"></a></p>\n\n<p>The in fact coding logic is in the corresponding <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/native/libjava/Runtime.c\" rel=\"noreferrer\">Runtime.c</a> file:</p>\n\n<pre><code>42  #include \"java_lang_Runtime.h\"\n43\n44  JNIEXPORT jlong JNICALL\n45  Java_java_lang_Runtime_freeMemory(JNIEnv *env, jobject this)\n46  {\n47      return JVM_FreeMemory();\n48  }\n49\n50  JNIEXPORT jlong JNICALL\n51  Java_java_lang_Runtime_totalMemory(JNIEnv *env, jobject this)\n52  {\n53      return JVM_TotalMemory();\n54  }\n55\n56  JNIEXPORT jlong JNICALL\n57  Java_java_lang_Runtime_maxMemory(JNIEnv *env, jobject this)\n58  {\n59      return JVM_MaxMemory();\n60  }\n61\n62  JNIEXPORT void JNICALL\n63  Java_java_lang_Runtime_gc(JNIEnv *env, jobject this)\n64  {\n65      JVM_GC();\n66  }\n67  \n68  JNIEXPORT jint JNICALL\n69  Java_java_lang_Runtime_availableProcessors(JNIEnv *env, jobject this)\n70  {\n71      return JVM_ActiveProcessorCount();\n72  }\n</code></pre>\n\n<p>And these <code>C</code> coding is compiled into the <code>libjava.so</code> (Linux) or <code>libjava.dll</code> (Windows) file, located at <code>JAVA_HOME/jmods/java.base.jmod/lib/libjava.so</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/rOFsC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rOFsC.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/HjkZT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HjkZT.png\" alt=\"enter image description here\"></a></p>\n\n<p>Reference</p>\n\n<ul>\n<li><a href=\"https://binarydoc.blogspot.com/2020/04/java-native-methods-essentials-from.html\" rel=\"noreferrer\">Java Native Methods Essentials</a></li>\n</ul>\n"}],"owner":{"account_id":228170,"reputation":16153,"user_id":490315,"accept_rate":94,"display_name":"whirlwin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260555,"favorite_count":0,"down_vote_count":2,"up_vote_count":545,"accepted_answer_id":6101324,"answer_count":10,"score":543,"last_activity_date":1695898963,"creation_date":1306175385,"question_id":6101311,"body_markdown":"While playing [this puzzle][1] (It&#39;s a Java keyword trivia game), I came across the `native` keyword.\r\n\r\nWhat is the native keyword in Java used for?\r\n\r\n\r\n  [1]: http://www.sporcle.com/games/robv/java_keywords","title":"What is the native keyword in Java for?","body":"<p>While playing <a href=\"http://www.sporcle.com/games/robv/java_keywords\">this puzzle</a> (It's a Java keyword trivia game), I came across the <code>native</code> keyword.</p>\n\n<p>What is the native keyword in Java used for?</p>\n"},{"tags":["javascript","java","jquery","struts2","dojo"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":1,"creation_date":1459961130,"post_id":36455385,"comment_id":60527054,"body_markdown":"Why not did you use jquery code?","body":"Why not did you use jquery code?"},{"owner":{"account_id":8194157,"reputation":45,"user_id":6167583,"display_name":"Roshan Yengul"},"score":0,"creation_date":1459964953,"post_id":36455385,"comment_id":60529396,"body_markdown":"Jquery code for what?","body":"Jquery code for what?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1459967131,"post_id":36455385,"comment_id":60530816,"body_markdown":"jquery for code or jquery code for script.","body":"jquery for code or jquery code for script."},{"owner":{"account_id":439098,"reputation":4236,"user_id":4274119,"accept_rate":83,"display_name":"justAbit"},"score":0,"creation_date":1460009003,"post_id":36455385,"comment_id":60546798,"body_markdown":"@RoshanYengul, did you try my solution below?","body":"@RoshanYengul, did you try my solution below?"},{"owner":{"account_id":8194157,"reputation":45,"user_id":6167583,"display_name":"Roshan Yengul"},"score":0,"creation_date":1460034415,"post_id":36455385,"comment_id":60564282,"body_markdown":"@RomanC I tried with JQuery too. But that too did not work for me. here is my jquery code:\n    `&lt;script&gt;$(document).ready(function() {\n\t\t$(&quot;#country&quot;).change(function() {\n\t\t\talert(&quot;The text has been changed.&quot;);\n\t\t});\n\t});\n&lt;/script&gt;`","body":"@RomanC I tried with JQuery too. But that too did not work for me. here is my jquery code:     <code>&lt;script&gt;$(document).ready(function() { \t\t$(&quot;#country&quot;).change(function() { \t\t\talert(&quot;The text has been changed.&quot;); \t\t}); \t}); &lt;&#47;script&gt;</code>"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1460035094,"post_id":36455385,"comment_id":60564878,"body_markdown":"@RoshanYengul The plugin is using jquery is called struts2-jquery","body":"@RoshanYengul The plugin is using jquery is called struts2-jquery"}],"answers":[{"comments":[{"owner":{"account_id":439098,"reputation":4236,"user_id":4274119,"accept_rate":83,"display_name":"justAbit"},"score":0,"creation_date":1460035018,"post_id":36456457,"comment_id":60564820,"body_markdown":"My bad, I used &quot;/country&quot; as notify string, which was causing the issue. Please try with the updated code.","body":"My bad, I used &quot;/country&quot; as notify string, which was causing the issue. Please try with the updated code."},{"owner":{"account_id":8194157,"reputation":45,"user_id":6167583,"display_name":"Roshan Yengul"},"score":0,"creation_date":1460037283,"post_id":36456457,"comment_id":60566689,"body_markdown":"It is still not working even after updating the code.","body":"It is still not working even after updating the code."}],"tags":[],"owner":{"account_id":439098,"reputation":4236,"user_id":4274119,"accept_rate":83,"display_name":"justAbit"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460034941,"creation_date":1459958689,"answer_id":36456457,"question_id":36455385,"body_markdown":"You might not be able to use HTML attributes with dojo widgets, you need to use [dojo topics][1] to subscribe for an event:\r\n\r\n    &lt;%@taglib uri=&quot;/struts-dojo-tags&quot; prefix=&quot;sx&quot;%&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n\r\n        dojo.event.topic.subscribe(&quot;/countryName&quot;, function(value, key, text, widget){\r\n    \t    alert(&#39;inside onchange&#39;);\r\n    \t    \r\n    \t    document.getElementById(&quot;myText&quot;).value = value;\r\n    \t    \r\n    \t});\r\n\r\n    &lt;/script&gt;\r\n    &lt;sx:head /&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;sx:autocompleter name=&quot;country&quot; valueNotifyTopics=&quot;/countryName&quot;  list=&quot;cricketNations&quot; /&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nWhen value is selected for `sx:autocompleter`, topics will be published. See  `autocompleter` doc [here][2].\r\n\r\n\r\n  [1]: https://dojotoolkit.org/reference-guide/1.10/dojo/topic.html\r\n  [2]: http://struts.apache.org/docs/autocompleter.html","title":"Detect change of value of struts2 autocompleter tag using javascript or jquery","body":"<p>You might not be able to use HTML attributes with dojo widgets, you need to use <a href=\"https://dojotoolkit.org/reference-guide/1.10/dojo/topic.html\" rel=\"nofollow\">dojo topics</a> to subscribe for an event:</p>\n\n<pre><code>&lt;%@taglib uri=\"/struts-dojo-tags\" prefix=\"sx\"%&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;script type=\"text/javascript\"&gt;\n\n    dojo.event.topic.subscribe(\"/countryName\", function(value, key, text, widget){\n        alert('inside onchange');\n\n        document.getElementById(\"myText\").value = value;\n\n    });\n\n&lt;/script&gt;\n&lt;sx:head /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;sx:autocompleter name=\"country\" valueNotifyTopics=\"/countryName\"  list=\"cricketNations\" /&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When value is selected for <code>sx:autocompleter</code>, topics will be published. See  <code>autocompleter</code> doc <a href=\"http://struts.apache.org/docs/autocompleter.html\" rel=\"nofollow\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":8194157,"reputation":45,"user_id":6167583,"display_name":"Roshan Yengul"},"score":1,"creation_date":1460037456,"post_id":36477772,"comment_id":60566848,"body_markdown":"Awesome solution. It is way better than Dojo autocompleter. Thank you very much @RomanC","body":"Awesome solution. It is way better than Dojo autocompleter. Thank you very much @RomanC"},{"owner":{"account_id":8194157,"reputation":45,"user_id":6167583,"display_name":"Roshan Yengul"},"score":0,"creation_date":1460041157,"post_id":36477772,"comment_id":60569983,"body_markdown":"one more question. What if I want to get the selected value on the click on button? How do I get that? Will `document.getElementById()` work for this?","body":"one more question. What if I want to get the selected value on the click on button? How do I get that? Will <code>document.getElementById()</code> work for this?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1460041339,"post_id":36477772,"comment_id":60570113,"body_markdown":"There&#39;s `onClickTopics` attribute that you can use to subscribe on the click event. I&#39;ve used it for [tab navigation](http://stackoverflow.com/a/21266903/573032).","body":"There&#39;s <code>onClickTopics</code> attribute that you can use to subscribe on the click event. I&#39;ve used it for <a href=\"http://stackoverflow.com/a/21266903/573032\">tab navigation</a>."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695898925,"creation_date":1460035962,"answer_id":36477772,"question_id":36455385,"body_markdown":"The `struts2-dojo-plugin` is deprecated. You need to use [`&lt;sj:autocompleter&gt;`][1] from [tag:struts2-jquery-plugin].\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot;%&gt;\r\n    &lt;%@ taglib prefix=&quot;sj&quot; uri=&quot;/struts-jquery-tags&quot;%&gt;\r\n    &lt;html&gt;\r\n      &lt;head&gt;\r\n        &lt;sj:head jqueryui=&quot;true&quot;/&gt;\r\n      &lt;/head&gt;\r\n      &lt;body&gt;\r\n       &lt;div id=&quot;myText&quot; class=&quot;result ui-widget-content ui-corner-all&quot;&gt;&lt;/div&gt;\r\n    \r\n       &lt;sj:autocompleter name = &quot;country&quot;\r\n                           id = &quot;country&quot; \r\n               onChangeTopics = &quot;autocompleteChange&quot; \r\n                         list = &quot;%{cricketNations}&quot; /&gt;\r\n       &lt;script&gt;\r\n         $.subscribe(&#39;autocompleteChange&#39;, function(event, data) {\r\n      \t   var ui = event.originalEvent.ui;\r\n      \t   var message = ui.item.value;\r\n      \t   if (ui.item.key) {\r\n      \t\t message = &#39;( &#39;+ ui.item.key +&#39; ) &#39;+message;\r\n      \t   }\r\n    \t   $(&#39;#myText&#39;).html(&#39;&amp;lt;b&amp;gt;&#39;+message+&#39;&amp;lt;/b&amp;gt;&#39;);\r\n         });\r\n       &lt;/script&gt;\r\n\r\n      &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n  [1]: https://github.com/struts-community-plugins/struts2-jquery/wiki/AutocompleterTag","title":"Detect change of value of struts2 autocompleter tag using javascript or jquery","body":"<p>The <code>struts2-dojo-plugin</code> is deprecated. You need to use <a href=\"https://github.com/struts-community-plugins/struts2-jquery/wiki/AutocompleterTag\" rel=\"nofollow noreferrer\"><code>&lt;sj:autocompleter&gt;</code></a> from <a href=\"/questions/tagged/struts2-jquery-plugin\" class=\"post-tag\" title=\"show questions tagged &#39;struts2-jquery-plugin&#39;\" aria-label=\"show questions tagged &#39;struts2-jquery-plugin&#39;\" rel=\"tag\" aria-labelledby=\"tag-struts2-jquery-plugin-tooltip-container\">struts2-jquery-plugin</a>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot;%&gt;\n&lt;%@ taglib prefix=&quot;sj&quot; uri=&quot;/struts-jquery-tags&quot;%&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;sj:head jqueryui=&quot;true&quot;/&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n   &lt;div id=&quot;myText&quot; class=&quot;result ui-widget-content ui-corner-all&quot;&gt;&lt;/div&gt;\n\n   &lt;sj:autocompleter name = &quot;country&quot;\n                       id = &quot;country&quot; \n           onChangeTopics = &quot;autocompleteChange&quot; \n                     list = &quot;%{cricketNations}&quot; /&gt;\n   &lt;script&gt;\n     $.subscribe('autocompleteChange', function(event, data) {\n       var ui = event.originalEvent.ui;\n       var message = ui.item.value;\n       if (ui.item.key) {\n         message = '( '+ ui.item.key +' ) '+message;\n       }\n       $('#myText').html('&amp;lt;b&amp;gt;'+message+'&amp;lt;/b&amp;gt;');\n     });\n   &lt;/script&gt;\n\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}],"owner":{"account_id":8194157,"reputation":45,"user_id":6167583,"display_name":"Roshan Yengul"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":868,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36477772,"answer_count":2,"score":2,"last_activity_date":1695898925,"creation_date":1459955873,"question_id":36455385,"body_markdown":"I am working on Struts 2 application. In my application, I need to use Struts 2 `autocompleter` tag. For that I have used `struts2-dojo-plugin-2.3.1.2.jar` jar file. I need to fetch the value from autocompleter once the value changes. I tried using `onchange` event but it was not working. Here is my code:\r\n\r\n&lt;!-- language: lang-jsp --&gt;\r\n\r\n    &lt;%@taglib uri=&quot;/struts-dojo-tags&quot; prefix=&quot;sx&quot;%&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n\tfunction abc() {\r\n\t\tvar a = dojo.widget.byId(&quot;country&quot;);\r\n\t\tvar value1 = a.getSelectedValue();\r\n\t\tdocument.getElementById(&quot;myText&quot;).value = value1;\r\n\t}\r\n    &lt;/script&gt;\r\n    &lt;sx:head /&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;sx:autocompleter name=&quot;country&quot;\r\n\tid=&quot;country&quot; onchange=&quot;abc();&quot; list=&quot;cricketNations&quot; /&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nHow do I achieve this. Help me solve this issue. \r\n","title":"Detect change of value of struts2 autocompleter tag using javascript or jquery","body":"<p>I am working on Struts 2 application. In my application, I need to use Struts 2 <code>autocompleter</code> tag. For that I have used <code>struts2-dojo-plugin-2.3.1.2.jar</code> jar file. I need to fetch the value from autocompleter once the value changes. I tried using <code>onchange</code> event but it was not working. Here is my code:</p>\n\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;%@taglib uri=\"/struts-dojo-tags\" prefix=\"sx\"%&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;script type=\"text/javascript\"&gt;\nfunction abc() {\n    var a = dojo.widget.byId(\"country\");\n    var value1 = a.getSelectedValue();\n    document.getElementById(\"myText\").value = value1;\n}\n&lt;/script&gt;\n&lt;sx:head /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;sx:autocompleter name=\"country\"\nid=\"country\" onchange=\"abc();\" list=\"cricketNations\" /&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>How do I achieve this. Help me solve this issue. </p>\n"},{"tags":["java","android","observable","android-databinding"],"comments":[{"owner":{"account_id":3965515,"reputation":2640,"user_id":3271600,"accept_rate":27,"display_name":"GvSharma"},"score":0,"creation_date":1485632645,"post_id":41913818,"comment_id":71009376,"body_markdown":"remove this line from MainActivity()\n\n&quot;setContentView(R.layout.activity_main);&quot;\n\nAnd try again","body":"remove this line from MainActivity()  &quot;setContentView(R.layout.activity_main);&quot;  And try again"},{"owner":{"display_name":"user5190190"},"score":0,"creation_date":1485633307,"post_id":41913818,"comment_id":71009636,"body_markdown":"No, still doesn&#39;t work","body":"No, still doesn&#39;t work"},{"owner":{"account_id":5204790,"reputation":20778,"user_id":4163092,"display_name":"George Mount"},"score":0,"creation_date":1485659830,"post_id":41913818,"comment_id":71015821,"body_markdown":"Try making the fields private. It may be preferring to access the fields over the accessor methods.","body":"Try making the fields private. It may be preferring to access the fields over the accessor methods."},{"owner":{"account_id":1227466,"reputation":10105,"user_id":1192761,"accept_rate":57,"display_name":"Kirill Kulakov"},"score":0,"creation_date":1485675947,"post_id":41913818,"comment_id":71018334,"body_markdown":"Why is your DTO holds on to a `BaseView`? I doubt it&#39;s related to the issue, but it sounds like really bad practice","body":"Why is your DTO holds on to a <code>BaseView</code>? I doubt it&#39;s related to the issue, but it sounds like really bad practice"},{"owner":{"display_name":"user5190190"},"score":0,"creation_date":1485721048,"post_id":41913818,"comment_id":71031395,"body_markdown":"@GeorgeMount \nIf I&#39;m changing all the fields to private I&#39;m getting the next compelation error:\nError:(14, 52) error: package com.example.oryaa.basecalculator.databinding does not exist\nError:Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\n&gt; java.lang.RuntimeException: Found data binding errors.\n****/ data binding error ****msg:Could not find accessor com.example.oryaa.basecalculator.BaseCalcModel.calcResult\nfile:...\\activity_main.xml\nloc:78:28 - 78:51\n****\\ data binding error ****\nand KirillKulakov\nBaseView is an self made object that contains 4 Strings.","body":"@GeorgeMount  If I&#39;m changing all the fields to private I&#39;m getting the next compelation error: Error:(14, 52) error: package com.example.oryaa.basecalculator.databinding does not exist Error:Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;. &gt; java.lang.RuntimeException: Found data binding errors. ****/ data binding error ****msg:Could not find accessor com.example.oryaa.basecalculator.BaseCalcModel.calcResult file:...\\activity_main.xml loc:78:28 - 78:51 ****\\ data binding error **** and KirillKulakov BaseView is an self made object that contains 4 Strings."},{"owner":{"account_id":5204790,"reputation":20778,"user_id":4163092,"display_name":"George Mount"},"score":0,"creation_date":1485743819,"post_id":41913818,"comment_id":71037158,"body_markdown":"Yes, getCalcResult() must be public.","body":"Yes, getCalcResult() must be public."}],"answers":[{"comments":[{"owner":{"account_id":17165441,"reputation":4402,"user_id":12423905,"display_name":"Andrew"},"score":0,"creation_date":1628089575,"post_id":41929869,"comment_id":121329398,"body_markdown":"Where exactly do we but this, if we use databinding inside a fragment????","body":"Where exactly do we but this, if we use databinding inside a fragment????"},{"owner":{"account_id":4869472,"reputation":5293,"user_id":3926506,"accept_rate":89,"display_name":"Sergei Bubenshchikov"},"score":0,"creation_date":1628102396,"post_id":41929869,"comment_id":121334336,"body_markdown":"@Andrew you can call this method when your data updated (when you bind data to view holder for example)","body":"@Andrew you can call this method when your data updated (when you bind data to view holder for example)"}],"tags":[],"owner":{"account_id":4869472,"reputation":5293,"user_id":3926506,"accept_rate":89,"display_name":"Sergei Bubenshchikov"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1485756387,"creation_date":1485756387,"answer_id":41929869,"question_id":41913818,"body_markdown":"You need to call `executePendingBindings()` for immediately update binding value in view:\r\n&gt;When a variable or observable changes, the binding will be scheduled to change before the next frame. There are times, however, when binding must be executed immediately. To force execution, use the executePendingBindings() method.\r\n\r\nLook at [Advanced Binding](https://developer.android.com/topic/libraries/data-binding/index.html) chapter for more info","title":"Android data binding : view does not update when property is changed","body":"<p>You need to call <code>executePendingBindings()</code> for immediately update binding value in view:</p>\n\n<blockquote>\n  <p>When a variable or observable changes, the binding will be scheduled to change before the next frame. There are times, however, when binding must be executed immediately. To force execution, use the executePendingBindings() method.</p>\n</blockquote>\n\n<p>Look at <a href=\"https://developer.android.com/topic/libraries/data-binding/index.html\" rel=\"noreferrer\">Advanced Binding</a> chapter for more info</p>\n"},{"tags":[],"owner":{"account_id":9280154,"reputation":57862,"user_id":6891563,"accept_rate":75,"display_name":"Khemraj Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695898904,"creation_date":1533807055,"answer_id":51763478,"question_id":41913818,"body_markdown":" - Make your model class fields private.\r\n - Change `getCalcResult()` should be public.\r\n - `BaseView` should be extending `BaseObservable`\r\n - If you don&#39;t change model value dynamically. Then you need not to make every accessor `@Bindable`. You can remove that. And also remove `notifyPropertyChanged()`. Opposite of this if you need to change model values dynamically then use `@Bindable` attribute.\r\n\r\nYou are good to go.\r\n\r\n```\r\npublic class BaseCalcModel extends BaseObservable {\r\n    private String calcResult;\r\n    private BaseView firstNumView;\r\n    private BaseView secondNumView;\r\n    private BaseView resultNumView;\r\n    private int firstNumBase;\r\n    private int secondNumBase;\r\n    private int resultNumBase;\r\n    private String error;\r\n\r\n    public String getCalcResult() {\r\n        return calcResult;\r\n    }\r\n\r\n    public void setCalcResult(String calcResult) {\r\n        this.calcResult = calcResult;\r\n    }\r\n\r\n    public BaseView getFirstNumView() {\r\n        return firstNumView;\r\n    }\r\n\r\n    public void setFirstNumView(BaseView firstNumView) {\r\n        this.firstNumView = firstNumView;\r\n    }\r\n\r\n    public BaseView getSecondNumView() {\r\n        return secondNumView;\r\n    }\r\n\r\n    public void setSecondNumView(BaseView secondNumView) {\r\n        this.secondNumView = secondNumView;\r\n    }\r\n\r\n    public BaseView getResultNumView() {\r\n        return resultNumView;\r\n    }\r\n\r\n    public void setResultNumView(BaseView resultNumView) {\r\n        this.resultNumView = resultNumView;\r\n    }\r\n\r\n    public int getFirstNumBase() {\r\n        return firstNumBase;\r\n    }\r\n\r\n    public void setFirstNumBase(int firstNumBase) {\r\n        this.firstNumBase = firstNumBase;\r\n    }\r\n\r\n    public int getSecondNumBase() {\r\n        return secondNumBase;\r\n    }\r\n\r\n    public void setSecondNumBase(int secondNumBase) {\r\n        this.secondNumBase = secondNumBase;\r\n    }\r\n\r\n    public int getResultNumBase() {\r\n        return resultNumBase;\r\n    }\r\n\r\n    public void setResultNumBase(int resultNumBase) {\r\n        this.resultNumBase = resultNumBase;\r\n    }\r\n\r\n    public String getError() {\r\n        return error;\r\n    }\r\n\r\n    public void setError(String error) {\r\n        this.error = error;\r\n    }\r\n}\r\n```","title":"Android data binding : view does not update when property is changed","body":"<ul>\n<li>Make your model class fields private.</li>\n<li>Change <code>getCalcResult()</code> should be public.</li>\n<li><code>BaseView</code> should be extending <code>BaseObservable</code></li>\n<li>If you don't change model value dynamically. Then you need not to make every accessor <code>@Bindable</code>. You can remove that. And also remove <code>notifyPropertyChanged()</code>. Opposite of this if you need to change model values dynamically then use <code>@Bindable</code> attribute.</li>\n</ul>\n<p>You are good to go.</p>\n<pre><code>public class BaseCalcModel extends BaseObservable {\n    private String calcResult;\n    private BaseView firstNumView;\n    private BaseView secondNumView;\n    private BaseView resultNumView;\n    private int firstNumBase;\n    private int secondNumBase;\n    private int resultNumBase;\n    private String error;\n\n    public String getCalcResult() {\n        return calcResult;\n    }\n\n    public void setCalcResult(String calcResult) {\n        this.calcResult = calcResult;\n    }\n\n    public BaseView getFirstNumView() {\n        return firstNumView;\n    }\n\n    public void setFirstNumView(BaseView firstNumView) {\n        this.firstNumView = firstNumView;\n    }\n\n    public BaseView getSecondNumView() {\n        return secondNumView;\n    }\n\n    public void setSecondNumView(BaseView secondNumView) {\n        this.secondNumView = secondNumView;\n    }\n\n    public BaseView getResultNumView() {\n        return resultNumView;\n    }\n\n    public void setResultNumView(BaseView resultNumView) {\n        this.resultNumView = resultNumView;\n    }\n\n    public int getFirstNumBase() {\n        return firstNumBase;\n    }\n\n    public void setFirstNumBase(int firstNumBase) {\n        this.firstNumBase = firstNumBase;\n    }\n\n    public int getSecondNumBase() {\n        return secondNumBase;\n    }\n\n    public void setSecondNumBase(int secondNumBase) {\n        this.secondNumBase = secondNumBase;\n    }\n\n    public int getResultNumBase() {\n        return resultNumBase;\n    }\n\n    public void setResultNumBase(int resultNumBase) {\n        this.resultNumBase = resultNumBase;\n    }\n\n    public String getError() {\n        return error;\n    }\n\n    public void setError(String error) {\n        this.error = error;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11634050,"reputation":1196,"user_id":8521094,"display_name":"Alif Hasnain"},"score":1,"creation_date":1580896087,"post_id":52602811,"comment_id":106245120,"body_markdown":"is this the optimal solution?","body":"is this the optimal solution?"},{"owner":{"account_id":3300281,"reputation":1823,"user_id":2776623,"display_name":"oxied"},"score":3,"creation_date":1587637940,"post_id":52602811,"comment_id":108592046,"body_markdown":"`invalidateAll` works for me. `executePendingBindings` doesn&#39;t.","body":"<code>invalidateAll</code> works for me. <code>executePendingBindings</code> doesn&#39;t."},{"owner":{"account_id":5097251,"reputation":677,"user_id":4088135,"display_name":"Panos Gr"},"score":1,"creation_date":1602521513,"post_id":52602811,"comment_id":113740916,"body_markdown":"`binding?.invalidateAll()` causes weird layout problems and should be avoided. Prefer to use `LiveData` or `ObservableField`s to wrap your data and pass it into your bindings if your data needs to handle change of state.","body":"<code>binding?.invalidateAll()</code> causes weird layout problems and should be avoided. Prefer to use <code>LiveData</code> or <code>ObservableField</code>s to wrap your data and pass it into your bindings if your data needs to handle change of state."}],"tags":[],"owner":{"account_id":10183193,"reputation":867,"user_id":7519194,"display_name":"uan"},"comment_count":3,"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1538460297,"creation_date":1538460297,"answer_id":52602811,"question_id":41913818,"body_markdown":"I had a similar issue when I needed to refresh the views after an event, with my variable objects not observable, so I added this:\r\n\r\n    binding?.invalidateAll()\r\n\r\nI hope it helps.","title":"Android data binding : view does not update when property is changed","body":"<p>I had a similar issue when I needed to refresh the views after an event, with my variable objects not observable, so I added this:</p>\n\n<pre><code>binding?.invalidateAll()\n</code></pre>\n\n<p>I hope it helps.</p>\n"},{"comments":[{"owner":{"account_id":1663243,"reputation":740,"user_id":1531132,"display_name":"Serdar Samancıoğlu"},"score":2,"creation_date":1598950054,"post_id":54463611,"comment_id":112614859,"body_markdown":"For me, this was the case. Thank you!","body":"For me, this was the case. Thank you!"},{"owner":{"account_id":20413512,"reputation":333,"user_id":14976321,"display_name":"Amir"},"score":0,"creation_date":1640356239,"post_id":54463611,"comment_id":124576630,"body_markdown":"Why did something like this happen?","body":"Why did something like this happen?"}],"tags":[],"owner":{"account_id":2492943,"reputation":3111,"user_id":2170074,"display_name":"dgngulcan"},"comment_count":2,"down_vote_count":0,"up_vote_count":98,"is_accepted":false,"score":98,"last_activity_date":1592683186,"creation_date":1548947475,"answer_id":54463611,"question_id":41913818,"body_markdown":"In case you might be experiencing this issue with `LiveData`, you might&#39;ve forgotten to set lifecycle owner of your binding;\r\n`binding.setLifecycleOwner(lifecycleOwner)`","title":"Android data binding : view does not update when property is changed","body":"<p>In case you might be experiencing this issue with <code>LiveData</code>, you might've forgotten to set lifecycle owner of your binding;\n<code>binding.setLifecycleOwner(lifecycleOwner)</code></p>\n"},{"tags":[],"owner":{"account_id":1748128,"reputation":3542,"user_id":1597841,"accept_rate":64,"display_name":"nAkhmedov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579163032,"creation_date":1579163032,"answer_id":59765481,"question_id":41913818,"body_markdown":"Please make sure you are updating `the same object field` when data binding does not work on you. `The object&#39;s instance` must be the same in order to update UI. \r\nMaybe my answer helps to someone, enjoy coding!\r\n","title":"Android data binding : view does not update when property is changed","body":"<p>Please make sure you are updating <code>the same object field</code> when data binding does not work on you. <code>The object's instance</code> must be the same in order to update UI. \nMaybe my answer helps to someone, enjoy coding!</p>\n"},{"tags":[],"owner":{"account_id":3999994,"reputation":57,"user_id":3296263,"display_name":"PraZ"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1620408207,"creation_date":1620408207,"answer_id":67439299,"question_id":41913818,"body_markdown":"I had the exact same problem. Apparently it was a single line that had been causing the issue. All you have to do is set the `licycleowner` to the `binding`.\r\n\r\n```\r\nbinding.lifecycleOwner = this\r\n```","title":"Android data binding : view does not update when property is changed","body":"<p>I had the exact same problem. Apparently it was a single line that had been causing the issue. All you have to do is set the <code>licycleowner</code> to the <code>binding</code>.</p>\n<pre><code>binding.lifecycleOwner = this\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053243,"reputation":833,"user_id":1831722,"accept_rate":56,"display_name":"vesperto"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1627048796,"creation_date":1627048796,"answer_id":68500413,"question_id":41913818,"body_markdown":"In my case I was forgetting to `setContentView(binding.root)`. I&#39;m using a ResultReceiver as a subclass of my Activity class. After following the setup [documentation](https://developer.android.com/topic/libraries/data-binding) I ended up with this:\r\n\r\n```\r\nclass MyActivity : AppCompatActivity(), AdapterView.OnItemSelectedListener, ServiceConnection {\r\n\r\n    lateinit var txtV     : TextView\r\n    lateinit var binding  : MyActivityBinding\r\n    lateinit var receiver : MyResultReceiver\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = MyActivityBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)                           // &lt;--\r\n        receiver = MyResultReceiver(Handler(), binding)\r\n        ...\r\n    }\r\n\r\n    class MyResultReceiver(handler: Handler?, binding : MyActivityBinding) : ResultReceiver(handler) {\r\n        private var mBinding = binding\r\n        override fun onReceiveResult(resultCode: Int, resultData: Bundle?) {\r\n            mBinding.txtV.append(&quot;\\n${resultData?.getString(&quot;theTag&quot;)}&quot;)\r\n        }\r\n    }\r\n}\r\n```","title":"Android data binding : view does not update when property is changed","body":"<p>In my case I was forgetting to <code>setContentView(binding.root)</code>. I'm using a ResultReceiver as a subclass of my Activity class. After following the setup <a href=\"https://developer.android.com/topic/libraries/data-binding\" rel=\"nofollow noreferrer\">documentation</a> I ended up with this:</p>\n<pre><code>class MyActivity : AppCompatActivity(), AdapterView.OnItemSelectedListener, ServiceConnection {\n\n    lateinit var txtV     : TextView\n    lateinit var binding  : MyActivityBinding\n    lateinit var receiver : MyResultReceiver\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = MyActivityBinding.inflate(layoutInflater)\n        setContentView(binding.root)                           // &lt;--\n        receiver = MyResultReceiver(Handler(), binding)\n        ...\n    }\n\n    class MyResultReceiver(handler: Handler?, binding : MyActivityBinding) : ResultReceiver(handler) {\n        private var mBinding = binding\n        override fun onReceiveResult(resultCode: Int, resultData: Bundle?) {\n            mBinding.txtV.append(&quot;\\n${resultData?.getString(&quot;theTag&quot;)}&quot;)\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user5190190"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58193,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"answer_count":7,"score":53,"last_activity_date":1695898904,"creation_date":1485631085,"question_id":41913818,"body_markdown":"let me first start with showing the code: \r\n\r\nbuild.gradle (module):\r\n\r\n    android {\r\n    compileSdkVersion 24\r\n    buildToolsVersion &quot;24.0.2&quot;\r\n    dataBinding {\r\n        enabled = true\r\n    }\r\n    defaultConfig {\r\n        applicationId &quot;com.example.oryaa.basecalculator&quot;\r\n        minSdkVersion 15\r\n        targetSdkVersion 24\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n\r\n    dependencies {\r\n    compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    testCompile &#39;junit:junit:4.12&#39;\r\n    compile &#39;com.android.support:appcompat-v7:24.2.1&#39;\r\n    compile &#39;com.google.android.gms:play-services-appindexing:8.1.0&#39;\r\n\r\n\r\n\r\nactivity_main.xml:\r\n    &lt;layout&gt;\r\n\r\n    &lt;data&gt;\r\n        &lt;import type=&quot;android.view.View&quot; /&gt;\r\n        &lt;variable\r\n            name=&quot;baseCalcModel&quot;\r\n            type=&quot;com.example.oryaa.basecalculator.BaseCalcModel&quot;&gt;\r\n        &lt;/variable&gt;\r\n    &lt;/data&gt;  &lt;TextView\r\n            android:id=&quot;@+id/resultOutput&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@id/resultTextView&quot;\r\n            android:textColor=&quot;@color/DarkBlue&quot;\r\n            android:text=&quot;@{baseCalcModel.calcResult}&quot;\r\n            android:textSize=&quot;32dp&quot; /&gt;\r\n&lt;/layout&gt;\r\n\r\n\r\nMainActicity.java:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    EditText userInput = null;\r\n    TextView resultTV = null;\r\n    Spinner fromBaseSpinner = null;\r\n    Spinner toBaseSpinner = null;\r\n    ArrayList&lt;String&gt; spinnerArray = new ArrayList&lt;&gt;();\r\n    String _allowedChars = &quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n    String _onlyOnceChar = &quot;-+*/&quot;;\r\n    BaseCalcModel baseCalcModel = new BaseCalcModel();\r\n\r\n    /**\r\n     * ATTENTION: This was auto-generated to implement the App Indexing API.\r\n     * See https://g.co/AppIndexing/AndroidStudio for more information.\r\n     */\r\n    private GoogleApiClient client;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        ActivityMainBinding binding = DataBindingUtil.setContentView(this, R.layout.activity_main);\r\n        binding.setBaseCalcModel(this.baseCalcModel);\r\n        this.resultTV = (TextView) this.findViewById(R.id.resultOutput);\r\n        this.fromBaseSpinner = (Spinner) findViewById(R.id.fromBaseSpinner);\r\n        this.toBaseSpinner = (Spinner) findViewById(R.id.toBaseSpinner);\r\n        this.userInput = (EditText) findViewById(R.id.userInput);\r\n        SetupUI();\r\n        baseCalcModel.setCalcResult(&quot;test&quot;);\r\n\r\n        // ATTENTION: This was auto-generated to implement the App Indexing API.\r\n        // See https://g.co/AppIndexing/AndroidStudio for more information.\r\n        client = new GoogleApiClient.Builder(this).addApi(AppIndex.API).build();\r\n    }\r\n\r\nBaseCalcModel.java:\r\n\r\n    ublic class BaseCalcModel extends BaseObservable {\r\n\r\n\r\n    public String calcResult;\r\n    public BaseView firstNumView;\r\n    public BaseView secondNumView;\r\n    public BaseView resultNumView;\r\n    public int firstNumBase;\r\n    public int secondNumBase;\r\n    public int resultNumBase;\r\n    public String error;\r\n\r\n\r\n    @Bindable\r\n    String getCalcResult() {\r\n        return calcResult;\r\n    }\r\n\r\n    @Bindable\r\n    public BaseView getFirstNumView() {\r\n        return firstNumView;\r\n    }\r\n\r\n    @Bindable\r\n    public BaseView getSecondNumView() {\r\n        return secondNumView;\r\n    }\r\n\r\n    @Bindable\r\n    public BaseView getResultNumView() {\r\n        return this.resultNumView;\r\n    }\r\n\r\n    @Bindable\r\n    public int getFirstNumBase() {\r\n        return this.firstNumBase;\r\n    }\r\n\r\n    @Bindable\r\n    public int getSecondNumBase() {\r\n        return this.secondNumBase;\r\n    }\r\n\r\n    @Bindable\r\n    public int getResultNumBase() {\r\n        return this.resultNumBase;\r\n    }\r\n\r\n    @Bindable\r\n    public String getError() {\r\n        return this.error;\r\n    }\r\n\r\n    public void setCalcResult(String calcResult) {\r\n        this.calcResult = calcResult;\r\n        notifyPropertyChanged(com.example.oryaa.basecalculator.BR.calcResult);\r\n    }\r\n\r\n    public void setFirstNumView(BaseView firstNumView) {\r\n        this.firstNumView = firstNumView;\r\n        notifyPropertyChanged(com.example.oryaa.basecalculator.BR.firstNumView);\r\n    }\r\n\r\n    public void setSecondNumView(BaseView secondNumView) {\r\n        this.secondNumView = secondNumView;\r\n        notifyPropertyChanged(com.example.oryaa.basecalculator.BR.secondNumView);\r\n    }\r\n\r\n    public void setResultNumView(BaseView resultNumView) {\r\n        this.resultNumView = resultNumView;\r\n        notifyPropertyChanged(com.example.oryaa.basecalculator.BR.resultNumView);\r\n    }\r\n\r\n    public void setFirstNumBase(int firstNumBase) {\r\n        this.firstNumBase = firstNumBase;\r\n        notifyPropertyChanged(com.example.oryaa.basecalculator.BR.firstNumBase);\r\n    }\r\n\r\n    public void setSecondNumBase(int secondNumBase) {\r\n        this.secondNumBase = secondNumBase;\r\n        notifyPropertyChanged(com.example.oryaa.basecalculator.BR.secondNumBase);\r\n    }\r\n\r\n    public void setResultNumBase(int resultNumBase) {\r\n        this.resultNumBase = resultNumBase;\r\n        notifyPropertyChanged(com.example.oryaa.basecalculator.BR.resultNumBase);\r\n    }\r\n\r\n    public void setError(String error) {\r\n        this.error = error;\r\n        notifyPropertyChanged(com.example.oryaa.basecalculator.BR.error);\r\n    }\r\n\r\n\r\n    public BaseCalcModel() {\r\n        firstNumView = new BaseView();\r\n        secondNumView = new BaseView();\r\n        resultNumView = new BaseView();\r\n        firstNumBase = 0;\r\n        secondNumBase = 0;\r\n        resultNumBase = 0;\r\n        calcResult = &quot;&quot;;\r\n        error = &quot;&quot;;\r\n    }\r\n\r\n    public BaseCalcModel(BaseView firstNumView, BaseView secondNumView, BaseView resultNumView,\r\n                         int firstNumBase, int secondNumBase, int resultNumBase, String clcResult,\r\n                         String error) {\r\n        this.firstNumView = firstNumView;\r\n        this.secondNumView = secondNumView;\r\n        this.resultNumView = resultNumView;\r\n        this.firstNumBase = firstNumBase;\r\n        this.secondNumBase = secondNumBase;\r\n        this.resultNumBase = resultNumBase;\r\n        this.calcResult = clcResult;\r\n        this.error = error;\r\n    }\r\n\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIm trying to do simple data binding, but my view doesn&#39;t updating after the proparty is changing. \r\nas you can see in the image, my code arriving to:\r\n\r\n                notifyPropertyChanged(com.example.oryaa.basecalculator.BR.calcResult);\r\n\r\n\r\nbut the view is updating only when the app started or when I&#39;m rotating my phone for vertical to horizontal or vice versa.\r\n\r\nWhere is my problem? \r\n\r\nThanks a lot,\r\nOr Yaacov\r\n\r\n  [1]: https://i.stack.imgur.com/fFGTq.png\r\n","title":"Android data binding : view does not update when property is changed","body":"<p>let me first start with showing the code: </p>\n\n<p>build.gradle (module):</p>\n\n<pre><code>android {\ncompileSdkVersion 24\nbuildToolsVersion \"24.0.2\"\ndataBinding {\n    enabled = true\n}\ndefaultConfig {\n    applicationId \"com.example.oryaa.basecalculator\"\n    minSdkVersion 15\n    targetSdkVersion 24\n    versionCode 1\n    versionName \"1.0\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n\n\ndependencies {\ncompile fileTree(dir: 'libs', include: ['*.jar'])\ntestCompile 'junit:junit:4.12'\ncompile 'com.android.support:appcompat-v7:24.2.1'\ncompile 'com.google.android.gms:play-services-appindexing:8.1.0'\n</code></pre>\n\n<p>activity_main.xml:\n    </p>\n\n<pre><code>&lt;data&gt;\n    &lt;import type=\"android.view.View\" /&gt;\n    &lt;variable\n        name=\"baseCalcModel\"\n        type=\"com.example.oryaa.basecalculator.BaseCalcModel\"&gt;\n    &lt;/variable&gt;\n&lt;/data&gt;  &lt;TextView\n        android:id=\"@+id/resultOutput\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@id/resultTextView\"\n        android:textColor=\"@color/DarkBlue\"\n        android:text=\"@{baseCalcModel.calcResult}\"\n        android:textSize=\"32dp\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>MainActicity.java:</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nEditText userInput = null;\nTextView resultTV = null;\nSpinner fromBaseSpinner = null;\nSpinner toBaseSpinner = null;\nArrayList&lt;String&gt; spinnerArray = new ArrayList&lt;&gt;();\nString _allowedChars = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\nString _onlyOnceChar = \"-+*/\";\nBaseCalcModel baseCalcModel = new BaseCalcModel();\n\n/**\n * ATTENTION: This was auto-generated to implement the App Indexing API.\n * See https://g.co/AppIndexing/AndroidStudio for more information.\n */\nprivate GoogleApiClient client;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    ActivityMainBinding binding = DataBindingUtil.setContentView(this, R.layout.activity_main);\n    binding.setBaseCalcModel(this.baseCalcModel);\n    this.resultTV = (TextView) this.findViewById(R.id.resultOutput);\n    this.fromBaseSpinner = (Spinner) findViewById(R.id.fromBaseSpinner);\n    this.toBaseSpinner = (Spinner) findViewById(R.id.toBaseSpinner);\n    this.userInput = (EditText) findViewById(R.id.userInput);\n    SetupUI();\n    baseCalcModel.setCalcResult(\"test\");\n\n    // ATTENTION: This was auto-generated to implement the App Indexing API.\n    // See https://g.co/AppIndexing/AndroidStudio for more information.\n    client = new GoogleApiClient.Builder(this).addApi(AppIndex.API).build();\n}\n</code></pre>\n\n<p>BaseCalcModel.java:</p>\n\n<pre><code>ublic class BaseCalcModel extends BaseObservable {\n\n\npublic String calcResult;\npublic BaseView firstNumView;\npublic BaseView secondNumView;\npublic BaseView resultNumView;\npublic int firstNumBase;\npublic int secondNumBase;\npublic int resultNumBase;\npublic String error;\n\n\n@Bindable\nString getCalcResult() {\n    return calcResult;\n}\n\n@Bindable\npublic BaseView getFirstNumView() {\n    return firstNumView;\n}\n\n@Bindable\npublic BaseView getSecondNumView() {\n    return secondNumView;\n}\n\n@Bindable\npublic BaseView getResultNumView() {\n    return this.resultNumView;\n}\n\n@Bindable\npublic int getFirstNumBase() {\n    return this.firstNumBase;\n}\n\n@Bindable\npublic int getSecondNumBase() {\n    return this.secondNumBase;\n}\n\n@Bindable\npublic int getResultNumBase() {\n    return this.resultNumBase;\n}\n\n@Bindable\npublic String getError() {\n    return this.error;\n}\n\npublic void setCalcResult(String calcResult) {\n    this.calcResult = calcResult;\n    notifyPropertyChanged(com.example.oryaa.basecalculator.BR.calcResult);\n}\n\npublic void setFirstNumView(BaseView firstNumView) {\n    this.firstNumView = firstNumView;\n    notifyPropertyChanged(com.example.oryaa.basecalculator.BR.firstNumView);\n}\n\npublic void setSecondNumView(BaseView secondNumView) {\n    this.secondNumView = secondNumView;\n    notifyPropertyChanged(com.example.oryaa.basecalculator.BR.secondNumView);\n}\n\npublic void setResultNumView(BaseView resultNumView) {\n    this.resultNumView = resultNumView;\n    notifyPropertyChanged(com.example.oryaa.basecalculator.BR.resultNumView);\n}\n\npublic void setFirstNumBase(int firstNumBase) {\n    this.firstNumBase = firstNumBase;\n    notifyPropertyChanged(com.example.oryaa.basecalculator.BR.firstNumBase);\n}\n\npublic void setSecondNumBase(int secondNumBase) {\n    this.secondNumBase = secondNumBase;\n    notifyPropertyChanged(com.example.oryaa.basecalculator.BR.secondNumBase);\n}\n\npublic void setResultNumBase(int resultNumBase) {\n    this.resultNumBase = resultNumBase;\n    notifyPropertyChanged(com.example.oryaa.basecalculator.BR.resultNumBase);\n}\n\npublic void setError(String error) {\n    this.error = error;\n    notifyPropertyChanged(com.example.oryaa.basecalculator.BR.error);\n}\n\n\npublic BaseCalcModel() {\n    firstNumView = new BaseView();\n    secondNumView = new BaseView();\n    resultNumView = new BaseView();\n    firstNumBase = 0;\n    secondNumBase = 0;\n    resultNumBase = 0;\n    calcResult = \"\";\n    error = \"\";\n}\n\npublic BaseCalcModel(BaseView firstNumView, BaseView secondNumView, BaseView resultNumView,\n                     int firstNumBase, int secondNumBase, int resultNumBase, String clcResult,\n                     String error) {\n    this.firstNumView = firstNumView;\n    this.secondNumView = secondNumView;\n    this.resultNumView = resultNumView;\n    this.firstNumBase = firstNumBase;\n    this.secondNumBase = secondNumBase;\n    this.resultNumBase = resultNumBase;\n    this.calcResult = clcResult;\n    this.error = error;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/fFGTq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fFGTq.png\" alt=\"enter image description here\"></a></p>\n\n<p>Im trying to do simple data binding, but my view doesn't updating after the proparty is changing. \nas you can see in the image, my code arriving to:</p>\n\n<pre><code>            notifyPropertyChanged(com.example.oryaa.basecalculator.BR.calcResult);\n</code></pre>\n\n<p>but the view is updating only when the app started or when I'm rotating my phone for vertical to horizontal or vice versa.</p>\n\n<p>Where is my problem? </p>\n\n<p>Thanks a lot,\nOr Yaacov</p>\n"},{"tags":["java","android","xml","imageview"],"comments":[{"owner":{"account_id":402229,"reputation":94004,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1695898885,"post_id":77191584,"comment_id":136086721,"body_markdown":"Removed `android-studio` tag as that tag is for issues/problems with the Android Studio product. This question has nothing to do with the Android Studio product.","body":"Removed <code>android-studio</code> tag as that tag is for issues/problems with the Android Studio product. This question has nothing to do with the Android Studio product."}],"owner":{"account_id":23862274,"reputation":21,"user_id":17865061,"display_name":"bitu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695898882,"creation_date":1695861360,"question_id":77191584,"body_markdown":"change image view scale type and then scaled image show in another image view\r\n\r\nex -\r\n \r\nImageView imageview1 = R.id.imageview1;\r\n\r\nImageView imageview2 = R.id.imageview2;\r\n\r\n\r\nimageView.setImageBitmap(bitmapValue);\r\n\r\nimageView.setScaleType(ScaleType.CENTER_CROP);\r\n\r\n**then i want scaled image show in imageview2**\r\n\r\nimageView2.setImageBitmap(scaled image)","title":"Change image view scale type and then scaled image show in another image view","body":"<p>change image view scale type and then scaled image show in another image view</p>\n<p>ex -</p>\n<p>ImageView imageview1 = R.id.imageview1;</p>\n<p>ImageView imageview2 = R.id.imageview2;</p>\n<p>imageView.setImageBitmap(bitmapValue);</p>\n<p>imageView.setScaleType(ScaleType.CENTER_CROP);</p>\n<p><strong>then i want scaled image show in imageview2</strong></p>\n<p>imageView2.setImageBitmap(scaled image)</p>\n"},{"tags":["java","authentication","jwt","keycloak","private-key"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696036391,"post_id":77194325,"comment_id":136106893,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":28662128,"reputation":1,"user_id":21946850,"display_name":"Tech Savy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695898823,"creation_date":1695898374,"question_id":77194325,"body_markdown":"I am working on authentication using X509 certificates. I need to call an endpoint which gives me some authentication token. \r\n\r\nThe request that I need to prepare to hit the endpoint has client_assertion as one of its parameters(besides others). The client_assertion itself is JWT token(with parameters like iss, aud, sub, iat, jti, etc) that I can prepare with JSON creation in java using some library and then encoding JSON object with the private key of the certificate using RS256 algorithm. This will give me a JWT token that I can use as client_assertion in the request body needed to hit the endpoint\r\n\r\nWith some research I came to know that this form of authentication is known as Private key JWT authentication wherein you have to prepare a client_assertion(a JWT token using some parameters) and then use this client_assertion JWT token to invoke another endpoint which gives you authentication token.\r\n\r\nHowever to set this up in my local system, I need to get an endpoint that I can call to get authentication token. With some research, I came to know that Keycloak does have this functionality. However I couldn&#39;t figure out how to setup Keycloak for this i.e. what parameters need to be set and where.\r\n\r\nI have gone through a lot of articles but looks like I am unable to link the dots.\r\n\r\nCan anyone point me to some good example where this setup has been demonstrated?\r\n\r\n\r\nAS an example I went through the following article but could not find the exact way\r\nhttps://wjw465150.gitbooks.io/keycloak-documentation/content/securing_apps/topics/oidc/java/client-authentication.html\r\n\r\nAlso tried the link https://www.keycloak.org/docs/18.0/server_admin/#_client-credentials mentioned in this post: https://stackoverflow.com/questions/75552569/private-key-jwt-with-keycloak-and-acitve-directory-gives-a-client-assertion-fail. However, it gives 404","title":"Configure Keycloak for private key JWT authentication","body":"<p>I am working on authentication using X509 certificates. I need to call an endpoint which gives me some authentication token.</p>\n<p>The request that I need to prepare to hit the endpoint has client_assertion as one of its parameters(besides others). The client_assertion itself is JWT token(with parameters like iss, aud, sub, iat, jti, etc) that I can prepare with JSON creation in java using some library and then encoding JSON object with the private key of the certificate using RS256 algorithm. This will give me a JWT token that I can use as client_assertion in the request body needed to hit the endpoint</p>\n<p>With some research I came to know that this form of authentication is known as Private key JWT authentication wherein you have to prepare a client_assertion(a JWT token using some parameters) and then use this client_assertion JWT token to invoke another endpoint which gives you authentication token.</p>\n<p>However to set this up in my local system, I need to get an endpoint that I can call to get authentication token. With some research, I came to know that Keycloak does have this functionality. However I couldn't figure out how to setup Keycloak for this i.e. what parameters need to be set and where.</p>\n<p>I have gone through a lot of articles but looks like I am unable to link the dots.</p>\n<p>Can anyone point me to some good example where this setup has been demonstrated?</p>\n<p>AS an example I went through the following article but could not find the exact way\n<a href=\"https://wjw465150.gitbooks.io/keycloak-documentation/content/securing_apps/topics/oidc/java/client-authentication.html\" rel=\"nofollow noreferrer\">https://wjw465150.gitbooks.io/keycloak-documentation/content/securing_apps/topics/oidc/java/client-authentication.html</a></p>\n<p>Also tried the link <a href=\"https://www.keycloak.org/docs/18.0/server_admin/#_client-credentials\" rel=\"nofollow noreferrer\">https://www.keycloak.org/docs/18.0/server_admin/#_client-credentials</a> mentioned in this post: <a href=\"https://stackoverflow.com/questions/75552569/private-key-jwt-with-keycloak-and-acitve-directory-gives-a-client-assertion-fail\">Private key JWT with Keycloak and Acitve Directory gives a Client assertion failed signature validation in AD</a>. However, it gives 404</p>\n"},{"tags":["java","jsp","struts2","struts","struts2-jquery"],"comments":[{"owner":{"account_id":3785624,"reputation":7670,"user_id":3143670,"accept_rate":50,"display_name":"Neeraj Jain"},"score":0,"creation_date":1433231188,"post_id":30590061,"comment_id":49249426,"body_markdown":"**Image** don&#39;t describe actual problem but your *Code* will !","body":"<b>Image</b> don&#39;t describe actual problem but your <i>Code</i> will !"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":2,"creation_date":1433234222,"post_id":30590061,"comment_id":49251142,"body_markdown":"@NeerajJain The actual problem is in struts2-dojo-plugin, which is deprecated.","body":"@NeerajJain The actual problem is in struts2-dojo-plugin, which is deprecated."}],"answers":[{"comments":[{"owner":{"account_id":4942577,"reputation":1077,"user_id":3978904,"accept_rate":85,"display_name":"Amit Das"},"score":0,"creation_date":1433244094,"post_id":30590829,"comment_id":49257608,"body_markdown":"if i write another word which is not in list then it is removing automatically after going to next text box...any solution of this ?","body":"if i write another word which is not in list then it is removing automatically after going to next text box...any solution of this ?"},{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":0,"creation_date":1433322020,"post_id":30590829,"comment_id":49297263,"body_markdown":"Try forceValidOption=&quot;false&quot;","body":"Try forceValidOption=&quot;false&quot;"}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695898467,"creation_date":1433233083,"answer_id":30590829,"question_id":30590061,"body_markdown":"Use [`&lt;sj:autocompleter&gt;`][1] instead. \r\n\r\n\r\n&gt;The Autocompleter widget renders a HTML input or select box with. \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot;%&gt;\r\n    &lt;%@ taglib prefix=&quot;sj&quot; uri=&quot;/struts-jquery-tags&quot;%&gt;\r\n    &lt;html&gt;\r\n      &lt;head&gt;\r\n        &lt;sj:head jqueryui=&quot;true&quot;/&gt;\r\n      &lt;/head&gt;\r\n      &lt;body&gt;\r\n        &lt;sj:autocompleter\r\n                id=&quot;customers&quot;\r\n                name=&quot;echo&quot;\r\n                list=&quot;%{customers}&quot;\r\n                listValue=&quot;name&quot;\r\n                listKey=&quot;id&quot;\r\n                selectBox=&quot;true&quot;\r\n        /&gt;\r\n      &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n  [1]: https://github.com/struts-community-plugins/struts2-jquery/wiki/AutocompleterTag","title":"Struts 2 autocompleter not working as dropdown","body":"<p>Use <a href=\"https://github.com/struts-community-plugins/struts2-jquery/wiki/AutocompleterTag\" rel=\"nofollow noreferrer\"><code>&lt;sj:autocompleter&gt;</code></a> instead.</p>\n<blockquote>\n<p>The Autocompleter widget renders a HTML input or select box with.</p>\n</blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot;%&gt;\n&lt;%@ taglib prefix=&quot;sj&quot; uri=&quot;/struts-jquery-tags&quot;%&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;sj:head jqueryui=&quot;true&quot;/&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;sj:autocompleter\n            id=&quot;customers&quot;\n            name=&quot;echo&quot;\n            list=&quot;%{customers}&quot;\n            listValue=&quot;name&quot;\n            listKey=&quot;id&quot;\n            selectBox=&quot;true&quot;\n    /&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}],"owner":{"account_id":4942577,"reputation":1077,"user_id":3978904,"accept_rate":85,"display_name":"Amit Das"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":676,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":30590829,"answer_count":1,"score":0,"last_activity_date":1695898467,"creation_date":1433230508,"question_id":30590061,"body_markdown":"I have a JSP page in which I have use `sx:autocompleter`. It is working but at the time of typing in textbox, suggestions are not coming in dropdown, they are coming as completing the word. Like this \r\n\r\nWhat is the problem here ?\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/NSaW2.jpg\r\n","title":"Struts 2 autocompleter not working as dropdown","body":"<p>I have a JSP page in which I have use <code>sx:autocompleter</code>. It is working but at the time of typing in textbox, suggestions are not coming in dropdown, they are coming as completing the word. Like this </p>\n\n<p>What is the problem here ?</p>\n\n<p><img src=\"https://i.stack.imgur.com/NSaW2.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["java","jpa","intellij-idea"],"comments":[{"owner":{"account_id":1254316,"reputation":386,"user_id":1214125,"accept_rate":80,"display_name":"Simone Rondelli"},"score":0,"creation_date":1480709904,"post_id":39381504,"comment_id":69091942,"body_markdown":"The same question has been asked here: https://intellij-support.jetbrains.com/hc/en-us/community/posts/206280429-JPA-controller-genereation-howTO- You might want to vote it up to get some attention.","body":"The same question has been asked here: <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/206280429-JPA-controller-genereation-howTO-\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/community/posts/&hellip;</a> You might want to vote it up to get some attention."}],"answers":[{"tags":[],"owner":{"account_id":2360942,"reputation":2352,"user_id":2067631,"display_name":"lgu"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695897984,"creation_date":1518623125,"answer_id":48791066,"question_id":39381504,"body_markdown":"You can use the CLI (Command Line Interface) version of the **Telosys Code Generator**\r\n\r\nSee https://www.telosys.org/cli.html  and  https://doc.telosys.org/telosys-cli\r\n\r\nThis tool can be used in association with any kind of IDE (IntelliJ, NetBeans, VSCode, Atom, etc )\r\n\r\nYou just have to define where to generate the files (the &#39;destination folder&#39; in the configuration file)\r\n\r\nYou can reuse existing templates (you can also create your own templates if necessary)\r\n\r\n\r\n","title":"IntelliJ and JPA Controller Class","body":"<p>You can use the CLI (Command Line Interface) version of the <strong>Telosys Code Generator</strong></p>\n<p>See <a href=\"https://www.telosys.org/cli.html\" rel=\"nofollow noreferrer\">https://www.telosys.org/cli.html</a>  and  <a href=\"https://doc.telosys.org/telosys-cli\" rel=\"nofollow noreferrer\">https://doc.telosys.org/telosys-cli</a></p>\n<p>This tool can be used in association with any kind of IDE (IntelliJ, NetBeans, VSCode, Atom, etc )</p>\n<p>You just have to define where to generate the files (the 'destination folder' in the configuration file)</p>\n<p>You can reuse existing templates (you can also create your own templates if necessary)</p>\n"}],"owner":{"display_name":"user2849738"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":754,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695897984,"creation_date":1473300234,"question_id":39381504,"body_markdown":"IntelliJ has a built in JPA Class generator but it only generates entities.\r\n\r\nDoes it have a generator for entity controller class like in NetBeans and Eclipse&#39;s TeloSys Tools ?","title":"IntelliJ and JPA Controller Class","body":"<p>IntelliJ has a built in JPA Class generator but it only generates entities.</p>\n\n<p>Does it have a generator for entity controller class like in NetBeans and Eclipse's TeloSys Tools ?</p>\n"},{"tags":["java","spring-boot","matlab","maven","classpath"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695112469,"post_id":77132887,"comment_id":135977161,"body_markdown":"Can you share the github link to the project ?  it will be more time safer and i will give an answer.","body":"Can you share the github link to the project ?  it will be more time safer and i will give an answer."},{"owner":{"account_id":29134129,"reputation":33,"user_id":22318687,"display_name":"RYldz"},"score":0,"creation_date":1695112821,"post_id":77132887,"comment_id":135977227,"body_markdown":"I&#39;m really sorry but I can not share the project due to privacy. If you recommend something, I can try it.","body":"I&#39;m really sorry but I can not share the project due to privacy. If you recommend something, I can try it."},{"owner":{"account_id":29214968,"reputation":186,"user_id":22381995,"display_name":"cant-code"},"score":1,"creation_date":1695113138,"post_id":77132887,"comment_id":135977289,"body_markdown":"So seeing as you ran javac, I guess you are a beginner. You basically use build tools to package and compile your code. Maven is one such build tool, gradle is another. You basically want to run mvn clean package to create a jar file for your project, or mvnw clean install if you dont have maven on your system and are dependent on the bundled maven from spring starter.\n\nReference for maven for you to go through: https://www.baeldung.com/maven","body":"So seeing as you ran javac, I guess you are a beginner. You basically use build tools to package and compile your code. Maven is one such build tool, gradle is another. You basically want to run mvn clean package to create a jar file for your project, or mvnw clean install if you dont have maven on your system and are dependent on the bundled maven from spring starter.  Reference for maven for you to go through: <a href=\"https://www.baeldung.com/maven\" rel=\"nofollow noreferrer\">baeldung.com/maven</a>"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695113594,"post_id":77132887,"comment_id":135977398,"body_markdown":"if you will execute `mvn clean install` , will it help you to solve the problem ?","body":"if you will execute <code>mvn clean install</code> , will it help you to solve the problem ?"},{"owner":{"account_id":29134129,"reputation":33,"user_id":22318687,"display_name":"RYldz"},"score":0,"creation_date":1695113618,"post_id":77132887,"comment_id":135977403,"body_markdown":"Yes, I am a beginner.  For being more clear i tried to follow this steps: [link](https://dev.to/rohitk570/create-an-executable-jar-file-on-vs-code-n-command-line-154b). But I couldn&#39;t create .class files with javac.","body":"Yes, I am a beginner.  For being more clear i tried to follow this steps: <a href=\"https://dev.to/rohitk570/create-an-executable-jar-file-on-vs-code-n-command-line-154b\" rel=\"nofollow noreferrer\">link</a>. But I couldn&#39;t create .class files with javac."},{"owner":{"account_id":29134129,"reputation":33,"user_id":22318687,"display_name":"RYldz"},"score":0,"creation_date":1695113648,"post_id":77132887,"comment_id":135977409,"body_markdown":"@AndreiLisa i am gonna try, thank you.","body":"@AndreiLisa i am gonna try, thank you."},{"owner":{"account_id":29214968,"reputation":186,"user_id":22381995,"display_name":"cant-code"},"score":0,"creation_date":1695113905,"post_id":77132887,"comment_id":135977465,"body_markdown":"if that doesnt work, then do try `mvnw clean install`","body":"if that doesnt work, then do try <code>mvnw clean install</code>"},{"owner":{"account_id":29134129,"reputation":33,"user_id":22318687,"display_name":"RYldz"},"score":0,"creation_date":1695118426,"post_id":77132887,"comment_id":135978426,"body_markdown":"@AndreiLisa after installation i get build failure.","body":"@AndreiLisa after installation i get build failure."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695119238,"post_id":77132887,"comment_id":135978575,"body_markdown":"Can you update the question with the stack trace ?","body":"Can you update the question with the stack trace ?"},{"owner":{"account_id":29134129,"reputation":33,"user_id":22318687,"display_name":"RYldz"},"score":0,"creation_date":1695552509,"post_id":77132887,"comment_id":136037229,"body_markdown":"@AndreiLisa I got `version of MATLAB Java Package that is not compatible with the version of MCR` error after I&#39;ve checked them. I couldn&#39;t find a problem with this.","body":"@AndreiLisa I got <code>version of MATLAB Java Package that is not compatible with the version of MCR</code> error after I&#39;ve checked them. I couldn&#39;t find a problem with this."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695553150,"post_id":77132887,"comment_id":136037286,"body_markdown":"You should read the docs and so you will be able to set compatible versions of libraries","body":"You should read the docs and so you will be able to set compatible versions of libraries"},{"owner":{"account_id":29134129,"reputation":33,"user_id":22318687,"display_name":"RYldz"},"score":0,"creation_date":1695555032,"post_id":77132887,"comment_id":136037445,"body_markdown":"@AndreiLisa I&#39;ve checked for Matlab version and MCR version in the Matlab app, and they are compatible. I don&#39;t understand why I&#39;m getting this error.","body":"@AndreiLisa I&#39;ve checked for Matlab version and MCR version in the Matlab app, and they are compatible. I don&#39;t understand why I&#39;m getting this error."}],"owner":{"account_id":29134129,"reputation":33,"user_id":22318687,"display_name":"RYldz"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695897350,"creation_date":1695112249,"question_id":77132887,"body_markdown":"I&#39;ve created a Spring Boot Java project and I use Matlab (9.4.0.949201 (R2018a) Update 6, Java 1.8.0_144-b01). After finding the true version for the project (before this I got the &quot;version of MATLAB Java Package that is not compatible with the version of MCR&quot; error, to solve this problem I&#39;ve changed my version of Matlab. R2023a -&gt; R2018a). After changing the version of Matlab, some errors were fixed. However, I got this error right now.\r\n\r\n    Warning: classpath.txt in the startup directory no longer supported. See &lt;a href=&quot;matlab: helpview([docroot &#39;/techdoc/matlab_external/matlab_external.map&#39;],&#39;java_static_path&#39;)&quot;&gt;The Static Path&lt;/a&gt;.\r\n\r\nThis is pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.1.8.RELEASE&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo1&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;demo1&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;start-class&gt;peridynamics.demoApp&lt;/start-class&gt;\r\n       &lt;cholSolver.path&gt;C:\\Users\\user\\Desktop\\PDTO\\pdtopolys\\cholSolver.jar&lt;/cholSolver.path&gt;\r\n        &lt;javabuilder.path&gt;C:\\Program Files\\MATLAB\\R2018a\\toolbox\\javabuilder\\jar\\javabuilder.jar&lt;/javabuilder.path&gt;     \r\n         \r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.googlecode.matrix-toolkits-java&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mtj&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n       &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.0&lt;/version&gt; \r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.0&lt;/version&gt; \r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n     &lt;/dependency&gt;    \r\n   \r\n    &lt;!-- Replace hard-coded paths with variables   --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;peridynamics&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cholSolver&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;${cholSolver.path}&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.mathworks&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javabuilder&lt;/artifactId&gt;\r\n        &lt;version&gt;R2018a&lt;/version&gt;\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;${javabuilder.path}&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;peridynamics.demoApp&lt;/mainClass&gt;\r\n                    &lt;layout&gt;JAR&lt;/layout&gt;\r\n                &lt;/configuration&gt;\r\n             \r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;      \r\n&lt;/project&gt;\r\n```\r\n\r\nHow can I solve this problem?\r\n\r\nEDIT: Before adding Spring Boot Maven, the jar file was built successfully. After that, I got this error. Should I change the Spring Boot/Maven version or something?\r\n\r\nMaven version: \r\n\r\n```\r\nApache Maven 3.9.4 (dfbb324ad4a7c8fb0bf182e6d91b0ae20e3d2dd9)\r\nMaven home: C:\\Program Files\\apache-maven-3.9.4\r\nJava version: 11.0.19, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-11\r\nDefault locale: en_US, platform encoding: Cp1252\r\nOS name: &quot;windows 11&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\n```\r\n","title":"How to fix classpath.txt in the startup directory no longer supported warning?","body":"<p>I've created a Spring Boot Java project and I use Matlab (9.4.0.949201 (R2018a) Update 6, Java 1.8.0_144-b01). After finding the true version for the project (before this I got the &quot;version of MATLAB Java Package that is not compatible with the version of MCR&quot; error, to solve this problem I've changed my version of Matlab. R2023a -&gt; R2018a). After changing the version of Matlab, some errors were fixed. However, I got this error right now.</p>\n<pre><code>Warning: classpath.txt in the startup directory no longer supported. See &lt;a href=&quot;matlab: helpview([docroot '/techdoc/matlab_external/matlab_external.map'],'java_static_path')&quot;&gt;The Static Path&lt;/a&gt;.\n</code></pre>\n<p>This is pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.1.8.RELEASE&lt;/version&gt;\n  &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo1&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo1&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;start-class&gt;peridynamics.demoApp&lt;/start-class&gt;\n       &lt;cholSolver.path&gt;C:\\Users\\user\\Desktop\\PDTO\\pdtopolys\\cholSolver.jar&lt;/cholSolver.path&gt;\n        &lt;javabuilder.path&gt;C:\\Program Files\\MATLAB\\R2018a\\toolbox\\javabuilder\\jar\\javabuilder.jar&lt;/javabuilder.path&gt;     \n         \n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.matrix-toolkits-java&lt;/groupId&gt;\n            &lt;artifactId&gt;mtj&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n       &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt; \n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt; \n        &lt;scope&gt;test&lt;/scope&gt;\n     &lt;/dependency&gt;    \n   \n    &lt;!-- Replace hard-coded paths with variables   --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;peridynamics&lt;/groupId&gt;\n        &lt;artifactId&gt;cholSolver&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${cholSolver.path}&lt;/systemPath&gt;\n    &lt;/dependency&gt;    \n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mathworks&lt;/groupId&gt;\n        &lt;artifactId&gt;javabuilder&lt;/artifactId&gt;\n        &lt;version&gt;R2018a&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${javabuilder.path}&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;peridynamics.demoApp&lt;/mainClass&gt;\n                    &lt;layout&gt;JAR&lt;/layout&gt;\n                &lt;/configuration&gt;\n             \n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;      \n&lt;/project&gt;\n</code></pre>\n<p>How can I solve this problem?</p>\n<p>EDIT: Before adding Spring Boot Maven, the jar file was built successfully. After that, I got this error. Should I change the Spring Boot/Maven version or something?</p>\n<p>Maven version:</p>\n<pre><code>Apache Maven 3.9.4 (dfbb324ad4a7c8fb0bf182e6d91b0ae20e3d2dd9)\nMaven home: C:\\Program Files\\apache-maven-3.9.4\nJava version: 11.0.19, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-11\nDefault locale: en_US, platform encoding: Cp1252\nOS name: &quot;windows 11&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n\n</code></pre>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"score":0,"creation_date":1674411717,"post_id":42947613,"comment_id":132704190,"body_markdown":"This error helped me discovered a coupling issue, and leads me to write loosely coupled code. And I&#39;d definitely not recommend bypass this using &quot;Silent&quot;.","body":"This error helped me discovered a coupling issue, and leads me to write loosely coupled code. And I&#39;d definitely not recommend bypass this using &quot;Silent&quot;."}],"answers":[{"comments":[{"owner":{"account_id":10516489,"reputation":2219,"user_id":7750440,"display_name":"VHS"},"score":0,"creation_date":1490178238,"post_id":42948000,"comment_id":72992884,"body_markdown":"Thanks for your help","body":"Thanks for your help"},{"owner":{"account_id":10516489,"reputation":2219,"user_id":7750440,"display_name":"VHS"},"score":0,"creation_date":1490178274,"post_id":42948000,"comment_id":72992906,"body_markdown":"I need both when and verify statements kindly suggest how to move further","body":"I need both when and verify statements kindly suggest how to move further"},{"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"score":2,"creation_date":1490178563,"post_id":42948000,"comment_id":72993098,"body_markdown":"Call a function on your test class (`Service`) to see if it reacts correctly.  You didn&#39;t do that at all, so what are you testing here?","body":"Call a function on your test class (<code>Service</code>) to see if it reacts correctly.  You didn&#39;t do that at all, so what are you testing here?"}],"tags":[],"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"comment_count":3,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1490176231,"creation_date":1490176231,"answer_id":42948000,"question_id":42947613,"body_markdown":"     when(dao.doSearch(dto)).thenReturn(inspectionsSummaryList);//got error in this line\r\n     verify(dao).doSearchInspections(dto);\r\n\r\nThe `when` here configures your mock to do something.  However, you donot use this mock in any way anymore after this line (apart from doing a `verify`).  Mockito warns you that the `when` line therefore is pointless.  Perhaps you made a logic error?","title":"How to resolve Unneccessary Stubbing exception","body":"<pre><code> when(dao.doSearch(dto)).thenReturn(inspectionsSummaryList);//got error in this line\n verify(dao).doSearchInspections(dto);\n</code></pre>\n\n<p>The <code>when</code> here configures your mock to do something.  However, you donot use this mock in any way anymore after this line (apart from doing a <code>verify</code>).  Mockito warns you that the <code>when</code> line therefore is pointless.  Perhaps you made a logic error?</p>\n"},{"comments":[{"owner":{"account_id":8502585,"reputation":4489,"user_id":6375113,"accept_rate":100,"display_name":"Bugs"},"score":66,"creation_date":1495443969,"post_id":44108517,"comment_id":75237045,"body_markdown":"Welcome. it would be well worth updating your answer to explain _why_ they OP should replace such code. This will help them and future visitors to understand.","body":"Welcome. it would be well worth updating your answer to explain <i>why</i> they OP should replace such code. This will help them and future visitors to understand."},{"owner":{"account_id":72948,"reputation":11509,"user_id":210368,"accept_rate":74,"display_name":"fgysin"},"score":5,"creation_date":1498738335,"post_id":44108517,"comment_id":76629462,"body_markdown":"Btw, it is `@RunWith(MockitoJUnitRunner.Silent.class)` and *not* SILENT","body":"Btw, it is <code>@RunWith(MockitoJUnitRunner.Silent.class)</code> and <i>not</i> SILENT"},{"owner":{"account_id":3879192,"reputation":7671,"user_id":3212266,"accept_rate":80,"display_name":"Juan Saravia"},"score":8,"creation_date":1518742407,"post_id":44108517,"comment_id":84641142,"body_markdown":"In Kotlin: `@RunWith(MockitoJUnitRunner.Silent::class)`","body":"In Kotlin: <code>@RunWith(MockitoJUnitRunner.Silent::class)</code>"},{"owner":{"account_id":6283574,"reputation":1578,"user_id":4883694,"accept_rate":100,"display_name":"Yogesh D"},"score":22,"creation_date":1559655075,"post_id":44108517,"comment_id":99483442,"body_markdown":"Not sure why this answer keeps getting upvote without an explanation. Other answers are more meaningful and accurate.","body":"Not sure why this answer keeps getting upvote without an explanation. Other answers are more meaningful and accurate."},{"owner":{"account_id":12202984,"reputation":1026,"user_id":8906801,"display_name":"Fencer"},"score":17,"creation_date":1564058902,"post_id":44108517,"comment_id":100912178,"body_markdown":"This does not solve the problem, but simply suppress the error message and will also affect all other tests (if any) in the class.","body":"This does not solve the problem, but simply suppress the error message and will also affect all other tests (if any) in the class."},{"owner":{"account_id":7236580,"reputation":16360,"user_id":5521607,"accept_rate":25,"display_name":"Olivier Boiss&#233;"},"score":5,"creation_date":1573663412,"post_id":44108517,"comment_id":103957627,"body_markdown":"Please ignore this answer and remove the stubs that are not necessary","body":"Please ignore this answer and remove the stubs that are not necessary"},{"owner":{"account_id":3045936,"reputation":598,"user_id":2581587,"display_name":"Hans Wouters"},"score":5,"creation_date":1590404189,"post_id":44108517,"comment_id":109657725,"body_markdown":"Downvoted, since this is not a solution. You are simply hiding the issue, which is that you are mocking something, and thus are probably expecting it to be called, which isn&#39;t used.","body":"Downvoted, since this is not a solution. You are simply hiding the issue, which is that you are mocking something, and thus are probably expecting it to be called, which isn&#39;t used."},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1613376933,"post_id":44108517,"comment_id":117046183,"body_markdown":"Please stop assuming that everyone lives in the perfect world where all problems can be solved quickly, easily and correctly. Sometimes this just is the only way to go forward.","body":"Please stop assuming that everyone lives in the perfect world where all problems can be solved quickly, easily and correctly. Sometimes this just is the only way to go forward."},{"owner":{"account_id":2851979,"reputation":225,"user_id":2448986,"accept_rate":11,"display_name":"Pierre-Emmanuel Mercier"},"score":0,"creation_date":1616203754,"post_id":44108517,"comment_id":117937520,"body_markdown":"Because other answer give the meaning of this one","body":"Because other answer give the meaning of this one"},{"owner":{"account_id":17180029,"reputation":268,"user_id":12435588,"display_name":"Asghar Hosseini"},"score":0,"creation_date":1655264844,"post_id":44108517,"comment_id":128288839,"body_markdown":"My problem was solved with this answer but I did not know exactly what is being done. Please explain what is happening","body":"My problem was solved with this answer but I did not know exactly what is being done. Please explain what is happening"}],"tags":[],"owner":{"account_id":10950599,"reputation":1733,"user_id":8047085,"display_name":"Sumit"},"comment_count":10,"down_vote_count":29,"up_vote_count":179,"is_accepted":false,"score":150,"last_activity_date":1512553622,"creation_date":1495443045,"answer_id":44108517,"question_id":42947613,"body_markdown":"Replace `@RunWith(MockitoJUnitRunner.class)` with `@RunWith(MockitoJUnitRunner.Silent.class)`.\r\n","title":"How to resolve Unneccessary Stubbing exception","body":"<p>Replace <code>@RunWith(MockitoJUnitRunner.class)</code> with <code>@RunWith(MockitoJUnitRunner.Silent.class)</code>.</p>\n"},{"tags":[],"owner":{"account_id":5049338,"reputation":855,"user_id":4054389,"accept_rate":33,"display_name":"djpanda"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1500566764,"creation_date":1500566764,"answer_id":45219968,"question_id":42947613,"body_markdown":"Looking at a part of your stack trace it looks like you are stubbing the `dao.doSearch()` elsewhere. More like repeatedly creating the stubs of the same method.\r\n\r\n    Following stubbings are unnecessary (click to navigate to relevant line of code):\r\n      1. -&gt; at service.Test.testDoSearch(Test.java:72)\r\n    Please remove unnecessary stubbings or use &#39;silent&#39; option. More info: javadoc for UnnecessaryStubbingException class.\r\n\r\nConsider the below Test Class for example:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class SomeTest {\r\n        @Mock\r\n        Service1 svc1Mock1;\r\n    \r\n        @Mock\r\n        Service2 svc2Mock2;\r\n    \r\n        @InjectMock\r\n        TestClass class;\r\n    \r\n        //Assume you have many dependencies and you want to set up all the stubs \r\n        //in one place assuming that all your tests need these stubs.\r\n    \r\n        //I know that any initialization code for the test can/should be in a \r\n        //@Before method. Lets assume there is another method just to create \r\n        //your stubs.\r\n    \r\n        public void setUpRequiredStubs() {\r\n            when(svc1Mock1.someMethod(any(), any())).thenReturn(something));\r\n            when(svc2Mock2.someOtherMethod(any())).thenReturn(somethingElse);\r\n        }\r\n    \r\n        @Test\r\n        public void methodUnderTest_StateUnderTest_ExpectedBehavior() {\r\n            // You forget that you defined the stub for svcMock1.someMethod or \r\n            //thought you could redefine it. Well you cannot. That&#39;s going to be \r\n            //a problem and would throw your UnnecessaryStubbingException.\r\n           when(svc1Mock1.someMethod(any(),any())).thenReturn(anyThing);//ERROR!\r\n           setUpRequiredStubs();\r\n        }\r\n    }\r\nI would rather considering refactoring your tests to stub where necessary.","title":"How to resolve Unneccessary Stubbing exception","body":"<p>Looking at a part of your stack trace it looks like you are stubbing the <code>dao.doSearch()</code> elsewhere. More like repeatedly creating the stubs of the same method.</p>\n\n<pre><code>Following stubbings are unnecessary (click to navigate to relevant line of code):\n  1. -&gt; at service.Test.testDoSearch(Test.java:72)\nPlease remove unnecessary stubbings or use 'silent' option. More info: javadoc for UnnecessaryStubbingException class.\n</code></pre>\n\n<p>Consider the below Test Class for example:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class SomeTest {\n    @Mock\n    Service1 svc1Mock1;\n\n    @Mock\n    Service2 svc2Mock2;\n\n    @InjectMock\n    TestClass class;\n\n    //Assume you have many dependencies and you want to set up all the stubs \n    //in one place assuming that all your tests need these stubs.\n\n    //I know that any initialization code for the test can/should be in a \n    //@Before method. Lets assume there is another method just to create \n    //your stubs.\n\n    public void setUpRequiredStubs() {\n        when(svc1Mock1.someMethod(any(), any())).thenReturn(something));\n        when(svc2Mock2.someOtherMethod(any())).thenReturn(somethingElse);\n    }\n\n    @Test\n    public void methodUnderTest_StateUnderTest_ExpectedBehavior() {\n        // You forget that you defined the stub for svcMock1.someMethod or \n        //thought you could redefine it. Well you cannot. That's going to be \n        //a problem and would throw your UnnecessaryStubbingException.\n       when(svc1Mock1.someMethod(any(),any())).thenReturn(anyThing);//ERROR!\n       setUpRequiredStubs();\n    }\n}\n</code></pre>\n\n<p>I would rather considering refactoring your tests to stub where necessary.</p>\n"},{"tags":[],"owner":{"account_id":36818,"reputation":2521,"user_id":105101,"display_name":"Greg"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1520025580,"creation_date":1520025580,"answer_id":49077590,"question_id":42947613,"body_markdown":"If you&#39;re using this style instead:\r\n\r\n    @Rule\r\n    public MockitoRule rule = MockitoJUnit.rule().strictness(Strictness.STRICT_STUBS);\r\n\r\nreplace it with:\r\n\r\n    @Rule\r\n    public MockitoRule rule = MockitoJUnit.rule().silent();\r\n","title":"How to resolve Unneccessary Stubbing exception","body":"<p>If you're using this style instead:</p>\n\n<pre><code>@Rule\npublic MockitoRule rule = MockitoJUnit.rule().strictness(Strictness.STRICT_STUBS);\n</code></pre>\n\n<p>replace it with:</p>\n\n<pre><code>@Rule\npublic MockitoRule rule = MockitoJUnit.rule().silent();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":146328,"reputation":3837,"user_id":356708,"display_name":"Matt"},"score":4,"creation_date":1550583685,"post_id":49512038,"comment_id":96315401,"body_markdown":"@MockitoSettings(strictness = Strictness.LENIENT)\nis the simplest way to adjust strictness in my setup. Thanks!","body":"@MockitoSettings(strictness = Strictness.LENIENT) is the simplest way to adjust strictness in my setup. Thanks!"},{"owner":{"account_id":187950,"reputation":2035,"user_id":426371,"accept_rate":82,"display_name":"neXus"},"score":54,"creation_date":1568718639,"post_id":49512038,"comment_id":102355829,"body_markdown":"This answer provides a good overview of the possibilities. However, you can also set the lenient strictness on a case per case basis using `Mockito.lenient().when(...)`; for this particular question it would be `Mockito.lenient().when(dao.doSearch(dto)).thenReturn(inspectionsSummaryList);`","body":"This answer provides a good overview of the possibilities. However, you can also set the lenient strictness on a case per case basis using <code>Mockito.lenient().when(...)</code>; for this particular question it would be <code>Mockito.lenient().when(dao.doSearch(dto)).thenReturn(inspect&zwnj;&#8203;ionsSummaryList);</code>"},{"owner":{"account_id":4358066,"reputation":1056,"user_id":3556052,"accept_rate":75,"display_name":"miracle_the_V"},"score":0,"creation_date":1572940012,"post_id":49512038,"comment_id":103707626,"body_markdown":"Define ExtendWith in superclass and MockitoSettings in subclasses, when dealing with test hierarchies.\nHope this saves time for somebody on my expense.","body":"Define ExtendWith in superclass and MockitoSettings in subclasses, when dealing with test hierarchies. Hope this saves time for somebody on my expense."},{"owner":{"account_id":2169094,"reputation":87,"user_id":2377645,"display_name":"Ivan"},"score":3,"creation_date":1652715863,"post_id":49512038,"comment_id":127667315,"body_markdown":"Since 2.23.3 you can set lenient mock via annotation `@Mock(lenient = true)`","body":"Since 2.23.3 you can set lenient mock via annotation <code>@Mock(lenient = true)</code>"},{"owner":{"account_id":3424234,"reputation":3742,"user_id":2870572,"accept_rate":48,"display_name":"Ganesh Satpute"},"score":0,"creation_date":1668152319,"post_id":49512038,"comment_id":131340747,"body_markdown":"Thanks, this is informative. In my case, I had added the `when` part in the `beforeEach` block. That was causing the issue. So I moved all these `when` statements to respective test so that I avoided using the lenient settings.","body":"Thanks, this is informative. In my case, I had added the <code>when</code> part in the <code>beforeEach</code> block. That was causing the issue. So I moved all these <code>when</code> statements to respective test so that I avoided using the lenient settings."},{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1685694577,"post_id":49512038,"comment_id":134699813,"body_markdown":"It&#39;d be nice if you could provide the imports. For `Strictness` I see suggestions from 2 packages. `org.mockito` and `org.mockito.quality`","body":"It&#39;d be nice if you could provide the imports. For <code>Strictness</code> I see suggestions from 2 packages. <code>org.mockito</code> and <code>org.mockito.quality</code>"},{"owner":{"account_id":9852449,"reputation":348,"user_id":7298096,"display_name":"ahfx"},"score":0,"creation_date":1687204991,"post_id":49512038,"comment_id":134901390,"body_markdown":"Another scenario I ran into (similar to logic falls in wrong if/switch branch) - I had a Base class doing my test setup, including mocking methods in a @Before method. One of my derived classes was not calling the mocked method and causing this error.","body":"Another scenario I ran into (similar to logic falls in wrong if/switch branch) - I had a Base class doing my test setup, including mocking methods in a @Before method. One of my derived classes was not calling the mocked method and causing this error."}],"tags":[],"owner":{"account_id":2151720,"reputation":3826,"user_id":1907924,"accept_rate":75,"display_name":"Dcortez"},"comment_count":7,"down_vote_count":4,"up_vote_count":294,"is_accepted":false,"score":290,"last_activity_date":1633952563,"creation_date":1522151100,"answer_id":49512038,"question_id":42947613,"body_markdown":"At first you should check your test logic. Usually there are 3 cases. First, you are mocking the wrong method (you made a typo or someone changed tested code so that mocked method is no longer used). Second, your test is failing before this method is called. Third, your logic falls in wrong if/switch branch somewhere in the code so that mocked method is not called.\r\n\r\nIf this is the first case you always want to change the mocked method for the one used in the code. With the second and the third it depends. Usually you should just delete this mock if it has no use. But sometimes there are certain cases in parametrized tests, which should take this different path or fail earlier. Then you can split this test into two or more separate ones but that&#39;s not always good looking. 3 test methods with possibly 3 arguments providers can make your test look unreadable. In that case for JUnit 4 you silent this exception with either \r\n\r\n    @RunWith(MockitoJUnitRunner.Silent.class) \r\n\r\nannotation or if you are using rule approach\r\n\r\n    @Rule\r\n    public MockitoRule rule = MockitoJUnit.rule().strictness(Strictness.LENIENT);\r\n\r\nor (the same behaviour)\r\n\r\n    @Rule\r\n    public MockitoRule rule = MockitoJUnit.rule().silent();\r\n\r\nFor JUnit 5 tests you can silence this exception using this annotation provided in `mockito-junit-jupiter` package:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    @MockitoSettings(strictness = Strictness.LENIENT)\r\n    class JUnit5MockitoTest {\r\n    }\r\n","title":"How to resolve Unneccessary Stubbing exception","body":"<p>At first you should check your test logic. Usually there are 3 cases. First, you are mocking the wrong method (you made a typo or someone changed tested code so that mocked method is no longer used). Second, your test is failing before this method is called. Third, your logic falls in wrong if/switch branch somewhere in the code so that mocked method is not called.</p>\n<p>If this is the first case you always want to change the mocked method for the one used in the code. With the second and the third it depends. Usually you should just delete this mock if it has no use. But sometimes there are certain cases in parametrized tests, which should take this different path or fail earlier. Then you can split this test into two or more separate ones but that's not always good looking. 3 test methods with possibly 3 arguments providers can make your test look unreadable. In that case for JUnit 4 you silent this exception with either</p>\n<pre><code>@RunWith(MockitoJUnitRunner.Silent.class) \n</code></pre>\n<p>annotation or if you are using rule approach</p>\n<pre><code>@Rule\npublic MockitoRule rule = MockitoJUnit.rule().strictness(Strictness.LENIENT);\n</code></pre>\n<p>or (the same behaviour)</p>\n<pre><code>@Rule\npublic MockitoRule rule = MockitoJUnit.rule().silent();\n</code></pre>\n<p>For JUnit 5 tests you can silence this exception using this annotation provided in <code>mockito-junit-jupiter</code> package:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@MockitoSettings(strictness = Strictness.LENIENT)\nclass JUnit5MockitoTest {\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":207666,"reputation":351,"user_id":457659,"accept_rate":80,"display_name":"RockMeetHardplace"},"score":54,"creation_date":1551280853,"post_id":52858138,"comment_id":96584456,"body_markdown":"There are many situations where you write 8-9 tests against a similar @BeforeEach setup where the returned item from one stub is unused due to business logic on a handful of tests.  You can either (A) break it up into multiple tests and effectively copy/paste the \\@BeforeEach section minus the one item (B) Copy/paste the single line that Mockito is emo about to the 6 tests that use it and have it not in the 2 that don&#39;t or (C) Use silent.  I prefer to use silent/warn.  It&#39;s not a broken test.","body":"There are many situations where you write 8-9 tests against a similar @BeforeEach setup where the returned item from one stub is unused due to business logic on a handful of tests.  You can either (A) break it up into multiple tests and effectively copy/paste the \\@BeforeEach section minus the one item (B) Copy/paste the single line that Mockito is emo about to the 6 tests that use it and have it not in the 2 that don&#39;t or (C) Use silent.  I prefer to use silent/warn.  It&#39;s not a broken test."},{"owner":{"account_id":4329690,"reputation":11412,"user_id":3535537,"accept_rate":78,"display_name":"St&#233;phane GRILLON"},"score":1,"creation_date":1551339374,"post_id":52858138,"comment_id":96606346,"body_markdown":"@RockMeetHardplace, **Silent is not a solution**, quickly you see less copy / paste but when maintaining your tests by new people on your project this will be problematic. If the Mockito bookstore does that it&#39;s not for nothing.","body":"@RockMeetHardplace, <b>Silent is not a solution</b>, quickly you see less copy / paste but when maintaining your tests by new people on your project this will be problematic. If the Mockito bookstore does that it&#39;s not for nothing."},{"owner":{"account_id":38519,"reputation":128,"user_id":110594,"display_name":"Carighan"},"score":8,"creation_date":1557816714,"post_id":52858138,"comment_id":98881096,"body_markdown":"@sgrillon : But this system detects loads of false-positives. That is, it says something is unused, but it&#39;s clearly not, as removing the stub breaks the execution. It&#39;s not that the test code can&#39;t be improved, it&#39;s that a vital line of stubbing should *never* be detected as &quot;unnecessary&quot;. Hence the importance of being able to disable this check, it&#39;s too eager.","body":"@sgrillon : But this system detects loads of false-positives. That is, it says something is unused, but it&#39;s clearly not, as removing the stub breaks the execution. It&#39;s not that the test code can&#39;t be improved, it&#39;s that a vital line of stubbing should <i>never</i> be detected as &quot;unnecessary&quot;. Hence the importance of being able to disable this check, it&#39;s too eager."},{"owner":{"account_id":4329690,"reputation":11412,"user_id":3535537,"accept_rate":78,"display_name":"St&#233;phane GRILLON"},"score":1,"creation_date":1557828362,"post_id":52858138,"comment_id":98887131,"body_markdown":"@Carighan, if your mock is detected as incorrect, it may not be what you think. This gives you an OK test while there may be a bug.","body":"@Carighan, if your mock is detected as incorrect, it may not be what you think. This gives you an OK test while there may be a bug."},{"owner":{"account_id":38519,"reputation":128,"user_id":110594,"display_name":"Carighan"},"score":2,"creation_date":1585553519,"post_id":52858138,"comment_id":107789704,"body_markdown":"@sgrillon, sorry I never got back to you on that. It turns out that there used to be a bug with this where depending on test execution order it&#39;d generate &quot;false hits&quot;, where stubs that were used in one test but overwritten in another would trigger it. It&#39;s long fixed though, far as I can tell.","body":"@sgrillon, sorry I never got back to you on that. It turns out that there used to be a bug with this where depending on test execution order it&#39;d generate &quot;false hits&quot;, where stubs that were used in one test but overwritten in another would trigger it. It&#39;s long fixed though, far as I can tell."}],"tags":[],"owner":{"account_id":4329690,"reputation":11412,"user_id":3535537,"accept_rate":78,"display_name":"St&#233;phane GRILLON"},"comment_count":5,"down_vote_count":6,"up_vote_count":74,"is_accepted":false,"score":68,"last_activity_date":1549538849,"creation_date":1539789005,"answer_id":52858138,"question_id":42947613,"body_markdown":"**Silent is not a solution.** You need fix your mock in your test. See official documentation **[here][1]**.\r\n\r\nUnnecessary stubs are stubbed method calls that were never realized during test execution (see also MockitoHint), example:\r\n\r\n    //code under test:\r\n     ...\r\n     String result = translator.translate(&quot;one&quot;)\r\n     ...\r\n    \r\n     //test:\r\n     ...\r\n     when(translator.translate(&quot;one&quot;)).thenReturn(&quot;jeden&quot;); // &lt;- stubbing realized during code execution\r\n     when(translator.translate(&quot;two&quot;)).thenReturn(&quot;dwa&quot;); // &lt;- stubbing never realized\r\n     ...\r\n\r\nNotice that one of the stubbed methods were never realized in the code under test, during test execution. The stray stubbing might be an oversight of the developer, the artifact of copy-paste or the effect not understanding the test/code. Either way, the developer ends up with unnecessary test code. In order to keep the codebase clean &amp; maintainable it is necessary to remove unnecessary code. Otherwise tests are harder to read and reason about.\r\n\r\nTo find out more about detecting unused stubbings see MockitoHint.\r\n\r\n  [1]: https://github.com/mockito/mockito/blob/release/2.x/src/main/java/org/mockito/exceptions/misusing/UnnecessaryStubbingException.java","title":"How to resolve Unneccessary Stubbing exception","body":"<p><strong>Silent is not a solution.</strong> You need fix your mock in your test. See official documentation <strong><a href=\"https://github.com/mockito/mockito/blob/release/2.x/src/main/java/org/mockito/exceptions/misusing/UnnecessaryStubbingException.java\" rel=\"noreferrer\">here</a></strong>.</p>\n\n<p>Unnecessary stubs are stubbed method calls that were never realized during test execution (see also MockitoHint), example:</p>\n\n<pre><code>//code under test:\n ...\n String result = translator.translate(\"one\")\n ...\n\n //test:\n ...\n when(translator.translate(\"one\")).thenReturn(\"jeden\"); // &lt;- stubbing realized during code execution\n when(translator.translate(\"two\")).thenReturn(\"dwa\"); // &lt;- stubbing never realized\n ...\n</code></pre>\n\n<p>Notice that one of the stubbed methods were never realized in the code under test, during test execution. The stray stubbing might be an oversight of the developer, the artifact of copy-paste or the effect not understanding the test/code. Either way, the developer ends up with unnecessary test code. In order to keep the codebase clean &amp; maintainable it is necessary to remove unnecessary code. Otherwise tests are harder to read and reason about.</p>\n\n<p>To find out more about detecting unused stubbings see MockitoHint.</p>\n"},{"comments":[{"owner":{"account_id":7666086,"reputation":2052,"user_id":5809767,"display_name":"Priyesh Diukar"},"score":22,"creation_date":1573709842,"post_id":54570764,"comment_id":103972989,"body_markdown":"IMHO. This is the most usefule answer here i found instead on silencing the whole test class.","body":"IMHO. This is the most usefule answer here i found instead on silencing the whole test class."},{"owner":{"account_id":3045936,"reputation":598,"user_id":2581587,"display_name":"Hans Wouters"},"score":4,"creation_date":1590403980,"post_id":54570764,"comment_id":109657632,"body_markdown":"Since I wanted to suppress only 1 mocking, this is the best answer for me. Not really an answer for the OP though.","body":"Since I wanted to suppress only 1 mocking, this is the best answer for me. Not really an answer for the OP though."},{"owner":{"account_id":5821358,"reputation":1051,"user_id":4589334,"display_name":"Davi"},"score":0,"creation_date":1617138493,"post_id":54570764,"comment_id":118219257,"body_markdown":"I keep getting Cannot resolve method &#39;lenient&#39; in &#39;Mockito&#39;. Does anybody know why?","body":"I keep getting Cannot resolve method &#39;lenient&#39; in &#39;Mockito&#39;. Does anybody know why?"}],"tags":[],"owner":{"account_id":64961,"reputation":3691,"user_id":191466,"accept_rate":83,"display_name":"philonous"},"comment_count":3,"down_vote_count":1,"up_vote_count":102,"is_accepted":false,"score":101,"last_activity_date":1549533831,"creation_date":1549533831,"answer_id":54570764,"question_id":42947613,"body_markdown":"For me neither the `@Rule` nor the `@RunWith(MockitoJUnitRunner.Silent.class)` suggestions worked. It was a legacy project where we upgraded to mockito-core 2.23.0. \r\n\r\nWe could get rid of the `UnnecessaryStubbingException` by using: \r\n\r\n    Mockito.lenient().when(mockedService.getUserById(any())).thenReturn(new User());\r\n\r\ninstead of: \r\n\r\n    when(mockedService.getUserById(any())).thenReturn(new User());\r\n\r\nNeedless to say that you should rather look at the test code, but we needed to get the stuff compiled and the tests running first of all ;) ","title":"How to resolve Unneccessary Stubbing exception","body":"<p>For me neither the <code>@Rule</code> nor the <code>@RunWith(MockitoJUnitRunner.Silent.class)</code> suggestions worked. It was a legacy project where we upgraded to mockito-core 2.23.0. </p>\n\n<p>We could get rid of the <code>UnnecessaryStubbingException</code> by using: </p>\n\n<pre><code>Mockito.lenient().when(mockedService.getUserById(any())).thenReturn(new User());\n</code></pre>\n\n<p>instead of: </p>\n\n<pre><code>when(mockedService.getUserById(any())).thenReturn(new User());\n</code></pre>\n\n<p>Needless to say that you should rather look at the test code, but we needed to get the stuff compiled and the tests running first of all ;) </p>\n"},{"tags":[],"owner":{"account_id":4948196,"reputation":631,"user_id":4727210,"display_name":"mohitmayank"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559586452,"creation_date":1559586452,"answer_id":56432698,"question_id":42947613,"body_markdown":"In case of a large project, it&#39;s difficult to fix each of these exceptions. At the same time, using `Silent` is not advised. I have written a script to remove all the unnecessary stubbings given a list of them.\r\n\r\nhttps://gist.github.com/cueo/da1ca49e92679ac49f808c7ef594e75b\r\n\r\nWe just need to copy-paste the `mvn` output and write the list of these exceptions using regex and let the script take care of the rest.","title":"How to resolve Unneccessary Stubbing exception","body":"<p>In case of a large project, it's difficult to fix each of these exceptions. At the same time, using <code>Silent</code> is not advised. I have written a script to remove all the unnecessary stubbings given a list of them.</p>\n\n<p><a href=\"https://gist.github.com/cueo/da1ca49e92679ac49f808c7ef594e75b\" rel=\"nofollow noreferrer\">https://gist.github.com/cueo/da1ca49e92679ac49f808c7ef594e75b</a></p>\n\n<p>We just need to copy-paste the <code>mvn</code> output and write the list of these exceptions using regex and let the script take care of the rest.</p>\n"},{"tags":[],"owner":{"account_id":2283646,"reputation":11117,"user_id":2008247,"accept_rate":77,"display_name":"Jan Bodnar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565187897,"creation_date":1565187897,"answer_id":57396651,"question_id":42947613,"body_markdown":"I had `UnnecessaryStubbingException` when I tried to use the `when` methods on a Spy object. \r\n`Mockito.lenient()` silenced the exception but the test results were not correct.\r\n\r\nIn case of Spy objects, one has to call the methods directly.\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    @RunWith(JUnitPlatform.class)\r\n    class ArithmTest {\r\n    \r\n        @Spy\r\n        private Arithm arithm;\r\n    \r\n        @Test\r\n        void testAddition() {\r\n    \r\n            int res = arithm.add(2, 5);\r\n    \r\n            // doReturn(7).when(arithm).add(2, 5);\r\n            assertEquals(res, 7);\r\n        }\r\n    }","title":"How to resolve Unneccessary Stubbing exception","body":"<p>I had <code>UnnecessaryStubbingException</code> when I tried to use the <code>when</code> methods on a Spy object. \n<code>Mockito.lenient()</code> silenced the exception but the test results were not correct.</p>\n\n<p>In case of Spy objects, one has to call the methods directly.</p>\n\n<pre><code>@ExtendWith(MockitoExtension.class)\n@RunWith(JUnitPlatform.class)\nclass ArithmTest {\n\n    @Spy\n    private Arithm arithm;\n\n    @Test\n    void testAddition() {\n\n        int res = arithm.add(2, 5);\n\n        // doReturn(7).when(arithm).add(2, 5);\n        assertEquals(res, 7);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5717927,"reputation":10607,"user_id":4517450,"display_name":"vikas kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1567589823,"creation_date":1567589823,"answer_id":57785586,"question_id":42947613,"body_markdown":"Well, In my case Mockito error was telling me to call the actual method after the `when` or `whenever` stub. Since we were not invoking the conditions that we just mocked, Mockito was reporting that as unnecessary stubs or code.\r\n\r\nHere is what it was like when the error was coming :\r\n\r\n    @Test\r\n    fun `should return error when item list is empty for getStockAvailability`() {\r\n        doAnswer(\r\n            Answer&lt;Void&gt; { invocation -&gt;\r\n                val callback =\r\n                    invocation.arguments[1] as GetStockApiCallback&lt;StockResultViewState.Idle, StockResultViewState.Error&gt;\r\n                callback.onApiCallError(stockResultViewStateError)\r\n                null\r\n            }\r\n        ).whenever(stockViewModelTest)\r\n            .getStockAvailability(listOf(), getStocksApiCallBack)\r\n    }\r\n\r\nthen I just called the actual method mentioned in when statement to mock the method.\r\n\r\nchanges done is as below\r\n`stockViewModelTest.getStockAvailability(listOf(), getStocksApiCallBack)`\r\n\r\n    @Test\r\n    fun `should return error when item list is empty for getStockAvailability`() {\r\n        doAnswer(\r\n            Answer&lt;Void&gt; { invocation -&gt;\r\n                val callback =\r\n                    invocation.arguments[1] as GetStockApiCallback&lt;StockResultViewState.Idle, StockResultViewState.Error&gt;\r\n                callback.onApiCallError(stockResultViewStateError)\r\n                null\r\n            }\r\n        ).whenever(stockViewModelTest)\r\n            .getStockAvailability(listOf(), getStocksApiCallBack)\r\n        //called the actual method here\r\n        stockViewModelTest.getStockAvailability(listOf(), getStocksApiCallBack)\r\n    }\r\n\r\n it&#39;s working now. ","title":"How to resolve Unneccessary Stubbing exception","body":"<p>Well, In my case Mockito error was telling me to call the actual method after the <code>when</code> or <code>whenever</code> stub. Since we were not invoking the conditions that we just mocked, Mockito was reporting that as unnecessary stubs or code.</p>\n\n<p>Here is what it was like when the error was coming :</p>\n\n<pre><code>@Test\nfun `should return error when item list is empty for getStockAvailability`() {\n    doAnswer(\n        Answer&lt;Void&gt; { invocation -&gt;\n            val callback =\n                invocation.arguments[1] as GetStockApiCallback&lt;StockResultViewState.Idle, StockResultViewState.Error&gt;\n            callback.onApiCallError(stockResultViewStateError)\n            null\n        }\n    ).whenever(stockViewModelTest)\n        .getStockAvailability(listOf(), getStocksApiCallBack)\n}\n</code></pre>\n\n<p>then I just called the actual method mentioned in when statement to mock the method.</p>\n\n<p>changes done is as below\n<code>stockViewModelTest.getStockAvailability(listOf(), getStocksApiCallBack)</code></p>\n\n<pre><code>@Test\nfun `should return error when item list is empty for getStockAvailability`() {\n    doAnswer(\n        Answer&lt;Void&gt; { invocation -&gt;\n            val callback =\n                invocation.arguments[1] as GetStockApiCallback&lt;StockResultViewState.Idle, StockResultViewState.Error&gt;\n            callback.onApiCallError(stockResultViewStateError)\n            null\n        }\n    ).whenever(stockViewModelTest)\n        .getStockAvailability(listOf(), getStocksApiCallBack)\n    //called the actual method here\n    stockViewModelTest.getStockAvailability(listOf(), getStocksApiCallBack)\n}\n</code></pre>\n\n<p>it's working now. </p>\n"},{"comments":[{"owner":{"account_id":238697,"reputation":1454,"user_id":507761,"accept_rate":100,"display_name":"Matthew Read"},"score":0,"creation_date":1598474098,"post_id":60544022,"comment_id":112474648,"body_markdown":"This is simply false.  `any()` works perfectly with the ordinary runner when used correctly.","body":"This is simply false.  <code>any()</code> works perfectly with the ordinary runner when used correctly."}],"tags":[],"owner":{"account_id":11621061,"reputation":20,"user_id":8512354,"display_name":"Abdou ASSOUMANE"},"comment_count":1,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1601585533,"creation_date":1583406545,"answer_id":60544022,"question_id":42947613,"body_markdown":"If you use any() when mocking,  you have to relpace ``@RunWith(MockitoJUnitRunner.class)`` with\r\n``@RunWith(MockitoJUnitRunner.Silent.class)``.\r\n\r\n","title":"How to resolve Unneccessary Stubbing exception","body":"<p>If you use any() when mocking,  you have to relpace <code>@RunWith(MockitoJUnitRunner.class)</code> with\n<code>@RunWith(MockitoJUnitRunner.Silent.class)</code>.</p>\n"},{"comments":[{"owner":{"account_id":10280068,"reputation":257,"user_id":7585566,"display_name":"Deepak Chandh"},"score":0,"creation_date":1680178698,"post_id":60862586,"comment_id":133856061,"body_markdown":"@RunWith(MockitoJUnitRunner.Silent.class) helps","body":"@RunWith(MockitoJUnitRunner.Silent.class) helps"}],"tags":[],"owner":{"account_id":18059693,"reputation":593,"user_id":13127098,"display_name":"Nakul Goyal"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1585208346,"creation_date":1585207599,"answer_id":60862586,"question_id":42947613,"body_markdown":"**Replace** \r\n\r\n`@RunWith(MockitoJUnitRunner.class)` \r\n\r\nwith \r\n\r\n`@RunWith(MockitoJUnitRunner.Silent.class)`\r\n\r\n\r\n**or** remove `@RunWith(MockitoJUnitRunner.class)`\r\n\r\n**or** just comment out the unwanted mocking calls (shown as unauthorised stubbing).","title":"How to resolve Unneccessary Stubbing exception","body":"<p><strong>Replace</strong> </p>\n\n<p><code>@RunWith(MockitoJUnitRunner.class)</code> </p>\n\n<p>with </p>\n\n<p><code>@RunWith(MockitoJUnitRunner.Silent.class)</code></p>\n\n<p><strong>or</strong> remove <code>@RunWith(MockitoJUnitRunner.class)</code></p>\n\n<p><strong>or</strong> just comment out the unwanted mocking calls (shown as unauthorised stubbing).</p>\n"},{"tags":[],"owner":{"account_id":1384921,"reputation":1573,"user_id":1317155,"accept_rate":88,"display_name":"Hein Bl&#246;d"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1606474513,"creation_date":1606474513,"answer_id":65036142,"question_id":42947613,"body_markdown":"This was already pointed out in [this comment](https://stackoverflow.com/questions/42947613/how-to-resolve-unneccessary-stubbing-exception/42948000#comment96584456_52858138), but I think that&#39;s too easy to overlook: You may run into an `UnnecessaryStubbingException` if you simply convert a JUnit 4 test class to a JUnit 5 test class by replacing an existing `@Before` with `@BeforeEach`, and if you perform some stubbing in that setup method that is not realized by _at least one_ of the test cases.\r\n\r\n[This Mockito thread](https://github.com/mockito/mockito/issues/1540) has more information on that, basically there is a subtle difference in the test execution between `@Before` and `@BeforeEach`. With `@Before`, it was sufficient if _any_ test case realized the stubbings, with `@BeforeEach`, _all_ cases would have to.\r\n\r\nIf you don&#39;t want to break up the setup of `@BeforeEach` into many small bits (as the comment cited above rightly points out), there&#39;s another option still instead of activating the lenient mode for the whole test class: you can merely make those stubbings in the `@BeforeEach` method lenient individually using `lenient()`.\r\n\r\n","title":"How to resolve Unneccessary Stubbing exception","body":"<p>This was already pointed out in <a href=\"https://stackoverflow.com/questions/42947613/how-to-resolve-unneccessary-stubbing-exception/42948000#comment96584456_52858138\">this comment</a>, but I think that's too easy to overlook: You may run into an <code>UnnecessaryStubbingException</code> if you simply convert a JUnit 4 test class to a JUnit 5 test class by replacing an existing <code>@Before</code> with <code>@BeforeEach</code>, and if you perform some stubbing in that setup method that is not realized by <em>at least one</em> of the test cases.</p>\n<p><a href=\"https://github.com/mockito/mockito/issues/1540\" rel=\"noreferrer\">This Mockito thread</a> has more information on that, basically there is a subtle difference in the test execution between <code>@Before</code> and <code>@BeforeEach</code>. With <code>@Before</code>, it was sufficient if <em>any</em> test case realized the stubbings, with <code>@BeforeEach</code>, <em>all</em> cases would have to.</p>\n<p>If you don't want to break up the setup of <code>@BeforeEach</code> into many small bits (as the comment cited above rightly points out), there's another option still instead of activating the lenient mode for the whole test class: you can merely make those stubbings in the <code>@BeforeEach</code> method lenient individually using <code>lenient()</code>.</p>\n"},{"comments":[{"owner":{"account_id":6963422,"reputation":370,"user_id":5342220,"display_name":"L.T"},"score":2,"creation_date":1644219989,"post_id":65682102,"comment_id":125537458,"body_markdown":"I like this approach. One thing though, I think the method is `reset(myMock)`, not `myMock.reset()`","body":"I like this approach. One thing though, I think the method is <code>reset(myMock)</code>, not <code>myMock.reset()</code>"}],"tags":[],"owner":{"account_id":363966,"reputation":823,"user_id":708036,"accept_rate":67,"display_name":"qben"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1610447303,"creation_date":1610447303,"answer_id":65682102,"question_id":42947613,"body_markdown":"As others pointed out it is _usually_ the simplest to remove the line that is unnecessarily stubbing a method call.\r\n\r\nIn my case it was in a `@BeforeEach` and it was relevant most of the time. In the only test where that method was not used I reset the mock, e.g.:\r\n```\r\nmyMock.reset()\r\n```\r\n\r\nHope this helps others with the same problem.\r\n\r\n(Note that if there are multiple mocked calls on the same mock this could be inconvenient as well since you&#39;ll have to mock all the other methods except the one that isn&#39;t called.)","title":"How to resolve Unneccessary Stubbing exception","body":"<p>As others pointed out it is <em>usually</em> the simplest to remove the line that is unnecessarily stubbing a method call.</p>\n<p>In my case it was in a <code>@BeforeEach</code> and it was relevant most of the time. In the only test where that method was not used I reset the mock, e.g.:</p>\n<pre><code>myMock.reset()\n</code></pre>\n<p>Hope this helps others with the same problem.</p>\n<p>(Note that if there are multiple mocked calls on the same mock this could be inconvenient as well since you'll have to mock all the other methods except the one that isn't called.)</p>\n"},{"tags":[],"owner":{"account_id":19708732,"reputation":41,"user_id":14429770,"display_name":"Shubham Jaiswal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695896610,"creation_date":1695896610,"answer_id":77194125,"question_id":42947613,"body_markdown":"Solution which worked for me is :\r\n\r\nI was doing multiple mockings which was required for the method I was testing, but it turned out that one of the mocks was never getting used. (as it was with my second condition within &quot;OR&quot; if statement and first condition was already true)\r\n\r\nI just removed this additional mock which looks like below, and build is successful to me.\r\n\r\nwhen().thenReturn();  ","title":"How to resolve Unneccessary Stubbing exception","body":"<p>Solution which worked for me is :</p>\n<p>I was doing multiple mockings which was required for the method I was testing, but it turned out that one of the mocks was never getting used. (as it was with my second condition within &quot;OR&quot; if statement and first condition was already true)</p>\n<p>I just removed this additional mock which looks like below, and build is successful to me.</p>\n<p>when().thenReturn();</p>\n"}],"owner":{"account_id":10516489,"reputation":2219,"user_id":7750440,"display_name":"VHS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351402,"favorite_count":0,"down_vote_count":1,"up_vote_count":222,"answer_count":15,"score":221,"last_activity_date":1695896610,"creation_date":1490175349,"question_id":42947613,"body_markdown":"My Code is as below, \r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class MyClass {\r\n    \t\r\n    \tprivate static final String code =&quot;Test&quot;;\r\n    \r\n    \t@Mock\r\n    \t private MyClassDAO dao;\r\n    \t \r\n    \t@InjectMocks\r\n    \t private MyClassService Service = new MyClassServiceImpl();\r\n    \t \r\n    \t@Test\r\n    \t public void testDoSearch() throws Exception {\r\n    \t\t final String METHOD_NAME = logger.getName().concat(&quot;.testDoSearchEcRcfInspections()&quot;);\r\n    \t\t CriteriaDTO dto = new CriteriaDTO();\r\n    \t\t dto.setCode(code);\r\n    \t\t inspectionService.searchEcRcfInspections(dto);\r\n    \t\t List&lt;SearchCriteriaDTO&gt; summaryList = new ArrayList&lt;SearchCriteriaDTO&gt;();\r\n    \t\t inspectionsSummaryList.add(dto);\r\n    \t\t when(dao.doSearch(dto)).thenReturn(inspectionsSummaryList);//got error in this line\r\n    \t\t verify(dao).doSearchInspections(dto);\r\n    \t\t\r\n    \t  }\r\n    }\r\n\r\nI am getting below exception\r\n\r\n&gt;     org.mockito.exceptions.misusing.UnnecessaryStubbingException: \r\n&gt;     Unnecessary stubbings detected in test class: Test\r\n&gt;     Clean &amp; maintainable test code requires zero unnecessary code.\r\n&gt;     Following stubbings are unnecessary (click to navigate to relevant line of code):\r\n&gt;       1. -&gt; at service.Test.testDoSearch(Test.java:72)\r\n&gt;     Please remove unnecessary stubbings or use &#39;silent&#39; option. More info: javadoc for UnnecessaryStubbingException class.\r\n&gt;     \tat org.mockito.internal.exceptions.Reporter.formatUnncessaryStubbingException(Reporter.java:838)\r\n&gt;     \tat org.mockito.internal.junit.UnnecessaryStubbingsReporter.validateUnusedStubs(UnnecessaryStubbingsReporter.java:34)\r\n&gt;     \tat org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:49)\r\n&gt;     \tat org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:103)\r\n&gt;     \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\r\n&gt;     \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n&gt;     \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\r\n&gt;     \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\r\n&gt;     \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\r\n&gt;     \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\r\n\r\nPlease help me how to resolve\r\n\r\n\r\n","title":"How to resolve Unneccessary Stubbing exception","body":"<p>My Code is as below, </p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class MyClass {\n\n    private static final String code =\"Test\";\n\n    @Mock\n     private MyClassDAO dao;\n\n    @InjectMocks\n     private MyClassService Service = new MyClassServiceImpl();\n\n    @Test\n     public void testDoSearch() throws Exception {\n         final String METHOD_NAME = logger.getName().concat(\".testDoSearchEcRcfInspections()\");\n         CriteriaDTO dto = new CriteriaDTO();\n         dto.setCode(code);\n         inspectionService.searchEcRcfInspections(dto);\n         List&lt;SearchCriteriaDTO&gt; summaryList = new ArrayList&lt;SearchCriteriaDTO&gt;();\n         inspectionsSummaryList.add(dto);\n         when(dao.doSearch(dto)).thenReturn(inspectionsSummaryList);//got error in this line\n         verify(dao).doSearchInspections(dto);\n\n      }\n}\n</code></pre>\n\n<p>I am getting below exception</p>\n\n<blockquote>\n<pre><code>org.mockito.exceptions.misusing.UnnecessaryStubbingException: \nUnnecessary stubbings detected in test class: Test\nClean &amp; maintainable test code requires zero unnecessary code.\nFollowing stubbings are unnecessary (click to navigate to relevant line of code):\n  1. -&gt; at service.Test.testDoSearch(Test.java:72)\nPlease remove unnecessary stubbings or use 'silent' option. More info: javadoc for UnnecessaryStubbingException class.\n  at org.mockito.internal.exceptions.Reporter.formatUnncessaryStubbingException(Reporter.java:838)\n  at org.mockito.internal.junit.UnnecessaryStubbingsReporter.validateUnusedStubs(UnnecessaryStubbingsReporter.java:34)\n  at org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:49)\n  at org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:103)\n  at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\n  at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n  at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\n  at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\n  at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\n  at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\n</code></pre>\n</blockquote>\n\n<p>Please help me how to resolve</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1695916217,"post_id":77194009,"comment_id":136090577,"body_markdown":"You can bind the execute maven plugin or the spring-boot:run in another module to be bound to a different phase... please show the full example of your project setup...","body":"You can bind the execute maven plugin or the spring-boot:run in another module to be bound to a different phase... please show the full example of your project setup..."}],"owner":{"account_id":101780,"reputation":2397,"user_id":273593,"accept_rate":38,"display_name":"Vito De Tullio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695895535,"creation_date":1695895535,"question_id":77194009,"body_markdown":"I have a maven multi module project, where one of the modules is a (spring based) commandline tool that generate the source code for the other modules.\r\n\r\nmaven root\r\n  * project A\r\n  * project B\r\n  * project Tool\r\n\r\nin project A and B I have some `/src/gen/java` folders whose content is filled by running `mvn spring-boot:run` of the project Tool.\r\n\r\nIt&#39;s possible to teach maven to bind the execution of project tool during the `generate-sources` of project A and B?\r\n","title":"execute maven run on a module during another module phase","body":"<p>I have a maven multi module project, where one of the modules is a (spring based) commandline tool that generate the source code for the other modules.</p>\n<p>maven root</p>\n<ul>\n<li>project A</li>\n<li>project B</li>\n<li>project Tool</li>\n</ul>\n<p>in project A and B I have some <code>/src/gen/java</code> folders whose content is filled by running <code>mvn spring-boot:run</code> of the project Tool.</p>\n<p>It's possible to teach maven to bind the execution of project tool during the <code>generate-sources</code> of project A and B?</p>\n"},{"tags":["java","spring","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":26679338,"reputation":13,"user_id":20289518,"display_name":"CAF"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695895397,"creation_date":1695895397,"answer_id":77193993,"question_id":77096945,"body_markdown":"The indexName field can actually be an alias. It works !","title":"Can I use index alias on &quot;indexName&quot; used for @Document annotation?","body":"<p>The indexName field can actually be an alias. It works !</p>\n"}],"owner":{"account_id":26679338,"reputation":13,"user_id":20289518,"display_name":"CAF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695895397,"creation_date":1694606877,"question_id":77096945,"body_markdown":"On a project we use elasticsearch and from time to time we need to change indexes during switchovers. We would like this to have minimal impact on Java code that uses this index.\r\n\r\n\r\nCurrently we have this kind of code:\r\n```\r\n@Document(indexName=&quot;someIndex&quot;, ...)\r\npublic class SomeClass\r\n```\r\n\r\nMy questions are:\r\n- IndexName can refer to an alias ? (aliases which will be managed via the REST API or the Java API/IndicesAliasesRequest)\r\n- If not, can we manage it differently via Java code? Maybe by not going through @Document annotation.\r\n\r\nAt the moment I am very limited in testing, I hope for minimal impact on existing code.","title":"Can I use index alias on &quot;indexName&quot; used for @Document annotation?","body":"<p>On a project we use elasticsearch and from time to time we need to change indexes during switchovers. We would like this to have minimal impact on Java code that uses this index.</p>\n<p>Currently we have this kind of code:</p>\n<pre><code>@Document(indexName=&quot;someIndex&quot;, ...)\npublic class SomeClass\n</code></pre>\n<p>My questions are:</p>\n<ul>\n<li>IndexName can refer to an alias ? (aliases which will be managed via the REST API or the Java API/IndicesAliasesRequest)</li>\n<li>If not, can we manage it differently via Java code? Maybe by not going through @Document annotation.</li>\n</ul>\n<p>At the moment I am very limited in testing, I hope for minimal impact on existing code.</p>\n"},{"tags":["java","spring-resttemplate","java-http-client"],"answers":[{"comments":[{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":0,"creation_date":1695890420,"post_id":77192709,"comment_id":136085109,"body_markdown":"even for 400/500 statuses this line -&gt; `var response = client.send(request, new JsonBodyHandler&lt;&gt;(APOD.class))` will try to convert the error response and fail..  while with `rest template` 400/500 will result in to exception which can be handled in a different way than the success response.","body":"even for 400/500 statuses this line -&gt; <code>var response = client.send(request, new JsonBodyHandler&lt;&gt;(APOD.class))</code> will try to convert the error response and fail..  while with <code>rest template</code> 400/500 will result in to exception which can be handled in a different way than the success response."}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695883628,"creation_date":1695883628,"answer_id":77192709,"question_id":77192509,"body_markdown":"Check the responses status code - that&#39;s what you are indicating anyway. But even if it is different than 200 you can still evaluate the response body.","title":"With Java HttpClient, how to handle responses other than 200 (SUCCESS)?","body":"<p>Check the responses status code - that's what you are indicating anyway. But even if it is different than 200 you can still evaluate the response body.</p>\n"},{"tags":[],"owner":{"account_id":10190067,"reputation":1,"user_id":7523797,"display_name":"Kevin Smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695893489,"creation_date":1695893489,"answer_id":77193790,"question_id":77192509,"body_markdown":"Maybe you can try new a parent class for APOD and other response class which contains error field.","title":"With Java HttpClient, how to handle responses other than 200 (SUCCESS)?","body":"<p>Maybe you can try new a parent class for APOD and other response class which contains error field.</p>\n"},{"comments":[{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":0,"creation_date":1695897524,"post_id":77193975,"comment_id":136086430,"body_markdown":"could you plz give the **code** link where the above mentioned is implemented..","body":"could you plz give the <b>code</b> link where the above mentioned is implemented.."},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1695899297,"post_id":77193975,"comment_id":136086795,"body_markdown":"It&#39;s in class HttpClient. See the source code: https://github.com/michaelgantman/Mgnt/blob/master/src/main/java/com/mgnt/lifecycle/management/httpclient/HttpClient.java","body":"It&#39;s in class HttpClient. See the source code: <a href=\"https://github.com/michaelgantman/Mgnt/blob/master/src/main/java/com/mgnt/lifecycle/management/httpclient/HttpClient.java\" rel=\"nofollow noreferrer\">github.com/michaelgantman/Mgnt/blob/master/src/main/java/com&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":0,"creation_date":1695905456,"post_id":77193975,"comment_id":136088041,"body_markdown":"Michael, thanks for the ref +1. But that code is using [HttpURLConnection](https://github.com/michaelgantman/Mgnt/blob/493f87029f1570d3f3ee7c5f4673e7f624b41921/src/main/java/com/mgnt/lifecycle/management/httpclient/HttpClient.java#L302). I am looking for the JDK `HttpClient` based code","body":"Michael, thanks for the ref +1. But that code is using <a href=\"https://github.com/michaelgantman/Mgnt/blob/493f87029f1570d3f3ee7c5f4673e7f624b41921/src/main/java/com/mgnt/lifecycle/management/httpclient/HttpClient.java#L302\" rel=\"nofollow noreferrer\">HttpURLConnection</a>. I am looking for the JDK <code>HttpClient</code> based code"},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1695908987,"post_id":77193975,"comment_id":136088894,"body_markdown":"@CodeBot You are correct but the idea should be the same","body":"@CodeBot You are correct but the idea should be the same"}],"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695895222,"creation_date":1695895222,"answer_id":77193975,"question_id":77192509,"body_markdown":"Basically you need to check the response before reading the response body. Based on the result (success or failure) you will need to handle the response differently. For success de-serialize your JSON response into your POJO, and for the error obviously you will have a different handling.\r\n\r\nIf you want to see the example you can take a look at the code of a 3d party HttpClient that I wrote. It comes as part of Open source MgntUtuls library written and maintained by me. You can look at the source code on Git [here][1] (or download the library, source code and Javadoc from [here][2]). By the way library also has a `JsonUtils` class that simplifies simple cases for serialization/de-serialization of JSON to POJO. you can take a look at [Javadoc][3] or download library as maven artifact from [here][4].\r\n\r\n\r\n  [1]: https://github.com/michaelgantman/Mgnt\r\n  [2]: https://github.com/michaelgantman/Mgnt/releases\r\n  [3]: https://michaelgantman.github.io/Mgnt/docs/\r\n  [4]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils","title":"With Java HttpClient, how to handle responses other than 200 (SUCCESS)?","body":"<p>Basically you need to check the response before reading the response body. Based on the result (success or failure) you will need to handle the response differently. For success de-serialize your JSON response into your POJO, and for the error obviously you will have a different handling.</p>\n<p>If you want to see the example you can take a look at the code of a 3d party HttpClient that I wrote. It comes as part of Open source MgntUtuls library written and maintained by me. You can look at the source code on Git <a href=\"https://github.com/michaelgantman/Mgnt\" rel=\"nofollow noreferrer\">here</a> (or download the library, source code and Javadoc from <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">here</a>). By the way library also has a <code>JsonUtils</code> class that simplifies simple cases for serialization/de-serialization of JSON to POJO. you can take a look at <a href=\"https://michaelgantman.github.io/Mgnt/docs/\" rel=\"nofollow noreferrer\">Javadoc</a> or download library as maven artifact from <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1695895222,"creation_date":1695881454,"question_id":77192509,"body_markdown":"When using rest template we can handle response statuses other than 200 based on the exception thrown by resttemplate. This [article][1] describes this in detail.\r\n\r\n    By default, the RestTemplate will throw one of these exceptions in the case of an HTTP error:\r\n    \r\n    HttpClientErrorException – in the case of HTTP status 4xx\r\n    HttpServerErrorException – in the case of HTTP status 5xx\r\n    UnknownHttpStatusCodeException – in the case of an unknown HTTP status\r\n\r\n \r\nIs a similar approach possible when using java `HttpClient`. I am using [JSONBodyHandler][2] approach to automatically serialize the response into a pojo.\r\n\r\n    // create a client\r\n    var client = HttpClient.newHttpClient();\r\n    \r\n    // create a request\r\n    var request = HttpRequest.newBuilder(\r\n           URI.create(&quot;https://api.nasa.gov/planetary/apod?api_key=DEMO_KEY&quot;))\r\n       .header(&quot;accept&quot;, &quot;application/json&quot;)\r\n       .build();\r\n    \r\n    // use the client to send the request\r\n    var response = client.send(request, new JsonBodyHandler&lt;&gt;(APOD.class));\r\n    \r\n    APOD apod = response.body().get();\r\n\r\n\r\nThe above works well when the response is 200 but it does not work when there is some server error or client error.   \r\n\r\nSay for a client error, with an incorrect api key in the request (i.e query param i.e api_key=Incorrect_KEY), \r\n`curl --location &#39;https://api.nasa.gov/planetary/apod?api_key=INCORRECT_KEY&#39;` the response from server is `403`  - \r\n\r\n    {\r\n        &quot;error&quot;: {\r\n            &quot;code&quot;: &quot;API_KEY_INVALID&quot;,\r\n            &quot;message&quot;: &quot;An invalid api_key was supplied. Get one at https://api.nasa.gov:443&quot;\r\n        }\r\n    }\r\n\r\nThe above is definitely different from `APOD.class` structure and cannot be deserialzed in to this class. I don&#39;t see any exception being thrown  by `HttpClient` and as `Jackson` tries to deserialze it throws `UnrecognizedPropertyException: Unrecognized field &quot;error&quot;` and every thing fails. The error response message: *An invalid api_key was supplied...etc*, from server is important for me so i can correct and resent the request.  \r\n\r\nHow to handle above cases of SUCCESS and ERROR responses from server using the same code flow. \r\n\r\n\r\n*(I am NOT looking at `BodyHandlers.ofString()` approach as I want to continue using the JSONBodyHandler approach.)*\r\n\r\n  [1]: https://www.baeldung.com/spring-rest-template-error-handling\r\n  [2]: https://github.com/mjg123/java-http-clients/blob/master/src/main/java/com/twilio/JsonBodyHandler.java","title":"With Java HttpClient, how to handle responses other than 200 (SUCCESS)?","body":"<p>When using rest template we can handle response statuses other than 200 based on the exception thrown by resttemplate. This <a href=\"https://www.baeldung.com/spring-rest-template-error-handling\" rel=\"nofollow noreferrer\">article</a> describes this in detail.</p>\n<pre><code>By default, the RestTemplate will throw one of these exceptions in the case of an HTTP error:\n\nHttpClientErrorException – in the case of HTTP status 4xx\nHttpServerErrorException – in the case of HTTP status 5xx\nUnknownHttpStatusCodeException – in the case of an unknown HTTP status\n</code></pre>\n<p>Is a similar approach possible when using java <code>HttpClient</code>. I am using <a href=\"https://github.com/mjg123/java-http-clients/blob/master/src/main/java/com/twilio/JsonBodyHandler.java\" rel=\"nofollow noreferrer\">JSONBodyHandler</a> approach to automatically serialize the response into a pojo.</p>\n<pre><code>// create a client\nvar client = HttpClient.newHttpClient();\n\n// create a request\nvar request = HttpRequest.newBuilder(\n       URI.create(&quot;https://api.nasa.gov/planetary/apod?api_key=DEMO_KEY&quot;))\n   .header(&quot;accept&quot;, &quot;application/json&quot;)\n   .build();\n\n// use the client to send the request\nvar response = client.send(request, new JsonBodyHandler&lt;&gt;(APOD.class));\n\nAPOD apod = response.body().get();\n</code></pre>\n<p>The above works well when the response is 200 but it does not work when there is some server error or client error.</p>\n<p>Say for a client error, with an incorrect api key in the request (i.e query param i.e api_key=Incorrect_KEY),\n<code>curl --location 'https://api.nasa.gov/planetary/apod?api_key=INCORRECT_KEY'</code> the response from server is <code>403</code>  -</p>\n<pre><code>{\n    &quot;error&quot;: {\n        &quot;code&quot;: &quot;API_KEY_INVALID&quot;,\n        &quot;message&quot;: &quot;An invalid api_key was supplied. Get one at https://api.nasa.gov:443&quot;\n    }\n}\n</code></pre>\n<p>The above is definitely different from <code>APOD.class</code> structure and cannot be deserialzed in to this class. I don't see any exception being thrown  by <code>HttpClient</code> and as <code>Jackson</code> tries to deserialze it throws <code>UnrecognizedPropertyException: Unrecognized field &quot;error&quot;</code> and every thing fails. The error response message: <em>An invalid api_key was supplied...etc</em>, from server is important for me so i can correct and resent the request.</p>\n<p>How to handle above cases of SUCCESS and ERROR responses from server using the same code flow.</p>\n<p><em>(I am NOT looking at <code>BodyHandlers.ofString()</code> approach as I want to continue using the JSONBodyHandler approach.)</em></p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":1200383,"reputation":1680,"user_id":1171170,"accept_rate":69,"display_name":"JiKra"},"score":0,"creation_date":1545393289,"post_id":53883543,"comment_id":94615060,"body_markdown":"Sadly, I can&#39;t use Conditional on name, because DefaultKeyStoreService is just default implementation and there could be others in application extension. I need to go against interface. An I cannot use non-dev profile because there could be dev environment to use standard keystore file with defined keys.","body":"Sadly, I can&#39;t use Conditional on name, because DefaultKeyStoreService is just default implementation and there could be others in application extension. I need to go against interface. An I cannot use non-dev profile because there could be dev environment to use standard keystore file with defined keys."},{"owner":{"account_id":40662,"reputation":20954,"user_id":117839,"accept_rate":74,"display_name":"Michael Wiles"},"score":0,"creation_date":1545393972,"post_id":53883543,"comment_id":94615373,"body_markdown":"why don&#39;t use hang the prod bean against the prod profile?","body":"why don&#39;t use hang the prod bean against the prod profile?"},{"owner":{"account_id":1200383,"reputation":1680,"user_id":1171170,"accept_rate":69,"display_name":"JiKra"},"score":0,"creation_date":1545394126,"post_id":53883543,"comment_id":94615444,"body_markdown":"There is no prod profile. We have many profiles combining together to be able to build specific application.","body":"There is no prod profile. We have many profiles combining together to be able to build specific application."},{"owner":{"account_id":40662,"reputation":20954,"user_id":117839,"accept_rate":74,"display_name":"Michael Wiles"},"score":0,"creation_date":1545394173,"post_id":53883543,"comment_id":94615462,"body_markdown":"But then your last resort and I think it&#39;ll definitely work is to use @Condition and then create a condition class. In this condition class you can check the bean context to see if a KeyStoreManager is available and if not, create the dev one.","body":"But then your last resort and I think it&#39;ll definitely work is to use @Condition and then create a condition class. In this condition class you can check the bean context to see if a KeyStoreManager is available and if not, create the dev one."},{"owner":{"account_id":40662,"reputation":20954,"user_id":117839,"accept_rate":74,"display_name":"Michael Wiles"},"score":0,"creation_date":1545394533,"post_id":53883543,"comment_id":94615628,"body_markdown":"sorry, I meant @Conditional","body":"sorry, I meant @Conditional"}],"tags":[],"owner":{"account_id":40662,"reputation":20954,"user_id":117839,"accept_rate":74,"display_name":"Michael Wiles"},"comment_count":5,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1545389703,"creation_date":1545389703,"answer_id":53883543,"question_id":53883327,"body_markdown":"I think your best bet would to use the name option in @ConditionalOnMissingBean.\r\n\r\nThe problem you&#39;ve got now it seems is that the Conditional is find itself and not the missing bean DefaultKeyStoreService.\r\n\r\nIf you do this \r\n\r\n    @ConditionalOnMissingBean(name=&quot;defaultKeyStoreService&quot;)\r\n\r\nIt will probably work better.\r\n\r\nThe other option is to specifically have a prod profile to enable the prod bean.\r\n\r\nWhat is interesting is that you can override beans when having a profile if you create those beans with xml.\r\n\r\nSo if you have in xml\r\n \r\n\r\n    &lt;bean id=&quot;x&quot; class=&quot;X&quot;/&gt;\r\n\r\nAnd then have\r\n\r\n    &lt;beans profile=&quot;dev&quot;&gt;\r\n      &lt;bean id=&quot;x&quot; class=&quot;Y&quot;/&gt;\r\n    &lt;/beans&gt;\r\n\r\nWhen you enable the dev profile it will replace the x bean in the unprofiled context with the bean x in the dev profile.\r\n\r\nThe same behaviour does not occur when using annotations however.\r\n\r\nRight when profiles came out I logged a [bug][1] in this regard, it wasn&#39;t taken up.\r\n\r\n\r\n  [1]: https://jira.spring.io/browse/SPR-9508","title":"Annotation @ConditionalOnMissingBean not matching in test","body":"<p>I think your best bet would to use the name option in @ConditionalOnMissingBean.</p>\n\n<p>The problem you've got now it seems is that the Conditional is find itself and not the missing bean DefaultKeyStoreService.</p>\n\n<p>If you do this </p>\n\n<pre><code>@ConditionalOnMissingBean(name=\"defaultKeyStoreService\")\n</code></pre>\n\n<p>It will probably work better.</p>\n\n<p>The other option is to specifically have a prod profile to enable the prod bean.</p>\n\n<p>What is interesting is that you can override beans when having a profile if you create those beans with xml.</p>\n\n<p>So if you have in xml</p>\n\n<pre><code>&lt;bean id=\"x\" class=\"X\"/&gt;\n</code></pre>\n\n<p>And then have</p>\n\n<pre><code>&lt;beans profile=\"dev\"&gt;\n  &lt;bean id=\"x\" class=\"Y\"/&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>When you enable the dev profile it will replace the x bean in the unprofiled context with the bean x in the dev profile.</p>\n\n<p>The same behaviour does not occur when using annotations however.</p>\n\n<p>Right when profiles came out I logged a <a href=\"https://jira.spring.io/browse/SPR-9508\" rel=\"nofollow noreferrer\">bug</a> in this regard, it wasn't taken up.</p>\n"},{"comments":[{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":3,"creation_date":1589232063,"post_id":53884900,"comment_id":109207176,"body_markdown":"Even stranger - it doesn&#39;t work with fully qualified name either.","body":"Even stranger - it doesn&#39;t work with fully qualified name either."}],"tags":[],"owner":{"account_id":1200383,"reputation":1680,"user_id":1171170,"accept_rate":69,"display_name":"JiKra"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1545395637,"creation_date":1545395637,"answer_id":53884900,"question_id":53883327,"body_markdown":"Ok, I figured it out.\r\n\r\nAnnotation with value `@ConditionalOnMissingBean(KeyStoreService.class)` tries to find only concrete instances, which interface `KeyStoreService` is not. This way, it doesn&#39;t find anything.\r\n\r\nWhen I use annotation with type instead, it works like a charm: `@ConditionalOnMissingBean(type = &quot;KeyStoreService&quot;)`.","title":"Annotation @ConditionalOnMissingBean not matching in test","body":"<p>Ok, I figured it out.</p>\n\n<p>Annotation with value <code>@ConditionalOnMissingBean(KeyStoreService.class)</code> tries to find only concrete instances, which interface <code>KeyStoreService</code> is not. This way, it doesn't find anything.</p>\n\n<p>When I use annotation with type instead, it works like a charm: <code>@ConditionalOnMissingBean(type = \"KeyStoreService\")</code>.</p>\n"},{"tags":[],"owner":{"account_id":16068077,"reputation":86,"user_id":11597180,"display_name":"DijkWxyZ"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695895194,"creation_date":1695895194,"answer_id":77193972,"question_id":53883327,"body_markdown":"the type needs to be a **fully qualified name** otherwise the classloader will throw a `ClassNotFoundException` which causes the matching to fail. This behaves like the specified bean has not been found, but this condition will always inject `DevKeyStoreService` no matter a `KeyStoreService` exists or not.\r\n\r\nA workaround that works for me is to ignore the implementation class:\r\n```\r\n@ConditionalOnMissingBean(value = KeyStoreService.class, ignored = DevKeyStoreService.class)\r\npublic class DevKeyStoreService implements KeyStoreService {\r\n}\r\n```\r\n","title":"Annotation @ConditionalOnMissingBean not matching in test","body":"<p>the type needs to be a <strong>fully qualified name</strong> otherwise the classloader will throw a <code>ClassNotFoundException</code> which causes the matching to fail. This behaves like the specified bean has not been found, but this condition will always inject <code>DevKeyStoreService</code> no matter a <code>KeyStoreService</code> exists or not.</p>\n<p>A workaround that works for me is to ignore the implementation class:</p>\n<pre><code>@ConditionalOnMissingBean(value = KeyStoreService.class, ignored = DevKeyStoreService.class)\npublic class DevKeyStoreService implements KeyStoreService {\n}\n</code></pre>\n"}],"owner":{"account_id":1200383,"reputation":1680,"user_id":1171170,"accept_rate":69,"display_name":"JiKra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12656,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":53884900,"answer_count":3,"score":6,"last_activity_date":1695895194,"creation_date":1545388831,"question_id":53883327,"body_markdown":"I have two implementations of one interface - default and dev. I use `@ConditionalOnProperty` for default implementation and combination of `@Profile` and `@ConditionalOnMissingBean` for dev implementation.\r\n\r\n    @Service\r\n    @ConditionalOnProperty(prefix = &quot;keystore&quot;, value = &quot;file&quot;)\r\n    public class DefaultKeyStoreService implements KeyStoreService {\r\n\r\n    @Service\r\n    @Profile(&quot;dev&quot;)\r\n    @ConditionalOnMissingBean(KeyStoreService.class)\r\n    public class DevKeyStoreService implements KeyStoreService {\r\n\r\nNow, the problem is in test `DevKeyStoreServiceTest` for `DevKeyStoreService`.\r\nI have configuration like this:\r\n\r\n    @SpringBootTest(\r\n        classes = {DevKeyStoreService.class},\r\n        properties = {&quot;keystore.file=&quot;}\r\n    )\r\n    @RunWith(SpringRunner.class)\r\n    @ActiveProfiles(&quot;dev&quot;)\r\n    public class DevKeyStoreServiceTest {\r\n\r\n        @Autowired\r\n        private DevKeyStoreService tested;\r\n\r\n        @Test\r\n        public void testPrivateKey() {\r\n        } //... etc.\r\n\r\nThe result is:\r\n\r\n    Negative matches:\r\n    -----------------\r\n    DevKeyStoreService:\r\n       Did not match:\r\n          - @ConditionalOnMissingBean (types: service.crypto.KeyStoreService; SearchStrategy: all) found bean &#39;devKeyStoreService&#39; (OnBeanCondition)\r\n\r\nand the typical `org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;service.crypto.DevKeyStoreServiceTest&#39;...`.\r\n\r\nHow can I configure the test class to be able to run it?","title":"Annotation @ConditionalOnMissingBean not matching in test","body":"<p>I have two implementations of one interface - default and dev. I use <code>@ConditionalOnProperty</code> for default implementation and combination of <code>@Profile</code> and <code>@ConditionalOnMissingBean</code> for dev implementation.</p>\n\n<pre><code>@Service\n@ConditionalOnProperty(prefix = \"keystore\", value = \"file\")\npublic class DefaultKeyStoreService implements KeyStoreService {\n\n@Service\n@Profile(\"dev\")\n@ConditionalOnMissingBean(KeyStoreService.class)\npublic class DevKeyStoreService implements KeyStoreService {\n</code></pre>\n\n<p>Now, the problem is in test <code>DevKeyStoreServiceTest</code> for <code>DevKeyStoreService</code>.\nI have configuration like this:</p>\n\n<pre><code>@SpringBootTest(\n    classes = {DevKeyStoreService.class},\n    properties = {\"keystore.file=\"}\n)\n@RunWith(SpringRunner.class)\n@ActiveProfiles(\"dev\")\npublic class DevKeyStoreServiceTest {\n\n    @Autowired\n    private DevKeyStoreService tested;\n\n    @Test\n    public void testPrivateKey() {\n    } //... etc.\n</code></pre>\n\n<p>The result is:</p>\n\n<pre><code>Negative matches:\n-----------------\nDevKeyStoreService:\n   Did not match:\n      - @ConditionalOnMissingBean (types: service.crypto.KeyStoreService; SearchStrategy: all) found bean 'devKeyStoreService' (OnBeanCondition)\n</code></pre>\n\n<p>and the typical <code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'service.crypto.DevKeyStoreServiceTest'...</code>.</p>\n\n<p>How can I configure the test class to be able to run it?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":249093,"reputation":3399,"user_id":524906,"accept_rate":68,"display_name":"fischermatte"},"score":0,"creation_date":1683239874,"post_id":76165695,"comment_id":134340793,"body_markdown":"I ran into excact same issue. For some reason the PermissionEvaluator is not applied in the PreInvocationAuthorizationAdviceVoter","body":"I ran into excact same issue. For some reason the PermissionEvaluator is not applied in the PreInvocationAuthorizationAdviceVoter"}],"answers":[{"tags":[],"owner":{"account_id":10584395,"reputation":1,"user_id":7797216,"display_name":"Vidar Vevik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695894981,"creation_date":1693400590,"answer_id":77008313,"question_id":76165695,"body_markdown":"It seems like you&#39;re attempting to set up a permission evaluator for a legacy method using the GlobalMethodSecurityConfiguration. However, in your code, you&#39;ve employed the `@EnableMethodSecurity` annotation. To address this, I recommend referring to the migration document that explains how to utilize the `MethodSecurityExpressionHandler`. This will help clarify the situation. You can find detailed guidance here: [MethodSecurityExpressionHandler][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/5.8/migration/servlet/authorization.html#servlet-replace-permissionevaluator-bean-with-methodsecurityexpression-handler","title":"Why SecurityExpressionRoot is always setting DenyAllPermissionEvaluator?","body":"<p>It seems like you're attempting to set up a permission evaluator for a legacy method using the GlobalMethodSecurityConfiguration. However, in your code, you've employed the <code>@EnableMethodSecurity</code> annotation. To address this, I recommend referring to the migration document that explains how to utilize the <code>MethodSecurityExpressionHandler</code>. This will help clarify the situation. You can find detailed guidance here: <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/authorization.html#servlet-replace-permissionevaluator-bean-with-methodsecurityexpression-handler\" rel=\"nofollow noreferrer\">MethodSecurityExpressionHandler</a></p>\n"}],"owner":{"account_id":3385419,"reputation":11912,"user_id":2841472,"accept_rate":75,"display_name":"Sai prateek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1695894981,"creation_date":1683127970,"question_id":76165695,"body_markdown":"I&#39;m migrating my applications to spring v6 &amp; spring-boot:3.0.16.\r\n\r\nI have a custom PermissionEvaluator where I have override the `hasPermission()` method.\r\n\r\n\r\n    public final class CustomPermissionEvaluator implements PermissionEvaluator {\r\n    \r\n        @Override\r\n        public boolean hasPermission(Authentication authentication, Object targetDomainObject, Object permission) {\r\n            // your implementation\r\n        }\r\n    \r\n        @Override\r\n        public boolean hasPermission(Authentication authentication, Serializable targetId, String targetType, Object permission) {\r\n            // your implementation\r\n        }\r\n    }\r\n\r\nI&#39;m using `@PreAuthorize` to validate permission like -\r\n\r\n    @PreAuthorize(&quot;hasPermission(#vehicle, &#39;Optimised&#39;)&quot;)\r\n        @GetMapping(&quot;/authorize&quot;)\r\n        public ResponseEntity&lt;String&gt; authorize(@RequestHeader(&quot;Authorization&quot;) String token,\r\n                                            @RequestHeader(value=&quot;Vehicle&quot;, required=true) String vehicle){\r\n    \r\n            return new ResponseEntity&lt;&gt;(&quot;Vehicle Validated Successfully&quot;, HttpStatus.OK);\r\n        }\r\n\r\nI&#39;m using latest `@EnableMethodSecurity` in Security config, which looks like -\r\n\r\n    package com.test.am.authorizer.security;\r\n    \r\n    import com.test.springsecurity.*;\r\n    import com.test.controller.RestAccessDeniedHandler;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.aop.Advisor;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.config.BeanDefinition;\r\n    import org.springframework.boot.autoconfigure.condition.ConditionalOnBean;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Role;\r\n    import org.springframework.core.annotation.Order;\r\n    import org.springframework.security.access.AccessDeniedException;\r\n    import org.springframework.security.access.PermissionEvaluator;\r\n    import org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler;\r\n    import org.springframework.security.access.expression.method.MethodSecurityExpressionHandler;\r\n    import org.springframework.security.authentication.AnonymousAuthenticationToken;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor;\r\n    import org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\n    import org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;\r\n    import org.springframework.security.core.GrantedAuthority;\r\n    import org.springframework.security.core.authority.AuthorityUtils;\r\n    import org.springframework.security.oauth2.jwt.NimbusJwtDecoder;\r\n    import org.springframework.security.oauth2.server.resource.InvalidBearerTokenException;\r\n    import org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider;\r\n    import org.springframework.security.web.AuthenticationEntryPoint;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    import org.springframework.security.web.access.expression.DefaultWebSecurityExpressionHandler;\r\n    \r\n    import java.util.List;\r\n    import java.util.Objects;\r\n    import java.util.UUID;\r\n    \r\n    import static org.springframework.security.config.http.SessionCreationPolicy.STATELESS;\r\n    \r\n    @Configuration\r\n    @EnableMethodSecurity\r\n    public class WebSecurityConfig {\r\n    \r\n        Logger log = LoggerFactory.getLogger(WebSecurityConfig.class);\r\n    \r\n    \r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            String anonymousKey = UUID.randomUUID().toString();\r\n            JwtAuthenticationProvider jwtAuthProvider = new JwtAuthenticationProvider(jwtDecoder());\r\n            jwtAuthProvider.setJwtAuthenticationConverter(new CustomTokenConverter());\r\n            AuthenticationManager authenticationManager = authenticationManager(anonymousKey);\r\n    \r\n            http.exceptionHandling().accessDeniedHandler(accessDeniedHandler())\r\n                    .authenticationEntryPoint(new TokenAuthenticationEntryPoint());\r\n    \r\n    \r\n    \r\n            http\r\n                    .csrf(AbstractHttpConfigurer::disable)\r\n                    .oauth2ResourceServer(oauth2 -&gt; oauth2.authenticationManagerResolver(request -&gt; authenticationManager))\r\n                    .anonymous(anonymous -&gt;\r\n                            // TODO do not allow anonymous access\r\n                            anonymous.key(anonymousKey))\r\n    \r\n                    \r\n                    .sessionManagement(sessionManagement -&gt; sessionManagement.sessionCreationPolicy(STATELESS))\r\n                    .exceptionHandling().accessDeniedHandler(accessDeniedHandler())\r\n                    .authenticationEntryPoint(authenticationEntryPoint());\r\n    \r\n            return http.build();\r\n        }\r\n    \r\n        \r\n        private AuthenticationManager authenticationManager(String anonymousKey) {\r\n            JwtAuthenticationProvider provider = new JwtAuthenticationProvider(jwtDecoder());\r\n            provider.setJwtAuthenticationConverter(new MyTokenConverter());\r\n            List&lt;GrantedAuthority&gt; anonymousAuthorities = AuthorityUtils\r\n                    .createAuthorityList(&quot;ROLE_ANONYMOUS&quot;);\r\n            return authentication -&gt; {\r\n                try {\r\n                    return provider.authenticate(authentication);\r\n                } catch (InvalidBearerTokenException e) {\r\n                    log.error(&quot;InvalidBearerTokenException: Error in authentication&quot;);\r\n                    throw new AccessDeniedException(&quot;InvalidBearerTokenException: Error in authentication&quot;);\r\n                }\r\n            };\r\n        }\r\n    \r\n        private NimbusJwtDecoder jwtDecoder() {\r\n            String awsRegion = System.getenv(&quot;my_region&quot;);\r\n            NimbusJwtDecoder decoder = createDecoder(region);\r\n            decoder.setJwtValidator(\r\n                    MyJwtValidators.createDefaultclaimsValidation(\r\n                            &quot;custom:claim_name&quot;));\r\n            return decoder;\r\n        }\r\n    \r\n    \r\n    \r\n        @Bean(name = &quot;permissionEvaluator&quot;)\r\n        @Order(1)\r\n        public PermissionEvaluator permissionEvaluator() {\r\n            return new CustomPermissionEvaluator();\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationEntryPoint authenticationEntryPoint() {\r\n            return new TokenAuthenticationEntryPoint();\r\n        }\r\n    \r\n        \r\n    \r\n    \r\n    }\r\n\r\n\r\nNow problem is every time when I call the method `authorize` with valid access token, my `customPermissonEvaluator` never invoke, Even the JWT authentication is succesfully done and decision is granted but `DenyAllPermissionEvaluator` returns `Access Denied`.\r\n\r\nSeems like My `CustomePErmissionEvaluator` never invokes with `hasPermission()`.\r\n\r\nAny suggestion will be appreciated. TIA\r\n","title":"Why SecurityExpressionRoot is always setting DenyAllPermissionEvaluator?","body":"<p>I'm migrating my applications to spring v6 &amp; spring-boot:3.0.16.</p>\n<p>I have a custom PermissionEvaluator where I have override the <code>hasPermission()</code> method.</p>\n<pre><code>public final class CustomPermissionEvaluator implements PermissionEvaluator {\n\n    @Override\n    public boolean hasPermission(Authentication authentication, Object targetDomainObject, Object permission) {\n        // your implementation\n    }\n\n    @Override\n    public boolean hasPermission(Authentication authentication, Serializable targetId, String targetType, Object permission) {\n        // your implementation\n    }\n}\n</code></pre>\n<p>I'm using <code>@PreAuthorize</code> to validate permission like -</p>\n<pre><code>@PreAuthorize(&quot;hasPermission(#vehicle, 'Optimised')&quot;)\n    @GetMapping(&quot;/authorize&quot;)\n    public ResponseEntity&lt;String&gt; authorize(@RequestHeader(&quot;Authorization&quot;) String token,\n                                        @RequestHeader(value=&quot;Vehicle&quot;, required=true) String vehicle){\n\n        return new ResponseEntity&lt;&gt;(&quot;Vehicle Validated Successfully&quot;, HttpStatus.OK);\n    }\n</code></pre>\n<p>I'm using latest <code>@EnableMethodSecurity</code> in Security config, which looks like -</p>\n<pre><code>package com.test.am.authorizer.security;\n\nimport com.test.springsecurity.*;\nimport com.test.controller.RestAccessDeniedHandler;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.aop.Advisor;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.config.BeanDefinition;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnBean;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Role;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.security.access.AccessDeniedException;\nimport org.springframework.security.access.PermissionEvaluator;\nimport org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler;\nimport org.springframework.security.access.expression.method.MethodSecurityExpressionHandler;\nimport org.springframework.security.authentication.AnonymousAuthenticationToken;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor;\nimport org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.AuthorityUtils;\nimport org.springframework.security.oauth2.jwt.NimbusJwtDecoder;\nimport org.springframework.security.oauth2.server.resource.InvalidBearerTokenException;\nimport org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider;\nimport org.springframework.security.web.AuthenticationEntryPoint;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.access.expression.DefaultWebSecurityExpressionHandler;\n\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.UUID;\n\nimport static org.springframework.security.config.http.SessionCreationPolicy.STATELESS;\n\n@Configuration\n@EnableMethodSecurity\npublic class WebSecurityConfig {\n\n    Logger log = LoggerFactory.getLogger(WebSecurityConfig.class);\n\n\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        String anonymousKey = UUID.randomUUID().toString();\n        JwtAuthenticationProvider jwtAuthProvider = new JwtAuthenticationProvider(jwtDecoder());\n        jwtAuthProvider.setJwtAuthenticationConverter(new CustomTokenConverter());\n        AuthenticationManager authenticationManager = authenticationManager(anonymousKey);\n\n        http.exceptionHandling().accessDeniedHandler(accessDeniedHandler())\n                .authenticationEntryPoint(new TokenAuthenticationEntryPoint());\n\n\n\n        http\n                .csrf(AbstractHttpConfigurer::disable)\n                .oauth2ResourceServer(oauth2 -&gt; oauth2.authenticationManagerResolver(request -&gt; authenticationManager))\n                .anonymous(anonymous -&gt;\n                        // TODO do not allow anonymous access\n                        anonymous.key(anonymousKey))\n\n                \n                .sessionManagement(sessionManagement -&gt; sessionManagement.sessionCreationPolicy(STATELESS))\n                .exceptionHandling().accessDeniedHandler(accessDeniedHandler())\n                .authenticationEntryPoint(authenticationEntryPoint());\n\n        return http.build();\n    }\n\n    \n    private AuthenticationManager authenticationManager(String anonymousKey) {\n        JwtAuthenticationProvider provider = new JwtAuthenticationProvider(jwtDecoder());\n        provider.setJwtAuthenticationConverter(new MyTokenConverter());\n        List&lt;GrantedAuthority&gt; anonymousAuthorities = AuthorityUtils\n                .createAuthorityList(&quot;ROLE_ANONYMOUS&quot;);\n        return authentication -&gt; {\n            try {\n                return provider.authenticate(authentication);\n            } catch (InvalidBearerTokenException e) {\n                log.error(&quot;InvalidBearerTokenException: Error in authentication&quot;);\n                throw new AccessDeniedException(&quot;InvalidBearerTokenException: Error in authentication&quot;);\n            }\n        };\n    }\n\n    private NimbusJwtDecoder jwtDecoder() {\n        String awsRegion = System.getenv(&quot;my_region&quot;);\n        NimbusJwtDecoder decoder = createDecoder(region);\n        decoder.setJwtValidator(\n                MyJwtValidators.createDefaultclaimsValidation(\n                        &quot;custom:claim_name&quot;));\n        return decoder;\n    }\n\n\n\n    @Bean(name = &quot;permissionEvaluator&quot;)\n    @Order(1)\n    public PermissionEvaluator permissionEvaluator() {\n        return new CustomPermissionEvaluator();\n    }\n\n    @Bean\n    public AuthenticationEntryPoint authenticationEntryPoint() {\n        return new TokenAuthenticationEntryPoint();\n    }\n\n    \n\n\n}\n</code></pre>\n<p>Now problem is every time when I call the method <code>authorize</code> with valid access token, my <code>customPermissonEvaluator</code> never invoke, Even the JWT authentication is succesfully done and decision is granted but <code>DenyAllPermissionEvaluator</code> returns <code>Access Denied</code>.</p>\n<p>Seems like My <code>CustomePErmissionEvaluator</code> never invokes with <code>hasPermission()</code>.</p>\n<p>Any suggestion will be appreciated. TIA</p>\n"},{"tags":["java","jax-rs","quarkus"],"comments":[{"owner":{"account_id":4745435,"reputation":943,"user_id":3836927,"accept_rate":89,"display_name":"Werner de Groot"},"score":0,"creation_date":1693577081,"post_id":77023699,"comment_id":135783522,"body_markdown":"One way to do it is to add a filter (with a very high priority) on every endpoint (which is invoked on both UsersResource.user and UserResource.getUser) and push the template URL onto some @RequestContext-scoped stack. When it is time to handle the response, I can access that stack and resolve the URL by hand. However, this sounds quite laborious and I was hoping there was a better way.","body":"One way to do it is to add a filter (with a very high priority) on every endpoint (which is invoked on both UsersResource.user and UserResource.getUser) and push the template URL onto some @RequestContext-scoped stack. When it is time to handle the response, I can access that stack and resolve the URL by hand. However, this sounds quite laborious and I was hoping there was a better way."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1693585813,"post_id":77023699,"comment_id":135785320,"body_markdown":"Just a guess, but will [`UriInfo#getAbsolutePathBuilder()`](https://docs.oracle.com/javaee/7/api/javax/ws/rs/core/UriInfo.html#getAbsolutePathBuilder--) get you what you need?","body":"Just a guess, but will <a href=\"https://docs.oracle.com/javaee/7/api/javax/ws/rs/core/UriInfo.html#getAbsolutePathBuilder--\" rel=\"nofollow noreferrer\"><code>UriInfo#getAbsolutePathBuilder()</code></a> get you what you need?"},{"owner":{"account_id":3568344,"reputation":639,"user_id":2979325,"display_name":"Serkan"},"score":0,"creation_date":1694434505,"post_id":77023699,"comment_id":135886172,"body_markdown":"I think, you need the remove the PathParam variable in `UserResource#getUser`","body":"I think, you need the remove the PathParam variable in <code>UserResource#getUser</code>"}],"answers":[{"tags":[],"owner":{"account_id":4745435,"reputation":943,"user_id":3836927,"accept_rate":89,"display_name":"Werner de Groot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695894255,"creation_date":1695894255,"answer_id":77193875,"question_id":77023699,"body_markdown":"This is how I solved it:\r\n\r\n```java\r\n/**\r\n * Quarkus (or RESTEasy) doesn&#39;t make it easy to get the URI template including the\r\n * subresource. This custom class is used to track which subresource were invoked on\r\n * our way to the endpoint.\r\n */\r\n@RequestScoped\r\npublic class SubresourcesTracked {\r\n\r\n    private UriBuilder uriBuilder = null;\r\n\r\n    public Optional&lt;UriBuilder&gt; getUriBuilder() {\r\n        return Optional.ofNullable(uriBuilder);\r\n    }\r\n\r\n    public UriBuilder computeUriBuilderIfAbsent(Supplier&lt;UriBuilder&gt; supplier) {\r\n        if (uriBuilder == null) {\r\n            uriBuilder = supplier.get();\r\n        }\r\n        return uriBuilder;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@InterceptorBinding\r\n@Target({ ElementType.TYPE, ElementType.METHOD })\r\n@Retention(value = RetentionPolicy.RUNTIME)\r\npublic @interface TrackingSubresource {\r\n}\r\n```\r\n\r\n```java\r\n/**\r\n * Quarkus (or RESTEasy) doesn&#39;t make it easy to get the URI template including the\r\n * subresource. This custom class is used to track which subresource were invoked on\r\n * our way to the endpoint.\r\n */\r\n@Interceptor\r\n@TrackingSubresource\r\npublic class TrackingSubresourceInterceptor {\r\n\r\n    @Inject\r\n    SubresourcesTracked subresourcesTracked;\r\n\r\n    @AroundInvoke\r\n    public Object aroundInvoke(InvocationContext context) throws Exception {\r\n        var method = context.getMethod();\r\n        var uriBuilder = subresourcesTracked.computeUriBuilderIfAbsent(() -&gt; {\r\n            var resource = method.getDeclaringClass();\r\n            Path pathAnnotationOnResource = resource.getAnnotation(Path.class);\r\n            return UriBuilder.fromPath(pathAnnotationOnResource.value());\r\n        });\r\n\r\n        var pathAnnotationOnMethod = method.getAnnotation(Path.class);\r\n        if (pathAnnotationOnMethod != null) {\r\n            uriBuilder.path(pathAnnotationOnMethod.value());\r\n        }\r\n\r\n        return context.proceed();\r\n    }\r\n}\r\n```\r\n\r\nIn the request filter:\r\n\r\n```java\r\n\r\n    @Inject\r\n    SubresourcesTracked subresourcesTracked;\r\n\r\n    private String getUri() {\r\n        var uriBuilder = subresourcesTracked.getUriBuilder().map(UriBuilder::toTemplate).map(UriBuilder::fromPath).orElseGet(() -&gt; UriBuilder.fromResource(resourceInfo.getResourceClass()));\r\n        var path = resourceInfo.getResourceMethod().getAnnotation(Path.class);\r\n        if (path != null) {\r\n            uriBuilder = uriBuilder.path(resourceInfo.getResourceMethod());\r\n        }\r\n        return uriBuilder.toTemplate();\r\n    }","title":"JAX-RS (or Quarkus) reverse routing with subresources","body":"<p>This is how I solved it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Quarkus (or RESTEasy) doesn't make it easy to get the URI template including the\n * subresource. This custom class is used to track which subresource were invoked on\n * our way to the endpoint.\n */\n@RequestScoped\npublic class SubresourcesTracked {\n\n    private UriBuilder uriBuilder = null;\n\n    public Optional&lt;UriBuilder&gt; getUriBuilder() {\n        return Optional.ofNullable(uriBuilder);\n    }\n\n    public UriBuilder computeUriBuilderIfAbsent(Supplier&lt;UriBuilder&gt; supplier) {\n        if (uriBuilder == null) {\n            uriBuilder = supplier.get();\n        }\n        return uriBuilder;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@InterceptorBinding\n@Target({ ElementType.TYPE, ElementType.METHOD })\n@Retention(value = RetentionPolicy.RUNTIME)\npublic @interface TrackingSubresource {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Quarkus (or RESTEasy) doesn't make it easy to get the URI template including the\n * subresource. This custom class is used to track which subresource were invoked on\n * our way to the endpoint.\n */\n@Interceptor\n@TrackingSubresource\npublic class TrackingSubresourceInterceptor {\n\n    @Inject\n    SubresourcesTracked subresourcesTracked;\n\n    @AroundInvoke\n    public Object aroundInvoke(InvocationContext context) throws Exception {\n        var method = context.getMethod();\n        var uriBuilder = subresourcesTracked.computeUriBuilderIfAbsent(() -&gt; {\n            var resource = method.getDeclaringClass();\n            Path pathAnnotationOnResource = resource.getAnnotation(Path.class);\n            return UriBuilder.fromPath(pathAnnotationOnResource.value());\n        });\n\n        var pathAnnotationOnMethod = method.getAnnotation(Path.class);\n        if (pathAnnotationOnMethod != null) {\n            uriBuilder.path(pathAnnotationOnMethod.value());\n        }\n\n        return context.proceed();\n    }\n}\n</code></pre>\n<p>In the request filter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Inject\n    SubresourcesTracked subresourcesTracked;\n\n    private String getUri() {\n        var uriBuilder = subresourcesTracked.getUriBuilder().map(UriBuilder::toTemplate).map(UriBuilder::fromPath).orElseGet(() -&gt; UriBuilder.fromResource(resourceInfo.getResourceClass()));\n        var path = resourceInfo.getResourceMethod().getAnnotation(Path.class);\n        if (path != null) {\n            uriBuilder = uriBuilder.path(resourceInfo.getResourceMethod());\n        }\n        return uriBuilder.toTemplate();\n    }\n</code></pre>\n"}],"owner":{"account_id":4745435,"reputation":943,"user_id":3836927,"accept_rate":89,"display_name":"Werner de Groot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77193875,"answer_count":1,"score":0,"last_activity_date":1695894255,"creation_date":1693576406,"question_id":77023699,"body_markdown":"I have a `ContainerRequestFilter` that gathers some metrics for each endpoint invoked in my JAX-RS/Quarkus application. This requires access to the URI patterns as specified in the `@Path` annotations on each resource (&quot;/api/users/{userId}&quot;, not the resolved URL like &quot;/api/users/1711&quot;)\r\n\r\nI use the following code that works great for simple resources but fails for nested resources:\r\n\r\n```java\r\nclass MyFilter implements ContainerRequestFilter {\r\n\r\n    @Context\r\n    ResourceInfo resourceInfo\r\n\r\n    ...\r\n\r\n    private String getUri() {\r\n        var uriBuilder = UriBuilder.fromResource(resourceInfo.getResourceClass());\r\n        var pathAnnotationOnMethod = resourceInfo.getResourceMethod().getAnnotation(Path.class);\r\n        if (pathAnnotationOnMethod != null) {\r\n            uriBuilder = uriBuilder.path(resourceInfo.getResourceMethod());\r\n        }\r\n        return uriBuilder.toTemplate();\r\n    }\r\n}\r\n```\r\n\r\nThis method does _not_ work for nested resources like the following:\r\n\r\n```java\r\n@Path(&quot;api/users&quot;)\r\nclass UsersResource {\r\n\r\n    @Inject\r\n    UserResource userResource;\r\n\r\n    @Inject\r\n    UserAccessService userAccessService;\r\n\r\n    @Context\r\n    ResourceContext resourceContext;\r\n\r\n    @Path(&quot;{id}&quot;)\r\n    public UserResource user(@PathParam(&quot;id&quot;) long userId) {\r\n        userAccessService.ensureAccessTo(userId);\r\n        return resourceContext.initResource(userResource);\r\n    }\r\n\r\n}\r\n\r\n@RequestScoped\r\nclass UserResource {\r\n\r\n    @GET\r\n    public Response getUser(@PathParam(&quot;id&quot;) long userId) {\r\n      ...\r\n    }\r\n}\r\n```\r\n\r\nIt throws an exception complaining that the `UserResource` has no `@Path`-annotation.\r\n\r\nSo my question is: how to resolve the URL pattern for nested (sub)resources?","title":"JAX-RS (or Quarkus) reverse routing with subresources","body":"<p>I have a <code>ContainerRequestFilter</code> that gathers some metrics for each endpoint invoked in my JAX-RS/Quarkus application. This requires access to the URI patterns as specified in the <code>@Path</code> annotations on each resource (&quot;/api/users/{userId}&quot;, not the resolved URL like &quot;/api/users/1711&quot;)</p>\n<p>I use the following code that works great for simple resources but fails for nested resources:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyFilter implements ContainerRequestFilter {\n\n    @Context\n    ResourceInfo resourceInfo\n\n    ...\n\n    private String getUri() {\n        var uriBuilder = UriBuilder.fromResource(resourceInfo.getResourceClass());\n        var pathAnnotationOnMethod = resourceInfo.getResourceMethod().getAnnotation(Path.class);\n        if (pathAnnotationOnMethod != null) {\n            uriBuilder = uriBuilder.path(resourceInfo.getResourceMethod());\n        }\n        return uriBuilder.toTemplate();\n    }\n}\n</code></pre>\n<p>This method does <em>not</em> work for nested resources like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;api/users&quot;)\nclass UsersResource {\n\n    @Inject\n    UserResource userResource;\n\n    @Inject\n    UserAccessService userAccessService;\n\n    @Context\n    ResourceContext resourceContext;\n\n    @Path(&quot;{id}&quot;)\n    public UserResource user(@PathParam(&quot;id&quot;) long userId) {\n        userAccessService.ensureAccessTo(userId);\n        return resourceContext.initResource(userResource);\n    }\n\n}\n\n@RequestScoped\nclass UserResource {\n\n    @GET\n    public Response getUser(@PathParam(&quot;id&quot;) long userId) {\n      ...\n    }\n}\n</code></pre>\n<p>It throws an exception complaining that the <code>UserResource</code> has no <code>@Path</code>-annotation.</p>\n<p>So my question is: how to resolve the URL pattern for nested (sub)resources?</p>\n"},{"tags":["java","hazelcast","hazelcast-imap"],"answers":[{"tags":[],"owner":{"account_id":5639587,"reputation":412,"user_id":4463900,"display_name":"Or&#231;un &#199;olak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695893973,"creation_date":1695893973,"answer_id":77193848,"question_id":77189092,"body_markdown":"I think you are looking at the events by attaching a listener to IMap.  \r\n- If you call IMap#addLocalEntryListener() this will attach a listener for events on the **cluster member**  \r\n- If you call IMap#addEntryListener() this will attach a listener for events on the **whole cluster**\r\n\r\nIf you are doing like this and seeing evictions, those events are for the IMap not for NearCache.  There is no way to attach a listener to NearCache as far as I know.  \r\n \r\nSince you have **EvictionPolicy.NONE** and you have called **setSize()** the NearCache will cache the first 1_000_000 unique keys. Remember that for NearCache to work you  should call **IMap#get()**\r\n\r\nYou can check NearCacheStats like this\r\n```java\r\nLocalMapStats localMapStats = map.getLocalMapStats();\r\nNearCacheStats nearCacheStats = localMapStats.getNearCacheStats();\r\n```\r\nWhen you check you should see **nearCacheStats.ownedEntryCount** &lt;= 1_000_000  \r\nDependes on how many get() calls you have made\r\n\r\nIf you have removed keys from IMap that exist in NearCache you may also see a non-zero value for **nearCacheStats.invalidations**\r\n\r\nBut you should see **nearCacheStats.evictions** as zero since you have disabled eviction for NearCache\r\n\r\n\r\n","title":"Java Hazelcast Near Cache getting evicted very frequently","body":"<p>I think you are looking at the events by attaching a listener to IMap.</p>\n<ul>\n<li>If you call IMap#addLocalEntryListener() this will attach a listener for events on the <strong>cluster member</strong></li>\n<li>If you call IMap#addEntryListener() this will attach a listener for events on the <strong>whole cluster</strong></li>\n</ul>\n<p>If you are doing like this and seeing evictions, those events are for the IMap not for NearCache.  There is no way to attach a listener to NearCache as far as I know.</p>\n<p>Since you have <strong>EvictionPolicy.NONE</strong> and you have called <strong>setSize()</strong> the NearCache will cache the first 1_000_000 unique keys. Remember that for NearCache to work you  should call <strong>IMap#get()</strong></p>\n<p>You can check NearCacheStats like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalMapStats localMapStats = map.getLocalMapStats();\nNearCacheStats nearCacheStats = localMapStats.getNearCacheStats();\n</code></pre>\n<p>When you check you should see <strong>nearCacheStats.ownedEntryCount</strong> &lt;= 1_000_000<br />\nDependes on how many get() calls you have made</p>\n<p>If you have removed keys from IMap that exist in NearCache you may also see a non-zero value for <strong>nearCacheStats.invalidations</strong></p>\n<p>But you should see <strong>nearCacheStats.evictions</strong> as zero since you have disabled eviction for NearCache</p>\n"}],"owner":{"account_id":3367953,"reputation":1474,"user_id":2828006,"accept_rate":24,"display_name":"Scientist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695893973,"creation_date":1695830035,"question_id":77189092,"body_markdown":"I have created the Hazelcast Config along with NearCache config as below:\r\n\r\n     EvictionConfig evictionConfig = new EvictionConfig()\r\n                .setEvictionPolicy(EvictionPolicy.NONE)\r\n                .setSize(1_000_000)\r\n                .setMaxSizePolicy(MaxSizePolicy.ENTRY_COUNT);\r\n\r\n        NearCacheConfig nearCacheConfig = new NearCacheConfig().setInMemoryFormat(InMemoryFormat.OBJECT)\r\n                .setInvalidateOnChange(true)\r\n                .setSerializeKeys(true)\r\n                .setEvictionConfig(evictionConfig)\r\n                .setCacheLocalEntries(true);\r\n\r\nFurther i have created the iMap using these config as \r\n\r\n            config.getMapConfig(Constants.CacheNames.EMPLOYEE_CACHE).setReadBackupData(true).setNearCacheConfig(new NearCacheConfig(nearCacheConfig));\r\n\r\nThe issue what i am seeing is that even for small data 50 in number seeing lot of invalidation events for this iMap. \r\n\r\nNot able to figure out what i am missing in this config.\r\n","title":"Java Hazelcast Near Cache getting evicted very frequently","body":"<p>I have created the Hazelcast Config along with NearCache config as below:</p>\n<pre><code> EvictionConfig evictionConfig = new EvictionConfig()\n            .setEvictionPolicy(EvictionPolicy.NONE)\n            .setSize(1_000_000)\n            .setMaxSizePolicy(MaxSizePolicy.ENTRY_COUNT);\n\n    NearCacheConfig nearCacheConfig = new NearCacheConfig().setInMemoryFormat(InMemoryFormat.OBJECT)\n            .setInvalidateOnChange(true)\n            .setSerializeKeys(true)\n            .setEvictionConfig(evictionConfig)\n            .setCacheLocalEntries(true);\n</code></pre>\n<p>Further i have created the iMap using these config as</p>\n<pre><code>        config.getMapConfig(Constants.CacheNames.EMPLOYEE_CACHE).setReadBackupData(true).setNearCacheConfig(new NearCacheConfig(nearCacheConfig));\n</code></pre>\n<p>The issue what i am seeing is that even for small data 50 in number seeing lot of invalidation events for this iMap.</p>\n<p>Not able to figure out what i am missing in this config.</p>\n"},{"tags":["java","xml","apache-poi"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1695891154,"post_id":77193485,"comment_id":136085266,"body_markdown":"This error generally means that you have the wrong version of a dependency on your classpath.","body":"This error generally means that you have the wrong version of a dependency on your classpath."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1695892463,"post_id":77193485,"comment_id":136085496,"body_markdown":"What dependency management system used? Using maven only `&lt;dependency&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;&lt;version&gt;5.2.3&lt;/version&gt;&lt;/dependency&gt;` is needed. That should pull all other dependencies inclusive the correct version of `xmlbeans`.","body":"What dependency management system used? Using maven only <code>&lt;dependency&lt;groupId&gt;org.apache.poi&lt;&#47;groupId&gt;&lt;artifactId&gt;poi-&zwnj;&#8203;ooxml&lt;&#47;artifactId&gt;&lt;v&zwnj;&#8203;ersion&gt;5.2.3&lt;&#47;versio&zwnj;&#8203;n&gt;&lt;&#47;dependency&gt;</code> is needed. That should pull all other dependencies inclusive the correct version of <code>xmlbeans</code>."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696268184,"post_id":77193825,"comment_id":136128423,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77193825/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28421060,"reputation":1,"user_id":21743124,"display_name":"Baize"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695893784,"creation_date":1695893784,"answer_id":77193825,"question_id":77193485,"body_markdown":"The POI version is to low, try 5.1.0+","title":"NoSuchMethodError: &#39;org.apache.xmlbeans.XmlOptions org.apache.xmlbeans.XmlOptions.setDisallowDocTypeDeclaration(boolean)&#39;","body":"<p>The POI version is to low, try 5.1.0+</p>\n"}],"owner":{"account_id":29553854,"reputation":1,"user_id":22649891,"display_name":"peter griffin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695893784,"creation_date":1695891014,"question_id":77193485,"body_markdown":"`I am currently writing a program to convert Excel files into XML files, but I have encountered some errors from IDEA that prompt me: \r\n***Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;org.apache.xmlbeans.XmlOptions org.apache.xmlbeans.XmlOptions.setDisallowDocTypeDeclaration(boolean)&#39;\r\n***\r\n\r\nI had tried many methods but no use\r\n\r\nHere are my codes:\r\n---------------------------------------------------------------\r\n\r\n```\r\npackage com.ericsson.function.util;\r\n\r\nimport org.apache.poi.ss.usermodel.*;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\nimport org.w3c.dom.*;\r\n\r\nimport javax.swing.*;\r\nimport javax.xml.parsers.DocumentBuilder;\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\nimport javax.xml.transform.*;\r\nimport javax.xml.transform.dom.DOMSource;\r\nimport javax.xml.transform.stream.StreamResult;\r\nimport java.io.*;\r\n\r\npublic class EasytestlinkUtil {\r\n\r\n    private static String excelPath = &quot;C:\\\\Users\\\\Administrator\\\\Desktop\\\\hahaha.xlsx&quot;;\r\n    private static String sheetName = &quot;test&quot;;\r\n    private static String xmlPath = &quot;.&quot;;\r\n\r\n    public void processToXml(String excelPath, String sheetName, String xmlPath) {\r\n        try {\r\n            // Load the Excel file\r\n            FileInputStream excelFile = new FileInputStream(new File(excelPath));\r\n            Workbook workbook = new XSSFWorkbook(excelFile);\r\n            Sheet sheet = workbook.getSheet(sheetName);\r\n\r\n            // Create the root element for the XML\r\n            DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n            DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\r\n            Document doc = dBuilder.newDocument();\r\n            Element rootElement = doc.createElement(&quot;testcases&quot;);\r\n            doc.appendChild(rootElement);\r\n\r\n            // Process each row in the Excel sheet starting from row 4\r\n            for (int rowNum = 4; rowNum &lt;= sheet.getLastRowNum(); rowNum++) {\r\n                Row row = sheet.getRow(rowNum);\r\n                String tcId = row.getCell(1).getStringCellValue();\r\n                String tcSummary = row.getCell(2).getStringCellValue();\r\n                String tcPrecondition = row.getCell(3).getStringCellValue();\r\n                String tcPriority = row.getCell(9).getStringCellValue();\r\n                String tcAutomationAbleStr = row.getCell(10).getStringCellValue();\r\n                String tcAction = row.getCell(4).getStringCellValue();\r\n                String tcException = row.getCell(5).getStringCellValue();\r\n\r\n                // Create the testcase element\r\n                Element testcase = doc.createElement(&quot;testcase&quot;);\r\n                rootElement.appendChild(testcase);\r\n\r\n                // Create and append elements for testcase details\r\n                createAndAppendElement(doc, testcase, &quot;internalid&quot;, tcId.replace(&quot;TC&quot;, &quot;&quot;).replace(&quot;.&quot;, &quot;&quot;));\r\n                createAndAppendElement(doc, testcase, &quot;name&quot;, tcSummary.substring(0, Math.min(100, tcSummary.length())));\r\n                createAndAppendElement(doc, testcase, &quot;summary&quot;, tcSummary);\r\n                createAndAppendElement(doc, testcase, &quot;preconditions&quot;, tcPrecondition.replace(&#39;\\n&#39;, &#39;\\u2028&#39;));\r\n\r\n                // Create steps element\r\n                Element steps = doc.createElement(&quot;steps&quot;);\r\n                testcase.appendChild(steps);\r\n\r\n                // Create step element\r\n                Element step = doc.createElement(&quot;step&quot;);\r\n                steps.appendChild(step);\r\n\r\n                createAndAppendElement(doc, step, &quot;step_number&quot;, &quot;1&quot;);\r\n                createAndAppendElement(doc, step, &quot;actions&quot;, tcAction);\r\n                createAndAppendElement(doc, step, &quot;expectedresults&quot;, tcException);\r\n                createAndAppendElement(doc, step, &quot;importance&quot;, getImportanceValue(tcPriority));\r\n                createAndAppendElement(doc, step, &quot;execution_type&quot;, &quot;Yes&quot;.equals(tcAutomationAbleStr) ? &quot;2&quot; : &quot;1&quot;);\r\n            }\r\n\r\n            // Create a pretty-formatted XML string\r\n            TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n            Transformer transformer = transformerFactory.newTransformer();\r\n            transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n            transformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;4&quot;);\r\n            DOMSource source = new DOMSource(doc);\r\n            StreamResult result = new StreamResult(new File(xmlPath));\r\n            transformer.transform(source, result);\r\n\r\n            System.out.println(&quot;The XML file is successfully created&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            JOptionPane.showMessageDialog(null, &quot;Error: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    private void createAndAppendElement(Document doc, Element parentElement, String elementName, String elementValue) {\r\n        Element element = doc.createElement(elementName);\r\n        element.appendChild(doc.createTextNode(elementValue));\r\n        parentElement.appendChild(element);\r\n    }\r\n\r\n    private String getImportanceValue(String priority) {\r\n        if (&quot;High&quot;.equals(priority)) {\r\n            return &quot;3&quot;;\r\n        } else if (&quot;Medium&quot;.equals(priority)) {\r\n            return &quot;2&quot;;\r\n        } else {\r\n            return &quot;1&quot;;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EasytestlinkUtil converter = new EasytestlinkUtil();\r\n        converter.processToXml(excelPath, sheetName, xmlPath);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nHere are my Modules and Libraries:\r\n\r\npoi 4.0.1\r\nxml beans 5.1.1\r\nIn my previous attempts, an error occurred that DocumntFactory not found in xmlbeans, I suspect there is a conflict between my dependencies.So I streamlined the dependencies of my project structure in IDEA, but the following issues arose: &#39;org.apache.xmlbeans.XmlOptions org.apache.xmlbeans.XmlOptions.setDisallowDocTypeDeclaration(boolean)&#39;\r\n\r\nI hope anyone can help me to find this method :\r\nsetDisallowDocTypeDeclaration\r\n\r\nIn fact,I have already written this code in Python and it can run normally, I am a green hand in java, and I think apache POI and xmlbeans are so unfriendly to me...\r\n\r\nAnd here are my python source code, I hope it can help you to help me locate problem:\r\n\r\n```\r\nfrom tkinter import messagebox, filedialog, Button, Entry, Label, Tk\r\n\r\nimport openpyxl\r\nfrom xml.etree.ElementTree import Element, SubElement, tostring\r\nfrom xml.dom import minidom\r\n\r\n\r\ndef process_excel_to_xml(excel_file_path, sheet_name, output_xml_path):\r\n    try:\r\n        # Load the Excel file\r\n        workbook = openpyxl.load_workbook(excel_file_path)\r\n        sheet = workbook[sheet_name]\r\n    except FileNotFoundError:\r\n        messagebox.showerror(&quot;Error&quot;, &quot;File not found. Please choose a valid Excel file.&quot;)\r\n        return\r\n    except KeyError:\r\n        messagebox.showerror(&quot;Error&quot;, f&quot;Sheet &#39;{sheet_name}&#39; not found in the Excel file.&quot;)\r\n        return\r\n\r\n    # Load the Excel file\r\n    workbook = openpyxl.load_workbook(excel_file_path)\r\n    sheet = workbook[sheet_name]\r\n\r\n    # Create the root element for the XML\r\n    root = Element(&quot;testcases&quot;)\r\n\r\n    # Process each row in the Excel sheet starting from row 4\r\n    for row in sheet.iter_rows(min_row=4, values_only=True):\r\n        # Extract the values from the Excel columns\r\n        tc_id = row[1]\r\n        tc_summary = row[2]\r\n        tc_preconditions = row[3]\r\n        tc_priority = row[9]\r\n        tc_automationable = row[10]\r\n        tc_action = row[4]\r\n        tc_exception = row[5]\r\n\r\n        # Skip the row if TC ID is empty\r\n        if not tc_id:\r\n            continue\r\n\r\n        # Create the testcase element\r\n        testcase = SubElement(root, &quot;testcase&quot;)\r\n        testcase.set(&quot;internalid&quot;, tc_id.replace(&quot;TC&quot;, &quot;&quot;).replace(&quot;.&quot;, &quot;&quot;))\r\n        testcase.set(&quot;name&quot;, tc_summary.strip()[:100] if tc_summary else &quot;&quot;)\r\n\r\n        # Create the summary element\r\n        summary = SubElement(testcase, &quot;summary&quot;)\r\n        summary.text = &quot;&lt;p&gt;{}&lt;/p&gt;&quot;.format(tc_summary[:100]) if tc_summary else &quot;&quot;\r\n\r\n        # Create the preconditions element\r\n        preconditions = SubElement(testcase, &quot;preconditions&quot;)\r\n        preconditions.text = &quot;&lt;p&gt;{}&lt;/p&gt;&quot;.format(tc_preconditions.replace(&#39;\\n&#39;, &#39;&lt;br/&gt;&#39;)) if tc_preconditions else &quot;&quot;\r\n\r\n        steps = SubElement(testcase, &quot;steps&quot;)\r\n\r\n        # Combine TC Action (E column) and TC Exception (F column) into one string with line breaks\r\n        combined_actions = &quot;\\n&quot;.join(&quot;&lt;p&gt;{}&lt;/p&gt;&quot;.format(action.strip()) for action in str(tc_action).split(&#39;\\n&#39;) if action.strip())\r\n        combined_exceptions = &quot;\\n&quot;.join(&quot;&lt;p&gt;{}&lt;/p&gt;&quot;.format(exception.strip()) for exception in str(tc_exception).split(&#39;\\n&#39;) if exception.strip())\r\n\r\n        # Create the step element\r\n        step = SubElement(steps, &quot;step&quot;)\r\n        step_number = SubElement(step, &quot;step_number&quot;)\r\n        step_number.text = &quot;&lt;![CDATA[1]]&gt;&quot;\r\n\r\n        # Create the actions element\r\n        actions = SubElement(step, &quot;actions&quot;)\r\n        actions.text = combined_actions\r\n\r\n        # Create the expectedresults element\r\n        expectedresults = SubElement(step, &quot;expectedresults&quot;)\r\n        expectedresults.text = combined_exceptions\r\n\r\n        # Create the importance element\r\n        importance = SubElement(testcase, &quot;importance&quot;)\r\n        if tc_priority == &quot;High&quot;:\r\n            importance.text = &quot;&lt;![CDATA[3]]&gt;&quot;\r\n        elif tc_priority == &quot;Medium&quot;:\r\n            importance.text = &quot;&lt;![CDATA[2]]&gt;&quot;\r\n        else:\r\n            importance.text = &quot;&lt;![CDATA[1]]&gt;&quot;\r\n\r\n        # Create the execution_type element\r\n        execution_type = SubElement(testcase, &quot;execution_type&quot;)\r\n        if tc_automationable == &quot;Yes&quot;:\r\n            execution_type.text = &quot;&lt;![CDATA[2]]&gt;&quot;\r\n        elif tc_automationable == &quot;No&quot;:\r\n            execution_type.text = &quot;&lt;![CDATA[1]]&gt;&quot;\r\n\r\n    # Create a pretty-formatted XML string\r\n    xml_string = minidom.parseString(tostring(root)).toprettyxml(indent=&quot;    &quot;, newl=&quot;\\n&quot;, encoding=&quot;utf-8&quot;).decode()\r\n\r\n    # Remove empty lines caused by pretty-printing\r\n    xml_lines = xml_string.split(&quot;\\n&quot;)\r\n    xml_lines = [line for line in xml_lines if line.strip()]\r\n    xml_string = &quot;\\n&quot;.join(xml_lines)\r\n\r\n    # Write the XML string to a file with UTF-8 encoding\r\n    with open(output_xml_path, &quot;w&quot;, encoding=&quot;utf-8&quot;) as xml_file:\r\n        xml_file.write(xml_string)\r\n\r\n    messagebox.showinfo(&quot;Info&quot;, &quot;The XML file is successfully created&quot;)\r\n\r\n\r\ndef choose_file():\r\n    file_path = filedialog.askopenfilename(filetypes=[(&quot;Excel files&quot;, &quot;*.xlsx&quot;)])\r\n    if file_path:\r\n        entry_file_path.delete(0, &quot;end&quot;)\r\n        entry_file_path.insert(0, file_path)\r\n\r\n\r\ndef choose_output_folder():\r\n    output_folder = filedialog.askdirectory()\r\n    if output_folder:\r\n        entry_output_folder.delete(0, &quot;end&quot;)\r\n        entry_output_folder.insert(0, output_folder)\r\n\r\n\r\ndef generate_xml():\r\n    excel_file_path = entry_file_path.get()\r\n    sheet_name = entry_sheet_name.get()\r\n    output_folder = entry_output_folder.get()\r\n\r\n    if not excel_file_path or not sheet_name or not output_folder:\r\n        messagebox.showwarning(&quot;Warning&quot;, &quot;Please enter the file path, sheet name, and choose the output folder.&quot;)\r\n        return\r\n\r\n    output_xml_path = f&quot;{output_folder}/output.xml&quot;\r\n    process_excel_to_xml(excel_file_path, sheet_name, output_xml_path)\r\n\r\n\r\n# Create the main application window\r\nroot = Tk()\r\nroot.title(&quot;Easy Testlink XML generator&quot;)\r\n\r\n# Create widgets\r\nlabel_file_path = Label(root, text=&quot;Excel File:&quot;)\r\nentry_file_path = Entry(root, width=40)\r\nbutton_browse = Button(root, text=&quot;Browse&quot;, command=choose_file)\r\n\r\nlabel_sheet_name = Label(root, text=&quot;Sheet Name:&quot;)\r\nentry_sheet_name = Entry(root, width=40)\r\n\r\nlabel_output_folder = Label(root, text=&quot;Output Folder:&quot;)\r\nentry_output_folder = Entry(root, width=40)\r\nbutton_browse_output = Button(root, text=&quot;Browse&quot;, command=choose_output_folder)\r\n\r\nbutton_generate = Button(root, text=&quot;Generate XML&quot;, command=generate_xml)\r\n\r\n# Grid layout\r\nlabel_file_path.grid(row=0, column=0, padx=5, pady=5)\r\nentry_file_path.grid(row=0, column=1, padx=5, pady=5)\r\nbutton_browse.grid(row=0, column=2, padx=5, pady=5)\r\n\r\nlabel_sheet_name.grid(row=1, column=0, padx=5, pady=5)\r\nentry_sheet_name.grid(row=1, column=1, padx=5, pady=5)\r\n\r\nlabel_output_folder.gr`your text`id(row=2, column=0, padx=5, pady=5)\r\nentry_output_folder.grid(row=2, column=1, padx=5, pady=5)\r\nbutton_browse_output.grid(row=2, column=2, padx=5, pady=5)\r\n\r\nbutton_generate.grid(row=3, columnspan=3, padx=5, pady=10)\r\n\r\n# Create a prompt area\r\nprompt_label = Label(root, text=&quot;Please use a standard TA template Excel file!!!&quot;, fg=&quot;red&quot;)\r\nprompt_label.config(font=(&quot;Arial&quot;, 14, &quot;italic&quot;))\r\nprompt_label.grid(row=4, columnspan=3, padx=5, pady=10)\r\n# Pack the label to display it on the window\r\n\r\n\r\nroot.mainloop()\r\n\r\n```\r\n`","title":"NoSuchMethodError: &#39;org.apache.xmlbeans.XmlOptions org.apache.xmlbeans.XmlOptions.setDisallowDocTypeDeclaration(boolean)&#39;","body":"<p>`I am currently writing a program to convert Excel files into XML files, but I have encountered some errors from IDEA that prompt me:\n***Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: 'org.apache.xmlbeans.XmlOptions org.apache.xmlbeans.XmlOptions.setDisallowDocTypeDeclaration(boolean)'</p>\n<hr />\n<p>I had tried many methods but no use</p>\n<h2>Here are my codes:</h2>\n<pre><code>package com.ericsson.function.util;\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.w3c.dom.*;\n\nimport javax.swing.*;\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.transform.*;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\nimport java.io.*;\n\npublic class EasytestlinkUtil {\n\n    private static String excelPath = &quot;C:\\\\Users\\\\Administrator\\\\Desktop\\\\hahaha.xlsx&quot;;\n    private static String sheetName = &quot;test&quot;;\n    private static String xmlPath = &quot;.&quot;;\n\n    public void processToXml(String excelPath, String sheetName, String xmlPath) {\n        try {\n            // Load the Excel file\n            FileInputStream excelFile = new FileInputStream(new File(excelPath));\n            Workbook workbook = new XSSFWorkbook(excelFile);\n            Sheet sheet = workbook.getSheet(sheetName);\n\n            // Create the root element for the XML\n            DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\n            DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\n            Document doc = dBuilder.newDocument();\n            Element rootElement = doc.createElement(&quot;testcases&quot;);\n            doc.appendChild(rootElement);\n\n            // Process each row in the Excel sheet starting from row 4\n            for (int rowNum = 4; rowNum &lt;= sheet.getLastRowNum(); rowNum++) {\n                Row row = sheet.getRow(rowNum);\n                String tcId = row.getCell(1).getStringCellValue();\n                String tcSummary = row.getCell(2).getStringCellValue();\n                String tcPrecondition = row.getCell(3).getStringCellValue();\n                String tcPriority = row.getCell(9).getStringCellValue();\n                String tcAutomationAbleStr = row.getCell(10).getStringCellValue();\n                String tcAction = row.getCell(4).getStringCellValue();\n                String tcException = row.getCell(5).getStringCellValue();\n\n                // Create the testcase element\n                Element testcase = doc.createElement(&quot;testcase&quot;);\n                rootElement.appendChild(testcase);\n\n                // Create and append elements for testcase details\n                createAndAppendElement(doc, testcase, &quot;internalid&quot;, tcId.replace(&quot;TC&quot;, &quot;&quot;).replace(&quot;.&quot;, &quot;&quot;));\n                createAndAppendElement(doc, testcase, &quot;name&quot;, tcSummary.substring(0, Math.min(100, tcSummary.length())));\n                createAndAppendElement(doc, testcase, &quot;summary&quot;, tcSummary);\n                createAndAppendElement(doc, testcase, &quot;preconditions&quot;, tcPrecondition.replace('\\n', '\\u2028'));\n\n                // Create steps element\n                Element steps = doc.createElement(&quot;steps&quot;);\n                testcase.appendChild(steps);\n\n                // Create step element\n                Element step = doc.createElement(&quot;step&quot;);\n                steps.appendChild(step);\n\n                createAndAppendElement(doc, step, &quot;step_number&quot;, &quot;1&quot;);\n                createAndAppendElement(doc, step, &quot;actions&quot;, tcAction);\n                createAndAppendElement(doc, step, &quot;expectedresults&quot;, tcException);\n                createAndAppendElement(doc, step, &quot;importance&quot;, getImportanceValue(tcPriority));\n                createAndAppendElement(doc, step, &quot;execution_type&quot;, &quot;Yes&quot;.equals(tcAutomationAbleStr) ? &quot;2&quot; : &quot;1&quot;);\n            }\n\n            // Create a pretty-formatted XML string\n            TransformerFactory transformerFactory = TransformerFactory.newInstance();\n            Transformer transformer = transformerFactory.newTransformer();\n            transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n            transformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;4&quot;);\n            DOMSource source = new DOMSource(doc);\n            StreamResult result = new StreamResult(new File(xmlPath));\n            transformer.transform(source, result);\n\n            System.out.println(&quot;The XML file is successfully created&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n            JOptionPane.showMessageDialog(null, &quot;Error: &quot; + e.getMessage());\n        }\n    }\n\n    private void createAndAppendElement(Document doc, Element parentElement, String elementName, String elementValue) {\n        Element element = doc.createElement(elementName);\n        element.appendChild(doc.createTextNode(elementValue));\n        parentElement.appendChild(element);\n    }\n\n    private String getImportanceValue(String priority) {\n        if (&quot;High&quot;.equals(priority)) {\n            return &quot;3&quot;;\n        } else if (&quot;Medium&quot;.equals(priority)) {\n            return &quot;2&quot;;\n        } else {\n            return &quot;1&quot;;\n        }\n    }\n\n    public static void main(String[] args) {\n        EasytestlinkUtil converter = new EasytestlinkUtil();\n        converter.processToXml(excelPath, sheetName, xmlPath);\n    }\n}\n\n</code></pre>\n<p>Here are my Modules and Libraries:</p>\n<p>poi 4.0.1\nxml beans 5.1.1\nIn my previous attempts, an error occurred that DocumntFactory not found in xmlbeans, I suspect there is a conflict between my dependencies.So I streamlined the dependencies of my project structure in IDEA, but the following issues arose: 'org.apache.xmlbeans.XmlOptions org.apache.xmlbeans.XmlOptions.setDisallowDocTypeDeclaration(boolean)'</p>\n<p>I hope anyone can help me to find this method :\nsetDisallowDocTypeDeclaration</p>\n<p>In fact,I have already written this code in Python and it can run normally, I am a green hand in java, and I think apache POI and xmlbeans are so unfriendly to me...</p>\n<p>And here are my python source code, I hope it can help you to help me locate problem:</p>\n<pre><code>from tkinter import messagebox, filedialog, Button, Entry, Label, Tk\n\nimport openpyxl\nfrom xml.etree.ElementTree import Element, SubElement, tostring\nfrom xml.dom import minidom\n\n\ndef process_excel_to_xml(excel_file_path, sheet_name, output_xml_path):\n    try:\n        # Load the Excel file\n        workbook = openpyxl.load_workbook(excel_file_path)\n        sheet = workbook[sheet_name]\n    except FileNotFoundError:\n        messagebox.showerror(&quot;Error&quot;, &quot;File not found. Please choose a valid Excel file.&quot;)\n        return\n    except KeyError:\n        messagebox.showerror(&quot;Error&quot;, f&quot;Sheet '{sheet_name}' not found in the Excel file.&quot;)\n        return\n\n    # Load the Excel file\n    workbook = openpyxl.load_workbook(excel_file_path)\n    sheet = workbook[sheet_name]\n\n    # Create the root element for the XML\n    root = Element(&quot;testcases&quot;)\n\n    # Process each row in the Excel sheet starting from row 4\n    for row in sheet.iter_rows(min_row=4, values_only=True):\n        # Extract the values from the Excel columns\n        tc_id = row[1]\n        tc_summary = row[2]\n        tc_preconditions = row[3]\n        tc_priority = row[9]\n        tc_automationable = row[10]\n        tc_action = row[4]\n        tc_exception = row[5]\n\n        # Skip the row if TC ID is empty\n        if not tc_id:\n            continue\n\n        # Create the testcase element\n        testcase = SubElement(root, &quot;testcase&quot;)\n        testcase.set(&quot;internalid&quot;, tc_id.replace(&quot;TC&quot;, &quot;&quot;).replace(&quot;.&quot;, &quot;&quot;))\n        testcase.set(&quot;name&quot;, tc_summary.strip()[:100] if tc_summary else &quot;&quot;)\n\n        # Create the summary element\n        summary = SubElement(testcase, &quot;summary&quot;)\n        summary.text = &quot;&lt;p&gt;{}&lt;/p&gt;&quot;.format(tc_summary[:100]) if tc_summary else &quot;&quot;\n\n        # Create the preconditions element\n        preconditions = SubElement(testcase, &quot;preconditions&quot;)\n        preconditions.text = &quot;&lt;p&gt;{}&lt;/p&gt;&quot;.format(tc_preconditions.replace('\\n', '&lt;br/&gt;')) if tc_preconditions else &quot;&quot;\n\n        steps = SubElement(testcase, &quot;steps&quot;)\n\n        # Combine TC Action (E column) and TC Exception (F column) into one string with line breaks\n        combined_actions = &quot;\\n&quot;.join(&quot;&lt;p&gt;{}&lt;/p&gt;&quot;.format(action.strip()) for action in str(tc_action).split('\\n') if action.strip())\n        combined_exceptions = &quot;\\n&quot;.join(&quot;&lt;p&gt;{}&lt;/p&gt;&quot;.format(exception.strip()) for exception in str(tc_exception).split('\\n') if exception.strip())\n\n        # Create the step element\n        step = SubElement(steps, &quot;step&quot;)\n        step_number = SubElement(step, &quot;step_number&quot;)\n        step_number.text = &quot;&lt;![CDATA[1]]&gt;&quot;\n\n        # Create the actions element\n        actions = SubElement(step, &quot;actions&quot;)\n        actions.text = combined_actions\n\n        # Create the expectedresults element\n        expectedresults = SubElement(step, &quot;expectedresults&quot;)\n        expectedresults.text = combined_exceptions\n\n        # Create the importance element\n        importance = SubElement(testcase, &quot;importance&quot;)\n        if tc_priority == &quot;High&quot;:\n            importance.text = &quot;&lt;![CDATA[3]]&gt;&quot;\n        elif tc_priority == &quot;Medium&quot;:\n            importance.text = &quot;&lt;![CDATA[2]]&gt;&quot;\n        else:\n            importance.text = &quot;&lt;![CDATA[1]]&gt;&quot;\n\n        # Create the execution_type element\n        execution_type = SubElement(testcase, &quot;execution_type&quot;)\n        if tc_automationable == &quot;Yes&quot;:\n            execution_type.text = &quot;&lt;![CDATA[2]]&gt;&quot;\n        elif tc_automationable == &quot;No&quot;:\n            execution_type.text = &quot;&lt;![CDATA[1]]&gt;&quot;\n\n    # Create a pretty-formatted XML string\n    xml_string = minidom.parseString(tostring(root)).toprettyxml(indent=&quot;    &quot;, newl=&quot;\\n&quot;, encoding=&quot;utf-8&quot;).decode()\n\n    # Remove empty lines caused by pretty-printing\n    xml_lines = xml_string.split(&quot;\\n&quot;)\n    xml_lines = [line for line in xml_lines if line.strip()]\n    xml_string = &quot;\\n&quot;.join(xml_lines)\n\n    # Write the XML string to a file with UTF-8 encoding\n    with open(output_xml_path, &quot;w&quot;, encoding=&quot;utf-8&quot;) as xml_file:\n        xml_file.write(xml_string)\n\n    messagebox.showinfo(&quot;Info&quot;, &quot;The XML file is successfully created&quot;)\n\n\ndef choose_file():\n    file_path = filedialog.askopenfilename(filetypes=[(&quot;Excel files&quot;, &quot;*.xlsx&quot;)])\n    if file_path:\n        entry_file_path.delete(0, &quot;end&quot;)\n        entry_file_path.insert(0, file_path)\n\n\ndef choose_output_folder():\n    output_folder = filedialog.askdirectory()\n    if output_folder:\n        entry_output_folder.delete(0, &quot;end&quot;)\n        entry_output_folder.insert(0, output_folder)\n\n\ndef generate_xml():\n    excel_file_path = entry_file_path.get()\n    sheet_name = entry_sheet_name.get()\n    output_folder = entry_output_folder.get()\n\n    if not excel_file_path or not sheet_name or not output_folder:\n        messagebox.showwarning(&quot;Warning&quot;, &quot;Please enter the file path, sheet name, and choose the output folder.&quot;)\n        return\n\n    output_xml_path = f&quot;{output_folder}/output.xml&quot;\n    process_excel_to_xml(excel_file_path, sheet_name, output_xml_path)\n\n\n# Create the main application window\nroot = Tk()\nroot.title(&quot;Easy Testlink XML generator&quot;)\n\n# Create widgets\nlabel_file_path = Label(root, text=&quot;Excel File:&quot;)\nentry_file_path = Entry(root, width=40)\nbutton_browse = Button(root, text=&quot;Browse&quot;, command=choose_file)\n\nlabel_sheet_name = Label(root, text=&quot;Sheet Name:&quot;)\nentry_sheet_name = Entry(root, width=40)\n\nlabel_output_folder = Label(root, text=&quot;Output Folder:&quot;)\nentry_output_folder = Entry(root, width=40)\nbutton_browse_output = Button(root, text=&quot;Browse&quot;, command=choose_output_folder)\n\nbutton_generate = Button(root, text=&quot;Generate XML&quot;, command=generate_xml)\n\n# Grid layout\nlabel_file_path.grid(row=0, column=0, padx=5, pady=5)\nentry_file_path.grid(row=0, column=1, padx=5, pady=5)\nbutton_browse.grid(row=0, column=2, padx=5, pady=5)\n\nlabel_sheet_name.grid(row=1, column=0, padx=5, pady=5)\nentry_sheet_name.grid(row=1, column=1, padx=5, pady=5)\n\nlabel_output_folder.gr`your text`id(row=2, column=0, padx=5, pady=5)\nentry_output_folder.grid(row=2, column=1, padx=5, pady=5)\nbutton_browse_output.grid(row=2, column=2, padx=5, pady=5)\n\nbutton_generate.grid(row=3, columnspan=3, padx=5, pady=10)\n\n# Create a prompt area\nprompt_label = Label(root, text=&quot;Please use a standard TA template Excel file!!!&quot;, fg=&quot;red&quot;)\nprompt_label.config(font=(&quot;Arial&quot;, 14, &quot;italic&quot;))\nprompt_label.grid(row=4, columnspan=3, padx=5, pady=10)\n# Pack the label to display it on the window\n\n\nroot.mainloop()\n\n</code></pre>\n<p>`</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":6137702,"reputation":276,"user_id":4785986,"display_name":"Egor Zhuk"},"score":0,"creation_date":1489485089,"post_id":42782509,"comment_id":72679253,"body_markdown":"Could you please post the full pom, or at least repositories section.","body":"Could you please post the full pom, or at least repositories section."},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":1,"creation_date":1489488922,"post_id":42782509,"comment_id":72682141,"body_markdown":"Take a look at you `&lt;repositories&gt;&lt;/repositories&gt;` 2 of them result in 404 - page not found and the URL in `jfrog-plugins` redirects to jfrog default page.","body":"Take a look at you <code>&lt;repositories&gt;&lt;&#47;repositories&gt;</code> 2 of them result in 404 - page not found and the URL in <code>jfrog-plugins</code> redirects to jfrog default page."},{"owner":{"account_id":9015322,"reputation":427,"user_id":6718418,"accept_rate":100,"display_name":"Chaymae"},"score":0,"creation_date":1489493046,"post_id":42782509,"comment_id":72685052,"body_markdown":"I&#39;ve changed the urls and i used https://maven.java.net/content/groups/public/ but i still get the same errors","body":"I&#39;ve changed the urls and i used <a href=\"https://maven.java.net/content/groups/public/\" rel=\"nofollow noreferrer\">maven.java.net/content/groups/public</a> but i still get the same errors"},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1489525711,"post_id":42782509,"comment_id":72707793,"body_markdown":"When you&#39;ve run maven against broken repositories, maven saved the `pom` files from all your dependencies. Only they&#39;re not valid pom files but rather html replies. [Clear](http://stackoverflow.com/questions/7408545/how-do-you-clear-apache-mavens-cache) your cache before your re-run maven.","body":"When you&#39;ve run maven against broken repositories, maven saved the <code>pom</code> files from all your dependencies. Only they&#39;re not valid pom files but rather html replies. <a href=\"http://stackoverflow.com/questions/7408545/how-do-you-clear-apache-mavens-cache\">Clear</a> your cache before your re-run maven."},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1489525823,"post_id":42782509,"comment_id":72707851,"body_markdown":"Note that your `pluginRepositories` also contain dead links.","body":"Note that your <code>pluginRepositories</code> also contain dead links."},{"owner":{"account_id":9015322,"reputation":427,"user_id":6718418,"accept_rate":100,"display_name":"Chaymae"},"score":0,"creation_date":1489525995,"post_id":42782509,"comment_id":72707937,"body_markdown":"Yes thanks i cleared the cache and now it&#39;s working just fine","body":"Yes thanks i cleared the cache and now it&#39;s working just fine"},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1489526018,"post_id":42782509,"comment_id":72707952,"body_markdown":"Try printing `&lt;path-to-m2&gt;/.m2/repository/com/ibm/icu/icu4j/51.1/icu4j-51.1.pom` and you&#39;ll see that it&#39;s a html file.","body":"Try printing <code>&lt;path-to-m2&gt;&#47;.m2&#47;repository&#47;com&#47;ibm&#47;icu&#47;icu4j&#47;51.1&#47;icu4j-51.&zwnj;&#8203;1.pom</code> and you&#39;ll see that it&#39;s a html file."},{"owner":{"account_id":3850196,"reputation":3198,"user_id":3190576,"accept_rate":95,"display_name":"gdrt"},"score":0,"creation_date":1652356158,"post_id":42782509,"comment_id":127589191,"body_markdown":"@JanezKuhar clearing cache solves the issue. Wish I saw your comment earlier. Thank you! Chaymae, you can accept the corresponding answer so that it&#39;s visible to larger audience. Thanks!","body":"@JanezKuhar clearing cache solves the issue. Wish I saw your comment earlier. Thank you! Chaymae, you can accept the corresponding answer so that it&#39;s visible to larger audience. Thanks!"}],"answers":[{"comments":[{"owner":{"account_id":9015322,"reputation":427,"user_id":6718418,"accept_rate":100,"display_name":"Chaymae"},"score":0,"creation_date":1489486339,"post_id":42782821,"comment_id":72680208,"body_markdown":"I&#39;ve changed the url but still it doesn&#39;t work i got the same errors","body":"I&#39;ve changed the url but still it doesn&#39;t work i got the same errors"}],"tags":[],"owner":{"account_id":6137702,"reputation":276,"user_id":4785986,"display_name":"Egor Zhuk"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":true,"score":2,"last_activity_date":1615404170,"creation_date":1489485634,"answer_id":42782821,"question_id":42782509,"body_markdown":"You have wrong URLs for the repos. Please check [this page][1] and choose the right one.\r\n\r\n\r\n  [1]: https://maven2-repository.java.net/","title":"Maven build failure : could not transfer metadata","body":"<p>You have wrong URLs for the repos. Please check <a href=\"https://maven2-repository.java.net/\" rel=\"nofollow noreferrer\">this page</a> and choose the right one.</p>\n"},{"tags":[],"owner":{"account_id":20076447,"reputation":127,"user_id":14720089,"display_name":"Michael Goppelt"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1623311854,"creation_date":1623311854,"answer_id":67917023,"question_id":42782509,"body_markdown":"In my case it was a false certificate inside the JDK i used. ","title":"Maven build failure : could not transfer metadata","body":"<p>In my case it was a false certificate inside the JDK i used.</p>\n"},{"tags":[],"owner":{"account_id":3850196,"reputation":3198,"user_id":3190576,"accept_rate":95,"display_name":"gdrt"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652355869,"creation_date":1652355869,"answer_id":72214946,"question_id":42782509,"body_markdown":"This issue was solved after I cleared the maven cache, namely deleted `Users\\&lt;username&gt;\\.m2\\repository` (which is [safe][1] to delete) and rebuilt again.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/32991279/3190576","title":"Maven build failure : could not transfer metadata","body":"<p>This issue was solved after I cleared the maven cache, namely deleted <code>Users\\&lt;username&gt;\\.m2\\repository</code> (which is <a href=\"https://stackoverflow.com/a/32991279/3190576\">safe</a> to delete) and rebuilt again.</p>\n"},{"tags":[],"owner":{"account_id":16830690,"reputation":145,"user_id":12168742,"display_name":"Matus Babinsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695893466,"creation_date":1695893466,"answer_id":77193787,"question_id":42782509,"body_markdown":"After a bit of struggle, I just reinstalled java and the thing was fixed.","title":"Maven build failure : could not transfer metadata","body":"<p>After a bit of struggle, I just reinstalled java and the thing was fixed.</p>\n"}],"owner":{"account_id":9015322,"reputation":427,"user_id":6718418,"accept_rate":100,"display_name":"Chaymae"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62217,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":42782821,"answer_count":4,"score":10,"last_activity_date":1695893466,"creation_date":1489484763,"question_id":42782509,"body_markdown":"I&#39;m trying to run maven clean install but i got these errors and warnings \r\n\r\n    [WARNING] Could not transfer metadata org.codehaus.mojo:cobertura-maven-plugin/maven-metadata.xml from/to maven-repository.dev.java.net (http://download.java.net/maven/1): Cannot access http://download.java.net/maven/1 with type legacy using the available connector factories: BasicRepositoryConnectorFactory\r\n    [WARNING] The POM for javax.transaction:jta:jar:1.1 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [WARNING] The POM for com.sun.xml.bind:jaxb-impl:jar:2.1.7 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [WARNING] The POM for org.springframework:spring-support:jar:2.0.8 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [WARNING] The POM for javax.activation:activation:jar:1.1 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [WARNING] The POM for javax.mail:mail:jar:1.4.1 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [WARNING] The POM for net.sourceforge.jexcelapi:jxl:jar:2.6.10 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [WARNING] The POM for net.sf.jasperreports:jasperreports:jar:3.7.4 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [WARNING] The POM for org.codehaus.groovy:groovy-all:jar:1.6.0 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [WARNING] The POM for com.lowagie:itext:jar:2.1.7 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [WARNING] The POM for org.apache.poi:poi:jar:3.1-FINAL is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [WARNING] The POM for javax.servlet:jsp-api:jar:2.0 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    --\r\n    [WARNING] /D:/projet/perWeb/per/perTools/src/main/java/ma/archostechnology/swk/report/PDFReportingService.java: Some input files use unchecked or unsafe operations.\r\n    [WARNING] /D:/projet/perWeb/per/perTools/src/main/java/ma/archostechnology/swk/report/PDFReportingService.java: Recompile with -Xlint:unchecked for details.\r\n    [INFO] 2 warnings \r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] error reading D:\\Fa\\repository\\javax\\transaction\\jta\\1.1\\jta-1.1.jar; error in opening zip file\r\n    [ERROR] error reading D:\\Fa\\repository\\com\\sun\\xml\\bind\\jaxb-impl\\2.1.7\\jaxb-impl-2.1.7.jar; error in opening zip file\r\n    [ERROR] error reading D:\\Faa\\repository\\org\\springframework\\spring-support\\2.0.8\\spring-support-2.0.8.jar; error in opening zip file\r\n    [ERROR] error reading    D:\\Fa\\repository\\javax\\activation\\activation\\1.1\\activation-1.1.jar; error in opening zip file\r\n    [ERROR] error reading D:\\Fa\\repository\\javax\\mail\\mail\\1.4.1\\mail-1.4.1.jar; error in opening zip file\r\n\r\nhere is my pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;project&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;artifactId&gt;per&lt;/artifactId&gt;\r\n    \t\t&lt;groupId&gt;ma.archostechnology&lt;/groupId&gt;\r\n    \t\t&lt;version&gt;2.0&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;ma.archostechnology&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;perTools&lt;/artifactId&gt;\r\n    \t&lt;name&gt;Projet PER Tools&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \t\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jta&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1.7&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-support&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.8&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jxl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.6.10&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.7.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.lowagie&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;itext&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1.7&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1-FINAL&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.8.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-pool&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-vfs&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-vfs&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.objectlab.kit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;datecalc-common&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.objectlab.kit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;datecalc-jdk&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t   &lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\r\n    \t\t   &lt;artifactId&gt;icu4j&lt;/artifactId&gt;\r\n    \t\t   &lt;version&gt;51.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;maven2-repository.dev.java.net&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Java.net Maven 2 Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://download.java.net/maven/2&lt;/url&gt;\r\n    \t\t\t&lt;layout&gt;default&lt;/layout&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;maven-repository.dev.java.net&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Java.net Maven 1 Repository (legacy)&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://download.java.net/maven/1&lt;/url&gt;\r\n    \t\t\t&lt;layout&gt;legacy&lt;/layout&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;jfrog-plugins&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;jfrog-plugins-dist&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;\r\n    \t\t\t\thttp://www.jfrog.org/artifactory/plugins-releases@repo\r\n    \t\t\t&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n      \t\t&lt;repository&gt;\r\n        \t\t&lt;id&gt;localrepository&lt;/id&gt;\r\n        \t\t&lt;name&gt;localrepository&lt;/name&gt;\r\n        \t\t&lt;url&gt;D:\\FatimaZahra\\repository&lt;/url&gt;\r\n      \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;maven2-repository.dev.java.net&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;http://download.java.net/maven/2&lt;/url&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;maven-repository.dev.java.net&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;http://download.java.net/maven/1&lt;/url&gt;\r\n    \t\t\t&lt;layout&gt;legacy&lt;/layout&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;inherited&gt;true&lt;/inherited&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.5&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.5&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t\r\n    \r\n    &lt;/project&gt;\r\n\r\nWhen i run the mvn -X compile i got this\r\n\r\n    [DEBUG] Resolving plugin version for org.codehaus.mojo:cobertura-maven-plugin\r\n    [DEBUG] Could not find metadata org.codehaus.mojo:cobertura-maven-plugin/maven-metadata.xml in local (D:\\FatimaZahra\\repository)\r\n    [DEBUG] Failure to find org.codehaus.mojo:cobertura-maven-plugin/maven-metadata.xml in http://download.java.net/maven/2 was cached in the local repository, resolution will not be reattempted until the update interval of maven2-repository.dev.java.net has elapsed or updates are forced\r\n    [DEBUG] Skipped remote request for org.codehaus.mojo:cobertura-maven-plugin/maven-metadata.xml, locally cached metadata up-to-date.\r\n    [DEBUG] Writing tracking file D:\\FatimaZahra\\repository\\org\\codehaus\\mojo\\cobertura-maven-plugin\\resolver-status.properties\r\n    [WARNING] Could not transfer metadata org.codehaus.mojo:cobertura-maven-plugin/maven-metadata.xml from/to maven-repository.dev.java.net (http://download.java.net/maven/1): Cannot access http://download.java.net/maven/1 with type legacy using the available connector factories: BasicRepositoryConnectorFactory\r\n    org.eclipse.aether.transfer.MetadataTransferException: Could not transfer metadata org.codehaus.mojo:cobertura-maven-plugin/maven-metadata.xml from/to maven-repository.dev.java.net (http://download.java.net/maven/1): Cannot access http://download.java.net/maven/1 with type legacy using the available connector factories: BasicRepositoryConnectorFactory\r\n    \tat org.eclipse.aether.internal.impl.DefaultMetadataResolver$ResolveTask.run(DefaultMetadataResolver.java:632)\r\n    \tat org.eclipse.aether.util.concurrency.RunnableErrorForwarder$1.run(RunnableErrorForwarder.java:67)\r\n    \tat org.eclipse.aether.internal.impl.DefaultMetadataResolver$1.execute(DefaultMetadataResolver.java:527)\r\n    \tat org.eclipse.aether.internal.impl.DefaultMetadataResolver.resolve(DefaultMetadataResolver.java:382)\r\n    \tat org.eclipse.aether.internal.impl.DefaultMetadataResolver.resolveMetadata(DefaultMetadataResolver.java:205)\r\n    \tat org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveMetadata(DefaultRepositorySystem.java:309)\r\n    \tat org.apache.maven.plugin.version.internal.DefaultPluginVersionResolver.resolveFromRepository(DefaultPluginVersionResolver.java:133)\r\n    \tat org.apache.maven.plugin.version.internal.DefaultPluginVersionResolver.resolve(DefaultPluginVersionResolver.java:96)\r\n    \tat org.apache.maven.lifecycle.internal.LifecyclePluginResolver.resolveMissingPluginVersions(LifecyclePluginResolver.java:89)\r\n    \tat org.apache.maven.lifecycle.internal.DefaultLifecycleExecutionPlanCalculator.calculateExecutionPlan(DefaultLifecycleExecutionPlanCalculator.java:125)\r\n    \tat org.apache.maven.lifecycle.internal.DefaultLifecycleExecutionPlanCalculator.calculateExecutionPlan(DefaultLifecycleExecutionPlanCalculator.java:145)\r\n    \tat org.apache.maven.lifecycle.internal.builder.BuilderCommon.resolveBuildPlan(BuilderCommon.java:96)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:109)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\r\n    \tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\r\n    \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\r\n    \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\r\n    \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\r\n    \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n    Caused by: org.eclipse.aether.transfer.NoRepositoryConnectorException: Cannot access http://download.java.net/maven/1 with type legacy using the available connector factories: BasicRepositoryConnectorFactory\r\n    \tat org.eclipse.aether.internal.impl.DefaultRepositoryConnectorProvider.newRepositoryConnector(DefaultRepositoryConnectorProvider.java:174)\r\n    \tat org.eclipse.aether.internal.impl.DefaultMetadataResolver$ResolveTask.run(DefaultMetadataResolver.java:603)\r\n    \t... 29 more\r\n    Caused by: org.eclipse.aether.transfer.NoRepositoryConnectorException: Cannot access http://download.java.net/maven/1 with type legacy using the available layout factories: Maven2RepositoryLayoutFactory\r\n    \tat org.eclipse.aether.connector.basic.BasicRepositoryConnector.&lt;init&gt;(BasicRepositoryConnector.java:111)\r\n    \tat org.eclipse.aether.connector.basic.BasicRepositoryConnectorFactory.newInstance(BasicRepositoryConnectorFactory.java:180)\r\n    \tat org.eclipse.aether.internal.impl.DefaultRepositoryConnectorProvider.newRepositoryConnector(DefaultRepositoryConnectorProvider.java:113)\r\n    \t... 30 more\r\n    Caused by: org.eclipse.aether.transfer.NoRepositoryLayoutException: Cannot access http://download.java.net/maven/1 with type legacy using the available layout factories: Maven2RepositoryLayoutFactory\r\n    \tat org.eclipse.aether.internal.impl.DefaultRepositoryLayoutProvider.newRepositoryLayout(DefaultRepositoryLayoutProvider.java:142)\r\n    \tat org.eclipse.aether.connector.basic.BasicRepositoryConnector.&lt;init&gt;(BasicRepositoryConnector.java:107)\r\n    \t... 32 more\r\n    Caused by: org.eclipse.aether.transfer.NoRepositoryLayoutException: Unsupported repository layout legacy\r\n    \tat org.eclipse.aether.internal.impl.Maven2RepositoryLayoutFactory.newInstance(Maven2RepositoryLayoutFactory.java:64)\r\n    \tat org.eclipse.aether.internal.impl.DefaultRepositoryLayoutProvider.newRepositoryLayout(DefaultRepositoryLayoutProvider.java:111)\r\n    \t... 33 more\r\n\r\nI&#39;ve already tried to delete the repository and i&#39;m not using any proxy.\r\nIs there anything i&#39;m missing? Could you help me please\r\n\t","title":"Maven build failure : could not transfer metadata","body":"<p>I'm trying to run maven clean install but i got these errors and warnings </p>\n\n<pre><code>[WARNING] Could not transfer metadata org.codehaus.mojo:cobertura-maven-plugin/maven-metadata.xml from/to maven-repository.dev.java.net (http://download.java.net/maven/1): Cannot access http://download.java.net/maven/1 with type legacy using the available connector factories: BasicRepositoryConnectorFactory\n[WARNING] The POM for javax.transaction:jta:jar:1.1 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[WARNING] The POM for com.sun.xml.bind:jaxb-impl:jar:2.1.7 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[WARNING] The POM for org.springframework:spring-support:jar:2.0.8 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[WARNING] The POM for javax.activation:activation:jar:1.1 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[WARNING] The POM for javax.mail:mail:jar:1.4.1 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[WARNING] The POM for net.sourceforge.jexcelapi:jxl:jar:2.6.10 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[WARNING] The POM for net.sf.jasperreports:jasperreports:jar:3.7.4 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[WARNING] The POM for org.codehaus.groovy:groovy-all:jar:1.6.0 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[WARNING] The POM for com.lowagie:itext:jar:2.1.7 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[WARNING] The POM for org.apache.poi:poi:jar:3.1-FINAL is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[WARNING] The POM for javax.servlet:jsp-api:jar:2.0 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n--\n[WARNING] /D:/projet/perWeb/per/perTools/src/main/java/ma/archostechnology/swk/report/PDFReportingService.java: Some input files use unchecked or unsafe operations.\n[WARNING] /D:/projet/perWeb/per/perTools/src/main/java/ma/archostechnology/swk/report/PDFReportingService.java: Recompile with -Xlint:unchecked for details.\n[INFO] 2 warnings \n[INFO] -------------------------------------------------------------\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] error reading D:\\Fa\\repository\\javax\\transaction\\jta\\1.1\\jta-1.1.jar; error in opening zip file\n[ERROR] error reading D:\\Fa\\repository\\com\\sun\\xml\\bind\\jaxb-impl\\2.1.7\\jaxb-impl-2.1.7.jar; error in opening zip file\n[ERROR] error reading D:\\Faa\\repository\\org\\springframework\\spring-support\\2.0.8\\spring-support-2.0.8.jar; error in opening zip file\n[ERROR] error reading    D:\\Fa\\repository\\javax\\activation\\activation\\1.1\\activation-1.1.jar; error in opening zip file\n[ERROR] error reading D:\\Fa\\repository\\javax\\mail\\mail\\1.4.1\\mail-1.4.1.jar; error in opening zip file\n</code></pre>\n\n<p>here is my pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;project&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;per&lt;/artifactId&gt;\n        &lt;groupId&gt;ma.archostechnology&lt;/groupId&gt;\n        &lt;version&gt;2.0&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;ma.archostechnology&lt;/groupId&gt;\n    &lt;artifactId&gt;perTools&lt;/artifactId&gt;\n    &lt;name&gt;Projet PER Tools&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n            &lt;artifactId&gt;jta&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.1.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-support&lt;/artifactId&gt;\n            &lt;version&gt;2.0.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\n            &lt;artifactId&gt;jxl&lt;/artifactId&gt;\n            &lt;version&gt;2.6.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n            &lt;version&gt;3.7.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n            &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\n            &lt;version&gt;1.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\n            &lt;artifactId&gt;itext&lt;/artifactId&gt;\n            &lt;version&gt;2.1.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;3.1-FINAL&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n            &lt;version&gt;1.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-pool&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-vfs&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-vfs&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.objectlab.kit&lt;/groupId&gt;\n            &lt;artifactId&gt;datecalc-common&lt;/artifactId&gt;\n            &lt;version&gt;1.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.objectlab.kit&lt;/groupId&gt;\n            &lt;artifactId&gt;datecalc-jdk&lt;/artifactId&gt;\n            &lt;version&gt;1.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\n           &lt;artifactId&gt;icu4j&lt;/artifactId&gt;\n           &lt;version&gt;51.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;maven2-repository.dev.java.net&lt;/id&gt;\n            &lt;name&gt;Java.net Maven 2 Repository&lt;/name&gt;\n            &lt;url&gt;http://download.java.net/maven/2&lt;/url&gt;\n            &lt;layout&gt;default&lt;/layout&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;maven-repository.dev.java.net&lt;/id&gt;\n            &lt;name&gt;Java.net Maven 1 Repository (legacy)&lt;/name&gt;\n            &lt;url&gt;http://download.java.net/maven/1&lt;/url&gt;\n            &lt;layout&gt;legacy&lt;/layout&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;jfrog-plugins&lt;/id&gt;\n            &lt;name&gt;jfrog-plugins-dist&lt;/name&gt;\n            &lt;url&gt;\n                http://www.jfrog.org/artifactory/plugins-releases@repo\n            &lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;localrepository&lt;/id&gt;\n            &lt;name&gt;localrepository&lt;/name&gt;\n            &lt;url&gt;D:\\FatimaZahra\\repository&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;maven2-repository.dev.java.net&lt;/id&gt;\n            &lt;url&gt;http://download.java.net/maven/2&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;maven-repository.dev.java.net&lt;/id&gt;\n            &lt;url&gt;http://download.java.net/maven/1&lt;/url&gt;\n            &lt;layout&gt;legacy&lt;/layout&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n    &lt;build&gt;\n        &lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;inherited&gt;true&lt;/inherited&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.5&lt;/source&gt;\n                    &lt;target&gt;1.5&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>When i run the mvn -X compile i got this</p>\n\n<pre><code>[DEBUG] Resolving plugin version for org.codehaus.mojo:cobertura-maven-plugin\n[DEBUG] Could not find metadata org.codehaus.mojo:cobertura-maven-plugin/maven-metadata.xml in local (D:\\FatimaZahra\\repository)\n[DEBUG] Failure to find org.codehaus.mojo:cobertura-maven-plugin/maven-metadata.xml in http://download.java.net/maven/2 was cached in the local repository, resolution will not be reattempted until the update interval of maven2-repository.dev.java.net has elapsed or updates are forced\n[DEBUG] Skipped remote request for org.codehaus.mojo:cobertura-maven-plugin/maven-metadata.xml, locally cached metadata up-to-date.\n[DEBUG] Writing tracking file D:\\FatimaZahra\\repository\\org\\codehaus\\mojo\\cobertura-maven-plugin\\resolver-status.properties\n[WARNING] Could not transfer metadata org.codehaus.mojo:cobertura-maven-plugin/maven-metadata.xml from/to maven-repository.dev.java.net (http://download.java.net/maven/1): Cannot access http://download.java.net/maven/1 with type legacy using the available connector factories: BasicRepositoryConnectorFactory\norg.eclipse.aether.transfer.MetadataTransferException: Could not transfer metadata org.codehaus.mojo:cobertura-maven-plugin/maven-metadata.xml from/to maven-repository.dev.java.net (http://download.java.net/maven/1): Cannot access http://download.java.net/maven/1 with type legacy using the available connector factories: BasicRepositoryConnectorFactory\n    at org.eclipse.aether.internal.impl.DefaultMetadataResolver$ResolveTask.run(DefaultMetadataResolver.java:632)\n    at org.eclipse.aether.util.concurrency.RunnableErrorForwarder$1.run(RunnableErrorForwarder.java:67)\n    at org.eclipse.aether.internal.impl.DefaultMetadataResolver$1.execute(DefaultMetadataResolver.java:527)\n    at org.eclipse.aether.internal.impl.DefaultMetadataResolver.resolve(DefaultMetadataResolver.java:382)\n    at org.eclipse.aether.internal.impl.DefaultMetadataResolver.resolveMetadata(DefaultMetadataResolver.java:205)\n    at org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveMetadata(DefaultRepositorySystem.java:309)\n    at org.apache.maven.plugin.version.internal.DefaultPluginVersionResolver.resolveFromRepository(DefaultPluginVersionResolver.java:133)\n    at org.apache.maven.plugin.version.internal.DefaultPluginVersionResolver.resolve(DefaultPluginVersionResolver.java:96)\n    at org.apache.maven.lifecycle.internal.LifecyclePluginResolver.resolveMissingPluginVersions(LifecyclePluginResolver.java:89)\n    at org.apache.maven.lifecycle.internal.DefaultLifecycleExecutionPlanCalculator.calculateExecutionPlan(DefaultLifecycleExecutionPlanCalculator.java:125)\n    at org.apache.maven.lifecycle.internal.DefaultLifecycleExecutionPlanCalculator.calculateExecutionPlan(DefaultLifecycleExecutionPlanCalculator.java:145)\n    at org.apache.maven.lifecycle.internal.builder.BuilderCommon.resolveBuildPlan(BuilderCommon.java:96)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:109)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\nCaused by: org.eclipse.aether.transfer.NoRepositoryConnectorException: Cannot access http://download.java.net/maven/1 with type legacy using the available connector factories: BasicRepositoryConnectorFactory\n    at org.eclipse.aether.internal.impl.DefaultRepositoryConnectorProvider.newRepositoryConnector(DefaultRepositoryConnectorProvider.java:174)\n    at org.eclipse.aether.internal.impl.DefaultMetadataResolver$ResolveTask.run(DefaultMetadataResolver.java:603)\n    ... 29 more\nCaused by: org.eclipse.aether.transfer.NoRepositoryConnectorException: Cannot access http://download.java.net/maven/1 with type legacy using the available layout factories: Maven2RepositoryLayoutFactory\n    at org.eclipse.aether.connector.basic.BasicRepositoryConnector.&lt;init&gt;(BasicRepositoryConnector.java:111)\n    at org.eclipse.aether.connector.basic.BasicRepositoryConnectorFactory.newInstance(BasicRepositoryConnectorFactory.java:180)\n    at org.eclipse.aether.internal.impl.DefaultRepositoryConnectorProvider.newRepositoryConnector(DefaultRepositoryConnectorProvider.java:113)\n    ... 30 more\nCaused by: org.eclipse.aether.transfer.NoRepositoryLayoutException: Cannot access http://download.java.net/maven/1 with type legacy using the available layout factories: Maven2RepositoryLayoutFactory\n    at org.eclipse.aether.internal.impl.DefaultRepositoryLayoutProvider.newRepositoryLayout(DefaultRepositoryLayoutProvider.java:142)\n    at org.eclipse.aether.connector.basic.BasicRepositoryConnector.&lt;init&gt;(BasicRepositoryConnector.java:107)\n    ... 32 more\nCaused by: org.eclipse.aether.transfer.NoRepositoryLayoutException: Unsupported repository layout legacy\n    at org.eclipse.aether.internal.impl.Maven2RepositoryLayoutFactory.newInstance(Maven2RepositoryLayoutFactory.java:64)\n    at org.eclipse.aether.internal.impl.DefaultRepositoryLayoutProvider.newRepositoryLayout(DefaultRepositoryLayoutProvider.java:111)\n    ... 33 more\n</code></pre>\n\n<p>I've already tried to delete the repository and i'm not using any proxy.\nIs there anything i'm missing? Could you help me please</p>\n"},{"tags":["java","bouncycastle"],"answers":[{"comments":[{"owner":{"account_id":29542574,"reputation":1,"user_id":22640914,"display_name":"Alex"},"score":0,"creation_date":1695930045,"post_id":77193628,"comment_id":136092916,"body_markdown":"Hey In my code above, I have already used org.bouncycastle.pqc.crypto.util.SubjectPublicKeyInfoFactory","body":"Hey In my code above, I have already used org.bouncycastle.pqc.crypto.util.SubjectPublicKeyInfoFactory"}],"tags":[],"owner":{"account_id":97438,"reputation":3932,"user_id":264294,"display_name":"Peter Dettman"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695892201,"creation_date":1695892201,"answer_id":77193628,"question_id":77188978,"body_markdown":"PQC algorithms aren&#39;t integrated into `org.bouncycastle.crypto.util.SubjectPublicKeyInfoFactory` yet, try `org.bouncycastle.pqc.crypto.util.SubjectPublicKeyInfoFactory` instead.","title":"Sphincs+ and SubjectPublicKeyInfo","body":"<p>PQC algorithms aren't integrated into <code>org.bouncycastle.crypto.util.SubjectPublicKeyInfoFactory</code> yet, try <code>org.bouncycastle.pqc.crypto.util.SubjectPublicKeyInfoFactory</code> instead.</p>\n"}],"owner":{"account_id":29542574,"reputation":1,"user_id":22640914,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695893407,"creation_date":1695829133,"question_id":77188978,"body_markdown":"Hey I was trying to generate a Sphincs+ public key/private key. And I wanted to write tbe public key into a pem file for future use. My appraoch was to use SubjectPublicKeyInfo to get the public key encoded.\r\n\r\n```\r\npackage cdss;\r\n\r\nimport org.bouncycastle.crypto.AsymmetricCipherKeyPair;\r\nimport org.bouncycastle.crypto.params.AsymmetricKeyParameter;\r\nimport org.bouncycastle.pqc.crypto.sphincsplus.SPHINCSPlusKeyGenerationParameters;\r\nimport org.bouncycastle.pqc.crypto.sphincsplus.SPHINCSPlusKeyPairGenerator;\r\nimport org.bouncycastle.pqc.crypto.sphincsplus.SPHINCSPlusParameters;\r\nimport org.bouncycastle.asn1.x509.SubjectPublicKeyInfo;\r\nimport org.bouncycastle.pqc.crypto.util.SubjectPublicKeyInfoFactory;\r\nimport java.security.SecureRandom;\r\n\r\npublic class Sphincs2 {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        // Create a SPHINCSPlusKeyPairGenerator\r\n        SPHINCSPlusKeyPairGenerator keyGen = new SPHINCSPlusKeyPairGenerator();\r\n\r\n        // Create a SecureRandom\r\n        SecureRandom random = new SecureRandom();\r\n\r\n        // Set up SPHINCSPlusKeyGenerationParameters\r\n        SPHINCSPlusKeyGenerationParameters params = new SPHINCSPlusKeyGenerationParameters(random,\r\n                SPHINCSPlusParameters.haraka_128s_simple);\r\n\r\n        // Initialize SPHINCSPlusKeyPairGenerator\r\n        keyGen.init(params);\r\n\r\n        // Generate SPHINCSPlusKeyPair\r\n        AsymmetricCipherKeyPair pair = keyGen.generateKeyPair();\r\n\r\n        // Extract the public key\r\n        AsymmetricKeyParameter publicKey = pair.getPublic();\r\n      \r\n        // Convert the public key to SubjectPublicKeyInfo format\r\n        SubjectPublicKeyInfo info = SubjectPublicKeyInfoFactory.createSubjectPublicKeyInfo(publicKey);\r\n\r\n        // Print the encoded public key\r\n        byte[] encodedPublicKey = info.getEncoded();\r\n \r\n        \r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nHowever, when I complied it, it said the following:\r\n```none\r\nException in thread &quot;main&quot; java.lang.NullPointerException: &#39;element&#39; cannot be null\r\n\tat org.bouncycastle.asn1.ASN1EncodableVector.add(ASN1EncodableVector.java:37)\r\n\tat org.bouncycastle.asn1.x509.AlgorithmIdentifier.toASN1Primitive(AlgorithmIdentifier.java:97)\r\n\tat org.bouncycastle.asn1.DERSequence.encode(DERSequence.java:116)\r\n\tat org.bouncycastle.asn1.ASN1OutputStream.writePrimitive(ASN1OutputStream.java:224)\r\n\tat org.bouncycastle.asn1.ASN1Primitive.encodeTo(ASN1Primitive.java:19)\r\n\tat org.bouncycastle.asn1.ASN1Object.getEncoded(ASN1Object.java:34)\r\n\tat cdss.Sphincs2.main(Sphincs2.java:38)\r\n```\r\n\r\nI wonder what is the problem?","title":"Sphincs+ and SubjectPublicKeyInfo","body":"<p>Hey I was trying to generate a Sphincs+ public key/private key. And I wanted to write tbe public key into a pem file for future use. My appraoch was to use SubjectPublicKeyInfo to get the public key encoded.</p>\n<pre><code>package cdss;\n\nimport org.bouncycastle.crypto.AsymmetricCipherKeyPair;\nimport org.bouncycastle.crypto.params.AsymmetricKeyParameter;\nimport org.bouncycastle.pqc.crypto.sphincsplus.SPHINCSPlusKeyGenerationParameters;\nimport org.bouncycastle.pqc.crypto.sphincsplus.SPHINCSPlusKeyPairGenerator;\nimport org.bouncycastle.pqc.crypto.sphincsplus.SPHINCSPlusParameters;\nimport org.bouncycastle.asn1.x509.SubjectPublicKeyInfo;\nimport org.bouncycastle.pqc.crypto.util.SubjectPublicKeyInfoFactory;\nimport java.security.SecureRandom;\n\npublic class Sphincs2 {\n\n    public static void main(String[] args) throws Exception {\n        // Create a SPHINCSPlusKeyPairGenerator\n        SPHINCSPlusKeyPairGenerator keyGen = new SPHINCSPlusKeyPairGenerator();\n\n        // Create a SecureRandom\n        SecureRandom random = new SecureRandom();\n\n        // Set up SPHINCSPlusKeyGenerationParameters\n        SPHINCSPlusKeyGenerationParameters params = new SPHINCSPlusKeyGenerationParameters(random,\n                SPHINCSPlusParameters.haraka_128s_simple);\n\n        // Initialize SPHINCSPlusKeyPairGenerator\n        keyGen.init(params);\n\n        // Generate SPHINCSPlusKeyPair\n        AsymmetricCipherKeyPair pair = keyGen.generateKeyPair();\n\n        // Extract the public key\n        AsymmetricKeyParameter publicKey = pair.getPublic();\n      \n        // Convert the public key to SubjectPublicKeyInfo format\n        SubjectPublicKeyInfo info = SubjectPublicKeyInfoFactory.createSubjectPublicKeyInfo(publicKey);\n\n        // Print the encoded public key\n        byte[] encodedPublicKey = info.getEncoded();\n \n        \n    }\n}\n\n\n</code></pre>\n<p>However, when I complied it, it said the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: 'element' cannot be null\n    at org.bouncycastle.asn1.ASN1EncodableVector.add(ASN1EncodableVector.java:37)\n    at org.bouncycastle.asn1.x509.AlgorithmIdentifier.toASN1Primitive(AlgorithmIdentifier.java:97)\n    at org.bouncycastle.asn1.DERSequence.encode(DERSequence.java:116)\n    at org.bouncycastle.asn1.ASN1OutputStream.writePrimitive(ASN1OutputStream.java:224)\n    at org.bouncycastle.asn1.ASN1Primitive.encodeTo(ASN1Primitive.java:19)\n    at org.bouncycastle.asn1.ASN1Object.getEncoded(ASN1Object.java:34)\n    at cdss.Sphincs2.main(Sphincs2.java:38)\n</code></pre>\n<p>I wonder what is the problem?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":3,"creation_date":1695890721,"post_id":77193433,"comment_id":136085171,"body_markdown":"What else could it do here?","body":"What else could it do here?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1695898257,"post_id":77193433,"comment_id":136086590,"body_markdown":"&quot;My assumption is that inlining a variable should not change the behaviour of the code.&quot; Note that your expected result *does* also change the behaviour of the code (but in a less invasive way)","body":"&quot;My assumption is that inlining a variable should not change the behaviour of the code.&quot; Note that your expected result <i>does</i> also change the behaviour of the code (but in a less invasive way)"},{"owner":{"account_id":1015589,"reputation":1607,"user_id":2746335,"accept_rate":29,"display_name":"caduceus"},"score":0,"creation_date":1695899510,"post_id":77193433,"comment_id":136086852,"body_markdown":"The order of operations changes, but the result is the same. This happens anyway as the JIT compiler can change the order of execution if it won&#39;t change the result","body":"The order of operations changes, but the result is the same. This happens anyway as the JIT compiler can change the order of execution if it won&#39;t change the result"}],"answers":[{"comments":[{"owner":{"account_id":1015589,"reputation":1607,"user_id":2746335,"accept_rate":29,"display_name":"caduceus"},"score":0,"creation_date":1695896347,"post_id":77193526,"comment_id":136086237,"body_markdown":"pls see update.","body":"pls see update."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1695897726,"post_id":77193526,"comment_id":136086465,"body_markdown":"Okay well that&#39;s simply not how it works. If you want a refactoring that does that, you&#39;ll have to write an IntelliJ plugin. And note that that would actually change what the code does.","body":"Okay well that&#39;s simply not how it works. If you want a refactoring that does that, you&#39;ll have to write an IntelliJ plugin. And note that that would actually change what the code does."},{"owner":{"account_id":1015589,"reputation":1607,"user_id":2746335,"accept_rate":29,"display_name":"caduceus"},"score":0,"creation_date":1695898117,"post_id":77193526,"comment_id":136086559,"body_markdown":"I want to know what to expect so I don&#39;t shoot myself in the foot. The IDE should not inline the variable without warning me that it will completely change the behaviour. `The Inline Variable refactoring allows you to replace a redundant variable with its value`. But that is not what&#39;s happening, i.e. it doesn&#39;t work.","body":"I want to know what to expect so I don&#39;t shoot myself in the foot. The IDE should not inline the variable without warning me that it will completely change the behaviour. <code>The Inline Variable refactoring allows you to replace a redundant variable with its value</code>. But that is not what&#39;s happening, i.e. it doesn&#39;t work."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1695898177,"post_id":77193526,"comment_id":136086576,"body_markdown":"If you feel that&#39;s a bug, you should report it to JetBrains. There&#39;s nothing we can do about it.","body":"If you feel that&#39;s a bug, you should report it to JetBrains. There&#39;s nothing we can do about it."},{"owner":{"account_id":1015589,"reputation":1607,"user_id":2746335,"accept_rate":29,"display_name":"caduceus"},"score":0,"creation_date":1695898311,"post_id":77193526,"comment_id":136086604,"body_markdown":"Fair enough. However, I think its a fair question","body":"Fair enough. However, I think its a fair question"}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695891399,"creation_date":1695891399,"answer_id":77193526,"question_id":77193433,"body_markdown":"This is exactly what it&#39;s supposed to do. The solution here is simply to not inline the variable. I&#39;m not sure what else you would expect.","title":"Intellij inline creates extra object","body":"<p>This is exactly what it's supposed to do. The solution here is simply to not inline the variable. I'm not sure what else you would expect.</p>\n"}],"owner":{"account_id":1015589,"reputation":1607,"user_id":2746335,"accept_rate":29,"display_name":"caduceus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1695893192,"creation_date":1695890524,"question_id":77193433,"body_markdown":"Suppose I have\r\n\r\n```java\r\n  void setup() {\r\n    var call = new DirectTransactCall();\r\n    call.setRequestId(&quot;3fa85f64-5711-4562-b3fc-2c963f61afa6&quot;);\r\n    expected = call;\r\n  }\r\n```\r\n\r\nand I ask Intellij 2023.2.2 to inline the call variable\r\n\r\n```java\r\n  void setup() {\r\n    new DirectTransactCall().setRequestId(&quot;3fa85f64-5711-4562-b3fc-2c963f61afa6&quot;);\r\n    expected = new DirectTransactCall();\r\n  }\r\n```\r\n\r\nWhere \r\n```java\r\n  @Override\r\n  public void setRequestId(String id) {\r\n    this.requestId = id;\r\n  }\r\n```\r\n\r\nWhy does the new code generate 2 objects instead of 1, and why is requestId not set for the object assigned to expected?\r\n\r\nMy assumption is that inlining a variable should not change the behaviour of the code.\r\n\r\n**UPDATE**\r\n\r\nI expect\r\n```java\r\n  void setup() {\r\n    expected = new DirectTransactCall();\r\n    expected.setRequestId(&quot;3fa85f64-5711-4562-b3fc-2c963f61afa6&quot;)\r\n  }\r\n```\r\nThe `DirectTransactCall` object referenced by the `expected` instance variable (which is not final) has the requestId correctly set, as before.","title":"Intellij inline creates extra object","body":"<p>Suppose I have</p>\n<pre class=\"lang-java prettyprint-override\"><code>  void setup() {\n    var call = new DirectTransactCall();\n    call.setRequestId(&quot;3fa85f64-5711-4562-b3fc-2c963f61afa6&quot;);\n    expected = call;\n  }\n</code></pre>\n<p>and I ask Intellij 2023.2.2 to inline the call variable</p>\n<pre class=\"lang-java prettyprint-override\"><code>  void setup() {\n    new DirectTransactCall().setRequestId(&quot;3fa85f64-5711-4562-b3fc-2c963f61afa6&quot;);\n    expected = new DirectTransactCall();\n  }\n</code></pre>\n<p>Where</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Override\n  public void setRequestId(String id) {\n    this.requestId = id;\n  }\n</code></pre>\n<p>Why does the new code generate 2 objects instead of 1, and why is requestId not set for the object assigned to expected?</p>\n<p>My assumption is that inlining a variable should not change the behaviour of the code.</p>\n<p><strong>UPDATE</strong></p>\n<p>I expect</p>\n<pre class=\"lang-java prettyprint-override\"><code>  void setup() {\n    expected = new DirectTransactCall();\n    expected.setRequestId(&quot;3fa85f64-5711-4562-b3fc-2c963f61afa6&quot;)\n  }\n</code></pre>\n<p>The <code>DirectTransactCall</code> object referenced by the <code>expected</code> instance variable (which is not final) has the requestId correctly set, as before.</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch","spring-data-elasticsearch"],"answers":[{"comments":[{"owner":{"account_id":20929807,"reputation":161,"user_id":15376457,"display_name":"gcbox999"},"score":0,"creation_date":1695625987,"post_id":77160180,"comment_id":136044167,"body_markdown":"Could you show me how to return the aggregation?","body":"Could you show me how to return the aggregation?"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1695840635,"post_id":77160180,"comment_id":136079198,"body_markdown":"you get them from Spring Data Elasticsearch in `SearchHits.getAggregations()`, what you do with that and you you return it to something that calls your code is up to you.","body":"you get them from Spring Data Elasticsearch in <code>SearchHits.getAggregations()</code>, what you do with that and you you return it to something that calls your code is up to you."}],"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695410038,"creation_date":1695410038,"answer_id":77160180,"question_id":77158434,"body_markdown":"Test 1: You can only set the query string in a `StringQuery`, not aggregations, you need to use a `NativeQuery` for that\r\n\r\nTest 2: That&#39;s the correct way to send the query, you should set the `maxResults` to 0 on the query, like you do in the direct API call. The reason you don&#39;t see the aggregation is because it is returned as a property of the returned `SearchHits` object, whereas your code collects the objects returned by the matchall query.\r\n\r\n","title":"How to return a simple query with aggregation using Spring Data Elasticsearch (latest version) and Spring Boot?","body":"<p>Test 1: You can only set the query string in a <code>StringQuery</code>, not aggregations, you need to use a <code>NativeQuery</code> for that</p>\n<p>Test 2: That's the correct way to send the query, you should set the <code>maxResults</code> to 0 on the query, like you do in the direct API call. The reason you don't see the aggregation is because it is returned as a property of the returned <code>SearchHits</code> object, whereas your code collects the objects returned by the matchall query.</p>\n"},{"tags":[],"owner":{"account_id":20929807,"reputation":161,"user_id":15376457,"display_name":"gcbox999"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695892289,"creation_date":1695892289,"answer_id":77193644,"question_id":77158434,"body_markdown":"I got my aggregation this way:\r\n\r\n    Aggregation aggregation = AggregationBuilders.terms(ta -&gt; ta.field(&quot;brand&quot;).size(10000));\r\n    \r\n            Query query = NativeQuery.builder()\r\n                    .withMaxResults(0)\r\n                    .withQuery(q -&gt; q.matchAll(ma -&gt; ma))\r\n                    .withAggregation(&quot;distinct_brand&quot;, aggregation)\r\n                    .build();\r\n    \r\n            SearchHits&lt;Vehicle&gt; searchHits = searchOperations.search(query, Vehicle.class);\r\n    \r\n            ElasticsearchAggregations aggregations = (ElasticsearchAggregations) searchHits.getAggregations();\r\n            List&lt;ElasticsearchAggregation&gt; aggregationsList = aggregations.aggregations();\r\n    \r\n            Buckets&lt;StringTermsBucket&gt; buckets = aggregationsList.get(0).aggregation().getAggregate().sterms().buckets();\r\n    \r\n            List&lt;String&gt; brandList = buckets.array().stream().map(bucket -&gt; bucket.key().stringValue()).collect(Collectors.toList());","title":"How to return a simple query with aggregation using Spring Data Elasticsearch (latest version) and Spring Boot?","body":"<p>I got my aggregation this way:</p>\n<pre><code>Aggregation aggregation = AggregationBuilders.terms(ta -&gt; ta.field(&quot;brand&quot;).size(10000));\n\n        Query query = NativeQuery.builder()\n                .withMaxResults(0)\n                .withQuery(q -&gt; q.matchAll(ma -&gt; ma))\n                .withAggregation(&quot;distinct_brand&quot;, aggregation)\n                .build();\n\n        SearchHits&lt;Vehicle&gt; searchHits = searchOperations.search(query, Vehicle.class);\n\n        ElasticsearchAggregations aggregations = (ElasticsearchAggregations) searchHits.getAggregations();\n        List&lt;ElasticsearchAggregation&gt; aggregationsList = aggregations.aggregations();\n\n        Buckets&lt;StringTermsBucket&gt; buckets = aggregationsList.get(0).aggregation().getAggregate().sterms().buckets();\n\n        List&lt;String&gt; brandList = buckets.array().stream().map(bucket -&gt; bucket.key().stringValue()).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":20929807,"reputation":161,"user_id":15376457,"display_name":"gcbox999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77160180,"answer_count":2,"score":0,"last_activity_date":1695892289,"creation_date":1695392370,"question_id":77158434,"body_markdown":"I&#39;m trying to retrieve a list of aggregated brands using Spring-Boot 3 + Spring Data ElasticSearch 5 and Elasticsearch 8. \r\n\r\nCurrently, I am getting results but never aggregated ones. \r\n\r\nI have gone through the documentation and searched on Google, but the answers I found, I tried to implement them without any conclusive results. \r\n\r\nHere are my three approaches:\r\n\r\nThe basic query that works with Postman and returns the aggregated results:\r\n\r\n    {\r\n        &quot;size&quot;: 0,\r\n        &quot;aggs&quot;: {\r\n            &quot;distinct_brand&quot;: {\r\n                &quot;terms&quot;: {\r\n                    &quot;field&quot;: &quot;brand&quot;,\r\n                    &quot;size&quot;: 10000,\r\n                    &quot;order&quot;: {\r\n                    &quot;_key&quot;: &quot;asc&quot;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nTest 1, with StringQuery:\r\n\r\n        Query query = new StringQuery(&quot;{&quot; +\r\n                &quot;        \\&quot;match_all\\&quot; : {}&quot; +\r\n                &quot;    },&quot; +\r\n                &quot;    \\&quot;size\\&quot;: 100,&quot; +\r\n                &quot;    \\&quot;aggs\\&quot;: {&quot; +\r\n                &quot;        \\&quot;distinct_brand\\&quot;: {&quot; +\r\n                &quot;            \\&quot;terms\\&quot;: {&quot; +\r\n                &quot;                \\&quot;field\\&quot;: \\&quot;brand\\&quot;,&quot; +\r\n                &quot;                \\&quot;size\\&quot;: 10000,&quot; +\r\n                &quot;                \\&quot;order\\&quot;: {&quot; +\r\n                &quot;                \\&quot;_key\\&quot;: \\&quot;asc\\&quot;&quot; +\r\n                &quot;        }&quot; +\r\n                &quot;      }&quot; +\r\n                &quot;    }&quot; +\r\n                &quot;  }&quot;);\r\n    \r\n        SearchHits&lt;Brand&gt; searchHits = elasticsearchOperations.search(query, Brand.class);\r\n    \r\n        List&lt;Brand&gt; brandList = searchHits.getSearchHits().stream()\r\n                .map(SearchHit::getContent)\r\n                .collect(Collectors.toList());\r\n\r\nTest 2, with AggregationBuilders and withAggregation:\r\n\r\n    Aggregation aggregation = AggregationBuilders.terms(ta -&gt; ta.field(&quot;brand&quot;).size(10000));\r\n    \r\n    Query query = NativeQuery.builder()\r\n            .withQuery(q -&gt; q.matchAll(ma -&gt; ma))\r\n            .withAggregation(&quot;distinct_brand&quot;, aggregation)\r\n            .withPageable(PageRequest.of(0, 10000))\r\n            .build();\r\n    \r\n    SearchHits&lt;Brand&gt; searchHits = elasticsearchOperations.search(query, Brand.class);\r\n    \r\n    List&lt;Brand&gt; brandList = searchHits.getSearchHits().stream()\r\n            .map(SearchHit::getContent)\r\n            .collect(Collectors.toList());\r\n\r\nTest 3, with JsonParser and SearchRequest:\r\n\r\n    JsonpMapper jsonpMapper = new JacksonJsonpMapper();\r\n    JsonParser jsonParser = Json.createParser(new StringReader(&quot;{&quot; +\r\n            &quot;        \\&quot;match_all\\&quot; : {}&quot; +\r\n            &quot;    },&quot; +\r\n            &quot;    \\&quot;size\\&quot;: 100,&quot; +\r\n            &quot;    \\&quot;aggs\\&quot;: {&quot; +\r\n            &quot;        \\&quot;distinct_brand\\&quot;: {&quot; +\r\n            &quot;            \\&quot;terms\\&quot;: {&quot; +\r\n            &quot;                \\&quot;field\\&quot;: \\&quot;brand\\&quot;,&quot; +\r\n            &quot;                \\&quot;size\\&quot;: 10000,&quot; +\r\n            &quot;                \\&quot;order\\&quot;: {&quot; +\r\n            &quot;                \\&quot;_key\\&quot;: \\&quot;asc\\&quot;&quot; +\r\n            &quot;        }&quot; +\r\n            &quot;      }&quot; +\r\n            &quot;    }&quot; +\r\n            &quot;  }&quot;));\r\n    \r\n    SearchRequest request = SearchRequest._DESERIALIZER.deserialize(jsonParser, jsonpMapper);\r\n    \r\n    NativeQueryBuilder nativeQueryBuilder = NativeQuery.builder();\r\n    \r\n    for (Map.Entry&lt;String, Aggregation&gt; aggregationEntry : request.aggregations().entrySet()) {\r\n        nativeQueryBuilder.withAggregation(aggregationEntry.getKey(), aggregationEntry.getValue());\r\n    }\r\n    \r\n    Query query = nativeQueryBuilder.withPageable(PageRequest.of(0, 10000)).build();\r\n        SearchHits&lt;Brand&gt; searchHits = elasticsearchOperations.search(query, Brand.class);\r\n        \r\n    List&lt;Brand&gt; brandList = searchHits.getSearchHits().stream()\r\n            .map(SearchHit::getContent)\r\n            .collect(Collectors.toList());\r\n\r\nDo you know why ?\r\n","title":"How to return a simple query with aggregation using Spring Data Elasticsearch (latest version) and Spring Boot?","body":"<p>I'm trying to retrieve a list of aggregated brands using Spring-Boot 3 + Spring Data ElasticSearch 5 and Elasticsearch 8.</p>\n<p>Currently, I am getting results but never aggregated ones.</p>\n<p>I have gone through the documentation and searched on Google, but the answers I found, I tried to implement them without any conclusive results.</p>\n<p>Here are my three approaches:</p>\n<p>The basic query that works with Postman and returns the aggregated results:</p>\n<pre><code>{\n    &quot;size&quot;: 0,\n    &quot;aggs&quot;: {\n        &quot;distinct_brand&quot;: {\n            &quot;terms&quot;: {\n                &quot;field&quot;: &quot;brand&quot;,\n                &quot;size&quot;: 10000,\n                &quot;order&quot;: {\n                &quot;_key&quot;: &quot;asc&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>Test 1, with StringQuery:</p>\n<pre><code>    Query query = new StringQuery(&quot;{&quot; +\n            &quot;        \\&quot;match_all\\&quot; : {}&quot; +\n            &quot;    },&quot; +\n            &quot;    \\&quot;size\\&quot;: 100,&quot; +\n            &quot;    \\&quot;aggs\\&quot;: {&quot; +\n            &quot;        \\&quot;distinct_brand\\&quot;: {&quot; +\n            &quot;            \\&quot;terms\\&quot;: {&quot; +\n            &quot;                \\&quot;field\\&quot;: \\&quot;brand\\&quot;,&quot; +\n            &quot;                \\&quot;size\\&quot;: 10000,&quot; +\n            &quot;                \\&quot;order\\&quot;: {&quot; +\n            &quot;                \\&quot;_key\\&quot;: \\&quot;asc\\&quot;&quot; +\n            &quot;        }&quot; +\n            &quot;      }&quot; +\n            &quot;    }&quot; +\n            &quot;  }&quot;);\n\n    SearchHits&lt;Brand&gt; searchHits = elasticsearchOperations.search(query, Brand.class);\n\n    List&lt;Brand&gt; brandList = searchHits.getSearchHits().stream()\n            .map(SearchHit::getContent)\n            .collect(Collectors.toList());\n</code></pre>\n<p>Test 2, with AggregationBuilders and withAggregation:</p>\n<pre><code>Aggregation aggregation = AggregationBuilders.terms(ta -&gt; ta.field(&quot;brand&quot;).size(10000));\n\nQuery query = NativeQuery.builder()\n        .withQuery(q -&gt; q.matchAll(ma -&gt; ma))\n        .withAggregation(&quot;distinct_brand&quot;, aggregation)\n        .withPageable(PageRequest.of(0, 10000))\n        .build();\n\nSearchHits&lt;Brand&gt; searchHits = elasticsearchOperations.search(query, Brand.class);\n\nList&lt;Brand&gt; brandList = searchHits.getSearchHits().stream()\n        .map(SearchHit::getContent)\n        .collect(Collectors.toList());\n</code></pre>\n<p>Test 3, with JsonParser and SearchRequest:</p>\n<pre><code>JsonpMapper jsonpMapper = new JacksonJsonpMapper();\nJsonParser jsonParser = Json.createParser(new StringReader(&quot;{&quot; +\n        &quot;        \\&quot;match_all\\&quot; : {}&quot; +\n        &quot;    },&quot; +\n        &quot;    \\&quot;size\\&quot;: 100,&quot; +\n        &quot;    \\&quot;aggs\\&quot;: {&quot; +\n        &quot;        \\&quot;distinct_brand\\&quot;: {&quot; +\n        &quot;            \\&quot;terms\\&quot;: {&quot; +\n        &quot;                \\&quot;field\\&quot;: \\&quot;brand\\&quot;,&quot; +\n        &quot;                \\&quot;size\\&quot;: 10000,&quot; +\n        &quot;                \\&quot;order\\&quot;: {&quot; +\n        &quot;                \\&quot;_key\\&quot;: \\&quot;asc\\&quot;&quot; +\n        &quot;        }&quot; +\n        &quot;      }&quot; +\n        &quot;    }&quot; +\n        &quot;  }&quot;));\n\nSearchRequest request = SearchRequest._DESERIALIZER.deserialize(jsonParser, jsonpMapper);\n\nNativeQueryBuilder nativeQueryBuilder = NativeQuery.builder();\n\nfor (Map.Entry&lt;String, Aggregation&gt; aggregationEntry : request.aggregations().entrySet()) {\n    nativeQueryBuilder.withAggregation(aggregationEntry.getKey(), aggregationEntry.getValue());\n}\n\nQuery query = nativeQueryBuilder.withPageable(PageRequest.of(0, 10000)).build();\n    SearchHits&lt;Brand&gt; searchHits = elasticsearchOperations.search(query, Brand.class);\n    \nList&lt;Brand&gt; brandList = searchHits.getSearchHits().stream()\n        .map(SearchHit::getContent)\n        .collect(Collectors.toList());\n</code></pre>\n<p>Do you know why ?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3491975,"reputation":1562,"user_id":2921426,"accept_rate":64,"display_name":"SimonC"},"score":0,"creation_date":1695893592,"post_id":77192180,"comment_id":136085721,"body_markdown":"Does this answer your question? [android.view.View.systemUiVisibility deprecated. What is the replacement?](https://stackoverflow.com/questions/62577645/android-view-view-systemuivisibility-deprecated-what-is-the-replacement)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/62577645/android-view-view-systemuivisibility-deprecated-what-is-the-replacement\">android.view.View.systemUiVisibility deprecated. What is the replacement?</a>"}],"answers":[{"tags":[],"owner":{"account_id":26151778,"reputation":91,"user_id":19839635,"display_name":"Purple6666"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695892267,"creation_date":1695892267,"answer_id":77193638,"question_id":77192180,"body_markdown":"I think this is a duplicate question. \r\nSee here:\r\nhttps://stackoverflow.com/questions/62643517/immersive-fullscreen-on-android-11 .\r\nYou have to use the &quot;WindowInsetsController&quot; for Android verions &gt;= 11.","title":"I want to disable navigation bar and status bar in Android 11","body":"<p>I think this is a duplicate question.\nSee here:\n<a href=\"https://stackoverflow.com/questions/62643517/immersive-fullscreen-on-android-11\">Immersive fullscreen on Android 11</a> .\nYou have to use the &quot;WindowInsetsController&quot; for Android verions &gt;= 11.</p>\n"}],"owner":{"account_id":29552388,"reputation":11,"user_id":22648711,"display_name":"MOMO"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695892267,"creation_date":1695875903,"question_id":77192180,"body_markdown":"We are creating the app in an Android 11 environment.\r\nTo prevent app users from dropping the app or changing settings,\r\nI would like to completely hide or disable the navigation bar and status bar.\r\n\r\nView.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\r\n\r\nView.SYSTEM_UI_FLAG_FULLSCREEN\r\n\r\nView.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n\r\nView.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n\r\nView.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n\r\nView.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n\r\nI tried all the descriptions mentioned above on the internet.\r\nIt is hidden when you are not touching it, but if you scroll it will appear and you can operate it.\r\n\r\nIs there any other way?","title":"I want to disable navigation bar and status bar in Android 11","body":"<p>We are creating the app in an Android 11 environment.\nTo prevent app users from dropping the app or changing settings,\nI would like to completely hide or disable the navigation bar and status bar.</p>\n<p>View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY</p>\n<p>View.SYSTEM_UI_FLAG_FULLSCREEN</p>\n<p>View.SYSTEM_UI_FLAG_HIDE_NAVIGATION</p>\n<p>View.SYSTEM_UI_FLAG_LAYOUT_STABLE</p>\n<p>View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION</p>\n<p>View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN</p>\n<p>I tried all the descriptions mentioned above on the internet.\nIt is hidden when you are not touching it, but if you scroll it will appear and you can operate it.</p>\n<p>Is there any other way?</p>\n"},{"tags":["java","vosk"],"owner":{"account_id":26569068,"reputation":21,"user_id":20195584,"display_name":"wei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695891532,"creation_date":1695873055,"question_id":77192064,"body_markdown":"I want to use Java  to realize the local recording file recognition function. I used Vosk and tested the large Chinese model and the large Arabic model. When using the Chinese model to identify recording files with Chinese content, some of the results obtained will be garbled; when using the Arabic model to identify The Arabic recording files have very little content, and some recording files cannot even recognize the content.\r\n\r\nThe following is the Java code I used\r\n```\r\nprivate static Float getSampleRate(File file) throws Exception {\r\n    WavFileReader fileReader = new WavFileReader();\r\n    AudioFile audioFile = fileReader.read(file);\r\n    String sampleRate = audioFile.getAudioHeader().getSampleRate();\r\n    return Float.parseFloat(sampleRate);\r\n}\r\n\r\npublic static void processFile(File file) {\r\n    try {\r\n        Model model = new Model(&quot;F:\\\\vosk\\\\vosk-model-ar-mgb2-0.4&quot;);//vosk-model-cn-0.22\r\n        InputStream ais = AudioSystem.getAudioInputStream(new BufferedInputStream(new FileInputStream(file)));\r\n        Recognizer recognizer = new Recognizer(model, getSampleRate(file));\r\n        int bytes;\r\n        byte[] b = new byte[40960];\r\n        while ((bytes = ais.read(b)) &gt;= 0) {\r\n            recognizer.acceptWaveForm(b, bytes);\r\n        }\r\n//        System.out.println(new String(recognizer.getFinalResult().getBytes(&quot;GBK&quot;),&quot;UTF-8&quot;));\r\n        System.out.println(recognizer.getFinalResult());\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    LibVosk.setLogLevel(LogLevel.DEBUG);\r\n    File file3 = new File(&quot;F:\\\\KuGou\\\\2_out.wav&quot;);\r\n    VoskWavRecognition.processFile(file3);\r\n}\r\n```\r\n\r\nI want to improve the accuracy of identifying content so that Chinese recording files will not be garbled.","title":"Vosk&#39;s accuracy in identifying the content of recording files is quite low","body":"<p>I want to use Java  to realize the local recording file recognition function. I used Vosk and tested the large Chinese model and the large Arabic model. When using the Chinese model to identify recording files with Chinese content, some of the results obtained will be garbled; when using the Arabic model to identify The Arabic recording files have very little content, and some recording files cannot even recognize the content.</p>\n<p>The following is the Java code I used</p>\n<pre><code>private static Float getSampleRate(File file) throws Exception {\n    WavFileReader fileReader = new WavFileReader();\n    AudioFile audioFile = fileReader.read(file);\n    String sampleRate = audioFile.getAudioHeader().getSampleRate();\n    return Float.parseFloat(sampleRate);\n}\n\npublic static void processFile(File file) {\n    try {\n        Model model = new Model(&quot;F:\\\\vosk\\\\vosk-model-ar-mgb2-0.4&quot;);//vosk-model-cn-0.22\n        InputStream ais = AudioSystem.getAudioInputStream(new BufferedInputStream(new FileInputStream(file)));\n        Recognizer recognizer = new Recognizer(model, getSampleRate(file));\n        int bytes;\n        byte[] b = new byte[40960];\n        while ((bytes = ais.read(b)) &gt;= 0) {\n            recognizer.acceptWaveForm(b, bytes);\n        }\n//        System.out.println(new String(recognizer.getFinalResult().getBytes(&quot;GBK&quot;),&quot;UTF-8&quot;));\n        System.out.println(recognizer.getFinalResult());\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\npublic static void main(String[] args) {\n    LibVosk.setLogLevel(LogLevel.DEBUG);\n    File file3 = new File(&quot;F:\\\\KuGou\\\\2_out.wav&quot;);\n    VoskWavRecognition.processFile(file3);\n}\n</code></pre>\n<p>I want to improve the accuracy of identifying content so that Chinese recording files will not be garbled.</p>\n"},{"tags":["java","oracle","spring-boot","jdbc","hikaricp"],"comments":[{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":0,"creation_date":1540721322,"post_id":52779385,"comment_id":92961508,"body_markdown":"Thanks a lot ! This helped my a lot when I tried to set `defaultRowPrefetch` which makes Oracle ojdbc8.jar connections run much more efficiently !","body":"Thanks a lot ! This helped my a lot when I tried to set <code>defaultRowPrefetch</code> which makes Oracle ojdbc8.jar connections run much more efficiently !"}],"answers":[{"comments":[{"owner":{"account_id":3773173,"reputation":787,"user_id":3134786,"accept_rate":71,"display_name":"Joba"},"score":6,"creation_date":1540275610,"post_id":52813393,"comment_id":92792978,"body_markdown":"This does not seem to have any effect.","body":"This does not seem to have any effect."}],"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1539595288,"creation_date":1539594982,"answer_id":52813393,"question_id":52779385,"body_markdown":"Using HikariCP pool properties (default pool in Spring Boot 2)\r\n\r\n    spring:\r\n      datasource:\r\n        hikari:\r\n          data-source-properties:\r\n            v$session.program: MyAppName","title":"Send application name when connecting to an Oracle DB using HikariCP in Spring","body":"<p>Using HikariCP pool properties (default pool in Spring Boot 2)</p>\n\n<pre><code>spring:\n  datasource:\n    hikari:\n      data-source-properties:\n        v$session.program: MyAppName\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2636643,"reputation":615,"user_id":2281110,"display_name":"Pankaj"},"score":0,"creation_date":1547854059,"post_id":52982833,"comment_id":95349501,"body_markdown":"This way it works. Which means everything in yaml is escaped.","body":"This way it works. Which means everything in yaml is escaped."},{"owner":{"account_id":957542,"reputation":899,"user_id":3203998,"display_name":"trevorsky"},"score":1,"creation_date":1555966880,"post_id":52982833,"comment_id":98270899,"body_markdown":"This does not appear to work. You mention &quot;escaping&quot;, but don&#39;t show anything in your answer that is escaped.","body":"This does not appear to work. You mention &quot;escaping&quot;, but don&#39;t show anything in your answer that is escaped."}],"tags":[],"owner":{"account_id":5874450,"reputation":51,"user_id":4625746,"display_name":"yeonguk kim"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1540449443,"creation_date":1540449443,"answer_id":52982833,"question_id":52779385,"body_markdown":"In yaml, the dollar sign is escaped. \r\n\r\n    spring.datasource.hikari.data-source-properties.v$session.program: &lt;name&gt;\r\n\r\n    com.zaxxer.hikari.HikariConfig : dataSourceProperties............{password=&lt;masked&gt;, vsession.program=&lt;name&gt;}\r\n\r\n Try this.\r\n\r\n    spring:\r\n      datasource:\r\n        hikari:\r\n          data-source-properties: v$session.program=name\r\n","title":"Send application name when connecting to an Oracle DB using HikariCP in Spring","body":"<p>In yaml, the dollar sign is escaped. </p>\n\n<pre><code>spring.datasource.hikari.data-source-properties.v$session.program: &lt;name&gt;\n\ncom.zaxxer.hikari.HikariConfig : dataSourceProperties............{password=&lt;masked&gt;, vsession.program=&lt;name&gt;}\n</code></pre>\n\n<p>Try this.</p>\n\n<pre><code>spring:\n  datasource:\n    hikari:\n      data-source-properties: v$session.program=name\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4116687,"reputation":106,"user_id":3378071,"display_name":"twonky"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609256566,"creation_date":1609256566,"answer_id":65494775,"question_id":52779385,"body_markdown":"If you want to reference to `spring.application.name` you have to use it like this:\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    hikari:\r\n      data-source-properties:\r\n        &quot;[v$session.program]&quot;: ${spring.application.name}\r\n```","title":"Send application name when connecting to an Oracle DB using HikariCP in Spring","body":"<p>If you want to reference to <code>spring.application.name</code> you have to use it like this:</p>\n<pre><code>spring:\n  datasource:\n    hikari:\n      data-source-properties:\n        &quot;[v$session.program]&quot;: ${spring.application.name}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695891463,"creation_date":1695891463,"answer_id":77193538,"question_id":52779385,"body_markdown":"For spring application using properties based configuration following syntax worked for me.\r\n&gt; spring.datasource.hikari.data-source-properties=v$session.program=your_app_name\r\n\r\nSomewhat weird syntax, but it worked for me in `OracleDB` &amp; `SpringBoot v2.6`","title":"Send application name when connecting to an Oracle DB using HikariCP in Spring","body":"<p>For spring application using properties based configuration following syntax worked for me.</p>\n<blockquote>\n<p>spring.datasource.hikari.data-source-properties=v$session.program=your_app_name</p>\n</blockquote>\n<p>Somewhat weird syntax, but it worked for me in <code>OracleDB</code> &amp; <code>SpringBoot v2.6</code></p>\n"}],"owner":{"account_id":3773173,"reputation":787,"user_id":3134786,"accept_rate":71,"display_name":"Joba"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6087,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1695891463,"creation_date":1539346609,"question_id":52779385,"body_markdown":"I have a Spring Boot 1.4.7 application that I am currently updating to version 2.0.5. The application connects to an Oracle DB using JDBC using the following configuration:\r\n\r\n    spring:\r\n      jpa:\r\n        database-platform: org.hibernate.dialect.Oracle12cDialect\r\n      datasource:\r\n        url: jdbc:oracle:thin:@&lt;db_server&gt;\r\n        username: ${credentials.database.username}\r\n        password: ${credentials.database.password}\r\n        driver-class: oracle.jdbc.OracleDriver.class\r\n        platform: oracle\r\n        tomcat:\r\n          connection-properties: v$session.program=${spring.application.name}\r\n\r\nAfter updating the application to Spring Boot 2.0.5 the application name sent to the server is `JDBC Thin Client` instead of `${spring.application.name}`. The reason for this seems to be the switch to HikariCP as the default connection pool in Spring 2.x. How would I migrate this configuration to Hikari in a way that allows me to send a custom property for `v$session.program` to the db?\r\n\r\nWhat I have tried:\r\n\r\n - Appending `?ApplicationName=&lt;name&gt;` to the JDBC url.\r\n - Solutions mentioned in [this][1] Stackoverflow question\r\n - Setting `System.setProperty(&quot;oracle.jdbc.v$session.program&quot;, &lt;name&gt;)`\r\n - Setting `spring.datasource.hikari.data-source-properties.v$session.program: &lt;name&gt;` in the application.yml\r\n\r\n  [1]: https://stackoverflow.com/questions/34856811/how-to-set-custom-connection-properties-on-datasource-in-spring-boot-1-3-x-with","title":"Send application name when connecting to an Oracle DB using HikariCP in Spring","body":"<p>I have a Spring Boot 1.4.7 application that I am currently updating to version 2.0.5. The application connects to an Oracle DB using JDBC using the following configuration:</p>\n\n<pre><code>spring:\n  jpa:\n    database-platform: org.hibernate.dialect.Oracle12cDialect\n  datasource:\n    url: jdbc:oracle:thin:@&lt;db_server&gt;\n    username: ${credentials.database.username}\n    password: ${credentials.database.password}\n    driver-class: oracle.jdbc.OracleDriver.class\n    platform: oracle\n    tomcat:\n      connection-properties: v$session.program=${spring.application.name}\n</code></pre>\n\n<p>After updating the application to Spring Boot 2.0.5 the application name sent to the server is <code>JDBC Thin Client</code> instead of <code>${spring.application.name}</code>. The reason for this seems to be the switch to HikariCP as the default connection pool in Spring 2.x. How would I migrate this configuration to Hikari in a way that allows me to send a custom property for <code>v$session.program</code> to the db?</p>\n\n<p>What I have tried:</p>\n\n<ul>\n<li>Appending <code>?ApplicationName=&lt;name&gt;</code> to the JDBC url.</li>\n<li>Solutions mentioned in <a href=\"https://stackoverflow.com/questions/34856811/how-to-set-custom-connection-properties-on-datasource-in-spring-boot-1-3-x-with\">this</a> Stackoverflow question</li>\n<li>Setting <code>System.setProperty(\"oracle.jdbc.v$session.program\", &lt;name&gt;)</code></li>\n<li>Setting <code>spring.datasource.hikari.data-source-properties.v$session.program: &lt;name&gt;</code> in the application.yml</li>\n</ul>\n"},{"tags":["java","object","destructuring"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1560448595,"post_id":56586093,"comment_id":99750166,"body_markdown":"That *is* how you &quot;destructure&quot; objects in Java. There are various ways you could convert from a string to properties, but there&#39;s little point, or you can introduce a jvm scripting language. Either way you&#39;ll pay a performance penalty. Or you can get the intermediate object and base your mainline code off that. &quot;Clean&quot; isn&#39;t generally associated with Java code when you&#39;re reaching into nested objects (and arguably it can be a little sketchy to do so depending on how easily you need to be able to modify/extend your code, e.g., Demeter).","body":"That <i>is</i> how you &quot;destructure&quot; objects in Java. There are various ways you could convert from a string to properties, but there&#39;s little point, or you can introduce a jvm scripting language. Either way you&#39;ll pay a performance penalty. Or you can get the intermediate object and base your mainline code off that. &quot;Clean&quot; isn&#39;t generally associated with Java code when you&#39;re reaching into nested objects (and arguably it can be a little sketchy to do so depending on how easily you need to be able to modify/extend your code, e.g., Demeter)."},{"owner":{"account_id":3595277,"reputation":44036,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":0,"creation_date":1560448638,"post_id":56586093,"comment_id":99750188,"body_markdown":"Java isn&#39;t known for being terse or expressive. You may want to look at another JVM language if those qualities are important to you.","body":"Java isn&#39;t known for being terse or expressive. You may want to look at another JVM language if those qualities are important to you."},{"owner":{"account_id":2551552,"reputation":716,"user_id":2215215,"display_name":"Juan Carrey"},"score":0,"creation_date":1560448645,"post_id":56586093,"comment_id":99750194,"body_markdown":"No, it doesn&#39;t, but you can call a method with the result of the first getter, then inside that method work with the inner object.","body":"No, it doesn&#39;t, but you can call a method with the result of the first getter, then inside that method work with the inner object."},{"owner":{"account_id":7548764,"reputation":3336,"user_id":5730949,"display_name":"isaace"},"score":1,"creation_date":1560448829,"post_id":56586093,"comment_id":99750259,"body_markdown":"you can assign the inner object to a 1 letter variable first and then call `a.getThisSuperImportantGetter()`;  `a.getThisSecondImportantGetter();`","body":"you can assign the inner object to a 1 letter variable first and then call <code>a.getThisSuperImportantGetter()</code>;  <code>a.getThisSecondImportantGetter();</code>"}],"answers":[{"comments":[{"owner":{"account_id":114721,"reputation":766,"user_id":301535,"accept_rate":100,"display_name":"ᐅdevrimbaris"},"score":2,"creation_date":1638329534,"post_id":56586298,"comment_id":124057599,"body_markdown":"Clojure also supports it, even with nested structures including arrays and maps.","body":"Clojure also supports it, even with nested structures including arrays and maps."}],"tags":[],"owner":{"display_name":"user5132301"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1695891447,"creation_date":1560449322,"answer_id":56586298,"question_id":56586093,"body_markdown":"As far as I know, Java doesn&#39;t support this.\r\n\r\nAnother JVM language called Kotlin does support this\r\n\r\n[Kotlin | Destructuring Declarations][1]\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/destructuring-declarations.html","title":"Java object destructuring","body":"<p>As far as I know, Java doesn't support this.</p>\n<p>Another JVM language called Kotlin does support this</p>\n<p><a href=\"https://kotlinlang.org/docs/destructuring-declarations.html\" rel=\"nofollow noreferrer\">Kotlin | Destructuring Declarations</a></p>\n"},{"comments":[{"owner":{"account_id":8907476,"reputation":400,"user_id":6648863,"accept_rate":0,"display_name":"Aiono"},"score":2,"creation_date":1614770799,"post_id":58861568,"comment_id":117484782,"body_markdown":"Multiple return types comes automatically once you have tuple types and destructuring built in into the language.","body":"Multiple return types comes automatically once you have tuple types and destructuring built in into the language."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1616845766,"post_id":58861568,"comment_id":118134038,"body_markdown":"It&#39;s worth noting that you&#39;ll get `deconstruct` for free when using `public record Person(String firstName, String lastName, String city){}`. I agree that out parameters are a bit odd.","body":"It&#39;s worth noting that you&#39;ll get <code>deconstruct</code> for free when using <code>public record Person(String firstName, String lastName, String city){}</code>. I agree that out parameters are a bit odd."},{"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"score":0,"creation_date":1617002082,"post_id":58861568,"comment_id":118168108,"body_markdown":"Just curious: Can you give an example how a `record` might assist with destructuring?","body":"Just curious: Can you give an example how a <code>record</code> might assist with destructuring?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1617197117,"post_id":58861568,"comment_id":118236710,"body_markdown":"While the final syntax of the deconstruct declaration is not fixed, it is already given that records will get a default implementation, similar to how they get a default constructor today. So, with the record declaration, the deconstruction into variables matching their components will work out-of-the-box.","body":"While the final syntax of the deconstruct declaration is not fixed, it is already given that records will get a default implementation, similar to how they get a default constructor today. So, with the record declaration, the deconstruction into variables matching their components will work out-of-the-box."},{"owner":{"account_id":9018722,"reputation":151,"user_id":6720499,"display_name":"richardb"},"score":0,"creation_date":1689762973,"post_id":58861568,"comment_id":135258246,"body_markdown":"[Record Patterns](https://openjdk.org/jeps/440) are now part of Java 21.\nJust as @StefanHaberl I frowned on the syntax first. However it ensures that deep destructuring is possible in a type-safe way, especially in light of type erasure.","body":"<a href=\"https://openjdk.org/jeps/440\" rel=\"nofollow noreferrer\">Record Patterns</a> are now part of Java 21. Just as @StefanHaberl I frowned on the syntax first. However it ensures that deep destructuring is possible in a type-safe way, especially in light of type erasure."},{"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"score":1,"creation_date":1689831870,"post_id":58861568,"comment_id":135269539,"body_markdown":"Funny, though, that in 2023 we‘re still talking about type erasure ;)","body":"Funny, though, that in 2023 we‘re still talking about type erasure ;)"}],"tags":[],"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"comment_count":6,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1573749177,"creation_date":1573749177,"answer_id":58861568,"question_id":56586093,"body_markdown":"Java Language Architect [Brian Goetz](https://stackoverflow.com/users/3553087/brian-goetz) has recently talked about adding destructuring to an upcoming version of Java. Look for the _Sidebar: pattern matching_ chapter in his paper:\r\n\r\n[Towards Better Serialization](https://cr.openjdk.java.net/~briangoetz/amber/serialization.html)\r\n\r\nI strongly dislike the current proposal of the syntax, but according to Brian your use case will look like the following (please note, that at this point this is a proposal only and **will not work with any current version of Java**):\r\n\r\n    public class Person {\r\n        private final String firstName, lastName, city;\r\n    \r\n        // Constructor\r\n        public Person(String firstName, String lastName, String city) { \r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.city = city;\r\n        }\r\n\r\n        // Deconstruction pattern\r\n        public pattern Person(String firstName, String lastName, String city) { \r\n            firstName = this.firstName;\r\n            lastName = this.lastName;\r\n            city = this.city;\r\n        }\r\n    }\r\n\r\nYou should than be able to use that deconstruction pattern for instance in an instanceof check like so:\r\n\r\n    if (o instanceof Person(var firstName, lastName, city)) {\r\n       System.out.println(firstName);\r\n       System.out.println(lastName);\r\n       System.out.println(city);\r\n    }\r\n\r\nSorry, Brian does not mention any direct destructuring assignment in his examples, and I&#39;m not sure if and how these will be supported.\r\n\r\n_On a side note_: I do see the intended similarity to the constructor, but I personally do not like the current proposal that much, because the arguments of the &quot;deconstructor&quot; feel like out-parameters (Brian says as much in his paper). For me this is rather counter-intuitiv in a world where everybody is talking about immutability and making your method parameters `final`. \r\n\r\nI would rather like to see Java jump over the fence and support multi-value return types instead. Something along the lines of:\r\n\r\n        public (String firstName, String lastName, String city) deconstruct() { \r\n            return (this.firstName, this.lastName, this.city);\r\n        }","title":"Java object destructuring","body":"<p>Java Language Architect <a href=\"https://stackoverflow.com/users/3553087/brian-goetz\">Brian Goetz</a> has recently talked about adding destructuring to an upcoming version of Java. Look for the <em>Sidebar: pattern matching</em> chapter in his paper:</p>\n\n<p><a href=\"https://cr.openjdk.java.net/~briangoetz/amber/serialization.html\" rel=\"noreferrer\">Towards Better Serialization</a></p>\n\n<p>I strongly dislike the current proposal of the syntax, but according to Brian your use case will look like the following (please note, that at this point this is a proposal only and <strong>will not work with any current version of Java</strong>):</p>\n\n<pre><code>public class Person {\n    private final String firstName, lastName, city;\n\n    // Constructor\n    public Person(String firstName, String lastName, String city) { \n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.city = city;\n    }\n\n    // Deconstruction pattern\n    public pattern Person(String firstName, String lastName, String city) { \n        firstName = this.firstName;\n        lastName = this.lastName;\n        city = this.city;\n    }\n}\n</code></pre>\n\n<p>You should than be able to use that deconstruction pattern for instance in an instanceof check like so:</p>\n\n<pre><code>if (o instanceof Person(var firstName, lastName, city)) {\n   System.out.println(firstName);\n   System.out.println(lastName);\n   System.out.println(city);\n}\n</code></pre>\n\n<p>Sorry, Brian does not mention any direct destructuring assignment in his examples, and I'm not sure if and how these will be supported.</p>\n\n<p><em>On a side note</em>: I do see the intended similarity to the constructor, but I personally do not like the current proposal that much, because the arguments of the \"deconstructor\" feel like out-parameters (Brian says as much in his paper). For me this is rather counter-intuitiv in a world where everybody is talking about immutability and making your method parameters <code>final</code>. </p>\n\n<p>I would rather like to see Java jump over the fence and support multi-value return types instead. Something along the lines of:</p>\n\n<pre><code>    public (String firstName, String lastName, String city) deconstruct() { \n        return (this.firstName, this.lastName, this.city);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695221672,"creation_date":1695221672,"answer_id":77143669,"question_id":56586093,"body_markdown":"As noted Java does not support destructured assignments like Javascript.  But, [Groovy][1], a jvm language, also supports it like so:\r\n```\r\ndef (a,b,c) = [10, 20, &#39;foo&#39;]\r\n```\r\nOr with data types like so:\r\n```\r\ndef (int i, String j) = [10, &#39;foo&#39;]\r\n```\r\n\r\n\r\n  [1]: https://groovy-lang.org/","title":"Java object destructuring","body":"<p>As noted Java does not support destructured assignments like Javascript.  But, <a href=\"https://groovy-lang.org/\" rel=\"nofollow noreferrer\">Groovy</a>, a jvm language, also supports it like so:</p>\n<pre><code>def (a,b,c) = [10, 20, 'foo']\n</code></pre>\n<p>Or with data types like so:</p>\n<pre><code>def (int i, String j) = [10, 'foo']\n</code></pre>\n"}],"owner":{"account_id":13941708,"reputation":1359,"user_id":10067412,"display_name":"lion_bash"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40091,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":58861568,"answer_count":3,"score":39,"last_activity_date":1695891447,"creation_date":1560448431,"question_id":56586093,"body_markdown":"In javascript there is object destructuring so we can break down objects and just use the end key if the intermidiate objects are resused multiple times. e.g)\r\n\r\n    const person = {\r\n      firstName: &quot;Bob&quot;,\r\n      lastName: &quot;Marley&quot;,\r\n      city: &quot;Space&quot;\r\n    }\r\n\r\nSo instead of calling `person.&lt;&gt;` to get each value we can destructure it like this \r\n\r\n    console.log(person.firstName) \r\n    console.log(person.lastName) \r\n    console.log(person.city) \r\n\r\nDestructured:\r\n\r\n    const { firstName, lastName, city } = person;\r\n\r\nAnd call like this:\r\n\r\n    console.log(firstName)\r\n    console.log(lastName)\r\n    console.log(city)\r\n\r\nIs there something similar in Java? I have this Java Object that I need to get the value from and have to call long intermediate object names like this: \r\n\r\n    myOuterObject.getIntermediateObject().getThisSuperImportantGetter()\r\n    myOuterObject.getIntermediateObject().getThisSecondImportantGetter()\r\n    ...\r\n   \r\nI would like this destructure it somehow and just call the last method `getThisSuperImportantGetter()`, `getThisSecondImportantGetter()` for cleaner code. ","title":"Java object destructuring","body":"<p>In javascript there is object destructuring so we can break down objects and just use the end key if the intermidiate objects are resused multiple times. e.g)</p>\n\n<pre><code>const person = {\n  firstName: \"Bob\",\n  lastName: \"Marley\",\n  city: \"Space\"\n}\n</code></pre>\n\n<p>So instead of calling <code>person.&lt;&gt;</code> to get each value we can destructure it like this </p>\n\n<pre><code>console.log(person.firstName) \nconsole.log(person.lastName) \nconsole.log(person.city) \n</code></pre>\n\n<p>Destructured:</p>\n\n<pre><code>const { firstName, lastName, city } = person;\n</code></pre>\n\n<p>And call like this:</p>\n\n<pre><code>console.log(firstName)\nconsole.log(lastName)\nconsole.log(city)\n</code></pre>\n\n<p>Is there something similar in Java? I have this Java Object that I need to get the value from and have to call long intermediate object names like this: </p>\n\n<pre><code>myOuterObject.getIntermediateObject().getThisSuperImportantGetter()\nmyOuterObject.getIntermediateObject().getThisSecondImportantGetter()\n...\n</code></pre>\n\n<p>I would like this destructure it somehow and just call the last method <code>getThisSuperImportantGetter()</code>, <code>getThisSecondImportantGetter()</code> for cleaner code. </p>\n"},{"tags":["java","tomcat","servlets","wildfly","application-server"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1695906756,"post_id":77193525,"comment_id":136088349,"body_markdown":"What problem would this help solve *in an app server*?","body":"What problem would this help solve <i>in an app server</i>?"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1695924667,"post_id":77193525,"comment_id":136092114,"body_markdown":"You likely need to add `opens java.net` to your `JAVA_OPTS`.","body":"You likely need to add <code>opens java.net</code> to your <code>JAVA_OPTS</code>."},{"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"score":0,"creation_date":1696099293,"post_id":77193525,"comment_id":136111352,"body_markdown":"@nitind You ask for which function you need a URLStreamHandlerProvider?","body":"@nitind You ask for which function you need a URLStreamHandlerProvider?"},{"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"score":0,"creation_date":1696099490,"post_id":77193525,"comment_id":136111370,"body_markdown":"@JamesR.Perkins This is not possible within the war file. Telling each client what changes to make is very error-prone.","body":"@JamesR.Perkins This is not possible within the war file. Telling each client what changes to make is very error-prone."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1696259064,"post_id":77193525,"comment_id":136126808,"body_markdown":"I&#39;m not sure I follow. If the client is ran in WildFly, then you&#39;d simply modify the `JAVA_OPTS` in the `standalone.conf` file and it would open the `java.net` module. If you&#39;re creating a new JVM for clients, then you&#39;d need to pass that argument to the new JVM.","body":"I&#39;m not sure I follow. If the client is ran in WildFly, then you&#39;d simply modify the <code>JAVA_OPTS</code> in the <code>standalone.conf</code> file and it would open the <code>java.net</code> module. If you&#39;re creating a new JVM for clients, then you&#39;d need to pass that argument to the new JVM."},{"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"score":0,"creation_date":1696353501,"post_id":77193525,"comment_id":136140922,"body_markdown":"This are not my WildFly servers. This are the servers of the customers. I develop only the *.war file which the customer deploy in its application server. The servers can be different products and different product versions. That I need a standard solution which I can use inside the *.war file.","body":"This are not my WildFly servers. This are the servers of the customers. I develop only the *.war file which the customer deploy in its application server. The servers can be different products and different product versions. That I need a standard solution which I can use inside the *.war file."}],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695891391,"creation_date":1695891391,"question_id":77193525,"body_markdown":"With a standalone application I can register an `URLStreamHandlerProvider` via the service loader. But this does not work with a war file in an application server like Tomcat or WildFly.\r\n\r\nThe alternate solution via `URL.setURLStreamHandlerFactory( x )` does also not work. Only one can call this and the application service has already do it.\r\n\r\nThe third hack via reflection no longer works with Java 17.\r\n\r\n````\r\njava.lang.reflect.InaccessibleObjectException: Unable to make field static java.util.Hashtable java.net.URL.handlers accessible: module java.base does not &quot;opens java.net&quot; to unnamed module\r\n````\r\n\r\nAre there other solutions inside an application to register an URLStreamHandlerProvider? For example via web.xml or Servlet API? Are there individual solutions for single application server?","title":"How to register a custom URLStreamHandlerProvider in an application server?","body":"<p>With a standalone application I can register an <code>URLStreamHandlerProvider</code> via the service loader. But this does not work with a war file in an application server like Tomcat or WildFly.</p>\n<p>The alternate solution via <code>URL.setURLStreamHandlerFactory( x )</code> does also not work. Only one can call this and the application service has already do it.</p>\n<p>The third hack via reflection no longer works with Java 17.</p>\n<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make field static java.util.Hashtable java.net.URL.handlers accessible: module java.base does not &quot;opens java.net&quot; to unnamed module\n</code></pre>\n<p>Are there other solutions inside an application to register an URLStreamHandlerProvider? For example via web.xml or Servlet API? Are there individual solutions for single application server?</p>\n"},{"tags":["java","cucumber","serenity-bdd"],"comments":[{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1695899723,"post_id":77192996,"comment_id":136086891,"body_markdown":"Can you add id&#39;s to the html elements? This type of selection based on the nth element with a class is very fragile and will break with the next change to the UI","body":"Can you add id&#39;s to the html elements? This type of selection based on the nth element with a class is very fragile and will break with the next change to the UI"},{"owner":{"account_id":20002023,"reputation":277,"user_id":14660815,"display_name":"Dnyaneshwar Jadhav"},"score":0,"creation_date":1695980289,"post_id":77192996,"comment_id":136098311,"body_markdown":"Despite that is the valid point but its not in scope, anything I have to handle to my cucumber script only.","body":"Despite that is the valid point but its not in scope, anything I have to handle to my cucumber script only."}],"owner":{"account_id":20002023,"reputation":277,"user_id":14660815,"display_name":"Dnyaneshwar Jadhav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695891315,"creation_date":1695886496,"question_id":77192996,"body_markdown":"My HTML code is \r\n```html\r\n&lt;div&gt;\r\n&lt;div class=&quot;search-card-wrapper&quot; id=&quot;search-record-app:39bfa12b-c811-450f-90e4-b49aba8a0873&quot;&gt;\r\n   &lt;div class=&quot;search-card&quot;&gt;\r\n      &lt;div class=&quot;search-card-insert search-card-insert--clickable&quot; role=&quot;presentation&quot;&gt;\r\n         &lt;div class=&quot;search-card-info&quot;&gt;\r\n            &lt;div class=&quot;search-card-info-start&quot;&gt;\r\n               &lt;div class=&quot;search-card-title h4 text-gray-500-hover text-primary&quot;&gt;\r\n                  &lt;a href=&quot;https://domain_name/app:39bfa12b-c811-450f-90e4-b49aba8a0873&quot; target=&quot;_self&quot; class=&quot;d-flex justify-content-between&quot; style=&quot;color: inherit;&quot;&gt;\r\n                  &lt;/a&gt;\r\n               &lt;/div&gt;\r\n            &lt;/div&gt;\r\n         &lt;/div&gt;\r\n      &lt;/div&gt;\r\n   &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;div class=&quot;search-card-wrapper&quot; id=&quot;search-record-app:0dd13858-0cca-4079-b4c5-2dff0d9695a4&quot;&gt;\r\n   &lt;div class=&quot;search-card&quot;&gt;\r\n      &lt;div class=&quot;search-card-insert search-card-insert--clickable&quot; role=&quot;presentation&quot;&gt;         \r\n         &lt;div class=&quot;search-card-info&quot;&gt;\r\n            &lt;div class=&quot;search-card-info-start&quot;&gt;\r\n               &lt;div class=&quot;search-card-title h4 text-gray-500-hover text-primary&quot;&gt;\r\n                  &lt;a href=&quot;https://domain_name/app:0dd13858-0cca-4079-b4c5-2dff0d9695a4&quot; target=&quot;_self&quot; class=&quot;d-flex justify-content-between&quot; style=&quot;color: inherit;&quot;&gt;\r\n                  &lt;/a&gt;\r\n               &lt;/div&gt;\r\n            &lt;/div&gt;\r\n         &lt;/div&gt;\r\n      &lt;/div&gt;\r\n   &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nIn this I have 2 divs with `class=search-card-wrapper`. I want to click on the first div only. Here is the Cucumber code to perform this operation, but somehow this is not working. I&#39;m seeking for some help on this.\r\n\r\n```java\r\nstatic String SEARCH_CARD_LINKS = &quot;//div[@class=&#39;search-card-wrapper&#39;]//div//a&quot;;\r\nstatic String SEARCH_CARD_LINKS_ARR = &quot;(//div[@class=&#39;search-card-wrapper&#39;])[1]//div//a&quot;;\r\n\r\npublic static Performable selectLocationFromResultsV2() {\r\n    return Task.where(&quot;Selecting Location&quot;,\r\n        waitWaitingStateEnd(TIME_OUT_TIME_FOR_ELEMENT),\r\n        WaitUntil.the(SEARCH_CARD_LINKS, isPresent()).forNoMoreThan(TIME_OUT_TIME_FOR_ELEMENT*2).seconds(),\r\n        Task.where(actor -&gt; {\r\n            if (WaitForElementVisible(By.xpath(SEARCH_CARD_LINKS), 3)) {\r\n                Click.on(SEARCH_CARD_LINKS_ARR);\r\n              System.out.println(&quot;selectLocationFromResultsV2 location........&quot;);\r\n            } else {\r\n                showUpLog(&quot;First result was not found&quot;);\r\n            }\r\n        })\r\n    );\r\n}\r\n```\r\n\r\nFor this I am getting NullPointerException\r\n```none\r\njava.lang.NullPointerException: No BaseStepListener has been registered - are you running your test using the Serenity runners?\r\n\tat com.google.common.base.Preconditions.checkNotNull(Preconditions.java:899)\r\n\tat net.thucydides.core.steps.StepEventBus.getBaseStepListener(StepEventBus.java:153)\r\n\tat net.thucydides.core.steps.StepEventBus.wrapUpCurrentCucumberStep(StepEventBus.java:930)\r\n\tat net.thucydides.core.steps.StepInterceptor.finishAnyCucumberSteps(StepInterceptor.java:561)\r\n\tat net.thucydides.core.steps.StepInterceptor.notifyOfStepFailure(StepInterceptor.java:555)\r\n\tat net.thucydides.core.steps.StepInterceptor.logStepFailure(StepInterceptor.java:477)\r\n\tat net.thucydides.core.steps.StepInterceptor.runTestStep(StepInterceptor.java:462)\r\n\tat net.thucydides.core.steps.StepInterceptor.runOrSkipMethod(StepInterceptor.java:210)\r\n\tat net.thucydides.core.steps.StepInterceptor.testStepResult(StepInterceptor.java:197)\r\n\tat net.thucydides.core.steps.StepInterceptor.intercept(StepInterceptor.java:85)\r\n\tat net.thucydides.core.steps.ProxyConfiguration$InterceptorDispatcher.intercept(ProxyConfiguration.java:51)\r\n\tat net.serenitybdd.screenplay.AnonymousTask$ByteBuddy$XKIZQZt2.performAs(Unknown Source)\r\n\tat net.serenitybdd.screenplay.Actor.performTask(Actor.java:274)\r\n\tat net.serenitybdd.screenplay.Actor.perform(Actor.java:254)\r\n\tat net.serenitybdd.screenplay.Actor.attemptsTo(Actor.java:195)\r\n\tat net.serenitybdd.screenplay.Actor.attemptsTo(Actor.java:202)\r\n```\r\n\r\nHow to get this div captured for click operation? I am using feature files to perform this BDD type test cases.","title":"How to perform click operation on the first div element from several divs with same CSS class name","body":"<p>My HTML code is</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div&gt;\n&lt;div class=&quot;search-card-wrapper&quot; id=&quot;search-record-app:39bfa12b-c811-450f-90e4-b49aba8a0873&quot;&gt;\n   &lt;div class=&quot;search-card&quot;&gt;\n      &lt;div class=&quot;search-card-insert search-card-insert--clickable&quot; role=&quot;presentation&quot;&gt;\n         &lt;div class=&quot;search-card-info&quot;&gt;\n            &lt;div class=&quot;search-card-info-start&quot;&gt;\n               &lt;div class=&quot;search-card-title h4 text-gray-500-hover text-primary&quot;&gt;\n                  &lt;a href=&quot;https://domain_name/app:39bfa12b-c811-450f-90e4-b49aba8a0873&quot; target=&quot;_self&quot; class=&quot;d-flex justify-content-between&quot; style=&quot;color: inherit;&quot;&gt;\n                  &lt;/a&gt;\n               &lt;/div&gt;\n            &lt;/div&gt;\n         &lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=&quot;search-card-wrapper&quot; id=&quot;search-record-app:0dd13858-0cca-4079-b4c5-2dff0d9695a4&quot;&gt;\n   &lt;div class=&quot;search-card&quot;&gt;\n      &lt;div class=&quot;search-card-insert search-card-insert--clickable&quot; role=&quot;presentation&quot;&gt;         \n         &lt;div class=&quot;search-card-info&quot;&gt;\n            &lt;div class=&quot;search-card-info-start&quot;&gt;\n               &lt;div class=&quot;search-card-title h4 text-gray-500-hover text-primary&quot;&gt;\n                  &lt;a href=&quot;https://domain_name/app:0dd13858-0cca-4079-b4c5-2dff0d9695a4&quot; target=&quot;_self&quot; class=&quot;d-flex justify-content-between&quot; style=&quot;color: inherit;&quot;&gt;\n                  &lt;/a&gt;\n               &lt;/div&gt;\n            &lt;/div&gt;\n         &lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>In this I have 2 divs with <code>class=search-card-wrapper</code>. I want to click on the first div only. Here is the Cucumber code to perform this operation, but somehow this is not working. I'm seeking for some help on this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static String SEARCH_CARD_LINKS = &quot;//div[@class='search-card-wrapper']//div//a&quot;;\nstatic String SEARCH_CARD_LINKS_ARR = &quot;(//div[@class='search-card-wrapper'])[1]//div//a&quot;;\n\npublic static Performable selectLocationFromResultsV2() {\n    return Task.where(&quot;Selecting Location&quot;,\n        waitWaitingStateEnd(TIME_OUT_TIME_FOR_ELEMENT),\n        WaitUntil.the(SEARCH_CARD_LINKS, isPresent()).forNoMoreThan(TIME_OUT_TIME_FOR_ELEMENT*2).seconds(),\n        Task.where(actor -&gt; {\n            if (WaitForElementVisible(By.xpath(SEARCH_CARD_LINKS), 3)) {\n                Click.on(SEARCH_CARD_LINKS_ARR);\n              System.out.println(&quot;selectLocationFromResultsV2 location........&quot;);\n            } else {\n                showUpLog(&quot;First result was not found&quot;);\n            }\n        })\n    );\n}\n</code></pre>\n<p>For this I am getting NullPointerException</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.NullPointerException: No BaseStepListener has been registered - are you running your test using the Serenity runners?\n    at com.google.common.base.Preconditions.checkNotNull(Preconditions.java:899)\n    at net.thucydides.core.steps.StepEventBus.getBaseStepListener(StepEventBus.java:153)\n    at net.thucydides.core.steps.StepEventBus.wrapUpCurrentCucumberStep(StepEventBus.java:930)\n    at net.thucydides.core.steps.StepInterceptor.finishAnyCucumberSteps(StepInterceptor.java:561)\n    at net.thucydides.core.steps.StepInterceptor.notifyOfStepFailure(StepInterceptor.java:555)\n    at net.thucydides.core.steps.StepInterceptor.logStepFailure(StepInterceptor.java:477)\n    at net.thucydides.core.steps.StepInterceptor.runTestStep(StepInterceptor.java:462)\n    at net.thucydides.core.steps.StepInterceptor.runOrSkipMethod(StepInterceptor.java:210)\n    at net.thucydides.core.steps.StepInterceptor.testStepResult(StepInterceptor.java:197)\n    at net.thucydides.core.steps.StepInterceptor.intercept(StepInterceptor.java:85)\n    at net.thucydides.core.steps.ProxyConfiguration$InterceptorDispatcher.intercept(ProxyConfiguration.java:51)\n    at net.serenitybdd.screenplay.AnonymousTask$ByteBuddy$XKIZQZt2.performAs(Unknown Source)\n    at net.serenitybdd.screenplay.Actor.performTask(Actor.java:274)\n    at net.serenitybdd.screenplay.Actor.perform(Actor.java:254)\n    at net.serenitybdd.screenplay.Actor.attemptsTo(Actor.java:195)\n    at net.serenitybdd.screenplay.Actor.attemptsTo(Actor.java:202)\n</code></pre>\n<p>How to get this div captured for click operation? I am using feature files to perform this BDD type test cases.</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1695815446,"post_id":77187179,"comment_id":136073996,"body_markdown":"What does your Thymeleaf template look like?","body":"What does your Thymeleaf template look like?"},{"owner":{"account_id":24503238,"reputation":51,"user_id":18418577,"display_name":"Beerus239"},"score":0,"creation_date":1695821620,"post_id":77187179,"comment_id":136075341,"body_markdown":"@CardinalSystem apologies, I&#39;ve just added my template.","body":"@CardinalSystem apologies, I&#39;ve just added my template."}],"answers":[{"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695890993,"creation_date":1695890993,"answer_id":77193480,"question_id":77187179,"body_markdown":"The approach you are using is quite complex. I would suggest to create an object based on the result set and use that object in thymeleaf.\r\n\r\nWhen doing `[[${row.bridgeid}]]`, it is actually invoking the getter method on the object as such `row.getBridgeid()`. But in your case, you have a map of column name against the data in that column and the approach `[[${row.bridgeid}]]` will not work unless you have an object with that getter method. \r\n\r\nIt can be quite nasty to navigate through that dataset.\r\n\r\nI have created a very simple project which passes a list of `Person` objects to the thymeleaf context. The `email.html` page uses that data to populate the table view.\r\n\r\n    class Person{\r\n        private String name;\r\n        private int age;\r\n        private LocalDate dateRegistered;\r\n\r\n        public Person(String name, int age, LocalDate dateRegistered) {\r\n            this.name = name;\r\n            this.age = age;\r\n            this.dateRegistered = dateRegistered;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public int getAge() {\r\n            return age;\r\n        }\r\n\r\n        public LocalDate getDateRegistered() {\r\n            return dateRegistered;\r\n        }\r\n    }\r\n\r\nThe email template\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;\r\n          xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;body&gt;\r\n        &lt;table&gt;\r\n            &lt;tr&gt;\r\n                &lt;th&gt;Name&lt;/th&gt;\r\n                &lt;th&gt;Age&lt;/th&gt;\r\n                &lt;th&gt;Date registered&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr th:each=&quot;row : ${personsInThymeleaf}&quot;&gt;\r\n                &lt;td&gt;[[${row.name}]]&lt;/td&gt;\r\n                &lt;td&gt;[[${row.age}]]&lt;/td&gt;\r\n                &lt;td&gt;[[${row.dateRegistered}]]&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/table&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nProcessing of the data in thymeleaf.\r\n\r\n        List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\r\n\r\n        persons.add(new Person(&quot;John&quot;, 65, LocalDate.now()));\r\n        persons.add(new Person(&quot;Alex&quot;, 43, LocalDate.now()));\r\n        persons.add(new Person(&quot;Pam&quot;, 23, LocalDate.now()));\r\n\r\n        Context context = new Context();\r\n        // using personsInThymeleaf to have a different variable name in the thymeleaf engine\r\n        context.setVariable(&quot;personsInThymeleaf&quot;, persons);\r\n\r\n        String message = templateEngine.process(&quot;email&quot;, context);\r\n\r\n        System.out.println(message);\r\n\r\nYou can find the code at https://github.com/lsungum/th-email.git and run it.\r\n\r\nIf you are already using spring, it is worth looking into spring data jpa. This way you do not have to deal with the low level details of querying the database.\r\n","title":"Converting ResultSet map to HTML table for email","body":"<p>The approach you are using is quite complex. I would suggest to create an object based on the result set and use that object in thymeleaf.</p>\n<p>When doing <code>[[${row.bridgeid}]]</code>, it is actually invoking the getter method on the object as such <code>row.getBridgeid()</code>. But in your case, you have a map of column name against the data in that column and the approach <code>[[${row.bridgeid}]]</code> will not work unless you have an object with that getter method.</p>\n<p>It can be quite nasty to navigate through that dataset.</p>\n<p>I have created a very simple project which passes a list of <code>Person</code> objects to the thymeleaf context. The <code>email.html</code> page uses that data to populate the table view.</p>\n<pre><code>class Person{\n    private String name;\n    private int age;\n    private LocalDate dateRegistered;\n\n    public Person(String name, int age, LocalDate dateRegistered) {\n        this.name = name;\n        this.age = age;\n        this.dateRegistered = dateRegistered;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public LocalDate getDateRegistered() {\n        return dateRegistered;\n    }\n}\n</code></pre>\n<p>The email template</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;body&gt;\n    &lt;table&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Name&lt;/th&gt;\n            &lt;th&gt;Age&lt;/th&gt;\n            &lt;th&gt;Date registered&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;tr th:each=&quot;row : ${personsInThymeleaf}&quot;&gt;\n            &lt;td&gt;[[${row.name}]]&lt;/td&gt;\n            &lt;td&gt;[[${row.age}]]&lt;/td&gt;\n            &lt;td&gt;[[${row.dateRegistered}]]&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Processing of the data in thymeleaf.</p>\n<pre><code>    List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\n\n    persons.add(new Person(&quot;John&quot;, 65, LocalDate.now()));\n    persons.add(new Person(&quot;Alex&quot;, 43, LocalDate.now()));\n    persons.add(new Person(&quot;Pam&quot;, 23, LocalDate.now()));\n\n    Context context = new Context();\n    // using personsInThymeleaf to have a different variable name in the thymeleaf engine\n    context.setVariable(&quot;personsInThymeleaf&quot;, persons);\n\n    String message = templateEngine.process(&quot;email&quot;, context);\n\n    System.out.println(message);\n</code></pre>\n<p>You can find the code at <a href=\"https://github.com/lsungum/th-email.git\" rel=\"nofollow noreferrer\">https://github.com/lsungum/th-email.git</a> and run it.</p>\n<p>If you are already using spring, it is worth looking into spring data jpa. This way you do not have to deal with the low level details of querying the database.</p>\n"}],"owner":{"account_id":24503238,"reputation":51,"user_id":18418577,"display_name":"Beerus239"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695890993,"creation_date":1695814835,"question_id":77187179,"body_markdown":"I am building a Spring Boot application that runs SQL select queries. I have managed to save the output and display it. Now I want to convert this output to an table in HTML and send it via an email.\r\n\r\nI am stuck at the part where you convert it to html. I&#39;ve read a few things about Thymeleaf. I think I somehow need to parse my map to the `generateMailHtml` method, but maybe I am thinking to hard. How could I solve this? Could be with Thymeleaf or something else.\r\n\r\n    public void resultSet(Exchange exchange) {\r\n    \r\n        Connection connection = null;\r\n        Map &lt; String, List &lt; nl.placeholder.databasemailer.ResultSet &gt;&gt; valueMap;\r\n        try {\r\n            connection = dataSource.getConnection();\r\n    \r\n            Statement stmt = connection.createStatement();\r\n            List &lt; Map &lt; String, Object &gt;&gt; rows = new ArrayList &lt; Map &lt; String, Object &gt;&gt; ();\r\n            ResultSet rs = stmt.executeQuery(&quot;select bridgeid, containername from baseintegrationheaders&quot;);\r\n            //valueMap = new HashMap&lt;&gt;();\r\n            ResultSetMetaData md = rs.getMetaData();\r\n            int columnCount = md.getColumnCount();\r\n    \r\n            while (rs.next()) {\r\n                Map &lt; String, Object &gt; columns = new LinkedHashMap &lt; String, Object &gt; ();\r\n    \r\n                for (int i = 1; i &lt;= columnCount; i++) {\r\n                    columns.put(md.getColumnLabel(i), rs.getObject(i));\r\n                }\r\n                rows.add(columns);\r\n                exchange.getIn().setBody(columns);\r\n                System.out.println(columns);\r\n            }\r\n            exchange.getIn().setBody(rows);\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n    \r\n    public String generateMailHtml(String text) {\r\n        Map &lt; String, Object &gt; variables = new HashMap &lt; &gt; ();\r\n        variables.put(&quot;mailtext&quot;, text);\r\n        final String templateFileName = &quot;mail&quot;;\r\n        String output = this.templateEngine.process(templateFileName, new Context(Locale.getDefault(), variables));\r\n        return output;\r\n    }\r\n\r\n\r\nThis is my template so far:\r\n\r\n        &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;div&gt;\r\n        &lt;table\r\n                class=&quot;\r\n            table table-bordered table-striped table-hover table-responsive-xl\r\n          &quot;\r\n        &gt;\r\n            &lt;thead class=&quot;thead-dark&quot;&gt;\r\n            &lt;tr&gt;\r\n                &lt;th&gt;Date&lt;/th&gt;\r\n                &lt;th&gt;BridgeId&lt;/th&gt;\r\n                &lt;th&gt;RequestType&lt;/th&gt;\r\n                &lt;th&gt;RequestSpecification&lt;/th&gt;\r\n                &lt;th&gt;FaultDescription&lt;/th&gt;\r\n                &lt;th&gt;SourceSystem&lt;/th&gt;\r\n                &lt;th&gt;EventId&lt;/th&gt;\r\n                &lt;th&gt;MessageId&lt;/th&gt;\r\n                &lt;th&gt;RelatesTo&lt;/th&gt;\r\n                &lt;th&gt;SysTimeStamp&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n            &lt;/thead&gt;\r\n            &lt;tbody&gt;\r\n            &lt;tr th:each=&quot;rows :${rows}&quot;&gt;\r\n                &lt;td&gt;\r\n                    [[${rows.date}]]\r\n                &lt;/td&gt;\r\n                &lt;td&gt;\r\n                    [[${rows.bridgeid}]]\r\n                &lt;/td&gt;\r\n                &lt;td&gt;\r\n                    [[${rows.requesttype}]]\r\n                &lt;/td&gt;\r\n                &lt;td&gt;\r\n                    [[${rows.requestspecification}]]\r\n                &lt;/td&gt;\r\n                &lt;td&gt;\r\n                    [[${rows.faultdescription}]]\r\n                &lt;/td&gt;\r\n                &lt;td&gt;\r\n                    [[${rows.sourcesystem}]]\r\n                &lt;/td&gt;\r\n                &lt;td&gt;\r\n                    [[${rows.eventid}]]\r\n                &lt;/td&gt;\r\n                &lt;td&gt;\r\n                    [[${rows.messageid}]]\r\n                &lt;/td&gt;\r\n                &lt;td&gt;\r\n                    [[${rows.relatesto}]]\r\n                &lt;/td&gt;\r\n                &lt;td&gt;\r\n                    [[${rows.systimestamp}]]\r\n                &lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;/tbody&gt;\r\n        &lt;/table&gt;\r\n    &lt;/div&gt;\r\n    &lt;/html&gt;","title":"Converting ResultSet map to HTML table for email","body":"<p>I am building a Spring Boot application that runs SQL select queries. I have managed to save the output and display it. Now I want to convert this output to an table in HTML and send it via an email.</p>\n<p>I am stuck at the part where you convert it to html. I've read a few things about Thymeleaf. I think I somehow need to parse my map to the <code>generateMailHtml</code> method, but maybe I am thinking to hard. How could I solve this? Could be with Thymeleaf or something else.</p>\n<pre><code>public void resultSet(Exchange exchange) {\n\n    Connection connection = null;\n    Map &lt; String, List &lt; nl.placeholder.databasemailer.ResultSet &gt;&gt; valueMap;\n    try {\n        connection = dataSource.getConnection();\n\n        Statement stmt = connection.createStatement();\n        List &lt; Map &lt; String, Object &gt;&gt; rows = new ArrayList &lt; Map &lt; String, Object &gt;&gt; ();\n        ResultSet rs = stmt.executeQuery(&quot;select bridgeid, containername from baseintegrationheaders&quot;);\n        //valueMap = new HashMap&lt;&gt;();\n        ResultSetMetaData md = rs.getMetaData();\n        int columnCount = md.getColumnCount();\n\n        while (rs.next()) {\n            Map &lt; String, Object &gt; columns = new LinkedHashMap &lt; String, Object &gt; ();\n\n            for (int i = 1; i &lt;= columnCount; i++) {\n                columns.put(md.getColumnLabel(i), rs.getObject(i));\n            }\n            rows.add(columns);\n            exchange.getIn().setBody(columns);\n            System.out.println(columns);\n        }\n        exchange.getIn().setBody(rows);\n    } catch (SQLException e) {\n        throw new RuntimeException(e);\n    }\n}\n\npublic String generateMailHtml(String text) {\n    Map &lt; String, Object &gt; variables = new HashMap &lt; &gt; ();\n    variables.put(&quot;mailtext&quot;, text);\n    final String templateFileName = &quot;mail&quot;;\n    String output = this.templateEngine.process(templateFileName, new Context(Locale.getDefault(), variables));\n    return output;\n}\n</code></pre>\n<p>This is my template so far:</p>\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;div&gt;\n    &lt;table\n            class=&quot;\n        table table-bordered table-striped table-hover table-responsive-xl\n      &quot;\n    &gt;\n        &lt;thead class=&quot;thead-dark&quot;&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Date&lt;/th&gt;\n            &lt;th&gt;BridgeId&lt;/th&gt;\n            &lt;th&gt;RequestType&lt;/th&gt;\n            &lt;th&gt;RequestSpecification&lt;/th&gt;\n            &lt;th&gt;FaultDescription&lt;/th&gt;\n            &lt;th&gt;SourceSystem&lt;/th&gt;\n            &lt;th&gt;EventId&lt;/th&gt;\n            &lt;th&gt;MessageId&lt;/th&gt;\n            &lt;th&gt;RelatesTo&lt;/th&gt;\n            &lt;th&gt;SysTimeStamp&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n        &lt;tr th:each=&quot;rows :${rows}&quot;&gt;\n            &lt;td&gt;\n                [[${rows.date}]]\n            &lt;/td&gt;\n            &lt;td&gt;\n                [[${rows.bridgeid}]]\n            &lt;/td&gt;\n            &lt;td&gt;\n                [[${rows.requesttype}]]\n            &lt;/td&gt;\n            &lt;td&gt;\n                [[${rows.requestspecification}]]\n            &lt;/td&gt;\n            &lt;td&gt;\n                [[${rows.faultdescription}]]\n            &lt;/td&gt;\n            &lt;td&gt;\n                [[${rows.sourcesystem}]]\n            &lt;/td&gt;\n            &lt;td&gt;\n                [[${rows.eventid}]]\n            &lt;/td&gt;\n            &lt;td&gt;\n                [[${rows.messageid}]]\n            &lt;/td&gt;\n            &lt;td&gt;\n                [[${rows.relatesto}]]\n            &lt;/td&gt;\n            &lt;td&gt;\n                [[${rows.systimestamp}]]\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","database","spring-boot","microservices","database-table"],"comments":[{"owner":{"account_id":8064739,"reputation":533,"user_id":6079278,"display_name":"vanillaSugar"},"score":0,"creation_date":1539599585,"post_id":52814649,"comment_id":92546845,"body_markdown":"Btw it&#39;s not really a microservice if each microservice doesn&#39;t own it&#39;s data and use same database","body":"Btw it&#39;s not really a microservice if each microservice doesn&#39;t own it&#39;s data and use same database"},{"owner":{"account_id":13974836,"reputation":521,"user_id":10092483,"display_name":"Worthless"},"score":0,"creation_date":1539599674,"post_id":52814649,"comment_id":92546885,"body_markdown":"Its a design pattern, as such you can do anything - so long as you don&#39;t mess up. Here are some articles about both [Shared database](https://microservices.io/patterns/data/shared-database.html) [Per service database](https://microservices.io/patterns/data/database-per-service.html)","body":"Its a design pattern, as such you can do anything - so long as you don&#39;t mess up. Here are some articles about both <a href=\"https://microservices.io/patterns/data/shared-database.html\" rel=\"nofollow noreferrer\">Shared database</a> <a href=\"https://microservices.io/patterns/data/database-per-service.html\" rel=\"nofollow noreferrer\">Per service database</a>"},{"owner":{"account_id":1229621,"reputation":795,"user_id":1194481,"accept_rate":57,"display_name":"Shivam Aggarwal"},"score":0,"creation_date":1539599700,"post_id":52814649,"comment_id":92546900,"body_markdown":"Having a common DB makes it lose its independent nature.","body":"Having a common DB makes it lose its independent nature."},{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":0,"creation_date":1539599819,"post_id":52814649,"comment_id":92546961,"body_markdown":"An useful link on the topic i think : [link](https://stackoverflow.com/questions/3479297/multiple-application-using-one-database)","body":"An useful link on the topic i think : <a href=\"https://stackoverflow.com/questions/3479297/multiple-application-using-one-database\">link</a>"},{"owner":{"account_id":3037499,"reputation":17089,"user_id":2575224,"display_name":"Constantin Galbenu"},"score":1,"creation_date":1539599869,"post_id":52814649,"comment_id":92546988,"body_markdown":"Possible duplicate of [Microservices with shared database? using multiple ORM&#39;s?](https://stackoverflow.com/questions/43612866/microservices-with-shared-database-using-multiple-orms)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/43612866/microservices-with-shared-database-using-multiple-orms\">Microservices with shared database? using multiple ORM&#39;s?</a>"},{"owner":{"account_id":1462224,"reputation":1760,"user_id":1376205,"display_name":"Will C"},"score":0,"creation_date":1539708347,"post_id":52814649,"comment_id":92596534,"body_markdown":"I think its a pretty big misconception that microservices -&gt; no shared database. You can share the database but its just tighter coupling. If the schema doesn&#39;t evolve as much between the databases, it is often a non-problem. Same concept when it comes to refactoring, refactor parts that gives you and your team the highest contention. Don&#39;t focus on refactoring just to make it prettier :).","body":"I think its a pretty big misconception that microservices -&gt; no shared database. You can share the database but its just tighter coupling. If the schema doesn&#39;t evolve as much between the databases, it is often a non-problem. Same concept when it comes to refactoring, refactor parts that gives you and your team the highest contention. Don&#39;t focus on refactoring just to make it prettier :)."}],"answers":[{"comments":[{"owner":{"account_id":1462224,"reputation":1760,"user_id":1376205,"display_name":"Will C"},"score":0,"creation_date":1539708247,"post_id":52815433,"comment_id":92596485,"body_markdown":"About the third bullet, I think this becomes a problem either way. By moving to microservices, you have opted for eventual consistency rather than transactional. If you had separate databases, the latency in the message being propagated would be how long it would be stale for. As for caching, that also depends on a satisfactory TTL and how likely, it&#39;ll be updated. Other than that, I think you made some good points about shared databases aren&#39;t great.","body":"About the third bullet, I think this becomes a problem either way. By moving to microservices, you have opted for eventual consistency rather than transactional. If you had separate databases, the latency in the message being propagated would be how long it would be stale for. As for caching, that also depends on a satisfactory TTL and how likely, it&#39;ll be updated. Other than that, I think you made some good points about shared databases aren&#39;t great."},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1539712673,"post_id":52815433,"comment_id":92598649,"body_markdown":"Thanks, Will C. I meant a different case in mind. Say Microservice that owns the data, also pre-caches it in, say, Redis. So the &quot;reads&quot; check whether the data is in redis, and if the data is not there go to the database. If the data has been updated (again by the same microservice), cache invalidation message is broadcasted. Now, if the data is shared, its possible that another microservice will update the data but won&#39;t notify (how does it know that someone else pre-caches the data). So the data consistency will be flawed big time.","body":"Thanks, Will C. I meant a different case in mind. Say Microservice that owns the data, also pre-caches it in, say, Redis. So the &quot;reads&quot; check whether the data is in redis, and if the data is not there go to the database. If the data has been updated (again by the same microservice), cache invalidation message is broadcasted. Now, if the data is shared, its possible that another microservice will update the data but won&#39;t notify (how does it know that someone else pre-caches the data). So the data consistency will be flawed big time."},{"owner":{"account_id":1462224,"reputation":1760,"user_id":1376205,"display_name":"Will C"},"score":0,"creation_date":1539712955,"post_id":52815433,"comment_id":92598793,"body_markdown":"Agreed, it really depends on the cache invalidation scheme which in some cases could be more difficult than it seems initially eg. TTL, LRU, data size, etc for that matter. In my opinion, data should never be held indefinitely in the cache anyway.","body":"Agreed, it really depends on the cache invalidation scheme which in some cases could be more difficult than it seems initially eg. TTL, LRU, data size, etc for that matter. In my opinion, data should never be held indefinitely in the cache anyway."},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1539713254,"post_id":52815433,"comment_id":92598925,"body_markdown":"Yes, sure, you&#39;re right, an invalidation should be done after some TTL, LRU or whatever in any case, the invalidation, however, is kind of out of scope for this question, so I just tried to bring use cases where data sharing might harm out of my head :)","body":"Yes, sure, you&#39;re right, an invalidation should be done after some TTL, LRU or whatever in any case, the invalidation, however, is kind of out of scope for this question, so I just tried to bring use cases where data sharing might harm out of my head :)"}],"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1539601854,"creation_date":1539601854,"answer_id":52815433,"question_id":52814649,"body_markdown":"From my experience, it&#39;s not a good practice to share the same data between microservices.\r\nHere is the (probably incomplete) set of reasons:\r\n\r\n- It&#39;s hard to tell which microservice is really the data owner. This is not good from the architectural stand-point\r\n\r\n- A cost of schema change is much higher because the contract is not well defined. For example, if you remove, say, column, in one microservice, the second microservice can stop working, even if the code of the first microservice has been adjusted for changes.\r\nIn other cases, it will still work but the performance may aggravate (like removing an index by a maintainer of the first microservice, because it&#39;s not relevant for queries done in it, can cause performance aggravation of the second microservice)\r\n\r\n- If some microservice has a caching of some data and can hold data in-sync between the different instances of the same microservices, it can be tricky to keep proper synchronization if another microservice updates the database directly and doesn&#39;t notify the first microservice about the changes. \r\n\r\n- If a database is a performance bottleneck, both microservices will be influenced, especially its hard to handle, if these microservices have different scalability policies\r\n\r\n- A cost of migration to the different database (if required) will be much higher because the code must be changed in both microservices\r\n\r\n- If using an ORM, such as JOOQ (any tool that requires code generation), it&#39;s not really easy to understand where to put generated files? In both microservices? In one of them? How to share the Data Model\r\n\r\n- Metrics that are usually built per microservices will be tricky because if we measure an access to some table in DB, we&#39;re not sure that another microservice won&#39;t access that table as well.\r\n\r\n\r\n\r\nNow, having said all that, after all its a recommendation to not use this practice, technically there is no reason why it won&#39;t work. So the decision is yours after all.\r\nI can say from a personal experience, that in one of my projects we stopped managing shared database between microservices and it was a step in a right direction from my standpoint.","title":"Is it allowable to use the same tables from the different microservices?","body":"<p>From my experience, it's not a good practice to share the same data between microservices.\nHere is the (probably incomplete) set of reasons:</p>\n\n<ul>\n<li><p>It's hard to tell which microservice is really the data owner. This is not good from the architectural stand-point</p></li>\n<li><p>A cost of schema change is much higher because the contract is not well defined. For example, if you remove, say, column, in one microservice, the second microservice can stop working, even if the code of the first microservice has been adjusted for changes.\nIn other cases, it will still work but the performance may aggravate (like removing an index by a maintainer of the first microservice, because it's not relevant for queries done in it, can cause performance aggravation of the second microservice)</p></li>\n<li><p>If some microservice has a caching of some data and can hold data in-sync between the different instances of the same microservices, it can be tricky to keep proper synchronization if another microservice updates the database directly and doesn't notify the first microservice about the changes. </p></li>\n<li><p>If a database is a performance bottleneck, both microservices will be influenced, especially its hard to handle, if these microservices have different scalability policies</p></li>\n<li><p>A cost of migration to the different database (if required) will be much higher because the code must be changed in both microservices</p></li>\n<li><p>If using an ORM, such as JOOQ (any tool that requires code generation), it's not really easy to understand where to put generated files? In both microservices? In one of them? How to share the Data Model</p></li>\n<li><p>Metrics that are usually built per microservices will be tricky because if we measure an access to some table in DB, we're not sure that another microservice won't access that table as well.</p></li>\n</ul>\n\n<p>Now, having said all that, after all its a recommendation to not use this practice, technically there is no reason why it won't work. So the decision is yours after all.\nI can say from a personal experience, that in one of my projects we stopped managing shared database between microservices and it was a step in a right direction from my standpoint.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1992,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":1,"score":2,"last_activity_date":1695890685,"creation_date":1539599233,"question_id":52814649,"body_markdown":"We have 2 microservices:\r\n\r\nservice_A, service_B. Both of them use the same database. Today I find out that we have repositories for the same tables used by the different services. I remember that I read that it is a design mistake for some reason and tried to google that information. But unfortunately my search was not successful. Could you please explain that problem?\r\n\r\nAlso it might be my mistake. So is it ok to use the same table for different microservices?\r\n\r\n","title":"Is it allowable to use the same tables from the different microservices?","body":"<p>We have 2 microservices:</p>\n\n<p>service_A, service_B. Both of them use the same database. Today I find out that we have repositories for the same tables used by the different services. I remember that I read that it is a design mistake for some reason and tried to google that information. But unfortunately my search was not successful. Could you please explain that problem?</p>\n\n<p>Also it might be my mistake. So is it ok to use the same table for different microservices?</p>\n"},{"tags":["java","spring","websocket","spring-websocket"],"owner":{"account_id":4633131,"reputation":96,"user_id":3755048,"display_name":"V_R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695890666,"creation_date":1695890666,"question_id":77193444,"body_markdown":"I am using websocket to transfer text file content to client, for large file getting below exception\r\n`Buffer size 1052364 bytes for session exceeds the allowed limit 1048576`\r\n\r\nThis is thrown from ConcurrentWebSocketSessionDecorator.java, and connection is terminated.\r\n\r\nI don&#39;t want connection to be terminated, instead want to pause sending data to client, wait till the existing buffer flushed to client and resume.\r\nHow can I access ConcurrentWebSocketSessionDecorator instance from controller class, so that I can check bufferSize and decide whether to send data to client or wait.\r\n\r\nFollowing are some of the link I found, but they don&#39;t explain how to access ConcurrentWebSocketSessionDecorator\r\n\r\nhttps://github.com/spring-projects/spring-framework/issues/21677\r\n\r\nhttps://github.com/spring-projects/spring-framework/issues/20638\r\n\r\nThanks","title":"Access ConcurrentWebSocketSessionDecorator from controller to check bufferSize","body":"<p>I am using websocket to transfer text file content to client, for large file getting below exception\n<code>Buffer size 1052364 bytes for session exceeds the allowed limit 1048576</code></p>\n<p>This is thrown from ConcurrentWebSocketSessionDecorator.java, and connection is terminated.</p>\n<p>I don't want connection to be terminated, instead want to pause sending data to client, wait till the existing buffer flushed to client and resume.\nHow can I access ConcurrentWebSocketSessionDecorator instance from controller class, so that I can check bufferSize and decide whether to send data to client or wait.</p>\n<p>Following are some of the link I found, but they don't explain how to access ConcurrentWebSocketSessionDecorator</p>\n<p><a href=\"https://github.com/spring-projects/spring-framework/issues/21677\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/21677</a></p>\n<p><a href=\"https://github.com/spring-projects/spring-framework/issues/20638\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/20638</a></p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695890046,"post_id":77192028,"comment_id":136085025,"body_markdown":"They don&#39;t have authorities as the logging clearly shows.","body":"They don&#39;t have authorities as the logging clearly shows."},{"owner":{"account_id":17690530,"reputation":425,"user_id":12842397,"display_name":"demiglace"},"score":0,"creation_date":1695890387,"post_id":77192028,"comment_id":136085102,"body_markdown":"@M.Deinum I was able to make it work by removing the lombok annotation, but I am not sure how and why that fixed it","body":"@M.Deinum I was able to make it work by removing the lombok annotation, but I am not sure how and why that fixed it"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695890575,"post_id":77192028,"comment_id":136085146,"body_markdown":"Using `@Data` with `@Entity` is bad idea anyway (see https://deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities/).","body":"Using <code>@Data</code> with <code>@Entity</code> is bad idea anyway (see <a href=\"https://deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities/\" rel=\"nofollow noreferrer\">deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities</a>)."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1695902934,"post_id":77192028,"comment_id":136087539,"body_markdown":"your true error is being swallow as your logs show that something goes wrong and an exception is thrown. This exception is caught and spring redirects you to the spring boot error endpoint `/error` but you have not added any request matcher for it so spring security responds with a 403 because its forbidden for you to access `/error` its litteraly the first thing when you read about error handling in spring boot https://docs.spring.io/spring-boot/docs/3.1.4/reference/htmlsingle/#web.servlet.spring-mvc.error-handling if you enable TRACE logging you can prolly see the correct error","body":"your true error is being swallow as your logs show that something goes wrong and an exception is thrown. This exception is caught and spring redirects you to the spring boot error endpoint <code>&#47;error</code> but you have not added any request matcher for it so spring security responds with a 403 because its forbidden for you to access <code>&#47;error</code> its litteraly the first thing when you read about error handling in spring boot <a href=\"https://docs.spring.io/spring-boot/docs/3.1.4/reference/htmlsingle/#web.servlet.spring-mvc.error-handling\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/3.1.4/reference/htmlsingle/&hellip;</a> if you enable TRACE logging you can prolly see the correct error"}],"answers":[{"comments":[{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1695930827,"post_id":77193411,"comment_id":136093052,"body_markdown":"well don&#39;t think it is related to lombok. you should somehow fix it in other area ...","body":"well don&#39;t think it is related to lombok. you should somehow fix it in other area ..."}],"tags":[],"owner":{"account_id":17690530,"reputation":425,"user_id":12842397,"display_name":"demiglace"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695890343,"creation_date":1695890343,"answer_id":77193411,"question_id":77192028,"body_markdown":"I was able to make it work, by removing the @Data lombok annotation on my Role entity class, and instead manually writing a getter and setter for id, name fields, but not on the users field.\r\n\r\nBut the question now is, why and how did that fix it?\r\n\r\n```java\r\n@Entity\r\npublic class Role implements GrantedAuthority {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n    @ManyToMany(mappedBy = &quot;roles&quot;)\r\n    private Set&lt;User&gt; users;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String getAuthority() {\r\n        return name;\r\n    }\r\n}\r\n```","title":"Spring Boot Security Filter Chain is giving 403 for users with the correct roles","body":"<p>I was able to make it work, by removing the @Data lombok annotation on my Role entity class, and instead manually writing a getter and setter for id, name fields, but not on the users field.</p>\n<p>But the question now is, why and how did that fix it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Role implements GrantedAuthority {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    @ManyToMany(mappedBy = &quot;roles&quot;)\n    private Set&lt;User&gt; users;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String getAuthority() {\n        return name;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17690530,"reputation":425,"user_id":12842397,"display_name":"demiglace"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695890343,"creation_date":1695872317,"question_id":77192028,"body_markdown":"Spring Boot version 3.1.4\r\n\r\nSpring boot debug logs:\r\n\r\n```\r\n2023-09-28T16:24:58.104+08:00 DEBUG 33556 --- [nio-9091-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /couponapi/coupons/DOGE\r\nHibernate: select u1_0.id,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password from user u1_0 where u1_0.email=?\r\nHibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_role r1_0 join role r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?\r\nHibernate: select u1_0.role_id,u1_1.id,u1_1.email,u1_1.first_name,u1_1.last_name,u1_1.password from user_role u1_0 join user u1_1 on u1_1.id=u1_0.user_id where u1_0.role_id=?\r\nHibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_role r1_0 join role r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?\r\n2023-09-28T16:24:58.367+08:00 DEBUG 33556 --- [nio-9091-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\r\n2023-09-28T16:24:58.367+08:00 DEBUG 33556 --- [nio-9091-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=doge@doge.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]\r\n2023-09-28T16:24:58.375+08:00 DEBUG 33556 --- [nio-9091-exec-1] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code\r\n2023-09-28T16:24:58.377+08:00 DEBUG 33556 --- [nio-9091-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error\r\n2023-09-28T16:24:58.378+08:00 DEBUG 33556 --- [nio-9091-exec-1] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code\r\n```\r\n\r\nI am setting up a spring boot security to secure REST apis. I have three mysql tables: user, role, and user_role which provides foreign key and references to the user and role tables (see bottom for schema).\r\n\r\nMysql database role table has two roles assigned to my two users: &quot;ROLE_ADMIN&quot; and &quot;ROLE_USER&quot;. I have implemented Spring security UserDetailsService class as below:\r\n\r\n```java\r\n@Service\r\npublic class UserDetailsServiceImpl implements UserDetailsService {\r\n    @Autowired\r\n    private UserRepository userRepo;\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        User user = userRepo.findByEmail(username);\r\n        if (user==null) {\r\n            throw new UsernameNotFoundException(&quot;User not found for email &quot; + username);\r\n        }\r\n        return new org.springframework.security.core.userdetails.User(\r\n          user.getEmail(),\r\n          user.getPassword(),\r\n          user.getRoles()\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nThe following is what my Security Filter Chain config looks like:\r\n\r\n```java\r\n@Configuration\r\npublic class WebSecurityConfig {\r\n    @Bean\r\n    BCryptPasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.httpBasic();\r\n        http.authorizeHttpRequests()\r\n                .requestMatchers(HttpMethod.GET, &quot;/couponapi/coupons/**&quot;)\r\n                .hasAnyRole(&quot;USER&quot;, &quot;ADMIN&quot;)\r\n                .requestMatchers(HttpMethod.POST, &quot;/couponapi/coupons&quot;)\r\n                .hasRole(&quot;ADMIN&quot;)\r\n                .and().csrf().disable();\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nIf I try to get to any of my protected endpoints using a email that does not exist, I get a 401 which is expected.\r\nBut if I give a correct email and password to authenticate, I receive 403, regardless of whether the authenticated user is having the ADMIN or USER role.\r\n\r\n\r\nI have entity classes for the User and Role which are mapped as many to many with the following mysql schema:\r\n\r\n```sql\r\nCREATE TABLE USER_ROLE(\r\nUSER_ID int,\r\nROLE_ID int,\r\nFOREIGN KEY (user_id)\r\nREFERENCES user(id),\r\nFOREIGN KEY (role_id)\r\nREFERENCES role(id)\r\n);\r\n\r\ninsert into user(first_name,last_name,email,password) values (&#39;doge&#39;,&#39;doe&#39;,&#39;doge@doge.com&#39;,&#39;__password__&#39;);\r\ninsert into user(first_name,last_name,email,password) values (&#39;cate&#39;,&#39;doe&#39;,&#39;cate@cate.com&#39;,&#39;__password__&#39;);\r\n\r\ninsert into role values(1,&#39;ROLE_ADMIN&#39;);\r\ninsert into role values(2,&#39;ROLE_USER&#39;);\r\n\r\ninsert into user_role values(1,1);\r\ninsert into user_role values(2,2);\r\n```\r\n\r\n```java\r\n@Entity\r\n@Data\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String email;\r\n    private String password;\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;user_role&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    private Set&lt;Role&gt; roles;\r\n```\r\n\r\n```java\r\n@Entity\r\n@Data\r\npublic class Role implements GrantedAuthority {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n    @ManyToMany(mappedBy = &quot;roles&quot;)\r\n    private Set&lt;User&gt; users;\r\n\r\n    @Override\r\n    public String getAuthority() {\r\n        return name;\r\n    }\r\n}\r\n```\r\n\r\n","title":"Spring Boot Security Filter Chain is giving 403 for users with the correct roles","body":"<p>Spring Boot version 3.1.4</p>\n<p>Spring boot debug logs:</p>\n<pre><code>2023-09-28T16:24:58.104+08:00 DEBUG 33556 --- [nio-9091-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /couponapi/coupons/DOGE\nHibernate: select u1_0.id,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password from user u1_0 where u1_0.email=?\nHibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_role r1_0 join role r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?\nHibernate: select u1_0.role_id,u1_1.id,u1_1.email,u1_1.first_name,u1_1.last_name,u1_1.password from user_role u1_0 join user u1_1 on u1_1.id=u1_0.user_id where u1_0.role_id=?\nHibernate: select r1_0.user_id,r1_1.id,r1_1.name from user_role r1_0 join role r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?\n2023-09-28T16:24:58.367+08:00 DEBUG 33556 --- [nio-9091-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\n2023-09-28T16:24:58.367+08:00 DEBUG 33556 --- [nio-9091-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=doge@doge.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]\n2023-09-28T16:24:58.375+08:00 DEBUG 33556 --- [nio-9091-exec-1] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code\n2023-09-28T16:24:58.377+08:00 DEBUG 33556 --- [nio-9091-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error\n2023-09-28T16:24:58.378+08:00 DEBUG 33556 --- [nio-9091-exec-1] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code\n</code></pre>\n<p>I am setting up a spring boot security to secure REST apis. I have three mysql tables: user, role, and user_role which provides foreign key and references to the user and role tables (see bottom for schema).</p>\n<p>Mysql database role table has two roles assigned to my two users: &quot;ROLE_ADMIN&quot; and &quot;ROLE_USER&quot;. I have implemented Spring security UserDetailsService class as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserDetailsServiceImpl implements UserDetailsService {\n    @Autowired\n    private UserRepository userRepo;\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userRepo.findByEmail(username);\n        if (user==null) {\n            throw new UsernameNotFoundException(&quot;User not found for email &quot; + username);\n        }\n        return new org.springframework.security.core.userdetails.User(\n          user.getEmail(),\n          user.getPassword(),\n          user.getRoles()\n        );\n    }\n}\n</code></pre>\n<p>The following is what my Security Filter Chain config looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebSecurityConfig {\n    @Bean\n    BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.httpBasic();\n        http.authorizeHttpRequests()\n                .requestMatchers(HttpMethod.GET, &quot;/couponapi/coupons/**&quot;)\n                .hasAnyRole(&quot;USER&quot;, &quot;ADMIN&quot;)\n                .requestMatchers(HttpMethod.POST, &quot;/couponapi/coupons&quot;)\n                .hasRole(&quot;ADMIN&quot;)\n                .and().csrf().disable();\n        return http.build();\n    }\n}\n</code></pre>\n<p>If I try to get to any of my protected endpoints using a email that does not exist, I get a 401 which is expected.\nBut if I give a correct email and password to authenticate, I receive 403, regardless of whether the authenticated user is having the ADMIN or USER role.</p>\n<p>I have entity classes for the User and Role which are mapped as many to many with the following mysql schema:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE USER_ROLE(\nUSER_ID int,\nROLE_ID int,\nFOREIGN KEY (user_id)\nREFERENCES user(id),\nFOREIGN KEY (role_id)\nREFERENCES role(id)\n);\n\ninsert into user(first_name,last_name,email,password) values ('doge','doe','doge@doge.com','__password__');\ninsert into user(first_name,last_name,email,password) values ('cate','doe','cate@cate.com','__password__');\n\ninsert into role values(1,'ROLE_ADMIN');\ninsert into role values(2,'ROLE_USER');\n\ninsert into user_role values(1,1);\ninsert into user_role values(2,2);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String firstName;\n    private String lastName;\n    private String email;\n    private String password;\n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;user_role&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Set&lt;Role&gt; roles;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\npublic class Role implements GrantedAuthority {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    @ManyToMany(mappedBy = &quot;roles&quot;)\n    private Set&lt;User&gt; users;\n\n    @Override\n    public String getAuthority() {\n        return name;\n    }\n}\n</code></pre>\n"},{"tags":["java","cryptography","galois-field"],"owner":{"account_id":13880979,"reputation":1,"user_id":10021358,"display_name":"MichaelH."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695890316,"creation_date":1695886063,"question_id":77192948,"body_markdown":"I have a Shamir Secret Sharing implementation in Java and I want to be able to generate more Subkeys, without invalidating the old subkeys. \r\nI am currently using an implementation with GF256, and generating Subkeys once works. But as soon as generate another Subkey Set, and I try to combine them, it doesn&#39;t recreate the MasterKey anymore.\r\nWhat do I have to change?\r\n\r\n\r\nShamirSecretSharing.java:\r\n```\r\nimport java.util.Collections;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.Map.Entry;\r\n\r\npublic class ShamirSecretSharing\r\n{\r\n    private final int numberOfShares;\r\n    private final int keyThreshold;\r\n    private final GF256 gf256;\r\n\r\n    ShamirSecretSharing(int numberOfShares, int keyThreshold, GF256 gf256)\r\n    {\r\n        this.numberOfShares = numberOfShares;\r\n        this.keyThreshold = keyThreshold;\r\n        this.gf256 = gf256;\r\n    }\r\n\r\n    public Map&lt;Integer, byte[]&gt; split(byte[] masterKey)\r\n    {\r\n        if (StringUtil.isBlankOrMissing(masterKey))\r\n        {\r\n            throw new IllegalArgumentException(&quot;The Master-Key must not be null or empty&quot;);\r\n        }\r\n\r\n        byte[][] subKeyValues = new byte[numberOfShares][masterKey.length];\r\n        for (int i = 0; i &lt; masterKey.length; i++)\r\n        {\r\n            byte[] polynomial = gf256.generatePolynomialOfDegree(keyThreshold - 1, masterKey[i]);\r\n            for (int x = 1; x &lt;= numberOfShares; x++)\r\n            {\r\n                subKeyValues[x - 1][i] = gf256.evaluatePolynomial(polynomial, (byte) x);\r\n            }\r\n        }\r\n\r\n        Map&lt;Integer, byte[]&gt; subKeys = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; subKeyValues.length; i++)\r\n        {\r\n            subKeys.put(i + 1, subKeyValues[i]);\r\n        }\r\n\r\n        return Collections.unmodifiableMap(subKeys);\r\n    }\r\n\r\n    public byte[] join(Map&lt;Integer, byte[]&gt; subKeys)\r\n    {\r\n        if (subKeys == null || subKeys.isEmpty())\r\n        {\r\n            throw new IllegalArgumentException(&quot;Sub-Keys must not be null&quot;);\r\n        }\r\n\r\n        final byte[] masterKey = new byte[((byte[])subKeys.values().toArray()[0]).length];\r\n        for (int i = 0; i &lt; masterKey.length; i++)\r\n        {\r\n            byte[][] points = new byte[subKeys.size()][2];\r\n            int j = 0;\r\n            for (Entry&lt;Integer, byte[]&gt; entry : subKeys.entrySet())\r\n            {\r\n                points[j][0] = entry.getKey().byteValue();\r\n                points[j][1] = entry.getValue()[i];\r\n                j++;\r\n            }\r\n\r\n            masterKey[i] = gf256.interpolatePolynomials(points);\r\n        }\r\n\r\n        return masterKey;\r\n    }\r\n\r\n    public static ShamirSecretSharingBuilder builder()\r\n    {\r\n        return new ShamirSecretSharingBuilder();\r\n    }\r\n}\r\n\r\n```\r\n\r\nGF256.java:\r\n```\r\nimport java.security.SecureRandom;\r\n\r\nclass GF256\r\n{\r\n    private static final byte[] LOGARITHMIC_TABLE = {\r\n            (byte) 0xff, (byte) 0x00, (byte) 0x19, (byte) 0x01, (byte) 0x32, (byte) 0x02, (byte) 0x1a,\r\n            (byte) 0xc6, (byte) 0x4b, (byte) 0xc7, (byte) 0x1b, (byte) 0x68, (byte) 0x33, (byte) 0xee,\r\n            (byte) 0xdf, (byte) 0x03, (byte) 0x64, (byte) 0x04, (byte) 0xe0, (byte) 0x0e, (byte) 0x34,\r\n            (byte) 0x8d, (byte) 0x81, (byte) 0xef, (byte) 0x4c, (byte) 0x71, (byte) 0x08, (byte) 0xc8,\r\n            (byte) 0xf8, (byte) 0x69, (byte) 0x1c, (byte) 0xc1, (byte) 0x7d, (byte) 0xc2, (byte) 0x1d,\r\n            (byte) 0xb5, (byte) 0xf9, (byte) 0xb9, (byte) 0x27, (byte) 0x6a, (byte) 0x4d, (byte) 0xe4,\r\n            (byte) 0xa6, (byte) 0x72, (byte) 0x9a, (byte) 0xc9, (byte) 0x09, (byte) 0x78, (byte) 0x65,\r\n            (byte) 0x2f, (byte) 0x8a, (byte) 0x05, (byte) 0x21, (byte) 0x0f, (byte) 0xe1, (byte) 0x24,\r\n            (byte) 0x12, (byte) 0xf0, (byte) 0x82, (byte) 0x45, (byte) 0x35, (byte) 0x93, (byte) 0xda,\r\n            (byte) 0x8e, (byte) 0x96, (byte) 0x8f, (byte) 0xdb, (byte) 0xbd, (byte) 0x36, (byte) 0xd0,\r\n            (byte) 0xce, (byte) 0x94, (byte) 0x13, (byte) 0x5c, (byte) 0xd2, (byte) 0xf1, (byte) 0x40,\r\n            (byte) 0x46, (byte) 0x83, (byte) 0x38, (byte) 0x66, (byte) 0xdd, (byte) 0xfd, (byte) 0x30,\r\n            (byte) 0xbf, (byte) 0x06, (byte) 0x8b, (byte) 0x62, (byte) 0xb3, (byte) 0x25, (byte) 0xe2,\r\n            (byte) 0x98, (byte) 0x22, (byte) 0x88, (byte) 0x91, (byte) 0x10, (byte) 0x7e, (byte) 0x6e,\r\n            (byte) 0x48, (byte) 0xc3, (byte) 0xa3, (byte) 0xb6, (byte) 0x1e, (byte) 0x42, (byte) 0x3a,\r\n            (byte) 0x6b, (byte) 0x28, (byte) 0x54, (byte) 0xfa, (byte) 0x85, (byte) 0x3d, (byte) 0xba,\r\n            (byte) 0x2b, (byte) 0x79, (byte) 0x0a, (byte) 0x15, (byte) 0x9b, (byte) 0x9f, (byte) 0x5e,\r\n            (byte) 0xca, (byte) 0x4e, (byte) 0xd4, (byte) 0xac, (byte) 0xe5, (byte) 0xf3, (byte) 0x73,\r\n            (byte) 0xa7, (byte) 0x57, (byte) 0xaf, (byte) 0x58, (byte) 0xa8, (byte) 0x50, (byte) 0xf4,\r\n            (byte) 0xea, (byte) 0xd6, (byte) 0x74, (byte) 0x4f, (byte) 0xae, (byte) 0xe9, (byte) 0xd5,\r\n            (byte) 0xe7, (byte) 0xe6, (byte) 0xad, (byte) 0xe8, (byte) 0x2c, (byte) 0xd7, (byte) 0x75,\r\n            (byte) 0x7a, (byte) 0xeb, (byte) 0x16, (byte) 0x0b, (byte) 0xf5, (byte) 0x59, (byte) 0xcb,\r\n            (byte) 0x5f, (byte) 0xb0, (byte) 0x9c, (byte) 0xa9, (byte) 0x51, (byte) 0xa0, (byte) 0x7f,\r\n            (byte) 0x0c, (byte) 0xf6, (byte) 0x6f, (byte) 0x17, (byte) 0xc4, (byte) 0x49, (byte) 0xec,\r\n            (byte) 0xd8, (byte) 0x43, (byte) 0x1f, (byte) 0x2d, (byte) 0xa4, (byte) 0x76, (byte) 0x7b,\r\n            (byte) 0xb7, (byte) 0xcc, (byte) 0xbb, (byte) 0x3e, (byte) 0x5a, (byte) 0xfb, (byte) 0x60,\r\n            (byte) 0xb1, (byte) 0x86, (byte) 0x3b, (byte) 0x52, (byte) 0xa1, (byte) 0x6c, (byte) 0xaa,\r\n            (byte) 0x55, (byte) 0x29, (byte) 0x9d, (byte) 0x97, (byte) 0xb2, (byte) 0x87, (byte) 0x90,\r\n            (byte) 0x61, (byte) 0xbe, (byte) 0xdc, (byte) 0xfc, (byte) 0xbc, (byte) 0x95, (byte) 0xcf,\r\n            (byte) 0xcd, (byte) 0x37, (byte) 0x3f, (byte) 0x5b, (byte) 0xd1, (byte) 0x53, (byte) 0x39,\r\n            (byte) 0x84, (byte) 0x3c, (byte) 0x41, (byte) 0xa2, (byte) 0x6d, (byte) 0x47, (byte) 0x14,\r\n            (byte) 0x2a, (byte) 0x9e, (byte) 0x5d, (byte) 0x56, (byte) 0xf2, (byte) 0xd3, (byte) 0xab,\r\n            (byte) 0x44, (byte) 0x11, (byte) 0x92, (byte) 0xd9, (byte) 0x23, (byte) 0x20, (byte) 0x2e,\r\n            (byte) 0x89, (byte) 0xb4, (byte) 0x7c, (byte) 0xb8, (byte) 0x26, (byte) 0x77, (byte) 0x99,\r\n            (byte) 0xe3, (byte) 0xa5, (byte) 0x67, (byte) 0x4a, (byte) 0xed, (byte) 0xde, (byte) 0xc5,\r\n            (byte) 0x31, (byte) 0xfe, (byte) 0x18, (byte) 0x0d, (byte) 0x63, (byte) 0x8c, (byte) 0x80,\r\n            (byte) 0xc0, (byte) 0xf7, (byte) 0x70, (byte) 0x07,\r\n    };\r\n\r\n    private static final byte[] EXPONENTIAL_TABLE = {\r\n            (byte) 0x01, (byte) 0x03, (byte) 0x05, (byte) 0x0f, (byte) 0x11, (byte) 0x33, (byte) 0x55,\r\n            (byte) 0xff, (byte) 0x1a, (byte) 0x2e, (byte) 0x72, (byte) 0x96, (byte) 0xa1, (byte) 0xf8,\r\n            (byte) 0x13, (byte) 0x35, (byte) 0x5f, (byte) 0xe1, (byte) 0x38, (byte) 0x48, (byte) 0xd8,\r\n            (byte) 0x73, (byte) 0x95, (byte) 0xa4, (byte) 0xf7, (byte) 0x02, (byte) 0x06, (byte) 0x0a,\r\n            (byte) 0x1e, (byte) 0x22, (byte) 0x66, (byte) 0xaa, (byte) 0xe5, (byte) 0x34, (byte) 0x5c,\r\n            (byte) 0xe4, (byte) 0x37, (byte) 0x59, (byte) 0xeb, (byte) 0x26, (byte) 0x6a, (byte) 0xbe,\r\n            (byte) 0xd9, (byte) 0x70, (byte) 0x90, (byte) 0xab, (byte) 0xe6, (byte) 0x31, (byte) 0x53,\r\n            (byte) 0xf5, (byte) 0x04, (byte) 0x0c, (byte) 0x14, (byte) 0x3c, (byte) 0x44, (byte) 0xcc,\r\n            (byte) 0x4f, (byte) 0xd1, (byte) 0x68, (byte) 0xb8, (byte) 0xd3, (byte) 0x6e, (byte) 0xb2,\r\n            (byte) 0xcd, (byte) 0x4c, (byte) 0xd4, (byte) 0x67, (byte) 0xa9, (byte) 0xe0, (byte) 0x3b,\r\n            (byte) 0x4d, (byte) 0xd7, (byte) 0x62, (byte) 0xa6, (byte) 0xf1, (byte) 0x08, (byte) 0x18,\r\n            (byte) 0x28, (byte) 0x78, (byte) 0x88, (byte) 0x83, (byte) 0x9e, (byte) 0xb9, (byte) 0xd0,\r\n            (byte) 0x6b, (byte) 0xbd, (byte) 0xdc, (byte) 0x7f, (byte) 0x81, (byte) 0x98, (byte) 0xb3,\r\n            (byte) 0xce, (byte) 0x49, (byte) 0xdb, (byte) 0x76, (byte) 0x9a, (byte) 0xb5, (byte) 0xc4,\r\n            (byte) 0x57, (byte) 0xf9, (byte) 0x10, (byte) 0x30, (byte) 0x50, (byte) 0xf0, (byte) 0x0b,\r\n            (byte) 0x1d, (byte) 0x27, (byte) 0x69, (byte) 0xbb, (byte) 0xd6, (byte) 0x61, (byte) 0xa3,\r\n            (byte) 0xfe, (byte) 0x19, (byte) 0x2b, (byte) 0x7d, (byte) 0x87, (byte) 0x92, (byte) 0xad,\r\n            (byte) 0xec, (byte) 0x2f, (byte) 0x71, (byte) 0x93, (byte) 0xae, (byte) 0xe9, (byte) 0x20,\r\n            (byte) 0x60, (byte) 0xa0, (byte) 0xfb, (byte) 0x16, (byte) 0x3a, (byte) 0x4e, (byte) 0xd2,\r\n            (byte) 0x6d, (byte) 0xb7, (byte) 0xc2, (byte) 0x5d, (byte) 0xe7, (byte) 0x32, (byte) 0x56,\r\n            (byte) 0xfa, (byte) 0x15, (byte) 0x3f, (byte) 0x41, (byte) 0xc3, (byte) 0x5e, (byte) 0xe2,\r\n            (byte) 0x3d, (byte) 0x47, (byte) 0xc9, (byte) 0x40, (byte) 0xc0, (byte) 0x5b, (byte) 0xed,\r\n            (byte) 0x2c, (byte) 0x74, (byte) 0x9c, (byte) 0xbf, (byte) 0xda, (byte) 0x75, (byte) 0x9f,\r\n            (byte) 0xba, (byte) 0xd5, (byte) 0x64, (byte) 0xac, (byte) 0xef, (byte) 0x2a, (byte) 0x7e,\r\n            (byte) 0x82, (byte) 0x9d, (byte) 0xbc, (byte) 0xdf, (byte) 0x7a, (byte) 0x8e, (byte) 0x89,\r\n            (byte) 0x80, (byte) 0x9b, (byte) 0xb6, (byte) 0xc1, (byte) 0x58, (byte) 0xe8, (byte) 0x23,\r\n            (byte) 0x65, (byte) 0xaf, (byte) 0xea, (byte) 0x25, (byte) 0x6f, (byte) 0xb1, (byte) 0xc8,\r\n            (byte) 0x43, (byte) 0xc5, (byte) 0x54, (byte) 0xfc, (byte) 0x1f, (byte) 0x21, (byte) 0x63,\r\n            (byte) 0xa5, (byte) 0xf4, (byte) 0x07, (byte) 0x09, (byte) 0x1b, (byte) 0x2d, (byte) 0x77,\r\n            (byte) 0x99, (byte) 0xb0, (byte) 0xcb, (byte) 0x46, (byte) 0xca, (byte) 0x45, (byte) 0xcf,\r\n            (byte) 0x4a, (byte) 0xde, (byte) 0x79, (byte) 0x8b, (byte) 0x86, (byte) 0x91, (byte) 0xa8,\r\n            (byte) 0xe3, (byte) 0x3e, (byte) 0x42, (byte) 0xc6, (byte) 0x51, (byte) 0xf3, (byte) 0x0e,\r\n            (byte) 0x12, (byte) 0x36, (byte) 0x5a, (byte) 0xee, (byte) 0x29, (byte) 0x7b, (byte) 0x8d,\r\n            (byte) 0x8c, (byte) 0x8f, (byte) 0x8a, (byte) 0x85, (byte) 0x94, (byte) 0xa7, (byte) 0xf2,\r\n            (byte) 0x0d, (byte) 0x17, (byte) 0x39, (byte) 0x4b, (byte) 0xdd, (byte) 0x7c, (byte) 0x84,\r\n            (byte) 0x97, (byte) 0xa2, (byte) 0xfd, (byte) 0x1c, (byte) 0x24, (byte) 0x6c, (byte) 0xb4,\r\n            (byte) 0xc7, (byte) 0x52, (byte) 0xf6, (byte) 0x01, (byte) 0x03, (byte) 0x05, (byte) 0x0f,\r\n            (byte) 0x11, (byte) 0x33, (byte) 0x55, (byte) 0xff, (byte) 0x1a, (byte) 0x2e, (byte) 0x72,\r\n            (byte) 0x96, (byte) 0xa1, (byte) 0xf8, (byte) 0x13, (byte) 0x35, (byte) 0x5f, (byte) 0xe1,\r\n            (byte) 0x38, (byte) 0x48, (byte) 0xd8, (byte) 0x73, (byte) 0x95, (byte) 0xa4, (byte) 0xf7,\r\n            (byte) 0x02, (byte) 0x06, (byte) 0x0a, (byte) 0x1e, (byte) 0x22, (byte) 0x66, (byte) 0xaa,\r\n            (byte) 0xe5, (byte) 0x34, (byte) 0x5c, (byte) 0xe4, (byte) 0x37, (byte) 0x59, (byte) 0xeb,\r\n            (byte) 0x26, (byte) 0x6a, (byte) 0xbe, (byte) 0xd9, (byte) 0x70, (byte) 0x90, (byte) 0xab,\r\n            (byte) 0xe6, (byte) 0x31, (byte) 0x53, (byte) 0xf5, (byte) 0x04, (byte) 0x0c, (byte) 0x14,\r\n            (byte) 0x3c, (byte) 0x44, (byte) 0xcc, (byte) 0x4f, (byte) 0xd1, (byte) 0x68, (byte) 0xb8,\r\n            (byte) 0xd3, (byte) 0x6e, (byte) 0xb2, (byte) 0xcd, (byte) 0x4c, (byte) 0xd4, (byte) 0x67,\r\n            (byte) 0xa9, (byte) 0xe0, (byte) 0x3b, (byte) 0x4d, (byte) 0xd7, (byte) 0x62, (byte) 0xa6,\r\n            (byte) 0xf1, (byte) 0x08, (byte) 0x18, (byte) 0x28, (byte) 0x78, (byte) 0x88, (byte) 0x83,\r\n            (byte) 0x9e, (byte) 0xb9, (byte) 0xd0, (byte) 0x6b, (byte) 0xbd, (byte) 0xdc, (byte) 0x7f,\r\n            (byte) 0x81, (byte) 0x98, (byte) 0xb3, (byte) 0xce, (byte) 0x49, (byte) 0xdb, (byte) 0x76,\r\n            (byte) 0x9a, (byte) 0xb5, (byte) 0xc4, (byte) 0x57, (byte) 0xf9, (byte) 0x10, (byte) 0x30,\r\n            (byte) 0x50, (byte) 0xf0, (byte) 0x0b, (byte) 0x1d, (byte) 0x27, (byte) 0x69, (byte) 0xbb,\r\n            (byte) 0xd6, (byte) 0x61, (byte) 0xa3, (byte) 0xfe, (byte) 0x19, (byte) 0x2b, (byte) 0x7d,\r\n            (byte) 0x87, (byte) 0x92, (byte) 0xad, (byte) 0xec, (byte) 0x2f, (byte) 0x71, (byte) 0x93,\r\n            (byte) 0xae, (byte) 0xe9, (byte) 0x20, (byte) 0x60, (byte) 0xa0, (byte) 0xfb, (byte) 0x16,\r\n            (byte) 0x3a, (byte) 0x4e, (byte) 0xd2, (byte) 0x6d, (byte) 0xb7, (byte) 0xc2, (byte) 0x5d,\r\n            (byte) 0xe7, (byte) 0x32, (byte) 0x56, (byte) 0xfa, (byte) 0x15, (byte) 0x3f, (byte) 0x41,\r\n            (byte) 0xc3, (byte) 0x5e, (byte) 0xe2, (byte) 0x3d, (byte) 0x47, (byte) 0xc9, (byte) 0x40,\r\n            (byte) 0xc0, (byte) 0x5b, (byte) 0xed, (byte) 0x2c, (byte) 0x74, (byte) 0x9c, (byte) 0xbf,\r\n            (byte) 0xda, (byte) 0x75, (byte) 0x9f, (byte) 0xba, (byte) 0xd5, (byte) 0x64, (byte) 0xac,\r\n            (byte) 0xef, (byte) 0x2a, (byte) 0x7e, (byte) 0x82, (byte) 0x9d, (byte) 0xbc, (byte) 0xdf,\r\n            (byte) 0x7a, (byte) 0x8e, (byte) 0x89, (byte) 0x80, (byte) 0x9b, (byte) 0xb6, (byte) 0xc1,\r\n            (byte) 0x58, (byte) 0xe8, (byte) 0x23, (byte) 0x65, (byte) 0xaf, (byte) 0xea, (byte) 0x25,\r\n            (byte) 0x6f, (byte) 0xb1, (byte) 0xc8, (byte) 0x43, (byte) 0xc5, (byte) 0x54, (byte) 0xfc,\r\n            (byte) 0x1f, (byte) 0x21, (byte) 0x63, (byte) 0xa5, (byte) 0xf4, (byte) 0x07, (byte) 0x09,\r\n            (byte) 0x1b, (byte) 0x2d, (byte) 0x77, (byte) 0x99, (byte) 0xb0, (byte) 0xcb, (byte) 0x46,\r\n            (byte) 0xca, (byte) 0x45, (byte) 0xcf, (byte) 0x4a, (byte) 0xde, (byte) 0x79, (byte) 0x8b,\r\n            (byte) 0x86, (byte) 0x91, (byte) 0xa8, (byte) 0xe3, (byte) 0x3e, (byte) 0x42, (byte) 0xc6,\r\n            (byte) 0x51, (byte) 0xf3, (byte) 0x0e, (byte) 0x12, (byte) 0x36, (byte) 0x5a, (byte) 0xee,\r\n            (byte) 0x29, (byte) 0x7b, (byte) 0x8d, (byte) 0x8c, (byte) 0x8f, (byte) 0x8a, (byte) 0x85,\r\n            (byte) 0x94, (byte) 0xa7, (byte) 0xf2, (byte) 0x0d, (byte) 0x17, (byte) 0x39, (byte) 0x4b,\r\n            (byte) 0xdd, (byte) 0x7c, (byte) 0x84, (byte) 0x97, (byte) 0xa2, (byte) 0xfd, (byte) 0x1c,\r\n            (byte) 0x24, (byte) 0x6c, (byte) 0xb4, (byte) 0xc7, (byte) 0x52, (byte) 0xf6,\r\n    };\r\n\r\n    private final SecureRandom secureRandom;\r\n\r\n    private GF256(SecureRandom secureRandom)\r\n    {\r\n        this.secureRandom = secureRandom;\r\n    }\r\n\r\n    /**\r\n     * As GF(256) is just GF(2^8) we can use binary operators to do mathematical operations.\r\n     * So addition is equal to XOR.\r\n     */\r\n    byte add(byte a, byte b)\r\n    {\r\n        return (byte) (a^b);\r\n    }\r\n\r\n    /**\r\n     * Subtract b from a using addition\r\n     */\r\n    byte subtract(byte a, byte b)\r\n    {\r\n        return add(a, b);\r\n    }\r\n\r\n    /**\r\n     * Multiply in finite field. Uses lookup table as it is far more performant.\r\n     * Uses Reed Solomon codes to do the multiplication.\r\n     */\r\n    byte multiply(byte a, byte b)\r\n    {\r\n        if (a == 0 || b == 0)\r\n        {\r\n            return 0;\r\n        }\r\n\r\n        return EXPONENTIAL_TABLE[\r\n                Byte.toUnsignedInt(LOGARITHMIC_TABLE[Byte.toUnsignedInt(a)])\r\n                        + Byte.toUnsignedInt(LOGARITHMIC_TABLE[Byte.toUnsignedInt(b)])\r\n                ];\r\n    }\r\n\r\n    /**\r\n     * Divide byte a with byte b.\r\n     * Uses multiplication with the inverse of b\r\n     */\r\n    byte divide(byte a, byte b)\r\n    {\r\n        return multiply(a, EXPONENTIAL_TABLE[255 - Byte.toUnsignedInt(LOGARITHMIC_TABLE[Byte.toUnsignedInt(b)])]);\r\n    }\r\n\r\n    /**\r\n     * Evaluate the polynom with the given coefficients and the value.\r\n     * Uses Horner&#39;s method\r\n     * @param coefficient of the polynom\r\n     * @param value to evaluate\r\n     * @return the result of the evaluation\r\n     */\r\n    byte evaluatePolynomial(byte[] coefficient, byte value)\r\n    {\r\n        byte result = 0;\r\n        for (int i = coefficient.length - 1; i &gt;= 0; i--)\r\n        {\r\n            result = add(multiply(result, value), coefficient[i]);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    int getDegreeOfPolynomial(byte[] polynom)\r\n    {\r\n        for (int i = polynom.length - 1; i &gt;= 1; i--)\r\n        {\r\n            if (polynom[i] != 0)\r\n            {\r\n                return i;\r\n            }\r\n        }\r\n\r\n        return 0;\r\n    }\r\n\r\n    byte[] generatePolynomialOfDegree(int degree, byte value)\r\n    {\r\n        byte[] polynomial = new byte[degree + 1];\r\n\r\n        do\r\n        {\r\n            secureRandom.nextBytes(polynomial);\r\n        }\r\n        while (getDegreeOfPolynomial(polynomial) != degree);\r\n\r\n        polynomial[0] = value;\r\n        return polynomial;\r\n    }\r\n\r\n    byte interpolatePolynomials(byte[][] pointsOnPolynomial)\r\n    {\r\n        byte x = 0;\r\n        byte y = 0;\r\n\r\n        for (int i = 0; i &lt; pointsOnPolynomial.length; i++)\r\n        {\r\n            byte aX = pointsOnPolynomial[i][0];\r\n            byte aY = pointsOnPolynomial[i][1];\r\n\r\n            byte li = 1;\r\n            for (int j = 0; j &lt; pointsOnPolynomial.length; j++)\r\n            {\r\n                byte bX = pointsOnPolynomial[j][0];\r\n                if (i != j)\r\n                {\r\n                    li = multiply(li, divide(subtract(x, bX), subtract(aX, bX)));\r\n                }\r\n            }\r\n            y = add(y, multiply(li, aY));\r\n        }\r\n        return y;\r\n    }\r\n\r\n    private static final class InstanceHolder\r\n    {\r\n        private static final GF256 INSTANCE = new GF256(new SecureRandom());\r\n    }\r\n\r\n    static GF256 getInstance()\r\n    {\r\n        return InstanceHolder.INSTANCE;\r\n    }\r\n}\r\n\r\n```\r\n\r\nCalling Code:\r\n\r\n```\r\n@Test\r\n            void subKeysShouldRestoreMasterKey()\r\n            {\r\n                //given\r\n                byte[] toSplit = &quot;MasterKey&quot;.getBytes(StandardCharsets.UTF_8);\r\n                Map&lt;Integer, byte[]&gt; parts = secretSharing.split(toSplit);\r\n                Map&lt;Integer, byte[]&gt; partsTwo = secretSharing.split(toSplit);\r\n                Map&lt;Integer, byte[]&gt; subKeysToUse = Map.of(1, parts.get(1), 3, partsTwo.get(3));\r\n\r\n                //when\r\n                byte[] restoredSecret = secretSharing.join(subKeysToUse);\r\n\r\n                //then\r\n                assertThat(new String(restoredSecret, StandardCharsets.UTF_8))\r\n                        .isEqualTo(new String(toSplit, StandardCharsets.UTF_8));\r\n            }\r\n```\r\n\r\n\r\n\r\n\r\nI tried to generate additional SubKeys, and expected that I could mix them with the already existing subkeys to recreate the secret. But that didn&#39;t work.","title":"How can I generate more Subkeys from an existing MasterKey, without invalidating already issued subkeys using Shamir Secret Sharing in Java?","body":"<p>I have a Shamir Secret Sharing implementation in Java and I want to be able to generate more Subkeys, without invalidating the old subkeys.\nI am currently using an implementation with GF256, and generating Subkeys once works. But as soon as generate another Subkey Set, and I try to combine them, it doesn't recreate the MasterKey anymore.\nWhat do I have to change?</p>\n<p>ShamirSecretSharing.java:</p>\n<pre><code>import java.util.Collections;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Map.Entry;\n\npublic class ShamirSecretSharing\n{\n    private final int numberOfShares;\n    private final int keyThreshold;\n    private final GF256 gf256;\n\n    ShamirSecretSharing(int numberOfShares, int keyThreshold, GF256 gf256)\n    {\n        this.numberOfShares = numberOfShares;\n        this.keyThreshold = keyThreshold;\n        this.gf256 = gf256;\n    }\n\n    public Map&lt;Integer, byte[]&gt; split(byte[] masterKey)\n    {\n        if (StringUtil.isBlankOrMissing(masterKey))\n        {\n            throw new IllegalArgumentException(&quot;The Master-Key must not be null or empty&quot;);\n        }\n\n        byte[][] subKeyValues = new byte[numberOfShares][masterKey.length];\n        for (int i = 0; i &lt; masterKey.length; i++)\n        {\n            byte[] polynomial = gf256.generatePolynomialOfDegree(keyThreshold - 1, masterKey[i]);\n            for (int x = 1; x &lt;= numberOfShares; x++)\n            {\n                subKeyValues[x - 1][i] = gf256.evaluatePolynomial(polynomial, (byte) x);\n            }\n        }\n\n        Map&lt;Integer, byte[]&gt; subKeys = new HashMap&lt;&gt;();\n        for (int i = 0; i &lt; subKeyValues.length; i++)\n        {\n            subKeys.put(i + 1, subKeyValues[i]);\n        }\n\n        return Collections.unmodifiableMap(subKeys);\n    }\n\n    public byte[] join(Map&lt;Integer, byte[]&gt; subKeys)\n    {\n        if (subKeys == null || subKeys.isEmpty())\n        {\n            throw new IllegalArgumentException(&quot;Sub-Keys must not be null&quot;);\n        }\n\n        final byte[] masterKey = new byte[((byte[])subKeys.values().toArray()[0]).length];\n        for (int i = 0; i &lt; masterKey.length; i++)\n        {\n            byte[][] points = new byte[subKeys.size()][2];\n            int j = 0;\n            for (Entry&lt;Integer, byte[]&gt; entry : subKeys.entrySet())\n            {\n                points[j][0] = entry.getKey().byteValue();\n                points[j][1] = entry.getValue()[i];\n                j++;\n            }\n\n            masterKey[i] = gf256.interpolatePolynomials(points);\n        }\n\n        return masterKey;\n    }\n\n    public static ShamirSecretSharingBuilder builder()\n    {\n        return new ShamirSecretSharingBuilder();\n    }\n}\n\n</code></pre>\n<p>GF256.java:</p>\n<pre><code>import java.security.SecureRandom;\n\nclass GF256\n{\n    private static final byte[] LOGARITHMIC_TABLE = {\n            (byte) 0xff, (byte) 0x00, (byte) 0x19, (byte) 0x01, (byte) 0x32, (byte) 0x02, (byte) 0x1a,\n            (byte) 0xc6, (byte) 0x4b, (byte) 0xc7, (byte) 0x1b, (byte) 0x68, (byte) 0x33, (byte) 0xee,\n            (byte) 0xdf, (byte) 0x03, (byte) 0x64, (byte) 0x04, (byte) 0xe0, (byte) 0x0e, (byte) 0x34,\n            (byte) 0x8d, (byte) 0x81, (byte) 0xef, (byte) 0x4c, (byte) 0x71, (byte) 0x08, (byte) 0xc8,\n            (byte) 0xf8, (byte) 0x69, (byte) 0x1c, (byte) 0xc1, (byte) 0x7d, (byte) 0xc2, (byte) 0x1d,\n            (byte) 0xb5, (byte) 0xf9, (byte) 0xb9, (byte) 0x27, (byte) 0x6a, (byte) 0x4d, (byte) 0xe4,\n            (byte) 0xa6, (byte) 0x72, (byte) 0x9a, (byte) 0xc9, (byte) 0x09, (byte) 0x78, (byte) 0x65,\n            (byte) 0x2f, (byte) 0x8a, (byte) 0x05, (byte) 0x21, (byte) 0x0f, (byte) 0xe1, (byte) 0x24,\n            (byte) 0x12, (byte) 0xf0, (byte) 0x82, (byte) 0x45, (byte) 0x35, (byte) 0x93, (byte) 0xda,\n            (byte) 0x8e, (byte) 0x96, (byte) 0x8f, (byte) 0xdb, (byte) 0xbd, (byte) 0x36, (byte) 0xd0,\n            (byte) 0xce, (byte) 0x94, (byte) 0x13, (byte) 0x5c, (byte) 0xd2, (byte) 0xf1, (byte) 0x40,\n            (byte) 0x46, (byte) 0x83, (byte) 0x38, (byte) 0x66, (byte) 0xdd, (byte) 0xfd, (byte) 0x30,\n            (byte) 0xbf, (byte) 0x06, (byte) 0x8b, (byte) 0x62, (byte) 0xb3, (byte) 0x25, (byte) 0xe2,\n            (byte) 0x98, (byte) 0x22, (byte) 0x88, (byte) 0x91, (byte) 0x10, (byte) 0x7e, (byte) 0x6e,\n            (byte) 0x48, (byte) 0xc3, (byte) 0xa3, (byte) 0xb6, (byte) 0x1e, (byte) 0x42, (byte) 0x3a,\n            (byte) 0x6b, (byte) 0x28, (byte) 0x54, (byte) 0xfa, (byte) 0x85, (byte) 0x3d, (byte) 0xba,\n            (byte) 0x2b, (byte) 0x79, (byte) 0x0a, (byte) 0x15, (byte) 0x9b, (byte) 0x9f, (byte) 0x5e,\n            (byte) 0xca, (byte) 0x4e, (byte) 0xd4, (byte) 0xac, (byte) 0xe5, (byte) 0xf3, (byte) 0x73,\n            (byte) 0xa7, (byte) 0x57, (byte) 0xaf, (byte) 0x58, (byte) 0xa8, (byte) 0x50, (byte) 0xf4,\n            (byte) 0xea, (byte) 0xd6, (byte) 0x74, (byte) 0x4f, (byte) 0xae, (byte) 0xe9, (byte) 0xd5,\n            (byte) 0xe7, (byte) 0xe6, (byte) 0xad, (byte) 0xe8, (byte) 0x2c, (byte) 0xd7, (byte) 0x75,\n            (byte) 0x7a, (byte) 0xeb, (byte) 0x16, (byte) 0x0b, (byte) 0xf5, (byte) 0x59, (byte) 0xcb,\n            (byte) 0x5f, (byte) 0xb0, (byte) 0x9c, (byte) 0xa9, (byte) 0x51, (byte) 0xa0, (byte) 0x7f,\n            (byte) 0x0c, (byte) 0xf6, (byte) 0x6f, (byte) 0x17, (byte) 0xc4, (byte) 0x49, (byte) 0xec,\n            (byte) 0xd8, (byte) 0x43, (byte) 0x1f, (byte) 0x2d, (byte) 0xa4, (byte) 0x76, (byte) 0x7b,\n            (byte) 0xb7, (byte) 0xcc, (byte) 0xbb, (byte) 0x3e, (byte) 0x5a, (byte) 0xfb, (byte) 0x60,\n            (byte) 0xb1, (byte) 0x86, (byte) 0x3b, (byte) 0x52, (byte) 0xa1, (byte) 0x6c, (byte) 0xaa,\n            (byte) 0x55, (byte) 0x29, (byte) 0x9d, (byte) 0x97, (byte) 0xb2, (byte) 0x87, (byte) 0x90,\n            (byte) 0x61, (byte) 0xbe, (byte) 0xdc, (byte) 0xfc, (byte) 0xbc, (byte) 0x95, (byte) 0xcf,\n            (byte) 0xcd, (byte) 0x37, (byte) 0x3f, (byte) 0x5b, (byte) 0xd1, (byte) 0x53, (byte) 0x39,\n            (byte) 0x84, (byte) 0x3c, (byte) 0x41, (byte) 0xa2, (byte) 0x6d, (byte) 0x47, (byte) 0x14,\n            (byte) 0x2a, (byte) 0x9e, (byte) 0x5d, (byte) 0x56, (byte) 0xf2, (byte) 0xd3, (byte) 0xab,\n            (byte) 0x44, (byte) 0x11, (byte) 0x92, (byte) 0xd9, (byte) 0x23, (byte) 0x20, (byte) 0x2e,\n            (byte) 0x89, (byte) 0xb4, (byte) 0x7c, (byte) 0xb8, (byte) 0x26, (byte) 0x77, (byte) 0x99,\n            (byte) 0xe3, (byte) 0xa5, (byte) 0x67, (byte) 0x4a, (byte) 0xed, (byte) 0xde, (byte) 0xc5,\n            (byte) 0x31, (byte) 0xfe, (byte) 0x18, (byte) 0x0d, (byte) 0x63, (byte) 0x8c, (byte) 0x80,\n            (byte) 0xc0, (byte) 0xf7, (byte) 0x70, (byte) 0x07,\n    };\n\n    private static final byte[] EXPONENTIAL_TABLE = {\n            (byte) 0x01, (byte) 0x03, (byte) 0x05, (byte) 0x0f, (byte) 0x11, (byte) 0x33, (byte) 0x55,\n            (byte) 0xff, (byte) 0x1a, (byte) 0x2e, (byte) 0x72, (byte) 0x96, (byte) 0xa1, (byte) 0xf8,\n            (byte) 0x13, (byte) 0x35, (byte) 0x5f, (byte) 0xe1, (byte) 0x38, (byte) 0x48, (byte) 0xd8,\n            (byte) 0x73, (byte) 0x95, (byte) 0xa4, (byte) 0xf7, (byte) 0x02, (byte) 0x06, (byte) 0x0a,\n            (byte) 0x1e, (byte) 0x22, (byte) 0x66, (byte) 0xaa, (byte) 0xe5, (byte) 0x34, (byte) 0x5c,\n            (byte) 0xe4, (byte) 0x37, (byte) 0x59, (byte) 0xeb, (byte) 0x26, (byte) 0x6a, (byte) 0xbe,\n            (byte) 0xd9, (byte) 0x70, (byte) 0x90, (byte) 0xab, (byte) 0xe6, (byte) 0x31, (byte) 0x53,\n            (byte) 0xf5, (byte) 0x04, (byte) 0x0c, (byte) 0x14, (byte) 0x3c, (byte) 0x44, (byte) 0xcc,\n            (byte) 0x4f, (byte) 0xd1, (byte) 0x68, (byte) 0xb8, (byte) 0xd3, (byte) 0x6e, (byte) 0xb2,\n            (byte) 0xcd, (byte) 0x4c, (byte) 0xd4, (byte) 0x67, (byte) 0xa9, (byte) 0xe0, (byte) 0x3b,\n            (byte) 0x4d, (byte) 0xd7, (byte) 0x62, (byte) 0xa6, (byte) 0xf1, (byte) 0x08, (byte) 0x18,\n            (byte) 0x28, (byte) 0x78, (byte) 0x88, (byte) 0x83, (byte) 0x9e, (byte) 0xb9, (byte) 0xd0,\n            (byte) 0x6b, (byte) 0xbd, (byte) 0xdc, (byte) 0x7f, (byte) 0x81, (byte) 0x98, (byte) 0xb3,\n            (byte) 0xce, (byte) 0x49, (byte) 0xdb, (byte) 0x76, (byte) 0x9a, (byte) 0xb5, (byte) 0xc4,\n            (byte) 0x57, (byte) 0xf9, (byte) 0x10, (byte) 0x30, (byte) 0x50, (byte) 0xf0, (byte) 0x0b,\n            (byte) 0x1d, (byte) 0x27, (byte) 0x69, (byte) 0xbb, (byte) 0xd6, (byte) 0x61, (byte) 0xa3,\n            (byte) 0xfe, (byte) 0x19, (byte) 0x2b, (byte) 0x7d, (byte) 0x87, (byte) 0x92, (byte) 0xad,\n            (byte) 0xec, (byte) 0x2f, (byte) 0x71, (byte) 0x93, (byte) 0xae, (byte) 0xe9, (byte) 0x20,\n            (byte) 0x60, (byte) 0xa0, (byte) 0xfb, (byte) 0x16, (byte) 0x3a, (byte) 0x4e, (byte) 0xd2,\n            (byte) 0x6d, (byte) 0xb7, (byte) 0xc2, (byte) 0x5d, (byte) 0xe7, (byte) 0x32, (byte) 0x56,\n            (byte) 0xfa, (byte) 0x15, (byte) 0x3f, (byte) 0x41, (byte) 0xc3, (byte) 0x5e, (byte) 0xe2,\n            (byte) 0x3d, (byte) 0x47, (byte) 0xc9, (byte) 0x40, (byte) 0xc0, (byte) 0x5b, (byte) 0xed,\n            (byte) 0x2c, (byte) 0x74, (byte) 0x9c, (byte) 0xbf, (byte) 0xda, (byte) 0x75, (byte) 0x9f,\n            (byte) 0xba, (byte) 0xd5, (byte) 0x64, (byte) 0xac, (byte) 0xef, (byte) 0x2a, (byte) 0x7e,\n            (byte) 0x82, (byte) 0x9d, (byte) 0xbc, (byte) 0xdf, (byte) 0x7a, (byte) 0x8e, (byte) 0x89,\n            (byte) 0x80, (byte) 0x9b, (byte) 0xb6, (byte) 0xc1, (byte) 0x58, (byte) 0xe8, (byte) 0x23,\n            (byte) 0x65, (byte) 0xaf, (byte) 0xea, (byte) 0x25, (byte) 0x6f, (byte) 0xb1, (byte) 0xc8,\n            (byte) 0x43, (byte) 0xc5, (byte) 0x54, (byte) 0xfc, (byte) 0x1f, (byte) 0x21, (byte) 0x63,\n            (byte) 0xa5, (byte) 0xf4, (byte) 0x07, (byte) 0x09, (byte) 0x1b, (byte) 0x2d, (byte) 0x77,\n            (byte) 0x99, (byte) 0xb0, (byte) 0xcb, (byte) 0x46, (byte) 0xca, (byte) 0x45, (byte) 0xcf,\n            (byte) 0x4a, (byte) 0xde, (byte) 0x79, (byte) 0x8b, (byte) 0x86, (byte) 0x91, (byte) 0xa8,\n            (byte) 0xe3, (byte) 0x3e, (byte) 0x42, (byte) 0xc6, (byte) 0x51, (byte) 0xf3, (byte) 0x0e,\n            (byte) 0x12, (byte) 0x36, (byte) 0x5a, (byte) 0xee, (byte) 0x29, (byte) 0x7b, (byte) 0x8d,\n            (byte) 0x8c, (byte) 0x8f, (byte) 0x8a, (byte) 0x85, (byte) 0x94, (byte) 0xa7, (byte) 0xf2,\n            (byte) 0x0d, (byte) 0x17, (byte) 0x39, (byte) 0x4b, (byte) 0xdd, (byte) 0x7c, (byte) 0x84,\n            (byte) 0x97, (byte) 0xa2, (byte) 0xfd, (byte) 0x1c, (byte) 0x24, (byte) 0x6c, (byte) 0xb4,\n            (byte) 0xc7, (byte) 0x52, (byte) 0xf6, (byte) 0x01, (byte) 0x03, (byte) 0x05, (byte) 0x0f,\n            (byte) 0x11, (byte) 0x33, (byte) 0x55, (byte) 0xff, (byte) 0x1a, (byte) 0x2e, (byte) 0x72,\n            (byte) 0x96, (byte) 0xa1, (byte) 0xf8, (byte) 0x13, (byte) 0x35, (byte) 0x5f, (byte) 0xe1,\n            (byte) 0x38, (byte) 0x48, (byte) 0xd8, (byte) 0x73, (byte) 0x95, (byte) 0xa4, (byte) 0xf7,\n            (byte) 0x02, (byte) 0x06, (byte) 0x0a, (byte) 0x1e, (byte) 0x22, (byte) 0x66, (byte) 0xaa,\n            (byte) 0xe5, (byte) 0x34, (byte) 0x5c, (byte) 0xe4, (byte) 0x37, (byte) 0x59, (byte) 0xeb,\n            (byte) 0x26, (byte) 0x6a, (byte) 0xbe, (byte) 0xd9, (byte) 0x70, (byte) 0x90, (byte) 0xab,\n            (byte) 0xe6, (byte) 0x31, (byte) 0x53, (byte) 0xf5, (byte) 0x04, (byte) 0x0c, (byte) 0x14,\n            (byte) 0x3c, (byte) 0x44, (byte) 0xcc, (byte) 0x4f, (byte) 0xd1, (byte) 0x68, (byte) 0xb8,\n            (byte) 0xd3, (byte) 0x6e, (byte) 0xb2, (byte) 0xcd, (byte) 0x4c, (byte) 0xd4, (byte) 0x67,\n            (byte) 0xa9, (byte) 0xe0, (byte) 0x3b, (byte) 0x4d, (byte) 0xd7, (byte) 0x62, (byte) 0xa6,\n            (byte) 0xf1, (byte) 0x08, (byte) 0x18, (byte) 0x28, (byte) 0x78, (byte) 0x88, (byte) 0x83,\n            (byte) 0x9e, (byte) 0xb9, (byte) 0xd0, (byte) 0x6b, (byte) 0xbd, (byte) 0xdc, (byte) 0x7f,\n            (byte) 0x81, (byte) 0x98, (byte) 0xb3, (byte) 0xce, (byte) 0x49, (byte) 0xdb, (byte) 0x76,\n            (byte) 0x9a, (byte) 0xb5, (byte) 0xc4, (byte) 0x57, (byte) 0xf9, (byte) 0x10, (byte) 0x30,\n            (byte) 0x50, (byte) 0xf0, (byte) 0x0b, (byte) 0x1d, (byte) 0x27, (byte) 0x69, (byte) 0xbb,\n            (byte) 0xd6, (byte) 0x61, (byte) 0xa3, (byte) 0xfe, (byte) 0x19, (byte) 0x2b, (byte) 0x7d,\n            (byte) 0x87, (byte) 0x92, (byte) 0xad, (byte) 0xec, (byte) 0x2f, (byte) 0x71, (byte) 0x93,\n            (byte) 0xae, (byte) 0xe9, (byte) 0x20, (byte) 0x60, (byte) 0xa0, (byte) 0xfb, (byte) 0x16,\n            (byte) 0x3a, (byte) 0x4e, (byte) 0xd2, (byte) 0x6d, (byte) 0xb7, (byte) 0xc2, (byte) 0x5d,\n            (byte) 0xe7, (byte) 0x32, (byte) 0x56, (byte) 0xfa, (byte) 0x15, (byte) 0x3f, (byte) 0x41,\n            (byte) 0xc3, (byte) 0x5e, (byte) 0xe2, (byte) 0x3d, (byte) 0x47, (byte) 0xc9, (byte) 0x40,\n            (byte) 0xc0, (byte) 0x5b, (byte) 0xed, (byte) 0x2c, (byte) 0x74, (byte) 0x9c, (byte) 0xbf,\n            (byte) 0xda, (byte) 0x75, (byte) 0x9f, (byte) 0xba, (byte) 0xd5, (byte) 0x64, (byte) 0xac,\n            (byte) 0xef, (byte) 0x2a, (byte) 0x7e, (byte) 0x82, (byte) 0x9d, (byte) 0xbc, (byte) 0xdf,\n            (byte) 0x7a, (byte) 0x8e, (byte) 0x89, (byte) 0x80, (byte) 0x9b, (byte) 0xb6, (byte) 0xc1,\n            (byte) 0x58, (byte) 0xe8, (byte) 0x23, (byte) 0x65, (byte) 0xaf, (byte) 0xea, (byte) 0x25,\n            (byte) 0x6f, (byte) 0xb1, (byte) 0xc8, (byte) 0x43, (byte) 0xc5, (byte) 0x54, (byte) 0xfc,\n            (byte) 0x1f, (byte) 0x21, (byte) 0x63, (byte) 0xa5, (byte) 0xf4, (byte) 0x07, (byte) 0x09,\n            (byte) 0x1b, (byte) 0x2d, (byte) 0x77, (byte) 0x99, (byte) 0xb0, (byte) 0xcb, (byte) 0x46,\n            (byte) 0xca, (byte) 0x45, (byte) 0xcf, (byte) 0x4a, (byte) 0xde, (byte) 0x79, (byte) 0x8b,\n            (byte) 0x86, (byte) 0x91, (byte) 0xa8, (byte) 0xe3, (byte) 0x3e, (byte) 0x42, (byte) 0xc6,\n            (byte) 0x51, (byte) 0xf3, (byte) 0x0e, (byte) 0x12, (byte) 0x36, (byte) 0x5a, (byte) 0xee,\n            (byte) 0x29, (byte) 0x7b, (byte) 0x8d, (byte) 0x8c, (byte) 0x8f, (byte) 0x8a, (byte) 0x85,\n            (byte) 0x94, (byte) 0xa7, (byte) 0xf2, (byte) 0x0d, (byte) 0x17, (byte) 0x39, (byte) 0x4b,\n            (byte) 0xdd, (byte) 0x7c, (byte) 0x84, (byte) 0x97, (byte) 0xa2, (byte) 0xfd, (byte) 0x1c,\n            (byte) 0x24, (byte) 0x6c, (byte) 0xb4, (byte) 0xc7, (byte) 0x52, (byte) 0xf6,\n    };\n\n    private final SecureRandom secureRandom;\n\n    private GF256(SecureRandom secureRandom)\n    {\n        this.secureRandom = secureRandom;\n    }\n\n    /**\n     * As GF(256) is just GF(2^8) we can use binary operators to do mathematical operations.\n     * So addition is equal to XOR.\n     */\n    byte add(byte a, byte b)\n    {\n        return (byte) (a^b);\n    }\n\n    /**\n     * Subtract b from a using addition\n     */\n    byte subtract(byte a, byte b)\n    {\n        return add(a, b);\n    }\n\n    /**\n     * Multiply in finite field. Uses lookup table as it is far more performant.\n     * Uses Reed Solomon codes to do the multiplication.\n     */\n    byte multiply(byte a, byte b)\n    {\n        if (a == 0 || b == 0)\n        {\n            return 0;\n        }\n\n        return EXPONENTIAL_TABLE[\n                Byte.toUnsignedInt(LOGARITHMIC_TABLE[Byte.toUnsignedInt(a)])\n                        + Byte.toUnsignedInt(LOGARITHMIC_TABLE[Byte.toUnsignedInt(b)])\n                ];\n    }\n\n    /**\n     * Divide byte a with byte b.\n     * Uses multiplication with the inverse of b\n     */\n    byte divide(byte a, byte b)\n    {\n        return multiply(a, EXPONENTIAL_TABLE[255 - Byte.toUnsignedInt(LOGARITHMIC_TABLE[Byte.toUnsignedInt(b)])]);\n    }\n\n    /**\n     * Evaluate the polynom with the given coefficients and the value.\n     * Uses Horner's method\n     * @param coefficient of the polynom\n     * @param value to evaluate\n     * @return the result of the evaluation\n     */\n    byte evaluatePolynomial(byte[] coefficient, byte value)\n    {\n        byte result = 0;\n        for (int i = coefficient.length - 1; i &gt;= 0; i--)\n        {\n            result = add(multiply(result, value), coefficient[i]);\n        }\n\n        return result;\n    }\n\n    int getDegreeOfPolynomial(byte[] polynom)\n    {\n        for (int i = polynom.length - 1; i &gt;= 1; i--)\n        {\n            if (polynom[i] != 0)\n            {\n                return i;\n            }\n        }\n\n        return 0;\n    }\n\n    byte[] generatePolynomialOfDegree(int degree, byte value)\n    {\n        byte[] polynomial = new byte[degree + 1];\n\n        do\n        {\n            secureRandom.nextBytes(polynomial);\n        }\n        while (getDegreeOfPolynomial(polynomial) != degree);\n\n        polynomial[0] = value;\n        return polynomial;\n    }\n\n    byte interpolatePolynomials(byte[][] pointsOnPolynomial)\n    {\n        byte x = 0;\n        byte y = 0;\n\n        for (int i = 0; i &lt; pointsOnPolynomial.length; i++)\n        {\n            byte aX = pointsOnPolynomial[i][0];\n            byte aY = pointsOnPolynomial[i][1];\n\n            byte li = 1;\n            for (int j = 0; j &lt; pointsOnPolynomial.length; j++)\n            {\n                byte bX = pointsOnPolynomial[j][0];\n                if (i != j)\n                {\n                    li = multiply(li, divide(subtract(x, bX), subtract(aX, bX)));\n                }\n            }\n            y = add(y, multiply(li, aY));\n        }\n        return y;\n    }\n\n    private static final class InstanceHolder\n    {\n        private static final GF256 INSTANCE = new GF256(new SecureRandom());\n    }\n\n    static GF256 getInstance()\n    {\n        return InstanceHolder.INSTANCE;\n    }\n}\n\n</code></pre>\n<p>Calling Code:</p>\n<pre><code>@Test\n            void subKeysShouldRestoreMasterKey()\n            {\n                //given\n                byte[] toSplit = &quot;MasterKey&quot;.getBytes(StandardCharsets.UTF_8);\n                Map&lt;Integer, byte[]&gt; parts = secretSharing.split(toSplit);\n                Map&lt;Integer, byte[]&gt; partsTwo = secretSharing.split(toSplit);\n                Map&lt;Integer, byte[]&gt; subKeysToUse = Map.of(1, parts.get(1), 3, partsTwo.get(3));\n\n                //when\n                byte[] restoredSecret = secretSharing.join(subKeysToUse);\n\n                //then\n                assertThat(new String(restoredSecret, StandardCharsets.UTF_8))\n                        .isEqualTo(new String(toSplit, StandardCharsets.UTF_8));\n            }\n</code></pre>\n<p>I tried to generate additional SubKeys, and expected that I could mix them with the already existing subkeys to recreate the secret. But that didn't work.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"score":3,"creation_date":1297825980,"post_id":5012125,"comment_id":5603199,"body_markdown":"did you try javac &lt;case-sensitive-filename&gt;.java ?","body":"did you try javac &lt;case-sensitive-filename&gt;.java ?"},{"owner":{"account_id":39812,"reputation":9161,"user_id":115018,"accept_rate":100,"display_name":"Nate W."},"score":1,"creation_date":1297826667,"post_id":5012125,"comment_id":5603276,"body_markdown":"Please show us what commands you&#39;re trying.","body":"Please show us what commands you&#39;re trying."},{"owner":{"account_id":297321,"reputation":1093,"user_id":602774,"accept_rate":66,"display_name":"user602774"},"score":0,"creation_date":1297826711,"post_id":5012125,"comment_id":5603284,"body_markdown":"i used tab so that the terminal would fill the rest of the filename.","body":"i used tab so that the terminal would fill the rest of the filename."},{"owner":{"account_id":39812,"reputation":9161,"user_id":115018,"accept_rate":100,"display_name":"Nate W."},"score":4,"creation_date":1297827267,"post_id":5012125,"comment_id":5603344,"body_markdown":"Once again, please show us what you&#39;re trying.","body":"Once again, please show us what you&#39;re trying."},{"owner":{"account_id":297321,"reputation":1093,"user_id":602774,"accept_rate":66,"display_name":"user602774"},"score":0,"creation_date":1297827827,"post_id":5012125,"comment_id":5603396,"body_markdown":"javac -cp .;lib.jar a.java works on windows. But it doesnot work on ubuntu  when i change it to javac -cp lib.jar a.java it works on ubuntu. Is the classpath seperator platform dependent ?","body":"javac -cp .;lib.jar a.java works on windows. But it doesnot work on ubuntu  when i change it to javac -cp lib.jar a.java it works on ubuntu. Is the classpath seperator platform dependent ?"},{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":0,"creation_date":1297829674,"post_id":5012125,"comment_id":5603602,"body_markdown":"@user: Yes, it is platform dependent.","body":"@user: Yes, it is platform dependent."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1297839322,"post_id":5012125,"comment_id":5604744,"body_markdown":"@userNNNNN Try calling System.getProperty(&quot;path.separator&quot;).  Alternatively visit this URL (http://pscode.org/prop/?prop=path.separator) from browsers on both systems.  And as an aside, please exchange your &#39;prison number&#39; for a nic or name.","body":"@userNNNNN Try calling System.getProperty(&quot;path.separator&quot;).  Alternatively visit this URL (<a href=\"http://pscode.org/prop/?prop=path.separator\" rel=\"nofollow noreferrer\">pscode.org/prop/?prop=path.separator</a>) from browsers on both systems.  And as an aside, please exchange your &#39;prison number&#39; for a nic or name."}],"answers":[{"tags":[],"owner":{"account_id":93007,"reputation":51990,"user_id":254643,"display_name":"Raghuram"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1493652050,"creation_date":1297829132,"answer_id":5012431,"question_id":5012125,"body_markdown":"From your comment above, it looks like you tried:\r\n\r\n`javac -cp .;lib.jar a.java` on your Ubuntu system.  The `CLASSPATH` separator is `:` on Unix systems and `;` on Windows.\r\n\r\nUbuntu considered the command up to the `;`, `java -cp .` and thus gave the message.\r\n\r\n`javac -cp .:lib.jar a.java` should compile fine.\r\n\r\n","title":"javac no source files found","body":"<p>From your comment above, it looks like you tried:</p>\n\n<p><code>javac -cp .;lib.jar a.java</code> on your Ubuntu system.  The <code>CLASSPATH</code> separator is <code>:</code> on Unix systems and <code>;</code> on Windows.</p>\n\n<p>Ubuntu considered the command up to the <code>;</code>, <code>java -cp .</code> and thus gave the message.</p>\n\n<p><code>javac -cp .:lib.jar a.java</code> should compile fine.</p>\n"},{"comments":[{"owner":{"account_id":8194501,"reputation":2601,"user_id":8483739,"display_name":"rgkobashi"},"score":0,"creation_date":1538489548,"post_id":26713071,"comment_id":92154645,"body_markdown":"this worked for me, adding the full path on mac. previously it was working with relative path... anyways, thank you!","body":"this worked for me, adding the full path on mac. previously it was working with relative path... anyways, thank you!"}],"tags":[],"owner":{"account_id":4608741,"reputation":104,"user_id":3737478,"display_name":"smithapambalath"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415013365,"creation_date":1415013365,"answer_id":26713071,"question_id":5012125,"body_markdown":"I tried a similar thing and found that you need to mention the absolute path when you are using the \r\n-cp and -d option with javac like this\r\n\r\njavac -cp &#39;ur location of jars &amp; files&#39;; -d &#39;location to add your classes to&#39;   &#39;absolute path of file&#39;\r\n\r\neg:\r\n\r\n\r\njavac -cp C:\\home\\lib\\mywork; -d c:\\home\\classes  c:\\home\\files\\*.java\r\n","title":"javac no source files found","body":"<p>I tried a similar thing and found that you need to mention the absolute path when you are using the \n-cp and -d option with javac like this</p>\n\n<p>javac -cp 'ur location of jars &amp; files'; -d 'location to add your classes to'   'absolute path of file'</p>\n\n<p>eg:</p>\n\n<p>javac -cp C:\\home\\lib\\mywork; -d c:\\home\\classes  c:\\home\\files*.java</p>\n"},{"comments":[{"owner":{"account_id":10725041,"reputation":85,"user_id":7892830,"display_name":"singh.rbir"},"score":0,"creation_date":1615183600,"post_id":65438560,"comment_id":117602761,"body_markdown":"You got it the other way around.","body":"You got it the other way around."}],"tags":[],"owner":{"account_id":11344629,"reputation":61,"user_id":8317472,"display_name":"Amit k Raturi"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608814222,"creation_date":1608814222,"answer_id":65438560,"question_id":5012125,"body_markdown":"For anyone who is using powersehll on windows use CLASSPATH separator `:`  instead of `;`","title":"javac no source files found","body":"<p>For anyone who is using powersehll on windows use CLASSPATH separator <code>:</code>  instead of <code>;</code></p>\n"},{"tags":[],"owner":{"account_id":19660521,"reputation":31,"user_id":14392057,"display_name":"Bheem"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653657199,"creation_date":1653657166,"answer_id":72406014,"question_id":5012125,"body_markdown":"for javac, there are options and arguments\r\narg: it takes argument as path of source file\r\noptions: we require for basic compilation\r\n\r\n-sourcepath: the path of dependent source files\r\n-d: directory path of output classes\r\n\r\n\r\n```bash\r\n\r\njavac -sourcepath &#39;./src&#39; -d &#39;./bin&#39; -verbose &#39;./src/App.java&#39;\r\n\r\n```","title":"javac no source files found","body":"<p>for javac, there are options and arguments\narg: it takes argument as path of source file\noptions: we require for basic compilation</p>\n<p>-sourcepath: the path of dependent source files\n-d: directory path of output classes</p>\n<pre class=\"lang-bash prettyprint-override\"><code>\njavac -sourcepath './src' -d './bin' -verbose './src/App.java'\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23075517,"reputation":81,"user_id":19427050,"display_name":"Ibtida Bin Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695890166,"creation_date":1695890166,"answer_id":77193394,"question_id":5012125,"body_markdown":"Open CMD in your directory that has source code, then type the following command:\r\n\r\n```\r\njavac -d . SourceFileName.java\r\n```\r\nthen Enter and after that ....\r\n\r\nrun the class file using..\r\n```\r\njava packageName.SourceFileName\r\n```\r\nHope this helps, most probably you missed the . after ```-d``` ","title":"javac no source files found","body":"<p>Open CMD in your directory that has source code, then type the following command:</p>\n<pre><code>javac -d . SourceFileName.java\n</code></pre>\n<p>then Enter and after that ....</p>\n<p>run the class file using..</p>\n<pre><code>java packageName.SourceFileName\n</code></pre>\n<p>Hope this helps, most probably you missed the . after <code>-d</code></p>\n"}],"owner":{"account_id":297321,"reputation":1093,"user_id":602774,"accept_rate":66,"display_name":"user602774"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50116,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":5012431,"answer_count":5,"score":15,"last_activity_date":1695890166,"creation_date":1297825816,"question_id":5012125,"body_markdown":"I have the `.java` file on the current working directory but javac reports:\r\n\r\n    javac: no source files\r\n    Usage: javac &lt;options&gt; &lt;source files&gt;\r\n    use -help for a list of possible options\r\n    \r\n\r\nI&#39;m working on ubuntu.\r\n\r\n","title":"javac no source files found","body":"<p>I have the <code>.java</code> file on the current working directory but javac reports:</p>\n\n<pre><code>javac: no source files\nUsage: javac &lt;options&gt; &lt;source files&gt;\nuse -help for a list of possible options\n</code></pre>\n\n<p>I'm working on ubuntu.</p>\n"},{"tags":["java","spring","spring-boot","kotlin","spring-security"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1695204725,"post_id":77141368,"comment_id":135991960,"body_markdown":"is it present in the right scope? is there a mismatch in versions?","body":"is it present in the right scope? is there a mismatch in versions?"},{"owner":{"account_id":7829535,"reputation":479,"user_id":5920099,"display_name":"Javaddict"},"score":0,"creation_date":1695204997,"post_id":77141368,"comment_id":135992014,"body_markdown":"@Stultuske how can I know?","body":"@Stultuske how can I know?"}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695890145,"creation_date":1695422319,"answer_id":77160986,"question_id":77141368,"body_markdown":"The [OP Javaddict](https://stackoverflow.com/users/5920099/javaddict) do [mention](https://stackoverflow.com/a/77193145/6309):\r\n\r\n&gt; For unknown reasons Gradle didn&#39;t refresh, that was the reason. I did a manual refresh and it is working..\r\n\r\nIf a manual refresh of the Gradle project resolved the issue, it is likely that the build system had not properly updated its internal state or downloaded the necessary dependencies. Gradle caches dependencies and build artifacts, and under certain circumstances, this can lead to inconsistencies between the project&#39;s configuration and the actual state of the build.\r\n\r\nIn cases like this, performing a manual refresh forces Gradle to reevaluate the project, update its caches, and potentially re-download dependencies, making sure the build is consistent with the project&#39;s current configuration.\r\n\r\nFor future reference, here are some steps to manually ensure that Gradle is fully updated:\r\n\r\n```bash\r\n./gradlew clean\r\n./gradlew --refresh-dependencies\r\n./gradlew build\r\n```\r\n\r\nIf you are using an IDE like IntelliJ IDEA, you can also refresh the Gradle project from within the IDE. Typically this is done by clicking the &quot;Refresh&quot; button in the Gradle tool window.  \r\nSometimes IDEs can hold onto outdated information. Restarting the IDE can also help in resolving such issues.\r\n\r\n---\r\n\r\nOriginal answer:\r\n\r\n&gt; how can I know?\r\n\r\nTo determine whether a class is present in the right scope and to identify any potential version mismatch, you can:\r\n\r\n### Verify Dependency Scope\r\n\r\n- Check the Build Configuration: Review the [`build.gradle.kts`](https://developer.android.com/build/migrate-to-kotlin-dsl) file to ensure that the dependency is listed under the correct scope (`implementation`, `runtimeOnly`, etc.). If the dependency is declared in a scope like `compileOnly`, it would not be available at runtime.  \r\nSee also &quot;[Declaring dependencies](https://docs.gradle.org/current/userguide/declaring_dependencies.html)&quot;\r\n\r\n- Inspect the Artifact: Examine the generated JAR or WAR file of your application to ensure that the dependency is indeed packaged correctly. You can usually find these files in the `build/libs` directory of your project.\r\n\r\n- Run the Application: make sure the JVM&#39;s classpath is configured to include the required dependencies. How to do this would depend on how you are running the application (IDE, command line, application server, etc.).\r\n\r\n\r\n### Identify Version Mismatch\r\n\r\n- List Dependencies: Run the command `./gradlew dependencies` in your project directory. That will provide a tree of all dependencies, allowing you to spot any multiple versions or conflicts. Look specifically for different versions of the Bouncy Castle library.\r\n\r\n    ```bash\r\n    ./gradlew dependencies\r\n    ```\r\n   \r\n- Forced Resolution: If a conflict is detected, you can use [Gradle&#39;s `resolutionStrategy`](https://stackoverflow.com/a/77044767/6309) to force a particular version.\r\n\r\n    ```kotlin\r\n    configurations.all {\r\n        resolutionStrategy {\r\n            force(&quot;org.bouncycastle:bcprov-jdk18on:1.76&quot;)\r\n        }\r\n    }\r\n    ```\r\n\r\n- *Dependency Insight: For a deeper analysis of a specific dependency, you can use [Gradle&#39;s `dependencyInsight` task](https://docs.gradle.org/current/userguide/viewing_debugging_dependencies.html#dependency_insights):\r\n\r\n    ```bash\r\n    ./gradlew dependencyInsight --dependency bcprov-jdk18on\r\n    ```\r\n   \r\n4. **Check Runtime**: Sometimes dependencies may behave differently at runtime due to various class-loading mechanisms. Consider adding debug or log statements in your code to print the versions of the library classes being used. That can be done using the class&#39;s `Package` object.\r\n\r\n    ```kotlin\r\n    println(Argon2Parameters::class.java.`package`.implementationVersion)\r\n    ```\r\n","title":"Why java.lang.ClassNotFoundException: org.bouncycastle.crypto.params.Argon2Parameters$Builder when using Argon2PasswordEncoder","body":"<p>The <a href=\"https://stackoverflow.com/users/5920099/javaddict\">OP Javaddict</a> do <a href=\"https://stackoverflow.com/a/77193145/6309\">mention</a>:</p>\n<blockquote>\n<p>For unknown reasons Gradle didn't refresh, that was the reason. I did a manual refresh and it is working..</p>\n</blockquote>\n<p>If a manual refresh of the Gradle project resolved the issue, it is likely that the build system had not properly updated its internal state or downloaded the necessary dependencies. Gradle caches dependencies and build artifacts, and under certain circumstances, this can lead to inconsistencies between the project's configuration and the actual state of the build.</p>\n<p>In cases like this, performing a manual refresh forces Gradle to reevaluate the project, update its caches, and potentially re-download dependencies, making sure the build is consistent with the project's current configuration.</p>\n<p>For future reference, here are some steps to manually ensure that Gradle is fully updated:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./gradlew clean\n./gradlew --refresh-dependencies\n./gradlew build\n</code></pre>\n<p>If you are using an IDE like IntelliJ IDEA, you can also refresh the Gradle project from within the IDE. Typically this is done by clicking the &quot;Refresh&quot; button in the Gradle tool window.<br />\nSometimes IDEs can hold onto outdated information. Restarting the IDE can also help in resolving such issues.</p>\n<hr />\n<p>Original answer:</p>\n<blockquote>\n<p>how can I know?</p>\n</blockquote>\n<p>To determine whether a class is present in the right scope and to identify any potential version mismatch, you can:</p>\n<h3>Verify Dependency Scope</h3>\n<ul>\n<li><p>Check the Build Configuration: Review the <a href=\"https://developer.android.com/build/migrate-to-kotlin-dsl\" rel=\"nofollow noreferrer\"><code>build.gradle.kts</code></a> file to ensure that the dependency is listed under the correct scope (<code>implementation</code>, <code>runtimeOnly</code>, etc.). If the dependency is declared in a scope like <code>compileOnly</code>, it would not be available at runtime.<br />\nSee also &quot;<a href=\"https://docs.gradle.org/current/userguide/declaring_dependencies.html\" rel=\"nofollow noreferrer\">Declaring dependencies</a>&quot;</p>\n</li>\n<li><p>Inspect the Artifact: Examine the generated JAR or WAR file of your application to ensure that the dependency is indeed packaged correctly. You can usually find these files in the <code>build/libs</code> directory of your project.</p>\n</li>\n<li><p>Run the Application: make sure the JVM's classpath is configured to include the required dependencies. How to do this would depend on how you are running the application (IDE, command line, application server, etc.).</p>\n</li>\n</ul>\n<h3>Identify Version Mismatch</h3>\n<ul>\n<li><p>List Dependencies: Run the command <code>./gradlew dependencies</code> in your project directory. That will provide a tree of all dependencies, allowing you to spot any multiple versions or conflicts. Look specifically for different versions of the Bouncy Castle library.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./gradlew dependencies\n</code></pre>\n</li>\n<li><p>Forced Resolution: If a conflict is detected, you can use <a href=\"https://stackoverflow.com/a/77044767/6309\">Gradle's <code>resolutionStrategy</code></a> to force a particular version.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>configurations.all {\n    resolutionStrategy {\n        force(&quot;org.bouncycastle:bcprov-jdk18on:1.76&quot;)\n    }\n}\n</code></pre>\n</li>\n<li><p>*Dependency Insight: For a deeper analysis of a specific dependency, you can use <a href=\"https://docs.gradle.org/current/userguide/viewing_debugging_dependencies.html#dependency_insights\" rel=\"nofollow noreferrer\">Gradle's <code>dependencyInsight</code> task</a>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./gradlew dependencyInsight --dependency bcprov-jdk18on\n</code></pre>\n</li>\n</ul>\n<ol start=\"4\">\n<li><p><strong>Check Runtime</strong>: Sometimes dependencies may behave differently at runtime due to various class-loading mechanisms. Consider adding debug or log statements in your code to print the versions of the library classes being used. That can be done using the class's <code>Package</code> object.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>println(Argon2Parameters::class.java.`package`.implementationVersion)\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4470098,"reputation":284,"user_id":3636639,"display_name":"silh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695846122,"creation_date":1695846122,"answer_id":77190648,"question_id":77141368,"body_markdown":"You are using `bcprov-jdk18on:1.76`, but `spring-security-crypto:6.1.4&quot;` depends on `bcprov-jdk15on:1.70` - see https://github.com/spring-projects/spring-security/blob/6.1.x/dependencies/spring-security-dependencies.gradle#L52 - which results in incorrect lib at runtime.\r\n\r\nIf you don&#39;t strictly need the version you&#39;ve specified, I would suggest using one provided by spring.\r\n\r\nIf you do need, you can try applying resolution strategy as suggested in https://stackoverflow.com/a/77160986/3636639","title":"Why java.lang.ClassNotFoundException: org.bouncycastle.crypto.params.Argon2Parameters$Builder when using Argon2PasswordEncoder","body":"<p>You are using <code>bcprov-jdk18on:1.76</code>, but <code>spring-security-crypto:6.1.4&quot;</code> depends on <code>bcprov-jdk15on:1.70</code> - see <a href=\"https://github.com/spring-projects/spring-security/blob/6.1.x/dependencies/spring-security-dependencies.gradle#L52\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security/blob/6.1.x/dependencies/spring-security-dependencies.gradle#L52</a> - which results in incorrect lib at runtime.</p>\n<p>If you don't strictly need the version you've specified, I would suggest using one provided by spring.</p>\n<p>If you do need, you can try applying resolution strategy as suggested in <a href=\"https://stackoverflow.com/a/77160986/3636639\">https://stackoverflow.com/a/77160986/3636639</a></p>\n"},{"comments":[{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1695890181,"post_id":77193145,"comment_id":136085056,"body_markdown":"Good catch. Upvoted. I have included additional suggestions in [my answer](https://stackoverflow.com/a/77160986/6309).","body":"Good catch. Upvoted. I have included additional suggestions in <a href=\"https://stackoverflow.com/a/77160986/6309\">my answer</a>."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1695911305,"post_id":77193145,"comment_id":136089437,"body_markdown":"You can offer yourself a bounty LOL.","body":"You can offer yourself a bounty LOL."}],"tags":[],"owner":{"account_id":7829535,"reputation":479,"user_id":5920099,"display_name":"Javaddict"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695887793,"creation_date":1695887793,"answer_id":77193145,"question_id":77141368,"body_markdown":"For unknown reasons Gradle didn&#39;t refresh, that was the reason.\r\nI did a manual refresh and it is working...","title":"Why java.lang.ClassNotFoundException: org.bouncycastle.crypto.params.Argon2Parameters$Builder when using Argon2PasswordEncoder","body":"<p>For unknown reasons Gradle didn't refresh, that was the reason.\nI did a manual refresh and it is working...</p>\n"}],"owner":{"account_id":7829535,"reputation":479,"user_id":5920099,"display_name":"Javaddict"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1695890145,"creation_date":1695204383,"question_id":77141368,"body_markdown":"I have this exception when calling the following code:\r\n\r\n```\r\nval encoder=Argon2PasswordEncoder.defaultsForSpringSecurity_v5_8()\r\nval ok=encoder.matches(&quot;password&quot;,&quot;$argon2id$v=19$m=65536,t=4,p=1$fhPPCUS3Yo9snJkF.....&quot;)\r\n```\r\n\r\nHere is my build.gradle.kts:\r\n```\r\nimport org.jetbrains.kotlin.gradle.tasks.KotlinCompile\r\n\r\nplugins {\r\n    //val kotlinVersion=&quot;1.7.22&quot;\r\n    val kotlinVersion=&quot;1.8.10&quot;\r\n    id(&quot;org.springframework.boot&quot;) version &quot;3.1.3&quot;\r\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.3&quot;\r\n    kotlin(&quot;jvm&quot;) version kotlinVersion\r\n    kotlin(&quot;plugin.spring&quot;) version kotlinVersion\r\n    kotlin(&quot;plugin.jpa&quot;) version kotlinVersion\r\n    kotlin(&quot;kapt&quot;) version kotlinVersion\r\n}\r\n\r\n\r\ngroup = &quot;deegixl.framework&quot;\r\nversion = &quot;0.0.1-SNAPSHOT&quot;\r\njava.sourceCompatibility = JavaVersion.VERSION_17\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom(configurations.annotationProcessor.get())\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jdbc&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-jdbc&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-thymeleaf&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-security&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-validation&quot;)\r\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\r\n\r\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\r\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\r\n    implementation(&quot;org.springframework.session:spring-session-jdbc&quot;)\r\n\r\n    implementation(&quot;commons-validator:commons-validator:1.7&quot;)\r\n\r\n    //implementation(&quot;jakarta.validation:jakarta.validation-api&quot;)\r\n    //implementation(&quot;org.hibernate.validator:hibernate-validator&quot;)\r\n    implementation(&quot;com.querydsl:querydsl-jpa:5.0.0:jakarta&quot;)\r\n\r\n    val openHtmlToPdfVersion=&quot;1.0.10&quot;\r\n    implementation(&quot;com.openhtmltopdf:openhtmltopdf-core:$openHtmlToPdfVersion&quot;)\r\n    implementation(&quot;com.openhtmltopdf:openhtmltopdf-pdfbox:$openHtmlToPdfVersion&quot;)\r\n\r\n    developmentOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\r\n\r\n    runtimeOnly(&quot;com.mysql:mysql-connector-j&quot;)\r\n    //implementation(&quot;mysql:mysql-connector-java:8.0.32&quot;)\r\n\r\n    kapt(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;)\r\n    kapt(&quot;com.querydsl:querydsl-apt:5.0.0:jakarta&quot;)\r\n\r\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n    testImplementation(&quot;org.springframework.security:spring-security-test&quot;)\r\n    annotationProcessor(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;)\r\n\r\n    implementation(&quot;org.springframework.security:spring-security-crypto:6.1.4&quot;)\r\n\r\n    implementation(&quot;org.bouncycastle:bcprov-jdk18on:1.76&quot;)\r\n}\r\n\r\ntasks.withType&lt;KotlinCompile&gt; {\r\n    kotlinOptions {\r\n        freeCompilerArgs = listOf(&quot;-Xjsr305=strict&quot;,&quot;-Xcontext-receivers&quot;)\r\n        jvmTarget = &quot;17&quot;\r\n    }\r\n}\r\n\r\ntasks.withType&lt;Test&gt; {\r\n    useJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\nThe bouncycastle lib (&quot;org.bouncycastle:bcprov-jdk18on:1.76&quot;) is included in the build.gradle.kts. I checked into the corresponding jar and the class  org.bouncycastle.crypto.params.Argon2Parameters$Builder.class is present so I don&#39;t understand why I have this problem.","title":"Why java.lang.ClassNotFoundException: org.bouncycastle.crypto.params.Argon2Parameters$Builder when using Argon2PasswordEncoder","body":"<p>I have this exception when calling the following code:</p>\n<pre><code>val encoder=Argon2PasswordEncoder.defaultsForSpringSecurity_v5_8()\nval ok=encoder.matches(&quot;password&quot;,&quot;$argon2id$v=19$m=65536,t=4,p=1$fhPPCUS3Yo9snJkF.....&quot;)\n</code></pre>\n<p>Here is my build.gradle.kts:</p>\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n    //val kotlinVersion=&quot;1.7.22&quot;\n    val kotlinVersion=&quot;1.8.10&quot;\n    id(&quot;org.springframework.boot&quot;) version &quot;3.1.3&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.3&quot;\n    kotlin(&quot;jvm&quot;) version kotlinVersion\n    kotlin(&quot;plugin.spring&quot;) version kotlinVersion\n    kotlin(&quot;plugin.jpa&quot;) version kotlinVersion\n    kotlin(&quot;kapt&quot;) version kotlinVersion\n}\n\n\ngroup = &quot;deegixl.framework&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\njava.sourceCompatibility = JavaVersion.VERSION_17\n\nconfigurations {\n    compileOnly {\n        extendsFrom(configurations.annotationProcessor.get())\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jdbc&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-jdbc&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-thymeleaf&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-security&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-validation&quot;)\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\n\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\n    implementation(&quot;org.springframework.session:spring-session-jdbc&quot;)\n\n    implementation(&quot;commons-validator:commons-validator:1.7&quot;)\n\n    //implementation(&quot;jakarta.validation:jakarta.validation-api&quot;)\n    //implementation(&quot;org.hibernate.validator:hibernate-validator&quot;)\n    implementation(&quot;com.querydsl:querydsl-jpa:5.0.0:jakarta&quot;)\n\n    val openHtmlToPdfVersion=&quot;1.0.10&quot;\n    implementation(&quot;com.openhtmltopdf:openhtmltopdf-core:$openHtmlToPdfVersion&quot;)\n    implementation(&quot;com.openhtmltopdf:openhtmltopdf-pdfbox:$openHtmlToPdfVersion&quot;)\n\n    developmentOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\n\n    runtimeOnly(&quot;com.mysql:mysql-connector-j&quot;)\n    //implementation(&quot;mysql:mysql-connector-java:8.0.32&quot;)\n\n    kapt(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;)\n    kapt(&quot;com.querydsl:querydsl-apt:5.0.0:jakarta&quot;)\n\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n    testImplementation(&quot;org.springframework.security:spring-security-test&quot;)\n    annotationProcessor(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;)\n\n    implementation(&quot;org.springframework.security:spring-security-crypto:6.1.4&quot;)\n\n    implementation(&quot;org.bouncycastle:bcprov-jdk18on:1.76&quot;)\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions {\n        freeCompilerArgs = listOf(&quot;-Xjsr305=strict&quot;,&quot;-Xcontext-receivers&quot;)\n        jvmTarget = &quot;17&quot;\n    }\n}\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>The bouncycastle lib (&quot;org.bouncycastle:bcprov-jdk18on:1.76&quot;) is included in the build.gradle.kts. I checked into the corresponding jar and the class  org.bouncycastle.crypto.params.Argon2Parameters$Builder.class is present so I don't understand why I have this problem.</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":2,"creation_date":1695845613,"post_id":77190582,"comment_id":136079967,"body_markdown":"Maybe something like `public static &lt;T&gt; T getSomething(Supplier&lt;T&gt; codeToBeWrapped, Supplier&lt;T&gt; codeOnException) { try { return codeToBeWrapped.get(); } catch(Exception e) { return codeOnException.get(); } }` ... now, if the lambdas are too big, it may be worse.","body":"Maybe something like <code>public static &lt;T&gt; T getSomething(Supplier&lt;T&gt; codeToBeWrapped, Supplier&lt;T&gt; codeOnException) { try { return codeToBeWrapped.get(); } catch(Exception e) { return codeOnException.get(); } }</code> ... now, if the lambdas are too big, it may be worse."},{"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"score":0,"creation_date":1695846029,"post_id":77190582,"comment_id":136080022,"body_markdown":"That was the challenge I was running to. Ideally I&#39;d love it to be just one like, that is just the return List.of(1, 2, 3); for example. So maybe something like () -&gt; return List.of(1, 2, 3); It could even be something like return wrapperMethod(() -&gt; return List.of(1, 2, 3)); but the question is what does wrapperMethod(lambda) return?","body":"That was the challenge I was running to. Ideally I&#39;d love it to be just one like, that is just the return List.of(1, 2, 3); for example. So maybe something like () -&gt; return List.of(1, 2, 3); It could even be something like return wrapperMethod(() -&gt; return List.of(1, 2, 3)); but the question is what does wrapperMethod(lambda) return?"},{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":0,"creation_date":1695846411,"post_id":77190582,"comment_id":136080088,"body_markdown":"Maybe I&#39;m missing some context, but it seems it&#39;ll return whatever the supplier provides, `T` (the generic type) in my previous code. For `() -&gt; List.of(1, 2, 3)` it would be equivalent to `List&lt;Integer&gt;` (again, `T` handles it), for `() -&gt; List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)` it would be equivalent to `List&lt;String&gt;`","body":"Maybe I&#39;m missing some context, but it seems it&#39;ll return whatever the supplier provides, <code>T</code> (the generic type) in my previous code. For <code>() -&gt; List.of(1, 2, 3)</code> it would be equivalent to <code>List&lt;Integer&gt;</code> (again, <code>T</code> handles it), for <code>() -&gt; List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)</code> it would be equivalent to <code>List&lt;String&gt;</code>"},{"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"score":0,"creation_date":1695846488,"post_id":77190582,"comment_id":136080106,"body_markdown":"It&#39;s not even a list all the time. It could be anything. It could be custom classes. Think of it as similar to a service where you make a call to something to get some data back where the data could be of any type.","body":"It&#39;s not even a list all the time. It could be anything. It could be custom classes. Think of it as similar to a service where you make a call to something to get some data back where the data could be of any type."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1695849443,"post_id":77190582,"comment_id":136080619,"body_markdown":"Please post runnable code that explains your current situation better. Also, please tell us what you expect the outcome to be.","body":"Please post runnable code that explains your current situation better. Also, please tell us what you expect the outcome to be."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1695850082,"post_id":77190582,"comment_id":136080727,"body_markdown":"Is `boilerplate code` always the same, regardless of the exact type you return?","body":"Is <code>boilerplate code</code> always the same, regardless of the exact type you return?"},{"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"score":0,"creation_date":1695864683,"post_id":77190582,"comment_id":136082105,"body_markdown":"Boilerplate code is almost always the same.","body":"Boilerplate code is almost always the same."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695865141,"post_id":77190582,"comment_id":136082138,"body_markdown":"Your 2 different snippets simply aren&#39;t the same. Hence, what you want here is trivially impossible. I&#39;m not quite sure you think it&#39;s doable because you think `&quot;1&quot;` and `1` are kinda the same (in java, they just aren&#39;t), or if that was simply an example, and it&#39;s too oversimplified. Your question doesn&#39;t make sense unless you explain what the source is. _Possibly_ the answer involves `public static &lt;T&gt; List&lt;T&gt; getSomething(Source&lt;T&gt; sourceOfTs) { ... }`.","body":"Your 2 different snippets simply aren&#39;t the same. Hence, what you want here is trivially impossible. I&#39;m not quite sure you think it&#39;s doable because you think <code>&quot;1&quot;</code> and <code>1</code> are kinda the same (in java, they just aren&#39;t), or if that was simply an example, and it&#39;s too oversimplified. Your question doesn&#39;t make sense unless you explain what the source is. <i>Possibly</i> the answer involves <code>public static &lt;T&gt; List&lt;T&gt; getSomething(Source&lt;T&gt; sourceOfTs) { ... }</code>."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1695868354,"post_id":77190582,"comment_id":136082353,"body_markdown":"If I&#39;m interpreting the question correctly, the first comment that @lealceldeiro made does what you want, more or less. You would use it like this: `getSomething(() -&gt; List.of(1, 2, 3), () -&gt; throw new RuntimeException())` or `getSomething(() -&gt; List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;), () -&gt; throw new RuntimeException())` or `getSomething(() -&gt; new Object(), () -&gt; throw new RuntimeException())`. It&#39;s a bit hard to read in comment form vs. a formatted answer. It takes a second lambda for the exception handling because your original code doesn&#39;t show how exceptions are handled.","body":"If I&#39;m interpreting the question correctly, the first comment that @lealceldeiro made does what you want, more or less. You would use it like this: <code>getSomething(() -&gt; List.of(1, 2, 3), () -&gt; throw new RuntimeException())</code> or <code>getSomething(() -&gt; List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;), () -&gt; throw new RuntimeException())</code> or <code>getSomething(() -&gt; new Object(), () -&gt; throw new RuntimeException())</code>. It&#39;s a bit hard to read in comment form vs. a formatted answer. It takes a second lambda for the exception handling because your original code doesn&#39;t show how exceptions are handled."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1695868434,"post_id":77190582,"comment_id":136082357,"body_markdown":"Also, if the boilerplate is &quot;almost always the same&quot; but not 100% always the same, then there needs to be some way to handle when it&#39;s different. If you can expand the code to a fully-working example, someone should be able to write a good answer for you. Please see [mre].","body":"Also, if the boilerplate is &quot;almost always the same&quot; but not 100% always the same, then there needs to be some way to handle when it&#39;s different. If you can expand the code to a fully-working example, someone should be able to write a good answer for you. Please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695887803,"creation_date":1695887803,"answer_id":77193146,"question_id":77190582,"body_markdown":"It&#39;s unclear what `boilerplate code` does, so this is only a general approach. Use an abstraction for the execution of the different parts of boilerplate. The main `getSomething()` method will be somewhat like this:\r\n```\r\npublic static &lt;T&gt; T getSomething(Runnable boilerplate1, Runnable boilerplate2, Supplier&lt;T&gt; supplier, Runnable boilerplate3) {\r\n  boilerplate1.run();\r\n  try {\r\n    boilerplate2.run();\r\n    return supplier.get();\r\n  } catch (Exception exc) {\r\n    boilerplate3.run();\r\n    //or other handling\r\n    throw new RuntimeException(exc);\r\n  }\r\n}\r\n```\r\nProvide an overload with less parameters for the most cases (same boilerplate):\r\n```\r\npublic static &lt;T&gt; T getSomething(Supplier&lt;T&gt; supplier) {\r\n  Runnable boilerplate1 = () -&gt; {\r\n    //do stuff\r\n  };\r\n  Runnable boilerplate2 = () -&gt; {\r\n    //do stuff\r\n  };\r\n  Runnable boilerplate3 = () -&gt; {\r\n    //do stuff\r\n  };\r\n  return getSomething(boilerplate1, boilerplate2, supplier, boilerplate3);\r\n}\r\n```\r\nUsage:\r\n```\r\nList&lt;String&gt; strings = getSomething(() -&gt; List.of(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;));\r\nList&lt;Integer&gt; integers = getSomething(() -&gt; List.of(1, 2, 3));\r\n```\r\nIt was already mentioned in comments, but if boilerplate code is really big, lambdas might actually hurt readability. In this case normal classes implementing Runnable (or other interface, if this one does not match your needs) may be better.","title":"How do I wrap boilerplate code in potentially a lambda when the return type is different every time?","body":"<p>It's unclear what <code>boilerplate code</code> does, so this is only a general approach. Use an abstraction for the execution of the different parts of boilerplate. The main <code>getSomething()</code> method will be somewhat like this:</p>\n<pre><code>public static &lt;T&gt; T getSomething(Runnable boilerplate1, Runnable boilerplate2, Supplier&lt;T&gt; supplier, Runnable boilerplate3) {\n  boilerplate1.run();\n  try {\n    boilerplate2.run();\n    return supplier.get();\n  } catch (Exception exc) {\n    boilerplate3.run();\n    //or other handling\n    throw new RuntimeException(exc);\n  }\n}\n</code></pre>\n<p>Provide an overload with less parameters for the most cases (same boilerplate):</p>\n<pre><code>public static &lt;T&gt; T getSomething(Supplier&lt;T&gt; supplier) {\n  Runnable boilerplate1 = () -&gt; {\n    //do stuff\n  };\n  Runnable boilerplate2 = () -&gt; {\n    //do stuff\n  };\n  Runnable boilerplate3 = () -&gt; {\n    //do stuff\n  };\n  return getSomething(boilerplate1, boilerplate2, supplier, boilerplate3);\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>List&lt;String&gt; strings = getSomething(() -&gt; List.of(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;));\nList&lt;Integer&gt; integers = getSomething(() -&gt; List.of(1, 2, 3));\n</code></pre>\n<p>It was already mentioned in comments, but if boilerplate code is really big, lambdas might actually hurt readability. In this case normal classes implementing Runnable (or other interface, if this one does not match your needs) may be better.</p>\n"}],"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695889976,"creation_date":1695845293,"question_id":77190582,"body_markdown":"I&#39;ll preface it by saying the return type could by anything, it can be a string, a primitive, but it could also be classes I created. \r\n\r\nHow can I have the following code broken down to a single line with different return types:\r\n\r\n    public static List&lt;String&gt; getSomething()\r\n    {\r\n    \t// boilerplate code.\r\n    \ttry {\r\n    \t\t// boilerplate code.\r\n    \t\treturn List.of(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\r\n    \t} catch (Exception e) {\r\n    \t\t// boilerplate code\r\n    \t}\r\n    }\r\n    \r\n    public static List&lt;Integer&gt; getSomething()\r\n    {\r\n    \t// boilerplate code.\r\n    \ttry {\r\n    \t\t// boilerplate code.\r\n    \t\treturn List.of(1, 2, 3);\r\n    \t} catch (Exception e) {\r\n    \t\t// boilerplate code\r\n    \t}\r\n    }\r\n\r\nSo that I could just have `return List.of(...)` or even just something as simple `return new Object()`, etc.\r\n\r\n","title":"How do I wrap boilerplate code in potentially a lambda when the return type is different every time?","body":"<p>I'll preface it by saying the return type could by anything, it can be a string, a primitive, but it could also be classes I created.</p>\n<p>How can I have the following code broken down to a single line with different return types:</p>\n<pre><code>public static List&lt;String&gt; getSomething()\n{\n    // boilerplate code.\n    try {\n        // boilerplate code.\n        return List.of(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\n    } catch (Exception e) {\n        // boilerplate code\n    }\n}\n\npublic static List&lt;Integer&gt; getSomething()\n{\n    // boilerplate code.\n    try {\n        // boilerplate code.\n        return List.of(1, 2, 3);\n    } catch (Exception e) {\n        // boilerplate code\n    }\n}\n</code></pre>\n<p>So that I could just have <code>return List.of(...)</code> or even just something as simple <code>return new Object()</code>, etc.</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1695821956,"post_id":77186640,"comment_id":136075415,"body_markdown":"Because ignore means that the request is ignored from the security filter chain which means that the csrf filter is not invoked on that request. Why you are getting a 403 is for us impossible to tell since you have not provided what your raw request looks like or any debug or trace logs from the server.","body":"Because ignore means that the request is ignored from the security filter chain which means that the csrf filter is not invoked on that request. Why you are getting a 403 is for us impossible to tell since you have not provided what your raw request looks like or any debug or trace logs from the server."},{"owner":{"account_id":21625975,"reputation":52,"user_id":15950321,"display_name":"jadekim"},"score":0,"creation_date":1695823160,"post_id":77186640,"comment_id":136075705,"body_markdown":"@Toerktumlare trace error log did not appear. so, attached chrome capture image.","body":"@Toerktumlare trace error log did not appear. so, attached chrome capture image."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1695838445,"post_id":77186640,"comment_id":136078820,"body_markdown":"Please read my comment, the SERVERS logs, not the browser, not what is returned to browser. What the server writes to its log file or standard out.","body":"Please read my comment, the SERVERS logs, not the browser, not what is returned to browser. What the server writes to its log file or standard out."},{"owner":{"account_id":21625975,"reputation":52,"user_id":15950321,"display_name":"jadekim"},"score":0,"creation_date":1695858665,"post_id":77186640,"comment_id":136081652,"body_markdown":"@Toerktumlare I said there&#39;s nothing. I know what you want, but I don&#39;t","body":"@Toerktumlare I said there&#39;s nothing. I know what you want, but I don&#39;t"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1695889784,"post_id":77186640,"comment_id":136084965,"body_markdown":"When you start your spring server it starts writing stuff to the console. Thats the log","body":"When you start your spring server it starts writing stuff to the console. Thats the log"},{"owner":{"account_id":21625975,"reputation":52,"user_id":15950321,"display_name":"jadekim"},"score":0,"creation_date":1695890440,"post_id":77186640,"comment_id":136085113,"body_markdown":"@Toerktumlare Thank you for your effort to answer. However, this issue has been resolved and I have added the following answer.","body":"@Toerktumlare Thank you for your effort to answer. However, this issue has been resolved and I have added the following answer."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1695890856,"post_id":77186640,"comment_id":136085206,"body_markdown":"and i hope you are aware of the fact that using a JWT like you have done is insecure, and that is why there is no such filter in spring security because they also know its insecure. JWTs where never meant to be sent to browsers. So start googling why jwt should not be used as sessions. If you intend to use jwts as a server to server token then read the &quot;resource server&quot; chapter in the spring docs. But to browser just dont if you want a vulnerable application. good luck","body":"and i hope you are aware of the fact that using a JWT like you have done is insecure, and that is why there is no such filter in spring security because they also know its insecure. JWTs where never meant to be sent to browsers. So start googling why jwt should not be used as sessions. If you intend to use jwts as a server to server token then read the &quot;resource server&quot; chapter in the spring docs. But to browser just dont if you want a vulnerable application. good luck"}],"answers":[{"comments":[{"owner":{"account_id":21625975,"reputation":52,"user_id":15950321,"display_name":"jadekim"},"score":0,"creation_date":1695858945,"post_id":77190830,"comment_id":136081670,"body_markdown":"Thanks for your answer. but i didn&#39;t working with JSP. Spring Security automatically adds the CSRF input field into the form.","body":"Thanks for your answer. but i didn&#39;t working with JSP. Spring Security automatically adds the CSRF input field into the form."}],"tags":[],"owner":{"account_id":14441064,"reputation":11,"user_id":22647140,"display_name":"StefanosKapa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695849593,"creation_date":1695848159,"answer_id":77190830,"question_id":77186640,"body_markdown":"As correctly mentioned, when using `.ignoringAntMatchers(&quot;/account/logout&quot;)` you are disabling CSRF protection for that endpoint. The reason behind the 403 response could be that the CSRF token is not part of the POST request. \r\n\r\nThere are different ways to do this, but a common approach is to have the token in a hidden input field within your form. For example, if you are working with JSP, an easy way to do it is to access and render the CSRF token with Expression Language, by using `${_csrf.parameterName}` and `${_csrf.token}`.\r\n\r\nAn example:\r\n\r\n    &lt;form action=&quot;/logout&quot; method=&quot;post&quot;&gt;\r\n      &lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot;/&gt;\r\n      &lt;input type=&quot;submit&quot; value=&quot;Log out&quot;/&gt;\r\n    &lt;/form&gt;\r\n\r\nand Spring takes care of the rest. More info here:\r\n\r\nhttps://docs.spring.io/spring-security/site/docs/5.0.x/reference/html/csrf.html#csrf-include-csrf-token\r\n","title":"Spring Security - 403 error occurs when CSRF is enabled and logout requests","body":"<p>As correctly mentioned, when using <code>.ignoringAntMatchers(&quot;/account/logout&quot;)</code> you are disabling CSRF protection for that endpoint. The reason behind the 403 response could be that the CSRF token is not part of the POST request.</p>\n<p>There are different ways to do this, but a common approach is to have the token in a hidden input field within your form. For example, if you are working with JSP, an easy way to do it is to access and render the CSRF token with Expression Language, by using <code>${_csrf.parameterName}</code> and <code>${_csrf.token}</code>.</p>\n<p>An example:</p>\n<pre><code>&lt;form action=&quot;/logout&quot; method=&quot;post&quot;&gt;\n  &lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot;/&gt;\n  &lt;input type=&quot;submit&quot; value=&quot;Log out&quot;/&gt;\n&lt;/form&gt;\n</code></pre>\n<p>and Spring takes care of the rest. More info here:</p>\n<p><a href=\"https://docs.spring.io/spring-security/site/docs/5.0.x/reference/html/csrf.html#csrf-include-csrf-token\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/5.0.x/reference/html/csrf.html#csrf-include-csrf-token</a></p>\n"},{"tags":[],"owner":{"account_id":21625975,"reputation":52,"user_id":15950321,"display_name":"jadekim"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1695889960,"creation_date":1695869631,"answer_id":77191916,"question_id":77186640,"body_markdown":"The cause of this issue was the **Stateless session** setting. By default, Spring Security stores the expected CSRF token in the HttpSession by using `HttpSessionCsrfTokenRepository`. So, the CSRF token could not be loaded.\r\n\r\nI was able to persist the CsrfToken in a cookie using the `CookieCsrfTokenRepository`.\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t\t// ...\r\n\t\t\t.csrf((csrf) -&gt; csrf\r\n\t\t\t\t.csrfTokenRepository(new CookieCsrfTokenRepository())\r\n\t\t\t);\r\n\t\treturn http.build();\r\n\t}\r\n}\r\n```\r\n\r\nhttps://docs.spring.io/spring-security/reference/servlet/exploits/csrf.html#csrf-token-repository-cookie\r\n\r\nIn addition, after applying a stateless session, it was regenerated by the `CsrfAuthenticationStrategy`, resulting in a token mismatch error. This issue was solved by placing the `jwtFilter` before the `ExceptionTranslationFilter` or after the `SessionMnagmentationFilter`.","title":"Spring Security - 403 error occurs when CSRF is enabled and logout requests","body":"<p>The cause of this issue was the <strong>Stateless session</strong> setting. By default, Spring Security stores the expected CSRF token in the HttpSession by using <code>HttpSessionCsrfTokenRepository</code>. So, the CSRF token could not be loaded.</p>\n<p>I was able to persist the CsrfToken in a cookie using the <code>CookieCsrfTokenRepository</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n            // ...\n            .csrf((csrf) -&gt; csrf\n                .csrfTokenRepository(new CookieCsrfTokenRepository())\n            );\n        return http.build();\n    }\n}\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-security/reference/servlet/exploits/csrf.html#csrf-token-repository-cookie\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/exploits/csrf.html#csrf-token-repository-cookie</a></p>\n<p>In addition, after applying a stateless session, it was regenerated by the <code>CsrfAuthenticationStrategy</code>, resulting in a token mismatch error. This issue was solved by placing the <code>jwtFilter</code> before the <code>ExceptionTranslationFilter</code> or after the <code>SessionMnagmentationFilter</code>.</p>\n"}],"owner":{"account_id":21625975,"reputation":52,"user_id":15950321,"display_name":"jadekim"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77191916,"answer_count":2,"score":0,"last_activity_date":1695889960,"creation_date":1695810482,"question_id":77186640,"body_markdown":"As shown below, the document says that you can make a logout post request with the csrf token. If I got it right....\r\nhttps://docs.spring.io/spring-security/reference/servlet/authentication/logout.html\r\n&gt; Aside from providing a valuable double-checking mechanism for the user, it also provides a simple way to provide the needed CSRF token to POST /logout.\r\n\r\nBut 403 errors occur when CSRF is enabled and logout request. And I was able to fix the error by specifying `csrf().ignoreAntMatchers({logout url})`.\r\n\r\nAs forementioned, the document said to provide csrf tokens, but why does it work without errors when I used `ignoreAntMatchers` it?\r\n\r\n### securityFilterChain\r\n\r\n```java\r\npublic SecurityFilterChain securityFilterChain(\r\n            HttpSecurity http,\r\n            OAuth2UserService&lt;OAuth2UserRequest, OAuth2User&gt; oAuth2UserService,\r\n            CustomOAuth2SuccessHandler customOAuth2SuccessHandler\r\n    ) throws Exception {\r\n        return http\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                        .requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll()\r\n                        .mvcMatchers(\r\n                                ...\r\n                                &quot;/account/logout&quot;\r\n                        ).permitAll()\r\n                        .mvcMatchers(\r\n                                &quot;/account/login&quot;,\r\n                                ...\r\n                        ).hasRole(&quot;ANONYMOUS&quot;)\r\n                        ...\r\n                )\r\n                .csrf()\r\n                    .ignoringAntMatchers(&quot;/account/logout&quot;)\r\n                .and()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                ...\r\n                .and()\r\n                    .formLogin().disable()\r\n                    .logout(logout -&gt; logout\r\n                            .logoutUrl(&quot;/account/logout&quot;)\r\n                    )\r\n                    .oauth2Login(oAuth -&gt; oAuth\r\n                            .loginPage(&quot;/account/login&quot;)\r\n                            .userInfoEndpoint(userInfo -&gt; userInfo\r\n                                    .userService(oAuth2UserService))\r\n                            .successHandler(customOAuth2SuccessHandler)\r\n                    )\r\n                    //i&#39;m using jwt token\r\n                    .addFilterBefore(\r\n                            new JwtTokenFilter(userAccountService, jwtProperties),\r\n                            BasicAuthenticationFilter.class)\r\n                    ...\r\n    }\r\n```\r\n\r\n### Custom Logout Endpoint\r\n\r\n```java\r\nSecurityContextLogoutHandler logoutHandler = new SecurityContextLogoutHandler();\r\n\r\n@PostMapping(&quot;/account/logout&quot;)\r\npublic String requestLogout(Authentication authentication, HttpServletRequest request, HttpServletResponse response) {\r\n        this.logoutHandler.logout(request, response, authentication);\r\n\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n```\r\n\r\n### FrontEnd\r\n\r\n```html\r\n    &lt;form id=&quot;logout&quot; action=&quot;/account/logout&quot; method=&quot;post&quot;&gt;\r\n        &lt;button type=&quot;submit&quot; class=&quot;btn text-success p-0&quot;&gt;LogOut&lt;/button&gt;\r\n    &lt;/form&gt;\r\n```\r\n\r\n### Error on chrome\r\n\r\ntrace error log did not appear. **server logs there&#39;s nothing.**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y0sDo.png\r\n  [2]: https://i.stack.imgur.com/lSogK.png","title":"Spring Security - 403 error occurs when CSRF is enabled and logout requests","body":"<p>As shown below, the document says that you can make a logout post request with the csrf token. If I got it right....\n<a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/logout.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/authentication/logout.html</a></p>\n<blockquote>\n<p>Aside from providing a valuable double-checking mechanism for the user, it also provides a simple way to provide the needed CSRF token to POST /logout.</p>\n</blockquote>\n<p>But 403 errors occur when CSRF is enabled and logout request. And I was able to fix the error by specifying <code>csrf().ignoreAntMatchers({logout url})</code>.</p>\n<p>As forementioned, the document said to provide csrf tokens, but why does it work without errors when I used <code>ignoreAntMatchers</code> it?</p>\n<h3>securityFilterChain</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public SecurityFilterChain securityFilterChain(\n            HttpSecurity http,\n            OAuth2UserService&lt;OAuth2UserRequest, OAuth2User&gt; oAuth2UserService,\n            CustomOAuth2SuccessHandler customOAuth2SuccessHandler\n    ) throws Exception {\n        return http\n                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll()\n                        .mvcMatchers(\n                                ...\n                                &quot;/account/logout&quot;\n                        ).permitAll()\n                        .mvcMatchers(\n                                &quot;/account/login&quot;,\n                                ...\n                        ).hasRole(&quot;ANONYMOUS&quot;)\n                        ...\n                )\n                .csrf()\n                    .ignoringAntMatchers(&quot;/account/logout&quot;)\n                .and()\n                    .sessionManagement()\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                ...\n                .and()\n                    .formLogin().disable()\n                    .logout(logout -&gt; logout\n                            .logoutUrl(&quot;/account/logout&quot;)\n                    )\n                    .oauth2Login(oAuth -&gt; oAuth\n                            .loginPage(&quot;/account/login&quot;)\n                            .userInfoEndpoint(userInfo -&gt; userInfo\n                                    .userService(oAuth2UserService))\n                            .successHandler(customOAuth2SuccessHandler)\n                    )\n                    //i'm using jwt token\n                    .addFilterBefore(\n                            new JwtTokenFilter(userAccountService, jwtProperties),\n                            BasicAuthenticationFilter.class)\n                    ...\n    }\n</code></pre>\n<h3>Custom Logout Endpoint</h3>\n<pre class=\"lang-java prettyprint-override\"><code>SecurityContextLogoutHandler logoutHandler = new SecurityContextLogoutHandler();\n\n@PostMapping(&quot;/account/logout&quot;)\npublic String requestLogout(Authentication authentication, HttpServletRequest request, HttpServletResponse response) {\n        this.logoutHandler.logout(request, response, authentication);\n\n        return &quot;redirect:/&quot;;\n    }\n</code></pre>\n<h3>FrontEnd</h3>\n<pre class=\"lang-html prettyprint-override\"><code>    &lt;form id=&quot;logout&quot; action=&quot;/account/logout&quot; method=&quot;post&quot;&gt;\n        &lt;button type=&quot;submit&quot; class=&quot;btn text-success p-0&quot;&gt;LogOut&lt;/button&gt;\n    &lt;/form&gt;\n</code></pre>\n<h3>Error on chrome</h3>\n<p>trace error log did not appear. <strong>server logs there's nothing.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/y0sDo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y0sDo.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/lSogK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lSogK.png\" alt=\"enter image description here\" /></a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9977,"page":157,"page_size":100}
